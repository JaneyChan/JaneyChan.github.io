const _0x280047=(function(){let _0x2a509c=!![];return function(_0x5df6c6,_0x33a3c3){const _0x2d631b=_0x2a509c?function(){if(_0x33a3c3){const _0x46177=_0x33a3c3['apply'](_0x5df6c6,arguments);return _0x33a3c3=null,_0x46177;}}:function(){};return _0x2a509c=![],_0x2d631b;};}()),_0x3c39f8=_0x280047(this,function(){return _0x3c39f8['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x3c39f8)['search']('(((.+)+)+)'+'+$');});_0x3c39f8();const _0x609226=(function(){let _0x2389eb=!![];return function(_0x260073,_0x23f134){const _0x47253e=_0x2389eb?function(){if(_0x23f134){const _0x397507=_0x23f134['apply'](_0x260073,arguments);return _0x23f134=null,_0x397507;}}:function(){};return _0x2389eb=![],_0x47253e;};}());(function(){_0x609226(this,function(){const _0x3ae9f5=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x3077f3=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x4947fe=_0x509898('init');!_0x3ae9f5['test'](_0x4947fe+'chain')||!_0x3077f3['test'](_0x4947fe+'input')?_0x4947fe('0'):_0x509898();})();}());const _0x4c2fbe=(function(){let _0x262257=!![];return function(_0x3e63d9,_0x13bb43){const _0xda870c=_0x262257?function(){if(_0x13bb43){const _0x25b933=_0x13bb43['apply'](_0x3e63d9,arguments);return _0x13bb43=null,_0x25b933;}}:function(){};return _0x262257=![],_0xda870c;};}()),_0x573665=_0x4c2fbe(this,function(){const _0x25355d=function(){let _0x2f87d6;try{_0x2f87d6=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x6d50f6){_0x2f87d6=window;}return _0x2f87d6;},_0x1a92cd=_0x25355d(),_0x19fa4e=_0x1a92cd['console']=_0x1a92cd['console']||{},_0x2a5f28=['log','warn','info','error','exception','table','trace'];for(let _0x1fb659=0x14e0+-0x1133+-0x3ad;_0x1fb659<_0x2a5f28['length'];_0x1fb659++){const _0x234b13=_0x4c2fbe['constructo'+'r']['prototype']['bind'](_0x4c2fbe),_0x3a6c91=_0x2a5f28[_0x1fb659],_0xb68d78=_0x19fa4e[_0x3a6c91]||_0x234b13;_0x234b13['__proto__']=_0x4c2fbe['bind'](_0x4c2fbe),_0x234b13['toString']=_0xb68d78['toString']['bind'](_0xb68d78),_0x19fa4e[_0x3a6c91]=_0x234b13;}});_0x573665();var k0=Object['defineProp'+'erty'],U0=(_0xeae0c6,_0x1ec00b,_0x9f70ce)=>_0x1ec00b in _0xeae0c6?k0(_0xeae0c6,_0x1ec00b,{'enumerable':!(0x67*-0x10+0x7*-0x2ba+0x9*0x2d6),'configurable':!(-0x1*0x72d+0x1fa6+-0x1879),'writable':!(-0x6a7+-0x442+0xae9),'value':_0x9f70ce}):_0xeae0c6[_0x1ec00b]=_0x9f70ce,h=(_0x313009,_0x4980e9,_0xba77c)=>U0(_0x313009,typeof _0x4980e9!='symbol'?_0x4980e9+'':_0x4980e9,_0xba77c),B0=(_0x96f2d2=>(_0x96f2d2['HIGH']='high',_0x96f2d2['MEDIUM']='medium',_0x96f2d2['LOW']='low',_0x96f2d2['LOW_VR']='lowVR',_0x96f2d2))(B0||{});const z0=()=>!HS()&&!WS()&&!GS()&&!V0(),GS=()=>{const _0x1daad1=navigator['userAgent']['includes']('Macintosh'),_0x1569dc=navigator['maxTouchPo'+'ints']===-0xdf7+-0x1d48*0x1+0xad1*0x4,_0x31c4b5=/^((?!chrome|android).)*safari/i['test'](navigator['userAgent']);return _0x1daad1&&_0x1569dc&&_0x31c4b5;},HS=()=>navigator['userAgent']['includes']('Quest'),V0=()=>{const _0xda93d4=navigator['userAgent']['toLowerCas'+'e']();return _0xda93d4['includes']('pico')||_0xda93d4['includes']('picolrowse'+'r');},WS=()=>['iOS','Android']['includes'](G0()),FU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),NU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),G0=()=>{const _0x3e4258=window['navigator']['userAgent']['toLowerCas'+'e'](),_0x1985cb=window['navigator']['platform']['toLowerCas'+'e']();return/iphone|ipad|ipod/['test'](_0x3e4258)?'iOS':/android/['test'](_0x3e4258)?'Android':/mac/['test'](_0x1985cb)?'macOS':/win/['test'](_0x1985cb)?'Windows':/linux/['test'](_0x1985cb)?'Linux':'Unknown';};class kU{constructor(){this['HIGH_FPS_T'+'HRESHOLD']=-0x1b3d+-0x16d8+0x1*0x3242,this['MEDIUM_FPS'+'_THRESHOLD']=-0x52*0x47+0x1*-0x511+0x1bed,this['HIGH_MEMOR'+'Y_THRESHOL'+'D']=(0x103f+-0x1*0x427+-0x4*0x305)*(0xdb4+-0x1f*0x54+0x78)*(0x10*0x15a+0x1375+-0x35f*0xb)*(-0x2d4+0x191b+-0x1247),this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']=(0x21d*-0x11+0x92a+-0x7*-0x3d3)*(-0xda*0x5+-0x1744*-0x1+-0xf02)*(0x1670+0x1ba8*0x1+-0x2e18)*(0x143b+-0x1*0x1d59+-0x92*-0x17),this['SCORE_THRE'+'SHOLDS']={'HIGH':0x46,'MEDIUM':0x32,'LOW':0x1e},this['VENDOR_WEI'+'GHTS']={'nvidia':0x1,'amd':0.9,'apple':0.8,'intel':0.6,'qualcomm':0.5,'arm':0.4},this['HIGH_END_P'+'ATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*[3-4]|titan\s*(?:rtx|xp|v))|quadro\s+(?:rtx|a[0-9]+)/i,/a[1-9][0-9]+/i],'amd':[/radeon\s+(?:rx\s*[6-9]|rx\s*7[0-9]+|pro\s*w[5-9])|instinct\s+mi[2-9]/i],'apple':[/m[1-3]\s+(?:pro|max|ultra)?/i]},this['MEDIUM_END'+'_PATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*2|gtx\s*1[6-9])|quadro\s+(?:p[2-9]|t[1-9])/i],'amd':[/radeon\s+(?:rx\s*[4-5]|vega\s*[5-9])|pro\s*w[2-4]/i],'apple':[/a[1-9][0-9]+\s+(?:x|z)?/i]},this['LOW_END_PA'+'TTERNS']={'intel':[/(?:hd|uhd|iris|xe)\s*graphics\s*(?:[6-9][0-9]+|[1-9][0-9]+g)/i],'qualcomm':[/adreno\s*[6-9][0-9]+/i],'arm':[/mali\s*-?(?:g[7-9][0-9]|t[8-9][0-9])/i]};}['getVendorS'+'core'](_0x568919){const _0x52dca6=_0x568919['toLowerCas'+'e']();for(const [_0x29a56a,_0x3126d1]of Object['entries'](this['VENDOR_WEI'+'GHTS']))if(_0x52dca6['includes'](_0x29a56a))return _0x3126d1*(-0x147*-0x2+0x1f54+-0x217e);return-0x10fd+0x17e9*0x1+0xe*-0x7b;}['getModelSc'+'ore'](_0x5df6d6,_0x52e64f){const _0x3eb056=_0x5df6d6['toLowerCas'+'e'](),_0x597a6f=_0x52e64f['toLowerCas'+'e']();for(const [_0x38edb6,_0x140367]of Object['entries'](this['HIGH_END_P'+'ATTERNS']))if(_0x3eb056['includes'](_0x38edb6)&&_0x140367['some'](_0x211281=>_0x211281['test'](_0x597a6f)))return 0x246a*-0x1+-0x225+-0x7*-0x58f;for(const [_0x357861,_0x224289]of Object['entries'](this['MEDIUM_END'+'_PATTERNS']))if(_0x3eb056['includes'](_0x357861)&&_0x224289['some'](_0x300797=>_0x300797['test'](_0x597a6f)))return 0x1504+0x17*-0x53+-0xd49*0x1;for(const [_0x5dcad5,_0x1124b1]of Object['entries'](this['LOW_END_PA'+'TTERNS']))if(_0x3eb056['includes'](_0x5dcad5)&&_0x1124b1['some'](_0x3bfa23=>_0x3bfa23['test'](_0x597a6f)))return-0x8*-0x3d9+-0x2388+0x4f2;return-0xb*-0x146+0x2660+0x537*-0xa;}['getMemoryS'+'core'](_0x21f9e3){return _0x21f9e3?_0x21f9e3>=0x1ba3+-0x2*0x2d54+-0x1*-0x6de5?0x1e73+0x431+-0x2240:_0x21f9e3>=0x1*0x2d15+0x2fdf+0x3db4*-0x1?-0x1c70+-0x11a4*-0x1+0xb26:_0x21f9e3>=0x1*-0x236d+0x776+-0x3367*-0x1?-0x1f1*0x14+-0x1262+0x18e*0x25:_0x21f9e3>=-0xfe0+0x242d+-0x4ad?0xe54*-0x2+-0x641*-0x5+-0x257:_0x21f9e3>=0x371+0x1d3*-0x5+0x6bf*0x2?0x2c1*-0x9+-0x1*0xc37+0x4*0x94f:-0x9cb+-0x1d70+0x276d:-0x176d+0x237e+-0x3*0x3f5;}['getDriverS'+'core'](_0x318acc){if(!_0x318acc)return 0x1527+0xed3+-0x23c8;const _0x590394=_0x318acc['match'](/20[2-9][0-9]/);if(_0x590394){const _0x31c49f=parseInt(_0x590394[0x258b+-0x1bd4+-0x9b7]);if(_0x31c49f>=0xb5*0xe+-0x1391*-0x1+-0x50*0x45)return 0x236*0xe+-0x4*-0x7f6+-0x3e68;if(_0x31c49f>=0x1431+0x95*-0x25+0x93e)return 0x1405+-0x1f59+0xba4;if(_0x31c49f>=0x628+-0x2b*0x73+-0x62*-0x37)return 0x8b5+0x88*0xb+-0xe51;}return-0x14*0x1de+0x22+0x54*0x72;}['evaluateGP'+'U'](_0xfb7893){const _0x422b1e=this['getVendorS'+'core'](_0xfb7893['vendor']),_0x11da6e=this['getModelSc'+'ore'](_0xfb7893['vendor'],_0xfb7893['renderer']),_0x446cd5=this['getMemoryS'+'core'](_0xfb7893['memory']),_0x1a2da4=this['getDriverS'+'core'](_0xfb7893['driverVers'+'ion']);return console['log']('GPU:',_0xfb7893['vendor']),console['log']('GPU:',_0xfb7893['renderer']),console['log']('GPU:',_0xfb7893['driverVers'+'ion']),console['table'](_0xfb7893),_0x422b1e*(-0x1*-0xf83+0x2258+-0x31db+0.3)+_0x11da6e*(0xa91+0x212e+-0x2bbf+0.4)+_0x446cd5*(-0xf*0x17b+0x48c+0x11a9+0.2)+_0x1a2da4*(0x28d+0xce*-0x16+0xf27+0.1);}['evaluateCP'+'U'](){const _0x21c51a=navigator['hardwareCo'+'ncurrency'];return _0x21c51a>=-0x16e2+0x43*0x5f+0x1f3*-0x1?0x1a73+-0x4*0x539+-0x47*0x14:_0x21c51a>=-0x10*-0x1d5+0xcd9+-0x2a25?-0xf1d*0x1+-0x236+-0x9*-0x1ed:-0x7dc*-0x2+0x2159+-0x3110;}['evaluateMe'+'mory'](_0x5075f9){return typeof _0x5075f9=='string'?-0x370+0x10fe+-0xd8e:_0x5075f9['totalJSHea'+'pSize'];}['evaluatePe'+'rformance'](_0xf3d9b1){const _0x5f1e35=WS(),_0x3fc3f8=GS(),_0x45dedb=HS();if(_0x3fc3f8)return'medium';if(_0x45dedb)return'lowVR';if(_0x5f1e35)return'low';const _0x1f5c5b=_0xf3d9b1['fps']>=this['HIGH_FPS_T'+'HRESHOLD']?0xd4f+0x2003+-0x2d4f:_0xf3d9b1['fps']>=this['MEDIUM_FPS'+'_THRESHOLD']?-0x1aaa+-0x3ab+-0x1e57*-0x1:0xfe0+-0x1d8+-0xe07;let _0x90e7e0=0x7ef*-0x1+0x18c+0x664;typeof _0xf3d9b1['gpuInfo']!='string'&&(_0x90e7e0=this['evaluateGP'+'U'](_0xf3d9b1['gpuInfo']));const _0x10ef33=this['evaluateCP'+'U'](),_0x5c558b=this['evaluateMe'+'mory'](_0xf3d9b1['memoryInfo'])>=this['HIGH_MEMOR'+'Y_THRESHOL'+'D']?0x1*0x351+-0x12ae*0x1+-0x1*-0xf60:this['evaluateMe'+'mory'](_0xf3d9b1['memoryInfo'])>=this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']?0x1b57+0x15*-0x37+-0x16d2:-0xc06+-0x2150+0x2d57,_0x5ce4de=_0x1f5c5b+_0x90e7e0+_0x10ef33+_0x5c558b;return console['log']('GPU:',_0x1f5c5b,_0x90e7e0,_0x10ef33,_0x5c558b),_0x5ce4de>=this['SCORE_THRE'+'SHOLDS']['HIGH']?'high':_0x5ce4de>=this['SCORE_THRE'+'SHOLDS']['MEDIUM']?'medium':'low';}['getModelQu'+'alitySetti'+'ngs'](_0x4f3edf){return{'high':{'textureQuality':'high'},'medium':{'textureQuality':'medium'},'low':{'textureQuality':'low'},'lowVR':{'textureQuality':'lowVR'}}[_0x4f3edf];}}const H0=()=>{globalThis['requestIdl'+'eCallback']=globalThis['requestIdl'+'eCallback']||function(_0x1e3b63){var _0x2416a5=Date['now']();return setTimeout(function(){_0x1e3b63({'didTimeout':!(-0x24b+-0x2*0x422+-0x8*-0x152),'timeRemaining':function(){return Math['max'](-0xae*0xe+-0x1c7f+0x2603,-0x65b*-0x5+-0x169d+0x8*-0x11f-(Date['now']()-_0x2416a5));}});},0x165e+-0x41*-0x88+-0x3*0x12f7);},globalThis['cancelIdle'+'Callback']=globalThis['cancelIdle'+'Callback']||function(_0x38d836){clearTimeout(_0x38d836);};},W0='RenderFram'+'e',Ld='RenderFram'+'eTime',Pm='RenderPass',cn='RenderPass'+'Detail',Vl='RenderActi'+'on',Mm='RenderTarg'+'etAlloc',Dm='TextureAll'+'oc',Im='ShaderAllo'+'c',$0='ShaderComp'+'ile',X0='VRAM.Textu'+'re',q0='VRAM.Vb',j0='VRAM.Ib',Y0='BindGroupA'+'lloc',K0='BindGroupF'+'ormatAlloc',Vs='Element',Z0='Textures',Gl='GpuTimings',hn='$_CURRENT_'+'SDK_VERSIO'+'N',$S='$_CURRENT_'+'SDK_REVISI'+'ON';function ah(_0x23040c,_0x37ac46){for(const _0x496383 in _0x37ac46){const _0x4841c0=_0x37ac46[_0x496383];Array['isArray'](_0x4841c0)?_0x23040c[_0x496383]=ah([],_0x4841c0):_0x4841c0&&typeof _0x4841c0=='object'?_0x23040c[_0x496383]=ah({},_0x4841c0):_0x23040c[_0x496383]=_0x4841c0;}return _0x23040c;}const Q0={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x51f0f8=>{const _0x1571a6=Math['random']()*(0x91a+0x1eb*0x10+-0x6*0x69f)|0x18d*0x8+0xe6e*-0x1+0x206;return(_0x51f0f8==='x'?_0x1571a6:_0x1571a6&-0x8*0x2d+0x48*-0x3a+0x11bb|0x1a4f+-0x22ac+-0x865*-0x1)['toString'](-0x62b*0x1+0x4b3*0x8+-0x1f5d);});}},xe={'delimiter':'/','join'(..._0x40a076){let _0x13e9fe=_0x40a076[-0x1927*-0x1+-0x3d8+-0x154f];for(let _0x39197c=0x2623+0xd81*0x1+-0x33a4;_0x39197c<_0x40a076['length']-(0x29*-0xe3+-0x1aff*0x1+-0x14b*-0x31);_0x39197c++){const _0x478245=_0x40a076[_0x39197c],_0x3d2733=_0x40a076[_0x39197c+(0x2578+-0x1564+0x5*-0x337)];if(_0x3d2733[0x1da*0x7+0xa86*0x2+-0x2202]===xe['delimiter']){_0x13e9fe=_0x3d2733;continue;}_0x478245&&_0x3d2733&&_0x478245[_0x478245['length']-(-0x1974+-0x16*-0xb3+0xa13)]!==xe['delimiter']&&_0x3d2733[0xd1a+-0xe*0x235+0x11cc]!==xe['delimiter']?_0x13e9fe+=xe['delimiter']+_0x3d2733:_0x13e9fe+=_0x3d2733;}return _0x13e9fe;},'normalize'(_0x2d7abe){const _0x24d345=_0x2d7abe['startsWith'](xe['delimiter']),_0xbf7a39=_0x2d7abe['endsWith'](xe['delimiter']),_0x55248e=_0x2d7abe['split']('/');let _0x2c814b='',_0x34845f=[];for(let _0x2d18b1=0x1*-0x182+0x14+-0x3d*-0x6;_0x2d18b1<_0x55248e['length'];_0x2d18b1++)if(_0x55248e[_0x2d18b1]!==''&&_0x55248e[_0x2d18b1]!=='.'){if(_0x55248e[_0x2d18b1]==='..'&&_0x34845f['length']>0xf91*-0x1+0x1806+0x5*-0x1b1){_0x34845f=_0x34845f['slice'](-0x2a1*-0xd+-0x1*0xc56+-0x15d7*0x1,_0x34845f['length']-(-0x1d7b+-0x1*0x6d3+0x2450));continue;}_0x2d18b1>0xc99+-0x8b*-0x2d+0x6*-0x62c&&_0x34845f['push'](xe['delimiter']),_0x34845f['push'](_0x55248e[_0x2d18b1]);}return _0x2c814b=_0x34845f['join'](''),!_0x24d345&&_0x2c814b[0x947+-0x11f0+0x8a9*0x1]===xe['delimiter']&&(_0x2c814b=_0x2c814b['slice'](0x1806+-0x5*-0xf3+-0x1*0x1cc4)),_0xbf7a39&&_0x2c814b[_0x2c814b['length']-(0x7*-0x3b9+-0x26f1+0x15ab*0x3)]!==xe['delimiter']&&(_0x2c814b+=xe['delimiter']),_0x2c814b;},'split'(_0x2f694f){const _0x573f1c=_0x2f694f['lastIndexO'+'f'](xe['delimiter']);return _0x573f1c!==-(0x146e+-0x208e+0x3*0x40b)?[_0x2f694f['substring'](-0x219a+0xbc0+0x15da,_0x573f1c),_0x2f694f['substring'](_0x573f1c+(-0xb8c+0x8a6+0x1*0x2e7))]:['',_0x2f694f];},'getBasename'(_0x33168a){return xe['split'](_0x33168a)[-0x590+0x7d7*0x3+-0x11f4];},'getDirectory'(_0x277ff9){return xe['split'](_0x277ff9)[-0x1624+0x12*0x189+0x2*-0x2bf];},'getExtension'(_0x4fde18){const _0x25d435=_0x4fde18['split']('?')[0x3f6*0x7+0x2ff+0x25d*-0xd]['split']('.')['pop']();return _0x25d435!==_0x4fde18?'.'+_0x25d435:'';},'isRelativePath'(_0x57d325){return _0x57d325['charAt'](-0x23bd+0x5*-0x15e+0x2a93)!=='/'&&_0x57d325['match'](/:\/\//)===null;},'extractPath'(_0x2efe15){let _0x393e28='';const _0x40635d=_0x2efe15['split']('/');let _0x5a899a=0xb*-0xc5+0x19d5+-0x115e;if(_0x40635d['length']>0x4f*-0x71+0x1743*-0x1+-0xb*-0x549){if(xe['isRelative'+'Path'](_0x2efe15)){if(_0x40635d[0x1980+0x1aec+-0x53e*0xa]==='.'){for(_0x5a899a=0x3*-0x92c+0x3b1+-0x39*-0x6b;_0x5a899a<_0x40635d['length']-(0x389*0x1+0x71a+0x2*-0x551);++_0x5a899a)_0x393e28+=_0x5a899a===0x2*-0x10a+0x1c*-0xc4+0x1784?_0x40635d[_0x5a899a]:'/'+_0x40635d[_0x5a899a];}else{if(_0x40635d[-0x1e95+-0x24cc+0x4361]==='..'){for(_0x5a899a=-0xbfc*-0x2+0xa81+-0x2279;_0x5a899a<_0x40635d['length']-(-0xa47*-0x1+0x1*-0x86f+-0x1*0x1d7);++_0x5a899a)_0x393e28+=_0x5a899a===-0x21f8+0x5*-0x314+0x315c?_0x40635d[_0x5a899a]:'/'+_0x40635d[_0x5a899a];}else{for(_0x393e28='.',_0x5a899a=0xd*0x18d+-0xe47*0x2+0x865;_0x5a899a<_0x40635d['length']-(-0x2*0x42d+0x1594+-0xd39);++_0x5a899a)_0x393e28+='/'+_0x40635d[_0x5a899a];}}}else{for(_0x5a899a=-0xfa0+-0x11b*0x21+0x341b;_0x5a899a<_0x40635d['length']-(-0x589*-0x1+0xa7c+-0x1004);++_0x5a899a)_0x393e28+=_0x5a899a===-0x3*0x4b5+0x5*-0x3a6+0x205d?_0x40635d[_0x5a899a]:'/'+_0x40635d[_0x5a899a];}}return _0x393e28;}},J0=()=>{let _0x16a25b=!(0x2579+0x19*-0x8f+-0x1781);try{const _0x273549=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x16a25b=!(0x1058*0x1+-0x828*0x4+-0x412*-0x4),!(0x2e9*0x1+-0x181f+0x1537);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x273549),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x273549);}catch{}return _0x16a25b;},Bi=typeof navigator<'u'?navigator['userAgent']:'',nh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Lm=/android/i['test'](Bi)?'android':/ip(?:[ao]d|hone)/i['test'](Bi)?'ios':/windows/i['test'](Bi)?'windows':/mac os/i['test'](Bi)?'osx':/linux/i['test'](Bi)?'linux':/cros/i['test'](Bi)?'cros':null,ex=nh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](Bi)?'chrome':/Safari\//['test'](Bi)?'safari':/Firefox\//['test'](Bi)?'firefox':'other',tx=nh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>0x19ee+-0xc*0x1d8+-0x3ce),sx=J0(),Ae={'name':Lm,'browser':nh==='browser','worker':nh==='worker','android':Lm==='android','touch':tx,'passiveEvents':sx,'browserName':ex},XS='abcdefghij'+'klmnopqrst'+'uvwxyz',qS='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',ix=XS+qS,Bf=-0xa160+-0x12aac+0x2a40c,jS=0x158a+-0x5*-0x550d+-0xe2cc,Rm=-0x7741+-0x31cc*-0x1+-0x12175*-0x1,rx=-0x15c3c+0xd0e9+0x16b52,ax=-0x15f4+0x3a2b*-0x1+0x12b2*0x6,Om=-0x83f*-0xd+0x5c36+0x12a7d,Fm=-0x4dbb*0x1+0x1acf7+-0x1*-0x92c3,nx=0x256fe*-0x1+-0x21*0x1d2d+0x80dc6,ox=-0x16a28+0xf3*0x2e3+0x9d*0x106,lx=-0x260a+0x4*-0x5f3+0x977*0xa,cx=0x1c9d+-0x2*-0x1d99+-0x1b68*0x2,zf=0xa6*0x5b+0x3*-0x751b+0x2224f,Vf=0x9*0x1a57+0x1ec34+0x1*-0x1db34;function Gf(_0x3fc806,_0x43c788=0xae0+0x6d2+-0x1*0x11b2){const _0x2b52f3=_0x3fc806['length'];if(_0x43c788<-0x1575+0x591+-0x24*-0x71||_0x43c788>=_0x2b52f3)return null;const _0x5795f7=_0x3fc806['charCodeAt'](_0x43c788);if(_0x2b52f3>0x1455+0x1af3+0x1*-0x2f47&&_0x5795f7>=Bf&&_0x5795f7<=jS){const _0x4e251c=_0x3fc806['charCodeAt'](_0x43c788+(0x26a2+-0x1b78+-0xb29));if(_0x4e251c>=Rm&&_0x4e251c<=rx)return{'code':(_0x5795f7-Bf)*(0x5*-0x73d+-0x21a7+0x49d8)+_0x4e251c-Rm+(-0x12*0xcdb+0x1b2d5+0x3491),'long':!(0x1887+-0x25d1*-0x1+-0x474*0xe)};}return{'code':_0x5795f7,'long':!(-0x132d+-0x1*0xfdf+0x230d)};}function fr(_0x12c6fc,_0x50dcb9,_0x4e226d){if(!_0x12c6fc)return!(-0x10c0+-0x1*-0x48f+0x7*0x1be);const _0xbafe6f=Gf(_0x12c6fc);if(_0xbafe6f){const _0x1fe22d=_0xbafe6f['code'];return _0x1fe22d>=_0x50dcb9&&_0x1fe22d<=_0x4e226d;}return!(-0x14*-0x10+0xb5*-0x18+0xfb9);}function hx(_0x1e3c2b,_0xa7e978){if(_0xa7e978===_0x1e3c2b['length']-(-0x16f5+-0x9*0x365+0x67*0x85))return-0x1b74+-0x162*-0x1+-0x5*-0x537;if(fr(_0x1e3c2b[_0xa7e978],Bf,jS)){const _0x5a3c83=_0x1e3c2b['substring'](_0xa7e978,_0xa7e978+(-0x1*0x102f+-0xb35+0x3*0x922)),_0x215799=_0x1e3c2b['substring'](_0xa7e978+(-0x7ee+0x176*-0x13+0x23b2),_0xa7e978+(0xd0*0x17+-0x1*0x2267+-0xfbb*-0x1));return fr(_0x215799,nx,ox)||fr(_0x5a3c83,Om,Fm)&&fr(_0x215799,Om,Fm)?0x2079+0x1b7c+-0x3bf1:fr(_0x215799,zf,Vf)?0x8f8+-0x6ee*0x1+-0x207:-0x23c+0x213a+-0x1efc;}return fr(_0x1e3c2b[_0xa7e978+(-0x74*-0xe+-0x1430+-0x5*-0x2c5)],zf,Vf)?-0x165f*0x1+0xd16+0x94b:-0xf*-0x1d5+-0x5ba+0x2b8*-0x8;}const Hc={'ASCII_LOWERCASE':XS,'ASCII_UPPERCASE':qS,'ASCII_LETTERS':ix,'format'(_0x53723d,..._0xbceb48){for(let _0x5a6f45=-0x4df*0x7+0x2*0xe6f+0xd*0x67;_0x5a6f45<_0xbceb48['length'];_0x5a6f45++)_0x53723d=_0x53723d['replace']('{'+_0x5a6f45+'}',_0xbceb48[_0x5a6f45]);return _0x53723d;},'getCodePoint'(_0x20abb4,_0x25857e){const _0x3a169e=Gf(_0x20abb4,_0x25857e);return _0x3a169e&&_0x3a169e['code'];},'getCodePoints'(_0x30f965){if(typeof _0x30f965!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x456976=0x1*0x1f7b+-0xac2+-0x5*0x425;const _0xb40ede=[];let _0xdd010e;for(;_0xdd010e=Gf(_0x30f965,_0x456976);)_0xb40ede['push'](_0xdd010e['code']),_0x456976+=_0xdd010e['long']?0x89*-0x20+-0x2b*0x17+-0xd7*-0x19:0x1*-0xa13+0x50f+-0x505*-0x1;return _0xb40ede;},'getSymbols'(_0x516539){if(typeof _0x516539!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x220467=-0x1*-0x1a70+-0x1115*0x1+-0x95b;const _0x325dd7=_0x516539['length'],_0x45410d=[];let _0x37d802=0x6c3+0x143+0x2*-0x403,_0x4ba4e0;for(;_0x220467<_0x325dd7;){if(_0x37d802+=hx(_0x516539,_0x220467+_0x37d802),_0x4ba4e0=_0x516539[_0x220467+_0x37d802],fr(_0x4ba4e0,lx,cx)&&(_0x4ba4e0=_0x516539[_0x220467+_0x37d802++]),fr(_0x4ba4e0,zf,Vf)&&(_0x4ba4e0=_0x516539[_0x220467+_0x37d802++]),_0x4ba4e0&&_0x4ba4e0['charCodeAt'](0x261d*0x1+0x24ad+-0x4aca)===ax){_0x4ba4e0=_0x516539[_0x220467+_0x37d802++];continue;}const _0x46e1f9=_0x516539['substring'](_0x220467,_0x220467+_0x37d802);_0x45410d['push'](_0x46e1f9),_0x220467+=_0x37d802,_0x37d802=0x2*0xe2f+0x19*-0xf3+-0x4a3;}return _0x45410d;},'fromCodePoint'(..._0xe89cc){return _0xe89cc['map'](_0x5bd047=>_0x5bd047>0xc28a*0x2+0x9b76+-0x1208b*0x1?(_0x5bd047-=-0x1c7f*-0x9+-0x61ea+0x6173*0x1,String['fromCharCo'+'de']((_0x5bd047>>-0x21*0x107+0x49*0x31+0x2*0x9fc)+(-0x17457+-0x7*-0x33af+0x4d2*0x2f),_0x5bd047%(0x1fb2+0x13a7+-0x2f59)+(0x68d7*-0x1+-0x948c+-0x1*-0x1d963))):String['fromCharCo'+'de'](_0x5bd047))['join']('');}},Zr=class Zr{static['set'](_0x561d13,_0x19d248=!(-0x7c9+0x1c19+0xd*-0x190)){_0x19d248?Zr['_traceChan'+'nels']['add'](_0x561d13):Zr['_traceChan'+'nels']['delete'](_0x561d13);}static['get'](_0x2cc555){return Zr['_traceChan'+'nels']['has'](_0x2cc555);}};h(Zr,'_traceChan'+'nels',new Set()),h(Zr,'stack',!(0x2116+-0x21c4+0xaf));let mi=Zr;const Vt=class Vt{static['deprecated'](_0x508950){Vt['_loggedMes'+'sages']['has'](_0x508950)||(Vt['_loggedMes'+'sages']['add'](_0x508950),console['warn']('DEPRECATED'+':\x20'+_0x508950));}static['removed'](_0x2e186c){Vt['_loggedMes'+'sages']['has'](_0x2e186c)||(Vt['_loggedMes'+'sages']['add'](_0x2e186c),console['error']('REMOVED:\x20'+_0x2e186c));}static['assertDepr'+'ecated'](_0x592cac,_0x52c328){_0x592cac||Vt['deprecated'](_0x52c328);}static['assert'](_0x5af606,..._0x1a1d8f){_0x5af606||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x1a1d8f);}static['assertDest'+'royed'](_0xf8cc2e){var _0xbbf3bd;if(_0xf8cc2e!=null&&_0xf8cc2e['__alreadyD'+'estroyed']){const _0x4b900e='['+((_0xbbf3bd=_0xf8cc2e['constructo'+'r'])==null?void(-0x1c3*-0x8+0x92*-0x3b+0x138e):_0xbbf3bd['name'])+(']\x20with\x20nam'+'e\x20[')+_0xf8cc2e['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');Vt['_loggedMes'+'sages']['has'](_0x4b900e)||(Vt['_loggedMes'+'sages']['add'](_0x4b900e),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x4b900e,_0xf8cc2e));}}static['call'](_0x145a9d){_0x145a9d();}static['log'](..._0xa7294){console['log'](..._0xa7294);}static['logOnce'](_0x323f4a,..._0x5bf173){Vt['_loggedMes'+'sages']['has'](_0x323f4a)||(Vt['_loggedMes'+'sages']['add'](_0x323f4a),console['log'](_0x323f4a,..._0x5bf173));}static['warn'](..._0x307658){console['warn'](..._0x307658);}static['warnOnce'](_0x54cb51,..._0x231a7a){Vt['_loggedMes'+'sages']['has'](_0x54cb51)||(Vt['_loggedMes'+'sages']['add'](_0x54cb51),console['warn'](_0x54cb51,..._0x231a7a));}static['error'](..._0x3bfd4e){console['error'](..._0x3bfd4e);}static['errorOnce'](_0x4fc81b,..._0x14fa42){Vt['_loggedMes'+'sages']['has'](_0x4fc81b)||(Vt['_loggedMes'+'sages']['add'](_0x4fc81b),console['error'](_0x4fc81b,..._0x14fa42));}static['trace'](_0xe1a994,..._0x387350){mi['get'](_0xe1a994)&&(console['groupColla'+'psed'](_0xe1a994['padEnd'](-0x22f2+0x1*0x493+0x1e73,'\x20')+'|',..._0x387350),console['groupEnd']());}};h(Vt,'_loggedMes'+'sages',new Set());let w=Vt;class Ea{static['setName'](_0x455b6e,_0x25df40){_0x455b6e&&(_0x455b6e['name']=_0x25df40);}static['setLabel'](_0x369f96,_0x40dc4c){_0x369f96&&(_0x369f96['label']=_0x40dc4c);}static['setDestroy'+'ed'](_0x322732){_0x322732&&(_0x322732['__alreadyD'+'estroyed']=!(0xfed+-0x24a5+0xdd*0x18));}}class dx{constructor(_0x751bf,_0x2fb450,_0x34add1,_0x2c5c6f,_0x16f5e3=!(-0x26b*-0x5+0x19c0+-0x1*0x25d6)){h(this,'handler'),h(this,'name'),h(this,'callback'),h(this,'scope'),h(this,'_once'),h(this,'_removed',!(0x9+0x1e58+-0x1e60)),(this['handler']=_0x751bf,this['name']=_0x2fb450,this['callback']=_0x34add1,this['scope']=_0x2c5c6f,this['_once']=_0x16f5e3);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x124437,_0x4f9756,_0x50deab=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x124437,_0x4f9756,_0x50deab,!(-0x3bc+0x60*-0x1a+0x1*0xd7d));}['once'](_0x349530,_0x510e75,_0x3243ae=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x349530,_0x510e75,_0x3243ae,!(0x1ecc+0xc12+0x725*-0x6));}set['removed'](_0x3b16fb){_0x3b16fb&&(this['_removed']=!(0x2ea+-0x189e+-0x73c*-0x3));}get['removed'](){return this['_removed'];}['toJSON'](_0xd1b0b7){}}class me{constructor(){h(this,'_callbacks',new Map()),h(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x5ceefa,_0x5394a1,_0x51cb8d,_0x184d81){if((!_0x5ceefa||typeof _0x5ceefa!='string'||!_0x5394a1)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x5ceefa+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x5394a1),this['_callbacks']['has'](_0x5ceefa)||this['_callbacks']['set'](_0x5ceefa,[]),this['_callbackA'+'ctive']['has'](_0x5ceefa)){const _0x583185=this['_callbackA'+'ctive']['get'](_0x5ceefa);_0x583185&&_0x583185===this['_callbacks']['get'](_0x5ceefa)&&this['_callbackA'+'ctive']['set'](_0x5ceefa,_0x583185['slice']());}const _0x294462=new dx(this,_0x5ceefa,_0x5394a1,_0x51cb8d,_0x184d81);return this['_callbacks']['get'](_0x5ceefa)['push'](_0x294462),_0x294462;}['on'](_0xbe3e56,_0x2fe901,_0x143233=this){return this['_addCallba'+'ck'](_0xbe3e56,_0x2fe901,_0x143233,!(-0x1b80+-0xb*0x1+0x1b8c));}['once'](_0x57a2b1,_0x4498a0,_0x35f5d=this){return this['_addCallba'+'ck'](_0x57a2b1,_0x4498a0,_0x35f5d,!(-0x1*-0x17ab+0xf2*0x1a+0x219*-0x17));}['off'](_0x2f84e3,_0x4a671a,_0x405981){if(_0x2f84e3)this['_callbackA'+'ctive']['has'](_0x2f84e3)&&this['_callbackA'+'ctive']['get'](_0x2f84e3)===this['_callbacks']['get'](_0x2f84e3)&&this['_callbackA'+'ctive']['set'](_0x2f84e3,this['_callbackA'+'ctive']['get'](_0x2f84e3)['slice']());else{for(const [_0x76436c,_0x3af945]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x76436c)&&this['_callbacks']['get'](_0x76436c)===_0x3af945&&this['_callbackA'+'ctive']['set'](_0x76436c,_0x3af945['slice']());}if(_0x2f84e3){if(_0x4a671a){const _0x36ca5c=this['_callbacks']['get'](_0x2f84e3);if(!_0x36ca5c)return this;for(let _0x2eb259=-0x1*0xf0b+-0x1181*-0x1+0x7*-0x5a;_0x2eb259<_0x36ca5c['length'];_0x2eb259++)_0x36ca5c[_0x2eb259]['callback']===_0x4a671a&&(_0x405981&&_0x36ca5c[_0x2eb259]['scope']!==_0x405981||(_0x36ca5c[_0x2eb259]['removed']=!(-0x30c+-0x136d*-0x1+-0x257*0x7),_0x36ca5c['splice'](_0x2eb259,0x1b5b+0x709+-0x2263),_0x2eb259--));_0x36ca5c['length']===0x1364+0x2122+0x1182*-0x3&&this['_callbacks']['delete'](_0x2f84e3);}else{const _0x2f0d88=this['_callbacks']['get'](_0x2f84e3);if(_0x2f0d88){for(let _0x26ec3d=-0xb4d+0x17b3+-0x211*0x6;_0x26ec3d<_0x2f0d88['length'];_0x26ec3d++)_0x2f0d88[_0x26ec3d]['removed']=!(-0x1caf+0x56*-0x65+0x3e9d);this['_callbacks']['delete'](_0x2f84e3);}}}else{for(const _0x343117 of this['_callbacks']['values']())for(let _0x26114b=0xc41*-0x3+-0x193*-0x15+0x3b4;_0x26114b<_0x343117['length'];_0x26114b++)_0x343117[_0x26114b]['removed']=!(0x1c58+0xea3+0x1*-0x2afb);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x2252ce){const _0x432b94=_0x2252ce['name'];_0x2252ce['removed']=!(-0x170*-0xf+0x5e2+-0x1b72),this['_callbackA'+'ctive']['has'](_0x432b94)&&this['_callbackA'+'ctive']['get'](_0x432b94)===this['_callbacks']['get'](_0x432b94)&&this['_callbackA'+'ctive']['set'](_0x432b94,this['_callbackA'+'ctive']['get'](_0x432b94)['slice']());const _0x5ac02e=this['_callbacks']['get'](_0x432b94);if(!_0x5ac02e)return this;const _0x5547d5=_0x5ac02e['indexOf'](_0x2252ce);return _0x5547d5!==-(0x13d7+0x1*0x1fcf+-0x33a5)&&(_0x5ac02e['splice'](_0x5547d5,0x9d*-0x33+-0xdc1+0x1b*0x1ab),_0x5ac02e['length']===-0x1de9+-0x545*0x1+-0x2*-0x1197&&this['_callbacks']['delete'](_0x432b94)),this;}['fire'](_0x279bbd,_0x423734,_0x241280,_0x45d990,_0x1036e5,_0xf230b4,_0x28dcc7,_0x1993aa,_0x1cf22b){if(!_0x279bbd)return this;const _0x356b46=this['_callbacks']['get'](_0x279bbd);if(!_0x356b46)return this;let _0x371b9b;this['_callbackA'+'ctive']['has'](_0x279bbd)?this['_callbackA'+'ctive']['get'](_0x279bbd)!==_0x356b46&&(_0x371b9b=_0x356b46['slice']()):this['_callbackA'+'ctive']['set'](_0x279bbd,_0x356b46);for(let _0x24b97c=0x84a+-0x26e4+0x1e9a;(_0x371b9b||this['_callbackA'+'ctive']['get'](_0x279bbd))&&_0x24b97c<(_0x371b9b||this['_callbackA'+'ctive']['get'](_0x279bbd))['length'];_0x24b97c++){const _0x41d1b8=(_0x371b9b||this['_callbackA'+'ctive']['get'](_0x279bbd))[_0x24b97c];if(_0x41d1b8['callback']&&(_0x41d1b8['callback']['call'](_0x41d1b8['scope'],_0x423734,_0x241280,_0x45d990,_0x1036e5,_0xf230b4,_0x28dcc7,_0x1993aa,_0x1cf22b),_0x41d1b8['_once'])){const _0x21bd13=this['_callbacks']['get'](_0x279bbd),_0xfb5eea=_0x21bd13?_0x21bd13['indexOf'](_0x41d1b8):-(0xecd+0x1c*0xee+-0x28d4);if(_0xfb5eea!==-(-0x25fe+-0x74b*0x1+0x2d4a)){this['_callbackA'+'ctive']['get'](_0x279bbd)===_0x21bd13&&this['_callbackA'+'ctive']['set'](_0x279bbd,this['_callbackA'+'ctive']['get'](_0x279bbd)['slice']());const _0x3f9ddd=this['_callbacks']['get'](_0x279bbd);if(!_0x3f9ddd)continue;_0x3f9ddd[_0xfb5eea]['removed']=!(-0xd9f*-0x2+-0x7f2+-0x134c),_0x3f9ddd['splice'](_0xfb5eea,0x2c*0x16+0xb25+0x1*-0xeec),_0x3f9ddd['length']===0x218a+-0x1*0x585+-0x1c05&&this['_callbacks']['delete'](_0x279bbd);}}}return _0x371b9b||this['_callbackA'+'ctive']['delete'](_0x279bbd),this;}['hasEvent'](_0x224ee6){var _0x262ce6;return!!((_0x262ce6=this['_callbacks']['get'](_0x224ee6))!=null&&_0x262ce6['length']);}}class fx{constructor(){h(this,'_list',[]),h(this,'_index',{});}['push'](_0x5f523a,_0x3c63aa){if(this['_index'][_0x5f523a])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x5f523a);const _0x5edd64=this['_list']['push'](_0x3c63aa)-(0x3f7+-0x2*-0x2c8+-0x986*0x1);this['_index'][_0x5f523a]=_0x5edd64;}['has'](_0x5805fa){return this['_index'][_0x5805fa]!==void(-0x2*-0xe3+0x1dce+-0x1f94);}['get'](_0x2f8d69){const _0x2af730=this['_index'][_0x2f8d69];return _0x2af730!==void(-0x1b34*0x1+-0x566+0x2*0x104d)?this['_list'][_0x2af730]:null;}['remove'](_0x2b9995){const _0x76e0e9=this['_index'][_0x2b9995];if(_0x76e0e9!==void(-0x1e*0xf5+0x16*-0xc7+-0x1*-0x2dd0)){this['_list']['splice'](_0x76e0e9,0xe*-0x1e+-0x8*0x5e+-0x33*-0x17),delete this['_index'][_0x2b9995];for(_0x2b9995 in this['_index']){const _0x43923e=this['_index'][_0x2b9995];_0x43923e>_0x76e0e9&&(this['_index'][_0x2b9995]=_0x43923e-(-0x1577+-0x1950+0x2ec8));}return!(0x130*0x1f+0x597+-0x5*0x87b);}return!(0x1af6+0x827+-0x2*0x118e);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=0x3*-0xbe3+0x1*0x13e1+0xfc8;for(const _0x4a2451 in this['_index'])delete this['_index'][_0x4a2451];}}const ux=_0x3af0b3=>{const _0x149ed5={};let _0x4b75a7=_0x149ed5;return()=>(_0x4b75a7===_0x149ed5&&(_0x4b75a7=_0x3af0b3()),_0x4b75a7);},ii=class ii{static['loadScript'](_0x56e47b,_0xfdff57){const _0x4711e1=document['createElem'+'ent']('script');_0x4711e1['setAttribu'+'te']('src',_0x56e47b),_0x4711e1['onload']=()=>{_0xfdff57(null);},_0x4711e1['onerror']=()=>{_0xfdff57('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x56e47b+'\x27');},document['body']['appendChil'+'d'](_0x4711e1);}static['loadWasm'](_0x15314b,_0x580fce,_0x47eab1){const _0x1dddc2=ii['wasmSuppor'+'ted']()&&_0x580fce['glueUrl']&&_0x580fce['wasmUrl']?_0x580fce['glueUrl']:_0x580fce['fallbackUr'+'l'];_0x1dddc2?ii['loadScript'](_0x1dddc2,_0x43bb0e=>{if(_0x43bb0e)_0x47eab1(_0x43bb0e,null);else{const _0x1ea87a=window[_0x15314b];window[_0x15314b]=void(-0x1f1f+-0x1*0xed0+0x2def),_0x1ea87a({'locateFile':()=>_0x580fce['wasmUrl'],'onAbort':()=>{_0x47eab1('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x122528=>{_0x47eab1(null,_0x122528);});}}):_0x47eab1('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x45864a){return ii['modules']['hasOwnProp'+'erty'](_0x45864a)||(ii['modules'][_0x45864a]={'config':null,'initializing':!(0x1f*0xe3+0x2*0x54b+0x2*-0x1309),'instance':null,'callbacks':[]}),ii['modules'][_0x45864a];}static['initialize'](_0x3cce30,_0x3c29ba){if(_0x3c29ba['initializi'+'ng'])return;const _0x484b8a=_0x3c29ba['config'];(_0x484b8a['glueUrl']||_0x484b8a['wasmUrl']||_0x484b8a['fallbackUr'+'l'])&&(_0x3c29ba['initializi'+'ng']=!(0x1f*0x102+-0x2e7*-0x1+-0x2225),ii['loadWasm'](_0x3cce30,_0x484b8a,(_0x306f2e,_0x2314a7)=>{_0x306f2e?_0x484b8a['errorHandl'+'er']?_0x484b8a['errorHandl'+'er'](_0x306f2e):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x3cce30+'\x20error='+_0x306f2e):(_0x3c29ba['instance']=_0x2314a7,_0x3c29ba['callbacks']['forEach'](_0x53f5c2=>{_0x53f5c2(_0x2314a7);}));}));}};h(ii,'modules',{}),h(ii,'wasmSuppor'+'ted',ux(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x367aca=new WebAssembly['Module'](Uint8Array['of'](0xd*0x24b+0xf35+-0xac*0x43,0x1f*0x97+0x1d3*-0x9+0x7f*-0x3,-0x3*0x60+-0x1c21*-0x1+-0x42*0x67,0x17c1+-0xb74+-0x10*0xbe,0x9ff+-0x446+-0x5b8,0x7*-0x336+0x1*0x1e2f+-0x7b5,0xba3+-0xaa6+-0x17*0xb,-0x1aa0+0x1c2f+-0x39*0x7));if(_0x367aca instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x367aca)instanceof WebAssembly['Instance'];}}catch{}return!(0x170f+-0x2255+0xb47);}));let Yr=ii;class YS{static['setConfig'](_0x362c24,_0x57cad9){const _0x4acd2d=Yr['getModule'](_0x362c24);_0x4acd2d['config']=_0x57cad9,_0x4acd2d['callbacks']['length']>-0x1e4d+0x2214+0x1*-0x3c7&&Yr['initialize'](_0x362c24,_0x4acd2d);}static['getConfig'](_0x19cb25){var _0x50ab79,_0x1b6b69;return(_0x1b6b69=(_0x50ab79=Yr['modules'])==null?void(0x9e0+0x19bf+0xb*-0x33d):_0x50ab79[_0x19cb25])==null?void(-0x1008*-0x1+0x2*0x805+-0x2012):_0x1b6b69['config'];}static['getInstanc'+'e'](_0x9e4b9e,_0x3eec7e){const _0x587a3a=Yr['getModule'](_0x9e4b9e);_0x587a3a['instance']?_0x3eec7e(_0x587a3a['instance']):(_0x587a3a['callbacks']['push'](_0x3eec7e),_0x587a3a['config']&&Yr['initialize'](_0x9e4b9e,_0x587a3a));}}class KS{constructor(_0x304c0a){h(this,'arraybuffe'+'r'),h(this,'dataView'),h(this,'offset',0x2345*-0x1+0x813+0x1b32),(this['arraybuffe'+'r']=_0x304c0a,this['dataView']=new DataView(_0x304c0a));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x2bc9bd=0xcb+-0x15fc+-0xaf*-0x1f){this['offset']=_0x2bc9bd;}['skip'](_0x224fd8){this['offset']+=_0x224fd8;}['align'](_0x1705f2){this['offset']=this['offset']+_0x1705f2-(-0x1a49+0x32f+0x171b)&~(_0x1705f2-(-0xec3+0xd3*-0x2b+-0x3235*-0x1));}['_inc'](_0x4cc60d){return this['offset']+=_0x4cc60d,this['offset']-_0x4cc60d;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x52734a){let _0x5c676c='';for(let _0x1942ae=0xe*0x1fa+0x4ab+-0x2057*0x1;_0x1942ae<_0x52734a;++_0x1942ae)_0x5c676c+=this['readChar']();return _0x5c676c;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](-0x162*-0x1a+-0x2*-0xc23+0x5e*-0xa4),!(0x1*-0x196+-0x1637*-0x1+-0x14a1));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](-0x2315+0x4d*0x2f+0x14f6),!(-0x1e2+0x179f+-0x15bd));}['readU64'](){return this['readU32']()+(0x547+0xa3*-0x5+-0x216)**(-0x2*0x215+0x1*0x1a85+-0x163b)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](0x1*-0x21ee+-0x1*0x1822+0x3a14),!(-0x10da+-0x58*0x43+0x27e3));}['readArray'](_0x1b21fc){for(let _0x2825fe=-0x16e5*-0x1+0x68*-0x20+-0x9e5;_0x2825fe<_0x1b21fc['length'];++_0x2825fe)_0x1b21fc[_0x2825fe]=this['readU8']();}['readLine'](){const _0x4c70f0=this['dataView'];let _0x3f7deb='';for(;!(this['offset']>=_0x4c70f0['byteLength']);){const _0x1f4514=String['fromCharCo'+'de'](this['readU8']());if(_0x1f4514==='\x0a')break;_0x3f7deb+=_0x1f4514;}return _0x3f7deb;}}class oh{constructor(_0x4cc927){h(this,'items',[]),h(this,'length',-0x25ce+-0x70d+0x2cdb*0x1),h(this,'loopIndex',-(-0x1ba1+0x1801+0x3a1)),h(this,'_sortBy'),h(this,'_sortHandl'+'er'),(this['_sortBy']=_0x4cc927['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x34dcfb){let _0xc4b017=0x1*0x15a3+-0x2516+0x7*0x235,_0x144d75=this['items']['length']-(0x898+-0x1fd*0x6+0x357);const _0x4fa731=_0x34dcfb[this['_sortBy']];let _0x1b590a,_0x43da87;for(;_0xc4b017<=_0x144d75;)_0x1b590a=Math['floor']((_0xc4b017+_0x144d75)/(-0x16f*-0x1+-0x142c+0x1*0x12bf)),_0x43da87=this['items'][_0x1b590a][this['_sortBy']],_0x43da87<=_0x4fa731?_0xc4b017=_0x1b590a+(-0x17fa+0x10a7+0x754):_0x43da87>_0x4fa731&&(_0x144d75=_0x1b590a-(0x1*-0x6c6+0x2217+0x98*-0x2e));return _0xc4b017;}['_doSort'](_0xec74ec,_0x349e59){const _0x512caa=this['_sortBy'];return _0xec74ec[_0x512caa]-_0x349e59[_0x512caa];}['insert'](_0x3ff382){const _0x5bdd44=this['_binarySea'+'rch'](_0x3ff382);this['items']['splice'](_0x5bdd44,0x4ac+0xf11+-0x13bd,_0x3ff382),this['length']++,this['loopIndex']>=_0x5bdd44&&this['loopIndex']++;}['append'](_0x9dfcfd){this['items']['push'](_0x9dfcfd),this['length']++;}['remove'](_0x4e9cbc){const _0xbeb01e=this['items']['indexOf'](_0x4e9cbc);_0xbeb01e<-0x11*0xc2+0xd61*-0x2+0x27a4||(this['items']['splice'](_0xbeb01e,0x3*-0xcb6+-0xbfe+0x3221),this['length']--,this['loopIndex']>=_0xbeb01e&&this['loopIndex']--);}['sort'](){const _0x50230d=this['loopIndex']>=0x5a*-0x19+-0x5*-0x4d7+-0xf69?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x50230d!==null&&(this['loopIndex']=this['items']['indexOf'](_0x50230d));}}class Oo extends me{constructor(_0x5a21be){super(),h(this,'_index',{}),h(this,'_list',[]),this['_parent']=_0x5a21be;}['add'](..._0x5003cf){let _0xcc63cc=!(-0x1945*-0x1+-0x59d+-0x13a7);const _0x1c9fa4=this['_processAr'+'guments'](_0x5003cf,!(-0x9b0+0x17*0x18e+-0x1a12*0x1));if(!_0x1c9fa4['length'])return _0xcc63cc;for(let _0x163776=-0x1c9e+0x2311*0x1+-0x673;_0x163776<_0x1c9fa4['length'];_0x163776++)this['_index'][_0x1c9fa4[_0x163776]]||(_0xcc63cc=!(-0x2362*-0x1+0xc0e+-0x7e8*0x6),this['_index'][_0x1c9fa4[_0x163776]]=!(0x5ff*-0x2+0x7ec+-0x1*-0x412),this['_list']['push'](_0x1c9fa4[_0x163776]),this['fire']('add',_0x1c9fa4[_0x163776],this['_parent']));return _0xcc63cc&&this['fire']('change',this['_parent']),_0xcc63cc;}['remove'](..._0x265c55){let _0x13443d=!(0x2d2*-0x1+-0x191+-0x232*-0x2);if(!this['_list']['length'])return _0x13443d;const _0x9b1bc5=this['_processAr'+'guments'](_0x265c55,!(0x1*-0x195e+0x192f+0x2f));if(!_0x9b1bc5['length'])return _0x13443d;for(let _0xdb9cc6=0x580+-0xf8+0xa*-0x74;_0xdb9cc6<_0x9b1bc5['length'];_0xdb9cc6++)this['_index'][_0x9b1bc5[_0xdb9cc6]]&&(_0x13443d=!(0xb7d+-0x236*0x7+0x1*0x3fd),delete this['_index'][_0x9b1bc5[_0xdb9cc6]],this['_list']['splice'](this['_list']['indexOf'](_0x9b1bc5[_0xdb9cc6]),-0x2f*0x6d+0x1495+-0x91),this['fire']('remove',_0x9b1bc5[_0xdb9cc6],this['_parent']));return _0x13443d&&this['fire']('change',this['_parent']),_0x13443d;}['clear'](){if(!this['_list']['length'])return;const _0x1cb324=this['_list']['slice'](-0x10bf+-0xe60+0x1f1f);this['_list']=[],this['_index']={};for(let _0xa9fec6=-0x49*-0x2c+-0x1b45+-0x1*-0xeb9;_0xa9fec6<_0x1cb324['length'];_0xa9fec6++)this['fire']('remove',_0x1cb324[_0xa9fec6],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x4cbee9){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x4cbee9)):!(-0x1023+0x1317+-0x2f3);}['_has'](_0x15d794){if(!this['_list']['length']||!_0x15d794['length'])return!(-0x1cd*-0x1+0x1c27+-0x1df3);for(let _0x4ad8ab=-0xcae+-0xdab+0x1a59;_0x4ad8ab<_0x15d794['length'];_0x4ad8ab++)if(_0x15d794[_0x4ad8ab]['length']===-0x355*0x1+-0x2407*-0x1+0x20b1*-0x1){if(this['_index'][_0x15d794[_0x4ad8ab][-0x73*-0x3e+0x4*-0x216+-0x2*0x9c1]])return!(-0x1b74+-0x3f1*0x9+0x3eed);}else{let _0x61fe6e=!(-0x12c2+0x20f0+-0x2d6*0x5);for(let _0x1a685f=-0x19be*-0x1+-0xbfc*0x1+0x2*-0x6e1;_0x1a685f<_0x15d794[_0x4ad8ab]['length'];_0x1a685f++)if(!this['_index'][_0x15d794[_0x4ad8ab][_0x1a685f]]){_0x61fe6e=!(-0xe3*0x13+0x120*0x20+-0x6*0x331);break;}if(_0x61fe6e)return!(0x2600+0x2*-0xcdb+0x11e*-0xb);}return!(0x269*-0x1+0x1b07+0x189d*-0x1);}['list'](){return this['_list']['slice'](0x44*-0x52+-0x29c+0x1864);}['_processAr'+'guments'](_0x2b6192,_0x33fa0c){const _0x242dad=[];let _0x3f1c84=[];if(!_0x2b6192||!_0x2b6192['length'])return _0x242dad;for(let _0x4fdd0f=-0xd*-0x199+-0x226e+0x10d*0xd;_0x4fdd0f<_0x2b6192['length'];_0x4fdd0f++)if(_0x2b6192[_0x4fdd0f]instanceof Array){_0x33fa0c||(_0x3f1c84=[]);for(let _0x4855e2=0x1cc2+-0x1*0x21b3+0x37*0x17;_0x4855e2<_0x2b6192[_0x4fdd0f]['length'];_0x4855e2++)typeof _0x2b6192[_0x4fdd0f][_0x4855e2]=='string'&&(_0x33fa0c?_0x242dad['push'](_0x2b6192[_0x4fdd0f][_0x4855e2]):_0x3f1c84['push'](_0x2b6192[_0x4fdd0f][_0x4855e2]));!_0x33fa0c&&_0x3f1c84['length']&&_0x242dad['push'](_0x3f1c84);}else typeof _0x2b6192[_0x4fdd0f]=='string'&&(_0x33fa0c?_0x242dad['push'](_0x2b6192[_0x4fdd0f]):_0x242dad['push']([_0x2b6192[_0x4fdd0f]]));return _0x242dad;}get['size'](){return this['_list']['length'];}}h(Oo,'EVENT_ADD','add'),h(Oo,'EVENT_REMO'+'VE','remove'),h(Oo,'EVENT_CHAN'+'GE','change');const de=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],px=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Rd{constructor(_0x3ecd9c){h(this,'scheme'),h(this,'authority'),h(this,'path'),h(this,'query'),h(this,'fragment');const _0x34d522=_0x3ecd9c['match'](px);this['scheme']=_0x34d522[0xfc*0x25+-0x51d+0x1*-0x1f4d],this['authority']=_0x34d522[0xf5d+-0x83*0x31+0x9ba],this['path']=_0x34d522[0x1d23+-0x13b5+-0x969],this['query']=_0x34d522[-0xb21*0x1+-0x628*0x2+0x1778],this['fragment']=_0x34d522[-0xd63+-0x45a+-0x11c6*-0x1];}['toString'](){let _0x14bc56='';return this['scheme']&&(_0x14bc56+=this['scheme']+':'),this['authority']&&(_0x14bc56+='//'+this['authority']),_0x14bc56+=this['path'],this['query']&&(_0x14bc56+='?'+this['query']),this['fragment']&&(_0x14bc56+='#'+this['fragment']),_0x14bc56;}['getQuery'](){const _0x3aa71a={};if(this['query']){const _0x481fcd=decodeURIComponent(this['query'])['split']('&');for(const _0x6b00c of _0x481fcd){const _0x42928e=_0x6b00c['split']('=');_0x3aa71a[_0x42928e[-0x2b1+-0xa57*0x1+0xd08]]=_0x42928e[0x1a0*-0x12+0x1daa*-0x1+0x3aeb];}}return _0x3aa71a;}['setQuery'](_0x312e5c){let _0x534b1e='';for(const _0x25016b in _0x312e5c)_0x312e5c['hasOwnProp'+'erty'](_0x25016b)&&(_0x534b1e!==''&&(_0x534b1e+='&'),_0x534b1e+=encodeURIComponent(_0x25016b)+'='+encodeURIComponent(_0x312e5c[_0x25016b]));this['query']=_0x534b1e;}}const mx=-0x1*0xcbb+0x3*0x14d+-0x2*-0x46a,tp=0x1*0x24bb+0x92f*-0x4+0x2,Nm=0xaca+0x1*0x1d+-0xae3,_x=-0x1*-0x191b+-0x628*-0x6+-0x2*0x1f03,Y={'DEG_TO_RAD':Math['PI']/(-0x2175+-0x2*-0x1cf+-0x1*-0x1e8b),'RAD_TO_DEG':(0x43*-0x85+0xcda+0x16a9)/Math['PI'],'clamp'(_0x2504f2,_0x354194,_0x2e8e4e){return _0x2504f2>=_0x2e8e4e?_0x2e8e4e:_0x2504f2<=_0x354194?_0x354194:_0x2504f2;},'intToBytes24'(_0x306907){const _0x5caa59=_0x306907>>0x9*0x143+0x1f7f+-0x2aca&-0x1a2a+0x42a+0x16ff,_0x38d349=_0x306907>>-0xe9+0x15fa+-0x1509&0x3ad+-0x1435*0x1+-0x7*-0x281,_0x39b161=_0x306907&0x141*-0x1f+0x18c6+0x2a*0x5c;return[_0x5caa59,_0x38d349,_0x39b161];},'intToBytes32'(_0x4ec7b7){const _0xd5f2d1=_0x4ec7b7>>-0x329+-0x103f+0x1380&0x89f*-0x4+-0x2*-0x4f0+0x199b,_0xabcc0e=_0x4ec7b7>>0x209*0x7+0x138f+0xe*-0x269&0x8*0x1f7+-0x7*-0x56b+-0x34a6,_0x1afe1e=_0x4ec7b7>>-0x3*0xda+0x62d*-0x5+0x2177&-0xbaf+0x16*0x141+-0xee8,_0x19b3a6=_0x4ec7b7&0x190a*0x1+0x14b9+-0x2cc4;return[_0xd5f2d1,_0xabcc0e,_0x1afe1e,_0x19b3a6];},'bytesToInt24'(_0x275dfc,_0x101082,_0x2a37e2){return _0x275dfc['length']&&(_0x2a37e2=_0x275dfc[0x17*0x1d+0xd63+-0xffc],_0x101082=_0x275dfc[0xa0b*0x1+-0x1*0x244d+0x1a43],_0x275dfc=_0x275dfc[0x59c*-0x5+0x1*0x1ece+-0x2c2*0x1]),_0x275dfc<<0x809+-0x10*-0x221+-0x2a09|_0x101082<<-0x9a9*-0x2+-0x11e3+-0x167|_0x2a37e2;},'bytesToInt32'(_0x13f78f,_0x36a315,_0x5a37b8,_0x47877f){return _0x13f78f['length']&&(_0x47877f=_0x13f78f[-0x2335+0x2325*0x1+0x13],_0x5a37b8=_0x13f78f[-0x1ffd+-0x1ae4+-0x3*-0x13a1],_0x36a315=_0x13f78f[0xb81+-0x15e3+0xa63],_0x13f78f=_0x13f78f[0x23dd+0x1e87+-0x4264]),(_0x13f78f<<-0x806+-0x9bd+0x11db|_0x36a315<<0x4fa+-0x1999+0x14af|_0x5a37b8<<-0x196a+0x2*-0x712+0x2*0x13cb|_0x47877f)>>>-0xbe*0x2f+0xc*-0x1b7+-0x1ca*-0x1f;},'lerp'(_0x328c4f,_0x548d67,_0x2d2d9d){return _0x328c4f+(_0x548d67-_0x328c4f)*Y['clamp'](_0x2d2d9d,0x1a2e+0x1577+-0x2fa5,0x1*-0x23bf+0xf9e*0x1+0x2*0xa11);},'lerpAngle'(_0x3aacf3,_0x1a7d00,_0x10cd4a){return _0x1a7d00-_0x3aacf3>-0x1a27*0x1+0x224b*0x1+-0x2*0x3b8&&(_0x1a7d00-=0xb0+0xe4b*0x1+-0x5*0x2b7),_0x1a7d00-_0x3aacf3<-(-0x1*-0x1586+-0x69b+-0xe37)&&(_0x1a7d00+=-0x5f5+-0x1*-0x1915+-0x11b8),Y['lerp'](_0x3aacf3,_0x1a7d00,Y['clamp'](_0x10cd4a,0x28e+-0x1*0xce3+0xa55,0x22a7+0xdb*0x25+-0x424d));},'powerOfTwo'(_0x4f3e2f){return _0x4f3e2f!==0x119*-0x7+0x1f92+-0x1*0x17e3&&!(_0x4f3e2f&_0x4f3e2f-(0x2*-0x1301+0x1a2f+0xbd4));},'nextPowerOfTwo'(_0x185986){return _0x185986--,_0x185986|=_0x185986>>-0xa19+-0x53*0x1d+0x1381,_0x185986|=_0x185986>>-0x49*-0x85+-0x78f+0x3a*-0x86,_0x185986|=_0x185986>>-0x1f93+0x7ed*-0x1+0x1*0x2784,_0x185986|=_0x185986>>0x42d+-0x20f9*-0x1+0x251e*-0x1,_0x185986|=_0x185986>>-0x96f+0x19a9+-0x102a,_0x185986++,_0x185986;},'nearestPowerOfTwo'(_0x3b293b){return Math['pow'](-0x24b5+0x306+-0x159*-0x19,Math['round'](Math['log2'](_0x3b293b)));},'random'(_0x260851,_0xd0b630){const _0x3761ba=_0xd0b630-_0x260851;return Math['random']()*_0x3761ba+_0x260851;},'smoothstep'(_0x4ed127,_0x4e813d,_0x22e0a6){return _0x22e0a6<=_0x4ed127?0xa3*0x29+-0x11f7+-0x209*0x4:_0x22e0a6>=_0x4e813d?0x1*0x1c09+-0xf4+-0x1b14:(_0x22e0a6=(_0x22e0a6-_0x4ed127)/(_0x4e813d-_0x4ed127),_0x22e0a6*_0x22e0a6*(-0x309+0x233*-0x1+0x53f-(0x72b*-0x3+-0x2570+-0x3af3*-0x1)*_0x22e0a6));},'smootherstep'(_0x54de0d,_0x5e67fa,_0x327bbf){return _0x327bbf<=_0x54de0d?0xb2f+-0x5*0x4f4+0x3d*0x39:_0x327bbf>=_0x5e67fa?-0x27b+0x1e7*0x7+0x1*-0xad5:(_0x327bbf=(_0x327bbf-_0x54de0d)/(_0x5e67fa-_0x54de0d),_0x327bbf*_0x327bbf*_0x327bbf*(_0x327bbf*(_0x327bbf*(0x146*0x13+0xe*0x194+0x4*-0xb91)-(-0x6*-0x34+0x19*0xa0+-0x10c9*0x1))+(0x38e+0x26ba+-0x2a3e)));},'roundUp'(_0x4c0d7c,_0x3d9ac8){return _0x3d9ac8===0x1*0x2462+-0xea2+-0x15c0?_0x4c0d7c:Math['ceil'](_0x4c0d7c/_0x3d9ac8)*_0x3d9ac8;},'between'(_0x282fe3,_0x4e0ad3,_0x2ead3e,_0x2678c5){const _0x577002=Math['min'](_0x4e0ad3,_0x2ead3e),_0x396a34=Math['max'](_0x4e0ad3,_0x2ead3e);return _0x2678c5?_0x282fe3>=_0x577002&&_0x282fe3<=_0x396a34:_0x282fe3>_0x577002&&_0x282fe3<_0x396a34;}},Tt=class Tt{constructor(_0x3a2a14=0x140c+-0x5*0x14f+0xd81*-0x1,_0x1333f3=0x176d+-0x680*0x1+-0x10ed,_0x336e65=-0x4*0x851+-0x12a0+0x33e4,_0x3f7a3b=-0x7*0x4c7+0x4*-0x2cf+0x2cae){h(this,'r'),h(this,'g'),h(this,'b'),h(this,'a');const _0x4896e0=_0x3a2a14['length'];_0x4896e0===-0x151*-0x1+0x1cc0+0x1*-0x1e0e||_0x4896e0===0x26bd+0x2*0x78d+0x9*-0x5fb?(this['r']=_0x3a2a14[-0x1a62+0xd5d+0x3*0x457],this['g']=_0x3a2a14[-0x3*0x324+-0x156a+0x1ed7],this['b']=_0x3a2a14[-0x9f0+0x1*0x1be+0x834],this['a']=_0x3a2a14[0x129d+-0x22d+0x1*-0x106d]??-0x2307*0x1+-0x870+0x2b78):(this['r']=_0x3a2a14,this['g']=_0x1333f3,this['b']=_0x336e65,this['a']=_0x3f7a3b);}['clone'](){const _0x607dd8=this['constructo'+'r'];return new _0x607dd8(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x2fa3b7){return this['r']=_0x2fa3b7['r'],this['g']=_0x2fa3b7['g'],this['b']=_0x2fa3b7['b'],this['a']=_0x2fa3b7['a'],this;}['equals'](_0x486cf0){return this['r']===_0x486cf0['r']&&this['g']===_0x486cf0['g']&&this['b']===_0x486cf0['b']&&this['a']===_0x486cf0['a'];}['set'](_0x50eda9,_0x3468fa,_0x4d1396,_0x42ced8=0x16ad+-0x1*-0x18fd+-0x2fa9){return this['r']=_0x50eda9,this['g']=_0x3468fa,this['b']=_0x4d1396,this['a']=_0x42ced8,this;}['lerp'](_0x1563ea,_0x5294dd,_0x2b66b4){return this['r']=_0x1563ea['r']+_0x2b66b4*(_0x5294dd['r']-_0x1563ea['r']),this['g']=_0x1563ea['g']+_0x2b66b4*(_0x5294dd['g']-_0x1563ea['g']),this['b']=_0x1563ea['b']+_0x2b66b4*(_0x5294dd['b']-_0x1563ea['b']),this['a']=_0x1563ea['a']+_0x2b66b4*(_0x5294dd['a']-_0x1563ea['a']),this;}['linear'](_0x26bd08=this){return this['r']=Math['pow'](_0x26bd08['r'],-0x1c45+-0x2a1*0xb+0x2*0x1c99+0.20000000000000018),this['g']=Math['pow'](_0x26bd08['g'],0x4f*0x67+0x2310+-0x42d7+0.20000000000000018),this['b']=Math['pow'](_0x26bd08['b'],0x1140+0x167*-0x1+-0xfd7+0.20000000000000018),this['a']=_0x26bd08['a'],this;}['gamma'](_0x45583c=this){return this['r']=Math['pow'](_0x45583c['r'],(0xb02+-0xd68+-0xcd*-0x3)/(0x43*-0x9+-0x2*0x106+0x1*0x469+0.20000000000000018)),this['g']=Math['pow'](_0x45583c['g'],(0x239d+0x98f+0x1f*-0x175)/(-0x1ae1+0xb9b+0xf48+0.20000000000000018)),this['b']=Math['pow'](_0x45583c['b'],(-0x12a*-0x10+0x122d+-0x24cc*0x1)/(-0x1646+0x3*0xc3b+-0x1f*0x77+0.20000000000000018)),this['a']=_0x45583c['a'],this;}['mulScalar'](_0x3f67b2){return this['r']*=_0x3f67b2,this['g']*=_0x3f67b2,this['b']*=_0x3f67b2,this;}['fromString'](_0x1aaa51){const _0x37e3e7=parseInt(_0x1aaa51['replace']('#','0x'),-0x1*-0x1ec+0xf*-0x297+-0x22d*-0x11);let _0x29e58d;return _0x1aaa51['length']>-0x224a+0x9*0x34f+0x48a?_0x29e58d=Y['intToBytes'+'32'](_0x37e3e7):(_0x29e58d=Y['intToBytes'+'24'](_0x37e3e7),_0x29e58d[0x23e3+-0xcc4+0x6*-0x3da]=-0x1307+0x16eb+-0x2e5),this['set'](_0x29e58d[0x43a*0x9+0x79*0x31+-0x3d33]/(-0x23b5+-0xc80+-0x10c*-0x2f),_0x29e58d[0xc05+-0x13a2+0x79e]/(-0x1bf7+0x2c*0xe+0x1a8e),_0x29e58d[0x1785+0x6d8+-0x1e5b]/(0x1ac9+0x19b7+-0x2d*0x125),_0x29e58d[0x2b4+-0x128e+-0x1f*-0x83]/(-0x408+0x14fa+-0xff3)),this;}['fromArray'](_0xa07cc7,_0x3e8242=-0x1fec*0x1+-0xdf*-0x25+-0x4f){return this['r']=_0xa07cc7[_0x3e8242]??this['r'],this['g']=_0xa07cc7[_0x3e8242+(-0x1*0x16ae+-0x2*0x119b+0x39e5)]??this['g'],this['b']=_0xa07cc7[_0x3e8242+(-0x2*-0x8f+0x2349+-0x2465)]??this['b'],this['a']=_0xa07cc7[_0x3e8242+(0x1146+0x16*-0x1b7+0x1477*0x1)]??this['a'],this;}['toString'](_0x14c52a,_0x273a36){const {r:_0x1d96b4,g:_0x16742b,b:_0x17e01d,a:_0x2d6e96}=this;if(_0x273a36||_0x1d96b4>-0x1*-0x2273+-0xa9b+-0x17d7||_0x16742b>0x425+0x1028*0x1+-0x6*0x362||_0x17e01d>0x1def+0x2b0*0xb+-0x3b7e)return _0x1d96b4['toFixed'](-0x1c97+0x29*0x88+0x3*0x246)+',\x20'+_0x16742b['toFixed'](-0xfb9+0xe2d+0x18f)+',\x20'+_0x17e01d['toFixed'](-0x2*0x9a6+-0x1f0f+0x325e)+',\x20'+_0x2d6e96['toFixed'](0xad1+0x5*0x510+-0x241e);let _0x2bf4f6='#'+((0x1813*0x1+0x137*-0x19+0x64d*0x1<<0x1*-0xc63+0x179b+-0x10*0xb2)+(Math['round'](_0x1d96b4*(-0x155e+-0x1*0x2066+0x36c3))<<0x7f2+-0x1831+0x104f)+(Math['round'](_0x16742b*(-0xab*-0x25+0x150a*-0x1+0x2*-0x157))<<-0x25fe+0xbc1+0x1a45)+Math['round'](_0x17e01d*(0x1be9+0x1*-0x1735+-0x3b5)))['toString'](0x21d3+0x47*0x5d+-0x9ed*0x6)['slice'](0x17c8+-0x19ee+0x227);if(_0x14c52a===!(0x477+0x112*0x12+-0x17bb)){const _0x332a28=Math['round'](_0x2d6e96*(0x16*-0x64+-0x24e8+-0x2e7f*-0x1))['toString'](-0x253+0x3e*-0x10+0xe5*0x7);this['a']<(-0x7f9*0x2+-0x25e8+0x35ea)/(-0x468+-0x3ac*0x5+0x17c3)?_0x2bf4f6+='0'+_0x332a28:_0x2bf4f6+=_0x332a28;}return _0x2bf4f6;}['toArray'](_0x543484=[],_0x1908a6=-0x4e+0xf81+-0xf33,_0xa642c2=!(0x3b5+0xb*0x301+-0x24c0)){return _0x543484[_0x1908a6]=this['r'],_0x543484[_0x1908a6+(-0x3b*0x9d+0x1f98+-0x4*-0x126)]=this['g'],_0x543484[_0x1908a6+(-0x1b1+-0x5*0x20c+0xbef)]=this['b'],_0xa642c2&&(_0x543484[_0x1908a6+(0x1*0x1570+-0x2483+0xf16)]=this['a']),_0x543484;}};h(Tt,'BLACK',Object['freeze'](new Tt(-0x6*0x228+0x36a+-0x17*-0x6a,-0x14d3+0x23fb+-0x14*0xc2,-0xe26+-0x3*0xc4c+-0x8b*-0x5e,0x2029+-0x1*0x1212+-0x3*0x4b2))),h(Tt,'BLUE',Object['freeze'](new Tt(0x1d91+0x4ab*0x7+-0x3e3e,-0x45*0x13+-0x1a3a+-0xf*-0x217,-0x101*-0xd+0x348+-0x1054,-0x16*0x1b6+-0x18fa+0x3e9f*0x1))),h(Tt,'CYAN',Object['freeze'](new Tt(0x1eab+0x1*-0x1e87+-0x24,-0x93f+-0x1*0x24e9+0x12f*0x27,-0x149f+-0xb26*-0x2+-0x6b*0x4,-0x2e*-0x3a+-0xb21+0xb6))),h(Tt,'GRAY',Object['freeze'](new Tt(-0x3*-0x7c4+0x1f*0x52+-0x213a+0.5,0xa0+-0x136d+0x12cd*0x1+0.5,-0x292+-0x12d3+0x1565+0.5,0xd83*0x2+0x3*0x4c5+-0x1*0x2954))),h(Tt,'GREEN',Object['freeze'](new Tt(-0x485*0x1+0x769+0x25*-0x14,0x727+0x98e+-0x85a*0x2,-0x23de+-0xb29+0x2f07,-0x1*0x7bd+-0x73e*-0x3+-0x6fe*0x2))),h(Tt,'MAGENTA',Object['freeze'](new Tt(-0x34*0x3b+0x107e*-0x2+-0x1*-0x2cf9,0x1*-0x1f8d+-0x21d6+0x4163*0x1,-0x1b4c+0x26a3+-0x2*0x5ab,0x111f+-0x58d+-0xb91*0x1))),h(Tt,'RED',Object['freeze'](new Tt(0x51d*-0x1+0x398*-0x6+0x1aae,0x1*-0x23f1+0x18a0+0xb51,0x247*0x3+-0x586+-0x14f,0x227a+-0x2*-0x463+-0x2b3f*0x1))),h(Tt,'WHITE',Object['freeze'](new Tt(0x83*-0x15+-0x2145+-0x3b*-0xbf,0x62*-0x37+0x17ba+-0x2ab,-0x1af9+-0x36+0x1b30,0x2*0x1315+-0x24f4+0x67*-0x3))),h(Tt,'YELLOW',Object['freeze'](new Tt(0x15b9*-0x1+-0x1*-0x18bc+-0x302,0xb3*-0xb+0x1*0xed5+-0x3f*0x1d,0xaea+0xfc7+-0x1ab1*0x1,-0x2534+0x21ae+0x387)));let ie=Tt;class ZS{constructor(_0x3c3c82,_0x109f52=0x93f+0xb74+0x2f5*-0x7){h(this,'_curve'),h(this,'_left',-(-0x8*0x268+-0x1183*-0x2+-0xfc5)/(0x1f4b*0x1+0x1eb4+-0x3dff)),h(this,'_right',(-0x648+0x1d*0x44+-0x16b*0x1)/(0x1ea*-0x14+0x13a9+0x129f)),h(this,'_recip',-0x309+0xd3c+-0xa33),h(this,'_p0',-0x268a+-0x1*0x1a33+-0x1*-0x40bd),h(this,'_p1',0x5f*-0x13+-0x1b4e+0x225b),h(this,'_m0',0x1b*0x12a+-0x224f+0x2e1),h(this,'_m1',-0x1*-0x81d+0x66a+-0xe87),(this['_curve']=_0x3c3c82,this['_reset'](_0x109f52));}['evaluate'](_0x2bd0f9,_0x347ba1=!(-0x2*0xe5e+0x844+-0x1479*-0x1)){(_0x347ba1||_0x2bd0f9<this['_left']||_0x2bd0f9>=this['_right'])&&this['_reset'](_0x2bd0f9);let _0x5b6a7a;const _0x57aa1f=this['_curve']['type'];if(_0x57aa1f===_x)_0x5b6a7a=this['_p0'];else{const _0xca10e8=this['_recip']===-0xac5+-0x52f*0x1+-0x7fa*-0x2?0x40f+0x18b5+0x2*-0xe62:(_0x2bd0f9-this['_left'])*this['_recip'];_0x57aa1f===mx?_0x5b6a7a=Y['lerp'](this['_p0'],this['_p1'],_0xca10e8):_0x57aa1f===tp?_0x5b6a7a=Y['lerp'](this['_p0'],this['_p1'],_0xca10e8*_0xca10e8*(-0x2207+-0xaf2+0x2cfc-(0x3*-0x831+-0x2*-0xb66+-0x1c9*-0x1)*_0xca10e8)):_0x5b6a7a=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0xca10e8);}return _0x5b6a7a;}['_reset'](_0x5149ac){const _0x2530db=this['_curve']['keys'],_0x51464f=_0x2530db['length'];if(!_0x51464f)this['_left']=-(-0x27b+0x1b19*-0x1+-0x1d95*-0x1)/(0x1d2a*-0x1+-0x1d3*0x11+0x3c2d),this['_right']=(0x38e*-0x1+-0x14af+0xc1f*0x2)/(0x1c73+0x54*-0x32+0xc0b*-0x1),this['_recip']=-0x9*-0x380+0x1de6*-0x1+-0x5*0x52,this['_p0']=this['_p1']=this['_m0']=this['_m1']=0x155+-0x1af3*0x1+-0x88a*-0x3;else{if(_0x5149ac<_0x2530db[0x346*-0x6+-0x2236+-0x2*-0x1aed][0x14*0x1df+0x2*-0x54+-0x1*0x24c4])this['_left']=-(0x2*-0x19d+-0x200+-0x53b*-0x1)/(0x2322+-0x2*0x694+-0x3a*0x61),this['_right']=_0x2530db[0x8*0x48a+0x19dd+0x3e2d*-0x1][0x10d6+0xe35+-0x1f0b],this['_recip']=-0x1663+0x408+0x125b,this['_p0']=this['_p1']=_0x2530db[-0x47*0x2f+-0x2c2+0xfcb][-0x1*0x983+0xca4*0x1+-0x320],this['_m0']=this['_m1']=0x10a2+0x235a+0x33fc*-0x1;else{if(_0x5149ac>=_0x2530db[_0x51464f-(0x1fa8*-0x1+-0x21d3+0x417c)][-0x2262+-0x74*0x26+0x2*0x19cd])this['_left']=_0x2530db[_0x51464f-(-0x2*0x373+-0x2cc*-0x8+-0x11*0xe9)][-0x13d*-0x18+0x1*-0x1ed9+0x121],this['_right']=(-0x17ab+0x4*-0x5fe+0x4*0xbe9)/(-0x10b*-0x3+0x1447+-0x1768),this['_recip']=0x1*0x92e+0x5ac+-0xeda,this['_p0']=this['_p1']=_0x2530db[_0x51464f-(-0x1*0xe5f+-0x15*0xca+-0x1ef2*-0x1)][0x1d1d*0x1+0x81b+-0x551*0x7],this['_m0']=this['_m1']=-0x1a*-0x135+-0x85e+-0x1704;else{let _0x4a5d14=0x13c+-0x4*-0x2aa+0xbe4*-0x1;for(;_0x5149ac>=_0x2530db[_0x4a5d14+(0x2*-0x545+-0x596+-0x1021*-0x1)][0x1cc+-0xb4e*0x3+0x201e];)_0x4a5d14++;this['_left']=_0x2530db[_0x4a5d14][-0x173*-0xd+0x18ca+-0x2ba1],this['_right']=_0x2530db[_0x4a5d14+(0x1f*0x119+0x8ff*-0x3+-0x709*0x1)][-0xeec+-0x1fd3+-0x3*-0xf95];const _0x283f4b=(0x293+-0x83*0x5+-0x3)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x283f4b)?_0x283f4b:0xae4+0xd73*-0x2+-0x2*-0x801,this['_p0']=_0x2530db[_0x4a5d14][0x1*-0x1f4e+-0xfcd+0x2d*0x10c],this['_p1']=_0x2530db[_0x4a5d14+(0x1895+-0x1407+-0x48d)][-0x11b+-0x2559+-0x37*-0xb3],this['_curve']['type']===Nm&&this['_calcTange'+'nts'](_0x2530db,_0x4a5d14);}}}}['_calcTange'+'nts'](_0x2164a5,_0x2115bb){let _0x3f2487;const _0x2b30ee=_0x2164a5[_0x2115bb],_0x15a876=_0x2164a5[_0x2115bb+(0x82*0x1f+0x4*0x1c+0x29*-0x65)];let _0x2b62f1;if(_0x2115bb===0x73a+0x19b8+0x20f2*-0x1?_0x3f2487=[_0x2164a5[-0x1c6*-0xd+0x128*-0x11+-0x366][0xcc5+-0x1*-0x1c2f+-0x28f4]+(_0x2164a5[0x15b*-0x10+0x1*0x268f+-0x269*0x7][0x11*-0x6f+0x17ce+-0x106f]-_0x2164a5[-0x1790+-0x16da+-0x11*-0x2bb][0x1e2e+0x22d4+-0x4102*0x1]),_0x2164a5[0x111f+0xda6+-0x1ec5][0x1a22*-0x1+0x261c+-0xbf9]+(_0x2164a5[-0xd*-0x29+-0xace+-0xb*-0xcb][0x76*0xd+0x18de+-0x1edb]-_0x2164a5[-0x23e2+-0x16*0xad+-0x10eb*-0x3][0x11*0x1d+-0xe5*-0x1e+-0x1cc2])]:_0x3f2487=_0x2164a5[_0x2115bb-(-0x107*0x1f+0x6f8+0x18e2)],_0x2115bb===_0x2164a5['length']-(-0x761+-0x1*0xb29+0x2*0x946)?_0x2b62f1=[_0x2164a5[_0x2115bb+(0xf89*0x1+0x1df7*-0x1+0xe6f)][0x1b1*-0x2+0x1bc1+0x11*-0x16f]+(_0x2164a5[_0x2115bb+(0x2251*-0x1+-0x1864+0x3ab6)][0x1*0x23f+0x1593*0x1+-0x17d2]-_0x2164a5[_0x2115bb][-0x2*0x98b+-0x1*0xa65+0x1d7b]),_0x2164a5[_0x2115bb+(0x82*-0x25+-0x11c*-0x1e+-0x1*0xe7d)][0x915+0x1*-0x6aa+-0x26a]+(_0x2164a5[_0x2115bb+(0x16c8+-0x107*-0x1d+-0x1186*0x3)][0x5*-0x2f2+0xad9+0x2*0x1f1]-_0x2164a5[_0x2115bb][0x1*0x53a+-0xef*0x11+-0xaa6*-0x1])]:_0x2b62f1=_0x2164a5[_0x2115bb+(0x54f+-0x18da+0x138d)],this['_curve']['type']===Nm){const _0x50b107=(-0xbc9+-0x1ff6+0x2bc1*0x1)*(_0x15a876[-0x920+-0xec3+0x17e3]-_0x2b30ee[-0x1fb5+-0x1*-0x31+0x1f84*0x1])/(_0x15a876[0x1234+-0x29a+-0xf9a]-_0x3f2487[-0x1*-0x1d99+0x2698+-0x21*0x211]),_0x4e4073=(0x656+0x1262+-0xc5b*0x2)*(_0x15a876[-0x2*0x36a+-0x4e9+0xbbd]-_0x2b30ee[0xab1+0xe6d+-0x191e*0x1])/(_0x2b62f1[-0x2e*-0x65+0x6*-0x55+-0x1028]-_0x2b30ee[0x173c+-0x4b7+-0xb*0x1af]);this['_m0']=this['_curve']['tension']*(isFinite(_0x50b107)?_0x50b107:0x1fd8+-0x1d*-0x9a+-0x314a)*(_0x15a876[-0x1*-0x357+-0x9e8+0x692]-_0x3f2487[0x23*0xb4+0x2294+-0x3b2f]),this['_m1']=this['_curve']['tension']*(isFinite(_0x4e4073)?_0x4e4073:-0x5c6+0x71d*-0x4+0x223a)*(_0x2b62f1[-0x1b80+-0x1486+-0x3007*-0x1]-_0x2b30ee[0xa*0x267+0x1*-0x1601+-0x3*0xac]);}else{const _0x24b725=(_0x15a876[-0x1ad9+-0xddb*0x1+0x14*0x209]-_0x2b30ee[-0x125b+0x1925+0x16*-0x4f])/(_0x2b30ee[0x1cac+-0x1*-0x2d5+-0x1f81]-_0x3f2487[-0x17b2+-0x8b+-0x55*-0x49]),_0x9a2307=(_0x15a876[0xd6b+-0x2296*-0x1+0x1*-0x3001]-_0x2b30ee[-0xe9f*-0x1+0x9ff*0x3+-0x2c9c])/(_0x2b62f1[0x2ce*-0x9+-0x1e7d+-0x1*-0x37bb]-_0x15a876[0x10fc+-0x71*0x1d+-0x42f]),_0x350c39=_0x2b30ee[0x12e*0x15+-0x146e+-0x457]+(_0x3f2487[0xfca+-0xcfb+-0x2ce]-_0x2b30ee[-0x95+0x142f+-0x1399])*(isFinite(_0x24b725)?_0x24b725:0x3*0x4cb+0x66e*-0x1+-0xb*0xb9),_0x3d1536=_0x15a876[0x590+-0x166d+0x10de]+(_0x2b62f1[-0x1069*0x2+-0x1fd7+0x3*0x158e]-_0x15a876[0x20e1*0x1+0x1*-0x3a1+-0x1d3f])*(isFinite(_0x9a2307)?_0x9a2307:0x259b+-0x235*0x3+-0x1efc),_0xbfa6d9=this['_curve']['tension'];this['_m0']=_0xbfa6d9*(_0x15a876[-0x1*-0x1f1c+-0x3ae+-0x1b6d]-_0x350c39),this['_m1']=_0xbfa6d9*(_0x3d1536-_0x2b30ee[-0x1*0x1d8a+0x1*0x21ce+-0x443*0x1]);}}['_evaluateH'+'ermite'](_0x147c90,_0x547e56,_0xf09d13,_0x1032fd,_0x36b427){const _0x235b95=_0x36b427*_0x36b427,_0x12c8eb=_0x36b427+_0x36b427,_0x5224e7=-0x178b+-0x1bd4+0x3360-_0x36b427,_0x154ef8=_0x5224e7*_0x5224e7;return _0x147c90*((0xf4+-0x1*-0x10c7+-0x11ba+_0x12c8eb)*_0x154ef8)+_0xf09d13*(_0x36b427*_0x154ef8)+_0x547e56*(_0x235b95*(-0x107a+0x17ea+-0x76d-_0x12c8eb))+_0x1032fd*(_0x235b95*(_0x36b427-(-0xbd*0x28+0xaa*-0x35+0x40bb)));}}class qs{constructor(_0x1fa5a5){h(this,'keys',[]),h(this,'type',tp),h(this,'tension',0xe9e*-0x2+-0x25b8+0x5*0xd64+0.5),h(this,'_eval',new ZS(this));if(_0x1fa5a5){for(let _0x1d1f86=-0x9b*0x3+-0x2*0x10ca+0x2365;_0x1d1f86<_0x1fa5a5['length']-(-0x47*-0x72+0x133c*0x1+-0x10f3*0x3);_0x1d1f86+=0x1a50+0x200*-0xe+0x1b2)this['keys']['push']([_0x1fa5a5[_0x1d1f86],_0x1fa5a5[_0x1d1f86+(0x12*0x1c9+-0x8fd+-0x1724)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x58829c,_0x10b36c){const _0x2be04b=this['keys'],_0xdb53bd=_0x2be04b['length'];let _0x740f16=-0x3ec*0x8+0x62f*0x1+0x1931;for(;_0x740f16<_0xdb53bd&&!(_0x2be04b[_0x740f16][-0xbb8+0x1dad+-0x11f5*0x1]>_0x58829c);_0x740f16++);const _0x334aa2=[_0x58829c,_0x10b36c];return this['keys']['splice'](_0x740f16,0x96b+-0xfa2+0x637,_0x334aa2),_0x334aa2;}['get'](_0x874a2b){return this['keys'][_0x874a2b];}['sort'](){this['keys']['sort']((_0x3ce02b,_0x394de2)=>_0x3ce02b[-0x221c+-0x232*0xb+0x3a42]-_0x394de2[-0x1b69+-0x1349*0x2+0x41fb]);}['value'](_0x3df9c1){return this['_eval']['evaluate'](_0x3df9c1,!(-0xe3*0x8+-0x22b6+-0x29ce*-0x1));}['closest'](_0x472db8){const _0x17ad13=this['keys'],_0xe7bd23=_0x17ad13['length'];let _0x33ade9=0xa4f+-0x4be*-0x5+0x1*-0x2203,_0xb16d2a=null;for(let _0x57ecec=-0x1b55+0x1*0x236d+-0x818;_0x57ecec<_0xe7bd23;_0x57ecec++){const _0x55634d=Math['abs'](_0x472db8-_0x17ad13[_0x57ecec][0x3*0x366+0xc5*-0x7+-0x4cf]);if(_0x33ade9>=_0x55634d)_0x33ade9=_0x55634d,_0xb16d2a=_0x17ad13[_0x57ecec];else break;}return _0xb16d2a;}['clone'](){const _0xcdc4af=new this['constructo'+'r']();return _0xcdc4af['keys']=this['keys']['map'](_0x204a01=>[..._0x204a01]),_0xcdc4af['type']=this['type'],_0xcdc4af['tension']=this['tension'],_0xcdc4af;}['quantize'](_0x3179bd){_0x3179bd=Math['max'](_0x3179bd,0x16f*-0x1+-0x40e*0x4+-0xb*-0x19b);const _0x418736=new Float32Array(_0x3179bd),_0x6c7bc1=(-0x458*-0x4+0x1e81+-0x2fe0)/(_0x3179bd-(-0x16d2+0xff2*-0x1+0x26c5));_0x418736[0xee9+-0x59*0x2f+0x16e]=this['_eval']['evaluate'](-0x3*0x6e7+0x1*-0x1e07+0x4*0xcaf,!(0x21cf+-0x6*-0x24d+-0x2f9d));for(let _0x476f8c=0x1d2c*-0x1+-0x1f7*-0x1+0x1b36;_0x476f8c<_0x3179bd;_0x476f8c++)_0x418736[_0x476f8c]=this['_eval']['evaluate'](_0x6c7bc1*_0x476f8c);return _0x418736;}['quantizeCl'+'amped'](_0x3570d0,_0x4b7196,_0x1d56e2){const _0x1ea4e9=this['quantize'](_0x3570d0);for(let _0x4282a9=-0x1*0x6e5+0x252e+-0x1e49;_0x4282a9<_0x1ea4e9['length'];++_0x4282a9)_0x1ea4e9[_0x4282a9]=Math['min'](_0x1d56e2,Math['max'](_0x4b7196,_0x1ea4e9[_0x4282a9]));return _0x1ea4e9;}}class na{constructor(..._0xf58cd3){h(this,'curves',[]),h(this,'_type',tp);if(_0xf58cd3['length']>0x13ea+0xeb+0x2b*-0x7c){for(let _0x22884d=0x4bb+0x1b8a+-0xb*0x2ef;_0x22884d<_0xf58cd3['length'];_0x22884d++)this['curves']['push'](new qs(_0xf58cd3[_0x22884d]));}else{if(_0xf58cd3['length']===-0x3*0x431+0x897+0x3fc)this['curves']['push'](new qs());else{const _0x1fedc9=_0xf58cd3[-0x2344+-0xa*0x49+0x261e];if(typeof _0x1fedc9=='number'){for(let _0x347b1d=0x785+0x2217+0xa67*-0x4;_0x347b1d<_0x1fedc9;_0x347b1d++)this['curves']['push'](new qs());}else{for(let _0x298045=-0x53f+0x220+0x1*0x31f;_0x298045<_0x1fedc9['length'];_0x298045++)this['curves']['push'](new qs(_0x1fedc9[_0x298045]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x32cf58){this['_type']=_0x32cf58;for(let _0x51e114=0x1*-0x1906+0xd94+0xb72;_0x51e114<this['curves']['length'];_0x51e114++)this['curves'][_0x51e114]['type']=_0x32cf58;}get['type'](){return this['_type'];}['get'](_0x51ad03){return this['curves'][_0x51ad03];}['value'](_0x231256,_0x5c6c52=[]){const _0x423113=this['curves']['length'];_0x5c6c52['length']=_0x423113;for(let _0x3464c4=0x1*-0xf1d+-0x22bf+-0x31dc*-0x1;_0x3464c4<_0x423113;_0x3464c4++)_0x5c6c52[_0x3464c4]=this['curves'][_0x3464c4]['value'](_0x231256);return _0x5c6c52;}['clone'](){const _0x323c37=new this['constructo'+'r']();_0x323c37['curves']=[];for(let _0x560ddc=-0xabe+-0x1385*0x1+0x1e43;_0x560ddc<this['curves']['length'];_0x560ddc++)_0x323c37['curves']['push'](this['curves'][_0x560ddc]['clone']());return _0x323c37['_type']=this['_type'],_0x323c37;}['quantize'](_0x364c2d){_0x364c2d=Math['max'](_0x364c2d,0x14*0x2+-0x139f+0x1379);const _0xaabd83=this['curves']['length'],_0x5f0622=new Float32Array(_0x364c2d*_0xaabd83),_0x355c3c=(-0x1598+-0x12f3+0x288c)/(_0x364c2d-(-0x1d11+0x1*0x1aad+0x265));for(let _0x492ff6=-0x7a*0x21+-0xe72*-0x1+0x29*0x8;_0x492ff6<_0xaabd83;_0x492ff6++){const _0x2e8437=new ZS(this['curves'][_0x492ff6]);for(let _0x104971=0xde9+0x2351*0x1+-0x313a;_0x104971<_0x364c2d;_0x104971++)_0x5f0622[_0x104971*_0xaabd83+_0x492ff6]=_0x2e8437['evaluate'](_0x355c3c*_0x104971);}return _0x5f0622;}['quantizeCl'+'amped'](_0x24213e,_0x3bebc2,_0x4d5fee){const _0x4829c6=this['quantize'](_0x24213e);for(let _0x4dff79=0xd2f+0xcfa+-0x1a29;_0x4dff79<_0x4829c6['length'];++_0x4dff79)_0x4829c6[_0x4dff79]=Math['min'](_0x4d5fee,Math['max'](_0x3bebc2,_0x4829c6[_0x4dff79]));return _0x4829c6;}}const Hf=new Float32Array(-0x2030+-0xc86+-0x2cb7*-0x1),km=new Int32Array(Hf['buffer']);class Mn{static['float2Half'](_0x38b227){Hf[-0x1*0x1583+-0x6*-0x1ab+0xb81]=_0x38b227;const _0x28248e=km[0x1c*0xa6+0x53*0x3e+-0x76*0x53];let _0x417e55=_0x28248e>>0xf*0x71+0x4*-0x1db+-0xd*-0x11&-0x24a*0x31+0x7*0x1c13+-0x2ba5*-0x1,_0x54024f=_0x28248e>>0x1c2d*0x1+0x2225+-0x3e46&-0x1199+0x6*-0x607+0x3dc2;const _0x2cfadb=_0x28248e>>0x1aa4+-0x1a0a+-0x1*0x83&-0x1dae+-0x18ec+0x3799*0x1;return _0x2cfadb<-0x61*0x49+-0xf11*-0x2+0x109*-0x2?_0x417e55:_0x2cfadb>0x863+-0x80e+0x39?(_0x417e55|=-0xd433*0x1+0xb8c*-0x4+0x17e63,_0x417e55|=(_0x2cfadb===-0x86d+-0x117+0x9*0x12b?0x1fc4*-0x1+-0x2663+0x4627:0xc6e+-0xf3a*0x1+0x2cd)&&_0x28248e&-0x1f1*-0x24e9+-0xb*-0xda10d+0x1*-0x5d93e9,_0x417e55):_0x2cfadb<0x3b*-0x5e+0x1ab*0x3+0x111a?(_0x54024f|=0x76*-0x10+0x2708*-0x1+0xd9a*0x4,_0x417e55|=(_0x54024f>>0x2*0xe50+0x42e*0x8+0x3d9e*-0x1-_0x2cfadb)+(_0x54024f>>-0x2*0x66b+-0x6*0x279+0x1c1d-_0x2cfadb&-0x23*0x76+-0x497+0x17b*0xe),_0x417e55):(_0x417e55|=_0x2cfadb-(0x748+0x14f*0x8+-0x1150)<<0x6a*0x3+-0x1000+0x4*0x3b3|_0x54024f>>-0x4*-0x119+0x1a24+-0x1e87,_0x417e55+=_0x54024f&-0xb*0x14+-0x2*-0x279+-0x37*0x13,_0x417e55);}static['float2RGBA'+'8'](_0x3b2169,_0xc2e3b0){Hf[0xf48+0x21d8+-0x3120]=_0x3b2169;const _0x4917c4=km[-0x1*0x1f6b+-0x9d*-0x17+0x1150];_0xc2e3b0['r']=(_0x4917c4>>-0x1*0x16ae+0x22e2+-0xc1c&-0x684+0x5d1+0x1b2)/(0x1be+0x26e3*-0x1+0x2624),_0xc2e3b0['g']=(_0x4917c4>>0x1e2b+-0x2108+-0x6b*-0x7&-0xb3f+-0x82*0x7+0xfcc)/(0x4*-0x802+0x6a*-0x55+0xda5*0x5),_0xc2e3b0['b']=(_0x4917c4>>-0x85*0x32+0x1*0x2b+-0x13b*-0x15&-0xe90+0x1ec6+-0x1*0xf37)/(-0x8b0*0x1+-0x9d*0x29+0x1*0x22d4),_0xc2e3b0['a']=(_0x4917c4&-0x44b+-0x11f5*-0x2+0x7*-0x460)/(-0x13*0x36+0xf5+0x4*0x103);}}const wt=class wt{constructor(_0x20bdb7=0x2*0x6d+0x1*-0x2439+0x235f,_0xc1b534=-0x1ed4+-0x7d8+0x26ac,_0x230931=-0xa11+0x436*0x5+-0x1*0xafd){h(this,'x'),h(this,'y'),h(this,'z'),_0x20bdb7['length']===0xb40+0x1d75*0x1+-0x28b2?(this['x']=_0x20bdb7[-0x864+0xf09*0x1+-0x1b*0x3f],this['y']=_0x20bdb7[0x1248+-0x1*0x1016+-0x231],this['z']=_0x20bdb7[0x538+-0x656*-0x5+-0x24e4]):(this['x']=_0x20bdb7,this['y']=_0xc1b534,this['z']=_0x230931);}['add'](_0x1f616f){return this['x']+=_0x1f616f['x'],this['y']+=_0x1f616f['y'],this['z']+=_0x1f616f['z'],this;}['add2'](_0x30b010,_0x23c9df){return this['x']=_0x30b010['x']+_0x23c9df['x'],this['y']=_0x30b010['y']+_0x23c9df['y'],this['z']=_0x30b010['z']+_0x23c9df['z'],this;}['addScalar'](_0x17b70d){return this['x']+=_0x17b70d,this['y']+=_0x17b70d,this['z']+=_0x17b70d,this;}['addScaled'](_0x3ff98e,_0x52422f){return this['x']+=_0x3ff98e['x']*_0x52422f,this['y']+=_0x3ff98e['y']*_0x52422f,this['z']+=_0x3ff98e['z']*_0x52422f,this;}['clone'](){const _0x4a3b38=this['constructo'+'r'];return new _0x4a3b38(this['x'],this['y'],this['z']);}['copy'](_0x4180fe){return this['x']=_0x4180fe['x'],this['y']=_0x4180fe['y'],this['z']=_0x4180fe['z'],this;}['cross'](_0x150056,_0x56d637){const _0x204262=_0x150056['x'],_0x28466a=_0x150056['y'],_0x1f0819=_0x150056['z'],_0x258da2=_0x56d637['x'],_0x10db2f=_0x56d637['y'],_0xbacbcc=_0x56d637['z'];return this['x']=_0x28466a*_0xbacbcc-_0x10db2f*_0x1f0819,this['y']=_0x1f0819*_0x258da2-_0xbacbcc*_0x204262,this['z']=_0x204262*_0x10db2f-_0x258da2*_0x28466a,this;}['distance'](_0x1bf759){const _0x362aba=this['x']-_0x1bf759['x'],_0x7b3ebd=this['y']-_0x1bf759['y'],_0x14e166=this['z']-_0x1bf759['z'];return Math['sqrt'](_0x362aba*_0x362aba+_0x7b3ebd*_0x7b3ebd+_0x14e166*_0x14e166);}['div'](_0x753711){return this['x']/=_0x753711['x'],this['y']/=_0x753711['y'],this['z']/=_0x753711['z'],this;}['div2'](_0x233b91,_0xc427c9){return this['x']=_0x233b91['x']/_0xc427c9['x'],this['y']=_0x233b91['y']/_0xc427c9['y'],this['z']=_0x233b91['z']/_0xc427c9['z'],this;}['divScalar'](_0x62036b){return this['x']/=_0x62036b,this['y']/=_0x62036b,this['z']/=_0x62036b,this;}['dot'](_0x1d3777){return this['x']*_0x1d3777['x']+this['y']*_0x1d3777['y']+this['z']*_0x1d3777['z'];}['equals'](_0x1ce9f6){return this['x']===_0x1ce9f6['x']&&this['y']===_0x1ce9f6['y']&&this['z']===_0x1ce9f6['z'];}['equalsAppr'+'ox'](_0x35c9f7,_0x248be1=-0x1*0x2bb+-0x3*-0xb6+0x1*0x99+0.000001){return Math['abs'](this['x']-_0x35c9f7['x'])<_0x248be1&&Math['abs'](this['y']-_0x35c9f7['y'])<_0x248be1&&Math['abs'](this['z']-_0x35c9f7['z'])<_0x248be1;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x42ecab,_0x57cda1,_0x4c14cd){return this['x']=_0x42ecab['x']+_0x4c14cd*(_0x57cda1['x']-_0x42ecab['x']),this['y']=_0x42ecab['y']+_0x4c14cd*(_0x57cda1['y']-_0x42ecab['y']),this['z']=_0x42ecab['z']+_0x4c14cd*(_0x57cda1['z']-_0x42ecab['z']),this;}['mul'](_0x255e73){return this['x']*=_0x255e73['x'],this['y']*=_0x255e73['y'],this['z']*=_0x255e73['z'],this;}['mul2'](_0x302ae8,_0x3702ee){return this['x']=_0x302ae8['x']*_0x3702ee['x'],this['y']=_0x302ae8['y']*_0x3702ee['y'],this['z']=_0x302ae8['z']*_0x3702ee['z'],this;}['mulScalar'](_0x4e4ad6){return this['x']*=_0x4e4ad6,this['y']*=_0x4e4ad6,this['z']*=_0x4e4ad6,this;}['normalize'](_0x366033=this){const _0x27d0f5=_0x366033['x']*_0x366033['x']+_0x366033['y']*_0x366033['y']+_0x366033['z']*_0x366033['z'];if(_0x27d0f5>-0x3fb*0x1+0x23dc+-0x1fe1*0x1){const _0x2b4961=(-0x129e+0x16d7+-0x438)/Math['sqrt'](_0x27d0f5);this['x']=_0x366033['x']*_0x2b4961,this['y']=_0x366033['y']*_0x2b4961,this['z']=_0x366033['z']*_0x2b4961;}return this;}['floor'](_0x205f68=this){return this['x']=Math['floor'](_0x205f68['x']),this['y']=Math['floor'](_0x205f68['y']),this['z']=Math['floor'](_0x205f68['z']),this;}['ceil'](_0x48411d=this){return this['x']=Math['ceil'](_0x48411d['x']),this['y']=Math['ceil'](_0x48411d['y']),this['z']=Math['ceil'](_0x48411d['z']),this;}['round'](_0x1063d6=this){return this['x']=Math['round'](_0x1063d6['x']),this['y']=Math['round'](_0x1063d6['y']),this['z']=Math['round'](_0x1063d6['z']),this;}['min'](_0x44c972){return _0x44c972['x']<this['x']&&(this['x']=_0x44c972['x']),_0x44c972['y']<this['y']&&(this['y']=_0x44c972['y']),_0x44c972['z']<this['z']&&(this['z']=_0x44c972['z']),this;}['max'](_0xba8a28){return _0xba8a28['x']>this['x']&&(this['x']=_0xba8a28['x']),_0xba8a28['y']>this['y']&&(this['y']=_0xba8a28['y']),_0xba8a28['z']>this['z']&&(this['z']=_0xba8a28['z']),this;}['project'](_0x2e350c){const _0x224584=this['x']*_0x2e350c['x']+this['y']*_0x2e350c['y']+this['z']*_0x2e350c['z'],_0x166515=_0x2e350c['x']*_0x2e350c['x']+_0x2e350c['y']*_0x2e350c['y']+_0x2e350c['z']*_0x2e350c['z'],_0x675870=_0x224584/_0x166515;return this['x']=_0x2e350c['x']*_0x675870,this['y']=_0x2e350c['y']*_0x675870,this['z']=_0x2e350c['z']*_0x675870,this;}['set'](_0x5b217e,_0x32cf6b,_0x29b9e4){return this['x']=_0x5b217e,this['y']=_0x32cf6b,this['z']=_0x29b9e4,this;}['sub'](_0x4c73cc){return this['x']-=_0x4c73cc['x'],this['y']-=_0x4c73cc['y'],this['z']-=_0x4c73cc['z'],this;}['sub2'](_0xb2f67,_0x131cde){return this['x']=_0xb2f67['x']-_0x131cde['x'],this['y']=_0xb2f67['y']-_0x131cde['y'],this['z']=_0xb2f67['z']-_0x131cde['z'],this;}['subScalar'](_0x253e4b){return this['x']-=_0x253e4b,this['y']-=_0x253e4b,this['z']-=_0x253e4b,this;}['fromArray'](_0x282639,_0x58d013=-0xd53+-0x645+0x1398){return this['x']=_0x282639[_0x58d013]??this['x'],this['y']=_0x282639[_0x58d013+(-0x9*0xcf+0x7d7+-0xd*0xb)]??this['y'],this['z']=_0x282639[_0x58d013+(0x9a7+-0x2*-0xb13+-0x1fcb)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x43f437=[],_0x5517f7=0x169+-0x15f5+0x148c){return _0x43f437[_0x5517f7]=this['x'],_0x43f437[_0x5517f7+(0x26ef*-0x1+0x2080+0x670)]=this['y'],_0x43f437[_0x5517f7+(0x8*-0x1ca+0x1*-0xf5f+-0xb*-0x2b3)]=this['z'],_0x43f437;}};h(wt,'ZERO',Object['freeze'](new wt(-0x4*0x12e+-0x1*-0xd49+0x2db*-0x3,0x231d*0x1+0xbf9+0x178b*-0x2,-0x1*0x205+-0x18c5+-0x1aca*-0x1))),h(wt,'HALF',Object['freeze'](new wt(-0x19f7+-0x1d8+0x1bcf+0.5,-0x58f*0x5+0x1*0x45b+0x1770+0.5,0x162b+0x12ec+-0x2917+0.5))),h(wt,'ONE',Object['freeze'](new wt(-0xa8*-0x8+-0xd12+0x1*0x7d3,-0x19b*0x6+0x6*-0x14e+0x1177,0x1f02+0x315*-0x7+-0x8e*0x11))),h(wt,'UP',Object['freeze'](new wt(-0x1218+0x1d52+-0xb3a,-0x2154+-0x2*0x11c5+0x44df,0x2543+0x15c0+-0x3b03))),h(wt,'DOWN',Object['freeze'](new wt(0x4f*0x5e+-0x26c7+-0x9c5*-0x1,-(-0x1be5+-0x1393+0x2f79),-0x1c84+0x73*0x4f+-0x6f9*0x1))),h(wt,'RIGHT',Object['freeze'](new wt(0x2092+-0x153a+0xb57*-0x1,-0x2143+-0x51*-0x66+-0xb*-0x17,0x1b83+0xf85+-0x2b08))),h(wt,'LEFT',Object['freeze'](new wt(-(-0x15c0+0x695*0x5+-0xb28),-0x1a*-0x3d+-0x1*0x24ee+0x1ebc,0x2679+0x37*-0x59+-0x135a))),h(wt,'FORWARD',Object['freeze'](new wt(-0x37a*0xa+-0x1a5f*-0x1+-0x7*-0x133,0x44f*0x7+-0x309*0x9+-0x2d8,-(-0x10*0x1d7+0x1*0x96a+0x1407)))),h(wt,'BACK',Object['freeze'](new wt(0x166a+0x111*-0xe+-0x77c,-0x2380+0x6*0x1d6+-0xc3e*-0x2,-0x917*-0x1+0x70e*-0x2+0x506)));let D=wt;const gn=class gn{constructor(){h(this,'data',new Float32Array(-0x1755+0x1ea4+-0x746)),this['data'][0x1f35+0x1*-0x23bc+0x487*0x1]=this['data'][-0x180e+0x1*0xe9b+0x977]=this['data'][-0x10*0xfb+-0x2027+0x2fdf]=-0x2*-0x871+0x151*0x4+0x1625*-0x1;}['clone'](){const _0x2ee091=this['constructo'+'r'];return new _0x2ee091()['copy'](this);}['copy'](_0x3b1675){const _0x139808=_0x3b1675['data'],_0xd734fc=this['data'];return _0xd734fc[-0x4c7*0x1+-0x1*0x1091+0x1558]=_0x139808[0x17c8+-0x1e8e+0x6c6],_0xd734fc[-0x2*-0xf6b+-0x2293*0x1+0x3be]=_0x139808[-0x259d*0x1+0x6c0+0x1ede],_0xd734fc[-0x3c1*0x9+-0x178*-0x13+0x1*0x5e3]=_0x139808[-0x1*-0x26b+0x16e5+-0x194e],_0xd734fc[-0x1b58+-0x36*0x3e+0x286f]=_0x139808[0x2371+0x3*0x825+-0x3bdd],_0xd734fc[-0x14d4+0x170b+-0x233]=_0x139808[0x1703+-0x3d*-0x9d+-0x3c68],_0xd734fc[0x2197+-0x61*0x5b+0xe9]=_0x139808[0x3*0x6df+0xbf4+-0x208c],_0xd734fc[0x157e+-0x1*-0xd+0x313*-0x7]=_0x139808[0x188b+0x4b0+-0x1d35],_0xd734fc[0xfa8+0x73*-0x4d+0x12f6]=_0x139808[0xea6+-0x1cde+0x209*0x7],_0xd734fc[0x8e6+0x2027+-0x2905]=_0x139808[0x1fd6+-0xca3+0x7*-0x2bd],this;}['set'](_0x378312){const _0x44c573=this['data'];return _0x44c573[0x236f+-0x1*-0x10de+-0x344d]=_0x378312[-0x2cc*-0xb+-0x1*-0xb6f+-0x2a33],_0x44c573[0x125e+0x1230+-0xc2f*0x3]=_0x378312[-0x2*0x4bd+-0xda*0x13+0x19a9],_0x44c573[0xaa1*-0x3+-0x1fbd+0x3fa2]=_0x378312[-0x7*0x568+0xee*0x1f+-0x484*-0x2],_0x44c573[-0xef*-0x7+0x157c+0xa*-0x2cd]=_0x378312[-0x30*0x9f+-0x2443*0x1+0x4216],_0x44c573[-0x98*-0x33+0x130b+-0x314f]=_0x378312[0x1*-0x1d0f+0x23a4+-0x691*0x1],_0x44c573[-0xb*-0xbf+0x2*-0xd55+-0xd7*-0x16]=_0x378312[0x240d+0x1959*0x1+-0x33b*0x13],_0x44c573[-0xad6+-0x19e9+0x24c5]=_0x378312[0x1cfe+0x209b*-0x1+0x3a3],_0x44c573[0xd02+0x98f+0x482*-0x5]=_0x378312[0x3d*0x8d+-0x34*0xb3+0x2ca],_0x44c573[0x7c9+-0x253b+-0x4d*-0x62]=_0x378312[0x23ec+0xb19+-0x20b*0x17],this;}['getX'](_0x35f5cb=new D()){return _0x35f5cb['set'](this['data'][-0x24b6+0x2216+0x2a0],this['data'][-0x1ab9+-0x22f3+-0x148f*-0x3],this['data'][0xe5*-0x4+0x3*-0x5cd+0x14fd]);}['getY'](_0x2ecd3c=new D()){return _0x2ecd3c['set'](this['data'][-0x6de+0x143*0xb+-0x700],this['data'][0x7*-0x52a+0x2242*-0x1+0x466c],this['data'][0xc87*0x2+-0xec3+-0xa46]);}['getZ'](_0x492752=new D()){return _0x492752['set'](this['data'][-0xd2b*0x1+-0x17d8*0x1+-0x1f3*-0x13],this['data'][0x30b+0x188+0x184*-0x3],this['data'][-0xc88+0x57*-0x66+-0xd*-0x3a2]);}['equals'](_0x262d93){const _0x2dc8f6=this['data'],_0x40cddb=_0x262d93['data'];return _0x2dc8f6[-0x60c+-0x1f*-0x77+-0x85d]===_0x40cddb[0xb5*-0xb+-0x24a1*-0x1+-0x1cda*0x1]&&_0x2dc8f6[-0x1ffc+0x1bdb+0x2*0x211]===_0x40cddb[-0x1d5*-0xd+-0x8*-0x47b+0x2e*-0x14c]&&_0x2dc8f6[0x7fb+0x1700*-0x1+0xf07]===_0x40cddb[-0x247b+-0x15+0x1*0x2492]&&_0x2dc8f6[-0x1*-0x49f+0xf*-0x24e+0x1df6]===_0x40cddb[-0x1*0x1d72+-0xf4e*-0x2+-0x127]&&_0x2dc8f6[-0x1*-0x16f5+-0x6*-0x7+0x171b*-0x1]===_0x40cddb[-0x59*-0x13+-0x5d*0x67+0x1ed4]&&_0x2dc8f6[-0x33d*-0x6+0x23fd+0x2*-0x1bb3]===_0x40cddb[-0x1*-0x1b4a+0xf6a*0x2+-0x3a19]&&_0x2dc8f6[0x4*0x88f+-0x1*0x1c55+-0x5e1]===_0x40cddb[0x26c7*0x1+0x245e+0x4b1f*-0x1]&&_0x2dc8f6[-0x1a*-0xe5+-0x3*-0x559+0xb*-0x392]===_0x40cddb[0x181e+-0x12d4+0x1*-0x543]&&_0x2dc8f6[-0x90f*-0x1+0x1*0x2225+-0x6*0x732]===_0x40cddb[-0x6b*0x2b+-0xd3*0x13+-0x21aa*-0x1];}['isIdentity'](){const _0x48b991=this['data'];return _0x48b991[-0x3*0x9e0+-0x1*-0x837+-0x1d*-0xbd]===-0x25e2*-0x1+0x1e46+0x49*-0xef&&_0x48b991[0x12b5+0x1eed+-0x15*0x25d]===-0x1220+0x2*0x136+0x10c*0xf&&_0x48b991[-0x1069*0x2+0x6b9+0x1a1b]===-0x3*0x293+-0x7ca*0x1+0x13*0xd1&&_0x48b991[0x89a+0x7dd*-0x3+0xf00]===-0x5*-0x429+-0x18cf*-0x1+-0x2d9c&&_0x48b991[0xe02+0x18af+0x1*-0x26ad]===-0x22*0x7f+-0x45*-0x6+-0x30d*-0x5&&_0x48b991[0x1c0*0x14+0x74d+-0x2a48]===0x15c8+0x942+-0x1f0a&&_0x48b991[0x1a21+0x1*0x551+-0x1f6c]===0xdda+0xa3*-0x24+-0x489*-0x2&&_0x48b991[-0x47*-0xf+0x225f+0x1*-0x2681]===0x2*0xd85+-0x1*0x1c37+0x12d*0x1&&_0x48b991[-0xcf1*-0x2+0x3e*-0x1a+-0x138e]===-0x3d4+0x51b+-0x146;}['setIdentit'+'y'](){const _0x3805f3=this['data'];return _0x3805f3[-0x153b*-0x1+-0x19d5+0x3e*0x13]=0xd5+-0x5fe*0x6+0x2320,_0x3805f3[0x1a*-0x11b+0x79e+0x1*0x1521]=0xdf2+0xf*-0x297+0x18e7,_0x3805f3[0x1f*0xa3+0x92+-0x144d]=0x29d*0x1+0x1*-0xbd1+0x934,_0x3805f3[-0x2572+0x599+0x1fdc]=-0xeb6+-0x1604+0x24ba,_0x3805f3[-0x4*-0x79f+-0x12cb+-0xbad]=-0x1173+0x6*-0x593+0x32e6,_0x3805f3[0x28f*-0x7+-0x751*0x4+-0xe*-0x35f]=-0xb95+-0x13cf+0x1f64,_0x3805f3[-0x13a0+-0x1f1*0x11+-0x3*-0x118d]=-0x4*0x60b+0x163*0x11+0x99,_0x3805f3[-0x2*0x9e9+0x138d+0x4c]=0x4*0x38c+0x83a+-0x166a*0x1,_0x3805f3[-0x107+0x1*-0xbfb+0xd0a]=-0x23cd+0x1503+0x7*0x21d,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x27e7bc=this){const _0x26fff4=_0x27e7bc['data'],_0x36d719=this['data'];if(_0x26fff4===_0x36d719){let _0x2e60e8;_0x2e60e8=_0x26fff4[-0x1*-0xf4f+-0x7f6+-0x758],_0x36d719[-0x229b+-0x3d8*-0xa+-0x3d4]=_0x26fff4[0x7ca+0x17ef+-0x21*0xf6],_0x36d719[-0x409+0xfff+-0xbf3]=_0x2e60e8,_0x2e60e8=_0x26fff4[-0x359*-0x2+-0x6b*-0x13+-0x7*0x217],_0x36d719[0x2325+0x1190+-0x3*0x1191]=_0x26fff4[0x24d0+-0x2500+-0x36*-0x1],_0x36d719[0x676*-0x6+0x2009+0x6c1]=_0x2e60e8,_0x2e60e8=_0x26fff4[-0x776*-0x1+0xfb0+-0x1f*0xbf],_0x36d719[-0x44b+0x13b8+0x3a*-0x44]=_0x26fff4[-0x176f+-0xed8+0x264e],_0x36d719[-0x124+-0xb56+0xc81]=_0x2e60e8;}else _0x36d719[-0xcaf+-0x1*-0x93a+0x375]=_0x26fff4[0x2131+0xf9a+-0x30cb],_0x36d719[-0x38b*0x1+0x1a5*0x17+-0x6db*0x5]=_0x26fff4[0xef*0x1+-0x916*-0x3+0x2*-0xe17],_0x36d719[0x29*0x8d+-0x20c8+0xa35]=_0x26fff4[0x36*0xb3+0xfb0+-0x356c],_0x36d719[0xf5*-0x7+-0x1fae+0x36*0xb6]=_0x26fff4[0x2420+-0x3*-0x5c+-0x59*0x6b],_0x36d719[-0x15cc+0x1*0x5a0+0x1030]=_0x26fff4[0x2018+0x1819+-0xc5*0x49],_0x36d719[0x1a*0xe+0x1b67+-0x1cce]=_0x26fff4[-0x131c+-0xcc*0x2+-0x6e9*-0x3],_0x36d719[-0x1a6*0x17+-0x1*-0xf1b+-0x5*-0x491]=_0x26fff4[0x2512+-0x429+-0x20e7],_0x36d719[-0x9f*0x5+-0x2*-0x4ae+-0x63a]=_0x26fff4[0x1455+-0x16fb+0x2ab],_0x36d719[0x6*-0x2ff+-0x1c9*-0x11+-0xc57]=_0x26fff4[0x25cd*0x1+-0x445*0x3+0xd5*-0x1e];return this;}['setFromMat'+'4'](_0x754ad9){const _0x2835c7=_0x754ad9['data'],_0x55358a=this['data'];return _0x55358a[-0x19b0+-0x9*0x10e+0x9e*0x39]=_0x2835c7[0xe2a+0x25b6+-0x33e0],_0x55358a[0xe0a+0x8*-0x286+0x627]=_0x2835c7[0x60*-0x6+-0xeff+0x1140],_0x55358a[0x1d6c+-0x1*-0x2383+-0x40ed]=_0x2835c7[-0x5a1+-0x1445*-0x1+0xea2*-0x1],_0x55358a[0x1807*0x1+-0xbcf*0x3+-0x7f*-0x17]=_0x2835c7[0x6bc*-0x1+-0x1*-0x13e5+0xd25*-0x1],_0x55358a[-0x1973+0x1dc7+-0x228*0x2]=_0x2835c7[0xff1*-0x2+0x4ae+-0x1*-0x1b39],_0x55358a[0x17a3+0x1a9f+-0x323d]=_0x2835c7[-0x1*-0x1d2f+0x1be2+-0x390b],_0x55358a[0x2699+0x1ec3+-0x4556]=_0x2835c7[-0x76*-0x16+0x1*0x79f+0x11bb*-0x1],_0x55358a[0x1*-0x232c+-0x1358+-0x1*-0x368b]=_0x2835c7[0x1*0x19fc+-0x175*-0x6+-0x22b1],_0x55358a[-0x21ff+-0x9*-0x2f6+-0x761*-0x1]=_0x2835c7[-0x101*0xf+-0x1*0x8cb+0x17e4],this;}['setFromQua'+'t'](_0x639c5e){const _0x263f46=_0x639c5e['x'],_0x5afb98=_0x639c5e['y'],_0x1597b3=_0x639c5e['z'],_0x28f628=_0x639c5e['w'],_0x216180=_0x263f46+_0x263f46,_0x235bef=_0x5afb98+_0x5afb98,_0x375476=_0x1597b3+_0x1597b3,_0x5db347=_0x263f46*_0x216180,_0x1e604d=_0x263f46*_0x235bef,_0x3a6265=_0x263f46*_0x375476,_0x1eea92=_0x5afb98*_0x235bef,_0x54a1c8=_0x5afb98*_0x375476,_0x1626bc=_0x1597b3*_0x375476,_0x16b434=_0x28f628*_0x216180,_0x18b1ac=_0x28f628*_0x235bef,_0x289673=_0x28f628*_0x375476,_0x3c01ec=this['data'];return _0x3c01ec[0x2cf*-0xb+0xe84*-0x2+0x3bed]=0x4*-0x151+-0x1a99+0x2*0xfef-(_0x1eea92+_0x1626bc),_0x3c01ec[-0x2*0x1ac+0x223+0x136]=_0x1e604d+_0x289673,_0x3c01ec[-0x1*0x2702+0x287*0x6+0x17da]=_0x3a6265-_0x18b1ac,_0x3c01ec[-0x69*0x55+0x19*-0xb+0x23f3*0x1]=_0x1e604d-_0x289673,_0x3c01ec[0x20fa+-0xf30+-0x11c6]=0x7fa+0x21d*0xe+-0x258f-(_0x5db347+_0x1626bc),_0x3c01ec[0x22bf+-0x2*0xf09+-0x4a8]=_0x54a1c8+_0x16b434,_0x3c01ec[-0x1980+0x16e+0x1818]=_0x3a6265+_0x18b1ac,_0x3c01ec[0x1740+-0x1fca+0x2b*0x33]=_0x54a1c8-_0x16b434,_0x3c01ec[0x10f+-0x225a+-0x13*-0x1c1]=0x361*-0x3+0x59f+0x485-(_0x5db347+_0x1eea92),this;}['invertMat4'](_0x4595b8){const _0x1f9cde=_0x4595b8['data'],_0xbdddf2=_0x1f9cde[-0x19*-0xa9+0x9*0x245+0xa3*-0x3a],_0x29788b=_0x1f9cde[-0xe5*0xe+0x1393+-0x2*0x386],_0x17ff4b=_0x1f9cde[0x1eb5+0x1*-0x1835+-0x67e],_0x2fb337=_0x1f9cde[0x2*0xdcd+0xa*-0x380+0x92*0xd],_0x17a45a=_0x1f9cde[0x1f5e+0x1095+-0xffa*0x3],_0x49f20f=_0x1f9cde[0x22e2+0x23db*0x1+-0x46b7*0x1],_0x47b1ee=_0x1f9cde[-0x1874+0x1b60+-0x2e4],_0xcbe862=_0x1f9cde[0x26*-0xbf+-0x4*0x47f+-0x3*-0xf75],_0x45fbc8=_0x1f9cde[0xbb+-0x151*-0x1b+-0x243c],_0x5bde4d=_0x45fbc8*_0x17a45a-_0x49f20f*_0xcbe862,_0x1fe154=-_0x45fbc8*_0x29788b+_0x17ff4b*_0xcbe862,_0x19bc37=_0x49f20f*_0x29788b-_0x17ff4b*_0x17a45a,_0x163a31=-_0x45fbc8*_0x2fb337+_0x49f20f*_0x47b1ee,_0x1d5552=_0x45fbc8*_0xbdddf2-_0x17ff4b*_0x47b1ee,_0x1efda1=-_0x49f20f*_0xbdddf2+_0x17ff4b*_0x2fb337,_0x2a665e=_0xcbe862*_0x2fb337-_0x17a45a*_0x47b1ee,_0x59c279=-_0xcbe862*_0xbdddf2+_0x29788b*_0x47b1ee,_0x135419=_0x17a45a*_0xbdddf2-_0x29788b*_0x2fb337,_0x1a726e=_0xbdddf2*_0x5bde4d+_0x29788b*_0x163a31+_0x17ff4b*_0x2a665e;if(_0x1a726e===0x19f5+0x17cf+-0xb6*0x46)this['setIdentit'+'y']();else{const _0x14aaa8=(-0xbb6+0x1144+0xcb*-0x7)/_0x1a726e,_0x13e237=this['data'];_0x13e237[-0x28c+0xbe*-0x18+-0x1*-0x145c]=_0x5bde4d*_0x14aaa8,_0x13e237[-0x286*-0x2+-0x2693+-0x431*-0x8]=_0x1fe154*_0x14aaa8,_0x13e237[-0x1082*-0x2+0xe*0xe8+-0x2db2]=_0x19bc37*_0x14aaa8,_0x13e237[0x29*-0x59+0x1*0x2507+-0x1*0x16c3]=_0x163a31*_0x14aaa8,_0x13e237[0x13d*0x1d+-0x449*-0x9+-0x4a76]=_0x1d5552*_0x14aaa8,_0x13e237[0x15bf+-0x961+0x1*-0xc59]=_0x1efda1*_0x14aaa8,_0x13e237[0x133b+-0x5*-0x18a+-0x1ae7]=_0x2a665e*_0x14aaa8,_0x13e237[-0x1d3b+0x44e+0x18f4]=_0x59c279*_0x14aaa8,_0x13e237[-0x217f+-0x2405+-0x4*-0x1163]=_0x135419*_0x14aaa8;}return this;}['transformV'+'ector'](_0x2c009a,_0x15f9ae=new D()){const _0x4a8acd=this['data'],{x:_0x4e8ffe,y:_0x103a53,z:_0x77da44}=_0x2c009a;return _0x15f9ae['x']=_0x4e8ffe*_0x4a8acd[-0x2*-0x3b5+0x1372+0x2fc*-0x9]+_0x103a53*_0x4a8acd[-0x2009+0xa*-0x3d1+0x4636*0x1]+_0x77da44*_0x4a8acd[-0x1a20+-0x1d5c+0x3782],_0x15f9ae['y']=_0x4e8ffe*_0x4a8acd[-0x1ae6*0x1+-0xb*0x7+0x1b34]+_0x103a53*_0x4a8acd[0xfcb+0x53*-0x13+-0x99e]+_0x77da44*_0x4a8acd[0x2081+0x1a1e+0x96*-0x64],_0x15f9ae['z']=_0x4e8ffe*_0x4a8acd[-0x1912*0x1+0x1b*-0x50+0x2184]+_0x103a53*_0x4a8acd[0xb79+-0x579+-0x5fb]+_0x77da44*_0x4a8acd[0x367+-0x26dd+-0x289*-0xe],_0x15f9ae;}};h(gn,'IDENTITY',Object['freeze'](new gn())),h(gn,'ZERO',Object['freeze'](new gn()['set']([-0x1*-0x1727+-0x1047+0xb*-0xa0,0x7*-0x4cb+-0x5*-0x58a+-0x1*-0x5db,-0x1906*-0x1+-0x219d*0x1+-0x3*-0x2dd,0x20ea+-0x18ee+-0x7fc,-0x1a92+0x710+-0x1c6*-0xb,0x1c7f+0x1e36+0x3ab5*-0x1,-0xe*0x27f+0xaa0+0x1852,0x1559*-0x1+-0x321+0x187a,0x7a4+-0x1*-0x1993+-0x2137])));let _i=gn;const Gt=class Gt{constructor(_0x25ff2f=-0x1*0x1bbd+-0x1743+0x3300,_0x2b4b3e=-0x15bd+0x19e2+-0x425){h(this,'x'),h(this,'y'),_0x25ff2f['length']===-0x51d+0x888+-0x61*0x9?(this['x']=_0x25ff2f[-0x16fc+0x35*-0x2b+0x38b*0x9],this['y']=_0x25ff2f[0x2089+-0x1f03+0x1*-0x185]):(this['x']=_0x25ff2f,this['y']=_0x2b4b3e);}['add'](_0x2b4779){return this['x']+=_0x2b4779['x'],this['y']+=_0x2b4779['y'],this;}['add2'](_0x143b5e,_0x1daffb){return this['x']=_0x143b5e['x']+_0x1daffb['x'],this['y']=_0x143b5e['y']+_0x1daffb['y'],this;}['addScalar'](_0x3fccc0){return this['x']+=_0x3fccc0,this['y']+=_0x3fccc0,this;}['addScaled'](_0x5d36b2,_0x15b6fd){return this['x']+=_0x5d36b2['x']*_0x15b6fd,this['y']+=_0x5d36b2['y']*_0x15b6fd,this;}['clone'](){const _0x40c63f=this['constructo'+'r'];return new _0x40c63f(this['x'],this['y']);}['copy'](_0x41d8f0){return this['x']=_0x41d8f0['x'],this['y']=_0x41d8f0['y'],this;}['cross'](_0x579766){return this['x']*_0x579766['y']-this['y']*_0x579766['x'];}['distance'](_0x188db9){const _0xfddc09=this['x']-_0x188db9['x'],_0x30a18d=this['y']-_0x188db9['y'];return Math['sqrt'](_0xfddc09*_0xfddc09+_0x30a18d*_0x30a18d);}['div'](_0x19e56c){return this['x']/=_0x19e56c['x'],this['y']/=_0x19e56c['y'],this;}['div2'](_0x2a4318,_0x12bf75){return this['x']=_0x2a4318['x']/_0x12bf75['x'],this['y']=_0x2a4318['y']/_0x12bf75['y'],this;}['divScalar'](_0x406be3){return this['x']/=_0x406be3,this['y']/=_0x406be3,this;}['dot'](_0x32349e){return this['x']*_0x32349e['x']+this['y']*_0x32349e['y'];}['equals'](_0x3bf14a){return this['x']===_0x3bf14a['x']&&this['y']===_0x3bf14a['y'];}['equalsAppr'+'ox'](_0x2eb481,_0x2ec886=0x1984+-0xa3d+0x1*-0xf47+0.000001){return Math['abs'](this['x']-_0x2eb481['x'])<_0x2ec886&&Math['abs'](this['y']-_0x2eb481['y'])<_0x2ec886;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x485249,_0x558360,_0xa7c14b){return this['x']=_0x485249['x']+_0xa7c14b*(_0x558360['x']-_0x485249['x']),this['y']=_0x485249['y']+_0xa7c14b*(_0x558360['y']-_0x485249['y']),this;}['mul'](_0x421ce2){return this['x']*=_0x421ce2['x'],this['y']*=_0x421ce2['y'],this;}['mul2'](_0x10f28e,_0x1cd279){return this['x']=_0x10f28e['x']*_0x1cd279['x'],this['y']=_0x10f28e['y']*_0x1cd279['y'],this;}['mulScalar'](_0xdcf671){return this['x']*=_0xdcf671,this['y']*=_0xdcf671,this;}['normalize'](_0x3856e7=this){const _0x506823=_0x3856e7['x']*_0x3856e7['x']+_0x3856e7['y']*_0x3856e7['y'];if(_0x506823>0x15c*0x15+-0x9f*0xc+-0x1518){const _0x5a9589=(-0x1eec+-0x2394+0x1*0x4281)/Math['sqrt'](_0x506823);this['x']=_0x3856e7['x']*_0x5a9589,this['y']=_0x3856e7['y']*_0x5a9589;}return this;}['rotate'](_0xe0b1b7){const _0x2827c2=Math['atan2'](this['x'],this['y'])+_0xe0b1b7*Y['DEG_TO_RAD'],_0x481392=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x2827c2)*_0x481392,this['y']=Math['cos'](_0x2827c2)*_0x481392,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*Y['RAD_TO_DEG'];}['angleTo'](_0xe527f2){return Math['atan2'](this['x']*_0xe527f2['y']+this['y']*_0xe527f2['x'],this['x']*_0xe527f2['x']+this['y']*_0xe527f2['y'])*Y['RAD_TO_DEG'];}['floor'](_0x464c47=this){return this['x']=Math['floor'](_0x464c47['x']),this['y']=Math['floor'](_0x464c47['y']),this;}['ceil'](_0x596874=this){return this['x']=Math['ceil'](_0x596874['x']),this['y']=Math['ceil'](_0x596874['y']),this;}['round'](_0x4444c9=this){return this['x']=Math['round'](_0x4444c9['x']),this['y']=Math['round'](_0x4444c9['y']),this;}['min'](_0x42b406){return _0x42b406['x']<this['x']&&(this['x']=_0x42b406['x']),_0x42b406['y']<this['y']&&(this['y']=_0x42b406['y']),this;}['max'](_0x2e5c3c){return _0x2e5c3c['x']>this['x']&&(this['x']=_0x2e5c3c['x']),_0x2e5c3c['y']>this['y']&&(this['y']=_0x2e5c3c['y']),this;}['set'](_0x1c10ed,_0x5aa056){return this['x']=_0x1c10ed,this['y']=_0x5aa056,this;}['sub'](_0x2360bc){return this['x']-=_0x2360bc['x'],this['y']-=_0x2360bc['y'],this;}['sub2'](_0x12baab,_0x40176f){return this['x']=_0x12baab['x']-_0x40176f['x'],this['y']=_0x12baab['y']-_0x40176f['y'],this;}['subScalar'](_0x4592ce){return this['x']-=_0x4592ce,this['y']-=_0x4592ce,this;}['fromArray'](_0x28b57d,_0x39d9f0=-0x779*0x2+-0x1*0xff+0xff1){return this['x']=_0x28b57d[_0x39d9f0]??this['x'],this['y']=_0x28b57d[_0x39d9f0+(0x617*0x5+-0x191*-0x10+0x31*-0x122)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x193a6d=[],_0x4a902c=-0x2*0x10c9+0x22fc+-0x16a){return _0x193a6d[_0x4a902c]=this['x'],_0x193a6d[_0x4a902c+(-0x1f02+-0x63b+0x552*0x7)]=this['y'],_0x193a6d;}static['angleRad'](_0xbb9ac1,_0x517744){return Math['atan2'](_0xbb9ac1['x']*_0x517744['y']-_0xbb9ac1['y']*_0x517744['x'],_0xbb9ac1['x']*_0x517744['x']+_0xbb9ac1['y']*_0x517744['y']);}};h(Gt,'ZERO',Object['freeze'](new Gt(0xc*-0x99+-0x1*-0x391+0x47*0xd,-0xa54+-0xfcd*-0x1+-0x579))),h(Gt,'HALF',Object['freeze'](new Gt(0xb5d+0x3e*0x23+-0x13d7+0.5,0x1*-0x821+0xb70+-0x34f+0.5))),h(Gt,'ONE',Object['freeze'](new Gt(-0x3c5+0xf45+0x6d*-0x1b,-0x2*-0x4e9+0x1630+-0x3*0xaab))),h(Gt,'UP',Object['freeze'](new Gt(0x49d*-0x2+-0x1309+0x1c43,0x1cc3+0xc42+0x1f4*-0x15))),h(Gt,'DOWN',Object['freeze'](new Gt(-0xc08+-0xc60+0x61a*0x4,-(0xa17+-0x331+-0x6e5)))),h(Gt,'RIGHT',Object['freeze'](new Gt(0x16b3+-0x1ed*-0x2+-0x1*0x1a8c,0x1364+-0x3*-0xb75+-0x35c3*0x1))),h(Gt,'LEFT',Object['freeze'](new Gt(-(0x1906*-0x1+0x3d+0x18ca*0x1),0x626+0xd60+-0x1386)));let J=Gt;const pr=class pr{constructor(_0x2405db=0xe74+-0xf0f+0x1f*0x5,_0x51b04b=-0x15*-0x183+-0x769+-0x1856,_0x15a74e=0x1*-0x2309+-0x10c9*-0x1+0x4*0x490,_0x43f552=-0x14f7+0x263*-0xb+0x2f38){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x2405db['length']===-0x1434+0x33*0x1+0x1*0x1405?(this['x']=_0x2405db[0x3*0x704+-0x1c7+-0x1345],this['y']=_0x2405db[0x2357+0x8b6+-0x1*0x2c0c],this['z']=_0x2405db[0x26ad+0x1738+-0x3de3],this['w']=_0x2405db[-0x4ce*0x7+-0x2094+0x1613*0x3]):(this['x']=_0x2405db,this['y']=_0x51b04b,this['z']=_0x15a74e,this['w']=_0x43f552);}['add'](_0x5368b6){return this['x']+=_0x5368b6['x'],this['y']+=_0x5368b6['y'],this['z']+=_0x5368b6['z'],this['w']+=_0x5368b6['w'],this;}['add2'](_0x25b1f7,_0x2432fc){return this['x']=_0x25b1f7['x']+_0x2432fc['x'],this['y']=_0x25b1f7['y']+_0x2432fc['y'],this['z']=_0x25b1f7['z']+_0x2432fc['z'],this['w']=_0x25b1f7['w']+_0x2432fc['w'],this;}['addScalar'](_0x165b5c){return this['x']+=_0x165b5c,this['y']+=_0x165b5c,this['z']+=_0x165b5c,this['w']+=_0x165b5c,this;}['addScaled'](_0x17e165,_0x4c18df){return this['x']+=_0x17e165['x']*_0x4c18df,this['y']+=_0x17e165['y']*_0x4c18df,this['z']+=_0x17e165['z']*_0x4c18df,this['w']+=_0x17e165['w']*_0x4c18df,this;}['clone'](){const _0xd396fd=this['constructo'+'r'];return new _0xd396fd(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x5471cd){return this['x']=_0x5471cd['x'],this['y']=_0x5471cd['y'],this['z']=_0x5471cd['z'],this['w']=_0x5471cd['w'],this;}['div'](_0x146f20){return this['x']/=_0x146f20['x'],this['y']/=_0x146f20['y'],this['z']/=_0x146f20['z'],this['w']/=_0x146f20['w'],this;}['div2'](_0x3d7fcb,_0x52b91b){return this['x']=_0x3d7fcb['x']/_0x52b91b['x'],this['y']=_0x3d7fcb['y']/_0x52b91b['y'],this['z']=_0x3d7fcb['z']/_0x52b91b['z'],this['w']=_0x3d7fcb['w']/_0x52b91b['w'],this;}['divScalar'](_0x428426){return this['x']/=_0x428426,this['y']/=_0x428426,this['z']/=_0x428426,this['w']/=_0x428426,this;}['dot'](_0x1b6892){return this['x']*_0x1b6892['x']+this['y']*_0x1b6892['y']+this['z']*_0x1b6892['z']+this['w']*_0x1b6892['w'];}['equals'](_0x2c7536){return this['x']===_0x2c7536['x']&&this['y']===_0x2c7536['y']&&this['z']===_0x2c7536['z']&&this['w']===_0x2c7536['w'];}['equalsAppr'+'ox'](_0x1f202a,_0x16af43=0x6*-0x469+0x1*0xa7f+0xff7+0.000001){return Math['abs'](this['x']-_0x1f202a['x'])<_0x16af43&&Math['abs'](this['y']-_0x1f202a['y'])<_0x16af43&&Math['abs'](this['z']-_0x1f202a['z'])<_0x16af43&&Math['abs'](this['w']-_0x1f202a['w'])<_0x16af43;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x4ebaf8,_0x2151f2,_0x52d320){return this['x']=_0x4ebaf8['x']+_0x52d320*(_0x2151f2['x']-_0x4ebaf8['x']),this['y']=_0x4ebaf8['y']+_0x52d320*(_0x2151f2['y']-_0x4ebaf8['y']),this['z']=_0x4ebaf8['z']+_0x52d320*(_0x2151f2['z']-_0x4ebaf8['z']),this['w']=_0x4ebaf8['w']+_0x52d320*(_0x2151f2['w']-_0x4ebaf8['w']),this;}['mul'](_0xb4248d){return this['x']*=_0xb4248d['x'],this['y']*=_0xb4248d['y'],this['z']*=_0xb4248d['z'],this['w']*=_0xb4248d['w'],this;}['mul2'](_0x39dccb,_0x395ccb){return this['x']=_0x39dccb['x']*_0x395ccb['x'],this['y']=_0x39dccb['y']*_0x395ccb['y'],this['z']=_0x39dccb['z']*_0x395ccb['z'],this['w']=_0x39dccb['w']*_0x395ccb['w'],this;}['mulScalar'](_0x11e7f9){return this['x']*=_0x11e7f9,this['y']*=_0x11e7f9,this['z']*=_0x11e7f9,this['w']*=_0x11e7f9,this;}['normalize'](_0x208474=this){const _0x2b7dfe=_0x208474['x']*_0x208474['x']+_0x208474['y']*_0x208474['y']+_0x208474['z']*_0x208474['z']+_0x208474['w']*_0x208474['w'];if(_0x2b7dfe>0x5a1+0x1f07+-0x24a8){const _0x46d050=(0x14b4+-0x1*0x69d+-0xe16*0x1)/Math['sqrt'](_0x2b7dfe);this['x']=_0x208474['x']*_0x46d050,this['y']=_0x208474['y']*_0x46d050,this['z']=_0x208474['z']*_0x46d050,this['w']=_0x208474['w']*_0x46d050;}return this;}['floor'](_0x1d36e5=this){return this['x']=Math['floor'](_0x1d36e5['x']),this['y']=Math['floor'](_0x1d36e5['y']),this['z']=Math['floor'](_0x1d36e5['z']),this['w']=Math['floor'](_0x1d36e5['w']),this;}['ceil'](_0x5cb134=this){return this['x']=Math['ceil'](_0x5cb134['x']),this['y']=Math['ceil'](_0x5cb134['y']),this['z']=Math['ceil'](_0x5cb134['z']),this['w']=Math['ceil'](_0x5cb134['w']),this;}['round'](_0x2849c9=this){return this['x']=Math['round'](_0x2849c9['x']),this['y']=Math['round'](_0x2849c9['y']),this['z']=Math['round'](_0x2849c9['z']),this['w']=Math['round'](_0x2849c9['w']),this;}['min'](_0x218b00){return _0x218b00['x']<this['x']&&(this['x']=_0x218b00['x']),_0x218b00['y']<this['y']&&(this['y']=_0x218b00['y']),_0x218b00['z']<this['z']&&(this['z']=_0x218b00['z']),_0x218b00['w']<this['w']&&(this['w']=_0x218b00['w']),this;}['max'](_0x2ee199){return _0x2ee199['x']>this['x']&&(this['x']=_0x2ee199['x']),_0x2ee199['y']>this['y']&&(this['y']=_0x2ee199['y']),_0x2ee199['z']>this['z']&&(this['z']=_0x2ee199['z']),_0x2ee199['w']>this['w']&&(this['w']=_0x2ee199['w']),this;}['set'](_0x13cbdd,_0x4e3f12,_0x41c101,_0x3fc7d8){return this['x']=_0x13cbdd,this['y']=_0x4e3f12,this['z']=_0x41c101,this['w']=_0x3fc7d8,this;}['sub'](_0x918473){return this['x']-=_0x918473['x'],this['y']-=_0x918473['y'],this['z']-=_0x918473['z'],this['w']-=_0x918473['w'],this;}['sub2'](_0x22af4,_0x48bf64){return this['x']=_0x22af4['x']-_0x48bf64['x'],this['y']=_0x22af4['y']-_0x48bf64['y'],this['z']=_0x22af4['z']-_0x48bf64['z'],this['w']=_0x22af4['w']-_0x48bf64['w'],this;}['subScalar'](_0x5e8924){return this['x']-=_0x5e8924,this['y']-=_0x5e8924,this['z']-=_0x5e8924,this['w']-=_0x5e8924,this;}['fromArray'](_0x8c9cd5,_0x314cd1=0x1f40+0x1579+0xb*-0x4cb){return this['x']=_0x8c9cd5[_0x314cd1]??this['x'],this['y']=_0x8c9cd5[_0x314cd1+(0x7*0xc1+0x1e57*-0x1+0x2c9*0x9)]??this['y'],this['z']=_0x8c9cd5[_0x314cd1+(0x1*-0xbb1+-0x103*0x26+-0x3*-0x10b7)]??this['z'],this['w']=_0x8c9cd5[_0x314cd1+(-0x3*-0x562+-0x1b5e+0xb3b)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x471fc3=[],_0x215e71=0xb*0xad+-0x257*0xe+-0x1953*-0x1){return _0x471fc3[_0x215e71]=this['x'],_0x471fc3[_0x215e71+(-0x65f*0x3+0x1304+-0x1a*-0x1)]=this['y'],_0x471fc3[_0x215e71+(0x911*0x4+-0x11f3*0x2+-0x17*0x4)]=this['z'],_0x471fc3[_0x215e71+(-0x3*-0x2e+0x29*-0x99+0x16*0x117)]=this['w'],_0x471fc3;}};h(pr,'ZERO',Object['freeze'](new pr(0x1*0xd5b+0x26db+-0x3436,-0x21eb+0x1b88+0x663,-0x145*-0x14+-0x1bcb*0x1+0x267,-0x1b42+-0x24f8+0x403a))),h(pr,'HALF',Object['freeze'](new pr(-0x729+0x354+0x3d5+0.5,-0x3*0x94d+0x1ed3+-0x2ec+0.5,0xe25+0x1efb+0x10*-0x2d2+0.5,-0x2bf*-0xa+-0x79d*0x2+0x30f*-0x4+0.5))),h(pr,'ONE',Object['freeze'](new pr(-0x19f*-0xf+-0x22d6+-0xa86*-0x1,0x216c+-0x190a+-0x861,0x2b*0x27+-0x25cf+0x1f43,-0x1*0x179b+-0x151*-0x17+-0x6ab)));let re=pr;const to=new J(),Os=new D(),Js=new D(),ei=new D(),Hl=new D(),Qr=class Qr{constructor(){h(this,'data',new Float32Array(-0x241d+-0x7*0x14b+0x2d3a)),this['data'][-0xe9*0x25+-0x29*-0x91+-0x6*-0x1be]=this['data'][0x1387*0x2+0x55f*0x5+-0x41e4]=this['data'][-0x13de+-0x2459+0x3841*0x1]=this['data'][0x2561+-0x694+-0x313*0xa]=0x2535+0x2709+-0x4c3d;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x350562,_0x4df698,_0x534472,_0x1ea7b8,_0x42b946){_0x42b946?(_0x350562['x']=_0x1ea7b8*Math['tan'](_0x4df698*Math['PI']/(0xdb*0x2+0x1053+-0x9*0x1d9)),_0x350562['y']=_0x350562['x']/_0x534472):(_0x350562['y']=_0x1ea7b8*Math['tan'](_0x4df698*Math['PI']/(-0x1fdb+0x1012+-0x3*-0x5bb)),_0x350562['x']=_0x350562['y']*_0x534472);}['add2'](_0x4a0d31,_0x245a43){const _0x38efaa=_0x4a0d31['data'],_0x58f67a=_0x245a43['data'],_0x3de493=this['data'];return _0x3de493[-0x1142+0xa3+0x109f]=_0x38efaa[0x1c9*-0x15+-0x22d*0x9+0x983*0x6]+_0x58f67a[0x8*-0x248+-0xa9b+0x1cdb],_0x3de493[0x118a*-0x2+0x18fb+-0x2*-0x50d]=_0x38efaa[0x36+-0x5fc*0x3+0x11bf]+_0x58f67a[0x1628+-0x337*-0x5+0xe9*-0x2a],_0x3de493[0x1*-0x1a76+-0x223+0x1c9b]=_0x38efaa[-0x73d+0xc50*0x1+0x1*-0x511]+_0x58f67a[0x1*-0xf56+0x1*0x1f+0x1*0xf39],_0x3de493[-0x1c3*-0x6+0x247*-0x5+0xd4]=_0x38efaa[-0xa14+-0xe4a+0x1861]+_0x58f67a[-0xe8*0x17+0x2066+-0xb8b],_0x3de493[0x181d+-0x71*0x4+-0x1655]=_0x38efaa[-0x19*0x37+0xe90+-0x92d]+_0x58f67a[0x1*-0x1969+-0x59*0x6b+0x3ea0],_0x3de493[-0x4c2+-0x115c+0x1623]=_0x38efaa[-0x2184+-0x23d+0x11e3*0x2]+_0x58f67a[-0x1dd9*0x1+-0x182c+0x360a*0x1],_0x3de493[-0x699+-0x62a+0xcc9]=_0x38efaa[-0x2702+0x905*0x3+-0x1*-0xbf9]+_0x58f67a[-0x493+0x2616+-0x217d],_0x3de493[0x1686+-0x2*-0x56d+-0x1*0x2159]=_0x38efaa[0x9*-0x292+-0xf2d+-0xe*-0x2bd]+_0x58f67a[-0x1bfe+-0x10b3+-0x4f8*-0x9],_0x3de493[0x6b*-0x1+0x7*-0x2f3+0x3*0x708]=_0x38efaa[0x253e+-0x82+-0x24b4]+_0x58f67a[0x2208+-0x136f*0x1+-0x4db*0x3],_0x3de493[0x1*0xfbb+0x162*0xa+-0x1d86]=_0x38efaa[-0x1*-0x13b6+-0x16f0*0x1+0x343]+_0x58f67a[0x1890+-0xe0b*0x2+0x38f],_0x3de493[-0xbf0+-0x5ab*0x4+0x22a6]=_0x38efaa[-0x6*0x2f1+-0x2*0x8d1+0x336*0xb]+_0x58f67a[0x15*-0x25+0x23ad+-0x209a],_0x3de493[-0x13*-0x23+-0x1*-0x1337+-0x1*0x15c5]=_0x38efaa[-0x1*0xf9e+-0x1000+-0x1*-0x1fa9]+_0x58f67a[0x19a*0x1+-0x2*0xa54+0x1319],_0x3de493[0x19c2+-0x119e+-0x818]=_0x38efaa[-0x1256+-0x1848+-0x1555*-0x2]+_0x58f67a[0x946*0x4+0xb8b+-0x3097],_0x3de493[0x1*-0x22c+0xee8+0xbf*-0x11]=_0x38efaa[-0x89f*-0x1+0xabd+0x134f*-0x1]+_0x58f67a[0x69b*0x3+-0x5e6+-0xdde],_0x3de493[-0x28f*-0xe+0x1fc+-0x25c0]=_0x38efaa[0x1*0x12e3+0xe62+0x2137*-0x1]+_0x58f67a[0xf1*-0x1+0x1e7f*0x1+-0xec0*0x2],_0x3de493[-0xe0+0x585*-0x3+0x117e]=_0x38efaa[0x6f*-0x1+-0x19b6+0x1a34]+_0x58f67a[-0x1683+-0x35*0x35+-0x115*-0x1f],this;}['add'](_0x28a4f9){return this['add2'](this,_0x28a4f9);}['clone'](){const _0x4fe4fd=this['constructo'+'r'];return new _0x4fe4fd()['copy'](this);}['copy'](_0x2515eb){const _0x509913=_0x2515eb['data'],_0x2c16db=this['data'];return _0x2c16db[0x16f7+-0x12ea*0x1+0x40d*-0x1]=_0x509913[0x1c5*-0x16+-0x291*-0x2+0xe*0x26a],_0x2c16db[0x1*-0x1c81+-0x17ff+0x1*0x3481]=_0x509913[0x10ca+-0x2667+0x2*0xacf],_0x2c16db[0x28d*-0x2+0x1ac9*-0x1+0x1fe5]=_0x509913[-0x1d79+0xe8b+0xef0],_0x2c16db[-0x4*-0x5a1+-0x20*-0x27+-0x1b61]=_0x509913[-0x2f1+-0x1eb4+-0x10d4*-0x2],_0x2c16db[0x53*0x33+0x3*-0xa7d+-0x779*-0x2]=_0x509913[0x33*0x7+-0xa1e+0x8bd],_0x2c16db[0x35a+0x71b+-0x14e*0x8]=_0x509913[-0x2428+-0x1099+0x1*0x34c6],_0x2c16db[0x18d*0x1+0xa*0xeb+-0xab5]=_0x509913[-0x36b+0x161*-0x1+0x4d2],_0x2c16db[0x1455*-0x1+0x2b*-0x12+0x1762]=_0x509913[0x9f5*-0x2+-0x269b+-0x1*-0x3a8c],_0x2c16db[-0x2188+-0x9aa+-0x1f7*-0x16]=_0x509913[-0x1*0x232f+-0x1*-0x55b+0x1ddc],_0x2c16db[-0x3*0x2fd+0x19e3+-0x10e3]=_0x509913[0x14ce+0x14c5+0x1a*-0x199],_0x2c16db[-0x1f6d+0x13b5*0x1+0xbc2]=_0x509913[-0x20*-0xcf+0xaca+0x125*-0x20],_0x2c16db[0x2335*-0x1+0x1*0x16ac+0xc94]=_0x509913[0x8dd+-0xe*0x68+-0x322],_0x2c16db[-0x211*0xd+-0x6ac*-0x2+0xd91]=_0x509913[0x132f+0x10df+0x2402*-0x1],_0x2c16db[0x7*0x95+-0x1*-0xc31+-0x1*0x1037]=_0x509913[0x1*-0x214f+-0x1b6f*0x1+0x3ccb*0x1],_0x2c16db[-0x25b5*-0x1+0xe38+0x7*-0x769]=_0x509913[-0xb*-0x303+-0x175f*0x1+0x12*-0x8a],_0x2c16db[-0xdab+-0xc47*0x2+0x2648]=_0x509913[-0x1a9*-0x5+-0x1417+-0x1*-0xbd9],this;}['equals'](_0x62b5d7){const _0xe0e7f7=this['data'],_0x2df56c=_0x62b5d7['data'];return _0xe0e7f7[0x7*-0x2bf+0x17be+-0x485*0x1]===_0x2df56c[0xdec+-0x145d+0x671]&&_0xe0e7f7[0x1cb6+0x4c*-0x53+-0x1*0x411]===_0x2df56c[-0x2315+0x30*-0x8d+0x7e*0x7d]&&_0xe0e7f7[-0x1a47+-0xe*0xef+0x275b]===_0x2df56c[-0x245b+0x2*-0xaf4+-0x7*-0x853]&&_0xe0e7f7[-0x1*-0x1fa9+0x1f30+-0x3ed6]===_0x2df56c[-0xc*-0x97+-0x1ca1+0x6*0x398]&&_0xe0e7f7[0x26*-0x47+0xba+0x9d4]===_0x2df56c[-0x1531+-0x2212+-0x59*-0x9f]&&_0xe0e7f7[-0x211b+0xf*-0xad+-0x8a7*-0x5]===_0x2df56c[-0x6c+-0x667*-0x2+-0xc5d]&&_0xe0e7f7[-0xa40+-0x1f41+0x2987*0x1]===_0x2df56c[-0xa63+0x5cd+0xa*0x76]&&_0xe0e7f7[0x1b2c+0x2*0x38f+-0x2243]===_0x2df56c[0x1*-0x11e8+0x18f2+-0x703]&&_0xe0e7f7[-0x3fb+-0x11b8+0x1*0x15bb]===_0x2df56c[0x2aa+-0x76d*-0x1+-0xa0f]&&_0xe0e7f7[0xdee+-0x1af7+-0x1*-0xd12]===_0x2df56c[-0x12dd+0x1acc+0x7e6*-0x1]&&_0xe0e7f7[0x3*0xbaf+-0x1*-0x25cc+-0x48cf]===_0x2df56c[0x1517*-0x1+-0xa2a*0x1+0x1f4b]&&_0xe0e7f7[-0x12b*0x1e+-0x1f*0x77+0x317e]===_0x2df56c[-0x4*0x481+-0x2535+0x9*0x624]&&_0xe0e7f7[-0x16a8+-0x3*-0x626+0x442]===_0x2df56c[-0x1f55+-0x2476+0x43d7]&&_0xe0e7f7[0xa*-0x1fd+-0x1*-0xb01+0x8ee]===_0x2df56c[0x2392+-0x2ae*0x7+-0x7*0x265]&&_0xe0e7f7[-0xc4c+0x3*0x2bd+0x423]===_0x2df56c[0x1*0x1cd2+0x1a2d+0x1e5*-0x1d]&&_0xe0e7f7[0x45d*0x2+0x1*-0x133+-0x1de*0x4]===_0x2df56c[0xd2c*0x2+0x5*-0x6e2+0x821];}['isIdentity'](){const _0x6f0781=this['data'];return _0x6f0781[0xa3*0x23+0x5*-0x62b+0x88e]===0x2645+0x16fe+-0x3d42&&_0x6f0781[0xdb*-0x2+-0x6*-0xc1+0x1*-0x2cf]===-0x425+0x106*-0x17+-0x1baf*-0x1&&_0x6f0781[-0x9ec+-0x2a*-0x8c+-0xd0a]===-0x3ad*-0x2+-0x199c+0x1242&&_0x6f0781[-0x203f+-0x7c6*-0x2+0x10b6*0x1]===-0x1*-0x2309+-0x5c3+-0x1d46&&_0x6f0781[0x555+-0x10c5+0xb74]===0xabf+0x12a6+-0x7*0x433&&_0x6f0781[0x1*-0x26a4+0x11*0xf+-0x25aa*-0x1]===-0x7de+-0x123a*-0x1+-0x1*0xa5b&&_0x6f0781[-0x233d+-0x4a0+0x27e3]===-0x4cd*0x7+-0x25c6+0x1*0x4761&&_0x6f0781[0x170*0x10+-0x2688+0xf8f]===0x2306+0x4c1*-0x6+-0x680&&_0x6f0781[0x2*-0x719+-0x17*-0x15b+-0x10f3]===0x252a+-0x1eba+0x19c*-0x4&&_0x6f0781[-0x1aaa+0x65*-0x41+0x1*0x3458]===-0xa5*0x1d+0x19d5+-0x392*0x2&&_0x6f0781[0x8c9*-0x1+-0x1*0xd1f+0x15f2]===0x159f*-0x1+0x21f3+-0xc53&&_0x6f0781[0x1*-0x2644+0x1acd+0xb82]===-0x7*-0x141+0xe87+-0x174e&&_0x6f0781[0x1ca0+0x1*-0x1b3b+-0x159]===0x212+0xf*0x82+0x1f*-0x50&&_0x6f0781[0x2*-0xf21+-0x56*-0x6f+0x1*-0x6fb]===-0x1b95+0xae5+0x10b0&&_0x6f0781[0x584+-0x2704+0x218e]===-0x423+0x1310+-0xeed*0x1&&_0x6f0781[-0xd7*-0x2+-0x1*-0x1a50+0x1*-0x1bef]===-0x11*-0x10f+-0x77d*-0x3+0x1*-0x2875;}['mul2'](_0x1fa131,_0x37d36f){const _0x1d8c0f=_0x1fa131['data'],_0xf4a3bc=_0x37d36f['data'],_0x357976=this['data'],_0x34187e=_0x1d8c0f[-0x7*0x1d1+0x1949+-0xc92],_0x55ae9f=_0x1d8c0f[0x14a1*-0x1+-0xd2*-0x25+-0x9b8],_0x446c9c=_0x1d8c0f[0x1ed0+0x2342+-0x2*0x2108],_0x4b597c=_0x1d8c0f[-0x389+0x990+-0xb*0x8c],_0x4c0544=_0x1d8c0f[0x1531+0xa61+-0x1f8e],_0x8b5f74=_0x1d8c0f[0x4*0x1eb+-0x2581+-0x1dda*-0x1],_0xdf7e8a=_0x1d8c0f[0x5*-0x543+-0x1d60*0x1+0x1*0x37b5],_0x2347bf=_0x1d8c0f[-0x139f+-0x2*-0x79d+-0x4*-0x11b],_0x47202c=_0x1d8c0f[-0x1318+-0x19*0xfb+0x2ba3],_0x38c4fe=_0x1d8c0f[0x4*0x243+-0x38f*0xa+-0x1a93*-0x1],_0x14113f=_0x1d8c0f[0x445+0xc60+-0x109b],_0x3e9d88=_0x1d8c0f[0x1e27+0x2*-0xd07+-0x40e],_0xbde87b=_0x1d8c0f[0xedd+0x32*-0x9b+0xf75],_0x242ab2=_0x1d8c0f[0x49*-0x6f+0x2*0x2bc+-0xd1e*-0x2],_0x17b82a=_0x1d8c0f[0x8*0x34a+0x2683+-0x40c5],_0x3ef002=_0x1d8c0f[0xe45+-0x1*0xc4c+-0x1ea];let _0x1b1a9e,_0x20039d,_0x5c6d79,_0x1361aa;return _0x1b1a9e=_0xf4a3bc[-0x4a*0x2+-0x1*0x107b+0x110f],_0x20039d=_0xf4a3bc[-0x6*0x30b+0x6b8+0xc5*0xf],_0x5c6d79=_0xf4a3bc[-0xe3*0x20+-0x6d0*0x1+-0x109*-0x22],_0x1361aa=_0xf4a3bc[0x21c4+0x1157*-0x2+0xed],_0x357976[-0x6f4*0x2+0x12a1+-0x4b9]=_0x34187e*_0x1b1a9e+_0x4c0544*_0x20039d+_0x47202c*_0x5c6d79+_0xbde87b*_0x1361aa,_0x357976[-0x60b+-0x727*0x3+0x1b81]=_0x55ae9f*_0x1b1a9e+_0x8b5f74*_0x20039d+_0x38c4fe*_0x5c6d79+_0x242ab2*_0x1361aa,_0x357976[0x22b2+-0x1*0x236f+0xbf]=_0x446c9c*_0x1b1a9e+_0xdf7e8a*_0x20039d+_0x14113f*_0x5c6d79+_0x17b82a*_0x1361aa,_0x357976[0x9e1*-0x1+-0x8fa+0x69*0x2e]=_0x4b597c*_0x1b1a9e+_0x2347bf*_0x20039d+_0x3e9d88*_0x5c6d79+_0x3ef002*_0x1361aa,_0x1b1a9e=_0xf4a3bc[-0x1e9a+-0x4a*-0x3a+0x2*0x6ed],_0x20039d=_0xf4a3bc[-0x19fc+0x1e1*-0xb+-0x19c*-0x1d],_0x5c6d79=_0xf4a3bc[0x1a34+0x13*-0x20b+0xca3],_0x1361aa=_0xf4a3bc[0xe87+-0x3*-0x2ad+0x49*-0x4f],_0x357976[-0x36c*0x1+-0x2159+-0xc43*-0x3]=_0x34187e*_0x1b1a9e+_0x4c0544*_0x20039d+_0x47202c*_0x5c6d79+_0xbde87b*_0x1361aa,_0x357976[-0x655+-0x1517+0x1b71]=_0x55ae9f*_0x1b1a9e+_0x8b5f74*_0x20039d+_0x38c4fe*_0x5c6d79+_0x242ab2*_0x1361aa,_0x357976[0x19e9+-0x1d45+-0x2*-0x1b1]=_0x446c9c*_0x1b1a9e+_0xdf7e8a*_0x20039d+_0x14113f*_0x5c6d79+_0x17b82a*_0x1361aa,_0x357976[-0x69d+-0x1*-0x9bc+-0x318]=_0x4b597c*_0x1b1a9e+_0x2347bf*_0x20039d+_0x3e9d88*_0x5c6d79+_0x3ef002*_0x1361aa,_0x1b1a9e=_0xf4a3bc[-0xd92+-0x1335+0x20cf],_0x20039d=_0xf4a3bc[-0x1847*-0x1+0x2f*-0xd+0xf*-0x175],_0x5c6d79=_0xf4a3bc[0x52+0x607*0x3+-0x125d],_0x1361aa=_0xf4a3bc[0x35d*-0x8+0x1fd+0x18f6],_0x357976[0x83*-0x26+0xa*0x3a9+-0x1120]=_0x34187e*_0x1b1a9e+_0x4c0544*_0x20039d+_0x47202c*_0x5c6d79+_0xbde87b*_0x1361aa,_0x357976[0x2c*-0x62+0xa12*-0x1+0x1af3]=_0x55ae9f*_0x1b1a9e+_0x8b5f74*_0x20039d+_0x38c4fe*_0x5c6d79+_0x242ab2*_0x1361aa,_0x357976[-0x24e*0x3+-0x8f+0x783]=_0x446c9c*_0x1b1a9e+_0xdf7e8a*_0x20039d+_0x14113f*_0x5c6d79+_0x17b82a*_0x1361aa,_0x357976[-0x39e+0x1*-0x19ef+-0x4*-0x766]=_0x4b597c*_0x1b1a9e+_0x2347bf*_0x20039d+_0x3e9d88*_0x5c6d79+_0x3ef002*_0x1361aa,_0x1b1a9e=_0xf4a3bc[-0xf1f+0xe2b+0x2*0x80],_0x20039d=_0xf4a3bc[-0x356*-0x1+-0x15b3+-0x2*-0x935],_0x5c6d79=_0xf4a3bc[0x10eb+-0x17b1+-0x1b5*-0x4],_0x1361aa=_0xf4a3bc[0x177c+0x2b*-0x17+0x4e4*-0x4],_0x357976[-0x3*0xbb7+0x11de+0x377*0x5]=_0x34187e*_0x1b1a9e+_0x4c0544*_0x20039d+_0x47202c*_0x5c6d79+_0xbde87b*_0x1361aa,_0x357976[-0x1*-0x1dfd+0xaa*0x2+0xae*-0x2e]=_0x55ae9f*_0x1b1a9e+_0x8b5f74*_0x20039d+_0x38c4fe*_0x5c6d79+_0x242ab2*_0x1361aa,_0x357976[-0x1f*-0x133+0x1*-0x1e3d+-0x6e2]=_0x446c9c*_0x1b1a9e+_0xdf7e8a*_0x20039d+_0x14113f*_0x5c6d79+_0x17b82a*_0x1361aa,_0x357976[0xd09+-0x1163+0x469]=_0x4b597c*_0x1b1a9e+_0x2347bf*_0x20039d+_0x3e9d88*_0x5c6d79+_0x3ef002*_0x1361aa,this;}['mulAffine2'](_0x273b10,_0x23b5af){const _0x1df4ec=_0x273b10['data'],_0x5007d3=_0x23b5af['data'],_0x1a7365=this['data'],_0x19b369=_0x1df4ec[-0x22c9*-0x1+-0x22*0x3+-0x2263],_0x49fcf5=_0x1df4ec[-0x1422*-0x1+-0x1de9+0x9c8],_0x4993cf=_0x1df4ec[0x1d9e+0x5e7*0x1+-0x2383],_0x1f973f=_0x1df4ec[-0x1bca+-0x494+0x2062],_0x489b93=_0x1df4ec[0x1*-0xb6f+-0x1e54*-0x1+0x1*-0x12e0],_0x2ed2bf=_0x1df4ec[-0x162d+-0x1d8e+0x33c1],_0x43f83f=_0x1df4ec[-0x1e5*0x7+0xc07*-0x1+-0x1*-0x1952],_0x5a2c99=_0x1df4ec[-0x13f2+-0x1a9d+-0x2a*-0x11c],_0x4d5dd2=_0x1df4ec[-0x1b9a+-0xe*-0x47+0x17c2],_0x97011c=_0x1df4ec[0x15c*-0x16+0x150c+0xe4*0xa],_0x3c1053=_0x1df4ec[-0x67a*0x3+0x3d*0x66+-0x4d3],_0x26780e=_0x1df4ec[-0x741*-0x1+-0x176b*0x1+0x1038];let _0x1d503e,_0x65a92c,_0x3591db;return _0x1d503e=_0x5007d3[0x9dd+-0x1*0x4+0x1*-0x9d9],_0x65a92c=_0x5007d3[-0x1*0x263f+-0x3*-0x8b5+0x40b*0x3],_0x3591db=_0x5007d3[-0xe29+0x1a57+-0xc2c],_0x1a7365[-0x110c+0x925*0x1+0x7e7]=_0x19b369*_0x1d503e+_0x1f973f*_0x65a92c+_0x43f83f*_0x3591db,_0x1a7365[0x7*0x195+-0x3c0+-0x3a9*0x2]=_0x49fcf5*_0x1d503e+_0x489b93*_0x65a92c+_0x5a2c99*_0x3591db,_0x1a7365[0x233*0xa+-0x8fe*-0x2+-0x13fc*0x2]=_0x4993cf*_0x1d503e+_0x2ed2bf*_0x65a92c+_0x4d5dd2*_0x3591db,_0x1a7365[0xf75+-0x10f7+0x185]=0x1*-0xc07+-0x1191+0x1d98*0x1,_0x1d503e=_0x5007d3[0xf3*0x1d+0xdfb*0x1+-0x297e],_0x65a92c=_0x5007d3[0x2555+-0x14af+0x3*-0x58b],_0x3591db=_0x5007d3[-0x20b6+0x1904+0x7b8],_0x1a7365[-0xbd7+-0x1794+0x1*0x236f]=_0x19b369*_0x1d503e+_0x1f973f*_0x65a92c+_0x43f83f*_0x3591db,_0x1a7365[0x2594+-0x249c+-0xf3]=_0x49fcf5*_0x1d503e+_0x489b93*_0x65a92c+_0x5a2c99*_0x3591db,_0x1a7365[0x92*-0xd+0x54b*0x1+0x1*0x225]=_0x4993cf*_0x1d503e+_0x2ed2bf*_0x65a92c+_0x4d5dd2*_0x3591db,_0x1a7365[-0x16e5+0xf25*-0x2+0x3536]=-0x1bc2+-0x25eb+-0x2db*-0x17,_0x1d503e=_0x5007d3[0x23ad+0xd70+0x7*-0x703],_0x65a92c=_0x5007d3[0x1*0x2551+-0x267f+-0x1*-0x137],_0x3591db=_0x5007d3[0x164a+0x13da+-0x2a1a],_0x1a7365[-0x1*0x22d4+-0x96f*0x1+0x1*0x2c4b]=_0x19b369*_0x1d503e+_0x1f973f*_0x65a92c+_0x43f83f*_0x3591db,_0x1a7365[-0x117a*-0x1+-0x16ad+0x53c]=_0x49fcf5*_0x1d503e+_0x489b93*_0x65a92c+_0x5a2c99*_0x3591db,_0x1a7365[-0x6+-0x1*-0x60d+-0x5fd]=_0x4993cf*_0x1d503e+_0x2ed2bf*_0x65a92c+_0x4d5dd2*_0x3591db,_0x1a7365[0x1*-0x215e+0x1b92+0x5d7]=0x232b+0xc70+-0x2f9b,_0x1d503e=_0x5007d3[0xf66+0x13eb+-0x2345],_0x65a92c=_0x5007d3[0x23e6+-0xc2*0x1d+-0x1*0xddf],_0x3591db=_0x5007d3[-0x19c6*0x1+0x2*0xa7+0x1886],_0x1a7365[0x68d*-0x1+0xa*-0x1d3+0x18d7]=_0x19b369*_0x1d503e+_0x1f973f*_0x65a92c+_0x43f83f*_0x3591db+_0x97011c,_0x1a7365[0x7fd*0x2+-0x7dd+0x3*-0x2b0]=_0x49fcf5*_0x1d503e+_0x489b93*_0x65a92c+_0x5a2c99*_0x3591db+_0x3c1053,_0x1a7365[-0x2cb+-0x1*0x10df+0x13b8]=_0x4993cf*_0x1d503e+_0x2ed2bf*_0x65a92c+_0x4d5dd2*_0x3591db+_0x26780e,_0x1a7365[-0xc96+0x1*-0x1522+0x21c7*0x1]=-0x105c+-0xc1+-0x139*-0xe,this;}['mul'](_0x1d6c05){return this['mul2'](this,_0x1d6c05);}['transformP'+'oint'](_0x59e16,_0x54462c=new D()){const _0xe7e05e=this['data'],{x:_0x4c3376,y:_0x52a9bf,z:_0x2d1d48}=_0x59e16;return _0x54462c['x']=_0x4c3376*_0xe7e05e[0x2dd*0x9+-0x799+-0x122c]+_0x52a9bf*_0xe7e05e[-0x4f2*0x3+-0x25ea+0x34c4]+_0x2d1d48*_0xe7e05e[-0x7*0x1a3+0x1e52+-0x12d5]+_0xe7e05e[0x126b+0x1ae8+-0x2d47],_0x54462c['y']=_0x4c3376*_0xe7e05e[0x25*-0xed+-0x65b+-0x25*-0x119]+_0x52a9bf*_0xe7e05e[-0x1ee1+-0x77*-0x47+0x21b*-0x1]+_0x2d1d48*_0xe7e05e[-0xd3e+0x1bee+-0x1*0xea7]+_0xe7e05e[0x7cd+-0x25c9+0x3*0xa03],_0x54462c['z']=_0x4c3376*_0xe7e05e[-0x103*0x20+0x1afa+-0x15a*-0x4]+_0x52a9bf*_0xe7e05e[0x2*0x12aa+0x1e8*0xe+0x3ffe*-0x1]+_0x2d1d48*_0xe7e05e[0x1*0xc0d+-0x1799*0x1+-0x2*-0x5cb]+_0xe7e05e[-0x1*-0x1bef+-0x361*0x9+0xd8*0x3],_0x54462c;}['transformV'+'ector'](_0x45b47d,_0xfdf9f2=new D()){const _0x1a3d7a=this['data'],{x:_0x3d59fd,y:_0x281df7,z:_0x356cd9}=_0x45b47d;return _0xfdf9f2['x']=_0x3d59fd*_0x1a3d7a[0x2*-0x8cb+0x7*0xcb+-0x1*-0xc09]+_0x281df7*_0x1a3d7a[0x24*-0x60+0x1b8e+-0xe0a]+_0x356cd9*_0x1a3d7a[-0xfa9*0x1+0x1b55+-0xba4],_0xfdf9f2['y']=_0x3d59fd*_0x1a3d7a[0x3*-0x10b+0xb7b*-0x1+0xe9d]+_0x281df7*_0x1a3d7a[-0x1ea+0x1*0x1781+-0x1592]+_0x356cd9*_0x1a3d7a[0x133*-0xd+-0x1f7*0x6+0x1b6a],_0xfdf9f2['z']=_0x3d59fd*_0x1a3d7a[0x4*0x8b4+-0x1324*-0x1+0xa*-0x565]+_0x281df7*_0x1a3d7a[-0x1508+-0x1358+0x2866]+_0x356cd9*_0x1a3d7a[0x1ef5+-0x15da+-0x911],_0xfdf9f2;}['transformV'+'ec4'](_0x3817f8,_0x26220e=new re()){const _0x8ca2fa=this['data'],{x:_0x38593d,y:_0x38aa2b,z:_0x5f2c92,w:_0x2506b1}=_0x3817f8;return _0x26220e['x']=_0x38593d*_0x8ca2fa[0x1*-0x2669+-0x2440+0x4aa9]+_0x38aa2b*_0x8ca2fa[0xb2e+-0x49*-0x49+-0x1ffb]+_0x5f2c92*_0x8ca2fa[0x27*-0x47+0x1661+0x5c4*-0x2]+_0x2506b1*_0x8ca2fa[0x256*-0x9+0x1fc7+-0xab5],_0x26220e['y']=_0x38593d*_0x8ca2fa[0x1403+0x4e3*0x2+-0x1dc8]+_0x38aa2b*_0x8ca2fa[-0x1f85+0x1*-0x1b46+0x3ad0]+_0x5f2c92*_0x8ca2fa[0x21*0x125+-0x15*0x143+-0xb3d]+_0x2506b1*_0x8ca2fa[0x9ba+0x7c1*0x4+-0x28b1],_0x26220e['z']=_0x38593d*_0x8ca2fa[0x1e0c+0x47*-0x8b+-0x1*-0x883]+_0x38aa2b*_0x8ca2fa[-0x1f*-0xa6+0x113b+-0x254f]+_0x5f2c92*_0x8ca2fa[0x1930+-0x2026+-0x8*-0xe0]+_0x2506b1*_0x8ca2fa[0x95d+-0x2fc+0x1*-0x653],_0x26220e['w']=_0x38593d*_0x8ca2fa[0x1*0x1f41+0x1dae+-0x3cec]+_0x38aa2b*_0x8ca2fa[0x2d1+-0x981*-0x1+-0x3*0x419]+_0x5f2c92*_0x8ca2fa[0x2*-0x15+0x8ba+-0x885]+_0x2506b1*_0x8ca2fa[-0x1769+-0x107e*0x1+0x27f6],_0x26220e;}['setLookAt'](_0x3a9fc3,_0xbfae63,_0x3cd53a){ei['sub2'](_0x3a9fc3,_0xbfae63)['normalize'](),Js['copy'](_0x3cd53a)['normalize'](),Os['cross'](Js,ei)['normalize'](),Js['cross'](ei,Os);const _0x9ad395=this['data'];return _0x9ad395[-0x6c3+-0x1712*-0x1+-0x104f]=Os['x'],_0x9ad395[0xfd9+-0x7d6*-0x1+-0x17ae]=Os['y'],_0x9ad395[0x413+0x1b76+-0x481*0x7]=Os['z'],_0x9ad395[-0x1165+-0xf31+0x1*0x2099]=0x1a10+-0xb8d+0x2e7*-0x5,_0x9ad395[0x1892+-0x57*0x3b+-0x481]=Js['x'],_0x9ad395[0x17bb+-0x1*0x1146+-0x670]=Js['y'],_0x9ad395[-0x8*-0x3b5+0x1e95+-0x3c37]=Js['z'],_0x9ad395[0xa22*-0x1+0x1bf6+-0x11cd]=0x1e91+-0xd*-0x235+-0x3b42,_0x9ad395[-0x1*0x707+0x1391+0x2*-0x641]=ei['x'],_0x9ad395[0x1858+0x25f*0x6+0x7b5*-0x5]=ei['y'],_0x9ad395[0x4*-0x61c+-0x25ce+0x3e48]=ei['z'],_0x9ad395[-0x85*-0xf+0x556*-0x5+0x12ee]=0x1a0d*0x1+-0x21f4+-0x121*-0x7,_0x9ad395[-0x613+-0x1*0x23b+0x85a]=_0x3a9fc3['x'],_0x9ad395[0xf2a*-0x2+0x207a+0x1*-0x219]=_0x3a9fc3['y'],_0x9ad395[-0xd*0xb1+0x1509+-0xbfe]=_0x3a9fc3['z'],_0x9ad395[-0x1d*0x7+-0x1*0x1abf+0x1b99]=-0x3*0xa84+0x6fb+-0xaa*-0x25,this;}['setFrustum'](_0xc272f7,_0x2950b1,_0x38a618,_0x4a9d53,_0x341714,_0x178055){const _0x545a60=(-0x1ad6+-0x13e3+-0x1*-0x2ebb)*_0x341714,_0x36f859=_0x2950b1-_0xc272f7,_0x325c7f=_0x4a9d53-_0x38a618,_0x27a663=_0x178055-_0x341714,_0x3a39b0=this['data'];return _0x3a39b0[-0xb*-0x342+-0x26b5*0x1+-0x23*-0x15]=_0x545a60/_0x36f859,_0x3a39b0[0x23c6+0x16*-0x14d+-0x727*0x1]=-0x1d*0x9d+0x1ef+0xfda,_0x3a39b0[-0x1127+-0x1*0x154c+-0x7b1*-0x5]=-0x1*-0x15db+-0x13b1+-0x22a,_0x3a39b0[-0xf*0x10f+0xa6*-0x29+0x2a7a]=-0x1*0x1ab5+0x61*-0x2a+0x2a9f,_0x3a39b0[-0x21e1+0x1db+0x200a]=0x1*-0x18cc+0x18d+0x173f,_0x3a39b0[0x35e+0x2049+-0x23a2]=_0x545a60/_0x325c7f,_0x3a39b0[-0x10*0x268+-0x18*0x9d+0x353e]=-0x137b+0x2067+-0xcec,_0x3a39b0[0x494*-0x6+0x1010+-0x1*-0xb6f]=0x7e5+-0xda7+-0x2*-0x2e1,_0x3a39b0[0x9ad+-0x1b35+0x1190]=(_0x2950b1+_0xc272f7)/_0x36f859,_0x3a39b0[0x7eb+-0x50*0x71+-0x1*-0x1b6e]=(_0x4a9d53+_0x38a618)/_0x325c7f,_0x3a39b0[-0x232f+-0x21d1+0x1*0x450a]=(-_0x178055-_0x341714)/_0x27a663,_0x3a39b0[-0x11*-0x232+0x1e57*0x1+-0x439e]=-(0x773*-0x1+-0xf41+0x16b5),_0x3a39b0[0x18a7+0x491+-0x74b*0x4]=-0x15*0x2f+-0x1*-0x7e7+-0x40c,_0x3a39b0[0x2e3*-0x2+-0xd3*0x5+-0x26*-0x43]=0x1*0x1417+-0x1191*0x1+-0x1*0x286,_0x3a39b0[0x1217+-0x1*-0x24bb+0x57a*-0xa]=-_0x545a60*_0x178055/_0x27a663,_0x3a39b0[0x243*0x4+-0x1286+0x989]=-0x66e+-0x1*-0x1e95+-0x1827,this;}['setPerspec'+'tive'](_0x47a3db,_0x238d11,_0xa02c28,_0x199fed,_0x45e2aa){return Qr['_getPerspe'+'ctiveHalfS'+'ize'](to,_0x47a3db,_0x238d11,_0xa02c28,_0x45e2aa),this['setFrustum'](-to['x'],to['x'],-to['y'],to['y'],_0xa02c28,_0x199fed);}['setOrtho'](_0x3511dd,_0x377ff9,_0x13c690,_0x55405d,_0xdab781,_0x5aa2e4){const _0x57ad73=this['data'];return _0x57ad73[0x11f2+-0x79*-0x43+0x319d*-0x1]=(0x1*-0x5c6+0x2039*0x1+-0x1a71)/(_0x377ff9-_0x3511dd),_0x57ad73[0x102f+-0x139b*-0x1+-0x23c9]=-0x1fe7*-0x1+-0x1fe6+-0x1,_0x57ad73[0x127b+0x1*0x234f+0x4*-0xd72]=-0x1ebb*0x1+-0x701+0x7*0x564,_0x57ad73[-0x15fa+0x935*-0x2+-0x2867*-0x1]=0x1*0x2476+0x3*-0xaa2+-0x1*0x490,_0x57ad73[0x1a*0x17e+-0x10*0x83+-0x1e98]=0x1840*0x1+0x4f7+-0x1d37,_0x57ad73[0x403*-0x1+-0x29e+0x6a6]=(0x1b6a+-0x1a9c+-0xcc*0x1)/(_0x55405d-_0x13c690),_0x57ad73[-0x18ad+-0x4b1*0x1+0x16*0x156]=-0x1574+0xbc7+0x9ad,_0x57ad73[0x635*-0x1+-0xf8*-0x11+-0x28f*0x4]=-0x6d*-0x3d+-0x3*0x8c7+0x5c,_0x57ad73[-0x1*0x10cc+0x6*0x422+-0x7f8]=-0xb*0x43+-0x7e1+0xac2,_0x57ad73[0x2*0xc3d+-0x1847*0x1+0x7*-0x6]=0x883+-0x1*-0x135c+-0x1bdf*0x1,_0x57ad73[0xf29*-0x1+0x2172+-0x123f]=-(0x1a79+-0x2*0x10d1+0x72b)/(_0x5aa2e4-_0xdab781),_0x57ad73[0xdf*-0xe+-0x95b+-0x1*-0x1598]=0x210d+0x37*-0x77+-0x77c,_0x57ad73[0x630*0x1+-0x1*0xeb1+0x88d]=-(_0x377ff9+_0x3511dd)/(_0x377ff9-_0x3511dd),_0x57ad73[0x455*0x4+0x2690*-0x1+-0x1549*-0x1]=-(_0x55405d+_0x13c690)/(_0x55405d-_0x13c690),_0x57ad73[-0x1139*-0x2+-0x15bf*-0x1+0x7*-0x805]=-(_0x5aa2e4+_0xdab781)/(_0x5aa2e4-_0xdab781),_0x57ad73[-0x1e16+-0x3d9*0x6+0x353b]=0xa*0x15b+-0x6a*-0x5+-0xf9f,this;}['setFromAxi'+'sAngle'](_0x50e294,_0x303e47){_0x303e47*=Y['DEG_TO_RAD'];const {x:_0x3e9cee,y:_0x33eb7e,z:_0xef03fa}=_0x50e294,_0x26b007=Math['cos'](_0x303e47),_0x5703b7=Math['sin'](_0x303e47),_0x31c37b=-0x5*-0x37b+0x1*0x25dc+0x283*-0x16-_0x26b007,_0x2a04c2=_0x31c37b*_0x3e9cee,_0x24597a=_0x31c37b*_0x33eb7e,_0x3aef74=this['data'];return _0x3aef74[-0x1789+0x16d3+0xb6]=_0x2a04c2*_0x3e9cee+_0x26b007,_0x3aef74[-0x2*0x1159+0xa6e+0x13*0x147]=_0x2a04c2*_0x33eb7e+_0x5703b7*_0xef03fa,_0x3aef74[0x4*-0x42d+-0x1*0x469+0x151f]=_0x2a04c2*_0xef03fa-_0x5703b7*_0x33eb7e,_0x3aef74[-0x1e65+0x12a3+-0x83*-0x17]=0x17f*-0x3+-0x2d4*-0x2+0xd*-0x17,_0x3aef74[-0x5*-0x7ce+-0x942+-0x70*0x44]=_0x2a04c2*_0x33eb7e-_0x5703b7*_0xef03fa,_0x3aef74[-0x85+-0x192a+0x19b4]=_0x24597a*_0x33eb7e+_0x26b007,_0x3aef74[0x1bdb*-0x1+0x3*0xe5+-0x1e*-0xd7]=_0x24597a*_0xef03fa+_0x5703b7*_0x3e9cee,_0x3aef74[0x1*-0x116e+-0x1*0x2397+0x350c]=-0x12fc+-0x265*0xd+-0x1*-0x321d,_0x3aef74[0x2528+0x1ede+-0x43fe]=_0x2a04c2*_0xef03fa+_0x5703b7*_0x33eb7e,_0x3aef74[-0x2626+0xcb*-0x12+0x3475*0x1]=_0x24597a*_0xef03fa-_0x3e9cee*_0x5703b7,_0x3aef74[0x13*-0x1f3+-0x17cc+-0x3cdf*-0x1]=_0x31c37b*_0xef03fa*_0xef03fa+_0x26b007,_0x3aef74[0x1a02+-0x107*0x20+0x6e9]=-0x3*0x2e7+0x2323*0x1+-0x1a6e,_0x3aef74[0xfed+-0x1*-0x1997+-0x14bc*0x2]=-0x17a3+-0x10cc+0x286f,_0x3aef74[0x29d+0x139*0x18+-0x1fe8]=0x68e+0x1d*-0x137+0x98f*0x3,_0x3aef74[0x229d*0x1+0x245a+0x17a3*-0x3]=-0x22cf*0x1+-0xb9+0x2388,_0x3aef74[0x1dae+-0x1d9a+-0x5]=-0x1948+-0x2112+0x3a5b*0x1,this;}['setTransla'+'te'](_0x478d1d,_0x28f195,_0x4c05b7){const _0x3ccbce=this['data'];return _0x3ccbce[0x26d3+0xe15+-0x2*0x1a74]=-0x58+0x742*0x1+0x1*-0x6e9,_0x3ccbce[0x191e*0x1+-0x1cd6+-0x1*-0x3b9]=0x1347+0x1*-0x1ead+0xb66,_0x3ccbce[0x263*-0x1+-0x12f9+-0x155e*-0x1]=0x18a3+0x1ff7+-0x1e3*0x1e,_0x3ccbce[0x2fd+0x1e0e+-0x2108]=-0x6*0x59+0x4e1*-0x4+0x159a,_0x3ccbce[-0x262a*-0x1+0x1286+0x117*-0x34]=0x19ca*0x1+-0x1e13*0x1+0x449,_0x3ccbce[-0x10d2+-0x2101*0x1+-0x244*-0x16]=-0x24a6+-0xa90+-0xed*-0x33,_0x3ccbce[0xdb9+-0xd57+0x1*-0x5c]=0x1c56+-0x1*-0xa06+0x132e*-0x2,_0x3ccbce[-0x16c1+0xd80+-0x129*-0x8]=0xa76+-0x219+0x85d*-0x1,_0x3ccbce[-0x64d*-0x3+0xb4b*-0x1+-0x1*0x794]=0x1555*-0x1+0x2*0xa7f+0x3*0x1d,_0x3ccbce[-0x1a6b+-0x21db+-0x1*-0x3c4f]=-0x1de5+0x31e+0x5*0x55b,_0x3ccbce[0x13ec+-0x1e3*0x2+0x1*-0x101c]=-0xfb5*-0x1+-0x1d73+-0xdbf*-0x1,_0x3ccbce[-0x1*0xa86+0x1846+0xdb5*-0x1]=0x8d0+0x41d+0xced*-0x1,_0x3ccbce[-0x1*-0x40f+0x4*-0x957+0x2159*0x1]=_0x478d1d,_0x3ccbce[0x12fb+0x1169+0x1bb*-0x15]=_0x28f195,_0x3ccbce[-0x16+-0x1372+-0x1396*-0x1]=_0x4c05b7,_0x3ccbce[-0x1a5b+0x1d32+-0x2c8]=-0xc4f+0x25b3+-0x1963,this;}['setScale'](_0x19c072,_0x9e1437,_0x53abd8){const _0x66c48=this['data'];return _0x66c48[0x1de*-0x13+-0x1*-0x493+0x1ee7]=_0x19c072,_0x66c48[0x2171*0x1+0x2572+0x2*-0x2371]=-0x2345+0x178f+-0x1*-0xbb6,_0x66c48[-0xf*0x12f+0xb78+0x64b]=0x12f*-0x15+-0x144f+0x29*0x11a,_0x66c48[-0x72+-0x1*0x1511+0x1586]=0x9*0x397+-0x1b*-0x103+0xc*-0x4f8,_0x66c48[0x92c+-0x132e*0x2+0x1d34]=0x1aab+-0x2707+0xc5c,_0x66c48[0x1ae1+0x555+-0xabb*0x3]=_0x9e1437,_0x66c48[0x3*0x425+0x39*-0x63+0x336*0x3]=-0x11*-0xd+-0x177a+0x169d,_0x66c48[0x42d*0x6+0x161f+-0x1*0x2f26]=-0x236a+0x1bd2+0x798,_0x66c48[-0x2d*0x65+0x129f+-0xd6]=-0x176e+-0x1*0xc65+0x9*0x3fb,_0x66c48[-0x1*0x1e98+0xcaf*0x1+-0x11f2*-0x1]=0x19eb+0x40*0x47+-0x2bab*0x1,_0x66c48[-0x2034+0x1015+0x1029]=_0x53abd8,_0x66c48[0x1*0x1f75+0x1*0x26ee+0x232c*-0x2]=-0xb0d+0x17f4+-0x16f*0x9,_0x66c48[-0x1463+0x27*-0x13+0x1754]=-0x553*-0x1+0x6b2*0x1+-0xc05,_0x66c48[0x115*0x11+0xccf+-0x1f27]=-0x15aa+-0x81*0x2d+0x2c57,_0x66c48[0x1135+0x192c+0x3d9*-0xb]=0xbc1+-0x3a6+-0x19f*0x5,_0x66c48[0xc05+-0x95c*-0x2+-0x22*0xe7]=0x1*0x61b+0x528*0x4+-0x1*0x1aba,this;}['setViewpor'+'t'](_0x39d5b2,_0x323878,_0xb2b09e,_0x5e7487){const _0x33df11=this['data'];return _0x33df11[-0x2*0x821+0x25e*0x7+-0x1*0x50]=_0xb2b09e*(0x9*-0x407+0x1d5c+0x6e3+0.5),_0x33df11[0x859*-0x3+-0x5e+0x2*0xcb5]=-0xa23+-0x468*-0x8+-0x191d,_0x33df11[0x245*0xb+0xbf2+-0x24e7]=-0xb32+0x164*0x19+-0x1792,_0x33df11[-0x1f7*0x3+-0x2*-0x6e+0x44*0x13]=-0x4f2+0x1739+-0x1247,_0x33df11[-0x1*-0x10a3+-0x1585+0x4e6]=0x599*0x1+-0x18aa+0x1311,_0x33df11[-0x1*0x240d+-0x3*0x24a+0x2af0]=_0x5e7487*(0x2352+0x246*0xa+0x1d07*-0x2+0.5),_0x33df11[-0x1*0x17cb+-0x76*0x4d+-0x3b4f*-0x1]=0x205b+0x1650+-0x36ab*0x1,_0x33df11[0xc20+0x253c+-0x3155]=-0x8f*0x29+0x74f*0x3+-0x2*-0x7d,_0x33df11[-0x6*-0x67+0x41b*0x1+-0x67d]=0x7d*0x43+0xc5a+-0x2d11,_0x33df11[-0x38b*-0x9+0x111a+-0x30f4]=-0x1ced+-0x16e0+0x95*0x59,_0x33df11[0x1*-0x6e+0x5*-0x182+0x802]=-0xd13*-0x1+0x2306+-0x3019+0.5,_0x33df11[-0x3a*0x29+-0x1*-0x14a5+-0xb50]=0x2e5+-0xc7*0x31+-0x109*-0x22,_0x33df11[0x7*-0x3f3+-0x8*-0x2a8+-0x11*-0x61]=_0x39d5b2+_0xb2b09e*(0x1ba6+-0x1f8e+0x3e8+0.5),_0x33df11[-0x5*-0x3b0+-0x5*0x496+0x48b]=_0x323878+_0x5e7487*(0x1e42+0x4*0x3fb+-0x2e2e+0.5),_0x33df11[-0x17f2+0x1277*0x1+0x589]=-0x23e9+-0x8f3+0x2cdc+0.5,_0x33df11[-0x5c6*0x4+0x1fa3+-0x87c]=0x1*0x89e+0x8ca+-0x1167*0x1,this;}['setReflect'+'ion'](_0xf1921b,_0x429020){const _0x1b90c1=_0xf1921b['x'],_0x6c980f=_0xf1921b['y'],_0x1929ae=_0xf1921b['z'],_0x5ec751=this['data'];return _0x5ec751[-0x1e96+0x815+0x7*0x337]=0x161+-0x8*0x96+-0x35*-0x10-(-0x1384*-0x2+0x1*0x2345+0x3e9*-0x13)*_0x1b90c1*_0x1b90c1,_0x5ec751[-0x315+-0x1a*-0x8+-0x3*-0xc2]=-(-0x2db*-0x9+0x847*0x2+-0x203*0x15)*_0x1b90c1*_0x6c980f,_0x5ec751[0x329*-0x8+0x1*0xd+0x193d]=-(0x3*-0x20f+-0x1*0x208c+0x3*0xce9)*_0x1b90c1*_0x1929ae,_0x5ec751[0x82a+-0x1*-0x1edd+-0x2704]=0x37*-0x43+0x6bd*-0x3+0x229c,_0x5ec751[0x2c+0x871+0x1*-0x899]=-(0x200*0x6+-0x16fe+0xb*0x100)*_0x1b90c1*_0x6c980f,_0x5ec751[-0x14fe*-0x1+0x35*-0x4e+-0x4d3]=0x1f63+-0x1f5a+-0x8-(0x1d*0x97+0x4*0x6ef+-0x1f3*0x17)*_0x6c980f*_0x6c980f,_0x5ec751[0x3a6*-0x2+0x71d+0x35]=-(-0x2b6*0x3+-0x62a*0x3+0x1aa2)*_0x6c980f*_0x1929ae,_0x5ec751[0x15bf+0x1bb0*0x1+-0x8*0x62d]=-0x586+0x5c4+0x1f*-0x2,_0x5ec751[-0x4da+-0x7*-0x31d+-0x10e9]=-(0x7*0x569+-0x101f+0xf2*-0x17)*_0x1b90c1*_0x1929ae,_0x5ec751[0x13b3*-0x1+0x85d*0x1+0x29*0x47]=-(0x866*-0x1+0x65*-0x59+0xd*0x359)*_0x6c980f*_0x1929ae,_0x5ec751[-0x1ac2+-0x4*-0x5a2+0x6*0xb6]=-0xa74+0xf07+-0x492-(0xd7b+0x2670+-0x33e9)*_0x1929ae*_0x1929ae,_0x5ec751[0x1*-0x1b3b+0x1441+-0x1*-0x705]=0x13a5+0x1de1+-0x3186,_0x5ec751[-0xc72+0x136d+-0x6ef]=-(-0x1*0x1d5a+0x3e0+0x197c)*_0x1b90c1*_0x429020,_0x5ec751[-0xc24+-0x40*-0x20+-0x1*-0x431]=-(-0x1*0x985+-0x3c*-0x45+-0x15*0x51)*_0x6c980f*_0x429020,_0x5ec751[0x192*-0x5+0x1*-0x1a69+0x2251]=-(-0x1*0x3cf+-0x9eb+0xdbc)*_0x1929ae*_0x429020,_0x5ec751[-0x5c2+0x21cd+0x12*-0x18e]=0x2*-0x962+-0x1*-0x1451+0x2*-0xc6,this;}['invert'](_0x26bdd7=this){const _0x206a35=_0x26bdd7['data'],_0x11d862=_0x206a35[-0x1524+-0x3*0x3c0+-0xc*-0x2b3],_0x1d5a0b=_0x206a35[0x94*-0x3b+-0x5ed+0x19*0x19a],_0x570292=_0x206a35[0x7*-0x146+0x1*-0x1dcb+0xb*0x385],_0x5d5780=_0x206a35[-0x1273*0x1+0x512*0x3+-0xd*-0x40],_0x1caa79=_0x206a35[-0x48*-0x3+0x170a+0x4c6*-0x5],_0x7854f2=_0x206a35[0x10*-0x25f+-0xf66+0x1d*0x1d7],_0x20cf1d=_0x206a35[0xd1f+0x2175+-0x2e8e],_0x23055c=_0x206a35[0x1*-0xf1d+0xe3f*0x1+0xe5],_0xef49a1=_0x206a35[-0x2*0xbf1+0x1e7e+-0x694],_0x1e73ed=_0x206a35[0x65a+0xb*-0xa1+0x9a],_0x38254f=_0x206a35[-0x133c+-0x1e41*-0x1+-0x1*0xafb],_0x259543=_0x206a35[0x1*-0x1547+0x340*0x2+0xed2],_0x1eb387=_0x206a35[0x264b*-0x1+0x6a5+-0x1*-0x1fb2],_0x5170f4=_0x206a35[-0x80+-0x1a0c+0x1a99],_0xc41ed9=_0x206a35[0x1*0x2221+0x26*0x1+-0x2239],_0x1f32ba=_0x206a35[0x1db3+-0x1566+-0x83e],_0x563c4b=_0x11d862*_0x7854f2-_0x1d5a0b*_0x1caa79,_0x2f70e9=_0x11d862*_0x20cf1d-_0x570292*_0x1caa79,_0x3ef7fc=_0x11d862*_0x23055c-_0x5d5780*_0x1caa79,_0x4d173e=_0x1d5a0b*_0x20cf1d-_0x570292*_0x7854f2,_0x473196=_0x1d5a0b*_0x23055c-_0x5d5780*_0x7854f2,_0x40c305=_0x570292*_0x23055c-_0x5d5780*_0x20cf1d,_0x22ac0c=_0xef49a1*_0x5170f4-_0x1e73ed*_0x1eb387,_0x2a57ca=_0xef49a1*_0xc41ed9-_0x38254f*_0x1eb387,_0x2a8392=_0xef49a1*_0x1f32ba-_0x259543*_0x1eb387,_0xb36140=_0x1e73ed*_0xc41ed9-_0x38254f*_0x5170f4,_0x52fcc3=_0x1e73ed*_0x1f32ba-_0x259543*_0x5170f4,_0x4b18dc=_0x38254f*_0x1f32ba-_0x259543*_0xc41ed9,_0x40f53c=_0x563c4b*_0x4b18dc-_0x2f70e9*_0x52fcc3+_0x3ef7fc*_0xb36140+_0x4d173e*_0x2a8392-_0x473196*_0x2a57ca+_0x40c305*_0x22ac0c;if(_0x40f53c===0x1635+0x711*-0x2+-0x35*0x27)this['setIdentit'+'y']();else{const _0x5c6928=(-0x945+0x3*-0xa0f+0x2773)/_0x40f53c,_0x597ffa=this['data'];_0x597ffa[-0x1d11+-0x16d7+0x33e8]=(_0x7854f2*_0x4b18dc-_0x20cf1d*_0x52fcc3+_0x23055c*_0xb36140)*_0x5c6928,_0x597ffa[0xb*-0xc7+-0x4*-0x97d+-0x1d66]=(-_0x1d5a0b*_0x4b18dc+_0x570292*_0x52fcc3-_0x5d5780*_0xb36140)*_0x5c6928,_0x597ffa[0x3*0xc0e+0x1*-0x193+-0x2295]=(_0x5170f4*_0x40c305-_0xc41ed9*_0x473196+_0x1f32ba*_0x4d173e)*_0x5c6928,_0x597ffa[0x55*0x13+0x14f9+-0x1b45]=(-_0x1e73ed*_0x40c305+_0x38254f*_0x473196-_0x259543*_0x4d173e)*_0x5c6928,_0x597ffa[-0x2*0x92f+0x3e*0x57+0x10*-0x2b]=(-_0x1caa79*_0x4b18dc+_0x20cf1d*_0x2a8392-_0x23055c*_0x2a57ca)*_0x5c6928,_0x597ffa[-0x1*-0x15df+-0x1143*0x2+-0x656*-0x2]=(_0x11d862*_0x4b18dc-_0x570292*_0x2a8392+_0x5d5780*_0x2a57ca)*_0x5c6928,_0x597ffa[0x26c2*-0x1+-0x1bb7+0x427f]=(-_0x1eb387*_0x40c305+_0xc41ed9*_0x3ef7fc-_0x1f32ba*_0x2f70e9)*_0x5c6928,_0x597ffa[-0x2676+0x11*-0x19f+-0x3*-0x1604]=(_0xef49a1*_0x40c305-_0x38254f*_0x3ef7fc+_0x259543*_0x2f70e9)*_0x5c6928,_0x597ffa[0x269d+0x26d6+-0x1*0x4d6b]=(_0x1caa79*_0x52fcc3-_0x7854f2*_0x2a8392+_0x23055c*_0x22ac0c)*_0x5c6928,_0x597ffa[0xde9*0x2+-0x22e5*-0x1+-0x3eae]=(-_0x11d862*_0x52fcc3+_0x1d5a0b*_0x2a8392-_0x5d5780*_0x22ac0c)*_0x5c6928,_0x597ffa[-0x1*-0x37f+0x1eb*0x12+-0x25fb]=(_0x1eb387*_0x473196-_0x5170f4*_0x3ef7fc+_0x1f32ba*_0x563c4b)*_0x5c6928,_0x597ffa[-0x8b1+0x5*-0x761+0x2da1]=(-_0xef49a1*_0x473196+_0x1e73ed*_0x3ef7fc-_0x259543*_0x563c4b)*_0x5c6928,_0x597ffa[0x1716+0xb0b+-0x2215]=(-_0x1caa79*_0xb36140+_0x7854f2*_0x2a57ca-_0x20cf1d*_0x22ac0c)*_0x5c6928,_0x597ffa[0x18c0+-0x1970+0xbd]=(_0x11d862*_0xb36140-_0x1d5a0b*_0x2a57ca+_0x570292*_0x22ac0c)*_0x5c6928,_0x597ffa[-0x17b7+0x1ac*-0x10+0x3285]=(-_0x1eb387*_0x4d173e+_0x5170f4*_0x2f70e9-_0xc41ed9*_0x563c4b)*_0x5c6928,_0x597ffa[0x1*0x1651+-0x1*0x9f7+-0x419*0x3]=(_0xef49a1*_0x4d173e-_0x1e73ed*_0x2f70e9+_0x38254f*_0x563c4b)*_0x5c6928;}return this;}['set'](_0xafeaa0){const _0x51dbc1=this['data'];return _0x51dbc1[-0x19db+-0xd75+-0x4a*-0x88]=_0xafeaa0[0x3*-0x4bc+0x1aae+0xc7a*-0x1],_0x51dbc1[-0x1cf9+-0x35*0x98+0x3c72]=_0xafeaa0[-0x7cd*0x2+-0x1ea7*0x1+-0x2e42*-0x1],_0x51dbc1[0x326+-0x49*0x9+-0x31*0x3]=_0xafeaa0[-0xf*0xeb+0xae1+0x2e6],_0x51dbc1[0x215f+-0x1*-0x15c1+-0x371d]=_0xafeaa0[0x1*0x1c03+0x11ab+-0x2dab],_0x51dbc1[-0x1322+0x1*-0x13c3+0x26e9]=_0xafeaa0[-0x156a+0x17a2+-0x234],_0x51dbc1[-0x1*0x170f+-0x1d63*-0x1+-0x64f]=_0xafeaa0[0xdda+0x4d4+-0x12a9],_0x51dbc1[-0x169*0xb+0x1f9f+-0x2*0x80b]=_0xafeaa0[0x116+-0x9e4+0x1*0x8d4],_0x51dbc1[-0xd3d+-0x10cb*-0x1+-0x387]=_0xafeaa0[-0x3*0xca+-0x20*0xbc+0x19e5],_0x51dbc1[-0x1a03+0x2325*-0x1+0x3d30]=_0xafeaa0[-0x1c59+0x11a+0x1b47],_0x51dbc1[0x102b+-0x228f+0x126d]=_0xafeaa0[-0x1089+-0x1*-0x1233+-0x1a1],_0x51dbc1[-0x49*-0x2e+0x394*0x2+-0x143c]=_0xafeaa0[-0x2357+0x209e+-0x7*-0x65],_0x51dbc1[-0x3*0xa10+0x1a17*0x1+-0x1*-0x424]=_0xafeaa0[0x26b3+-0x8d0+-0x1dd8],_0x51dbc1[-0xaa2+0x5af+0x4ff]=_0xafeaa0[0x4*-0x5e3+-0xe*-0x21a+-0x5d4*0x1],_0x51dbc1[-0x18a*0x19+0x2153+0x29a*0x2]=_0xafeaa0[-0x21cf+0x643*-0x1+0x281f*0x1],_0x51dbc1[0x35*0x71+0x1fbe+-0x3715]=_0xafeaa0[0xf0*0x26+-0x21e3+-0x1*0x1af],_0x51dbc1[0x89f+-0x2100+0x1870]=_0xafeaa0[0x6d*0x57+0xbd*-0x1a+-0xb*0x19e],this;}['setIdentit'+'y'](){const _0x41b120=this['data'];return _0x41b120[-0x1b14+-0x609*-0x6+-0x7*0x14e]=0x1*-0xc35+0x1df7+-0x65*0x2d,_0x41b120[0x1e88+-0x1*-0x13cb+0x3*-0x10c6]=-0x1*-0x261+-0x3*-0x817+-0x1aa6,_0x41b120[-0x10a9*0x1+0x660*0x3+-0x275]=-0xa33*0x2+-0x159f+-0x15b*-0x1f,_0x41b120[-0x959*0x1+0x11b*0x1+-0x1*-0x841]=-0x208a+0x3*-0x135+-0x1*-0x2429,_0x41b120[0x1317+-0x1*-0xe47+-0x215a]=0x1cd0+0x3db*0x7+0xb29*-0x5,_0x41b120[0x2*0x1357+-0x2*0x907+0x5*-0x41f]=-0x2486+-0x269a+0x4b21,_0x41b120[-0x813+-0x13cc+-0x1*-0x1be5]=0x6ab+0x20a1+0x9d3*-0x4,_0x41b120[-0x836+0xa45+-0x208]=-0x1485+0x2395*-0x1+0x381a,_0x41b120[0x2675+-0x1*0x222a+-0x443]=0x277*0x1+-0x221c+-0x1fa5*-0x1,_0x41b120[0x1*-0x1ca3+-0xa9*-0x3b+-0x3*0x36d]=-0x1*-0x1038+-0x712+-0x926,_0x41b120[-0x1*0x1095+-0x1690*-0x1+-0x5f1]=-0x1b3f+0x60e+0x1532*0x1,_0x41b120[0x21ba+0x245b+-0x460a]=-0x1462*0x1+-0x1*-0x563+0xeff,_0x41b120[0x1*0x2456+-0x1514+-0xf36*0x1]=-0xf06+0x1667+-0x761,_0x41b120[-0x18b*0x11+0x53*0x49+-0x1*-0x29d]=-0xa*-0x133+-0xd13*-0x1+-0x1911,_0x41b120[0x21f3+0x1d*-0xec+-0x729]=0x1231*0x1+0x1*-0x2492+0x1261*0x1,_0x41b120[0x2542*-0x1+-0x7ee*0x4+-0x1703*-0x3]=-0x9*-0x354+-0xb57*-0x1+-0x421*0xa,this;}['setTRS'](_0x4d29fd,_0x5eb710,_0x351d47){const _0x1d07a8=_0x5eb710['x'],_0x199142=_0x5eb710['y'],_0x111c02=_0x5eb710['z'],_0x150ba2=_0x5eb710['w'],_0x5c6931=_0x351d47['x'],_0x23171b=_0x351d47['y'],_0x4c92fc=_0x351d47['z'],_0x3b07d4=_0x1d07a8+_0x1d07a8,_0x32c201=_0x199142+_0x199142,_0x535a43=_0x111c02+_0x111c02,_0x3c343a=_0x1d07a8*_0x3b07d4,_0x316e92=_0x1d07a8*_0x32c201,_0x1c59df=_0x1d07a8*_0x535a43,_0x2ed1d0=_0x199142*_0x32c201,_0x5d3768=_0x199142*_0x535a43,_0x3f333a=_0x111c02*_0x535a43,_0x5d69bb=_0x150ba2*_0x3b07d4,_0x173d9e=_0x150ba2*_0x32c201,_0x4089cc=_0x150ba2*_0x535a43,_0x406d0e=this['data'];return _0x406d0e[-0xb*0x35c+0x11*0x150+-0xea4*-0x1]=(-0x1da8*-0x1+-0x1a1e+0xb5*-0x5-(_0x2ed1d0+_0x3f333a))*_0x5c6931,_0x406d0e[0xa4+-0xa*-0x2f3+-0x1e21]=(_0x316e92+_0x4089cc)*_0x5c6931,_0x406d0e[0xb3f+-0x186+-0x9b7]=(_0x1c59df-_0x173d9e)*_0x5c6931,_0x406d0e[-0xd*-0x24f+-0x206b+0x26b]=0x93f*-0x1+0x8fd+-0x3*-0x16,_0x406d0e[0x1295+0x1fbc+0x324d*-0x1]=(_0x316e92-_0x4089cc)*_0x23171b,_0x406d0e[0x1*0x198f+-0x2177+0x7ed]=(-0x297+-0x3a5*0x2+0x16*0x73-(_0x3c343a+_0x3f333a))*_0x23171b,_0x406d0e[-0xff6+0x2046+0x3*-0x56e]=(_0x5d3768+_0x5d69bb)*_0x23171b,_0x406d0e[-0xaa7+0x22ee+-0x20*0xc2]=-0xd3*0x20+-0x697*0x3+0x2e25,_0x406d0e[-0x1464+-0x35*0x2f+0x1e27]=(_0x1c59df+_0x173d9e)*_0x4c92fc,_0x406d0e[-0x1*0xb5d+0x1+0xb65]=(_0x5d3768-_0x5d69bb)*_0x4c92fc,_0x406d0e[-0x1d2+0x1*-0x2563+0x273f]=(0x1125+-0x2a5*0x1+0x4d5*-0x3-(_0x3c343a+_0x2ed1d0))*_0x4c92fc,_0x406d0e[-0x6fa+-0x2*0x11d1+0x2aa7]=-0x1*0x1057+-0x264c+0x36a3,_0x406d0e[-0x34*-0x67+-0x4ba+0x13e*-0xd]=_0x4d29fd['x'],_0x406d0e[0xb*0xc5+0x1ba*-0xf+-0x3*-0x5d4]=_0x4d29fd['y'],_0x406d0e[-0x4f2+0x1cc5+0x4c1*-0x5]=_0x4d29fd['z'],_0x406d0e[-0x1433+0xbe8+0x85a]=-0x11*-0xce+-0x32*0x28+0x13*-0x4f,this;}['transpose'](_0x7f08b5=this){const _0x2a0140=_0x7f08b5['data'],_0x3af132=this['data'];if(_0x2a0140===_0x3af132){let _0x4fd1c4;_0x4fd1c4=_0x2a0140[-0x1608+0x497+0x16*0xcb],_0x3af132[0x1d*0x4f+0x1dbb+-0x26ad]=_0x2a0140[0x1d1b*-0x1+-0x166*0x16+0x3be3],_0x3af132[-0x1*-0x15ca+0x16aa+-0x2c70]=_0x4fd1c4,_0x4fd1c4=_0x2a0140[0x44*-0x41+0x1442+-0x2fc],_0x3af132[0x119a*0x1+-0x1f64+0xdcc]=_0x2a0140[0x19d5+0x16db+-0x30a8],_0x3af132[0x270d+0xa74+-0x3179]=_0x4fd1c4,_0x4fd1c4=_0x2a0140[-0x72*-0x1+0x1*0x1075+0xbc*-0x17],_0x3af132[0xad7+-0x1*-0x101e+0x1af2*-0x1]=_0x2a0140[0x1*-0x311+0x20b9+-0x1d9c],_0x3af132[-0x31e+-0x1865+-0x53*-0x55]=_0x4fd1c4,_0x4fd1c4=_0x2a0140[0x12a5*-0x2+-0xf*-0xbb+0x1a5b],_0x3af132[0x92+0xc*0x300+-0x248c*0x1]=_0x2a0140[0x8fd+0x2647*0x1+-0x2f3b],_0x3af132[-0x3e4*-0x5+-0x2bd*0x9+-0x1be*-0x3]=_0x4fd1c4,_0x4fd1c4=_0x2a0140[-0x8d6+0x1498+-0xbbb],_0x3af132[-0x39a*0xa+-0x6fb+-0x1*-0x2b06]=_0x2a0140[0x1899+0xa8f+-0x231b],_0x3af132[-0x2332+0x19*-0x7f+0x2fa6]=_0x4fd1c4,_0x4fd1c4=_0x2a0140[0x1076+0x37*0x45+-0x1f3e],_0x3af132[-0x22e0+0x2*-0x641+-0xfcf*-0x3]=_0x2a0140[-0x222+-0x1eee*0x1+-0x13a*-0x1b],_0x3af132[0x878+0x1*-0x1d3f+-0x1*-0x14d5]=_0x4fd1c4;}else _0x3af132[0x1*-0x6c4+0x25f0+-0x214*0xf]=_0x2a0140[0x1ae3*-0x1+0x85d+0x1286],_0x3af132[0x3*0x3d7+-0x5*0x52d+0xe5d*0x1]=_0x2a0140[-0x1*0x353+-0x449+0x7a0],_0x3af132[0x6*0x386+0x140+-0x1662]=_0x2a0140[0x1ffa*0x1+0x3fc+-0x23ee],_0x3af132[-0x6b8+-0x2d5*-0x1+-0x3e6*-0x1]=_0x2a0140[-0x34*-0x65+0x10fe+-0xa*0x3bf],_0x3af132[0x1*0x8cf+-0xd03+-0x1*-0x438]=_0x2a0140[-0x2354+0xa*-0x1a2+0x33a9],_0x3af132[-0x11ff+0x2b7*-0x9+0x2a73]=_0x2a0140[-0x102c+0xc28+0x409*0x1],_0x3af132[-0xd85*0x1+0x1*0x1c4b+0x20*-0x76]=_0x2a0140[0x1*-0x16af+-0x8ed*0x2+-0x2892*-0x1],_0x3af132[0x1bad+0xb8b+0x1*-0x2731]=_0x2a0140[-0x4c3*-0x6+0x83b+-0x24c0],_0x3af132[0x185c+0x1933+-0x3187]=_0x2a0140[0x16e1+-0x2b*-0x8f+0x4*-0xbb9],_0x3af132[-0x10*0x8+-0xae7*-0x1+-0xa5e]=_0x2a0140[0x3*-0xbcf+-0x257*-0xe+-0x2b1*-0x1],_0x3af132[0xf6b+0x3c6*0x2+-0x16ed]=_0x2a0140[0x4f*0x18+0x11*-0x159+-0x1*-0xf8b],_0x3af132[-0x2*0x61+0x1218+-0x114b]=_0x2a0140[0x8db+0x870+-0x5bf*0x3],_0x3af132[0x1*0x1945+-0x15a9+0xc*-0x4c]=_0x2a0140[0x82b+-0x1fe8+0x260*0xa],_0x3af132[-0x11*0x1c4+-0xe3b+-0xfc*-0x2d]=_0x2a0140[0x2687+-0x2517+-0x1*0x169],_0x3af132[0x89f*0x4+-0x1b09+0x277*-0x3]=_0x2a0140[0x4d7+0x2452+0x22a*-0x13],_0x3af132[0x106*-0x2+-0x1e35+0x2050]=_0x2a0140[-0x5*-0x203+0x1d*0x93+-0x1aa7];return this;}['getTransla'+'tion'](_0x49ee12=new D()){return _0x49ee12['set'](this['data'][0x11b2+0x5*-0x59a+-0xcc*-0xd],this['data'][-0x26ee+0x3*-0x1+0xd9*0x2e],this['data'][0x1*-0x9c2+0x373*0x9+0x5*-0x43f]);}['getX'](_0x5a14ba=new D()){return _0x5a14ba['set'](this['data'][-0x175f+-0x313*0x2+0x1d85],this['data'][0x17ea+0x7e7+-0x1fd*0x10],this['data'][0xcba+0x3*0x697+-0x1*0x207d]);}['getY'](_0x1882fe=new D()){return _0x1882fe['set'](this['data'][0x24d5+0x566+0x65*-0x6b],this['data'][0x1c8f+0x24a7+0x15bb*-0x3],this['data'][-0x2388+0xc*-0x18d+0x362a]);}['getZ'](_0x5c075f=new D()){return _0x5c075f['set'](this['data'][-0x6b*0x39+0xc5a+-0x9b*-0x13],this['data'][-0xf*0x1d2+-0xe6c+-0x29c3*-0x1],this['data'][-0x974+0x21dd+0x185f*-0x1]);}['getScale'](_0x8c268f=new D()){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),_0x8c268f['set'](Os['length'](),Js['length'](),ei['length']()),_0x8c268f;}get['scaleSign'](){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),Os['cross'](Os,Js),Os['dot'](ei)<-0x2486+0xa3d*0x1+0x1*0x1a49?-(0xd*-0x2ad+0xfa5+0x1325):-0x226c+-0x17b8+-0xba1*-0x5;}['setFromEul'+'erAngles'](_0x4f699e,_0x4cc764,_0x51b972){_0x4f699e*=Y['DEG_TO_RAD'],_0x4cc764*=Y['DEG_TO_RAD'],_0x51b972*=Y['DEG_TO_RAD'];const _0x1010d7=Math['sin'](-_0x4f699e),_0x34f13b=Math['cos'](-_0x4f699e),_0x4c9aaf=Math['sin'](-_0x4cc764),_0x2bde07=Math['cos'](-_0x4cc764),_0x26d8c3=Math['sin'](-_0x51b972),_0x2c80f9=Math['cos'](-_0x51b972),_0x2349ce=this['data'];return _0x2349ce[-0x76a*-0x5+0x1f76*-0x1+-0x59c]=_0x2bde07*_0x2c80f9,_0x2349ce[0x7*-0x2fe+-0xc*0x25a+-0x29*-0x133]=-_0x2bde07*_0x26d8c3,_0x2349ce[0xae7*0x3+-0x1*-0xc34+-0x2ce7]=_0x4c9aaf,_0x2349ce[0x9*-0x2b7+-0x42a*0x7+0x3598]=-0x1a4*-0x6+0x128*-0xe+0x658,_0x2349ce[-0x1*0xb2b+0xde6*-0x1+0x1915*0x1]=_0x34f13b*_0x26d8c3+_0x2c80f9*_0x1010d7*_0x4c9aaf,_0x2349ce[-0x5da+0x1b1c+-0x153d]=_0x34f13b*_0x2c80f9-_0x1010d7*_0x4c9aaf*_0x26d8c3,_0x2349ce[-0x1eb1+-0x252d+0x43e4]=-_0x2bde07*_0x1010d7,_0x2349ce[-0x6*0x16+-0x2*0x81a+0x10bf]=0x21af+-0x227e+-0x3*-0x45,_0x2349ce[0x17d2*-0x1+0x1c91+-0x4b7]=_0x1010d7*_0x26d8c3-_0x34f13b*_0x2c80f9*_0x4c9aaf,_0x2349ce[0x25f*-0x9+0x5a4+0x7de*0x2]=_0x2c80f9*_0x1010d7+_0x34f13b*_0x4c9aaf*_0x26d8c3,_0x2349ce[-0x1*-0x2495+0x1d39*0x1+-0x41c4]=_0x34f13b*_0x2bde07,_0x2349ce[-0xd*0x127+0x3f5+0xb11]=-0x1714+0x17ae+-0x9a,_0x2349ce[0x8*-0x1d3+-0x71a+0x2*0xadf]=-0x17*-0xb+0x1*0x8b7+-0x9b4,_0x2349ce[0x240e+0x20+-0x2421]=-0x221f+0xa2+-0x217d*-0x1,_0x2349ce[0x994*-0x1+0x67*-0x31+-0x1*-0x1d59]=0x1f*-0xc3+0x1*0x384+0x6b3*0x3,_0x2349ce[0x145*0x1+0xb19+-0x1*0xc4f]=0x23*-0xbd+0x1f41+-0x5*0x115,this;}['getEulerAn'+'gles'](_0x54a8f2=new D()){this['getScale'](Hl);const _0xc7249a=Hl['x'],_0x48e536=Hl['y'],_0x431b24=Hl['z'];if(_0xc7249a===-0x21*-0xdd+0x7b*-0x43+0x3b4||_0x48e536===-0xb*-0x130+-0x1b8b*-0x1+-0x289b||_0x431b24===0x724+-0x1*0x2015+0x18f1*0x1)return _0x54a8f2['set'](-0x2174+0x24f8+-0x4b*0xc,0x22bd+0x11fd+-0x34ba,0x209e+0x159c+0x1b1d*-0x2);const _0x3dd678=this['data'],_0x871bd7=Math['asin'](-_0x3dd678[0x9a*-0x23+0xc*-0x22+0x16a8]/_0xc7249a),_0x466487=Math['PI']*(-0x784+0x385+0x3ff+0.5);let _0x2a05aa,_0x5e3c46;return _0x871bd7<_0x466487?_0x871bd7>-_0x466487?(_0x2a05aa=Math['atan2'](_0x3dd678[0x749+0x4b3*-0x5+0x103c]/_0x48e536,_0x3dd678[-0x1045+0x29*0x9f+-0x928]/_0x431b24),_0x5e3c46=Math['atan2'](_0x3dd678[0x212+-0x3*0x94d+0x19d6]/_0xc7249a,_0x3dd678[0x1b64+0x1*-0x1a8+0x3d*-0x6c]/_0xc7249a)):(_0x5e3c46=0xe*0x27b+-0x65*0x1+-0x2255,_0x2a05aa=-Math['atan2'](_0x3dd678[0x2*0x5+0x1748+-0x174e]/_0x48e536,_0x3dd678[-0xe8d*0x2+0xcee+-0x5*-0x33d]/_0x48e536)):(_0x5e3c46=-0x3d3+-0xf*-0x72+0x2db*-0x1,_0x2a05aa=Math['atan2'](_0x3dd678[0xedb+-0x1ada+0xc03]/_0x48e536,_0x3dd678[-0x289+0x8*0xad+0x5*-0x92]/_0x48e536)),_0x54a8f2['set'](_0x2a05aa,_0x871bd7,_0x5e3c46)['mulScalar'](Y['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};h(Qr,'IDENTITY',Object['freeze'](new Qr())),h(Qr,'ZERO',Object['freeze'](new Qr()['set']([0xf91+0x1d9e+-0x2d2f,0xb93*0x3+-0xa3*-0x3b+-0x1*0x484a,0x1*-0x98a+-0x38e+-0x2*-0x68c,-0x157f+0x8d1+0x1*0xcae,-0x409*-0x1+0x1f10+-0x2319*0x1,0x1632*0x1+-0x26a3+-0x3*-0x57b,-0x1325*-0x1+-0xb6f+-0x7b6,0x12d+0x1*0x1250+-0x137d,0xf9c+-0xd*0x33+-0xd05,-0x5a0+0x8*0x34a+-0x14b0,0x1e31*0x1+0x21*0x7d+0x1727*-0x2,-0x1d57+-0xb9*0x1a+-0x100b*-0x3,0xa4d+-0x2*0x6cb+0x349,-0x1*-0x2275+-0x1f0f*0x1+-0x366,0x25bb+0x967*-0x1+-0x31*0x94,0x5c+0xe14+0x3*-0x4d0])));let te=Qr;const Sn=class Sn{constructor(_0x1750ea=0x49a+-0x1311+0xe77,_0x2942fe=0x23e6+0x3*-0x16d+-0x1f9f,_0x5e671f=-0x9b0+0x81*-0x6+0xcb6,_0x368da2=0x1fe7+0xf5c*0x1+-0x17*0x20e){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x1750ea['length']===0x287+-0x485*-0x2+0xb8d*-0x1?(this['x']=_0x1750ea[0x6df+0x796+-0xe75],this['y']=_0x1750ea[-0xe2f+-0x23e1+0x3211],this['z']=_0x1750ea[0x145f+0xbd1+0x6*-0x55d],this['w']=_0x1750ea[-0x3*-0x764+-0x1e*-0xfb+-0x3393]):(this['x']=_0x1750ea,this['y']=_0x2942fe,this['z']=_0x5e671f,this['w']=_0x368da2);}['clone'](){const _0x477c3a=this['constructo'+'r'];return new _0x477c3a(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x34d390=this){return this['x']=_0x34d390['x']*-(0x5*-0x6bd+0x3*-0x71f+-0xb03*-0x5),this['y']=_0x34d390['y']*-(-0x1e*-0x115+0x1350+0x1*-0x33c5),this['z']=_0x34d390['z']*-(0x317*-0x6+0x34b+-0xf40*-0x1),this['w']=_0x34d390['w'],this;}['copy'](_0x4f9bfa){return this['x']=_0x4f9bfa['x'],this['y']=_0x4f9bfa['y'],this['z']=_0x4f9bfa['z'],this['w']=_0x4f9bfa['w'],this;}['dot'](_0x5ef466){return this['x']*_0x5ef466['x']+this['y']*_0x5ef466['y']+this['z']*_0x5ef466['z']+this['w']*_0x5ef466['w'];}['equals'](_0x41d870){return this['x']===_0x41d870['x']&&this['y']===_0x41d870['y']&&this['z']===_0x41d870['z']&&this['w']===_0x41d870['w'];}['equalsAppr'+'ox'](_0x66f16,_0x18e393=0xaa*0x2e+-0xa9c+0x74*-0x2c+0.000001){return Math['abs'](this['x']-_0x66f16['x'])<_0x18e393&&Math['abs'](this['y']-_0x66f16['y'])<_0x18e393&&Math['abs'](this['z']-_0x66f16['z'])<_0x18e393&&Math['abs'](this['w']-_0x66f16['w'])<_0x18e393;}['getAxisAng'+'le'](_0x3b967d){let _0xea61e2=Math['acos'](this['w'])*(0x8e0*-0x1+0x115e+-0x87c);const _0x105156=Math['sin'](_0xea61e2/(0x1*-0x1b44+-0x1ccc+-0x1c09*-0x2));return _0x105156!==-0xb3*0x25+0x13e3+0x5fc?(_0x3b967d['x']=this['x']/_0x105156,_0x3b967d['y']=this['y']/_0x105156,_0x3b967d['z']=this['z']/_0x105156,(_0x3b967d['x']<0xefc+-0x1fd2+0x10d6||_0x3b967d['y']<0x23*0x2f+-0x1fc0*0x1+0x1953||_0x3b967d['z']<0x620+0x1f56+-0x1*0x2576)&&(_0x3b967d['x']*=-(-0x114e+-0x234b*0x1+0x1*0x349a),_0x3b967d['y']*=-(-0x881*0x2+0x19b1*0x1+0x1*-0x8ae),_0x3b967d['z']*=-(-0x1*0x1ad5+-0x2*0xea+0x1caa),_0xea61e2*=-(0xdd1+0x1fa2+-0x2d72))):(_0x3b967d['x']=-0x1e*0xae+-0x8f3*-0x2+0x27f,_0x3b967d['y']=-0xe3f+-0x7da+0x1619,_0x3b967d['z']=-0x191+-0x1*0xc85+0xe16),_0xea61e2*Y['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x5292e9=new D()){let _0x57ba41,_0x3679fa,_0x1467f9;const _0x45df27=this['x'],_0x1e626f=this['y'],_0x49c473=this['z'],_0xd18b29=this['w'],_0x1ab3b6=(0x53b*0x3+-0x92d+0x11*-0x62)*(_0xd18b29*_0x1e626f-_0x45df27*_0x49c473);return _0x1ab3b6<=-(0xe6+0xf7c+0x9*-0x1d2+0.99999)?(_0x57ba41=(0x263*-0x3+0x3*-0x4b5+0x2*0xaa5)*Math['atan2'](_0x45df27,_0xd18b29),_0x3679fa=-Math['PI']/(0x1343*-0x1+-0x260e+0x1*0x3953),_0x1467f9=-0x2650+-0x1*0x2684+0x4cd4):_0x1ab3b6>=0xad3*-0x1+-0x5f*-0x1f+0xae*-0x1+0.99999?(_0x57ba41=(-0x14d5+0xfb6+0x521)*Math['atan2'](_0x45df27,_0xd18b29),_0x3679fa=Math['PI']/(-0xeb*-0xb+-0x1*0x2287+0xb8*0x22),_0x1467f9=0x15a7*0x1+-0x2123+0xb7c):(_0x57ba41=Math['atan2']((0x1600+-0x1*-0x1f1e+0x46d*-0xc)*(_0xd18b29*_0x45df27+_0x1e626f*_0x49c473),0x2*0x3c7+-0x13e*0x5+-0x1*0x157-(-0x2679+0x9b*-0x3d+0x4b6a)*(_0x45df27*_0x45df27+_0x1e626f*_0x1e626f)),_0x3679fa=Math['asin'](_0x1ab3b6),_0x1467f9=Math['atan2']((0x39*-0x43+0x1d*-0x119+0x2ec2)*(_0xd18b29*_0x49c473+_0x45df27*_0x1e626f),0x6*-0x263+-0x2073+-0x2ec6*-0x1-(0x11b3+-0x47+-0x116a)*(_0x1e626f*_0x1e626f+_0x49c473*_0x49c473))),_0x5292e9['set'](_0x57ba41,_0x3679fa,_0x1467f9)['mulScalar'](Y['RAD_TO_DEG']);}['invert'](_0x1d3d0c=this){return this['conjugate'](_0x1d3d0c)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x54e741,_0x5be491,_0x13efe){const _0x1975c1=(0xa7*-0x2b+-0xa3*0x14+0x28ca-_0x13efe)*(_0x54e741['dot'](_0x5be491)<0x15a*0x15+0x2031+0x6bb*-0x9?-(-0x3b0+-0x19e1+0xec9*0x2):0xdef+0x26ba*0x1+-0x34a8);return this['x']=_0x54e741['x']*_0x1975c1+_0x5be491['x']*_0x13efe,this['y']=_0x54e741['y']*_0x1975c1+_0x5be491['y']*_0x13efe,this['z']=_0x54e741['z']*_0x1975c1+_0x5be491['z']*_0x13efe,this['w']=_0x54e741['w']*_0x1975c1+_0x5be491['w']*_0x13efe,this['normalize']();}['mul'](_0x5b0b59){const _0x2bd673=this['x'],_0xcb00bd=this['y'],_0x500a26=this['z'],_0x520523=this['w'],_0x310e96=_0x5b0b59['x'],_0x57b391=_0x5b0b59['y'],_0x223d2d=_0x5b0b59['z'],_0x59c904=_0x5b0b59['w'];return this['x']=_0x520523*_0x310e96+_0x2bd673*_0x59c904+_0xcb00bd*_0x223d2d-_0x500a26*_0x57b391,this['y']=_0x520523*_0x57b391+_0xcb00bd*_0x59c904+_0x500a26*_0x310e96-_0x2bd673*_0x223d2d,this['z']=_0x520523*_0x223d2d+_0x500a26*_0x59c904+_0x2bd673*_0x57b391-_0xcb00bd*_0x310e96,this['w']=_0x520523*_0x59c904-_0x2bd673*_0x310e96-_0xcb00bd*_0x57b391-_0x500a26*_0x223d2d,this;}['mulScalar'](_0x22443c,_0x23ed31=this){return this['x']=_0x23ed31['x']*_0x22443c,this['y']=_0x23ed31['y']*_0x22443c,this['z']=_0x23ed31['z']*_0x22443c,this['w']=_0x23ed31['w']*_0x22443c,this;}['mul2'](_0x5dc0e9,_0x26f16d){const _0x14143e=_0x5dc0e9['x'],_0x1363be=_0x5dc0e9['y'],_0x43beb8=_0x5dc0e9['z'],_0x57395f=_0x5dc0e9['w'],_0xb1a830=_0x26f16d['x'],_0x2e35ea=_0x26f16d['y'],_0xa38fad=_0x26f16d['z'],_0x439414=_0x26f16d['w'];return this['x']=_0x57395f*_0xb1a830+_0x14143e*_0x439414+_0x1363be*_0xa38fad-_0x43beb8*_0x2e35ea,this['y']=_0x57395f*_0x2e35ea+_0x1363be*_0x439414+_0x43beb8*_0xb1a830-_0x14143e*_0xa38fad,this['z']=_0x57395f*_0xa38fad+_0x43beb8*_0x439414+_0x14143e*_0x2e35ea-_0x1363be*_0xb1a830,this['w']=_0x57395f*_0x439414-_0x14143e*_0xb1a830-_0x1363be*_0x2e35ea-_0x43beb8*_0xa38fad,this;}['normalize'](_0x2088a9=this){let _0x33e1b8=_0x2088a9['length']();return _0x33e1b8===0x1*-0x1de+-0x1c8e+0x1e6c?(this['x']=this['y']=this['z']=0x5*0x3d9+-0x35*0xd+-0x6*0x2c2,this['w']=0x1b2d+-0x1ed*0xd+0x223*-0x1):(_0x33e1b8=(-0x39*0x81+-0x17c6+-0x54*-0xa0)/_0x33e1b8,this['x']=_0x2088a9['x']*_0x33e1b8,this['y']=_0x2088a9['y']*_0x33e1b8,this['z']=_0x2088a9['z']*_0x33e1b8,this['w']=_0x2088a9['w']*_0x33e1b8),this;}['set'](_0x16cf4f,_0x1e119a,_0x13a7e0,_0x23f902){return this['x']=_0x16cf4f,this['y']=_0x1e119a,this['z']=_0x13a7e0,this['w']=_0x23f902,this;}['setFromAxi'+'sAngle'](_0x41c194,_0x579af1){_0x579af1*=(0x161*-0xd+-0xa75+-0x2*-0xe31+0.5)*Y['DEG_TO_RAD'];const _0x466993=Math['sin'](_0x579af1),_0x25660c=Math['cos'](_0x579af1);return this['x']=_0x466993*_0x41c194['x'],this['y']=_0x466993*_0x41c194['y'],this['z']=_0x466993*_0x41c194['z'],this['w']=_0x25660c,this;}['setFromEul'+'erAngles'](_0xe51b0c,_0x28162a,_0x1c9df7){if(_0xe51b0c instanceof D){const _0x49fcb1=_0xe51b0c;_0xe51b0c=_0x49fcb1['x'],_0x28162a=_0x49fcb1['y'],_0x1c9df7=_0x49fcb1['z'];}const _0x56fbed=(0x1ff5+-0x1540+0xab5*-0x1+0.5)*Y['DEG_TO_RAD'];_0xe51b0c*=_0x56fbed,_0x28162a*=_0x56fbed,_0x1c9df7*=_0x56fbed;const _0x35d839=Math['sin'](_0xe51b0c),_0x2cd2fd=Math['cos'](_0xe51b0c),_0xebec5c=Math['sin'](_0x28162a),_0x3b34af=Math['cos'](_0x28162a),_0x26530d=Math['sin'](_0x1c9df7),_0x4bc7c4=Math['cos'](_0x1c9df7);return this['x']=_0x35d839*_0x3b34af*_0x4bc7c4-_0x2cd2fd*_0xebec5c*_0x26530d,this['y']=_0x2cd2fd*_0xebec5c*_0x4bc7c4+_0x35d839*_0x3b34af*_0x26530d,this['z']=_0x2cd2fd*_0x3b34af*_0x26530d-_0x35d839*_0xebec5c*_0x4bc7c4,this['w']=_0x2cd2fd*_0x3b34af*_0x4bc7c4+_0x35d839*_0xebec5c*_0x26530d,this;}['setFromMat'+'4'](_0x2bc0bc){const _0x36fa65=_0x2bc0bc['data'];let _0x4f27e5=_0x36fa65[0x1080+-0x1*0x6d3+-0x1*0x9ad],_0x4a9070=_0x36fa65[-0x232d+0x2699*0x1+-0x36b],_0x18a767=_0x36fa65[-0xdf*0x1d+-0x1c21+-0x5*-0xaae],_0x2e44a=_0x36fa65[0xb81+0x10f+-0xc8c],_0x109fc6=_0x36fa65[-0x19e3*-0x1+-0x13dc+0x301*-0x2],_0x1db70d=_0x36fa65[-0x635*-0x2+-0x1*-0x1ce9+-0x294d],_0x1b5adc=_0x36fa65[0x25f5+0xf80*0x1+-0x356d*0x1],_0x4f1430=_0x36fa65[-0xcb*-0x13+0x11*-0x142+0x65a],_0x5c71f9=_0x36fa65[0x1a*-0xa1+-0x1*-0x8a5+-0x3*-0x295],_0x580706;return _0x580706=_0x4f27e5*_0x4f27e5+_0x4a9070*_0x4a9070+_0x18a767*_0x18a767,_0x580706===-0xd9+-0x24ca+0x25a3?this['set'](-0x293*-0x7+0xf*0xa7+-0x1bce,0x249a+-0x19cf+-0xacb,-0x1*-0x2269+0x109e+-0x3307,-0x2695+-0x136*0x1+-0x12*-0x236):(_0x580706=(0x246a+-0x191a+-0x3*0x3c5)/Math['sqrt'](_0x580706),_0x4f27e5*=_0x580706,_0x4a9070*=_0x580706,_0x18a767*=_0x580706,_0x580706=_0x2e44a*_0x2e44a+_0x109fc6*_0x109fc6+_0x1db70d*_0x1db70d,_0x580706===0xe21+-0x1113+-0x1a*-0x1d?this['set'](-0x8*-0x344+0xcbf+0x141*-0x1f,-0x902*-0x4+0x1*-0xb17+-0x18f1,0x1947*-0x1+-0x24a*-0x3+0x1269,-0x1df8+0x4bf+0xc9d*0x2):(_0x580706=(0x1*-0x1ab4+0x1746+0x36f)/Math['sqrt'](_0x580706),_0x2e44a*=_0x580706,_0x109fc6*=_0x580706,_0x1db70d*=_0x580706,_0x580706=_0x1b5adc*_0x1b5adc+_0x4f1430*_0x4f1430+_0x5c71f9*_0x5c71f9,_0x580706===0x240b+-0x27*-0xee+-0x53*0xdf?this['set'](-0x394*-0x9+0xa61*-0x1+-0x15d3,-0x7fb+-0x1501+-0xe*-0x212,0x15a9*-0x1+-0x963+0x1f0c,-0xceb*0x3+-0x17cf+0x3e91):(_0x580706=(0x2033+-0x20b5+0x1*0x83)/Math['sqrt'](_0x580706),_0x1b5adc*=_0x580706,_0x4f1430*=_0x580706,_0x5c71f9*=_0x580706,_0x5c71f9<0x1147*-0x1+-0xae*-0x25+-0x1f*0x41?_0x4f27e5>_0x109fc6?this['set'](-0x22b1*-0x1+0x8f*0x35+-0x404b+_0x4f27e5-_0x109fc6-_0x5c71f9,_0x4a9070+_0x2e44a,_0x1b5adc+_0x18a767,_0x1db70d-_0x4f1430):this['set'](_0x4a9070+_0x2e44a,0xda*-0x1c+-0x202e+0x3807-_0x4f27e5+_0x109fc6-_0x5c71f9,_0x1db70d+_0x4f1430,_0x1b5adc-_0x18a767):_0x4f27e5<-_0x109fc6?this['set'](_0x1b5adc+_0x18a767,_0x1db70d+_0x4f1430,-0x2092+-0x1*0x831+0x28c4-_0x4f27e5-_0x109fc6+_0x5c71f9,_0x4a9070-_0x2e44a):this['set'](_0x1db70d-_0x4f1430,_0x1b5adc-_0x18a767,_0x4a9070-_0x2e44a,0xcb7+0x262*0xd+-0x2bb0+_0x4f27e5+_0x109fc6+_0x5c71f9),this['mulScalar']((0x617*0x1+0x875+-0xe8b)/this['length']()))));}['setFromDir'+'ections'](_0x24cc5a,_0x4fd42b){const _0x2eafba=-0x1*0x20d+0x1*-0x99d+0xbab+_0x24cc5a['dot'](_0x4fd42b);return _0x2eafba<Number['EPSILON']?Math['abs'](_0x24cc5a['x'])>Math['abs'](_0x24cc5a['y'])?(this['x']=-_0x24cc5a['z'],this['y']=-0xf2a*-0x2+0xbc5+-0x2a19,this['z']=_0x24cc5a['x'],this['w']=-0x1*0x26d8+0x24d5*-0x1+0x4bad):(this['x']=-0x8*-0x279+0x269c+0x3a64*-0x1,this['y']=-_0x24cc5a['z'],this['z']=_0x24cc5a['y'],this['w']=-0x7*0x12b+-0x5b5*0x3+-0x653*-0x4):(this['x']=_0x24cc5a['y']*_0x4fd42b['z']-_0x24cc5a['z']*_0x4fd42b['y'],this['y']=_0x24cc5a['z']*_0x4fd42b['x']-_0x24cc5a['x']*_0x4fd42b['z'],this['z']=_0x24cc5a['x']*_0x4fd42b['y']-_0x24cc5a['y']*_0x4fd42b['x'],this['w']=_0x2eafba),this['normalize']();}['slerp'](_0x3ec77d,_0x1fea35,_0xa79bc9){const _0x44ecb7=_0x3ec77d['x'],_0x190780=_0x3ec77d['y'],_0x294aa4=_0x3ec77d['z'],_0x25d085=_0x3ec77d['w'];let _0x528444=_0x1fea35['x'],_0x44b5d6=_0x1fea35['y'],_0x1c3118=_0x1fea35['z'],_0x3373b9=_0x1fea35['w'],_0x3b3c84=_0x25d085*_0x3373b9+_0x44ecb7*_0x528444+_0x190780*_0x44b5d6+_0x294aa4*_0x1c3118;if(_0x3b3c84<0xd*-0x2c9+-0x1f76*-0x1+0x4bf&&(_0x3373b9=-_0x3373b9,_0x528444=-_0x528444,_0x44b5d6=-_0x44b5d6,_0x1c3118=-_0x1c3118,_0x3b3c84=-_0x3b3c84),Math['abs'](_0x3b3c84)>=0x52f*0x7+0x35*0x35+-0x2f41)return this['w']=_0x25d085,this['x']=_0x44ecb7,this['y']=_0x190780,this['z']=_0x294aa4,this;const _0x495ba1=Math['acos'](_0x3b3c84),_0x436c80=Math['sqrt'](0x1*-0x13cf+0x7*0x35+-0x1*-0x125d-_0x3b3c84*_0x3b3c84);if(Math['abs'](_0x436c80)<0x1f66+0x267d+-0x45e3+0.001)return this['w']=_0x25d085*(-0x125*-0x9+0x219e+0x2beb*-0x1+0.5)+_0x3373b9*(-0x575*-0x6+-0x1*0xae1+-0x15dd+0.5),this['x']=_0x44ecb7*(0x2685+-0xcfc+-0x1989+0.5)+_0x528444*(-0x1*-0x1877+0x4c*0x2f+-0x266b+0.5),this['y']=_0x190780*(0x20b*-0x3+0x1*-0x70b+-0x6*-0x232+0.5)+_0x44b5d6*(0xa6c+-0x1656+0xbea+0.5),this['z']=_0x294aa4*(-0x1*0xe6b+0x2a*-0x43+0x1*0x1969+0.5)+_0x1c3118*(-0x1*-0x259f+0x1*-0x141b+-0x1184+0.5),this;const _0xbafb20=Math['sin']((-0x525*-0x3+-0x101*0x1b+-0x1*-0xbad-_0xa79bc9)*_0x495ba1)/_0x436c80,_0x450375=Math['sin'](_0xa79bc9*_0x495ba1)/_0x436c80;return this['w']=_0x25d085*_0xbafb20+_0x3373b9*_0x450375,this['x']=_0x44ecb7*_0xbafb20+_0x528444*_0x450375,this['y']=_0x190780*_0xbafb20+_0x44b5d6*_0x450375,this['z']=_0x294aa4*_0xbafb20+_0x1c3118*_0x450375,this;}['transformV'+'ector'](_0x5f01a4,_0x273a81=new D()){const _0xbbee5e=_0x5f01a4['x'],_0x5b8765=_0x5f01a4['y'],_0x4fe66a=_0x5f01a4['z'],_0x3e7cef=this['x'],_0x3724a8=this['y'],_0xd045c3=this['z'],_0x3c78cd=this['w'],_0x211273=_0x3c78cd*_0xbbee5e+_0x3724a8*_0x4fe66a-_0xd045c3*_0x5b8765,_0x336d20=_0x3c78cd*_0x5b8765+_0xd045c3*_0xbbee5e-_0x3e7cef*_0x4fe66a,_0x285e2d=_0x3c78cd*_0x4fe66a+_0x3e7cef*_0x5b8765-_0x3724a8*_0xbbee5e,_0x48c792=-_0x3e7cef*_0xbbee5e-_0x3724a8*_0x5b8765-_0xd045c3*_0x4fe66a;return _0x273a81['x']=_0x211273*_0x3c78cd+_0x48c792*-_0x3e7cef+_0x336d20*-_0xd045c3-_0x285e2d*-_0x3724a8,_0x273a81['y']=_0x336d20*_0x3c78cd+_0x48c792*-_0x3724a8+_0x285e2d*-_0x3e7cef-_0x211273*-_0xd045c3,_0x273a81['z']=_0x285e2d*_0x3c78cd+_0x48c792*-_0xd045c3+_0x211273*-_0x3724a8-_0x336d20*-_0x3e7cef,_0x273a81;}['fromArray'](_0x2b7dc6,_0x180bc5=-0x727*0x3+-0x1a3c+-0x1d*-0x1a5){return this['x']=_0x2b7dc6[_0x180bc5]??this['x'],this['y']=_0x2b7dc6[_0x180bc5+(-0x15c5+-0xa1d*-0x2+0x18c)]??this['y'],this['z']=_0x2b7dc6[_0x180bc5+(0x3ec+-0x1*-0x421+0x47*-0x1d)]??this['z'],this['w']=_0x2b7dc6[_0x180bc5+(-0x2f2+-0x2584+-0x31d*-0xd)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x4fcae1=[],_0x41301b=0x15ce+-0x1c15+-0x647*-0x1){return _0x4fcae1[_0x41301b]=this['x'],_0x4fcae1[_0x41301b+(-0x19f1+0xa3*-0x9+-0x9f*-0x33)]=this['y'],_0x4fcae1[_0x41301b+(-0x1*0x236c+-0x1a5f*0x1+0x3dcd)]=this['z'],_0x4fcae1[_0x41301b+(-0x40d*0x1+-0x2187+-0x1*-0x2597)]=this['w'],_0x4fcae1;}};h(Sn,'IDENTITY',Object['freeze'](new Sn(-0x26d9+0x1ded+-0x23b*-0x4,-0xd*0x281+-0x7*-0x3e+0x1edb,-0x1754+-0x1*-0x1a42+0x19*-0x1e,0x182*-0x14+-0x1ac8+0x3*0x12fb))),h(Sn,'ZERO',Object['freeze'](new Sn(0x1*0x16a0+-0x16ae+-0x2*-0x7,-0x187*-0x15+-0x5c6+-0x1a4d,-0xb23*-0x2+-0x49*-0x7+-0x1845,-0x1*-0x4c6+-0xa49*-0x1+-0xf0f)));let le=Sn;const Pa=new D(),Ma=new D(),Um=new D(),Bm=new D(),gx=new D();class De{constructor(_0x2fd8d3,_0x236c3a){h(this,'center',new D()),h(this,'halfExtent'+'s',new D(-0x11b8+-0x5dd+0x1*0x1795+0.5,0x3*-0x1df+0x1482+-0xee5+0.5,-0x951+0xb*0xc7+0xc4+0.5)),h(this,'_min',new D()),h(this,'_max',new D()),(_0x2fd8d3&&this['center']['copy'](_0x2fd8d3),_0x236c3a&&this['halfExtent'+'s']['copy'](_0x236c3a));}['add'](_0x5d2991){const _0x51fe66=this['center'],_0x3fd875=_0x51fe66['x'],_0x47a1b4=_0x51fe66['y'],_0x23b00b=_0x51fe66['z'],_0x323181=this['halfExtent'+'s'],_0x581216=_0x323181['x'],_0x272c75=_0x323181['y'],_0x2a1319=_0x323181['z'];let _0xcf9cef=_0x3fd875-_0x581216,_0x533fbc=_0x3fd875+_0x581216,_0xc1170b=_0x47a1b4-_0x272c75,_0x142ceb=_0x47a1b4+_0x272c75,_0x5e03ba=_0x23b00b-_0x2a1319,_0x4a2130=_0x23b00b+_0x2a1319;const _0x3481b2=_0x5d2991['center'],_0x389350=_0x3481b2['x'],_0x17578a=_0x3481b2['y'],_0x39ff94=_0x3481b2['z'],_0x4157be=_0x5d2991['halfExtent'+'s'],_0x46358d=_0x4157be['x'],_0x52f4ce=_0x4157be['y'],_0x20283c=_0x4157be['z'],_0x1ec31d=_0x389350-_0x46358d,_0x4cea1f=_0x389350+_0x46358d,_0x2ba9c1=_0x17578a-_0x52f4ce,_0x17db33=_0x17578a+_0x52f4ce,_0x310ddf=_0x39ff94-_0x20283c,_0x4a85dc=_0x39ff94+_0x20283c;_0x1ec31d<_0xcf9cef&&(_0xcf9cef=_0x1ec31d),_0x4cea1f>_0x533fbc&&(_0x533fbc=_0x4cea1f),_0x2ba9c1<_0xc1170b&&(_0xc1170b=_0x2ba9c1),_0x17db33>_0x142ceb&&(_0x142ceb=_0x17db33),_0x310ddf<_0x5e03ba&&(_0x5e03ba=_0x310ddf),_0x4a85dc>_0x4a2130&&(_0x4a2130=_0x4a85dc),_0x51fe66['x']=(_0xcf9cef+_0x533fbc)*(0x1*0x1cf3+0x1*-0x244a+0x757+0.5),_0x51fe66['y']=(_0xc1170b+_0x142ceb)*(-0x1893+0x8c7*-0x3+0x32e8+0.5),_0x51fe66['z']=(_0x5e03ba+_0x4a2130)*(-0xe37*0x1+-0xf2+0xf29+0.5),_0x323181['x']=(_0x533fbc-_0xcf9cef)*(0x248c+-0x130f+0x197*-0xb+0.5),_0x323181['y']=(_0x142ceb-_0xc1170b)*(0xa53+-0x903+0x2*-0xa8+0.5),_0x323181['z']=(_0x4a2130-_0x5e03ba)*(0x16*0xa4+0x2a*0xee+0x1a92*-0x2+0.5);}['copy'](_0x5ca194){this['center']['copy'](_0x5ca194['center']),this['halfExtent'+'s']['copy'](_0x5ca194['halfExtent'+'s']);}['clone'](){return new De(this['center'],this['halfExtent'+'s']);}['intersects'](_0x2492fa){const _0x30b4a8=this['getMax'](),_0x4c5528=this['getMin'](),_0x433d17=_0x2492fa['getMax'](),_0x2ec317=_0x2492fa['getMin']();return _0x4c5528['x']<=_0x433d17['x']&&_0x30b4a8['x']>=_0x2ec317['x']&&_0x4c5528['y']<=_0x433d17['y']&&_0x30b4a8['y']>=_0x2ec317['y']&&_0x4c5528['z']<=_0x433d17['z']&&_0x30b4a8['z']>=_0x2ec317['z'];}['_intersect'+'sRay'](_0x12e565,_0x34a849){const _0x4a6369=Pa['copy'](this['getMin']())['sub'](_0x12e565['origin']),_0x2c6a3c=Ma['copy'](this['getMax']())['sub'](_0x12e565['origin']),_0x2e069d=_0x12e565['direction'];_0x2e069d['x']===-0x26f0+0x15cd+0x1123?(_0x4a6369['x']=_0x4a6369['x']<0x813*0x1+0x3b*0x6b+-0x20bc?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x2c6a3c['x']=_0x2c6a3c['x']<-0x58*0x13+-0x5*0x61d+0x2519*0x1?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x4a6369['x']/=_0x2e069d['x'],_0x2c6a3c['x']/=_0x2e069d['x']),_0x2e069d['y']===-0x93+-0x1*0x1b5+0x248?(_0x4a6369['y']=_0x4a6369['y']<-0x1e99+-0x1*-0x11b+0x1d7e?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x2c6a3c['y']=_0x2c6a3c['y']<-0x181c+0x2d*-0x91+0x3199?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x4a6369['y']/=_0x2e069d['y'],_0x2c6a3c['y']/=_0x2e069d['y']),_0x2e069d['z']===0xf53+-0x796+-0x7bd?(_0x4a6369['z']=_0x4a6369['z']<-0x4*-0x20+-0x18fc+-0x61f*-0x4?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x2c6a3c['z']=_0x2c6a3c['z']<-0x16*0x1+-0x10d*-0x25+-0x26cb?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x4a6369['z']/=_0x2e069d['z'],_0x2c6a3c['z']/=_0x2e069d['z']);const _0x1e98a4=Um['set'](Math['min'](_0x4a6369['x'],_0x2c6a3c['x']),Math['min'](_0x4a6369['y'],_0x2c6a3c['y']),Math['min'](_0x4a6369['z'],_0x2c6a3c['z'])),_0x4a894a=Bm['set'](Math['max'](_0x4a6369['x'],_0x2c6a3c['x']),Math['max'](_0x4a6369['y'],_0x2c6a3c['y']),Math['max'](_0x4a6369['z'],_0x2c6a3c['z'])),_0x3751e5=Math['min'](Math['min'](_0x4a894a['x'],_0x4a894a['y']),_0x4a894a['z']),_0x5172cd=Math['max'](Math['max'](_0x1e98a4['x'],_0x1e98a4['y']),_0x1e98a4['z']),_0x17c121=_0x3751e5>=_0x5172cd&&_0x5172cd>=0x15fa+0x21bf+-0x37b9;return _0x17c121&&_0x34a849['copy'](_0x12e565['direction'])['mulScalar'](_0x5172cd)['add'](_0x12e565['origin']),_0x17c121;}['_fastInter'+'sectsRay'](_0x4eb8fa){const _0x55fe6b=Pa,_0x62f3fa=Ma,_0xd2748=Um,_0x3178ca=Bm,_0xc3df61=gx,_0x442d1f=_0x4eb8fa['direction'];return _0x55fe6b['sub2'](_0x4eb8fa['origin'],this['center']),_0x3178ca['set'](Math['abs'](_0x55fe6b['x']),Math['abs'](_0x55fe6b['y']),Math['abs'](_0x55fe6b['z'])),_0xd2748['mul2'](_0x55fe6b,_0x442d1f),!(_0x3178ca['x']>this['halfExtent'+'s']['x']&&_0xd2748['x']>=0x2d7*0x6+-0x1a2d*0x1+0x923||_0x3178ca['y']>this['halfExtent'+'s']['y']&&_0xd2748['y']>=-0x1*0x2509+0x13b9+-0x2*-0x8a8||_0x3178ca['z']>this['halfExtent'+'s']['z']&&_0xd2748['z']>=0x4e4+0x19ab*-0x1+0x14c7||(_0xc3df61['set'](Math['abs'](_0x442d1f['x']),Math['abs'](_0x442d1f['y']),Math['abs'](_0x442d1f['z'])),_0x62f3fa['cross'](_0x442d1f,_0x55fe6b),_0x62f3fa['set'](Math['abs'](_0x62f3fa['x']),Math['abs'](_0x62f3fa['y']),Math['abs'](_0x62f3fa['z'])),_0x62f3fa['x']>this['halfExtent'+'s']['y']*_0xc3df61['z']+this['halfExtent'+'s']['z']*_0xc3df61['y'])||_0x62f3fa['y']>this['halfExtent'+'s']['x']*_0xc3df61['z']+this['halfExtent'+'s']['z']*_0xc3df61['x']||_0x62f3fa['z']>this['halfExtent'+'s']['x']*_0xc3df61['y']+this['halfExtent'+'s']['y']*_0xc3df61['x']);}['intersects'+'Ray'](_0x1c1954,_0x554d89){return _0x554d89?this['_intersect'+'sRay'](_0x1c1954,_0x554d89):this['_fastInter'+'sectsRay'](_0x1c1954);}['setMinMax'](_0x3dc60f,_0xec772d){this['center']['add2'](_0xec772d,_0x3dc60f)['mulScalar'](0x5*0x3cc+0x2261+0x13*-0x2cf+0.5),this['halfExtent'+'s']['sub2'](_0xec772d,_0x3dc60f)['mulScalar'](0x22b7*-0x1+0x228a+0x2d+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x4b5938){const _0x27f851=this['getMin'](),_0x5cc3f0=this['getMax']();return!(_0x4b5938['x']<_0x27f851['x']||_0x4b5938['x']>_0x5cc3f0['x']||_0x4b5938['y']<_0x27f851['y']||_0x4b5938['y']>_0x5cc3f0['y']||_0x4b5938['z']<_0x27f851['z']||_0x4b5938['z']>_0x5cc3f0['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x207ed8,_0xb9b185,_0x164ecd=!(0x1969+0x124+-0x1a8c)){const _0x22a252=_0x207ed8['center'],_0x85d186=_0x207ed8['halfExtent'+'s'],_0x314558=_0xb9b185['data'];let _0x2361cc=_0x314558[0x9*0x5a+0x47*-0x11+0x18d],_0x39101f=_0x314558[-0xef*0x11+0x218c+-0xb*0x19b],_0x165fb5=_0x314558[-0x23*-0x5+-0x2134+0xd*0x281],_0x438fd3=_0x314558[0x2426+-0x3d4+-0x2051],_0x1421ba=_0x314558[-0x16e*0x1a+-0x68*0x27+0x3509],_0x2e6662=_0x314558[-0x1*-0x158f+-0x1*-0x1123+-0x1*0x26a9],_0x2420c3=_0x314558[-0x1ee3*-0x1+0x18bb+-0x379c],_0xb23f21=_0x314558[-0x16b*-0x11+0x39b*0x3+-0x22e6],_0xe2717f=_0x314558[0x3*-0xb9e+-0x28*-0xeb+-0xea*0x2];if(_0x164ecd){let _0x4f1511=_0x2361cc*_0x2361cc+_0x39101f*_0x39101f+_0x165fb5*_0x165fb5;if(_0x4f1511>-0x1659+-0x3*-0x65b+0x46*0xc){const _0x3001c7=(0x1*0x1195+-0xf8e+-0x206)/Math['sqrt'](_0x4f1511);_0x2361cc*=_0x3001c7,_0x39101f*=_0x3001c7,_0x165fb5*=_0x3001c7;}if(_0x4f1511=_0x438fd3*_0x438fd3+_0x1421ba*_0x1421ba+_0x2e6662*_0x2e6662,_0x4f1511>-0x2*0xe61+0xc36+0x108c){const _0x4d773d=(-0x695+-0x68e*0x2+-0x13b2*-0x1)/Math['sqrt'](_0x4f1511);_0x438fd3*=_0x4d773d,_0x1421ba*=_0x4d773d,_0x2e6662*=_0x4d773d;}if(_0x4f1511=_0x2420c3*_0x2420c3+_0xb23f21*_0xb23f21+_0xe2717f*_0xe2717f,_0x4f1511>-0x6d4+-0x2380+0x54*0x81){const _0x466501=(-0x182*-0x8+-0x1059+0x44a)/Math['sqrt'](_0x4f1511);_0x2420c3*=_0x466501,_0xb23f21*=_0x466501,_0xe2717f*=_0x466501;}}this['center']['set'](_0x314558[0x1a02+0x209*0xb+-0x3059]+_0x2361cc*_0x22a252['x']+_0x39101f*_0x22a252['y']+_0x165fb5*_0x22a252['z'],_0x314558[0x13*0x86+0xa37*0x1+-0x141c]+_0x438fd3*_0x22a252['x']+_0x1421ba*_0x22a252['y']+_0x2e6662*_0x22a252['z'],_0x314558[-0x1835*0x1+-0x2008+-0x384b*-0x1]+_0x2420c3*_0x22a252['x']+_0xb23f21*_0x22a252['y']+_0xe2717f*_0x22a252['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x2361cc)*_0x85d186['x']+Math['abs'](_0x39101f)*_0x85d186['y']+Math['abs'](_0x165fb5)*_0x85d186['z'],Math['abs'](_0x438fd3)*_0x85d186['x']+Math['abs'](_0x1421ba)*_0x85d186['y']+Math['abs'](_0x2e6662)*_0x85d186['z'],Math['abs'](_0x2420c3)*_0x85d186['x']+Math['abs'](_0xb23f21)*_0x85d186['y']+Math['abs'](_0xe2717f)*_0x85d186['z']);}static['computeMin'+'Max'](_0x3258ab,_0x3612a8,_0x2acd65,_0x1a3196=_0x3258ab['length']/(-0x2235+-0x2239+-0x7*-0x9c7)){if(_0x1a3196>-0x444+-0x26b5+0x243*0x13){let _0x29e559=_0x3258ab[-0x53b*0x2+0x11*-0x67+0x2b*0x67],_0x4e5834=_0x3258ab[-0xa33*-0x2+-0x1*-0xc42+-0x20a7],_0x2054bb=_0x3258ab[-0x95f+-0x7*-0xc5+-0x1*-0x3fe],_0x29b507=_0x29e559,_0x2ddc06=_0x4e5834,_0x597135=_0x2054bb;const _0x562f03=_0x1a3196*(0x7*-0x48d+0x213d+-0x15f);for(let _0x20ae99=0x1d4f+0x2*-0x1118+-0x2*-0x272;_0x20ae99<_0x562f03;_0x20ae99+=-0x1*-0x37d+0x6d*-0x13+0x49d){const _0x25b1c2=_0x3258ab[_0x20ae99],_0xe6b00a=_0x3258ab[_0x20ae99+(0x1f17+0x190c+-0x3822)],_0x21216e=_0x3258ab[_0x20ae99+(-0x1*0xebf+-0xb6c+0x1*0x1a2d)];_0x25b1c2<_0x29e559&&(_0x29e559=_0x25b1c2),_0xe6b00a<_0x4e5834&&(_0x4e5834=_0xe6b00a),_0x21216e<_0x2054bb&&(_0x2054bb=_0x21216e),_0x25b1c2>_0x29b507&&(_0x29b507=_0x25b1c2),_0xe6b00a>_0x2ddc06&&(_0x2ddc06=_0xe6b00a),_0x21216e>_0x597135&&(_0x597135=_0x21216e);}_0x3612a8['set'](_0x29e559,_0x4e5834,_0x2054bb),_0x2acd65['set'](_0x29b507,_0x2ddc06,_0x597135);}}['compute'](_0x58c5ce,_0x4266b2){De['computeMin'+'Max'](_0x58c5ce,Pa,Ma,_0x4266b2),this['setMinMax'](Pa,Ma);}['intersects'+'BoundingSp'+'here'](_0x535e3e){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x535e3e)<=_0x535e3e['radius']*_0x535e3e['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x219809){const _0x3cf5d2=this['getMin'](),_0x1b3bca=this['getMax']();let _0x5e23b3=0x6*0x47+-0x1*-0x8aa+0x295*-0x4;const _0x1fae85=['x','y','z'];for(let _0xe0d3d1=0x61*-0x42+0x3c7+0x153b;_0xe0d3d1<-0x25*-0x11+-0x20e8+0x1e76;++_0xe0d3d1){let _0x546d92=0xf67*0x1+0xb03+-0x1a6a;const _0x58bdbf=_0x219809['center'][_0x1fae85[_0xe0d3d1]],_0x2794c5=_0x3cf5d2[_0x1fae85[_0xe0d3d1]],_0x35fe1b=_0x1b3bca[_0x1fae85[_0xe0d3d1]];let _0x41eccc=-0xc2*0x7+0x2662+-0x124*0x1d;_0x58bdbf<_0x2794c5&&(_0x41eccc=_0x2794c5-_0x58bdbf,_0x546d92+=_0x41eccc*_0x41eccc),_0x58bdbf>_0x35fe1b&&(_0x41eccc=_0x58bdbf-_0x35fe1b,_0x546d92+=_0x41eccc*_0x41eccc),_0x5e23b3+=_0x546d92;}return _0x5e23b3;}['_expand'](_0x402c53,_0x308e68){Pa['add2'](this['getMin'](),_0x402c53),Ma['add2'](this['getMax'](),_0x308e68),this['setMinMax'](Pa,Ma);}}const Wl=new D(),Sx=new D();class sp{constructor(_0x64db86=new D(),_0x2c7ccc=-0x956+-0x2*0x330+0x1*0xfb6+0.5){h(this,'center'),h(this,'radius'),(w['assert'](!Object['isFrozen'](_0x64db86),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x64db86,this['radius']=_0x2c7ccc);}['containsPo'+'int'](_0xc8199){const _0x452a82=Wl['sub2'](_0xc8199,this['center'])['lengthSq'](),_0x3b8fb3=this['radius'];return _0x452a82<_0x3b8fb3*_0x3b8fb3;}['intersects'+'Ray'](_0xac932c,_0xb13a41){const _0x24847d=Wl['copy'](_0xac932c['origin'])['sub'](this['center']),_0x2d8c10=_0x24847d['dot'](Sx['copy'](_0xac932c['direction'])['normalize']()),_0x4e69e1=_0x24847d['dot'](_0x24847d)-this['radius']*this['radius'];if(_0x4e69e1>0x27a+-0x93e+0x2*0x362&&_0x2d8c10>0x21*0x9+-0x111e+-0x331*-0x5)return!(0x2*-0x476+-0x257a+0x7*0x6a1);const _0x35aaf3=_0x2d8c10*_0x2d8c10-_0x4e69e1;if(_0x35aaf3<-0x1d7b+-0x1408+0x3183)return!(0x16*0x2e+-0x1*0x8bd+0x4ca);const _0x404a74=Math['abs'](-_0x2d8c10-Math['sqrt'](_0x35aaf3));return _0xb13a41&&_0xb13a41['copy'](_0xac932c['direction'])['mulScalar'](_0x404a74)['add'](_0xac932c['origin']),!(0xc1d+-0x1*0x62f+-0x17*0x42);}['intersects'+'BoundingSp'+'here'](_0x5808f8){Wl['sub2'](_0x5808f8['center'],this['center']);const _0x2ef263=_0x5808f8['radius']+this['radius'];return Wl['lengthSq']()<=_0x2ef263*_0x2ef263;}}class QS{constructor(_0x241d9c=D['UP'],_0x430279=0x28+0x9f5+0x35f*-0x3){h(this,'normal',new D()),h(this,'distance'),(this['normal']['copy'](_0x241d9c),this['distance']=_0x430279);}['clone'](){const _0x458831=this['constructo'+'r'];return new _0x458831()['copy'](this);}['copy'](_0x32e49d){return this['normal']['copy'](_0x32e49d['normal']),this['distance']=_0x32e49d['distance'],this;}['intersects'+'Line'](_0x4d0739,_0x23bf84,_0x1dc191){const _0x1891ba=this['distance'],_0x1bf466=this['normal']['dot'](_0x4d0739)+_0x1891ba,_0x37514=this['normal']['dot'](_0x23bf84)+_0x1891ba,_0x4062a3=_0x1bf466/(_0x1bf466-_0x37514),_0x655eb=_0x4062a3>=-0x1*0x1e63+-0x17d*0x1a+0xdd1*0x5&&_0x4062a3<=-0x1*0x1c2e+0x1b56+0xd9;return _0x655eb&&_0x1dc191&&_0x1dc191['lerp'](_0x4d0739,_0x23bf84,_0x4062a3),_0x655eb;}['intersects'+'Ray'](_0x12c716,_0x158311){const _0xf5d0c1=this['normal']['dot'](_0x12c716['direction']);if(_0xf5d0c1===0x1*0x51b+0x1f87*0x1+0x9*-0x412)return!(0x111b*0x1+0x12db+0x107*-0x23);const _0x3f6b9c=-(this['normal']['dot'](_0x12c716['origin'])+this['distance'])/_0xf5d0c1;return _0x3f6b9c>=-0xdd6+-0x33f+0x1115&&_0x158311&&_0x158311['copy'](_0x12c716['direction'])['mulScalar'](_0x3f6b9c)['add'](_0x12c716['origin']),_0x3f6b9c>=0xd0f*0x1+0x231f+-0x302e;}['normalize'](){const _0x3d168e=(-0x2*0xe44+-0x1*-0xcc5+0x7e2*0x2)/this['normal']['length']();return this['normal']['mulScalar'](_0x3d168e),this['distance']*=_0x3d168e,this;}['set'](_0x2d22e8,_0x1471aa,_0x54d5b3,_0x5ed0bc){return this['normal']['set'](_0x2d22e8,_0x1471aa,_0x54d5b3),this['distance']=_0x5ed0bc,this;}['setFromPoi'+'ntNormal'](_0x2abf8f,_0x2d494e){return this['normal']['copy'](_0x2d494e),this['distance']=-this['normal']['dot'](_0x2abf8f),this;}}class yx{constructor(){h(this,'planes',[]);for(let _0x5ef478=0x2*0xe3+-0x3d1+0x20b;_0x5ef478<0x3*-0x4f5+0x9f5*-0x2+0x22cf;_0x5ef478++)this['planes'][_0x5ef478]=new QS();}['clone'](){const _0x4d6791=this['constructo'+'r'];return new _0x4d6791()['copy'](this);}['copy'](_0x5d7552){for(let _0x531f4e=0x18*-0x82+-0x1244+0x1e74;_0x531f4e<-0x6f0+0x2*0xb9d+0x2*-0x822;_0x531f4e++)this['planes'][_0x531f4e]['copy'](_0x5d7552['planes'][_0x531f4e]);return this;}['setFromMat'+'4'](_0x584393){const [_0x5ed9a9,_0x56a2e7,_0x27d2d7,_0x370499,_0x2d51d8,_0x390c00,_0x29dece,_0x163935,_0x4bae89,_0x205c95,_0x3f8b93,_0x36afe0,_0xbff6c,_0x3230a5,_0x41e661,_0x1fd26b]=_0x584393['data'],_0x52cf30=this['planes'];_0x52cf30[-0x5*-0x320+0x1059+-0x5*0x665]['set'](_0x370499-_0x5ed9a9,_0x163935-_0x2d51d8,_0x36afe0-_0x4bae89,_0x1fd26b-_0xbff6c)['normalize'](),_0x52cf30[0x2670+-0x6*0x2b3+0x1*-0x163d]['set'](_0x370499+_0x5ed9a9,_0x163935+_0x2d51d8,_0x36afe0+_0x4bae89,_0x1fd26b+_0xbff6c)['normalize'](),_0x52cf30[0x35*-0x5+0x13ca+-0x12bf]['set'](_0x370499+_0x56a2e7,_0x163935+_0x390c00,_0x36afe0+_0x205c95,_0x1fd26b+_0x3230a5)['normalize'](),_0x52cf30[0xb76+0xf59+-0x1acc]['set'](_0x370499-_0x56a2e7,_0x163935-_0x390c00,_0x36afe0-_0x205c95,_0x1fd26b-_0x3230a5)['normalize'](),_0x52cf30[0x1*0x1e0b+-0x1d9+-0x1c2e]['set'](_0x370499-_0x27d2d7,_0x163935-_0x29dece,_0x36afe0-_0x3f8b93,_0x1fd26b-_0x41e661)['normalize'](),_0x52cf30[0x54a*0x3+-0xb9a+-0x43f*0x1]['set'](_0x370499+_0x27d2d7,_0x163935+_0x29dece,_0x36afe0+_0x3f8b93,_0x1fd26b+_0x41e661)['normalize']();}['containsPo'+'int'](_0x4c4203){for(let _0x55f5b3=0x2562+-0x266b+-0x1*-0x109;_0x55f5b3<-0x2e*-0x73+0x2163+0x1*-0x3607;_0x55f5b3++){const {normal:_0x5d962c,distance:_0x569700}=this['planes'][_0x55f5b3];if(_0x5d962c['dot'](_0x4c4203)+_0x569700<=0x12d6+0x19e5+-0x2cbb)return!(-0x30e*-0x2+0x8*0x1a5+-0x1343);}return!(-0x1ac3+0x1585*-0x1+-0xa*-0x4d4);}['containsSp'+'here'](_0x30f754){const {center:_0x174021,radius:_0xa249c0}=_0x30f754;let _0x87101c=-0xff8+-0x132a+0x2322;for(let _0x231e91=0x1*0xc1f+-0x17d7*0x1+0xbb8;_0x231e91<-0x1d7+-0x1*-0xb93+-0x9b6;_0x231e91++){const {normal:_0x1f5c11,distance:_0xe2d491}=this['planes'][_0x231e91],_0x66cd77=_0x1f5c11['dot'](_0x174021)+_0xe2d491;if(_0x66cd77<=-_0xa249c0)return-0x1148+0x257+0x4b*0x33;_0x66cd77>_0xa249c0&&_0x87101c++;}return _0x87101c===0x1*0x1da5+0x1e22+-0x3bc1?0x106c+0x15c7*-0x1+0x55d:-0x6*0x31d+0x4*-0x741+0x2fb3;}}class Dn{constructor(_0x30326b,_0x24a458){h(this,'origin',new D()),h(this,'direction',D['FORWARD']['clone']()),(_0x30326b&&this['origin']['copy'](_0x30326b),_0x24a458&&this['direction']['copy'](_0x24a458));}['set'](_0xb40531,_0xd36373){return this['origin']['copy'](_0xb40531),this['direction']['copy'](_0xd36373),this;}['copy'](_0xca479){return this['set'](_0xca479['origin'],_0xca479['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const yt=-0x1*0x220f+0x13d8+0xe37,ue=-0xea4+-0x23c2+0x3267,ip=-0x16e1*-0x1+-0xb16+-0xbc9,rp=0xdb*-0x7+0x1db6+-0x17b9,Ft=-0x22a1+0x8d4+0x19ce,vx=0x244+0x11c+-0x35e,JS=-0x1cb2+-0xc83+0x3d*0xad,xx=0xa6*0x1+0x449*-0x4+0x581*0x3,jh=0xb21*-0x3+-0x13cf+0x3538,Yh=0x1f99+-0x1672+-0x91f,fs=0xa1c*-0x2+-0x1*-0x13d5+0x63,Tx=0x1dc9+0x13*0x1d4+-0x4083,wx=0x22df+0x25f8+0x2*-0x246a,Ex=0xcc4+-0xd70+0xb0,ms=0xcdc*0x3+0x1e9f+-0x4533,lh=-0x1*0x1c73+0x1*0x15cf+0x6a5,ey=-0x1fda+-0x165f+-0x363b*-0x1,bx=0x25c0+-0x1e4a+-0x773,jo=-0xff*0x1b+0xd*-0x59+-0x3*-0xa79,Yo=-0x92e+-0xccf+0x15ff,ch=-0x31d+0x1504+-0x11e3,bt=-0x1fd1+0x211e+-0x14d,pa=-0x233e+0x8ee+-0x1*-0x1a51,Fo=0xaa3*-0x1+-0x1*0x205f+0x2b04,Ax=-0x5*0x49d+0x24e3+-0x65*0x23,Te=-0x7f2*-0x1+-0xfec+0x7fa,vt=-0x45d*-0x1+-0x2147+0x1ceb,Kh=-0x2087+0x1aaf*-0x1+-0x8*-0x767,Zh=0x2099*0x1+0x1*0x1a0b+-0x3aa1,Qh=-0x1fb0+-0x1237+-0x1*-0x31eb,ma=-0xcc6+-0x11c4+0x1e8f,Cx=-0x2*0x683+0x1593+0xc7*-0xb,hh=-0x476+-0x16b9*-0x1+-0x1242,dh=-0x1bae+-0x2d*-0x3+-0x1b29*-0x1,Wf=-0x25*0xa5+0x11b5+0x627,Px=0x4*0x6ee+-0x115d+-0x1*0xa57,Mx=-0x2cd+0x19fe+-0x1*0x172c,Dx=0x8*-0x3c3+0x1b5e+0x2c0,Wi=0x1d44+0x773*0x5+0x14*-0x353,$f=-0x2e*-0xb7+0x1ddd+-0x3ebf,Yi=0x77a+-0xd*-0xe7+-0x1334,wr=0x268b+-0xa5a+-0x1c2f,ty=0x1f30+0x1304+-0x3234,sy=0x1*0xc8c+0x3c*-0x4f+-0x8b*-0xb,ap=0x1d40+0x469*0x1+-0x21a7*0x1,Jh=-0x1f91*-0x1+0x189a+-0x3828,np=-0x11e3+0x18ac+-0x6c5,ed=0x1*-0x6df+-0x40*0x40+-0x16e4*-0x1,Cr=-0x2*0xa43+-0x90a+0x21d*0xe,Ne=-0xfe6*-0x1+-0xd2*-0x6+-0x14cb,td=-0x17d*0x13+-0x15e5+0x3234,op=0x1596+0x16ba+0x1*-0x2c47,vl=-0x1341+0x109c+0x2af,ui=-0x41b+-0x3a8+0x7ce,nt=0x168e+0xc2a*0x2+-0x2ed6,Ye=0x2*0x1193+0xc4a*0x3+-0x47f7,Xt=-0x1*-0x19d5+0x1b71*-0x1+0x1aa,Ji=-0xddf+-0x17d*0x1+0xf6b*0x1,$i=0x4*0x5f5+-0x1237+0x7*-0xcb,sd=0x311*0x4+0x45e+-0x1091,In=0x9*0x38f+0x1*-0x1a41+-0x5b4,lp=0x1d82+-0xaeb+-0x942*0x2,_s=0x29*0x53+-0x25ea+0x1*0x18b3,id=0x1*0x1096+-0xe85+-0x1fc,cp=-0x21dd*-0x1+0x2*0x630+0x55*-0x8b,hp=0x1e45+-0x1*0x1013+-0xe1b,xl=0x41*0x11+-0x1f*0xf1+-0x5a*-0x47,Tl=-0x6f7*0x1+0x68c+0x2*0x42,rd=-0x5e+-0x198e+0xd03*0x2,ad=-0x21d3+0xaa6+0x1748,iy=0x47d*0x1+-0x4d3+0x72*0x1,ry=-0x11af+-0x20b2+0x327e,ay=0xa*0x167+0x1abf+-0x28a7,ny=0x13*0x143+-0xc60+-0xb7a*0x1,dp=0x10a5+-0xd74+-0x1*0x311,oy=-0x7e8*0x4+-0x118d+0x314e,fp=0x1dc0+0x14ae+-0xc93*0x4,up=-0x161f+-0x1241+0x2883*0x1,pp=0x77+-0x1*0x1f7b+0x1f28,Ki=-0xddd+0x4e*0x69+-0x11fc,mp=-0xd*-0x2b3+-0x181b*0x1+-0xad6,ly=0x1*-0x1586+-0x1b5f+0x2*0x1886,_p=-0x1*0x2572+-0x2aa*-0x1+0x22f0,gp=-0xbde+0xd34+0x2b*-0x7,Sp=-0x219a+-0x1cb0+-0xe*-0x476,yp=-0x9f5*-0x1+-0x1097+-0x1*-0x6cd,vp=-0x1*-0x1079+-0x6*-0x1cc+-0x1b15,cy=0x255f+0x1*-0x2279+-0x1*0x2b9,xp=0x229+-0x1*0x155d+0x3*0x676,nd=-0x1a0a+-0x1*0xdb2+0x1*0x27eb,Tp=0x666+-0x8f1*-0x2+-0x101*0x18,Ue=0xe8c+-0x59c+0x8bf*-0x1,od=0x203b+-0x4cf*0x1+-0x1b3a,wp=-0x13*0xb3+-0x3*-0x94b+-0xe65,Ep=0x137c+-0x3*-0x81b+-0x2b99,bp=0x1351*-0x2+0x2*-0x113+0x28fd,Xf=0xaa9+0x8*-0x152+-0x1d*-0x1,qf=-0x16*-0x7c+0xfd9+0x2a1*-0xa,jf=0xcc0+0x4af+-0x1137,Yf=-0xc1b*-0x3+0x6e*0x58+-0x4*0x1279,Kf=0x1*-0x1323+-0x101f+0x2380,Zf=-0xa9d*-0x1+0x1*0x1676+-0x2c*0xbf,hy=0x29*0x1b+-0x1*0x2627+0x2214,dy=-0x116+-0x2cb+0x422,fy=-0x1*-0x6e3+-0x205b*0x1+0x19ba,uy=0xd1*0xf+-0x45*0x7d+-0x15b5*-0x1,Qf=0x2*0x134d+0xfd3+-0x5*0xad5,vn=0x2317+-0x1843+-0x35*0x33,Nt=new Map([[ty,{'name':'A8','size':0x1,'ldr':!(0x232d+-0xc99*0x3+0x1*0x29e)}],[Ep,{'name':'R8','size':0x1,'ldr':!(-0x26c3+0x13b9+-0x1*-0x130a)}],[sy,{'name':'L8','size':0x1,'ldr':!(0x1d*-0x13e+0x1d*-0x33+-0xdef*-0x3)}],[ap,{'name':'LA8','size':0x2,'ldr':!(-0x16f*-0x8+-0xa05+-0x173)}],[bp,{'name':'RG8','size':0x2,'ldr':!(-0x12*0x207+-0xcdc+-0x2*-0x18ad)}],[Jh,{'name':'RGB565','size':0x2,'ldr':!(-0xb29+0x203*-0xd+-0x2550*-0x1)}],[np,{'name':'RGBA5551','size':0x2,'ldr':!(0x1*0x108b+-0x2*0xbcb+0x3*0x259)}],[ed,{'name':'RGBA4','size':0x2,'ldr':!(0x1ee8*0x1+0x1*-0x14b7+0xa31*-0x1)}],[Cr,{'name':'RGB8','size':0x4,'ldr':!(-0x1*-0x1b3f+-0x6e1+-0x145e)}],[Ne,{'name':'RGBA8','size':0x4,'ldr':!(-0x1d*-0x8b+-0xb+-0xa*0x192),'srgbFormat':_s}],[od,{'name':'R16F','size':0x2}],[wp,{'name':'RG16F','size':0x4}],[ui,{'name':'RGB16F','size':0x8}],[nt,{'name':'RGBA16F','size':0x8}],[Ye,{'name':'RGB32F','size':0x10}],[Xt,{'name':'RGBA32F','size':0x10}],[Ji,{'name':'R32F','size':0x4}],[$i,{'name':'DEPTH','size':0x4}],[vn,{'name':'DEPTH16','size':0x2}],[sd,{'name':'DEPTHSTENC'+'IL','size':0x4}],[In,{'name':'111110F','size':0x4}],[lp,{'name':'SRGB8','size':0x4,'ldr':!(0x212c+-0x19c7*-0x1+-0x3af3),'srgb':!(-0x1*-0x251f+-0x54c+-0x1fd3*0x1)}],[_s,{'name':'SRGBA8','size':0x4,'ldr':!(0x6f0+-0x10be+0x9ce),'srgb':!(0x1490+-0x298+-0x47e*0x4)}],[ny,{'name':'BGRA8','size':0x4,'ldr':!(-0x2289+0xf12+0x1377)}],[hy,{'name':'SBGRA8','size':0x4,'ldr':!(-0x150e+-0x84f+0x1d5d),'srgb':!(-0x121+0x3c8+-0x2a7)}],[td,{'name':'DXT1','blockSize':0x8,'ldr':!(0x1984+-0x1*0xec9+0xabb*-0x1),'srgbFormat':Xf}],[op,{'name':'DXT3','blockSize':0x10,'ldr':!(0xdea*-0x1+0x20ef*0x1+-0x1305),'srgbFormat':qf}],[vl,{'name':'DXT5','blockSize':0x10,'ldr':!(-0x4ed+-0xd*0x1f+0x680),'srgbFormat':jf}],[id,{'name':'ETC1','blockSize':0x8,'ldr':!(-0x40f+-0x1f35*-0x1+-0x1b26)}],[cp,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(0xef7+-0x23a9+0x6*0x373),'srgbFormat':Yf}],[hp,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(-0x1*0x201d+-0x169*-0x2+-0x1d4b*-0x1),'srgbFormat':Kf}],[xl,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(-0xa25+0xb*0x219+-0x14b*0xa),'blockSize':0x8}],[Tl,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(0x243*-0x1+-0x5c6*-0x5+-0x1a9b),'blockSize':0x8}],[rd,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(0x11*-0x209+-0xceb*0x2+-0x51*-0xbf),'blockSize':0x8}],[ad,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(-0x8ef+0x11cc+-0x1*0x8dd),'blockSize':0x8}],[iy,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(-0xd3+-0x1*0x1e3d+0x1*0x1f10),'srgbFormat':Zf}],[ry,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(0x182e+-0xb76+0x4*-0x32e)}],[ay,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(-0x1*0xa03+-0x15ab+0x1fae)}],[dy,{'name':'BC6H_RGBF','blockSize':0x10}],[fy,{'name':'BC6H_RGBUF','blockSize':0x10}],[uy,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(-0x1*-0x1799+-0x5*-0x6d+-0x19ba),'srgbFormat':Qf}],[Xf,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(-0xbbc+0x1dc4+0x482*-0x4),'srgb':!(0x2c*-0x14+-0x2cd+0x63d)}],[qf,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(0x1*0x5db+-0x6d2+0xf7),'srgb':!(0x876+-0x3*0x886+0x111c)}],[jf,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(0x1*0x787+-0x831*-0x3+-0x201a),'srgb':!(0xf71*-0x1+0x1*0xa63+0x50e)}],[Yf,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(-0x75e+-0x1f43+0x26a1),'srgb':!(0x2*-0x465+-0x1*-0x1832+-0xf68)}],[Kf,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(0x214a*0x1+0x3*0x6d+0x1*-0x2291),'srgb':!(0x183b*0x1+-0x5*-0x6af+0x13a*-0x2f)}],[Zf,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(-0x1*-0x15b9+-0x270+0x1349*-0x1),'srgb':!(-0x2ba*0x2+-0x1021*-0x2+0x2*-0xd67)}],[Qf,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(-0x9ba+-0x20*0xde+0xf6*0x27),'srgb':!(-0x1808+-0x7c6+0x1fce)}],[dp,{'name':'R8I','size':0x1,'isInt':!(-0x1b74+-0x1*-0x151+0x1a23)}],[oy,{'name':'R8U','size':0x1,'isInt':!(0x485*0x2+0x1c95+-0x259f)}],[fp,{'name':'R16I','size':0x2,'isInt':!(-0x234a+-0x2*0xd8b+0x3e60)}],[up,{'name':'R16U','size':0x2,'isInt':!(-0x247f*0x1+-0x2*0x134f+0x4b1d)}],[pp,{'name':'R32I','size':0x4,'isInt':!(-0x172a+-0x40c*-0x1+0x131e*0x1)}],[Ki,{'name':'R32U','size':0x4,'isInt':!(0xc2*0x7+0x28e*-0x7+0xc94)}],[mp,{'name':'RG8I','size':0x2,'isInt':!(-0x1*0x83d+-0xa*-0x3d7+0x7*-0x44f)}],[ly,{'name':'RG8U','size':0x2,'isInt':!(0x1600+0x1fd*0x7+0x3*-0xbf9)}],[_p,{'name':'RG16I','size':0x4,'isInt':!(0x1ced+0x1558+0x1*-0x3245)}],[gp,{'name':'RG16U','size':0x4,'isInt':!(-0x2512+-0x1*-0x161+0x23b1)}],[Sp,{'name':'RG32I','size':0x8,'isInt':!(-0x5f4+0x44f*0x9+-0xaf1*0x3)}],[yp,{'name':'RG32U','size':0x8,'isInt':!(0x1256+-0x3*-0xef+-0x1523)}],[vp,{'name':'RGBA8I','size':0x4,'isInt':!(-0x14ba+-0xed*-0x17+-0x91)}],[cy,{'name':'RGBA8U','size':0x4,'isInt':!(0x25a1+-0x4a9*-0x1+-0x1*0x2a4a)}],[xp,{'name':'RGBA16I','size':0x8,'isInt':!(-0x175+0x29*-0x9e+0x1ac3*0x1)}],[nd,{'name':'RGBA16U','size':0x8,'isInt':!(-0x499*-0x5+-0x5*0xf+-0x16b2)}],[Tp,{'name':'RGBA32I','size':0x10,'isInt':!(-0x29e*0x1+0x1*-0x174e+0x19ec)}],[Ue,{'name':'RGBA32U','size':0x10,'isInt':!(-0x65*-0x57+0xc9*0x2b+-0x4dd*0xe)}]]),Ix=_0x4bba1f=>{var _0x48391a;return((_0x48391a=Nt['get'](_0x4bba1f))==null?void(0xf*-0x14b+0x296*0x4+0x90d):_0x48391a['blockSize'])!==void(-0xcc+0x2133+-0x2067);},fh=_0x5b51f5=>{var _0x246f9a;return((_0x246f9a=Nt['get'](_0x5b51f5))==null?void(0x135+-0x15bc+-0x1487*-0x1):_0x246f9a['srgb'])===!(0xb*-0x1b8+-0x1c3b+0x449*0xb);},dn=_0x38a925=>{var _0x22062c;return((_0x22062c=Nt['get'](_0x38a925))==null?void(-0x2*0xe4a+-0x1*-0xf63+0xd31):_0x22062c['isInt'])===!(-0x8e9*0x3+-0x1*-0x587+0x1534);},ld=_0x4d6fda=>{var _0x3d2a21;return((_0x3d2a21=Nt['get'](_0x4d6fda))==null?void(-0x2f0+-0x1d64+-0x1*-0x2054):_0x3d2a21['srgbFormat'])||_0x4d6fda;},Lx=_0x13fd1e=>{for(const [_0x5ecb1c,_0x38e076]of Nt)if(_0x38e076['srgbFormat']===_0x13fd1e)return _0x5ecb1c;return _0x13fd1e;},py=_0x199ef0=>{const _0x411710=Nt['get'](_0x199ef0);return!!(_0x411710!=null&&_0x411710['ldr']&&!(_0x411710!=null&&_0x411710['srgb']));},my=_0x10fb3c=>{switch(_0x10fb3c){case Ji:case Ye:case Xt:return Float32Array;case pp:case Sp:case Tp:return Int32Array;case Ki:case yp:case Ue:return Uint32Array;case fp:case _p:case xp:return Int16Array;case bp:case up:case gp:case nd:case Jh:case np:case ed:case od:case wp:case ui:case nt:return Uint16Array;case dp:case mp:case vp:return Int8Array;default:return Uint8Array;}},cd=0x1be2*-0x1+-0x2109+0x3ceb,hd=-0x509*0x3+0x3*-0xa97+0x2ee1,_y=0x1*0x2405+-0x19e+-0x2265,gy=-0x505+0xe64+-0x2*0x4ae,js=0x50+0x503*-0x4+0x13c0,Er=-0x219b+-0x2*-0x1187+-0x7a*0x3,oa=0x7f7+-0xf0*-0x17+0x5b*-0x53,Me='POSITION',gs='NORMAL',yi='TANGENT',gi='BLENDWEIGH'+'T',us='BLENDINDIC'+'ES',Wt='COLOR',zm='TEXCOORD',is='TEXCOORD0',ba='TEXCOORD1',wl='TEXCOORD2',El='TEXCOORD3',bl='TEXCOORD4',Al='TEXCOORD5',Cl='TEXCOORD6',Pl='TEXCOORD7',Jf='ATTR0',uh='ATTR1',Ap='ATTR2',Cp='ATTR3',Pp='ATTR4',Rx='ATTR5',Ox='ATTR6',Fx='ATTR7',Ko='ATTR8',Zo='ATTR9',Nx='ATTR10',Mp='ATTR11',Dp='ATTR12',ph='ATTR13',Ip='ATTR14',Ln='ATTR15',Sy=0x1d19+-0x100b+0x1*-0xd0d,xn=-0x1*0xe6b+0x2*-0x1099+0x2f9d,kx=0xcf1+-0xb*0x3b+-0x16*0x79,Ux=0xc53+-0x11fa+-0x1*-0x5aa,Bx=0x24de+-0x23d*0xd+-0x7c0,$l=-0x5af+-0x223*-0x1+0x38c,yy=0xb4e+-0x2*0x1027+-0x13*-0x11b,Od=0x1*-0x15c5+-0x17b*0xb+-0x1d0*-0x15,Ds='default',Zi='rgbm',mh='rgbe',Qo='rgbp',Jo='swizzleGGG'+'R',eu=0x38b*0x2+-0x1bfa+0x14e5,Pr=-0x8d*0x1+0x6fc+-0x66d,vy=-0x1257+0xa9f+-0x1*-0x7bb,xy='2d',zx=0x1997+-0x2674+0xcdd,Vx='none',tu='cube',Vm='equirect',Gx='octahedral',Fe='glsl',it='wgsl',dd=-0x5d*0x2e+-0x4*-0x8e+0x73f*0x2,la=-0xa39+0x1141+-0x707*0x1,fd=0xc*0x31c+0x1e6f+-0x43bd,Ml=-0x1b1b+-0x1ea8+0x33*0x122,Ty=-0x1e90+-0x1f70+0x4*0xf81,el=0x8c0+0x15*-0x1ac+0x1a61,Ve=-0x2663+0x5*-0x4c1+0x3e2e,Tn=0x129e+0x2*0xdc9+-0x4*0xb8c,_a=-0x403+0x1d91+0x198d*-0x1,Xs=-0x1bcf*-0x1+-0x17d*-0xc+-0x2da9,ga=-0x18*-0xa2+-0x10f*-0xe+-0x1*0x1dff,ds=-0x1*-0x836+-0x245c+0x1c2a,Rn=0x1*0x1d37+0x143b*0x1+0x316d*-0x1,ca=0x1855+0xffd+-0xa13*0x4,ha=0xadf*0x1+0x1c85+-0x275d,da=-0xce*-0xb+0x113+-0x9e5*0x1,tl=0x1*-0xad5+-0x74d+-0x122b*-0x1,sl=-0x2*0xd56+0x1*-0x34+-0x109*-0x1a,il=-0x108e+0x3*0x2bb+0x868,_h=0x859*0x3+0x1f4d*0x1+-0x384c*0x1,On=0x11ff+-0x418+0x24f*-0x6,li=0x1850+0x641+-0x1e83,Hx=0x1492+-0x1744+-0x1*-0x2c1,Wx=-0x4b*0x1+-0x4f*-0x5a+-0x1b6b*0x1,ud=0x1*0x25a2+-0x25c3*0x1+0x32,$x=0x1*0xc63+-0x10f1*0x1+0x4a0,Xx=-0x1*0x2627+-0x36+-0x1e*-0x148,qx=-0x1574+-0xfaf+0x1*0x2537,pd=-0x3*0x17f+0x1a5*-0x7+0x1015*0x1,md=0x1f8e+0x1f24+-0x1*0x3e9c,Lp=0x9f1*-0x1+-0xe*-0x80+0x308,wy=-0x5a3+0x23c6+-0x1e0b,jx=-0x15e5+-0x1c6e+-0x326c*-0x1,Fn=-0x1*-0x935+-0x15cc+0xcb1,Nn=0x838*-0x3+0xe38+0xa8b,kn=0x1*0x3df+-0x26a2+0x22df,Un=0xf5b*0x1+0x1*0xd64+-0x1ca2,Bn=-0x147c+0x1*0x702+0x91*0x18,_d=-0x15*-0x191+0x2f6*-0xc+0x2c2*0x1,gd=-0x2380+-0x89e+0x2c3e,zn=-0x7fe+-0x35*-0x4d+-0x7d2,Sd=0x1*-0x1792+-0x220+0x19d4,yd=0x2265+0xd3d*-0x1+-0x1505*0x1,Vn=-0x11c3+-0x2*-0xc0+0x1067,vd=0x19*-0x1+0x1d*0x8b+-0xbd*0x15,xd=0xd04+0x1dd2+-0x2ab0,gh=-0x3*0xa07+0x49*0x73+-0x1*0x28f,Rp=-0x214f+-0x1*-0x8f0+0x1887,Op=-0xe*-0x13+0x69*-0x25+0x1*0xe4c,Yx=0x1bec+-0x1*-0x1517+-0x30d9,Kx=-0x427+0x29*0x1b+0x1*-0x1,Zx=-0x199a+-0x4*0x1d+0x1a3a,Qx=-0x1c81+0x1b42+0x16c,Jx=0x2421+-0x1b8f+-0x864,eT=-0x5d1+-0x6d1+0x11*0xc1,tT=0x212c+0x26f1+-0x47ed,sT=0x48a*-0x1+-0x5*-0x5e3+-0xcc*0x1f,Ey=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],iT=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],rT=new Map();iT['forEach']((_0xa64987,_0x2a2a21)=>{_0xa64987['forEach'](_0x1d8d80=>rT['set'](_0x1d8d80,_0x2a2a21));});const aT='webgl2',Fp=-0xc3d+0xb2*-0x5+0x8*0x1f7,by=0x1256*-0x2+0x1ffa+0x4b4,nT=-0x1*0x13db+0x1*0x1c31+-0x852,oT='ldr',Ay=-0xd*0x1a3+0xd*-0x1db+-0xc5*-0x3b,Cy=0x1*-0x1f3f+0x161*-0x19+0x41ba,Py=-0x1e93*0x1+-0x1b02+0x3999*0x1,My=0x1017+-0x3b*0x4d+0x1b0,Dy=0x11*-0x2f+0x12e9+0xb*-0x16e,Iy=-0xf71+-0x10d1+0x2062,Ly=-0x177f+-0x99*-0x34+-0x755,Ry=-0x4*-0x598+0x909+-0x1ee9,lT=0x2*0x1343+-0x1*-0x1c96+-0x421d,rl=-0x2*-0xee+0x42a+0x606*-0x1,Oy=0x12d6+-0x27*0xa7+0x69c,su=0x2532+-0xc1b+-0x1915,Np='default',wn=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],No=[-0x2*-0x2e6+0xb55*0x2+-0x1c75,0x503*0x1+0x1896+0x4*-0x766,-0xb*-0xaa+-0x1ce3+0x1597,0x17c6+0xcd9+-0x249d*0x1,-0x1*-0x5db+0x20*0xd3+-0x2037*0x1,-0x1300+-0x2377+0x367b,0x2*-0x1206+-0x94*0x1a+-0x1e*-0x1b4,-0x299*0xc+-0x52*0x1+0x1c*0x120],cT=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Sh=[Uint8Array,Uint16Array,Uint32Array],hT=[0x1*-0x21e6+-0x774+0x295b,0x745*0x1+-0x464*-0x8+0x1*-0x2a63,0x2*0xd5b+-0xbed*-0x1+-0x269f],Fy=new Map([['float','f32'],['vec2','vec2f'],['vec3','vec3f'],['vec4','vec4f'],['int','i32'],['ivec2','vec2i'],['ivec3','vec3i'],['ivec4','vec4i'],['uint','u32'],['uvec2','vec2u'],['uvec3','vec3u'],['uvec4','vec4u']]),Le={};Le[Me]=-0xeba+-0x1811*-0x1+-0x3*0x31d,Le[gs]=0x5*0x32b+-0x19*-0x13f+0x20b*-0x17,Le[gi]=0x3*0x62e+-0x24c9+0x1241,Le[us]=0x259a+0x1fff*-0x1+-0x2cc*0x2,Le[Wt]=0x247c+-0x50b*-0x4+-0x1*0x38a4,Le[is]=-0x4*-0x2f2+-0x193*-0x1+0x1*-0xd56,Le[ba]=-0x126e+-0x154*-0x3+0xe78,Le[wl]=0x118b*0x1+-0x1a*-0x2a+-0x15c8,Le[El]=0x23f0+-0x185f+-0xb89,Le[bl]=0x3*0x2dc+0x7*-0x347+0xe66,Le[Al]=-0x40f*-0x2+-0x270f+-0x7*-0x46d,Le[Cl]=0x10eb+-0xa1+0x1*-0x103f,Le[Pl]=0x26e*-0xb+0x1456+-0x19c*-0x4,Le[yi]=-0x23ee+-0x4*0x202+0x2c03,Le[Jf]=-0x1bbd+-0x1516*-0x1+0x6a7,Le[uh]=0x1034+-0x3*0xc44+-0x1499*-0x1,Le[Ap]=-0x105d*0x1+-0x7*0x2a4+0x22db,Le[Cp]=0x1*-0xe1d+0x35*-0x7d+0x2801,Le[Pp]=0x4f*-0x2+0x20fe+-0x205c,Le[Rx]=0x1*0x4bf+-0x2094+0x1bda,Le[Ox]=0x1*0x2063+0x5*0x266+-0x2c5b,Le[Fx]=0x2419+0x54f*-0x6+-0x2d*0x18,Le[Ko]=0x7ca*0x1+-0x1a6a+0x6*0x31c,Le[Zo]=-0x8df*0x1+0x13*0xe3+-0x7f1,Le[Nx]=-0x1*-0xfc9+0xdfd*0x1+0xede*-0x2,Le[Mp]=-0x3e5+0x1459+0x1*-0x1069,Le[Dp]=0x1314+-0xa85+0x1*-0x883,Le[ph]=-0x1452*0x1+-0x273+0x16d2,Le[Ip]=-0x199*0x5+0x2b*-0xa+0x9b9,Le[Ln]=0x2633+0x3*-0x62a+-0x1*0x13a6;const mr=class mr{static['clearGpuMa'+'rkers'](){mr['markers']['length']=-0xf1e+-0x20ae+0x2fcc;}static['pushGpuMar'+'ker'](_0x1dd488,_0x324519){mr['markers']['push'](_0x324519),_0x1dd488['pushMarker'](_0x324519);}static['popGpuMark'+'er'](_0x48a231){mr['markers']['length']&&mr['markers']['pop'](),_0x48a231['popMarker']();}static['toString'](){return mr['markers']['join']('\x20|\x20');}};h(mr,'markers',[]);let Q=mr,dT=-0x56b*-0x4+0x1c7*0x1+-0x1773;class Td{constructor(_0x16c2f5,_0x145405){h(this,'slot',-(-0x107a+-0x6f7*-0x1+0x984)),h(this,'scopeId',null),(this['name']=_0x16c2f5,this['visibility']=_0x145405);}}class kp extends Td{}class fT extends Td{constructor(_0xd869aa,_0x3c496c,_0x476e91=!(0xa0a+-0x1b*-0x5f+0xa07*-0x2)){super(_0xd869aa,_0x3c496c),h(this,'format',''),(this['readOnly']=_0x476e91,w['assert'](_0x476e91||!(_0x3c496c&Fp),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class Gm extends Td{constructor(_0x2546d2,_0x10e096,_0x49c1e1=xy,_0x4574c8=zx,_0x476d8a=!(-0x401+0x1*-0x32d+0x397*0x2),_0x3b4cc6=null){super(_0x2546d2,_0x10e096),this['textureDim'+'ension']=_0x49c1e1,this['sampleType']=_0x4574c8,this['hasSampler']=_0x476d8a,this['samplerNam'+'e']=_0x3b4cc6??_0x2546d2+'_sampler';}}class uT extends Td{constructor(_0x57047b,_0x4fb6fe=Ne,_0x247b6c=xy,_0x59d7d3=!(-0x2f*0xb3+-0x116c+0x7*0x72f),_0x41ed2b=!(0x428+0xfbb+-0x13e2)){super(_0x57047b,nT),this['format']=_0x4fb6fe,this['textureDim'+'ension']=_0x247b6c,this['write']=_0x59d7d3,this['read']=_0x41ed2b;}}class Ny{constructor(_0x34f6d9,_0x428384){h(this,'uniformBuf'+'ferFormats',[]),h(this,'textureFor'+'mats',[]),h(this,'storageTex'+'tureFormat'+'s',[]),h(this,'storageBuf'+'ferFormats',[]),(this['id']=dT++,Ea['setName'](this,'BindGroupF'+'ormat_'+this['id']),w['assert'](_0x428384));let _0x5887b1=-0x201b+-0x1*0x169b+0x36b6;_0x428384['forEach'](_0x20d2f8=>{_0x20d2f8['slot']=_0x5887b1++,_0x20d2f8 instanceof Gm&&_0x20d2f8['hasSampler']&&_0x5887b1++,_0x20d2f8 instanceof kp?this['uniformBuf'+'ferFormats']['push'](_0x20d2f8):_0x20d2f8 instanceof Gm?this['textureFor'+'mats']['push'](_0x20d2f8):_0x20d2f8 instanceof uT?this['storageTex'+'tureFormat'+'s']['push'](_0x20d2f8):_0x20d2f8 instanceof fT?this['storageBuf'+'ferFormats']['push'](_0x20d2f8):w['assert']('Invalid\x20bi'+'nd\x20format',_0x20d2f8);}),this['device']=_0x34f6d9;const _0x566d22=_0x34f6d9['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x294a76,_0x345c47)=>this['bufferForm'+'atsMap']['set'](_0x294a76['name'],_0x345c47)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x2718ed,_0x4bef1c)=>{this['textureFor'+'matsMap']['set'](_0x2718ed['name'],_0x4bef1c),_0x2718ed['scopeId']=_0x566d22['resolve'](_0x2718ed['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x399086,_0x1813b5)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x399086['name'],_0x1813b5),_0x399086['scopeId']=_0x566d22['resolve'](_0x399086['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x41a7da,_0x4b5c40)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x41a7da['name'],_0x4b5c40),_0x41a7da['scopeId']=_0x566d22['resolve'](_0x41a7da['name']);}),this['impl']=_0x34f6d9['createBind'+'GroupForma'+'tImpl'](this),w['trace'](K0,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+Q['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x5b8637){const _0x245ede=this['textureFor'+'matsMap']['get'](_0x5b8637);return _0x245ede!==void(-0x9bd+0x4b2*0x6+0x625*-0x3)?this['textureFor'+'mats'][_0x245ede]:null;}['getStorage'+'Texture'](_0x104cae){const _0x343f98=this['storageTex'+'tureFormat'+'sMap']['get'](_0x104cae);return _0x343f98!==void(0x11fe+-0x1843+-0x5*-0x141)?this['storageTex'+'tureFormat'+'s'][_0x343f98]:null;}['loseContex'+'t'](){}}class Kt{constructor(){h(this,'_cache',new Map());}['get'](_0x10f647,_0x536b50){return this['_cache']['has'](_0x10f647)||(this['_cache']['set'](_0x10f647,_0x536b50()),_0x10f647['on']('destroy',()=>{this['remove'](_0x10f647);}),_0x10f647['on']('devicelost',()=>{var _0x555475,_0x490fec;(_0x490fec=(_0x555475=this['_cache']['get'](_0x10f647))==null?void(-0x1398+-0x39f+-0x3*-0x7bd):_0x555475['loseContex'+'t'])==null||_0x490fec['call'](_0x555475,_0x10f647);})),this['_cache']['get'](_0x10f647);}['remove'](_0xc3246){var _0x5aee60,_0xf89371;(_0xf89371=(_0x5aee60=this['_cache']['get'](_0xc3246))==null?void(-0x2a*0x32+0xa*-0x208+0x1c84):_0x5aee60['destroy'])==null||_0xf89371['call'](_0x5aee60,_0xc3246),this['_cache']['delete'](_0xc3246);}}class Xi{static['calcLevelD'+'imension'](_0x2c5831,_0x17b48a){return Math['max'](_0x2c5831>>_0x17b48a,0x1fc3+-0x1*-0xa81+-0x15d*0x1f);}static['calcMipLev'+'elsCount'](_0x182eb9,_0x527899,_0x79c942=-0x1*0xbc1+-0x2*0x35e+0x127e){return-0x20ec+0x16e*0x19+-0x2d1+Math['floor'](Math['log2'](Math['max'](_0x182eb9,_0x527899,_0x79c942)));}static['calcLevelG'+'puSize'](_0x2d6f69,_0x1736ae,_0x3ca3fc,_0x43f294){var _0x59ce1d;const _0x4aa44b=Nt['get'](_0x43f294);w['assert'](_0x4aa44b!==void(-0x1*-0x19be+-0x2*-0x5a4+-0x2a5*0xe),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x43f294);const _0x31e4b0=((_0x59ce1d=Nt['get'](_0x43f294))==null?void(-0xa58+0xd5*-0x2+-0x601*-0x2):_0x59ce1d['size'])??0x6b*-0x47+-0xda+0x61b*0x5;if(_0x31e4b0>0x31*0xb+-0xf4a+0xd2f)return _0x2d6f69*_0x1736ae*_0x3ca3fc*_0x31e4b0;const _0x2669b4=_0x4aa44b['blockSize']??-0x227*-0x4+-0x7e4+-0x5c*0x2;let _0x242763=Math['floor']((_0x2d6f69+(-0xec3+0x26f+-0x15f*-0x9))/(-0x1b9*-0x7+0x305*-0xc+-0x1*-0x1831));const _0xd86262=Math['floor']((_0x1736ae+(-0x133*-0xa+0x1*-0x1b59+-0x1*-0xf5e))/(-0xa0b+0x1ca4+-0x1295)),_0x3a7721=Math['floor']((_0x3ca3fc+(0x17b9+0x20c2+-0x3878))/(-0xd7c+0x654+0x72c));return(_0x43f294===xl||_0x43f294===Tl)&&(_0x242763=Math['max'](Math['floor'](_0x242763/(-0x844+0xa9*0x8+0x2fe*0x1)),-0x26*-0x106+0x478+0x1*-0x2b5b)),_0x242763*_0xd86262*_0x3a7721*_0x2669b4;}static['calcGpuSiz'+'e'](_0x3a47c7,_0x58d888,_0x388667,_0x523730,_0x17dc82,_0x548aa3){let _0x156aff=0x2226+-0x1*0xe62+-0x2c*0x73;for(;_0x156aff+=Xi['calcLevelG'+'puSize'](_0x3a47c7,_0x58d888,_0x388667,_0x523730),!(!_0x17dc82||_0x3a47c7===-0xb6b+-0x1351*-0x1+-0x7e5&&_0x58d888===-0x7*0x4a8+-0x1ea0+0x53*0xc3&&_0x388667===-0x2d6*-0x9+0x1*0x1697+-0x301c);)_0x3a47c7=Math['max'](_0x3a47c7>>0x4*0x95e+-0xeaa*-0x2+-0x1*0x42cb,-0x1*0xbaf+0x7b7+0x71*0x9),_0x58d888=Math['max'](_0x58d888>>0xaf*-0x5+0xd6+0x296*0x1,-0x21d*0xb+0x173a*0x1+0x6),_0x388667=Math['max'](_0x388667>>-0x47*0x53+-0x2bd*-0xd+0xc93*-0x1,-0x22e2+-0x3d0*0x4+-0x5*-0xa07);return _0x156aff*(_0x548aa3?-0xffa+-0x11ee+0x21ee*0x1:0x16cf+-0x1ec7+-0x1*-0x7f9);}}let pT=0xd57*0x1+-0x1073*0x1+0x31c*0x1;class _e{constructor(_0x27d921,_0x4f0cc8={}){h(this,'name'),h(this,'_gpuSize',-0x77*-0x3b+-0x11*0x16f+-0x30e),h(this,'id',pT++),h(this,'_invalid',!(0x179*-0xa+-0x3a*-0x3e+0x19*0x7)),h(this,'_lockedLev'+'el',-(0x34*-0x33+-0x150f+0x1f6c)),h(this,'_lockedMod'+'e',$l),h(this,'renderVers'+'ionDirty',0xbff+-0x23ba+0x17bb),h(this,'_storage',!(0xf83+-0x4cc+-0xab6)),h(this,'_numLevels',0x426*0x2+-0x193b*0x1+0xff*0x11),h(this,'_numLevels'+'Requested');var _0x300bee;this['device']=_0x27d921,w['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),w['assert'](!_0x4f0cc8['width']||Number['isInteger'](_0x4f0cc8['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x4f0cc8),w['assert'](!_0x4f0cc8['height']||Number['isInteger'](_0x4f0cc8['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x4f0cc8),w['assert'](!_0x4f0cc8['depth']||Number['isInteger'](_0x4f0cc8['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x4f0cc8),this['name']=_0x4f0cc8['name']??'',this['_width']=Math['floor'](_0x4f0cc8['width']??-0xae7*0x3+-0x1*0x5dd+0x2696),this['_height']=Math['floor'](_0x4f0cc8['height']??-0x1*0x18b3+-0x79*-0x11+0x10ae),this['_format']=_0x4f0cc8['format']??Ne,this['_compresse'+'d']=Ix(this['_format']),this['_integerFo'+'rmat']=dn(this['_format']),this['_integerFo'+'rmat']&&(_0x4f0cc8['minFilter']=Te,_0x4f0cc8['magFilter']=Te),this['_volume']=_0x4f0cc8['volume']??!(-0x2*0x1042+-0x1592+0x3617),this['_depth']=Math['floor'](_0x4f0cc8['depth']??-0x1f1d*-0x1+0x1*0xff+-0x201b),this['_arrayLeng'+'th']=Math['floor'](_0x4f0cc8['arrayLengt'+'h']??-0x1*-0xa46+-0x14*0x190+0x14fa),this['_storage']=_0x4f0cc8['storage']??!(0x2401+-0x1*0x1f8+-0x2208),this['_cubemap']=_0x4f0cc8['cubemap']??!(-0x2582*0x1+0x1*-0x65b+0x2bde),this['_flipY']=_0x4f0cc8['flipY']??!(-0x163d+-0x708+-0x4e1*-0x6),this['_premultip'+'lyAlpha']=_0x4f0cc8['premultipl'+'yAlpha']??!(-0x1*0x1c0d+-0x1d85+0x1331*0x3),this['_mipmaps']=_0x4f0cc8['mipmaps']??!(-0x1dee+0x19cd+0x421),this['_numLevels'+'Requested']=_0x4f0cc8['numLevels'],_0x4f0cc8['numLevels']!==void(0x5*0x496+-0x4d*0x4d+0x3b)&&(this['_numLevels']=_0x4f0cc8['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x4f0cc8['minFilter']??ma,this['_magFilter']=_0x4f0cc8['magFilter']??vt,this['_anisotrop'+'y']=_0x4f0cc8['anisotropy']??-0xf9*-0x5+-0x1*0x126d+0x17*0x97,this['_addressU']=_0x4f0cc8['addressU']??yt,this['_addressV']=_0x4f0cc8['addressV']??yt,this['_addressW']=_0x4f0cc8['addressW']??yt,this['_compareOn'+'Read']=_0x4f0cc8['compareOnR'+'ead']??!(0x251+0x2034+-0x2284),this['_compareFu'+'nc']=_0x4f0cc8['compareFun'+'c']??hh,this['_type']=_0x4f0cc8['type']??Ds,w['assert'](!_0x4f0cc8['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),w['assert'](!_0x4f0cc8['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=Vx,this['_cubemap']?this['projection']=tu:_0x4f0cc8['projection']&&_0x4f0cc8['projection']!==tu&&(this['projection']=_0x4f0cc8['projection']),this['profilerHi'+'nt']=_0x4f0cc8['profilerHi'+'nt']??0xbd8+-0x13eb+0x813*0x1,this['_levels']=_0x4f0cc8['levels'];const _0x1a23a9=!!_0x4f0cc8['levels'];this['_levels']||this['_clearLeve'+'ls'](),this['recreateIm'+'pl'](_0x1a23a9),_0x27d921['textures']['push'](this),w['trace'](Dm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x300bee=Nt['get'](this['format']))==null?void(-0x1ab0*0x1+-0xd0+-0x280*-0xb):_0x300bee['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){w['trace'](Dm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x170ec1=this['device'];if(_0x170ec1){const _0x498071=_0x170ec1['textures']['indexOf'](this);_0x498071!==-(-0x1e7d+0xa7*-0x2+0x197*0x14)&&_0x170ec1['textures']['splice'](_0x498071,-0x1669*0x1+0x2dd*0x5+0x819*0x1),_0x170ec1['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x170ec1),this['adjustVram'+'SizeTracki'+'ng'](_0x170ec1['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x30868a=!(0x1cca+-0x2*-0xf62+0x2a*-0x16b)){var _0x382800;const {device:_0x4dc97f}=this;(_0x382800=this['impl'])==null||_0x382800['destroy'](_0x4dc97f),this['impl']=null,this['impl']=_0x4dc97f['createText'+'ureImpl'](this),this['dirtyAll'](),_0x30868a&&this['upload']();}['_clearLeve'+'ls'](){this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null];}['resize'](_0x17b1e5,_0x3553ba,_0x174cff=0x4f5*0x4+-0x1*0x1cb5+0x8e2){const _0x237695=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x237695['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x237695),this['_clearLeve'+'ls'](),this['_width']=Math['floor'](_0x17b1e5),this['_height']=Math['floor'](_0x3553ba),this['_depth']=Math['floor'](_0x174cff),this['_updateNum'+'Level'](),this['impl']=_0x237695['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x2dabc8,_0x5338f1){w['trace'](X0,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x5338f1+('\x20vram.text'+'ure:\x20')+_0x2dabc8['tex']+'\x20=>\x20'+(_0x2dabc8['tex']+_0x5338f1)),_0x2dabc8['tex']+=_0x5338f1,this['profilerHi'+'nt']===eu?_0x2dabc8['texShadow']+=_0x5338f1:this['profilerHi'+'nt']===Pr?_0x2dabc8['texAsset']+=_0x5338f1:this['profilerHi'+'nt']===vy&&(_0x2dabc8['texLightma'+'p']+=_0x5338f1);}['propertyCh'+'anged'](_0x513131){this['impl']['propertyCh'+'anged'](_0x513131),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x46b7d3=this['mipmaps']?Xi['calcMipLev'+'elsCount'](this['width'],this['height']):-0x26c5+-0x2354+0x4a1a,_0x558cdc=this['_numLevels'+'Requested'];_0x558cdc!==void(0x3b0+0x958+-0xd08)&&_0x558cdc>_0x46b7d3&&w['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x46b7d3,this),this['_numLevels']=Math['min'](_0x558cdc??_0x46b7d3,_0x46b7d3),this['_mipmaps']=this['_numLevels']>0x85*0x33+0x670*-0x4+0xa*-0x13;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x2ae187){this['_minFilter']!==_0x2ae187&&(dn(this['_format'])?w['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x2ae187,this['propertyCh'+'anged'](Ay)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x597a1e){this['_magFilter']!==_0x597a1e&&(dn(this['_format'])?w['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x597a1e,this['propertyCh'+'anged'](Cy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x22412f){this['_addressU']!==_0x22412f&&(this['_addressU']=_0x22412f,this['propertyCh'+'anged'](Py));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x4e88a0){this['_addressV']!==_0x4e88a0&&(this['_addressV']=_0x4e88a0,this['propertyCh'+'anged'](My));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x16fda6){if(!this['_volume']){w['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x16fda6!==this['_addressW']&&(this['_addressW']=_0x16fda6,this['propertyCh'+'anged'](Dy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x1b74c5){this['_compareOn'+'Read']!==_0x1b74c5&&(this['_compareOn'+'Read']=_0x1b74c5,this['propertyCh'+'anged'](Iy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x4feb50){this['_compareFu'+'nc']!==_0x4feb50&&(this['_compareFu'+'nc']=_0x4feb50,this['propertyCh'+'anged'](Ly));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x10e772){this['_anisotrop'+'y']!==_0x10e772&&(this['_anisotrop'+'y']=_0x10e772,this['propertyCh'+'anged'](Ry));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x51edfa){this['_mipmaps']!==_0x51edfa&&(this['device']['isWebGPU']?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):dn(this['_format'])?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x51edfa,_0x51edfa&&(this['_needsMipm'+'apsUpload']=!(0x1581+0xd*0x163+-0x2788)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x329466=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===-0x22d0*-0x1+-0x8b*-0x2+-0x23e5);return Xi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x329466,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>-0x1ac*-0x1+0xe53*-0x1+0x29*0x4f;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['type'](_0x1d6562){this['_type']!==_0x1d6562&&(this['_type']=_0x1d6562,this['device']['_shadersDi'+'rty']=!(0x1*0x139+0x48b*0x5+-0x1*0x17f0));}get['type'](){return this['_type'];}set['srgb'](_0x1fc5ec){var _0x53b869,_0x2a71f9,_0x785c7e,_0x227dc8;const _0x129f7a=fh(this['format']);if(_0x1fc5ec!==_0x129f7a){if(_0x1fc5ec){const _0x5e4bfc=ld(this['format']);this['_format']!==_0x5e4bfc&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x53b869=Nt['get'](this['format']))==null?void(0x1579+-0x34e+-0x122b):_0x53b869['name'])+'\x20->\x20'+((_0x2a71f9=Nt['get'](_0x5e4bfc))==null?void(0x1*0x19f+0x1ce8+0xf*-0x209):_0x2a71f9['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x5e4bfc,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0xa*0x153+0x3d5*0x9+-0x2fbb));}else{const _0x3aa2ad=Lx(this['format']);this['_format']!==_0x3aa2ad&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x785c7e=Nt['get'](this['format']))==null?void(0x2208+-0x1*0x18de+-0x11*0x8a):_0x785c7e['name'])+'\x20->\x20'+((_0x227dc8=Nt['get'](_0x3aa2ad))==null?void(0x2010+-0x443+-0x1bcd):_0x227dc8['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x3aa2ad,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x23b7+-0x1828+0x3bdf));}}}get['srgb'](){return fh(this['format']);}set['flipY'](_0x317482){this['_flipY']!==_0x317482&&(this['_flipY']=_0x317482,this['_needsUplo'+'ad']=!(-0x160+-0xc12+0x6b9*0x2));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x25536a){this['_premultip'+'lyAlpha']!==_0x25536a&&(this['_premultip'+'lyAlpha']=_0x25536a,this['_needsUplo'+'ad']=!(-0xfcb+0x1*-0xe9f+-0x11*-0x1ca));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return Y['powerOfTwo'](this['_width'])&&Y['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case Zi:return'rgbm';case mh:return'rgbe';case Qo:return'rgbp';}return py(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(-0x16*-0x101+0x1920*-0x1+0x30a),!(0x1ac3+0x3be*0x7+-0x34f5),!(-0x1*0x22a9+-0x1f2c+0x41d5),!(-0x1*0x1495+0xbb1+0x4*0x239),!(0x1b85+-0x6e*-0x27+-0x8db*0x5),!(-0x1004+-0x176d*0x1+0x17*0x1b7)]]:[!(0x1ee4+-0x1313+0x25d*-0x5)],this['_needsUplo'+'ad']=!(-0x7*0x148+0xc2b+-0x333),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(-0x2118+0x15b7+0xb62),this['propertyCh'+'anged'](lT);}['lock'](_0x53ce22={}){_0x53ce22['level']??(_0x53ce22['level']=-0x5e1+0x10eb+-0xb0a),_0x53ce22['face']??(_0x53ce22['face']=0x1d35*0x1+0x624+-0x2359),_0x53ce22['mode']??(_0x53ce22['mode']=Od),w['assert'](this['_lockedMod'+'e']===$l,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),w['assert'](_0x53ce22['mode']===yy||_0x53ce22['mode']===Od,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x53ce22['mode'],this['_lockedLev'+'el']=_0x53ce22['level'];const _0x53f2fa=this['cubemap']?this['_levels'][_0x53ce22['face']]:this['_levels'];if((_0x53f2fa==null?void(0x2*0x98+0x10f1+-0x1221):_0x53f2fa[_0x53ce22['level']])===null){const _0x60615=Math['max'](0x217*0x9+0x1d41*-0x1+0xa73,this['_width']>>_0x53ce22['level']),_0x47e660=Math['max'](0x1292+-0x1eb9+-0x2*-0x614,this['_height']>>_0x53ce22['level']),_0x168e4c=Math['max'](0x156b+0x21c1+0x372b*-0x1,this['_depth']>>_0x53ce22['level']),_0x602f55=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x60615,_0x47e660,_0x168e4c,this['_format']));_0x53f2fa[_0x53ce22['level']]=new(my(this['_format']))(_0x602f55);}return _0x53f2fa==null?void(0x1bfd+-0x210c+0x50f):_0x53f2fa[_0x53ce22['level']];}['setSource'](_0x5b149a,_0x1ea577=-0xe8d*-0x2+0x1086+0x49*-0xa0){let _0x30af8d=!(-0xb*-0x175+0x678*0x1+-0x167e),_0x12dc18,_0x4bcbe9;if(this['_cubemap']){if(_0x5b149a[-0x11*-0x14a+0x4*0x757+-0x3346]){_0x12dc18=_0x5b149a[0x5*-0x2b+-0x1*0x2453+-0x47*-0x86]['width']||-0x1bf4+-0x4c*0x3e+0x2e5c,_0x4bcbe9=_0x5b149a[0x1087+0x24c3*-0x1+0x143c]['height']||0x1*-0x25d6+-0x15*0x47+-0x1*-0x2ba9;for(let _0x2353e1=0x1*0xb14+-0x1*-0x1762+-0x2276;_0x2353e1<0x2621*0x1+0x74b*-0x5+-0x1a4;_0x2353e1++){const _0x5eff67=_0x5b149a[_0x2353e1];if(!_0x5eff67||_0x5eff67['width']!==_0x12dc18||_0x5eff67['height']!==_0x4bcbe9||!this['device']['_isBrowser'+'Interface'](_0x5eff67)){_0x30af8d=!(0x2*0x796+0x1554+-0x2480);break;}}}else _0x30af8d=!(0x12e1*-0x2+0x1c44+0x97e);if(!_0x30af8d){for(let _0x1ddaaf=0x4d4+-0x26ca+0x21f6;_0x1ddaaf<0x871+0xb3b+-0x13a6;_0x1ddaaf++)this['_levels'][_0x1ea577][_0x1ddaaf]!==_0x5b149a[_0x1ddaaf]&&(this['_levelsUpd'+'ated'][_0x1ea577][_0x1ddaaf]=!(-0x1d1e*0x1+0x455+0x18c9));}}else this['device']['_isBrowser'+'Interface'](_0x5b149a)||(_0x30af8d=!(-0x22b2*-0x1+-0xe8c+-0x1426)),_0x30af8d||(_0x5b149a!==this['_levels'][_0x1ea577]&&(this['_levelsUpd'+'ated'][_0x1ea577]=!(0x50+0xbd1*-0x1+0x1f*0x5f)),_0x5b149a instanceof HTMLVideoElement?(_0x12dc18=_0x5b149a['videoWidth'],_0x4bcbe9=_0x5b149a['videoHeigh'+'t']):(_0x12dc18=_0x5b149a['width'],_0x4bcbe9=_0x5b149a['height']));if(_0x30af8d){if(this['_width']=0xb55+0x1*-0xf3e+0x3ed,this['_height']=-0x1eb*-0x11+-0x32c*-0x3+-0x2a1b,this['_cubemap']){for(let _0x672e1e=-0x1224+-0x1723+0x2947;_0x672e1e<-0x13eb+-0x232a+0x371b;_0x672e1e++)this['_levels'][_0x1ea577][_0x672e1e]=null,this['_levelsUpd'+'ated'][_0x1ea577][_0x672e1e]=!(-0x1*-0x2386+0x12*-0x4b+-0x2c*0xb0);}else this['_levels'][_0x1ea577]=null,this['_levelsUpd'+'ated'][_0x1ea577]=!(0x3b*0x17+0x1*0xe2f+-0x137c);}else _0x1ea577===-0x1*0x14c4+-0x24f2+0x39b6&&(this['_width']=_0x12dc18,this['_height']=_0x4bcbe9),this['_levels'][_0x1ea577]=_0x5b149a;(this['_invalid']!==_0x30af8d||!_0x30af8d)&&(this['_invalid']=_0x30af8d,this['upload']());}['getSource'](_0x5d489f=-0x2674+-0x12*0x10b+0x1*0x393a){return this['_levels'][_0x5d489f];}['unlock'](){this['_lockedMod'+'e']===$l&&w['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===Od&&this['upload'](),this['_lockedLev'+'el']=-(-0x2*-0x6fc+0x167*0x16+0x667*-0x7),this['_lockedMod'+'e']=$l;}['upload'](){var _0x4b48a0,_0x40f329;this['_needsUplo'+'ad']=!(-0x16eb+0x185*0x10+-0x165),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x40f329=(_0x4b48a0=this['impl'])['uploadImme'+'diate'])==null||_0x40f329['call'](_0x4b48a0,this['device'],this);}['read'](_0x563d57,_0x3df5f,_0x2fed33,_0x4e43b0,_0x599d00={}){var _0x1b3cc8,_0x493be6;return(_0x493be6=(_0x1b3cc8=this['impl'])['read'])==null?void(0x1*0x8b+-0x10e1+0x29*0x66):_0x493be6['call'](_0x1b3cc8,_0x563d57,_0x3df5f,_0x2fed33,_0x4e43b0,_0x599d00);}['write'](_0x17e8d0,_0x39d38e,_0x42396b,_0x2c3376,_0x5eaa3f){var _0x1fc9f2,_0x2ea698;return(_0x2ea698=(_0x1fc9f2=this['impl'])['write'])==null?void(-0x1e47*-0x1+0xb2*-0x2e+0x1b5*0x1):_0x2ea698['call'](_0x1fc9f2,_0x17e8d0,_0x39d38e,_0x42396b,_0x2c3376,_0x5eaa3f);}}const mT={'white':[-0xf16+-0x562+-0x5*-0x44b,-0x1518+0x59b+0x107c,0x6fb*-0x2+-0x216+0x110b,0x1151+0x13*0x2e+-0x1*0x13bc],'gray':[-0x2bd+0x13fd+0x40*-0x43,0x1*0xe84+-0xf81+0x7f*0x3,0x281*0x7+0x796+-0x189d,-0x228+0x3d*-0x3+0x3de],'black':[-0x1f7d+0x43*-0x3f+-0x7ff*-0x6,0x105*-0x7+-0x2290+0x29b3*0x1,-0x23*0xa+0x2*0xcb9+-0x1814*0x1,0x3*-0xc25+0x1*0x129+0x2445],'normal':[-0x1a7b*0x1+-0x2eb+0x1de6,0x1eb*0x8+-0x78c+-0x74c,0x7*-0x3ad+-0x1*0x228d+0x15*0x2eb,-0x68*0x59+-0x1c8d*-0x1+-0x89a*-0x1],'pink':[-0x1be0+-0x165+-0xd*-0x254,0x19fd+-0xd13*-0x2+-0x1*0x33a3,0x6d6+0x13*-0x116+0x1*0xecb,-0x2*0x40f+-0x21ad+0x2aca]};class _T{constructor(){h(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x3327de=>{_0x3327de['destroy']();});}}const gT=new Kt(),fa=(_0x29cb9f,_0x5cdabe)=>{const _0x1a03e1=gT['get'](_0x29cb9f,()=>new _T());if(!_0x1a03e1['map']['has'](_0x5cdabe)){const _0x5a596c=new _e(_0x29cb9f,{'name':'built-in-t'+'exture-'+_0x5cdabe,'width':0x1,'height':0x1,'format':Ne}),_0x11ca0d=_0x5a596c['lock'](),_0x23a140=mT[_0x5cdabe];w['assert'](_0x23a140,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x5cdabe+('\x27\x20not\x20foun'+'d')),_0x11ca0d['set'](_0x23a140),_0x5a596c['unlock'](),_0x1a03e1['map']['set'](_0x5cdabe,_0x5a596c);}return _0x1a03e1['map']['get'](_0x5cdabe);};let ST=0x1a8d*-0x1+0x942+-0x13*-0xe9;class ky{constructor(){h(this,'bindGroup'),h(this,'offsets',[]);}}class Up{constructor(_0x3300f7,_0x469773,_0x239589){h(this,'renderVers'+'ionUpdated',-(-0x57*-0x21+0x4*-0x21+-0xab2)),h(this,'uniformBuf'+'fers'),h(this,'uniformBuf'+'ferOffsets',[]),(this['id']=ST++,this['device']=_0x3300f7,this['format']=_0x469773,this['dirty']=!(-0xe1d+0x46+0xdd7),this['impl']=_0x3300f7['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x239589,_0x239589&&this['setUniform'+'Buffer'](Np,_0x239589),w['trace'](Y0,'Alloc:\x20Id\x20'+this['id'],this,_0x469773));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x27f3aa,_0x182667){const _0x43b4f2=this['format']['bufferForm'+'atsMap']['get'](_0x27f3aa);w['assert'](_0x43b4f2!==void(-0xa76*-0x2+0x97a+-0x1e66),'Setting\x20a\x20'+'uniform\x20['+_0x27f3aa+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['uniformBuf'+'fers'][_0x43b4f2]!==_0x182667&&(this['uniformBuf'+'fers'][_0x43b4f2]=_0x182667,this['dirty']=!(0x9a5+-0x1*0x1000+0x1*0x65b));}['setStorage'+'Buffer'](_0x13fb46,_0x552c1a){const _0x33cddd=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x13fb46);w['assert'](_0x33cddd!==void(0x172*-0xb+0xccd*0x3+-0x1681),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x13fb46+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageBuf'+'fers'][_0x33cddd]!==_0x552c1a&&(this['storageBuf'+'fers'][_0x33cddd]=_0x552c1a,this['dirty']=!(0xc13+-0x2*-0xd77+-0x2701));}['setTexture'](_0xe05aff,_0x234629){const _0x57c4ab=this['format']['textureFor'+'matsMap']['get'](_0xe05aff);w['assert'](_0x57c4ab!==void(0x2200+-0x146*-0x5+0x285e*-0x1),'Setting\x20a\x20'+'texture\x20['+_0xe05aff+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['textures'][_0x57c4ab]!==_0x234629?(this['textures'][_0x57c4ab]=_0x234629,this['dirty']=!(-0xe65+0x267b+-0x2*0xc0b)):this['renderVers'+'ionUpdated']<_0x234629['renderVers'+'ionDirty']&&(this['dirty']=!(-0x5c*0x4a+0x2*-0x125f+0x3f56));}['setStorage'+'Texture'](_0x356134,_0x417726){const _0xea099f=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x356134);w['assert'](_0xea099f!==void(0x2140+0x27e*-0x7+0x1*-0xfce),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x356134+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageTex'+'tures'][_0xea099f]!==_0x417726?(this['storageTex'+'tures'][_0xea099f]=_0x417726,this['dirty']=!(0x23d*0x3+-0x19ca+0x1313)):this['renderVers'+'ionUpdated']<_0x417726['renderVers'+'ionDirty']&&(this['dirty']=!(0x261f+-0x4*0x7a6+-0x787));}['updateUnif'+'ormBuffers'](){for(let _0x3e0202=0x13*0x14f+0x1a*-0x151+0x3*0x31f;_0x3e0202<this['uniformBuf'+'fers']['length'];_0x3e0202++)this['uniformBuf'+'fers'][_0x3e0202]['update']();}['update'](){const {textureFormats:_0x2ac238,storageTextureFormats:_0x344658,storageBufferFormats:_0x4e5b04}=this['format'];for(let _0x5b32c8=-0x1159*-0x1+-0x1d*-0x13+-0x1380;_0x5b32c8<_0x2ac238['length'];_0x5b32c8++){const _0x59a681=_0x2ac238[_0x5b32c8];let _0x5dd2c0=_0x59a681['scopeId']['value'];_0x5dd2c0||(_0x59a681['name']==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x5dd2c0=fa(this['device'],'white')),_0x59a681['name']==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x5dd2c0=fa(this['device'],'pink')),_0x5dd2c0||(w['errorOnce']('Texture\x20'+_0x59a681['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+Q['toString']()+']'),_0x5dd2c0=fa(this['device'],'pink'))),this['setTexture'](_0x59a681['name'],_0x5dd2c0);}for(let _0x7c66d2=-0x1*-0x25f+-0x201d+0x1dbe;_0x7c66d2<_0x344658['length'];_0x7c66d2++){const _0x5285b3=_0x344658[_0x7c66d2],_0x4dbea4=_0x5285b3['scopeId']['value'];w['assert'](_0x4dbea4,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x5285b3['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Texture'](_0x5285b3['name'],_0x4dbea4);}for(let _0x3bf52f=-0x8e1*-0x1+0x217d+-0x2a5e;_0x3bf52f<_0x4e5b04['length'];_0x3bf52f++){const _0x52282c=_0x4e5b04[_0x3bf52f],_0xa368c1=_0x52282c['scopeId']['value'];w['assert'](_0xa368c1,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x52282c['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Buffer'](_0x52282c['name'],_0xa368c1);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x4eb66c=0x185*0x16+-0xa35+-0x1739;_0x4eb66c<this['uniformBuf'+'fers']['length'];_0x4eb66c++){const _0x1148ba=this['uniformBuf'+'fers'][_0x4eb66c];this['uniformBuf'+'ferOffsets'][_0x4eb66c]=_0x1148ba['offset'],this['renderVers'+'ionUpdated']<_0x1148ba['renderVers'+'ionDirty']&&(this['dirty']=!(-0x6*-0x553+-0x450+-0x1ba2));}this['dirty']&&(this['dirty']=!(-0x13*-0x3+-0xd*-0x299+0x4db*-0x7),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const qe={'set'(_0xd7fa08,_0x46867c,_0x5c3fdd,_0x53f94f=-0x2359+0x20b6+0xa9*0x4){return _0xd7fa08&~(_0x53f94f<<_0x5c3fdd)|_0x46867c<<_0x5c3fdd;},'get'(_0x2865a0,_0x10c71f,_0x3c5e05=0xa77+0x61e+-0x1094){return _0x2865a0>>_0x10c71f&_0x3c5e05;},'all'(_0x5b7ccb,_0x3f7951,_0x16cb32=0x232e+-0xa1+-0x1146*0x2){const _0x424dd1=_0x16cb32<<_0x3f7951;return(_0x5b7ccb&_0x424dd1)===_0x424dd1;},'any'(_0x48635f,_0x2f256d,_0x4a2edd=0x15*0x6+-0x3e1+0x364*0x1){return(_0x48635f&_0x4a2edd<<_0x2f256d)!==0xd3e+0x2*-0x7b8+-0x232*-0x1;}},Xl=-0x3*-0x9d5+0x593*-0x5+0x1*-0x199,ir=0x9d*-0x21+-0x2608*-0x1+0xe3*-0x14,Hm=-0x3*-0x9c6+-0x1*-0xc5b+-0x1*0x29ad,Wm=0x1*-0x1bdb+-0x365*-0x3+0x11af,$m=-0x1*0x22c3+-0x16e6+-0x8*-0x736,Xm=-0x1ce0+0x38*0x3b+0x1*0x1003,qm=-0x1*0x1191+0xabe+0x6e1,jm=-0x26f1+0x1*0x17d7+0xf2c*0x1,iu=0x2484+-0x206*-0x2+-0xd7e*0x3,Ym=-0x18f7+-0x3*-0x805+0xff,Km=0x13d3+0x2ff*0xb+-0x34b0,Zm=-0x200+-0x192d+-0xda3*-0x2,Qm=0x655+-0x67*-0x4d+-0x2536,yT=0x40e+0x245e+0x285d*-0x1,vT=iu,ri=class ri{constructor(_0x5ebd26=!(0x1648+-0xc28*-0x1+-0x29*0xd7),_0x2dde29=fs,_0xfbaa72=Ft,_0x5e4edf=rp,_0x45d2bc,_0x24d050,_0x5369a6,_0x4f018d=!(0x417*-0x2+-0x1*0x1169+0x1997),_0x2d3e07=!(0x1ee3+-0x4*-0x402+-0x2eeb),_0x300269=!(-0x469+0x92d+-0xf4*0x5),_0x148818=!(-0x234+0x1137+-0xf03)){h(this,'target0',-0x20e+0x1bd0+-0x19c2),(this['setColorBl'+'end'](_0x2dde29,_0xfbaa72,_0x5e4edf),this['setAlphaBl'+'end'](_0x45d2bc??_0x2dde29,_0x24d050??_0xfbaa72,_0x5369a6??_0x5e4edf),this['setColorWr'+'ite'](_0x4f018d,_0x2d3e07,_0x300269,_0x148818),this['blend']=_0x5ebd26);}set['blend'](_0xa74e9e){this['target0']=qe['set'](this['target0'],_0xa74e9e?-0x13*-0x69+-0x20ef+0x1925:-0x1cee+-0x2596+0x4284,Qm);}get['blend'](){return qe['all'](this['target0'],Qm);}['setColorBl'+'end'](_0x13fe99,_0xec260d,_0x3e3dd0){this['target0']=qe['set'](this['target0'],_0x13fe99,Hm,Xl),this['target0']=qe['set'](this['target0'],_0xec260d,Wm,ir),this['target0']=qe['set'](this['target0'],_0x3e3dd0,$m,ir);}['setAlphaBl'+'end'](_0x2fd56a,_0x5ef2c8,_0x12e0a6){this['target0']=qe['set'](this['target0'],_0x2fd56a,Xm,Xl),this['target0']=qe['set'](this['target0'],_0x5ef2c8,qm,ir),this['target0']=qe['set'](this['target0'],_0x12e0a6,jm,ir);}['setColorWr'+'ite'](_0x2eca65,_0x20e372,_0x3cd23c,_0x580461){this['redWrite']=_0x2eca65,this['greenWrite']=_0x20e372,this['blueWrite']=_0x3cd23c,this['alphaWrite']=_0x580461;}get['colorOp'](){return qe['get'](this['target0'],Hm,Xl);}get['colorSrcFa'+'ctor'](){return qe['get'](this['target0'],Wm,ir);}get['colorDstFa'+'ctor'](){return qe['get'](this['target0'],$m,ir);}get['alphaOp'](){return qe['get'](this['target0'],Xm,Xl);}get['alphaSrcFa'+'ctor'](){return qe['get'](this['target0'],qm,ir);}get['alphaDstFa'+'ctor'](){return qe['get'](this['target0'],jm,ir);}set['redWrite'](_0x5bdda2){this['target0']=qe['set'](this['target0'],_0x5bdda2?-0x1f38+0xd*-0x164+-0x70b*-0x7:-0xb1+0x1*-0x1b16+0x1bc7,iu);}get['redWrite'](){return qe['all'](this['target0'],iu);}set['greenWrite'](_0x57310f){this['target0']=qe['set'](this['target0'],_0x57310f?0x1ae7+0x270e+-0x41f4:-0x1*0x1ab1+0x2351+-0x8a0,Ym);}get['greenWrite'](){return qe['all'](this['target0'],Ym);}set['blueWrite'](_0x314656){this['target0']=qe['set'](this['target0'],_0x314656?0x2164+-0x2*-0x136d+-0x483d:-0x57*-0x45+0x214d+0x20*-0x1c6,Km);}get['blueWrite'](){return qe['all'](this['target0'],Km);}set['alphaWrite'](_0x4b2797){this['target0']=qe['set'](this['target0'],_0x4b2797?0x1915+-0xfc1+0xb*-0xd9:0x10af*0x2+-0x607*0x1+-0x3*0x91d,Zm);}get['alphaWrite'](){return qe['all'](this['target0'],Zm);}get['allWrite'](){return qe['get'](this['target0'],vT,yT);}['copy'](_0x320cb4){return this['target0']=_0x320cb4['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x5cd813){return this['target0']===_0x5cd813['target0'];}};h(ri,'NOBLEND',Object['freeze'](new ri())),h(ri,'NOWRITE',Object['freeze'](new ri(void(-0x6bd+-0x666+0xd23),void(-0x6c0+-0xa4e+0x4a*0x3b),void(0x8*0x3fa+-0x13dc+-0xbf4),void(0x5f*-0x60+-0x15f9+-0x1333*-0x3),void(0x1*-0x1d35+0xf*0x18e+0xb*0x89),void(0x2135*-0x1+-0xd47+0x2e7c),void(-0x12*-0x74+0x1*-0x246b+0x5*0x5a7),!(-0x88*0x7+0x1d0b+-0x1952),!(-0x2398+-0x852+0x1*0x2beb),!(-0x272*0x8+-0xfba+0x8b*0x41),!(0xbc*0x12+0xdf*-0xf+-0x13*0x2)))),h(ri,'ALPHABLEND',Object['freeze'](new ri(!(-0x1bec*0x1+-0x1*-0xbcf+0x101d),fs,jh,Yh))),h(ri,'ADDBLEND',Object['freeze'](new ri(!(0x1*-0x1373+-0x147*-0x15+-0x760),fs,Ft,Ft)));let pt=ri;class Bp{constructor(){h(this,'map',new Map()),h(this,'id',0xa4*0x18+-0x31f+-0x1*0xc41);}['get'](_0x55e943){let _0x3a5bac=this['map']['get'](_0x55e943);return _0x3a5bac===void(0x1c46+0xe1b*-0x2+-0x10)&&(_0x3a5bac=this['id']++,this['map']['set'](_0x55e943,_0x3a5bac)),_0x3a5bac;}}const xT=new Bp(),Jm=0x1ef2+0x11*0x1c9+-0x3d44,e_=-0xea6*-0x2+-0x94+-0x8*0x397,t_=0x1785+-0x236b+-0xbe9*-0x1,_r=class _r{constructor(_0x2e9ebd=Wf,_0x25240d=!(-0x2*-0xf9e+0x1c88+-0x3bc4)){h(this,'data',0x1258+0x2691+-0x38e9),h(this,'_depthBias',-0x1580+-0x5*-0x55b+-0x547),h(this,'_depthBias'+'Slope',0x240a+0x2*0xe69+-0x40dc),h(this,'key',-0x24a1*0x1+-0xfb*0x17+0x12f*0x32),(this['func']=_0x2e9ebd,this['write']=_0x25240d);}set['test'](_0x3b31ed){this['func']=_0x3b31ed?Wf:Wi,this['updateKey']();}get['test'](){return this['func']!==Wi;}set['write'](_0x14ed4b){this['data']=qe['set'](this['data'],_0x14ed4b?-0x1415+-0x1*-0xff4+-0x2e*-0x17:-0x10de+-0x1*-0x198b+0x1*-0x8ad,t_),this['updateKey']();}get['write'](){return qe['all'](this['data'],t_);}set['func'](_0x1445e6){this['data']=qe['set'](this['data'],_0x1445e6,e_,Jm),this['updateKey']();}get['func'](){return qe['get'](this['data'],e_,Jm);}set['depthBias'](_0x5b4192){this['_depthBias']=_0x5b4192,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x12e754){this['_depthBias'+'Slope']=_0x12e754,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x53e537){return this['data']=_0x53e537['data'],this['_depthBias']=_0x53e537['_depthBias'],this['_depthBias'+'Slope']=_0x53e537['_depthBias'+'Slope'],this['key']=_0x53e537['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x55659a,_depthBias:_0x3a9b1d,_depthBiasSlope:_0x113973}=this,_0x209f79=_0x55659a+'-'+_0x3a9b1d+'-'+_0x113973;this['key']=xT['get'](_0x209f79);}['equals'](_0x4b6ae9){return this['key']===_0x4b6ae9['key'];}};h(_r,'DEFAULT',Object['freeze'](new _r())),h(_r,'NODEPTH',Object['freeze'](new _r(Wi,!(0x17f*0x11+0xda1+-0x63*0x65)))),h(_r,'WRITEDEPTH',Object['freeze'](new _r(Wi,!(0x3*-0x6f3+-0x1*-0x1fbb+-0xae2))));let Yt=_r;class Uy{constructor(){h(this,'globalId',0x1e5a+0x1*-0x15bb+-0x89f*0x1),h(this,'revision',-0x15ef+-0x43b*-0x4+0x503);}['equals'](_0x580d7d){return this['globalId']===_0x580d7d['globalId']&&this['revision']===_0x580d7d['revision'];}['copy'](_0x546c9a){this['globalId']=_0x546c9a['globalId'],this['revision']=_0x546c9a['revision'];}['reset'](){this['globalId']=0x735+-0x9*-0x6b+0x4*-0x2be,this['revision']=0xd7a+-0x3*0x3f+0x1*-0xcbd;}}let s_=0x1*-0x12e7+-0x7cf*-0x5+-0x1424;class TT{constructor(){s_++,this['version']=new Uy(),this['version']['globalId']=s_;}['increment'](){this['version']['revision']++;}}class wT{constructor(_0x116e64){this['name']=_0x116e64,this['value']=null,this['versionObj'+'ect']=new TT();}['toJSON'](_0x7640fe){}['setValue'](_0x256663){this['value']=_0x256663,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class ET{constructor(_0x521b8a){this['name']=_0x521b8a,this['variables']=new Map();}['resolve'](_0x7e95fd){return this['variables']['has'](_0x7e95fd)||this['variables']['set'](_0x7e95fd,new wT(_0x7e95fd)),this['variables']['get'](_0x7e95fd);}['removeValu'+'e'](_0x15f7b6){for(const _0x17a57b in this['variables']){const _0x21a1a4=this['variables'][_0x17a57b];_0x21a1a4['value']===_0x15f7b6&&(_0x21a1a4['value']=null);}}}let bT=0x16*-0x92+-0x247d+0x3109;class Is{constructor(_0x11d497,_0xb26de6,_0x1964b9,_0x41cb60){h(this,'usage',ms),(w['assert'](arguments['length']<=-0x251*-0xd+0x1*0x819+0x1319*-0x2&&(!_0x41cb60||typeof _0x41cb60=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x41cb60==null?void(0x1e*-0xfb+-0x2*0x372+0x3*0xc1a):_0x41cb60['usage'])??ms,this['device']=_0x11d497,this['format']=_0xb26de6,this['numVertice'+'s']=_0x1964b9,this['id']=bT++,this['impl']=_0x11d497['createVert'+'exBufferIm'+'pl'](this,_0xb26de6,_0x41cb60),this['numBytes']=_0xb26de6['verticesBy'+'teSize']?_0xb26de6['verticesBy'+'teSize']:_0xb26de6['size']*_0x1964b9,this['adjustVram'+'SizeTracki'+'ng'](_0x11d497['_vram'],this['numBytes']));const _0x53bc78=_0x41cb60==null?void(-0x18a+0x2636+-0x24ac):_0x41cb60['data'];_0x53bc78?this['setData'](_0x53bc78):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x29ceec=this['device'],_0x276d23=_0x29ceec['buffers']['indexOf'](this);_0x276d23!==-(-0x1*0x1073+-0x1e95*-0x1+-0x1*0xe21)&&_0x29ceec['buffers']['splice'](_0x276d23,-0x1c42*0x1+-0x9d*-0xb+0x1cb*0xc),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x29ceec),this['adjustVram'+'SizeTracki'+'ng'](_0x29ceec['_vram'],-this['storage']['byteLength'])),this['storage']=null;}['adjustVram'+'SizeTracki'+'ng'](_0x57e218,_0x25559b){w['trace'](q0,this['id']+'\x20size:\x20'+_0x25559b+'\x20vram.vb:\x20'+_0x57e218['vb']+'\x20=>\x20'+(_0x57e218['vb']+_0x25559b)),_0x57e218['vb']+=_0x25559b;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x4149b4){return _0x4149b4['byteLength']!==this['numBytes']?(w['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x4149b4['byteLength']),!(-0x1*-0x1c5+-0x1*0x1bb3+-0x3*-0x8a5)):(this['storage']=_0x4149b4,this['unlock'](),!(-0xdf0+-0x85*-0x1b+0x1*-0x17));}}function hi(_0x435734){if(_0x435734==null)return 0x2*0xe6d+0x1e5d+-0x3b37;let _0x53089e=-0x20c3+0x1*0xc0e+0x24d*0x9;for(let _0x570a4e=0xf41+0x12a7+-0x21e8,_0x2a8349=_0x435734['length'];_0x570a4e<_0x2a8349;_0x570a4e++)_0x53089e=(_0x53089e<<0x124b+0x6a5+-0x1*0x18eb)-_0x53089e+_0x435734['charCodeAt'](_0x570a4e),_0x53089e|=-0x2*0x1a2+0x2633+-0xba5*0x3;return _0x53089e;}function By(_0x1fb508){let _0xa35178=-0xb621a5a0+0x4aa268a5+-0x11bf*-0xd5540;for(let _0x30236a=0x7b2*0x1+-0x9b+-0x717;_0x30236a<_0x1fb508['length'];_0x30236a++)_0xa35178^=_0x1fb508[_0x30236a],_0xa35178*=-0x45*0x14405+-0x12d8410+-0x10f84a*-0x26;return _0xa35178>>>0x1754*0x1+0x8f9*0x1+-0x204d;}const AT=new Bp(),CT=[-0x1*0x13c6+-0x2656+0x3a1e,0x3*0x94f+-0x251*-0x1+-0x1e3a,-0x179+0xc13+-0xa92,0x158b*-0x1+0x393*-0x5+0x1*0x2776,0x11b8+0x25b*0x7+-0x2225],PT=new Kt();class kt{constructor(_0x4bb330,_0x132482,_0x19bdbf){this['device']=_0x4bb330,this['_elements']=[],this['hasUv0']=!(-0x957+-0x73*-0x31+-0xcab),this['hasUv1']=!(-0x1c6c+-0x1837*0x1+0x34a4),this['hasColor']=!(0x1865+-0x193a+0xd6),this['hasTangent'+'s']=!(-0x194a+0x17*0x1a9+-0xce4),this['verticesBy'+'teSize']=-0x15*0x15c+0x113c+-0x10*-0xb5,this['vertexCoun'+'t']=_0x19bdbf,this['interleave'+'d']=_0x19bdbf===void(-0x167f+0x25a1+-0xf22),this['instancing']=!(0x2135+-0x4*-0x324+-0xb71*0x4),this['size']=_0x132482['reduce']((_0x2df62f,_0x3bdef0)=>_0x2df62f+Math['ceil'](_0x3bdef0['components']*No[_0x3bdef0['type']]/(0x253a*-0x1+0xfdd+-0x1a5*-0xd))*(0x39*0x4f+-0xd2f+0x119*-0x4),0x4cf*-0x5+0x2366*0x1+0xb5b*-0x1);let _0x2241f6=-0x1b8b+0xdb3+0xdd8,_0x5ea100;for(let _0x1c1ccc=-0x14ee+-0x637*0x5+-0x3401*-0x1,_0x130215=_0x132482['length'];_0x1c1ccc<_0x130215;_0x1c1ccc++){const _0x46fb2d=_0x132482[_0x1c1ccc];_0x5ea100=_0x46fb2d['components']*No[_0x46fb2d['type']],w['assert'](kt['isElementV'+'alid'](_0x4bb330,_0x46fb2d),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x46fb2d['semantic']+'\x20:\x20'+cT[_0x46fb2d['type']]+'\x20x\x20'+_0x46fb2d['components']),_0x19bdbf&&(_0x2241f6=Y['roundUp'](_0x2241f6,_0x5ea100),w['assert'](_0x5ea100%(0x7cf*0x5+0x764+0x2e6b*-0x1)===-0xf52+0x1*-0x1cd5+0x2c27*0x1,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x5ea100));const _0x2b4e96=_0x46fb2d['asInt']??!(0x1d6b+-0x39e*0x8+-0x7a),_0x5e21c5=_0x2b4e96?!(0x5d*-0x14+0x58f*0x2+-0x3d9*0x1):_0x46fb2d['normalize']??!(-0xcb5+0x291+-0x35*-0x31),_0x64229={'name':_0x46fb2d['semantic'],'offset':_0x19bdbf?_0x2241f6:_0x46fb2d['hasOwnProp'+'erty']('offset')?_0x46fb2d['offset']:_0x2241f6,'stride':_0x19bdbf?_0x5ea100:_0x46fb2d['hasOwnProp'+'erty']('stride')?_0x46fb2d['stride']:this['size'],'dataType':_0x46fb2d['type'],'numComponents':_0x46fb2d['components'],'normalize':_0x5e21c5,'size':_0x5ea100,'asInt':_0x2b4e96};this['_elements']['push'](_0x64229),_0x19bdbf?_0x2241f6+=_0x5ea100*_0x19bdbf:_0x2241f6+=Math['ceil'](_0x5ea100/(0xc65+-0x1cb*0x2+-0x1*0x8cb))*(-0x1b9a+-0x15d*-0x14+0x5a),_0x46fb2d['semantic']===is?this['hasUv0']=!(-0xc0a+-0x84f*-0x1+0x3bb):_0x46fb2d['semantic']===ba?this['hasUv1']=!(-0xf*0x22+0x165+-0x1*-0x99):_0x46fb2d['semantic']===Wt?this['hasColor']=!(-0x413*0x2+-0x173e+0x1f64):_0x46fb2d['semantic']===yi&&(this['hasTangent'+'s']=!(0x1568*-0x1+0x1*-0x1b31+0x179*0x21));}_0x19bdbf&&(this['verticesBy'+'teSize']=_0x2241f6),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0xf653e5){return PT['get'](_0xf653e5,()=>new kt(_0xf653e5,[{'semantic':Mp,'components':0x4,'type':Ve},{'semantic':Dp,'components':0x4,'type':Ve},{'semantic':Ip,'components':0x4,'type':Ve},{'semantic':Ln,'components':0x4,'type':Ve}]));}static['isElementV'+'alid'](_0x2d404a,_0x527ad1){const _0x36c218=_0x527ad1['components']*No[_0x527ad1['type']];return!(_0x2d404a['isWebGPU']&&!CT['includes'](_0x36c218));}['update'](){w['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x3a193f=[],_0x186854=[],_0x415196=this['_elements']['length'];for(let _0x31b2fe=-0x1fa5*0x1+0x402+0x11b*0x19;_0x31b2fe<_0x415196;_0x31b2fe++){const {name:_0x5055ce,dataType:_0x57308c,numComponents:_0x2a8f9b,normalize:_0x1f2827,offset:_0x2abcac,stride:_0x10e29c,size:_0x3ead43,asInt:_0x42ad94}=this['_elements'][_0x31b2fe],_0x173a91=_0x5055ce+_0x57308c+_0x2a8f9b+_0x1f2827+_0x42ad94;_0x3a193f['push'](_0x173a91);const _0x977397=_0x173a91+_0x2abcac+_0x10e29c+_0x3ead43;_0x186854['push'](_0x977397);}_0x3a193f['sort']();const _0x5525a8=_0x3a193f['join']();this['batchingHa'+'sh']=hi(_0x5525a8),this['shaderProc'+'essingHash'+'String']=_0x5525a8,this['renderingH'+'ashString']=_0x186854['join']('_'),this['renderingH'+'ash']=AT['get'](this['renderingH'+'ashString']);}}const MT=new Bp(),zh=class zh{constructor(_0x20812b={}){h(this,'_func'),h(this,'_ref'),h(this,'_fail'),h(this,'_zfail'),h(this,'_zpass'),h(this,'_readMask'),h(this,'_writeMask'),h(this,'_dirty',!(0x1*-0x13d9+0x1b40+-0x767)),h(this,'_key'),(this['_func']=_0x20812b['func']??Wi,this['_ref']=_0x20812b['ref']??0x654+0x1b3+-0x807,this['_readMask']=_0x20812b['readMask']??0x2*-0x69+0x102b*-0x1+0x11fc,this['_writeMask']=_0x20812b['writeMask']??0x4d2+0x2549+0x6da*-0x6,this['_fail']=_0x20812b['fail']??xn,this['_zfail']=_0x20812b['zfail']??xn,this['_zpass']=_0x20812b['zpass']??xn,this['_evalKey']());}set['func'](_0x50e751){this['_func']=_0x50e751,this['_dirty']=!(0xf3*-0x27+0x1f93+-0x2b9*-0x2);}get['func'](){return this['_func'];}set['ref'](_0x2962ba){this['_ref']=_0x2962ba,this['_dirty']=!(0x824+-0x1482+0xc5e*0x1);}get['ref'](){return this['_ref'];}set['fail'](_0x3876d8){this['_fail']=_0x3876d8,this['_dirty']=!(-0xf74+-0xd0e*-0x2+-0x4*0x2aa);}get['fail'](){return this['_fail'];}set['zfail'](_0x52ef50){this['_zfail']=_0x52ef50,this['_dirty']=!(-0x2384+0x1d72+0x25*0x2a);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x19c9cc){this['_zpass']=_0x19c9cc,this['_dirty']=!(-0x932+-0x18*-0x35+0x43a*0x1);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x2e240c){this['_readMask']=_0x2e240c,this['_dirty']=!(-0x7a2+-0x1*-0x651+0x151);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x2d6af8){this['_writeMask']=_0x2d6af8,this['_dirty']=!(-0x1065+0x1c2e+-0xbc9);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x2678c6,_ref:_0x4d66ab,_fail:_0x42eb86,_zfail:_0x133639,_zpass:_0x4476cb,_readMask:_0x2a2586,_writeMask:_0x4da0a8}=this,_0x4ac619=_0x2678c6+','+_0x4d66ab+','+_0x42eb86+','+_0x133639+','+_0x4476cb+','+_0x2a2586+','+_0x4da0a8;this['_key']=MT['get'](_0x4ac619),this['_dirty']=!(-0x6*0x615+0x695+0x1dea);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x1fd59a){return this['_func']=_0x1fd59a['_func'],this['_ref']=_0x1fd59a['_ref'],this['_readMask']=_0x1fd59a['_readMask'],this['_writeMask']=_0x1fd59a['_writeMask'],this['_fail']=_0x1fd59a['_fail'],this['_zfail']=_0x1fd59a['_zfail'],this['_zpass']=_0x1fd59a['_zpass'],this['_dirty']=_0x1fd59a['_dirty'],this['_key']=_0x1fd59a['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};h(zh,'DEFAULT',Object['freeze'](new zh()));let pi=zh;const ql=new Set(),Vh=class Vh extends me{constructor(_0xb755f8,_0x3d4531){var _0x3bb9d,_0xd5934d,_0x462bce,_0x46be1c,_0x2e18d0,_0xf28758;super(),h(this,'canvas'),h(this,'backBuffer',null),h(this,'backBuffer'+'Size',new J()),h(this,'backBuffer'+'Format'),h(this,'backBuffer'+'Antialias',!(-0x1789+0x11*0xc5+0x1*0xa75)),h(this,'isWebGPU',!(-0x3*-0x5d+-0x24*0x49+0x92e*0x1)),h(this,'isWebGL2',!(0xbd4+-0x1e3*0x2+-0x80d)),h(this,'isHdr',!(0x132f+0x1*0xc62+-0x8*0x3f2)),h(this,'scope'),h(this,'maxIndirec'+'tDrawCount',-0x18da+-0x3*0x42a+0x188*0x1b),h(this,'maxAnisotr'+'opy'),h(this,'maxCubeMap'+'Size'),h(this,'maxTexture'+'Size'),h(this,'maxVolumeS'+'ize'),h(this,'maxColorAt'+'tachments',0x1c67+-0x1a*0xc9+-0x7fc),h(this,'precision'),h(this,'samples'),h(this,'maxSamples',-0x99d*-0x1+0x256e+-0x53a*0x9),h(this,'supportsSt'+'encil'),h(this,'supportsCo'+'mpute',!(-0x1db3+0x589*-0x4+0x768*0x7)),h(this,'supportsSt'+'orageTextu'+'reRead',!(0x2*-0xebe+0x1e38+-0xbb)),h(this,'renderTarg'+'et',null),h(this,'shaders',[]),h(this,'textures',[]),h(this,'targets',new Set()),h(this,'renderVers'+'ion',0x86*-0x23+-0xb*-0x95+0x1*0xbeb),h(this,'renderPass'+'Index'),h(this,'insideRend'+'erPass',!(0x59f*0x1+-0x10c2+0xb24)),h(this,'supportsUn'+'iformBuffe'+'rs',!(0x1a84*-0x1+-0x1*-0x1967+0x11e)),h(this,'supportsCl'+'ipDistance'+'s',!(0x22fd+-0xfa9+-0x1353)),h(this,'textureFlo'+'atRenderab'+'le'),h(this,'textureHal'+'fFloatRend'+'erable'),h(this,'textureRG1'+'1B10Render'+'able',!(-0x356+0x1d9d+-0x3b*0x72)),h(this,'textureFlo'+'atFilterab'+'le',!(-0x201c+-0x15c3+-0x1af*-0x20)),h(this,'quadVertex'+'Buffer'),h(this,'blendState',new pt()),h(this,'depthState',new Yt()),h(this,'stencilEna'+'bled',!(0x201e+-0x811+-0x180c)),h(this,'stencilFro'+'nt',new pi()),h(this,'stencilBac'+'k',new pi()),h(this,'dynamicBuf'+'fers'),h(this,'gpuProfile'+'r'),h(this,'defaultCle'+'arOptions',{'color':[0x1d73+0x1e34+0x1*-0x3ba7,-0x21c0+-0x1*0x21cb+0x1*0x438b,-0x16ad+0xc7f*-0x3+-0x6*-0xa07,0xa9b+0x59*0x1+-0xaf3*0x1],'depth':0x1,'stencil':0x0,'flags':jo|Yo}),h(this,'clientRect',{'width':0x0,'height':0x0}),h(this,'_shadersDi'+'rty',!(-0x8fd*0x1+-0x1e3+0x22d*0x5)),h(this,'capsDefine'+'s',new Map()),h(this,'mapsToClea'+'r',new Set()),(this['canvas']=_0xb755f8,'setAttribu'+'te'in _0xb755f8&&_0xb755f8['setAttribu'+'te']('data-engin'+'e','PlayCanvas'+'\x20'+hn),this['initOption'+'s']={..._0x3d4531},(_0x3bb9d=this['initOption'+'s'])['alpha']??(_0x3bb9d['alpha']=!(-0xf56+-0x52e+0x1484)),(_0xd5934d=this['initOption'+'s'])['depth']??(_0xd5934d['depth']=!(-0x12c0+-0xe*-0x112+-0xf1*-0x4)),(_0x462bce=this['initOption'+'s'])['stencil']??(_0x462bce['stencil']=!(0xb63+0x17*0x31+0xfca*-0x1)),(_0x46be1c=this['initOption'+'s'])['antialias']??(_0x46be1c['antialias']=!(-0x917+0x21ba+0x173*-0x11)),(_0x2e18d0=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x2e18d0['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0xf28758=this['initOption'+'s'])['displayFor'+'mat']??(_0xf28758['displayFor'+'mat']=oT),this['_maxPixelR'+'atio']=Ae['browser']?Math['min'](-0x994*-0x1+0x2309+-0x2c9c,window['devicePixe'+'lRatio']):0x1*0x1b92+0x2535+0x1*-0x40c6,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=0x1da7+-0x65f+-0x1748,this['_shaderSwi'+'tchesPerFr'+'ame']=0x1b70+-0x3*0x59+-0x1a65,this['_primsPerF'+'rame']=[]);for(let _0xef4725=cd;_0xef4725<=oa;_0xef4725++)this['_primsPerF'+'rame'][_0xef4725]=0x3*0x5c5+0x73*-0x43+-0x665*-0x2;this['_renderTar'+'getCreatio'+'nTime']=0xf89+0x21b*0xd+-0x2ae8,this['scope']=new ET('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](-0x1b6e+0xfcb*-0x1+0x1*0x2b39);}['postInit'](){const _0x525592=new kt(this,[{'semantic':Me,'components':0x2,'type':Ve}]),_0x56b4b4=new Float32Array([-(0x191f+-0x83*0x4+-0xb89*0x2),-(-0x2e*0xc7+0x19b1*-0x1+0x3d74),0x342+0x617*0x5+-0x10da*0x2,-(0x1d*-0xed+-0x2343+0x3e1d*0x1),-(0x22fc+-0x976+-0x1985),0xf91+0x1*0x821+-0x17b1,-0xcf0+-0x1*-0x232b+-0x163a,-0x1a1+-0x2408+0x25aa]);this['quadVertex'+'Buffer']=new Is(this,_0x525592,-0x101*-0x1+-0x200a+0x1f0d*0x1,{'data':_0x56b4b4});}['initCapsDe'+'fines'](){const {capsDefines:_0x577e40}=this;_0x577e40['clear'](),this['textureFlo'+'atFilterab'+'le']&&_0x577e40['set']('CAPS_TEXTU'+'RE_FLOAT_F'+'ILTERABLE',''),this['textureFlo'+'atRenderab'+'le']&&_0x577e40['set']('CAPS_TEXTU'+'RE_FLOAT_R'+'ENDERABLE','');}['destroy'](){var _0x58b2f9,_0x35e0b8,_0x5c4525;this['fire']('destroy'),(_0x58b2f9=this['quadVertex'+'Buffer'])==null||_0x58b2f9['destroy'](),this['quadVertex'+'Buffer']=null,(_0x35e0b8=this['dynamicBuf'+'fers'])==null||_0x35e0b8['destroy'](),this['dynamicBuf'+'fers']=null,(_0x5c4525=this['gpuProfile'+'r'])==null||_0x5c4525['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x1236b0){this['fire']('destroy:sh'+'ader',_0x1236b0);const _0x2feaa2=this['shaders']['indexOf'](_0x1236b0);_0x2feaa2!==-(0x341*0xc+-0xa9c+0x1d*-0xfb)&&this['shaders']['splice'](_0x2feaa2,0xd*-0x151+-0x1*-0x2173+0x71*-0x25);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x9d26ac;this['contextLos'+'t']=!(0xac9+-0xb51+-0x22*-0x4),this['backBuffer'+'Size']['set'](-(0xd4*-0x2b+-0x35f*0xb+0x745*0xa),-(-0x3f5*0x1+0x1553+0x23*-0x7f));for(const _0x4a72c1 of this['textures'])_0x4a72c1['loseContex'+'t']();for(const _0x5adbc9 of this['buffers'])_0x5adbc9['loseContex'+'t']();for(const _0x580331 of this['targets'])_0x580331['loseContex'+'t']();(_0x9d26ac=this['gpuProfile'+'r'])==null||_0x9d26ac['loseContex'+'t']();}['restoreCon'+'text'](){var _0x34f333,_0x4166d3;this['contextLos'+'t']=!(0x302*-0xb+-0xc7d+0x2d94),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x3efde9 of this['buffers'])_0x3efde9['unlock']();(_0x4166d3=(_0x34f333=this['gpuProfile'+'r'])==null?void(-0x2*0x31+0x62e+-0x5cc):_0x34f333['restoreCon'+'text'])==null||_0x4166d3['call'](_0x34f333);}['toJSON'](_0x482c0c){}['initialize'+'ContextCac'+'hes'](){this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(-0x21e*-0x4+0xe2*-0x20+-0x4f2*-0x4),this['shaderAsyn'+'cCompile']=!(-0x794+0x3d*0x51+-0x12c*0xa),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new pt(),this['depthState']=new Yt(),this['cullMode']=pa,this['vx']=this['vy']=this['vw']=this['vh']=0x882+-0x2fd+-0x585,this['sx']=this['sy']=this['sw']=this['sh']=-0x480+0x772+0x179*-0x2,this['blendColor']=new ie(-0x682*-0x2+-0x50f*0x5+0xc47,-0x39*0x7c+-0x1973+0x121*0x2f,-0x21c7*0x1+0x7f7+0x19d0,-0xf*0xaf+-0x19ab+0x344*0xb);}['setStencil'+'State'](_0x363ca2,_0x58df19){w['assert'](!(-0x1017+0x171+-0xea7*-0x1));}['setBlendSt'+'ate'](_0x9b5025){w['assert'](!(0x1*-0x41b+-0xaa*0x11+0xf66));}['setBlendCo'+'lor'](_0x14c08a,_0x455b87,_0x26e96f,_0x421256){w['assert'](!(0x151*-0x13+-0x1c55*0x1+0x3559));}['setDepthSt'+'ate'](_0x84c1d1){w['assert'](!(0x9dd*0x3+0x1*-0x259a+0x24*0x39));}['setCullMod'+'e'](_0x3abe2e){w['assert'](!(0x1e1e+-0x6*-0x393+0x338f*-0x1));}['setRenderT'+'arget'](_0x45855f){this['renderTarg'+'et']=_0x45855f;}['setVertexB'+'uffer'](_0x2c3d8d){_0x2c3d8d&&this['vertexBuff'+'ers']['push'](_0x2c3d8d);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=-0x257f+-0x2031+-0x2*-0x22d8;}['getIndirec'+'tDrawSlot'](){return-0x1*0x1e34+0x266c*-0x1+-0xf4*-0x48;}get['indirectDr'+'awBuffer'](){return null;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x27a1c4){if(_0x27a1c4['initialize'+'d'])return;const _0x2fcc0d=de();this['fire']('fbo:create',{'timestamp':_0x2fcc0d,'target':this}),_0x27a1c4['init'](),this['targets']['add'](_0x27a1c4),this['_renderTar'+'getCreatio'+'nTime']+=de()-_0x2fcc0d;}['draw'](_0x553ff9,_0x1d82f3,_0x57e573,_0x11c4da,_0x4a9fb2=!(-0x17ff+-0x2551*0x1+0x3d50),_0x5b9406=!(-0x1*0x1eb8+0x1ed+0x27*0xbd)){w['assert'](!(-0xd04+-0x62*0x3a+0x2339*0x1));}['_isBrowser'+'Interface'](_0x4b2cad){return this['_isImageBr'+'owserInter'+'face'](_0x4b2cad)||this['_isImageCa'+'nvasInterf'+'ace'](_0x4b2cad)||this['_isImageVi'+'deoInterfa'+'ce'](_0x4b2cad);}['_isImageBr'+'owserInter'+'face'](_0x553500){return typeof ImageBitmap<'u'&&_0x553500 instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x553500 instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x8569c9){return typeof HTMLCanvasElement<'u'&&_0x8569c9 instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x3f4a76){return typeof HTMLVideoElement<'u'&&_0x3f4a76 instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x1e748e,_0x46c3d8){const _0x3e59b4=Math['min'](this['_maxPixelR'+'atio'],Ae['browser']?window['devicePixe'+'lRatio']:-0x1789*-0x1+-0x1460+0x4*-0xca),_0x5aef87=Math['floor'](_0x1e748e*_0x3e59b4),_0x2efba1=Math['floor'](_0x46c3d8*_0x3e59b4);(_0x5aef87!==this['canvas']['width']||_0x2efba1!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x5aef87,_0x2efba1);}['setResolut'+'ion'](_0x335f59,_0x3a7532){this['canvas']['width']=_0x335f59,this['canvas']['height']=_0x3a7532,this['fire'](Vh['EVENT_RESI'+'ZE'],_0x335f59,_0x3a7532);}['update'](){this['updateClie'+'ntRect']();}['updateClie'+'ntRect'](){if(Ae['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x27551b=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x27551b['width'],this['clientRect']['height']=_0x27551b['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x3e66fc){w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0x21a0+-0x1f67+-0x47*0x8);}set['maxPixelRa'+'tio'](_0x4003ed){this['_maxPixelR'+'atio']=_0x4003ed;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x48919e){}['endRenderP'+'ass'](_0x1dc1dc){}['startCompu'+'tePass'](_0x26ec1e){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=0x1*0x1ffb+-0x45a*-0x2+0x28af*-0x1,this['renderVers'+'ion']++,w['call'](()=>{if(mi['get'](Z0)){const _0x27a922=this['textures']['slice']();_0x27a922['sort']((_0x1cc984,_0x4837f8)=>_0x4837f8['gpuSize']-_0x1cc984['gpuSize']),w['log']('Textures:\x20'+_0x27a922['length']);let _0x576607=0x2505+-0x270e*0x1+-0x1*-0x209;_0x27a922['forEach']((_0x32724e,_0x1ab921)=>{const _0x43eac8=_0x32724e['gpuSize'];_0x576607+=_0x43eac8,w['log'](_0x1ab921+'.\x20'+_0x32724e['name']+'\x20'+_0x32724e['width']+'x'+_0x32724e['height']+'\x20VRAM:\x20'+(_0x43eac8/(0x1ad8+-0x6*-0x90+-0x1a38)/(-0x29*-0x8d+0x1*-0x2a7+-0xfee))['toFixed'](-0x9*0x434+0x1b80+0xa56)+'\x20MB');}),w['log']('Total:\x20'+(_0x576607/(-0x1c83*0x1+0x1024*0x1+0x105f)/(0x1*-0xa61+0x56d*0x2+0x387*0x1))['toFixed'](-0xf19+0x1b95+-0xc7a)+'MB');}});}['frameEnd'](){this['mapsToClea'+'r']['forEach'](_0x14ef41=>_0x14ef41['clear']()),this['mapsToClea'+'r']['clear']();}['computeDis'+'patch'](_0x5db15d,_0x45a814='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x117655=[In,nt,Xt],_0xf0134f=!(-0x8*-0x2a1+0x3*-0x122+0x1*-0x11a2),_0x183316=-0x3d1*-0x1+0xae+0x2e*-0x19){for(let _0x46a34a=0x12ed+-0xb*0x119+-0x6da;_0x46a34a<_0x117655['length'];_0x46a34a++){const _0x4b61d6=_0x117655[_0x46a34a];switch(_0x4b61d6){case In:{if(this['textureRG1'+'1B10Render'+'able'])return _0x4b61d6;break;}case nt:if(this['textureHal'+'fFloatRend'+'erable'])return _0x4b61d6;break;case Xt:if(this['isWebGPU']&&_0x183316>-0x13d+-0x1*0x21e+-0xac*-0x5)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0xf0134f||this['textureFlo'+'atFilterab'+'le']))return _0x4b61d6;break;}}}['validateAt'+'tributes'](_0x1ba4f2,_0x1b717a,_0x14e3f3){w['call'](()=>{ql['clear'](),_0x1b717a==null||_0x1b717a['elements']['forEach'](_0x4cc183=>ql['add'](Le[_0x4cc183['name']])),_0x14e3f3==null||_0x14e3f3['elements']['forEach'](_0x553980=>ql['add'](Le[_0x553980['name']]));for(const [_0x5cb5b4,_0x5d4636]of _0x1ba4f2['attributes'])ql['has'](_0x5cb5b4)||w['errorOnce']('Vertex\x20att'+'ribute\x20['+_0x5d4636+(']\x20at\x20locat'+'ion\x20')+_0x5cb5b4+('\x20required\x20'+'by\x20the\x20sha'+'der\x20is\x20not'+'\x20present\x20i'+'n\x20the\x20curr'+'ently\x20assi'+'gned\x20verte'+'x\x20buffers,'+'\x20while\x20ren'+'dering\x20[')+Q['toString']()+']',{'shader':_0x1ba4f2,'vb0Format':_0x1b717a,'vb1Format':_0x14e3f3});});}};h(Vh,'EVENT_RESI'+'ZE','resizecanv'+'as');let $e=Vh,DT=0x20ba+-0x2382+-0x2*-0x164;class gt{constructor(_0x5aba9f={}){h(this,'name'),h(this,'_device'),h(this,'_colorBuff'+'er'),h(this,'_colorBuff'+'ers'),h(this,'_depthBuff'+'er'),h(this,'_depth'),h(this,'_stencil'),h(this,'_samples'),h(this,'autoResolv'+'e'),h(this,'_face'),h(this,'_mipLevel'),h(this,'_mipmaps'),h(this,'flipY');var _0x58fff9,_0x34ad2c,_0xfd1ea6,_0xb2af73,_0x236e3c,_0x43201d;w['assert'](!(_0x5aba9f instanceof $e),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=DT++;const _0x1db6a0=((_0x58fff9=_0x5aba9f['colorBuffe'+'r'])==null?void(0x577*0x1+-0xba9+0x632):_0x58fff9['device'])??((_0x34ad2c=_0x5aba9f['colorBuffe'+'rs'])==null?void(0x550+-0x158d*-0x1+0x12b*-0x17):_0x34ad2c[-0x2*-0xd21+0x211*0x3+-0x2075]['device'])??((_0xfd1ea6=_0x5aba9f['depthBuffe'+'r'])==null?void(0x1dbc+-0xb*-0x133+0x63*-0x6f):_0xfd1ea6['device'])??_0x5aba9f['graphicsDe'+'vice'];w['assert'](_0x1db6a0,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x1db6a0;const {maxSamples:_0x4f53e9}=this['_device'];if(this['_samples']=Math['min'](_0x5aba9f['samples']??0xf1f+0xe7*-0x3+0x161*-0x9,_0x4f53e9),_0x1db6a0['isWebGPU']&&(this['_samples']=this['_samples']>0xc4d+0x100a*-0x1+0x3be?_0x4f53e9:-0x7*0x9b+0x1d*-0x12b+0x261d),this['_colorBuff'+'er']=_0x5aba9f['colorBuffe'+'r'],_0x5aba9f['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x5aba9f['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x5aba9f['depthBuffe'+'r'],this['_face']=_0x5aba9f['face']??-0x1ced+-0x1ea3*0x1+0x3b90,this['_depthBuff'+'er']){const _0x349ffd=this['_depthBuff'+'er']['_format'];_0x349ffd===$i||_0x349ffd===vn?(this['_depth']=!(-0x25bc+0x56*-0xb+0x296e),this['_stencil']=!(0x2405*-0x1+0x7*0x1f+0x5*0x709)):_0x349ffd===sd?(this['_depth']=!(0xda*0x8+0x3a3*-0x1+-0x32d),this['_stencil']=!(0x5ef+0x35*0x25+-0xd98)):_0x349ffd===Ji&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>0xad+0x1525*-0x1+0x1479*0x1?(this['_depth']=!(-0x1*0xcb6+-0x79*0x11+0x14bf),this['_stencil']=!(0x2634+-0x1f7+0x4*-0x90f)):(w['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(0x1885+0x83b*0x2+-0x28fa),this['_stencil']=!(-0x235*-0xd+0x387+0x2037*-0x1));}else this['_depth']=_0x5aba9f['depth']??!(0xd2a+-0xf23+-0x1f9*-0x1),this['_stencil']=_0x5aba9f['stencil']??!(0x1fce+-0x99b+-0x1632);_0x5aba9f['colorBuffe'+'rs']&&(w['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x5aba9f['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x5aba9f['colorBuffe'+'rs'][-0xd*0x177+0x3*0x6f7+0x3*-0x9e])),this['autoResolv'+'e']=_0x5aba9f['autoResolv'+'e']??!(-0x2339+-0x1cc0+-0x1553*-0x3),this['name']=_0x5aba9f['name'],this['name']||(this['name']=(_0xb2af73=this['_colorBuff'+'er'])==null?void(0x1*0x3d7+-0xb2b+0x754):_0xb2af73['name']),this['name']||(this['name']=(_0x236e3c=this['_depthBuff'+'er'])==null?void(-0xb36+-0x29*0x3+0xbb1):_0x236e3c['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x5aba9f['flipY']??!(0x1*0xaa9+-0xbea*-0x1+-0x1692),this['_mipLevel']=_0x5aba9f['mipLevel']??-0x1*-0x1904+0x1b42+-0x2*0x1a23,this['_mipLevel']>0x363+0x17ae+-0x1b11&&this['_depth']&&(w['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x5aba9f}),this['_mipLevel']=0x1*0xa36+-0x8*0x91+-0x5ae),this['_mipmaps']=_0x5aba9f['mipLevel']===void(-0xab6+-0x1247+0x1cfd),this['validateMr'+'t'](),this['impl']=_0x1db6a0['createRend'+'erTargetIm'+'pl'](this),w['trace'](Mm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x43201d=this['_colorBuff'+'ers'])!=null&&_0x43201d['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){w['trace'](Mm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x1ea3f3=this['_device'];_0x1ea3f3&&(_0x1ea3f3['targets']['delete'](this),_0x1ea3f3['renderTarg'+'et']===this&&_0x1ea3f3['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x3d8190=this['_device'];_0x3d8190&&this['impl']['destroy'](_0x3d8190);}['destroyTex'+'tureBuffer'+'s'](){var _0x37aa55,_0x37bf9a;(_0x37aa55=this['_depthBuff'+'er'])==null||_0x37aa55['destroy'](),this['_depthBuff'+'er']=null,(_0x37bf9a=this['_colorBuff'+'ers'])==null||_0x37bf9a['forEach'](_0x380fc8=>{_0x380fc8['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x5a7905,_0x223130){var _0x1c454d,_0x30f19b;if(this['width']!==_0x5a7905||this['height']!==_0x223130){if(this['mipLevel']>0x1*0x7b4+0x945+-0x365*0x5){w['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x4cbc5e=this['_device'];this['destroyFra'+'meBuffers'](),_0x4cbc5e['renderTarg'+'et']===this&&_0x4cbc5e['setRenderT'+'arget'](null),(_0x1c454d=this['_depthBuff'+'er'])==null||_0x1c454d['resize'](_0x5a7905,_0x223130),(_0x30f19b=this['_colorBuff'+'ers'])==null||_0x30f19b['forEach'](_0x5c461f=>{_0x5c461f['resize'](_0x5a7905,_0x223130);}),this['validateMr'+'t'](),this['impl']=_0x4cbc5e['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){w['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x4a71b3,height:_0x28f725,cubemap:_0x107979,volume:_0x1449aa}=this['_colorBuff'+'ers'][0xd80+-0x61e+-0x13b*0x6];for(let _0x338860=0xe27*-0x2+0x1b09+-0x1*-0x146;_0x338860<this['_colorBuff'+'ers']['length'];_0x338860++){const _0x38ac45=this['_colorBuff'+'ers'][_0x338860];w['assert'](_0x38ac45['width']===_0x4a71b3,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),w['assert'](_0x38ac45['height']===_0x28f725,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),w['assert'](_0x38ac45['cubemap']===_0x107979,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),w['assert'](_0x38ac45['volume']===_0x1449aa,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x1d8c0c=!(-0x8ed+-0x19*0x40+-0x6f*-0x23),_0x35748a=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>0x949+-0x3b*0x7f+-0x1*-0x13fd&&(Q['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x1d8c0c?'[color]':'')+':'+(_0x35748a?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x1d8c0c,_0x35748a),Q['popGpuMark'+'er'](this['_device']));}['copy'](_0x235322,_0x4624e7,_0x47ba8b){if(!this['_device']){if(_0x235322['_device'])this['_device']=_0x235322['_device'];else return w['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(0x779*-0x3+0x125b+0x411);}Q['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x235322['name']+'->'+this['name']);const _0x38b98b=this['_device']['copyRender'+'Target'](_0x235322,this,_0x4624e7,_0x47ba8b);return Q['popGpuMark'+'er'](this['_device']),_0x38b98b;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x5b718e){var _0x4cde3d;return(_0x4cde3d=this['_colorBuff'+'ers'])==null?void(0x2e*-0x2b+-0x1*0x815+0x39*0x47):_0x4cde3d[_0x5b718e];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x3a020e,_0x522e0c;let _0x29e828=((_0x3a020e=this['_colorBuff'+'er'])==null?void(0x24d*-0x9+-0x26e+0x1723):_0x3a020e['width'])||((_0x522e0c=this['_depthBuff'+'er'])==null?void(0x14*-0x1d0+-0x1c6*0xe+-0x4*-0xf45):_0x522e0c['width'])||this['_device']['width'];return this['_mipLevel']>0xc71+0x1d64+-0x29d5&&(_0x29e828=Xi['calcLevelD'+'imension'](_0x29e828,this['_mipLevel'])),_0x29e828;}get['height'](){var _0x5c0080,_0x3bab67;let _0x3ae5dd=((_0x5c0080=this['_colorBuff'+'er'])==null?void(-0x564+-0x245d+-0x29c1*-0x1):_0x5c0080['height'])||((_0x3bab67=this['_depthBuff'+'er'])==null?void(-0x232b+0x8*-0x1+0x2333):_0x3bab67['height'])||this['_device']['height'];return this['_mipLevel']>0x1*0x23a1+0x799+0xb*-0x3ee&&(_0x3ae5dd=Xi['calcLevelD'+'imension'](_0x3ae5dd,this['_mipLevel'])),_0x3ae5dd;}['isColorBuf'+'ferSrgb'](_0x19a828=0xd5b+-0x1937+0xbdc){if(this['device']['backBuffer']===this)return fh(this['device']['backBuffer'+'Format']);const _0xec8dee=this['getColorBu'+'ffer'](_0x19a828);return _0xec8dee?fh(_0xec8dee['format']):!(0x912+0x17b4+-0x20c5*0x1);}}const IT={'equals'(_0x2cbe14,_0x3c3196){if(_0x2cbe14['length']!==_0x3c3196['length'])return!(-0xa7*0x1a+0x1*-0x7f9+0x39*0x70);for(let _0xde8c75=0x301*0x7+-0x1*-0x2069+-0x3570;_0xde8c75<_0x2cbe14['length'];_0xde8c75++)if(_0x2cbe14[_0xde8c75]!==_0x3c3196[_0xde8c75])return!(-0x191b*0x1+0x9*0x1a7+0x1*0xa3d);return!(0x181e+-0x5*0x2d1+-0xa09);}};class wd{constructor(){h(this,'_refCount',-0x7a*0x34+-0x23e9+-0x143b*-0x3);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class LT extends wd{constructor(_0x3c3e11){super(),h(this,'object'),(this['object']=_0x3c3e11,this['incRefCoun'+'t']());}}class RT{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x294d93=>{var _0x2b3b7e;(_0x2b3b7e=_0x294d93['object'])==null||_0x2b3b7e['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x431f57){const _0x24624d=this['cache']['get'](_0x431f57);return _0x24624d?(_0x24624d['incRefCoun'+'t'](),_0x24624d['object']):null;}['set'](_0x6c7042,_0x4e5091){w['assert'](!this['cache']['has'](_0x6c7042),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x6c7042,'object':_0x4e5091}),this['cache']['set'](_0x6c7042,new LT(_0x4e5091));}['release'](_0x501e82){var _0x11c8c1;const _0x497043=this['cache']['get'](_0x501e82);_0x497043?(_0x497043['decRefCoun'+'t'](),_0x497043['refCount']===-0x1ad9+0x21c3+-0x6ea&&(this['cache']['delete'](_0x501e82),(_0x11c8c1=_0x497043['object'])==null||_0x11c8c1['destroy']())):w['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x501e82});}}class OT extends RT{['loseContex'+'t'](_0xd596da){this['clear']();}}const FT=new Kt(),Fd=_0x34d268=>FT['get'](_0x34d268,()=>new OT()),At=[];At[Xs]=0x9*-0xf+-0x973+0x9fb,At[ga]=-0x198c+0x21b6+-0x828,At[ds]=0x1dad+-0x25da+0x20c*0x4,At[Rn]=-0x26d0+-0x40f*0x2+0x2ef2,At[_a]=-0x1366+-0x595+0x18fc,At[ca]=0x71b*-0x5+0xbe5+0x1*0x17a4,At[ha]=-0xc7*0x8+0x511*-0x3+0xd3*0x1a,At[da]=0x1*-0x1dd7+0x14*-0x10e+0x1*0x32f3,At[Tn]=0x1968+-0x1a68+0x101,At[tl]=-0x1*0x4b8+-0x18c0+0x1d7a,At[sl]=-0x2130+-0x9fa*-0x1+0x1739,At[il]=-0x258e+-0x1*-0xf79+-0x1619*-0x1,At[_h]=0x2193+-0x10da+-0x10b1*0x1,At[On]=-0x2*0x259+0x162d+-0x116f,At[li]=-0x2034+0x8f9*-0x1+-0x1*-0x293d,At[Fn]=-0x1*-0x15b0+0xb11+0x83*-0x40,At[Nn]=-0x7ef+-0x16b0+0x1ea1,At[kn]=0x59*0x57+0x254e+-0x438a,At[Un]=0xfa5+-0x1dc9+0xe28;class dt{constructor(_0x11feb7,_0x31707a,_0x2de8f7=-0x17*0xe9+-0x1c1a+0x1*0x3109){h(this,'name'),h(this,'type'),h(this,'byteSize'),h(this,'offset'),h(this,'scopeId'),h(this,'count'),h(this,'numCompone'+'nts');if(this['shortName']=_0x11feb7,this['name']=_0x2de8f7?_0x11feb7+'[0]':_0x11feb7,this['type']=_0x31707a,this['numCompone'+'nts']=At[_0x31707a],w['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x31707a+'\x20used\x20for\x20'+_0x11feb7),this['updateType']=_0x31707a,_0x2de8f7>0xc*-0x202+-0x7*0xe7+-0xa23*-0x3)switch(_0x31707a){case Xs:this['updateType']=ud;break;case _a:this['updateType']=Bn;break;case Fn:this['updateType']=_d;break;case Tn:this['updateType']=gd;break;case ga:this['updateType']=pd;break;case ca:this['updateType']=zn;break;case Nn:this['updateType']=Sd;break;case tl:this['updateType']=yd;break;case ds:this['updateType']=md;break;case ha:this['updateType']=Vn;break;case kn:this['updateType']=vd;break;case sl:this['updateType']=xd;break;case Rn:this['updateType']=Lp;break;case da:this['updateType']=gh;break;case Un:this['updateType']=Rp;break;case il:this['updateType']=Op;break;case li:this['updateType']=wy;break;default:w['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+Ey[_0x31707a]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x11feb7+'\x27.'),w['call'](()=>{this['invalid']=!(0x9b4+-0x6*0x98+-0x624);});break;}this['count']=_0x2de8f7,w['assert'](!isNaN(_0x2de8f7),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x11feb7+'['+_0x2de8f7+']'),w['call'](()=>{isNaN(_0x2de8f7)&&(this['invalid']=!(-0x3*0x833+0x1*0x19b5+-0x11c));});let _0x679f72=this['numCompone'+'nts'];_0x2de8f7&&(_0x679f72=Y['roundUp'](_0x679f72,-0x3*0xb01+-0x1*0x175+0x2*0x113e)),this['byteSize']=_0x679f72*(0x1702+-0x14f9+0x205*-0x1),_0x2de8f7&&(this['byteSize']*=_0x2de8f7),w['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x31707a+'\x20used\x20for\x20'+_0x11feb7);}get['isArrayTyp'+'e'](){return this['count']>-0xc13+-0x2279+-0xf84*-0x3;}['calculateO'+'ffset'](_0x220f1e){let _0x3ffb07=this['byteSize']<=-0x1*-0xae9+0xbed+0x8b*-0x2a?this['byteSize']:0x228e+0x2*0xcc6+-0x3c0a;this['count']&&(_0x3ffb07=-0x219d+-0x35e*-0x7+0xa1b),_0x220f1e=Y['roundUp'](_0x220f1e,_0x3ffb07),this['offset']=_0x220f1e/(-0x376+-0x2304+0x267e);}}class zy{constructor(_0x3ef78c,_0x2d6a34){h(this,'byteSize',0x82+0x1c30+-0x2*0xe59),h(this,'map',new Map()),(this['scope']=_0x3ef78c['scope'],this['uniforms']=_0x2d6a34);let _0x59eb62=-0x1*-0x59b+-0xdc6+0x82b;for(let _0x376495=0x98e+0x871+-0x11ff;_0x376495<_0x2d6a34['length'];_0x376495++){const _0x1c66c2=_0x2d6a34[_0x376495];_0x1c66c2['calculateO'+'ffset'](_0x59eb62),_0x59eb62=_0x1c66c2['offset']*(0xfbd+-0x2262+0x12a9)+_0x1c66c2['byteSize'],_0x1c66c2['scopeId']=this['scope']['resolve'](_0x1c66c2['name']),this['map']['set'](_0x1c66c2['name'],_0x1c66c2);}this['byteSize']=Y['roundUp'](_0x59eb62,-0x2*-0x164+0xc*0x33d+-0xddc*0x3);}['get'](_0xd00205){return this['map']['get'](_0xd00205);}}const Lr='Preprocess'+'or',Fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,Nd=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,i_=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,kd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,Ud=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,Bd=/(endif|else|elif)(?:[ \t]+([^\r\n]*))?\r?\n?/g,r_=/\{?[\w-]+\}?/,NT=/(!|\s)?defined\(([\w-]+)\)/,kT=/!?defined\s*\([^)]*\)/g,UT=/!?defined\s*$/,BT=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,zT=/[+\-]/g,zd=/include[ \t]+"([\w-]+)(?:\s*,\s*([\w-]+))?"/g,VT=/\{i\}/g,a_=/(pcFragColor[1-8])\b/g,Lt=class Lt{static['run'](_0x1267ca,_0x3e91d7=new Map(),_0x10eba2={}){Lt['sourceName']=_0x10eba2['sourceName'],_0x1267ca=this['stripComme'+'nts'](_0x1267ca),_0x1267ca=_0x1267ca['split'](/\r?\n/)['map'](_0x183e52=>_0x183e52['trimEnd']())['join']('\x0a');const _0x25384a=new Map(),_0x51e158=new Map();if(_0x1267ca=this['_preproces'+'s'](_0x1267ca,_0x25384a,_0x51e158,_0x3e91d7,_0x10eba2['stripDefin'+'es']),_0x1267ca===null)return null;const _0x1f1823=new Map();return _0x25384a['forEach']((_0x57a53e,_0x79fc03)=>{Number['isInteger'](parseFloat(_0x57a53e))&&!_0x57a53e['includes']('.')&&_0x1f1823['set'](_0x79fc03,_0x57a53e);}),_0x1267ca=this['stripComme'+'nts'](_0x1267ca),_0x1267ca=this['stripUnuse'+'dColorAtta'+'chments'](_0x1267ca,_0x10eba2),_0x1267ca=this['RemoveEmpt'+'yLines'](_0x1267ca),_0x1267ca=this['processArr'+'aySize'](_0x1267ca,_0x1f1823),_0x1267ca=this['injectDefi'+'nes'](_0x1267ca,_0x51e158),_0x1267ca;}static['stripUnuse'+'dColorAtta'+'chments'](_0x292d23,_0x49c87b){if(_0x49c87b['stripUnuse'+'dColorAtta'+'chments']){const _0x3071d0=new Map(),_0x172ee2=_0x292d23['match'](a_);if(_0x172ee2==null||_0x172ee2['forEach'](_0x30a124=>{const _0x177036=parseInt(_0x30a124['charAt'](_0x30a124['length']-(-0x205a+-0x77f+0x27da*0x1)),0x64d*0x2+0xbe6*-0x1+-0xaa);_0x3071d0['set'](_0x177036,(_0x3071d0['get'](_0x177036)??-0x367*-0x4+-0x1c3f+0xea3)+(0x2e*0x97+-0xc63*-0x3+0x3*-0x156e));}),Array['from'](_0x3071d0['values']())['some'](_0x2be75a=>_0x2be75a===0xf3*-0xe+0x22db+-0x1590)){const _0x5a81e8=_0x292d23['split']('\x0a'),_0x2be8b0=[];for(let _0x3947f9=-0x16f*-0x3+-0x1385+0xf38;_0x3947f9<_0x5a81e8['length'];_0x3947f9++){const _0x5c3659=_0x5a81e8[_0x3947f9]['match'](a_);if(_0x5c3659){const _0x6549ff=parseInt(_0x5c3659[-0x837+-0x1ae7+-0x5*-0x706]['charAt'](_0x5c3659[-0x78+0x2475+-0x23fd]['length']-(0x2b5+-0x103*0x17+0x1491)),0x9*0x29f+-0x1d03+0x576);if(_0x6549ff>0x7*0x4b1+0x35*0x61+-0x34ec&&_0x3071d0['get'](_0x6549ff)===-0x2b3*-0xd+0x2609+0x1*-0x491f)continue;}_0x2be8b0['push'](_0x5a81e8[_0x3947f9]);}_0x292d23=_0x2be8b0['join']('\x0a');}}return _0x292d23;}static['stripComme'+'nts'](_0x52b73c){return _0x52b73c['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0xa99a37,_0x277abc){return _0xa99a37!==null&&_0x277abc['forEach']((_0x3b74a7,_0x23a61f)=>{_0xa99a37=_0xa99a37['replace'](new RegExp('\x5c['+_0x23a61f+'\x5c]','g'),'['+_0x3b74a7+']');}),_0xa99a37;}static['injectDefi'+'nes'](_0x44003e,_0x4de7df){if(_0x44003e!==null&&_0x4de7df['size']>-0x114*0x1+-0x5*-0x455+-0x1495){const _0x28efb7=_0x44003e['split']('\x0a');_0x4de7df['forEach']((_0x54d3b8,_0x44b4dc)=>{const _0x5cbbfc=new RegExp(_0x44b4dc,'g');for(let _0x30250b=-0xcb*-0x19+0x7ef+-0x26*0xbb;_0x30250b<_0x28efb7['length'];_0x30250b++)_0x28efb7[_0x30250b]['includes']('#')||(_0x28efb7[_0x30250b]=_0x28efb7[_0x30250b]['replace'](_0x5cbbfc,_0x54d3b8));}),_0x44003e=_0x28efb7['join']('\x0a');}return _0x44003e;}static['RemoveEmpt'+'yLines'](_0x394906){return _0x394906!==null&&(_0x394906=_0x394906['split'](/\r?\n/)['map'](_0xf43ec2=>_0xf43ec2['trim']()===''?'':_0xf43ec2)['join']('\x0a'),_0x394906=_0x394906['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x394906;}static['_preproces'+'s'](_0x472e14,_0x68166=new Map(),_0x52ccd2,_0x16f7aa,_0x5c6043){var _0x5949b9;const _0x2834fe=_0x472e14,_0x246fa7=[];let _0x519aca=!(-0x162*0xc+-0xa18+-0x1*-0x1ab1),_0x5a4b0c;for(;(_0x5a4b0c=Fs['exec'](_0x472e14))!==null&&!_0x519aca;){const _0x1af54e=_0x5a4b0c[-0x1af8+0xda6+0x471*0x3];switch(_0x1af54e){case'define':{Nd['lastIndex']=_0x5a4b0c['index'];const _0x48eea5=Nd['exec'](_0x472e14);w['assert'](_0x48eea5,'Invalid\x20['+_0x1af54e+']:\x20'+_0x472e14['substring'](_0x5a4b0c['index'],_0x5a4b0c['index']+(-0xeb*-0x25+-0x13ed+-0xda6))+'...'),_0x519aca||(_0x519aca=_0x48eea5===null);const _0x1493fe=_0x48eea5[-0x14d0+0x2*0xcbb+-0x4a5];r_['lastIndex']=_0x48eea5['index'];const _0xcc98b2=r_['exec'](_0x1493fe)[0x21d4+0x12d7+-0x34ab];let _0xf95612=_0x1493fe['substring'](_0xcc98b2['length'])['trim']();_0xf95612===''&&(_0xf95612='true');const _0x243e19=Lt['_keep'](_0x246fa7);let _0x514307=_0x5c6043;if(_0x243e19){const _0x308481=_0xcc98b2['startsWith']('{')&&_0xcc98b2['endsWith']('}');_0x308481&&(_0x514307=!(-0xe8f*-0x1+0x5*-0x5ad+-0x7a*-0x1d)),_0x308481?_0x52ccd2['set'](_0xcc98b2,_0xf95612):_0x68166['set'](_0xcc98b2,_0xf95612),_0x514307&&(_0x472e14=_0x472e14['substring'](-0x1*-0x11c0+0x1cf6+-0x2eb6,_0x48eea5['index']-(-0x15cb+-0x147*0x2+-0x2*-0xc2d))+_0x472e14['substring'](Nd['lastIndex']),Fs['lastIndex']=_0x48eea5['index']-(-0xb99*-0x1+-0x5*0x7c7+0x1b4b*0x1));}w['trace'](Lr,_0x1af54e+':\x20['+_0xcc98b2+']\x20'+_0xf95612+'\x20'+(_0x243e19?'':'IGNORED')),_0x514307||(Fs['lastIndex']=_0x48eea5['index']+_0x48eea5[-0xb*0x18d+-0xb3+0x1*0x11c2]['length']);break;}case'undef':{kd['lastIndex']=_0x5a4b0c['index'];const _0x5aac87=kd['exec'](_0x472e14),_0x2c7d9f=_0x5aac87[0x155f*0x1+-0x61*-0x25+0x2363*-0x1]['trim'](),_0x246c27=Lt['_keep'](_0x246fa7);_0x246c27&&(_0x68166['delete'](_0x2c7d9f),_0x5c6043&&(_0x472e14=_0x472e14['substring'](0x1*-0x1dec+-0x439+-0x2225*-0x1,_0x5aac87['index']-(0x1319+0x201e*-0x1+0x2*0x683))+_0x472e14['substring'](kd['lastIndex']),Fs['lastIndex']=_0x5aac87['index']-(0x1155+-0x17b5+0x1*0x661))),w['trace'](Lr,_0x1af54e+':\x20['+_0x2c7d9f+']\x20'+(_0x246c27?'':'IGNORED')),_0x5c6043||(Fs['lastIndex']=_0x5aac87['index']+_0x5aac87[-0x20e5+0x10bd+0x1028]['length']);break;}case'extension':{i_['lastIndex']=_0x5a4b0c['index'];const _0x2ac1b0=i_['exec'](_0x472e14);if(w['assert'](_0x2ac1b0,'Invalid\x20['+_0x1af54e+']:\x20'+_0x472e14['substring'](_0x5a4b0c['index'],_0x5a4b0c['index']+(-0x21dd+-0x5e1+-0xb*-0x3a6))+'...'),_0x519aca||(_0x519aca=_0x2ac1b0===null),_0x2ac1b0){const _0x272c1f=_0x2ac1b0[0x855*0x2+-0x87+-0x76*0x23],_0x4e0276=Lt['_keep'](_0x246fa7);_0x4e0276&&_0x68166['set'](_0x272c1f,'true'),w['trace'](Lr,_0x1af54e+':\x20['+_0x272c1f+']\x20'+(_0x4e0276?'':'IGNORED'));}Fs['lastIndex']=_0x2ac1b0['index']+_0x2ac1b0[-0x1*-0x189b+0xf4*-0x12+-0x773*0x1]['length'];break;}case'ifdef':case'ifndef':case'if':{Ud['lastIndex']=_0x5a4b0c['index'];const _0x1e1ce9=Ud['exec'](_0x472e14),_0x11d4df=_0x1e1ce9[0x1*-0x144d+0x47c*-0x1+0x18cb*0x1],_0x1eba69=Lt['evaluate'](_0x11d4df,_0x68166);_0x519aca||(_0x519aca=_0x1eba69['error']);let _0x3641b6=_0x1eba69['result'];_0x1af54e==='ifndef'&&(_0x3641b6=!_0x3641b6),_0x246fa7['push']({'anyKeep':_0x3641b6,'keep':_0x3641b6,'start':_0x5a4b0c['index'],'end':Ud['lastIndex']}),w['trace'](Lr,_0x1af54e+':\x20['+_0x11d4df+']\x20=>\x20'+_0x3641b6),Fs['lastIndex']=_0x1e1ce9['index']+_0x1e1ce9[-0x22e+-0x452+0x680*0x1]['length'];break;}case'endif':case'else':case'elif':{Bd['lastIndex']=_0x5a4b0c['index'];const _0x5c4990=Bd['exec'](_0x472e14),_0x178001=_0x246fa7['pop']();if(!_0x178001){console['error']('Shader\x20pre'+'processing'+'\x20encounter'+'ed\x20\x22#'+_0x5c4990[-0x2431*-0x1+0x19*0x8b+-0x1*0x31c3]+('\x22\x20without\x20'+'a\x20precedin'+'g\x20#if\x20#ifd'+'ef\x20#ifndef'+'\x20while\x20pre'+'processing'+'\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x472e14['substring'](_0x5a4b0c['index'],_0x5a4b0c['index']+(0xd1a+-0x1c92*-0x1+0x2*-0x14a4))+'...',{'source':_0x2834fe}),_0x519aca=!(0x20dd+0x10b7+-0x26*0x14e);continue;}const _0x378ca4=_0x178001['keep']?_0x472e14['substring'](_0x178001['end'],_0x5a4b0c['index']):'';w['trace'](Lr,_0x1af54e+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x378ca4!=='')),_0x472e14=_0x472e14['substring'](0x270c+0x593+-0x2c9f,_0x178001['start'])+_0x378ca4+_0x472e14['substring'](Bd['lastIndex']),Fs['lastIndex']=_0x178001['start']+_0x378ca4['length'];const _0x3bf188=_0x5c4990[0x269b+0x1571*0x1+-0x3c0b];if(_0x3bf188==='else'||_0x3bf188==='elif'){let _0x3396a5=!(0x55*-0x2f+-0x1ca4+0x2c40);if(!_0x178001['anyKeep']){if(_0x3bf188==='else')_0x3396a5=!_0x178001['keep'];else{const _0xb01505=Lt['evaluate'](_0x5c4990[0x1b6+0x1*0x107e+0x112*-0x11],_0x68166);_0x3396a5=_0xb01505['result'],_0x519aca||(_0x519aca=_0xb01505['error']);}}_0x246fa7['push']({'anyKeep':_0x178001['anyKeep']||_0x3396a5,'keep':_0x3396a5,'start':Fs['lastIndex'],'end':Fs['lastIndex']}),w['trace'](Lr,_0x1af54e+':\x20['+_0x5c4990[-0x1*0x1a1b+0x10b+0x1912]+']\x20=>\x20'+_0x3396a5);}break;}case'include':{zd['lastIndex']=_0x5a4b0c['index'];const _0x28edc5=zd['exec'](_0x472e14);if(_0x519aca||(_0x519aca=_0x28edc5===null),!_0x28edc5){w['assert'](_0x28edc5,'Invalid\x20['+_0x1af54e+(']\x20while\x20pr'+'eprocessin'+'g\x20')+Lt['sourceName']+':\x0a'+_0x472e14['substring'](_0x5a4b0c['index'],_0x5a4b0c['index']+(-0x2*-0x2d4+0x971+-0xeb5))+'...'),_0x519aca=!(0x871*-0x1+0x1024+0xdb*-0x9);continue;}const _0x1a77b6=_0x28edc5[0x1943+0x736*0x3+-0x2ee4]['trim'](),_0xb7f702=(_0x5949b9=_0x28edc5[-0x72b+-0x12ea*-0x1+0x5*-0x259])==null?void(0x2496+-0x1*0x7cd+0x1*-0x1cc9):_0x5949b9['trim'](),_0x21c147=Lt['_keep'](_0x246fa7);if(_0x21c147){let _0x179e66=_0x16f7aa==null?void(-0x78d*-0x2+-0x4*0x19d+-0x8a6):_0x16f7aa['get'](_0x1a77b6);if(_0x179e66!==void(-0x1f72+-0xf0b+0x1*0x2e7d)){if(_0x179e66=this['stripComme'+'nts'](_0x179e66),_0xb7f702){const _0x4ea0f6=_0x68166['get'](_0xb7f702),_0x4c5f73=parseFloat(_0x4ea0f6);if(Number['isInteger'](_0x4c5f73)){let _0x5a1df9='';for(let _0x273b18=0x1551+0x1b62+-0x6f5*0x7;_0x273b18<_0x4c5f73;_0x273b18++)_0x5a1df9+=_0x179e66['replace'](VT,String(_0x273b18));_0x179e66=_0x5a1df9;}else console['error']('Include\x20Co'+'unt\x20identi'+'fier\x20\x22'+_0xb7f702+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x472e14['substring'](_0x5a4b0c['index'],_0x5a4b0c['index']+(-0x2f*-0x5e+0xb2b*-0x1+-0x1*0x5b3))+'...',{'originalSource':_0x2834fe,'source':_0x472e14}),_0x519aca=!(-0x1ae3+-0x1f1e+-0x1f*-0x1df);}_0x472e14=_0x472e14['substring'](0x16b5+0x1e3e+-0x1*0x34f3,_0x28edc5['index']-(-0x12cd*0x1+-0x9f*-0x3b+-0x11d7))+_0x179e66+_0x472e14['substring'](zd['lastIndex']),Fs['lastIndex']=_0x28edc5['index']-(0x4*-0x23+0x19c1*0x1+0xc9a*-0x2);}else{console['error']('Include\x20\x22'+_0x1a77b6+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName'],{'originalSource':_0x2834fe,'source':_0x472e14}),_0x519aca=!(-0x2bd*-0xe+-0x1e6b+-0x1*0x7eb);continue;}}w['trace'](Lr,_0x1af54e+':\x20['+_0x1a77b6+']\x20'+(_0x21c147?'':'IGNORED'));break;}}}return _0x246fa7['length']>0x51f+-0x799*0x1+-0x2*-0x13d&&(console['error']('Shader\x20pre'+'processing'+'\x20reached\x20t'+'he\x20end\x20of\x20'+'the\x20file\x20w'+'ithout\x20enc'+'ountering\x20'+'the\x20necess'+'ary\x20#endif'+'\x20to\x20close\x20'+'a\x20precedin'+'g\x20#if,\x20#if'+'def,\x20or\x20#i'+'fndef\x20bloc'+'k.\x20'+Lt['sourceName']),_0x519aca=!(0x467+-0x17db+0x3c*0x53)),_0x519aca?(console['error']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x2834fe}),null):_0x472e14;}static['_keep'](_0xc7de86){for(let _0x2fe7dd=0x4cd+0x1457+-0x1924;_0x2fe7dd<_0xc7de86['length'];_0x2fe7dd++)if(!_0xc7de86[_0x2fe7dd]['keep'])return!(-0x5*-0xc4+-0x1895+-0x14c2*-0x1);return!(-0x239*0xf+-0x1*0x20a4+0x41fb);}static['evaluateAt'+'omicExpres'+'sion'](_0x12583e,_0xf67d43){let _0x49a85a=!(-0x24f6+-0xf49+0x3440);_0x12583e=_0x12583e['trim']();let _0x97f86c=!(-0x6*0xf4+-0xc1b+0x8ea*0x2);if(_0x12583e==='true')return{'result':!(0xfe2+-0x1c92+0xcb0),'error':_0x49a85a};if(_0x12583e==='false')return{'result':!(-0x550+0x1676+0xe7*-0x13),'error':_0x49a85a};const _0x3609e2=NT['exec'](_0x12583e);if(_0x3609e2){_0x97f86c=_0x3609e2[-0x1b53+-0x16f7*0x1+0x324b]==='!',_0x12583e=_0x3609e2[-0x21f9+-0x2433+0x462e]['trim']();const _0x2dfbbd=_0xf67d43['has'](_0x12583e);return{'result':_0x97f86c?!_0x2dfbbd:_0x2dfbbd,'error':_0x49a85a};}const _0x125b16=BT['exec'](_0x12583e);if(_0x125b16){const _0x70949c=_0xf67d43['get'](_0x125b16[0x205*0x2+0x1f*0x127+-0x27c2]['trim']())??_0x125b16[-0x7a8+-0x7a*0x3+-0x1*-0x917]['trim'](),_0x4c733a=_0xf67d43['get'](_0x125b16[-0x11*0x169+0x4*0x71f+-0x480]['trim']())??_0x125b16[0x22a5+0x255b*0x1+0x47fd*-0x1]['trim'](),_0x32800a=_0x125b16[-0x138a+-0x83+0x1*0x140f]['trim']();let _0x45fbba=!(0x2*-0xef2+-0x70a+-0x1*-0x24ef);switch(_0x32800a){case'==':_0x45fbba=_0x70949c===_0x4c733a;break;case'!=':_0x45fbba=_0x70949c!==_0x4c733a;break;case'<':_0x45fbba=_0x70949c<_0x4c733a;break;case'<=':_0x45fbba=_0x70949c<=_0x4c733a;break;case'>':_0x45fbba=_0x70949c>_0x4c733a;break;case'>=':_0x45fbba=_0x70949c>=_0x4c733a;break;default:_0x49a85a=!(0x1*-0x123b+0x1*0x1bf4+-0x1*0x9b9);}return{'result':_0x45fbba,'error':_0x49a85a};}return{'result':_0xf67d43['has'](_0x12583e),'error':_0x49a85a};}static['processPar'+'entheses'](_0x1d9d5e,_0x1036a8){let _0x37c8a1=!(-0x1c20+-0xb*0x31+0x1e3c),_0x7c54f0=_0x1d9d5e['trim']();for(;_0x7c54f0['startsWith']('(')&&_0x7c54f0['endsWith'](')');){let _0x155672=0x65*-0x1+-0xd7*-0x2+0x7*-0x2f,_0x45d348=!(0x25e7+-0x1*0xee4+0x2b*-0x89);for(let _0x27279e=0x1*-0x5fe+-0x38b+-0x989*-0x1;_0x27279e<_0x7c54f0['length']-(-0xf2*-0x8+0x2f*0x89+-0x4f*0x6a);_0x27279e++)if(_0x7c54f0[_0x27279e]==='(')_0x155672++;else{if(_0x7c54f0[_0x27279e]===')'&&(_0x155672--,_0x155672===-0x2143+0xfcb*0x1+0x8bc*0x2)){_0x45d348=!(-0x5c*-0x48+0x1e30+0x7f*-0x71);break;}}if(_0x45d348)_0x7c54f0=_0x7c54f0['slice'](-0x1fa3+-0x2*-0x10bb+-0x1d2,-(0x23c4*-0x1+-0x1*-0x9aa+0x1a1b))['trim']();else break;}for(;;){let _0x369ca8=!(-0x1732+0xb69*-0x3+0x396e),_0x29b043=0x6d9+-0x24ed*0x1+0x1e14,_0x438c6b=0x21fd*0x1+-0x4*-0x91a+-0x4665,_0x44fe56=-(0x7*0x316+0x6d5*0x5+-0x37c2),_0x2fd6ac=-(0x208b+-0x1*-0xcfe+0x5e*-0x7c),_0x3895a2=-0xb*-0x359+0xec5+-0x3398;for(let _0x257851=0x15d*-0xe+0x49*0x54+-0x4de*0x1;_0x257851<_0x7c54f0['length'];_0x257851++)if(_0x7c54f0[_0x257851]==='('){const _0x3e5982=_0x7c54f0['substring'](0x1373+-0xa8+-0x12cb,_0x257851);UT['test'](_0x3e5982)?_0x3895a2++:_0x3895a2===-0x31b*-0x6+0x2674+-0x2*0x1c8b&&(_0x29b043++,_0x29b043>_0x438c6b&&(_0x438c6b=_0x29b043,_0x44fe56=_0x257851),_0x369ca8=!(0x1163*-0x1+-0x59*-0x56+-0xc83));}else _0x7c54f0[_0x257851]===')'&&(_0x3895a2>0x289+0x5*0x5e5+-0x2002?_0x3895a2--:_0x29b043>0x23aa+0x1*-0x5a6+-0x11*0x1c4&&(_0x29b043===_0x438c6b&&_0x44fe56!==-(-0x2*0x1e8+-0x1e*0x76+0x1*0x11a5)&&(_0x2fd6ac=_0x257851),_0x29b043--));if(!_0x369ca8||_0x44fe56===-(-0x148b+-0x1629+-0x1d*-0x179)||_0x2fd6ac===-(0x3*-0x448+-0x1aa0+0x2779))break;const _0x335781=_0x7c54f0['substring'](_0x44fe56+(0x1907+-0x1b13+0x20d),_0x2fd6ac),{result:_0x3671d3,error:_0x13d8e6}=Lt['evaluate'](_0x335781,_0x1036a8);_0x37c8a1=_0x37c8a1||_0x13d8e6,_0x7c54f0=_0x7c54f0['substring'](-0x18e*-0x11+0x1*0x1d21+-0x378f,_0x44fe56)+(_0x3671d3?'true':'false')+_0x7c54f0['substring'](_0x2fd6ac+(-0x2*0xb6f+-0x1463+-0x31*-0xe2));}return{'expression':_0x7c54f0,'error':_0x37c8a1};}static['evaluate'](_0x245999,_0x11a087){const _0x4f86b1=zT['exec'](_0x245999)===null;w['assert'](_0x4f86b1,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x245999);let _0xa367ce=_0x245999,_0x58e814=!(-0xb0*-0x2+0x223*0x11+-0x25b2);if(_0x245999['replace'](kT,'')['indexOf']('(')!==-(-0x1b9d*0x1+-0x1c41+0x37df)){const _0x247895=Lt['processPar'+'entheses'](_0x245999,_0x11a087);_0xa367ce=_0x247895['expression'],_0x58e814=_0x247895['error'];}if(_0x58e814)return w['log']('Parenthesi'+'s\x20parsing\x20'+'error\x20in\x20e'+'xpression:'+'\x20\x22'+_0x245999+'\x22'),{'result':!(0x21dd+-0x1c56+0xe*-0x65),'error':!(-0x1*-0x97a+0x1d3*0x3+0x2b*-0x59)};const _0x2ec383=_0xa367ce['split']('||');for(const _0x1b9785 of _0x2ec383){const _0x3a9c85=_0x1b9785['split']('&&');let _0x2a1f78=!(0x1a69+-0x14a2+-0x5c7);for(const _0x22ad7d of _0x3a9c85){const {result:_0x7d2315,error:_0x54eb3f}=Lt['evaluateAt'+'omicExpres'+'sion'](_0x22ad7d['trim'](),_0x11a087);if(!_0x7d2315||_0x54eb3f){_0x2a1f78=!(0x1b0e+0x1163*0x1+-0x2c70);break;}}if(_0x2a1f78)return{'result':!(-0x10aa+-0x104+0x11ae),'error':!_0x4f86b1};}return{'result':!(-0x11e6*0x1+-0x1*0x13bb+0x25a2*0x1),'error':!_0x4f86b1};}};h(Lt,'sourceName');let ko=Lt;const Vy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pcFragCo'+'lor0;\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_1\x0a'+'layout(loc'+'ation\x20=\x201)'+'\x20out\x20highp'+'\x20outType_1'+'\x20pcFragCol'+'or1;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_2\x0alayo'+'ut(locatio'+'n\x20=\x202)\x20out'+'\x20highp\x20out'+'Type_2\x20pcF'+'ragColor2;'+'\x0a#endif\x0a\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'3\x0alayout(l'+'ocation\x20=\x20'+'3)\x20out\x20hig'+'hp\x20outType'+'_3\x20pcFragC'+'olor3;\x0a#en'+'dif\x0a\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'cFragColor'+'4;\x0a#endif\x0a'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_5\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0a#'+'endif\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_6\x0a'+'layout(loc'+'ation\x20=\x206)'+'\x20out\x20highp'+'\x20outType_6'+'\x20pcFragCol'+'or6;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_7\x0alayo'+'ut(locatio'+'n\x20=\x207)\x20out'+'\x20highp\x20out'+'Type_7\x20pcF'+'ragColor7;'+'\x0a#endif\x0a\x0a#'+'define\x20gl_'+'FragColor\x20'+'pcFragColo'+'r0\x0a\x0a#defin'+'e\x20varying\x20'+'in\x0a\x0a#defin'+'e\x20texture2'+'D\x20texture\x0a'+'#define\x20te'+'xture2DBia'+'s\x20texture\x0a'+'#define\x20te'+'xtureCube\x20'+'texture\x0a#d'+'efine\x20text'+'ure2DProj\x20'+'texturePro'+'j\x0a#define\x20'+'texture2DL'+'od\x20texture'+'Lod\x0a#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a#defin'+'e\x20textureC'+'ubeLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+('ure2DGrad\x20'+'textureGra'+'d\x0a#define\x20'+'texture2DP'+'rojGrad\x20te'+'xtureProjG'+'rad\x0a#defin'+'e\x20textureC'+'ubeGrad\x20te'+'xtureGrad\x0a'+'#define\x20ut'+'exture2D\x20t'+'exture\x0a#de'+'fine\x20itext'+'ure2D\x20text'+'ure\x0a\x0a//\x20de'+'precated\x20d'+'efines\x0a#de'+'fine\x20textu'+'re2DLodEXT'+'\x20texture2D'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DProjLodE'+'XT\x20texture'+'2DProjLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DP'+'rojLod\x0a#de'+'fine\x20textu'+'reCubeLodE'+'XT\x20texture'+'CubeLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeL'+'od_instead'+'\x0a#define\x20t'+'exture2DGr'+'adEXT\x20text'+'ure2DGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DG'+'rad_instea'+'d\x0a#define\x20'+'texture2DP'+'rojGradEXT'+'\x20texture2D'+'ProjGradEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DPr'+'ojGrad_ins'+'tead\x0a#defi'+'ne\x20texture'+'CubeGradEX'+'T\x20textureC'+'ubeGradEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeG'+'rad_instea'+'d\x0a\x0a//\x20samp'+'le\x20shadows'+'\x20using\x20tex'+'tureGrad\x20t'+'o\x20remove\x20d'+'erivatives'+'\x20in\x20the\x20dy'+'namic\x20loop'+'s\x20(which\x20a'+'re\x20used\x20by'+'\x0a//\x20cluste'+'red\x20lighti'+'ng)\x20-\x20as\x20D'+'irectX\x20sha'+'der\x20compil'+'er\x20tries\x20t'+'o\x20unroll\x20t'+'he\x20loops\x20a'+'nd\x20takes\x20l'+'ong\x20time\x0a/'+'/\x20to\x20compi'+'le\x20the\x20sha'+'der.\x20Using'+'\x20textureLo'+'d\x20would\x20be'+'\x20even\x20bett')+('er,\x20but\x20We'+'bGl\x20does\x20n'+'ot\x20transla'+'te\x20it\x20to\x0a/'+'/\x20lod\x20inst'+'ruction\x20fo'+'r\x20DirectX\x20'+'correctly\x20'+'and\x20uses\x20S'+'ampleCmp\x20i'+'nstead\x20of\x20'+'SampleCmpL'+'evelZero\x20o'+'r\x20similar.'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureG'+'rad(res,\x20u'+'v,\x20vec2(1,'+'\x201),\x20vec2('+'1,\x201))\x0a\x0a//'+'\x20pass\x20/\x20ac'+'cept\x20shado'+'w\x20map\x20or\x20t'+'exture\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20on\x20webgl'+'\x20this\x20is\x20s'+'imply\x20pass'+'ed\x20as\x20is\x0a/'+'/\x20but\x20this'+'\x20is\x20needed'+'\x20for\x20WebGP'+'U\x0a#define\x20'+'SHADOWMAP_'+'PASS(name)'+'\x20name\x0a#def'+'ine\x20SHADOW'+'MAP_ACCEPT'+'(name)\x20sam'+'pler2DShad'+'ow\x20name\x0a#d'+'efine\x20TEXT'+'URE_PASS(n'+'ame)\x20name\x0a'+'#define\x20TE'+'XTURE_ACCE'+'PT(name)\x20s'+'ampler2D\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP(name)\x20h'+'ighp\x20sampl'+'er2D\x20name\x0a'+'\x0a#define\x20G'+'L2\x0a'),Gy='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',Hy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pcFragColo'+'r0;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pcFra'+'gColor1;\x0al'+'ayout(loca'+'tion\x20=\x202)\x20'+'out\x20highp\x20'+'outType_2\x20'+'pcFragColo'+'r2;\x0alayout'+'(location\x20'+'=\x203)\x20out\x20h'+'ighp\x20outTy'+'pe_3\x20pcFra'+'gColor3;\x0al'+'ayout(loca'+'tion\x20=\x204)\x20'+'out\x20highp\x20'+'outType_4\x20'+'pcFragColo'+'r4;\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0al'+'ayout(loca'+'tion\x20=\x206)\x20'+'out\x20highp\x20'+'outType_6\x20'+'pcFragColo'+'r6;\x0alayout'+'(location\x20'+'=\x207)\x20out\x20h'+'ighp\x20outTy'+'pe_7\x20pcFra'+'gColor7;\x0a\x0a'+'#define\x20gl'+'_FragColor'+'\x20pcFragCol'+'or0\x0a\x0a#defi'+'ne\x20texture'+'2D(res,\x20uv'+')\x20texture('+'sampler2D('+('res,\x20res\x20#'+'#\x20_sampler'+'),\x20uv)\x0a#de'+'fine\x20textu'+'re2DBias(r'+'es,\x20uv,\x20bi'+'as)\x20textur'+'e(sampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv,\x20b'+'ias)\x0a#defi'+'ne\x20texture'+'2DLod(res,'+'\x20uv,\x20lod)\x20'+'textureLod'+'(sampler2D'+'(res,\x20res\x20'+'##\x20_sample'+'r),\x20uv,\x20lo'+'d)\x0a#define'+'\x20textureCu'+'be(res,\x20uv'+')\x20texture('+'samplerCub'+'e(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a#'+'define\x20tex'+'tureCubeLo'+'d(res,\x20uv,'+'\x20lod)\x20text'+'ureLod(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20lod)'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureL'+'od(sampler'+'2DShadow(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x200.0)'+'\x0a#define\x20i'+'texture2D('+'res,\x20uv)\x20t'+'exture(isa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv)\x0a#defi'+'ne\x20utextur'+'e2D(res,\x20u'+'v)\x20texture'+'(usampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a\x0a'+'//\x20depreca'+'ted\x20define'+'s\x0a#define\x20'+'texture2DL'+'odEXT\x20text'+'ure2DLodEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DLo'+'d_instead\x0a'+'#define\x20te'+'xture2DPro'+'jLodEXT\x20te'+'xture2DPro'+'jLodEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DProjLo'+'d\x0a#define\x20'+'textureCub'+'eLodEXT\x20te'+'xtureCubeL'+'odEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeLod_in'+'stead\x0a#def'+'ine\x20textur'+'e2DGradEXT'+'\x20texture2D'+'GradEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DGrad_i'+'nstead\x0a#de')+('fine\x20textu'+'re2DProjGr'+'adEXT\x20text'+'ure2DProjG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjGra'+'d_instead\x0a'+'#define\x20te'+'xtureCubeG'+'radEXT\x20tex'+'tureCubeGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeGrad_i'+'nstead\x0a\x0a//'+'\x20TODO:\x20imp'+'lement\x20oth'+'er\x20texture'+'\x20sampling\x20'+'macros\x0a//\x20'+'#define\x20te'+'xture2DPro'+'j\x20textureP'+'roj\x0a//\x20#de'+'fine\x20textu'+'re2DProjLo'+'d\x20textureP'+'rojLod\x0a//\x20'+'#define\x20te'+'xture2DGra'+'d\x20textureG'+'rad\x0a//\x20#de'+'fine\x20textu'+'re2DProjGr'+'ad\x20texture'+'ProjGrad\x0a/'+'/\x20#define\x20'+'textureCub'+'eGrad\x20text'+'ureGrad\x0a\x0a/'+'/\x20pass\x20/\x20a'+'ccept\x20shad'+'ow\x20map\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20passes\x20b'+'oth\x20the\x20te'+'xture\x20as\x20w'+'ell\x20as\x20sam'+'pler\x0a//\x20as'+'\x20the\x20combi'+'ned\x20sample'+'r\x20can\x20be\x20o'+'nly\x20create'+'d\x20at\x20a\x20poi'+'nt\x20of\x20use\x0a'+'#define\x20SH'+'ADOWMAP_PA'+'SS(name)\x20n'+'ame,\x20name\x20'+'##\x20_sample'+'r\x0a#define\x20'+'SHADOWMAP_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'PASS(name)'+'\x20name,\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP\x20TEXTURE'+'_ACCEPT\x0a\x0a#'+'define\x20GL2'+'\x0a#define\x20W'+'EBGPU\x0a'),Wy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',$y='\x0a',Xy='\x0a#define\x20V'+'ERTEXSHADE'+'R\x0a',n_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',o_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20fo'+'r\x20sampling'+'\x20scene\x20gra'+'b\x20textures'+'\x0afn\x20getGra'+'bScreenPos'+'(clipPos:\x20'+'vec4<f32>)'+'\x20->\x20vec2<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'var\x20uv:\x20ve'+'c2<f32>\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x20vec2<f3'+'2>(0.5);\x0a\x20'+'\x20\x20\x20uv.y\x20=\x20'+'1.0\x20-\x20uv.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'//\x20convert'+'\x20uv\x20coordi'+'nates\x20to\x20s'+'ample\x20imag'+'e\x20effect\x20t'+'exture\x20(re'+'nder\x20targe'+'t\x20texture\x20'+'rendered\x20w'+'ithout\x0a//\x20'+'forward\x20re'+'nderer\x20whi'+'ch\x20does\x20th'+'e\x20flip\x20in\x20'+'the\x20projec'+'tion\x20matri'+'x)\x0afn\x20getI'+'mageEffect'+'UV(uv:\x20vec'+'2<f32>)\x20->'+'\x20vec2<f32>'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20modifiedU'+'V:\x20vec2<f3'+'2>\x20=\x20uv;\x0a\x20'+'\x20\x20\x20modifie'+'dUV.y\x20=\x201.'+'0\x20-\x20modifi'+'edUV.y;\x0a\x20\x20'+'\x20\x20return\x20m'+'odifiedUV;'+'\x0a}\x0a\x0a//\x20typ'+'es\x20wrapped'+'\x20in\x20size\x20a'+'ligned\x20str'+'uctures\x20to'+'\x20ensure\x20co'+'rrect\x20alig'+'nment\x20in\x20u'+'niform\x20buf'+'fer\x20arrays'+'\x0astruct\x20Wr'+'appedF32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'f32\x20}\x0astru'+'ct\x20Wrapped'+'I32\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20i32\x20}'+'\x0astruct\x20Wr'+'appedU32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'u32\x20}\x0astru'+'ct\x20Wrapped'+'Vec2F\x20{\x20@s'+'ize(16)\x20el'+'ement:\x20vec'+'2f\x20}\x0astruc'+'t\x20WrappedV'+'ec2I\x20{\x20@si'+'ze(16)\x20ele'+'ment:\x20vec2'+'i\x20}\x0astruct'+'\x20WrappedVe'+'c2U\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20vec2u'+'\x20}\x0a',GT={'vertex_position':Me,'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_texCoord2':wl,'vertex_texCoord3':El,'vertex_texCoord4':bl,'vertex_texCoord5':Al,'vertex_texCoord6':Cl,'vertex_texCoord7':Pl,'vertex_color':Wt,'vertex_boneIndices':us,'vertex_boneWeights':gi};class Jt{static['createDefi'+'nition'](_0x2ce421,_0x4837ca){w['assert'](_0x4837ca),w['assert'](!_0x4837ca['vertexDefi'+'nes']||_0x4837ca['vertexDefi'+'nes']instanceof Map),w['assert'](!_0x4837ca['vertexIncl'+'udes']||_0x4837ca['vertexIncl'+'udes']instanceof Map),w['assert'](!_0x4837ca['fragmentDe'+'fines']||_0x4837ca['fragmentDe'+'fines']instanceof Map),w['assert'](!_0x4837ca['fragmentIn'+'cludes']||_0x4837ca['fragmentIn'+'cludes']instanceof Map);const _0x382570=_0x1d530d=>{let _0x42f394=_0x1d530d['fragmentOu'+'tputTypes']??'vec4';return Array['isArray'](_0x42f394)||(_0x42f394=[_0x42f394]),_0x42f394;},_0x373a3a=(_0xa3090c,_0x23a090,_0x3b87ed,_0x70b067)=>{const _0x2087e5=_0x2ce421['isWebGPU']?_0xa3090c:_0x23a090;let _0x245dd1='';if(!_0x3b87ed){const _0x1322b9=_0x382570(_0x70b067);for(let _0x1639f7=0x241b+-0x1552+-0x2f5*0x5;_0x1639f7<_0x2ce421['maxColorAt'+'tachments'];_0x1639f7++){_0x245dd1+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x1639f7+'\x0a';const _0x57b511=_0x1322b9[_0x1639f7]??'vec4';_0x245dd1+='#define\x20ou'+'tType_'+_0x1639f7+'\x20'+_0x57b511+'\x0a';}}return _0x245dd1+_0x2087e5;},_0x47e4a6=(_0x45c8ef,_0x8a47f2)=>{let _0x41bdc6='';if(!_0x45c8ef){const _0x571edc=_0x382570(_0x8a47f2);for(let _0xc6dd44=0x18b3+0x16b1+0xc*-0x3f3;_0xc6dd44<_0x2ce421['maxColorAt'+'tachments'];_0xc6dd44++){const _0xca1db8=_0x571edc[_0xc6dd44]??'vec4',_0x2b9751=Fy['get'](_0xca1db8);w['assert'](_0x2b9751,'Unknown\x20ou'+'tput\x20type\x20'+'translatio'+'n:\x20'+_0xca1db8+'\x20->\x20'+_0x2b9751),_0x41bdc6+='alias\x20pcOu'+'tType'+_0xc6dd44+'\x20=\x20'+_0x2b9751+';\x0a';}}return _0x41bdc6;},_0x1f43ac=_0x4837ca['name']??'Untitled';let _0x20f058,_0x136183;const _0x13ed88=Jt['getDefines'+'Code'](_0x2ce421,_0x4837ca['vertexDefi'+'nes']),_0x252ca4=Jt['getDefines'+'Code'](_0x2ce421,_0x4837ca['fragmentDe'+'fines']);return _0x4837ca['shaderLang'+'uage']===it?(_0x20f058='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x47e4a6(!(0xa*-0x203+0x682+0x367*0x4),_0x4837ca)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Xy+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x13ed88+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x4837ca['vertexCode']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'),_0x136183='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x47e4a6(!(-0x4b9+0x2416+-0x1f5c),_0x4837ca)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+$y+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x252ca4+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x4837ca['fragmentCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')):(w['assert'](_0x4837ca['vertexCode']),_0x20f058=Jt['versionCod'+'e'](_0x2ce421)+_0x373a3a(Wy,Gy,!(0xaf0+-0xe*0x12d+-0x7*-0xca),_0x4837ca)+_0x13ed88+Jt['precisionC'+'ode'](_0x2ce421)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x1f43ac)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x4837ca['vertexCode'],w['assert'](_0x4837ca['fragmentCo'+'de']),_0x136183=(_0x4837ca['fragmentPr'+'eamble']||'')+Jt['versionCod'+'e'](_0x2ce421)+_0x373a3a(Hy,Vy,!(0x111b+-0xb7*-0x27+0x149*-0x23),_0x4837ca)+_0x252ca4+Jt['precisionC'+'ode'](_0x2ce421)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x1f43ac)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x4837ca['fragmentCo'+'de']),{'name':_0x1f43ac,'shaderLanguage':_0x4837ca['shaderLang'+'uage']??Fe,'attributes':_0x4837ca['attributes'],'vshader':_0x20f058,'vincludes':_0x4837ca['vertexIncl'+'udes'],'fincludes':_0x4837ca['fragmentIn'+'cludes'],'fshader':_0x136183,'useTransformFeedback':_0x4837ca['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x4837ca['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x4837ca['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x4d9ebf,_0x3180f0){let _0x470194='';return _0x4d9ebf['capsDefine'+'s']['forEach']((_0x3c5293,_0x5af4a3)=>{_0x470194+='#define\x20'+_0x5af4a3+'\x20'+_0x3c5293+'\x0a';}),_0x470194+='\x0a',_0x3180f0==null||_0x3180f0['forEach']((_0x2a2641,_0x461164)=>{_0x470194+='#define\x20'+_0x461164+'\x20'+_0x2a2641+'\x0a';}),_0x470194+='\x0a',_0x470194;}static['getShaderN'+'ameCode'](_0x2ed398){return'#define\x20SH'+'ADER_NAME\x20'+_0x2ed398+'\x0a';}static['versionCod'+'e'](_0x130ef5){return _0x130ef5['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x1a2af7,_0x85edec){_0x85edec&&_0x85edec!=='highp'&&_0x85edec!=='mediump'&&_0x85edec!=='lowp'&&(_0x85edec=null),_0x85edec&&(_0x85edec==='highp'&&_0x1a2af7['maxPrecisi'+'on']!=='highp'&&(_0x85edec='mediump'),_0x85edec==='mediump'&&_0x1a2af7['maxPrecisi'+'on']==='lowp'&&(_0x85edec='lowp'));const _0x84e9e9=_0x85edec||_0x1a2af7['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x84e9e9+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x84e9e9+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x84e9e9+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x84e9e9+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x84e9e9+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x84e9e9+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x84e9e9+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x5c431f){const _0xf85be1={};let _0x51b3c0=-0x26e9+-0x55d*-0x1+0x218c,_0x1d1488=_0x5c431f['indexOf']('attribute');for(;_0x1d1488>=-0xb*-0x349+-0x16a2+-0x1*0xd81&&!(_0x1d1488>0x1*0x1005+-0x945+-0x6c0&&_0x5c431f[_0x1d1488-(0xa4a+0x19*0xf1+-0x1*0x21d2)]==='/');){let _0x22c6e0=!(-0x2321+0x192b+0x9f7);if(_0x1d1488>0x3b9+0xf4e+-0x1*0x1307){let _0x41734e=_0x5c431f['lastIndexO'+'f']('\x0a',_0x1d1488);_0x41734e=_0x41734e!==-(-0x15e5+-0x2168+-0x1*-0x374e)?_0x41734e+(-0x687*0x1+0x5*-0xa0+0x9a8):-0x1*0x1622+0x155d+0xc5,_0x5c431f['substring'](_0x41734e,_0x1d1488)['includes']('#')&&(_0x22c6e0=!(-0x943*-0x1+-0xa2*0x2d+0x1337));}if(!_0x22c6e0){const _0x1ac205=_0x5c431f['indexOf'](';',_0x1d1488),_0x350692=_0x5c431f['lastIndexO'+'f']('\x20',_0x1ac205),_0xaa7ef=_0x5c431f['substring'](_0x350692+(-0x10a2+0xe*0xb+-0x1*-0x1009),_0x1ac205);if(_0xf85be1[_0xaa7ef])w['warn']('Attribute\x20'+'['+_0xaa7ef+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x5c431f});else{const _0x35dd4a=GT[_0xaa7ef];_0x35dd4a!==void(0x29*-0x29+0x3*-0x724+0x599*0x5)?_0xf85be1[_0xaa7ef]=_0x35dd4a:(_0xf85be1[_0xaa7ef]='ATTR'+_0x51b3c0,_0x51b3c0++);}}_0x1d1488=_0x5c431f['indexOf']('attribute',_0x1d1488+(0xf1f+0x19f9+-0x2917));}return _0xf85be1;}}let HT=0x1d31+0xb3+-0x1de4;class qy{constructor(_0x25a6e0,_0x3e62b4){h(this,'meshUnifor'+'mBufferFor'+'mat'),h(this,'meshBindGr'+'oupFormat'),h(this,'attributes',new Map());if(this['id']=HT++,this['device']=_0x25a6e0,this['definition']=_0x3e62b4,this['name']=_0x3e62b4['name']||'Untitled',this['init'](),_0x3e62b4['cshader'])w['assert'](_0x25a6e0['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),w['assert'](!_0x3e62b4['vshader']&&!_0x3e62b4['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.'),_0x3e62b4['cshader']=ko['run'](_0x3e62b4['cshader'],_0x3e62b4['cincludes'],{'sourceName':'compute\x20sh'+'ader\x20for\x20'+this['label'],'stripDefines':!(0x1e*-0x7d+-0x7d7*-0x2+-0x1*0x108)});else{w['assert'](_0x3e62b4['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),w['assert'](_0x3e62b4['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),w['call'](()=>{this['vUnmodifie'+'d']=_0x3e62b4['vshader'],this['fUnmodifie'+'d']=_0x3e62b4['fshader'];});const _0x118561=_0x3e62b4['shaderLang'+'uage']===it;_0x3e62b4['vshader']=ko['run'](_0x3e62b4['vshader'],_0x3e62b4['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label'],'stripDefines':_0x118561}),_0x3e62b4['shaderLang'+'uage']===Fe&&(_0x3e62b4['attributes']??(_0x3e62b4['attributes']=Jt['collectAtt'+'ributes'](_0x3e62b4['vshader'])));const _0x17ffc2=_0x25a6e0['isWebGL2']&&(Ae['name']==='osx'||Ae['name']==='ios');if(_0x3e62b4['fshader']=ko['run'](_0x3e62b4['fshader'],_0x3e62b4['fincludes'],{'stripUnusedColorAttachments':_0x17ffc2,'stripDefines':_0x118561,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']}),!_0x3e62b4['vshader']||!_0x3e62b4['fshader']){w['error']('Shader:\x20Fa'+'iled\x20to\x20cr'+'eate\x20shade'+'r\x20'+this['label']+('.\x20Vertex\x20o'+'r\x20fragment'+'\x20shader\x20so'+'urce\x20is\x20em'+'pty.'),this),this['failed']=!(0x8*0x425+-0x21*-0x32+-0x279a);return;}}this['impl']=_0x25a6e0['createShad'+'erImpl'](this),w['trace'](Im,'Alloc:\x20'+this['label']+',\x20stack:\x20'+Q['toString'](),{'instance':this});}['init'](){this['ready']=!(0x14de+0x1*-0x26d+-0x1270),this['failed']=!(-0x2659+-0x1ff6+0x4650);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20('+(this['definition']['shaderLang'+'uage']===it?'WGSL':'GLSL')+')\x20'+this['name'];}['destroy'](){w['trace'](Im,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class WT{constructor(){h(this,'storage'),h(this,'gpuBuffer'),h(this,'offset');}}const Be=[];Be[Xs]=function(_0x357f7d,_0x3113e6,_0x310b19){const _0x45e369=_0x357f7d['storageFlo'+'at32'];_0x45e369[_0x310b19]=_0x3113e6;},Be[ga]=(_0x197da7,_0x163af0,_0xabbced)=>{const _0x238a79=_0x197da7['storageFlo'+'at32'];_0x238a79[_0xabbced]=_0x163af0[-0x5*0x34b+0x1e5*0x11+-0xfbe],_0x238a79[_0xabbced+(0x911+0x1*0x13ef+-0x1cff)]=_0x163af0[0x2bc+-0x157b+0x12c0];},Be[ds]=(_0x53d2ac,_0x12ddbd,_0x2c5309)=>{const _0x541bcb=_0x53d2ac['storageFlo'+'at32'];_0x541bcb[_0x2c5309]=_0x12ddbd[0xb5c+0x10*0x209+0x15f6*-0x2],_0x541bcb[_0x2c5309+(-0x60d+-0x105f+0x1*0x166d)]=_0x12ddbd[-0xc5*0x2+0x6c*0x16+-0x7*0x11b],_0x541bcb[_0x2c5309+(-0x89a*0x4+0x115*-0x1+-0x237f*-0x1)]=_0x12ddbd[-0xe*-0x139+-0x227b+-0x115f*-0x1];},Be[Rn]=(_0x37ad0f,_0x4c5a42,_0x4af5cd)=>{const _0x373133=_0x37ad0f['storageFlo'+'at32'];_0x373133[_0x4af5cd]=_0x4c5a42[0x166*0x2+0x78d*-0x5+-0x9d*-0x39],_0x373133[_0x4af5cd+(-0x19c8+-0xb5a+0x2523*0x1)]=_0x4c5a42[0x6*-0x4b7+-0x2cd*0xd+-0x29*-0x194],_0x373133[_0x4af5cd+(-0x14e4+0x169+0x137d*0x1)]=_0x4c5a42[0x1*0x13a6+0xca*0x1e+0x10*-0x2b5],_0x373133[_0x4af5cd+(0x1e18+0xa0*-0x20+-0xa15)]=_0x4c5a42[-0x106e+-0xe7b+0x1eec];},Be[_a]=function(_0x5bd7a5,_0x53ad63,_0x99f688){const _0x11e02f=_0x5bd7a5['storageInt'+'32'];_0x11e02f[_0x99f688]=_0x53ad63;},Be[ca]=function(_0x2b6104,_0x4c88f3,_0x58a815){const _0x107310=_0x2b6104['storageInt'+'32'];_0x107310[_0x58a815]=_0x4c88f3[0x2652+-0x1100+0x2*-0xaa9],_0x107310[_0x58a815+(-0x6d*0x19+-0x1*-0x125+0x981)]=_0x4c88f3[-0x287*-0x5+-0x5f5+-0x6ad];},Be[ha]=function(_0x1a0662,_0x24e6f3,_0x2a8c53){const _0x116f94=_0x1a0662['storageInt'+'32'];_0x116f94[_0x2a8c53]=_0x24e6f3[-0x225e+0x1457+0x39*0x3f],_0x116f94[_0x2a8c53+(-0x14b8+-0x40a+-0x1*-0x18c3)]=_0x24e6f3[-0xd*0x21e+0x1*0x177f+0x81*0x8],_0x116f94[_0x2a8c53+(-0x216e+0x203d+0x133)]=_0x24e6f3[0xc*-0x281+-0x1*0x1631+0x343f];},Be[da]=function(_0x25a2f7,_0x55b819,_0x482aff){const _0x406e19=_0x25a2f7['storageInt'+'32'];_0x406e19[_0x482aff]=_0x55b819[-0x15*-0x2+-0x1f97+0x5*0x649],_0x406e19[_0x482aff+(0x47*0x13+-0xd5c+0x38*0x25)]=_0x55b819[0x2*0x4b1+0x1124*-0x2+0xf*0x1a9],_0x406e19[_0x482aff+(0x41*0x13+0xf*0x58+-0x9f9)]=_0x55b819[0x16dd+-0x1*-0x13cf+0x56*-0x7f],_0x406e19[_0x482aff+(-0x22c5+0x23ba+-0xb*0x16)]=_0x55b819[0x7b1*-0x1+-0x1849*0x1+0x1ffd];},Be[_h]=(_0x3688a9,_0x55d85c,_0x189ff8)=>{const _0x567290=_0x3688a9['storageFlo'+'at32'];_0x567290[_0x189ff8]=_0x55d85c[-0x1072+-0x15b1+0x2ef*0xd],_0x567290[_0x189ff8+(0x26d1*-0x1+-0x6ce*-0x1+-0x1*-0x2004)]=_0x55d85c[0xa3b+0x9a4+-0x13de],_0x567290[_0x189ff8+(-0x25d2+-0x9c2*-0x1+-0xe0a*-0x2)]=_0x55d85c[-0x385+-0x59*0x23+0xfb2],_0x567290[_0x189ff8+(-0xf*-0x12b+0x7ba+0x1*-0x193a)]=_0x55d85c[0x14ae+0x1750+0x1a1*-0x1b],_0x567290[_0x189ff8+(0x2605+-0x13d*0xb+-0x185e)]=_0x55d85c[0x1b5d+-0x1096+0xac3*-0x1],_0x567290[_0x189ff8+(-0x191e+0x97e+0xfa9)]=_0x55d85c[-0x1a6*-0x15+-0x1647*0x1+-0xc52];},Be[On]=(_0x400861,_0x5b3bd4,_0x52dbfc)=>{const _0x37d991=_0x400861['storageFlo'+'at32'];_0x37d991[_0x52dbfc]=_0x5b3bd4[0x1c0e+-0x555+-0x16b9],_0x37d991[_0x52dbfc+(-0x1*0x270c+0x7d7+-0xa*-0x31f)]=_0x5b3bd4[0x617*0x3+0xc9*0x26+0x5e*-0x83],_0x37d991[_0x52dbfc+(0x7a*-0x2f+-0x3e5*-0x5+0x2ef)]=_0x5b3bd4[-0x4*0x392+-0x17b4+0x655*0x6],_0x37d991[_0x52dbfc+(0x128e+-0x6b7*-0x1+-0x1941*0x1)]=_0x5b3bd4[-0x3*-0x871+-0x13*-0x172+-0x1*0x34c6],_0x37d991[_0x52dbfc+(0x1bc4+0x2382*0x1+-0x3f41)]=_0x5b3bd4[0x7*-0x349+-0x5*-0x7b2+-0xf77],_0x37d991[_0x52dbfc+(0xd3d+-0x15f2+0x8bb)]=_0x5b3bd4[-0x1e14+-0x1*-0x23fb+-0x2f1*0x2],_0x37d991[_0x52dbfc+(0x37*-0x6d+0x16db+0x98)]=_0x5b3bd4[0x1ea9*-0x1+-0x9dd+0x2*0x1446],_0x37d991[_0x52dbfc+(-0x7*0x30d+-0x1*0x7b5+0x27*0xbf)]=_0x5b3bd4[0x1ebe+0x2*-0x6c3+-0x1131],_0x37d991[_0x52dbfc+(-0x275+0x1*-0x1dd7+0x102b*0x2)]=_0x5b3bd4[-0x9*-0x1e7+-0x3*-0x5b+0x48a*-0x4];},Be[ud]=function(_0xe67437,_0x188142,_0x1b6c71,_0x173692){const _0x113a4d=_0xe67437['storageFlo'+'at32'];for(let _0x26be3c=-0x26b4+0x7*-0x588+0x4d6c;_0x26be3c<_0x173692;_0x26be3c++)_0x113a4d[_0x1b6c71+_0x26be3c*(0x22f*-0xc+0xf25+0x237*0x5)]=_0x188142[_0x26be3c];},Be[pd]=(_0x127fdf,_0x29d0a0,_0x238f58,_0x5bbe36)=>{const _0x5a7cd7=_0x127fdf['storageFlo'+'at32'];for(let _0x1e76c1=-0x1a*0x175+0x1*0x5b3+0x202f;_0x1e76c1<_0x5bbe36;_0x1e76c1++)_0x5a7cd7[_0x238f58+_0x1e76c1*(0xe*-0x281+0x1c88+0x68a)]=_0x29d0a0[_0x1e76c1*(0x2609+0x15c0+-0x3bc7)],_0x5a7cd7[_0x238f58+_0x1e76c1*(0x15f3+-0x933+-0x65e*0x2)+(-0x2575+0x1e6e+0x708)]=_0x29d0a0[_0x1e76c1*(0x14c*0xa+-0x1e9a*-0x1+-0x2b90)+(-0x1aeb+0x2dd*-0x3+0x2383)];},Be[md]=(_0x2fd383,_0x5245ee,_0x54de7e,_0x3d84a7)=>{const _0x2133fc=_0x2fd383['storageFlo'+'at32'];for(let _0x1a6b97=-0x7*-0xf2+-0x8dd+0x23f;_0x1a6b97<_0x3d84a7;_0x1a6b97++)_0x2133fc[_0x54de7e+_0x1a6b97*(-0x138b*0x1+0x1*0x1fe6+0xd*-0xf3)]=_0x5245ee[_0x1a6b97*(-0x2*-0xae+0x3*-0x6f+-0x6*0x2)],_0x2133fc[_0x54de7e+_0x1a6b97*(0x603*0x5+0x198e+-0x14b*0x2b)+(0x8ff+0xba7+0x2f3*-0x7)]=_0x5245ee[_0x1a6b97*(-0x1652*0x1+-0x3*-0x7bd+-0xe2)+(-0x1505+-0xb30+0x2036)],_0x2133fc[_0x54de7e+_0x1a6b97*(-0x18bd+0x3b1+0x1510)+(0x2+0xb34+-0x6*0x1de)]=_0x5245ee[_0x1a6b97*(-0xa1f+-0x1*-0x169e+0x31f*-0x4)+(0x230e+0x2f*-0x7a+0x2*-0x653)];},Be[Fn]=(_0x4b49c0,_0x48a7ec,_0x14049e,_0x2eaa09)=>{const _0x36e5cb=_0x4b49c0['storageUin'+'t32'];_0x36e5cb[_0x14049e]=_0x48a7ec;},Be[Nn]=(_0x2da29f,_0x26f717,_0x511c83,_0x255c92)=>{const _0x5cade6=_0x2da29f['storageUin'+'t32'];_0x5cade6[_0x511c83]=_0x26f717[0x6b*-0x5b+0x23*-0xb1+0x3e3c],_0x5cade6[_0x511c83+(-0xfb0*0x2+-0x2b*-0x82+-0x7*-0x15d)]=_0x26f717[-0x440+0x976+-0x535];},Be[kn]=(_0x562351,_0x4866ed,_0x404b12,_0x916dee)=>{const _0x114355=_0x562351['storageUin'+'t32'];_0x114355[_0x404b12]=_0x4866ed[0x675+-0x246+-0x42f],_0x114355[_0x404b12+(-0x71*0xe+0xc1d+-0x5ee)]=_0x4866ed[0x668*-0x1+-0x1f24+-0x1*-0x258d],_0x114355[_0x404b12+(-0x2539+0xab*0x13+0x188a)]=_0x4866ed[0x1*-0x118d+-0x1*0x1fbb+-0x106e*-0x3];},Be[Un]=(_0xab37dd,_0x5bbf02,_0x7f88c3,_0x21a194)=>{const _0x2bf6bb=_0xab37dd['storageUin'+'t32'];_0x2bf6bb[_0x7f88c3]=_0x5bbf02[-0x1*0xf9+0x5bb*0x3+-0x1038],_0x2bf6bb[_0x7f88c3+(0x20b9*-0x1+-0x230f+0x43c9)]=_0x5bbf02[-0x1ee*-0xb+0x2118+0x135*-0x2d],_0x2bf6bb[_0x7f88c3+(0x79*0x2b+-0x26ef+0x94f*0x2)]=_0x5bbf02[0x2267+-0x2458+0x1f3*0x1],_0x2bf6bb[_0x7f88c3+(-0x1200+-0x1c*-0xe5+-0x709*0x1)]=_0x5bbf02[-0x8*-0x30b+0x61f*-0x3+-0x5f8];},Be[Bn]=function(_0xdf256,_0x1356b3,_0x2da50e,_0x5e848d){const _0x1550c8=_0xdf256['storageInt'+'32'];for(let _0x205586=-0x16b3*-0x1+0x483*-0x5+-0x24*0x1;_0x205586<_0x5e848d;_0x205586++)_0x1550c8[_0x2da50e+_0x205586*(0x10fa+0x166c+-0x2762)]=_0x1356b3[_0x205586];},Be[gd]=Be[Bn],Be[_d]=function(_0x443ccf,_0x5e173c,_0x163748,_0x12e6ba){const _0x8142ef=_0x443ccf['storageUin'+'t32'];for(let _0x47ce9e=-0x176a+-0x234f+0x3ab9;_0x47ce9e<_0x12e6ba;_0x47ce9e++)_0x8142ef[_0x163748+_0x47ce9e*(0x2*0x20c+-0x33*0xf+0x9*-0x1f)]=_0x5e173c[_0x47ce9e];},Be[zn]=(_0x32aef7,_0x36c754,_0x238f98,_0x51dac6)=>{const _0x5fd82c=_0x32aef7['storageInt'+'32'];for(let _0xf48b01=-0x169e+-0x1f78+-0x25a*-0x17;_0xf48b01<_0x51dac6;_0xf48b01++)_0x5fd82c[_0x238f98+_0xf48b01*(0x177d+0x800+-0x1f79)]=_0x36c754[_0xf48b01*(0x1f84+-0x12e+-0x3*0xa1c)],_0x5fd82c[_0x238f98+_0xf48b01*(-0x2*0x738+0x7c6+0x11d*0x6)+(0x198c+-0xd01*-0x1+-0x268c)]=_0x36c754[_0xf48b01*(-0x1*0x23ce+0x106c+0x1364)+(-0x2013+0x3*-0x43d+0x2ccb)];},Be[yd]=Be[zn],Be[Sd]=(_0x50fa6b,_0x35c474,_0x543d0f,_0x2903da)=>{const _0x411258=_0x50fa6b['storageUin'+'t32'];for(let _0x42a2e7=-0x2*-0x40e+0x1cf7+-0x2513;_0x42a2e7<_0x2903da;_0x42a2e7++)_0x411258[_0x543d0f+_0x42a2e7*(0x11d+0xf6+-0x20f)]=_0x35c474[_0x42a2e7*(-0x16fb+0x4*0x607+-0x29*0x7)],_0x411258[_0x543d0f+_0x42a2e7*(-0xe39+0x8*0x174+0x29d)+(0x1*0x561+0xf93+-0x14f3)]=_0x35c474[_0x42a2e7*(0x9c0+0x223*-0x2+-0x578)+(-0x14c0+0x33*0x91+-0x2b6*0x3)];},Be[Vn]=(_0x3c53d7,_0x246bc3,_0x4ba3e6,_0x5be762)=>{const _0x319c8e=_0x3c53d7['storageInt'+'32'];for(let _0x7ac8b8=0x5db*0x4+0x7*0x593+-0x17*0x2b7;_0x7ac8b8<_0x5be762;_0x7ac8b8++)_0x319c8e[_0x4ba3e6+_0x7ac8b8*(-0xc51+0x1d46+-0x10f1)]=_0x246bc3[_0x7ac8b8*(0x1241*-0x1+0x97+0x11ad)],_0x319c8e[_0x4ba3e6+_0x7ac8b8*(0x1860+-0x2*-0x45c+-0x108a*0x2)+(0xf44+0x41f+-0x1362)]=_0x246bc3[_0x7ac8b8*(0x1367+0x1*0x155f+-0x28c3)+(0x1d3*-0x11+-0x10f3+0x2ff7)],_0x319c8e[_0x4ba3e6+_0x7ac8b8*(-0x12f6+0x2399+-0x109f)+(-0xe33+-0x2228+0x305d)]=_0x246bc3[_0x7ac8b8*(-0x115*0x20+-0xe*-0x122+-0xb*-0x1b5)+(-0x2*-0x12b5+0xaca+-0x3032)];},Be[xd]=Be[Vn],Be[vd]=(_0x5beaa4,_0x6306fc,_0x14bc17,_0x56b1ba)=>{const _0x4f8ba4=_0x5beaa4['storageUin'+'t32'];for(let _0x285746=-0x2089+0x978+-0x1*-0x1711;_0x285746<_0x56b1ba;_0x285746++)_0x4f8ba4[_0x14bc17+_0x285746*(0x4*0x6bb+0x2*-0x5c1+-0x6*0x291)]=_0x6306fc[_0x285746*(-0x19*-0x13d+0x20*-0x59+-0x3b*0x56)],_0x4f8ba4[_0x14bc17+_0x285746*(-0x1f35+0xc1*0x12+0x11a7)+(-0x7*0x121+-0x2*0xfb+0x9de)]=_0x6306fc[_0x285746*(0x1caf+0x2053+-0x5*0xc33)+(0x106a+0x1*-0xbc6+-0x4a3)],_0x4f8ba4[_0x14bc17+_0x285746*(-0x905+-0x16af+0x3f7*0x8)+(0x1*-0x6c7+0x1499+-0xdd0)]=_0x6306fc[_0x285746*(0x5*-0x53b+0xf8e+-0xa9c*-0x1)+(-0x4*0x78b+0x354*-0x8+0x38ce)];};class zp{constructor(_0xf99b7,_0x48f21d,_0x59b93e=!(0x1*0xc3b+0x2258+0x1*-0x2e93)){h(this,'device'),h(this,'persistent'),h(this,'allocation'),h(this,'storageFlo'+'at32'),h(this,'storageInt'+'32'),h(this,'storageUin'+'t32'),h(this,'renderVers'+'ionDirty',0x1319*-0x1+-0xb48+-0x2c3*-0xb);if(this['device']=_0xf99b7,this['format']=_0x48f21d,this['persistent']=_0x59b93e,w['assert'](_0x48f21d),_0x59b93e){this['impl']=_0xf99b7['createUnif'+'ormBufferI'+'mpl'](this);const _0x3bef1d=new ArrayBuffer(_0x48f21d['byteSize']);this['assignStor'+'age'](new Int32Array(_0x3bef1d)),_0xf99b7['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new WT();}['destroy'](){if(this['persistent']){const _0x5bc876=this['device'];this['impl']['destroy'](_0x5bc876),_0x5bc876['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?-0x238*-0xe+-0x97*0x14+-0x1344*0x1:this['allocation']['offset'];}['assignStor'+'age'](_0x44cb35){this['storageInt'+'32']=_0x44cb35,this['storageUin'+'t32']=new Uint32Array(_0x44cb35['buffer'],_0x44cb35['byteOffset'],_0x44cb35['byteLength']/(0x2*-0xcaf+-0x2f*0x90+0x33d2)),this['storageFlo'+'at32']=new Float32Array(_0x44cb35['buffer'],_0x44cb35['byteOffset'],_0x44cb35['byteLength']/(-0x11*-0x19e+0x293*0x5+0x2859*-0x1));}['loseContex'+'t'](){var _0x42af34;(_0x42af34=this['impl'])==null||_0x42af34['loseContex'+'t']();}['setUniform'](_0x215c9d,_0x5cc9a9){w['assert'](_0x215c9d);const _0x39166f=_0x215c9d['offset'];if(_0x5cc9a9!=null){const _0x3cdc61=Be[_0x215c9d['updateType']];_0x3cdc61?_0x3cdc61(this,_0x5cc9a9,_0x39166f,_0x215c9d['count']):this['storageFlo'+'at32']['set'](_0x5cc9a9,_0x39166f);}else w['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x215c9d['name']+('],\x20expecte'+'d\x20type\x20')+Ey[_0x215c9d['type']]+('\x20while\x20ren'+'dering\x20')+Q['toString']());}['set'](_0x5b5165,_0x4e2763){const _0x1bc90e=this['format']['map']['get'](_0x5b5165);w['assert'](_0x1bc90e,'Uniform\x20na'+'me\x20['+_0x5b5165+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x1bc90e&&this['setUniform'](_0x1bc90e,_0x4e2763);}['startUpdat'+'e'](_0x37f35d){if(!this['persistent']){const _0x305860=this['allocation'],_0x5463da=_0x305860['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x305860,this['format']['byteSize']),this['assignStor'+'age'](_0x305860['storage']),_0x37f35d&&(_0x37f35d['bindGroup']=_0x305860['gpuBuffer']['getBindGro'+'up'](this),_0x37f35d['offsets'][-0x1*-0xeb1+0x1d*-0xb3+0x41*0x16]=_0x305860['offset']),_0x5463da!==_0x305860['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x139722){this['startUpdat'+'e'](_0x139722);const _0x54044c=this['format']['uniforms'];for(let _0x3dfb9e=0x4*-0x41c+-0x76*0x3e+0x2d04;_0x3dfb9e<_0x54044c['length'];_0x3dfb9e++){const _0x3e475b=_0x54044c[_0x3dfb9e]['scopeId']['value'];this['setUniform'](_0x54044c[_0x3dfb9e],_0x3e475b);}this['endUpdate']();}}class $T{constructor(){h(this,'frameAlloc'+'ations',[]),h(this,'pastFrameA'+'llocations',new Map()),h(this,'_enabled',!(0x1528+-0x19ab+0x121*0x4)),h(this,'_enableReq'+'uest',!(-0x12c6+-0x256c+0x1*0x3833)),h(this,'_frameTime',-0x2*0x92+0x1796+-0x1672);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x164849){this['_enableReq'+'uest']=_0x164849;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=0x18de+-0x17ce+-0x110));}['request'](_0xd57513){this['pastFrameA'+'llocations']['set'](_0xd57513,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x586110,_0x2ffcef){if(_0x2ffcef){const _0x59834b=this['pastFrameA'+'llocations']['get'](_0x586110);if(w['assert'](_0x59834b['length']===_0x2ffcef['length']),_0x2ffcef['length']>0x6c9+-0x22c1+0x1bf8&&(this['_frameTime']=_0x2ffcef['reduce']((_0x4b2c5e,_0x56c454)=>_0x4b2c5e+_0x56c454,-0x5c+0x869+-0x80d)),mi['get'](Gl)){w['trace'](Gl,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x586110+'\x20--');let _0x4d7648=-0x2*-0x608+-0x1525+0x5d*0x19;for(let _0x51abd4=-0x190c*0x1+0x8*-0x1a5+0x2634;_0x51abd4<_0x59834b['length'];++_0x51abd4){const _0x425f25=_0x59834b[_0x51abd4];_0x4d7648+=_0x2ffcef[_0x51abd4],w['trace'](Gl,_0x2ffcef[_0x51abd4]['toFixed'](-0x2025+0x23b9+0x392*-0x1)+'\x20ms\x20'+_0x425f25);}w['trace'](Gl,_0x4d7648['toFixed'](0xe5d*0x1+0x65*-0x6+-0xbfd)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x586110);}['getSlot'](_0x591254){const _0x5640be=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x591254),_0x5640be;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class jy{constructor(){h(this,'bufferId',null);}['destroy'](_0x3b6f02){this['bufferId']&&(_0x3b6f02['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x157efe,_0x3fcc52,_0x185b62,_0x34976b){const _0x1b3474=_0x157efe['gl'];if(this['bufferId'])_0x1b3474['bindBuffer'](_0x185b62,this['bufferId']),_0x1b3474['bufferSubD'+'ata'](_0x185b62,-0x2428+-0x10e*-0x19+0x9ca,_0x34976b);else{let _0x54e77b;switch(_0x3fcc52){case ms:_0x54e77b=_0x1b3474['STATIC_DRA'+'W'];break;case lh:_0x54e77b=_0x1b3474['DYNAMIC_DR'+'AW'];break;case ey:_0x54e77b=_0x1b3474['STREAM_DRA'+'W'];break;case bx:_0x54e77b=_0x1b3474['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x1b3474['createBuff'+'er'](),_0x1b3474['bindBuffer'](_0x185b62,this['bufferId']),_0x1b3474['bufferData'](_0x185b62,_0x34976b,_0x54e77b);}}}class XT extends jy{constructor(){super(...arguments),h(this,'vao',null);}['destroy'](_0x555be1){super['destroy'](_0x555be1),_0x555be1['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x504a49){const _0x8f5648=_0x504a49['device'];super['unlock'](_0x8f5648,_0x504a49['usage'],_0x8f5648['gl']['ARRAY_BUFF'+'ER'],_0x504a49['storage']);}}class qT extends jy{constructor(_0x585f70){super();const _0x48b9c6=_0x585f70['device']['gl'],_0x33882c=_0x585f70['format'];_0x33882c===$f?this['glFormat']=_0x48b9c6['UNSIGNED_B'+'YTE']:_0x33882c===Yi?this['glFormat']=_0x48b9c6['UNSIGNED_S'+'HORT']:_0x33882c===wr&&(this['glFormat']=_0x48b9c6['UNSIGNED_I'+'NT']);}['unlock'](_0x55c6e8){const _0x4dd2e3=_0x55c6e8['device'];super['unlock'](_0x4dd2e3,_0x55c6e8['usage'],_0x4dd2e3['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x55c6e8['storage']);}}class jT{constructor(_0xfcfff3,_0x480162,_0x12be52,_0x30988b){if(this['locationId']=_0x30988b,this['scopeId']=_0xfcfff3['scope']['resolve'](_0x480162),this['version']=new Uy(),_0x480162['substring'](_0x480162['length']-(-0x198e*0x1+-0xa48+0x23d9))==='[0]')switch(_0x12be52){case Xs:_0x12be52=ud;break;case _a:_0x12be52=Bn;break;case Fn:_0x12be52=_d;break;case Tn:_0x12be52=gd;break;case ga:_0x12be52=pd;break;case ca:_0x12be52=zn;break;case Nn:_0x12be52=Sd;break;case tl:_0x12be52=yd;break;case ds:_0x12be52=md;break;case ha:_0x12be52=Vn;break;case kn:_0x12be52=vd;break;case sl:_0x12be52=xd;break;case Rn:_0x12be52=Lp;break;case da:_0x12be52=gh;break;case Un:_0x12be52=Rp;break;case il:_0x12be52=Op;break;}this['dataType']=_0x12be52,this['value']=[null,null,null,null],this['array']=[];}}let l_=-0x90f*0x1+0x21ef+0x638*-0x4;const YT=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class KT{constructor(){h(this,'map',new Map());}['destroy'](_0x2b803c){this['map']['forEach'](_0x49ffaa=>{_0x2b803c['gl']['deleteShad'+'er'](_0x49ffaa);});}['loseContex'+'t'](_0x27419e){this['map']['clear']();}}const ZT=new Kt(),QT=new Kt();class JT{constructor(_0x4dd20f){h(this,'compileDur'+'ation',-0x206c+0x623+0x1a49),(this['init'](),this['compile'](_0x4dd20f['device'],_0x4dd20f),this['link'](_0x4dd20f['device'],_0x4dd20f),_0x4dd20f['device']['shaders']['push'](_0x4dd20f));}['destroy'](_0x501c99){this['glProgram']&&(_0x501c99['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x4a4d42,_0x7dd8d8){this['compile'](_0x4a4d42,_0x7dd8d8),this['link'](_0x4a4d42,_0x7dd8d8);}['compile'](_0x525f20,_0x11801a){const _0x20f72b=_0x11801a['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x525f20,_0x20f72b['vshader'],!(0x1*-0xf1d+-0x11*0x125+-0x1e*-0x127)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x525f20,_0x20f72b['fshader'],!(0x8cc+-0x1166*-0x2+-0x2b97));}['link'](_0x55e588,_0x505a4c){if(this['glProgram'])return;const _0x11f948=_0x55e588['gl'];if(_0x11f948['isContextL'+'ost']())return;let _0x38824d=0x2c7+0x2*0x110c+-0x24df*0x1;w['call'](()=>{this['compileDur'+'ation']=-0x9aa+-0x4f9+0xea3,_0x38824d=de();});const _0x503ada=_0x11f948['createProg'+'ram']();this['glProgram']=_0x503ada,_0x11f948['attachShad'+'er'](_0x503ada,this['glVertexSh'+'ader']),_0x11f948['attachShad'+'er'](_0x503ada,this['glFragment'+'Shader']);const _0x64329f=_0x505a4c['definition'],_0x3d25c3=_0x64329f['attributes'];if(_0x64329f['useTransfo'+'rmFeedback']){const _0x1df420=[];for(const _0x4765af in _0x3d25c3)_0x3d25c3['hasOwnProp'+'erty'](_0x4765af)&&_0x1df420['push']('out_'+_0x4765af);_0x11f948['transformF'+'eedbackVar'+'yings'](_0x503ada,_0x1df420,_0x11f948['INTERLEAVE'+'D_ATTRIBS']);}const _0x5b669d={};for(const _0x43ae7b in _0x3d25c3)if(_0x3d25c3['hasOwnProp'+'erty'](_0x43ae7b)){const _0x33448e=_0x3d25c3[_0x43ae7b],_0x3728d4=Le[_0x33448e];w['assert'](!_0x5b669d['hasOwnProp'+'erty'](_0x3728d4),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x5b669d[_0x3728d4]+'\x20and\x20'+_0x43ae7b),_0x5b669d[_0x3728d4]=_0x43ae7b,_0x11f948['bindAttrib'+'Location'](_0x503ada,_0x3728d4,_0x43ae7b);}_0x11f948['linkProgra'+'m'](_0x503ada),w['call'](()=>{this['compileDur'+'ation']=de()-_0x38824d;}),_0x55e588['_shaderSta'+'ts']['linked']++,_0x64329f['tag']===Sy&&_0x55e588['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x342a63,_0x598ce7,_0x196c4c){const _0x5494e1=_0x342a63['gl'];if(_0x5494e1['isContextL'+'ost']())return null;const _0x52a7d7=(_0x196c4c?ZT:QT)['get'](_0x342a63,()=>new KT());let _0x4b5dde=_0x52a7d7['map']['get'](_0x598ce7);if(!_0x4b5dde){const _0x41efeb=de();_0x342a63['fire']('shader:com'+'pile:start',{'timestamp':_0x41efeb,'target':_0x342a63}),_0x4b5dde=_0x5494e1['createShad'+'er'](_0x196c4c?_0x5494e1['VERTEX_SHA'+'DER']:_0x5494e1['FRAGMENT_S'+'HADER']),_0x5494e1['shaderSour'+'ce'](_0x4b5dde,_0x598ce7),_0x5494e1['compileSha'+'der'](_0x4b5dde),_0x52a7d7['map']['set'](_0x598ce7,_0x4b5dde);const _0x117a32=de();_0x342a63['fire']('shader:com'+'pile:end',{'timestamp':_0x117a32,'target':_0x342a63}),_0x342a63['_shaderSta'+'ts']['compileTim'+'e']+=_0x117a32-_0x41efeb,_0x196c4c?_0x342a63['_shaderSta'+'ts']['vsCompiled']++:_0x342a63['_shaderSta'+'ts']['fsCompiled']++;}return _0x4b5dde;}['finalize'](_0x50b568,_0x40f955){var _0x5c5d24,_0x8bdf15;const _0x432d2b=_0x50b568['gl'];if(_0x432d2b['isContextL'+'ost']())return!(0xb1d*-0x1+-0x156b+-0x2088*-0x1);const _0x4b0888=this['glProgram'],_0x3c229f=_0x40f955['definition'],_0xbd8451=de();_0x50b568['fire']('shader:lin'+'k:start',{'timestamp':_0xbd8451,'target':_0x50b568});let _0x30c1b6=-0x22a*0x10+0x1e9*0x3+0x1ce5;if(w['call'](()=>{_0x30c1b6=de();}),!_0x432d2b['getProgram'+'Parameter'](_0x4b0888,_0x432d2b['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x50b568,_0x40f955,this['glVertexSh'+'ader'],_0x3c229f['vshader'],'vertex')||!this['_isCompile'+'d'](_0x50b568,_0x40f955,this['glFragment'+'Shader'],_0x3c229f['fshader'],'fragment'))return!(0x4d*0x59+-0x63c+-0x1488);const _0x2b4c84='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x432d2b['getProgram'+'InfoLog'](_0x4b0888);return _0x3c229f['translated'+'Frag']=(_0x5c5d24=_0x432d2b['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x5d6*-0x3+-0xd1a+-0x8*0x8d):_0x5c5d24['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x3c229f['translated'+'Vert']=(_0x8bdf15=_0x432d2b['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x25*-0x49+-0x1*-0x20e6+0x635*-0x7):_0x8bdf15['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x2b4c84,_0x3c229f),console['error'](_0x2b4c84),!(-0x6d0+-0x1f7c+-0x5*-0x7a9);}const _0x163bc5=_0x432d2b['getProgram'+'Parameter'](_0x4b0888,_0x432d2b['ACTIVE_ATT'+'RIBUTES']);_0x40f955['attributes']['clear']();for(let _0x51d356=0x1b3b+-0xb22+-0x1019;_0x51d356<_0x163bc5;_0x51d356++){const _0xefd5a8=_0x432d2b['getActiveA'+'ttrib'](_0x4b0888,_0x51d356),_0x34023a=_0x432d2b['getAttribL'+'ocation'](_0x4b0888,_0xefd5a8['name']);YT['has'](_0xefd5a8['name'])||(_0x3c229f['attributes'][_0xefd5a8['name']]===void(0x1013+-0x1*0x23fb+0x13e8)?(console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0xefd5a8['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x40f955['label']+']',_0x40f955),_0x40f955['failed']=!(-0x2297+-0x1*-0x219d+0xa*0x19)):_0x40f955['attributes']['set'](_0x34023a,_0xefd5a8['name']));}const _0x3ce958=_0x50b568['_samplerTy'+'pes'],_0x113c20=_0x432d2b['getProgram'+'Parameter'](_0x4b0888,_0x432d2b['ACTIVE_UNI'+'FORMS']);for(let _0x4631b9=-0x2634+0x1870+0xdc4;_0x4631b9<_0x113c20;_0x4631b9++){const _0x362230=_0x432d2b['getActiveU'+'niform'](_0x4b0888,_0x4631b9),_0x4ae474=_0x432d2b['getUniform'+'Location'](_0x4b0888,_0x362230['name']),_0x1f8dc5=new jT(_0x50b568,_0x362230['name'],_0x50b568['pcUniformT'+'ype'][_0x362230['type']],_0x4ae474);_0x3ce958['has'](_0x362230['type'])?this['samplers']['push'](_0x1f8dc5):this['uniforms']['push'](_0x1f8dc5);}_0x40f955['ready']=!(0x1*0xdb1+-0x1*0x229b+0x14ea*0x1);const _0x31cf67=de();return _0x50b568['fire']('shader:lin'+'k:end',{'timestamp':_0x31cf67,'target':_0x50b568}),_0x50b568['_shaderSta'+'ts']['compileTim'+'e']+=_0x31cf67-_0xbd8451,w['call'](()=>{const _0x7722fc=de()-_0x30c1b6;this['compileDur'+'ation']+=_0x7722fc,l_+=this['compileDur'+'ation'],w['trace']($0,'[id:\x20'+_0x40f955['id']+']\x20'+_0x40f955['name']+':\x20'+this['compileDur'+'ation']['toFixed'](-0x45e*-0x5+-0x1cf3+0x2*0x38f)+('ms,\x20TOTAL:'+'\x20')+l_['toFixed'](-0x1335+0x2432+0x87e*-0x2)+'ms');}),!(-0x2*-0xb95+-0x1bab+0x481);}['_isCompile'+'d'](_0x3a4082,_0x421d6b,_0x29d144,_0x44eebb,_0xdb81aa){const _0x2ef83d=_0x3a4082['gl'];if(!_0x2ef83d['getShaderP'+'arameter'](_0x29d144,_0x2ef83d['COMPILE_ST'+'ATUS'])){const _0x526b74=_0x2ef83d['getShaderI'+'nfoLog'](_0x29d144),[_0x598364,_0x4676e5]=this['_processEr'+'ror'](_0x44eebb,_0x526b74),_0x47cdf5='Failed\x20to\x20'+'compile\x20'+_0xdb81aa+'\x20shader:\x0a\x0a'+_0x526b74+'\x0a'+_0x598364+('\x20while\x20ren'+'dering\x20')+Q['toString']();return _0x4676e5['shader']=_0x421d6b,console['error'](_0x47cdf5,_0x4676e5),console['error'](_0x47cdf5),!(-0x109b+0xdc9+-0x2d3*-0x1);}return!(0x24ac+-0x8*-0x1b+-0x2584);}['isLinked'](_0x52069f){const {extParallelShaderCompile:_0x62d307}=_0x52069f;return _0x62d307?_0x52069f['gl']['getProgram'+'Parameter'](this['glProgram'],_0x62d307['COMPLETION'+'_STATUS_KH'+'R']):!(-0x2601+0x351+0x22b0);}['_processEr'+'ror'](_0x514388,_0x312751){const _0x46343={};let _0x5682f0='';if(_0x514388){const _0x1382ad=_0x514388['split']('\x0a');let _0x4f64c3=-0x46*-0x4+0x2*-0xa13+0x130e,_0x114d73=_0x1382ad['length'];if(_0x312751&&_0x312751['startsWith']('ERROR:')){const _0x24b78a=_0x312751['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x24b78a&&(_0x46343['message']=_0x24b78a[-0x1df9*0x1+-0x14a*-0x1+-0xe59*-0x2],_0x46343['line']=parseInt(_0x24b78a[0x707*0x1+0x1b3d*-0x1+0x287*0x8],-0x206a+0x4f*-0x29+0x2d1b),_0x4f64c3=Math['max'](-0x25b7+-0x6*-0x22c+0x18af,_0x46343['line']-(0x395*-0x1+0x1*-0x106+0x5*0xed)),_0x114d73=Math['min'](_0x1382ad['length'],_0x46343['line']+(0x11e*-0x4+0x1*0x215c+0x13*-0x185)));}for(let _0xea2931=_0x4f64c3;_0xea2931<_0x114d73;_0xea2931++){const _0x50abc2=_0xea2931+(-0x5de+-0xcf2+-0x12d1*-0x1)===_0x46343['line']?'>\x20':'\x20\x20';_0x5682f0+=''+_0x50abc2+(_0xea2931+(-0x12c1*-0x1+-0x263*-0x7+0x1*-0x2375))+':\x09'+_0x1382ad[_0xea2931]+'\x0a';}_0x46343['source']=_0x514388;}return[_0x5682f0,_0x46343];}}function c_(_0x53c591,_0x58b5d2){const _0x1fe527=_0x53c591['width'],_0x17f903=_0x53c591['height'];if(_0x1fe527>_0x58b5d2||_0x17f903>_0x58b5d2){const _0xac68fe=_0x58b5d2/Math['max'](_0x1fe527,_0x17f903),_0x231f19=Math['floor'](_0x1fe527*_0xac68fe),_0x7fc417=Math['floor'](_0x17f903*_0xac68fe);w['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x58b5d2+('.\x20Resizing'+'\x20from\x20')+_0x1fe527+',\x20'+_0x17f903+'\x20to\x20'+_0x231f19+',\x20'+_0x7fc417+'.');const _0x11bfbb=document['createElem'+'ent']('canvas');return _0x11bfbb['width']=_0x231f19,_0x11bfbb['height']=_0x7fc417,_0x11bfbb['getContext']('2d')['drawImage'](_0x53c591,0x1fd5*-0x1+-0x18be*0x1+-0x815*-0x7,-0x6a*-0x12+0x1*0x1391+-0x1b05,_0x1fe527,_0x17f903,-0x7be*0x3+-0x24eb+0x3c25,0x1c3*-0x5+0x15cf+0x10*-0xd0,_0x231f19,_0x7fc417),_0x11bfbb;}return _0x53c591;}class ew{constructor(_0xc4843a){h(this,'_glTexture',null),h(this,'_glTarget'),h(this,'_glFormat'),h(this,'_glInterna'+'lFormat'),h(this,'_glPixelTy'+'pe'),h(this,'_glCreated'),h(this,'dirtyParam'+'eterFlags',0x100d+-0x156f+0xd*0x6a),this['texture']=_0xc4843a;}['destroy'](_0x1d7200){if(this['_glTexture']){for(let _0x4b3041=-0x6*0x18+0x1519+-0x1*0x1489;_0x4b3041<_0x1d7200['textureUni'+'ts']['length'];_0x4b3041++){const _0x34a431=_0x1d7200['textureUni'+'ts'][_0x4b3041];for(let _0x271b92=-0x1a*0x116+-0x1ac4+0x3700;_0x271b92<_0x34a431['length'];_0x271b92++)_0x34a431[_0x271b92]===this['_glTexture']&&(_0x34a431[_0x271b92]=null);}_0x1d7200['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x3fd736){this['dirtyParam'+'eterFlags']|=_0x3fd736;}['initialize'](_0x13237b,_0x4c008f){const _0x339172=_0x13237b['gl'];switch(this['_glTexture']=_0x339172['createText'+'ure'](),this['_glTarget']=_0x4c008f['_cubemap']?_0x339172['TEXTURE_CU'+'BE_MAP']:_0x4c008f['_volume']?_0x339172['TEXTURE_3D']:_0x4c008f['array']?_0x339172['TEXTURE_2D'+'_ARRAY']:_0x339172['TEXTURE_2D'],_0x4c008f['_format']){case ty:this['_glFormat']=_0x339172['ALPHA'],this['_glInterna'+'lFormat']=_0x339172['ALPHA'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_B'+'YTE'];break;case sy:this['_glFormat']=_0x339172['LUMINANCE'],this['_glInterna'+'lFormat']=_0x339172['LUMINANCE'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_B'+'YTE'];break;case ap:this['_glFormat']=_0x339172['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x339172['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_B'+'YTE'];break;case Ep:this['_glFormat']=_0x339172['RED'],this['_glInterna'+'lFormat']=_0x339172['R8'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_B'+'YTE'];break;case bp:this['_glFormat']=_0x339172['RG'],this['_glInterna'+'lFormat']=_0x339172['RG8'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_B'+'YTE'];break;case Jh:this['_glFormat']=_0x339172['RGB'],this['_glInterna'+'lFormat']=_0x339172['RGB565'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_S'+'HORT_5_6_5'];break;case np:this['_glFormat']=_0x339172['RGBA'],this['_glInterna'+'lFormat']=_0x339172['RGB5_A1'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case ed:this['_glFormat']=_0x339172['RGBA'],this['_glInterna'+'lFormat']=_0x339172['RGBA4'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case Cr:this['_glFormat']=_0x339172['RGB'],this['_glInterna'+'lFormat']=_0x339172['RGB8'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_B'+'YTE'];break;case Ne:this['_glFormat']=_0x339172['RGBA'],this['_glInterna'+'lFormat']=_0x339172['RGBA8'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_B'+'YTE'];break;case ny:case hy:w['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case td:this['_glFormat']=_0x339172['RGB'],this['_glInterna'+'lFormat']=_0x13237b['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case op:this['_glFormat']=_0x339172['RGBA'],this['_glInterna'+'lFormat']=_0x13237b['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case vl:this['_glFormat']=_0x339172['RGBA'],this['_glInterna'+'lFormat']=_0x13237b['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case id:this['_glFormat']=_0x339172['RGB'],this['_glInterna'+'lFormat']=_0x13237b['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case xl:this['_glFormat']=_0x339172['RGB'],this['_glInterna'+'lFormat']=_0x13237b['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Tl:this['_glFormat']=_0x339172['RGBA'],this['_glInterna'+'lFormat']=_0x13237b['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case rd:this['_glFormat']=_0x339172['RGB'],this['_glInterna'+'lFormat']=_0x13237b['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case ad:this['_glFormat']=_0x339172['RGBA'],this['_glInterna'+'lFormat']=_0x13237b['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case cp:this['_glFormat']=_0x339172['RGB'],this['_glInterna'+'lFormat']=_0x13237b['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case hp:this['_glFormat']=_0x339172['RGBA'],this['_glInterna'+'lFormat']=_0x13237b['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case iy:this['_glFormat']=_0x339172['RGBA'],this['_glInterna'+'lFormat']=_0x13237b['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case ry:this['_glFormat']=_0x339172['RGB'],this['_glInterna'+'lFormat']=_0x13237b['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case ay:this['_glFormat']=_0x339172['RGBA'],this['_glInterna'+'lFormat']=_0x13237b['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case dy:this['_glFormat']=_0x339172['RGB'],this['_glInterna'+'lFormat']=_0x13237b['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case fy:this['_glFormat']=_0x339172['RGB'],this['_glInterna'+'lFormat']=_0x13237b['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case uy:this['_glFormat']=_0x339172['RGBA'],this['_glInterna'+'lFormat']=_0x13237b['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case Xf:this['_glFormat']=_0x339172['SRGB'],this['_glInterna'+'lFormat']=_0x13237b['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case qf:this['_glFormat']=_0x339172['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x13237b['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case jf:this['_glFormat']=_0x339172['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x13237b['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case Yf:this['_glFormat']=_0x339172['SRGB'],this['_glInterna'+'lFormat']=_0x13237b['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case Kf:this['_glFormat']=_0x339172['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x13237b['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Zf:this['_glFormat']=_0x339172['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x13237b['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case Qf:this['_glFormat']=_0x339172['RGBA'],this['_glInterna'+'lFormat']=_0x13237b['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case od:this['_glFormat']=_0x339172['RED'],this['_glInterna'+'lFormat']=_0x339172['R16F'],this['_glPixelTy'+'pe']=_0x339172['HALF_FLOAT'];break;case wp:this['_glFormat']=_0x339172['RG'],this['_glInterna'+'lFormat']=_0x339172['RG16F'],this['_glPixelTy'+'pe']=_0x339172['HALF_FLOAT'];break;case ui:this['_glFormat']=_0x339172['RGB'],this['_glInterna'+'lFormat']=_0x339172['RGB16F'],this['_glPixelTy'+'pe']=_0x339172['HALF_FLOAT'];break;case nt:this['_glFormat']=_0x339172['RGBA'],this['_glInterna'+'lFormat']=_0x339172['RGBA16F'],this['_glPixelTy'+'pe']=_0x339172['HALF_FLOAT'];break;case Ye:this['_glFormat']=_0x339172['RGB'],this['_glInterna'+'lFormat']=_0x339172['RGB32F'],this['_glPixelTy'+'pe']=_0x339172['FLOAT'];break;case Xt:this['_glFormat']=_0x339172['RGBA'],this['_glInterna'+'lFormat']=_0x339172['RGBA32F'],this['_glPixelTy'+'pe']=_0x339172['FLOAT'];break;case Ji:this['_glFormat']=_0x339172['RED'],this['_glInterna'+'lFormat']=_0x339172['R32F'],this['_glPixelTy'+'pe']=_0x339172['FLOAT'];break;case $i:this['_glFormat']=_0x339172['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x339172['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x339172['FLOAT'];break;case vn:this['_glFormat']=_0x339172['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x339172['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_S'+'HORT'];break;case sd:this['_glFormat']=_0x339172['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x339172['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_I'+'NT_24_8'];break;case In:this['_glFormat']=_0x339172['RGB'],this['_glInterna'+'lFormat']=_0x339172['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case lp:this['_glFormat']=_0x339172['RGB'],this['_glInterna'+'lFormat']=_0x339172['SRGB8'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_B'+'YTE'];break;case _s:this['_glFormat']=_0x339172['RGBA'],this['_glInterna'+'lFormat']=_0x339172['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_B'+'YTE'];break;case dp:this['_glFormat']=_0x339172['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x339172['R8I'],this['_glPixelTy'+'pe']=_0x339172['BYTE'];break;case oy:this['_glFormat']=_0x339172['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x339172['R8UI'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_B'+'YTE'];break;case fp:this['_glFormat']=_0x339172['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x339172['R16I'],this['_glPixelTy'+'pe']=_0x339172['SHORT'];break;case up:this['_glFormat']=_0x339172['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x339172['R16UI'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_S'+'HORT'];break;case pp:this['_glFormat']=_0x339172['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x339172['R32I'],this['_glPixelTy'+'pe']=_0x339172['INT'];break;case Ki:this['_glFormat']=_0x339172['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x339172['R32UI'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_I'+'NT'];break;case mp:this['_glFormat']=_0x339172['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x339172['RG8I'],this['_glPixelTy'+'pe']=_0x339172['BYTE'];break;case ly:this['_glFormat']=_0x339172['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x339172['RG8UI'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_B'+'YTE'];break;case _p:this['_glFormat']=_0x339172['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x339172['RG16I'],this['_glPixelTy'+'pe']=_0x339172['SHORT'];break;case gp:this['_glFormat']=_0x339172['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x339172['RG16UI'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_S'+'HORT'];break;case Sp:this['_glFormat']=_0x339172['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x339172['RG32I'],this['_glPixelTy'+'pe']=_0x339172['INT'];break;case yp:this['_glFormat']=_0x339172['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x339172['RG32UI'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_I'+'NT'];break;case vp:this['_glFormat']=_0x339172['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x339172['RGBA8I'],this['_glPixelTy'+'pe']=_0x339172['BYTE'];break;case cy:this['_glFormat']=_0x339172['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x339172['RGBA8UI'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_B'+'YTE'];break;case xp:this['_glFormat']=_0x339172['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x339172['RGBA16I'],this['_glPixelTy'+'pe']=_0x339172['SHORT'];break;case nd:this['_glFormat']=_0x339172['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x339172['RGBA16UI'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_S'+'HORT'];break;case Tp:this['_glFormat']=_0x339172['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x339172['RGBA32I'],this['_glPixelTy'+'pe']=_0x339172['INT'];break;case Ue:this['_glFormat']=_0x339172['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x339172['RGBA32UI'],this['_glPixelTy'+'pe']=_0x339172['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(0x123e+0x59*-0x51+0x9ec);}['upload'](_0x5c4a92,_0x5e2882){w['assert'](_0x5e2882['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x5e2882);const _0x20c7da=_0x5c4a92['gl'];if(!_0x5e2882['_needsUplo'+'ad']&&(_0x5e2882['_needsMipm'+'apsUpload']&&_0x5e2882['_mipmapsUp'+'loaded']||!_0x5e2882['pot']))return;let _0x494465=0x7b*-0x35+-0xaad+0x2424,_0x1f6497,_0x2aea79;const _0x14f3d3=_0x5e2882['numLevels'];for(_0x5e2882['array']&&_0x20c7da['texStorage'+'3D'](_0x20c7da['TEXTURE_2D'+'_ARRAY'],_0x14f3d3,this['_glInterna'+'lFormat'],_0x5e2882['_width'],_0x5e2882['_height'],_0x5e2882['_arrayLeng'+'th']);_0x5e2882['_levels'][_0x494465]||_0x494465===-0xa*0x17+-0xef8+0xfde;){if(!_0x5e2882['_needsUplo'+'ad']&&_0x494465===0x19*0x25+-0x2*0x971+0xf45){_0x494465++;continue;}else{if(_0x494465&&(!_0x5e2882['_needsMipm'+'apsUpload']||!_0x5e2882['_mipmaps']))break;}if(_0x1f6497=_0x5e2882['_levels'][_0x494465],_0x2aea79=(-0x533+-0x1123*0x1+0x1657)/Math['pow'](0x2be+0x1*0x1581+-0x4d9*0x5,_0x494465),_0x494465===0x628*0x6+0xfd9*-0x2+0x9*-0x95&&!_0x5e2882['_compresse'+'d']&&!_0x5e2882['_integerFo'+'rmat']&&_0x5e2882['_levels']['length']<_0x14f3d3&&(_0x20c7da['generateMi'+'pmap'](this['_glTarget']),_0x5e2882['_mipmapsUp'+'loaded']=!(-0x165a*-0x1+0x16df+0x11*-0x2a9)),_0x5e2882['_cubemap']){let _0x43a226;if(_0x5c4a92['_isBrowser'+'Interface'](_0x1f6497[-0x1515+0x571*-0x1+-0x1a86*-0x1]))for(_0x43a226=0x1d39+-0x1411+-0x928;_0x43a226<0x1da2+-0xb14*-0x2+0x33c4*-0x1;_0x43a226++){if(!_0x5e2882['_levelsUpd'+'ated'][0x1*-0x5e3+-0x4e3+0xac6][_0x43a226])continue;let _0x2f1e19=_0x1f6497[_0x43a226];_0x5c4a92['_isImageBr'+'owserInter'+'face'](_0x2f1e19)&&(_0x2f1e19['width']>_0x5c4a92['maxCubeMap'+'Size']||_0x2f1e19['height']>_0x5c4a92['maxCubeMap'+'Size'])&&(_0x2f1e19=c_(_0x2f1e19,_0x5c4a92['maxCubeMap'+'Size']),_0x494465===-0x189a+-0x1*-0xb9b+0xcff&&(_0x5e2882['_width']=_0x2f1e19['width'],_0x5e2882['_height']=_0x2f1e19['height'])),_0x5c4a92['setUnpackF'+'lipY'](!(-0x1f27+-0x2081+-0x2b*-0x17b)),_0x5c4a92['setUnpackP'+'remultiply'+'Alpha'](_0x5e2882['_premultip'+'lyAlpha']),this['_glCreated']?_0x20c7da['texSubImag'+'e2D'](_0x20c7da['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x43a226,_0x494465,0x211e+-0x1*0x1526+0x17f*-0x8,0x16af*-0x1+0x1e*-0xb+-0x13*-0x143,this['_glFormat'],this['_glPixelTy'+'pe'],_0x2f1e19):_0x20c7da['texImage2D'](_0x20c7da['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x43a226,_0x494465,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x2f1e19);}else for(_0x2aea79=(-0x1af1+-0x18e0+0x33d2)/Math['pow'](0x1*0x7db+-0x649*0x1+-0x190,_0x494465),_0x43a226=0x1b55*0x1+-0x1a6+0x1*-0x19af;_0x43a226<-0x8d*0x45+0x19a6+0x1*0xc61;_0x43a226++){if(!_0x5e2882['_levelsUpd'+'ated'][-0x18d1*0x1+0x1*-0x1dcf+0x36a0][_0x43a226])continue;const _0x551984=_0x1f6497[_0x43a226];_0x5e2882['_compresse'+'d']?this['_glCreated']&&_0x551984?_0x20c7da['compressed'+'TexSubImag'+'e2D'](_0x20c7da['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x43a226,_0x494465,-0xb9d*0x2+0x6e6+0x1054,0x32f*-0x3+0x24c0+0x21*-0xd3,Math['max'](_0x5e2882['_width']*_0x2aea79,-0x2*-0x134e+0x186+-0x2821),Math['max'](_0x5e2882['_height']*_0x2aea79,-0xefe+-0x1*0x68b+0x158a),this['_glInterna'+'lFormat'],_0x551984):_0x20c7da['compressed'+'TexImage2D'](_0x20c7da['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x43a226,_0x494465,this['_glInterna'+'lFormat'],Math['max'](_0x5e2882['_width']*_0x2aea79,-0x1fcc+-0x1d3*0xd+0x44*0xd1),Math['max'](_0x5e2882['_height']*_0x2aea79,-0xb7e+-0x786*-0x2+0x3*-0x12f),0x1df1+-0x11*0x8b+-0x16*0xf1,_0x551984):(_0x5c4a92['setUnpackF'+'lipY'](!(0x568+0x303*-0x9+0x15b4)),_0x5c4a92['setUnpackP'+'remultiply'+'Alpha'](_0x5e2882['_premultip'+'lyAlpha']),this['_glCreated']&&_0x551984?_0x20c7da['texSubImag'+'e2D'](_0x20c7da['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x43a226,_0x494465,-0x1*-0x6cb+0xf50+-0x161b,0x11*0x16f+-0x29*0x53+-0x2c5*0x4,Math['max'](_0x5e2882['_width']*_0x2aea79,0x26b3+0x1287+-0x3939),Math['max'](_0x5e2882['_height']*_0x2aea79,-0x509+-0x5d*-0x6b+0xb47*-0x3),this['_glFormat'],this['_glPixelTy'+'pe'],_0x551984):_0x20c7da['texImage2D'](_0x20c7da['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x43a226,_0x494465,this['_glInterna'+'lFormat'],Math['max'](_0x5e2882['_width']*_0x2aea79,0x45f*0x6+0x2486+0x1*-0x3ebf),Math['max'](_0x5e2882['_height']*_0x2aea79,0x2697+0x1282+-0x1f8*0x1d),-0xc5*0x16+-0x2521+0x360f,this['_glFormat'],this['_glPixelTy'+'pe'],_0x551984));}}else{if(_0x5e2882['_volume'])_0x5e2882['_compresse'+'d']?_0x20c7da['compressed'+'TexImage3D'](_0x20c7da['TEXTURE_3D'],_0x494465,this['_glInterna'+'lFormat'],Math['max'](_0x5e2882['_width']*_0x2aea79,-0xe7f+0x6a1*0x3+-0xc5*0x7),Math['max'](_0x5e2882['_height']*_0x2aea79,-0x187+-0x2e*0x45+0xdee),Math['max'](_0x5e2882['_depth']*_0x2aea79,0xa4+-0x1*0x1af2+0x1a4f),-0x15*0x1+-0x8e7*0x1+0x8fc,_0x1f6497):(_0x5c4a92['setUnpackF'+'lipY'](!(-0x766+-0x20db+0x2842)),_0x5c4a92['setUnpackP'+'remultiply'+'Alpha'](_0x5e2882['_premultip'+'lyAlpha']),_0x20c7da['texImage3D'](_0x20c7da['TEXTURE_3D'],_0x494465,this['_glInterna'+'lFormat'],Math['max'](_0x5e2882['_width']*_0x2aea79,0x1c1b*-0x1+-0xe*0x62+-0x2178*-0x1),Math['max'](_0x5e2882['_height']*_0x2aea79,-0xe6*-0x19+-0x3*-0xc6f+-0x3bc2),Math['max'](_0x5e2882['_depth']*_0x2aea79,-0xbe2+-0x19c+0xd7f),0x265*0xc+-0x18df+-0x3dd,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1f6497));else{if(_0x5e2882['array']&&typeof _0x1f6497=='object'){if(_0x5e2882['_arrayLeng'+'th']===_0x1f6497['length']){if(_0x5e2882['_compresse'+'d']){for(let _0x46932e=-0x519+0x11*-0x8b+-0x20c*-0x7;_0x46932e<_0x5e2882['_arrayLeng'+'th'];_0x46932e++)_0x20c7da['compressed'+'TexSubImag'+'e3D'](_0x20c7da['TEXTURE_2D'+'_ARRAY'],_0x494465,-0x17d2*0x1+0x8c9*-0x3+0x322d,0xa*-0x302+-0x156c+0x3380,_0x46932e,Math['max'](Math['floor'](_0x5e2882['_width']*_0x2aea79),0x2386+0x15f2+-0x2f*0x139),Math['max'](Math['floor'](_0x5e2882['_height']*_0x2aea79),-0x5*-0x5d1+0xce1*-0x1+0x1033*-0x1),-0xd3a+0x1*0x6d1+0x66a,this['_glInterna'+'lFormat'],_0x1f6497[_0x46932e]);}else{for(let _0x173e6b=-0xd*0x7a+-0xd*-0x28e+-0x1b04;_0x173e6b<_0x5e2882['_arrayLeng'+'th'];_0x173e6b++)_0x20c7da['texSubImag'+'e3D'](_0x20c7da['TEXTURE_2D'+'_ARRAY'],_0x494465,-0x244d+-0x1*-0x485+0x1fc8,0x1eb*-0xa+0x44*-0x35+-0x6*-0x58b,_0x173e6b,Math['max'](Math['floor'](_0x5e2882['_width']*_0x2aea79),0x65b*-0x3+0x1b23*-0x1+0x2e35),Math['max'](Math['floor'](_0x5e2882['_height']*_0x2aea79),-0x987*-0x2+0x22a+-0x1537),0x1*0x822+0x20ca+0x82f*-0x5,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1f6497[_0x173e6b]);}}}else{if(_0x5c4a92['_isBrowser'+'Interface'](_0x1f6497)){_0x5c4a92['_isImageBr'+'owserInter'+'face'](_0x1f6497)&&(_0x1f6497['width']>_0x5c4a92['maxTexture'+'Size']||_0x1f6497['height']>_0x5c4a92['maxTexture'+'Size'])&&(_0x1f6497=c_(_0x1f6497,_0x5c4a92['maxTexture'+'Size']),_0x494465===0x2634+-0x1d56*0x1+-0xe3*0xa&&(_0x5e2882['_width']=_0x1f6497['width'],_0x5e2882['_height']=_0x1f6497['height']));const _0x91c6b2=_0x1f6497['width']||_0x1f6497['videoWidth'],_0x45f50a=_0x1f6497['height']||_0x1f6497['videoHeigh'+'t'];_0x5c4a92['setUnpackF'+'lipY'](_0x5e2882['_flipY']),_0x5c4a92['setUnpackP'+'remultiply'+'Alpha'](_0x5e2882['_premultip'+'lyAlpha']),this['_glCreated']&&_0x5e2882['_width']===_0x91c6b2&&_0x5e2882['_height']===_0x45f50a&&!_0x5c4a92['_isImageVi'+'deoInterfa'+'ce'](_0x1f6497)?_0x20c7da['texSubImag'+'e2D'](_0x20c7da['TEXTURE_2D'],_0x494465,0x186a+0x1*-0x2455+0xbeb,-0xd7*0x2d+-0x1*0x26de+0x4ca9,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1f6497):(_0x20c7da['texImage2D'](_0x20c7da['TEXTURE_2D'],_0x494465,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x1f6497),_0x494465===-0x808+-0x1c2f+0x49*0x7f&&(_0x5e2882['_width']=_0x91c6b2,_0x5e2882['_height']=_0x45f50a));}else _0x2aea79=(0x214e+0x115*0x24+-0x4841)/Math['pow'](0x1525+0x20c0+0x1*-0x35e3,_0x494465),_0x5e2882['_compresse'+'d']?this['_glCreated']&&_0x1f6497?_0x20c7da['compressed'+'TexSubImag'+'e2D'](_0x20c7da['TEXTURE_2D'],_0x494465,-0x1462+-0x48a+-0x122*-0x16,-0x75+0x26d2*0x1+-0x265d*0x1,Math['max'](Math['floor'](_0x5e2882['_width']*_0x2aea79),0x72*-0x20+-0x8b4+0x16f5),Math['max'](Math['floor'](_0x5e2882['_height']*_0x2aea79),-0x943+0x11*-0x1c1+0x2715),this['_glInterna'+'lFormat'],_0x1f6497):_0x20c7da['compressed'+'TexImage2D'](_0x20c7da['TEXTURE_2D'],_0x494465,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x5e2882['_width']*_0x2aea79),0x1791*0x1+0x44c+-0x1bdc),Math['max'](Math['floor'](_0x5e2882['_height']*_0x2aea79),-0x184b+-0x1954*-0x1+-0x108),-0x1460+-0x83d+-0x1c9d*-0x1,_0x1f6497):(_0x5c4a92['setUnpackF'+'lipY'](!(-0x1db8*-0x1+-0x84d+0xab5*-0x2)),_0x5c4a92['setUnpackP'+'remultiply'+'Alpha'](_0x5e2882['_premultip'+'lyAlpha']),this['_glCreated']&&_0x1f6497?_0x20c7da['texSubImag'+'e2D'](_0x20c7da['TEXTURE_2D'],_0x494465,-0x2*-0xb12+0x55f+-0x1b83*0x1,0x9da*-0x1+0x1aee+-0x445*0x4,Math['max'](_0x5e2882['_width']*_0x2aea79,0x11*-0x115+0xc*0x198+-0xba),Math['max'](_0x5e2882['_height']*_0x2aea79,0x148a+-0x1a*-0xa7+-0x257f),this['_glFormat'],this['_glPixelTy'+'pe'],_0x1f6497):_0x20c7da['texImage2D'](_0x20c7da['TEXTURE_2D'],_0x494465,this['_glInterna'+'lFormat'],Math['max'](_0x5e2882['_width']*_0x2aea79,0x5bc+0x754+-0xd0f*0x1),Math['max'](_0x5e2882['_height']*_0x2aea79,0x2*0x10bf+-0x1ad0+-0x6ad),-0xa8c+-0x16df+0x216b*0x1,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1f6497));_0x494465===0x170d+-0x19c1+0x2b4?_0x5e2882['_mipmapsUp'+'loaded']=!(-0xc9a+0x2573+-0x18d8):_0x5e2882['_mipmapsUp'+'loaded']=!(0x19ec+0x27*-0x75+0x3*-0x2b3);}}}_0x494465++;}if(_0x5e2882['_needsUplo'+'ad']){if(_0x5e2882['_cubemap']){for(let _0x35150a=0x219e+0x56*-0x3f+0x2*-0x63a;_0x35150a<-0x2160+-0x2*-0xf19+-0xa*-0x52;_0x35150a++)_0x5e2882['_levelsUpd'+'ated'][0x268b+-0xdf*0x1+-0x25ac][_0x35150a]=!(0x91d*0x2+0x228*-0x9+0x12f);}else _0x5e2882['_levelsUpd'+'ated'][0x1969+-0x8*-0x2a5+-0x2e91]=!(-0x147e+-0x11b2+0x2631);}!_0x5e2882['_compresse'+'d']&&!_0x5e2882['_integerFo'+'rmat']&&_0x5e2882['_mipmaps']&&_0x5e2882['_needsMipm'+'apsUpload']&&_0x5e2882['_levels']['length']===-0x2428+-0xf21+0x334a&&(_0x20c7da['generateMi'+'pmap'](this['_glTarget']),_0x5e2882['_mipmapsUp'+'loaded']=!(-0x1*0x204f+-0xae*0x17+0x2ff1)),_0x5e2882['_gpuSize']&&_0x5e2882['adjustVram'+'SizeTracki'+'ng'](_0x5c4a92['_vram'],-_0x5e2882['_gpuSize']),_0x5e2882['_gpuSize']=_0x5e2882['gpuSize'],_0x5e2882['adjustVram'+'SizeTracki'+'ng'](_0x5c4a92['_vram'],_0x5e2882['_gpuSize']),this['_glCreated']=!(-0x1269*-0x2+0x1c81+-0x7*0x955);}['read'](_0xbc2c85,_0x83a46,_0x368d26,_0xefcea,_0x194cb8){const _0x3adcd4=this['texture'];return _0x3adcd4['device']['readTextur'+'eAsync'](_0x3adcd4,_0xbc2c85,_0x83a46,_0x368d26,_0xefcea,_0x194cb8);}['write'](_0x70e007,_0x307b34,_0xf81169,_0x459bbb,_0x419eda){const {texture:_0xfa343e}=this,{device:_0x33dfea}=_0xfa343e;return _0x33dfea['setTexture'](_0xfa343e,0x359*0x3+-0x9d0+-0x3b),_0x33dfea['writeTextu'+'reAsync'](_0xfa343e,_0x70e007,_0x307b34,_0xf81169,_0x459bbb,_0x419eda);}}class tw{constructor(_0x3315a4,_0x28b072){h(this,'msaaFB'),h(this,'resolveFB'),(this['msaaFB']=_0x3315a4,this['resolveFB']=_0x28b072);}['destroy'](_0x7588b7){this['msaaFB']&&(_0x7588b7['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x7588b7['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class sw{constructor(){h(this,'_glFrameBu'+'ffer',null),h(this,'_glDepthBu'+'ffer',null),h(this,'_glResolve'+'FrameBuffe'+'r',null),h(this,'colorMrtFr'+'amebuffers',null),h(this,'_glMsaaCol'+'orBuffers',[]),h(this,'_glMsaaDep'+'thBuffer',null),h(this,'msaaDepthB'+'ufferKey'),h(this,'suppliedCo'+'lorFramebu'+'ffer'),h(this,'_isInitial'+'ized',!(-0xe4d+-0x556*0x7+0x33a8));}['destroy'](_0x5b2cb4){var _0x2ebbcd;const _0x426981=_0x5b2cb4['gl'];this['_isInitial'+'ized']=!(0x5*0x5ce+-0xc1*0x13+-0xeb2),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x426981['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x426981['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x426981['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x5e7873=>{_0x426981['deleteRend'+'erbuffer'](_0x5e7873);}),this['_glMsaaCol'+'orBuffers']['length']=-0xe8d+-0x14cc+0x2359*0x1,(_0x2ebbcd=this['colorMrtFr'+'amebuffers'])==null||_0x2ebbcd['forEach'](_0x4f5449=>{_0x4f5449['destroy'](_0x426981);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&Fd(_0x5b2cb4)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x22*0x97+-0x2*-0x7d1+0x46c);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x57b3cd,_0x417448){var _0x5185b8,_0x1bcbfb;const _0x569404=_0x57b3cd['gl'];w['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(-0x7*-0x572+0x2511*0x1+-0x13*0x3f5);const _0x2075ea=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0xd7b+-0x1cda+0x2a55*0x1))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{w['call'](()=>{(_0x417448['width']<=0x1162+0x2479*-0x1+-0x9*-0x21f||_0x417448['height']<=-0x236e+0x718+0x1c56)&&w['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x417448['width']+'\x20x\x20'+_0x417448['height'],_0x417448);}),this['_glFrameBu'+'ffer']=_0x569404['createFram'+'ebuffer'](),_0x57b3cd['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x2bbe2a=((_0x5185b8=_0x417448['_colorBuff'+'ers'])==null?void(-0x6d7*0x1+0xd79+-0x351*0x2):_0x5185b8['length'])??0xdaf+-0x25ac+0x17fd,_0x23bdb2=_0x569404['COLOR_ATTA'+'CHMENT0'];for(let _0x222cb7=-0x5*0x191+-0x1b6a+-0x233f*-0x1;_0x222cb7<_0x2bbe2a;++_0x222cb7){const _0x1b826f=_0x417448['getColorBu'+'ffer'](_0x222cb7);_0x1b826f&&(_0x1b826f['impl']['_glTexture']||(_0x1b826f['_width']=Math['min'](_0x1b826f['width'],_0x57b3cd['maxRenderB'+'ufferSize']),_0x1b826f['_height']=Math['min'](_0x1b826f['height'],_0x57b3cd['maxRenderB'+'ufferSize']),_0x57b3cd['setTexture'](_0x1b826f,-0x13*0x24+0x1624+-0x8*0x26f)),_0x569404['framebuffe'+'rTexture2D'](_0x569404['FRAMEBUFFE'+'R'],_0x23bdb2+_0x222cb7,_0x1b826f['_cubemap']?_0x569404['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x417448['_face']:_0x569404['TEXTURE_2D'],_0x1b826f['impl']['_glTexture'],_0x417448['mipLevel']),_0x2075ea['push'](_0x23bdb2+_0x222cb7));}_0x569404['drawBuffer'+'s'](_0x2075ea);const _0x57cf7e=_0x417448['_depthBuff'+'er'];if(_0x57cf7e||_0x417448['_depth']){const _0x5dd21e=_0x417448['_stencil']?_0x569404['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x569404['DEPTH_ATTA'+'CHMENT'];if(_0x57cf7e)_0x57cf7e['impl']['_glTexture']||(_0x57cf7e['_width']=Math['min'](_0x57cf7e['width'],_0x57b3cd['maxRenderB'+'ufferSize']),_0x57cf7e['_height']=Math['min'](_0x57cf7e['height'],_0x57b3cd['maxRenderB'+'ufferSize']),_0x57b3cd['setTexture'](_0x57cf7e,-0x352+0xe87+-0xb35)),_0x569404['framebuffe'+'rTexture2D'](_0x569404['FRAMEBUFFE'+'R'],_0x5dd21e,_0x57cf7e['_cubemap']?_0x569404['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x417448['_face']:_0x569404['TEXTURE_2D'],_0x417448['_depthBuff'+'er']['impl']['_glTexture'],_0x417448['mipLevel']);else{if(!(_0x417448['_samples']>0x2*-0xb62+0x2*-0x2e7+-0x181*-0x13)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x569404['createRend'+'erbuffer']());const _0x3b0566=_0x417448['_stencil']?_0x569404['DEPTH24_ST'+'ENCIL8']:_0x569404['DEPTH_COMP'+'ONENT32F'];_0x569404['bindRender'+'buffer'](_0x569404['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x569404['renderbuff'+'erStorage'](_0x569404['RENDERBUFF'+'ER'],_0x3b0566,_0x417448['width'],_0x417448['height']),_0x569404['framebuffe'+'rRenderbuf'+'fer'](_0x569404['FRAMEBUFFE'+'R'],_0x5dd21e,_0x569404['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x569404['bindRender'+'buffer'](_0x569404['RENDERBUFF'+'ER'],null);}}}w['call'](()=>this['_checkFbo'](_0x57b3cd,_0x417448));}if(_0x417448['_samples']>0x507*0x1+0x2*0x131d+-0x2b40){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x569404['createFram'+'ebuffer'](),_0x57b3cd['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x1db917=((_0x1bcbfb=_0x417448['_colorBuff'+'ers'])==null?void(-0x139f+-0x220b+-0x2*-0x1ad5):_0x1bcbfb['length'])??0x16ad+-0x411+-0x129c;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x1*-0x305+-0x12b5+0x15ba)){const _0x2e97de=_0x569404['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x2e97de);const _0x4cc8cf=_0x57b3cd['backBuffer'+'Format']===Ne?_0x569404['RGBA8']:_0x569404['RGB8'];_0x569404['bindRender'+'buffer'](_0x569404['RENDERBUFF'+'ER'],_0x2e97de),_0x569404['renderbuff'+'erStorageM'+'ultisample'](_0x569404['RENDERBUFF'+'ER'],_0x417448['_samples'],_0x4cc8cf,_0x417448['width'],_0x417448['height']),_0x569404['framebuffe'+'rRenderbuf'+'fer'](_0x569404['FRAMEBUFFE'+'R'],_0x569404['COLOR_ATTA'+'CHMENT0'],_0x569404['RENDERBUFF'+'ER'],_0x2e97de);}else for(let _0x3d5486=0xa6d+-0x32e*0xa+0x155f;_0x3d5486<_0x1db917;++_0x3d5486){const _0x68ea8b=_0x417448['getColorBu'+'ffer'](_0x3d5486);if(_0x68ea8b){const _0x52038d=_0x569404['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x52038d),_0x569404['bindRender'+'buffer'](_0x569404['RENDERBUFF'+'ER'],_0x52038d),_0x569404['renderbuff'+'erStorageM'+'ultisample'](_0x569404['RENDERBUFF'+'ER'],_0x417448['_samples'],_0x68ea8b['impl']['_glInterna'+'lFormat'],_0x417448['width'],_0x417448['height']),_0x569404['framebuffe'+'rRenderbuf'+'fer'](_0x569404['FRAMEBUFFE'+'R'],_0x569404['COLOR_ATTA'+'CHMENT0']+_0x3d5486,_0x569404['RENDERBUFF'+'ER'],_0x52038d);}}if(_0x417448['_depth']){w['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x2f186a=_0x417448['_stencil']?_0x569404['DEPTH24_ST'+'ENCIL8']:_0x569404['DEPTH_COMP'+'ONENT32F'],_0x5b36bd=_0x417448['_stencil']?_0x569404['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x569404['DEPTH_ATTA'+'CHMENT'];let _0x5d1895;const _0x25b03f=_0x417448['_depthBuff'+'er'];_0x25b03f&&(_0x5d1895=_0x25b03f['id']+':'+_0x417448['width']+':'+_0x417448['height']+':'+_0x417448['_samples']+':'+_0x2f186a+':'+_0x5b36bd,this['_glMsaaDep'+'thBuffer']=Fd(_0x57b3cd)['get'](_0x5d1895)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x569404['createRend'+'erbuffer'](),_0x569404['bindRender'+'buffer'](_0x569404['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x569404['renderbuff'+'erStorageM'+'ultisample'](_0x569404['RENDERBUFF'+'ER'],_0x417448['_samples'],_0x2f186a,_0x417448['width'],_0x417448['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x569404['deleteRend'+'erbuffer'](this);},_0x25b03f&&Fd(_0x57b3cd)['set'](_0x5d1895,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x5d1895,_0x569404['framebuffe'+'rRenderbuf'+'fer'](_0x569404['FRAMEBUFFE'+'R'],_0x5b36bd,_0x569404['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}w['call'](()=>this['_checkFbo'](_0x57b3cd,_0x417448,'MSAA')),_0x1db917>0xe*0x29+-0x1c9*0x2+0x155&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x57b3cd,_0x417448,_0x1db917),_0x57b3cd['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x569404['drawBuffer'+'s'](_0x2075ea));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x5834da,_0x4ecea7,_0x5260ab){const _0x254e57=_0x5834da['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x3bd210=-0x1cf1+-0x1bc3+0x38b4;_0x3bd210<_0x5260ab;++_0x3bd210){const _0x5f3f73=_0x4ecea7['getColorBu'+'ffer'](_0x3bd210),_0xff79fd=_0x254e57['createFram'+'ebuffer']();_0x5834da['setFramebu'+'ffer'](_0xff79fd);const _0x27ba78=this['_glMsaaCol'+'orBuffers'][_0x3bd210];_0x254e57['bindRender'+'buffer'](_0x254e57['RENDERBUFF'+'ER'],_0x27ba78),_0x254e57['renderbuff'+'erStorageM'+'ultisample'](_0x254e57['RENDERBUFF'+'ER'],_0x4ecea7['_samples'],_0x5f3f73['impl']['_glInterna'+'lFormat'],_0x4ecea7['width'],_0x4ecea7['height']),_0x254e57['framebuffe'+'rRenderbuf'+'fer'](_0x254e57['FRAMEBUFFE'+'R'],_0x254e57['COLOR_ATTA'+'CHMENT0'],_0x254e57['RENDERBUFF'+'ER'],_0x27ba78),_0x254e57['drawBuffer'+'s']([_0x254e57['COLOR_ATTA'+'CHMENT0']]),w['call'](()=>this['_checkFbo'](_0x5834da,_0x4ecea7,'MSAA-MRT-s'+'rc'+_0x3bd210));const _0x4e435e=_0x254e57['createFram'+'ebuffer']();_0x5834da['setFramebu'+'ffer'](_0x4e435e),_0x254e57['framebuffe'+'rTexture2D'](_0x254e57['FRAMEBUFFE'+'R'],_0x254e57['COLOR_ATTA'+'CHMENT0'],_0x5f3f73['_cubemap']?_0x254e57['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4ecea7['_face']:_0x254e57['TEXTURE_2D'],_0x5f3f73['impl']['_glTexture'],-0xd67+-0x1cfe+0x2a65),this['colorMrtFr'+'amebuffers'][_0x3bd210]=new tw(_0xff79fd,_0x4e435e),w['call'](()=>this['_checkFbo'](_0x5834da,_0x4ecea7,'MSAA-MRT-d'+'st'+_0x3bd210));}}['_checkFbo'](_0x5a21f5,_0xfadeee,_0x3c9c86=''){const _0x3bb001=_0x5a21f5['gl'],_0x47aca1=_0x3bb001['checkFrame'+'bufferStat'+'us'](_0x3bb001['FRAMEBUFFE'+'R']);let _0x197c8a;switch(_0x47aca1){case _0x3bb001['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x197c8a='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x3bb001['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x197c8a='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x3bb001['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x197c8a='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x3bb001['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x197c8a='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}w['assert'](!_0x197c8a,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x197c8a+(',\x20render\x20t'+'arget:\x20')+_0xfadeee['name']+'\x20'+_0x3c9c86,_0xfadeee);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=0x171*-0x18+-0x833*-0x2+0x1232,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(-0x5*0x133+0x87+0xc8*0x7),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x3c9*-0x9+0x15f3+0x59a*-0xa),this['_isInitial'+'ized']=!(-0x67a+-0x2*0xa03+0x1a81);}['internalRe'+'solve'](_0x5c6198,_0x1cf6e8,_0x56a057,_0x1505f3,_0x2fb8b2){w['assert'](_0x1cf6e8!==_0x56a057,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x5c6198['setScissor'](0x1e33+0x24a0+-0x1*0x42d3,-0x4f3+-0xb66+-0x5*-0x345,_0x1505f3['width'],_0x1505f3['height']);const _0x3e3333=_0x5c6198['gl'];_0x3e3333['bindFrameb'+'uffer'](_0x3e3333['READ_FRAME'+'BUFFER'],_0x1cf6e8),_0x3e3333['bindFrameb'+'uffer'](_0x3e3333['DRAW_FRAME'+'BUFFER'],_0x56a057),_0x3e3333['blitFrameb'+'uffer'](-0x49*0x61+0x24a4+-0x8fb,0x8*-0x2a5+0x224+0x1304,_0x1505f3['width'],_0x1505f3['height'],0xe85+-0x2263+0x2*0x9ef,-0xac6+0x59*-0x16+0x126c,_0x1505f3['width'],_0x1505f3['height'],_0x2fb8b2,_0x3e3333['NEAREST']);}['resolve'](_0x183948,_0x1d4a5d,_0x596854,_0x3508f5){const _0x53169e=_0x183948['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x596854)for(let _0x590352=-0x1*-0x161b+0x5aa*-0x5+0x2b*0x25;_0x590352<this['colorMrtFr'+'amebuffers']['length'];_0x590352++){const _0x44d79f=this['colorMrtFr'+'amebuffers'][_0x590352];Q['pushGpuMar'+'ker'](_0x183948,'RESOLVE-MR'+'T'+_0x590352),this['internalRe'+'solve'](_0x183948,_0x44d79f['msaaFB'],_0x44d79f['resolveFB'],_0x1d4a5d,_0x53169e['COLOR_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x183948);}_0x3508f5&&(Q['pushGpuMar'+'ker'](_0x183948,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x183948,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x1d4a5d,_0x53169e['DEPTH_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x183948));}else Q['pushGpuMar'+'ker'](_0x183948,'RESOLVE'),this['internalRe'+'solve'](_0x183948,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x1d4a5d,(_0x596854?_0x53169e['COLOR_BUFF'+'ER_BIT']:0x73f*0x5+-0x1*0x248c+0x1b*0x3)|(_0x3508f5?_0x53169e['DEPTH_BUFF'+'ER_BIT']:0x136a+0xc*-0x6d+0x1*-0xe4e)),Q['popGpuMark'+'er'](_0x183948);_0x53169e['bindFrameb'+'uffer'](_0x53169e['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class iw{constructor(){h(this,'renderVers'+'ion'),h(this,'queries',[]);}['destroy'](_0x1f53c3){this['queries']['forEach'](_0x22fba1=>_0x1f53c3['deleteQuer'+'y'](_0x22fba1)),this['queries']=null;}}class rw extends $T{constructor(_0x245097){super(),h(this,'device'),h(this,'freeQuerie'+'s',[]),h(this,'frameQueri'+'es',[]),h(this,'previousFr'+'ameQueries',[]),h(this,'timings',[]),(this['device']=_0x245097,this['ext']=_0x245097['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x56b8be=>this['device']['gl']['deleteQuer'+'y'](_0x56b8be)),this['frameQueri'+'es']['forEach'](_0x13a170=>this['device']['gl']['deleteQuer'+'y'](_0x13a170)),this['previousFr'+'ameQueries']['forEach'](_0x55e7bc=>_0x55e7bc['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x31292b){if(this['ext']){const _0x473bce=this['getSlot'](_0x31292b),_0x2b5c69=this['getQuery']();return this['frameQueri'+'es'][_0x473bce]=_0x2b5c69,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x2b5c69),_0x473bce;}}['end'](_0x312eb2){_0x312eb2!==void(-0x19d4+0x1a23*-0x1+-0x35*-0xfb)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x590789=this['ext'],_0x1b310c=this['device']['gl'],_0x234f71=this['device']['renderVers'+'ion'],_0x4ce89e=this['frameQueri'+'es'];if(_0x4ce89e['length']>0xa*0x301+0x2068+-0x3e72){this['frameQueri'+'es']=[];const _0x56646e=new iw();_0x56646e['queries']=_0x4ce89e,_0x56646e['renderVers'+'ion']=_0x234f71,this['previousFr'+'ameQueries']['push'](_0x56646e);}if(this['previousFr'+'ameQueries']['length']>-0x535+-0xf36+0x146b){const _0x3cdc56=this['previousFr'+'ameQueries'][-0x88f+0x1370+0x22d*-0x5],_0xc09c1d=_0x3cdc56['queries'],_0x5574d4=_0xc09c1d[_0xc09c1d['length']-(0x1268+-0x1965+-0x166*-0x5)],_0x486c36=_0x1b310c['getQueryPa'+'rameter'](_0x5574d4,_0x1b310c['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x3c5f3a=_0x1b310c['getParamet'+'er'](_0x590789['GPU_DISJOI'+'NT_EXT']);if(_0x486c36&&!_0x3c5f3a){this['previousFr'+'ameQueries']['shift']();const _0x381097=this['timings'];_0x381097['length']=-0x105a+-0x1d9*-0xb+-0x3*0x153;for(let _0x1fb1d1=0xb*0x2e6+-0x22ac+0x2ca;_0x1fb1d1<_0xc09c1d['length'];_0x1fb1d1++){const _0xc5aec3=_0xc09c1d[_0x1fb1d1],_0x51ec30=_0x1b310c['getQueryPa'+'rameter'](_0xc5aec3,_0x1b310c['QUERY_RESU'+'LT']);_0x381097[_0x1fb1d1]=_0x51ec30*(0x4*0x44+-0x2*0x2a1+0x432+0.000001),this['freeQuerie'+'s']['push'](_0xc5aec3);}this['report'](_0x3cdc56['renderVers'+'ion'],_0x381097);}_0x3c5f3a&&(this['previousFr'+'ameQueries']['forEach'](_0x1e6610=>{this['report'](_0x1e6610['renderVers'+'ion'],null),_0x1e6610['destroy'](_0x1b310c);}),this['previousFr'+'ameQueries']['length']=-0x207c+-0x641+0x26bd);}super['request'](_0x234f71);}}}const Da=[];class aw extends $e{constructor(_0x404005,_0x4a1eec={}){super(_0x404005,_0x4a1eec),h(this,'gl'),h(this,'_defaultFr'+'amebuffer',null),h(this,'_defaultFr'+'amebufferC'+'hanged',!(-0x253d+0x1*0xe26+0x4*0x5c6)),(_0x4a1eec=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(-0x24b1*-0x1+-0x1d5e+-0x752*0x1),this['_contextLo'+'stHandler']=_0x1e509f=>{_0x1e509f['preventDef'+'ault'](),this['loseContex'+'t'](),w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x5821c3=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x5821c3&&_0x5821c3['includes']('AppleWebKi'+'t')&&(_0x5821c3['includes']('15.4')||_0x5821c3['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x4a1eec['antialias']=!(0x1d53+-0x1c8d+-0xc5),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),Ae['browserNam'+'e']==='firefox'){const _0x411512=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x1fde3f=_0x411512?_0x411512[0xea2*0x1+0x684+-0x1525]:null;if(_0x1fde3f){const _0x95eb60=parseFloat(_0x1fde3f);(Ae['name']==='windows'&&(_0x95eb60>=-0x1*-0x1645+0x7*-0x524+-0xe2f*-0x1||_0x95eb60===0x1*0x8c9+0x2cd+0x1*-0xb23)||Ae['name']==='android'&&_0x95eb60>=0x2*0x1d3+0x1*-0x15b+-0x1c7)&&(_0x4a1eec['antialias']=!(-0x2258+0x5*-0x10d+0x4a*0x89),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+Ae['name']+('\x20platform\x20'+'version\x20')+_0x1fde3f));}}this['backBuffer'+'Antialias']=_0x4a1eec['antialias']??!(-0x3e5*-0x2+0xcc3+0x5*-0x41c),_0x4a1eec['antialias']=!(0x14e7+0x109b+-0x2581);const _0x482fc2=_0x4a1eec['gl']??_0x404005['getContext']('webgl2',_0x4a1eec);if(!_0x482fc2)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x482fc2,this['isWebGL2']=!(-0x1*-0x1c9d+0xb29+0x1*-0x27c6),this['_deviceTyp'+'e']=aT,this['updateBack'+'bufferForm'+'at'](null);const _0x4d525b=Ae['browserNam'+'e']==='chrome',_0x2a558e=Ae['browserNam'+'e']==='safari',_0xb16d44=Ae['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(0x2267*-0x1+-0x8fd+-0x1e3*-0x17);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x2a558e,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0xb16d44&&_0x4d525b&&!_0x4a1eec['alpha'],_0x404005['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x1292+-0x474+0x1707)),_0x404005['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0xdf*0x20+-0x89e+-0x1341)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x2a558e&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x482fc2['SAMPLER_2D'],_0x482fc2['SAMPLER_CU'+'BE'],_0x482fc2['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x482fc2['INT_SAMPLE'+'R_2D'],_0x482fc2['SAMPLER_2D'+'_SHADOW'],_0x482fc2['SAMPLER_CU'+'BE_SHADOW'],_0x482fc2['SAMPLER_3D'],_0x482fc2['INT_SAMPLE'+'R_3D'],_0x482fc2['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x482fc2['SAMPLER_2D'+'_ARRAY'],_0x482fc2['INT_SAMPLE'+'R_2D_ARRAY'],_0x482fc2['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x482fc2['REPEAT'],_0x482fc2['CLAMP_TO_E'+'DGE'],_0x482fc2['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x482fc2['FUNC_ADD'],_0x482fc2['FUNC_SUBTR'+'ACT'],_0x482fc2['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x482fc2['MIN'],_0x482fc2['MAX']],this['glBlendFun'+'ctionColor']=[_0x482fc2['ZERO'],_0x482fc2['ONE'],_0x482fc2['SRC_COLOR'],_0x482fc2['ONE_MINUS_'+'SRC_COLOR'],_0x482fc2['DST_COLOR'],_0x482fc2['ONE_MINUS_'+'DST_COLOR'],_0x482fc2['SRC_ALPHA'],_0x482fc2['SRC_ALPHA_'+'SATURATE'],_0x482fc2['ONE_MINUS_'+'SRC_ALPHA'],_0x482fc2['DST_ALPHA'],_0x482fc2['ONE_MINUS_'+'DST_ALPHA'],_0x482fc2['CONSTANT_C'+'OLOR'],_0x482fc2['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x482fc2['ZERO'],_0x482fc2['ONE'],_0x482fc2['SRC_COLOR'],_0x482fc2['ONE_MINUS_'+'SRC_COLOR'],_0x482fc2['DST_COLOR'],_0x482fc2['ONE_MINUS_'+'DST_COLOR'],_0x482fc2['SRC_ALPHA'],_0x482fc2['SRC_ALPHA_'+'SATURATE'],_0x482fc2['ONE_MINUS_'+'SRC_ALPHA'],_0x482fc2['DST_ALPHA'],_0x482fc2['ONE_MINUS_'+'DST_ALPHA'],_0x482fc2['CONSTANT_A'+'LPHA'],_0x482fc2['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x482fc2['NEVER'],_0x482fc2['LESS'],_0x482fc2['EQUAL'],_0x482fc2['LEQUAL'],_0x482fc2['GREATER'],_0x482fc2['NOTEQUAL'],_0x482fc2['GEQUAL'],_0x482fc2['ALWAYS']],this['glStencilO'+'p']=[_0x482fc2['KEEP'],_0x482fc2['ZERO'],_0x482fc2['REPLACE'],_0x482fc2['INCR'],_0x482fc2['INCR_WRAP'],_0x482fc2['DECR'],_0x482fc2['DECR_WRAP'],_0x482fc2['INVERT']],this['glClearFla'+'g']=[0xc8e+-0x10b8+0x42a,_0x482fc2['COLOR_BUFF'+'ER_BIT'],_0x482fc2['DEPTH_BUFF'+'ER_BIT'],_0x482fc2['COLOR_BUFF'+'ER_BIT']|_0x482fc2['DEPTH_BUFF'+'ER_BIT'],_0x482fc2['STENCIL_BU'+'FFER_BIT'],_0x482fc2['STENCIL_BU'+'FFER_BIT']|_0x482fc2['COLOR_BUFF'+'ER_BIT'],_0x482fc2['STENCIL_BU'+'FFER_BIT']|_0x482fc2['DEPTH_BUFF'+'ER_BIT'],_0x482fc2['STENCIL_BU'+'FFER_BIT']|_0x482fc2['COLOR_BUFF'+'ER_BIT']|_0x482fc2['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[-0x89*0x37+0x180c+0x563,_0x482fc2['BACK'],_0x482fc2['FRONT'],_0x482fc2['FRONT_AND_'+'BACK']],this['glFilter']=[_0x482fc2['NEAREST'],_0x482fc2['LINEAR'],_0x482fc2['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x482fc2['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x482fc2['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x482fc2['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x482fc2['POINTS'],_0x482fc2['LINES'],_0x482fc2['LINE_LOOP'],_0x482fc2['LINE_STRIP'],_0x482fc2['TRIANGLES'],_0x482fc2['TRIANGLE_S'+'TRIP'],_0x482fc2['TRIANGLE_F'+'AN']],this['glType']=[_0x482fc2['BYTE'],_0x482fc2['UNSIGNED_B'+'YTE'],_0x482fc2['SHORT'],_0x482fc2['UNSIGNED_S'+'HORT'],_0x482fc2['INT'],_0x482fc2['UNSIGNED_I'+'NT'],_0x482fc2['FLOAT'],_0x482fc2['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x482fc2['BOOL']]=Tn,this['pcUniformT'+'ype'][_0x482fc2['INT']]=_a,this['pcUniformT'+'ype'][_0x482fc2['FLOAT']]=Xs,this['pcUniformT'+'ype'][_0x482fc2['FLOAT_VEC2']]=ga,this['pcUniformT'+'ype'][_0x482fc2['FLOAT_VEC3']]=ds,this['pcUniformT'+'ype'][_0x482fc2['FLOAT_VEC4']]=Rn,this['pcUniformT'+'ype'][_0x482fc2['INT_VEC2']]=ca,this['pcUniformT'+'ype'][_0x482fc2['INT_VEC3']]=ha,this['pcUniformT'+'ype'][_0x482fc2['INT_VEC4']]=da,this['pcUniformT'+'ype'][_0x482fc2['BOOL_VEC2']]=tl,this['pcUniformT'+'ype'][_0x482fc2['BOOL_VEC3']]=sl,this['pcUniformT'+'ype'][_0x482fc2['BOOL_VEC4']]=il,this['pcUniformT'+'ype'][_0x482fc2['FLOAT_MAT2']]=_h,this['pcUniformT'+'ype'][_0x482fc2['FLOAT_MAT3']]=On,this['pcUniformT'+'ype'][_0x482fc2['FLOAT_MAT4']]=li,this['pcUniformT'+'ype'][_0x482fc2['SAMPLER_2D']]=Hx,this['pcUniformT'+'ype'][_0x482fc2['SAMPLER_CU'+'BE']]=Wx,this['pcUniformT'+'ype'][_0x482fc2['UNSIGNED_I'+'NT']]=Fn,this['pcUniformT'+'ype'][_0x482fc2['UNSIGNED_I'+'NT_VEC2']]=Nn,this['pcUniformT'+'ype'][_0x482fc2['UNSIGNED_I'+'NT_VEC3']]=kn,this['pcUniformT'+'ype'][_0x482fc2['UNSIGNED_I'+'NT_VEC4']]=Un,this['pcUniformT'+'ype'][_0x482fc2['SAMPLER_2D'+'_SHADOW']]=$x,this['pcUniformT'+'ype'][_0x482fc2['SAMPLER_CU'+'BE_SHADOW']]=Xx,this['pcUniformT'+'ype'][_0x482fc2['SAMPLER_2D'+'_ARRAY']]=jx,this['pcUniformT'+'ype'][_0x482fc2['SAMPLER_3D']]=qx,this['pcUniformT'+'ype'][_0x482fc2['INT_SAMPLE'+'R_2D']]=Yx,this['pcUniformT'+'ype'][_0x482fc2['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Kx,this['pcUniformT'+'ype'][_0x482fc2['INT_SAMPLE'+'R_CUBE']]=Zx,this['pcUniformT'+'ype'][_0x482fc2['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Qx,this['pcUniformT'+'ype'][_0x482fc2['INT_SAMPLE'+'R_3D']]=Jx,this['pcUniformT'+'ype'][_0x482fc2['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=eT,this['pcUniformT'+'ype'][_0x482fc2['INT_SAMPLE'+'R_2D_ARRAY']]=tT,this['pcUniformT'+'ype'][_0x482fc2['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=sT,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x482fc2['TEXTURE_2D']]=-0x24f3*-0x1+0x231f+0x2e2*-0x19,this['targetToSl'+'ot'][_0x482fc2['TEXTURE_CU'+'BE_MAP']]=0x32e*-0x1+0x391*0x3+-0x94*0xd,this['targetToSl'+'ot'][_0x482fc2['TEXTURE_3D']]=-0x1c*-0x1+0x2a9*0x7+-0x12b9*0x1;let _0x13768f,_0x47954d,_0x2fda51,_0x102a83,_0x5e448e;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][Tn]=function(_0x407cfc,_0x17b06b){_0x407cfc['value']!==_0x17b06b&&(_0x482fc2['uniform1i'](_0x407cfc['locationId'],_0x17b06b),_0x407cfc['value']=_0x17b06b);},this['commitFunc'+'tion'][_a]=this['commitFunc'+'tion'][Tn],this['commitFunc'+'tion'][Xs]=function(_0xf8e867,_0x2ddf4b){_0xf8e867['value']!==_0x2ddf4b&&(_0x482fc2['uniform1f'](_0xf8e867['locationId'],_0x2ddf4b),_0xf8e867['value']=_0x2ddf4b);},this['commitFunc'+'tion'][ga]=function(_0x200b7b,_0x1601ba){_0x5e448e=_0x200b7b['value'],_0x13768f=_0x1601ba[-0x776+0x14b3+0x1*-0xd3d],_0x47954d=_0x1601ba[0x722+0x1702+-0x1e23],(_0x5e448e[-0x1292*0x2+0x1fc2+-0x562*-0x1]!==_0x13768f||_0x5e448e[0x1*-0x591+0x817*0x1+-0x285*0x1]!==_0x47954d)&&(_0x482fc2['uniform2fv'](_0x200b7b['locationId'],_0x1601ba),_0x5e448e[0x2233+-0x187f+0x26d*-0x4]=_0x13768f,_0x5e448e[0xbe7+-0x1*0x1bef+0x1009]=_0x47954d);},this['commitFunc'+'tion'][ds]=function(_0x3ae6,_0x243dfb){_0x5e448e=_0x3ae6['value'],_0x13768f=_0x243dfb[0x11d0+0x5*0x4e1+0x871*-0x5],_0x47954d=_0x243dfb[-0x18d3+0x1b5+0x7b5*0x3],_0x2fda51=_0x243dfb[-0x5*-0x2bd+-0xac*0x33+0x1*0x1495],(_0x5e448e[-0x1072+-0x505+-0x1*-0x1577]!==_0x13768f||_0x5e448e[0x86*0x22+-0x1300+0x135]!==_0x47954d||_0x5e448e[-0x1069+0x7*-0x2ef+0x24f4]!==_0x2fda51)&&(_0x482fc2['uniform3fv'](_0x3ae6['locationId'],_0x243dfb),_0x5e448e[0x189f+-0x1b3*0x1+-0x16ec]=_0x13768f,_0x5e448e[-0x1a42*-0x1+-0x1d*0x2+-0x1a07]=_0x47954d,_0x5e448e[-0xcca+0x9*0x1b5+-0x291]=_0x2fda51);},this['commitFunc'+'tion'][Rn]=function(_0x4f6b6c,_0x32e4a6){_0x5e448e=_0x4f6b6c['value'],_0x13768f=_0x32e4a6[-0x16e6+-0x1*0x64b+0x1d31],_0x47954d=_0x32e4a6[0x15a0+0x1a3f+-0x2fde],_0x2fda51=_0x32e4a6[-0x96+0xb46+-0xaae*0x1],_0x102a83=_0x32e4a6[0x19bb+-0x317+-0x3*0x78b],(_0x5e448e[0x55b*0x2+0xb*0x84+-0x6*0x2bb]!==_0x13768f||_0x5e448e[0x11*0x242+-0x1*0xf3a+-0x1727]!==_0x47954d||_0x5e448e[0x6*0x665+0x21ee+-0x484a]!==_0x2fda51||_0x5e448e[0x2167*0x1+0x1*0x1123+-0x3287]!==_0x102a83)&&(_0x482fc2['uniform4fv'](_0x4f6b6c['locationId'],_0x32e4a6),_0x5e448e[0xe5c+-0x4*0x6bb+0xc90]=_0x13768f,_0x5e448e[-0x1997+0x26e6+-0xd4e]=_0x47954d,_0x5e448e[-0x11e5+0x1*-0x1e1f+0x3006]=_0x2fda51,_0x5e448e[-0xd73+0x47c+-0x17f*-0x6]=_0x102a83);},this['commitFunc'+'tion'][ca]=function(_0x3bc602,_0x2f1018){_0x5e448e=_0x3bc602['value'],_0x13768f=_0x2f1018[0xe*0xed+0x3*-0x997+0xfcf],_0x47954d=_0x2f1018[0x1*0xf48+-0x60+-0xee7],(_0x5e448e[0x7bb*-0x2+-0x1*0x89b+0x1811]!==_0x13768f||_0x5e448e[0x24a*0x8+0x1*0x128b+-0x24da]!==_0x47954d)&&(_0x482fc2['uniform2iv'](_0x3bc602['locationId'],_0x2f1018),_0x5e448e[0x1*-0x1a48+0x1*-0x26b9+0x4101]=_0x13768f,_0x5e448e[-0x2*0x6b1+0x19b7+-0x62a*0x2]=_0x47954d);},this['commitFunc'+'tion'][tl]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][ha]=function(_0x2c8ff1,_0x11b757){_0x5e448e=_0x2c8ff1['value'],_0x13768f=_0x11b757[-0x1639*-0x1+-0x3*-0x231+-0x1ccc],_0x47954d=_0x11b757[-0x23b*0x2+-0xa85*0x3+0x2406],_0x2fda51=_0x11b757[-0x7f4*0x2+0xf2+0xef8*0x1],(_0x5e448e[-0x237b+-0x26e8+0x4a63]!==_0x13768f||_0x5e448e[-0x1ace+-0x19a4+0x3473]!==_0x47954d||_0x5e448e[-0x16dd+0x1*0xd53+0x98c]!==_0x2fda51)&&(_0x482fc2['uniform3iv'](_0x2c8ff1['locationId'],_0x11b757),_0x5e448e[-0x4f0+-0xa8b+-0x529*-0x3]=_0x13768f,_0x5e448e[0x5*0x3e5+-0x30a+0x2bd*-0x6]=_0x47954d,_0x5e448e[0x28d*0xd+-0x11*0x182+-0x785]=_0x2fda51);},this['commitFunc'+'tion'][sl]=this['commitFunc'+'tion'][ha],this['commitFunc'+'tion'][da]=function(_0x4b8b1d,_0x20fb54){_0x5e448e=_0x4b8b1d['value'],_0x13768f=_0x20fb54[-0x1b*0x1f+-0x5c9*0x2+0xed7],_0x47954d=_0x20fb54[0x181b+-0x10cb+-0x74f*0x1],_0x2fda51=_0x20fb54[-0x29*0x34+0x39d+0x5d*0xd],_0x102a83=_0x20fb54[0x2cd*-0x3+0x1481+0xc17*-0x1],(_0x5e448e[0x140d+0xa49+0x161*-0x16]!==_0x13768f||_0x5e448e[-0x2*-0xd19+0x149a+-0x2ecb]!==_0x47954d||_0x5e448e[0x1763*-0x1+-0x3f*-0x1d+0x1042]!==_0x2fda51||_0x5e448e[0x26c3+0x1*0x373+0xd*-0x33f]!==_0x102a83)&&(_0x482fc2['uniform4iv'](_0x4b8b1d['locationId'],_0x20fb54),_0x5e448e[0x1944+-0x20e9+0x13*0x67]=_0x13768f,_0x5e448e[-0xf7b+-0x8b*-0x3b+-0x1*0x108d]=_0x47954d,_0x5e448e[-0x1e66+0x1c37+0x231]=_0x2fda51,_0x5e448e[-0x18b7+-0xdd7*0x1+-0x2691*-0x1]=_0x102a83);},this['commitFunc'+'tion'][il]=this['commitFunc'+'tion'][da],this['commitFunc'+'tion'][_h]=function(_0x870034,_0xb6c8a7){_0x482fc2['uniformMat'+'rix2fv'](_0x870034['locationId'],!(0x2623+0x2672+-0x4c94),_0xb6c8a7);},this['commitFunc'+'tion'][On]=function(_0x59e49d,_0x569589){_0x482fc2['uniformMat'+'rix3fv'](_0x59e49d['locationId'],!(-0x1*0x1466+-0x1f11*-0x1+-0xaaa),_0x569589);},this['commitFunc'+'tion'][li]=function(_0x4ee8a0,_0x241d2a){_0x482fc2['uniformMat'+'rix4fv'](_0x4ee8a0['locationId'],!(-0x1363+-0xdb3+0x1*0x2117),_0x241d2a);},this['commitFunc'+'tion'][ud]=function(_0x26de9f,_0x25aec6){_0x482fc2['uniform1fv'](_0x26de9f['locationId'],_0x25aec6);},this['commitFunc'+'tion'][pd]=function(_0x435641,_0x32f3c6){_0x482fc2['uniform2fv'](_0x435641['locationId'],_0x32f3c6);},this['commitFunc'+'tion'][md]=function(_0x4d8e82,_0x23b5d9){_0x482fc2['uniform3fv'](_0x4d8e82['locationId'],_0x23b5d9);},this['commitFunc'+'tion'][Lp]=function(_0x17f5d9,_0x5d9b90){_0x482fc2['uniform4fv'](_0x17f5d9['locationId'],_0x5d9b90);},this['commitFunc'+'tion'][Fn]=function(_0x5eaeae,_0xa1b316){_0x5eaeae['value']!==_0xa1b316&&(_0x482fc2['uniform1ui'](_0x5eaeae['locationId'],_0xa1b316),_0x5eaeae['value']=_0xa1b316);},this['commitFunc'+'tion'][Nn]=function(_0x52ad68,_0x3a0dbf){_0x5e448e=_0x52ad68['value'],_0x13768f=_0x3a0dbf[-0x1c2a+-0xe*-0x161+-0x2f4*-0x3],_0x47954d=_0x3a0dbf[-0xb*-0x167+0xd02+-0x2*0xe37],(_0x5e448e[-0x2060+0x1*0x255a+-0x4fa]!==_0x13768f||_0x5e448e[-0x1b0a+-0x720+0x222b]!==_0x47954d)&&(_0x482fc2['uniform2ui'+'v'](_0x52ad68['locationId'],_0x3a0dbf),_0x5e448e[0x1*-0xa00+0xc06+0x103*-0x2]=_0x13768f,_0x5e448e[-0x2ce*0xb+0x52*-0x19+0x26dd]=_0x47954d);},this['commitFunc'+'tion'][kn]=function(_0x16671a,_0x5cad43){_0x5e448e=_0x16671a['value'],_0x13768f=_0x5cad43[-0x4*-0x637+0x11*-0x26+-0x1656],_0x47954d=_0x5cad43[0x4d*0x38+0x384+-0x145b],_0x2fda51=_0x5cad43[-0xc*-0xad+0x297+0x1*-0xab1],(_0x5e448e[0x1727*0x1+0x25*-0x6d+-0x3b3*0x2]!==_0x13768f||_0x5e448e[0x1*0xc5+0x15fb+0x1*-0x16bf]!==_0x47954d||_0x5e448e[-0x3c5+-0x25b9+-0x10*-0x298]!==_0x2fda51)&&(_0x482fc2['uniform3ui'+'v'](_0x16671a['locationId'],_0x5cad43),_0x5e448e[-0x5*-0xed+-0x2442+-0x1fa1*-0x1]=_0x13768f,_0x5e448e[-0x2647*-0x1+0x1fad+-0x45f3]=_0x47954d,_0x5e448e[0x249e+-0x192d+-0xb6f*0x1]=_0x2fda51);},this['commitFunc'+'tion'][Un]=function(_0x3b9860,_0x4237f0){_0x5e448e=_0x3b9860['value'],_0x13768f=_0x4237f0[-0x58f*-0x1+0x8e+-0x5*0x139],_0x47954d=_0x4237f0[0x2ae*0xe+0x1653+-0x3bd6],_0x2fda51=_0x4237f0[-0x2*0x1281+-0x1e21+0x4325],_0x102a83=_0x4237f0[-0x24de+0x2637+0x3*-0x72],(_0x5e448e[-0x65+-0x25b4+0x2619]!==_0x13768f||_0x5e448e[-0x2129+-0x2385+-0x1*-0x44af]!==_0x47954d||_0x5e448e[0x1f9d*0x1+0x2*-0xb71+-0x8b9]!==_0x2fda51||_0x5e448e[0x3b*0x49+0x2a3+-0x1373]!==_0x102a83)&&(_0x482fc2['uniform4ui'+'v'](_0x3b9860['locationId'],_0x4237f0),_0x5e448e[-0x179c*-0x1+0x185e+-0x2ffa]=_0x13768f,_0x5e448e[-0x1*0x198b+0x3*-0x1d2+0x1f02]=_0x47954d,_0x5e448e[-0x25ed+0x224+0x23cb]=_0x2fda51,_0x5e448e[0x11f+0x12a1*0x1+-0x13bd]=_0x102a83);},this['commitFunc'+'tion'][Bn]=function(_0x266494,_0x277143){_0x482fc2['uniform1iv'](_0x266494['locationId'],_0x277143);},this['commitFunc'+'tion'][_d]=function(_0x988548,_0x56a185){_0x482fc2['uniform1ui'+'v'](_0x988548['locationId'],_0x56a185);},this['commitFunc'+'tion'][gd]=this['commitFunc'+'tion'][Bn],this['commitFunc'+'tion'][zn]=function(_0x874439,_0x2c0961){_0x482fc2['uniform2iv'](_0x874439['locationId'],_0x2c0961);},this['commitFunc'+'tion'][Sd]=function(_0xd30cee,_0x1ba73d){_0x482fc2['uniform2ui'+'v'](_0xd30cee['locationId'],_0x1ba73d);},this['commitFunc'+'tion'][yd]=this['commitFunc'+'tion'][zn],this['commitFunc'+'tion'][Vn]=function(_0x1c34b0,_0x31712c){_0x482fc2['uniform3iv'](_0x1c34b0['locationId'],_0x31712c);},this['commitFunc'+'tion'][vd]=function(_0x726c0b,_0x95349e){_0x482fc2['uniform3ui'+'v'](_0x726c0b['locationId'],_0x95349e);},this['commitFunc'+'tion'][xd]=this['commitFunc'+'tion'][Vn],this['commitFunc'+'tion'][gh]=function(_0x4782b1,_0x150964){_0x482fc2['uniform4iv'](_0x4782b1['locationId'],_0x150964);},this['commitFunc'+'tion'][Rp]=function(_0x2b38d0,_0x51aa8f){_0x482fc2['uniform4ui'+'v'](_0x2b38d0['locationId'],_0x51aa8f);},this['commitFunc'+'tion'][Op]=this['commitFunc'+'tion'][gh],this['commitFunc'+'tion'][wy]=function(_0x498cb2,_0x52c171){_0x482fc2['uniformMat'+'rix4fv'](_0x498cb2['locationId'],!(0x930+0x1d0d+0x131e*-0x2),_0x52c171);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new rw(this);}['destroy'](){super['destroy']();const _0x1f5ff3=this['gl'];this['feedback']&&_0x1f5ff3['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0xe7e+-0x2*-0x397+-0x15ab)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x1*-0x1e6b+-0x1c08+-0x3a*-0x102)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x40d603){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new gt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x40d603;}['updateBack'+'bufferForm'+'at'](_0x2a673d){const _0x378f33=this['gl'];_0x378f33['bindFrameb'+'uffer'](_0x378f33['FRAMEBUFFE'+'R'],_0x2a673d);const _0x59c82=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x59c82?Ne:Cr;}['updateBack'+'buffer'](){const _0x5d7c0f=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x5d7c0f)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(-0x193b+-0x1*-0x1d07+-0x1*0x3cb),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0xb4699d,_0x22f001){return new XT();}['createInde'+'xBufferImp'+'l'](_0xe2199c){return new qT(_0xe2199c);}['createShad'+'erImpl'](_0x50f7b0){return new JT(_0x50f7b0);}['createText'+'ureImpl'](_0x103cb6){return new ew(_0x103cb6);}['createRend'+'erTargetIm'+'pl'](_0x5bfd0c){return new sw();}['pushMarker'](_0x17039f){if(Ae['browser']&&window['spector']){const _0x278239=Q['toString']();window['spector']['setMarker'](_0x278239+'\x20#');}}['popMarker'](){if(Ae['browser']&&window['spector']){const _0x592a1d=Q['toString']();_0x592a1d['length']?window['spector']['setMarker'](_0x592a1d+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x3b8a7f=this['gl'];let _0x111e14='highp';if(_0x3b8a7f['getShaderP'+'recisionFo'+'rmat']){const _0x47ad12=_0x3b8a7f['getShaderP'+'recisionFo'+'rmat'](_0x3b8a7f['VERTEX_SHA'+'DER'],_0x3b8a7f['HIGH_FLOAT']),_0x183fad=_0x3b8a7f['getShaderP'+'recisionFo'+'rmat'](_0x3b8a7f['VERTEX_SHA'+'DER'],_0x3b8a7f['MEDIUM_FLO'+'AT']),_0x211b99=_0x3b8a7f['getShaderP'+'recisionFo'+'rmat'](_0x3b8a7f['FRAGMENT_S'+'HADER'],_0x3b8a7f['HIGH_FLOAT']),_0x50ff1a=_0x3b8a7f['getShaderP'+'recisionFo'+'rmat'](_0x3b8a7f['FRAGMENT_S'+'HADER'],_0x3b8a7f['MEDIUM_FLO'+'AT']);if(_0x47ad12&&_0x183fad&&_0x211b99&&_0x50ff1a){const _0x3de997=_0x47ad12['precision']>-0x133*0x6+0x1a08+-0x2*0x96b&&_0x211b99['precision']>-0x8*0x2f2+-0x7ec+0x1f7c,_0x4e22cb=_0x183fad['precision']>-0x167*0x1+-0x151*-0x1+0x16&&_0x50ff1a['precision']>0x1395+-0x1f81*-0x1+-0x1f7*0x1a;_0x3de997||(_0x4e22cb?(_0x111e14='mediump',w['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x111e14='lowp',w['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x111e14;}['getExtensi'+'on'](){for(let _0x4768c8=-0xe7d*0x1+0x31f*-0x3+0xbed*0x2;_0x4768c8<arguments['length'];_0x4768c8++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x4768c8])!==-(0xb6*-0x11+-0x157a*-0x1+-0x963))return this['gl']['getExtensi'+'on'](arguments[_0x4768c8]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x34b430=this['gl'];this['supportedE'+'xtensions']=_0x34b430['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(0x259+0xd6+0x32f*-0x1),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float'),this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc');}['initialize'+'Capabiliti'+'es'](){const _0x1d5d26=this['gl'];let _0x8b4424;const _0x5a32a5=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x228ec5=_0x1d5d26['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x228ec5==null?void(0x1*0x12e9+0x1*-0x1d70+-0x1*-0xa87):_0x228ec5['antialias'])??!(-0x2242+-0x1d*0xe5+0x2*0x1e1a),this['supportsSt'+'encil']=(_0x228ec5==null?void(0x41f+0x438+-0x857):_0x228ec5['stencil'])??!(-0x62a*-0x2+-0x1bc1*-0x1+-0x2814),this['maxTexture'+'Size']=_0x1d5d26['getParamet'+'er'](_0x1d5d26['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x1d5d26['getParamet'+'er'](_0x1d5d26['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x1d5d26['getParamet'+'er'](_0x1d5d26['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x1d5d26['getParamet'+'er'](_0x1d5d26['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x1d5d26['getParamet'+'er'](_0x1d5d26['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x1d5d26['getParamet'+'er'](_0x1d5d26['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x1d5d26['getParamet'+'er'](_0x1d5d26['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x1d5d26['getParamet'+'er'](_0x1d5d26['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x1d5d26['getParamet'+'er'](_0x1d5d26['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x1d5d26['getParamet'+'er'](_0x1d5d26['MAX_3D_TEX'+'TURE_SIZE']),_0x8b4424=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x8b4424?_0x1d5d26['getParamet'+'er'](_0x8b4424['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x8b4424?_0x1d5d26['getParamet'+'er'](_0x8b4424['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0xa80009=/\bMali-G52+/,_0x24b091=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x5a32a5['match'](_0x24b091))&&!this['unmaskedRe'+'nderer']['match'](_0xa80009),_0x8b4424=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x8b4424?_0x1d5d26['getParamet'+'er'](_0x8b4424['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):-0x9c7*0x1+-0x1da6+0x13b7*0x2;const _0x237bd1=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x237bd1?_0x1d5d26['getParamet'+'er'](_0x1d5d26['MAX_SAMPLE'+'S']):-0x21e+-0x2543+0x2762,this['maxSamples']=Math['min'](this['maxSamples'],-0x2e*0xac+0x2294+0x1d4*-0x2),this['samples']=_0x237bd1&&this['backBuffer'+'Antialias']?this['maxSamples']:0x1437+0x4*-0x8c8+0xeea,this['supportsAr'+'eaLights']=!Ae['android'],this['maxTexture'+'s']<=-0x47f+-0x2700*0x1+0x2b87&&(this['supportsAr'+'eaLights']=!(0x119e+0x26b0+-0x1f1*0x1d)),this['initCapsDe'+'fines']();}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x1062a9=this['gl'];_0x1062a9['disable'](_0x1062a9['BLEND']),_0x1062a9['blendFunc'](_0x1062a9['ONE'],_0x1062a9['ZERO']),_0x1062a9['blendEquat'+'ion'](_0x1062a9['FUNC_ADD']),_0x1062a9['colorMask'](!(0x1*0x1ead+0x18d2+-0x377f),!(-0xddb*0x1+0x1c59*-0x1+-0x49*-0x94),!(-0x96b*-0x3+0x8*0x264+-0x2f61),!(-0x1018+-0x336+0x134e)),_0x1062a9['blendColor'](-0xff4+-0x15a7+0xc89*0x3,0xe3*0x25+0xb2+-0x2181,0x7*-0x123+0x1*-0x2432+0x2c27,-0x266b+-0x1*0x1fb3+0x2ce*0x19),_0x1062a9['enable'](_0x1062a9['CULL_FACE']),this['cullFace']=_0x1062a9['BACK'],_0x1062a9['cullFace'](_0x1062a9['BACK']),_0x1062a9['enable'](_0x1062a9['DEPTH_TEST']),_0x1062a9['depthFunc'](_0x1062a9['LEQUAL']),_0x1062a9['depthMask'](!(0xeac+-0x3*-0x68+-0xfe4)),this['stencil']=!(0x1e0+-0x1e6c+0x1*0x1c8d),_0x1062a9['disable'](_0x1062a9['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Wi,this['stencilRef'+'Front']=this['stencilRef'+'Back']=0x3bf+-0x2d*-0x1b+0x1*-0x87e,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=0x7*-0x192+0x1242+-0x645,_0x1062a9['stencilFun'+'c'](_0x1062a9['ALWAYS'],0x2*-0x1233+-0x8a0+0x2a6*0x11,-0x2404+-0x183a+0x3d3d),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=xn,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=xn,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=xn,this['stencilWri'+'teMaskFron'+'t']=0xef4+-0x1655*0x1+0x860,this['stencilWri'+'teMaskBack']=-0x2b*0xa7+-0x16*-0x7a+0x48*0x42,_0x1062a9['stencilOp'](_0x1062a9['KEEP'],_0x1062a9['KEEP'],_0x1062a9['KEEP']),_0x1062a9['stencilMas'+'k'](-0xe*0xf+-0x249*-0x7+-0xe2e),this['alphaToCov'+'erage']=!(0x199*-0x15+0x1e08+0x386),this['raster']=!(0x69f+-0x283+-0x107*0x4),_0x1062a9['disable'](_0x1062a9['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x1062a9['disable'](_0x1062a9['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(-0x1e11+0x1c1e+0xfa*0x2),_0x1062a9['disable'](_0x1062a9['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=-0x1453+0x1*-0x1df9+0x324d,_0x1062a9['clearDepth'](-0x215f*0x1+0x36*0x1e+0x1b0c),this['clearColor']=new ie(-0xdc9*-0x2+0x500*-0x7+0x76e,-0x2*-0x597+0x1286+-0x1db4,-0x1309+-0x1829+0x2b32,0x1fc+-0xf67+-0x2af*-0x5),_0x1062a9['clearColor'](0x53*0x35+0x7b7+-0x18e6,-0xec+0xe4d*0x2+0x3*-0x93a,0x5*-0x5d2+-0x3e*0x2e+0x283e,0xffb+0x646*-0x2+-0x3*0x125),this['clearStenc'+'il']=0xb37+0x1a9+-0xce0*0x1,_0x1062a9['clearStenc'+'il'](-0x1e84+-0x8ad+-0x7f*-0x4f),_0x1062a9['hint'](_0x1062a9['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x1062a9['NICEST']),_0x1062a9['enable'](_0x1062a9['SCISSOR_TE'+'ST']),_0x1062a9['pixelStore'+'i'](_0x1062a9['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x1062a9['NONE']),this['unpackFlip'+'Y']=!(-0xc60+0xdb2+-0x151),_0x1062a9['pixelStore'+'i'](_0x1062a9['UNPACK_FLI'+'P_Y_WEBGL'],!(-0x7ba+-0x1984+-0xb15*-0x3)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(-0x176*0x2+0x5*-0x1e9+0x1*0xc7a),_0x1062a9['pixelStore'+'i'](_0x1062a9['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(0x51e*0x5+0x218f+0x5ea*-0xa)),_0x1062a9['pixelStore'+'i'](_0x1062a9['UNPACK_ALI'+'GNMENT'],0x1006+-0x260+0x1*-0xda5);}['initTextur'+'eUnits'](_0x58f138=0x180+0x1f42+-0x20b2){this['textureUni'+'ts']=[];for(let _0x5ef4ba=-0x15a8+0x57e+0x102a;_0x5ef4ba<_0x58f138;_0x5ef4ba++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=-0x2b*0x20+-0xb4c+0x10ac,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x3da06f of this['shaders'])_0x3da06f['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x4fa711 of this['shaders'])_0x4fa711['restoreCon'+'text']();}['setViewpor'+'t'](_0x5b499a,_0x3a6d16,_0x34cb6f,_0xc814f2){(this['vx']!==_0x5b499a||this['vy']!==_0x3a6d16||this['vw']!==_0x34cb6f||this['vh']!==_0xc814f2)&&(this['gl']['viewport'](_0x5b499a,_0x3a6d16,_0x34cb6f,_0xc814f2),this['vx']=_0x5b499a,this['vy']=_0x3a6d16,this['vw']=_0x34cb6f,this['vh']=_0xc814f2);}['setScissor'](_0x372aee,_0xd6a3cd,_0x85e6c0,_0x3bd9fa){(this['sx']!==_0x372aee||this['sy']!==_0xd6a3cd||this['sw']!==_0x85e6c0||this['sh']!==_0x3bd9fa)&&(this['gl']['scissor'](_0x372aee,_0xd6a3cd,_0x85e6c0,_0x3bd9fa),this['sx']=_0x372aee,this['sy']=_0xd6a3cd,this['sw']=_0x85e6c0,this['sh']=_0x3bd9fa);}['setFramebu'+'ffer'](_0xd9371c){if(this['activeFram'+'ebuffer']!==_0xd9371c){const _0x144ff2=this['gl'];_0x144ff2['bindFrameb'+'uffer'](_0x144ff2['FRAMEBUFFE'+'R'],_0xd9371c),this['activeFram'+'ebuffer']=_0xd9371c;}}['copyRender'+'Target'](_0x196db1,_0x164a09,_0xc0b6a1,_0x2b4f5c){var _0x9b79b4,_0x274444;const _0x2d000e=this['gl'];if(_0x196db1===this['backBuffer']&&(_0x196db1=null),_0xc0b6a1){if(_0x164a09){if(_0x196db1){if(!_0x196db1['_colorBuff'+'er']||!_0x164a09['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x1539+-0x1*0x20e3+0xbab);if(_0x196db1['_colorBuff'+'er']['_format']!==_0x164a09['_colorBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(0x2a7+0x274+-0x2*0x28d);}}else{if(!_0x196db1['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(-0x1c8d+0x15dd+0x6b1);}}if(_0x2b4f5c&&_0x196db1&&!_0x196db1['_depth']){if(!_0x196db1['_depthBuff'+'er']||!_0x164a09['_depthBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x266*0x4+0x8*0x25e+-0x957);if(_0x196db1['_depthBuff'+'er']['_format']!==_0x164a09['_depthBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(0x252a+0x3*-0x1ed+-0x3*0xa76);}Q['pushGpuMar'+'ker'](this,'COPY-RT');const _0x4bdbcc=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x164a09,this['updateBegi'+'n']();const _0x4ca931=_0x196db1?_0x196db1['impl']['_glFrameBu'+'ffer']:(_0x9b79b4=this['backBuffer'])==null?void(-0x1df*-0x1+0x1*-0x6f3+0x1*0x514):_0x9b79b4['impl']['_glFrameBu'+'ffer'],_0x4b1a53=_0x164a09?_0x164a09['impl']['_glFrameBu'+'ffer']:(_0x274444=this['backBuffer'])==null?void(0x2*-0x32+-0x88+-0x1*-0xec):_0x274444['impl']['_glFrameBu'+'ffer'];w['assert'](_0x4ca931!==_0x4b1a53,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x2d000e['bindFrameb'+'uffer'](_0x2d000e['READ_FRAME'+'BUFFER'],_0x4ca931),_0x2d000e['bindFrameb'+'uffer'](_0x2d000e['DRAW_FRAME'+'BUFFER'],_0x4b1a53);const _0x314746=_0x196db1?_0x196db1['width']:_0x164a09?_0x164a09['width']:this['width'],_0x419e6f=_0x196db1?_0x196db1['height']:_0x164a09?_0x164a09['height']:this['height'];return _0x2d000e['blitFrameb'+'uffer'](0xf5a+0x4*0x42b+-0x2006,-0x808+0x18cc+-0x10c4,_0x314746,_0x419e6f,0x21*0x13+0xd64*0x1+-0xfd7,-0x1*-0x365+0x2*-0x1319+0x22cd,_0x314746,_0x419e6f,(_0xc0b6a1?_0x2d000e['COLOR_BUFF'+'ER_BIT']:0x9*-0x227+0x13ae+-0x4f)|(_0x2b4f5c?_0x2d000e['DEPTH_BUFF'+'ER_BIT']:0x1a2*-0xb+-0x2b*0xd6+0x35e8),_0x2d000e['NEAREST']),this['renderTarg'+'et']=_0x4bdbcc,_0x2d000e['bindFrameb'+'uffer'](_0x2d000e['FRAMEBUFFE'+'R'],_0x4bdbcc?_0x4bdbcc['impl']['_glFrameBu'+'ffer']:null),Q['popGpuMark'+'er'](this),!(0x711+-0xc43+0x46*0x13);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x3e13ec){const _0xeb17b3=_0x3e13ec['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0xeb17b3,w['assert'](_0xeb17b3),Q['pushGpuMar'+'ker'](this,'Pass:'+_0x3e13ec['name']+'\x20RT:'+_0xeb17b3['name']),Q['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x38db71,height:_0x1850c5}=_0xeb17b3;this['setViewpor'+'t'](-0x32*0x2c+0x12c4*-0x2+0x2e20,0x2324*0x1+0xdf*-0x29+0x93,_0x38db71,_0x1850c5),this['setScissor'](-0x11e9+-0x110f+0x22f8,0x7*0x49d+0xf60+-0x2fab*0x1,_0x38db71,_0x1850c5);const _0x152b90=_0x3e13ec['colorOps'],_0xa12519=_0x3e13ec['depthStenc'+'ilOps'];if(_0x152b90!=null&&_0x152b90['clear']||_0xa12519['clearDepth']||_0xa12519['clearStenc'+'il']){let _0x352680=-0xdbf+0x516+0x8a9;const _0x3133bb={};_0x152b90!=null&&_0x152b90['clear']&&(_0x352680|=jo,_0x3133bb['color']=[_0x152b90['clearValue']['r'],_0x152b90['clearValue']['g'],_0x152b90['clearValue']['b'],_0x152b90['clearValue']['a']]),_0xa12519['clearDepth']&&(_0x352680|=Yo,_0x3133bb['depth']=_0xa12519['clearDepth'+'Value']),_0xa12519['clearStenc'+'il']&&(_0x352680|=ch,_0x3133bb['stencil']=_0xa12519['clearStenc'+'ilValue']),_0x3133bb['flags']=_0x352680,this['clear'](_0x3133bb);}w['call'](()=>{this['insideRend'+'erPass']&&w['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(0x1*0xb26+0xb14*0x1+-0x472*0x5),Q['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x5c52a0){var _0x21e74c;Q['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x150e95=this['renderTarg'+'et'],_0x7651de=_0x5c52a0['colorArray'+'Ops']['length'];if(_0x150e95){Da['length']=0x2528+-0x5*0x2fb+-0x1641;const _0x1e926d=this['gl'];for(let _0x297d43=-0x8a3*0x3+-0x47*0x37+0x292a;_0x297d43<_0x7651de;_0x297d43++){const _0x151856=_0x5c52a0['colorArray'+'Ops'][_0x297d43];_0x151856['store']||_0x151856['resolve']||Da['push'](_0x1e926d['COLOR_ATTA'+'CHMENT0']+_0x297d43);}_0x150e95!==this['backBuffer']&&(_0x5c52a0['depthStenc'+'ilOps']['storeDepth']||Da['push'](_0x1e926d['DEPTH_ATTA'+'CHMENT']),_0x5c52a0['depthStenc'+'ilOps']['storeStenc'+'il']||Da['push'](_0x1e926d['STENCIL_AT'+'TACHMENT'])),Da['length']>0x141f*0x1+-0x1506+0x1*0xe7&&_0x5c52a0['fullSizeCl'+'earRect']&&_0x1e926d['invalidate'+'Framebuffe'+'r'](_0x1e926d['DRAW_FRAME'+'BUFFER'],Da),_0x7651de&&((_0x21e74c=_0x5c52a0['colorOps'])!=null&&_0x21e74c['resolve'])&&_0x5c52a0['samples']>-0x2370+-0x2293+0x2*0x2302&&_0x150e95['autoResolv'+'e']&&_0x150e95['resolve'](!(0xd6b*0x1+-0xbdd+-0x18e),!(0x1*0xbe9+0x8*-0x409+0x518*0x4)),_0x150e95['depthBuffe'+'r']&&_0x5c52a0['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x5c52a0['samples']>-0xd*-0x18d+0x176a+0x1a*-0x1ad&&_0x150e95['autoResolv'+'e']&&_0x150e95['resolve'](!(0xb*0x183+-0x24c1+0x1421),!(0x13db+0xf3*-0x21+0x4*0x2de));for(let _0x41b447=-0xb27+0x218f+-0x1668;_0x41b447<_0x7651de;_0x41b447++)if(_0x5c52a0['colorArray'+'Ops'][_0x41b447]['genMipmaps']){const _0x249dcb=_0x150e95['_colorBuff'+'ers'][_0x41b447];_0x249dcb&&_0x249dcb['impl']['_glTexture']&&_0x249dcb['mipmaps']&&(Q['pushGpuMar'+'ker'](this,'MIPS'+_0x41b447),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0xc31*0x1+-0x187a+0x8f*0x16)),this['bindTextur'+'e'](_0x249dcb),this['gl']['generateMi'+'pmap'](_0x249dcb['impl']['_glTarget']),Q['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(0x9*0x423+-0x1*-0xad3+0x300d*-0x1),Q['popGpuMark'+'er'](this),Q['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x349759){this['_defaultFr'+'amebuffer']!==_0x349759&&(this['_defaultFr'+'amebuffer']=_0x349759,this['_defaultFr'+'amebufferC'+'hanged']=!(0x2169+-0x15ae+-0xbbb));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(Q['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x10c878=-0x1a87*-0x1+-0x24fd+0x2*0x53b;_0x10c878<this['textureUni'+'ts']['length'];++_0x10c878)for(let _0x2cde7f=0x1543+0x1f16+0x9*-0x5d1;_0x2cde7f<-0x5*0x7ab+-0x1*0x2419+0x4a73;++_0x2cde7f)this['textureUni'+'ts'][_0x10c878][_0x2cde7f]=null;}const _0x52ca4c=this['renderTarg'+'et']??this['backBuffer'];w['assert'](_0x52ca4c);const _0x1915bb=_0x52ca4c['impl'];_0x1915bb['initialize'+'d']||this['initRender'+'Target'](_0x52ca4c),this['setFramebu'+'ffer'](_0x1915bb['_glFrameBu'+'ffer']),Q['popGpuMark'+'er'](this);}['updateEnd'](){Q['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x336e44=this['renderTarg'+'et'];if(_0x336e44&&_0x336e44!==this['backBuffer']){_0x336e44['_samples']>-0xa7+-0x66d*0x1+0x7*0x103&&_0x336e44['autoResolv'+'e']&&_0x336e44['resolve']();const _0x54a542=_0x336e44['_colorBuff'+'er'];_0x54a542&&_0x54a542['impl']['_glTexture']&&_0x54a542['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x2644+0xdfb+-0x343e)),this['bindTextur'+'e'](_0x54a542),this['gl']['generateMi'+'pmap'](_0x54a542['impl']['_glTarget']));}Q['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x2632b9){if(this['unpackFlip'+'Y']!==_0x2632b9){this['unpackFlip'+'Y']=_0x2632b9;const _0x4ba89c=this['gl'];_0x4ba89c['pixelStore'+'i'](_0x4ba89c['UNPACK_FLI'+'P_Y_WEBGL'],_0x2632b9);}}['setUnpackP'+'remultiply'+'Alpha'](_0x42f9ec){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x42f9ec){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x42f9ec;const _0x524d0f=this['gl'];_0x524d0f['pixelStore'+'i'](_0x524d0f['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x42f9ec);}}['activeText'+'ure'](_0x1ea96d){this['textureUni'+'t']!==_0x1ea96d&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x1ea96d),this['textureUni'+'t']=_0x1ea96d);}['bindTextur'+'e'](_0x443d27){const _0x2c81f8=_0x443d27['impl'],_0x139e1f=_0x2c81f8['_glTarget'],_0xd7188d=_0x2c81f8['_glTexture'],_0x2f8c8e=this['textureUni'+'t'],_0x27cc31=this['targetToSl'+'ot'][_0x139e1f];this['textureUni'+'ts'][_0x2f8c8e][_0x27cc31]!==_0xd7188d&&(this['gl']['bindTextur'+'e'](_0x139e1f,_0xd7188d),this['textureUni'+'ts'][_0x2f8c8e][_0x27cc31]=_0xd7188d);}['bindTextur'+'eOnUnit'](_0x4d0170,_0x5d28da){const _0x5ac34c=_0x4d0170['impl'],_0x3cc69f=_0x5ac34c['_glTarget'],_0x549f72=_0x5ac34c['_glTexture'],_0x17dbb7=this['targetToSl'+'ot'][_0x3cc69f];this['textureUni'+'ts'][_0x5d28da][_0x17dbb7]!==_0x549f72&&(this['activeText'+'ure'](_0x5d28da),this['gl']['bindTextur'+'e'](_0x3cc69f,_0x549f72),this['textureUni'+'ts'][_0x5d28da][_0x17dbb7]=_0x549f72);}['setTexture'+'Parameters'](_0x5164b4){const _0x5440a9=this['gl'],_0x3acdce=_0x5164b4['impl']['dirtyParam'+'eterFlags'],_0x2185d1=_0x5164b4['impl']['_glTarget'];if(_0x3acdce&Ay){let _0x229c9a=_0x5164b4['_minFilter'];(!_0x5164b4['_mipmaps']||_0x5164b4['_compresse'+'d']&&_0x5164b4['_levels']['length']===-0x1*0x2333+-0x2626*0x1+0x495a)&&(_0x229c9a===Kh||_0x229c9a===Zh?_0x229c9a=Te:(_0x229c9a===Qh||_0x229c9a===ma)&&(_0x229c9a=vt)),_0x5440a9['texParamet'+'eri'](_0x2185d1,_0x5440a9['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x229c9a]);}if(_0x3acdce&Cy&&_0x5440a9['texParamet'+'eri'](_0x2185d1,_0x5440a9['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x5164b4['_magFilter']]),_0x3acdce&Py&&_0x5440a9['texParamet'+'eri'](_0x2185d1,_0x5440a9['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x5164b4['_addressU']]),_0x3acdce&My&&_0x5440a9['texParamet'+'eri'](_0x2185d1,_0x5440a9['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x5164b4['_addressV']]),_0x3acdce&Dy&&_0x5440a9['texParamet'+'eri'](_0x2185d1,_0x5440a9['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x5164b4['_addressW']]),_0x3acdce&Iy&&_0x5440a9['texParamet'+'eri'](_0x2185d1,_0x5440a9['TEXTURE_CO'+'MPARE_MODE'],_0x5164b4['_compareOn'+'Read']?_0x5440a9['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x5440a9['NONE']),_0x3acdce&Ly&&_0x5440a9['texParamet'+'eri'](_0x2185d1,_0x5440a9['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x5164b4['_compareFu'+'nc']]),_0x3acdce&Ry){const _0x332e8b=this['extTexture'+'FilterAnis'+'otropic'];_0x332e8b&&_0x5440a9['texParamet'+'erf'](_0x2185d1,_0x332e8b['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],Y['clamp'](Math['round'](_0x5164b4['_anisotrop'+'y']),0x7f7*0x2+0x11d7+-0x21c4,this['maxAnisotr'+'opy']));}}['setTexture'](_0x4e8658,_0x222d28){const _0x447b43=_0x4e8658['impl'];_0x447b43['_glTexture']||_0x447b43['initialize'](this,_0x4e8658),_0x447b43['dirtyParam'+'eterFlags']>-0x2d*-0xcf+-0xf10+-0x35*0x67||_0x4e8658['_needsUplo'+'ad']||_0x4e8658['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x222d28),this['bindTextur'+'e'](_0x4e8658),_0x447b43['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x4e8658),_0x447b43['dirtyParam'+'eterFlags']=0xd80+-0xa8d+-0x2f3),(_0x4e8658['_needsUplo'+'ad']||_0x4e8658['_needsMipm'+'apsUpload'])&&(_0x447b43['upload'](this,_0x4e8658),_0x4e8658['_needsUplo'+'ad']=!(-0x1dfb*-0x1+0xc0*-0x9+-0x3*0x7be),_0x4e8658['_needsMipm'+'apsUpload']=!(0x458*-0x5+-0x1*-0x1b07+-0x54e))):this['bindTextur'+'eOnUnit'](_0x4e8658,_0x222d28);}['createVert'+'exArray'](_0x15c95a){let _0x2d7185,_0xe7262c;const _0x1200ec=_0x15c95a['length']>0x4f4+-0x1*-0x19ef+-0x1*0x1ee2;if(_0x1200ec){_0x2d7185='';for(let _0x4ed482=0x2562+-0x71d+-0x1e45;_0x4ed482<_0x15c95a['length'];_0x4ed482++){const _0x2cd9a5=_0x15c95a[_0x4ed482];_0x2d7185+=_0x2cd9a5['id']+_0x2cd9a5['format']['renderingH'+'ash'];}_0xe7262c=this['_vaoMap']['get'](_0x2d7185);}if(!_0xe7262c){const _0x110bd9=this['gl'];_0xe7262c=_0x110bd9['createVert'+'exArray'](),_0x110bd9['bindVertex'+'Array'](_0xe7262c),_0x110bd9['bindBuffer'](_0x110bd9['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x12170a=!(-0x2*-0xeb7+0x5c0+0x1*-0x232d);for(let _0xb89107=0x1*-0x1078+0x25df+0x1*-0x1567;_0xb89107<_0x15c95a['length'];_0xb89107++){const _0x47f571=_0x15c95a[_0xb89107];_0x110bd9['bindBuffer'](_0x110bd9['ARRAY_BUFF'+'ER'],_0x47f571['impl']['bufferId']);const _0x1d09ae=_0x47f571['format']['elements'];for(let _0x19f935=0xb70+0x17db+-0x234b;_0x19f935<_0x1d09ae['length'];_0x19f935++){const _0x1987b1=_0x1d09ae[_0x19f935],_0x4d8c6c=Le[_0x1987b1['name']];_0x4d8c6c===-0x1f0c+-0x1e0a+0x3d16&&(_0x12170a=!(0x1*-0x7ab+0x1*0x24f5+-0x1d4a)),_0x1987b1['asInt']?_0x110bd9['vertexAttr'+'ibIPointer'](_0x4d8c6c,_0x1987b1['numCompone'+'nts'],this['glType'][_0x1987b1['dataType']],_0x1987b1['stride'],_0x1987b1['offset']):_0x110bd9['vertexAttr'+'ibPointer'](_0x4d8c6c,_0x1987b1['numCompone'+'nts'],this['glType'][_0x1987b1['dataType']],_0x1987b1['normalize'],_0x1987b1['stride'],_0x1987b1['offset']),_0x110bd9['enableVert'+'exAttribAr'+'ray'](_0x4d8c6c),_0x47f571['format']['instancing']&&_0x110bd9['vertexAttr'+'ibDivisor'](_0x4d8c6c,-0x18e7+-0xd2a+-0x376*-0xb);}}_0x110bd9['bindVertex'+'Array'](null),_0x110bd9['bindBuffer'](_0x110bd9['ARRAY_BUFF'+'ER'],null),_0x1200ec&&this['_vaoMap']['set'](_0x2d7185,_0xe7262c),_0x12170a||w['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0xe7262c;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](_0x1a0627){const _0x3ea522=this['gl'];let _0x37ca33;if(this['vertexBuff'+'ers']['length']===-0xa*0x3ad+0x1b35+-0x1*-0x98e){const _0x54a560=this['vertexBuff'+'ers'][-0x12b+0x198f+-0x1864];w['assert'](_0x54a560['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x54a560['impl']['vao']||(_0x54a560['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x37ca33=_0x54a560['impl']['vao'];}else _0x37ca33=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x37ca33&&(this['boundVao']=_0x37ca33,_0x3ea522['bindVertex'+'Array'](_0x37ca33));const _0x21a52a=_0x1a0627?_0x1a0627['impl']['bufferId']:null;_0x3ea522['bindBuffer'](_0x3ea522['ELEMENT_AR'+'RAY_BUFFER'],_0x21a52a);}['draw'](_0x160b26,_0x71d343,_0x100625,_0x1eb4d7,_0x5ba187=!(-0x235f+-0x2*0xdd5+0x3f09),_0x375d92=!(0x17*0x7+0x53*0x37+0x1276*-0x1)){const _0x7a6c8c=this['shader'];if(_0x7a6c8c&&(this['activateSh'+'ader'](),this['shaderVali'+'d'])){const _0x4bc62b=this['gl'];_0x5ba187&&(w['call'](()=>{var _0x2aaa10,_0x5dba5e;return this['validateAt'+'tributes'](this['shader'],(_0x2aaa10=this['vertexBuff'+'ers'][0x16*0xd7+-0x9b4*-0x2+-0x25e2])==null?void(0x12ee+0x79c+-0x2b*0x9e):_0x2aaa10['format'],(_0x5dba5e=this['vertexBuff'+'ers'][-0x20e1*0x1+-0x1e38+0x18a*0x29])==null?void(-0x1858+0x9*-0xe+0x18d6):_0x5dba5e['format']);}),this['setBuffers'](_0x71d343));let _0x4911b6=-0xe57+0x455*0x3+0x158;const _0x3082f4=_0x7a6c8c['impl']['samplers'];for(let _0x5e6fbc=-0x529*-0x2+-0x586+-0x1*0x4cc,_0x26ce09=_0x3082f4['length'];_0x5e6fbc<_0x26ce09;_0x5e6fbc++){const _0x49e849=_0x3082f4[_0x5e6fbc];let _0x1eda7b=_0x49e849['scopeId']['value'];if(!_0x1eda7b){const _0x1bc228=_0x49e849['scopeId']['name'];w['assert'](_0x1bc228!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),w['assert'](_0x1bc228!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x1bc228==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x1eda7b=fa(this,'white')),_0x1bc228==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x1eda7b=fa(this,'pink')),_0x1eda7b||(w['errorOnce']('Shader\x20'+_0x7a6c8c['name']+'\x20requires\x20'+_0x1bc228+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+Q['toString']()+']',_0x7a6c8c),_0x1eda7b=fa(this,'pink'));}if(_0x1eda7b instanceof _e){const _0x19b84e=_0x1eda7b;this['setTexture'](_0x19b84e,_0x4911b6),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<-0x2632+0x948+0x1cec&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x19b84e?w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x19b84e}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x19b84e&&w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x19b84e})),_0x49e849['slot']!==_0x4911b6&&(_0x4bc62b['uniform1i'](_0x49e849['locationId'],_0x4911b6),_0x49e849['slot']=_0x4911b6),_0x4911b6++;}else{_0x49e849['array']['length']=-0x24f7+0x54d+-0xa8e*-0x3;const _0x403a55=_0x1eda7b['length'];for(let _0x5edaac=-0x9e*0x34+0x1cd4+0x1a2*0x2;_0x5edaac<_0x403a55;_0x5edaac++){const _0x57d95a=_0x1eda7b[_0x5edaac];this['setTexture'](_0x57d95a,_0x4911b6),_0x49e849['array'][_0x5edaac]=_0x4911b6,_0x4911b6++;}_0x4bc62b['uniform1iv'](_0x49e849['locationId'],_0x49e849['array']);}}const _0x3eabae=_0x7a6c8c['impl']['uniforms'];for(let _0x1ef692=-0x2*-0xac1+0x3*-0x4ad+-0x77b,_0x4034a8=_0x3eabae['length'];_0x1ef692<_0x4034a8;_0x1ef692++){const _0x2a1290=_0x3eabae[_0x1ef692],_0x252189=_0x2a1290['scopeId'],_0x43ff74=_0x2a1290['version'],_0x5ee136=_0x252189['versionObj'+'ect']['version'];if(_0x43ff74['globalId']!==_0x5ee136['globalId']||_0x43ff74['revision']!==_0x5ee136['revision']){_0x43ff74['globalId']=_0x5ee136['globalId'],_0x43ff74['revision']=_0x5ee136['revision'];const _0x239b13=_0x252189['value'];_0x239b13!=null?this['commitFunc'+'tion'][_0x2a1290['dataType']](_0x2a1290,_0x239b13):w['warnOnce']('Shader\x20['+_0x7a6c8c['label']+(']\x20requires'+'\x20uniform\x20[')+_0x2a1290['scopeId']['name']+(']\x20which\x20ha'+'s\x20not\x20been'+'\x20set,\x20whil'+'e\x20renderin'+'g\x20[')+Q['toString']()+']');}}this['transformF'+'eedbackBuf'+'fer']&&(_0x4bc62b['bindBuffer'+'Base'](_0x4bc62b['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x161f*0x1+-0x5dd+0x1bfc,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x4bc62b['beginTrans'+'formFeedba'+'ck'](_0x4bc62b['POINTS']));const _0x238e7a=this['glPrimitiv'+'e'][_0x160b26['type']],_0x37bffe=_0x160b26['count'];if(_0x160b26['indexed']){w['assert'](_0x71d343['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x24ab68=_0x71d343['impl']['glFormat'],_0x1b4913=_0x160b26['base']*_0x71d343['bytesPerIn'+'dex'];_0x100625>0x1327+-0xd24+-0x603?_0x4bc62b['drawElemen'+'tsInstance'+'d'](_0x238e7a,_0x37bffe,_0x24ab68,_0x1b4913,_0x100625):_0x4bc62b['drawElemen'+'ts'](_0x238e7a,_0x37bffe,_0x24ab68,_0x1b4913);}else{const _0x54dc90=_0x160b26['base'];_0x100625>0x13d3+0x24*-0x93+0x7*0x1f?_0x4bc62b['drawArrays'+'Instanced'](_0x238e7a,_0x54dc90,_0x37bffe,_0x100625):_0x4bc62b['drawArrays'](_0x238e7a,_0x54dc90,_0x37bffe);}this['transformF'+'eedbackBuf'+'fer']&&(_0x4bc62b['endTransfo'+'rmFeedback'](),_0x4bc62b['bindBuffer'+'Base'](_0x4bc62b['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x1b69*0x1+-0x44*0x8c+0x9c7,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x160b26['type']]+=_0x160b26['count']*(_0x100625>0x25e8+-0x690+-0x47*0x71?_0x100625:0x8d0+-0x4b*0x5e+0x12bb);}_0x375d92&&this['clearVerte'+'xBuffer']();}['clear'](_0x3ae9c6){const _0x473b93=this['defaultCle'+'arOptions'];_0x3ae9c6=_0x3ae9c6||_0x473b93;const _0x31c9aa=_0x3ae9c6['flags']??_0x473b93['flags'];if(_0x31c9aa!==-0x99f+0xf15+-0x576*0x1){const _0x55c063=this['gl'];if(_0x31c9aa&jo){const _0x403a9d=_0x3ae9c6['color']??_0x473b93['color'],_0x1a80f4=_0x403a9d[0x17be+0x23fe+0x1*-0x3bbc],_0x51ec5f=_0x403a9d[0x11e7+0x8ce+-0x1ab4],_0x3f5b62=_0x403a9d[-0x1913+-0x3*-0x4b8+0xaed],_0x220417=_0x403a9d[-0x1773+-0x249d+0x3c13],_0xfd7f63=this['clearColor'];(_0x1a80f4!==_0xfd7f63['r']||_0x51ec5f!==_0xfd7f63['g']||_0x3f5b62!==_0xfd7f63['b']||_0x220417!==_0xfd7f63['a'])&&(this['gl']['clearColor'](_0x1a80f4,_0x51ec5f,_0x3f5b62,_0x220417),this['clearColor']['set'](_0x1a80f4,_0x51ec5f,_0x3f5b62,_0x220417)),this['setBlendSt'+'ate'](pt['NOBLEND']);}if(_0x31c9aa&Yo){const _0x420657=_0x3ae9c6['depth']??_0x473b93['depth'];_0x420657!==this['clearDepth']&&(this['gl']['clearDepth'](_0x420657),this['clearDepth']=_0x420657),this['setDepthSt'+'ate'](Yt['WRITEDEPTH']);}if(_0x31c9aa&ch){const _0x2e2b1f=_0x3ae9c6['stencil']??_0x473b93['stencil'];_0x2e2b1f!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x2e2b1f),this['clearStenc'+'il']=_0x2e2b1f),_0x55c063['stencilMas'+'k'](0x3*-0x415+0x1cfe+-0x40*0x3f),this['stencilWri'+'teMaskFron'+'t']=0x1669+-0x22d0+-0x157*-0xa,this['stencilWri'+'teMaskBack']=-0x4*0x1f8+-0x942+0x3*0x60b;}_0x55c063['clear'](this['glClearFla'+'g'][_0x31c9aa]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x22adff,_0x2e9311,_0x1563d5,_0x24d1aa,_0x43b6a3){const _0x1fce8e=this['gl'];_0x1fce8e['readPixels'](_0x22adff,_0x2e9311,_0x1563d5,_0x24d1aa,_0x1fce8e['RGBA'],_0x1fce8e['UNSIGNED_B'+'YTE'],_0x43b6a3);}['clientWait'+'Async'](_0x217557,_0x4f5397){const _0x4bd0b6=this['gl'],_0x242002=_0x4bd0b6['fenceSync'](_0x4bd0b6['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],-0x14ae+-0x9ad+0x13*0x199);return this['submit'](),new Promise((_0x21abf2,_0x219746)=>{function _0x2bd06f(){const _0x5bbcbe=_0x4bd0b6['clientWait'+'Sync'](_0x242002,_0x217557,0x19c+0x1757+-0x1*0x18f3);_0x5bbcbe===_0x4bd0b6['TIMEOUT_EX'+'PIRED']?setTimeout(_0x2bd06f,_0x4f5397):(_0x4bd0b6['deleteSync'](_0x242002),_0x5bbcbe===_0x4bd0b6['WAIT_FAILE'+'D']?_0x219746(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed')):_0x21abf2());}_0x2bd06f();});}async['readPixels'+'Async'](_0x35f165,_0x13f514,_0x16ea70,_0x595594,_0x141759){var _0x12c9fa;const _0x8266b1=this['gl'],_0x167634=(_0x12c9fa=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(-0x47d*0x4+0x1*-0x2345+-0x5*-0xaa5):_0x12c9fa['impl'],_0x3b1f1c=(_0x167634==null?void(0x2323+0x84*-0x46+0xf5):_0x167634['_glFormat'])??_0x8266b1['RGBA'],_0x2b2ab4=(_0x167634==null?void(0xf8e*-0x1+-0x223*-0x9+-0x3ad):_0x167634['_glPixelTy'+'pe'])??_0x8266b1['UNSIGNED_B'+'YTE'],_0x2826d2=_0x8266b1['createBuff'+'er']();return _0x8266b1['bindBuffer'](_0x8266b1['PIXEL_PACK'+'_BUFFER'],_0x2826d2),_0x8266b1['bufferData'](_0x8266b1['PIXEL_PACK'+'_BUFFER'],_0x141759['byteLength'],_0x8266b1['STREAM_REA'+'D']),_0x8266b1['readPixels'](_0x35f165,_0x13f514,_0x16ea70,_0x595594,_0x3b1f1c,_0x2b2ab4,-0x2389+-0x4dd+0x2866),_0x8266b1['bindBuffer'](_0x8266b1['PIXEL_PACK'+'_BUFFER'],null),await this['clientWait'+'Async'](-0x3e*-0x71+0x2*0x3+0xdb2*-0x2,0x2b0+-0x870+-0x7c*-0xc),_0x8266b1['bindBuffer'](_0x8266b1['PIXEL_PACK'+'_BUFFER'],_0x2826d2),_0x8266b1['getBufferS'+'ubData'](_0x8266b1['PIXEL_PACK'+'_BUFFER'],-0x7fd*-0x2+-0x12*-0xef+-0x20c8,_0x141759),_0x8266b1['bindBuffer'](_0x8266b1['PIXEL_PACK'+'_BUFFER'],null),_0x8266b1['deleteBuff'+'er'](_0x2826d2),_0x141759;}['readTextur'+'eAsync'](_0x53ae9c,_0x5610b2,_0x3d71ea,_0x24c7f5,_0x29747c,_0x4dda87){const _0x3b534d=_0x4dda87['face']??0x2f5+0x505+-0x2*0x3fd,_0x3bd088=_0x4dda87['renderTarg'+'et']??new gt({'colorBuffer':_0x53ae9c,'depth':!(0x232+0x2dd*0xd+-0x3f1*0xa),'face':_0x3b534d});w['assert'](_0x3bd088['colorBuffe'+'r']===_0x53ae9c);const _0x1bc616=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x24c7f5,_0x29747c,0xcc0+-0x7*0x25d+-0x9*-0x6c,_0x53ae9c['_format'])),_0x30a86f=_0x4dda87['data']??new(my(_0x53ae9c['_format']))(_0x1bc616);return this['setRenderT'+'arget'](_0x3bd088),this['initRender'+'Target'](_0x3bd088),new Promise((_0x1472fe,_0x38737f)=>{this['readPixels'+'Async'](_0x5610b2,_0x3d71ea,_0x24c7f5,_0x29747c,_0x30a86f)['then'](_0x1c6f0c=>{_0x4dda87['renderTarg'+'et']||_0x3bd088['destroy'](),_0x1472fe(_0x1c6f0c);})['catch'](_0x38737f);});}async['writeTextu'+'reAsync'](_0x30041a,_0x3d5cc4,_0x1cd6ba,_0xab5bb1,_0x476dc7,_0x15170c){const _0x5712f3=this['gl'],_0x484729=_0x30041a['impl'],_0x50ad5b=(_0x484729==null?void(-0x561*-0x2+0x14a4+-0x1*0x1f66):_0x484729['_glFormat'])??_0x5712f3['RGBA'],_0x2a4568=(_0x484729==null?void(-0xafd+0x12f7+-0x3fd*0x2):_0x484729['_glPixelTy'+'pe'])??_0x5712f3['UNSIGNED_B'+'YTE'],_0x39e347=_0x5712f3['createBuff'+'er']();_0x5712f3['bindBuffer'](_0x5712f3['PIXEL_UNPA'+'CK_BUFFER'],_0x39e347),_0x5712f3['bufferData'](_0x5712f3['PIXEL_UNPA'+'CK_BUFFER'],_0x15170c,_0x5712f3['STREAM_DRA'+'W']),_0x5712f3['bindTextur'+'e'](_0x5712f3['TEXTURE_2D'],_0x484729['_glTexture']),_0x5712f3['texSubImag'+'e2D'](_0x5712f3['TEXTURE_2D'],-0x1d07+0x1661+0x6a6*0x1,_0x3d5cc4,_0x1cd6ba,_0xab5bb1,_0x476dc7,_0x50ad5b,_0x2a4568,0xab5+-0x16*-0x2b+-0xe67),_0x5712f3['bindBuffer'](_0x5712f3['PIXEL_UNPA'+'CK_BUFFER'],null),_0x30041a['_needsUplo'+'ad']=!(-0x11*0x65+-0xc24+-0x96d*-0x2),_0x30041a['_mipmapsUp'+'loaded']=!(-0x2ad*0xb+-0x25f9+-0x4369*-0x1),await this['clientWait'+'Async'](0xb3e+-0x5*-0x37a+0xe5*-0x20,-0x6ed+0x17ba*0x1+-0x10bd);}['setAlphaTo'+'Coverage'](_0x2b8dbb){this['alphaToCov'+'erage']!==_0x2b8dbb&&(this['alphaToCov'+'erage']=_0x2b8dbb,_0x2b8dbb?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x5b586b){if(this['transformF'+'eedbackBuf'+'fer']!==_0x5b586b){this['transformF'+'eedbackBuf'+'fer']=_0x5b586b;const _0x8538de=this['gl'];_0x5b586b?(this['feedback']||(this['feedback']=_0x8538de['createTran'+'sformFeedb'+'ack']()),_0x8538de['bindTransf'+'ormFeedbac'+'k'](_0x8538de['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x8538de['bindTransf'+'ormFeedbac'+'k'](_0x8538de['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x317e73){this['raster']!==_0x317e73&&(this['raster']=_0x317e73,_0x317e73?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x2cdfc8){if(this['stencil']!==_0x2cdfc8){const _0x7a903b=this['gl'];_0x2cdfc8?_0x7a903b['enable'](_0x7a903b['STENCIL_TE'+'ST']):_0x7a903b['disable'](_0x7a903b['STENCIL_TE'+'ST']),this['stencil']=_0x2cdfc8;}}['setStencil'+'Func'](_0x3893c9,_0x163a87,_0x153dc9){(this['stencilFun'+'cFront']!==_0x3893c9||this['stencilRef'+'Front']!==_0x163a87||this['stencilMas'+'kFront']!==_0x153dc9||this['stencilFun'+'cBack']!==_0x3893c9||this['stencilRef'+'Back']!==_0x163a87||this['stencilMas'+'kBack']!==_0x153dc9)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x3893c9],_0x163a87,_0x153dc9),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x3893c9,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x163a87,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x153dc9);}['setStencil'+'FuncFront'](_0x4a85e9,_0x52c63b,_0x21bf9a){if(this['stencilFun'+'cFront']!==_0x4a85e9||this['stencilRef'+'Front']!==_0x52c63b||this['stencilMas'+'kFront']!==_0x21bf9a){const _0xeeffa9=this['gl'];_0xeeffa9['stencilFun'+'cSeparate'](_0xeeffa9['FRONT'],this['glComparis'+'on'][_0x4a85e9],_0x52c63b,_0x21bf9a),this['stencilFun'+'cFront']=_0x4a85e9,this['stencilRef'+'Front']=_0x52c63b,this['stencilMas'+'kFront']=_0x21bf9a;}}['setStencil'+'FuncBack'](_0x3c7c46,_0x5da181,_0x22b7fe){if(this['stencilFun'+'cBack']!==_0x3c7c46||this['stencilRef'+'Back']!==_0x5da181||this['stencilMas'+'kBack']!==_0x22b7fe){const _0x232a0c=this['gl'];_0x232a0c['stencilFun'+'cSeparate'](_0x232a0c['BACK'],this['glComparis'+'on'][_0x3c7c46],_0x5da181,_0x22b7fe),this['stencilFun'+'cBack']=_0x3c7c46,this['stencilRef'+'Back']=_0x5da181,this['stencilMas'+'kBack']=_0x22b7fe;}}['setStencil'+'Operation'](_0x54f9ee,_0x1bbaca,_0x2c3f1e,_0x2cbdbe){(this['stencilFai'+'lFront']!==_0x54f9ee||this['stencilZfa'+'ilFront']!==_0x1bbaca||this['stencilZpa'+'ssFront']!==_0x2c3f1e||this['stencilFai'+'lBack']!==_0x54f9ee||this['stencilZfa'+'ilBack']!==_0x1bbaca||this['stencilZpa'+'ssBack']!==_0x2c3f1e)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x54f9ee],this['glStencilO'+'p'][_0x1bbaca],this['glStencilO'+'p'][_0x2c3f1e]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x54f9ee,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x1bbaca,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x2c3f1e),(this['stencilWri'+'teMaskFron'+'t']!==_0x2cbdbe||this['stencilWri'+'teMaskBack']!==_0x2cbdbe)&&(this['gl']['stencilMas'+'k'](_0x2cbdbe),this['stencilWri'+'teMaskFron'+'t']=_0x2cbdbe,this['stencilWri'+'teMaskBack']=_0x2cbdbe);}['setStencil'+'OperationF'+'ront'](_0x2fb274,_0x55816e,_0x5135dc,_0x124397){(this['stencilFai'+'lFront']!==_0x2fb274||this['stencilZfa'+'ilFront']!==_0x55816e||this['stencilZpa'+'ssFront']!==_0x5135dc)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x2fb274],this['glStencilO'+'p'][_0x55816e],this['glStencilO'+'p'][_0x5135dc]),this['stencilFai'+'lFront']=_0x2fb274,this['stencilZfa'+'ilFront']=_0x55816e,this['stencilZpa'+'ssFront']=_0x5135dc),this['stencilWri'+'teMaskFron'+'t']!==_0x124397&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x124397),this['stencilWri'+'teMaskFron'+'t']=_0x124397);}['setStencil'+'OperationB'+'ack'](_0x602389,_0x372e57,_0x1d8d64,_0x2ccdeb){(this['stencilFai'+'lBack']!==_0x602389||this['stencilZfa'+'ilBack']!==_0x372e57||this['stencilZpa'+'ssBack']!==_0x1d8d64)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x602389],this['glStencilO'+'p'][_0x372e57],this['glStencilO'+'p'][_0x1d8d64]),this['stencilFai'+'lBack']=_0x602389,this['stencilZfa'+'ilBack']=_0x372e57,this['stencilZpa'+'ssBack']=_0x1d8d64),this['stencilWri'+'teMaskBack']!==_0x2ccdeb&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x2ccdeb),this['stencilWri'+'teMaskBack']=_0x2ccdeb);}['setBlendSt'+'ate'](_0x19abda){const _0x119af3=this['blendState'];if(!_0x119af3['equals'](_0x19abda)){const _0x86b533=this['gl'],{blend:_0x59874a,colorOp:_0x8d3adb,alphaOp:_0x1c6b0e,colorSrcFactor:_0x149fed,colorDstFactor:_0x521011,alphaSrcFactor:_0x507e3b,alphaDstFactor:_0x329178}=_0x19abda;if(_0x119af3['blend']!==_0x59874a&&(_0x59874a?_0x86b533['enable'](_0x86b533['BLEND']):_0x86b533['disable'](_0x86b533['BLEND'])),_0x119af3['colorOp']!==_0x8d3adb||_0x119af3['alphaOp']!==_0x1c6b0e){const _0x1ce417=this['glBlendEqu'+'ation'];_0x86b533['blendEquat'+'ionSeparat'+'e'](_0x1ce417[_0x8d3adb],_0x1ce417[_0x1c6b0e]);}(_0x119af3['colorSrcFa'+'ctor']!==_0x149fed||_0x119af3['colorDstFa'+'ctor']!==_0x521011||_0x119af3['alphaSrcFa'+'ctor']!==_0x507e3b||_0x119af3['alphaDstFa'+'ctor']!==_0x329178)&&_0x86b533['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x149fed],this['glBlendFun'+'ctionColor'][_0x521011],this['glBlendFun'+'ctionAlpha'][_0x507e3b],this['glBlendFun'+'ctionAlpha'][_0x329178]),_0x119af3['allWrite']!==_0x19abda['allWrite']&&this['gl']['colorMask'](_0x19abda['redWrite'],_0x19abda['greenWrite'],_0x19abda['blueWrite'],_0x19abda['alphaWrite']),_0x119af3['copy'](_0x19abda);}}['setBlendCo'+'lor'](_0x598345,_0xbb8892,_0x41215d,_0x4c2ac3){const _0x2ec33b=this['blendColor'];(_0x598345!==_0x2ec33b['r']||_0xbb8892!==_0x2ec33b['g']||_0x41215d!==_0x2ec33b['b']||_0x4c2ac3!==_0x2ec33b['a'])&&(this['gl']['blendColor'](_0x598345,_0xbb8892,_0x41215d,_0x4c2ac3),_0x2ec33b['set'](_0x598345,_0xbb8892,_0x41215d,_0x4c2ac3));}['setStencil'+'State'](_0x5b1970,_0x28bd31){_0x5b1970||_0x28bd31?(this['setStencil'+'Test'](!(-0x242d+-0xb6*0x27+0x3fe7)),_0x5b1970===_0x28bd31?(this['setStencil'+'Func'](_0x5b1970['func'],_0x5b1970['ref'],_0x5b1970['readMask']),this['setStencil'+'Operation'](_0x5b1970['fail'],_0x5b1970['zfail'],_0x5b1970['zpass'],_0x5b1970['writeMask'])):(_0x5b1970??(_0x5b1970=pi['DEFAULT']),this['setStencil'+'FuncFront'](_0x5b1970['func'],_0x5b1970['ref'],_0x5b1970['readMask']),this['setStencil'+'OperationF'+'ront'](_0x5b1970['fail'],_0x5b1970['zfail'],_0x5b1970['zpass'],_0x5b1970['writeMask']),_0x28bd31??(_0x28bd31=pi['DEFAULT']),this['setStencil'+'FuncBack'](_0x28bd31['func'],_0x28bd31['ref'],_0x28bd31['readMask']),this['setStencil'+'OperationB'+'ack'](_0x28bd31['fail'],_0x28bd31['zfail'],_0x28bd31['zpass'],_0x28bd31['writeMask']))):this['setStencil'+'Test'](!(-0x131d*0x2+0x1657+-0x24*-0x71));}['setDepthSt'+'ate'](_0x23a19c){const _0x205c5a=this['depthState'];if(!_0x205c5a['equals'](_0x23a19c)){const _0x2fe579=this['gl'],_0x546089=_0x23a19c['write'];_0x205c5a['write']!==_0x546089&&_0x2fe579['depthMask'](_0x546089);let {func:_0x58f4a9,test:_0xb811ed}=_0x23a19c;!_0xb811ed&&_0x546089&&(_0xb811ed=!(-0xf*0x216+0x5a2*0x2+0xb*0x1d2),_0x58f4a9=Wi),_0x205c5a['func']!==_0x58f4a9&&_0x2fe579['depthFunc'](this['glComparis'+'on'][_0x58f4a9]),_0x205c5a['test']!==_0xb811ed&&(_0xb811ed?_0x2fe579['enable'](_0x2fe579['DEPTH_TEST']):_0x2fe579['disable'](_0x2fe579['DEPTH_TEST']));const {depthBias:_0x43878e,depthBiasSlope:_0x534363}=_0x23a19c;_0x43878e||_0x534363?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(-0x14f9+-0x40*-0x32+0x3*0x2d3),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x2fe579['polygonOff'+'set'](_0x534363,_0x43878e)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(-0x353+-0xe*-0x1b0+-0x144c),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x205c5a['copy'](_0x23a19c);}}['setCullMod'+'e'](_0x41e87c){if(this['cullMode']!==_0x41e87c){if(_0x41e87c===bt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===bt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x305558=this['glCull'][_0x41e87c];this['cullFace']!==_0x305558&&(this['gl']['cullFace'](_0x305558),this['cullFace']=_0x305558);}this['cullMode']=_0x41e87c;}}['setShader'](_0x6df845,_0x1308ae=!(0x8e3+-0xa0e+-0x3*-0x64)){_0x6df845!==this['shader']&&(this['shader']=_0x6df845,this['shaderAsyn'+'cCompile']=_0x1308ae,this['shaderVali'+'d']=void(-0x1f87*0x1+0x1*-0x45e+0x1*0x23e5),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](){const {shader:_0x9992e7}=this,{impl:_0x4613df}=_0x9992e7;this['shaderVali'+'d']===void(0x1ae7+-0x1ffb+0x19*0x34)&&(_0x9992e7['failed']?this['shaderVali'+'d']=!(0x10*-0xc9+0xa11+0x280):_0x9992e7['ready']||(this['shaderAsyn'+'cCompile']?_0x4613df['isLinked'](this)?_0x4613df['finalize'](this,_0x9992e7)||(_0x9992e7['failed']=!(-0xfb+-0x11*0x22d+0x25f8),this['shaderVali'+'d']=!(0x1dd6+-0xb6c+-0x1269)):this['shaderVali'+'d']=!(-0x5*0x4e1+0x1b4f*-0x1+0x33b5):_0x4613df['finalize'](this,_0x9992e7)||(_0x9992e7['failed']=!(0x10e2+-0x1*0xec2+0x44*-0x8),this['shaderVali'+'d']=!(-0x2483+-0x185+0x2609)))),this['shaderVali'+'d']===void(0x17a9+0x1d86+-0x352f)&&(this['gl']['useProgram'](_0x4613df['glProgram']),this['shaderVali'+'d']=!(0x1d35*0x1+0x2*0xfb5+0x8a9*-0x7));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x43716b=this['gl'];this['_vaoMap']['forEach']((_0x39e953,_0x32233c,_0x101d86)=>{_0x43716b['deleteVert'+'exArray'](_0x39e953);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x2a4452){_0x2a4452?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x4d727a=-0x99e+0x17*-0x86+0x160c){const _0x2f3370=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x2f3370['loseContex'+'t'](),setTimeout(()=>_0x2f3370['restoreCon'+'text'](),_0x4d727a);}}let nw=0x2f9*-0x1+-0x24*-0x10f+0x2323*-0x1;class br{constructor(_0x3099af,_0x5936b2,_0x10e8f6,_0x40a236=ms,_0x54aebd,_0x3d8645){this['device']=_0x3099af,this['format']=_0x5936b2,this['numIndices']=_0x10e8f6,this['usage']=_0x40a236,this['id']=nw++,this['impl']=_0x3099af['createInde'+'xBufferImp'+'l'](this,_0x3d8645);const _0x20ec1a=hT[_0x5936b2];this['bytesPerIn'+'dex']=_0x20ec1a,this['numBytes']=this['numIndices']*_0x20ec1a,_0x54aebd?this['setData'](_0x54aebd):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x3099af['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x489158=this['device'],_0x3e9046=_0x489158['buffers']['indexOf'](this);_0x3e9046!==-(-0xb17*0x1+-0x24ac*0x1+0x2fc4)&&_0x489158['buffers']['splice'](_0x3e9046,0x1aa+0x17ef*-0x1+0x1646),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x489158),this['adjustVram'+'SizeTracki'+'ng'](_0x489158['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x564f61,_0x432814){w['trace'](j0,this['id']+'\x20size:\x20'+_0x432814+'\x20vram.ib:\x20'+_0x564f61['ib']+'\x20=>\x20'+(_0x564f61['ib']+_0x432814)),_0x564f61['ib']+=_0x432814;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x21ab36){return _0x21ab36['byteLength']!==this['numBytes']?(w['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x21ab36['byteLength']),!(-0x3*-0x35+0x5d3+0x11*-0x61)):(this['storage']=_0x21ab36,this['unlock'](),!(0x1ae4*-0x1+-0x29*0xe8+-0x400c*-0x1));}['_lockTyped'+'Array'](){const _0x2ceffc=this['lock']();return this['format']===wr?new Uint32Array(_0x2ceffc):this['format']===Yi?new Uint16Array(_0x2ceffc):new Uint8Array(_0x2ceffc);}['writeData'](_0x31bf77,_0x5c8987){const _0x4657ec=this['_lockTyped'+'Array']();if(_0x31bf77['length']>_0x5c8987){if(ArrayBuffer['isView'](_0x31bf77))_0x31bf77=_0x31bf77['subarray'](-0x913+0x3*-0x31a+-0x5*-0x3ad,_0x5c8987),_0x4657ec['set'](_0x31bf77);else{for(let _0x39485c=0x1077*-0x1+0x8*0x10f+0x7ff;_0x39485c<_0x5c8987;_0x39485c++)_0x4657ec[_0x39485c]=_0x31bf77[_0x39485c];}}else _0x4657ec['set'](_0x31bf77);this['unlock']();}['readData'](_0x5e228e){const _0xe1a1b2=this['_lockTyped'+'Array'](),_0x15ebd0=this['numIndices'];if(ArrayBuffer['isView'](_0x5e228e))_0x5e228e['set'](_0xe1a1b2);else{_0x5e228e['length']=0x4*0x146+-0x745+0x22d*0x1;for(let _0x5cb8f5=-0x5*0x458+-0x1396+-0x1*-0x294e;_0x5cb8f5<_0x15ebd0;_0x5cb8f5++)_0x5e228e[_0x5cb8f5]=_0xe1a1b2[_0x5cb8f5];}return _0x15ebd0;}}class ow{constructor(){h(this,'clearValue',new ie(-0x57a+-0x1*-0x13cf+-0xe55,-0x6a*-0xd+-0x184b*0x1+0x12e9,-0x292+-0x2*0x576+0xd7e,0x3d7*0x4+-0x4*-0x3b4+-0x1e2b)),h(this,'clearValue'+'Linear',new ie(0x8c8+0xf06+-0x17ce,0x1b4d+-0x7*0x2f9+-0x67e,0x466+0x1786*0x1+-0x4*0x6fb,-0x3d2+-0x1de5+-0x4*-0x86e)),h(this,'clear',!(-0x9*0x1df+-0x163*0x5+0x17c7)),h(this,'store',!(0x2353+0x2002+-0x4354)),h(this,'resolve',!(-0x5*-0x3b+-0x2a1*-0x3+-0x90a)),h(this,'genMipmaps',!(-0x20c*0xa+-0x1253+-0x1*-0x26cc));}}class lw{constructor(){h(this,'clearDepth'+'Value',0x25ce+-0x108d+-0x1540),h(this,'clearStenc'+'ilValue',0xcd0+-0x2133*-0x1+-0x2e03*0x1),h(this,'clearDepth',!(0x212b+-0x5*-0xb+0x2161*-0x1)),h(this,'clearStenc'+'il',!(0xe1d+-0x19fb+-0x1*-0xbdf)),h(this,'storeDepth',!(-0x2*0x9e+0x244c+-0x230f)),h(this,'resolveDep'+'th',!(0x16e0+0x20c5+0x1bd2*-0x2)),h(this,'storeStenc'+'il',!(-0x3*-0x6b3+-0xb7*0x1c+-0x4*0x5));}}class ys{constructor(_0x46c374){h(this,'_name'),h(this,'device'),h(this,'_enabled',!(0x3*0xcbd+-0x849*0x3+-0xd5c)),h(this,'_skipStart',!(-0x1*0xd7c+0x185*-0xa+0x7*0x419)),h(this,'_skipEnd',!(-0x4eb*0x7+0x1c78+0x5f6)),h(this,'executeEna'+'bled',!(-0x2023+0x39*-0x79+-0x31c*-0x13)),h(this,'renderTarg'+'et'),h(this,'_options'),h(this,'samples',-0x6*-0x469+0x5*-0x1+0x3c7*-0x7),h(this,'colorArray'+'Ops',[]),h(this,'depthStenc'+'ilOps'),h(this,'requiresCu'+'bemaps',!(-0xe5a*-0x1+0x1d9e+-0x2bf8)),h(this,'fullSizeCl'+'earRect',!(0xf4c+-0x2a7*-0x1+-0x11f3)),h(this,'beforePass'+'es',[]),h(this,'afterPasse'+'s',[]),(w['assert'](_0x46c374),this['device']=_0x46c374);}get['colorOps'](){return this['colorArray'+'Ops'][0x3a4*-0x3+-0x4cf*-0x6+-0x10e*0x11];}set['name'](_0x5a94de){this['_name']=_0x5a94de;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x51c9c7){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x51c9c7;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x232b13){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x232b13;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x28205b){this['_options']=_0x28205b,_0x28205b&&(this['scaleX']=this['scaleX']??-0x3*0xae1+-0x49c+0x2540,this['scaleY']=this['scaleY']??-0x3ba+-0x14d9+0x23c*0xb);}get['options'](){return this['_options'];}['init'](_0x50d790=null,_0x37d55f){this['options']=_0x37d55f,this['renderTarg'+'et']=_0x50d790,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],0x22f4*-0x1+-0x74f*0x5+-0x8f*-0x80),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x32b350,_0x37dfd6,_0x4f6baa,_0x19f497;const _0x34e1db=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new lw(),_0x34e1db!=null&&_0x34e1db['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(-0x1c7c+-0x334+-0x68*-0x4e));const _0x134350=_0x34e1db?((_0x32b350=_0x34e1db['_colorBuff'+'ers'])==null?void(-0x876+-0x80d+-0x3*-0x581):_0x32b350['length'])??0x3*0x30d+-0x23c6+0x1*0x1a9f:0x1361+-0x26cb+0x136b;this['colorArray'+'Ops']['length']=0xa63+-0x1ba6+-0x1eb*-0x9;for(let _0x10b7d7=0xcc*0x1c+-0x2269*-0x1+0x38b9*-0x1;_0x10b7d7<_0x134350;_0x10b7d7++){const _0xa0311=new ow();this['colorArray'+'Ops'][_0x10b7d7]=_0xa0311,this['samples']===-0x336*-0x9+-0x20*0x76+-0xe25&&(_0xa0311['store']=!(-0x141+0x6af*0x1+-0x56e),_0xa0311['resolve']=!(0x188+-0x130f*0x1+0x108*0x11));const _0x402158=(_0x4f6baa=(_0x37dfd6=this['renderTarg'+'et'])==null?void(0x1*-0xd2b+0x1689*0x1+-0x6d*0x16):_0x37dfd6['_colorBuff'+'ers'])==null?void(0x1*0x1196+-0x19f9+-0x863*-0x1):_0x4f6baa[_0x10b7d7];if((_0x19f497=this['renderTarg'+'et'])!=null&&_0x19f497['mipmaps']&&(_0x402158!=null&&_0x402158['mipmaps'])){const _0x2cde99=dn(_0x402158['_format']);_0xa0311['genMipmaps']=!_0x2cde99;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x23d97b=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x975dbd=Math['floor'](_0x23d97b['width']*this['scaleX']),_0x185389=Math['floor'](_0x23d97b['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x975dbd,_0x185389);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x2976f7){this['_enabled']!==_0x2976f7&&(this['_enabled']=_0x2976f7,_0x2976f7?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x46c2af){const _0x25425e=this['colorArray'+'Ops']['length'];for(let _0x2dda15=0x10ee+0xad*-0x16+0x6*-0x58;_0x2dda15<_0x25425e;_0x2dda15++){const _0x39b31e=this['colorArray'+'Ops'][_0x2dda15];_0x46c2af&&(_0x39b31e['clearValue']['copy'](_0x46c2af),_0x39b31e['clearValue'+'Linear']['linear'](_0x46c2af)),_0x39b31e['clear']=!!_0x46c2af;}}['setClearDe'+'pth'](_0x303735){_0x303735&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x303735),this['depthStenc'+'ilOps']['clearDepth']=_0x303735!==void(-0x1fb+-0x5e7*0x5+0x1f7e);}['setClearSt'+'encil'](_0x4aee97){_0x4aee97&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x4aee97),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x4aee97!==void(-0x227e+-0x1f1b*-0x1+0x363);}['render'](){if(this['enabled']){const _0x5adea1=this['device'],_0xc2650e=this['renderTarg'+'et']!==void(0x18cf+-0x26a0+0xdd1);w['call'](()=>{this['log'](_0x5adea1,_0x5adea1['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0xc2650e&&!this['_skipStart']&&_0x5adea1['startRende'+'rPass'](this),this['execute'](),_0xc2650e&&!this['_skipEnd']&&_0x5adea1['endRenderP'+'ass'](this)),this['after'](),_0x5adea1['renderPass'+'Index']++;}}['log'](_0x370a58,_0x58db3c=0x1a9b+-0x8*0x169+0xf53*-0x1){var _0x54c7fe,_0x1f1fa0,_0x57b3f3;if(mi['get'](Pm)||mi['get'](cn)){const _0x580a14=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x370a58['backBuffer']:null),_0x379050=!!(_0x580a14!=null&&_0x580a14['impl']['assignedCo'+'lorTexture'])||(_0x580a14==null?void(0x1a64+0x1eab+0x21d*-0x1b):_0x580a14['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(0x1*0x35+-0xd6b+0xd36),_0x12b1c3=((_0x54c7fe=_0x580a14==null?void(0x2356*-0x1+0x3*0x68+0x110f*0x2):_0x580a14['_colorBuff'+'ers'])==null?void(-0x17*-0x9d+-0x236+-0x57*0x23):_0x54c7fe['length'])??(_0x379050?-0x4*0x2fe+0x1*0x6b0+0x549:-0x1b9+0x4ec+0x3f*-0xd),_0x2e4886=_0x580a14==null?void(-0xd69+-0x1da5+0x2b0e):_0x580a14['depth'],_0x533723=_0x580a14==null?void(0x14*-0xce+-0x25f1+0x3609):_0x580a14['stencil'],_0x20fdbd=_0x580a14==null?void(0x98a+0x41b*-0x3+0x9*0x4f):_0x580a14['mipLevel'],_0x12b57b=_0x580a14?'\x20RT:\x20'+(_0x580a14?_0x580a14['name']:'NULL')+'\x20'+(_0x12b1c3>-0x1*0x1059+0x1*0x4f6+0x109*0xb?'[Color'+(_0x12b1c3>0x22c1+0xbd4+-0x2e94?'\x20x\x20'+_0x12b1c3:'')+']':'')+(_0x2e4886?'[Depth]':'')+(_0x533723?'[Stencil]':'')+'\x20'+_0x580a14['width']+'\x20x\x20'+_0x580a14['height']+(this['samples']>0x1eb9+0xebd+-0x2d76?'\x20samples:\x20'+this['samples']:'')+(_0x20fdbd>0x1*0xe0a+-0x1*-0xb6a+-0x1974?'\x20mipLevel:'+'\x20'+_0x20fdbd:''):'',_0x2a7105=this['_skipStart']?'++':_0x58db3c['toString']()['padEnd'](-0x1697*0x1+-0x24b1+-0x1da5*-0x2,'\x20');w['trace'](Pm,_0x2a7105+':\x20'+this['name']['padEnd'](0xe98+0xc31+-0x1ab5,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x12b57b['padEnd'](0x1a99+0x11b2+-0x2c2d));for(let _0xf9b2dc=0x1865*0x1+0x2277+0x1d6e*-0x2;_0xf9b2dc<_0x12b1c3;_0xf9b2dc++){const _0x4793e1=this['colorArray'+'Ops'][_0xf9b2dc],_0x5148db=(_0x1f1fa0=Nt['get'](_0x379050?_0x370a58['backBuffer'+'Format']:_0x580a14['getColorBu'+'ffer'](_0xf9b2dc)['format']))==null?void(-0xf87+0x29f*0xd+-0x128c):_0x1f1fa0['name'];w['trace'](cn,'\x20\x20\x20\x20color['+_0xf9b2dc+']:\x20'+(_0x4793e1['clear']?'clear':'load')+'->'+(_0x4793e1['store']?'store':'discard')+'\x20'+(_0x4793e1['resolve']?'resolve\x20':'')+(_0x4793e1['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x5148db+']\x20'+(_0x4793e1['clear']?'[clear:\x20'+_0x4793e1['clearValue']['toString'](!(0x1*0xc25+0x191c+-0x2541),!(0x16e7+0x13be+-0x2aa5))+']':''));}if(this['depthStenc'+'ilOps']){const _0x944fd5=''+(_0x580a14['depthBuffe'+'r']?'\x20[format:\x20'+((_0x57b3f3=Nt['get'](_0x580a14['depthBuffe'+'r']['format']))==null?void(0x1*0x14d1+0x1ab1*0x1+-0x2f82):_0x57b3f3['name'])+']':'');_0x2e4886&&w['trace'](cn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x944fd5+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x533723&&w['trace'](cn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x944fd5+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function cw(_0x188509){this['array'][this['index']]=_0x188509;}function hw(_0x5820c2,_0x19127c){this['array'][this['index']]=_0x5820c2,this['array'][this['index']+(0x3*0xb07+-0x9cd*0x1+-0x1747)]=_0x19127c;}function dw(_0x441e66,_0x5dcbde,_0x20819c){this['array'][this['index']]=_0x441e66,this['array'][this['index']+(0x4a2*-0x7+-0x24ff+0x1*0x456e)]=_0x5dcbde,this['array'][this['index']+(0x17a5+0xe8*-0x1a+-0x13)]=_0x20819c;}function fw(_0x3201b,_0x52fb0a,_0x3ebfaf,_0x30c7d2){this['array'][this['index']]=_0x3201b,this['array'][this['index']+(-0x18c9+-0x1*0xfec+0x28b6)]=_0x52fb0a,this['array'][this['index']+(-0x5a7*0x5+0xe5d+0xde8)]=_0x3ebfaf,this['array'][this['index']+(-0x42*-0x82+-0x2049+-0x4e*0x4)]=_0x30c7d2;}function uw(_0x1354de,_0x3629a6,_0x133a14){this['array'][_0x1354de]=_0x3629a6[_0x133a14];}function pw(_0x4b30c3,_0x41f4ca,_0x4d2240){this['array'][_0x4b30c3]=_0x41f4ca[_0x4d2240],this['array'][_0x4b30c3+(-0x727+0x45f*-0x4+0x18a4)]=_0x41f4ca[_0x4d2240+(0x2*-0xfbc+-0x152*0x13+0x388f)];}function mw(_0x57eb51,_0x57b866,_0x5211f5){this['array'][_0x57eb51]=_0x57b866[_0x5211f5],this['array'][_0x57eb51+(0x415*-0x3+-0x1*0x17f1+-0x1*-0x2431)]=_0x57b866[_0x5211f5+(0x638+0x234d+-0xa61*0x4)],this['array'][_0x57eb51+(0xf87+0x230*0x11+-0x67*0x83)]=_0x57b866[_0x5211f5+(0x23dd*-0x1+0x2705+-0x326)];}function _w(_0x36c999,_0x5c51c9,_0x3e1a79){this['array'][_0x36c999]=_0x5c51c9[_0x3e1a79],this['array'][_0x36c999+(0xd33+-0x179d+-0x379*-0x3)]=_0x5c51c9[_0x3e1a79+(-0x2289+0x37e+-0x2*-0xf86)],this['array'][_0x36c999+(0x1*0x1e34+0x1*0x1eab+-0x3cdd)]=_0x5c51c9[_0x3e1a79+(-0x2*0x60d+-0x66f+0x128b)],this['array'][_0x36c999+(0x7*-0x26f+0x111e+-0x12)]=_0x5c51c9[_0x3e1a79+(-0x7c*0x2a+0x1bc+0x129f)];}function gw(_0x7ff317,_0x52cd13,_0x13349e){_0x52cd13[_0x13349e]=this['array'][_0x7ff317];}function Sw(_0x39a2ed,_0x33be38,_0x5c03f5){_0x33be38[_0x5c03f5]=this['array'][_0x39a2ed],_0x33be38[_0x5c03f5+(0x116c+-0x1491+0x1f*0x1a)]=this['array'][_0x39a2ed+(0x22d6+-0x13e*-0x1d+-0xb*0x671)];}function yw(_0x514aec,_0x259f62,_0x226a43){_0x259f62[_0x226a43]=this['array'][_0x514aec],_0x259f62[_0x226a43+(-0x817+-0x1*-0x15d1+0x493*-0x3)]=this['array'][_0x514aec+(-0xb0b+-0x1*-0x2670+-0x1b64)],_0x259f62[_0x226a43+(0x515*-0x1+-0x36*-0x4d+-0xb27)]=this['array'][_0x514aec+(0x2171*-0x1+0x3da+0x1d99*0x1)];}function vw(_0x167a4f,_0x4267ab,_0x23e1f6){_0x4267ab[_0x23e1f6]=this['array'][_0x167a4f],_0x4267ab[_0x23e1f6+(-0x13fd+0x31*-0x5b+-0x9d*-0x3d)]=this['array'][_0x167a4f+(-0x4b4*-0x1+0x6b*0x2b+-0x4*0x5ab)],_0x4267ab[_0x23e1f6+(0x26cf+0x1*-0x8c6+-0x1e07*0x1)]=this['array'][_0x167a4f+(-0xcd6+0x1*-0xca9+0x1981)],_0x4267ab[_0x23e1f6+(-0x6*-0xf1+-0x11*-0x55+-0x4*0x2d2)]=this['array'][_0x167a4f+(-0x2622+0x46c*-0x2+-0x2efd*-0x1)];}class xw{constructor(_0x3d83c1,_0x2ae9ed,_0x9e4b3){switch(this['index']=-0x14*0x13e+0xbe1*-0x3+0x3c7b,this['numCompone'+'nts']=_0x2ae9ed['numCompone'+'nts'],_0x9e4b3['interleave'+'d']?this['array']=new wn[_0x2ae9ed['dataType']](_0x3d83c1,_0x2ae9ed['offset']):this['array']=new wn[_0x2ae9ed['dataType']](_0x3d83c1,_0x2ae9ed['offset'],_0x9e4b3['vertexCoun'+'t']*_0x2ae9ed['numCompone'+'nts']),this['stride']=_0x2ae9ed['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x2ae9ed['numCompone'+'nts']){case 0x2*-0xe5+0x2058+-0x1e8d:this['set']=cw,this['getToArray']=gw,this['setFromArr'+'ay']=uw;break;case 0x11c4*0x2+0x266*-0x3+-0x62*0x4a:this['set']=hw,this['getToArray']=Sw,this['setFromArr'+'ay']=pw;break;case-0x7*0x16a+-0x1665*0x1+0x204e*0x1:this['set']=dw,this['getToArray']=yw,this['setFromArr'+'ay']=mw;break;case-0xe80+0x1cef+-0xe6b:this['set']=fw,this['getToArray']=vw,this['setFromArr'+'ay']=_w;break;}}['get'](_0x4a3bf8){return this['array'][this['index']+_0x4a3bf8];}['set'](_0x42d968,_0x5c494e,_0x4fa2b9,_0x1db042){}['getToArray'](_0x587ea6,_0x1a722c,_0x45fa80){}['setFromArr'+'ay'](_0x75336c,_0x3d85d9,_0x5c8fed){}}class Uo{constructor(_0xcbf626){this['vertexBuff'+'er']=_0xcbf626,this['vertexForm'+'atSize']=_0xcbf626['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x1d5023=this['vertexBuff'+'er']['getFormat']();for(let _0x1601f0=0xb9e+-0x5*0x4d1+0xc77;_0x1601f0<_0x1d5023['elements']['length'];_0x1601f0++){const _0x1868b1=_0x1d5023['elements'][_0x1601f0];this['accessors'][_0x1601f0]=new xw(this['buffer'],_0x1868b1,_0x1d5023),this['element'][_0x1868b1['name']]=this['accessors'][_0x1601f0];}}['next'](_0x54677b=0x328*-0x7+0x1*-0x4c7+0x1ae0){let _0x2d0918=-0x5fa+-0x1a3e+0x80e*0x4;const _0x15456f=this['accessors'],_0x17484a=this['accessors']['length'];for(;_0x2d0918<_0x17484a;){const _0x1945b4=_0x15456f[_0x2d0918++];_0x1945b4['index']+=_0x54677b*_0x1945b4['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x4d6fd6,_0x52b119,_0x327565){const _0x6abad9=this['element'][_0x4d6fd6];if(_0x6abad9){_0x327565>this['vertexBuff'+'er']['numVertice'+'s']&&(w['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x327565+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x327565=this['vertexBuff'+'er']['numVertice'+'s']);const _0x4a8298=_0x6abad9['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x42f830=0x1b7d+-0x1*-0x2702+-0x427f;for(let _0x3e55d9=0x7d2+-0x25e1+0x1b*0x11d;_0x3e55d9<_0x327565;_0x3e55d9++)_0x6abad9['setFromArr'+'ay'](_0x42f830,_0x52b119,_0x3e55d9*_0x4a8298),_0x42f830+=_0x6abad9['stride'];}else{if(_0x52b119['length']>_0x327565*_0x4a8298){const _0x5e9997=_0x327565*_0x4a8298;if(ArrayBuffer['isView'](_0x52b119))_0x52b119=_0x52b119['subarray'](0x1cd+0x20*0xc4+-0x1a4d*0x1,_0x5e9997),_0x6abad9['array']['set'](_0x52b119);else{for(let _0x158b47=-0x205*-0x5+-0xdcd*0x2+0x1181;_0x158b47<_0x5e9997;_0x158b47++)_0x6abad9['array'][_0x158b47]=_0x52b119[_0x158b47];}}else _0x6abad9['array']['set'](_0x52b119);}}}['readData'](_0x294ae0,_0x334179){const _0x5a403d=this['element'][_0x294ae0];let _0x3ac8c9=-0x6*-0x42c+0xc1c+-0x2524;if(_0x5a403d){_0x3ac8c9=this['vertexBuff'+'er']['numVertice'+'s'];let _0x38b2b5;const _0x3eb8d1=_0x5a403d['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x334179)&&(_0x334179['length']=0x2*0x581+0x17fd+-0x20f*0x11),_0x5a403d['index']=0x1628+0x20c4+-0x36ec;let _0x6bb868=0x1*-0xc11+-0xf*-0x1ec+-0x265*0x7;for(_0x38b2b5=-0x2*0x11d1+0xda*0xf+0x16dc;_0x38b2b5<_0x3ac8c9;_0x38b2b5++)_0x5a403d['getToArray'](_0x6bb868,_0x334179,_0x38b2b5*_0x3eb8d1),_0x6bb868+=_0x5a403d['stride'];}else{if(ArrayBuffer['isView'](_0x334179))_0x334179['set'](_0x5a403d['array']);else{_0x334179['length']=-0xf*0x231+0x153c+-0xba3*-0x1;const _0x40ea78=_0x3ac8c9*_0x3eb8d1;for(_0x38b2b5=0x1733*0x1+-0x766+0xfcd*-0x1;_0x38b2b5<_0x40ea78;_0x38b2b5++)_0x334179[_0x38b2b5]=_0x5a403d['array'][_0x38b2b5];}}}return _0x3ac8c9;}}const Tw=-(-0x22f5+0x1*0xf07+0x7*0x2d9);class ww{constructor(_0x550233,_0x406061){h(this,'key',null),h(this,'element',null),h(this,'event',null),_0x406061&&(this['key']=_0x406061['keyCode'],this['element']=_0x406061['target'],this['event']=_0x406061);}}const jl=new ww();function Vd(_0x34419a){return jl['key']=_0x34419a['keyCode'],jl['element']=_0x34419a['target'],jl['event']=_0x34419a,jl;}function Yl(_0x3ae5f6){return typeof _0x3ae5f6=='string'?_0x3ae5f6['toUpperCas'+'e']()['charCodeAt'](0x1fd0+-0x5*-0x577+0x1*-0x3b23):_0x3ae5f6;}const Ew={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class h_ extends me{constructor(_0x5b7330,_0x5a6c6a={}){super(),h(this,'_element',null),h(this,'_keymap',{}),h(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x5b7330&&this['attach'](_0x5b7330),this['preventDef'+'ault']=_0x5a6c6a['preventDef'+'ault']||!(0x49c*0x2+-0x5fe+-0x339),this['stopPropag'+'ation']=_0x5a6c6a['stopPropag'+'ation']||!(-0xcf3+0x13*0x113+-0x1*0x775));}['attach'](_0x4e6ef6){this['_element']&&this['detach'](),this['_element']=_0x4e6ef6,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(0x1*-0x1f51+0x209*0x6+0x131c)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(-0x44a+-0x2c2*-0x2+-0x1*0x139)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(-0xffb*-0x2+0x1a30+-0x3a25)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x1c94+-0x11*-0x11+-0x1db4)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(0x21ad+0x1*0x117e+-0x1*0x332a));}['detach'](){if(!this['_element']){w['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x117b+0x1e95+-0x300f)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(-0x1*-0xfe9+-0x15dc*0x1+0x1*0x5f4));}['toKeyIdent'+'ifier'](_0x524554){_0x524554=Yl(_0x524554);const _0x47b347=Ew[_0x524554['toString']()];if(_0x47b347)return _0x47b347;let _0x405468=_0x524554['toString'](0x12*0x10a+0x8ff+0x1ba3*-0x1)['toUpperCas'+'e']();const _0x541a35=_0x405468['length'];for(let _0x588f1f=-0x5*0x54a+-0x1f1d+0x398f;_0x588f1f<0x17b4+0x5*0x45b+-0x2d77*0x1-_0x541a35;_0x588f1f++)_0x405468='0'+_0x405468;return'U+'+_0x405468;}['_handleKey'+'Down'](_0x5f44dc){const _0x419210=_0x5f44dc['keyCode']||_0x5f44dc['charCode'];if(_0x419210===void(-0x18ce+0xed7+0x9f7*0x1))return;const _0x5b5aef=this['toKeyIdent'+'ifier'](_0x419210);this['_keymap'][_0x5b5aef]=!(-0x5*-0x61+0x1*0xbb9+-0xd9e),this['fire']('keydown',Vd(_0x5f44dc)),this['preventDef'+'ault']&&_0x5f44dc['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x5f44dc['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x4212c2){const _0x2624f8=_0x4212c2['keyCode']||_0x4212c2['charCode'];if(_0x2624f8===void(0x409*0x1+0x87a+-0x1*0xc83))return;const _0x5abd07=this['toKeyIdent'+'ifier'](_0x2624f8);delete this['_keymap'][_0x5abd07],this['fire']('keyup',Vd(_0x4212c2)),this['preventDef'+'ault']&&_0x4212c2['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x4212c2['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x5ac10f){this['fire']('keypress',Vd(_0x5ac10f)),this['preventDef'+'ault']&&_0x5ac10f['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x5ac10f['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x7eff7c in this['_lastmap'])delete this['_lastmap'][_0x7eff7c];for(const _0x553442 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x553442)&&(this['_lastmap'][_0x553442]=this['_keymap'][_0x553442]);}['isPressed'](_0x166889){const _0x2584c8=Yl(_0x166889),_0x47ef74=this['toKeyIdent'+'ifier'](_0x2584c8);return!!this['_keymap'][_0x47ef74];}['wasPressed'](_0x28330d){const _0x111417=Yl(_0x28330d),_0x42fe64=this['toKeyIdent'+'ifier'](_0x111417);return!!this['_keymap'][_0x42fe64]&&!this['_lastmap'][_0x42fe64];}['wasRelease'+'d'](_0x330a13){const _0x52e943=Yl(_0x330a13),_0x33cbec=this['toKeyIdent'+'ifier'](_0x52e943);return!this['_keymap'][_0x33cbec]&&!!this['_lastmap'][_0x33cbec];}}h(h_,'EVENT_KEYD'+'OWN','keydown'),h(h_,'EVENT_KEYU'+'P','keyup');function ru(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x217754,_0x1168c5){h(this,'x',-0xeba+0x1156+-0x29c),h(this,'y',-0xc*0x333+0x216d+0x4f7),h(this,'dx',0x21d9+0x26*0xa2+0x1*-0x39e5),h(this,'dy',-0x2701+0x4a5+0x225c),h(this,'button',Tw),h(this,'wheelDelta',0x15d4+-0x153e*-0x1+0x25*-0x12a),h(this,'element'),h(this,'ctrlKey',!(0x737+-0x1c0+-0x576)),h(this,'altKey',!(0x1f82+0x16*-0x87+-0x13e7)),h(this,'shiftKey',!(-0x1919+0x212*-0xd+-0x3404*-0x1)),h(this,'metaKey',!(-0xac*-0x2+-0x4d*-0x6b+-0x2186)),h(this,'event');let _0x3b02e5={'x':0x0,'y':0x0};if(_0x1168c5){if(_0x1168c5 instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x3b02e5=_0x217754['_getTarget'+'Coords'](_0x1168c5);}else _0x1168c5={};if(_0x3b02e5)this['x']=_0x3b02e5['x'],this['y']=_0x3b02e5['y'];else{if(ru())this['x']=-0x93e*0x1+0x2480+0x1*-0x1b42,this['y']=0x1bf9+0x1431+-0x302a;else return;}_0x1168c5['type']==='wheel'&&(_0x1168c5['deltaY']>0x269c+0x1a65+-0x4101?this['wheelDelta']=-0x16b0+-0x6*-0x10+0x1651:_0x1168c5['deltaY']<0x11b6+-0x1c53+0xa9d&&(this['wheelDelta']=-(0x1*-0xbf+-0x7*-0x109+-0x67f))),ru()?(this['dx']=_0x1168c5['movementX']||_0x1168c5['webkitMove'+'mentX']||_0x1168c5['mozMovemen'+'tX']||-0x2256+-0x29*0x7b+0x105*0x35,this['dy']=_0x1168c5['movementY']||_0x1168c5['webkitMove'+'mentY']||_0x1168c5['mozMovemen'+'tY']||-0xdf5+-0x1f*-0x5c+-0x2d1*-0x1):(this['dx']=this['x']-_0x217754['_lastX'],this['dy']=this['y']-_0x217754['_lastY']),(_0x1168c5['type']==='mousedown'||_0x1168c5['type']==='mouseup')&&(this['button']=_0x1168c5['button']),this['buttons']=_0x217754['_buttons']['slice'](0x2144+-0x1951+0x37*-0x25),this['element']=_0x1168c5['target'],this['ctrlKey']=_0x1168c5['ctrlKey']??!(-0x1*-0x1d4f+-0x1a7c+0x2*-0x169),this['altKey']=_0x1168c5['altKey']??!(-0x2*0xc07+0xc*-0x214+0x1055*0x3),this['shiftKey']=_0x1168c5['shiftKey']??!(0x24bb+0x11da*0x2+-0x7f*0x92),this['metaKey']=_0x1168c5['metaKey']??!(0x18a6+-0x1*-0x1d7b+0x4*-0xd88),this['event']=_0x1168c5;}}class sa extends me{constructor(_0xe58f78){super(),h(this,'_lastX',-0x2*-0x6c7+0x5bd*-0x1+-0x57*0x17),h(this,'_lastY',-0x1*0x19a9+-0x1323+0x2ccc),h(this,'_buttons',[!(-0x425*-0x6+0xe03+0x26e*-0x10),!(-0x94e+-0xe3*-0x9+-0x2*-0xaa),!(0x0+-0x1a0*0x18+-0x7cd*-0x5)]),h(this,'_lastbutto'+'ns',[!(0x1b*-0x45+0xb65+0x15f*-0x3),!(0x229e+-0x252d*-0x1+-0x47ca),!(0x4*-0x53f+-0x3b3*-0x7+-0x13a*0x4)]),h(this,'_target',null),h(this,'_attached',!(0x1*-0x19f6+0x65*-0x29+0x74*0x5d)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x5e88ce=>{_0x5e88ce['preventDef'+'ault']();},this['attach'](_0xe58f78));}static['isPointerL'+'ocked'](){return ru();}['attach'](_0x5036cf){if(this['_target']=_0x5036cf,this['_attached'])return;this['_attached']=!(-0x2*-0xb3e+-0xceb*0x1+0x1*-0x991);const _0x446642={'passive':!(0x1*-0x315+0x71b+-0x405)},_0x1aa54f=Ae['passiveEve'+'nts']?_0x446642:!(0x16*0x71+0x1ae1+-0x2496);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x1aa54f),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x1aa54f),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x1aa54f),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x1aa54f);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x1f*-0xc9+0x4*0x4c2+-0x3d*0xb6),this['_target']=null;const _0x1938bf={'passive':!(-0x79*0x4+-0x1*0x1817+0x67f*0x4)},_0x20cdb9=Ae['passiveEve'+'nts']?_0x1938bf:!(-0x1905+0xc10+0xe*0xed);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x20cdb9),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x20cdb9),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x20cdb9),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x20cdb9);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x281bc1,_0x325b36){if(!document['body']['requestPoi'+'nterLock']){_0x325b36&&_0x325b36();return;}const _0x4903cc=()=>{_0x281bc1(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x4903cc);},_0x1e2ed2=()=>{_0x325b36(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x1e2ed2);};_0x281bc1&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x4903cc,!(-0xeda+0x8ad*0x1+0xe*0x71)),_0x325b36&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x1e2ed2,!(0x19*0xbf+-0xb*0x1f+-0x1151)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x315482){if(!document['exitPointe'+'rLock'])return;const _0x21f72b=()=>{_0x315482(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x21f72b);};_0x315482&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x21f72b,!(-0xd68+-0x55b*-0x7+-0x2e*0x86)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][-0xb1f+0x10d*0x17+-0xd0c*0x1]=this['_buttons'][0x647*0x2+-0x71*-0x3b+-0x2699*0x1],this['_lastbutto'+'ns'][-0x125a+0x3b*0x3b+0x1d*0x2a]=this['_buttons'][-0x12*0xb3+0x303+0x994],this['_lastbutto'+'ns'][0x2*0xcc1+-0x8*0x23d+-0x144*0x6]=this['_buttons'][0x2fb*-0xd+0xcc8*0x2+-0x133*-0xb];}['isPressed'](_0x23fdff){return this['_buttons'][_0x23fdff];}['wasPressed'](_0x8d7cb3){return this['_buttons'][_0x8d7cb3]&&!this['_lastbutto'+'ns'][_0x8d7cb3];}['wasRelease'+'d'](_0x37b338){return!this['_buttons'][_0x37b338]&&this['_lastbutto'+'ns'][_0x37b338];}['_handleUp'](_0x1281f5){this['_buttons'][_0x1281f5['button']]=!(-0x1593+-0xdd*0x11+0x2441);const _0xded98e=new ta(this,_0x1281f5);_0xded98e['event']&&this['fire']('mouseup',_0xded98e);}['_handleDow'+'n'](_0x14d762){this['_buttons'][_0x14d762['button']]=!(-0x1ad4+-0x50b*-0x5+0x3b*0x7);const _0x475ae8=new ta(this,_0x14d762);_0x475ae8['event']&&this['fire']('mousedown',_0x475ae8);}['_handleMov'+'e'](_0x5a5523){const _0x2bff47=new ta(this,_0x5a5523);_0x2bff47['event']&&(this['fire']('mousemove',_0x2bff47),this['_lastX']=_0x2bff47['x'],this['_lastY']=_0x2bff47['y']);}['_handleWhe'+'el'](_0x274cc0){const _0x52b503=new ta(this,_0x274cc0);_0x52b503['event']&&this['fire']('mousewheel',_0x52b503);}['_getTarget'+'Coords'](_0x3979c6){const _0x214f59=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x5823e5=Math['floor'](_0x214f59['left']),_0x2c4586=Math['floor'](_0x214f59['top']);return _0x3979c6['clientX']<_0x5823e5||_0x3979c6['clientX']>=_0x5823e5+this['_target']['clientWidt'+'h']||_0x3979c6['clientY']<_0x2c4586||_0x3979c6['clientY']>=_0x2c4586+this['_target']['clientHeig'+'ht']?null:{'x':_0x3979c6['clientX']-_0x5823e5,'y':_0x3979c6['clientY']-_0x2c4586};}}h(sa,'EVENT_MOUS'+'EMOVE','mousemove'),h(sa,'EVENT_MOUS'+'EDOWN','mousedown'),h(sa,'EVENT_MOUS'+'EUP','mouseup'),h(sa,'EVENT_MOUS'+'EWHEEL','mousewheel');function Wc(_0x135653){let _0x4cfd00=-0x228b+0x7*-0x1+0x6ea*0x5,_0x5674ea=-0x204e*-0x1+0x6*-0x49c+-0x4a6,_0x4f609c=_0x135653['target'];for(;!(_0x4f609c instanceof HTMLElement)&&_0x4f609c;)_0x4f609c=_0x4f609c['parentNode'];for(;_0x4f609c;)_0x4cfd00+=_0x4f609c['offsetLeft']-_0x4f609c['scrollLeft'],_0x5674ea+=_0x4f609c['offsetTop']-_0x4f609c['scrollTop'],_0x4f609c=_0x4f609c['offsetPare'+'nt'];return{'x':_0x135653['pageX']-_0x4cfd00,'y':_0x135653['pageY']-_0x5674ea};}class d_{constructor(_0xd9c2db){h(this,'id'),h(this,'x'),h(this,'y'),h(this,'target'),h(this,'touch');const _0x1aa05f=Wc(_0xd9c2db);this['id']=_0xd9c2db['identifier'],this['x']=_0x1aa05f['x'],this['y']=_0x1aa05f['y'],this['target']=_0xd9c2db['target'],this['touch']=_0xd9c2db;}}class Kl{constructor(_0x148b3f,_0x7b53ee){h(this,'element'),h(this,'event'),h(this,'touches',[]),h(this,'changedTou'+'ches',[]),(this['element']=_0x7b53ee['target'],this['event']=_0x7b53ee,this['touches']=Array['from'](_0x7b53ee['touches'])['map'](_0x5c59fb=>new d_(_0x5c59fb)),this['changedTou'+'ches']=Array['from'](_0x7b53ee['changedTou'+'ches'])['map'](_0x19c252=>new d_(_0x19c252)));}['getTouchBy'+'Id'](_0x20c708,_0x51e6bc){return _0x51e6bc['find'](_0x51411e=>_0x51411e['id']===_0x20c708)||null;}}class Zl extends me{constructor(_0x32cd9d){super(),this['_element']=null,this['_startHand'+'ler']=this['_handleTou'+'chStart']['bind'](this),this['_endHandle'+'r']=this['_handleTou'+'chEnd']['bind'](this),this['_moveHandl'+'er']=this['_handleTou'+'chMove']['bind'](this),this['_cancelHan'+'dler']=this['_handleTou'+'chCancel']['bind'](this),this['attach'](_0x32cd9d);}['attach'](_0x3406a3){this['_element']&&this['detach'](),this['_element']=_0x3406a3,this['_element']['addEventLi'+'stener']('touchstart',this['_startHand'+'ler'],!(0x589+-0x1a9d+0x1515)),this['_element']['addEventLi'+'stener']('touchend',this['_endHandle'+'r'],!(0x1ccb+-0xf91*0x1+-0x5*0x2a5)),this['_element']['addEventLi'+'stener']('touchmove',this['_moveHandl'+'er'],!(-0x1b02+0x161d+-0x2*-0x273)),this['_element']['addEventLi'+'stener']('touchcance'+'l',this['_cancelHan'+'dler'],!(-0x1255+-0xe42+-0x95*-0x38));}['detach'](){this['_element']&&(this['_element']['removeEven'+'tListener']('touchstart',this['_startHand'+'ler'],!(0xb47*0x2+0x134*0x4+-0x3*0x91f)),this['_element']['removeEven'+'tListener']('touchend',this['_endHandle'+'r'],!(-0x1*-0xe72+-0x1661+0x7f0)),this['_element']['removeEven'+'tListener']('touchmove',this['_moveHandl'+'er'],!(-0xbf*-0x2+-0x709+-0xa*-0x8e)),this['_element']['removeEven'+'tListener']('touchcance'+'l',this['_cancelHan'+'dler'],!(-0x1f42+-0x15b*0xb+0x2e2c))),this['_element']=null;}['_handleTou'+'chStart'](_0xc2798e){this['fire']('touchstart',new Kl(this,_0xc2798e));}['_handleTou'+'chEnd'](_0xc5b939){this['fire']('touchend',new Kl(this,_0xc5b939));}['_handleTou'+'chMove'](_0x7767cb){_0x7767cb['preventDef'+'ault'](),this['fire']('touchmove',new Kl(this,_0x7767cb));}['_handleTou'+'chCancel'](_0xcb3385){this['fire']('touchcance'+'l',new Kl(this,_0xcb3385));}}h(Zl,'EVENT_TOUC'+'HSTART','touchstart'),h(Zl,'EVENT_TOUC'+'HEND','touchend'),h(Zl,'EVENT_TOUC'+'HMOVE','touchmove'),h(Zl,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');const Oe=class Oe{['get'](_0x2adc80,_0x13c14e,_0x294116){typeof _0x13c14e=='function'&&(_0x294116=_0x13c14e,_0x13c14e={});const _0x3ba556=this['request']('GET',_0x2adc80,_0x13c14e,_0x294116),{progress:_0x3b3f74}=_0x13c14e;if(_0x3b3f74){const _0x3a82d5=_0x1bb011=>{_0x1bb011['lengthComp'+'utable']&&_0x3b3f74['fire']('progress',_0x1bb011['loaded'],_0x1bb011['total']);},_0x45157e=_0x5c8c9c=>{_0x3a82d5(_0x5c8c9c),_0x3ba556['removeEven'+'tListener']('loadstart',_0x3a82d5),_0x3ba556['removeEven'+'tListener']('progress',_0x3a82d5),_0x3ba556['removeEven'+'tListener']('loadend',_0x45157e);};_0x3ba556['addEventLi'+'stener']('loadstart',_0x3a82d5),_0x3ba556['addEventLi'+'stener']('progress',_0x3a82d5),_0x3ba556['addEventLi'+'stener']('loadend',_0x45157e);}return _0x3ba556;}['post'](_0xf4903c,_0x4caac0,_0x4f3252,_0x5ef28b){return typeof _0x4f3252=='function'&&(_0x5ef28b=_0x4f3252,_0x4f3252={}),_0x4f3252['postdata']=_0x4caac0,this['request']('POST',_0xf4903c,_0x4f3252,_0x5ef28b);}['put'](_0x7dedc8,_0x2ca2e2,_0x1fa92f,_0x136b9e){return typeof _0x1fa92f=='function'&&(_0x136b9e=_0x1fa92f,_0x1fa92f={}),_0x1fa92f['postdata']=_0x2ca2e2,this['request']('PUT',_0x7dedc8,_0x1fa92f,_0x136b9e);}['del'](_0x9f4468,_0x20d32b,_0x19fbe8){return typeof _0x20d32b=='function'&&(_0x19fbe8=_0x20d32b,_0x20d32b={}),this['request']('DELETE',_0x9f4468,_0x20d32b,_0x19fbe8);}['request'](_0x1769e0,_0x448753,_0x5a2feb,_0x18e18d){let _0x480277,_0x5cd2b3,_0x2b76f2,_0x5b262b=!(-0x8f4*-0x1+0x1*-0x4ef+-0x404);if(typeof _0x5a2feb=='function'&&(_0x18e18d=_0x5a2feb,_0x5a2feb={}),_0x5a2feb['retry']&&(_0x5a2feb=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x5a2feb)),_0x5a2feb['callback']=_0x18e18d,_0x5a2feb['async']==null&&(_0x5a2feb['async']=!(-0xcf1+0x167c*0x1+-0x98b*0x1)),_0x5a2feb['headers']==null&&(_0x5a2feb['headers']={}),_0x5a2feb['postdata']!=null){if(_0x5a2feb['postdata']instanceof Document)_0x2b76f2=_0x5a2feb['postdata'];else{if(_0x5a2feb['postdata']instanceof FormData)_0x2b76f2=_0x5a2feb['postdata'];else{if(_0x5a2feb['postdata']instanceof Object){let _0x43dc4e=_0x5a2feb['headers']['Content-Ty'+'pe'];switch(_0x43dc4e===void(-0x541+-0x1bd2*0x1+0x2113)&&(_0x5a2feb['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x43dc4e=_0x5a2feb['headers']['Content-Ty'+'pe']),_0x43dc4e){case Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x2b76f2='';let _0x3aa675=!(-0x3f3+-0x23ca+0x27bd);for(const _0x499476 in _0x5a2feb['postdata'])if(_0x5a2feb['postdata']['hasOwnProp'+'erty'](_0x499476)){_0x3aa675?_0x3aa675=!(0x25b6+0x25bd+-0x4b72):_0x2b76f2+='&';const _0x5320da=encodeURIComponent(_0x499476),_0x42cc6d=encodeURIComponent(_0x5a2feb['postdata'][_0x499476]);_0x2b76f2+=_0x5320da+'='+_0x42cc6d;}break;}default:case Oe['ContentTyp'+'e']['JSON']:_0x43dc4e==null&&(_0x5a2feb['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['JSON']),_0x2b76f2=JSON['stringify'](_0x5a2feb['postdata']);break;}}else _0x2b76f2=_0x5a2feb['postdata'];}}}if(_0x5a2feb['cache']===!(0x7eb*0x4+-0x641*0x1+-0x196a)){const _0x447696=de();_0x480277=new Rd(_0x448753),_0x480277['query']?_0x480277['query']=_0x480277['query']+'&ts='+_0x447696:_0x480277['query']='ts='+_0x447696,_0x448753=_0x480277['toString']();}_0x5a2feb['query']&&(_0x480277=new Rd(_0x448753),_0x5cd2b3=ah(_0x480277['getQuery'](),_0x5a2feb['query']),_0x480277['setQuery'](_0x5cd2b3),_0x448753=_0x480277['toString']());const _0x4d20f0=new XMLHttpRequest();_0x4d20f0['open'](_0x1769e0,_0x448753,_0x5a2feb['async']),_0x4d20f0['withCreden'+'tials']=_0x5a2feb['withCreden'+'tials']!==void(-0x22df+0x119*-0x1d+-0x6*-0xb1e)?_0x5a2feb['withCreden'+'tials']:!(0xbc9+-0x12de+0x1*0x716),_0x4d20f0['responseTy'+'pe']=_0x5a2feb['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x448753);for(const _0x2adf84 in _0x5a2feb['headers'])_0x5a2feb['headers']['hasOwnProp'+'erty'](_0x2adf84)&&_0x4d20f0['setRequest'+'Header'](_0x2adf84,_0x5a2feb['headers'][_0x2adf84]);_0x4d20f0['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x1769e0,_0x448753,_0x5a2feb,_0x4d20f0);},_0x4d20f0['onerror']=()=>{this['_onError'](_0x1769e0,_0x448753,_0x5a2feb,_0x4d20f0),_0x5b262b=!(-0x2*0x493+-0x265a+0x4c0*0xa);};try{_0x4d20f0['send'](_0x2b76f2);}catch(_0xf990c0){_0x5b262b||_0x5a2feb['error'](_0x4d20f0['status'],_0x4d20f0,_0xf990c0);}return _0x4d20f0;}['_guessResp'+'onseType'](_0x2ac7df){const _0xac3943=new Rd(_0x2ac7df),_0xf18174=xe['getExtensi'+'on'](_0xac3943['path'])['toLowerCas'+'e']();return Oe['binaryExte'+'nsions']['indexOf'](_0xf18174)>=-0x255c+-0x500+0x4*0xa97?Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0xf18174==='.json'?Oe['ResponseTy'+'pe']['JSON']:_0xf18174==='.xml'?Oe['ResponseTy'+'pe']['DOCUMENT']:Oe['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x431421){return[Oe['ContentTyp'+'e']['BASIS'],Oe['ContentTyp'+'e']['BIN'],Oe['ContentTyp'+'e']['DDS'],Oe['ContentTyp'+'e']['GLB'],Oe['ContentTyp'+'e']['MP3'],Oe['ContentTyp'+'e']['MP4'],Oe['ContentTyp'+'e']['OGG'],Oe['ContentTyp'+'e']['OPUS'],Oe['ContentTyp'+'e']['WAV']]['indexOf'](_0x431421)>=-0x1b64+-0x1*-0xdb7+0xdad;}['_isBinaryR'+'esponseTyp'+'e'](_0x1b674c){return _0x1b674c===Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x1b674c===Oe['ResponseTy'+'pe']['BLOB']||_0x1b674c===Oe['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x1d2604,_0x259437,_0x3c2788,_0x4ae1e3){if(_0x4ae1e3['readyState']===-0x2577+0x1b86+0x9f5)switch(_0x4ae1e3['status']){case 0x1d02+-0xa4*-0x1+-0x1da6:{_0x4ae1e3['responseUR'+'L']&&_0x4ae1e3['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x1d2604,_0x259437,_0x3c2788,_0x4ae1e3):this['_onError'](_0x1d2604,_0x259437,_0x3c2788,_0x4ae1e3);break;}case 0x3*0xccd+-0x1*0x26d5+0x136:case-0x1a2b*0x1+-0x7*0x299+-0x2d23*-0x1:case-0x2*0x1202+0x2b*-0x94+0x3dae:case 0x1*0x9d7+-0x1172+0x1*0x8cb:{this['_onSuccess'](_0x1d2604,_0x259437,_0x3c2788,_0x4ae1e3);break;}default:{this['_onError'](_0x1d2604,_0x259437,_0x3c2788,_0x4ae1e3);break;}}}['_onSuccess'](_0x3433b6,_0x2e6a24,_0x28d4a2,_0x403d3d){let _0x566b1d,_0x4901f0;const _0x4c5ba0=_0x403d3d['getRespons'+'eHeader']('Content-Ty'+'pe');_0x4c5ba0&&(_0x4901f0=_0x4c5ba0['split'](';')[-0x152a+0x6*-0xe5+-0x1a88*-0x1]['trim']());try{this['_isBinaryC'+'ontentType'](_0x4901f0)||this['_isBinaryR'+'esponseTyp'+'e'](_0x403d3d['responseTy'+'pe'])?_0x566b1d=_0x403d3d['response']:_0x4901f0===Oe['ContentTyp'+'e']['JSON']||_0x2e6a24['split']('?')[0x1e4a+-0x37*0x99+-0x295*-0x1]['endsWith']('.json')?_0x566b1d=JSON['parse'](_0x403d3d['responseTe'+'xt']):_0x403d3d['responseTy'+'pe']===Oe['ResponseTy'+'pe']['DOCUMENT']||_0x4901f0===Oe['ContentTyp'+'e']['XML']?_0x566b1d=_0x403d3d['responseXM'+'L']:_0x566b1d=_0x403d3d['responseTe'+'xt'],_0x28d4a2['callback'](null,_0x566b1d);}catch(_0x5f2d30){_0x28d4a2['callback'](_0x5f2d30);}}['_onError'](_0x5306dc,_0x5696b6,_0xbb2b3c,_0x16c05e){if(!_0xbb2b3c['retrying']){if(_0xbb2b3c['retry']&&_0xbb2b3c['retries']<_0xbb2b3c['maxRetries']){_0xbb2b3c['retries']++,_0xbb2b3c['retrying']=!(0xc83*-0x2+0xa5d*0x3+-0x1*0x611);const _0x38da12=Y['clamp'](Math['pow'](0x22c2+-0x1*0x235f+0x1*0x9f,_0xbb2b3c['retries'])*Oe['retryDelay'],-0xd5*-0x12+-0xce5*0x1+-0x215,_0xbb2b3c['maxRetryDe'+'lay']||0xe42+-0x9*0xb7+0xbb5);console['log'](_0x5306dc+':\x20'+_0x5696b6+'\x20-\x20Error\x20'+_0x16c05e['status']+('.\x20Retrying'+'\x20in\x20')+_0x38da12+'\x20ms'),setTimeout(()=>{_0xbb2b3c['retrying']=!(0x72*-0x32+-0x1*-0x1475+-0x1d*-0x10),this['request'](_0x5306dc,_0x5696b6,_0xbb2b3c,_0xbb2b3c['callback']);},_0x38da12);}else _0xbb2b3c['callback'](_0x16c05e['status']===0x37f*0x3+0x1*-0x772+-0x13*0x29?'Network\x20er'+'ror':_0x16c05e['status'],null);}}};h(Oe,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),h(Oe,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),h(Oe,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),h(Oe,'retryDelay',0x44f*-0x1+0x713+-0x8*0x4c);let Ls=Oe;const ot=new Ls(),Vp='linear',bw='inverse',Aw='exponentia'+'l';class Cw{constructor(_0x4e1db0){h(this,'_manager'),h(this,'position',new D()),h(this,'orientatio'+'n',new te()),this['_manager']=_0x4e1db0;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x434ab5){this['position']['copy'](_0x434ab5);const _0x163065=this['listener'];_0x163065&&('positionX'in _0x163065?(_0x163065['positionX']['value']=_0x434ab5['x'],_0x163065['positionY']['value']=_0x434ab5['y'],_0x163065['positionZ']['value']=_0x434ab5['z']):_0x163065['setPositio'+'n']&&_0x163065['setPositio'+'n'](_0x434ab5['x'],_0x434ab5['y'],_0x434ab5['z']));}['setOrienta'+'tion'](_0x3823f6){this['orientatio'+'n']['copy'](_0x3823f6);const _0x49f597=this['listener'];if(_0x49f597){const _0x2a04d4=_0x3823f6['data'];'forwardX'in _0x49f597?(_0x49f597['forwardX']['value']=-_0x2a04d4[-0x1*0xecd+0x48b*0x6+-0xc6d],_0x49f597['forwardY']['value']=-_0x2a04d4[0x16ee+-0x14d*0x11+-0xc8],_0x49f597['forwardZ']['value']=-_0x2a04d4[0x69e+-0x21b*-0x12+0x2*-0x163d],_0x49f597['upX']['value']=_0x2a04d4[-0x3a0*-0x1+-0x1f11+0x1b75],_0x49f597['upY']['value']=_0x2a04d4[0x2217+0x2651+-0x4863],_0x49f597['upZ']['value']=_0x2a04d4[-0x1fc8+-0xf*0x1e4+0x3c2a]):_0x49f597['setOrienta'+'tion']&&_0x49f597['setOrienta'+'tion'](-_0x2a04d4[0x1c*-0x5c+0xf5c+-0x544],-_0x2a04d4[-0xc23+0x1330+0x704*-0x1],-_0x2a04d4[0x1b*0xef+-0x1855+-0xd6],_0x2a04d4[0x1*-0x5d5+0x10fc+-0x1*0xb23],_0x2a04d4[-0x262b+0x1d01+0x1*0x92f],_0x2a04d4[0x1*0x1ed6+0x33*-0xa+0x1cd2*-0x1]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x1e1cf0=this['_manager']['context'];return _0x1e1cf0?_0x1e1cf0['listener']:null;}}const Ql='running',f_=['click','touchstart','mousedown'];class Pw extends me{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||w['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(-0x1*-0x187c+0x1e15+-0x3690),this['listener']=new Cw(this),this['_volume']=-0xb*0xc3+0x1032+-0x10*0x7d;}set['volume'](_0x3ff7f2){_0x3ff7f2=Y['clamp'](_0x3ff7f2,0x7b*-0x27+-0x1539*-0x1+-0x27c,-0xd72+0xa50+0x323),this['_volume']=_0x3ff7f2,this['fire']('volumechan'+'ge',_0x3ff7f2);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==Ql&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(0xd23+0xb2*0x7+0x1*-0x1201),this['_context']&&this['_context']['state']===Ql&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(-0x1cac+0xd00+-0x1*-0xfad),this['_context']&&this['_context']['state']!==Ql&&this['_resume']());}['destroy'](){var _0x398f55;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x398f55=this['_context'])==null||_0x398f55['close'](),this['_context']=null);}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x8f9c12=this['_context']['createBuff'+'erSource']();_0x8f9c12['buffer']=this['_context']['createBuff'+'er'](-0x1*0x1db0+0x2e*-0x44+-0x1*-0x29e9,-0xe0d+-0x5*-0x192+0x634,this['_context']['sampleRate']),_0x8f9c12['connect'](this['_context']['destinatio'+'n']),_0x8f9c12['start'](0x218c+-0x19e4*0x1+-0x38*0x23),_0x8f9c12['onended']=_0x3ee645=>{_0x8f9c12['disconnect'](0x21*-0xf9+-0x1d45+-0x2*-0x1eaf),this['fire']('resume');};},_0xef29ca=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0xef29ca);})['catch'](_0x2c7440=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x2c7440);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x231070=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x231070);})['catch'](_0x24e2fd=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x24e2fd);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==Ql&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){f_['forEach'](_0x3655ba=>{window['addEventLi'+'stener'](_0x3655ba,this['_unlockHan'+'dlerFunc'],!(-0x4*0x716+-0x2*0x5a7+0x27a7*0x1));});}['_removeUnl'+'ockListene'+'rs'](){f_['forEach'](_0x12a434=>{window['removeEven'+'tListener'](_0x12a434,this['_unlockHan'+'dlerFunc'],!(0x212e+0x1*0x13f9+-0x3526));});}}class Mw{constructor(_0x1e2e34){h(this,'audio'),h(this,'buffer'),_0x1e2e34 instanceof Audio?this['audio']=_0x1e2e34:this['buffer']=_0x1e2e34;}get['duration'](){let _0x324a02=0x41*0x6d+-0x13c9+-0x7e4;return this['buffer']?_0x324a02=this['buffer']['duration']:this['audio']&&(_0x324a02=this['audio']['duration']),_0x324a02||-0x257a+0xd4d+0x182d;}}function Dl(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}const Zt=-0x24a2*0x1+-0x19d6+0x3e78,fn=-0x5*-0x9d+0x150d+-0x181d,Hs=0x23cc+0x1ffd+0x1*-0x43c7;function es(_0x4261cb,_0x5b0aec){return _0x4261cb%_0x5b0aec||-0x1a96+-0x17*0xbf+-0x2bbf*-0x1;}class As extends me{constructor(_0x53d4ef,_0xa64e97,_0x3b8b02){super(),h(this,'source',null),(this['_manager']=_0x53d4ef,this['_volume']=_0x3b8b02['volume']!==void(0x20da+-0x2*0xf39+-0x268)?Y['clamp'](Number(_0x3b8b02['volume'])||0x1be5+-0xe1*-0x2a+-0x40cf,-0xf60+-0x2*-0x971+0x1c1*-0x2,0xb8a+-0x181+-0x6b*0x18):-0x3*0x580+-0x1*-0x1f03+0x2*-0x741,this['_pitch']=_0x3b8b02['pitch']!==void(0x1*0x431+0x22e4*0x1+-0x2715)?Math['max'](-0x1e91+0x1fda+-0x149+0.01,Number(_0x3b8b02['pitch'])||0x602*-0x2+-0xd1e+-0x2*-0xc91):-0x6d0+-0x9a7+-0x88*-0x1f,this['_loop']=!!(_0x3b8b02['loop']!==void(0xae2+0x119*0x4+0xaa*-0x17)&&_0x3b8b02['loop']),this['_sound']=_0xa64e97,this['_state']=Hs,this['_suspended']=!(-0x170a+-0x557*-0x1+-0x8da*-0x2),this['_suspendEn'+'dEvent']=0x1*0x4c7+-0xa49+0x582,this['_suspendIn'+'stanceEven'+'ts']=!(0x25*0x8f+0xa2f+-0x1ed9),this['_playWhenL'+'oaded']=!(-0x18*-0x88+0x2*-0xe4f+0xfde),this['_startTime']=Math['max'](-0x63*-0x1d+0x18db+-0x2412,Number(_0x3b8b02['startTime'])||0x43f*-0x1+0x41*-0x1a+0xad9),this['_duration']=Math['max'](0x17*-0x12e+0xa0e+-0x445*-0x4,Number(_0x3b8b02['duration'])||0x61*-0x1f+0x3*0x7cf+-0xbae),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x3b8b02['onPlay'],this['_onPauseCa'+'llback']=_0x3b8b02['onPause'],this['_onResumeC'+'allback']=_0x3b8b02['onResume'],this['_onStopCal'+'lback']=_0x3b8b02['onStop'],this['_onEndCall'+'back']=_0x3b8b02['onEnd'],Dl()?(this['_startedAt']=0x1c69+0x3e*0x3b+-0x2ab3,this['_currentTi'+'me']=-0x6a3*-0x1+-0x187e+0x11db,this['_currentOf'+'fset']=-0x74*-0x20+0x190e*-0x1+0xa8e,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x7b*-0x6+0xa*-0x7b+0x1ed*0x1),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(-0x3*-0x58d+0xc43+0x9a3*-0x3),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x2dcaaa){if(!(_0x2dcaaa<-0x215+0xae3+-0x8ce)){if(this['_state']===Zt){const _0x174d2f=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(0x1a*0x152+-0x258e+0x33a),this['stop'](),this['_startOffs'+'et']=_0x2dcaaa,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x174d2f;}else this['_startOffs'+'et']=_0x2dcaaa,this['_currentTi'+'me']=_0x2dcaaa;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===fn?this['_currentTi'+'me']:this['_state']===Hs||!this['source']?-0x18f7+0x3*-0xb63+-0x2b0*-0x16:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x3e5b0c){this['_duration']=Math['max'](-0x270a+-0xd*0x14+0x280e,Number(_0x3e5b0c)||-0x5*0x36a+0x139*0xb+0x39f);const _0x134576=this['_state']===Zt;this['stop'](),_0x134576&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?es(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:-0x1*0xa2b+-0x5*-0x4eb+0x11c*-0xd;}get['isPaused'](){return this['_state']===fn;}get['isPlaying'](){return this['_state']===Zt;}get['isStopped'](){return this['_state']===Hs;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x5b543c){this['_loop']=!!_0x5b543c,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x419767){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x419767)||0xb2*-0x1+0x18a*-0x1+0x23c,-0x1ec1+0x10f0*0x2+-0x31f+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x401443){this['_sound']=_0x401443,this['_state']!==Hs?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x5f1923){this['_startTime']=Math['max'](-0xe*-0x162+-0x821*0x4+0xd28,Number(_0x5f1923)||0x8*0x141+0x13a9+-0x2b3*0xb);const _0x3dad0c=this['_state']===Zt;this['stop'](),_0x3dad0c&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x20fe68){_0x20fe68=Y['clamp'](_0x20fe68,-0x20*0x102+-0x220b+0x424b,-0x1bf7+0x3*-0x97b+0x1*0x3869),this['_volume']=_0x20fe68,this['gain']&&(this['gain']['gain']['value']=_0x20fe68*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>-0x267f*-0x1+-0x2c0+-0x23bf){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Zt&&!this['_suspended']&&(this['_suspended']=!(-0x24fc+-0x2c*-0x7a+0x1004),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(0x23a6*0x1+0x1e91+-0x96*0x71),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==Hs&&this['stop'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x3*-0x44e+0x2687+-0x3370),this['_waitingCo'+'ntextSuspe'+'nsion']?!(-0x13b4+0x10*-0x25+0x757*0x3):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x20c4+0x9ec*0x1+-0xaac*0x4),!(0x246a+0x1c1b+-0x4084)):(this['_playAudio'+'Immediate'](),!(0x1833+0xbb1+0x8f9*-0x4));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x1ca*-0xb+0xe51+0x26*-0xe5),this['_state']!==Zt)return;this['source']||this['_createSou'+'rce']();let _0x107f32=es(this['_startOffs'+'et'],this['duration']);_0x107f32=es(this['_startTime']+_0x107f32,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](0x8a2+0x3ea+0x49*-0x2c,_0x107f32,this['_duration']):this['source']['start'](-0x98*0xe+-0xfc2+0x1812,_0x107f32),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=-0x7*0x561+0x2709+0x6*-0x3b,this['_currentOf'+'fset']=_0x107f32,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(0xb0*0x2b+0xf7+0x2*-0xf43),this['_state']!==Zt?!(0x9e0*-0x1+0x175*0x7+0x2*-0x29):(this['_state']=fn,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](-0x2456+-0x1*0xf8d+0x167*0x25),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(-0x1*-0x1d35+0x228c+-0x3fc1));}['resume'](){if(this['_state']!==fn)return!(-0x1356+-0x12a*0x17+-0x939*-0x5);let _0x5e915b=this['currentTim'+'e'];return this['_state']=Zt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x5e915b=es(this['_startOffs'+'et'],this['duration']),_0x5e915b=es(this['_startTime']+_0x5e915b,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](0x7d*-0x2f+-0x7a7+-0x2*-0xf4d,_0x5e915b,this['_duration']):this['source']['start'](0x87e+-0x12d*0x11+0x1*0xb7f,_0x5e915b),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x5e915b,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(-0x872+0x1cf7*-0x1+0x256a),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x5*-0x139+-0xb*0x2d7+-0x3*-0x860);}['stop'](){if(this['_playWhenL'+'oaded']=!(-0x25*0x91+-0x1*0x16c4+0x1d*0x182),this['_state']===Hs)return!(0x97*0x3+-0x40*0x1+0xc2*-0x2);const _0x48b8d7=this['_state']===Zt;return this['_state']=Hs,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0x1e9+-0xdb*-0x17+-0x5ec*0x3,this['_currentTi'+'me']=0x18de+-0x1*-0x7ac+-0x682*0x5,this['_currentOf'+'fset']=0x6d2+0x147f+-0x1b51,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x48b8d7&&this['source']&&this['source']['stop'](0x18d6+-0x7*-0xde+-0x1ee8),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(-0x7e6+0x280*-0x4+0x11e6);}['setExterna'+'lNodes'](_0x20fbef,_0x4944e0){if(!_0x20fbef){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x4944e0||(_0x4944e0=_0x20fbef);const _0x25ed51=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x20fbef&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x25ed51),this['_firstNode']=_0x20fbef,this['_connector'+'Node']['connect'](_0x20fbef)),this['_lastNode']!==_0x4944e0&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x25ed51),this['_lastNode']=_0x4944e0,this['_lastNode']['connect'](_0x25ed51));}['clearExter'+'nalNodes'](){const _0x8ae495=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x8ae495),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x8ae495);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x1a4830=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x1a4830['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=es(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],es(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=es((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Zt&&(this['source']['stop'](0x1665+0x440+-0x13*0x167),this['source']=null);}}h(As,'EVENT_PLAY','play'),h(As,'EVENT_PAUS'+'E','pause'),h(As,'EVENT_RESU'+'ME','resume'),h(As,'EVENT_STOP','stop'),h(As,'EVENT_END','end'),Dl()||(Object['assign'](As['prototype'],{'play':function(){return this['_state']!==Hs&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(-0x203b*0x1+0x51b*-0x1+-0xb*-0x365):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0xe*-0x121+-0x2d7+-0xcf6),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(0x9*-0x123+0x1763+-0xd28));},'pause':function(){return!this['source']||this['_state']!==Zt?!(0x5fb+-0xc43+0x1*0x649):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x210f+-0x89*-0x27+0xc31*0x1),this['_state']=fn,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(-0x1*-0x983+-0x2079+0xb7b*0x2));},'resume':function(){return!this['source']||this['_state']!==fn?!(-0x3*-0xa0b+-0x1dfe*0x1+-0x22):(this['_state']=Zt,this['_playWhenL'+'oaded']=!(0x67e*0x1+0x1190+-0x180d),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x5ac+0x228e+-0x283a));},'stop':function(){return!this['source']||this['_state']===Hs?!(0x2406+-0x3f1+-0x805*0x4):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x1*0x1bf6+-0x19*0x139+0x3a88),this['_state']=Hs,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(-0x30*0x42+0x2db+0x985));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(0x1*0x2377+-0xcc3+-0x16b4);let _0x15e23d=es(this['_startOffs'+'et'],this['duration']);_0x15e23d=es(this['_startTime']+_0x15e23d,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x15e23d;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(0x1*-0x1ebb+0x22d2*-0x1+0x6*0xaed),this['source']=this['_sound']['audio']['cloneNode'](!(0x1*-0x25f5+0x2679+-0x84)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>es(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=es(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](As['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x562d7f){_0x562d7f=Y['clamp'](_0x562d7f,-0x16ba+0x24d9+-0x2d3*0x5,-0x1f*0x79+-0x3*0x955+0xb3*0x3d),this['_volume']=_0x562d7f,this['source']&&(this['source']['volume']=_0x562d7f*this['_manager']['volume']);}}),Object['defineProp'+'erty'](As['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x282f9e){this['_pitch']=Math['max'](Number(_0x282f9e)||0x94*-0x1f+-0x475*-0x2+-0x2*-0x481,-0x2*0x88a+0x7be*0x3+-0x626+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](As['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x10718f){this['stop'](),this['_sound']=_0x10718f;}}),Object['defineProp'+'erty'](As['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===Hs||!this['source']?0x1947+-0x4*-0x89+-0x1b6b*0x1:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0xe51f70){_0xe51f70<0x1*-0x851+-0x62b+0xe7c||(this['_startOffs'+'et']=_0xe51f70,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=es(this['_startTime']+es(_0xe51f70,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Dw=0x412b+-0x4900*0x1+-0x31*-0xf5;class sn extends As{constructor(_0x15c838,_0xe5c7c5,_0x1b4539={}){super(_0x15c838,_0xe5c7c5,_0x1b4539),h(this,'_position',new D()),h(this,'_velocity',new D()),(_0x1b4539['position']&&(this['position']=_0x1b4539['position']),this['maxDistanc'+'e']=_0x1b4539['maxDistanc'+'e']!==void(0x806+-0x1f9+0x1*-0x60d)?Number(_0x1b4539['maxDistanc'+'e']):Dw,this['refDistanc'+'e']=_0x1b4539['refDistanc'+'e']!==void(0x1fd8+-0xb*0x1d+0xa33*-0x3)?Number(_0x1b4539['refDistanc'+'e']):0x18be+-0x15ad+-0x310,this['rollOffFac'+'tor']=_0x1b4539['rollOffFac'+'tor']!==void(0x679*-0x1+0x220f*-0x1+0x2*0x1444)?Number(_0x1b4539['rollOffFac'+'tor']):-0x8c7+-0x1325+0x1bed,this['distanceMo'+'del']=_0x1b4539['distanceMo'+'del']!==void(0xb*-0x1e7+0x12*0xa7+0x92f)?_0x1b4539['distanceMo'+'del']:Vp);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x86e0f0){this['_position']['copy'](_0x86e0f0);const _0x406510=this['panner'];'positionX'in _0x406510?(_0x406510['positionX']['value']=_0x86e0f0['x'],_0x406510['positionY']['value']=_0x86e0f0['y'],_0x406510['positionZ']['value']=_0x86e0f0['z']):_0x406510['setPositio'+'n']&&_0x406510['setPositio'+'n'](_0x86e0f0['x'],_0x86e0f0['y'],_0x86e0f0['z']);}get['position'](){return this['_position'];}set['velocity'](_0x4ac0e2){w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x4ac0e2);}get['velocity'](){return w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x18c8b2){this['panner']['maxDistanc'+'e']=_0x18c8b2;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x7ae112){this['panner']['refDistanc'+'e']=_0x7ae112;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x1a37ad){this['panner']['rolloffFac'+'tor']=_0x1a37ad;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x3e8344){this['panner']['distanceMo'+'del']=_0x3e8344;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Dl()){let l=new D();const t=function(_0x5226bc,_0xefad19,_0x1484ae,_0x4a77a8,_0x4fb13e,_0x46ef08){l=l['sub2'](_0x5226bc,_0xefad19);const _0x45c257=l['length']();if(_0x45c257<_0x1484ae)return-0x1cb9+0x3*-0x7f7+0x2c5*0x13;if(_0x45c257>_0x4a77a8)return-0x7*-0x101+0xde1+-0x14e8;let _0x14101b=0x1*-0x1cca+0xbc2+0x1108;return _0x46ef08===Vp?_0x14101b=-0x213f+-0x24d*-0x7+-0x5b7*-0x3-_0x4fb13e*(_0x45c257-_0x1484ae)/(_0x4a77a8-_0x1484ae):_0x46ef08===bw?_0x14101b=_0x1484ae/(_0x1484ae+_0x4fb13e*(_0x45c257-_0x1484ae)):_0x46ef08===Aw&&(_0x14101b=Math['pow'](_0x45c257/_0x1484ae,-_0x4fb13e)),Y['clamp'](_0x14101b,0x249a+-0x1308+0x15a*-0xd,0x2*-0xc25+0x218f+-0x944*0x1);};Object['defineProp'+'erty'](sn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x4821f5){if(this['_position']['copy'](_0x4821f5),this['source']){const _0x10d5f4=this['_manager']['listener']['getPositio'+'n'](),_0x2eccff=t(_0x10d5f4,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x2aeaea=this['volume'];this['source']['volume']=_0x2aeaea*_0x2eccff*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](sn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x38ef0d){this['_maxDistan'+'ce']=_0x38ef0d;}}),Object['defineProp'+'erty'](sn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x4b2537){this['_refDistan'+'ce']=_0x4b2537;}}),Object['defineProp'+'erty'](sn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x59b67e){this['_rollOffFa'+'ctor']=_0x59b67e;}}),Object['defineProp'+'erty'](sn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x4f2f69){this['_distanceM'+'odel']=_0x4f2f69;}});}const Gp=0xaab+0x2dd*-0x5+0x3a6*0x1,Hp=-0x1174+0x1f99+-0xa*0x16a,Zs=0x1*0x7e1+-0xd17+0x538,Cs=0x9*-0x227+-0x72a+-0x1*-0x1a8c,Gn=0xfb0+-0x2704+0x2eb*0x8,Wp=0x192a*-0x1+-0x1fa+0x1b29,Ed=-0x2*-0x344+0x22d3*-0x1+0x1c51,$p=0x176c+-0x1db6*-0x1+0x5*-0xa9f,Xp=0x132e+-0x146*0x9+0x10*-0x7b,qp=-0x195f+0x1aaa+-0x142,jp=-0x1907+0xdd*-0x2d+-0x154e*-0x3,Yy={[Gp]:'SUBTRACTIV'+'E',[Hp]:'ADDITIVE',[Zs]:'NORMAL',[Cs]:'NONE',[Gn]:'PREMULTIPL'+'IED',[Wp]:'MULTIPLICA'+'TIVE',[Ed]:'ADDITIVEAL'+'PHA',[$p]:'MULTIPLICA'+'TIVE2X',[Xp]:'SCREEN',[qp]:'MIN',[jp]:'MAX'},Kn='none',Iw='linear',Lw=0x1853+-0x29f*-0x2+0x9db*-0x3,Yp=0x20b0+-0x5e9+-0x1ac5,Rw={[Lw]:'NONE',[Yp]:'SCHLICK'},Ow=0x195c+0x8*-0x395+0x34c,Ky=-0x78b*-0x1+-0xa8c+-0xc4*-0x4,er=0x3*0x886+-0x1b0e+-0xbe*-0x2,ps=-0xb*0x33b+0xc1c+0x176e,Kp=-0x494+-0x1122+0x15b8,Zp=0x530+0x1b68+-0x2095,Il=-0x161+-0xd3*0x25+0x1fe4,ve=0x1*0x24cb+-0x160a+-0xec1,Ke=-0x18a7+-0x16b5*0x1+0x2f5d,Ze=-0x23*0x53+-0x1947+0x3*0xc36,u_={[ve]:'DIRECTIONA'+'L',[Ke]:'OMNI',[Ze]:'SPOT'},$c=-0x40d*0x3+0x1e83+0x1cc*-0xa,Ys=-0xd*-0x29d+0x13b2+0x4e1*-0xb,Zy=0x1ad8+0x78b*-0x4+0x355,Qy=0xbd+-0x1f1f+-0x614*-0x5,Jy=0x1546+0x1*0x125+-0xb34*0x2,Fw={[Ys]:'PUNCTUAL',[Zy]:'RECT',[Qy]:'DISK',[Jy]:'SPHERE'},Qp=-0x5f9*-0x5+-0x630+-0x227*0xb,ev=-0x22e0+-0x5*-0x2b3+-0x77*-0x2e,Nw={[Qp]:'LINEAR',[ev]:'INVERSESQU'+'ARED'},$s=-0x2229+0x3*0x191+0x1d76*0x1,au=0x266a+-0x83*0x7+-0x22d3,Jp=0x2044+-0x2015+-0x2c,kw=0x1a92+-0x25*0xc8+-0x25a*-0x1,tv=-0x1*0x19db+0x1*0x2005+0x1*-0x625,al=0x25f1+0xea9+-0x3494,sv=0x1ce0+0x1dab+-0x3a84,iv=-0x250e+0x2f6+0x2220,Uw=-0xce3*-0x1+-0x1277+0x3*0x1df,qi=new Map([[tv,{'name':'PCF1_32F','kind':'PCF1','format':$i,'pcf':!(0x2488+-0x1a6c+-0xa1c)}],[$s,{'name':'PCF3_32F','kind':'PCF3','format':$i,'pcf':!(-0x947+-0x21f7+0x2b3e)}],[kw,{'name':'PCF5_32F','kind':'PCF5','format':$i,'pcf':!(-0x22ac+-0xf02+0x2*0x18d7)}],[sv,{'name':'PCF1_16F','kind':'PCF1','format':vn,'pcf':!(-0x1c55+0x1*-0x62+0x1*0x1cb7)}],[iv,{'name':'PCF3_16F','kind':'PCF3','format':vn,'pcf':!(0x1f0f*0x1+-0x1377+0x5cc*-0x2)}],[Uw,{'name':'PCF5_16F','kind':'PCF5','format':vn,'pcf':!(-0x1*0x154f+0x5*0x776+0xd*-0x13b)}],[au,{'name':'VSM_16F','kind':'VSM','format':nt,'vsm':!(0x1*0x183f+-0xd*-0x9e+-0x2045)}],[Jp,{'name':'VSM_32F','kind':'VSM','format':Xt,'vsm':!(0x2*-0xa4e+-0x7*0x3d5+0x1*0x2f6f)}],[al,{'name':'PCSS_32F','kind':'PCSS','format':Ji,'pcss':!(0xc2d*-0x3+-0x3a8+0x282f)}]]),Bw=-0xf9*0xd+0x12b5+-0x511*0x1,em=-0x27*0xb4+-0x2*-0x75a+0xcb9,nu=0xc5e+-0x1*-0x11e7+-0x7*0x453,rv=0x1*-0x22d4+0x1f*0x13+0x2087,ai=-0x8da*-0x4+-0x1*0xddb+-0x158d,zw=-0x1851+0xc0f*-0x2+-0x19*-0x1f0,yh=-0xbad+0x7*-0xeb+-0x296*-0x7,Vw=0x9cd*0x1+-0xc17+-0x1*-0x24b,ni=-0x24a5+0x26bd+-0x2*0x10c,En=0x6c9+0x2181*-0x1+-0x1*-0x1ab9,un=-0x38f*-0x7+-0xffc+-0x1c9*0x5,$r=0x2*-0xa76+-0x1*-0x8e6+0xc07,Jl=-0xf*0x18+0xb10+0x26*-0x41,tm=-0x19*-0x16+-0x1*-0x11db+0x3*-0x6ab,av=-0x843+0x2*-0x769+0x1716,Gw={[tm]:'NONE',[av]:'BOX'},p_='mul',Ll=0x11b7+-0x620*0x5+0xce9,Xc=-0x1789+-0x1*0x22e+0x19b8,Hw={[Ll]:'NONE',[Xc]:'SRGB'},sm=0x2353*-0x1+-0x1*-0x1fe7+-0x2*-0x1b6,UU=0x10*0x7+0x472*-0x8+0x2321,BU=-0xde+-0xc4e+0x697*0x2,zU=0x1*0x13b1+-0x7*0x209+0xd*-0x6b,VU=0x57f*0x1+-0xe45+0x8ca,GU=-0xe*-0xb3+-0xe3e+0x479,nv=-0x7*0x6a+0x7ab+0x4bf*-0x1,ov=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],lv=-0xea4*-0x2+-0x215c+0x105*0x4,bd=-0x22bd+-0x509*0x1+0x27c7,cv=-0x2164+0xd*0x256+0x308,Ww={[lv]:'NONE',[bd]:'AO',[cv]:'GLOSSDEPEN'+'DENT'},vr='none',vh='envAtlas',xh='envAtlasHQ',Th='cubeMap',hv='sphereMap',$w={[vr]:'NONE',[vh]:'ENVATLAS',[xh]:'ENVATLASHQ',[Th]:'CUBEMAP',[hv]:'SPHEREMAP'},im='ambientSH',rm='envAtlas',am='constant',Xw={[im]:'AMBIENTSH',[rm]:'ENVALATLAS',[am]:'CONSTANT'},wh=0x1*-0xe6+0x1c5a+0x1b73*-0x1,nl=0x1*0x841+-0x10e2+0xb*0xc9,nm=-0x1*-0x7fd+0x1369+-0x1b62,dv=0x103e+-0x1bfd+0xbc7,fv=0x517*-0x5+0x433*-0x2+0x21e9*0x1,ol=-0x1a2b+0x21f3+-0x7a8,ou=0x1*0x256+0x12a8+-0x14be,uv=0x1*0x195b+0x250b+-0x3de6,Eh=0x2288+-0x11dc+-0xfac,om=0xd*0x89+0x8*0x175+-0x109d,ll=0x77*0x2f+-0x9d3+-0x806,cl=-0x1e2d+-0x1d*-0x121+0x570,pv=-0xd08*0x1+-0xcd5+-0x1*-0x29dd,hl=-0x1e9f+-0x5e7*-0x7+0x71a*0x3,qc=-0x50d*-0x13+0x62*0x12a+-0x920b,Ps=0x13db+0x1a4b*-0x1+0x670,xr=0x1169+-0xb2+-0x10b6,lm=-0x14*-0x17c+0x932+0x26e*-0x10,Ss=0x71d+0x20dd+0x471*-0x9,di=-0x2d3*0x3+0x1*-0x1ab7+0x2332,fi=0xf8b+0x29*0xef+-0xc2*0x47,Aa=-0x10*-0xef+-0x1af*-0x15+-0x324b,Rl=0x1*-0x260e+-0x52e*0x4+0x16f*0x29,cm=0x3*0x73c+0x198c+-0x2f3e,Zn=0x5d*-0x66+-0x1c12+0x4123,ci=0x164e+0x15*0x89+0x218b*-0x1,Pt=0x10bb+0x211d+-0x3*0x109d,Mt=-0x1e13+-0x1421+0x3236,qw={[ci]:'SIMPLE',[Pt]:'SLICED',[Mt]:'TILED'},jc=-0x3*0x355+-0x18ee+0x1177*0x2,ec=0x446*0x2+0x1e6a+-0x26f6,Yc=-0x1d69+0x9ad*0x1+0x13bc,jw=-0x86b*-0x2+0x11a*0x1e+-0x31e1,Yw=-0x2*-0x201+0x28*-0xde+0x2*0xf58,m_=0x2*-0x1259+0xbe5*-0x1+0x2*0x184d,Kw=-0x6*-0x65+-0x207e+0x6*0x506,Zw=-0x17e4+0x1655*-0x1+0x6*0x7b5,hm=-0x23*-0x13+-0x305*0xb+-0x2*-0xf4f,lu=-0x2324+0x1885+0xaa0,Ce=0x1c3a+0x1*-0x168b+-0x5af,je=-0x17*-0xca+-0x4fa+-0xd2b,Bo='infinite',Qw='box',Jw='dome',Sa='none',eE='bayer8',tE='bluenoise',sE='ignnoise',iE={[Sa]:'NONE',[eE]:'BAYER8',[tE]:'BLUENOISE',[sE]:'IGNNOISE'},rE='prerender',aE='postrender',nE='prerender:'+'layer',oE='postrender'+':layer',mv='precull',_v='postcull',lE='cull:end';class Ad{constructor(_0x589e9a,_0x29470a,_0x50c60a){h(this,'uniformFor'+'mats',[]),h(this,'bindGroupF'+'ormats',[]),h(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][rl]=_0x589e9a,this['bindGroupF'+'ormats'][rl]=_0x29470a,this['vertexForm'+'at']=_0x50c60a);}['hasUniform'](_0x350960){for(let _0x29990d=0x70*-0x1c+0x2*-0x55d+0x16fa;_0x29990d<this['uniformFor'+'mats']['length'];_0x29990d++){const _0x22cef2=this['uniformFor'+'mats'][_0x29990d];if(_0x22cef2!=null&&_0x22cef2['get'](_0x350960))return!(-0x259*0x5+-0x133*0x1f+-0x30ea*-0x1);}return!(0xc53+-0x86*0x4+-0x22*0x4d);}['hasTexture'](_0x3aa9c5){for(let _0xcdfcef=0x20e1*0x1+0xc79*0x2+-0x39d3*0x1;_0xcdfcef<this['bindGroupF'+'ormats']['length'];_0xcdfcef++){const _0xf49dd0=this['bindGroupF'+'ormats'][_0xcdfcef];if(_0xf49dd0!=null&&_0xf49dd0['getTexture'](_0x3aa9c5))return!(0x646*0x1+0x99a+-0xfe0);}return!(0x1792+-0x177e+-0x1*0x13);}['getVertexE'+'lement'](_0x25e14d){var _0x56c3de;return(_0x56c3de=this['vertexForm'+'at'])==null?void(-0x1672+0x43*-0x1+0x1*0x16b5):_0x56c3de['elements']['find'](_0x18b384=>_0x18b384['name']===_0x25e14d);}['generateKe'+'y'](_0x564259){var _0x4e6538;let _0x3b14af=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x564259['isWebGPU']&&(_0x3b14af+=(_0x4e6538=this['vertexForm'+'at'])==null?void(0x81+0xa7*0x6+-0x3*0x179):_0x4e6538['shaderProc'+'essingHash'+'String']),_0x3b14af;}}const gv=new Kt();function Hn(_0x7b7b7d){const _0x1fbcd3=gv['get'](_0x7b7b7d);return w['assert'](_0x1fbcd3),_0x1fbcd3;}function cE(_0xcf0ddc,_0x610c20){w['assert'](_0x610c20),gv['get'](_0xcf0ddc,()=>_0x610c20);}class ya{static['definesHas'+'h'](_0x527449){const _0x1a5eca=Array['from'](_0x527449)['sort']((_0x1a1b8e,_0x397114)=>_0x1a1b8e[0x2453+0xe*0x17e+-0x3937]>_0x397114[0x9a2*0x3+0x925+0x1*-0x260b]?0x158b+-0x1fb2*-0x1+-0x4*0xd4f:-(0x16a*0xb+0x2355+-0x2*0x1971));return hi(JSON['stringify'](_0x1a5eca));}}const hE=new Kt();class dE{constructor(_0x3cc84e,_0x5f5a31,_0x48345e={}){h(this,'index'),h(this,'name'),h(this,'defines',new Map()),(w['assert'](/^[a-z]\w*$/i['test'](_0x3cc84e),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x3cc84e),this['name']=_0x3cc84e,this['index']=_0x5f5a31,Object['assign'](this,_0x48345e),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x4e931f;this['isShadow']?_0x4e931f='SHADOW':this['isForward']?_0x4e931f='FORWARD':this['index']===Zn&&(_0x4e931f='PICK'),this['defines']['set'](_0x4e931f+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Si{constructor(){h(this,'passesName'+'d',new Map()),h(this,'passesInde'+'xed',[]),h(this,'nextIndex',0x10b5+-0xad3+-0x3*0x1f6);const _0x4b0f8a=(_0x3f85f0,_0xd02e65,_0x2f0af7)=>{const _0x3ff048=this['allocate'](_0x3f85f0,_0x2f0af7);w['assert'](_0x3ff048['index']===_0xd02e65);};_0x4b0f8a('forward',Aa,{'isForward':!(-0x1b5f+0x1*-0xea2+0x2a01)}),_0x4b0f8a('prepass',Rl),_0x4b0f8a('shadow',cm),_0x4b0f8a('pick',Zn);}static['get'](_0x1b082){return w['assert'](_0x1b082),hE['get'](_0x1b082,()=>new Si());}['allocate'](_0x354c02,_0x2b0151){let _0x5f1aab=this['passesName'+'d']['get'](_0x354c02);return _0x5f1aab===void(0x1eb5*-0x1+0xed1+0xfe4)&&(_0x5f1aab=new dE(_0x354c02,this['nextIndex'],_0x2b0151),this['passesName'+'d']['set'](_0x5f1aab['name'],_0x5f1aab),this['passesInde'+'xed'][_0x5f1aab['index']]=_0x5f1aab,this['nextIndex']++),_0x5f1aab;}['getByIndex'](_0x198083){const _0x213abe=this['passesInde'+'xed'][_0x198083];return w['assert'](_0x213abe),_0x213abe;}['getByName'](_0x1b9780){return this['passesName'+'d']['get'](_0x1b9780);}}class __ extends Map{constructor(){super(...arguments),h(this,'_keyDirty',!(-0xd3a*0x1+0xd5*0x29+-0x9*0x252)),h(this,'_key','');}['set'](_0x1be993,_0x3616bd){return(!this['has'](_0x1be993)||this['get'](_0x1be993)!==_0x3616bd)&&this['markDirty'](),super['set'](_0x1be993,_0x3616bd);}['add'](_0x536974){for(const [_0x1cac3d,_0x57feac]of Object['entries'](_0x536974))this['set'](_0x1cac3d,_0x57feac);return this;}['delete'](_0x461b96){const _0x322c47=this['has'](_0x461b96),_0x2d8841=super['delete'](_0x461b96);return _0x322c47&&_0x2d8841&&this['markDirty'](),_0x2d8841;}['clear'](){this['size']>-0x18eb+0x1bfa+-0x1*0x30f&&this['markDirty'](),super['clear']();}['markDirty'](){this['_dirty']=!(0x130e*-0x1+0x4d2*-0x2+-0xe59*-0x2),this['_keyDirty']=!(0x3a*0x4e+-0x1*-0x67b+-0x1827);}['isDirty'](){return this['_dirty'];}['resetDirty'](){this['_dirty']=!(0x196f+-0x1220+-0xb*0xaa);}get['key'](){return this['_keyDirty']&&(this['_keyDirty']=!(-0x25c*-0x8+-0x4*0x968+0x12c1),this['_key']=Array['from'](this['entries']())['sort'](([_0x160013],[_0x8a05b2])=>_0x160013<_0x8a05b2?-(-0x26ef+-0x1bca+0x42ba):_0x160013>_0x8a05b2?0x3*-0xcaa+0x12de+-0x53*-0x3b:-0xd*-0x11e+0x959+0x61*-0x3f)['map'](([_0x267538,_0x380a47])=>_0x267538+'='+hi(_0x380a47))['join'](',')),this['_key'];}['copy'](_0x2e5af6){this['clear']();for(const [_0x354ecd,_0x3c6433]of _0x2e5af6)this['set'](_0x354ecd,_0x3c6433);return this;}}const fE=new Kt();class Pe{constructor(){h(this,'glsl',new __()),h(this,'wgsl',new __()),h(this,'version','');}static['get'](_0x2ce329,_0x32a3b4=Fe){const _0x46d0cc=fE['get'](_0x2ce329,()=>new Pe());return _0x32a3b4===Fe?_0x46d0cc['glsl']:_0x46d0cc['wgsl'];}get['useWGSL'](){return this['glsl']['size']===-0x11a9+0x54c*-0x2+-0x3*-0x96b||this['wgsl']['size']>-0x9b*0x1d+0x1e40+-0xcb1;}get['key'](){return'GLSL:'+this['glsl']['key']+'|WGSL:'+this['wgsl']['key']+'|API:'+this['version'];}['isDirty'](){return this['glsl']['isDirty']()||this['wgsl']['isDirty']();}['resetDirty'](){this['glsl']['resetDirty'](),this['wgsl']['resetDirty']();}['copy'](_0x58ff4a){return this['version']=_0x58ff4a['version'],this['glsl']['copy'](_0x58ff4a['glsl']),this['wgsl']['copy'](_0x58ff4a['wgsl']),this;}}class bh{static['merge'](..._0x11f9df){const _0x1f8365=new Map(_0x11f9df[0x3*0x1d7+0x1ec3+-0x2448]??[]);for(let _0x25680d=0x1*0x58f+-0xabb+-0x109*-0x5;_0x25680d<_0x11f9df['length'];_0x25680d++){const _0x53b390=_0x11f9df[_0x25680d];if(_0x53b390){for(const [_0x2106c3,_0x5e5210]of _0x53b390)_0x1f8365['set'](_0x2106c3,_0x5e5210);}}return _0x1f8365;}}class uE extends ya{constructor(_0x29c9f6,_0x5048b1){super(),this['key']=_0x29c9f6,this['shaderDefi'+'nition']=_0x5048b1;}['generateKe'+'y'](_0x5f7991){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x326ab4,_0x1fc162){return this['shaderDefi'+'nition'];}}class $t{static['createShad'+'er'](_0x2b3d55,_0x2a38a6){const _0x2ae39b=Hn(_0x2b3d55);let _0x2f5d97=_0x2ae39b['getCachedS'+'hader'](_0x2a38a6['uniqueName']);if(!_0x2f5d97){const _0x4ff4d7=_0x2b3d55['isWebGPU']&&(!!_0x2a38a6['vertexWGSL']||!!_0x2a38a6['vertexChun'+'k'])&&(!!_0x2a38a6['fragmentWG'+'SL']||!!_0x2a38a6['fragmentCh'+'unk']),_0x28aa45=Pe['get'](_0x2b3d55,_0x4ff4d7?it:Fe),_0x423d44=_0x2a38a6['vertexChun'+'k']?_0x28aa45['get'](_0x2a38a6['vertexChun'+'k']):_0x4ff4d7?_0x2a38a6['vertexWGSL']:_0x2a38a6['vertexGLSL'],_0x10d1b6=_0x2a38a6['fragmentCh'+'unk']?_0x28aa45['get'](_0x2a38a6['fragmentCh'+'unk']):_0x4ff4d7?_0x2a38a6['fragmentWG'+'SL']:_0x2a38a6['fragmentGL'+'SL'];w['assert'](_0x423d44,'ShaderUtil'+'s.createSh'+'ader:\x20vert'+'ex\x20shader\x20'+'code\x20not\x20p'+'rovided',_0x2a38a6),w['assert'](_0x10d1b6,'ShaderUtil'+'s.createSh'+'ader:\x20frag'+'ment\x20shade'+'r\x20code\x20not'+'\x20provided',_0x2a38a6);const _0x3429ec=bh['merge'](_0x28aa45,_0x2a38a6['fragmentIn'+'cludes']),_0xb5c66f=bh['merge'](_0x28aa45,_0x2a38a6['vertexIncl'+'udes']);_0x2f5d97=new qy(_0x2b3d55,Jt['createDefi'+'nition'](_0x2b3d55,{'name':_0x2a38a6['uniqueName'],'shaderLanguage':_0x4ff4d7?it:Fe,'attributes':_0x2a38a6['attributes'],'vertexCode':_0x423d44,'fragmentCode':_0x10d1b6,'useTransformFeedback':_0x2a38a6['useTransfo'+'rmFeedback'],'vertexIncludes':_0xb5c66f,'vertexDefines':_0x2a38a6['vertexDefi'+'nes'],'fragmentIncludes':_0x3429ec,'fragmentDefines':_0x2a38a6['fragmentDe'+'fines'],'fragmentOutputTypes':_0x2a38a6['fragmentOu'+'tputTypes']})),_0x2ae39b['setCachedS'+'hader'](_0x2a38a6['uniqueName'],_0x2f5d97);}return _0x2f5d97;}static['getCoreDef'+'ines'](_0x3262c3,_0x394ea7){const _0x27a823=new Map(_0x3262c3['defines']);return _0x394ea7['cameraShad'+'erParams']['defines']['forEach']((_0xe6bebf,_0x44d294)=>_0x27a823['set'](_0x44d294,_0xe6bebf)),Si['get'](_0x394ea7['device'])['getByIndex'](_0x394ea7['pass'])['defines']['forEach']((_0x39f95d,_0x20f32f)=>_0x27a823['set'](_0x20f32f,_0x39f95d)),_0x27a823;}static['processSha'+'der'](_0x49158a,_0x1a7bd1){w['assert'](_0x49158a);const _0x3f749a=_0x49158a['definition'],_0x3a4736=(_0x3f749a['name']??'shader')+'-id-'+_0x49158a['id'],_0x17ae96=new uE(_0x3a4736,_0x3f749a),_0x2c7ed7='shader',_0x5f3210=Hn(_0x49158a['device']);w['assert'](!_0x5f3210['isRegister'+'ed'](_0x2c7ed7)),_0x5f3210['register'](_0x2c7ed7,_0x17ae96);const _0x9cb43c=_0x5f3210['getProgram'](_0x2c7ed7,{},_0x1a7bd1);return _0x5f3210['unregister'](_0x2c7ed7),_0x9cb43c;}static['addScreenD'+'epthChunkD'+'efines'](_0x391996,_0x4869de,_0x2f1a71){_0x4869de['sceneDepth'+'MapLinear']&&_0x2f1a71['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',''),_0x391996['textureFlo'+'atRenderab'+'le']&&_0x2f1a71['set']('SCENE_DEPT'+'HMAP_FLOAT','');}}const pE={'type':Er,'base':0x0,'baseVertex':0x0,'count':0x4,'indexed':!(0xef8+0x1d5a+-0x2c51)},so=new re(),io=new re(),Gd=new ky();class Ah{constructor(_0x40612c){h(this,'uniformBuf'+'fer'),h(this,'bindGroup');const _0x3ab4da=_0x40612c['device'];if(this['shader']=_0x40612c,w['assert'](_0x40612c),_0x3ab4da['supportsUn'+'iformBuffe'+'rs']){const _0x4cdc34=new Ad();this['shader']=$t['processSha'+'der'](_0x40612c,_0x4cdc34);const _0x2711c0=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x2711c0&&(this['uniformBuf'+'fer']=new zp(_0x3ab4da,_0x2711c0,!(0x20*0x93+-0x1eef+0xc90)));const _0x1ba0e2=this['shader']['meshBindGr'+'oupFormat'];w['assert'](_0x1ba0e2),this['bindGroup']=new Up(_0x3ab4da,_0x1ba0e2),Ea['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x56c6db,_0x475f90;(_0x56c6db=this['uniformBuf'+'fer'])==null||_0x56c6db['destroy'](),this['uniformBuf'+'fer']=null,(_0x475f90=this['bindGroup'])==null||_0x475f90['destroy'](),this['bindGroup']=null;}['render'](_0x503fd9,_0x37cd2e){const _0x27e1d6=this['shader']['device'];Q['pushGpuMar'+'ker'](_0x27e1d6,'QuadRender'),_0x503fd9&&(so['set'](_0x27e1d6['vx'],_0x27e1d6['vy'],_0x27e1d6['vw'],_0x27e1d6['vh']),io['set'](_0x27e1d6['sx'],_0x27e1d6['sy'],_0x27e1d6['sw'],_0x27e1d6['sh']),_0x37cd2e=_0x37cd2e??_0x503fd9,_0x27e1d6['setViewpor'+'t'](_0x503fd9['x'],_0x503fd9['y'],_0x503fd9['z'],_0x503fd9['w']),_0x27e1d6['setScissor'](_0x37cd2e['x'],_0x37cd2e['y'],_0x37cd2e['z'],_0x37cd2e['w'])),_0x27e1d6['setVertexB'+'uffer'](_0x27e1d6['quadVertex'+'Buffer'],0xaf9+0x166*0x6+-0x1*0x135d);const _0x553adb=this['shader'];if(_0x27e1d6['setShader'](_0x553adb),_0x27e1d6['supportsUn'+'iformBuffe'+'rs']){_0x27e1d6['setBindGro'+'up'](rl,_0x27e1d6['emptyBindG'+'roup']);const _0x3f1818=this['bindGroup'];_0x3f1818['update'](),_0x27e1d6['setBindGro'+'up'](Oy,_0x3f1818);const _0x201a91=this['uniformBuf'+'fer'];_0x201a91?(_0x201a91['update'](Gd),_0x27e1d6['setBindGro'+'up'](su,Gd['bindGroup'],Gd['offsets'])):_0x27e1d6['setBindGro'+'up'](su,_0x27e1d6['emptyBindG'+'roup']);}_0x27e1d6['draw'](pE),_0x503fd9&&(_0x27e1d6['setViewpor'+'t'](so['x'],so['y'],so['z'],so['w']),_0x27e1d6['setScissor'](io['x'],io['y'],io['z'],io['w'])),Q['popGpuMark'+'er'](_0x27e1d6);}}class mE extends ys{constructor(_0x70821,_0x53bf6a,_0x5e9a1e,_0x10f65b){super(_0x70821),this['quad']=_0x53bf6a,this['rect']=_0x5e9a1e,this['scissorRec'+'t']=_0x10f65b;}['execute'](){const {device:_0x38329c}=this;Q['pushGpuMar'+'ker'](_0x38329c,this['name']+':'+this['quad']['shader']['name']),_0x38329c['setCullMod'+'e'](bt),_0x38329c['setDepthSt'+'ate'](Yt['NODEPTH']),_0x38329c['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),Q['popGpuMark'+'er'](_0x38329c);}}const _E=new re();function Ar(_0x54c1a8,_0x8dd13b,_0x244947,_0x3a19e2,_0xed0754){w['assert'](_0x8dd13b!==void(-0x1aa*-0xe+-0x25ef+-0x3*-0x4e1));const _0x106e77=arguments[0x477+-0xf69+0x7*0x191];w['call'](()=>{_0x106e77!==void(-0x88a+0x18*-0x116+-0x114d*-0x2)&&w['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x534652=new Ah(_0x244947);_0x3a19e2||(_0x3a19e2=_E,_0x3a19e2['x']=0x26b5+-0x268c+0x1*-0x29,_0x3a19e2['y']=-0x257*-0xd+0x49e*-0x7+0x1e7,_0x3a19e2['z']=_0x8dd13b?_0x8dd13b['width']:_0x54c1a8['width'],_0x3a19e2['w']=_0x8dd13b?_0x8dd13b['height']:_0x54c1a8['height']);const _0x22c7a6=new mE(_0x54c1a8,_0x534652,_0x3a19e2,_0xed0754);_0x22c7a6['init'](_0x8dd13b),_0x22c7a6['colorOps']['clear']=!(0x2498+0x1*0xe41+-0x32d8),_0x22c7a6['depthStenc'+'ilOps']['clearDepth']=!(-0x26a1+-0x1237*0x1+0x38d9),_0x54c1a8['isWebGPU']&&_0x8dd13b===null&&_0x54c1a8['samples']>-0x9*-0x3c2+0x1*0x169d+-0x2*0x1c37&&(_0x22c7a6['colorOps']['store']=!(0x3*0x7e1+-0x1*-0x2330+-0x3ad3)),_0x22c7a6['render'](),_0x534652['destroy']();}class g_{constructor(_0x2b4344,_0x36fdcb,_0x73b360){h(this,'_aabb',new De()),h(this,'origMeshIn'+'stances'),h(this,'meshInstan'+'ce',null),h(this,'dynamic'),h(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x2b4344,this['dynamic']=_0x36fdcb,this['batchGroup'+'Id']=_0x73b360);}['destroy'](_0x3504d6,_0x44f312){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x3504d6,_0x44f312),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x1d861d,_0xb6f23c){for(let _0x3d0477=-0x284*0xc+0x1813+0x139*0x5;_0x3d0477<_0xb6f23c['length'];_0x3d0477++){const _0x5238b2=_0x1d861d['layers']['getLayerBy'+'Id'](_0xb6f23c[_0x3d0477]);_0x5238b2&&_0x5238b2['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x12230d,_0x5664f3){for(let _0x5700c3=0x2146*0x1+0x65*-0xb+-0x1cef;_0x5700c3<_0x5664f3['length'];_0x5700c3++){const _0x4f226c=_0x12230d['layers']['getLayerBy'+'Id'](_0x5664f3[_0x5700c3]);_0x4f226c&&_0x4f226c['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][0x1*0x1c5d+0x1186+-0x2de3]['aabb']);for(let _0x686952=-0x1*0x13d6+-0x115e+-0xf*-0x27b;_0x686952<this['origMeshIn'+'stances']['length'];_0x686952++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x686952]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=-0x1435+-0x2dc*-0x8+-0x2ab;}get['model'](){w['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class St{constructor(_0x28d70c,_0x33b9a2,_0x8fd1d8,_0x5d77d3,_0x14ce5c=[er]){h(this,'_ui',!(-0x2e*-0x31+0x151*-0x13+0xa*0x19f)),h(this,'_sprite',!(-0x1319*-0x2+0x63*0x37+-0x3b76)),h(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),h(this,'id'),h(this,'name'),h(this,'dynamic'),h(this,'maxAabbSiz'+'e'),h(this,'layers'),(this['id']=_0x28d70c,this['name']=_0x33b9a2,this['dynamic']=_0x8fd1d8,this['maxAabbSiz'+'e']=_0x5d77d3,this['layers']=_0x14ce5c);}}h(St,'MODEL','model'),h(St,'ELEMENT','element'),h(St,'SPRITE','sprite'),h(St,'RENDER','render');const S_=new te();class Ol{constructor(_0x4cfa73){h(this,'bones'),(this['_dirty']=!(0x2e0*0xa+-0x16ed+0x1f1*-0x3),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(0x1dcf*0x1+0x12f3+-0x30c1),this['_updateBef'+'oreCull']=!(-0x83a+0x172+0x6c8),_0x4cfa73&&this['initSkin'](_0x4cfa73));}set['rootBone'](_0x387f8c){this['_rootBone']=_0x387f8c;}get['rootBone'](){return this['_rootBone'];}['init'](_0xa47e44,_0x2d974b){const _0x189933=_0x2d974b*(-0x1202+0x21*-0xc1+0x1573*0x2);let _0x2dd75c=Math['ceil'](Math['sqrt'](_0x189933));_0x2dd75c=Y['roundUp'](_0x2dd75c,-0x22a3+0x2b*0x4b+-0x469*-0x5);const _0x2256d5=Math['ceil'](_0x189933/_0x2dd75c);this['boneTextur'+'e']=new _e(_0xa47e44,{'width':_0x2dd75c,'height':_0x2256d5,'format':Xt,'mipmaps':!(0x17*-0xd7+0x1f50+-0x5ff*0x2),'minFilter':Te,'magFilter':Te,'name':'skin'}),this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':yy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x4c8bcd,_0x4d2c8e){this['rootBone']=_0x4c8bcd;const _0x2d5fe0=this['skin'],_0x41fb07=[];for(let _0x5c476e=-0x1*0x1892+0x1e5+0x16ad;_0x5c476e<_0x2d5fe0['boneNames']['length'];_0x5c476e++){const _0x5c5785=_0x2d5fe0['boneNames'][_0x5c476e];let _0x4f7b3f=_0x4c8bcd['findByName'](_0x5c5785);_0x4f7b3f||(w['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x5c5785+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x4d2c8e['name']+(',\x20rootBone'+':\x20')+_0x4c8bcd['name']),_0x4f7b3f=_0x4d2c8e),_0x41fb07['push'](_0x4f7b3f);}this['bones']=_0x41fb07;}['initSkin'](_0x171c7f){this['skin']=_0x171c7f,this['bones']=[];const _0x5d426b=_0x171c7f['inverseBin'+'dPose']['length'];this['init'](_0x171c7f['device'],_0x5d426b),this['matrices']=[];for(let _0x2be71c=-0x8e4+-0x2041+0x3*0xdb7;_0x2be71c<_0x5d426b;_0x2be71c++)this['matrices'][_0x2be71c]=new te();}['uploadBone'+'s'](_0x42ebc0){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x2e4203,_0x5c226b){if(this['_skinUpdat'+'eIndex']!==_0x5c226b){this['_skinUpdat'+'eIndex']=_0x5c226b,S_['copy'](_0x2e4203['getWorldTr'+'ansform']())['invert']();for(let _0x1e70e4=this['bones']['length']-(0x1*-0x36c+-0xa8e+0xdfb);_0x1e70e4>=-0xd50+-0x1fbe+0x4f*0x92;_0x1e70e4--)this['matrices'][_0x1e70e4]['mulAffine2'](S_,this['bones'][_0x1e70e4]['getWorldTr'+'ansform']()),this['matrices'][_0x1e70e4]['mulAffine2'](this['matrices'][_0x1e70e4],this['skin']['inverseBin'+'dPose'][_0x1e70e4]);}}['updateMatr'+'ices'](_0x2504c3,_0x1d9bd9){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x2504c3,_0x1d9bd9);}['updateMatr'+'ixPalette'](_0x4d4fcc,_0x4b9a2e){this['_updateMat'+'rices'](_0x4d4fcc,_0x4b9a2e);const _0x58230a=this['matrixPale'+'tte'],_0x5f55d2=this['bones']['length'];for(let _0x5cad3b=0x1*-0x259b+0x1f*0x8+0x24a3;_0x5cad3b<_0x5f55d2;_0x5cad3b++){const _0x19556c=this['matrices'][_0x5cad3b]['data'],_0x1bfa64=_0x5cad3b*(-0xcf*0x15+0xf90+0x177);_0x58230a[_0x1bfa64]=_0x19556c[0xcaf+0x209*-0xd+0xdc6],_0x58230a[_0x1bfa64+(-0x3b8*0x2+0x456+-0x109*-0x3)]=_0x19556c[-0x1405+0x2f7+-0x2*-0x889],_0x58230a[_0x1bfa64+(0x15b8+0x36b*0x3+-0x1ff7)]=_0x19556c[-0x126*-0xb+0x1*-0x14ff+0x865],_0x58230a[_0x1bfa64+(-0x8bf*0x3+0x1175+0x8cb)]=_0x19556c[0x7a5+0x184b+-0x1fe4],_0x58230a[_0x1bfa64+(-0x2*0x593+-0x2*0x10f1+0x2d0c)]=_0x19556c[-0x1*-0x841+-0x115+-0x1*0x72b],_0x58230a[_0x1bfa64+(-0x239c+0x1103+0x129e)]=_0x19556c[0x454*0x3+-0x231+-0xac6],_0x58230a[_0x1bfa64+(-0x1d0b*0x1+0x20ee+-0x3dd)]=_0x19556c[-0x3*-0x199+-0x24a+-0x4*0x9e],_0x58230a[_0x1bfa64+(0x21b9+0x929*0x4+-0x6*0xbb9)]=_0x19556c[-0x15*-0xb+-0x313+0x239*0x1],_0x58230a[_0x1bfa64+(-0x72b*0x2+0x1*-0x1e86+0x2ce4)]=_0x19556c[0x1d*0x1+-0x3b6*0x4+-0x31*-0x4d],_0x58230a[_0x1bfa64+(0x1b3+0x9fc+0x2a*-0x47)]=_0x19556c[-0x38c+0x17db+-0x1449],_0x58230a[_0x1bfa64+(-0x2*-0x959+-0xa5*-0x3b+0x1*-0x38af)]=_0x19556c[-0x9ef+-0x263d+0x176*0x21],_0x58230a[_0x1bfa64+(-0x2*-0x18e+0x226d+-0x257e)]=_0x19556c[-0x1*-0x1b5b+-0x1b7*-0x7+-0x274e];}this['uploadBone'+'s'](this['skin']['device']);}}class y_ extends Ol{constructor(_0x9489fa,_0x262ed0,_0x460d4d){super();const _0x3f2bc0=_0x262ed0['length'];this['init'](_0x9489fa,_0x3f2bc0),this['device']=_0x9489fa,this['rootNode']=_0x460d4d,this['bones']=_0x262ed0;}['updateMatr'+'ices'](_0x322b11,_0x1255a3){}['updateMatr'+'ixPalette'](_0x102217,_0x5aedff){const _0x1d7f22=this['matrixPale'+'tte'],_0x4ded6b=this['bones']['length'];for(let _0x3e0dae=0x18c1*0x1+0x142b*0x1+0x2e*-0xfa;_0x3e0dae<_0x4ded6b;_0x3e0dae++){const _0x2fe4a1=this['bones'][_0x3e0dae]['getWorldTr'+'ansform']()['data'],_0x561756=_0x3e0dae*(-0x1*-0x1bf4+-0x261+-0x1987);_0x1d7f22[_0x561756]=_0x2fe4a1[-0x1732+-0x2342+0x3a74],_0x1d7f22[_0x561756+(0xaf8+0x155*-0x1d+0x1*0x1baa)]=_0x2fe4a1[-0x3de+-0x178*-0xf+-0x1226],_0x1d7f22[_0x561756+(0x4d*-0x55+0x1cae+-0x5*0x9f)]=_0x2fe4a1[0xfe0+0x20f1+-0x21f*0x17],_0x1d7f22[_0x561756+(-0x437*0x2+0x160*0x9+-0x3ef)]=_0x2fe4a1[0x744+0x1*0x8bf+-0x3d*0x43],_0x1d7f22[_0x561756+(0x4*0x883+-0x15cb+-0xc3d)]=_0x2fe4a1[-0xf*-0x49+0x10d+-0x553],_0x1d7f22[_0x561756+(-0x8a4+0xbee*-0x2+0x2085)]=_0x2fe4a1[-0x2182+-0x2605+0x478c],_0x1d7f22[_0x561756+(0x20e4+0x6*-0x1b7+0x484*-0x5)]=_0x2fe4a1[-0x11*0xdf+-0x1be6+0x155f*0x2],_0x1d7f22[_0x561756+(-0x7df+0x3*0x937+-0x13bf)]=_0x2fe4a1[0x1*0x1a20+-0x8df*0x3+-0x6*-0x17],_0x1d7f22[_0x561756+(0x2688+0x2584*-0x1+0xe*-0x12)]=_0x2fe4a1[-0x1cbb+0x277*-0x9+0x1976*0x2],_0x1d7f22[_0x561756+(0x2b*-0x91+0x5aa+0x12ba)]=_0x2fe4a1[0xad*-0x2b+0x4*-0x768+-0x317*-0x13],_0x1d7f22[_0x561756+(0x33+0x1217+0x1240*-0x1)]=_0x2fe4a1[-0x1f12+-0xd36+0x6*0x763],_0x1d7f22[_0x561756+(-0x3*-0xceb+-0xb1e+-0x1b98)]=_0x2fe4a1[-0xd6e+-0x92*-0x6+0x7*0x170];}this['uploadBone'+'s'](this['device']);}}let gE=-0x1bb6+-0x28a+-0x790*-0x4;class oi{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(0x82b*0x1+-0x11aa+0x980),this['verticesUs'+'age']=ms,this['indicesUsa'+'ge']=ms,this['maxVertice'+'s']=-0x1891+0x75c+-0x5*-0x371,this['maxIndices']=-0x1b99+-0x30*0x71+0x17*0x21f,this['vertexCoun'+'t']=0x201+-0x1*-0x497+-0x698,this['indexCount']=0x2518+0x1*-0x135d+-0x33*0x59,this['vertexStre'+'amsUpdated']=!(0x228*-0x11+0x9dc+0x8ef*0x3),this['indexStrea'+'mUpdated']=!(-0x1c8a+0x5*-0x3f3+-0xe*-0x373),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x17673b,_0x128bfc){this['vertexCoun'+'t']?w['assert'](this['vertexCoun'+'t']===_0x17673b,'Vertex\x20str'+'eam\x20'+_0x128bfc+'\x20has\x20'+_0x17673b+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x17673b;}}h(oi,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',-0x576+-0xc43+-0x38c*-0x5),h(oi,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',-0x2*-0xddc+0xd99+-0x294e),h(oi,'DEFAULT_CO'+'MPONENTS_U'+'V',0x1*-0x239+0x1198+-0x13*0xcf),h(oi,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',0x652+0x1d2e+-0x237c);class SE{constructor(_0x12335b,_0x4e9c40,_0xf3e20,_0x5b20f8,_0x528094){this['data']=_0x12335b,this['componentC'+'ount']=_0x4e9c40,this['dataType']=_0xf3e20,this['dataTypeNo'+'rmalize']=_0x5b20f8,this['asInt']=_0x528094;}}class Ge extends wd{constructor(_0x552bbb,_0x1c3d45){super(),h(this,'indexBuffe'+'r',[null]),h(this,'vertexBuff'+'er',null),h(this,'primitive',[{'type':0x0,'base':0x0,'baseVertex':0x0,'count':0x0}]),h(this,'skin',null),h(this,'boneAabb',null),h(this,'_aabbVer',0x3*-0x559+-0x1ea3*0x1+0x2eae*0x1),h(this,'_aabb',new De()),h(this,'_geometryD'+'ata',null),h(this,'_morph',null),h(this,'_storageIn'+'dex',!(-0xd*0x5+-0x2b*-0x29+0x1*-0x6a1)),h(this,'_storageVe'+'rtex',!(-0x1*0x1ced+0x125+0x1bc9)),(this['id']=gE++,w['assert'](_0x552bbb,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x552bbb,this['_storageIn'+'dex']=(_0x1c3d45==null?void(0x29*-0xc1+-0x1884*-0x1+-0x1*-0x665):_0x1c3d45['storageInd'+'ex'])||!(0xa73+0x605+-0x34b*0x5),this['_storageVe'+'rtex']=(_0x1c3d45==null?void(0x15c6+-0x38d+0x1*-0x1239):_0x1c3d45['storageVer'+'tex'])||!(-0x1*0x2322+0xde5+0xa9f*0x2));}static['fromGeomet'+'ry'](_0xf1bf54,_0xbb67d2,_0x5a74d6={}){const _0x328b84=new Ge(_0xf1bf54,_0x5a74d6),{positions:_0x9522f,normals:_0x3f45b7,tangents:_0x4b6bee,colors:_0x51c93f,uvs:_0x16462d,uvs1:_0x225752,blendIndices:_0x3adda7,blendWeights:_0x37ec3c,indices:_0x53bcc9}=_0xbb67d2;return _0x9522f&&_0x328b84['setPositio'+'ns'](_0x9522f),_0x3f45b7&&_0x328b84['setNormals'](_0x3f45b7),_0x4b6bee&&_0x328b84['setVertexS'+'tream'](yi,_0x4b6bee,-0x21d1+-0x1*-0x14a1+-0x4*-0x34d),_0x51c93f&&_0x328b84['setColors3'+'2'](_0x51c93f),_0x16462d&&_0x328b84['setUvs'](0x8dc+0x1d86+-0x2662,_0x16462d),_0x225752&&_0x328b84['setUvs'](0xa*-0x1d9+0x1dc5*-0x1+0x1*0x3040,_0x225752),_0x3adda7&&_0x328b84['setVertexS'+'tream'](us,_0x3adda7,0x20ec+0x1d1f+-0xc9*0x4f,_0x3adda7['length']/(0x1013*0x2+-0x19ad+-0x675),la),_0x37ec3c&&_0x328b84['setVertexS'+'tream'](gi,_0x37ec3c,0x23*0xd+-0x7e8+-0x79*-0xd),_0x53bcc9&&_0x328b84['setIndices'](_0x53bcc9),_0x328b84['update'](),_0x328b84;}set['morph'](_0x841339){_0x841339!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x841339,_0x841339&&_0x841339['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x321e7a){this['_aabb']=_0x321e7a,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x2d6776=this['morph'];_0x2d6776&&(this['morph']=null,_0x2d6776['refCount']<0x11b*0x23+0x1f85+-0x1*0x4635&&_0x2d6776['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x4100de=0x2446*-0x1+-0x4bd*0x8+-0x41f*-0x12;_0x4100de<this['indexBuffe'+'r']['length'];_0x4100de++)this['_destroyIn'+'dexBuffer'](_0x4100de);this['indexBuffe'+'r']['length']=0x4b5+-0xe13+0x16*0x6d,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x283d1a){this['indexBuffe'+'r'][_0x283d1a]&&(this['indexBuffe'+'r'][_0x283d1a]['destroy'](),this['indexBuffe'+'r'][_0x283d1a]=null);}['_initBoneA'+'abbs'](_0x1c2b70){this['boneAabb']=[],this['boneUsed']=[];let _0x180227,_0x11a970,_0xe9c9a4,_0x3bbd20,_0x2bc119;const _0x1c86c7=[],_0x5395ee=[],_0x21edf1=this['boneUsed'],_0x56f8a1=this['skin']['boneNames']['length'];let _0x47baa7,_0x54b462,_0x3a49d1;for(let _0x25cba7=-0x25ab+0x1ea*-0x2+-0xdd5*-0x3;_0x25cba7<_0x56f8a1;_0x25cba7++)_0x1c86c7[_0x25cba7]=new D(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x5395ee[_0x25cba7]=new D(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x2af3cf=new Uo(this['vertexBuff'+'er']),_0x53a0cb=_0x2af3cf['element'][Me],_0x952db1=_0x2af3cf['element'][gi],_0x3fb917=_0x2af3cf['element'][us],_0x25f199=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0xfe655d=0x798*0x1+-0x1*-0xdf+-0xc5*0xb;_0xfe655d<_0x25f199;_0xfe655d++){for(let _0x2389fa=0x3c7*-0x1+-0x61f*-0x1+0x4b*-0x8;_0x2389fa<0x1a95+0xae7+-0x2578;_0x2389fa++)if(_0x952db1['array'][_0x952db1['index']+_0x2389fa]>0x342+0x1536+-0x1878){const _0xd96ba1=_0x3fb917['array'][_0x3fb917['index']+_0x2389fa];if(_0x21edf1[_0xd96ba1]=!(-0xd33+-0x2507*0x1+-0x6*-0x85f),_0x180227=_0x53a0cb['array'][_0x53a0cb['index']],_0x11a970=_0x53a0cb['array'][_0x53a0cb['index']+(-0x1b44+0x29*0x29+0x212*0xa)],_0xe9c9a4=_0x53a0cb['array'][_0x53a0cb['index']+(0x6d*-0x1d+-0x1520+0x1*0x217b)],_0x3bbd20=_0x5395ee[_0xd96ba1],_0x2bc119=_0x1c86c7[_0xd96ba1],_0x2bc119['x']>_0x180227&&(_0x2bc119['x']=_0x180227),_0x2bc119['y']>_0x11a970&&(_0x2bc119['y']=_0x11a970),_0x2bc119['z']>_0xe9c9a4&&(_0x2bc119['z']=_0xe9c9a4),_0x3bbd20['x']<_0x180227&&(_0x3bbd20['x']=_0x180227),_0x3bbd20['y']<_0x11a970&&(_0x3bbd20['y']=_0x11a970),_0x3bbd20['z']<_0xe9c9a4&&(_0x3bbd20['z']=_0xe9c9a4),_0x1c2b70){let _0xede51d=_0x47baa7=_0x180227,_0x1fab0c=_0x54b462=_0x11a970,_0x30f18c=_0x3a49d1=_0xe9c9a4;for(let _0x5b805b=0x463+-0x17ec+0x1389;_0x5b805b<_0x1c2b70['length'];_0x5b805b++){const _0x5183d3=_0x1c2b70[_0x5b805b],_0xf4ba73=_0x5183d3['deltaPosit'+'ions'][_0xfe655d*(0x62c+-0x193c+-0x1*-0x1313)],_0x57774a=_0x5183d3['deltaPosit'+'ions'][_0xfe655d*(-0x1568+-0x116a+-0x26d5*-0x1)+(-0x3*-0x815+-0x1bd2+-0x394*-0x1)],_0x65aa06=_0x5183d3['deltaPosit'+'ions'][_0xfe655d*(-0x8a7*-0x1+-0x6*-0x2+-0x8b0)+(0x2*-0xd44+-0x375+-0x1*-0x1dff)];_0xf4ba73<-0x1584+0x1724+-0x1a0?_0xede51d+=_0xf4ba73:_0x47baa7+=_0xf4ba73,_0x57774a<-0x6*0x32b+0x1*-0x1e85+0x3187?_0x1fab0c+=_0x57774a:_0x54b462+=_0x57774a,_0x65aa06<-0x26e5+-0x1aab+-0x4190*-0x1?_0x30f18c+=_0x65aa06:_0x3a49d1+=_0x65aa06;}_0x2bc119['x']>_0xede51d&&(_0x2bc119['x']=_0xede51d),_0x2bc119['y']>_0x1fab0c&&(_0x2bc119['y']=_0x1fab0c),_0x2bc119['z']>_0x30f18c&&(_0x2bc119['z']=_0x30f18c),_0x3bbd20['x']<_0x47baa7&&(_0x3bbd20['x']=_0x47baa7),_0x3bbd20['y']<_0x54b462&&(_0x3bbd20['y']=_0x54b462),_0x3bbd20['z']<_0x3a49d1&&(_0x3bbd20['z']=_0x3a49d1);}}_0x2af3cf['next']();}const _0x497992=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x186533=>_0x186533['name']===Me);if(_0x497992&&_0x497992['normalize']){const _0x1b7661=((()=>{switch(_0x497992['dataType']){case dd:return _0x3c1be5=>Math['max'](_0x3c1be5/(0x656*-0x4+0x1feb*0x1+-0x30a*0x2),-(0xf7e+-0xe98*-0x2+-0x2cad));case la:return _0x25541b=>_0x25541b/(-0x2*0x801+0x25f2+0x14f1*-0x1);case fd:return _0x2e6877=>Math['max'](_0x2e6877/(-0x74e6+0x4b3+0xf032),-(0x256e+-0x199e+-0xbcf));case Ml:return _0x2a91b2=>_0x2a91b2/(-0x1df*-0x5f+0xf5d0+-0xa792);default:return _0x1f1633=>_0x1f1633;}})());for(let _0x4d07b8=0x148d+0x41c+0x6b*-0x3b;_0x4d07b8<_0x56f8a1;_0x4d07b8++)if(_0x21edf1[_0x4d07b8]){const _0x14b7df=_0x1c86c7[_0x4d07b8],_0xf69c0e=_0x5395ee[_0x4d07b8];_0x14b7df['set'](_0x1b7661(_0x14b7df['x']),_0x1b7661(_0x14b7df['y']),_0x1b7661(_0x14b7df['z'])),_0xf69c0e['set'](_0x1b7661(_0xf69c0e['x']),_0x1b7661(_0xf69c0e['y']),_0x1b7661(_0xf69c0e['z']));}}for(let _0x4746b9=0x12bb+-0x1a13+-0x1*-0x758;_0x4746b9<_0x56f8a1;_0x4746b9++){const _0x1972db=new De();_0x1972db['setMinMax'](_0x1c86c7[_0x4746b9],_0x5395ee[_0x4746b9]),this['boneAabb']['push'](_0x1972db);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new oi(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>-0x1*0x8b+0xdff+-0xd74&&this['indexBuffe'+'r'][-0x49d*-0x1+0x1*0xab2+0xf4f*-0x1]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][-0x1e53+0x2*-0x126d+0x432d]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][-0x4ab+0x14b8+-0x100d*0x1]['numIndices']));}['clear'](_0x4c43b4,_0x53e401,_0x1a649d=-0xf1*0x9+0x26ba+0x60d*-0x5,_0x2e2035=-0x1*-0x1f7+0x161d+0x2e*-0x86){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(0x2285+-0x1308+-0xf7d),this['_geometryD'+'ata']['maxVertice'+'s']=_0x1a649d,this['_geometryD'+'ata']['maxIndices']=_0x2e2035,this['_geometryD'+'ata']['verticesUs'+'age']=_0x4c43b4?ms:lh,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x53e401?ms:lh;}['setVertexS'+'tream'](_0x2bbbca,_0x4bd3b6,_0x26fcaf,_0x12e095,_0x761a57=Ve,_0x420d10=!(-0xe*-0x1d5+-0x1*0x617+-0x138e),_0x136652=!(0x1*-0xe44+-0x3*0x2ea+0x1703)){this['_initGeome'+'tryData']();const _0x93b192=_0x12e095||_0x4bd3b6['length']/_0x26fcaf;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x93b192,_0x2bbbca),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x9a5+0xb00+-0x1*0x15b),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x2bbbca]=new SE(_0x4bd3b6,_0x26fcaf,_0x761a57,_0x420d10,_0x136652);}['getVertexS'+'tream'](_0x23943d,_0x4b38c8){let _0xb2b7d2=-0x2*0xa21+-0xc0b*-0x3+-0xef*0x11,_0x5a8a18=!(-0x24f5+0x26d1+-0x5*0x5f);if(this['_geometryD'+'ata']){const _0x1304d7=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x23943d];_0x1304d7&&(_0x5a8a18=!(0x31*0x3b+-0x409+-0x2*0x3a1),_0xb2b7d2=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x4b38c8)?_0x4b38c8['set'](_0x1304d7['data']):(_0x4b38c8['length']=0x1fc*-0x3+0x24cb*-0x1+0x2abf,_0x4b38c8['push'](_0x1304d7['data'])));}return _0x5a8a18||this['vertexBuff'+'er']&&(_0xb2b7d2=new Uo(this['vertexBuff'+'er'])['readData'](_0x23943d,_0x4b38c8)),_0xb2b7d2;}['setPositio'+'ns'](_0x3e5fd6,_0x106715=oi['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x27d2f2){this['setVertexS'+'tream'](Me,_0x3e5fd6,_0x106715,_0x27d2f2,Ve,!(0x84e+0x18e8+0x2135*-0x1));}['setNormals'](_0x4d162f,_0x551e4d=oi['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x423d56){this['setVertexS'+'tream'](gs,_0x4d162f,_0x551e4d,_0x423d56,Ve,!(0x18e7+-0x134c+-0x1*0x59a));}['setUvs'](_0x184633,_0x57d479,_0x2c9c4c=oi['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x764dec){this['setVertexS'+'tream'](zm+_0x184633,_0x57d479,_0x2c9c4c,_0x764dec,Ve,!(0x106b+0x5*-0x41+0xf25*-0x1));}['setColors'](_0x59b4ec,_0x21029b=oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x30e6bf){this['setVertexS'+'tream'](Wt,_0x59b4ec,_0x21029b,_0x30e6bf,Ve,!(-0x178e+-0x4d5*-0x1+-0x33*-0x5e));}['setColors3'+'2'](_0x303a16,_0x598203){this['setVertexS'+'tream'](Wt,_0x303a16,oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x598203,la,!(-0xdd2*0x2+-0x21a3+-0x3*-0x146d));}['setIndices'](_0x2ebb05,_0x2ab491){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0xc27+-0x2cf*0x3+0x1494),this['_geometryD'+'ata']['indices']=_0x2ebb05,this['_geometryD'+'ata']['indexCount']=_0x2ab491||_0x2ebb05['length'];}['getPositio'+'ns'](_0xed790){return this['getVertexS'+'tream'](Me,_0xed790);}['getNormals'](_0x6a659d){return this['getVertexS'+'tream'](gs,_0x6a659d);}['getUvs'](_0x5589e1,_0x3df463){return this['getVertexS'+'tream'](zm+_0x5589e1,_0x3df463);}['getColors'](_0x15374e){return this['getVertexS'+'tream'](Wt,_0x15374e);}['getIndices'](_0x453c63){let _0x4668c2=0x854*-0x4+-0x23ac+-0xdcc*-0x5;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x52a5b6=this['_geometryD'+'ata']['indices'];if(_0x4668c2=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x453c63))_0x453c63['set'](_0x52a5b6);else{_0x453c63['length']=-0x4ae*0x2+-0x2191+0x129*0x25;for(let _0x15eaa0=-0x1*0x1c3a+0x13b8+-0x1*-0x882,_0x3361c8=_0x52a5b6['length'];_0x15eaa0<_0x3361c8;_0x15eaa0++)_0x453c63['push'](_0x52a5b6[_0x15eaa0]);}}else this['indexBuffe'+'r']['length']>0x5f*0x52+0xe1e+-0x2c8c&&this['indexBuffe'+'r'][0x4*-0x8a1+-0x2*-0x542+-0xc00*-0x2]&&(_0x4668c2=this['indexBuffe'+'r'][-0xa41+0x1722+-0xce1*0x1]['readData'](_0x453c63));return _0x4668c2;}['update'](_0x4de00e=js,_0x360c59=!(-0xa81*-0x1+0x10e8+-0x1b69)){if(this['_geometryD'+'ata']){if(_0x360c59){const _0x2e7915=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][Me];_0x2e7915&&_0x2e7915['componentC'+'ount']===-0x23f7+0x6ec+0x1d0e&&(this['_aabb']['compute'](_0x2e7915['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x4943d3=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x4943d3=!(-0x1f6f+-0xd37*-0x1+0x1238),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x4943d3&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x1bcef9=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x1bcef9=!(-0x4*-0x60+-0x183*-0x1+-0x303),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x1bcef9&&this['indexBuffe'+'r']['length']>0x193b+0xa60+-0x71f*0x5&&this['indexBuffe'+'r'][-0xe17+0x1fd7+0x238*-0x8]&&(this['indexBuffe'+'r'][-0xa2a*-0x2+-0x100f*0x1+0x1*-0x445]['destroy'](),this['indexBuffe'+'r'][0x1a09+0xed*-0x8+-0x12a1]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0x2525+-0x324*-0x6+-0xb*0x517]['type']=_0x4de00e,this['indexBuffe'+'r']['length']>0x9dd+0x21d+-0xbfa&&this['indexBuffe'+'r'][0x175e*0x1+0x254d+-0x3cab]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][0xf6f+0x5a4+-0x1513]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][-0x1a02+-0x1127*-0x1+0x8db]['indexed']=!(0x23f5+-0xbdf*-0x1+0x17ea*-0x2)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][0x1567+0x1543*0x1+-0x1555*0x2]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][-0x1*0x1de1+-0x365+-0x2146*-0x1]['indexed']=!(-0x21d+0x10*0x1d+0xd*0x6)),this['_geometryD'+'ata']['vertexCoun'+'t']=-0x1e*-0x14+-0x14b8+0x38*0x54,this['_geometryD'+'ata']['indexCount']=0x6*0xb6+-0x14ed*-0x1+-0x1931*0x1,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x1*0x260f+0x2*-0xf29+0x4462),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x5*0x5e1+-0x2*0x10a1+0x3de),this['_geometryD'+'ata']['recreate']=!(0x244a+0x1206+-0x1*0x364f),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x494341){const _0x26f44c=[];for(const _0x211915 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x4a3165=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x211915];_0x26f44c['push']({'semantic':_0x211915,'components':_0x4a3165['componentC'+'ount'],'type':_0x4a3165['dataType'],'normalize':_0x4a3165['dataTypeNo'+'rmalize'],'asInt':_0x4a3165['asInt']});}return new kt(this['device'],_0x26f44c,_0x494341);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x2d9f3a=this['_geometryD'+'ata']['maxVertice'+'s'],_0x5c8d56=this['_buildVert'+'exFormat'](_0x2d9f3a);this['vertexBuff'+'er']=new Is(this['device'],_0x5c8d56,_0x2d9f3a,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x3ed9d2=new Uo(this['vertexBuff'+'er']),_0x242d17=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x3d9c43 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x499a6d=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x3d9c43];_0x3ed9d2['writeData'](_0x3d9c43,_0x499a6d['data'],_0x242d17),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x3d9c43];}_0x3ed9d2['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=-0x7*-0x151+-0x1472+0xb3b||!this['indexBuffe'+'r'][0x1a*-0x7b+0x628+0x656]){const _0x4a10bf=this['_geometryD'+'ata']['maxVertice'+'s'],_0x1450d=_0x4a10bf>-0xebee+-0x2*0x9929+0x107*0x309||_0x4a10bf===0x1779+-0x1608+-0x29*0x9?wr:Yi,_0x45313e=this['_storageIn'+'dex']?{'storage':!(-0xcfa+0x4*0xed+-0x1*-0x946)}:void(0x1*-0x2095+-0x21bc+0x161b*0x3);this['indexBuffe'+'r'][-0x15f1+0x2378+-0x1*0xd87]=new br(this['device'],_0x1450d,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(-0x1d*0x9e+-0x645+0x182b),_0x45313e);}const _0x377561=this['_geometryD'+'ata']['indices'];_0x377561&&(this['indexBuffe'+'r'][0x21a3+0x1f96+0x1*-0x4139]['writeData'](_0x377561,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x45931c){_0x45931c===$r?this['generateWi'+'reframe']():_0x45931c===Jl&&(this['primitive'][Jl]={'type':cd,'base':0x0,'baseVertex':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:-0x25bf+-0x7c*-0x4e+-0x3*0x3,'indexed':!(0x4*-0x9ad+0x5*-0x487+0x3d58)});}['updateRend'+'erStates'](){this['primitive'][Jl]&&this['prepareRen'+'derState'](Jl),this['primitive'][$r]&&this['prepareRen'+'derState']($r);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer']($r);const _0x575a1a=this['vertexBuff'+'er']['numVertice'+'s'],_0x2413a0=[];let _0x36b4f7;if(this['indexBuffe'+'r']['length']>0x45e+-0xe3c+-0x2*-0x4ef&&this['indexBuffe'+'r'][0x1fdd+0x1479+-0x3456]){const _0x4ef07a=[[0x397+0x1*0x1b37+-0xf67*0x2,0x10*0x3b+0x7*-0x574+0x227d],[0x1*-0x172d+0x2f4+0x143a*0x1,-0x2583+-0x1a25+0x3faa],[0x1*0xf63+0x3ba*-0x1+0x1*-0xba7,-0x1f1*-0x13+0x16a*-0x12+-0xb6f]],_0xcefa77=this['primitive'][un]['base'],_0xc403e5=this['primitive'][un]['count'],_0x3c5e44=this['primitive'][un]['baseVertex']||-0x500+0xd86+-0x1*0x886,_0x63b714=this['indexBuffe'+'r'][un],_0x1ca73c=new Sh[_0x63b714['format']](_0x63b714['storage']),_0x498752=new Set();for(let _0x7dccec=_0xcefa77;_0x7dccec<_0xcefa77+_0xc403e5;_0x7dccec+=-0x26e4+-0x2*0xc27+0x3f35)for(let _0x37a25c=0x1*-0x1057+0x8a7*0x2+0xd*-0x13;_0x37a25c<0x10c3+-0x3b*-0x6d+-0x9*0x4a7;_0x37a25c++){const _0x562d0b=_0x1ca73c[_0x7dccec+_0x4ef07a[_0x37a25c][0x19c*0x9+0xf5*-0x11+-0x1*-0x1c9]]+_0x3c5e44,_0x22886f=_0x1ca73c[_0x7dccec+_0x4ef07a[_0x37a25c][-0xc4a+0x1914+0x443*-0x3]]+_0x3c5e44,_0x53c5dd=_0x562d0b>_0x22886f?_0x22886f*_0x575a1a+_0x562d0b:_0x562d0b*_0x575a1a+_0x22886f;_0x498752['has'](_0x53c5dd)||(_0x498752['add'](_0x53c5dd),_0x2413a0['push'](_0x562d0b,_0x22886f));}_0x36b4f7=_0x63b714['format'];}else{for(let _0xcfa64c=-0x4f4+0xed8+0xd3*-0xc;_0xcfa64c<_0x575a1a;_0xcfa64c+=0x929+0x140+-0xa66)_0x2413a0['push'](_0xcfa64c,_0xcfa64c+(-0x7a*0x4+-0xaac+0x1*0xc95),_0xcfa64c+(-0x1*-0x67f+0x1a03*0x1+-0x2081*0x1),_0xcfa64c+(0x124f*-0x1+0x820+-0x1*-0xa31),_0xcfa64c+(-0x1*0xc5+-0x22f*0xa+0x33b*0x7),_0xcfa64c);_0x36b4f7=_0x2413a0['length']>-0x6f95+0x1fa62*0x1+-0x8ace?wr:Yi;}const _0x3197a4=new br(this['vertexBuff'+'er']['device'],_0x36b4f7,_0x2413a0['length']);new Sh[_0x3197a4['format']](_0x3197a4['storage'])['set'](_0x2413a0),_0x3197a4['unlock'](),this['primitive'][$r]={'type':hd,'base':0x0,'baseVertex':0x0,'count':_0x2413a0['length'],'indexed':!(-0x1a44+-0xf0f+0x2953*0x1)},this['indexBuffe'+'r'][$r]=_0x3197a4;}}const v_=new te(),Hd=new D(),x_=new le(),Wd=new le(),T_=new D(),w_=new D(),yE=new te(),vE=new le(),rs=new D(),ro=new te(),as=new le(),Ia=new le(),E_=new te(),$d=new D(),tc=new D();function b_(_0x539447,_0x143663){return _0x539447 instanceof Function?_0x539447:_0x50e000=>{let _0x238612=_0x50e000[_0x539447];return _0x238612 instanceof Function&&(_0x238612=_0x238612()),_0x238612===_0x143663;};}function Sv(_0x3e50d2,_0x466b68){if(_0x466b68(_0x3e50d2))return _0x3e50d2;const _0x374df1=_0x3e50d2['_children'],_0x125042=_0x374df1['length'];for(let _0x26bbbb=-0x2*-0x247+0x74b+-0x151*0x9;_0x26bbbb<_0x125042;++_0x26bbbb){const _0x36fda9=Sv(_0x374df1[_0x26bbbb],_0x466b68);if(_0x36fda9)return _0x36fda9;}return null;}class Ie extends me{constructor(_0x24d8e4='Untitled'){super(),h(this,'name'),h(this,'tags',new Oo(this)),h(this,'localPosit'+'ion',new D()),h(this,'localRotat'+'ion',new le()),h(this,'localScale',new D(0x3*-0xb9b+0x2500+0x117*-0x2,-0x1*-0x153e+-0x21cc+0xc8f,-0x21df+-0x3b*-0x36+0x156e)),h(this,'localEuler'+'Angles',new D()),h(this,'position',new D()),h(this,'rotation',new le()),h(this,'eulerAngle'+'s',new D()),h(this,'_scale',null),h(this,'localTrans'+'form',new te()),h(this,'_dirtyLoca'+'l',!(0xa4a+0xb01+0x6d*-0x32)),h(this,'_aabbVer',0x1f5e*-0x1+-0x4f*0xb+0x22c3),h(this,'_frozen',!(-0x577*0x3+0xd27+-0x3*-0x115)),h(this,'worldTrans'+'form',new te()),h(this,'_dirtyWorl'+'d',!(0x1d5a+-0xdf*-0x23+-0x1*0x3bd6)),h(this,'_worldScal'+'eSign',-0x19*-0x14b+-0x1a6a+0x1*-0x5e9),h(this,'_normalMat'+'rix',new _i()),h(this,'_dirtyNorm'+'al',!(-0x23a7*0x1+-0xaf*-0x29+0x3d0*0x2)),h(this,'_right',null),h(this,'_up',null),h(this,'_forward',null),h(this,'_parent',null),h(this,'_children',[]),h(this,'_graphDept'+'h',-0x7*0x3ad+0xc01+0xdba),h(this,'_enabled',!(-0x1bf6*0x1+0x19d4+0x222)),h(this,'_enabledIn'+'Hierarchy',!(-0xcd7*-0x3+-0x22e8+-0x39c)),h(this,'scaleCompe'+'nsation',!(0x1d0c+0x156e+-0x3279)),this['name']=_0x24d8e4;}get['right'](){return this['_right']||(this['_right']=new D()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new D()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new D()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(-0x5*-0x6b1+-0x1c8f+-0x7*0xb3));}get['normalMatr'+'ix'](){const _0x317205=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x317205['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(-0x2271+0x244a+-0x4*0x76)),_0x317205;}set['enabled'](_0x41c311){var _0x2a124d;this['_enabled']!==_0x41c311&&(this['_enabled']=_0x41c311,(_0x41c311&&((_0x2a124d=this['_parent'])!=null&&_0x2a124d['enabled'])||!_0x41c311)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x41c311));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x401089=this['_parent'];if(!_0x401089)return'';let _0x338b51=this['name'];for(;_0x401089&&_0x401089['_parent'];)_0x338b51=_0x401089['name']+'/'+_0x338b51,_0x401089=_0x401089['_parent'];return _0x338b51;}get['root'](){let _0x182fd5=this;for(;_0x182fd5['_parent'];)_0x182fd5=_0x182fd5['_parent'];return _0x182fd5;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x2b3d77,_0x9634e2){_0x2b3d77['_onHierarc'+'hyStateCha'+'nged'](_0x9634e2);const _0x5bbbc5=_0x2b3d77['_children'];for(let _0x1dda65=-0x13c7*-0x1+0x2*0x45d+-0x1c81,_0x17a8cb=_0x5bbbc5['length'];_0x1dda65<_0x17a8cb;_0x1dda65++)_0x5bbbc5[_0x1dda65]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x5bbbc5[_0x1dda65],_0x9634e2);}['_onHierarc'+'hyStateCha'+'nged'](_0x18cf18){this['_enabledIn'+'Hierarchy']=_0x18cf18,_0x18cf18&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x1da8c9){_0x1da8c9['name']=this['name'];const _0x1a2e6b=this['tags']['_list'];_0x1da8c9['tags']['clear']();for(let _0x5b9694=-0x1d55+0x2228*0x1+-0xd*0x5f;_0x5b9694<_0x1a2e6b['length'];_0x5b9694++)_0x1da8c9['tags']['add'](_0x1a2e6b[_0x5b9694]);_0x1da8c9['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x1da8c9['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x1da8c9['localScale']['copy'](this['localScale']),_0x1da8c9['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x1da8c9['position']['copy'](this['position']),_0x1da8c9['rotation']['copy'](this['rotation']),_0x1da8c9['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x1da8c9['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x1da8c9['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x1da8c9['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x1da8c9['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x1da8c9['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x1da8c9['_aabbVer']=this['_aabbVer']+(0x1a31+-0x3*0xc2e+0xa5a),_0x1da8c9['_enabled']=this['_enabled'],_0x1da8c9['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x1da8c9['_enabledIn'+'Hierarchy']=!(0x4a1*0x8+-0x14f5+-0x16*0xbb);}['clone'](){const _0x21fccb=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x21fccb),_0x21fccb;}['copy'](_0x138a63){return _0x138a63['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x4b4c12=this['_children'];for(;_0x4b4c12['length'];){const _0x4a8635=_0x4b4c12['pop']();_0x4a8635['_parent']=null,_0x4a8635['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x43e6bc,_0x3dc39e){const _0x35420d=[],_0x5b68f4=b_(_0x43e6bc,_0x3dc39e);return this['forEach'](_0xa8998=>{_0x5b68f4(_0xa8998)&&_0x35420d['push'](_0xa8998);}),_0x35420d;}['findOne'](_0x5480d7,_0x21f216){const _0x266d1d=b_(_0x5480d7,_0x21f216);return Sv(this,_0x266d1d);}['findByTag'](..._0x376092){const _0x3a29d5=[],_0x39ded1=(_0x5ce763,_0x33a5a1)=>{_0x33a5a1&&_0x5ce763['tags']['has'](..._0x376092)&&_0x3a29d5['push'](_0x5ce763);for(let _0x4bffb9=0x125*0x1b+-0x61e+-0x1b*0xeb;_0x4bffb9<_0x5ce763['_children']['length'];_0x4bffb9++)_0x39ded1(_0x5ce763['_children'][_0x4bffb9],!(0xb*0x169+-0x1*-0x5d0+0x1553*-0x1));};return _0x39ded1(this,!(-0x121c+-0x967+0x1*0x1b84)),_0x3a29d5;}['findByName'](_0x382945){return this['findOne']('name',_0x382945);}['findByPath'](_0x57e205){const _0x4b5ca5=Array['isArray'](_0x57e205)?_0x57e205:_0x57e205['split']('/');let _0x2ba6ee=this;for(let _0x1333d1=-0x1d20+0x219*0x8+0xc58,_0x446ce1=_0x4b5ca5['length'];_0x1333d1<_0x446ce1;++_0x1333d1)if(_0x2ba6ee=_0x2ba6ee['children']['find'](_0x4ac0dc=>_0x4ac0dc['name']===_0x4b5ca5[_0x1333d1]),!_0x2ba6ee)return null;return _0x2ba6ee;}['forEach'](_0x3cd673,_0x2e906e){_0x3cd673['call'](_0x2e906e,this);const _0x2cb6a0=this['_children'],_0x1130bb=_0x2cb6a0['length'];for(let _0x1672dc=0x16a+0x5*-0x2db+0x1*0xcdd;_0x1672dc<_0x1130bb;++_0x1672dc)_0x2cb6a0[_0x1672dc]['forEach'](_0x3cd673,_0x2e906e);}['isDescenda'+'ntOf'](_0xae6c10){let _0x1646a9=this['_parent'];for(;_0x1646a9;){if(_0x1646a9===_0xae6c10)return!(0x13*0xb+-0x1174+0x1*0x10a3);_0x1646a9=_0x1646a9['_parent'];}return!(-0x1*0x49d+-0x1*0x1eaa+0x2348);}['isAncestor'+'Of'](_0x24643c){return _0x24643c['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x2249+0x1fb3+-0x41fb)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new D()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===0xa0c+0xa56*0x2+-0x1eb8&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x48da30;(_0x48da30=this['_parent'])==null||_0x48da30['removeChil'+'d'](this);}['reparent'](_0x1c468f,_0x27d0d1){this['remove'](),_0x1c468f&&(_0x27d0d1>=-0x1*-0x2282+-0x169a+-0x2fa*0x4?_0x1c468f['insertChil'+'d'](this,_0x27d0d1):_0x1c468f['addChild'](this));}['setLocalEu'+'lerAngles'](_0x76cf38,_0x6a33c0,_0x14bd37){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x76cf38,_0x6a33c0,_0x14bd37),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x32c42f,_0x41cc08,_0xdd31bb){_0x32c42f instanceof D?this['localPosit'+'ion']['copy'](_0x32c42f):this['localPosit'+'ion']['set'](_0x32c42f,_0x41cc08,_0xdd31bb),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x204a8f,_0xbe4ead,_0x4eaed2,_0x43c51c){_0x204a8f instanceof le?this['localRotat'+'ion']['copy'](_0x204a8f):this['localRotat'+'ion']['set'](_0x204a8f,_0xbe4ead,_0x4eaed2,_0x43c51c),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x3542e0,_0x406bc9,_0x4e5c7b){_0x3542e0 instanceof D?this['localScale']['copy'](_0x3542e0):this['localScale']['set'](_0x3542e0,_0x406bc9,_0x4e5c7b),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(0x1e1a*-0x1+0x13d7+0x25*0x47),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x38f8ce=this['_parent'];for(;_0x38f8ce;)_0x38f8ce['_frozen']=!(0x1381+0x1*0x1c8d+-0x300d),_0x38f8ce=_0x38f8ce['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(-0x23c5+0x1278+0x114e),this['_dirtyWorl'+'d']=!(-0x134a+0x1f2c+-0xbe2);for(let _0x78854=0x257*0x10+0x167*-0x16+0x696*-0x1;_0x78854<this['_children']['length'];_0x78854++)this['_children'][_0x78854]['_dirtyWorl'+'d']||this['_children'][_0x78854]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(0x1432+-0x83a+-0x2fe*0x4),this['_worldScal'+'eSign']=0x171b+-0x2585+-0x1e*-0x7b,this['_aabbVer']++;}['setPositio'+'n'](_0x534331,_0x1cd3f8,_0x3e0919){_0x534331 instanceof D?rs['copy'](_0x534331):rs['set'](_0x534331,_0x1cd3f8,_0x3e0919),this['_parent']===null?this['localPosit'+'ion']['copy'](rs):(ro['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),ro['transformP'+'oint'](rs,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x279215,_0x51be4c,_0x9b1adf,_0x267f58){if(_0x279215 instanceof le?as['copy'](_0x279215):as['set'](_0x279215,_0x51be4c,_0x9b1adf,_0x267f58),this['_parent']===null)this['localRotat'+'ion']['copy'](as);else{const _0x4ec36e=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x4ec36e)['invert'](),this['localRotat'+'ion']['copy'](Ia)['mul'](as);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x1dbd9d,_0x31e1b8){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x1dbd9d),this['localRotat'+'ion']['copy'](_0x31e1b8);else{const _0x2525e8=this['_parent']['getWorldTr'+'ansform']();ro['copy'](_0x2525e8)['invert'](),ro['transformP'+'oint'](_0x1dbd9d,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](ro)['mul'](_0x31e1b8);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x39fa7e,_0x1e8b7f,_0x5a3b8d){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x39fa7e,_0x1e8b7f,_0x5a3b8d),this['_parent']!==null){const _0x3a150e=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x3a150e)['invert'](),this['localRotat'+'ion']['mul2'](Ia,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0xb5404a){this['_prepareIn'+'sertChild'](_0xb5404a),this['_children']['push'](_0xb5404a),this['_onInsertC'+'hild'](_0xb5404a);}['addChildAn'+'dSaveTrans'+'form'](_0x5d9937){const _0x32483b=_0x5d9937['getPositio'+'n'](),_0x1dba9c=_0x5d9937['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x5d9937),_0x5d9937['setPositio'+'n'](yE['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x32483b)),_0x5d9937['setRotatio'+'n'](vE['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x1dba9c)),this['_children']['push'](_0x5d9937),this['_onInsertC'+'hild'](_0x5d9937);}['insertChil'+'d'](_0x201c45,_0x2cb423){this['_prepareIn'+'sertChild'](_0x201c45),this['_children']['splice'](_0x2cb423,0x26d2*-0x1+-0x1c07+0x42d9,_0x201c45),this['_onInsertC'+'hild'](_0x201c45);}['_prepareIn'+'sertChild'](_0x12d5b9){_0x12d5b9['remove'](),w['assert'](_0x12d5b9!==this,'GraphNode\x20'+(_0x12d5b9==null?void(-0x5c9+-0x86e+0x4bd*0x3):_0x12d5b9['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),w['assert'](!this['isDescenda'+'ntOf'](_0x12d5b9),'GraphNode\x20'+(_0x12d5b9==null?void(-0x4*-0x12c+-0x42e*0x2+0x5*0xbc):_0x12d5b9['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x4aef62,_0x2ad6db,_0x85973){this['fire'](_0x4aef62,_0x85973);for(let _0xc9b922=-0x1*0x1816+0x22e4+-0xace;_0xc9b922<this['_children']['length'];_0xc9b922++)this['_children'][_0xc9b922]['_fireOnHie'+'rarchy'](_0x2ad6db,_0x2ad6db,_0x85973);}['_onInsertC'+'hild'](_0x307dbb){_0x307dbb['_parent']=this;const _0x5747=_0x307dbb['_enabled']&&this['enabled'];_0x307dbb['_enabledIn'+'Hierarchy']!==_0x5747&&(_0x307dbb['_enabledIn'+'Hierarchy']=_0x5747,_0x307dbb['_notifyHie'+'rarchyStat'+'eChanged'](_0x307dbb,_0x5747)),_0x307dbb['_updateGra'+'phDepth'](),_0x307dbb['_dirtifyWo'+'rld'](),this['_frozen']&&_0x307dbb['_unfreezeP'+'arentToRoo'+'t'](),_0x307dbb['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x307dbb);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0x3*-0x53f+0x8*-0xaa+0x5*0x436):0x1b57+0xad*-0x2b+0x5*0x58;for(let _0x1464be=0x3*0x10d+-0x94b+0x624,_0x1a2bf7=this['_children']['length'];_0x1464be<_0x1a2bf7;_0x1464be++)this['_children'][_0x1464be]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x4f2a98){const _0xc99bdd=this['_children']['indexOf'](_0x4f2a98);_0xc99bdd!==-(-0x323*-0x2+-0xfb*-0x5+-0x4*0x2cb)&&(this['_children']['splice'](_0xc99bdd,-0x126a+0x2*0xa2b+-0x1*0x1eb),_0x4f2a98['_parent']=null,_0x4f2a98['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x4f2a98));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x336+0x1d8e+-0x1a57)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x30e272;const _0x55ba43=this['_parent'];let _0x57cd07=this['localScale'],_0x355acc=_0x55ba43;if(_0x355acc){for(;_0x355acc&&_0x355acc['scaleCompe'+'nsation'];)_0x355acc=_0x355acc['_parent'];_0x355acc&&(_0x355acc=_0x355acc['_parent'],_0x355acc&&(_0x30e272=_0x355acc['worldTrans'+'form']['getScale'](),T_['mul2'](_0x30e272,this['localScale']),_0x57cd07=T_));}Wd['setFromMat'+'4'](_0x55ba43['worldTrans'+'form']),x_['mul2'](Wd,this['localRotat'+'ion']);let _0x140ca5=_0x55ba43['worldTrans'+'form'];_0x55ba43['scaleCompe'+'nsation']&&(w_['mul2'](_0x30e272,_0x55ba43['getLocalSc'+'ale']()),v_['setTRS'](_0x55ba43['worldTrans'+'form']['getTransla'+'tion'](Hd),Wd,w_),_0x140ca5=v_),_0x140ca5['transformP'+'oint'](this['localPosit'+'ion'],Hd),this['worldTrans'+'form']['setTRS'](Hd,x_,_0x57cd07);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(-0x1584+-0x2a9*-0x3+0xd8a);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x1*-0x88d+0xed2+-0x175f),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x24a873=this['_children'];for(let _0x5a9c4e=0x1cc8+-0xfe3+0xce5*-0x1,_0x2f4c45=_0x24a873['length'];_0x5a9c4e<_0x2f4c45;_0x5a9c4e++)_0x24a873[_0x5a9c4e]['syncHierar'+'chy']();}['lookAt'](_0x1c0cf8,_0x32c8fc,_0x32cda5,_0x154ba7=0x1126+-0xf6a+-0xde*0x2,_0x3fe2c0=0x695+0x2ad*-0xb+0x16db,_0x32ed0f=0x24a4+0xeec+-0x3390){if(_0x1c0cf8 instanceof D)$d['copy'](_0x1c0cf8),_0x32c8fc instanceof D?tc['copy'](_0x32c8fc):tc['copy'](D['UP']);else{if(_0x32cda5===void(-0x2*0x1331+0x1cf3+0x23*0x45))return;$d['set'](_0x1c0cf8,_0x32c8fc,_0x32cda5),tc['set'](_0x154ba7,_0x3fe2c0,_0x32ed0f);}E_['setLookAt'](this['getPositio'+'n'](),$d,tc),as['setFromMat'+'4'](E_),this['setRotatio'+'n'](as);}['translate'](_0x3e06d2,_0x391168,_0x3cd6c9){_0x3e06d2 instanceof D?rs['copy'](_0x3e06d2):rs['set'](_0x3e06d2,_0x391168,_0x3cd6c9),rs['add'](this['getPositio'+'n']()),this['setPositio'+'n'](rs);}['translateL'+'ocal'](_0xda8d72,_0x221e6a,_0x1eac32){_0xda8d72 instanceof D?rs['copy'](_0xda8d72):rs['set'](_0xda8d72,_0x221e6a,_0x1eac32),this['localRotat'+'ion']['transformV'+'ector'](rs,rs),this['localPosit'+'ion']['add'](rs),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x19794f,_0x4996cb,_0x1280b7){if(as['setFromEul'+'erAngles'](_0x19794f,_0x4996cb,_0x1280b7),this['_parent']===null)this['localRotat'+'ion']['mul2'](as,this['localRotat'+'ion']);else{const _0xb9123f=this['getRotatio'+'n'](),_0x1ff346=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x1ff346)['invert'](),as['mul2'](Ia,as),this['localRotat'+'ion']['mul2'](as,_0xb9123f);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x512fbb,_0x3d68dc,_0x18092d){as['setFromEul'+'erAngles'](_0x512fbb,_0x3d68dc,_0x18092d),this['localRotat'+'ion']['mul'](as),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const yv=new Kt();function Qn(_0x59dde7){const _0x3ed35a=yv['get'](_0x59dde7);return w['assert'](_0x3ed35a),_0x3ed35a;}function xE(_0x2ba4fe,_0x33e944){w['assert'](_0x33e944),yv['get'](_0x2ba4fe,()=>_0x33e944);}class TE{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x36ef0f,_0x35a623)=>{_0x35a623['destroy']();}),this['cache']['clear']();}['incRef'](_0x57c01e){const _0x1c2979=(this['cache']['get'](_0x57c01e)||-0x1*0x595+-0x1c1*-0x9+-0x28d*0x4)+(0x240d+-0x5*-0x6df+-0x4667);this['cache']['set'](_0x57c01e,_0x1c2979);}['decRef'](_0x5bf31a){if(_0x5bf31a){let _0x5d6c60=this['cache']['get'](_0x5bf31a);_0x5d6c60&&(_0x5d6c60--,_0x5d6c60===0x20d5+0x1428+0x5*-0xa99?(this['cache']['delete'](_0x5bf31a),_0x5bf31a['destroy']()):this['cache']['set'](_0x5bf31a,_0x5d6c60));}}}class zi{static['incRef'](_0x4da83b){this['cache']['incRef'](_0x4da83b);}static['decRef'](_0x8c3d1e){this['cache']['decRef'](_0x8c3d1e);}static['destroy'](){this['cache']['destroy']();}}h(zi,'cache',new TE());let wE=0x1*-0xc35+0x51b*0x4+-0x837;const EE=new De(),sc=new De(),Xd=new sp(),qd=new Set(),Rr=new Uint32Array(0xa6e+0x3*0xb95+-0xb*0x41b);class bE{constructor(_0x1f089d){h(this,'vertexBuff'+'er',null),h(this,'_destroyVe'+'rtexBuffer',!(0x221b+0xb3*0x1a+0x1de*-0x1c)),this['count']=_0x1f089d;}['destroy'](){var _0x353159;this['_destroyVe'+'rtexBuffer']&&((_0x353159=this['vertexBuff'+'er'])==null||_0x353159['destroy']()),this['vertexBuff'+'er']=null;}}class AE{constructor(){h(this,'map',new Map()),h(this,'meshMetaDa'+'ta',new Int32Array(0xe*-0x11+0x2*-0x11d9+0x24a4));}['get'](_0x4087b8){return this['map']['get'](_0x4087b8)??this['map']['get'](null);}}class CE{constructor(){h(this,'shader'),h(this,'bindGroup',null),h(this,'uniformBuf'+'fer',null),h(this,'hashes');}['getBindGro'+'up'](_0x2b2a18){if(!this['bindGroup']){const _0x13bde4=this['shader'];w['assert'](_0x13bde4);const _0x5e11ba=_0x13bde4['meshBindGr'+'oupFormat'];w['assert'](_0x5e11ba),this['bindGroup']=new Up(_0x2b2a18,_0x5e11ba),Ea['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x1cd788){if(!this['uniformBuf'+'fer']){const _0x4b2916=this['shader'];w['assert'](_0x4b2916);const _0x1110a4=_0x4b2916['meshUnifor'+'mBufferFor'+'mat'];w['assert'](_0x1110a4),this['uniformBuf'+'fer']=new zp(_0x1cd788,_0x1110a4,!(0x17b*-0x11+-0x1a*-0xfb+-0x1*0x52));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x5d6053,_0x4fa4ee;(_0x5d6053=this['bindGroup'])==null||_0x5d6053['destroy'](),this['bindGroup']=null,(_0x4fa4ee=this['uniformBuf'+'fer'])==null||_0x4fa4ee['destroy'](),this['uniformBuf'+'fer']=null;}}const Jr=class Jr{constructor(_0x43a212,_0x393552,_0x588a0e=null){h(this,'castShadow',!(0x1*-0x641+0xf*-0x41+0x1*0xa11)),h(this,'shadowCasc'+'adeMask',Bw),h(this,'cull',!(0xb*0xad+-0xf6a+0x7fb)),h(this,'drawOrder',0x22e7+0x1b*0x31+-0x17*0x1be),h(this,'_drawBucke'+'t',-0xd3*0x1d+0xc36+0x50*0x27),h(this,'node'),h(this,'visible',!(-0x578+-0x1297+0x180f)),h(this,'visibleThi'+'sFrame',!(0x10a8+-0x7a6*0x4+-0x53*-0x2b)),h(this,'flipFacesF'+'actor',-0x1f6*0xe+-0x153*0xe+0x3*0xf55),h(this,'gsplatInst'+'ance',null),h(this,'id',wE++),h(this,'isVisibleF'+'unc',null),h(this,'instancing'+'Data',null),h(this,'indirectDa'+'ta',null),h(this,'parameters',{}),h(this,'pick',!(0x2092+0x146d+-0x34ff)),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'transparen'+'t',!(0x2567+0x2*0x810+-0x3586)),h(this,'_aabb',new De()),h(this,'_aabbVer',-(-0x5e+-0x23f2+0x2451)),h(this,'_aabbMeshV'+'er',-(-0x1633+-0x1*0x1b65+0x3199)),h(this,'_customAab'+'b',null),h(this,'_updateAab'+'b',!(-0x1e65*0x1+-0xd5*0x19+0x3332)),h(this,'_updateAab'+'bFunc',null),h(this,'_sortKeySh'+'adow',-0x1534+-0x233b+-0x1*-0x386f),h(this,'_sortKeyFo'+'rward',0x209d+0x270+-0x230d),h(this,'_sortKeyDy'+'namic',-0x30a+0x66*0x60+-0x2336),h(this,'_layer',Ky),h(this,'_material',null),h(this,'_skinInsta'+'nce',null),h(this,'_morphInst'+'ance',null),h(this,'_receiveSh'+'adow',!(0x2678+-0xf*0x1db+-0xaa3)),h(this,'_renderSty'+'le',un),h(this,'_screenSpa'+'ce',!(0x2050+-0x6*-0x136+0x21*-0x133)),h(this,'_shaderCac'+'he',new Map()),h(this,'_shaderDef'+'s',Ss<<-0x124*0x3+0xe*-0x1c5+0x1c42),h(this,'_calculate'+'SortDistan'+'ce',null);if(w['assert'](!(_0x43a212 instanceof Ie),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x588a0e,this['_mesh']=_0x43a212,_0x43a212['incRefCoun'+'t'](),this['material']=_0x393552,_0x43a212['vertexBuff'+'er']){const _0x12a6f3=_0x43a212['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x12a6f3['hasUv0']?nm:-0xf1*0x15+0x2081+-0xcbc,this['_shaderDef'+'s']|=_0x12a6f3['hasUv1']?dv:0x1f86+0x31*-0x84+-0x642,this['_shaderDef'+'s']|=_0x12a6f3['hasColor']?fv:-0x204e+-0x16b9+0x3707,this['_shaderDef'+'s']|=_0x12a6f3['hasTangent'+'s']?om:0x1609*0x1+-0xeb9*0x2+0x769;}this['updateKey']();}set['drawBucket'](_0x504e96){this['_drawBucke'+'t']=Math['floor'](_0x504e96)&-0x2b3*-0x9+-0x686*-0x3+-0x2ade,this['updateKey']();}get['drawBucket'](){return this['_drawBucke'+'t'];}set['renderStyl'+'e'](_0x4e8cc0){this['_renderSty'+'le']=_0x4e8cc0,this['mesh']['prepareRen'+'derState'](_0x4e8cc0);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x4ee552){_0x4ee552!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x4ee552,_0x4ee552&&_0x4ee552['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x16f250){this['_aabb']=_0x16f250;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x1cf8ca=this['_customAab'+'b'],_0x2b46ca=!!_0x1cf8ca;if(!_0x1cf8ca){if(_0x1cf8ca=EE,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x626e08=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x626e08);}const _0x4e0033=this['mesh']['boneUsed'];let _0x4e9e71=!(-0x119d+-0x6b4+0x53*0x4b);for(let _0x461733=0x1233+0x2592+-0x37c5;_0x461733<this['mesh']['boneAabb']['length'];_0x461733++)_0x4e0033[_0x461733]&&(sc['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x461733],this['skinInstan'+'ce']['matrices'][_0x461733]),_0x4e9e71?(_0x4e9e71=!(0x14cd*-0x1+0x1*0x1e8b+-0x9bd),_0x1cf8ca['center']['copy'](sc['center']),_0x1cf8ca['halfExtent'+'s']['copy'](sc['halfExtent'+'s'])):_0x1cf8ca['add'](sc));_0x2b46ca=!(-0x1f*0x76+0xc1+0xd89);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x1cf8ca['center']['copy'](this['mesh']['aabb']['center']),_0x1cf8ca['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x1cf8ca['center']['set'](-0x1964+-0xae5+-0x7*-0x52f,0xd8b+0x66d+-0x13f8,0x122e+-0x1913*-0x1+-0x2b41),_0x1cf8ca['halfExtent'+'s']['set'](-0x1a*-0xed+0x10af*0x2+-0x3970,0x1*-0x2397+0xadf+-0x1c*-0xe2,-0x923+-0x490+0xdb3)),this['mesh']&&this['mesh']['morph']){const _0x41672d=this['mesh']['morph']['aabb'];_0x1cf8ca['_expand'](_0x41672d['getMin'](),_0x41672d['getMax']());}_0x2b46ca=!(-0x445*0x9+0x12d+-0x20*-0x12a),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x2b46ca&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x1cf8ca,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x30b520=>{_0x30b520['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x390b86,_0x1be214,_0x352139,_0x22928c,_0x1da1d4,_0x5adf87,_0x122d4f){var _0x200a7a;const _0x447e98=this['_shaderDef'+'s'];Rr[0x1eb3+-0x1bbc+-0x2f7]=_0x390b86,Rr[-0x104+0x3*-0x65d+0x21*0x9c]=_0x1be214,Rr[-0xc5*-0x22+-0x1433+-0x5f5]=_0x447e98,Rr[-0x3ee*-0x3+0x2a*0xb3+-0x3*0xdb7]=_0x22928c['hash'];const _0x2b7b0c=By(Rr);let _0x61f23a=this['_shaderCac'+'he']['get'](_0x2b7b0c);if(!_0x61f23a){const _0x17d7e6=this['_material'];if(_0x61f23a=new CE(),_0x61f23a['shader']=_0x17d7e6['variants']['get'](_0x2b7b0c),_0x61f23a['hashes']=new Uint32Array(Rr),!_0x61f23a['shader']){Q['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x59bc58=_0x17d7e6['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x352139,'objDefs':_0x447e98,'cameraShaderParams':_0x22928c,'pass':_0x390b86,'sortedLights':_0x122d4f,'viewUniformFormat':_0x1da1d4,'viewBindGroupFormat':_0x5adf87,'vertexFormat':(_0x200a7a=this['mesh']['vertexBuff'+'er'])==null?void(0x3aa+0x172b+-0x1ad5):_0x200a7a['format']});Q['popGpuMark'+'er'](this['mesh']['device']),_0x17d7e6['variants']['set'](_0x2b7b0c,_0x59bc58),_0x61f23a['shader']=_0x59bc58;}this['_shaderCac'+'he']['set'](_0x2b7b0c,_0x61f23a);}return w['call'](()=>{IT['equals'](_0x61f23a['hashes'],Rr)||w['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x61f23a;}set['material'](_0x4916b2){this['clearShade'+'rs']();const _0x378bbe=this['_material'];_0x378bbe&&_0x378bbe['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x4916b2,_0x4916b2&&(_0x4916b2['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x4916b2['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}['_updateSha'+'derDefs'](_0x2f213e){_0x2f213e!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x2f213e,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x3e1f4a){this['_calculate'+'SortDistan'+'ce']=_0x3e1f4a;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x5179e2){this['_receiveSh'+'adow']!==_0x5179e2&&(this['_receiveSh'+'adow']=_0x5179e2,this['_updateSha'+'derDefs'](_0x5179e2?this['_shaderDef'+'s']&~wh:this['_shaderDef'+'s']|wh));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x3c1f35){this['_updateSha'+'derDefs'](_0x3c1f35?this['_shaderDef'+'s']|qc:this['_shaderDef'+'s']&~qc);}get['batching'](){return(this['_shaderDef'+'s']&qc)!==-0x15*-0x3f+0x499*0x1+-0x9c4;}set['skinInstan'+'ce'](_0x20385c){this['_skinInsta'+'nce']=_0x20385c,this['_updateSha'+'derDefs'](_0x20385c?this['_shaderDef'+'s']|nl:this['_shaderDef'+'s']&~nl),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x1810ea){var _0x1fe3ad;(_0x1fe3ad=this['_morphInst'+'ance'])==null||_0x1fe3ad['destroy'](),this['_morphInst'+'ance']=_0x1810ea;let _0x5d9845=this['_shaderDef'+'s'];_0x5d9845=_0x1810ea&&_0x1810ea['morph']['morphPosit'+'ions']?_0x5d9845|ll:_0x5d9845&~ll,_0x5d9845=_0x1810ea&&_0x1810ea['morph']['morphNorma'+'ls']?_0x5d9845|cl:_0x5d9845&~cl,_0x5d9845=_0x1810ea&&_0x1810ea['morph']['intRenderF'+'ormat']?_0x5d9845|hl:_0x5d9845&~hl,this['_updateSha'+'derDefs'](_0x5d9845);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x5475ed){this['_screenSpa'+'ce']!==_0x5475ed&&(this['_screenSpa'+'ce']=_0x5475ed,this['_updateSha'+'derDefs'](_0x5475ed?this['_shaderDef'+'s']|Eh:this['_shaderDef'+'s']&~Eh));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x43bc13){this['_sortKeyFo'+'rward']=_0x43bc13;}get['key'](){return this['_sortKeyFo'+'rward'];}set['mask'](_0x37d205){const _0x6e7a2a=this['_shaderDef'+'s']&0x8*-0x1dc+-0x29*0x167+0x1485e;this['_updateSha'+'derDefs'](_0x6e7a2a|_0x37d205<<0x27*-0xbb+-0x20f5+0x3d82);}get['mask'](){return this['_shaderDef'+'s']>>0x2615*0x1+-0x631*0x1+-0x61*0x54;}set['instancing'+'Count'](_0x5f04ab){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x5f04ab);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:0x430+-0x1e2c+0x19fc;}['destroy'](){var _0x229392,_0x4604fb,_0xa602d2;const _0x504ce1=this['mesh'];_0x504ce1&&(this['mesh']=null,_0x504ce1['refCount']<0xcc7*0x1+-0x803*-0x4+-0x2cd2&&_0x504ce1['destroy']()),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x19ab+0x20c2+0x1*-0x3a6d],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x29*-0xc1+0x26d0+-0x7e6],null),(_0x229392=this['_skinInsta'+'nce'])==null||_0x229392['destroy'](),this['_skinInsta'+'nce']=null,(_0x4604fb=this['morphInsta'+'nce'])==null||_0x4604fb['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0xa602d2=this['instancing'+'Data'])==null||_0xa602d2['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x21eba2,_0x3e751e){if(_0x21eba2){for(let _0x1ab320=-0x11*0x27+0xcf2+0xa5b*-0x1;_0x1ab320<_0x21eba2['length'];_0x1ab320++){_0x21eba2[_0x1ab320]['_renderSty'+'le']=_0x3e751e;const _0x348422=_0x21eba2[_0x1ab320]['mesh'];qd['has'](_0x348422)||(qd['add'](_0x348422),_0x348422['prepareRen'+'derState'](_0x3e751e));}qd['clear']();}}['_isVisible'](_0x9b7ef7){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x9b7ef7):(Xd['center']=this['aabb']['center'],Xd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x9b7ef7['frustum']['containsSp'+'here'](Xd)>-0x571+0x9ab*0x3+0xbc8*-0x2):!(-0x1526+-0xc9f+0x21c6);}['updateKey'](){const {material:_0x323aa0}=this;this['_sortKeyFo'+'rward']=this['_drawBucke'+'t']<<-0x2*0x631+0x449+0x830|(_0x323aa0['alphaToCov'+'erage']||_0x323aa0['alphaTest']?-0x1*-0x23ba78+0x465f45+-0x2a19bd:0x2329*0x1+0x49*-0x65+-0x2*0x32e)|_0x323aa0['id']&0x1*-0x17246b+-0x2129f9+0x784e63;}['setInstanc'+'ing'](_0x36586e,_0x2405df=!(0x1f04+0x6*0x417+0x1*-0x378d)){_0x36586e?(this['instancing'+'Data']=new bE(_0x36586e['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x36586e,_0x36586e['format']['instancing']=!(-0x524+0x28d+0x297),this['cull']=_0x2405df):(this['instancing'+'Data']=null,this['cull']=!(-0x1cfe+-0x222f+-0x1b*-0x257)),this['_updateSha'+'derDefs'](_0x36586e?this['_shaderDef'+'s']|ol:this['_shaderDef'+'s']&~ol);}['setIndirec'+'t'](_0x3a90c0,_0x95400c){this['_allocIndi'+'rectData'](),this['indirectDa'+'ta']['map']['set']((_0x3a90c0==null?void(-0x60c+-0x1ec2*0x1+-0x2a1*-0xe):_0x3a90c0['camera'])??null,_0x95400c),this['mesh']['device']['mapsToClea'+'r']['add'](this['indirectDa'+'ta']['map']);}['getIndirec'+'tMetaData'](){var _0x2ea6b3;this['_allocIndi'+'rectData']();const _0x946b3e=(_0x2ea6b3=this['mesh'])==null?void(-0x1b37*0x1+-0x1160+0x2c97):_0x2ea6b3['primitive'][this['renderStyl'+'e']],_0x2cec1f=this['indirectDa'+'ta']['meshMetaDa'+'ta'];return _0x2cec1f[0x15ff*0x1+-0x1*-0x4d+-0x164c]=_0x946b3e['count'],_0x2cec1f[0x114f+0x540+-0xb47*0x2]=_0x946b3e['base'],_0x2cec1f[0xf8d+0x64b+0x2b*-0x82]=_0x946b3e['baseVertex'],_0x2cec1f;}['_allocIndi'+'rectData'](){this['indirectDa'+'ta']||(this['indirectDa'+'ta']=new AE());}['ensureMate'+'rial'](_0x53f59a){this['material']||(w['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=Qn(_0x53f59a));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x474bd5){return this['parameters'][_0x474bd5];}['setParamet'+'er'](_0x1b5b65,_0x596145,_0x889886=0x1*0x14cd0ad33+-0x1becb894f+-0x4df*-0x4bf445){const _0x21a74a=this['parameters'][_0x1b5b65];_0x21a74a?(_0x21a74a['data']=_0x596145,_0x21a74a['passFlags']=_0x889886):this['parameters'][_0x1b5b65]={'scopeId':null,'data':_0x596145,'passFlags':_0x889886};}['setRealtim'+'eLightmap'](_0x406236,_0xdb79fe){const _0x4e8293=this['getParamet'+'er'](_0x406236);_0x4e8293!==_0xdb79fe&&(_0x4e8293&&zi['decRef'](_0x4e8293['data']),_0xdb79fe?(zi['incRef'](_0xdb79fe),this['setParamet'+'er'](_0x406236,_0xdb79fe)):this['deletePara'+'meter'](_0x406236));}['deletePara'+'meter'](_0x3ccad9){this['parameters'][_0x3ccad9]&&delete this['parameters'][_0x3ccad9];}['setParamet'+'ers'](_0x34a66a,_0x4ff7ed){const _0x33547f=this['parameters'];for(const _0x2924af in _0x33547f){const _0x105923=_0x33547f[_0x2924af];_0x105923['passFlags']&_0x4ff7ed&&(_0x105923['scopeId']||(_0x105923['scopeId']=_0x34a66a['scope']['resolve'](_0x2924af)),_0x105923['scopeId']['setValue'](_0x105923['data']));}}['setLightma'+'pped'](_0x341aeb){_0x341aeb?this['mask']=(this['mask']|di)&-(-0x1643+0x28d*-0x5+-0x159*-0x1a):(this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x2f7*-0xb+-0xe5*0x19+-0x1*-0x36fa],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0xe3*-0x5+-0x1*0x130a+0x177a],null),this['_shaderDef'+'s']&=-(0x1*0x711+-0x626+0xfd6),this['mask']=(this['mask']|Ss)&-(-0xe8*0x11+-0x1cc5+0x2c34));}['setCustomA'+'abb'](_0x3ab333){_0x3ab333?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x3ab333):this['_customAab'+'b']=_0x3ab333['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(-0x2518*-0x1+-0xef0+0x1627*-0x1)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};h(Jr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let He=Jr;const PE=[-0x3d9+-0x10c5+-0x5b*-0x3a,-0x1*-0x1877+-0x4*-0x361+-0x25fa,-0x4*0x2ff+0xaac*0x1+-0x71*-0x3,0x3*0xc93+-0x132e+-0x1289,-0x1351+0x14d6+-0x182,-0x45*0x45+-0x234e+0x8a*0x64],ME=[-0x692+0x337*-0x6+0x19dc,0x1c*0xf9+-0x1*0x58f+-0x15ac,0x1bf7+0x485+-0x2079,-0x14a1+-0x56a+0x1a0b,0x61c+0x772*-0x1+0x45*0x5,-0xe1b*0x2+-0x2*0x4c0+0x8e*0x44],A_=new _i();function C_(_0x5e0d4b,_0x15c009){if(_0x5e0d4b&&!_0x15c009||!_0x5e0d4b&&_0x15c009)return!(0x2*-0xf86+0x3fa+0x1b13);if(_0x5e0d4b=_0x5e0d4b['data'],_0x15c009=_0x15c009['data'],_0x5e0d4b===_0x15c009)return!(0x1ba+0x1*0x6c5+0x2d5*-0x3);if(_0x5e0d4b instanceof Float32Array&&_0x15c009 instanceof Float32Array){if(_0x5e0d4b['length']!==_0x15c009['length'])return!(-0x1d41+0x17fc+-0x1c2*-0x3);for(let _0x142956=-0x3*0x5c4+-0x447+0x1593;_0x142956<_0x5e0d4b['length'];_0x142956++)if(_0x5e0d4b[_0x142956]!==_0x15c009[_0x142956])return!(0x1*-0x2164+-0x2607+0x476c);return!(0xc*-0x2a+0x8e0+-0x6e8);}return!(0x1*0x2273+0x2635+0x48a7*-0x1);}function DE(_0x2b271f,_0x6774d3){for(const _0x4d7de6 in _0x2b271f)if(_0x2b271f['hasOwnProp'+'erty'](_0x4d7de6)&&!C_(_0x2b271f[_0x4d7de6],_0x6774d3[_0x4d7de6]))return!(-0x1*-0x2196+0xd*-0x1a5+-0x4*0x30d);for(const _0x10a16a in _0x6774d3)if(_0x6774d3['hasOwnProp'+'erty'](_0x10a16a)&&!C_(_0x6774d3[_0x10a16a],_0x2b271f[_0x10a16a]))return!(-0x1d09+-0x19e0+-0x12*-0x30d);return!(0x309*0x1+-0x108+-0x201);}function jd(_0x263a95){return _0x263a95['node']['worldTrans'+'form']['scaleSign'];}class IE{constructor(_0x1971ec,_0x5c66d7,_0x3d80cf){this['device']=_0x1971ec,this['rootNode']=_0x5c66d7,this['scene']=_0x3d80cf,this['_init']=!(-0x9c3+0x5bf+-0x3*-0x157),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0x250e+0x1977+-0x3e85,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x23bdac,_0x501aa5,_0x245b3c,_0x26cde6,_0x1ea370){if(_0x26cde6===void(0xc*-0x2fe+0x1f7a+0x46e)&&(_0x26cde6=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x26cde6]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x26cde6+('\x20already\x20e'+'xists.'));return;}const _0x1a3dcc=new St(_0x26cde6,_0x23bdac,_0x501aa5,_0x245b3c,_0x1ea370);return this['_batchGrou'+'ps'][_0x26cde6]=_0x1a3dcc,_0x1a3dcc;}['removeGrou'+'p'](_0x301478){if(!this['_batchGrou'+'ps'][_0x301478]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x301478+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x3dd0ef=[];for(let _0x337a3e=-0x1e1*0x5+-0xa7a+-0x13df*-0x1;_0x337a3e<this['_batchList']['length'];_0x337a3e++)this['_batchList'][_0x337a3e]['batchGroup'+'Id']===_0x301478?this['destroyBat'+'ch'](this['_batchList'][_0x337a3e]):_0x3dd0ef['push'](this['_batchList'][_0x337a3e]);this['_batchList']=_0x3dd0ef,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x301478),delete this['_batchGrou'+'ps'][_0x301478];}['markGroupD'+'irty'](_0x833d9){this['_dirtyGrou'+'ps']['indexOf'](_0x833d9)<-0x1335+0x2551+0x487*-0x4&&this['_dirtyGrou'+'ps']['push'](_0x833d9);}['getGroupBy'+'Name'](_0x2b5756){const _0x1d677c=this['_batchGrou'+'ps'];for(const _0xa73499 in _0x1d677c)if(_0x1d677c['hasOwnProp'+'erty'](_0xa73499)&&_0x1d677c[_0xa73499]['name']===_0x2b5756)return _0x1d677c[_0xa73499];return null;}['getBatches'](_0x584356){const _0x1b2e75=[],_0x490922=this['_batchList']['length'];for(let _0x1a03f3=-0x23b5+0x3cc+-0xaa3*-0x3;_0x1a03f3<_0x490922;_0x1a03f3++){const _0x7474b=this['_batchList'][_0x1a03f3];_0x7474b['batchGroup'+'Id']===_0x584356&&_0x1b2e75['push'](_0x7474b);}return _0x1b2e75;}['_removeMod'+'elsFromBat'+'chGroup'](_0x5756c7,_0x573449){if(_0x5756c7['enabled']){_0x5756c7['model']&&_0x5756c7['model']['batchGroup'+'Id']===_0x573449&&(_0x5756c7['model']['batchGroup'+'Id']=-(0xe98+0xa*0xad+-0x1559)),_0x5756c7['render']&&_0x5756c7['render']['batchGroup'+'Id']===_0x573449&&(_0x5756c7['render']['batchGroup'+'Id']=-(0x203f+0x1eac+-0x3eea)),_0x5756c7['element']&&_0x5756c7['element']['batchGroup'+'Id']===_0x573449&&(_0x5756c7['element']['batchGroup'+'Id']=-(-0x1f88+0x1*0x7ff+-0x83*-0x2e)),_0x5756c7['sprite']&&_0x5756c7['sprite']['batchGroup'+'Id']===_0x573449&&(_0x5756c7['sprite']['batchGroup'+'Id']=-(0x1034+0x19ce+-0x2a01));for(let _0x1190b7=0xbd3*-0x3+-0x311*0x2+-0x299b*-0x1;_0x1190b7<_0x5756c7['_children']['length'];_0x1190b7++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x5756c7['_children'][_0x1190b7],_0x573449);}}['insert'](_0x4320eb,_0x1ee422,_0x18d551){const _0x3e65b5=this['_batchGrou'+'ps'][_0x1ee422];w['assert'](_0x3e65b5,'Invalid\x20ba'+'tch\x20'+_0x1ee422+'\x20insertion'),_0x3e65b5&&_0x3e65b5['_obj'][_0x4320eb]['indexOf'](_0x18d551)<-0x24de+-0x1*0xea3+0x3381&&(_0x3e65b5['_obj'][_0x4320eb]['push'](_0x18d551),this['markGroupD'+'irty'](_0x1ee422));}['remove'](_0x3f0b95,_0x174751,_0x19ae22){const _0xbe448a=this['_batchGrou'+'ps'][_0x174751];if(w['assert'](_0xbe448a,'Invalid\x20ba'+'tch\x20'+_0x174751+'\x20insertion'),_0xbe448a){const _0x349074=_0xbe448a['_obj'][_0x3f0b95]['indexOf'](_0x19ae22);_0x349074>=0x200+-0x32*0xa+-0x6*0x2&&(_0xbe448a['_obj'][_0x3f0b95]['splice'](_0x349074,0x1e51+-0x2*0x1337+0x81e),this['markGroupD'+'irty'](_0x174751));}}['_extractRe'+'nder'](_0x156b76,_0x2f0494,_0xf61045,_0x3faa5c){return _0x156b76['render']&&(_0x2f0494=_0x3faa5c[_0x156b76['render']['batchGroup'+'Id']]=_0x2f0494['concat'](_0x156b76['render']['meshInstan'+'ces']),_0x156b76['render']['removeFrom'+'Layers']()),_0x2f0494;}['_extractMo'+'del'](_0x306b8e,_0x39399b,_0x462799,_0x21c9f5){return _0x306b8e['model']&&_0x306b8e['model']['model']&&(_0x39399b=_0x21c9f5[_0x306b8e['model']['batchGroup'+'Id']]=_0x39399b['concat'](_0x306b8e['model']['meshInstan'+'ces']),_0x306b8e['model']['removeMode'+'lFromLayer'+'s'](),_0x306b8e['model']['_batchGrou'+'p']=_0x462799),_0x39399b;}['_extractEl'+'ement'](_0x22defc,_0x3c9e36,_0x24686c){if(!_0x22defc['element'])return;let _0x25aa87=!(0xf1*-0x19+0x25*-0x10c+0x3e46);_0x22defc['element']['_text']&&_0x22defc['element']['_text']['_model']['meshInstan'+'ces']['length']>0x8*0x4d5+-0x11e3+0x1*-0x14c5?(_0x3c9e36['push'](_0x22defc['element']['_text']['_model']['meshInstan'+'ces'][0x132b*-0x1+-0xa4a+0x1d75]),_0x22defc['element']['removeMode'+'lFromLayer'+'s'](_0x22defc['element']['_text']['_model']),_0x25aa87=!(-0x3d5*0x9+0xa0c+0x1871*0x1)):_0x22defc['element']['_image']&&(_0x3c9e36['push'](_0x22defc['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x22defc['element']['removeMode'+'lFromLayer'+'s'](_0x22defc['element']['_image']['_renderabl'+'e']['model']),_0x22defc['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x3c9e36['push'](_0x22defc['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x22defc['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x22defc['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x22defc['element']['_dirtifyMa'+'sk'](),_0x22defc['element']['_onPrerend'+'er']())),_0x25aa87=!(-0x2399*0x1+-0x976+0xf05*0x3)),_0x25aa87&&(_0x24686c['_ui']=!(-0x1c*-0x6d+0x1b*-0x5b+-0x23*0x11),_0x22defc['element']['_batchGrou'+'p']=_0x24686c);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x50c340,_0x239ada){for(let _0x15f421=-0x1*-0x8b5+0x3d1*-0x5+-0x4*-0x298;_0x15f421<_0x239ada['length'];_0x15f421++){const _0x23b5e3=_0x239ada[_0x15f421],_0x29e50c=this['_batchGrou'+'ps'][_0x23b5e3];if(!_0x29e50c)continue;let _0x46f754=_0x50c340[_0x23b5e3];_0x46f754||(_0x46f754=_0x50c340[_0x23b5e3]=[]);for(let _0xc9800=-0xd*-0x142+0x25a4+-0x1*0x35fe;_0xc9800<_0x29e50c['_obj']['model']['length'];_0xc9800++)_0x46f754=this['_extractMo'+'del'](_0x29e50c['_obj']['model'][_0xc9800],_0x46f754,_0x29e50c,_0x50c340);for(let _0x8cc7b2=-0x19b5+0x1719+-0x14e*-0x2;_0x8cc7b2<_0x29e50c['_obj']['render']['length'];_0x8cc7b2++)_0x46f754=this['_extractRe'+'nder'](_0x29e50c['_obj']['render'][_0x8cc7b2],_0x46f754,_0x29e50c,_0x50c340);for(let _0x49c1d8=-0x1*0x446+0x19*0x29+0x45*0x1;_0x49c1d8<_0x29e50c['_obj']['element']['length'];_0x49c1d8++)this['_extractEl'+'ement'](_0x29e50c['_obj']['element'][_0x49c1d8],_0x46f754,_0x29e50c);for(let _0x57e523=0x4c9+-0x1ccd+0x1804;_0x57e523<_0x29e50c['_obj']['sprite']['length'];_0x57e523++){const _0x2fcf5c=_0x29e50c['_obj']['sprite'][_0x57e523];_0x2fcf5c['sprite']&&_0x2fcf5c['sprite']['_meshInsta'+'nce']&&(_0x29e50c['dynamic']||_0x2fcf5c['sprite']['sprite']['_renderMod'+'e']===ci)&&(_0x46f754['push'](_0x2fcf5c['sprite']['_meshInsta'+'nce']),_0x2fcf5c['sprite']['removeMode'+'lFromLayer'+'s'](),_0x29e50c['_sprite']=!(0x650*-0x1+0x26c6+0x569*-0x6),_0x2fcf5c['sprite']['_batchGrou'+'p']=_0x29e50c);}}}['generate'](_0x80c632){const _0x876589={};_0x80c632||(_0x80c632=Object['keys'](this['_batchGrou'+'ps']));const _0x58eff6=[];for(let _0x16ae70=0x2a0+-0x681*-0x1+0x13*-0x7b;_0x16ae70<this['_batchList']['length'];_0x16ae70++){if(_0x80c632['indexOf'](this['_batchList'][_0x16ae70]['batchGroup'+'Id'])<-0x59*-0x6c+0x1e0b+-0x4397){_0x58eff6['push'](this['_batchList'][_0x16ae70]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x16ae70]);}if(this['_batchList']=_0x58eff6,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x876589,_0x80c632),_0x80c632===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=-0x2572+-0x2183*-0x1+0x13*0x35;else{const _0x323a50=[];for(let _0x815d42=0x1cc1+-0x49*0x33+-0xe36;_0x815d42<this['_dirtyGrou'+'ps']['length'];_0x815d42++)_0x80c632['indexOf'](this['_dirtyGrou'+'ps'][_0x815d42])<0x1c9b+0x14a2+-0x313d&&_0x323a50['push'](this['_dirtyGrou'+'ps'][_0x815d42]);this['_dirtyGrou'+'ps']=_0x323a50;}let _0x11b59e,_0x11dbf8,_0x22c87d,_0x1c2d9b;for(const _0x540e56 in _0x876589)if(_0x876589['hasOwnProp'+'erty'](_0x540e56)){if(_0x11b59e=_0x876589[_0x540e56],_0x22c87d=this['_batchGrou'+'ps'][_0x540e56],!_0x22c87d){w['error']('batch\x20grou'+'p\x20'+_0x540e56+'\x20not\x20found');continue;}_0x11dbf8=this['prepare'](_0x11b59e,_0x22c87d['dynamic'],_0x22c87d['maxAabbSiz'+'e'],_0x22c87d['_ui']||_0x22c87d['_sprite']);for(let _0x51e02b=-0x2dc+-0x271*0xf+0x463*0x9;_0x51e02b<_0x11dbf8['length'];_0x51e02b++)_0x1c2d9b=this['create'](_0x11dbf8[_0x51e02b],_0x22c87d['dynamic'],parseInt(_0x540e56,0x13e7*0x1+-0x1*-0x2225+-0x3602)),_0x1c2d9b&&_0x1c2d9b['addToLayer'+'s'](this['scene'],_0x22c87d['layers']);}}['prepare'](_0x47989a,_0xed4e4,_0x1caae9=Number['POSITIVE_I'+'NFINITY'],_0x193526){if(_0x47989a['length']===-0x1277+0x2a*-0x4c+0x1eef)return[];const _0x320c45=_0x1caae9*(0x1673+0x77*-0x3+0x181*-0xe+0.5),_0x5a317c=-0x178c+0xdcc*0x1+-0x40*-0x37,_0x97637c=0x2f81fce*-0x22+-0xb8435f*-0xf1+0xb77cccec,_0x1e15cf=new De(),_0x3b259f=new De();let _0x5ab138=null,_0x1b0614;const _0x11aa46=[];let _0x98638c=-0x13d+-0x1*0x664+0x7a1;_0x193526&&_0x47989a['sort']((_0x3c1406,_0x4c2290)=>_0x3c1406['drawOrder']-_0x4c2290['drawOrder']);let _0xbbd03c=_0x47989a,_0x49dcf5;const _0xdc4067=_0x193526?function(_0x2dc96a){_0x5ab138?_0x5ab138['add'](_0x2dc96a['aabb']):_0x5ab138=_0x2dc96a['aabb']['clone'](),_0x49dcf5['push'](_0x2dc96a);}:function(_0x373bd7){_0x49dcf5['push'](_0x373bd7);};for(;_0xbbd03c['length']>0x93d*0x3+-0x1728+-0x48f*0x1;){_0x11aa46[_0x98638c]=[_0xbbd03c[-0x26f9+-0x1*0x1c31+0x1*0x432a]],_0x49dcf5=[];const _0x212095=_0xbbd03c[-0xce7*0x1+0x1f7f+0x7*-0x2a8]['material'],_0x1b4d55=_0xbbd03c[0x1*0x64c+0x1663+-0x1caf*0x1]['layer'],_0x141d2b=_0xbbd03c[0xe67*-0x2+0x9a4*-0x2+-0x5*-0x99e]['_shaderDef'+'s'],_0x4ef656=_0xbbd03c[-0x2*-0x49+0x2152+-0x21e4]['parameters'],_0x40ccae=_0xbbd03c[0x1d41+-0x1*-0x10aa+-0x5*0x92f]['stencilFro'+'nt'];let _0x2098e8=_0xbbd03c[0x924+-0x1*0x10b1+0x78d*0x1]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x5eb99b=_0xbbd03c[0x1a5*0x1+-0xe59+0xcb4]['drawOrder'];_0x1e15cf['copy'](_0xbbd03c[-0x11c2+-0x1082+-0x1122*-0x2]['aabb']);const _0x246d30=jd(_0xbbd03c[0x1*-0x19c1+0x9*-0x6b+0x1d84]),_0x18d51c=_0xbbd03c[-0xb70+-0x5*0x1bd+-0x1421*-0x1]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x1b9d45=_0xbbd03c[-0x1*0x74e+0x26c0+-0xaf*0x2e]['mesh']['primitive'][-0x7*0x26c+0x299+0xe5b]['indexed'];_0x5ab138=null;for(let _0x488100=0x16bf+0xb*0x1c4+-0x2a2a;_0x488100<_0xbbd03c['length'];_0x488100++){const _0x5bc18e=_0xbbd03c[_0x488100];if(_0xed4e4&&_0x11aa46[_0x98638c]['length']>=_0x5a317c){_0x49dcf5=_0x49dcf5['concat'](_0xbbd03c['slice'](_0x488100));break;}if(_0x212095!==_0x5bc18e['material']||_0x1b4d55!==_0x5bc18e['layer']||_0x18d51c!==_0x5bc18e['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x1b9d45!==_0x5bc18e['mesh']['primitive'][-0xfb6*0x1+0x83*0x2b+0x219*-0x3]['indexed']||_0x141d2b!==_0x5bc18e['_shaderDef'+'s']||_0x2098e8+_0x5bc18e['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x97637c){_0xdc4067(_0x5bc18e);continue;}if(_0x3b259f['copy'](_0x1e15cf),_0x3b259f['add'](_0x5bc18e['aabb']),_0x3b259f['halfExtent'+'s']['x']>_0x320c45||_0x3b259f['halfExtent'+'s']['y']>_0x320c45||_0x3b259f['halfExtent'+'s']['z']>_0x320c45){_0xdc4067(_0x5bc18e);continue;}if(_0x40ccae&&(!(_0x1b0614=_0x5bc18e['stencilFro'+'nt'])||_0x40ccae['func']!==_0x1b0614['func']||_0x40ccae['zpass']!==_0x1b0614['zpass'])){_0xdc4067(_0x5bc18e);continue;}if(_0x246d30!==jd(_0x5bc18e)){_0xdc4067(_0x5bc18e);continue;}if(!DE(_0x4ef656,_0x5bc18e['parameters'])){_0xdc4067(_0x5bc18e);continue;}if(_0x193526&&_0x5ab138&&_0x5ab138['intersects'](_0x5bc18e['aabb'])&&_0x5bc18e['drawOrder']!==_0x5eb99b){_0xdc4067(_0x5bc18e);continue;}_0x1e15cf['add'](_0x5bc18e['aabb']),_0x2098e8+=_0x5bc18e['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x11aa46[_0x98638c]['push'](_0x5bc18e);}_0x98638c++,_0xbbd03c=_0x49dcf5;}return _0x11aa46;}['collectBat'+'chedMeshDa'+'ta'](_0x28991f,_0x3b3cc3){let _0x48875c=null,_0x546d03=0x582+0x23c*-0xa+0x10d6,_0x41a8ba=-0x18df*0x1+0x636+0x12a9,_0x4d6052=null;for(let _0x1aa188=-0x3f8*-0x1+-0x149f+0x10a7;_0x1aa188<_0x28991f['length'];_0x1aa188++)if(_0x28991f[_0x1aa188]['visible']){const _0x545967=_0x28991f[_0x1aa188]['mesh'],_0x59d527=_0x545967['vertexBuff'+'er']['numVertice'+'s'];if(_0x546d03+=_0x59d527,_0x545967['primitive'][-0x2*0xbcf+0x1c5a+-0x4bc]['indexed'])_0x41a8ba+=_0x545967['primitive'][0x2209+-0x13*-0x1a3+-0x4122]['count'];else{const _0x33ae74=_0x545967['primitive'][-0x238*-0xd+-0x24f1+0x819]['type'];(_0x33ae74===oa||_0x33ae74===Er)&&_0x545967['primitive'][0x1dba+0x1*0x176d+-0x3527]['count']===0x2508+0x2699+-0x4b9d&&(_0x41a8ba+=0xc2f*-0x3+-0x1bf6+0x4089);}if(!_0x48875c){_0x4d6052=_0x28991f[_0x1aa188]['material'],_0x48875c={};const _0x18265f=_0x545967['vertexBuff'+'er']['format']['elements'];for(let _0x23840d=0xd69+-0x11bb+-0xe*-0x4f;_0x23840d<_0x18265f['length'];_0x23840d++){const _0x73ae53=_0x18265f[_0x23840d]['name'];_0x48875c[_0x73ae53]={'numComponents':_0x18265f[_0x23840d]['numCompone'+'nts'],'dataType':_0x18265f[_0x23840d]['dataType'],'normalize':_0x18265f[_0x23840d]['normalize'],'count':0x0};}_0x3b3cc3&&(_0x48875c[us]={'numComponents':0x1,'dataType':Ve,'normalize':!(0x1*0x425+0x813+-0xc37),'count':0x0});}}return{'streams':_0x48875c,'batchNumVerts':_0x546d03,'batchNumIndices':_0x41a8ba,'material':_0x4d6052};}['create'](_0x132623,_0x4ecb93,_0x488093){const _0x29149b=de();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(0xd68+0x417+0x3*-0x5d5));let _0x2177bc=null,_0x26fe9d,_0x41959e,_0x1f5479,_0x4352a6=null;const _0x5cabcf=this['collectBat'+'chedMeshDa'+'ta'](_0x132623,_0x4ecb93);if(_0x5cabcf['streams']){const _0x448082=_0x5cabcf['streams'];let _0x277c5c=_0x5cabcf['material'];const _0x2ac0fd=_0x5cabcf['batchNumVe'+'rts'],_0x551e2c=_0x5cabcf['batchNumIn'+'dices'];_0x4352a6=new g_(_0x132623,_0x4ecb93,_0x488093),this['_batchList']['push'](_0x4352a6);let _0x3f8bf1,_0x147339,_0x1a6bdd,_0x491c2e,_0xf685ec=0x456*0x1+0x7*-0x399+0x3*0x6f3,_0x199ad7=-0x1c0*0xa+-0x16f*0xd+-0x1*-0x2423,_0x4abfec;const _0x346b28=_0x2ac0fd<=0x185d3+-0x4e*0x263+0x3456?Uint16Array:Uint32Array,_0x23e567=new _0x346b28(_0x551e2c);for(_0x26fe9d in _0x448082)_0x2177bc=_0x448082[_0x26fe9d],_0x2177bc['typeArrayT'+'ype']=wn[_0x2177bc['dataType']],_0x2177bc['elementByt'+'eSize']=No[_0x2177bc['dataType']],_0x2177bc['buffer']=new _0x2177bc['typeArrayT'+'ype'](_0x2ac0fd*_0x2177bc['numCompone'+'nts']);for(let _0x271151=0x234+0x17f0+-0x4*0x689;_0x271151<_0x132623['length'];_0x271151++)if(_0x132623[_0x271151]['visible']){_0x41959e=_0x132623[_0x271151]['mesh'],_0x1f5479=_0x41959e['vertexBuff'+'er']['numVertice'+'s'],_0x4ecb93||(_0x4abfec=_0x132623[_0x271151]['node']['getWorldTr'+'ansform']());for(_0x26fe9d in _0x448082)if(_0x26fe9d!==us){_0x2177bc=_0x448082[_0x26fe9d];const _0x1e163d=new _0x2177bc['typeArrayT'+'ype'](_0x2177bc['buffer']['buffer'],_0x2177bc['elementByt'+'eSize']*_0x2177bc['count']),_0x44a1da=_0x41959e['getVertexS'+'tream'](_0x26fe9d,_0x1e163d)*_0x2177bc['numCompone'+'nts'];if(_0x2177bc['count']+=_0x44a1da,!_0x4ecb93&&_0x2177bc['numCompone'+'nts']>=0x7*-0x67+0x697+-0x3c3){if(_0x26fe9d===Me){const _0x269ca3=_0x4abfec['data'],_0xd6cb9f=_0x269ca3[0x7f*-0x1b+-0x9*0x75+0x1182],_0x5570f2=_0x269ca3[-0x7*0x35f+-0x39*-0x96+-0x9cc],_0x2f32a4=_0x269ca3[0x3c9+0x1fe9+-0x23b0],_0x1f9c43=_0x269ca3[-0xd11+-0x22f5+0x2*0x1805],_0x97318c=_0x269ca3[-0x21*0x16+-0x1c54+0x1f2f*0x1],_0x1c458f=_0x269ca3[-0x36d*-0x1+0x229e+-0x1*0x2605],_0x2e2fe1=_0x269ca3[0x26d4+-0xec0+-0x180c],_0x51eed9=_0x269ca3[-0x1*-0xa39+-0x27d+0xdb*-0x9],_0xa914f0=_0x269ca3[0x9a4+-0x385*0x8+0x128e*0x1],_0x5070b1=_0x269ca3[0x5d*0x35+0x7*-0xa0+0xed5*-0x1],_0x4f9064=_0x269ca3[-0x9c8+0x14df+0x9d*-0x12],_0x214ad3=_0x269ca3[-0x152c*0x1+-0xf06+-0x140*-0x1d];let _0x312ade,_0x25c9de,_0x488d62;for(let _0x56c1fd=0x1aec+0x3b4+-0x1ea0;_0x56c1fd<_0x44a1da;_0x56c1fd+=_0x2177bc['numCompone'+'nts'])_0x312ade=_0x1e163d[_0x56c1fd],_0x25c9de=_0x1e163d[_0x56c1fd+(-0x12f3+0x3cd+-0x50d*-0x3)],_0x488d62=_0x1e163d[_0x56c1fd+(-0x1bb0+0x1*0x153+0x1a5f)],_0x1e163d[_0x56c1fd]=_0x312ade*_0xd6cb9f+_0x25c9de*_0x1f9c43+_0x488d62*_0x2e2fe1+_0x5070b1,_0x1e163d[_0x56c1fd+(-0x9bc*0x4+0x2590+0x161)]=_0x312ade*_0x5570f2+_0x25c9de*_0x97318c+_0x488d62*_0x51eed9+_0x4f9064,_0x1e163d[_0x56c1fd+(0x24f+0x18da+-0x1b27)]=_0x312ade*_0x2f32a4+_0x25c9de*_0x1c458f+_0x488d62*_0xa914f0+_0x214ad3;}else{if(_0x26fe9d===gs||_0x26fe9d===yi){A_['invertMat4'](_0x4abfec)['transpose']();const [_0x8e3d4b,_0xe1a57b,_0x4a54f9,_0x458663,_0x5be277,_0x666914,_0x3d3871,_0x1dcda5,_0x4906a6]=A_['data'];let _0x54e763,_0xba345c,_0xe7764;for(let _0x37d17e=-0x799*0x1+0x20e6+-0x194d;_0x37d17e<_0x44a1da;_0x37d17e+=_0x2177bc['numCompone'+'nts'])_0x54e763=_0x1e163d[_0x37d17e],_0xba345c=_0x1e163d[_0x37d17e+(-0xdc9+0x264b+0x1*-0x1881)],_0xe7764=_0x1e163d[_0x37d17e+(0x39d+0x1422+-0x17bd)],_0x1e163d[_0x37d17e]=_0x54e763*_0x8e3d4b+_0xba345c*_0x458663+_0xe7764*_0x3d3871,_0x1e163d[_0x37d17e+(0x60f+0x1934+0x2*-0xfa1)]=_0x54e763*_0xe1a57b+_0xba345c*_0x5be277+_0xe7764*_0x1dcda5,_0x1e163d[_0x37d17e+(0x3db+0x2022+-0x23fb)]=_0x54e763*_0x4a54f9+_0xba345c*_0x666914+_0xe7764*_0x4906a6;}}}}if(_0x4ecb93){_0x2177bc=_0x448082[us];for(let _0x477e26=0x1e71+-0x2*0x8fd+-0xc77;_0x477e26<_0x1f5479;_0x477e26++)_0x2177bc['buffer'][_0x2177bc['count']++]=_0x271151;}if(_0x41959e['primitive'][-0x34d*-0xb+0x85*-0x1c+0x15c3*-0x1]['indexed']){_0x3f8bf1=_0x41959e['primitive'][0x279+0x1710+0x3*-0x883]['base'],_0x147339=_0x41959e['primitive'][-0x229f+0x1081+0x2*0x90f]['baseVertex']||-0x237e+-0x1*0xdb+0x2459,_0x1a6bdd=_0x41959e['primitive'][0x19bd+-0x2*0x3e3+-0x11f7]['count'];const _0x149e59=_0x41959e['indexBuffe'+'r'][-0x22*0xcb+0x2691+-0xb9b*0x1]['getFormat']();_0x491c2e=new Sh[_0x149e59](_0x41959e['indexBuffe'+'r'][-0x21d7+0x560+0x1c77]['storage']);}else{_0x147339=-0x6d3*0x1+0xf68*0x2+-0x17fd*0x1;const _0x3f2930=_0x41959e['primitive'][0x8c*0x3a+-0x9*0x2dd+-0x5f3]['type'];if(_0x3f2930===oa||_0x3f2930===Er){if(_0x41959e['primitive'][0x1a12*-0x1+0x2299+-0x887]['count']===-0x6*-0x616+-0x26b6+0x11b*0x2)_0x3f8bf1=0xc02+0x1ef7+0x13*-0x243,_0x1a6bdd=0x188f*-0x1+-0x5*0x511+0x31ea,_0x491c2e=_0x3f2930===oa?PE:ME;else{_0x1a6bdd=0x4*-0x6fb+0x6bb*0x5+0x9*-0xa3;continue;}}}for(let _0x383e23=0x1b7c+-0x457+0x3*-0x7b7;_0x383e23<_0x1a6bdd;_0x383e23++)_0x23e567[_0x383e23+_0x199ad7]=_0x491c2e[_0x3f8bf1+_0x383e23]+_0x147339+_0xf685ec;_0x199ad7+=_0x1a6bdd,_0xf685ec+=_0x1f5479;}_0x41959e=new Ge(this['device']);for(_0x26fe9d in _0x448082)_0x2177bc=_0x448082[_0x26fe9d],_0x41959e['setVertexS'+'tream'](_0x26fe9d,_0x2177bc['buffer'],_0x2177bc['numCompone'+'nts'],void(0x29e*-0x5+0x33a*-0x8+-0x1a*-0x17f),_0x2177bc['dataType'],_0x2177bc['normalize']);_0x23e567['length']>0x3*0x5d4+-0x12e9*0x1+-0x1*-0x16d&&_0x41959e['setIndices'](_0x23e567),_0x41959e['update'](js,!(-0x185a+-0x2690+0x3eeb)),_0x4ecb93&&(_0x277c5c=_0x277c5c['clone'](),_0x277c5c['update']());const _0x403739=new He(_0x41959e,_0x277c5c,this['rootNode']);_0x403739['castShadow']=_0x4352a6['origMeshIn'+'stances'][0xf0+0x1d39*0x1+0x1e29*-0x1]['castShadow'],_0x403739['parameters']=_0x4352a6['origMeshIn'+'stances'][0x1*-0xba4+-0x1f7*0x1+0xd9b]['parameters'],_0x403739['layer']=_0x4352a6['origMeshIn'+'stances'][-0x83*-0x42+-0x1*-0x10ec+-0x32b2]['layer'],_0x403739['_shaderDef'+'s']=_0x4352a6['origMeshIn'+'stances'][0x3e*-0x1e+-0x208a+0x27ce]['_shaderDef'+'s'],_0x403739['batching']=!(0x1*0x12cf+0xb2c+-0x1dfb),_0x403739['cull']=_0x4352a6['origMeshIn'+'stances'][0x3*-0xb89+-0x1be2*0x1+0x3e7d]['cull'];const _0xd80fce=this['_batchGrou'+'ps'][_0x488093];if(_0xd80fce&&_0xd80fce['_ui']&&(_0x403739['cull']=!(0x217e+-0xda5+0x1fc*-0xa)),_0x4ecb93){const _0x152a74=[];for(let _0x1e0173=-0x1b16+-0x147f*0x1+0x2f95*0x1;_0x1e0173<_0x4352a6['origMeshIn'+'stances']['length'];_0x1e0173++)_0x152a74['push'](_0x4352a6['origMeshIn'+'stances'][_0x1e0173]['node']);_0x403739['skinInstan'+'ce']=new y_(this['device'],_0x152a74,this['rootNode']);}_0x403739['_updateAab'+'b']=!(-0x3*-0xbe3+-0x3ed+-0x1fbb*0x1),_0x403739['drawOrder']=_0x4352a6['origMeshIn'+'stances'][0x1ea5+0x40f*0x1+-0x22b4]['drawOrder'],_0x403739['stencilFro'+'nt']=_0x4352a6['origMeshIn'+'stances'][0x118a+0x3*0x828+0x1501*-0x2]['stencilFro'+'nt'],_0x403739['stencilBac'+'k']=_0x4352a6['origMeshIn'+'stances'][-0x1c1*-0x3+-0xe1*0x7+0xe4]['stencilBac'+'k'],_0x403739['flipFacesF'+'actor']=jd(_0x4352a6['origMeshIn'+'stances'][-0x76d+0x768+-0x5*-0x1]),_0x403739['castShadow']=_0x4352a6['origMeshIn'+'stances'][0x1e*0x9+0x37*0xa7+-0x24ef]['castShadow'],_0x4352a6['meshInstan'+'ce']=_0x403739,_0x4352a6['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=de()-_0x29149b,_0x4352a6;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>0x19fc*-0x1+0x1aef+-0xf3&&this['generate'](this['_dirtyGrou'+'ps']);const _0x22522c=de();for(let _0x2b3eba=0x785+-0x145*0x11+0xe10;_0x2b3eba<this['_batchList']['length'];_0x2b3eba++)this['_batchList'][_0x2b3eba]['dynamic']&&this['_batchList'][_0x2b3eba]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=de()-_0x22522c;}['clone'](_0x2cd4e0,_0x5df768){const _0x588133=new g_(_0x5df768,_0x2cd4e0['dynamic'],_0x2cd4e0['batchGroup'+'Id']);this['_batchList']['push'](_0x588133);const _0x44b3a0=[];for(let _0x3971ce=0x1*0x1b95+-0x1c9*-0x11+-0x39ee;_0x3971ce<_0x5df768['length'];_0x3971ce++)_0x44b3a0['push'](_0x5df768[_0x3971ce]['node']);return _0x588133['meshInstan'+'ce']=new He(_0x2cd4e0['meshInstan'+'ce']['mesh'],_0x2cd4e0['meshInstan'+'ce']['material'],_0x2cd4e0['meshInstan'+'ce']['node']),_0x588133['meshInstan'+'ce']['_updateAab'+'b']=!(0x86*0x28+-0xbd*-0x1b+0x146f*-0x2),_0x588133['meshInstan'+'ce']['parameters']=_0x5df768[0x1621+0x2*-0x10f+-0x1403]['parameters'],_0x588133['meshInstan'+'ce']['cull']=_0x5df768[0x238+-0x4f5*-0x1+-0x1*0x72d]['cull'],_0x588133['meshInstan'+'ce']['layer']=_0x5df768[0x1*0x1b23+-0xd*-0x261+0x4*-0xe84]['layer'],_0x2cd4e0['dynamic']&&(_0x588133['meshInstan'+'ce']['skinInstan'+'ce']=new y_(this['device'],_0x44b3a0,this['rootNode'])),_0x588133['meshInstan'+'ce']['castShadow']=_0x2cd4e0['meshInstan'+'ce']['castShadow'],_0x588133;}['destroyBat'+'ch'](_0x4f1f0b){_0x4f1f0b['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x4f1f0b['batchGroup'+'Id']]['layers']);}}const P_='uSceneColo'+'rMap';class LE extends ys{constructor(){super(...arguments),h(this,'colorRende'+'rTarget',null),h(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x4d02aa,_0x24a859,_0x3e3aac){if((_0x4d02aa==null?void(0xe75*-0x2+0x23b2+-0x8*0xd9):_0x4d02aa['colorBuffe'+'r']['format'])!==_0x3e3aac)return!(-0x2d3+-0x417*0x5+-0x1746*-0x1);const _0x4926e3=(_0x24a859==null?void(0x7*-0x1f2+0x6*-0x5b2+0x2fca):_0x24a859['width'])||this['device']['width'],_0x2ef1fa=(_0x24a859==null?void(-0x81*0x31+0x3*0x44b+-0x17a*-0x8):_0x24a859['height'])||this['device']['height'];return!_0x4d02aa||_0x4926e3!==_0x4d02aa['width']||_0x2ef1fa!==_0x4d02aa['height'];}['allocateRe'+'nderTarget'](_0x126cbe,_0x5d0acf,_0x3319c0,_0x45d08f){const _0x380de1=new _e(_0x3319c0,{'name':P_,'format':_0x45d08f,'width':_0x5d0acf?_0x5d0acf['colorBuffe'+'r']['width']:_0x3319c0['width'],'height':_0x5d0acf?_0x5d0acf['colorBuffe'+'r']['height']:_0x3319c0['height'],'mipmaps':!(0xd7*-0x21+-0xe03+0x29ba),'minFilter':ma,'magFilter':vt,'addressU':ue,'addressV':ue});return _0x126cbe?(_0x126cbe['destroyFra'+'meBuffers'](),_0x126cbe['_colorBuff'+'er']=_0x380de1,_0x126cbe['_colorBuff'+'ers']=[_0x380de1]):_0x126cbe=new gt({'name':'ColorGrabR'+'T','colorBuffer':_0x380de1,'depth':!(0x1bb*-0x5+-0x19b3+0x225b),'stencil':!(0x9d8+0xdb*-0x29+0x193c),'autoResolve':!(-0x24b3+-0x2f9*-0x1+0x21bb)}),_0x126cbe;}['releaseRen'+'derTarget'](_0x33087c){_0x33087c&&(_0x33087c['destroyTex'+'tureBuffer'+'s'](),_0x33087c['destroy']());}['frameUpdat'+'e'](){const _0x135831=this['device'],_0x369aec=this['source'],_0x4ab78a=(_0x369aec==null?void(-0x1*0x1277+-0x1d55+0x2fcc):_0x369aec['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x369aec==null?void(0x4*0x1e+-0x1*-0x227a+-0x5d3*0x6):_0x369aec['colorBuffe'+'r'],_0x4ab78a)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x369aec,_0x135831,_0x4ab78a));const _0x1071d7=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x135831['scope']['resolve'](P_)['setValue'](_0x1071d7);}['execute'](){const _0x5b4e33=this['device'];Q['pushGpuMar'+'ker'](_0x5b4e33,'GRAB-COLOR');const _0x2e4bbf=this['source'],_0x5da08e=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x5b4e33['isWebGPU']?(_0x5b4e33['copyRender'+'Target'](_0x2e4bbf,this['colorRende'+'rTarget'],!(0x11*-0x1fd+-0x163+0x2330),!(0x3*0x1ff+0x1754+-0x1*0x1d50)),_0x5b4e33['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x5b4e33['copyRender'+'Target'](_0x2e4bbf,this['colorRende'+'rTarget'],!(-0x103a+0x1553+-0x519),!(-0x1*-0x1e9d+0x2fe*-0x6+0xca8*-0x1)),_0x5b4e33['activeText'+'ure'](_0x5b4e33['maxCombine'+'dTextures']-(0xb8*-0x2e+0x1*-0x22be+-0x1*-0x43cf)),_0x5b4e33['bindTextur'+'e'](_0x5da08e),_0x5b4e33['gl']['generateMi'+'pmap'](_0x5da08e['impl']['_glTarget'])),Q['popGpuMark'+'er'](_0x5b4e33);}}const M_='uSceneDept'+'hMap';class RE extends ys{constructor(_0x21d1c5,_0x90f3e5){super(_0x21d1c5),h(this,'depthRende'+'rTarget',null),h(this,'camera',null),this['camera']=_0x90f3e5;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x533191,_0x452f12){const _0x46fae6=(_0x452f12==null?void(-0x3a5*0x5+0x21e0+-0xfa7):_0x452f12['width'])||this['device']['width'],_0x1a26b8=(_0x452f12==null?void(-0x3*0x115+0x14cc+0x1*-0x118d):_0x452f12['height'])||this['device']['height'];return!_0x533191||_0x46fae6!==_0x533191['width']||_0x1a26b8!==_0x533191['height'];}['allocateRe'+'nderTarget'](_0x9910dc,_0x31b683,_0x275401,_0x211eab,_0xe04a8b){const _0x4f158a=new _e(_0x275401,{'name':M_,'format':_0x211eab,'width':_0x31b683?_0x31b683['colorBuffe'+'r']['width']:_0x275401['width'],'height':_0x31b683?_0x31b683['colorBuffe'+'r']['height']:_0x275401['height'],'mipmaps':!(-0x752+-0xe9*0xf+-0x3*-0x6fe),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});return _0x9910dc?(_0x9910dc['destroyFra'+'meBuffers'](),_0xe04a8b?_0x9910dc['_depthBuff'+'er']=_0x4f158a:(_0x9910dc['_colorBuff'+'er']=_0x4f158a,_0x9910dc['_colorBuff'+'ers']=[_0x4f158a])):_0x9910dc=new gt({'name':'DepthGrabR'+'T','colorBuffer':_0xe04a8b?null:_0x4f158a,'depthBuffer':_0xe04a8b?_0x4f158a:null,'depth':!_0xe04a8b,'stencil':_0x275401['supportsSt'+'encil'],'autoResolve':!(0x998*-0x2+0x3e7*-0x7+0x2e82)}),_0x9910dc;}['releaseRen'+'derTarget'](_0x3b4e39){_0x3b4e39&&(_0x3b4e39['destroyTex'+'tureBuffer'+'s'](),_0x3b4e39['destroy']());}['before'](){var _0x521476,_0x53c40b;const _0x471915=this['camera'],_0x579cd7=this['device'],_0x4514d4=(_0x471915==null?void(-0x2*0x3a1+0x1f77+-0x1835):_0x471915['renderTarg'+'et'])??_0x579cd7['backBuffer'];let _0x166215=!(-0x2*-0x79d+-0x1a11*0x1+0x1*0xad7),_0x5d857b=_0x4514d4['stencil']?sd:$i;_0x579cd7['isWebGPU']&&_0x4514d4['samples']>0xb38*-0x1+0xb42+-0x9&&(_0x5d857b=Ji,_0x166215=!(-0x1*-0x752+-0x47*-0x56+0x1f2b*-0x1));const _0x5e0ea2=((_0x521476=_0x471915['renderTarg'+'et'])==null?void(-0x2282+-0x4*0x216+-0x156d*-0x2):_0x521476['depthBuffe'+'r'])??((_0x53c40b=_0x471915['renderTarg'+'et'])==null?void(0x9*0x433+-0xc91+-0x193a):_0x53c40b['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x5e0ea2)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x471915['renderTarg'+'et'],_0x579cd7,_0x5d857b,_0x166215));const _0x5cbded=_0x166215?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x579cd7['scope']['resolve'](M_)['setValue'](_0x5cbded);}['execute'](){const _0xf149f7=this['device'];if(Q['pushGpuMar'+'ker'](_0xf149f7,'GRAB-DEPTH'),_0xf149f7['isWebGL2']&&_0xf149f7['renderTarg'+'et']['samples']>-0x96*-0x23+0x1b4+-0x1635){const _0x2ef1af=_0xf149f7['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x56477e=this['depthRende'+'rTarget'];_0xf149f7['renderTarg'+'et']=_0x56477e,_0xf149f7['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0xf149f7,_0x2ef1af,_0x56477e['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0xf149f7['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0xf149f7['copyRender'+'Target'](_0xf149f7['renderTarg'+'et'],this['depthRende'+'rTarget'],!(0x77*-0x22+-0x53*0x6+0x3*0x5eb),!(-0x4bf+-0x575*0x1+0xa34));Q['popGpuMark'+'er'](_0xf149f7);}}class vv{constructor(){h(this,'_gammaCorr'+'ection',Xc),h(this,'_toneMappi'+'ng',sm),h(this,'_srgbRende'+'rTarget',!(0x5a5+0x2306+-0x28aa)),h(this,'_ssaoEnabl'+'ed',!(-0x1ef0+0x72f*-0x2+0x679*0x7)),h(this,'_fog',Kn),h(this,'_sceneDept'+'hMapLinear',!(-0x172c+-0xa*0xb+0x179b)),h(this,'_hash'),h(this,'_defines',new Map()),h(this,'_definesDi'+'rty',!(0x4f7*0x1+0x4ea+0x3*-0x34b));}get['hash'](){if(this['_hash']===void(-0x26db+0x1fd9+0x702)){const _0x5e60f7=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hi(_0x5e60f7);}return this['_hash'];}get['defines'](){const _0x329da5=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x2*0x184+-0x29*-0x6b+0xb2*-0x1d),_0x329da5['clear'](),this['_sceneDept'+'hMapLinear']&&_0x329da5['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(0x1c6*0x11+0x236*-0x4+-0x1*0x154e)),_0x329da5['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x329da5['set']('TONEMAP',ov[this['_toneMappi'+'ng']]),_0x329da5['set']('GAMMA',Hw[this['shaderOutp'+'utGamma']])),_0x329da5;}['markDirty'](){this['_hash']=void(-0x1*-0x1ce9+-0x5*-0x359+-0x2da6),this['_definesDi'+'rty']=!(-0xce*0x12+0x145e+-0x5e2);}set['fog'](_0x570716){this['_fog']!==_0x570716&&(this['_fog']=_0x570716,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x137c53){this['_ssaoEnabl'+'ed']!==_0x137c53&&(this['_ssaoEnabl'+'ed']=_0x137c53,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x2158b1){this['_gammaCorr'+'ectionAssi'+'gned']=!(0x2*0xea5+0x1110+0x172d*-0x2),this['_gammaCorr'+'ection']!==_0x2158b1&&(this['_gammaCorr'+'ection']=_0x2158b1,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x5cb4a5){this['_toneMappi'+'ng']!==_0x5cb4a5&&(this['_toneMappi'+'ng']=_0x5cb4a5,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0xed5dfd){this['_srgbRende'+'rTarget']!==_0xed5dfd&&(this['_srgbRende'+'rTarget']=_0xed5dfd,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x5baf93){this['_sceneDept'+'hMapLinear']!==_0x5baf93&&(this['_sceneDept'+'hMapLinear']=_0x5baf93,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===Xc&&!this['_srgbRende'+'rTarget']?Xc:Ll;}}const La=new D(),ao=new D(),D_=new D(),I_=new te(),OE=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()];class Fl{constructor(){h(this,'shaderPass'+'Info',null),h(this,'renderPass'+'ColorGrab',null),h(this,'renderPass'+'DepthGrab',null),h(this,'fogParams',null),h(this,'shaderPara'+'ms',new vv()),h(this,'renderPass'+'es',[]),h(this,'jitter',0x12f9+0x1ff2+-0x5*0xa2f),(this['_aspectRat'+'io']=(-0x224b*0x1+-0x3*0x6f3+0x3734)/(0x1697+-0x831+-0xe5d),this['_aspectRat'+'ioMode']=hm,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new ie(-0xa75+-0x7*-0x1e+0x9a3+0.75,0x5*-0x6a0+-0x12b6+-0x33d6*-0x1+0.75,0x1*0x1c27+0xfe0+0x27*-0x121+0.75,-0x853*-0x1+0x341*0x6+-0x1bd8),this['_clearColo'+'rBuffer']=!(0x1*-0x646+0x1f37+-0x18f1*0x1),this['_clearDept'+'h']=-0x574+-0x164e+0x1bc3,this['_clearDept'+'hBuffer']=!(0x16f2+0x15aa+0x8ec*-0x5),this['_clearSten'+'cil']=-0x20*-0x8+-0x1*-0x16d2+-0x17d2,this['_clearSten'+'cilBuffer']=!(0x337+-0x2ce*-0x8+-0x21*0xc7),this['_cullFaces']=!(-0x92f*-0x1+-0xbf+-0x168*0x6),this['_farClip']=-0x20f3*0x1+-0x12b+-0x1f*-0x13a,this['_flipFaces']=!(-0x3*0x787+0x24c4+0x16b*-0xa),this['_fov']=-0xcb+0x1cb8+0x4a*-0x60,this['_frustumCu'+'lling']=!(-0x2*-0xb71+-0x1d*-0xe3+-0x1ad*0x1d),this['_horizonta'+'lFov']=!(-0x1a83*0x1+0x5b3*-0x5+-0x1*-0x3703),this['_layers']=[er,ps,Kp,Il,Zp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=-0x1292+0x4a+0x1248*0x1+0.1,this['_node']=null,this['_orthoHeig'+'ht']=-0x54*0x61+0x1ebe+0x10*0x12,this['_projectio'+'n']=ni,this['_rect']=new re(-0x19b0+0x60*-0x1+-0x8*-0x342,-0x10d2+0xfe4+0xee,-0x32*0x96+-0xf1f+-0x2*-0x1636,-0x2060+-0x1700+0x3761*0x1),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new re(0x2023+0xe7c+-0x2e9f,0x1*-0x2b3+-0x926*0x1+-0x3f3*-0x3,-0x37e+-0x1a6a*-0x1+-0x1*0x16eb,0x1*-0x2287+0xbee*0x1+0x169a),this['_scissorRe'+'ctClear']=!(0x6e1+-0x1*0x111f+0xa3f),this['_aperture']=-0x1def+-0x11*0x35+0x2184,this['_shutter']=(0x1572+0x4a9+0x1a1a*-0x1)/(0x2590+-0x6*0x16b+0x4a*-0x57),this['_sensitivi'+'ty']=-0x8ca+0x21c4*-0x1+0x139*0x26,this['_projMat']=new te(),this['_projMatDi'+'rty']=!(-0x5*-0x5f7+0x2479*-0x1+0x17*0x4a),this['_projMatSk'+'ybox']=new te(),this['_viewMat']=new te(),this['_viewMatDi'+'rty']=!(-0x22*-0x3d+0x1a9a+0x4*-0x8ad),this['_viewProjM'+'at']=new te(),this['_viewProjM'+'atDirty']=!(0x1*-0x185+0x1*0x1eef+-0x6*0x4e7),this['_shaderMat'+'ricesVersi'+'on']=-0xa01*0x1+-0x1*0x33b+0xd3c,this['_viewProjI'+'nverse']=new te(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new te(),this['_jitters']=[0x1241+0x197d+-0x2bbe,0x2599*0x1+0x170a+-0x1*0x3ca3,-0xcb2+0x7a6+0x2*0x286,0x3c4+0x13a9+-0x176d*0x1],this['frustum']=new yx(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x5ceeb4,_0x5c021c;(_0x5ceeb4=this['renderPass'+'ColorGrab'])==null||_0x5ceeb4['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x5c021c=this['renderPass'+'DepthGrab'])==null||_0x5c021c['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=-0xcbe+0x2620+-0x1962;}['_storeShad'+'erMatrices'](_0xdf4521,_0x54ae84,_0x190e4f,_0x4f3415){this['_shaderMat'+'ricesVersi'+'on']!==_0x4f3415&&(this['_shaderMat'+'ricesVersi'+'on']=_0x4f3415,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0xdf4521),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new te()),this['_viewProjC'+'urrent']['copy'](_0xdf4521),this['_viewProjI'+'nverse']['invert'](_0xdf4521),this['_jitters'][-0x1*0x5a3+0xc40+0x1*-0x69b]=this['_jitters'][-0x3b3*0x3+-0xdc8+0x84b*0x3],this['_jitters'][-0x1f90+0x2*0x221+-0x7*-0x3e7]=this['_jitters'][0x179d+0x2335+-0x689*0x9],this['_jitters'][0x11*-0x3d+0xff9*-0x1+0x1406]=_0x54ae84,this['_jitters'][-0x2*-0x5c1+0x4*0x2c+0xc31*-0x1]=_0x190e4f);}get['fullSizeCl'+'earRect'](){const _0x5b5d35=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x5b5d35['x']===0x6e*-0x5a+-0x211+-0x1*-0x28bd&&_0x5b5d35['y']===0x913+0x26ef+-0x3002&&_0x5b5d35['z']===0x972+0x2cf*-0x3+0x4*-0x41&&_0x5b5d35['w']===-0x1e80+0x233b*-0x1+0x964*0x7;}set['aspectRati'+'o'](_0x36ce3b){this['_aspectRat'+'io']!==_0x36ce3b&&(this['_aspectRat'+'io']=_0x36ce3b,this['_projMatDi'+'rty']=!(-0x2247+-0x613+0x285a));}get['aspectRati'+'o'](){var _0x3dd8dd;return(_0x3dd8dd=this['xr'])!=null&&_0x3dd8dd['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x15af8a){this['_aspectRat'+'ioMode']!==_0x15af8a&&(this['_aspectRat'+'ioMode']=_0x15af8a,this['_projMatDi'+'rty']=!(0x1*-0x18ca+0x94*-0x30+0x10d*0x32));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x37e21e){this['_calculate'+'Projection']=_0x37e21e,this['_projMatDi'+'rty']=!(0x1*0x1381+-0x1d39+0x9b8);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x513221){this['_calculate'+'Transform']=_0x513221;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x2233fc){this['_clearColo'+'r']['copy'](_0x2233fc);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x3ff967){this['_clearColo'+'rBuffer']=_0x3ff967;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x459aeb){this['_clearDept'+'h']=_0x459aeb;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0xc6becc){this['_clearDept'+'hBuffer']=_0xc6becc;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x2469b5){this['_clearSten'+'cil']=_0x2469b5;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x4b4122){this['_clearSten'+'cilBuffer']=_0x4b4122;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x1ca706){this['_cullFaces']=_0x1ca706;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x54f0cf){this['_farClip']!==_0x54f0cf&&(this['_farClip']=_0x54f0cf,this['_projMatDi'+'rty']=!(0x1d23*0x1+-0xdb1+-0xf72));}get['farClip'](){var _0x4dd00e;return(_0x4dd00e=this['xr'])!=null&&_0x4dd00e['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x44a6cd){this['_flipFaces']=_0x44a6cd;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x1c587e){this['_fov']!==_0x1c587e&&(this['_fov']=_0x1c587e,this['_projMatDi'+'rty']=!(-0x3*-0x8d+-0x1cdb+0x6cd*0x4));}get['fov'](){var _0x15ac72;return(_0x15ac72=this['xr'])!=null&&_0x15ac72['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x16e0fe){this['_frustumCu'+'lling']=_0x16e0fe;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0xe018e1){this['_horizonta'+'lFov']!==_0xe018e1&&(this['_horizonta'+'lFov']=_0xe018e1,this['_projMatDi'+'rty']=!(0x1*0xdac+0x48b*0x4+-0x1fd8));}get['horizontal'+'Fov'](){var _0x36c34c;return(_0x36c34c=this['xr'])!=null&&_0x36c34c['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x2dba35){this['_layers']=_0x2dba35['slice'](-0x123f+0x1*-0xaf6+0x1d35),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x138a9c){this['_nearClip']!==_0x138a9c&&(this['_nearClip']=_0x138a9c,this['_projMatDi'+'rty']=!(-0x169*0xe+-0x1*0xaab+0x1e69));}get['nearClip'](){var _0x29f8a;return(_0x29f8a=this['xr'])!=null&&_0x29f8a['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x30473e){this['_node']=_0x30473e;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x2842aa){this['_orthoHeig'+'ht']!==_0x2842aa&&(this['_orthoHeig'+'ht']=_0x2842aa,this['_projMatDi'+'rty']=!(-0x23d7+0x633*0x1+0x1c*0x10f));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x21290d){this['_projectio'+'n']!==_0x21290d&&(this['_projectio'+'n']=_0x21290d,this['_projMatDi'+'rty']=!(0x1a4e+-0xb6e+-0x44*0x38));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x5c6bb7){this['_rect']['copy'](_0x5c6bb7);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x422a8b){this['_renderTar'+'get']=_0x422a8b;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x9e937e){this['_scissorRe'+'ct']['copy'](_0x9e937e);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x3ec1c5=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x3ec1c5)['invert'](),this['_viewMatDi'+'rty']=!(0x111a+0x1*-0xfc9+0x8*-0x2a);}return this['_viewMat'];}set['aperture'](_0x1d9f7e){this['_aperture']=_0x1d9f7e;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0xdc048){this['_sensitivi'+'ty']=_0xdc048;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x30db34){this['_shutter']=_0x30db34;}get['shutter'](){return this['_shutter'];}set['xr'](_0x2b64e9){this['_xr']!==_0x2b64e9&&(this['_xr']=_0x2b64e9,this['_projMatDi'+'rty']=!(-0x1f97*-0x1+-0x1632*0x1+-0x965));}get['xr'](){return this['_xr'];}['clone'](){return new Fl()['copy'](this);}['copy'](_0xb99c83){return this['_aspectRat'+'io']=_0xb99c83['_aspectRat'+'io'],this['_farClip']=_0xb99c83['_farClip'],this['_fov']=_0xb99c83['_fov'],this['_horizonta'+'lFov']=_0xb99c83['_horizonta'+'lFov'],this['_nearClip']=_0xb99c83['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0xb99c83['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0xb99c83['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0xb99c83['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0xb99c83['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0xb99c83['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0xb99c83['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0xb99c83['calculateP'+'rojection'],this['calculateT'+'ransform']=_0xb99c83['calculateT'+'ransform'],this['clearColor']=_0xb99c83['clearColor'],this['clearColor'+'Buffer']=_0xb99c83['clearColor'+'Buffer'],this['clearDepth']=_0xb99c83['clearDepth'],this['clearDepth'+'Buffer']=_0xb99c83['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0xb99c83['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0xb99c83['clearStenc'+'ilBuffer'],this['cullFaces']=_0xb99c83['cullFaces'],this['flipFaces']=_0xb99c83['flipFaces'],this['frustumCul'+'ling']=_0xb99c83['frustumCul'+'ling'],this['layers']=_0xb99c83['layers'],this['orthoHeigh'+'t']=_0xb99c83['orthoHeigh'+'t'],this['projection']=_0xb99c83['projection'],this['rect']=_0xb99c83['rect'],this['renderTarg'+'et']=_0xb99c83['renderTarg'+'et'],this['scissorRec'+'t']=_0xb99c83['scissorRec'+'t'],this['aperture']=_0xb99c83['aperture'],this['shutter']=_0xb99c83['shutter'],this['sensitivit'+'y']=_0xb99c83['sensitivit'+'y'],this['shaderPass'+'Info']=_0xb99c83['shaderPass'+'Info'],this['jitter']=_0xb99c83['jitter'],this['_projMatDi'+'rty']=!(-0x7bb*0x2+-0x2*0xa39+0x23e8),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x70f556,_0x23caae){var _0x212965;_0x23caae?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new LE(_0x70f556)):((_0x212965=this['renderPass'+'ColorGrab'])==null||_0x212965['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0xa4584f,_0x1f1f86,_0x27189d){var _0x3ccacd;_0x27189d?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new RE(_0xa4584f,this)):((_0x3ccacd=this['renderPass'+'DepthGrab'])==null||_0x3ccacd['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0x102c+0x1*-0x10d6+0x2103));}['worldToScr'+'een'](_0x24cfec,_0x46b357,_0x5909a0,_0x21a8db=new D()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x24cfec,_0x21a8db);const _0x38efa9=this['_viewProjM'+'at']['data'],_0x201a5d=_0x24cfec['x']*_0x38efa9[0x110d*-0x1+-0x1*-0x2272+-0x1162]+_0x24cfec['y']*_0x38efa9[-0x1*0x1886+0x25e5+-0xd58]+_0x24cfec['z']*_0x38efa9[-0x631+-0x2349+0x2985]+(-0x1adf*0x1+0x162f+0x1*0x4b1)*_0x38efa9[0x1cdf+0x1c7c+0x304*-0x13];_0x21a8db['x']=(_0x21a8db['x']/_0x201a5d+(-0x9b8+0x325+0x4*0x1a5))*(-0x1be*-0xd+0xc20+-0x1163*0x2+0.5),_0x21a8db['y']=(-0x18e+0x4db*0x1+-0x34c-_0x21a8db['y']/_0x201a5d)*(0x1a3*-0x6+0x6e7+0x2eb+0.5);const {x:_0x1f5a5b,y:_0x1ad5fc,z:_0x1579fc,w:_0x57994b}=this['_rect'];return _0x21a8db['x']=_0x21a8db['x']*_0x1579fc*_0x46b357+_0x1f5a5b*_0x46b357,_0x21a8db['y']=_0x21a8db['y']*_0x57994b*_0x5909a0+(0x869*0x4+-0x55*0x1d+0x36e*-0x7-_0x1ad5fc-_0x57994b)*_0x5909a0,_0x21a8db;}['screenToWo'+'rld'](_0x51abf5,_0x16d412,_0x3f30ac,_0x4be993,_0x16fa7f,_0xcddb05=new D()){const {x:_0x14e126,y:_0x4cc537,z:_0x3e18bb,w:_0x509ce6}=this['_rect'],_0x163ef3=this['farClip']-this['nearClip'];if(La['set']((_0x51abf5-_0x14e126*_0x4be993)/(_0x3e18bb*_0x4be993),-0xb*-0x246+-0x1*-0x128e+-0x2b8f-(_0x16d412-(-0xf62*-0x1+-0x2247+0x12e6-_0x4cc537-_0x509ce6)*_0x16fa7f)/(_0x509ce6*_0x16fa7f),_0x3f30ac/_0x163ef3),La['mulScalar'](-0x1*-0x1455+0x44*0x49+-0x27b7),La['sub'](D['ONE']),this['_projectio'+'n']===ni){te['_getPerspe'+'ctiveHalfS'+'ize'](ao,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),ao['x']*=La['x'],ao['y']*=La['y'];const _0x175c7e=this['_node']['getWorldTr'+'ansform']();ao['z']=-this['nearClip'],_0x175c7e['transformP'+'oint'](ao,D_);const _0x3fb44c=this['_node']['getPositio'+'n']();_0xcddb05['sub2'](D_,_0x3fb44c),_0xcddb05['normalize'](),_0xcddb05['mulScalar'](_0x3f30ac),_0xcddb05['add'](_0x3fb44c);}else this['_updateVie'+'wProjMat'](),I_['copy'](this['_viewProjM'+'at'])['invert'](),I_['transformP'+'oint'](La,_0xcddb05);return _0xcddb05;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===ni)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x1448f9=this['_orthoHeig'+'ht'],_0x221eef=_0x1448f9*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x221eef,_0x221eef,-_0x1448f9,_0x1448f9,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(-0x6*-0x1bb+0x68*0x3e+-0x2391);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x304e81=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(-0xb17+-0x1aa+0x5*0x2a1)/this['_sensitivi'+'ty']);return(-0x63*0x39+-0x5fc+0x1c08)/(Math['pow'](0x1*0x139e+0x36e*-0xb+0x3*0x60a,_0x304e81)*(-0xda3+0x1df*-0x1+0x13*0xd1+0.19999999999999996));}['getScreenS'+'ize'](_0x16ba0e){if(this['_projectio'+'n']===ni){const _0x3b9b76=this['_node']['getPositio'+'n']()['distance'](_0x16ba0e['center']);if(_0x3b9b76<_0x16ba0e['radius'])return-0xe8*0x8+-0x1d63+0x24a4;const _0xe5b105=Math['asin'](_0x16ba0e['radius']/_0x3b9b76),_0x59098c=Math['tan'](_0xe5b105),_0x3ff1e9=Math['tan'](this['fov']/(0x58c+-0x107*0x1c+0x173a)*Y['DEG_TO_RAD']);return Math['min'](_0x59098c/_0x3ff1e9,0x514*-0x7+0x2244+-0x1*-0x149);}return Y['clamp'](_0x16ba0e['radius']/this['_orthoHeig'+'ht'],0x247d+-0x105b*0x1+-0x1422,-0x1fbf+0x1f81*0x1+0x1*0x3f);}['getFrustum'+'Corners'](_0x37f5b5=this['nearClip'],_0x321e12=this['farClip']){const _0x650fce=this['fov']*Math['PI']/(0x2c6+-0x3*0x641+-0x1*-0x10b1);let _0x589f16,_0x1b46b1;this['projection']===ni?this['horizontal'+'Fov']?(_0x589f16=_0x37f5b5*Math['tan'](_0x650fce/(0xf95+0x484+-0x1417)),_0x1b46b1=_0x589f16/this['aspectRati'+'o']):(_0x1b46b1=_0x37f5b5*Math['tan'](_0x650fce/(0x128a+-0x22*-0xfb+0x19ef*-0x2)),_0x589f16=_0x1b46b1*this['aspectRati'+'o']):(_0x1b46b1=this['_orthoHeig'+'ht'],_0x589f16=_0x1b46b1*this['aspectRati'+'o']);const _0x109104=OE;return _0x109104[0x1*-0x1357+0x922+0x27*0x43]['x']=_0x589f16,_0x109104[0x65f+-0x15dd+-0x2*-0x7bf]['y']=-_0x1b46b1,_0x109104[0xbc*-0x1b+0xeb6+0x51e]['z']=-_0x37f5b5,_0x109104[-0x2cc*-0x7+-0x21e+-0x1175]['x']=_0x589f16,_0x109104[0xda+-0xac*-0x18+-0x10f9]['y']=_0x1b46b1,_0x109104[-0x10d*-0x20+-0x1a8+-0x1ff7]['z']=-_0x37f5b5,_0x109104[0x8b*0x2b+0x1*-0x1f70+0x819]['x']=-_0x589f16,_0x109104[0x22*-0x12+0x8*-0x139+0x617*0x2]['y']=_0x1b46b1,_0x109104[-0x26c9+0x2*0xb5b+0x1015*0x1]['z']=-_0x37f5b5,_0x109104[0x1*-0xa2d+-0x4ef*-0x3+-0x49d]['x']=-_0x589f16,_0x109104[0x2d7+-0x2573+0x229f]['y']=-_0x1b46b1,_0x109104[-0x142c+-0x1e01*0x1+0x3230]['z']=-_0x37f5b5,this['_projectio'+'n']===ni&&(this['horizontal'+'Fov']?(_0x589f16=_0x321e12*Math['tan'](_0x650fce/(0x26e*-0xa+0x142a+0x1*0x424)),_0x1b46b1=_0x589f16/this['aspectRati'+'o']):(_0x1b46b1=_0x321e12*Math['tan'](_0x650fce/(0x10*-0x1eb+0xb31*-0x1+0x29e3)),_0x589f16=_0x1b46b1*this['aspectRati'+'o'])),_0x109104[-0x1d8a+-0x261*0xf+0x15bf*0x3]['x']=_0x589f16,_0x109104[-0xb3*-0x11+0x1*-0x1127+0x548]['y']=-_0x1b46b1,_0x109104[-0x1*-0x24d7+-0x142+-0x2391]['z']=-_0x321e12,_0x109104[0x3*0xbd3+-0x1dbe+0x2*-0x2db]['x']=_0x589f16,_0x109104[-0x593+-0x2087+0x261f]['y']=_0x1b46b1,_0x109104[-0x4f*0x61+-0x1e5f+0x1*0x3c53]['z']=-_0x321e12,_0x109104[0x1ef5+0x4*0x79+-0xaf1*0x3]['x']=-_0x589f16,_0x109104[-0x1ce5*0x1+0x26c9*-0x1+0x43b4]['y']=_0x1b46b1,_0x109104[0x372*-0x2+0x2640+-0x47a*0x7]['z']=-_0x321e12,_0x109104[0x1182+-0x174e+-0x47*-0x15]['x']=-_0x589f16,_0x109104[-0x5a0+-0xf28+-0x2f9*-0x7]['y']=-_0x1b46b1,_0x109104[-0x1df*0x11+0x2*0x3ad+-0x4*-0x61f]['z']=-_0x321e12,_0x109104;}['setXrPrope'+'rties'](_0x1b9b59){Object['assign'](this['_xrPropert'+'ies'],_0x1b9b59),this['_projMatDi'+'rty']=!(-0x1535*-0x1+-0x251+0x3*-0x64c);}}const L_=new te(),R_=new te(),O_=new te(),gr=class gr{static['create'](_0x2f0fb9,_0x30e1d2,_0xacab8){const _0x543d05=new Fl();switch(_0x543d05['node']=new Ie(_0x2f0fb9),_0x543d05['aspectRati'+'o']=-0x25ff+-0x1*0x1e7c+0x447c,_0x543d05['aspectRati'+'oMode']=lu,_0x543d05['_scissorRe'+'ctClear']=!(0x1cb1*0x1+-0x11fb+0x55b*-0x2),_0x30e1d2){case Ke:_0x543d05['node']['setRotatio'+'n'](gr['pointLight'+'Rotations'][_0xacab8]),_0x543d05['fov']=-0x795+0x351*-0x3+0x11e2,_0x543d05['projection']=ni;break;case Ze:_0x543d05['projection']=ni;break;case ve:_0x543d05['projection']=En;break;}return _0x543d05;}static['evalSpotCo'+'okieMatrix'](_0x4c286e){let _0x5931af=gr['_spotCooki'+'eCamera'];_0x5931af||(_0x5931af=gr['create']('SpotCookie'+'Camera',Ze),gr['_spotCooki'+'eCamera']=_0x5931af),_0x5931af['fov']=_0x4c286e['_outerCone'+'Angle']*(0x33e+-0x1257*-0x2+-0x2*0x13f5);const _0xb358ee=_0x5931af['_node'];_0xb358ee['setPositio'+'n'](_0x4c286e['_node']['getPositio'+'n']()),_0xb358ee['setRotatio'+'n'](_0x4c286e['_node']['getRotatio'+'n']()),_0xb358ee['rotateLoca'+'l'](-(0x13*-0x89+0x61c*-0x1+0x183*0xb),-0x1*-0x17e+-0x259f+-0x2421*-0x1,0x19f6+-0x1ea+-0xc*0x201),L_['setTRS'](_0xb358ee['getPositio'+'n'](),_0xb358ee['getRotatio'+'n'](),D['ONE'])['invert'](),R_['mul2'](_0x5931af['projection'+'Matrix'],L_);const _0x178ac4=_0x4c286e['cookieMatr'+'ix'],_0x1bdb9c=_0x4c286e['atlasViewp'+'ort'];return O_['setViewpor'+'t'](_0x1bdb9c['x'],_0x1bdb9c['y'],_0x1bdb9c['z'],_0x1bdb9c['w']),_0x178ac4['mul2'](O_,R_),_0x178ac4;}};h(gr,'pointLight'+'Rotations',[new le()['setFromEul'+'erAngles'](-0x1658+0x7df*0x1+-0x39*-0x41,-0x102*-0x26+-0x24af+0x13*-0x11,0x1*0x26d2+0x212d+-0x474b*0x1),new le()['setFromEul'+'erAngles'](0xd37+0xc84+-0x19bb,-(-0x5*-0x430+0x8c1+0x1*-0x1d57),0x7a7+-0x2479+0x1d86),new le()['setFromEul'+'erAngles'](0xa09*-0x1+-0xba4*0x3+0x2d4f,-0x70d+-0x1353+0x1a60,-0x1ac6+0x1*-0x623+0x20e9),new le()['setFromEul'+'erAngles'](-(-0x1*-0x1516+-0x244c+-0x14c*-0xc),0x184*0x16+0x14*0x1+0x2*-0x10b6,-0x2144+-0x11*0x17c+-0x8*-0x750),new le()['setFromEul'+'erAngles'](0x2094+0x1240+-0x32d4,-0x2505+0x3*-0xaa7+0x45ae,-0x10*-0x117+0x2710+-0x37cc),new le()['setFromEul'+'erAngles'](0x44*0x47+-0x645+-0xc97,0x485*0x1+0x879+-0x1*0xcfe,0x4db*-0x3+0x1*0x10d2+0x18d*-0x1)]),h(gr,'_spotCooki'+'eCamera',null);let Wn=gr;const vs=new D(),Or=new Float32Array(0x34c+-0x16b+0x19*-0x13),FE=new D(-(0x6a2*0x2+0xd04+-0x1a48+0.5),0x1*0x1126+-0xfd9*0x1+-0x14d,-0x192*0x3+0x1*-0x13eb+0x18a1),NE=new D(0xf63+-0x248a+0x70d*0x3,-0x1*-0x1ead+0x1*0x377+-0x2224,-0x595+-0x14b6+0x35*0x7f+0.5),at={'POSITION_RANGE':0x0,'DIRECTION_FLAGS':0x1,'COLOR_ANGLES_BIAS':0x2,'PROJ_MAT_0':0x3,'ATLAS_VIEWPORT':0x3,'PROJ_MAT_1':0x4,'PROJ_MAT_2':0x5,'PROJ_MAT_3':0x6,'AREA_DATA_WIDTH':0x7,'AREA_DATA_HEIGHT':0x8,'COUNT':0x9},kE={'LIGHTSHAPE_PUNCTUAL':Ys+'u','LIGHTSHAPE_RECT':Zy+'u','LIGHTSHAPE_DISK':Qy+'u','LIGHTSHAPE_SPHERE':Jy+'u','LIGHT_COLOR_DIVIDER':$c+'.0'},F_=(_0x54e9f3,_0x3456b4)=>Object['keys'](_0x54e9f3)['map'](_0x2ae945=>'#define\x20{'+_0x3456b4+_0x2ae945+'}\x20'+_0x54e9f3[_0x2ae945])['join']('\x0a'),N_='\x0a\x0a\x20\x20\x20\x20'+F_(at,'CLUSTER_TE'+'XTURE_')+'\x0a\x20\x20\x20\x20'+F_(kE,'')+'\x0a';class UE{constructor(_0x504298){h(this,'areaLights'+'Enabled',!(-0x24dc*0x1+-0x1249+0x3726)),(this['device']=_0x504298,Pe['get'](_0x504298,Fe)['set']('lightBuffe'+'rDefinesPS',N_),Pe['get'](_0x504298,it)['set']('lightBuffe'+'rDefinesPS',N_),this['cookiesEna'+'bled']=!(0x3*-0xbf+-0xd3e+-0x4*-0x3df),this['shadowsEna'+'bled']=!(-0x2c*0x3c+0xc74*-0x1+0x3*0x797),this['areaLights'+'Enabled']=!(-0xf3c+0x2*-0x107e+0x3039),this['maxLights']=-0x51*0x5b+0x3d+0x1d8d);const _0x3eac3d=at['COUNT'];this['lightsFloa'+'t']=new Float32Array((0x179*-0x13+-0x8*-0x46f+0x779*-0x1)*_0x3eac3d*this['maxLights']),this['lightsUint']=new Uint32Array(this['lightsFloa'+'t']['buffer']),this['lightsText'+'ure']=this['createText'+'ure'](this['device'],_0x3eac3d,this['maxLights'],Xt,'LightsText'+'ure'),this['_lightsTex'+'tureId']=this['device']['scope']['resolve']('lightsText'+'ure'),this['invMaxColo'+'rValue']=0x2*-0xe37+0x1ea7+-0x239,this['invMaxAtte'+'nuation']=0x1*0x2629+-0x1206+-0x1423*0x1,this['boundsMin']=new D(),this['boundsDelt'+'a']=new D();}['destroy'](){var _0x387aed;(_0x387aed=this['lightsText'+'ure'])==null||_0x387aed['destroy'](),this['lightsText'+'ure']=null;}['createText'+'ure'](_0x4901c9,_0x2564f7,_0x3dc91b,_0x32300a,_0x248088){return new _e(_0x4901c9,{'name':_0x248088,'width':_0x2564f7,'height':_0x3dc91b,'mipmaps':!(-0x1e5*-0x12+0x123*-0x19+-0x2d7*0x2),'format':_0x32300a,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1});}['setBounds'](_0x3d9523,_0xf92c53){this['boundsMin']['copy'](_0x3d9523),this['boundsDelt'+'a']['copy'](_0xf92c53);}['uploadText'+'ures'](){this['lightsText'+'ure']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ure']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'tureId']['setValue'](this['lightsText'+'ure']);}['getSpotDir'+'ection'](_0x115660,_0x4df16f){_0x4df16f['_node']['getWorldTr'+'ansform']()['getY'](_0x115660)['mulScalar'](-(-0x1*-0x1f2c+0x2*-0x80f+-0xf0d*0x1)),_0x115660['normalize']();}['getLightAr'+'eaSizes'](_0x2b366){const _0x4a9663=_0x2b366['_node']['getWorldTr'+'ansform']();return _0x4a9663['transformV'+'ector'](FE,vs),Or[-0x1965+0xfcb+-0x2*-0x4cd]=vs['x'],Or[-0x194d+0x932*-0x3+0x34e4*0x1]=vs['y'],Or[0x1f52+-0x1334*-0x2+-0x5c*0xc2]=vs['z'],_0x4a9663['transformV'+'ector'](NE,vs),Or[-0x30a+-0x1d7f+0x208c]=vs['x'],Or[-0x239*0xd+0x211c+-0xd7*0x5]=vs['y'],Or[0x52a*-0x5+-0x115c+0x2b33]=vs['z'],Or;}['addLightDa'+'ta'](_0x5917d6,_0x3729fd){const _0x57f1dc=_0x5917d6['_type']===Ze,_0x41a2d0=_0x5917d6['atlasViewp'+'ortAllocat'+'ed'],_0xc5e6b3=this['cookiesEna'+'bled']&&!!_0x5917d6['_cookie']&&_0x41a2d0,_0x3a11c6=this['areaLights'+'Enabled']&&_0x5917d6['shape']!==Ys,_0x57f636=this['shadowsEna'+'bled']&&_0x5917d6['castShadow'+'s']&&_0x41a2d0,_0x3a0ac5=_0x5917d6['_node']['getPositio'+'n']();let _0xe29a6b=null,_0x161d5c=null;_0x57f1dc?_0x57f636?_0xe29a6b=_0x5917d6['getRenderD'+'ata'](null,0x454+-0x1c*0x6d+0x798)['shadowMatr'+'ix']:_0xc5e6b3&&(_0xe29a6b=Wn['evalSpotCo'+'okieMatrix'](_0x5917d6)):(_0x57f636||_0xc5e6b3)&&(_0x161d5c=_0x5917d6['atlasViewp'+'ort']);const _0x4368cb=this['lightsFloa'+'t'],_0x56f8b2=this['lightsUint'],_0x48aaf8=_0x3729fd*this['lightsText'+'ure']['width']*(0x18ca+0x90e+-0x21d4);_0x4368cb[_0x48aaf8+(0x4c*0x26+-0x2d5*0x4+-0x4*-0x4)*at['POSITION_R'+'ANGE']+(-0x1*-0xd69+-0x1d4*-0x13+-0x3025)]=_0x3a0ac5['x'],_0x4368cb[_0x48aaf8+(-0x2690+0xc9*0xb+-0x69*-0x49)*at['POSITION_R'+'ANGE']+(-0xbb*0x29+-0x1676+0x1*0x346a)]=_0x3a0ac5['y'],_0x4368cb[_0x48aaf8+(-0xffc+0x15*-0x1d+0x1261)*at['POSITION_R'+'ANGE']+(-0x4*0x7ca+0xf1*-0x1+0x201b*0x1)]=_0x3a0ac5['z'],_0x4368cb[_0x48aaf8+(0x1*0x296+0x4*0x36f+-0x104e)*at['POSITION_R'+'ANGE']+(0x326+-0x10*0x1fd+0x1cad)]=_0x5917d6['attenuatio'+'nEnd'];const _0x550c97=_0x5917d6['clusteredD'+'ata'];if(_0x56f8b2[_0x48aaf8+(-0x2*0x489+0x1*0x1a03+-0x10ed)*at['COLOR_ANGL'+'ES_BIAS']+(0x3cf+0x133a+0x1709*-0x1)]=_0x550c97[-0x1*0x2599+-0x7*-0x447+0x7a8],_0x56f8b2[_0x48aaf8+(-0x25af*0x1+0x5d*0x1a+0x1c41)*at['COLOR_ANGL'+'ES_BIAS']+(-0x10d2+-0xf04*-0x2+0x15*-0xa1)]=_0x550c97[-0x1*0x1d57+-0x1458+-0x28*-0x13e],_0x56f8b2[_0x48aaf8+(0x6d*-0x11+0x1*0x207+0x53a)*at['COLOR_ANGL'+'ES_BIAS']+(0xd6f+-0x2292+0x1525)]=_0x550c97[-0x3c7*0x2+-0x1*-0x1139+-0x9a9],_0x5917d6['castShadow'+'s']){const _0x51dd38=_0x5917d6['getRenderD'+'ata'](null,0x2427+-0x7*0xf8+-0x1d5f),_0x297dd6=_0x5917d6['_getUnifor'+'mBiasValue'+'s'](_0x51dd38),_0x294173=Mn['float2Half'](_0x297dd6['bias']),_0x53ad8d=Mn['float2Half'](_0x297dd6['normalBias']);_0x56f8b2[_0x48aaf8+(-0x2*-0x1218+-0xa1f*-0x2+0xf9*-0x3a)*at['COLOR_ANGL'+'ES_BIAS']+(0x239b*-0x1+-0x1388+-0x2*-0x1b93)]=_0x294173|_0x53ad8d<<0x67c+-0x5e8+-0x84;}if(_0x57f1dc&&(this['getSpotDir'+'ection'](vs,_0x5917d6),_0x4368cb[_0x48aaf8+(-0x7*-0x262+0x6*0x3af+-0x26c4)*at['DIRECTION_'+'FLAGS']+(0x9d*0x1f+-0x5*-0x31f+-0x229e)]=vs['x'],_0x4368cb[_0x48aaf8+(-0x7*0x86+-0x1a6b*-0x1+-0x1*0x16bd)*at['DIRECTION_'+'FLAGS']+(0x18e9+-0xd89+-0x47*0x29)]=vs['y'],_0x4368cb[_0x48aaf8+(0x8b*0x16+-0x1476+0x111*0x8)*at['DIRECTION_'+'FLAGS']+(-0x5cb*-0x2+0x2*0xcd6+-0x20*0x12a)]=vs['z']),_0x56f8b2[_0x48aaf8+(-0x329*-0x7+0x13*-0x205+0x1044)*at['DIRECTION_'+'FLAGS']+(-0x7*0x55+0xfec*0x1+-0xd96)]=_0x5917d6['getCluster'+'edFlags'](_0x57f636,_0xc5e6b3),_0xe29a6b){const _0x36ea3d=_0xe29a6b['data'];for(let _0x10a5b2=-0x89*-0x3d+0x16*0x17+-0x229f;_0x10a5b2<0x1a*0x2c+0x247a*-0x1+-0x5*-0x66a;_0x10a5b2++)_0x4368cb[_0x48aaf8+(-0x73*-0x26+-0xdb*0x27+0x19*0xa7)*at['PROJ_MAT_0']+_0x10a5b2]=_0x36ea3d[_0x10a5b2];}if(_0x161d5c&&(_0x4368cb[_0x48aaf8+(-0x8be+0xa*-0x27d+0x21a4)*at['ATLAS_VIEW'+'PORT']+(-0x2*-0xbd5+0x19ab+0x49*-0xad)]=_0x161d5c['x'],_0x4368cb[_0x48aaf8+(-0x125b+-0xab4+0x1d13)*at['ATLAS_VIEW'+'PORT']+(-0x4f*0x2+-0x6e*-0x23+-0x1*0xe6b)]=_0x161d5c['y'],_0x4368cb[_0x48aaf8+(-0x734*-0x4+-0x944+-0x32*0x64)*at['ATLAS_VIEW'+'PORT']+(0x31*-0x92+-0x1145+0x2d39)]=_0x161d5c['z']/(-0x1042+0x29*-0x6d+-0x2*-0x10dd)),_0x3a11c6){const _0x57c637=this['getLightAr'+'eaSizes'](_0x5917d6);_0x4368cb[_0x48aaf8+(-0x25cb+0x20b*-0x9+0x3832)*at['AREA_DATA_'+'WIDTH']+(0x1*0x20ba+0x3*-0x236+-0x1a18)]=_0x57c637[0x132d+-0x10a2+-0x28b],_0x4368cb[_0x48aaf8+(0x35a+0x22fe+-0x2654)*at['AREA_DATA_'+'WIDTH']+(-0x836*0x3+0x668+0x167*0xd)]=_0x57c637[0x7b*0x31+0x219*-0x9+0x1*-0x4a9],_0x4368cb[_0x48aaf8+(0xb83+-0xd6c+0x1ed)*at['AREA_DATA_'+'WIDTH']+(0x24d3+-0x542+-0xa85*0x3)]=_0x57c637[-0x1630+0x337+0x2b*0x71],_0x4368cb[_0x48aaf8+(-0x1*0x179f+0x222*0xd+-0x3*0x15d)*at['AREA_DATA_'+'HEIGHT']+(-0x7e7+-0x283*0xd+0x1447*0x2)]=_0x57c637[0x6f1+0x1*-0x24cf+-0x1*-0x1de1],_0x4368cb[_0x48aaf8+(0x38a+0x26d4+-0x4e*0x8b)*at['AREA_DATA_'+'HEIGHT']+(-0x6b*0x33+0xb15*-0x1+0x2067)]=_0x57c637[-0x57*0x2b+0x15b*-0xe+0x219b],_0x4368cb[_0x48aaf8+(0x22c3*-0x1+0x52d+0x2*0xecd)*at['AREA_DATA_'+'HEIGHT']+(0xd48+-0x731+-0x615)]=_0x57c637[0x1*-0x144d+-0xcc9+0x211b];}}}const ic=new D(),rc=new D(),ac=new D(),Yd=new De(),k_=-0xce3*0x1+-0x34e+-0x1*-0x2031;class U_{constructor(){this['light']=null,this['min']=new D(),this['max']=new D();}}class cu{constructor(_0x1d9116){h(this,'clusterTex'+'ture'),(this['device']=_0x1d9116,this['name']='Untitled',this['reportCoun'+'t']=0x23e2+0x9*-0x34b+-0x63f,this['boundsMin']=new D(),this['boundsMax']=new D(),this['boundsDelt'+'a']=new D(),this['_cells']=new D(0x241*0xe+-0x17*0x177+0x224,0x1b1*0x10+0x1f85+-0x3a94,-0x1*-0x1414+0x218b+-0x359e),this['_cellsLimi'+'t']=new D(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=0x46a+-0x59*0x46+0x13f0,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new U_()),this['lightsBuff'+'er']=new UE(_0x1d9116),this['registerUn'+'iforms'](_0x1d9116));}set['maxCellLig'+'htCount'](_0x2742a7){_0x2742a7!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x2742a7,this['_cellsDirt'+'y']=!(-0x553+-0x1*0x25de+-0x2b31*-0x1));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x5421e7){ic['copy'](_0x5421e7)['floor'](),this['_cells']['equals'](ic)||(this['_cells']['copy'](ic),this['_cellsLimi'+'t']['copy'](ic)['sub'](D['ONE']),this['_cellsDirt'+'y']=!(-0x2d8+0x13b2+-0x86d*0x2));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x2c409f){this['_clusterSk'+'ipId']=_0x2c409f['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x2c409f['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x2c409f['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x2c409f['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(-0x9a6*-0x1+0x2*0xe6e+0x87*-0x49),this['_clusterBo'+'undsMinId']=_0x2c409f['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(0x1ebd+-0x16c6+-0x3fa*0x2),this['_clusterBo'+'undsDeltaI'+'d']=_0x2c409f['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(0x1*-0x25d5+-0xd77*-0x2+0xaea),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x2c409f['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(0x1319+-0xc*-0xeb+-0x1e1a),this['_clusterCe'+'llsDotId']=_0x2c409f['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0xd4*0x28+0x1*-0x26c8+0x5ab*0x1),this['_clusterCe'+'llsMaxId']=_0x2c409f['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(0x733+-0x160f*0x1+0xedf);}['updatePara'+'ms'](_0x157343){_0x157343&&(this['cells']=_0x157343['cells'],this['maxCellLig'+'htCount']=_0x157343['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x157343['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x157343['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x157343['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(-0x2309*-0x1+-0x25be+0x1*0x2b6);const _0x4da8a5=this['_cells']['x'],_0x488e22=this['_cells']['y'],_0x1ee883=this['_cells']['z'],_0x4dbf5d=_0x4da8a5*_0x488e22*_0x1ee883,_0x282d0f=this['maxCellLig'+'htCount']*_0x4dbf5d;let _0xbb98bd=Math['ceil'](Math['sqrt'](_0x282d0f));_0xbb98bd=Y['roundUp'](_0xbb98bd,this['maxCellLig'+'htCount']);const _0x347da4=Math['ceil'](_0x282d0f/_0xbb98bd);w['assert'](_0xbb98bd<=k_&&_0x347da4<=k_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][0x1*-0x23ff+0x1e4a*-0x1+0x4249]=_0x4da8a5,this['_clusterCe'+'llsMaxData'][-0xa73+0x108c+-0x618]=_0x488e22,this['_clusterCe'+'llsMaxData'][0x15c2+0x1d*0x137+-0x38fb*0x1]=_0x1ee883,this['_clusterCe'+'llsDotData'][-0xc7f*-0x2+-0x1*0xd0f+-0xbef]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x237d+-0x45a+-0x6*-0x6a4]=_0x4da8a5*_0x1ee883*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0xe26+-0x5bd+-0x1*-0x13e5]=_0x4da8a5*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x282d0f),this['counts']=new Int32Array(_0x4dbf5d),this['_clusterTe'+'xtureSizeD'+'ata'][0x153*-0xc+-0xf4d*-0x2+0x2*-0x75b]=_0xbb98bd,this['_clusterTe'+'xtureSizeD'+'ata'][0x1843*0x1+0x8ba*0x2+0x13*-0x232]=(0x733+0x102c+0x175e*-0x1)/_0xbb98bd,this['_clusterTe'+'xtureSizeD'+'ata'][0x19c7*0x1+0xf1d*0x1+-0x28e2]=(-0x1*-0xd23+-0x144*-0xf+0x1*-0x201e)/_0x347da4,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0xbb98bd,_0x347da4,Ep,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>-0x87e*-0x1+-0x16d+-0x710?-0xe18+0xa41+0x3d7:-0x82c+0x104*-0x24+0x2cbd),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x2e0c43=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x11ba+0x21*0x9d+-0x25f7]=this['_cells']['x']/_0x2e0c43['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x17c4+0xda2+0x1*0xa23]=this['_cells']['y']/_0x2e0c43['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x8a2+-0x2b3+-0x5ed]=this['_cells']['z']/_0x2e0c43['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][-0xe*0x1c9+0x2405*-0x1+0x3d03]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][-0xa69*0x2+-0x1200+-0x26d3*-0x1]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][0x5e6+0x1b71+-0x2155]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][0x1e6b+-0x1ed0+-0x1*-0x65]=_0x2e0c43['x'],this['_clusterBo'+'undsDeltaD'+'ata'][0x71*-0x4f+-0x1*-0xa31+-0x59*-0x47]=_0x2e0c43['y'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x1120+-0x1*0x2277+0x3399]=_0x2e0c43['z'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']);}['evalLightC'+'ellMinMax'](_0x7da540,_0x460ab2,_0x160cd4){_0x460ab2['copy'](_0x7da540['min']),_0x460ab2['sub'](this['boundsMin']),_0x460ab2['div'](this['boundsDelt'+'a']),_0x460ab2['mul2'](_0x460ab2,this['cells']),_0x460ab2['floor'](),_0x160cd4['copy'](_0x7da540['max']),_0x160cd4['sub'](this['boundsMin']),_0x160cd4['div'](this['boundsDelt'+'a']),_0x160cd4['mul2'](_0x160cd4,this['cells']),_0x160cd4['ceil'](),_0x460ab2['max'](D['ZERO']),_0x160cd4['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0xd0a05){const _0x583084=this['lightsBuff'+'er']['maxLights'],_0x2c6b95=this['_usedLight'+'s'];let _0x8cd3e6=0xe3+0x1bbe*0x1+-0x1ca0;_0xd0a05['forEach'](_0x57f421=>{const _0x4a7b72=!!(_0x57f421['mask']&(Ss|di)),_0x127e7f=_0x57f421['type']===Ze&&_0x57f421['_outerCone'+'Angle']===0x2f+0x9*-0xc6+0x6c7;if(_0x57f421['enabled']&&_0x57f421['type']!==ve&&_0x57f421['visibleThi'+'sFrame']&&_0x57f421['intensity']>-0x1f96+-0x24ec+0x4482&&_0x4a7b72&&!_0x127e7f){if(_0x8cd3e6<_0x583084){let _0x482af3;_0x8cd3e6<_0x2c6b95['length']?_0x482af3=_0x2c6b95[_0x8cd3e6]:(_0x482af3=new U_(),_0x2c6b95['push'](_0x482af3)),_0x482af3['light']=_0x57f421,_0x57f421['getBoundin'+'gBox'](Yd),_0x482af3['min']['copy'](Yd['getMin']()),_0x482af3['max']['copy'](Yd['getMax']()),_0x8cd3e6++;}else w['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x583084-(0x17df+-0x819+-0xb*0x16f))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x2c6b95['length']=_0x8cd3e6;}['evaluateBo'+'unds'](){const _0x20eca2=this['_usedLight'+'s'],_0xc00a12=this['boundsMin'],_0x522b39=this['boundsMax'];if(_0x20eca2['length']>0x2474*0x1+0x3*0x989+-0x410e){_0xc00a12['copy'](_0x20eca2[0x380+0x1*-0x214c+0x1dcd]['min']),_0x522b39['copy'](_0x20eca2[-0x59*-0x63+0x3d2*-0xa+0x3ca]['max']);for(let _0x517ad6=-0x1*-0x766+0x931+-0x1095;_0x517ad6<_0x20eca2['length'];_0x517ad6++)_0xc00a12['min'](_0x20eca2[_0x517ad6]['min']),_0x522b39['max'](_0x20eca2[_0x517ad6]['max']);}else _0xc00a12['set'](0x1cd1*-0x1+0x52a*0x5+0x2ff,0x1e4c+0x92f*-0x2+0xbee*-0x1,0x224b+0x176a+-0x39b5),_0x522b39['set'](-0x1176+0x1f7*-0xc+0x290b,0xe3*0x4+-0x102+-0xb*0x3b,-0x26b5+0x1d4f+0x53*0x1d);this['boundsDelt'+'a']['sub2'](_0x522b39,_0xc00a12),this['lightsBuff'+'er']['setBounds'](_0xc00a12,this['boundsDelt'+'a']);}['updateClus'+'ters'](_0x5c18e7){this['counts']['fill'](0x78e+-0x2a*0xa6+0x13ae),this['clusters']['fill'](0x247c*-0x1+-0x2004+0x4480),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x5c18e7?_0x5c18e7['areaLights'+'Enabled']:!(0x8c6+-0x1*0x1b23+0x125e);const _0x3cd4a6=this['_cells']['x'],_0x581b72=this['_cells']['z'],_0x25c427=this['counts'],_0x35e015=this['_maxCellLi'+'ghtCount'],_0x26fa29=this['clusters'],_0x3df210=this['maxCellLig'+'htCount'];let _0xe2b172=!(0x2*0x1082+0x1178+-0x327b);const _0x4d2d38=this['_usedLight'+'s'];for(let _0x212fa8=0xd46+0x11f9+-0xa6a*0x3;_0x212fa8<_0x4d2d38['length'];_0x212fa8++){const _0x768147=_0x4d2d38[_0x212fa8],_0x32084f=_0x768147['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x32084f,_0x212fa8),this['evalLightC'+'ellMinMax'](_0x768147,rc,ac);const _0x4a62b7=rc['x'],_0x2f790f=ac['x'],_0x3adfaa=rc['y'],_0x451933=ac['y'],_0x202853=rc['z'],_0x3767d4=ac['z'];for(let _0xf38595=_0x4a62b7;_0xf38595<=_0x2f790f;_0xf38595++)for(let _0x5845c0=_0x202853;_0x5845c0<=_0x3767d4;_0x5845c0++)for(let _0x488af9=_0x3adfaa;_0x488af9<=_0x451933;_0x488af9++){const _0xe55158=_0xf38595+_0x3cd4a6*(_0x5845c0+_0x488af9*_0x581b72),_0x40acc1=_0x25c427[_0xe55158];_0x40acc1<_0x35e015?(_0x26fa29[_0x3df210*_0xe55158+_0x40acc1]=_0x212fa8,_0x25c427[_0xe55158]=_0x40acc1+(-0x506*-0x3+-0x1*0x746+-0x7cb)):_0xe2b172=!(-0x6f3*-0x1+0x1368*0x1+-0xad*0x27);}}_0xe2b172&&this['reportCoun'+'t']<0x1*-0x2237+-0x1*-0x2105+0x137&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===0x728*-0x5+-0x2*0xc11+-0x6*-0x9fd?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x147476,_0x532eca=null){this['updatePara'+'ms'](_0x532eca),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x147476),this['evaluateBo'+'unds'](),this['updateClus'+'ters'](_0x532eca),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const B_=0x85*-0x2b+0x71*0xd+0x109c+0.39996322972865306,Nl={'circlePoint'(_0x241cee){const _0x653ed9=Math['sqrt'](Math['random']()),_0xfb5584=Math['random']()*(0xf*0x10d+-0x19fc+0x1b*0x61)*Math['PI'];_0x241cee['x']=_0x653ed9*Math['cos'](_0xfb5584),_0x241cee['y']=_0x653ed9*Math['sin'](_0xfb5584);},'circlePointDeterministic'(_0x53c43b,_0x32322c,_0x11d530){const _0x35b51e=_0x32322c*B_,_0x214a3d=Math['sqrt'](_0x32322c)/Math['sqrt'](_0x11d530);_0x53c43b['x']=_0x214a3d*Math['cos'](_0x35b51e),_0x53c43b['y']=_0x214a3d*Math['sin'](_0x35b51e);},'spherePointDeterministic'(_0x1132d8,_0x42e15f,_0x16928f,_0x23c3a6=0x3*-0x9a4+0x34*-0x1e+-0x1182*-0x2,_0x36f1d2=-0xaf6*0x2+-0x66d+0x2*0xe2d){_0x23c3a6=0x4cd*0x2+-0x1*0x1b89+-0x70*-0x29-(0x70e+0x1b73+-0x227f)*_0x23c3a6,_0x36f1d2=-0x1491+0x77d+0xd15-(0x5cb+0x161*-0x1+-0x468)*_0x36f1d2;const _0x3a8496=Y['lerp'](_0x23c3a6,_0x36f1d2,_0x42e15f/_0x16928f),_0x4db0e3=Math['sqrt'](-0x157d*-0x1+-0x1*-0x19fe+-0x2f7a-_0x3a8496*_0x3a8496),_0x2d3b43=B_*_0x42e15f;_0x1132d8['x']=Math['cos'](_0x2d3b43)*_0x4db0e3,_0x1132d8['y']=_0x3a8496,_0x1132d8['z']=Math['sin'](_0x2d3b43)*_0x4db0e3;},'radicalInverse'(_0x3f45f9){let _0x3402cf=(_0x3f45f9<<-0xff4+-0x2462+0x3466|_0x3f45f9>>>-0x1fcd+-0x12c1*-0x2+0x55*-0x11)>>>0x31*-0x43+0x8d5+0xe*0x49;return _0x3402cf=((_0x3402cf&-0x6b879*0x1139+0xfd9*0x647cd+0x658c9181*0x1)<<-0xe*-0x194+-0x5*0x581+0x56e|(_0x3402cf&-0x411*-0x1e6375+-0xca*-0x66b231+-0x21f05ec5)>>>-0x2527+0x60*-0x47+0x3fc8)>>>-0x1fc6+0x16d9+0x8ed,_0x3402cf=((_0x3402cf&-0x5a09f48a+0x71c9*0x255b+0x6*0x14c5c6b7)<<0x1*-0x1159+-0x2*0xcc7+0x2ae9|(_0x3402cf&-0x6*-0x176e06e9+0x1*-0xc1cdbb36+-0x2b010fc2*-0x6)>>>-0x11c6+0x4*-0x53b+-0x1*-0x26b4)>>>-0x24b*-0xf+0x110f*0x1+-0x3374,_0x3402cf=((_0x3402cf&-0x771299b*-0x1+0x2bb*-0x27823+-0x1*-0xe5bed05)<<-0x2196+0x25f6+0x1*-0x45c|(_0x3402cf&0x67e80ce5+0x16c0e715d+-0xe3058d52)>>>0x2437+-0x16bc+-0xd77)>>>-0x18fd+-0xcf5+0xca6*0x3,_0x3402cf=((_0x3402cf&-0x14a17ce+0x3efcc0*0x6+0xcf2c4d)<<-0x3*0x3e+0x24e7+0x2425*-0x1|(_0x3402cf&0x5511902a*0x5+-0x1f9827b57+0x5*0x4308bb81)>>>-0x219b+0xdb*-0xa+0x2a31)>>>0x2672+0x1077+-0x36e9*0x1,_0x3402cf*(0x5d7+-0x1d3+-0x404+2.3283064365386963e-10);}},BE={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP','xy':'unpackNorm'+'alXY','xyz':'unpackNorm'+'alXYZ'},zE={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Tr{static['decodeFunc'](_0x49fa85){return BE[_0x49fa85]??'decodeGamm'+'a';}static['encodeFunc'](_0xc77a91){return zE[_0xc77a91]??'encodeGamm'+'a';}}const z_=_0x59f39f=>{switch(_0x59f39f){case tu:return'Cubemap';case Gx:return'Octahedral';default:return'Equirect';}},nc=(_0x57a845,_0x2c13bd,_0x270791)=>{if(_0x57a845<=0x243*0x3+-0x1af2+0x1429)_0x2c13bd[_0x270791+(-0x1*0x5fb+-0x1a63+0x205e)]=-0xfb0+0x8e1*0x1+-0x7*-0xf9,_0x2c13bd[_0x270791+(-0x1be*0x1+0x490+0x7*-0x67)]=0x1039+0x1e7c+-0x2eb5,_0x2c13bd[_0x270791+(0x116f*-0x1+-0x1*0x9d1+0x1b42)]=0x829*-0x1+0x474+0x3b5*0x1,_0x2c13bd[_0x270791+(-0x22ca+0x13f2+0xedb)]=0x130c*0x2+-0x1d65+-0x8b3*0x1;else{if(_0x57a845>=0xf34+-0x1117+0x1e4)_0x2c13bd[_0x270791+(-0x335*0xb+-0x2d1+0x2618)]=-0x2a0+0x1be0+-0x1841,_0x2c13bd[_0x270791+(0x15f+0x6*0x407+0x26*-0xac)]=-0x1af4+0x23*0x8b+-0x5*-0x197,_0x2c13bd[_0x270791+(0x119d+0x25ad+-0x7a*0x74)]=0x14b+-0x69*-0x25+-0x1078,_0x2c13bd[_0x270791+(0x8*0x265+-0x283+0x10a2*-0x1)]=-0xb2*-0x35+0x3*0x61d+-0x3731;else{let _0x264192=(-0x7b*-0x3+-0x2524+0x23b4)*_0x57a845%(0x1e71+-0x26a+-0x1c06),_0x50a880=(-0x199*0xe+-0xf93+0x26f0)*_0x57a845%(-0x9cf*0x3+0x1f84+-0x59*0x6),_0x19cdd8=(0x1ddb3+0x7f6*0x2c+-0x23dfa)*_0x57a845%(-0x8d0+0x9fe+-0x2b*0x7);const _0x366d5e=(-0xf4749c+-0xffaaee+0x2f12289)*_0x57a845%(-0x11eb*-0x2+0x1467+0x76*-0x7a);_0x264192-=_0x50a880/(0xe43+-0x264e+0x190a),_0x50a880-=_0x19cdd8/(0x4ab+-0x18e8+-0x2*-0xa9e),_0x19cdd8-=_0x366d5e/(-0x106a+-0xae2+0x1c4b),_0x2c13bd[_0x270791+(-0x1*-0x1f03+0x10db+-0x2fde)]=Math['min'](-0x9e7+-0x1*-0x1f9a+-0x14b4,Math['floor'](_0x264192*(-0x1c64+0x1*-0x22f+0x89*0x3b))),_0x2c13bd[_0x270791+(0x993*0x1+0x1f2*0xf+0x8*-0x4d8)]=Math['min'](0x2537*0x1+0x11a*0x21+-0x4892,Math['floor'](_0x50a880*(0x1aeb+-0x6b7+-0x1334))),_0x2c13bd[_0x270791+(-0x19*0x7d+0x1017+-0x8*0x7c)]=Math['min'](0x15b+0x20c0+-0x1a*0x146,Math['floor'](_0x19cdd8*(0x2*0xd70+0xcf7*-0x3+-0xd05*-0x1))),_0x2c13bd[_0x270791+(0x1*-0x435+-0x272*-0x5+-0x802)]=Math['min'](0x1db1+-0x1*-0x11b2+-0x2*0x1732,Math['floor'](_0x366d5e*(-0x26da+-0x1fe*0xf+-0x116f*-0x4)));}}},VE=_0x2b5c85=>{const _0x269081=_0x2b5c85['length'],_0x423870=Math['min'](_0x269081,0x14*-0xb2+-0x24c6+0x34ae),_0x43d9bf=Math['ceil'](_0x269081/_0x423870),_0x21f709=new Uint8Array(_0x423870*_0x43d9bf*(0x59d*0x1+0x9*-0xb7+0xd6));let _0x2a7b36=0x67a+0x14a7+0x1cf*-0xf;for(let _0x59c6c2=0x2*-0x827+-0x98*-0x7+-0x5*-0x26e;_0x59c6c2<_0x269081;_0x59c6c2+=-0x60d*-0x1+-0x20*0xf7+0x1*0x18d7)nc(_0x2b5c85[_0x59c6c2+(-0x12a3*-0x1+-0xec6*-0x1+-0x2169)]*(0xb*-0x147+0x1859+0x293*-0x4+0.5)+(-0x2*0x117f+0x3*0xbe3+-0xab+0.5),_0x21f709,_0x2a7b36+(0x147e+0x1d5a+-0x4*0xc76)),nc(_0x2b5c85[_0x59c6c2+(-0xb93+0x1cfb+0x21*-0x87)]*(0x1*0x5c7+-0x1411+0xe4a+0.5)+(0x1*0x1555+-0x46b+-0x10ea+0.5),_0x21f709,_0x2a7b36+(-0x1b2e+0x1*-0x189e+0x33d0)),nc(_0x2b5c85[_0x59c6c2+(-0xd15+0x2*-0x429+0x1569)]*(0x120c+-0x2d3+0x1*-0xf39+0.5)+(0x158+-0x371+0x219+0.5),_0x21f709,_0x2a7b36+(0x1e3e+-0x1bfa+-0x23c)),nc(_0x2b5c85[_0x59c6c2+(-0x59*0x69+-0x57+0x24db)]/(-0xd0b+0x25e+0xab5),_0x21f709,_0x2a7b36+(0x577*-0x5+-0x165+0x1cc4)),_0x2a7b36+=-0x2195+0x399*-0xa+-0x55b*-0xd;return{'width':_0x423870,'height':_0x43d9bf,'data':_0x21f709};},GE=(_0x5e2d66,_0x3f144b,_0xcf06a1,_0xbdb763)=>{const _0x5834e6=_0xcf06a1*(-0x1*0x1d8a+0x685*0x5+0x1*-0x30d)*Math['PI'],_0x2a7a0c=Math['pow'](0x1*0x40d+-0x132b+-0xf1f*-0x1-_0x3f144b,(-0x2*0xfd4+0x1349+-0x108*-0xc)/(_0xbdb763+(-0x242a+0x946*-0x1+-0x1*-0x2d71))),_0x19f34a=Math['sqrt'](-0x2d7+-0x191b+0x1bf3-_0x2a7a0c*_0x2a7a0c);_0x5e2d66['set'](Math['cos'](_0x5834e6)*_0x19f34a,Math['sin'](_0x5834e6)*_0x19f34a,_0x2a7a0c)['normalize']();},HE=(_0x3d0fc3,_0x1e1b8a,_0x11ffa2)=>{const _0x5000cf=_0x11ffa2*(0x39*-0x99+0x2*-0xde2+0x3dd7*0x1)*Math['PI'],_0x4f9604=Math['sqrt'](-0x944+0x855+0xf0-_0x1e1b8a),_0xc60f23=Math['sqrt'](_0x1e1b8a);_0x3d0fc3['set'](Math['cos'](_0x5000cf)*_0xc60f23,Math['sin'](_0x5000cf)*_0xc60f23,_0x4f9604)['normalize']();},WE=(_0x2f7e8c,_0x5687cc,_0x38f129,_0x225605)=>{const _0x154683=_0x38f129*(-0x215c+0xa*-0x38f+0x4*0x113d)*Math['PI'],_0x255986=Math['sqrt']((-0x25a*0xc+0x435+0x1804-_0x5687cc)/(-0xff2+-0x1387+0x1*0x237a+(_0x225605*_0x225605-(-0x1*-0x24e8+-0x1f67+0x1*-0x580))*_0x5687cc)),_0x31a9c2=Math['sqrt'](-0x3f9*0x7+-0xa*0x335+0x3be2-_0x255986*_0x255986);_0x2f7e8c['set'](Math['cos'](_0x154683)*_0x31a9c2,Math['sin'](_0x154683)*_0x31a9c2,_0x255986)['normalize']();},$E=(_0x3e37c5,_0x26dc85)=>{const _0x450f38=_0x3e37c5*_0x26dc85,_0xab06aa=_0x26dc85/(-0x2*0x722+-0x1*0xcc9+0x1b0e*0x1-_0x3e37c5*_0x3e37c5+_0x450f38*_0x450f38);return _0xab06aa*_0xab06aa*((-0x5*-0x2a5+-0x1*-0x264b+-0x1*0x3383)/Math['PI']);},XE=(_0x498d69,_0x139273)=>{const _0x47e08c=new D(),_0x1e9bfc=[];for(let _0x22ac96=-0x3*0x837+-0x10*-0xa+0xb*0x22f;_0x22ac96<_0x498d69;++_0x22ac96)GE(_0x47e08c,_0x22ac96/_0x498d69,Nl['radicalInv'+'erse'](_0x22ac96),_0x139273),_0x1e9bfc['push'](_0x47e08c['x'],_0x47e08c['y'],_0x47e08c['z'],-0xc1d+0x19a9+0x3*-0x484);return _0x1e9bfc;},qE=(_0xce4a20,_0x352767)=>{const _0x16157d=_0x352767/_0xce4a20,_0x108e52=new D(),_0x27c391=[];for(let _0x20ef5f=-0x1804+-0x4d*-0x8+-0x4*-0x567;_0x20ef5f<_0xce4a20;++_0x20ef5f){HE(_0x108e52,_0x20ef5f/_0xce4a20,Nl['radicalInv'+'erse'](_0x20ef5f));const _0x5854ae=_0x108e52['z']/Math['PI'],_0x56e628=(0x111d+0x1a47+-0x15b2*0x2+0.5)*Math['log2'](_0x16157d/_0x5854ae);_0x27c391['push'](_0x108e52['x'],_0x108e52['y'],_0x108e52['z'],_0x56e628);}return _0x27c391;},jE={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},YE=(_0x21b158,_0x1eaa80)=>{const _0x5b70e9=jE[_0x21b158];return _0x5b70e9&&_0x5b70e9[_0x1eaa80]||_0x21b158;},KE=(_0xe56784,_0x1ae84f,_0x1fdb47)=>{const _0x3d79ca=_0x1fdb47/_0xe56784,_0x2d9943=0x805*0x1+-0xc*0xa9+0x3*-0x8-Math['log2'](_0x1ae84f)/(0x2*0x72e+0x24d9+0x25*-0x162),_0x492244=_0x2d9943*_0x2d9943,_0x4d6782=new D(),_0x14095e=new D(),_0xbb9cbe=new D(-0xc6e+0x1380+-0x1*0x712,-0x2*-0x6d9+0x2622+-0x33d4,0x22b8+0x3fc+-0x26b3),_0x3347d9=[],_0x58ba6f=YE(_0xe56784,_0x1ae84f);for(let _0x39ff99=0x1*0x198e+-0x51*0x3+-0x189b;_0x39ff99<_0x58ba6f;++_0x39ff99){WE(_0x4d6782,_0x39ff99/_0x58ba6f,Nl['radicalInv'+'erse'](_0x39ff99),_0x492244);const _0x5d7899=_0x4d6782['z'];if(_0x14095e['set'](_0x4d6782['x'],_0x4d6782['y'],_0x4d6782['z'])['mulScalar']((-0x66c*-0x2+0x19d0+-0x11*0x246)*_0x5d7899)['sub'](_0xbb9cbe),_0x14095e['z']>0x40f+-0x2e6*0x5+0xa6f){const _0x2afe80=$E(Math['min'](0x7d+0x2352+-0x23ce,_0x5d7899),_0x492244)/(-0xba4+-0x31*0x5+-0xc9d*-0x1)+(-0x87e*0x3+-0x20b*0x1+0x1b85+0.001),_0x51245e=(-0x1*-0x2309+0xd*-0x2b9+0x5c+0.5)*Math['log2'](_0x3d79ca/_0x2afe80);_0x3347d9['push'](_0x14095e['x'],_0x14095e['y'],_0x14095e['z'],_0x51245e);}}for(;_0x3347d9['length']<_0xe56784*(0x1cbf+-0x20e5+0x29*0x1a);)_0x3347d9['push'](-0x68d+-0x7ca*0x1+0xe57*0x1,0x2126+-0x21da+-0xf*-0xc,0xbd5+-0x5c1*0x2+-0x53*0x1,0x1*0x243e+-0x1d0f*-0x1+-0x414d);return _0x3347d9;},ZE=(_0x1bf712,_0xec56f5,_0x562f71)=>{const _0x40e051=VE(_0x562f71);return new _e(_0x1bf712,{'name':_0xec56f5,'width':_0x40e051['width'],'height':_0x40e051['height'],'mipmaps':!(-0x1de1*0x1+0xb0*-0x1+-0xe*-0x22f),'minFilter':Te,'magFilter':Te,'levels':[_0x40e051['data']]});};class xv{constructor(_0x29457c=!(0xdf0+0xd91*0x2+-0x2912)){h(this,'map',new Map()),this['destroyCon'+'tent']=_0x29457c;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x344a59,_0x2ee51a)=>{_0x344a59['destroy']();});}['get'](_0xf75c0c,_0x121eca){if(!this['map']['has'](_0xf75c0c)){const _0x1668e8=_0x121eca();return this['map']['set'](_0xf75c0c,_0x1668e8),_0x1668e8;}return this['map']['get'](_0xf75c0c);}}const QE=new xv(!(0x152c+0x15bb+-0x2ae6)),JE=new Kt(),dm=(_0xaed85,_0x5d5f16,_0xa45aa4)=>JE['get'](_0xaed85,()=>new xv())['get'](_0x5d5f16,()=>ZE(_0xaed85,_0x5d5f16,QE['get'](_0x5d5f16,_0xa45aa4))),eb=(_0x2d6eb6,_0x37302e,_0x35e961)=>{const _0x579ed9='lambert-sa'+'mples-'+_0x37302e+'-'+_0x35e961;return dm(_0x2d6eb6,_0x579ed9,()=>qE(_0x37302e,_0x35e961));},tb=(_0x918ca,_0x3ca720,_0x8c8dcf)=>{const _0x32d3a1='phong-samp'+'les-'+_0x3ca720+'-'+_0x8c8dcf;return dm(_0x918ca,_0x32d3a1,()=>XE(_0x3ca720,_0x8c8dcf));},sb=(_0x1a4898,_0x38971c,_0x48705d,_0x25d6a7)=>{const _0x4088d3='ggx-sample'+'s-'+_0x38971c+'-'+_0x48705d+'-'+_0x25d6a7;return dm(_0x1a4898,_0x4088d3,()=>KE(_0x38971c,_0x48705d,_0x25d6a7));};function vi(_0x174428,_0x4f3ddb,_0x595b24={}){var _0x35090,_0x24a16d;w['assert'](_0x174428 instanceof _e&&_0x4f3ddb instanceof _e,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x2971f8=_0x595b24['seamPixels']??-0x5d1+-0x1*0xf4a+0x151b,_0x8909e9=(((_0x35090=_0x595b24['rect'])==null?void(0x20*-0x10c+-0xb*0x7c+-0x4*-0x9b5):_0x35090['z'])??_0x4f3ddb['width'])-_0x2971f8*(-0x15a*-0x19+0x155d+-0x3725),_0x3cfae4=(((_0x24a16d=_0x595b24['rect'])==null?void(0x3b*-0x58+0xf8a+0x4be):_0x24a16d['w'])??_0x4f3ddb['height'])-_0x2971f8*(0x1273+-0xeb+-0x1186);if(_0x8909e9<0xd3b+0x351+-0x108b||_0x3cfae4<0x134*-0x18+-0x2*0x474+0x25c9*0x1)return!(-0x2*-0x11f1+0x186*0xf+-0x1e5*0x1f);const _0x300609={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x480069=_0x595b24['hasOwnProp'+'erty']('specularPo'+'wer')?_0x595b24['specularPo'+'wer']:0x2*0x1387+0x47*0x5e+-0x411f,_0x1f399a=_0x595b24['hasOwnProp'+'erty']('face')?_0x595b24['face']:null,_0x19ae4f=_0x595b24['hasOwnProp'+'erty']('distributi'+'on')?_0x595b24['distributi'+'on']:_0x480069===0x1*0x413+-0x26bb+-0x1d3*-0x13?'none':'phong',_0x24ca84=_0x300609[_0x19ae4f]||'reproject',_0x29ceb2=_0x24ca84['startsWith']('prefilterS'+'amples'),_0x168f33=Tr['decodeFunc'](_0x174428['encoding']),_0x48d6d1=Tr['encodeFunc'](_0x4f3ddb['encoding']),_0x439817='sample'+z_(_0x174428['projection']),_0x417705='getDirecti'+'on'+z_(_0x4f3ddb['projection']),_0x5ba2cd=_0x595b24['hasOwnProp'+'erty']('numSamples')?_0x595b24['numSamples']:0x146e+0x1f2*-0x8+-0xde,_0x5255f4='ReprojectS'+'hader:'+_0x24ca84+'_'+_0x168f33+'_'+_0x48d6d1+'_'+_0x439817+'_'+_0x417705+'_'+_0x5ba2cd,_0x5aec5f=_0x174428['device'];let _0xbbb0=Hn(_0x5aec5f)['getCachedS'+'hader'](_0x5255f4);if(!_0xbbb0){const _0x5d83e8=new Map();_0x29ceb2&&_0x5d83e8['set']('USE_SAMPLE'+'S_TEX',''),_0x174428['cubemap']&&_0x5d83e8['set']('CUBEMAP_SO'+'URCE',''),_0x5d83e8['set']('{PROCESS_F'+'UNC}',_0x24ca84),_0x5d83e8['set']('{DECODE_FU'+'NC}',_0x168f33),_0x5d83e8['set']('{ENCODE_FU'+'NC}',_0x48d6d1),_0x5d83e8['set']('{SOURCE_FU'+'NC}',_0x439817),_0x5d83e8['set']('{TARGET_FU'+'NC}',_0x417705),_0x5d83e8['set']('{NUM_SAMPL'+'ES}',_0x5ba2cd),_0x5d83e8['set']('{NUM_SAMPL'+'ES_SQRT}',Math['round'](Math['sqrt'](_0x5ba2cd))['toFixed'](0xe2d+-0x12c+-0x20*0x68));const _0x518bfa=_0x5aec5f['isWebGPU'],_0x52605e=Pe['get'](_0x5aec5f,_0x518bfa?it:Fe),_0x33e4be=new Map();_0x33e4be['set']('decodePS',_0x52605e['get']('decodePS')),_0x33e4be['set']('encodePS',_0x52605e['get']('encodePS')),_0xbbb0=$t['createShad'+'er'](_0x5aec5f,{'uniqueName':_0x5255f4,'attributes':{'vertex_position':Me},'vertexChunk':'reprojectV'+'S','fragmentChunk':'reprojectP'+'S','fragmentIncludes':_0x33e4be,'fragmentDefines':_0x5d83e8});}Q['pushGpuMar'+'ker'](_0x5aec5f,'ReprojectT'+'exture'),_0x5aec5f['setBlendSt'+'ate'](pt['NOBLEND']);const _0x52bfc7=_0x5aec5f['scope']['resolve'](_0x174428['cubemap']?'sourceCube':'sourceTex');w['assert'](_0x52bfc7),_0x52bfc7['setValue'](_0x174428);const _0x2239b9=_0x5aec5f['scope']['resolve']('params'),_0x14c52d=_0x5aec5f['scope']['resolve']('uvMod');_0x2971f8>0x1c44+0x24e+-0x1*0x1e92?_0x14c52d['setValue']([(_0x8909e9+_0x2971f8*(0x1ebc+-0x13ff*-0x1+0xa25*-0x5))/_0x8909e9,(_0x3cfae4+_0x2971f8*(0x1*-0x21a7+-0x1*0x2573+-0x5ed*-0xc))/_0x3cfae4,-_0x2971f8/_0x8909e9,-_0x2971f8/_0x3cfae4]):_0x14c52d['setValue']([-0x1b2a+-0x731+0x225c,-0xf11+0x280*0x1+0xc92,0x1*-0x679+0x30f*-0x5+-0xae2*-0x2,0x6df*-0x1+0x537+0x1a8]);const _0x2a8fa1=[-0x13c7+0x10b6+0x1*0x311,_0x4f3ddb['width']*_0x4f3ddb['height']*(_0x4f3ddb['cubemap']?0x11ab+0xa*-0x23b+0x1*0x4a9:0x525*0x1+0x146f+-0x1993),_0x174428['width']*_0x174428['height']*(_0x174428['cubemap']?-0x12c6+0x447*0x1+-0x3b*-0x3f:0x1772+-0x19cf+0x6*0x65)];if(_0x29ceb2){const _0x2babef=_0x174428['width']*_0x174428['height']*(_0x174428['cubemap']?-0x1*0x235f+-0x16bd+-0x1d11*-0x2:0x5*-0x6d+0x135+0xed),_0x21b7b7=_0x19ae4f==='ggx'?sb(_0x5aec5f,_0x5ba2cd,_0x480069,_0x2babef):_0x19ae4f==='lambert'?eb(_0x5aec5f,_0x5ba2cd,_0x2babef):tb(_0x5aec5f,_0x5ba2cd,_0x480069);_0x5aec5f['scope']['resolve']('samplesTex')['setValue'](_0x21b7b7),_0x5aec5f['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(0x25*-0xaf+0x1*0x106a+0x6*0x17b)/_0x21b7b7['width'],(-0xef3*0x1+-0xd*-0xaf+0x611)/_0x21b7b7['height']]);}for(let _0x11b221=-0x2*-0xdd3+0x189+0x1*-0x1d2f;_0x11b221<(_0x4f3ddb['cubemap']?0x1*0x268f+-0xa*0xb1+-0x1f9f:-0x94*0x2f+-0x3b3+0x260*0xd);_0x11b221++)if(_0x1f399a===null||_0x11b221===_0x1f399a){const _0x62db44=new gt({'colorBuffer':_0x4f3ddb,'face':_0x11b221,'depth':!(-0x448*-0x5+-0x136+-0x1431),'flipY':_0x5aec5f['isWebGPU']});_0x2a8fa1[-0x24*0x1c+-0x7*-0x535+-0x2083]=_0x11b221,_0x2239b9['setValue'](_0x2a8fa1),Ar(_0x5aec5f,_0x62db44,_0xbbb0,_0x595b24==null?void(-0x2245*0x1+-0x2220+0x4465):_0x595b24['rect']),_0x62db44['destroy']();}return Q['popGpuMark'+'er'](_0x5aec5f),!(0x27e+0xab4+-0xd32);}const Kd=(_0x255168,_0xbe04cb=0x24c2*-0x1+-0x1265*-0x1+0x125d)=>-0x29*0xa2+-0xd7d+0x4ee*0x8+Math['floor'](Math['log2'](Math['max'](_0x255168,_0xbe04cb))),ib=_0xc83634=>_0xc83634['textureHal'+'fFloatRend'+'erable'],rb=_0x55ea96=>_0x55ea96['textureFlo'+'atRenderab'+'le'],ab=_0x174a8e=>ib(_0x174a8e)?nt:rb(_0x174a8e)?Xt:Ne,nb=_0x4443f1=>Ne,ob=(_0x5e9ead,_0x21e85a,_0x26c725,_0x1d26e6)=>new _e(_0x5e9ead,{'name':'lighting-'+_0x21e85a,'cubemap':!(-0x1d7d+0x22*-0x92+-0x104b*-0x3),'width':_0x21e85a,'height':_0x21e85a,'format':_0x26c725,'type':Qo,'addressU':ue,'addressV':ue,'mipmaps':!(-0x1964+0x2634+0xccf*-0x1)});class Tv{static['generateSk'+'yboxCubema'+'p'](_0x1b19b2,_0x224f42){const _0xcbb6c0=_0x1b19b2['device'];Q['pushGpuMar'+'ker'](_0xcbb6c0,'genSkyboxC'+'ubemap');const _0x38fa37=ob(_0xcbb6c0,_0x224f42||(_0x1b19b2['cubemap']?_0x1b19b2['width']:_0x1b19b2['width']/(0xa38+-0x90*-0x3d+-0x2c84)),Ne);return vi(_0x1b19b2,_0x38fa37,{'numSamples':0x400}),Q['popGpuMark'+'er'](_0xcbb6c0),_0x38fa37;}static['generateLi'+'ghtingSour'+'ce'](_0x542868,_0xcfc68b){const _0x589087=_0x542868['device'];Q['pushGpuMar'+'ker'](_0x589087,'genLightin'+'gSource');const _0x3b2c6b=ab(_0x589087),_0x196ef2=(_0xcfc68b==null?void(-0x1f4e*0x1+-0x23*-0x32+0x1878):_0xcfc68b['target'])||new _e(_0x589087,{'name':'lighting-s'+'ource','cubemap':!(0xf11*-0x2+0x15bf+-0x71*-0x13),'width':(_0xcfc68b==null?void(-0xe9*-0x2+0x2d6*-0xc+0x2036):_0xcfc68b['size'])||-0x215e+-0x15ad+0x378b,'height':(_0xcfc68b==null?void(0x4c*-0x50+-0x170f+0x2ecf):_0xcfc68b['size'])||0x1*0x23e5+-0x1dc8+0x3*-0x1df,'format':_0x3b2c6b,'type':_0x3b2c6b===Ne?Qo:Ds,'addressU':ue,'addressV':ue,'mipmaps':!(0x10ed+0x25*-0xb7+0x2*0x4c3)});return vi(_0x542868,_0x196ef2,{'numSamples':_0x542868['mipmaps']?0x2a*-0x58+-0x1*0x190e+0x1*0x277f:-0xcd1*0x1+-0x2218+0x32e9*0x1}),Q['popGpuMark'+'er'](_0x589087),_0x196ef2;}static['generateAt'+'las'](_0x3f951a,_0xd64332){const _0x116df9=_0x3f951a['device'],_0x2c8b98=nb();Q['pushGpuMar'+'ker'](_0x116df9,'genAtlas');const _0xc80a87=(_0xd64332==null?void(-0xefd*0x1+-0x59*0x31+0x2006):_0xd64332['target'])||new _e(_0x116df9,{'name':'envAtlas','width':(_0xd64332==null?void(-0xf*0xe5+-0x2450+0x31bb):_0xd64332['size'])||-0xd98+-0x2405*-0x1+-0x146d,'height':(_0xd64332==null?void(0x1e04+-0x2*0xe61+-0x7*0x2e):_0xd64332['size'])||-0xc9*0x5+-0x22db+-0x519*-0x8,'format':_0x2c8b98,'type':Qo,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(-0x3a9*-0x7+0xfb4+0xf6*-0x2b)});Q['pushGpuMar'+'ker'](_0x116df9,'mipmaps');const _0x1d7c65=_0xc80a87['width']/(0x23bb+0x18d6+-0x3a91),_0x44c9f1=new re(-0x22c8+0xa70+0xa4*0x26,0x1*0x2cd+-0x1*0x444+0x177,(-0x3*-0x851+0x114b+-0x283e)*_0x1d7c65,(-0xb23*0x2+0x2*-0x996+0x2a72)*_0x1d7c65),_0x5acc5f=Kd(-0x24a3*-0x1+-0x2b9+-0x1075*0x2)-Kd(-0x1b*-0x12f+0x1*0x182b+0x2*-0x1c0e);for(let _0x4db745=0x6*0x71+-0x8d2+0x13c*0x5;_0x4db745<_0x5acc5f;++_0x4db745)vi(_0x3f951a,_0xc80a87,{'numSamples':0x1,'rect':_0x44c9f1,'seamPixels':_0x1d7c65}),_0x44c9f1['x']+=_0x44c9f1['w'],_0x44c9f1['y']+=_0x44c9f1['w'],_0x44c9f1['z']=Math['max'](-0x1b98+-0x1f7b+0x3b14,Math['floor'](_0x44c9f1['z']*(0x68+-0x15*-0x1c3+-0x2567+0.5))),_0x44c9f1['w']=Math['max'](0x3b2*-0x1+0x475*0x6+-0x170b,Math['floor'](_0x44c9f1['w']*(-0x14d7+-0xb3b+0x2012+0.5)));Q['popGpuMark'+'er'](_0x116df9),Q['pushGpuMar'+'ker'](_0x116df9,'reflection'+'s'),_0x44c9f1['set'](0x36d*-0x2+0x15a6+-0xecc*0x1,(-0x22ed+-0x2ea*0x9+0x1*0x3e27)*_0x1d7c65,(0x1b27+-0xbbc*-0x2+-0x319f)*_0x1d7c65,(-0x10ea+-0x1*-0x1c8b+-0xb21)*_0x1d7c65);for(let _0x46fcdb=-0xd51+-0x368*-0x4+-0x2*0x27;_0x46fcdb<-0x15a1+-0x1*-0x2fe+0x12aa;++_0x46fcdb)vi(_0x3f951a,_0xc80a87,{'numSamples':(_0xd64332==null?void(-0x1*-0x1191+0x259d+-0x7*0x7e2):_0xd64332['numReflect'+'ionSamples'])||-0x3*0x1ab+0x955+-0x54,'distribution':(_0xd64332==null?void(0x121a+-0x264a+0x1430):_0xd64332['distributi'+'on'])||'ggx','specularPower':Math['max'](0x11*0x22d+-0x2e0+-0x221c,-0xda7+0x2388+-0xde1>>_0x46fcdb*(-0x1608+-0x1734+-0x1*-0x2d3e)),'rect':_0x44c9f1,'seamPixels':_0x1d7c65}),_0x44c9f1['y']+=_0x44c9f1['w'],_0x44c9f1['z']=Math['max'](-0x10a4+0x1*0x277+0xe2e,Math['floor'](_0x44c9f1['z']*(-0x614+0x1af0+0x59*-0x3c+0.5))),_0x44c9f1['w']=Math['max'](0x916+0x1710+-0x2025,Math['floor'](_0x44c9f1['w']*(-0x19d*0x18+-0x1204+0x38bc+0.5)));return Q['popGpuMark'+'er'](_0x116df9),Q['pushGpuMar'+'ker'](_0x116df9,'ambient'),_0x44c9f1['set']((0x1*0x36f+-0x1e5f+0x1b70)*_0x1d7c65,(-0x26ed+0x23b5+-0x97*-0x8)*_0x1d7c65,(-0x3*-0x701+0x23bf*0x1+-0x3882)*_0x1d7c65,(0x2574+-0xeed+0x1667*-0x1)*_0x1d7c65),vi(_0x3f951a,_0xc80a87,{'numSamples':(_0xd64332==null?void(0x1*0x2ff+0x13d1+-0x16d0):_0xd64332['numAmbient'+'Samples'])||0x1036*0x1+-0x440+-0x3f6,'distribution':'lambert','rect':_0x44c9f1,'seamPixels':_0x1d7c65}),Q['popGpuMark'+'er'](_0x116df9),Q['popGpuMark'+'er'](_0x116df9),_0xc80a87;}static['generatePr'+'efilteredA'+'tlas'](_0xe9e8dd,_0x488c1f){const _0x5ddf4b=_0xe9e8dd[-0x170a+0x2c*-0x77+0x15bf*0x2]['device'],_0x114e8f=_0xe9e8dd[0x63f+-0x1826+-0x1*-0x11e7]['format'],_0x2c9dc9=_0xe9e8dd[-0xbd2*0x3+0x18*0x99+0x13e*0x11]['type'];Q['pushGpuMar'+'ker'](_0x5ddf4b,'genPrefilt'+'eredAtlas');const _0x24e646=(_0x488c1f==null?void(-0x85f*0x1+-0x3*-0x525+-0x710):_0x488c1f['target'])||new _e(_0x5ddf4b,{'name':'envPrefilt'+'eredAtlas','width':(_0x488c1f==null?void(-0x330+0x170e+0x9ef*-0x2):_0x488c1f['size'])||0x1ca5*-0x1+-0xa9*0x26+0x37bb,'height':(_0x488c1f==null?void(-0x1c53+-0x3*-0xb5d+-0x5c4):_0x488c1f['size'])||0x220f*-0x1+-0x5*0x5a3+0x403e,'format':_0x114e8f,'type':_0x2c9dc9,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(-0x15d7*-0x1+0x9f6*0x3+0x33b8*-0x1)});Q['pushGpuMar'+'ker'](_0x5ddf4b,'mipmaps');const _0xba9414=_0x24e646['width']/(0xb*0x184+0x3af+-0x1*0x125b),_0x904f60=new re(0x19*-0x76+-0x1060+0x1be6,-0x222f+0x67*-0x11+0x1*0x2906,(-0x2*-0xbd8+-0x2e6*0x7+-0x166)*_0xba9414,(0x102e+0x211*0x7+-0x1*0x1da5)*_0xba9414),_0x339720=Kd(0xd2a+0x708+0x1*-0x1232);for(let _0x132fe6=-0x21*0x4b+0xf54+-0x5a9;_0x132fe6<_0x339720;++_0x132fe6)vi(_0xe9e8dd[-0x8*0x322+0x98b+-0xf85*-0x1],_0x24e646,{'numSamples':0x1,'rect':_0x904f60,'seamPixels':_0xba9414}),_0x904f60['x']+=_0x904f60['w'],_0x904f60['y']+=_0x904f60['w'],_0x904f60['z']=Math['max'](-0x21c0*-0x1+-0x1*-0xb97+-0x2d56,Math['floor'](_0x904f60['z']*(-0xffb+-0x1*-0xf07+0xf4+0.5))),_0x904f60['w']=Math['max'](-0x59*-0x39+0x1*-0x1433+0x63,Math['floor'](_0x904f60['w']*(0x1d93+-0xc0c+0x281*-0x7+0.5)));Q['popGpuMark'+'er'](_0x5ddf4b),Q['pushGpuMar'+'ker'](_0x5ddf4b,'reflection'+'s'),_0x904f60['set'](0xc*0x297+-0x8de+0x2*-0xb1b,(0xfe0+0x1*-0x1573+0x693)*_0xba9414,(-0x2*0x1eb+0x7*-0x24+0x12a*0x5)*_0xba9414,(0x43a*0x5+-0x20b2+-0x8*-0x182)*_0xba9414);for(let _0x1c90c8=0x5f*-0x1f+0x14e*-0xb+0x19dc;_0x1c90c8<_0xe9e8dd['length'];++_0x1c90c8)vi(_0xe9e8dd[_0x1c90c8],_0x24e646,{'numSamples':0x1,'rect':_0x904f60,'seamPixels':_0xba9414}),_0x904f60['y']+=_0x904f60['w'],_0x904f60['z']=Math['max'](0x1b02*-0x1+-0x1bc0+0x36c3,Math['floor'](_0x904f60['z']*(-0x5e*-0x43+-0xaeb+-0xdaf*0x1+0.5))),_0x904f60['w']=Math['max'](0x2*-0x16+-0xad0*0x1+0xafd*0x1,Math['floor'](_0x904f60['w']*(-0x206+-0x2e*-0x49+-0xb18+0.5)));return Q['popGpuMark'+'er'](_0x5ddf4b),Q['pushGpuMar'+'ker'](_0x5ddf4b,'ambient'),_0x904f60['set']((-0x267f+-0x1*-0x853+-0x2*-0xf56)*_0xba9414,(-0x301*-0x7+0x1c00+0x2f87*-0x1)*_0xba9414,(-0x26fb*0x1+0x1f91+0xda*0x9)*_0xba9414,(0x253a+-0x19c5+0x1*-0xb55)*_0xba9414),_0x488c1f!=null&&_0x488c1f['legacyAmbi'+'ent']?vi(_0xe9e8dd[-0x9c7*0x2+-0x1a75+0x2e08],_0x24e646,{'numSamples':0x1,'rect':_0x904f60,'seamPixels':_0xba9414}):vi(_0xe9e8dd[-0x1693+0x1*0x1e55+-0x2*0x3e1],_0x24e646,{'numSamples':(_0x488c1f==null?void(-0x18d*-0x16+0x56*-0x65+-0x8*0x6):_0x488c1f['numSamples'])||-0x3*0x116+-0x3c+-0x2*-0x5bf,'distribution':'lambert','rect':_0x904f60,'seamPixels':_0xba9414}),Q['popGpuMark'+'er'](_0x5ddf4b),Q['popGpuMark'+'er'](_0x5ddf4b),_0x24e646;}}const lb={'aoPS':'1.57','clearCoatPS':'1.57','clearCoatGlossPS':'1.60','clearCoatNormalPS':'1.57','diffusePS':'1.57','emissivePS':'1.57','glossPS':'1.60','metalnessPS':'1.57','normalMapPS':'1.57','opacityPS':'1.57','parallaxPS':'1.57','sheenPS':'1.57','sheenGlossPS':'1.60','specularPS':'1.57','specularityFactorPS':'1.57','thicknessPS':'1.57','transmissionPS':'1.57','normalVertexPS':'1.55','aoDiffuseOccPS':'1.62','aoSpecOccPS':'2.6','clusteredLightPS':'1.62','clusteredLightShadowPS':'1.62','combinePS':'1.62','falloffInvSquaredPS':'1.62','falloffLinearPS':'1.62','lightDiffuseLambertPS':'1.62','lightSheenPS':'1.62','lightSpecularAnisoGGXPS':'1.62','lightSpecularBlinnPS':'1.62','ltcPS':'1.62','reflDirPS':'1.62','reflDirAnisoPS':'1.62','reflectionCCPS':'1.62','reflectionCubePS':'2.6','reflectionEnvPS':'2.6','reflectionEnvHQPS':'2.6','reflectionSpherePS':'2.6','reflectionSheenPS':'1.62','shadowCommonPS':'1.62','shadowCoordPS':'1.62','shadowCoordPerspZBufferPS':'1.62','shadowEVSMPS':'1.62','spotPS':'1.62','TBNPS':'1.62','endPS':'1.65','metalnessModulatePS':'1.65','outputAlphaPS':'1.65','outputAlphaPremulPS':'1.65','fresnelSchlickPS':'1.65','iridescenceDiffractionPS':'1.65','lightmapAddPS':'1.65','refractionCubePS':'1.70','refractionDynamicPS':'1.70'},V_={'ambientPrefilteredCubePS':'1.51','ambientPrefilteredCubeLodPS':'1.51','dpAtlasQuadPS':'1.51','genParaboloidPS':'1.51','prefilterCubemapPS':'1.51','reflectionDpAtlasPS':'1.51','reflectionPrefilteredCubePS':'1.51','reflectionPrefilteredCubeLodPS':'1.51','refractionPS':'1.56','combineClearCoatPS':'1.56','combineDiffusePS':'1.56','combineDiffuseSpecularPS':'1.56','combineDiffuseSpecularNoReflPS':'1.56','combineDiffuseSpecularNoReflSeparateAmbientPS':'1.56','combineDiffuseSpecularOldPS':'1.56','lightmapSingleVertPS':'1.55','normalMapFastPS':'1.55','specularAaNonePS':'1.55','specularAaToksvigPS':'1.55','specularAaToksvigFastPS':'1.55','skyboxEnvPS':'2.1','skyboxHDRPS':'2.1','shadowVSM8PS':'2.3','fogExpPS':'2.5','fogExp2PS':'2.5','fogLinearPS':'2.5','fogNonePS':'2.5','gamma1_0PS':'2.5','gamma2_2PS':'2.5','storeEVSMPS':'2.6','shadowEVSMnPS':'2.6','shadowVSM_commonPS':'2.6','shadowStandardPS':'2.6','shadowStandardGL2PS':'2.6','startVS':'2.6','endVS':'2.6','baseVS':'2.6','baseNineSlicedVS':'2.6','viewNormalVS':'2.6','lightmapDirAddPS':'2.6','TBNObjectSpacePS':'2.6','TBNderivativePS':'2.6','startPS':'2.6','outputAlphaOpaque':'2.6','outputAlphaPremul':'2.6','cubeMapProjectBoxPS':'2.6','cubeMapProjectNonePS':'2.6','envMultiplyPS':'2.6','envConstPS':'2.6','aoSpecOccConstPS':'2.6','aoSpecOccConstSimplePS':'2.6','aoSpecOccSimplePS':'2.6','ambientConstantPS':'2.6','ambientEnvPS':'2.6','ambientSHPS':'2.6','shadowSampleCoordPS':'2.6','diffuseDetailMapPS':'2.7','normalDetailMapPS':'2.7','normalXYPS':'2.7','normalXYZPS':'2.7','aoDetailMapPS':'2.7','lightmapDirPS':'2.7','lightmapSinglePS':'2.7','tangentBinormalVS':'2.7'},cb=(_0xd7c35,_0x3cc056)=>{const _0x3362b9=_0xd7c35['split']('.')['map'](_0x540f37=>parseInt(_0x540f37,-0x3d1+-0x1c32+0x223*0xf)),_0x1fa737=_0x3cc056['split']('.')['map'](_0x26bc2d=>parseInt(_0x26bc2d,-0x2*0x63d+0x1f59+-0x12d5));return _0x3362b9[0x1c29+-0x29*-0x97+-0x3458]<_0x1fa737[0x7*-0xcb+0x167*0x5+-0x176]||_0x3362b9[-0x182b*0x1+0x2*-0xa2f+-0x36d*-0xd]===_0x1fa737[0x1a8+-0x1591+0x13e9]&&_0x3362b9[0xa2*-0x3+-0x117f+0x1366]<_0x1fa737[-0x335*0x1+0xf2+0x244];},hb=(_0xb1ae8b,_0xeb427e)=>{for(const _0x61961a of _0xb1ae8b['keys']())if(V_['hasOwnProp'+'erty'](_0x61961a)){const _0x47dfa8=V_[_0x61961a];w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x61961a+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x47dfa8+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.'));}else{const _0x469ed6=lb[_0x61961a];_0x469ed6&&(!_0xeb427e||cb(_0xeb427e,_0x469ed6))&&w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x61961a+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x469ed6+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0xeb427e||'undefined')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}},Zd={'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_color':Wt,'vertex_boneWeights':gi,'vertex_boneIndices':us};class db{constructor(_0x4b9a2d,_0x2895e5,_0x4aade7=!(0x161c+-0x56d+-0x10af)){h(this,'varyingsCo'+'de',''),h(this,'device'),h(this,'options'),h(this,'shaderLang'+'uage'),h(this,'vDefines',new Map()),h(this,'fDefines',new Map()),h(this,'includes',new Map()),h(this,'chunks',null),(this['device']=_0x4b9a2d,this['options']=_0x2895e5);const _0x3ce6ef=_0x2895e5['shaderChun'+'ks'];if(this['shaderLang'+'uage']=_0x4b9a2d['isWebGPU']&&_0x4aade7&&(_0x3ce6ef!=null&&_0x3ce6ef['useWGSL'])?it:Fe,this['attributes']={'vertex_position':Me},_0x2895e5['userAttrib'+'utes']){for(const [_0x3b8be1,_0x2ac486]of Object['entries'](_0x2895e5['userAttrib'+'utes']))this['attributes'][_0x2ac486]=_0x3b8be1;}const _0x2e2fb4=Pe['get'](_0x4b9a2d,this['shaderLang'+'uage']);if(this['chunks']=new Map(_0x2e2fb4),_0x3ce6ef){const _0x1760fe=this['shaderLang'+'uage']===Fe?_0x3ce6ef['glsl']:_0x3ce6ef['wgsl'];w['call'](()=>{hb(_0x1760fe,_0x3ce6ef['version']);}),_0x1760fe['forEach']((_0x560124,_0x527d3d)=>{for(const _0x46eff8 in Zd)Zd['hasOwnProp'+'erty'](_0x46eff8)&&_0x560124['indexOf'](_0x46eff8)>=-0x5*-0x2c5+0xf59*0x1+-0x1d32&&(this['attributes'][_0x46eff8]=Zd[_0x46eff8]);this['chunks']['set'](_0x527d3d,_0x560124);});}this['shaderPass'+'Info']=Si['get'](this['device'])['getByIndex'](_0x2895e5['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x2895e5['lights']['length']>-0x41*-0x37+0x17*-0x101+0x92*0x10||_0x2895e5['dirLightMa'+'pEnabled']||_0x2895e5['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=_0x2895e5['reflection'+'Source']!==vr,this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x2895e5['useSpecula'+'r']||_0x2895e5['ambientSH']||_0x2895e5['useHeights']||_0x2895e5['enableGGXS'+'pecular']||_0x2895e5['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x2895e5['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x2895e5['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x2895e5['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x2895e5['useDynamic'+'Refraction'],this['vshader']=null,this['fshader']=null;}['fDefineSet'](_0x15b028,_0x518108,_0x2a4631=''){_0x15b028&&this['fDefines']['set'](_0x518108,_0x2a4631);}['generateVe'+'rtexShader'](_0x104ad5,_0x974869,_0x41981d){const {options:_0xce2ed1,vDefines:_0x542c90,attributes:_0x3ccee8}=this,_0x2fad8e=new Map();if(_0x2fad8e['set']('vPositionW','vec3'),(_0xce2ed1['nineSliced'+'Mode']===Pt||_0xce2ed1['nineSliced'+'Mode']===Mt)&&_0x542c90['set']('NINESLICED',!(0x4*-0x10d+-0x1e0d+0x2241)),this['options']['linearDept'+'h']&&(_0x542c90['set']('LINEAR_DEP'+'TH',!(-0x18bc+-0x387+0x1c43)),_0x2fad8e['set']('vLinearDep'+'th','float')),this['needsNorma'+'l']&&_0x542c90['set']('NORMALS',!(0xd*0xf6+-0x6*0x60d+0x17d0)),this['options']['useInstanc'+'ing']){const _0x236b32=Pe['get'](this['device'],this['shaderLang'+'uage']);this['chunks']['get']('transformI'+'nstancingV'+'S')===_0x236b32['get']('transformI'+'nstancingV'+'S')&&(_0x3ccee8['instance_l'+'ine1']=Mp,_0x3ccee8['instance_l'+'ine2']=Dp,_0x3ccee8['instance_l'+'ine3']=Ip,_0x3ccee8['instance_l'+'ine4']=Ln);}this['needsNorma'+'l']&&(_0x3ccee8['vertex_nor'+'mal']=gs,_0x2fad8e['set']('vNormalW','vec3'),_0xce2ed1['hasTangent'+'s']&&(_0xce2ed1['useHeights']||_0xce2ed1['useNormals']||_0xce2ed1['useClearCo'+'atNormals']||_0xce2ed1['enableGGXS'+'pecular'])?(_0x542c90['set']('TANGENTS',!(-0x13*0x7b+-0x2*-0xdab+-0x1235)),_0x3ccee8['vertex_tan'+'gent']=yi,_0x2fad8e['set']('vTangentW','vec3'),_0x2fad8e['set']('vBinormalW','vec3')):_0xce2ed1['enableGGXS'+'pecular']&&(_0x542c90['set']('GGX_SPECUL'+'AR',!(0x1*-0x1319+-0x24a4+0x2ef*0x13)),_0x2fad8e['set']('vObjectSpa'+'ceUpW','vec3')));const _0x981c84=0x8bd*0x1+-0x343*-0x5+0x190a*-0x1;for(let _0x5a4bc6=0x59+-0x17*0x11f+-0x4a*-0x58;_0x5a4bc6<_0x981c84;_0x5a4bc6++)_0x104ad5[_0x5a4bc6]&&(_0x542c90['set']('UV'+_0x5a4bc6,!(0xa7*0x34+-0x26c2+0x26b*0x2)),_0x3ccee8['vertex_tex'+'Coord'+_0x5a4bc6]='TEXCOORD'+_0x5a4bc6),_0x974869[_0x5a4bc6]&&(_0x542c90['set']('UV'+_0x5a4bc6+('_UNMODIFIE'+'D'),!(0x5*0x43+0xfb9+-0x1108)),_0x2fad8e['set']('vUv'+_0x5a4bc6,'vec2'));let _0x42a33c=0x124*0x6+-0x20d0+-0x4*-0x67e;const _0x4b62d5=new Set();_0x41981d['forEach'](_0x2406b3=>{const {id:_0x5f2043,uv:_0xd325d4,name:_0x12f640}=_0x2406b3,_0x1566ac=_0x5f2043+_0xd325d4*(-0x1*0x2381+0x21d2+0x213);if(!_0x4b62d5['has'](_0x1566ac)){_0x4b62d5['add'](_0x1566ac),_0x2fad8e['set']('vUV'+_0xd325d4+'_'+_0x5f2043,'vec2');const _0x49f732='texture_'+_0x12f640+('MapTransfo'+'rm');_0x542c90['set']('{TRANSFORM'+'_NAME_'+_0x42a33c+'}',_0x49f732),_0x542c90['set']('{TRANSFORM'+'_UV_'+_0x42a33c+'}',_0xd325d4),_0x542c90['set']('{TRANSFORM'+'_ID_'+_0x42a33c+'}',_0x5f2043),_0x42a33c++;}}),_0x542c90['set']('UV_TRANSFO'+'RMS_COUNT',_0x42a33c),_0xce2ed1['vertexColo'+'rs']&&(_0x3ccee8['vertex_col'+'or']=Wt,_0x542c90['set']('VERTEX_COL'+'OR',!(0x1cf0+-0xfb7+0x2a5*-0x5)),_0x2fad8e['set']('vVertexCol'+'or','vec4')),_0xce2ed1['useMsdf']&&_0xce2ed1['msdfTextAt'+'tribute']&&(_0x3ccee8['vertex_out'+'lineParame'+'ters']=Ko,_0x3ccee8['vertex_sha'+'dowParamet'+'ers']=Zo,_0x542c90['set']('MSDF',!(0x136e+-0x1e3*0x1+-0x1*0x118b))),(_0xce2ed1['useMorphPo'+'sition']||_0xce2ed1['useMorphNo'+'rmal'])&&(_0x542c90['set']('MORPHING',!(0xdd5*0x1+-0x1*-0xab7+-0x1*0x188c)),_0xce2ed1['useMorphTe'+'xtureBased'+'Int']&&_0x542c90['set']('MORPHING_I'+'NT',!(-0x2b*0xd6+-0x2451+0x4843)),_0xce2ed1['useMorphPo'+'sition']&&_0x542c90['set']('MORPHING_P'+'OSITION',!(0x260b+-0x4*0x5bc+-0xf1b)),_0xce2ed1['useMorphNo'+'rmal']&&_0x542c90['set']('MORPHING_N'+'ORMAL',!(0x1642+0xc5f+-0x22a1)),_0x3ccee8['morph_vert'+'ex_id']=Ln),_0xce2ed1['skin']&&(_0x3ccee8['vertex_bon'+'eIndices']=us,_0xce2ed1['batch']?_0x542c90['set']('BATCH',!(0x1*-0x4a7+-0x1*0x7db+-0xc82*-0x1)):(_0x3ccee8['vertex_bon'+'eWeights']=gi,_0x542c90['set']('SKIN',!(-0x1105+0x2*0x40f+0x8e7)))),_0xce2ed1['useInstanc'+'ing']&&_0x542c90['set']('INSTANCING',!(0xdd+0xce2+0x33*-0x45)),_0xce2ed1['screenSpac'+'e']&&_0x542c90['set']('SCREENSPAC'+'E',!(0x4*-0xdd+0xbe5*0x3+-0x203b)),_0xce2ed1['pixelSnap']&&_0x542c90['set']('PIXELSNAP',!(-0x1f5c+0x1604+0x958)),_0x2fad8e['forEach']((_0x2bed6e,_0x56bf45)=>{this['varyingsCo'+'de']+='#define\x20VA'+'RYING_'+_0x56bf45['toUpperCas'+'e']()+'\x0a',this['varyingsCo'+'de']+=this['shaderLang'+'uage']===it?'varying\x20'+_0x56bf45+':\x20'+Fy['get'](_0x2bed6e)+';\x0a':'varying\x20'+_0x2bed6e+'\x20'+_0x56bf45+';\x0a';}),this['includes']['set']('varyingsVS',this['varyingsCo'+'de']),this['includes']['set']('varyingsPS',this['varyingsCo'+'de']),this['vshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}['_setupLigh'+'tingDefine'+'s'](_0x525d3c,_0x3b08a1){const _0x2229ee=this['fDefines'],_0x119878=this['options'];if(this['fDefines']['set']('LIGHT_COUN'+'T',_0x119878['lights']['length']),_0x525d3c&&_0x2229ee['set']('AREA_LIGHT'+'S',!(-0x317*0x9+0x2281+-0x6b2)),_0x3b08a1&&this['lighting']&&(_0x2229ee['set']('LIT_CLUSTE'+'RED_LIGHTS',!(0x1*0x14e5+-0x1525*0x1+0x40)),_0x119878['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x2229ee['set']('CLUSTER_CO'+'OKIES',!(0x422*0x7+0xead+-0xb7*0x3d)),_0x119878['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x2229ee['set']('CLUSTER_AR'+'EALIGHTS',!(-0x1*-0x43f+-0x1319+-0xeda*-0x1)),_0x119878['lightMaskD'+'ynamic']&&_0x2229ee['set']('CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS',!(0x8e*0x1+-0x12fd+0x21*0x8f)),_0x119878['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x119878['noShadow'])){const _0x379155=qi['get'](_0x119878['clusteredL'+'ightingSha'+'dowType']);_0x2229ee['set']('CLUSTER_SH'+'ADOWS',!(-0xc4b+0x47f*-0x3+0x19c8)),_0x2229ee['set']('SHADOW_KIN'+'D_'+_0x379155['kind'],!(0x674+-0x1bd0+-0x155c*-0x1)),_0x2229ee['set']('CLUSTER_SH'+'ADOW_TYPE_'+_0x379155['kind'],!(0x201e*0x1+0x2c8+-0x3*0xba2));}for(let _0x2be915=0x1*0x169c+0x446+-0x1ae2;_0x2be915<_0x119878['lights']['length'];_0x2be915++){const _0x18f6da=_0x119878['lights'][_0x2be915],_0x5821c2=_0x18f6da['_type'];if(_0x3b08a1&&_0x5821c2!==ve)continue;const _0x3ce06f=_0x525d3c&&_0x18f6da['_shape']?_0x18f6da['_shape']:Ys,_0xc4fb3c=_0x18f6da['_shadowTyp'+'e'],_0x32f7e5=_0x18f6da['castShadow'+'s']&&!_0x119878['noShadow'],_0x3a0000=qi['get'](_0xc4fb3c);w['assert'](_0x3a0000),_0x2229ee['set']('LIGHT'+_0x2be915,!(-0x1c94+0x15be+0x6d6)),_0x2229ee['set']('LIGHT'+_0x2be915+'TYPE',''+u_[_0x5821c2]),_0x2229ee['set']('LIGHT'+_0x2be915+'SHADOWTYPE',''+_0x3a0000['name']),_0x2229ee['set']('LIGHT'+_0x2be915+'SHAPE',''+Fw[_0x3ce06f]),_0x2229ee['set']('LIGHT'+_0x2be915+'FALLOFF',''+Nw[_0x18f6da['_falloffMo'+'de']]),_0x18f6da['affectSpec'+'ularity']&&_0x2229ee['set']('LIGHT'+_0x2be915+('AFFECT_SPE'+'CULARITY'),!(0x3*-0xb9d+-0x2471+-0x1*-0x4748)),_0x18f6da['_cookie']&&(_0x5821c2===Ze&&!_0x18f6da['_cookie']['_cubemap']||_0x5821c2===Ke&&_0x18f6da['_cookie']['_cubemap'])&&(_0x2229ee['set']('LIGHT'+_0x2be915+'COOKIE',!(-0x1776+-0x10f2+0x2868)),_0x2229ee['set']('{LIGHT'+_0x2be915+('COOKIE_CHA'+'NNEL}'),_0x18f6da['_cookieCha'+'nnel']),_0x5821c2===Ze&&(_0x18f6da['_cookieTra'+'nsform']&&_0x2229ee['set']('LIGHT'+_0x2be915+('COOKIE_TRA'+'NSFORM'),!(0x1b5d+0xd37*0x1+-0x2894)),_0x18f6da['_cookieFal'+'loff']&&_0x2229ee['set']('LIGHT'+_0x2be915+('COOKIE_FAL'+'LOFF'),!(0x3df*-0x3+-0xaf2+-0x4b*-0x4d)))),_0x32f7e5&&(_0x2229ee['set']('LIGHT'+_0x2be915+'CASTSHADOW',!(-0x119d+-0x608+0x1*0x17a5)),_0x3a0000['pcf']&&_0x2229ee['set']('LIGHT'+_0x2be915+'SHADOW_PCF',!(-0x2*-0x162+-0x5*0x1a3+0x56b)),_0x18f6da['_normalOff'+'setBias']&&!_0x18f6da['_isVsm']&&_0x2229ee['set']('LIGHT'+_0x2be915+('_SHADOW_SA'+'MPLE_NORMA'+'L_OFFSET'),!(0x19fe+0x1d4f+0x625*-0x9)),_0x5821c2===ve&&(_0x2229ee['set']('LIGHT'+_0x2be915+('_SHADOW_SA'+'MPLE_ORTHO'),!(-0xf8+-0x1481+0x1579*0x1)),_0x18f6da['cascadeBle'+'nd']>-0x5f4+0x2267+-0x1c73&&_0x2229ee['set']('LIGHT'+_0x2be915+('_SHADOW_CA'+'SCADE_BLEN'+'D'),!(-0x7*0x4a9+-0x6c3+0x2762)),_0x18f6da['numCascade'+'s']>-0x5*-0x52b+0x6c3+-0x2099&&_0x2229ee['set']('LIGHT'+_0x2be915+('_SHADOW_CA'+'SCADES'),!(-0x2196+0x1*0x641+0x1b55))),(_0x3a0000['pcf']||_0x3a0000['pcss']||this['device']['isWebGPU'])&&_0x2229ee['set']('LIGHT'+_0x2be915+('_SHADOW_SA'+'MPLE_SOURC'+'E_ZBUFFER'),!(-0x11*-0x29+0xf4f+-0x1*0x1208)),_0x5821c2===Ke&&_0x2229ee['set']('LIGHT'+_0x2be915+('_SHADOW_SA'+'MPLE_POINT'),!(0x1088+0x16*-0x1a3+0x9bd*0x2))),_0x32f7e5&&(_0x2229ee['set']('SHADOW_KIN'+'D_'+_0x3a0000['kind'],!(-0x34a*0xa+-0x41a+0x24fe*0x1)),_0x5821c2===ve&&_0x2229ee['set']('SHADOW_DIR'+'ECTIONAL',!(0x1c64+0xa47*0x3+-0x3b39*0x1)));}}['prepareFor'+'wardPass'](_0x2e45d2){const {options:_0x5c63e8}=this,_0x341a20=_0x5c63e8['clusteredL'+'ightingEna'+'bled']&&_0x5c63e8['clusteredL'+'ightingAre'+'aLightsEna'+'bled']||_0x5c63e8['lights']['some'](_0x4e5cc0=>_0x4e5cc0['_shape']&&_0x4e5cc0['_shape']!==Ys),_0x8f36af=!_0x5c63e8['lightMapEn'+'abled']||_0x5c63e8['lightMapWi'+'thoutAmbie'+'nt'],_0x813dfb=this['needsNorma'+'l']&&(_0x5c63e8['useNormals']||_0x5c63e8['useClearCo'+'atNormals']||_0x5c63e8['enableGGXS'+'pecular']&&!_0x5c63e8['useHeights']);_0x5c63e8['useSpecula'+'r']&&(this['fDefineSet'](!(-0x1*0x2436+-0x132c+0x2*0x1bb1),'LIT_SPECUL'+'AR'),this['fDefineSet'](this['reflection'+'s'],'LIT_REFLEC'+'TIONS'),this['fDefineSet'](_0x5c63e8['useClearCo'+'at'],'LIT_CLEARC'+'OAT'),this['fDefineSet'](_0x5c63e8['fresnelMod'+'el']>0x7fb+0xf16*-0x1+0x71b,'LIT_SPECUL'+'AR_FRESNEL'),this['fDefineSet'](_0x5c63e8['useSheen'],'LIT_SHEEN'),this['fDefineSet'](_0x5c63e8['useIridesc'+'ence'],'LIT_IRIDES'+'CENCE')),this['fDefineSet'](this['lighting']&&_0x5c63e8['useSpecula'+'r']||this['reflection'+'s'],'LIT_SPECUL'+'AR_OR_REFL'+'ECTION'),this['fDefineSet'](this['needsScene'+'Color'],'LIT_SCENE_'+'COLOR'),this['fDefineSet'](this['needsScree'+'nSize'],'LIT_SCREEN'+'_SIZE'),this['fDefineSet'](this['needsTrans'+'forms'],'LIT_TRANSF'+'ORMS'),this['fDefineSet'](this['needsNorma'+'l'],'LIT_NEEDS_'+'NORMAL'),this['fDefineSet'](this['lighting'],'LIT_LIGHTI'+'NG'),this['fDefineSet'](_0x5c63e8['useMetalne'+'ss'],'LIT_METALN'+'ESS'),this['fDefineSet'](_0x5c63e8['enableGGXS'+'pecular'],'LIT_GGX_SP'+'ECULAR'),this['fDefineSet'](_0x5c63e8['useSpecula'+'rityFactor'],'LIT_SPECUL'+'ARITY_FACT'+'OR'),this['fDefineSet'](_0x5c63e8['useCubeMap'+'Rotation'],'CUBEMAP_RO'+'TATION'),this['fDefineSet'](_0x5c63e8['occludeSpe'+'cularFloat'],'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT'),this['fDefineSet'](_0x5c63e8['separateAm'+'bient'],'LIT_SEPARA'+'TE_AMBIENT'),this['fDefineSet'](_0x5c63e8['twoSidedLi'+'ghting'],'LIT_TWO_SI'+'DED_LIGHTI'+'NG'),this['fDefineSet'](_0x5c63e8['lightMapEn'+'abled'],'LIT_LIGHTM'+'AP'),this['fDefineSet'](_0x5c63e8['dirLightMa'+'pEnabled'],'LIT_DIR_LI'+'GHTMAP'),this['fDefineSet'](_0x5c63e8['skyboxInte'+'nsity']>0xed*-0x13+0x2530+-0x1399,'LIT_SKYBOX'+'_INTENSITY'),this['fDefineSet'](_0x5c63e8['clusteredL'+'ightingSha'+'dowsEnable'+'d'],'LIT_CLUSTE'+'RED_SHADOW'+'S'),this['fDefineSet'](_0x5c63e8['clusteredL'+'ightingAre'+'aLightsEna'+'bled'],'LIT_CLUSTE'+'RED_AREA_L'+'IGHTS'),this['fDefineSet'](_0x813dfb,'LIT_TBN'),this['fDefineSet'](_0x8f36af,'LIT_ADD_AM'+'BIENT'),this['fDefineSet'](_0x5c63e8['hasTangent'+'s'],'LIT_TANGEN'+'TS'),this['fDefineSet'](_0x5c63e8['useNormals'],'LIT_USE_NO'+'RMALS'),this['fDefineSet'](_0x5c63e8['useClearCo'+'atNormals'],'LIT_USE_CL'+'EARCOAT_NO'+'RMALS'),this['fDefineSet'](_0x5c63e8['useRefract'+'ion'],'LIT_REFRAC'+'TION'),this['fDefineSet'](_0x5c63e8['useDynamic'+'Refraction'],'LIT_DYNAMI'+'C_REFRACTI'+'ON'),this['fDefineSet'](_0x5c63e8['dispersion'],'LIT_DISPER'+'SION'),this['fDefineSet'](_0x5c63e8['useHeights'],'LIT_HEIGHT'+'S'),this['fDefineSet'](_0x5c63e8['opacityFad'+'esSpecular'],'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR'),this['fDefineSet'](_0x5c63e8['alphaToCov'+'erage'],'LIT_ALPHA_'+'TO_COVERAG'+'E'),this['fDefineSet'](_0x5c63e8['alphaTest'],'LIT_ALPHA_'+'TEST'),this['fDefineSet'](_0x5c63e8['useMsdf'],'LIT_MSDF'),this['fDefineSet'](_0x5c63e8['ssao'],'LIT_SSAO'),this['fDefineSet'](_0x5c63e8['useAo'],'LIT_AO'),this['fDefineSet'](_0x5c63e8['occludeDir'+'ect'],'LIT_OCCLUD'+'E_DIRECT'),this['fDefineSet'](_0x5c63e8['msdfTextAt'+'tribute'],'LIT_MSDF_T'+'EXT_ATTRIB'+'UTE'),this['fDefineSet'](_0x5c63e8['diffuseMap'+'Enabled'],'LIT_DIFFUS'+'E_MAP'),this['fDefineSet'](_0x5c63e8['shadowCatc'+'her'],'LIT_SHADOW'+'_CATCHER'),this['fDefineSet'](!(-0x83*0x1f+-0x25ab*-0x1+0x2*-0xae7),'LIT_FRESNE'+'L_MODEL',Rw[_0x5c63e8['fresnelMod'+'el']]),this['fDefineSet'](!(-0x1db6+-0x14c4+0x327a),'LIT_NONE_S'+'LICE_MODE',qw[_0x5c63e8['nineSliced'+'Mode']]),this['fDefineSet'](!(0x85*-0xf+0x121b+-0xa50),'LIT_BLEND_'+'TYPE',Yy[_0x5c63e8['blendType']]),this['fDefineSet'](!(0xad+-0x615+0x568),'LIT_CUBEMA'+'P_PROJECTI'+'ON',Gw[_0x5c63e8['cubeMapPro'+'jection']]),this['fDefineSet'](!(0x753*-0x3+0x3*0x6dc+0x165),'LIT_OCCLUD'+'E_SPECULAR',Ww[_0x5c63e8['occludeSpe'+'cular']]),this['fDefineSet'](!(-0x2530+-0x413*0x8+0x74*0x9a),'LIT_REFLEC'+'TION_SOURC'+'E',$w[_0x5c63e8['reflection'+'Source']]),this['fDefineSet'](!(0x12f*0xd+0x1aa8+-0x2a0b),'LIT_AMBIEN'+'T_SOURCE',Xw[_0x5c63e8['ambientSou'+'rce']]),this['fDefineSet'](!(0x2*-0x115b+-0x1001+-0x32b7*-0x1),'{lightingU'+'v}',_0x2e45d2??''),this['fDefineSet'](!(0x1fb6*0x1+-0x8*-0x2+-0x1fc6),'{reflectio'+'nDecode}',Tr['decodeFunc'](_0x5c63e8['reflection'+'Encoding'])),this['fDefineSet'](!(-0x1d42+0x8*0x1e8+0xe02*0x1),'{reflectio'+'nCubemapDe'+'code}',Tr['decodeFunc'](_0x5c63e8['reflection'+'CubemapEnc'+'oding'])),this['fDefineSet'](!(0x1eb*0x5+0x476*0x1+-0x4af*0x3),'{ambientDe'+'code}',Tr['decodeFunc'](_0x5c63e8['ambientEnc'+'oding'])),this['_setupLigh'+'tingDefine'+'s'](_0x341a20,_0x5c63e8['clusteredL'+'ightingEna'+'bled']);}['prepareSha'+'dowPass'](){const {options:_0x5a0596}=this,_0x2f7de5=this['shaderPass'+'Info']['lightType'],_0x5b9b92=this['shaderPass'+'Info']['shadowType'],_0x276597=qi['get'](_0x5b9b92);w['assert'](_0x276597);const _0x3330d9=_0x2f7de5===ve||!_0x276597['vsm']&&_0x2f7de5===Ze;this['fDefineSet'](_0x3330d9,'PERSPECTIV'+'E_DEPTH'),this['fDefineSet'](!(-0x5c+-0x167a+0x16d6),'LIGHT_TYPE',''+u_[_0x2f7de5]),this['fDefineSet'](!(-0x222c+-0x9aa*-0x1+0x1882),'SHADOW_TYP'+'E',''+_0x276597['name']),this['fDefineSet'](_0x5a0596['alphaTest'],'LIT_ALPHA_'+'TEST');}['generateFr'+'agmentShad'+'er'](_0x3c1820,_0x5ae2b0,_0x2899e2){const _0xe180e3=this['options'];this['includes']['set']('frontendDe'+'clPS',_0x3c1820??''),this['includes']['set']('frontendCo'+'dePS',_0x5ae2b0??''),_0xe180e3['pass']===Zn||_0xe180e3['pass']===Rl||(this['shadowPass']?this['prepareSha'+'dowPass']():this['prepareFor'+'wardPass'](_0x2899e2)),this['fshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}}class wv{constructor(){h(this,'hasTangent'+'s',!(0x202*-0xb+-0xf2c*0x1+0x2543)),h(this,'shaderChun'+'ks',null),h(this,'pass',-0xf*0x175+0xa1*0x31+-0x4a*0x1f),h(this,'alphaTest',!(-0x25*-0xe1+-0x1*-0x1817+-0x389b)),h(this,'blendType',Cs),h(this,'separateAm'+'bient',!(0x1*0x11ed+-0x4f*0x1e+-0x8aa)),h(this,'screenSpac'+'e',!(-0x1*0x836+-0x18a7+0x106f*0x2)),h(this,'skin',!(0x1053+0x72*-0x34+0x6d6*0x1)),h(this,'batch',!(-0x2507+0x22a7+0x261)),h(this,'useInstanc'+'ing',!(0xa5+-0xffc+0xf58)),h(this,'useMorphPo'+'sition',!(-0x12a7+-0x2f1+0x1*0x1599)),h(this,'useMorphNo'+'rmal',!(-0x156e+-0x1b19*0x1+0x3088)),h(this,'useMorphTe'+'xtureBased'+'Int',!(0x1*-0x7ae+-0x3*0x41f+-0x1*-0x140c)),h(this,'nineSliced'+'Mode',-0x1cf8+-0x1ee8+0x10*0x3be),h(this,'clusteredL'+'ightingEna'+'bled',!(0x1459+-0x2*0x427+-0xc0b)),h(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(0x1f85+-0x9aa+-0x15da)),h(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(-0x165*-0xd+-0xad*0x1+-0x1173)),h(this,'clusteredL'+'ightingSha'+'dowType',-0x1279*-0x2+0x1*0x1bc3+-0x40b5),h(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(-0x204f+-0x266e+0x46be)),h(this,'vertexColo'+'rs',!(-0x5d7+-0x1d6c+0x2344)),h(this,'lightMapEn'+'abled',!(0x1ef4+0x9a2+-0x2895)),h(this,'dirLightMa'+'pEnabled',!(-0xaf6+0x11e0+-0x1*0x6e9)),h(this,'useHeights',!(-0x15fe+-0x164+0x1763)),h(this,'useNormals',!(0xec0+0x372+-0x1231)),h(this,'useClearCo'+'atNormals',!(0x2179+-0x3*-0x95e+-0x2*0x1ec9)),h(this,'useAo',!(0x703+0x21d4+0x28d6*-0x1)),h(this,'diffuseMap'+'Enabled',!(-0x131f+-0x21b*0x9+0x2613)),h(this,'pixelSnap',!(-0x71*0x11+0x2*-0x248+0x609*0x2)),h(this,'ambientSH',!(0x1351*0x1+0xbb0*0x2+-0x2ab0)),h(this,'ssao',!(0x21*-0xc6+0x160+0xe5*0x1b)),h(this,'twoSidedLi'+'ghting',!(0x1ee0*0x1+0x1aeb+-0x1a*0x239)),h(this,'occludeDir'+'ect',!(-0x226c*0x1+-0x1*-0xfeb+0x1282*0x1)),h(this,'occludeSpe'+'cular',-0x87d+-0xb0*-0x5+0x50d),h(this,'occludeSpe'+'cularFloat',!(-0x99e*-0x4+0xc75+0x2*-0x1976)),h(this,'useMsdf',!(0x2*-0xe4e+-0x3*-0xb97+-0x628)),h(this,'msdfTextAt'+'tribute',!(0x1993*0x1+0x89*0x23+0x2c4d*-0x1)),h(this,'alphaToCov'+'erage',!(0x2173+0x2*-0x1333+-0x4f4*-0x1)),h(this,'opacityFad'+'esSpecular',!(0xb*0x280+-0xe2*0x1f+0xb*-0x3)),h(this,'opacityDit'+'her',Sa),h(this,'opacitySha'+'dowDither',Sa),h(this,'cubeMapPro'+'jection',-0x8d*-0x5+-0xab+-0x216),h(this,'useSpecula'+'r',!(0x2442+0x6b*-0x2e+-0x1107)),h(this,'useSpecula'+'rityFactor',!(0x4*0x7a2+0x8*-0x325+0x7d*-0xb)),h(this,'enableGGXS'+'pecular',!(-0x1a1a+-0x7f*0x1f+0x297c)),h(this,'fresnelMod'+'el',-0x2212+0x106+0x11a*0x1e),h(this,'useRefract'+'ion',!(0x13e0+0x1*0x1639+-0x2a18)),h(this,'useClearCo'+'at',!(0x38*0x71+-0x2317*-0x1+-0x5fb*0xa)),h(this,'useSheen',!(-0x24ce+0xd02*0x1+-0x17cd*-0x1)),h(this,'useIridesc'+'ence',!(0x1e91+-0x7ca*0x5+0x862)),h(this,'useMetalne'+'ss',!(0x1016+-0xab*-0x1b+-0x221e)),h(this,'useDynamic'+'Refraction',!(0x165d+0x11e8+-0x2844)),h(this,'dispersion',!(-0x4*-0x1ec+-0x16bd+-0x5e*-0x29)),h(this,'fog',Kn),h(this,'gamma',Ll),h(this,'toneMap',-(0x1f85+-0x2245+0x2c1)),h(this,'reflection'+'Source',vr),h(this,'reflection'+'Encoding',null),h(this,'reflection'+'CubemapEnc'+'oding',null),h(this,'ambientSou'+'rce','constant'),h(this,'ambientEnc'+'oding',null),h(this,'skyboxInte'+'nsity',-0x7*0x4bd+0x43b*-0x3+-0x1*-0x2ddd),h(this,'useCubeMap'+'Rotation',!(0x1*0x1c67+0xffb+-0x2c61)),h(this,'lightMapWi'+'thoutAmbie'+'nt',!(0x79f*0x3+-0x201f+0x1*0x943)),h(this,'lights',[]),h(this,'noShadow',!(0x2227+0x1*-0x5fb+-0x1c2b)),h(this,'lightMaskD'+'ynamic',-0x26de+-0x3b2+0x38c*0xc),h(this,'userAttrib'+'utes',{}),h(this,'linearDept'+'h',!(0x2669+0x4d*0x12+-0x2bd2)),h(this,'shadowCatc'+'her',!(0x1527+0xb4a+-0x568*0x6));}}class dl{constructor(){h(this,'defines',new Map()),h(this,'forceUv1',!(0x927+0x1*0x2661+-0x17*0x211)),h(this,'specularTi'+'nt',!(0x40*0x83+0x2d9*-0x1+0x59*-0x56)),h(this,'metalnessT'+'int',!(-0x2311+0x91+-0x1*-0x2281)),h(this,'glossTint',!(0x1575+0x59*-0x16+0x3*-0x49a)),h(this,'emissiveEn'+'coding','linear'),h(this,'lightMapEn'+'coding','linear'),h(this,'packedNorm'+'al',!(0x1*-0x24b2+0xb73*-0x3+0x470c)),h(this,'normalDeta'+'ilPackedNo'+'rmal',!(0x2309+0x20b2+-0x43ba)),h(this,'clearCoatP'+'ackedNorma'+'l',!(-0x21*-0x5+0xef*0xf+-0xea5)),h(this,'glossInver'+'t',!(0x28f*0x9+-0x126*-0x6+0xef5*-0x2)),h(this,'sheenGloss'+'Invert',!(-0xd72+0x1bde+-0xe6b)),h(this,'clearCoatG'+'lossInvert',!(0x1790+-0x1eca+0x269*0x3)),h(this,'useAO',!(0x45a*-0x5+0x240d+-0xe4a)),h(this,'litOptions',new wv());}get['pass'](){return this['litOptions']['pass'];}}const Ev={'generateKey'(_0x594825){return'lit'+Object['keys'](_0x594825)['sort']()['map'](_0x46794f=>{var _0x2d380f;return _0x46794f==='shaderChun'+'ks'?((_0x2d380f=_0x594825['shaderChun'+'ks'])==null?void(0x9*-0x2b1+0x1eb7*-0x1+0x36f0):_0x2d380f['key'])??'':_0x46794f==='lights'?Ev['generateLi'+'ghtsKey'](_0x594825):_0x46794f+_0x594825[_0x46794f];})['join']('\x0a');},'generateLightsKey'(_0x59563f){return'lights:'+_0x59563f['lights']['map'](_0x2bcac1=>!_0x59563f['clusteredL'+'ightingEna'+'bled']||_0x2bcac1['_type']===ve?_0x2bcac1['key']+',':'')['join']('');}},bn=[],Qd=_0xf25f4=>Object['keys'](_0xf25f4)['filter'](_0x1d65bd=>_0x1d65bd!=='litOptions')['sort']();class fb extends ya{constructor(){super(...arguments),h(this,'optionsCon'+'text',new dl()),h(this,'optionsCon'+'textMin',new dl());}['generateKe'+'y'](_0x205776){let _0x326110;return _0x205776===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Qd(_0x205776)),_0x326110=this['propsMin']):_0x205776===this['optionsCon'+'text']?(this['props']||(this['props']=Qd(_0x205776)),_0x326110=this['props']):_0x326110=Qd(_0x205776),'standard:\x0a'+ya['definesHas'+'h'](_0x205776['defines'])+'\x0a'+_0x326110['map'](_0xd52b45=>_0xd52b45+_0x205776[_0xd52b45])['join']('\x0a')+Ev['generateKe'+'y'](_0x205776['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x2bd6be,_0x4193c2,_0x32ae43){const _0x88cbeb=_0x32ae43[_0x2bd6be],_0x5a524a=_0x32ae43[_0x4193c2],_0x22aef5=_0x32ae43['litOptions']['pass']===Aa;let _0x37a66d;return _0x22aef5&&_0x32ae43['litOptions']['nineSliced'+'Mode']===Pt||_0x22aef5&&_0x32ae43['litOptions']['nineSliced'+'Mode']===Mt?_0x37a66d='nineSliced'+'Uv':(_0x88cbeb===-0x1*0x13ee+-0x228+0x1616?_0x37a66d='vUv'+_0x5a524a:_0x37a66d='vUV'+_0x5a524a+'_'+_0x88cbeb,_0x32ae43['heightMap']&&_0x2bd6be!=='heightMapT'+'ransform'&&(_0x37a66d+='\x20+\x20dUvOffs'+'et')),_0x37a66d;}['_validateM'+'apChunk'](_0x74902b,_0x17e7d8,_0x4ec902){w['call'](()=>{const _0x2c327c=_0x4ec902['get'](_0x17e7d8)['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1'),_0x13112e=[],_0x2094a1=(_0x4f852c,_0x97c432)=>{_0x2c327c['includes'](_0x4f852c)&&_0x13112e['push']('\x20\x20'+_0x4f852c+'\x20->\x20'+_0x97c432);};[['$UV','{STD_'+_0x74902b+('_TEXTURE_U'+'V}')],['$CH','{STD_'+_0x74902b+('_TEXTURE_C'+'HANNEL}')],['$SAMPLER','{STD_'+_0x74902b+('_TEXTURE_N'+'AME}')],['$DECODE','{STD_'+_0x74902b+('_TEXTURE_D'+'ECODE}')],['$VC','{STD_'+_0x74902b+('_VERTEX_CH'+'ANNEL}')],['$DETAILMOD'+'E','{STD_'+_0x74902b+('_DETAILMOD'+'E}')],['unpackNorm'+'al(','{STD_'+_0x74902b+('_TEXTURE_D'+'ECODE}(')]]['forEach'](([_0x50742b,_0x36ff9a])=>_0x2094a1(_0x50742b,_0x36ff9a)),[['MAPFLOAT','STD_'+_0x74902b+'_CONSTANT'],['MAPCOLOR','STD_'+_0x74902b+'_CONSTANT'],['MAPVERTEX','STD_'+_0x74902b+'_VERTEX'],['MAPTEXTURE','STD_'+_0x74902b+'_TEXTURE'],['MAPINVERT','STD_'+_0x74902b+'_INVERT']]['forEach'](([_0x31894c,_0xa3df45])=>_0x2094a1(_0x31894c,_0xa3df45)),_0x2c327c['includes']('$texture2D'+'SAMPLE')&&_0x2094a1('$texture2D'+'SAMPLE','(Macro\x20no\x20'+'longer\x20sup'+'ported\x20-\x20r'+'emove/refa'+'ctor)'),_0x13112e['length']>0xf*0x15d+0x4*0x3fa+-0x245b*0x1&&w['errorOnce']('Shader\x20chu'+'nk\x20'+_0x17e7d8+('\x20is\x20in\x20no\x20'+'longer\x20com'+'patible\x20fo'+'rmat.\x20Plea'+'se\x20make\x20th'+'ese\x20replac'+'ements\x20to\x20'+'bring\x20it\x20t'+'o\x20the\x20curr'+'ent\x20versio'+'n:\x0a')+_0x13112e['join']('\x0a'),{'code':_0x2c327c});});}['_addMapDef'+'ines'](_0x56961a,_0x326f97,_0x2e4c32,_0x3c07f6,_0x417ab2,_0x4070d0,_0x49087f=null){const _0x51c81a=_0x326f97+'Map',_0x265274=_0x326f97['toUpperCas'+'e'](),_0x5e55b3=_0x51c81a+'Uv',_0x6d1f66=_0x51c81a+'Identifier',_0x289ef5=_0x51c81a+'Transform',_0x10e374=_0x51c81a+'Channel',_0x4ed055=_0x326f97+('VertexColo'+'rChannel'),_0x547b60=_0x326f97+'Tint',_0x3e0e88=_0x326f97+('VertexColo'+'r'),_0x1f2269=_0x326f97+'Mode',_0x397d17=_0x326f97+'Invert',_0x38c8d4=_0x3c07f6[_0x547b60],_0x3d8780=_0x3c07f6[_0x3e0e88],_0x1331b6=_0x3c07f6[_0x51c81a],_0x42fc73=_0x3c07f6[_0x6d1f66],_0x51aa34=_0x3c07f6[_0x1f2269],_0x53387b=_0x417ab2['get'](_0x2e4c32);if(w['assert'](_0x53387b,'Shader\x20chu'+'nk\x20'+_0x2e4c32+('\x20not\x20found'+'.')),w['call'](()=>{_0x53387b&&this['_validateM'+'apChunk'](_0x265274,_0x2e4c32,_0x417ab2);}),_0x1331b6){_0x56961a['set']('STD_'+_0x265274+'_TEXTURE','');const _0x25d876=this['_getUvSour'+'ceExpressi'+'on'](_0x289ef5,_0x5e55b3,_0x3c07f6);_0x56961a['set']('{STD_'+_0x265274+('_TEXTURE_U'+'V}'),_0x25d876),_0x56961a['set']('{STD_'+_0x265274+('_TEXTURE_C'+'HANNEL}'),_0x3c07f6[_0x10e374]);const _0x2df0a0='{STD_'+_0x265274+('_TEXTURE_N'+'AME}');if(_0x53387b['includes'](_0x2df0a0)){let _0xf88387='texture_'+_0x51c81a;const _0x40feda=_0x4070d0[_0x42fc73];_0x40feda?_0xf88387=_0x40feda:(_0x4070d0[_0x42fc73]=_0xf88387,_0x56961a['set']('STD_'+_0x265274+('_TEXTURE_A'+'LLOCATE'),'')),_0x56961a['set'](_0x2df0a0,_0xf88387);}if(_0x49087f){const _0x13b784=_0x3c07f6[_0x10e374]==='aaa'?'passThroug'+'h':Tr['decodeFunc'](_0x49087f);_0x56961a['set']('{STD_'+_0x265274+('_TEXTURE_D'+'ECODE}'),_0x13b784);}}_0x3d8780&&(_0x56961a['set']('STD_'+_0x265274+'_VERTEX',''),_0x56961a['set']('{STD_'+_0x265274+('_VERTEX_CH'+'ANNEL}'),_0x3c07f6[_0x4ed055])),_0x51aa34&&_0x56961a['set']('{STD_'+_0x265274+('_DETAILMOD'+'E}'),_0x51aa34),_0x38c8d4&&_0x56961a['set']('STD_'+_0x265274+'_CONSTANT',''),_0x3c07f6[_0x397d17]&&_0x56961a['set']('STD_'+_0x265274+'_INVERT','');}['_correctCh'+'annel'](_0x1ed595,_0x4c6afc,_0x53967b){if(_0x53967b[_0x1ed595]>0x17a4+0x1*-0x1c81+0x4dd){if(_0x53967b[_0x1ed595]<_0x4c6afc['length'])return _0x4c6afc['substring'](0xe3e+0x18ff+-0x1*0x273d,_0x53967b[_0x1ed595]);if(_0x53967b[_0x1ed595]>_0x4c6afc['length']){let _0x16e1ab=_0x4c6afc;const _0x397871=_0x16e1ab['charAt'](_0x16e1ab['length']-(0x56f*0x4+-0x10d9+-0x4e2)),_0x287c0a=_0x53967b[_0x1ed595]-_0x16e1ab['length'];for(let _0x299052=0x1555+0x1*0x22bd+0x2*-0x1c09;_0x299052<_0x287c0a;_0x299052++)_0x16e1ab+=_0x397871;return _0x16e1ab;}return _0x4c6afc;}}['createVert'+'exShader'](_0x976a51,_0x4679b8){const _0x42027e=[],_0x29ddb9=[],_0x4ee661=[];for(const _0xa3f8c1 in bn){const _0x2ae0f4=_0xa3f8c1+'Map';if(_0x4679b8[_0xa3f8c1+('VertexColo'+'r')]){const _0x39cc84=_0xa3f8c1+('VertexColo'+'rChannel');_0x4679b8[_0x39cc84]=this['_correctCh'+'annel'](_0xa3f8c1,_0x4679b8[_0x39cc84],bn);}if(_0x4679b8[_0x2ae0f4]){const _0x374d1a=_0x2ae0f4+'Channel',_0xf41d12=_0x2ae0f4+'Transform',_0xf623b=_0x2ae0f4+'Uv';_0x4679b8[_0xf623b]=Math['min'](_0x4679b8[_0xf623b],-0x41a+-0xa*0x329+-0x3*-0xbe7),_0x4679b8[_0x374d1a]=this['_correctCh'+'annel'](_0xa3f8c1,_0x4679b8[_0x374d1a],bn);const _0x38767a=_0x4679b8[_0xf623b];_0x42027e[_0x38767a]=!(0x1*0x192b+0x9*-0x223+-0x5f0),_0x29ddb9[_0x38767a]=_0x29ddb9[_0x38767a]||_0x4679b8[_0x2ae0f4]&&!_0x4679b8[_0xf41d12],_0x4679b8[_0xf41d12]&&_0x4ee661['push']({'name':_0xa3f8c1,'id':_0x4679b8[_0xf41d12],'uv':_0x4679b8[_0xf623b]});}}_0x4679b8['forceUv1']&&(_0x42027e[-0x3*-0x603+0x1c2b+-0x2e33]=!(0x50b+-0x244b*0x1+-0x140*-0x19),_0x29ddb9[-0x855+0x1*-0x1ebb+0x89*0x49]=_0x29ddb9[-0x1*0xda6+0x1*0x12b2+-0x50b]!==void(-0x1*0x1a3+-0x21a*0x4+-0x359*-0x3)?_0x29ddb9[-0x34b+-0xe*0x2c8+-0xcc*-0x35]:!(-0x1*-0x943+0xce7+-0x162a)),_0x976a51['generateVe'+'rtexShader'](_0x42027e,_0x29ddb9,_0x4ee661);}['prepareFra'+'gmentDefin'+'es'](_0x3ba1fb,_0xfd2dd6,_0x2768ca){const _0x3ff59b=(_0x183026,_0x5b1a32,_0x2b5144='')=>{_0x183026&&_0xfd2dd6['set'](_0x5b1a32,_0x2b5144);};_0x3ff59b(_0x3ba1fb['lightMap'],'STD_LIGHTM'+'AP',''),_0x3ff59b(_0x3ba1fb['lightVerte'+'xColor'],'STD_LIGHT_'+'VERTEX_COL'+'OR',''),_0x3ff59b(_0x3ba1fb['dirLightMa'+'p']&&_0x3ba1fb['litOptions']['useSpecula'+'r'],'STD_LIGHTM'+'AP_DIR',''),_0x3ff59b(_0x3ba1fb['heightMap'],'STD_HEIGHT'+'_MAP',''),_0x3ff59b(_0x3ba1fb['useSpecula'+'rColor'],'STD_SPECUL'+'AR_COLOR',''),_0x3ff59b(_0x3ba1fb['aoMap']||_0x3ba1fb['aoVertexCo'+'lor']||_0x3ba1fb['useAO'],'STD_AO',''),_0x3ff59b(!(-0x11da*0x1+-0x293*-0x7+-0x1*0x2b),'STD_OPACIT'+'Y_DITHER',iE[_0x2768ca['isForward']?_0x3ba1fb['litOptions']['opacityDit'+'her']:_0x3ba1fb['litOptions']['opacitySha'+'dowDither']]);}['createShad'+'erDefiniti'+'on'](_0x21c2ef,_0x47528a){const _0x32fd1b=Si['get'](_0x21c2ef)['getByIndex'](_0x47528a['litOptions']['pass']),_0x20d5aa=_0x32fd1b['isForward'],_0x30f241=new db(_0x21c2ef,_0x47528a['litOptions']);this['createVert'+'exShader'](_0x30f241,_0x47528a);const _0x3197c7={};_0x47528a['litOptions']['fresnelMod'+'el']=_0x47528a['litOptions']['fresnelMod'+'el']===0xc06+0x834+-0x143a?Yp:_0x47528a['litOptions']['fresnelMod'+'el'];const _0x237d5f=_0x30f241['fDefines'];this['prepareFra'+'gmentDefin'+'es'](_0x47528a,_0x237d5f,_0x32fd1b);let _0x2bb4c0='';if(_0x20d5aa){if(_0x47528a['heightMap']&&this['_addMapDef'+'ines'](_0x237d5f,'height','parallaxPS',_0x47528a,_0x30f241['chunks'],_0x3197c7),(_0x47528a['litOptions']['blendType']!==Cs||_0x47528a['litOptions']['alphaTest']||_0x47528a['litOptions']['alphaToCov'+'erage']||_0x47528a['litOptions']['opacityDit'+'her']!==Sa)&&this['_addMapDef'+'ines'](_0x237d5f,'opacity','opacityPS',_0x47528a,_0x30f241['chunks'],_0x3197c7),_0x30f241['needsNorma'+'l']){if((_0x47528a['normalMap']||_0x47528a['clearCoatN'+'ormalMap'])&&!_0x47528a['litOptions']['hasTangent'+'s']){const _0x566858=_0x47528a['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x2bb4c0=this['_getUvSour'+'ceExpressi'+'on'](_0x566858+'Transform',_0x566858+'Uv',_0x47528a);}this['_addMapDef'+'ines'](_0x237d5f,'normalDeta'+'il','normalMapP'+'S',_0x47528a,_0x30f241['chunks'],_0x3197c7,_0x47528a['normalDeta'+'ilPackedNo'+'rmal']?'xy':'xyz'),this['_addMapDef'+'ines'](_0x237d5f,'normal','normalMapP'+'S',_0x47528a,_0x30f241['chunks'],_0x3197c7,_0x47528a['packedNorm'+'al']?'xy':'xyz');}_0x47528a['diffuseDet'+'ail']&&this['_addMapDef'+'ines'](_0x237d5f,'diffuseDet'+'ail','diffusePS',_0x47528a,_0x30f241['chunks'],_0x3197c7,_0x47528a['diffuseDet'+'ailEncodin'+'g']),this['_addMapDef'+'ines'](_0x237d5f,'diffuse','diffusePS',_0x47528a,_0x30f241['chunks'],_0x3197c7,_0x47528a['diffuseEnc'+'oding']),_0x47528a['litOptions']['useRefract'+'ion']&&(this['_addMapDef'+'ines'](_0x237d5f,'refraction','transmissi'+'onPS',_0x47528a,_0x30f241['chunks'],_0x3197c7),this['_addMapDef'+'ines'](_0x237d5f,'thickness','thicknessP'+'S',_0x47528a,_0x30f241['chunks'],_0x3197c7)),_0x47528a['litOptions']['useIridesc'+'ence']&&(this['_addMapDef'+'ines'](_0x237d5f,'iridescenc'+'e','iridescenc'+'ePS',_0x47528a,_0x30f241['chunks'],_0x3197c7),this['_addMapDef'+'ines'](_0x237d5f,'iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x47528a,_0x30f241['chunks'],_0x3197c7)),(_0x30f241['lighting']&&_0x47528a['litOptions']['useSpecula'+'r']||_0x30f241['reflection'+'s'])&&(_0x47528a['litOptions']['useSheen']&&(this['_addMapDef'+'ines'](_0x237d5f,'sheen','sheenPS',_0x47528a,_0x30f241['chunks'],_0x3197c7,_0x47528a['sheenEncod'+'ing']),this['_addMapDef'+'ines'](_0x237d5f,'sheenGloss','sheenGloss'+'PS',_0x47528a,_0x30f241['chunks'],_0x3197c7)),_0x47528a['litOptions']['useMetalne'+'ss']&&(this['_addMapDef'+'ines'](_0x237d5f,'metalness','metalnessP'+'S',_0x47528a,_0x30f241['chunks'],_0x3197c7),this['_addMapDef'+'ines'](_0x237d5f,'ior','iorPS',_0x47528a,_0x30f241['chunks'],_0x3197c7)),_0x47528a['litOptions']['useSpecula'+'rityFactor']&&this['_addMapDef'+'ines'](_0x237d5f,'specularit'+'yFactor','specularit'+'yFactorPS',_0x47528a,_0x30f241['chunks'],_0x3197c7),_0x47528a['useSpecula'+'rColor']&&this['_addMapDef'+'ines'](_0x237d5f,'specular','specularPS',_0x47528a,_0x30f241['chunks'],_0x3197c7,_0x47528a['specularEn'+'coding']),this['_addMapDef'+'ines'](_0x237d5f,'gloss','glossPS',_0x47528a,_0x30f241['chunks'],_0x3197c7)),_0x47528a['aoDetail']&&this['_addMapDef'+'ines'](_0x237d5f,'aoDetail','aoPS',_0x47528a,_0x30f241['chunks'],_0x3197c7),(_0x47528a['aoMap']||_0x47528a['aoVertexCo'+'lor']||_0x47528a['useAO'])&&this['_addMapDef'+'ines'](_0x237d5f,'ao','aoPS',_0x47528a,_0x30f241['chunks'],_0x3197c7),this['_addMapDef'+'ines'](_0x237d5f,'emissive','emissivePS',_0x47528a,_0x30f241['chunks'],_0x3197c7,_0x47528a['emissiveEn'+'coding']),_0x47528a['litOptions']['useClearCo'+'at']&&(this['_addMapDef'+'ines'](_0x237d5f,'clearCoat','clearCoatP'+'S',_0x47528a,_0x30f241['chunks'],_0x3197c7),this['_addMapDef'+'ines'](_0x237d5f,'clearCoatG'+'loss','clearCoatG'+'lossPS',_0x47528a,_0x30f241['chunks'],_0x3197c7),this['_addMapDef'+'ines'](_0x237d5f,'clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x47528a,_0x30f241['chunks'],_0x3197c7,_0x47528a['clearCoatP'+'ackedNorma'+'l']?'xy':'xyz')),_0x47528a['litOptions']['enableGGXS'+'pecular']&&this['_addMapDef'+'ines'](_0x237d5f,'anisotropy','anisotropy'+'PS',_0x47528a,_0x30f241['chunks'],_0x3197c7),(_0x47528a['lightMap']||_0x47528a['lightVerte'+'xColor'])&&this['_addMapDef'+'ines'](_0x237d5f,'light','lightmapPS',_0x47528a,_0x30f241['chunks'],_0x3197c7,_0x47528a['lightMapEn'+'coding']);}else{const _0x556126=_0x47528a['litOptions']['opacitySha'+'dowDither'];(_0x47528a['litOptions']['alphaTest']||_0x556126)&&this['_addMapDef'+'ines'](_0x237d5f,'opacity','opacityPS',_0x47528a,_0x30f241['chunks'],_0x3197c7);}_0x30f241['generateFr'+'agmentShad'+'er'](_0x30f241['chunks']['get']('stdDeclara'+'tionPS'),_0x30f241['chunks']['get']('stdFrontEn'+'dPS'),_0x2bb4c0);const _0x401014=bh['merge'](_0x30f241['chunks'],_0x30f241['includes']),_0x5edca3=_0x30f241['vDefines'];_0x47528a['defines']['forEach']((_0x582fd3,_0x566d9d)=>_0x5edca3['set'](_0x566d9d,_0x582fd3)),_0x47528a['defines']['forEach']((_0x5ccf4b,_0x19da6e)=>_0x237d5f['set'](_0x19da6e,_0x5ccf4b));const _0x55497f=Jt['createDefi'+'nition'](_0x21c2ef,{'name':'StandardSh'+'ader','attributes':_0x30f241['attributes'],'shaderLanguage':_0x30f241['shaderLang'+'uage'],'vertexCode':_0x30f241['vshader'],'fragmentCode':_0x30f241['fshader'],'vertexIncludes':_0x401014,'fragmentIncludes':_0x401014,'fragmentDefines':_0x237d5f,'vertexDefines':_0x5edca3});return _0x30f241['shaderPass'+'Info']['isForward']&&(_0x55497f['tag']=Sy),_0x55497f;}}const Jd=new fb(),ss=[];ss[Gp]={'src':Ft,'dst':Ft,'op':Tx},ss[Cs]={'src':Ft,'dst':rp,'op':fs},ss[Zs]={'src':jh,'dst':Yh,'op':fs,'alphaSrc':Ft},ss[Gn]={'src':Ft,'dst':Yh,'op':fs},ss[Hp]={'src':Ft,'dst':Ft,'op':fs},ss[Ed]={'src':jh,'dst':Ft,'op':fs},ss[$p]={'src':JS,'dst':vx,'op':fs},ss[Xp]={'src':xx,'dst':Ft,'op':fs},ss[Wp]={'src':JS,'dst':rp,'op':fs},ss[qp]={'src':Ft,'dst':Ft,'op':wx},ss[jp]={'src':Ft,'dst':Ft,'op':Ex};let ub=-0xbc6+-0x8d*-0x39+-0x139f;class tr{constructor(){h(this,'meshInstan'+'ces',[]),h(this,'name','Untitled'),h(this,'userId',''),h(this,'id',ub++),h(this,'variants',new Map()),h(this,'defines',new Map()),h(this,'_definesDi'+'rty',!(0x5*-0x683+0x886+0x180a)),h(this,'parameters',{}),h(this,'alphaTest',0x74*0x41+-0x347*0x1+0x1a2d*-0x1),h(this,'alphaToCov'+'erage',!(-0x87f+-0xd0a*0x1+0x158a)),h(this,'_blendStat'+'e',new pt()),h(this,'_depthStat'+'e',new Yt()),h(this,'cull',pa),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'_shaderChu'+'nks',null),h(this,'_oldChunks',{}),h(this,'_dirtyShad'+'er',!(0x3cb*-0x7+0x241d+-0x132*0x8)),h(this,'_shaderVer'+'sion',-0x1f*0x107+0x21a1+-0x1c8),h(this,'_scene',null),h(this,'dirty',!(-0x713*-0x1+-0x2a*-0xe7+-0x2cf9)),new.target===tr&&w['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}get['hasShaderC'+'hunks'](){return this['_shaderChu'+'nks']!=null;}get['shaderChun'+'ks'](){return this['_shaderChu'+'nks']||(this['_shaderChu'+'nks']=new Pe()),this['_shaderChu'+'nks'];}['getShaderC'+'hunks'](_0x3c5188=Fe){const _0x614259=this['shaderChun'+'ks'];return _0x3c5188===Fe?_0x614259['glsl']:_0x614259['wgsl'];}set['shaderChun'+'ksVersion'](_0x4299c8){this['shaderChun'+'ks']['version']=_0x4299c8;}get['shaderChun'+'ksVersion'](){return this['shaderChun'+'ks']['version'];}set['chunks'](_0x5c9cd6){w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),this['_oldChunks']=_0x5c9cd6;}get['chunks'](){return w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),Object['assign'](this['_oldChunks'],Object['fromEntrie'+'s'](this['shaderChun'+'ks']['glsl'])),this['_oldChunks'];}set['depthBias'](_0xafa4e0){this['_depthStat'+'e']['depthBias']=_0xafa4e0;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x36bc4b){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x36bc4b;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x4657fc){this['_blendStat'+'e']['redWrite']=_0x4657fc;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0xa7d7fa){this['_blendStat'+'e']['greenWrite']=_0xa7d7fa;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x12673f){this['_blendStat'+'e']['blueWrite']=_0x12673f;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0xb08cb9){this['_blendStat'+'e']['alphaWrite']=_0xb08cb9;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x3b8176=this['transparen'+'t'],_0x25f85c=this['meshInstan'+'ces'];for(let _0x34e8c8=-0x31*-0x8b+0x7c3+-0x53*0x6a;_0x34e8c8<_0x25f85c['length'];_0x34e8c8++)_0x25f85c[_0x34e8c8]['transparen'+'t']=_0x3b8176;}set['blendState'](_0x3808d6){this['_blendStat'+'e']['copy'](_0x3808d6),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x38bcd6){const _0x87c119=ss[_0x38bcd6];w['assert'](_0x87c119,'Unknown\x20bl'+'end\x20mode\x20'+_0x38bcd6),this['_blendStat'+'e']['setColorBl'+'end'](_0x87c119['op'],_0x87c119['src'],_0x87c119['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x87c119['alphaOp']??_0x87c119['op'],_0x87c119['alphaSrc']??_0x87c119['src'],_0x87c119['alphaDst']??_0x87c119['dst']);const _0x34c9d9=_0x38bcd6!==Cs;this['_blendStat'+'e']['blend']!==_0x34c9d9&&(this['_blendStat'+'e']['blend']=_0x34c9d9,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return Cs;const {colorOp:_0x4afa29,colorSrcFactor:_0x5bec10,colorDstFactor:_0x48ce03,alphaOp:_0x4c9baf,alphaSrcFactor:_0x91d684,alphaDstFactor:_0x5c97d6}=this['_blendStat'+'e'];for(let _0x2f264f=-0x1a3*-0x8+0x19d6+-0x26ee;_0x2f264f<ss['length'];_0x2f264f++){const _0x3501b0=ss[_0x2f264f];if(_0x3501b0['src']===_0x5bec10&&_0x3501b0['dst']===_0x48ce03&&_0x3501b0['op']===_0x4afa29&&_0x3501b0['src']===_0x91d684&&_0x3501b0['dst']===_0x5c97d6&&_0x3501b0['op']===_0x4c9baf)return _0x2f264f;}return Zs;}set['depthState'](_0x4c4f0e){this['_depthStat'+'e']['copy'](_0x4c4f0e);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x4e0c22){this['_depthStat'+'e']['test']=_0x4e0c22;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x4331b7){this['_depthStat'+'e']['func']=_0x4331b7;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x559ee7){this['_depthStat'+'e']['write']=_0x559ee7;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x43d38a){var _0x12cb50,_0x3bbd4;this['name']=_0x43d38a['name'],this['alphaTest']=_0x43d38a['alphaTest'],this['alphaToCov'+'erage']=_0x43d38a['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x43d38a['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x43d38a['_depthStat'+'e']),this['cull']=_0x43d38a['cull'],this['stencilFro'+'nt']=(_0x12cb50=_0x43d38a['stencilFro'+'nt'])==null?void(0x6*0x22b+-0x18f9+-0xbf7*-0x1):_0x12cb50['clone'](),_0x43d38a['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x43d38a['stencilFro'+'nt']===_0x43d38a['stencilBac'+'k']?this['stencilFro'+'nt']:_0x43d38a['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0xb24b3b in _0x43d38a['parameters'])_0x43d38a['parameters']['hasOwnProp'+'erty'](_0xb24b3b)&&this['_setParame'+'terSimple'](_0xb24b3b,_0x43d38a['parameters'][_0xb24b3b]['data']);return this['defines']['clear'](),_0x43d38a['defines']['forEach']((_0x112356,_0xd657e1)=>this['defines']['set'](_0xd657e1,_0x112356)),this['_shaderChu'+'nks']=_0x43d38a['hasShaderC'+'hunks']?new Pe():null,(_0x3bbd4=this['_shaderChu'+'nks'])==null||_0x3bbd4['copy'](_0x43d38a['_shaderChu'+'nks']),this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x4cf86d=this['meshInstan'+'ces'];for(let _0x39fc48=0x1*-0xe54+-0xf*-0xbb+0x35f;_0x39fc48<_0x4cf86d['length'];_0x39fc48++)_0x4cf86d[_0x39fc48]['updateKey']();}['updateUnif'+'orms'](_0xc42feb,_0x4fe85e){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x20722b){w['assert'](!(0x22*0xb+-0x89*0x22+0x5*0x359),'Not\x20implem'+'ented');}['update'](){var _0x4719d8,_0x9c3826;if(Object['keys'](this['_oldChunks'])['length']>0x77*-0x29+-0x1*0x12b3+0x25c2){for(const [_0x21b838,_0x2637c8]of Object['entries'](this['_oldChunks']))this['shaderChun'+'ks']['glsl']['set'](_0x21b838,_0x2637c8),delete this['_oldChunks'][_0x21b838];}(this['_definesDi'+'rty']||(_0x4719d8=this['_shaderChu'+'nks'])!=null&&_0x4719d8['isDirty']())&&(this['_definesDi'+'rty']=!(0xba9+-0x1bd1+-0x15*-0xc5),(_0x9c3826=this['_shaderChu'+'nks'])==null||_0x9c3826['resetDirty'](),this['clearVaria'+'nts']()),this['dirty']=!(0x14b*0x13+0x2341+-0x3bd2);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0xbb9112=this['meshInstan'+'ces'],_0x2bd3ef=_0xbb9112['length'];for(let _0x1a3c9e=0x596+0x49b*0x4+-0x1802;_0x1a3c9e<_0x2bd3ef;_0x1a3c9e++)_0xbb9112[_0x1a3c9e]['clearShade'+'rs']();}['getParamet'+'er'](_0x26885e){return this['parameters'][_0x26885e];}['_setParame'+'terSimple'](_0x46727c,_0x43448d){w['call'](()=>{_0x43448d===void(-0x699+0x1a25+-0x138c)&&w['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x46727c+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'),this);});const _0x4b16a1=this['parameters'][_0x46727c];_0x4b16a1?_0x4b16a1['data']=_0x43448d:this['parameters'][_0x46727c]={'scopeId':null,'data':_0x43448d};}['setParamet'+'er'](_0x46499c,_0x5eaa72){if(_0x5eaa72===void(0x1*-0x2325+-0x6e2+-0xcb*-0x35)&&typeof _0x46499c=='object'){const _0x552991=_0x46499c;if(_0x552991['length']){for(let _0x4808a9=-0x2648+0xcf8+0x1e*0xd8;_0x4808a9<_0x552991['length'];_0x4808a9++)this['setParamet'+'er'](_0x552991[_0x4808a9]);return;}_0x46499c=_0x552991['name'],_0x5eaa72=_0x552991['value'];}this['_setParame'+'terSimple'](_0x46499c,_0x5eaa72);}['deletePara'+'meter'](_0x1d2b30){this['parameters'][_0x1d2b30]&&delete this['parameters'][_0x1d2b30];}['setParamet'+'ers'](_0x4d9b32,_0x18b255){const _0x429135=this['parameters'];_0x18b255===void(0xd*-0x269+-0xb*0x20c+0x35d9)&&(_0x18b255=_0x429135);for(const _0x3b3b6d in _0x18b255){const _0x52e350=_0x429135[_0x3b3b6d];_0x52e350&&(_0x52e350['scopeId']||(_0x52e350['scopeId']=_0x4d9b32['scope']['resolve'](_0x3b3b6d)),_0x52e350['scopeId']['setValue'](_0x52e350['data']));}}['setDefine'](_0x2abc7e,_0x3de611){let _0x3e819e=!(0x90d*-0x1+0xc*0x7c+0x33e);const {defines:_0x2119a0}=this;_0x3de611!==void(0x1b68+-0x399*0x3+-0x109d*0x1)&&_0x3de611!==!(0x82c+-0x3*0xa5d+0x16ec)?(_0x3e819e=!_0x2119a0['has'](_0x2abc7e)||_0x2119a0['get'](_0x2abc7e)!==_0x3de611,_0x2119a0['set'](_0x2abc7e,_0x3de611)):(_0x3e819e=_0x2119a0['has'](_0x2abc7e),_0x2119a0['delete'](_0x2abc7e)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x3e819e);}['getDefine'](_0x5404e5){return this['defines']['has'](_0x5404e5);}['destroy'](){this['variants']['clear']();for(let _0x56b12c=0xd*-0x23f+-0x23c6+0x40f9*0x1;_0x56b12c<this['meshInstan'+'ces']['length'];_0x56b12c++){const _0x30dadb=this['meshInstan'+'ces'][_0x56b12c];if(_0x30dadb['clearShade'+'rs'](),_0x30dadb['_material']=null,_0x30dadb['mesh']){const _0x4cc29e=Qn(_0x30dadb['mesh']['device']);this!==_0x4cc29e&&(_0x30dadb['material']=_0x4cc29e);}else w['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=0x921*-0x1+-0xf7a+-0x1*-0x189b;}['addMeshIns'+'tanceRef'](_0x9aef9a){this['meshInstan'+'ces']['push'](_0x9aef9a);}['removeMesh'+'InstanceRe'+'f'](_0x495028){const _0x385d79=this['meshInstan'+'ces'],_0x2ba38a=_0x385d79['indexOf'](_0x495028);_0x2ba38a!==-(0x633*0x4+-0x1851+-0x3d*0x2)&&_0x385d79['splice'](_0x2ba38a,0x179b*-0x1+0x26eb+-0xf4f*0x1);}}class Ws{static['update'](_0x29a6ef,_0x1de7e4,_0x1f9a14,_0xcb917e,_0x877a48,_0x3f27dd,_0xd27fe9){Ws['updateShar'+'edOptions'](_0x29a6ef,_0x1de7e4,_0x1f9a14,_0x877a48,_0x3f27dd),Ws['updateMate'+'rialOption'+'s'](_0x29a6ef,_0x1de7e4),Ws['updateEnvO'+'ptions'](_0x29a6ef,_0x1de7e4,_0x1f9a14,_0xcb917e),Ws['updateLigh'+'tingOption'+'s'](_0x29a6ef,_0x1de7e4,_0x1f9a14,_0x877a48,_0xd27fe9);}static['updateShar'+'edOptions'](_0x4a6234,_0x4e22c3,_0x151413,_0x32fb82,_0x238b59){_0x4a6234['shaderChun'+'ks']=_0x4e22c3['shaderChun'+'ks'],_0x4a6234['pass']=_0x238b59,_0x4a6234['alphaTest']=_0x4e22c3['alphaTest']>-0x30*0xb4+-0x1946+0x3b06,_0x4a6234['blendType']=_0x4e22c3['blendType'],_0x4a6234['screenSpac'+'e']=_0x32fb82&&(_0x32fb82&Eh)!==0x85*0x1f+0x9fe+-0x1a19,_0x4a6234['skin']=_0x32fb82&&(_0x32fb82&nl)!==0xd3*0x8+0x1b3d+-0x21d5,_0x4a6234['useInstanc'+'ing']=_0x32fb82&&(_0x32fb82&ol)!==0x310*0x3+0x122a+-0x1b5a,_0x4a6234['useMorphPo'+'sition']=_0x32fb82&&(_0x32fb82&ll)!==-0x2572+0x1615+0xf5d,_0x4a6234['useMorphNo'+'rmal']=_0x32fb82&&(_0x32fb82&cl)!==-0x18*-0x81+-0x1784+0x1*0xb6c,_0x4a6234['useMorphTe'+'xtureBased'+'Int']=_0x32fb82&&(_0x32fb82&hl)!==-0x25a+0x76*-0x43+-0x2c5*-0xc,_0x4a6234['hasTangent'+'s']=_0x32fb82&&(_0x32fb82&om)!==-0x191b+0x991+0xf8a,_0x4a6234['nineSliced'+'Mode']=_0x4e22c3['nineSliced'+'Mode']||ci,_0x4e22c3['useLightin'+'g']&&_0x151413['clusteredL'+'ightingEna'+'bled']?(_0x4a6234['clusteredL'+'ightingEna'+'bled']=!(0x18d4+0x2d1*-0xb+0x627),_0x4a6234['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x151413['lighting']['cookiesEna'+'bled'],_0x4a6234['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x151413['lighting']['shadowsEna'+'bled'],_0x4a6234['clusteredL'+'ightingSha'+'dowType']=_0x151413['lighting']['shadowType'],_0x4a6234['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x151413['lighting']['areaLights'+'Enabled']):(_0x4a6234['clusteredL'+'ightingEna'+'bled']=!(-0xda3*0x1+-0x35c+0x1100),_0x4a6234['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x33d*-0x3+-0x1958+0xfa2),_0x4a6234['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x2663*-0x1+0x2*-0x16e+0x11c3*-0x2),_0x4a6234['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0x17ec+0x2709+-0xf1c));}static['updateMate'+'rialOption'+'s'](_0x1784a0,_0x9c5692){_0x1784a0['separateAm'+'bient']=!(-0xd*-0xa+-0x1c1c+0x1b9b),_0x1784a0['pixelSnap']=_0x9c5692['pixelSnap'],_0x1784a0['ambientSH']=_0x9c5692['ambientSH'],_0x1784a0['twoSidedLi'+'ghting']=_0x9c5692['twoSidedLi'+'ghting'],_0x1784a0['occludeDir'+'ect']=_0x9c5692['occludeDir'+'ect'],_0x1784a0['occludeSpe'+'cular']=_0x9c5692['occludeSpe'+'cular'],_0x1784a0['occludeSpe'+'cularFloat']=_0x9c5692['occludeSpe'+'cularInten'+'sity']!==-0x4cc+-0x803*0x2+0x14d3,_0x1784a0['useMsdf']=!(-0x167f*-0x1+0x1*-0x22c7+0x1*0xc49),_0x1784a0['msdfTextAt'+'tribute']=!(0x1*-0x1635+0x47*0x7b+0x1*-0xbe7),_0x1784a0['alphaToCov'+'erage']=_0x9c5692['alphaToCov'+'erage'],_0x1784a0['opacityFad'+'esSpecular']=_0x9c5692['opacityFad'+'esSpecular'],_0x1784a0['opacityDit'+'her']=_0x9c5692['opacityDit'+'her'],_0x1784a0['cubeMapPro'+'jection']=tm,_0x1784a0['useSpecula'+'r']=_0x9c5692['hasSpecula'+'r'],_0x1784a0['useSpecula'+'rityFactor']=_0x9c5692['hasSpecula'+'rityFactor'],_0x1784a0['enableGGXS'+'pecular']=_0x9c5692['ggxSpecula'+'r'],_0x1784a0['fresnelMod'+'el']=_0x9c5692['fresnelMod'+'el'],_0x1784a0['useRefract'+'ion']=_0x9c5692['hasRefract'+'ion'],_0x1784a0['useClearCo'+'at']=_0x9c5692['hasClearCo'+'at'],_0x1784a0['useSheen']=_0x9c5692['hasSheen'],_0x1784a0['useIridesc'+'ence']=_0x9c5692['hasIrrides'+'cence'],_0x1784a0['useMetalne'+'ss']=_0x9c5692['hasMetalne'+'ss'],_0x1784a0['useDynamic'+'Refraction']=_0x9c5692['dynamicRef'+'raction'],_0x1784a0['dispersion']=_0x9c5692['dispersion']>-0x205*0x4+0x65*-0x1+-0x1*-0x879,_0x1784a0['vertexColo'+'rs']=!(0x11a5+-0x85d*-0x4+-0x1b4*0x1e),_0x1784a0['lightMapEn'+'abled']=_0x9c5692['hasLightin'+'g'],_0x1784a0['dirLightMa'+'pEnabled']=_0x9c5692['dirLightMa'+'p'],_0x1784a0['useHeights']=_0x9c5692['hasHeights'],_0x1784a0['useNormals']=_0x9c5692['hasNormals'],_0x1784a0['useClearCo'+'atNormals']=_0x9c5692['hasClearCo'+'atNormals'],_0x1784a0['useAo']=_0x9c5692['hasAo'],_0x1784a0['diffuseMap'+'Enabled']=_0x9c5692['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x2791ce,_0x2010ab,_0x409385,_0x52fee4){_0x2791ce['fog']=_0x2010ab['useFog']?_0x52fee4['fog']:Kn,_0x2791ce['gamma']=_0x52fee4['shaderOutp'+'utGamma'],_0x2791ce['toneMap']=_0x2010ab['useTonemap']?_0x52fee4['toneMappin'+'g']:nv,_0x2010ab['useSkybox']&&_0x409385['envAtlas']&&_0x409385['skybox']?(_0x2791ce['reflection'+'Source']=xh,_0x2791ce['reflection'+'Encoding']=_0x409385['envAtlas']['encoding'],_0x2791ce['reflection'+'CubemapEnc'+'oding']=_0x409385['skybox']['encoding']):_0x2010ab['useSkybox']&&_0x409385['envAtlas']?(_0x2791ce['reflection'+'Source']=vh,_0x2791ce['reflection'+'Encoding']=_0x409385['envAtlas']['encoding']):_0x2010ab['useSkybox']&&_0x409385['skybox']?(_0x2791ce['reflection'+'Source']=Th,_0x2791ce['reflection'+'Encoding']=_0x409385['skybox']['encoding']):(_0x2791ce['reflection'+'Source']=vr,_0x2791ce['reflection'+'Encoding']=null),_0x2010ab['ambientSH']?(_0x2791ce['ambientSou'+'rce']=im,_0x2791ce['ambientEnc'+'oding']=null):_0x2791ce['reflection'+'Source']!==vr&&_0x409385['envAtlas']?(_0x2791ce['ambientSou'+'rce']=rm,_0x2791ce['ambientEnc'+'oding']=_0x409385['envAtlas']['encoding']):(_0x2791ce['ambientSou'+'rce']=am,_0x2791ce['ambientEnc'+'oding']=null);const _0x430f59=_0x2791ce['reflection'+'Source']!==vr;_0x2791ce['skyboxInte'+'nsity']=_0x430f59,_0x2791ce['useCubeMap'+'Rotation']=_0x430f59&&_0x409385['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x216e2d,_0xb34ac,_0x45b16a,_0x546fe9,_0x1968d6){if(_0x216e2d['lightMapWi'+'thoutAmbie'+'nt']=!(-0x3*-0x5d5+0x4*0x61+0x6*-0x32b),_0xb34ac['useLightin'+'g']){const _0x3ead9a=[],_0x28bff0=_0x546fe9?_0x546fe9>>0x1568+0x620+0x4*-0x6de:Ss;_0x216e2d['lightMaskD'+'ynamic']=!!(_0x28bff0&Ss),_0x216e2d['lightMapWi'+'thoutAmbie'+'nt']=!(0x4*0x54a+-0x205d+0xb36),_0x1968d6&&(Ws['collectLig'+'hts'](ve,_0x1968d6[ve],_0x3ead9a,_0x28bff0),_0x45b16a['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x1968d6[Ke],_0x3ead9a,_0x28bff0),Ws['collectLig'+'hts'](Ze,_0x1968d6[Ze],_0x3ead9a,_0x28bff0))),_0x216e2d['lights']=_0x3ead9a;}else _0x216e2d['lights']=[];(_0x216e2d['lights']['length']===0x64*-0x7+0x15ef+-0x1333&&!_0x45b16a['clusteredL'+'ightingEna'+'bled']||(_0x546fe9&wh)!==0x1d89+-0xc95*-0x3+0x21a4*-0x2)&&(_0x216e2d['noShadow']=!(-0x16fc+-0x20ce+-0x2*-0x1be5));}static['collectLig'+'hts'](_0x2689be,_0x5e67b2,_0x656fe4,_0x5f22d5){for(let _0x23e382=0x16f*-0x19+-0x2f0+0x26c7;_0x23e382<_0x5e67b2['length'];_0x23e382++){const _0x3fb80f=_0x5e67b2[_0x23e382];_0x3fb80f['enabled']&&_0x3fb80f['mask']&_0x5f22d5&&_0x656fe4['push'](_0x3fb80f);}}}const G_=(_0x4f3147,_0x4eb8ab)=>{if(_0x4f3147['length']!==_0x4eb8ab['length'])return!(-0x18e7+-0x1f8*0xf+0x3670);for(let _0xc556c6=-0x2600+0x1*-0x1955+0x3f55;_0xc556c6<_0x4f3147['length'];++_0xc556c6)if(_0x4f3147[_0xc556c6]!==_0x4eb8ab[_0xc556c6])return!(-0x187f+-0x17b*0xb+-0x35*-0xc5);return!(0x32*-0x34+0x1088+-0x660);},pb=_0x14d91b=>_0x14d91b['r']!==-0x1795+-0x1bde+0x3374||_0x14d91b['g']!==0x1*-0x1e6a+-0x88c*-0x1+-0x1fd*-0xb||_0x14d91b['b']!==-0xcc9*-0x1+-0xd*-0x121+0x1b75*-0x1,mb=_0x24f48b=>_0x24f48b['r']!==0x1*0x1e75+-0x96d*-0x3+0x54*-0xb3||_0x24f48b['g']!==0x18e9+-0x2fd*0x6+-0x6fb||_0x24f48b['b']!==0x9d*-0x33+-0x1d60+0x3ca7*0x1;class _b{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x32bf2,_0x50cf5b,_0x10fc02,_0xa3d47c,_0x1d9d41,_0x125d8b){this['_updateSha'+'redOptions'](_0x32bf2,_0x50cf5b,_0x10fc02,_0xa3d47c,_0x1d9d41),this['_updateMin'+'Options'](_0x32bf2,_0x10fc02,_0x1d9d41),this['_updateUVO'+'ptions'](_0x32bf2,_0x10fc02,_0xa3d47c,!(-0x1f*-0x7c+-0x1*-0x445+0x1*-0x1349));}['updateRef'](_0x131c9f,_0x5258bb,_0x450a9a,_0x2d5b97,_0x57319e,_0x531fdb,_0x40347d){this['_updateSha'+'redOptions'](_0x131c9f,_0x5258bb,_0x2d5b97,_0x57319e,_0x531fdb),this['_updateEnv'+'Options'](_0x131c9f,_0x2d5b97,_0x5258bb,_0x450a9a),this['_updateMat'+'erialOptio'+'ns'](_0x131c9f,_0x2d5b97,_0x5258bb),_0x131c9f['litOptions']['hasTangent'+'s']=_0x57319e&&(_0x57319e&om)!==0x97*0x20+-0x1894+0x14*0x49,this['_updateLig'+'htOptions'](_0x131c9f,_0x5258bb,_0x2d5b97,_0x57319e,_0x40347d),this['_updateUVO'+'ptions'](_0x131c9f,_0x2d5b97,_0x57319e,!(0xaf8+-0x1*0x107+-0x9f0),_0x450a9a);}['_updateSha'+'redOptions'](_0x12f1a6,_0x517668,_0x172c5f,_0x28f33b,_0x1096e6){_0x12f1a6['forceUv1']=_0x172c5f['forceUv1'],_0x172c5f['userAttrib'+'utes']&&(_0x12f1a6['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x172c5f['userAttrib'+'utes']['entries']())),_0x12f1a6['litOptions']['shaderChun'+'ks']=_0x172c5f['shaderChun'+'ks'],_0x12f1a6['litOptions']['pass']=_0x1096e6,_0x12f1a6['litOptions']['alphaTest']=_0x172c5f['alphaTest']>-0xf44+-0x246a+0x87*0x62,_0x12f1a6['litOptions']['blendType']=_0x172c5f['blendType'],_0x12f1a6['litOptions']['screenSpac'+'e']=_0x28f33b&&(_0x28f33b&Eh)!==-0x1*0x23f3+-0x1ef0+-0x42e3*-0x1,_0x12f1a6['litOptions']['skin']=_0x28f33b&&(_0x28f33b&nl)!==0x109*-0x1d+0x84a*-0x1+0x1d3*0x15,_0x12f1a6['litOptions']['batch']=_0x28f33b&&(_0x28f33b&qc)!==-0x1c5b+-0x22bd*0x1+0x6*0xa84,_0x12f1a6['litOptions']['useInstanc'+'ing']=_0x28f33b&&(_0x28f33b&ol)!==-0x9ec+-0x1aa8+0x1*0x2494,_0x12f1a6['litOptions']['useMorphPo'+'sition']=_0x28f33b&&(_0x28f33b&ll)!==0x19dd+0x1*0x23d3+-0x3db0,_0x12f1a6['litOptions']['useMorphNo'+'rmal']=_0x28f33b&&(_0x28f33b&cl)!==-0x1*0x23b+-0x25ce+0x2809,_0x12f1a6['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x28f33b&&(_0x28f33b&hl)!==0x7*0x4a9+0x1fbb+-0x405a,_0x12f1a6['litOptions']['nineSliced'+'Mode']=_0x172c5f['nineSliced'+'Mode']||-0x4*0x5ff+-0x52*0xc+-0x4*-0x6f5,_0x517668['clusteredL'+'ightingEna'+'bled']&&_0x172c5f['useLightin'+'g']?(_0x12f1a6['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x1588*-0x1+0x4*0x3f2+0x10*0x5c),_0x12f1a6['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x517668['lighting']['cookiesEna'+'bled'],_0x12f1a6['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x517668['lighting']['shadowsEna'+'bled'],_0x12f1a6['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x517668['lighting']['shadowType'],_0x12f1a6['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x517668['lighting']['areaLights'+'Enabled']):(_0x12f1a6['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0xa*0x274+-0x17e*0xa+-0x99b),_0x12f1a6['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x2041+-0x425*-0x5+0xb89*0x1),_0x12f1a6['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x1*0x27d+0x19a*-0x10+0x1c1e),_0x12f1a6['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0x1e06+0x1e29*-0x1+0x3c30));}['_updateUVO'+'ptions'](_0x37b405,_0x4ad808,_0x40057a,_0x4051dc,_0x4cb270){let _0x3c3690=!(0x15ef*0x1+0x269+-0x1857),_0x405f7e=!(0x1038+-0x1240+-0x209*-0x1),_0x6adbed=!(0x1ac1+0x5e*-0x11+0x15*-0xfa);_0x40057a&&(_0x3c3690=(_0x40057a&nm)!==0x24c3+-0x11d8+0xa7*-0x1d,_0x405f7e=(_0x40057a&dv)!==0x3*0x724+-0x2411+-0xea5*-0x1,_0x6adbed=(_0x40057a&fv)!==-0x6d*0x2e+-0x18a4+0x2c3a),_0x37b405['litOptions']['vertexColo'+'rs']=!(0x24f8+-0xf1*0x18+-0xe5f),this['_mapXForms']=[];const _0x4298a9={};for(const _0x5f55ef in bn)this['_updateTex'+'Options'](_0x37b405,_0x4ad808,_0x5f55ef,_0x3c3690,_0x405f7e,_0x6adbed,_0x4051dc,_0x4298a9);this['_mapXForms']=null,_0x37b405['litOptions']['ssao']=_0x4cb270==null?void(-0x724+-0x1d1e+0x2442):_0x4cb270['ssaoEnable'+'d'],_0x37b405['useAO']=_0x37b405['litOptions']['ssao'],_0x37b405['litOptions']['lightMapEn'+'abled']=_0x37b405['lightMap'],_0x37b405['litOptions']['dirLightMa'+'pEnabled']=_0x37b405['dirLightMa'+'p'],_0x37b405['litOptions']['useHeights']=_0x37b405['heightMap'],_0x37b405['litOptions']['useNormals']=_0x37b405['normalMap'],_0x37b405['litOptions']['useClearCo'+'atNormals']=_0x37b405['clearCoatN'+'ormalMap'],_0x37b405['litOptions']['useAo']=_0x37b405['aoMap']||_0x37b405['aoVertexCo'+'lor']||_0x37b405['litOptions']['ssao'],_0x37b405['litOptions']['diffuseMap'+'Enabled']=_0x37b405['diffuseMap'];}['_updateTex'+'Options'](_0x532a95,_0x1993d7,_0x3fd05f,_0x380032,_0x11c9a0,_0x4a1f81,_0x1499a0,_0x4323af){const _0x160995=_0x3fd05f==='opacity';if(!_0x1499a0||_0x160995){const _0x2a22dd=_0x3fd05f+'Map',_0x20e932=_0x3fd05f+('VertexColo'+'r'),_0x8d5df6=_0x3fd05f+('VertexColo'+'rChannel'),_0x2d40ed=_0x2a22dd+'Channel',_0x660c7e=_0x2a22dd+'Transform',_0x1cbcf9=_0x2a22dd+'Uv',_0x2a39c9=_0x2a22dd+'Identifier';if(_0x3fd05f!=='light'&&(_0x532a95[_0x2a22dd]=!(0x2564+-0x2*0x124+-0x231b),_0x532a95[_0x2a39c9]=void(0x1fe4+0x16f3+-0x36d7*0x1),_0x532a95[_0x2d40ed]='',_0x532a95[_0x660c7e]=0x1744+0x205f*0x1+-0x37a3,_0x532a95[_0x1cbcf9]=0xfef*0x1+0x105+0xa*-0x1b2),_0x532a95[_0x20e932]=!(0x18b1+-0x7*-0x269+-0x298f),_0x532a95[_0x8d5df6]='',_0x160995&&_0x1993d7['blendType']===Cs&&_0x1993d7['alphaTest']===0x928*0x1+-0x1*-0x2467+-0x2d8f&&!_0x1993d7['alphaToCov'+'erage']&&_0x1993d7['opacityDit'+'her']===Sa)return;if(_0x3fd05f!=='height'&&_0x1993d7[_0x20e932]&&_0x4a1f81&&(_0x532a95[_0x20e932]=_0x1993d7[_0x20e932],_0x532a95[_0x8d5df6]=_0x1993d7[_0x8d5df6],_0x532a95['litOptions']['vertexColo'+'rs']=!(0x26b9+-0x1cd1+-0x9e8)),_0x1993d7[_0x2a22dd]){let _0x5c462e=!(-0x1*0x14c0+-0xde3+0x22a3);if(_0x1993d7[_0x1cbcf9]===-0x16*-0x5d+0x317*0x7+0x1d9f*-0x1&&!_0x380032&&(_0x5c462e=!(0x23ba+0x5*0xcd+-0x27ba)),_0x1993d7[_0x1cbcf9]===-0x2*0x26+-0x3*0x885+-0x2*-0xcee&&!_0x11c9a0&&(_0x5c462e=!(-0x55*-0x35+-0x3*0x665+0x197*0x1)),_0x5c462e){const _0x555d19=_0x1993d7[_0x2a22dd]['id'];let _0x15c327=_0x4323af[_0x555d19];_0x15c327===void(0xef*0x4+-0x139b+0xfdf*0x1)&&(_0x4323af[_0x555d19]=_0x3fd05f,_0x15c327=_0x3fd05f),_0x532a95[_0x2a22dd]=!!_0x1993d7[_0x2a22dd],_0x532a95[_0x2a39c9]=_0x15c327,_0x532a95[_0x660c7e]=this['_getMapTra'+'nsformID'](_0x1993d7['getUniform'](_0x660c7e),_0x1993d7[_0x1cbcf9]),_0x532a95[_0x2d40ed]=_0x1993d7[_0x2d40ed],_0x532a95[_0x1cbcf9]=_0x1993d7[_0x1cbcf9];}}}}['_updateMin'+'Options'](_0x2d11ac,_0xa10032,_0x28025b){const _0x5aacaa=_0x28025b===Rl;_0x2d11ac['litOptions']['opacitySha'+'dowDither']=_0x5aacaa?_0xa10032['opacityDit'+'her']:_0xa10032['opacitySha'+'dowDither'],_0x2d11ac['litOptions']['linearDept'+'h']=_0x5aacaa,_0x2d11ac['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x1bc6e9,_0x407efb,_0x446eee){var _0x3f944a,_0x5b1933,_0x2230d5,_0x50d42a,_0x1f331e,_0x2d03db;const _0x1f1b02=!!(_0x407efb['useMetalne'+'ss']||_0x407efb['specularMa'+'p']||_0x407efb['sphereMap']||_0x407efb['cubeMap']||mb(_0x407efb['specular'])||_0x407efb['specularit'+'yFactor']>-0x1d0c+-0x338+-0x23*-0xec&&_0x407efb['useMetalne'+'ss']||_0x407efb['enableGGXS'+'pecular']||_0x407efb['clearCoat']>-0x359*0x7+-0x754+0x1ec3),_0x4b302a=!_0x407efb['useMetalne'+'ss']||_0x407efb['useMetalne'+'ssSpecular'+'Color'],_0x19b178=_0x1f1b02&&(_0x407efb['specularTi'+'nt']||!_0x407efb['specularMa'+'p']&&!_0x407efb['specularVe'+'rtexColor'])&&pb(_0x407efb['specular']),_0x500272=_0x1f1b02&&_0x407efb['useMetalne'+'ssSpecular'+'Color']&&(_0x407efb['specularit'+'yFactorTin'+'t']||_0x407efb['specularit'+'yFactor']<0x1fb6+0x1*0x1a3d+0x1*-0x39f2&&!_0x407efb['specularit'+'yFactorMap']),_0x1c8dc5=_0x309d2f=>_0x309d2f?_0x309d2f['format']===vl||_0x309d2f['type']===Jo:!(0x10*0x21b+-0x14df+-0xcd0),_0x59d08b=(_0x1f2a40,_0x58aad7)=>Math['abs'](_0x1f2a40-_0x58aad7)<-0x2*-0x805+-0x5d*-0x1f+-0xf1*0x1d+0.0001;_0x1bc6e9['specularTi'+'nt']=_0x19b178,_0x1bc6e9['specularit'+'yFactorTin'+'t']=_0x500272,_0x1bc6e9['metalnessT'+'int']=_0x407efb['useMetalne'+'ss']&&_0x407efb['metalness']<0x1*-0xd16+0x5*-0x2ce+0x1b1d,_0x1bc6e9['glossTint']=!(-0x19c9+0x336+0x1693),_0x1bc6e9['diffuseEnc'+'oding']=(_0x3f944a=_0x407efb['diffuseMap'])==null?void(0x24a6+0x1273*0x2+-0x498c):_0x3f944a['encoding'],_0x1bc6e9['diffuseDet'+'ailEncodin'+'g']=(_0x5b1933=_0x407efb['diffuseDet'+'ailMap'])==null?void(0xb7b*0x3+-0xc80+-0x15f1):_0x5b1933['encoding'],_0x1bc6e9['emissiveEn'+'coding']=(_0x2230d5=_0x407efb['emissiveMa'+'p'])==null?void(0xa3a+-0x2*0x1a+-0xa06):_0x2230d5['encoding'],_0x1bc6e9['lightMapEn'+'coding']=(_0x50d42a=_0x407efb['lightMap'])==null?void(0x17b8+0xe*-0x139+0x2*-0x34d):_0x50d42a['encoding'],_0x1bc6e9['packedNorm'+'al']=_0x1c8dc5(_0x407efb['normalMap']),_0x1bc6e9['refraction'+'Tint']=_0x59d08b(_0x407efb['refraction'],-0x1e9+0xa17*-0x1+-0x1b7*-0x7),_0x1bc6e9['refraction'+'IndexTint']=_0x59d08b(_0x407efb['refraction'+'Index'],(0x1d*-0x5b+0x1bb4+-0x1164)/(0x1af*0xa+-0x1*0xab5+0x20*-0x31+0.5)),_0x1bc6e9['thicknessT'+'int']=_0x407efb['useDynamic'+'Refraction']&&_0x407efb['thickness']!==0x26e*0x4+-0x75f+0x12c*-0x2,_0x1bc6e9['specularEn'+'coding']=(_0x1f331e=_0x407efb['specularMa'+'p'])==null?void(-0xcbb+-0xf7f+0x1c3a):_0x1f331e['encoding'],_0x1bc6e9['sheenEncod'+'ing']=(_0x2d03db=_0x407efb['sheenMap'])==null?void(0xb8d*0x1+0x2c5+-0xe52):_0x2d03db['encoding'],_0x1bc6e9['aoMapUv']=_0x407efb['aoUvSet'],_0x1bc6e9['aoDetail']=!!_0x407efb['aoDetailMa'+'p'],_0x1bc6e9['diffuseDet'+'ail']=!!_0x407efb['diffuseDet'+'ailMap'],_0x1bc6e9['normalDeta'+'il']=!!_0x407efb['normalMap'],_0x1bc6e9['normalDeta'+'ilPackedNo'+'rmal']=_0x1c8dc5(_0x407efb['normalDeta'+'ilMap']),_0x1bc6e9['diffuseDet'+'ailMode']=_0x407efb['diffuseDet'+'ailMode'],_0x1bc6e9['aoDetailMo'+'de']=_0x407efb['aoDetailMo'+'de'],_0x1bc6e9['clearCoatG'+'loss']=!!_0x407efb['clearCoatG'+'loss'],_0x1bc6e9['clearCoatP'+'ackedNorma'+'l']=_0x1c8dc5(_0x407efb['clearCoatN'+'ormalMap']),_0x1bc6e9['iorTint']=_0x59d08b(_0x407efb['refraction'+'Index'],(-0xb08*-0x2+0x2700+-0x3d0f)/(-0x24b8+0x19*0xf+0x2342+0.5)),_0x446eee['forcePassT'+'hroughSpec'+'ular']&&(_0x1bc6e9['specularEn'+'coding']='linear',_0x1bc6e9['sheenEncod'+'ing']='linear'),_0x1bc6e9['iridescenc'+'eTint']=_0x407efb['iridescenc'+'e']!==-0xd07+0xd26+0x2*-0xf,_0x1bc6e9['glossInver'+'t']=_0x407efb['glossInver'+'t'],_0x1bc6e9['sheenGloss'+'Invert']=_0x407efb['sheenGloss'+'Invert'],_0x1bc6e9['clearCoatG'+'lossInvert']=_0x407efb['clearCoatG'+'lossInvert'],_0x1bc6e9['useSpecula'+'rColor']=_0x4b302a,_0x1bc6e9['litOptions']['separateAm'+'bient']=!(-0x56*0x6+-0x1*0x8d1+0xad6),_0x1bc6e9['litOptions']['pixelSnap']=_0x407efb['pixelSnap'],_0x1bc6e9['litOptions']['ambientSH']=!!_0x407efb['ambientSH'],_0x1bc6e9['litOptions']['twoSidedLi'+'ghting']=_0x407efb['twoSidedLi'+'ghting'],_0x1bc6e9['litOptions']['occludeSpe'+'cular']=_0x407efb['occludeSpe'+'cular'],_0x1bc6e9['litOptions']['occludeSpe'+'cularFloat']=_0x407efb['occludeSpe'+'cularInten'+'sity']!==-0x3*0x10b+0x1*0x3d1+-0x19*0x7,_0x1bc6e9['litOptions']['useMsdf']=!!_0x407efb['msdfMap'],_0x1bc6e9['litOptions']['msdfTextAt'+'tribute']=!!_0x407efb['msdfTextAt'+'tribute'],_0x1bc6e9['litOptions']['alphaToCov'+'erage']=_0x407efb['alphaToCov'+'erage'],_0x1bc6e9['litOptions']['opacityFad'+'esSpecular']=_0x407efb['opacityFad'+'esSpecular'],_0x1bc6e9['litOptions']['opacityDit'+'her']=_0x407efb['opacityDit'+'her'],_0x1bc6e9['litOptions']['cubeMapPro'+'jection']=_0x407efb['cubeMapPro'+'jection'],_0x1bc6e9['litOptions']['occludeDir'+'ect']=_0x407efb['occludeDir'+'ect'],_0x1bc6e9['litOptions']['useSpecula'+'r']=_0x1f1b02,_0x1bc6e9['litOptions']['useSpecula'+'rityFactor']=(_0x500272||!!_0x407efb['specularit'+'yFactorMap'])&&_0x407efb['useMetalne'+'ssSpecular'+'Color'],_0x1bc6e9['litOptions']['enableGGXS'+'pecular']=_0x407efb['enableGGXS'+'pecular'],_0x1bc6e9['litOptions']['fresnelMod'+'el']=_0x407efb['fresnelMod'+'el'],_0x1bc6e9['litOptions']['useRefract'+'ion']=(_0x407efb['refraction']||!!_0x407efb['refraction'+'Map'])&&(_0x407efb['useDynamic'+'Refraction']||_0x1bc6e9['litOptions']['reflection'+'Source']!==vr),_0x1bc6e9['litOptions']['useClearCo'+'at']=!!_0x407efb['clearCoat'],_0x1bc6e9['litOptions']['useSheen']=_0x407efb['useSheen'],_0x1bc6e9['litOptions']['useIridesc'+'ence']=_0x407efb['useIridesc'+'ence']&&_0x407efb['iridescenc'+'e']!==-0x283*0xf+0x1*-0x115b+-0xdc2*-0x4,_0x1bc6e9['litOptions']['useMetalne'+'ss']=_0x407efb['useMetalne'+'ss'],_0x1bc6e9['litOptions']['useDynamic'+'Refraction']=_0x407efb['useDynamic'+'Refraction'],_0x1bc6e9['litOptions']['dispersion']=_0x407efb['dispersion']>0x1*0xbcf+-0x2*-0xd1d+-0x2609,_0x1bc6e9['litOptions']['shadowCatc'+'her']=_0x407efb['shadowCatc'+'her'];}['_updateEnv'+'Options'](_0x11eba5,_0x197c27,_0x57e599,_0xf647f1){_0x11eba5['litOptions']['fog']=_0x197c27['useFog']?_0xf647f1['fog']:Kn,_0x11eba5['litOptions']['gamma']=_0xf647f1['shaderOutp'+'utGamma'],_0x11eba5['litOptions']['toneMap']=_0x197c27['useTonemap']?_0xf647f1['toneMappin'+'g']:nv;let _0xfbd04d=!(0x885+-0x14bb+0xc37);if(_0x197c27['envAtlas']&&_0x197c27['cubeMap']?(_0x11eba5['litOptions']['reflection'+'Source']=xh,_0x11eba5['litOptions']['reflection'+'Encoding']=_0x197c27['envAtlas']['encoding'],_0x11eba5['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x197c27['cubeMap']['encoding']):_0x197c27['envAtlas']?(_0x11eba5['litOptions']['reflection'+'Source']=vh,_0x11eba5['litOptions']['reflection'+'Encoding']=_0x197c27['envAtlas']['encoding']):_0x197c27['cubeMap']?(_0x11eba5['litOptions']['reflection'+'Source']=Th,_0x11eba5['litOptions']['reflection'+'Encoding']=_0x197c27['cubeMap']['encoding']):_0x197c27['sphereMap']?(_0x11eba5['litOptions']['reflection'+'Source']=hv,_0x11eba5['litOptions']['reflection'+'Encoding']=_0x197c27['sphereMap']['encoding']):_0x197c27['useSkybox']&&_0x57e599['envAtlas']&&_0x57e599['skybox']?(_0x11eba5['litOptions']['reflection'+'Source']=xh,_0x11eba5['litOptions']['reflection'+'Encoding']=_0x57e599['envAtlas']['encoding'],_0x11eba5['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x57e599['skybox']['encoding'],_0xfbd04d=!(0x1983+0x31a*-0x5+-0xa01)):_0x197c27['useSkybox']&&_0x57e599['envAtlas']?(_0x11eba5['litOptions']['reflection'+'Source']=vh,_0x11eba5['litOptions']['reflection'+'Encoding']=_0x57e599['envAtlas']['encoding'],_0xfbd04d=!(0xecc+0x166*0x1a+-0x3328)):_0x197c27['useSkybox']&&_0x57e599['skybox']?(_0x11eba5['litOptions']['reflection'+'Source']=Th,_0x11eba5['litOptions']['reflection'+'Encoding']=_0x57e599['skybox']['encoding'],_0xfbd04d=!(-0x1*0x12b9+0x1907+0x64e*-0x1)):(_0x11eba5['litOptions']['reflection'+'Source']=vr,_0x11eba5['litOptions']['reflection'+'Encoding']=null),_0x197c27['ambientSH'])_0x11eba5['litOptions']['ambientSou'+'rce']=im,_0x11eba5['litOptions']['ambientEnc'+'oding']=null;else{const _0x13ff5a=_0x197c27['envAtlas']||(_0x197c27['useSkybox']&&_0x57e599['envAtlas']?_0x57e599['envAtlas']:null);_0x13ff5a&&!_0x197c27['sphereMap']?(_0x11eba5['litOptions']['ambientSou'+'rce']=rm,_0x11eba5['litOptions']['ambientEnc'+'oding']=_0x13ff5a['encoding']):(_0x11eba5['litOptions']['ambientSou'+'rce']=am,_0x11eba5['litOptions']['ambientEnc'+'oding']=null);}_0x11eba5['litOptions']['skyboxInte'+'nsity']=_0xfbd04d,_0x11eba5['litOptions']['useCubeMap'+'Rotation']=_0xfbd04d&&_0x57e599['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x549b66,_0x48b92d,_0x46d94b,_0x49fc19,_0x1b341f){if(_0x549b66['lightMap']=!(0x2*0x11f+0x1b+0x8*-0x4b),_0x549b66['lightMapCh'+'annel']='',_0x549b66['lightMapUv']=0x1c1d+-0x391+-0x188c,_0x549b66['lightMapTr'+'ansform']=-0x4*-0x319+0x7c1+-0x1425*0x1,_0x549b66['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1534+0xdc4*-0x2+0x3*0x103f),_0x549b66['dirLightMa'+'p']=!(-0x1db+0xa4d*0x3+0x1*-0x1d0b),_0x49fc19&&(_0x549b66['litOptions']['noShadow']=(_0x49fc19&wh)!==0x12*-0x18f+0x21ae+0x10*-0x5a,(_0x49fc19&ou)!==0x23a4+-0x193a+0x1f*-0x56&&(_0x549b66['lightMapEn'+'coding']=_0x48b92d['lightmapPi'+'xelFormat']===Ne?'rgbm':'linear',_0x549b66['lightMap']=!(0x1*0x1b2e+0xf24+0x1*-0x2a52),_0x549b66['lightMapCh'+'annel']='rgb',_0x549b66['lightMapUv']=-0x3*-0x228+-0xfa3*0x1+0x1*0x92c,_0x549b66['lightMapTr'+'ansform']=0x184c+0x22c2+-0x3b0e,_0x549b66['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x46d94b['lightMap'],(_0x49fc19&uv)!==0x9*-0x2eb+0x19*0x9d+0x1*0xaee&&(_0x549b66['dirLightMa'+'p']=!(-0xfbb*0x1+-0x737*-0x2+0x6f*0x3)),(_0x49fc19&pv)!==-0x1f1e*-0x1+0xfa0+-0x2ebe&&(_0x549b66['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x23a1+-0x133*-0x5+-0x853*0x5)))),_0x46d94b['useLightin'+'g']){const _0x258bd8=[],_0x1f8f0b=_0x49fc19?_0x49fc19>>0x2d4*0xa+-0xbed+0x2b*-0x61:Ss;_0x549b66['litOptions']['lightMaskD'+'ynamic']=!!(_0x1f8f0b&Ss),_0x1b341f&&(Ws['collectLig'+'hts'](ve,_0x1b341f[ve],_0x258bd8,_0x1f8f0b),_0x48b92d['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x1b341f[Ke],_0x258bd8,_0x1f8f0b),Ws['collectLig'+'hts'](Ze,_0x1b341f[Ze],_0x258bd8,_0x1f8f0b))),_0x549b66['litOptions']['lights']=_0x258bd8;}else _0x549b66['litOptions']['lights']=[];_0x549b66['litOptions']['lights']['length']===-0x1095+0x2*0x1a6+-0x1*-0xd49&&!_0x48b92d['clusteredL'+'ightingEna'+'bled']&&(_0x549b66['litOptions']['noShadow']=!(-0x2193+0x646*-0x5+-0xcfd*-0x5));}['_getMapTra'+'nsformID'](_0x395e44,_0x32a8ce){if(!_0x395e44)return-0x11ea+0x1bba+-0x9d0;let _0x9e45be=this['_mapXForms'][_0x32a8ce];_0x9e45be||(_0x9e45be=[],this['_mapXForms'][_0x32a8ce]=_0x9e45be);for(let _0x4ebf1f=-0x1ca9+-0x1*0x26bf+0x2*0x21b4;_0x4ebf1f<_0x9e45be['length'];_0x4ebf1f++)if(G_(_0x9e45be[_0x4ebf1f][-0x262d+-0x14*-0x18f+0xb*0xa3]['value'],_0x395e44[0x1425+-0x1028+-0x3fd]['value'])&&G_(_0x9e45be[_0x4ebf1f][0x1*-0x1a15+0x241d+-0xa07]['value'],_0x395e44[-0x18*0xf4+0x1*-0x1ec9+0x35aa]['value']))return _0x4ebf1f+(-0x3*0x75a+-0x4d*0x5b+0x316e);return _0x9e45be['push'](_0x395e44);}}function rt(_0x5f07c5,_0x14475c=!(-0x27*-0xe3+-0x8a0*0x1+-0x19f5),_0x3bdb0a=!(0xffd*0x1+0x1207+0x2204*-0x1)){const _0x518fcb={};return _0x518fcb[_0x5f07c5+'Map']='texture',_0x518fcb[_0x5f07c5+'MapTiling']='vec2',_0x518fcb[_0x5f07c5+'MapOffset']='vec2',_0x518fcb[_0x5f07c5+('MapRotatio'+'n')]='number',_0x518fcb[_0x5f07c5+'MapUv']='number',_0x14475c&&(_0x518fcb[_0x5f07c5+'MapChannel']='string',_0x3bdb0a&&(_0x518fcb[_0x5f07c5+('VertexColo'+'r')]='boolean',_0x518fcb[_0x5f07c5+('VertexColo'+'rChannel')]='string')),_0x518fcb;}const $n={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...rt('ao'),...rt('aoDetail',!(-0x1*0x13fc+-0x1*-0x262f+0x1*-0x1233),!(0xa*-0x21a+-0xf*-0x248+-0xd33)),'aoDetailMode':'string','aoIntensity':'number','diffuse':'rgb',...rt('diffuse'),...rt('diffuseDet'+'ail',!(0x25bd+0x27*-0x31+-0x1f*0xfa),!(-0x1262+-0x1*-0x577+0xcec)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...rt('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...rt('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','metalnessTint':'boolean',...rt('metalness'),'useMetalnessSpecularColor':'boolean','anisotropyIntensity':'number','anisotropyRotation':'number',...rt('anisotropy'),'shininess':'number','gloss':'number','glossInvert':'boolean',...rt('gloss'),'clearCoat':'number',...rt('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...rt('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...rt('clearCoatN'+'ormal',!(0x9*-0x111+-0x43*0x7f+0x2ad7)),'useSheen':'boolean','sheen':'rgb',...rt('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...rt('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...rt('emissive'),'emissiveIntensity':'number',...rt('normal',!(-0x355+-0x1e96+0x21ec)),'bumpiness':'number',...rt('normalDeta'+'il',!(0x2b*0x57+0x1776+-0x2612)),'normalDetailMapBumpiness':'number',...rt('height',!(-0x59*-0x2f+0x1aec+0x5*-0x8a7),!(-0x12c8+0xbef+0x2*0x36d)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...rt('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...rt('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...rt('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...rt('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...rt('iridescenc'+'eThickness'),...rt('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean','shadowCatcher':'boolean'},Cd=[];for(const l in $n)$n[l]==='texture'&&Cd['push'](l);const fm=[];for(const l in $n)$n[l]==='cubemap'&&fm['push'](l);const gb={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean','anisotropy':'boolean'},Kc={},bv={};let no=new Set();const oc=new ie();class Ut extends tr{constructor(){super(),h(this,'userAttrib'+'utes',new Map()),h(this,'onUpdateSh'+'ader'),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new _b(),this['reset']());}['reset'](){Object['keys'](Kc)['forEach'](_0x3c821d=>{this['_'+_0x3c821d]=Kc[_0x3c821d]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x35cfcd){return super['copy'](_0x35cfcd),Object['keys'](Kc)['forEach'](_0x516d89=>{this[_0x516d89]=_0x35cfcd[_0x516d89];}),this['userAttrib'+'utes']=new Map(_0x35cfcd['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x4262da,_0x193531){this['userAttrib'+'utes']['set'](_0x193531,_0x4262da);}['_setParame'+'ter'](_0x41683b,_0x25c36a){no['add'](_0x41683b),this['setParamet'+'er'](_0x41683b,_0x25c36a);}['_setParame'+'ters'](_0x535999){_0x535999['forEach'](_0x1c04ba=>{this['_setParame'+'ter'](_0x1c04ba['name'],_0x1c04ba['value']);});}['_processPa'+'rameters'](_0x51b3b9){const _0x42be70=this[_0x51b3b9];_0x42be70['forEach'](_0x254bfb=>{no['has'](_0x254bfb)||delete this['parameters'][_0x254bfb];}),this[_0x51b3b9]=no,no=_0x42be70,no['clear']();}['_updateMap'](_0x2b7931){const _0x519150=_0x2b7931+'Map',_0x13cc6d=this[_0x519150];if(_0x13cc6d){this['_setParame'+'ter']('texture_'+_0x519150,_0x13cc6d);const _0x377d40=_0x519150+'Transform',_0x55b61c=this['getUniform'](_0x377d40);_0x55b61c&&this['_setParame'+'ters'](_0x55b61c);}}['_allocUnif'+'orm'](_0x4eb4e3,_0x340be2){let _0x32dabb=this['_uniformCa'+'che'][_0x4eb4e3];return _0x32dabb||(_0x32dabb=_0x340be2(),this['_uniformCa'+'che'][_0x4eb4e3]=_0x32dabb),_0x32dabb;}['getUniform'](_0x5a30e2,_0xd427b,_0x57b093){return bv[_0x5a30e2](this,_0xd427b,_0x57b093);}['updateUnif'+'orms'](_0x2f4956,_0x37b4fa){const _0x162b96=_0x30c8f3=>this['getUniform'](_0x30c8f3,_0x2f4956,_0x37b4fa);this['_setParame'+'ter']('material_a'+'mbient',_0x162b96('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x162b96('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<0x9*-0x209+-0x4b1*-0x5+-0x523)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x162b96('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x162b96('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x162b96('specular')),this['enableGGXS'+'pecular']&&(this['_setParame'+'ter']('material_a'+'nisotropyI'+'ntensity',this['anisotropy'+'Intensity']),this['_setParame'+'ter']('material_a'+'nisotropyR'+'otation',[Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']),Math['sin'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD'])])),this['clearCoat']>0x133*-0x2+0x7*-0x49+-0x3*-0x177&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),w['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===0x1*0x121d+-0xb60+0x1*-0x6bd&&this['emissive']['g']===0x1f*0xf0+0xa76*0x3+-0x3c72&&this['emissive']['b']===0x21b0+-0x7*0x36b+-0x9c3&&w['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+Q['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x162b96('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>0x1c8d*0x1+0x2633+0x1*-0x42c0&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>-0x752+0x199b+-0x1249&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x162b96('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===-0x248d+-0xe77+0xa*0x51a?-0x1901+-0x110c+0x2a0d:(-0x2e0+-0x25f7*0x1+-0x51b*-0x8)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(0xeb*0xb+-0x5*-0x313+-0x35*0x7b)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===av&&this['_setParame'+'ter'](_0x162b96('cubeMapPro'+'jectionBox'));for(const _0x4ba158 in bn)this['_updateMap'](_0x4ba158);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x162b96('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x2f4956,_0x37b4fa);}['updateEnvU'+'niforms'](_0xda6b8b,_0x450b2e){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x450b2e['envAtlas']&&_0x450b2e['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x450b2e['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x450b2e['skybox'])):_0x450b2e['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x450b2e['envAtlas']):_0x450b2e['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x450b2e['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x2163ea){const {device:_0x57699f,scene:_0x5f4870,pass:_0x1d6805,objDefs:_0x3fc797,sortedLights:_0x24a433,cameraShaderParams:_0x49426e}=_0x2163ea;this['updateEnvU'+'niforms'](_0x57699f,_0x5f4870);const _0x44539a=Si['get'](_0x57699f)['getByIndex'](_0x1d6805),_0x4b67a7=_0x1d6805===Zn||_0x1d6805===Rl||_0x44539a['isShadow'];let _0x558020=_0x4b67a7?Jd['optionsCon'+'textMin']:Jd['optionsCon'+'text'];_0x558020['defines']=$t['getCoreDef'+'ines'](this,_0x2163ea),_0x4b67a7?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x558020,_0x5f4870,this,_0x3fc797,_0x1d6805,_0x24a433):this['shaderOptB'+'uilder']['updateRef'](_0x558020,_0x5f4870,_0x49426e,this,_0x3fc797,_0x1d6805,_0x24a433),this['useFog']||_0x558020['defines']['set']('FOG','NONE'),_0x558020['defines']['set']('TONEMAP',ov[_0x558020['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x558020=this['onUpdateSh'+'ader'](_0x558020));const _0x5bb4c8=new Ad(_0x2163ea['viewUnifor'+'mFormat'],_0x2163ea['viewBindGr'+'oupFormat'],_0x2163ea['vertexForm'+'at']),_0x2dfa13=Hn(_0x57699f);_0x2dfa13['register']('standard',Jd);const _0x3d59df=_0x2dfa13['getProgram']('standard',_0x558020,_0x5bb4c8,this['userId']);return this['_dirtyShad'+'er']=!(0x2191+-0x269*-0x2+-0x2662),_0x3d59df;}['destroy'](){for(const _0x1da631 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x1da631]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}h(Ut,'TEXTURE_PA'+'RAMETERS',Cd),h(Ut,'CUBEMAP_PA'+'RAMETERS',fm);const Pd=(_0x59570e,_0x4e5a2a)=>{bv[_0x59570e]=_0x4e5a2a;},um=(_0x275271,_0xa69b7b,_0x3f3f5a,_0x3803e3)=>{Object['defineProp'+'erty'](Ut['prototype'],_0x275271,{'get':_0x3803e3||function(){return this['_'+_0x275271];},'set':_0x3f3f5a}),Kc[_0x275271]={'value':_0xa69b7b};},Sb=_0x20d439=>{const _0x1912cc='_'+_0x20d439['name'],_0x1ce66f=_0x20d439['dirtyShade'+'rFunc']||(()=>!(-0x1*0x1afa+-0xd66+-0x20*-0x143)),_0x1c4ad0=function(_0x13ae5f){const _0x3d8084=this[_0x1912cc];_0x3d8084!==_0x13ae5f&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x1ce66f(_0x3d8084,_0x13ae5f),this[_0x1912cc]=_0x13ae5f);};um(_0x20d439['name'],()=>_0x20d439['defaultVal'+'ue'],_0x1c4ad0,_0x20d439['getterFunc']);},yb=_0x434877=>{const _0x39c677='_'+_0x434877['name'],_0x2c2990=_0x434877['dirtyShade'+'rFunc']||(()=>!(0x2451+0x65+0x1*-0x24b6)),_0x505750=function(_0x29b160){const _0x21e00a=this[_0x39c677];_0x21e00a['equals'](_0x29b160)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x2c2990(_0x21e00a,_0x29b160),this[_0x39c677]=_0x21e00a['copy'](_0x29b160));};um(_0x434877['name'],()=>_0x434877['defaultVal'+'ue']['clone'](),_0x505750,_0x434877['getterFunc']);},Es=_0xa7236c=>_0xa7236c['defaultVal'+'ue']&&_0xa7236c['defaultVal'+'ue']['clone']?yb(_0xa7236c):Sb(_0xa7236c);function et(_0x45c41f,_0xd3a1a9='rgb',_0x19ea95=!(0xaf3*-0x3+0x1a*0x89+0x1*0x12ef),_0x2d3570=0x70*0x2b+-0xed*0x15+0xa1){bn[_0x45c41f]=_0xd3a1a9['length']||-(-0x6*0x575+-0x1*0x18df+-0x399e*-0x1),Es({'name':_0x45c41f+'Map','defaultValue':null,'dirtyShaderFunc':(_0x48e48c,_0x4934fd)=>!!_0x48e48c!=!!_0x4934fd||_0x48e48c&&(_0x48e48c['type']!==_0x4934fd['type']||_0x48e48c['format']!==_0x4934fd['format'])}),Es({'name':_0x45c41f+'MapTiling','defaultValue':new J(0x2669+-0x15d4+0x425*-0x4,0x1a05*-0x1+-0xce*0xb+-0x9*-0x3e0)}),Es({'name':_0x45c41f+'MapOffset','defaultValue':new J(-0x1227+-0x30d*0x6+0x2475,0x1a1b+-0x1a35*0x1+0x1a)}),Es({'name':_0x45c41f+('MapRotatio'+'n'),'defaultValue':0x0}),Es({'name':_0x45c41f+'MapUv','defaultValue':_0x2d3570}),_0xd3a1a9&&(Es({'name':_0x45c41f+'MapChannel','defaultValue':_0xd3a1a9}),_0x19ea95&&(Es({'name':_0x45c41f+('VertexColo'+'r'),'defaultValue':!(0x2*0x110+0x1458+0x9*-0x27f)}),Es({'name':_0x45c41f+('VertexColo'+'rChannel'),'defaultValue':_0xd3a1a9})));const _0x4982c7=_0x45c41f+'MapTiling',_0x5eaff8=_0x45c41f+'MapOffset',_0x422ca1=_0x45c41f+('MapRotatio'+'n'),_0xee371b=_0x45c41f+('MapTransfo'+'rm');Pd(_0xee371b,(_0xa33c5c,_0xdd95f5,_0x25f677)=>{const _0x5ec008=_0xa33c5c[_0x4982c7],_0x27e833=_0xa33c5c[_0x5eaff8],_0x38ac65=_0xa33c5c[_0x422ca1];if(_0x5ec008['x']===-0xfef+-0xd84+0x1d74*0x1&&_0x5ec008['y']===-0x12*-0x1d+-0x220+0x17&&_0x27e833['x']===0x4*-0x7f7+-0xd79+-0x37*-0xd3&&_0x27e833['y']===0x25*0x79+-0xb23+-0x65a&&_0x38ac65===0x142*-0x4+0xb50*0x1+0xc9*-0x8)return null;const _0x2980bb=_0xa33c5c['_allocUnif'+'orm'](_0xee371b,()=>[{'name':'texture_'+_0xee371b+'0','value':new Float32Array(-0x1e4d+0xaba+0x1396)},{'name':'texture_'+_0xee371b+'1','value':new Float32Array(0x1*-0x579+-0x663+-0xbdf*-0x1)}]),_0x2cf39d=Math['cos'](_0x38ac65*Y['DEG_TO_RAD']),_0x2ed9f3=Math['sin'](_0x38ac65*Y['DEG_TO_RAD']),_0x3a7bf0=_0x2980bb[-0x6*0x2f2+-0xf08+0x20b4]['value'];_0x3a7bf0[-0x1630+0xb83+0xaad]=_0x2cf39d*_0x5ec008['x'],_0x3a7bf0[0x107c+-0x1*-0x1f88+-0x3003]=-_0x2ed9f3*_0x5ec008['y'],_0x3a7bf0[-0x1e77+0x1d*-0x3d+-0x6e*-0x57]=_0x27e833['x'];const _0x2a8345=_0x2980bb[-0x17*-0x1b+0x2b*-0x99+-0x1*-0x1747]['value'];return _0x2a8345[0x7a6+0x62d+0x1*-0xdd3]=_0x2ed9f3*_0x5ec008['x'],_0x2a8345[-0x10b+-0xa4+0x24*0xc]=_0x2cf39d*_0x5ec008['y'],_0x2a8345[0x1f5b*-0x1+-0x1a73+-0x2e4*-0x14]=0x1a96+0x6f*-0x13+0x1*-0x1258-_0x5ec008['y']-_0x27e833['y'],_0x2980bb;});}function Ra(_0x589708,_0x1fd82c){Es({'name':_0x589708,'defaultValue':_0x1fd82c,'getterFunc':function(){return this['_dirtyShad'+'er']=!(0xe7*-0x1+-0xc0e*0x3+-0x1*-0x2511),this['_'+_0x589708];}}),Pd(_0x589708,(_0xd5a79c,_0x5ab1eb,_0xa5b6de)=>{const _0x34ab5f=_0xd5a79c['_allocUnif'+'orm'](_0x589708,()=>new Float32Array(0x1cf4+0x243*0x7+-0x2cc6)),_0x1ed24a=_0xd5a79c[_0x589708];return oc['linear'](_0x1ed24a),_0x34ab5f[0xc24+-0x744*0x1+-0x4e0]=oc['r'],_0x34ab5f[0x1f17*0x1+-0x20e3+-0x1cd*-0x1]=oc['g'],_0x34ab5f[0x2543*-0x1+0x372+-0x7*-0x4d5]=oc['b'],_0x34ab5f;});}function ze(_0x24938d,_0x50396c,_0x30aeb7){Es({'name':_0x24938d,'defaultValue':_0x50396c,'dirtyShaderFunc':(_0x2d924d,_0x167a01)=>(_0x2d924d===-0x1ed6+-0x576*-0x6+-0x1ee||_0x2d924d===0x95+0x1*0x2594+-0x2628)!=(_0x167a01===0x31*-0xa9+-0xf9d+0x2ff6*0x1||_0x167a01===-0x62f+0x1deb+-0x1b*0xe1)}),Pd(_0x24938d,_0x30aeb7);}function oo(_0x403fdf,_0x3aad04){Es({'name':_0x403fdf,'defaultValue':null,'dirtyShaderFunc':(_0x39aae2,_0x3f0e84)=>!!_0x39aae2==!!_0x3f0e84}),Pd(_0x403fdf,_0x3aad04);}function ke(_0x91c1f8,_0x46c39f){Es({'name':_0x91c1f8,'defaultValue':_0x46c39f});}function vb(){Ra('ambient',new ie(-0x12e0+-0x1a0b*-0x1+-0x72a,-0x1*-0x7ae+0x160*0x1+-0x90d*0x1,0x15*0x1d+0x170f+0x196f*-0x1)),Ra('diffuse',new ie(-0x1*-0x1f2a+0x165c+0x3585*-0x1,0x9*0x140+-0x1274+-0x1*-0x735,-0x151d+0xe*-0xcd+-0x102a*-0x2)),Ra('specular',new ie(-0xf2b+0x1*-0x778+0x1*0x16a3,-0x2*-0xe05+-0x4e4+-0x1726,-0x55e+-0x2*-0x6fb+-0x898)),Ra('emissive',new ie(-0xb5d+0x8e*-0x40+0x2edd,-0xb*0x287+-0x28d*0x4+0x2601,0xa*0x9d+0x3*0x30c+-0xf46)),Ra('sheen',new ie(-0x2*-0x417+0x438*-0x4+-0x83*-0x11,-0xc6b+0x3a*-0x8d+0x2c5e,0xc82*-0x3+-0x7a*-0x33+0xd39)),Ra('attenuatio'+'n',new ie(-0x49*0x1f+0x586+0x352,0x4*-0x48+0x1885+0x1*-0x1764,-0x24cd+0x1e66+0xcd*0x8)),ze('emissiveIn'+'tensity',-0xf7*-0xa+0x1328+-0x1ccd),ze('specularit'+'yFactor',0x2b*-0xb5+-0x6b*0xd+0x23d7),ze('sheenGloss',-0x2f*-0x11+-0x24ff+0x21e0),ze('gloss',0x265*-0x10+0x1365+-0x1d*-0xa7+0.25),ze('aoIntensit'+'y',0x29*0xa6+-0x1c41+-0x1*-0x1ac),ze('heightMapF'+'actor',0x1*0x829+0x31*0xbf+-0x2cb7,(_0x4c5112,_0x12b3d4,_0x5bf23f)=>_0x4c5112['heightMapF'+'actor']*(-0xf*-0x7+-0x39f*-0x1+-0x408+0.025)),ze('opacity',0x9*0x8e+0x134c+0x1849*-0x1),ze('alphaFade',0x2138*0x1+-0x2132+-0x5*0x1),ze('alphaTest',-0x1*0x147e+0x1216+0x268),ze('bumpiness',-0x15*0x17e+-0x59*-0x29+-0xf3*-0x12),ze('normalDeta'+'ilMapBumpi'+'ness',-0x2*0x14e+0x1*0xdf8+0x99*-0x13),ze('reflectivi'+'ty',0x1166+0x92*0x17+-0x1*0x1e83),ze('occludeSpe'+'cularInten'+'sity',-0x1f68+0xec*-0xb+0x298d*0x1),ze('refraction',0x1e0e+0x131c+-0x312a),ze('refraction'+'Index',(-0x87c+-0x14b7+0x1d34)/(-0x8*-0x2ee+0x268f+-0x3dfe+0.5)),ze('dispersion',0x287+0xa04+-0xc8b),ze('thickness',-0x1aa3+0x6*0x22b+0x3*0x48b),ze('attenuatio'+'nDistance',0x23e0+-0x4ef*0x4+0x1024*-0x1),ze('metalness',-0x189f+-0x2f*-0x63+0xd*0x7f),ze('anisotropy'+'Intensity',-0xb5a+-0x17da*-0x1+-0x640*0x2),ze('anisotropy'+'Rotation',0x21c4+0x94f+-0x1*0x2b13),ze('clearCoat',0x8ab*-0x1+0x144f+-0xba4),ze('clearCoatG'+'loss',0x12*-0x1ca+0x1f6+0x1e3f),ze('clearCoatB'+'umpiness',-0x1*-0xb87+-0x1a9d+-0x1*-0xf17),ze('aoUvSet',0x1*0x180b+-0xe0*-0x1a+-0x63*0x79,null),ze('iridescenc'+'e',0x686+0x50e*0x1+-0xb94),ze('iridescenc'+'eRefractio'+'nIndex',(0x1ed8+-0x217d+0x153*0x2)/(0x23c8+0x15*-0x105+0x265*-0x6+0.5)),ze('iridescenc'+'eThickness'+'Min',0x1d72*0x1+0x893+0x2605*-0x1),ze('iridescenc'+'eThickness'+'Max',-0x1*0x71d+-0xbc5*0x3+0x2a6c),oo('ambientSH'),oo('cubeMapPro'+'jectionBox',(_0x322b42,_0x32ef9b,_0x436b2d)=>{const _0x2c8bdb=_0x322b42['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x45f*0x1+0x1*0x12c5+-0x1721)},{'name':'envBoxMax','value':new Float32Array(0x194c+-0x1*0x256b+0xc22)}]),_0x3611c3=_0x322b42['cubeMapPro'+'jectionBox']['getMin'](),_0x5ce628=_0x2c8bdb[-0x79b+0x2690+-0x1ef5]['value'];_0x5ce628[-0x1d30+-0x3*0x10b+-0x2051*-0x1]=_0x3611c3['x'],_0x5ce628[-0x1ac9+-0x1e4+0x1cae]=_0x3611c3['y'],_0x5ce628[-0x19f8+0x4bb+-0x25*-0x93]=_0x3611c3['z'];const _0x4ee4f8=_0x322b42['cubeMapPro'+'jectionBox']['getMax'](),_0x3fc270=_0x2c8bdb[-0x1c54+0x2538+-0x41*0x23]['value'];return _0x3fc270[-0x114a*-0x1+0x1bc1+-0x2d0b]=_0x4ee4f8['x'],_0x3fc270[-0x1d96+0x160c*-0x1+0x33a3]=_0x4ee4f8['y'],_0x3fc270[-0x1e5b*0x1+0x213d*0x1+0x2e0*-0x1]=_0x4ee4f8['z'],_0x2c8bdb;}),ke('specularTi'+'nt',!(0x1401*-0x1+0x16*-0x1b7+0xb8c*0x5)),ke('specularit'+'yFactorTin'+'t',!(-0x2*0x383+-0xc31*0x1+0x1338)),ke('useMetalne'+'ss',!(0x2c8*0x1+0x257e+-0x2845)),ke('useMetalne'+'ssSpecular'+'Color',!(-0x25ad+0x29*-0xd3+0x3*0x17d3)),ke('useSheen',!(0x1f17+0x2512+-0x4428)),ke('enableGGXS'+'pecular',!(-0xca8+0x1ea9+-0x6*0x300)),ke('occludeDir'+'ect',!(0x1*-0x16e2+0xd8e+0x955)),ke('opacityFad'+'esSpecular',!(0x10dc+0x15*0x18a+-0x312e)),ke('occludeSpe'+'cular',bd),ke('fresnelMod'+'el',Yp),ke('useDynamic'+'Refraction',!(0xb*-0x37+0x14f9+-0x1*0x129b)),ke('cubeMapPro'+'jection',tm),ke('useFog',!(0x1*0x223f+0x1*-0x1f03+-0x2*0x19e)),ke('useLightin'+'g',!(-0xa7f*0x3+-0x1*0x8cd+0x1b*0x17e)),ke('useTonemap',!(-0x1*-0x266b+-0x1*-0x321+-0x298c)),ke('useSkybox',!(0x363+0xd*-0x115+-0x1*-0xaae)),ke('forceUv1',!(-0x1356+0x1*0xe48+0xb9*0x7)),ke('pixelSnap',!(-0x31*-0x47+0xe6e*0x2+-0x2a72)),ke('twoSidedLi'+'ghting',!(-0x4a4+0x500*0x2+-0x1*0x55b)),ke('nineSliced'+'Mode',void(0x2365+-0x35*-0x49+-0x3282)),ke('msdfTextAt'+'tribute',!(-0x1*0x8ad+-0x1334*-0x1+-0xa86)),ke('useIridesc'+'ence',!(-0x1*0x1c14+0x22e0+-0x6cb)),ke('glossInver'+'t',!(0xca3*0x2+0xac*0x31+0x3a31*-0x1)),ke('sheenGloss'+'Invert',!(-0xc51+-0x5*-0x397+-0x5a1)),ke('clearCoatG'+'lossInvert',!(-0x1*0x1cf3+-0x2*0x7ed+0x2cce)),ke('opacityDit'+'her',Sa),ke('opacitySha'+'dowDither',Sa),ke('shadowCatc'+'her',!(-0x1866+0x8b7+0xfb0)),et('diffuse'),et('specular'),et('emissive'),et('thickness','g'),et('specularit'+'yFactor','g'),et('normal',''),et('metalness','g'),et('gloss','g'),et('opacity','a'),et('refraction','g'),et('height','g',!(0x261*-0x10+-0x1*-0x1187+-0xb*-0x1de)),et('ao','g'),et('light','rgb',!(0xc8e+0x17c4+-0x2*0x1229),-0x1*0xf0e+-0xb*0x283+0x2ab0),et('msdf',''),et('diffuseDet'+'ail','rgb',!(-0x1*0x22d2+-0x1b4e*-0x1+-0x4d*-0x19)),et('normalDeta'+'il',''),et('aoDetail','g',!(0x1f28+-0x1bd*0xe+-0x6d1)),et('clearCoat','g'),et('clearCoatG'+'loss','g'),et('clearCoatN'+'ormal',''),et('sheen','rgb'),et('sheenGloss','g'),et('iridescenc'+'e','g'),et('iridescenc'+'eThickness','g'),et('anisotropy',''),ke('diffuseDet'+'ailMode',p_),ke('aoDetailMo'+'de',p_),oo('cubeMap'),oo('sphereMap'),oo('envAtlas');const _0x123c3b=function(){return this['_prefilter'+'edCubemaps'];},_0x57b27f=function(_0x47a881){const _0x624015=this['_prefilter'+'edCubemaps'];_0x47a881=_0x47a881||[];let _0x100262=!(-0x64b*-0x4+-0x55a+0x39*-0x59),_0x23f317=!(-0x21bc+0x6*-0x2e+0x22d0);for(let _0x58a743=-0x80b+0x1*-0x1c95+-0x494*-0x8;_0x58a743<-0x423*0x1+-0x5d4+0x9fd;++_0x58a743){const _0x5905d2=_0x47a881[_0x58a743]||null;_0x624015[_0x58a743]!==_0x5905d2&&(_0x624015[_0x58a743]=_0x5905d2,_0x100262=!(0x1c12+0x1*0x15a5+-0x31b7)),_0x23f317=_0x23f317&&!!_0x624015[_0x58a743];}_0x100262&&(_0x23f317?this['envAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x624015,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0xbc+0xada+-0xb96));},_0x13cd9a=[null,null,null,null,null,null];um('prefiltere'+'dCubemaps',()=>_0x13cd9a['slice'](),_0x57b27f,_0x123c3b);}vb();const Rt=class Rt{static['render'](_0x194a0f,_0x1c504e){const _0x44e462=_0x1c504e['device'],_0x18cf86=_0x194a0f['cells'],_0x106ad6=_0x194a0f['lightsBuff'+'er'],_0x2a1955=_0x106ad6['boundsMin'],_0x4b245a=_0x106ad6['boundsDelt'+'a'],_0x29290d=_0x2a1955['clone']()['add'](_0x4b245a),_0x19e5b4=_0x106ad6['boundsDelt'+'a']['clone']()['div'](_0x18cf86),_0x239d0a=Rt['gridPositi'+'ons'],_0x3a65f7=Rt['gridColors'],_0x25a41a=new ie(-0x4be+-0x256c*-0x1+-0x20ae+0.3,0x20d0+-0x1012+-0x1*0x10be+0.3,0x149d*-0x1+-0x192b+0x2dc8+0.3),_0x1b5ecc=(_0x2f56f8,_0x1c8823,_0x3b05a2,_0x3c39d4,_0x57e216,_0x593ce3,_0x272cce,_0x93c110,_0x5591b2)=>{for(let _0x3486fe=-0x5c6*-0x5+-0x1*0x332+-0x2*0xcd6;_0x3486fe<=_0x2f56f8;_0x3486fe++)for(let _0xc0d5c2=0x101*-0x26+-0x25cc+-0x1*-0x4bf2;_0xc0d5c2<=_0x1c8823;_0xc0d5c2++){const _0x52b2fd=_0x3b05a2+_0x3486fe*_0x3c39d4,_0x57ed9f=_0x57e216+_0xc0d5c2*_0x593ce3;_0x5591b2===0x1dab+-0x3*0x31b+0x5*-0x412?_0x239d0a['push'](_0x52b2fd,_0x272cce,_0x57ed9f,_0x52b2fd,_0x93c110,_0x57ed9f):_0x5591b2===-0xff+-0x1ee2+-0x247*-0xe?_0x239d0a['push'](_0x52b2fd,_0x57ed9f,_0x272cce,_0x52b2fd,_0x57ed9f,_0x93c110):_0x5591b2===0x1eb8+0xf11+-0x2dc7&&_0x239d0a['push'](_0x272cce,_0x52b2fd,_0x57ed9f,_0x93c110,_0x52b2fd,_0x57ed9f);}};if(_0x1b5ecc(_0x18cf86['x'],_0x18cf86['z'],_0x2a1955['x'],_0x19e5b4['x'],_0x2a1955['z'],_0x19e5b4['z'],_0x2a1955['y'],_0x29290d['y'],0x23*-0x112+-0x124b*-0x1+0x132b),_0x1b5ecc(_0x18cf86['x'],_0x18cf86['y'],_0x2a1955['x'],_0x19e5b4['x'],_0x2a1955['y'],_0x19e5b4['y'],_0x2a1955['z'],_0x29290d['z'],-0x11c6+0x431*-0x4+0x228b),_0x1b5ecc(_0x18cf86['y'],_0x18cf86['z'],_0x2a1955['y'],_0x19e5b4['y'],_0x2a1955['z'],_0x19e5b4['z'],_0x2a1955['x'],_0x29290d['x'],0x1f*-0xf9+-0x1e7*-0x7+0x10d8),_0x239d0a['length']){const _0x25e3bf=_0x239d0a['length']/(0x1*0x1be7+-0x13*-0x137+0x1*-0x32f9);if(_0x25e3bf!==_0x3a65f7['length']/(-0xba*0x2+-0x2156+0x3*0xb9a)){_0x3a65f7['length']=-0x1*-0x23f1+-0x1251+-0x11a0;for(let _0x4fe789=0x4b2*-0x3+0xc22+-0x2*-0xfa;_0x4fe789<_0x25e3bf;_0x4fe789++)_0x3a65f7['push'](_0x25a41a['r'],_0x25a41a['g'],_0x25a41a['b'],_0x25a41a['a']);}_0x1c504e['drawLineAr'+'rays'](_0x239d0a,_0x3a65f7),_0x239d0a['length']=-0x1944+-0x80e+0x2152;}let _0x12c353=Rt['mesh'];_0x12c353||(_0x12c353=new Ge(_0x44e462),_0x12c353['clear'](!(0x1dc2+0x7c0+0x1*-0x2582),!(-0x1*0x1945+-0xfea+0x292f)),Rt['mesh']=_0x12c353);const _0x8c562a=[],_0x3d08e7=[],_0x109839=[],_0x416c44=_0x194a0f['_cells']['x'],_0x38c560=_0x194a0f['_cells']['z'],_0x38cee6=_0x194a0f['counts'],_0x439dff=_0x194a0f['_maxCellLi'+'ghtCount'],_0xe831d2=new D(),_0x3cf756=new D(),_0x2f4efb=new D(),_0x522265=_0x4b245a['clone']()['div'](_0x18cf86);let _0x5da53b=-0xa73*-0x2+-0x1880+-0x39a*-0x1;for(let _0x41d321=-0xc8c+0x3f*-0x56+0x21b6;_0x41d321<_0x18cf86['x'];_0x41d321++)for(let _0x2b99d8=0x9*-0x2d1+-0x143f+0x2d98*0x1;_0x2b99d8<_0x18cf86['z'];_0x2b99d8++)for(let _0x1d1dc5=-0xd3f*-0x1+0x1de4+-0x2b23;_0x1d1dc5<_0x18cf86['y'];_0x1d1dc5++){const _0x525a0f=_0x41d321+_0x416c44*(_0x2b99d8+_0x1d1dc5*_0x38c560),_0x311b27=_0x38cee6[_0x525a0f];if(_0x311b27>-0x1039+-0x10af*-0x2+-0x1125){_0xe831d2['x']=_0x2a1955['x']+_0x522265['x']*_0x41d321,_0xe831d2['y']=_0x2a1955['y']+_0x522265['y']*_0x1d1dc5,_0xe831d2['z']=_0x2a1955['z']+_0x522265['z']*_0x2b99d8,_0x3cf756['add2'](_0xe831d2,_0x522265),_0x8c562a['push'](_0xe831d2['x'],_0xe831d2['y'],_0x3cf756['z']),_0x8c562a['push'](_0x3cf756['x'],_0xe831d2['y'],_0x3cf756['z']),_0x8c562a['push'](_0x3cf756['x'],_0x3cf756['y'],_0x3cf756['z']),_0x8c562a['push'](_0xe831d2['x'],_0x3cf756['y'],_0x3cf756['z']),_0x8c562a['push'](_0x3cf756['x'],_0xe831d2['y'],_0xe831d2['z']),_0x8c562a['push'](_0xe831d2['x'],_0xe831d2['y'],_0xe831d2['z']),_0x8c562a['push'](_0xe831d2['x'],_0x3cf756['y'],_0xe831d2['z']),_0x8c562a['push'](_0x3cf756['x'],_0x3cf756['y'],_0xe831d2['z']),_0x2f4efb['lerp'](Rt['colorLow'],Rt['colorHigh'],_0x311b27/_0x439dff)['round']();for(let _0x5e25eb=0x1*0xf5b+-0x238a+0x142f*0x1;_0x5e25eb<-0x6b9*0x1+-0x237d+0x2*0x151f;_0x5e25eb++)_0x3d08e7['push'](_0x2f4efb['x'],_0x2f4efb['y'],_0x2f4efb['z'],-0x2*0xcae+-0x87d+0x26b*0xe);_0x109839['push'](_0x5da53b*(0x9e1+0x18fb+-0x8b5*0x4)+(0x1*0xab1+0xaa2+-0x1553),_0x5da53b*(0x19bb+-0x141d+-0x596)+(-0x23ee+0xe7*-0xe+0x3091),_0x5da53b*(0x1db6*-0x1+0x1589+0x835)+(0x8a1*0x1+0x8c6*0x2+-0x1a2a)),_0x109839['push'](_0x5da53b*(-0x1ca7+-0x1*-0x91d+0x5*0x3ea)+(-0x164*0xb+0x8e1*0x3+-0xb54),_0x5da53b*(0xa3*-0x2+0x225*-0xb+0x18e5)+(-0x39*-0x67+0x1bc2+-0x32b0),_0x5da53b*(-0x259a*-0x1+-0x48b+-0x5*0x69b)+(0x2e8+0x4*0x8aa+-0x258e)),_0x109839['push'](_0x5da53b*(0x21a9*0x1+-0xb02+-0x169f)+(0xdd9*-0x1+-0x1839+0x2616),_0x5da53b*(-0xae*0x2a+0x835+-0x7*-0x2e9)+(-0x6*0x323+0xa34+0x8a3),_0x5da53b*(-0x1402+-0x3c6+0x17d0)+(-0x1*-0x169c+-0x1e37+0x7a2)),_0x109839['push'](_0x5da53b*(-0x172+-0x40f*-0x7+0x3d9*-0x7)+(-0x1b95*0x1+-0x529+0x20c5),_0x5da53b*(-0x2*-0x1ad+0x119*0xc+-0x107e)+(0x1*-0x164c+0x29*0x6+0x30d*0x7),_0x5da53b*(0x1602+0xd47*-0x1+-0x8b3)+(0x1711*-0x1+0xa26+-0xcf1*-0x1)),_0x109839['push'](_0x5da53b*(0x23ca+-0x1*-0x1241+-0x3603)+(0x1ee4+-0x1*-0x1561+-0x3442),_0x5da53b*(-0x1cf4+0x994*0x4+-0x954)+(-0x149*0xe+-0xbce+0x1dce),_0x5da53b*(0x101f*-0x1+0x2555*0x1+-0x152e)+(-0x10e5+-0x91e*0x4+0x3563)),_0x109839['push'](_0x5da53b*(-0x17*-0x73+-0xd*0x17b+0x2*0x479)+(0x1*0x1c6+-0x2619+0x2455),_0x5da53b*(-0xe4f+0x1*0x10f1+-0x29a)+(-0x24d1*0x1+0x1544+0xf94),_0x5da53b*(0x2677+0x99e*0x2+-0x85*0x6f)+(0x1f*0x16+0x39b+-0x63f)),_0x109839['push'](_0x5da53b*(0x1*-0x60a+-0xc70+0x1282)+(-0x19c4+-0x2f*0x9f+0x36f6),_0x5da53b*(-0x52*-0x4f+-0x1c0*-0x1+-0x1b06)+(-0x216f+0xd1+0x209e*0x1),_0x5da53b*(-0x24b6*-0x1+-0x43*0x9+-0x2253)+(-0x33*0x72+-0xd4f*-0x1+0x96b)),_0x109839['push'](_0x5da53b*(0x21bf*-0x1+-0x120f+-0x5*-0xa5e)+(-0x7*0x107+0x26f+0xe*0x57),_0x5da53b*(0x7*0x65+0x97b*0x1+-0xc36)+(-0x1*-0x579+-0x1*-0x2cf+-0x1a7*0x5),_0x5da53b*(0x270b*0x1+0xe2e+-0x3531)+(-0x315+0x3d*-0x7+0x4c4)),_0x109839['push'](_0x5da53b*(0x1d26+-0x2167+0x1*0x449)+(0x51*-0x74+-0x2366*0x1+0x125*0x3f),_0x5da53b*(0x1259+0x148c+-0x26dd)+(-0x1*-0x124c+0x1*0x1ee7+-0x312f),_0x5da53b*(0x18ff+0x18b4+-0x5*0x9ef)+(-0x2*0x4f9+-0x1*-0x967+0x8d)),_0x109839['push'](_0x5da53b*(-0x404+0x1da6+-0x199a)+(-0x286+-0x1f43+0x21cd),_0x5da53b*(-0x248+-0x2*-0x8b5+-0xf1a)+(0x20ac+0x1*-0x7f5+-0x5*0x4f0),_0x5da53b*(-0xd58+0x6*0x676+0x4*-0x659)+(-0x14e3*-0x1+-0x107*-0x4+-0x18fd)),_0x109839['push'](_0x5da53b*(0x764*0x5+-0xcb*0x27+-0x5ff)+(0xfc4+-0xda7+0x1*-0x218),_0x5da53b*(0x503*0x1+-0x38c*0x1+-0x16f)+(-0x1017*0x2+0x128+-0x169*-0x16),_0x5da53b*(0x54*-0x3b+-0x754+0x11d*0x18)+(0x2*-0x1163+0x51f+0x1dad*0x1)),_0x109839['push'](_0x5da53b*(0x135c+0x10f4+-0x2448)+(0x193*0x1+-0x1d8*-0x7+0xb*-0x151),_0x5da53b*(-0x1334+-0x15fe+0x2*0x149d)+(-0x7a2*0x2+-0x23f9+0x3340),_0x5da53b*(0x20cc+0x17f9+-0x38bd)+(0x112f*-0x1+0x31f+0x2*0x70b)),_0x5da53b++;}}if(_0x5da53b){if(_0x12c353['setPositio'+'ns'](_0x8c562a),_0x12c353['setNormals'](new Float32Array(_0x8c562a['length'])),_0x12c353['setColors3'+'2'](_0x3d08e7),_0x12c353['setIndices'](_0x109839),_0x12c353['update'](js,!(-0x1f37*0x1+0xa1*-0x31+-0x3e09*-0x1)),!Rt['meshInstan'+'ce']){const _0x4fc7d9=new Ut();_0x4fc7d9['useLightin'+'g']=!(0x1ca6+0x1*0x469+-0x210e),_0x4fc7d9['emissive']=new ie(-0x9*-0xd1+-0x1*0x2147+0x3*0x8a5,-0x2468+0x2a2*0x6+0x149d,-0x92c+-0xfdd+0x190a*0x1),_0x4fc7d9['emissiveVe'+'rtexColor']=!(0x9b2+-0x19f5+0x1043),_0x4fc7d9['blendType']=Ed,_0x4fc7d9['depthWrite']=!(0x3fc+-0x2f*-0x43+-0x1048),_0x4fc7d9['update']();const _0x5207e0=new Ie('WorldClust'+'ersDebug');_0x5207e0['worldTrans'+'form']=te['IDENTITY'],_0x5207e0['_dirtyWorl'+'d']=_0x5207e0['_dirtyNorm'+'al']=!(0x1823*-0x1+-0x267e+0x3ea2),Rt['meshInstan'+'ce']=new He(_0x12c353,_0x4fc7d9,_0x5207e0),Rt['meshInstan'+'ce']['cull']=!(-0x9*0x2b6+0x27*-0xbb+0x34e4);}const _0x51e1cf=Rt['meshInstan'+'ce'];_0x1c504e['immediate']['drawMesh'](_0x51e1cf['material'],_0x51e1cf['node']['worldTrans'+'form'],null,_0x51e1cf,_0x1c504e['defaultDra'+'wLayer']);}}};h(Rt,'gridPositi'+'ons',[]),h(Rt,'gridColors',[]),h(Rt,'mesh',null),h(Rt,'meshInstan'+'ce',null),h(Rt,'colorLow',new D(0xc61*0x3+0x4*-0x876+0x2*-0x1a5,0x2625+-0x2*-0x4cc+-0x2fbc,-0x1*0x2523+0x227d*0x1+0x2a7)),h(Rt,'colorHigh',new D(0x1f3f+0x83*-0x11+-0x1664,0x1ca*-0xa+0x1*0x1073+-0x1*-0x171,0x5de*-0x4+-0x1*0x85f+0x1fd7));let hu=Rt;const xb='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let Vi=null;const Av=()=>{if(!Vi){const _0x4caed0=atob(xb);Vi=Uint8Array['from'](_0x4caed0,_0xbdb061=>_0xbdb061['charCodeAt'](-0x1*-0x1e85+-0x3*-0xc9a+-0x4453));}},Tb=()=>(Av(),Vi);class wb{constructor(_0x2f9f77=0x806+-0x3f3*-0x1+-0x1*0xbf9){h(this,'seed',-0x9*-0x71+-0x11*0xef+0x5f3*0x2),(this['seed']=_0x2f9f77*(-0x63e*0x5+-0x1018+0x2f52),Av());}['_next'](){this['seed']=(this['seed']+(0x1003+0x1*-0x1acf+-0x1*-0xad0))%Vi['length'];}['value'](){return this['_next'](),Vi[this['seed']]/(0x1f96+-0x2b8+-0x1bdf);}['vec4'](_0x4031a9=new re()){return this['_next'](),_0x4031a9['set'](Vi[this['seed']],Vi[this['seed']+(-0x193f+0xb*0x169+0x9bd)],Vi[this['seed']+(-0x88b*0x2+-0x106*-0x13+-0x2b*0xe)],Vi[this['seed']+(0xaab+0x2bd+-0x3*0x477)])['mulScalar']((-0x1849*0x1+-0x15a3*0x1+-0x3*-0xf4f)/(-0x22ae+0x1*0x91c+0x1a91*0x1));}}const Eb=[new D(-(-0x164e+0x143c*0x1+0x213*0x1),-0x209*-0x4+0x22bd+0x1*-0x2ae1,0xe91+-0x1433+-0x2*-0x2d1),new D(-0x11c8*0x1+0x1*-0x5bd+0xbc3*0x2,0x3*0xa65+-0x1bb5+-0x37a,0x1ebe+-0x67d+-0x1841),new D(-0x5fd+-0x1bd*-0x16+-0x2041,-(-0x1b04+0x2*0x877+0xa17),-0x1113+-0xf85+0x2098),new D(-0x7*0x318+0x1*-0x2376+0x391e,-0x4f*0x7a+-0x47+-0x796*-0x5,0x231d*-0x1+0x6f5*-0x3+0x4*0xdff),new D(0x437+0x11*-0x5+0x1f1*-0x2,-0xba7+-0x1f73+0x12*0x265,-(0x2*0x9f4+-0x1e8a+0xaa3)),new D(-0x2*-0x9a5+0xa84+-0x1dce,-0x57d+-0x1f98+0x2515,0x2*0x7df+-0x111*-0x1+0x3*-0x59a)];class bb{constructor(){h(this,'colors',new Float32Array(-0x243a+0x1*-0x1b1+0x1*0x25fd));}['update'](_0x400f3e,_0x5b056f){const _0x4f06da=this['colors'],{r:_0x5de104,g:_0x25d6a3,b:_0xc0cc05}=_0x400f3e;for(let _0x36ed62=0x1*0x115+0x59*0x3c+-0x29*0x89;_0x36ed62<-0x2a0+-0x7*-0x232+-0xcb8;_0x36ed62++)_0x4f06da[_0x36ed62*(-0x57a+0x1d21*-0x1+0x15*0x1a6)]=_0x5de104,_0x4f06da[_0x36ed62*(0x2*0x5db+0x489+0x40f*-0x4)+(0x957+-0x20ad+0x1757)]=_0x25d6a3,_0x4f06da[_0x36ed62*(-0x1*-0x78a+0x2657+0x135*-0x26)+(-0x17cf*-0x1+0x10d7+-0x28a4)]=_0xc0cc05;for(let _0x27ba4b=0x17fb+-0x1*0x26cf+0x124*0xd;_0x27ba4b<_0x5b056f['length'];_0x27ba4b++){const _0x28e67e=_0x5b056f[_0x27ba4b];if(_0x28e67e['_type']===ve)for(let _0x2184bd=-0x641*-0x3+-0xf75+-0x34e;_0x2184bd<-0x21b4+0x1*-0x2516+0x46d0;_0x2184bd++){const _0x1490ee=Math['max'](Eb[_0x2184bd]['dot'](_0x28e67e['_direction']),0x10*-0xc5+0x12cd+-0x67d)*_0x28e67e['_intensity'],_0x224211=_0x28e67e['_color'];_0x4f06da[_0x2184bd*(-0x2*0xdeb+-0x1d0f+0x38e8)]+=_0x224211['r']*_0x1490ee,_0x4f06da[_0x2184bd*(0xf*-0x1e5+0xfae+-0xc0*-0x11)+(0x53*-0x18+-0x20b7+-0x30*-0xd8)]+=_0x224211['g']*_0x1490ee,_0x4f06da[_0x2184bd*(-0x282+0x1*-0x1cc9+0x1f4e)+(0x1f1a+0x997+-0x28af)]+=_0x224211['b']*_0x1490ee;}}}}const Ab=(_0x25d32b,_0x826fc3,_0x33ec7a,_0x167b9e)=>{const _0x2d0734=new _e(_0x25d32b,{'name':''+_0x826fc3+_0x33ec7a,'width':_0x33ec7a,'height':_0x33ec7a,'format':Ne,'addressU':yt,'addressV':yt,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(-0xd*-0x223+-0x59*-0x3a+-0x2ff0)});return _0x2d0734['lock']()['set'](_0x167b9e),_0x2d0734['unlock'](),_0x2d0734;},Cb=new Kt(),Pb=_0x309010=>Cb['get'](_0x309010,()=>{const _0x420cd5=Tb(),_0x30498d=Math['sqrt'](_0x420cd5['length']/(0x1f64+0x1b*0x95+0x5*-0x96b));return Ab(_0x309010,'BlueNoise',_0x30498d,_0x420cd5);});class va{constructor(_0xa2017d,_0x1094e9){this['texture']=_0xa2017d,this['cached']=!(-0x1*-0x2419+-0xf*-0x209+-0x429f),this['renderTarg'+'ets']=_0x1094e9;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x1dddf0=this['renderTarg'+'ets'];for(let _0x2c9e7b=0xc2d+-0x1f*0x132+-0xb*-0x243;_0x2c9e7b<_0x1dddf0['length'];_0x2c9e7b++)_0x1dddf0[_0x2c9e7b]['destroy']();this['renderTarg'+'ets']['length']=-0x153d*0x1+0x9b9+-0x43*-0x2c;}static['create'](_0x415f61,_0x4a94ae){let _0x318b00=null;return _0x4a94ae['_type']===Ke?_0x318b00=this['createCube'+'map'](_0x415f61,_0x4a94ae['_shadowRes'+'olution'],_0x4a94ae['_shadowTyp'+'e']):_0x318b00=this['create2dMa'+'p'](_0x415f61,_0x4a94ae['_shadowRes'+'olution'],_0x4a94ae['_shadowTyp'+'e']),_0x318b00;}static['createAtla'+'s'](_0x1b1da5,_0xf03f7f,_0x5aabe7){const _0x53fc95=this['create2dMa'+'p'](_0x1b1da5,_0xf03f7f,_0x5aabe7),_0x5631c7=_0x53fc95['renderTarg'+'ets'],_0x2370b5=_0x5631c7[-0x1ef0+0x9*-0x4f+0x21b7];for(let _0x19bf9f=0x62a+-0xf9*-0x24+-0x292e;_0x19bf9f<0x11c1+0x247f*-0x1+-0x641*-0x3;_0x19bf9f++)_0x5631c7['push'](_0x2370b5);return _0x53fc95;}static['create2dMa'+'p'](_0x574410,_0x43a2b9,_0x3f7489){var _0x25b3be;const _0x2faea0=qi['get'](_0x3f7489);w['assert'](_0x2faea0);let _0x4b9b46=_0x2faea0['format'];_0x4b9b46===Ji&&!_0x574410['textureFlo'+'atRenderab'+'le']&&_0x574410['textureHal'+'fFloatRend'+'erable']&&(_0x4b9b46=od);const _0x4f5315=(_0x25b3be=Nt['get'](_0x4b9b46))==null?void(0x1cf3*-0x1+0x1f25+-0x1*0x232):_0x25b3be['name'];let _0x193aaa=vt;_0x3f7489===Jp&&(_0x193aaa=_0x574410['extTexture'+'FloatLinea'+'r']?vt:Te),_0x3f7489===al&&(_0x193aaa=Te);const _0x1588ac=new _e(_0x574410,{'profilerHint':eu,'format':_0x4b9b46,'width':_0x43a2b9,'height':_0x43a2b9,'mipmaps':!(-0x3*0xb33+-0x1*0xd3b+0x1*0x2ed5),'minFilter':_0x193aaa,'magFilter':_0x193aaa,'addressU':ue,'addressV':ue,'name':'ShadowMap2'+'D_'+_0x4f5315});let _0x1ae8ec=null;return _0x2faea0!=null&&_0x2faea0['pcf']?(_0x1588ac['compareOnR'+'ead']=!(-0x152+0x2d7*0x7+-0x128f),_0x1588ac['compareFun'+'c']=hh,_0x1ae8ec=new gt({'depthBuffer':_0x1588ac})):_0x1ae8ec=new gt({'colorBuffer':_0x1588ac,'depth':!(0xbd*0x3+-0x11db*-0x2+0x1*-0x25ed)}),_0x574410['isWebGPU']&&(_0x1ae8ec['flipY']=!(-0x161d*0x1+-0x4cd*0x5+0x2e1e)),new va(_0x1588ac,[_0x1ae8ec]);}static['createCube'+'map'](_0x3a11a0,_0x1c505c,_0x22c684){var _0x47d6a7;const _0x1a42ea=qi['get'](_0x22c684);w['assert'](_0x1a42ea);const _0x224899=(_0x47d6a7=Nt['get'](_0x1a42ea['format']))==null?void(0x1*0x1ee3+0x32c+0x220f*-0x1):_0x47d6a7['name'],_0x1e8624=_0x22c684===al,_0x2f72f9=_0x1e8624?Te:vt,_0x245833=new _e(_0x3a11a0,{'profilerHint':eu,'format':_0x1a42ea==null?void(0x800+0x19e5+0x21e5*-0x1):_0x1a42ea['format'],'width':_0x1c505c,'height':_0x1c505c,'cubemap':!(0xef9+0x35e+-0x1257),'mipmaps':!(-0xe5d+-0x21cb+0x1*0x3029),'minFilter':_0x2f72f9,'magFilter':_0x2f72f9,'addressU':ue,'addressV':ue,'name':'ShadowMapC'+'ube_'+_0x224899});_0x1e8624||(_0x245833['compareOnR'+'ead']=!(0x56*0xd+0x4b2*0x4+-0x1726),_0x245833['compareFun'+'c']=hh);const _0x47feeb=[];for(let _0x5bfc46=0x1c79*0x1+0x23*0x4b+-0x26ba;_0x5bfc46<-0x7bd+-0xb6*-0x1e+-0xd91;_0x5bfc46++)_0x1e8624?_0x47feeb['push'](new gt({'colorBuffer':_0x245833,'face':_0x5bfc46,'depth':!(0x396*-0x7+-0x1498+0x2db2)})):_0x47feeb['push'](new gt({'depthBuffer':_0x245833,'face':_0x5bfc46}));return new va(_0x245833,_0x47feeb);}}const Mb=[],Db=[],xi=new re(),ef=new re();class tf{constructor(_0xfe1475){this['size']=Math['floor'](_0xfe1475['w']*(0x21eb+-0x72b+-0x16c0)),this['used']=!(-0xb3*0x15+-0x29*0x77+0x21bf),this['lightId']=-(-0x19d8+0x1a2+0x1837),this['rect']=_0xfe1475;}}class Ib{constructor(_0x48e371){this['device']=_0x48e371,this['version']=-0x1*-0x973+-0x1e6a+0x14f8,this['shadowAtla'+'sResolutio'+'n']=0x1*0x1c91+-0x1*-0x24b+-0x16dc,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=0x10ef+-0xe4d+-0x29f,this['cookieAtla'+'sResolutio'+'n']=0x1*0x19d6+-0x171e*-0x1+-0x61e*0x8,this['cookieAtla'+'s']=new _e(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':_s,'cubemap':!(-0x2*0xe13+-0x11fd+0x2e24),'mipmaps':!(0x3*0x16a+0x1b26*0x1+0x647*-0x5),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue}),this['cookieRend'+'erTarget']=new gt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(-0xca3+0x211d*-0x1+0x2dc1),'flipY':!(0x27*0xcf+-0xbba+-0x13cf)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new J(0xd81*-0x1+-0x1bc+0xf3d,0x25a9+0x22bd*-0x1+-0x2ec),new J(0x12ff*-0x1+-0x1c39+-0x8*-0x5e7,0x3bc*-0x4+-0x1495+0x2386),new J(-0x2707+0x11fe+0x150a,0x238a+0x670+-0x29fa),new J(0x2*-0x11ce+-0x18fa+-0x1*-0x3c97,0x1ad8*-0x1+0x2*0x3ca+-0x1345*-0x1),new J(-0x343+0xe*-0x218+0x2095,0x1778+0x11*-0xfc+-0x1*0x6bc),new J(0xc87+0x5*-0x427+0x83e,0x79f*0x5+-0x1*0x2512+-0x16*0xc)],this['scissorVec']=new re(),this['allocateSh'+'adowAtlas'](0xfd*-0x9+-0x5ae+0xe94),this['allocateCo'+'okieAtlas'](-0xd70+-0xc44+0x19b5),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x144b9c;(_0x144b9c=this['shadowAtla'+'s'])==null||_0x144b9c['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x34d753,_0x1d07b0;(_0x34d753=this['cookieAtla'+'s'])==null||_0x34d753['destroy'](),this['cookieAtla'+'s']=null,(_0x1d07b0=this['cookieRend'+'erTarget'])==null||_0x1d07b0['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0xd0f5a3,_0x579207=$s){var _0x4889bb;const _0x1dc702=(_0x4889bb=this['shadowAtla'+'s'])==null?void(0x8a3+0x1*0x13c6+0x1c69*-0x1):_0x4889bb['texture']['format'],_0x8c7266=qi['get'](_0x579207)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0xd0f5a3||_0x1dc702!==_0x8c7266){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=va['createAtla'+'s'](this['device'],_0xd0f5a3,_0x579207),this['shadowAtla'+'s']['cached']=!(-0x6*0x170+0x170b+-0xe6b*0x1);const _0x1e4ed5=(-0x1*-0xd55+-0xac4+0x28d*-0x1)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x1e4ed5,_0x1e4ed5,-(0x1*-0xf5e+-0x12d6+0x2236)*_0x1e4ed5,-(-0xc29+-0x1ca+0xdf5)*_0x1e4ed5);}}['allocateCo'+'okieAtlas'](_0x5c1705){this['cookieAtla'+'s']['width']!==_0x5c1705&&(this['cookieRend'+'erTarget']['resize'](_0x5c1705,_0x5c1705),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(-0x11d2+0x1*-0x948+-0x14*-0x15b),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x306786=this['shadowAtla'+'s']['renderTarg'+'ets'][0x71*0x13+-0x684+-0x1df]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x306786),this['_shadowAtl'+'asParams'][0x33*0x50+-0x3d*-0x57+0x95*-0x3f]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][0x1790+-0x19fc+-0x26d*-0x1]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0xea1504,_0xd6bffd){let _0x3c7559=_0xd6bffd['atlasSplit'];if(!_0x3c7559){const _0x25b7e3=Math['ceil'](Math['sqrt'](_0xea1504));_0x3c7559=Db,_0x3c7559[0x8d7*0x1+0x853*0x3+-0x21d0]=_0x25b7e3,_0x3c7559['length']=0x19b0+-0x2659+0xcaa;}if(!((_0x364fd6,_0x12cf6c)=>_0x364fd6['length']===_0x12cf6c['length']&&_0x364fd6['every']((_0x5cf473,_0x650830)=>_0x5cf473===_0x12cf6c[_0x650830]))(_0x3c7559,this['atlasSplit'])){this['version']++,this['slots']['length']=0x131+0x25b3+0x9b9*-0x4,this['atlasSplit']['length']=0x1*-0x1f3+-0x150b+0x16fe,this['atlasSplit']['push'](..._0x3c7559);const _0x126fc9=this['atlasSplit'][-0x18f*0xc+0x17dd+-0x529*0x1];if(_0x126fc9>-0xa93*-0x2+0x18b*0x3+-0x19c6){const _0x599d96=(-0x21be+0x1a22+0x79d*0x1)/_0x126fc9;for(let _0x108943=-0x173c+0x3*0x65+0x160d;_0x108943<_0x126fc9;_0x108943++)for(let _0x593230=0x169f+0x1fc9+-0x1*0x3668;_0x593230<_0x126fc9;_0x593230++){const _0x4bf62d=new re(_0x108943*_0x599d96,_0x593230*_0x599d96,_0x599d96,_0x599d96),_0x5302cd=this['atlasSplit'][-0x1d*0x7+0x167c+-0x15b*0x10+_0x108943*_0x126fc9+_0x593230];if(_0x5302cd>0x12e1*0x1+0x157*0x10+0x1428*-0x2){for(let _0x5c1c67=-0x24*0x4e+0x79d+0x35b;_0x5c1c67<_0x5302cd;_0x5c1c67++)for(let _0x327907=-0x3*-0x9ab+0x18f*0xd+-0x18a2*0x2;_0x327907<_0x5302cd;_0x327907++){const _0x54d560=_0x599d96/_0x5302cd,_0x39fa7f=new re(_0x4bf62d['x']+_0x5c1c67*_0x54d560,_0x4bf62d['y']+_0x327907*_0x54d560,_0x54d560,_0x54d560);this['slots']['push'](new tf(_0x39fa7f));}}else this['slots']['push'](new tf(_0x4bf62d));}}else this['slots']['push'](new tf(new re(-0x60d+-0x57d*0x5+0x217e,-0x1a15*-0x1+0x7*0x2f3+-0x2eba,-0x9c8+-0x11e6+0x1baf,0x2ea*-0x1+0x2*-0x319+0x91d)));this['slots']['sort']((_0x3077ad,_0x27741f)=>_0x27741f['size']-_0x3077ad['size']);}}['collectLig'+'hts'](_0x3c3281,_0x5b8b18){const _0x3a3d88=_0x5b8b18['cookiesEna'+'bled'],_0x287618=_0x5b8b18['shadowsEna'+'bled'];let _0x1d241c=!(0x82*-0x12+-0x2*0xbe9+0x1*0x20f7),_0x527f7e=!(-0x1*0x2231+-0x25cc+-0xc2*-0x5f);const _0x1984be=Mb;return _0x1984be['length']=0x1613+0x529*-0x6+0x7*0x145,(_0x3a3d88||_0x287618)&&(_0x5cd5f7=>{for(let _0x2b3127=0x952*-0x2+-0x2a7+0x154b;_0x2b3127<_0x5cd5f7['length'];_0x2b3127++){const _0x38ad18=_0x5cd5f7[_0x2b3127];if(_0x38ad18['visibleThi'+'sFrame']){const _0x321635=_0x287618&&_0x38ad18['castShadow'+'s'],_0x26c7f5=_0x3a3d88&&!!_0x38ad18['cookie'];_0x1d241c||(_0x1d241c=_0x321635),_0x527f7e||(_0x527f7e=_0x26c7f5),(_0x321635||_0x26c7f5)&&_0x1984be['push'](_0x38ad18);}}})(_0x3c3281),_0x1984be['sort']((_0x7dc821,_0x329338)=>_0x329338['maxScreenS'+'ize']-_0x7dc821['maxScreenS'+'ize']),_0x1d241c&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x5b8b18['shadowType']),_0x527f7e&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x1d241c||_0x527f7e)&&this['subdivide'](_0x1984be['length'],_0x5b8b18),_0x1984be;}['setupSlot'](_0x1abdc4,_0x242dfe){_0x1abdc4['atlasViewp'+'ort']['copy'](_0x242dfe);const _0x5769c9=_0x1abdc4['numShadowF'+'aces'];for(let _0x58cc76=0x190*0x1+-0x877+0x6e7;_0x58cc76<_0x5769c9;_0x58cc76++)if(_0x1abdc4['castShadow'+'s']||_0x1abdc4['_cookie']){if(xi['copy'](_0x242dfe),ef['copy'](_0x242dfe),_0x1abdc4['_type']===Ze&&xi['add'](this['scissorVec']),_0x1abdc4['_type']===Ke){const _0xdc4cc9=xi['z']/(0xc61+-0x1c3*0xf+0x3d*0x3b),_0x48a52e=this['cubeSlotsO'+'ffsets'][_0x58cc76];xi['x']+=_0xdc4cc9*_0x48a52e['x'],xi['y']+=_0xdc4cc9*_0x48a52e['y'],xi['z']=_0xdc4cc9,xi['w']=_0xdc4cc9,ef['copy'](xi);}if(_0x1abdc4['castShadow'+'s']){const _0x510b41=_0x1abdc4['getRenderD'+'ata'](null,_0x58cc76);_0x510b41['shadowView'+'port']['copy'](xi),_0x510b41['shadowScis'+'sor']['copy'](ef);}}}['assignSlot'](_0x5ac182,_0x24fff2,_0x323763){_0x5ac182['atlasViewp'+'ortAllocat'+'ed']=!(0x1a9a+0x3*-0x7ff+-0x29d*0x1);const _0x63190f=this['slots'][_0x24fff2];_0x63190f['lightId']=_0x5ac182['id'],_0x63190f['used']=!(0x11b*-0x1+-0x8d*-0x43+0x9e*-0x3a),_0x323763&&(_0x5ac182['atlasSlotU'+'pdated']=!(0x131d+0x1b73*0x1+-0x2e90),_0x5ac182['atlasVersi'+'on']=this['version'],_0x5ac182['atlasSlotI'+'ndex']=_0x24fff2);}['update'](_0x2f7354,_0x761ba3){this['shadowAtla'+'sResolutio'+'n']=_0x761ba3['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x761ba3['cookieAtla'+'sResolutio'+'n'];const _0x571581=this['collectLig'+'hts'](_0x2f7354,_0x761ba3);if(_0x571581['length']>0xdc*-0x18+-0x1ef0+0x3390){const _0x3b8b67=this['slots'];for(let _0xd69ba1=-0x457+-0x16bf+0x2*0xd8b;_0xd69ba1<_0x3b8b67['length'];_0xd69ba1++)_0x3b8b67[_0xd69ba1]['used']=!(0x11d7+0x107d+-0x2253);const _0x3889c4=Math['min'](_0x571581['length'],_0x3b8b67['length']);for(let _0x2be6b8=-0x36*0x79+-0xdc+0x1a62;_0x2be6b8<_0x3889c4;_0x2be6b8++){const _0x3b6fad=_0x571581[_0x2be6b8];_0x3b6fad['castShadow'+'s']&&(_0x3b6fad['_shadowMap']=this['shadowAtla'+'s']);const _0x140861=_0x3b8b67[_0x3b6fad['atlasSlotI'+'ndex']];if(_0x3b6fad['atlasVersi'+'on']===this['version']&&_0x3b6fad['id']===(_0x140861==null?void(-0x1479+0x1b41*0x1+-0x6c8):_0x140861['lightId'])){const _0x25b23d=_0x3b8b67[_0x3b6fad['atlasSlotI'+'ndex']];_0x25b23d['size']===_0x3b8b67[_0x2be6b8]['size']&&!_0x25b23d['used']&&this['assignSlot'](_0x3b6fad,_0x3b6fad['atlasSlotI'+'ndex'],!(-0x3*0x78b+0x2417+-0xd75));}}let _0x4c38b0=0x1385+0x2*0x116f+-0x3663;for(let _0x59eb56=0xb01+0xd*-0x2e+-0x13d*0x7;_0x59eb56<_0x3889c4;_0x59eb56++){for(;_0x4c38b0<_0x3b8b67['length']&&_0x3b8b67[_0x4c38b0]['used'];)_0x4c38b0++;const _0x570bfd=_0x571581[_0x59eb56];_0x570bfd['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x570bfd,_0x4c38b0,!(0xe52*-0x1+-0x2538+0x338a));const _0x46e914=_0x3b8b67[_0x570bfd['atlasSlotI'+'ndex']];this['setupSlot'](_0x570bfd,_0x46e914['rect']);}}this['updateUnif'+'orms']();}}class Lb{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x50f066=>{_0x50f066['forEach'](_0x420c42=>{_0x420c42['destroy']();});}),this['cache']['clear']();}['getKey'](_0x60b45d){const _0x5f3e0c=_0x60b45d['_type']===Ke,_0x37928d=_0x60b45d['_shadowTyp'+'e'],_0x143740=_0x60b45d['_shadowRes'+'olution'];return _0x5f3e0c+'-'+_0x37928d+'-'+_0x143740;}['get'](_0x410591,_0x5cea1b){const _0x9d5219=this['getKey'](_0x5cea1b),_0xcd590f=this['cache']['get'](_0x9d5219);if(_0xcd590f&&_0xcd590f['length'])return _0xcd590f['pop']();const _0x5cc0de=va['create'](_0x410591,_0x5cea1b);return _0x5cc0de['cached']=!(-0xf57+-0x87+0x3*0x54a),_0x5cc0de;}['add'](_0x54e872,_0x45edfa){const _0x250167=this['getKey'](_0x54e872),_0x5b1cb9=this['cache']['get'](_0x250167);_0x5b1cb9?_0x5b1cb9['push'](_0x45edfa):this['cache']['set'](_0x250167,[_0x45edfa]);}}class Rb extends ys{constructor(_0x23b381,_0x111fe2,_0x2f025c,_0x2154ff,_0x206550){super(_0x23b381),Ea['setName'](this,this['name']+'-'+_0x2f025c['_node']['name']),this['requiresCu'+'bemaps']=!(0xcec+-0x5b0+-0x269*0x3),this['shadowRend'+'erer']=_0x111fe2,this['light']=_0x2f025c,this['face']=_0x2154ff,this['applyVsm']=_0x206550,this['shadowCame'+'ra']=_0x111fe2['prepareFac'+'e'](_0x2f025c,null,_0x2154ff),_0x111fe2['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(0x897+0x30c*0x3+0x1*-0x11bb));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(0x16a*-0x1+-0x493*-0x5+-0x55d*0x4));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class Ob{constructor(_0x48e8be,_0x51852b){h(this,'shadowLigh'+'ts',[]),h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x48e8be,this['shadowRend'+'erer']=_0x51852b,this['device']=_0x48e8be['device']);}['cull'](_0x25c717,_0x15d4ef,_0x1257c1=null){const _0x2587f4=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x25c717['visibleThi'+'sFrame']=!(-0x658+-0x1*0xa5d+0x10b5),_0x2587f4||_0x25c717['_shadowMap']||(_0x25c717['_shadowMap']=va['create'](this['device'],_0x25c717));const _0x43fac2=_0x25c717['_type'],_0x4f05bc=_0x43fac2===Ze?-0x19f9*-0x1+-0x6bb+0x5*-0x3d9:0x1*0x77b+0x646+-0xdbb;for(let _0x25e6de=-0x4e8+-0x64+0x71*0xc;_0x25e6de<_0x4f05bc;_0x25e6de++){const _0x68dbe3=_0x25c717['getRenderD'+'ata'](null,_0x25e6de),_0x179aad=_0x68dbe3['shadowCame'+'ra'];_0x179aad['nearClip']=_0x25c717['attenuatio'+'nEnd']/(-0x199*0xf+0x2*-0x27e+-0x1*-0x20db),_0x179aad['farClip']=_0x25c717['attenuatio'+'nEnd'];const _0xfb82c5=_0x179aad['_node'],_0x130a62=_0x25c717['_node'];if(_0xfb82c5['setPositio'+'n'](_0x130a62['getPositio'+'n']()),_0x43fac2===Ze)_0x179aad['fov']=_0x25c717['_outerCone'+'Angle']*(0x9*-0x275+-0x1*0xc5d+-0x227c*-0x1),_0xfb82c5['setRotatio'+'n'](_0x130a62['getRotatio'+'n']()),_0xfb82c5['rotateLoca'+'l'](-(-0x2448+0x1*-0x161b+0x3abd),-0x76d*-0x1+0x4*-0x5a8+-0xf33*-0x1,-0x2393+-0x270c+0x1*0x4a9f);else{if(_0x43fac2===Ke){if(_0x2587f4){const _0x5490cc=(-0xc25*0x2+-0x2701*0x1+0x3f4d)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x25c717['atlasViewp'+'ort']['z']/(-0x2322+-0x186e+0x3b93))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x179aad['fov']=Math['atan'](0x15*-0x161+-0x28d*-0x9+-0x1d*-0x35+_0x5490cc)*Y['RAD_TO_DEG']*(-0x27*0x71+0x62b*-0x3+0x1*0x23ba);}else _0x179aad['fov']=0x26fb+-0x2*0x3ab+-0x1*0x1f4b;}}this['renderer']['updateCame'+'raFrustum'](_0x179aad),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x15d4ef,_0x25c717,_0x68dbe3['visibleCas'+'ters'],_0x179aad,_0x1257c1);}}['prepareLig'+'hts'](_0xf82a67,_0x12f45a){let _0x58238d;for(let _0x242f5c=0x181f+-0x47*0x16+0x1205*-0x1;_0x242f5c<_0x12f45a['length'];_0x242f5c++){const _0x5d565e=_0x12f45a[_0x242f5c];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x5d565e)&&_0x5d565e['atlasViewp'+'ortAllocat'+'ed']){_0xf82a67['push'](_0x5d565e);for(let _0x2a265a=0x270a+-0x1d11+-0x9f9;_0x2a265a<_0x5d565e['numShadowF'+'aces'];_0x2a265a++)_0x58238d=this['shadowRend'+'erer']['prepareFac'+'e'](_0x5d565e,null,_0x2a265a);}}return _0x58238d;}['buildNonCl'+'usteredRen'+'derPasses'](_0x56b426,_0x4a927b){for(let _0xb7d514=0x1527+-0x1*-0x338+0x185f*-0x1;_0xb7d514<_0x4a927b['length'];_0xb7d514++){const _0x49a2d8=_0x4a927b[_0xb7d514];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x49a2d8)){const _0x16f5da=_0x49a2d8['_type']===Ze,_0x1efa0a=_0x49a2d8['numShadowF'+'aces'];for(let _0x10d329=-0x5a9*-0x1+0x29*-0xac+0x15e3;_0x10d329<_0x1efa0a;_0x10d329++){const _0x351a83=new Rb(this['device'],this['shadowRend'+'erer'],_0x49a2d8,_0x10d329,_0x16f5da);_0x56b426['addRenderP'+'ass'](_0x351a83);}}}}}class Fb extends ys{constructor(_0x4580a5,_0x15d0ed,_0x18d6fe,_0x3a2e5a,_0x596e86){super(_0x4580a5),Ea['setName'](this,this['name']+'-'+_0x18d6fe['_node']['name']),this['shadowRend'+'erer']=_0x15d0ed,this['light']=_0x18d6fe,this['camera']=_0x3a2e5a,this['allCascade'+'sRendering']=_0x596e86;}['execute'](){const {light:_0x27329c,camera:_0x555131,shadowRenderer:_0x413598,allCascadesRendering:_0x4cda60}=this,_0x4ffdf1=_0x27329c['numShadowF'+'aces'],_0x27d012=_0x27329c['shadowUpda'+'teOverride'+'s'];for(let _0x247f3f=-0x136+-0x18e7+-0x5*-0x539;_0x247f3f<_0x4ffdf1;_0x247f3f++)(_0x27d012==null?void(0x192*0x3+-0x1*0x40+-0x23b*0x2):_0x27d012[_0x247f3f])!==Ps&&_0x413598['renderFace'](_0x27329c,_0x555131,_0x247f3f,!_0x4cda60),(_0x27d012==null?void(0x283*-0x1+-0x152+0x3d5):_0x27d012[_0x247f3f])===xr&&(_0x27d012[_0x247f3f]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const lc=new De(),Ti=new D(),H_=new te(),Xe=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()],sf={'min':0x0,'max':0x0};function Nb(_0x551692,_0x41b080,_0x12feeb){Xe[0x941*-0x4+0x5*0x74c+0x88]['x']=Xe[0x7f9+0xe73+-0x166b*0x1]['x']=Xe[-0x1bbd+-0xd*-0x242+-0x19b]['x']=Xe[-0xb75+-0xd*-0xd+-0xacf*-0x1]['x']=_0x41b080['x'],Xe[-0x2*-0x1021+-0x91*-0x25+0x3536*-0x1]['y']=Xe[0x10ff*0x1+0xc85*-0x1+-0x477]['y']=Xe[-0x57+0xd71+-0xd13]['y']=Xe[0xb2*-0xc+-0x41b+0x2*0x63c]['y']=_0x41b080['y'],Xe[0x259d*0x1+0x1*0x12da+0x95*-0x61]['z']=Xe[-0x1*0x8b6+-0xd83*0x1+-0x1*-0x163c]['z']=Xe[0x2697+0x15*0x1c9+0x16*-0x375]['z']=Xe[0x800+0xe6e*0x2+-0x24d5]['z']=_0x41b080['z'],Xe[0x168e+-0x192*0x13+0x74c]['x']=Xe[0x97*0x3a+-0x124+-0x210d]['x']=Xe[0x1c54+0xb3*0x2a+-0x4*0xe6b]['x']=Xe[0x3*-0x322+-0x17e1*0x1+0x214e]['x']=_0x12feeb['x'],Xe[0x21b3+-0x1130+-0x1083]['y']=Xe[0x235c+0xae*-0x1d+-0xfa4]['y']=Xe[0x1*0xf59+-0x1dfa+0xea5]['y']=Xe[0x13a*-0x3+-0x3*0x213+0xb*0xe7]['y']=_0x12feeb['y'],Xe[0x463+-0x22*0xfb+-0x1*-0x1cf3]['z']=Xe[-0x3*0x9a3+0x1*-0xaa9+0x2793]['z']=Xe[0x10*-0xb7+0x853+0x321]['z']=Xe[0x26e8+0x1*-0xd8f+-0x4*0x655]['z']=_0x12feeb['z'];let _0x107b93=-0x2f8ecce98+-0xe55c*-0x13073+0x1*0x43c346a43,_0x3af1de=-(-0x1b0c75e*-0x1ea+0xbd00d74+-0xf421c361);for(let _0x38b6b5=-0xe34+-0x3*0xc9e+0x340e;_0x38b6b5<0x1e3+-0x1341+0x1166;++_0x38b6b5){_0x551692['transformP'+'oint'](Xe[_0x38b6b5],Xe[_0x38b6b5]);const _0x54fc24=Xe[_0x38b6b5]['z'];_0x54fc24<_0x107b93&&(_0x107b93=_0x54fc24),_0x54fc24>_0x3af1de&&(_0x3af1de=_0x54fc24);}return sf['min']=_0x107b93,sf['max']=_0x3af1de,sf;}class kb{constructor(_0x29f0de,_0x1b361c){h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x29f0de,this['shadowRend'+'erer']=_0x1b361c,this['device']=_0x29f0de['device']);}['cull'](_0x225c3e,_0x2d685,_0x23b1fe,_0x177622=null){_0x225c3e['visibleThi'+'sFrame']=!(-0x1e97+-0x2135*-0x1+0x43*-0xa),_0x225c3e['_shadowMap']||(_0x225c3e['_shadowMap']=va['create'](this['device'],_0x225c3e));const _0x5e5cbb=_0x23b1fe['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x225c3e,_0x5e5cbb,Math['min'](_0x23b1fe['_farClip'],_0x225c3e['shadowDist'+'ance']));const _0x32c09c=_0x225c3e['shadowUpda'+'teOverride'+'s'];for(let _0x45fe0a=0xd7d*-0x1+0x174a+-0xc1*0xd;_0x45fe0a<_0x225c3e['numCascade'+'s']&&(_0x32c09c==null?void(0x1*0x2278+0x672+-0x28ea):_0x32c09c[_0x45fe0a])!==Ps;_0x45fe0a++){const _0x2b3b42=_0x225c3e['getRenderD'+'ata'](_0x23b1fe,_0x45fe0a),_0x333222=_0x2b3b42['shadowCame'+'ra'];_0x333222['renderTarg'+'et']=_0x225c3e['_shadowMap']['renderTarg'+'ets'][0x1a8d+-0xfdd+0x9*-0x130],_0x2b3b42['shadowView'+'port']['copy'](_0x225c3e['cascades'][_0x45fe0a]),_0x2b3b42['shadowScis'+'sor']['copy'](_0x225c3e['cascades'][_0x45fe0a]);const _0x720ae9=_0x333222['_node'],_0x5bacca=_0x225c3e['_node'];_0x720ae9['setPositio'+'n'](_0x5bacca['getPositio'+'n']()),_0x720ae9['setRotatio'+'n'](_0x5bacca['getRotatio'+'n']()),_0x720ae9['rotateLoca'+'l'](-(0x2526+0x1229+-0x36f5),-0x2e1*0x2+0x6c5*-0x1+-0x42d*-0x3,-0x8e4+0x140e+-0xb2a);const _0x4d0fe0=_0x45fe0a===-0x1f85*0x1+0x1e56+0x12f?_0x5e5cbb:_0x225c3e['_shadowCas'+'cadeDistan'+'ces'][_0x45fe0a-(-0x3f9+0x1c2b*-0x1+0x2025)],_0x518018=_0x225c3e['_shadowCas'+'cadeDistan'+'ces'][_0x45fe0a],_0x53d694=_0x23b1fe['getFrustum'+'Corners'](_0x4d0fe0,_0x518018);Ti['set'](0x1*-0x1bd7+-0xa83+0x265a,-0x114*-0x1+0x10cd+-0x11e1,0x1ff5+-0x1a0b+-0x5ea);const _0x567cd7=_0x23b1fe['node']['getWorldTr'+'ansform']();for(let _0x12c0c3=0x99c+-0x42+-0x95a;_0x12c0c3<-0x1d4c+0x254+-0x1b0*-0x10;_0x12c0c3++)_0x567cd7['transformP'+'oint'](_0x53d694[_0x12c0c3],_0x53d694[_0x12c0c3]),Ti['add'](_0x53d694[_0x12c0c3]);Ti['mulScalar']((0x1765+-0xb7e+-0xbe6)/(0x1*-0x1849+0x61*0x45+-0x1d4));let _0x1fb7b4=-0x6*-0x47c+0x1afe+0x1af3*-0x2;for(let _0x598330=-0x34*0x2f+0x14d7+0x7*-0x19d;_0x598330<-0x21eb+0xccb+0x1528;_0x598330++){const _0x3a5b1e=_0x53d694[_0x598330]['sub'](Ti)['length']();_0x3a5b1e>_0x1fb7b4&&(_0x1fb7b4=_0x3a5b1e);}const _0x5bd241=_0x720ae9['right'],_0x3e033a=_0x720ae9['up'],_0x4abedf=_0x720ae9['forward'],_0x4309e7=(0x1c04+-0x1f4d*-0x1+0x3b51*-0x1+0.25)*_0x225c3e['_shadowRes'+'olution']/_0x1fb7b4,_0x2dd293=Math['ceil'](Ti['dot'](_0x3e033a)*_0x4309e7)/_0x4309e7,_0xc5ffad=Math['ceil'](Ti['dot'](_0x5bd241)*_0x4309e7)/_0x4309e7,_0x1d57be=_0x3e033a['mulScalar'](_0x2dd293),_0x29f921=_0x5bd241['mulScalar'](_0xc5ffad),_0xc24fd2=Ti['dot'](_0x4abedf),_0x3dd1e=_0x4abedf['mulScalar'](_0xc24fd2);Ti['add2'](_0x1d57be,_0x29f921)['add'](_0x3dd1e),_0x720ae9['setPositio'+'n'](Ti),_0x720ae9['translateL'+'ocal'](0x65*0x58+0x129f+-0x3557,0x2392+0x44d+0x3b*-0xad,-0x1d8e0a+0x1d678c+0x921a*0x1b),_0x333222['nearClip']=-0x2a1*-0x1+0x3*0x7ca+-0x19ff+0.01,_0x333222['farClip']=0x97caf*0x6+0xa*0x4f001+-0xca146*0x6,_0x333222['orthoHeigh'+'t']=_0x1fb7b4,this['renderer']['updateCame'+'raFrustum'](_0x333222),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x2d685,_0x225c3e,_0x2b3b42['visibleCas'+'ters'],_0x333222,_0x177622);const _0x11b600=0x3a2+-0x2e8+-0xb9<<_0x45fe0a,_0x2b8d85=_0x2b3b42['visibleCas'+'ters'],_0x2efb21=_0x2b8d85['length'];let _0x1bd50d=-0xc9*0x4+0x5b7+0x1*-0x293;for(let _0x44268b=-0x2*0x110a+0x18c1*-0x1+-0x1*-0x3ad5;_0x44268b<_0x2efb21;_0x44268b++){const _0x58f37f=_0x2b8d85[_0x44268b];_0x58f37f['shadowCasc'+'adeMask']&_0x11b600&&(_0x2b8d85[_0x1bd50d++]=_0x58f37f,_0x1bd50d===-0x9b3*0x1+-0x26c9+0x307d?lc['copy'](_0x58f37f['aabb']):lc['add'](_0x58f37f['aabb']));}_0x2efb21!==_0x1bd50d&&(_0x2b8d85['length']=_0x1bd50d),H_['copy'](_0x720ae9['getWorldTr'+'ansform']())['invert']();const _0x4f8553=Nb(H_,lc['getMin'](),lc['getMax']());_0x720ae9['translateL'+'ocal'](-0x15d6+0x48*-0x2c+0x1d*0x12e,0x7*-0x474+0x3a3+0x13*0x173,_0x4f8553['max']+(0x11*0xf3+-0x406*-0x8+0x8b*-0x59+0.1)),_0x333222['farClip']=_0x4f8553['max']-_0x4f8553['min']+(-0x677*-0x2+0x1140+0x1*-0x1e2e+0.2),_0x2b3b42['projection'+'Compensati'+'on']=_0x1fb7b4;}}['generateSp'+'litDistanc'+'es'](_0x2bac6f,_0x52df39,_0x5ac986){_0x2bac6f['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x5ac986);for(let _0x4453f1=0xda5*-0x2+0x13b1+0x79a;_0x4453f1<_0x2bac6f['numCascade'+'s'];_0x4453f1++){const _0x3b66e2=_0x4453f1/_0x2bac6f['numCascade'+'s'],_0x4663ab=_0x52df39+(_0x5ac986-_0x52df39)*_0x3b66e2,_0x1ea7a1=_0x52df39*(_0x5ac986/_0x52df39)**_0x3b66e2,_0x5abab2=Y['lerp'](_0x4663ab,_0x1ea7a1,_0x2bac6f['cascadeDis'+'tribution']);_0x2bac6f['_shadowCas'+'cadeDistan'+'ces'][_0x4453f1-(0x1*0xafb+0x4a0+-0xf9a)]=_0x5abab2;}}['getLightRe'+'nderPass'](_0x3ecf40,_0x5a7120){w['assert'](_0x3ecf40&&_0x3ecf40['_type']===ve);let _0x422b6a=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x3ecf40)){const _0x265848=_0x3ecf40['numShadowF'+'aces'],_0x508209=_0x3ecf40['shadowUpda'+'teOverride'+'s'];let _0x17be0b=!(0x74*0x8+-0x1afa+0x175a),_0x88d5c5;for(let _0x3e224d=-0x1804+0xafe+-0x683*-0x2;_0x3e224d<_0x265848;_0x3e224d++)(_0x508209==null?void(0x5b2+0xd*-0x1ac+0x805*0x2):_0x508209[_0x3e224d])===Ps&&(_0x17be0b=!(0x2465+-0x1644+-0xe20*0x1)),_0x88d5c5=this['shadowRend'+'erer']['prepareFac'+'e'](_0x3ecf40,_0x5a7120,_0x3e224d);_0x422b6a=new Fb(this['device'],this['shadowRend'+'erer'],_0x3ecf40,_0x5a7120,_0x17be0b),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x422b6a,_0x88d5c5,_0x17be0b);}return _0x422b6a;}}const rf=new Set(),W_=new te(),$_=new te(),Fr=new Float32Array(0x1b81*0x1+-0xcaf*-0x2+-0x15b*0x27),lo=new re(-0x9*0x65+-0xd*-0x1cd+-0x13db,0x18c4+-0xbd0+-0xcf3,0xc*-0x341+0x15b+-0x1*-0x25b1,0x1*-0x1522+0x222d+-0xd0b),X_=new te();function Ub(_0xff0900,_0x56914d){return Math['exp'](-(_0xff0900*_0xff0900)/((-0x225+0x264b+-0x2424)*_0x56914d*_0x56914d));}function Bb(_0x1a58dd){const _0x21c0ab=(_0x1a58dd-(0x192f+-0x1f31*-0x1+-0x1*0x385f))/(0x18d6*-0x1+-0x1a9+0x5d*0x49),_0x40df50=(_0x1a58dd-(0x2fb*0xc+-0x2287*-0x1+-0x2325*0x2))*(0xfe*-0x17+0x236c+-0xc9a+0.5),_0x269299=new Array(_0x1a58dd);let _0x1b1867=0xae5*-0x1+-0x1e7*0x5+-0x1468*-0x1;for(let _0x2a3a9b=-0xf1a+-0x18*-0x17e+-0x14b6;_0x2a3a9b<_0x1a58dd;++_0x2a3a9b)_0x269299[_0x2a3a9b]=Ub(_0x2a3a9b-_0x40df50,_0x21c0ab),_0x1b1867+=_0x269299[_0x2a3a9b];for(let _0x1c9107=-0xe45+-0x481+0x12c6;_0x1c9107<_0x1a58dd;++_0x1c9107)_0x269299[_0x1c9107]/=_0x1b1867;return _0x269299;}class Cv{constructor(_0x228ae0,_0x16cedd){h(this,'shadowPass'+'Cache',[]),(this['device']=_0x228ae0['device'],this['renderer']=_0x228ae0,this['lightTextu'+'reAtlas']=_0x16cedd);const _0x4ff553=this['device']['scope'];this['sourceId']=_0x4ff553['resolve']('source'),this['pixelOffse'+'tId']=_0x4ff553['resolve']('pixelOffse'+'t'),this['weightId']=_0x4ff553['resolve']('weight[0]'),this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x4ff553['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new pt(),this['blendState'+'NoWrite']=new pt(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(0x1*0x1f99+0x1285+-0x1*0x321d),!(0x266d+0x850+-0x2*0x175e),!(0x23d3+-0x6*0x9f+0x4*-0x806),!(0xa*0x29b+0x1af1+0xe*-0x3c9));}static['createShad'+'owCamera'](_0x351fce,_0x19a723,_0x30a966){const _0x58e13f=Wn['create']('ShadowCame'+'ra',_0x19a723,_0x30a966),_0x116978=qi['get'](_0x351fce);w['assert'](_0x116978);const _0xbe5519=(_0x116978==null?void(-0x90+-0x6*0x575+-0x93*-0x3a):_0x116978['vsm'])??!(-0x183*0x10+0x13fd+0x434),_0x57a696=(_0x116978==null?void(-0xdfb*-0x1+0xfa1*0x1+-0x2*0xece):_0x116978['pcf'])??!(0x3*-0x763+-0x12fe+-0x36e*-0xc);return _0xbe5519?_0x58e13f['clearColor']=new ie(-0x14ab+-0x9b7*0x4+0x7*0x881,0x16cf+-0x4ba+-0x1215,0x19d*-0x1+0x1daa+-0x1c0d,-0xcc4+-0x123f+-0x1f03*-0x1):_0x58e13f['clearColor']=new ie(-0x164*-0x4+-0x1ffe+0x1a6f,-0x6ae*-0x1+-0xc90+0x1*0x5e3,-0x71*-0x34+-0x1*-0xd93+0x55*-0x6e,0x18dc+-0x301*0xa+0x52f),_0x58e13f['clearDepth'+'Buffer']=!(0x22e1+0x860+-0xe6b*0x3),_0x58e13f['clearStenc'+'ilBuffer']=!(0x13ce+-0x25*-0xb+-0x1564),_0x58e13f['clearColor'+'Buffer']=!_0x57a696,_0x58e13f;}['_cullShado'+'wCastersIn'+'ternal'](_0x4fe6ef,_0x157263,_0x9c8770){const _0x38e834=_0x4fe6ef['length'];for(let _0x28520a=0x1*0x1ca+-0x20a4+0x167*0x16;_0x28520a<_0x38e834;_0x28520a++){const _0x5011b3=_0x4fe6ef[_0x28520a];_0x5011b3['castShadow']&&(!_0x5011b3['cull']||_0x5011b3['_isVisible'](_0x9c8770))&&(_0x5011b3['visibleThi'+'sFrame']=!(0x59*-0x53+-0x10ff*-0x1+0xbdc),_0x157263['push'](_0x5011b3));}}['cullShadow'+'Casters'](_0x5d1dde,_0x3fca62,_0x11db28,_0x5b7240,_0x2bda91){var _0x4c30bd,_0x5b0447;if((_0x4c30bd=this['renderer']['scene'])==null||_0x4c30bd['fire'](mv,_0x5b7240),_0x11db28['length']=0x8d*0x39+-0x632+-0x1933,_0x2bda91)this['_cullShado'+'wCastersIn'+'ternal'](_0x2bda91,_0x11db28,_0x5b7240);else{const _0x5efa21=_0x5d1dde['layerList'],_0x9bdfed=_0x5efa21['length'];for(let _0x13185d=-0x1*0x143b+-0x11*0x1a+0x15f5;_0x13185d<_0x9bdfed;_0x13185d++){const _0x416611=_0x5efa21[_0x13185d];_0x416611['_lightsSet']['has'](_0x3fca62)&&(rf['has'](_0x416611)||(rf['add'](_0x416611),this['_cullShado'+'wCastersIn'+'ternal'](_0x416611['shadowCast'+'ers'],_0x11db28,_0x5b7240)));}rf['clear']();}_0x11db28['sort'](this['sortCompar'+'eShader']),(_0x5b0447=this['renderer']['scene'])==null||_0x5b0447['fire'](_v,_0x5b7240);}['sortCompar'+'eShader'](_0x1bd6e5,_0x407a44){const _0x58a882=_0x1bd6e5['_sortKeySh'+'adow'],_0x5f4061=_0x407a44['_sortKeySh'+'adow'];return _0x58a882===_0x5f4061?_0x407a44['mesh']['id']-_0x1bd6e5['mesh']['id']:_0x5f4061-_0x58a882;}['setupRende'+'rState'](_0x2bad4e,_0x4579e1){const _0x5281d5=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x4579e1['_isPcf']:_0x4579e1['_isPcf']&&_0x4579e1['_type']!==Ke;_0x2bad4e['setBlendSt'+'ate'](_0x5281d5?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x2bad4e['setDepthSt'+'ate'](_0x4579e1['shadowDept'+'hState']),_0x2bad4e['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x1670b5,_0x1b4b51,_0x19116e,_0x33c085){const _0x2315d2=_0x1b4b51['_node'];_0x1670b5['_type']!==ve&&(this['renderer']['dispatchVi'+'ewPos'](_0x2315d2['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x1670b5['attenuatio'+'nEnd'])),W_['setTRS'](_0x2315d2['getPositio'+'n'](),_0x2315d2['getRotatio'+'n'](),D['ONE'])['invert'](),$_['mul2'](_0x1b4b51['projection'+'Matrix'],W_);const _0x5e4760=_0x19116e['shadowView'+'port'];_0x1b4b51['rect']=_0x5e4760,_0x1b4b51['scissorRec'+'t']=_0x19116e['shadowScis'+'sor'],X_['setViewpor'+'t'](_0x5e4760['x'],_0x5e4760['y'],_0x5e4760['z'],_0x5e4760['w']),_0x19116e['shadowMatr'+'ix']['mul2'](X_,$_),_0x1670b5['_type']===ve&&_0x1670b5['_shadowMat'+'rixPalette']['set'](_0x19116e['shadowMatr'+'ix']['data'],_0x33c085*(0x450+-0x3f4+0x2*-0x26));}['getShadowP'+'ass'](_0x1029f7){var _0x13ae9a;const _0x3a24a0=_0x1029f7['_type'],_0x2f4c25=_0x1029f7['_shadowTyp'+'e'];let _0x3c0bc3=(_0x13ae9a=this['shadowPass'+'Cache'][_0x3a24a0])==null?void(-0x1803+0x2*-0xa3+0x1949):_0x13ae9a[_0x2f4c25];if(!_0x3c0bc3){const _0xbab290='ShadowPass'+'_'+_0x3a24a0+'_'+_0x2f4c25;_0x3c0bc3=Si['get'](this['device'])['allocate'](_0xbab290,{'isShadow':!(-0x1*0x22c+0x81*-0x33+-0x593*-0x5),'lightType':_0x3a24a0,'shadowType':_0x2f4c25}),this['shadowPass'+'Cache'][_0x3a24a0]||(this['shadowPass'+'Cache'][_0x3a24a0]=[]),this['shadowPass'+'Cache'][_0x3a24a0][_0x2f4c25]=_0x3c0bc3;}return _0x3c0bc3['index'];}['submitCast'+'ers'](_0x56a85b,_0x2979ae,_0x1e2f67){var _0x2dd7df;const _0x168d88=this['device'],_0x3a0a18=this['renderer'],_0x573685=_0x3a0a18['scene'],_0x1d7c12=-0x1ae*-0x1+-0x72*0x2c+0x11eb<<cm,_0x36efa5=this['getShadowP'+'ass'](_0x2979ae),_0x5ba06a=_0x1e2f67['shaderPara'+'ms'],_0x2a063a=_0x1e2f67['renderTarg'+'et']['flipY']?-(-0xb9*-0x26+-0x9b9+-0x11bc):0x3a1*-0x1+0x1a10+-0xb37*0x2,_0x1d8fbc=_0x56a85b['length'];for(let _0x104f64=-0x10d*-0x5+-0x200e+0x3*0x8ef;_0x104f64<_0x1d8fbc;_0x104f64++){const _0x5b9e36=_0x56a85b[_0x104f64],_0x3115d3=_0x5b9e36['mesh'],_0x3553d0=_0x5b9e36['instancing'+'Data'];if(_0x3553d0&&_0x3553d0['count']<=0x163a+-0x6a*0x3d+0x308)continue;_0x5b9e36['ensureMate'+'rial'](_0x168d88);const _0x12a2b1=_0x5b9e36['material'];Q['pushGpuMar'+'ker'](_0x168d88,'Node:\x20'+_0x5b9e36['node']['name']+(',\x20Material'+':\x20')+_0x12a2b1['name']),_0x3a0a18['setBaseCon'+'stants'](_0x168d88,_0x12a2b1),_0x3a0a18['setSkinnin'+'g'](_0x168d88,_0x5b9e36),_0x12a2b1['dirty']&&(_0x12a2b1['updateUnif'+'orms'](_0x168d88,_0x573685),_0x12a2b1['dirty']=!(-0x1d9*0x14+-0x179c*-0x1+0xd59)),_0x3a0a18['setupCullM'+'ode'](!(0x16fe+0x135*0x1+-0x1833),_0x2a063a,_0x5b9e36),_0x12a2b1['setParamet'+'ers'](_0x168d88),_0x5b9e36['setParamet'+'ers'](_0x168d88,_0x1d7c12);const _0x16df50=_0x5b9e36['getShaderI'+'nstance'](_0x36efa5,0x2a8+0x10*0xd0+-0xfa8,_0x573685,_0x5ba06a,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x37746c=_0x16df50['shader'];if(w['assert'](_0x37746c,'no\x20shader\x20'+'for\x20pass\x20'+_0x36efa5,_0x12a2b1),_0x37746c['failed'])continue;_0x5b9e36['_sortKeySh'+'adow']=_0x37746c['id'],_0x168d88['setShader'](_0x37746c),_0x3a0a18['setVertexB'+'uffers'](_0x168d88,_0x3115d3),_0x3a0a18['setMorphin'+'g'](_0x168d88,_0x5b9e36['morphInsta'+'nce']),_0x3553d0&&_0x168d88['setVertexB'+'uffer'](_0x3553d0['vertexBuff'+'er']),_0x3a0a18['setMeshIns'+'tanceMatri'+'ces'](_0x5b9e36),_0x3a0a18['setupMeshU'+'niformBuff'+'ers'](_0x16df50);const _0x1de08c=_0x5b9e36['renderStyl'+'e'],_0x14deda=(_0x2dd7df=_0x5b9e36['indirectDa'+'ta'])==null?void(-0x52a*0x6+0x6*-0xae+0x10*0x231):_0x2dd7df['get'](_0x1e2f67);_0x168d88['draw'](_0x3115d3['primitive'][_0x1de08c],_0x3115d3['indexBuffe'+'r'][_0x1de08c],_0x3553d0==null?void(0x18*0x15d+-0x1*0x80b+-0x18ad):_0x3553d0['count'],_0x14deda),_0x3a0a18['_shadowDra'+'wCalls']++,_0x3553d0&&_0x3a0a18['_instanced'+'DrawCalls']++,Q['popGpuMark'+'er'](_0x168d88);}}['needsShado'+'wRendering'](_0x6d1efe){const _0x1d13cb=_0x6d1efe['enabled']&&_0x6d1efe['castShadow'+'s']&&_0x6d1efe['shadowUpda'+'teMode']!==Ps&&_0x6d1efe['visibleThi'+'sFrame'];return _0x6d1efe['shadowUpda'+'teMode']===xr&&(_0x6d1efe['shadowUpda'+'teMode']=Ps),_0x1d13cb&&(this['renderer']['_shadowMap'+'Updates']+=_0x6d1efe['numShadowF'+'aces']),_0x1d13cb;}['getLightRe'+'nderData'](_0x1a3bbf,_0x10c88f,_0x401390){return _0x1a3bbf['getRenderD'+'ata'](_0x1a3bbf['_type']===ve?_0x10c88f:null,_0x401390);}['setupRende'+'rPass'](_0x11e477,_0x4376e0,_0x5dddcf){const _0x30aa0d=_0x4376e0['renderTarg'+'et'];_0x11e477['init'](_0x30aa0d),_0x11e477['depthStenc'+'ilOps']['clearDepth'+'Value']=-0x5*0x609+0x1*0xe26+0x1008,_0x11e477['depthStenc'+'ilOps']['clearDepth']=_0x5dddcf,_0x30aa0d['depthBuffe'+'r']?_0x11e477['depthStenc'+'ilOps']['storeDepth']=!(-0x1747+0x1e20+-0x6d9):(_0x11e477['colorOps']['clearValue']['copy'](_0x4376e0['clearColor']),_0x11e477['colorOps']['clear']=_0x5dddcf,_0x11e477['depthStenc'+'ilOps']['storeDepth']=!(-0x6*0x280+0xbf6+0x30b)),_0x11e477['requiresCu'+'bemaps']=!(-0x4f*-0x33+0x1*-0x247+-0xd75);}['prepareFac'+'e'](_0xd4c2fc,_0x426fe9,_0xd25187){const _0x1ae844=_0xd4c2fc['_type'],_0x5812b9=this['getLightRe'+'nderData'](_0xd4c2fc,_0x426fe9,_0xd25187)['shadowCame'+'ra'],_0x142b00=_0x1ae844===ve?0x1d69+0x836+-0x259f:_0xd25187;return _0x5812b9['renderTarg'+'et']=_0xd4c2fc['_shadowMap']['renderTarg'+'ets'][_0x142b00],_0x5812b9;}['renderFace'](_0x2431b1,_0x4dfba1,_0x519c47,_0x19abb8,_0x5dbf2a=!(0x1496+0x2087*0x1+-0x351d)){const _0x4004f5=this['device'],_0x500c9b=de();Q['pushGpuMar'+'ker'](_0x4004f5,'SHADOW\x20'+_0x2431b1['_node']['name']+'\x20FACE\x20'+_0x519c47);const _0x573f20=this['getLightRe'+'nderData'](_0x2431b1,_0x4dfba1,_0x519c47),_0x3995bf=_0x573f20['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x2431b1,_0x3995bf,_0x573f20,_0x519c47);const _0x2f8115=_0x3995bf['renderTarg'+'et'],_0x7a3f16=this['renderer'];_0x7a3f16['setCameraU'+'niforms'](_0x3995bf,_0x2f8115),_0x4004f5['supportsUn'+'iformBuffe'+'rs']&&_0x7a3f16['setupViewU'+'niformBuff'+'ers'](_0x573f20['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],null),_0x5dbf2a?(_0x7a3f16['setupViewp'+'ort'](_0x3995bf,_0x2f8115),_0x19abb8&&_0x7a3f16['clear'](_0x3995bf)):_0x7a3f16['clearView'](_0x3995bf,_0x2f8115,!(0xb*0x19a+-0xa43*-0x3+0x3067*-0x1),!(0xfd7+0x4*-0x6c4+0xb3a)),this['setupRende'+'rState'](_0x4004f5,_0x2431b1),this['submitCast'+'ers'](_0x573f20['visibleCas'+'ters'],_0x2431b1,_0x3995bf),Q['popGpuMark'+'er'](_0x4004f5),_0x7a3f16['_shadowMap'+'Time']+=de()-_0x500c9b;}['render'](_0x3423f9,_0x1e9717,_0x2a083e=!(0x925*-0x1+0x2*0x61f+-0x319)){if(this['needsShado'+'wRendering'](_0x3423f9)){const _0x3fdebc=_0x3423f9['numShadowF'+'aces'];for(let _0xb6e885=0x196*0x1+0x8c*0x1f+-0x128a;_0xb6e885<_0x3fdebc;_0xb6e885++)this['prepareFac'+'e'](_0x3423f9,_0x1e9717,_0xb6e885),this['renderFace'](_0x3423f9,_0x1e9717,_0xb6e885,!(0x8e9*-0x1+0x2*-0x95+-0xa13*-0x1),_0x2a083e);this['renderVsm'](_0x3423f9,_0x1e9717);}}['renderVsm'](_0x45f35f,_0x2537f7){_0x45f35f['_isVsm']&&_0x45f35f['_vsmBlurSi'+'ze']>-0x19ea+-0xa6f+0xb*0x34e&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x45f35f['_type']===ve)&&this['applyVsmBl'+'ur'](_0x45f35f,_0x2537f7);}['getVsmBlur'+'Shader'](_0x47ef1c,_0x24a8fd){const _0x4b089b=this['blurVsmSha'+'der'];let _0x397245=_0x4b089b[_0x47ef1c][_0x24a8fd];if(!_0x397245){this['blurVsmWei'+'ghts'][_0x24a8fd]=Bb(_0x24a8fd);const _0x4674d0=new Map();_0x4674d0['set']('{SAMPLES}',_0x24a8fd),_0x47ef1c===0x119c+-0x1*0xd+-0x118e&&_0x4674d0['set']('GAUSS',''),_0x397245=$t['createShad'+'er'](this['device'],{'uniqueName':'blurVsm'+_0x47ef1c+_0x24a8fd,'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'blurVSMPS','fragmentDefines':_0x4674d0}),_0x4b089b[_0x47ef1c][_0x24a8fd]=_0x397245;}return _0x397245;}['applyVsmBl'+'ur'](_0x3fa176,_0x4c6298){const _0x297363=this['device'];Q['pushGpuMar'+'ker'](_0x297363,'VSM\x20'+_0x3fa176['_node']['name']),_0x297363['setBlendSt'+'ate'](pt['NOBLEND']);const _0x49d3a6=_0x3fa176['getRenderD'+'ata'](_0x3fa176['_type']===ve?_0x4c6298:null,-0x373+-0x27a+0x25*0x29)['shadowCame'+'ra']['renderTarg'+'et'],_0x21b686=this['renderer']['shadowMapC'+'ache']['get'](_0x297363,_0x3fa176),_0x4ab011=_0x21b686['renderTarg'+'ets'][0x16b6+-0xbd*0x2d+-0x45*-0x27],_0x4cf597=_0x3fa176['vsmBlurMod'+'e'],_0x24fef5=_0x3fa176['_vsmBlurSi'+'ze'],_0x29ffbd=this['getVsmBlur'+'Shader'](_0x4cf597,_0x24fef5);lo['z']=_0x3fa176['_shadowRes'+'olution']-(0x28d*-0x1+-0x171b+-0x12*-0x16d),lo['w']=lo['z'],this['sourceId']['setValue'](_0x49d3a6['colorBuffe'+'r']),Fr[0x2ed*0x2+-0x2ad*-0xd+0x65*-0x67]=(0x1d1b+-0x38f+-0x198b)/_0x3fa176['_shadowRes'+'olution'],Fr[0x1*0x515+-0x17*-0x143+-0x2219]=0x96b*-0x3+-0x9ea+0x262b,this['pixelOffse'+'tId']['setValue'](Fr),_0x4cf597===em&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x24fef5]),Ar(_0x297363,_0x4ab011,_0x29ffbd,null,lo),this['sourceId']['setValue'](_0x4ab011['colorBuffe'+'r']),Fr[-0xc*-0x106+0x1*0xe7d+-0x1ac4]=Fr[0x2566+-0x301+0x3*-0xb77],Fr[-0x357+0xa7d*-0x1+0xdd4]=-0xd39+-0x1*-0x7fa+-0x1*-0x53f,this['pixelOffse'+'tId']['setValue'](Fr),Ar(_0x297363,_0x49d3a6,_0x29ffbd,null,lo),this['renderer']['shadowMapC'+'ache']['add'](_0x3fa176,_0x21b686),Q['popGpuMark'+'er'](_0x297363);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new zy(this['device'],[new dt('matrix_vie'+'wProjectio'+'n',li)]),this['viewBindGr'+'oupFormat']=new Ny(this['device'],[new kp(Np,Fp|by)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const cc=[];class zb{constructor(_0x1a76db){h(this,'_empty',null),h(this,'_allocated',[]),h(this,'_clusters',new Map()),this['device']=_0x1a76db;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x3909f5=>{_0x3909f5['destroy']();}),this['_allocated']['length']=-0x971+-0x15a*-0x1a+-0x19b3;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x42b437=new cu(this['device']);_0x42b437['name']='ClusterEmp'+'ty',_0x42b437['update']([]),this['_empty']=_0x42b437;}return this['_empty'];}['assign'](_0x4ef440){const _0x22c447=this['empty'];cc['push'](...this['_allocated']),this['_allocated']['length']=-0x9*0x10d+0x38b*0x1+-0x2*-0x2f5,this['_clusters']['clear']();const _0x5554ff=_0x4ef440['length'];for(let _0x3e3185=0x8*-0x10+-0x157e+-0x233*-0xa;_0x3e3185<_0x5554ff;_0x3e3185++){const _0xa5f97b=_0x4ef440[_0x3e3185]['renderActi'+'ons'];if(_0xa5f97b){const _0x7116d6=_0xa5f97b['length'];for(let _0x51a8ba=-0x1*0x26e+0x5*0x3dd+-0x83*0x21;_0x51a8ba<_0x7116d6;_0x51a8ba++){const _0x120767=_0xa5f97b[_0x51a8ba];_0x120767['lightClust'+'ers']=null;const _0x4d0a4f=_0x120767['layer'];if(_0x4d0a4f['hasCluster'+'edLights']&&_0x4d0a4f['meshInstan'+'ces']['length']){const _0x3d5cfc=_0x4d0a4f['getLightId'+'Hash'](),_0x3f396b=this['_clusters']['get'](_0x3d5cfc);let _0x260aeb=_0x3f396b==null?void(0x1387*0x1+-0x14a1+0x1*0x11a):_0x3f396b['lightClust'+'ers'];_0x260aeb||(_0x260aeb=cc['pop']()??new cu(this['device']),Ea['setName'](_0x260aeb,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x260aeb),this['_clusters']['set'](_0x3d5cfc,_0x120767)),_0x120767['lightClust'+'ers']=_0x260aeb;}_0x120767['lightClust'+'ers']||(_0x120767['lightClust'+'ers']=_0x22c447);}}}cc['forEach'](_0x5ad31c=>_0x5ad31c['destroy']()),cc['length']=0x2110+0x15f2*-0x1+0x1*-0xb1e;}['update'](_0xcab7c1,_0x34f1f6){this['assign'](_0xcab7c1),this['_clusters']['forEach'](_0x3a641b=>{const _0x4087b5=_0x3a641b['layer'];_0x3a641b['lightClust'+'ers']['update'](_0x4087b5['clusteredL'+'ightsSet'],_0x34f1f6);});}}const rr=new re(),af=[];class pm extends ys{constructor(_0x115df4,_0x475485){super(_0x115df4),h(this,'_quadRende'+'rer2D',null),h(this,'_quadRende'+'rerCube',null),h(this,'_filteredL'+'ights',[]),h(this,'_forceCopy',!(0xb57*-0x2+0x1845+0x7*-0x3a)),h(this,'_evtDevice'+'Restored',null),(this['_cubeSlots'+'Offsets']=_0x475485,this['requiresCu'+'bemaps']=!(-0x421*-0x7+-0x17*-0x18b+-0x4063),this['blitTextur'+'eId']=_0x115df4['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x115df4['scope']['resolve']('invViewPro'+'j'),this['_evtDevice'+'Restored']=_0x115df4['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this));}['destroy'](){var _0x438a9c,_0x4a8e40,_0x50a301;(_0x438a9c=this['_quadRende'+'rer2D'])==null||_0x438a9c['destroy'](),this['_quadRende'+'rer2D']=null,(_0x4a8e40=this['_quadRende'+'rerCube'])==null||_0x4a8e40['destroy'](),this['_quadRende'+'rerCube']=null,(_0x50a301=this['_evtDevice'+'Restored'])==null||_0x50a301['off'](),this['_evtDevice'+'Restored']=null;}static['create'](_0x438270,_0x1a7858){w['assert'](_0x438270);const _0x143fd1=new pm(_0x438270['device'],_0x1a7858);return _0x143fd1['init'](_0x438270),_0x143fd1['colorOps']['clear']=!(-0x17e7*0x1+-0x7*0x2e7+0x2c39*0x1),_0x143fd1['depthStenc'+'ilOps']['clearDepth']=!(-0x1861*-0x1+-0x25e+-0x2*0xb01),_0x143fd1;}['onDeviceRe'+'stored'](){this['_forceCopy']=!(0x245f*-0x1+-0xd96+0x31f5);}['update'](_0x2dbb6f){const _0x28195a=this['_filteredL'+'ights'];this['filter'](_0x2dbb6f,_0x28195a),this['executeEna'+'bled']=_0x28195a['length']>0x1*-0x201f+-0x8c5+-0x2*-0x1472;}['filter'](_0x49640a,_0x33ab69){for(let _0x3f88b5=-0x11*-0x50+-0x519*-0x2+-0x2*0x7c1;_0x3f88b5<_0x49640a['length'];_0x3f88b5++){const _0x3df141=_0x49640a[_0x3f88b5];_0x3df141['_type']!==ve&&_0x3df141['atlasViewp'+'ortAllocat'+'ed']&&(!_0x3df141['atlasSlotU'+'pdated']&&!this['_forceCopy']||_0x3df141['enabled']&&_0x3df141['cookie']&&_0x3df141['visibleThi'+'sFrame']&&_0x33ab69['push'](_0x3df141));}this['_forceCopy']=!(0x236*-0x1+-0x1dd9+0x2010);}['initInvVie'+'wProjMatri'+'ces'](){if(!af['length'])for(let _0x2f6022=-0x23ef+-0x201b+-0x1*-0x440a;_0x2f6022<-0xbb3+-0x1897+0x2*0x1228;_0x2f6022++){const _0x114ddf=Wn['create'](null,Ke,_0x2f6022),_0x31c08d=_0x114ddf['projection'+'Matrix'],_0x3d6502=_0x114ddf['node']['getLocalTr'+'ansform']()['clone']()['invert']();af[_0x2f6022]=new te()['mul2'](_0x31c08d,_0x3d6502)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x101de8=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'erer2d','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'2DPS'});this['_quadRende'+'rer2D']=new Ah(_0x101de8);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0xdb295b=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'ererCube','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'CubePS'});this['_quadRende'+'rerCube']=new Ah(_0xdb295b);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x36dad1=this['device'];_0x36dad1['setBlendSt'+'ate'](pt['NOBLEND']),_0x36dad1['setCullMod'+'e'](bt),_0x36dad1['setDepthSt'+'ate'](Yt['NODEPTH']),_0x36dad1['setStencil'+'State']();const _0x277fd2=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x12bc9a=this['_cubeSlots'+'Offsets'],_0x50d231=this['_filteredL'+'ights'];for(let _0x3537ab=-0x102+0x1*-0x22fc+0x23fe*0x1;_0x3537ab<_0x50d231['length'];_0x3537ab++){const _0x46d491=_0x50d231[_0x3537ab];Q['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x46d491['_node']['name']);const _0xf6fdf5=_0x46d491['numShadowF'+'aces'],_0x458a6f=_0xf6fdf5>0x587*0x6+0x61f*-0x1+-0x1b0a?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0xf6fdf5>0x89*-0x14+-0x209c+0x2b51&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x46d491['cookie']);for(let _0x684247=0x36d*-0x2+-0x1275+0x194f*0x1;_0x684247<_0xf6fdf5;_0x684247++){if(rr['copy'](_0x46d491['atlasViewp'+'ort']),_0xf6fdf5>-0x2*0x126d+-0xa7+-0x2*-0x12c1){const _0x20d3fc=rr['z']/(0x1*-0x8c2+-0x25f*-0x8+0x7*-0x175),_0x565b3d=_0x12bc9a[_0x684247];rr['x']+=_0x20d3fc*_0x565b3d['x'],rr['y']+=_0x20d3fc*_0x565b3d['y'],rr['z']=_0x20d3fc,rr['w']=_0x20d3fc,this['invViewPro'+'jId']['setValue'](af[_0x684247]['data']);}rr['mulScalar'](_0x277fd2),_0x458a6f['render'](rr);}Q['popGpuMark'+'er'](_0x36dad1);}_0x50d231['length']=0x1089+0xa9*0x26+-0x1*0x299f;}}class Vb extends ys{constructor(_0x9a92d9,_0x41c767,_0x3e3d6e){super(_0x9a92d9),this['requiresCu'+'bemaps']=!(-0xd*0x1e7+0x28*0xc1+-0x56c),this['shadowRend'+'erer']=_0x41c767,this['shadowRend'+'ererLocal']=_0x3e3d6e;}['update'](_0x28d783){const _0xe0490c=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0xeace6e=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0xe0490c,_0x28d783),_0x4668cc=_0xe0490c['length'];this['enabled']=_0x4668cc>-0x47f*-0x3+0x2d2*-0x1+0x1*-0xaab,_0x4668cc&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0xeace6e,!(-0x2*-0xbc+-0x877+0x40*0x1c));}['execute'](){const _0x1f08a1=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x3e19f8=_0x1f08a1['length'];for(let _0xd45ba1=-0xef*-0x15+-0x3*-0x389+-0x1e36;_0xd45ba1<_0x3e19f8;_0xd45ba1++){const _0x5094c7=_0x1f08a1[_0xd45ba1];for(let _0x8b309a=-0x1d01+0x41f*0x2+0x14c3*0x1;_0x8b309a<_0x5094c7['numShadowF'+'aces'];_0x8b309a++)this['shadowRend'+'erer']['renderFace'](_0x5094c7,null,_0x8b309a,!(0x1*0xe98+-0x6c3+-0x1*0x7d5));}_0x1f08a1['length']=0x294+-0x240a+-0x2*-0x10bb;}}class Gb extends ys{constructor(_0x194d17,_0x4e3544,_0x2a9d0e,_0x1ece3d,_0x7d8179){super(_0x194d17),this['renderer']=_0x4e3544,this['frameGraph']=null,this['cookiesRen'+'derPass']=pm['create'](_0x7d8179['cookieRend'+'erTarget'],_0x7d8179['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new Vb(_0x194d17,_0x2a9d0e,_0x1ece3d),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x336a56,_0x5282e9,_0x32c218,_0x4d3571,_0x57e869){this['frameGraph']=_0x336a56,this['cookiesRen'+'derPass']['enabled']=_0x32c218,_0x32c218&&this['cookiesRen'+'derPass']['update'](_0x4d3571),this['shadowRend'+'erPass']['enabled']=_0x5282e9,_0x5282e9&&this['shadowRend'+'erPass']['update'](_0x57e869);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x1ac266=de(),{renderer:_0x3a097f}=this,{scene:_0x221743}=_0x3a097f;_0x3a097f['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x221743['lighting']),_0x3a097f['_lightClus'+'tersTime']+=de()-_0x1ac266,_0x3a097f['_lightClus'+'ters']=_0x3a097f['worldClust'+'ersAllocat'+'or']['count'];}}let nf=-0x26*-0xa3+-0x31+-0x1801;const ar=new te(),nr=new te(),Oa=new te(),q_=new _i(),of=new sp(),j_=new te()['setScale'](0x7f*0x8+0x733+-0xb2a,-(-0x6b*-0x3b+-0x901+0x1*-0xfa7),-0x1*-0x1302+0xb3*0x5+0x2d0*-0x8),lf=new Set(),cf=new Set(),hf=new ky(),Y_=new te()['set']([0x2b6+-0xd*0x1ff+0x173e,0x267b+0x1fb+-0x2876,0x2*-0x51b+0x47*-0x79+0x2bc5,0x1b99+-0x1349*-0x1+-0x22*0x161,0x25a1+0x9d6+-0x2f77,-0xd69+0x126f+0x505*-0x1,-0x3*-0x530+0x1ac8+-0x2a58,0x9*-0x16b+-0x17e+-0x29*-0x59,0x7*-0x503+-0x2106+-0x5*-0xd9f,-0x1073+0x1*-0x7f4+0x1867,0x43*-0x59+-0x1e15+0x3560+0.5,-0x8b9+0x25db+-0x2*0xe91,-0xee+-0x17*0x47+0x74f,-0x21a2+-0xd01*-0x2+0x7a0,-0x17e5+0x1393+-0x4f*-0xe+0.5,-0x2*0x3b0+-0x120+0x881]),K_=[new J(-0x9b*0x4+0x851*0x1+-0x5e5+0.5,-0xce1+0x2046+-0x1365+0.333333),new J(0xa32+0xb6e+-0x15a*0x10+0.25,0x213*0x12+-0x13*-0x6a+-0x2d34+0.666667),new J(-0xd*-0x57+-0x1e2+0x1*-0x289+0.75,0x1*0x1215+0xaae+-0x1cc3*0x1+0.111111),new J(0x1d*-0x1+-0x15e2+0x15ff+0.125,-0x1f*-0xed+0x983+-0x43*0x92+0.444444),new J(0x1871+0x1d47*-0x1+0x4d6*0x1+0.625,0x18*0x17f+0x2104+-0x44ec+0.777778),new J(0x1515*0x1+-0x1*-0xaea+-0x1fff+0.375,0x23c5*0x1+-0x1*0x26f9+0x334+0.222222),new J(0x1fc7+-0xc5*-0x10+-0x2c17+0.875,0x20*-0x123+-0xb*-0x7c+-0x4*-0x7c3+0.555556),new J(0x10ba+-0x1ab4+-0x9fa*-0x1+0.0625,0x2180+0x7*0x143+-0x2a55+0.888889),new J(-0x1651*-0x1+-0x189*-0x17+0x20*-0x1cd+0.5625,-0x390+0x14ac+-0x111c+0.037037),new J(0x197*-0x5+-0x1*0x26+0x819+0.3125,-0x10a1+-0x12bd+0x235e+0.37037),new J(-0x874+0x3*0xb77+-0x1d*0xe5+0.8125,-0xd*-0x1c1+-0x25fd+-0xd8*-0x12+0.703704),new J(-0x11be+0x10f1*-0x2+-0x2*-0x19d0+0.1875,0x1dbf+0x815*0x4+-0x3e13+0.148148),new J(0xd71+0x1188+-0x1ef9+0.6875,-0xcc3+0xf77+-0x2b4+0.481481),new J(0x45d*-0x1+-0x1f67*-0x1+-0x1b0a+0.4375,-0x98e+0x3ac+0x1*0x5e2+0.814815),new J(0x1*0x2498+0xf*-0x19d+-0xc65+0.9375,-0x1*-0x24c5+-0x8af+-0x1c16+0.259259),new J(-0x15+-0xa52+0xa67+0.03125,0x22*-0x1a+0x1a40+-0x4*0x5b3+0.592593)],Hb=new te(),Wb=new te(),$b=new te(),Xb=new te(),qb=new te(),jb=new te(),Fa=new Set(),df=[],ff=[];class Yb{constructor(_0x137034){h(this,'clustersDe'+'bugRendere'+'d',!(0x1*0x1047+-0x1*-0x1ad8+0x1*-0x2b1e)),h(this,'processing'+'MeshInstan'+'ces',new Set()),h(this,'worldClust'+'ersAllocat'+'or'),h(this,'lights',[]),h(this,'localLight'+'s',[]),h(this,'cameraDirS'+'hadowLight'+'s',new Map()),h(this,'dirLightSh'+'adows',new Map()),h(this,'blueNoise',new wb(0x27*-0xfb+-0x1093*-0x1+0x1625)),(this['device']=_0x137034,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new zb(_0x137034),this['lightTextu'+'reAtlas']=new Ib(_0x137034),this['shadowMapC'+'ache']=new Lb(),this['shadowRend'+'erer']=new Cv(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new Ob(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new kb(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new Gb(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=0x229*-0x3+0xd*0x168+0x13*-0x9f,this['_morphTime']=0x4c*0x4f+-0x4e4+-0x10*0x129,this['_cullTime']=0xf01+-0x114f*-0x2+-0x319f,this['_shadowMap'+'Time']=0x10*0xed+0x1*0xc01+-0x1ad1*0x1,this['_lightClus'+'tersTime']=0x6b*0xa+-0x530+0x102,this['_layerComp'+'ositionUpd'+'ateTime']=0x2011*0x1+0x1632+0x1d*-0x1df,this['_shadowDra'+'wCalls']=-0x5eb+0x271*0x5+0x23*-0x2e,this['_skinDrawC'+'alls']=0x2*0xc8e+0x71*-0x3b+0xef,this['_instanced'+'DrawCalls']=-0x5d5*0x1+-0x1*-0x1958+-0x1383,this['_shadowMap'+'Updates']=0xd*-0x173+0x174a+-0x473,this['_numDrawCa'+'llsCulled']=0x13*-0xc9+-0x8da+0x17c5,this['_camerasRe'+'ndered']=-0x114a+0x407+0xd43,this['_lightClus'+'ters']=0xc14+0x5*-0x1be+-0x1*0x35e);const _0xe0f42a=_0x137034['scope'];this['boneTextur'+'eId']=_0xe0f42a['resolve']('texture_po'+'seMap'),this['modelMatri'+'xId']=_0xe0f42a['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0xe0f42a['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0xe0f42a['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(-0x3*-0xcf+-0x16a0+0x1436),this['viewPosId']=_0xe0f42a['resolve']('view_posit'+'ion'),this['projId']=_0xe0f42a['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0xe0f42a['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0xe0f42a['resolve']('matrix_vie'+'w'),this['viewId3']=_0xe0f42a['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0xe0f42a['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0xe0f42a['resolve']('projection'+'FlipY'),this['tbnBasis']=_0xe0f42a['resolve']('tbnBasis'),this['nearClipId']=_0xe0f42a['resolve']('camera_nea'+'r'),this['farClipId']=_0xe0f42a['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(-0x139*0xb+-0x1*0xcc1+0x1a38),this['cameraPara'+'msId']=_0xe0f42a['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0xe0f42a['resolve']('view_index'),this['viewIndexI'+'d']['setValue'](0xf82+-0x160*0x7+-0x5e2),this['blueNoiseJ'+'itterVersi'+'on']=-0x2184+0x120f+0xf75,this['blueNoiseJ'+'itterVec']=new re(),this['blueNoiseJ'+'itterData']=new Float32Array(-0x16b0+-0x1a3d+0x30f1),this['blueNoiseJ'+'itterId']=_0xe0f42a['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0xe0f42a['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0xe0f42a['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0xe0f42a['resolve']('texture_op'+'acityMap'),this['exposureId']=_0xe0f42a['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0xe0f42a['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](-0x264e*-0x1+-0x7b0+-0x1e9e),this['morphPosit'+'ionTex']=_0xe0f42a['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0xe0f42a['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0xe0f42a['resolve']('morph_tex_'+'params'),this['lightCube']=new bb(),this['constantLi'+'ghtCube']=_0xe0f42a['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['setupViewp'+'ort'](_0x1b4c9f,_0x4efebe){const _0x4ae794=this['device'],_0x4a51ad=_0x4efebe?_0x4efebe['width']:_0x4ae794['width'],_0x3d2faa=_0x4efebe?_0x4efebe['height']:_0x4ae794['height'],_0x5b8d3a=_0x1b4c9f['rect'];let _0x34fd09=Math['floor'](_0x5b8d3a['x']*_0x4a51ad),_0x4dbfc3=Math['floor'](_0x5b8d3a['y']*_0x3d2faa),_0x391ef9=Math['floor'](_0x5b8d3a['z']*_0x4a51ad),_0x543e5e=Math['floor'](_0x5b8d3a['w']*_0x3d2faa);if(_0x4ae794['setViewpor'+'t'](_0x34fd09,_0x4dbfc3,_0x391ef9,_0x543e5e),_0x1b4c9f['_scissorRe'+'ctClear']){const _0x49264e=_0x1b4c9f['scissorRec'+'t'];_0x34fd09=Math['floor'](_0x49264e['x']*_0x4a51ad),_0x4dbfc3=Math['floor'](_0x49264e['y']*_0x3d2faa),_0x391ef9=Math['floor'](_0x49264e['z']*_0x4a51ad),_0x543e5e=Math['floor'](_0x49264e['w']*_0x3d2faa);}_0x4ae794['setScissor'](_0x34fd09,_0x4dbfc3,_0x391ef9,_0x543e5e);}['setCameraU'+'niforms'](_0x5642dc,_0x420bb7){var _0x19d120,_0x2d1e36;const _0x343c2b=_0x420bb7==null?void(0x1c1*-0xd+0x1*0xf1+0x4*0x577):_0x420bb7['flipY'];let _0x96e9b0=null;if(_0x5642dc['xr']&&_0x5642dc['xr']['session']){const _0x5c0c8b=((_0x2d1e36=(_0x19d120=_0x5642dc['_node'])==null?void(0x121*-0x1c+-0x3*0x86f+-0x38e9*-0x1):_0x19d120['parent'])==null?void(-0xa96+0x1f34+0xd*-0x196):_0x2d1e36['getWorldTr'+'ansform']())||null;_0x96e9b0=_0x5642dc['xr']['views']['list'];for(let _0x37abda=-0x8*0x137+0x7*0x373+0x1*-0xe6d;_0x37abda<_0x96e9b0['length'];_0x37abda++){const _0x5a85d0=_0x96e9b0[_0x37abda];_0x5a85d0['updateTran'+'sforms'](_0x5c0c8b),_0x5642dc['frustum']['setFromMat'+'4'](_0x5a85d0['projViewOf'+'fMat']);}}else{let _0x4ed632=_0x5642dc['projection'+'Matrix'];_0x5642dc['calculateP'+'rojection']&&_0x5642dc['calculateP'+'rojection'](_0x4ed632,ec);let _0x294d3e=_0x5642dc['getProject'+'ionMatrixS'+'kybox']();_0x343c2b&&(_0x4ed632=Hb['mul2'](j_,_0x4ed632),_0x294d3e=Wb['mul2'](j_,_0x294d3e)),this['device']['isWebGPU']&&(_0x4ed632=$b['mul2'](Y_,_0x4ed632),_0x294d3e=Xb['mul2'](Y_,_0x294d3e));const {jitter:_0x4371d0}=_0x5642dc;let _0x57e37e=-0x1636+0xa33+0xc03,_0x10480f=0x13*0x1cf+0x1a35+-0x1*0x3c92;if(_0x4371d0>-0x1*0x8c7+-0x1ed5+0x279c){const _0x43a13b=_0x420bb7?_0x420bb7['width']:this['device']['width'],_0x2ef752=_0x420bb7?_0x420bb7['height']:this['device']['height'],_0x5e0457=K_[this['device']['renderVers'+'ion']%K_['length']];_0x57e37e=_0x4371d0*(_0x5e0457['x']*(0xf9e*0x2+-0x485*-0x7+0x34f*-0x13)-(0x1*-0xb65+0x144f*0x1+-0x8e9))/_0x43a13b,_0x10480f=_0x4371d0*(_0x5e0457['y']*(0x1730+0x4*0x219+-0x382*0x9)-(-0x22b8+0x2307+-0x4e))/_0x2ef752,_0x4ed632=qb['copy'](_0x4ed632),_0x4ed632['data'][-0x1d*-0x1+-0x1*0x1a69+0x695*0x4]=_0x57e37e,_0x4ed632['data'][0x2513+0x19c0+-0x2f*0x156]=_0x10480f,_0x294d3e=jb['copy'](_0x294d3e),_0x294d3e['data'][-0x1677+-0xa8*-0x39+-0xee9]=_0x57e37e,_0x294d3e['data'][0x1046+-0x5*-0x3c3+-0x8c3*0x4]=_0x10480f,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x37cd57=_0x4371d0>0x1c*0x14e+-0x4*-0x11b+0x2*-0x147a?this['blueNoiseJ'+'itterVec']:re['ZERO'];if(this['blueNoiseJ'+'itterData'][0x3*-0x2bb+-0x2209+0x2a3a]=_0x37cd57['x'],this['blueNoiseJ'+'itterData'][0x367*-0x1+0x18c0+-0x1558]=_0x37cd57['y'],this['blueNoiseJ'+'itterData'][0x289*0x3+-0x20d3+0x193a]=_0x37cd57['z'],this['blueNoiseJ'+'itterData'][0x2*-0x52+-0x2172+0x1*0x2219]=_0x37cd57['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x4ed632['data']),this['projSkybox'+'Id']['setValue'](_0x294d3e['data']),_0x5642dc['calculateT'+'ransform'])_0x5642dc['calculateT'+'ransform'](nr,ec);else{const _0x366bab=_0x5642dc['_node']['getPositio'+'n'](),_0x3e9606=_0x5642dc['_node']['getRotatio'+'n']();nr['setTRS'](_0x366bab,_0x3e9606,D['ONE']);}this['viewInvId']['setValue'](nr['data']),Oa['copy'](nr)['invert'](),this['viewId']['setValue'](Oa['data']),q_['setFromMat'+'4'](Oa),this['viewId3']['setValue'](q_['data']),ar['mul2'](_0x4ed632,Oa),this['viewProjId']['setValue'](ar['data']),_0x5642dc['_storeShad'+'erMatrices'](ar,_0x57e37e,_0x10480f,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x343c2b?-(-0xb70*0x1+0x1a48+-0xed7):0x2e9+0x26d7+0x29bf*-0x1),this['dispatchVi'+'ewPos'](_0x5642dc['_node']['getPositio'+'n']()),_0x5642dc['frustum']['setFromMat'+'4'](ar);}this['tbnBasis']['setValue'](_0x343c2b?-(0xca1+-0x2*-0x2b0+-0x1200):0x268f+-0xc42+-0x1a4c);const _0x3b238e=_0x5642dc['_nearClip'],_0x4b5fb7=_0x5642dc['_farClip'];return this['nearClipId']['setValue'](_0x3b238e),this['farClipId']['setValue'](_0x4b5fb7),this['cameraPara'+'ms'][0x1056+0x9e*0x1f+-0x11bc*0x2]=(-0x4fc*-0x4+0x1f67*-0x1+0xb78)/_0x4b5fb7,this['cameraPara'+'ms'][-0x207e+-0x1f*-0x75+0x1254]=_0x4b5fb7,this['cameraPara'+'ms'][0x4ec*-0x1+0x1e07+-0x1919]=_0x3b238e,this['cameraPara'+'ms'][0x12df+0x950+0x4b2*-0x6]=_0x5642dc['projection']===En?0xd*0x133+0x1328+0x22be*-0x1:-0x24cc+-0x168a+-0x1dab*-0x2,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x5642dc['getExposur'+'e']():this['scene']['exposure']),_0x96e9b0;}['clear'](_0x79c279,_0x4d543f,_0x205853,_0x59e988){const _0x1dac64=(_0x4d543f??_0x79c279['_clearColo'+'rBuffer']?jo:-0x4*0x6f7+0x6fd*0x3+0x1*0x6e5)|(_0x205853??_0x79c279['_clearDept'+'hBuffer']?Yo:0x47b+-0x140e+0xf93)|(_0x59e988??_0x79c279['_clearSten'+'cilBuffer']?ch:0x16*-0xaf+-0x194d+-0x1*-0x2857);if(_0x1dac64){const _0x3d26ed=this['device'];Q['pushGpuMar'+'ker'](_0x3d26ed,'CLEAR'),_0x3d26ed['clear']({'color':[_0x79c279['_clearColo'+'r']['r'],_0x79c279['_clearColo'+'r']['g'],_0x79c279['_clearColo'+'r']['b'],_0x79c279['_clearColo'+'r']['a']],'depth':_0x79c279['_clearDept'+'h'],'stencil':_0x79c279['_clearSten'+'cil'],'flags':_0x1dac64}),Q['popGpuMark'+'er'](_0x3d26ed);}}['setCamera'](_0x152381,_0x2a3da7,_0x429c38,_0x27b1cb=null){this['setCameraU'+'niforms'](_0x152381,_0x2a3da7),this['clearView'](_0x152381,_0x2a3da7,_0x429c38,!(-0x94*-0x1+0x1587+-0x2e*0x7b));}['clearView'](_0x4bba63,_0x58585d,_0x511609,_0x5da544){const _0x4f391e=this['device'];if(Q['pushGpuMar'+'ker'](_0x4f391e,'CLEAR-VIEW'),_0x4f391e['setRenderT'+'arget'](_0x58585d),_0x4f391e['updateBegi'+'n'](),_0x5da544&&(_0x4f391e['setColorWr'+'ite'](!(0x2f*-0xb2+0x33f+0xb*0x2ad),!(0x1b8+-0xe17*-0x1+-0xfcf),!(-0x1790+-0xb9d+0x709*0x5),!(-0x7*0x3b7+0x481*0x1+0x8*0x2b0)),_0x4f391e['setDepthWr'+'ite'](!(0x1*-0x8df+-0x133*-0xb+-0x452))),this['setupViewp'+'ort'](_0x4bba63,_0x58585d),_0x511609){const _0x54a01d=_0x4bba63['_clearOpti'+'ons'];_0x4f391e['clear'](_0x54a01d||{'color':[_0x4bba63['_clearColo'+'r']['r'],_0x4bba63['_clearColo'+'r']['g'],_0x4bba63['_clearColo'+'r']['b'],_0x4bba63['_clearColo'+'r']['a']],'depth':_0x4bba63['_clearDept'+'h'],'flags':(_0x4bba63['_clearColo'+'rBuffer']?jo:0x20e4+0x25a9+0x1*-0x468d)|(_0x4bba63['_clearDept'+'hBuffer']?Yo:0x2277+0x25a5+-0x481c)|(_0x4bba63['_clearSten'+'cilBuffer']?ch:0x805+0x204c+-0x2851*0x1),'stencil':_0x4bba63['_clearSten'+'cil']});}Q['popGpuMark'+'er'](_0x4f391e);}['setupCullM'+'ode'](_0x4993f4,_0x1fd7f8,_0x5dc278){const _0x49bfdf=_0x5dc278['material'];let _0x3622c1=bt;if(_0x4993f4){let _0x4dd126=-0x17*-0x41+-0x6*-0x65e+0x6*-0x757;(_0x49bfdf['cull']===Fo||_0x49bfdf['cull']===pa)&&(_0x4dd126=_0x1fd7f8*_0x5dc278['flipFacesF'+'actor']*_0x5dc278['node']['worldScale'+'Sign']),_0x4dd126<0xed0+-0xe5d*0x2+-0x89*-0x1a?_0x3622c1=_0x49bfdf['cull']===Fo?pa:Fo:_0x3622c1=_0x49bfdf['cull'];}this['device']['setCullMod'+'e'](_0x3622c1),_0x3622c1===bt&&_0x49bfdf['cull']===bt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x5dc278['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x2f0db8){if(_0x2f0db8['xr']&&_0x2f0db8['xr']['views']['list']['length']){const _0x45981a=_0x2f0db8['xr']['views']['list'][0x420+-0x1a1d+0x1*0x15fd];ar['mul2'](_0x45981a['projMat'],_0x45981a['viewOffMat']),_0x2f0db8['frustum']['setFromMat'+'4'](ar);return;}const _0x557607=_0x2f0db8['projection'+'Matrix'];if(_0x2f0db8['calculateP'+'rojection']&&_0x2f0db8['calculateP'+'rojection'](_0x557607,ec),_0x2f0db8['calculateT'+'ransform'])_0x2f0db8['calculateT'+'ransform'](nr,ec);else{const _0x2628c3=_0x2f0db8['_node']['getPositio'+'n'](),_0x1ebc1d=_0x2f0db8['_node']['getRotatio'+'n']();nr['setTRS'](_0x2628c3,_0x1ebc1d,D['ONE']),this['viewInvId']['setValue'](nr['data']);}Oa['copy'](nr)['invert'](),ar['mul2'](_0x557607,Oa),_0x2f0db8['frustum']['setFromMat'+'4'](ar);}['setBaseCon'+'stants'](_0x81a067,_0x2af497){_0x81a067['setCullMod'+'e'](_0x2af497['cull']),_0x2af497['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x2af497['opacityMap']),(_0x2af497['opacityMap']||_0x2af497['alphaTest']>0x1457+-0x46*-0x3+-0x1529)&&this['alphaTestI'+'d']['setValue'](_0x2af497['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x424548){nf++;const _0x56a76c=_0x424548['length'];if(_0x56a76c===-0x20*-0xae+0x17fc+-0x2*0x16de)return;const _0x5693df=de();for(let _0x37ec6f=0x1*-0x16a6+0x21e2+0x4*-0x2cf;_0x37ec6f<_0x56a76c;_0x37ec6f++){const _0x3799f7=_0x424548[_0x37ec6f]['skinInstan'+'ce'];_0x3799f7&&(_0x3799f7['updateMatr'+'ices'](_0x424548[_0x37ec6f]['node'],nf),_0x3799f7['_dirty']=!(-0x1084+-0x2*0x27+0x10d2));}this['_skinTime']+=de()-_0x5693df;}['updateGpuS'+'kinMatrice'+'s'](_0xf17033){const _0x76473=de();for(const _0x18cb21 of _0xf17033){const _0x34bef6=_0x18cb21['skinInstan'+'ce'];_0x34bef6&&_0x34bef6['_dirty']&&(_0x34bef6['updateMatr'+'ixPalette'](_0x18cb21['node'],nf),_0x34bef6['_dirty']=!(0x105*-0xb+-0x120a+0x1d42));}this['_skinTime']+=de()-_0x76473;}['updateMorp'+'hing'](_0x15be89){const _0x1d513c=de();for(const _0x53e4dd of _0x15be89){const _0x1a24ac=_0x53e4dd['morphInsta'+'nce'];_0x1a24ac&&_0x1a24ac['_dirty']&&_0x1a24ac['update']();}this['_morphTime']+=de()-_0x1d513c;}['updateGSpl'+'ats'](_0x1028ff){var _0x58d4a8;for(const _0x532b5e of _0x1028ff)(_0x58d4a8=_0x532b5e['gsplatInst'+'ance'])==null||_0x58d4a8['update']();}['gpuUpdate'](_0xc12417){this['updateGpuS'+'kinMatrice'+'s'](_0xc12417),this['updateMorp'+'hing'](_0xc12417),this['updateGSpl'+'ats'](_0xc12417);}['setVertexB'+'uffers'](_0xbe1150,_0x1e994d){_0xbe1150['setVertexB'+'uffer'](_0x1e994d['vertexBuff'+'er']);}['setMorphin'+'g'](_0x1a84a2,_0x35e628){_0x35e628&&(_0x35e628['prepareRen'+'dering'](_0x1a84a2),_0x1a84a2['setVertexB'+'uffer'](_0x35e628['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x35e628['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x35e628['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x35e628['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x57fd85,_0x17edf0){const _0x9074da=_0x17edf0['skinInstan'+'ce'];if(_0x9074da){this['_skinDrawC'+'alls']++;const _0x1dba4b=_0x9074da['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x1dba4b);}}['dispatchVi'+'ewPos'](_0x9754ef){const _0x6131e0=this['viewPos'];_0x6131e0[-0x1ccb+-0x1*0x2669+-0xbb*-0x5c]=_0x9754ef['x'],_0x6131e0[-0x2*-0xd+-0x200b+0x1ff2]=_0x9754ef['y'],_0x6131e0[-0x257e+0xf0f+0x1671*0x1]=_0x9754ef['z'],this['viewPosId']['setValue'](_0x6131e0);}['initViewBi'+'ndGroupFor'+'mat'](_0x513818){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x8da644=[new dt('matrix_vie'+'w',li),new dt('matrix_vie'+'wInverse',li),new dt('matrix_pro'+'jection',li),new dt('matrix_pro'+'jectionSky'+'box',li),new dt('matrix_vie'+'wProjectio'+'n',li),new dt('matrix_vie'+'w3',On),new dt('cubeMapRot'+'ationMatri'+'x',On),new dt('view_posit'+'ion',ds),new dt('skyboxInte'+'nsity',Xs),new dt('exposure',Xs),new dt('textureBia'+'s',Xs),new dt('view_index',Xs)];_0x513818&&_0x8da644['push'](new dt('clusterCel'+'lsCountByB'+'oundsSize',ds),new dt('clusterTex'+'tureSize',ds),new dt('clusterBou'+'ndsMin',ds),new dt('clusterBou'+'ndsDelta',ds),new dt('clusterCel'+'lsDot',ds),new dt('clusterCel'+'lsMax',ds),new dt('shadowAtla'+'sParams',ga),new dt('clusterMax'+'Cells',_a),new dt('clusterSki'+'p',Xs)),this['viewUnifor'+'mFormat']=new zy(this['device'],_0x8da644);const _0x26f5b0=[new kp(Np,Fp|by)];this['viewBindGr'+'oupFormat']=new Ny(this['device'],_0x26f5b0);}}['setupViewU'+'niforms'](_0x51b45f,_0x491052){this['projId']['setValue'](_0x51b45f['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x51b45f['projMat']['data']),this['viewId']['setValue'](_0x51b45f['viewOffMat']['data']),this['viewInvId']['setValue'](_0x51b45f['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x51b45f['viewMat3']['data']),this['viewProjId']['setValue'](_0x51b45f['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x51b45f['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x491052);}['setupViewU'+'niformBuff'+'ers'](_0x516452,_0x1c4bd4,_0x27f68d,_0x23362b){w['assert'](Array['isArray'](_0x516452),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const {device:_0x1026aa}=this,_0x129938=(_0x23362b==null?void(0x1719*0x1+-0x51f*-0x7+-0x2*0x1d79):_0x23362b['length'])??-0x1*-0x2666+0x7*-0x1e9+-0x2*0xc83;for(;_0x516452['length']<_0x129938;){const _0xaece9e=new zp(_0x1026aa,_0x1c4bd4,!(0x1210*-0x2+-0xd6*0x27+0xdbf*0x5)),_0x5b1f74=new Up(_0x1026aa,_0x27f68d,_0xaece9e);Ea['setName'](_0x5b1f74,'ViewBindGr'+'oup_'+_0x5b1f74['id']),_0x516452['push'](_0x5b1f74);}if(_0x23362b)for(let _0x4d09a3=0x16a*-0xb+-0x1ee3*0x1+0x1*0x2e71;_0x4d09a3<_0x129938;_0x4d09a3++){const _0x2260d0=_0x23362b[_0x4d09a3];this['setupViewU'+'niforms'](_0x2260d0,_0x4d09a3);const _0x3cf4da=_0x516452[_0x4d09a3];_0x3cf4da['defaultUni'+'formBuffer']['update'](),_0x3cf4da['update']();}else{const _0x22c6ee=_0x516452[0x1f*-0x45+-0x9d6*0x3+0x1b*0x167];_0x22c6ee['defaultUni'+'formBuffer']['update'](),_0x22c6ee['update']();}_0x23362b||_0x1026aa['setBindGro'+'up'](rl,_0x516452[-0x3d9+0x64a+-0x271]);}['setupMeshU'+'niformBuff'+'ers'](_0x15f01e){const _0x2d41de=this['device'];if(_0x2d41de['supportsUn'+'iformBuffe'+'rs']){const _0x2b7d9c=_0x15f01e['getBindGro'+'up'](_0x2d41de);_0x2b7d9c['update'](),_0x2d41de['setBindGro'+'up'](Oy,_0x2b7d9c),_0x15f01e['getUniform'+'Buffer'](_0x2d41de)['update'](hf),_0x2d41de['setBindGro'+'up'](su,hf['bindGroup'],hf['offsets']);}}['setMeshIns'+'tanceMatri'+'ces'](_0x13d216,_0x11b9d5=!(0x19b3+0x2dd*0x3+-0x43*0x83)){const _0x406ab3=_0x13d216['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x406ab3['data']),_0x11b9d5&&this['normalMatr'+'ixId']['setValue'](_0x13d216['node']['normalMatr'+'ix']['data']);}['cull'](_0x4f67e2,_0x354438,_0x5a9a98){const _0x176a35=de(),_0xde3b46=_0x5a9a98['opaque'];_0xde3b46['length']=-0x71f+-0x1468+0x1b87;const _0x4d7e80=_0x5a9a98['transparen'+'t'];_0x4d7e80['length']=0x27b*-0x1+0x985+-0x70a;const _0x5d5caa=_0x4f67e2['frustumCul'+'ling'],_0x4943d4=_0x354438['length'];for(let _0x2b9410=-0x23a4+-0x5e8*0x3+-0x4*-0xd57;_0x2b9410<_0x4943d4;_0x2b9410++){const _0x5ef4fc=_0x354438[_0x2b9410];_0x5ef4fc['visible']&&(!_0x5d5caa||!_0x5ef4fc['cull']||_0x5ef4fc['_isVisible'](_0x4f67e2))&&(_0x5ef4fc['visibleThi'+'sFrame']=!(0xe*-0x3e+0x2*-0x70+0x444),(_0x5ef4fc['transparen'+'t']?_0x4d7e80:_0xde3b46)['push'](_0x5ef4fc),(_0x5ef4fc['skinInstan'+'ce']||_0x5ef4fc['morphInsta'+'nce']||_0x5ef4fc['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x5ef4fc),_0x5ef4fc['gsplatInst'+'ance']&&_0x5ef4fc['gsplatInst'+'ance']['cameras']['push'](_0x4f67e2)));}this['_cullTime']+=de()-_0x176a35,this['_numDrawCa'+'llsCulled']+=_0x5d5caa?_0x4943d4:0x6c3*-0x1+-0x2143+0x5e*0x6d;}['collectLig'+'hts'](_0x2bd623){this['lights']['length']=-0x469*0x3+0x1*-0xd85+0x1ac0,this['localLight'+'s']['length']=-0x2d*0xab+-0x6*-0x1ee+-0xf9*-0x13;const _0xd7f4f0=this['scene']['_stats'];_0xd7f4f0['dynamicLig'+'hts']=-0x571+0x33*0x4a+0x1*-0x94d,_0xd7f4f0['bakedLight'+'s']=0x5*0x45d+-0xa5b+0x3d2*-0x3;const _0x501b9e=_0x2bd623['layerList']['length'];for(let _0x872fc=0x17b3*-0x1+-0x23+0x153*0x12;_0x872fc<_0x501b9e;_0x872fc++){const _0x560e10=_0x2bd623['layerList'][_0x872fc];if(!cf['has'](_0x560e10)){cf['add'](_0x560e10);const _0x19d4e7=_0x560e10['_lights'];for(let _0x4d86d6=-0x76*-0x3b+0xd9*-0x1+-0x1a59;_0x4d86d6<_0x19d4e7['length'];_0x4d86d6++){const _0x2dc998=_0x19d4e7[_0x4d86d6];lf['has'](_0x2dc998)||(lf['add'](_0x2dc998),this['lights']['push'](_0x2dc998),_0x2dc998['_type']!==ve&&this['localLight'+'s']['push'](_0x2dc998),(_0x2dc998['mask']&Ss||_0x2dc998['mask']&di)&&_0xd7f4f0['dynamicLig'+'hts']++,_0x2dc998['mask']&fi&&_0xd7f4f0['bakedLight'+'s']++);}}}_0xd7f4f0['lights']=this['lights']['length'],lf['clear'](),cf['clear']();}['cullLights'](_0x569140,_0x135eac){const _0x2d34e1=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x100dc9=this['scene']['physicalUn'+'its'];for(let _0xd8a911=-0x21bd+-0x13*-0x16f+-0x2*-0x340;_0xd8a911<_0x135eac['length'];_0xd8a911++){const _0x46ac44=_0x135eac[_0xd8a911];if(_0x46ac44['enabled']){if(_0x46ac44['_type']!==ve){if(_0x46ac44['getBoundin'+'gSphere'](of),_0x569140['frustum']['containsSp'+'here'](of)){_0x46ac44['visibleThi'+'sFrame']=!(-0x252a*-0x1+-0x1b4e+-0x277*0x4),_0x46ac44['usePhysica'+'lUnits']=_0x100dc9;const _0x4b5b0d=_0x569140['getScreenS'+'ize'](of);_0x46ac44['maxScreenS'+'ize']=Math['max'](_0x46ac44['maxScreenS'+'ize'],_0x4b5b0d);}else _0x2d34e1||_0x46ac44['castShadow'+'s']&&!_0x46ac44['shadowMap']&&(_0x46ac44['visibleThi'+'sFrame']=!(0x20a3*0x1+0x1ed5+-0xc*0x54a));}else _0x46ac44['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x51d247){const _0x7bb55c=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x31468e=0x1f9e*-0x1+-0x2f5*0x2+-0x2*-0x12c4;_0x31468e<this['localLight'+'s']['length'];_0x31468e++){const _0x45fad1=this['localLight'+'s'][_0x31468e];_0x45fad1['_type']!==ve&&(_0x7bb55c?_0x45fad1['atlasSlotU'+'pdated']&&_0x45fad1['shadowUpda'+'teMode']===Ps&&(_0x45fad1['shadowUpda'+'teMode']=xr):_0x45fad1['shadowUpda'+'teMode']===Ps&&_0x45fad1['castShadow'+'s']&&(_0x45fad1['getRenderD'+'ata'](null,0x1175+0x16d8+-0x284d)['shadowCame'+'ra']['renderTarg'+'et']||(_0x45fad1['shadowUpda'+'teMode']=xr)),_0x45fad1['visibleThi'+'sFrame']&&_0x45fad1['castShadow'+'s']&&_0x45fad1['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x45fad1,_0x51d247));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x5cbf6d=_0x51d247['cameras'];for(let _0x22cfe5=-0x379+0x1cd3+-0x195a;_0x22cfe5<_0x5cbf6d['length'];_0x22cfe5++){const _0x472755=_0x5cbf6d[_0x22cfe5];if(_0x472755['enabled']){const _0x5571d7=_0x472755['camera'];let _0x62bf84;const _0x53488d=_0x5571d7['layers'];for(let _0x140980=-0x25bb+-0xf6b+-0x1*-0x3526;_0x140980<_0x53488d['length'];_0x140980++){const _0x4accf8=_0x51d247['getLayerBy'+'Id'](_0x53488d[_0x140980]);if(_0x4accf8){const _0x37281b=_0x4accf8['splitLight'+'s'][ve];for(let _0xe0caee=-0x1a9+0x281*0x3+-0x5da*0x1;_0xe0caee<_0x37281b['length'];_0xe0caee++){const _0x2133c8=_0x37281b[_0xe0caee];_0x2133c8['castShadow'+'s']&&!Fa['has'](_0x2133c8)&&(Fa['add'](_0x2133c8),_0x62bf84=_0x62bf84??[],_0x62bf84['push'](_0x2133c8),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x2133c8,_0x51d247,_0x5571d7));}}}_0x62bf84&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x5571d7,_0x62bf84),Fa['clear']();}}}['cullCompos'+'ition'](_0x520e3e){const _0x3d51a1=de(),{scene:_0x5dce47}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x16be2d=_0x520e3e['cameras']['length'];this['_camerasRe'+'ndered']+=_0x16be2d;for(let _0x58ebd8=-0xd6*-0x20+0x1*-0x18cc+-0x1f4;_0x58ebd8<_0x16be2d;_0x58ebd8++){const _0x1a075c=_0x520e3e['cameras'][_0x58ebd8];_0x5dce47==null||_0x5dce47['fire'](mv,_0x1a075c);const _0x49e869=_0x1a075c['renderTarg'+'et'];_0x1a075c['frameUpdat'+'e'](_0x49e869),this['updateCame'+'raFrustum'](_0x1a075c['camera']);const _0x3c30f9=_0x1a075c['layers'];for(let _0x3dfc9e=-0x1d56+-0x283*0x9+0x33f1*0x1;_0x3dfc9e<_0x3c30f9['length'];_0x3dfc9e++){const _0xc93989=_0x520e3e['getLayerBy'+'Id'](_0x3c30f9[_0x3dfc9e]);if(_0xc93989&&_0xc93989['enabled']){this['cullLights'](_0x1a075c['camera'],_0xc93989['_lights']);const _0x2c4e45=_0xc93989['getCulledI'+'nstances'](_0x1a075c['camera']);this['cull'](_0x1a075c['camera'],_0xc93989['meshInstan'+'ces'],_0x2c4e45);}}_0x5dce47==null||_0x5dce47['fire'](_v,_0x1a075c);}_0x5dce47['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x520e3e),_0x5dce47==null||_0x5dce47['fire'](lE),this['_cullTime']+=de()-_0x3d51a1;}['updateShad'+'ers'](_0x1d90fe,_0x41a554){const _0x48b8aa=_0x1d90fe['length'];for(let _0x4affb8=-0x123+0x8fe+-0x7db;_0x4affb8<_0x48b8aa;_0x4affb8++){const _0x354089=_0x1d90fe[_0x4affb8]['material'];if(_0x354089&&!Fa['has'](_0x354089)&&(Fa['add'](_0x354089),_0x354089['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant'])){if(_0x41a554&&(!_0x354089['useLightin'+'g']||_0x354089['emitter']&&!_0x354089['emitter']['lighting']))continue;_0x354089['clearVaria'+'nts']();}}Fa['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](Pb(this['device']));}['beginFrame'](_0x1430c4){const _0xb9f002=this['scene'],_0xb7b26e=_0xb9f002['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x5136ef=-0x1e4d+-0x7ab+0x78*0x51;const _0xdc102b=_0x1430c4['layerList'],_0xb120fd=_0xdc102b['length'];for(let _0xf68072=0x440+0x15f1+-0x1bf*0xf;_0xf68072<_0xb120fd;_0xf68072++){const _0x26004d=_0xdc102b[_0xf68072]['meshInstan'+'ces'],_0x3b517b=_0x26004d['length'];_0x5136ef+=_0x3b517b;for(let _0x2c8e05=0x1*0x3b9+-0x1*-0x392+0x74b*-0x1;_0x2c8e05<_0x3b517b;_0x2c8e05++){const _0x5a1055=_0x26004d[_0x2c8e05];_0x5a1055['visibleThi'+'sFrame']=!(0x301*0xa+0xa17*-0x1+0x353*-0x6),_0xb7b26e&&df['push'](_0x5a1055),_0x5a1055['skinInstan'+'ce']&&ff['push'](_0x5a1055);}}if(_0xb9f002['_stats']['meshInstan'+'ces']=_0x5136ef,_0xb7b26e){const _0x1dc585=!_0xb9f002['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](df,_0x1dc585),_0xb9f002['updateShad'+'ers']=!(-0x12a5+0x3*0xb11+-0xe8d),this['device']['_shadersDi'+'rty']=!(-0x338+0xa50+-0x717),_0xb9f002['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](ff),df['length']=0x3e*0x4+-0x83b+0x743,ff['length']=-0x1*0x1109+-0x243a*0x1+0x11c1*0x3;const _0x2d3571=this['lights'],_0x9939e4=_0x2d3571['length'];for(let _0x50bdc3=0x5a*-0x17+0x8e1*-0x1+-0x1*-0x10f7;_0x50bdc3<_0x9939e4;_0x50bdc3++)_0x2d3571[_0x50bdc3]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x22efda){const _0x4afbfd=de(),_0x82314=_0x22efda['layerList']['length'],_0x290144=this['scene']['_shaderVer'+'sion'];for(let _0x2c7a4f=0xecf+-0x1d09*-0x1+-0x2bd8;_0x2c7a4f<_0x82314;_0x2c7a4f++){const _0x54e079=_0x22efda['layerList'][_0x2c7a4f];_0x54e079['_shaderVer'+'sion']=_0x290144,_0x54e079['_skipRende'+'rCounter']=-0x149+0xb*-0xd3+0x212*0x5,_0x54e079['_forwardDr'+'awCalls']=0x86e+0x262b*0x1+-0x2e99,_0x54e079['_shadowDra'+'wCalls']=-0x25*-0xa6+-0x5*-0x6d3+0x105*-0x39,_0x54e079['_renderTim'+'e']=0x10d*-0xb+-0x15b*-0x13+-0xe32;}_0x22efda['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=de()-_0x4afbfd;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(-0x1a60+-0x24d1+0x3f32),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class Pv{constructor(){h(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(0x10c+0x236c+0x1*-0x2477),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(-0xd68*-0x1+-0x9*-0x40+-0xfa7),this['clearDepth']=!(0x1*-0xf8e+-0x67*-0x23+-0x15*-0x12),this['clearStenc'+'il']=!(-0x37b+-0x1922+0x25*0xc6),this['triggerPos'+'tprocess']=!(0x11a9+-0x2251+-0x10a9*-0x1),this['firstCamer'+'aUse']=!(0x6*0x59f+-0x581*-0x4+-0x13*0x2ef),this['lastCamera'+'Use']=!(-0x1421+0x24d6+-0x10b4),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(-0x1*0x2523+0xfda+0x154a));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x4dd0b8=>{_0x4dd0b8['defaultUni'+'formBuffer']['destroy'](),_0x4dd0b8['destroy']();}),this['viewBindGr'+'oups']['length']=-0x2c*-0x4b+-0x1565+0x137*0x7;}['setupClear'+'s'](_0x5cb849,_0x359966){this['clearColor']=(_0x5cb849==null?void(-0x1381*0x2+-0x1c*0xbf+0x3be6):_0x5cb849['clearColor'+'Buffer'])||_0x359966['clearColor'+'Buffer'],this['clearDepth']=(_0x5cb849==null?void(0x2f*0x1+0x18d3+0x42b*-0x6):_0x5cb849['clearDepth'+'Buffer'])||_0x359966['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x5cb849==null?void(-0x1f7d*0x1+-0x84f*-0x1+0x17*0x102):_0x5cb849['clearStenc'+'ilBuffer'])||_0x359966['clearStenc'+'ilBuffer'];}}class Kb extends ys{constructor(_0x52cf8e,_0xd87971,_0x47400d,_0x103f49){super(_0x52cf8e),h(this,'layerCompo'+'sition'),h(this,'scene'),h(this,'renderer'),h(this,'renderActi'+'ons',[]),h(this,'gammaCorre'+'ction'),h(this,'toneMappin'+'g'),h(this,'noDepthCle'+'ar',!(-0xcaa+0x102+0x1*0xba9)),(this['layerCompo'+'sition']=_0xd87971,this['scene']=_0x47400d,this['renderer']=_0x103f49);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>0x2*0x989+0x63*-0x2f+0x1*-0xe5;}['addRenderA'+'ction'](_0x31c1d4){this['renderActi'+'ons']['push'](_0x31c1d4);}['addLayer'](_0x5afc59,_0x50862d,_0x62d561,_0x294616=!(0xbbc*0x1+-0x99f+0x1*-0x21d)){w['assert'](_0x5afc59),w['assert'](this['renderTarg'+'et']!==void(-0x12cd*0x1+0xe*-0xa9+0x1c0b),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),w['assert'](_0x5afc59['camera']['layersSet']['has'](_0x50862d['id']),'Camera\x20'+_0x5afc59['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x50862d['name']+'.');const _0xe67eee=new Pv();if(_0xe67eee['renderTarg'+'et']=this['renderTarg'+'et'],_0xe67eee['camera']=_0x5afc59,_0xe67eee['layer']=_0x50862d,_0xe67eee['transparen'+'t']=_0x62d561,_0x294616){const _0x4aa940=this['renderActi'+'ons']['length']===-0x700+0x1a3a+-0x133a;_0xe67eee['setupClear'+'s'](_0x4aa940?_0x5afc59:void(0x1*0xbc6+0x3*0x1cf+0x1*-0x1133),_0x50862d);}this['addRenderA'+'ction'](_0xe67eee);}['addLayers'](_0x2ee4e8,_0x3a2a1f,_0x42fc62,_0x1e565e,_0x25505a,_0x11e7e0=!(-0x13b7+0x1d4e+0x1eb*-0x5)){const {layerList:_0x2bb772,subLayerList:_0x8b10ec}=_0x2ee4e8;let _0x1990d1=_0x1e565e,_0x1cb161=_0x42fc62;for(;_0x1cb161<_0x2bb772['length'];){const _0x598429=_0x2bb772[_0x1cb161],_0x288465=_0x8b10ec[_0x1cb161];if(_0x3a2a1f['camera']['layersSet']['has'](_0x598429['id'])&&(this['addLayer'](_0x3a2a1f,_0x598429,_0x288465,_0x1990d1),_0x1990d1=!(0x228e+0x6a1*0x1+-0x1497*0x2)),_0x1cb161++,_0x598429['id']===_0x25505a&&_0x288465===_0x11e7e0)break;}return _0x1cb161;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x951ec3,renderActions:_0x4f6035}=this;for(let _0xb9bc27=-0x703*-0x1+0x129f+-0x19a2;_0xb9bc27<_0x4f6035['length'];_0xb9bc27++){const _0x35b85f=_0x4f6035[_0xb9bc27]['camera']['camera'],_0x2f12cc=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x35b85f);if(_0x2f12cc)for(let _0x542d72=0xa94+-0x64*0x4f+0x1448;_0x542d72<_0x2f12cc['length'];_0x542d72++){const _0x3473c8=_0x2f12cc[_0x542d72];if(_0x951ec3['dirLightSh'+'adows']['get'](_0x3473c8)!==_0x35b85f){_0x951ec3['dirLightSh'+'adows']['set'](_0x3473c8,_0x35b85f);const _0x5957e6=_0x951ec3['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x3473c8,_0x35b85f);_0x5957e6&&this['beforePass'+'es']['push'](_0x5957e6);}}}}['updateClea'+'rs'](){const _0x401977=this['renderActi'+'ons'][0x27*0x26+0x10c8+-0x1692];if(_0x401977){const _0x9f91d6=_0x401977['camera']['camera'],_0x3550c4=_0x9f91d6['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x3550c4&&_0x401977['clearColor']?_0x9f91d6['clearColor']:void(-0x1388+0x1be5+-0x85d)),this['setClearDe'+'pth'](_0x3550c4&&_0x401977['clearDepth']&&!this['noDepthCle'+'ar']?_0x9f91d6['clearDepth']:void(0x1a0f+0x1*-0x172f+-0x17*0x20)),this['setClearSt'+'encil'](_0x3550c4&&_0x401977['clearStenc'+'il']?_0x9f91d6['clearStenc'+'il']:void(-0x35*0x15+-0x1*0x12e1+0x3*0x7be));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x1acb3b}=this;for(let _0x598cc4=0x5*0x43b+-0xdcf+-0xeb*0x8;_0x598cc4<_0x1acb3b['length'];_0x598cc4++){const _0x162eec=_0x1acb3b[_0x598cc4];_0x162eec['firstCamer'+'aUse']&&this['scene']['fire'](rE,_0x162eec['camera']);}}['execute'](){const {layerComposition:_0x2bd1bc,renderActions:_0x4b66b1}=this;for(let _0x179563=0x64a*-0x3+-0x25*-0x109+-0x136f;_0x179563<_0x4b66b1['length'];_0x179563++){const _0x20d416=_0x4b66b1[_0x179563],_0x52a9fd=_0x20d416['layer'];w['call'](()=>{_0x2bd1bc['getLayerBy'+'Name'](_0x52a9fd['name'])||w['warnOnce']('Layer\x20'+_0x52a9fd['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x2bd1bc['isEnabled'](_0x52a9fd,_0x20d416['transparen'+'t'])&&this['renderRend'+'erAction'](_0x20d416,_0x179563===-0xba*0x35+-0x5f*-0x25+0x18c7);}}['after'](){for(let _0x214428=0x124*0x9+0x27*0x3+-0x3d*0x2d;_0x214428<this['renderActi'+'ons']['length'];_0x214428++){const _0x31f7ea=this['renderActi'+'ons'][_0x214428];_0x31f7ea['lastCamera'+'Use']&&this['scene']['fire'](aE,_0x31f7ea['camera']);}this['beforePass'+'es']['length']=-0x11e4+0x2047+-0xe63;}['renderRend'+'erAction'](_0x49a533,_0x5b650a){var _0x3a177d;const {renderer:_0x36b89d,scene:_0xaa151d}=this,_0x8250ee=_0x36b89d['device'],{layer:_0x3ec0c2,transparent:_0x51644e,camera:_0x40c560}=_0x49a533;Q['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x40c560?_0x40c560['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x3ec0c2['name']+'('+(_0x51644e?'TRANSP':'OPAQUE')+')');const _0x30454e=de();if(_0x40c560){const _0x49427d=_0x40c560['gammaCorre'+'ction'],_0x1bc79d=_0x40c560['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(0x1eb6*0x1+-0x5*-0x5d9+-0x3bf3*0x1)&&(_0x40c560['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(-0xb0a+0x2*0x1114+-0x171e)&&(_0x40c560['toneMappin'+'g']=this['toneMappin'+'g']),_0xaa151d['fire'](nE,_0x40c560,_0x3ec0c2,_0x51644e);const _0x148a94={'lightClusters':_0x49a533['lightClust'+'ers']},_0x696738=((_0x3a177d=_0x40c560['camera']['shaderPass'+'Info'])==null?void(-0xa3e+-0x1*-0xbb2+-0x174):_0x3a177d['index'])??Aa;(!_0x5b650a||!_0x40c560['camera']['fullSizeCl'+'earRect'])&&(_0x148a94['clearColor']=_0x49a533['clearColor'],_0x148a94['clearDepth']=_0x49a533['clearDepth'],_0x148a94['clearStenc'+'il']=_0x49a533['clearStenc'+'il']);const _0x555247=_0x49a533['renderTarg'+'et']??_0x8250ee['backBuffer'];_0x36b89d['renderForw'+'ardLayer'](_0x40c560['camera'],_0x555247,_0x3ec0c2,_0x51644e,_0x696738,_0x49a533['viewBindGr'+'oups'],_0x148a94),_0x8250ee['setBlendSt'+'ate'](pt['NOBLEND']),_0x8250ee['setStencil'+'State'](null,null),_0x8250ee['setAlphaTo'+'Coverage'](!(-0x4fe+-0x1*-0xc73+-0xd4*0x9)),_0xaa151d['fire'](oE,_0x40c560,_0x3ec0c2,_0x51644e),this['gammaCorre'+'ction']!==void(0x11*-0x212+-0x116f*0x1+0x34a1)&&(_0x40c560['gammaCorre'+'ction']=_0x49427d),this['toneMappin'+'g']!==void(-0x1*-0x25a3+0x1*0x8fe+-0x2ea1)&&(_0x40c560['toneMappin'+'g']=_0x1bc79d);}Q['popGpuMark'+'er'](this['device']),_0x3ec0c2['_renderTim'+'e']+=de()-_0x30454e;}['log'](_0x10f864,_0x1dfd01){if(super['log'](_0x10f864,_0x1dfd01),mi['get'](cn)){const {layerComposition:_0x12f20d}=this;this['renderActi'+'ons']['forEach']((_0x586dad,_0x230a8f)=>{const _0x41828d=_0x586dad['layer'],_0x436551=_0x41828d['enabled']&&_0x12f20d['isEnabled'](_0x41828d,_0x586dad['transparen'+'t']),_0x2ebeeb=_0x586dad['camera'];w['trace'](cn,'\x20\x20\x20\x20'+_0x230a8f+':'+('\x20Cam:\x20'+(_0x2ebeeb?_0x2ebeeb['entity']['name']:'-'))['padEnd'](0x1*0xdb3+-0x1*0xb94+0x209*-0x1,'\x20')+('\x20Lay:\x20'+_0x41828d['name'])['padEnd'](0x1*-0x15ff+0x2578+-0xd*0x12f,'\x20')+(_0x586dad['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x436551?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x41828d['meshInstan'+'ces']['length'])['padEnd'](-0x1708+0x25bd+-0xeb0,'\x20'));});}}}class Zb extends ys{constructor(_0x417ec9,_0xd69fb7,_0x26b688){super(_0x417ec9),this['renderer']=_0xd69fb7,this['renderActi'+'on']=_0x26b688,this['requiresCu'+'bemaps']=!(-0xb06+0x22f6+-0x17ef);}['execute'](){const _0x8d7c0=this['renderActi'+'on'],_0x54f1a2=_0x8d7c0['camera'];w['assert'](_0x8d7c0['triggerPos'+'tprocess']&&_0x54f1a2['onPostproc'+'essing']),_0x54f1a2['onPostproc'+'essing']();}}const Qb=[[],[],[]],or=new ie(),Nr={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=0x1403+-0x1edc+0xad9,this['shaderInst'+'ances']['length']=0x11e*-0x16+-0x210b+-0x9*-0x667,this['isNewMater'+'ial']['length']=-0x2a*-0xd1+-0x20a9+-0x1a1,this['lightMaskC'+'hanged']['length']=-0x1*-0x13d9+-0x1cdb+-0x481*-0x2;}};function Jb(_0x49b3dd){const _0x84bfc3=[];for(let _0x33bc71=-0x912+-0x822+0x1134;_0x33bc71<_0x49b3dd;++_0x33bc71){const _0x25f4d5=Math['sqrt'](_0x33bc71+(-0x1475+-0xabe+0x1f33+0.5))/Math['sqrt'](_0x49b3dd);_0x84bfc3['push'](_0x25f4d5);}return _0x84bfc3;}function eA(_0x1edf0b){const _0x47ef67=[];for(let _0x2dd60b=-0x139f*-0x1+0x7b3*-0x3+0x59*0xa;_0x2dd60b<_0x1edf0b;_0x2dd60b++){const _0x7d9b66=_0x2dd60b/_0x1edf0b,_0x16ddfb=Math['sqrt'](_0x7d9b66*_0x7d9b66);_0x47ef67['push'](_0x16ddfb);}return _0x47ef67;}const Ni=class Ni extends Yb{constructor(_0x1b9fa6){super(_0x1b9fa6);const _0x202a57=this['device'];this['_forwardDr'+'awCalls']=0x8*0xe9+0xd66+-0xa57*0x2,this['_materialS'+'witches']=0x2701+0x2686+-0x59*0xdf,this['_depthMapT'+'ime']=0x2a9+0xe6d+0x51*-0x36,this['_forwardTi'+'me']=0x2615+0x37*0x2f+-0x302e,this['_sortTime']=-0xcf7*0x2+0x7fd*-0x3+-0xf1*-0x35;const _0x3ccee7=_0x202a57['scope'];this['fogColorId']=_0x3ccee7['resolve']('fog_color'),this['fogStartId']=_0x3ccee7['resolve']('fog_start'),this['fogEndId']=_0x3ccee7['resolve']('fog_end'),this['fogDensity'+'Id']=_0x3ccee7['resolve']('fog_densit'+'y'),this['ambientId']=_0x3ccee7['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x3ccee7['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x3ccee7['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x3ccee7['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x3ccee7['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x3ccee7['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(-0x12*-0x1dc+0xe1c+-0xbe4*0x4),this['fogColor']=new Float32Array(0xa7f+0x1152+-0x1bce),this['ambientCol'+'or']=new Float32Array(-0x6c5*-0x2+-0x1a83+0xcfc),this['pcssDiskSa'+'mples']=Jb(-0x102f*-0x1+-0xd7e+-0x2a1),this['pcssSphere'+'Samples']=eA(0x33a+0x2132+0xd*-0x2cc);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x2e4ea5){const _0x2a0ddf=this['ambientCol'+'or'];if(or['linear'](_0x2e4ea5['ambientLig'+'ht']),_0x2a0ddf[-0x4*-0x34+0xb23*-0x1+0x1*0xa53]=or['r'],_0x2a0ddf[0x2191+0x3d1*0x4+0x4e2*-0xa]=or['g'],_0x2a0ddf[0x1d57+-0x17*-0x107+-0x34f6]=or['b'],_0x2e4ea5['physicalUn'+'its']){for(let _0x22aa82=-0x1db1+-0x2*-0xa07+0x9a3;_0x22aa82<0x71c+0x24df+-0xe*0x324;_0x22aa82++)_0x2a0ddf[_0x22aa82]*=_0x2e4ea5['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x2a0ddf),this['skyboxInte'+'nsityId']['setValue'](_0x2e4ea5['physicalUn'+'its']?_0x2e4ea5['skyboxLumi'+'nance']:_0x2e4ea5['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x2e4ea5['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x1fda4,_0x44fe24){const _0x3db43d='light'+_0x44fe24;this['lightColor'+'Id'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+'_color'),this['lightDir'][_0x44fe24]=new Float32Array(-0x18f+-0x1a1f+-0x33*-0x8b),this['lightDirId'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+'_direction'),this['lightShado'+'wMapId'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+'_radius'),this['lightPos'][_0x44fe24]=new Float32Array(-0x1b*0x77+-0xdd1+0x1a61),this['lightPosId'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+'_position'),this['lightWidth'][_0x44fe24]=new Float32Array(0x254e+-0x2bd*-0x4+-0x303f),this['lightWidth'+'Id'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+'_halfWidth'),this['lightHeigh'+'t'][_0x44fe24]=new Float32Array(-0x1508+-0x2e1*-0xc+-0xd81),this['lightHeigh'+'tId'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+'_cookie'),this['lightCooki'+'eIntId'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x44fe24]=_0x1fda4['resolve'](_0x3db43d+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x527df4,_0x182116,_0x5ddddb,_0x104790,_0x3981bd){this['lightPos'][_0x182116][-0x4*0x11e+-0x1c4d+0x1*0x20c5]=_0x104790['x']-_0x5ddddb['x']*_0x3981bd,this['lightPos'][_0x182116][0x1*0x1047+0x294+-0x13*0xfe]=_0x104790['y']-_0x5ddddb['y']*_0x3981bd,this['lightPos'][_0x182116][-0x1*-0x1796+-0x701+-0x1093]=_0x104790['z']-_0x5ddddb['z']*_0x3981bd,this['lightPosId'][_0x182116]['setValue'](this['lightPos'][_0x182116]);const _0x2424a4=_0x527df4['transformV'+'ector'](new D(-(-0x9*-0x3fa+-0x257d*-0x1+-0x4947+0.5),-0x358*0xb+-0x88*-0x46+0x4*-0x1a,-0x29*0x57+-0x140+0xf2f));this['lightWidth'][_0x182116][0x1*0xd3d+-0x1f*-0x111+-0x2*0x1726]=_0x2424a4['x']*_0x3981bd,this['lightWidth'][_0x182116][-0x3e9+0x3*-0x955+0x48f*0x7]=_0x2424a4['y']*_0x3981bd,this['lightWidth'][_0x182116][0xc24+0x248d+-0x30af]=_0x2424a4['z']*_0x3981bd,this['lightWidth'+'Id'][_0x182116]['setValue'](this['lightWidth'][_0x182116]);const _0x56d58a=_0x527df4['transformV'+'ector'](new D(-0x8*0x23e+-0x153f+0x272f,0x996*-0x2+0x2*-0x463+-0xe*-0x1ff,0x1dcc+0x9*0x406+-0x4202+0.5));this['lightHeigh'+'t'][_0x182116][0x1*-0x128c+-0x3*-0xbbc+-0x10a8]=_0x56d58a['x']*_0x3981bd,this['lightHeigh'+'t'][_0x182116][-0xa4+-0x2458*-0x1+0x13*-0x1e1]=_0x56d58a['y']*_0x3981bd,this['lightHeigh'+'t'][_0x182116][0x32f*0x9+-0x1*-0x78e+-0x2433]=_0x56d58a['z']*_0x3981bd,this['lightHeigh'+'tId'][_0x182116]['setValue'](this['lightHeigh'+'t'][_0x182116]);}['dispatchDi'+'rectLights'](_0xef0756,_0x433dfc,_0x157f41){let _0x4d8ab1=-0x530*-0x2+0xace+-0x152e;const _0xa5e41b=this['device']['scope'];for(let _0x2a72d8=-0x7ed+-0xa0d*-0x2+0x1*-0xc2d;_0x2a72d8<_0xef0756['length'];_0x2a72d8++){if(!(_0xef0756[_0x2a72d8]['mask']&_0x433dfc))continue;const _0x2c3153=_0xef0756[_0x2a72d8],_0x208c9a=_0x2c3153['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x4d8ab1]||this['_resolveLi'+'ght'](_0xa5e41b,_0x4d8ab1),this['lightColor'+'Id'][_0x4d8ab1]['setValue'](_0x2c3153['_colorLine'+'ar']),_0x208c9a['getY'](_0x2c3153['_direction'])['mulScalar'](-(-0x1e43*-0x1+0x49*0x5+-0x1faf*0x1)),_0x2c3153['_direction']['normalize'](),this['lightDir'][_0x4d8ab1][0x26f0+-0x1ba5+-0xb4b*0x1]=_0x2c3153['_direction']['x'],this['lightDir'][_0x4d8ab1][-0x2*0xfa3+-0x151*-0x1+0x1df6]=_0x2c3153['_direction']['y'],this['lightDir'][_0x4d8ab1][0x101d+-0x2367+0x134c]=_0x2c3153['_direction']['z'],this['lightDirId'][_0x4d8ab1]['setValue'](this['lightDir'][_0x4d8ab1]),_0x2c3153['shape']!==Ys&&this['setLTCDire'+'ctionalLig'+'ht'](_0x208c9a,_0x4d8ab1,_0x2c3153['_direction'],_0x157f41['_node']['getPositio'+'n'](),_0x157f41['farClip']),_0x2c3153['castShadow'+'s']){const _0x3232ea=_0x2c3153['getRenderD'+'ata'](_0x157f41,-0xf27+-0x1dc4+0x2ceb),_0x1d3ba9=_0x2c3153['_getUnifor'+'mBiasValue'+'s'](_0x3232ea);this['lightShado'+'wMapId'][_0x4d8ab1]['setValue'](_0x3232ea['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x4d8ab1]['setValue'](_0x3232ea['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x4d8ab1]['setValue'](_0x2c3153['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x4d8ab1]['setValue'](_0x2c3153['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x4d8ab1]['setValue'](_0x2c3153['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x4d8ab1]['setValue'](-0x6*0x25b+0x8ef+0x534-_0x2c3153['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x4d8ab1]['setValue'](_0x2c3153['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x4d8ab1]['setValue'](_0x2c3153['_softShado'+'wParams']),_0x3232ea['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x4d8ab1]['setValue'](_0x2c3153['penumbraSi'+'ze']/_0x3232ea['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x3232ea['projection'+'Compensati'+'on']);const _0x4ca1b1=_0x2c3153['_shadowCam'+'eraParams'];_0x4ca1b1['length']=0x1a20+0x2*-0x367+-0x134e,_0x4ca1b1[0xb*-0x257+0x69*-0x32+0x2e3f]=0xfd9+0xb5*0x29+-0x2cd6,_0x4ca1b1[-0x1327*-0x1+0x2db*0x4+0x25a*-0xd]=_0x3232ea['shadowCame'+'ra']['_farClip'],_0x4ca1b1[0x1*0x47f+0x17*0x17f+0x26e6*-0x1]=_0x3232ea['shadowCame'+'ra']['_nearClip'],_0x4ca1b1[-0x6e9*0x4+0x22*0x49+-0x11f5*-0x1]=-0x20bd*0x1+0x16e6+0x9d8,this['lightCamer'+'aParamsId'][_0x4d8ab1]['setValue'](_0x4ca1b1);const _0x4ee2d9=_0x2c3153['_shadowRen'+'derParams'];_0x4ee2d9['length']=0x5*-0x80+-0x2d*0x3d+0x1*0xd3d,_0x4ee2d9[-0xb*0x127+-0x2464+0x3111]=_0x2c3153['_shadowRes'+'olution'],_0x4ee2d9[0x168+-0x24ee+-0x6b*-0x55]=_0x1d3ba9['normalBias'],_0x4ee2d9[0x9e5+0x43*-0x1b+0x13*-0x26]=_0x1d3ba9['bias'],_0x4ee2d9[-0x3*-0xa3d+-0x1e40+-0x74]=0x20ab+-0x1bc6+-0x1*0x4e5,this['lightShado'+'wParamsId'][_0x4d8ab1]['setValue'](_0x4ee2d9);}_0x4d8ab1++;}return _0x4d8ab1;}['setLTCPosi'+'tionalLigh'+'t'](_0x1a4352,_0x3880e1){const _0x32b820=_0x1a4352['transformV'+'ector'](new D(-(-0x1599+0x569*-0x1+0x1b02+0.5),-0x1f*-0x62+0x28d+-0xe6b,-0x3*0x3e5+0xf4f*-0x1+0x1afe));this['lightWidth'][_0x3880e1][0x13e5+-0x23e3*-0x1+-0x37c8]=_0x32b820['x'],this['lightWidth'][_0x3880e1][0xb*0xb+-0xd98+0xd20]=_0x32b820['y'],this['lightWidth'][_0x3880e1][-0x204e+-0x21c5+0x4215]=_0x32b820['z'],this['lightWidth'+'Id'][_0x3880e1]['setValue'](this['lightWidth'][_0x3880e1]);const _0x41cb2b=_0x1a4352['transformV'+'ector'](new D(0x4c5+-0x224+-0x2a1,0x1962+-0x1327+-0x1d*0x37,0x6b*0x47+0x445*0x1+-0xa*0x365+0.5));this['lightHeigh'+'t'][_0x3880e1][0x1*0x2547+0x267b+-0x4bc2]=_0x41cb2b['x'],this['lightHeigh'+'t'][_0x3880e1][-0x1140+0x6b*-0x32+0x1*0x2627]=_0x41cb2b['y'],this['lightHeigh'+'t'][_0x3880e1][-0x1d0*0x11+0x644+0x188e]=_0x41cb2b['z'],this['lightHeigh'+'tId'][_0x3880e1]['setValue'](this['lightHeigh'+'t'][_0x3880e1]);}['dispatchOm'+'niLight'](_0x504e25,_0x269e1b,_0x472cfa){const _0x32407b=_0x269e1b['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x472cfa]||this['_resolveLi'+'ght'](_0x504e25,_0x472cfa),this['lightRadiu'+'sId'][_0x472cfa]['setValue'](_0x269e1b['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x472cfa]['setValue'](_0x269e1b['_colorLine'+'ar']),_0x32407b['getTransla'+'tion'](_0x269e1b['_position']),this['lightPos'][_0x472cfa][-0x907*0x1+0x15bd+-0xcb6]=_0x269e1b['_position']['x'],this['lightPos'][_0x472cfa][0x114f+0x2*0xd81+-0x2c50]=_0x269e1b['_position']['y'],this['lightPos'][_0x472cfa][-0xcb*-0x27+-0xf69+-0xf82]=_0x269e1b['_position']['z'],this['lightPosId'][_0x472cfa]['setValue'](this['lightPos'][_0x472cfa]),_0x269e1b['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x32407b,_0x472cfa),_0x269e1b['castShadow'+'s']){const _0x4b61fa=_0x269e1b['getRenderD'+'ata'](null,-0x301+-0x1592+-0x2bb*-0x9);this['lightShado'+'wMapId'][_0x472cfa]['setValue'](_0x4b61fa['shadowBuff'+'er']);const _0x3e79c5=_0x269e1b['_getUnifor'+'mBiasValue'+'s'](_0x4b61fa),_0x37b898=_0x269e1b['_shadowRen'+'derParams'];_0x37b898['length']=0x184*0x16+-0x22b7*0x1+-0x5*-0x47,_0x37b898[0x614+0x1f+-0x633*0x1]=_0x269e1b['_shadowRes'+'olution'],_0x37b898[-0x2*0xbc7+0x1c2c+0x1*-0x49d]=_0x3e79c5['normalBias'],_0x37b898[-0x2217+0xa41+-0x4*-0x5f6]=_0x3e79c5['bias'],_0x37b898[-0xd*0x2ab+0x4c7*-0x7+-0x4423*-0x1]=(0x1*0x6e6+0x406*0x6+-0x1f09)/_0x269e1b['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x472cfa]['setValue'](_0x37b898),this['lightShado'+'wIntensity'][_0x472cfa]['setValue'](_0x269e1b['shadowInte'+'nsity']);const _0x239cbc=_0x269e1b['penumbraSi'+'ze']/_0x4b61fa['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x472cfa]['setValue'](_0x239cbc);const _0x4daf4a=_0x269e1b['_shadowCam'+'eraParams'];_0x4daf4a['length']=-0x3d*0x39+-0x1a53+0x27ec,_0x4daf4a[0x59d+0x577+-0xb14]=0x1396+0xa0*-0x20+0x6a,_0x4daf4a[0x185a+0xe*-0x1f+-0x1*0x16a7]=_0x4b61fa['shadowCame'+'ra']['_farClip'],_0x4daf4a[-0x83*0x11+0xf5d+-0x6a8]=_0x4b61fa['shadowCame'+'ra']['_nearClip'],_0x4daf4a[0x49d+0x9e4+0xe7e*-0x1]=-0x373*-0x9+0x220a+-0x4115,this['lightCamer'+'aParamsId'][_0x472cfa]['setValue'](_0x4daf4a);}_0x269e1b['_cookie']&&(this['lightCooki'+'eId'][_0x472cfa]['setValue'](_0x269e1b['_cookie']),this['lightShado'+'wMatrixId'][_0x472cfa]['setValue'](_0x32407b['data']),this['lightCooki'+'eIntId'][_0x472cfa]['setValue'](_0x269e1b['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x3119a1,_0x58aed9,_0x9d3be8){const _0xc7131c=_0x58aed9['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x9d3be8]||this['_resolveLi'+'ght'](_0x3119a1,_0x9d3be8),this['lightInAng'+'leId'][_0x9d3be8]['setValue'](_0x58aed9['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x9d3be8]['setValue'](_0x58aed9['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x9d3be8]['setValue'](_0x58aed9['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x9d3be8]['setValue'](_0x58aed9['_colorLine'+'ar']),_0xc7131c['getTransla'+'tion'](_0x58aed9['_position']),this['lightPos'][_0x9d3be8][-0x13*0x77+-0x1*0x44b+-0x6*-0x230]=_0x58aed9['_position']['x'],this['lightPos'][_0x9d3be8][-0x24f7+-0x2*-0x5b8+0x26*0xac]=_0x58aed9['_position']['y'],this['lightPos'][_0x9d3be8][0x174c+0x7f*0x1f+-0x26ab]=_0x58aed9['_position']['z'],this['lightPosId'][_0x9d3be8]['setValue'](this['lightPos'][_0x9d3be8]),_0x58aed9['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0xc7131c,_0x9d3be8),_0xc7131c['getY'](_0x58aed9['_direction'])['mulScalar'](-(-0x53*0x43+-0x131d+0xf*0x2b9)),_0x58aed9['_direction']['normalize'](),this['lightDir'][_0x9d3be8][-0xd*-0x2ef+-0x1ed4+-0x74f]=_0x58aed9['_direction']['x'],this['lightDir'][_0x9d3be8][0x10f1+-0x14b*0xf+0x25*0x11]=_0x58aed9['_direction']['y'],this['lightDir'][_0x9d3be8][0x2f*0x1+0x2a4*0x4+-0xabd]=_0x58aed9['_direction']['z'],this['lightDirId'][_0x9d3be8]['setValue'](this['lightDir'][_0x9d3be8]),_0x58aed9['castShadow'+'s']){const _0x594610=_0x58aed9['getRenderD'+'ata'](null,-0x4e*-0x10+0xfa8+-0x1488);this['lightShado'+'wMapId'][_0x9d3be8]['setValue'](_0x594610['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x9d3be8]['setValue'](_0x594610['shadowMatr'+'ix']['data']);const _0x218b63=_0x58aed9['_getUnifor'+'mBiasValue'+'s'](_0x594610),_0x4bbe34=_0x58aed9['_shadowRen'+'derParams'];_0x4bbe34['length']=-0x33*0x97+0x3b*-0xe+-0x1*-0x2153,_0x4bbe34[-0x33f+-0x14*0xd1+0x1393]=_0x58aed9['_shadowRes'+'olution'],_0x4bbe34[-0x66*-0x2d+-0x27*-0x15+-0x1520]=_0x218b63['normalBias'],_0x4bbe34[0x25d4+0x1d89+-0x435b]=_0x218b63['bias'],_0x4bbe34[0x8da*0x3+-0x1*-0xbc9+-0xdf*0x2c]=(-0x1e0c+-0x143d+0x324a)/_0x58aed9['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x9d3be8]['setValue'](_0x4bbe34),this['lightShado'+'wIntensity'][_0x9d3be8]['setValue'](_0x58aed9['shadowInte'+'nsity']);const _0x31418d=_0x58aed9['penumbraSi'+'ze']/_0x594610['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x491d6b=_0x594610['shadowCame'+'ra']['_fov']*Math['PI']/(-0x6d*-0x35+-0x8a1+-0xb*0x134),_0x2ffc92=(0x198d+-0xe3b+0xb51*-0x1)/Math['tan'](_0x491d6b/(0x2de*0x9+0x3*-0x31c+-0x1078));this['lightShado'+'wSearchAre'+'aId'][_0x9d3be8]['setValue'](_0x31418d*_0x2ffc92);const _0x4b3e0a=_0x58aed9['_shadowCam'+'eraParams'];_0x4b3e0a['length']=-0x10*-0x12b+-0x1*0x1b16+0x86a,_0x4b3e0a[-0x155d+-0x1ae0+0xe9*0x35]=-0x2615*0x1+0x15b5*-0x1+0x6*0x9f7,_0x4b3e0a[0xb09+-0x1ac*-0x3+-0x100c]=_0x594610['shadowCame'+'ra']['_farClip'],_0x4b3e0a[0x2*-0x1047+0x63d+0x1a53]=_0x594610['shadowCame'+'ra']['_nearClip'],_0x4b3e0a[-0x2453*0x1+0x139a+-0x3f*-0x44]=0x1*-0x8e1+0xc5*0xa+0x12f,this['lightCamer'+'aParamsId'][_0x9d3be8]['setValue'](_0x4b3e0a);}if(_0x58aed9['_cookie']){if(!_0x58aed9['castShadow'+'s']){const _0x4704d9=Wn['evalSpotCo'+'okieMatrix'](_0x58aed9);this['lightShado'+'wMatrixId'][_0x9d3be8]['setValue'](_0x4704d9['data']);}this['lightCooki'+'eId'][_0x9d3be8]['setValue'](_0x58aed9['_cookie']),this['lightCooki'+'eIntId'][_0x9d3be8]['setValue'](_0x58aed9['cookieInte'+'nsity']),_0x58aed9['_cookieTra'+'nsform']&&(_0x58aed9['_cookieTra'+'nsformUnif'+'orm'][-0xb57*-0x1+-0x76d*-0x3+-0x219e]=_0x58aed9['_cookieTra'+'nsform']['x'],_0x58aed9['_cookieTra'+'nsformUnif'+'orm'][0x47e+-0x1*-0x956+0x1*-0xdd3]=_0x58aed9['_cookieTra'+'nsform']['y'],_0x58aed9['_cookieTra'+'nsformUnif'+'orm'][0x1*0x1741+0x1*0x2312+-0x1*0x3a51]=_0x58aed9['_cookieTra'+'nsform']['z'],_0x58aed9['_cookieTra'+'nsformUnif'+'orm'][-0xb75+-0x3d7+0x1*0xf4f]=_0x58aed9['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x9d3be8]['setValue'](_0x58aed9['_cookieTra'+'nsformUnif'+'orm']),_0x58aed9['_cookieOff'+'setUniform'][0x36a+0x430+0xe*-0x8b]=_0x58aed9['_cookieOff'+'set']['x'],_0x58aed9['_cookieOff'+'setUniform'][0xb*0x164+-0x57f+-0x9cc]=_0x58aed9['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x9d3be8]['setValue'](_0x58aed9['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x24d456,_0x34d567,_0x380a3f){let _0x4eb062=_0x380a3f;const _0xf227a9=this['device']['scope'],_0x443c22=_0x24d456[Ke],_0x5166c5=_0x443c22['length'];for(let _0x16b313=0x747+0x6c*-0x59+-0x9*-0x35d;_0x16b313<_0x5166c5;_0x16b313++){const _0x5f082a=_0x443c22[_0x16b313];_0x5f082a['mask']&_0x34d567&&(this['dispatchOm'+'niLight'](_0xf227a9,_0x5f082a,_0x4eb062),_0x4eb062++);}const _0x4e50c2=_0x24d456[Ze],_0x26341d=_0x4e50c2['length'];for(let _0x3c7ddd=-0x24c5*-0x1+-0x114d+-0x1378;_0x3c7ddd<_0x26341d;_0x3c7ddd++){const _0x2e74f8=_0x4e50c2[_0x3c7ddd];_0x2e74f8['mask']&_0x34d567&&(this['dispatchSp'+'otLight'](_0xf227a9,_0x2e74f8,_0x4eb062),_0x4eb062++);}}['renderForw'+'ardPrepare'+'Materials'](_0x2c74e4,_0x2b4c3c,_0x270fed,_0x5d0b20,_0x39cf1f,_0x4c7e6f){const _0x4437c9=_0x2c74e4['fogParams']??this['scene']['fog'],_0x6b0d88=_0x2c74e4['shaderPara'+'ms'];_0x6b0d88['fog']=_0x4437c9['type'],_0x6b0d88['srgbRender'+'Target']=(_0x2b4c3c==null?void(-0x12ea+-0x85c+0x1b46):_0x2b4c3c['isColorBuf'+'ferSrgb'](0x49*0x3d+-0x272*-0x1+-0x13d7*0x1))??!(0x1e3d+-0x5e*-0x7+-0x13*0x1ba);const _0xea148c=(_0x37f1ee,_0x20643e,_0x186d43,_0xd60053)=>{Nr['drawCalls']['push'](_0x37f1ee),Nr['shaderInst'+'ances']['push'](_0x20643e),Nr['isNewMater'+'ial']['push'](_0x186d43),Nr['lightMaskC'+'hanged']['push'](_0xd60053);};Nr['clear']();const _0x194f75=this['device'],_0x347aba=this['scene'],_0x108f4e=_0x347aba['clusteredL'+'ightingEna'+'bled'],_0x111261=(_0x39cf1f==null?void(-0xf3c+-0x7*0x268+0x2014*0x1):_0x39cf1f['getLightHa'+'sh'](_0x108f4e))??-0x17fc*-0x1+0x4*0x4d0+-0x2b3c;let _0x463f36=null,_0x57e7e0,_0x531461;const _0x5cbf29=_0x270fed['length'];for(let _0x20058e=-0x1c*0xbe+-0x633+0x1afb*0x1;_0x20058e<_0x5cbf29;_0x20058e++){const _0x2db857=_0x270fed[_0x20058e];if(_0x2c74e4===Ni['skipRender'+'Camera']){if(Ni['_skipRende'+'rCounter']>=Ni['skipRender'+'After'])continue;Ni['_skipRende'+'rCounter']++;}if(_0x39cf1f){if(_0x39cf1f['_skipRende'+'rCounter']>=_0x39cf1f['skipRender'+'After'])continue;_0x39cf1f['_skipRende'+'rCounter']++;}const _0xb81e49=_0x2db857['instancing'+'Data'];if(_0xb81e49&&_0xb81e49['count']<=-0x15a1+0x3c6+0x7*0x28d)continue;_0x2db857['ensureMate'+'rial'](_0x194f75);const _0x150e2d=_0x2db857['material'],_0x179249=_0x2db857['_shaderDef'+'s'],_0x1ce9a1=_0x2db857['mask'];_0x150e2d&&_0x150e2d===_0x463f36&&_0x179249!==_0x57e7e0&&(_0x463f36=null),_0x150e2d!==_0x463f36&&(this['_materialS'+'witches']++,_0x150e2d['_scene']=_0x347aba,_0x150e2d['dirty']&&(Q['pushGpuMar'+'ker'](_0x194f75,'Node:\x20'+_0x2db857['node']['name']+(',\x20Material'+':\x20')+_0x150e2d['name']),_0x150e2d['updateUnif'+'orms'](_0x194f75,_0x347aba),_0x150e2d['dirty']=!(-0x1119+0x1*-0x21d2+0x32ec),Q['popGpuMark'+'er'](_0x194f75)));const _0x5b3e3b=_0x2db857['getShaderI'+'nstance'](_0x4c7e6f,_0x111261,_0x347aba,_0x6b0d88,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x5d0b20);_0xea148c(_0x2db857,_0x5b3e3b,_0x150e2d!==_0x463f36,!_0x463f36||_0x1ce9a1!==_0x531461),_0x463f36=_0x150e2d,_0x57e7e0=_0x179249,_0x531461=_0x1ce9a1;}return Nr;}['renderForw'+'ardInterna'+'l'](_0x13955c,_0x3ea16a,_0x547d27,_0x3b3b6f,_0x45022b,_0x399a7e,_0x3c9fe7){var _0x76722b,_0x1b1672;const _0x482920=this['device'],_0x501c67=this['scene'],_0x483d73=0x259*0x1+-0x2ba*-0x7+-0x156e<<_0x3b3b6f,_0x3a8f18=_0x399a7e?-(0xf*-0x21d+0x1*-0x23a7+0x435b):0x3b9*-0x4+-0x1a23*-0x1+-0xb3e*0x1,_0x4e6c16=_0x501c67['clusteredL'+'ightingEna'+'bled'],_0x1cf560=(_0x76722b=_0x13955c['xr'])!=null&&_0x76722b['session']&&_0x13955c['xr']['views']['list']['length']?_0x13955c['xr']['views']['list']:null,_0x25f561=_0x3ea16a['drawCalls']['length'];for(let _0x54c901=0x3*-0xaad+-0x8*0x208+0x3047;_0x54c901<_0x25f561;_0x54c901++){const _0x51d697=_0x3ea16a['drawCalls'][_0x54c901],_0x28e743=_0x3ea16a['isNewMater'+'ial'][_0x54c901],_0x37a19b=_0x3ea16a['lightMaskC'+'hanged'][_0x54c901],_0x3057ad=_0x3ea16a['shaderInst'+'ances'][_0x54c901],_0x400cbe=_0x51d697['material'],_0x56358d=_0x51d697['mask'];if(_0x3057ad['shader']['failed'])continue;if(_0x28e743){if(_0x482920['setShader'](_0x3057ad['shader'],!(-0x65*-0x49+0x6f3*-0x1+-0x15d9)),_0x400cbe['setParamet'+'ers'](_0x482920),_0x37a19b){const _0x1e684f=this['dispatchDi'+'rectLights'](_0x547d27[ve],_0x56358d,_0x13955c);_0x4e6c16||this['dispatchLo'+'calLights'](_0x547d27,_0x56358d,_0x1e684f);}this['alphaTestI'+'d']['setValue'](_0x400cbe['alphaTest']),_0x482920['setBlendSt'+'ate'](_0x400cbe['blendState']),_0x482920['setDepthSt'+'ate'](_0x400cbe['depthState']),_0x482920['setAlphaTo'+'Coverage'](_0x400cbe['alphaToCov'+'erage']);}Q['pushGpuMar'+'ker'](_0x482920,'Node:\x20'+_0x51d697['node']['name']+(',\x20Material'+':\x20')+_0x400cbe['name']),this['setupCullM'+'ode'](_0x13955c['_cullFaces'],_0x3a8f18,_0x51d697);const _0x5a5bd4=_0x51d697['stencilFro'+'nt']??_0x400cbe['stencilFro'+'nt'],_0xdac1d6=_0x51d697['stencilBac'+'k']??_0x400cbe['stencilBac'+'k'];_0x482920['setStencil'+'State'](_0x5a5bd4,_0xdac1d6),_0x51d697['setParamet'+'ers'](_0x482920,_0x483d73),_0x482920['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x51d697['id']);const _0x2d6b1b=_0x51d697['mesh'];this['setVertexB'+'uffers'](_0x482920,_0x2d6b1b),this['setMorphin'+'g'](_0x482920,_0x51d697['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x482920,_0x51d697);const _0x245d78=_0x51d697['instancing'+'Data'];_0x245d78&&_0x482920['setVertexB'+'uffer'](_0x245d78['vertexBuff'+'er']),this['setMeshIns'+'tanceMatri'+'ces'](_0x51d697,!(0xdee+0x1878+-0xa*0x3d7)),this['setupMeshU'+'niformBuff'+'ers'](_0x3057ad);const _0x10bfc6=_0x51d697['renderStyl'+'e'],_0x480271=_0x2d6b1b['indexBuffe'+'r'][_0x10bfc6];_0x45022b==null||_0x45022b(_0x51d697,_0x54c901);const _0x57af5e=(_0x1b1672=_0x51d697['indirectDa'+'ta'])==null?void(0x1*0x267b+0x10f5+-0x377*0x10):_0x1b1672['get'](_0x13955c);if(_0x1cf560)for(let _0x1164ff=0x911+-0x1cce*-0x1+-0x25df;_0x1164ff<_0x1cf560['length'];_0x1164ff++){const _0x296d1c=_0x1cf560[_0x1164ff];if(_0x482920['setViewpor'+'t'](_0x296d1c['viewport']['x'],_0x296d1c['viewport']['y'],_0x296d1c['viewport']['z'],_0x296d1c['viewport']['w']),_0x482920['supportsUn'+'iformBuffe'+'rs']){const _0xb17ce9=_0x3c9fe7[_0x1164ff];_0x482920['setBindGro'+'up'](rl,_0xb17ce9);}else this['setupViewU'+'niforms'](_0x296d1c,_0x1164ff);const _0x2a4299=_0x1164ff===-0x8*-0x22+-0x13c1+-0x13f*-0xf,_0x4086c8=_0x1164ff===_0x1cf560['length']-(0x10a*0x1d+-0x15a5*0x1+-0x87c);_0x482920['draw'](_0x2d6b1b['primitive'][_0x10bfc6],_0x480271,_0x245d78==null?void(0x29*-0x8f+0x17*0x15d+0x43a*-0x2):_0x245d78['count'],_0x57af5e,_0x2a4299,_0x4086c8),this['_forwardDr'+'awCalls']++,_0x51d697['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;}else _0x482920['draw'](_0x2d6b1b['primitive'][_0x10bfc6],_0x480271,_0x245d78==null?void(-0x50f+-0x1*0x221e+0x272d*0x1):_0x245d78['count'],_0x57af5e),this['_forwardDr'+'awCalls']++,_0x51d697['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;_0x54c901<_0x25f561-(0x1b2a+0x4d2*-0x6+0x1c3)&&!_0x3ea16a['isNewMater'+'ial'][_0x54c901+(0x136c+-0x1bc*-0xd+-0x29f7)]&&_0x400cbe['setParamet'+'ers'](_0x482920,_0x51d697['parameters']),Q['popGpuMark'+'er'](_0x482920);}}['renderForw'+'ard'](_0x34a374,_0x1ea3ef,_0x15a2d0,_0x51fca3,_0x2f4b72,_0x53f16e,_0x4ac878,_0x3c9960,_0x34cc91){const _0x245ad8=de(),_0x1c2883=this['renderForw'+'ardPrepare'+'Materials'](_0x34a374,_0x1ea3ef,_0x15a2d0,_0x51fca3,_0x4ac878,_0x2f4b72);this['renderForw'+'ardInterna'+'l'](_0x34a374,_0x1c2883,_0x51fca3,_0x2f4b72,_0x53f16e,_0x3c9960,_0x34cc91),Nr['clear'](),this['_forwardTi'+'me']+=de()-_0x245ad8;}['renderForw'+'ardLayer'](_0x237d5d,_0x1be301,_0xdcf81c,_0x5d466b,_0x3c8a15,_0x1bc1c2,_0x29fff7={}){const {scene:_0x212157,device:_0x462d8e}=this,_0x9d276a=_0x212157['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x237d5d,_0x1be301);let _0x56ce97,_0x30dc84;if(_0xdcf81c){const _0x5928f1=de();_0xdcf81c['sortVisibl'+'e'](_0x237d5d,_0x5d466b),this['_sortTime']+=de()-_0x5928f1;const _0x42170b=_0xdcf81c['getCulledI'+'nstances'](_0x237d5d);_0x56ce97=_0x5d466b?_0x42170b['transparen'+'t']:_0x42170b['opaque'],_0x212157['immediate']['onPreRende'+'rLayer'](_0xdcf81c,_0x56ce97,_0x5d466b),_0xdcf81c['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x212157['ambientLig'+'ht'],_0xdcf81c['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x30dc84=_0xdcf81c['splitLight'+'s'];}else _0x56ce97=_0x29fff7['meshInstan'+'ces'],_0x30dc84=_0x29fff7['splitLight'+'s']??Qb;if(w['assert'](_0x56ce97,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x9d276a){const _0x4ce3d9=_0x29fff7['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x4ce3d9['activate'](),_0xdcf81c&&!this['clustersDe'+'bugRendere'+'d']&&_0x212157['lighting']['debugLayer']===_0xdcf81c['id']&&(this['clustersDe'+'bugRendere'+'d']=!(0x11e+0x671*-0x2+0x5e2*0x2),hu['render'](_0x4ce3d9,this['scene']));}_0x212157['_activeCam'+'era']=_0x237d5d;const _0x1813f9=_0x237d5d['fogParams']??this['scene']['fog'];this['setFogCons'+'tants'](_0x1813f9);const _0x1e687c=this['setCameraU'+'niforms'](_0x237d5d,_0x1be301);_0x462d8e['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x1bc1c2,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x1e687c);const _0x4722c5=_0x29fff7['clearColor']??!(0x1*0xed+-0x845+0x759),_0x5d4998=_0x29fff7['clearDepth']??!(-0x45c+0xc68+-0x47*0x1d),_0x58d6cf=_0x29fff7['clearStenc'+'il']??!(-0x1*-0x1ae1+-0x1*0x23c3+0x8e3);(_0x4722c5||_0x5d4998||_0x58d6cf)&&this['clear'](_0x237d5d,_0x4722c5,_0x5d4998,_0x58d6cf);const _0x34fbcc=!!(_0x237d5d['_flipFaces']^(_0x1be301==null?void(0xa7d*-0x1+0xe18+-0x39b):_0x1be301['flipY'])),_0x43d6f7=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x237d5d,_0x1be301,_0x56ce97,_0x30dc84,_0x3c8a15,null,_0xdcf81c,_0x34fbcc,_0x1bc1c2),_0xdcf81c&&(_0xdcf81c['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x43d6f7);}['setFogCons'+'tants'](_0x20d243){if(_0x20d243['type']!==Kn){or['linear'](_0x20d243['color']);const _0x3cc9e8=this['fogColor'];_0x3cc9e8[0x36*0x75+0x697*0x2+-0x25dc]=or['r'],_0x3cc9e8[-0xb7b+-0x2505+-0x102b*-0x3]=or['g'],_0x3cc9e8[0xb7b*0x3+-0xd6*-0x7+-0x2849]=or['b'],this['fogColorId']['setValue'](_0x3cc9e8),_0x20d243['type']===Iw?(this['fogStartId']['setValue'](_0x20d243['start']),this['fogEndId']['setValue'](_0x20d243['end'])):this['fogDensity'+'Id']['setValue'](_0x20d243['density']);}}['setSceneCo'+'nstants'](){const _0x157a4c=this['scene'];this['dispatchGl'+'obalLights'](_0x157a4c);const _0x5d62c2=this['device'];this['_screenSiz'+'e'][0xcf5+-0x2014+-0x131f*-0x1]=_0x5d62c2['width'],this['_screenSiz'+'e'][-0x1122+-0x1*-0x1749+-0x626]=_0x5d62c2['height'],this['_screenSiz'+'e'][-0x16*-0x13f+-0x7*0x3b9+-0x159]=(0xf9c*0x1+0x1*-0x1965+0x9ca)/_0x5d62c2['width'],this['_screenSiz'+'e'][-0xc81+-0x16d2+0x2356]=(-0x626+-0xfb3+0x15da)/_0x5d62c2['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x31b3ba,_0x613b6a){const _0x31b31e=this['scene'];if(_0x31b3ba['reset'](),_0x31b31e['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x5f0abe,cookiesEnabled:_0x1d201a}=_0x31b31e['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x31b3ba,_0x5f0abe,_0x1d201a,this['lights'],this['localLight'+'s']),_0x31b3ba['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x31b3ba,this['localLight'+'s']);let _0x2d1855=0x232*0x8+-0xdb3+-0x3dd*0x1,_0x225ee1=!(-0x164e*-0x1+-0x908*-0x3+-0x2*0x18b3),_0x25ea94=null;const _0x65e10=_0x613b6a['_renderAct'+'ions'];for(let _0x4febe7=_0x2d1855;_0x4febe7<_0x65e10['length'];_0x4febe7++){const _0x1d340c=_0x65e10[_0x4febe7],{layer:_0x271fb5,camera:_0x45699b}=_0x1d340c;if(_0x1d340c['useCameraP'+'asses'])w['call'](()=>{_0x45699b['postEffect'+'s']['effects']['length']>-0x238b+-0x2*0xf5c+0x4243&&w['warnOnce']('Camera\x20\x27'+_0x45699b['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x45699b['camera']['renderPass'+'es']['forEach'](_0x2dcb55=>{_0x31b3ba['addRenderP'+'ass'](_0x2dcb55);});else{const _0x51d92f=_0x271fb5['id']===ps,_0x5d557e=_0x51d92f&&(_0x45699b['renderScen'+'eColorMap']||_0x45699b['renderScen'+'eDepthMap']);_0x225ee1&&(_0x225ee1=!(-0x2642+0x1*-0xd16+0x3359),_0x2d1855=_0x4febe7,_0x25ea94=_0x1d340c['renderTarg'+'et']);const _0x2f3f3a=_0x65e10[_0x4febe7+(-0xd*0x27+-0x6f6+0x8f2)],_0x19972=(_0x2f3f3a?!_0x2f3f3a['useCameraP'+'asses']&&_0x2f3f3a['layer']['id']===ps:!(-0x1*-0x240b+-0x5*0x34+0x2*-0x1183))&&(_0x45699b['renderScen'+'eColorMap']||_0x45699b['renderScen'+'eDepthMap']),_0x3a7b49=_0x2f3f3a?_0x2f3f3a['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x2f3f3a['camera']['camera']):!(-0x100a*0x1+0x2*-0x7e9+-0x1*-0x1fdd);if(!_0x2f3f3a||_0x2f3f3a['renderTarg'+'et']!==_0x25ea94||_0x3a7b49||_0x19972||_0x5d557e){if(_0x51d92f&&_0x2d1855===_0x4febe7||this['addMainRen'+'derPass'](_0x31b3ba,_0x613b6a,_0x25ea94,_0x2d1855,_0x4febe7),_0x51d92f){if(_0x45699b['renderScen'+'eColorMap']){const _0x3a61ea=_0x45699b['camera']['renderPass'+'ColorGrab'];_0x3a61ea['source']=_0x45699b['renderTarg'+'et'],_0x31b3ba['addRenderP'+'ass'](_0x3a61ea);}_0x45699b['renderScen'+'eDepthMap']&&_0x31b3ba['addRenderP'+'ass'](_0x45699b['camera']['renderPass'+'DepthGrab']);}if(_0x1d340c['triggerPos'+'tprocess']&&(_0x45699b!=null&&_0x45699b['onPostproc'+'essing'])){const _0x2853bd=new Zb(this['device'],this,_0x1d340c);_0x31b3ba['addRenderP'+'ass'](_0x2853bd);}_0x225ee1=!(-0x1cd7+-0x1*0x2237+-0x3f0e*-0x1);}}}}['addMainRen'+'derPass'](_0xdedf7,_0x492dff,_0x66fd78,_0x4974a7,_0x355a03){const _0x3f9fae=new Kb(this['device'],_0x492dff,this['scene'],this);_0x3f9fae['init'](_0x66fd78);const _0x55d5cb=_0x492dff['_renderAct'+'ions'];for(let _0x56b56c=_0x4974a7;_0x56b56c<=_0x355a03;_0x56b56c++)_0x3f9fae['addRenderA'+'ction'](_0x55d5cb[_0x56b56c]);_0xdedf7['addRenderP'+'ass'](_0x3f9fae);}['update'](_0x5bffd3){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x5bffd3),this['collectLig'+'hts'](_0x5bffd3),this['beginFrame'](_0x5bffd3),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x5bffd3),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};h(Ni,'skipRender'+'Camera',null),h(Ni,'_skipRende'+'rCounter',-0x9*0x1f3+0x26b8+-0x152d),h(Ni,'skipRender'+'After',-0x2e7*-0xd+-0x1*-0x1066+0x1bf*-0x1f);let fl=Ni,uf=-0x1*-0x1bd1+-0x1486+-0x74b;const co=[],hc=new Set();function tA(_0x46646d,_0x13b787){return _0x46646d['drawOrder']-_0x13b787['drawOrder'];}function sA(_0xba5f,_0x1b53fa){const _0x4bf509=_0xba5f['_sortKeyFo'+'rward'],_0x592fbb=_0x1b53fa['_sortKeyFo'+'rward'];return _0x4bf509===_0x592fbb?_0x1b53fa['mesh']['id']-_0xba5f['mesh']['id']:_0x592fbb-_0x4bf509;}function iA(_0x586bc7,_0x1c11f6){return _0x1c11f6['_sortKeyDy'+'namic']-_0x586bc7['_sortKeyDy'+'namic'];}function rA(_0x367cb8,_0x424535){return _0x367cb8['_sortKeyDy'+'namic']-_0x424535['_sortKeyDy'+'namic'];}const aA=[null,tA,sA,iA,rA];class nA{constructor(){h(this,'opaque',[]),h(this,'transparen'+'t',[]);}}class Ot{constructor(_0x1a500e={}){h(this,'meshInstan'+'ces',[]),h(this,'meshInstan'+'cesSet',new Set()),h(this,'shadowCast'+'ers',[]),h(this,'shadowCast'+'ersSet',new Set()),h(this,'_visibleIn'+'stances',new WeakMap()),h(this,'_lights',[]),h(this,'_lightsSet',new Set()),h(this,'_clustered'+'LightsSet',new Set()),h(this,'_splitLigh'+'ts',[[],[],[]]),h(this,'_splitLigh'+'tsDirty',!(-0x1de1*0x1+-0x2dd*0xb+0x3d60)),h(this,'requiresLi'+'ghtCube',!(-0xf85*-0x1+0x1b4e+0x7*-0x61e)),h(this,'cameras',[]),h(this,'camerasSet',new Set()),h(this,'_dirtyComp'+'osition',!(0x551*-0x5+-0x286*0x1+0x1d1c)),(_0x1a500e['id']!==void(0x678+-0x48e+-0x1ea)?(this['id']=_0x1a500e['id'],uf=Math['max'](this['id']+(0xf7*-0xb+-0x1b19*0x1+0x25b7),uf)):this['id']=uf++,this['name']=_0x1a500e['name'],this['_enabled']=_0x1a500e['enabled']??!(0x110d+-0x2314+0x1207),this['_refCounte'+'r']=this['_enabled']?-0x1c1f+-0x83d+0x245d:-0x1*0x182d+0x6cf+0x115e,this['opaqueSort'+'Mode']=_0x1a500e['opaqueSort'+'Mode']??Yw,this['transparen'+'tSortMode']=_0x1a500e['transparen'+'tSortMode']??m_,_0x1a500e['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x1a500e['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x1a500e['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x1a500e['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x1a500e['clearStenc'+'ilBuffer'],this['onEnable']=_0x1a500e['onEnable'],this['onDisable']=_0x1a500e['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=0x598+0xe00+0x1398*-0x1,this['_lightHash'+'Dirty']=!(0x23f9+0x1*0x11d9+0x35d1*-0x1),this['_lightIdHa'+'sh']=0x1db3*-0x1+-0x8dd*0x3+0x1*0x384a,this['_lightIdHa'+'shDirty']=!(-0xfac+-0x18f4*-0x1+-0x947),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=-0x11d9+-0x166b+0x2844,this['_renderTim'+'e']=0x16cc+0x1982+-0x304e,this['_forwardDr'+'awCalls']=0x119f+-0x503+-0xc9c,this['_shadowDra'+'wCalls']=-0xb41*0x2+0x18c1+-0x23f,this['_shaderVer'+'sion']=-(-0x268e+0x43*-0x61+0x3ff2));}set['enabled'](_0xeb114e){_0xeb114e!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(0x8b*-0x1d+-0x1a5c+0x2a1b),this['_enabled']=_0xeb114e,_0xeb114e?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x36268b){this['_clearColo'+'rBuffer']=_0x36268b,this['_dirtyComp'+'osition']=!(0x3ae+0x1852+-0x1c00);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x452e1d){this['_clearDept'+'hBuffer']=_0x452e1d,this['_dirtyComp'+'osition']=!(-0x1*0x9fd+0xddf+-0x3e2);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x27248d){this['_clearSten'+'cilBuffer']=_0x27248d,this['_dirtyComp'+'osition']=!(-0x1d49+0x1a4+-0x7*-0x3f3);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>0x2439+-0x1d7a+-0x6bf;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===-0xe89+-0xbd*0x21+0x26e6&&(this['_enabled']=!(0x1*0x1a73+-0x469*0x5+-0x466),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===0x3fc*-0x3+0xe97+-0x2a2)this['_enabled']=!(-0x1eab+0x2468+-0x16f*0x4),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===-0x116*-0x17+-0xdf8+0x581*-0x2){w['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x4743c3,_0x5644b0){const _0x5ef01e=this['meshInstan'+'ces'],_0x4bd79b=this['meshInstan'+'cesSet'];for(let _0x3a3339=0x1e0a+-0x2186+0x37c*0x1;_0x3a3339<_0x4743c3['length'];_0x3a3339++){const _0x585909=_0x4743c3[_0x3a3339];_0x4bd79b['has'](_0x585909)||(_0x5ef01e['push'](_0x585909),_0x4bd79b['add'](_0x585909),hc['add'](_0x585909['material']));}if(_0x5644b0||this['addShadowC'+'asters'](_0x4743c3),hc['size']>-0x29d*-0x9+0xe78*-0x1+-0x90d*0x1){const _0x4f3eff=this['_shaderVer'+'sion'];hc['forEach'](_0x500f4b=>{_0x4f3eff>=0x135b+-0x1*-0x11e1+-0x253c&&_0x500f4b['_shaderVer'+'sion']!==_0x4f3eff&&(_0x500f4b['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant']&&_0x500f4b['clearVaria'+'nts'](),_0x500f4b['_shaderVer'+'sion']=_0x4f3eff);}),hc['clear']();}}['removeMesh'+'Instances'](_0x2ff5bc,_0xdf8e6e){const _0x500e99=this['meshInstan'+'ces'],_0x2deeaf=this['meshInstan'+'cesSet'];for(let _0x907727=-0x1232+-0xa07*-0x3+-0x1*0xbe3;_0x907727<_0x2ff5bc['length'];_0x907727++){const _0x5b1cac=_0x2ff5bc[_0x907727];if(_0x2deeaf['has'](_0x5b1cac)){_0x2deeaf['delete'](_0x5b1cac);const _0x4de214=_0x500e99['indexOf'](_0x5b1cac);_0x4de214>=0x25a+0x235d*0x1+-0x25b7&&_0x500e99['splice'](_0x4de214,0x1a4d+0xbf0+-0x98f*0x4);}}_0xdf8e6e||this['removeShad'+'owCasters'](_0x2ff5bc);}['addShadowC'+'asters'](_0x41ceac){const _0x276f6c=this['shadowCast'+'ers'],_0x1d548c=this['shadowCast'+'ersSet'];for(let _0x10bcde=-0x241a+-0x1900+-0xed*-0x42;_0x10bcde<_0x41ceac['length'];_0x10bcde++){const _0x4ffc29=_0x41ceac[_0x10bcde];_0x4ffc29['castShadow']&&!_0x1d548c['has'](_0x4ffc29)&&(_0x1d548c['add'](_0x4ffc29),_0x276f6c['push'](_0x4ffc29));}}['removeShad'+'owCasters'](_0x59de48){const _0x164f88=this['shadowCast'+'ers'],_0x5a4182=this['shadowCast'+'ersSet'];for(let _0x2b6580=-0x8cb*0x1+0x18ea+-0x101f;_0x2b6580<_0x59de48['length'];_0x2b6580++){const _0x1f2509=_0x59de48[_0x2b6580];if(_0x5a4182['has'](_0x1f2509)){_0x5a4182['delete'](_0x1f2509);const _0x446f05=_0x164f88['indexOf'](_0x1f2509);_0x446f05>=-0x5e9*-0x2+0x1a7b+-0xb9*0x35&&_0x164f88['splice'](_0x446f05,-0x6e2+0x1064+-0x981);}}}['clearMeshI'+'nstances'](_0xc7ae4f=!(-0xd6e+-0xee7+0x1c56)){this['meshInstan'+'ces']['length']=0x53*-0x3b+0x1a64+-0x743,this['meshInstan'+'cesSet']['clear'](),_0xc7ae4f||(this['shadowCast'+'ers']['length']=0x1*0x1871+0x20*-0x9a+-0x531,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(-0x2a3*0xd+-0x7*-0x257+-0x8f3*-0x2),this['_lightIdHa'+'shDirty']=!(-0x47*0xd+0x1*0x1b55+-0x17ba),this['_splitLigh'+'tsDirty']=!(0x9e7+0x12f6+-0x1cdd);}['hasLight'](_0x116406){return this['_lightsSet']['has'](_0x116406);}['addLight'](_0x5c986a){const _0x591202=_0x5c986a['light'];this['_lightsSet']['has'](_0x591202)||(this['_lightsSet']['add'](_0x591202),this['_lights']['push'](_0x591202),this['markLights'+'Dirty']()),_0x591202['type']!==ve&&this['_clustered'+'LightsSet']['add'](_0x591202);}['removeLigh'+'t'](_0x56e7bd){const _0x4d1f99=_0x56e7bd['light'];this['_lightsSet']['has'](_0x4d1f99)&&(this['_lightsSet']['delete'](_0x4d1f99),this['_lights']['splice'](this['_lights']['indexOf'](_0x4d1f99),0x1370*-0x1+0x227c+-0xf0b),this['markLights'+'Dirty']()),_0x4d1f99['type']!==ve&&this['_clustered'+'LightsSet']['delete'](_0x4d1f99);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x2c583b=>_0x2c583b['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=-0x1520+-0x18b5+0x2dd5,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(-0x1*-0x17e2+0x181c*0x1+0x13b*-0x27);const _0x49269e=this['_splitLigh'+'ts'];for(let _0x148bf1=-0x884*-0x1+0xe0a+-0xb47*0x2;_0x148bf1<_0x49269e['length'];_0x148bf1++)_0x49269e[_0x148bf1]['length']=0x887*0x3+0x595*0x2+-0x24bf*0x1;const _0x200f6d=this['_lights'];for(let _0x299a3d=0x933+-0x1895+0xf62;_0x299a3d<_0x200f6d['length'];_0x299a3d++){const _0x4dc191=_0x200f6d[_0x299a3d];_0x4dc191['enabled']&&_0x49269e[_0x4dc191['_type']]['push'](_0x4dc191);}for(let _0x567357=0x1c00+-0xa8+0x118*-0x19;_0x567357<_0x49269e['length'];_0x567357++)_0x49269e[_0x567357]['sort']((_0x405c92,_0x1b6e09)=>_0x405c92['key']-_0x1b6e09['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x2ee132,_0x439bf9,_0x38d630){let _0x3fd91d=-0x774+-0x6*0x9b+-0xb*-0x102;const _0x5e2e0d=this['_lights'];for(let _0xc32c3c=-0x246a+0x1edd+-0x1*-0x58d;_0xc32c3c<_0x5e2e0d['length'];_0xc32c3c++){const _0x1910b2=_0x5e2e0d[_0xc32c3c]['type']!==ve;(_0x2ee132&&_0x1910b2||_0x439bf9&&!_0x1910b2)&&co['push'](_0x38d630?_0x5e2e0d[_0xc32c3c]['id']:_0x5e2e0d[_0xc32c3c]['key']);}return co['length']>0x1*-0x1e7f+-0x419*0x1+0x36*0xa4&&(co['sort'](),_0x3fd91d=By(co),co['length']=-0x22*-0xa6+-0x1090+-0x1*0x57c),_0x3fd91d;}['getLightHa'+'sh'](_0x3ef71c){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(-0xf7c+0x79e+0x7df),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x3ef71c,!(0xdf*-0x29+-0x13*-0x64+-0x1c4b*-0x1),!(0x1d63+0x65*-0x26+-0xe64))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(0x1e86+0x18a*-0xf+-0x76f),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(0xe3+0xafb+0x1f*-0x62),!(-0x195c*-0x1+-0x203e+0x6e3),!(0x13d0+0x14cc+-0x1*0x289c))),this['_lightIdHa'+'sh'];}['addCamera'](_0x1502bd){this['camerasSet']['has'](_0x1502bd['camera'])||(this['camerasSet']['add'](_0x1502bd['camera']),this['cameras']['push'](_0x1502bd),this['_dirtyComp'+'osition']=!(0x6f7+-0x1abb+-0x37*-0x5c));}['removeCame'+'ra'](_0x573751){if(this['camerasSet']['has'](_0x573751['camera'])){this['camerasSet']['delete'](_0x573751['camera']);const _0x24e260=this['cameras']['indexOf'](_0x573751);this['cameras']['splice'](_0x24e260,0xa4e+0xc61+0x1*-0x16ae),this['_dirtyComp'+'osition']=!(0x32b*0x5+0x1*0x10a9+-0x1040*0x2);}}['clearCamer'+'as'](){this['cameras']['length']=0x826+-0x1375+-0x3c5*-0x3,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(-0x19e6+-0x1*-0xa2a+0xfbc);}['_calculate'+'SortDistan'+'ces'](_0x4c0343,_0x47e3e6,_0x5b42e4){const _0x42ee36=_0x4c0343['length'],{x:_0x5d6acd,y:_0x374866,z:_0x327f3b}=_0x47e3e6,{x:_0x33ec6a,y:_0x4d269a,z:_0x337709}=_0x5b42e4;for(let _0x30211f=0x2584+-0x8*-0x1b4+-0x3324;_0x30211f<_0x42ee36;_0x30211f++){const _0xd8665f=_0x4c0343[_0x30211f];let _0x4997a8;if(_0xd8665f['calculateS'+'ortDistanc'+'e'])_0x4997a8=_0xd8665f['calculateS'+'ortDistanc'+'e'](_0xd8665f,_0x47e3e6,_0x5b42e4);else{const _0x52eea0=_0xd8665f['aabb']['center'];_0x4997a8=(_0x52eea0['x']-_0x5d6acd)*_0x33ec6a+(_0x52eea0['y']-_0x374866)*_0x4d269a+(_0x52eea0['z']-_0x327f3b)*_0x337709;}const _0x986311=_0xd8665f['_drawBucke'+'t']*(-0x132cf4a*-0x6+-0x8fb898c*-0x2+0x2272db2c);_0xd8665f['_sortKeyDy'+'namic']=_0x986311+_0x4997a8;}}['getCulledI'+'nstances'](_0x2c8c97){let _0x16aa78=this['_visibleIn'+'stances']['get'](_0x2c8c97);return _0x16aa78||(_0x16aa78=new nA(),this['_visibleIn'+'stances']['set'](_0x2c8c97,_0x16aa78)),_0x16aa78;}['sortVisibl'+'e'](_0xfd4263,_0x237073){const _0x1bdeb7=_0x237073?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x1bdeb7===Yc)return;const _0x2b9d95=this['getCulledI'+'nstances'](_0xfd4263),_0x48024f=_0x237073?_0x2b9d95['transparen'+'t']:_0x2b9d95['opaque'],_0x2a87b1=_0xfd4263['node'];if(_0x1bdeb7===Zw){const _0x277b13=_0x2a87b1['getPositio'+'n'](),_0x37c914=_0x2a87b1['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x48024f,_0x48024f['length'],_0x277b13,_0x37c914),this['customSort'+'Callback']&&_0x48024f['sort'](this['customSort'+'Callback']);}else{if(_0x1bdeb7===m_||_0x1bdeb7===Kw){const _0x6a54cf=_0x2a87b1['getPositio'+'n'](),_0x1ba244=_0x2a87b1['forward'];this['_calculate'+'SortDistan'+'ces'](_0x48024f,_0x6a54cf,_0x1ba244);}_0x48024f['sort'](aA[_0x1bdeb7]);}}}const oA=(_0x2c68d6,_0xfc93db)=>_0x2c68d6['priority']-_0xfc93db['priority'],ul=_0x4de323=>_0x4de323['sort'](oA);class du extends me{constructor(_0x4fb4b5='Untitled'){super(),h(this,'layerList',[]),h(this,'layerIdMap',new Map()),h(this,'layerNameM'+'ap',new Map()),h(this,'layerOpaqu'+'eIndexMap',new Map()),h(this,'layerTrans'+'parentInde'+'xMap',new Map()),h(this,'subLayerLi'+'st',[]),h(this,'subLayerEn'+'abled',[]),h(this,'cameras',[]),h(this,'_renderAct'+'ions',[]),h(this,'_dirty',!(-0x1de9+-0x759*-0x2+0xf38)),(this['name']=_0x4fb4b5,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x4bd6ed=>_0x4bd6ed['destroy']()),this['_renderAct'+'ions']['length']=-0x12d8+0x8f4+-0x6*-0x1a6;}['markDirty'](){this['_dirty']=!(-0x7f1+0x439+-0x22*-0x1c);}['_update'](){const _0x1468f9=this['layerList']['length'];if(!this['_dirty']){for(let _0x28f771=-0x1b2*0xd+-0x2*-0xd2a+-0x44a;_0x28f771<_0x1468f9;_0x28f771++)if(this['layerList'][_0x28f771]['_dirtyComp'+'osition']){this['_dirty']=!(0x5c*0x51+-0x25e3+0x8c7);break;}}if(this['_dirty']){this['_dirty']=!(-0x24fe+0x3*0x98c+0x3*0x2c9),this['cameras']['length']=-0x2*0x2a9+-0x6c+0x5be;for(let _0x481709=0xfcd+0x2185+-0x3152;_0x481709<_0x1468f9;_0x481709++){const _0x425cd7=this['layerList'][_0x481709];_0x425cd7['_dirtyComp'+'osition']=!(0xcd8+0x1*0x19fc+0x26d3*-0x1);for(let _0x15524e=-0x10*-0x12+0x1664+0x23*-0xac;_0x15524e<_0x425cd7['cameras']['length'];_0x15524e++){const _0x4bff50=_0x425cd7['cameras'][_0x15524e];this['cameras']['indexOf'](_0x4bff50)<0x17*0xa6+-0x8aa*0x2+0x26a&&this['cameras']['push'](_0x4bff50);}}this['cameras']['length']>-0xa8+-0x23f9+0x209*0x12&&ul(this['cameras']);let _0x461a1b=0x1d5e+0xd68+-0x721*0x6;this['destroyRen'+'derActions']();for(let _0x585a6f=-0x2*-0x6e3+-0xb1*-0x2+-0xf28;_0x585a6f<this['cameras']['length'];_0x585a6f++){const _0x1e8f78=this['cameras'][_0x585a6f];if(_0x1e8f78['camera']['renderPass'+'es']['length']>-0x1b0e+-0x640+0x214e){this['addDummyRe'+'nderAction'](_0x461a1b,_0x1e8f78),_0x461a1b++;continue;}let _0x572dfb=!(-0x1f7*0x9+0x8ec+0x8c3);const _0x2547a2=_0x461a1b;let _0x22867b=null,_0x3ddcce=!(0x1*-0x25bd+0xc21+0x199d);for(let _0x177c1e=-0x1e*-0x26+0xfd8+0x362*-0x6;_0x177c1e<_0x1468f9;_0x177c1e++){const _0x4761e4=this['layerList'][_0x177c1e];if(_0x4761e4['enabled']&&this['subLayerEn'+'abled'][_0x177c1e]&&_0x4761e4['cameras']['length']>0x87d+0x12b+-0x9a8&&_0x1e8f78['layers']['indexOf'](_0x4761e4['id'])>=-0xd*-0x3+-0x877+0x70*0x13){!_0x3ddcce&&_0x4761e4['id']===_0x1e8f78['disablePos'+'tEffectsLa'+'yer']&&(_0x3ddcce=!(0x2355+-0x48f+-0x1ec6),_0x22867b&&(_0x22867b['triggerPos'+'tprocess']=!(0x2fb+0x1c6d+0x10c*-0x1e)));const _0x41c509=this['subLayerLi'+'st'][_0x177c1e];_0x22867b=this['addRenderA'+'ction'](_0x461a1b,_0x4761e4,_0x41c509,_0x1e8f78,_0x572dfb,_0x3ddcce),_0x461a1b++,_0x572dfb=!(0x6b9+0x1245+-0x18fd);}}_0x2547a2<_0x461a1b&&(_0x22867b['lastCamera'+'Use']=!(-0x527*-0x5+-0x2439+0xa76)),!_0x3ddcce&&_0x22867b&&(_0x22867b['triggerPos'+'tprocess']=!(0xbc*0x27+0x1*-0x1b6b+-0x1*0x139)),_0x1e8f78['renderTarg'+'et']&&_0x1e8f78['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x2547a2-(-0x2441+0x163d+-0x61*-0x25),_0x1e8f78);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x5662d2){w['assert'](this['_renderAct'+'ions']['length']===_0x5662d2);const _0x3f5e4d=new Pv();return this['_renderAct'+'ions']['push'](_0x3f5e4d),_0x3f5e4d;}['addDummyRe'+'nderAction'](_0x2d421a,_0x58e5d7){const _0x2b2d8b=this['getNextRen'+'derAction'](_0x2d421a);_0x2b2d8b['camera']=_0x58e5d7,_0x2b2d8b['useCameraP'+'asses']=!(-0xb*-0x101+-0x24eb+0x12*0x170);}['addRenderA'+'ction'](_0x4b60f8,_0x46495c,_0x44b56b,_0x5d2848,_0x385e95,_0x1f15db){let _0x29eb1c=_0x46495c['id']!==ps?_0x5d2848['renderTarg'+'et']:null,_0x33ea81=!(-0xd5e*-0x2+0x2*0xa31+-0x2f1d);const _0x57532d=this['_renderAct'+'ions'];for(let _0x498478=_0x4b60f8-(0x2*-0xe18+0x18*0x188+-0x88f);_0x498478>=-0xad*0x2b+0x169+0x1ba6;_0x498478--)if(_0x57532d[_0x498478]['camera']===_0x5d2848&&_0x57532d[_0x498478]['renderTarg'+'et']===_0x29eb1c){_0x33ea81=!(-0x5eb+-0x5ab*0x1+-0xb96*-0x1);break;}_0x1f15db&&_0x5d2848['postEffect'+'sEnabled']&&(_0x29eb1c=null);const _0x1a0f90=this['getNextRen'+'derAction'](_0x4b60f8);_0x1a0f90['triggerPos'+'tprocess']=!(0x768+0xd46+-0x14ad),_0x1a0f90['layer']=_0x46495c,_0x1a0f90['transparen'+'t']=_0x44b56b,_0x1a0f90['camera']=_0x5d2848,_0x1a0f90['renderTarg'+'et']=_0x29eb1c,_0x1a0f90['firstCamer'+'aUse']=_0x385e95,_0x1a0f90['lastCamera'+'Use']=!(0x1813+0x1*-0x16d3+0x1d*-0xb);const _0x5d36a5=_0x385e95||!_0x33ea81,_0x1bf0a8=_0x46495c['clearColor'+'Buffer']||_0x46495c['clearDepth'+'Buffer']||_0x46495c['clearStenc'+'ilBuffer'];return(_0x5d36a5||_0x1bf0a8)&&_0x1a0f90['setupClear'+'s'](_0x5d36a5?_0x5d2848:void(0x17d8*0x1+0x1307+0x893*-0x5),_0x46495c),_0x1a0f90;}['propagateR'+'enderTarge'+'t'](_0x21665e,_0x6d1bda){for(let _0x310838=_0x21665e;_0x310838>=0x5*-0x1bb+0x4ad+0x2*0x1fd;_0x310838--){const _0x56e449=this['_renderAct'+'ions'][_0x310838],_0x2e126=_0x56e449['layer'];if(_0x56e449['renderTarg'+'et']&&_0x2e126['id']!==ps)break;if(_0x2e126['id']===ps)continue;if(_0x56e449['useCameraP'+'asses'])break;const _0x44ea80=_0x56e449==null?void(0x24c0+-0x186b+-0xc55):_0x56e449['camera']['camera'];if(_0x44ea80&&(!_0x6d1bda['camera']['rect']['equals'](_0x44ea80['rect'])||!_0x6d1bda['camera']['scissorRec'+'t']['equals'](_0x44ea80['scissorRec'+'t'])))break;_0x56e449['renderTarg'+'et']=_0x6d1bda['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(mi['get'](Vl)){w['trace'](Vl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x158724=0x5*0x379+-0x1*0x94d+-0x810;_0x158724<this['_renderAct'+'ions']['length'];_0x158724++){const _0x1e5509=this['_renderAct'+'ions'][_0x158724],_0x4f5a44=_0x1e5509['camera'];if(_0x1e5509['useCameraP'+'asses'])w['trace'](Vl,_0x158724+('CustomPass'+'es\x20Cam:\x20')+(_0x4f5a44?_0x4f5a44['entity']['name']:'-'));else{const _0x18a84f=_0x1e5509['layer'],_0x187d78=_0x18a84f['enabled']&&this['isEnabled'](_0x18a84f,_0x1e5509['transparen'+'t']),_0x12a27b=(_0x1e5509['clearColor']?'Color\x20':'.....\x20')+(_0x1e5509['clearDepth']?'Depth\x20':'.....\x20')+(_0x1e5509['clearStenc'+'il']?'Stencil':'.......');w['trace'](Vl,_0x158724+('\x20Cam:\x20'+(_0x4f5a44?_0x4f5a44['entity']['name']:'-'))['padEnd'](0x26*0xcf+-0x18f1+-0x5b3,'\x20')+('\x20Lay:\x20'+_0x18a84f['name'])['padEnd'](-0x1ca1+-0xb*-0x176+0xca5,'\x20')+(_0x1e5509['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x187d78?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x1e5509['renderTarg'+'et']?_0x1e5509['renderTarg'+'et']['name']:'-'))['padEnd'](0x65*-0x1f+0x3c*-0x7+0xdfd*0x1,'\x20')+'\x20Clear:\x20'+_0x12a27b+(_0x1e5509['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x1e5509['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x1e5509['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x41d3da){const _0x1d1738=this['layerIdMap']['get'](_0x41d3da['id'])===_0x41d3da;return w['assert'](!_0x1d1738,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x41d3da['name']),_0x1d1738;}['_isSublaye'+'rAdded'](_0x54cabe,_0x3800a5){return(_0x3800a5?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x54cabe)!==void(-0x525+0x1eeb+-0x19c6)?(w['error']('Sublayer\x20'+_0x54cabe['name']+(',\x20transpar'+'ent:\x20')+_0x3800a5+('\x20is\x20alread'+'y\x20added.')),!(-0x44a+0x1*-0xf7b+-0x13c5*-0x1)):!(-0x3*0x330+-0x1aa9+0x243a);}['push'](_0x3e525d){this['_isLayerAd'+'ded'](_0x3e525d)||(this['layerList']['push'](_0x3e525d),this['layerList']['push'](_0x3e525d),this['_opaqueOrd'+'er'][_0x3e525d['id']]=this['subLayerLi'+'st']['push'](!(0x1657*-0x1+-0x260*-0x4+-0x8*-0x19b))-(-0x257*-0xb+0x1951+0x1*-0x330d),this['_transpare'+'ntOrder'][_0x3e525d['id']]=this['subLayerLi'+'st']['push'](!(-0xe6e+0x3*0x661+-0x4b5))-(0xbf4+-0x62a*0x3+-0x19*-0x43),this['subLayerEn'+'abled']['push'](!(0x242d+0x7ed+-0x2c1a)),this['subLayerEn'+'abled']['push'](!(-0x12fe+-0x211a*0x1+0x3418)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x18*-0x5b+-0x1f9b+0x1713),this['fire']('add',_0x3e525d));}['insert'](_0x4b3091,_0x1efb61){if(this['_isLayerAd'+'ded'](_0x4b3091))return;this['layerList']['splice'](_0x1efb61,0x6c5+-0x3c6+-0x2ff,_0x4b3091,_0x4b3091),this['subLayerLi'+'st']['splice'](_0x1efb61,-0x2371+-0x1318+0x25f*0x17,!(-0x232f+-0xb3*0x4+0x23c*0x11),!(0x2bd*-0xa+-0x1*-0x26c1+-0xb5f));const _0x4c7cb5=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x1efb61,_0x4c7cb5-(0x31*0x82+0x1*-0x2690+0xdaf)),this['_updateTra'+'nsparentOr'+'der'](_0x1efb61,_0x4c7cb5-(-0x256f+-0x1*-0x1853+0xd1d)),this['subLayerEn'+'abled']['splice'](_0x1efb61,0xa6b*-0x3+0xe*0xb2+0x1585,!(0x95f*0x1+-0x1377+0x2*0x50c),!(-0x557+-0x1*-0xc86+-0x72f)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1668+0xad1+0xb97),this['fire']('add',_0x4b3091);}['remove'](_0x5c726f){let _0x2ca9ee=this['layerList']['indexOf'](_0x5c726f);for(delete this['_opaqueOrd'+'er'][_0x2ca9ee],delete this['_transpare'+'ntOrder'][_0x2ca9ee];_0x2ca9ee>=0x3c2+0x2*-0xeca+0x19d2;)this['layerList']['splice'](_0x2ca9ee,0x92b*0x1+0x1d*0xfe+-0x4*0x97c),this['subLayerLi'+'st']['splice'](_0x2ca9ee,-0x1*-0x2286+-0x1c78*-0x1+-0xc99*0x5),this['subLayerEn'+'abled']['splice'](_0x2ca9ee,0x2*0xede+0x5ea+-0x23a5),_0x2ca9ee=this['layerList']['indexOf'](_0x5c726f),this['_dirty']=!(0x85d*0x1+0x13*-0x59+0x2*-0xe1),this['fire']('remove',_0x5c726f);const _0x2841f7=this['layerList']['length'];this['_updateOpa'+'queOrder'](0x1*0x138f+0x6*-0x1ae+-0x97b,_0x2841f7-(0x2111+-0x2*-0x10c2+-0x4294)),this['_updateTra'+'nsparentOr'+'der'](0x5*-0xe2+-0x216e+-0x1*-0x25d8,_0x2841f7-(-0x2100+-0xa0+0x21a1*0x1)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x49f2b0){this['_isSublaye'+'rAdded'](_0x49f2b0,!(-0x1352+0x5*-0x4cb+0x2b4a))||(this['layerList']['push'](_0x49f2b0),this['_opaqueOrd'+'er'][_0x49f2b0['id']]=this['subLayerLi'+'st']['push'](!(-0x210e*-0x1+0x3cc+-0x24d9*0x1))-(-0x19b4+0x268c*-0x1+0x4041),this['subLayerEn'+'abled']['push'](!(-0x1*0x1a89+-0x1*-0x19ed+0x9c)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x669+0x1c67+-0x10*0x22d),this['fire']('add',_0x49f2b0));}['insertOpaq'+'ue'](_0x2373ab,_0x5a1ec6){if(this['_isSublaye'+'rAdded'](_0x2373ab,!(-0xb9*0x11+0xa08+0x242)))return;this['layerList']['splice'](_0x5a1ec6,0x1fe0+-0x116b+-0xe75,_0x2373ab),this['subLayerLi'+'st']['splice'](_0x5a1ec6,0x7*-0x15a+0xe39+-0x4c3,!(-0xb2f+-0x12e*0x11+0x1f3e));const _0x332446=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x5a1ec6,_0x332446-(-0x1*-0x704+-0x2*-0x5c+-0x7bb)),this['subLayerEn'+'abled']['splice'](_0x5a1ec6,0x43*-0x6+0x5*0x347+-0x1*0xed1,!(-0x1a9d+-0xe35*-0x1+0x18d*0x8)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x447*-0x5+0xa7*0x15+0x7b0),this['fire']('add',_0x2373ab);}['removeOpaq'+'ue'](_0x1617fa){for(let _0x1da9ab=0x1bd8+-0x20eb+0x1*0x513,_0x5c8068=this['layerList']['length'];_0x1da9ab<_0x5c8068;_0x1da9ab++)if(this['layerList'][_0x1da9ab]===_0x1617fa&&!this['subLayerLi'+'st'][_0x1da9ab]){this['layerList']['splice'](_0x1da9ab,0x411*0x1+0x9a4+-0xdb4),this['subLayerLi'+'st']['splice'](_0x1da9ab,0x18ee*-0x1+0xda7+0xb48),_0x5c8068--,this['_updateOpa'+'queOrder'](_0x1da9ab,_0x5c8068-(-0x1*-0x91b+-0x7fd+0x3*-0x5f)),this['subLayerEn'+'abled']['splice'](_0x1da9ab,-0x1fc2+0x1*-0x1ccc+0x3c8f),this['_dirty']=!(-0x9*0x364+0x1775+0x70f),this['layerList']['indexOf'](_0x1617fa)<-0x23a1+0x23ae*0x1+-0xd&&this['fire']('remove',_0x1617fa);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x269497){this['_isSublaye'+'rAdded'](_0x269497,!(0x497*-0x1+-0x1c62+0x16f*0x17))||(this['layerList']['push'](_0x269497),this['_transpare'+'ntOrder'][_0x269497['id']]=this['subLayerLi'+'st']['push'](!(0x2353+0x1b57+-0x3eaa))-(-0x3f6+-0x5*-0x2cc+-0xa05),this['subLayerEn'+'abled']['push'](!(0x1843+-0x19bb+-0x4*-0x5e)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x2*0x51b+-0x181b+0x23*0xfb),this['fire']('add',_0x269497));}['insertTran'+'sparent'](_0xbc5b34,_0x5140f5){if(this['_isSublaye'+'rAdded'](_0xbc5b34,!(0x7a4*-0x1+-0x24f5+0x2c99)))return;this['layerList']['splice'](_0x5140f5,0xbea+-0x6c2+-0x528,_0xbc5b34),this['subLayerLi'+'st']['splice'](_0x5140f5,-0x2*-0xb63+0x1626+-0x4*0xb3b,!(-0x7f0*0x4+-0x6fd+0x26bd));const _0x3efbf8=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x5140f5,_0x3efbf8-(-0x4*0x1ca+0x20a8+0x6b*-0x3d)),this['subLayerEn'+'abled']['splice'](_0x5140f5,0x101a+0x9fa+0x4*-0x685,!(-0x1*-0x256+0xbe6+-0xe3c)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x17fa+0x109e+-0x2898),this['fire']('add',_0xbc5b34);}['removeTran'+'sparent'](_0x2cf9ba){for(let _0x257007=-0x9*-0x1d0+0x24a2+0x8d3*-0x6,_0x372cab=this['layerList']['length'];_0x257007<_0x372cab;_0x257007++)if(this['layerList'][_0x257007]===_0x2cf9ba&&this['subLayerLi'+'st'][_0x257007]){this['layerList']['splice'](_0x257007,-0x8f*0x13+0x13b3+-0x915),this['subLayerLi'+'st']['splice'](_0x257007,-0x17cd+0x272*0x3+0x1078),_0x372cab--,this['_updateTra'+'nsparentOr'+'der'](_0x257007,_0x372cab-(0xd69+0x24f3+-0x325b)),this['subLayerEn'+'abled']['splice'](_0x257007,0x18c*0x14+0x95*0x1+0x1*-0x1f84),this['_dirty']=!(0x1939+0xd7a+-0x1*0x26b3),this['layerList']['indexOf'](_0x2cf9ba)<-0x3*-0xb38+-0x14de+-0xcca&&this['fire']('remove',_0x2cf9ba);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x19d607){return this['layerOpaqu'+'eIndexMap']['get'](_0x19d607)??-(-0x1b00+0x162d*-0x1+0x312e);}['getTranspa'+'rentIndex'](_0x287e2c){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x287e2c)??-(0x1f15+-0x30a*-0x5+-0x1*0x2e46);}['isEnabled'](_0x23a469,_0x1c9cf3){if(_0x23a469['enabled']){const _0x4df4a5=_0x1c9cf3?this['getTranspa'+'rentIndex'](_0x23a469):this['getOpaqueI'+'ndex'](_0x23a469);if(_0x4df4a5>=-0x2*0x101f+0x1*0x7a7+0x5*0x4eb)return this['subLayerEn'+'abled'][_0x4df4a5];}return!(0x16f0*-0x1+-0x12a*-0x8+0xda1);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x7b24c4=-0x8d*0x42+0x11*-0x7+0x24d1;_0x7b24c4<this['layerList']['length'];_0x7b24c4++){const _0x330cba=this['layerList'][_0x7b24c4];this['layerIdMap']['set'](_0x330cba['id'],_0x330cba),this['layerNameM'+'ap']['set'](_0x330cba['name'],_0x330cba),(this['subLayerLi'+'st'][_0x7b24c4]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x330cba,_0x7b24c4);}}['getLayerBy'+'Id'](_0x368aa7){return this['layerIdMap']['get'](_0x368aa7)??null;}['getLayerBy'+'Name'](_0x57d6cc){return this['layerNameM'+'ap']['get'](_0x57d6cc)??null;}['_updateOpa'+'queOrder'](_0x28e459,_0x46d768){for(let _0x289608=_0x28e459;_0x289608<=_0x46d768;_0x289608++)this['subLayerLi'+'st'][_0x289608]===!(0x7*-0x3df+0xe64+-0x1*-0xcb6)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x289608]['id']]=_0x289608);}['_updateTra'+'nsparentOr'+'der'](_0x8c573f,_0x7cf769){for(let _0x1b35b0=_0x8c573f;_0x1b35b0<=_0x7cf769;_0x1b35b0++)this['subLayerLi'+'st'][_0x1b35b0]===!(-0x2285*-0x1+-0xf2*-0x24+-0x448d)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x1b35b0]['id']]=_0x1b35b0);}['_sortLayer'+'sDescendin'+'g'](_0x52ac69,_0x12e9fe,_0x1be3f9){let _0x237668=-(0x10dd+0x42d*0x8+-0x3244),_0x1ac89d=-(-0x6a7+0x1032+0x1*-0x98a);for(let _0x7a4049=-0x77*0x17+0x1*-0x8f5+0x13a6*0x1,_0x1c849f=_0x52ac69['length'];_0x7a4049<_0x1c849f;_0x7a4049++){const _0x165252=_0x52ac69[_0x7a4049];_0x1be3f9['hasOwnProp'+'erty'](_0x165252)&&(_0x237668=Math['max'](_0x237668,_0x1be3f9[_0x165252]));}for(let _0x535a06=-0x54e*0x2+0x246b+-0x19cf*0x1,_0x153183=_0x12e9fe['length'];_0x535a06<_0x153183;_0x535a06++){const _0x990329=_0x12e9fe[_0x535a06];_0x1be3f9['hasOwnProp'+'erty'](_0x990329)&&(_0x1ac89d=Math['max'](_0x1ac89d,_0x1be3f9[_0x990329]));}return _0x237668===-(0x4a1*0x3+0x1*-0x1cab+0x1*0xec9)&&_0x1ac89d!==-(0x226a+-0x56*-0x5d+-0x41a7)?0x1b7c+-0x65*0x3e+0x305*-0x1:_0x1ac89d===-(-0x5c+0x1*-0xe6a+-0xd*-0x123)&&_0x237668!==-(-0x1c3b+0x26e9+-0xaad*0x1)?-(-0x1*-0x1bca+0x2280+0x14c3*-0x3):_0x1ac89d-_0x237668;}['sortTransp'+'arentLayer'+'s'](_0x3ca085,_0xe20b5){return this['_sortLayer'+'sDescendin'+'g'](_0x3ca085,_0xe20b5,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0xec58ff,_0x804827){return this['_sortLayer'+'sDescendin'+'g'](_0xec58ff,_0x804827,this['_opaqueOrd'+'er']);}}const dc=new D(),wi={'bias':0x0,'normalBias':0x0},ho=new ie(),pf={'r':0x0,'g':0x1,'b':0x2,'a':0x3},fu={'directional':ve,'omni':Ke,'point':Ke,'spot':Ze},lA=[[new re(-0x7*-0xa5+0x2*0x636+0x1*-0x10ef,-0x11*-0xf+-0x1*-0xe03+0x1*-0xf02,0x1b22+0x2*0x40d+-0x233b,0x3fa+0x102d+0x2*-0xa13)],[new re(0x1dc9+-0x196f+-0x1*0x45a,0x3ef*-0x1+-0x1d46+0x1*0x2135,-0x1*-0xc28+-0x1dbb+0x1193+0.5,0x19*-0xb9+-0x1a00+-0x1*-0x2c11+0.5),new re(0x133*0x11+-0x24e9+-0x5a*-0x2f,-0x184c+-0x8ae+-0x25b*-0xe+0.5,-0x7dc+-0x2033+0x5b9*0x7+0.5,0x823+-0x6aa+0x1d*-0xd+0.5)],[new re(-0xb18+0x1*0x37c+0x79c,0x1*-0x1f35+0x63a+-0x4ff*-0x5,0x1055*0x2+0x1c7b*-0x1+-0x1*0x42f+0.5,-0x94e+-0x1*-0x11f5+-0x8a7+0.5),new re(-0x1035+-0x40*0x4f+-0x23*-0x107,0x94d*-0x2+-0x5d8*-0x4+-0x5e*0xd+0.5,-0x2*-0x745+-0xe15*-0x1+0x11*-0x1af+0.5,0xb*0x255+0x860+-0x1f*0x119+0.5),new re(0x60c+0x5*-0x58a+0x15a6+0.5,-0x8b3+0x1b3d*0x1+-0x6*0x317,-0x831+0x7d+0x7b4+0.5,0x809+-0x3e5+-0x424+0.5)],[new re(0x1*0x821+0xbbb+-0x4f7*0x4,-0x1*0x276+0x222c+-0x1fb6,0x107a*-0x1+-0xacb*0x1+0x1b45+0.5,0xc56+-0x592*0x7+0x1aa8*0x1+0.5),new re(-0x24fa*0x1+-0x1f5*-0x3+-0x1f1b*-0x1,-0x103*-0xd+-0x41f+-0x2*0x484+0.5,-0xe7b+0x185*-0xa+0x1dad+0.5,-0x49*-0x34+-0xfed+-0x1*-0x119+0.5),new re(0x1c11+0xb87+0x4f3*-0x8+0.5,-0x3e*-0x97+0x50a*-0x2+-0x2*0xd3f,-0x26d5+-0x1a44*-0x1+0xc91*0x1+0.5,-0x8c2*-0x2+-0x4ba+-0xcca*0x1+0.5),new re(-0x2191+-0x7*-0x1a6+0x1607*0x1+0.5,-0x1edd+-0x5af*-0x2+0x137f+0.5,0xc*-0x156+-0xab9+0x1ac1+0.5,0x1222+0x137b*0x1+-0x259d+0.5)]],cA={'rrr':0x1,'ggg':0x2,'bbb':0x4,'aaa':0x8,'rgb':0x7};let hA=0x32f+-0x32*-0xb5+-0x2689;class dA{constructor(_0x5e64c2,_0x50217d,_0x6a56f2){this['light']=_0x6a56f2,this['camera']=_0x5e64c2,this['shadowCame'+'ra']=Cv['createShad'+'owCamera'](_0x6a56f2['_shadowTyp'+'e'],_0x6a56f2['_type'],_0x50217d),this['shadowMatr'+'ix']=new te(),this['shadowView'+'port']=new re(0xfa*-0x19+0x1d4e+-0x4e4,-0x1ef1+0xdc9*0x2+0x35f*0x1,0x234e+-0x1bbf*-0x1+-0x3f0c,0x13aa+0x1f1*0x4+-0x1b6d),this['shadowScis'+'sor']=new re(0x3d*-0x8d+0x1221+0x3*0x528,0x9c7*-0x2+0x9*0x368+-0xb1a,-0x25ec*0x1+-0x1166*-0x1+0x1487,-0xf1f+-0x14c1+0x23e1),this['projection'+'Compensati'+'on']=0x802+0xb3*0x2b+-0x2613,this['face']=_0x50217d,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x31fc48=>{_0x31fc48['defaultUni'+'formBuffer']['destroy'](),_0x31fc48['destroy']();}),this['viewBindGr'+'oups']['length']=-0xa*-0x373+-0x1*-0x1ee3+-0x4161;}get['shadowBuff'+'er'](){const _0x552740=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x552740?this['light']['_isPcf']?_0x552740['depthBuffe'+'r']:_0x552740['colorBuffe'+'r']:null;}}class pl{constructor(_0xd3085c,_0x3c1b81){h(this,'layers',new Set()),h(this,'clusteredL'+'ighting'),h(this,'shadowDept'+'hState',Yt['DEFAULT']['clone']()),h(this,'clusteredF'+'lags',-0x4e4+-0x1125+-0x1*-0x1609),h(this,'clusteredD'+'ata',new Uint32Array(0x110+-0x56*0x67+0x15*0x199)),h(this,'clusteredD'+'ata16',new Uint16Array(this['clusteredD'+'ata']['buffer'])),h(this,'_evtDevice'+'Restored',null),(this['device']=_0xd3085c,this['clusteredL'+'ighting']=_0x3c1b81,this['id']=hA++,this['_evtDevice'+'Restored']=_0xd3085c['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this),this['_type']=ve,this['_color']=new ie(-0x8d*0x3e+-0x5*-0x21d+0x1795+0.8,-0x2164+-0x23*0xa5+0x37f3+0.8,0x1*0x1609+-0x22c5+-0x28c*-0x5+0.8),this['_intensity']=-0x193c+-0x5*-0x51c+-0x4f,this['_affectSpe'+'cularity']=!(0x1*-0xabc+0x1998+0x6*-0x27a),this['_luminance']=-0x12bb*0x1+0xe74+0x3*0x16d,this['_castShado'+'ws']=!(-0x3*0xa0d+0x1696+-0x286*-0x3),this['_enabled']=!(-0x17b*0x8+-0x4f*0x77+0x3092*0x1),this['_mask']=Ss,this['isStatic']=!(0x1e5a+0xaad+-0x3b*0xb2),this['key']=-0x2*-0x135a+-0x2700+0x4c,this['bakeDir']=!(-0x283*0x5+0x1c0+0xacf),this['bakeNumSam'+'ples']=0x5c4*0x2+0x2*0xf6b+-0x2a5d,this['bakeArea']=0x1bf4+0xd*-0x8b+-0x3*0x6f7,this['attenuatio'+'nStart']=-0xdb2+-0x2679+0x3435,this['attenuatio'+'nEnd']=-0x9d*0x39+-0x1cb*-0x3+0x1d9e,this['_falloffMo'+'de']=Qp,this['_shadowTyp'+'e']=$s,this['_vsmBlurSi'+'ze']=0x23b8+-0x1*0x10eb+-0x12c2,this['vsmBlurMod'+'e']=em,this['vsmBias']=(-0x60+-0x2230+0x2290+0.01)*(-0x1*0x404+-0x192d+0x2f*0x9f+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=-0xbbc*-0x2+-0x1*-0x324+-0x1a9b,this['_cookieFal'+'loff']=!(-0x1*-0x5dd+-0x1*-0x214b+-0xe*0x2cc),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(0x1c4b+-0x1*-0x631+-0x2278),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(0x1*0x1984+-0xbf9+-0x2b5*0x5),this['_cookieTra'+'nsformSet']=!(0x1*-0xf1+0x33d*-0xc+0x27ce),this['_cookieOff'+'setSet']=!(-0x24b4+0x254a+-0x95),this['_innerCone'+'Angle']=0x1*0x2bd+-0x1c8+0x5*-0x29,this['_outerCone'+'Angle']=-0x148e+0x419+0x2*0x851,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=0x1f3c+-0xad*-0x1+-0x7fa*0x4,this['_cascadeBl'+'end']=0x2056+-0x164d+-0x1*0xa09,this['cascadeDis'+'tribution']=0x1*0x20f9+0x15b2*0x1+-0x36ab+0.5,this['_shape']=Ys,this['_colorLine'+'ar']=new Float32Array(-0x159d*-0x1+0x1e3f+-0x33d9),this['_updateLin'+'earColor'](),this['_position']=new D(0x2353+0x222d+0x458*-0x10,-0xdae*0x2+-0x17de+0x333a,-0xd2c+0x1*0x7da+0x552),this['_direction']=new D(-0xf9f+-0x13ab+0x234a*0x1,-0x5ad+-0x31b+0x8c8,-0xfd5+-0x69*0x25+0x2*0xf81),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(-0x19bd+0x1565*-0x1+-0xd*-0x3ae)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(0x244f+0x2*-0xb+-0x21*0x119),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=-0x2291*-0x1+0x2215+-0x31d*0x16,this['_shadowRes'+'olution']=-0x77d+-0x4*0x8f4+0x2f4d,this['_shadowBia'+'s']=-(0x16e5*0x1+0x6*-0x53f+-0x895*-0x1+0.0005),this['_shadowInt'+'ensity']=0x1bed+-0x8be+-0x1*0x132e,this['_normalOff'+'setBias']=-0x17f2+0xf34+0x8be,this['shadowUpda'+'teMode']=lm,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(0x961*-0x1+0x2b0+0x6b2),this['_isPcf']=!(-0xde7*-0x2+-0x5c6*0x1+-0x1608),this['_softShado'+'wParams']=new Float32Array(0x9ac+-0x1*-0x156b+0x5*-0x637),this['shadowSamp'+'les']=-0xaff*0x2+-0x17*0x14f+-0x1*-0x3427,this['shadowBloc'+'kerSamples']=0x203c+0x18a9+-0x38d5,this['penumbraSi'+'ze']=-0x72*-0x4a+0xe2c*-0x2+0x3*-0x189,this['penumbraFa'+'lloff']=-0xd7e+0x15a*-0x11+0x1*0x2479,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(-0xbc4+-0x90d*-0x4+-0x186f),this['atlasVersi'+'on']=0x117*0x1+0x2f9*-0x4+0xacd,this['atlasSlotI'+'ndex']=0xc82*0x1+-0x2455+0x17d3,this['atlasSlotU'+'pdated']=!(-0x1f*0xdc+0x14da+0x5cb),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(0xb55+-0x1dc9+0x1275),this['maxScreenS'+'ize']=0x659+0x1b1e+-0x2177*0x1,this['_updateSha'+'dowBias']());}['destroy'](){var _0x486f40;(_0x486f40=this['_evtDevice'+'Restored'])==null||_0x486f40['off'](),this['_evtDevice'+'Restored']=null,this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['onDeviceRe'+'stored'](){this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr);}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x349f42=-0x1*-0x2135+0x8b*0x2c+-0x2f*0x137;_0x349f42<this['_renderDat'+'a']['length'];_0x349f42++)this['_renderDat'+'a'][_0x349f42]['destroy']();this['_renderDat'+'a']['length']=0xd7*-0x1+0x7e1*0x4+0x1*-0x1ead;}}['addLayer'](_0x198b14){this['layers']['add'](_0x198b14);}['removeLaye'+'r'](_0x58d442){this['layers']['delete'](_0x58d442);}set['shadowSamp'+'les'](_0x1886b2){this['_softShado'+'wParams'][-0x6b1+-0x6d*0x51+0x6*0x6dd]=_0x1886b2;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][0x1971+0x1*0x2659+0x3fca*-0x1];}set['shadowBloc'+'kerSamples'](_0xb8ed6f){this['_softShado'+'wParams'][0x21c7+0x43e+-0x1302*0x2]=_0xb8ed6f;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][-0x7b4+-0x57d+0xd32];}set['shadowBias'](_0x44fb5e){this['_shadowBia'+'s']!==_0x44fb5e&&(this['_shadowBia'+'s']=_0x44fb5e,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x2f2b51){(!this['cascades']||this['numCascade'+'s']!==_0x2f2b51)&&(this['cascades']=lA[_0x2f2b51-(0x14d*-0x1d+0x21e*0x7+0x16e8)],this['_shadowMat'+'rixPalette']=new Float32Array(-0xe6d+-0x1151*0x2+0x314f),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(-0x7b5*0x1+-0x12ac+-0x1a65*-0x1),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x3ab62c){this['_cascadeBl'+'end']!==_0x3ab62c&&(this['_cascadeBl'+'end']=_0x3ab62c,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x35da52){this['_shadowMap']!==_0x35da52&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x35da52);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x3e4414){this['_mask']!==_0x3e4414&&(this['_mask']=_0x3e4414,this['updateKey'](),this['updateClus'+'teredFlags']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x435cd7=this['_type'];return _0x435cd7===ve?this['numCascade'+'s']:_0x435cd7===Ke?-0x23c+-0x1*-0x169d+-0x243*0x9:-0x4d*-0x5e+0x13d5+-0x301a;}set['type'](_0x3d93c9){if(this['_type']===_0x3d93c9)return;this['_type']=_0x3d93c9,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x590b9a=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x590b9a;}get['type'](){return this['_type'];}set['shape'](_0x391e36){if(this['_shape']===_0x391e36)return;this['_shape']=_0x391e36,this['_destroySh'+'adowMap'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x296b01=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x296b01;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x5e00a3){this['_usePhysic'+'alUnits']!==_0x5e00a3&&(this['_usePhysic'+'alUnits']=_0x5e00a3,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x312ccb){if(this['_shadowTyp'+'e']===_0x312ccb)return;let _0x1ab463=qi['get'](_0x312ccb);_0x1ab463||(_0x312ccb=$s);const _0x394071=this['device'];_0x312ccb===al&&!_0x394071['textureFlo'+'atRenderab'+'le']&&!_0x394071['textureHal'+'fFloatRend'+'erable']&&(_0x312ccb=$s),this['_type']===Ke&&_0x312ccb!==tv&&_0x312ccb!==$s&&_0x312ccb!==sv&&_0x312ccb!==iv&&_0x312ccb!==al&&(_0x312ccb=$s),_0x312ccb===Jp&&(!_0x394071['textureFlo'+'atRenderab'+'le']||!_0x394071['textureFlo'+'atFilterab'+'le'])&&(_0x312ccb=au),_0x312ccb===au&&!_0x394071['textureHal'+'fFloatRend'+'erable']&&(_0x312ccb=$s),_0x1ab463=qi['get'](_0x312ccb),this['_isVsm']=(_0x1ab463==null?void(0x167*-0x1+-0x4cb+-0xd*-0x7a):_0x1ab463['vsm'])??!(0x15d9+-0xe*0xe6+0x4*-0x251),this['_isPcf']=(_0x1ab463==null?void(-0x65*0xf+0x6*0x49e+0x1ad*-0xd):_0x1ab463['pcf'])??!(-0x74b+0xe9*-0x1f+0x2383),this['_shadowTyp'+'e']=_0x312ccb,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0xd15f29){this['_enabled']!==_0xd15f29&&(this['_enabled']=_0xd15f29,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x424a88){this['_castShado'+'ws']!==_0x424a88&&(this['_castShado'+'ws']=_0x424a88,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==fi&&this['_mask']!==0x1561+0x2e9*0xc+-0x384d;}set['shadowInte'+'nsity'](_0x2ad619){this['_shadowInt'+'ensity']!==_0x2ad619&&(this['_shadowInt'+'ensity']=_0x2ad619,this['updateKey']());}get['shadowInte'+'nsity'](){return this['_shadowInt'+'ensity'];}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===fi;}set['shadowReso'+'lution'](_0x3e4314){this['_shadowRes'+'olution']!==_0x3e4314&&(this['_type']===Ke?_0x3e4314=Math['min'](_0x3e4314,this['device']['maxCubeMap'+'Size']):_0x3e4314=Math['min'](_0x3e4314,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x3e4314,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x41a2f5){this['_vsmBlurSi'+'ze']!==_0x41a2f5&&(_0x41a2f5%(0x9b*0x8+0x1*-0x1f51+-0x1*-0x1a7b)===-0x7*-0x574+-0x7e6*0x2+-0x1660&&_0x41a2f5++,this['_vsmBlurSi'+'ze']=_0x41a2f5);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x6f7956){if(this['_normalOff'+'setBias']!==_0x6f7956){const _0x43aadb=!this['_normalOff'+'setBias']&&_0x6f7956||this['_normalOff'+'setBias']&&!_0x6f7956;this['_normalOff'+'setBias']=_0x6f7956,_0x43aadb&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x44ec6b){this['_falloffMo'+'de']!==_0x44ec6b&&(this['_falloffMo'+'de']=_0x44ec6b,this['updateKey'](),this['updateClus'+'teredFlags']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x514b7b){this['_innerCone'+'Angle']!==_0x514b7b&&(this['_innerCone'+'Angle']=_0x514b7b,this['_innerCone'+'AngleCos']=Math['cos'](_0x514b7b*Math['PI']/(-0x1cf7+0xacb+0x12e0)),this['updateClus'+'terData'](!(0x1ff4+0x16*-0xc7+-0x15*0xb5),!(0x1a91+-0x1*-0x88f+-0x232*0x10)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0xf9fbda){this['_outerCone'+'Angle']!==_0xf9fbda&&(this['_outerCone'+'Angle']=_0xf9fbda,this['_updateOut'+'erAngle'](_0xf9fbda),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x244891){this['_penumbraS'+'ize']=_0x244891,this['_softShado'+'wParams'][0x1ef0+-0x13*0xa2+-0x974*0x2]=_0x244891;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x253448){this['_softShado'+'wParams'][-0xd*0x19b+0x1*0x40f+0x10d3]=_0x253448;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][0x37+-0x7f1+-0x1*-0x7bd];}['_updateOut'+'erAngle'](_0x6033bd){const _0x470d02=_0x6033bd*Math['PI']/(-0x73*-0x47+-0xbf7+0x2*-0x99d);this['_outerCone'+'AngleCos']=Math['cos'](_0x470d02),this['_outerCone'+'AngleSin']=Math['sin'](_0x470d02),this['updateClus'+'terData'](!(-0x595*0x1+-0x19e*0x5+0xdac),!(0x11cd+0x176a+-0x2937));}set['intensity'](_0x58246a){this['_intensity']!==_0x58246a&&(this['_intensity']=_0x58246a,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x5dfd10){this['_type']===ve&&(this['_affectSpe'+'cularity']=_0x5dfd10,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x4d2141){this['_luminance']!==_0x4d2141&&(this['_luminance']=_0x4d2141,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new te()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new re(-0x19f6+0x1e16+0xb0*-0x6,-0x14d9+-0x1a20+0xb9*0x41,0x71*-0x9+-0x102*-0x1a+0x2*-0xb1d,0x161f+-0x13*-0xc7+-0x24e3)),this['_atlasView'+'port'];}set['cookie'](_0x1537da){this['_cookie']!==_0x1537da&&(this['_cookie']=_0x1537da,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x4cce1f){this['_cookieFal'+'loff']!==_0x4cce1f&&(this['_cookieFal'+'loff']=_0x4cce1f,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x100d9b){if(this['_cookieCha'+'nnel']!==_0x100d9b){if(_0x100d9b['length']<0x236c+-0x794+-0x4b*0x5f){const _0x375921=_0x100d9b['charAt'](_0x100d9b['length']-(-0x15a*-0x1a+0x24fe+-0x4821)),_0xa068d5=-0xf47+0x5*0x5c9+-0x1*0xda3-_0x100d9b['length'];for(let _0x1b5b6d=-0xcd4*0x1+0x16ee+-0xa1a;_0x1b5b6d<_0xa068d5;_0x1b5b6d++)_0x100d9b+=_0x375921;}this['_cookieCha'+'nnel']=_0x100d9b,this['updateKey'](),this['updateClus'+'teredFlags']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x2f16ac){this['_cookieTra'+'nsform']!==_0x2f16ac&&(this['_cookieTra'+'nsform']=_0x2f16ac,this['_cookieTra'+'nsformSet']=!!_0x2f16ac,_0x2f16ac&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new J(),this['_cookieOff'+'setSet']=!(-0x25*0x6f+0x20e5+-0x10d9)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x239876){if(this['_cookieOff'+'set']===_0x239876)return;!!(this['_cookieTra'+'nsformSet']||_0x239876)&&!_0x239876&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](-0x9*0x1b+-0x138d+0x1480,0x14f3+-0xa91+-0xa62):this['_cookieOff'+'set']=_0x239876,this['_cookieOff'+'setSet']=!!_0x239876,_0x239876&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new re(-0x26c9+-0x1*-0x269+0x2461,0xfeb+0x13fd+-0x23e7,-0xa31*0x1+-0x2370+-0x1*-0x2da1,-0x26ce+-0x87*0x25+0x3a51),this['_cookieTra'+'nsformSet']=!(-0x1ab3+0x1*0x16b0+0x404)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===ve&&this['_enabled'],this['maxScreenS'+'ize']=0x11*-0x3+0x1*0x10c1+-0x108e,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x10a9+0x6*0x263+0x258),this['atlasSlotU'+'pdated']=!(0x1c82+0x139d+-0x100a*0x3);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr),this['shadowUpda'+'teOverride'+'s']){for(let _0x26d705=0x25f3+-0x48e+-0x2165;_0x26d705<this['shadowUpda'+'teOverride'+'s']['length'];_0x26d705++)this['shadowUpda'+'teOverride'+'s'][_0x26d705]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x26d705]=xr);}}['getRenderD'+'ata'](_0x37e59f,_0x6df380){for(let _0x24c052=-0x31*0x7+-0x106b+0x11c2;_0x24c052<this['_renderDat'+'a']['length'];_0x24c052++){const _0xeb9d87=this['_renderDat'+'a'][_0x24c052];if(_0xeb9d87['camera']===_0x37e59f&&_0xeb9d87['face']===_0x6df380)return _0xeb9d87;}const _0x1eb900=new dA(_0x37e59f,_0x6df380,this);return this['_renderDat'+'a']['push'](_0x1eb900),_0x1eb900;}['clone'](){const _0x15c99d=new pl(this['device'],this['clusteredL'+'ighting']);return _0x15c99d['type']=this['_type'],_0x15c99d['setColor'](this['_color']),_0x15c99d['intensity']=this['_intensity'],_0x15c99d['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x15c99d['luminance']=this['_luminance'],_0x15c99d['castShadow'+'s']=this['castShadow'+'s'],_0x15c99d['_enabled']=this['_enabled'],_0x15c99d['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x15c99d['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x15c99d['falloffMod'+'e']=this['_falloffMo'+'de'],_0x15c99d['shadowType']=this['_shadowTyp'+'e'],_0x15c99d['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x15c99d['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x15c99d['vsmBias']=this['vsmBias'],_0x15c99d['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x15c99d['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x15c99d['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x15c99d['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x15c99d['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x15c99d['numCascade'+'s']=this['numCascade'+'s'],_0x15c99d['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x15c99d['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x15c99d['shape']=this['_shape'],_0x15c99d['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x15c99d['shadowBias']=this['shadowBias'],_0x15c99d['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x15c99d['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x15c99d['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x15c99d['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x15c99d['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x15c99d['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x15c99d['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x15c99d['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x15c99d;}static['getLightUn'+'itConversi'+'on'](_0x50d794,_0x2c2e75=Math['PI']/(-0xb*0x2e3+-0x1*0x1ca6+-0x3c6b*-0x1),_0x52be5b=0x1*-0x164f+-0x52f*-0x1+-0x8*-0x224){switch(_0x50d794){case Ze:{const _0x5553f4=Math['cos'](_0x2c2e75),_0xb4f2b0=Math['cos'](_0x52be5b);return(0xb*-0xb+0x66*-0x61+0x1*0x2721)*Math['PI']*(-0x901+-0x1*-0x221+0x6e1*0x1-_0xb4f2b0+(_0xb4f2b0-_0x5553f4)/(-0xf31+0xdcd*-0x1+0xe8*0x20));}case Ke:return(0x64*-0x1d+0x402+0x756)*Math['PI'];case ve:return 0x16e1+-0x1*-0xc6f+-0x234f;}}['_getUnifor'+'mBiasValue'+'s'](_0x1d086c){const _0x1e60b4=_0x1d086c['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Ke:wi['bias']=this['shadowBias'],wi['normalBias']=this['_normalOff'+'setBias'];break;case Ze:this['_isVsm']?wi['bias']=-(0x583+0x163f+-0x1bc2+0.00001)*(0x41e+-0x7*-0x376+0x192*-0x12):wi['bias']=this['shadowBias']*(-0x1*0x247d+0x2b*-0xe5+0x2ae*0x1c),wi['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(-0x16bd+-0x1*-0x1ffb+0x151*-0x7)):this['_normalOff'+'setBias'];break;case ve:this['_isVsm']?wi['bias']=-(-0x56*0xe+0x4a0+0x14+0.00001)*(-0x1eb4+-0xff+-0x65b*-0x5):wi['bias']=this['shadowBias']/_0x1e60b4*(0x1e81*0x1+0xef4*0x2+-0x23*0x1b7),wi['normalBias']=this['_isVsm']?this['vsmBias']/(_0x1e60b4/(0xc68+0x501+-0x1162)):this['_normalOff'+'setBias'];break;}return wi;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x13fdb8){if(this['_type']===Ze){const _0x4de9f0=this['attenuatio'+'nEnd'],_0x38a976=this['_outerCone'+'Angle'],_0x1b24e0=this['_outerCone'+'AngleCos'],_0xf92247=this['_node'];dc['copy'](_0xf92247['up']),_0x38a976>0xfad*-0x2+-0x1*-0x1931+0x656?(_0x13fdb8['radius']=_0x4de9f0*this['_outerCone'+'AngleSin'],dc['mulScalar'](-_0x4de9f0*_0x1b24e0)):(_0x13fdb8['radius']=_0x4de9f0/((0x1672+0xeee+-0x1*0x255e)*_0x1b24e0),dc['mulScalar'](-_0x13fdb8['radius'])),_0x13fdb8['center']['add2'](_0xf92247['getPositio'+'n'](),dc);}else this['_type']===Ke&&(_0x13fdb8['center']=this['_node']['getPositio'+'n'](),_0x13fdb8['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x1d7579){if(this['_type']===Ze){const _0x15ac5a=this['attenuatio'+'nEnd'],_0x251413=this['_outerCone'+'Angle'],_0x802d7d=this['_node'],_0x1ff74c=Math['abs'](Math['sin'](_0x251413*Y['DEG_TO_RAD'])*_0x15ac5a);_0x1d7579['center']['set'](0x1*-0x84f+0xc9+0x786,-_0x15ac5a*(-0x19d1+-0x6*-0x4e9+-0x3*0x137+0.5),0x761*-0x4+0x1*0x1ed4+-0x150),_0x1d7579['halfExtent'+'s']['set'](_0x1ff74c,_0x15ac5a*(-0x1*-0x741+-0x2249+0x1b08+0.5),_0x1ff74c),_0x1d7579['setFromTra'+'nsformedAa'+'bb'](_0x1d7579,_0x802d7d['getWorldTr'+'ansform'](),!(-0x1534+0x2622+-0x10ee));}else this['_type']===Ke&&(_0x1d7579['center']['copy'](this['_node']['getPositio'+'n']()),_0x1d7579['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Ke&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=-0x6ae+0x1de*0x11+-0x1910,this['shadowDept'+'hState']['depthBiasS'+'lope']=0xd07+0x3*-0x151+-0x914;else{const _0x246d47=this['shadowBias']*-(-0x1ccf+0x59c+-0x1b1b*-0x1);this['shadowDept'+'hState']['depthBias']=_0x246d47,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x246d47;}}['_updateLin'+'earColor'](){let _0x1b8cff=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x1b8cff=this['_luminance']/pl['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*Y['DEG_TO_RAD'],this['_innerCone'+'Angle']*Y['DEG_TO_RAD']));const _0x473432=this['_color'],_0x500bdb=this['_colorLine'+'ar'];_0x1b8cff>=-0xc85+0x16e*-0x10+0x2e*0xc5?ho['linear'](_0x473432)['mulScalar'](_0x1b8cff):ho['copy'](_0x473432)['mulScalar'](_0x1b8cff)['linear'](),_0x500bdb[0x1269+0x1*-0x2507+0x129e]=ho['r'],_0x500bdb[-0x7*0x207+-0x1*-0x361+0xad1]=ho['g'],_0x500bdb[-0x4a2+-0x42*0x53+0xd05*0x2]=ho['b'],this['updateClus'+'terData'](!(0x8a8+0x1b0a+-0x23b2));}['setColor'](){arguments['length']===-0x1*-0x1e52+0x1dec+-0x3c3d?this['_color']['set'](arguments[0x5*-0x6bb+-0x23b+0x23e2]['r'],arguments[-0x14bb+0x3e*0x8d+-0xd6b]['g'],arguments[-0x1a04+-0x1b4e+0x3552]['b']):arguments['length']===0x491+0x1db6+-0x2244&&this['_color']['set'](arguments[0xc9*0x14+0x23*0x10d+-0x347b],arguments[-0x13*0x1c9+-0x48d*0x1+0x2679],arguments[0x1*-0x65d+-0x1529+-0xdc4*-0x2]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x235bc5=>{_0x235bc5['hasLight'](this)&&_0x235bc5['markLights'+'Dirty']();});}['updateKey'](){let _0x538532=this['_type']<<0x1163+-0xb79+-0x5cd|this['_shadowTyp'+'e']<<-0x3*-0x53a+0xacc+-0x1a61|this['_falloffMo'+'de']<<0x1ce5+0x21d*-0x11+-0x71f*-0x1|(this['_normalOff'+'setBias']!==-0x24f4+0x981+-0x1*-0x1b73?0xcb9*-0x3+-0x1*0x2a5+0x81*0x51:-0x103a+0x25*0xe5+-0x10df)<<0x20b9+-0x1cb0+-0x3f3|(this['_cookie']?-0x630+-0x186*0x8+0x1261:0x664*0x4+0x1027+0xb5*-0x3b)<<-0x1a2d+0xcf9+0xd49|(this['_cookieFal'+'loff']?0x40f+0x1bd1*-0x1+0x17c3:0x13*0x8f+-0x566*-0x5+-0x259b)<<0x31d+-0x31*-0x41+0xf7a*-0x1|pf[this['_cookieCha'+'nnel']['charAt'](0x9*-0x17b+0x1*-0xab3+0x1806)]<<0x7f5+-0x1*0x17ff+-0x80e*-0x2|(this['_cookieTra'+'nsform']?-0x13c2+-0x2a0+0x1663:-0x288*0x4+0xe6d+-0x44d)<<-0x2*-0x590+-0xb6*-0x2e+-0x18*0x1d3|this['_shape']<<-0xb8*-0x25+-0x2284+0x2*0x3fb|(this['numCascade'+'s']>0x90+-0xfdf*0x1+-0x1*-0xf4f?-0x831+-0x8f5+0x1127:-0xd5c+0x17db*-0x1+0x2537)<<0xe2+0x1f7*-0x8+0xedf|(this['_cascadeBl'+'end']>-0x20+0xb*-0x329+-0xba1*-0x3?0x1b61+-0x4*0x2ef+-0x4*0x3e9:0x116e*0x2+-0x2c*-0xf+-0x2570)<<-0x973+0x26c5+-0x1d4a|(this['affectSpec'+'ularity']?-0x7e*0x38+0xce+0x1ac3:0x1e77+-0x166+-0x7*0x427)<<-0xe7d*0x1+0x1*0x603+-0x7*-0x137|this['mask']<<-0x2*-0x62b+0xf4d+0x1*-0x1b9d|(this['_castShado'+'ws']?-0xd5a*0x1+-0x1*0x2329+-0x4da*-0xa:-0x807+-0x428+-0xc2f*-0x1)<<0x28*-0xf4+-0x385+0x1*0x29a8;this['_cookieCha'+'nnel']['length']===0x16bf+-0x25*-0x90+-0x3a1*0xc&&(_0x538532|=pf[this['_cookieCha'+'nnel']['charAt'](0x1c9f+-0x700+-0x159e)]<<0xb*-0x9d+0x64d*0x1+0x82,_0x538532|=pf[this['_cookieCha'+'nnel']['charAt'](-0x6a6+-0x1c5*0xd+-0x1*-0x1da9)]<<0x3*0x2ea+0x1251+-0x1b01),_0x538532!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x538532;}['updateClus'+'teredFlags'](){const _0x5aff00=!!(this['mask']&Ss),_0x392d9d=!!(this['mask']&di);this['clusteredF'+'lags']=(this['type']===Ze?-0x15*-0x7d+-0x1*-0x11e2+-0x1c22:0x1eb*0x1+-0xe43+0x18b*0x8)<<0x2677*0x1+-0x43*0x3b+-0x16e8|(this['_shape']&0x251*-0xb+-0xc93+0x1*0x2611)<<0xe36+0x26d6+-0x34f0|(this['_falloffMo'+'de']&0x5*0x42d+0x21bc+0x4*-0xda7)<<0x1*-0x12f5+-0x9fc+0x1d0c|(cA[this['_cookieCha'+'nnel']]??0x4*-0x3f8+-0xc87+0x1c67)<<0x4d*0x49+-0x16c2+0xe4|(_0x5aff00?-0x16f*-0x1+0xd0b+0x5f*-0x27:-0x103b+0x1*0x6dc+0x1*0x95f)<<-0x1f91*0x1+-0x1c74+-0x29d*-0x17|(_0x392d9d?-0x16e*-0x8+0x1*-0x1297+-0x4*-0x1ca:0x37*-0x4f+-0x5e5+-0x2*-0xb6f)<<-0x34*-0x40+-0x64d*-0x1+-0x1338;}['getCluster'+'edFlags'](_0x6fc42b,_0x261ef2){return this['clusteredF'+'lags']|((_0x6fc42b?Math['floor'](this['shadowInte'+'nsity']*(-0x12a9+0x245*0x2+0xf1e)):0x617*-0x1+0x10f2+-0x7*0x18d)&0xbdb+-0x2*-0x276+-0xfc8)<<-0x1b1*0xe+0x1ad0+-0x322|((_0x261ef2?Math['floor'](this['cookieInte'+'nsity']*(0x15b+0x17*0x28+-0x3f4)):0xfa9+0x1161*0x1+-0x210a)&0xe*0x52+-0xd00+0x1e7*0x5)<<-0x1342+0x203+0x1147;}['updateClus'+'terData'](_0x28ccf2,_0x27bf0c){const {clusteredData16:_0x404e94}=this,_0x340b11=Mn['float2Half'];_0x28ccf2&&(_0x404e94[-0x1225*-0x1+-0x2ce*-0xc+0x1*-0x33cd]=_0x340b11(Y['clamp'](this['_colorLine'+'ar'][0x211a+0x1c*-0x8+0x226*-0xf]/$c,-0xd66+0x239b+-0x1635,-0x1bbd9+0x1f61c+0xc59d)),_0x404e94[0x14*0xb4+-0x15c1+0x7b2]=_0x340b11(Y['clamp'](this['_colorLine'+'ar'][0x5*-0x111+-0xf75+-0x1*-0x14cb]/$c,-0x5d7+-0xad*0x10+0x10a7,0x22c*0x2+-0x4170+0x13cf8)),_0x404e94[-0x1806+-0x9f7*0x1+0x21ff]=_0x340b11(Y['clamp'](this['_colorLine'+'ar'][-0x1f*-0xcb+-0x2fd*-0x3+-0x6a*0x51]/$c,0x25a1+-0x223c+-0x365,0x8452+-0xad1*0x27+0x22165))),_0x27bf0c&&(_0x404e94[-0x2*0x4c1+-0x217d+0x2b03]=_0x340b11(this['_innerCone'+'AngleCos']),_0x404e94[-0xa0*-0x25+0x69e*-0x3+-0x341*0x1]=_0x340b11(this['_outerCone'+'AngleCos']));}}class Mv{constructor(_0x21933a,_0x311d8d,_0x28ee33){h(this,'_areaLight'+'sEnabled',!(0x623*0x1+0x184b+-0x1e6d)),h(this,'_cells',new D(-0x6b7+0x183b+-0x117a,-0x118+-0x95c*0x2+0x13d3,0x11*0x11+0x114+-0x22b)),h(this,'_maxLights'+'PerCell',-0xa88+-0x94*-0x39+-0x156d),h(this,'_shadowsEn'+'abled',!(-0x1606+0x2*-0x41c+0xe*0x229)),h(this,'_shadowTyp'+'e',$s),h(this,'_shadowAtl'+'asResoluti'+'on',0x21f8+0x177b+-0x3173),h(this,'_cookiesEn'+'abled',!(-0x1241*0x2+-0x26*-0x6d+0x411*0x5)),h(this,'_cookieAtl'+'asResoluti'+'on',0x2*0x1037+-0x6*-0x27b+-0x4a*0x88),h(this,'debugLayer'),h(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x21933a,this['_maxTextur'+'eSize']=_0x311d8d,this['_dirtyLigh'+'tsFnc']=_0x28ee33);}['applySetti'+'ngs'](_0x18d10f){this['shadowsEna'+'bled']=_0x18d10f['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x18d10f['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x18d10f['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x18d10f['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x18d10f['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x18d10f['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x18d10f['lightingSh'+'adowType']??this['shadowType'],_0x18d10f['lightingCe'+'lls']&&(this['cells']=new D(_0x18d10f['lightingCe'+'lls']));}set['cells'](_0x432b6b){this['_cells']['copy'](_0x432b6b);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x2d5c08){this['_maxLights'+'PerCell']=Y['clamp'](_0x2d5c08,0x210+0x1*-0x1f7+-0x2*0xc,-0x1e6e+-0x120*0xa+-0x889*-0x5);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x2b64ca){this['_cookieAtl'+'asResoluti'+'on']=Y['clamp'](_0x2b64ca,-0x1daa+0x1*-0x1201+-0x2fcb*-0x1,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x352bb6){this['_shadowAtl'+'asResoluti'+'on']=Y['clamp'](_0x352bb6,-0x1c2+-0xfa8+0x118a,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x163d3d){this['_shadowTyp'+'e']!==_0x163d3d&&(this['_shadowTyp'+'e']=_0x163d3d,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x20771e){this['_cookiesEn'+'abled']!==_0x20771e&&(this['_cookiesEn'+'abled']=_0x20771e,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x410b53){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x410b53&&(this['_areaLight'+'sEnabled']=_0x410b53,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x1a0e69){this['_shadowsEn'+'abled']!==_0x1a0e69&&(this['_shadowsEn'+'abled']=_0x1a0e69,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}class xa{constructor(_0x4939b1){this['morph']=_0x4939b1,_0x4939b1['incRefCoun'+'t'](),this['device']=_0x4939b1['device'];const _0x5119bd=_0x4939b1['_targets']['length'];this['shader']=this['_createSha'+'der'](_0x5119bd),this['_weights']=[],this['_weightMap']=new Map();for(let _0xee772c=0x783+-0x14*0x196+0x1*0x1835;_0xee772c<_0x4939b1['_targets']['length'];_0xee772c++){const _0x47f61d=_0x4939b1['_targets'][_0xee772c];_0x47f61d['name']&&this['_weightMap']['set'](_0x47f61d['name'],_0xee772c),this['setWeight'](_0xee772c,_0x47f61d['defaultWei'+'ght']);}this['_shaderMor'+'phWeights']=new Float32Array(_0x5119bd),this['_shaderMor'+'phIndex']=new Uint32Array(_0x5119bd);const _0x19bcd0=(_0x10b98f,_0x583fbc)=>(this[_0x583fbc]=_0x4939b1['_createTex'+'ture'](_0x10b98f,_0x4939b1['_renderTex'+'tureFormat']),new gt({'colorBuffer':this[_0x583fbc],'depth':!(-0x117a*0x1+0x1*-0xbf7+0x1d72)}));_0x4939b1['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x19bcd0('MorphRTPos','texturePos'+'itions')),_0x4939b1['morphNorma'+'ls']&&(this['rtNormals']=_0x19bcd0('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x4939b1['morphTextu'+'reWidth'],_0x4939b1['morphTextu'+'reHeight']]);const _0x2d422d=_0x4939b1['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x2d422d['x']*(0x2291+-0x17ef+-0xa9e),_0x2d422d['y']*(-0x5*0x5a7+0x50d*-0x5+0x3588),_0x2d422d['z']*(-0x15b0+-0xc5*-0x1f+0x1d*-0x13)]);const _0x5a6fad=_0x4939b1['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x5a6fad['x']*(-0x10fd+-0x85a+0x9*0x2d1),_0x5a6fad['y']*(0x15a*0x1+-0xc*0x1de+-0x4*-0x544),_0x5a6fad['z']*(-0x192a+-0xd53+0x267f)]),this['_aabbNrmSi'+'ze']=new Float32Array([-0x107+-0x149f+-0x7e*-0x2c,-0x1*-0x20c+0x49*-0x1+-0x1c1*0x1,-0x1eb0+-0x1*0x1fa9+0x3e5b]),this['_aabbNrmMi'+'n']=new Float32Array([-(0x1*-0x238+0x36*-0x5+0x347),-(-0x25f9+0x17d*-0x10+0x3dca),-(-0x9e2+-0x1885*0x1+-0x6*-0x5bc)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin'),this['morphTextu'+'reId']=this['device']['scope']['resolve']('morphTextu'+'re'),this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['morphIndex']=this['device']['scope']['resolve']('morphIndex'+'[0]'),this['countId']=this['device']['scope']['resolve']('count'),this['zeroTextur'+'es']=!(-0x1*-0x2e+0x176b+-0x1798);}['destroy'](){var _0x1b08cc,_0x3e4149,_0x181db3,_0x554354;this['shader']=null;const _0x4533fb=this['morph'];_0x4533fb&&(this['morph']=null,_0x4533fb['decRefCoun'+'t'](),_0x4533fb['refCount']<-0x2*-0x9e3+-0x1a*0x130+-0xb1b*-0x1&&_0x4533fb['destroy']()),(_0x1b08cc=this['rtPosition'+'s'])==null||_0x1b08cc['destroy'](),this['rtPosition'+'s']=null,(_0x3e4149=this['texturePos'+'itions'])==null||_0x3e4149['destroy'](),this['texturePos'+'itions']=null,(_0x181db3=this['rtNormals'])==null||_0x181db3['destroy'](),this['rtNormals']=null,(_0x554354=this['textureNor'+'mals'])==null||_0x554354['destroy'](),this['textureNor'+'mals']=null;}['clone'](){return new xa(this['morph']);}['_getWeight'+'Index'](_0x35f6e5){if(typeof _0x35f6e5=='string'){const _0x435e18=this['_weightMap']['get'](_0x35f6e5);return _0x435e18===void(0x348+0x784+0x566*-0x2)&&w['errorOnce']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x35f6e5+'.'),_0x435e18;}return _0x35f6e5;}['getWeight'](_0x56ec76){const _0x594e8d=this['_getWeight'+'Index'](_0x56ec76);return this['_weights'][_0x594e8d];}['setWeight'](_0x972e75,_0x4e1556){const _0x197b69=this['_getWeight'+'Index'](_0x972e75);w['assert'](_0x197b69>=-0x1*-0x42d+-0xa*-0x1a3+0x3*-0x6d9&&_0x197b69<this['morph']['_targets']['length']),this['_weights'][_0x197b69]=_0x4e1556,this['_dirty']=!(-0x10fa+-0x13ea*-0x1+-0x2f0);}['_createSha'+'der'](_0xac1d89){const _0x572ef0=new Map();_0x572ef0['set']('{MORPH_TEX'+'TURE_MAX_C'+'OUNT}',_0xac1d89),this['morph']['intRenderF'+'ormat']&&_0x572ef0['set']('MORPH_INT','');const _0x1ed4c2=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';return $t['createShad'+'er'](this['device'],{'uniqueName':'TextureMor'+'phShader_'+_0xac1d89+'-'+(this['morph']['intRenderF'+'ormat']?'int':'float'),'attributes':{'vertex_position':Me},'vertexChunk':'morphVS','fragmentChunk':'morphPS','fragmentDefines':_0x572ef0,'fragmentOutputTypes':[_0x1ed4c2]});}['_updateTex'+'tureRender'+'Target'](_0x63936b,_0x43aa81,_0x5f4874){const {morph:_0x59bb7f,device:_0x219853}=this;this['setAabbUni'+'forms'](_0x5f4874),this['morphTextu'+'reId']['setValue'](_0x5f4874?_0x59bb7f['targetsTex'+'turePositi'+'ons']:_0x59bb7f['targetsTex'+'tureNormal'+'s']),_0x219853['setBlendSt'+'ate'](pt['NOBLEND']),this['countId']['setValue'](_0x43aa81),this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),this['morphIndex']['setValue'](this['_shaderMor'+'phIndex']),Ar(_0x219853,_0x63936b,this['shader']);}['_updateTex'+'tureMorph'](_0x49a5dc){const _0x2dbdc0=this['device'];Q['pushGpuMar'+'ker'](_0x2dbdc0,'MorphUpdat'+'e'),(_0x49a5dc>-0x7d6+-0x7f7+-0x5*-0x329||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],_0x49a5dc,!(-0xd18+0x169+0xbaf)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],_0x49a5dc,!(0x2f*0xc3+-0xdfe+-0x15ce)),this['zeroTextur'+'es']=_0x49a5dc===-0x1b97+0xfb3+0x5f2*0x2),Q['popGpuMark'+'er'](_0x2dbdc0);}['setAabbUni'+'forms'](_0x8b81fd=!(-0x5fb*0x5+0x25f*0xb+0x3d2)){this['aabbSizeId']['setValue'](_0x8b81fd?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x8b81fd?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x388b6c){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(0x4*-0x305+-0x1*0x1a27+-0x263c*-0x1);const _0x1a9cf7=this['morph']['_targets'],_0x3563b6=-0x25b9+0x332*0xb+0x293+0.00001,_0x154e58=this['_shaderMor'+'phWeights'],_0x4d1d49=this['_shaderMor'+'phIndex'];let _0x2467ce=-0x1c5f*-0x1+-0x8*-0x3ab+-0x39b7;for(let _0x418205=0x183d+-0x99b*0x1+0xea2*-0x1;_0x418205<_0x1a9cf7['length'];_0x418205++)Math['abs'](this['getWeight'](_0x418205))>_0x3563b6&&(_0x154e58[_0x2467ce]=this['getWeight'](_0x418205),_0x4d1d49[_0x2467ce]=_0x418205,_0x2467ce++);this['_updateTex'+'tureMorph'](_0x2467ce);}}class sr{constructor(){h(this,'graph',null),h(this,'meshInstan'+'ces',[]),h(this,'skinInstan'+'ces',[]),h(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=-0x102f+-0x1f4b*-0x1+0x1*-0xf1c,this['_immutable']=!(-0x2*-0xa81+-0x423*0x9+0x43*0x3e));}['getGraph'](){return this['graph'];}['setGraph'](_0x54b49d){this['graph']=_0x54b49d;}['getCameras'](){return this['cameras'];}['setCameras'](_0x22b618){this['cameras']=_0x22b618;}['getLights'](){return this['lights'];}['setLights'](_0x59e66b){this['lights']=_0x59e66b;}['getMateria'+'ls'](){const _0x13b0e9=[];for(let _0x2415e6=-0x5fc+0x5*0x157+0xb7*-0x1;_0x2415e6<this['meshInstan'+'ces']['length'];_0x2415e6++){const _0x291343=this['meshInstan'+'ces'][_0x2415e6];_0x13b0e9['indexOf'](_0x291343['material'])===-(-0x1aa6+-0x184c+0x32f3)&&_0x13b0e9['push'](_0x291343['material']);}return _0x13b0e9;}['clone'](){const _0x2159be=[],_0x54bb11=[],_0xf8ef4f=function(_0x433bb3){const _0x3b3145=_0x433bb3['clone']();_0x2159be['push'](_0x433bb3),_0x54bb11['push'](_0x3b3145);for(let _0x76e9c2=0x1*0x1b59+-0x25e4+0xa8b;_0x76e9c2<_0x433bb3['_children']['length'];_0x76e9c2++)_0x3b3145['addChild'](_0xf8ef4f(_0x433bb3['_children'][_0x76e9c2]));return _0x3b3145;},_0xb3b59=_0xf8ef4f(this['graph']),_0x46bd6f=[],_0x402834=[],_0x186c96=[];for(let _0x37cd27=0x1287+0xaa2+0x1d29*-0x1;_0x37cd27<this['skinInstan'+'ces']['length'];_0x37cd27++){const _0x23b2ff=this['skinInstan'+'ces'][_0x37cd27]['skin'],_0x3385ad=new Ol(_0x23b2ff),_0xe0c956=[];for(let _0x10d341=-0x19*0x183+0x1394+0x1237*0x1;_0x10d341<_0x23b2ff['boneNames']['length'];_0x10d341++){const _0x1c2da9=_0x23b2ff['boneNames'][_0x10d341],_0x59ac57=_0xb3b59['findByName'](_0x1c2da9);_0xe0c956['push'](_0x59ac57);}_0x3385ad['bones']=_0xe0c956,_0x402834['push'](_0x3385ad);}for(let _0x417fd7=-0x5*0x403+-0x1df*-0x4+-0x431*-0x3;_0x417fd7<this['morphInsta'+'nces']['length'];_0x417fd7++){const _0x4edb1=this['morphInsta'+'nces'][_0x417fd7]['morph'],_0x32f2c6=new xa(_0x4edb1);_0x186c96['push'](_0x32f2c6);}for(let _0x5a2329=0x67*0x46+-0xe0*-0x17+-0x304a;_0x5a2329<this['meshInstan'+'ces']['length'];_0x5a2329++){const _0x3b3b3e=this['meshInstan'+'ces'][_0x5a2329],_0x417b84=_0x2159be['indexOf'](_0x3b3b3e['node']),_0x7fc49a=new He(_0x3b3b3e['mesh'],_0x3b3b3e['material'],_0x54bb11[_0x417b84]);if(_0x3b3b3e['skinInstan'+'ce']){const _0x4f602e=this['skinInstan'+'ces']['indexOf'](_0x3b3b3e['skinInstan'+'ce']);_0x7fc49a['skinInstan'+'ce']=_0x402834[_0x4f602e];}if(_0x3b3b3e['morphInsta'+'nce']){const _0x305827=this['morphInsta'+'nces']['indexOf'](_0x3b3b3e['morphInsta'+'nce']);_0x7fc49a['morphInsta'+'nce']=_0x186c96[_0x305827];}_0x46bd6f['push'](_0x7fc49a);}const _0xa603ec=new sr();return _0xa603ec['graph']=_0xb3b59,_0xa603ec['meshInstan'+'ces']=_0x46bd6f,_0xa603ec['skinInstan'+'ces']=_0x402834,_0xa603ec['morphInsta'+'nces']=_0x186c96,_0xa603ec['getGraph']()['syncHierar'+'chy'](),_0xa603ec;}['destroy'](){const _0x321f97=this['meshInstan'+'ces'];for(let _0x7bdc95=0x1*-0x2006+-0x9a2+-0x158*-0x1f;_0x7bdc95<_0x321f97['length'];_0x7bdc95++)_0x321f97[_0x7bdc95]['destroy']();this['meshInstan'+'ces']['length']=0x8*0x3fe+0x984+0x4*-0xa5d;}['generateWi'+'reframe'](){He['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],$r);}}class mm extends wd{constructor(_0x1db9c4,_0x14cb3,{preferHighPrecision:_0x3bbec4=!(-0xb66+-0x1*-0x1d2+0x995)}={}){super(),h(this,'_aabb'),h(this,'preferHigh'+'Precision'),(w['assert'](_0x14cb3,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x14cb3);const _0x119d7e=_0x14cb3;this['preferHigh'+'Precision']=_0x3bbec4,w['assert'](_0x1db9c4['every'](_0x191f19=>!_0x191f19['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x1db9c4['slice']();const _0x2fc3ea=_0x119d7e['textureHal'+'fFloatRend'+'erable']?nt:void(-0x3e+0xca*-0x29+0x7*0x4a8),_0x9e7aad=_0x119d7e['textureFlo'+'atRenderab'+'le']?Xt:void(-0xa07*0x3+0x2*-0x9a6+0x1*0x3161);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x9e7aad??_0x2fc3ea:_0x2fc3ea??_0x9e7aad,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??nd,this['intRenderF'+'ormat']=dn(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Xt:nt,this['_init'](),this['_updateMor'+'phFlags']();}['destroy'](){var _0x3c2d74,_0x3fe666,_0x4e84da;(_0x3c2d74=this['vertexBuff'+'erIds'])==null||_0x3c2d74['destroy'](),this['vertexBuff'+'erIds']=null,(_0x3fe666=this['targetsTex'+'turePositi'+'ons'])==null||_0x3fe666['destroy'](),this['targetsTex'+'turePositi'+'ons']=null,(_0x4e84da=this['targetsTex'+'tureNormal'+'s'])==null||_0x4e84da['destroy'](),this['targetsTex'+'tureNormal'+'s']=null;}get['aabb'](){if(!this['_aabb']){const _0x4983fc=new D(),_0x12fb48=new D();for(let _0x1c4ed8=-0x25bd+0x15c9+-0x4*-0x3fd;_0x1c4ed8<this['_targets']['length'];_0x1c4ed8++){const _0x5e807a=this['_targets'][_0x1c4ed8]['aabb'];_0x4983fc['min'](_0x5e807a['getMin']()),_0x12fb48['max'](_0x5e807a['getMax']());}this['_aabb']=new De(),this['_aabb']['setMinMax'](_0x4983fc,_0x12fb48);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x178ff0=0x165+0x1604+-0x1769;_0x178ff0<this['_targets']['length'];_0x178ff0++)this['_targets'][_0x178ff0]['_postInit']();}['_findSpars'+'eSet'](_0x3eaa84,_0x560a2a,_0x349756){let _0xacf54d=0x148f+0x78d+-0x59f*0x5;const _0x482194=_0x3eaa84[0x1b43*-0x1+-0x27*0xf1+0x3ffa]['length'];for(let _0x167240=0x13b0+-0x209d+0x3*0x44f;_0x167240<_0x482194;_0x167240+=0xa9c*0x1+-0x1*-0xea3+-0x193c){let _0x53cc5c=!(-0x1*-0xf4f+-0x751*-0x4+-0x2c92);for(let _0x16dc41=-0x1ed1*-0x1+-0x1651+0x2*-0x440;_0x16dc41<_0x3eaa84['length'];_0x16dc41++){const _0x562959=_0x3eaa84[_0x16dc41];if(_0x562959[_0x167240]!==-0x144+0x4d+0xd*0x13||_0x562959[_0x167240+(-0x1*0x77+-0x21b8+0x446*0x8)]!==0x11*-0x35+-0x1*0x182f+0x1bb4||_0x562959[_0x167240+(0x7*-0x463+0x376+0x1b41*0x1)]!==-0x1624+-0x4c0+0x1ae4){_0x53cc5c=!(0x32b*0x7+-0x1eb6+-0x17*-0x5f);break;}}_0x53cc5c?(_0x560a2a['push'](_0xacf54d),_0x349756['push'](_0x167240/(0x22c*0x1+0x2*0x4bc+-0xba1)),_0xacf54d++):_0x560a2a['push'](-0xa4a*-0x1+0x1413*-0x1+0x343*0x3);}return _0xacf54d;}['_initTextu'+'reBased'](){const _0x4e668f=[],_0x41c541=[],_0x25254d=this['_targets'];for(let _0x2d06b0=0x1103*0x1+-0x177b*0x1+0x678;_0x2d06b0<_0x25254d['length'];_0x2d06b0++){const _0x439452=_0x25254d[_0x2d06b0];_0x439452['options']['deltaPosit'+'ions']&&(_0x4e668f['push'](_0x439452['options']['deltaPosit'+'ions']),_0x41c541['push'](!(0x1439+-0x1b33+0x6fa))),_0x439452['options']['deltaNorma'+'ls']&&(_0x4e668f['push'](_0x439452['options']['deltaNorma'+'ls']),_0x41c541['push'](!(0x5*0x135+0x1e4f+-0x2457)));}const _0x3b05ca=[],_0x4bceb6=[],_0xe001d0=this['_findSpars'+'eSet'](_0x4e668f,_0x3b05ca,_0x4bceb6),_0x41642e=this['device']['maxTexture'+'Size'];let _0x42cc2d=Math['ceil'](Math['sqrt'](_0xe001d0));_0x42cc2d=Math['min'](_0x42cc2d,_0x41642e);const _0x1bf80d=Math['ceil'](_0xe001d0/_0x42cc2d);if(_0x1bf80d>_0x41642e){w['warnOnce']('Morph\x20targ'+'et\x20data\x20is'+'\x20too\x20large'+'\x20to\x20fit\x20in'+'to\x20a\x20textu'+'re\x20array.\x20'+'Required\x20t'+'exture\x20siz'+'e:\x20'+_0x42cc2d+'x'+_0x1bf80d+(',\x20max\x20text'+'ure\x20size:\x20')+_0x41642e+'x'+_0x41642e+'.');return;}this['morphTextu'+'reWidth']=_0x42cc2d,this['morphTextu'+'reHeight']=_0x1bf80d;let _0x502c08=!(0xc*0x151+-0x13b2+0x3e7);const _0x8a81ae=Mn['float2Half'];this['_textureFo'+'rmat']===nt&&(_0x502c08=!(-0x491+-0x1597+0x1a28));const _0x489b28=[],_0x2efbbc=[],_0x28492e=_0x42cc2d*_0x1bf80d*(0x6dd+-0x1ff0*-0x1+-0x26c9);for(let _0x4bca12=0x3*-0x3fa+-0xa6d+0x165b*0x1;_0x4bca12<_0x4e668f['length'];_0x4bca12++){const _0x2eeb1e=_0x4e668f[_0x4bca12],_0x5bc6cd=this['_textureFo'+'rmat']===nt?new Uint16Array(_0x28492e):new Float32Array(_0x28492e);if((_0x41c541[_0x4bca12]?_0x489b28:_0x2efbbc)['push'](_0x5bc6cd),_0x502c08)for(let _0x5eaa93=0x1ea+-0x85*-0x29+0x3*-0x7bd;_0x5eaa93<_0x4bceb6['length'];_0x5eaa93++){const _0x180da8=_0x4bceb6[_0x5eaa93]*(-0x5b1*0x3+-0x98f+0x1aa5),_0x17200b=_0x5eaa93*(0x2bd+0x63+-0x1*0x31c)+(-0xa14+0x1bee+0x1*-0x11d6);_0x5bc6cd[_0x17200b]=_0x8a81ae(_0x2eeb1e[_0x180da8]),_0x5bc6cd[_0x17200b+(0x4cd+-0x1*0xda5+0x5*0x1c5)]=_0x8a81ae(_0x2eeb1e[_0x180da8+(-0x58f*-0x6+0x22b8+-0x4411)]),_0x5bc6cd[_0x17200b+(0x1ec+0x13*0xc5+-0x1089)]=_0x8a81ae(_0x2eeb1e[_0x180da8+(-0x38f+0x1fd*-0x2+0x78b)]);}else for(let _0x31b184=-0x15a3+0x25f1+0x1*-0x104e;_0x31b184<_0x4bceb6['length'];_0x31b184++){const _0x5b2294=_0x4bceb6[_0x31b184]*(0x1*-0x2555+0x131*0x1+-0xc0d*-0x3),_0x219d51=_0x31b184*(-0x7b7+-0x1*0xb03+0x12be)+(-0x2c2*-0xd+0x1bc2+0xb*-0x5c8);_0x5bc6cd[_0x219d51]=_0x2eeb1e[_0x5b2294],_0x5bc6cd[_0x219d51+(0x2*0x3+-0x1d58+0x1d53)]=_0x2eeb1e[_0x5b2294+(0x1e92*0x1+-0x202f+-0x45*-0x6)],_0x5bc6cd[_0x219d51+(-0x4*-0x21f+-0x21e+-0x65c)]=_0x2eeb1e[_0x5b2294+(-0x1c58+0x1*-0x247+0x1ea1)];}}_0x489b28['length']>-0x2604+0x53d+0x3*0xaed&&(this['targetsTex'+'turePositi'+'ons']=this['_createTex'+'ture']('MorphPosit'+'ionsTextur'+'e',this['_textureFo'+'rmat'],_0x25254d['length'],[_0x489b28]),this['targetsTex'+'turePositi'+'ons']['upload']()),_0x2efbbc['length']>0x779+-0x1f23*0x1+0x17aa&&(this['targetsTex'+'tureNormal'+'s']=this['_createTex'+'ture']('MorphNorma'+'lsTexture',this['_textureFo'+'rmat'],_0x25254d['length'],[_0x2efbbc]),this['targetsTex'+'tureNormal'+'s']['upload']());const _0x45052d=[{'semantic':Ln,'components':0x1,'type':el,'asInt':!(-0x4f*-0x5b+-0x1*0x27f+-0x1996)}];return this['vertexBuff'+'erIds']=new Is(this['device'],new kt(this['device'],_0x45052d,_0x3b05ca['length']),_0x3b05ca['length'],{'data':new Uint32Array(_0x3b05ca)}),!(-0x100*-0xb+0xf03+-0x1a03);}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(-0x1536+-0x120d*-0x1+0x32a),this['_morphNorm'+'als']=!(0xeb9*0x2+0x2164+-0x3ed5*0x1);for(let _0x448b6d=0x88c+-0xdaf+0x523;_0x448b6d<this['_targets']['length'];_0x448b6d++){const _0x106731=this['_targets'][_0x448b6d];_0x106731['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(0x2*-0x1051+0x746+0x21d*0xc)),_0x106731['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(-0x84b+0x1e7e+-0x1633));}}['_createTex'+'ture'](_0x1c9464,_0x4c36d8,_0xce32d5,_0x5815ad){return new _e(this['device'],{'levels':_0x5815ad,'arrayLength':_0xce32d5,'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x4c36d8,'cubemap':!(-0x1*0x81a+-0x87c+0x1097),'mipmaps':!(-0x224*0x1+0x6ea+-0x4c5),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x1c9464});}}class Md{constructor(_0x27c196){h(this,'used',!(0x1a71+-0x166b+-0x405)),(w['assert'](arguments['length']===-0x2246+-0x23f3*-0x1+-0xd6*0x2),this['options']=_0x27c196,this['_name']=_0x27c196['name'],this['_defaultWe'+'ight']=_0x27c196['defaultWei'+'ght']||0x65+-0x414+-0x17*-0x29,this['_aabb']=_0x27c196['aabb'],this['deltaPosit'+'ions']=_0x27c196['deltaPosit'+'ions'],this['morphPosit'+'ions']=!!_0x27c196['deltaPosit'+'ions'],this['morphNorma'+'ls']=!!_0x27c196['deltaNorma'+'ls']);}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new De(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}['clone'](){return w['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Md(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(-0xa9b*-0x1+0xd8c+-0x1827);}}let Ei,Z_=0x189b*0x1+0x1248+0x1571*-0x2;const ce=-0x5*-0x4f5+-0x1*0x76f+-0x1156,mf=new te(),_f=new te(),ti=new D(),tt=new D(),Ns=new D(),Na=new D(),ns=new D(),_t=new D(),ka=new D(),Ua=new D(),fo=new D(),Q_=new D(),zt=new D(),fc=new D(),kr=new D();function pn(_0x5b076b){return _0x5b076b-Math['floor'](_0x5b076b);}function fA(_0x17c804){return Math['max'](Math['min'](_0x17c804,-0xb75+-0x5ff+0x6d*0x29),0x1229*-0x2+-0x1a18+-0xa67*-0x6);}function gf(_0x38a0d2,_0x2a0459){return _0x38a0d2-_0x2a0459*Math['floor'](_0x38a0d2/_0x2a0459);}function uA(_0x175130){let _0x539825=pn(_0x175130),_0x353c41=pn((-0x93*0x35+0x9e0+0x1f*0xb2)*_0x175130),_0x1f56f6=pn((0x1*0x614b+0x1*-0xcad9+0x455*0x53)*_0x175130),_0x5bf782=pn((0xec92905+0xe51*-0x12de8+0xc182e*0xf7)*_0x175130);return _0x539825-=_0x353c41/(-0x871+-0x1*0x1989+-0x4ff*-0x7),_0x353c41-=_0x1f56f6/(0x25*-0x59+-0x16*0x9a+0x6c6*0x4),_0x1f56f6-=_0x5bf782/(-0x24db+0x1c46+0x994),_0x5bf782-=_0x5bf782/(-0x1*-0xc00+0x2*0x4ef+-0x14df),[_0x539825,_0x353c41,_0x1f56f6,_0x5bf782];}function uc(_0x55593d){let _0x514193=pn(_0x55593d),_0x1d0449=pn((0x484*-0x1+-0xf6b+0x11a*0x13)*_0x55593d);return _0x514193-=_0x1d0449/(-0xd79*-0x1+-0x15*-0x6a+-0x152c*0x1),_0x1d0449-=_0x1d0449/(-0x6*0x73+-0x10b*0xb+0xf2a),[_0x514193,_0x1d0449];}class pA{constructor(_0x26b520){this['_emitter']=_0x26b520;}['calcSpawnP'+'osition'](_0xa36fac,_0x58b957,_0x570854,_0x3b6201,_0x328d22){const _0x4c843e=this['_emitter'],_0x34e1b3=Math['random'](),_0x5d9671=Math['random'](),_0x18bec9=Math['random'](),_0x5d1ad5=Math['random']();if(_0x4c843e['useCpu']&&(_0xa36fac[_0x328d22*ce+(-0xf18+0xa*-0x37f+0x320e*0x1)+_0x4c843e['numParticl'+'esPot']*(0x3*0x543+0x1*-0xaab+-0x51c)*ce]=_0x34e1b3,_0xa36fac[_0x328d22*ce+(0x827*-0x4+0xe25+0x1278)+_0x4c843e['numParticl'+'esPot']*(0xf7a+-0x1*-0xfd3+0x1f4b*-0x1)*ce]=_0x5d9671,_0xa36fac[_0x328d22*ce+(0x5c7+-0x672*0x3+0xd91)+_0x4c843e['numParticl'+'esPot']*(0x2*0xe6+-0x1*-0xb3b+0xb*-0x12f)*ce]=_0x18bec9),tt['x']=_0x34e1b3-(-0x53d+0x1c88+-0x174b+0.5),tt['y']=_0x5d9671-(0x3b7*-0x9+-0xf74+0x30e3*0x1+0.5),tt['z']=_0x18bec9-(-0x14c3+0x1*-0x7cc+0x1c8f+0.5),_0x4c843e['emitterSha'+'pe']===ai){const _0x3b07fe=Math['max'](Math['abs'](tt['x']),Math['max'](Math['abs'](tt['y']),Math['abs'](tt['z']))),_0x1a92e6=_0x3b07fe+(-0xec5+-0x2392+-0x3257*-0x1+0.5-_0x3b07fe)*_0x570854[0x26e0+0x603+-0x1*0x2ce3],_0x5adef8=_0x3b07fe+(-0x2585*0x1+-0x119c+0x3721+0.5-_0x3b07fe)*_0x570854[0xc34*0x2+-0x1dfd*0x1+0x596],_0x5f0158=_0x3b07fe+(-0x1*-0x5cf+-0x69c+0xcd+0.5-_0x3b07fe)*_0x570854[0x2330+0x24f+-0x3*0xc7f];tt['x']=_0x1a92e6*(_0x3b07fe===Math['abs'](tt['x'])?Math['sign'](tt['x']):(0x1a57*-0x1+0xc07*-0x2+0x3267)*tt['x']),tt['y']=_0x5adef8*(_0x3b07fe===Math['abs'](tt['y'])?Math['sign'](tt['y']):(-0x678+0x1*0x1ad7+-0x191*0xd)*tt['y']),tt['z']=_0x5f0158*(_0x3b07fe===Math['abs'](tt['z'])?Math['sign'](tt['z']):(0x254f*-0x1+-0x2375+0x48c6)*tt['z']),_0x4c843e['localSpace']?ti['copy'](_0x58b957['transformP'+'oint'](tt)):ti['copy'](_0x3b6201)['add'](_0x58b957['transformP'+'oint'](tt));}else{tt['normalize']();const _0x375236=_0x4c843e['emitterRad'+'ius']===-0x35*0x9f+-0x11*-0x98+-0x1*-0x16d3?-0x53*-0x73+0x36*0x13+-0x1*0x294b:_0x4c843e['emitterRad'+'iusInner']/_0x4c843e['emitterRad'+'ius'],_0x50b060=_0x5d1ad5*(0x1*-0x935+0x7e*0x5+0x6*0x120-_0x375236)+_0x375236;_0x4c843e['localSpace']?ti['copy'](tt['mulScalar'](_0x50b060*_0x4c843e['emitterRad'+'ius'])):ti['copy'](_0x3b6201)['add'](tt['mulScalar'](_0x50b060*_0x4c843e['emitterRad'+'ius']));}let _0x15263e=-Y['lerp'](_0x4c843e['rate'],_0x4c843e['rate2'],_0x34e1b3)*_0x328d22;if(_0x4c843e['pack8']){const _0xfad0ba=(ti['x']-_0x4c843e['worldBound'+'s']['center']['x'])/_0x4c843e['worldBound'+'sSize']['x']+(0x2504+-0x223c*-0x1+-0x4740+0.5),_0x2c4d6d=(ti['y']-_0x4c843e['worldBound'+'s']['center']['y'])/_0x4c843e['worldBound'+'sSize']['y']+(-0x1f*0xe0+-0x5b1+-0x1*-0x20d1+0.5),_0x454d31=(ti['z']-_0x4c843e['worldBound'+'s']['center']['z'])/_0x4c843e['worldBound'+'sSize']['z']+(0x18fa+0x68*0x3a+0x72*-0x6d+0.5);let _0x487b51=Y['lerp'](_0x4c843e['startAngle']*Y['DEG_TO_RAD'],_0x4c843e['startAngle'+'2']*Y['DEG_TO_RAD'],_0x34e1b3);_0x487b51=_0x487b51%(Math['PI']*(-0x1*0xfa1+-0x260a+0x35ad))/(Math['PI']*(0x13e7+0xf1a*0x2+-0x3219));const _0x2b7ecd=uc(_0xfad0ba);_0xa36fac[_0x328d22*ce]=_0x2b7ecd[0x26a2+-0x40*0x71+-0xa62*0x1],_0xa36fac[_0x328d22*ce+(0x66*0x4d+0x161c+-0x1*0x34c9)]=_0x2b7ecd[0xc1*-0x25+0x1308+0x1c6*0x5];const _0x57c6fa=uc(_0x2c4d6d);_0xa36fac[_0x328d22*ce+(0x1158+0x4*-0x71e+0xb22)]=_0x57c6fa[-0x1761+0x1005+-0x4*-0x1d7],_0xa36fac[_0x328d22*ce+(-0x1595+-0xb*-0x1eb+0x7f*0x1)]=_0x57c6fa[-0x2380+0x1a4c+0x935];const _0x2f9676=uc(_0x454d31);_0xa36fac[_0x328d22*ce+(0x1*-0x6f1+-0x1a7+-0x8*-0x113)+_0x4c843e['numParticl'+'esPot']*ce]=_0x2f9676[-0x1703+0x3e1+0x1322],_0xa36fac[_0x328d22*ce+(0x1866+-0x12b*-0xd+-0x95*0x44)+_0x4c843e['numParticl'+'esPot']*ce]=_0x2f9676[-0xd6b*0x1+-0x2243+-0x2faf*-0x1];const _0xad77b5=uc(_0x487b51);_0xa36fac[_0x328d22*ce+(-0x317+0xfe0+0x1*-0xcc7)+_0x4c843e['numParticl'+'esPot']*ce]=_0xad77b5[0x8*0x394+-0x1389+0x1*-0x917],_0xa36fac[_0x328d22*ce+(0x7b3*-0x3+0x1*0xd2b+0x9f1*0x1)+_0x4c843e['numParticl'+'esPot']*ce]=_0xad77b5[-0x1d0b+-0x2*-0x265+0x1842];const _0x3866f2=-0x5*0x70f+0x159b+0x1*0xdb1;_0xa36fac[_0x328d22*ce+(0x1b3b+-0x1*-0x1f1e+-0x3a56)+_0x4c843e['numParticl'+'esPot']*ce*(0x49e+0x4*0x2b2+0x5*-0x314)]=_0x3866f2;const _0x53a7a3=Math['max'](_0x4c843e['lifetime'],(_0x4c843e['numParticl'+'es']-(-0x9eb*-0x1+0x1*0x24fb+-0x2ee5))*Math['max'](_0x4c843e['rate'],_0x4c843e['rate2'])),_0x56c08c=_0x4c843e['lifetime']+(-0x7*-0x107+0x10d3*-0x2+0x1a76);_0x15263e=(_0x15263e+_0x53a7a3)/(_0x53a7a3+_0x56c08c);const _0x2946fd=uA(_0x15263e);_0xa36fac[_0x328d22*ce+(0x23fe+0x26dd+0x1*-0x4adb)+_0x4c843e['numParticl'+'esPot']*ce*(-0x3*0x81b+0x1dff+-0x5ab)]=_0x2946fd[-0x57*-0x65+0xbaa*0x2+-0x39a7],_0xa36fac[_0x328d22*ce+(-0xe70+0x1054*0x2+-0x1237)+_0x4c843e['numParticl'+'esPot']*ce*(-0x4a9*-0x2+0x1*0x1871+-0x60*0x5a)]=_0x2946fd[-0x20b*-0xe+0x140+-0x1dd9],_0xa36fac[_0x328d22*ce+(-0x10b*0xd+0x1*-0x3+0xd94)+_0x4c843e['numParticl'+'esPot']*ce*(0x1aeb*0x1+0x1f13+-0x39fb)]=_0x2946fd[-0x11cd+0x1*0xfdf+0x1f0],_0xa36fac[_0x328d22*ce+(-0x1*-0x2245+-0xe7*-0x2b+-0x490f)+_0x4c843e['numParticl'+'esPot']*ce*(-0x4*-0x37b+0x1bee+-0x29d7)]=_0x2946fd[-0x211*-0xd+-0x1f*0x35+0x146f*-0x1];}else _0xa36fac[_0x328d22*ce]=ti['x'],_0xa36fac[_0x328d22*ce+(0x1c89+-0x1*-0x1159+-0x2de1)]=ti['y'],_0xa36fac[_0x328d22*ce+(0x577*0x1+-0xe*0x9+-0x4f7)]=ti['z'],_0xa36fac[_0x328d22*ce+(0x1*-0x531+0x22b9*0x1+-0x1d85)]=Y['lerp'](_0x4c843e['startAngle']*Y['DEG_TO_RAD'],_0x4c843e['startAngle'+'2']*Y['DEG_TO_RAD'],_0x34e1b3),_0xa36fac[_0x328d22*ce+(-0x2*-0x7e8+-0x139b+0x1*0x3ce)+_0x4c843e['numParticl'+'esPot']*ce]=_0x15263e;}['update'](_0x32db9a,_0x34397c,_0x569a42,_0x1bb10f,_0x1fe1f8,_0xdc45af,_0x19af4d,_0x400870){let _0x1f7058,_0x3a385c,_0x66076c;const _0x4ef7ae=this['_emitter'];if(_0x4ef7ae['meshInstan'+'ce']['node']){const _0x3f8ff0=_0x4ef7ae['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x4bdba8=-0x228a+-0x1225*-0x1+0x1065;_0x4bdba8<-0x1a81+-0x86*-0x1+-0x8ad*-0x3;_0x4bdba8++)mf['data'][_0x4bdba8]=_0x3f8ff0['data'][_0x4bdba8];_f['copy'](mf),_f['invert'](),Ei=_0x4ef7ae['meshInstan'+'ce']['node']['localScale'],Z_=Math['max'](Math['max'](Ei['x'],Ei['y']),Ei['z']);}_0xdc45af=_0x4ef7ae['meshInstan'+'ce']['node']===null||_0x4ef7ae['localSpace']?D['ZERO']:_0x4ef7ae['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x12d3f6=_0x4ef7ae['camera']?_0x4ef7ae['camera']['_node']['getPositio'+'n']():D['ZERO'],_0x49a077=_0x4ef7ae['useMesh']?-0x1708*-0x1+0x1c73+-0x336a:0x1598+0x1*-0x1d99+0x810*0x1;let _0x3e69db,_0x571a02,_0x5e6822,_0x5713a0,_0x3d6566,_0x176f56,_0x5cf7cb,_0x1630b5,_0x15e75d;const _0xf2ba5e=_0x4ef7ae['precision']-(-0x28*-0x43+0x1*-0x26e5+-0x2*-0xe37);for(let _0x33652a=0x10e8+0xa9*0x1d+0x347*-0xb;_0x33652a<_0x4ef7ae['numParticl'+'es'];_0x33652a++){const _0x2e363f=Math['floor'](_0x4ef7ae['vbCPU'][_0x33652a*_0x4ef7ae['numParticl'+'eVerts']*(_0x4ef7ae['useMesh']?0x86e*0x1+0x2595+-0x2dfd:-0x2*0x1d5+-0x3*-0xb+0x38d)+(-0x6*0x573+-0xbae+-0x2c63*-0x1)]),_0x1621f6=_0x569a42[_0x2e363f*ce+(0x1854+-0x3*-0x3e7+-0x2409)+_0x4ef7ae['numParticl'+'esPot']*(-0x16b1*-0x1+0x6db*0x4+0x321b*-0x1)*ce];Ns['x']=_0x1621f6,Ns['y']=_0x569a42[_0x2e363f*ce+(0x1571+-0x1*0x1013+-0x55d)+_0x4ef7ae['numParticl'+'esPot']*(-0x6*0x589+0x2621+-0x1a3*0x3)*ce],Ns['z']=_0x569a42[_0x2e363f*ce+(-0x528+-0xbdc+0x1106)+_0x4ef7ae['numParticl'+'esPot']*(-0x1f5c+0x883*-0x1+0x1*0x27e1)*ce];const _0xc502c8=_0x4ef7ae['rate']+(_0x4ef7ae['rate2']-_0x4ef7ae['rate'])*_0x1621f6,_0x102f74=_0x4ef7ae['lifetime'];let _0x464347=_0x569a42[_0x2e363f*ce+(-0x232c+-0x25a5+0x48d4)+_0x4ef7ae['numParticl'+'esPot']*ce]+_0x19af4d;const _0x2049b6=fA(_0x464347/_0x102f74);let _0x9bbd57=0x1*-0x611+-0x1138+0x1749,_0x12adf4=0x7*-0x503+-0x23*-0xb5+0xa56;const _0x1ee7ee=0x1795+-0x151d+0x9e*-0x4;(_0x464347-_0x19af4d<=-0x81*-0x20+-0x652*-0x2+-0x1cc4||_0x464347>=_0x102f74)&&this['calcSpawnP'+'osition'](_0x569a42,_0x1bb10f,_0x1fe1f8,_0xdc45af,_0x2e363f);let _0x3b0214=_0x464347>0x1*0x1b37+0xcfd+-0x3e*0xa6&&_0x464347<_0x102f74;_0x3b0214&&(_0x66076c=_0x2049b6*_0xf2ba5e,_0x3e69db=Math['floor'](_0x66076c),_0x571a02=Math['ceil'](_0x66076c),_0x66076c%=0x18*-0xec+-0x2*-0x274+0x1*0x1139,_0x1f7058=_0x4ef7ae['qRotSpeed'][_0x3e69db],_0x3a385c=_0x4ef7ae['qRotSpeed'][_0x571a02],_0x5e6822=_0x1f7058+(_0x3a385c-_0x1f7058)*_0x66076c,_0x1f7058=_0x4ef7ae['qRotSpeed2'][_0x3e69db],_0x3a385c=_0x4ef7ae['qRotSpeed2'][_0x571a02],_0x5713a0=_0x1f7058+(_0x3a385c-_0x1f7058)*_0x66076c,_0x1f7058=_0x4ef7ae['qScale'][_0x3e69db],_0x3a385c=_0x4ef7ae['qScale'][_0x571a02],_0x9bbd57=_0x1f7058+(_0x3a385c-_0x1f7058)*_0x66076c,_0x1f7058=_0x4ef7ae['qScale2'][_0x3e69db],_0x3a385c=_0x4ef7ae['qScale2'][_0x571a02],_0x3d6566=_0x1f7058+(_0x3a385c-_0x1f7058)*_0x66076c,_0x1f7058=_0x4ef7ae['qAlpha'][_0x3e69db],_0x3a385c=_0x4ef7ae['qAlpha'][_0x571a02],_0x176f56=_0x1f7058+(_0x3a385c-_0x1f7058)*_0x66076c,_0x1f7058=_0x4ef7ae['qAlpha2'][_0x3e69db],_0x3a385c=_0x4ef7ae['qAlpha2'][_0x571a02],_0x5cf7cb=_0x1f7058+(_0x3a385c-_0x1f7058)*_0x66076c,_0x1f7058=_0x4ef7ae['qRadialSpe'+'ed'][_0x3e69db],_0x3a385c=_0x4ef7ae['qRadialSpe'+'ed'][_0x571a02],_0x1630b5=_0x1f7058+(_0x3a385c-_0x1f7058)*_0x66076c,_0x1f7058=_0x4ef7ae['qRadialSpe'+'ed2'][_0x3e69db],_0x3a385c=_0x4ef7ae['qRadialSpe'+'ed2'][_0x571a02],_0x15e75d=_0x1f7058+(_0x3a385c-_0x1f7058)*_0x66076c,_0x1630b5+=(_0x15e75d-_0x1630b5)*(_0x1621f6*(-0x214*-0x2+-0x1300+-0x186*-0xa)%(-0xd3a+-0x1*0x23b5+0x30f0)),Na['x']=_0x569a42[_0x2e363f*ce],Na['y']=_0x569a42[_0x2e363f*ce+(-0x8db+0x17d3+0x4fd*-0x3)],Na['z']=_0x569a42[_0x2e363f*ce+(0x383+-0x2*-0x58f+0xc5*-0x13)],_0x4ef7ae['localSpace']?fo['copy'](Na):fo['copy'](Na)['sub'](_0xdc45af),fo['normalize']()['mulScalar'](_0x1630b5),_0x3e69db*=0x6d7+-0x1693+0x8b*0x1d,_0x571a02*=0xb2*-0x22+0x2de+0x14c9*0x1,_0x1f7058=_0x4ef7ae['qLocalVelo'+'city'][_0x3e69db],_0x3a385c=_0x4ef7ae['qLocalVelo'+'city'][_0x571a02],_t['x']=_0x1f7058+(_0x3a385c-_0x1f7058)*_0x66076c,_0x1f7058=_0x4ef7ae['qLocalVelo'+'city'][_0x3e69db+(0x5*0x335+0xdef+0x1df7*-0x1)],_0x3a385c=_0x4ef7ae['qLocalVelo'+'city'][_0x571a02+(-0x111*-0x22+-0x99a+-0x1aa7)],_t['y']=_0x1f7058+(_0x3a385c-_0x1f7058)*_0x66076c,_0x1f7058=_0x4ef7ae['qLocalVelo'+'city'][_0x3e69db+(0x1747+0x6*-0x10b+-0x367*0x5)],_0x3a385c=_0x4ef7ae['qLocalVelo'+'city'][_0x571a02+(0x4e8+0xd*-0x1fb+0x1*0x14d9)],_t['z']=_0x1f7058+(_0x3a385c-_0x1f7058)*_0x66076c,_0x1f7058=_0x4ef7ae['qLocalVelo'+'city2'][_0x3e69db],_0x3a385c=_0x4ef7ae['qLocalVelo'+'city2'][_0x571a02],Ua['x']=_0x1f7058+(_0x3a385c-_0x1f7058)*_0x66076c,_0x1f7058=_0x4ef7ae['qLocalVelo'+'city2'][_0x3e69db+(-0xaca*0x1+0xd6+0x9f5)],_0x3a385c=_0x4ef7ae['qLocalVelo'+'city2'][_0x571a02+(-0x1d6e+0x42f*-0x1+-0x219e*-0x1)],Ua['y']=_0x1f7058+(_0x3a385c-_0x1f7058)*_0x66076c,_0x1f7058=_0x4ef7ae['qLocalVelo'+'city2'][_0x3e69db+(0x1*0x485+0xfa9+-0x142c)],_0x3a385c=_0x4ef7ae['qLocalVelo'+'city2'][_0x571a02+(-0x1641+-0x1*-0x53+0x27*0x90)],Ua['z']=_0x1f7058+(_0x3a385c-_0x1f7058)*_0x66076c,_0x1f7058=_0x4ef7ae['qVelocity'][_0x3e69db],_0x3a385c=_0x4ef7ae['qVelocity'][_0x571a02],ns['x']=_0x1f7058+(_0x3a385c-_0x1f7058)*_0x66076c,_0x1f7058=_0x4ef7ae['qVelocity'][_0x3e69db+(-0x269f+0x13a4+0x12fc)],_0x3a385c=_0x4ef7ae['qVelocity'][_0x571a02+(-0x1219*0x1+-0x194d+0x10f*0x29)],ns['y']=_0x1f7058+(_0x3a385c-_0x1f7058)*_0x66076c,_0x1f7058=_0x4ef7ae['qVelocity'][_0x3e69db+(-0x1d7+0x2e3*-0x1+0x4bc)],_0x3a385c=_0x4ef7ae['qVelocity'][_0x571a02+(0x7*-0x85+0x48*0x6d+-0x1b03)],ns['z']=_0x1f7058+(_0x3a385c-_0x1f7058)*_0x66076c,_0x1f7058=_0x4ef7ae['qVelocity2'][_0x3e69db],_0x3a385c=_0x4ef7ae['qVelocity2'][_0x571a02],ka['x']=_0x1f7058+(_0x3a385c-_0x1f7058)*_0x66076c,_0x1f7058=_0x4ef7ae['qVelocity2'][_0x3e69db+(0xc5*0x11+-0x3*0x51b+0x23d)],_0x3a385c=_0x4ef7ae['qVelocity2'][_0x571a02+(-0x17*0x41+0x5dc*-0x1+0xbb4)],ka['y']=_0x1f7058+(_0x3a385c-_0x1f7058)*_0x66076c,_0x1f7058=_0x4ef7ae['qVelocity2'][_0x3e69db+(-0xd16+0x29*-0x57+0x1b07)],_0x3a385c=_0x4ef7ae['qVelocity2'][_0x571a02+(-0x33*-0xad+-0x1d51+-0x1*0x524)],ka['z']=_0x1f7058+(_0x3a385c-_0x1f7058)*_0x66076c,_t['x']+=(Ua['x']-_t['x'])*Ns['x'],_t['y']+=(Ua['y']-_t['y'])*Ns['y'],_t['z']+=(Ua['z']-_t['z'])*Ns['z'],_0x4ef7ae['initialVel'+'ocity']>-0x522*-0x6+0xa*0x3e5+-0x45be*0x1&&(_0x4ef7ae['emitterSha'+'pe']===zw?(tt['copy'](Ns)['mulScalar'](0x2004+-0x2053+0x51)['sub'](D['ONE'])['normalize'](),_t['add'](tt['mulScalar'](_0x4ef7ae['initialVel'+'ocity']))):_t['add'](D['FORWARD']['mulScalar'](_0x4ef7ae['initialVel'+'ocity']))),ns['x']+=(ka['x']-ns['x'])*Ns['x'],ns['y']+=(ka['y']-ns['y'])*Ns['y'],ns['z']+=(ka['z']-ns['z'])*Ns['z'],_0x5e6822+=(_0x5713a0-_0x5e6822)*Ns['y'],_0x9bbd57=(_0x9bbd57+(_0x3d6566-_0x9bbd57)*(_0x1621f6*(-0x197a+0xe*0x437+0x1d8*0x3)%(0xf5c+-0x114+0x55*-0x2b)))*Z_,_0x12adf4=(_0x5cf7cb-_0x176f56)*(_0x1621f6*(-0x74*-0x5+0x1454*-0x1+0x15f8)%(-0x1*0x2511+-0x2474+-0xc41*-0x6)),_0x4ef7ae['meshInstan'+'ce']['node']&&(_0x4ef7ae['localSpace']?(_t['x']/=Ei['x'],_t['y']/=Ei['y'],_t['z']/=Ei['z']):mf['transformP'+'oint'](_t,_t)),_0x4ef7ae['localSpace']?(_f['transformP'+'oint'](ns,ns),_t['add'](ns)['add'](fo)):(_t['add'](ns['mul'](Ei)),_t['add'](fo['mul'](Ei))),fc['copy'](_t),Q_['copy'](Na)['add'](_t['mulScalar'](_0x19af4d)),zt['copy'](Q_),_0x569a42[_0x2e363f*ce]=zt['x'],_0x569a42[_0x2e363f*ce+(-0x31f*-0x2+-0x2013+0x2*0xceb)]=zt['y'],_0x569a42[_0x2e363f*ce+(0xc2f*0x3+0x12af+0x1*-0x373a)]=zt['z'],_0x569a42[_0x2e363f*ce+(-0x400+0x35e*0x3+-0x617)]+=_0x5e6822*_0x19af4d,_0x4ef7ae['wrap']&&_0x4ef7ae['wrapBounds']&&(_0x4ef7ae['localSpace']||zt['sub'](_0xdc45af),zt['x']=gf(zt['x'],_0x4ef7ae['wrapBounds']['x'])-_0x4ef7ae['wrapBounds']['x']*(0xa5e*0x1+0x7c8+0x2e*-0x65+0.5),zt['y']=gf(zt['y'],_0x4ef7ae['wrapBounds']['y'])-_0x4ef7ae['wrapBounds']['y']*(0x1*0xaeb+0x1*-0x194d+-0xe*-0x107+0.5),zt['z']=gf(zt['z'],_0x4ef7ae['wrapBounds']['z'])-_0x4ef7ae['wrapBounds']['z']*(-0x12d5*0x1+0x12c*-0x2+0x152d+0.5),_0x4ef7ae['localSpace']||zt['add'](_0xdc45af)),_0x4ef7ae['sort']>-0x67d*0x1+-0x2d7+-0x4*-0x255&&(_0x4ef7ae['sort']===-0x3*-0x43d+-0x11ab*0x1+0x1a7*0x3?(kr['copy'](zt)['sub'](_0x12d3f6),_0x4ef7ae['particleDi'+'stance'][_0x2e363f]=-(kr['x']*kr['x']+kr['y']*kr['y']+kr['z']*kr['z'])):_0x4ef7ae['sort']===-0x1*0x16c1+0x5b*-0x3e+0x2ccd?_0x4ef7ae['particleDi'+'stance'][_0x2e363f]=_0x464347:_0x4ef7ae['sort']===0x7a1+0x92*-0x3f+0xe28*0x2&&(_0x4ef7ae['particleDi'+'stance'][_0x2e363f]=-_0x464347))),_0x400870?_0x464347<0x1e2*-0x12+-0x64e+0x2832&&(_0x569a42[_0x2e363f*ce+(0x1a1*-0x9+-0x128*0x1e+0x315c)+_0x4ef7ae['numParticl'+'esPot']*(0x4d8+0x14e7+-0x19bd)*ce]=-(0x777+-0x21fa+0x1a84)):(_0x464347>=_0x102f74&&(_0x464347-=Math['max'](_0x102f74,(_0x4ef7ae['numParticl'+'es']-(-0x2*0x130+0x7c5+0x73*-0xc))*_0xc502c8),_0x569a42[_0x2e363f*ce+(0x18c9+-0x8b*-0x1b+0x1*-0x276f)+_0x4ef7ae['numParticl'+'esPot']*(-0x5a3+0x10bb+-0xb16)*ce]=_0x4ef7ae['loop']?0x191*-0x9+0x23a5+-0x158b:-(-0x1*0x2426+-0x5*-0x28d+0x1766)),_0x464347<-0x3d1+-0x10f*0x11+0x15d0&&_0x4ef7ae['loop']&&(_0x569a42[_0x2e363f*ce+(-0xc07*-0x2+0x1e2b+-0x1b1b*0x2)+_0x4ef7ae['numParticl'+'esPot']*(-0xd7*-0x23+-0xb*-0x377+-0x4380)*ce]=0x2077+0x5a4+0x261a*-0x1)),_0x569a42[_0x2e363f*ce+(0x48b*0x7+-0x1d20+-0x2aa*0x1)+_0x4ef7ae['numParticl'+'esPot']*(-0x19dd+-0x12ea+-0x8f5*-0x5)*ce]<0x446*-0x1+-0x1*0x2703+-0x1*-0x2b49&&(_0x3b0214=!(0xed2+0xb4e*0x1+-0x1a1f)),_0x569a42[_0x2e363f*ce+(0x2381*0x1+-0x14*-0x1f+-0x2*0x12f5)+_0x4ef7ae['numParticl'+'esPot']*ce]=_0x464347;for(let _0x44254b=-0xcaa*-0x1+-0x125d+0x5b3;_0x44254b<_0x4ef7ae['numParticl'+'eVerts'];_0x44254b++){const _0x127700=(_0x33652a*_0x4ef7ae['numParticl'+'eVerts']+_0x44254b)*(_0x4ef7ae['useMesh']?0xb*-0x2bd+-0x77e+0x25a3:0x1211+0x5c1+-0x17ce*0x1);let _0x30884c=_0x4ef7ae['vbCPU'][_0x127700],_0x20e0b7=_0x4ef7ae['vbCPU'][_0x127700+(-0x1*-0x1ad2+-0x2006+0x535)],_0x3c4924=_0x4ef7ae['vbCPU'][_0x127700+(-0x6*0x1e7+0x119b*0x2+0x122*-0x15)];_0x3b0214||(_0x30884c=_0x20e0b7=_0x3c4924=0x5b2+0x917+-0xec9);const _0x20838b=_0x33652a*_0x4ef7ae['numParticl'+'eVerts']*_0x49a077+_0x44254b*_0x49a077;_0x32db9a[_0x20838b]=zt['x'],_0x32db9a[_0x20838b+(0x1e*0x6+-0x2390+0x22dd)]=zt['y'],_0x32db9a[_0x20838b+(0x1cdb+0x1*0x5a4+-0x227d)]=zt['z'],_0x32db9a[_0x20838b+(-0x4*0x448+-0xe01+0x2*0xf92)]=_0x2049b6,_0x32db9a[_0x20838b+(-0x258e+-0x170c+-0x1*-0x3c9e)]=_0x4ef7ae['alignToMot'+'ion']?_0x1ee7ee:_0x569a42[_0x2e363f*ce+(-0x1272+0x1c8e+-0xb*0xeb)],_0x32db9a[_0x20838b+(-0x1206+-0x1e0c+0x1*0x3017)]=_0x9bbd57,_0x32db9a[_0x20838b+(0x2015+-0x171f+-0x8f0)]=_0x12adf4,_0x32db9a[_0x20838b+(-0x1f9f*0x1+0x1f26+0x80)]=fc['x'],_0x32db9a[_0x20838b+(0x2*0x1379+0xea6+-0x3590)]=_0x30884c,_0x32db9a[_0x20838b+(-0x27*-0x1+-0x91+0x73)]=_0x20e0b7,_0x32db9a[_0x20838b+(0x4*0x4db+-0x146d+0x10b)]=_0x3c4924,_0x32db9a[_0x20838b+(0x1*-0x1686+0x23d9+-0xd48)]=fc['y'],_0x32db9a[_0x20838b+(0x325+0x1968+0x1*-0x1c81)]=_0x2e363f,_0x32db9a[_0x20838b+(0x953+0x6*0x106+-0xf6a)]=fc['z'],_0x32db9a[_0x20838b+(0x17d9+-0x211+-0x39f*0x6)]=_0x4ef7ae['vbCPU'][_0x127700+(-0x7a*0x1d+0x1668+-0x893)],_0x4ef7ae['useMesh']&&(_0x32db9a[_0x20838b+(-0x1d80+-0x193a+0x36c9)]=_0x4ef7ae['vbCPU'][_0x127700+(-0x227e+-0x59*-0x22+0x16b0)],_0x32db9a[_0x20838b+(-0x40*0x21+0x827+-0x29*-0x1)]=_0x4ef7ae['vbCPU'][_0x127700+(-0x15dd+0x653*-0x1+-0x1*-0x1c35)]);}}if(_0x4ef7ae['sort']>nu&&_0x4ef7ae['camera']){const _0x5767e0=_0x4ef7ae['useMesh']?0x187*0x10+0x1*-0x1d89+-0x1*-0x51f:0x45a*0x8+-0xdbc+-0x1510,_0x563f83=_0x4ef7ae['particleDi'+'stance'];for(let _0x4dd592=0x1*-0x19df+0x1b96+-0x1b7*0x1;_0x4dd592<_0x4ef7ae['numParticl'+'es'];_0x4dd592++)_0x34397c[_0x4dd592][0x4*-0x10c+-0xf77+0x22f*0x9]=_0x4dd592,_0x34397c[_0x4dd592][-0x189b+-0x98f*0x2+-0x1d*-0x182]=_0x563f83[Math['floor'](_0x4ef7ae['vbCPU'][_0x4dd592*_0x4ef7ae['numParticl'+'eVerts']*_0x5767e0+(-0x1*0x1473+0x2*-0x2b4+0x19de)])];_0x4ef7ae['vbOld']['set'](_0x4ef7ae['vbCPU']),_0x34397c['sort']((_0x22ad50,_0x6239ff)=>_0x22ad50[-0x1b10+0x1aeb+0x26]-_0x6239ff[0x2420+0x11c4+-0x35e3]);for(let _0x2f2fd0=0x68*0x5+0x359*0xb+-0x26db;_0x2f2fd0<_0x4ef7ae['numParticl'+'es'];_0x2f2fd0++){const _0x206baf=_0x34397c[_0x2f2fd0][-0x177f+0x1789*0x1+-0xa]*_0x4ef7ae['numParticl'+'eVerts']*_0x5767e0,_0x189661=_0x2f2fd0*_0x4ef7ae['numParticl'+'eVerts']*_0x5767e0;for(let _0x2bfee2=-0xfb*-0x1+-0x41*-0x2f+-0xcea;_0x2bfee2<_0x4ef7ae['numParticl'+'eVerts']*_0x5767e0;_0x2bfee2++)_0x4ef7ae['vbCPU'][_0x189661+_0x2bfee2]=_0x4ef7ae['vbOld'][_0x206baf+_0x2bfee2];}}}}const J_=new _i(),eg=new _i(),tg=new _i();class mA{constructor(_0x849372,_0x30072f){this['_emitter']=_0x849372,this['frameRando'+'mUniform']=new Float32Array(0xc72+0x1*0x3ff+-0x106e),this['emitterPos'+'Uniform']=new Float32Array(-0x20b*-0x11+0x2f*-0xa9+-0x3b1),this['emitterSca'+'leUniform']=new Float32Array([0x1ea3+0x1c7+-0x2069,0x1174*-0x1+0x24f1+0x2b*-0x74,0x2*-0x94d+0x21*-0xd4+0x2def*0x1]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(-0x1104+-0x2087+-0x318e*-0x1),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(0x133+-0x1d*0x112+0x1*0x1dda),this['inBoundsSi'+'zeUniform']=new Float32Array(-0x2ed*-0xb+-0x10*0x36+-0x1ccc),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(0x394+0x66b*-0x3+0xfb0),this['constantPa'+'rticleTexI'+'N']=_0x30072f['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x30072f['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x30072f['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x30072f['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x30072f['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x30072f['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x30072f['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x30072f['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x30072f['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x30072f['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x30072f['scope']['resolve']('delta'),this['constantRa'+'te']=_0x30072f['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x30072f['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x30072f['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x30072f['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x30072f['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x30072f['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x30072f['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x30072f['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x30072f['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x30072f['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x30072f['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x30072f['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x30072f['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x30072f['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x30072f['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x30072f['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x30072f['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x30072f['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x30072f['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x30072f['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x30072f['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x30072f['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x30072f['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x30072f['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x30072f['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x30072f['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][0x50d*0x5+0x1*0x1a17+0x2*-0x19ac]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][0x1*0x2bf+-0x10b8+0x1*0xdfa]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][-0x316+0x293*-0xb+0x1f69]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][-0xc9f+0x13*-0x49+0x120a]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][0x1eae+-0x2*-0x2c9+-0x407*0x9]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][-0x116d*0x2+0x4*0x517+0xe80]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][0xe*0x6a+-0xabb+0x4ef]=Math['random'](),this['frameRando'+'mUniform'][0xc4c*0x1+0x1*0x3af+-0xffa*0x1]=Math['random'](),this['frameRando'+'mUniform'][0xfd2+0xf*-0x232+0x111e]=Math['random']();}['update'](_0xb85744,_0x2c4c94,_0x6b90d2,_0x518766,_0x13e058){Q['pushGpuMar'+'ker'](_0xb85744,'ParticleGP'+'U');const _0x237d50=this['_emitter'];_0xb85744['setBlendSt'+'ate'](pt['NOBLEND']),_0xb85744['setDepthSt'+'ate'](Yt['NODEPTH']),_0xb85744['setCullMod'+'e'](bt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((0x1*-0x179f+0x1908*0x1+-0x168)/_0x237d50['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x237d50['precision']),this['constantNu'+'mParticles']['setValue'](_0x237d50['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x237d50['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x237d50['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x237d50['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x237d50['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x237d50['internalTe'+'x3']);const _0x76ac65=_0x237d50['meshInstan'+'ce']['node'],_0x3d10f1=_0x76ac65===null?D['ONE']:_0x76ac65['localScale'];if(_0x237d50['pack8']){this['worldBound'+'sMulUnifor'+'m'][0x1656+-0xc98+-0x9be]=_0x237d50['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][0x606+0x3*-0x677+0x20*0x6b]=_0x237d50['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][0x2*-0xec2+-0x2*0x10be+-0x5*-0xc9a]=_0x237d50['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][-0x1dc8+-0x1a7f+-0x1*-0x3847]=_0x237d50['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][-0x20b5*0x1+0x20ff+-0x1*0x49]=_0x237d50['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][-0x184b+0x1562+-0x3*-0xf9]=_0x237d50['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x275ab8=_0x237d50['maxVel']*Math['max'](Math['max'](_0x3d10f1['x'],_0x3d10f1['y']),_0x3d10f1['z']);_0x275ab8=Math['max'](_0x275ab8,0xd09+-0x26ea+0x19e2),this['constantMa'+'xVel']['setValue'](_0x275ab8);}const _0x171c35=_0x76ac65===null||_0x237d50['localSpace']?D['ZERO']:_0x76ac65['getPositio'+'n'](),_0x5e0130=_0x76ac65===null?te['IDENTITY']:_0x76ac65['getWorldTr'+'ansform']();_0x237d50['emitterSha'+'pe']===ai?(J_['setFromMat'+'4'](_0x2c4c94),this['constantSp'+'awnBounds']['setValue'](J_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x6b90d2)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x237d50['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x237d50['emitterRad'+'ius']===-0x5c5*0x2+-0x22d3+-0x8f*-0x53?0x3b6*0x1+-0xddd+0x1*0xa27:_0x237d50['emitterRad'+'iusInner']/_0x237d50['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x237d50['initialVel'+'ocity']),eg['setFromMat'+'4'](_0x5e0130),tg['invertMat4'](_0x5e0130),this['emitterPos'+'Uniform'][-0x11d8*-0x2+-0x98f+-0x1*0x1a21]=_0x171c35['x'],this['emitterPos'+'Uniform'][-0x437*-0x8+0x1d29*0x1+-0x3ee0]=_0x171c35['y'],this['emitterPos'+'Uniform'][0x531*0x2+-0x26b8+-0x1c58*-0x1]=_0x171c35['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x518766),this['constantRa'+'te']['setValue'](_0x237d50['rate']),this['constantRa'+'teDiv']['setValue'](_0x237d50['rate2']-_0x237d50['rate']),this['constantSt'+'artAngle']['setValue'](_0x237d50['startAngle']*Y['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x237d50['startAngle'+'2']*Y['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x237d50['seed']),this['constantLi'+'fetime']['setValue'](_0x237d50['lifetime']),this['emitterSca'+'leUniform'][-0x8*-0x4d2+-0x1*-0x26b+0x327*-0xd]=_0x3d10f1['x'],this['emitterSca'+'leUniform'][0x3*0x26e+0x2f3*-0x1+-0x1e*0x25]=_0x3d10f1['y'],this['emitterSca'+'leUniform'][0x1292+-0x14cb+0x23b]=_0x3d10f1['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](eg['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](tg['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x237d50['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x237d50['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x237d50['rotSpeedUM'+'ax'][0x1*0x2083+-0x497*0x1+-0x1bec]);let _0x469e43=_0x237d50['swapTex']?_0x237d50['particleTe'+'xOUT']:_0x237d50['particleTe'+'xIN'];_0x469e43=_0x237d50['beenReset']?_0x237d50['particleTe'+'xStart']:_0x469e43;const _0x2c627b=_0x237d50['swapTex']?_0x237d50['particleTe'+'xIN']:_0x237d50['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x469e43),Ar(_0xb85744,_0x237d50['swapTex']?_0x237d50['rtParticle'+'TexIN']:_0x237d50['rtParticle'+'TexOUT'],_0x13e058?_0x237d50['shaderPart'+'icleUpdate'+'OnStop']:_0x237d50['loop']?_0x237d50['shaderPart'+'icleUpdate'+'Respawn']:_0x237d50['shaderPart'+'icleUpdate'+'NoRespawn']),_0x237d50['material']['setParamet'+'er']('particleTe'+'xOUT',_0x469e43),_0x237d50['material']['setParamet'+'er']('particleTe'+'xIN',_0x2c627b),_0x237d50['beenReset']=!(0x1*-0x2cc+0x119e+-0xed1),_0x237d50['swapTex']=!_0x237d50['swapTex'],_0x237d50['prevWorldB'+'oundsSize']['copy'](_0x237d50['worldBound'+'sSize']),_0x237d50['prevWorldB'+'oundsCente'+'r']['copy'](_0x237d50['worldBound'+'s']['center']),_0x237d50['pack8']&&this['_setInputB'+'ounds'](),Q['popGpuMark'+'er'](_0xb85744);}}const sg=['NONE','VERTEX','MAP'];class _A extends ya{['generateKe'+'y'](_0x72c86a){let _0x34055e='particle_'+ya['definesHas'+'h'](_0x72c86a['defines'])+'_';for(const _0x2b1e0b in _0x72c86a)_0x72c86a['hasOwnProp'+'erty'](_0x2b1e0b)&&(_0x34055e+=_0x72c86a[_0x2b1e0b]);return _0x34055e;}['createVert'+'exDefines'](_0x4ef9d1,_0x1eb54c){const _0x149777=new Map(_0x4ef9d1['defines']);return _0x4ef9d1['mesh']&&_0x149777['set']('USE_MESH',''),_0x4ef9d1['meshUv']&&_0x149777['set']('USE_MESH_U'+'V',''),_0x4ef9d1['localSpace']&&_0x149777['set']('LOCAL_SPAC'+'E',''),_0x4ef9d1['screenSpac'+'e']&&_0x149777['set']('SCREEN_SPA'+'CE',''),_0x4ef9d1['animTex']&&_0x149777['set']('ANIMTEX',''),_0x4ef9d1['soft']>0x25b3*-0x1+-0x3*0x5ad+-0x3a6*-0xf&&_0x149777['set']('SOFT',''),_0x4ef9d1['stretch']>-0x7*-0xa7+-0x7f*0x2b+0x3a*0x4a&&_0x149777['set']('STRETCH',''),_0x4ef9d1['customFace']&&_0x149777['set']('CUSTOM_FAC'+'E',''),_0x4ef9d1['pack8']&&_0x149777['set']('PACK8',''),_0x4ef9d1['localSpace']&&_0x149777['set']('LOCAL_SPAC'+'E',''),_0x4ef9d1['animTexLoo'+'p']&&_0x149777['set']('ANIMTEX_LO'+'OP',''),_0x4ef9d1['wrap']&&_0x149777['set']('WRAP',''),_0x4ef9d1['alignToMot'+'ion']&&_0x149777['set']('ALIGN_TO_M'+'OTION',''),_0x149777['set']('NORMAL',sg[_0x4ef9d1['normal']]),_0x1eb54c['particle_v'+'ertexData']=Me,_0x4ef9d1['mesh']&&_0x4ef9d1['meshUv']&&(_0x1eb54c['particle_u'+'v']=is),_0x4ef9d1['useCpu']&&(_0x1eb54c['particle_v'+'ertexData2']=uh,_0x1eb54c['particle_v'+'ertexData3']=Ap,_0x1eb54c['particle_v'+'ertexData4']=Cp,_0x1eb54c['particle_v'+'ertexData5']=Pp),_0x149777;}['createFrag'+'mentDefine'+'s'](_0x1ccc2b){const _0x57f8a8=new Map(_0x1ccc2b['defines']);return _0x1ccc2b['soft']>-0x24cb+0x88c+0x1c3f*0x1&&_0x57f8a8['set']('SOFT',''),_0x1ccc2b['halflamber'+'t']&&_0x57f8a8['set']('HALF_LAMBE'+'RT',''),_0x57f8a8['set']('NORMAL',sg[_0x1ccc2b['normal']]),_0x57f8a8['set']('BLEND',Yy[_0x1ccc2b['blend']]),_0x57f8a8;}['createShad'+'erDefiniti'+'on'](_0x139e12,_0x33574b){const _0x145cee=_0x139e12['isWebGPU']?it:Fe,_0x3971fe=Pe['get'](_0x139e12,_0x145cee),_0x4b1352={},_0x5435f6=this['createVert'+'exDefines'](_0x33574b,_0x4b1352),_0x408aa6=this['createFrag'+'mentDefine'+'s'](_0x33574b),_0x2d3a63='PARTICLE_'+(_0x33574b['useCpu']?'CPU':'GPU')+'\x0a';_0x5435f6['set'](_0x2d3a63,''),_0x408aa6['set'](_0x2d3a63,'');const _0x4d3759=new Map(_0x3971fe);return Jt['createDefi'+'nition'](_0x139e12,{'name':'ParticleSh'+'ader','shaderLanguage':_0x145cee,'attributes':_0x4b1352,'vertexCode':_0x3971fe['get']('particle_s'+'haderVS'),'fragmentCode':_0x3971fe['get']('particle_s'+'haderPS'),'fragmentDefines':_0x408aa6,'fragmentIncludes':_0x4d3759,'vertexIncludes':_0x4d3759,'vertexDefines':_0x5435f6});}}const gA=new _A();class SA extends tr{constructor(_0x40b47a){super(),h(this,'emitter',null),(this['emitter']=_0x40b47a,w['assert'](_0x40b47a));}['getShaderV'+'ariant'](_0x457c88){const {device:_0x33909f,scene:_0x595a6e,cameraShaderParams:_0x3c6b83,objDefs:_0x3b6f06}=_0x457c88,{emitter:_0x19055e}=this,_0x4ca462={'defines':$t['getCoreDef'+'ines'](this,_0x457c88),'pass':Aa,'useCpu':this['emitter']['useCpu'],'normal':_0x19055e['lighting']?_0x19055e['normalMap']!==null?0xfc+-0x2710+0x2616:0x1*0x305+-0x85*-0x11+-0xbd9:-0x97*-0x25+0x20a7+-0x1*0x367a,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'meshUv':_0x3b6f06&nm,'gamma':(_0x3c6b83==null?void(-0x16b7+0x6df*-0x2+0x11*0x225):_0x3c6b83['shaderOutp'+'utGamma'])??Ll,'toneMap':(_0x3c6b83==null?void(-0x7*-0x534+0x305+-0x2771*0x1):_0x3c6b83['toneMappin'+'g'])??sm,'fog':_0x595a6e&&!this['emitter']['noFog']?_0x595a6e['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x19055e['inTools']?!(-0x252f+-0x1*0x1aa7+0x3fd7):this['emitter']['screenSpac'+'e'],'blend':this['emitter']['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==yh},_0x2fd2c5=new Ad(_0x457c88['viewUnifor'+'mFormat'],_0x457c88['viewBindGr'+'oupFormat'],_0x457c88['vertexForm'+'at']),_0x60e56e=Hn(_0x33909f);return _0x60e56e['register']('particle',gA),_0x60e56e['getProgram']('particle',_0x4ca462,_0x2fd2c5,this['userId']);}}const ig=[[-(-0x1*-0x90f+-0x370+-0x59e),-(0x3*-0x63f+0xfa1+0x31d)],[0x1*0x1cf+-0xcb0*0x1+0xae2,-(-0x1bd5+0x1338+0x1*0x89e)],[-0x2511+-0x7c5*0x3+0x3c61*0x1,-0x131*0x3+-0x1*-0x142f+-0x109b],[-(0x167a+-0xe8c+0x7ed*-0x1),0xfc7+0x1*-0x224f+0x1289]];function xs(_0xa5d827,_0x14b6a4,_0xaaac03,_0x14b356,_0x4be31a=Xt,_0x570924,_0x19673d){let _0x10fdee=Te;_0x19673d&&(_0x4be31a===Ne||_0x4be31a===_s)&&(_0x10fdee=vt);const _0x2d4e7f=new _e(_0xa5d827,{'width':_0x14b6a4,'height':_0xaaac03,'format':_0x4be31a,'cubemap':!(-0x122*-0x11+0x1fd*-0x7+0x2ab*-0x2),'mipmaps':!(0x26fc*0x1+0x532+-0x2c2d),'minFilter':_0x10fdee,'magFilter':_0x10fdee,'addressU':ue,'addressV':ue,'name':'ParticleSy'+'stemTextur'+'e'}),_0x321eb3=_0x2d4e7f['lock']();if(_0x4be31a===Ne||_0x4be31a===_s){const _0x5d224c=new Uint8Array(_0x14b356['length']);for(let _0x5091ea=-0x1*0xd47+0x2047+-0x1300;_0x5091ea<_0x14b356['length'];_0x5091ea++)_0x5d224c[_0x5091ea]=_0x14b356[_0x5091ea]*_0x570924*(0x14*-0xd9+-0x13d5+-0x138*-0x1f);_0x14b356=_0x5d224c;}return _0x321eb3['set'](_0x14b356),_0x2d4e7f['unlock'](),_0x2d4e7f;}function rg(_0x2b8cb3){return Math['max'](Math['min'](_0x2b8cb3,0x14fd+0x153*-0x13+0x42d),-0x112f+0x2598+0x1469*-0x1);}const ag=new qs([0x1*-0x11e3+0xd07+0x4dc,-0xa11+-0x8d4+0x12e5,-0x38*0x8d+0x11*0x47+0xf*0x1be,0x53+0x1bdd+-0x1c30]),ng=new qs([-0x114*0x3+-0x169f+0x19db,0xa9+0x11d5+0x127d*-0x1,-0x8*0x13+-0xd*-0x79+-0x58c,0x8ea+0x1*-0x2207+-0x2*-0xc8f]),og=new na([-0x15b0*0x1+0xa17+0xb99*0x1,-0x23e7+0x1*-0xec3+-0x511*-0xa,0x2*-0xeed+0xc5d+0x117e,0x1002+0x8b*0x4+-0x122e],[-0xb*0x1a3+0x1e5a+-0xc59,-0x17*-0x1a3+0x10f3*0x2+-0x681*0xb,-0x1f*0xf+0xa33+0x1ad*-0x5,-0x4b0+0x4*0x89+0x28c],[0x2*-0x835+0x1e43+-0xdd9*0x1,-0x1bb*-0x7+0x7f+-0xc9c,0x1*-0x2457+-0x2294+0x46ec,0xf48+-0x21*0xdb+0xcf3]),yA=new na([0x15e0+0x7b+-0x1*0x165b,0x2a*0x43+0x1*0x2126+-0x2c23,0x8b5*-0x3+-0xabf+-0x24df*-0x1,0x6dc*0x3+0x1*0x7a8+-0x1c3b],[0xd99+0x17d3+-0x256c,0x170+0x5d*0x3+0x1*-0x286,0x1b93+-0x1ab8+-0xda,-0x1945*0x1+-0x23*0xac+0x30ca],[0x48*0x6b+-0x249b*-0x1+-0x42b3*0x1,-0x3*0x68e+0x1b5e+0x291*-0x3,-0x24b*-0xd+-0xf95+-0x1*0xe39,0xe1e+-0x2656*-0x1+-0x3473]);let bi=-0x109e+-0x922+-0x7*-0x3ae;const pc=0xcf6+-0x21a0+0x1*0x14ae,Ai=new Float32Array(-0x814+-0x2453+-0x1*-0x2c6a),Ur=new te(),lg=new D(),mc=new D(),_c=new D();let uu,Zc;function he(_0x43e61a,_0x399ec2){Zc[_0x43e61a]!==void(0x1684+0x4c6*0x1+0x2*-0xda5)&&Zc[_0x43e61a]!==null?uu[_0x43e61a]=Zc[_0x43e61a]:uu[_0x43e61a]=_0x399ec2;}function Dv(_0x16f57c,_0x539dd0,_0x436c78){return(_0x16f57c*(-0x1336+0x2*-0xd+0x6c5*0x3)<<-0x7*0x39b+0x1020+-0x51*-0x1d|_0x539dd0*(0xaf8*0x3+0x1*0x615+0xcaa*-0x3)<<0x1fc0+0xeec+0x1*-0x2ea4|_0x436c78*(-0x35*-0x38+-0x773+-0x326))/(-0x2471+0x1*-0x1e21+0x4293<<0x1bce+0x6a5+-0x225b);}function cg(_0x1dac39,_0x1e1724){const _0x212d8b=_0x1dac39['length']/(-0x16ff+-0x1e8f*0x1+-0x3591*-0x1),_0x448754=new Array(_0x212d8b*(0x1*0x2531+-0x213*0x2+-0x1bd*0x13));for(let _0x54ed6c=0x85f+-0x14c+-0x713;_0x54ed6c<_0x212d8b;_0x54ed6c++)_0x448754[_0x54ed6c*(0x187*-0x17+0x7a9*0x1+0x1b7c)]=_0x1dac39[_0x54ed6c*(-0x192f+0x1*0x188a+0xa8)],_0x448754[_0x54ed6c*(0x10a*-0x2+-0x3*-0x38f+-0x1*0x895)+(0x23b*0x1+0x1bb5+-0x1def)]=_0x1dac39[_0x54ed6c*(-0x1d*-0xba+-0x1*0x1c70+0x761)+(-0x2*0xae8+-0x5f1*-0x5+-0x7e4)],_0x448754[_0x54ed6c*(0x1*-0x69d+-0x2202+-0x1*-0x28a3)+(-0x111f+0x7*0x38a+-0x7a5)]=_0x1dac39[_0x54ed6c*(0x2*0x37d+0x5d*-0x10+-0x127)+(0x9e*-0xb+-0x147f+0x1*0x1b4b)],_0x448754[_0x54ed6c*(-0x1f43+0x65d*-0x5+0x3f18)+(0xc8*0x10+-0x18ba+-0xd*-0xf1)]=Dv(_0x1e1724[_0x54ed6c*(0x1279+-0x139c+0x1*0x126)],_0x1e1724[_0x54ed6c*(-0x2509+-0x1127*0x1+0x3633)+(0x56*-0x6a+0x22*-0x101+0x45bf)],_0x1e1724[_0x54ed6c*(0x2*0x351+-0x2226+0x1d*0xf3)+(0x395*-0x2+-0x10c*0x1+-0x4*-0x20e)]);return _0x448754;}function vA(_0x35a309,_0x40d900){const _0x4f134c=new Array(_0x40d900['length']*(-0x85*0x1c+-0x1ce9*0x1+-0x2b79*-0x1));for(let _0x1bdacf=-0x3a9*-0x9+0x228+0x5*-0x705;_0x1bdacf<_0x40d900['length'];_0x1bdacf++)_0x4f134c[_0x1bdacf*(0x13*-0x143+-0xe1*0x19+0x16fb*0x2)]=_0x35a309[_0x1bdacf*(-0x18ec*-0x1+-0x18*-0x4c+-0x2009)],_0x4f134c[_0x1bdacf*(-0x3*-0x602+0x539+0x139*-0x13)+(-0x13d8+0x10e8+-0x1*-0x2f1)]=_0x35a309[_0x1bdacf*(0x1afe+0x5f1+-0x20ec)+(0x1a1*-0x17+0x1bbb+-0x115*-0x9)],_0x4f134c[_0x1bdacf*(0x1b27*0x1+0x484*0x2+-0x242b)+(-0x2156*0x1+-0x1cec+-0x31d*-0x14)]=_0x35a309[_0x1bdacf*(0x171e*-0x1+-0x237e+0x3a9f)+(-0x21c7+0x322+-0x19d*-0x13)],_0x4f134c[_0x1bdacf*(-0x7ae*0x2+0x1753*-0x1+0x26b3)+(-0x15a3+-0x1b0a*0x1+-0x2*-0x1858)]=_0x40d900[_0x1bdacf];return _0x4f134c;}function xA(_0x8068cd,_0x463f2d,_0x5a2f59,_0x2d8c15,_0x5c177f){const _0x37e281=new Array(_0x8068cd['length']*(0x4a5*0x4+-0x1f8f*-0x1+-0x321f));for(let _0x2c4c2c=-0x1db6+0x241c+-0x7*0xea;_0x2c4c2c<_0x8068cd['length'];_0x2c4c2c++)_0x37e281[_0x2c4c2c*(0x4a+0x25ad+-0x797*0x5)]=_0x8068cd[_0x2c4c2c],_0x37e281[_0x2c4c2c*(0xf89+-0xa91*0x1+-0x4f4)+(-0x9f7*-0x1+-0x59*-0x25+0x16d3*-0x1)]=_0x463f2d[_0x2c4c2c],_0x37e281[_0x2c4c2c*(-0xc22*-0x2+-0x1b19+-0x2d9*-0x1)+(-0x1019*0x1+-0x18c2+0x28dd)]=-0x267+0x1ac5+-0x1*0x185e,_0x37e281[_0x2c4c2c*(0x76+-0xd43+0xcd1)+(0x92*-0x26+0x1*0x16cf+-0x120)]=Dv(_0x5a2f59[_0x2c4c2c],_0x2d8c15[_0x2c4c2c],_0x5c177f[_0x2c4c2c]);return _0x37e281;}function TA(_0x320465,_0x4c6d1e){const _0x10855a=new Array(_0x320465['length']*(0x785+0xd01+-0x1482));for(let _0x59490a=-0x17e3+0x1d*0x121+-0x8da;_0x59490a<_0x320465['length'];_0x59490a++)_0x10855a[_0x59490a*(0xf0*-0x29+-0x1e48+0x44bc)]=_0x320465[_0x59490a],_0x10855a[_0x59490a*(-0x2117+-0x7dc+0x28f7*0x1)+(-0xa*0x3ca+-0xa30+0x1007*0x3)]=_0x4c6d1e[_0x59490a],_0x10855a[_0x59490a*(-0x24bc+-0x1*-0x1ce1+-0x9b*-0xd)+(-0x1228+0x2402+-0x23b*0x8)]=-0xc*-0x24b+-0x1*0x12c1+-0x8c3,_0x10855a[_0x59490a*(-0x23b3+0x3a6*0x9+0x2e1)+(0x176*-0xd+0xda5+-0x4*-0x157)]=0x3d0+0x19f*0x18+-0x2ab8;return _0x10855a;}function wA(_0x4ee43e){const _0x872290=Math['max'](_0x4ee43e['rate'],_0x4ee43e['rate2'])*_0x4ee43e['numParticl'+'es']+_0x4ee43e['lifetime'];return Date['now']()+_0x872290*(-0xf3+-0xcb6*-0x3+0x1*-0x2147);}function EA(_0x1fe9c7,_0x233337){const _0x348db0=new Float32Array(_0x1fe9c7['length']);for(let _0x173af6=-0xc69+-0x99*-0x1+0xbd0;_0x173af6<_0x1fe9c7['length'];_0x173af6++)_0x348db0[_0x173af6]=_0x1fe9c7[_0x173af6]-_0x233337[_0x173af6];return _0x348db0;}function Xr(_0xc95d86,_0x4bde94){const _0x28d1d9=_0x4bde94['length'],_0x2a0ec7=_0xc95d86['length']/_0x28d1d9;for(let _0x4edc55=0x3db+0x3*-0x32b+0x5a6;_0x4edc55<_0x2a0ec7;_0x4edc55++)for(let _0x412716=-0x8*-0x1d3+-0xc2d+-0x26b;_0x412716<_0x28d1d9;_0x412716++){const _0x1a51d8=Math['abs'](_0xc95d86[_0x4edc55*_0x28d1d9+_0x412716]);_0x4bde94[_0x412716]=Math['max'](_0x4bde94[_0x412716],_0x1a51d8);}}function bA(_0x570fbb,_0x48873e){const _0x1916ae=_0x48873e['length'],_0x2080f4=_0x570fbb['length']/_0x1916ae;for(let _0x236f2a=-0x25b3+-0xe4e*0x2+0x424f;_0x236f2a<_0x2080f4;_0x236f2a++)for(let _0x157935=-0xd38*0x1+-0x55*-0x1f+0x2ed;_0x157935<_0x1916ae;_0x157935++)_0x570fbb[_0x236f2a*_0x1916ae+_0x157935]/=_0x48873e[_0x157935]===0x3*0x6da+-0x1*-0x6a8+-0x1b36?-0x24b4+0x1*0x143e+0x1077:_0x48873e[_0x157935],_0x570fbb[_0x236f2a*_0x1916ae+_0x157935]*=0x10fd*0x1+-0x1009+-0xf4+0.5,_0x570fbb[_0x236f2a*_0x1916ae+_0x157935]+=-0xa35+0x1d*-0xa0+0x1*0x1c55+0.5;}function Br(_0x545215,_0x370360,_0x451bb3){const _0x1adf94=EA(_0x370360,_0x545215);return Xr(_0x1adf94,_0x451bb3),bA(_0x1adf94,_0x451bb3),_0x1adf94;}const AA=new Kt();class CA{constructor(_0x375f83,_0x407732){h(this,'material',null),h(this,'internalTe'+'x0',null),h(this,'internalTe'+'x1',null),h(this,'internalTe'+'x2',null),h(this,'colorParam',null),this['graphicsDe'+'vice']=_0x375f83;const _0x8b6f8d=_0x375f83,_0x11cc4c=0x1*0x192d+0x1ef0+-0x37fd;this['precision']=_0x11cc4c,this['_addTimeTi'+'me']=-0x942+-0x1*0x65d+0xf9f,uu=this,Zc=_0x407732,he('numParticl'+'es',0x7*0x53+0x23ea+-0x262e),this['numParticl'+'es']>_0x375f83['maxTexture'+'Size']&&(w['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x375f83['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x375f83['maxTexture'+'Size']),he('rate',0x230c+-0x1598*-0x1+-0x38a3),he('rate2',this['rate']),he('lifetime',-0x1*-0x15eb+0x886*0x4+-0x1*0x37d1),he('emitterExt'+'ents',new D(0x15e5+0x8f*0x4+-0x1821,-0x1b7f*-0x1+0x10f+-0x1c8e,0x373*0xb+0x6c5*0x3+0x20*-0x1d2)),he('emitterExt'+'entsInner',new D(-0x4bd*0x4+-0x1*0xe57+0x214b,-0x1adb+-0x2693+0xd16*0x5,-0x779+0x18a0+-0x1*0x1127)),he('emitterRad'+'ius',0x1fd0+0x1*-0x469+0x57b*-0x5),he('emitterRad'+'iusInner',0x913*-0x3+-0x628+0x5*0x6ad),he('emitterSha'+'pe',ai),he('initialVel'+'ocity',0x29*-0x1+0x5*-0x6eb+0x22c1),he('wrap',!(0x1d49+0x5c5*0x1+-0x230d)),he('localSpace',!(0xf6+0x120+-0x215)),he('screenSpac'+'e',!(0x755*0x1+-0x5d*0x51+0x1*0x1619)),he('wrapBounds',null),he('colorMap',this['defaultPar'+'amTexture']),he('normalMap',null),he('loop',!(0x1*0x71+0x789+-0x7fa)),he('preWarm',!(0x37*-0x37+0x1df6*0x1+-0x1224)),he('sort',nu),he('mode',rv),he('scene',null),he('lighting',!(-0x11e2+0x270a+-0x1527)),he('halfLamber'+'t',!(-0x2d5*-0x2+0x290*-0xb+0x1687)),he('intensity',0x17fd+0x29a+-0x1a96),he('stretch',-0x2*-0xc1+-0x1799+0x3*0x75d),he('alignToMot'+'ion',!(0x43*0x27+0x1*0x381+-0xdb5)),he('depthSofte'+'ning',-0x98*-0x5+-0x21b5*-0x1+0x29*-0xe5),he('mesh',null),he('particleNo'+'rmal',new D(0x23ac+-0x6db+0x3*-0x99b,-0x13f*-0x9+-0xf*-0xc3+-0x16a3,-0x539*0x1+0xacf+-0x596)),he('orientatio'+'n',yh),he('depthWrite',!(-0x1bb2+0x1165+-0x527*-0x2)),he('noFog',!(-0xd3*0x15+-0xdbd+-0x1*-0x1f0d)),he('blendType',Zs),he('node',null),he('startAngle',-0x5*0x180+-0x3*-0x1ef+0x1b3),he('startAngle'+'2',this['startAngle']),he('animTilesX',0x1775+0x54b*0x2+-0x220a),he('animTilesY',0x2cd*0x5+-0x3c9+-0xa37),he('animStartF'+'rame',0xc96+-0xaf9+-0x19d),he('animNumFra'+'mes',0x265f+0xa29+-0x3087),he('animNumAni'+'mations',-0x1*0x16f4+0x112*0x2+0x14d1),he('animIndex',0x178*-0x6+0x1d3+0x1*0x6fd),he('randomizeA'+'nimIndex',!(-0x19*-0x12f+0x5*-0x74b+0x6e1)),he('animSpeed',0x1*0x7dc+0xa99*-0x1+0x2be*0x1),he('animLoop',!(-0x1fc2+-0x19cb+-0x132f*-0x3)),this['_gpuUpdate'+'r']=new mA(this,_0x8b6f8d),this['_cpuUpdate'+'r']=new pA(this),this['emitterPos'+'Uniform']=new Float32Array(0x8d9+-0x1*-0x238f+0x1*-0x2c65),this['wrapBounds'+'Uniform']=new Float32Array(-0x101*-0x6+-0x7f0+-0x1*-0x1ed),this['emitterSca'+'leUniform']=new Float32Array([-0xf4*0x19+-0x16fc+-0x5*-0x95d,0x1a1*0x3+0xa9a+0x7be*-0x2,0x2151+0xae*0x33+-0x43fa]),he('colorGraph',yA),he('colorGraph'+'2',this['colorGraph']),he('scaleGraph',ng),he('scaleGraph'+'2',this['scaleGraph']),he('alphaGraph',ng),he('alphaGraph'+'2',this['alphaGraph']),he('localVeloc'+'ityGraph',og),he('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),he('velocityGr'+'aph',og),he('velocityGr'+'aph2',this['velocityGr'+'aph']),he('rotationSp'+'eedGraph',ag),he('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),he('radialSpee'+'dGraph',ag),he('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(-0xe31+-0x1d*0x13d+0x321c),this['animParams']=new Float32Array(0xc09+-0x1*0x1afb+0xef6),this['animIndexP'+'arams']=new Float32Array(-0x1dfa+-0x14*-0x15+0x1c58),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(-0x1*0x1f10+0x14e3*-0x1+0x33f4),this['useMesh']=!(-0x13c7+-0x1c53+-0x106*-0x2f),this['useCpu']=!_0x375f83['supportsGp'+'uParticles'],this['pack8']=!(0x1f64+0x8*-0x45a+0x36c),this['localBound'+'s']=new De(),this['worldBound'+'sNoTrail']=new De(),this['worldBound'+'sTrail']=[new De(),new De()],this['worldBound'+'s']=new De(),this['worldBound'+'sSize']=new D(),this['prevWorldB'+'oundsSize']=new D(),this['prevWorldB'+'oundsCente'+'r']=new D(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new D(),this['worldBound'+'sAdd']=new D(),this['timeToSwit'+'chBounds']=0x1*-0x200e+0x5*-0x343+0x101f*0x3,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=0x19*-0x185+0x12a2+0x135b,this['numParticl'+'eIndices']=-0x23b4+-0x25*0x6d+0x3375,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=0x106b+-0x28b+-0xde*0x10,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(-0x135*0x5+-0x1335+-0x119*-0x17)/(-0xd*0x23b+0x1094+-0x4f*-0x29),this['maxSubStep'+'s']=-0x138+0xea0+0x1*-0xd5e,this['simTime']=0x10a5*0x1+-0x13ae+0x309,this['simTimeTot'+'al']=-0x2126+0x1*-0x1eb+0x2311,this['beenReset']=!(-0x1442+0x170a+-0x2c7),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return w['assert'](this['graphicsDe'+'vice']),AA['get'](this['graphicsDe'+'vice'],()=>{const _0x42a940=new Float32Array(0x1fe6+-0x25f9+-0xa13*-0x1);for(let _0x3ab70e=-0x1e14+-0x1*0xe75+0x2c89;_0x3ab70e<-0x25ad+0x2*0xeb9+-0x84b*-0x1;_0x3ab70e++)for(let _0x3fda73=-0x1*0x14ae+-0x227c+0x1b95*0x2;_0x3fda73<-0xa7b+-0x5b*0x2+-0x2b*-0x43;_0x3fda73++){const _0x585ae1=_0x3fda73+(-0x403+0x1f*-0x8d+0x1517)-(0x7a5+-0x2235+0x1a98+0.5),_0x2af506=_0x3ab70e+(0x4*-0x126+-0x16a2+-0x1*-0x1b3b)-(-0xaa8+0x173c+-0xc8c+0.5),_0x59dd7e=rg(-0x28*0x3e+0x1*0x2135+-0x1ae*0xe-rg(Math['sqrt'](_0x585ae1*_0x585ae1+_0x2af506*_0x2af506)/(-0x100c+0x1*0xf73+-0xa9*-0x1))-(-0x2*-0xb32+-0x1ac2+0x2b*0x1a+0.5)),_0x45bf26=_0x3ab70e*(0x112d+0x20d6+0x1*-0x31f3)+_0x3fda73;_0x42a940[_0x45bf26*(0x2*-0x55c+0xc0*-0x22+0x243c)]=0xbc6+0x115*0x23+-0x31a4,_0x42a940[_0x45bf26*(-0x106a+0x2361+-0x12f3)+(-0x1*0x12f5+0x36f+0xf87)]=0x1*0x1e22+-0x5bb+-0x1866,_0x42a940[_0x45bf26*(0x1*0x5a5+-0x2*0xda3+0x1*0x15a5)+(-0x19e*0x3+-0x1b3+0x68f)]=0xb8c+0x25aa*-0x1+0x1a1f,_0x42a940[_0x45bf26*(0x1*0x63d+0xfb*-0x23+0x1c18)+(-0x1e2f+0x1*-0x1388+0xbe*0x43)]=_0x59dd7e;}const _0x2746c3=xs(this['graphicsDe'+'vice'],-0x1be9+0x4*-0x713+0x5*0xb41,-0x4*-0x18e+-0x55+0x3*-0x1f1,_0x42a940,_s,0xcfa+0x1bbe+0x5d1*-0x7,!(-0x1*-0x65+0x1aba+-0x1b1f));return _0x2746c3['minFilter']=vt,_0x2746c3['magFilter']=vt,_0x2746c3;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(0xc19*0x1+0x1b0d+-0x2725)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(0xe18+-0xca3*0x2+0x1*0xb2f)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(-0x3d*0x6+-0x24c3+0x2632)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(0x3+-0x279*-0x8+-0x13ca)),this['worldBound'+'sAdd']['x']+=0x1c87+0x3*-0x9df+0x116+0.5,this['worldBound'+'sAdd']['y']+=-0x167*0x19+-0x2637*0x1+0x4946+0.5,this['worldBound'+'sAdd']['z']+=0x1381+-0x49e*0x3+-0x5a7+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x1431e1=!(-0x22bc+0x1d*-0x61+0x1*0x2dba);this['emitterSha'+'pe']===ai?_0x1431e1=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x1431e1=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x1431e1&&this['calculateL'+'ocalBounds']();}const _0x5c9ad4=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x5c9ad4),this['worldBound'+'sTrail'][0x18ef+0x4*0x17+-0x194b]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x600+0xdc8+-0x7c7]['add'](this['worldBound'+'sNoTrail']);const _0x13535e=this['simTimeTot'+'al'];_0x13535e>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][-0x5*-0x1f+-0x1b43+0x1aa8]['copy'](this['worldBound'+'sTrail'][-0x515+0x1*-0x26bd+0x2bd3]),this['worldBound'+'sTrail'][-0x2693*-0x1+0x5*-0x14c+-0x3*0xab2]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x13535e+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x2*-0x5f+0xa*-0x9e+-0x56e*-0x1]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x1084+0x18*0x183+-0x6*0x34b),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x5c9ad4),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x5c9ad4)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=0x6ec+-0xa60*0x1+0x375-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x3*0xc5f+-0x1bea+0x4107]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x2373+-0x20e2+0x4456*0x1]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x14b8+0x453*-0x1+-0x1065]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x1*0x2531+0x9db*-0x2+-0x359*-0x11),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=-0xfa2*0x1+0x1d8d+-0xdeb,this['timeToSwit'+'chBounds']=-0x1*0x1467+-0x263*-0xf+-0xf66);}['calculateL'+'ocalBounds'](){let _0x5367b1=Number['MAX_VALUE'],_0x5caa1a=Number['MAX_VALUE'],_0x52f240=Number['MAX_VALUE'],_0x4a2739=-Number['MAX_VALUE'],_0x4c080d=-Number['MAX_VALUE'],_0x514608=-Number['MAX_VALUE'],_0x4f5f3f=-0x5*-0x9b+-0x16e3+0x13dc,_0x268be6=-0x23d8+-0x8e7*0x4+0x4774;const _0x49f474=this['lifetime']/this['precision'],_0x36c63b=[this['qVelocity'],this['qVelocity2']],_0x59e2e7=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x2a5f35=[0x127+0x3d6*-0x7+0x19b3,-0x2100+0x1*-0x30b+0x1*0x240b],_0x1182b9=[0x2b6*0x7+-0x2026+0xd2c,-0xd9f*0x2+0x1*0xd+0x1b31],_0x5cbfa9=[-0x1*0x2287+0x16d4+0xbb3,0x237c*-0x1+0xa1*0x27+0x1*0xaf5],_0x51dbc7=[-0xe3d+-0x1359+0x2196,0x26f5+-0xd*-0x240+0x13*-0x397],_0x24d319=[-0xd*-0x16e+0x7*-0x3be+0x3ce*0x2,0x3*-0x488+0xf78+0xf*-0x20];let _0x3a7db3,_0x539abd,_0x309067;for(let _0x227f0f=-0xf4e*-0x1+-0x1387*-0x2+-0x365c;_0x227f0f<this['precision']+(-0x1198*-0x2+0xef*0x5+0x2*-0x13ed);_0x227f0f++){const _0x30fcf0=Math['min'](_0x227f0f,this['precision']-(0x1ef5+-0x1a02+-0x4f2));for(let _0x2a4e0c=-0x25c*-0x7+0x43e*0x4+0x2*-0x10be;_0x2a4e0c<0xc*-0x67+0x13a3+0x9*-0x1a5;_0x2a4e0c++)_0x3a7db3=_0x59e2e7[_0x2a4e0c][_0x30fcf0*(0x1d53*-0x1+-0x236e+0x40c4)+(-0xd1b+-0x5*0x1fd+-0x19*-0xec)]*_0x49f474+_0x2a5f35[_0x2a4e0c],_0x539abd=_0x59e2e7[_0x2a4e0c][_0x30fcf0*(-0xfe6+0x1e4c+-0xe63)+(0xfb+0x1539+-0x1633)]*_0x49f474+_0x1182b9[_0x2a4e0c],_0x309067=_0x59e2e7[_0x2a4e0c][_0x30fcf0*(0x1e9a+-0x1a*0x7e+-0x11cb)+(0x5*-0x2a4+-0xe3c+0x1b72)]*_0x49f474+_0x5cbfa9[_0x2a4e0c],_0x5367b1=Math['min'](_0x3a7db3,_0x5367b1),_0x5caa1a=Math['min'](_0x539abd,_0x5caa1a),_0x52f240=Math['min'](_0x309067,_0x52f240),_0x4a2739=Math['max'](_0x3a7db3,_0x4a2739),_0x4c080d=Math['max'](_0x539abd,_0x4c080d),_0x514608=Math['max'](_0x309067,_0x514608),_0x2a5f35[_0x2a4e0c]=_0x3a7db3,_0x1182b9[_0x2a4e0c]=_0x539abd,_0x5cbfa9[_0x2a4e0c]=_0x309067;for(let _0x91d8e6=0xddc+-0x19d0+0xaa*0x12;_0x91d8e6<0x1c10+-0x4f*-0x20+-0x796*0x5;_0x91d8e6++)_0x24d319[_0x91d8e6]+=_0x49f474*Math['sqrt'](_0x36c63b[_0x91d8e6][_0x30fcf0*(0x1ac0+0x132+0x1bef*-0x1)+(-0x1a*0x17+0x19a+-0x5e*-0x2)]*_0x36c63b[_0x91d8e6][_0x30fcf0*(0x13f7+-0x1*-0x1539+-0x292d)+(-0xbf*-0x29+0x1026+0x959*-0x5)]+_0x36c63b[_0x91d8e6][_0x30fcf0*(-0x1*-0x33c+0x31*0x93+-0x1f5c)+(0x197a+-0x63*0x27+-0xa64)]*_0x36c63b[_0x91d8e6][_0x30fcf0*(-0x1*-0x75d+-0x149e+0xd44)+(0x2032+0x15b6+0x35e7*-0x1)]+_0x36c63b[_0x91d8e6][_0x30fcf0*(0x26f+-0x1*-0xeb9+-0x1125)+(0x1bee+0x192b+-0x3517)]*_0x36c63b[_0x91d8e6][_0x30fcf0*(0x1f1e+0x1*0x3f5+-0x84*0x44)+(0x932*-0x1+0x1*-0x1589+0x2b*0xb7)]);_0x51dbc7[0x1ccb+0x19bb*0x1+-0x3686]+=this['qRadialSpe'+'ed'][_0x30fcf0]*_0x49f474,_0x51dbc7[0xdb*0x8+-0x2*0xa31+0xd8b*0x1]+=this['qRadialSpe'+'ed2'][_0x30fcf0]*_0x49f474,_0x4f5f3f=Math['max'](_0x4f5f3f,Math['max'](Math['abs'](_0x51dbc7[0x2*-0xdb9+-0x211+0x1d83]),Math['abs'](_0x51dbc7[-0x205d+-0xe*-0xa6+0xb*0x21e]))),_0x268be6=Math['max'](_0x268be6,this['qScale'][_0x30fcf0]);}this['emitterSha'+'pe']===ai?(_0x3a7db3=this['emitterExt'+'ents']['x']*(0x264+0x1*0x20cd+-0x2331+0.5),_0x539abd=this['emitterExt'+'ents']['y']*(0x2*-0xe9c+-0x1efa+0x73*0x86+0.5),_0x309067=this['emitterExt'+'ents']['z']*(0x17*0x124+-0x1b4+-0x1888+0.5)):(_0x3a7db3=this['emitterRad'+'ius'],_0x539abd=this['emitterRad'+'ius'],_0x309067=this['emitterRad'+'ius']);const _0x5d4099=Math['max'](_0x24d319[-0xf5a+-0xf8*-0xa+-0xa*-0x91],_0x24d319[0x1a*-0x157+0x2068+0x7*0x59]);mc['x']=_0x5367b1-_0x268be6-_0x3a7db3-_0x4f5f3f-_0x5d4099,mc['y']=_0x5caa1a-_0x268be6-_0x539abd-_0x4f5f3f-_0x5d4099,mc['z']=_0x52f240-_0x268be6-_0x309067-_0x4f5f3f-_0x5d4099,_c['x']=_0x4a2739+_0x268be6+_0x3a7db3+_0x4f5f3f+_0x5d4099,_c['y']=_0x4c080d+_0x268be6+_0x539abd+_0x4f5f3f+_0x5d4099,_c['z']=_0x514608+_0x268be6+_0x309067+_0x4f5f3f+_0x5d4099,this['localBound'+'s']['setMinMax'](mc,_c);}['rebuild'](){const _0x448e62=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===ai?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>nu||_0x448e62['maxVertexT'+'extures']<=0x1*0xe27+0x184e+-0x2674||_0x448e62['fragmentUn'+'iformsCoun'+'t']<0xb3*0x9+0xdf*0x2+-0x7c9||_0x448e62['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x448e62['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],bi=this['useCpu']||this['pack8']?-0x21*0x37+-0x1b7d+0x1*0x2298:0x3c6+0x1*0xe21+0x11e5*-0x1,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=Y['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x1f66+-0x2022+-0x2*-0x5e]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][-0xd*0x91+-0x2423+0x1*0x2b81]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x1ab0+0x10b3+-0x2b61),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x3051bf=-0x1d*-0x56+-0x1f4e+-0x3c*-0x5c;_0x3051bf<this['numParticl'+'es'];_0x3051bf++)this['vbToSort'][_0x3051bf]=[0x1*-0xf8b+0xd*-0x83+0x1632,0x15de+-0x1*-0x1e6d+-0x344b];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*bi*pc);const _0x5e57e9=this['node']===null||this['localSpace']?D['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===ai&&(this['node']===null||this['localSpace']?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['spawnBound'+'s']):Ur['setTRS'](D['ZERO'],this['node']['getRotatio'+'n'](),lg['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),Ai[-0x5bc*0x1+-0x1*-0x533+-0x89*-0x1]=this['emitterExt'+'ents']['x']!==-0x31*-0x3b+0x557+0x851*-0x2?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x1865+0x1*0x1343+0x522,Ai[-0x15e3*0x1+0x1f85+-0x9a1]=this['emitterExt'+'ents']['y']!==0x12ed+-0x29d*0x9+0x498?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0x2063+-0x17b*-0x1+-0xb4a*0x3,Ai[0x64b*-0x3+0x19a6*-0x1+-0x1*-0x2c89]=this['emitterExt'+'ents']['z']!==0x21bd*0x1+0x1051*0x2+-0x425f?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x23cb+0x231c+0xaf);for(let _0x28b125=0x1*-0x108d+0x2*-0x258+0x153d;_0x28b125<this['numParticl'+'es'];_0x28b125++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Ur,Ai,_0x5e57e9,_0x28b125),this['useCpu']&&(this['particleTe'+'x'][_0x28b125*pc+(-0xb10+-0x210c+-0xfb*-0x2d)+this['numParticl'+'esPot']*(-0x26*0xf5+-0x827*0x1+0x2c87)*pc]=0xb*0x265+-0x1af+-0x18a7);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*bi*pc);for(let _0xa7dc7a=-0xa8+-0x1*0x138e+0x1436;_0xa7dc7a<this['particleTe'+'xStart']['length'];_0xa7dc7a++)this['particleTe'+'xStart'][_0xa7dc7a]=this['particleTe'+'x'][_0xa7dc7a];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=xs(_0x448e62,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,-0x24f6+-0x1e3f+-0x7*-0x99a,!(-0x101f+-0x613+0x1633*0x1)),this['particleTe'+'xOUT']=xs(_0x448e62,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,-0x1*0x2119+0x1f98+0x182,!(-0x1c4c+0x1beb+0x62)),this['particleTe'+'xStart']=xs(_0x448e62,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'],Ne,-0xd84+0xb15*0x2+-0x8a5,!(0x72*0x51+0x32a+-0x79*0x53))):(this['particleTe'+'xIN']=xs(_0x448e62,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xOUT']=xs(_0x448e62,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xStart']=xs(_0x448e62,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new gt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(-0x25*-0x9b+-0xaa2+-0x3*0x3ec)}),this['rtParticle'+'TexOUT']=new gt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(-0x79*0xb+-0x4d8*-0x2+-0xa4*0x7)}),this['swapTex']=!(0x2581*0x1+0xfdf+-0x1*0x355f));const _0x4a99e2=new Map();this['localSpace']&&_0x4a99e2['set']('LOCAL_SPAC'+'E',''),this['pack8']&&_0x4a99e2['set']('PACK8',''),this['emitterSha'+'pe']===ai&&_0x4a99e2['set']('EMITTERSHA'+'PE_BOX','');const _0x4a8242='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'],_0x19773b=Pe['get'](_0x448e62,_0x448e62['isWebGPU']?it:Fe),_0x43be9b=new Map(_0x19773b),_0x1d7370={'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'particle_s'+'imulationP'+'S','fragmentDefines':_0x4a99e2,'fragmentIncludes':_0x43be9b};_0x1d7370['uniqueName']='ParticleUp'+'dateRespaw'+'n-'+_0x4a8242,_0x4a99e2['set']('RESPAWN',''),this['shaderPart'+'icleUpdate'+'Respawn']=$t['createShad'+'er'](_0x448e62,_0x1d7370),_0x4a99e2['delete']('RESPAWN'),_0x1d7370['uniqueName']='ParticleUp'+'dateNoResp'+'awn-'+_0x4a8242,_0x4a99e2['set']('NO_RESPAWN',''),this['shaderPart'+'icleUpdate'+'NoRespawn']=$t['createShad'+'er'](_0x448e62,_0x1d7370),_0x4a99e2['delete']('NO_RESPAWN'),_0x1d7370['uniqueName']='ParticleUp'+'dateStop-'+_0x4a8242,_0x4a99e2['set']('ON_STOP',''),this['shaderPart'+'icleUpdate'+'OnStop']=$t['createShad'+'er'](_0x448e62,_0x1d7370),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:0x1e56+0x2219+0x2cd*-0x17,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][0x1b4*0xa+-0x349+-0xdbf]['numIndices']:-0x607+-0xde2+0x1b*0xbd,this['_allocate'](this['numParticl'+'es']);const _0x34e6a4=new Ge(_0x448e62);_0x34e6a4['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x34e6a4['indexBuffe'+'r'][0x12e4+-0x202d+0xb3*0x13]=this['indexBuffe'+'r'],_0x34e6a4['primitive'][0x10a5*0x1+-0x850+0x1b*-0x4f]['type']=js,_0x34e6a4['primitive'][0x224e+-0x43*-0x39+0x3139*-0x1]['base']=0x9d*0x1+0x17*-0xd4+0x625*0x3,_0x34e6a4['primitive'][0x95*-0x9+-0x2197+0x26d4]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x34e6a4['primitive'][0x1*-0x6d3+0xa4*0x1+-0x1*-0x62f]['indexed']=!(-0x4*-0x269+-0x4*-0x607+-0x10e*0x20),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x235117=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(-0x1476+0x1149+0x10f*0x3);this['meshInstan'+'ce']=new He(_0x34e6a4,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(-0x2ca+-0x3*0x801+0x1ace),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(-0x1*0xd3d+0x1e6*-0x12+0x2f69),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(-0x1*-0xbd9+0x145e+-0x2036),this['meshInstan'+'ce']['visible']=_0x235117,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](-0x139a+0x231f+-0xf85,!(0xf53*-0x2+0xdf9*-0x1+0x44*0xa8)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=0x5e9*0x5+-0x254a*0x1+0x7be&&(this['animTilesX']>0x707+0x34*0xd+-0x9aa||this['animTilesY']>0xaf2+0x2cf*-0x6+0x5e9)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x2450dd=this['precision'],_0x4ee5d2=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x2450dd),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x2450dd),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x2450dd,0x432*-0x3+0x1d9b+-0x1*0x1105,0x15c3+-0x12*-0xa4+-0x214a),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x2450dd),this['qScale']=this['scaleGraph']['quantize'](_0x2450dd),this['qAlpha']=this['alphaGraph']['quantize'](_0x2450dd),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x2450dd),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x2450dd),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x2450dd),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x2450dd,-0x1a86+-0x266*-0x7+0x9bc,-0x1b*0x69+0x8a4+0x270),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x2450dd),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x2450dd),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x2450dd),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x2450dd);for(let _0x14884e=-0x4*-0x6d4+0x10cc+0xc*-0x3ad;_0x14884e<_0x2450dd;_0x14884e++)this['qRotSpeed'][_0x14884e]*=Y['DEG_TO_RAD'],this['qRotSpeed2'][_0x14884e]*=Y['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(0x178d+0x416+0x11*-0x1a0),this['velocityUM'+'ax']=new Float32Array(0x329*-0x9+-0x39*0x6b+0x3447),this['colorUMax']=new Float32Array(0x776+0x1b15+-0x2288),this['rotSpeedUM'+'ax']=[0x4e*-0x11+0xba9*0x2+-0x3*0x60c],this['scaleUMax']=[0x1*0x836+-0x18d5+0x109f],this['alphaUMax']=[0x1027*-0x1+0x20a8+0x19*-0xa9],this['radialSpee'+'dUMax']=[-0x139*0x8+-0xeb8+0x1880],this['qLocalVelo'+'cityDiv']=Br(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Br(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Br(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Br(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Br(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Br(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Br(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x49b7f2=[0x571*-0x1+0xbe6+-0x675,0x1b2a+-0x26ad*0x1+0xb83,0xfec+-0xaf+-0xf3d*0x1];Xr(this['qVelocity'],_0x49b7f2);const _0x32445a=[-0x1*0x1fd7+-0x1a3*-0xd+0xd0*0xd,0x6*0x666+0x28+-0x1346*0x2,-0x2530+-0xc7*-0x6+0x2086];Xr(this['qVelocity2'],_0x32445a);const _0x204c35=[0x13a2+-0x7*0x142+0xfc*-0xb,0x7c1*-0x1+0x1ea5+-0x16e4,0x78e*0x5+0x7d6+-0x2d9c];Xr(this['qLocalVelo'+'city'],_0x204c35);const _0x577ab6=[-0x557*-0x2+0x10ce+-0xdbe*0x2,0x1*-0x9fd+0x1763+-0x31*0x46,0xe2b+0x1a19+-0x2844];Xr(this['qLocalVelo'+'city2'],_0x577ab6);const _0x1e2a3c=[0x10f0+0x9*-0x2e7+-0x92f*-0x1];Xr(this['qRadialSpe'+'ed'],_0x1e2a3c);const _0x562123=[0x2318+0x2c*-0x9c+-0xa*0xd4];Xr(this['qRadialSpe'+'ed2'],_0x562123);let _0x4a9156=Math['max'](_0x49b7f2[-0x1*0x1583+-0x2*0x9d1+0x2925*0x1],_0x32445a[-0x1*0x1ded+0x4d4+0x1919]);_0x4a9156=Math['max'](_0x4a9156,_0x49b7f2[-0x5*0x4fd+0x53*0x23+-0xd99*-0x1]),_0x4a9156=Math['max'](_0x4a9156,_0x32445a[-0x1035+0x1be*-0x9+0x1fe4]),_0x4a9156=Math['max'](_0x4a9156,_0x49b7f2[0x1*-0xc85+0xfa1+-0x18d*0x2]),_0x4a9156=Math['max'](_0x4a9156,_0x32445a[-0x1*0x25fa+-0x2465+0x4a61]);let _0x893ab0=Math['max'](_0x204c35[0x2089+0x2180+-0x4209],_0x577ab6[-0x791+0x1f44*0x1+-0x17b3]);_0x893ab0=Math['max'](_0x893ab0,_0x204c35[0xc94+-0xdc7+-0x1c*-0xb]),_0x893ab0=Math['max'](_0x893ab0,_0x577ab6[-0xdd6+-0x18c2+0x1*0x2699]),_0x893ab0=Math['max'](_0x893ab0,_0x204c35[0x40c*-0x8+0xad2*-0x2+-0xa*-0x567]),_0x893ab0=Math['max'](_0x893ab0,_0x577ab6[0x1ebe+0x1*0xa72+0x2f1*-0xe]);const _0xa99944=Math['max'](_0x1e2a3c[0x611*-0x3+0x650+-0x1*-0xbe3],_0x562123[-0x7cd+0x1700+-0xf33]);this['maxVel']=_0x4a9156+_0x893ab0+_0xa99944;}this['useCpu']||(this['internalTe'+'x0']=xs(_0x4ee5d2,_0x2450dd,0x1a13+-0x5*0x655+-0x9f*-0x9,cg(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=xs(_0x4ee5d2,_0x2450dd,-0x8df+-0x1*-0x243b+-0x1b5b,cg(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=xs(_0x4ee5d2,_0x2450dd,-0x2655+0xc17+0x1a3f,xA(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=xs(_0x4ee5d2,_0x2450dd,0x17*-0x8d+0x1ceb+-0x103f*0x1,TA(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=xs(_0x4ee5d2,_0x2450dd,-0x2349+0x1c03+0x747,vA(this['qColor'],this['qAlpha']),_s,0x19c*-0x17+-0x1b41*-0x1+-0x14*-0x7d,!(0x1d25+0x1e3c+-0x3b61));}['_setMateri'+'alTextures'](){this['colorMap']&&(w['call'](()=>{py(this['colorMap']['format'])&&w['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x7c927=new SA(this);return _0x7c927['name']='EmitterMat'+'erial:'+this['node']['name'],_0x7c927['cull']=bt,_0x7c927['alphaWrite']=!(-0x21f0+0xdd5+-0x9*-0x23c),_0x7c927['blendType']=this['blendType'],_0x7c927['depthWrite']=this['depthWrite'],_0x7c927;}['resetMater'+'ial'](){const _0x44eb7c=this['material'];_0x44eb7c['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x44eb7c['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x44eb7c['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x44eb7c['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x44eb7c['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x44eb7c['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x44eb7c['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x44eb7c['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x44eb7c['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x44eb7c['setParamet'+'er']('colorParam',this['colorParam']),_0x44eb7c['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x44eb7c['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x44eb7c['setParamet'+'er']('lifetime',this['lifetime']),_0x44eb7c['setParamet'+'er']('rate',this['rate']),_0x44eb7c['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x44eb7c['setParamet'+'er']('seed',this['seed']),_0x44eb7c['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][-0xc76+0xd*-0x1e7+0x1*0x2531]),_0x44eb7c['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][0x5*0x3f5+0x1fda+-0x33a3]),_0x44eb7c['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][-0x1970+0x25*-0x83+0x2c5f]),_0x44eb7c['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x44eb7c['setParamet'+'er']('graphSampl'+'eSize',(0x1*-0x6ee+0x27c+0x11*0x43)/this['precision']),_0x44eb7c['setParamet'+'er']('emitterSca'+'le',new Float32Array([0xd7a+-0x2665+0x18ec,0x1*0xa4d+-0x206a+0x26*0x95,0xa2d+-0x1826+0xdfa])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x44eb7c['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x44eb7c['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x44eb7c['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][-0x2*-0xb98+-0x3*-0xa21+-0x3593]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][-0x130b+-0x6*0x29a+0x22a8]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][0x1237+-0x740+0x33*-0x37]=this['wrapBounds']['z'],_0x44eb7c['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>0x13*-0x3a+-0x5*0x37d+0x15bf&&_0x44eb7c['setParamet'+'er']('softening',(-0x2*0x710+-0x1538+0x2359)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(0xa5+-0x1*-0x9d6+0x171*-0x7))),this['stretch']>-0x4a3*-0x5+0xf28+-0x2657&&(_0x44eb7c['cull']=bt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x5a3d29,_0x37b711;if(this['orientatio'+'n']===yh)_0x5a3d29=new Float32Array([0x4*0x52+-0x6*-0x1d+-0x1*0x1f5,0x154c+0x1826+-0x115*0x2a,0x20e7+-0x814*0x2+-0x10bf]),_0x37b711=new Float32Array([-0x126e+-0x2685+-0xef*-0x3d,-0x492+0xc7+0x3cb*0x1,0x88*0x26+0x16e8+0x1*-0x2b17]);else{let _0x1649e6;this['orientatio'+'n']===Vw?_0x1649e6=this['particleNo'+'rmal']['normalize']():_0x1649e6=(this['node']===null?te['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x16b45f=new D(0x11d*-0x13+0x189*0x5+0xd7b,0x732+0x19f+0x1*-0x8d1,-0x1*0x3a5+-0x7ed*0x3+0x1b6c);Math['abs'](_0x16b45f['dot'](_0x1649e6))===-0x18d*0x8+-0x1*-0x26b2+-0x1a49&&_0x16b45f['set'](-0x2*0x8a1+0x1b26+0x3*-0x34c,-0x2*-0xd21+-0x1c6a+0x3*0xb8,-0x4c6*-0x5+0x13*0x109+-0x2b88);const _0x44ecda=new D()['cross'](_0x1649e6,_0x16b45f)['normalize']();_0x16b45f['cross'](_0x44ecda,_0x1649e6)['normalize'](),_0x5a3d29=new Float32Array([_0x16b45f['x'],_0x16b45f['y'],_0x16b45f['z']]),_0x37b711=new Float32Array([_0x44ecda['x'],_0x44ecda['y'],_0x44ecda['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x5a3d29),this['material']['setParamet'+'er']('faceBinorm',_0x37b711);}['getVertexI'+'nfo'](){const _0x316404=[];return this['useCpu']?_0x316404['push']({'semantic':Jf,'components':0x4,'type':Ve},{'semantic':uh,'components':0x4,'type':Ve},{'semantic':Ap,'components':0x4,'type':Ve},{'semantic':Cp,'components':0x1,'type':Ve},{'semantic':Pp,'components':this['useMesh']?-0x8*0x45d+-0x1b49*-0x1+0x7a3:0x2*-0x568+-0x42e+0xf00,'type':Ve}):(_0x316404['push']({'semantic':Jf,'components':0x4,'type':Ve}),this['useMesh']&&_0x316404['push']({'semantic':uh,'components':0x2,'type':Ve})),_0x316404;}['_allocate'](_0x1ed1a3){const _0x47acc1=_0x1ed1a3*this['numParticl'+'eVerts'],_0x1394d6=_0x1ed1a3*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(-0xd8b+0xee0+-0x155)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x47acc1){const _0x238de3=this['getVertexI'+'nfo'](),_0x11f24d=new kt(this['graphicsDe'+'vice'],_0x238de3);this['vertexBuff'+'er']=new Is(this['graphicsDe'+'vice'],_0x11f24d,_0x47acc1,{'usage':lh}),this['indexBuffe'+'r']=new br(this['graphicsDe'+'vice'],wr,_0x1394d6);const _0xd1187a=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x4ec99b,_0x298493,_0x121735;if(this['useMesh']){_0x4ec99b=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x298493=_0x4ec99b['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x4ecc2d=-0x2331+-0xd6*0x13+-0x19*-0x20b;_0x4ecc2d<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x4ecc2d++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x4ecc2d]['name']===is){_0x121735=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x4ecc2d]['offset']/(0x2517+-0x2*-0x242+-0x49f*0x9);break;}}for(let _0x263572=-0x5cb*0x4+0x21e6+-0xaba;_0x263572<_0x47acc1;_0x263572++){const _0x5d7c6c=Math['floor'](_0x263572/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x511b13=_0x263572%this['numParticl'+'eVerts'];_0xd1187a[_0x263572*(0x37d*0x3+0x5*0x21d+0x2*-0xa81)]=_0x4ec99b[_0x511b13*_0x298493],_0xd1187a[_0x263572*(-0x15af+0x13c*-0x10+0x2975)+(0x13f6+0x2493+-0x3888)]=_0x4ec99b[_0x511b13*_0x298493+(-0x1343+0xb*0x1b6+0x72)],_0xd1187a[_0x263572*(0x1f*-0x121+0x228a+0x7b)+(-0x930*-0x2+-0xf15+-0x349*0x1)]=_0x4ec99b[_0x511b13*_0x298493+(0x1561+0x119e+-0x26fd)],_0xd1187a[_0x263572*(-0x19ef+-0x6*-0x4f5+-0x3c9)+(-0x21bd+-0x1602+0x4e*0xb7)]=_0x5d7c6c,_0xd1187a[_0x263572*(0x6cb*-0x5+-0x1cd3+0x3ed0)+(-0xa*0x207+0x1880+-0x436)]=_0x4ec99b[_0x511b13*_0x298493+_0x121735+(0x1660+-0x12*0x13+-0x150a)],_0xd1187a[_0x263572*(-0x119*-0xf+-0xb39+-0x538)+(-0x24f4+0x1fae+0x10f*0x5)]=0x1*-0xfd4+-0xf03*0x1+0x6*0x524-_0x4ec99b[_0x511b13*_0x298493+_0x121735+(-0xa*0x2de+0x2563+-0x8b6)];}else{const _0x226143=_0x263572%(0xb41+-0x1*-0x6a3+-0x11e0);_0xd1187a[_0x263572*(0x49*-0x3e+-0x1*-0xf88+-0x22a*-0x1)]=ig[_0x226143][-0x6a*-0x14+0x222e+-0x2a76],_0xd1187a[_0x263572*(-0x1f4c+0x7c4+0xbc6*0x2)+(-0xe39+0xaee*0x3+-0x1290)]=ig[_0x226143][0x26a1+0x8a+-0x272a],_0xd1187a[_0x263572*(-0x2cd*0x9+-0xdc9*0x2+0x34cb)+(0x1738+-0x5c0+0x12a*-0xf)]=-0xe2*0x1f+0x1*0x213b+-0x5dd,_0xd1187a[_0x263572*(-0xf35*-0x1+-0x22c+-0x65*0x21)+(0x246d+-0x1265+-0x7*0x293)]=_0x5d7c6c;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0xd1187a),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x111b82=-0xb*-0x1e9+0x360+-0x1863;const _0x140526=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x5057a6=this['mesh']['indexBuffe'+'r'][0x941+-0x15eb+0xcaa];_0x4ec99b=new Sh[_0x5057a6['format']](_0x5057a6['lock']());}for(let _0x2578aa=0x1*0x26ca+0x1f*0x7c+-0x35ce;_0x2578aa<_0x1ed1a3;_0x2578aa++)if(this['useMesh']){for(let _0x24f928=-0x9fd*-0x1+-0x1232+0x835;_0x24f928<this['numParticl'+'eIndices'];_0x24f928++)_0x140526[_0x2578aa*this['numParticl'+'eIndices']+_0x24f928]=_0x4ec99b[_0x24f928]+_0x2578aa*this['numParticl'+'eVerts'];}else{const _0x3baaae=_0x2578aa*(0x264a+-0x1*-0x16ab+-0x3cf1);_0x140526[_0x111b82++]=_0x3baaae,_0x140526[_0x111b82++]=_0x3baaae+(-0x771+0x68e+0xe4),_0x140526[_0x111b82++]=_0x3baaae+(-0x78d*0x3+-0xe42+0x24eb),_0x140526[_0x111b82++]=_0x3baaae,_0x140526[_0x111b82++]=_0x3baaae+(-0xba8*-0x1+-0x37*-0x6c+0x22da*-0x1),_0x140526[_0x111b82++]=_0x3baaae+(-0x2164*0x1+0x74a+0x1a1d);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][-0xba3+-0x59b+0x113e]['unlock']();}}['reset'](){if(this['beenReset']=!(-0x17*0x13d+-0x1ec1+0x11*0x37c),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x5e36a9=0x9*0x42b+-0x2427+-0x15c;_0x5e36a9<this['particleTe'+'xStart']['length'];_0x5e36a9++)this['particleTe'+'x'][_0x5e36a9]=this['particleTe'+'xStart'][_0x5e36a9];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x54d21d=this['loop'];this['loop']=!(-0x103*0x1a+0x2*-0xdf3+0x2*0x1b1a),this['addTime'](0x1*-0x14c5+0xe5b*-0x1+0x2320,!(-0x9c7+0x5ed*0x1+0x3db)),this['loop']=_0x54d21d,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x2f1961){const _0x5b9b1d=_0x2f1961/this['lifetime'],_0x41b76b=Math['min'](Math['floor'](_0x5b9b1d*this['precision']),this['precision']),_0x17fadf=_0x2f1961/_0x41b76b;for(let _0x3d66cf=-0x53c+-0x39+0x575;_0x3d66cf<_0x41b76b;_0x3d66cf++)this['addTime'](_0x17fadf,!(-0x6*-0x455+0x56*0x52+0x1*-0x3589));}['resetTime'](){this['endTime']=wA(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x36696e,_0x4c4a8e){const _0x27a7aa=this['graphicsDe'+'vice'],_0x3efce7=de();if(this['simTimeTot'+'al']+=_0x36696e,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x6e1e71=this['animTilesP'+'arams'];_0x6e1e71[0x2*-0xa9+-0x25*-0xf3+-0x21cd]=(-0x1*-0x158b+0x15*0x136+-0x12*0x29c)/this['animTilesX'],_0x6e1e71[-0x1519+0x52*-0x6+0xb83*0x2]=(0x89c+0x15e1+-0x4*0x79f)/this['animTilesY'];const _0x26816e=this['animParams'];_0x26816e[-0xcf+-0x1fe5+0x20b4]=this['animStartF'+'rame'],_0x26816e[0x11a7+-0x1495*0x1+-0x2ef*-0x1]=this['animNumFra'+'mes']*this['animSpeed'],_0x26816e[-0x1*-0xd87+0xbd7+-0x195c]=this['animNumFra'+'mes']-(0x1a*-0x11e+0x1*0x22e7+-0x5da),_0x26816e[0xe37+0x396+0x5ee*-0x3]=this['animNumAni'+'mations']-(0x155d+-0xf67+-0x5f5);const _0x2b86a9=this['animIndexP'+'arams'];_0x2b86a9[0x21b6+-0x7*-0x24b+-0x31c3]=this['animIndex'],_0x2b86a9[-0x11b7+0x13*-0x118+0x2680]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===ai&&(Ai[0x1de1+0x3*0x36d+-0x2828]=this['emitterExt'+'ents']['x']!==-0xd6d+0x98b*-0x2+-0x11f*-0x1d?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x178a+-0x4*0x75a+0x2*0x1a79,Ai[0x10b*0x3+0x5*-0x76e+0x2206]=this['emitterExt'+'ents']['y']!==0x2039+0x32*-0x5f+-0xdab?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0x66*-0x55+0x2*0x2ef+0xe0*0x20,Ai[0x1ab2+-0x1472+0x2*-0x31f]=this['emitterExt'+'ents']['z']!==-0x11*0x4d+0x164+0x3b9*0x1?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x16a*0xf+0x24f2+0x4c*-0x35,this['meshInstan'+'ce']['node']===null?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['emitterExt'+'ents']):Ur['setTRS'](D['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),lg['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0xae6e38;const _0x31a181=this['meshInstan'+'ce']['node']===null?D['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][0x1eac+-0x209+0x1ca3*-0x1]=_0x31a181['x'],this['emitterSca'+'leUniform'][-0x4*-0x191+0x1a09+-0x204c]=_0x31a181['y'],this['emitterSca'+'leUniform'][0x13e5+0x47*-0x52+-0x2b*-0x11]=_0x31a181['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0xae6e38=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][0x575*-0x1+-0x1*-0x1673+-0x10fe]=_0xae6e38['x'],this['emitterPos'+'Uniform'][0x22d8+0x535+-0x16*0x1d2]=_0xae6e38['y'],this['emitterPos'+'Uniform'][0x912+-0xb0+0x86*-0x10]=_0xae6e38['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x27a7aa,Ur,Ai,_0x36696e,_0x4c4a8e);else{const _0x2e5993=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x2e5993,this['vbToSort'],this['particleTe'+'x'],Ur,Ai,_0xae6e38,_0x36696e,_0x4c4a8e);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(-0x7*0x567+0xc15+0x19bd*0x1)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=de()-_0x3efce7;}['_destroyRe'+'sources'](){var _0x2cefae,_0x503c4c,_0x2aead7,_0x4ca14b,_0xd42bfd,_0x5740e4,_0x39df7f,_0x782db0,_0x11b653,_0x20b116,_0xf1276,_0x4df57d;(_0x2cefae=this['particleTe'+'xIN'])==null||_0x2cefae['destroy'](),this['particleTe'+'xIN']=null,(_0x503c4c=this['particleTe'+'xOUT'])==null||_0x503c4c['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x2aead7=this['rtParticle'+'TexIN'])==null||_0x2aead7['destroy'](),this['rtParticle'+'TexIN']=null,(_0x4ca14b=this['rtParticle'+'TexOUT'])==null||_0x4ca14b['destroy'](),this['rtParticle'+'TexOUT']=null,(_0xd42bfd=this['internalTe'+'x0'])==null||_0xd42bfd['destroy'](),this['internalTe'+'x0']=null,(_0x5740e4=this['internalTe'+'x1'])==null||_0x5740e4['destroy'](),this['internalTe'+'x1']=null,(_0x39df7f=this['internalTe'+'x2'])==null||_0x39df7f['destroy'](),this['internalTe'+'x2']=null,(_0x782db0=this['internalTe'+'x3'])==null||_0x782db0['destroy'](),this['internalTe'+'x3']=null,(_0x11b653=this['colorParam'])==null||_0x11b653['destroy'](),this['colorParam']=null,(_0x20b116=this['vertexBuff'+'er'])==null||_0x20b116['destroy'](),this['vertexBuff'+'er']=void(-0x92b+0x7aa*0x3+-0xdd3),(_0xf1276=this['indexBuffe'+'r'])==null||_0xf1276['destroy'](),this['indexBuffe'+'r']=void(-0x1*-0x1723+-0x22*-0x42+-0x1fe7*0x1),(_0x4df57d=this['material'])==null||_0x4df57d['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class PA extends ya{['generateKe'+'y'](_0x5696b0){var _0x32d786;const _0x14ecb6=_0x5696b0['shaderDesc'],_0x43fcb1=_0x14ecb6['vertexGLSL']?hi(_0x14ecb6['vertexGLSL']):0x1*0x17c1+-0x18a*0x12+-0x1*-0x3f3,_0x55ecaa=_0x14ecb6['fragmentGL'+'SL']?hi(_0x14ecb6['fragmentGL'+'SL']):0x2*0x31+0xa5c+-0xabe,_0x206fa0=_0x14ecb6['vertexWGSL']?hi(_0x14ecb6['vertexWGSL']):0xf18+0x1edf+-0x29*0x11f,_0x15da8b=_0x14ecb6['fragmentWG'+'SL']?hi(_0x14ecb6['fragmentWG'+'SL']):-0xf5c+-0x25*0x1b+-0x1*-0x1343,_0x1dff75=ya['definesHas'+'h'](_0x5696b0['defines']),_0x124746=((_0x32d786=_0x5696b0['shaderChun'+'ks'])==null?void(0x1af4+-0xd4+0x260*-0xb):_0x32d786['key'])??'';let _0x9120f2=_0x14ecb6['uniqueName']+'_'+_0x1dff75+'_'+_0x43fcb1+'_'+_0x55ecaa+'_'+_0x206fa0+'_'+_0x15da8b+'_'+_0x124746;return _0x5696b0['skin']&&(_0x9120f2+='_skin'),_0x5696b0['useInstanc'+'ing']&&(_0x9120f2+='_inst'),_0x5696b0['useMorphPo'+'sition']&&(_0x9120f2+='_morphp'),_0x5696b0['useMorphNo'+'rmal']&&(_0x9120f2+='_morphn'),_0x5696b0['useMorphTe'+'xtureBased'+'Int']&&(_0x9120f2+='_morphi'),_0x9120f2;}['createAttr'+'ibutesDefi'+'nition'](_0x439a3d,_0xc7631d){const _0x4c46a6=_0xc7631d['shaderDesc']['attributes'],_0x5444b2=_0x4c46a6?{..._0x4c46a6}:void(0x1c7c+-0x1433+-0x7*0x12f);_0xc7631d['skin']&&(_0x5444b2['vertex_bon'+'eWeights']=gi,_0x5444b2['vertex_bon'+'eIndices']=us),(_0xc7631d['useMorphPo'+'sition']||_0xc7631d['useMorphNo'+'rmal'])&&(_0x5444b2['morph_vert'+'ex_id']=Ln),_0x439a3d['attributes']=_0x5444b2;}['createVert'+'exDefiniti'+'on'](_0x63e6e1,_0x53a0b6,_0x4b7fed,_0xcd7931){const _0x1edbd8=_0x53a0b6['shaderDesc'],_0x210e7d=new Map(_0x4b7fed);_0x210e7d['set']('transformI'+'nstancingV'+'S','');const _0x2f322e=new Map(_0x53a0b6['defines']);_0x53a0b6['skin']&&_0x2f322e['set']('SKIN',!(0x2*-0x689+-0x4*-0x6a9+-0xd92)),_0x53a0b6['useInstanc'+'ing']&&_0x2f322e['set']('INSTANCING',!(-0xbd3+-0x53a*-0x7+-0x1*0x18c3)),(_0x53a0b6['useMorphPo'+'sition']||_0x53a0b6['useMorphNo'+'rmal'])&&(_0x2f322e['set']('MORPHING',!(-0x1*-0x24dd+-0xce+-0x240f)),_0x53a0b6['useMorphTe'+'xtureBased'+'Int']&&_0x2f322e['set']('MORPHING_I'+'NT',!(0x2650+0xa9*-0x25+-0xf*0xed)),_0x53a0b6['useMorphPo'+'sition']&&_0x2f322e['set']('MORPHING_P'+'OSITION',!(-0xb*-0x145+-0x8e4+-0x1*0x513)),_0x53a0b6['useMorphNo'+'rmal']&&_0x2f322e['set']('MORPHING_N'+'ORMAL',!(0x27*0xa9+-0xd5*0x1d+0x8a*-0x3))),_0x63e6e1['vertexCode']=_0xcd7931?_0x1edbd8['vertexWGSL']:_0x1edbd8['vertexGLSL'],_0x63e6e1['vertexIncl'+'udes']=_0x210e7d,_0x63e6e1['vertexDefi'+'nes']=_0x2f322e;}['createFrag'+'mentDefini'+'tion'](_0x8e9d6a,_0x3cf6a5,_0x206974,_0x188fbd){const _0x520b0e=_0x3cf6a5['shaderDesc'],_0x206370=new Map(_0x206974),_0x23172f=new Map(_0x3cf6a5['defines']);_0x8e9d6a['fragmentCo'+'de']=_0x188fbd?_0x520b0e['fragmentWG'+'SL']:_0x520b0e['fragmentGL'+'SL'],_0x8e9d6a['fragmentIn'+'cludes']=_0x206370,_0x8e9d6a['fragmentDe'+'fines']=_0x23172f;}['createShad'+'erDefiniti'+'on'](_0x532209,_0x279894){var _0x1923bf;const _0x9fa395=_0x279894['shaderDesc'],_0x13142c=_0x532209['isWebGPU']&&!!_0x9fa395['vertexWGSL']&&!!_0x9fa395['fragmentWG'+'SL']&&(((_0x1923bf=_0x279894['shaderChun'+'ks'])==null?void(0x62b*0x4+0x1c92+-0x2*0x1a9f):_0x1923bf['useWGSL'])??!(-0x32e+0xc43*-0x1+0x3b*0x43)),_0x5d7a95={'name':'ShaderMate'+'rial-'+_0x9fa395['uniqueName'],'shaderLanguage':_0x13142c?it:Fe,'fragmentOutputTypes':_0x9fa395['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x9fa395['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x9fa395['meshBindGr'+'oupFormat']},_0x146555=_0x13142c?it:Fe,_0x35c893=bh['merge'](Pe['get'](_0x532209,_0x146555),_0x279894['shaderChun'+'ks'][_0x146555]);return this['createAttr'+'ibutesDefi'+'nition'](_0x5d7a95,_0x279894),this['createVert'+'exDefiniti'+'on'](_0x5d7a95,_0x279894,_0x35c893,_0x13142c),this['createFrag'+'mentDefini'+'tion'](_0x5d7a95,_0x279894,_0x35c893,_0x13142c),Jt['createDefi'+'nition'](_0x532209,_0x5d7a95);}}const MA=new PA();class Xn extends tr{constructor(_0x1abba1){super(),h(this,'_shaderDes'+'c'),this['shaderDesc']=_0x1abba1;}set['shaderDesc'](_0x3b2480){if(this['_shaderDes'+'c']=void(-0x1709+0x1*0xb96+0xb73),_0x3b2480&&(this['_shaderDes'+'c']={'uniqueName':_0x3b2480['uniqueName'],'attributes':_0x3b2480['attributes'],'fragmentOutputTypes':_0x3b2480['fragmentOu'+'tputTypes'],'vertexGLSL':_0x3b2480['vertexGLSL'],'fragmentGLSL':_0x3b2480['fragmentGL'+'SL'],'vertexWGSL':_0x3b2480['vertexWGSL'],'fragmentWGSL':_0x3b2480['fragmentWG'+'SL']},_0x3b2480['vertexCode']||_0x3b2480['fragmentCo'+'de']||_0x3b2480['shaderLang'+'uage'])){w['deprecated']('ShaderMate'+'rial\x20['+_0x3b2480['uniqueName']+(']:\x20vertexC'+'ode,\x20fragm'+'entCode\x20an'+'d\x20shaderLa'+'nguage\x20pro'+'perties\x20of'+'\x20ShaderDes'+'c\x20is\x20depre'+'cated.\x20Use'+'\x20vertexGLS'+'L,\x20fragmen'+'tGLSL,\x20ver'+'texWGSL\x20or'+'\x20fragmentW'+'GSL\x20instea'+'d.'));const _0x45a8e8=_0x3b2480['shaderLang'+'uage']??Fe;_0x45a8e8===Fe?(this['_shaderDes'+'c']['vertexGLSL']=_0x3b2480['vertexCode'],this['_shaderDes'+'c']['fragmentGL'+'SL']=_0x3b2480['fragmentCo'+'de']):_0x45a8e8===it&&(this['_shaderDes'+'c']['vertexWGSL']=_0x3b2480['vertexCode'],this['_shaderDes'+'c']['fragmentWG'+'SL']=_0x3b2480['fragmentCo'+'de']);}this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x2728f6){return super['copy'](_0x2728f6),this['shaderDesc']=_0x2728f6['shaderDesc'],this;}['getShaderV'+'ariant'](_0x9e6843){const {objDefs:_0x369651}=_0x9e6843,_0x3bdf5c={'defines':$t['getCoreDef'+'ines'](this,_0x9e6843),'skin':(_0x369651&nl)!==0x1*-0x243+0x15f2+-0x13af,'useInstancing':(_0x369651&ol)!==0x9c9+0x2557*0x1+-0x2f20,'useMorphPosition':(_0x369651&ll)!==0x2f3*-0x1+0x2b+0x8*0x59,'useMorphNormal':(_0x369651&cl)!==-0x1e4*0xc+-0x1*-0x745+0xf6b,'useMorphTextureBasedInt':(_0x369651&hl)!==0x1*0x2704+0xec9*0x2+-0x224b*0x2,'pass':_0x9e6843['pass'],'gamma':_0x9e6843['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x9e6843['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x9e6843['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'shaderChunks':this['shaderChun'+'ks']},_0x345672=new Ad(_0x9e6843['viewUnifor'+'mFormat'],_0x9e6843['viewBindGr'+'oupFormat'],_0x9e6843['vertexForm'+'at']),_0xc796f5=Hn(_0x9e6843['device']);return _0xc796f5['register']('shader-mat'+'erial',MA),_0xc796f5['getProgram']('shader-mat'+'erial',_0x3bdf5c,_0x345672,this['userId']);}}const Iv=(_0x520e46,_0x489d8f)=>{const _0x4fd6e3=_0x489d8f['length']/(0x1c16+-0x22d*0x10+0xf*0x73),_0x522c78=_0x520e46['length']/(0xe9*0x3+-0x1e85+0x1*0x1bcd),_0x420365=new D(),_0x64f9e4=new D(),_0x27088c=new D(),_0x4f0b48=new D(),_0x571020=new D(),_0x48b1d2=new D(),_0x3cff23=[];for(let _0x25728b=0x2d0*-0x8+-0xda3*0x1+0x1*0x2423;_0x25728b<_0x520e46['length'];_0x25728b++)_0x3cff23[_0x25728b]=0x1b2a+0x1a7c+-0x2*0x1ad3;for(let _0x1e9350=-0xa57+0x337*-0x7+-0x836*-0x4;_0x1e9350<_0x4fd6e3;_0x1e9350++){const _0x237f66=_0x489d8f[_0x1e9350*(-0x1f3a+0xd*-0x2f5+0x45ae)],_0x53dadc=_0x489d8f[_0x1e9350*(-0xa*-0x355+-0xc7*0x2d+0x1ac)+(0x1d71+-0x38a+-0x19e6)],_0x5964c1=_0x489d8f[_0x1e9350*(-0x4d7*0x7+-0x186+0x236a)+(0xf0*0xf+0x1744+-0x2552)];_0x420365['set'](_0x520e46[_0x237f66*(0x35*-0x1c+0x32*0x17+0x151*0x1)],_0x520e46[_0x237f66*(0xf9d+0x236e+-0x3308)+(0xc7e+-0x1*0x25c3+0x1946)],_0x520e46[_0x237f66*(0x1*-0xf09+-0x1ddd+0x2ce9*0x1)+(0x1*-0x249b+-0x18f5*0x1+0x1aa*0x25)]),_0x64f9e4['set'](_0x520e46[_0x53dadc*(0x7*0x186+0x1*0x1055+-0x2c*0x9d)],_0x520e46[_0x53dadc*(-0xae*-0x2e+-0x6*-0x3b5+-0x357f)+(-0x2*-0x649+-0xfa*0x1d+0xfc1)],_0x520e46[_0x53dadc*(-0x1863+-0x1885*-0x1+0x1f*-0x1)+(-0x1ceb*-0x1+-0x26ea+0xa01)]),_0x27088c['set'](_0x520e46[_0x5964c1*(-0x212*0xb+-0x1774+-0x7*-0x69b)],_0x520e46[_0x5964c1*(-0x1*0x425+0x670+-0x248)+(-0x25dc+-0x19f4+0x11*0x3c1)],_0x520e46[_0x5964c1*(0x24c3+-0x9*-0xb7+-0x2b2f)+(0x9eb+-0x1e9e*0x1+0x14b5)]),_0x4f0b48['sub2'](_0x64f9e4,_0x420365),_0x571020['sub2'](_0x27088c,_0x420365),_0x48b1d2['cross'](_0x4f0b48,_0x571020)['normalize'](),_0x3cff23[_0x237f66*(0xcb*0x26+-0x1c67+0x14*-0x16)]+=_0x48b1d2['x'],_0x3cff23[_0x237f66*(0xc*0x23b+0x187c+-0x3f1*0xd)+(0x18f9+-0x24a0+0xba8)]+=_0x48b1d2['y'],_0x3cff23[_0x237f66*(-0x22d*0x11+-0xdc2+0x49*0xb2)+(-0xb23+-0xc6*-0x26+-0x123f)]+=_0x48b1d2['z'],_0x3cff23[_0x53dadc*(0xdea+-0x1*0x1a3b+-0x1*-0xc54)]+=_0x48b1d2['x'],_0x3cff23[_0x53dadc*(-0x1*0x1232+-0x12*-0xfb+0xb*0xd)+(0xb5e+-0x152b+0x9ce)]+=_0x48b1d2['y'],_0x3cff23[_0x53dadc*(-0x14d8+-0x1110+0x25eb)+(-0x139e+-0xc+0x13ac)]+=_0x48b1d2['z'],_0x3cff23[_0x5964c1*(-0x21c0+-0xcd5+0xa8*0x47)]+=_0x48b1d2['x'],_0x3cff23[_0x5964c1*(-0x23c0+-0x1bc+0x1*0x257f)+(-0x9df+0x11a6*0x1+-0x3e3*0x2)]+=_0x48b1d2['y'],_0x3cff23[_0x5964c1*(0x23b6+-0xb34*-0x2+0x23*-0x1a9)+(0x84a*-0x1+-0xf*-0x3b+0x3*0x19d)]+=_0x48b1d2['z'];}for(let _0x2b8a46=-0x20ff*-0x1+0x69c*0x1+-0x279b;_0x2b8a46<_0x522c78;_0x2b8a46++){const _0x4c2984=_0x3cff23[_0x2b8a46*(0x8c2*-0x1+0x179*0x1+0x74c)],_0x40f252=_0x3cff23[_0x2b8a46*(0x1061+-0x27*0x4+-0xfc2)+(-0x25d1+0x288+0x234a)],_0x249e33=_0x3cff23[_0x2b8a46*(0x2134+0x5e6+-0x2717)+(0x2b*0x7a+0x23*-0x18+-0x1134)],_0x28eb5d=(-0x1*0x1be5+-0xbf9+-0xad*-0x3b)/Math['sqrt'](_0x4c2984*_0x4c2984+_0x40f252*_0x40f252+_0x249e33*_0x249e33);_0x3cff23[_0x2b8a46*(-0x32b*-0x1+-0xba0+0x878)]*=_0x28eb5d,_0x3cff23[_0x2b8a46*(0x21a1+0x1*0xce3+-0x2e81)+(0x13*0x97+0x2ff*-0x1+0xb*-0xbf)]*=_0x28eb5d,_0x3cff23[_0x2b8a46*(0x179b+-0x23c6+0xc2e)+(-0x1*0x67+0x4*0x139+-0x47b)]*=_0x28eb5d;}return _0x3cff23;},Mr=(_0x4e3b3c,_0x122ed4,_0x115da4,_0x5cc582)=>{const _0x2de090=_0x5cc582['length']/(0x1fc1+-0x1ed5+-0xe9),_0x56eeae=_0x4e3b3c['length']/(0x1*0x16db+-0x4a4*-0x1+-0x1b7c*0x1),_0x19955b=new D(),_0x7e9c0=new D(),_0xe2c0c9=new D(),_0x551b22=new J(),_0x2ed196=new J(),_0x52837b=new J(),_0x1b2ee4=new D(),_0x5cda8d=new D(),_0x17cbef=new Float32Array(_0x56eeae*(-0x11*0x13d+0x1*-0xa1f+0xa65*0x3)),_0x5b2710=new Float32Array(_0x56eeae*(-0x123d*0x1+0x17da+-0x2cd*0x2)),_0x4c2d40=[];for(let _0x1a693d=0xa2b+-0x126+0x905*-0x1;_0x1a693d<_0x2de090;_0x1a693d++){const _0x4df090=_0x5cc582[_0x1a693d*(-0xde2+-0x47c+0x1261)],_0xf9b136=_0x5cc582[_0x1a693d*(0x3*-0x4e3+0x748+0x764)+(-0x149d+0x39*0x43+0x5b3*0x1)],_0x5cef1b=_0x5cc582[_0x1a693d*(-0x1*0x7de+-0x26f0+-0x5*-0x95d)+(0xb*-0xc6+-0x20c6*0x1+0x294a)];_0x19955b['set'](_0x4e3b3c[_0x4df090*(-0x44b*-0x2+-0x3*0x727+0xce2)],_0x4e3b3c[_0x4df090*(0x10f8+0x2690+0x3785*-0x1)+(-0xdd*-0x2+-0x78*0x51+0xc15*0x3)],_0x4e3b3c[_0x4df090*(-0xad3*0x2+-0x999+0x1f42)+(0x1fc6+0x997+-0x295b*0x1)]),_0x7e9c0['set'](_0x4e3b3c[_0xf9b136*(0x2*0x527+0xc0a+-0x1*0x1655)],_0x4e3b3c[_0xf9b136*(0x9*0x6f+-0x597+0x1b3)+(0x1ed*0x7+0x17c2+-0x253c)],_0x4e3b3c[_0xf9b136*(0xbbc*-0x1+0x309+-0x1be*-0x5)+(-0x3fb*-0x1+0x1d99+-0x2192)]),_0xe2c0c9['set'](_0x4e3b3c[_0x5cef1b*(0x6bf+-0x41*-0x33+0x13af*-0x1)],_0x4e3b3c[_0x5cef1b*(-0x139f*0x1+0x2395+-0x3*0x551)+(0x1783+0x266*0x3+-0x1eb4)],_0x4e3b3c[_0x5cef1b*(0x8a+0x827+-0x8ae)+(0x1c0e+-0x1240+-0x84*0x13)]),_0x551b22['set'](_0x115da4[_0x4df090*(0x480+0x2*0xe6d+-0x2158)],_0x115da4[_0x4df090*(-0x1b45+-0x1105+0xc*0x3b1)+(-0x219c+0xc7c*0x2+0x8a5*0x1)]),_0x2ed196['set'](_0x115da4[_0xf9b136*(-0xc5*0x1d+0x51*0x13+0x1050)],_0x115da4[_0xf9b136*(0x20c7+-0xa*0x191+-0x1d*0x97)+(-0x12f1+-0x1*0x1e49+-0x1*-0x313b)]),_0x52837b['set'](_0x115da4[_0x5cef1b*(-0xa*0x1a6+-0xf2d+-0x1*-0x1fab)],_0x115da4[_0x5cef1b*(-0x19*0x137+-0xc0+0x1f21)+(-0xdb+0x242e+-0xbc6*0x3)]);const _0x54123d=_0x7e9c0['x']-_0x19955b['x'],_0x2426e1=_0xe2c0c9['x']-_0x19955b['x'],_0x329946=_0x7e9c0['y']-_0x19955b['y'],_0x2c03c7=_0xe2c0c9['y']-_0x19955b['y'],_0x51a1da=_0x7e9c0['z']-_0x19955b['z'],_0xbbe6b6=_0xe2c0c9['z']-_0x19955b['z'],_0x5080f7=_0x2ed196['x']-_0x551b22['x'],_0x56130a=_0x52837b['x']-_0x551b22['x'],_0x2d0522=_0x2ed196['y']-_0x551b22['y'],_0x65ad50=_0x52837b['y']-_0x551b22['y'],_0x3523ee=_0x5080f7*_0x65ad50-_0x56130a*_0x2d0522;if(_0x3523ee===0x14e+-0xdd5+0xc87)_0x1b2ee4['set'](-0x11*0xc1+0x9*0x203+-0x54a,-0xd5+0x1915+0x3*-0x815,0x1c26+0x494*-0x2+-0x12fe),_0x5cda8d['set'](-0x1b7c+0x191c+0x1d*0x15,-0xca*0xe+-0x38a*-0x7+0xdba*-0x1,0x1ef5+-0x1587+-0x96e);else{const _0xe5da2d=(-0x1fbd+0x2654*0x1+-0x1*0x696)/_0x3523ee;_0x1b2ee4['set']((_0x65ad50*_0x54123d-_0x2d0522*_0x2426e1)*_0xe5da2d,(_0x65ad50*_0x329946-_0x2d0522*_0x2c03c7)*_0xe5da2d,(_0x65ad50*_0x51a1da-_0x2d0522*_0xbbe6b6)*_0xe5da2d),_0x5cda8d['set']((_0x5080f7*_0x2426e1-_0x56130a*_0x54123d)*_0xe5da2d,(_0x5080f7*_0x2c03c7-_0x56130a*_0x329946)*_0xe5da2d,(_0x5080f7*_0xbbe6b6-_0x56130a*_0x51a1da)*_0xe5da2d);}_0x17cbef[_0x4df090*(0x1483+0x1*-0x1b24+-0x55*-0x14)+(-0x1*-0x1c43+-0x1f*0x65+-0x1008)]+=_0x1b2ee4['x'],_0x17cbef[_0x4df090*(0x1c50+0x19e2+-0x362f)+(0x4*-0x62b+0x1ae3+-0x236)]+=_0x1b2ee4['y'],_0x17cbef[_0x4df090*(-0x13d0+-0x1*-0x97+-0x99e*-0x2)+(0x2302+0x25bf+-0x48bf)]+=_0x1b2ee4['z'],_0x17cbef[_0xf9b136*(-0x10a0+0x8e*-0x1d+0x20b9)+(-0xb5*-0xd+-0x1edd+0x15ac)]+=_0x1b2ee4['x'],_0x17cbef[_0xf9b136*(-0x5*-0x1bd+0x214+-0x99*0x12)+(0x5b*-0x25+0x22a9+0x1581*-0x1)]+=_0x1b2ee4['y'],_0x17cbef[_0xf9b136*(0x1c71+0x1143*0x2+-0x3ef4)+(0x2373*-0x1+-0x25*0xd4+0x4219)]+=_0x1b2ee4['z'],_0x17cbef[_0x5cef1b*(0x1a2a*0x1+0x1adc+-0x3503)+(0x1*0x1532+0x2545+0x137d*-0x3)]+=_0x1b2ee4['x'],_0x17cbef[_0x5cef1b*(0x193d+-0x1*-0x19da+-0x1*0x3314)+(-0x1be6*-0x1+-0xe1c+0xdc9*-0x1)]+=_0x1b2ee4['y'],_0x17cbef[_0x5cef1b*(-0x1119+0x1d99+-0xc7d)+(0x224+-0x1*0x4ca+0x2a8)]+=_0x1b2ee4['z'],_0x5b2710[_0x4df090*(0x141d+-0xff*-0x10+-0x240a)+(-0x1669*-0x1+0x1db8+0xa6d*-0x5)]+=_0x5cda8d['x'],_0x5b2710[_0x4df090*(-0xf9*0x1d+-0x1733+0x336b)+(0x26ab+0x10a5*-0x2+0xac*-0x8)]+=_0x5cda8d['y'],_0x5b2710[_0x4df090*(-0x854+-0x1f3b+0x2792)+(0x220c+0x3f*0x92+-0x8bf*0x8)]+=_0x5cda8d['z'],_0x5b2710[_0xf9b136*(0x2386+0x21c9+0x5*-0xddc)+(0x1*0x226d+0x51+-0x22be)]+=_0x5cda8d['x'],_0x5b2710[_0xf9b136*(-0x5*-0x33a+0x258a*0x1+-0x11e3*0x3)+(-0x4*0x7ab+0x1399+0xb14*0x1)]+=_0x5cda8d['y'],_0x5b2710[_0xf9b136*(0xa5a+0x68*0x55+0x2cdf*-0x1)+(0x8f*0xb+0x16d5*-0x1+0x1*0x10b2)]+=_0x5cda8d['z'],_0x5b2710[_0x5cef1b*(0x33*0x2a+-0x50a*-0x4+-0x1c83)+(0x1b31*-0x1+-0xe4d*-0x1+0x1e*0x6e)]+=_0x5cda8d['x'],_0x5b2710[_0x5cef1b*(0x85a+-0x1*0x165b+0xe04)+(0x1610+0x1315+-0x1492*0x2)]+=_0x5cda8d['y'],_0x5b2710[_0x5cef1b*(-0x1*0xa97+0x240d+-0x5*0x517)+(0x1*-0xa69+0x61f*-0x5+0x2906)]+=_0x5cda8d['z'];}const _0x134d9e=new D(),_0x510ef8=new D(),_0x54cf67=new D(),_0x4828bd=new D();for(let _0x38e336=-0x1457+-0x1d17+0x26*0x14d;_0x38e336<_0x56eeae;_0x38e336++){_0x54cf67['set'](_0x122ed4[_0x38e336*(0xbb*0x8+0x2364+-0x2939)],_0x122ed4[_0x38e336*(0x6*0x569+0x2*0x232+0x1*-0x24d7)+(0x176*0xe+-0xf1f+-0x3e*0x16)],_0x122ed4[_0x38e336*(-0x4*-0x1d8+0x1871+-0x1fce)+(0x20d6+-0x11e2+-0xef2)]),_0x134d9e['set'](_0x17cbef[_0x38e336*(-0x213+0x22c3*-0x1+0x24d9)],_0x17cbef[_0x38e336*(0xdf4+-0x35c+-0xa95)+(-0x2*-0x893+-0xca+-0x105b)],_0x17cbef[_0x38e336*(-0x2*-0xf93+-0x74d+-0x2*0xbeb)+(-0x20d1+-0xa76+0x2b49)]),_0x510ef8['set'](_0x5b2710[_0x38e336*(-0x245d+0x1*-0x19c+0x25fc)],_0x5b2710[_0x38e336*(0x6*0x527+0x36f+0x2*-0x112b)+(0x940+0x1cf1*0x1+-0x2630)],_0x5b2710[_0x38e336*(0x613*0x1+-0x16*-0x36+-0x5*0x224)+(0x25d3+-0x293*-0x7+0x7*-0x7fa)]);const _0xf5c176=_0x54cf67['dot'](_0x134d9e);_0x4828bd['copy'](_0x54cf67)['mulScalar'](_0xf5c176),_0x4828bd['sub2'](_0x134d9e,_0x4828bd)['normalize'](),_0x4c2d40[_0x38e336*(0x250a+-0x1ec9+0x1*-0x63d)]=_0x4828bd['x'],_0x4c2d40[_0x38e336*(0x26cf+-0x7*0x588+0x13*-0x1)+(-0x7a*-0x1+-0x1*0x257e+0x2505)]=_0x4828bd['y'],_0x4c2d40[_0x38e336*(0x1*-0x1fbd+0x3*-0x2eb+0x2882)+(-0xc37+-0x2287+0x2ec0)]=_0x4828bd['z'],_0x4828bd['cross'](_0x54cf67,_0x134d9e),_0x4c2d40[_0x38e336*(0x197a*-0x1+0x2638+-0xcba)+(0x1*-0x4f+0x998*0x1+-0x946)]=_0x4828bd['dot'](_0x510ef8)<-0x3*-0xbb5+-0x9*-0x1cf+0x2db*-0x12?-(-0x1cbf+-0xbf*-0x28+-0x1*0x118):0x1*0x1f9d+0xa1*-0x2f+-0x3*0xaf;}return _0x4c2d40;};class Ta{constructor(){h(this,'positions'),h(this,'normals'),h(this,'colors'),h(this,'uvs'),h(this,'uvs1'),h(this,'blendIndic'+'es'),h(this,'blendWeigh'+'ts'),h(this,'tangents'),h(this,'indices');}['calculateN'+'ormals'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=Iv(this['positions'],this['indices']);}['calculateT'+'angents'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),w['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const pu=(0x8b*0x31+0x2*-0x356+-0x13eb)/(-0x17*0x34+-0x595*0x5+0x20d5*0x1),hg=-0x1187+0x1*-0x135d+-0x761*-0x5-pu*(0x197f+0x3*0x7a9+-0x468*0xb);class mu extends Ta{constructor(_0x1202d0={}){super();const _0x1185b9=_0x1202d0['halfExtent'+'s']??new D(-0x802+0x1915+-0x1113*0x1+0.5,-0x19a4*-0x1+-0x1ae9+0x41*0x5+0.5,-0x1*0x21c7+-0x1977+0x3b3e*0x1+0.5),_0x1b2732=_0x1202d0['widthSegme'+'nts']??0xc2d+-0x12c5+-0x699*-0x1,_0x1f9c2a=_0x1202d0['lengthSegm'+'ents']??0xf2*-0xf+0x1dea+-0x1*0xfbb,_0x27bde0=_0x1202d0['heightSegm'+'ents']??-0xda5+0x1a9e*0x1+-0xcf8,_0xa30b0a=_0x1202d0['yOffset']??-0x1*-0x19cd+0x1d5a+-0x3727,_0x1ccbe2=-_0x1185b9['y']+_0xa30b0a,_0x55427a=_0x1185b9['y']+_0xa30b0a,_0x154d39=[new D(-_0x1185b9['x'],_0x1ccbe2,_0x1185b9['z']),new D(_0x1185b9['x'],_0x1ccbe2,_0x1185b9['z']),new D(_0x1185b9['x'],_0x55427a,_0x1185b9['z']),new D(-_0x1185b9['x'],_0x55427a,_0x1185b9['z']),new D(_0x1185b9['x'],_0x1ccbe2,-_0x1185b9['z']),new D(-_0x1185b9['x'],_0x1ccbe2,-_0x1185b9['z']),new D(-_0x1185b9['x'],_0x55427a,-_0x1185b9['z']),new D(_0x1185b9['x'],_0x55427a,-_0x1185b9['z'])],_0x27652b=[[0xf57*-0x1+-0x1ba9*-0x1+0x13*-0xa6,0xbed+-0xd34+0x148,-0x266b+0x1538+-0x1136*-0x1],[0x2342*0x1+0x265*-0xb+0x35*-0x2b,0x97c*-0x2+0x3*0x691+-0xb6,-0x1db7+0x2*-0x561+-0x6c*-0x60],[-0x16f6+0x992+0xd67,-0x14f7+-0xb*0x134+0x2235,0x1ba2+-0x22af*-0x1+-0x3e4b],[-0x24a0+-0x11dd*-0x2+-0x3*-0x4d,0x1*-0x24de+0x18e2+0x3b*0x34,0x3a5+-0xa*0x187+0xb*0x10f],[-0xf6b+0x52*0x1d+0x622,-0x23b4+0x21bc+0x1fc,0x1c*-0x71+-0x203c+0x2c9a],[0x50*0x43+0x29a+-0x1785,-0x2c*-0x40+0x1785+-0x2285,0xe88+0x39d+-0x121f]],_0x315610=[[0x17*-0x6f+0x1*0x12fd+-0x241*0x4,-0x11*-0xaf+0xb6a+-0x1709*0x1,-0x7*-0x4a7+0xc9e+0x2d2e*-0x1],[0x1*0xfa7+0x26e8+0x368f*-0x1,-0x7*0x2bd+0x1c9+0x1bd*0xa,-(-0x1a47+0x567*0x5+0xb*-0x11)],[0x2556+-0xaaa+-0x6ab*0x4,-0x1835+-0x2b*0x41+-0x1*-0x2321,-0x1*0x8ef+-0x135b+0x1c4a],[0x4cd+-0x169*-0x1+-0x109*0x6,-(0x3*-0x9c9+0x1*0x904+0x1458),0xdc7+0x6d*-0x35+0x8ca],[0x925+0x5*0x261+0x1*-0x1509,-0x13ea+0x127b+-0x1*-0x16f,-0x13*0x1c6+0x942+-0x22*-0xb8],[-(-0xd5*-0x1+-0x646*-0x3+0x1f7*-0xa),-0x1197+-0x53*-0x47+-0x56e,0x69a+0x1972+-0x200c]],_0x3971c2={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x539ccd=[],_0x44236d=[],_0x5049f3=[],_0x59ef26=[];let _0x47b7b1=0x5*-0x265+-0x25b+0xe54;const _0x162efb=(_0x355efa,_0x21c461,_0x6e15fb)=>{const _0x14da57=new D(),_0x1a9219=new D(),_0x337bed=new D(),_0x22ddd8=new D();for(let _0x1c1816=0x2371*0x1+0x3d5+-0x2746;_0x1c1816<=_0x21c461;_0x1c1816++)for(let _0x316837=-0x1*0x19ea+-0x16*-0x1be+0x1c6*-0x7;_0x316837<=_0x6e15fb;_0x316837++){_0x14da57['lerp'](_0x154d39[_0x27652b[_0x355efa][0x1ebd+0x11*0x52+-0x242f]],_0x154d39[_0x27652b[_0x355efa][-0x5d1+0x24eb+0x1f19*-0x1]],_0x1c1816/_0x21c461),_0x1a9219['lerp'](_0x154d39[_0x27652b[_0x355efa][-0x24c2+0x24ef+-0x1*0x2d]],_0x154d39[_0x27652b[_0x355efa][0x19fb+0x1*0x19ca+-0x33c3]],_0x316837/_0x6e15fb),_0x337bed['sub2'](_0x1a9219,_0x154d39[_0x27652b[_0x355efa][0x1*0x97+0x1b2c+-0x3*0x941]]),_0x22ddd8['add2'](_0x14da57,_0x337bed);let _0xaa5db3=_0x1c1816/_0x21c461,_0x5820b7=_0x316837/_0x6e15fb;_0x539ccd['push'](_0x22ddd8['x'],_0x22ddd8['y'],_0x22ddd8['z']),_0x44236d['push'](_0x315610[_0x355efa][0x6bd+0x2*0x12a4+0x1*-0x2c05],_0x315610[_0x355efa][-0xb26+-0x1ec2+0x29e9*0x1],_0x315610[_0x355efa][0x3*-0x9eb+-0x1fab*0x1+0x3d6e]),_0x5049f3['push'](_0xaa5db3,-0x10ac+-0x1f51+0x2ffe-_0x5820b7),_0xaa5db3=_0xaa5db3*hg+pu,_0x5820b7=_0x5820b7*hg+pu,_0xaa5db3/=0x2*0x74b+0x142+-0x3*0x547,_0x5820b7/=0xad8+-0xf3*0xa+-0x157,_0xaa5db3+=_0x355efa%(-0x56f*0x7+-0x2291+0x489d*0x1)/(-0x4*-0x952+0x4*-0x615+-0xcf1*0x1),_0x5820b7+=Math['floor'](_0x355efa/(-0x1271*0x1+0x40*-0x59+-0x28b4*-0x1))/(-0x2051+-0x17*-0x157+-0x2b*-0x9),_0x1c1816<_0x21c461&&_0x316837<_0x6e15fb&&(_0x59ef26['push'](_0x47b7b1+_0x6e15fb+(-0x2bd*0x9+-0xb8*0x12+0x2596),_0x47b7b1+(-0x1*0x127+0x1e8f+-0x1d67),_0x47b7b1),_0x59ef26['push'](_0x47b7b1+_0x6e15fb+(-0x4*-0x937+0x25c9+0x232*-0x22),_0x47b7b1+_0x6e15fb+(0x138a+-0x8*-0x399+-0x3050),_0x47b7b1+(0x24b0+-0xb65*0x1+-0x194a))),_0x47b7b1++;}};_0x162efb(_0x3971c2['FRONT'],_0x1b2732,_0x27bde0),_0x162efb(_0x3971c2['BACK'],_0x1b2732,_0x27bde0),_0x162efb(_0x3971c2['TOP'],_0x1b2732,_0x1f9c2a),_0x162efb(_0x3971c2['BOTTOM'],_0x1b2732,_0x1f9c2a),_0x162efb(_0x3971c2['RIGHT'],_0x1f9c2a,_0x27bde0),_0x162efb(_0x3971c2['LEFT'],_0x1f9c2a,_0x27bde0),this['positions']=_0x539ccd,this['normals']=_0x44236d,this['uvs']=_0x5049f3,this['uvs1']=_0x5049f3,this['indices']=_0x59ef26,_0x1202d0['calculateT'+'angents']&&(this['tangents']=Mr(_0x539ccd,_0x44236d,_0x5049f3,_0x59ef26));}}class _m extends Ta{constructor(_0x12dd9f={}){super();const _0x5526c8=_0x12dd9f['radius']??-0x1*0x209+0x16e7+-0x2*0xa6f+0.5,_0x534cfc=_0x12dd9f['latitudeBa'+'nds']??-0x149*0x1+0x1688+0x152f*-0x1,_0x39428a=_0x12dd9f['longitudeB'+'ands']??0x1ee7+0x459+-0x2330,_0x99d6b6=[],_0x17c4b9=[],_0xefab8=[],_0x8003d8=[];for(let _0x40eb04=-0x98c+0x8cb+0xc1*0x1;_0x40eb04<=_0x534cfc;_0x40eb04++){const _0x143123=_0x40eb04*Math['PI']/_0x534cfc,_0x144dec=Math['sin'](_0x143123),_0x4f4495=Math['cos'](_0x143123);for(let _0x198cb4=0x1*0x154b+-0xac9*-0x2+-0x2add*0x1;_0x198cb4<=_0x39428a;_0x198cb4++){const _0x314b97=_0x198cb4*(0x6d6+0x20c8+-0x279c)*Math['PI']/_0x39428a-Math['PI']/(0xb*-0xad+-0xebe+0x3*0x765),_0x296bc9=Math['sin'](_0x314b97),_0x4084f0=Math['cos'](_0x314b97)*_0x144dec,_0x292069=_0x4f4495,_0x353b35=_0x296bc9*_0x144dec,_0x42ac3d=0x71*0x2e+-0x3d9+-0x1074-_0x198cb4/_0x39428a,_0x432960=-0xad6*0x3+0x18d*-0x2+0x9*0x3f5-_0x40eb04/_0x534cfc;_0x99d6b6['push'](_0x4084f0*_0x5526c8,_0x292069*_0x5526c8,_0x353b35*_0x5526c8),_0x17c4b9['push'](_0x4084f0,_0x292069,_0x353b35),_0xefab8['push'](_0x42ac3d,0xc1+0x17f6+0xc5b*-0x2-_0x432960);}}for(let _0xfbcfa0=-0x2c8+0x2350+-0x2088;_0xfbcfa0<_0x534cfc;++_0xfbcfa0)for(let _0x2fffe6=-0x1*-0xbea+-0x641+-0x7*0xcf;_0x2fffe6<_0x39428a;++_0x2fffe6){const _0x202df9=_0xfbcfa0*(_0x39428a+(-0x3a9+0x9e*0x37+-0x4c*0x66))+_0x2fffe6,_0x59f2b8=_0x202df9+_0x39428a+(0x2340+-0x268b+0x34c);_0x8003d8['push'](_0x202df9+(-0x10cb*0x1+-0xa*0x2f5+0x2e5e),_0x59f2b8,_0x202df9),_0x8003d8['push'](_0x202df9+(0xd*-0x221+-0xa1b+0x25c9*0x1),_0x59f2b8+(0x9b*-0x37+0x2248+-0xfa),_0x59f2b8);}this['positions']=_0x99d6b6,this['normals']=_0x17c4b9,this['uvs']=_0xefab8,this['uvs1']=_0xefab8,this['indices']=_0x8003d8,_0x12dd9f['calculateT'+'angents']&&(this['tangents']=Mr(_0x99d6b6,_0x17c4b9,_0xefab8,_0x8003d8));}}class DA extends _m{constructor(_0x2a3e8c={}){const _0x3367c3=_0x2a3e8c['latitudeBa'+'nds']??0xba0+-0xa*0x2d5+-0xf*-0x11e,_0x52a1db=_0x2a3e8c['longitudeB'+'ands']??0x27*0x63+0x9ae+-0x18b3;super({'radius':0.5,'latitudeBands':_0x3367c3,'longitudeBands':_0x52a1db});const _0x4e22cc=-0x17+-0x103f+0x1056+0.1,_0x186a96=-0x2285+-0xeb7+-0xc4f*-0x4+0.95,_0x4dd8ba=_0x186a96*_0x186a96,_0x7ef60c=this['positions'];for(let _0x404215=0x26c0+-0x3*-0x13d+-0x611*0x7;_0x404215<_0x7ef60c['length'];_0x404215+=0x1e8*-0x9+0x1424+-0x2f9){const _0x31b0e3=_0x7ef60c[_0x404215]/(-0xc72+-0x23bc+0x302e+0.5);let _0x4666eb=_0x7ef60c[_0x404215+(-0x16c6+0x2*0xf43+-0x1*0x7bf)]/(-0xe47+-0x1011+-0x796*-0x4+0.5);const _0xd77b92=_0x7ef60c[_0x404215+(-0x1938+-0x2359+0x6bb*0x9)]/(0x126c+-0x2529*-0x1+-0x3795+0.5);_0x4666eb<0xa*0xf9+0x1525+-0x1*0x1edf&&(_0x4666eb*=0x127+-0x221+-0x7d*-0x2+0.3,_0x31b0e3*_0x31b0e3+_0xd77b92*_0xd77b92<_0x4dd8ba&&(_0x4666eb=-_0x4e22cc)),_0x4666eb+=_0x4e22cc,_0x4666eb*=-0x14*-0xc4+0x770+-0x16c0+0.5,_0x7ef60c[_0x404215+(-0x16ec+-0x1f5f*-0x1+-0x1*0x872)]=_0x4666eb;}}}class zo{static['create'](_0x38fe28,_0x169870){switch(_0x169870){case Qw:return zo['box'](_0x38fe28);case Jw:return zo['dome'](_0x38fe28);}return w['assert'](_0x169870===Bo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x169870),zo['infinite'](_0x38fe28);}static['infinite'](_0x46c54d){return Ge['fromGeomet'+'ry'](_0x46c54d,new mu(_0x46c54d));}static['box'](_0xb585d){return Ge['fromGeomet'+'ry'](_0xb585d,new mu({'yOffset':0.5}));}static['dome'](_0x5a6701){const _0xdc2e63=new DA({'latitudeBands':0x32,'longitudeBands':0x32});return _0xdc2e63['normals']=void(0xf1*-0x1+-0x5*0x32f+0x10dc),_0xdc2e63['uvs']=void(-0x1e03*-0x1+-0x1053+0x49*-0x30),Ge['fromGeomet'+'ry'](_0x5a6701,_0xdc2e63);}}class IA{constructor(_0x519ba2,_0x597803,_0x4de37f,_0x1d86dc,_0x1adaba){h(this,'meshInstan'+'ce',null),h(this,'_depthWrit'+'e',!(0x10f*0xb+0x783+-0x1327));const _0x8f77d5=new Xn({'uniqueName':'SkyMateria'+'l','vertexGLSL':Pe['get'](_0x519ba2,Fe)['get']('skyboxVS'),'fragmentGLSL':Pe['get'](_0x519ba2,Fe)['get']('skyboxPS'),'vertexWGSL':Pe['get'](_0x519ba2,it)['get']('skyboxVS'),'fragmentWGSL':Pe['get'](_0x519ba2,it)['get']('skyboxPS'),'attributes':{'aPosition':Me}});_0x8f77d5['setDefine']('{SKYBOX_DE'+'CODE_FNC}',Tr['decodeFunc'](_0x1d86dc['encoding'])),_0x1adaba!==Bo&&_0x8f77d5['setDefine']('SKYMESH',''),_0x1d86dc['cubemap']&&_0x8f77d5['setDefine']('SKY_CUBEMA'+'P',''),_0x8f77d5['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x597803['skyboxHigh'+'lightMulti'+'plier']),_0x1d86dc['cubemap']?_0x8f77d5['setParamet'+'er']('texture_cu'+'beMap',_0x1d86dc):(_0x8f77d5['setParamet'+'er']('texture_en'+'vAtlas',_0x1d86dc),_0x8f77d5['setParamet'+'er']('mipLevel',_0x597803['skyboxMip'])),_0x8f77d5['cull']=Fo,_0x8f77d5['depthWrite']=this['_depthWrit'+'e'];const _0x43221e=_0x597803['layers']['getLayerBy'+'Id'](Kp);if(_0x43221e){const _0x4164bb=zo['create'](_0x519ba2,_0x1adaba),_0x23b51c=new He(_0x4164bb,_0x8f77d5,_0x4de37f);this['meshInstan'+'ce']=_0x23b51c,_0x23b51c['cull']=!(-0x15cb*0x1+-0x3*0x1d3+0x3*0x917),_0x23b51c['pick']=!(-0x37b+0x23b5+-0x2039),_0x43221e['addMeshIns'+'tances']([_0x23b51c]),this['skyLayer']=_0x43221e;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}set['depthWrite'](_0x2676fa){this['_depthWrit'+'e']=_0x2676fa,this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']['depthWrite']=_0x2676fa);}get['depthWrite'](){return this['_depthWrit'+'e'];}}class LA{constructor(_0x1aca21){h(this,'_type',Bo),h(this,'_center',new D(0x14b*-0x8+-0x1fd0+0x2a28,-0x16da+-0x17*-0x65+0x188*0x9,-0x215*-0xd+-0x10a0*0x1+-0xa71)),h(this,'skyMesh',null),h(this,'_depthWrit'+'e',!(0x2356+0x1*-0x6c9+-0x1c8c)),h(this,'node',new Ie('SkyMeshNod'+'e')),(this['device']=_0x1aca21['device'],this['scene']=_0x1aca21,this['center']=new D(0x17ec+-0x16c3+0x3*-0x63,0x15ea+0x202*-0x10+0x5*0x20b,0x18c8+0x104b+-0xf*0x2bd),this['centerArra'+'y']=new Float32Array(-0x12c2+0x1fd*-0x10+0x3295),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x5a470c){this['type']=_0x5a470c['skyType']??Bo,this['node']['setLocalPo'+'sition'](new D(_0x5a470c['skyMeshPos'+'ition']??[-0x2*-0x617+-0x6f5+-0x1*0x539,0x14e1+0xb1+-0x1592*0x1,0xaf3*0x1+0x3b*-0x7e+-0xb*-0x1a5])),this['node']['setLocalEu'+'lerAngles'](new D(_0x5a470c['skyMeshRot'+'ation']??[-0x1692+-0x2*0x136d+-0xf5b*-0x4,-0x249a+0x2da+0x21c0,-0x1b*-0x5d+0x2109+0x1*-0x2ad8])),this['node']['setLocalSc'+'ale'](new D(_0x5a470c['skyMeshSca'+'le']??[-0x1*0x1073+-0x2e7*0xd+0xd*0x42b,-0x9*-0x2f0+0x1366+0x1*-0x2dd5,-0x5*0x621+0x17ff+0x1*0x6a7])),_0x5a470c['skyCenter']&&(this['_center']=new D(_0x5a470c['skyCenter']));}set['type'](_0x1be5dc){this['_type']!==_0x1be5dc&&(this['_type']=_0x1be5dc,this['scene']['updateShad'+'ers']=!(0x830+-0x21dc+0x1*0x19ac),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0xefb37){this['_center']['copy'](_0xefb37);}get['center'](){return this['_center'];}set['depthWrite'](_0x8051ec){this['_depthWrit'+'e']!==_0x8051ec&&(this['_depthWrit'+'e']=_0x8051ec,this['skyMesh']&&(this['skyMesh']['depthWrite']=_0x8051ec));}get['depthWrite'](){return this['_depthWrit'+'e'];}['updateSkyM'+'esh'](){const _0x4fd52d=this['scene']['_getSkybox'+'Tex']();_0x4fd52d&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new IA(this['device'],this['scene'],this['node'],_0x4fd52d,this['type']),this['skyMesh']['depthWrite']=this['_depthWrit'+'e'],this['scene']['fire']('set:skybox',_0x4fd52d));}['resetSkyMe'+'sh'](){var _0x4c7d0e;(_0x4c7d0e=this['skyMesh'])==null||_0x4c7d0e['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==Bo){const {center:_0x1e015b,centerArray:_0x340368}=this,_0x28d0be=new D();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x1e015b,_0x28d0be),_0x340368[0x1007*0x1+0x22a7+-0xd*0x3e6]=_0x28d0be['x'],_0x340368[0x224+-0x2057+0xf1a*0x2]=_0x28d0be['y'],_0x340368[-0xa0d+-0x8f2+0x1301*0x1]=_0x28d0be['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x340368);}}}const Ch=new Ie();Ch['worldTrans'+'form']=te['IDENTITY'],Ch['_dirtyWorl'+'d']=Ch['_dirtyNorm'+'al']=!(-0x89*-0x3b+0x1d28+-0x3cba);class RA{constructor(_0x2a9f96,_0x58f0d3,_0x45530b){this['material']=_0x58f0d3,this['layer']=_0x45530b,this['positions']=[],this['colors']=[],this['mesh']=new Ge(_0x2a9f96),this['meshInstan'+'ce']=null;}['addLines'](_0x38ca6b,_0x5ae6ea){const _0x57303f=this['positions'],_0x1abb3a=_0x38ca6b['length'];for(let _0x94f157=-0x161*0x13+0x23ae+-0x97b;_0x94f157<_0x1abb3a;_0x94f157++){const _0x29c16d=_0x38ca6b[_0x94f157];_0x57303f['push'](_0x29c16d['x'],_0x29c16d['y'],_0x29c16d['z']);}const _0x456999=this['colors'];if(_0x5ae6ea['length'])for(let _0x1f99c6=0x1d*0x112+-0xaa4+0x175*-0xe;_0x1f99c6<_0x1abb3a;_0x1f99c6++){const _0x4a0988=_0x5ae6ea[_0x1f99c6];_0x456999['push'](_0x4a0988['r'],_0x4a0988['g'],_0x4a0988['b'],_0x4a0988['a']);}else{for(let _0xc67dd3=0xb*0x257+0x4*-0x194+-0x136d;_0xc67dd3<_0x1abb3a;_0xc67dd3++)_0x456999['push'](_0x5ae6ea['r'],_0x5ae6ea['g'],_0x5ae6ea['b'],_0x5ae6ea['a']);}}['addLinesAr'+'rays'](_0xe30f47,_0x345262){const _0x31d7c0=this['positions'];for(let _0x1b9b16=0x1*0x1e5c+0x1e0a+-0x3c66;_0x1b9b16<_0xe30f47['length'];_0x1b9b16+=-0x1604+0xacc*-0x2+-0xd*-0x35b)_0x31d7c0['push'](_0xe30f47[_0x1b9b16],_0xe30f47[_0x1b9b16+(-0x2413+0x6f*0x1+0x23a5)],_0xe30f47[_0x1b9b16+(-0x53b+0x6af+0x25*-0xa)]);const _0x47049b=this['colors'];if(_0x345262['length']){for(let _0x1ba9d2=-0x2405+0xa4b+0x19ba;_0x1ba9d2<_0x345262['length'];_0x1ba9d2+=0x18c+-0x1bb1+0x1a29)_0x47049b['push'](_0x345262[_0x1ba9d2],_0x345262[_0x1ba9d2+(-0x261*-0x3+-0xb15+0x3*0x151)],_0x345262[_0x1ba9d2+(0xe0b+-0x521+-0x28*0x39)],_0x345262[_0x1ba9d2+(0x1a70+0x9c9*-0x1+-0x10a4)]);}else{const _0x577ff3=_0xe30f47['length']/(-0x1*-0xa65+-0x1f7*0x2+-0x674);for(let _0x24edc9=0x1049+0x2610+0x3659*-0x1;_0x24edc9<_0x577ff3;_0x24edc9++)_0x47049b['push'](_0x345262['r'],_0x345262['g'],_0x345262['b'],_0x345262['a']);}}['onPreRende'+'r'](_0x210ea2,_0x316d94){this['positions']['length']>0x9bf+0x9bf+-0x137e&&this['material']['transparen'+'t']===_0x316d94&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](hd,!(0x1c3a+0x111c+-0x2d55)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new He(this['mesh'],this['material'],Ch)),_0x210ea2['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=-0x131f+0x24da+-0x10b*0x11,this['colors']['length']=-0x1e57+-0x7ed+0x2644;}}class OA{constructor(_0x57f031){this['device']=_0x57f031,this['map']=new Map();}['getBatch'](_0x33dbaa,_0x20ae14){let _0x582a6c=this['map']['get'](_0x33dbaa);return _0x582a6c||(_0x582a6c=new RA(this['device'],_0x33dbaa,_0x20ae14),this['map']['set'](_0x33dbaa,_0x582a6c)),_0x582a6c;}['onPreRende'+'r'](_0x41363a,_0x135834){this['map']['forEach'](_0xfba7c1=>{_0xfba7c1['onPreRende'+'r'](_0x41363a,_0x135834);});}['clear'](){this['map']['forEach'](_0x66534d=>_0x66534d['clear']());}}const Ts=[],Ba=new D();class FA{constructor(_0x4a0b21){h(this,'shaderDesc'+'s',new Map()),(this['device']=_0x4a0b21,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x1dd3df){const _0x1318cc=new Xn({'uniqueName':'ImmediateL'+'ine','vertexGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'ineVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'inePS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'ineVS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'inePS'),'attributes':{'vertex_position':Me,'vertex_color':Wt}});return _0x1318cc['blendType']=Zs,_0x1318cc['depthTest']=_0x1dd3df,_0x1318cc['update'](),_0x1318cc;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(-0x530+-0x119b*0x2+0x2*0x1433))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(0x5*-0x258+-0x2562+0x311b))),this['_materialN'+'oDepth'];}['getBatch'](_0x3bd3cb,_0x10dfff){let _0x594d0e=this['batchesMap']['get'](_0x3bd3cb);_0x594d0e||(_0x594d0e=new OA(this['device']),this['batchesMap']['set'](_0x3bd3cb,_0x594d0e)),this['allBatches']['add'](_0x594d0e);const _0x385023=_0x10dfff?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x594d0e['getBatch'](_0x385023,_0x3bd3cb);}['getShaderD'+'esc'](_0x2ee97f,_0x3f5839,_0x61e2df){return this['shaderDesc'+'s']['has'](_0x2ee97f)||this['shaderDesc'+'s']['set'](_0x2ee97f,{'uniqueName':'DebugShade'+'r:'+_0x2ee97f,'vertexGLSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ve'+'c2\x20uv0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uv0\x20=\x20ve'+'rtex_posit'+'ion.xy\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20','vertexWGSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20@ver'+'tex\x20fn\x20ver'+'texMain(in'+'put:\x20Verte'+'xInput)\x20->'+'\x20VertexOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20un'+'iform.matr'+'ix_model\x20*'+'\x20vec4f(inp'+'ut.vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.uv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20+\x20vec2f'+'(0.5);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20','fragmentGLSL':_0x3f5839,'fragmentWGSL':_0x61e2df,'attributes':{'vertex_position':Me}}),this['shaderDesc'+'s']['get'](_0x2ee97f);}['getTexture'+'ShaderDesc'](_0x260a1d){const _0x22835a=Tr['decodeFunc'](_0x260a1d);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x260a1d,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x22835a+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20colorMa'+'pSampler:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20@fragment'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output:\x20Fr'+'agmentOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20sample'+'dTex\x20=\x20tex'+'tureSample'+'(colorMap,'+'\x20colorMapS'+'ampler,\x20in'+'put.uv0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'linearColo'+'r:\x20vec3f\x20='+'\x20'+_0x22835a+('(sampledTe'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(gammaCorr'+'ectOutput('+'linearColo'+'r),\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<uff>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20@'+'fragment\x20f'+'n\x20fragment'+'Main(input'+'\x20:\x20Fragmen'+'tInput)\x20->'+'\x20FragmentO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'nput.uv0\x20*'+'\x20vec2f(tex'+'tureDimens'+'ions(color'+'Map,\x200)));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20fetchedCo'+'lor\x20:\x20vec4'+'f\x20=\x20textur'+'eLoad(colo'+'rMap,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(fetchedCo'+'lor.xyz,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20void\x20main'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x20getLi'+'nearScreen'+'Depth(getI'+'mageEffect'+'UV(uv0))\x20*'+'\x20camera_pa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(vec3(de'+'pth)),\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20u'+'v0:\x20vec2f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20@fragme'+'nt\x20fn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20depth'+':\x20f32\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(inpu'+'t.uv0))\x20*\x20'+'uniform.ca'+'mera_param'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(vec3f(dep'+'th)),\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ge(this['device']),this['quadMesh']['setPositio'+'ns']([-(-0xc0f+-0x1c28+0x2837+0.5),-(-0x4c*0x73+-0x1c1e+0x3e42+0.5),0x210b+-0x1d09+-0x402,0x3b*-0x1+-0x1*0x2126+0x1*0x2161+0.5,-(0xb1*-0x3+-0x1088+0x129b+0.5),0x2*-0x3d6+0x20f4+-0x1948,-(-0x150*-0x18+0x23e9+0x4369*-0x1+0.5),-0x43c+-0x3*-0x84f+-0x14b1+0.5,-0x2632+-0x17*-0xf7+0x1001,-0xb3c+0x109d*-0x1+0x1bd9+0.5,0x1290+0xbbc*0x1+-0x1e4c+0.5,0xdc9+0x5*0x6cb+0xbf*-0x40]),this['quadMesh']['update'](Er)),this['quadMesh'];}['drawMesh'](_0xcc3ce4,_0x57eeaa,_0x29f479,_0x55dee7,_0xb4862e){if(!_0x55dee7){const _0x5a9fd2=this['getGraphNo'+'de'](_0x57eeaa);_0x55dee7=new He(_0x29f479,_0xcc3ce4,_0x5a9fd2);}let _0x42d529=this['layerMeshI'+'nstances']['get'](_0xb4862e);_0x42d529||(_0x42d529=[],this['layerMeshI'+'nstances']['set'](_0xb4862e,_0x42d529)),_0x42d529['push'](_0x55dee7);}['drawWireAl'+'ignedBox'](_0x11a636,_0x1279a8,_0x3a3fae,_0x1be330,_0x381eaa,_0x1bc174){if(_0x1bc174){const _0x2b8a48=(_0xbc1b51,_0x367052,_0x11e5b0)=>{Ba['set'](_0xbc1b51,_0x367052,_0x11e5b0),_0x1bc174['transformP'+'oint'](Ba,Ba),Ts['push'](Ba['x'],Ba['y'],Ba['z']);};_0x2b8a48(_0x11a636['x'],_0x11a636['y'],_0x11a636['z']),_0x2b8a48(_0x11a636['x'],_0x1279a8['y'],_0x11a636['z']),_0x2b8a48(_0x11a636['x'],_0x1279a8['y'],_0x11a636['z']),_0x2b8a48(_0x1279a8['x'],_0x1279a8['y'],_0x11a636['z']),_0x2b8a48(_0x1279a8['x'],_0x1279a8['y'],_0x11a636['z']),_0x2b8a48(_0x1279a8['x'],_0x11a636['y'],_0x11a636['z']),_0x2b8a48(_0x1279a8['x'],_0x11a636['y'],_0x11a636['z']),_0x2b8a48(_0x11a636['x'],_0x11a636['y'],_0x11a636['z']),_0x2b8a48(_0x11a636['x'],_0x11a636['y'],_0x1279a8['z']),_0x2b8a48(_0x11a636['x'],_0x1279a8['y'],_0x1279a8['z']),_0x2b8a48(_0x11a636['x'],_0x1279a8['y'],_0x1279a8['z']),_0x2b8a48(_0x1279a8['x'],_0x1279a8['y'],_0x1279a8['z']),_0x2b8a48(_0x1279a8['x'],_0x1279a8['y'],_0x1279a8['z']),_0x2b8a48(_0x1279a8['x'],_0x11a636['y'],_0x1279a8['z']),_0x2b8a48(_0x1279a8['x'],_0x11a636['y'],_0x1279a8['z']),_0x2b8a48(_0x11a636['x'],_0x11a636['y'],_0x1279a8['z']),_0x2b8a48(_0x11a636['x'],_0x11a636['y'],_0x11a636['z']),_0x2b8a48(_0x11a636['x'],_0x11a636['y'],_0x1279a8['z']),_0x2b8a48(_0x11a636['x'],_0x1279a8['y'],_0x11a636['z']),_0x2b8a48(_0x11a636['x'],_0x1279a8['y'],_0x1279a8['z']),_0x2b8a48(_0x1279a8['x'],_0x1279a8['y'],_0x11a636['z']),_0x2b8a48(_0x1279a8['x'],_0x1279a8['y'],_0x1279a8['z']),_0x2b8a48(_0x1279a8['x'],_0x11a636['y'],_0x11a636['z']),_0x2b8a48(_0x1279a8['x'],_0x11a636['y'],_0x1279a8['z']);}else Ts['push'](_0x11a636['x'],_0x11a636['y'],_0x11a636['z'],_0x11a636['x'],_0x1279a8['y'],_0x11a636['z'],_0x11a636['x'],_0x1279a8['y'],_0x11a636['z'],_0x1279a8['x'],_0x1279a8['y'],_0x11a636['z'],_0x1279a8['x'],_0x1279a8['y'],_0x11a636['z'],_0x1279a8['x'],_0x11a636['y'],_0x11a636['z'],_0x1279a8['x'],_0x11a636['y'],_0x11a636['z'],_0x11a636['x'],_0x11a636['y'],_0x11a636['z'],_0x11a636['x'],_0x11a636['y'],_0x1279a8['z'],_0x11a636['x'],_0x1279a8['y'],_0x1279a8['z'],_0x11a636['x'],_0x1279a8['y'],_0x1279a8['z'],_0x1279a8['x'],_0x1279a8['y'],_0x1279a8['z'],_0x1279a8['x'],_0x1279a8['y'],_0x1279a8['z'],_0x1279a8['x'],_0x11a636['y'],_0x1279a8['z'],_0x1279a8['x'],_0x11a636['y'],_0x1279a8['z'],_0x11a636['x'],_0x11a636['y'],_0x1279a8['z'],_0x11a636['x'],_0x11a636['y'],_0x11a636['z'],_0x11a636['x'],_0x11a636['y'],_0x1279a8['z'],_0x11a636['x'],_0x1279a8['y'],_0x11a636['z'],_0x11a636['x'],_0x1279a8['y'],_0x1279a8['z'],_0x1279a8['x'],_0x1279a8['y'],_0x11a636['z'],_0x1279a8['x'],_0x1279a8['y'],_0x1279a8['z'],_0x1279a8['x'],_0x11a636['y'],_0x11a636['z'],_0x1279a8['x'],_0x11a636['y'],_0x1279a8['z']);this['getBatch'](_0x381eaa,_0x1be330)['addLinesAr'+'rays'](Ts,_0x3a3fae),Ts['length']=0xffc+-0x234b+0x1*0x134f;}['drawWireSp'+'here'](_0xd6f8ed,_0x122929,_0x36fb5f,_0x19daac,_0x1207e5,_0x23a563){const _0xb236b7=(0x2093+-0x1872+-0x81f)*Math['PI']/_0x19daac;let _0x3f5212=0x2*-0x1326+0x1d1*-0x8+-0xd35*-0x4;for(let _0x1b4363=-0x200c+-0x13d7+-0x33e3*-0x1;_0x1b4363<_0x19daac;_0x1b4363++){const _0x2a8101=Math['sin'](_0x3f5212),_0x4db905=Math['cos'](_0x3f5212);_0x3f5212+=_0xb236b7;const _0x534923=Math['sin'](_0x3f5212),_0x1987d3=Math['cos'](_0x3f5212);Ts['push'](_0xd6f8ed['x']+_0x122929*_0x2a8101,_0xd6f8ed['y'],_0xd6f8ed['z']+_0x122929*_0x4db905),Ts['push'](_0xd6f8ed['x']+_0x122929*_0x534923,_0xd6f8ed['y'],_0xd6f8ed['z']+_0x122929*_0x1987d3),Ts['push'](_0xd6f8ed['x']+_0x122929*_0x2a8101,_0xd6f8ed['y']+_0x122929*_0x4db905,_0xd6f8ed['z']),Ts['push'](_0xd6f8ed['x']+_0x122929*_0x534923,_0xd6f8ed['y']+_0x122929*_0x1987d3,_0xd6f8ed['z']),Ts['push'](_0xd6f8ed['x'],_0xd6f8ed['y']+_0x122929*_0x2a8101,_0xd6f8ed['z']+_0x122929*_0x4db905),Ts['push'](_0xd6f8ed['x'],_0xd6f8ed['y']+_0x122929*_0x534923,_0xd6f8ed['z']+_0x122929*_0x1987d3);}this['getBatch'](_0x23a563,_0x1207e5)['addLinesAr'+'rays'](Ts,_0x36fb5f),Ts['length']=0x2e*-0x81+-0x3ad*0x5+0x298f;}['getGraphNo'+'de'](_0x4d0dcb){const _0x876f67=new Ie('ImmediateD'+'ebug');return _0x876f67['worldTrans'+'form']=_0x4d0dcb,_0x876f67['_dirtyWorl'+'d']=_0x876f67['_dirtyNorm'+'al']=!(-0x2*0x74f+0x1e80+-0xfe1),_0x876f67;}['onPreRende'+'rLayer'](_0x160c04,_0x3900ce,_0x1f93db){if(this['batchesMap']['forEach']((_0xa3e8b6,_0x4df7f5)=>{_0x4df7f5===_0x160c04&&_0xa3e8b6['onPreRende'+'r'](_0x3900ce,_0x1f93db);}),!this['updatedLay'+'ers']['has'](_0x160c04)){this['updatedLay'+'ers']['add'](_0x160c04);const _0xfd7d2f=this['layerMeshI'+'nstances']['get'](_0x160c04);if(_0xfd7d2f){for(let _0xed92f8=-0xb*-0x15+0xe15+-0xefc;_0xed92f8<_0xfd7d2f['length'];_0xed92f8++)_0x3900ce['push'](_0xfd7d2f[_0xed92f8]);_0xfd7d2f['length']=0x1848+-0x40f*0x3+0x1*-0xc1b;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x2e2923=>_0x2e2923['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class NA{constructor(){h(this,'type',Kn),h(this,'color',new ie(0xce+0x16cf*0x1+-0x179d,-0x52*-0x72+-0xb5f+-0x1925*0x1,-0x2*0x38f+-0x502+0x184*0x8)),h(this,'density',0x58e*-0x2+-0x1116+0x12*0x191),h(this,'start',0x2*0x117e+-0x1219+0x2*-0x871),h(this,'end',0x1*-0x1e20+-0x2544+0x24*0x1fb);}}class Et extends me{constructor(_0x12614b){super(),h(this,'ambientBak'+'e',!(0x12d7+-0x1c3d*-0x1+-0x9*0x53b)),h(this,'ambientBak'+'eOcclusion'+'Brightness',-0x2596+0xc6d+-0x1*-0x1929),h(this,'ambientBak'+'eOcclusion'+'Contrast',-0x5fb*-0x6+-0x255e+0x17c),h(this,'ambientLig'+'ht',new ie(0x2093*0x1+0x6*0x2e9+-0x3209*0x1,0x2337*0x1+-0x35*0x25+-0x1b8e,-0xb*0x23c+0xb*-0x11c+0x24c8)),h(this,'ambientLum'+'inance',0x1*-0x1f39+0xa3*-0x3+0x1*0x2122),h(this,'exposure',-0x28*-0x2+-0x2*0x737+0xe1f),h(this,'lightmapSi'+'zeMultipli'+'er',-0xeae+-0x1ab+0x142*0xd),h(this,'lightmapMa'+'xResolutio'+'n',-0x1*0xd09+0x2*-0xbbd+0x2c83),h(this,'lightmapMo'+'de',jc),h(this,'lightmapFi'+'lterEnable'+'d',!(-0x1*0x1b74+0x11*-0x1c8+0x39bd)),h(this,'lightmapHD'+'R',!(0x531+-0x25f*-0x2+-0x9ee)),h(this,'root',null),h(this,'physicalUn'+'its',!(-0x1d*-0xde+-0x1*-0xe1+-0x1a06)),h(this,'_envAtlas',null),h(this,'_skyboxCub'+'eMap',null),h(this,'_fogParams',new NA()),h(this,'forcePassT'+'hroughSpec'+'ular',!(-0x155*0x3+-0x133b*0x1+0x173b)),(w['assert'](_0x12614b,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x12614b,this['_gravity']=new D(-0x1103*0x2+0x277*-0xc+-0x1*-0x3f9a,-(-0x1*0x1f8b+-0x5*0x62f+0x3e7f+0.8000000000000007),0x12b3+-0x1175+-0x13e),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=-0x25d1+-0x26*-0xe5+0x3d4,this['_skyboxLum'+'inance']=0x1200+-0xfab+0x255*-0x1,this['_skyboxMip']=0xbb5+-0x3a*-0x3b+-0x1913,this['_skyboxHig'+'hlightMult'+'iplier']=0x136+0x566+-0x69b,this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x775+-0x2b*-0x14+0x41a),this['_skyboxRot'+'ation']=new le(),this['_skyboxRot'+'ationMat3']=new _i(),this['_skyboxRot'+'ationMat4']=new te(),this['_ambientBa'+'keNumSampl'+'es']=-0x240e+0xc5*0xb+0x6e6*0x4,this['_ambientBa'+'keSpherePa'+'rt']=-0x2c6*-0x1+0x25a7+-0x286d+0.4,this['_lightmapF'+'ilterRange']=-0x31+-0x1*0x55d+-0x2cc*-0x2,this['_lightmapF'+'ilterSmoot'+'hness']=-0x1eb8+-0x9d2+-0x2*-0x1445+0.2,this['_clustered'+'LightingEn'+'abled']=!(-0x3*-0x479+-0xa*0x3b3+0x1793),this['_lightingP'+'arams']=new Mv(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(0x1423+0x54e*-0x5+0x663);}),this['_sky']=new LA(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(0x2*-0x814+-0x709*-0x5+0x1*-0x1305),this['_shaderVer'+'sion']=-0xade*-0x1+-0x84a+-0x294,this['immediate']=new FA(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](Zp);}set['ambientBak'+'eNumSample'+'s'](_0x1c6e10){this['_ambientBa'+'keNumSampl'+'es']=Y['clamp'](Math['floor'](_0x1c6e10),-0xba8+0x1823+-0xc7a,-0x1216+0x22af*-0x1+0x35c4);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x1b846a){this['_ambientBa'+'keSpherePa'+'rt']=Y['clamp'](_0x1b846a,0xe*-0xfe+-0x3f1+0x11d5+0.001,0x1593+0x1104+-0x2696);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x26d13c){if(this['device']['isWebGPU']&&!_0x26d13c){w['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x26d13c){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x26d13c;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x132927){_0x132927!==this['_envAtlas']&&(this['_envAtlas']=_0x132927,_0x132927&&(_0x132927['addressU']=ue,_0x132927['addressV']=ue,_0x132927['minFilter']=vt,_0x132927['magFilter']=vt,_0x132927['mipmaps']=!(-0x19ea+0x5f6+0x13f5)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x212645){const _0x58ac89=this['_layers'];this['_layers']=_0x212645,this['fire']('set:layers',_0x58ac89,_0x212645);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x302700){this['_lightmapF'+'ilterRange']=Math['max'](_0x302700,0xd43+-0x76*0x51+0x1813*0x1+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x44d0b8){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x44d0b8,0x1de3+0x376*-0xb+-0x82f*-0x1+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x3c8ff2){_0x3c8ff2=_0x3c8ff2||[];const _0x6dc89f=this['_prefilter'+'edCubemaps'];(_0x6dc89f['length']!==_0x3c8ff2['length']||_0x6dc89f['some']((_0x18702f,_0x77550a)=>_0x18702f!==_0x3c8ff2[_0x77550a]))&&(_0x3c8ff2['length']===-0x1924+0x4*-0x34c+0x265a&&_0x3c8ff2['every'](_0x305baa=>!!_0x305baa)?(this['_internalE'+'nvAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x3c8ff2,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x3c8ff2['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x2bb029){_0x2bb029!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x2bb029,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x471360){_0x471360!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x471360,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x54628c){_0x54628c!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x54628c,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x5609b8){_0x5609b8!==this['_skyboxMip']&&(this['_skyboxMip']=_0x5609b8,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x4118ce){_0x4118ce!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x4118ce,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x36fc87){if(!this['_skyboxRot'+'ation']['equals'](_0x36fc87)){const _0xcfea4f=_0x36fc87['equals'](le['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x36fc87),_0xcfea4f?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](D['ZERO'],_0x36fc87,D['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0xcfea4f&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x1*-0x192b+-0x14f*0x8+-0xeb3*0x1),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x58212e,_0x525fbe,_0x129831=ie['WHITE'],_0x7cba3=!(-0x1*0x12fb+0x3*0x8c1+-0x3a4*0x2),_0x1c9aa6=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x1c9aa6,_0x7cba3)['addLines']([_0x58212e,_0x525fbe],[_0x129831,_0x129831]);}['drawLines'](_0x53cbcc,_0x4caa41,_0x3a4e34=!(0x1afc*0x1+-0x2dd*-0x3+-0x2393),_0x160e45=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x160e45,_0x3a4e34)['addLines'](_0x53cbcc,_0x4caa41);}['drawLineAr'+'rays'](_0x1151a6,_0x5604a6,_0xf6ef7a=!(-0x1a*-0x124+0x2e8+-0x2090),_0x23f80d=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x23f80d,_0xf6ef7a)['addLinesAr'+'rays'](_0x1151a6,_0x5604a6);}['applySetti'+'ngs'](_0x3d496f){const _0x40c910=_0x3d496f['physics'],_0x5c9248=_0x3d496f['render'];this['_gravity']['set'](_0x40c910['gravity'][0x11a*-0x9+0x5e*0x2f+-0x758],_0x40c910['gravity'][0x41*-0x8b+0x2608+-0x2*0x15e],_0x40c910['gravity'][0x55*-0x9+-0x104+0x403]),this['ambientLig'+'ht']['set'](_0x5c9248['global_amb'+'ient'][-0x19c7+-0x13*0xf6+0x2c09*0x1],_0x5c9248['global_amb'+'ient'][0xa*0x3df+0x13cf+-0x2*0x1d42],_0x5c9248['global_amb'+'ient'][-0x7*-0x55d+0x353*0x7+-0x1e67*0x2]),this['ambientLum'+'inance']=_0x5c9248['ambientLum'+'inance'],this['fog']['type']=_0x5c9248['fog'],this['fog']['color']['set'](_0x5c9248['fog_color'][-0xd00+0x10*0xce+0x4*0x8],_0x5c9248['fog_color'][0x72c+-0xc3c*0x1+0x511],_0x5c9248['fog_color'][-0x2ca+0x2*-0x1025+0x2316]),this['fog']['start']=_0x5c9248['fog_start'],this['fog']['end']=_0x5c9248['fog_end'],this['fog']['density']=_0x5c9248['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x5c9248['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x5c9248['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x5c9248['lightmapMo'+'de'],this['exposure']=_0x5c9248['exposure'],this['_skyboxInt'+'ensity']=_0x5c9248['skyboxInte'+'nsity']??-0xb*-0xed+0x1d*-0x71+0x29f,this['_skyboxLum'+'inance']=_0x5c9248['skyboxLumi'+'nance']??0x47b+0x224*-0x7+0x58a1,this['_skyboxMip']=_0x5c9248['skyboxMip']??-0x1*0xc14+0x268f+-0x1a7b*0x1,_0x5c9248['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new le()['setFromEul'+'erAngles'](_0x5c9248['skyboxRota'+'tion'][-0x262d*0x1+0x1177+0x14b6],_0x5c9248['skyboxRota'+'tion'][0x1*0x84d+-0x3*0x4a1+-0x597*-0x1],_0x5c9248['skyboxRota'+'tion'][0x2012+-0x923*-0x2+-0x3256])),this['sky']['applySetti'+'ngs'](_0x5c9248),this['clusteredL'+'ightingEna'+'bled']=_0x5c9248['clusteredL'+'ightingEna'+'bled']??!(0xa78+-0x509+-0x56e),this['lighting']['applySetti'+'ngs'](_0x5c9248),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x37b83c=>{_0x5c9248['hasOwnProp'+'erty'](_0x37b83c)&&(this[_0x37b83c]=_0x5c9248[_0x37b83c]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x1dc69a=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x1dc69a[[0x12c0+0x250*-0x6+-0x4e0,-0x1358+-0x71*0x13+0x58c*0x5,0x5d3+0x2413+0x1*-0x29e3,-0x2137+0xa3*0x19+0x1150,0x1*-0xe0f+0x17bb+0x1*-0x9a7,-0x1*0x180+-0x21b6+-0xa*-0x386][this['_skyboxMip']]]||this['_envAtlas']||_0x1dc69a[-0x3f*0x2f+-0xd3*-0x20+0x11*-0xdf]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x1dc69a[-0x13*-0x6f+0x330*0xb+-0x2b4d]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(-0xfca+0x86f+0x75b);}['setSkybox'](_0x328da2){_0x328da2?(this['skybox']=_0x328da2[0x2bb+-0x320+0x65]||null,_0x328da2[-0x185b+0x55d*-0x3+0x2873]&&!_0x328da2[0x1*-0xeba+0x5*-0x89+-0x22d*-0x8]['cubemap']?this['envAtlas']=_0x328da2[0x20fd+-0x268b+0x58f]:this['prefiltere'+'dCubemaps']=_0x328da2['slice'](0x247*-0x5+0x8a7+0x2bd*0x1)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Ne;}}h(Et,'EVENT_SETL'+'AYERS','set:layers'),h(Et,'EVENT_SETS'+'KYBOX','set:skybox'),h(Et,'EVENT_PRER'+'ENDER','prerender'),h(Et,'EVENT_POST'+'RENDER','postrender'),h(Et,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),h(Et,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),h(Et,'EVENT_PREC'+'ULL','precull'),h(Et,'EVENT_POST'+'CULL','postcull');class Lv{constructor(_0x16e35c,_0xa989bb,_0x5017f4){this['device']=_0x16e35c,this['inverseBin'+'dPose']=_0xa989bb,this['boneNames']=_0x5017f4;}}const kA=[0x323*0x9+-0x1895+-0x3a6,0x26*0xb3+0x4a4*-0x4+-0x19a*0x5,0x15*0x8+-0x20b3+-0x2*-0x1006,-0xd8+-0xdab*-0x1+-0xcd3,0x140b+0x1fb6+-0x33c1,-0x1*0x58a+-0xdea+0x1375,0x283*0x7+-0x287+0x2f*-0x52,0x1*-0x12e2+0x16e6+0x202*-0x2,0x1*-0x2179+-0x2b0+0x242a,0x6b+0x4a*0x52+-0x145*0x13,0x1aa3+0x1*0x223+-0x1cc6,-0x2*0xe09+-0xc2b*-0x3+-0x86e],UA=[-0xa8c+-0x247e+0x1785*0x2,0x107*-0xa+-0x205e+0xe37*0x3,-0x25f+0x1b2b+-0x18c9,0x12c9+-0xd*-0x1fd+0x20*-0x165,-0x18*0xc+-0x6fd+0x820,-0x200d+0x9ac*-0x4+-0x713*-0xa];class BA extends me{constructor(_0x30f834,_0x9d5096){super(),this['_device']=_0x30f834,this['_pixelsPer'+'Unit']=_0x9d5096&&_0x9d5096['pixelsPerU'+'nit']!==void(0x2*-0x706+0x10f*-0x7+0x1*0x1575)?_0x9d5096['pixelsPerU'+'nit']:-0x24f7+0x551*-0x4+0x3a3c,this['_renderMod'+'e']=_0x9d5096&&_0x9d5096['renderMode']!==void(-0x127e+0x96d*-0x3+0x2ec5)?_0x9d5096['renderMode']:ci,this['_atlas']=_0x9d5096&&_0x9d5096['atlas']!==void(0x1c00+-0x615+-0x15eb)?_0x9d5096['atlas']:null,this['_frameKeys']=_0x9d5096&&_0x9d5096['frameKeys']!==void(0x22*-0x68+-0x956+0x1726)?_0x9d5096['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(-0x2e6*0xc+-0x1e49+0x4112),this['_meshesDir'+'ty']=!(0x1ec6+0xc24+-0x2ae9),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x30889d){this['_frameKeys']=_0x30889d,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0xffd*-0x1+-0x2*0x23b+-0xb87):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x30889d);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x3f4f66){_0x3f4f66!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x3f4f66,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x229d+-0xcd1*-0x1+0x15cc):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x3f4f66));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x5438f9){this['_pixelsPer'+'Unit']!==_0x5438f9&&(this['_pixelsPer'+'Unit']=_0x5438f9,this['fire']('set:pixels'+'PerUnit',_0x5438f9),this['_atlas']&&this['_frameKeys']&&this['renderMode']===ci&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x70f*-0x3+0x3cb*-0x6+0x2bef):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x35a6b4){if(this['_renderMod'+'e']===_0x35a6b4)return;const _0x35147d=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x35a6b4,this['fire']('set:render'+'Mode',_0x35a6b4),(_0x35147d===ci||_0x35a6b4===ci)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x4d6+0x1*0x23a5+-0x1ecf):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0xde3c50=this['_meshes']['length'];for(let _0x2cd48e=-0xf7*0xf+0x17d*0x4+0x885;_0x2cd48e<_0xde3c50;_0x2cd48e++){const _0x1102ff=this['_meshes'][_0x2cd48e];_0x1102ff&&_0x1102ff['destroy']();}const _0x3184cd=this['_frameKeys']['length'];this['_meshes']=new Array(_0x3184cd);const _0x275920=this['renderMode']===Pt||this['_renderMod'+'e']===Mt?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x3d2818=-0x1d99*0x1+-0x14cd+0x3266;_0x3d2818<_0x3184cd;_0x3d2818++){const _0x29c21d=this['_atlas']['frames'][this['_frameKeys'][_0x3d2818]];this['_meshes'][_0x3d2818]=_0x29c21d?_0x275920['call'](this,_0x29c21d):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x3bbbb6){const _0x30d3c=_0x3bbbb6['rect'],_0x24da9f=this['_atlas']['texture']['width'],_0x512361=this['_atlas']['texture']['height'],_0x10f29f=_0x30d3c['z']/this['_pixelsPer'+'Unit'],_0x4f2b80=_0x30d3c['w']/this['_pixelsPer'+'Unit'],_0x3c7b0a=_0x3bbbb6['pivot']['x'],_0x339f28=_0x3bbbb6['pivot']['y'],_0x3064ea=[-_0x3c7b0a*_0x10f29f,-_0x339f28*_0x4f2b80,0x9*0x432+-0xa9f+0x1b23*-0x1,(-0xbad+0x1*-0x6d9+-0x20f*-0x9-_0x3c7b0a)*_0x10f29f,-_0x339f28*_0x4f2b80,0x1d*0x8d+-0x1*0x54d+-0x556*0x2,(0x5e+0xc5*0x7+-0x5c0-_0x3c7b0a)*_0x10f29f,(0x1a*-0x116+-0x30a*0x5+0x2b6f-_0x339f28)*_0x4f2b80,-0x8ad*-0x1+0x6ff+-0x3b*0x44,-_0x3c7b0a*_0x10f29f,(0xd9a+0x647+-0x18*0xd4-_0x339f28)*_0x4f2b80,-0x3*0x75+-0x592*0x5+0x1d39*0x1],_0x478be9=_0x30d3c['x']/_0x24da9f,_0x319a6e=0x1eab+-0x600*0x3+0x655*-0x2-_0x30d3c['y']/_0x512361,_0x257949=(_0x30d3c['x']+_0x30d3c['z'])/_0x24da9f,_0x5c23aa=-0x1*0x1274+-0x2*-0xc2f+-0x5e9-(_0x30d3c['y']+_0x30d3c['w'])/_0x512361,_0x135507=[_0x478be9,_0x319a6e,_0x257949,_0x319a6e,_0x257949,_0x5c23aa,_0x478be9,_0x5c23aa],_0x1ebcd8=new Ta();return _0x1ebcd8['positions']=_0x3064ea,_0x1ebcd8['normals']=kA,_0x1ebcd8['uvs']=_0x135507,_0x1ebcd8['indices']=UA,Ge['fromGeomet'+'ry'](this['_device'],_0x1ebcd8);}['_create9Sl'+'iceMesh'](){const _0x3d7a70=J['ONE'],_0x507595=-0x23e*-0xe+0xb*-0x14c+0x1*-0x111d,_0x277386=0x204d+-0xfe3+-0x1067,_0x61fd94=[],_0x113efe=[],_0x52d026=[],_0x14e9ea=[];let _0x29bcc2=0x20*0x9+-0x1*-0x18dc+0x67f*-0x4;for(let _0x40995d=0x2*0xad8+-0xa73+-0xb3d;_0x40995d<=_0x507595;_0x40995d++){const _0x7823f9=_0x40995d===0x12f6+-0x4fa+-0xdfc||_0x40995d===_0x507595?-0x1546+-0x11*-0x20b+-0xd75:-0x163*0xf+-0x1b*-0x1+0x14b3;for(let _0x50cd48=-0x11b0+-0x46e+0xb0f*0x2;_0x50cd48<=_0x277386;_0x50cd48++){const _0x54ede4=-_0x3d7a70['x']+(0x907*-0x1+-0x457*0x1+0x20*0x6b)*_0x3d7a70['x']*(_0x40995d<=-0x124*0x10+-0xe8a+0x20cb?0x5*-0x77f+-0xa0e+0x11b*0x2b:0x2b*-0x1b+-0x1801+0x1c8d)/_0x507595,_0x18047f=-0xfb3+0x886+0x72d,_0x3b0f1f=-(-_0x3d7a70['y']+(-0xa3*-0x11+-0x34*-0x96+-0x10f*0x27)*_0x3d7a70['y']*(_0x50cd48<=-0x8df*-0x3+-0x1c69+0x1cd*0x1?-0x1*0x19dd+-0x23a*0x6+0x2739:-0x21be+-0x348+0x1*0x2509)/_0x277386),_0x3e94e0=_0x50cd48===0x17*-0x8b+-0x9*-0x392+0x1*-0x13a5||_0x50cd48===_0x277386?0x5*0x744+-0x916+-0x1b3e:-0x800+0x4d1*0x2+-0x1a1;_0x61fd94['push'](-_0x54ede4,_0x18047f,_0x3b0f1f),_0x113efe['push'](-0x1b18+0x1*0x1409+0x70f*0x1,-0x2f0*-0x7+-0x109b+-0x3f4,0x1993*0x1+-0xc27+-0xd6c),_0x52d026['push'](_0x7823f9,_0x3e94e0),_0x40995d<_0x507595&&_0x50cd48<_0x277386&&(_0x14e9ea['push'](_0x29bcc2+_0x277386+(0xe3b+0x25*0xb+0x1*-0xfd1),_0x29bcc2+(0xf*0x3f+-0x95*-0x9+0x1*-0x8ed),_0x29bcc2),_0x14e9ea['push'](_0x29bcc2+_0x277386+(-0x3*0x7ae+-0x9*-0x329+-0x566),_0x29bcc2+_0x277386+(0x1*0x2263+0x1*0x1e97+0x63*-0xa8),_0x29bcc2+(0x50c+0x11aa+-0x1*0x16b5))),_0x29bcc2++;}}const _0x4130eb=new Ta();return _0x4130eb['positions']=_0x61fd94,_0x4130eb['normals']=_0x113efe,_0x4130eb['uvs']=_0x52d026,_0x4130eb['indices']=_0x14e9ea,Ge['fromGeomet'+'ry'](this['_device'],_0x4130eb);}['_onSetFram'+'es'](_0x447158){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x10af*-0x1+-0xb3*-0x37+-0x15c6):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x241d1d,_0x1390d4){const _0x1c3670=this['_frameKeys']['indexOf'](_0x241d1d);_0x1c3670<0x18a4*-0x1+-0x1204+0x2aa8||(_0x1390d4?this['renderMode']===ci&&(this['_meshes'][_0x1c3670]=this['_createSim'+'pleMesh'](_0x1390d4)):this['_meshes'][_0x1c3670]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x4dba6b){const _0x24c16c=this['_frameKeys']['indexOf'](_0x4dba6b);_0x24c16c<-0x6*-0x4cb+-0xa2a+0x1dc*-0xa||(this['_meshes'][_0x24c16c]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(-0x3f5*-0x1+0x85a*0x2+-0x14a9),this['_meshesDir'+'ty']=!(-0x11c+0x197a+0x3*-0x81f);}['endUpdate'](){this['_updatingP'+'roperties']=!(-0x5*0x6df+0x17f5+0xa67),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(0x1301+-0x1e6b+-0xb6b*-0x1);}['destroy'](){for(const _0x827431 of this['_meshes'])_0x827431&&_0x827431['destroy']();this['_meshes']['length']=-0x2216+-0x677*0x1+0x288d;}}class zA extends me{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x371441){this['_texture']=_0x371441,this['fire']('set:textur'+'e',_0x371441);}get['texture'](){return this['_texture'];}set['frames'](_0x298ce4){this['_frames']=_0x298ce4,this['fire']('set:frames',_0x298ce4);}get['frames'](){return this['_frames'];}['setFrame'](_0x3d9fec,_0x39f5c2){let _0x28ee52=this['_frames'][_0x3d9fec];_0x28ee52?(_0x28ee52['rect']['copy'](_0x39f5c2['rect']),_0x28ee52['pivot']['copy'](_0x39f5c2['pivot']),_0x28ee52['border']['copy'](_0x39f5c2['border'])):(_0x28ee52={'rect':_0x39f5c2['rect']['clone'](),'pivot':_0x39f5c2['pivot']['clone'](),'border':_0x39f5c2['border']['clone']()},this['_frames'][_0x3d9fec]=_0x28ee52),this['fire']('set:frame',_0x3d9fec['toString'](),_0x28ee52);}['removeFram'+'e'](_0x4629ec){const _0x1457a6=this['_frames'][_0x4629ec];_0x1457a6&&(delete this['_frames'][_0x4629ec],this['fire']('remove:fra'+'me',_0x4629ec['toString'](),_0x1457a6));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class dg{constructor(_0x5f48b7,_0x11cf25,_0x370681,_0x166320){this['time']=_0x5f48b7,this['position']=_0x11cf25,this['rotation']=_0x370681,this['scale']=_0x166320;}}class fg{constructor(){this['_name']='',this['_keys']=[];}}class ug{constructor(){h(this,'name',''),h(this,'duration',0x6a0+0x1990+0xce*-0x28),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x29fb68){return this['_nodeDict'][_0x29fb68];}['addNode'](_0xb55e7a){this['_nodes']['push'](_0xb55e7a),this['_nodeDict'][_0xb55e7a['_name']]=_0xb55e7a;}get['nodes'](){return this['_nodes'];}}class VA{constructor(){this['_written']=!(0x1*-0x1d2a+0x1*-0x12e+-0x1e59*-0x1),this['_name']='',this['_keyFrames']=[],this['_quat']=new le(),this['_pos']=new D(),this['_scale']=new D(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0xf4c108){this['_targetNod'+'e']=_0xf4c108;}}class Sf{constructor(_0x45b03d){h(this,'looping',!(0x1*0x1f7+0x8*-0x340+0x1809)),(this['_animation']=null,this['_time']=-0xfd6*-0x2+-0x12ad+0x3*-0x455,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x5e4c39=_0x1ef717=>{const _0x129055=new VA();_0x129055['_name']=_0x1ef717['name'],this['_interpola'+'tedKeys']['push'](_0x129055),this['_interpola'+'tedKeyDict'][_0x1ef717['name']]=_0x129055,this['_currKeyIn'+'dices'][_0x1ef717['name']]=0xf71+-0x2*-0xfbf+-0x2eef*0x1;for(let _0x34c5ac=0x132a+-0x805*-0x2+-0x2334;_0x34c5ac<_0x1ef717['_children']['length'];_0x34c5ac++)_0x5e4c39(_0x1ef717['_children'][_0x34c5ac]);};_0x5e4c39(_0x45b03d);}set['animation'](_0x3bfb30){this['_animation']=_0x3bfb30,this['currentTim'+'e']=-0xfe3+-0x1a47+0x15*0x202;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x19e4bd){this['_time']=_0x19e4bd;const _0xeddb62=this['_interpola'+'tedKeys']['length'];for(let _0x1d7e5f=0x1976+-0x92c+-0x104a;_0x1d7e5f<_0xeddb62;_0x1d7e5f++){const _0x486ca5=this['_interpola'+'tedKeys'][_0x1d7e5f]['_name'];this['_currKeyIn'+'dices'][_0x486ca5]=0x1a6c+-0x4ef*0x1+-0x157d;}this['addTime'](-0x4*-0x26c+0xbc2+-0x16e*0xf),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x140881){if(this['_animation']!==null){const _0x12e7c2=this['_animation']['_nodes'],_0x5e1144=this['_animation']['duration'];if(this['_time']===_0x5e1144&&!this['looping'])return;if(this['_time']+=_0x140881,this['_time']>_0x5e1144){this['_time']=this['looping']?-0x77*-0x2b+-0x5a7+-0xe56:_0x5e1144;for(let _0x13f41d=-0x12d*-0x7+-0x1541*-0x1+-0x1d7c;_0x13f41d<_0x12e7c2['length'];_0x13f41d++){const _0x438517=_0x12e7c2[_0x13f41d]['_name'];this['_currKeyIn'+'dices'][_0x438517]=-0xeed+0x3*-0xb3f+0x30aa;}}else{if(this['_time']<0x25a8+-0x1e23+-0x19*0x4d){this['_time']=this['looping']?_0x5e1144:-0x106f+0x5*-0x196+0x1b*0xe7;for(let _0x18a016=0x19e1*-0x1+-0x1*-0x1df5+-0x414;_0x18a016<_0x12e7c2['length'];_0x18a016++){const _0x1caa52=_0x12e7c2[_0x18a016],_0x16e4af=_0x1caa52['_name'];this['_currKeyIn'+'dices'][_0x16e4af]=_0x1caa52['_keys']['length']-(-0xb*0x32b+0x1ea+0x20f1);}}}const _0x5e0aed=_0x140881>=-0xaaa+-0xa81*-0x1+-0x1*-0x29?-0xc2d+0x283*-0xd+0x2cd5:-(0x2248+0x8a1*0x4+-0x44cb);for(let _0x479763=-0xb50+0x102d+0x19f*-0x3;_0x479763<_0x12e7c2['length'];_0x479763++){const _0x7e0c48=_0x12e7c2[_0x479763],_0x2a94a2=_0x7e0c48['_name'],_0x2c29a1=_0x7e0c48['_keys'],_0x12a129=this['_interpola'+'tedKeyDict'][_0x2a94a2];if(_0x12a129===void(0x16fb+0x2382+-0x3a7d)){w['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x2a94a2);continue;}let _0x1ad3ff=!(0xdac*-0x1+-0x18cd+0x267a);if(_0x2c29a1['length']!==0xf90+0xbf*-0x7+-0xa56)for(let _0x466c34=this['_currKeyIn'+'dices'][_0x2a94a2];_0x466c34<_0x2c29a1['length']-(-0x1190+0x1247+-0xb6)&&_0x466c34>=0x25e6+0xf5b*0x1+-0x1*0x3541;_0x466c34+=_0x5e0aed){const _0x2938bf=_0x2c29a1[_0x466c34],_0x2207a7=_0x2c29a1[_0x466c34+(-0xd7*0x7+-0x53*0x11+0xb65)];if(_0x2938bf['time']<=this['_time']&&_0x2207a7['time']>=this['_time']){const _0x1a4a10=(this['_time']-_0x2938bf['time'])/(_0x2207a7['time']-_0x2938bf['time']);_0x12a129['_pos']['lerp'](_0x2938bf['position'],_0x2207a7['position'],_0x1a4a10),_0x12a129['_quat']['slerp'](_0x2938bf['rotation'],_0x2207a7['rotation'],_0x1a4a10),_0x12a129['_scale']['lerp'](_0x2938bf['scale'],_0x2207a7['scale'],_0x1a4a10),_0x12a129['_written']=!(0x3e7+-0x1b95+0x17ae),this['_currKeyIn'+'dices'][_0x2a94a2]=_0x466c34,_0x1ad3ff=!(-0xc3a+0x1*0x158f+0x955*-0x1);break;}}(_0x2c29a1['length']===-0xdfd*0x2+-0x91*0x37+0x349*0x12||!_0x1ad3ff&&this['_time']===-0x1ee4*0x1+0x4f*0x1+0x1e95*0x1&&this['looping'])&&(_0x12a129['_pos']['copy'](_0x2c29a1[-0xc0c+0x602+-0x305*-0x2]['position']),_0x12a129['_quat']['copy'](_0x2c29a1[0x1de7+0x1*0x2469+0x10*-0x425]['rotation']),_0x12a129['_scale']['copy'](_0x2c29a1[0xa9*0x2b+-0xb*-0xbd+0x1241*-0x2]['scale']),_0x12a129['_written']=!(-0xd2+0x1*0x64d+-0x57b));}}}['blend'](_0x52e875,_0x146d60,_0x1f3358){const _0x272ebe=this['_interpola'+'tedKeys']['length'];for(let _0x439976=0x21*0xb5+-0x227c+0xb27*0x1;_0x439976<_0x272ebe;_0x439976++){const _0x91a690=_0x52e875['_interpola'+'tedKeys'][_0x439976],_0x13cb64=_0x146d60['_interpola'+'tedKeys'][_0x439976],_0x4a77da=this['_interpola'+'tedKeys'][_0x439976];_0x91a690['_written']&&_0x13cb64['_written']?(_0x4a77da['_quat']['slerp'](_0x91a690['_quat'],_0x146d60['_interpola'+'tedKeys'][_0x439976]['_quat'],_0x1f3358),_0x4a77da['_pos']['lerp'](_0x91a690['_pos'],_0x146d60['_interpola'+'tedKeys'][_0x439976]['_pos'],_0x1f3358),_0x4a77da['_scale']['lerp'](_0x91a690['_scale'],_0x13cb64['_scale'],_0x1f3358),_0x4a77da['_written']=!(0x1*-0xc9e+0xfe5*0x1+-0x347)):_0x91a690['_written']?(_0x4a77da['_quat']['copy'](_0x91a690['_quat']),_0x4a77da['_pos']['copy'](_0x91a690['_pos']),_0x4a77da['_scale']['copy'](_0x91a690['_scale']),_0x4a77da['_written']=!(0x10c4+0xb8+-0x117c)):_0x13cb64['_written']&&(_0x4a77da['_quat']['copy'](_0x13cb64['_quat']),_0x4a77da['_pos']['copy'](_0x13cb64['_pos']),_0x4a77da['_scale']['copy'](_0x13cb64['_scale']),_0x4a77da['_written']=!(0x1f6b+-0x2516*-0x1+0x1*-0x4481));}}['setGraph'](_0x8c10f4){if(this['graph']=_0x8c10f4,_0x8c10f4)for(let _0x37c850=-0x1*0xd75+-0x1*-0x1003+-0x28e;_0x37c850<this['_interpola'+'tedKeys']['length'];_0x37c850++){const _0x547cf0=this['_interpola'+'tedKeys'][_0x37c850],_0x589e17=_0x8c10f4['findByName'](_0x547cf0['_name']);this['_interpola'+'tedKeys'][_0x37c850]['setTarget'](_0x589e17);}else{for(let _0x3e5117=0xe20+0x1*-0x4a9+-0x977;_0x3e5117<this['_interpola'+'tedKeys']['length'];_0x3e5117++)this['_interpola'+'tedKeys'][_0x3e5117]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x4b56a1=-0x21a1+0x2033*0x1+-0x2*-0xb7;_0x4b56a1<this['_interpola'+'tedKeys']['length'];_0x4b56a1++){const _0xab2dd9=this['_interpola'+'tedKeys'][_0x4b56a1];if(_0xab2dd9['_written']){const _0x58865d=_0xab2dd9['getTarget']();_0x58865d['localPosit'+'ion']['copy'](_0xab2dd9['_pos']),_0x58865d['localRotat'+'ion']['copy'](_0xab2dd9['_quat']),_0x58865d['localScale']['copy'](_0xab2dd9['_scale']),_0x58865d['_dirtyLoca'+'l']||_0x58865d['_dirtifyLo'+'cal'](),_0xab2dd9['_written']=!(0x1995+0x25bf+-0xd*0x4df);}}}}const zs=(-0x15b8+0x737+0xe85)/(0xcd5+-0x1*-0x67a+-0x1*0x130f),si=-0xc7*-0x11+-0x41*0x56+0x228*0x4-zs*(0xfe6+-0x2541*0x1+0x155d);class gm extends Ta{constructor(_0x462366,_0x340afb,_0x1314d4,_0x3ebb3e,_0x35cbe7,_0x8881ef){super();const _0x1866ff=new D(),_0x5ffdc6=new D(),_0x44c836=new D(),_0xdd6bfd=new D(),_0x248b82=new D(),_0x49610f=new D(),_0x28320a=[],_0x5d0d23=[],_0x23f417=[],_0x4892b9=[],_0x5f1365=[];let _0x16b45c;if(_0x1314d4>0x25f+-0x1e2a+0x1bcb*0x1){for(let _0x43dfc1=0x924+0x17bc+-0x20e0;_0x43dfc1<=_0x3ebb3e;_0x43dfc1++)for(let _0x8ab576=0xf87+0xc7*0x2+-0x1115;_0x8ab576<=_0x35cbe7;_0x8ab576++){const _0x264268=_0x8ab576/_0x35cbe7*(0x1f6*-0x6+0x856+0x6e*0x8)*Math['PI']-Math['PI'],_0x242aec=Math['sin'](_0x264268),_0x266373=Math['cos'](_0x264268);_0x248b82['set'](_0x242aec*_0x462366,-_0x1314d4/(-0xf9a*0x2+0x1*-0x1b3b+0x1*0x3a71),_0x266373*_0x462366),_0xdd6bfd['set'](_0x242aec*_0x340afb,_0x1314d4/(0x4f9+0x157e+-0x1a75),_0x266373*_0x340afb),_0x1866ff['lerp'](_0x248b82,_0xdd6bfd,_0x43dfc1/_0x3ebb3e),_0x5ffdc6['sub2'](_0xdd6bfd,_0x248b82)['normalize'](),_0x49610f['set'](_0x266373,0x1*0xa3d+0x1f6*0x2+-0x19*0x91,-_0x242aec),_0x44c836['cross'](_0x49610f,_0x5ffdc6)['normalize'](),_0x28320a['push'](_0x1866ff['x'],_0x1866ff['y'],_0x1866ff['z']),_0x5d0d23['push'](_0x44c836['x'],_0x44c836['y'],_0x44c836['z']);let _0x5eac71=_0x8ab576/_0x35cbe7,_0x4e0b7a=_0x43dfc1/_0x3ebb3e;_0x23f417['push'](_0x5eac71,0x14ae+0x234+0x16e1*-0x1-_0x4e0b7a);const _0x447a62=_0x4e0b7a;if(_0x4e0b7a=_0x5eac71,_0x5eac71=_0x447a62,_0x5eac71=_0x5eac71*si+zs,_0x4e0b7a=_0x4e0b7a*si+zs,_0x5eac71/=0x1c02+0x21b7+-0x3db6,_0x4892b9['push'](_0x5eac71,0x2c6*-0x5+0x934+-0x1*-0x4ab-_0x4e0b7a),_0x43dfc1<_0x3ebb3e&&_0x8ab576<_0x35cbe7){const _0x17a996=_0x43dfc1*(_0x35cbe7+(0x23d5*0x1+-0x1ec5+-0x7*0xb9))+_0x8ab576,_0x21d2c2=_0x43dfc1*(_0x35cbe7+(0x2515+0x1e52+0x2*-0x21b3))+(_0x8ab576+(0x155d+-0x5ea+-0x7b9*0x2)),_0x31ad34=(_0x43dfc1+(-0x641+-0x1401+0x1a43*0x1))*(_0x35cbe7+(-0xd3e+-0x6*0x246+0x1ae3))+_0x8ab576,_0x1941ea=(_0x43dfc1+(0x4*-0x3d7+0x22d*-0x2+0x13b7))*(_0x35cbe7+(0x13f7+-0x4*0x17+-0x2*0x9cd))+(_0x8ab576+(0x1cc4+-0xc92+-0x1031));_0x5f1365['push'](_0x17a996,_0x21d2c2,_0x31ad34),_0x5f1365['push'](_0x21d2c2,_0x1941ea,_0x31ad34);}}}if(_0x8881ef){const _0x2f85a2=Math['floor'](_0x35cbe7/(0x1f8f+-0x160a+0x1*-0x983)),_0x96e727=_0x35cbe7,_0x5dadc3=_0x1314d4/(-0xa2a*0x3+-0x11ac+-0x2*-0x1816);for(let _0xd6d9dd=-0x4*0x6ad+0x1*-0x58d+-0x17*-0x167;_0xd6d9dd<=_0x2f85a2;_0xd6d9dd++){const _0xc6240d=_0xd6d9dd*Math['PI']*(-0x1*-0x161+0x66+-0x1c7+0.5)/_0x2f85a2,_0x52e5ba=Math['sin'](_0xc6240d),_0x1a0e72=Math['cos'](_0xc6240d);for(let _0x627b74=0x5*0x1e4+0x5*-0x757+0x1b3f;_0x627b74<=_0x96e727;_0x627b74++){const _0x4e773b=_0x627b74*(0x5cf*-0x1+0x1391+0x2c0*-0x5)*Math['PI']/_0x96e727-Math['PI']/(-0xe8c+0x236+-0x316*-0x4),_0x12638e=Math['sin'](_0x4e773b),_0x23c97e=Math['cos'](_0x4e773b)*_0x52e5ba,_0x21c0f0=_0x1a0e72,_0x3610e6=_0x12638e*_0x52e5ba;let _0x598d0c=-0x194a+0x21f2+-0x1bb*0x5-_0x627b74/_0x96e727,_0x181de0=-0xfc8*-0x1+-0x57a+-0xa4d-_0xd6d9dd/_0x2f85a2;_0x28320a['push'](_0x23c97e*_0x340afb,_0x21c0f0*_0x340afb+_0x5dadc3,_0x3610e6*_0x340afb),_0x5d0d23['push'](_0x23c97e,_0x21c0f0,_0x3610e6),_0x23f417['push'](_0x598d0c,0x1027+-0x512+-0xb14-_0x181de0),_0x598d0c=_0x598d0c*si+zs,_0x181de0=_0x181de0*si+zs,_0x598d0c/=-0x355*0x8+-0x1c5e+-0x1*-0x3709,_0x181de0/=0xdeb+0x513+-0x12fb,_0x598d0c+=(0x1901*-0x1+0x585*-0x1+0x61b*0x5)/(0x306+-0x2570+0x226d),_0x4892b9['push'](_0x598d0c,-0xed8+-0x18ba+0x21*0x133-_0x181de0);}}_0x16b45c=(_0x3ebb3e+(0x4*0x90b+0xc3*-0x18+-0x13*0xf1))*(_0x35cbe7+(-0x18bf*0x1+0x11*-0x237+0x163*0x2d));for(let _0x41fe1d=-0x23ca+0x11*0x15f+-0x1*-0xc7b;_0x41fe1d<_0x2f85a2;++_0x41fe1d)for(let _0x147c6a=0x180d+0x19e+-0x19ab;_0x147c6a<_0x96e727;++_0x147c6a){const _0xcd18d6=_0x41fe1d*(_0x96e727+(-0x773*-0x4+0x68*0x44+0x396b*-0x1))+_0x147c6a,_0x1dfc00=_0xcd18d6+_0x96e727+(-0xaca+-0x16a6*0x1+0x7*0x4c7);_0x5f1365['push'](_0x16b45c+_0xcd18d6+(-0x2*-0x532+0x20a7*0x1+0x1585*-0x2),_0x16b45c+_0x1dfc00,_0x16b45c+_0xcd18d6),_0x5f1365['push'](_0x16b45c+_0xcd18d6+(0x34b*-0x1+0x22cc+-0x1f80),_0x16b45c+_0x1dfc00+(0x1cd3+0x1590+0x3262*-0x1),_0x16b45c+_0x1dfc00);}for(let _0x29f6fb=0x18cf+0xc23+-0x24f2;_0x29f6fb<=_0x2f85a2;_0x29f6fb++){const _0x319359=Math['PI']*(-0x1b39+-0x1d*-0x97+0x46*0x25+0.5)+_0x29f6fb*Math['PI']*(0x819*-0x1+-0x1766+0x1f7f+0.5)/_0x2f85a2,_0x15058f=Math['sin'](_0x319359),_0x1227ee=Math['cos'](_0x319359);for(let _0x1bfb60=0xcda+-0x163*0x11+0xab9;_0x1bfb60<=_0x96e727;_0x1bfb60++){const _0x117cfa=_0x1bfb60*(-0x1910+-0x1*-0x1bcd+-0x2bb)*Math['PI']/_0x96e727-Math['PI']/(-0xd9f+-0x1a*-0xc2+-0x613),_0x2c61d7=Math['sin'](_0x117cfa),_0x36816f=Math['cos'](_0x117cfa)*_0x15058f,_0x155b0f=_0x1227ee,_0x47e508=_0x2c61d7*_0x15058f;let _0x5ac1aa=-0xd08+0x1*-0x116+0xf*0xf1-_0x1bfb60/_0x96e727,_0x59c3dc=-0x1af7+0x138*-0xc+-0x4*-0xa66-_0x29f6fb/_0x2f85a2;_0x28320a['push'](_0x36816f*_0x340afb,_0x155b0f*_0x340afb-_0x5dadc3,_0x47e508*_0x340afb),_0x5d0d23['push'](_0x36816f,_0x155b0f,_0x47e508),_0x23f417['push'](_0x5ac1aa,-0x1d61+-0x15c1+0x1*0x3323-_0x59c3dc),_0x5ac1aa=_0x5ac1aa*si+zs,_0x59c3dc=_0x59c3dc*si+zs,_0x5ac1aa/=0x1e6b+0x1f*0x11+-0x2077,_0x59c3dc/=0x1*0x8f3+0x5e4+-0xed4,_0x5ac1aa+=(-0x1*0xac6+0x1039+-0x571)/(0xf1e+0x8d*0x27+0x2*-0x124b),_0x4892b9['push'](_0x5ac1aa,-0x8e9*-0x2+0x1565+-0x2736-_0x59c3dc);}}_0x16b45c=(_0x3ebb3e+(0x1*-0x2555+-0x22a3*0x1+-0x43*-0x113))*(_0x35cbe7+(0xd6d+0x1d*0xef+-0x287f))+(_0x96e727+(-0x9c7*-0x1+-0x26b3*-0x1+0x1*-0x3079))*(_0x2f85a2+(0x152d+0x1f76+-0x34a2));for(let _0xf9e6b3=-0x54+-0x1*0x7e1+0xbf*0xb;_0xf9e6b3<_0x2f85a2;++_0xf9e6b3)for(let _0x33947b=0x950*0x3+-0x1*-0x1861+-0x3451;_0x33947b<_0x96e727;++_0x33947b){const _0x59c952=_0xf9e6b3*(_0x96e727+(-0x127c+-0x1e8c+0x3109))+_0x33947b,_0x5b2213=_0x59c952+_0x96e727+(0x2*0xc80+-0x2281+0x982);_0x5f1365['push'](_0x16b45c+_0x59c952+(0xca*0x10+0x12a1+-0x1f40),_0x16b45c+_0x5b2213,_0x16b45c+_0x59c952),_0x5f1365['push'](_0x16b45c+_0x59c952+(0x231d+-0xdc9+-0x1553),_0x16b45c+_0x5b2213+(-0x92*-0x13+-0x5*-0x3d9+-0xa06*0x3),_0x16b45c+_0x5b2213);}}else{if(_0x16b45c=(_0x3ebb3e+(0x1305+0xdf1+-0x20f5))*(_0x35cbe7+(-0x9f+0x24d7*0x1+-0x2437)),_0x462366>-0x22ef+0x5*-0x2aa+0x3041)for(let _0x27b477=-0x769+0x262b+-0x1ec2;_0x27b477<_0x35cbe7;_0x27b477++){const _0x255880=_0x27b477/_0x35cbe7*(-0x1d5a+0x1f0d*-0x1+0x3c69)*Math['PI'],_0x407dc5=Math['sin'](_0x255880),_0x3a6787=-_0x1314d4/(0x911*-0x3+-0x1803*-0x1+0x332),_0x25b2fa=Math['cos'](_0x255880);let _0x5e9038=-0x168a+-0x165b*0x1+0x7*0x66a-(_0x407dc5+(-0xa88+0x1d88+-0x12ff))/(0x5f6+0x4*-0x60d+0x1240),_0x4c4963=(_0x25b2fa+(0xf66+-0x1*0x1881+0x91c))/(-0x2*-0xb81+0x23af+-0x3aaf);_0x28320a['push'](_0x407dc5*_0x462366,_0x3a6787,_0x25b2fa*_0x462366),_0x5d0d23['push'](-0x2*-0x103c+-0x1340+-0xd38,-(-0x231c*-0x1+-0x165+-0x35f*0xa),-0x26cf+-0x1739+0x7c1*0x8),_0x23f417['push'](_0x5e9038,0x25*-0x6d+0x1727*-0x1+0x7*0x58f-_0x4c4963),_0x5e9038=_0x5e9038*si+zs,_0x4c4963=_0x4c4963*si+zs,_0x5e9038/=-0x29f*-0x1+-0x25*0x5b+0x1*0xa8b,_0x4c4963/=0x12c0+0xe*-0x1ee+-0xa3*-0xd,_0x5e9038+=(0x1ecd+-0x2c0*-0xa+-0x3a4c)/(0x1432+0x1*-0x23c5+0x72*0x23),_0x4892b9['push'](_0x5e9038,-0xed5+0x3*-0x2a7+-0x48f*-0x5-_0x4c4963),_0x27b477>-0x137b+-0x1ae3*0x1+0x2e5f&&_0x5f1365['push'](_0x16b45c,_0x16b45c+_0x27b477,_0x16b45c+_0x27b477-(0x18af+-0xc09+-0xca5));}if(_0x16b45c+=_0x35cbe7,_0x340afb>0x1ee8+-0x15e7+-0x901)for(let _0x3e0c66=0x3*0x126+-0x92f*-0x4+0x4a*-0x8b;_0x3e0c66<_0x35cbe7;_0x3e0c66++){const _0x5d9046=_0x3e0c66/_0x35cbe7*(-0x1fe0+-0x15a1*0x1+0x3583)*Math['PI'],_0x24c724=Math['sin'](_0x5d9046),_0x4edbdc=_0x1314d4/(0xbcf+0x4f*0x6b+-0x2cd2),_0x2653e4=Math['cos'](_0x5d9046);let _0x5179ff=-0x2*0xe5c+-0x25ab+-0x2132*-0x2-(_0x24c724+(-0xf5b+0xae6+0x476))/(0x2*-0x1314+0xb*0x83+0x2089),_0x1d288a=(_0x2653e4+(-0x9e9+-0x1612+0x1ffc))/(-0x1a71+-0x234+0x1ca7);_0x28320a['push'](_0x24c724*_0x340afb,_0x4edbdc,_0x2653e4*_0x340afb),_0x5d0d23['push'](0x72c*0x4+-0x2481+0x7d1,-0x74*-0x31+-0x1f5*0x13+0xefc*0x1,0x1*0x6d3+0x1*0x6f6+-0x1*0xdc9),_0x23f417['push'](_0x5179ff,-0xfee*-0x1+0x201*0x5+-0x19f2-_0x1d288a),_0x5179ff=_0x5179ff*si+zs,_0x1d288a=_0x1d288a*si+zs,_0x5179ff/=0x2105+-0x25e3*0x1+0x4e1,_0x1d288a/=0x125e+-0x6cd*0x2+-0x4c1,_0x5179ff+=(-0xf07*-0x1+0x243*-0x6+-0x173)/(0x2dd*0x6+-0x41*0x2d+-0x5be),_0x4892b9['push'](_0x5179ff,-0x1e1b+-0x242e+0x6a1*0xa-_0x1d288a),_0x3e0c66>0x876+-0x7*0x4f9+-0xd2d*-0x2&&_0x5f1365['push'](_0x16b45c,_0x16b45c+_0x3e0c66-(-0x2a+-0x1*0x65d+0xb*0x98),_0x16b45c+_0x3e0c66);}}this['positions']=_0x28320a,this['normals']=_0x5d0d23,this['uvs']=_0x23f417,this['uvs1']=_0x4892b9,this['indices']=_0x5f1365;}}class GA extends gm{constructor(_0x29c08f={}){const _0x366395=_0x29c08f['radius']??0x19dc+-0x2*0x123b+-0x1*-0xa9a+0.3,_0x1efffa=_0x29c08f['height']??0x260b+0x13*-0x1d7+-0x315,_0x41ce4b=_0x29c08f['heightSegm'+'ents']??-0x54d*0x2+0x26c7+-0x1c2c*0x1,_0x471675=_0x29c08f['sides']??-0x7ff+0x24c4+0x1cb1*-0x1;super(_0x366395,_0x366395,_0x1efffa-(-0x1*-0x812+0x103f+0x379*-0x7)*_0x366395,_0x41ce4b,_0x471675,!(-0x2*-0x85+-0x456*-0x7+-0x2*0xfb2)),_0x29c08f['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class HA extends gm{constructor(_0x35361a={}){const _0x211b83=_0x35361a['baseRadius']??-0xe9c*0x1+-0x1d5*0x14+0x3340+0.5,_0x3c4f25=_0x35361a['peakRadius']??0x646*-0x2+-0xed7+0x1b63,_0xbe6d24=_0x35361a['height']??-0x3ec+0x16a9+-0x12bc,_0x704f5f=_0x35361a['heightSegm'+'ents']??-0x2*0xca6+0x1a26*-0x1+-0x3377*-0x1,_0x2e57ab=_0x35361a['capSegment'+'s']??0x23e9*-0x1+0x258b+-0x190;super(_0x211b83,_0x3c4f25,_0xbe6d24,_0x704f5f,_0x2e57ab,!(-0x208c+0x2358+-0x2cb)),_0x35361a['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class WA extends gm{constructor(_0x103e23={}){const _0x4285a9=_0x103e23['radius']??-0x479+-0x30*-0x6c+-0xfc7+0.5,_0x116250=_0x103e23['height']??-0x17ac+0x20e0+0x1d7*-0x5,_0x25ce35=_0x103e23['heightSegm'+'ents']??-0x9c0+-0xe76+0x183b,_0x3ae904=_0x103e23['capSegment'+'s']??-0x2f4*-0x3+-0x83*0x22+0x89e;super(_0x4285a9,_0x4285a9,_0x116250,_0x25ce35,_0x3ae904,!(0x5*0x209+-0x1f70+0x1544)),_0x103e23['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class $A extends Ta{constructor(_0x22d3e8={}){super();const _0x542546=_0x22d3e8['halfExtent'+'s']??new J(-0x191d+0xb*0xc7+0x1090+0.5,0xb8*-0x32+-0x29*0x47+-0x44d*-0xb+0.5),_0x244dfa=_0x22d3e8['widthSegme'+'nts']??0x176e+-0x2306+-0x3df*-0x3,_0x3f8cc2=_0x22d3e8['lengthSegm'+'ents']??-0x1b59+0x10ec+0xa72,_0x3840dd=[],_0x14df2e=[],_0x38ce2b=[],_0x432713=[];let _0x55f385=-0x3*0x191+-0x1*0x2579+0x2a2c;for(let _0x3b8684=-0x20bc+0x1d*-0x76+0x2e1a;_0x3b8684<=_0x244dfa;_0x3b8684++)for(let _0x176708=-0x304+-0xf87+0x128b;_0x176708<=_0x3f8cc2;_0x176708++){const _0x520f2e=-_0x542546['x']+(-0xa*0xd4+0xb15+-0x2cb)*_0x542546['x']*_0x3b8684/_0x244dfa,_0x1358e1=0x5*-0x12c+0x10de+-0xb02,_0x23dfc7=-(-_0x542546['y']+(0x1333*-0x2+-0x261f*0x1+0x4c87)*_0x542546['y']*_0x176708/_0x3f8cc2),_0x378715=_0x3b8684/_0x244dfa,_0xd88998=_0x176708/_0x3f8cc2;_0x3840dd['push'](_0x520f2e,_0x1358e1,_0x23dfc7),_0x14df2e['push'](0x21ff*-0x1+0xe10+-0xbd*-0x1b,-0xe70+-0x449*0x8+0x30b9,0x1fea+-0x1*-0xd46+-0x788*0x6),_0x38ce2b['push'](_0x378715,-0x2640+0x1103+0x2*0xa9f-_0xd88998),_0x3b8684<_0x244dfa&&_0x176708<_0x3f8cc2&&(_0x432713['push'](_0x55f385+_0x3f8cc2+(-0x1*0x2581+-0x280*-0x3+0x1*0x1e02),_0x55f385+(-0xe54+-0x3*-0x2ff+-0x3*-0x1c8),_0x55f385),_0x432713['push'](_0x55f385+_0x3f8cc2+(-0x8f5*-0x1+-0x962*0x3+0x1332),_0x55f385+_0x3f8cc2+(0x3*-0x4e7+0x23a9+0x1*-0x14f2),_0x55f385+(-0x47*-0x2f+-0x512+-0x1*0x7f6))),_0x55f385++;}this['positions']=_0x3840dd,this['normals']=_0x14df2e,this['uvs']=_0x38ce2b,this['uvs1']=_0x38ce2b,this['indices']=_0x432713,_0x22d3e8['calculateT'+'angents']&&(this['tangents']=Mr(_0x3840dd,_0x14df2e,_0x38ce2b,_0x432713));}}class XA extends Ta{constructor(_0x5d5c01={}){super();const _0x1e06be=_0x5d5c01['tubeRadius']??0x7c*0x4d+0x6*0x669+0x2*-0x25e1+0.2,_0x292e84=_0x5d5c01['ringRadius']??-0x2546+-0x27b*-0x3+0x1dd5+0.3,_0x12ae2f=(_0x5d5c01['sectorAngl'+'e']??-0x158*-0x8+-0x2612+0x1cba)*Y['DEG_TO_RAD'],_0x5dad95=_0x5d5c01['segments']??0x9f7*-0x1+-0x2*0x2d2+0xfb9,_0x49ed77=_0x5d5c01['sides']??-0x587*-0x6+0x1*-0x1c73+-0x4a3,_0x382d6f=[],_0x245d25=[],_0x57adbd=[],_0x1b9556=[];for(let _0x2fca8f=-0x194+0x2*0x5f3+-0xa52;_0x2fca8f<=_0x49ed77;_0x2fca8f++)for(let _0x44e39d=-0x2bf*0xc+0x1398+0x26*0x5a;_0x44e39d<=_0x5dad95;_0x44e39d++){const _0x343cef=Math['cos'](_0x12ae2f*_0x44e39d/_0x5dad95)*(_0x292e84+_0x1e06be*Math['cos']((0x92b+-0x9c1+-0x98*-0x1)*Math['PI']*_0x2fca8f/_0x49ed77)),_0x5aa9b5=Math['sin']((-0x1*-0x175+-0x1b11+0x199e)*Math['PI']*_0x2fca8f/_0x49ed77)*_0x1e06be,_0x3a647e=Math['sin'](_0x12ae2f*_0x44e39d/_0x5dad95)*(_0x292e84+_0x1e06be*Math['cos']((0x1*-0x5f3+0x22dc+-0x1ce7)*Math['PI']*_0x2fca8f/_0x49ed77)),_0x272f46=Math['cos'](_0x12ae2f*_0x44e39d/_0x5dad95)*Math['cos']((0x71*0x2+-0x2078+0x1f98)*Math['PI']*_0x2fca8f/_0x49ed77),_0xef36b9=Math['sin']((-0x3*0x6e1+-0x1*0x8f1+0x1d96)*Math['PI']*_0x2fca8f/_0x49ed77),_0x76d251=Math['sin'](_0x12ae2f*_0x44e39d/_0x5dad95)*Math['cos']((0x1aed+0x10d5*-0x1+-0xa16)*Math['PI']*_0x2fca8f/_0x49ed77),_0x5807ae=_0x2fca8f/_0x49ed77,_0x81b452=-0x1365+0x13b+0x122b-_0x44e39d/_0x5dad95;if(_0x382d6f['push'](_0x343cef,_0x5aa9b5,_0x3a647e),_0x245d25['push'](_0x272f46,_0xef36b9,_0x76d251),_0x57adbd['push'](_0x5807ae,0xef*-0x29+0xa3e+0x1c0a-_0x81b452),_0x2fca8f<_0x49ed77&&_0x44e39d<_0x5dad95){const _0x25f423=_0x2fca8f*(_0x5dad95+(-0x9*0x67+0x1152+-0xdb2))+_0x44e39d,_0x2ee697=(_0x2fca8f+(-0x1*-0x1369+0x1ef0+-0x3258))*(_0x5dad95+(0x1f15+0x2440+-0x7c*0x8b))+_0x44e39d,_0x4634c5=_0x2fca8f*(_0x5dad95+(0x2543+-0x1*-0x19d9+-0x5*0xc9f))+(_0x44e39d+(0x3*0x3f5+-0x1*-0x113f+0x1*-0x1d1d)),_0x2575ba=(_0x2fca8f+(-0x132e+-0x5f*0xb+0x1744))*(_0x5dad95+(-0x88e+-0xa1f*0x1+0x12ae))+(_0x44e39d+(-0x9*-0xed+-0xff1*0x1+0x79d));_0x1b9556['push'](_0x25f423,_0x2ee697,_0x4634c5),_0x1b9556['push'](_0x2ee697,_0x2575ba,_0x4634c5);}}this['positions']=_0x382d6f,this['normals']=_0x245d25,this['uvs']=_0x57adbd,this['uvs1']=_0x57adbd,this['indices']=_0x1b9556,_0x5d5c01['calculateT'+'angents']&&(this['tangents']=Mr(_0x382d6f,_0x245d25,_0x57adbd,_0x1b9556));}}class qA{constructor(_0x5ea1d5,_0x4665e8){h(this,'processedC'+'ache',new Map()),h(this,'definition'+'sCache',new Map()),h(this,'_generator'+'s',new Map()),(this['_device']=_0x5ea1d5,this['_isClearin'+'gCache']=!(0x8f*0x45+-0x2205+0x485*-0x1),this['_precached']=!(0x3c*-0x21+-0x26b1+-0xe*-0x351),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new dl(),this['_defaultSt'+'dMatOption'+'Min']=new dl());const _0x1cc46f=new vv();_0x4665e8['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x1cc46f,_0x4665e8,null,[],Aa,null),_0x4665e8['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x4665e8,null,cm,null),_0x5ea1d5['on']('destroy:sh'+'ader',_0x520bcf=>{this['removeFrom'+'Cache'](_0x520bcf);});}['destroy'](){this['clearCache']();}['register'](_0x1960a2,_0x49c5b6){this['_generator'+'s']['has'](_0x1960a2)||this['_generator'+'s']['set'](_0x1960a2,_0x49c5b6);}['unregister'](_0x388690){this['_generator'+'s']['has'](_0x388690)&&this['_generator'+'s']['delete'](_0x388690);}['isRegister'+'ed'](_0x2b48fb){return this['_generator'+'s']['has'](_0x2b48fb);}['generateSh'+'aderDefini'+'tion'](_0x4ae955,_0x365f9c,_0x324f13,_0xa84127){var _0x2934b0,_0x1ff023;let _0x4dca39=this['definition'+'sCache']['get'](_0x324f13);if(!_0x4dca39){let _0x248183;(_0x2934b0=_0xa84127['litOptions'])!=null&&_0x2934b0['lights']&&(_0x248183=_0xa84127['litOptions']['lights'],_0xa84127['litOptions']['lights']=_0x248183['map'](_0x461e43=>{const _0x1d9bf8=_0x461e43['clone']?_0x461e43['clone']():_0x461e43;return _0x1d9bf8['key']=_0x461e43['key'],_0x1d9bf8;})),this['storeNewPr'+'ogram'](_0x365f9c,_0xa84127),(_0x1ff023=_0xa84127['litOptions'])!=null&&_0x1ff023['lights']&&(_0xa84127['litOptions']['lights']=_0x248183),this['_precached']&&w['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x365f9c+'\x20key\x20'+_0x324f13+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x1af355=this['_device'];_0x4dca39=_0x4ae955['createShad'+'erDefiniti'+'on'](_0x1af355,_0xa84127),_0x4dca39['name']=_0x4dca39['name']??(_0xa84127['pass']?_0x365f9c+'-pass:'+_0xa84127['pass']:_0x365f9c),this['definition'+'sCache']['set'](_0x324f13,_0x4dca39);}return _0x4dca39;}['getCachedS'+'hader'](_0x38adf9){return this['processedC'+'ache']['get'](_0x38adf9);}['setCachedS'+'hader'](_0x211b19,_0x2c8564){this['processedC'+'ache']['set'](_0x211b19,_0x2c8564);}['getProgram'](_0x420deb,_0x181bcb,_0x9dc268,_0x96ce72){const _0xcabbcd=this['_generator'+'s']['get'](_0x420deb);if(!_0xcabbcd)return w['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x420deb),null;const _0x33d126=_0xcabbcd['generateKe'+'y'](_0x181bcb),_0x13719c=hi(_0x33d126),_0x379017=_0x9dc268['generateKe'+'y'](this['_device']),_0x3a92ad=hi(_0x379017),_0x5e805d=_0x13719c+'#'+_0x3a92ad;let _0x282928=this['getCachedS'+'hader'](_0x5e805d);if(!_0x282928){const _0x4e1360=this['generateSh'+'aderDefini'+'tion'](_0xcabbcd,_0x420deb,_0x13719c,_0x181bcb);w['assert'](_0x4e1360);let _0x3068be='',_0x39b8b7;_0x181bcb['pass']!==void(-0x2545+-0x9*-0x404+0x11*0x11)&&(_0x39b8b7=Si['get'](this['_device'])['getByIndex'](_0x181bcb['pass']),_0x3068be='-'+_0x39b8b7['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x96ce72,'shaderPassInfo':_0x39b8b7,'definition':_0x4e1360});const _0x273db9={'name':''+_0x4e1360['name']+_0x3068be+'-proc','attributes':_0x4e1360['attributes'],'vshader':_0x4e1360['vshader'],'vincludes':_0x4e1360['vincludes'],'fincludes':_0x4e1360['fincludes'],'fshader':_0x4e1360['fshader'],'processingOptions':_0x9dc268,'shaderLanguage':_0x4e1360['shaderLang'+'uage'],'meshUniformBufferFormat':_0x4e1360['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x4e1360['meshBindGr'+'oupFormat']};_0x282928=new qy(this['_device'],_0x273db9),w['call'](()=>{_0x282928['_generatio'+'nKey']=_0x33d126,_0x282928['_processin'+'gKey']=_0x379017;}),this['setCachedS'+'hader'](_0x5e805d,_0x282928);}return _0x282928;}['storeNewPr'+'ogram'](_0x212f66,_0x2cdc90){let _0x29044c={};if(_0x212f66==='standard'){const _0x51a530=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x2cdc90['pass']);for(const _0x1fedb6 in _0x2cdc90)(_0x2cdc90['hasOwnProp'+'erty'](_0x1fedb6)&&_0x51a530[_0x1fedb6]!==_0x2cdc90[_0x1fedb6]||_0x1fedb6==='pass')&&(_0x29044c[_0x1fedb6]=_0x2cdc90[_0x1fedb6]);for(const _0xf66f4c in _0x2cdc90['litOptions'])_0x29044c[_0xf66f4c]=_0x2cdc90['litOptions'][_0xf66f4c];}else _0x29044c=_0x2cdc90;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x212f66,'options':_0x29044c}));}['dumpProgra'+'ms'](){let _0x51e822='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x51e822+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][-0x30e*0xb+0x2562+-0x3c8]&&(_0x51e822+='\x0a\x09'+this['_programsC'+'ollection'][-0x21b9+-0xe8*0xc+0x2c99]);for(let _0x3a6a7e=0x1bf*-0xb+-0x1d*0xb0+0x2726*0x1;_0x3a6a7e<this['_programsC'+'ollection']['length'];++_0x3a6a7e)_0x51e822+=',\x0a\x09'+this['_programsC'+'ollection'][_0x3a6a7e];_0x51e822+='\x0a];\x0a',_0x51e822+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x51e822+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+hn+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+$S+'\x22)\x0a',_0x51e822+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x4d30c0=document['createElem'+'ent']('a');_0x4d30c0['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x51e822)),_0x4d30c0['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x4d30c0['style']['display']='none',document['body']['appendChil'+'d'](_0x4d30c0),_0x4d30c0['click'](),document['body']['removeChil'+'d'](_0x4d30c0);}['clearCache'](){this['_isClearin'+'gCache']=!(0x1*0x5b3+-0xe1f+0x86c),this['processedC'+'ache']['forEach'](_0x4cb3ab=>{_0x4cb3ab['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(0x10f9+0xa9a+-0x1b92);}['removeFrom'+'Cache'](_0x4dce3c){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0xd44f07,_0x5c6fa7)=>{_0x4dce3c===_0xd44f07&&this['processedC'+'ache']['delete'](_0x5c6fa7);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x5c6ddc){const _0x5af99c=Si['get'](this['_device'])['getByIndex'](_0x5c6ddc);return _0x5c6ddc===Zn||_0x5c6ddc===Rl||_0x5af99c['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x1e0012){if(_0x1e0012){const _0x5c4425=new Array(_0x1e0012['length']);for(let _0x40cb54=0x17*0x117+0x247d*-0x1+0xb6c;_0x40cb54<_0x1e0012['length'];_0x40cb54++){if(_0x1e0012[_0x40cb54]['name']==='standard'){const _0x3a7a72=_0x1e0012[_0x40cb54]['options'],_0x2ec978=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x3a7a72['pass']);for(const _0x59c5ae in _0x2ec978)_0x2ec978['hasOwnProp'+'erty'](_0x59c5ae)&&_0x3a7a72[_0x59c5ae]===void(0x1a6d+0x11a1+0x2*-0x1607)&&(_0x3a7a72[_0x59c5ae]=_0x2ec978[_0x59c5ae]);}_0x5c4425[_0x40cb54]=this['getProgram'](_0x1e0012[_0x40cb54]['name'],_0x1e0012[_0x40cb54]['options']);}}this['_precached']=!(-0x1*-0xf9b+-0x1a6c+0xad1);}}async function jA(){const _0x6b5f5b=new Float32Array(0x574+0x12a*0x1+-0x69d*0x1),_0x2748fd=new Int32Array(_0x6b5f5b['buffer']);let _0x24012c=-0x5*-0x416+-0xec7+0x1*-0x5a7,_0x2aaeab={};self['onmessage']=async _0x5b97ed=>{const {data:_0x285140}=_0x5b97ed;switch(_0x285140['type']){case'initWorker':break;case'appendGSpl'+'atData':_0xa869f0(_0x285140['properties'],_0x285140['timeIndex'],_0x285140['timeOption']);break;case'releaseSeq'+'Data':_0x352f11(_0x285140['index']);break;case'releaseAll'+'SeqData':_0xda9bae();break;case'destroyWor'+'ker':_0x1a9649();break;}};class _0x54f7de{constructor(_0x156d38=0x1*-0x3af+0x164b+-0x129c,_0x1a0300=-0x7*-0xfb+-0x4e0+-0x1fd,_0x1c4d0c=0x29*0xe8+0xd*0x237+-0x41f3,_0x1b2125=-0x233d+0x449*-0x1+0x2787){this['x']=_0x156d38,this['y']=_0x1a0300,this['z']=_0x1c4d0c,this['w']=_0x1b2125;}['set'](_0x449604,_0x5640fd,_0x30ad1b,_0x80779a){return this['x']=_0x449604,this['y']=_0x5640fd,this['z']=_0x30ad1b,this['w']=_0x80779a,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x2f8fc3=this){let _0xe856d7=_0x2f8fc3['length']();return _0xe856d7===0x325+-0x1*-0x22f7+-0x261c?(this['x']=this['y']=this['z']=0x4*0x51d+0x11d1+-0x2645,this['w']=-0x14c3*0x1+-0x1b00+0x2fc4):(_0xe856d7=(-0xdc+-0x112f+0x120c)/_0xe856d7,this['x']=_0x2f8fc3['x']*_0xe856d7,this['y']=_0x2f8fc3['y']*_0xe856d7,this['z']=_0x2f8fc3['z']*_0xe856d7,this['w']=_0x2f8fc3['w']*_0xe856d7),this;}['mulScalar'](_0x5a7c32,_0xa95aa7=this){return this['x']=_0xa95aa7['x']*_0x5a7c32,this['y']=_0xa95aa7['y']*_0x5a7c32,this['z']=_0xa95aa7['z']*_0x5a7c32,this['w']=_0xa95aa7['w']*_0x5a7c32,this;}}const _0x5a4ded=_0x55ded9=>{_0x6b5f5b[-0x3*0x7ed+-0xc42*0x3+-0x1*-0x3c8d]=_0x55ded9;const _0x30f109=_0x2748fd[-0x2*0x1087+0xac7*-0x2+0x369c];let _0x71ef52=_0x30f109>>0xe*0x43+0x437*0x1+-0x7d1&0xd5*-0x12e+0x311*-0x37+0x223ed,_0x3a77d8=_0x30f109>>-0x3d3*0x9+-0x9e3*-0x3+0x4ce&-0x1*-0x11bd+-0x13e3+0x31*0x35;const _0x43912a=_0x30f109>>0x1a26+-0x1115+0x2*-0x47d&-0x19a3+0x1*-0x1a7+0x1c49*0x1;return _0x43912a<-0x1806+0xe73+-0x1*-0x9fa?_0x71ef52:_0x43912a>0x22ba+-0x60a+-0x1c22?(_0x71ef52|=0xef*-0x35+-0x5*-0x5+0xad62,_0x71ef52|=(_0x43912a===-0x1ee9+0x1*-0x2653+-0x1cd*-0x27?0x1*0x1d27+0x1850+0x3577*-0x1:-0x424+0x1115+0x114*-0xc)&&_0x30f109&0x382f72+-0xa9b509+0xf18596,_0x71ef52):_0x43912a<-0x1e35+0x16fb*0x1+0x7ab?(_0x3a77d8|=0x4d7+-0x2314+0x3*0xcbf,_0x71ef52|=(_0x3a77d8>>-0x1fdf+-0x2*-0x1333+0x1*-0x615-_0x43912a)+(_0x3a77d8>>-0xe63*-0x1+0x1*-0x96a+-0x488-_0x43912a&0x4a*-0x47+-0x268+0x3*0x7a5),_0x71ef52):(_0x71ef52|=_0x43912a-(0x2058+0xfc4+0x7f2*-0x6)<<0x114b+-0x626+-0xb1b*0x1|_0x3a77d8>>-0x12e5*0x2+0x3*0xcd9+-0xc*0x10,_0x71ef52+=_0x3a77d8&0x1*0x5cf+-0x167*-0x6+-0xe38,_0x71ef52);},_0x199b94=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x374bfc=-0x1*0x614+-0xf4d+0xd*0x1a5;_0x374bfc<-0x27*0xb9+-0x6fe*0x2+0x2a58;++_0x374bfc)if(!_0x2aaeab['f_rest_'+_0x374bfc])return _0x374bfc;return-0x13c4*-0x1+-0x114c+-0x24b;})())]??0x9ef+-0x2*0x2f8+-0x3ff),_0xa869f0=(_0x3951b0,_0x5836b8,_0xfda7eb)=>{const _0x2eee7b=!!_0x3951b0['time_index'];_0x2eee7b||(_0x3951b0['time_index']=new Float32Array(-0x118d+0x1*0x98f+-0x3*-0x2aa)),_0x24012c+=_0x3951b0['x']['length']??0x2ad*0xb+-0xd07+-0x1068;const _0x4de422=Object['keys'](_0x3951b0);for(let _0x9ab037=-0xea0+0x1*-0x3d1+-0x1*-0x1271;_0x9ab037<_0x4de422['length'];_0x9ab037++){const _0x5a542b=_0x4de422[_0x9ab037],_0x13954e=_0x3951b0[_0x5a542b],_0x12bd68=_0x2aaeab[_0x5a542b]??new Float32Array(-0x3*0xba6+0x1*0x14fb+0x2cb*0x5);if(!_0x2eee7b&&_0x5a542b==='time_index'){const _0x4db28e=new Float32Array(_0x24012c);_0x4db28e['fill'](_0x5836b8),_0x4db28e['set'](_0x12bd68,0x847+-0x3e2+-0x19*0x2d),_0x2aaeab[_0x5a542b]=_0x4db28e;}else{if(!_0x2eee7b&&_0x13954e&&_0x5a542b==='t'){const _0x233b55=new Float32Array(_0x24012c);if(_0x233b55['set'](_0x12bd68,-0x17bb+0x133+-0x7*-0x338),_0xfda7eb){for(let _0x57cd1d=_0x12bd68['length'];_0x57cd1d<_0x24012c;_0x57cd1d++)_0x13954e[_0x57cd1d-_0x12bd68['length']]>-(0x1*-0xa7b+0x1b0+0x8d0)?_0x233b55[_0x57cd1d]=_0x13954e[_0x57cd1d-_0x12bd68['length']]+_0xfda7eb[(0xa*-0x227+-0x169c*0x1+0x2c24)*_0x5836b8]:_0x233b55[_0x57cd1d]=_0x13954e[_0x57cd1d-_0x12bd68['length']];}_0x2aaeab[_0x5a542b]=_0x233b55;}else{if(_0x13954e){const _0x57626d=new Float32Array(_0x24012c);_0x57626d['set'](_0x12bd68,0x1571*-0x1+0xd97+0x7da),_0x57626d['set'](_0x13954e,_0x12bd68['length']),_0x2aaeab[_0x5a542b]=_0x57626d;}}}}const _0x19895c={};Object['keys'](_0x2aaeab)['forEach'](_0x1d33cc=>{_0x19895c[_0x1d33cc]=new Float32Array(_0x2aaeab[_0x1d33cc]['buffer']['slice']());});const _0x493ce2=Object['keys'](_0x19895c)['map'](_0x5c4051=>_0x19895c[_0x5c4051]['buffer']),_0x414aa4=_0xfac3a5(),_0x3e467d=Object['keys'](_0x414aa4)['map'](_0x3a1d9d=>_0x414aa4[_0x3a1d9d]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x19895c,'transformData':_0x414aa4},_0x493ce2['concat'](_0x3e467d));},_0xfac3a5=()=>{const _0x399857=_0x2aaeab['x']['length'],_0xae451=_0x2aaeab['x'],_0x393190=_0x2aaeab['y'],_0x130714=_0x2aaeab['z'],_0x24a3dd=_0x2aaeab['scale_0'],_0x2d0827=_0x2aaeab['scale_1'],_0x20e08d=_0x2aaeab['scale_2'],_0x378512=_0x2aaeab['rot_1'],_0x211171=_0x2aaeab['rot_2'],_0x2f15dc=_0x2aaeab['rot_3'],_0x576d1b=_0x2aaeab['rot_0'],_0x4d14fe=_0x2aaeab['motion_0'],_0x237c2f=_0x2aaeab['motion_1'],_0x1807d6=_0x2aaeab['motion_2'],_0x1a0acc=_0x2aaeab['t'],_0x29db62=_0x2aaeab['t_scale'],_0x103331=_0x2aaeab['time_index'],_0xee97c5=_0x2aaeab['f_dc_0'],_0x1e839e=_0x2aaeab['f_dc_1'],_0x5c354b=_0x2aaeab['f_dc_2'],_0x1886f9=_0x2aaeab['opacity'],_0x1d17ba=(_0x1a0acc==null?void(-0x5*-0x49d+0x11bd+-0x1467*0x2):_0x1a0acc['length'])>-0x10d6+0x26f8+-0x1622,_0x22a9ce=new Float32Array(_0x399857*(-0x5*-0x2ff+-0x2248+0x1350)),_0x6b0cd0=new Float32Array(_0x399857*(-0x2*-0xa19+0x40*0x3b+-0x22ef)),_0x22acea=new Uint16Array(_0x399857*(0x188+0x2e*-0x64+0x1073)),_0x30f503=new Float32Array(_0x399857*(-0x16fc+-0x1*0x1981+0x3080));let _0x14b290=null,_0x440771=null,_0x41f7cd=null,_0x374d4d=null;_0x1d17ba&&(_0x14b290=new Float32Array(_0x399857*(0x1*-0x90b+-0x2*0x1009+-0xa48*-0x4)),_0x440771=new Float32Array(_0x399857*(-0x1baf+0x1df9+-0x247)),_0x41f7cd=new Float32Array(_0x399857*(-0x289*0x4+0x16e1*-0x1+-0x1c*-0x12e)),_0x374d4d=new Float32Array(_0x399857));const _0x93455f=new _0x54f7de(0x1*0x200f+-0x5*0x4d2+-0x7f5,0x1c*0x4e+0x491+0xd19*-0x1,-0x4*-0x2c7+0x3c3+-0xedf,0x2082+0x5fe+-0x2680);let _0x53b80b=0x1067+0x218b+-0x31f2,_0xe89298=0x21d*0x1+-0x14d*-0x1+-0x17*0x26,_0x13d44c=0x2*-0x1205+0x1e3b+0x5cf,_0x33e288=-0x1*0x1e3b+0x12ec*-0x1+0x3127,_0x44fe38=0xae5*0x3+-0x1e3b+-0x274,_0x1c1ef4=-0x3f3*-0x5+0xaa3+0x1e62*-0x1,_0x37a9ca=!(-0x1d7e+-0x4f4+0x2272);const _0x5b777b=new Float32Array(-0x2*0xf0d+-0xbaf+0x29cc),_0x24fe37=new Float32Array(0x2*0xf9d+0x3*0xb63+-0x4160),_0x898089=new Uint16Array(_0x399857*(0x1*0xc9d+0x4*-0x46b+0x513)),_0x1b9a8c=-0x1f35+-0x1df*-0x11+-0xe*0xb+0.28209479177387814;for(let _0x39adf2=-0x1399+0x377*0xb+-0x316*0x6;_0x39adf2<_0x399857;++_0x39adf2){const _0x454952=_0xee97c5[_0x39adf2]*_0x1b9a8c+(0x640+0xdbe*-0x2+0x153c+0.5),_0xc2b426=_0x1e839e[_0x39adf2]*_0x1b9a8c+(0x1b24+-0x3*0xb2b+0x65d+0.5),_0x5c3763=_0x5c354b[_0x39adf2]*_0x1b9a8c+(-0x1*-0xd3d+0x189f+-0x25dc+0.5),_0x4e1d67=_0x1886f9[_0x39adf2];_0x898089[_0x39adf2*(0x12*0x149+-0x4*-0x41+-0x1822)+(-0x7*0x14f+-0x6ab+0x7ea*0x2)]=_0x5a4ded(_0x454952),_0x898089[_0x39adf2*(-0x1038+0x21a0+-0x1164)+(-0x11*0xbf+0x78+-0x187*-0x8)]=_0x5a4ded(_0xc2b426),_0x898089[_0x39adf2*(-0x157d+0x23f8*-0x1+-0x3979*-0x1)+(0x9e9+-0x67*0x8+0x1*-0x6af)]=_0x5a4ded(_0x5c3763),_0x898089[_0x39adf2*(0x1bfe+0x83*-0x2a+-0x67c)+(-0x2680+0x5*-0x1cf+-0x6*-0x7ed)]=_0x5a4ded(_0x4e1d67);const _0x25c43a=_0xae451[_0x39adf2],_0x46bddb=_0x393190[_0x39adf2],_0xd2f713=_0x130714[_0x39adf2],_0x3513ad=Math['max'](_0x24a3dd[_0x39adf2],_0x2d0827[_0x39adf2],_0x20e08d[_0x39adf2]);if(isFinite(_0x25c43a)&&isFinite(_0x46bddb)&&isFinite(_0xd2f713)&&isFinite(_0x3513ad)){const _0x9725d9=(-0xefc+-0x22d1+-0x31cf*-0x1)*Math['exp'](_0x3513ad);_0x37a9ca?(_0x37a9ca=!(-0x4*0xe2+-0x2*0x1d3+0x3*0x265),_0x53b80b=_0x25c43a-_0x9725d9,_0xe89298=_0x46bddb-_0x9725d9,_0x13d44c=_0xd2f713-_0x9725d9,_0x33e288=_0x25c43a+_0x9725d9,_0x44fe38=_0x46bddb+_0x9725d9,_0x1c1ef4=_0xd2f713+_0x9725d9):(_0x53b80b=Math['min'](_0x53b80b,_0x25c43a-_0x9725d9),_0xe89298=Math['min'](_0xe89298,_0x46bddb-_0x9725d9),_0x13d44c=Math['min'](_0x13d44c,_0xd2f713-_0x9725d9),_0x33e288=Math['max'](_0x33e288,_0x25c43a+_0x9725d9),_0x44fe38=Math['max'](_0x44fe38,_0x46bddb+_0x9725d9),_0x1c1ef4=Math['max'](_0x1c1ef4,_0xd2f713+_0x9725d9));}_0x93455f['set'](_0x378512[_0x39adf2],_0x211171[_0x39adf2],_0x2f15dc[_0x39adf2],_0x576d1b[_0x39adf2]),_0x93455f['normalize'](),_0x93455f['w']<-0x154*-0x1b+0x174b+-0x31d*0x13&&_0x93455f['mulScalar'](-(0x21da+-0xb99*0x3+0xf2)),_0x6b0cd0[_0x39adf2*(-0x740+-0x2b5+0x9f8)+(0x18f0+-0x7ed*-0x4+-0x38a4)]=_0xae451[_0x39adf2],_0x6b0cd0[_0x39adf2*(0x14c*-0x10+-0x1e*-0x122+0x5*-0x2a5)+(0xf66+0x51a*-0x6+0xf37)]=_0x393190[_0x39adf2],_0x6b0cd0[_0x39adf2*(-0x256*0x9+-0x22a*0x12+0x3bfd)+(-0xea2*0x1+-0xd15+0x97*0x2f)]=_0x130714[_0x39adf2],_0x22a9ce[_0x39adf2*(-0xc2d+-0x13df*0x1+0x200f)+(0x815+-0xe68+0x653)]=_0xae451[_0x39adf2],_0x22a9ce[_0x39adf2*(-0x2230+0xd1c+0x1517)+(0x1c35+-0x193b+-0x2f9*0x1)]=_0x393190[_0x39adf2],_0x22a9ce[_0x39adf2*(-0x1*-0x2467+-0x2358+-0x10c)+(-0x14d0+0x1*0xb7d+0x955*0x1)]=_0x130714[_0x39adf2],_0x22acea[_0x39adf2*(-0x1*0x773+0x1*0x1d56+-0x15e0)+(0xb0+0xa*0x133+-0x3*0x43a)]=_0x5a4ded(Math['exp'](_0x24a3dd[_0x39adf2])),_0x22acea[_0x39adf2*(0x1bb4+0x10+-0x1bc1)+(-0xacc*-0x1+0x4ea+-0xfb5)]=_0x5a4ded(Math['exp'](_0x2d0827[_0x39adf2])),_0x22acea[_0x39adf2*(0x2a5*0x5+0x3*-0xb32+0x10*0x146)+(-0x13f4+0x1*0x1e0c+-0xa16)]=_0x5a4ded(Math['exp'](_0x20e08d[_0x39adf2])),_0x30f503[_0x39adf2*(-0x2544+-0xff*0x1b+0x402c)+(0x39*0x3b+-0x1f23+-0x60*-0x30)]=_0x93455f['x'],_0x30f503[_0x39adf2*(0x3*0x7df+0x1*0x163d+0x1*-0x2dd7)+(0x131b+0x5*-0x32f+-0x32f)]=_0x93455f['y'],_0x30f503[_0x39adf2*(0x17*-0x175+0x209a+0xec)+(0x134+-0x16f1+0x15bf)]=_0x93455f['z'],_0x1d17ba&&_0x14b290&&_0x440771&&_0x41f7cd&&_0x374d4d&&(_0x14b290[_0x39adf2*(-0x12+-0xc69+0xc7e)+(0x2387*0x1+0x13ea+-0x3*0x127b)]=_0x4d14fe[_0x39adf2],_0x14b290[_0x39adf2*(0x11b*-0x4+0x1da9+-0x1*0x193a)+(0x12a2+0x25ba+-0x3*0x12c9)]=_0x237c2f[_0x39adf2],_0x14b290[_0x39adf2*(0x2514+0x17d0+0x1*-0x3ce1)+(0x24d5+-0xd*0x2fc+0x65*0x5)]=_0x1807d6[_0x39adf2],_0x41f7cd[_0x39adf2*(-0x197e+-0x231d+0x3c9e)+(-0xd69+-0x2*-0xe41+-0xf19*0x1)]=_0x4d14fe[_0x39adf2],_0x41f7cd[_0x39adf2*(-0xa32+0xd*-0xdd+0x156e)+(-0x128e+0x1a24+-0x795)]=_0x237c2f[_0x39adf2],_0x41f7cd[_0x39adf2*(-0x1b18+-0x1e*-0xbd+0x4f5)+(-0x7*-0x2b1+-0x193f+0x66a*0x1)]=_0x1807d6[_0x39adf2],_0x374d4d[_0x39adf2]=_0x29db62?Math['exp'](_0x29db62[_0x39adf2]):-0x743+0x22cb+-0x1b88,_0x440771[_0x39adf2*(0x4*-0x21d+0xa48+-0x1d1)+(-0xe3*0x2a+-0x9dd+0x2f1b)]=_0x1a0acc?_0x1a0acc[_0x39adf2]:0x13*0xfb+0x2*-0xf3d+-0x3f3*-0x3,_0x440771[_0x39adf2*(-0x1*0x1311+0xc1b+0x55*0x15)+(-0x60f+-0xc89+0x1299)]=_0x374d4d[_0x39adf2]);}_0x37a9ca||(_0x5b777b[0x353*-0x2+0x12e2*-0x1+0x1988]=(_0x53b80b+_0x33e288)*(0xbf2*0x2+-0x17e2+-0x2*0x1+0.5),_0x5b777b[-0x1995+0x1914+0x1a*0x5]=(_0xe89298+_0x44fe38)*(-0x21bc+0x18*-0xe3+0x3704+0.5),_0x5b777b[0x1014+0x2250+-0x1931*0x2]=(_0x13d44c+_0x1c1ef4)*(0x1820+0x1*0xfd1+-0x27f1+0.5),_0x24fe37[0xa16+0xe95+-0x1*0x18ab]=(_0x33e288-_0x53b80b)*(0x20a7*0x1+-0x1*0x194f+-0xbc*0xa+0.5),_0x24fe37[0x19d*0x1+0x1c69+-0x1e05]=(_0x44fe38-_0xe89298)*(0x32f+0xef7+-0x65*0x2e+0.5),_0x24fe37[-0x17*-0x2b+-0x2bd*0x4+0x719]=(_0x1c1ef4-_0x13d44c)*(0x1fc5+-0x779*0x1+0x26e*-0xa+0.5));const _0x4acffe=_0x2ba069();let _0x11adcd={'dataColor':_0x898089,'center':_0x5b777b,'halfExtents':_0x24fe37,'dataCenters':_0x22a9ce,'dataPosition':_0x6b0cd0,'dataScale':_0x22acea,'dataRotation':_0x30f503,..._0x4acffe};return _0x1d17ba&&(_0x11adcd={..._0x11adcd,'dataMotion':_0x14b290,'dataTime':_0x440771,'motion':_0x41f7cd,'tScaleArray':_0x374d4d,'muT':new Float32Array(_0x1a0acc),'timeIndex':new Float32Array(_0x103331)}),_0x11adcd;},_0x41f4c7=_0x191d4c=>{const _0x2a030e=[];for(let _0x3033f7=-0x2*-0xe7d+-0xd3d*0x2+-0x280;_0x3033f7<_0x191d4c;++_0x3033f7)_0x2a030e['push'](_0x2aaeab['f_rest_'+_0x3033f7]);return _0x2a030e;},_0x2ba069=()=>{const _0x19b46c=_0x199b94();if(_0x19b46c<=-0x12cb+-0x1229*-0x1+0xa2)return{};const _0x2ef9d8=_0x2aaeab['x']['length'],_0x4360a3=new Uint32Array(_0x2ef9d8*(0x4dd+0x17db+-0x1cb4)),_0x203adb=new Uint32Array(_0x2ef9d8*(0x51d+0x61a+0x2f*-0x3d)),_0x10cd6b=new Uint32Array(_0x2ef9d8*(0x16c8+-0xa*-0x211+-0x2b6e)),_0xcb431a=new Uint32Array(_0x2ef9d8*(-0x647*-0x2+-0x2131+0x14a7)),_0x13b722={0x1:0x3,0x2:0x8,0x3:0xf}[_0x19b46c],_0x45c7fa=_0x41f4c7(_0x13b722*(0x1*-0x2363+0x189*0x18+-0x1*0x172)),_0xcf2807=0x3*-0x629+0x17ff*0x1+-0x7f*-0x5,_0x375b65=-0x2670+-0xfbb*-0x1+-0x6ad*-0x4,_0x42537f=new Float32Array(-0x1335*0x2+0x232*0x4+-0x9e1*-0x3),_0x3c7e2e=new Uint32Array(_0x42537f['buffer']),_0x4423fc=new Array(_0x13b722*(-0x91*-0x25+0x1ed1+-0x765*0x7))['fill'](0x1*-0x8c9+0x107*0x24+-0x1*0x1c33);for(let _0x65f18e=-0x172f+-0x131c+0x2a4b;_0x65f18e<_0x2ef9d8;++_0x65f18e){for(let _0x4a999a=-0x1fe6+0x1aaa+0x53c;_0x4a999a<_0x13b722;++_0x4a999a)_0x4423fc[_0x4a999a*(-0x10*-0xc2+0x1997*-0x1+-0x6*-0x23f)]=_0x45c7fa[_0x4a999a][_0x65f18e],_0x4423fc[_0x4a999a*(0x2357+-0x1*0x232+-0x2122)+(0xd11+0x2fc*-0x2+-0x718)]=_0x45c7fa[_0x4a999a+_0x13b722][_0x65f18e],_0x4423fc[_0x4a999a*(-0x1219*-0x1+0x2+-0x1218)+(0x18c8+-0x277+0x164f*-0x1)]=_0x45c7fa[_0x4a999a+_0x13b722*(0x4*-0x3d2+-0x1ef1+0x2e3b)][_0x65f18e];let _0x5da33b=_0x4423fc[0xcac+0xe0+-0xd8c];for(let _0x32e397=0x259e+0x5*-0x44f+0xb*-0x176;_0x32e397<_0x13b722*(-0x7*0x1eb+-0x59*0x68+0x3198);++_0x32e397)_0x5da33b=Math['max'](_0x5da33b,Math['abs'](_0x4423fc[_0x32e397]));if(_0x5da33b!==0x3d*0x6b+-0x1829+-0x156){for(let _0x398d25=0x1cd7+0x3b4+-0x208b;_0x398d25<_0x13b722;++_0x398d25)_0x4423fc[_0x398d25*(0x1cbd*0x1+-0x24cf+0x815)+(0x9c*-0x2f+-0x1b*0x92+0x2c0a)]=Math['max'](-0x86c+-0x924*0x3+-0x2*-0x11ec,Math['min'](_0xcf2807,Math['floor']((_0x4423fc[_0x398d25*(0x1e35+0x1*-0x716+-0x171c)+(-0x1eb0+-0x658+-0xf*-0x278)]/_0x5da33b*(-0x787+0x153*-0x18+0x274f*0x1+0.5)+(-0x2*-0x611+0x1c8c+-0xfe*0x29+0.5))*_0xcf2807+(0x2e0+0x1805*0x1+-0xff*0x1b+0.5)))),_0x4423fc[_0x398d25*(0x27*0x71+0xc7*-0xf+-0x58b)+(-0x3f*0x7f+-0x1c*0xe9+0x38be)]=Math['max'](-0xde6+-0x1d8a+0x8b*0x50,Math['min'](_0x375b65,Math['floor']((_0x4423fc[_0x398d25*(0x5c9*0x1+0x228a*-0x1+0x7*0x41c)+(0xe4b*0x2+0x179f+-0x3434)]/_0x5da33b*(-0x5e8+0x1c6e+-0x1686+0.5)+(0x862+0x388*0x3+0x15b*-0xe+0.5))*_0x375b65+(0x9d9*0x1+0x24d9+-0x2eb2+0.5)))),_0x4423fc[_0x398d25*(0xa9f+0xc*0x1ac+-0x7ab*0x4)+(-0x1e29+0x1*-0x116c+0x2f97)]=Math['max'](-0x1cf1+0x622+-0x16cf*-0x1,Math['min'](_0xcf2807,Math['floor']((_0x4423fc[_0x398d25*(0x1978+0x3dd*0x3+0x2*-0x1286)+(-0x15fc+-0x43f+0x1a3d)]/_0x5da33b*(-0x179c*-0x1+0x599+-0x1d35+0.5)+(-0x1339+-0xa7f*0x3+0x32b6+0.5))*_0xcf2807+(-0xc82+-0x1b*-0xd+0xb23+0.5))));_0x42537f[0x157*0x5+-0x249a+-0x5*-0x5fb]=_0x5da33b,_0x4360a3[_0x65f18e*(-0x13c+0x79f*0x4+-0x4*0x74f)+(-0x229d+0x1b4*-0x9+0x31f1)]=_0x3c7e2e[-0x4d6+0x22d*0xe+-0x668*0x4],_0x4360a3[_0x65f18e*(0x248b+-0x1de8+-0x1*0x69f)+(0x19*0x2b+0x2271*-0x1+0x1e3f)]=_0x4423fc[0x26*-0xca+0x14f*0x13+0x51f]<<-0x2503+0x1976+0x2*0x5d1|_0x4423fc[-0x26ac+-0x293*-0x5+0x6*0x44d]<<-0x6ee+-0xc3+-0x7bc*-0x1|_0x4423fc[-0xb*0x1a0+0x19*0x153+-0xf39],_0x4360a3[_0x65f18e*(-0x968+0x9f3*-0x1+0x135f)+(0x21ad+0x90b*0x3+-0xa22*0x6)]=_0x4423fc[-0x3c3+-0xa62*-0x3+-0xdb*0x20]<<-0x176b+0x19ef+-0x26f*0x1|_0x4423fc[0x6fa+-0x7*0x4fa+-0x10*-0x1be]<<0x695*0x5+0x4*0x2d7+-0x2c3a|_0x4423fc[0x10c*-0x11+0x2*-0x6b+0x1*0x12a7],_0x4360a3[_0x65f18e*(0x26*0xfb+0xb*0xa3+-0x2c3f)+(-0x38*-0x56+-0x13a6+-0x1f*-0x7)]=_0x4423fc[-0x1cc0+0x13af+0x917]<<-0x1*-0x2124+0xc3a+-0x2d49|_0x4423fc[0x2e*0x97+-0x1450+-0x6cb]<<-0x1879+-0x1cef*-0x1+-0x46b|_0x4423fc[-0xfde+-0xcb6+0xe4e*0x2],_0x19b46c>-0x2254+0x17*0x8e+0x1*0x1593&&(_0x203adb[_0x65f18e*(0x4*-0x428+-0x1*-0x199+0xf0b)+(0xb87*0x1+-0x1391+0x80a)]=_0x4423fc[-0x116*0x4+-0x111*0x1d+0x234e]<<0x3*0xa01+-0x143e+-0x9b0|_0x4423fc[-0x3e6*0x5+-0x1*-0x2653+-0x12cb]<<0x1844+-0x4*-0x539+0x1*-0x2d1d|_0x4423fc[0x1*-0x517+0x170*-0x7+-0x185*-0xa],_0x203adb[_0x65f18e*(0x1*-0x859+0x1f5a+-0x16fd)+(-0x2620+-0x7b*-0x39+0x113*0xa)]=_0x4423fc[0x72f+0x25c*-0x4+-0x1f*-0x13]<<-0x1b2f*0x1+-0x91e*0x1+0x2462*0x1|_0x4423fc[0x25ca+-0x23ca+0x1f3*-0x1]<<0x2ec*-0x9+0x366*-0x3+0x2489|_0x4423fc[-0x1414+-0x3c7*0x9+0x3621],_0x203adb[_0x65f18e*(-0x3e*0x4f+-0x3*0x81+0x14a9)+(0x1a95+-0x1*0x98c+-0x1107)]=_0x4423fc[0x13f5+0x19c4+-0x2daa]<<0x1435+0xfbb*-0x1+-0x465|_0x4423fc[0xf*-0x35+-0x1de5+-0x211*-0x10]<<-0xed*-0xf+-0x2*-0xf3e+-0x2c54|_0x4423fc[-0x8e8+-0x127*0x1+0xa20],_0x203adb[_0x65f18e*(0xe*0xa9+-0x1*-0xaae+-0x13e8)+(-0x1b87+0x2*-0x406+0x2396)]=_0x4423fc[-0xa16+0x17e9+0x1f7*-0x7]<<-0x1789+0x497+0x1307|_0x4423fc[-0x1802+0x109c+0x779]<<0x2491+0xbe4*0x1+-0x306a|_0x4423fc[0x1c24+-0x2b6+-0x195a],_0x19b46c>0x653*-0x2+0xff+0xba9?(_0x10cd6b[_0x65f18e*(0x81*-0xd+0x1f2c+0x189b*-0x1)+(-0x172f+-0x67*-0x1f+0xab6)]=_0x4423fc[-0xb1e*0x3+-0x7e3*-0x1+0x198c]<<0x91*-0x26+0x23b9+0x2*-0x70f|_0x4423fc[0x1*-0x5d2+0x220a+0x1a*-0x115]<<-0x162b+-0x1b72+0x31a8|_0x4423fc[0x79a*0x3+0x5*0x359+0xa*-0x3f2],_0x10cd6b[_0x65f18e*(-0x1d1b+-0x5*-0x6bc+-0x48d)+(-0x1*0x209b+0xa45+0x1657)]=_0x4423fc[0x2505+0x11ea+-0x36d7]<<-0x147*-0x1d+-0x1*0xef9+0x1b1*-0xd|_0x4423fc[0xe8*0x7+0x7*0x221+0x2*-0xa93]<<0x1*0x1855+-0x203a+0x7f0|_0x4423fc[0x3a0+0x2*-0x9ed+-0x37*-0x4c],_0x10cd6b[_0x65f18e*(0x1*0xab1+0x1b2f+-0x25dc)+(0x8c*0x23+-0x2167+-0xd*-0x119)]=_0x4423fc[0x19ab+-0x1*0x1a65+0xd5]<<-0x15*0x3+0xf49+-0x223*0x7|_0x4423fc[-0x3*0x1+-0xe20+-0x209*-0x7]<<-0x1c5+0x38+-0x1*-0x198|_0x4423fc[-0x16b0+0x21a4+0xad7*-0x1],_0x10cd6b[_0x65f18e*(-0x1*-0x1db+0xfaf+-0x1186)+(0x1*0xa71+0x153f*0x1+-0x1fad)]=_0x4423fc[-0x19d6*-0x1+0x1b62+0x1*-0x351a]<<-0xda3+-0x14af+0x1*0x2267|_0x4423fc[-0x14*-0x1a5+0x21e0+-0x42a5]<<0x5*0x51d+-0x118e+0x1e*-0x44|_0x4423fc[0x1d82+0x1*-0xf35+-0xe2d],_0xcb431a[_0x65f18e*(0x37*-0x4+-0x1*-0x72d+-0x64d)+(-0x1*0x1ed3+0x5e8+-0x18eb*-0x1)]=_0x4423fc[0x14d5+-0x2086+0xbd2]<<-0x76+-0x4f*0x3+-0x5e*-0x4|_0x4423fc[0x1*0x2397+0x7*-0x15b+-0x19f8]<<0x15e8+0x534+-0x1b11|_0x4423fc[0x1dbe+-0x2*-0xbe+-0x1f17],_0xcb431a[_0x65f18e*(0x4e*0x55+0x26db*-0x1+0xcf9)+(0x1626+0x1b59+0x7*-0x712)]=_0x4423fc[-0x220e+-0x3b*0x9f+0x46d7]<<-0x1*-0xa8d+-0x632+0x1*-0x446|_0x4423fc[0x114*-0x7+-0xbdf+-0x272*-0x8]<<-0x110a+-0xbb2+-0x8b*-0x35|_0x4423fc[0x2*-0xbe9+-0x193b+0x37*0xe5],_0xcb431a[_0x65f18e*(0x1d*0x14d+-0x22f*-0x8+-0x71*0x7d)+(-0x7*-0x113+0x7f4*0x4+-0x1*0x2753)]=_0x4423fc[-0x25b4+0x2227+0x3b4]<<0xb*0x7+-0x1253+0x121b|_0x4423fc[0x21*-0x91+-0x8f4*-0x1+-0x1*-0x9e5]<<0xb03+0x1803+-0x22fb|_0x4423fc[0x607*-0x6+0x7d3*0x3+0xcda],_0xcb431a[_0x65f18e*(-0xf80+0x1*-0x1eef+-0x439*-0xb)+(0x24d6+-0x49*-0x69+0x2*-0x2162)]=_0x4423fc[-0x4*-0x482+-0x2f*-0x67+0x541*-0x7]<<-0xf3+0x19c0+-0x18b8|_0x4423fc[0x92f*0x1+-0x10a+0x3fd*-0x2]<<-0x35*0x5d+-0xaa2+0x1dee|_0x4423fc[0x793*-0x1+-0x3*-0x957+-0x6*0x361]):_0x10cd6b[_0x65f18e]=_0x4423fc[-0x1*-0x20af+0x245c+-0x7*0x9da]<<0x9a3*-0x3+-0xeb4*-0x1+-0x1f*-0x76|_0x4423fc[0x151+0x143d+0x728*-0x3]<<-0x1e1b*0x1+-0x1bcd*-0x1+-0x259*-0x1|_0x4423fc[0x73*0x6+0x1*0x1542+-0x17dd]);}}return{'sh1to3Data':_0x4360a3,'sh4to7Data':_0x203adb,'sh8to11Data':_0x10cd6b,'sh12to15Data':_0xcb431a};},_0x352f11=_0x536430=>{if(!_0x2aaeab['time_index'])return;const _0x274455=_0x2aaeab['time_index']['findIndex'](_0x7ee753=>_0x7ee753===_0x536430);let _0x4c8970=_0x2aaeab['time_index']['findIndex']((_0x104ff7,_0x2556c7)=>_0x104ff7!==_0x536430&&_0x2556c7>_0x274455);if(_0x4c8970===-(0x2529+0x24*-0xe3+-0x53c)&&_0x274455===-(0x1f1a*0x1+0x120a+0x15*-0x257))return;_0x4c8970===-(-0xb9d*0x1+0x14d*0x9+-0x17*0x1)&&_0x274455!==-(0x209*-0xe+0xc*-0x11b+0x29c3)&&(_0x4c8970=_0x2aaeab['time_index']['length']),_0x24012c-=_0x4c8970-_0x274455;const _0x529649=Object['keys'](_0x2aaeab);for(let _0x5ea5b7=0x13b5+-0x2576+-0x11c1*-0x1;_0x5ea5b7<_0x529649['length'];_0x5ea5b7++){const _0x232547=_0x529649[_0x5ea5b7],_0x25a359=_0x2aaeab[_0x232547];if(_0x25a359){const _0x526f1c=new Float32Array(_0x24012c);_0x274455>0x1548+-0x4dc*0x2+0x50*-0x25?(_0x526f1c['set'](_0x25a359['subarray'](0x1ba8+-0x1*-0x144d+-0x2ff5,_0x274455),-0x1c*-0x12d+0xa*-0x83+-0x1bce),_0x526f1c['set'](_0x25a359['subarray'](_0x4c8970),_0x274455)):_0x526f1c['set'](_0x25a359['subarray'](_0x4c8970),-0x6d*-0x56+-0x8ee+-0x1bb0),_0x2aaeab[_0x232547]=_0x526f1c;}}},_0xda9bae=()=>{const _0x3c1ac9=Object['keys'](_0x2aaeab);for(let _0x44b5bd=-0xc1*-0x33+0x14*0x13f+-0x3f5f*0x1;_0x44b5bd<_0x3c1ac9['length'];_0x44b5bd++){const _0x15537a=_0x3c1ac9[_0x44b5bd];_0x2aaeab[_0x15537a]&&(_0x2aaeab[_0x15537a]=[]);}},_0x1a9649=()=>{_0x2aaeab={},_0x24012c=0x98a+-0x1*-0x11da+-0x1b64;};}class YA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+jA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x1cd62b,_0xef0123,_0x56feb2,_0x270f2e=!(0x91f*0x1+0x1580+-0x1e9e)){var _0x2f3db6,_0x457a62;const _0x63e0b0={};return _0x1cd62b['elements'][-0x1*-0xd31+0x2*-0x859+0x381]['properties']['forEach'](_0x130c9d=>{_0x63e0b0[_0x130c9d['name']]=_0x130c9d['storage'];}),_0x270f2e?(_0x2f3db6=this['worker'])==null||_0x2f3db6['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x63e0b0,'timeIndex':_0xef0123,'timeOption':_0x56feb2},_0x1cd62b['elements'][0x4f*0x55+0xdab+-0x27e6]['properties']['map'](_0x53b68f=>_0x53b68f['storage']['buffer'])):(_0x457a62=this['worker'])==null||_0x457a62['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x63e0b0,'timeIndex':_0xef0123,'timeOption':_0x56feb2}),new Promise(_0x4bc7eb=>{this['worker']['onmessage']=_0x4e4b26=>{if(!this['worker'])return;const {data:_0x5643e1}=_0x4e4b26;_0x5643e1['type']==='newAppendD'+'ata'&&_0x4bc7eb(_0x5643e1);};});}async['releaseSeq'+'Data'](_0x5c3de0){var _0x69d493;(_0x69d493=this['worker'])==null||_0x69d493['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x5c3de0});}async['releaseAll'+'SeqData'](){var _0x412ac0;(_0x412ac0=this['worker'])==null||_0x412ac0['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x56613f;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x56613f=this['worker'])==null||_0x56613f['terminate'](),this['worker']=null);}}const za=new te(),pg=new le(),yf=new De(),mg=new De(),KA=new ie(0x6fc+0x1c8e+-0x2389,-0x26af+-0x76f+0x2e1f,-0x12e2+0xc4a+0x698,0x1c99+0xd5+-0x1d6e+0.4),vf=-0x7*-0x9d+0x316+-0x1*0x761+0.28209479177387814,xf=0x7f5*0x94+0x4e787+-0x673eb;let ZA=class{constructor(_0x6517b8,_0xd86b4f,_0x447b64,_0x14b918,_0x38be63,_0xf4aefc){const _0xeaf9ff=_0x6517b8['getProp']('x'),_0xf6f0bc=_0x6517b8['getProp']('y'),_0x3e40e0=_0x6517b8['getProp']('z'),_0x375521=_0x6517b8['getProp']('rot_1'),_0x5e620f=_0x6517b8['getProp']('rot_2'),_0x1490a2=_0x6517b8['getProp']('rot_3'),_0x125683=_0x6517b8['getProp']('rot_0'),_0x5cf9be=_0x6517b8['getProp']('motion_0'),_0x2bbae=_0x6517b8['getProp']('motion_1'),_0x27f1b1=_0x6517b8['getProp']('motion_2'),_0x297af8=_0x6517b8['getProp']('scale_0'),_0x10e5f2=_0x6517b8['getProp']('scale_1'),_0x3f8189=_0x6517b8['getProp']('scale_2'),_0x4aa1e0=_0x6517b8['getProp']('f_dc_0'),_0x15f305=_0x6517b8['getProp']('f_dc_1'),_0x264d2e=_0x6517b8['getProp']('f_dc_2'),_0x181cb4=_0x6517b8['getProp']('opacity');this['read']=_0x4f54cc=>{_0xd86b4f&&(_0xd86b4f['x']=_0xeaf9ff[_0x4f54cc],_0xd86b4f['y']=_0xf6f0bc[_0x4f54cc],_0xd86b4f['z']=_0x3e40e0[_0x4f54cc]),_0x447b64&&_0x447b64['set'](_0x375521[_0x4f54cc],_0x5e620f[_0x4f54cc],_0x1490a2[_0x4f54cc],_0x125683[_0x4f54cc]),_0x14b918&&_0x14b918['set'](Math['exp'](_0x297af8[_0x4f54cc]),Math['exp'](_0x10e5f2[_0x4f54cc]),Math['exp'](_0x3f8189[_0x4f54cc])),_0xf4aefc&&_0x5cf9be&&_0xf4aefc['set'](_0x5cf9be[_0x4f54cc],_0x2bbae[_0x4f54cc],_0x27f1b1[_0x4f54cc]),_0x38be63&&_0x38be63['set'](-0xf*-0x1c5+0x1d9d+-0x3828+0.5+_0x4aa1e0[_0x4f54cc]*vf,0x1177+-0x119f+0x28*0x1+0.5+_0x15f305[_0x4f54cc]*vf,-0x21df*0x1+0x1*0x541+0x1c9e+0.5+_0x264d2e[_0x4f54cc]*vf,_0x181cb4[_0x4f54cc]);};}};const _g=(_0x43ccf3,_0x30dc18,_0x176757)=>{pg['set'](_0x176757['x'],_0x176757['y'],_0x176757['z'],_0x176757['w'])['normalize'](),_0x43ccf3['setTRS'](_0x30dc18,pg,D['ONE']);};class qn{constructor(_0x263dfe,_0x4e42f8=[]){h(this,'elements'),h(this,'numSplats',0x1ebf+-0x27*-0xe5+-0x41a2),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x58f4f1;(_0x58f4f1=this['dataWorker'])==null||_0x58f4f1['destroy'](),this['dataWorker']=null;});var _0x1cad90,_0x5c67d2,_0x419c1b;this['elements']=_0x263dfe,this['numSplats']=((_0x1cad90=this['getElement']('vertex'))==null?void(0x1164+0x1ce1+0x5*-0x941):_0x1cad90['count'])??-0x16ff+-0xddc*-0x1+0x923,this['comments']=_0x4e42f8,this['is4D']=!!((_0x419c1b=(_0x5c67d2=this['getElement']('vertex'))==null?void(-0x9e6+-0x2184+0x2b6a):_0x5c67d2['properties']['find'](_0x4ffe2d=>_0x4ffe2d['name']==='t'))!=null&&_0x419c1b['storage']);}async['appendGSpl'+'atData'](_0x47f62b,_0x4041dd,_0x474f94){var _0x566532;let _0xcb5fbe=0xd44*-0x2+0x1*0x8c5+-0x1*-0x11c3;for(let _0xc73bb3=0x115b*-0x1+-0xc3d+0x1*0x1d98;_0xc73bb3<_0x474f94['length']&&_0x4041dd>_0x474f94[_0xc73bb3];_0xc73bb3+=-0x25a0+-0xfb*-0x1+0x24a7)_0xcb5fbe=_0xc73bb3/(-0x632+-0x344+-0x8*-0x12f);console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData',_0xcb5fbe),this['dataWorker']||(this['dataWorker']=new YA(),await this['dataWorker']['appendGSpl'+'atData'](this,0xbca+-0x48f+-0x73b,_0x474f94));const _0x3f6fd1=this['getElement']('vertex');_0x3f6fd1&&(_0x3f6fd1['count']=this['numSplats']);const _0x4141e1=await this['dataWorker']['appendGSpl'+'atData'](_0x47f62b,_0xcb5fbe,_0x474f94,!(0x31*0xc4+-0x21ce+-0x3b6)),_0xe72d66=_0x4141e1['properties'],_0x28b96e=((_0x566532=this['getElement']('vertex'))==null?void(-0x281+-0x18ca+0x1*0x1b4b):_0x566532['properties'])??[];for(const _0xf27130 in _0xe72d66){const _0x2c1b10=_0x28b96e['find'](_0x1275cc=>_0x1275cc['name']===_0xf27130);_0x2c1b10?_0x2c1b10['storage']=_0xe72d66[_0xf27130]:_0x28b96e['push']({'type':'float','name':_0xf27130,'storage':_0xe72d66[_0xf27130],'byteSize':0x4});}this['transformD'+'ata']=_0x4141e1['transformD'+'ata'],this['numSplats']=_0xe72d66['x']['length'],console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData\x20nu'+'mSplats',this['numSplats']);}async['releaseSeq'+'Data'](_0x57976d){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20releaseSe'+'qData',_0x57976d),this['dataWorker']['releaseSeq'+'Data'](_0x57976d),this;}async['releaseAll'+'SeqData'](){var _0x548446;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20release\x20a'+'ll\x20SeqData'),(_0x548446=this['dataWorker'])==null||_0x548446['releaseAll'+'SeqData'](),this;}static['calcSplatA'+'abb'](_0x17aab0,_0x209ab2,_0x23892f,_0x22a4cb){_g(za,_0x209ab2,_0x23892f),yf['center']['set'](-0x2512+-0x5*-0x654+0x56e,-0x32*0x10+-0xe40+0x1160,0xe*-0x18d+-0x3e*0x56+0x6e*0x63),yf['halfExtent'+'s']['set'](_0x22a4cb['x']*(-0x24a3+0x7d*-0x31+0x3c92),_0x22a4cb['y']*(-0x1b5a+0x373+0x17e9),_0x22a4cb['z']*(-0x1584+-0x1300*0x2+0x3b86)),_0x17aab0['setFromTra'+'nsformedAa'+'bb'](yf,za);}['getProp'](_0x4950e9,_0x3c603d='vertex'){var _0x179cb3,_0x41deda;return(_0x41deda=(_0x179cb3=this['getElement'](_0x3c603d))==null?void(0xa43+-0x26*-0xda+-0x2a9f):_0x179cb3['properties']['find'](_0x2aac92=>_0x2aac92['name']===_0x4950e9))==null?void(0xc2f+0xc34+-0x1863):_0x41deda['storage'];}['getElement'](_0x2530f7){return this['elements']['find'](_0x51f973=>_0x51f973['name']===_0x2530f7);}['addProp'](_0x498238,_0x2f0ee6){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x498238,'storage':_0x2f0ee6,'byteSize':0x4});}['createIter'](_0x1b5c67,_0x2a37b1,_0x37b6cc,_0x218b13,_0xfc005f){return new ZA(this,_0x1b5c67,_0x2a37b1,_0x37b6cc,_0x218b13,_0xfc005f);}async['calcAabbAs'+'ync'](_0x4aafe4,_0x59620e){var _0x217d64,_0x1b62a7;if((_0x217d64=this['transformD'+'ata'])!=null&&_0x217d64['center']&&((_0x1b62a7=this['transformD'+'ata'])!=null&&_0x1b62a7['halfExtent'+'s'])){_0x4aafe4['center']['set'](this['transformD'+'ata']['center'][0x2*-0xb8d+-0x23b1+0x3acb],this['transformD'+'ata']['center'][-0x8*-0x25e+-0xe8*0x19+0x3b9],this['transformD'+'ata']['center'][0x9c5+-0x1bda+0x1a5*0xb]),_0x4aafe4['halfExtent'+'s']['set'](this['transformD'+'ata']['halfExtent'+'s'][-0xcc3+0x1b6f+-0xeac],this['transformD'+'ata']['halfExtent'+'s'][0x24aa+0x27+-0x1f0*0x13],this['transformD'+'ata']['halfExtent'+'s'][0x96a*0x1+-0x21a1+-0x813*-0x3]);return;}const _0x317d97=this['getProp']('x'),_0x562aea=this['getProp']('y'),_0xdbf613=this['getProp']('z'),_0x3bc96a=this['getProp']('scale_0'),_0x534ab7=this['getProp']('scale_1'),_0x32a284=this['getProp']('scale_2'),_0x539364=await(_0x59620e==null?void(-0x203b+0x829*-0x3+0x38b6):_0x59620e['calcAabb'](this['numSplats'],_0x317d97,_0x562aea,_0xdbf613,_0x3bc96a,_0x534ab7,_0x32a284));_0x4aafe4['center']['set'](_0x539364['center'][0x3*0x3aa+0x2084+0x1*-0x2b82],_0x539364['center'][-0x265b+0x10b+0x2551],_0x539364['center'][-0x86f+0x62+0x80f]),_0x4aafe4['halfExtent'+'s']['set'](_0x539364['halfExtent'+'s'][0x1f79+-0x8d9+-0x16a0],_0x539364['halfExtent'+'s'][-0x2022+0x10e*0xb+0x2ef*0x7],_0x539364['halfExtent'+'s'][-0x23f*0x5+-0x1e7c+0x29b9]);}['calcAabb'](_0x531f2b,_0x3e7dcc){let _0x5c94e2,_0x3c6b61,_0x2b89b4,_0x290a41,_0x4c9a2f,_0x4003c0,_0xd8305c=!(-0xfe4*0x2+0x1050+0xf78);const _0x59d16b=this['getProp']('x'),_0x23b9b1=this['getProp']('y'),_0x18a7e3=this['getProp']('z'),_0x555d8b=this['getProp']('scale_0'),_0x2ff20e=this['getProp']('scale_1'),_0x5da5f1=this['getProp']('scale_2');for(let _0x5208a4=0x35e+-0x1*-0x15c1+-0x1*0x191f;_0x5208a4<this['numSplats'];++_0x5208a4){if(_0x3e7dcc&&!_0x3e7dcc(_0x5208a4))continue;const _0x4c08e8=_0x59d16b[_0x5208a4],_0x256b5e=_0x23b9b1[_0x5208a4],_0x8399ed=_0x18a7e3[_0x5208a4],_0x3e5981=Math['max'](_0x555d8b[_0x5208a4],_0x2ff20e[_0x5208a4],_0x5da5f1[_0x5208a4]);if(!isFinite(_0x4c08e8)||!isFinite(_0x256b5e)||!isFinite(_0x8399ed)||!isFinite(_0x3e5981))continue;const _0x7142fe=(-0x9*0x453+0x12f4*0x2+0x105)*Math['exp'](_0x3e5981);_0xd8305c?(_0xd8305c=!(0x17c+-0x8*-0x256+0x3*-0x6b9),_0x5c94e2=_0x4c08e8-_0x7142fe,_0x3c6b61=_0x256b5e-_0x7142fe,_0x2b89b4=_0x8399ed-_0x7142fe,_0x290a41=_0x4c08e8+_0x7142fe,_0x4c9a2f=_0x256b5e+_0x7142fe,_0x4003c0=_0x8399ed+_0x7142fe):(_0x5c94e2=Math['min'](_0x5c94e2,_0x4c08e8-_0x7142fe),_0x3c6b61=Math['min'](_0x3c6b61,_0x256b5e-_0x7142fe),_0x2b89b4=Math['min'](_0x2b89b4,_0x8399ed-_0x7142fe),_0x290a41=Math['max'](_0x290a41,_0x4c08e8+_0x7142fe),_0x4c9a2f=Math['max'](_0x4c9a2f,_0x256b5e+_0x7142fe),_0x4003c0=Math['max'](_0x4003c0,_0x8399ed+_0x7142fe));}return _0xd8305c||(_0x531f2b['center']['set']((_0x5c94e2+_0x290a41)*(-0x3a*-0x83+-0x2477*-0x1+-0x3b*0x11f+0.5),(_0x3c6b61+_0x4c9a2f)*(-0x1133*-0x1+-0x1*-0x1f3+-0x1326+0.5),(_0x2b89b4+_0x4003c0)*(-0xe6b*0x1+-0x305*-0x1+0xb66+0.5)),_0x531f2b['halfExtent'+'s']['set']((_0x290a41-_0x5c94e2)*(0x1bcb+-0x8*0xdd+0x14e3*-0x1+0.5),(_0x4c9a2f-_0x3c6b61)*(0x1*-0x925+0x4*0x59f+0x1*-0xd57+0.5),(_0x4003c0-_0x2b89b4)*(0xb1b*0x2+-0xe98+-0x186*0x5+0.5))),!_0xd8305c;}['yieldToMai'+'n'](){var _0x1670ca;return(_0x1670ca=globalThis['scheduler'])!=null&&_0x1670ca['yield']?globalThis['scheduler']['yield']():new Promise(_0x2d4864=>{setTimeout(_0x2d4864,-0x16*0x1f+0x39f*0x6+-0x1310);});}['calcAabbEx'+'act'](_0x37b681,_0x408732){const _0x324983=new D(),_0x27bbdf=new le(),_0x3e1e24=new D(),_0x53802e=this['createIter'](_0x324983,_0x27bbdf,_0x3e1e24);let _0x593c19=!(0x7*0x100+0x20b9*0x1+-0x27b9);for(let _0x3696e4=-0x3b1+0x691*0x5+-0x1d24*0x1;_0x3696e4<this['numSplats'];++_0x3696e4)_0x408732&&!_0x408732(_0x3696e4)||(_0x53802e['read'](_0x3696e4),_0x593c19?(_0x593c19=!(-0xd4f+0x6*-0xbb+0x11b2),qn['calcSplatA'+'abb'](_0x37b681,_0x324983,_0x27bbdf,_0x3e1e24)):(qn['calcSplatA'+'abb'](mg,_0x324983,_0x27bbdf,_0x3e1e24),_0x37b681['add'](mg)));return!_0x593c19;}async['getCenters'](_0x1a56ff){const _0x26952a=this['getProp']('x'),_0x434ce7=this['getProp']('y'),_0x5f0645=this['getProp']('z');for(let _0x52f652=0x1d9b+-0x1*0x1685+0x38b*-0x2;_0x52f652<this['numSplats'];++_0x52f652)_0x1a56ff[_0x52f652*(0x20df+0x1*-0x1e7+0x13d*-0x19)+(-0x1*-0x25d3+0x449*-0x9+-0xa*-0x13)]=_0x26952a[_0x52f652],_0x1a56ff[_0x52f652*(0x2092+-0x1e4f+-0x240)+(-0x3c7*-0x9+-0x3*-0x1c4+0xd6*-0x2f)]=_0x434ce7[_0x52f652],_0x1a56ff[_0x52f652*(-0x375+0xcc9*-0x1+0x1041)+(-0x1bd6+-0x83b+0x2413*0x1)]=_0x5f0645[_0x52f652],_0x52f652%xf===-0x851*-0x1+0xdc2+0x1*-0x1613&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x3be325;if((_0x3be325=this['transformD'+'ata'])!=null&&_0x3be325['muT'])return this['transformD'+'ata']['muT'];const _0x3625fc=this['getProp']('t');return _0x3625fc?new Float32Array(_0x3625fc):void(0x5e5+0x3*-0x2d2+-0xdb*-0x3);}async['getTScale'](){const _0x58844b=this['getProp']('t_scale');if(!_0x58844b)return;const _0x10182c=new Float32Array(this['numSplats']);for(let _0x32eb6e=0x4c6+0x18fc+0x1a*-0x125;_0x32eb6e<this['numSplats'];++_0x32eb6e)_0x10182c[_0x32eb6e]=Math['exp'](_0x58844b[_0x32eb6e]),_0x32eb6e%xf===-0x1a89*0x1+0x83*-0x34+0x3525&&await this['yieldToMai'+'n']();return _0x10182c;}async['getMotion'](_0xe7942a){const _0x2069f6=this['getProp']('motion_0'),_0x464a30=this['getProp']('motion_1'),_0x71a45b=this['getProp']('motion_2');if(!(!_0x2069f6||!_0x464a30||!_0x71a45b)){for(let _0x506d12=-0xf7d+-0xf05+0xf41*0x2;_0x506d12<this['numSplats'];++_0x506d12)_0xe7942a[_0x506d12*(-0x3*0xa69+0x1b*-0x8f+0x2e53)+(-0x134d+0x4*-0x21f+-0x1*-0x1bc9)]=_0x2069f6[_0x506d12],_0xe7942a[_0x506d12*(-0xd45*-0x1+0x75*0x3b+-0x7*0x5bf)+(0x17*-0x2f+0xaa6+0x3*-0x224)]=_0x464a30[_0x506d12],_0xe7942a[_0x506d12*(-0x10+0x359*0x6+-0x1*0x1403)+(0x1*0x19a9+-0xd98+0xc0f*-0x1)]=_0x71a45b[_0x506d12],_0x506d12%xf===0x3a+0xb86+-0xbc0&&await this['yieldToMai'+'n']();}}['getTimeInd'+'ex'](){var _0x25a058;if((_0x25a058=this['transformD'+'ata'])!=null&&_0x25a058['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x4958ca=this['getProp']('time_index');if(_0x4958ca)return new Float32Array(_0x4958ca);}['calcFocalP'+'oint'](_0x434fae,_0x4dcc37){const _0x1365b4=this['getProp']('x'),_0x4b704c=this['getProp']('y'),_0x413dd3=this['getProp']('z'),_0x57cba4=this['getProp']('scale_0'),_0x1f341c=this['getProp']('scale_1'),_0x52be45=this['getProp']('scale_2');_0x434fae['x']=0x2338+0x4*-0x798+0x28*-0x1f,_0x434fae['y']=-0xcdf*-0x1+0x271+-0xf50,_0x434fae['z']=0x5*-0x3d5+-0x9f3+0x1d1c;let _0x540478=-0x2500+-0x369+0x2869;for(let _0x1dc353=0x1621+-0x1b*0x2f+-0x2*0x896;_0x1dc353<this['numSplats'];++_0x1dc353){if(_0x4dcc37&&!_0x4dcc37(_0x1dc353))continue;const _0x2637b2=_0x1365b4[_0x1dc353],_0x3268f7=_0x4b704c[_0x1dc353],_0x15d0e0=_0x413dd3[_0x1dc353];if(!isFinite(_0x2637b2)||!isFinite(_0x3268f7)||!isFinite(_0x15d0e0))continue;const _0x1d75a8=(0x17d*0x2+0x4d2*0x7+-0x24b7)/(0x166d+-0x1453+-0xb3*0x3+Math['exp'](Math['max'](_0x57cba4[_0x1dc353],_0x1f341c[_0x1dc353],_0x52be45[_0x1dc353])));_0x434fae['x']+=_0x2637b2*_0x1d75a8,_0x434fae['y']+=_0x3268f7*_0x1d75a8,_0x434fae['z']+=_0x15d0e0*_0x1d75a8,_0x540478+=_0x1d75a8;}_0x434fae['mulScalar']((0x17*-0x1+-0x24d+-0x1*-0x265)/_0x540478);}['renderWire'+'frameBound'+'s'](_0x1a9be0,_0x22dfce){const _0x5123de=new D(),_0x57b597=new le(),_0x3e8cb4=new D(),_0x24ee78=new D(),_0x3f1efb=new D(),_0x406c47=this['createIter'](_0x5123de,_0x57b597,_0x3e8cb4);for(let _0x4726e0=-0x2ef*-0x1+0xe6d*0x1+0x4*-0x457;_0x4726e0<this['numSplats'];++_0x4726e0)_0x406c47['read'](_0x4726e0),_g(za,_0x5123de,_0x57b597),za['mul2'](_0x22dfce,za),_0x24ee78['set'](_0x3e8cb4['x']*-(-0x12f5*-0x1+0x101d+-0x2310),_0x3e8cb4['y']*-(0x167*0x3+-0x5*0x446+-0x1*-0x112b),_0x3e8cb4['z']*-(0x7b1+-0x5c*0x1a+0x1a9)),_0x3f1efb['set'](_0x3e8cb4['x']*(-0xb5*0x6+0x2233+-0x1df3),_0x3e8cb4['y']*(0x1f74+-0x790+-0x17e2*0x1),_0x3e8cb4['z']*(0xc3d*-0x1+-0x2e7+0xf26)),_0x1a9be0['immediate']['drawWireAl'+'ignedBox'](_0x24ee78,_0x3f1efb,KA,!(0xf44*0x2+0x1eb3+-0x13*0x339),_0x1a9be0['defaultDra'+'wLayer'],za);}get['isCompress'+'ed'](){return!(0x9*-0x5+-0x25d*-0xd+-0x1e8b);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x58dca4=-0x1c6b+-0x60e*0x1+0x2279;_0x58dca4<-0x1c86+-0xdd5*-0x1+0x2*0x76f;++_0x58dca4)if(!this['getProp']('f_rest_'+_0x58dca4))return _0x58dca4;return 0x17*0x191+-0x1d2*-0xc+-0x39b2;})())]??0x1fb7+-0x28f*-0x6+-0x2f11*0x1;}['calcMorton'+'Order'](){const _0x32dec2=_0x3d2509=>{let _0x565cfe=_0x3d2509[0xa7*-0x1d+-0xb71+0x1e5c],_0xb41fb6=_0x3d2509[0x144e+0x17e3+0x4e9*-0x9];for(let _0x5a9a30=0x4fd*0x2+-0xb7d*0x1+-0xc2*-0x2;_0x5a9a30<_0x3d2509['length'];_0x5a9a30++)_0x3d2509[_0x5a9a30]<_0x565cfe&&(_0x565cfe=_0x3d2509[_0x5a9a30]),_0x3d2509[_0x5a9a30]>_0xb41fb6&&(_0xb41fb6=_0x3d2509[_0x5a9a30]);return{'min':_0x565cfe,'max':_0xb41fb6};},_0x5d4ef8=(_0x1db25d,_0xd65a7c,_0x53fa2d)=>{const _0xb67d62=_0x22d37b=>(_0x22d37b&=-0x153+0xcb7+-0x765,_0x22d37b=(_0x22d37b^_0x22d37b<<0x278+0x14*-0x2f+0x144)&-0xc17*0x1ca08d+0x11bde0bde+0x13d3afdcc,_0x22d37b=(_0x22d37b^_0x22d37b<<-0x16a2+-0x13aa+0x2a54)&0x6b4556+0x26c7fd+0x26ee2bc,_0x22d37b=(_0x22d37b^_0x22d37b<<-0x12e7+-0x93+-0x3e6*-0x5)&-0x3a71*0x1e7+-0x9a02e7+-0x41560a1*-0x1,_0x22d37b=(_0x22d37b^_0x22d37b<<-0x1f72+0x1658+0xd4*0xb)&0x548f9*-0x267+0x1494f43+-0x18449*-0xd8d,_0x22d37b);return(_0xb67d62(_0x53fa2d)<<0x23fb+0x2205*-0x1+-0x1f4)+(_0xb67d62(_0xd65a7c)<<0x3*-0x40f+-0x15*-0x9+0x1*0xb71)+_0xb67d62(_0x1db25d);},_0x50a519=this['getProp']('x'),_0x3f0894=this['getProp']('y'),_0x1c1aa0=this['getProp']('z'),{min:_0x3ac1,max:_0x1bbcf6}=_0x32dec2(_0x50a519),{min:_0x17e265,max:_0x4383f9}=_0x32dec2(_0x3f0894),{min:_0x4c135d,max:_0x9794ad}=_0x32dec2(_0x1c1aa0),_0x285a5b=_0x3ac1===_0x1bbcf6?-0x2ef*-0xb+-0x1303*0x1+0x2*-0x6a1:(0x3b*0x7d+0x2314+-0x3be3)/(_0x1bbcf6-_0x3ac1),_0x2a849b=_0x17e265===_0x4383f9?-0x1fb8+-0x1eff+-0xd*-0x4d3:(0x1cba*-0x1+0x1859+-0x1ad*-0x5)/(_0x4383f9-_0x17e265),_0x2da975=_0x4c135d===_0x9794ad?-0x1297*0x1+0xf*0x281+-0x12f8:(0x21*-0xfb+-0x7*0x107+0x2b8c)/(_0x9794ad-_0x4c135d),_0x37a3e6=new Map();for(let _0x327cbb=0xbb*0x35+-0x25ec+-0xcb;_0x327cbb<this['numSplats'];_0x327cbb++){const _0x4002f6=Math['min'](-0x1*-0x2e4+0x3d1*-0x2+0x8bd,Math['floor']((_0x50a519[_0x327cbb]-_0x3ac1)*_0x285a5b)),_0x56abd1=Math['min'](-0x107+-0x5b3+0x225*0x5,Math['floor']((_0x3f0894[_0x327cbb]-_0x17e265)*_0x2a849b)),_0x8e291d=Math['min'](0x1b25+-0x1*-0x1900+-0x3026,Math['floor']((_0x1c1aa0[_0x327cbb]-_0x4c135d)*_0x2da975)),_0x21e93b=_0x5d4ef8(_0x4002f6,_0x56abd1,_0x8e291d),_0x63bb48=_0x37a3e6['get'](_0x21e93b);_0x63bb48?_0x63bb48['push'](_0x327cbb):_0x37a3e6['set'](_0x21e93b,[_0x327cbb]);}const _0x5cbd4e=Array['from'](_0x37a3e6['keys']())['sort']((_0x48c152,_0x4a20f0)=>_0x48c152-_0x4a20f0),_0x1ff0c0=new Uint32Array(this['numSplats']);let _0x5016cd=-0x4*0x29d+0x2*0x1b+0xa3e;for(let _0x1f0c09=-0x90b*-0x1+-0x2*0x2ea+-0x337*0x1;_0x1f0c09<_0x5cbd4e['length'];++_0x1f0c09){const _0x3dcdb1=_0x37a3e6['get'](_0x5cbd4e[_0x1f0c09]);for(let _0x127623=-0x2199+-0x1740+0x38d9;_0x127623<_0x3dcdb1['length'];++_0x127623)_0x1ff0c0[_0x5016cd++]=_0x3dcdb1[_0x127623];}return _0x1ff0c0;}['reorder'](_0x3c28d6){const _0xf0eb68=new Map(),_0x4bac17=_0xff26c7=>{if(_0xf0eb68['has'](_0xff26c7)){const _0x22eef0=_0xf0eb68['get'](_0xff26c7);return _0xf0eb68['delete'](_0xff26c7),_0x22eef0;}return new ArrayBuffer(_0xff26c7);},_0x58c90b=_0x1b367f=>{_0xf0eb68['set'](_0x1b367f['byteLength'],_0x1b367f);},_0x508388=_0x545ce8=>{const _0x456a3e=new _0x545ce8['constructo'+'r'](_0x4bac17(_0x545ce8['byteLength']));for(let _0x2ba57f=0x4*0x6a3+0x644*-0x1+-0x1448;_0x2ba57f<_0x3c28d6['length'];_0x2ba57f++)_0x456a3e[_0x2ba57f]=_0x545ce8[_0x3c28d6[_0x2ba57f]];return _0x58c90b(_0x545ce8['buffer']),_0x456a3e;};this['elements']['forEach'](_0x3ca80d=>{_0x3ca80d['properties']['forEach'](_0x5c32b4=>{_0x5c32b4['storage']&&(_0x5c32b4['storage']=_0x508388(_0x5c32b4['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}async function QA(){const _0x54f50b=new Float32Array(0xf*-0x3e+-0x2021+-0xc*-0x2fb);new Int32Array(_0x54f50b['buffer']);let _0x4e6eb8=-0x223f+0x27*-0xd0+-0x41ef*-0x1,_0x243a15={};self['onmessage']=async _0x341945=>{const {data:_0x3634d2}=_0x341945;switch(_0x3634d2['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x5d7be2(_0x3634d2['properties'],_0x3634d2['timeIndex'],_0x3634d2['timeOption']);break;case'releaseSeq'+'Data':_0x18ff39(_0x3634d2['index']);break;case'releaseAll'+'SeqData':_0x5a0db5();break;case'destroyWor'+'ker':_0x30af4b();break;}};const _0x2a97fa=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x3a4416=0x8c*0x1c+-0x12*0x145+-0xa*-0xc1;_0x3a4416<0x6*0x191+0xef*0x25+0x1*-0x2bc4;++_0x3a4416)if(!_0x243a15['f_rest_'+_0x3a4416])return _0x3a4416;return 0x30*0x65+-0x16e1*-0x1+-0x29a4;})())]??0xdb6+-0x25a5+0x17ef),_0x5d7be2=(_0x28bbf7,_0x1c09b4,_0x3c9cd4)=>{var _0x1ce536,_0x276348;_0x4e6eb8+=(((_0x1ce536=_0x28bbf7['position'])==null?void(-0x2573*0x1+0x48f*0x3+-0x166*-0x11):_0x1ce536['length'])??0x5*-0x611+-0xb8e+0x29e3)/(-0x161f+-0x1*-0xe3b+0x7e7),console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20append'+'GSplatData'+'\x20numSplats',_0x4e6eb8,(((_0x276348=_0x28bbf7['position'])==null?void(0x887+-0x86*0x10+0xd*-0x3):_0x276348['length'])??0x748+0x55b+0x5*-0x287)/(-0x4c+-0xa67*0x2+0x151d));const _0x464f68=Object['keys'](_0x28bbf7);for(let _0x2fb2d5=0x23*0xb7+-0x625+0x97*-0x20;_0x2fb2d5<_0x464f68['length'];_0x2fb2d5++){const _0x20208a=_0x464f68[_0x2fb2d5],_0x11b3f3=_0x28bbf7[_0x20208a],_0xb1127c=_0x243a15[_0x20208a]??new Float32Array(-0x1*-0x12f4+0x1b0f+-0x2e03);if(_0x11b3f3){let _0x117b76=null;switch(_0x20208a){case'position':_0x117b76=new Float32Array(_0x4e6eb8*(-0xfe+0x8d1+-0x7d0));break;case'color_opac'+'ity':_0x117b76=new Uint16Array(_0x4e6eb8*(0x1046+0x6*0x364+0x1*-0x249a));break;case'scale':_0x117b76=new Uint16Array(_0x4e6eb8*(0x10c7+0x632+-0x16f6));break;case'motion':_0x117b76=new Float32Array(_0x4e6eb8*(-0x131*-0x18+0x1839+0x1a67*-0x2));break;case'rotation':_0x117b76=new Float32Array(_0x4e6eb8*(0x141e+0x9a9*0x4+0x1*-0x3abf));break;default:_0x117b76=new Float32Array(_0x4e6eb8);break;}_0x117b76['set'](_0xb1127c,0x3b9*-0x1+0x190+0x7*0x4f),_0x117b76['set'](_0x11b3f3,_0xb1127c['length']),_0x243a15[_0x20208a]=_0x117b76;}}const _0xefb035={};Object['keys'](_0x243a15)['forEach'](_0x5f5cc=>{_0x5f5cc==='scale'||_0x5f5cc==='color_opac'+'ity'?_0xefb035[_0x5f5cc]=new Uint16Array(_0x243a15[_0x5f5cc]['buffer']['slice']()):_0xefb035[_0x5f5cc]=new Float32Array(_0x243a15[_0x5f5cc]['buffer']['slice']());});const _0x40d7e3=Object['keys'](_0xefb035)['map'](_0x3d7f03=>_0xefb035[_0x3d7f03]['buffer']),_0x1a7c3b=_0x486dcd(),_0x146cab=Object['keys'](_0x1a7c3b)['map'](_0x26728e=>_0x1a7c3b[_0x26728e]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0xefb035,'transformData':_0x1a7c3b},_0x40d7e3['concat'](_0x146cab));},_0x486dcd=()=>{const _0x25f278=_0x243a15['position']['length']/(0xe+-0xaa5+0x76*0x17),_0x392cf3=_0x243a15['position'],_0x9a3b14=_0x243a15['scale'],_0x5f44a3=_0x243a15['rotation'],_0x5ecae4=_0x243a15['motion'],_0x14fd3b=_0x243a15['t'],_0x4c469b=_0x243a15['t_scale'],_0x125f35=_0x243a15['time_index'],_0x1cf4e3=_0x243a15['color_opac'+'ity'],_0x3921b9=(_0x14fd3b==null?void(0x15a2+-0x1*-0x121d+-0x19*0x197):_0x14fd3b['length'])>0xb67+-0x1346*-0x2+0x31f3*-0x1;let _0xc9ed7a=null,_0x190952=null,_0x36bdbf=null,_0x30a6d2=null;_0x3921b9&&(_0x190952=new Float32Array(_0x25f278*(-0xe7d+-0x1*0x13e5+0x2265)),_0x30a6d2=new Float32Array(_0x25f278),_0xc9ed7a=new Float32Array(_0x5ecae4['buffer']['slice']()),_0x36bdbf=new Float32Array(_0x5ecae4['buffer']['slice']()));const _0x42ab01=new Float32Array(_0x392cf3['buffer']['slice']()),_0x4fe51d=new Float32Array(_0x392cf3['buffer']['slice']()),_0x105dc8=new Uint16Array(_0x1cf4e3['buffer']['slice']()),_0x110cd5=new Uint16Array(_0x9a3b14['buffer']['slice']()),_0xdb0e49=new Float32Array(_0x5f44a3['buffer']['slice']());for(let _0x53b016=-0x481*-0x7+0x101c+0x54b*-0x9;_0x53b016<_0x25f278;++_0x53b016)_0x3921b9&&_0x190952&&_0x30a6d2&&(_0x30a6d2[_0x53b016]=_0x4c469b?Math['exp'](_0x4c469b[_0x53b016]):-0x3b*0x48+0x9d7+-0x13*-0x5b,_0x190952[_0x53b016*(-0xf*0x131+0x5ba*0x1+0x8*0x185)+(0x1ac4+0x2254+-0x3d18)]=_0x14fd3b?_0x14fd3b[_0x53b016]:0x1e7*-0x9+0x173b+-0x61c,_0x190952[_0x53b016*(0x1a7f+0xfe3+0x2a5f*-0x1)+(-0x1f49+0xb*0x2af+-0x97*-0x3)]=_0x30a6d2[_0x53b016]);const _0x40577c=_0x49a09c();let _0x1a84bb={'dataColor':_0x105dc8,'dataCenters':_0x4fe51d,'dataPosition':_0x42ab01,'dataScale':_0x110cd5,'dataRotation':_0xdb0e49,..._0x40577c};return _0x3921b9&&(_0x1a84bb={..._0x1a84bb,'dataMotion':_0xc9ed7a,'dataTime':_0x190952,'motion':_0x36bdbf,'tScaleArray':_0x30a6d2,'muT':new Float32Array(_0x14fd3b),'timeIndex':new Float32Array(_0x125f35)}),_0x1a84bb;},_0xcdebab=_0x42b6df=>{const _0x5c3dd1=[];for(let _0x1e1009=0x16f+-0x3e1+0x272;_0x1e1009<_0x42b6df;++_0x1e1009)_0x5c3dd1['push'](_0x243a15['f_rest_'+_0x1e1009]);return _0x5c3dd1;},_0x49a09c=()=>{const _0xae5b35=_0x2a97fa();if(_0xae5b35<=-0x24*-0xf2+-0x2*-0xb9d+-0x3942)return{};const _0x2759c0=_0x243a15['x']['length'],_0x19ae74=new Uint32Array(_0x2759c0*(0x810+0x19c4+-0x21d0)),_0x6be823=new Uint32Array(_0x2759c0*(-0x119b+-0x247*-0xb+-0x76e)),_0x36113f=new Uint32Array(_0x2759c0*(-0x1*0x1ff9+0x1df7+0x206)),_0x25cb33=new Uint32Array(_0x2759c0*(0xab*0x27+0x1200+-0x1*0x2c09)),_0x236449={0x1:0x3,0x2:0x8,0x3:0xf}[_0xae5b35],_0x56af0a=_0xcdebab(_0x236449*(-0x30d+-0xbde+0xeee)),_0x2f3ef8=-0x18e4*-0x1+0x1*-0xb79+-0x1*0x56c,_0x2e07ef=0x2fc+0xd*-0x35+-0x1*-0x3b4,_0x578030=new Float32Array(-0x1c1*-0x5+-0x7e*0x8+-0x4d4*0x1),_0x3ac852=new Uint32Array(_0x578030['buffer']),_0x13ccb8=new Array(_0x236449*(0x8*0xc3+-0x104c+-0xa37*-0x1))['fill'](-0x1a27+0x7f5*-0x2+0x2a11);for(let _0x5e7ba7=0xa1b+-0x3*-0xc76+-0x2f7d;_0x5e7ba7<_0x2759c0;++_0x5e7ba7){for(let _0x3b0e64=-0x7*0x4f+-0x7*-0x541+-0x6*0x5c5;_0x3b0e64<_0x236449;++_0x3b0e64)_0x13ccb8[_0x3b0e64*(0x15*0x1d+0x207f*-0x1+-0x1e21*-0x1)]=_0x56af0a[_0x3b0e64][_0x5e7ba7],_0x13ccb8[_0x3b0e64*(-0x116*0x11+0x1159*0x1+0x120)+(-0x4d9*-0x1+-0xe2+0x2*-0x1fb)]=_0x56af0a[_0x3b0e64+_0x236449][_0x5e7ba7],_0x13ccb8[_0x3b0e64*(0xd5*0x26+0xabd+-0x2a58)+(-0x194e+-0xd67+0x26b7)]=_0x56af0a[_0x3b0e64+_0x236449*(0x3*0xc82+-0x5*0x655+-0x5db)][_0x5e7ba7];let _0xd0952b=_0x13ccb8[-0x6b5*-0x1+-0x5*0xa9+-0x368];for(let _0x23dc65=-0x47d+0xc6+0x3b8;_0x23dc65<_0x236449*(0x28c*0x1+-0x819*-0x1+-0xaa2);++_0x23dc65)_0xd0952b=Math['max'](_0xd0952b,Math['abs'](_0x13ccb8[_0x23dc65]));if(_0xd0952b!==0x4*0x4e1+0x1007+-0xbd9*0x3){for(let _0x39db0a=-0x1*-0x503+-0x1c84+0x1781;_0x39db0a<_0x236449;++_0x39db0a)_0x13ccb8[_0x39db0a*(0x4a+0x41*0x95+-0x261c)+(0x2268+-0x15d6+-0xc92*0x1)]=Math['max'](0x7c5+0x184b+0x6*-0x558,Math['min'](_0x2f3ef8,Math['floor']((_0x13ccb8[_0x39db0a*(0x762+-0x15d0+0xe71)+(-0x2*0x15+-0x1271+-0x129b*-0x1)]/_0xd0952b*(-0x2430+-0x6b1+0x2ae1+0.5)+(-0x1f08+-0x2*0xe11+-0x1d95*-0x2+0.5))*_0x2f3ef8+(-0x25b5+0xf*-0x25a+-0xa6d*-0x7+0.5)))),_0x13ccb8[_0x39db0a*(0x7*-0x46a+-0x2*0x417+0x2717)+(0x25*-0xe8+0xa7*-0x2+0x22d7)]=Math['max'](-0x1*-0xa40+-0xab*0x7+-0x593,Math['min'](_0x2e07ef,Math['floor']((_0x13ccb8[_0x39db0a*(0x7f*-0x37+0x24d7*0x1+-0x98b)+(0x2*-0x12b3+-0x5*-0x449+0xa*0x199)]/_0xd0952b*(-0x1*-0x1b3b+-0x1086+-0xab5+0.5)+(-0x124f*-0x2+0x1b89+-0x4027+0.5))*_0x2e07ef+(0x1329+-0x22b3+0xf8a+0.5)))),_0x13ccb8[_0x39db0a*(0x1*0x549+0x1*-0x4a5+-0x7*0x17)+(-0x257e+0x1*0xafe+-0x3a*-0x75)]=Math['max'](0x97f+-0x71e+0x3*-0xcb,Math['min'](_0x2f3ef8,Math['floor']((_0x13ccb8[_0x39db0a*(-0x6f0*0x1+-0x9d*-0x29+-0x1232)+(0xd49*0x1+-0x3*-0x787+-0x23dc)]/_0xd0952b*(-0x1*-0x526+-0x1c0e+-0x5ba*-0x4+0.5)+(-0xb*0x7b+-0x123*-0x1d+-0x6*0x49d+0.5))*_0x2f3ef8+(0x1*-0x16aa+0xe11+0x899+0.5))));_0x578030[0x22e1*-0x1+-0x189d+0x3b7e]=_0xd0952b,_0x19ae74[_0x5e7ba7*(0x4*-0x1cd+0x139*-0x3+-0x3*-0x3a1)+(-0x67*0xb+-0x1*-0x25b5+-0x2148)]=_0x3ac852[0x11b6*-0x2+0x7cc*-0x4+0x429c],_0x19ae74[_0x5e7ba7*(-0x844*-0x1+-0x3*-0x34b+-0x1221)+(-0x1*-0x3f4+-0x21ce+0x1*0x1ddb)]=_0x13ccb8[0x219+0xc*0x1d7+-0x182d]<<0x2*-0x103c+-0x1*0x1369+0x33f6|_0x13ccb8[-0x5af*-0x1+0x24*0xc7+-0x21aa]<<0x53b*0x7+-0x81*0x25+-0x11ed|_0x13ccb8[-0xecd+0x2610+-0x1741],_0x19ae74[_0x5e7ba7*(0x1de7+-0x1503+-0x8e0)+(-0x68*-0x3d+0x509*-0x3+-0x5*0x1ef)]=_0x13ccb8[-0xfa1+0x1d3b+-0x7*0x1f1]<<0x2*-0xbb3+-0x21f2+0x396d|_0x13ccb8[0x1*-0x699+-0x132e+0x19cb]<<-0x3*0x2dd+0x3b*0x9d+-0x1b8d|_0x13ccb8[-0x2627*-0x1+0x2450+0xd*-0x5ba],_0x19ae74[_0x5e7ba7*(-0x17c*0x6+0x6*-0x254+0x4*0x5b9)+(0x9b*-0x3c+-0x37*0x27+0x2cb8)]=_0x13ccb8[-0x364+-0x1*0x1c22+0x2a1*0xc]<<0x62a+-0x47*0x7f+0x1d24|_0x13ccb8[-0x35d*0xa+-0x18f7+-0x38*-0x10c]<<-0x16c*0x11+0x1f92+-0x75b|_0x13ccb8[-0x1*0x17e9+-0x1f6*0x11+-0xb*-0x535],_0xae5b35>-0x1269+-0x3*0x38b+0x1d0b&&(_0x6be823[_0x5e7ba7*(0x149*0x13+0x11*-0x5+-0x4f*0x4e)+(0x17c9+-0x1ad4+-0x1*-0x30b)]=_0x13ccb8[0x88*-0x34+0xb2b*-0x3+0x3d2a]<<-0x4b1*0x1+-0x2*0x1180+0x27c6|_0x13ccb8[-0x24bf+-0x1*0x178d+-0x1*-0x3c56]<<-0x18b2+-0x137a+0x2c37|_0x13ccb8[-0x2386+-0x1*-0x150d+-0x1*-0xe84],_0x6be823[_0x5e7ba7*(-0x1ad1*-0x1+0x22a8+-0x3d75)+(-0x255*-0x1+0x1769+-0x19bd)]=_0x13ccb8[-0x1334+-0x19c1+0x2d01]<<0x620+-0x1c6a+0x165f*0x1|_0x13ccb8[-0x60*-0x4b+0x115f*-0x2+0x3*0x239]<<-0xb7*-0x19+-0x6b*-0x52+-0x341a|_0x13ccb8[-0x75*-0x43+-0x1115*-0x1+-0x2fa6],_0x6be823[_0x5e7ba7*(0x1cdb+0xff1+-0x2*0x1664)+(0xd2a+-0xe3+-0xc45)]=_0x13ccb8[0x1540+-0x1*0x7d1+-0xd60]<<-0x3*0x372+0x26b*-0x6+0x18ed|_0x13ccb8[-0x320+0xf7f*-0x2+-0x1*-0x222e]<<0x1406+-0x1760+0x365|_0x13ccb8[0xb*0xa+-0x5*0x112+0x4fd],_0x6be823[_0x5e7ba7*(0x14*-0x19c+0x406+0x1c2e)+(-0x2161+-0x77b*0x3+0x37d5*0x1)]=_0x13ccb8[0x2*-0x30f+0x2035*0x1+-0x1*0x1a05]<<-0x3*-0x786+0x13*-0xed+-0x4e6|_0x13ccb8[-0x1dc5*0x1+0xd78+0x1060]<<0x22e5*-0x1+0x2*-0x1c5+0x267a|_0x13ccb8[-0x477+0x11*0x205+0x1dca*-0x1],_0xae5b35>0x223*-0xe+0xbb1*-0x1+0x299d?(_0x36113f[_0x5e7ba7*(-0x1e1+0x362+-0x17d)+(-0x2388+-0xf07*0x2+0x5*0xd1e)]=_0x13ccb8[0x1*-0x269a+0xe6*0x25+0xc7*0x7]<<0x1*-0x42c+0x15bb+-0x117a|_0x13ccb8[-0x8ba+-0xb7b*-0x3+-0x19a1]<<0x3cb*0x6+-0x133+-0x1584|_0x13ccb8[0x8ab+-0x1617+0xd83],_0x36113f[_0x5e7ba7*(0x18e0+-0x50+-0x188c)+(-0x1*0x14e0+-0x1459*-0x1+-0x4*-0x22)]=_0x13ccb8[0x3b*-0x8+0x78e*0x2+-0xd2c]<<-0xf58+-0x21c+-0x43*-0x43|_0x13ccb8[0x577+0xcc1+0x1*-0x121f]<<-0x1*-0x100b+0x13*-0xd6+-0xa*0x3|_0x13ccb8[-0x2120*-0x1+-0xb*0xb5+-0x193f],_0x36113f[_0x5e7ba7*(-0x46b+-0x549+0x4*0x26e)+(-0x538*-0x1+-0x5ab*-0x4+-0x1be2)]=_0x13ccb8[0x2324+0x75e*0x3+-0x3923]<<-0x1340+0x2058+-0xd03*0x1|_0x13ccb8[-0x3*0x7cf+-0x95*0xa+0x1d5b]<<0x1349+-0xbf3+-0x1*0x74b|_0x13ccb8[0x2*0x83a+-0x213+-0xe44],_0x36113f[_0x5e7ba7*(-0x24c8+0x1*-0x249b+0x4967)+(-0x6*0x543+-0x46+0x1fdb)]=_0x13ccb8[-0x11*-0x179+-0x13*-0xe9+-0x709*0x6]<<-0x22f4+0x1e8f*0x1+0x2*0x23d|_0x13ccb8[0x1ae3+-0x12*-0x6b+0xe*-0x273]<<-0x946+-0x24fd+0x2e4e|_0x13ccb8[-0x1*0x8c9+0x2560+-0x411*0x7],_0x25cb33[_0x5e7ba7*(0x246f+0x142+0x3*-0xc8f)+(-0x1*-0x1652+-0x2317+0xcc5)]=_0x13ccb8[0x904+-0x99e+0xbb]<<-0x3*0x841+0xb51*0x1+0xd87|_0x13ccb8[-0x2*0xe17+-0xab+0x1cfb]<<0x1*0x223+-0x1942+0x172a|_0x13ccb8[0x4*0x41c+0x5f*0x25+-0x8*0x3c1],_0x25cb33[_0x5e7ba7*(0x18c4+-0x1d62+0x4a2)+(0x1*0x80+0x59f*-0x2+-0x7*-0x189)]=_0x13ccb8[0x10ea+0xcce+-0x1d94]<<-0x2524+0x25f1*-0x1+0x4b2a*0x1|_0x13ccb8[0x64c+-0x243a*0x1+-0x1*-0x1e13]<<0x1ca*-0xa+0x9ac*0x2+-0x169|_0x13ccb8[0xf78+-0x299*-0x8+-0x241a],_0x25cb33[_0x5e7ba7*(0xf8*0x5+-0x2*-0x765+-0x139e)+(-0x1*0x93e+0x26d0+-0x158*0x16)]=_0x13ccb8[0x26c6+0x2322+0x4f*-0xef]<<0x1ab1+0x2*0xee+-0x1*0x1c78|_0x13ccb8[0x160a+-0x1*-0xeca+-0x24ac]<<0x1389+0x167e+-0x29fc|_0x13ccb8[0x2f*0x4d+0x2*0x617+-0x1a28],_0x25cb33[_0x5e7ba7*(0xff6+-0x18e+-0x4*0x399)+(0x340+0x264+0x5a1*-0x1)]=_0x13ccb8[0x3*-0x16f+0x110a+-0xc93]<<0x474+-0x2ba*0x3+0x3cf|_0x13ccb8[0x1*0x1a4f+0x100f+-0x115*0x27]<<-0x1b25+0x1*-0x21d2+-0x26*-0x19b|_0x13ccb8[0x1ffc+0x109f*0x2+0x2087*-0x2]):_0x36113f[_0x5e7ba7]=_0x13ccb8[-0x22ee+-0x1515+0x5*0xb38]<<0x43*0x1e+-0xb67+0x3a2|_0x13ccb8[0xe4*-0xd+-0x749*-0x1+-0x1*-0x461]<<-0x1d*-0x56+0x1*0x597+-0xf4a|_0x13ccb8[-0xa25+0x8*-0x206+0x1a6c]);}}return{'sh1to3Data':_0x19ae74,'sh4to7Data':_0x6be823,'sh8to11Data':_0x36113f,'sh12to15Data':_0x25cb33};},_0x18ff39=_0x87dea3=>{if(!_0x243a15['time_index'])return;const _0x4e766a=_0x243a15['time_index']['findIndex'](_0x28487b=>_0x28487b===_0x87dea3);let _0x138e77=_0x243a15['time_index']['findIndex']((_0x3b035d,_0x4ad7f0)=>_0x3b035d!==_0x87dea3&&_0x4ad7f0>_0x4e766a);if(_0x138e77===-(0x1205+-0x3*0x139+0x1*-0xe59)&&_0x4e766a===-(-0x1*-0x1d8b+-0x1056+0x34*-0x41))return;_0x138e77===-(0x3f*0x75+-0x7eb+-0x14df)&&_0x4e766a!==-(-0x1bdc+-0x19a*0x15+0x3d7f)&&(_0x138e77=_0x243a15['time_index']['length']),_0x4e6eb8-=_0x138e77-_0x4e766a,console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20releas'+'eSeqData\x20n'+'umSplats',_0x4e6eb8,_0x138e77-_0x4e766a);const _0x1577f1=Object['keys'](_0x243a15);for(let _0x13e67d=0xc15+0x38b*-0x1+-0x88a;_0x13e67d<_0x1577f1['length'];_0x13e67d++){const _0x2aef37=_0x1577f1[_0x13e67d],_0x5d2cfe=_0x243a15[_0x2aef37];if(_0x5d2cfe){let _0x582da1=0xd9f*-0x1+0x125a+0x1*-0x4ba;switch(_0x2aef37){case'position':_0x582da1=0x15a5+-0x1545+0x1*-0x5d;break;case'color_opac'+'ity':_0x582da1=0x469*0x3+-0x1134*0x1+0x1*0x3fd;break;case'scale':_0x582da1=-0x1dee+0x12c3+-0x1*-0xb2e;break;case'motion':_0x582da1=0x9a2+-0x552+0x3*-0x16f;break;case'rotation':_0x582da1=-0x1*0x224f+0x1*0x1ac9+0x789;break;default:_0x582da1=0x1*0x1502+-0x1c16+0x715;break;}const _0x1d1648=new Float32Array(_0x4e6eb8*_0x582da1);_0x4e766a>0x49*0x5b+-0x88f+0x2a*-0x6a?(_0x1d1648['set'](_0x5d2cfe['subarray'](-0x992+0x1*0x26d3+-0x1d41*0x1,_0x4e766a*_0x582da1),0x16db+0xca9*0x1+-0x2384),_0x1d1648['set'](_0x5d2cfe['subarray'](_0x138e77*_0x582da1),_0x4e766a*_0x582da1)):_0x1d1648['set'](_0x5d2cfe['subarray'](_0x138e77*_0x582da1),0x7*-0x2a8+-0x1bba+-0xb*-0x436),_0x243a15[_0x2aef37]=_0x1d1648;}}},_0x5a0db5=()=>{const _0x79195d=Object['keys'](_0x243a15);for(let _0x301351=0x1*0x1b6f+0x1191+0x140*-0x24;_0x301351<_0x79195d['length'];_0x301351++){const _0x428b86=_0x79195d[_0x301351];_0x243a15[_0x428b86]&&(_0x243a15[_0x428b86]=[]);}},_0x30af4b=()=>{_0x243a15={},_0x4e6eb8=0x15c*0x5+-0xb5*0x1d+0xdb5;};}class JA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+QA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x78291,_0x504729,_0x2e93b1,_0x29444c=!(0x21ee+-0x846+0xb*-0x255)){var _0x1c3752,_0x5019c4;const _0x37a721={};return _0x78291['elements'][0x6*0x1e1+0x496*0x5+-0x2234]['properties']['forEach'](_0x97cbb4=>{_0x37a721[_0x97cbb4['name']]=_0x97cbb4['storage'];}),_0x29444c?(_0x1c3752=this['worker'])==null||_0x1c3752['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x37a721,'timeIndex':_0x504729,'timeOption':_0x2e93b1},_0x78291['elements'][-0xc*-0x2ea+0x1*0x10e7+-0x10f*0x31]['properties']['map'](_0x4a5c9f=>_0x4a5c9f['storage']['buffer'])):(_0x5019c4=this['worker'])==null||_0x5019c4['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x37a721,'timeIndex':_0x504729,'timeOption':_0x2e93b1}),new Promise(_0x27e50f=>{this['worker']['onmessage']=_0x119c51=>{if(!this['worker'])return;const {data:_0x3456a5}=_0x119c51;_0x3456a5['type']==='newAppendD'+'ata'&&_0x27e50f(_0x3456a5);};});}async['releaseSeq'+'Data'](_0x4e2ae4){var _0x40184d;(_0x40184d=this['worker'])==null||_0x40184d['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x4e2ae4});}async['releaseAll'+'SeqData'](){var _0x1c5705;(_0x1c5705=this['worker'])==null||_0x1c5705['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x4f8952;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x4f8952=this['worker'])==null||_0x4f8952['terminate'](),this['worker']=null);}}const gc=new te(),gg=new le(),eC=new ie(0x22*-0x5+-0x99*-0x23+-0x1*0x1440,0x1a1f+-0x16a6+0x6f*-0x8,0x16d6+-0xeb4+-0x822,-0x204+-0x123f*-0x1+-0x103b+0.4),Sg=-0x1*-0xfeda+0xad8a*0x6+-0x2*0x1016b;class tC{constructor(_0x5478ef,_0x51853d,_0x573498,_0x323c02,_0x31db0d,_0x1e2f7d){const _0x4d6a3b=_0x5478ef['getProp']('position'),_0x3be112=_0x5478ef['getProp']('color_opac'+'ity'),_0x409589=_0x5478ef['getProp']('scale'),_0x1ccea6=_0x5478ef['getProp']('motion'),_0x40a436=_0x5478ef['getProp']('rotation');this['read']=_0x5dab1b=>{_0x51853d&&_0x51853d['set'](_0x4d6a3b[_0x5dab1b*(0x1bbc+-0xe7b*-0x1+-0x2a34*0x1)+(0x1ff3+-0x14ec+0x3*-0x3ad)],_0x4d6a3b[_0x5dab1b*(-0x88*-0x49+0x1*0x106d+-0x3732)+(0x1103+-0x1*0x1cc6+0xbc4*0x1)],_0x4d6a3b[_0x5dab1b*(-0x1*0x1097+-0x93c*-0x3+-0xb1a)+(-0x21fa+-0x127b*0x2+-0x9*-0x7e2)]),_0x573498&&_0x573498['set'](_0x40a436[_0x5dab1b*(0x47f*0x2+0x6*0x416+-0x157*0x19)+(0x1085+0x2258+-0x32dd)],_0x40a436[_0x5dab1b*(0x25d9+-0x2614+0x3e)+(0x122b*-0x2+-0x5*0xed+-0x1c8*-0x17)],_0x40a436[_0x5dab1b*(-0x1457+-0x3*-0x119+0x1*0x110f)+(-0x8ef+0x2182+-0x14b*0x13)]),_0x323c02&&_0x323c02['set'](_0x409589[_0x5dab1b*(-0x13c2+0x1*-0x127d+0x2642)+(0x7*-0x1af+0x1*-0x9dd+-0x146*-0x11)],_0x409589[_0x5dab1b*(0x280*0x4+0x95c+-0x1359*0x1)+(-0x20b1+-0x26b3+0x4765)],_0x409589[_0x5dab1b*(0x13c4+-0x134a+0x1*-0x77)+(-0x1079*0x1+0xf*-0x1b+-0x484*-0x4)]),_0x1e2f7d&&_0x1ccea6&&_0x1e2f7d['set'](_0x1ccea6[_0x5dab1b*(-0x35*-0x71+0x1b36+-0x2*0x194c)+(0x1*0x24a7+-0x2c3*-0x1+-0x276a)],_0x1ccea6[_0x5dab1b*(0xdf*-0x2c+-0x1071+-0xdb2*-0x4)+(0xca6+0x1*0x2240+0x2ee5*-0x1)],_0x1ccea6[_0x5dab1b*(0x1da9+0x132e+-0x30d4)+(-0x1*0x1246+0x1133+0x115)]),_0x31db0d&&_0x31db0d['set'](_0x3be112[_0x5dab1b*(-0x1*-0x28f+-0x1*0xe6b+0xbe0)+(0xc44+-0xf80+0x33c)],_0x3be112[_0x5dab1b*(-0x23d9*0x1+0x40f*-0x4+0x3419)+(0x1bd6+0x94a+-0x1*0x251f)],_0x3be112[_0x5dab1b*(-0x8*-0x57+0x1a02+0xf5*-0x1e)+(0xf*-0x189+-0x10d+0x2*0xc0b)],_0x3be112[_0x5dab1b*(-0x757*-0x3+0x1553+-0x2b54)+(0x28a*-0x4+-0xb3+-0x6b*-0x1a)]);};}}const sC=(_0x36e365,_0x2b91d4,_0x14e6ac)=>{gg['set'](_0x14e6ac['x'],_0x14e6ac['y'],_0x14e6ac['z'],_0x14e6ac['w'])['normalize'](),_0x36e365['setTRS'](_0x2b91d4,gg,D['ONE']);};class iC{constructor(_0x369c2d,_0x4b28b7=[],_0x358dc7=[]){h(this,'elements'),h(this,'properties'),h(this,'numSplats',-0x1524+-0x1395+0x28b9),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x3a0dce;(_0x3a0dce=this['dataWorker'])==null||_0x3a0dce['destroy'](),this['dataWorker']=null;});var _0x36aa25,_0x1c3214,_0x5ea8f9;this['elements']=_0x369c2d,this['properties']=_0x358dc7,this['numSplats']=((_0x36aa25=this['getElement']('vertex'))==null?void(-0x159c*-0x1+-0x2151+0x14d*0x9):_0x36aa25['count'])??-0xae5*0x3+-0x296*0x7+-0x32c9*-0x1,this['comments']=_0x4b28b7,this['is4D']=!!((_0x5ea8f9=(_0x1c3214=this['getElement']('vertex'))==null?void(-0x16f8+0x1*-0x1be7+-0x10f5*-0x3):_0x1c3214['properties']['find'](_0x20eacb=>_0x20eacb['name']==='t'))!=null&&_0x5ea8f9['storage']);}async['appendGSpl'+'atData'](_0x29687c,_0x3b8baf,_0x51db78){var _0x10f84c;let _0x26c683=0x601+-0x247d*0x1+0x1e7c;for(let _0xb2154e=0x81b+-0x8a3*-0x4+-0x2aa7;_0xb2154e<_0x51db78['length']&&_0x3b8baf>_0x51db78[_0xb2154e];_0xb2154e+=0xb*0x30f+0x3*0xb6c+-0x43e7)_0x26c683=_0xb2154e/(-0x77a+-0x2238+0x29b4);this['dataWorker']||(this['dataWorker']=new JA(),await this['dataWorker']['appendGSpl'+'atData'](this,-0x4*-0x3c5+-0x729+-0x7eb,_0x51db78));const _0x4199e6=this['getElement']('vertex');_0x4199e6&&(_0x4199e6['count']=this['numSplats']);const _0xf432e9=await this['dataWorker']['appendGSpl'+'atData'](_0x29687c,_0x26c683,_0x51db78,!(0x1a15+-0x1*0x8ad+-0x45a*0x4)),_0x5cc439=_0xf432e9['properties'],_0x45add9=((_0x10f84c=this['getElement']('vertex'))==null?void(0x1*-0x4d8+0x6*-0x327+0x17c2):_0x10f84c['properties'])??[];for(const _0x3d4dae in _0x5cc439){const _0x261c61=_0x45add9['find'](_0x41e74a=>_0x41e74a['name']===_0x3d4dae);_0x261c61?_0x261c61['storage']=_0x5cc439[_0x3d4dae]:_0x45add9['push']({'type':'float','name':_0x3d4dae,'storage':_0x5cc439[_0x3d4dae],'byteSize':0x4});}this['transformD'+'ata']=_0xf432e9['transformD'+'ata'],this['numSplats']=_0x5cc439['position']['length']/(0x972+0x26d9+-0x26a*0x14);}async['releaseSeq'+'Data'](_0xbe5d3d){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'leaseSeqDa'+'ta',_0xbe5d3d),this['dataWorker']['releaseSeq'+'Data'](_0xbe5d3d),this;}async['releaseAll'+'SeqData'](){var _0x1435e5;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'lease\x20all\x20'+'SeqData'),(_0x1435e5=this['dataWorker'])==null||_0x1435e5['releaseAll'+'SeqData'](),this;}['getProp'](_0x13eadd,_0x123f2f='vertex'){var _0x19b7cd,_0xe6f4ab;return(_0xe6f4ab=(_0x19b7cd=this['getElement'](_0x123f2f))==null?void(0x6a*-0x4f+-0x3d*-0x4b+0xed7):_0x19b7cd['properties']['find'](_0x25b532=>_0x25b532['name']===_0x13eadd))==null?void(-0x17db+0x1446+0x395):_0xe6f4ab['storage'];}['getElement'](_0x312ac7){return this['elements']['find'](_0x3e4d40=>_0x3e4d40['name']===_0x312ac7);}['createIter'](_0x48927e,_0x1b92b0,_0x4cfd9d,_0x4ce515,_0x42fac9){return new tC(this,_0x48927e,_0x1b92b0,_0x4cfd9d,_0x4ce515,_0x42fac9);}['calcAabb'](_0x2029a5,_0xfb4b92){let _0x35d594=0x1*-0x3b9+-0x22d*-0x7+-0xb82,_0x4bd5a7=0x1cf1+0x2*0x79+-0x1*0x1de3,_0x462055=0x2214+0x395*0x5+-0x1*0x33fd,_0xf599e4=-0x944+0x1b1*0x13+-0x16df,_0x533e31=-0x1374*-0x2+0x5*-0x1c8+-0x1e00,_0x28ec96=-0x3*0xa78+-0x51*0x43+0x349b,_0x1f46e2=!(-0x65*0x51+-0x1f63+0x2*0x1fac);const _0x1b6f8d=this['getProp']('position'),_0x45a25f=this['getProp']('scale');for(let _0x13bab5=-0xfbc+-0x1d3c+0x167c*0x2;_0x13bab5<this['numSplats'];++_0x13bab5){if(_0xfb4b92&&!_0xfb4b92(_0x13bab5))continue;const _0x2f37f8=_0x1b6f8d[_0x13bab5*(-0x1a1*-0x15+0x25*-0x19+-0x1e95)+(-0x5bb+-0xda6*-0x1+-0x7eb)],_0x56a923=_0x1b6f8d[_0x13bab5*(-0x121*-0xb+-0x1c1a+-0x23e*-0x7)+(0x14b7*-0x1+-0x428+0x20*0xc7)],_0x41063c=_0x1b6f8d[_0x13bab5*(-0x263*0x1+-0x26d6+0x293c)+(0x10a*-0x5+0x1c9*-0x9+-0x21*-0xa5)],_0x10393c=Math['max'](_0x45a25f[_0x13bab5*(-0x6*-0x56+0x1043*0x2+-0x2287)+(0x1073*-0x1+0x2de*0x4+0xff*0x5)],_0x45a25f[_0x13bab5*(-0x1979+-0x16d+0x1*0x1ae9)+(0x13*-0x33+0x87d*-0x1+0xc47)],_0x45a25f[_0x13bab5*(-0x220d+0xac+0x2164*0x1)+(-0xac5+0x1582+-0xabb)]);if(!isFinite(_0x2f37f8)||!isFinite(_0x56a923)||!isFinite(_0x41063c)||!isFinite(_0x10393c))continue;const _0xea5f04=(-0x1132+-0x13e0+0x2a6*0xe)*Math['exp'](_0x10393c);_0x1f46e2?(_0x1f46e2=!(0x2*-0x2a8+0x9af+-0x45e),_0x35d594=_0x2f37f8-_0xea5f04,_0x4bd5a7=_0x56a923-_0xea5f04,_0x462055=_0x41063c-_0xea5f04,_0xf599e4=_0x2f37f8+_0xea5f04,_0x533e31=_0x56a923+_0xea5f04,_0x28ec96=_0x41063c+_0xea5f04):(_0x35d594=Math['min'](_0x35d594,_0x2f37f8-_0xea5f04),_0x4bd5a7=Math['min'](_0x4bd5a7,_0x56a923-_0xea5f04),_0x462055=Math['min'](_0x462055,_0x41063c-_0xea5f04),_0xf599e4=Math['max'](_0xf599e4,_0x2f37f8+_0xea5f04),_0x533e31=Math['max'](_0x533e31,_0x56a923+_0xea5f04),_0x28ec96=Math['max'](_0x28ec96,_0x41063c+_0xea5f04));}return _0x1f46e2||(_0x2029a5['center']['set']((_0x35d594+_0xf599e4)*(0x17d0+-0x109d*0x1+-0x733+0.5),(_0x4bd5a7+_0x533e31)*(0xe9b*0x1+-0x8f5+-0x5a6+0.5),(_0x462055+_0x28ec96)*(0xbf7+-0x2f7*0x9+0xeb8+0.5)),_0x2029a5['halfExtent'+'s']['set']((_0xf599e4-_0x35d594)*(0x2289+-0x1*0x1aff+-0xa*0xc1+0.5),(_0x533e31-_0x4bd5a7)*(-0xc18+0x243c+-0x1824+0.5),(_0x28ec96-_0x462055)*(0xabb*-0x1+0x1a4e+-0xf93+0.5))),!_0x1f46e2;}['yieldToMai'+'n'](){var _0x2037d7;return(_0x2037d7=globalThis['scheduler'])!=null&&_0x2037d7['yield']?globalThis['scheduler']['yield']():new Promise(_0x117750=>{setTimeout(_0x117750,0x26f1+0x23b9+-0x26*0x1f7);});}async['getCenters'](_0x3bb5be){const _0xd37d61=this['getProp']('x'),_0x424e70=this['getProp']('y'),_0x3485bd=this['getProp']('z');for(let _0x2ca3fc=-0x66b+0x1ca5*-0x1+-0xb0*-0x33;_0x2ca3fc<this['numSplats'];++_0x2ca3fc)_0x3bb5be[_0x2ca3fc*(0x1c4a+-0x2b*0x8e+0x67*-0xb)+(0x57d+-0x18*0x17e+-0x7*-0x455)]=_0xd37d61[_0x2ca3fc],_0x3bb5be[_0x2ca3fc*(-0x1*-0x1dc3+0x3b8+0xee*-0x24)+(-0x13a6*0x1+0x1d20+0x5*-0x1e5)]=_0x424e70[_0x2ca3fc],_0x3bb5be[_0x2ca3fc*(-0xedb*-0x1+-0xfd1+0xf9)+(-0x1*0x15a9+0xf9*-0x3+0x1896)]=_0x3485bd[_0x2ca3fc],_0x2ca3fc%Sg===0x7*0x43f+0x854+0x11*-0x23d&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x11f100;if((_0x11f100=this['transformD'+'ata'])!=null&&_0x11f100['muT'])return this['transformD'+'ata']['muT'];const _0x2c1e97=this['getProp']('t');return _0x2c1e97?new Float32Array(_0x2c1e97):void(-0x1*-0xaa3+-0x45*0xf+0x698*-0x1);}async['getTScale'](){const _0x364b50=this['getProp']('t_scale');if(!_0x364b50)return;const _0x541e4a=new Float32Array(this['numSplats']);for(let _0x3c184e=-0x25c7+-0x11e6+0x3*0x128f;_0x3c184e<this['numSplats'];++_0x3c184e)_0x541e4a[_0x3c184e]=Math['exp'](_0x364b50[_0x3c184e]),_0x3c184e%Sg===0x622+0x1a41+-0x2063&&await this['yieldToMai'+'n']();return _0x541e4a;}['getMotion'](_0x4e7255){const _0x2ae9ac=this['getProp']('motion');_0x2ae9ac&&new Float32Array(_0x2ae9ac['buffer']['slice']());}['getTimeInd'+'ex'](){var _0x49d18f;if((_0x49d18f=this['transformD'+'ata'])!=null&&_0x49d18f['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x5520a8=this['getProp']('time_index');if(_0x5520a8)return new Float32Array(_0x5520a8);}['calcFocalP'+'oint'](_0x37e2ae,_0x8d9ea8){const _0x472925=this['getProp']('position'),_0x5dcb7c=this['getProp']('scale');_0x37e2ae['x']=0xd59+0x2*-0x207+-0x94b,_0x37e2ae['y']=-0x494+-0x5*-0x3c1+-0xe31,_0x37e2ae['z']=-0x13*0x1ec+-0xb11*-0x2+0xe62;let _0x5e6335=0x43*-0x1f+-0x1d9c+0x25b9;for(let _0x5cb833=-0x33a+-0x1ec*0x9+0x1486;_0x5cb833<this['numSplats'];++_0x5cb833){if(_0x8d9ea8&&!_0x8d9ea8(_0x5cb833))continue;const _0x747c22=_0x472925[_0x5cb833*(0x11*-0x13d+-0x2496+-0x1*-0x39a6)+(0x2656+0x3*-0x5fc+-0x1462)],_0x3eff23=_0x472925[_0x5cb833*(0x1*0x13bd+-0x1*0x1312+-0xa8)+(-0x738*-0x5+0x1*-0x1ae+0x2269*-0x1)],_0x22f0b9=_0x472925[_0x5cb833*(-0x237f+-0x1*0x1e0b+0x418d)+(0x12a1*-0x1+-0x175d+0x2a00)];if(!isFinite(_0x747c22)||!isFinite(_0x3eff23)||!isFinite(_0x22f0b9))continue;const _0x272565=(0x11*0x63+0x1db4+-0x2446)/(-0x1f2*-0x14+-0x3*0x7a2+-0x1001+Math['max'](_0x5dcb7c[_0x5cb833*(0x2*-0x407+-0xb*0x175+-0x202*-0xc)+(0xd27+-0x2b5+-0x17e*0x7)],_0x5dcb7c[_0x5cb833*(0x4*0x608+-0x1d05+-0x9d*-0x8)+(0x15*0xa6+0x3b*0x34+0x1*-0x1999)],_0x5dcb7c[_0x5cb833*(-0x1b01+-0x2021+0x13b7*0x3)+(-0x10fe+-0x1*-0x1ac9+-0x9c9)]));_0x37e2ae['x']+=_0x747c22*_0x272565,_0x37e2ae['y']+=_0x3eff23*_0x272565,_0x37e2ae['z']+=_0x22f0b9*_0x272565,_0x5e6335+=_0x272565;}_0x37e2ae['mulScalar']((0x2571+-0x1dcd+-0x7a3)/_0x5e6335);}['renderWire'+'frameBound'+'s'](_0x4ae2d7,_0xbb7fcc){const _0x204bb3=new D(),_0x22ba1f=new le(),_0x124ff9=new D(),_0x477646=new D(),_0x6743da=new D(),_0x5e436c=this['createIter'](_0x204bb3,_0x22ba1f,_0x124ff9);for(let _0x1b2ceb=-0x24c3*0x1+-0x1*-0x476+-0x204d*-0x1;_0x1b2ceb<this['numSplats'];++_0x1b2ceb)_0x5e436c['read'](_0x1b2ceb),sC(gc,_0x204bb3,_0x22ba1f),gc['mul2'](_0xbb7fcc,gc),_0x477646['set'](_0x124ff9['x']*-(-0x1*0x13c0+0x17*-0x12b+0x2e9f),_0x124ff9['y']*-(0x593*0x7+0x2110+-0x4813),_0x124ff9['z']*-(-0x1f*-0x2+-0x1*0x42+0x1*0x6)),_0x6743da['set'](_0x124ff9['x']*(-0x8e8+-0x3e0*0x1+-0x1*-0xcca),_0x124ff9['y']*(-0xb21+0xcd*-0x4+0xe57),_0x124ff9['z']*(-0x1441*-0x1+-0x69e*0x5+0xcd7)),_0x4ae2d7['immediate']['drawWireAl'+'ignedBox'](_0x477646,_0x6743da,eC,!(-0x1858+-0x1f74+0x37cc),_0x4ae2d7['defaultDra'+'wLayer'],gc);}get['isCompress'+'ed'](){return!(-0x1582+-0xfe5*0x1+-0x12b4*-0x2);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x4e1f09=0xb*0x36+-0xbf*-0x31+-0x26e1;_0x4e1f09<0x2*-0x12fd+-0x20ed+0x11c5*0x4;++_0x4e1f09)if(!this['getProp']('f_rest_'+_0x4e1f09))return _0x4e1f09;return-0x1a97+-0x24e*0x3+0x21ae;})())]??-0x2e9+0xe*0x19b+-0x1391*0x1;}['calcMorton'+'Order'](){const _0x86e1fb=_0x503527=>{let _0x5ce7cf=_0x503527[0xa71+0x7*-0x44d+0x9d5*0x2],_0x70b0f5=_0x503527[-0x1e08+-0x1d53+0x3b5b];for(let _0x551f6d=-0xfc*0x3+0xf7b+-0xc86;_0x551f6d<_0x503527['length'];_0x551f6d++)_0x503527[_0x551f6d]<_0x5ce7cf&&(_0x5ce7cf=_0x503527[_0x551f6d]),_0x503527[_0x551f6d]>_0x70b0f5&&(_0x70b0f5=_0x503527[_0x551f6d]);return{'min':_0x5ce7cf,'max':_0x70b0f5};},_0x49a0e6=(_0x371397,_0x5836da,_0x1b8398)=>{const _0x5a363d=_0x43f3be=>(_0x43f3be&=-0x1db0+0x9*0x1f9+0x7f7*0x2,_0x43f3be=(_0x43f3be^_0x43f3be<<-0x1*-0xfef+0x2*-0x67+-0xf11)&0xb8fa*-0xfca6+0x2da47b63*-0x3+-0x5*-0x72e57f74,_0x43f3be=(_0x43f3be^_0x43f3be<<0x1910+0xdd3+0x26db*-0x1)&-0x27b152c+0x1748948+0x4077bf3,_0x43f3be=(_0x43f3be^_0x43f3be<<0x6*-0x162+0x21f1+-0x19a1)&0x2a2b4b6+-0x39d0a0e+0x406861b,_0x43f3be=(_0x43f3be^_0x43f3be<<0x3*-0xb47+0x1f56+0x281)&-0x183f625*-0x5+-0xe12e64d*0x1+0xfa3a9dd,_0x43f3be);return(_0x5a363d(_0x1b8398)<<-0x109*0x1f+0x539*-0x3+0x3fb*0xc)+(_0x5a363d(_0x5836da)<<-0xf62+0x4*-0x43+0x7*0x259)+_0x5a363d(_0x371397);},_0x22c53d=this['getProp']('x'),_0x1d8a71=this['getProp']('y'),_0x5eb001=this['getProp']('z'),{min:_0x40350f,max:_0x36f6a8}=_0x86e1fb(_0x22c53d),{min:_0x423e78,max:_0x3ff263}=_0x86e1fb(_0x1d8a71),{min:_0xf4c3a7,max:_0x1d462c}=_0x86e1fb(_0x5eb001),_0x1d0647=_0x40350f===_0x36f6a8?-0x97d*0x1+0x92a+0x53*0x1:(-0xa04*0x1+-0x1*0x1273+0x1*0x2077)/(_0x36f6a8-_0x40350f),_0x5d5505=_0x423e78===_0x3ff263?0x17dc+0xff8+-0x27d4:(-0x13be+-0x158b+0x2d49)/(_0x3ff263-_0x423e78),_0x571dc9=_0xf4c3a7===_0x1d462c?-0x1404+0x58e*0x7+0x3c6*-0x5:(-0xcf9+0x55*0x61+0x14*-0xc3)/(_0x1d462c-_0xf4c3a7),_0x4769db=new Map();for(let _0x4df3d6=0x1a2d*-0x1+0x4f4+0x1539;_0x4df3d6<this['numSplats'];_0x4df3d6++){const _0x1dc4f4=Math['min'](0x2*-0x195+-0x8*0x48e+0x2b99,Math['floor']((_0x22c53d[_0x4df3d6]-_0x40350f)*_0x1d0647)),_0x5b73a7=Math['min'](-0x24a9+0x1880+0x1028,Math['floor']((_0x1d8a71[_0x4df3d6]-_0x423e78)*_0x5d5505)),_0x36a848=Math['min'](0xb*-0x37b+0x23c1+-0x1*-0x687,Math['floor']((_0x5eb001[_0x4df3d6]-_0xf4c3a7)*_0x571dc9)),_0x19f224=_0x49a0e6(_0x1dc4f4,_0x5b73a7,_0x36a848),_0x21631c=_0x4769db['get'](_0x19f224);_0x21631c?_0x21631c['push'](_0x4df3d6):_0x4769db['set'](_0x19f224,[_0x4df3d6]);}const _0x2483e5=Array['from'](_0x4769db['keys']())['sort']((_0x1bdfe9,_0x7df8ea)=>_0x1bdfe9-_0x7df8ea),_0x18680f=new Uint32Array(this['numSplats']);let _0x8b0846=0x5d*0x5+0x1*0x2c5+-0x2*0x24b;for(let _0x1123aa=0x86+-0x95*0x16+-0x106*-0xc;_0x1123aa<_0x2483e5['length'];++_0x1123aa){const _0x306aae=_0x4769db['get'](_0x2483e5[_0x1123aa]);for(let _0x57e884=0x406+-0x74b*0x2+0xa90;_0x57e884<_0x306aae['length'];++_0x57e884)_0x18680f[_0x8b0846++]=_0x306aae[_0x57e884];}return _0x18680f;}['reorder'](_0x121c3a){const _0x34f82c=new Map(),_0x1c1e01=_0x14aa2c=>{if(_0x34f82c['has'](_0x14aa2c)){const _0x3ea4dd=_0x34f82c['get'](_0x14aa2c);return _0x34f82c['delete'](_0x14aa2c),_0x3ea4dd;}return new ArrayBuffer(_0x14aa2c);},_0x1a5017=_0x4ff723=>{_0x34f82c['set'](_0x4ff723['byteLength'],_0x4ff723);},_0x398bb0=_0xaf3ca3=>{const _0x577fec=new _0xaf3ca3['constructo'+'r'](_0x1c1e01(_0xaf3ca3['byteLength']));for(let _0x562924=-0x1867+0x22e2+-0xa7b;_0x562924<_0x121c3a['length'];_0x562924++)_0x577fec[_0x562924]=_0xaf3ca3[_0x121c3a[_0x562924]];return _0x1a5017(_0xaf3ca3['buffer']),_0x577fec;};this['elements']['forEach'](_0x4f916d=>{_0x4f916d['properties']['forEach'](_0x5891e6=>{_0x5891e6['storage']&&(_0x5891e6['storage']=_0x398bb0(_0x5891e6['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const rC='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20void\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.0,\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a',aC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'vec4\x20packR'+'gb(vec3\x20v)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uvec3\x20vb\x20'+'=\x20uvec3(cl'+'amp(v,\x20vec'+'3(0.0),\x20ve'+'c3(1.0))\x20*'+'\x20vec3(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uint\x20bits\x20'+'=\x20(vb.x\x20<<'+'\x2021)\x20|\x20(vb'+'.y\x20<<\x2010)\x20'+'|\x20vb.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4((u'+'vec4(bits)'+'\x20>>\x20uvec4('+'24,\x2016,\x208,'+'\x200))\x20&\x20uve'+'c4(0xff))\x20'+'/\x20vec4(255'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20vec3\x20dir'+';\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20sampler2'+'D\x20centroid'+'s;\x0a\x20\x20\x20\x20uni'+'form\x20mediu'+'mp\x20float\x20s'+'hN_mins;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20f'+'loat\x20shN_m'+'axs;\x0a\x0a\x20\x20\x20\x20'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ivec'+'2\x20uv\x20=\x20ive'+'c2(gl_Frag'+'Coord.xy)\x20'+'*\x20ivec2(SH'+'_COEFFS,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20mediump\x20v'+'ec3\x20coeffi'+'cients[SH_'+'COEFFS];\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(int\x20i\x20=\x20'+'0;\x20i\x20<\x20SH_'+'COEFFS;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20s\x20=\x20texe'+'lFetch(cen'+'troids,\x20iv'+'ec2(uv.x\x20+'+'\x20i,\x20uv.y),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20coefficie'+'nts[i]\x20=\x20m'+'ix(vec3(sh'+'N_mins),\x20v'+'ec3(shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20packRgb'+'(evalSH(co'+'efficients'+',\x20dir)\x20*\x200'+('.25\x20+\x200.5)'+';\x0a\x20\x20\x20\x20}\x0a'),nC='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput:\x20Vert'+'exInput)\x20-'+'>\x20VertexOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Ver'+'texOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a',oC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'fn\x20packRgb'+'(v:\x20vec3f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vb\x20=\x20v'+'ec3u(clamp'+'(v,\x20vec3f('+'0.0),\x20vec3'+'f(1.0))\x20*\x20'+'vec3f(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20bits\x20='+'\x20dot(vb,\x20v'+'ec3u(1\x20<<\x20'+'21,\x201\x20<<\x201'+'0,\x201));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(('+'vec4u(bits'+')\x20>>\x20vec4u'+'(24,\x2016,\x208'+',\x200))\x20&\x20ve'+'c4u(0xff))'+'\x20/\x20vec4f(2'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20un'+'iform\x20dir:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'shN_mins:\x20'+'f32;\x0a\x20\x20\x20\x20u'+'niform\x20shN'+'_maxs:\x20f32'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20centroids'+':\x20texture_'+'2d<f32>;\x0a\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input:'+'\x20FragmentI'+'nput)\x20->\x20F'+'ragmentOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20uv\x20=\x20'+'vec2i(inpu'+'t.position'+'.xy)\x20*\x20vec'+'2i(SH_COEF'+'FS,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'coefficien'+'ts:\x20array<'+'vec3f,\x20SH_'+'COEFFS>;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x200;\x20i\x20'+'<\x20SH_COEFF'+'S;\x20i++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s:\x20v'+'ec3f\x20=\x20tex'+'tureLoad(c'+'entroids,\x20'+'vec2i(uv.x'+'\x20+\x20i,\x20uv.y'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20coeffic'+'ients[i]\x20='+'\x20mix(vec3f'+'(uniform.s'+'hN_mins),\x20'+'vec3f(unif'+('orm.shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20packRgb'+'(evalSH(&c'+'oefficient'+'s,\x20uniform'+'.dir)\x20*\x200.'+'25\x20+\x200.5);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20}'+'\x0a'),lC='\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20sampler2D'+'\x20sh0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x20\x20\x20\x20u'+'niform\x20med'+'iump\x20sampl'+'er2D\x20sh_re'+'sult;\x0a\x0a\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20sh0_mi'+'ns;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20sh0_maxs;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20SH_C0\x20=\x20'+'0.28209479'+'177387814;'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'npack\x2011,\x20'+'11,\x2010\x20nor'+'malized\x20va'+'lue\x20from\x20r'+'gba8\x20textu'+'re\x20sample\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackRgb(v'+'ec4\x20v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uve'+'c4\x20uv\x20=\x20uv'+'ec4(v\x20*\x2025'+'5.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uint\x20b'+'its\x20=\x20(uv.'+'x\x20<<\x2024)\x20|'+'\x20(uv.y\x20<<\x20'+'16)\x20|\x20(uv.'+'z\x20<<\x208)\x20|\x20'+'uv.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uvec3\x20'+'vb\x20=\x20(uvec'+'3(bits)\x20>>'+'\x20uvec3(21,'+'\x2010,\x200))\x20&'+'\x20uvec3(0x7'+'ffu,\x200x7ff'+'u,\x200x3ffu)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3(vb)\x20/\x20ve'+'c3(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20baseSampl'+'e\x20=\x20mix(sh'+'0_mins,\x20sh'+'0_maxs,\x20te'+'xelFetch(s'+'h0,\x20source'+'.uv,\x200));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20resolve\x20'+'base\x20color'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4\x20base\x20='+'\x20vec4(vec3'+'(0.5)\x20+\x20ba'+'seSample.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'baseSample'+'.w)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'xtract\x20sph'+'erical\x20har'+'monics\x20pal'+'ette\x20index'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20label'+'Sample\x20=\x20i'+'vec2(texel'+'Fetch(sh_l'+'abels,\x20sou'+'rce.uv,\x200)'+'.xy\x20*\x20255.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20int\x20n\x20=\x20'+('labelSampl'+'e.x\x20+\x20labe'+'lSample.y\x20'+'*\x20256;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shSample\x20'+'=\x20texelFet'+'ch(sh_resu'+'lt,\x20ivec2('+'n\x20%\x2064,\x20n\x20'+'/\x2064),\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20sh\x20=\x20('+'unpackRgb('+'shSample)\x20'+'-\x20vec3(0.5'+'))\x20*\x204.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'(base.xyz\x20'+'+\x20sh,\x20base'+'.w);\x0a\x20\x20\x20\x20}'+'\x0a'),cC='\x0a\x20\x20\x20\x20var\x20s'+'h0:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'h_labels:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20sh_re'+'sult:\x20text'+'ure_2d<f32'+'>;\x0a\x0a\x20\x20\x20\x20un'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20sh0_m'+'axs:\x20vec4f'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20SH_C0:\x20'+'f32\x20=\x200.28'+'2094791773'+'87814;\x0a\x0a\x20\x20'+'\x20\x20//\x20unpac'+'k\x2011,\x2011,\x20'+'10\x20normali'+'zed\x20value\x20'+'from\x20rgba8'+'\x20texture\x20s'+'ample\x0a\x20\x20\x20\x20'+'fn\x20unpackR'+'gb(v:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20bits'+'\x20=\x20dot(vec'+'4u(v\x20*\x20255'+'.0),\x20vec4u'+'(1u\x20<<\x2024,'+'\x201u\x20<<\x2016,'+'\x201u\x20<<\x208,\x20'+'1u));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20vb'+'\x20=\x20(vec3u('+'bits)\x20>>\x20v'+'ec3u(21,\x201'+'0,\x200))\x20&\x20v'+'ec3u(0x7ff'+'u,\x200x7ffu,'+'\x200x3ffu);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec3f'+'(vb)\x20/\x20vec'+'3f(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20f'+'n\x20readColo'+'r(source:\x20'+'ptr<functi'+'on,\x20SplatS'+'ource>)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'baseSample'+':\x20vec4f\x20=\x20'+'mix(unifor'+'m.sh0_mins'+',\x20uniform.'+'sh0_maxs,\x20'+'textureLoa'+'d(sh0,\x20sou'+'rce.uv,\x200)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20base\x20'+'=\x20vec4f(ve'+'c3f(0.5)\x20+'+'\x20baseSampl'+'e.xyz\x20*\x20SH'+'_C0,\x201.0\x20/'+'\x20(1.0\x20+\x20ex'+'p(-baseSam'+'ple.w)));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20extract\x20'+'spherical\x20'+'harmonics\x20'+'palette\x20in'+'dex\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20labe'+'lSample:\x20v'+'ec2i\x20=\x20vec'+'2i(texture'+'Load(sh_la'+'bels,\x20sour'+'ce.uv,\x200).'+'xy\x20*\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20n\x20=\x20l'+('abelSample'+'.x\x20+\x20label'+'Sample.y\x20*'+'\x20256;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hSample:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(s'+'h_result,\x20'+'vec2i(n\x20%\x20'+'64,\x20n\x20/\x2064'+'),\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'h:\x20vec3f\x20='+'\x20(unpackRg'+'b(shSample'+')\x20-\x20vec3f('+'0.5))\x20*\x204.'+'0;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(base.'+'xyz\x20+\x20sh,\x20'+'base.w);\x0a\x20'+'\x20\x20\x20}\x0a'),hC=(_0x532408,_0x4431e0)=>{for(const _0x4df22a in _0x4431e0)_0x532408['resolve'](_0x4df22a)['setValue'](_0x4431e0[_0x4df22a]);};class dC extends ys{constructor(){super(...arguments),h(this,'executeCal'+'lback',null);}['execute'](){var _0x2a9026;(_0x2a9026=this['executeCal'+'lback'])==null||_0x2a9026['call'](this);}}const yg=new te(),uo=new D();class fC{constructor(_0x4f708d,_0x4a223c){h(this,'prevDir',new D()),h(this,'updateMode','enable'),(this['device']=_0x4f708d,this['gsplatInst'+'ance']=_0x4a223c);const {resource:_0x352c47}=_0x4a223c,_0x33b3cd=new Map(Pe['get'](_0x4f708d,_0x4f708d['isWebGPU']?'wgsl':'glsl'));this['shader']=$t['createShad'+'er'](_0x4f708d,{'uniqueName':'gsplatReso'+'lveSH','vertexGLSL':rC,'fragmentGLSL':aC,'vertexWGSL':nC,'fragmentWGSL':oC,'vertexIncludes':_0x33b3cd,'fragmentIncludes':_0x33b3cd,'fragmentDefines':new Map([['SH_BANDS',_0x352c47['gsplatData']['shBands']['toString']()]]),'attributes':{'vertex_position':Me}}),this['texture']=_0x352c47['createText'+'ure']('centroids',Ne,new J(0x251d*-0x1+-0x91+0x25ee,-0x1c9*-0x14+0x181c+0x26*-0x178)),this['renderTarg'+'et']=new gt({'colorBuffer':this['texture'],'depth':!(-0x1ea0+-0x63a+0x24db)}),this['renderPass']=new dC(_0x4f708d),this['renderPass']['init'](this['renderTarg'+'et'],{}),this['renderPass']['colorOps']['clear']=!(0xa85*-0x3+-0x13ec+0x337b),this['quadRender']=new Ah(this['shader']);const {material:_0x506f8c}=_0x4a223c;_0x506f8c['setDefine']('SH_BANDS','0');const {shaderChunks:_0x11ad5b}=_0x506f8c;_0x11ad5b['glsl']['set']('gsplatSogs'+'ColorVS',lC),_0x11ad5b['wgsl']['set']('gsplatSogs'+'ColorVS',cC),_0x506f8c['update'](),_0x4f708d['scope']['resolve']('sh_result')['setValue'](this['texture']);}['destroy'](){const {gsplatInstance:_0x368165}=this,{material:_0x44d493}=_0x368165;_0x44d493['setDefine']('SH_BANDS',_0x368165['resource']['gsplatData']['shBands']['toString']());const {shaderChunks:_0xa8b4ea}=_0x44d493;_0xa8b4ea['glsl']['delete']('gsplatSogs'+'ColorVS'),_0xa8b4ea['wgsl']['delete']('gsplatSogs'+'ColorVS'),_0x44d493['update'](),this['quadRender']['destroy'](),this['renderPass']['destroy'](),this['renderTarg'+'et']['destroy'](),this['texture']['destroy'](),this['shader']['destroy']();}['render'](_0x1c30ff,_0x320af5){const {prevDir:_0x4f7cfc,updateMode:_0x1bc0a0}=this;if(_0x1bc0a0==='disable'||(yg['invert'](_0x320af5),yg['transformV'+'ector'](_0x1c30ff['forward'],uo),uo['normalize'](),_0x1bc0a0==='enable'&&uo['equalsAppr'+'ox'](_0x4f7cfc,-0x2520+-0x1f58+0x4478+0.001)))return;_0x4f7cfc['copy'](uo);const _0x2a67ef=()=>{const {device:_0x493b2b}=this,{sh_centroids:_0x86efef,meta:_0x5879e1}=this['gsplatInst'+'ance']['resource']['gsplatData'];hC(_0x493b2b['scope'],{'dir':uo['toArray'](),'centroids':_0x86efef,'shN_mins':_0x5879e1['shN']['mins'],'shN_maxs':_0x5879e1['shN']['maxs']}),_0x493b2b['setCullMod'+'e'](bt),_0x493b2b['setDepthSt'+'ate'](Yt['NODEPTH']),_0x493b2b['setStencil'+'State'](null,null),_0x493b2b['setBlendSt'+'ate'](pt['NOBLEND']),this['quadRender']['render']();};this['renderPass']['executeCal'+'lback']=_0x2a67ef,this['renderPass']['render']();}}const uC='\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20means_l'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20means_'+'u;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20quats'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20scales'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20uint\x20n'+'umSplats;\x0a'+'\x0a\x20\x20\x20\x20uint\x20'+'packU32(ve'+'c4\x20v)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20uint(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u\x20|\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20uint('+'v.y\x20*\x20255.'+'0)\x20<<\x2016u\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uin'+'t(v.z\x20*\x2025'+'5.0)\x20<<\x208u'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(v.w\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20uv'+'ec4\x20packU3'+'2(vec4\x20a,\x20'+'vec4\x20b,\x20ve'+'c4\x20c,\x20vec4'+'\x20d)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uvec4(pac'+'kU32(a),\x20p'+'ackU32(b),'+'\x20packU32(c'+'),\x20packU32'+'(d));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20w\x20='+'\x20int(textu'+'reSize(mea'+'ns_l,\x200).x'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ivec2\x20uv\x20'+'=\x20ivec2(gl'+'_FragCoord'+'.xy);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(ui'+'nt(uv.x\x20+\x20'+'uv.y\x20*\x20w)\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansLSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_l,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansUSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_u,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20quatsSamp'+'le\x20=\x20texel'+'Fetch(quat'+'s,\x20uv,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20scales'+'Sample\x20=\x20t'+'exelFetch('+'scales,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shLabel'+'sSample\x20=\x20'+'texelFetch'+'(sh_labels'+',\x20uv,\x200).x'+('y;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20pcFragCo'+'lor0\x20=\x20pac'+'kU32(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansLS'+'ample,\x20shL'+'abelsSampl'+'e.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansUS'+'ample,\x20shL'+'abelsSampl'+'e.y),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(quatsSa'+'mple),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4(scales'+'Sample,\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20}\x0a'),pC='\x0a\x20\x20\x20\x20var\x20m'+'eans_l:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20means_u'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20qua'+'ts:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'cales:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sh_label'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20numSpla'+'ts:\x20u32;\x0a\x0a'+'\x20\x20\x20\x20fn\x20pac'+'kU32(v:\x20ve'+'c4<f32>)\x20-'+'>\x20u32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(u32(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(u3'+'2(v.y\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20\x20|\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(u32(v.z\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20u32(v.w'+'\x20*\x20255.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20packU'+'Vec32(a:\x20v'+'ec4<f32>,\x20'+'b:\x20vec4<f3'+'2>,\x20c:\x20vec'+'4<f32>,\x20d:'+'\x20vec4<f32>'+')\x20->\x20vec4<'+'u32>\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4<u32'+'>(packU32('+'a),\x20packU3'+'2(b),\x20pack'+'U32(c),\x20pa'+'ckU32(d));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20@fragmen'+'t\x0a\x20\x20\x20\x20fn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20w:\x20u32\x20'+'=\x20textureD'+'imensions('+'means_l,\x200'+').x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2<u32>'+'\x20=\x20vec2<u3'+'2>(pcPosit'+'ion.xy);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv.x\x20+\x20uv'+'.y\x20*\x20w\x20>=\x20'+'uniform.nu'+'mSplats)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20fetch\x20the'+'\x20source\x20in'+'dex\x20and\x20ca'+'lculate\x20so'+'urce\x20uv\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'meansLSamp'+'le:\x20vec3<f'+('32>\x20=\x20text'+'ureLoad(me'+'ans_l,\x20uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20meansUSam'+'ple:\x20vec3<'+'f32>\x20=\x20tex'+'tureLoad(m'+'eans_u,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20quatsSam'+'ple:\x20vec4<'+'f32>\x20=\x20tex'+'tureLoad(q'+'uats,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20scal'+'esSample:\x20'+'vec3<f32>\x20'+'=\x20textureL'+'oad(scales'+',\x20uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shLa'+'belsSample'+':\x20vec2<f32'+'>\x20=\x20textur'+'eLoad(sh_l'+'abels,\x20uv,'+'\x200).xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20packUVec'+'32(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansLSam'+'ple,\x20shLab'+'elsSample.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansUSam'+'ple,\x20shLab'+'elsSample.'+'y),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(quatsSamp'+'le),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4(scalesSa'+'mple,\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a'),An=-0xe60+-0x121+0x1b9*0x9+0.28209479177387814,Ci=_0x5e558e=>_0x5e558e['read'](0x2*-0xa5c+0xc2a+0x88e,0x16e1+-0xd59+-0x988,_0x5e558e['width'],_0x5e558e['height'],{'mipLevel':0x0,'face':0x0,'immediate':!(-0xfea+0x857+0x793)}),mC=(_0x5677cc,_0x687858)=>{for(const _0x38a4f9 in _0x687858)_0x5677cc['resolve'](_0x38a4f9)['setValue'](_0x687858[_0x38a4f9]);};class _C{constructor(_0x44660b,_0x48dd4d,_0x50ef47,_0x2e3e16,_0x54215b,_0x27210f){const _0x53a892=(_0xdc9283,_0x32bda2,_0x5b22e1)=>_0xdc9283*(0x1e0b+0x1*-0x1b41+0x1f*-0x17-_0x5b22e1)+_0x32bda2*_0x5b22e1,{meta:_0x48f40b}=_0x44660b,{means:_0x454769,scales:_0x52b402,sh0:_0x885d9b,shN:_0x3bfb2e}=_0x48f40b,_0x4020f6=_0x48dd4d&&_0x44660b['means_l']['_levels'][0xc*0x36+0x486*-0x5+-0x1*-0x1416],_0x2bf6cf=_0x48dd4d&&_0x44660b['means_u']['_levels'][-0xcd*0x30+-0x3*-0x821+-0x3*-0x4af],_0x436bd6=_0x50ef47&&_0x44660b['quats']['_levels'][0x1ca1+0x22fe+-0x3f9f],_0x281a9f=_0x2e3e16&&_0x44660b['scales']['_levels'][-0x1e24+0xcf2+0x1132],_0x2e1b6a=_0x54215b&&_0x44660b['sh0']['_levels'][-0x265c+0x1*0x163c+0x1020],_0x115a80=_0x27210f&&_0x44660b['sh_labels']['_levels'][-0x1d2e+-0x7*0x25+0x1e31*0x1],_0x1f0eab=_0x27210f&&_0x44660b['sh_centroi'+'ds']['_levels'][0x2363*0x1+0x17*-0x2a+-0x1f9d],_0x3130f4=(0x1054+-0x424*0x7+0xcaa)/Math['sqrt'](0xd*-0x239+-0x27*0x31+0x245e);this['read']=_0x3a0e75=>{if(_0x48dd4d){const _0xb20edc=_0x53a892(_0x454769['mins'][-0x1e49+-0x3f+0x1e88],_0x454769['maxs'][0x41*0x3d+-0x1*0x1463+-0xb*-0x72],((_0x2bf6cf[_0x3a0e75*(0x1613+-0x1954*-0x1+-0x2f63)+(0x1344+0x2*-0x3e7+-0xb76)]<<0xf9*-0x22+0xa7a+-0x10*-0x16a)+_0x4020f6[_0x3a0e75*(0x29c*-0x8+-0x7*0x6f+-0x23*-0xaf)+(0x544*0x1+0xb46+-0x108a)])/(0x4360+0xc5*0xad+0x377e)),_0x3bbd2b=_0x53a892(_0x454769['mins'][-0x1*-0x24b+-0x7*-0x3e5+-0x1d8d],_0x454769['maxs'][-0x2*-0x55d+-0x6*0x4b3+-0x1179*-0x1],((_0x2bf6cf[_0x3a0e75*(-0x2bf*0x1+-0x25f2+0x28b5)+(-0x1353*0x1+-0x1193+0x24e7)]<<0x2506+0x5*-0x39b+-0x12f7)+_0x4020f6[_0x3a0e75*(-0x13f6+-0x164*-0x5+0xd06)+(0x387+0x45e*0x2+-0xc42)])/(-0x7b60+0x27a7*0x4+0xdcc3)),_0x5802cb=_0x53a892(_0x454769['mins'][0x1ec5+-0xbaa+-0x1319*0x1],_0x454769['maxs'][0x8*-0x414+-0x234f+-0x43f1*-0x1],((_0x2bf6cf[_0x3a0e75*(0x1fe3*0x1+0x1639+0x8*-0x6c3)+(0xb*0x269+-0x1*0x125e+-0x1*0x823)]<<0x3a9*0x1+-0x335*-0x8+-0x1d49)+_0x4020f6[_0x3a0e75*(-0x718*-0x1+0xfea+-0x16fe)+(-0x40*0x79+0xd*-0x1ba+-0xd2d*-0x4)])/(-0x87*-0x339+0xb969+-0x16c79));_0x48dd4d['x']=Math['sign'](_0xb20edc)*(Math['exp'](Math['abs'](_0xb20edc))-(0xdf7+-0x22d+-0xbc9)),_0x48dd4d['y']=Math['sign'](_0x3bbd2b)*(Math['exp'](Math['abs'](_0x3bbd2b))-(0x224*-0x10+-0xe03+0x3044)),_0x48dd4d['z']=Math['sign'](_0x5802cb)*(Math['exp'](Math['abs'](_0x5802cb))-(0x1*0x1219+0x2*-0x358+-0xb68));}if(_0x50ef47){const _0x2ade3d=(_0x436bd6[_0x3a0e75*(-0x1*-0xa81+-0x1*-0x2668+-0x30e5*0x1)+(0x1a05+-0x3*-0x409+-0x2620)]/(-0x612+0x1*-0x13b2+0x193*0x11)-(0xade+-0x167f*0x1+0xba1+0.5))*_0x3130f4,_0x5ee71c=(_0x436bd6[_0x3a0e75*(-0x7*-0x19b+-0x2029*0x1+0x14f0)+(0x4*-0x10d+-0x1515+0x1*0x194a)]/(-0x1*-0xd61+-0x1606+0x9a4)-(0x25a8+-0x2b*0xc5+0x491*-0x1+0.5))*_0x3130f4,_0x2e48da=(_0x436bd6[_0x3a0e75*(-0xf08+-0xa5c+0x1968)+(0x871*-0x1+0xd18*-0x1+0x1*0x158b)]/(-0x2b2*-0x6+0x12f+-0x105c)-(0x9a5*0x1+-0x1fb6+-0x1611*-0x1+0.5))*_0x3130f4,_0x4593fa=Math['sqrt'](Math['max'](0x1e6c+-0x215+-0x1c57,0xc8e+0x232f*0x1+-0x2fbc-(_0x2ade3d*_0x2ade3d+_0x5ee71c*_0x5ee71c+_0x2e48da*_0x2e48da)));switch(_0x436bd6[_0x3a0e75*(0x1*0x1454+0x1*0x1811+-0x2c61)+(-0x1249+0x151e+-0x2d2)]-(0x2*-0xd24+-0x131f+0x2e63)){case-0x2207+0x1*-0x935+0x2b3c:_0x50ef47['set'](_0x2ade3d,_0x5ee71c,_0x2e48da,_0x4593fa);break;case-0x4f*-0x77+-0x157d+-0xf3b*0x1:_0x50ef47['set'](_0x4593fa,_0x5ee71c,_0x2e48da,_0x2ade3d);break;case-0x4*-0x652+-0x5*0x221+-0xea1:_0x50ef47['set'](_0x5ee71c,_0x4593fa,_0x2e48da,_0x2ade3d);break;case-0x773+0x120e+-0x3*0x388:_0x50ef47['set'](_0x5ee71c,_0x2e48da,_0x4593fa,_0x2ade3d);break;}}if(_0x2e3e16){const _0x495c2c=_0x53a892(_0x52b402['mins'][-0x1dcd*0x1+-0x12e8+0x1*0x30b5],_0x52b402['maxs'][-0x1b8c+0xe2+0x1aaa*0x1],_0x281a9f[_0x3a0e75*(-0x1fee+0x12*-0x129+0x34d4)+(-0x1*0x204a+0x481+-0x1*-0x1bc9)]/(0x1e*0x71+-0x1e34+-0x1*-0x11f5)),_0x408bac=_0x53a892(_0x52b402['mins'][-0xf36+0x1076+-0x1*0x13f],_0x52b402['maxs'][0x37f*-0x3+-0x1755+0x21d3],_0x281a9f[_0x3a0e75*(-0x1e*0xe5+0x1f*-0x1+0x5*0x565)+(0x121b+0x2104*0x1+0x2*-0x198f)]/(0xee3+0x1cb3+-0x2a97)),_0x4afd80=_0x53a892(_0x52b402['mins'][0x22c7+-0x1a96+-0x1a3*0x5],_0x52b402['maxs'][-0x7e9*-0x2+0x1bb1+-0x2b81],_0x281a9f[_0x3a0e75*(0x3*0x7ee+0x1*0x5a1+0x3*-0x9cd)+(-0x602+-0x1315+0x1919*0x1)]/(0x1fec+-0x145d+-0xa90));_0x2e3e16['set'](_0x495c2c,_0x408bac,_0x4afd80);}if(_0x54215b){const _0x5edc35=_0x53a892(_0x885d9b['mins'][-0x857*-0x2+0x2481+-0x352f],_0x885d9b['maxs'][0x11b3+0x333+-0x14e6],_0x2e1b6a[_0x3a0e75*(0x7*0x36f+0x259f+-0x523*0xc)+(0xff5+0x114f+0x2144*-0x1)]/(0x2268+-0x18ac+-0x8bd)),_0x3fa0d1=_0x53a892(_0x885d9b['mins'][-0x1906+0x5da*0x1+0x1*0x132d],_0x885d9b['maxs'][-0x4*-0x162+-0x1d*-0xad+-0x1920],_0x2e1b6a[_0x3a0e75*(0x1942*-0x1+-0xd*-0x2bd+-0xa53)+(-0x1*-0x1250+0x3*0x729+-0x2*0x13e5)]/(0x1c*0x15b+-0x2*0xbc3+-0xd6f)),_0x4cc6ea=_0x53a892(_0x885d9b['mins'][0x25dd+-0x141b+-0x11c0],_0x885d9b['maxs'][-0x1*0x1fcd+0xc69*-0x1+0x2c38],_0x2e1b6a[_0x3a0e75*(-0x3*0xcdd+0x2253*-0x1+-0x1*-0x48ee)+(-0xeff+-0x1af*-0x17+0x5ee*-0x4)]/(-0xce3+-0x2423+0x3205)),_0x2af28e=_0x53a892(_0x885d9b['mins'][-0x10a1+-0x284+0x1328],_0x885d9b['maxs'][0x1f42*-0x1+-0xa19+0x423*0xa],_0x2e1b6a[_0x3a0e75*(0x1*-0xfdf+0x83a+-0x25*-0x35)+(-0x1369+0x1*0x1552+-0x1e6)]/(0x1aea+0x195a*0x1+0x3345*-0x1));_0x54215b['set'](-0x1604+-0x52*0x21+0x2096+0.5+_0x5edc35*An,-0x1*-0x22d+-0x1*-0x1e1+-0x40e+0.5+_0x3fa0d1*An,-0x6cf+0x2195*-0x1+0x2864+0.5+_0x4cc6ea*An,(0x3e1+0x2058+-0x2438)/(-0x1cdc+-0x5*0x3f0+0x308d+Math['exp'](-_0x2af28e)));}if(_0x27210f){const _0x15e359=_0x115a80[_0x3a0e75*(-0x1a0c+0x7b5*-0x1+0x21c5)+(0x22b5+0x31*0x1d+-0x2842)]+(_0x115a80[_0x3a0e75*(0x3*0xa31+0x3*-0x611+0x1c*-0x71)+(-0x1459*0x1+0xf5a+-0x50*-0x10)]<<0x490+0x1*0x259b+-0x2a23),_0x23b46a=_0x15e359%(-0x4ae*-0x2+-0x2606+0x1cea)*(-0x160*-0x1+0xab8+-0xc09),_0x239731=Math['floor'](_0x15e359/(-0x1d44+-0x1441+-0x5d*-0x89));for(let _0x346599=0x24a9+-0x1*0xe1d+0x2*-0xb46;_0x346599<0x2*0x3d0+0x2*-0xfd6+-0x180f*-0x1;++_0x346599)for(let _0x2474ef=0x457+0x1202+-0x1659;_0x2474ef<-0x1086+-0x10fd+0x2192;++_0x2474ef)_0x27210f[_0x346599*(-0xd9d*0x1+0x133f+0x1*-0x593)+_0x2474ef]=_0x53a892(_0x3bfb2e['mins'],_0x3bfb2e['maxs'],_0x1f0eab[(_0x23b46a+_0x2474ef)*(0x16a0+0x20b3*-0x1+-0x171*-0x7)+_0x346599+_0x239731*_0x44660b['sh_centroi'+'ds']['width']*(0x27*-0xe8+-0x3*-0x4+0x2350)]/(-0x1*-0x1e51+0x2229+-0x3f7b*0x1));}};}}class gC{constructor(){h(this,'meta'),h(this,'numSplats'),h(this,'means_l'),h(this,'means_u'),h(this,'quats'),h(this,'scales'),h(this,'sh0'),h(this,'sh_centroi'+'ds'),h(this,'sh_labels'),h(this,'packedText'+'ure');}['destroy'](){var _0x8f4f10,_0x43c7ad,_0x609ffc,_0x27e9f6,_0x585cda,_0x2b110e,_0x5e03c5,_0x3a4aba;(_0x8f4f10=this['means_l'])==null||_0x8f4f10['destroy'](),(_0x43c7ad=this['means_u'])==null||_0x43c7ad['destroy'](),(_0x609ffc=this['quats'])==null||_0x609ffc['destroy'](),(_0x27e9f6=this['scales'])==null||_0x27e9f6['destroy'](),(_0x585cda=this['sh0'])==null||_0x585cda['destroy'](),(_0x2b110e=this['sh_centroi'+'ds'])==null||_0x2b110e['destroy'](),(_0x5e03c5=this['sh_labels'])==null||_0x5e03c5['destroy'](),(_0x3a4aba=this['packedText'+'ure'])==null||_0x3a4aba['destroy']();}['createIter'](_0xb2e842,_0xf0f110,_0x7c93b,_0x23077e,_0x136136){return new _C(this,_0xb2e842,_0xf0f110,_0x7c93b,_0x23077e,_0x136136);}['calcAabb'](_0x3241ef){const {mins:_0x178a10,maxs:_0x5f35d5}=this['meta']['means'],_0x2c75d1=_0x49a923=>Math['sign'](_0x49a923)*(Math['exp'](Math['abs'](_0x49a923))-(0x1fba+0x14f*0x1b+-0x430e));_0x3241ef['center']['set']((_0x2c75d1(_0x178a10[-0x3f2+0x14c6+-0x1*0x10d4])+_0x2c75d1(_0x5f35d5[-0x2*0x6fe+-0x3*0x810+-0x2*-0x1316]))*(0x1acf+-0x1499+-0x636+0.5),(_0x2c75d1(_0x178a10[-0x1*-0xfa7+0x1419*0x1+-0x23bf])+_0x2c75d1(_0x5f35d5[0x2*-0x20f+0x3b3*-0x3+0xf38]))*(-0xe2e+-0x12b4+0x17*0x16e+0.5),(_0x2c75d1(_0x178a10[0x9*-0x431+-0x951*-0x1+0x1c6a])+_0x2c75d1(_0x5f35d5[0x1*0x1251+-0x17bf*-0x1+-0xe*0x301]))*(-0x755*0x2+-0x1*0xb50+0x19fa+0.5)),_0x3241ef['halfExtent'+'s']['set']((_0x2c75d1(_0x5f35d5[0x19bd+-0x11*0x5+-0x1968])-_0x2c75d1(_0x178a10[-0x7fb*-0x1+-0xac4*0x2+0xd8d]))*(-0x206*0x9+-0x221c+0x3452+0.5),(_0x2c75d1(_0x5f35d5[-0x2040+-0x1d75+-0x3db6*-0x1])-_0x2c75d1(_0x178a10[0x18e2+0xdbc+-0x269d]))*(-0x11d7+-0x177b+-0x1*-0x2952+0.5),(_0x2c75d1(_0x5f35d5[0x6a4+-0x1bac+0x150a])-_0x2c75d1(_0x178a10[0x1e2f+0x26d*0x7+-0x5e5*0x8]))*(-0x45*-0x1b+-0x1ee+-0x559*0x1+0.5));}['getCenters'](_0x592359){const {meta:_0x101a89,means_l:_0x30f4f4,means_u:_0x4426f3,numSplats:_0xe15a96}=this,{means:_0x3c4531}=_0x101a89,_0x12b0d9=new Uint32Array(_0x4426f3['_levels'][0x1b5f+0x182e+-0xf9*0x35]['buffer']),_0x21489c=new Uint32Array(_0x30f4f4['_levels'][0x141a+0x8f*0xb+-0x1a3f]['buffer']),_0x18d291=_0x3c4531['mins'][-0x1346+-0x2*-0xcaf+0x4*-0x186]/(0x15d*0x63+-0x8531*0x3+0x3*0xad89),_0x3162ad=_0x3c4531['mins'][-0xd*-0x2dd+0x1684*0x1+-0x3bbc]/(-0xfdc9*0x1+0x15411+0xa9b7),_0x3b71c8=_0x3c4531['mins'][0x745*0x4+-0x1817*0x1+-0xf*0x55]/(0x3207*-0x3+0xb989+0xdc8b),_0xebe3a=_0x3c4531['maxs'][0xa1*0x11+0x4b2+-0xf63]/(0x26*0xc17+0x31*-0x3a3+-0x1938),_0x2de21f=_0x3c4531['maxs'][0x7*0x52a+0x1*-0x71d+-0x3a1*0x8]/(-0x1da61+0x1759f+0x15*0x10fd),_0x396f49=_0x3c4531['maxs'][-0x1310+0x1a37+-0x725]/(-0x1a3db+-0x44f*-0x7+0x285b1);for(let _0x5b9190=-0x69*-0x51+0x1ede+0x155d*-0x3;_0x5b9190<_0xe15a96;_0x5b9190++){const _0x5d0996=_0x5b9190,_0x358a15=_0x12b0d9[_0x5d0996],_0x24adfe=_0x21489c[_0x5d0996],_0x180279=_0x358a15<<0x1002+0x1*-0xadb+0x3*-0x1b5&0x1c6a*0x9+-0x11e5+0x112b|_0x24adfe&0x665*-0x3+-0xdd1+-0x21ff*-0x1,_0x4b37ca=_0x358a15&-0xef41*-0x2+-0x5a7c*-0x3+-0x1eef6|_0x24adfe>>>0x6*-0x243+0x45f+0x93b*0x1&-0x1617+0xd56*0x2+-0x1b*0x22,_0x4cf12d=_0x358a15>>>-0x21a1+0x3*-0xbb+0x23da&0x1ecea+-0x2*-0xfc3e+-0x17333*0x2|_0x24adfe>>>-0x5*0xa3+-0x1c27*-0x1+-0x2*0xc74&0x1*0x13+-0x1*0xb2a+0xc16,_0x5185ac=_0x18d291*(0x572*0x1+-0x1*-0x2b0d+0x8*0x19f0-_0x180279)+_0xebe3a*_0x180279,_0x84923b=_0x3162ad*(0x4*0x2529+0x1ea1b*0x1+-0x17ec0-_0x4b37ca)+_0x2de21f*_0x4b37ca,_0x2ec150=_0x3b71c8*(0x5d7e+0x12a3f*0x1+-0x1b26*0x5-_0x4cf12d)+_0x396f49*_0x4cf12d,_0x3d042c=_0x5185ac<-0x793*-0x3+-0x1d1e+0x1*0x665?-_0x5185ac:_0x5185ac,_0x17f8e2=_0x84923b<-0x692*-0x1+-0x3*0x4d1+0x7e1*0x1?-_0x84923b:_0x84923b,_0x35ceb6=_0x2ec150<0x177f*0x1+-0x2313+-0x34*-0x39?-_0x2ec150:_0x2ec150;_0x592359[_0x5b9190*(-0x1*-0x4f+0x1952+-0x199e)]=(_0x5185ac<0x147b+-0x506+-0x527*0x3?-(0x49+0x730+-0x4*0x1de):0x1b1a+0x252f+-0x4048)*(Math['exp'](_0x3d042c)-(0x2*0x13e+0xc6+0x77*-0x7)),_0x592359[_0x5b9190*(-0xb2*0x7+0x26ea+-0x2209)+(0x581*-0x1+-0x16*-0xe5+-0xe2c)]=(_0x84923b<0x29*-0x55+-0x7b3+0x1550?-(0x1e81+0x191c+-0xde7*0x4):-0x7f4+-0x167f+0x1e74)*(Math['exp'](_0x17f8e2)-(-0xf67+0xbcd+0x39b)),_0x592359[_0x5b9190*(-0x158e*0x1+0x2441*-0x1+0x39d2)+(0x221*0xc+-0x1*-0x1def+-0x3779)]=(_0x2ec150<-0x6a6*0x1+-0x42d+0x1*0xad3?-(0x880+-0x2556+0x1*0x1cd7):-0x12*0xe5+-0x24a9+0xb*0x4cc)*(Math['exp'](_0x35ceb6)-(0x2*0x92f+0x16ca+-0x2927));}}['calcFocalP'+'oint'](_0x45bcca,_0x945b7a){_0x45bcca['set'](-0x2423+0x2060+0x3c3,-0xb10+-0x8*0x70+0xe90,-0x11*0x1d0+-0x916*-0x2+0xca4);}get['isSogs'](){return!(-0x210b+-0x465*-0x1+-0x2*-0xe53);}get['shBands'](){var _0x1dc8f3;return{0xc0:0x1,0x200:0x2,0x3c0:0x3}[(_0x1dc8f3=this['sh_centroi'+'ds'])==null?void(-0x7*0xcd+-0x130+0x1*0x6cb):_0x1dc8f3['width']]??-0xcc5*0x3+0x654+-0x1*-0x1ffb;}async['decompress'](){const _0x1903b4=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3'],{shBands:_0x5047c6}=this,{means_l:_0x2c5dd9,means_u:_0x3b249e,quats:_0x2cc2fe,scales:_0xfd0ac7,sh0:_0x2c1345,sh_labels:_0x4e7d5f,sh_centroids:_0x125a6d}=this;if(_0x2c5dd9['_levels'][-0x412*0x1+0x1d02*0x1+-0x18f0]=await Ci(_0x2c5dd9),_0x3b249e['_levels'][0x327+-0x135d+0x33e*0x5]=await Ci(_0x3b249e),_0x2cc2fe['_levels'][-0x4c0+0x1*0x1c1+-0x2ff*-0x1]=await Ci(_0x2cc2fe),_0xfd0ac7['_levels'][-0x1a1*-0x11+-0x1247*-0x1+0x2df8*-0x1]=await Ci(_0xfd0ac7),_0x2c1345['_levels'][-0xb*-0x1c6+0x73d+-0x1abf]=await Ci(_0x2c1345),_0x5047c6>0x1*0x1bad+0x4*-0x5a8+0x1*-0x50d){_0x4e7d5f['_levels'][-0x2258+-0x231f+-0x1*-0x4577]=await Ci(_0x4e7d5f),_0x125a6d['_levels'][0x1962+-0x6ad*-0x2+-0x10c*0x25]=await Ci(_0x125a6d);const _0x496f6b=[];for(let _0xd1895e=-0x1c15+0x15ff*0x1+0x616;_0xd1895e<0x10cf+-0x2*-0xe27+0x10*-0x2cf;++_0xd1895e)_0x496f6b['push']('f_rest_'+_0xd1895e);_0x1903b4['splice'](_0x1903b4['indexOf']('f_dc_0')+(-0x625+-0x20f2+0x2718),-0x1307*-0x2+0x319*0x4+0xb*-0x496,..._0x496f6b);}const _0x34d1d5={};_0x1903b4['forEach'](_0xfe6639=>{_0x34d1d5[_0xfe6639]=new Float32Array(this['numSplats']);});const _0x22c915=new D(),_0x402f3f=new le(),_0x49cc06=new D(),_0x5ec4c1=new re(),_0x18c7d2=_0x5047c6>0xb5*0x11+0x1*-0x1697+0xa92?new Float32Array(0x309+-0x2418+-0x2*-0x109e):null,_0x14e31a=this['createIter'](_0x22c915,_0x402f3f,_0x49cc06,_0x5ec4c1,_0x18c7d2);for(let _0x82c732=-0x4+0x15d0+-0x15cc;_0x82c732<this['numSplats'];++_0x82c732)if(_0x14e31a['read'](_0x82c732),_0x34d1d5['x'][_0x82c732]=_0x22c915['x'],_0x34d1d5['y'][_0x82c732]=_0x22c915['y'],_0x34d1d5['z'][_0x82c732]=_0x22c915['z'],_0x34d1d5['rot_1'][_0x82c732]=_0x402f3f['x'],_0x34d1d5['rot_2'][_0x82c732]=_0x402f3f['y'],_0x34d1d5['rot_3'][_0x82c732]=_0x402f3f['z'],_0x34d1d5['rot_0'][_0x82c732]=_0x402f3f['w'],_0x34d1d5['scale_0'][_0x82c732]=_0x49cc06['x'],_0x34d1d5['scale_1'][_0x82c732]=_0x49cc06['y'],_0x34d1d5['scale_2'][_0x82c732]=_0x49cc06['z'],_0x34d1d5['f_dc_0'][_0x82c732]=(_0x5ec4c1['x']-(-0x108b+0x1667+0x177*-0x4+0.5))/An,_0x34d1d5['f_dc_1'][_0x82c732]=(_0x5ec4c1['y']-(-0x1*0xba2+-0x3bd*-0x9+-0x1603+0.5))/An,_0x34d1d5['f_dc_2'][_0x82c732]=(_0x5ec4c1['z']-(-0x4ac+0x117e+0x1*-0xcd2+0.5))/An,_0x34d1d5['opacity'][_0x82c732]=_0x5ec4c1['w']<=-0xa6d*-0x3+-0x18ee+-0xd*0x7d?-(0x8a9*0x3+0x1533+-0x2f06*0x1):_0x5ec4c1['w']>=-0x53*-0x3+0x1e9*0x13+-0x1*0x2543?-0x1*-0xb2d+-0xa0*-0x28+-0x1*0x2405:-Math['log']((0x1be1+-0x53e*0x4+-0x6e8)/_0x5ec4c1['w']-(0x5*-0x21d+0xa7*-0xe+-0x2*-0x9da)),_0x18c7d2){for(let _0x34080d=0x183c+0x21db+-0x3a17;_0x34080d<-0x1d9a*0x1+-0x7*-0x236+-0x7*-0x20b;++_0x34080d)_0x34d1d5['f_rest_'+_0x34080d][_0x82c732]=_0x18c7d2[_0x34080d];}return new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x1903b4['map'](_0x47e06a=>({'name':_0x47e06a,'type':'float','byteSize':0x4,'storage':_0x34d1d5[_0x47e06a]}))}]);}['packGpuMem'+'ory'](){const {means_l:_0x1f6c7d,means_u:_0x58b610,quats:_0x5844bd,scales:_0x45e048,sh_labels:_0x1aa3e5,numSplats:_0x42b2d4}=this,{device:_0x1fbf19}=_0x1f6c7d,{scope:_0x5a476d}=_0x1fbf19,_0x470218=$t['createShad'+'er'](_0x1fbf19,{'uniqueName':'GsplatSogs'+'ReorderSha'+'der','attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentGLSL':uC,'fragmentWGSL':pC,'fragmentOutputTypes':['uvec4']}),_0x497860=new gt({'colorBuffer':this['packedText'+'ure'],'depth':!(0x2033*0x1+0x7*0x8d+0x347*-0xb),'mipLevel':0x0});_0x1fbf19['setCullMod'+'e'](bt),_0x1fbf19['setBlendSt'+'ate'](pt['NOBLEND']),_0x1fbf19['setDepthSt'+'ate'](Yt['NODEPTH']),mC(_0x5a476d,{'means_l':_0x1f6c7d,'means_u':_0x58b610,'quats':_0x5844bd,'scales':_0x45e048,'sh_labels':_0x1aa3e5??_0x1f6c7d,'numSplats':_0x42b2d4}),Ar(_0x1fbf19,_0x497860,_0x470218),_0x497860['destroy'](),_0x470218['destroy']();}async['prepareGpu'+'Data'](){const {device:_0x5c9afa,height:_0x3887ec,width:_0x828f91}=this['means_l'];this['means_l']['_levels'][-0x2388+-0x1*0x161+0x35b*0xb]=await Ci(this['means_l']),this['means_u']['_levels'][0x191*-0x17+-0x67*-0x28+0xf3*0x15]=await Ci(this['means_u']),this['packedText'+'ure']=new _e(_0x5c9afa,{'name':'sogsPacked'+'Texture','width':_0x828f91,'height':_0x3887ec,'format':Ue,'mipmaps':!(0x7a8+0x176f+-0x1f16)}),_0x5c9afa['on']('devicerest'+'ored',()=>{this['packGpuMem'+'ory']();}),this['packGpuMem'+'ory']();}['reorderDat'+'a'](){return this['prepareGpu'+'Data']();}}async function SC(){let _0x1a690a=null,_0x1cec3=null,_0x432abb=null,_0x2ac0dd=null,_0x4f5de2=null,_0x186318=null,_0x427fb7=null,_0x3654a0=null,_0x8d3562=null,_0x393d16=null,_0x565104=null,_0x1982c9=null,_0x4ce13d=null,_0xa7d3c5=null,_0x44e813=null,_0x208fc9=null,_0x2299ba=null,_0x4b64d6=null,_0x9cb6b3=null,_0x4dc7e1=null,_0x45937b=null,_0x3eac66=null,_0xb9dcdc=null,_0x231036=null,_0x1f4d42=Float32Array['BYTES_PER_'+'ELEMENT'],_0x11bd81=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x2d4a81=0x1*0x202d+-0x25ae+-0x1*-0x581,_0x5dedf8=!(0xf03*-0x1+-0x1*-0x1d15+0x2*-0x709),_0x5aa078,_0x58a93b,_0x50e7bb={'x':0x0,'y':0x0,'z':0x0},_0x3e0110={'x':0x0,'y':0x0,'z':0x0},_0x17f15d=!(-0x19e5+0x981+0x2*0x832),_0x1f81f5=!(0x220a+0x1*-0xcfb+-0x9*0x257),_0x23a5ab=!(0x1a*-0x3c+-0x1f86+0x259f),_0x2008bf=!(-0x5c*0x63+0x1eba+0x4db),_0x1e2709=0x187*0xe+0x15cf+-0x2b31*0x1,_0x69dcc6=-0xac1+-0x1d18+0x27d9,_0x2864f0=!(0x7*-0x245+-0xdf5+0x1b*0x11b),_0x286075=null,_0x4ab0e3=!(-0x3*0xa9e+0x955+0x1686),_0x4039b5=-0x1b46+-0x1ecb*-0x1+-0x385,_0x216993=-0x1*-0x10bb+-0x1*0x2605+0x154a,_0x4364f4={'x':0x0,'y':0x0,'z':0x0},_0x18d365={'x':0x0,'y':0x0,'z':0x0},_0x5e4fb4,_0x3e7f59;self['onmessage']=async _0xcab85c=>{const {data:_0x20badb}=_0xcab85c;switch(_0x20badb['type']){case'initWorker':await _0x1edc7a(_0x20badb['sortWasmUr'+'l']),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x2d4a81=_0x20badb['centers']['length']/(-0xffa+-0x9c9+-0x1*-0x19c6),_0x2d4a81<=0x159a+-0x6b*0x1c+0x4f3*-0x2||!_0x1cec3)return;_0x236b28(),_0x5dedf8=_0x20badb['is4d'],_0x5e4fb4=_0x20badb['id'];const _0x4bafc9=_0x3f49b4(_0x2d4a81);if(_0x5d7e94(_0x4bafc9),_0x432abb[-0xc77+-0x18*-0x75+-0x1*-0x17f]=_0x4364f4['x'],_0x432abb[-0x1*0x57a+-0x81+0x5fc]=_0x4364f4['y'],_0x432abb[0x13f3*-0x1+-0x1504+0x28f9]=_0x4364f4['z'],_0x2ac0dd[-0x4*-0x502+0x3*0xa2e+-0x2*0x1949]=_0x18d365['x'],_0x2ac0dd[0xecb+-0x499*-0x4+-0x212e]=_0x18d365['y'],_0x2ac0dd[-0x1*0x13e5+0x1934+-0x54d]=_0x18d365['z'],_0x186318&&_0x20badb['centers']&&_0x186318['length']===_0x20badb['centers']['length']){const _0x2edc15=new Float32Array(_0x20badb['centers']);_0x186318['set'](_0x2edc15);}if(_0x3654a0&&_0x20badb['timeIndex']&&_0x3654a0['length']===_0x20badb['timeIndex']['length']){const _0x554af1=new Uint32Array(_0x20badb['timeIndex']);_0x3654a0['set'](_0x554af1);}if(_0x565104&&_0x20badb['motion']&&_0x565104['length']===_0x20badb['motion']['length']){const _0x3d440f=new Float32Array(_0x20badb['motion']);_0x565104['set'](_0x3d440f);}if(_0x5dedf8&&_0x8d3562&&_0x393d16&&_0x20badb['muT']&&_0x20badb['tScale']&&_0x8d3562['length']===_0x20badb['muT']['length']&&_0x393d16['length']===_0x20badb['tScale']['length']&&(_0x8d3562['set'](_0x20badb['muT']),_0x393d16['set'](_0x20badb['tScale'])),_0x427fb7){for(let _0x107631=-0x6d*-0x50+-0x1cf*-0x7+-0x2eb9;_0x107631<_0x427fb7['length'];++_0x107631)_0x427fb7[_0x107631]=_0x107631;}_0x4f5de2&&_0x20badb['timeOption']&&_0x4f5de2['set'](_0x20badb['timeOption']),_0xef765(),_0x4ab0e3=!(0x1cde+-0x30*0xb9+0x5d2*0x1),_0x23a5ab=!(0x23ef+0x174+0x1*-0x2563),_0x4455fd();break;case'setTime':_0x5aa078=_0x20badb['time'],_0x4455fd();break;case'setUseTemp'+'oralSort':_0x17f15d=_0x20badb['useTempora'+'lSort'];break;case'setUseDyna'+'micSort':_0x1f81f5=_0x20badb['useDynamic'+'Sort'];break;case'sort':if(!_0x432abb)return;_0x432abb[-0x1459*-0x1+-0x1069*-0x2+-0x27*0x15d]=_0x20badb['cameraPosi'+'tion']['x'],_0x432abb[0xed5*-0x1+-0x42d+0x1303]=_0x20badb['cameraPosi'+'tion']['y'],_0x432abb[-0x933*-0x4+-0x1*-0x7b2+-0x36c*0xd]=_0x20badb['cameraPosi'+'tion']['z'],_0x2ac0dd[-0x1*0x1370+-0x33*-0xb2+-0x1006]=_0x20badb['cameraDire'+'ction']['x'],_0x2ac0dd[-0x1*0x20e9+0x17e4+0x906]=_0x20badb['cameraDire'+'ction']['y'],_0x2ac0dd[-0x1*-0x23a3+-0x1a*-0x45+-0x2aa3]=_0x20badb['cameraDire'+'ction']['z'],_0x4364f4['x']=_0x20badb['cameraPosi'+'tion']['x'],_0x4364f4['y']=_0x20badb['cameraPosi'+'tion']['y'],_0x4364f4['z']=_0x20badb['cameraPosi'+'tion']['z'],_0x18d365['x']=_0x20badb['cameraDire'+'ction']['x'],_0x18d365['y']=_0x20badb['cameraDire'+'ction']['y'],_0x18d365['z']=_0x20badb['cameraDire'+'ction']['z'],_0x4455fd();break;}};const _0x236b28=()=>{_0x69dcc6=Math['max'](0x1af7+-0x29*0xf2+0xbd5,Math['min'](-0x5d8*0x1+-0x1b59+-0x33*-0xa7,Math['round'](Math['log2'](_0x2d4a81/(0x1b09+-0x4c*-0x3b+0x2c89*-0x1))))),_0x1e2709=(0x128a+-0x1*-0x161b+0x28a3*-0x1)**_0x69dcc6+(0x34f+0xeb*-0x3+-0x3*0x2f);},_0x5d7e94=_0xafa3c8=>{_0x1982c9=0xe23+-0x17e*0x5+0x6ad*-0x1,_0x4ce13d=_0x1982c9+_0x2d4a81*_0x1f4d42*(0x5e*0x1d+-0x1b17+-0x24*-0x75),_0x4b64d6=_0x4ce13d+(0x138b+-0x1*0xc57+-0x6d0)*_0x1f4d42*(0x5e1+0x4*0x10b+0x1*-0xa0b),_0x9cb6b3=_0x4b64d6+_0x2d4a81*_0x11bd81,_0x4dc7e1=_0x9cb6b3+(-0xff7+0xaad+0x54d)*_0x1f4d42,_0x45937b=_0x4dc7e1+(-0x1*-0x26a7+-0x3d5+-0x22cf)*_0x1f4d42,_0x3eac66=_0x45937b+(0xa44+-0xc3b+0x1fa)*_0x1f4d42,_0xb9dcdc=_0x3eac66+(0x1dc6+0x2710+-0x44d3)*_0x1f4d42,_0x231036=_0xb9dcdc+_0x2d4a81*_0x11bd81,_0x186318=new Float32Array(_0xafa3c8,_0x1982c9,_0x2d4a81*(-0x433*0x1+0x130e+-0xc8*0x13)),_0x4f5de2=new Float32Array(_0xafa3c8,_0x4ce13d,0x151*-0x4+0x2*-0x81+0x70e),_0x427fb7=new Uint32Array(_0xafa3c8,_0x4b64d6,_0x2d4a81),_0x432abb=new Float32Array(_0xafa3c8,_0x9cb6b3,0x25a1+-0xb01+-0x1a9d),_0x2ac0dd=new Float32Array(_0xafa3c8,_0x4dc7e1,-0x12*-0x1bd+-0x2*-0x2f5+-0x2531),_0x5dedf8&&(_0x208fc9=_0x231036+_0x1e2709*_0x11bd81,_0x2299ba=_0x208fc9+_0x2d4a81*_0x1f4d42,_0x44e813=_0x2299ba+_0x2d4a81*_0x1f4d42,_0xa7d3c5=_0x44e813+_0x2d4a81*(0xa67+0x2079+-0x2add*0x1)*_0x1f4d42,_0x8d3562=new Float32Array(_0xafa3c8,_0x208fc9,_0x2d4a81),_0x393d16=new Float32Array(_0xafa3c8,_0x2299ba,_0x2d4a81),_0x565104=new Float32Array(_0xafa3c8,_0x44e813,_0x2d4a81*(-0x6fb*-0x4+0x5*-0x115+-0x1680)),_0x3654a0=new Uint32Array(_0xafa3c8,_0xa7d3c5,_0x2d4a81));},_0x1edc7a=async _0x1869e9=>{_0x4039b5=-0x1*0xb7f+0xecc+0x34c*-0x1;const _0x28772b={'env':{'memory':new WebAssembly['Memory']({'initial':_0x4039b5}),'pthread_self':function(){return 0x40*-0x88+-0x1a3b+-0x38b*-0x11;},'emscripten_builtin_memalign':function(){return 0x540+0x4*0x284+-0xf50;},'loggerVec3':(_0xa3b3dd,_0x22ec8e,_0x473c64,_0x3dfe3c)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0xa3b3dd+']\x200:'+_0x22ec8e+'\x201:'+_0x473c64+'\x202:'+_0x3dfe3c);},'loggerFloat':(_0x2d2370,_0x16b353)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x2d2370+']\x20a:'+_0x16b353);},'loggerValue':(_0x1f21cd,_0x5cb1ef,_0x126a5b,_0x151731,_0x1be8fc)=>{console['log']('C++\x20logger'+'Value\x20['+_0x1f21cd+']\x20minDist:'+_0x5cb1ef+'\x20maxDist:'+_0x126a5b+'\x20range:'+_0x151731+'\x20divider:'+_0x1be8fc);},'loggerCamera':(_0x1581fc,_0x59d84e,_0x32c092,_0x2d0bc8,_0x25173e,_0x51fb26,_0x314954)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x1581fc+']\x20x:'+_0x59d84e+'\x20y:'+_0x32c092+'\x20z:'+_0x2d0bc8+'\x20dx:'+_0x25173e+'\x20dy:'+_0x51fb26+'\x20dz:'+_0x314954);},'loggerBound':(_0x5047e0,_0x37c998,_0x57f7e5,_0x1c730e,_0x1478c7,_0x3cbaf3)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x5047e0+'\x20minY:'+_0x37c998+'\x20minZ:'+_0x57f7e5+'\x20maxX:'+_0x1c730e+'\x20maxY:'+_0x1478c7+'\x20maxZ:'+_0x3cbaf3);},'loggerDebug':_0x269f7c=>{console['log']('C++\x20logger'+'Debug\x20['+_0x269f7c+']');}}};try{const _0x2e79ca=await(await fetch(_0x1869e9))['arrayBuffe'+'r']();return _0x1a690a=(await WebAssembly['instantiat'+'e'](_0x2e79ca,_0x28772b))['instance'],_0x1cec3=_0x28772b['env']['memory'],_0x1a690a;}catch(_0x2d92cb){throw console['error']('WASM'+':',_0x2d92cb),_0x2d92cb;}},_0x5594d5=_0x9a4121=>{if(_0x9a4121<=0x12b1+-0x133*0x11+0x1b2)return 0x207d+0x1730+-0xdeb*0x4;let _0x56429d=_0x9a4121*_0x1f4d42*(0xbbe+-0x184b+0xc90);_0x56429d+=_0x9a4121*_0x11bd81,_0x56429d+=(-0x9*0x1ed+-0x470+0x15c8)*_0x1f4d42,_0x56429d+=(-0x238a+-0x3*-0x8ad+-0x986*-0x1)*_0x1f4d42,_0x56429d+=(-0x107d+-0x9fd+-0x1*-0x1a7d)*_0x1f4d42,_0x56429d+=(0x56a+0x4e7+-0x527*0x2)*_0x1f4d42,_0x56429d+=_0x9a4121*_0x1f4d42,_0x56429d+=_0x1e2709*_0x11bd81,_0x56429d+=(-0xfe*-0x17+0x5*-0x20b+-0xc37)*_0x1f4d42*(-0x5be+0xb93*0x1+-0x5d3),_0x56429d+=_0x9a4121*_0x11bd81,_0x5dedf8&&(_0x56429d+=_0x9a4121*_0x1f4d42,_0x56429d+=_0x9a4121*_0x1f4d42,_0x56429d+=_0x9a4121*_0x1f4d42*(-0x91*-0x33+0x1*-0x22d+-0x1ab3));const _0x2b89a1=(-0x685+0xc9a+0x1*-0x5d5)*(-0x1276*0x1+-0x1*0x79d+0x1e13);return Math['ceil'](_0x56429d/_0x2b89a1);},_0x3f49b4=_0x5d1720=>{const _0x5731c6=_0x5594d5(_0x5d1720);return _0x5731c6>_0x4039b5?(_0x1cec3['grow'](_0x5731c6-_0x4039b5),_0x4039b5=_0x5731c6):_0x1cec3['grow'](0x13*0x6f+-0x907+0xca),_0x1cec3['buffer'];},_0xef765=()=>{if(!_0x1a690a)return;const {calcAABB:_0x4a92b3}=_0x1a690a['exports'];_0x4a92b3(_0x1982c9,_0x45937b,_0x3eac66,_0x2d4a81);},_0x4455fd=()=>{_0x286075&&clearTimeout(_0x286075),_0x286075=setTimeout(()=>{_0x286075=null,_0x45dc31();},0x5*-0x74d+-0x4be+0x293f*0x1);},_0x45dc31=()=>{if(!_0x1a690a||!_0x4ab0e3||_0x427fb7['length']!==_0x2d4a81||_0x4b64d6===null||_0x1982c9===null||_0x9cb6b3===null||_0x4dc7e1===null||_0x45937b===null||_0x3eac66===null)return;const _0x37eaef=_0x432abb[0xc2d+-0x2*0x1166+0x169f],_0x267903=_0x432abb[-0x1516+-0x77c*0x2+0x240f],_0x32bff8=_0x432abb[-0xcb8+0x23e5+-0x172b],_0x4ee8da=_0x2ac0dd[0x196f*0x1+-0x1545*0x1+-0x42a],_0x4bf9dc=_0x2ac0dd[0x2a*0x7+0x1*0xb17+0x20a*-0x6],_0x414201=_0x2ac0dd[0x191c+0x1679+-0x2f93*0x1],_0x164ffd=0x1913+-0x1d*-0x53+-0x227a+0.001;if(!_0x23a5ab&&Math['abs'](_0x37eaef-_0x50e7bb['x'])<_0x164ffd&&Math['abs'](_0x267903-_0x50e7bb['y'])<_0x164ffd&&Math['abs'](_0x32bff8-_0x50e7bb['z'])<_0x164ffd&&Math['abs'](_0x4ee8da-_0x3e0110['x'])<_0x164ffd&&Math['abs'](_0x4bf9dc-_0x3e0110['y'])<_0x164ffd&&Math['abs'](_0x414201-_0x3e0110['z'])<_0x164ffd&&Math['abs'](_0x5aa078-_0x58a93b)<-0x124c+-0x79d*-0x3+-0x48b+0.01)return;if(_0x2008bf){_0x2864f0=!(0x2*-0xa63+0x4*0x61a+-0x3a2);return;}_0x2008bf=!(0x238c+0x2289*0x1+-0x65f*0xb),_0x23a5ab=!(-0x35+0xee9+-0xeb3*0x1),_0x58a93b=_0x5aa078,_0x50e7bb['x']=_0x37eaef,_0x50e7bb['y']=_0x267903,_0x50e7bb['z']=_0x32bff8,_0x3e0110['x']=_0x4ee8da,_0x3e0110['y']=_0x4bf9dc,_0x3e0110['z']=_0x414201,_0x2864f0=!(0x1b5*-0x4+0x1697*-0x1+-0x10d*-0x1c);const {sortIndexes:_0x576cba}=_0x1a690a['exports'];try{const _0xaac879=_0x576cba(_0x4b64d6,_0x1982c9,_0x44e813,_0x208fc9,_0x2299ba,_0x9cb6b3,_0x4dc7e1,_0x45937b,_0x3eac66,_0xb9dcdc,_0x231036,_0x5aa078||0x2264+-0x1190+0x3*-0x59c,_0x17f15d,_0x1f81f5,_0x5dedf8,_0x2d4a81,_0x1e2709,_0x69dcc6,_0x4ce13d,_0xa7d3c5),_0x5027e5=new Uint32Array(_0x427fb7);if(_0xaac879===0x1d6a+-0x1d31+-0x39){debugger;console['log']('____\x20ENGIN'+'E','Indexes\x20co'+'unt\x20===\x20',_0xaac879);}const _0x4dfc81=_0x2d4a81!==_0x216993||_0x3e7f59!==_0x5e4fb4;self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0xaac879,'order':_0x5027e5,'isNewOrder':_0x4dfc81},[_0x5027e5['buffer']]),_0x216993=_0x2d4a81,_0x3e7f59=_0x5e4fb4;}catch(_0xfd2cae){console['error'](':',_0xfd2cae),self['postMessag'+'e']({'type':'error','error':_0xfd2cae['message']});}_0x2008bf=!(0xfc9+0x18*-0x135+-0xd30*-0x1),_0x2864f0&&_0x4455fd();};}class yC extends me{constructor(){super(),h(this,'worker',null),h(this,'numSplats',-0x13c4+0x930+0xa94),h(this,'is4d',!(-0x242d+0x9af+0x1a7e)),h(this,'sortStartT'+'ime',0x248d+0x1*-0x623+0xe5*-0x22),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'data',{}),(this['orderTextu'+'re']=null,this['backOrderT'+'exture']=null,this['worker']=null,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+SC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x3d5d8a=>{var _0x49b73e;if(!this['worker'])return;const {data:_0x138f9e}=_0x3d5d8a;switch(_0x138f9e['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':_0x138f9e['order']&&(_0x138f9e['isNewOrder']&&(this['orderTextu'+'re']=this['backOrderT'+'exture']),(_0x49b73e=this['orderTextu'+'re'])==null||_0x49b73e['write'](0x126a+-0x2d5+-0x1*0xf95,0x1*-0x241a+0x8b3*0x1+-0x73*-0x3d,this['orderTextu'+'re']['width'],this['orderTextu'+'re']['height']-(0xcd8+0x1*-0x2635+-0xbf*-0x22),_0x138f9e['order']));let _0x2c6895=0xf35*0x1+-0x143d+-0x17*-0x38;this['sortStartT'+'ime']!==-0xea7+-0x7*0x2f3+0x9*0x3ec&&(_0x2c6895=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x3d5d8a['data']['count'],_0x2c6895,_0x138f9e['isNewOrder']),this['sortStartT'+'ime']=-0x9*-0x121+0x2479*-0x1+0x1a50;break;case'error':console['error']('Worker:',_0x138f9e['error']),this['fire']('error',_0x138f9e['error']);break;}},this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/sorter-t'+'railing.wa'+'sm'});}['initData'](_0x442113,_0x19554b,_0x22c2d4,_0x3ba739,_0x41ae84,_0x3f4b43,_0x29e370,_0x7995e8){var _0xd92b0;this['is4d']=_0x7995e8,this['numSplats']=_0x19554b['length']/(-0x1559+0x1e2*-0x2+0x8*0x324),(!_0x29e370||_0x29e370['length']===-0x159+0x4e8+-0x38f*0x1)&&(_0x29e370=[-0x1c68+-0x646+0x22ae,0x600+-0x81+-0x543]),this['orderTextu'+'re']||(this['orderTextu'+'re']=_0x442113),this['backOrderT'+'exture']=_0x442113;const _0x39a80e=new Date()['getTime']();(_0xd92b0=this['worker'])==null||_0xd92b0['postMessag'+'e']({'type':'initData','centers':_0x19554b,'muT':_0x22c2d4,'tScale':_0x3ba739,'motion':_0x41ae84,'timeIndex':_0x3f4b43,'timeOption':_0x29e370,'is4d':_0x7995e8,'id':_0x39a80e});}['setCamera'](_0x35bcaa,_0x35b921){this['worker']&&(!_0x35bcaa||!_0x35b921||(this['data']['cameraPosi'+'tion']={'x':_0x35bcaa['x'],'y':_0x35bcaa['y'],'z':_0x35bcaa['z']},this['data']['cameraDire'+'ction']={'x':_0x35b921['x'],'y':_0x35b921['y'],'z':_0x35b921['z']},this['sortStartT'+'ime']===0x203f+0x1*0x255e+0xfb*-0x47&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x35bcaa['x'],'y':_0x35bcaa['y'],'z':_0x35bcaa['z']},'cameraDirection':{'x':_0x35b921['x'],'y':_0x35b921['y'],'z':_0x35b921['z']}})));}['setCurrent'+'Time'](_0x2cf752){this['worker']&&(this['data']['time']=_0x2cf752,this['sortStartT'+'ime']===0x1e29+-0x1c70+-0x9*0x31&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x2cf752}));}['setUseTemp'+'oralSort'](_0x2a5f93){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x2a5f93});}['setUseDyna'+'micSort'](_0x5dc3f2){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseDyna'+'micSort','useDynamicSort':_0x5dc3f2});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const vC=new te(),Va=new D(),Ga=new D(),Sc=[-0x1cae+-0x2047*0x1+0x3cf5,0xa77+-0x1ecb+0x1454];class xC{constructor(_0x4bec48,_0x2be34c={}){h(this,'resource'),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'_material'),h(this,'meshInstan'+'ce'),h(this,'options',{}),h(this,'sorter',null),h(this,'time',-0x1f67+-0x9*0x3fb+0x433a),h(this,'lastCamera'+'Position',new D()),h(this,'lastCamera'+'Direction',new D()),h(this,'resolveSH',null),h(this,'cameras',[]),h(this,'forceUpDat'+'eSorterTim'+'e',(_0x416fc8,_0x50e2a9=void(0x1d*-0xb8+-0x583*0x4+0x2ae4))=>{(_0x50e2a9||_0x50e2a9===-0x2*-0x6df+-0x28*-0xd1+-0x2*0x1733)&&(this['material']['setParamet'+'er']('uTime',_0x50e2a9),this['updateTime'](_0x50e2a9)),this['sort'](_0x416fc8);}),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x4bec48['numSplats']),this['resource']=_0x4bec48,this['orderTextu'+'re']=this['resource']['createText'+'ure']('splatOrder',Ki,this['resource']['evalTextur'+'eSize'](this['resource']['numSplats'])),this['backOrderT'+'exture']=null,_0x2be34c['material']?(this['_material']=_0x2be34c['material'],this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])):(this['_material']=new Xn({'uniqueName':'SplatMater'+'ial','vertexGLSL':'#include\x20\x22'+'gsplatVS\x22','fragmentGLSL':'#include\x20\x22'+'gsplatPS\x22','vertexWGSL':'#include\x20\x22'+'gsplatVS\x22','fragmentWGSL':'#include\x20\x22'+'gsplatPS\x22','attributes':{'vertex_position':Me,'vertex_id_attrib':ph}}),this['configureM'+'aterial'](this['_material']),this['_material']['update']()),this['meshInstan'+'ce']=new He(this['resource']['mesh'],this['_material']),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(0x10d*0x25+-0x10eb+-0x3a9*0x6)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=0x2683+0x5a6+0x5f*-0x77,this['sorter']=new yC(),this['sorter']['on']('initialize'+'d',()=>{var _0x7516d7,_0x2187d6,_0x471c61,_0x574f0e,_0x24ca5e,_0x1aa05e,_0x130201,_0x3e2e03,_0x4cdacc,_0x104466,_0x49bcd9;const _0x10bf93=new Float32Array(this['resource']['centers']['buffer']['slice']()),_0x3dfe44=new Float32Array(((_0x2187d6=(_0x7516d7=this['resource']['muT'])==null?void(0xdf6+-0x19*-0x9b+-0x1d19):_0x7516d7['buffer'])==null?void(-0x1357+-0x204d+-0x2*-0x19d2):_0x2187d6['slice']())??new Float32Array()),_0x1790dc=new Float32Array(((_0x574f0e=(_0x471c61=this['resource']['tScale'])==null?void(0x1f13+0xc22*-0x2+-0x3*0x245):_0x471c61['buffer'])==null?void(0x14c6*0x1+-0x56*-0x49+-0x2d4c):_0x574f0e['slice']())??new Float32Array()),_0x3140c4=new Float32Array(((_0x1aa05e=(_0x24ca5e=this['resource']['motion'])==null?void(0x1*-0x1b6b+-0x146c+-0x14b*-0x25):_0x24ca5e['buffer'])==null?void(0x14e9*0x1+0x1af+0x1e2*-0xc):_0x1aa05e['slice']())??new Float32Array()),_0x3dd14f=new Float32Array(((_0x3e2e03=(_0x130201=this['resource']['timeIndex'])==null?void(0xd7d+0x2ba*0x3+-0x15ab):_0x130201['buffer'])==null?void(0x6c*0x36+-0x718+-0xfb0):_0x3e2e03['slice']())??new Float32Array(0x672+0x1679+0xb*-0x2a1)),_0x558701=new Float32Array(((_0x104466=(_0x4cdacc=this['resource']['timeOption'])==null?void(-0x32*-0x4a+0x4*-0x955+0x16e0):_0x4cdacc['buffer'])==null?void(0x14cd+-0x3*0x92f+0xc0*0x9):_0x104466['slice']())??new Float32Array());(_0x49bcd9=this['sorter'])==null||_0x49bcd9['initData'](this['orderTextu'+'re'],_0x10bf93,_0x3dfe44,_0x1790dc,_0x3140c4,_0x3dd14f,_0x558701,this['resource']['is4D']);}),this['sorter']['on']('updated',async(_0x13c296,_0x298218,_0x44b229)=>{var _0x303d00;this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x13c296/this['resource']['instanceSi'+'ze']),_0x44b229&&this['backOrderT'+'exture']&&(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatInst'+'ance\x20updat'+'ed'),[this['orderTextu'+'re'],this['backOrderT'+'exture']]=[this['backOrderT'+'exture'],this['orderTextu'+'re']],await this['resource']['updateText'+'ure'](),this['resource']['configureM'+'aterial'](this['_material']),this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])),_0x44b229&&((_0x303d00=this['resource'])==null||_0x303d00['fireAssets'+'ManagerTim'+'eIndex']()),this['material']['setParamet'+'er']('numSplats',_0x13c296);}),this['setHighQua'+'litySH'](_0x2be34c['highQualit'+'ySH']??!(-0x7*-0x353+0x2560*0x1+-0x1e52*0x2)));}async['updateInst'+'anceData'](_0x4594a5){var _0x28909b,_0x193a46;console['log']('____\x20ENGIN'+'E\x20IVAN','updateInst'+'anceData\x20A'+'SSETS\x20GSpl'+'atInstance',_0x4594a5['numSplats']),this['resource']=_0x4594a5;const _0x44f0a9=this['resource']['evalTextur'+'eSize'](_0x4594a5['centers']['length']/(-0x5*-0x3+-0x3*-0xb42+-0x21d2));return(_0x28909b=this['backOrderT'+'exture'])==null||_0x28909b['destroy'](),this['backOrderT'+'exture']=this['resource']['createText'+'ure']('splatOrder'+'2',Ki,_0x44f0a9),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(-0x20bf+0x263e+-0x57f)),(_0x193a46=this['sorter'])==null||_0x193a46['initData'](this['backOrderT'+'exture'],_0x4594a5['centers'],_0x4594a5['muT'],_0x4594a5['tScale'],_0x4594a5['motion'],_0x4594a5['timeIndex'],_0x4594a5['timeOption'],_0x4594a5['is4D']),new Promise(_0x165659=>{var _0x81cbdc;const _0x495e8f=(_0x548e98,_0x2dc9f4,_0x1afcdc)=>{var _0x3db505;_0x1afcdc&&((_0x3db505=this['sorter'])==null||_0x3db505['off']('updated',_0x495e8f),_0x165659(!(-0x8fd+0x3f*0xa+-0x1*-0x687)));};(_0x81cbdc=this['sorter'])==null||_0x81cbdc['on']('updated',_0x495e8f);});}['destroy'](){var _0x3042ca,_0x2a111f,_0x17fc22,_0x2434ca,_0x24c807,_0xd6cd18;(_0x3042ca=this['resolveSH'])==null||_0x3042ca['destroy'](),(_0x2a111f=this['material'])==null||_0x2a111f['destroy'](),(_0x17fc22=this['meshInstan'+'ce'])==null||_0x17fc22['destroy'](),(_0x2434ca=this['sorter'])==null||_0x2434ca['destroy'](),(_0x24c807=this['orderTextu'+'re'])==null||_0x24c807['destroy'](),(_0xd6cd18=this['backOrderT'+'exture'])==null||_0xd6cd18['destroy']();}set['material'](_0x25637a){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.set\x20'+'material'),this['_material']!==_0x25637a&&(this['_material']=_0x25637a,this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x25637a));}get['material'](){return this['_material'];}['configureM'+'aterial'](_0x327714,_0x37f284={}){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.conf'+'igureMater'+'ial'),this['resource']['configureM'+'aterial'](_0x327714),_0x327714['setParamet'+'er']('numSplats',-0xb*-0x1f1+-0xd33+0x828*-0x1),_0x327714['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),_0x327714['setParamet'+'er']('alphaClip',-0x1d74+0x1*0x24f7+-0x783*0x1+0.3),_0x327714['setDefine']('DITHER_'+(_0x37f284['dither']?'BLUENOISE':'NONE'),''),_0x327714['cull']=bt,_0x327714['blendType']=_0x37f284['dither']?Cs:Zs,_0x327714['depthWrite']=!!_0x37f284['dither'];}['updateView'+'port'](_0x5887f7){var _0x82dbaa;const _0xc5c305=_0x5887f7==null?void(-0xc66+0x171e+-0xab8):_0x5887f7['camera'],_0x3c9dee=_0xc5c305==null?void(-0x17e5+-0xa15*0x2+-0x1*-0x2c0f):_0xc5c305['renderTarg'+'et'],{width:_0x4d5934,height:_0x208b6d}=_0x3c9dee??this['resource']['device'];Sc[0x638+0xd80+-0x13b8]=_0x4d5934,Sc[0x1eb6+0x6b*0x2f+-0x325a]=_0x208b6d;const _0x9c5c8b=(_0x82dbaa=_0xc5c305==null?void(0x4d5*0x1+0x3f9+-0x7*0x142):_0xc5c305['camera'])==null?void(0x9*0x3dd+0x22f4+-0xd*0x55d):_0x82dbaa['xr'];_0x9c5c8b!=null&&_0x9c5c8b['active']&&_0x9c5c8b['views']['list']['length']===0x65*-0x3d+-0x6*0x2d3+0x2905*0x1&&(Sc[0x1*-0x2655+-0xd*0x4+0x2689]*=-0x1b81+-0x607+0x2188+0.5),this['material']['setParamet'+'er']('viewport',Sc);}['sort'](_0x2acc02){if(this['sorter']){const _0xdddc68=_0x2acc02['getWorldTr'+'ansform']();_0xdddc68['getTransla'+'tion'](Va),_0xdddc68['getZ'](Ga);const _0x2197fc=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x18fe94=vC['invert'](_0x2197fc);_0x18fe94['transformP'+'oint'](Va,Va),_0x18fe94['transformV'+'ector'](Ga,Ga),(!Va['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!Ga['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](Va),this['lastCamera'+'Direction']['copy'](Ga),this['sorter']['setCamera'](Va,Ga)),this['sorter']['setCurrent'+'Time'](this['time']);}this['updateView'+'port'](_0x2acc02);}['update'](){var _0x9cf0a;if(this['cameras']['length']>-0x793+0x50b+0x288){const _0xebb95=this['cameras'][-0x1871*-0x1+0x6c3+0xf9a*-0x2];this['sort'](_0xebb95['_node']),(_0x9cf0a=this['resolveSH'])==null||_0x9cf0a['render'](_0xebb95['_node'],this['meshInstan'+'ce']['node']['getWorldTr'+'ansform']()),this['cameras']['length']=0x1*0xa81+0x21a2+-0x2c23;}}['setHighQua'+'litySH'](_0x593f3c){const {resource:_0x220285}=this,{gsplatData:_0x11858c}=_0x220285;_0x11858c instanceof gC&&_0x11858c['shBands']>-0x1*-0x233+-0x168d+0x145a&&_0x593f3c===!!this['resolveSH']&&(this['resolveSH']?(this['resolveSH']['destroy'](),this['resolveSH']=null):this['resolveSH']=new fC(_0x220285['device'],this));}['updateTime'](_0x5c67c5){this['time']=_0x5c67c5;}}class Rv{constructor(_0x52205e,_0x530085){h(this,'sceneInfo',{}),h(this,'isDestroye'+'d',!(0x1f88+0xa22*-0x1+0x722*-0x3)),h(this,'device'),h(this,'gsplatData'),h(this,'centers'),h(this,'aabb'),h(this,'mesh'),h(this,'instanceIn'+'dices'),h(this,'gsplatInst'+'ance'),(this['device']=_0x52205e,this['gsplatData']=_0x530085,this['isDestroye'+'d']=!(0x1647*-0x1+-0x3b9*0x1+0x1a01));const _0x1348f9=0x1*0xc7f+-0x3f7*0x1+-0x1*0x808,_0x9c1e56=Math['ceil'](_0x530085['numSplats']/_0x1348f9)*_0x1348f9/_0x1348f9,_0x97dd65=new Uint32Array(_0x9c1e56);for(let _0x204665=0xda8+-0xff2+0x1*0x24a;_0x204665<_0x9c1e56;++_0x204665)_0x97dd65[_0x204665]=_0x204665*_0x1348f9;const _0x412dab=new kt(_0x52205e,[{'semantic':ph,'components':0x1,'type':el,'asInt':!(-0x113b+0x8*-0x332+0x2acb)}]),_0x2c7f21=new Float32Array((-0x55*-0x63+0x1*0x71f+-0x27f2)*_0x1348f9),_0x1a2144=new Uint32Array((0x1*0x1582+0x51a*-0x1+-0x1062)*_0x1348f9);for(let _0x513ed2=0xf29+0x512+-0x1*0x143b;_0x513ed2<_0x1348f9;++_0x513ed2){_0x2c7f21['set']([-(-0x2274+-0x137f+0x35f4*0x1),-(0x1*-0x185e+-0x3*-0x577+0x7fa*0x1),_0x513ed2,-0xb*-0x8a+-0xedb*0x2+0x1*0x17c9,-(0x1c2a+-0x50*0x51+-0x2d9),_0x513ed2,0x104e*-0x1+0x1451+0x201*-0x2,-0x9*0x293+0x4*0x2b4+0xc5c,_0x513ed2,-(-0x1*0x26ed+0x9*0x1ab+0x17eb),-0x2*0x11a5+-0x66f*-0x4+0x98f,_0x513ed2],_0x513ed2*(-0x142e+0x1b8*-0xb+-0x2*-0x1391));const _0x1ec70c=_0x513ed2*(0xe64*0x1+-0x1083*-0x2+-0x2f66);_0x1a2144['set']([0x1*0x1e86+-0x4*-0x61+-0x200a+_0x1ec70c,0x1d6c+-0x17c9+0x67*-0xe+_0x1ec70c,0xf45+-0x1*-0xcfe+0x96b*-0x3+_0x1ec70c,-0x84e+0xf9*0x25+-0x1baf+_0x1ec70c,0x2*0xcf5+-0x3ac+-0x163c+_0x1ec70c,-0x1*0x25f2+-0x71d+0x2d12+_0x1ec70c],_0x513ed2*(0x167*0x11+-0x34*-0x14+-0x9*0x319));}this['mesh']=new Ge(_0x52205e),this['mesh']['setPositio'+'ns'](_0x2c7f21,0x1bd4+0xead*0x1+0xe2a*-0x3),this['mesh']['setIndices'](_0x1a2144),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),this['instanceIn'+'dices']=new Is(_0x52205e,_0x412dab,_0x9c1e56,{'usage':ms,'data':_0x97dd65['buffer']});}['updateData'](){var _0x593f44;const _0x13e736=this['gsplatData'];if(!_0x13e736)return;const _0x44d07a=-0x1cd+0x4ca*-0x1+0x717,_0x1c7d41=Math['ceil'](_0x13e736['numSplats']/_0x44d07a)*_0x44d07a/_0x44d07a,_0x520dcf=new Uint32Array(_0x1c7d41);for(let _0x2dfb70=-0x145d*-0x1+0x1*-0x549+0xc1*-0x14;_0x2dfb70<_0x1c7d41;++_0x2dfb70)_0x520dcf[_0x2dfb70]=_0x2dfb70*_0x44d07a;const _0x522cf4=new kt(this['device'],[{'semantic':ph,'components':0x1,'type':el,'asInt':!(-0x1*0x25ef+0x3d2+0x221d)}]),_0x40b5ca=new Float32Array((0x3a*-0x16+-0xa53+-0xf5b*-0x1)*_0x44d07a),_0x59d84c=new Uint32Array((0x67*-0x3e+-0xc11+0x1f3*0x13)*_0x44d07a);for(let _0x448979=-0xaf2*0x1+-0xfae+-0x30*-0x8e;_0x448979<_0x44d07a;++_0x448979){_0x40b5ca['set']([-(-0xb8e+0xaaf+0xe0),-(0x225a+0x2dd*-0x9+-0x3d*0x24),_0x448979,0x7e5+0x1*-0x3e2+-0xab*0x6,-(-0x10c+0x954+0xa3*-0xd),_0x448979,0x490*0x2+0x1*0x16c1+0x110*-0x1e,-0x1d*0xf+-0x1190+-0x9*-0x224,_0x448979,-(-0xd0f*0x1+-0x1*0x2535+0x3245),0x3c5*-0x5+-0x52*-0x22+0x7f6,_0x448979],_0x448979*(-0xdd*0x2+0x16f4+0xa97*-0x2));const _0x452292=_0x448979*(0x232d+0x1b23+-0x9*0x6ec);_0x59d84c['set']([-0x1*-0xabd+-0x1e2c+0x136f*0x1+_0x452292,-0xe9*0x27+0x3f*0x4f+0x100f+_0x452292,0x74f+-0x37*0x43+0x718+_0x452292,-0x53*0x1f+0x3a*0x38+-0x2a3+_0x452292,-0x132b+0x47*0x65+-0x8d6+_0x452292,0xe92+0x4f*-0x45+-0x35e*-0x2+_0x452292],_0x448979*(-0x5f1+0x2b1*-0x1+0x4*0x22a));}this['mesh']['setPositio'+'ns'](_0x40b5ca,-0x1c93+-0x35b*0x1+-0x25*-0xdd),this['mesh']['setIndices'](_0x59d84c),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),(_0x593f44=this['instanceIn'+'dices'])==null||_0x593f44['destroy'](),this['instanceIn'+'dices']=new Is(this['device'],_0x522cf4,_0x1c7d41,{'usage':ms,'data':_0x520dcf['buffer']});}['updateText'+'ure'](){}['destroy'](){var _0x4f8480,_0x13eed5,_0x4538eb,_0x511067;(_0x4f8480=this['mesh'])==null||_0x4f8480['destroy'](),(_0x13eed5=this['instanceIn'+'dices'])==null||_0x13eed5['destroy'](),(_0x4538eb=this['gsplatData'])==null||_0x4538eb['destroy'](),this['gsplatData']=null,(_0x511067=this['gsplatInst'+'ance'])==null||_0x511067['destroy'](),this['gsplatInst'+'ance']=void(0x188d+-0xc43+-0xc4a*0x1),this['isDestroye'+'d']=!(-0xdfd*-0x2+0x26*-0x1f+-0xb0*0x22),this['mesh']=null;}get['instanceSi'+'ze'](){return 0x1*0x312+-0x26b0*0x1+0x241e;}get['numSplats'](){var _0x5af0b4;return(_0x5af0b4=this['gsplatData'])==null?void(-0x260c+0x20*-0x123+0x4a6c):_0x5af0b4['numSplats'];}['setSceneIn'+'fo'](_0x1f63d6){}['configureM'+'aterial'](_0xcfa9b5){}['evalTextur'+'eSize'](_0x452a92){return J['ZERO'];}['appendGSpl'+'atResource'](_0x2d1677,_0x2d0d90,_0x48d66e,_0x37c46f,_0x5499a6){}['fireAssets'+'ManagerTim'+'eIndex'](){}['createText'+'ure'](_0x5f35fd,_0x37d249,_0x244832,_0x2996cb){return new _e(this['device'],{'name':_0x5f35fd,'width':_0x244832['x'],'height':_0x244832['y'],'format':_0x37d249,'cubemap':!(-0x295*0x7+-0x1*-0x2fe+0xf16),'mipmaps':!(-0x80e*-0x2+-0x90b+-0x710),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,..._0x2996cb?{'levels':[_0x2996cb]}:{}});}['instantiat'+'e'](){w['removed']('GSplatReso'+'urce.insta'+'ntiate\x20is\x20'+'removed.\x20U'+'se\x20gsplat\x20'+'component\x20'+'instead');}['createInst'+'ance'](_0xc8f0ad,_0x34f40f){return this['gsplatInst'+'ance']=new xC(_0xc8f0ad,_0x34f40f),this['gsplatInst'+'ance'];}}async function TC(){const _0x2d4df4=new Float32Array(0x152d+0x22*-0xdf+-0x2f*-0x2e),_0x2df6fc=new Int32Array(_0x2d4df4['buffer']);let _0x37f3f4=null,_0x50517a=null,_0x5deeef=null,_0x4150e6=null,_0x50b475=null,_0x2f70ea=null,_0x62c3fb=null,_0x261be8=null;self['onmessage']=async _0x3a9dae=>{const {data:_0x3cbf74}=_0x3a9dae;switch(_0x3cbf74['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0xe88b68(_0x3cbf74['numSplats'],_0x3cbf74['shBands'],_0x3cbf74['SHData']);break;case'updateColo'+'rData':_0x2b8fec(_0x3cbf74['numSplats'],_0x3cbf74['cr'],_0x3cbf74['cg'],_0x3cbf74['cb'],_0x3cbf74['ca']);break;case'updateTran'+'sformData':_0x5b2f0d(_0x3cbf74['numSplats'],_0x3cbf74['is4D'],_0x3cbf74['x'],_0x3cbf74['y'],_0x3cbf74['z'],_0x3cbf74['rx'],_0x3cbf74['ry'],_0x3cbf74['rz'],_0x3cbf74['rw'],_0x3cbf74['mx'],_0x3cbf74['my'],_0x3cbf74['mz'],_0x3cbf74['sx'],_0x3cbf74['sy'],_0x3cbf74['sz'],_0x3cbf74['muT'],_0x3cbf74['tScale']);break;case'calcAabb':_0x345d85(_0x3cbf74['numSplats'],_0x3cbf74['x'],_0x3cbf74['y'],_0x3cbf74['z'],_0x3cbf74['sx'],_0x3cbf74['sy'],_0x3cbf74['sz']);break;case'destroyWor'+'ker':_0x2c6a56();break;}};class _0x45a48d{constructor(_0x231665=0x246f+-0x4ec+0x1*-0x1f83,_0x5221e7=0xd*-0x232+0x1cc*-0x2+0x2022,_0x3e2ce2=0x15b3+0x315*0xa+-0x3485,_0x33b7e9=-0x1225+-0x1*-0x61b+0xc0b){this['x']=_0x231665,this['y']=_0x5221e7,this['z']=_0x3e2ce2,this['w']=_0x33b7e9;}['set'](_0xc5be4,_0x131fa2,_0x50bd36,_0x1733fa){return this['x']=_0xc5be4,this['y']=_0x131fa2,this['z']=_0x50bd36,this['w']=_0x1733fa,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x54e4a4=this){let _0x37126f=_0x54e4a4['length']();return _0x37126f===-0x13*0x11+0xc1*0x25+-0xd51*0x2?(this['x']=this['y']=this['z']=0x1*0x1435+0x1b85+-0x2fba,this['w']=-0x196e+-0x1b15+0x3484):(_0x37126f=(0x1*0x9b1+-0x10*-0x1ac+-0x2470)/_0x37126f,this['x']=_0x54e4a4['x']*_0x37126f,this['y']=_0x54e4a4['y']*_0x37126f,this['z']=_0x54e4a4['z']*_0x37126f,this['w']=_0x54e4a4['w']*_0x37126f),this;}['mulScalar'](_0x2b432a,_0x11ce03=this){return this['x']=_0x11ce03['x']*_0x2b432a,this['y']=_0x11ce03['y']*_0x2b432a,this['z']=_0x11ce03['z']*_0x2b432a,this['w']=_0x11ce03['w']*_0x2b432a,this;}}const _0x300da5=_0x5d3577=>{_0x2d4df4[-0x3*0x4f+0x1*-0x7b+0x3c*0x6]=_0x5d3577;const _0xa45e22=_0x2df6fc[0x35b+0x1a9a+-0x1df5*0x1];let _0x522200=_0xa45e22>>0x6*-0x5a7+0x1fd*0x7+0x18b*0xd&-0x2a74+-0x5*0x13d2+0x10d8e,_0x318e2f=_0xa45e22>>0x261f*0x1+-0x248e+0x1*-0x185&-0x38*-0x2+-0x2*0x452+0x1033;const _0x514f33=_0xa45e22>>-0x452*0x2+0x537*-0x1+0x33*0x46&0x2*0x18d+-0x20e3*-0x1+0x2*-0x117f;return _0x514f33<-0x1301*-0x2+-0x1*0x1f4b+-0x4*0x194?_0x522200:_0x514f33>-0x1e5e+-0x313*0x5+-0x69d*-0x7?(_0x522200|=-0xf0ff+-0x63*0x1df+-0xa*-0x3706,_0x522200|=(_0x514f33===-0x14f4+0xbe4*0x1+0x5*0x203?0x10f1+0x59*-0x4a+0x1*0x8c9:0x1*-0x7f+-0xa*-0x2f+-0x156)&&_0xa45e22&0x1*0x2490a3+-0x1*0xe36333+-0x1*-0x13ed28f,_0x522200):_0x514f33<-0x1bb5+-0xf32+0x2b58?(_0x318e2f|=-0xe35*0x1+-0x16c1+0xa*0x47f,_0x522200|=(_0x318e2f>>0x645+-0x293*-0x4+0x101f*-0x1-_0x514f33)+(_0x318e2f>>-0x1*-0x15c2+-0xe5*-0x25+-0x366a-_0x514f33&-0x7b1*0x1+0x5*-0x14b+0xe29),_0x522200):(_0x522200|=_0x514f33-(0xf74+0x4*0x466+-0x209c)<<-0x1b92+-0x212d*0x1+0x27*0x18f|_0x318e2f>>-0x1*0x869+-0x1d51+0x25bb,_0x522200+=_0x318e2f&0x2*0x1f+-0xa*0x71+-0x42d*-0x1,_0x522200);},_0x345d85=(_0x27b075,_0x5345d2,_0x4f41ce,_0x28e53a,_0x32db1c,_0x230a72,_0x262b9e)=>{let _0x33564b=-0x17b1+0x303*0x5+-0x2*-0x451,_0x3bd358=0x17de+-0x11fc+0x2f1*-0x2,_0x5864a2=0x11c3*0x1+0x1*-0x269e+0x14db,_0x4403ba=-0x1258*0x1+-0x143b+0x5*0x7b7,_0x35581d=-0x188d*0x1+-0x1*0x2237+0x3ac4,_0x2bacdf=0x1*0x29f+0xd*-0x70+0x311,_0x51ce4e=!(0x2*0x58a+-0x1d*0xa0+0xb*0xa4);const _0x3bf4a7=new Float32Array(-0x32*-0x9b+-0x1f4e+-0x3*-0x59),_0x34c24e=new Float32Array(0x1430+0x130a+0x2737*-0x1);for(let _0x44d63d=0x295*0x3+0x19f4+-0x21b3;_0x44d63d<_0x27b075;++_0x44d63d){const _0x3e2082=_0x5345d2[_0x44d63d],_0x32f75e=_0x4f41ce[_0x44d63d],_0x175006=_0x28e53a[_0x44d63d],_0x42b8a0=Math['max'](_0x32db1c[_0x44d63d],_0x230a72[_0x44d63d],_0x262b9e[_0x44d63d]);if(!isFinite(_0x3e2082)||!isFinite(_0x32f75e)||!isFinite(_0x175006)||!isFinite(_0x42b8a0))continue;const _0x4e555b=(-0x16*0xe3+-0x9a*0x1+0x141e)*Math['exp'](_0x42b8a0);_0x51ce4e?(_0x51ce4e=!(-0xe47*0x1+-0x1*0x531+0x3e5*0x5),_0x33564b=_0x3e2082-_0x4e555b,_0x3bd358=_0x32f75e-_0x4e555b,_0x5864a2=_0x175006-_0x4e555b,_0x4403ba=_0x3e2082+_0x4e555b,_0x35581d=_0x32f75e+_0x4e555b,_0x2bacdf=_0x175006+_0x4e555b):(_0x33564b=Math['min'](_0x33564b,_0x3e2082-_0x4e555b),_0x3bd358=Math['min'](_0x3bd358,_0x32f75e-_0x4e555b),_0x5864a2=Math['min'](_0x5864a2,_0x175006-_0x4e555b),_0x4403ba=Math['max'](_0x4403ba,_0x3e2082+_0x4e555b),_0x35581d=Math['max'](_0x35581d,_0x32f75e+_0x4e555b),_0x2bacdf=Math['max'](_0x2bacdf,_0x175006+_0x4e555b));}_0x51ce4e||(_0x3bf4a7[-0x2051+0x8c4+-0x1*-0x178d]=(_0x33564b+_0x4403ba)*(0x1da5+-0x1*0x83+0xe2*-0x21+0.5),_0x3bf4a7[-0x27*-0x15+0x23*-0x10+-0x2b*0x6]=(_0x3bd358+_0x35581d)*(0x1ec*0xf+-0x92*0x3e+0x2*0x344+0.5),_0x3bf4a7[0x6*0x3be+-0x1469+-0x1*0x209]=(_0x5864a2+_0x2bacdf)*(0xfa4+0x1fc3+0x329*-0xf+0.5),_0x34c24e[0x1a46+0x32d*0xb+0x1*-0x3d35]=(_0x4403ba-_0x33564b)*(-0x2*0x3bd+-0x2c5*0x1+0x3d*0x2b+0.5),_0x34c24e[-0x12f9+-0x1493+0x5*0x7e9]=(_0x35581d-_0x3bd358)*(-0x189b+-0x8d2+-0xc7*-0x2b+0.5),_0x34c24e[-0x1d49+-0xcdb+0x2a26]=(_0x2bacdf-_0x5864a2)*(0x1*-0x6d7+0x1*0x1253+-0xb7c+0.5)),self['postMessag'+'e']({'type':'updatedAab'+'bData','center':_0x3bf4a7,'halfExtents':_0x34c24e});},_0x5b2f0d=(_0x574dc9,_0x281b58,_0x311ea3,_0x9489c7,_0x18c34b,_0x3dd139,_0x17dc97,_0x48527d,_0x5ac621,_0x30424a,_0xd5b0d8,_0x9f1f66,_0x2d5100,_0x336ec4,_0x4d9163,_0x544d62,_0x211e19)=>{_0x2c6a56(),_0x37f3f4=new Float32Array(_0x574dc9*(0x4*0x1f3+0x30+-0x7f9)),_0x4150e6=new Float32Array(_0x574dc9*(0x1*0x143e+-0xa08+-0xa33*0x1)),_0x2f70ea=new Uint16Array(_0x574dc9*(-0x6e+0x1*0x20b5+-0x1022*0x2)),_0x5deeef=new Float32Array(_0x574dc9*(0x1*-0x25cf+0xa05+0x1bcd)),_0x281b58&&(_0x50b475=new Float32Array(_0x574dc9*(-0x23c1+-0x22*0x42+0x2c88)),_0x50517a=new Float32Array(_0x574dc9*(-0x1316*0x2+0x24ea+0x145)),_0x62c3fb=new Float32Array(_0x574dc9*(0x184b+-0x2554+0xd0c)),_0x261be8=new Float32Array(_0x574dc9));const _0xb0da1b=new _0x45a48d(-0xbb*0x16+-0xd8e+-0x9e0*-0x3,-0x7*0x207+0x1ed9+-0x4*0x42a,0x1437+-0x8ef*0x1+-0x98*0x13,0x1*-0x3ad+-0x20f+-0x2de*-0x2);for(let _0x1d0f86=-0x18*-0x2+0x5e5*0x1+-0x615;_0x1d0f86<_0x574dc9;_0x1d0f86++)_0xb0da1b['set'](_0x3dd139[_0x1d0f86],_0x17dc97[_0x1d0f86],_0x48527d[_0x1d0f86],_0x5ac621[_0x1d0f86]),_0xb0da1b['normalize'](),_0xb0da1b['w']<0x61d*0x2+-0x229f+0x1665&&_0xb0da1b['mulScalar'](-(0x13e+-0x7fc+0x6bf)),_0x4150e6[_0x1d0f86*(-0x1570+-0x96*-0x3b+-0xd1f)+(0x1*0x12d9+0x1f7d+-0x3256)]=_0x311ea3[_0x1d0f86],_0x4150e6[_0x1d0f86*(0x1*-0x457+0x1ff+0x25b)+(-0x328*-0xb+-0x1760+-0xb57*0x1)]=_0x9489c7[_0x1d0f86],_0x4150e6[_0x1d0f86*(-0x13d*-0xf+0x1c44+-0x2ed4)+(-0x1561*-0x1+-0x8ec+-0xc73)]=_0x18c34b[_0x1d0f86],_0x37f3f4[_0x1d0f86*(0x1a*0xb6+-0x2*-0x1017+0x32a7*-0x1)+(-0x141*-0x13+-0x1*-0x177e+0x2f51*-0x1)]=_0x311ea3[_0x1d0f86],_0x37f3f4[_0x1d0f86*(0x665*-0x2+0x15f6+-0x929)+(-0x259a+0xe0e*0x1+0x178d)]=_0x9489c7[_0x1d0f86],_0x37f3f4[_0x1d0f86*(0x3b*-0x25+0x456*-0x8+-0x159d*-0x2)+(0x910+0x2347+0x27*-0x123)]=_0x18c34b[_0x1d0f86],_0x2f70ea[_0x1d0f86*(-0xa*-0xf1+-0x6b7+-0x2b0)+(0xcbe+0xa84+-0x1742)]=_0x300da5(Math['exp'](_0x2d5100[_0x1d0f86])),_0x2f70ea[_0x1d0f86*(0x7c*-0x16+-0x2648+0x30f3)+(-0x63a+-0x295+0x8d0)]=_0x300da5(Math['exp'](_0x336ec4[_0x1d0f86])),_0x2f70ea[_0x1d0f86*(0x24ae+-0x1e*-0x75+0x3*-0x10cb)+(0x1*-0x119+0xcb6+-0xb9b)]=_0x300da5(Math['exp'](_0x4d9163[_0x1d0f86])),_0x5deeef[_0x1d0f86*(0x22a*-0x3+-0x1*-0x17d7+-0xe*0x13d)+(0x356+-0x2231*0x1+0x1edb)]=_0xb0da1b['x'],_0x5deeef[_0x1d0f86*(-0x3*0xad5+-0x1*0x14e9+-0x356b*-0x1)+(-0x29b+0x846+-0x19*0x3a)]=_0xb0da1b['y'],_0x5deeef[_0x1d0f86*(-0x20b5+0x109*-0x1+0x21c1)+(-0xd*0x103+-0xc7a+-0x19a3*-0x1)]=_0xb0da1b['z'],_0x281b58&&_0x50b475&&_0x50517a&&(_0x50b475[_0x1d0f86*(0x77b*0x1+0x1f3b+-0x26b3*0x1)+(-0x763+0xc50+-0x4ed*0x1)]=_0x30424a[_0x1d0f86],_0x50b475[_0x1d0f86*(0x85b+-0x24d1+0x25*0xc5)+(-0xf*0x8b+-0x18*-0x1f+-0xb*-0x7a)]=_0xd5b0d8[_0x1d0f86],_0x50b475[_0x1d0f86*(-0x233f*0x1+-0x920+0x36a*0xd)+(0xa*0x3d4+-0x148+-0x24fe)]=_0x9f1f66[_0x1d0f86],_0x62c3fb[_0x1d0f86*(0x1*-0xbc5+0x10d7+-0x50f)+(-0xb*0x295+-0x1c9d+0x3904)]=_0x30424a[_0x1d0f86],_0x62c3fb[_0x1d0f86*(0x198*0x4+-0x9eb*-0x3+-0x241e)+(0xd90+0xa95*0x1+-0x1824)]=_0xd5b0d8[_0x1d0f86],_0x62c3fb[_0x1d0f86*(0x10a8+-0x26ea+0x1645)+(0x156+0x1*-0x8a5+-0x1*-0x751)]=_0x9f1f66[_0x1d0f86],_0x261be8[_0x1d0f86]=_0x211e19?Math['exp'](_0x211e19[_0x1d0f86]):0x1df2+-0x2a3+0x1*-0x1b4f,_0x50517a[_0x1d0f86*(-0x1b53+-0x14e*0x2+0x2*0xef9)+(-0x2*-0x377+-0x4b4+0x3*-0xbe)]=_0x544d62?_0x544d62[_0x1d0f86]:-0xd3*-0x1d+0x40f*0x2+-0x2005,_0x50517a[_0x1d0f86*(-0x577*-0x1+0x1433+-0xc7*0x21)+(0x136c+-0x15c2+0x257*0x1)]=_0x261be8[_0x1d0f86]);const _0x2085e2=[_0x37f3f4['buffer'],_0x4150e6['buffer'],_0x2f70ea['buffer'],_0x5deeef['buffer']];_0x281b58&&_0x2085e2['push'](_0x50b475['buffer'],_0x50517a['buffer'],_0x62c3fb['buffer'],_0x261be8['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x37f3f4,'dataPosition':_0x4150e6,'dataScale':_0x2f70ea,'dataRotation':_0x5deeef,'dataMotion':_0x50b475,'dataTime':_0x50517a,'motion':_0x62c3fb,'tScaleArray':_0x261be8},_0x2085e2);},_0x2b8fec=(_0x1072bf,_0x50dd74,_0x3ddb95,_0x500c92,_0x38c0d1)=>{const _0x186e30=new Uint16Array(_0x1072bf*(0x24be*0x1+0x19ed*-0x1+-0x23*0x4f)),_0x57e66c=0x138e+0x64*0x40+-0x2c8e+0.28209479177387814;for(let _0x14a07e=-0x3f*0x1+-0x25b6+0x25f5;_0x14a07e<_0x1072bf;++_0x14a07e){const _0x591b7d=_0x50dd74[_0x14a07e]*_0x57e66c+(0x1*-0x1ff0+0x566*0x5+0x4f2+0.5),_0x1f7ff4=_0x3ddb95[_0x14a07e]*_0x57e66c+(-0x1378+-0x362+0x16da+0.5),_0x35e140=_0x500c92[_0x14a07e]*_0x57e66c+(-0x8e9+0xc80+-0x397+0.5),_0x40effd=_0x38c0d1[_0x14a07e];_0x186e30[_0x14a07e*(-0x795+0x1d9d*0x1+-0x581*0x4)+(0x1bb2*0x1+0x2472+-0xa*0x66a)]=_0x300da5(_0x591b7d),_0x186e30[_0x14a07e*(0x6d3*0x1+0x4*0x17b+-0xcbb)+(0x3e0+-0x1*0x9c9+-0x2*-0x2f5)]=_0x300da5(_0x1f7ff4),_0x186e30[_0x14a07e*(0x255e+0x3ea*-0x1+-0x28*0xd6)+(0x13c4*-0x1+-0x1*0x247+0x160d)]=_0x300da5(_0x35e140),_0x186e30[_0x14a07e*(0xf*-0x269+0x2bb*-0x9+0x3cbe)+(-0x6*-0x316+-0x31+-0x125*0x10)]=_0x300da5(_0x40effd);}self['postMessag'+'e']({'type':'updatedCol'+'orData','data':_0x186e30});},_0xe88b68=(_0x3a60b7,_0x4cc80e,_0x3ef306)=>{const _0x573b8d=new Uint32Array(_0x3a60b7*(0x6*-0x13b+0x159b+-0xe35)),_0x450e85=new Uint32Array(_0x3a60b7*(0x125*0xd+-0xd13*0x1+-0x1ca)),_0x473c5b=new Uint32Array(_0x3a60b7*(-0x3*0x6aa+-0x2*-0xa94+-0x126)),_0x4028ab=new Uint32Array(_0x3a60b7*(0xf6*-0x16+-0x1*0x2317+0x4d*0xbb)),_0x5581ce={0x1:0x3,0x2:0x8,0x3:0xf}[_0x4cc80e],_0x303184=_0x3ef306,_0x363198=0x353+-0x1*0x17e1+0x1*0x1c8d,_0x31a112=0x26a9+0x55a+-0x2804,_0x1ae6a8=new Float32Array(0x18*-0x133+0x18*-0x38+0x2209*0x1),_0x3ee454=new Uint32Array(_0x1ae6a8['buffer']),_0x47d53c=new Array(_0x5581ce*(0x8f5*-0x1+0x127f+-0x987))['fill'](-0xe2b*0x2+0x11d*0xa+0x3*0x5bc);for(let _0x2f0521=0x2429*-0x1+0x26c8+-0x29f;_0x2f0521<_0x3a60b7;++_0x2f0521){for(let _0x271f61=-0x1*0x70d+0x4*0x823+-0x197f*0x1;_0x271f61<_0x5581ce;++_0x271f61)_0x47d53c[_0x271f61*(0x1fc9+-0x1*-0x2+0x153*-0x18)]=_0x303184[_0x271f61][_0x2f0521],_0x47d53c[_0x271f61*(-0x131+-0x3*0x24d+0x81b)+(0xd61*-0x1+0x22a7+-0x63*0x37)]=_0x303184[_0x271f61+_0x5581ce][_0x2f0521],_0x47d53c[_0x271f61*(0x208b+-0xe07+-0x62b*0x3)+(0x12c4+-0x214a+0xe88)]=_0x303184[_0x271f61+_0x5581ce*(0x1149+0x238b+-0x1a69*0x2)][_0x2f0521];let _0x343b0f=_0x47d53c[-0x1de0+-0x7c6+0x12d3*0x2];for(let _0x112a77=-0x3*-0x9f1+0x2703+-0x44d5;_0x112a77<_0x5581ce*(0x1a+0x3*0x82e+-0x4ed*0x5);++_0x112a77)_0x343b0f=Math['max'](_0x343b0f,Math['abs'](_0x47d53c[_0x112a77]));if(_0x343b0f!==0x2*0x44f+-0x461+-0x7*0x9b){for(let _0x4f647c=-0x124+0x191*0x3+-0x38f;_0x4f647c<_0x5581ce;++_0x4f647c)_0x47d53c[_0x4f647c*(0x170b+-0x202*-0x7+-0x2516)+(0x2d*-0x6a+-0xa69+0x1d0b*0x1)]=Math['max'](0x44*-0x7d+-0x1ffc+0x8*0x826,Math['min'](_0x363198,Math['floor']((_0x47d53c[_0x4f647c*(0x136*-0xd+-0x3*-0x31e+0x667)+(-0x1b29*-0x1+0x1433+-0x6c4*0x7)]/_0x343b0f*(-0xb3e+0x1*0x21fb+-0x16bd*0x1+0.5)+(0x165d+0x183a+-0x2e97+0.5))*_0x363198+(-0x1c09*-0x1+0x2302+0x3f0b*-0x1+0.5)))),_0x47d53c[_0x4f647c*(-0x171a+0x19ac+-0x28f)+(0x13ad+0x1f0*0x4+-0x1b6c)]=Math['max'](0xb*-0x1e4+0x1da5+0x3*-0x2f3,Math['min'](_0x31a112,Math['floor']((_0x47d53c[_0x4f647c*(-0x4cf*0x5+-0x25e9+0x3df7*0x1)+(0x4fa+0xbb7*0x1+-0x59*0x30)]/_0x343b0f*(-0x17d6+-0x1c*0x40+0x2*0xf6b+0.5)+(-0x1*0x24af+-0xe1d+0x1966*0x2+0.5))*_0x31a112+(0x2*-0x111a+-0x793+0x29c7+0.5)))),_0x47d53c[_0x4f647c*(0x78a+0x24a3+-0x2c2a)+(-0x209f+0x3f*0x2+0x1*0x2023)]=Math['max'](0xca7*-0x1+-0x3*0x3df+0x2*0xc22,Math['min'](_0x363198,Math['floor']((_0x47d53c[_0x4f647c*(-0xc7*-0x1+0x1151+-0x1215)+(0x88*0x1+-0x140d+0x1387)]/_0x343b0f*(0x1cd2+-0x1c7b+0x3*-0x1d+0.5)+(-0x1cd5+-0x2*0x4a7+0x2623+0.5))*_0x363198+(-0x247e+0x232*0x4+-0x1bb6*-0x1+0.5))));_0x1ae6a8[-0x180+-0x2*-0x1234+0x4*-0x8ba]=_0x343b0f,_0x573b8d[_0x2f0521*(-0x1493+-0x245f*-0x1+-0xfc8)+(0x23d*0x1+0xa*-0x157+0x1*0xb29)]=_0x3ee454[0xd0*-0x11+0x10a8+-0x2d8],_0x573b8d[_0x2f0521*(-0x13*0xda+0xe3b*0x2+0xa*-0x13a)+(0x282+0x1*0x799+-0xa1a)]=_0x47d53c[-0x2*0xc4b+-0x1965+-0x5*-0x9ff]<<-0x133*0x1f+-0x1*0x1c49+0x1*0x418b|_0x47d53c[-0xe2b+0xc69+0x1c3]<<-0xe45+0xe*0x89+0x6d2|_0x47d53c[0x194b+-0xcba+-0xc8f],_0x573b8d[_0x2f0521*(-0x1074+0x21dd+-0x1*0x1165)+(-0x23fb*-0x1+0x853+0x7e*-0x5a)]=_0x47d53c[-0x1359+-0xa9a+0x1df6]<<0x4ef+0x20c2+-0x1*0x259c|_0x47d53c[0x2cf*0x5+0xe1*0x25+-0x2e8c]<<0x2597*0x1+0x37d+0x2909*-0x1|_0x47d53c[-0x582*0x1+-0x2*-0xd6f+-0x1*0x1557],_0x573b8d[_0x2f0521*(-0x37*-0x69+-0x138d+-0x2fe)+(0x3*0x79d+0x1a01*-0x1+0x32d)]=_0x47d53c[-0x5fc*-0x4+-0xe3*0x29+0xc71]<<0x1d9f*-0x1+-0x2505+0x1d*0x24d|_0x47d53c[-0x185*0x9+0x1*-0x22a6+0x305a]<<-0x2ed*0x1+0x4*0x6b9+-0x17ec|_0x47d53c[-0x2134+-0x1*-0xf4f+0x161*0xd],_0x4cc80e>0x3df*0x2+-0x307*-0x2+0x3*-0x499&&(_0x450e85[_0x2f0521*(0x1*-0x8d3+-0x250d+0x2c*0x10b)+(-0x2*0x4c+0xd3a*-0x1+0xdd2)]=_0x47d53c[-0x5*0x4ef+0x2c1+-0x751*-0x3]<<-0xbe*0x2a+0xc*-0x23+0x20e5|_0x47d53c[-0x1*0x1f84+0x1e28+0x166*0x1]<<-0x23bd+-0x1549+0x1*0x3911|_0x47d53c[0x31*0x59+0x200c+0x1885*-0x2],_0x450e85[_0x2f0521*(0x210a+-0x4ce+-0x1c38)+(-0x3d+-0x2221+0x1*0x225f)]=_0x47d53c[0x3a*-0x40+-0xe26*0x1+0x1cb2]<<-0x7*-0xa8+0x1*0x1822+-0x1*0x1ca5|_0x47d53c[0xead*0x1+-0x1fd*-0xd+-0x2879]<<-0x202c+0x1*-0x89f+-0x1*-0x28d6|_0x47d53c[0x26f*0xe+-0x1*0xe21+0x13e3*-0x1],_0x450e85[_0x2f0521*(0x121d+0x2037*-0x1+0x2*0x70f)+(-0x280+-0x1e68+0x20ea)]=_0x47d53c[0x328+0x151a+-0x1*0x1833]<<0x6af+0x741+0xddb*-0x1|_0x47d53c[0x4d*0x6+-0x7e5*0x1+0x627]<<-0xf29*-0x1+-0x17f1+-0x2f1*-0x3|_0x47d53c[-0x2383+-0x1ace+0x3e62],_0x450e85[_0x2f0521*(-0xa44*0x1+0x2478+-0x1a30)+(-0x1*-0x209f+0x1*-0x1d11+-0x38b)]=_0x47d53c[-0x2*-0x2e3+0x2246+-0x27fa]<<-0x370+0x11*0x17f+-0x15ea*0x1|_0x47d53c[-0xee8*-0x2+-0x14c5+-0x8f8*0x1]<<0x132f+-0x1929*-0x1+0xb*-0x407|_0x47d53c[0xbbc+0xef*0xb+0x1*-0x15ed],_0x4cc80e>-0x2*0xa3f+-0x1*0x128b+0x270b?(_0x473c5b[_0x2f0521*(-0x2425+-0x7*-0x551+0x87*-0x2)+(-0xbb9*-0x3+0x13bd+-0x36e8)]=_0x47d53c[0x1*0xaf4+-0x2683*-0x1+-0x3162]<<0x156a*0x1+0x25*0x8e+-0x29db|_0x47d53c[-0x564+0x1*-0x178d+-0x1d07*-0x1]<<0x6*-0x1fd+0x1069+-0x470|_0x47d53c[-0x1be+0x1ce4+-0x1b0f],_0x473c5b[_0x2f0521*(0x1fca+0x6*-0x63a+-0x37*-0x1a)+(0x223*0xd+-0x1*-0x12eb+0x1*-0x2eb1)]=_0x47d53c[0x3*0xa52+0x1637+0x1*-0x3515]<<0x100d+0x1*0xc25+-0x1c1d|_0x47d53c[0x1*-0xa7f+0x5*-0x5+0xab1]<<0xd1b*-0x1+-0x78d*-0x2+-0x1f4|_0x47d53c[0x1*0x213a+0xb82+0x2*-0x1651],_0x473c5b[_0x2f0521*(0x2c9*-0x4+0x34a+0x7de)+(-0x2*-0xe20+0x25cb+-0x4209)]=_0x47d53c[0x69*-0x4d+0x158*-0x3+0x23b8*0x1]<<-0x5df+-0x2*-0x1339+-0x207e|_0x47d53c[-0x2*-0xe5f+-0xf81+-0xd21*0x1]<<-0x26fc+0x1*-0x1445+0x3b4c|_0x47d53c[-0xbf8*0x2+-0x1645+0x2e52],_0x473c5b[_0x2f0521*(0x1*0x91d+0x2505+-0x2e1e)+(-0x249a+-0x2*-0x75e+0x15e1)]=_0x47d53c[0x79e+0x3*-0xc8d+0x1e27]<<-0xacd*-0x1+-0x1*-0x1391+-0x1e49|_0x47d53c[0x1a01+-0x8*-0x169+-0x252a]<<-0x694*-0x2+0x1*-0x43b+-0x8e2|_0x47d53c[0x89b*-0x1+0x12ed+-0x3*0x366],_0x4028ab[_0x2f0521*(0x1264+0x12c1*0x1+-0x2521)+(-0x594+-0x7f0+0x15a*0xa)]=_0x47d53c[0x7*-0x1a5+0x2*0x11a5+-0x17a6]<<0xd*-0x2b+-0x2609+0x21f*0x13|_0x47d53c[0x128f+-0x29*-0xd9+-0x352e]<<0xcc*0x6+-0xcbd+0x800|_0x47d53c[0xc*-0xfc+-0x12d5+0x1ec8],_0x4028ab[_0x2f0521*(0x1ff1*-0x1+0x26f*-0xc+0x3d29)+(0x577+-0xd2c+0x7b6)]=_0x47d53c[-0x1f*-0x122+0x5*0xa1+-0x261f]<<0xbdd*-0x1+0x2*0x1201+-0x1810|_0x47d53c[0x1*-0x8f9+-0x22f3+0x2c11]<<0x12ed+-0xd*0x17f+0x1*0x91|_0x47d53c[-0x1dc1+0x1*0x11cd+0x1*0xc1a],_0x4028ab[_0x2f0521*(0x676+-0x2567*-0x1+-0x8c5*0x5)+(0x35*0x83+0x1eff+-0x3a1c)]=_0x47d53c[-0x22e1+0xff7*0x1+0x1311]<<0xabd*-0x1+-0x29*-0x94+-0xce2|_0x47d53c[0x6*0x638+-0xfe+-0x3*0xc0e]<<-0xcfb*0x2+0x897+0x116a|_0x47d53c[-0x48*0x14+0x3b5*-0x6+0x23*0xcd],_0x4028ab[_0x2f0521*(-0x2f3*0x5+-0xbb7+0x1a7a)+(-0x3*0x5bb+0x7f8+0xc5*0xc)]=_0x47d53c[0x3*-0xc25+-0x6d1+0x2b6a]<<-0x3*-0x35e+0x671+-0x1076|_0x47d53c[0x412*0x7+-0x6*-0x653+-0x249*0x1d]<<-0x1*-0x42b+0xbcf+-0xfef|_0x47d53c[0x1071+-0x1*0x394+-0xcb1]):_0x473c5b[_0x2f0521]=_0x47d53c[-0x11c3+-0x2*0xf2+0x1*0x13bc]<<-0xe4*-0x1e+0x162*-0x3+-0x167d|_0x47d53c[-0x1f98+0x462+0x1b4c]<<-0x1ebd+-0x21fa+-0x36*-0x133|_0x47d53c[-0x38d+-0x126a*-0x2+0x1*-0x2130]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x573b8d,'sh4to7Data':_0x450e85,'sh8to11Data':_0x473c5b,'sh12to15Data':_0x4028ab}},[_0x573b8d['buffer'],_0x450e85['buffer'],_0x473c5b['buffer'],_0x4028ab['buffer']]);},_0x2c6a56=()=>{_0x37f3f4=null,_0x50517a=null,_0x5deeef=null,_0x4150e6=null,_0x50b475=null,_0x2f70ea=null,_0x62c3fb=null,_0x261be8=null;};}let wC=class extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+TC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x764bf8,_0x1e1091,_0x16a347){_0x764bf8['onmessage']=_0x2b87fb=>{if(!this['worker'])return;const {data:_0x26412d}=_0x2b87fb;if(_0x26412d['type']===_0x1e1091)switch(_0x1e1091){case'updatedSHD'+'ata1':_0x16a347(_0x26412d['data']);break;case'updatedCol'+'orData':_0x16a347(_0x26412d['data']);break;case'updatedTra'+'nsformData':_0x16a347(_0x26412d);break;case'updatedAab'+'bData':_0x16a347(_0x26412d);break;}};}['updateSHDa'+'ta1'](_0x5bbf08,_0x3c5ef4,_0x3eaa2d){var _0x4b6baa;return(_0x4b6baa=this['worker'])==null||_0x4b6baa['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x5bbf08,'shBands':_0x3c5ef4,'SHData':_0x3eaa2d}),new Promise(_0x1bc7f6=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x5834e9=>{_0x1bc7f6(_0x5834e9);});});}async['updateColo'+'rData'](_0x56554c,_0x1e40ee,_0x199bd9,_0x1cf210,_0x5cca69){var _0x19c6dd;return(_0x19c6dd=this['worker'])==null||_0x19c6dd['postMessag'+'e']({'type':'updateColo'+'rData','numSplats':_0x56554c,'cr':_0x1e40ee,'cg':_0x199bd9,'cb':_0x1cf210,'ca':_0x5cca69}),new Promise(_0x21d23f=>{this['workerMess'+'ageFn'](this['worker'],'updatedCol'+'orData',_0x43a9c7=>{_0x21d23f(_0x43a9c7);});});}async['calcAabb'](_0x1fcb1a,_0x5269b6,_0x1ea548,_0x2de15e,_0x206772,_0x171376,_0x254812){var _0xf81985;const _0x2b934=new Float32Array(_0x5269b6),_0x3b79f3=new Float32Array(_0x1ea548),_0x3b4094=new Float32Array(_0x2de15e),_0x419f8a=new Float32Array(_0x206772),_0x5419d5=new Float32Array(_0x171376),_0xda4342=new Float32Array(_0x254812);return(_0xf81985=this['worker'])==null||_0xf81985['postMessag'+'e']({'type':'calcAabb','numSplats':_0x1fcb1a,'x':_0x2b934,'y':_0x3b79f3,'z':_0x3b4094,'sx':_0x419f8a,'sy':_0x5419d5,'sz':_0xda4342},[_0x2b934['buffer'],_0x3b79f3['buffer'],_0x3b4094['buffer'],_0x419f8a['buffer'],_0x5419d5['buffer'],_0xda4342['buffer']]),new Promise(_0x23349b=>{this['workerMess'+'ageFn'](this['worker'],'updatedAab'+'bData',_0x5d21ea=>{_0x23349b(_0x5d21ea);});});}async['updateTran'+'sData'](_0x2a8c01,_0x4e0cc5,_0x3b4972,_0x1a12f6,_0x1bda50,_0x458feb,_0x52f9dd,_0x39171a,_0x48c83c,_0x15761e,_0x23271f,_0x2f3c67,_0x14d17c,_0x38fcb4,_0x58083f,_0x5ce566,_0x22a87d){var _0x583391;return(_0x583391=this['worker'])==null||_0x583391['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x2a8c01,'is4D':_0x4e0cc5,'x':_0x3b4972,'y':_0x1a12f6,'z':_0x1bda50,'rx':_0x458feb,'ry':_0x52f9dd,'rz':_0x39171a,'rw':_0x48c83c,'mx':_0x15761e,'my':_0x23271f,'mz':_0x2f3c67,'sx':_0x14d17c,'sy':_0x38fcb4,'sz':_0x58083f,'muT':_0x5ce566,'tScale':_0x22a87d}),new Promise(_0x25e0a8=>{const _0x443824=_0x4b75da=>{_0x25e0a8(_0x4b75da);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x443824);});}['destroy'](){var _0x2ae0ff;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x2ae0ff=this['worker'])==null||_0x2ae0ff['terminate'](),this['worker']=null);}};const vg=(_0x3aeb8d,_0xd45cce)=>{const _0x17606b=[];for(let _0x361efa=0x3*0x8c5+-0x544*0x5+0x1*0x5;_0x361efa<_0xd45cce;++_0x361efa)_0x17606b['push'](_0x3aeb8d['getProp']('f_rest_'+_0x361efa));return _0x17606b;};class EC extends Rv{constructor(_0x4de2a5,_0x559ac2){console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),super(_0x4de2a5,_0x559ac2),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(-0x9e4+-0x1*0x132c+0x427*0x7)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new wC(),this['assetsMana'+'gerLoadedT'+'ime']=-0x548+-0x1ea8*0x1+0x23f5);}async['updateData'](){var _0x356ad6,_0x3fd448,_0x35cbcf,_0x2ed882,_0x14ea37,_0x28f932,_0x5aab5b,_0x40f2b0,_0x14300a,_0x4873e4,_0x3c5b83;console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Data'),await super['updateData']();const _0x176de2=this['gsplatData'];if(!_0x176de2)return;this['is4D']=_0x176de2['is4D'];const _0x728fc5=await this['getTransfo'+'rmDataByWo'+'rker'](_0x176de2);this['aabb']=new De(),await _0x176de2['calcAabbAs'+'ync'](this['aabb'],this['updateData'+'Worker']),this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x728fc5['centers'],this['motion']=_0x728fc5['motion'],this['tScale']=_0x728fc5['tScaleArra'+'y'],this['muT']=await _0x176de2['getMuT'](),this['timeIndex']=await _0x176de2['getTimeInd'+'ex']();const _0x2b277b=this['evalTextur'+'eSize'](_0x176de2['numSplats']);this['colorTextu'+'re']?((_0x356ad6=this['colorTextu'+'re2'])==null||_0x356ad6['destroy'](),(_0x3fd448=this['transformA'+'Texture2'])==null||_0x3fd448['destroy'](),(_0x35cbcf=this['transformB'+'Texture2'])==null||_0x35cbcf['destroy'](),(_0x2ed882=this['transformR'+'Texture2'])==null||_0x2ed882['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x2b277b),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x2b277b),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x2b277b),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x2b277b),this['is4D']&&((_0x14ea37=this['transformM'+'otionTextu'+'re2'])==null||_0x14ea37['destroy'](),(_0x28f932=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x28f932['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x2b277b),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x2b277b))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x2b277b),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x2b277b),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x2b277b),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x2b277b),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x2b277b),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x2b277b),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x2b277b),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x2b277b),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x2b277b),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x2b277b),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x2b277b),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x2b277b))),await this['updateColo'+'rData'](_0x176de2),await this['updateTran'+'sformFromD'+'ata'](_0x728fc5),this['shBands']=_0x176de2['shBands'],this['shBands']>0x13fa*-0x1+-0x12*-0x201+-0x1018&&(this['sh1to3Text'+'ure']?((_0x5aab5b=this['sh1to3Text'+'ure2'])==null||_0x5aab5b['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x2b277b),this['shBands']>-0x6c4+0x1*0x1d1d+-0x1658&&((_0x40f2b0=this['sh4to7Text'+'ure2'])==null||_0x40f2b0['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x2b277b),this['shBands']>0x2*-0x12da+0x918+0x1c9e?((_0x14300a=this['sh8to11Tex'+'ture2'])==null||_0x14300a['destroy'](),(_0x4873e4=this['sh12to15Te'+'xture2'])==null||_0x4873e4['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x2b277b),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x2b277b)):((_0x3c5b83=this['sh8to11Tex'+'ture2'])==null||_0x3c5b83['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x2b277b)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x2b277b),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x2b277b),this['shBands']>0x1546+-0x1e41+0x1*0x8fc&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x2b277b),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x2b277b),this['shBands']>0x1268+0xff+-0x1365?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x2b277b),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x2b277b),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x2b277b),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x2b277b)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x2b277b),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x2b277b)))),await this['updateSHDa'+'taByWorker'](_0x176de2));}['updateText'+'ure'](){console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Texture'),!this['isDestroye'+'d']&&(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x486096){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x486096}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20releas'+'eSeqGSplat'+'\x20all'),this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x59cba0,_0x35f65d,_0x413f7d,_0x4157cc,_0x21c458){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x59cba0,'timeOption':_0x35f65d,'loadedTime':_0x413f7d,'asset':_0x4157cc,'events':_0x21c458}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(-0x994*-0x4+-0xb10+-0x4*0x6d0);try{for(;this['appendQueu'+'e']['length']>-0x1*0x1561+-0x2168+0x36c9;){const _0x869a28=this['appendQueu'+'e']['shift']();_0x869a28['type']==='append'?await this['processApp'+'endTask'](_0x869a28['data']):_0x869a28['type']==='release'&&await this['processRel'+'easeTask'](_0x869a28['data']);}}finally{this['isProcessi'+'ngQueue']=!(-0x61f*-0x1+0x9e8+-0xe*0x125);}}}async['processRel'+'easeTask'](_0x3027b7){const {index:_0x56ba1e}=_0x3027b7;console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.relea'+'seGSplatRe'+'source',_0x56ba1e),!this['isDestroye'+'d']&&await this['gsplatData']['releaseSeq'+'Data'](_0x56ba1e);}async['processApp'+'endTask'](_0x421423){var _0x3a7769;const {gsplatData:_0x15fe24,timeOption:_0x1d4559,loadedTime:_0x1ff9c5,asset:_0x4da0d6,events:_0x282072}=_0x421423;!this['gsplatData']||this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatRes'+'ource'),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x1d4559,await this['gsplatData']['appendGSpl'+'atData'](_0x15fe24,_0x1ff9c5,_0x1d4559),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20gspla'+'tData.appe'+'ndGSplatDa'+'ta',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x1*-0xa7b+0x2261+0x116*-0x16),_0x15fe24['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x15fe24['numSplats'])['toFixed'](-0x2382+-0x3+-0x2*-0x11c4)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20this.'+'updateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x808+0x153*-0x17+0x1*0x166f),_0x15fe24['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),(_0x3a7769=this['gsplatInst'+'ance'])==null||_0x3a7769['updateInst'+'anceData'](this),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20updat'+'eInstanceD'+'ata',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0xfe9+-0x2*0x13a+0x125f),_0x15fe24['numSplats']),this['asset']=_0x4da0d6,this['assetsMana'+'gerLoadedT'+'ime']=_0x1ff9c5,this['events']=_0x282072);}['fireAssets'+'ManagerTim'+'eIndex'](){var _0x30939b;const _0xa05ee6=this['assetsMana'+'gerLoadedT'+'ime'];console['log']('____\x20ENGIN'+'E\x20IVAN','fireAssets'+'ManagerTim'+'eIndex',_0xa05ee6),(_0x30939b=this['asset'])==null||_0x30939b['fire']('setAssetsL'+'oaded',_0xa05ee6);}['destroy'](){var _0xa8f67d,_0x353b9a,_0x16c08f,_0x1b264e,_0x59f8d3,_0x5bdf44,_0x242fe5,_0x4850b5,_0x252ecd,_0x2f9f9e,_0x5b2e82,_0x2f9945,_0x3cff5c,_0x25c1dc,_0x3625c5,_0x22fa1a,_0x243b0e,_0x2cdaa9,_0x3f6027,_0x309d94,_0x4ccbd7;(_0xa8f67d=this['updateData'+'Worker'])==null||_0xa8f67d['destroy'](),this['updateData'+'Worker']=void(-0x111e+-0x7a*0x34+0x14f3*0x2),(_0x353b9a=this['colorTextu'+'re'])==null||_0x353b9a['destroy'](),(_0x16c08f=this['transformA'+'Texture'])==null||_0x16c08f['destroy'](),(_0x1b264e=this['transformB'+'Texture'])==null||_0x1b264e['destroy'](),(_0x59f8d3=this['transformR'+'Texture'])==null||_0x59f8d3['destroy'](),(_0x5bdf44=this['transformM'+'otionTextu'+'re'])==null||_0x5bdf44['destroy'](),(_0x242fe5=this['transformL'+'ifecycleTe'+'xture'])==null||_0x242fe5['destroy'](),(_0x4850b5=this['sh1to3Text'+'ure'])==null||_0x4850b5['destroy'](),(_0x252ecd=this['sh4to7Text'+'ure'])==null||_0x252ecd['destroy'](),(_0x2f9f9e=this['sh8to11Tex'+'ture'])==null||_0x2f9f9e['destroy'](),(_0x5b2e82=this['sh12to15Te'+'xture'])==null||_0x5b2e82['destroy'](),(_0x2f9945=this['colorTextu'+'re2'])==null||_0x2f9945['destroy'](),(_0x3cff5c=this['transformA'+'Texture2'])==null||_0x3cff5c['destroy'](),(_0x25c1dc=this['transformB'+'Texture2'])==null||_0x25c1dc['destroy'](),(_0x3625c5=this['transformR'+'Texture2'])==null||_0x3625c5['destroy'](),(_0x22fa1a=this['transformM'+'otionTextu'+'re2'])==null||_0x22fa1a['destroy'](),(_0x243b0e=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x243b0e['destroy'](),(_0x2cdaa9=this['sh1to3Text'+'ure2'])==null||_0x2cdaa9['destroy'](),(_0x3f6027=this['sh4to7Text'+'ure2'])==null||_0x3f6027['destroy'](),(_0x309d94=this['sh8to11Tex'+'ture2'])==null||_0x309d94['destroy'](),(_0x4ccbd7=this['sh12to15Te'+'xture2'])==null||_0x4ccbd7['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x106159){var _0x55cf64,_0x4e4ba6,_0x33e123,_0xdd68be,_0x8eb705,_0xb7adc0,_0x34e8e2,_0x112df1,_0x2fe684,_0x5a953f,_0x3e6f74,_0x2bc866,_0x162494;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x2a58b0=((_0x55cf64=_0x106159['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(-0x2507*-0x1+0xfee+-0x1*0x34f5):_0x55cf64['data'])??0x3*0x5d5+0x94*0x31+-0x2dd3*0x1,_0x454cfc=((_0x4e4ba6=_0x106159['getParamet'+'er']('uSplatScal'+'e'))==null?void(-0x16*-0x21+-0x670+-0x1*-0x39a):_0x4e4ba6['data'])??-0x915+0x38*-0xb2+0x12*0x2ab,_0x5e04f4=((_0x33e123=_0x106159['getParamet'+'er']('uSaturatio'+'n'))==null?void(0x1*0x609+-0x6*0x24+-0x531):_0x33e123['data'])??-0xe54+-0x2d9+0x112e,_0x8a4026=((_0xdd68be=_0x106159['getParamet'+'er']('uHueOffset'))==null?void(0x1fc9+-0x3*0x29+-0x1f4e*0x1):_0xdd68be['data'])??-0x14*0x25+-0x9d2+0xcb6,_0xf89e31=((_0x8eb705=_0x106159['getParamet'+'er']('uInvertOpa'+'city'))==null?void(0x2606+-0x6e9+-0x2d*0xb1):_0x8eb705['data'])??-0x21*-0xca+0x3*0xbb5+-0x3d29,_0x31fcf2=((_0xb7adc0=_0x106159['getParamet'+'er']('uOpacity'))==null?void(-0x321+-0x17e3*-0x1+-0x1*0x14c2):_0xb7adc0['data'])??0xd73+-0x1a27+-0xcb5*-0x1,_0x4c6821=((_0x34e8e2=_0x106159['getParamet'+'er']('clrOffset'))==null?void(0x1*0x116f+-0x2*-0x12d1+0x3*-0x125b):_0x34e8e2['data'])??[0x2204+0x1df8+-0x3ffc,0x13f0+-0xe74+-0x9c*0x9,0x309+0x133b+-0x1644,-0x1*-0x12cb+-0x11f9+0x1*-0xd1],_0x66091f=((_0x112df1=_0x106159['getParamet'+'er']('clrScale'))==null?void(0xbf+-0x293*-0xa+-0x1a7d*0x1):_0x112df1['data'])??[-0x269*0xb+-0x1192+0x2c16,-0x1a*-0x98+-0x1*-0x1661+0x37*-0xb0,0x70b*0x1+0x39*-0x95+0x1a23,-0x1d39+0x1848+0x1*0x4f2],_0x32afe0=((_0x2fe684=_0x106159['getParamet'+'er']('uShapeN'))==null?void(-0x104*0x10+-0xae2+-0x2e*-0x97):_0x2fe684['data'])??-0x116*0x1+-0xee2+-0x7*-0x248,_0xf12045=((_0x5a953f=_0x106159['getParamet'+'er']('mode'))==null?void(-0x1488+-0x1d75+0x31fd*0x1):_0x5a953f['data'])??-0x118e+0x120+0x106e,_0xa68425=((_0x3e6f74=_0x106159['getParamet'+'er']('ringSize'))==null?void(0xc1a*0x1+-0x11*0xcb+0x1*0x161):_0x3e6f74['data'])??0x22e+0x190+-0x3be,_0x4f0990=((_0x2bc866=_0x106159['defines'])==null?void(-0x1a3+-0x1*0x1024+-0x29*-0x6f):_0x2bc866['get']('uOpenAnim'))??'0',_0x466b9b=((_0x162494=_0x106159['defines'])==null?void(0x1454+-0x18d2+0x47e):_0x162494['get']('uControlCo'+'lorMode'))??'0';_0x106159['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x106159['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x106159['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x106159['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x106159['setParamet'+'er']('uSplatScal'+'e',_0x454cfc),_0x106159['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x2a58b0),_0x106159['setParamet'+'er']('uSaturatio'+'n',_0x5e04f4),_0x106159['setParamet'+'er']('uHueOffset',_0x8a4026),_0x106159['setParamet'+'er']('uInvertOpa'+'city',_0xf89e31),_0x106159['setParamet'+'er']('uOpacity',_0x31fcf2),_0x106159['setParamet'+'er']('clrOffset',_0x4c6821),_0x106159['setParamet'+'er']('clrScale',_0x66091f),_0x106159['setParamet'+'er']('uShapeN',_0x32afe0),_0x106159['setParamet'+'er']('mode',_0xf12045),_0x106159['setParamet'+'er']('ringSize',_0xa68425),_0x106159['setParamet'+'er']('prerenderC'+'Time',-0x1*0x169c+0x432+0x126a),_0x106159['setParamet'+'er']('renderSpac'+'e',-0x3ff+-0x21b0+0x25b9),_0x106159['setParamet'+'er']('endSpace',-0xa07*0x1+-0xccd+-0xb6f*-0x2),_0x106159['setDefine']('uOpenAnim',_0x4f0990),_0x106159['setDefine']('uControlCo'+'lorMode',_0x466b9b),this['transformM'+'otionTextu'+'re']&&_0x106159['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x106159['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x106159['setDefine']('SH_BANDS',this['shBands']),_0x106159['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x106159['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x106159['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x106159['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x106159['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x14824b){const _0xf0c872=Math['ceil'](Math['sqrt'](_0x14824b)),_0xe90a3=Math['ceil'](_0x14824b/_0xf0c872);return new J(_0xf0c872,_0xe90a3);}async['updateColo'+'rData'](_0x108b3f){var _0x372e2e;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x5cefcf=this['colorTextu'+'re2'];if(!_0x5cefcf||this['isDestroye'+'d'])return;const _0x176ec8=_0x108b3f['getProp']('f_dc_0'),_0x178152=_0x108b3f['getProp']('f_dc_1'),_0x5be8a7=_0x108b3f['getProp']('f_dc_2'),_0x1b9c9d=_0x108b3f['getProp']('opacity');let _0x54e99c=(_0x372e2e=_0x108b3f['transformD'+'ata'])==null?void(0x2*0x4a9+-0x83*0x1c+0x502):_0x372e2e['dataColor'];_0x54e99c||(_0x54e99c=await this['updateData'+'Worker']['updateColo'+'rData'](_0x108b3f['numSplats'],_0x176ec8,_0x178152,_0x5be8a7,_0x1b9c9d)),await this['idleUpdate'+'TexturePro'+'mise'](_0x5cefcf,_0x54e99c);}async['getTransfo'+'rmDataByWo'+'rker'](_0x5ed47a){var _0x3d888d;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x3d888d=_0x5ed47a['transformD'+'ata'])!=null&&_0x3d888d['dataCenter'+'s'])return{'centers':_0x5ed47a['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x5ed47a['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x5ed47a['transformD'+'ata']['dataScale'],'dataRotation':_0x5ed47a['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x5ed47a['transformD'+'ata']['dataMotion'],'dataTime':_0x5ed47a['transformD'+'ata']['dataTime'],'motion':_0x5ed47a['transformD'+'ata']['motion'],'tScaleArray':_0x5ed47a['transformD'+'ata']['tScaleArra'+'y']};const _0x4cacca=_0x5ed47a['getProp']('x'),_0x248a8e=_0x5ed47a['getProp']('y'),_0x433455=_0x5ed47a['getProp']('z'),_0x30a77f=_0x5ed47a['getProp']('rot_1'),_0x95a126=_0x5ed47a['getProp']('rot_2'),_0x526b6d=_0x5ed47a['getProp']('rot_3'),_0x4a77a7=_0x5ed47a['getProp']('rot_0'),_0x268fbc=_0x5ed47a['getProp']('motion_0'),_0x4a2cf7=_0x5ed47a['getProp']('motion_1'),_0x3c3ccd=_0x5ed47a['getProp']('motion_2'),_0x2a20a3=_0x5ed47a['getProp']('scale_0'),_0x2bb6ea=_0x5ed47a['getProp']('scale_1'),_0x38d57e=_0x5ed47a['getProp']('scale_2'),_0x250c02=_0x5ed47a['getProp']('t'),_0x37aa14=_0x5ed47a['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x5ed47a['numSplats'],this['is4D'],_0x4cacca,_0x248a8e,_0x433455,_0x30a77f,_0x95a126,_0x526b6d,_0x4a77a7,_0x268fbc,_0x4a2cf7,_0x3c3ccd,_0x2a20a3,_0x2bb6ea,_0x38d57e,_0x250c02,_0x37aa14);}async['updateTran'+'sformFromD'+'ata'](_0x2734b9){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x2734b9['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x2734b9['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x2734b9['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x2734b9['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x2734b9['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x43d68f,_0x40c84f){if(!this['isDestroye'+'d'])return new Promise(_0x9cba14=>{requestIdleCallback(()=>{const _0x1533a9=_0x43d68f['lock']();_0x1533a9==null||_0x1533a9['set'](_0x40c84f),_0x43d68f['unlock'](),_0x9cba14(!(0x16ee+0x1*-0x254f+-0x4cb*-0x3));},{'timeout':0x12c});});}async['updateTran'+'sformData'](_0x421bcc){var _0x1ba8a0,_0x13997e,_0x4ca747,_0x565e6f;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData'),this['isDestroye'+'d'])return;const _0x998a9b=Mn['float2Half'];if(!this['transformA'+'Texture'])return;const _0x2e8644=this['transformA'+'Texture']['lock'](),_0xfb272d=this['transformR'+'Texture']['lock'](),_0x380517=this['transformB'+'Texture']['lock'](),_0x64f1fc=(_0x1ba8a0=this['transformM'+'otionTextu'+'re'])==null?void(0x933+0x39f*-0x1+0x66*-0xe):_0x1ba8a0['lock'](),_0x831cbb=(_0x13997e=this['transformL'+'ifecycleTe'+'xture'])==null?void(0x211c+-0x2d2+-0xf25*0x2):_0x13997e['lock'](),_0x59b58c=new D(),_0x20d7bc=new le(),_0x362b2b=new D(),_0x200df5=new D(),_0x421647=_0x421bcc['createIter'](_0x59b58c,_0x20d7bc,_0x362b2b,null,_0x200df5),_0x48ef9b=_0x421bcc['getProp']('t'),_0x42dd69=_0x421bcc['getProp']('t_scale');for(let _0x3afb57=0x1f7b+-0xa06+-0x1575;_0x3afb57<_0x421bcc['numSplats'];_0x3afb57++)_0x421647['read'](_0x3afb57),_0x20d7bc['normalize'](),_0x20d7bc['w']<0x21da+-0x2330+0x2*0xab&&_0x20d7bc['mulScalar'](-(0xaaa+-0x3be*0x1+-0x6eb)),_0x2e8644[_0x3afb57*(0x1c1*-0x1+-0x26e*-0x3+-0x586)+(-0x1*-0x2359+-0x60d+0x14*-0x177)]=_0x59b58c['x'],_0x2e8644[_0x3afb57*(-0x2*0xb45+0x6*0xd5+0x118f)+(0x1550+-0xaaa+-0x221*0x5)]=_0x59b58c['y'],_0x2e8644[_0x3afb57*(-0x12f2+0x1d61+-0xa6c)+(-0x2147+0x155c+0xbed)]=_0x59b58c['z'],_0x380517[_0x3afb57*(-0x233*-0x3+0xf3f+-0x15d5)+(0xcac*-0x1+0x22*0xa4+0x48e*-0x2)]=_0x998a9b(_0x362b2b['x']),_0x380517[_0x3afb57*(0x17d9+-0x920+-0xeb6)+(0x4ef+0x14fc+-0x19ea)]=_0x998a9b(_0x362b2b['y']),_0x380517[_0x3afb57*(-0x97d*-0x1+-0xb58+0x1de)+(-0x1*0x621+-0x29*0xf2+0x2ce5)]=_0x998a9b(_0x362b2b['z']),_0xfb272d[_0x3afb57*(0x214b+-0x1*-0x719+0x1*-0x2861)+(0x2*-0x9c9+-0x10f5+0x2487)]=_0x20d7bc['x'],_0xfb272d[_0x3afb57*(-0x439*0x5+-0x9b7+0x1ed7)+(-0x6d*-0x5b+-0x8d8+-0x1de6)]=_0x20d7bc['y'],_0xfb272d[_0x3afb57*(0x861+0x1*-0x1363+0xb05)+(-0x1616+-0x40b+0x1a23)]=_0x20d7bc['z'],this['is4D']&&_0x64f1fc&&_0x831cbb&&(_0x64f1fc[_0x3afb57*(0xf5b+-0x2667+0x1*0x170f)+(-0x1*-0x117a+0x37*0x3b+-0x1e27)]=_0x200df5['x'],_0x64f1fc[_0x3afb57*(0x12e3+0x1*-0x2273+0x3*0x531)+(0x1*0x371+0xf71+0x3*-0x64b)]=_0x200df5['y'],_0x64f1fc[_0x3afb57*(0x2*0x1227+0x1571+-0x39bc)+(-0x13a3*-0x1+0x8*0x3a6+-0x30d1)]=_0x200df5['z'],_0x831cbb[_0x3afb57*(-0x1212+0x59*-0x53+0x2ef0)+(0xde+0x23ca+-0x24a8)]=_0x48ef9b?_0x48ef9b[_0x3afb57]:0xaf4*0x2+0xd6d+-0x2355*0x1,_0x831cbb[_0x3afb57*(-0x1*-0x1e85+0x182+-0x2004)+(-0x1241*-0x1+0x41+-0x1281)]=_0x42dd69?Math['exp'](_0x42dd69[_0x3afb57]):-0xbf*-0x1d+-0xce8+-0x8bb);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x4ca747=this['transformM'+'otionTextu'+'re'])==null||_0x4ca747['unlock'](),(_0x565e6f=this['transformL'+'ifecycleTe'+'xture'])==null||_0x565e6f['unlock']();}async['updateSHDa'+'ta'](_0x488eee){var _0x341609,_0x1d1a92,_0x443af7,_0x2b2e87,_0x31769f,_0x45e1af,_0x4215d1,_0x49dabe;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x3682cf=(_0x341609=this['sh1to3Text'+'ure2'])==null?void(-0xf9f+-0x19*0x169+0x32e0):_0x341609['lock'](),_0x419d01=(_0x1d1a92=this['sh4to7Text'+'ure2'])==null?void(-0xea1+0x6de+0x1*0x7c3):_0x1d1a92['lock'](),_0x54d079=(_0x443af7=this['sh8to11Tex'+'ture2'])==null?void(0xef+-0x1a29+0x193a):_0x443af7['lock'](),_0x8ad86b=(_0x2b2e87=this['sh12to15Te'+'xture2'])==null?void(0x2250+0xdd7+-0x3027*0x1):_0x2b2e87['lock'](),_0x3a3a9c={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x55cc94=vg(_0x488eee,_0x3a3a9c*(0x793+0x192e+-0x7f*0x42)),_0x5db2d3=-0x1781*-0x1+-0x1*0x20d8+-0x27a*-0x7,_0x1945e1=-0x26e0+-0x15be+-0x3cd*-0x11,_0x5cfcf3=new Float32Array(-0x1*-0x93a+-0xdf*-0x2b+0x32*-0xef),_0x34b4e2=new Uint32Array(_0x5cfcf3['buffer']),_0x59be63=new Array(_0x3a3a9c*(-0xe*0x1ab+0x20aa+-0x94d))['fill'](-0x478+0x1*-0x15c5+0x1a3d);for(let _0x1d421a=-0xe46+0x65*-0x7+0x1109;_0x1d421a<_0x488eee['numSplats'];++_0x1d421a){for(let _0x531c84=0xaf1*-0x3+-0xfc6*-0x2+0x147;_0x531c84<_0x3a3a9c;++_0x531c84)_0x59be63[_0x531c84*(-0x1ee0+-0x482+0xdd*0x29)]=_0x55cc94[_0x531c84][_0x1d421a],_0x59be63[_0x531c84*(-0xfd7*-0x1+0x119a+-0x185*0x16)+(-0x1*-0x1ea7+-0x83*-0x28+0x2d7*-0x12)]=_0x55cc94[_0x531c84+_0x3a3a9c][_0x1d421a],_0x59be63[_0x531c84*(-0x1444+-0x65d*-0x1+-0x1a*-0x89)+(0x1348*-0x2+-0x1560+-0x2*-0x1df9)]=_0x55cc94[_0x531c84+_0x3a3a9c*(-0x134e+0xbd5*0x1+0x77b*0x1)][_0x1d421a];let _0x234a13=_0x59be63[-0x21af+-0x21*0x103+-0x6b5*-0xa];for(let _0x51e9d1=0xccf+0x205+-0xed3;_0x51e9d1<_0x3a3a9c*(0x24f1+0xd*-0x1d+-0x2375);++_0x51e9d1)_0x234a13=Math['max'](_0x234a13,Math['abs'](_0x59be63[_0x51e9d1]));if(_0x234a13!==-0xa*0x3a7+-0x92*0x1c+0x347e){for(let _0x400fcc=0x1ebb+-0x35b*-0x5+-0x2f82;_0x400fcc<_0x3a3a9c;++_0x400fcc)_0x59be63[_0x400fcc*(0x3b*0x97+-0x1*-0x61f+-0x3*0xda3)+(0x1cb1+-0x1731*-0x1+-0x33e2)]=Math['max'](-0x296*-0x2+-0x8*-0x281+-0x4*0x64d,Math['min'](_0x5db2d3,Math['floor']((_0x59be63[_0x400fcc*(0x36*-0x19+0x267+0x2e2)+(-0xd0e+0xb1*-0x9+0x1347)]/_0x234a13*(0x17*-0x19f+0xa34+0x1*0x1b15+0.5)+(-0x59d+0x12*-0x6+0x609+0.5))*_0x5db2d3+(-0xa99+-0x11d0+0x1*0x1c69+0.5)))),_0x59be63[_0x400fcc*(0xee7+-0x17e*0x13+0xd76)+(0x1e27+0x32b*0x3+-0x1*0x27a7)]=Math['max'](0xfb*-0x20+0x1316+0xc4a,Math['min'](_0x1945e1,Math['floor']((_0x59be63[_0x400fcc*(0x4*-0x8c3+-0x16bc+0x541*0xb)+(0x209*-0x13+0x156b+0x1141*0x1)]/_0x234a13*(0x2270+0x707*-0x1+-0x1b69+0.5)+(0x512*-0x3+0x67*0x59+-0x1499+0.5))*_0x1945e1+(0x2ba+-0x1ed3+0x1c19+0.5)))),_0x59be63[_0x400fcc*(0x18bb+0x1465*0x1+-0x2d1d)+(-0x999+0x125*-0x8+0x3*0x641)]=Math['max'](0x457+0x2688+-0x2adf,Math['min'](_0x5db2d3,Math['floor']((_0x59be63[_0x400fcc*(0x24f4+-0x2263+-0x28e)+(-0x1*-0x19b5+-0x9*-0x3d+-0x1bd8)]/_0x234a13*(0x5cb*0x1+0x1*-0xd07+0x39e*0x2+0.5)+(-0x20ca+0xc1d+-0x43*-0x4f+0.5))*_0x5db2d3+(0x7b*0x1+0xa*-0x2b3+0x1a83+0.5))));_0x5cfcf3[0x91d+0xd0f+-0x162c]=_0x234a13,_0x3682cf[_0x1d421a*(-0x55*-0x4b+0x70*-0x11+-0x1*0x1173)+(0x11d+-0x8f5+0x7d8)]=_0x34b4e2[-0x2cc*0x7+-0x126f*0x2+-0xaa*-0x55],_0x3682cf[_0x1d421a*(0x819*0x3+-0x1e25+-0x2*-0x2ef)+(0x1426+-0x4e9*-0x5+-0x2cb2)]=_0x59be63[0x5*-0x7+-0x13*-0x49+0x152*-0x4]<<-0xb39+-0xfa9+0x1af7|_0x59be63[-0x1*0x213+-0x1b60+0x1d74]<<-0x18d0+-0x323*-0x4+0xc4f|_0x59be63[0x1849*0x1+0xa5e*0x1+-0x22a5*0x1],_0x3682cf[_0x1d421a*(0x21ea+0x1*0x1ad7+-0x143f*0x3)+(-0x228a+0x22cc+-0x4*0x10)]=_0x59be63[-0x5d*0x3f+0x14d*-0x7+-0x3*-0xaab]<<0x17f2+0x12*-0x1d9+-0xd*-0xb9|_0x59be63[0x2*0x10ba+0x19a6+-0x3b16]<<0x1fd5+-0x634+-0x1996|_0x59be63[-0x23e3+-0x23c7+-0x9*-0x7f7],_0x3682cf[_0x1d421a*(-0x572+-0x3e5*0x3+0x1125)+(0x1*0xd7+0x228f+-0x2363)]=_0x59be63[0x1eae+-0x23d9+-0x1bb*-0x3]<<-0x8*-0x22b+-0x43*0x21+-0x8a0|_0x59be63[0x54e+0x158*-0x17+0x19a1]<<0x656+0x2063+-0x2*0x1357|_0x59be63[-0x2254+-0x1*0x192+0x23ee],this['shBands']>0x8ec+-0xbf*-0x4+-0xbe7&&(_0x419d01[_0x1d421a*(0x1*-0x2269+-0x204+0x2471)+(-0xd1f*0x1+-0x13*0x20b+-0x22a*-0x18)]=_0x59be63[0x618+-0x2382+0x1d73]<<0x47+-0x1b53+0x5*0x56d|_0x59be63[-0xd0d+0x1661+-0x94a*0x1]<<-0x5*0x206+0xf*-0x24f+-0x15*-0x222|_0x59be63[-0x12aa+0x16bc+-0x1*0x407],_0x419d01[_0x1d421a*(-0x26a6+-0x2*-0xfe5+-0x5*-0x160)+(0x2688+-0x1f34+-0x753)]=_0x59be63[-0x73*0x10+0x17*0x4d+0x51]<<0x4*-0x3e6+-0x2201+0x31ae|_0x59be63[0x2*-0x7f2+0x22ba+-0x12c9]<<-0x11*-0x9f+0x0+-0xa84|_0x59be63[0x1*-0x25d2+-0x332*-0xb+0x2ba],_0x419d01[_0x1d421a*(-0x2137+-0x1*-0x25a5+-0x46a)+(-0x1c76+0x19*-0x14+-0x2*-0xf36)]=_0x59be63[-0x4ca*-0x3+-0x3*-0xb09+-0x2f6a]<<0x378+0x2*0x315+-0x98d|_0x59be63[-0xb11+-0x206a+0x2b8b]<<0x27*0x7+0xa40+0xd*-0xde|_0x59be63[-0x1075+0x1c41+-0xbbb],_0x419d01[_0x1d421a*(0x10da+0x710+0x2e*-0x85)+(0x1c06+0x105a+0x2c5d*-0x1)]=_0x59be63[-0x15ff+0x2681*-0x1+0x3c92]<<-0x2d7*0x4+0x25bd+-0x1a4c|_0x59be63[0xfdc+0xfef*0x1+-0x488*0x7]<<-0x21b2+-0x61f+-0x4*-0x9f7|_0x59be63[0x9*0xa2+-0x25d2+0x2034],this['shBands']>-0xb4b+0x26e7+0xdcd*-0x2?(_0x54d079[_0x1d421a*(-0x1d8e+-0x2*0x7f+0x1e90)+(-0x1df9+0x1*0x248b+-0x692)]=_0x59be63[0x18*0x9b+0x1f2*0x12+-0x1b*0x1d5]<<-0x20e9+-0xaf6+-0x3a*-0xc2|_0x59be63[0x1c64+0x1*0x111d+-0x67d*0x7]<<0x6d3+0xaf1+-0x1*0x11b9|_0x59be63[-0xc3e+0x22c3+0x27e*-0x9],_0x54d079[_0x1d421a*(-0x2*0x33b+-0x605+-0x1c9*-0x7)+(-0x1884+-0xf38*0x1+-0xd3f*-0x3)]=_0x59be63[0xb*0x65+-0x3a5*-0x1+0x194*-0x5]<<-0x1638+0x79f*0x1+0xeae|_0x59be63[-0x1c1*0x1+0xdc*0x4+-0x196]<<0x2219+-0x1c5d+-0x5b1|_0x59be63[-0x32*0x20+0x11*0x4f+0x11b],_0x54d079[_0x1d421a*(-0x10b*-0x21+0x738+-0x299f)+(0xf4d*-0x2+-0x2*0x52c+0xa3d*0x4)]=_0x59be63[0x1222+0x1*0x131d+0x1292*-0x2]<<-0x1375*0x1+-0x1373+-0xcff*-0x3|_0x59be63[-0x27*0xe4+-0x27*-0x53+0x1633]<<-0x1f*-0x6+0x1674+-0x1723|_0x59be63[-0x444+0x1454+0x551*-0x3],_0x54d079[_0x1d421a*(-0x1381*-0x2+-0x12f7+0x3*-0x6ad)+(-0x502+0x7f5+-0x2f*0x10)]=_0x59be63[-0x2503+0x14ae*0x1+0x1073]<<-0x11aa+-0x9fb+-0x1a*-0x111|_0x59be63[-0xb*0x137+-0xad3+0x31*0x7f]<<0x1*-0x14e7+0x1*-0x23f3+0x38e5|_0x59be63[-0x38b*-0x8+-0x4*0x412+-0xbf0],_0x8ad86b[_0x1d421a*(-0xe*-0xef+0x1d62+0xc2*-0x38)+(0x1*-0x349+-0x1cb4+0x1*0x1ffd)]=_0x59be63[-0x2587*-0x1+0x5b*0x23+-0x109d*0x3]<<-0x1e02+-0x1*-0x1079+0xa6*0x15|_0x59be63[0x80e+0x1307+-0x1af3]<<0x1d6+0x46f*0x5+-0x17f6|_0x59be63[0x17*-0x13a+-0x24cb*-0x1+-0x872],_0x8ad86b[_0x1d421a*(-0xa02+0x181a+-0xe14)+(-0x82e*-0x2+0x502*-0x2+-0x657)]=_0x59be63[0x134f*-0x1+-0x1281+0x15b*0x1c]<<0x1050+0x1*0x78b+-0x17c6|_0x59be63[0x3f1*0x8+-0x11d6+-0xd8d]<<-0x1670+0xa65+-0x1a*-0x77|_0x59be63[-0x99*0x1+-0x148+0x207],_0x8ad86b[_0x1d421a*(-0x1*-0x260e+-0x2252+-0x3b8)+(-0x1e45+0x2002+-0x1bb)]=_0x59be63[-0x2*0x931+0x1120+0x1*0x169]<<-0x226f+-0x1a*0x17d+0x1*0x4936|_0x59be63[0xc6*-0x2f+0x8*0x11+0x23fa]<<-0xbf6*-0x2+-0x13df+-0x402|_0x59be63[-0x17*0xa3+-0x530+-0x355*-0x6],_0x8ad86b[_0x1d421a*(0x6df*0x3+-0x1*0xa9a+-0x3*0x355)+(-0x19d2+-0x2214+0x3be9)]=_0x59be63[0x3cc*0x3+-0x1*-0x1102+-0x1c3c]<<0x3fe*-0x2+-0x2117+0x2928|_0x59be63[-0x1337*0x1+0x7a1+0x3b*0x33]<<0x9*-0xf5+-0x1*0x1f8d+-0x3*-0xd67|_0x59be63[-0x110f+0x2297+-0x115c]):_0x54d079[_0x1d421a]=_0x59be63[-0x21*-0xb1+0x1*-0x2466+0xdaa]<<-0x131a+-0x7b0+0x3*0x8f5|_0x59be63[0x606+-0xa1b*-0x1+-0x100b]<<0x4*-0x655+-0xfd*0x25+0x3df0|_0x59be63[0x4*0x18d+0x1b06+-0x2123]);}}(_0x31769f=this['sh1to3Text'+'ure2'])==null||_0x31769f['unlock'](),(_0x45e1af=this['sh4to7Text'+'ure2'])==null||_0x45e1af['unlock'](),(_0x4215d1=this['sh8to11Tex'+'ture2'])==null||_0x4215d1['unlock'](),(_0x49dabe=this['sh12to15Te'+'xture2'])==null||_0x49dabe['unlock']();}async['updateSHDa'+'taByWorker'](_0x1ce276){var _0x1b3b16,_0xbd40b8,_0x4973b0,_0x501386,_0x2d8168;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x22ad5d={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x5de1a6,_0x546b31,_0xf85bf,_0x3e1046;if((_0x1b3b16=_0x1ce276['transformD'+'ata'])!=null&&_0x1b3b16['sh1to3Data'])_0x5de1a6=(_0xbd40b8=_0x1ce276['transformD'+'ata'])==null?void(-0x2eb+-0x4*-0x3f8+-0xcf5):_0xbd40b8['sh1to3Data'],_0x546b31=(_0x4973b0=_0x1ce276['transformD'+'ata'])==null?void(-0xc20+-0x1*0x69b+-0x1*-0x12bb):_0x4973b0['sh4to7Data'],_0xf85bf=(_0x501386=_0x1ce276['transformD'+'ata'])==null?void(-0x11d3+-0xd69+0x1f3c):_0x501386['sh8to11Dat'+'a'],_0x3e1046=(_0x2d8168=_0x1ce276['transformD'+'ata'])==null?void(0x18c7+0x2*-0x17a+0x97*-0x25):_0x2d8168['sh12to15Da'+'ta'];else{const _0x2777b1=vg(_0x1ce276,_0x22ad5d*(-0x21a5+0x5*-0x373+-0x32e7*-0x1)),_0x59ea77=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x1ce276['numSplats'],this['shBands'],_0x2777b1);_0x5de1a6=_0x59ea77['sh1to3Data'],_0x546b31=_0x59ea77['sh4to7Data'],_0xf85bf=_0x59ea77['sh8to11Dat'+'a'],_0x3e1046=_0x59ea77['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x5de1a6),this['shBands']>-0xa*-0x61+0x3c6+-0x78f&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x546b31),this['shBands']>0x1486+0x1297+-0x271b?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0xf85bf),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x3e1046)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0xf85bf));}}async function bC(){const _0x462261=new Float32Array(0x7b9+-0x86*-0x2c+-0x1ec0);new Int32Array(_0x462261['buffer']);let _0x1ac58e=null,_0x268a63=null,_0x2352f7=null,_0x99988a=null,_0x4aba66=null,_0x5a3094=null,_0x2249bb=null,_0x1d3118=null;self['onmessage']=async _0xcb2019=>{const {data:_0x4f4224}=_0xcb2019;switch(_0x4f4224['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x26cdef(_0x4f4224['numSplats'],_0x4f4224['shBands'],_0x4f4224['SHData']);break;case'updateTran'+'sformData':_0x2420a1(_0x4f4224['numSplats'],_0x4f4224['is4D'],_0x4f4224['position'],_0x4f4224['rotation'],_0x4f4224['motion'],_0x4f4224['scale'],_0x4f4224['muT'],_0x4f4224['tScale']);break;case'destroyWor'+'ker':_0xd8262e();break;}};const _0x2420a1=(_0x5dda83,_0x2857eb,_0x2bcde0,_0x25f6dd,_0x1c42f3,_0x34d00c,_0x5ec7e9,_0x7eabc2)=>{_0xd8262e(),_0x2857eb&&(_0x268a63=new Float32Array(_0x5dda83*(-0x3a*0x31+0x1732+0x1*-0xc15)),_0x1d3118=new Float32Array(_0x5dda83),_0x4aba66=new Float32Array(_0x1c42f3['buffer']['slice']()),_0x2249bb=new Float32Array(_0x1c42f3['buffer']['slice']())),_0x99988a=new Float32Array(_0x2bcde0['buffer']['slice']()),_0x1ac58e=new Float32Array(_0x2bcde0['buffer']['slice']()),_0x5a3094=new Uint16Array(_0x34d00c['buffer']['slice']()),_0x2352f7=new Float32Array(_0x25f6dd['buffer']['slice']());for(let _0x4203d6=-0x1*-0x1a49+-0x1677+-0x3d2*0x1;_0x4203d6<_0x5dda83;_0x4203d6++)_0x2857eb&&_0x268a63&&(_0x1d3118[_0x4203d6]=_0x7eabc2?Math['exp'](_0x7eabc2[_0x4203d6]):0x1e99+-0x4f8*0x4+-0x5*0x225,_0x268a63[_0x4203d6*(0x20ca+0x20d0+0xc1*-0x57)+(-0xf*-0x1ff+-0x1fdf*-0x1+-0x3dd0)]=_0x5ec7e9?_0x5ec7e9[_0x4203d6]:0xe72*0x1+0x13d9+-0x224b,_0x268a63[_0x4203d6*(0x730+0x1e79+0x1*-0x25a6)+(0x1c*-0xef+0x839*-0x3+-0x65a*-0x8)]=_0x1d3118[_0x4203d6]);const _0x5f2b53=[_0x1ac58e['buffer'],_0x99988a['buffer'],_0x5a3094['buffer'],_0x2352f7['buffer']];_0x2857eb&&_0x5f2b53['push'](_0x4aba66['buffer'],_0x268a63['buffer'],_0x2249bb['buffer'],_0x1d3118['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x1ac58e,'dataPosition':_0x99988a,'dataScale':_0x5a3094,'dataRotation':_0x2352f7,'dataMotion':_0x4aba66,'dataTime':_0x268a63,'motion':_0x2249bb,'tScaleArray':_0x1d3118},_0x5f2b53);},_0x26cdef=(_0x4edbbc,_0x5ceedf,_0x596fe3)=>{const _0x471494=new Uint32Array(_0x4edbbc*(-0xd*0x17b+-0x248e*-0x1+0x114b*-0x1)),_0x109c30=new Uint32Array(_0x4edbbc*(0x114d+0xc25*-0x1+-0x2*0x292)),_0x12ccf0=new Uint32Array(_0x4edbbc*(0xd*0x19+-0xa9f+0x16*0x6d)),_0x425cb3=new Uint32Array(_0x4edbbc*(0x53*-0x2b+-0x1415+-0x220a*-0x1)),_0x3027fe={0x1:0x3,0x2:0x8,0x3:0xf}[_0x5ceedf],_0x9560bb=_0x596fe3,_0x4af9c6=-0xcf6+0x1*0x131b+0x1da,_0x3c4067=-0xc9*-0x1+0x5*-0x6b6+0x24c4,_0x2246f9=new Float32Array(-0x1645+0x3cd+-0x1279*-0x1),_0x49c3f6=new Uint32Array(_0x2246f9['buffer']),_0x2d669e=new Array(_0x3027fe*(-0x1*-0x102b+0x15e8+-0x2610))['fill'](0x1*0x98f+0x1ba+-0xb49);for(let _0x589925=-0xa0e+-0x161*-0x19+-0x186b;_0x589925<_0x4edbbc;++_0x589925){for(let _0x28ae0a=0x1b*-0x51+0x4c6*0x6+0x1419*-0x1;_0x28ae0a<_0x3027fe;++_0x28ae0a)_0x2d669e[_0x28ae0a*(-0x90f*-0x4+0x1*-0x16e8+-0xd51*0x1)]=_0x9560bb[_0x28ae0a][_0x589925],_0x2d669e[_0x28ae0a*(0x46b+0x165d+-0x59*0x4d)+(0x71*0x40+-0x228a+0x64b)]=_0x9560bb[_0x28ae0a+_0x3027fe][_0x589925],_0x2d669e[_0x28ae0a*(0x1b16+0x7f*-0xd+-0x14a0)+(-0xcbb+-0x27c+0x1b1*0x9)]=_0x9560bb[_0x28ae0a+_0x3027fe*(-0xd01+0x1*0x548+-0x7bb*-0x1)][_0x589925];let _0x59f3bc=_0x2d669e[0x15*-0x181+0x1cbd+-0x1c*-0x1a];for(let _0x5b8e20=0x400*0x9+-0xe*-0x11b+-0x3379;_0x5b8e20<_0x3027fe*(-0x4*0x17d+0x10e7+0x1c*-0x64);++_0x5b8e20)_0x59f3bc=Math['max'](_0x59f3bc,Math['abs'](_0x2d669e[_0x5b8e20]));if(_0x59f3bc!==0x20f0*0x1+-0xb*0x215+0x7*-0x16f){for(let _0xe1f0a6=-0x3*-0xf2+-0xba3+-0x8cd*-0x1;_0xe1f0a6<_0x3027fe;++_0xe1f0a6)_0x2d669e[_0xe1f0a6*(0x15eb+-0x24ca+0xee2)+(0x76b+0x1991+-0x20fc)]=Math['max'](-0x1519+-0x1*0x19cf+-0x4f*-0x98,Math['min'](_0x4af9c6,Math['floor']((_0x2d669e[_0xe1f0a6*(-0x10e6+-0x1a6d+0x2b56)+(0x1*-0xa7b+0x22*0x39+-0x2e9*-0x1)]/_0x59f3bc*(-0x3*0x971+0x76*0x14+0x131b+0.5)+(0x98d*0x1+-0xacf*0x1+0x142+0.5))*_0x4af9c6+(0x45*-0xe+-0x1d3*0x12+0x249c*0x1+0.5)))),_0x2d669e[_0xe1f0a6*(-0x9f1*-0x1+-0x2*-0x71e+-0x182a)+(-0x1091*0x2+-0x1e43+0xa91*0x6)]=Math['max'](0x254c+-0x24f*0x4+0x382*-0x8,Math['min'](_0x3c4067,Math['floor']((_0x2d669e[_0xe1f0a6*(0x114+0x11ed+-0x176*0xd)+(0x1861+0x56f*-0x7+0xda9)]/_0x59f3bc*(0x59f+-0x2*-0x94e+-0x183b+0.5)+(-0x26b*-0xc+-0x2328+-0x2*-0x312+0.5))*_0x3c4067+(-0x12c8+-0x20b8+0x3380+0.5)))),_0x2d669e[_0xe1f0a6*(-0x977+-0x1a*0xc5+0x1d7c)+(-0xbe3+0x13af+-0x7ca*0x1)]=Math['max'](0x1828+-0xfcd+-0x85b,Math['min'](_0x4af9c6,Math['floor']((_0x2d669e[_0xe1f0a6*(-0x250c+0xc69*-0x1+0x3178)+(0x219+-0x202*0xb+0x13ff)]/_0x59f3bc*(-0x60e+0x229*0x7+-0x911+0.5)+(-0x1e54+-0xa74+0x5a*0x74+0.5))*_0x4af9c6+(-0x1298+0x198d+-0x6f5+0.5))));_0x2246f9[0x7*0x1a7+0x229*0x4+-0x7*0x2e3]=_0x59f3bc,_0x471494[_0x589925*(0x2*0x9c6+-0x255*0xb+-0x1*-0x61f)+(-0x24a*-0xf+-0xf95*-0x2+-0x4180)]=_0x49c3f6[0x1dbb+0x616+-0xad*0x35],_0x471494[_0x589925*(0x2*0x1192+-0x2a0+-0x2080)+(0xa0+-0x1967+0x319*0x8)]=_0x2d669e[-0x22*-0xf1+-0xdd*-0x22+-0x3d5c]<<-0x1947+0x665*-0x1+0x1fc1|_0x2d669e[-0x20e6+-0x6f7+-0x2d9*-0xe]<<0x13d*-0x5+0x2f*-0x57+0x1635|_0x2d669e[0x9*-0x2be+-0x1287+-0x1*-0x2b37],_0x471494[_0x589925*(0xb*-0x2b1+-0x2478+0x4217*0x1)+(0xb*-0x96+-0x149e+0x1b12)]=_0x2d669e[-0x11ed*-0x2+0x19be+-0x3d95]<<0xf09+0x44d+-0x1341|_0x2d669e[-0x1*-0x16b+-0x61e+-0x47*-0x11]<<-0x8a5*-0x4+0x8*0x3af+0x235*-0x1d|_0x2d669e[0xfbb+0x2f5*-0x4+0x1*-0x3e2],_0x471494[_0x589925*(0x1*0x15be+-0x1fba+0xa00)+(-0x1c8a+-0xd*0x1fc+0x3659)]=_0x2d669e[0xdd8+0xcb*0x19+-0x21a5]<<0x1258+-0x18b0+0x66d|_0x2d669e[-0x19d2+0x1*-0x248e+0x3e67]<<-0x1*-0x1844+0x14e9+0x2d22*-0x1|_0x2d669e[0x1*-0x685+-0x2007+0x2694],_0x5ceedf>-0x7*-0x4e7+0x7*-0xf8+-0x1*0x1b88&&(_0x109c30[_0x589925*(0x49*0x2b+0x1f*-0x81+0x1b0*0x2)+(-0x22f*0x11+0xa65*-0x3+-0x7*-0x9c2)]=_0x2d669e[0x11*-0x35+0x2bf+0xcf]<<-0xfc1+0x3f7*-0x4+0x1fb2|_0x2d669e[-0x92e+0xcfb*0x2+-0x10be]<<0x8d1*-0x2+0xec0+0x2ed|_0x2d669e[-0x1*0x25eb+-0x13ee+0x4e*0xbe],_0x109c30[_0x589925*(0x1*0x2045+0x25dd+-0x461e)+(0x1*-0x1d9+0x35c+-0x182)]=_0x2d669e[-0x7*-0x23f+-0x4*0x611+-0x3*-0x2dd]<<-0x1*0xfc5+-0x616+0x15f0|_0x2d669e[-0x1*-0x329+-0x1ae3+0x3*0x7ed]<<-0x3*-0x9ef+-0x310+-0x43*0x66|_0x2d669e[0xb39+0x14e3+-0x200e],_0x109c30[_0x589925*(0xe11+-0x921+0x3*-0x1a4)+(-0x15*0x91+-0x1f*0x10f+-0xd4*-0x36)]=_0x2d669e[-0x7+0x218+-0x202]<<-0x9b*0x35+-0x611*0x5+0x3e81|_0x2d669e[0x23*-0x115+-0x1f*-0xa3+-0x919*-0x2]<<-0x1*-0x1fd3+-0x1eda+-0xee|_0x2d669e[0x1535*0x1+-0x11de+-0x2*0x1a3],_0x109c30[_0x589925*(0x7e2+-0x3*0xb07+0x1937)+(0x1*0x18fb+0x1110+-0x2a08)]=_0x2d669e[-0x61*0x1d+0x1*-0x1849+0x2358]<<0x4*0x8a7+-0x2*-0xf0e+0x1*-0x40a3|_0x2d669e[-0xe*-0x292+-0xf72*-0x2+-0x15d*0x31]<<0x2*-0x9a9+0xebe+0x49f|_0x2d669e[0x1*-0x25cf+-0x1*0x25d5+0x25dc*0x2],_0x5ceedf>0xa0d*-0x3+0x11*0x67+0x1e*0xc7?(_0x12ccf0[_0x589925*(-0x35*-0xb5+-0x2456+-0x11f*0x1)+(0x1*-0x1f08+0x12b5+0xc53)]=_0x2d669e[0x2*0xc50+0x10*0x119+-0x2a1b]<<0x139a+-0x16ae+0x329|_0x2d669e[-0x25*0xef+0x1bbd*-0x1+-0x2*-0x1f2f]<<-0x7*-0x31a+0x1260+-0x280b*0x1|_0x2d669e[-0x1094+0x1afe+0x3*-0x371],_0x12ccf0[_0x589925*(0x59*0x6+-0x188d+-0x167b*-0x1)+(0x16e9+0x2*0xbb4+-0x2e50)]=_0x2d669e[-0x1*-0x1609+-0x289+0x678*-0x3]<<-0x20a1*0x1+-0x500*-0x1+0x1bb6|_0x2d669e[-0x1b49+-0x29f*0xa+0x38*0xf5]<<-0x559+-0x1*0x182f+-0x71*-0x43|_0x2d669e[0x116*-0x1+-0xb52+0xc82],_0x12ccf0[_0x589925*(-0x2*-0x7e7+-0x1b8f+0xbc5)+(-0x127*0x1b+0x5*-0x37e+0x3095)]=_0x2d669e[0x13*0xa3+-0x13*-0x16a+-0x26dc]<<0x16e5+0x70b+0x1ddb*-0x1|_0x2d669e[-0x33*-0xbf+0x1103+-0x36f4]<<-0x116d+-0x3*0x223+0x17e1*0x1|_0x2d669e[-0xd13*-0x1+0x140b+-0x2101*0x1],_0x12ccf0[_0x589925*(0x1*-0x1a89+0x11f6+0x897)+(0x1de3+-0x1a9d+-0xa7*0x5)]=_0x2d669e[0xbef+-0x230*-0x4+-0x1491]<<-0x17*0x135+0x1833+0x3*0x137|_0x2d669e[-0x1*0x69d+-0x3*-0x1aa+0x1be]<<-0xb82+-0xbe7+0x1774|_0x2d669e[-0x1091*-0x1+0xb*0x123+-0xf*0x1ee],_0x425cb3[_0x589925*(-0x1e8d+-0x1a80+0x3911)+(-0x1*0x1f49+0x33*-0xbc+-0x44bd*-0x1)]=_0x2d669e[0x1*-0x2ef+-0xa*-0x17f+-0xbe6]<<0x322*0x8+0x2427+-0x3d22|_0x2d669e[0x1de8+-0x944*0x1+0x36b*-0x6]<<-0x2388+0x2*-0x6b7+-0x5*-0x9cd|_0x2d669e[0x279+0x3e+-0x294],_0x425cb3[_0x589925*(0x1ee8+-0x1a5*-0x8+-0x1*0x2c0c)+(0xb39*0x2+0x329+-0x3a*0x71)]=_0x2d669e[0xacc+0x2265+-0x2d0d]<<-0xf87+-0x464*-0x2+0x26*0x2e|_0x2d669e[-0xb4*0x1c+-0x1*0x841+0x1c16]<<0x99d+0x9c6+0x4d6*-0x4|_0x2d669e[-0x295*-0x7+0x1062+-0x224f],_0x425cb3[_0x589925*(-0xb3*0xa+-0x11*-0x5+0x6ad*0x1)+(-0x71f*0x3+0x1083*0x1+0x4dc)]=_0x2d669e[-0x2470*-0x1+-0x262b+0xf1*0x2]<<0xd11+-0xb19*0x1+0x45*-0x7|_0x2d669e[-0x1109+0x914+0x81d]<<-0x7*-0xd1+-0x1*-0x9c2+-0xf6e|_0x2d669e[-0x113e+-0x2b*-0xa1+-0x9a4],_0x425cb3[_0x589925*(-0x86*-0x30+-0x1b05+0x1*0x1e9)+(0x11b0+0x148e+-0x263b)]=_0x2d669e[0x12bf+0x1*0x13b1+-0x2646]<<-0x1465+0x1*0x453+0x1027*0x1|_0x2d669e[0x105d*0x1+-0x5*0x43d+0x4ff]<<-0x316*0x2+-0x18d9+0x1f10|_0x2d669e[-0x2b1*-0x3+-0x21d*0xc+0x1175]):_0x12ccf0[_0x589925]=_0x2d669e[-0x1f7e+0x234+0x1d5f]<<-0x2386*-0x1+0xc22*-0x3+0xf5*0x1|_0x2d669e[0x19d*0xb+-0x44*-0x76+-0x3101]<<0x1*0x2587+-0x1963+0xa3*-0x13|_0x2d669e[0x2*0x531+-0xd21+0x2d6]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x471494,'sh4to7Data':_0x109c30,'sh8to11Data':_0x12ccf0,'sh12to15Data':_0x425cb3}},[_0x471494['buffer'],_0x109c30['buffer'],_0x12ccf0['buffer'],_0x425cb3['buffer']]);},_0xd8262e=()=>{_0x1ac58e=null,_0x268a63=null,_0x2352f7=null,_0x99988a=null,_0x4aba66=null,_0x5a3094=null,_0x2249bb=null,_0x1d3118=null;};}class AC extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+bC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x12d2be,_0x254f0e,_0x5b08b4){_0x12d2be['onmessage']=_0x15fed1=>{if(!this['worker'])return;const {data:_0x3ce0d2}=_0x15fed1;if(_0x3ce0d2['type']===_0x254f0e)switch(_0x254f0e){case'updatedSHD'+'ata1':_0x5b08b4(_0x3ce0d2['data']);break;case'updatedCol'+'orData':_0x5b08b4(_0x3ce0d2['data']);break;case'updatedTra'+'nsformData':_0x5b08b4(_0x3ce0d2);break;}};}['updateSHDa'+'ta1'](_0xb4ca16,_0x287d62,_0x7c2256){var _0x1cae83;return(_0x1cae83=this['worker'])==null||_0x1cae83['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0xb4ca16,'shBands':_0x287d62,'SHData':_0x7c2256}),new Promise(_0x240ddb=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x1cf4bd=>{_0x240ddb(_0x1cf4bd);});});}async['updateTran'+'sData'](_0x28366c,_0x3b24d8,_0x488ab2,_0x201207,_0x44e9be,_0x35646f,_0x473d9d,_0x4fcaeb){var _0x19d0d8;return(_0x19d0d8=this['worker'])==null||_0x19d0d8['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x28366c,'is4D':_0x3b24d8,'position':_0x488ab2,'rotation':_0x201207,'motion':_0x44e9be,'scale':_0x35646f,'muT':_0x473d9d,'tScale':_0x4fcaeb}),new Promise(_0x2e9563=>{const _0x4618b8=_0x4215c3=>{_0x2e9563(_0x4215c3);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x4618b8);});}['destroy'](){var _0x212606;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x212606=this['worker'])==null||_0x212606['terminate'](),this['worker']=null);}}const xg=(_0x2330e,_0x40077f)=>{const _0x335440=[];for(let _0x1f2be1=0x1*-0x2513+0xf87+0x158c;_0x1f2be1<_0x40077f;++_0x1f2be1)_0x335440['push'](_0x2330e['getProp']('f_rest_'+_0x1f2be1));return _0x335440;};class CC extends Rv{constructor(_0x2c551e,_0x48bed4){super(_0x2c551e,_0x48bed4),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(-0x1a96+0x1*-0x10e2+0x1f*0x167)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new AC(),this['assetsMana'+'gerLoadedT'+'ime']=0x15c5*0x1+-0x3*-0xcb3+-0x3bd9);}['setSceneIn'+'fo'](_0x453236){this['sceneInfo']['duration']=_0x453236['duration'],this['sceneInfo']['fps']=_0x453236['fps'],this['sceneInfo']['totalGauss'+'ians']=_0x453236['totalGauss'+'ians'],this['sceneInfo']['globalBoun'+'dingBoxMin']=new D(_0x453236['globalBoun'+'dingBox']['min'][-0x10f7+-0x2071+-0x2*-0x18b4],_0x453236['globalBoun'+'dingBox']['min'][0x8*0x197+-0x1efd*-0x1+-0x2bb4*0x1],_0x453236['globalBoun'+'dingBox']['min'][-0x5b*0x30+0x1*-0x1dfd+-0x1*-0x2f0f]),this['sceneInfo']['globalBoun'+'dingBoxMax']=new D(_0x453236['globalBoun'+'dingBox']['max'][-0x5*0x2a2+0x1*-0x1dff+0x2b29],_0x453236['globalBoun'+'dingBox']['max'][0x790+-0x1*0x1683+0xef4],_0x453236['globalBoun'+'dingBox']['max'][-0x8c7*-0x1+-0x190+-0x735]);const _0x52846e=_0x453236['globalBoun'+'dingBox']['min'][0x1*0x6b1+0x8e*0x35+-0x2417],_0x127550=_0x453236['globalBoun'+'dingBox']['min'][-0x6d6+-0x2*0xb03+0x1cdd],_0x33fb9e=_0x453236['globalBoun'+'dingBox']['min'][0x1245+-0x816+-0xa2d],_0x145712=_0x453236['globalBoun'+'dingBox']['max'][0x1*-0xa1b+0x1*0xf27+0x4*-0x143],_0x4e3c29=_0x453236['globalBoun'+'dingBox']['max'][-0xcc0+-0x14d9+0x219a],_0x579ce0=_0x453236['globalBoun'+'dingBox']['max'][-0x1965*0x1+-0x59*0x2+-0x83*-0x33],_0x2e7b46=new D((_0x52846e+_0x145712)*(-0xdda+0x1*-0x3+0x49f*0x3+0.5),(_0x127550+_0x4e3c29)*(-0xa78+0x1de2+-0x136a+0.5),(_0x33fb9e+_0x579ce0)*(0x209a+-0x5b2+0x38*-0x7b+0.5)),_0x32f194=new D((_0x145712-_0x52846e)*(-0xa26+-0x29*0x22+0x3e6*0x4+0.5),(_0x4e3c29-_0x127550)*(0x1*-0x1091+0x92f+0x762+0.5),(_0x579ce0-_0x33fb9e)*(-0x4*0x12f+-0x11d9*-0x2+-0x1ef6+0.5)),_0x1a82b4=new De(_0x2e7b46,_0x32f194);this['sceneInfo']['globalBoun'+'dingBox']=_0x1a82b4,this['aabb']=_0x1a82b4;}async['updateData'](){var _0x16c3f2,_0x7aec0d,_0x553022,_0x54d050,_0x6b6ace,_0x235fb3,_0x1e2f05,_0xc126d1,_0x491c05,_0x23a6c0,_0x4c9f30;await super['updateData']();const _0x443464=this['gsplatData'];if(!_0x443464)return;this['is4D']=_0x443464['is4D'];const _0x309658=await this['getTransfo'+'rmDataByWo'+'rker'](_0x443464);this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x309658['centers'],this['motion']=_0x309658['motion'],this['tScale']=_0x309658['tScaleArra'+'y'],this['muT']=await _0x443464['getMuT'](),this['timeIndex']=await _0x443464['getTimeInd'+'ex']();const _0x2deca4=this['evalTextur'+'eSize'](_0x443464['numSplats']);this['colorTextu'+'re']?((_0x16c3f2=this['colorTextu'+'re2'])==null||_0x16c3f2['destroy'](),(_0x7aec0d=this['transformA'+'Texture2'])==null||_0x7aec0d['destroy'](),(_0x553022=this['transformB'+'Texture2'])==null||_0x553022['destroy'](),(_0x54d050=this['transformR'+'Texture2'])==null||_0x54d050['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x2deca4),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x2deca4),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x2deca4),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x2deca4),this['is4D']&&((_0x6b6ace=this['transformM'+'otionTextu'+'re2'])==null||_0x6b6ace['destroy'](),(_0x235fb3=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x235fb3['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x2deca4),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x2deca4))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x2deca4),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x2deca4),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x2deca4),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x2deca4),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x2deca4),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x2deca4),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x2deca4),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x2deca4),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x2deca4),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x2deca4),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x2deca4),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x2deca4))),await this['updateColo'+'rData'](_0x443464),await this['updateTran'+'sformFromD'+'ata'](_0x309658),this['shBands']=_0x443464['shBands'],this['shBands']>-0x1567*-0x1+0x1ab9+-0x3020&&(this['sh1to3Text'+'ure']?((_0x1e2f05=this['sh1to3Text'+'ure2'])==null||_0x1e2f05['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x2deca4),this['shBands']>-0x4fd*0x7+0x140f+-0x1*-0xedd&&((_0xc126d1=this['sh4to7Text'+'ure2'])==null||_0xc126d1['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x2deca4),this['shBands']>-0x89e+-0xc5*-0x19+-0xa9d?((_0x491c05=this['sh8to11Tex'+'ture2'])==null||_0x491c05['destroy'](),(_0x23a6c0=this['sh12to15Te'+'xture2'])==null||_0x23a6c0['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x2deca4),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x2deca4)):((_0x4c9f30=this['sh8to11Tex'+'ture2'])==null||_0x4c9f30['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x2deca4)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x2deca4),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x2deca4),this['shBands']>0x282+0x95*0xa+-0x853&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x2deca4),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x2deca4),this['shBands']>0x860+0x6d3+0xf31*-0x1?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x2deca4),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x2deca4),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x2deca4),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x2deca4)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x2deca4),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x2deca4)))),await this['updateSHDa'+'taByWorker'](_0x443464));}['updateText'+'ure'](){this['isDestroye'+'d']||(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x12b39b){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x12b39b}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x5302fa,_0x2030ce,_0x2e5d4b,_0x3538ba,_0x180b02,_0x42f6d7){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x5302fa,'timeOption':_0x2030ce,'loadedTime':_0x2e5d4b,'asset':_0x3538ba,'events':_0x180b02,'seekCB':_0x42f6d7}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(0x1795+0x25f2+-0x3d87);try{for(;this['appendQueu'+'e']['length']>0x192*-0x3+-0x763*-0x1+-0x2ad;){const _0x439ffe=this['appendQueu'+'e']['shift']();_0x439ffe['type']==='append'?await this['processApp'+'endTask'](_0x439ffe['data']):_0x439ffe['type']==='release'&&await this['processRel'+'easeTask'](_0x439ffe['data']);}}finally{this['isProcessi'+'ngQueue']=!(-0x88*0x16+0x2*-0xc54+-0x2459*-0x1);}}}async['processRel'+'easeTask'](_0x24282f){const {index:_0x1de2d6}=_0x24282f;this['isDestroye'+'d']||await this['gsplatData']['releaseSeq'+'Data'](_0x1de2d6);}async['processApp'+'endTask'](_0x4b83fd){var _0x314cb6;const {gsplatData:_0x2b15d4,timeOption:_0x45d31c,loadedTime:_0x43edc9,asset:_0x5c5dd6,events:_0x44a06e,seekCB:_0x1c8451}=_0x4b83fd;!this['gsplatData']||this['isDestroye'+'d']||(globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x45d31c,this['asset']=_0x5c5dd6,this['assetsMana'+'gerLoadedT'+'ime']=_0x43edc9,this['events']=_0x44a06e,await this['gsplatData']['appendGSpl'+'atData'](_0x2b15d4,_0x43edc9,_0x45d31c),console['log']('loadTime__'+'__','gsplatDeco'+'dedResourc'+'e\x20gsplatDa'+'ta.appendG'+'SplatData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x1095*0x1+0x1bc8+-0x2c5b*0x1),_0x2b15d4['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x2b15d4['numSplats'])['toFixed'](0x853*0x4+-0x1aa2+0xd*-0x83)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20this.upd'+'ateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x106b+-0x12a4+-0x1*-0x23b),_0x2b15d4['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await((_0x314cb6=this['gsplatInst'+'ance'])==null?void(0x2a3*0x1+-0x9*-0x1eb+-0x236*0x9):_0x314cb6['updateInst'+'anceData'](this,_0x43edc9,_0x1c8451)),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20updateIn'+'stanceData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x845*0x3+0x149a+0x1*-0x2d67),_0x2b15d4['numSplats']));}['fireAssets'+'ManagerTim'+'eIndex'](_0x5221c9,_0x217abe){var _0x596061;const _0x31cafc=_0x5221c9||this['assetsMana'+'gerLoadedT'+'ime'];(_0x596061=this['asset'])==null||_0x596061['fire']('setAssetsL'+'oaded',_0x31cafc,_0x217abe);}['destroy'](){var _0x3a4cc1,_0x4904ef,_0x2c0e2d,_0x15989f,_0x1fffde,_0x70735d,_0x50c7cd,_0x4198f7,_0xf56098,_0x453b9d,_0x4e250d,_0xbe9749,_0xd2b80d,_0x38f83b,_0x18ad24,_0x50766e,_0x173cf7,_0x44cac7,_0x4900da,_0x1271fc,_0x3c6643;(_0x3a4cc1=this['updateData'+'Worker'])==null||_0x3a4cc1['destroy'](),this['updateData'+'Worker']=void(-0x24db+-0x192+-0x3*-0xccf),(_0x4904ef=this['colorTextu'+'re'])==null||_0x4904ef['destroy'](),(_0x2c0e2d=this['transformA'+'Texture'])==null||_0x2c0e2d['destroy'](),(_0x15989f=this['transformB'+'Texture'])==null||_0x15989f['destroy'](),(_0x1fffde=this['transformR'+'Texture'])==null||_0x1fffde['destroy'](),(_0x70735d=this['transformM'+'otionTextu'+'re'])==null||_0x70735d['destroy'](),(_0x50c7cd=this['transformL'+'ifecycleTe'+'xture'])==null||_0x50c7cd['destroy'](),(_0x4198f7=this['sh1to3Text'+'ure'])==null||_0x4198f7['destroy'](),(_0xf56098=this['sh4to7Text'+'ure'])==null||_0xf56098['destroy'](),(_0x453b9d=this['sh8to11Tex'+'ture'])==null||_0x453b9d['destroy'](),(_0x4e250d=this['sh12to15Te'+'xture'])==null||_0x4e250d['destroy'](),(_0xbe9749=this['colorTextu'+'re2'])==null||_0xbe9749['destroy'](),(_0xd2b80d=this['transformA'+'Texture2'])==null||_0xd2b80d['destroy'](),(_0x38f83b=this['transformB'+'Texture2'])==null||_0x38f83b['destroy'](),(_0x18ad24=this['transformR'+'Texture2'])==null||_0x18ad24['destroy'](),(_0x50766e=this['transformM'+'otionTextu'+'re2'])==null||_0x50766e['destroy'](),(_0x173cf7=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x173cf7['destroy'](),(_0x44cac7=this['sh1to3Text'+'ure2'])==null||_0x44cac7['destroy'](),(_0x4900da=this['sh4to7Text'+'ure2'])==null||_0x4900da['destroy'](),(_0x1271fc=this['sh8to11Tex'+'ture2'])==null||_0x1271fc['destroy'](),(_0x3c6643=this['sh12to15Te'+'xture2'])==null||_0x3c6643['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x281c33){var _0x1d8b75,_0x231c53,_0x193ad1,_0x12f324,_0x41cfdd,_0x2855c6,_0x1845fb,_0xee67ca,_0xecdef5,_0x5c779c,_0x186337,_0xb51539,_0x41883b;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x1891fb=((_0x1d8b75=_0x281c33['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(-0x1e04+0x2b8+0x6d3*0x4):_0x1d8b75['data'])??-0x1bb5+-0x11*-0x1df+-0x41a,_0x3a3c61=((_0x231c53=_0x281c33['getParamet'+'er']('uSplatScal'+'e'))==null?void(-0x76*-0xd+-0x26*-0x1d+-0x526*0x2):_0x231c53['data'])??0xf40*0x1+0x1409+-0x2348,_0x3e3219=((_0x193ad1=_0x281c33['getParamet'+'er']('uSaturatio'+'n'))==null?void(0x251f+-0xc3+0x166*-0x1a):_0x193ad1['data'])??0x1f68+-0x8f2+-0x1675,_0x5242e2=((_0x12f324=_0x281c33['getParamet'+'er']('uHueOffset'))==null?void(-0x245e+-0x1*0x3fb+0x2859*0x1):_0x12f324['data'])??0x213+0x22*0x19+-0x565*0x1,_0x5d9207=((_0x41cfdd=_0x281c33['getParamet'+'er']('uInvertOpa'+'city'))==null?void(-0x1dd4+0x2002+-0x6*0x5d):_0x41cfdd['data'])??0x48c+0x2*-0xaad+0x10ce,_0x577add=((_0x2855c6=_0x281c33['getParamet'+'er']('uOpacity'))==null?void(-0x10*-0x173+-0x1f4d+0x81d):_0x2855c6['data'])??0x5*-0x709+0x1ef3+0x43b,_0x3d7f6d=((_0x1845fb=_0x281c33['getParamet'+'er']('clrOffset'))==null?void(0xa15+0x1*0x2629+-0x303e):_0x1845fb['data'])??[0x1075*-0x2+0x15de+0xb0c,0x13e8+-0x5*0x11+-0x1393*0x1,-0x17dd+-0x1*-0x1191+0x64c,-0x1*0x1952+-0x1bd+-0x1b1*-0x10],_0x53b11b=((_0xee67ca=_0x281c33['getParamet'+'er']('clrScale'))==null?void(-0x30*-0xbd+-0x11*-0x211+0x1*-0x4691):_0xee67ca['data'])??[0x8b*-0x24+-0xb18+0x1ea5,0x10d1+0x66*-0x20+-0x410,0xa58*-0x1+-0xdd0+0x1829,0x1065+0x2a2+-0x1306],_0x5e89c7=((_0xecdef5=_0x281c33['getParamet'+'er']('uShapeN'))==null?void(-0x1*-0x24b1+0x768+-0x3*0xeb3):_0xecdef5['data'])??0x4e2+0x41c+-0x47f*0x2,_0x51d0ef=((_0x5c779c=_0x281c33['getParamet'+'er']('mode'))==null?void(0x2287+0x2*-0xb11+-0x1*0xc65):_0x5c779c['data'])??0x20d2*-0x1+-0x1*0x1783+0x3855,_0x1480aa=((_0x186337=_0x281c33['getParamet'+'er']('ringSize'))==null?void(0x1*0x1669+-0x1*0x6a9+-0xfc0):_0x186337['data'])??0x184b+0x3a*-0x2+-0x167*0x11,_0x4ce188=((_0xb51539=_0x281c33['defines'])==null?void(-0x1ef*0x3+0x1734+-0xf*0x129):_0xb51539['get']('uOpenAnim'))??'0',_0x814520=((_0x41883b=_0x281c33['defines'])==null?void(0xbf1*0x2+0x6b*-0x47+0x1*0x5cb):_0x41883b['get']('uControlCo'+'lorMode'))??'0';_0x281c33['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x281c33['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x281c33['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x281c33['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x281c33['setParamet'+'er']('uSplatScal'+'e',_0x3a3c61),_0x281c33['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x1891fb),_0x281c33['setParamet'+'er']('uSaturatio'+'n',_0x3e3219),_0x281c33['setParamet'+'er']('uHueOffset',_0x5242e2),_0x281c33['setParamet'+'er']('uInvertOpa'+'city',_0x5d9207),_0x281c33['setParamet'+'er']('uOpacity',_0x577add),_0x281c33['setParamet'+'er']('clrOffset',_0x3d7f6d),_0x281c33['setParamet'+'er']('clrScale',_0x53b11b),_0x281c33['setParamet'+'er']('uShapeN',_0x5e89c7),_0x281c33['setParamet'+'er']('mode',_0x51d0ef),_0x281c33['setParamet'+'er']('ringSize',_0x1480aa),_0x281c33['setParamet'+'er']('prerenderC'+'Time',0x5ce*0x4+0xe48+-0x2580),_0x281c33['setParamet'+'er']('renderSpac'+'e',0xb9e+0x19d1+-0x2565),_0x281c33['setParamet'+'er']('endSpace',-0xb*-0x9e+0x5b*-0x43+0x1*0x1111),_0x281c33['setDefine']('uOpenAnim',_0x4ce188),_0x281c33['setDefine']('uControlCo'+'lorMode',_0x814520),this['transformM'+'otionTextu'+'re']&&_0x281c33['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x281c33['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x281c33['setDefine']('SH_BANDS',this['shBands']),_0x281c33['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x281c33['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x281c33['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x281c33['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x281c33['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x3bd9cc){const _0x3a3938=Math['ceil'](Math['sqrt'](_0x3bd9cc)),_0x3674ff=Math['ceil'](_0x3bd9cc/_0x3a3938);return new J(_0x3a3938,_0x3674ff);}async['updateColo'+'rData'](_0x23e680){var _0x580cda;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x1a7933=this['colorTextu'+'re2'];if(!_0x1a7933||this['isDestroye'+'d'])return;let _0x3d8ad3=(_0x580cda=_0x23e680['transformD'+'ata'])==null?void(-0x26e*0xe+0x1*0x7eb+0x1a19):_0x580cda['dataColor'];if(!_0x3d8ad3){const _0x371d00=_0x23e680['getProp']('color_opac'+'ity');_0x3d8ad3=new Uint16Array(_0x371d00['buffer']['slice']());}await this['idleUpdate'+'TexturePro'+'mise'](_0x1a7933,_0x3d8ad3);}async['getTransfo'+'rmDataByWo'+'rker'](_0x516377){var _0xe6c4b8;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0xe6c4b8=_0x516377['transformD'+'ata'])!=null&&_0xe6c4b8['dataCenter'+'s'])return{'centers':_0x516377['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x516377['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x516377['transformD'+'ata']['dataScale'],'dataRotation':_0x516377['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x516377['transformD'+'ata']['dataMotion'],'dataTime':_0x516377['transformD'+'ata']['dataTime'],'motion':_0x516377['transformD'+'ata']['motion'],'tScaleArray':_0x516377['transformD'+'ata']['tScaleArra'+'y']};const _0x6faf1e=_0x516377['getProp']('position'),_0x408904=_0x516377['getProp']('motion'),_0xb40d09=_0x516377['getProp']('rotation'),_0x4d5b28=_0x516377['getProp']('scale'),_0x3cf8ef=_0x516377['getProp']('t'),_0x47f0ab=_0x516377['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x516377['numSplats'],this['is4D'],_0x6faf1e,_0xb40d09,_0x408904,_0x4d5b28,_0x3cf8ef,_0x47f0ab);}async['updateTran'+'sformFromD'+'ata'](_0x15fc5b){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x15fc5b['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x15fc5b['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x15fc5b['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x15fc5b['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x15fc5b['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x57fdcc,_0x26c66d){if(!this['isDestroye'+'d'])return new Promise(_0x938d78=>{requestIdleCallback(()=>{const _0x4be9a5=_0x57fdcc['lock']();_0x4be9a5==null||_0x4be9a5['set'](_0x26c66d),_0x57fdcc['unlock'](),_0x938d78(!(-0x1ab4+0xc0b*-0x1+0x26bf));},{'timeout':0x12c});});}async['updateSHDa'+'ta'](_0x1a6717){var _0x5c9bf0,_0x109f91,_0xd367d6,_0x3f83bd,_0x2c0fc1,_0x43092b,_0x70fd10,_0x110d6b;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x225f83=(_0x5c9bf0=this['sh1to3Text'+'ure2'])==null?void(0x1f04*-0x1+0x2*-0xd+-0x1f1e*-0x1):_0x5c9bf0['lock'](),_0x3e7f48=(_0x109f91=this['sh4to7Text'+'ure2'])==null?void(0x212b+0x482*-0x1+-0x1ca9):_0x109f91['lock'](),_0x11e661=(_0xd367d6=this['sh8to11Tex'+'ture2'])==null?void(0x1*-0xb4a+0x109*0x1+0x4b*0x23):_0xd367d6['lock'](),_0x14871c=(_0x3f83bd=this['sh12to15Te'+'xture2'])==null?void(-0x2*0x1111+0x55e+-0x20e*-0xe):_0x3f83bd['lock'](),_0x29d366={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x2fb1d7=xg(_0x1a6717,_0x29d366*(0x1*-0xc45+0x2546+0xc7f*-0x2)),_0x6484c2=0x5*0x2ad+-0x14fe+0x1bc*0x9,_0x3daf5a=-0x15f2+0x1*-0x101+0x1af2,_0x8c565e=new Float32Array(0x7d+-0xe85+0xe09),_0x18dfd=new Uint32Array(_0x8c565e['buffer']),_0x1fef0b=new Array(_0x29d366*(0x69b*-0x3+-0x2242+0x25a*0x17))['fill'](-0x1ca3+-0x2521+0x41c4);for(let _0x3e6efe=-0x1*0x125b+0x3da+0xe81;_0x3e6efe<_0x1a6717['numSplats'];++_0x3e6efe){for(let _0x29f0f0=0x13cf+0xef*-0x8+-0xf3*0xd;_0x29f0f0<_0x29d366;++_0x29f0f0)_0x1fef0b[_0x29f0f0*(-0x215f+0x2573+0x1*-0x411)]=_0x2fb1d7[_0x29f0f0][_0x3e6efe],_0x1fef0b[_0x29f0f0*(0x145a+-0xe2c+-0x62b)+(0x1f*-0xe5+0xb2*-0x7+0x27*0xd6)]=_0x2fb1d7[_0x29f0f0+_0x29d366][_0x3e6efe],_0x1fef0b[_0x29f0f0*(-0x409*-0x2+-0x1*0xb93+0x32*0x12)+(0xf70+-0x14f3*0x1+-0x3*-0x1d7)]=_0x2fb1d7[_0x29f0f0+_0x29d366*(0xf3d*0x1+0x2295+-0x4*0xc74)][_0x3e6efe];let _0x5bdc8a=_0x1fef0b[0x10*0x111+-0x17eb+-0x1*-0x6db];for(let _0x3defd6=0x1*-0xb3b+0x4a*0x2f+-0x25a;_0x3defd6<_0x29d366*(-0x53*-0x17+-0xdd*0xc+0x2ea);++_0x3defd6)_0x5bdc8a=Math['max'](_0x5bdc8a,Math['abs'](_0x1fef0b[_0x3defd6]));if(_0x5bdc8a!==-0xb*0x371+0x1bc3+0xa18){for(let _0x345b22=0x16a8+0xb*-0x17e+0x11*-0x5e;_0x345b22<_0x29d366;++_0x345b22)_0x1fef0b[_0x345b22*(0x5*0x538+0xad*0x2f+0x1*-0x39d8)+(0x23c0+-0x2700+0x8*0x68)]=Math['max'](-0x14ee+0x141a+0xd4,Math['min'](_0x6484c2,Math['floor']((_0x1fef0b[_0x345b22*(-0x137c+0x47+0x19a*0xc)+(-0xb47+0xd55+-0x1*0x20e)]/_0x5bdc8a*(0x21*-0xf1+-0xa*-0x24+-0x3*-0x9e3+0.5)+(-0x3*-0x909+0x4c5*-0x3+0x444*-0x3+0.5))*_0x6484c2+(0x212a+-0x2*0x85a+-0x1076+0.5)))),_0x1fef0b[_0x345b22*(0x1*0x2042+0x21e2*0x1+-0x39*0x129)+(0x1b24+0x84e*-0x3+0x1*-0x239)]=Math['max'](-0x62*-0x40+0xd*0x1cf+0x3003*-0x1,Math['min'](_0x3daf5a,Math['floor']((_0x1fef0b[_0x345b22*(0x79a+-0x83*-0xc+0x13*-0xb9)+(-0x3c5+-0x1*-0x1b86+0x260*-0xa)]/_0x5bdc8a*(0xb9f+0x5*-0x54d+0xee2+0.5)+(0x49a+0x262f+0x3*-0xe43+0.5))*_0x3daf5a+(-0x2071+0x1*-0x7b9+0x1*0x282a+0.5)))),_0x1fef0b[_0x345b22*(-0x1a38+0x1b5*-0x1+0x6*0x4a8)+(-0x3*-0x568+0x1*0x1115+-0x214b)]=Math['max'](-0x108a+-0x5*-0x15c+0x9be,Math['min'](_0x6484c2,Math['floor']((_0x1fef0b[_0x345b22*(0x2070+-0x503*-0x4+-0x2c3*0x13)+(-0x134a+0x1ab4+-0x9e*0xc)]/_0x5bdc8a*(0xab*0x37+0x9b7+0xf7c*-0x3+0.5)+(0x2b*0x98+0x1549*0x1+-0x2ed1+0.5))*_0x6484c2+(0x1e4b+0x1*0x1754+0x35*-0x103+0.5))));_0x8c565e[0xbc0+0x51d*0x7+0x3*-0xfd9]=_0x5bdc8a,_0x225f83[_0x3e6efe*(0x557*-0x5+-0x185*-0x17+-0x1*0x83c)+(-0x896+-0x1f51+0xe3*0x2d)]=_0x18dfd[-0x22a5+0x251+0x2054],_0x225f83[_0x3e6efe*(0x1*0x1072+0x1*0x239+-0x12a7)+(-0x1d21*-0x1+-0x13*-0xad+-0x29f7)]=_0x1fef0b[0x23ca+-0x1cb2+0x4*-0x1c6]<<0xad2+-0x895+-0x228|_0x1fef0b[-0x67a+-0x191c+0x1f97]<<-0x355+-0x6e*-0x16+-0x614|_0x1fef0b[0xfff+0x1*-0xf94+-0x69],_0x225f83[_0x3e6efe*(-0x1e8b+0x1f68+-0xd9)+(-0x1*-0x9a4+0x1*0x117d+0x83*-0x35)]=_0x1fef0b[0xc5b*-0x2+-0x13*-0x12f+0x23c]<<-0x216+-0x1*-0x54b+-0x320|_0x1fef0b[0x25b4+0x96d*0x3+-0x41f7]<<-0x1*-0x472+0x1*-0x183b+0x13d4|_0x1fef0b[0x1eef*-0x1+-0xb05*0x3+0x4003],_0x225f83[_0x3e6efe*(-0xd28+-0x1261*-0x1+-0x535)+(0xd35+-0x16bc+0x3*0x32e)]=_0x1fef0b[-0xf89*0x2+0x190b+0x60d]<<0x67d*-0x3+-0x490+-0xc0e*-0x2|_0x1fef0b[0x1d9f+0x7b8+-0x2550]<<-0x22cf+-0x5*0x5c9+0x3fc7|_0x1fef0b[-0x150+-0x1*-0xb0f+-0x9b7],this['shBands']>-0x1117+-0xc8*0x25+0x2e0*0x10&&(_0x3e7f48[_0x3e6efe*(-0x89d+-0x4*-0x279+-0x143)+(0x571*-0x5+0x39*-0x6d+0x337a)]=_0x1fef0b[-0x121*0x1a+-0x343*0x2+-0x1d*-0x13d]<<0x201f*0x1+0x11*-0x213+-0x5*-0xa5|_0x1fef0b[0xfa4+0x1311*-0x1+0x377]<<0x1aba+-0x1ee4+-0x167*-0x3|_0x1fef0b[-0x2069+0xc9*0x1e+-0x11*-0x86],_0x3e7f48[_0x3e6efe*(-0x14d2+0x1035+0x4a1)+(-0x2ce*-0x6+0xb*0x108+-0x1c2b)]=_0x1fef0b[-0x1*-0x1a02+-0x2df*0x8+-0x2fe*0x1]<<0x1bc5+0x1*-0x13e6+0x1*-0x7ca|_0x1fef0b[-0x1bf7+0x220a*-0x1+-0x2*-0x1f07]<<0xda8+-0x6*0x505+0x34d*0x5|_0x1fef0b[0x164f+-0x1b99+0x558],_0x3e7f48[_0x3e6efe*(0x2283+0xb0b*-0x2+-0x161*0x9)+(-0x4a*-0x49+0x187+-0x169f)]=_0x1fef0b[0x22*0x44+-0x463+-0x496]<<0x147c+-0x943*0x2+-0x1e1|_0x1fef0b[0xe64+-0x4*0x1a+-0xdec]<<-0x3*0xae8+-0x51a+0x25dd|_0x1fef0b[-0x1686+-0x3e*0x8e+-0x1f7*-0x1d],_0x3e7f48[_0x3e6efe*(0x2b4*0x4+0x3*0xa6e+-0x2*0x150b)+(0x1*0x242e+-0x2580+0x155)]=_0x1fef0b[0x839+0x2010+-0x2837]<<0x1709+0x2*-0x3ae+-0x3e6*0x4|_0x1fef0b[-0x1d80+0x21c2+-0x42f]<<0xa94+0x1e1f*-0x1+0x1396|_0x1fef0b[0x4c2+0xe*0x18d+-0xc*0x233],this['shBands']>-0x3*-0xa85+-0x1c85+-0x308?(_0x11e661[_0x3e6efe*(0x2376+-0x4f*-0x6e+-0x4*0x1159)+(-0xe2e+-0x20c+-0x2*-0x81d)]=_0x1fef0b[-0x1*-0x16e1+-0x28b*-0x2+0xa6*-0x2b]<<0x1b2c+-0x75d*0x2+-0xc5d|_0x1fef0b[0xd*0xca+0x10b*0x24+-0x17dc*0x2]<<-0x9*0x16+0x239*0x8+-0x2b*0x65|_0x1fef0b[0x65e+0x3e+0x1*-0x685],_0x11e661[_0x3e6efe*(-0x386+0x3*-0x77f+0x1a07)+(0x16f0+0x1*-0x232b+0x6c*0x1d)]=_0x1fef0b[0x2c8*0x4+0x1*0x4dc+-0xfe4]<<0x45*0x4+0x407*-0x4+0xf1d|_0x1fef0b[0x43d+0x15dd*-0x1+0x1*0x11b9]<<-0x784+-0x5*-0x3af+-0xadc|_0x1fef0b[0x173b*-0x1+0xfd4*-0x1+-0x191*-0x19],_0x11e661[_0x3e6efe*(-0x123c+-0x1ec5+0x1*0x3105)+(-0x2*-0x1382+-0xb04+-0x1bfe*0x1)]=_0x1fef0b[-0x1fa2+-0x314+0x22d1]<<0x45*0x18+-0x1*0x2006+-0x19a3*-0x1|_0x1fef0b[-0x179c+-0x9*-0x355+0x645*-0x1]<<-0x18a*0x13+-0x1*0xe9b+0x2be4|_0x1fef0b[-0x1e29+0x7*-0x25+0x1f49],_0x11e661[_0x3e6efe*(0x4eb*-0x7+0x1*0x13ff+0xe72)+(0x1c72+0x14c4+-0x3133)]=_0x1fef0b[0x146a+0xa*-0xb9+-0xe*0xef]<<0x1*-0x19fb+-0x1341+0x2d51|_0x1fef0b[0x1*0x484+0x2*-0xc9a+0x14cf]<<-0x13ee+0x243a+-0x1041|_0x1fef0b[0x275*-0x1+-0x4e9+-0x1*-0x77e],_0x14871c[_0x3e6efe*(0x2139+-0x1*0xfb3+-0x1182)+(-0x1193+0x6e*0x49+-0xdcb)]=_0x1fef0b[-0x491*-0x7+0x102f*0x1+-0x3005]<<0x3*0x41d+0x1913*0x1+-0x2555|_0x1fef0b[-0x95a+0x2*0x5b9+-0x1f6]<<-0x17a2+0x3b*0x25+0x22a*0x7|_0x1fef0b[0xf62+0x3d*0x3d+-0x1dc8],_0x14871c[_0x3e6efe*(-0x8*0x2ed+0x216+-0x1556*-0x1)+(0x4af*-0x2+-0x1*0x1335+-0x1c94*-0x1)]=_0x1fef0b[-0x11a7+0x15b2*0x1+-0x6f*0x9]<<0x5a0+-0x3*-0x942+0x2151*-0x1|_0x1fef0b[0xae3*-0x3+0x2a9+-0x1*-0x1e25]<<0x1fd*0xd+-0x2*0x746+-0xb42|_0x1fef0b[0x22b0+-0x1c2e+-0xb*0x94],_0x14871c[_0x3e6efe*(-0x2504+-0x1f*0x11b+-0x474d*-0x1)+(0x25c5+0x12f0+-0x38b3*0x1)]=_0x1fef0b[-0x4ba*0x2+-0x15*-0x1d5+-0x1cde]<<-0xfe+0x4a+0xc9|_0x1fef0b[-0x1*-0x1f5d+0x25e9+-0x451e]<<0x31c+0x22*-0x13+-0x1*0x8b|_0x1fef0b[-0x339+0x2b4*0x4+-0x76e],_0x14871c[_0x3e6efe*(-0xcc+0x42+0x8e)+(0x2196+-0x20f1+-0xa2)]=_0x1fef0b[0x15d3+-0x4*-0x8fb+-0x3995]<<-0x68d+0x427*-0x2+0xef0|_0x1fef0b[0x35*-0x8c+0x1*-0x1568+0x328f]<<-0xe7f+0x3bf*-0x5+0x2145|_0x1fef0b[0x417*-0x5+-0xf*0x28d+0x1*0x3ae2]):_0x11e661[_0x3e6efe]=_0x1fef0b[-0x587*-0x2+0x1d30+-0x2829]<<0x2b*-0x9f+0x17bd+0x30d|_0x1fef0b[-0x2fc+0x450+-0x13e]<<0x1*-0xb4e+0x7f*0x20+-0x487|_0x1fef0b[-0x2*0x419+-0xfb6*-0x2+-0x1723]);}}(_0x2c0fc1=this['sh1to3Text'+'ure2'])==null||_0x2c0fc1['unlock'](),(_0x43092b=this['sh4to7Text'+'ure2'])==null||_0x43092b['unlock'](),(_0x70fd10=this['sh8to11Tex'+'ture2'])==null||_0x70fd10['unlock'](),(_0x110d6b=this['sh12to15Te'+'xture2'])==null||_0x110d6b['unlock']();}async['updateSHDa'+'taByWorker'](_0xdd5df0){var _0x44924b,_0x2e422c,_0x25e68a,_0x354f24,_0x33a835;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x42ae0d={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x1ae156,_0x2b188a,_0x331832,_0x5496fb;if((_0x44924b=_0xdd5df0['transformD'+'ata'])!=null&&_0x44924b['sh1to3Data'])_0x1ae156=(_0x2e422c=_0xdd5df0['transformD'+'ata'])==null?void(-0x2392+0x5*-0x739+0x3*0x17e5):_0x2e422c['sh1to3Data'],_0x2b188a=(_0x25e68a=_0xdd5df0['transformD'+'ata'])==null?void(-0x211c+0x4*-0x81+-0x2*-0x1190):_0x25e68a['sh4to7Data'],_0x331832=(_0x354f24=_0xdd5df0['transformD'+'ata'])==null?void(0x20*0x3d+0x1833+-0x1*0x1fd3):_0x354f24['sh8to11Dat'+'a'],_0x5496fb=(_0x33a835=_0xdd5df0['transformD'+'ata'])==null?void(0x1755+0x10ae+-0x1*0x2803):_0x33a835['sh12to15Da'+'ta'];else{const _0x1bf524=xg(_0xdd5df0,_0x42ae0d*(0x1e14+-0x26a3+0x892)),_0x19d4d1=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0xdd5df0['numSplats'],this['shBands'],_0x1bf524);_0x1ae156=_0x19d4d1['sh1to3Data'],_0x2b188a=_0x19d4d1['sh4to7Data'],_0x331832=_0x19d4d1['sh8to11Dat'+'a'],_0x5496fb=_0x19d4d1['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x1ae156),this['shBands']>0x10a+-0x3a8+0x29f&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x2b188a),this['shBands']>-0x24f*0x1+-0x1b9d*-0x1+-0x194c?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x331832),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x5496fb)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x331832));}}const PC='FILL_WINDO'+'W',Tg='KEEP_ASPEC'+'T',wg='AUTO',MC='FIXED';let Ov;function Ms(){return Ov;}function _u(_0x87d566){Ov=_0x87d566;}class DC{constructor(){h(this,'renderPass'+'es',[]),h(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x566506){w['assert'](_0x566506),_0x566506['frameUpdat'+'e']();const _0x5bba50=_0x566506['beforePass'+'es'];for(let _0x134e01=-0x70*0x8+-0x26c6+0x2a46;_0x134e01<_0x5bba50['length'];_0x134e01++){const _0x3d3e3f=_0x5bba50[_0x134e01];_0x3d3e3f['enabled']&&this['addRenderP'+'ass'](_0x3d3e3f);}_0x566506['enabled']&&this['renderPass'+'es']['push'](_0x566506);const _0x1b7f22=_0x566506['afterPasse'+'s'];for(let _0x3707b4=-0x5*0x51a+-0xac*0x18+0x29a2;_0x3707b4<_0x1b7f22['length'];_0x3707b4++){const _0x29d39c=_0x1b7f22[_0x3707b4];_0x29d39c['enabled']&&this['addRenderP'+'ass'](_0x29d39c);}}['reset'](){this['renderPass'+'es']['length']=-0x27f+-0x94e+0xbcd;}['compile'](){const _0x1a927d=this['renderTarg'+'etMap'],_0x33bfd0=this['renderPass'+'es'];for(let _0x126387=-0xcda+0x1873*0x1+-0xb99;_0x126387<_0x33bfd0['length'];_0x126387++){const _0x17acde=_0x33bfd0[_0x126387],_0x437614=_0x17acde['renderTarg'+'et'];if(_0x437614!==void(0x21f9+-0x1*0xc11+0x2*-0xaf4)){const _0x38b3c5=_0x1a927d['get'](_0x437614);if(_0x38b3c5){const _0x3ba570=_0x17acde['colorArray'+'Ops']['length'];for(let _0x9874d9=-0x773+-0x2564+-0xd*-0x373;_0x9874d9<_0x3ba570;_0x9874d9++)_0x17acde['colorArray'+'Ops'][_0x9874d9]['clear']||(_0x38b3c5['colorArray'+'Ops'][_0x9874d9]['store']=!(-0x1f*-0x1+0x23f4+-0x2413));_0x17acde['depthStenc'+'ilOps']['clearDepth']||(_0x38b3c5['depthStenc'+'ilOps']['storeDepth']=!(-0x2*-0xb65+0x2089+0x1271*-0x3)),_0x17acde['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x38b3c5['depthStenc'+'ilOps']['storeStenc'+'il']=!(-0x4*-0xdf+-0xbc4+0x35*0x28));}_0x1a927d['set'](_0x437614,_0x17acde);}}for(let _0x5867f1=0x1eb3+-0x1acb+-0x3e8;_0x5867f1<_0x33bfd0['length']-(-0x59e+0x183c*0x1+-0x129d);_0x5867f1++){const _0x5c1ab7=_0x33bfd0[_0x5867f1],_0x4d452b=_0x5c1ab7['renderTarg'+'et'],_0x60cdca=_0x33bfd0[_0x5867f1+(-0xf*-0x26a+0x1e5d+-0x4292)],_0x17f7d=_0x60cdca['renderTarg'+'et'];_0x4d452b!==_0x17f7d||_0x4d452b===void(0x10*-0x122+-0x1a7d*-0x1+-0x85d*0x1)||_0x60cdca['depthStenc'+'ilOps']['clearDepth']||_0x60cdca['depthStenc'+'ilOps']['clearStenc'+'il']||_0x60cdca['colorArray'+'Ops']['some'](_0x668d6f=>_0x668d6f['clear'])||_0x5c1ab7['afterPasse'+'s']['length']>-0x815+0xca*-0x16+0x1971||_0x60cdca['beforePass'+'es']['length']>-0x1067+0x1*0x1245+-0x1de||(_0x5c1ab7['_skipEnd']=!(-0x1bb5*-0x1+0x3c*-0x76+-0xd*0x1),_0x60cdca['_skipStart']=!(0xe3f*-0x1+-0x1a91*-0x1+-0xc52));}let _0x4c36e4=null,_0x1400e6=null;for(let _0x284ac6=0x162+-0x2*0xab1+0x20*0xa0;_0x284ac6<_0x33bfd0['length'];_0x284ac6++){const _0x44b4f1=_0x33bfd0[_0x284ac6],_0x47027c=_0x44b4f1['renderTarg'+'et'],_0x5054f5=_0x47027c==null?void(-0x19b+-0xaa8+0xc43):_0x47027c['colorBuffe'+'r'];if(_0x5054f5!=null&&_0x5054f5['cubemap']){if(_0x4c36e4===_0x5054f5){const _0x5b6acd=_0x1400e6['colorArray'+'Ops']['length'];for(let _0x4b5be8=-0x7*0x33e+0xd2e*-0x1+0x23e0;_0x4b5be8<_0x5b6acd;_0x4b5be8++)_0x1400e6['colorArray'+'Ops'][_0x4b5be8]['mipmaps']=!(-0x1aa0+-0x252b+0x2*0x1fe6);}_0x4c36e4=_0x47027c['colorBuffe'+'r'],_0x1400e6=_0x44b4f1;}else _0x44b4f1['requiresCu'+'bemaps']&&(_0x4c36e4=null,_0x1400e6=null);}_0x1a927d['clear']();}['render'](_0x197d0b){this['compile']();const _0x463f0e=this['renderPass'+'es'];for(let _0x2adce8=-0x3*-0x916+-0x21db+-0x233*-0x3;_0x2adce8<_0x463f0e['length'];_0x2adce8++)_0x463f0e[_0x2adce8]['render']();}}class IC{constructor(_0x2a1f9d,_0xcf339e){this['texture0']=_0x2a1f9d,this['texture1']=_0xcf339e;}['destroy'](){var _0x574718,_0x398133;(_0x574718=this['texture0'])==null||_0x574718['destroy'](),(_0x398133=this['texture1'])==null||_0x398133['destroy']();}}const Eg=new Kt();class ia{static['createText'+'ure'](_0x3826de,_0x2e627a,_0x534620,_0x17d9f3=''){return new _e(_0x3826de,{'name':'AreaLightL'+'UT'+_0x17d9f3,'width':_0x534620,'height':_0x534620,'format':_0x2e627a,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':vt,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(-0xa3a+0x2*-0x989+0x1d4d)});}static['applyTextu'+'res'](_0x1d3ff5,_0x2a0b2a,_0x6ded75){Eg['remove'](_0x1d3ff5),Eg['get'](_0x1d3ff5,()=>new IC(_0x2a0b2a,_0x2a0b2a===_0x6ded75?null:_0x6ded75)),_0x1d3ff5['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x2a0b2a),_0x1d3ff5['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x6ded75);}static['createPlac'+'eholder'](_0x39ff0f){const _0x250b9c=ia['createText'+'ure'](_0x39ff0f,nt,0x1a42+-0x1c51*-0x1+-0x1*0x3691,'placeholde'+'r');_0x250b9c['lock']()['fill'](0x5d*0x3+0x1f65+-0x207c),_0x250b9c['unlock'](),ia['applyTextu'+'res'](_0x39ff0f,_0x250b9c,_0x250b9c);}static['set'](_0x42d9af,_0x5bc337,_0x4b0d18){function _0x100e1c(_0x3e254c,_0x2b9be8,_0xe690b1){const _0x13a165=ia['createText'+'ure'](_0x3e254c,_0xe690b1,0x1*0x1891+-0x1*-0x8d2+-0x2123);return _0x13a165['lock']()['set'](_0x2b9be8),_0x13a165['unlock'](),_0x13a165;}function _0x4865f(_0x33b271){const _0x2d87bd=_0x33b271['length'],_0x4f61c8=new Uint16Array(_0x2d87bd),_0x3959a9=Mn['float2Half'];for(let _0x408f16=-0x1c9*-0x4+-0x16ff+0xfdb;_0x408f16<_0x2d87bd;_0x408f16++)_0x4f61c8[_0x408f16]=_0x3959a9(_0x33b271[_0x408f16]);return _0x4f61c8;}const _0xd874d2=_0x5bc337,_0x136cf8=_0x4b0d18,_0x28f8c3=_0x4865f(_0xd874d2),_0x52d921=_0x4865f(_0x136cf8),_0x4f782a=_0x100e1c(_0x42d9af,_0x28f8c3,nt),_0x1e3d99=_0x100e1c(_0x42d9af,_0x52d921,nt);ia['applyTextu'+'res'](_0x42d9af,_0x4f782a,_0x1e3d99);}}const Ph='en-US',Mh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},Sm={};function Dr(_0xe326d7,_0x29614f){for(let _0x386a15=-0x1*0x15ed+-0xa17+0x2ab*0xc,_0x1ed983=_0xe326d7['length'];_0x386a15<_0x1ed983;_0x386a15++)Sm[_0xe326d7[_0x386a15]]=_0x29614f;}function Oi(_0x1824d9){const _0x4a4c54=_0x1824d9['indexOf']('-');return _0x4a4c54!==-(-0x17f*0xd+0xa*-0x28a+0x28*0x11f)?_0x1824d9['substring'](-0x1249+-0x3*0xc83+-0x5*-0xb2a,_0x4a4c54):_0x1824d9;}function LC(_0x3625d6,_0x3bd027){const _0x209249=_0x3625d6['indexOf']('-');return _0x209249!==-(0x14b8+0x2085+-0x353c*0x1)?_0x3bd027+_0x3625d6['substring'](_0x209249):_0x3bd027;}function Fv(_0x3e9c32,_0x16cacd){if(_0x16cacd[_0x3e9c32])return _0x3e9c32;let _0x8db6c3=Mh[_0x3e9c32];if(_0x8db6c3&&_0x16cacd[_0x8db6c3])return _0x8db6c3;const _0x4cf732=Oi(_0x3e9c32);return _0x8db6c3=Mh[_0x4cf732],_0x16cacd[_0x8db6c3]?_0x8db6c3:_0x16cacd[_0x4cf732]?_0x4cf732:Ph;}Dr(['ja','ko','th','vi','zh','id'],_0x52a362=>-0xb91+0x21c9+0x4*-0x58e),Dr(['fa','hi'],_0x37a461=>_0x37a461>=-0x217c*-0x1+-0x1b24+-0x1*0x658&&_0x37a461<=-0x62a+-0x86e*0x4+0x1*0x27e3?-0x281*-0x9+-0x3*0x8c5+-0x3c6*-0x1:0x1*0x2248+0x19cf+-0x3c16),Dr(['fr','pt'],_0x2a3e16=>_0x2a3e16>=-0x24f8+0x151*-0xd+0x3615&&_0x2a3e16<0x1134+-0xc4e+-0x4e4?0xaa6+-0xf6+-0x8*0x136:0x83f+-0x1d6*-0x7+0x24*-0x96),Dr(['da'],_0x4a376e=>_0x4a376e===-0x74+0x26c3+-0x264e||!Number['isInteger'](_0x4a376e)&&_0x4a376e>=-0x6*0xa2+-0xcf4*0x3+0x2aa8&&_0x4a376e<=0x1*-0xa6+0xa*-0x10f+0xb3d?-0xa07*-0x3+-0x1266*0x1+-0xbaf:0x15ea+-0x2ac+-0x133d),Dr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x347915=>_0x347915===0x161a+0x363+0x1*-0x197c?-0xb86+0x1064+-0x2*0x26f:0xe5*0x9+-0x264e+-0xf21*-0x2),Dr(['ru','uk'],_0xd8fa8a=>{if(Number['isInteger'](_0xd8fa8a)){const _0x4598a9=_0xd8fa8a%(-0x217c+-0x7*-0x456+0x32c),_0x408d58=_0xd8fa8a%(0x1255+-0x7f*-0x18+-0x1dd9);if(_0x4598a9===0x29*0x5d+0x1b1*0x3+-0x13f7&&_0x408d58!==-0x1*-0x2615+-0x1d77+-0x893)return 0x2428+-0x8e7*-0x2+-0x35f6;if(_0x4598a9>=-0x4d5+0x12*0x12b+-0x102f&&_0x4598a9<=-0x114b+0xb11*-0x1+0x1c6*0x10&&(_0x408d58<0x14a5+-0x265a+0x12f*0xf||_0x408d58>0xc1a*0x2+0x1*-0x21c1+0x1*0x99b))return-0x695+0x1e8f+-0x169*0x11;if(_0x4598a9===0x227b+-0x11cb+-0x10b0||_0x4598a9>=-0x182e+0xe55+0x9de&&_0x4598a9<=0xd65+-0x2361*0x1+0x1605||_0x408d58>=-0x2*0xba8+0x1452+0x309&&_0x408d58<=-0x2*-0x16b+0x2199+-0x43*0x8b)return-0x170c+0x3a7+0x1367;}return-0x2089+-0xa*-0x338+0x5c;}),Dr(['pl'],_0xdcb25c=>{if(Number['isInteger'](_0xdcb25c)){if(_0xdcb25c===-0xd33+0x1e68+-0x1134)return 0x267d+-0x24e+-0x242f*0x1;const _0x353ff1=_0xdcb25c%(0x669*-0x6+-0x1317+0x3997),_0x383ef2=_0xdcb25c%(-0x40*-0x80+-0x153f+-0x17b*0x7);if(_0x353ff1>=0xf22+0xf12+-0x1e32&&_0x353ff1<=-0x1079+0x658+0x35*0x31&&(_0x383ef2<0xfb2+-0x129b+-0x2f5*-0x1||_0x383ef2>0x905*0x1+0x1bef*0x1+-0x24e6))return-0x7e5*0x2+-0xaed*0x3+0x3092;if(_0x353ff1>=-0x1007+0x3*0x957+0xbfe*-0x1&&_0x353ff1<=-0x126+0x10*0x248+-0x1*0x2359||_0x353ff1>=0x1cf7+-0x131b+-0x9d7&&_0x353ff1<=0x3c7*0x6+0x1*0x9ed+-0x56d*0x6||_0x383ef2>=0x1*-0x35a+-0x221c+0x2582&&_0x383ef2<=-0xcb9+0x1*-0x24d9+-0x634*-0x8)return 0xe*-0x233+0x9d0+0x4f*0x44;}return 0x7*-0x3e5+0x12b0+0x896;}),Dr(['ar'],_0x5ae240=>{if(_0x5ae240===0xa0d*-0x1+0xa7+-0x4b3*-0x2)return 0x11*0x207+0x2480+-0x46f7;if(_0x5ae240===-0x2199+-0x9*-0x17b+0x1d*0xb3)return-0x974+-0xa89+-0x2*-0x9ff;if(_0x5ae240===0x16cc+0x1551+-0x2c1b)return-0x209e+-0x3*-0x6e5+-0xbf1*-0x1;if(Number['isInteger'](_0x5ae240)){const _0xf89682=_0x5ae240%(0x10b*-0x5+0x1249*0x1+-0xcae);if(_0xf89682>=0x4*-0x5b9+0x24f*0x3+0xffa&&_0xf89682<=0x4ff*0x1+-0x236b*-0x1+-0x2860)return 0x1ec5*-0x1+-0xbf2+0x2aba;if(_0xf89682>=0x19fa+0x50*0x4a+-0x310f&&_0xf89682<=-0x565*0x3+-0x1*-0x267d+-0x1*0x15eb)return 0x1465+0x969+0x1*-0x1dca;}return-0x1d39*-0x1+0x89b*-0x4+0x538;});const RC=Sm[Oi(Ph)];function Tf(_0x4c910d){return Sm[_0x4c910d]||RC;}const jn=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class OC{constructor(_0x2bd068='',_0x4d4d30='',_0x26141e=null,_0x9cc73d=null,_0x13d133=null,_0x133ffd=null){this['url']=_0x2bd068,this['filename']=_0x4d4d30,this['hash']=_0x26141e,this['size']=_0x9cc73d,this['opt']=_0x13d133,this['contents']=_0x133ffd;}['equals'](_0x10bd91){return this['url']===_0x10bd91['url']&&this['filename']===_0x10bd91['filename']&&this['hash']===_0x10bd91['hash']&&this['size']===_0x10bd91['size']&&this['opt']===_0x10bd91['opt']&&this['contents']===_0x10bd91['contents'];}}let FC=-(0x9eb*0x3+0xa3*0x36+-0x4022);const NC={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},bg=['pvr','dxt','etc2','etc1','basis'];class pe extends me{constructor(_0x5366df,_0x2f3fd4,_0x245943,_0xb83d7c={},_0x2ceb1b={}){super(),h(this,'_file',null),h(this,'_i18n',{}),h(this,'_preload',!(-0x7ff+-0x14f*-0x17+0x1*-0x1619)),h(this,'_resources',[]),h(this,'id',FC--),h(this,'loaded',!(-0x11db+-0x7d5+0x1*0x19b1)),h(this,'loading',!(-0x13a*0x1f+0x2272+0x83*0x7)),h(this,'options',{}),h(this,'registry',null),h(this,'tags',new Oo(this)),h(this,'type'),h(this,'urlObject',null),(this['_name']=_0x5366df||'',this['type']=_0x2f3fd4,this['_data']=_0xb83d7c||{},this['options']=_0x2ceb1b||{},_0x245943&&(this['file']=_0x245943));}set['name'](_0x205d8e){if(this['_name']===_0x205d8e)return;const _0x18e517=this['_name'];this['_name']=_0x205d8e,this['fire']('name',this,this['_name'],_0x18e517);}get['name'](){return this['_name'];}set['file'](_0x2d3b5){var _0x4b5b9e,_0xa4f94f;if(_0x2d3b5&&_0x2d3b5['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(0xd46+0x22ff+-0x3044)){const _0x57b15a=((_0xa4f94f=(_0x4b5b9e=this['registry'])==null?void(-0x1ab1*-0x1+0x1f96+-0x136d*0x3):_0x4b5b9e['_loader'])==null?void(-0x36d*-0x6+0x1b0d+-0x2f9b):_0xa4f94f['_app'])||Ms(),_0x2a9a86=_0x57b15a==null?void(-0xe43+0x324+-0x3*-0x3b5):_0x57b15a['graphicsDe'+'vice'];if(_0x2a9a86)for(let _0x55d5a6=0x3*-0x2a2+-0x2*0x5a2+-0x1*-0x132a,_0x1c32a5=bg['length'];_0x55d5a6<_0x1c32a5;_0x55d5a6++){const _0x4e5f5e=bg[_0x55d5a6];if(_0x2d3b5['variants'][_0x4e5f5e]&&_0x2a9a86[NC[_0x4e5f5e]]){_0x2d3b5=_0x2d3b5['variants'][_0x4e5f5e];break;}if(_0x57b15a['enableBund'+'les']){const _0x22d62d=_0x57b15a['bundles']['listBundle'+'sForAsset'](this);if(_0x22d62d&&_0x22d62d['find'](_0x22edc9=>{var _0x4662c7;return(_0x4662c7=_0x22edc9==null?void(-0x10f0+0x140e+-0x31e):_0x22edc9['file'])==null?void(0x1cf1*0x1+-0x1f31+0x240):_0x4662c7['variants'][_0x4e5f5e];}))break;}}}const _0x5d2e1f=this['_file'],_0x2710a4=_0x2d3b5?new OC(_0x2d3b5['url'],_0x2d3b5['filename'],_0x2d3b5['hash'],_0x2d3b5['size'],_0x2d3b5['opt'],_0x2d3b5['contents']):null;(!!_0x2710a4!=!!_0x5d2e1f||_0x2710a4&&!_0x2710a4['equals'](_0x5d2e1f))&&(this['_file']=_0x2710a4,this['fire']('change',this,'file',_0x2710a4,_0x5d2e1f),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x5ab20c){const _0xc21366=this['_data'];this['_data']=_0x5ab20c,_0x5ab20c!==_0xc21366&&(this['fire']('change',this,'data',_0x5ab20c,_0xc21366),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x5e5c2e){const _0x48259b=this['_resources'][0x322*-0x3+0x2084+0xb8f*-0x2];this['_resources'][0x1*0x65b+0x8*-0x493+0x1e3d]=_0x5e5c2e,this['fire']('change',this,'resource',_0x5e5c2e,_0x48259b);}get['resource'](){return this['_resources'][0x9*-0x406+-0x1e1a+-0x1094*-0x4];}set['resources'](_0x2b25b3){const _0x14caae=this['_resources'];this['_resources']=_0x2b25b3,this['fire']('change',this,'resources',_0x2b25b3,_0x14caae);}get['resources'](){return this['_resources'];}set['preload'](_0x1d052f){_0x1d052f=!!_0x1d052f,this['_preload']!==_0x1d052f&&(this['_preload']=_0x1d052f,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x33688d){_0x33688d=!!_0x33688d,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x33688d!==this['_loadFaces'])&&(this['_loadFaces']=_0x33688d,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x246347=this['file'];if(!_0x246347||!_0x246347['url'])return null;let _0x312307=_0x246347['url'];if(this['registry']&&this['registry']['prefix']&&!jn['test'](_0x312307)&&(_0x312307=this['registry']['prefix']+_0x312307),this['type']!=='script'&&_0x246347['hash']){const _0x1a494a=_0x312307['indexOf']('?')!==-(0x1c7a+0x7*-0x41d+0x1*0x52)?'&':'?';_0x312307+=_0x1a494a+'t='+_0x246347['hash'];}return _0x312307;}['getAbsolut'+'eUrl'](_0x45ff59){if(_0x45ff59['startsWith']('blob:')||_0x45ff59['startsWith']('data:'))return _0x45ff59;const _0x21c820=xe['getDirecto'+'ry'](this['file']['url']);return xe['join'](_0x21c820,_0x45ff59);}['getLocaliz'+'edAssetId'](_0x386416){return _0x386416=Fv(_0x386416,this['_i18n']),this['_i18n'][_0x386416]||null;}['addLocaliz'+'edAssetId'](_0x49bb37,_0x1f88c9){this['_i18n'][_0x49bb37]=_0x1f88c9,this['fire']('add:locali'+'zed',_0x49bb37,_0x1f88c9);}['removeLoca'+'lizedAsset'+'Id'](_0x550c7b){const _0x16bddb=this['_i18n'][_0x550c7b];_0x16bddb&&(delete this['_i18n'][_0x550c7b],this['fire']('remove:loc'+'alized',_0x550c7b,_0x16bddb));}['ready'](_0x5aebf3,_0x1df976){_0x1df976=_0x1df976||this,this['loaded']?_0x5aebf3['call'](_0x1df976,this):this['once']('load',_0x5f5c9a=>{_0x5aebf3['call'](_0x1df976,_0x5f5c9a);});}['reload'](){this['loaded']&&(this['loaded']=!(-0x1f8a+0x1*-0x2583+-0x2*-0x2287),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===0xc*0x83+0x7*0x73+-0x949)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x2ba865=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(-0xe02+-0x2f6+0x5*0x365),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x436a46=-0x1a77+0x19b*0x9+-0x2*-0x602;_0x436a46<_0x2ba865['length'];++_0x436a46){const _0x38836a=_0x2ba865[_0x436a46];_0x38836a&&_0x38836a['destroy']&&_0x38836a['destroy']();}}static['fetchArray'+'Buffer'](_0xc269f5,_0x12af5a,_0x48150a,_0x418397=0x106+0x1*-0x595+0x48f){var _0x2a44e9;(_0x2a44e9=_0x48150a==null?void(-0x1fed+0x2*-0xf97+0x3f1b):_0x48150a['file'])!=null&&_0x2a44e9['contents']?setTimeout(()=>{_0x12af5a(null,_0x48150a['file']['contents']);}):ot['get'](_0xc269f5,{'cache':!(0x2*0xc77+-0x26bc+0x24d*0x6),'responseType':'arraybuffe'+'r','retry':_0x418397>-0x4*-0x43f+-0x1cf6+0xbfa,'maxRetries':_0x418397},_0x12af5a);}}h(pe,'EVENT_LOAD','load'),h(pe,'EVENT_UNLO'+'AD','unload'),h(pe,'EVENT_REMO'+'VE','remove'),h(pe,'EVENT_ERRO'+'R','error'),h(pe,'EVENT_CHAN'+'GE','change'),h(pe,'EVENT_PROG'+'RESS','progress'),h(pe,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),h(pe,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class kC{constructor(_0x693db7=null){h(this,'_index',{}),h(this,'_key'),this['_key']=_0x693db7;}['addItem'](_0x418376){const _0x74aa1=_0x418376['tags']['_list'];for(const _0x390792 of _0x74aa1)this['add'](_0x390792,_0x418376);}['removeItem'](_0x53bf40){const _0x39e9bf=_0x53bf40['tags']['_list'];for(const _0x25103f of _0x39e9bf)this['remove'](_0x25103f,_0x53bf40);}['add'](_0x324c3e,_0x49e820){this['_index'][_0x324c3e]&&this['_index'][_0x324c3e]['list']['indexOf'](_0x49e820)!==-(0x11f6+0x4*0x7+-0x1211*0x1)||(this['_index'][_0x324c3e]||(this['_index'][_0x324c3e]={'list':[]},this['_key']&&(this['_index'][_0x324c3e]['keys']={})),this['_index'][_0x324c3e]['list']['push'](_0x49e820),this['_key']&&(this['_index'][_0x324c3e]['keys'][_0x49e820[this['_key']]]=_0x49e820));}['remove'](_0x1a43e4,_0x4272c6){if(!this['_index'][_0x1a43e4]||this['_key']&&!this['_index'][_0x1a43e4]['keys'][_0x4272c6[this['_key']]])return;const _0x1d0a41=this['_index'][_0x1a43e4]['list']['indexOf'](_0x4272c6);_0x1d0a41!==-(0x22f*-0xa+-0x1b86*-0x1+-0x5af)&&(this['_index'][_0x1a43e4]['list']['splice'](_0x1d0a41,0x1309+0x515*-0x2+-0x8de),this['_key']&&delete this['_index'][_0x1a43e4]['keys'][_0x4272c6[this['_key']]],this['_index'][_0x1a43e4]['list']['length']===0x1c68+0x2036+-0x2*0x1e4f&&delete this['_index'][_0x1a43e4]);}['find'](_0x398d88){const _0x4e2deb={},_0x311c30=[];let _0x86b5f9,_0x382e17,_0xf9b5bb,_0x1c7da9,_0x2c9e44;const _0x518496=(_0x53a675,_0x5d3913)=>this['_index'][_0x53a675]['list']['length']-this['_index'][_0x5d3913]['list']['length'];for(let _0x5e723e=0xe87+0xf1e+-0x1da5;_0x5e723e<_0x398d88['length'];_0x5e723e++){if(_0x382e17=_0x398d88[_0x5e723e],_0x382e17 instanceof Array){if(_0x382e17['length']===-0xf42+0x517*0x3+-0x3)continue;if(_0x382e17['length']===-0x21d8+-0x22*-0x7f+0x10fb)_0x382e17=_0x382e17[0x25c5+0x4a*-0x49+-0x10ab];else{_0x2c9e44=!(-0x171*-0x9+-0x22*-0x65+-0x1a62);for(let _0x3f7d84=0x9ad*0x1+0x175b+-0x2108;_0x3f7d84<_0x382e17['length'];_0x3f7d84++)if(!this['_index'][_0x382e17[_0x3f7d84]]){_0x2c9e44=!(0x6*-0x493+0x5c+-0x2*-0xd8b);break;}if(_0x2c9e44)continue;_0xf9b5bb=_0x382e17['slice'](0x11c3+-0x110+-0x10b3)['sort'](_0x518496),_0x1c7da9=_0xf9b5bb['slice'](0x18f2+-0xec3+-0xa2e),_0x1c7da9['length']===0x1*0x54d+0x22c8+-0x2814&&(_0x1c7da9=_0x1c7da9[-0x1959+0x4b4*-0x1+0x1e0d]);for(let _0x32a013=0x2305+-0xdbd*0x1+0xaa4*-0x2;_0x32a013<this['_index'][_0xf9b5bb[0x1e34+-0xb*-0x1de+-0x32be]]['list']['length'];_0x32a013++)_0x86b5f9=this['_index'][_0xf9b5bb[0x75+-0x7c+0x7]]['list'][_0x32a013],(this['_key']?!_0x4e2deb[_0x86b5f9[this['_key']]]:_0x311c30['indexOf'](_0x86b5f9)===-(-0x5e1+0xe*-0x1ce+0x12*0x1bb))&&_0x86b5f9['tags']['has'](_0x1c7da9)&&(this['_key']&&(_0x4e2deb[_0x86b5f9[this['_key']]]=!(-0xe7*0x19+-0x7*-0x567+-0xf42)),_0x311c30['push'](_0x86b5f9));continue;}}if(_0x382e17&&typeof _0x382e17=='string'&&this['_index'][_0x382e17]){for(let _0x4ae045=0x6*-0x31e+-0xf2+0x13a6;_0x4ae045<this['_index'][_0x382e17]['list']['length'];_0x4ae045++)_0x86b5f9=this['_index'][_0x382e17]['list'][_0x4ae045],this['_key']?_0x4e2deb[_0x86b5f9[this['_key']]]||(_0x4e2deb[_0x86b5f9[this['_key']]]=!(-0x5*-0x3df+-0x5*-0x6aa+-0x34ad),_0x311c30['push'](_0x86b5f9)):_0x311c30['indexOf'](_0x86b5f9)===-(0x1c0c+0x1719+-0x3324)&&_0x311c30['push'](_0x86b5f9);}}return _0x311c30;}}class mn extends me{constructor(_0x43619e){super(),h(this,'_assets',new Set()),h(this,'_loader'),h(this,'_idToAsset',new Map()),h(this,'_urlToAsse'+'t',new Map()),h(this,'_nameToAss'+'et',new Map()),h(this,'_tags',new kC('id')),h(this,'prefix',null),h(this,'bundles',null),this['_loader']=_0x43619e;}['list'](_0x2db373={}){const _0xc553f9=Array['from'](this['_assets']);return _0x2db373['preload']!==void(-0xdf*0x9+0xce4+0x3*-0x1af)?_0xc553f9['filter'](_0x67435e=>_0x67435e['preload']===_0x2db373['preload']):_0xc553f9;}['add'](_0x9a290){var _0x374d73,_0x3716cf;this['_assets']['has'](_0x9a290)||(this['_assets']['add'](_0x9a290),this['_idToAsset']['set'](_0x9a290['id'],_0x9a290),(_0x374d73=_0x9a290['file'])!=null&&_0x374d73['url']&&this['_urlToAsse'+'t']['set'](_0x9a290['file']['url'],_0x9a290),this['_nameToAss'+'et']['has'](_0x9a290['name'])||this['_nameToAss'+'et']['set'](_0x9a290['name'],new Set()),this['_nameToAss'+'et']['get'](_0x9a290['name'])['add'](_0x9a290),_0x9a290['on']('name',this['_onNameCha'+'nge'],this),_0x9a290['registry']=this,this['_tags']['addItem'](_0x9a290),_0x9a290['tags']['on']('add',this['_onTagAdd'],this),_0x9a290['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x9a290),this['fire']('add:'+_0x9a290['id'],_0x9a290),(_0x3716cf=_0x9a290['file'])!=null&&_0x3716cf['url']&&this['fire']('add:url:'+_0x9a290['file']['url'],_0x9a290),_0x9a290['preload']&&this['load'](_0x9a290));}['remove'](_0x29ef82){var _0x24ff55,_0x2edd28;if(!this['_assets']['has'](_0x29ef82))return!(0x1b58+0x2312+-0x3e69);if(this['_assets']['delete'](_0x29ef82),this['_idToAsset']['delete'](_0x29ef82['id']),(_0x24ff55=_0x29ef82['file'])!=null&&_0x24ff55['url']&&this['_urlToAsse'+'t']['delete'](_0x29ef82['file']['url']),_0x29ef82['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x29ef82['name'])){const _0x4e8ffc=this['_nameToAss'+'et']['get'](_0x29ef82['name']);_0x4e8ffc['delete'](_0x29ef82),_0x4e8ffc['size']===-0x23c8+-0x1af3*0x1+0x3ebb&&this['_nameToAss'+'et']['delete'](_0x29ef82['name']);}return this['_tags']['removeItem'](_0x29ef82),_0x29ef82['tags']['off']('add',this['_onTagAdd'],this),_0x29ef82['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x29ef82['fire']('remove',_0x29ef82),this['fire']('remove',_0x29ef82),this['fire']('remove:'+_0x29ef82['id'],_0x29ef82),(_0x2edd28=_0x29ef82['file'])!=null&&_0x2edd28['url']&&this['fire']('remove:url'+':'+_0x29ef82['file']['url'],_0x29ef82),!(0x998+0x1*0xef8+0x106*-0x18);}['get'](_0x14fdfe){return this['_idToAsset']['get'](Number(_0x14fdfe));}['getByUrl'](_0x4e965d){return this['_urlToAsse'+'t']['get'](_0x4e965d);}['load'](_0x526a0b,_0x4c5358){if((_0x526a0b['loading']||_0x526a0b['loaded'])&&!(_0x4c5358!=null&&_0x4c5358['force']))return;const _0x5600f5=_0x526a0b['file'],_0xf71b3=()=>{this['fire']('load',_0x526a0b),this['fire']('load:'+_0x526a0b['id'],_0x526a0b),_0x5600f5&&_0x5600f5['url']&&this['fire']('load:url:'+_0x5600f5['url'],_0x526a0b),_0x526a0b['fire']('load',_0x526a0b);},_0x23b34a=_0x2ae03e=>{if(_0x2ae03e instanceof Array?_0x526a0b['resources']=_0x2ae03e:_0x526a0b['resource']=_0x2ae03e,this['_loader']['patch'](_0x526a0b,this),_0x526a0b['type']==='bundle'){const _0x65e3ff=_0x526a0b['data']['assets'];for(let _0x1c1c6b=0x1c0c+0x1c3*-0xe+0x362*-0x1;_0x1c1c6b<_0x65e3ff['length'];_0x1c1c6b++){const _0x3a70ae=this['_idToAsset']['get'](_0x65e3ff[_0x1c1c6b]);_0x3a70ae&&!_0x3a70ae['loaded']&&this['load'](_0x3a70ae,{'force':!(-0x2*0x584+0x1c43+0xb*-0x191)});}_0x526a0b['resource']['loaded']?_0xf71b3():(this['fire']('load:start',_0x526a0b),this['fire']('load:start'+':'+_0x526a0b['id'],_0x526a0b),_0x5600f5&&_0x5600f5['url']&&this['fire']('load:start'+':url:'+_0x5600f5['url'],_0x526a0b),_0x526a0b['fire']('load:start',_0x526a0b),_0x526a0b['resource']['on']('load',_0xf71b3));}else _0xf71b3();},_0x1c5a27=(_0x1e04a7,_0x10c599,_0xc1a812)=>{if(_0x526a0b['loaded']=!(0x1a8*0xb+-0x10ed+-0x14b),_0x526a0b['loading']=!(0xb4f*0x2+0x23b2+-0x3a4f),_0x1e04a7)this['fire']('error',_0x1e04a7,_0x526a0b),this['fire']('error:'+_0x526a0b['id'],_0x1e04a7,_0x526a0b),_0x526a0b['fire']('error',_0x1e04a7,_0x526a0b);else{if(_0x526a0b['type']==='script'){const _0x355ece=this['_loader']['getHandler']('script');_0x355ece['_cache'][_0x526a0b['id']]&&_0x355ece['_cache'][_0x526a0b['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x355ece['_cache'][_0x526a0b['id']]),_0x355ece['_cache'][_0x526a0b['id']]=_0xc1a812;}_0x23b34a(_0x10c599);}};if(_0x5600f5||_0x526a0b['type']==='cubemap'){this['fire']('load:start',_0x526a0b),this['fire']('load:'+_0x526a0b['id']+':start',_0x526a0b),_0x526a0b['loading']=!(-0x150e*0x1+0xa16*-0x1+0x1f24*0x1);const _0x34281e=_0x526a0b['getFileUrl']();if(_0x526a0b['type']==='bundle'){const _0x357d81=_0x526a0b['data']['assets'];for(let _0x3d9107=-0x2*0x235+-0x12*0x1c7+0x2*0x1234;_0x3d9107<_0x357d81['length'];_0x3d9107++){const _0x401d27=this['_idToAsset']['get'](_0x357d81[_0x3d9107]);_0x401d27&&(_0x401d27['loaded']||_0x401d27['resource']||_0x401d27['loading']||(_0x401d27['loading']=!(-0x1*-0x200a+0x7b8+-0x27c2)));}}this['_loader']['load'](_0x34281e,_0x526a0b['type'],_0x1c5a27,_0x526a0b,_0x4c5358);}else{const _0x34db95=this['_loader']['open'](_0x526a0b['type'],_0x526a0b['data']);_0x526a0b['loaded']=!(-0x1f01+0x1843*-0x1+0x312*0x12),_0x23b34a(_0x34db95);}}['reloadInde'+'x'](_0x421a37,_0x91c10b,_0x564507){const _0x27e279=(_0x3752aa,_0x3ccf62,_0x96fe94)=>{_0x91c10b['loaded']=!(-0x814+0x3*0x67f+-0xb69),_0x91c10b['loading']=!(0x5d5*-0x5+0x1627+0x703);};return this['_loader']['load'](_0x421a37,_0x91c10b['type'],_0x27e279,_0x91c10b,_0x564507),_0x91c10b;}['loadFromUr'+'l'](_0x18c041,_0x45372e,_0x2ea606){this['loadFromUr'+'lAndFilena'+'me'](_0x18c041,null,_0x45372e,_0x2ea606);}['loadFromUr'+'lAndFilena'+'me'](_0x38f4d3,_0x2f8042,_0x1917c,_0x5da522){const _0x9cc1f3=xe['getBasenam'+'e'](_0x2f8042||_0x38f4d3),_0x380af9={'filename':_0x2f8042||_0x9cc1f3,'url':_0x38f4d3};let _0x675db5=this['getByUrl'](_0x38f4d3);if(!_0x675db5)_0x675db5=new pe(_0x9cc1f3,_0x1917c,_0x380af9),this['add'](_0x675db5);else{if(_0x675db5['loaded']){_0x5da522(_0x675db5['loadFromUr'+'lError']||null,_0x675db5);return;}}const _0x5dbe08=_0x248829=>{_0x248829['once']('load',_0x339f83=>{_0x1917c==='material'?this['_loadTextu'+'res'](_0x339f83,(_0x47615f,_0x147a48)=>{_0x5da522(_0x47615f,_0x339f83);}):_0x5da522(null,_0x339f83);}),_0x248829['once']('error',_0x223f49=>{_0x223f49&&(this['loadFromUr'+'lError']=_0x223f49),_0x5da522(_0x223f49,_0x248829);}),this['load'](_0x248829);};_0x675db5['resource']?_0x5da522(null,_0x675db5):_0x1917c==='model'?this['_loadModel'](_0x675db5,_0x5dbe08):_0x5dbe08(_0x675db5);}['_loadModel'](_0x11d688,_0x4650c2){const _0x21b13c=_0x11d688['getFileUrl'](),_0xaf3e5d=xe['getExtensi'+'on'](_0x21b13c);if(_0xaf3e5d==='.json'||_0xaf3e5d==='.glb'){const _0x1ba1c5=xe['getDirecto'+'ry'](_0x21b13c),_0x5eb2ba=xe['getBasenam'+'e'](_0x21b13c),_0x3dc97f=xe['join'](_0x1ba1c5,_0x5eb2ba['replace'](_0xaf3e5d,'.mapping.j'+'son'));this['_loader']['load'](_0x3dc97f,'json',(_0x25b8b5,_0x467bde)=>{_0x25b8b5?(_0x11d688['data']={'mapping':[]},_0x4650c2(_0x11d688)):this['_loadMater'+'ials'](_0x11d688,_0x467bde,(_0x38e639,_0x192f43)=>{_0x11d688['data']=_0x467bde,_0x4650c2(_0x11d688);});});}else _0x4650c2(_0x11d688);}['_loadMater'+'ials'](_0x2a9d96,_0x4a05bf,_0x20f000){const _0x50d14a=[];let _0x4ef1e1=-0x2436+0x2*0x4c1+0x1ab4;const _0x9d9611=(_0x36f81f,_0x5a1334)=>{this['_loadTextu'+'res'](_0x5a1334,(_0x154627,_0x4f1515)=>{_0x50d14a['push'](_0x5a1334),_0x50d14a['length']===_0x4ef1e1&&_0x20f000(null,_0x50d14a);});};for(let _0x34f913=-0x221a+0x305+0x6d*0x49;_0x34f913<_0x4a05bf['mapping']['length'];_0x34f913++){const _0x2de10f=_0x4a05bf['mapping'][_0x34f913]['path'];if(_0x2de10f){_0x4ef1e1++;const _0x1a5abd=_0x2a9d96['getAbsolut'+'eUrl'](_0x2de10f);this['loadFromUr'+'l'](_0x1a5abd,'material',_0x9d9611);}}_0x4ef1e1===-0x4*-0x5e5+0x1*-0x2fa+-0x149a&&_0x20f000(null,_0x50d14a);}['_loadTextu'+'res'](_0xb47317,_0xbac07a){const _0xcf763a=[];let _0x105308=0x1904*0x1+0x1b8d*0x1+-0x3491;const _0x4325dc=_0xb47317['data'];if(_0x4325dc['mappingFor'+'mat']!=='path'){w['warn']('Skipping:\x20'+_0xb47317['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0xbac07a(null,_0xcf763a);return;}const _0x5edb80=(_0x2ef26b,_0x7452a6)=>{_0x2ef26b&&console['error'](_0x2ef26b),_0xcf763a['push'](_0x7452a6),_0xcf763a['length']===_0x105308&&_0xbac07a(null,_0xcf763a);},_0x15b8cb=Cd;for(let _0x146b24=-0xd*-0x2b+0x5c1*0x1+-0x7f0*0x1;_0x146b24<_0x15b8cb['length'];_0x146b24++){const _0x56e892=_0x4325dc[_0x15b8cb[_0x146b24]];if(_0x56e892&&typeof _0x56e892=='string'){_0x105308++;const _0x260186=_0xb47317['getAbsolut'+'eUrl'](_0x56e892);this['loadFromUr'+'l'](_0x260186,'texture',_0x5edb80);}}_0x105308===-0xaa+-0x1*0x1caf+0x1d59&&_0xbac07a(null,_0xcf763a);}['_onTagAdd'](_0x347636,_0x4e46d4){this['_tags']['add'](_0x347636,_0x4e46d4);}['_onTagRemo'+'ve'](_0x3bc5a3,_0x590239){this['_tags']['remove'](_0x3bc5a3,_0x590239);}['_onNameCha'+'nge'](_0x6feee7,_0xd2fd66,_0x30c2eb){if(this['_nameToAss'+'et']['has'](_0x30c2eb)){const _0x19a8ac=this['_nameToAss'+'et']['get'](_0x30c2eb);_0x19a8ac['delete'](_0x6feee7),_0x19a8ac['size']===0x2351+-0xfa2+-0x13af*0x1&&this['_nameToAss'+'et']['delete'](_0x30c2eb);}this['_nameToAss'+'et']['has'](_0x6feee7['name'])||this['_nameToAss'+'et']['set'](_0x6feee7['name'],new Set()),this['_nameToAss'+'et']['get'](_0x6feee7['name'])['add'](_0x6feee7);}['findByTag'](..._0x4bbfc8){return this['_tags']['find'](_0x4bbfc8);}['filter'](_0x10d404){return Array['from'](this['_assets'])['filter'](_0x384879=>_0x10d404(_0x384879));}['find'](_0x503fcc,_0x20193e){const _0x49e9dd=this['_nameToAss'+'et']['get'](_0x503fcc);if(!_0x49e9dd)return null;for(const _0x41c77b of _0x49e9dd)if(!_0x20193e||_0x41c77b['type']===_0x20193e)return _0x41c77b;return null;}['findAll'](_0x81e6a0,_0x5438e8){const _0x64746c=this['_nameToAss'+'et']['get'](_0x81e6a0);if(!_0x64746c)return[];const _0x4fcef6=Array['from'](_0x64746c);return _0x5438e8?_0x4fcef6['filter'](_0x557f80=>_0x557f80['type']===_0x5438e8):_0x4fcef6;}}h(mn,'EVENT_LOAD','load'),h(mn,'EVENT_ADD','add'),h(mn,'EVENT_REMO'+'VE','remove'),h(mn,'EVENT_ERRO'+'R','error');class UC{constructor(_0x3efb32){h(this,'_idToBundl'+'e',new Map()),h(this,'_assetToBu'+'ndles',new Map()),h(this,'_urlsToBun'+'dles',new Map()),h(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x3efb32,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x2d74e7){if(_0x2d74e7['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x2d74e7['id'],_0x2d74e7),this['_assets']['on']('load:start'+':'+_0x2d74e7['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x2d74e7['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x2d74e7['id'],this['_onBundleE'+'rror'],this);const _0x365900=_0x2d74e7['data']['assets'];for(let _0x48e4e8=-0x13fb+0x1b7f*-0x1+-0x76*-0x67;_0x48e4e8<_0x365900['length'];_0x48e4e8++)this['_indexAsse'+'tInBundle'](_0x365900[_0x48e4e8],_0x2d74e7);}else this['_assetToBu'+'ndles']['has'](_0x2d74e7['id'])&&this['_indexAsse'+'tFileUrls'](_0x2d74e7);}['_unbindAss'+'etEvents'](_0x433f54){this['_assets']['off']('load:start'+':'+_0x433f54,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x433f54,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x433f54,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x777b0f,_0x41aed6){let _0x12bb38=this['_assetToBu'+'ndles']['get'](_0x777b0f);_0x12bb38||(_0x12bb38=new Set(),this['_assetToBu'+'ndles']['set'](_0x777b0f,_0x12bb38)),_0x12bb38['add'](_0x41aed6);const _0x24a521=this['_assets']['get'](_0x777b0f);_0x24a521&&this['_indexAsse'+'tFileUrls'](_0x24a521);}['_indexAsse'+'tFileUrls'](_0x548e58){const _0x2afa53=this['_getAssetF'+'ileUrls'](_0x548e58);if(_0x2afa53)for(let _0x4d5cb8=-0x9d*-0xd+0x1*-0x1cde+-0x3*-0x6f7;_0x4d5cb8<_0x2afa53['length'];_0x4d5cb8++){const _0x4054b4=this['_assetToBu'+'ndles']['get'](_0x548e58['id']);_0x4054b4&&this['_urlsToBun'+'dles']['set'](_0x2afa53[_0x4d5cb8],_0x4054b4);}}['_getAssetF'+'ileUrls'](_0x38fa75){let _0x1a0ba3=_0x38fa75['getFileUrl']();if(!_0x1a0ba3)return null;_0x1a0ba3=_0x1a0ba3['split']('?')[-0x13*-0x1e5+0x15db+0xb92*-0x5];const _0x27ba45=[_0x1a0ba3];if(_0x38fa75['type']==='font'){const _0x3e8cd6=_0x38fa75['data']['info']['maps']['length'];for(let _0x331a9c=0x2f6*-0xc+0x4f4+0x1e95*0x1;_0x331a9c<_0x3e8cd6;_0x331a9c++)_0x27ba45['push'](_0x1a0ba3['replace']('.png',_0x331a9c+'.png'));}return _0x27ba45;}['_onAssetRe'+'move'](_0x4706c3){if(_0x4706c3['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x4706c3['id']),this['_unbindAss'+'etEvents'](_0x4706c3['id']);const _0x325f9e=_0x4706c3['data']['assets'];for(let _0x239720=-0x4bd*-0x1+-0x43a*-0x6+0x605*-0x5;_0x239720<_0x325f9e['length'];_0x239720++){const _0x12e593=this['_assetToBu'+'ndles']['get'](_0x325f9e[_0x239720]);if(_0x12e593&&(_0x12e593['delete'](_0x4706c3),_0x12e593['size']===0x1c07+-0x1f34+0x1*0x32d)){this['_assetToBu'+'ndles']['delete'](_0x325f9e[_0x239720]);for(const [_0x17b53b,_0x368a91]of this['_urlsToBun'+'dles'])_0x368a91===_0x12e593&&this['_urlsToBun'+'dles']['delete'](_0x17b53b);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x4706c3['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x4706c3['id']))return;this['_assetToBu'+'ndles']['delete'](_0x4706c3['id']);const _0x2fe58c=this['_getAssetF'+'ileUrls'](_0x4706c3);if(!_0x2fe58c)return;for(let _0x303538=0x2265+0x49*-0xa+0x143*-0x19;_0x303538<_0x2fe58c['length'];_0x303538++)this['_urlsToBun'+'dles']['delete'](_0x2fe58c[_0x303538]);}}['_onBundleL'+'oadStart'](_0x5c845a){_0x5c845a['resource']['on']('add',(_0x369885,_0x2fcdaa)=>{const _0xc4a2d1=this['_fileReque'+'sts']['get'](_0x369885);if(_0xc4a2d1){for(let _0x24fa67=-0x2c*0x7b+0xa2d+0xaf7;_0x24fa67<_0xc4a2d1['length'];_0x24fa67++)_0xc4a2d1[_0x24fa67](null,_0x2fcdaa);this['_fileReque'+'sts']['delete'](_0x369885);}});}['_onBundleL'+'oad'](_0x16632b){if(!_0x16632b['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x16632b['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x5532cd,_0x495ca6]of this['_fileReque'+'sts']){const _0x24d5a9=this['_urlsToBun'+'dles']['get'](_0x5532cd);if(!_0x24d5a9||!_0x24d5a9['has'](_0x16632b))continue;const _0x2b5a3a=decodeURIComponent(_0x5532cd);let _0x5836ad,_0x2aacc3;if(_0x16632b['resource']['has'](_0x2b5a3a))_0x2aacc3=_0x16632b['resource']['get'](_0x2b5a3a);else{if(_0x16632b['resource']['loaded'])_0x5836ad='Bundle\x20'+_0x16632b['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x5532cd;else continue;}for(let _0x5bea9d=0x2ab*0xb+-0x1632+-0x1*0x727;_0x5bea9d<_0x495ca6['length'];_0x5bea9d++)_0x495ca6[_0x5bea9d](_0x5836ad,_0x5836ad||_0x2aacc3);this['_fileReque'+'sts']['delete'](_0x5532cd);}}['_onBundleE'+'rror'](_0x3baf0a){for(const [_0x612a3d,_0x9f27c6]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x612a3d)){for(let _0x87dcc3=-0x20a1+0x1c3d+-0x464*-0x1;_0x87dcc3<_0x9f27c6['length'];_0x87dcc3++)_0x9f27c6[_0x87dcc3](_0x3baf0a);this['_fileReque'+'sts']['delete'](_0x612a3d);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0xf454f5){const _0x2bc802=this['_urlsToBun'+'dles']['get'](_0xf454f5);if(!_0x2bc802)return null;let _0x436d71=null;for(const _0x2307fc of _0x2bc802){if(_0x2307fc['loaded']&&_0x2307fc['resource'])return _0x2307fc;_0x2307fc['loading']&&(_0x436d71=_0x2307fc);}return _0x436d71;}['listBundle'+'sForAsset'](_0x3c42b3){const _0x440368=this['_assetToBu'+'ndles']['get'](_0x3c42b3['id']);return _0x440368?Array['from'](_0x440368):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x43a250){return this['_urlsToBun'+'dles']['has'](_0x43a250);}['urlIsLoade'+'dOrLoading'](_0x5ab288){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x5ab288);}['loadUrl'](_0x3f4a10,_0xaac1f4){const _0x37c8de=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x3f4a10);if(!_0x37c8de){_0xaac1f4('URL\x20'+_0x3f4a10+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x37c8de['loaded']){const _0x2f97fb=decodeURIComponent(_0x3f4a10);if(_0x37c8de['resource']['has'](_0x2f97fb)){_0xaac1f4(null,_0x37c8de['resource']['get'](_0x2f97fb));return;}else{if(_0x37c8de['resource']['loaded']){_0xaac1f4('Bundle\x20'+_0x37c8de['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x3f4a10);return;}}}let _0x2040ee=this['_fileReque'+'sts']['get'](_0x3f4a10);_0x2040ee||(_0x2040ee=[],this['_fileReque'+'sts']['set'](_0x3f4a10,_0x2040ee)),_0x2040ee['push'](_0xaac1f4);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x5adc0e of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x5adc0e);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class BC extends me{constructor(){super(),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'joint'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'zone'),this['list']=[];}['add'](_0x58a417){const _0x4ab12a=_0x58a417['id'];if(this[_0x4ab12a])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x4ab12a+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x4ab12a]=_0x58a417,this['list']['push'](_0x58a417);}['remove'](_0x322e5c){const _0x1457b9=_0x322e5c['id'];if(!this[_0x1457b9])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x1457b9+('\x27\x20register'+'ed'));delete this[_0x1457b9];const _0x7b7526=this['list']['indexOf'](this[_0x1457b9]);_0x7b7526!==-(-0x1*-0x14cf+-0x4*0x70f+0x76e)&&this['list']['splice'](_0x7b7526,0x2d1*0xb+0xea4+-0x2d9e);}['destroy'](){this['off']();for(let _0x46373a=0x1*0x1555+-0x10f*-0x19+-0xe*0x36a;_0x46373a<this['list']['length'];_0x46373a++)this['list'][_0x46373a]['destroy']();}}class gu extends me{constructor(){super(...arguments),h(this,'_index',new Map()),h(this,'_loaded',!(-0x72e*-0x3+-0x5*0x2d4+-0x765));}['addFile'](_0x569a02,_0x2b187d){this['_index']['has'](_0x569a02)||(this['_index']['set'](_0x569a02,_0x2b187d),this['fire']('add',_0x569a02,_0x2b187d));}['has'](_0x381602){return this['_index']['has'](_0x381602);}['get'](_0x17f364){return this['_index']['get'](_0x17f364)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x51e8f6){!_0x51e8f6||this['_loaded']||(this['_loaded']=!(-0x43a+-0x1fd5+-0x3*-0xc05),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}h(gu,'EVENT_ADD','add'),h(gu,'EVENT_LOAD','load');class zC extends me{constructor(_0x131d8c,_0x49afed=''){super(),h(this,'headerSize',0x1c19*-0x1+-0x15a0+0x33b9),h(this,'paddingSiz'+'e',-0xf70+0x1*0xc7f+0x4f1),h(this,'bytesRead',-0x2e1*0xc+0x8*-0x1af+0x3004),h(this,'bytesRecei'+'ved',0x3*-0x7e2+0x1d2b+0x1*-0x585),h(this,'headerRead',!(0x255f+-0xf5*0x1d+-0x6b*0x17)),h(this,'reader',null),h(this,'data',new Uint8Array(-0x183c+0x97*0x9+0x12ed)),h(this,'decoder',null),h(this,'prefix',''),h(this,'fileName',''),h(this,'fileSize',0x16*-0x15c+-0x1de1+0x3bc9),h(this,'fileType',''),h(this,'ustarForma'+'t',''),(this['prefix']=_0x49afed||'',this['reader']=_0x131d8c['body']['getReader'](),this['reader']['read']()['then'](_0x4b821d=>{this['pump'](_0x4b821d['done'],_0x4b821d['value']);})['catch'](_0xe3877=>{this['fire']('error',_0xe3877);}));}['pump'](_0x41b042,_0x33be32){if(_0x41b042)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x33be32['byteLength'];const _0x5cd045=new Uint8Array(this['data']['length']+_0x33be32['length']);for(_0x5cd045['set'](this['data']),_0x5cd045['set'](_0x33be32,this['data']['length']),this['data']=_0x5cd045;this['readFile'](););return this['reader']['read']()['then'](_0x57280b=>{this['pump'](_0x57280b['done'],_0x57280b['value']);})['catch'](_0x1b51d2=>{this['fire']('error',_0x1b51d2);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(0x2*0xc2+-0x1*0x13ed+0x1269);const _0x32096e=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x3aeca6=this['decoder']['decode'](_0x32096e);if(this['fileName']=_0x3aeca6['substring'](0x22be+0x1*0x1d05+-0x3fc3*0x1,0x14c9+-0xd0a+-0x75b)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x3aeca6['substring'](0x1*-0x1ba6+-0x1471*0x1+-0x3093*-0x1,-0x1*0x1b60+-0x1*-0x12d5+0x913),0x1d8c+0x21e*0xb+-0x34ce),this['fileType']=_0x3aeca6['substring'](-0x872*-0x3+-0xadb+0x43*-0x35,0x1da+-0x9dc+0x89f),this['ustarForma'+'t']=_0x3aeca6['substring'](0xb7*0x1e+-0x8f2+-0xb7f,-0x24f*-0xd+0x2c7*-0x5+-0xf19),this['ustarForma'+'t']['indexOf']('ustar')!==-(0x21fb+-0x1*0xcb5+-0x1545)){const _0x2c6672=_0x3aeca6['substring'](-0x156d+-0x10cc+0x2792,0x2*0xdf1+0x3*-0x871+-0x9b*0x1)['replace'](/\0/g,'');_0x2c6672['length']>0x1ec8+-0x2e*-0xc4+-0x4200&&(this['fileName']=_0x2c6672['trim']()+this['fileName']['trim']());}this['bytesRead']+=0x1*-0x192b+-0x221a+0x3d45*0x1;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(0x29*-0x9a+-0x6fd+0x7ea*0x4);if(this['fileType']===''||this['fileType']==='0'){const _0xddd46=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x4e3bcb={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0xddd46};this['fire']('file',_0x4e3bcb);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(0x7de*-0x2+0x1665+0x6*-0x11c);const _0x3d573a=this['bytesRead']%this['paddingSiz'+'e'];return _0x3d573a!==-0x65b*0x4+0x147+-0x373*-0x7&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x3d573a),!(-0x1*-0x123b+0x433+-0x9*0x27e);}return!(0x1099+0xbea*0x1+-0xb2*0x29);}}class Qe{constructor(_0x204849,_0x390241){h(this,'handlerTyp'+'e',''),h(this,'_app'),h(this,'_maxRetrie'+'s',0xbf6+0x1663*0x1+-0x3d1*0x9),(this['_app']=_0x204849,this['handlerTyp'+'e']=_0x390241);}set['maxRetries'](_0x586ce1){this['_maxRetrie'+'s']=_0x586ce1;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x4634e5,_0x14db57,_0x460139){}['open'](_0x9f30ce,_0x1a51d4,_0xbe2e19){return _0x1a51d4;}['patch'](_0x34086e,_0x32701f){}}class VC extends Qe{constructor(_0x5940bd){super(_0x5940bd,'bundle'),this['_assets']=_0x5940bd['assets'];}['_fetchRetr'+'ies'](_0x4d6c82,_0x25eed0,_0x26788f=-0x169f+-0xe75*0x1+0x2514){return new Promise((_0x3b88a2,_0x3cb6da)=>{const _0x4ceee7=()=>{fetch(_0x4d6c82,_0x25eed0)['then'](_0x3b88a2)['catch'](_0x5e5cdf=>{_0x26788f++,_0x26788f<this['maxRetries']?(w['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x26788f),_0x4ceee7()):_0x3cb6da(_0x5e5cdf);});};_0x4ceee7();});}['load'](_0x1ca774,_0x568a26){typeof _0x1ca774=='string'&&(_0x1ca774={'load':_0x1ca774,'original':_0x1ca774}),this['_fetchRetr'+'ies'](_0x1ca774['load'],{'mode':'cors'},this['maxRetries'])['then'](_0xf7323a=>{const _0x15e0e7=new gu();_0x568a26(null,_0x15e0e7);const _0xeecc6=new zC(_0xf7323a,this['_assets']['prefix']);_0xeecc6['on']('file',_0x489992=>{_0x15e0e7['addFile'](_0x489992['name'],_0x489992['data']);}),_0xeecc6['on']('done',()=>{_0x15e0e7['loaded']=!(0x1*0x2173+-0x1916+0x1*-0x85d);}),_0xeecc6['on']('error',_0x270c9e=>{w['error'](_0x270c9e),_0x568a26(_0x270c9e);});})['catch'](_0x2e9dbc=>{w['error'](_0x2e9dbc),_0x568a26(_0x2e9dbc);});}['open'](_0x147617,_0x56f06b){return _0x56f06b;}}class Cn{constructor(_0x3efeda){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x3efeda;}['addHandler'](_0x2fd91a,_0x14b606){this['_handlers'][_0x2fd91a]=_0x14b606,_0x14b606['_loader']=this;}['removeHand'+'ler'](_0x217c77){delete this['_handlers'][_0x217c77];}['getHandler'](_0x14a3ac){return this['_handlers'][_0x14a3ac];}static['makeKey'](_0x864e97,_0x1ba534){return _0x864e97+'-'+_0x1ba534;}['load'](_0x11a4a6,_0x39a74c,_0x3f08b5,_0xe1695b,_0xa1d510){var _0x4cbc5c;const _0x15b3ac=this['_handlers'][_0x39a74c];if(!_0x15b3ac){const _0x3da0bd='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x39a74c+('\x27\x20when\x20loa'+'ding\x20[')+_0x11a4a6+']';w['errorOnce'](_0x3da0bd),_0x3f08b5(_0x3da0bd);return;}if(!_0x11a4a6){this['_loadNull'](_0x15b3ac,_0x3f08b5,_0xe1695b);return;}const _0x50008b=Cn['makeKey'](_0x11a4a6,_0x39a74c);if(this['_requests'][_0x50008b])this['_requests'][_0x50008b]['push'](_0x3f08b5);else{this['_requests'][_0x50008b]=[_0x3f08b5];const _0x3ce313=this,_0x4574ea=function(_0x16f485,_0x41c6c1){if(_0x16f485){_0x3ce313['_onFailure'](_0x50008b,_0x16f485);return;}if(_0x41c6c1['load']instanceof DataView){if(_0x15b3ac['openBinary']){if(!_0x3ce313['_requests'][_0x50008b])return;try{const _0xa53e90=_0x15b3ac['openBinary'](_0x41c6c1['load']);_0x3ce313['_onSuccess'](_0x50008b,_0xa53e90);}catch(_0x2632e6){_0x3ce313['_onFailure'](_0x50008b,_0x2632e6);}return;}_0x41c6c1['load']=URL['createObje'+'ctURL'](new Blob([_0x41c6c1['load']])),_0xe1695b&&(_0xe1695b['urlObject']&&URL['revokeObje'+'ctURL'](_0xe1695b['urlObject']),_0xe1695b['urlObject']=_0x41c6c1['load']);}_0x15b3ac['load'](_0x41c6c1,(_0x1bb22,_0xfd1f53,_0x5b0295)=>{if(_0x3ce313['_requests'][_0x50008b]){if(_0x1bb22){_0x3ce313['_onFailure'](_0x50008b,_0x1bb22);return;}try{_0x3ce313['_onSuccess'](_0x50008b,_0x15b3ac['open'](_0x41c6c1['original'],_0xfd1f53,_0xe1695b),_0x5b0295);}catch(_0x167931){_0x3ce313['_onFailure'](_0x50008b,_0x167931);}}},_0xe1695b);},_0x33da96=_0x11a4a6['split']('?')[-0x402*0x2+-0x205+0x1*0xa09];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x33da96)&&!(_0xa1d510&&_0xa1d510['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x33da96)){const _0x144300=this['_app']['bundles']['listBundle'+'sForAsset'](_0xe1695b);let _0x49c4ad;_0xa1d510&&_0xa1d510['bundlesFil'+'ter']&&(_0x49c4ad=_0xa1d510['bundlesFil'+'ter'](_0x144300)),_0x49c4ad||(_0x144300==null||_0x144300['sort']((_0x51f1e1,_0x5ba081)=>_0x51f1e1['file']['size']-_0x5ba081['file']['size']),_0x49c4ad=_0x144300==null?void(-0x1869*-0x1+0x36*-0xab+0x3*0x3e3):_0x144300[0x23f1+-0x24bb+0xca]),_0x49c4ad&&((_0x4cbc5c=this['_app']['assets'])==null||_0x4cbc5c['load'](_0x49c4ad));}this['_app']['bundles']['loadUrl'](_0x33da96,(_0x1fd122,_0x7e9c88)=>{_0x4574ea(_0x1fd122,{'load':_0x7e9c88,'original':_0x33da96});});}else _0x4574ea(null,{'load':_0x11a4a6,'original':_0xe1695b&&_0xe1695b['file']['filename']||_0x11a4a6});}}['_loadNull'](_0x1acfc5,_0x19babd,_0x4efba6){const _0x334103=function(_0x4f12b3,_0x443ee4,_0x35c263){if(_0x4f12b3)_0x19babd(_0x4f12b3);else try{_0x19babd(null,_0x1acfc5['open'](null,_0x443ee4,_0x4efba6),_0x35c263);}catch(_0x56b1ae){_0x19babd(_0x56b1ae);}};_0x1acfc5['load'](null,_0x334103,_0x4efba6);}['_onSuccess'](_0x5325ba,_0xd0571f,_0x42e08a){for(let _0xf9a013=-0x18*-0xc7+-0x2*-0xc5+-0x1432;_0xf9a013<this['_requests'][_0x5325ba]['length'];_0xf9a013++)this['_requests'][_0x5325ba][_0xf9a013](null,_0xd0571f,_0x42e08a);delete this['_requests'][_0x5325ba];}['_onFailure'](_0x349818,_0x3a3609){if(console['error'](_0x3a3609),this['_requests'][_0x349818]){for(let _0x1a7bac=-0x894+-0x48*0x5c+0xf*0x24c;_0x1a7bac<this['_requests'][_0x349818]['length'];_0x1a7bac++)this['_requests'][_0x349818][_0x1a7bac](_0x3a3609);delete this['_requests'][_0x349818];}}['open'](_0xa80fe5,_0x216d90){const _0x353e0e=this['_handlers'][_0xa80fe5];return _0x353e0e?_0x353e0e['open'](null,_0x216d90):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0xa80fe5),_0x216d90);}['patch'](_0x1aa40a,_0x17a148){const _0x466822=this['_handlers'][_0x1aa40a['type']];if(!_0x466822){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x1aa40a['type']);return;}_0x466822['patch']&&_0x466822['patch'](_0x1aa40a,_0x17a148);}['clearCache'](_0x451e3f,_0x12f6c9){const _0x56b049=Cn['makeKey'](_0x451e3f,_0x12f6c9);delete this['_cache'][_0x56b049];}['getFromCac'+'he'](_0x52301e,_0x297ffc){const _0x4ed067=Cn['makeKey'](_0x52301e,_0x297ffc);if(this['_cache'][_0x4ed067])return this['_cache'][_0x4ed067];}['enableRetr'+'y'](_0x17da69=0x224e+-0x1d1e*0x1+-0x52b){_0x17da69=Math['max'](0x239c+-0xdd1+-0x15cb,_0x17da69)||-0x26a0+0x7d7*0x1+0x6f*0x47;for(const _0x2087c3 in this['_handlers'])this['_handlers'][_0x2087c3]['maxRetries']=_0x17da69;}['disableRet'+'ry'](){for(const _0x9ffc05 in this['_handlers'])this['_handlers'][_0x9ffc05]['maxRetries']=-0x159b+0xfbb*0x1+0x4*0x178;}['destroyReq'+'uests'](){this['_requests']={};}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class GC{['_validate'](_0x1f449f){if(!_0x1f449f['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x1f449f['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x1f449f['header']['version']!==-0x1*0x17f3+-0x1*0x1a33+-0x1*-0x3227)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x1f449f['data']){if(!Array['isArray'](_0x1f449f['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x5f1acf=-0x15e5+0xcc7+0x2*0x48f,_0x54e9c3=_0x1f449f['data']['length'];_0x5f1acf<_0x54e9c3;_0x5f1acf++){const _0x39b124=_0x1f449f['data'][_0x5f1acf];if(!_0x39b124['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x5f1acf+('].info\x22\x20fi'+'eld'));if(!_0x39b124['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x5f1acf+('].info.loc'+'ale\x22\x20field'));if(typeof _0x39b124['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x5f1acf+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x39b124['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x5f1acf+('].messages'+'\x22\x20field'));}}['parse'](_0x259713){return this['_validate'](_0x259713),_0x259713['data'];}}const Gh=class Gh extends me{constructor(_0x18bc49){super(),this['locale']=Ph,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x18bc49,this['_assets']=[],this['_parser']=new GC();}set['assets'](_0x1f476d){const _0x9891a0={};for(let _0x241987=-0xf47*-0x2+-0x1acb+0x3c3*-0x1,_0x2a3474=_0x1f476d['length'];_0x241987<_0x2a3474;_0x241987++){const _0x54e5a7=_0x1f476d[_0x241987]instanceof pe?_0x1f476d[_0x241987]['id']:_0x1f476d[_0x241987];_0x9891a0[_0x54e5a7]=!(0xa4e+-0x790+-0x2be);}let _0x56ce7a=this['_assets']['length'];for(;_0x56ce7a--;){const _0x2fa0da=this['_assets'][_0x56ce7a];if(!_0x9891a0[_0x2fa0da]){this['_app']['assets']['off']('add:'+_0x2fa0da,this['_onAssetAd'+'d'],this);const _0x7b39e6=this['_app']['assets']['get'](_0x2fa0da);_0x7b39e6&&this['_onAssetRe'+'move'](_0x7b39e6),this['_assets']['splice'](_0x56ce7a,-0x1a5*-0x8+-0x1*0x623+0x704*-0x1);}}for(const _0x151405 in _0x9891a0){const _0x3bdd6f=parseInt(_0x151405,-0x24ed*-0x1+0x122a+-0x370d);if(this['_assets']['indexOf'](_0x3bdd6f)!==-(-0x4ab+-0x3*-0x26a+-0x292))continue;this['_assets']['push'](_0x3bdd6f);const _0x4ab37b=this['_app']['assets']['get'](_0x3bdd6f);_0x4ab37b?this['_onAssetAd'+'d'](_0x4ab37b):this['_app']['assets']['once']('add:'+_0x3bdd6f,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0xcf1ae3){if(this['_locale']===_0xcf1ae3)return;let _0x909281=Oi(_0xcf1ae3);if(_0x909281==='in'&&(_0x909281='id',_0xcf1ae3=LC(_0xcf1ae3,_0x909281),this['_locale']===_0xcf1ae3))return;const _0x5ec0a1=this['_locale'];this['_locale']=_0xcf1ae3,this['_lang']=_0x909281,this['_pluralFn']=Tf(this['_lang']),this['fire'](Gh['EVENT_CHAN'+'GE'],_0xcf1ae3,_0x5ec0a1);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0xc65320,_0x4f883e){return Fv(_0xc65320,_0x4f883e);}['findAvaila'+'bleLocale'](_0x2c8e64){if(this['_translati'+'ons'][_0x2c8e64])return _0x2c8e64;const _0x90809e=Oi(_0x2c8e64);return this['_findFallb'+'ackLocale'](_0x2c8e64,_0x90809e);}['getText'](_0x3c60f8,_0x3d50f3){let _0x480978=_0x3c60f8,_0x80a55b;_0x3d50f3||(_0x3d50f3=this['_locale'],_0x80a55b=this['_lang']);let _0x513cec=this['_translati'+'ons'][_0x3d50f3];return _0x513cec||(_0x80a55b||(_0x80a55b=Oi(_0x3d50f3)),_0x3d50f3=this['_findFallb'+'ackLocale'](_0x3d50f3,_0x80a55b),_0x513cec=this['_translati'+'ons'][_0x3d50f3]),_0x513cec&&_0x513cec['hasOwnProp'+'erty'](_0x3c60f8)&&(_0x480978=_0x513cec[_0x3c60f8],Array['isArray'](_0x480978)&&(_0x480978=_0x480978[-0x3a+0x1*-0xae1+-0x1*-0xb1b]),_0x480978==null&&(_0x480978=_0x3c60f8)),_0x480978;}['getPluralT'+'ext'](_0x343242,_0x1d4204,_0x1eb80c){let _0x49e6f3=_0x343242,_0x3cf5ff,_0x395ef2;_0x1eb80c?(_0x3cf5ff=Oi(_0x1eb80c),_0x395ef2=Tf(_0x3cf5ff)):(_0x1eb80c=this['_locale'],_0x3cf5ff=this['_lang'],_0x395ef2=this['_pluralFn']);let _0x3c64ae=this['_translati'+'ons'][_0x1eb80c];if(_0x3c64ae||(_0x1eb80c=this['_findFallb'+'ackLocale'](_0x1eb80c,_0x3cf5ff),_0x3cf5ff=Oi(_0x1eb80c),_0x395ef2=Tf(_0x3cf5ff),_0x3c64ae=this['_translati'+'ons'][_0x1eb80c]),_0x3c64ae&&_0x3c64ae[_0x343242]&&_0x395ef2){const _0x3ba34f=_0x395ef2(_0x1d4204);_0x49e6f3=_0x3c64ae[_0x343242][_0x3ba34f],_0x49e6f3==null&&(_0x49e6f3=_0x343242);}return _0x49e6f3;}['addData'](_0x2a67c3){let _0x36f8cc;try{_0x36f8cc=this['_parser']['parse'](_0x2a67c3);}catch(_0x1cf6e9){console['error'](_0x1cf6e9);return;}for(let _0x7f1acc=0x1*-0x87c+-0x3*-0xb6d+-0x5d*0x47,_0x3e0b27=_0x36f8cc['length'];_0x7f1acc<_0x3e0b27;_0x7f1acc++){const _0x10cfd2=_0x36f8cc[_0x7f1acc],_0x2c49bd=_0x10cfd2['info']['locale'],_0x357e0f=_0x10cfd2['messages'];if(!this['_translati'+'ons'][_0x2c49bd]){this['_translati'+'ons'][_0x2c49bd]={};const _0x515f40=Oi(_0x2c49bd);this['_available'+'Langs'][_0x515f40]||(this['_available'+'Langs'][_0x515f40]=_0x2c49bd);}Object['assign'](this['_translati'+'ons'][_0x2c49bd],_0x357e0f),this['fire']('data:add',_0x2c49bd,_0x357e0f);}}['removeData'](_0x3ce7f9){let _0x2a3b1a;try{_0x2a3b1a=this['_parser']['parse'](_0x3ce7f9);}catch(_0x44988d){console['error'](_0x44988d);return;}for(let _0x447a31=-0x1*-0x1da3+-0x41*-0x1a+-0x243d,_0x1fa192=_0x2a3b1a['length'];_0x447a31<_0x1fa192;_0x447a31++){const _0x41f15d=_0x2a3b1a[_0x447a31],_0x3bde38=_0x41f15d['info']['locale'],_0x3a2fe7=this['_translati'+'ons'][_0x3bde38];if(!_0x3a2fe7)continue;const _0x3ffe4c=_0x41f15d['messages'];for(const _0xf4a6c7 in _0x3ffe4c)delete _0x3a2fe7[_0xf4a6c7];Object['keys'](_0x3a2fe7)['length']===0x58c*-0x4+0x2619+-0xfe9&&(delete this['_translati'+'ons'][_0x3bde38],delete this['_available'+'Langs'][Oi(_0x3bde38)]),this['fire']('data:remov'+'e',_0x3bde38,_0x3ffe4c);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x4ed465,_0x517852){let _0x51cf27=Mh[_0x4ed465];return _0x51cf27&&this['_translati'+'ons'][_0x51cf27]||(_0x51cf27=Mh[_0x517852],_0x51cf27&&this['_translati'+'ons'][_0x51cf27])||(_0x51cf27=this['_available'+'Langs'][_0x517852],_0x51cf27&&this['_translati'+'ons'][_0x51cf27])?_0x51cf27:Ph;}['_onAssetAd'+'d'](_0x353657){_0x353657['on']('load',this['_onAssetLo'+'ad'],this),_0x353657['on']('change',this['_onAssetCh'+'ange'],this),_0x353657['on']('remove',this['_onAssetRe'+'move'],this),_0x353657['on']('unload',this['_onAssetUn'+'load'],this),_0x353657['resource']&&this['_onAssetLo'+'ad'](_0x353657);}['_onAssetLo'+'ad'](_0x587136){this['addData'](_0x587136['resource']);}['_onAssetCh'+'ange'](_0x2fb0d){_0x2fb0d['resource']&&this['addData'](_0x2fb0d['resource']);}['_onAssetRe'+'move'](_0x5bf1a4){_0x5bf1a4['off']('load',this['_onAssetLo'+'ad'],this),_0x5bf1a4['off']('change',this['_onAssetCh'+'ange'],this),_0x5bf1a4['off']('remove',this['_onAssetRe'+'move'],this),_0x5bf1a4['off']('unload',this['_onAssetUn'+'load'],this),_0x5bf1a4['resource']&&this['removeData'](_0x5bf1a4['resource']),this['_app']['assets']['once']('add:'+_0x5bf1a4['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x3c7a26){_0x3c7a26['resource']&&this['removeData'](_0x3c7a26['resource']);}};h(Gh,'EVENT_CHAN'+'GE','change');let wa=Gh;class HC extends me{constructor(_0xaf128d){super(),h(this,'_scripts',{}),h(this,'_list',[]),h(this,'_scriptSch'+'emas',new Map()),this['app']=_0xaf128d;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x56ca57,_0x34ddcf){_0x34ddcf&&this['_scriptSch'+'emas']['set'](_0x56ca57,_0x34ddcf);}['getSchema'](_0x2b2af8){return this['_scriptSch'+'emas']['get'](_0x2b2af8);}['add'](_0x2ff29){const _0x101612=_0x2ff29['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x101612)?(setTimeout(()=>{if(_0x2ff29['prototype']['swap']){const _0x5dc3b3=this['_scripts'][_0x101612],_0x281ee3=this['_list']['indexOf'](_0x5dc3b3);this['_list'][_0x281ee3]=_0x2ff29,this['_scripts'][_0x101612]=_0x2ff29,this['fire']('swap',_0x101612,_0x2ff29),this['fire']('swap:'+_0x101612,_0x2ff29);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x101612+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(-0x1*-0xdf5+0x1f10+0x1*-0x2d04)):(this['_scripts'][_0x101612]=_0x2ff29,this['_list']['push'](_0x2ff29),this['fire']('add',_0x101612,_0x2ff29),this['fire']('add:'+_0x101612,_0x2ff29),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x101612)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0xff9d65=this['app']['systems']['script']['_component'+'s'];let _0x21b903;const _0x599ac4=[],_0x1d9f6a=[];for(_0xff9d65['loopIndex']=-0x550*0x1+0x1705+-0x11b5;_0xff9d65['loopIndex']<_0xff9d65['length'];_0xff9d65['loopIndex']++){const _0x293f46=_0xff9d65['items'][_0xff9d65['loopIndex']];if(_0x293f46['_scriptsIn'+'dex'][_0x101612]&&_0x293f46['_scriptsIn'+'dex'][_0x101612]['awaiting']){_0x293f46['_scriptsDa'+'ta']&&_0x293f46['_scriptsDa'+'ta'][_0x101612]&&(_0x21b903=_0x293f46['_scriptsDa'+'ta'][_0x101612]['attributes']);const _0x196b3f=_0x293f46['create'](_0x101612,{'preloading':!(-0x1369+-0xd*-0x293+-0xe0e),'ind':_0x293f46['_scriptsIn'+'dex'][_0x101612]['ind'],'attributes':_0x21b903});_0x196b3f&&_0x599ac4['push'](_0x196b3f);for(const _0x4a8cbb of _0x293f46['scripts'])_0x293f46['initialize'+'Attributes'](_0x4a8cbb);}}for(let _0x427ff7=0x5a8+0x24fa+-0x2aa2;_0x427ff7<_0x599ac4['length'];_0x427ff7++)_0x599ac4[_0x427ff7]['enabled']&&(_0x599ac4[_0x427ff7]['_initializ'+'ed']=!(0x1625*-0x1+-0x136b+0x5*0x850),_0x1d9f6a['push'](_0x599ac4[_0x427ff7]),_0x599ac4[_0x427ff7]['initialize']&&_0x599ac4[_0x427ff7]['initialize']());for(let _0x4b2eea=-0x62f+0x227e+0x1c4f*-0x1;_0x4b2eea<_0x1d9f6a['length'];_0x4b2eea++)!_0x1d9f6a[_0x4b2eea]['enabled']||_0x1d9f6a[_0x4b2eea]['_postIniti'+'alized']||(_0x1d9f6a[_0x4b2eea]['_postIniti'+'alized']=!(-0xbf5+-0xc54*0x1+0x1849),_0x1d9f6a[_0x4b2eea]['postInitia'+'lize']&&_0x1d9f6a[_0x4b2eea]['postInitia'+'lize']());}),!(0x1e8*-0x9+0x1*-0x1147+0x226f));}['remove'](_0x2eeb5f){let _0x1fa86d=_0x2eeb5f,_0x2759b3=_0x2eeb5f;if(typeof _0x2759b3!='string'?_0x2759b3=_0x1fa86d['__name']:_0x1fa86d=this['get'](_0x2759b3),this['get'](_0x2759b3)!==_0x1fa86d)return!(0x3*-0x7ed+0x116*-0xe+0x26fc);delete this['_scripts'][_0x2759b3];const _0x1f92ca=this['_list']['indexOf'](_0x1fa86d);return this['_list']['splice'](_0x1f92ca,-0x3*0xb29+0x2308+-0x18c),this['fire']('remove',_0x2759b3,_0x1fa86d),this['fire']('remove:'+_0x2759b3,_0x1fa86d),!(-0x117+-0x1f14+0x87*0x3d);}['get'](_0x174f61){return this['_scripts'][_0x174f61]||null;}['has'](_0x29912a){if(typeof _0x29912a=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x29912a);if(!_0x29912a)return!(-0x1227+-0x2*-0xb3d+0xe*-0x4f);const _0x4c9570=_0x29912a['__name'];return this['_scripts'][_0x4c9570]===_0x29912a;}['list'](){return this['_list'];}}const WC=(_0x9f3858,_0x2f8ab2)=>_0x9f3858['constructo'+'r']['order']-_0x2f8ab2['constructo'+'r']['order'],$C=_0x430891=>_0x430891['sort'](WC),po=[],Nv=[],XC=()=>Nv['pop']()??[],Ag=_0x422897=>{_0x422897['length']=-0xe75+-0x16f9+0x1*0x256e,Nv['push'](_0x422897);},Hh=class Hh extends Ie{constructor(_0x1b2d1b,_0x1c0128=Ms()){super(_0x1b2d1b),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'gsplat'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'c',{}),h(this,'_app'),h(this,'_destroyin'+'g',!(-0x2428+0x26da+-0x35*0xd)),h(this,'_guid',null),h(this,'_template',!(0x1d3f+-0x23e2+0x6a4)),(w['assert'](_0x1c0128,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x1c0128);}['addCompone'+'nt'](_0x550e89,_0x2b7285){const _0x592750=this['_app']['systems'][_0x550e89];return _0x592750?this['c'][_0x550e89]?(w['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x550e89+('\x27\x20componen'+'t')),null):_0x592750['addCompone'+'nt'](this,_0x2b7285):(w['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x550e89+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x55a6c3){const _0x1cce6f=this['_app']['systems'][_0x55a6c3];if(!_0x1cce6f){w['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x55a6c3+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x55a6c3]){w['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x55a6c3+('\x27\x20componen'+'t'));return;}_0x1cce6f['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x1829b3){const _0x43b1b5=this['findOne'](_0x41c171=>{var _0x16fe07;return(_0x16fe07=_0x41c171['c'])==null?void(0x5cf+-0x13e5+-0x4b2*-0x3):_0x16fe07[_0x1829b3];});return _0x43b1b5&&_0x43b1b5['c'][_0x1829b3];}['findCompon'+'ents'](_0x54e230){return this['find'](_0x3d7a9b=>{var _0xdd5862;return(_0xdd5862=_0x3d7a9b['c'])==null?void(0x195e+-0x2*0xaed+-0x24*0x19):_0xdd5862[_0x54e230];})['map'](_0x25767a=>_0x25767a['c'][_0x54e230]);}['findScript'](_0x33aa4b){const _0x2127cf=this['findOne'](_0x3f3c6e=>{var _0x379b8e,_0x16db5c;return(_0x16db5c=(_0x379b8e=_0x3f3c6e['c'])==null?void(0x1*-0xdc9+0x1ec7+0x1b3*-0xa):_0x379b8e['script'])==null?void(0xa*0x209+-0x312*0x8+0x436):_0x16db5c['has'](_0x33aa4b);});return _0x2127cf==null?void(0x1755+-0x1ab*0x7+-0x2ea*0x4):_0x2127cf['c']['script']['get'](_0x33aa4b);}['findScript'+'s'](_0x3b8d66){return this['find'](_0x2e4554=>{var _0x2c030c,_0x4489dc;return(_0x4489dc=(_0x2c030c=_0x2e4554['c'])==null?void(-0x4d6+0x1*-0x2515+0x29eb):_0x2c030c['script'])==null?void(-0x411+-0x104*-0x4+-0x1*-0x1):_0x4489dc['has'](_0x3b8d66);})['map'](_0xbc4cb4=>_0xbc4cb4['c']['script']['get'](_0x3b8d66));}['getGuid'](){return this['_guid']||this['setGuid'](Q0['create']()),this['_guid'];}['setGuid'](_0x57a261){const _0x54af21=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x54af21[this['_guid']],this['_guid']=_0x57a261,_0x54af21[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x1c2402,_0x49373e){let _0x31bb66=!(-0x1b72*0x1+-0x22a5+-0xf86*-0x4);_0x1c2402===this&&po['length']===-0x16c*-0xa+0x1be+-0xff6&&(_0x31bb66=!(0x2*0x6d+0x112d+-0x1207)),_0x1c2402['_beingEnab'+'led']=!(-0x1a61+0x23b+0x1826),_0x1c2402['_onHierarc'+'hyStateCha'+'nged'](_0x49373e),_0x1c2402['_onHierarc'+'hyStatePos'+'tChanged']&&po['push'](_0x1c2402);const _0xc0a421=_0x1c2402['_children'];for(let _0x4145f0=0x4*-0x471+0x255d+0xad*-0x1d,_0x449451=_0xc0a421['length'];_0x4145f0<_0x449451;_0x4145f0++)_0xc0a421[_0x4145f0]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0xc0a421[_0x4145f0],_0x49373e);if(_0x1c2402['_beingEnab'+'led']=!(-0x4*-0x334+0x1bfd+-0x28cc),_0x31bb66){for(let _0x523cfe=-0x689+0x17f6*0x1+0x3*-0x5cf;_0x523cfe<po['length'];_0x523cfe++)po[_0x523cfe]['_onHierarc'+'hyStatePos'+'tChanged']();po['length']=-0x2ba*-0xb+0x16b*0xc+-0x2f02;}}['_onHierarc'+'hyStateCha'+'nged'](_0x8b4580){super['_onHierarc'+'hyStateCha'+'nged'](_0x8b4580);const _0xe66490=this['_getSorted'+'Components']();for(let _0x3fe5b3=-0x1be*-0x11+0x111b*-0x1+-0xc83;_0x3fe5b3<_0xe66490['length'];_0x3fe5b3++){const _0x10be92=_0xe66490[_0x3fe5b3];_0x10be92['enabled']&&(_0x8b4580?_0x10be92['onEnable']():_0x10be92['onDisable']());}Ag(_0xe66490);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x4d0d3c=this['_getSorted'+'Components']();for(let _0x6972a=0x1e1*0x1+0x903+-0x22*0x52;_0x6972a<_0x4d0d3c['length'];_0x6972a++)_0x4d0d3c[_0x6972a]['onPostStat'+'eChange']();Ag(_0x4d0d3c);}['findByGuid'](_0x28fd59){if(this['_guid']===_0x28fd59)return this;const _0x27699b=this['_app']['_entityInd'+'ex'][_0x28fd59];return _0x27699b&&(_0x27699b===this||_0x27699b['isDescenda'+'ntOf'](this))?_0x27699b:null;}['destroy'](){this['_destroyin'+'g']=!(-0x128*-0x7+-0x1fee+0x153*0x12);for(const _0x4d258e in this['c'])this['c'][_0x4d258e]['enabled']=!(-0x1186+0x1431+-0x2aa);for(const _0x14695f in this['c'])this['c'][_0x14695f]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(0x24d0+-0x13ea+-0x10e5);}['clone'](){const _0x155d4f={},_0x252efc=this['_cloneRecu'+'rsively'](_0x155d4f);return _0x155d4f[this['getGuid']()]=_0x252efc,kv(this,this,_0x252efc,_0x155d4f),_0x252efc;}['_getSorted'+'Components'](){const _0x3a2650=this['c'],_0x1fcf39=XC();let _0x20e569=0x12*0x182+0x2*0xb45+-0x2*0x18d7;for(const _0x2d0a02 in _0x3a2650)if(_0x3a2650['hasOwnProp'+'erty'](_0x2d0a02)){const _0x369b86=_0x3a2650[_0x2d0a02];_0x20e569|=_0x369b86['constructo'+'r']['order']!==-0x1f68+0x1d2f+-0x239*-0x1,_0x1fcf39['push'](_0x369b86);}return _0x20e569&&_0x1fcf39['length']>-0x308+0x1db3*-0x1+0x1a3*0x14&&$C(_0x1fcf39),_0x1fcf39;}['_cloneRecu'+'rsively'](_0x2943d6){const _0x521572=new this['constructo'+'r'](void(0x20bb+0x12b8*-0x2+0xf1*0x5),this['_app']);super['_cloneInte'+'rnal'](_0x521572);for(const _0x4e9665 in this['c'])this['c'][_0x4e9665]['system']['cloneCompo'+'nent'](this,_0x521572);for(let _0x39d6e8=-0xe2a+0xcde+0x14c;_0x39d6e8<this['_children']['length'];_0x39d6e8++){const _0x4a91ba=this['_children'][_0x39d6e8];if(_0x4a91ba instanceof Hh){const _0x2cdf13=_0x4a91ba['_cloneRecu'+'rsively'](_0x2943d6);_0x521572['addChild'](_0x2cdf13),_0x2943d6[_0x4a91ba['getGuid']()]=_0x2cdf13;}}return _0x521572;}};h(Hh,'EVENT_DEST'+'ROY','destroy');let lt=Hh;function kv(_0xf6c9c,_0x2cbc64,_0xa20988,_0x3b4370){if(_0x2cbc64 instanceof lt){const _0x504c46=_0x2cbc64['c'];for(const _0x4a30e1 in _0x504c46){const _0x45aa8b=_0x504c46[_0x4a30e1],_0x50bdc9=_0x45aa8b['system']['getPropert'+'iesOfType']('entity');for(let _0xd4fc1b=-0x4f2*0x1+0x1849+-0x1357,_0x3bb2e4=_0x50bdc9['length'];_0xd4fc1b<_0x3bb2e4;_0xd4fc1b++){const _0xc505c0=_0x50bdc9[_0xd4fc1b]['name'],_0x47af8b=_0x45aa8b[_0xc505c0];if(!!_0xf6c9c['findByGuid'](_0x47af8b)){const _0x56d196=_0x3b4370[_0x47af8b]['getGuid']();_0x56d196?_0xa20988['c'][_0x4a30e1][_0xc505c0]=_0x56d196:w['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x504c46['script']&&_0xa20988['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x504c46['script'],_0x3b4370),_0x504c46['render']&&_0xa20988['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x504c46['render'],_0x3b4370),_0x504c46['button']&&_0xa20988['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x504c46['button'],_0x3b4370),_0x504c46['scrollview']&&_0xa20988['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x504c46['scrollview'],_0x3b4370),_0x504c46['scrollbar']&&_0xa20988['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x504c46['scrollbar'],_0x3b4370),_0x504c46['anim']&&_0xa20988['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x504c46['anim'],_0x3b4370);const _0x25ece3=_0x2cbc64['children']['filter'](_0x1fc5b8=>_0x1fc5b8 instanceof lt),_0x2d1a5b=_0xa20988['children']['filter'](_0x333008=>_0x333008 instanceof lt);for(let _0xee29c5=0x22b4+-0x1c3*0x7+-0xf9*0x17,_0x581ea3=_0x25ece3['length'];_0xee29c5<_0x581ea3;_0xee29c5++)kv(_0xf6c9c,_0x25ece3[_0xee29c5],_0x2d1a5b[_0xee29c5],_0x3b4370);}}class Cg{constructor(_0x5bafad,_0x414b98){h(this,'name'),h(this,'url'),h(this,'data',null),h(this,'_loading',!(0x1a4b+0x3e*-0x1c+-0x1382)),h(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x5bafad,this['url']=_0x414b98);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class qC{constructor(_0x1513eb){h(this,'_app'),h(this,'_list',[]),h(this,'_index',{}),h(this,'_urlIndex',{}),this['_app']=_0x1513eb;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x56d05b,_0x20700c){if(this['_index']['hasOwnProp'+'erty'](_0x56d05b))return w['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x56d05b),!(0x10be+0x2359+-0x3416);const _0x3bb626=new Cg(_0x56d05b,_0x20700c),_0x3e2f14=this['_list']['push'](_0x3bb626);return this['_index'][_0x3bb626['name']]=_0x3e2f14-(-0x25a1+0xc49+0x1959),this['_urlIndex'][_0x3bb626['url']]=_0x3e2f14-(-0x1*0x4bd+0x1ce4+-0x2*0xc13),!(-0x3*-0x829+-0x973+-0x94*0x1a);}['find'](_0x10a0dc){return this['_index']['hasOwnProp'+'erty'](_0x10a0dc)?this['_list'][this['_index'][_0x10a0dc]]:null;}['findByUrl'](_0x2a2916){return this['_urlIndex']['hasOwnProp'+'erty'](_0x2a2916)?this['_list'][this['_urlIndex'][_0x2a2916]]:null;}['remove'](_0x64e324){if(this['_index']['hasOwnProp'+'erty'](_0x64e324)){const _0x10b3c0=this['_index'][_0x64e324];let _0x100355=this['_list'][_0x10b3c0];delete this['_urlIndex'][_0x100355['url']],delete this['_index'][_0x64e324],this['_list']['splice'](_0x10b3c0,0x1*0x2392+-0x1*0x2504+0x1*0x173);for(let _0x36cdfe=-0x470+0x1b1e+-0x2*0xb57;_0x36cdfe<this['_list']['length'];_0x36cdfe++)_0x100355=this['_list'][_0x36cdfe],this['_index'][_0x100355['name']]=_0x36cdfe,this['_urlIndex'][_0x100355['url']]=_0x36cdfe;}}['_loadScene'+'Data'](_0x345c0d,_0x2e63c2,_0x30c05a){const _0x4e1c7b=this['_app'];let _0x13ede6=_0x345c0d;if(typeof _0x345c0d=='string'&&(_0x345c0d=this['findByUrl'](_0x13ede6)||this['find'](_0x13ede6)||new Cg('Untitled',_0x13ede6)),_0x13ede6=_0x345c0d['url'],!_0x13ede6){_0x30c05a('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x345c0d['loaded']){_0x30c05a(null,_0x345c0d);return;}_0x4e1c7b['assets']&&_0x4e1c7b['assets']['prefix']&&!jn['test'](_0x13ede6)&&(_0x13ede6=xe['join'](_0x4e1c7b['assets']['prefix'],_0x13ede6)),_0x345c0d['_onLoadedC'+'allbacks']['push'](_0x30c05a),_0x345c0d['_loading']||_0x4e1c7b['loader']['getHandler']('hierarchy')['load'](_0x13ede6,(_0x6eb707,_0x2942c9)=>{_0x345c0d['data']=_0x2942c9,_0x345c0d['_loading']=!(0x1*0x10a5+0x1594+-0x131c*0x2);for(let _0x2852bc=0x7cc+-0x458+-0x374;_0x2852bc<_0x345c0d['_onLoadedC'+'allbacks']['length'];_0x2852bc++)_0x345c0d['_onLoadedC'+'allbacks'][_0x2852bc](_0x6eb707,_0x345c0d);_0x2e63c2||(_0x345c0d['data']=null),_0x345c0d['_onLoadedC'+'allbacks']['length']=-0x1909+-0x1a5d+0x3366;}),_0x345c0d['_loading']=!(-0x149*0x13+-0x83*-0x1b+0xa9a);}['loadSceneD'+'ata'](_0x361e42,_0x12a6e4){this['_loadScene'+'Data'](_0x361e42,!(0x575*0x6+-0xe15+-0x119*0x11),_0x12a6e4);}['unloadScen'+'eData'](_0x20924f){typeof _0x20924f=='string'&&(_0x20924f=this['findByUrl'](_0x20924f)),_0x20924f&&(_0x20924f['data']=null);}['_loadScene'+'Hierarchy'](_0x2bd4bd,_0x101975,_0x89fedb){this['_loadScene'+'Data'](_0x2bd4bd,!(-0x677+0x1225+-0xbad),(_0x464d4c,_0x965c78)=>{if(_0x464d4c){_0x89fedb&&_0x89fedb(_0x464d4c);return;}_0x101975&&_0x101975(_0x965c78);const _0x1c865f=this['_app'],_0x1fe899=()=>{const _0xacbb8c=_0x1c865f['loader']['getHandler']('hierarchy');_0x1c865f['systems']['script']['preloading']=!(-0x1*0x157d+-0x34*0x6b+0x8a5*0x5);const _0x1e5f06=_0xacbb8c['open'](_0x965c78['url'],_0x965c78['data']);_0x1c865f['systems']['script']['preloading']=!(-0x1879+0x6fc+0x117e),_0x1c865f['loader']['clearCache'](_0x965c78['url'],'hierarchy'),_0x1c865f['root']['addChild'](_0x1e5f06),_0x1c865f['systems']['fire']('initialize',_0x1e5f06),_0x1c865f['systems']['fire']('postInitia'+'lize',_0x1e5f06),_0x1c865f['systems']['fire']('postPostIn'+'itialize',_0x1e5f06),_0x89fedb&&_0x89fedb(null,_0x1e5f06);};_0x1c865f['_preloadSc'+'ripts'](_0x965c78['data'],_0x1fe899);});}['loadSceneH'+'ierarchy'](_0xd44db3,_0x4df419){this['_loadScene'+'Hierarchy'](_0xd44db3,null,_0x4df419);}['loadSceneS'+'ettings'](_0x253833,_0x307fc9){this['_loadScene'+'Data'](_0x253833,!(-0x8d8+0x61d*-0x5+-0x2*-0x13b5),(_0xb97d0f,_0x125315)=>{_0xb97d0f?_0x307fc9&&_0x307fc9(_0xb97d0f):(this['_app']['applyScene'+'Settings'](_0x125315['data']['settings']),_0x307fc9&&_0x307fc9(null));});}['changeScen'+'e'](_0xa909b,_0x110e8b){const _0x175568=this['_app'],_0x131c49=_0x39ecd6=>{const {children:_0x276c41}=_0x175568['root'];for(;_0x276c41['length'];)_0x276c41[-0x12a8+-0x2c4*0x2+-0x3*-0x810]['destroy']();_0x175568['applyScene'+'Settings'](_0x39ecd6['data']['settings']);};this['_loadScene'+'Hierarchy'](_0xa909b,_0x131c49,_0x110e8b);}['loadScene'](_0x1800e2,_0x2b60db){const _0x28ecd7=this['_app'],_0x35fc3f=_0x28ecd7['loader']['getHandler']('scene');_0x28ecd7['assets']&&_0x28ecd7['assets']['prefix']&&!jn['test'](_0x1800e2)&&(_0x1800e2=xe['join'](_0x28ecd7['assets']['prefix'],_0x1800e2)),_0x35fc3f['load'](_0x1800e2,(_0x5063fb,_0x13c54a)=>{if(_0x5063fb)_0x2b60db&&_0x2b60db(_0x5063fb);else{const _0xd9aceb=()=>{_0x28ecd7['systems']['script']['preloading']=!(-0x148+-0x78+0x1c0);const _0x35da45=_0x35fc3f['open'](_0x1800e2,_0x13c54a),_0x576a49=this['findByUrl'](_0x1800e2);_0x576a49&&!_0x576a49['loaded']&&(_0x576a49['data']=_0x13c54a),_0x28ecd7['systems']['script']['preloading']=!(0xdb1+-0x2457+0x16a7),_0x28ecd7['loader']['clearCache'](_0x1800e2,'scene'),_0x28ecd7['loader']['patch']({'resource':_0x35da45,'type':'scene'},_0x28ecd7['assets']),_0x28ecd7['root']['addChild'](_0x35da45['root']),_0x28ecd7['systems']['rigidbody']&&typeof Ammo<'u'&&_0x28ecd7['systems']['rigidbody']['gravity']['set'](_0x35da45['_gravity']['x'],_0x35da45['_gravity']['y'],_0x35da45['_gravity']['z']),_0x2b60db&&_0x2b60db(null,_0x35da45);};_0x28ecd7['_preloadSc'+'ripts'](_0x13c54a,_0xd9aceb);}});}}class jC{constructor(_0x4ac2f3){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x4ac2f3['_shaderSta'+'ts'],this['vram']=_0x4ac2f3['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return Ms()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x163fac;return(_0x163fac=Ms()['lightmappe'+'r'])==null?void(-0xa4d+-0x4*-0x1ea+0x2a5):_0x163fac['stats'];}get['batcher'](){const _0x9dc89d=Ms()['_batcher'];return _0x9dc89d?_0x9dc89d['_stats']:null;}}const YC='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',KC='\x0a\x0a#ifdef\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+'\x20AMBIENTSH'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20am'+'bientSH[9]'+';\x0a#endif\x0a\x0a'+'#if\x20LIT_AM'+'BIENT_SOUR'+'CE\x20==\x20ENVA'+'LATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fndef\x20ENV_'+'ATLAS\x0a\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_envAtlas'+';\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'AMBIENTSH\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20c'+'olor\x20=\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[0'+']\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[1]\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[2'+']\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[3]\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[4]\x20*\x20'+'n.x\x20*\x20n.z\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[5]\x20*\x20n'+'.z\x20*\x20n.y\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[6]\x20*\x20n.'+'y\x20*\x20n.x\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[7]\x20*\x20(3.'+'0\x20*\x20n.z\x20*\x20'+'n.z\x20-\x201.0)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[8]\x20*\x20'+'(n.x\x20*\x20n.x'+'\x20-\x20n.y\x20*\x20n'+'.y);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20processEn'+'vironment('+'max(color,'+'\x20vec3(0.0)'+'));\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_A'+'MBIENT_SOU'+'RCE\x20==\x20ENV'+'ALATLAS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dir\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+('28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw\x20=\x20tex'+'ture2D(tex'+'ture_envAt'+'las,\x20uv);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20linear\x20'+'=\x20{ambient'+'Decode}(ra'+'w);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'CONSTANT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20light'+'_globalAmb'+'ient;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),ZC='\x0a\x0a#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opyIntensi'+'ty;\x0a\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20material_'+'anisotropy'+'Rotation;\x0a'+'#endif\x0a\x0avo'+'id\x20getAnis'+'otropy()\x20{'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x200'+'.0;\x0a\x20\x20\x20\x20dA'+'nisotropyR'+'otation\x20=\x20'+'vec2(1.0,\x20'+'0.0);\x0a\x0a#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20m'+'aterial_an'+'isotropyIn'+'tensity;\x0a\x20'+'\x20\x20\x20dAnisot'+'ropyRotati'+'on\x20=\x20mater'+'ial_anisot'+'ropyRotati'+'on;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_ANI'+'SOTROPY_TE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropyTex\x20='+'\x20texture2D'+'Bias({STD_'+'ANISOTROPY'+'_TEXTURE_N'+'AME},\x20{STD'+'_ANISOTROP'+'Y_TEXTURE_'+'UV},\x20textu'+'reBias).rg'+'b;\x0a\x20\x20\x20\x20dAn'+'isotropy\x20*'+'=\x20anisotro'+'pyTex.b;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20a'+'nisotropyR'+'otationFro'+'mTex\x20=\x20ani'+'sotropyTex'+'.rg\x20*\x202.0\x20'+'-\x20vec2(1.0'+');\x0a\x20\x20\x20\x20mat'+'2\x20rotation'+'Matrix\x20=\x20m'+'at2(dAniso'+'tropyRotat'+'ion.x,\x20dAn'+'isotropyRo'+'tation.y,\x20'+'-dAnisotro'+'pyRotation'+'.y,\x20dAniso'+'tropyRotat'+'ion.x);\x0a\x20\x20'+'\x20\x20dAnisotr'+'opyRotatio'+'n\x20=\x20rotati'+'onMatrix\x20*'+'\x20anisotrop'+'yRotationF'+'romTex;\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20dA'+'nisotropy\x20'+'=\x20clamp(dA'+'nisotropy,'+'\x200.0,\x201.0)'+';\x0a}\x0a',QC='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_aoInten'+'sity;\x0a#end'+'if\x0a\x0a#ifdef'+'\x20STD_AODET'+'AIL_TEXTUR'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22deta'+'ilModesPS\x22'+'\x0a#endif\x0a\x0av'+'oid\x20getAO('+')\x20{\x0a\x20\x20\x20\x20dA'+'o\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'aoBase\x20=\x20t'+'exture2DBi'+'as({STD_AO'+'_TEXTURE_N'+'AME},\x20{STD'+'_AO_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_AO_TE'+'XTURE_CHAN'+'NEL};\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20aoDetail\x20'+'=\x20texture2'+'DBias({STD'+'_AODETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'AODETAIL_T'+'EXTURE_UV}'+',\x20textureB'+'ias).{STD_'+'AODETAIL_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'oBase\x20=\x20de'+'tailMode_{'+'STD_AODETA'+'IL_DETAILM'+'ODE}(vec3('+'aoBase),\x20v'+'ec3(aoDeta'+'il)).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_AO_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(STD_A'+'O_TEXTURE)'+'\x20||\x20define'+'d(STD_AO_V'+'ERTEX)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAo\x20='+'\x20mix(1.0,\x20'+'dAo,\x20mater'+'ial_aoInte'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',JC='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',e1='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0av'+'oid\x20occlud'+'eSpecular('+'float\x20glos'+'s,\x20float\x20a'+'o,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir)\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'AO\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_OCCLUDE_'+'SPECULAR_F'+'LOAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20specOcc'+'\x20=\x20mix(1.0'+',\x20ao,\x20mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20specOc'+'c\x20=\x20ao;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_OCC'+'LUDE_SPECU'+'LAR\x20==\x20GLO'+'SSDEPENDEN'+'T\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20approx'+'imated\x20spe'+'cular\x20occl'+'usion\x20from'+'\x20AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20http:'+'//research'+'.tri-ace.c'+'om/Data/ce'+'dec2011_Re'+'altimePBR_'+'Implementa'+'tion_e.ppt'+'x\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01\x20'+'*\x20specPow)'+'\x20-\x201.0\x20+\x20a'+'o);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20sp'+'ecOcc,\x20mat'+'erial_occl'+'udeSpecula'+'rIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20*=\x20specO'+'cc;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sReflecti'+'on\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a'),t1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001\x20'+'?\x20(1.0/255'+'.0)\x20:\x200.0)'+';\x0a\x20\x20\x20\x20}\x0a',s1='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'ambientBak'+'eOcclusion'+'Contrast\x20+'+'\x201.0,\x200.0)'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'vec3(ambie'+'ntBakeOccl'+'usionBrigh'+'tness);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20sa'+'turate(dDi'+'ffuseLight'+');\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20dAmbie'+'ntLight;\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHTM'+'AP_RGBM\x0a\x20\x20'+'\x20\x20//\x20encod'+'e\x20to\x20RGBM\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20dDiffus'+'eLight;\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor.rgb\x20='+'\x20pow(gl_Fr'+'agColor.rg'+'b,\x20vec3(0.'+'5));\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20/=\x208'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.a\x20=\x20clamp'+'(\x20max(\x20max'+'(\x20gl_FragC'+'olor.r,\x20gl'+'_FragColor'+'.g\x20),\x20max('+'\x20gl_FragCo'+'lor.b,\x201.0'+'\x20/\x20255.0\x20)'+'\x20),\x200.0,1.'+'0\x20);\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.a\x20=\x20ceil'+'(gl_FragCo'+'lor.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20/=\x20gl'+'_FragColor'+'.a;\x0a#else\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(dDiffu'+'seLight,\x201'+'.0);\x0a#endi'+'f\x0a',i1='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',r1='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',a1='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',n1='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',o1='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20weigh'+'t[{SAMPLES'+'}];\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20m'+'oments\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vUv0\x20-'+'\x20pixelOffs'+'et\x20*\x20(floa'+'t({SAMPLES'+'})\x20*\x200.5);'+'\x0a\x20\x20\x20\x20for\x20('+'int\x20i\x20=\x200;'+'\x20i\x20<\x20{SAMP'+'LES};\x20i++)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20c\x20=\x20'+'texture2D('+'source,\x20uv'+'\x20+\x20pixelOf'+'fset\x20*\x20flo'+'at(i));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20GAUSS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20moments\x20'+'+=\x20c.xyz\x20*'+'\x20weight[i]'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'ments\x20+=\x20c'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20*=\x201.0\x20/'+'\x20float({SA'+'MPLES});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(momen'+'ts.x,\x20mome'+'nts.y,\x20mom'+'ents.z,\x201.'+'0);\x0a}\x0a',l1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oat;\x0a\x0avoid'+'\x20getClearC'+'oat()\x20{\x0a\x20\x20'+'\x20\x20ccSpecul'+'arity\x20=\x20ma'+'terial_cle'+'arCoat;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_CLEARC'+'OAT_TEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias({ST'+'D_CLEARCOA'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_CL'+'EARCOAT_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20*=\x20satu'+'rate(vVert'+'exColor.{S'+'TD_CLEARCO'+'AT_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',c1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oatGloss;\x0a'+'\x0avoid\x20getC'+'learCoatGl'+'ossiness()'+'\x20{\x0a\x20\x20\x20\x20ccG'+'lossiness\x20'+'=\x20material'+'_clearCoat'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_CLEAR'+'COATGLOSS_'+'TEXTURE_NA'+'ME},\x20{STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_CLEAR'+'COATGLOSS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_CLEAR'+'COATGLOSS_'+'INVERT\x0a\x20\x20\x20'+'\x20ccGlossin'+'ess\x20=\x201.0\x20'+'-\x20ccGlossi'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',h1='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0aunif'+'orm\x20float\x20'+'material_c'+'learCoatBu'+'mpiness;\x0a#'+'endif\x0a\x0avoi'+'d\x20getClear'+'CoatNormal'+'()\x20{\x0a#ifde'+'f\x20STD_CLEA'+'RCOATNORMA'+'L_TEXTURE\x0a'+'\x20\x20\x20\x20vec3\x20n'+'ormalMap\x20='+'\x20{STD_CLEA'+'RCOATNORMA'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_UV}'+',\x20textureB'+'ias));\x0a\x20\x20\x20'+'\x20normalMap'+'\x20=\x20mix(vec'+'3(0.0,\x200.0'+',\x201.0),\x20no'+'rmalMap,\x20m'+'aterial_cl'+'earCoatBum'+'piness);\x0a\x20'+'\x20\x20\x20ccNorma'+'lW\x20=\x20norma'+'lize(dTBN\x20'+'*\x20normalMa'+'p);\x0a#else\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20dVer'+'texNormalW'+';\x0a#endif\x0a}'+'\x0a',d1='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.x\x20=\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20t'+'ileOffset.'+'y\x20=\x20dir.z\x20'+'<\x200.0\x20?\x201.'+'0\x20:\x200.0;\x0a\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if(vAbs.y'+'\x20>=\x20vAbs.x'+')\x20{\x20\x20//\x20to'+'p\x20index\x202,'+'\x20bottom\x20in'+'dex\x203\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.y\x20<\x200.0\x20?'+'\x203.0\x20:\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x,\x20dir.y\x20'+'<\x200.0\x20?\x20-d'+'ir.z\x20:\x20dir'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.x\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.y\x20=\x20dir.'+'y\x20<\x200.0\x20?\x20'+'1.0\x20:\x200.0;'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'\x20=\x200.5\x20/\x20v'+'Abs.x;\x0a\x20\x20\x20'+('\x20\x20\x20\x20\x20uv\x20=\x20'+'vec2(dir.x'+'\x20<\x200.0\x20?\x20d'+'ir.z\x20:\x20-di'+'r.z,\x20-dir.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20uv'+'\x20*\x20ma\x20+\x200.'+'5;\x0a}\x0a\x0a//\x20c'+'onverts\x20un'+'normalized'+'\x20direction'+'\x20vector\x20to'+'\x20a\x20texture'+'\x20coordinat'+'e\x20for\x20a\x20cu'+'bemap\x20face'+'\x20stored\x20wi'+'thin\x20textu'+'re\x20atlas\x20d'+'escribed\x20b'+'y\x20the\x20view'+'port\x0avec2\x20'+'getCubemap'+'AtlasCoord'+'inates(con'+'st\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+'dgePixels,'+'\x20float\x20sha'+'dowTexture'+'Resolution'+',\x20const\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20faceIndex'+';\x0a\x20\x20\x20\x20vec2'+'\x20tileOffse'+'t;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapFac'+'eCoordinat'+'es(dir,\x20fa'+'ceIndex,\x20t'+'ileOffset)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'move\x20uv\x20co'+'ordinates\x20'+'inwards\x20in'+'side\x20to\x20co'+'mpensate\x20f'+'or\x20larger\x20'+'fov\x20when\x20r'+'endering\x20s'+'hadow\x20into'+'\x20atlas\x0a\x20\x20\x20'+'\x20float\x20atl'+'asFaceSize'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20tileSi'+'ze\x20=\x20shado'+'wTextureRe'+'solution\x20*'+'\x20atlasFace'+'Size;\x0a\x20\x20\x20\x20'+'float\x20offs'+'et\x20=\x20shado'+'wEdgePixel'+'s\x20/\x20tileSi'+'ze;\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv\x20*\x20ve'+'c2(1.0\x20-\x20o'+'ffset\x20*\x202.'+'0)\x20+\x20vec2('+'offset\x20*\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20*'+'=\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20fac'+'e\x20of\x20the\x20a')+('tlas\x20(3x3\x20'+'grid)\x0a\x20\x20\x20\x20'+'uv\x20+=\x20tile'+'Offset\x20*\x20a'+'tlasFaceSi'+'ze;\x0a\x0a\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nto\x20the\x20at'+'las\x20viewpo'+'rt\x0a\x20\x20\x20\x20uv\x20'+'+=\x20omniAtl'+'asViewport'+'.xy;\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a'),f1='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20vec4\x20co'+'okieChanne'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20mix(vec4'+'(1.0),\x20tex'+'ture2DLod('+'tex,\x20uv,\x200'+'.0),\x20inten'+'sity);\x0a\x20\x20\x20'+'\x20bool\x20isRg'+'b\x20=\x20dot(co'+'okieChanne'+'l.rgb,\x20vec'+'3(1.0))\x20=='+'\x203.0;\x0a\x20\x20\x20\x20'+'return\x20isR'+'gb\x20?\x20pixel'+'.rgb\x20:\x20vec'+'3(dot(pixe'+'l,\x20cookieC'+'hannel));\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0ave'+'c3\x20getCook'+'ie2DCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20mat4\x20'+'transform,'+'\x20vec3\x20worl'+'dPosition,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieC'+'hannel)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20p'+'rojPos\x20=\x20t'+'ransform\x20*'+'\x20vec4(worl'+'dPosition,'+'\x201.0);\x0a\x20\x20\x20'+'\x20return\x20_g'+'etCookieCl'+'ustered(TE'+'XTURE_PASS'+'(tex),\x20pro'+'jPos.xy\x20/\x20'+'projPos.w,'+'\x20intensity'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20vec4\x20coo'+'kieChannel'+',\x20float\x20sh'+'adowTextur'+'eResolutio'+'n,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20omniAtla'+'sViewport)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+('tureResolu'+'tion,\x20dir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getCoo'+'kieCluster'+'ed(TEXTURE'+'_PASS(tex)'+',\x20uv,\x20inte'+'nsity,\x20coo'+'kieChannel'+');\x0a}\x0a'),u1='\x0a\x0avec3\x20_ge'+'tShadowCoo'+'rdPerspZbu'+'ffer(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20wP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20shado'+'wMatrix\x20*\x20'+'vec4(wPos,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'yz\x20/=\x20proj'+'Pos.w;\x0a\x20\x20\x20'+'\x20return\x20pr'+'ojPos.xyz;'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20bias\x20i'+'s\x20already\x20'+'applied\x20on'+'\x20render\x0a}\x0a'+'\x0avec3\x20getS'+'hadowCoord'+'PerspZbuff'+'erNormalOf'+'fset(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20wPo'+'s\x20=\x20vPosit'+'ionW\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm,\x20vec3'+'\x20normal)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20distScale'+'\x20=\x20length('+'lightDir);'+'\x0a\x20\x20\x20\x20vec3\x20'+'wPos\x20=\x20vPo'+'sitionW\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x20/'+'/0.02\x0a\x20\x20\x20\x20'+'vec3\x20dir\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0afloa'+'t\x20getShado'+'wOmniClust'+'eredPCF1(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20omniAtla'+'sViewport,'+'\x20float\x20sha'+'dowEdgePix'+'els,\x20vec3\x20'+'lightDir)\x20'+'{\x0a\x0a\x20\x20\x20\x20flo'+'at\x20shadowT'+('extureReso'+'lution\x20=\x20s'+'hadowParam'+'s.x;\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+'lution,\x20li'+'ghtDir);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'shadowZ\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(uv,\x20sha'+'dowZ));\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF3'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF3'+'x3(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF5'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s')+('hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF5'+'x5(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a/'+'/\x20Clustere'+'d\x20Spot\x20Sam'+'pling\x20usin'+'g\x20atlas\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF1)\x0a\x0afl'+'oat\x20getSha'+'dowSpotClu'+'steredPCF1'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSha'+'dow(shadow'+'Map,\x20shado'+'wCoord);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x0af'+'loat\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF3x3'+'(SHADOWMAP'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a}\x0a\x0a#'+'endif\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x0afloa'+'t\x20getShado'+'wSpotClust'+'eredPCF5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC')+('oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a}'+'\x0a#endif\x0a'),p1='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20clu'+'sterWorldT'+'exture;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20lightsTe'+'xture;\x0a\x0a#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x20\x20\x20\x20//\x20TO'+'DO:\x20when\x20V'+'SM\x20shadow\x20'+'is\x20support'+'ed,\x20it\x20nee'+'ds\x20to\x20use\x20'+'sampler2D\x20'+'in\x20webgl2\x0a'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'DShadow\x20sh'+'adowAtlasT'+'exture;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20CLUSTER'+'_COOKIES\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20cookieAtl'+'asTexture;'+'\x0a#endif\x0a\x0au'+'niform\x20int'+'\x20clusterMa'+'xCells;\x0a\x0a/'+'/\x201.0\x20if\x20c'+'lustered\x20l'+'ighting\x20ca'+'n\x20be\x20skipp'+'ed\x20(0\x20ligh'+'ts\x20in\x20the\x20'+'clusters)\x0a'+'uniform\x20fl'+'oat\x20cluste'+'rSkip;\x0a\x0aun'+'iform\x20vec3'+'\x20clusterCe'+'llsCountBy'+'BoundsSize'+';\x0auniform\x20'+'vec3\x20clust'+'erTextureS'+'ize;\x0aunifo'+'rm\x20vec3\x20cl'+'usterBound'+'sMin;\x0aunif'+'orm\x20vec3\x20c'+'lusterBoun'+'dsDelta;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsDot;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsMax;\x0au'+'niform\x20vec'+'2\x20shadowAt'+'lasParams;'+'\x0a\x0a//\x20struc'+'ture\x20stori'+'ng\x20light\x20p'+'roperties\x20'+'of\x20a\x20clust'+'ered\x20light'+'\x0a//\x20it\x27s\x20s'+('orted\x20to\x20h'+'ave\x20all\x20ve'+'ctors\x20alig'+'ned\x20to\x204\x20f'+'loats\x20to\x20l'+'imit\x20paddi'+'ng\x0astruct\x20'+'ClusterLig'+'htData\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x2032b'+'it\x20of\x20flag'+'s\x0a\x20\x20\x20\x20uint'+'\x20flags;\x0a\x0a\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20siz'+'es\x20/\x20orien'+'tation\x0a\x20\x20\x20'+'\x20vec3\x20half'+'Width;\x0a\x0a\x20\x20'+'\x20\x20bool\x20isS'+'pot;\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20sizes\x20'+'/\x20orientat'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20halfHei'+'ght;\x0a\x0a\x20\x20\x20\x20'+'//\x20light\x20i'+'ndex\x0a\x20\x20\x20\x20i'+'nt\x20lightIn'+'dex;\x0a\x0a\x20\x20\x20\x20'+'//\x20world\x20s'+'pace\x20posit'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20positio'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20uint\x20sha'+'pe;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20direct'+'ion\x20(spot\x20'+'light\x20only'+')\x0a\x20\x20\x20\x20vec3'+'\x20direction'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20foll'+'ow\x20mode\x0a\x20\x20'+'\x20\x20bool\x20fal'+'loffModeLi'+'near;\x0a\x0a\x20\x20\x20'+'\x20//\x20color\x0a'+'\x20\x20\x20\x20vec3\x20c'+'olor;\x0a\x0a\x20\x20\x20'+'\x20//\x200.0\x20if'+'\x20the\x20light'+'\x20doesn\x27t\x20c'+'ast\x20shadow'+'s\x0a\x20\x20\x20\x20floa'+'t\x20shadowIn'+'tensity;\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20vec3\x20om'+'niAtlasVie'+'wport;\x0a\x0a\x20\x20'+'\x20\x20//\x20range'+'\x20of\x20the\x20li'+'ght\x0a\x20\x20\x20\x20fl'+'oat\x20range;'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'hannel\x20mas'+'k\x20-\x20one\x20of'+'\x20the\x20chann'+'els\x20has\x201,'+'\x20the\x20other'+'s\x20are\x200\x0a\x20\x20'+'\x20\x20vec4\x20coo'+'kieChannel'+'Mask;\x0a\x0a\x20\x20\x20'+'\x20//\x20compre'+'ssed\x20biase'+'s,\x20two\x20haf'+'-floats\x20st'+'ored\x20in\x20a\x20'+'float\x0a\x20\x20\x20\x20'+'float\x20bias'+'esData;\x0a\x0a\x20')+('\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20f'+'loat\x20angle'+'sData;\x0a\x0a\x20\x20'+'\x20\x20//\x20spot\x20'+'light\x20inne'+'r\x20and\x20oute'+'r\x20angle\x20co'+'sine\x0a\x20\x20\x20\x20f'+'loat\x20inner'+'ConeAngleC'+'os;\x0a\x20\x20\x20\x20fl'+'oat\x20outerC'+'oneAngleCo'+'s;\x0a\x0a\x20\x20\x20\x20//'+'\x20intensity'+'\x20of\x20the\x20co'+'okie\x0a\x20\x20\x20\x20f'+'loat\x20cooki'+'eIntensity'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20//flo'+'at\x20mask;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Dynamic;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Lightmappe'+'d;\x0a};\x0a\x0a//\x20'+'Note:\x20on\x20s'+'ome\x20device'+'s\x20(tested\x20'+'on\x20Pixel\x203'+'A\x20XL),\x20thi'+'s\x20matrix\x20w'+'hen\x20stored'+'\x20inside\x20th'+'e\x20light\x20st'+'ruct\x20has\x20l'+'ower\x20preci'+'sion\x20compa'+'red\x20to\x0a//\x20'+'when\x20store'+'d\x20outside,'+'\x20so\x20we\x20sto'+'re\x20it\x20outs'+'ide\x20to\x20avo'+'id\x20spot\x20sh'+'adow\x20flick'+'ering.\x20Thi'+'s\x20might\x20ne'+'ed\x20to\x20be\x20d'+'one\x20to\x20oth'+'er\x20/\x20all\x20m'+'embers\x0a//\x20'+'of\x20the\x20str'+'ucture\x20if\x20'+'further\x20si'+'milar\x20issu'+'es\x20are\x20obs'+'erved.\x0a\x0a//'+'\x20shadow\x20(s'+'pot\x20light\x20'+'only)\x20/\x20co'+'okie\x20proje'+'ction\x20matr'+'ix\x0amat4\x20li'+'ghtProject'+'ionMatrix;'+'\x0a\x0avec4\x20sam'+'pleLightTe'+'xtureF(con'+'st\x20Cluster'+'LightData\x20'+'clusterLig'+'htData,\x20in'+'t\x20index)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(lightsT'+'exture,\x20iv'+'ec2(index,'+'\x20clusterLi'+'ghtData.li'+'ghtIndex),'+'\x200);\x0a}\x0a\x0avo'+'id\x20decodeC'+'lusterLigh')+('tCore(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20flo'+'at\x20lightIn'+'dex)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20index\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.li'+'ghtIndex\x20='+'\x20int(light'+'Index);\x0a\x0a\x20'+'\x20\x20\x20//\x20samp'+'le\x20data\x20en'+'coding\x20hal'+'f-float\x20va'+'lues\x20into\x20'+'32bit\x20uint'+'s\x0a\x20\x20\x20\x20vec4'+'\x20halfData\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_COL'+'OR_ANGLES_'+'BIAS});\x0a\x0a\x20'+'\x20\x20\x20//\x20stor'+'e\x20floats\x20w'+'e\x20decode\x20l'+'ater\x20as\x20ne'+'eded\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.angl'+'esData\x20=\x20h'+'alfData.z;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.biasesDa'+'ta\x20=\x20halfD'+'ata.w;\x0a\x0a\x20\x20'+'\x20\x20//\x20decom'+'press\x20colo'+'r\x20half-flo'+'ats\x0a\x20\x20\x20\x20ve'+'c2\x20colorRG'+'\x20=\x20unpackH'+'alf2x16(fl'+'oatBitsToU'+'int(halfDa'+'ta.x));\x0a\x20\x20'+'\x20\x20vec2\x20col'+'orB_\x20=\x20unp'+'ackHalf2x1'+'6(floatBit'+'sToUint(ha'+'lfData.y))'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.color\x20='+'\x20vec3(colo'+'rRG,\x20color'+'B_.x)\x20*\x20{L'+'IGHT_COLOR'+'_DIVIDER};'+'\x0a\x0a\x20\x20\x20\x20//\x20p'+'osition\x20an'+'d\x20range,\x20f'+'ull\x20floats'+'\x0a\x20\x20\x20\x20vec4\x20'+'lightPosRa'+'nge\x20=\x20samp'+'leLightTex'+'tureF(clus'+'terLightDa'+'ta,\x20{CLUST'+'ER_TEXTURE'+'_POSITION_'+'RANGE});\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'position\x20='+'\x20lightPosR'+'ange.xyz;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.range\x20=\x20l'+'ightPosRan'+'ge.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20d'+'irection\x20&'+'\x20flags\x20dat'+'a\x0a\x20\x20\x20\x20vec4'+'\x20lightDir_'+'Flags\x20=\x20sa'+'mpleLightT'+'extureF(cl')+('usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_DIRECTI'+'ON_FLAGS})'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20direction'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.directio'+'n\x20=\x20lightD'+'ir_Flags.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x2032bit\x20fl'+'ags\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20floatBi'+'tsToUint(l'+'ightDir_Fl'+'ags.w);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sSpot\x20=\x20(c'+'lusterLigh'+'tData.flag'+'s\x20&\x20(1u\x20<<'+'\x2030u))\x20!=\x20'+'0u;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.shape'+'\x20=\x20(cluste'+'rLightData'+'.flags\x20>>\x20'+'28u)\x20&\x200x3'+'u;\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.fallof'+'fModeLinea'+'r\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2027u'+'))\x20==\x200u;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.shadowInt'+'ensity\x20=\x20f'+'loat((clus'+'terLightDa'+'ta.flags\x20>'+'>\x200u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eIntensity'+'\x20=\x20float(('+'clusterLig'+'htData.fla'+'gs\x20>>\x208u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sDynamic\x20='+'\x20(clusterL'+'ightData.f'+'lags\x20&\x20(1u'+'\x20<<\x2022u))\x20'+'!=\x200u;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.is'+'Lightmappe'+'d\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2021u'+'))\x20!=\x200u;\x0a'+'}\x0a\x0avoid\x20de'+'codeCluste'+'rLightSpot'+'(inout\x20Clu'+'sterLightD'+'ata\x20cluste'+'rLightData'+')\x20{\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20cos\x20ang'+'les\x0a\x20\x20\x20\x20ve'+'c2\x20angles\x20'+'=\x20unpackHa'+'lf2x16(flo'+'atBitsToUi'+'nt(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight')+('Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20{CLUSTER'+'_TEXTURE_P'+'ROJ_MAT_0}'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_AREA_DA'+'TA_WIDTH})'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20{C'+'LUSTER_TEX'+'TURE_AREA_'+'DATA_HEIGH'+'T}).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20{CL'+'USTER_TEXT'+'URE_PROJ_M'+'AT_0});\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_PRO'+'J_MAT_1});'+'\x0a\x20\x20\x20\x20vec4\x20'+'m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20{CLUSTE'+'R_TEXTURE_'+'PROJ_MAT_2'+'});\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight')+('Data,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'2\x20biases\x20='+'\x20unpackHal'+'f2x16(floa'+'tBitsToUin'+'t(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20extra'+'ct\x20channel'+'\x20mask\x20from'+'\x20flags\x0a\x20\x20\x20'+'\x20uint\x20cook'+'ieFlags\x20=\x20'+'(clusterLi'+'ghtData.fl'+'ags\x20>>\x2023u'+')\x20&\x200x0Fu;'+'\x20\x20//\x204bits'+',\x20each\x20bit'+'\x20enables\x20a'+'\x20channel\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'cookieChan'+'nelMask\x20=\x20'+'vec4(uvec4'+'(cookieFla'+'gs)\x20&\x20uvec'+'4(1u,\x202u,\x20'+'4u,\x208u));\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.cookieCha'+'nnelMask\x20='+'\x20step(1.0,'+'\x20clusterLi'+'ghtData.co'+'okieChanne'+'lMask);\x20\x20/'+'/\x20Normaliz'+'e\x20to\x200.0\x20o'+'r\x201.0\x0a}\x0a\x0av'+'oid\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20Cluster'+'LightData\x20'+'light,\x20\x0a\x20\x20'+'\x20\x20vec3\x20wor'+'ldNormal,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'viewDir,\x20\x0a'+'\x20\x20\x20\x20vec3\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20')+('\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20vec'+'3(1.0);\x0a\x20\x20'+'\x20\x20float\x20di'+'ffuseAtten'+'uation\x20=\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20fallof'+'fAttenuati'+'on\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20omn'+'i\x20part\x20of\x20'+'the\x20light\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ightDirW\x20='+'\x20evalOmniL'+'ight(light'+'.position)'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'ormW\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20')+('else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20=\x20get'+'FalloffLin'+'ear(light.'+'range,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20getFa'+'lloffInvSq'+'uared(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_AREALIGH'+'TS\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shape\x20!='+'\x20{LIGHTSHA'+'PE_PUNCTUA'+'L})\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20hand'+'le\x20light\x20s'+'hape\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getRec'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirW,\x20lig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'DISK})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getD'+'iskLightDi'+'ffuse(worl'+'dNormal,\x20v'+'iewDir,\x20li'+'ghtDirW,\x20l'+'ightDirNor'+'mW)\x20*\x2016.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20g'+'etLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+');\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spot'+'\x20light\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20lightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_COOK'+'IES)\x20||\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x20/\x20cookie\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shadowIn'+'tensity\x20>\x20'+'0.0\x20||\x20lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'ared\x20shado'+'w\x20/\x20cookie'+'\x20data\x20depe'+'nds\x20on\x20lig'+'ht\x20type\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightOmniAt'+'lasViewpor'+'t(light);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowAtlasPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowEdge'+'Pixels\x20=\x20s'+'hadowAtlas'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_COOKIES\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'cookie\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightCook'+'ieData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.isSp'+'ot)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookie2'+'DClustered'+'(TEXTURE_P'+'ASS(cookie'+'AtlasTextu'+'re),\x20light'+'Projection'+'Matrix,\x20vP'+'ositionW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20cookieAt'+'tenuation\x20'+'=\x20getCooki'+'eCubeClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightDirW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask,\x20sh'+'adowTextur'+'eResolutio'+'n,\x20shadowE'+'dgePixels,'+'\x20light.omn'+'iAtlasView'+'port);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20shadow\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shadow'+'Intensity\x20'+'>\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d')+('ecodeClust'+'erLightSha'+'dowData(li'+'ght);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20shadowPa'+'rams\x20=\x20vec'+'4(shadowTe'+'xtureResol'+'ution,\x20lig'+'ht.shadowN'+'ormalBias,'+'\x20light.sha'+'dowBias,\x201'+'.0\x20/\x20light'+'.range);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'isSpot)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ot\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat'+'rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F1)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CF1(SHADOW'+'MAP_PASS(s'+'hadowAtlas'+'Texture),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20de'+'fined(CLUS'+'TER_SHADOW'+'_TYPE_PCF3'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_PASS(sha'+'dowAtlasTe'+'xture),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#elif\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF5('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owCoord,\x20s'+'hadowParam')+('s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCSS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCSS(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20m'+'ix(1.0,\x20sh'+'adow,\x20ligh'+'t.shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20om'+'ni\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20d'+'ir\x20=\x20norma'+'lOffsetPoi'+'ntShadow(s'+'hadowParam'+'s,\x20light.p'+'osition,\x20l'+'ightDirW,\x20'+'lightDirNo'+'rmW,\x20geome'+'tricNormal'+');\x20\x20//\x20nor'+'malBias\x20ad'+'justed\x20for'+'\x20distance\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F1(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF3)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF3(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,')+('\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wOmniClust'+'eredPCF5(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20*=\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20areaDi'+'ffuse\x20=\x20(d'+'iffuseAtte'+'nuation\x20*\x20'+'falloffAtt'+'enuation)\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaDiffuse\x20'+'=\x20mix(area'+'Diffuse,\x20v'+'ec3(0),\x20dL'+'TCSpecFres'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20dif'+'fuse\x20-\x20it\x20'+'does\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20')+('into\x20specu'+'lar\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20a'+'reaDiffuse'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20specular'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20areaLig'+'htSpecular'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'RECT})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecular\x20=\x20g'+'etRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20area'+'LightSpecu'+'lar\x20=\x20getD'+'iskLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x20//\x20sp'+'here\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getSp'+'hereLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp'+'ecFres\x20*\x20a'+'reaLightSp'+'ecular\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x20clear'+'\x20coat\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20areaLigh'+'tSpecularC')+('C;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shape\x20'+'==\x20{LIGHTS'+'HAPE_RECT}'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getRectLig'+'htSpecular'+'(clearcoat'+'_worldNorm'+'al,\x20viewDi'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(light'+'.shape\x20==\x20'+'{LIGHTSHAP'+'E_DISK})\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'arCC\x20=\x20get'+'DiskLightS'+'pecular(cl'+'earcoat_wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x20'+'//\x20sphere\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'rCC\x20=\x20getS'+'phereLight'+'Specular(c'+'learcoat_w'+'orldNormal'+',\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20ccLTCS'+'pecFres\x20*\x20'+'areaLightS'+'pecularCC\x20'+'*\x20falloffA'+'ttenuation'+'\x20*\x20light.c'+'olor\x20\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20{\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'unctualDif'+'fuse\x20=\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'CLUSTER_AR'+'EALIGHTS)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20punctual')+('Diffuse\x20=\x20'+'mix(punctu'+'alDiffuse,'+'\x20vec3(0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20punctu'+'alDiffuse;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20and\x20cle'+'ar\x20coat\x20ar'+'e\x20material'+'\x20settings\x20'+'and\x20get\x20in'+'cluded\x20by\x20'+'a\x20define\x20b'+'ased\x20on\x20th'+'e\x20material'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20halfD'+'ir\x20=\x20norma'+'lize(-ligh'+'tDirNormW\x20'+'+\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htSpecular'+'(halfDir,\x20'+'reflection'+'Dir,\x20world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'halfDir,\x20c'+'learcoatRe'+'flectionDi'+'r,\x20clearco'+'at_worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'clearcoat_'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20g'+'etFresnelC'+'C(dot(view'+'Dir,\x20halfD'+'ir));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20getLi'+'ghtSpecula'+'r(halfDir,'+'\x20clearcoat'+'Reflection'+'Dir,\x20clear'+'coat_world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec')+('ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNormW,'+'\x20sheen_glo'+'ss)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20Wri'+'te\x20to\x20glob'+'al\x20attenua'+'tion\x20value'+'s\x20(for\x20lig'+'htmapper)\x0a'+'\x20\x20\x20\x20dAtten'+'\x20=\x20falloff'+'Attenuatio'+'n;\x0a\x20\x20\x20\x20dLi'+'ghtDirNorm'+'W\x20=\x20lightD'+'irNormW;\x0a}'+'\x0a\x0avoid\x20eva'+'luateClust'+'erLight(\x0a\x20'+'\x20\x20\x20float\x20l'+'ightIndex,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20worldNorm'+'al,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20viewDi'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20reflect'+'ionDir,\x20\x0a#'+'if\x20defined'+'(LIT_CLEAR'+'COAT)\x0a\x20\x20\x20\x20'+'vec3\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'float\x20glos'+'s,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20vec3\x20geom'+'etricNorma'+'l,\x20\x0a\x20\x20\x20\x20ma'+'t3\x20tbn,\x20\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20ve'+'c3\x20clearco'+'at_worldNo'+'rmal,\x0a\x20\x20\x20\x20'+'float\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20flo'+'at\x20sheen_g'+'loss,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escence_in'+'tensity\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'decode\x20cor'+'e\x20light\x20da'+'ta\x20from\x20te'+'xtures\x0a\x20\x20\x20'+'\x20ClusterLi'+'ghtData\x20cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(cluster'+'LightData,'+'\x20lightInde'+'x);\x0a\x0a\x20\x20\x20\x20/'+'/\x20evaluate'+'\x20light\x20if\x20'+'it\x20uses\x20ac'+'cepted\x20lig'+'ht\x20mask\x0a\x20\x20'+'\x20\x20#ifdef\x20C')+('LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20bool\x20'+'acceptLigh'+'tMask\x20=\x20cl'+'usterLight'+'Data.isDyn'+'amic;\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bool\x20a'+'cceptLight'+'Mask\x20=\x20clu'+'sterLightD'+'ata.isLigh'+'tmapped;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20if\x20(a'+'cceptLight'+'Mask)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a#end')+('if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l'+'ightCellIn')+('dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20r'+'ed\x20channel'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20l'+'ightIndex\x20'+'=\x20texelFet'+'ch(cluster'+'WorldTextu'+'re,\x20ivec2('+'int(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20clusterV'+'),\x200).x;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'tIndex\x20<=\x20'+'0.0)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20break;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20evaluateC'+'lusterLigh'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightIndex\x20'+'*\x20255.0,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel,\x0a#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cl'+'earcoat_gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sheen_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),m1='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion)\x20*\x20cl'+'earcoatSpe'+'cularity;\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20r'+'et;\x0a}\x0a',_1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}\x0a',g1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}\x0a',S1='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}\x0a',y1='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),v1='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20envBoxM'+'in;\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20envBoxMax'+';\x0a#endif\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_CUB'+'EMAP_PROJE'+'CTION\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20c'+'ubeMapRota'+'te(nrdir);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20LIT_CUBEM'+'AP_PROJECT'+'ION\x20==\x20BOX'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'nrdir\x20=\x20cu'+'beMapRotat'+'e(nrdir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20rbmax\x20'+'=\x20(envBoxM'+'ax\x20-\x20vPosi'+'tionW)\x20/\x20n'+'rdir;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20rbmin'+'max\x20=\x20mix('+'rbmin,\x20rbm'+'ax,\x20vec3(g'+'reaterThan'+'(nrdir,\x20ve'+'c3(0.0))))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20fa\x20='+'\x20min(min(r'+'bminmax.x,'+'\x20rbminmax.'+'y),\x20rbminm'+'ax.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20posonbox\x20'+'=\x20vPositio'+'nW\x20+\x20nrdir'+'\x20*\x20fa;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envBoxPos\x20'+'=\x20(envBoxM'+'in\x20+\x20envBo'+'xMax)\x20*\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20no'+'rmalize(po'+'sonbox\x20-\x20e'+'nvBoxPos);'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',x1='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',T1='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',w1='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',E1='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'Z(vec4\x20nma'+'p)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20nmap'+'.xyz\x20*\x202.0'+'\x20-\x201.0;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'(vec4\x20nmap'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20normal;'+'\x0a\x20\x20\x20\x20norma'+'l.xy\x20=\x20nma'+'p.wy\x20*\x202.0'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20normal.z'+'\x20=\x20sqrt(1.'+'0\x20-\x20clamp('+'dot(normal'+'.xy,\x20norma'+'l.xy),\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20return\x20'+'normal;\x0a}\x0a'+'\x0a#endif\x0a',b1='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0avec3\x20'+'detailMode'+'_mul(vec3\x20'+'c1,\x20vec3\x20c'+'2)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20c1\x20*'+'\x20c2;\x0a}\x0a\x0ave'+'c3\x20detailM'+'ode_add(ve'+'c3\x20c1,\x20vec'+'3\x20c2)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'1\x20+\x20c2;\x0a}\x0a'+'\x0a//\x20https:'+'//en.wikip'+'edia.org/w'+'iki/Blend_'+'modes#Scre'+'en\x0avec3\x20de'+'tailMode_s'+'creen(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x201.0'+'\x20-\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2);\x0a}\x0a\x0a/'+'/\x20https://'+'en.wikiped'+'ia.org/wik'+'i/Blend_mo'+'des#Overla'+'y\x0avec3\x20det'+'ailMode_ov'+'erlay(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(1.0\x20-\x202.0'+'\x20*\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2),\x202.0\x20'+'*\x20c1\x20*\x20c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a\x0a'+'#endif\x0a',A1='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0a#ifdef\x20'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'detailMode'+'sPS\x22\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_DIFFUS'+'E_TEXTURE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20albedoT'+'exture\x20=\x20{'+'STD_DIFFUS'+'E_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_DIF'+'FUSE_TEXTU'+'RE_NAME},\x20'+'{STD_DIFFU'+'SE_TEXTURE'+'_UV},\x20text'+'ureBias)).'+'{STD_DIFFU'+'SE_TEXTURE'+'_CHANNEL};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSEDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'albedoDeta'+'il\x20=\x20{STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_DECODE}('+'texture2DB'+'ias({STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'DETAIL_TEX'+'TURE_UV},\x20'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20*=\x20albe'+'doTexture;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSE_VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAlbedo\x20*'+'=\x20gammaCor'+'rectInput('+'saturate(v'+'VertexColo'+'r.{STD_DIF'+'FUSE_VERTE'+'X_CHANNEL}'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',C1='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_TEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20{STD_EMIS'+'SIVE_TEXTU'+'RE_DECODE}'+'(texture2D'+'Bias({STD_'+'EMISSIVE_T'+'EXTURE_NAM'+'E},\x20{STD_E'+'MISSIVE_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'EMISSIVE_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_EMISSI'+'VE_VERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.{ST'+'D_EMISSIVE'+'_VERTEX_CH'+'ANNEL}));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',P1='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),M1='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',D1='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20floa'+'t\x20atlasSiz'+'e\x20=\x20512.0;'+'\x0aconst\x20flo'+'at\x20seamSiz'+'e\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0avec2\x20ma'+'pUv(vec2\x20u'+'v,\x20vec4\x20re'+'ct)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(mix(rect'+'.x\x20+\x20seamS'+'ize,\x20rect.'+'x\x20+\x20rect.z'+'\x20-\x20seamSiz'+'e,\x20uv.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mix('+'rect.y\x20+\x20s'+'eamSize,\x20r'+'ect.y\x20+\x20re'+'ct.w\x20-\x20sea'+'mSize,\x20uv.'+'y));\x0a}\x0a\x0a//'+'\x20map\x20a\x20nor'+'malized\x20eq'+'uirect\x20UV\x20'+'and\x20roughn'+'ess\x20level\x20'+'to\x20the\x20cor'+'rect\x20atlas'+'\x20rect.\x0avec'+'2\x20mapRough'+'nessUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'0,\x201.0\x20-\x20t'+',\x20t,\x20t\x20*\x200'+'.5));\x0a}\x0a\x0a/'+'/\x20map\x20shin'+'y\x20level\x20UV'+'\x0avec2\x20mapS'+'hinyUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'1.0\x20-\x20t,\x201'+'.0\x20-\x20t,\x20t,'+'\x20t\x20*\x200.5))'+';\x0a}\x0a\x0a#endi'+'f\x0a',I1='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20float\x20sky'+'boxIntensi'+'ty;\x0a#endif'+'\x0a\x0avec3\x20pro'+'cessEnviro'+'nment(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20skybo'+'xIntensity'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',L1='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(satura'+'te(1.0\x20-\x20s'+'quare(sqrD'+'ist\x20*\x20squa'+'re(invRadi'+'us))));\x0a}\x0a'+'\x0afloat\x20get'+'FalloffInv'+'Squared(fl'+'oat\x20lightR'+'adius,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20sqrDis'+'t\x20=\x20dot(li'+'ghtDir,\x20li'+'ghtDir);\x0a\x20'+'\x20\x20\x20float\x20f'+'alloff\x20=\x201'+'.0\x20/\x20(sqrD'+'ist\x20+\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20invRadiu'+'s\x20=\x201.0\x20/\x20'+'lightRadiu'+'s;\x0a\x0a\x20\x20\x20\x20fa'+'lloff\x20*=\x201'+'6.0;\x0a\x20\x20\x20\x20f'+'alloff\x20*=\x20'+'square(sat'+'urate(1.0\x20'+'-\x20square(s'+'qrDist\x20*\x20s'+'quare(invR'+'adius))));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20falloff'+';\x0a}\x0a',R1='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',O1='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0av'+'ec4\x20float2'+'vec4(float'+'\x20value)\x20{\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(CAPS'+'_TEXTURE_F'+'LOAT_RENDE'+'RABLE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4(val'+'ue,\x201.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20float'+'2uint(valu'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0a#e'+'ndif\x20//\x20FL'+'OAT_AS_UIN'+'T\x0a',F1='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',N1='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20saturate'+'(cosTheta)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20satu'+'rate(cosTh'+'eta),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',k1='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x200.5;\x0a}\x0a',U1='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',B1='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_GLO'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_GLOSS_'+'TEXTURE\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20*=\x20tex'+'ture2DBias'+'({STD_GLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_GLOSS_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_G'+'LOSS_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_INVE'+'RT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x201.0\x20-\x20dGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20+='+'\x200.0000001'+';\x0a}\x0a',z1='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20#'+'if\x20WEBGPU\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ce'+'nterProj.z'+'\x20=\x20clamp(c'+'enterProj.'+'z,\x200,\x20abs('+'centerProj'+'.w));\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20center'+'Proj.z\x20=\x20c'+'lamp(cente'+'rProj.z,\x20-'+'abs(center'+'Proj.w),\x20a'+'bs(centerP'+'roj.w));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20cente'+'r.view\x20=\x20c'+'enterView.'+'xyz\x20/\x20cent'+'erView.w;\x0a'+'\x20\x20\x20\x20center'+'.proj\x20=\x20ce'+'nterProj;\x0a'+'\x20\x20\x20\x20center'+'.projMat00'+'\x20=\x20matrix_'+'projection'+'[0][0];\x0a\x20\x20'+'\x20\x20center.m'+'odelView\x20='+'\x20modelView'+';\x0a\x20\x20\x20\x20retu'+'rn\x20true;\x0a}'+'\x0a',V1='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0a//\x20:\x200'+'.0\x20~\x201.0\x20'+'\x0afl'+'oat\x20comput'+'eAlpha(flo'+'at\x20muT,\x20fl'+'oat\x20uTime,'+'\x20float\x20uFa'+'deSpeed,\x20f'+'loat\x20life)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20age\x20=\x20('+'uTime\x20-\x20mu'+'T)\x20*\x202.0;\x20'+'//\x20'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'muT\x20>\x20uTim'+'e)\x20return\x20'+'0.0;\x0a\x0a\x20\x20\x20\x20'+'//\x20---\x20'+'\x20life\x20'+'---\x0a\x20\x20\x20\x20fl'+'oat\x20linear'+'Fade\x20=\x201.0'+'\x20-\x20age\x20/\x20l'+'ife;\x0a\x20\x20\x20\x20/'+'/\x20---\x20'+'\x20uFadeS'+'peed\x20---\x0a\x20'+'\x20\x20\x20float\x20e'+'xpFade\x20=\x20e'+'xp(-age\x20*\x20'+'uFadeSpeed'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20cl'+'amp(linear'+'Fade,\x200.0,'+'\x201.0);\x20\x0a\x20\x20'+'\x20\x20return\x20c'+'lamp(expFa'+'de,\x200.0,\x201'+'.0);\x0a}\x0a\x0a\x0av'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20uTime,\x20'+'bool\x20plusA'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'color\x20=\x20te'+'xelFetch(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a\x20\x20\x20\x20'+'#ifdef\x20IS_'+'4D\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20tDat'+'a\x20=\x20texelF'+'etch(trans'+'formLifecy'+'cle,\x20sourc'+'e.uv,\x200).x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20muT'+'\x20=\x20tData.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20saveA'+'\x20=\x20pointCl'+'oudModeEna'+'bled\x20==\x201\x20'+'?\x201.0\x20:\x20co'+'lor.a;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20alpha\x20=\x20s'+'aveA;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(uOp'+'enAnim\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20alp'+'ha\x20=\x20alpha'+'\x20*\x20(muT\x20-\x20'+'uTime\x20+\x200.'+'05);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20age\x20=\x20u'+'Time\x20-\x20muT'+';\x20\x20\x20\x20//\x20'+'\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20uFad'+'eSpeed\x20=\x202'+('.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20life\x20=\x200'+'.1;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20alph'+'a\x20=\x20comput'+'eAlpha(muT'+',\x20uTime,\x20u'+'FadeSpeed,'+'\x20life);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'alpha\x20*=\x20a'+'lpha;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor.a\x20=\x20p'+'lusA\x20?\x20alp'+'ha\x20:\x20saveA'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20ret'+'urn\x20color;'+'\x0a}\x0a\x0a'),G1='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ement\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20aaF'+'actor;\x20//\x20'+'for\x20scenes'+'\x20generated'+'\x20with\x20anti'+'aliasing\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20vec2\x20'+'v;\x0a\x20\x20\x20\x20flo'+'at\x20dlen;\x0a\x20'+'\x20\x20\x20vec2\x20cS'+'ize;\x0a\x20\x20\x20\x20v'+'ec2\x20cUV;\x0a}'+';\x0a\x0a#includ'+'e\x20\x22gsplatE'+'valSHVS\x22\x0a#'+'include\x20\x22g'+'splatQuatT'+'oMat3VS\x22\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+('D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_COEFFS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x20='+'=\x20true\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22gsplatSog'+'sDataVS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSo'+'gsSHVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0avoi'+'d\x20clipCorn'+'er(inout\x20S'+'platCorner'+'\x20corner,\x20f'+'loat\x20alpha'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20clip\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20255.'+'0\x20/\x20alpha)'+')\x20/\x202.0);\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20*='+'\x20clip;\x0a\x20\x20\x20'+'\x20corner.uv'+'\x20*=\x20clip;\x0a'+'}\x0a'),H1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{')+('\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec'+'3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat')+('a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex'+'ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu')+('nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),W1='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),$1='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20S'+'H_COEFFS\x203'+'\x0a\x20\x20\x20\x20#elif'+'\x20SH_BANDS\x20'+'==\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20SH_COEFFS'+'\x208\x0a\x20\x20\x20\x20#el'+'if\x20SH_BAND'+'S\x20==\x203\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20SH_COEF'+'FS\x2015\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20SH_COEFF'+'S\x200\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x200\x0a\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20SH_C1\x20'+'=\x200.488602'+'5119029199'+'f;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x201\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20f'+'loat\x20SH_C2'+'_0\x20=\x201.092'+'5484305920'+'792f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'2_1\x20=\x20-1.0'+'9254843059'+'20792f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C2_2\x20=\x200.'+'3153915652'+'5252005f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C2_3\x20=\x20'+'-1.0925484'+'305920792f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'const\x20floa'+'t\x20SH_C2_4\x20'+'=\x200.546274'+'2152960396'+'f;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x202\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'3_0\x20=\x20-0.5'+'9004358992'+'66435f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_1\x20=\x202.'+'8906114426'+'40554f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_2\x20=\x20-0'+'.457045799'+'4644658f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C3_3\x20=\x20'+'0.37317633'+'25901154f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20float'+'\x20SH_C3_4\x20='+'\x20-0.457045'+'7994644658'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_5'+'\x20=\x201.44530'+'5721320277'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_6'+'\x20=\x20-0.5900'+'4358992664'+'35f;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+('ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'\x20\x20\x20\x20vec3\x20e'+'valSH(in\x20v'+'ec3\x20sh[SH_'+'COEFFS],\x20i'+'n\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20dir.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20y\x20=\x20dir'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201st\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20resul'+'t\x20=\x20SH_C1\x20'+'*\x20(-sh[0]\x20'+'*\x20y\x20+\x20sh[1'+']\x20*\x20z\x20-\x20sh'+'[2]\x20*\x20x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x201\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x202nd\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xx\x20=\x20x\x20*\x20x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'zz\x20=\x20z\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yz\x20=\x20y\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xz\x20=\x20x\x20*\x20z'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[3]\x20*\x20('+'SH_C2_0\x20*\x20'+'xy)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[4]\x20*\x20'+'(SH_C2_1\x20*'+'\x20yz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[5]\x20*'+'\x20(SH_C2_2\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x20xx\x20-\x20y'+'y))\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[6]\x20*\x20'+'(SH_C2_3\x20*'+'\x20xz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20*'+'\x20(SH_C2_4\x20'+'*\x20(xx\x20-\x20yy'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'+=\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20')+('xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20#endif\x0a'),X1='\x0amat3\x20quat'+'ToMat3(vec'+'4\x20R)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20R2\x20='+'\x20R\x20+\x20R;\x0a\x20\x20'+'\x20\x20float\x20X\x20'+'=\x20R2.x\x20*\x20R'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20Y\x20\x20=\x20R2'+'.y\x20*\x20R;\x0a\x20\x20'+'\x20\x20vec4\x20Z\x20\x20'+'=\x20R2.z\x20*\x20R'+';\x0a\x20\x20\x20\x20floa'+'t\x20W\x20=\x20R2.w'+'\x20*\x20R.w;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x201.0\x20-\x20'+'Z.z\x20-\x20W,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20Y.z\x20+\x20X'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20Y.z\x20-\x20X,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x201.'+'0\x20-\x20Y.y\x20-\x20'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20+\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20Y.w\x20+\x20Z.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20-\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',q1='\x0auniform\x20m'+'ediump\x20sam'+'pler2D\x20sh0'+';\x0a\x0auniform'+'\x20vec4\x20sh0_'+'mins;\x0aunif'+'orm\x20vec4\x20s'+'h0_maxs;\x0a\x0a'+'float\x20SH_C'+'0\x20=\x200.2820'+'9479177387'+'814;\x0a\x0avec4'+'\x20readColor'+'(in\x20SplatS'+'ource\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20clr\x20='+'\x20mix(sh0_m'+'ins,\x20sh0_m'+'axs,\x20texel'+'Fetch(sh0,'+'\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(vec3(0.'+'5)\x20+\x20clr.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'clr.w)));\x0a'+'}\x0a',j1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0a\x0auniform\x20'+'vec3\x20means'+'_mins;\x0auni'+'form\x20vec3\x20'+'means_maxs'+';\x0a\x0auniform'+'\x20vec3\x20scal'+'es_mins;\x0au'+'niform\x20vec'+'3\x20scales_m'+'axs;\x0a\x0avec4'+'\x20unpackU32'+'(uint\x20v)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((v\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((v\x20>>'+'\x2016u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float((v'+'\x20>>\x208u)\x20&\x20'+'0xFFu)\x20/\x202'+'55.0,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float('+'v\x20&\x200xFFu)'+'\x20/\x20255.0\x0a\x20'+'\x20\x20\x20);\x0a}\x0a\x0au'+'vec4\x20packe'+'dSample;\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20th'+'e\x20packed\x20t'+'exture\x20sam'+'ple\x0a\x20\x20\x20\x20pa'+'ckedSample'+'\x20=\x20texelFe'+'tch(packed'+'Texture,\x20s'+'ource.uv,\x20'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20l\x20=\x20un'+'packU32(pa'+'ckedSample'+'.x).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20u\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20n\x20=\x20(l\x20*'+'\x20255.0\x20+\x20u'+'\x20*\x20255.0\x20*'+'\x20256.0)\x20/\x20'+'65535.0;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20mix(mean'+'s_mins,\x20me'+'ans_maxs,\x20'+'n);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20sign'+'(v)\x20*\x20(exp'+'(abs(v))\x20-'+'\x201.0);\x0a}\x0a\x0a'+'const\x20floa'+'t\x20norm\x20=\x202'+'.0\x20/\x20sqrt('+'2.0);\x0a\x0a//\x20'+'sample\x20cov'+'ariance\x20ve'+'ctors\x0avoid'+'\x20readCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'qdata\x20=\x20un'+'packU32(pa'+'ckedSample'+'.z);\x0a\x20\x20\x20\x20v'+'ec3\x20sdata\x20'+('=\x20unpackU3'+'2(packedSa'+'mple.w).xy'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20abc\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20f'+'loat\x20d\x20=\x20s'+'qrt(max(0.'+'0,\x201.0\x20-\x20d'+'ot(abc,\x20ab'+'c)));\x0a\x0a\x20\x20\x20'+'\x20uint\x20mode'+'\x20=\x20uint(qd'+'ata.w\x20*\x2025'+'5.0\x20+\x200.5)'+'\x20-\x20252u;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20q'+'uat\x20=\x20(mod'+'e\x20==\x200u)\x20?'+'\x20vec4(d,\x20a'+'bc)\x20:\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20((mode\x20='+'=\x201u)\x20?\x20ve'+'c4(abc.x,\x20'+'d,\x20abc.yz)'+'\x20:\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'(mode\x20==\x202'+'u)\x20?\x20vec4('+'abc.xy,\x20d,'+'\x20abc.z)\x20:\x20'+'vec4(abc,\x20'+'d)));\x0a\x0a\x20\x20\x20'+'\x20mat3\x20rot\x20'+'=\x20quatToMa'+'t3(quat);\x0a'+'\x20\x20\x20\x20vec3\x20s'+'cale\x20=\x20exp'+'(mix(scale'+'s_mins,\x20sc'+'ales_maxs,'+'\x20sdata));\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a'),Y1='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20sh_ce'+'ntroids;\x0a\x0a'+'uniform\x20fl'+'oat\x20shN_mi'+'ns;\x0aunifor'+'m\x20float\x20sh'+'N_maxs;\x0a\x0a/'+'/\x20To\x20suppo'+'rt\x20each\x20SH'+'\x20degree,\x20r'+'eadSHData\x20'+'is\x20overloa'+'ded\x20based\x20'+'on\x20the\x20SH\x20'+'vector\x20dep'+'th\x20\x0a\x0avoid\x20'+'readSHData'+'(in\x20SplatS'+'ource\x20sour'+'ce,\x20out\x20ve'+'c3\x20sh[SH_C'+'OEFFS],\x20ou'+'t\x20float\x20sc'+'ale)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'ivec2\x20t\x20=\x20'+'ivec2(pack'+'edSample.x'+'\x20&\x20255u,\x20p'+'ackedSampl'+'e.y\x20&\x20255u'+');\x0a\x20\x20\x20\x20int'+'\x20n\x20=\x20t.x\x20+'+'\x20t.y\x20*\x20256'+';\x0a\x20\x20\x20\x20int\x20'+'u\x20=\x20(n\x20%\x206'+'4)\x20*\x20SH_CO'+'EFFS;\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20n\x20'+'/\x2064;\x0a\x0a\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20offset'+'\x20into\x20the\x20'+'centroids\x20'+'texture\x20an'+'d\x20read\x20con'+'secutive\x20t'+'exels\x0a\x20\x20\x20\x20'+'for\x20(int\x20i'+'\x20=\x200;\x20i\x20<\x20'+'SH_COEFFS;'+'\x20i++)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[i'+']\x20=\x20mix(ve'+'c3(shN_min'+'s),\x20vec3(s'+'hN_maxs),\x20'+'texelFetch'+'(sh_centro'+'ids,\x20ivec2'+'(u\x20+\x20i,\x20v)'+',\x200).xyz);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20scale\x20=\x20'+'1.0;\x0a}\x0a',K1='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0auniform\x20'+'float\x20rend'+'erSpace;\x0au'+'niform\x20flo'+'at\x20endSpac'+'e;\x0auniform'+'\x20int\x20uShap'+'eN;\x0a\x0a//\x20ca'+'lculate\x20th'+'e\x20clip-spa'+'ce\x20offset\x20'+'from\x20the\x20c'+'enter\x20for\x20'+'this\x20gauss'+'ian\x0abool\x20i'+'nitCorner('+'SplatSourc'+'e\x20source,\x20'+'SplatCente'+'r\x20center,\x20'+'out\x20SplatC'+'orner\x20corn'+'er,\x20int\x20po'+'intCloudMo'+'deEnabled)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'get\x20covari'+'ance\x0a\x20\x20\x20\x20v'+'ec3\x20covA,\x20'+'covB;\x0a\x20\x20\x20\x20'+'readCovari'+'ance(sourc'+'e,\x20covA,\x20c'+'ovB);\x0a\x0a\x20\x20\x20'+'\x20mat3\x20Vrk\x20'+'=\x20mat3(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.x,\x20covA.y'+',\x20covA.z,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.y,\x20covB'+'.x,\x20covB.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'covA.z,\x20co'+'vB.y,\x20covB'+'.z\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20focal\x20=\x20v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'v\x20=\x20camera'+'_params.w\x20'+'==\x201.0\x20?\x20v'+'ec3(0.0,\x200'+'.0,\x201.0)\x20:'+'\x20center.vi'+'ew.xyz;\x0a\x20\x20'+'\x20\x20float\x20J1'+'\x20=\x20focal\x20/'+'\x20v.z;\x0a\x20\x20\x20\x20'+'vec2\x20J2\x20=\x20'+'-J1\x20/\x20v.z\x20'+'*\x20v.xy;\x0a\x20\x20'+'\x20\x20mat3\x20J\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20J1,\x200'+'.0,\x20J2.x,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x200.'+'0,\x20J1,\x20J2.'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.0,\x200.0,'+'\x200.0\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20mat'+'3\x20W\x20=\x20tran'+'spose(mat3'+'(center.mo'+'delView));'+'\x0a\x20\x20\x20\x20mat3\x20'+'T\x20=\x20W\x20*\x20J;'+'\x0a\x20\x20\x20\x20mat3\x20'+'cov\x20=\x20tran'+'spose(T)\x20*'+('\x20Vrk\x20*\x20T;\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'calculate\x20'+'AA\x20factor\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20detOri'+'g\x20=\x20cov[0]'+'[0]\x20*\x20cov['+'1][1]\x20-\x20co'+'v[0][1]\x20*\x20'+'cov[0][1];'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20detBl'+'ur\x20=\x20(cov['+'0][0]\x20+\x200.'+'3)\x20*\x20(cov['+'1][1]\x20+\x200.'+'3)\x20-\x20cov[0'+'][1]\x20*\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20corn'+'er.aaFacto'+'r\x20=\x20sqrt(m'+'ax(detOrig'+'\x20/\x20detBlur'+',\x200.0));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20diagonal1'+'\x20=\x20cov[0]['+'0]\x20+\x200.3;\x0a'+'\x20\x20\x20\x20float\x20'+'offDiagona'+'l\x20=\x20cov[0]'+'[1];\x0a\x20\x20\x20\x20f'+'loat\x20diago'+'nal2\x20=\x20cov'+'[1][1]\x20+\x200'+'.3;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mid\x20='+'\x200.5\x20*\x20(di'+'agonal1\x20+\x20'+'diagonal2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20radius\x20='+'\x20length(ve'+'c2((diagon'+'al1\x20-\x20diag'+'onal2)\x20/\x202'+'.0,\x20offDia'+'gonal));\x0a\x20'+'\x20\x20\x20float\x20l'+'ambda1\x20=\x20m'+'id\x20+\x20radiu'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20lambda2'+'\x20=\x20max(mid'+'\x20-\x20radius,'+'\x200.1);\x0a\x20\x20\x20'+'\x20if\x20(point'+'CloudModeE'+'nabled\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20l'+'ambda1\x20=\x20l'+'ambda2\x20=\x202'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Us'+'e\x20the\x20smal'+'ler\x20viewpo'+'rt\x20dimensi'+'on\x20to\x20limi'+'t\x20the\x20kern'+'el\x20size\x20re'+'lative\x20to\x20'+'the\x20screen'+'\x20resolutio'+'n.\x0a\x20\x20\x20\x20flo'+'at\x20vmin\x20=\x20'+'min(1024.0'+',\x20min(view'+'port.x,\x20vi'+'ewport.y))'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20l1\x20=\x202.'+'0\x20*\x20min(sq'+'rt(2.0\x20*\x20l'+'ambda1),\x20v'+'min);\x0a\x20\x20\x20\x20'+'float\x20l2\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda2)'+',\x20vmin);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20')+('\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec2\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'viewport;\x0a'+'\x0a\x20\x20\x20\x20//\x20cu'+'ll\x20against'+'\x20frustum\x20x'+'/y\x20axes\x0a\x20\x20'+'\x20\x20if\x20(any('+'greaterTha'+'n(abs(cent'+'er.proj.xy'+')\x20-\x20vec2(m'+'ax(l1,\x20l2)'+')\x20*\x20c,\x20cen'+'ter.proj.w'+'w)))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20false;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec2\x20diago'+'nalVector\x20'+'=\x20normaliz'+'e(vec2(off'+'Diagonal,\x20'+'lambda1\x20-\x20'+'diagonal1)'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20bool\x20inRe'+'nderSpace\x20'+'=\x20(center.'+'view.x\x20>=\x20'+'-renderSpa'+'ce\x20&&\x20cent'+'er.view.x\x20'+'<=\x20renderS'+'pace)\x20&&\x20('+'center.vie'+'w.y\x20>=\x20-re'+'nderSpace\x20'+'&&\x20center.'+'view.y\x20<=\x20'+'renderSpac'+'e);\x0a\x20\x20\x20\x20bo'+'ol\x20openRen'+'derAnim\x20=\x20'+'renderSpac'+'e\x20<\x20endSpa'+'ce;\x0a\x20\x20\x20\x20bo'+'ol\x20inRende'+'r\x20=\x20render'+'Space\x20>=\x20e'+'ndSpace\x20||'+'\x20inRenderS'+'pace\x20||\x20po'+'intCloudMo'+'deEnabled\x20'+'==\x201;\x0a\x20\x20\x20\x20'+'if(!openRe'+'nderAnim\x20&'+'&\x20uSplatSc'+'ale\x20>\x200.0\x20'+'&&\x20uSplatS'+'cale\x20<=\x205.'+'0){\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale\x20=\x20'+'uSplatScal'+'e;\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(in'+'Render){\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(openR'+'enderAnim)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'scale\x20=\x20in'+'RenderSpac'+'e\x20?\x20uSplat'+'Scale\x20:\x200.'+'1;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20vec2\x20v1'+'\x20=\x20scale\x20*'+'\x20l1\x20*\x20diag'+'onalVector'+';\x0a\x20\x20\x20\x20vec2'+'\x20v2\x20=\x20scal'+'e\x20*\x20l2\x20*\x20v'+'ec2(diagon'+'alVector.y'+',\x20-diagona'+'lVector.x)')+(';\x0a\x0a\x20\x20\x20\x20cor'+'ner.offset'+'\x20=\x20(source'+'.cornerUV.'+'x\x20*\x20v1\x20+\x20s'+'ource.corn'+'erUV.y\x20*\x20v'+'2)\x20*\x20c;\x0a\x20\x20'+'\x20\x20//\x20corne'+'r.uv\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20if\x20(uSh'+'apeN\x20<\x203)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'corner.uv\x20'+'=\x20source.c'+'ornerUV;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'corner.cSi'+'ze\x20=\x20(v1\x20+'+'\x20v2)\x20*\x20c;\x0a'+'\x20\x20\x20\x20corner'+'.cUV\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),Z1='\x0a\x0auniform\x20'+'highp\x20samp'+'ler2D\x20tran'+'sformA;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20transfor'+'mB;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformR;\x0a'+'\x0a#ifdef\x20IS'+'_4D\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformMot'+'ion;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformLi'+'fecycle;\x0a#'+'endif\x0a\x0a//\x20'+'work\x20value'+'s\x0a//\x20uint\x20'+'tAw;\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20retu'+'rn\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a}\x0a\x0ama'+'t3\x20quatToM'+'at3v2(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.w;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(vec3\x20pack'+'ed)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(packed.x'+'yz,\x20sqrt(m'+'ax(0.0,\x201.'+'0\x20-\x20dot(pa'+'cked,\x20pack'+'ed))));\x0a}\x0a'+'\x0a//\x20sample'+'\x20covarianc'+'e\x20vectors\x0a'+'void\x20readC'+'ovariance('+'in\x20SplatSo'+'urce\x20sourc'+'e,\x20out\x20vec'+'3\x20covA,\x20ou'+'t\x20vec3\x20cov'+'B)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3v'+'2(unpackRo'+'tation(tR)'+');\x0a\x20\x20\x20\x20vec'+'3\x20scale\x20=\x20'+'tB.xyz;\x0a\x0a\x20'+'\x20\x20\x20//\x20M\x20=\x20'+'S\x20*\x20R\x0a\x20\x20\x20\x20'+'mat3\x20M\x20=\x20t'+'ranspose(m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.x'+'\x20*\x20rot[0],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.y\x20*\x20r'+'ot[1],\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.z\x20*\x20rot[2'+']\x0a\x20\x20\x20\x20));\x0a'+'\x0a\x20\x20\x20\x20covA\x20'+'=\x20vec3(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20covB\x20=\x20'+'vec3(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a\x0a'+'//\x20sample\x20'+'4D\x20covaria'+'nce\x20vector'+'s\x0avoid\x20rea'+'dFTGSCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB,ou'+'t\x20vec4\x20cov'+'ariance4D)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tB\x20=\x20tex'+'elFetch(tr'+'ansformB,\x20'+'source.uv,')+('\x200);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20tR\x20=\x20'+'texelFetch'+'(transform'+'R,\x20source.'+'uv,\x200).xyz'+';\x0a\x20\x20\x20\x20mat3'+'\x20rot\x20=\x20qua'+'tToMat3v2('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormLifecyc'+'le,\x20source'+'.uv,\x200).xy'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'muT\x20=\x20tDat'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20t'+'Scale\x20=\x20tD'+'ata.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20margi'+'nal\x20=\x20comp'+'uteMargina'+'lT(time,\x20m'+'uT,\x20tScale'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20re'+'turn\x20margi'+'nal;\x0a}\x0a\x0ave'+'c3\x20readCen'+'ter4D(Spla'+'tSource\x20so'+'urce,\x20floa'+'t\x20time)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20if(m'+'uT\x20>\x20-5.0)'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20movin'+'gSpeed\x20=\x20t')+('exelFetch('+'transformM'+'otion,\x20sou'+'rce.uv,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'platOffset'+'\x20=\x20movingS'+'peed\x20*\x20(ti'+'me\x20-\x20muT);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'platCenter'+'\x20+=\x20splatO'+'ffset;\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20spla'+'tCenter;\x0a}'+'\x0a'),Q1='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',J1='\x0auniform\x20i'+'nt\x20mode;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x200:\x20c'+'enters,\x201:'+'\x20rings\x0auni'+'form\x20float'+'\x20ringSize;'+'\x0auniform\x20i'+'nt\x20uShapeN'+';\x0a\x0a#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bay'+'erPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'opacityDit'+'herPS\x22\x0a\x20\x20\x20'+'\x20varying\x20f'+'loat\x20id;\x0a#'+'endif\x0a\x0a#if'+'def\x20PICK_P'+'ASS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pi'+'ckPS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20alphaC'+'lip;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20vLinearDe'+'pth;\x0a\x20\x20\x20\x20#'+'include\x20\x22f'+'loatAsUint'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20Fast\x20'+'approximat'+'e\x20e^x\x20base'+'d\x20on\x20https'+'://nic.sch'+'raudolph.o'+'rg/pubs/Sc'+'hraudolph9'+'9.pdf\x0acons'+'t\x20float\x20\x20E'+'XP_A\x20\x20\x20\x20\x20\x20'+'=\x2012102203'+'.0;\x20\x20\x20//\x20'+'\x202^23\x20/\x20ln'+'(2)\x0aconst\x20'+'int\x20\x20\x20\x20EXP'+'_BC_RMS\x20=\x20'+'1064866808'+';\x20\x20\x20//\x20(12'+'7\x20<<\x2023)\x20-'+'\x2060801\x20*\x208'+'\x0afloat\x20fas'+'tExp(float'+'\x20x)\x20{\x0a\x20\x20\x20\x20'+'int\x20i\x20=\x20in'+'t(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20in'+'tBitsToFlo'+'at(i);\x0a}\x0a\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianU'+'V;\x0avarying'+'\x20mediump\x20v'+'ec4\x20gaussi'+'anColor;\x0av'+'arying\x20med'+'iump\x20vec2\x20'+'gaussianSi'+'ze;\x0avaryin'+'g\x20mediump\x20'+'vec2\x20gauss'+'ianCUV;\x0ava'+'rying\x20medi'+'ump\x20float\x20'+'saveMargin'+'al;\x0a\x0a//\x20'+'\x20p\x20\x20N'+'\x20\x0a//\x20p:'+'\x20\x20(UV\x20'+')\x0a//'+'\x20N:\x20\x0a//\x20'+'r:\x20'+('1\x0a/'+'/\x20center:\x20'+'\x0abool\x20'+'insideRegu'+'larPolygon'+'(vec2\x20p,\x20i'+'nt\x20N,\x20floa'+'t\x20r,\x20vec2\x20'+'center)\x20{\x0a'+'\x20\x20\x20\x20//\x20'+'\x0a\x20'+'\x20\x20\x20vec2\x20d\x20'+'=\x20p\x20-\x20cent'+'er;\x0a\x20\x20\x20\x20fl'+'oat\x20theta\x20'+'=\x20atan(d.y'+',\x20d.x);\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20flo'+'at\x20len\x20=\x20l'+'ength(d);\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20float'+'\x20anglePerS'+'ide\x20=\x202.0\x20'+'*\x203.141592'+'65\x20/\x20float'+'(N);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x200\x20~'+'\x20anglePerS'+'ide\x20\x0a\x20\x20\x20'+'\x20float\x20loc'+'alAngle\x20=\x20'+'mod(theta,'+'\x20anglePerS'+'ide);\x0a\x0a\x20\x20\x20'+'\x20//\x20'+'\x20'+'N\x20\x0a\x20\x20'+'\x20\x20float\x20ma'+'xR\x20=\x20r\x20*\x20c'+'os(anglePe'+'rSide\x20/\x202.'+'0)\x20/\x20cos(l'+'ocalAngle\x20'+'-\x20anglePer'+'Side\x20/\x202.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20len\x20<'+'=\x20maxR;\x0a}\x0a'+'\x0a//\x20'+'N\x20soft\x20'+'mask\x0afloat'+'\x20polygonSo'+'ftMask(vec'+'2\x20p,\x20int\x20N'+',\x20float\x20ra'+'dius,\x20floa'+'t\x20edgeSoft'+'ness)\x20{\x0a\x20\x20'+'\x20\x20float\x20an'+'gle\x20=\x20atan'+'(p.y,\x20p.x)'+';\x0a\x20\x20\x20\x20floa'+'t\x20sector\x20='+'\x206.2831853'+'\x20/\x20float(N'+');\x20\x20//\x20'+'\x0a\x20\x20\x20\x20//'+'\x20\x20['+'-sector/2,'+'\x20sector/2]'+'\x0a\x20\x20\x20\x20float'+'\x20halfSecto'+'r\x20=\x20sector'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20float\x20lo'+'calAngle\x20='+'\x20mod(angle'+'\x20+\x20halfSec'+'tor,\x20secto'+'r)\x20-\x20halfS'+'ector;\x0a\x0a\x20\x20'+'\x20\x20//\x20'+'\x0a'+'\x20\x20\x20\x20float\x20'+'boundary\x20='+'\x20radius\x20*\x20'+'cos(halfSe'+'ctor)\x20/\x20co'+'s(localAng'+'le);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20=\x20'+'\x0a\x20\x20\x20\x20'+'float\x20dist'+'\x20=\x20boundar'+'y\x20-\x20length'+'(p);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20smoot')+('hstep\x20'+'\x20(edgeSof'+'tness\x20'+')\x0a\x20\x20\x20\x20'+'float\x20alph'+'a\x20=\x20smooth'+'step(0.0,\x20'+'edgeSoftne'+'ss,\x20dist);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20alpha;\x20'+'//\x200~1\x0a}\x0a\x0a'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20mediump\x20'+'float\x20A\x20=\x20'+'dot(gaussi'+'anUV,\x20gaus'+'sianUV);\x0a\x20'+'\x20\x20\x20if\x20(A\x20>'+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'valuate\x20al'+'pha\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20alpha\x20=\x20'+'fastExp(-A'+'\x20*\x204.0)\x20*\x20'+'gaussianCo'+'lor.a;\x0a\x20\x20\x20'+'\x20//\x20TODO\x20u'+'ShapeN\x20alp'+'ha\x0a\x20\x20\x20\x20//\x20'+'float\x20dx\x20='+'\x20abs(gauss'+'ianCUV.x)\x20'+'/\x20gaussian'+'Size.x;\x0a\x20\x20'+'\x20\x20//\x20float'+'\x20dy\x20=\x20abs('+'gaussianCU'+'V.y)\x20/\x20gau'+'ssianSize.'+'y;\x0a\x20\x20\x20\x20//\x20'+'float\x20B\x20=\x20'+'max(dx,\x20dy'+');\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20'+'\x0a\x20\x20\x20\x20//\x20'+'mediump\x20fl'+'oat\x20alpha\x20'+'=\x20exp(-pow'+'(B,\x202.0)\x20*'+'\x204.0)\x20*\x20ga'+'ussianColo'+'r.a;\x0a\x0a\x20\x20\x20\x20'+'bool\x20openR'+'ingMode\x20=\x20'+'ringSize\x20>'+'\x200.0\x20&&\x20mo'+'de\x20==\x201;\x20/'+'/\x20&&\x20uCont'+'rolMode\x20=='+'\x201;\x20\x0a\x20\x20\x20\x20i'+'f\x20(openRin'+'gMode\x20&&\x20s'+'aveMargina'+'l\x20>=\x200.05)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(A\x20<\x201'+'.0\x20-\x20ringS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'lpha\x20=\x20max'+'(0.05,\x20alp'+'ha);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alpha\x20'+'=\x200.6;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20bool\x20ope'+'nShapeMode'+'\x20=\x20uShapeN'+'\x20>\x202;\x20//\x20&'+'&\x20uControl'+'Mode\x20==\x201;'+'\x0a\x20\x20\x20\x20if\x20(o'+'penShapeMo'+'de)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20gaussi'+'anCUV\x20*\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20rad'+'ius\x20=\x201.0;')+('\x20//\x201.0\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20edgeSoft'+'ness\x20=\x200.0'+'5;\x20//\x200.05'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v\x20*=\x201.0;/'+'/0.9;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20c'+'enter\x20=\x20ve'+'c2(0.0,\x200.'+'0);\x20\x20\x20//\x20'+''+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20alpha\x20'+'=\x20polygonS'+'oftMask(uv'+',\x20uShapeN,'+'\x20radius,\x20e'+'dgeSoftnes'+'s);\x20//\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(!insideR'+'egularPoly'+'gon(uv,\x20uS'+'hapeN,\x20rad'+'ius,\x20cente'+'r))\x20{\x20//'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20defined(S'+'HADOW_PASS'+')\x20||\x20defin'+'ed(PICK_PA'+'SS)\x20||\x20def'+'ined(PREPA'+'SS_PASS)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20a'+'lphaClip)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'getPickOut'+'put();\x0a\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'ADOW_PASS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(0'+'.0,\x200.0,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#elif'+'\x20PREPASS_P'+'ASS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2vec4(v'+'LinearDept'+'h);\x0a\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x201.0\x20/'+'\x20255.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20DI'+'THER_NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(alph'+'a,\x20id\x20*\x200.'+'013);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'gaussianCo'+'lor.xyz,\x20a'+'lpha);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),eP='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),tP='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',sP='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0aunifor'+'m\x20float\x20pr'+'erenderCTi'+'me;\x0aunifor'+'m\x20float\x20uS'+'aturation;'+'\x20//\x200.0-2.'+'01.0\x20'+'\x0auniform'+'\x20float\x20uHu'+'eOffset;\x20\x20'+'//\x20'+'360'+'\x0auniform\x20v'+'ec3\x20clrOff'+'set;\x0aunifo'+'rm\x20vec4\x20cl'+'rScale;\x0aun'+'iform\x20floa'+'t\x20uOpacity'+';\x0auniform\x20'+'int\x20uInver'+'tOpacity;\x0a'+'\x0avarying\x20m'+'ediump\x20vec'+'2\x20gaussian'+'UV;\x0avaryin'+'g\x20mediump\x20'+'vec4\x20gauss'+'ianColor;\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianS'+'ize;\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianCUV;\x0av'+'arying\x20med'+'iump\x20float'+'\x20saveMargi'+'nal;\x0a\x0a//\x20='+'====\x20\x20H'+'SV/RGB\x20\x20'+'=====\x0ahigh'+'p\x20vec3\x20rgb'+'2hsv(highp'+'\x20vec3\x20c)\x20{'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20cMa'+'x\x20=\x20max(ma'+'x(c.r,\x20c.g'+'),\x20c.b);\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20cMin\x20'+'=\x20min(min('+'c.r,\x20c.g),'+'\x20c.b);\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20delta\x20='+'\x20cMax\x20-\x20cM'+'in\x20+\x201e-10'+';\x20//\x200\x0a'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20h\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'if\x20(delta\x20'+'>\x201e-6)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(cMax\x20==\x20'+'c.r)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20=\x20mod((c.'+'g\x20-\x20c.b)\x20/'+'\x20delta,\x206.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(cMax\x20=='+'\x20c.g)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.b\x20-'+'\x20c.r)\x20/\x20de'+'lta\x20+\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.r\x20-'+'\x20c.g)\x20/\x20de'+'lta\x20+\x204.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20/=\x206.0;\x20/'+'/\x20\x20[0,1]'+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(h\x20<\x200.0'+')\x20h\x20+=\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20s\x20=\x20('+'cMax\x20<\x201e-'+'6)\x20?\x200.0\x20:'+'\x20delta\x20/\x20c'+'Max;\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20v\x20=\x20cMax;'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec3(h,\x20'+'s,\x20v);\x0a}\x0a\x0a'+'highp\x20vec3'+'\x20hsv2rgb(h'+'ighp\x20vec3\x20'+'c)\x20{\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20h\x20=\x20c.x\x20*'+'\x206.0;\x20//\x200'+'-6\x0a\x20\x20\x20\x20hig'+'hp\x20float\x20s'+'\x20=\x20c.y;\x0a\x20\x20'+'\x20\x20highp\x20fl'+'oat\x20v\x20=\x20c.'+'z;\x0a\x0a\x20\x20\x20\x20hi'+'ghp\x20int\x20i\x20'+'=\x20int(floo'+'r(h));\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20f\x20=\x20h\x20-'+'\x20float(i);'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20p\x20='+'\x20v\x20*\x20(1.0\x20'+'-\x20s);\x0a\x20\x20\x20\x20'+'highp\x20floa'+'t\x20q\x20=\x20v\x20*\x20'+'(1.0\x20-\x20s\x20*'+'\x20f);\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20t\x20=\x20v\x20*\x20('+'1.0\x20-\x20s\x20*\x20'+'(1.0\x20-\x20f))'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(i\x20==\x200)\x20r'+'eturn\x20vec3'+'(v,\x20t,\x20p);'+'\x0a\x20\x20\x20\x20else\x20'+'if\x20(i\x20==\x201'+')\x20return\x20v'+'ec3(q,\x20v,\x20'+'p);\x0a\x20\x20\x20\x20el'+'se\x20if\x20(i\x20='+'=\x202)\x20retur'+'n\x20vec3(p,\x20'+'v,\x20t);\x0a\x20\x20\x20'+'\x20else\x20if\x20('+'i\x20==\x203)\x20re'+'turn\x20vec3('+'p,\x20q,\x20v);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(i\x20==\x204)'+'\x20return\x20ve'+'c3(t,\x20p,\x20v'+');\x0a\x20\x20\x20\x20els'+'e\x20return\x20v'+'ec3(v,\x20p,\x20'+'q);\x20//\x20i=='+'5\x0a}\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0a#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20varying\x20'+'float\x20vLin'+'earDepth;\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20')+('=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20saveMargi'+'nal\x20=\x20getM'+'arginalT(s'+'ource,\x20uTi'+'me);\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'marginal\x20='+'\x20uOpenAnim'+'\x20==\x201\x20?\x201.'+'0\x20:\x20saveMa'+'rginal;\x0a\x20\x20'+'\x20\x20if\x20(marg'+'inal\x20<\x200.0'+'5)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20dis'+'cardVec;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20modelCent'+'er;\x0a\x20\x20\x20\x20bo'+'ol\x20isCente'+'r4D\x20=\x20save'+'Marginal\x20>'+'=\x200.05;\x0a\x20\x20'+'\x20\x20if\x20(isCe'+'nter4D)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'delCenter\x20'+'=\x20readCent'+'er4D(sourc'+'e,\x20uTime);'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20modelCen'+'ter\x20=\x20read'+'Center(sou'+'rce);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20Spl'+'atCenter\x20c'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'center))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return;'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20int\x20'+'showCloud\x20'+'=\x20pointClo'+'udModeEnab'+'led;\x0a\x20\x20\x20\x20i'+'f\x20(prerend'+'erCTime\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(prer'+'enderCTime'+'\x20>=\x201.0\x20&&'+'\x20prerender'+'CTime\x20<\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20showClo'+'ud\x20=\x201;\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(prerend'+'erCTime\x20>='+'\x202.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20proje'+'ct\x20center\x20'+'to\x20screen\x20'+'space\x0a\x20\x20\x20\x20'+'SplatCorne'+'r\x20corner;\x0a'+'\x20\x20\x20\x20if\x20(!i'+'nitCorner('+'source,\x20ce'+'nter,\x20corn'+'er,\x20showCl'+'oud))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20')+('discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20vec'+'4\x20clr\x20=\x20re'+'adColor(so'+'urce,\x20uTim'+'e,\x20!isCent'+'er4D,\x20poin'+'tCloudMode'+'Enabled);\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'apply\x20AA\x20c'+'ompensatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.a\x20*=\x20c'+'orner.aaFa'+'ctor;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20if(margi'+'nal\x20>\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.w\x20*=\x20'+'marginal;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20\x0a\x20'+'\x20\x20\x20if\x20(uCo'+'ntrolColor'+'Mode\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'tint/brigh'+'tness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr\x20=\x20'+'clr\x20*\x20clrS'+'cale\x20+\x20vec'+'4(clrOffse'+'t,\x200.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(uInvertO'+'pacity\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20clr'+'.a\x20=\x201.0\x20-'+'\x20clr.a;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20don\x27t\x20'+'allow\x20out-'+'of-range\x20a'+'lpha\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20clr\x20=\x20c'+'lamp(clr,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20spheri'+'cal\x20harmon'+'ics\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20the\x20'+'model-spac'+'e\x20view\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20norm'+'alize(cent'+'er.view\x20*\x20'+'mat3(cente'+'r.modelVie'+'w));\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20rea'+'d\x20sh\x20coeff'+'icients\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sh[SH_COE'+'FFS];\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20readS'+'HData(sour'+'ce,\x20sh,\x20sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.x'+'yz\x20+=\x20eval'+'SH(sh,\x20dir'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(co'+'rner,\x20clr.'+'w);\x0a\x0a\x20\x20\x20\x20/')+('/\x20pointClo'+'udMode\x0a\x20\x20\x20'+'\x20//\x20if\x20(po'+'intCloudMo'+'deEnabled\x20'+'==\x201)\x20{\x0a\x20\x20'+'\x20\x20//\x20\x20\x20\x20\x20c'+'lr.a\x20=\x201.0'+';\x0a\x20\x20\x20\x20//\x20}'+'\x0a\x20\x20\x20\x20highp'+'\x20vec3\x20colo'+'r\x20=\x20max(cl'+'r.xyz,\x200.0'+');\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20\x0a'+'\x20\x20\x20\x20if\x20(uC'+'ontrolColo'+'rMode\x20==\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20\x20HSV'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'ighp\x20vec3\x20'+'hsv\x20=\x20rgb2'+'hsv(color)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20hsv.'+'y\x20*=\x20uSatu'+'ration;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20hsv.x\x20=\x20f'+'ract(hsv.x'+'\x20+\x20uHueOff'+'set\x20/\x20360.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20\x20RGB'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor\x20=\x20hsv'+'2rgb(hsv);'+'\x20\x20\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wri'+'te\x20output\x0a'+'\x20\x20\x20\x20gl_Pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4(cor'+'ner.offset'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20gaussia'+'nUV\x20=\x20corn'+'er.uv;\x0a\x20\x20\x20'+'\x20gaussianC'+'UV\x20=\x20corne'+'r.cUV;\x0a\x20\x20\x20'+'\x20gaussianS'+'ize\x20=\x20corn'+'er.cSize;\x0a'+'\x20\x20\x20\x20gaussi'+'anColor\x20=\x20'+'vec4(prepa'+'reOutputFr'+'omGamma(co'+'lor),\x20clr.'+'w);\x0a\x20\x20\x20\x20ga'+'ussianColo'+'r\x20=\x20clamp('+'gaussianCo'+'lor,\x200.0,\x20'+'1.0);\x0a\x0a\x20\x20\x20'+'\x20#ifndef\x20D'+'ITHER_NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'d\x20=\x20float('+'source.id)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vLin'+'earDepth\x20='+'\x20-center.v'+'iew.z;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),iP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'aPosition;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x0a\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(aPos'+'ition,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20getImage'+'EffectUV(('+'aPosition.'+'xy\x20+\x201.0)\x20'+'*\x200.5);\x0a\x20\x20'+'\x20\x20}\x0a',rP='\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a',aP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec4\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec4\x20vert'+'ex_color;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20v'+'oid\x20main(v'+'oid)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20=\x20vertex_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20matrix_'+'model\x20*\x20ve'+'rtex_posit'+'ion;\x0a\x20\x20\x20\x20}'+'\x0a',nP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0afloat\x20i'+'ridescence'+'_iorToFres'+'nel(float\x20'+'transmitte'+'dIor,\x20floa'+'t\x20incident'+'Ior)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'incidentIo'+'r)\x20/\x20(tran'+'smittedIor'+'\x20+\x20inciden'+'tIor),\x202.0'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_iorToFr'+'esnel(vec3'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20vec3(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3(incid'+'entIor)),\x20'+'vec3(2.0))'+';\x0a}\x0a\x0avec3\x20'+'iridescenc'+'e_fresnelT'+'oIor(vec3\x20'+'f0)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20sqrtF'+'0\x20=\x20sqrt(f'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20(vec3'+'(1.0)\x20+\x20sq'+'rtF0)\x20/\x20(v'+'ec3(1.0)\x20-'+'\x20sqrtF0);\x0a'+'}\x0a\x0avec3\x20ir'+'idescence_'+'sensitivit'+'y(float\x20op'+'d,\x20vec3\x20sh'+'ift)\x20{\x0a\x20\x20\x20'+'\x20float\x20PI\x20'+'=\x203.141592'+'653589793;'+'\x0a\x20\x20\x20\x20float'+'\x20phase\x20=\x202'+'.0\x20*\x20PI\x20*\x20'+'opd\x20*\x201.0e'+'-9;\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20v'+'al\x20=\x20vec3('+'5.4856e-13'+',\x204.4201e-'+'13,\x205.2481'+'e-13);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20pos\x20=\x20ve'+'c3(1.6810e'+'+06,\x201.795'+'3e+06,\x202.2'+'084e+06);\x0a'+'\x20\x20\x20\x20const\x20'+'vec3\x20var\x20='+'\x20vec3(4.32'+'78e+09,\x209.'+'3046e+09,\x20'+'6.6121e+09'+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20xyz\x20=\x20v'+'al\x20*\x20sqrt('+'2.0\x20*\x20PI\x20*'+'\x20var)\x20*\x20co'+'s(pos\x20*\x20ph'+'ase\x20+\x20shif'+'t)\x20*\x20exp(-'+'pow(phase,'+'\x202.0)\x20*\x20va'+'r);\x0a\x20\x20\x20\x20xy'+'z.x\x20+=\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+('cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20/=\x20vec3(1'+'.0685e-07)'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20mat3\x20XY'+'Z_TO_REC70'+'9\x20=\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x203.'+'2404542,\x20-'+'0.9692660,'+'\x20\x200.055643'+'4,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-1.5371385'+',\x20\x201.87601'+'08,\x20-0.204'+'0259,\x0a\x20\x20\x20\x20'+'\x20\x20\x20-0.4985'+'314,\x20\x200.04'+'15560,\x20\x201.'+'0572252\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'return\x20XYZ'+'_TO_REC709'+'\x20*\x20xyz;\x0a}\x0a'+'\x0afloat\x20iri'+'descence_f'+'resnel(flo'+'at\x20cosThet'+'a,\x20float\x20f'+'0)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20x\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x2\x20=\x20x\x20*'+'\x20x;\x0a\x20\x20\x20\x20fl'+'oat\x20x5\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x20\x0a\x0av'+'ec3\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'vec3\x20f0)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20clamp'+'(1.0\x20-\x20cos'+'Theta,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20float\x20x2'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'x5\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x20\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(vec3'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0avec3\x20calc'+'Iridescenc'+'e(float\x20ou'+'tsideIor,\x20'+'float\x20cosT'+'heta,\x20vec3'+'\x20base_f0,\x20'+'float\x20irid'+'escenceThi'+'ckness)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceIor\x20'+'=\x20mix(outs'+'ideIor,\x20ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20float'+'\x20sinTheta2'+'Sq\x20=\x20pow(o'+'utsideIor\x20'+'/\x20iridesce')+('nceIor,\x202.'+'0)\x20*\x20(1.0\x20'+'-\x20pow(cosT'+'heta,\x202.0)'+');\x0a\x20\x20\x20\x20flo'+'at\x20cosThet'+'a2Sq\x20=\x201.0'+'\x20-\x20sinThet'+'a2Sq;\x0a\x0a\x20\x20\x20'+'\x20if\x20(cosTh'+'eta2Sq\x20<\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec3(1.0)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20c'+'osTheta2\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20r0\x20=\x20irid'+'escence_io'+'rToFresnel'+'(iridescen'+'ceIor,\x20out'+'sideIor);\x0a'+'\x20\x20\x20\x20float\x20'+'r12\x20=\x20irid'+'escence_fr'+'esnel(cosT'+'heta,\x20r0);'+'\x0a\x20\x20\x20\x20float'+'\x20r21\x20=\x20r12'+';\x0a\x20\x20\x20\x20floa'+'t\x20t121\x20=\x201'+'.0\x20-\x20r12;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20phi12\x20=\x20i'+'ridescence'+'Ior\x20<\x20outs'+'ideIor\x20?\x20P'+'I\x20:\x200.0;\x0a\x20'+'\x20\x20\x20float\x20p'+'hi21\x20=\x20PI\x20'+'-\x20phi12;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20b'+'aseIor\x20=\x20i'+'ridescence'+'_fresnelTo'+'Ior(base_f'+'0\x20+\x20vec3(0'+'.0001));\x0a\x20'+'\x20\x20\x20vec3\x20r1'+'\x20=\x20iridesc'+'ence_iorTo'+'Fresnel(ba'+'seIor,\x20iri'+'descenceIo'+'r);\x0a\x20\x20\x20\x20ve'+'c3\x20r23\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta2,\x20'+'r1);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20phi23'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20if'+'\x20(baseIor['+'0]\x20<\x20iride'+'scenceIor)'+'\x20phi23[0]\x20'+'=\x20PI;\x0a\x20\x20\x20\x20'+'if\x20(baseIo'+'r[1]\x20<\x20iri'+'descenceIo'+'r)\x20phi23[1'+']\x20=\x20PI;\x0a\x20\x20'+'\x20\x20if\x20(base'+'Ior[2]\x20<\x20i'+'ridescence'+'Ior)\x20phi23'+'[2]\x20=\x20PI;\x0a'+'\x20\x20\x20\x20float\x20'+'opd\x20=\x202.0\x20'+'*\x20iridesce'+'nceIor\x20*\x20i'+'ridescence'+'Thickness\x20'+'*\x20cosTheta'+'2;\x0a\x20\x20\x20\x20vec'+'3\x20phi\x20=\x20ve'+'c3(phi21)\x20'+'+\x20phi23;\x20\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123Sq\x20=\x20c'+'lamp(r12\x20*'+'\x20r23,\x201e-5'+',\x200.9999);'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123\x20=\x20sqr')+('t(r123Sq);'+'\x0a\x20\x20\x20\x20vec3\x20'+'rs\x20=\x20pow(t'+'121,\x202.0)\x20'+'*\x20r23\x20/\x20(1'+'.0\x20-\x20r123S'+'q);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20c0\x20=\x20r'+'12\x20+\x20rs;\x0a\x20'+'\x20\x20\x20vec3\x20i\x20'+'=\x20c0;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cm\x20='+'\x20rs\x20-\x20t121'+';\x0a\x20\x20\x20\x20for\x20'+'(int\x20m\x20=\x201'+';\x20m\x20<=\x202;\x20'+'m++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20cm\x20*='+'\x20r123;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'sm\x20=\x202.0\x20*'+'\x20iridescen'+'ce_sensiti'+'vity(float'+'(m)\x20*\x20opd,'+'\x20float(m)\x20'+'*\x20phi);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20i\x20+='+'\x20cm\x20*\x20sm;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20max'+'(i,\x20vec3(0'+'.0));\x0a}\x0a\x0av'+'ec3\x20getIri'+'descence(f'+'loat\x20cosTh'+'eta,\x20vec3\x20'+'specularit'+'y,\x20float\x20i'+'ridescence'+'Thickness)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),oP='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_irid'+'escence;\x0a#'+'endif\x0a\x0avoi'+'d\x20getIride'+'scence()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_IRID'+'ESCENCE_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20iridescen'+'ce\x20*=\x20mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20textur'+'e2DBias({S'+'TD_IRIDESC'+'ENCE_TEXTU'+'RE_NAME},\x20'+'{STD_IRIDE'+'SCENCE_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCE_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scence\x20=\x20i'+'ridescence'+';\x20\x0a}\x0a',lP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_iridesc'+'enceThickn'+'essMin;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'end\x20=\x20text'+'ure2DBias('+'{STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE_NAME},'+'\x20{STD_IRID'+'ESCENCETHI'+'CKNESS_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCET'+'HICKNESS_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20iridescen'+'ceThicknes'+'s\x20=\x20mix(ma'+'terial_iri'+'descenceTh'+'icknessMin'+',\x20material'+'_iridescen'+'ceThicknes'+'sMax,\x20blen'+'d);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',cP='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'fractionIn'+'dex;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tIor()\x20{\x0a#'+'ifdef\x20STD_'+'IOR_CONSTA'+'NT\x0a\x20\x20\x20\x20dIo'+'r\x20=\x20materi'+'al_refract'+'ionIndex;\x0a'+'#else\x0a\x20\x20\x20\x20'+'dIor\x20=\x201.0'+'\x20/\x201.5;\x0a#e'+'ndif\x0a}\x0a',hP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20light{i}_'+'color;\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec3\x20light'+'{i}_direct'+'ion;\x0a\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20LIT_CODE'+'_LIGHTS_PO'+'INT\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20point\x20l'+'ights\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_pos'+'ition;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_ra'+'dius;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20SPOT\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20spot\x20ligh'+'ts\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20l'+'ight{i}_di'+'rection;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20light'+'{i}_innerC'+'oneAngle;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_outer'+'ConeAngle;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'3\x20light{i}'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20vec3\x20lig'+'ht{i}_half'+'Width;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_hal'+'fHeight;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'FALLOFF\x20=='+'\x20LINEAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+('T_CODE_FAL'+'LOFF_LINEA'+'R\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20linear\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}FALLOFF\x20'+'==\x20INVERSE'+'SQUARED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ca'+'sting\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'CASTSHADOW'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20light{'+'i}_shadowM'+'atrix;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_sh'+'adowIntens'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec4\x20ligh'+'t{i}_shado'+'wParams;\x20/'+'/\x20width,\x20h'+'eight,\x20bia'+'s,\x20radius\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_s'+'hadowSearc'+'hArea;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20light{i}'+'_cameraPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_sof'+'tShadowPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20direction'+'al\x20(cascad'+'ed)\x20shadow'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrixPa'+'lette[4];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec4\x20light'+'{i}_shadow'+'CascadeDis'+'tances;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20in'+'t\x20light{i}'+'_shadowCas')+('cadeCount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_shad'+'owCascadeB'+'lend;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'SHADOW_PCF'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2DShado'+'w\x20light{i}'+'_shadowMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_shadowM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'okie\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIGHT{i}C'+'OOKIE)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_COOKIE\x20'+'//\x20include'+'\x20functiona'+'lity\x20for\x20c'+'ookies\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20light{i'+'}_cookie;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_cooki'+'eIntensity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d'+'efined(LIG'+'HT{i}CASTS'+'HADOW)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20ligh'+'t{i}_shado'+'wMatrix;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20SPOT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20lig')+('ht{i}_cook'+'ie;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_c'+'ookieInten'+'sity;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIGHT{i}C'+'ASTSHADOW)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'light{i}_s'+'hadowMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIGH'+'T{i}COOKIE'+'_TRANSFORM'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20light{i}_'+'cookieMatr'+'ix;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c2\x20light{i'+'}_cookieOf'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),dP='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',fP='\x0avec3\x20eval'+'OmniLight('+'vec3\x20light'+'PosW)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'PositionW\x20'+'-\x20lightPos'+'W;\x0a}\x0a',uP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',pP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0avoid\x20e'+'valuateLig'+'ht{i}(\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20iridesc'+'enceFresne'+'l\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20color\x0a\x20\x20\x20'+'\x20vec3\x20ligh'+'tColor\x20=\x20l'+'ight{i}_co'+'lor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x20&&\x20!defi'+'ned(LIT_SH'+'ADOW_CATCH'+'ER)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20return\x20if'+'\x20the\x20light'+'\x20color\x20is\x20'+'black\x20(use'+'d\x20by\x20shado'+'w\x20catcher\x20'+'-\x20this\x20way'+'\x20this\x20ligh'+'t\x20is\x20very\x20'+'cheap)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(a'+'ll(equal(l'+'ightColor,'+'\x20vec3(0.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20dir'+'ectional\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light{i}_'+'direction;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20omn'+'i\x20or\x20spot\x20'+'light\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtDirW\x20=\x20'+'evalOmniLi'+'ght(light{'+'i}_positio'+'n);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightDi'+'rNormW\x20=\x20n'+'ormalize(l'+'ightDirW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20cookie\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'COOKIE)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_FALLOF'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_TRANSF'+'ORM\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2DXform('+('light{i}_c'+'ookie,\x20lig'+'ht{i}_shad'+'owMatrix,\x20'+'light{i}_c'+'ookieInten'+'sity,\x20ligh'+'t{i}_cooki'+'eMatrix,\x20l'+'ight{i}_co'+'okieOffset'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2D(light'+'{i}_cookie'+',\x20light{i}'+'_shadowMat'+'rix,\x20light'+'{i}_cookie'+'Intensity)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}COOKIE_TR'+'ANSFORM\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'Cookie2DCl'+'ipXform(li'+'ght{i}_coo'+'kie,\x20light'+'{i}_shadow'+'Matrix,\x20li'+'ght{i}_coo'+'kieIntensi'+'ty,\x20light{'+'i}_cookieM'+'atrix,\x20lig'+'ht{i}_cook'+'ieOffset).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20cookieAtt'+'enuation\x20='+'\x20getCookie'+'2DClip(lig'+'ht{i}_cook'+'ie,\x20light{'+'i}_shadowM'+'atrix,\x20lig'+'ht{i}_cook'+'ieIntensit'+'y).{LIGHT{'+'i}COOKIE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20OMNI\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'CookieCube'+'(light{i}_'+'cookie,\x20li'+'ght{i}_sha')+('dowMatrix,'+'\x20light{i}_'+'cookieInte'+'nsity).{LI'+'GHT{i}COOK'+'IE_CHANNEL'+'};\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'ltiply\x20lig'+'ht\x20color\x20b'+'y\x20the\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lig'+'htColor\x20*='+'\x20cookieAtt'+'enuation;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20di'+'stance\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20==\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}FAL'+'LOFF\x20==\x20LI'+'NEAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Linear(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20=\x20g'+'etFalloffI'+'nvSquared('+'light{i}_r'+'adius,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20non'+'\x20punctual\x20'+'lights\x20onl'+'y\x20gets\x20the'+'\x20range\x20win'+'dow\x20here\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Window(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20angle\x20'+'falloff\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20SPOT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20!de'+'fined(LIGH'+'T{i}COOKIE'+')\x20||\x20defin'+'ed(LIGHT{i'+'}COOKIE_FA'+'LLOFF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dAtten\x20'+'*=\x20getSpot'+'Effect(lig'+'ht{i}_dire'+'ction,\x20lig'+'ht{i}_inne'+'rConeAngle'+',\x20light{i}'+'_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20if\x20(dA'+'tten\x20<\x200.0')+('0001)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20are'+'a\x20light\x20va'+'lues\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcR'+'ectLightVa'+'lues(light'+'{i}_positi'+'on,\x20light{'+'i}_halfWid'+'th,\x20light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20calcDi'+'skLightVal'+'ues(light{'+'i}_positio'+'n,\x20light{i'+'}_halfWidt'+'h,\x20light{i'+'}_halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcS'+'phereLight'+'Values(lig'+'ht{i}_posi'+'tion,\x20ligh'+'t{i}_halfW'+'idth,\x20ligh'+'t{i}_halfH'+'eight);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'lighting\x20-'+'\x20LTC\x20light'+'s\x20do\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20'+'into\x20atten'+'uation\x20tha'+'t\x20affects\x20'+'specular\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20atten'+'Diffuse\x20-\x20'+'separate\x20d'+'iffuse\x20att'+'enuation\x20f'+'or\x20non-pun'+'ctual\x20ligh'+'t\x20sources\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20NB:\x20'+'A\x20better\x20a'+'pproximati'+'on\x20perhaps'+'\x20using\x20wra'+'p\x20lighting'+'\x20could\x20be\x20'+'implemente'+'d\x20here\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20atten'+'Diffuse\x20=\x20'+'getLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dL'+'ightDirNor'+'mW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x2016.0\x20i'+'s\x20a\x20consta'+'nt\x20that\x20is'+'\x20in\x20getFal'+'loffInvSqu'+'ared()\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20==\x20'+'RECT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getRectL'+'ightDiffus'+'e(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20lightD'+'irW,\x20dLigh'+'tDirNormW)'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20attenDiff'+'use\x20=\x20getD'+'iskLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20li'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getSpher'+'eLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20ligh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20one\x20'+'parameter\x20'+'is\x20unused\x20'+'for\x20punctu'+'al\x20lights\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20*=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20vec3('+'0.0),\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20apply\x20th'+'e\x20shadow\x20a'+'ttenuation'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'CASTSHADOW'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadow{i'+'}(vec3(0.0'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adow{i}(li'+'ghtDirW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20App')+('ly\x20shadow\x20'+'intensity\x20'+'to\x20the\x20sha'+'dow\x20value\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20=\x20mix'+'(1.0,\x20shad'+'ow,\x20light{'+'i}_shadowI'+'ntensity);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20*=\x20'+'shadow;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_SHADOW_'+'CATCHER)\x20&'+'&\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20accum'+'ulate\x20shad'+'ows\x20for\x20di'+'rectional\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ShadowCatc'+'her\x20*=\x20sha'+'dow;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20-\x20they\x20do'+'\x20not\x20mix\x20d'+'iffuse\x20lig'+'hting\x20into'+'\x20specular\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20('+'(attenDiff'+'use\x20*\x20dAtt'+'en)\x20*\x20ligh'+'tColor)\x20*\x20'+'(1.0\x20-\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(atte'+'nDiffuse\x20*'+'\x20dAtten)\x20*'+'\x20lightColo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20punctua'+'l\x20light\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(AR'+'EA_LIGHTS)'+'\x20&&\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(dAtt'+'en\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20litA'+'rgs_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20spec'+'ular\x20light'+'ing\x0a\x20\x20\x20\x20#i'+'fdef\x20LIGHT')+('{i}AFFECT_'+'SPECULARIT'+'Y\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x20//\x20area\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccSpecula'+'rLight\x20+=\x20'+'ccLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_clear'+'coat_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20ccLTC'+'SpecFres\x20*'+'\x20getDiskLi'+'ghtSpecula'+'r(litArgs_'+'clearcoat_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ge'+'tSphereLig'+'htSpecular'+'(litArgs_c'+'learcoat_w'+'orldNormal'+',\x20dViewDir'+'W)\x20*\x20dAtte'+'n\x20*\x20lightC'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20dLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp')+('ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20SPHERE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20d'+'LTCSpecFre'+'s\x20*\x20getSph'+'ereLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20punctual'+'\x20light\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20is\x20fres'+'nel\x20needed'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20LI'+'T_FRESNEL_'+'MODEL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'GHT{i}FRES'+'NEL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20hal'+'fDirW\x20=\x20no'+'rmalize(-d'+'LightDirNo'+'rmW\x20+\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20if\x20LTC\x20'+'lights\x20are'+'\x20present,\x20'+'specular\x20m'+'ust\x20be\x20acc'+'umulated\x20w'+'ith\x20specul'+'arity\x20(spe'+'cularity\x20i'+'s\x20pre\x20mult'+'iplied\x20by\x20'+'punctual\x20l'+'ight\x20fresn'+'el)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtspecula'+'rCC\x20=\x20getL'+'ightSpecul'+'ar(halfDir'+'W,\x20ccReflD'+'irW,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_clearcoat'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tspecularC'+'C\x20*=\x20getFr'+'esnelCC(do'+'t(dViewDir'+'W,\x20halfDir'+'W));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20lightsp'+'ecularCC;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20lightSpec'+'ular\x20=\x20get'+'LightSpecu'+'lar(halfDi'+'rW,\x20dReflD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightSpecu'+'lar\x20*=\x20get'+'Fresnel(do'+'t(dViewDir'+'W,\x20halfDir'+'W),\x20litArg'+'s_gloss,\x20l'+'itArgs_spe'+'cularity,\x20'+'iridescenc'+'eFresnel,\x20'+'litArgs_ir'+'idescence_'+'intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20*=\x20g'+'etFresnel('+'dot(dViewD'+'irW,\x20halfD'+'irW),\x20litA'+'rgs_gloss,'+'\x20litArgs_s')+('pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20lightSp'+'ecular\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20+=\x20light'+'Specular;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a#en'+'dif\x0a'),mP='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20vec3\x20'+'getShadowS'+'ampleCoord'+'{i}(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'urfacePosi'+'tion\x20=\x20wor'+'ldPosition'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT{i}_SHA'+'DOW_SAMPLE'+'_POINT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20len'+'gth(lightD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightDir'+'\x20=\x20surface'+'Position\x20-'+'\x20lightPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_S'+'OURCE_ZBUF'+'FER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+('NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20distScal'+'e\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20abs'+'(dot(vPosi'+'tionW\x20-\x20li'+'ghtPos,\x20li'+'ghtDirNorm'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20posi'+'tionInShad'+'owSpace\x20=\x20'+'shadowTran'+'sform\x20*\x20ve'+'c4(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM'+'PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.')+('w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20posit'+'ionInShado'+'wSpace.xy\x20'+'/=\x20positio'+'nInShadowS'+'pace.w;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20po'+'sitionInSh'+'adowSpace.'+'z\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20thi'+'s\x20is\x20curre'+'ntly\x20unuse'+'d\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SHADOW_SA'+'MPLE_Z_BIA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20positionI'+'nShadowSpa'+'ce.z\x20+=\x20ge'+'tShadowBia'+'s(shadowPa'+'rams.x,\x20sh'+'adowParams'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20positi'+'onInShadow'+'Space.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20surfaceP'+'osition;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'evaluation'+'\x20function\x0a'+'\x20\x20\x20\x20float\x20'+'getShadow{'+'i}(vec3\x20li'+'ghtDirW)\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20shado'+'w\x20cascades'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_CASCADES'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20sel'+'ect\x20shadow'+'\x20cascade\x20m'+'atrix\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'t\x20cascadeI'+'ndex\x20=\x20get'+'ShadowCasc'+'adeIndex(l'+'ight{i}_sh'+'adowCascad'+'eDistances'+',\x20light{i}'+'_shadowCas'+'cadeCount)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'_SHADOW_CA'+'SCADE_BLEN'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'scadeIndex'+'\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex'+',\x20light{i}'+'_shadowCas'+'cadeDistan'+'ces,\x20light')+('{i}_shadow'+'CascadeCou'+'nt,\x20light{'+'i}_shadowC'+'ascadeBlen'+'d);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mat4'+'\x20shadowMat'+'rix\x20=\x20ligh'+'t{i}_shado'+'wMatrixPal'+'ette[casca'+'deIndex];\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t4\x20shadowM'+'atrix\x20=\x20li'+'ght{i}_sha'+'dowMatrix;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20DIRE'+'CTIONAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20light'+'\x20does\x20not\x20'+'have\x20a\x20pos'+'ition\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20light'+'{i}_shadow'+'Params,\x20vP'+'ositionW,\x20'+'vec3(0.0),'+'\x20lightDirW'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20shad'+'owCoord\x20=\x20'+'getShadowS'+'ampleCoord'+'{i}(shadow'+'Matrix,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20vPosition'+'W,\x20light{i'+'}_position'+',\x20lightDir'+'W,\x20dLightD'+'irNormW,\x20d'+'VertexNorm'+'alW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Fade\x20di'+'rectional\x20'+'shadow\x20at\x20'+'the\x20far\x20di'+'stance\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadowCoord'+'\x20=\x20fadeSha'+'dow(shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owCascadeD'+'istances);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20--'+'---\x20sample'+'\x20the\x20shado'+'w\x20-----\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x20/'+'/\x20-----\x20di'+'rectional\x20'+'light\x20----')+('-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wVSM16(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x205'+'.54);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20VSM_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowVSM32('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x2015.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCS'+'S_32F\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sh'+'adowSearch'+'Area\x20=\x20vec'+'2(length(l'+'ight{i}_ha'+'lfWidth),\x20'+'length(lig'+'ht{i}_half'+'Height))\x20*'+'\x20light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCSS(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20light{i}_'+'cameraPara'+'ms,\x20shadow'+'SearchArea'+',\x20lightDir'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20light{i}'+'_softShado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF1_16'+'F\x20||\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'1_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF3'+'_16F\x20||\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCF3x3(SH'+'ADOWMAP_PA'+'SS(light{i'+'}_shadowMa'+'p),\x20shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF5_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF5_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(SHADOWMAP'+'_PASS(ligh'+'t{i}_shado'+'wMap),\x20sha'+'dowCoord,\x20'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20S'+'POT\x20//\x20---'+'--\x20spot\x20li'+'ght\x20-----\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20V'+'SM_16F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potVSM16(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x205.54,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowSpo')+('tVSM32(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x201'+'5.0,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20shad'+'owSearchAr'+'ea\x20=\x20vec2('+'length(lig'+'ht{i}_half'+'Width),\x20le'+'ngth(light'+'{i}_halfHe'+'ight))\x20*\x20l'+'ight{i}_sh'+'adowSearch'+'Area;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(lig'+'ht{i}_shad'+'owSearchAr'+'ea);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotPCSS('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x20light{i}'+'_cameraPar'+'ams,\x20shado'+'wSearchAre'+'a,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF1_1'+'6F\x20||\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA')+('DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F5_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_PASS(l'+'ight{i}_sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20light{i'+'}_shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x20//\x20'+'-----\x20omni'+'\x20light\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCSS_32F'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P'+'UNCTUAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(len'+'gth(light{'+'i}_halfWid'+'th),\x20lengt'+'h(light{i}'+'_halfHeigh'+'t))\x20*\x20ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2(light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20shadowSe'+'archArea,\x20'+'lightDirW)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_')+('32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF3_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF3_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowOmniPC'+'F3x3(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),_P='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20areaLight'+'sLutTex2;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCSSPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22shadow'+'SoftPS\x22\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(SH'+'ADOW_KIND_'+'VSM)\x0a\x20\x20\x20\x20#'+'include\x20\x22s'+('hadowEVSMP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_LINEA'+'R\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fall'+'offLinearP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22fal'+'loffInvSqu'+'aredPS\x22\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20LIT_COD'+'E_LIGHTS_P'+'OINT\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'ightDirPoi'+'ntPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22spot'+'PS\x22\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_CODE_CO'+'OKIE\x0a\x20\x20\x20\x20#'+'include\x20\x22c'+'ookiePS\x22\x0a#'+'endif\x0a\x0a//\x20'+'clustered\x20'+'lighting\x0a#'+'ifdef\x20LIT_'+'CLUSTERED_'+'LIGHTS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22clustered'+'LightPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHT_'+'COUNT\x20>\x200\x0a'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20genera'+'te\x20shadow\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionSha'+'dowPS,\x20LIG'+'HT_COUNT\x22\x0a'+'\x0a\x20\x20\x20\x20//\x20LO'+'OP\x20-\x20gener'+'ate\x20light\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionLig'+'htPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a'),gP='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'rectional\x20'+'lightmap\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x20&'+'&\x20defined('+'LIT_DIR_LI'+'GHTMAP)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dot(dir,\x20'+'dir)\x20<\x200.0'+'001)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'lightmap;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20vligh'+'t\x20=\x20satura'+'te(dot(dir'+',\x20-vertexN'+'ormal));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fli'+'ght\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20nl'+'ight\x20=\x20(fl'+'ight\x20/\x20max'+'(vlight,\x200'+'.01))\x20*\x200.'+'5;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p\x20*\x20nlight'+'\x20*\x202.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20half'+'Dir\x20=\x20norm'+'alize(-dir'+'\x20+\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'specularLi'+'ght\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20getFre'+'snel(dot(v'+'iewDir,\x20ha'+'lfDir),\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceInt'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20non-dire'+'ctional\x20li'+'ghtmap\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),SP='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'vec3\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_d'+'irLightMap'+';\x0a#endif\x0a\x0a'+'void\x20getLi'+'ghtMap()\x20{'+'\x0a\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_LIGHT'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dLi'+'ghtmap\x20*=\x20'+'{STD_LIGHT'+'_TEXTURE_D'+'ECODE}(tex'+'ture2DBias'+'({STD_LIGH'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'LIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_LIGHTM'+'AP_DIR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dir\x20=\x20'+'texture2DB'+'ias(textur'+'e_dirLight'+'Map,\x20{STD_'+'LIGHT_TEXT'+'URE_UV},\x20t'+'extureBias'+').xyz\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dir'+'Dot\x20=\x20dot('+'dir,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightm'+'apDir\x20=\x20(d'+'irDot\x20>\x200.'+'001)\x20?\x20dir'+'\x20/\x20sqrt(di'+'rDot)\x20:\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_LIGHT_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_LIGHT_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a',yP='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20alp'+'haRoughnes'+'s\x20=\x20roughn'+'ess\x20*\x20roug'+'hness;\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'dAnisotrop'+'y;\x0a\x20\x20\x20\x20vec'+'2\x20directio'+'n\x20=\x20dAniso'+'tropyRotat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'float\x20at\x20='+'\x20mix(alpha'+'Roughness,'+'\x201.0,\x20anis'+'otropy\x20*\x20a'+'nisotropy)'+';\x0a\x20\x20\x20\x20floa'+'t\x20ab\x20=\x20cla'+'mp(alphaRo'+'ughness,\x200'+'.001,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20anisotro'+'picT\x20=\x20nor'+'malize(tbn'+'\x20*\x20vec3(di'+'rection,\x200'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicB\x20=\x20'+'normalize('+'cross(tbn['+'2],\x20anisot'+'ropicT));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20NoH\x20=\x20dot'+'(worldNorm'+'al,\x20h);\x0a\x20\x20'+'\x20\x20float\x20To'+'H\x20=\x20dot(an'+'isotropicT'+',\x20h);\x0a\x20\x20\x20\x20'+'float\x20BoH\x20'+'=\x20dot(anis'+'otropicB,\x20'+'h);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20a2\x20=\x20'+'at\x20*\x20ab;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20vec3(ab\x20'+'*\x20ToH,\x20at\x20'+'*\x20BoH,\x20a2\x20'+'*\x20NoH);\x0a\x20\x20'+'\x20\x20float\x20v2'+'\x20=\x20dot(v,\x20'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20w2\x20=\x20a'+'2\x20/\x20v2;\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'ToV\x20=\x20dot('+'anisotropi'+'cT,\x20viewDi'+'r);\x0a\x20\x20\x20\x20fl'+'oat\x20BoV\x20=\x20'+'dot(anisot'+'ropicB,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20float\x20To'+'L\x20=\x20dot(an'+'isotropicT'+(',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20Bo'+'L\x20=\x20dot(an'+'isotropicB'+',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20No'+'V\x20=\x20dot(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20float'+'\x20NoL\x20=\x20dot'+'(worldNorm'+'al,\x20-light'+'DirNorm);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20lambdaV\x20='+'\x20NoL\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToV,\x20a'+'b\x20*\x20BoV,\x20N'+'oV));\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daL\x20=\x20NoV\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oL,\x20ab\x20*\x20B'+'oL,\x20NoL));'+'\x0a\x20\x20\x20\x20float'+'\x20G\x20=\x200.5\x20/'+'\x20(lambdaV\x20'+'+\x20lambdaL)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20D\x20*\x20G;'+'\x0a}\x0a\x0afloat\x20'+'getLightSp'+'ecular(vec'+'3\x20h,\x20vec3\x20'+'reflDir,\x20v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'float\x20glos'+'s,\x20mat3\x20tb'+'n)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'LightSpecu'+'lar(gloss,'+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20h,\x20ligh'+'tDirNorm,\x20'+'tbn);\x0a}\x0a'),vP='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',xP='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20PI\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',TP='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'hWithParam'+'s(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec4\x20ca'+'mera_param'+'s;\x20//\x20x:\x201'+'\x20/\x20camera_'+'far,\x20\x20\x20\x20\x20\x20'+'y:\x20camera_'+'far,\x20\x20\x20\x20\x20z'+':\x20camera_n'+'ear,\x20\x20\x20\x20\x20\x20'+'\x20\x20w:\x20is_or'+'tho\x0a#endif'+'\x0a\x0afloat\x20li'+'nearizeDep'+'th(float\x20z'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20linea'+'rizeDepthW'+'ithParams('+'z,\x20camera_'+'params);\x0a}'+'\x0a#endif\x0a',wP='\x0avoid\x20eval'+'uateBacken'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'SSAO\x20durin'+'g\x20lighting'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_SSAO'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ao\x20'+'*=\x20texture'+'2DLod(ssao'+'Texture,\x20g'+'l_FragCoor'+'d.xy\x20*\x20ssa'+'oTextureSi'+'zeInv,\x200.0'+').r;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20transf'+'orm\x20tangen'+'t\x20space\x20no'+'rmals\x20to\x20w'+'orld\x20space'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_NEED'+'S_NORMAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etReflDir('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20litArgs_'+'gloss,\x20dTB'+'N);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W\x20=\x20normal'+'ize(-refle'+'ct(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR_OR'+'_REFLECTIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20f'+'0\x20=\x201.0\x20/\x20'+'litArgs_io'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20f0\x20=\x20'+'(f0\x20-\x201.0)'+'\x20/\x20(f0\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20f0\x20'+'*=\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+('ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'mbient\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20addAmbie'+'nt(litArgs'+'_worldNorm'+'al);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20dDiffuse'+'Light\x20*\x20(1'+'.0\x20-\x20litAr'+'gs_specula'+'rity);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20move\x20a'+'mbient\x20col'+'or\x20out\x20of\x20'+'diffuse\x20(u'+'sed\x20by\x20Lig'+'htmapper,\x20'+'to\x20multipl'+'y\x20ambient\x20'+'color\x20by\x20a'+'ccumulated'+'\x20AO)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SEPARA'+'TE_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dA'+'mbientLigh'+'t\x20=\x20dDiffu'+'seLight;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_O'+'LD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20*=\x20mate'+'rial_ambie'+'nt;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OCCLUD'+'E_DIRECT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20occludeDi'+'ffuse(litA'+'rgs_ao);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTMAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'dLightMap('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_lightmap'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dViewDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dRef'+'lDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dTBN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTING\x20'+'||\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tionCC(ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_glo'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_FRESNE'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccFresne'+'l\x20=\x20getFre'+'snelCC(dot'+'(dViewDirW'+',\x20litArgs_'+'clearcoat_'+'worldNorma'+'l));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccRef'+'lection\x20*='+'\x20ccFresnel'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20*=\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'addReflect'+'ionSheen(l'+'itArgs_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20litArgs_s'+'heen_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Fr')+('esnel\x20has\x20'+'to\x20be\x20appl'+'ied\x20to\x20ref'+'lections\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tion(dRefl'+'DirW,\x20litA'+'rgs_gloss)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_FRES'+'NEL_MODEL\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dRe'+'flection.r'+'gb\x20*=\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.rgb\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n.rgb\x20*=\x20l'+'itArgs_spe'+'cularityFa'+'ctor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20ARE'+'A_LIGHTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20has\x20to\x20'+'be\x20accumul'+'ated\x20diffe'+'rently\x20if\x20'+'we\x20want\x20ar'+'ea\x20lights\x20'+'to\x20look\x20co'+'rrect\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dS'+'pecularLig'+'ht\x20*=\x20litA'+'rgs_specul'+'arity;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'valuate\x20ma'+'terial\x20bas'+'ed\x20area\x20li'+'ghts\x20data,')+('\x20shared\x20by'+'\x20all\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcLTC'+'LightValue'+'s(litArgs_'+'gloss,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_gl'+'oss,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20LOOP\x20-\x20e'+'valuate\x20al'+'l\x20non-clus'+'tered\x20ligh'+'ts\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT_COUNT\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tEvaluatio'+'nPS,\x20LIGHT'+'_COUNT\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clust'+'ered\x20light'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addClust'+'eredLights'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dReflDi'+'rW,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_CLEA'+'RCOAT)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20litAr'+'gs_specula'+'rity,\x20dVer'+'texNormalW'+',\x20dTBN,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_gloss,'+'\x20litArgs_s'+'heen_gloss'+',\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20AR'+'EA_LIGHTS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x20=\x20ve'+'c3(1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'thickness,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_albe'+'do,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_t'+'ransmissio'+'n,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_disp'+'ersion\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_iridesc'+'ence_inten'+'sity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20ambient'+'\x20occlusion'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_OC')+('CLUDE_DIRE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20occlu'+'deDiffuse('+'litArgs_ao'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIT_OCCLU'+'DE_SPECULA'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeS'+'pecular(li'+'tArgs_glos'+'s,\x20litArgs'+'_ao,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULARIT'+'Y_FACTOR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20litAr'+'gs_specula'+'rityFactor'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIT_OPACI'+'TY_FADES_S'+'PECULAR)\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIT_BLEN'+'D_TYPE\x20==\x20'+'NORMAL\x20||\x20'+'LIT_BLEND_'+'TYPE\x20==\x20PR'+'EMULTIPLIE'+'D\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20specLum\x20='+'\x20dot((dSpe'+'cularLight'+'\x20+\x20dReflec'+'tion.rgb\x20*'+'\x20dReflecti'+'on.a),\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecLum\x20+=\x20'+'dot(ccSpec'+'ularLight\x20'+'*\x20litArgs_'+'clearcoat_'+'specularit'+'y\x20+\x20ccRefl'+'ection\x20*\x20l'+'itArgs_cle'+'arcoat_spe'+'cularity,\x20'+'vec3(\x200.21'+'26,\x200.7152'+',\x200.0722\x20)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_opacity\x20'+'=\x20clamp(li'+'tArgs_opac'+'ity\x20+\x20gamm'+'aCorrectIn'+'put(specLu'+'m),\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;\x0a\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nd\x20chunks\x20'+'-\x20when\x20bak'+'ing\x20lightm'+'ap\x0a\x20\x20\x20\x20#if'+'def\x20LIT_LI')+('GHTMAP_BAK'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22bak'+'eLmEndPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_LIGHTM'+'AP_BAKING_'+'DIR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22bake'+'DirLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20en'+'d\x20chunks\x20-'+'\x20in\x20all\x20ot'+'her\x20cases\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22en'+'dPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22outputA'+'lphaPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_MSDF\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20applyMs'+'df(gl_Frag'+'Color);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22output'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22de'+'bugOutputP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HADOW_CATC'+'HER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20when\x20the'+'\x20shadow\x20ca'+'tcher\x20is\x20e'+'nabled\x20-\x20a'+'ccumulated'+'\x20shadows\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20=\x20vec3'+'(dShadowCa'+'tcher);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a'),EP='\x0a\x0a//\x20globa'+'ls\x0avec3\x20sR'+'eflection;'+'\x0avec3\x20dVer'+'texNormalW'+';\x0avec3\x20dTa'+'ngentW;\x0ave'+'c3\x20dBinorm'+'alW;\x0avec3\x20'+'dViewDirW;'+'\x0avec3\x20dRef'+'lDirW;\x0avec'+'3\x20ccReflDi'+'rW;\x0a\x0a//\x20Pe'+'r-light\x20te'+'mporaries\x0a'+'vec3\x20dLigh'+'tDirNormW;'+'\x0afloat\x20dAt'+'ten;\x0a\x0a//\x20O'+'utputs\x0amat'+'3\x20dTBN;\x0ave'+'c4\x20dReflec'+'tion;\x0avec3'+'\x20dDiffuseL'+'ight;\x0avec3'+'\x20dSpecular'+'Light;\x0aflo'+'at\x20ccFresn'+'el;\x0avec3\x20c'+'cReflectio'+'n;\x0avec3\x20cc'+'SpecularLi'+'ght;\x0afloat'+'\x20ccSpecula'+'rityNoFres'+';\x0avec3\x20sSp'+'ecularLigh'+'t;\x0a\x0a//\x20FRA'+'GMENT\x20SHAD'+'ER\x20INPUTS:'+'\x20UNIFORMS\x0a'+'\x0a#ifdef\x20LI'+'T_DISPERSI'+'ON\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'dispersion'+';\x0a#endif\x0a\x0a'+'#ifndef\x20LI'+'T_OPACITY_'+'FADES_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_alphaFad'+'e;\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_SSAO\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20unif'+'orm\x20vec2\x20s'+'saoTexture'+'SizeInv;\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20a'+'nd\x20shadowi'+'ng\x20declara'+'tions\x0a\x0a#if'+'def\x20LIT_SH'+'ADOW_CATCH'+'ER\x0a\x20\x20\x20\x20//\x20'+'a\x20variable'+'\x20to\x20accumu'+'late\x20shado'+'ws\x20for\x20sha'+'dow\x20catche'+'r\x20material'+'s\x0a\x20\x20\x20\x20floa'+'t\x20dShadowC'+'atcher\x20=\x201'+'.0;\x0a#endif'+'\x0a\x0a//\x20LOOP\x20'+'-\x20uniform\x20'+'declaratio'+'ns\x20for\x20all'+'\x20non-clust'+'ered\x20light'+'s\x0a#if\x20LIGH'+'T_COUNT\x20>\x20'+'0\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDeclarati'+'onPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+('\x20#if\x20LIT_F'+'RESNEL_MOD'+'EL\x20==\x20NONE'+'\x20&&\x20!defin'+'ed(LIT_REF'+'LECTIONS)\x20'+'&&\x20!define'+'d(LIT_DIFF'+'USE_MAP)\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a//\x20lightm'+'ap\x20baking\x0a'+'#ifdef\x20STD'+'_LIGHTMAP_'+'DIR\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20bakeDir;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_L'+'IGHTMAP_BA'+'KING_ADD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20ambie'+'ntBakeOccl'+'usionContr'+'ast;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20ambient'+'BakeOcclus'+'ionBrightn'+'ess;\x0a#endi'+'f\x0a'),bP='\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4(0'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ccS'+'pecularLig'+'ht\x20=\x20vec3('+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'NONE_SLICE'+'_MODE\x20==\x20S'+'LICED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22startN'+'ineSlicedP'+'S\x22\x0a\x20\x20\x20\x20#el'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20TILE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'startNineS'+'licedTiled'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_NEEDS_NOR'+'MAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW\x20=\x20n'+'ormalize(v'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'TANGENTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_HEI'+'GHTS)\x20||\x20d'+'efined(LIT'+'_USE_NORMA'+'LS)\x20||\x20def'+'ined(LIT_U'+'SE_CLEARCO'+'AT_NORMALS'+')\x20||\x20defin'+'ed(LIT_GGX'+'_SPECULAR)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dTa'+'ngentW\x20=\x20v'+'TangentW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dBin'+'ormalW\x20=\x20v'+'BinormalW;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20getVie'+'wDir();\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_TB'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_TWO_S'+'IDED_LIGHT'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'handleTwoS'+'idedLighti'+'ng();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20i'+'nvoke\x20fron'+'tend\x20funct'+'ions\x0a\x20\x20\x20\x20e'+'valuateFro'+'ntend();\x0a\x0a'+('\x20\x20\x20\x20#inclu'+'de\x20\x22debugP'+'rocessFron'+'tendPS\x22\x0a\x0a\x20'+'\x20\x20\x20evaluat'+'eBackend()'+';\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a'),AP='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20vec3\x20mate'+'rial_ambie'+'nt;\x0a\x0a#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTING\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightSp'+'ecularAnis'+'oGGXPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightS'+'pecularBli'+'nnPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'combinePS\x22'+'\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tmapAddPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'ADD_AMBIEN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ambi'+'entPS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIT_MSDF'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22msdfP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'include\x20\x22v'+'iewDirPS\x22\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flDirAniso'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a//\x20li'+'ghting\x20fun'+'ctionality')+('\x0a#include\x20'+'\x22lightingP'+'S\x22\x0a\x0a'),CP='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',PP='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',MP='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec4\x20ve'+'rtex_color'+';\x0a#endif\x0a\x0a'+'#ifdef\x20NIN'+'ESLICED\x0a\x0a\x20'+'\x20\x20\x20varying'+'\x20vec2\x20vMas'+'k;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'vTiledUv;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20v'+'ec2\x20outerS'+'cale;\x0a\x20\x20\x20\x20'+'uniform\x20me'+'diump\x20vec4'+'\x20atlasRect'+';\x0a\x0a#endif\x0a'+'\x0avec3\x20dPos'+'itionW;\x0ama'+'t4\x20dModelM'+'atrix;\x0a\x0a#i'+'nclude\x20\x22tr'+'ansformCor'+'eVS\x22\x0a\x0a#ifd'+'ef\x20UV0\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'c2\x20vertex_'+'texCoord1;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22uv1VS'+'\x22\x0a#endif\x0a\x0a'+'\x0a#ifdef\x20LI'+'NEAR_DEPTH'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20#d'+'efine\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'transformV'+'S\x22\x0a\x0a#ifdef'+'\x20NORMALS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22normalC'+'oreVS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22normalVS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20TANG'+'ENTS\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_tangent;\x0a'+'#endif\x0a\x0a//'+'\x20expand\x20un'+'iforms\x20for'+'\x20uv\x20transf'+'orms\x0a#incl'+'ude\x20\x22uvTra'+'nsformUnif'+'ormsPS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'#ifdef\x20MSD'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22msdf'+'VS\x22\x0a#endif'+'\x0a\x0a#include'+'\x20\x20\x22litUser'+'CodeVS\x22\x0a\x0av'+'oid\x20main(v'+'oid)\x20{\x0a\x0a\x20\x20'+'\x20\x20#include'+('\x20\x22litUserM'+'ainStartVS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'default\x20po'+'int\x20size\x20t'+'o\x201\x20in\x20cas'+'e\x20the\x20shad'+'er\x20is\x20used'+'\x20with\x20poin'+'ts\x0a\x20\x20\x20\x20gl_'+'PointSize\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20getP'+'osition();'+'\x0a\x20\x20\x20\x20vPosi'+'tionW\x20=\x20ge'+'tWorldPosi'+'tion();\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'NORMALS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vNor'+'malW\x20=\x20get'+'Normal();\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20TANGENT'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vTangentW\x20'+'=\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vBi'+'normalW\x20=\x20'+'cross(vNor'+'malW,\x20vTan'+'gentW)\x20*\x20v'+'ertex_tang'+'ent.w;\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(GGX_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3(0,\x201'+',\x200));\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV0\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv0'+'\x20=\x20getUv0('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20UV'+'0_UNMODIFI'+'ED\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv1\x20=\x20ge'+'tUv1();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20UV1_UNM'+'ODIFIED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vUv1\x20=\x20uv1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20expa'+'nd\x20code\x20fo'+'r\x20uv\x20trans'+'forms\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'uvTransfor'+'mVS,\x20UV_TR'+'ANSFORMS_C'+'OUNT\x22\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20VE'+'RTEX_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition')+(',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vPosi'+'tionW,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'SDF\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20unpackMs'+'dfParams()'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tUserMainE'+'ndVS\x22\x0a}\x0a'),DP='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20g'+'etPickOutp'+'ut();\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'REPASS_PAS'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20float'+'2vec4(vLin'+'earDepth);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a',IP='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LP='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20te'+'xtureBias\x20'+'=\x20-1000.0;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20texture'+'Bias;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litShade'+'rArgsPS\x22\x0a',RP='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20vec3\x20v'+'iew_positi'+'on;\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20light_ra'+'dius;\x0a#end'+'if\x0a\x0a#if\x20SH'+'ADOW_TYPE\x20'+'==\x20PCSS_32'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22line'+'arizeDepth'+'PS\x22\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'evaluateFr'+'ontend();\x0a'+'\x0a\x20\x20\x20\x20//\x20us'+'ing\x20non-st'+'andard\x20dep'+'th,\x20i.e\x20gl'+'_FragCoord'+'.z\x0a\x20\x20\x20\x20#if'+'def\x20PERSPE'+'CTIVE_DEPT'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20gl_Fra'+'gCoord.z;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SHADOW_'+'TYPE\x20==\x20PC'+'SS_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot/omn'+'i\x20shadows\x20'+'currently\x20'+'use\x20linear'+'\x20depth.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20TODO:\x20u'+'se\x20perspec'+'tive\x20depth'+'\x20for\x20spot/'+'omni\x20the\x20s'+'ame\x20way\x20as'+'\x20direction'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT_TYPE\x20'+'!=\x20DIRECTI'+'ONAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20depth\x20=\x20l'+'inearizeDe'+'pthWithPar'+'ams(depth,'+'\x20camera_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20min(di'+'stance(vie'+'w_position'+',\x20vPositio'+'nW)\x20/\x20ligh'+'t_radius,\x20'+'0.99999);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20MODI'+'FIED_DEPTH'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20VSM_'+'16F\x20||\x20SHA'+'DOW_TYPE\x20='+'=\x20VSM_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20exponen'+'t\x20=\x2015.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+('t\x20exponent'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20depth\x20=\x20'+'2.0\x20*\x20dept'+'h\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dep'+'th\x20=\x20\x20exp('+'exponent\x20*'+'\x20depth);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(dep'+'th,\x20depth*'+'depth,\x201.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'SHADOW_TYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'tore\x20depth'+'\x20into\x20R32\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.r\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ODIFIED_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20If\x20we\x20e'+'nd\x20up\x20usin'+'g\x20modified'+'\x20depth,\x20it'+'\x20needs\x20to\x20'+'be\x20explici'+'tly\x20writte'+'n\x20to\x20gl_Fr'+'agDepth\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20just\x20the\x20'+'simplest\x20c'+'ode,\x20color'+'\x20is\x20not\x20wr'+'itten\x20anyw'+'ay\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'}\x0a'),OP='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20vec2'+'\x20ccLTCUV;\x0a'+'#endif\x0a\x0ave'+'c2\x20getLTCL'+'ightUV(flo'+'at\x20gloss,\x20'+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x0a{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20max('+'(1.0\x20-\x20glo'+'ss)\x20*\x20(1.0'+'\x20-\x20gloss),'+'\x200.001);\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Uv(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'roughness\x20'+');\x0a}\x0a\x0a//\x20u'+'sed\x20for\x20en'+'ergy\x20conse'+'rvation\x20an'+'d\x20to\x20modul'+'ate\x20specul'+'ar\x0avec3\x20dL'+'TCSpecFres'+';\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20vec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0a\x0avec3\x20'+'getLTCLigh')+('tSpecFres('+'vec2\x20uv,\x20v'+'ec3\x20specul'+'arity)\x0a{\x0a\x20'+'\x20\x20\x20vec4\x20t2'+'\x20=\x20texture'+'2DLod(area'+'LightsLutT'+'ex2,\x20uv,\x200'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20spec'+'ularity\x20*\x20'+'t2.x\x20+\x20(\x20v'+'ec3(\x201.0\x20)'+'\x20-\x20specula'+'rity)\x20*\x20t2'+'.y;\x0a}\x0a\x0avoi'+'d\x20calcLTCL'+'ightValues'+'(float\x20glo'+'ss,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20speculari'+'ty,\x20float\x20'+'clearcoatG'+'loss,\x20vec3'+'\x20clearcoat'+'WorldNorma'+'l,\x20float\x20c'+'learcoatSp'+'ecularity)'+'\x0a{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x20\x0a\x0a#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20cc'+'LTCUV\x20=\x20ge'+'tLTCLightU'+'V(clearcoa'+'tGloss,\x20cl'+'earcoatWor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20ccLTCS'+'pecFres\x20=\x20'+'getLTCLigh'+'tSpecFres('+'ccLTCUV,\x20v'+'ec3(clearc'+'oatSpecula'+'rity));\x0a#e'+'ndif\x0a}\x0a\x0avo'+'id\x20calcRec'+'tLightValu'+'es(vec3\x20li'+'ghtPos,\x20ve'+'c3\x20halfWid'+'th,\x20vec3\x20h'+'alfHeight)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0avoid\x20c'+'alcDiskLig'+'htValues(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight)\x20{\x0a\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0av'+'oid\x20calcSp'+'hereLightV'+'alues(vec3'+'\x20lightPos,'+'\x20vec3\x20half'+'Width,\x20vec'+'3\x20halfHeig'+'ht)\x20{\x0a\x20\x20\x20\x20')+('dLTCCoords'+'\x20=\x20getSphe'+'reLightCoo'+'rds(lightP'+'os,\x20halfWi'+'dth,\x20halfH'+'eight);\x0a}\x0a'+'\x0a//\x20An\x20ext'+'ended\x20vers'+'ion\x20of\x20the'+'\x20implement'+'ation\x20from'+'\x20\x22How\x20to\x20s'+'olve\x20a\x20cub'+'ic\x20equatio'+'n,\x20revisit'+'ed\x22\x0a//\x20htt'+'p://moment'+'singraphic'+'s.de/?p=10'+'5\x0avec3\x20Sol'+'veCubic(ve'+'c4\x20Coeffic'+'ient)\x0a{\x0a\x20\x20'+'\x20\x20float\x20pi'+'\x20=\x203.14159'+';\x0a\x20\x20\x20\x20//\x20N'+'ormalize\x20t'+'he\x20polynom'+'ial\x0a\x20\x20\x20\x20Co'+'efficient.'+'xyz\x20/=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20//\x20D'+'ivide\x20midd'+'le\x20coeffic'+'ients\x20by\x20t'+'hree\x0a\x20\x20\x20\x20C'+'oefficient'+'.yz\x20/=\x203.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20A\x20=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20floa'+'t\x20B\x20=\x20Coef'+'ficient.z;'+'\x0a\x20\x20\x20\x20float'+'\x20C\x20=\x20Coeff'+'icient.y;\x0a'+'\x20\x20\x20\x20float\x20'+'D\x20=\x20Coeffi'+'cient.x;\x0a\x0a'+'\x20\x20\x20\x20//\x20Com'+'pute\x20the\x20H'+'essian\x20and'+'\x20the\x20discr'+'iminant\x0a\x20\x20'+'\x20\x20vec3\x20Del'+'ta\x20=\x20vec3('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20-'+'Coefficien'+'t.z\x20*\x20Coef'+'ficient.z\x20'+'+\x20Coeffici'+'ent.y,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20-Coef'+'ficient.y\x20'+'*\x20Coeffici'+'ent.z\x20+\x20Co'+'efficient.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dot(vec2('+'Coefficien'+'t.z,\x20-Coef'+'ficient.y)'+',\x20Coeffici'+'ent.xy)\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'float\x20Disc'+'riminant\x20='+'\x20dot(vec2('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xlc'+',\x20xsc;\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20A\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20C_a\x20=\x20De'+'lta.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20D_a\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(sqr'+'t(Discrimi'+'nant),\x20-D_'+'a)\x20/\x203.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_1a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20x_3'+'a\x20=\x202.0\x20*\x20'+'sqrt(-C_a)'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20((x_1a'+'\x20+\x20x_3a)\x20>'+'\x202.0\x20*\x20B)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xl\x20=\x20x_1'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'\x20=\x20x_3a;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'c\x20=\x20vec2(x'+'l\x20-\x20B,\x20A);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20D\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_d'+'\x20=\x20D;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_d\x20=\x20Delt'+'a.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_d\x20=\x20-D\x20*\x20'+'Delta.y\x20+\x20'+'2.0\x20*\x20C\x20*\x20'+'Delta.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20Take\x20the\x20'+'cubic\x20root'+'\x20of\x20a\x20norm'+'alized\x20com'+'plex\x20numbe'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20Thet'+'a\x20=\x20atan(D'+'\x20*\x20sqrt(Di'+'scriminant'+'),\x20-D_d)\x20/'+'\x203.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_1d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_3d\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_d)\x20*\x20c'+'os(Theta\x20+'+'\x20(2.0\x20/\x203.'+'0)\x20*\x20pi);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20xs;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(x_1d\x20+\x20x_'+'3d\x20<\x202.0\x20*'+'\x20C)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xs\x20='+'\x20x_1d;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xs\x20=\x20x_3'+'d;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20xsc\x20=\x20ve'+'c2(-D,\x20xs\x20'+'+\x20C);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20flo'+'at\x20E\x20=\x20\x20xl'+'c.y\x20*\x20xsc.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20F\x20=\x20-xl'+'c.x\x20*\x20xsc.'+'y\x20-\x20xlc.y\x20')+('*\x20xsc.x;\x0a\x20'+'\x20\x20\x20float\x20G'+'\x20=\x20\x20xlc.x\x20'+'*\x20xsc.x;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20x'+'mc\x20=\x20vec2('+'C\x20*\x20F\x20-\x20B\x20'+'*\x20G,\x20-B\x20*\x20'+'F\x20+\x20C\x20*\x20E)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20Root\x20=\x20v'+'ec3(xsc.x\x20'+'/\x20xsc.y,\x20x'+'mc.x\x20/\x20xmc'+'.y,\x20xlc.x\x20'+'/\x20xlc.y);\x0a'+'\x0a\x20\x20\x20\x20if\x20(R'+'oot.x\x20<\x20Ro'+'ot.y\x20&&\x20Ro'+'ot.x\x20<\x20Roo'+'t.z)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root.xy'+'z\x20=\x20Root.y'+'xz;\x0a\x20\x20\x20\x20el'+'se\x20if\x20(Roo'+'t.z\x20<\x20Root'+'.x\x20&&\x20Root'+'.z\x20<\x20Root.'+'y)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.xzy'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20Root;\x0a'+'}\x0a\x0afloat\x20L'+'TC_Evaluat'+'eDisk(vec3'+'\x20N,\x20vec3\x20V'+',\x20vec3\x20P,\x20'+'mat3\x20Minv,'+'\x20Coords\x20po'+'ints)\x0a{\x0a\x20\x20'+'\x20\x20//\x20const'+'ruct\x20ortho'+'normal\x20bas'+'is\x20around\x20'+'N\x0a\x20\x20\x20\x20vec3'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'vec3\x20T2\x20=\x20'+'cross(N,\x20T'+'1);\x0a\x0a\x20\x20\x20\x20/'+'/\x20rotate\x20a'+'rea\x20light\x20'+'in\x20(T1,\x20T2'+',\x20N)\x20basis'+'\x0a\x20\x20\x20\x20//mat'+'3\x20R\x20=\x20tran'+'spose(mat3'+'(T1,\x20T2,\x20N'+'));\x0a\x20\x20\x20\x20ma'+'t3\x20R\x20=\x20tra'+'nsposeMat3'+'(\x20mat3(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'polygon\x20(a'+'llocate\x205\x20'+'vertices\x20f'+'or\x20clippin'+'g)\x0a\x20\x20\x20\x20vec'+'3\x20L_[\x203\x20];'+'\x0a\x20\x20\x20\x20L_[\x200'+'\x20]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[\x20'+'1\x20]\x20=\x20R\x20*\x20'+'(\x20points.c'+'oord1\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20L_['+'\x202\x20]\x20=\x20R\x20*'+'\x20(\x20points.'+'coord2\x20-\x20P'+'\x20);\x0a\x0a\x20\x20\x20\x20/'+'/\x20init\x20ell'+'ipse\x0a\x20\x20\x20\x20v'+'ec3\x20C\x20\x20=\x200'+'.5\x20*\x20(L_[0'+']\x20+\x20L_[2])'+';\x0a\x20\x20\x20\x20vec3'+'\x20V1\x20=\x200.5\x20'+'*\x20(L_[1]\x20-'+'\x20L_[2]);\x0a\x20'+'\x20\x20\x20vec3\x20V2'+'\x20=\x200.5\x20*\x20('+'L_[1]\x20-\x20L_'+'[0]);\x0a\x0a\x20\x20\x20'+'\x20C\x20\x20=\x20Minv')+('\x20*\x20C;\x0a\x20\x20\x20\x20'+'V1\x20=\x20Minv\x20'+'*\x20V1;\x0a\x20\x20\x20\x20'+'V2\x20=\x20Minv\x20'+'*\x20V2;\x0a\x0a\x20\x20\x20'+'\x20//if(dot('+'cross(V1,\x20'+'V2),\x20C)\x20>\x20'+'0.0)\x0a\x20\x20\x20\x20/'+'/\x20\x20\x20\x20retur'+'n\x200.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20compu'+'te\x20eigenve'+'ctors\x20of\x20e'+'llipse\x0a\x20\x20\x20'+'\x20float\x20a,\x20'+'b;\x0a\x20\x20\x20\x20flo'+'at\x20d11\x20=\x20d'+'ot(V1,\x20V1)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d22\x20=\x20do'+'t(V2,\x20V2);'+'\x0a\x20\x20\x20\x20float'+'\x20d12\x20=\x20dot'+'(V1,\x20V2);\x0a'+'\x20\x20\x20\x20if\x20(ab'+'s(d12)\x20/\x20s'+'qrt(d11\x20*\x20'+'d22)\x20>\x200.0'+'001)\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20tr\x20=\x20'+'d11\x20+\x20d22;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20det\x20='+'\x20-d12\x20*\x20d1'+'2\x20+\x20d11\x20*\x20'+'d22;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20use'+'\x20sqrt\x20matr'+'ix\x20to\x20solv'+'e\x20for\x20eige'+'nvalues\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20det\x20'+'=\x20sqrt(det'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20u\x20='+'\x200.5\x20*\x20sqr'+'t(tr\x20-\x202.0'+'\x20*\x20det);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20v\x20=\x200.5'+'\x20*\x20sqrt(tr'+'\x20+\x202.0\x20*\x20d'+'et);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20e'+'_max\x20=\x20(u\x20'+'+\x20v)\x20*\x20(u\x20'+'+\x20v);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_min\x20=\x20(u'+'\x20-\x20v)\x20*\x20(u'+'\x20-\x20v);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20V1_,\x20V2_;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(d11\x20>\x20'+'d22)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20V2_\x20'+'=\x20d12\x20*\x20V1'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12*V2'+'\x20+\x20(e_max\x20'+'-\x20d22)*V1;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20V2_\x20=\x20d'+'12*V2\x20+\x20(e'+'_min\x20-\x20d22'+')*V1;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20e_max'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'b\x20=\x201.0\x20/\x20'+'e_min;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V1\x20=\x20'+'normalize('+'V1_);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20V2\x20=\x20n'+'ormalize(V'+'2_);\x0a\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20dot(V1'+',\x20V1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20b\x20=\x201'+'.0\x20/\x20dot(V'+'2,\x20V2);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20*'+'=\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20*=\x20sqrt('+'b);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'V3\x20=\x20norma'+'lize(cross'+'(V1,\x20V2));'+'\x0a\x20\x20\x20\x20if\x20(d'+'ot(C,\x20V3)\x20'+'<\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V3\x20*='+'\x20-1.0;\x0a\x0a\x20\x20'+'\x20\x20float\x20L\x20'+'\x20=\x20dot(V3,'+'\x20C);\x0a\x20\x20\x20\x20f'+'loat\x20x0\x20=\x20'+'dot(V1,\x20C)'+'\x20/\x20L;\x0a\x20\x20\x20\x20'+'float\x20y0\x20='+'\x20dot(V2,\x20C'+')\x20/\x20L;\x0a\x0a\x20\x20'+'\x20\x20float\x20E1'+'\x20=\x20inverse'+'sqrt(a);\x0a\x20'+'\x20\x20\x20float\x20E'+'2\x20=\x20invers'+'esqrt(b);\x0a'+'\x0a\x20\x20\x20\x20a\x20*=\x20'+'L\x20*\x20L;\x0a\x20\x20\x20'+'\x20b\x20*=\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20c0\x20=\x20a'+'\x20*\x20b;\x0a\x20\x20\x20\x20'+'float\x20c1\x20='+'\x20a\x20*\x20b\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0\x20+\x20y0\x20*'+'\x20y0)\x20-\x20a\x20-'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20c2\x20=\x201'+'.0\x20-\x20a\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0)\x20-\x20b\x20*'+'\x20(1.0\x20+\x20y0'+'\x20*\x20y0);\x0a\x20\x20'+'\x20\x20float\x20c3'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ro'+'ots\x20=\x20Solv'+'eCubic(vec'+'4(c0,\x20c1,\x20'+'c2,\x20c3));\x0a'+'\x20\x20\x20\x20float\x20'+'e1\x20=\x20roots'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20e2\x20=\x20r'+'oots.y;\x0a\x20\x20'+'\x20\x20float\x20e3'+'\x20=\x20roots.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20avgDir\x20='+'\x20vec3(a\x20*\x20'+'x0\x20/\x20(a\x20-\x20'+'e2),\x20b\x20*\x20y'+'0\x20/\x20(b\x20-\x20e'+'2),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'rotate\x20=\x20m'+'at3(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20L1\x20=\x20sqrt'+'(-e2\x20/\x20e3)'+';\x0a\x20\x20\x20\x20floa'+'t\x20L2\x20=\x20sqr'+'t(-e2\x20/\x20e1'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20formFa'+'ctor\x20=\x20max'+'(0.0,\x20L1\x20*'+'\x20L2\x20*\x20inve')+('rsesqrt((1'+'.0\x20+\x20L1\x20*\x20'+'L1)\x20*\x20(1.0'+'\x20+\x20L2\x20*\x20L2'+')));\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20const\x20'+'float\x20LUT_'+'SIZE\x20=\x2064.'+'0;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_SCALE\x20='+'\x20(\x20LUT_SIZ'+'E\x20-\x201.0\x20)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20float\x20LU'+'T_BIAS\x20=\x200'+'.5\x20/\x20LUT_S'+'IZE;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20tab'+'ulated\x20hor'+'izon-clipp'+'ed\x20sphere\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vec2(a'+'vgDir.z\x20*\x20'+'0.5\x20+\x200.5,'+'\x20formFacto'+'r);\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv*LUT_'+'SCALE\x20+\x20LU'+'T_BIAS;\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'cale\x20=\x20tex'+'ture2DLod('+'areaLights'+'LutTex2,\x20u'+'v,\x200.0).w;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20formFac'+'tor*scale;'+'\x0a}\x0a\x0a//\x20LTC'+'_EvaluateD'+'isk\x20in\x20som'+'e\x20rare\x20cas'+'es\x20generea'+'tes\x20NaN\x20va'+'lues\x20in\x20a\x20'+'or\x20b,\x20just'+'\x20before\x20\x27f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x27\x0a//'+'\x20Get\x20rid\x20o'+'f\x20those\x20Na'+'n\x20values\x20b'+'efore\x20they'+'\x20propagate'+'\x20further,\x20'+'as\x20in\x20case'+'\x20of\x20bloom\x20'+'/\x20DOF\x20blur'+'s\x20they\x0a//\x20'+'propagate\x20'+'to\x20large\x20a'+'reas.\x20I\x20di'+'dn\x27t\x20find\x20'+'the\x20actual'+'\x20reason\x20wh'+'ere\x20those\x20'+'come\x20from,'+'\x20so\x20that\x20i'+'s\x20still\x20TO'+'DO.\x0a//\x20Not'+'e\x20that\x20onl'+'y\x20disk/sph'+'ere\x20lights'+'\x20are\x20causi'+'ng\x20it,\x20so\x20'+'only\x20handl'+'e\x20those.\x0af'+'loat\x20FixNa'+'n(float\x20va'+'lue)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'value\x20!=\x20v'+'alue\x20?\x200.0'+'\x20:\x20value;\x20'+'\x20//\x20isnan\x20'+'does\x20not\x20t'+'ranspile\x20c'+'orrectly,\x20'+'use\x20a\x20work'+'around\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20isnan(va'+'lue)\x20?\x200.0'+'\x20:\x20value;\x0a')+('\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afloat\x20'+'getRectLig'+'htDiffuse('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm)\x20{\x0a\x20\x20'+'\x20\x20return\x20L'+'TC_Evaluat'+'eRect(\x20wor'+'ldNormal,\x20'+'viewDir,\x20v'+'PositionW,'+'\x20mat3(\x201.0'+'\x20),\x20dLTCCo'+'ords\x20);\x0a}\x0a'+'\x0afloat\x20get'+'DiskLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20FixN'+'an(LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mat3('+'\x201.0\x20),\x20dL'+'TCCoords\x20)'+');\x0a}\x0a\x0afloa'+'t\x20getSpher'+'eLightDiff'+'use(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm)\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20float\x20fa'+'lloff\x20=\x20dS'+'phereRadiu'+'s\x20/\x20(dot(l'+'ightDir,\x20l'+'ightDir)\x20+'+'\x20dSphereRa'+'dius);\x0a\x20\x20\x20'+'\x20return\x20Fi'+'xNan(getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNorm)\x20*\x20f'+'alloff);\x0a}'+'\x0a\x0amat3\x20get'+'LTCLightIn'+'vMat(vec2\x20'+'uv)\x0a{\x0a\x20\x20\x20\x20'+'vec4\x20t1\x20=\x20'+'texture2DL'+'od(areaLig'+'htsLutTex1'+',\x20uv,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3(\x20t1.x,\x20'+'0,\x20t1.y\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3(\x20\x20\x20\x200,'+'\x201,\x20\x20\x20\x200\x20)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3(\x20t1.z'+',\x200,\x20t1.w\x20'+')\x0a\x20\x20\x20\x20);\x0a}'+'\x0a\x0afloat\x20ca'+'lcRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir')+(',\x20vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20mat'+'3\x20mInv\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afl'+'oat\x20getRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'calcRectLi'+'ghtSpecula'+'r(worldNor'+'mal,\x20viewD'+'ir,\x20dLTCUV'+');\x0a}\x0a\x0afloa'+'t\x20calcDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20mInv'+'\x20=\x20getLTCL'+'ightInvMat'+'(uv);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'Inv,\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a\x0a'+'float\x20getS'+'phereLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a'),FP='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_metaln'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tMetalness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20metal'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20materi'+'al_metalne'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_METAL'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_METAL'+'NESS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_META'+'LNESS_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_VERTEX\x0a\x20\x20'+'\x20\x20metalnes'+'s\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_METALNES'+'S_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dMet'+'alness\x20=\x20m'+'etalness;\x0a'+'}\x0a',NP='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifndef'+'\x20LIT_MSDF_'+'TEXT_ATTRI'+'BUTE\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20shadow_co'+'lor;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20shadow_o'+'ffset;\x0a#el'+'se\x0a\x20\x20\x20\x20var'+'ying\x20vec4\x20'+'outline_co'+'lor;\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20outline'+'_thickness'+';\x0a\x20\x20\x20\x20vary'+'ing\x20vec4\x20s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'shadow_off'+'set;\x0a#endi'+'f\x0a\x0avec4\x20ap'+'plyMsdf(ve'+'c4\x20color)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Convert\x20to'+'\x20linear\x20sp'+'ace\x20before'+'\x20processin'+'g\x0a\x20\x20\x20\x20//\x20T'+'ODO:\x20ideal'+'ly\x20this\x20wo'+'uld\x20receiv'+'e\x20the\x20colo'+'r\x20in\x20linea'+'r\x20space,\x20b'+'ut\x20that\x20wo'+'uld\x20requir'+'e\x20larger\x20c'+'hanges\x0a\x20\x20\x20'+('\x20//\x20on\x20the'+'\x20engine\x20si'+'de,\x20with\x20t'+'he\x20way\x20pre'+'multiplied'+'\x20alpha\x20is\x20'+'handled\x20as'+'\x20well.\x0a\x20\x20\x20'+'\x20color.rgb'+'\x20=\x20gammaCo'+'rrectInput'+'(color.rgb'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20sample\x20th'+'e\x20field\x0a\x20\x20'+'\x20\x20vec3\x20tsa'+'mple\x20=\x20tex'+'ture2D(tex'+'ture_msdfM'+'ap,\x20vUv0).'+'rgb;\x0a\x20\x20\x20\x20v'+'ec2\x20uvShdw'+'\x20=\x20vUv0\x20-\x20'+'shadow_off'+'set;\x0a\x20\x20\x20\x20v'+'ec3\x20ssampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20uvShdw).r'+'gb;\x0a\x0a\x20\x20\x20\x20/'+'/\x20get\x20the\x20'+'signed\x20dis'+'tance\x20valu'+'e\x0a\x20\x20\x20\x20floa'+'t\x20sigDist\x20'+'=\x20median(t'+'sample.r,\x20'+'tsample.g,'+'\x20tsample.b'+');\x0a\x20\x20\x20\x20flo'+'at\x20sigDist'+'Shdw\x20=\x20med'+'ian(ssampl'+'e.r,\x20ssamp'+'le.g,\x20ssam'+'ple.b);\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20limi'+'t\x20-\x20smalle'+'r\x20value\x20ma'+'kes\x20for\x20sh'+'arper\x20but\x20'+'more\x20alias'+'ed\x20text,\x20e'+'specially\x20'+'on\x20angles\x0a'+'\x20\x20\x20\x20//\x20too'+'\x20large\x20val'+'ue\x20(0.5)\x20c'+'reates\x20a\x20d'+'ark\x20glow\x20a'+'round\x20the\x20'+'letters\x0a\x20\x20'+'\x20\x20float\x20sm'+'oothingMax'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20vec'+'2\x20w\x20=\x20fwid'+'th(vUv0);\x0a'+'\x20\x20\x20\x20float\x20'+'smoothing\x20'+'=\x20clamp(w.'+'x\x20*\x20font_t'+'extureWidt'+'h\x20/\x20font_p'+'xrange,\x200.'+'0,\x20smoothi'+'ngMax);\x0a\x0a\x20'+'\x20\x20\x20float\x20m'+'apMin\x20=\x200.'+'05;\x0a\x20\x20\x20\x20fl'+'oat\x20mapMax'+'\x20=\x20clamp(1'+'.0\x20-\x20font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20float\x20')+('sigDistInn'+'er\x20=\x20map(m'+'apMin,\x20map'+'Max,\x20sigDi'+'st);\x0a\x20\x20\x20\x20f'+'loat\x20sigDi'+'stOutline\x20'+'=\x20map(mapM'+'in,\x20mapMax'+',\x20sigDist\x20'+'+\x20outline_'+'thickness)'+';\x0a\x20\x20\x20\x20sigD'+'istShdw\x20=\x20'+'map(mapMin'+',\x20mapMax,\x20'+'sigDistShd'+'w\x20+\x20outlin'+'e_thicknes'+'s);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20cente'+'r\x20=\x200.5;\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20smoo'+'thing\x20and\x20'+'use\x20to\x20gen'+'erate\x20opac'+'ity\x0a\x20\x20\x20\x20fl'+'oat\x20inside'+'\x20=\x20smooths'+'tep(center'+'-smoothing'+',\x20center+s'+'moothing,\x20'+'sigDistInn'+'er);\x0a\x20\x20\x20\x20f'+'loat\x20outli'+'ne\x20=\x20smoot'+'hstep(cent'+'er-smoothi'+'ng,\x20center'+'+smoothing'+',\x20sigDistO'+'utline);\x0a\x20'+'\x20\x20\x20float\x20s'+'hadow\x20=\x20sm'+'oothstep(c'+'enter-smoo'+'thing,\x20cen'+'ter+smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20vec4\x20t'+'color\x20=\x20(o'+'utline\x20>\x20i'+'nside)\x20?\x20o'+'utline\x20*\x20v'+'ec4(outlin'+'e_color.a\x20'+'*\x20outline_'+'color.rgb,'+'\x20outline_c'+'olor.a)\x20:\x20'+'vec4(0.0);'+'\x0a\x20\x20\x20\x20tcolo'+'r\x20=\x20mix(tc'+'olor,\x20colo'+'r,\x20inside)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20scolor\x20='+'\x20(shadow\x20>'+'\x20outline)\x20'+'?\x20shadow\x20*'+'\x20vec4(shad'+'ow_color.a'+'\x20*\x20shadow_'+'color.rgb,'+'\x20shadow_co'+'lor.a)\x20:\x20t'+'color;\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(scolor'+',\x20tcolor,\x20'+'outline);\x0a'+'\x0a\x20\x20\x20\x20//\x20Co'+'nvert\x20back'+'\x20to\x20gamma\x20'+'space\x20befo'+'re\x20returni'+'ng\x0a\x20\x20\x20\x20tco'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctOutput(t'+'color.rgb)'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20return\x20tc'+'olor;\x0a}\x0a'),kP='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',UP='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20vec2\x20u'+'v0;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2DArra'+'y\x20morphTex'+'ture;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r[{MORPH_T'+'EXTURE_MAX'+'_COUNT}];\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20ui'+'nt\x20morphIn'+'dex[{MORPH'+'_TEXTURE_M'+'AX_COUNT}]'+';\x0a\x20\x20\x20\x20unif'+'orm\x20int\x20co'+'unt;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PH_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20aa'+'bbSize;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20highp\x20vec'+'3\x20color\x20=\x20'+'vec3(0,\x200,'+'\x200);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'pixelCoord'+'s\x20=\x20ivec2('+'uv0\x20*\x20vec2'+'(textureSi'+'ze(morphTe'+'xture,\x200).'+'xy));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20count;\x20'+'i++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20textur'+'eIndex\x20=\x20m'+'orphIndex['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20delta\x20=\x20t'+'exelFetch('+'morphTextu'+'re,\x20ivec3('+'pixelCoord'+'s,\x20int(tex'+'tureIndex)'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20+'+'=\x20morphFac'+'tor[i]\x20*\x20d'+'elta;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20MORPH_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20color\x20'+'=\x20(color\x20-'+'\x20aabbMin)\x20'+'/\x20aabbSize'+'\x20*\x2065535.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20u'+'vec4(color'+',\x201u);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(color,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a',BP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a',zP='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',VP='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',GP='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0a\x0a#ifdef\x20M'+'ORPHING_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20morphNor'+'malTex;\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'morphNorma'+'lTex;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0avec3\x20'+'getLocalNo'+'rmal(vec3\x20'+'vertexNorm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lNormal\x20=\x20'+'vertex_nor'+'mal;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_NORM'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphNormal'+'\x20=\x20vec3(te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz)\x20/'+'\x2065535.0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphNo'+'rmal\x20=\x20tex'+'elFetch(mo'+'rphNormalT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20localNor'+'mal\x20+=\x20mor'+'phNormal;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20localN'+'ormal;\x0a}\x0a\x0a'+'#if\x20define'+'d(SKIN)\x20||'+'\x20defined(B'+'ATCH)\x0a\x20\x20\x20\x20'+'mat3\x20getNo'+'rmalMatrix'+'(mat4\x20mode'+'lMatrix)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mat3'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20ma'+'t3\x20getNorm'+'alMatrix(m'+'at4\x20modelM'+'atrix)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20mat3(m'+'odelMatrix'+'[0].xyz,\x20m'+('odelMatrix'+'[1].xyz,\x20m'+'odelMatrix'+'[2].xyz);\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20mat3'+'\x20getNormal'+'Matrix(mat'+'4\x20modelMat'+'rix)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_n'+'ormal;\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'),HP='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_bumpin'+'ess;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_NORMAL'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20bl'+'endNormals'+'(vec3\x20n1,\x20'+'vec3\x20n2)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20https://'+'blog.selfs'+'hadow.com/'+'publicatio'+'ns/blendin'+'g-in-detai'+'l/#detail-'+'oriented\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20n1\x20'+'+=\x20vec3(0,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20n2\x20*'+'=\x20vec3(-1,'+'\x20-1,\x201);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20getNorm'+'al()\x20{\x0a#if'+'def\x20STD_NO'+'RMAL_TEXTU'+'RE\x0a\x20\x20\x20\x20vec'+'3\x20normalMa'+'p\x20=\x20{STD_N'+'ORMAL_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_NORMAL_TE'+'XTURE_NAME'+'},\x20{STD_NO'+'RMAL_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+');\x0a\x20\x20\x20\x20nor'+'malMap\x20=\x20m'+'ix(vec3(0.'+'0,\x200.0,\x201.'+'0),\x20normal'+'Map,\x20mater'+'ial_bumpin'+'ess);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMALDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20norm'+'alDetailMa'+'p\x20=\x20{STD_N'+'ORMALDETAI'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_NOR'+'MALDETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'NORMALDETA'+'IL_TEXTURE'+'_UV},\x20text'+'ureBias));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20blend'+'Normals(no'+'rmalMap,\x20n'+('ormalDetai'+'lMap);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20normalMap'+');\x0a#else\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20dVerte'+'xNormalW;\x0a'+'#endif\x0a}\x0a'),WP='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_OPACITY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20dAlpha\x20*='+'\x20texture2D'+'Bias({STD_'+'OPACITY_TE'+'XTURE_NAME'+'},\x20{STD_OP'+'ACITY_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20*=\x20c'+'lamp(vVert'+'exColor.{S'+'TD_OPACITY'+'_VERTEX_CH'+'ANNEL},\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',$P='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20vec4\x20b'+'lueNoiseJi'+'tter;\x0a\x0a#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BLUENOI'+'SE\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blueN'+'oiseTex32;'+'\x0a#endif\x0a\x0av'+'oid\x20opacit'+'yDither(fl'+'oat\x20alpha,'+'\x20float\x20id)'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BAYER8\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20bayer8('+'floor(mod('+'gl_FragCoo'+'rd.xy\x20+\x20bl'+'ueNoiseJit'+'ter.xy\x20+\x20i'+'d,\x208.0)))\x20'+'/\x2064.0;\x0a\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20==\x20'+'IGNNOISE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20based\x20'+'on\x20https:/'+'/www.iryok'+'u.com/next'+'-generatio'+'n-post-pro'+'cessing-in'+'-call-of-d'+'uty-advanc'+'ed-warfare'+'/\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'agic\x20=\x20vec'+'3(0.067110'+'56,\x200.0058'+'3715,\x2052.9'+'829189);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20fract'+'(magic.z\x20*'+'\x20fract(dot'+'(gl_FragCo'+'ord.xy\x20+\x20b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id,\x20magic.'+'xy)));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20convert\x20'+'the\x20noise\x20'+'to\x20linear\x20'+'space,\x20as\x20'+'that\x20is\x20sp'+'ecified\x20in'+('\x20sRGB\x20spac'+'e\x20(stores\x20'+'perceptual'+'\x20values)\x0a\x20'+'\x20\x20\x20noise\x20='+'\x20pow(noise'+',\x202.2);\x0a\x0a\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x20noise'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a}'+'\x0a'),XP='\x0a',qP='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20litArgs_'+'opacity;\x0a\x0a'+'#elif\x20LIT_'+'BLEND_TYPE'+'\x20==\x20PREMUL'+'TIPLIED\x0a\x0a\x20'+'\x20\x20\x20gl_Frag'+'Color.rgb\x20'+'*=\x20litArgs'+'_opacity;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.a\x20='+'\x20litArgs_o'+'pacity;\x0a\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x201.0'+';\x0a\x0a#endif\x0a',jP='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',YP='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEEN_'+'TEXTURE\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20{STD'+'_SHEEN_TEX'+'TURE_DECOD'+'E}(texture'+'2DBias({ST'+'D_SHEEN_TE'+'XTURE_NAME'+'},\x20{STD_SH'+'EEN_TEXTUR'+'E_UV},\x20tex'+'tureBias))'+'.{STD_SHEE'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_VERTEX\x0a'+'\x20\x20\x20\x20sheenC'+'olor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sSpec'+'ularity\x20=\x20'+'sheenColor'+';\x0a}\x0a',KP='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20*'+'=\x20texture2'+'DBias({STD'+'_SHEENGLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_SHEENGLO'+'SS_TEXTURE'+'_UV},\x20text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20*='+'\x20saturate('+'vVertexCol'+'or.{STD_SH'+'EENGLOSS_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_INVER'+'T\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x201.0\x20-\x20'+'sheenGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20sGlossi'+'ness\x20=\x20she'+'enGlossine'+'ss\x20+\x200.000'+'0001;\x0a}\x0a',ZP='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_H'+'EIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20he'+'ight\x20=\x20hei'+'ght\x20*\x20para'+'llaxScale\x20'+'-\x20parallax'+'Scale\x20*\x200.'+'5;\x0a\x20\x20\x20\x20vec'+'3\x20viewDirT'+'\x20=\x20dViewDi'+'rW\x20*\x20dTBN;'+'\x0a\x0a\x20\x20\x20\x20view'+'DirT.z\x20+=\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',QP='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20co'+'nst\x20uvec4\x20'+'shifts\x20=\x20u'+'vec4(16,\x208'+',\x200,\x2024);\x0a'+'\x20\x20\x20\x20uvec4\x20'+'col\x20=\x20(uve'+'c4(meshIns'+'tanceId)\x20>'+'>\x20shifts)\x20'+'&\x20uvec4(0x'+'ff);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'(col)\x20*\x20in'+'v;\x0a}\x0a',JP='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',e2='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x0a\x20\x20\x20\x20'+'vec2\x20direc'+'tion\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicT\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3(directi'+'on,\x200.0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cB\x20=\x20norma'+'lize(cross'+'(tbn[2],\x20a'+'nisotropic'+'T));\x0a\x0a\x20\x20\x20\x20'+'float\x20anis'+'otropy\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20vec3'+'\x20anisotrop'+'icDirectio'+'n\x20=\x20anisot'+'ropicB;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicTa'+'ngent\x20=\x20cr'+'oss(anisot'+'ropicDirec'+'tion,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicNorm'+'al\x20=\x20cross'+'(anisotrop'+'icTangent,'+'\x20anisotrop'+'icDirectio'+'n);\x0a\x20\x20\x20\x20fl'+'oat\x20bendFa'+'ctor\x20=\x201.0'+'\x20-\x20anisotr'+'opy\x20*\x20(1.0'+'\x20-\x20roughne'+'ss);\x0a\x20\x20\x20\x20f'+'loat\x20bendF'+'actor4\x20=\x20b'+'endFactor\x20'+'*\x20bendFact'+'or\x20*\x20bendF'+'actor\x20*\x20be'+'ndFactor;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'entNormal\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}\x0a',t2='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',s2='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20{re'+'flectionDe'+'code}(text'+'ureCube(te'+'xture_cube'+'Map,\x20looku'+'pVec));\x0a}\x0a'+'\x0avoid\x20addR'+'eflection('+'vec3\x20reflD'+'ir,\x20float\x20'+'gloss)\x20{\x20\x20'+'\x20\x0a\x20\x20\x20\x20dRef'+'lection\x20+='+'\x20vec4(calc'+'Reflection'+'(reflDir,\x20'+'gloss),\x20ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',i2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_envAtlas;'+'\x0a#endif\x0aun'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'flectivity'+';\x0a\x0avec3\x20ca'+'lcReflecti'+'on(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20cub'+'eMapProjec'+'t(reflDir)'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'Uv(dir);\x0a\x0a'+'\x20\x20\x20\x20//\x20cal'+'culate\x20rou'+'ghness\x20lev'+'el\x0a\x20\x20\x20\x20flo'+'at\x20level\x20='+'\x20saturate('+'1.0\x20-\x20glos'+'s)\x20*\x205.0;\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel\x20=\x20f'+'loor(level'+');\x0a\x20\x20\x20\x20flo'+'at\x20flevel\x20'+'=\x20level\x20-\x20'+'ilevel;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'arp\x20=\x20{ref'+'lectionCub'+'emapDecode'+'}(textureC'+'ube(textur'+'e_cubeMap,'+'\x20dir));\x0a\x20\x20'+'\x20\x20vec3\x20rou'+'ghA\x20=\x20{ref'+'lectionDec'+'ode}(textu'+'re2D(textu'+'re_envAtla'+'s,\x20mapRoug'+'hnessUv(uv'+',\x20ilevel))'+');\x0a\x20\x20\x20\x20vec'+'3\x20roughB\x20='+'\x20{reflecti'+'onDecode}('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',r2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_env'+'Atlas;\x0a#en'+'dif\x0aunifor'+'m\x20float\x20ma'+'terial_ref'+'lectivity;'+'\x0a\x0a//\x20calcu'+'late\x20mip\x20l'+'evel\x20for\x20s'+'hiny\x20refle'+'ction\x20give'+'n\x20equirect'+'\x20coords\x20uv'+'.\x0afloat\x20sh'+'inyMipLeve'+'l(vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20dx\x20=\x20dFd'+'x(uv);\x0a\x20\x20\x20'+'\x20vec2\x20dy\x20='+'\x20dFdy(uv);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20s'+'econd\x20dF\x20a'+'t\x20180\x20degr'+'ees\x0a\x20\x20\x20\x20ve'+'c2\x20uv2\x20=\x20v'+'ec2(fract('+'uv.x\x20+\x200.5'+'),\x20uv.y);\x0a'+'\x20\x20\x20\x20vec2\x20d'+'x2\x20=\x20dFdx('+'uv2);\x0a\x20\x20\x20\x20'+'vec2\x20dy2\x20='+'\x20dFdy(uv2)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'min\x20of\x20bot'+'h\x20sets\x20of\x20'+'dF\x20to\x20hand'+'le\x20discont'+'inuity\x20at\x20'+'the\x20azim\x20e'+'dge\x0a\x20\x20\x20\x20fl'+'oat\x20maxd\x20='+'\x20min(max(d'+'ot(dx,\x20dx)'+',\x20dot(dy,\x20'+'dy)),\x20max('+'dot(dx2,\x20d'+'x2),\x20dot(d'+'y2,\x20dy2)))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'0.5\x20*\x20log2'+'(maxd)\x20-\x201'+'.0\x20+\x20textu'+'reBias,\x200.'+'0,\x205.0);\x0a}'+'\x0a\x0avec3\x20cal'+'cReflectio'+'n(vec3\x20ref'+'lDir,\x20floa'+'t\x20gloss)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3(-1.'+'0,\x201.0,\x201.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20to'+'SphericalU'+'v(dir);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20roug'+'hness\x20leve'+'l\x0a\x20\x20\x20\x20floa'+'t\x20level\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20float\x20i'+'level\x20=\x20fl'+'oor(level)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'accessing\x20'+'the\x20shiny\x20'+'(top\x20level'+')\x20reflecti'+'on\x20-\x20perfo'+'rm\x20manual\x20'+'mipmap\x20loo'+'kup\x0a\x20\x20\x20\x20fl'+('oat\x20level2'+'\x20=\x20shinyMi'+'pLevel(uv\x20'+'*\x20atlasSiz'+'e);\x0a\x20\x20\x20\x20fl'+'oat\x20ilevel'+'2\x20=\x20floor('+'level2);\x0a\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v0,\x20uv1;\x0a\x20'+'\x20\x20\x20float\x20w'+'eight;\x0a\x20\x20\x20'+'\x20if\x20(ileve'+'l\x20==\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20mapS'+'hinyUv(uv,'+'\x20ilevel2);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v1\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x20level2\x20'+'-\x20ilevel2;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20acces'+'sing\x20rough'+'\x20reflectio'+'n\x20-\x20just\x20s'+'ample\x20the\x20'+'same\x20part\x20'+'twice\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'uv1\x20=\x20mapR'+'oughnessUv'+'(uv,\x20ileve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20weight\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'3\x20linearA\x20'+'=\x20{reflect'+'ionDecode}'+'(texture2D'+'(texture_e'+'nvAtlas,\x20u'+'v0));\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'rB\x20=\x20{refl'+'ectionDeco'+'de}(textur'+'e2D(textur'+'e_envAtlas'+',\x20uv1));\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near0\x20=\x20mi'+'x(linearA,'+'\x20linearB,\x20'+'weight);\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near1\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(line'+'ar0,\x20linea'+'r1,\x20level\x20'+'-\x20ilevel))'+';\x0a}\x0a\x0avoid\x20'+'addReflect'+'ion(vec3\x20r'+'eflDir,\x20fl'+'oat\x20gloss)'+'\x20{\x20\x20\x20\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20+=\x20vec4('+'calcReflec'+'tion(reflD'+'ir,\x20gloss)'+',\x20material'+'_reflectiv'+'ity);\x0a}\x0a'),a2='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'uniform\x20sa'+'mpler2D\x20te'+'xture_sphe'+'reMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20reflDir'+'V\x20=\x20(mat3('+'matrix_vie'+'w)\x20*\x20reflD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20m\x20=\x20'+'2.0\x20*\x20sqrt'+'(dot(reflD'+'irV.xy,\x20re'+'flDirV.xy)'+'\x20+\x20(reflDi'+'rV.z\x20+\x201.0'+')\x20*\x20(reflD'+'irV.z\x20+\x201.'+'0));\x0a\x20\x20\x20\x20v'+'ec2\x20sphere'+'MapUv\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(texture2'+'D(texture_'+'sphereMap,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0av'+'oid\x20addRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x20\x20\x20\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20+=\x20v'+'ec4(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20mate'+'rial_refle'+'ctivity);\x0a'+'}\x0a',n2='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',o2='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',l2='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bas'+'ed\x20on\x20the\x20'+'dispersion'+'\x20material\x20'+'property,\x20'+'calculate\x20'+'modified\x20r'+'efraction\x20'+'index\x20valu'+'es\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20for\x20R\x20'+'and\x20B\x20chan'+'nels\x20and\x20e'+'valuate\x20th'+'e\x20refracti'+'on\x20color\x20f'+'or\x20them.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20halfSpr'+'ead\x20=\x20(1.0'+'\x20/\x20refract'+'ionIndex\x20-')+('\x201.0)\x20*\x200.'+'025\x20*\x20disp'+'ersion;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20refract'+'ionIndexR\x20'+'=\x20refracti'+'onIndex\x20-\x20'+'halfSpread'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'refraction'+'Vector\x20=\x20n'+'ormalize(r'+'efract(-vi'+'ewDir,\x20wor'+'ldNormal,\x20'+'refraction'+'IndexR))\x20*'+'\x20scale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'action.r\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'xR).r;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20refracti'+'onIndexB\x20='+'\x20refractio'+'nIndex\x20+\x20h'+'alfSpread;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efractionV'+'ector\x20=\x20no'+'rmalize(re'+'fract(-vie'+'wDir,\x20worl'+'dNormal,\x20r'+'efractionI'+'ndexB))\x20*\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ction.b\x20=\x20'+'evalRefrac'+'tionColor('+'refraction'+'Vector,\x20gl'+'oss,\x20refra'+'ctionIndex'+'B).b;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Trans'+'mittance\x20i'+'s\x20our\x20fina'+'l\x20refracti'+'on\x20color\x0a\x20'+'\x20\x20\x20vec3\x20tr'+'ansmittanc'+'e;\x0a\x20\x20\x20\x20if\x20'+'(material_'+'invAttenua'+'tionDistan'+'ce\x20!=\x200.0)'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'attenuatio'+'n\x20=\x20-log(m'+'aterial_at'+'tenuation)'+'\x20*\x20materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans'+'mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20vec3'+'\x20fresnel\x20='+'\x20vec3(1.0)'+'\x20-\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot(')+('viewDir,\x20w'+'orldNormal'+'),\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20ref'+'raction\x20*\x20'+'transmitta'+'nce\x20*\x20fres'+'nel,\x20trans'+'mission);\x0a'+'}\x0a'),c2='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0a//\x20sourc'+'e\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20so'+'urceCube;\x0a'+'#else\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20so'+'urceTex;\x0a#'+'endif\x0a\x0a#if'+'def\x20USE_SA'+'MPLES_TEX\x0a'+'\x20\x20\x20\x20//\x20sam'+'ples\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20sam'+'plesTex;\x0a\x20'+'\x20\x20\x20uniform'+'\x20vec2\x20samp'+'lesTexInve'+'rseSize;\x0a#'+'endif\x0a\x0a//\x20'+'params:\x0a//'+'\x20x\x20-\x20targe'+'t\x20cubemap\x20'+'face\x200..6\x0a'+'//\x20y\x20-\x20tar'+'get\x20image\x20'+'total\x20pixe'+'ls\x0a//\x20z\x20-\x20'+'source\x20cub'+'emap\x20size\x0a'+'uniform\x20ve'+'c3\x20params;'+'\x0a\x0afloat\x20ta'+'rgetFace()'+'\x20{\x20return\x20'+'params.x;\x20'+'}\x0afloat\x20ta'+'rgetTotalP'+'ixels()\x20{\x20'+'return\x20par'+'ams.y;\x20}\x0af'+'loat\x20sourc'+'eTotalPixe'+'ls()\x20{\x20ret'+'urn\x20params'+'.z;\x20}\x0a\x0aflo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0a#i'+'nclude\x20\x22de'+'codePS\x22\x0a#i'+'nclude\x20\x22en'+'codePS\x22\x0a\x0a/'+'/--\x20suppor'+'ted\x20projec'+'tions\x0a\x0avec'+'3\x20modifySe'+'ams(vec3\x20d'+'ir,\x20float\x20'+'scale)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20ad'+'ir\x20=\x20abs(d'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20M\x20=\x20m'+'ax(max(adi'+'r.x,\x20adir.'+'y),\x20adir.z'+');\x0a\x20\x20\x20\x20ret'+'urn\x20dir\x20/\x20'+'M\x20*\x20vec3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.x\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20adir.y\x20'+'==\x20M\x20?\x201.0'+'\x20:\x20scale,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.z\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+('\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec3\x20f'+'romSpheric'+'al(vec2\x20uv'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec3('+'cos(uv.y)\x20'+'*\x20sin(uv.x'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'in(uv.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cos('+'uv.y)\x20*\x20co'+'s(uv.x));\x0a'+'}\x0a\x0avec3\x20ge'+'tDirection'+'Equirect()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20fromSp'+'herical((v'+'ec2(vUv0.x'+',\x201.0\x20-\x20vU'+'v0.y)\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20vec2(PI,\x20'+'PI\x20*\x200.5))'+';\x0a}\x0a\x0a//\x20oc'+'tahedral\x20c'+'ode,\x20based'+'\x20on\x20https:'+'//jcgt.org'+'/published'+'/0003/02/0'+'1/\x0a//\x20\x22Sur'+'vey\x20of\x20Eff'+'icient\x20Rep'+'resentatio'+'ns\x20for\x20Ind'+'ependent\x20U'+'nit\x20Vector'+'s\x22\x20by\x20Cigo'+'lle,\x20Donow'+',\x20Evangela'+'kos,\x20Mara,'+'\x20McGuire,\x20'+'Meyer\x0a\x0aflo'+'at\x20signNot'+'Zero(float'+'\x20k){\x0a\x20\x20\x20\x20r'+'eturn(k\x20>='+'\x200.0)\x20?\x201.'+'0\x20:\x20-1.0;\x0a'+'}\x0a\x0avec2\x20si'+'gnNotZero('+'vec2\x20v)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec2(sign'+'NotZero(v.'+'x),\x20signNo'+'tZero(v.y)'+');\x0a}\x0a\x0a//\x20R'+'eturns\x20a\x20u'+'nit\x20vector'+'.\x20Argument'+'\x20o\x20is\x20an\x20o'+'ctahedral\x20'+'vector\x20pac'+'ked\x20via\x20oc'+'tEncode,\x20o'+'n\x20the\x20[-1,'+'\x20+1]\x20squar'+'e\x0avec3\x20oct'+'Decode(vec'+'2\x20o)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20v\x20=\x20'+'vec3(o.x,\x20'+'1.0\x20-\x20abs('+'o.x)\x20-\x20abs'+'(o.y),\x20o.y'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20v.xz\x20=\x20('+'1.0\x20-\x20abs('+'v.zx))\x20*\x20s'+'ignNotZero'+'(v.xz);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lize(v);\x0a}'+'\x0a\x0avec3\x20get'+'DirectionO'+'ctahedral('+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20octDe'+'code(vec2(')+('vUv0.x,\x201.'+'0\x20-\x20vUv0.y'+')\x20*\x202.0\x20-\x20'+'1.0);\x0a}\x0a\x0a/'+'/\x20Assumes\x20'+'that\x20v\x20is\x20'+'a\x20unit\x20vec'+'tor.\x20The\x20r'+'esult\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'on\x20the\x20[-1'+',\x20+1]\x20squa'+'re\x0avec2\x20oc'+'tEncode(in'+'\x20vec3\x20v)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20vec2'+'\x20result\x20=\x20'+'v.xz\x20*\x20(1.'+'0\x20/\x20l1norm'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20result\x20='+'\x20(1.0\x20-\x20ab'+'s(result.y'+'x))\x20*\x20sign'+'NotZero(re'+'sult.xy);\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20res'+'ult;\x0a}\x0a\x0a//'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'///////\x0a\x0a#'+'ifdef\x20CUBE'+'MAP_SOURCE'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleCube'+'map(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureCu'+'be(sourceC'+'ube,\x20modif'+'ySeams(dir'+',\x201.0));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eCubemap(v'+'ec2\x20sph)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leCubemap('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleCubemap'+'(vec3\x20dir,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCubeLod(s'+'ourceCube,'+'\x20modifySea'+'ms(dir,\x201.'+'0),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleCub'+'emap(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleCubema'+'p(fromSphe'+'rical(sph)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eEquirect('+'vec2\x20sph)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'sph\x20/\x20vec2'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleEqu'+'irect(toSp'+'herical(di'+'r));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleEqu'+'irect(vec2'+'\x20sph,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20sph\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2DLo'+'d(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20sampleEq'+'uirect(toS'+'pherical(d'+'ir),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20o'+'ctEncode(d'+'ir)\x20*\x200.5\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Octahedral'+'(vec2\x20sph)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20octEn'+'code(dir)\x20'+'*\x200.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20te'+'xture2DLod'+'(sourceTex'+',\x20vec2(uv.'+'x,\x201.0\x20-\x20u'+'v.y),\x20mipL'+'evel);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20sampleO'+'ctahedral('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph),\x20')+('mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0avec3'+'\x20getDirect'+'ionCubemap'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20st\x20=\x20v'+'Uv0\x20*\x202.0\x20'+'-\x201.0;\x0a\x20\x20\x20'+'\x20float\x20fac'+'e\x20=\x20target'+'Face();\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ve'+'c;\x0a\x20\x20\x20\x20if\x20'+'(face\x20==\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(1,\x20-s'+'t.y,\x20-st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3(-1,\x20-st.'+'y,\x20st.x);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x202.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x201,\x20st'+'.y);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x203.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'-1,\x20-st.y)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(fac'+'e\x20==\x204.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec\x20=\x20vec3'+'(st.x,\x20-st'+'.y,\x201);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'-st.x,\x20-st'+'.y,\x20-1);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(mod'+'ifySeams(v'+'ec,\x201.0));'+'\x0a}\x0a\x0amat3\x20m'+'atrixFromV'+'ector(vec3'+'\x20n)\x20{\x20//\x20f'+'risvad\x0a\x20\x20\x20'+'\x20float\x20a\x20='+'\x201.0\x20/\x20(1.'+'0\x20+\x20n.z);\x0a'+'\x20\x20\x20\x20float\x20'+'b\x20=\x20-n.x\x20*'+'\x20n.y\x20*\x20a;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'1\x20=\x20vec3(1'+'.0\x20-\x20n.x\x20*'+'\x20n.x\x20*\x20a,\x20'+'b,\x20-n.x);\x0a'+'\x20\x20\x20\x20vec3\x20b'+'2\x20=\x20vec3(b'+',\x201.0\x20-\x20n.'+'y\x20*\x20n.y\x20*\x20'+'a,\x20-n.y);\x0a'+'\x20\x20\x20\x20return'+'\x20mat3(b1,\x20'+'b2,\x20n);\x0a}\x0a'+'\x0amat3\x20matr'+'ixFromVect'+'orSlow(vec'+'3\x20n)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20up\x20='+'\x20(1.0\x20-\x20ab'+'s(n.y)\x20<=\x20'+'0.0000001)'+'\x20?\x20vec3(0.'+'0,\x200.0,\x20n.'+'y\x20>\x200.0\x20?\x20'+'1.0\x20:\x20-1.0'+')\x20:\x20vec3(0'+'.0,\x201.0,\x200'+'.0);\x0a\x20\x20\x20\x20v'+'ec3\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20vec'+'3\x20y\x20=\x20cros')+('s(n,\x20x);\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(x,\x20y,'+'\x20n);\x0a}\x0a\x0ave'+'c4\x20reproje'+'ct()\x20{\x0a\x20\x20\x20'+'\x20if\x20({NUM_'+'SAMPLES}\x20<'+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20si'+'ngle\x20sampl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20{EN'+'CODE_FUNC}'+'({DECODE_F'+'UNC}({SOUR'+'CE_FUNC}({'+'TARGET_FUN'+'C}())));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multi\x20s'+'ample\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20t'+'\x20=\x20{TARGET'+'_FUNC}();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tu\x20=\x20dF'+'dx(t);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'tv\x20=\x20dFdy('+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(float\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'++u)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'v\x20=\x200.0;\x20v'+'\x20<\x20{NUM_SA'+'MPLES_SQRT'+'};\x20++v)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20{DEC'+'ODE_FUNC}('+'{SOURCE_FU'+'NC}(normal'+'ize(t\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20tu'+'\x20*\x20(u\x20/\x20{N'+'UM_SAMPLES'+'_SQRT}\x20-\x200'+'.5)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20tv\x20*'+'\x20(v\x20/\x20{NUM'+'_SAMPLES_S'+'QRT}\x20-\x200.5'+'))));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20({'+'NUM_SAMPLE'+'S_SQRT}\x20*\x20'+'{NUM_SAMPL'+'ES_SQRT}))'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0avec4\x20unpa'+'ckFloat\x20=\x20'+'vec4(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20void\x20'+'unpackSamp'+'le(int\x20i,\x20'+'out\x20vec3\x20L'+',\x20out\x20floa')+('t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x20(float(i'+'\x20*\x204)\x20+\x200.'+'5)\x20*\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x20(f'+'loor(u)\x20+\x20'+'0.5)\x20*\x20sam'+'plesTexInv'+'erseSize.y'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20raw;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.x\x20=\x20dot'+'(texture2D'+'(samplesTe'+'x,\x20vec2(u,'+'\x20v)),\x20unpa'+'ckFloat);\x20'+'u\x20+=\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'texture2D('+'samplesTex'+',\x20vec2(u,\x20'+'v)),\x20unpac'+'kFloat);\x20u'+'\x20+=\x20sample'+'sTexInvers'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.z\x20=\x20dot(t'+'exture2D(s'+'amplesTex,'+'\x20vec2(u,\x20v'+')),\x20unpack'+'Float);\x20u\x20'+'+=\x20samples'+'TexInverse'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20raw.'+'w\x20=\x20dot(te'+'xture2D(sa'+'mplesTex,\x20'+'vec2(u,\x20v)'+'),\x20unpackF'+'loat);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20L.xy'+'z\x20=\x20raw.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mipLeve'+'l\x20=\x20raw.w\x20'+'*\x208.0;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20convolve\x20'+'an\x20environ'+'ment\x20given'+'\x20pre-gener'+'ated\x20sampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamples()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L')+(',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level))\x20*\x20'+'L.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tot'+'alWeight\x20+'+'=\x20L.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20{ENCODE'+'_FUNC}(res'+'ult\x20/\x20tota'+'lWeight);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20unweig'+'hted\x20versi'+'on\x20of\x20pref'+'ilterSampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamplesUn'+'weighted()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20fl'+'oat({NUM_S'+'AMPLES}));'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20{PROCESS'+'_FUNC}();\x0a'+'}\x0a'),h2='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0auniform'+'\x20vec4\x20uvMo'+'d;\x0avarying'+'\x20vec2\x20vUv0'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(vertex_po'+'sition.xy\x20'+'*\x200.5\x20+\x200.'+'5)\x20*\x20uvMod'+'.xy\x20+\x20uvMo'+'d.zw);\x0a}\x0a',d2='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SCREENS'+'IZE\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#ifndef'+'\x20CAMERAPLA'+'NES\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20camera'+'_params;\x20/'+'/\x20x:\x201\x20/\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20\x20y:\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20z:\x20ca'+'mera_near,'+'\x20\x20\x20\x20\x20\x20\x20\x20w:'+'\x20is_ortho\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20lineariz'+'eDepth(flo'+'at\x20z)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'camera_par'+'ams.w\x20==\x200'+'.0)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(camera'+'_params.z\x20'+'*\x20camera_p'+'arams.y)\x20/'+'\x20(camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(camer'+'a_params.z'+'\x20-\x20camera_'+'params.y))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20camera'+'_params.z\x20'+'+\x20z\x20*\x20(cam'+'era_params'+'.y\x20-\x20camer'+'a_params.z'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0aflo'+'at\x20delinea'+'rizeDepth('+'float\x20line'+'arDepth)\x20{'+'\x0a\x20\x20\x20\x20if\x20(c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'(camera_pa'+'rams.y\x20*\x20('+'camera_par'+'ams.z\x20-\x20li'+'nearDepth)'+')\x20/\x20(linea'+'rDepth\x20*\x20('+'camera_par'+'ams.z\x20-\x20ca'+'mera_param'+'s.y));\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(line'+'arDepth\x20-\x20'+'camera_par'+'ams.z)\x20/\x20('+('camera_par'+'ams.y\x20-\x20ca'+'mera_param'+'s.z);\x0a\x20\x20\x20\x20'+'}\x0a}\x0a\x0a//\x20Re'+'trieves\x20re'+'ndered\x20lin'+'ear\x20camera'+'\x20depth\x20by\x20'+'UV\x0afloat\x20g'+'etLinearSc'+'reenDepth('+'vec2\x20uv)\x20{'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SCENE_DE'+'PTHMAP_LIN'+'EAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_FLOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2D(u'+'SceneDepth'+'Map,\x20uv).r'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20textu'+'reSize\x20=\x20t'+'extureSize'+'(uSceneDep'+'thMap,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20t'+'exel\x20=\x20ive'+'c2(uv\x20*\x20ve'+'c2(texture'+'Size));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20data\x20'+'=\x20texelFet'+'ch(uSceneD'+'epthMap,\x20t'+'exel,\x200);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(data.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(uint(d'+'ata.g\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20|\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.b\x20*\x20255.'+'0)\x20<<\x208u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(data.a\x20'+'*\x20255.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uintBitsTo'+'Float(intB'+'its);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20line'+'arizeDepth'+'(texture2D'+'(uSceneDep'+'thMap,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20float\x20'+'getLinearS'+'creenDepth'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20uv'+'\x20=\x20gl_Frag'+'Coord.xy\x20*'+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afloat\x20'+'getLinearD'+'epth(vec3\x20'+'pos)\x20{\x0a\x20\x20\x20'+'\x20return\x20-('+'matrix_vie'+'w\x20*\x20vec4(p'+'os,\x201.0)).'+'z;\x0a}\x0a'),f2='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avec3\x20'+'fadeShadow'+'(vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'CascadeDis'+'tances)\x20{\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20if\x20th'+'e\x20pixel\x20is'+'\x20past\x20the\x20'+'shadow\x20dis'+'tance,\x20rem'+'ove\x20shadow'+'\x0a\x20\x20\x20\x20//\x20th'+'is\x20enforce'+'s\x20straight'+'\x20line\x20inst'+'ead\x20of\x20cor'+'ner\x20of\x20sha'+'dow\x20which\x20'+'moves\x20when'+'\x20camera\x20ro'+'tates\x20\x20\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x20\x20'+'\x20\x20if\x20(dept'+'h\x20>\x20shadow'+'CascadeDis'+'tances.w)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'shadowCoor'+'d.z\x20=\x20-999'+'9999.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20shad'+'owCoord;\x0a}'+'\x0a'),u2='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+('\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a\x0a//\x20'+'------\x20VSM'+'\x2016\x20------'+'\x0a\x0afloat\x20VS'+'M16(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec2\x20'+'texCoords,'+'\x20float\x20res'+'olution,\x20f'+'loat\x20Z,\x20fl'+'oat\x20vsmBia'+'s,\x20float\x20e'+'xponent)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'moments\x20=\x20'+'texture2DL'+'od(tex,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM16('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM16(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM16(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20VSM16('+'TEXTURE_PA'+'SS(shadowM'+'ap),\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----')+('--\x0a\x0afloat\x20'+'VSM32(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20texCoord'+'s,\x20float\x20r'+'esolution,'+'\x20float\x20Z,\x20'+'float\x20vsmB'+'ias,\x20float'+'\x20exponent)'+'\x20{\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20CAPS_'+'TEXTURE_FL'+'OAT_FILTER'+'ABLE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2DLod'+'(tex,\x20texC'+'oords,\x200.0'+').xyz;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ma'+'nual\x20bilin'+'ear\x20filter'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pi'+'xelSize\x20=\x20'+'1.0\x20/\x20reso'+'lution;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20texC'+'oords\x20-=\x20v'+'ec2(pixelS'+'ize);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'00\x20=\x20textu'+'re2DLod(te'+'x,\x20texCoor'+'ds,\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20s10'+'\x20=\x20texture'+'2DLod(tex,'+'\x20texCoords'+'\x20+\x20vec2(pi'+'xelSize,\x200'+'),\x200.0).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20s01\x20'+'=\x20texture2'+'DLod(tex,\x20'+'texCoords\x20'+'+\x20vec2(0,\x20'+'pixelSize)'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20s11\x20='+'\x20texture2D'+'Lod(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20fr\x20=\x20frac'+'t(texCoord'+'s\x20*\x20resolu'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'h0\x20=\x20mix(s'+'00,\x20s10,\x20f'+'r.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20h'+'1\x20=\x20mix(s0'+'1,\x20s11,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20mi'+'x(h0,\x20h1,\x20'+'fr.y);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM32('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM32(T')+('EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM32(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20Z\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd.xy,\x20sha'+'dowParams.'+'x,\x20Z,\x20shad'+'owParams.y'+',\x20exponent'+');\x0a}\x0a'),p2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20textur'+'eShadow(sh'+'adowMap,\x20s'+'hadowCoord'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wSpotPCF1x'+'1(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSh'+'adow(shado'+'wMap,\x20shad'+'owCoord);\x0a'+'}\x0a\x0a//\x20----'+'-\x20Omni\x20Sam'+'pling\x20----'+'-\x0a\x0a#ifndef'+'\x20WEBGPU\x0a\x0af'+'loat\x20getSh'+'adowOmniPC'+'F1x1(sampl'+'erCubeShad'+'ow\x20shadowM'+'ap,\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20return'+'\x20texture(s'+'hadowMap,\x20'+'vec4(light'+'Dir,\x20shado'+'wZ));\x0a}\x0a\x0a#'+'endif\x0a',m2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x20\x0a\x20\x20'+'\x20\x20base_uv\x20'+'-=\x20vec2(0.'+'5);\x0a\x20\x20\x20\x20ba'+'se_uv\x20*=\x20s'+'hadowMapSi'+'zeInv;\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'uw0\x20=\x20(3.0'+'\x20-\x202.0\x20*\x20s'+');\x0a\x20\x20\x20\x20flo'+'at\x20uw1\x20=\x20('+'1.0\x20+\x202.0\x20'+'*\x20s);\x0a\x0a\x20\x20\x20'+'\x20float\x20u0\x20'+'=\x20(2.0\x20-\x20s'+')\x20/\x20uw0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20f'+'loat\x20u1\x20=\x20'+'s\x20/\x20uw1\x20+\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(3.0\x20-\x202'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20t)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20v0\x20=\x20(2'+'.0\x20-\x20t)\x20/\x20'+'vw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20v1\x20=\x20t\x20/\x20'+'vw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20u0\x20='+'\x20u0\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v0\x20=\x20v0\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u1\x20=\x20'+'u1\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'1\x20=\x20v1\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+('sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw0\x20*\x20v'+'w1\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u0,\x20v'+'1,\x20z));\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w1\x20*\x20vw1\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u1,\x20v1,\x20z'+'));\x0a\x0a\x20\x20\x20\x20s'+'um\x20*=\x201.0f'+'\x20/\x2016.0;\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF3x3('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'3x3(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0a//\x20-----'+'\x20Omni\x20Samp'+'ling\x20-----'+'\x0a\x0a#ifndef\x20'+'WEBGPU\x0a\x0afl'+'oat\x20getSha'+'dowOmniPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict')+('\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wOmniPCF3x'+'3(samplerC'+'ubeShadow\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowOmniP'+'CF3x3(shad'+'owMap,\x20sha'+'dowParams,'+'\x20lightDir)'+';\x0a}\x0a\x0a#endi'+'f\x0a'),_2='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20saturate'+'(sum);\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF5x5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F5x5(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado')+('wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF5'+'x5(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'),g2='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epthWithPa'+'rams(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20const\x20f'+'loat\x20PI\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa')+('dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam'+'pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec')+('4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow'+'Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowOm'+'niPCSS(sam'+'plerCube\x20s'+'hadowMap,\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'4\x20cameraPa'+'rams,\x20vec2'+'\x20shadowSea'+'rchArea,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SCube(shad'+'owMap,\x20sha'+'dowParams,'+'\x20shadowCoo'+'rd,\x20camera'+'Params,\x20sh'+'adowSearch'+'Area.x,\x20li'+'ghtDir);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'float\x20getS'+'hadowSpotP'+'CSS(TEXTUR'+'E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SS(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20cameraPar'+'ams,\x20shado'+'wSearchAre'+'a);\x0a}\x0a\x0a'),S2='\x0a\x0ahighp\x20fl'+'oat\x20fractS'+'inRand(con'+'st\x20in\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x20\x20\x20'+'\x20const\x20hig'+'hp\x20float\x20a'+'\x20=\x2012.9898'+',\x20b\x20=\x2078.2'+'33,\x20c\x20=\x2043'+'758.5453;\x0a'+'\x20\x20\x20\x20highp\x20'+'float\x20dt\x20='+'\x20dot(uv.xy'+',\x20vec2(a,\x20'+'b)),\x20sn\x20=\x20'+'mod(dt,\x20PI'+');\x0a\x20\x20\x20\x20ret'+'urn\x20fract('+'sin(sn)\x20*\x20'+'c);\x0a}\x0a\x0a//\x20'+'struct\x20to\x20'+'hold\x20preco'+'mputed\x20con'+'stants\x20and'+'\x20current\x20s'+'tate\x0astruc'+'t\x20VogelDis'+'kData\x20{\x0a\x20\x20'+'\x20\x20float\x20in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20initial'+'Angle;\x0a\x20\x20\x20'+'\x20float\x20cur'+'rentPointI'+'d;\x0a};\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'void\x20prepa'+'reDiskCons'+'tants(out\x20'+'VogelDiskD'+'ata\x20data,\x20'+'int\x20sample'+'Count,\x20flo'+'at\x20randomS'+'eed)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20pi2\x20=\x206'+'.283185307'+'18;\x0a\x20\x20\x20\x20da'+'ta.invNumS'+'amples\x20=\x201'+'.0\x20/\x20float'+'(sampleCou'+'nt);\x0a\x20\x20\x20\x20d'+'ata.initia'+'lAngle\x20=\x20r'+'andomSeed\x20'+'*\x20pi2;\x0a\x20\x20\x20'+'\x20data.curr'+'entPointId'+'\x20=\x200.0;\x0a}\x0a'+'\x0a\x0avec2\x20gen'+'erateDiskS'+'ample(inou'+'t\x20VogelDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'GOLDEN_ANG'+'LE\x20=\x202.399'+'963;\x0a\x20\x20\x20\x20f'+'loat\x20r\x20=\x20s'+'qrt((data.'+'currentPoi'+'ntId\x20+\x200.5'+')\x20*\x20data.i'+'nvNumSampl'+'es);\x0a\x20\x20\x20\x20f'+'loat\x20theta'+'\x20=\x20data.cu'+'rrentPoint'+'Id\x20*\x20GOLDE'+'N_ANGLE\x20+\x20'+'data.initi'+'alAngle;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20o'+'ffset\x20=\x20ve'+('c2(cos(the'+'ta),\x20sin(t'+'heta))\x20*\x20p'+'ow(r,\x201.33'+');\x0a\x0a\x20\x20\x20\x20da'+'ta.current'+'PointId\x20+='+'\x201.0;\x0a\x20\x20\x20\x20'+'return\x20off'+'set;\x0a}\x0a\x0avo'+'id\x20PCSSFin'+'dBlocker(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20out\x20'+'float\x20avgB'+'lockerDept'+'h,\x20out\x20int'+'\x20numBlocke'+'rs,\x0a\x20\x20\x20\x20ve'+'c2\x20shadowC'+'oords,\x20flo'+'at\x20z,\x20int\x20'+'shadowBloc'+'kerSamples'+',\x20float\x20pe'+'numbraSize'+',\x20float\x20in'+'vShadowMap'+'Size,\x20floa'+'t\x20randomSe'+'ed)\x20{\x0a\x0a\x20\x20\x20'+'\x20VogelDisk'+'Data\x20diskD'+'ata;\x0a\x20\x20\x20\x20p'+'repareDisk'+'Constants('+'diskData,\x20'+'shadowBloc'+'kerSamples'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'float\x20sear'+'chWidth\x20=\x20'+'penumbraSi'+'ze\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x20\x20\x20\x20flo'+'at\x20blocker'+'Sum\x20=\x200.0;'+'\x0a\x20\x20\x20\x20numBl'+'ockers\x20=\x200'+';\x0a\x0a\x20\x20\x20\x20for'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowBlocker'+'Samples;\x20+'+'+i\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'diskUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20sampleUV'+'\x20=\x20shadowC'+'oords\x20+\x20di'+'skUV\x20*\x20sea'+'rchWidth;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'MapDepth\x20='+'\x20texture2D'+'Lod(shadow'+'Map,\x20sampl'+'eUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(\x20shad'+'owMapDepth'+'\x20<\x20z\x20)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20blockerSu'+'m\x20+=\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers++;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20av'+'gBlockerDe'+'pth\x20=\x20bloc'+'kerSum\x20/\x20f'+'loat(numBl'+'ockers);\x0a}'+'\x0a\x0afloat\x20PC'+'SSFilter(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20uv,\x20float')+('\x20receiverD'+'epth,\x20int\x20'+'shadowSamp'+'les,\x20float'+'\x20filterRad'+'ius,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'VogelDiskD'+'ata\x20diskDa'+'ta;\x0a\x20\x20\x20\x20pr'+'epareDiskC'+'onstants(d'+'iskData,\x20s'+'hadowSampl'+'es,\x20random'+'Seed);\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20shadowS'+'amples;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20of'+'fsetUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x20text'+'ure2DLod(s'+'hadowMap,\x20'+'uv\x20+\x20offse'+'tUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sum\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20retu'+'rn\x20sum\x20/\x20f'+'loat(shado'+'wSamples);'+'\x0a}\x0a\x0afloat\x20'+'getPenumbr'+'a(float\x20db'+'locker,\x20fl'+'oat\x20drecei'+'ver,\x20float'+'\x20penumbraS'+'ize,\x20float'+'\x20penumbraF'+'alloff)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'dist\x20=\x20dre'+'ceiver\x20-\x20d'+'blocker;\x0a\x20'+'\x20\x20\x20float\x20p'+'enumbra\x20=\x20'+'1.0\x20-\x20pow('+'1.0\x20-\x20dist'+',\x20penumbra'+'Falloff);\x0a'+'\x20\x20\x20\x20return'+'\x20penumbra\x20'+'*\x20penumbra'+'Size;\x0a}\x0a\x0af'+'loat\x20PCSSD'+'irectional'+'(TEXTURE_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20vec4'+'\x20softShado'+'wParams)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20receiver'+'Depth\x20=\x20sh'+'adowCoords'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20random'+'Seed\x20=\x20fra'+'ctSinRand('+'gl_FragCoo'+'rd.xy);\x0a\x20\x20'+'\x20\x20int\x20shad'+'owSamples\x20'+'=\x20int(soft'+'ShadowPara'+'ms.x);\x0a\x20\x20\x20'+'\x20int\x20shado'+'wBlockerSa'+'mples\x20=\x20in'+'t(softShad')+('owParams.y'+');\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'aSize\x20=\x20so'+'ftShadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20float\x20pe'+'numbraFall'+'off\x20=\x20soft'+'ShadowPara'+'ms.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20normal'+'ized\x20inver'+'se\x20shadow\x20'+'map\x20size\x20t'+'o\x20preserve'+'\x20the\x20shado'+'w\x20softness'+'\x20regardles'+'s\x20of\x20the\x20s'+'hadow\x20reso'+'lution\x0a\x20\x20\x20'+'\x20int\x20shado'+'wMapSize\x20='+'\x20textureSi'+'ze(shadowM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20float\x20'+'invShadowM'+'apSize\x20=\x201'+'.0\x20/\x20float'+'(shadowMap'+'Size);\x0a\x20\x20\x20'+'\x20invShadow'+'MapSize\x20*='+'\x20float(sha'+'dowMapSize'+')\x20/\x202048.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'a;\x0a\x0a\x20\x20\x20\x20//'+'\x20contact\x20h'+'ardening\x20p'+'ath\x0a\x20\x20\x20\x20if'+'\x20(shadowBl'+'ockerSampl'+'es\x20>\x200)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20find\x20ave'+'rage\x20block'+'er\x20depth\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20avgBloc'+'kerDepth\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20nu'+'mBlockers\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20avgBlo'+'ckerDepth,'+'\x20numBlocke'+'rs,\x20shadow'+'Coords.xy,'+'\x20receiverD'+'epth,\x20shad'+'owBlockerS'+'amples,\x20pe'+'numbraSize'+',\x20invShado'+'wMapSize,\x20'+'randomSeed'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20out\x20when\x20'+'no\x20blocker'+'s\x20are\x20pres'+'ent\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(numB'+'lockers\x20<\x20'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x201.0f;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'penumbra\x20s'+'ize\x20is\x20bas'+'ed\x20on\x20the\x20'+'blocker\x20de'+'pth\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20penumbra'+'\x20=\x20getPenu'+'mbra(avgBl'+'ockerDepth'+',\x20shadowCo'+'ords.z,\x20pe'+'numbraSize'+',\x20penumbra')+('Falloff);\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'tant\x20filte'+'r\x20size,\x20no'+'\x20contact\x20h'+'ardening\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pen'+'umbra\x20=\x20pe'+'numbraSize'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ilterRadiu'+'s\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoords'+'.xy,\x20recei'+'verDepth,\x20'+'shadowSamp'+'les,\x20filte'+'rRadius,\x20r'+'andomSeed)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSSDirecti'+'onal(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20cameraP'+'arams,\x20sof'+'tShadowPar'+'ams);\x0a}\x0a\x0a'),y2='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0a\x0a'+'mat4\x20getBo'+'neMatrix(c'+'onst\x20in\x20fl'+'oat\x20indexF'+'loat)\x20{\x0a\x0a\x20'+'\x20\x20\x20int\x20wid'+'th\x20=\x20textu'+'reSize(tex'+'ture_poseM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20int\x20in'+'dex\x20=\x20int('+'indexFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x20\x20\x20\x20int'+'\x20iy\x20=\x20inde'+'x\x20/\x20width;'+'\x0a\x20\x20\x20\x20int\x20i'+'x\x20=\x20index\x20'+'%\x20width;\x0a\x0a'+'\x20\x20\x20\x20//\x20rea'+'d\x20elements'+'\x20of\x204x3\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20v1\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x200,'+'\x20iy),\x200);\x0a'+'\x20\x20\x20\x20vec4\x20v'+'2\x20=\x20texelF'+'etch(textu'+'re_poseMap'+',\x20ivec2(ix'+'\x20+\x201,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20v'+'ec4\x20v3\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x202,'+'\x20iy),\x200);\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',v2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0a\x0avoid\x20'+'getBoneMat'+'rix(const\x20'+'in\x20int\x20wid'+'th,\x20const\x20'+'in\x20int\x20ind'+'ex,\x20out\x20ve'+'c4\x20v1,\x20out'+'\x20vec4\x20v2,\x20'+'out\x20vec4\x20v'+'3)\x20{\x0a\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20in'+'dex\x20/\x20widt'+'h;\x0a\x20\x20\x20\x20int'+'\x20u\x20=\x20index'+'\x20%\x20width;\x0a'+'\x0a\x20\x20\x20\x20v1\x20=\x20'+'texelFetch'+'(texture_p'+'oseMap,\x20iv'+'ec2(u\x20+\x200,'+'\x20v),\x200);\x0a\x20'+'\x20\x20\x20v2\x20=\x20te'+'xelFetch(t'+'exture_pos'+'eMap,\x20ivec'+'2(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20v3\x20=\x20texe'+'lFetch(tex'+'ture_poseM'+'ap,\x20ivec2('+'u\x20+\x202,\x20v),'+'\x200);\x0a}\x0a\x0ama'+'t4\x20getSkin'+'Matrix(con'+'st\x20in\x20vec4'+'\x20indicesFl'+'oat,\x20const'+'\x20in\x20vec4\x20w'+'eights)\x20{\x0a'+'\x0a\x20\x20\x20\x20int\x20w'+'idth\x20=\x20tex'+'tureSize(t'+'exture_pos'+'eMap,\x200).x'+';\x0a\x20\x20\x20\x20ivec'+'4\x20indices\x20'+'=\x20ivec4(in'+'dicesFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20get\x204\x20bon'+'e\x20matrices'+'\x0a\x20\x20\x20\x20vec4\x20'+'a1,\x20a2,\x20a3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.x,\x20a1'+',\x20a2,\x20a3);'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20b1,\x20b2,\x20b'+'3;\x0a\x20\x20\x20\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y,\x20b'+'1,\x20b2,\x20b3)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20c1,\x20c2,\x20'+'c3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.z,\x20'+'c1,\x20c2,\x20c3'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20d1,\x20d2,'+'\x20d3;\x0a\x20\x20\x20\x20g'+'etBoneMatr'+'ix(width,\x20'+'indices.w,'+'\x20d1,\x20d2,\x20d'+'3);\x0a\x0a\x20\x20\x20\x20/'+'/\x20multiply'+'\x20them\x20by\x20w'+'eights\x20and'+'\x20add\x20up\x20to'+'\x20get\x20final'+'\x204x3\x20matri'+('x\x0a\x20\x20\x20\x20vec4'+'\x20v1\x20=\x20a1\x20*'+'\x20weights.x'+'\x20+\x20b1\x20*\x20we'+'ights.y\x20+\x20'+'c1\x20*\x20weigh'+'ts.z\x20+\x20d1\x20'+'*\x20weights.'+'w;\x0a\x20\x20\x20\x20vec'+'4\x20v2\x20=\x20a2\x20'+'*\x20weights.'+'x\x20+\x20b2\x20*\x20w'+'eights.y\x20+'+'\x20c2\x20*\x20weig'+'hts.z\x20+\x20d2'+'\x20*\x20weights'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20v3\x20=\x20a3'+'\x20*\x20weights'+'.x\x20+\x20b3\x20*\x20'+'weights.y\x20'+'+\x20c3\x20*\x20wei'+'ghts.z\x20+\x20d'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20add\x20up\x20'+'weights\x0a\x20\x20'+'\x20\x20float\x20on'+'e\x20=\x20dot(we'+'ights,\x20vec'+'4(1.0));\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.x'+',\x20v2.x,\x20v3'+'.x,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.y,'+'\x20v2.y,\x20v3.'+'y,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.z,\x20'+'v2.z,\x20v3.z'+',\x200,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20v1.w,\x20v'+'2.w,\x20v3.w,'+'\x20one\x0a\x20\x20\x20\x20)'+';\x0a}\x0a'),x2='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20float\x20v'+'LinearDept'+'h;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22floatAsUi'+'ntPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec3\x20vView'+'Dir;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20skyboxH'+'ighlightMu'+'ltiplier;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SKY_CUBE'+'MAP\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20texture'+'_cubeMap;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec3\x20v'+'WorldPos;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20project'+'edSkydomeC'+'enter;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#el'+'se\x20//\x20env-'+'atlas\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22spher'+'icalPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22envA'+'tlasPS\x22\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mipLe'+'vel;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20linear\x20d'+'epth\x20durin'+'g\x20prepass\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20flo'+'at2vec4(vL'+'inearDepth'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SK'+'Y_CUBEMAP\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SKYMES'+'H\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+('\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envDir\x20=\x20n'+'ormalize(v'+'WorldPos\x20-'+'\x20projected'+'SkydomeCen'+'ter);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20env'+'Dir\x20*\x20cube'+'MapRotatio'+'nMatrix;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20vViewD'+'ir;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir.x'+'\x20*=\x20-1.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20linear\x20=\x20'+'{SKYBOX_DE'+'CODE_FNC}('+'textureCub'+'e(texture_'+'cubeMap,\x20d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20vVie'+'wDir\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20toSph'+'ericalUv(n'+'ormalize(d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20mipLev'+'el)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20our\x20HDR'+'\x20encodes\x20v'+'alues\x20up\x20t'+'o\x2064,\x20so\x20a'+'llow\x20extra'+'\x20brightnes'+'s\x20for\x20the\x20'+'clipped\x20va'+'lues\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(any(great'+'erThanEqua'+'l(linear,\x20'+'vec3(64.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20skyboxHi'+'ghlightMul'+'tiplier;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(toneM'+'ap(process'+'Environmen'+'t(linear))'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20}'+'\x0a'),T2='\x0aattribute'+'\x20vec4\x20aPos'+'ition;\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tionSkybox'+';\x0auniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x0av'+'arying\x20vec'+'3\x20vViewDir'+';\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20//\x20'+'when\x20skydo'+'me\x20renders'+'\x20depth\x20dur'+'ing\x20prepas'+'s,\x20generat'+'e\x20linear\x20d'+'epth\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20vLinear'+'Depth;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20SKYMESH\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec3\x20vW'+'orldPos;\x0a#'+'endif\x0a\x0avoi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'mat4\x20view\x20'+'=\x20matrix_v'+'iew;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'MESH\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec4\x20w'+'orldPos\x20=\x20'+'matrix_mod'+'el\x20*\x20aPosi'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vWorld'+'Pos\x20=\x20worl'+'dPos.xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20PREPASS'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20linear\x20de'+'pth\x20from\x20t'+'he\x20worldPo'+'sition,\x20se'+'e\x20getLinea'+'rDepth\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vWorl'+'dPos,\x201.0)'+').z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20(view\x20*\x20'+'aPosition)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vViewDir\x20='+'\x20aPosition'+'.xyz\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20//\x20for\x20in'+'finite\x20sky'+'box,\x20use\x20n'+'egative\x20gl'+'_Position.'+'w\x20to\x20get\x20p'+'ositive\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vLinear'+'Depth\x20=\x20-g'+'l_Position'+'.w;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20Fo'+'rce\x20skybox'+'\x20to\x20far\x20Z,'+'\x20regardles'+'s\x20of\x20the\x20c'+'lip\x20planes'+'\x20on\x20the\x20ca'+'mera\x0a\x20\x20\x20\x20/'+'/\x20Subtract'+'\x20a\x20tiny\x20fu'+'dge\x20factor'+'\x20to\x20ensure'+'\x20floating\x20'+'point\x20erro'+'rs\x20don\x27t\x0a\x20'+'\x20\x20\x20//\x20stil'+'l\x20push\x20pix'+'els\x20beyond'+'\x20far\x20Z.\x20Se'+'e:\x0a\x20\x20\x20\x20//\x20'+'https://co'+'mmunity.kh'+'ronos.org/'+'t/skybox-p'+'roblem/618'+'57\x0a\x0a\x20\x20\x20\x20gl'+'_Position.'+'z\x20=\x20gl_Pos'+'ition.w\x20-\x20'+'1.0e-7;\x0a}\x0a'),w2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0auniform\x20v'+'ec3\x20materi'+'al_specula'+'r;\x0a#endif\x0a'+'\x0avoid\x20getS'+'pecularity'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20specul'+'arColor\x20=\x20'+'vec3(1,1,1'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20specularC'+'olor\x20*=\x20ma'+'terial_spe'+'cular;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'AR_TEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_SPECULAR_'+'TEXTURE_NA'+'ME},\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20textureB'+'ias)).{STD'+'_SPECULAR_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SPECU'+'LAR_VERTEX'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_S'+'PECULAR_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20spe'+'cularColor'+';\x0a}\x0a',E2='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'2\x20toSpheri'+'calUv(vec3'+'\x20dir)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PI\x20=\x203'+'.141592653'+'589793;\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20toSpheri'+'cal(dir)\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+';\x0a}\x0a',b2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_specula'+'rityFactor'+';\x0a#endif\x0a\x0a'+'void\x20getSp'+'ecularityF'+'actor()\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'specularit'+'yFactor\x20=\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULARI'+'TYFACTOR_C'+'ONSTANT\x0a\x20\x20'+'\x20\x20specular'+'ityFactor\x20'+'*=\x20materia'+'l_specular'+'ityFactor;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20t'+'exture2DBi'+'as({STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE_NAME},'+'\x20{STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_VERT'+'EX\x0a\x20\x20\x20\x20spe'+'cularityFa'+'ctor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SPECU'+'LARITYFACT'+'OR_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dSp'+'ecularityF'+'actor\x20=\x20sp'+'ecularityF'+'actor;\x0a}\x0a',A2='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',C2='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2(vUv0.'+'x,\x201.0\x20-\x20v'+'Uv0.y);\x0a',P2='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',M2='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20float\x20dAl'+'pha\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_o'+'pacityMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20global'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dAlbe'+'do;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dSpeculari'+'ty\x20=\x20vec3('+'0.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dGlossines'+'s\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20dT'+'ransmissio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dThicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SC'+'ENE_COLOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'uSceneColo'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SCREEN_SI'+'ZE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20uS'+'creenSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_TRAN'+'SFORMS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20matrix_v'+'iewProject'+'ion;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_mod'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20parallax\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20dUv'+'Offset;\x0a\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_he'+'ightMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20diffu'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20tex'+'ture_diffu'+'seMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_diffuseDe'+'tailMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_normal'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'NORMALDETA'+'IL_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_no'+'rmalDetail'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20refracti'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_THICKNES'+'S_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_thi'+'cknessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_REFRA'+'CTION_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_refractio'+'nMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20iridesc'+'ence\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_IRIDES'+'CENCE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20dIride'+'scence;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dIri'+'descenceTh')+('ickness;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_irides'+'cenceThick'+'nessMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_iridesce'+'nceMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20ccNorm'+'alW;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dAnisotro'+'py;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20&\x20glossin'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_OR_REFLE'+'CTION\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20sheen\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20sGloss'+'iness;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SHEEN'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_sheenM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_sh'+'eenGlossMa')+('p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20metalness'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dMet'+'alness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dIor;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_met'+'alnessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20dSpecula'+'rityFactor'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_speculari'+'tyFactorMa'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20specular\x20'+'color\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_specula'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20gloss\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_gl'+'ossMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dAo'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_aoM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_aoDeta'+'ilMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dEmis'+'sion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_EMISS'+'IVE_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_e'+'missiveMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'learcoat\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'EARCOAT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatG'+'lossMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'NORMAL_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_clea'+'rCoatNorma'+'lMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'anisotropy'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde')+('f\x20STD_ANIS'+'OTROPY_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_anis'+'otropyMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dLightma'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_LIGH'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_lightMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20front\x20'+'end\x20output'+'s\x20to\x20lit\x20s'+'hader\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'litShaderC'+'orePS\x22\x0a'),D2='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20voi'+'d\x20getSpecu'+'larity()\x20{'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20vec'+'3(1);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20g'+'loss\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22glo'+'ssPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20ao\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'aoPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'emissivePS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO')+('AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22clear'+'CoatPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatG'+'lossPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatN'+'ormalPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20anis'+'otropy\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ani'+'sotropyPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(STD'+'_LIGHTMAP)'+'\x20||\x20define'+'d(STD_LIGH'+'T_VERTEX_C'+'OLOR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20void\x20eval'+'uateFronte'+'nd()\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIT'+'_BLEND_TYP'+'E\x20!=\x20NONE\x20'+'||\x20defined'+'(LIT_ALPHA'+'_TEST)\x20||\x20'+'defined(LI'+'T_ALPHA_TO'+'_COVERAGE)'+'\x20||\x20STD_OP'+'ACITY_DITH'+'ER\x20!=\x20NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getOpac'+'ity();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_ALPH'+'A_TEST)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alphaT'+'est(dAlpha'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(dAlp'+'ha,\x200.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'opacity\x20=\x20'+'dAlpha;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20pa'+'rallax\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'HEIGHT_MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Parallax()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Albedo();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20d'+'Albedo;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20normal'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getNorm'+'al();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'worldNorma'+'l\x20=\x20dNorma'+'lW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_REFRACT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getRefract'+'ion();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_transmiss'+'ion\x20=\x20dTra'+'nsmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tThickness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_th'+'ickness\x20=\x20'+'dThickness'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_d'+'ispersion\x20'+'=\x20material'+'_dispersio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20iridescen'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_IRID'+'ESCENCE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getIri'+'descence()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tIridescen'+'ceThicknes'+'s();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_i'+'ridescence'+'_intensity'+'\x20=\x20dIrides'+'cence;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_iridescen'+'ce_thickne'+'ss\x20=\x20dIrid'+'escenceThi'+'ckness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('//\x20specula'+'rity\x20&\x20glo'+'ssiness\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR_'+'OR_REFLECT'+'ION\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getShee'+'n();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_sheen_s'+'pecularity'+'\x20=\x20sSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'SheenGloss'+'iness();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_she'+'en_gloss\x20='+'\x20sGlossine'+'ss;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20met'+'alness\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getMet'+'alness();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_me'+'talness\x20=\x20'+'dMetalness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getIor()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior\x20=\x20dIor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20specu'+'larity\x20fac'+'tor\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rityFactor'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ityFactor\x20'+'=\x20dSpecula'+'rityFactor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20gloss'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rity();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20dSpe'+'cularity;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss\x20'+'=\x20dGlossin')+('ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getAO'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ao'+'\x20=\x20dAo;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getEmi'+'ssion();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_e'+'mission\x20=\x20'+'dEmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cle'+'arcoat\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getC'+'learCoat()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tClearCoat'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getClearCo'+'atNormal()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20=\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_g'+'loss\x20=\x20ccG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_clear'+'coat_world'+'Normal\x20=\x20c'+'cNormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20aniso'+'tropy\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x20&&\x20def'+'ined(LIT_L'+'IGHTING)\x20&'+'&\x20defined('+'LIT_GGX_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getAni'+'sotropy();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20ligh'+'tmap\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(S'+'TD_LIGHTMA'+'P)\x20||\x20defi'+'ned(STD_LI'+'GHT_VERTEX'+'_COLOR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htMap();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_lightma'+'p\x20=\x20dLight'+'map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_lightm'+'apDir\x20=\x20dL'+'ightmapDir'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a'),I2='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20tbnBasis'+';\x0a#endif\x0a\x0a'+'void\x20getTB'+'N(vec3\x20tan'+'gent,\x20vec3'+'\x20binormal,'+'\x20vec3\x20norm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TB'+'N_TANGENTS'+'\x20//\x20tangen'+'ts\x20/\x20binor'+'mals\x20based'+'\x20TBN\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(tang'+'ent),\x20norm'+'alize(bino'+'rmal),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(TBN_'+'DERIVATIVE'+'S)\x20//\x20deri'+'vatives\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20{li'+'ghtingUv};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20get\x20edg'+'e\x20vectors\x20'+'of\x20the\x20pix'+'el\x20triangl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dp1\x20='+'\x20dFdx(\x20vPo'+'sitionW\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dp2\x20=\x20'+'dFdy(\x20vPos'+'itionW\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20duv2\x20'+'=\x20dFdy(\x20uv'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20solv'+'e\x20the\x20line'+'ar\x20system\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20dp2perp'+'\x20=\x20cross(\x20'+'dp2,\x20norma'+'l\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dp'+'1perp\x20=\x20cr'+'oss(\x20norma'+'l,\x20dp1\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+'dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+('ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'nom\x20=\x20max('+'\x20dot(T,T),'+'\x20dot(B,B)\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20inv'+'max\x20=\x20(den'+'om\x20==\x200.0)'+'\x20?\x200.0\x20:\x20t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20object'+'\x20space\x20TBN'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20B\x20=\x20c'+'ross(norma'+'l,\x20vObject'+'SpaceUpW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20T\x20=\x20cr'+'oss(normal'+',\x20B);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(d'+'ot(B,B)==0'+'.0)\x20//\x20dea'+'l\x20with\x20cas'+'e\x20when\x20vOb'+'jectSpaceU'+'pW\x20normal\x20'+'are\x20parall'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20major=max'+'(max(norma'+'l.x,\x20norma'+'l.y),\x20norm'+'al.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(normal'+'.x\x20==\x20majo'+'r)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20B\x20=\x20cro'+'ss(normal,'+'\x20vec3(0,1,'+'0));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20T\x20=\x20cross'+'(normal,\x20B'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x20if\x20(no'+'rmal.y\x20==\x20'+'major)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B\x20='+'\x20cross(nor'+'mal,\x20vec3('+'0,0,1));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20if'+'\x20(normal.z'+'\x20==\x20major)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20B\x20=\x20cross'+'(normal,\x20v'+'ec3(1,0,0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(T),\x20'+'normalize('+'B),\x20normal'+'ize(normal'+'));\x0a\x0a\x20\x20\x20\x20#')+'endif\x0a}\x0a',L2='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_thickn'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tThickness'+'()\x20{\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_THICKNE'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dThi'+'ckness\x20*=\x20'+'material_t'+'hickness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_THI'+'CKNESS_TEX'+'TURE\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20texture'+'2DBias({ST'+'D_THICKNES'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_THICKNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_TH'+'ICKNESS_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',R2='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',O2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',F2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',N2='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',k2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',U2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',B2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',z2='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',V2='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sc'+'reenPos\x20=\x20'+'vec4(verte'+'x_texCoord'+'1.xy\x20*\x202.0'+'\x20-\x201.0,\x200.'+'5,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20WEBGPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20SCREENSP'+'ACE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.y\x20*='+'\x20projectio'+'nFlipY;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PIX'+'ELSNAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20snap\x20ver'+'tex\x20to\x20a\x20p'+'ixel\x20bound'+'ary\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x200.5'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.xy\x20*=\x20uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'ScreenSize'+'.zw;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x202.'+'0)\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}')+('\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),G2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifdef\x20MORP'+'HING\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20morph_te'+'x_params;\x0a'+'\x20\x20\x20\x20attrib'+'ute\x20uint\x20m'+'orph_verte'+'x_id;\x0a\x0a\x20\x20\x20'+'\x20ivec2\x20get'+'TextureMor'+'phCoords()'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20turn\x20'+'morph_vert'+'ex_id\x20into'+'\x20int\x20grid\x20'+'coordinate'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ivec2\x20text'+'ureSize\x20=\x20'+'ivec2(morp'+'h_tex_para'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20mor'+'phGridV\x20=\x20'+'int(morph_'+'vertex_id)'+'\x20/\x20texture'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'morphGridU'+'\x20=\x20int(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20flipY\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20morphGrid'+'V\x20=\x20textur'+'eSize.y\x20-\x20'+'morphGridV'+'\x20-\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ivec'+'2(morphGri'+'dU,\x20morphG'+'ridV);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec3\x20aabb'+'Size;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'usampler2D'+'\x20morphPosi'+'tionTex;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20highp\x20s'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a#ifdef\x20de'+'fined(BATC'+'H)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ski'+'nBatchVS\x22\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getBon'+'eMatrix(ve'+'rtex_boneI'+'ndices);\x0a\x20'+'\x20\x20\x20}\x0a\x0a#eli'+'f\x20defined('+'SKIN)\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20get'+'SkinMatrix'+'(vertex_bo'+'neIndices,'+'\x20vertex_bo'+'neWeights)'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'elif\x20defin'+'ed(INSTANC'+'ING)\x0a\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'transformI'+'nstancingV'+'S\x22\x0a\x0a#else\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20matrix'+'_model;\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tLocalPosi'+'tion(vec3\x20'+'vertexPosi'+'tion)\x20{\x0a\x0a\x20'+'\x20\x20\x20vec3\x20lo'+'calPos\x20=\x20v'+'ertexPosit'+'ion;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'morphUV\x20=\x20'+'getTexture'+'MorphCoord'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPHING_'+'INT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20vec3(tex'+'elFetch(mo'+'rphPositio'+'nTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x20aabbSize'+'\x20+\x20aabbMin'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphPo'+'s\x20=\x20texelF'+'etch(morph'+'PositionTe'+'x,\x20ivec2(m'+'orphUV),\x200'+').xyz;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20localPos\x20'+'+=\x20morphPo'+'s;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20loc'+'alPos;\x0a}\x0a\x0a'),H2='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',W2='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_refr'+'action;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getRefrac'+'tion()\x20{\x0a\x20'+'\x20\x20\x20float\x20r'+'efraction\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_RE'+'FRACTION_T'+'EXTURE\x0a\x20\x20\x20'+'\x20refractio'+'n\x20*=\x20textu'+'re2DBias({'+'STD_REFRAC'+'TION_TEXTU'+'RE_NAME},\x20'+'{STD_REFRA'+'CTION_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_REF'+'RACTION_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_VERTEX'+'\x0a\x20\x20\x20\x20refra'+'ction\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_REFR'+'ACTION_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dTransmis'+'sion\x20=\x20ref'+'raction;\x0a}'+'\x0a',$2='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',X2='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20vec2\x20ge'+'tUv0()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20ver'+'tex_positi'+'on.xz;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20o'+'ffset\x20inne'+'r\x20vertices'+'\x20inside\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20('+'original\x20v'+'ertices\x20mu'+'st\x20be\x20in\x20['+'-1;1]\x20rang'+'e)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20n'+'egativeUni'+'tOffset\x20=\x20'+'clamp(-ver'+'tex_positi'+'on.xz,\x20vec'+'2(0.0),\x20ve'+'c2(1.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20-0.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20atlasRe'+'ct.zw\x20+\x20at'+'lasRect.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uv;\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20vec2'+'\x20getUv0()\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a',q2='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',j2='\x0avUV{TRANS'+'FORM_UV_{i'+'}}_{TRANSF'+'ORM_ID_{i}'+'}\x20=\x20vec2(\x0a'+'\x20\x20\x20\x20dot(ve'+'c3(uv{TRAN'+'SFORM_UV_{'+'i}},\x201),\x20{'+'TRANSFORM_'+'NAME_{i}}0'+'),\x0a\x20\x20\x20\x20dot'+'(vec3(uv{T'+'RANSFORM_U'+'V_{i}},\x201)'+',\x20{TRANSFO'+'RM_NAME_{i'+'}}1)\x0a);\x0a',Y2='\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}0;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}1;'+'\x0a',K2='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',Z2={'alphaTestPS':YC,'ambientPS':KC,'anisotropyPS':ZC,'aoPS':QC,'aoDiffuseOccPS':JC,'aoSpecOccPS':e1,'bakeDirLmEndPS':t1,'bakeLmEndPS':s1,'basePS':i1,'baseNineSlicedPS':r1,'baseNineSlicedTiledPS':a1,'bayerPS':n1,'blurVSMPS':o1,'clearCoatPS':l1,'clearCoatGlossPS':c1,'clearCoatNormalPS':h1,'clusteredLightCookiesPS':f1,'clusteredLightShadowsPS':u1,'clusteredLightUtilsPS':d1,'clusteredLightPS':p1,'combinePS':m1,'cookieBlit2DPS':_1,'cookieBlitCubePS':g1,'cookieBlitVS':S1,'cookiePS':y1,'cubeMapProjectPS':v1,'cubeMapRotatePS':x1,'debugOutputPS':T1,'debugProcessFrontendPS':w1,'detailModesPS':b1,'diffusePS':A1,'decodePS':E1,'emissivePS':C1,'encodePS':P1,'endPS':M1,'envAtlasPS':D1,'envProcPS':I1,'falloffInvSquaredPS':L1,'falloffLinearPS':R1,'floatAsUintPS':O1,'fogPS':F1,'fresnelSchlickPS':N1,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':k1,'gammaPS':U1,'gles3PS':Vy,'gles3VS':Gy,'glossPS':B1,'gsplatCenterVS':z1,'gsplatCornerVS':K1,'gsplatColorVS':V1,'gsplatCommonVS':G1,'gsplatCompressedDataVS':H1,'gsplatCompressedSHVS':W1,'gsplatEvalSHVS':$1,'gsplatQuatToMat3VS':X1,'gsplatSogsColorVS':q1,'gsplatSogsDataVS':j1,'gsplatSogsSHVS':Y1,'gsplatDataVS':Z1,'gsplatOutputVS':Q1,'gsplatPS':J1,'gsplatSHVS':eP,'gsplatSourceVS':tP,'gsplatVS':sP,'quadVS':iP,'immediateLinePS':rP,'immediateLineVS':aP,'iridescenceDiffractionPS':nP,'iridescencePS':oP,'iridescenceThicknessPS':lP,'iorPS':cP,'lightDeclarationPS':hP,'lightDiffuseLambertPS':dP,'lightDirPointPS':fP,'lightEvaluationPS':uP,'lightFunctionLightPS':pP,'lightFunctionShadowPS':mP,'lightingPS':_P,'lightmapAddPS':gP,'lightmapPS':SP,'lightSpecularAnisoGGXPS':yP,'lightSpecularBlinnPS':vP,'lightSheenPS':xP,'linearizeDepthPS':TP,'litForwardBackendPS':wP,'litForwardDeclarationPS':EP,'litForwardMainPS':bP,'litForwardPostCodePS':AP,'litForwardPreCodePS':CP,'litMainPS':PP,'litMainVS':MP,'litOtherMainPS':DP,'litShaderArgsPS':IP,'litShaderCorePS':LP,'litShadowMainPS':RP,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':OP,'metalnessPS':FP,'metalnessModulatePS':kP,'morphPS':UP,'morphVS':BP,'msdfPS':NP,'msdfVS':zP,'normalVS':VP,'normalCoreVS':GP,'normalMapPS':HP,'opacityPS':WP,'opacityDitherPS':$P,'outputPS':XP,'outputAlphaPS':qP,'outputTex2DPS':jP,'sheenPS':YP,'sheenGlossPS':KP,'parallaxPS':ZP,'pickPS':QP,'reflDirPS':JP,'reflDirAnisoPS':e2,'reflectionCCPS':t2,'reflectionCubePS':s2,'reflectionEnvHQPS':i2,'reflectionEnvPS':r2,'reflectionSpherePS':a2,'reflectionSheenPS':n2,'refractionCubePS':o2,'refractionDynamicPS':l2,'reprojectPS':c2,'reprojectVS':h2,'screenDepthPS':d2,'shadowCascadesPS':f2,'shadowEVSMPS':u2,'shadowPCF1PS':p2,'shadowPCF3PS':m2,'shadowPCF5PS':_2,'shadowPCSSPS':g2,'shadowSoftPS':S2,'skinBatchVS':y2,'skinVS':v2,'skyboxPS':x2,'skyboxVS':T2,'specularPS':w2,'sphericalPS':E2,'specularityFactorPS':b2,'spotPS':A2,'startNineSlicedPS':C2,'startNineSlicedTiledPS':P2,'stdDeclarationPS':M2,'stdFrontEndPS':D2,'TBNPS':I2,'thicknessPS':L2,'tonemappingPS':R2,'tonemappingAcesPS':O2,'tonemappingAces2PS':F2,'tonemappingFilmicPS':N2,'tonemappingHejlPS':k2,'tonemappingLinearPS':U2,'tonemappingNeutralPS':B2,'tonemappingNonePS':z2,'transformVS':V2,'transformCoreVS':G2,'transformInstancingVS':H2,'transmissionPS':W2,'twoSidedLightingPS':$2,'uv0VS':X2,'uv1VS':q2,'uvTransformVS':j2,'uvTransformUniformsPS':Y2,'viewDirPS':K2,'webgpuPS':Hy,'webgpuVS':Wy},Q2='\x0auniform\x20a'+'lpha_ref:\x20'+'f32;\x0a\x0afn\x20a'+'lphaTest(a'+':\x20f32)\x20{\x0a\x20'+'\x20\x20\x20if\x20(a\x20<'+'\x20uniform.a'+'lpha_ref)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',J2='\x0a\x0a#if\x20LIT_'+'AMBIENT_SO'+'URCE\x20==\x20AM'+'BIENTSH\x0a\x20\x20'+'\x20\x20uniform\x20'+'ambientSH:'+'\x20array<vec'+'3f,\x209>;\x0a#e'+'ndif\x0a\x0a#if\x20'+'LIT_AMBIEN'+'T_SOURCE\x20='+'=\x20ENVALATL'+'AS\x0a\x20\x20\x20\x20#in'+'clude\x20\x22env'+'AtlasPS\x22\x0a\x0a'+'\x20\x20\x20\x20#ifnde'+'f\x20ENV_ATLA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_en'+'vAtlas:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_envAt'+'lasSampler'+':\x20sampler;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'fn\x20addAmbi'+'ent(worldN'+'ormal:\x20vec'+'3f)\x20{\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20A'+'MBIENTSH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20n:\x20vec3f'+'\x20=\x20cubeMap'+'Rotate(wor'+'ldNormal);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20color:\x20'+'vec3f\x20=\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[0]'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[1]\x20*\x20n.'+'x\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm.ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form.ambie'+'ntSH[3]\x20*\x20'+'n.z\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform.ambi'+'entSH[4]\x20*'+'\x20n.x\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[5]\x20*\x20n.'+'z\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform.'+'ambientSH['+'6]\x20*\x20n.y\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform.amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[8]'+'\x20*\x20(n.x\x20*\x20'+'n.x\x20-\x20n.y\x20'+'*\x20n.y);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20proces'+'sEnvironme'+'nt(max(col'+'or,\x20vec3f('+'0.0)));\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+('\x20ENVALATLA'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3f(-1.0,\x201'+'.0,\x201.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20mapUv'+'(toSpheric'+'alUv(dir),'+'\x20vec4f(128'+'.0,\x20256.0\x20'+'+\x20128.0,\x206'+'4.0,\x2032.0)'+'\x20/\x20atlasSi'+'ze);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20ra'+'w:\x20vec4f\x20='+'\x20textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20uv'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20linea'+'r:\x20vec3f\x20='+'\x20{ambientD'+'ecode}(raw'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(lin'+'ear);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20C'+'ONSTANT\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20unifor'+'m.light_gl'+'obalAmbien'+'t;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),eM='\x0a#ifdef\x20LI'+'T_GGX_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_anis'+'otropyInte'+'nsity:\x20f32'+';\x0a\x20\x20\x20\x20unif'+'orm\x20materi'+'al_anisotr'+'opyRotatio'+'n:\x20vec2f;\x0a'+'#endif\x0a\x0afn'+'\x20getAnisot'+'ropy()\x20{\x0a\x20'+'\x20\x20\x20dAnisot'+'ropy\x20=\x200.0'+';\x0a\x20\x20\x20\x20dAni'+'sotropyRot'+'ation\x20=\x20ve'+'c2f(1.0,\x200'+'.0);\x0a\x0a#ifd'+'ef\x20LIT_GGX'+'_SPECULAR\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20=\x20un'+'iform.mate'+'rial_aniso'+'tropyInten'+'sity;\x0a\x20\x20\x20\x20'+'dAnisotrop'+'yRotation\x20'+'=\x20uniform.'+'material_a'+'nisotropyR'+'otation;\x0a#'+'endif\x0a\x0a#if'+'def\x20STD_AN'+'ISOTROPY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyTex:\x20'+'vec3f\x20=\x20te'+'xtureSampl'+'eBias({STD'+'_ANISOTROP'+'Y_TEXTURE_'+'NAME},\x20{ST'+'D_ANISOTRO'+'PY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'ANISOTROPY'+'_TEXTURE_U'+'V},\x20unifor'+'m.textureB'+'ias).rgb;\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20*=\x20a'+'nisotropyT'+'ex.b;\x0a\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyRotat'+'ionFromTex'+':\x20vec2f\x20=\x20'+'anisotropy'+'Tex.rg\x20*\x202'+'.0\x20-\x20vec2f'+'(1.0);\x0a\x20\x20\x20'+'\x20let\x20rotat'+'ionMatrix:'+'\x20mat2x2f\x20='+'\x20mat2x2f(d'+'Anisotropy'+'Rotation.x'+',\x20dAnisotr'+'opyRotatio'+'n.y,\x20-dAni'+'sotropyRot'+'ation.y,\x20d'+'Anisotropy'+'Rotation.x'+');\x0a\x20\x20\x20\x20dAn'+'isotropyRo'+'tation\x20=\x20r'+'otationMat'+'rix\x20*\x20anis'+'otropyRota'+'tionFromTe'+'x;\x0a#endif\x0a'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20c'+'lamp(dAnis'+'otropy,\x200.'+'0,\x201.0);\x0a}'+'\x0a',tM='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_aoI'+'ntensity:\x20'+'f32;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_AODETA'+'IL_TEXTURE'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22detai'+'lModesPS\x22\x0a'+'#endif\x0a\x0afn'+'\x20getAO()\x20{'+'\x0a\x20\x20\x20\x20dAo\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20aoBas'+'e:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_AO_TEXTU'+'RE_NAME},\x20'+'{STD_AO_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AO_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_AO_'+'TEXTURE_CH'+'ANNEL};\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_AO'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20aoDetail:'+'\x20f32\x20=\x20tex'+'tureSample'+'Bias({STD_'+'AODETAIL_T'+'EXTURE_NAM'+'E},\x20{STD_A'+'ODETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AODET'+'AIL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_AODETAI'+'L_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20aoBase\x20='+'\x20detailMod'+'e_{STD_AOD'+'ETAIL_DETA'+'ILMODE}(ve'+'c3f(aoBase'+'),\x20vec3f(a'+'oDetail)).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dAo'+'\x20=\x20dAo\x20*\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20=\x20dA'+'o\x20*\x20satura'+'te(vVertex'+'Color.{STD'+'_AO_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'STD_AO_TEX'+'TURE)\x20||\x20d'+'efined(STD'+'_AO_VERTEX'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'uniform.ma'+'terial_aoI'+'ntensity);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',sM='\x0afn\x20occlud'+'eDiffuse(a'+'o:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20ao;\x0a'+'}\x0a',iM='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'aterial_oc'+'cludeSpecu'+'larIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0afn'+'\x20occludeSp'+'ecular(glo'+'ss:\x20f32,\x20a'+'o:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f)\x20{\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20==\x20A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_OCCLUDE_S'+'PECULAR_FL'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'specOcc:\x20f'+'32\x20=\x20mix(1'+'.0,\x20ao,\x20un'+'iform.mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specOcc:'+'\x20f32\x20=\x20ao;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'GLOSSDEPEN'+'DENT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'roximated\x20'+'specular\x20o'+'cclusion\x20f'+'rom\x20AO\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ht'+'tp://resea'+'rch.tri-ac'+'e.com/Data'+'/cedec2011'+'_RealtimeP'+'BR_Impleme'+'ntation_e.'+'pptx\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20spe'+'cPow:\x20f32\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20specOc'+'c:\x20f32\x20=\x20s'+'aturate(po'+'w(dot(worl'+'dNormal,\x20v'+'iewDir)\x20+\x20'+'ao,\x200.01\x20*'+'\x20specPow)\x20'+'-\x201.0\x20+\x20ao'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_OCCLUDE'+'_SPECULAR_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecOcc\x20=\x20mi'+'x(1.0,\x20spe'+'cOcc,\x20unif'+'orm.materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20*\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20dRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'*\x20specOcc;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sReflec'+'tion\x20=\x20sRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a'),rM='\x0a\x20\x20\x20\x20let\x20d'+'irLm\x20=\x20tex'+'tureSample'+'(texture_d'+'irLightMap'+',\x20texture_'+'dirLightMa'+'pSampler,\x20'+'vUv1);\x0a\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.bakeDi'+'r\x20>\x200.5)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(dAtten\x20'+'>\x200.00001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'npacked_di'+'r\x20=\x20dirLm.'+'xyz\x20*\x202.0\x20'+'-\x20vec3f(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x20clamp'+'(dAtten,\x200'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20comb'+'ined_dir\x20='+'\x20dLightDir'+'NormW.xyz\x20'+'*\x20dAtten\x20+'+'\x20unpacked_'+'dir\x20*\x20dirL'+'m.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20finalRgb\x20'+'=\x20normaliz'+'e(combined'+'_dir)\x20*\x200.'+'5\x20+\x20vec3f('+'0.5);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20finalA\x20='+'\x20max(dirLm'+'.w\x20+\x20dAtte'+'n,\x201.0\x20/\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalRgb,\x20'+'finalA);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20dirLm;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20alpha'+'_min\x20=\x20sel'+'ect(0.0,\x201'+'.0\x20/\x20255.0'+',\x20dAtten\x20>'+'\x200.00001);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20finalA\x20'+'=\x20max(dirL'+'m.w,\x20alpha'+'_min);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(dirL'+'m.rgb,\x20fin'+'alA);\x0a\x20\x20\x20\x20'+'}\x0a',aM='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'uniform.am'+'bientBakeO'+'cclusionCo'+'ntrast\x20+\x201'+'.0,\x200.0))\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20vec3f(u'+'niform.amb'+'ientBakeOc'+'clusionBri'+'ghtness);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'saturate3('+'dDiffuseLi'+'ght);\x0a\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20=\x20dDif'+'fuseLight\x20'+'*\x20dAmbient'+'Light;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIGHTMAP'+'_RGBM\x0a\x20\x20\x20\x20'+'//\x20encode\x20'+'to\x20RGBM\x0a\x20\x20'+'\x20\x20var\x20temp'+'_color_rgb'+'m\x20=\x20vec4f('+'dDiffuseLi'+'ght,\x201.0);'+'\x0a\x20\x20\x20\x20temp_'+'color_rgbm'+'\x20=\x20vec4f(p'+'ow(temp_co'+'lor_rgbm.r'+'gb,\x20vec3f('+'0.5)),\x20tem'+'p_color_rg'+'bm.a);\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+'color_rgbm'+'.rgb\x20/\x208.0'+',\x20temp_col'+'or_rgbm.a)'+';\x0a\x20\x20\x20\x20let\x20'+'max_g_b\x20=\x20'+'max(temp_c'+'olor_rgbm.'+'g,\x20max(tem'+'p_color_rg'+'bm.b,\x201.0\x20'+'/\x20255.0));'+'\x0a\x20\x20\x20\x20let\x20m'+'ax_rgb\x20=\x20m'+'ax(temp_co'+'lor_rgbm.r'+',\x20max_g_b)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20ceil'+'(temp_colo'+'r_rgbm.a\x20*'+'\x20255.0)\x20/\x20'+'255.0;\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+('color_rgbm'+'.rgb\x20/\x20tem'+'p_color_rg'+'bm.a,\x20temp'+'_color_rgb'+'m.a);\x0a\x20\x20\x20\x20'+'output.col'+'or\x20=\x20temp_'+'color_rgbm'+';\x0a#else\x0a\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20vec'+'4f(dDiffus'+'eLight,\x201.'+'0);\x0a#endif'+'\x0a'),nM='\x0auniform\x20v'+'iew_positi'+'on:\x20vec3f;'+'\x0a\x0auniform\x20'+'light_glob'+'alAmbient:'+'\x20vec3f;\x0a\x0af'+'n\x20square(x'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20x*x'+';\x0a}\x0a\x0afn\x20sa'+'turate(x:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0afn'+'\x20saturate3'+'(x:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3f(0.'+'0),\x20vec3f('+'1.0));\x0a}\x0a',oM='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'Mask:\x20vec2'+'f;\x0avarying'+'\x20vTiledUv:'+'\x20vec2f;\x0a\x0au'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0auni'+'form\x20outer'+'Scale:\x20vec'+'2f;\x0aunifor'+'m\x20atlasRec'+'t:\x20vec4f;\x0a'+'\x0avar<priva'+'te>\x20nineSl'+'icedUv:\x20ve'+'c2f;\x0a',lM='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vMask:\x20v'+'ec2f;\x0avary'+'ing\x20vTiled'+'Uv:\x20vec2f;'+'\x0a\x0auniform\x20'+'innerOffse'+'t:\x20vec4f;\x0a'+'uniform\x20ou'+'terScale:\x20'+'vec2f;\x0auni'+'form\x20atlas'+'Rect:\x20vec4'+'f;\x0a\x0avar<pr'+'ivate>\x20nin'+'eSlicedUv:'+'\x20vec2f;\x0a',cM='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afn\x20bay'+'er2(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(2.0\x20*'+'\x20p.y\x20+\x20p.x'+'\x20+\x201.0)\x20%\x20'+'4.0;\x0a}\x0a\x0a//'+'\x204x4\x20matri'+'x,\x20p\x20-\x20pix'+'el\x20coordin'+'ate\x0afn\x20bay'+'er4(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20p1:\x20vec2f'+'\x20=\x20p\x20%\x20vec'+'2f(2.0);\x0a\x20'+'\x20\x20\x20let\x20p2:'+'\x20vec2f\x20=\x20f'+'loor(0.5\x20*'+'\x20(p\x20%\x20vec2'+'f(4.0)));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afn\x20bayer8'+'(p:\x20vec2f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20p1'+':\x20vec2f\x20=\x20'+'p\x20%\x20vec2f('+'2.0);\x0a\x20\x20\x20\x20'+'let\x20p2:\x20ve'+'c2f\x20=\x20floo'+'r(0.5\x20*\x20(p'+'\x20%\x20vec2f(4'+'.0)));\x0a\x20\x20\x20'+'\x20let\x20p4:\x20v'+'ec2f\x20=\x20flo'+'or(0.25\x20*\x20'+'(p\x20%\x20vec2f'+'(8.0)));\x0a\x20'+'\x20\x20\x20return\x20'+'4.0\x20*\x20(4.0'+'\x20*\x20bayer2('+'p1)\x20+\x20baye'+'r2(p2))\x20+\x20'+'bayer2(p4)'+';\x0a}\x0a',hM='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20sou'+'rce:\x20textu'+'re_2d<f32>'+';\x0avar\x20sour'+'ceSampler:'+'\x20sampler;\x0a'+'\x0a#ifdef\x20GA'+'USS\x0a\x20\x20\x20\x20un'+'iform\x20weig'+'ht:\x20array<'+'f32,\x20{SAMP'+'LES}>;\x0a#en'+'dif\x0aunifor'+'m\x20pixelOff'+'set:\x20vec2f'+';\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20var'+'\x20moments:\x20'+'vec3f\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20let\x20uv'+':\x20vec2f\x20=\x20'+'input.vUv0'+'\x20-\x20uniform'+'.pixelOffs'+'et\x20*\x20(f32('+'{SAMPLES})'+'\x20*\x200.5);\x0a\x0a'+'\x20\x20\x20\x20for\x20(v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20{'+'SAMPLES};\x20'+'i\x20=\x20i\x20+\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20c:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'source,\x20so'+'urceSample'+'r,\x20uv\x20+\x20un'+'iform.pixe'+'lOffset\x20*\x20'+'f32(i));\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20moments'+'\x20=\x20moments'+'\x20+\x20c.xyz\x20*'+'\x20uniform.w'+'eight[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20=\x20moment'+'s\x20+\x20c.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'oments\x20=\x20m'+'oments\x20*\x20('+'1.0\x20/\x20f32('+'{SAMPLES})'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'moments,\x201'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a',dM='\x0auniform\x20m'+'aterial_cl'+'earCoat:\x20f'+'32;\x0a\x0afn\x20ge'+'tClearCoat'+'()\x20{\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20=\x20unifo'+'rm.materia'+'l_clearCoa'+'t;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_C'+'LEARCOAT_T'+'EXTURE\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20=\x20ccS'+'pecularity'+'\x20*\x20texture'+'SampleBias'+'({STD_CLEA'+'RCOAT_TEXT'+'URE_NAME},'+'\x20{STD_CLEA'+'RCOAT_TEXT'+'URE_NAME}S'+'ampler,\x20{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_CLE'+'ARCOAT_VER'+'TEX\x0a\x20\x20\x20\x20cc'+'Specularit'+'y\x20=\x20ccSpec'+'ularity\x20*\x20'+'saturate(v'+'VertexColo'+'r.{STD_CLE'+'ARCOAT_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a',fM='\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_clearCoa'+'tGloss:\x20f3'+'2;\x0a\x0afn\x20get'+'ClearCoatG'+'lossiness('+')\x20{\x0a\x20\x20\x20\x20cc'+'Glossiness'+'\x20=\x20uniform'+'.material_'+'clearCoatG'+'loss;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE_NAME}'+',\x20{STD_CLE'+'ARCOATGLOS'+'S_TEXTURE_'+'NAME}Sampl'+'er,\x20{STD_C'+'LEARCOATGL'+'OSS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_CLEA'+'RCOATGLOSS'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_INVERT\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20=\x201.0'+'\x20-\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20ccGloss'+'iness\x20+=\x200'+'.0000001;\x0a'+'}\x0a',uM='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_cle'+'arCoatBump'+'iness:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getClea'+'rCoatNorma'+'l()\x20{\x0a#ifd'+'ef\x20STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'\x0a\x20\x20\x20\x20var\x20n'+'ormalMap:\x20'+'vec3f\x20=\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_DEC'+'ODE}(textu'+'reSampleBi'+'as({STD_CL'+'EARCOATNOR'+'MAL_TEXTUR'+'E_NAME},\x20{'+'STD_CLEARC'+'OATNORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias));\x0a\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20mix(v'+'ec3f(0.0,\x20'+'0.0,\x201.0),'+'\x20normalMap'+',\x20uniform.'+'material_c'+'learCoatBu'+'mpiness);\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20norm'+'alize(dTBN'+'\x20*\x20normalM'+'ap);\x0a#else'+'\x0a\x20\x20\x20\x20ccNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a',pM='\x0astruct\x20Fa'+'ceCoords\x20{'+'\x0a\x20\x20\x20\x20uv:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Or'+'iginal\x20ret'+'urn\x20value\x0a'+'\x20\x20\x20\x20faceIn'+'dex:\x20f32,\x20'+'\x20\x20\x20//\x20Was\x20'+'out\x20parame'+'ter\x0a\x20\x20\x20\x20ti'+'leOffset:\x20'+'vec2f,\x20//\x20'+'Was\x20out\x20pa'+'rameter\x0a}\x0a'+'\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0afn\x20getC'+'ubemapFace'+'Coordinate'+'s(dir:\x20vec'+'3f)\x20->\x20Fac'+'eCoords\x20{\x0a'+'\x20\x20\x20\x20var\x20fa'+'ceIndex:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20tileOffs'+'et:\x20vec2f;'+'\x0a\x20\x20\x20\x20var\x20u'+'v:\x20vec2f;\x20'+'//\x20This\x20is'+'\x20the\x20face\x20'+'UV\x20[0..1]\x0a'+'\x20\x20\x20\x20let\x20vA'+'bs:\x20vec3f\x20'+'=\x20abs(dir)'+';\x0a\x20\x20\x20\x20var\x20'+'ma:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20if\x20(vA'+'bs.z\x20>=\x20vA'+'bs.x\x20&&\x20vA'+'bs.z\x20>=\x20vA'+'bs.y)\x20{\x20\x20\x20'+'//\x20front\x20/'+'\x20back\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20i'+'s_neg_z\x20=\x20'+'dir.z\x20<\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20faceIndex'+'\x20=\x20select('+'4.0,\x205.0,\x20'+'is_neg_z);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'a\x20=\x200.5\x20/\x20'+'vAbs.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv\x20='+'\x20vec2f(sel'+'ect(dir.x,'+'\x20-dir.x,\x20i'+'s_neg_z),\x20'+'-dir.y);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20til'+'eOffset\x20=\x20'+'vec2f(2.0,'+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_z));\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(vAbs'+'.y\x20>=\x20vAbs'+'.x)\x20{\x20\x20//\x20'+'top\x20index\x20'+'2,\x20bottom\x20'+'index\x203\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20is_neg_y\x20'+'=\x20dir.y\x20<\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20selec'+('t(2.0,\x203.0'+',\x20is_neg_y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2f(d'+'ir.x,\x20sele'+'ct(dir.z,\x20'+'-dir.z,\x20is'+'_neg_y));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ti'+'leOffset\x20='+'\x20vec2f(1.0'+',\x20select(0'+'.0,\x201.0,\x20i'+'s_neg_y));'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20is_'+'neg_x\x20=\x20di'+'r.x\x20<\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'aceIndex\x20='+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_x);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2f(selec'+'t(-dir.z,\x20'+'dir.z,\x20is_'+'neg_x),\x20-d'+'ir.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset\x20=\x20ve'+'c2f(0.0,\x20s'+'elect(0.0,'+'\x201.0,\x20is_n'+'eg_x));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv\x20*\x20m'+'a\x20+\x200.5;\x0a\x20'+'\x20\x20\x20return\x20'+'FaceCoords'+'(uv,\x20faceI'+'ndex,\x20tile'+'Offset);\x0a}'+'\x0a\x0a//\x20conve'+'rts\x20unnorm'+'alized\x20dir'+'ection\x20vec'+'tor\x20to\x20a\x20t'+'exture\x20coo'+'rdinate\x20fo'+'r\x20a\x20cubema'+'p\x20face\x20sto'+'red\x20within'+'\x20texture\x20a'+'tlas\x20descr'+'ibed\x20by\x20th'+'e\x20viewport'+'\x0afn\x20getCub'+'emapAtlasC'+'oordinates'+'(omniAtlas'+'Viewport:\x20'+'vec3f,\x20sha'+'dowEdgePix'+'els:\x20f32,\x20'+'shadowText'+'ureResolut'+'ion:\x20f32,\x20'+'dir:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20faceData'+':\x20FaceCoor'+'ds\x20=\x20getCu'+'bemapFaceC'+'oordinates'+'(dir);\x0a\x20\x20\x20'+'\x20var\x20uv:\x20v'+'ec2f\x20=\x20fac'+'eData.uv;\x0a'+'\x20\x20\x20\x20let\x20ti'+'leOffset:\x20'+'vec2f\x20=\x20fa'+'ceData.til'+'eOffset;\x0a\x0a'+'\x20\x20\x20\x20//\x20mov'+'e\x20uv\x20coord'+'inates\x20inw'+'ards\x20insid'+'e\x20to\x20compe'+'nsate\x20for\x20')+('larger\x20fov'+'\x20when\x20rend'+'ering\x20shad'+'ow\x20into\x20at'+'las\x0a\x20\x20\x20\x20le'+'t\x20atlasFac'+'eSize:\x20f32'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20le'+'t\x20tileSize'+':\x20f32\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20var\x20off'+'set:\x20f32\x20='+'\x20shadowEdg'+'ePixels\x20/\x20'+'tileSize;\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20*\x20(1.0\x20-'+'\x20offset\x20*\x20'+'2.0)\x20+\x20off'+'set;\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20='+'\x20uv\x20*\x20atla'+'sFaceSize;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x20into'+'\x20face\x20of\x20t'+'he\x20atlas\x20('+'3x3\x20grid)\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20+\x20tileOf'+'fset\x20*\x20atl'+'asFaceSize'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'offset\x20int'+'o\x20the\x20atla'+'s\x20viewport'+'\x0a\x20\x20\x20\x20uv\x20=\x20'+'uv\x20+\x20omniA'+'tlasViewpo'+'rt.xy;\x0a\x0a\x20\x20'+'\x20\x20return\x20u'+'v;\x0a}\x0a'),mM='\x0afn\x20_getCo'+'okieCluste'+'red(tex:\x20t'+'exture_2d<'+'f32>,\x20texS'+'ampler:\x20sa'+'mpler,\x20uv:'+'\x20vec2f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20pixel'+':\x20vec4f\x20=\x20'+'mix(vec4f('+'1.0),\x20text'+'ureSampleL'+'evel(tex,\x20'+'texSampler'+',\x20uv,\x200.0)'+',\x20intensit'+'y);\x0a\x20\x20\x20\x20le'+'t\x20isRgb:\x20b'+'ool\x20=\x20dot('+'cookieChan'+'nel.rgb,\x20v'+'ec3f(1.0))'+'\x20==\x203.0;\x0a\x20'+'\x20\x20\x20return\x20'+'select(vec'+'3f(dot(pix'+'el,\x20cookie'+'Channel)),'+'\x20pixel.rgb'+',\x20isRgb);\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0afn'+'\x20getCookie'+'2DClustere'+'d(tex:\x20tex'+'ture_2d<f3'+'2>,\x20texSam'+'pler:\x20samp'+'ler,\x20trans'+'form:\x20mat4'+'x4f,\x20world'+'Position:\x20'+'vec3f,\x20int'+'ensity:\x20f3'+'2,\x20cookieC'+'hannel:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20projPo'+'s:\x20vec4f\x20='+'\x20transform'+'\x20*\x20vec4f(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(tex,\x20texS'+'ampler,\x20pr'+'ojPos.xy\x20/'+'\x20projPos.w'+',\x20intensit'+'y,\x20cookieC'+'hannel);\x0a}'+'\x0a\x0a//\x20getCo'+'okie\x20for\x20c'+'lustered\x20o'+'mni\x20light\x20'+'with\x20the\x20c'+'ookie\x20text'+'ure\x20being\x20'+'stored\x20in\x20'+'the\x20cookie'+'\x20atlas\x0afn\x20'+'getCookieC'+'ubeCluster'+'ed(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20dir:'+'\x20vec3f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f,\x20shad'+'owTextureR'+'esolution:'+'\x20f32,\x20shad'+('owEdgePixe'+'ls:\x20f32,\x20o'+'mniAtlasVi'+'ewport:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20dir);'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getCook'+'ieClustere'+'d(tex,\x20tex'+'Sampler,\x20u'+'v,\x20intensi'+'ty,\x20cookie'+'Channel);\x0a'+'}\x0a'),_M='\x0a\x0afn\x20_getS'+'hadowCoord'+'PerspZbuff'+'er(shadowM'+'atrix:\x20mat'+'4x4f,\x20shad'+'owParams:\x20'+'vec4f,\x20wPo'+'s:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20p'+'rojPos\x20=\x20s'+'hadowMatri'+'x\x20*\x20vec4f('+'wPos,\x201.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20projPos'+'.xyz\x20/\x20pro'+'jPos.w;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0afn'+'\x20getShadow'+'CoordPersp'+'ZbufferNor'+'malOffset('+'shadowMatr'+'ix:\x20mat4x4'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20normal'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20wP'+'os:\x20vec3f\x20'+'=\x20vPositio'+'nW\x20+\x20norma'+'l\x20*\x20shadow'+'Params.y;\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wCoordPers'+'pZbuffer(s'+'hadowMatri'+'x,\x20shadowP'+'arams,\x20wPo'+'s);\x0a}\x0a\x0afn\x20'+'normalOffs'+'etPointSha'+'dow(shadow'+'Params:\x20ve'+'c4f,\x20light'+'Pos:\x20vec3f'+',\x20lightDir'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'normal:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20let\x20wPo'+'s:\x20vec3f\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y\x20*\x20'+'clamp(1.0\x20'+'-\x20dot(norm'+'al,\x20-light'+'DirNorm),\x20'+'0.0,\x201.0)\x20'+'*\x20distScal'+'e;\x20//0.02\x0a'+'\x20\x20\x20\x20let\x20di'+'r:\x20vec3f\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0a\x20\x20\x20\x20'+'fn\x20getShad'+'owOmniClus'+'teredPCF1('+'shadowMap:'+'\x20texture_d'+'epth_2d,\x20s'+'hadowMapSa'+'mpler:\x20sam'+'pler_compa'+'rison,\x20sha'+'dowParams:'+('\x20vec4f,\x20om'+'niAtlasVie'+'wport:\x20vec'+'3f,\x20shadow'+'EdgePixels'+':\x20f32,\x20lig'+'htDir:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shad'+'owTextureR'+'esolution:'+'\x20f32\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowZ:\x20f'+'32\x20=\x20lengt'+'h(lightDir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv,'+'\x20shadowZ);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'wOmniClust'+'eredPCF3(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owParams:\x20'+'vec4f,\x20omn'+'iAtlasView'+'port:\x20vec3'+'f,\x20shadowE'+'dgePixels:'+'\x20f32,\x20ligh'+'tDir:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wTextureRe'+'solution:\x20'+'f32\x20=\x20shad'+'owParams.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20light'+'Dir);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadowZ:\x20f3'+'2\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w\x20+\x20'+'shadowPara'+'ms.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowCoord:'+'\x20vec3f\x20=\x20v'+'ec3f(uv,\x20s'+'hadowZ);\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF3x3('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowOmn'+'iClustered'+'PCF5(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20omniAtl'+'asViewport'+':\x20vec3f,\x20s'+'hadowEdgeP'+'ixels:\x20f32'+',\x20lightDir'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadowTex'+'tureResolu'+'tion:\x20f32\x20'+'=\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'uv:\x20vec2f\x20'+'=\x20getCubem'+'apAtlasCoo'+'rdinates(o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20shad'+'owTextureR'+'esolution,'+'\x20lightDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20vec3f'+'(uv,\x20shado'+'wZ);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CF5x5(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'#endif\x0a\x0a//'+'\x20Clustered'+'\x20Spot\x20Samp'+'ling\x20using'+'\x20atlas\x0a\x0a#i'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF1)\x0a\x0a\x20\x20\x20'+'\x20fn\x20getSha'+'dowSpotClu'+'steredPCF1'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu')+('rn\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Coord.z);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0a\x20\x20'+'\x20\x20fn\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'3x3(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF5)\x0a\x0a\x20'+'\x20\x20\x20fn\x20getS'+'hadowSpotC'+'lusteredPC'+'F5(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),gM='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0avar\x20clu'+'sterWorldT'+'exture:\x20te'+'xture_2d<f'+'32>;\x0avar\x20l'+'ightsTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x0a#ifdef\x20C'+'LUSTER_SHA'+'DOWS\x0a\x20\x20\x20\x20/'+'/\x20TODO:\x20wh'+'en\x20VSM\x20sha'+'dow\x20is\x20sup'+'ported,\x20it'+'\x20needs\x20to\x20'+'use\x20sample'+'r2D\x20in\x20web'+'gl2\x0a\x20\x20\x20\x20va'+'r\x20shadowAt'+'lasTexture'+':\x20texture_'+'depth_2d;\x0a'+'\x20\x20\x20\x20var\x20sh'+'adowAtlasT'+'extureSamp'+'ler:\x20sampl'+'er_compari'+'son;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'var\x20cookie'+'AtlasTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20c'+'ookieAtlas'+'TextureSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0auniform'+'\x20clusterMa'+'xCells:\x20i3'+'2;\x0a\x0a//\x201.0'+'\x20if\x20cluste'+'red\x20lighti'+'ng\x20can\x20be\x20'+'skipped\x20(0'+'\x20lights\x20in'+'\x20the\x20clust'+'ers)\x0aunifo'+'rm\x20cluster'+'Skip:\x20f32;'+'\x0a\x0auniform\x20'+'clusterCel'+'lsCountByB'+'oundsSize:'+'\x20vec3f;\x0aun'+'iform\x20clus'+'terTexture'+'Size:\x20vec3'+'f;\x0auniform'+'\x20clusterBo'+'undsMin:\x20v'+'ec3f;\x0aunif'+'orm\x20cluste'+'rBoundsDel'+'ta:\x20vec3f;'+'\x0auniform\x20c'+'lusterCell'+'sDot:\x20vec3'+'f;\x0auniform'+'\x20clusterCe'+'llsMax:\x20ve'+('c3f;\x0aunifo'+'rm\x20shadowA'+'tlasParams'+':\x20vec2f;\x0a\x0a'+'//\x20structu'+'re\x20storing'+'\x20light\x20pro'+'perties\x20of'+'\x20a\x20cluster'+'ed\x20light\x0a/'+'/\x20it\x27s\x20sor'+'ted\x20to\x20hav'+'e\x20all\x20vect'+'ors\x20aligne'+'d\x20to\x204\x20flo'+'ats\x20to\x20lim'+'it\x20padding'+'\x0astruct\x20Cl'+'usterLight'+'Data\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x2032bit'+'\x20of\x20flags\x0a'+'\x20\x20\x20\x20flags:'+'\x20u32,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfWidth:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20isSpot:\x20'+'bool,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfHeight:'+'\x20vec3f,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20index\x0a\x20\x20'+'\x20\x20lightInd'+'ex:\x20i32,\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x0a\x20\x20'+'\x20\x20position'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20sh'+'ape:\x20u32,\x0a'+'\x0a\x20\x20\x20\x20//\x20wo'+'rld\x20space\x20'+'direction\x20'+'(spot\x20ligh'+'t\x20only)\x0a\x20\x20'+'\x20\x20directio'+'n:\x20vec3f,\x0a'+'\x0a\x20\x20\x20\x20//\x20li'+'ght\x20follow'+'\x20mode\x0a\x20\x20\x20\x20'+'falloffMod'+'eLinear:\x20b'+'ool,\x0a\x0a\x20\x20\x20\x20'+'//\x20color\x0a\x20'+'\x20\x20\x20color:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20//\x200.0\x20i'+'f\x20the\x20ligh'+'t\x20doesn\x27t\x20'+'cast\x20shado'+'ws\x0a\x20\x20\x20\x20sha'+'dowIntensi'+'ty:\x20f32,\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20omniAtl'+'asViewport'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'range:\x20f32'+',\x0a\x0a\x20\x20\x20\x20//\x20'+'channel\x20ma'+'sk\x20-\x20one\x20o'+'f\x20the\x20chan'+'nels\x20has\x201'+',\x20the\x20othe')+('rs\x20are\x200\x0a\x20'+'\x20\x20\x20cookieC'+'hannelMask'+':\x20vec4f,\x0a\x0a'+'\x20\x20\x20\x20//\x20com'+'pressed\x20bi'+'ases,\x20two\x20'+'haf-floats'+'\x20stored\x20in'+'\x20a\x20float\x0a\x20'+'\x20\x20\x20biasesD'+'ata:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20bias\x20'+'values\x0a\x20\x20\x20'+'\x20shadowBia'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20shadowNo'+'rmalBias:\x20'+'f32,\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20a'+'nglesData:'+'\x20f32,\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20inner'+'\x20and\x20outer'+'\x20angle\x20cos'+'ine\x0a\x20\x20\x20\x20in'+'nerConeAng'+'leCos:\x20f32'+',\x0a\x20\x20\x20\x20oute'+'rConeAngle'+'Cos:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'tensity\x20of'+'\x20the\x20cooki'+'e\x0a\x20\x20\x20\x20cook'+'ieIntensit'+'y:\x20f32,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20mask\x0a\x20\x20\x20'+'\x20//float\x20m'+'ask;\x0a\x20\x20\x20\x20i'+'sDynamic:\x20'+'bool,\x0a\x20\x20\x20\x20'+'isLightmap'+'ped:\x20bool\x0a'+'}\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0av'+'ar<private'+'>\x20lightPro'+'jectionMat'+'rix:\x20mat4x'+'4f;\x0a\x0afn\x20sa'+'mpleLightT'+'extureF(li'+'ghtIndex:\x20'+'i32,\x20index'+':\x20i32)\x20->\x20')+('vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureLoad'+'(lightsTex'+'ture,\x20vec2'+'<i32>(inde'+'x,\x20lightIn'+'dex),\x200);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightCore(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>,\x20'+'lightIndex'+':\x20f32)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20index\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'lightIndex'+'\x20=\x20i32(lig'+'htIndex);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20data\x20'+'encoding\x20h'+'alf-float\x20'+'values\x20int'+'o\x2032bit\x20ui'+'nts\x0a\x20\x20\x20\x20le'+'t\x20halfData'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_COLO'+'R_ANGLES_B'+'IAS});\x0a\x0a\x20\x20'+'\x20\x20//\x20store'+'\x20floats\x20we'+'\x20decode\x20la'+'ter\x20as\x20nee'+'ded\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.angle'+'sData\x20=\x20ha'+'lfData.z;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.biasesDat'+'a\x20=\x20halfDa'+'ta.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20decomp'+'ress\x20color'+'\x20half-floa'+'ts\x0a\x20\x20\x20\x20let'+'\x20colorRG:\x20'+'vec2f\x20=\x20un'+'pack2x16fl'+'oat(bitcas'+'t<u32>(hal'+'fData.x));'+'\x0a\x20\x20\x20\x20let\x20c'+'olorB_:\x20ve'+'c2f\x20=\x20unpa'+'ck2x16floa'+'t(bitcast<'+'u32>(halfD'+'ata.y));\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'color\x20=\x20ve'+'c3f(colorR'+'G,\x20colorB_'+'.x)\x20*\x20{LIG'+'HT_COLOR_D'+'IVIDER};\x0a\x0a'+'\x20\x20\x20\x20//\x20pos'+'ition\x20and\x20'+'range,\x20ful'+'l\x20floats\x0a\x20'+'\x20\x20\x20let\x20lig'+'htPosRange'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_POSI'+'TION_RANGE'+'});\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.posit')+('ion\x20=\x20ligh'+'tPosRange.'+'xyz;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.rang'+'e\x20=\x20lightP'+'osRange.w;'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'pot\x20direct'+'ion\x20&\x20flag'+'s\x20data\x0a\x20\x20\x20'+'\x20let\x20light'+'Dir_Flags:'+'\x20vec4f\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData.ligh'+'tIndex,\x20{C'+'LUSTER_TEX'+'TURE_DIREC'+'TION_FLAGS'+'});\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20directi'+'on\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.direct'+'ion\x20=\x20ligh'+'tDir_Flags'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x2032bit\x20'+'flags\x0a\x20\x20\x20\x20'+'let\x20flags_'+'uint:\x20u32\x20'+'=\x20bitcast<'+'u32>(light'+'Dir_Flags.'+'w);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20flags_u'+'int;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.isSp'+'ot\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2030u)'+')\x20!=\x200u;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'shape\x20=\x20(f'+'lags_uint\x20'+'>>\x2028u)\x20&\x20'+'0x3u;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.fal'+'loffModeLi'+'near\x20=\x20(fl'+'ags_uint\x20&'+'\x20(1u\x20<<\x2027'+'u))\x20==\x200u;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.shadowIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x200'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x208'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.isDynami'+'c\x20=\x20(flags'+'_uint\x20&\x20(1'+'u\x20<<\x2022u))'+'\x20!=\x200u;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sLightmapp'+'ed\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2021u)'+')\x20!=\x200u;\x0a}'+'\x0a\x0afn\x20decod'+'eClusterLi'+'ghtSpot(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{')+('\x0a\x20\x20\x20\x20//\x20sp'+'ot\x20light\x20c'+'os\x20angles\x0a'+'\x20\x20\x20\x20let\x20an'+'gles:\x20vec2'+'f\x20=\x20unpack'+'2x16float('+'bitcast<u3'+'2>(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'OmniAtlasV'+'iewport(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.omniAtla'+'sViewport\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData.l'+'ightIndex,'+'\x20{CLUSTER_'+'TEXTURE_PR'+'OJ_MAT_0})'+'.xyz;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'AreaData(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>)\x20'+'{\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.halfWid'+'th\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a.lightInd'+'ex,\x20{CLUST'+'ER_TEXTURE'+'_AREA_DATA'+'_WIDTH}).x'+'yz;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.halfH'+'eight\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data.light'+'Index,\x20{CL'+'USTER_TEXT'+'URE_AREA_D'+'ATA_HEIGHT'+'}).xyz;\x0a}\x0a'+'\x0afn\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(cluster'+'LightData:'+'\x20ptr<funct'+'ion,\x20Clust'+'erLightDat'+'a>)\x20{\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'matrix\x0a\x20\x20\x20'+'\x20let\x20m0:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_0});\x0a\x20\x20\x20'+'\x20let\x20m1:\x20v')+('ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_1});\x0a\x20\x20\x20'+'\x20let\x20m2:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_2});\x0a\x20\x20\x20'+'\x20let\x20m3:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4x'+'4f(m0,\x20m1,'+'\x20m2,\x20m3);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightShadow'+'Data(clust'+'erLightDat'+'a:\x20ptr<fun'+'ction,\x20Clu'+'sterLightD'+'ata>)\x20{\x0a\x20\x20'+'\x20\x20//\x20shado'+'w\x20biases\x0a\x20'+'\x20\x20\x20let\x20bia'+'ses:\x20vec2f'+'\x20=\x20unpack2'+'x16float(b'+'itcast<u32'+'>(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'fn\x20decodeC'+'lusterLigh'+'tCookieDat'+'a(clusterL'+'ightData:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20extract'+'\x20channel\x20m'+'ask\x20from\x20f'+'lags\x0a\x20\x20\x20\x20l'+'et\x20cookieF'+'lags:\x20u32\x20'+'=\x20(cluster'+'LightData.'+'flags\x20>>\x202'+'3u)\x20&\x200x0F'+'u;\x20\x20//\x204bi'+'ts,\x20each\x20b'+'it\x20enables'+'\x20a\x20channel'+'\x0a\x20\x20\x20\x20let\x20m'+'ask_uvec:\x20'+'vec4<u32>\x20'+'=\x20vec4<u32'+'>(cookieFl'+'ags)\x20&\x20vec'+'4<u32>(1u,'+'\x202u,\x204u,\x208'+'u);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eChannelMa'+'sk\x20=\x20step('+'vec4f(1.0)')+(',\x20vec4f(ma'+'sk_uvec));'+'\x20//\x20Normal'+'ize\x20to\x200.0'+'\x20or\x201.0\x0a}\x0a'+'\x0afn\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20light:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>,\x0a\x20\x20\x20\x20wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20reflectio'+'nDir:\x20vec3'+'f,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20clearc'+'oatReflect'+'ionDir:\x20ve'+'c3f,\x0a#endi'+'f\x0a\x20\x20\x20\x20glos'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20specular'+'ity:\x20vec3f'+',\x0a\x20\x20\x20\x20geom'+'etricNorma'+'l:\x20vec3f,\x0a'+'\x20\x20\x20\x20tbn:\x20m'+'at3x3f,\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a#e'+'ndif\x0a\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20clearco'+'at_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20s'+'heen_gloss'+':\x20f32,\x0a\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty:\x20f32\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ve'+'c3f(1.0);\x0a'+'\x20\x20\x20\x20var\x20di'+'ffuseAtten'+'uation:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20var\x20fal'+'loffAttenu'+'ation:\x20f32'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20omni\x20'+'part\x20of\x20th'+'e\x20light\x0a\x20\x20'+'\x20\x20let\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(l'+'ight.posit'+'ion);\x0a\x20\x20\x20\x20'+'let\x20lightD'+'irNormW:\x20v'+'ec3f\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20')+('handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffL'+'inear(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20='+'\x20getFallof'+'fInvSquare'+'d(light.ra'+'nge,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20if'+'\x20(falloffA'+'ttenuation'+'\x20>\x200.00001'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_AR'+'EALIGHTS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20!=\x20{LI'+'GHTSHAPE_P'+'UNCTUAL})\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20='+'=\x20{LIGHTSH'+'APE_RECT})'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getRectLig'+'htDiffuse('+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'W,\x20lightDi'+'rNormW)\x20*\x20'+'16.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20diffuseAt'+'tenuation\x20'+'=\x20getDiskL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x20/'+'/\x20sphere\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getS'+'phereLight'+'Diffuse(wo'+'rldNormal,'+'\x20viewDir,\x20'+'lightDirW,'+'\x20lightDirN'+'ormW)\x20*\x2016'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNormW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.is'+'Spot)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'decodeClus'+'terLightSp'+'ot(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getSp'+'otEffect(l'+'ight.direc'+'tion,\x20ligh'+'t.innerCon'+'eAngleCos,'+'\x20light.out'+'erConeAngl'+'eCos,\x20ligh'+'tDirNormW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_COOKIES)\x20'+'||\x20defined'+'(CLUSTER_S'+'HADOWS)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'hadow\x20/\x20co')+('okie\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'dowIntensi'+'ty\x20>\x200.0\x20|'+'|\x20light.co'+'okieIntens'+'ity\x20>\x200.0)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20shared\x20'+'shadow\x20/\x20c'+'ookie\x20data'+'\x20depends\x20o'+'n\x20light\x20ty'+'pe\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.i'+'sSpot)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ecodeClust'+'erLightPro'+'jectionMat'+'rixData(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightO'+'mniAtlasVi'+'ewport(lig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'TextureRes'+'olution:\x20f'+'32\x20=\x20unifo'+'rm.shadowA'+'tlasParams'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'EdgePixels'+':\x20f32\x20=\x20un'+'iform.shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'cookieInte'+'nsity\x20>\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(light)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'!!!!!!!!!!'+'!\x20TEXTURE_'+'PASS\x20likel'+'y\x20needs\x20sa'+'mpler.\x20Ass'+'uming\x20cook'+'ieAtlasTex'+'tureSample'+'r\x20exists.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(cooki'+'eAtlasText'+'ure,\x20cooki'+'eAtlasText'+'ureSampler'+',\x20lightPro'+'jectionMat'+'rix,\x20vPosi'+'tionW,\x20lig')+('ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20!!!!!!!!'+'!!!\x20TEXTUR'+'E_PASS\x20lik'+'ely\x20needs\x20'+'sampler.\x20A'+'ssuming\x20co'+'okieAtlasT'+'extureSamp'+'ler\x20exists'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cook'+'ieAttenuat'+'ion\x20=\x20getC'+'ookieCubeC'+'lustered(c'+'ookieAtlas'+'Texture,\x20c'+'ookieAtlas'+'TextureSam'+'pler,\x20ligh'+'tDirW,\x20lig'+'ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask,\x20shado'+'wTextureRe'+'solution,\x20'+'shadowEdge'+'Pixels,\x20li'+'ght.omniAt'+'lasViewpor'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20CLUSTER_'+'SHADOWS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(light'+'.shadowInt'+'ensity\x20>\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightShadow'+'Data(light'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowParams'+':\x20vec4f\x20=\x20'+'vec4f(shad'+'owTextureR'+'esolution,'+'\x20light.sha'+'dowNormalB'+'ias,\x20light'+'.shadowBia'+'s,\x201.0\x20/\x20l'+'ight.range'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20shadowCo'+'ord:\x20vec3f'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat')+('rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20!!!!!'+'!!!!!!\x20SHA'+'DOWMAP_PAS'+'S\x20needs\x20te'+'xture\x20and\x20'+'sampler_co'+'mparison.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20!!!'+'!!!!!!!!\x20S'+'hadow\x20func'+'tions\x20need'+'\x20update\x20fo'+'r\x20WGSL\x20tex'+'tureSample'+'Compare\x20et'+'c.\x20Assumin'+'g\x20these\x20ar'+'e\x20handled\x20'+'in\x20include'+'s.\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'SpotCluste'+'redPCF1(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadow:\x20f32'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF3('+'shadowAtla'+'sTexture,\x20'+'shadowAtla'+'sTextureSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadow:\x20f'+'32\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'5(shadowAt'+'lasTexture'+',\x20shadowAt'+'lasTexture'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCSS)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l')+('et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CSS(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20mix('+'1.0,\x20shado'+'w,\x20light.s'+'hadowInten'+'sity);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20omni\x20'+'shadow\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalOffset'+'PointShado'+'w(shadowPa'+'rams,\x20ligh'+'t.position'+',\x20lightDir'+'W,\x20lightDi'+'rNormW,\x20ge'+'ometricNor'+'mal);\x20\x20//\x20'+'normalBias'+'\x20adjusted\x20'+'for\x20distan'+'ce\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20!!!!!!!!!'+'!!\x20SHADOWM'+'AP_PASS\x20ne'+'eds\x20textur'+'e\x20and\x20samp'+'ler_compar'+'ison.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20!!!!!!!'+'!!!!\x20Shado'+'w\x20function'+'s\x20need\x20upd'+'ate\x20for\x20WG'+'SL\x20texture'+'SampleComp'+'are\x20etc.\x20A'+'ssuming\x20th'+'ese\x20are\x20ha'+'ndled\x20in\x20i'+'ncludes.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowOmni'+'ClusteredP'+'CF1(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowPar'+'ams,\x20light'+'.omniAtlas'+'Viewport,\x20'+'shadowEdge'+'Pixels,\x20di'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20getSha'+'dowOmniClu'+'steredPCF3'+'(shadowAtl'+'asTexture,'+'\x20shadowAtl'+'asTextureS'+'ampler,\x20sh'+'adowParams'+',\x20light.om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'OmniCluste'+'redPCF5(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20areaDif'+'fuse:\x20vec3'+'f\x20=\x20(diffu'+'seAttenuat'+'ion\x20*\x20fall'+'offAttenua'+'tion)\x20*\x20li')+('ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaDi'+'ffuse\x20=\x20mi'+'x(areaDiff'+'use,\x20vec3f'+'(0.0),\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20diff'+'use\x20-\x20it\x20d'+'oes\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20areaDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20areaL'+'ightSpecul'+'ar:\x20f32;\x20/'+'/\x20Use\x20var\x20'+'because\x20as'+'signed\x20in\x20'+'if/else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_RECT'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getRe'+'ctLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(ligh'+'t.shape\x20=='+'\x20{LIGHTSHA'+'PE_DISK})\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getDiskL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x20//\x20sphere'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'Specular\x20='+'\x20getSphere'+'LightSpecu')+('lar(worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20dLTC'+'SpecFres\x20*'+'\x20areaLight'+'Specular\x20*'+'\x20falloffAt'+'tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sp'+'ecular\x20cle'+'ar\x20coat\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20areaLigh'+'tSpecularC'+'C:\x20f32;\x20//'+'\x20Use\x20var\x20b'+'ecause\x20ass'+'igned\x20in\x20i'+'f/else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20==\x20{LI'+'GHTSHAPE_R'+'ECT})\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getRec'+'tLightSpec'+'ular(clear'+'coat_world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecularCC\x20='+'\x20getDiskLi'+'ghtSpecula'+'r(clearcoa'+'t_worldNor'+'mal,\x20viewD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20{\x20//\x20sph'+'ere\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getSphereL'+'ightSpecul'+'ar(clearco'+'at_worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'cSpecularL'+'ight\x20=\x20ccS'+'pecularLig'+'ht\x20+\x20ccLTC'+'SpecFres\x20*'+'\x20areaLight'+'SpecularCC'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20\x20*\x20c'+'ookieAtten')+('uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20punctual'+'\x20light\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20p'+'unctualDif'+'fuse:\x20vec3'+'f\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_AREAL'+'IGHTS)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'unctualDif'+'fuse\x20=\x20mix'+'(punctualD'+'iffuse,\x20ve'+'c3f(0.0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20dDiffus'+'eLight\x20+\x20p'+'unctualDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Dir:\x20vec3f'+'\x20=\x20normali'+'ze(-lightD'+'irNormW\x20+\x20'+'viewDir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR_FRESN'+'EL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20=\x20'+'dSpecularL'+'ight\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD')+('ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20halfD'+'ir),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'=\x20ccSpecul'+'arLight\x20+\x20'+'getLightSp'+'ecular(hal'+'fDir,\x20clea'+'rcoatRefle'+'ctionDir,\x20'+'clearcoat_'+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'NormW,\x20cle'+'arcoat_glo'+'ss,\x20tbn)\x20*'+'\x20falloffAt')+('tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion\x20*\x20getF'+'resnelCC(d'+'ot(viewDir'+',\x20halfDir)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20='+'\x20ccSpecula'+'rLight\x20+\x20g'+'etLightSpe'+'cular(half'+'Dir,\x20clear'+'coatReflec'+'tionDir,\x20c'+'learcoat_w'+'orldNormal'+',\x20viewDir,'+'\x20lightDirN'+'ormW,\x20clea'+'rcoat_glos'+'s,\x20tbn)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'+\x20getLight'+'SpecularSh'+'een(halfDi'+'r,\x20worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'sheen_glos'+'s)\x20*\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20'+'cookieAtte'+'nuation;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20Writ'+'e\x20to\x20globa'+'l\x20attenuat'+'ion\x20values'+'\x20(for\x20ligh'+'tmapper)\x0a\x20'+'\x20\x20\x20dAtten\x20'+'=\x20falloffA'+'ttenuation'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20lightDi'+'rNormW;\x0a}\x0a'+'\x0a\x0afn\x20evalu'+'ateCluster'+'Light(\x0a\x20\x20\x20'+'\x20lightInde'+'x:\x20f32,\x0a\x20\x20'+'\x20\x20worldNor'+'mal:\x20vec3f'+',\x0a\x20\x20\x20\x20view'+'Dir:\x20vec3f'+',\x0a\x20\x20\x20\x20refl'+'ectionDir:'+'\x20vec3f,\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20c'+'learcoatRe'+'flectionDi'+'r:\x20vec3f,\x0a'+'#endif\x0a\x20\x20\x20')+('\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20geometric'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20t'+'bn:\x20mat3x3'+'f,\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20clearc'+'oat_worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20cl'+'earcoat_gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20sheen_'+'gloss:\x20f32'+',\x0a\x20\x20\x20\x20irid'+'escence_in'+'tensity:\x20f'+'32\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr'+'om\x20texture'+'s\x0a\x20\x20\x20\x20var\x20'+'clusterLig'+'htData:\x20Cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(&cluste'+'rLightData'+',\x20lightInd'+'ex);\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20light\x20if'+'\x20it\x20uses\x20a'+'ccepted\x20li'+'ght\x20mask\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'acceptLigh'+'tMask:\x20boo'+'l\x20=\x20cluste'+'rLightData'+'.isDynamic'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20accept'+'LightMask:'+'\x20bool\x20=\x20cl'+'usterLight'+'Data.isLig'+'htmapped;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'acceptLigh'+'tMask)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20eva'+'luateLight'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20&clust'+'erLightDat'+'a,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'viewDir,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20reflectio'+'nDir,\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20geometri'+'cNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20tbn,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE')+('NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'sheen_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a\x0a\x0afn'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20world'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20v'+'iewDir:\x20ve'+'c3f,\x0a\x20\x20\x20\x20r'+'eflectionD'+'ir:\x20vec3f,'+'\x0a#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20clearcoa'+'tReflectio'+'nDir:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'specularit'+'y:\x20vec3f,\x0a'+'\x20\x20\x20\x20geomet'+'ricNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20tbn:\x20mat'+'3x3f,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a#end'+'if\x0a\x20\x20\x20\x20cle'+'arcoat_wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20clearcoat'+'_gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20she'+'en_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20i'+'ridescence'+'_intensity'+':\x20f32\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20sk'+'ip\x20lights\x20'+'if\x20no\x20ligh'+'ts\x20at\x20all\x0a'+'\x20\x20\x20\x20if\x20(un'+'iform.clus'+'terSkip\x20>\x20'+'0.5)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x20to'+'\x203d\x20intege'+'r\x20cell\x20cor'+'dinates\x20in'+'\x20the\x20clust'+'er\x20structu'+'re\x0a\x20\x20\x20\x20let'+'\x20cellCoord'+'s:\x20vec3f\x20='+'\x20floor((vP'+'ositionW\x20-'+'\x20uniform.c'+'lusterBoun'+'dsMin)\x20*\x20u'+'niform.clu'+'sterCellsC'+'ountByBoun'+'dsSize);\x0a\x0a'+'\x20\x20\x20\x20//\x20no\x20'+'lighting\x20w'+'hen\x20cell\x20c'+'oordinate\x20'+'is\x20out\x20of\x20'+'range\x0a\x20\x20\x20\x20'+'if\x20(!(any('+'cellCoords')+('\x20<\x20vec3f(0'+'.0))\x20||\x20an'+'y(cellCoor'+'ds\x20>=\x20unif'+'orm.cluste'+'rCellsMax)'+'))\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cel'+'l\x20index\x20(m'+'apping\x20fro'+'m\x203d\x20cell\x20'+'coordinate'+'s\x20to\x20linea'+'r\x20memory)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20cellInde'+'x:\x20f32\x20=\x20d'+'ot(uniform'+'.clusterCe'+'llsDot,\x20ce'+'llCoords);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20convert'+'\x20cell\x20inde'+'x\x20to\x20uv\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20clusterV'+':\x20f32\x20=\x20fl'+'oor(cellIn'+'dex\x20*\x20unif'+'orm.cluste'+'rTextureSi'+'ze.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20c'+'lusterU:\x20f'+'32\x20=\x20cellI'+'ndex\x20-\x20(cl'+'usterV\x20*\x20u'+'niform.clu'+'sterTextur'+'eSize.x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20loop\x20ove'+'r\x20maximum\x20'+'number\x20of\x20'+'light\x20cell'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(var\x20l'+'ightCellIn'+'dex:\x20i32\x20='+'\x200;\x20lightC'+'ellIndex\x20<'+'\x20uniform.c'+'lusterMaxC'+'ells;\x20ligh'+'tCellIndex'+'\x20=\x20lightCe'+'llIndex\x20+\x20'+'1)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20using\x20a\x20s'+'ingle\x20chan'+'nel\x20textur'+'e\x20with\x20dat'+'a\x20in\x20red\x20c'+'hannel\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20lightIn'+'dexPacked:'+'\x20f32\x20=\x20tex'+'tureLoad(c'+'lusterWorl'+'dTexture,\x20'+'vec2<i32>('+'i32(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20i32(clus'+'terV)),\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(lightInde'+'xPacked\x20<='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20break;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndexPack'+'ed\x20*\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20vie'+'wDir,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'eometricNo'+'rmal,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20clearc'+'oat_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a}'),SM='\x0afn\x20combin'+'eColor(alb'+'edo:\x20vec3f'+',\x20sheenSpe'+'cularity:\x20'+'vec3f,\x20cle'+'arcoatSpec'+'ularity:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20ret:\x20ve'+'c3f\x20=\x20vec3'+'f(0.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ret\x20=\x20'+'ret\x20+\x20((dD'+'iffuseLigh'+'t\x20-\x20unifor'+'m.light_gl'+'obalAmbien'+'t)\x20*\x20albed'+'o\x20+\x20unifor'+'m.material'+'_ambient\x20*'+'\x20uniform.l'+'ight_globa'+'lAmbient);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(albedo\x20*'+'\x20dDiffuseL'+'ight);\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_OLD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20dSpecular'+'Light;\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(dReflect'+'ion.rgb\x20*\x20'+'dReflectio'+'n.a);\x0a\x20\x20\x20\x20'+'#endif\x20//\x20'+'LIT_REFLEC'+'TIONS\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'sheenScali'+'ng:\x20f32\x20=\x20'+'1.0\x20-\x20max('+'max(sheenS'+'pecularity'+'.r,\x20sheenS'+'pecularity'+'.g),\x20sheen'+'Specularit'+'y.b)\x20*\x200.1'+'57;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20sheenS'+'caling\x20+\x20('+'sSpecularL'+'ight\x20+\x20sRe'+'flection.r'+'gb)\x20*\x20shee'+'nSpeculari'+'ty;\x0a\x20\x20\x20\x20#e'+'ndif\x20//\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20clear'+'CoatScalin'+'g:\x20f32\x20=\x201'+'.0\x20-\x20ccFre'+'snel\x20*\x20cle'+'arcoatSpec'+'ularity;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'\x20=\x20ret\x20*\x20c'+'learCoatSc'+'aling\x20+\x20(c'+'cSpecularL'+'ight\x20+\x20ccR'+'eflection)'+('\x20*\x20clearco'+'atSpecular'+'ity;\x0a\x20\x20\x20\x20#'+'endif\x20//\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20re'+'turn\x20ret;\x0a'+'}\x0a'),yM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x0a\x20\x20\x20\x20'+'var\x20blitTe'+'xture:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20blitText'+'ureSampler'+'\x20:\x20sampler'+';\x0a\x0a\x20\x20\x20\x20@fr'+'agment\x0a\x20\x20\x20'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20t'+'extureSamp'+'le(blitTex'+'ture,\x20blit'+'TextureSam'+'pler,\x20inpu'+'t.uv0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20}\x0a',vM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20u'+'niform\x20inv'+'ViewProj:\x20'+'mat4x4<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'re:\x20textur'+'e_cube<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'reSampler\x20'+':\x20sampler;'+'\x0a\x0a\x20\x20\x20\x20@fra'+'gment\x0a\x20\x20\x20\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20pro'+'jPos\x20=\x20vec'+'4f(input.u'+'v0\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20w'+'orldPos\x20=\x20'+'uniform.in'+'vViewProj\x20'+'*\x20projPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20textur'+'eSample(bl'+'itTexture,'+'\x20blitTextu'+'reSampler,'+'\x20worldPos.'+'xyz);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20}\x0a',xM='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.uv0.y'+'\x20=\x201.0\x20-\x20o'+'utput.uv0.'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',TM='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMin:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMax:\x20v'+'ec3f;\x0a#end'+'if\x0a\x0afn\x20cub'+'eMapProjec'+'t(nrdir:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20cubeMapR'+'otate(nrdi'+'r);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIT_CU'+'BEMAP_PROJ'+'ECTION\x20==\x20'+'BOX\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20nrd'+'ir_rotated'+':\x20vec3f\x20=\x20'+'cubeMapRot'+'ate(nrdir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20rbmax'+':\x20vec3f\x20=\x20'+'(uniform.e'+'nvBoxMax\x20-'+'\x20vPosition'+'W)\x20/\x20nrdir'+'_rotated;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20rbmin:\x20v'+'ec3f\x20=\x20(un'+'iform.envB'+'oxMin\x20-\x20vP'+'ositionW)\x20'+'/\x20nrdir_ro'+'tated;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'rbminmax:\x20'+'vec3f\x20=\x20se'+'lect(rbmin'+',\x20rbmax,\x20n'+'rdir_rotat'+'ed\x20>\x20vec3f'+'(0.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'fa:\x20f32\x20=\x20'+'min(min(rb'+'minmax.x,\x20'+'rbminmax.y'+'),\x20rbminma'+'x.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20p'+'osonbox:\x20v'+'ec3f\x20=\x20vPo'+'sitionW\x20+\x20'+'nrdir_rota'+'ted\x20*\x20fa;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20envBoxPo'+'s:\x20vec3f\x20='+'\x20(uniform.'+'envBoxMin\x20'+'+\x20uniform.'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20normali'+'ze(posonbo'+'x\x20-\x20envBox'+'Pos);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',wM='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20cubeMap'+'RotationMa'+'trix:\x20mat3'+'x3f;\x0a#endi'+'f\x0a\x0afn\x20cube'+'MapRotate('+'refDir:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a#ifd'+'ef\x20CUBEMAP'+'_ROTATION\x0a'+'\x20\x20\x20\x20return'+'\x20refDir\x20*\x20'+'uniform.cu'+'beMapRotat'+'ionMatrix;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir;\x0a#end'+'if\x0a}\x0a',EM='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0aoutp'+'ut.color\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0aoutput.co'+'lor\x20=\x20vec4'+'f(litArgs_'+'albedo\x20,\x201'+'.0);\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'DEBUG_WORL'+'D_NORMAL_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(litAr'+'gs_worldNo'+'rmal\x20*\x200.5'+'\x20+\x200.5,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_OPACI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_opacity'+')\x20,\x201.0);\x0a'+'#endif\x0a\x0a#i'+'fdef\x20DEBUG'+'_SPECULARI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(l'+'itArgs_spe'+'cularity,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_GLO'+'SS_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_gloss)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_M'+'ETALNESS_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(vec3f'+'(litArgs_m'+'etalness)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_A'+'O_PASS\x0aout'+'put.color\x20'+'=\x20vec4f(ve'+'c3f(litArg'+'s_ao)\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_EMISS'+'ION_PASS\x0ao'+'utput.colo'+'r\x20=\x20vec4f('+'gammaCorre'+'ctOutput(l'+'itArgs_emi'+'ssion),\x201.'+'0);\x0a#endif'+'\x0a',bM='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0a\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20v'+'ec3f(0.5);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0a#ifdef\x20VA'+'RYING_VUV0'+'\x0a\x20\x20\x20\x20litAr'+'gs_albedo\x20'+'=\x20vec3f(vU'+'v0,\x200.0);\x0a'+'#else\x0a\x20\x20\x20\x20'+'litArgs_al'+'bedo\x20=\x20vec'+'3f(0.0);\x0a#'+'endif\x0a#end'+'if\x0a',AM='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0afn\x20de'+'codeLinear'+'(raw:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20raw.r'+'gb;\x0a}\x0a\x0afn\x20'+'decodeGamm'+'aFloat(raw'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20pow'+'(raw,\x202.2)'+';\x0a}\x0a\x0afn\x20de'+'codeGamma3'+'(raw:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(r'+'aw,\x20vec3f('+'2.2));\x0a}\x0a\x0a'+'fn\x20decodeG'+'amma(raw:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow(raw.xyz'+',\x20vec3f(2.'+'2));\x0a}\x0a\x0afn'+'\x20decodeRGB'+'M(raw:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20color\x20='+'\x20(8.0\x20*\x20ra'+'w.a)\x20*\x20raw'+'.rgb;\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0afn\x20de'+'codeRGBP(r'+'aw:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20ra'+'w.rgb\x20*\x20(-'+'raw.a\x20*\x207.'+'0\x20+\x208.0);\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0af'+'n\x20decodeRG'+'BE(raw:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(vec3f('+'0.0),\x20raw.'+'xyz\x20*\x20pow('+'2.0,\x20raw.w'+'\x20*\x20255.0\x20-'+'\x20128.0),\x20r'+'aw.a\x20!=\x200.'+'0);\x0a}\x0a\x0afn\x20'+'passThroug'+'h(raw:\x20vec'+'4f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw;'+'\x0a}\x0a\x0afn\x20unp'+'ackNormalX'+'YZ(nmap:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20nm'+'ap.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'}\x0a\x0afn\x20unpa'+'ckNormalXY'+'(nmap:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20xy\x20=\x20nm'+'ap.wy\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'vec3f(xy,\x20'+'sqrt(1.0\x20-'+'\x20clamp(dot'+'(xy,\x20xy),\x20'+'0.0,\x201.0))'+');\x0a}\x0a\x0a#end'+'if\x0a',CM='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0afn\x20de'+'tailMode_m'+'ul(c1:\x20vec'+'3f,\x20c2:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20c1\x20'+'*\x20c2;\x0a}\x0a\x0af'+'n\x20detailMo'+'de_add(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20c1\x20+\x20c2;\x0a'+'}\x0a\x0a//\x20http'+'s://en.wik'+'ipedia.org'+'/wiki/Blen'+'d_modes#Sc'+'reen\x0afn\x20de'+'tailMode_s'+'creen(c1:\x20'+'vec3f,\x20c2:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'1.0\x20-\x20(1.0'+'\x20-\x20c1)*(1.'+'0\x20-\x20c2);\x0a}'+'\x0a\x0a//\x20https'+'://en.wiki'+'pedia.org/'+'wiki/Blend'+'_modes#Ove'+'rlay\x0afn\x20de'+'tailMode_o'+'verlay(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20mix(1.0\x20-'+'\x202.0\x20*\x20(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0\x20*\x20c1\x20*'+'\x20c2,\x20step('+'c1,\x20vec3f('+'0.5)));\x0a}\x0a'+'\x0afn\x20detail'+'Mode_min(c'+'1:\x20vec3f,\x20'+'c2:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20min(c1,'+'\x20c2);\x0a}\x0a\x0af'+'n\x20detailMo'+'de_max(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(c1,\x20c'+'2);\x0a}\x0a\x0a#en'+'dif\x0a',PM='\x0auniform\x20m'+'aterial_di'+'ffuse:\x20vec'+'3f;\x0a\x0a#ifde'+'f\x20STD_DIFF'+'USEDETAIL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22detailMo'+'desPS\x22\x0a#en'+'dif\x0a\x0afn\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20unif'+'orm.materi'+'al_diffuse'+'.rgb;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoText'+'ure:\x20vec3f'+'\x20=\x20{STD_DI'+'FFUSE_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_DIFFU'+'SE_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'_TEXTURE_N'+'AME}Sample'+'r,\x20{STD_DI'+'FFUSE_TEXT'+'URE_UV},\x20u'+'niform.tex'+'tureBias))'+'.{STD_DIFF'+'USE_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoDeta'+'il:\x20vec3f\x20'+'=\x20{STD_DIF'+'FUSEDETAIL'+'_TEXTURE_D'+'ECODE}(tex'+'tureSample'+'Bias({STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_NAME},\x20{'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_DIFFU'+'SEDETAIL_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20=\x20dAlbe'+'do\x20*\x20albed'+'oTexture;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_DIF'+'FUSE_VERTE'+'X\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAlbedo\x20=\x20'+'dAlbedo\x20*\x20'+'gammaCorre'+'ctInputVec'+'3(saturate'+'3(vVertexC'+'olor.{STD_'+('DIFFUSE_VE'+'RTEX_CHANN'+'EL}));\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),MM='\x0auniform\x20m'+'aterial_em'+'issive:\x20ve'+'c3f;\x0aunifo'+'rm\x20materia'+'l_emissive'+'Intensity:'+'\x20f32;\x0a\x0afn\x20'+'getEmissio'+'n()\x20{\x0a\x20\x20\x20\x20'+'dEmission\x20'+'=\x20uniform.'+'material_e'+'missive\x20*\x20'+'uniform.ma'+'terial_emi'+'ssiveInten'+'sity;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_EMISSIVE'+'_TEXTURE\x0a\x20'+'\x20\x20\x20dEmissi'+'on\x20*=\x20{STD'+'_EMISSIVE_'+'TEXTURE_DE'+'CODE}(text'+'ureSampleB'+'ias({STD_E'+'MISSIVE_TE'+'XTURE_NAME'+'},\x20{STD_EM'+'ISSIVE_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_EMISSI'+'VE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias)).{S'+'TD_EMISSIV'+'E_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_VERT'+'EX\x0a\x20\x20\x20\x20dEm'+'ission\x20=\x20d'+'Emission\x20*'+'\x20gammaCorr'+'ectInputVe'+'c3(saturat'+'e3(vVertex'+'Color.{STD'+'_EMISSIVE_'+'VERTEX_CHA'+'NNEL}));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',DM='\x0afn\x20encode'+'Linear(sou'+'rce:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'source,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeGamm'+'a(source:\x20'+'vec3f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4f(pow(s'+'ource\x20+\x20ve'+'c3f(0.0000'+'001),\x20vec3'+'f(1.0\x20/\x202.'+'2)),\x201.0);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBM(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+'r\x20color:\x20v'+'ec3f\x20=\x20pow'+'(source,\x20v'+'ec3f(0.5))'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x201.0\x20/'+'\x208.0;\x0a\x0a\x20\x20\x20'+'\x20var\x20a:\x20f3'+'2\x20=\x20satura'+'te(max(max'+'(color.r,\x20'+'color.g),\x20'+'max(color.'+'b,\x201.0\x20/\x202'+'55.0)));\x0a\x20'+'\x20\x20\x20a\x20=\x20cei'+'l(a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20col'+'or\x20/=\x20a;\x0a\x20'+'\x20\x20\x20return\x20'+'vec4f(colo'+'r,\x20a);\x0a}\x0a\x0a'+'fn\x20encodeR'+'GBP(source'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20//\x20con'+'vert\x20incom'+'ing\x20linear'+'\x20to\x20gamma('+'ish)\x0a\x20\x20\x20\x20v'+'ar\x20gamma:\x20'+'vec3f\x20=\x20po'+'w(source,\x20'+'vec3f(0.5)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20the\x20maxim'+'um\x20compone'+'nt\x20clamped'+'\x20to\x201..8\x0a\x20'+'\x20\x20\x20var\x20max'+'Val:\x20f32\x20='+'\x20min(8.0,\x20'+'max(1.0,\x20m'+'ax(gamma.x'+',\x20max(gamm'+'a.y,\x20gamma'+'.z))));\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20stor'+'age\x20factor'+'\x0a\x20\x20\x20\x20var\x20v'+':\x20f32\x20=\x201.'+'0\x20-\x20((maxV'+'al\x20-\x201.0)\x20'+'/\x207.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20roun'+'d\x20the\x20valu'+'e\x20for\x20stor'+'age\x20in\x208bi'+'t\x20channel\x0a'+'\x20\x20\x20\x20v\x20=\x20ce'+'il(v\x20*\x20255'+'.0)\x20/\x20255.'+'0;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(gamma\x20/\x20('+'-v\x20*\x207.0\x20+'+'\x208.0),\x20v);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBE(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+('r\x20maxVal:\x20'+'f32\x20=\x20max('+'source.x,\x20'+'max(source'+'.y,\x20source'+'.z));\x0a\x20\x20\x20\x20'+'if\x20(maxVal'+'\x20<\x201e-32)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+':\x20f32\x20=\x20ce'+'il(log2(ma'+'xVal));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(s'+'ource\x20/\x20po'+'w(2.0,\x20e),'+'\x20(e\x20+\x20128.'+'0)\x20/\x20255.0'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a'),IM='\x0a\x20\x20\x20\x20var\x20f'+'inalRgb:\x20v'+'ec3f\x20=\x20com'+'bineColor('+'litArgs_al'+'bedo,\x20litA'+'rgs_sheen_'+'specularit'+'y,\x20litArgs'+'_clearcoat'+'_speculari'+'ty);\x0a\x0a\x20\x20\x20\x20'+'finalRgb\x20='+'\x20finalRgb\x20'+'+\x20litArgs_'+'emission;\x0a'+'\x20\x20\x20\x20finalR'+'gb\x20=\x20addFo'+'g(finalRgb'+');\x0a\x20\x20\x20\x20fin'+'alRgb\x20=\x20to'+'neMap(fina'+'lRgb);\x0a\x20\x20\x20'+'\x20finalRgb\x20'+'=\x20gammaCor'+'rectOutput'+'(finalRgb)'+';\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(fin'+'alRgb,\x20out'+'put.color.'+'a);\x0a',LM='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20atla'+'sSize\x20:\x20f3'+'2\x20=\x20512.0;'+'\x0aconst\x20sea'+'mSize\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0afn\x20mapU'+'v(uv\x20:\x20vec'+'2f,\x20rect\x20:'+'\x20vec4f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec2f(mix('+'rect.x\x20+\x20s'+'eamSize,\x20r'+'ect.x\x20+\x20re'+'ct.z\x20-\x20sea'+'mSize,\x20uv.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20mix(rect.'+'y\x20+\x20seamSi'+'ze,\x20rect.y'+'\x20+\x20rect.w\x20'+'-\x20seamSize'+',\x20uv.y));\x0a'+'}\x0a\x0a//\x20map\x20'+'a\x20normaliz'+'ed\x20equirec'+'t\x20UV\x20and\x20r'+'oughness\x20l'+'evel\x20to\x20th'+'e\x20correct\x20'+'atlas\x20rect'+'.\x0afn\x20mapRo'+'ughnessUv('+'uv\x20:\x20vec2f'+',\x20level\x20:\x20'+'f32)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20t\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'exp2(level'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mapUv('+'uv,\x20vec4f('+'0.0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0afn\x20mapS'+'hinyUv(uv\x20'+':\x20vec2f,\x20l'+'evel\x20:\x20f32'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20t\x20:\x20f32\x20='+'\x201.0\x20/\x20exp'+'2(level);\x0a'+'\x20\x20\x20\x20return'+'\x20mapUv(uv,'+'\x20vec4f(1.0'+'\x20-\x20t,\x201.0\x20'+'-\x20t,\x20t,\x20t\x20'+'*\x200.5));\x0a}'+'\x0a\x0a#endif\x0a',RM='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20skyboxInt'+'ensity\x20:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20proce'+'ssEnvironm'+'ent(color\x20'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20unifo'+'rm.skyboxI'+'ntensity;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',OM='\x0afn\x20getFal'+'loffWindow'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20sqrDist'+':\x20f32\x20=\x20do'+'t(lightDir'+',\x20lightDir'+');\x0a\x20\x20\x20\x20let'+'\x20invRadius'+':\x20f32\x20=\x201.'+'0\x20/\x20lightR'+'adius;\x0a\x20\x20\x20'+'\x20return\x20sq'+'uare(satur'+'ate(1.0\x20-\x20'+'square(sqr'+'Dist\x20*\x20squ'+'are(invRad'+'ius))));\x0a}'+'\x0a\x0afn\x20getFa'+'lloffInvSq'+'uared(ligh'+'tRadius:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20sq'+'rDist:\x20f32'+'\x20=\x20dot(lig'+'htDir,\x20lig'+'htDir);\x0a\x20\x20'+'\x20\x20var\x20fall'+'off:\x20f32\x20='+'\x201.0\x20/\x20(sq'+'rDist\x20+\x201.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20invRadiu'+'s:\x20f32\x20=\x201'+'.0\x20/\x20light'+'Radius;\x0a\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x20square('+'saturate(1'+'.0\x20-\x20squar'+'e(sqrDist\x20'+'*\x20square(i'+'nvRadius))'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20fall'+'off;\x0a}\x0a',FM='\x0afn\x20getFal'+'loffLinear'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20length(l'+'ightDir);\x0a'+'\x20\x20\x20\x20return'+'\x20max(((lig'+'htRadius\x20-'+'\x20d)\x20/\x20ligh'+'tRadius),\x20'+'0.0);\x0a}\x0a',NM='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x20re'+'presentati'+'on\x20(0.0-1.'+'0\x20range)\x0af'+'n\x20float2ui'+'nt(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20intBit'+'s\x20=\x20bitcas'+'t<u32>(val'+'ue);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20f32((intB'+'its\x20>>\x2024u'+')\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((intBi'+'ts\x20>>\x2016u)'+'\x20&\x200xffu),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((intBit'+'s\x20>>\x208u)\x20&'+'\x200xffu),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20f32'+'(intBits\x20&'+'\x200xffu)\x0a\x20\x20'+'\x20\x20)\x20/\x20255.'+'0;\x0a}\x0a\x0a//\x20d'+'ecode\x20RGBA'+'8\x20value\x20to'+'\x20float\x0afn\x20'+'uint2float'+'(value:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20rgba_u32'+'\x20=\x20vec4<u3'+'2>(value\x20*'+'\x20255.0);\x0a\x20'+'\x20\x20\x20let\x20int'+'Bits:\x20u32\x20'+'=\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'r\x20<<\x2024u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'g\x20<<\x2016u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'b\x20<<\x208u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20rgba_u32.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20bitcas'+'t<f32>(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0af'+'n\x20float2ve'+'c4(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CAPS_TEX'+'TURE_FLOAT'+'_RENDERABL'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(value,'+'\x201.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20float2ui'+'nt(value);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#endi'+'f\x20//\x20FLOAT'+'_AS_UINT\x0a',kM='\x0a\x0avar<priv'+'ate>\x20dBlen'+'dModeFogFa'+'ctor\x20:\x20f32'+'\x20=\x201.0;\x0a\x0a#'+'if\x20(FOG\x20!='+'\x20NONE)\x0a\x20\x20\x20'+'\x20uniform\x20f'+'og_color\x20:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20fog_sta'+'rt\x20:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20fog_'+'end\x20:\x20f32;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20fog'+'_density\x20:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afn\x20ge'+'tFogFactor'+'()\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20depth\x20=\x20p'+'cPosition.'+'z\x20/\x20pcPosi'+'tion.w;\x0a\x0a\x20'+'\x20\x20\x20var\x20fog'+'Factor\x20:\x20f'+'32\x20=\x200.0;\x0a'+'\x0a\x20\x20\x20\x20#if\x20('+'FOG\x20==\x20LIN'+'EAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20(unif'+'orm.fog_en'+'d\x20-\x20depth)'+'\x20/\x20(unifor'+'m.fog_end\x20'+'-\x20uniform.'+'fog_start)'+';\x0a\x20\x20\x20\x20#eli'+'f\x20(FOG\x20==\x20'+'EXP)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20exp(-'+'depth\x20*\x20un'+'iform.fog_'+'density);\x0a'+'\x20\x20\x20\x20#elif\x20'+'(FOG\x20==\x20EX'+'P2)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fogFacto'+'r\x20=\x20exp(-d'+'epth\x20*\x20dep'+'th\x20*\x20unifo'+'rm.fog_den'+'sity\x20*\x20uni'+'form.fog_d'+'ensity);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(fo'+'gFactor,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0afn\x20addF'+'og(color\x20:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'uniform.fo'+'g_color\x20*\x20'+'dBlendMode'+'FogFactor,'+'\x20color,\x20ge'+'tFogFactor'+'());\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'color;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',UM='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0afn'+'\x20getFresne'+'l(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20cosTheta:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y:\x20f32\x0a\x20\x20\x20'+'\x20#endif\x0a)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20f'+'resnel:\x20f3'+'2\x20=\x20pow(1.'+'0\x20-\x20satura'+'te(cosThet'+'a),\x205.0);\x0a'+'\x20\x20\x20\x20let\x20gl'+'ossSq:\x20f32'+'\x20=\x20gloss\x20*'+'\x20gloss;\x0a\x20\x20'+'\x20\x20let\x20ret:'+'\x20vec3f\x20=\x20s'+'pecularity'+'\x20+\x20(max(ve'+'c3f(glossS'+'q),\x20specul'+'arity)\x20-\x20s'+'pecularity'+')\x20*\x20fresne'+'l;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20mix(ret,'+'\x20iridescen'+'ceFresnel,'+'\x20iridescen'+'ceIntensit'+'y);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20r'+'et;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0afn'+'\x20getFresne'+'lCC(cosThe'+'ta:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20fres'+'nel:\x20f32\x20='+'\x20pow(1.0\x20-'+'\x20saturate('+'cosTheta),'+'\x205.0);\x0a\x20\x20\x20'+'\x20return\x200.'+'04\x20+\x20(1.0\x20'+'-\x200.04)\x20*\x20'+'fresnel;\x0a}',BM='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x0avary'+'ing\x20vUv0:\x20'+'vec2f;\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4f(inpu'+'t.vertex_p'+'osition,\x200'+'.5,\x201.0);\x0a'+'\x20\x20\x20\x20output'+'.vUv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x20vec2f(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',zM='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInput(c'+'olor:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGammaFloa'+'t(color);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20fn\x20gammaC'+'orrectInpu'+'tVec3(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20deco'+'deGamma3(c'+'olor);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInputVe'+'c4(color:\x20'+'vec4f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(d'+'ecodeGamma'+'3(color.xy'+'z),\x20color.'+'w);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Output(col'+'or:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20pow'+'(color\x20+\x200'+'.0000001,\x20'+'vec3f(1.0\x20'+'/\x202.2));\x0a\x20'+'\x20\x20\x20}\x0a\x0a#els'+'e\x20//\x20NONE\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Input(colo'+'r:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20gammaCo'+'rrectInput'+'Vec3(color'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20gamm'+'aCorrectIn'+'putVec4(co'+'lor:\x20vec4f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20g'+'ammaCorrec'+'tOutput(co'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a',VM='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_gl'+'oss:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getGlossi'+'ness()\x20{\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_GL'+'OSS_CONSTA'+'NT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20unifo'+'rm.materia'+'l_gloss;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_GLOS'+'S_TEXTURE\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x20dG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_GLOSS'+'_TEXTURE_N'+'AME},\x20{STD'+'_GLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_GLOSS_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_GLOSS_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_I'+'NVERT\x0a\x20\x20\x20\x20'+'dGlossines'+'s\x20=\x201.0\x20-\x20'+'dGlossines'+'s;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20d'+'Glossiness'+'\x20=\x20dGlossi'+'ness\x20+\x200.0'+'000001;\x0a}\x0a',GM='\x0auniform\x20m'+'atrix_mode'+'l:\x20mat4x4f'+';\x0auniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0auniform\x20'+'matrix_pro'+'jection:\x20m'+'at4x4f;\x0a\x0a/'+'/\x20project\x20'+'the\x20model\x20'+'space\x20gaus'+'sian\x20cente'+'r\x20to\x20view\x20'+'and\x20clip\x20s'+'pace\x0afn\x20in'+'itCenter(m'+'odelCenter'+':\x20vec3f,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>)\x20->\x20bo'+'ol\x20{\x0a\x20\x20\x20\x20l'+'et\x20modelVi'+'ew:\x20mat4x4'+'f\x20=\x20unifor'+'m.matrix_v'+'iew\x20*\x20unif'+'orm.matrix'+'_model;\x0a\x20\x20'+'\x20\x20let\x20cent'+'erView:\x20ve'+'c4f\x20=\x20mode'+'lView\x20*\x20ve'+'c4f(modelC'+'enter,\x201.0'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20if\x20splat\x20'+'is\x20behind\x20'+'the\x20camera'+'\x0a\x20\x20\x20\x20if\x20(c'+'enterView.'+'z\x20>\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20ce'+'nterProj:\x20'+'vec4f\x20=\x20un'+'iform.matr'+'ix_project'+'ion\x20*\x20cent'+'erView;\x0a\x0a\x20'+'\x20\x20\x20//\x20ensu'+'re\x20gaussia'+'ns\x20are\x20not'+'\x20clipped\x20b'+'y\x20camera\x20n'+'ear\x20and\x20fa'+'r\x0a\x20\x20\x20\x20cent'+'erProj.z\x20='+'\x20clamp(cen'+'terProj.z,'+'\x200.0,\x20abs('+'centerProj'+'.w));\x0a\x0a\x20\x20\x20'+'\x20center.vi'+'ew\x20=\x20cente'+'rView.xyz\x20'+'/\x20centerVi'+'ew.w;\x0a\x20\x20\x20\x20'+'center.pro'+'j\x20=\x20center'+'Proj;\x0a\x20\x20\x20\x20'+'center.pro'+'jMat00\x20=\x20u'+'niform.mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',HM='\x0a\x0avar\x20spla'+'tColor:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20r'+'eadColor(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20tex'+'tureLoad(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a}\x0a',WM='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20order:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20id:\x20u3'+'2,\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'uv:\x20vec2<i'+'32>,\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20corn'+'erUV:\x20vec2'+'f,\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a}\x0a\x0a'+'//\x20stores\x20'+'the\x20camera'+'\x20and\x20clip\x20'+'space\x20posi'+'tion\x20of\x20th'+'e\x20gaussian'+'\x20center\x0ast'+'ruct\x20Splat'+'Center\x20{\x0a\x20'+'\x20\x20\x20view:\x20v'+'ec3f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20vi'+'ew\x20space\x0a\x20'+'\x20\x20\x20proj:\x20v'+'ec4f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20cl'+'ip\x20space\x0a\x20'+'\x20\x20\x20modelVi'+'ew:\x20mat4x4'+'f,\x20\x20\x20//\x20mo'+'del-view\x20m'+'atrix\x0a\x20\x20\x20\x20'+'projMat00:'+'\x20f32,\x20\x20\x20\x20\x20'+'\x20\x20//\x20eleme'+'mt\x20[0][0]\x20'+'of\x20the\x20pro'+'jection\x20ma'+'trix\x0a}\x0a\x0a//'+'\x20stores\x20th'+'e\x20offset\x20f'+'rom\x20center'+'\x20for\x20the\x20c'+'urrent\x20gau'+'ssian\x0astru'+'ct\x20SplatCo'+'rner\x20{\x0a\x20\x20\x20'+'\x20offset:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20corn'+'er\x20offset\x20'+'from\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'uv:\x20vec2f,'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20aaFactor:'+'\x20f32,\x20//\x20f'+'or\x20scenes\x20'+'generated\x20'+'with\x20antia'+'liasing\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0a#include'+'\x20\x22gsplatEv'+'alSHVS\x22\x0a#i'+'nclude\x20\x22gs'+'platQuatTo'+'Mat3VS\x22\x0a\x0a#'+'if\x20GSPLAT_'+'COMPRESSED'+'_DATA\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatComp'+'ressedData'+'VS\x22\x0a\x20\x20\x20\x20#i'+('f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsDataVS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tSogsColor'+'VS\x22\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsSHVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#else\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatData'+'VS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22gs'+'platColorV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0afn\x20'+'clipCorner'+'(corner:\x20p'+'tr<functio'+'n,\x20SplatCo'+'rner>,\x20alp'+'ha:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'lip:\x20f32\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20(255'+'.0\x20*\x20alpha'+')))\x20/\x202.0)'+';\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20corner.o'+'ffset\x20*\x20cl'+'ip;\x0a\x20\x20\x20\x20co'+'rner.uv\x20=\x20'+'corner.uv\x20'+'*\x20clip;\x0a}\x0a'+'\x0a'),$M='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0avar'+'\x20chunkText'+'ure:\x20textu'+'re_2d<f32>'+';\x0a\x0a//\x20work'+'\x20values\x0ava'+'r<private>'+'\x20chunkData'+'A:\x20vec4f;\x20'+'\x20\x20\x20//\x20x:\x20m'+'in_x,\x20y:\x20m'+'in_y,\x20z:\x20m'+'in_z,\x20w:\x20m'+'ax_x\x0avar<p'+'rivate>\x20ch'+'unkDataB:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20max_'+'y,\x20y:\x20max_'+'z,\x20z:\x20scal'+'e_min_x,\x20w'+':\x20scale_mi'+'n_y\x0avar<pr'+'ivate>\x20chu'+'nkDataC:\x20v'+'ec4f;\x20\x20\x20\x20/'+'/\x20x:\x20scale'+'_min_z,\x20y:'+'\x20scale_max'+'_x,\x20z:\x20sca'+'le_max_y,\x20'+'w:\x20scale_m'+'ax_z\x0avar<p'+'rivate>\x20ch'+'unkDataD:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20min_'+'r,\x20y:\x20min_'+'g,\x20z:\x20min_'+'b,\x20w:\x20max_'+'r\x0avar<priv'+'ate>\x20chunk'+'DataE:\x20vec'+'4f;\x20\x20\x20\x20//\x20'+'x:\x20max_g,\x20'+'y:\x20max_b,\x20'+'z:\x20unused,'+'\x20w:\x20unused'+'\x0avar<priva'+'te>\x20packed'+'Data:\x20vec4'+'u;\x20\x20\x20\x20//\x20x'+':\x20position'+'\x20bits,\x20y:\x20'+'rotation\x20b'+'its,\x20z:\x20sc'+'ale\x20bits,\x20'+'w:\x20color\x20b'+'its\x0a\x0afn\x20un'+'pack111011'+'(bits:\x20u32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(vec3f'+'((vec3<u32'+'>(bits)\x20>>'+'\x20vec3<u32>'+'(21u,\x2011u,'+'\x200u))\x20&\x20ve'+'c3<u32>(0x'+'7ffu,\x200x3f'+'fu,\x200x7ffu'+')))\x20/\x20vec3'+'f(2047.0,\x20'+'1023.0,\x2020'+'47.0);\x0a}\x0a\x0a'+'fn\x20unpack8'+'888(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20f32((bit'+'s\x20>>\x2024u)\x20'+'&\x200xffu),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((bits\x20>>'+'\x2016u)\x20&\x200x'+'ffu),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20f32((b'+'its\x20>>\x208u)'+'\x20\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(bits\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20&\x200'+'xffu)\x0a\x20\x20\x20\x20'+')\x20/\x20255.0;'+('\x0a}\x0a\x0aconst\x20'+'norm_const'+':\x20f32\x20=\x201.'+'0\x20/\x20(sqrt('+'2.0)\x20*\x200.5'+');\x0a\x0afn\x20unp'+'ackRotatio'+'n(bits:\x20u3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x20(f32'+'((bits\x20>>\x20'+'20u)\x20&\x200x3'+'ffu)\x20/\x20102'+'3.0\x20-\x200.5)'+'\x20*\x20norm_co'+'nst;\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20(f3'+'2((bits\x20>>'+'\x2010u)\x20&\x200x'+'3ffu)\x20/\x2010'+'23.0\x20-\x200.5'+')\x20*\x20norm_c'+'onst;\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20(f'+'32(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+'_const;\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'sqrt(1.0\x20-'+'\x20(a\x20*\x20a\x20+\x20'+'b\x20*\x20b\x20+\x20c\x20'+'*\x20c));\x0a\x0a\x20\x20'+'\x20\x20let\x20mode'+'\x20=\x20bits\x20>>'+'\x2030u;\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x200u)\x20{\x20re'+'turn\x20vec4f'+'(m,\x20a,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20m,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x202u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20b,\x20m,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(a,\x20b,\x20c'+',\x20m);\x0a}\x0a\x0a/'+'/\x20read\x20cen'+'ter\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex_siz'+'e_u\x20=\x20text'+'ureDimensi'+'ons(chunkT'+'exture,\x200)'+';\x0a\x20\x20\x20\x20let\x20'+'w:\x20u32\x20=\x20t'+'ex_size_u.'+'x\x20/\x205u;\x0a\x20\x20'+'\x20\x20let\x20chun'+'kId:\x20u32\x20='+'\x20source.id'+'\x20/\x20256u;\x0a\x20'+'\x20\x20\x20let\x20chu'+'nkUV:\x20vec2'+'<i32>\x20=\x20ve'+'c2<i32>(i3'+'2((chunkId'+'\x20%\x20w)\x20*\x205u'+'),\x20i32(chu'+'nkId\x20/\x20w))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'read\x20chunk'+'\x20and\x20packe'+'d\x20compress'+'ed\x20data\x0a\x20\x20'+'\x20\x20chunkDat'+'aA\x20=\x20textu'+'reLoad(chu'+'nkTexture,'+'\x20chunkUV\x20+'+'\x20vec2<i32>'+'(0,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataB\x20=\x20t'+'extureLoad')+('(chunkText'+'ure,\x20chunk'+'UV\x20+\x20vec2<'+'i32>(1,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataC'+'\x20=\x20texture'+'Load(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20v'+'ec2<i32>(2'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataD\x20=\x20tex'+'tureLoad(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20vec2<i3'+'2>(3,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataE\x20='+'\x20textureLo'+'ad(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20vec'+'2<i32>(4,\x20'+'0),\x200);\x0a\x20\x20'+'\x20\x20packedDa'+'ta\x20=\x20textu'+'reLoad(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(chunkDa'+'taA.xyz,\x20v'+'ec3f(chunk'+'DataA.w,\x20c'+'hunkDataB.'+'xy),\x20unpac'+'k111011(pa'+'ckedData.x'+'));\x0a}\x0a\x0afn\x20'+'readColor('+'source:\x20pt'+'r<function'+',\x20SplatSou'+'rce>)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20let\x20r\x20=\x20u'+'npack8888('+'packedData'+'.w);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(mix(chun'+'kDataD.xyz'+',\x20vec3f(ch'+'unkDataD.w'+',\x20chunkDat'+'aE.xy),\x20r.'+'rgb),\x20r.w)'+';\x0a}\x0a\x0afn\x20ge'+'tRotation('+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20unpack'+'Rotation(p'+'ackedData.'+'y);\x0a}\x0a\x0afn\x20'+'getScale()'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20exp(mix'+'(vec3f(chu'+'nkDataB.zw'+',\x20chunkDat'+'aC.x),\x20chu'+'nkDataC.yz'+'w,\x20unpack1'+'11011(pack'+'edData.z))'+');\x0a}\x0a\x0a//\x20g'+'iven\x20a\x20rot'+'ation\x20matr'+'ix\x20and\x20sca'+'le\x20vector,'+'\x20compute\x203'+'d\x20covarian'+'ce\x20A\x20and\x20B'+'\x0afn\x20readCo'+'variance(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>,\x20covA_'+'ptr:\x20ptr<f'+'unction,\x20v'+'ec3f>,\x20cov'+'B_ptr:\x20ptr'+'<function,')+('\x20vec3f>)\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'ot\x20=\x20quatT'+'oMat3(getR'+'otation())'+';\x0a\x20\x20\x20\x20let\x20'+'scale\x20=\x20ge'+'tScale();\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20let\x20M\x20=\x20'+'transpose('+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.x\x20*\x20rot'+'[0],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.y'+'\x20*\x20rot[1],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.z\x20*\x20r'+'ot[2]\x0a\x20\x20\x20\x20'+'));\x0a\x0a\x20\x20\x20\x20*'+'covA_ptr\x20='+'\x20vec3f(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20*covB_p'+'tr\x20=\x20vec3f'+'(dot(M[1],'+'\x20M[1]),\x20do'+'t(M[1],\x20M['+'2]),\x20dot(M'+'[2],\x20M[2])'+');\x0a}\x0a'),XM='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0av'+'ar\x20shTextu'+'re0:\x20textu'+'re_2d<u32>'+';\x0avar\x20shTe'+'xture1:\x20te'+'xture_2d<u'+'32>;\x0avar\x20s'+'hTexture2:'+'\x20texture_2'+'d<u32>;\x0a\x0af'+'n\x20unpack88'+'88s(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20unpack'+'ed_u\x20=\x20(ve'+'c4<u32>(bi'+'ts)\x20>>\x20vec'+'4<u32>(0u,'+'\x208u,\x2016u,\x20'+'24u))\x20&\x20ve'+'c4<u32>(0x'+'ffu);\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(unpacke'+'d_u)\x20*\x20(8.'+'0\x20/\x20255.0)'+'\x20-\x204.0;\x0a}\x0a'+'\x0afn\x20readSH'+'Data(sourc'+'e:\x20ptr<fun'+'ction,\x20Spl'+'atSource>,'+'\x20sh:\x20ptr<f'+'unction,\x20a'+'rray<vec3f'+',\x2015>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20read\x20t'+'he\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20let\x20shD'+'ata0:\x20vec4'+'<u32>\x20=\x20te'+'xtureLoad('+'shTexture0'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20let\x20shDat'+'a1:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(sh'+'Texture1,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20shData2'+':\x20vec4<u32'+'>\x20=\x20textur'+'eLoad(shTe'+'xture2,\x20so'+'urce.uv,\x200'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20r0\x20=\x20unp'+'ack8888s(s'+'hData0.x);'+'\x0a\x20\x20\x20\x20let\x20r'+'1\x20=\x20unpack'+'8888s(shDa'+'ta0.y);\x0a\x20\x20'+'\x20\x20let\x20r2\x20='+'\x20unpack888'+'8s(shData0'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20r3\x20=\x20un'+'pack8888s('+'shData0.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20g0\x20=\x20unpa'+'ck8888s(sh'+'Data1.x);\x0a'+'\x20\x20\x20\x20let\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20let\x20g2\x20=\x20'+'unpack8888'+'s(shData1.'+'z);\x0a\x20\x20\x20\x20le'+'t\x20g3\x20=\x20unp'+'ack8888s(s'+'hData1.w);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'b0\x20=\x20unpac'+'k8888s(shD'+'ata2.x);\x0a\x20'+'\x20\x20\x20let\x20b1\x20'+('=\x20unpack88'+'88s(shData'+'2.y);\x0a\x20\x20\x20\x20'+'let\x20b2\x20=\x20u'+'npack8888s'+'(shData2.z'+');\x0a\x20\x20\x20\x20let'+'\x20b3\x20=\x20unpa'+'ck8888s(sh'+'Data2.w);\x0a'+'\x0a\x20\x20\x20\x20sh[0]'+'\x20=\x20\x20vec3f('+'r0.x,\x20g0.x'+',\x20b0.x);\x0a\x20'+'\x20\x20\x20sh[1]\x20='+'\x20\x20vec3f(r0'+'.y,\x20g0.y,\x20'+'b0.y);\x0a\x20\x20\x20'+'\x20sh[2]\x20=\x20\x20'+'vec3f(r0.z'+',\x20g0.z,\x20b0'+'.z);\x0a\x20\x20\x20\x20s'+'h[3]\x20=\x20\x20ve'+'c3f(r0.w,\x20'+'g0.w,\x20b0.w'+');\x0a\x20\x20\x20\x20sh['+'4]\x20=\x20\x20vec3'+'f(r1.x,\x20g1'+'.x,\x20b1.x);'+'\x0a\x20\x20\x20\x20sh[5]'+'\x20=\x20\x20vec3f('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3f(r1'+'.z,\x20g1.z,\x20'+'b1.z);\x0a\x20\x20\x20'+'\x20sh[7]\x20=\x20\x20'+'vec3f(r1.w'+',\x20g1.w,\x20b1'+'.w);\x0a\x20\x20\x20\x20s'+'h[8]\x20=\x20\x20ve'+'c3f(r2.x,\x20'+'g2.x,\x20b2.x'+');\x0a\x20\x20\x20\x20sh['+'9]\x20=\x20\x20vec3'+'f(r2.y,\x20g2'+'.y,\x20b2.y);'+'\x0a\x20\x20\x20\x20sh[10'+']\x20=\x20vec3f('+'r2.z,\x20g2.z'+',\x20b2.z);\x0a\x20'+'\x20\x20\x20sh[11]\x20'+'=\x20vec3f(r2'+'.w,\x20g2.w,\x20'+'b2.w);\x0a\x20\x20\x20'+'\x20sh[12]\x20=\x20'+'vec3f(r3.x'+',\x20g3.x,\x20b3'+'.x);\x0a\x20\x20\x20\x20s'+'h[13]\x20=\x20ve'+'c3f(r3.y,\x20'+'g3.y,\x20b3.y'+');\x0a\x20\x20\x20\x20sh['+'14]\x20=\x20vec3'+'f(r3.z,\x20g3'+'.z,\x20b3.z);'+'\x0a\x0a\x20\x20\x20\x20*sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),qM='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'COEFFS:\x20i3'+'2\x20=\x203;\x0a\x20\x20\x20'+'\x20#elif\x20SH_'+'BANDS\x20==\x202'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20SH_CO'+'EFFS:\x20i32\x20'+'=\x208;\x0a\x20\x20\x20\x20#'+'elif\x20SH_BA'+'NDS\x20==\x203\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20con'+'st\x20SH_COEF'+'FS:\x20i32\x20=\x20'+'15;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20const\x20SH'+'_COEFFS:\x20i'+'32\x20=\x200;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20SH'+'_BANDS\x20>\x200'+'\x0a\x0a\x20\x20\x20\x20cons'+'t\x20SH_C1:\x20f'+'32\x20=\x200.488'+'6025119029'+'199;\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x201\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20const'+'\x20SH_C2_0:\x20'+'f32\x20=\x201.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_1:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_2:\x20f'+'32\x20=\x200.315'+'3915652525'+'2005;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_3:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_4:\x20f'+'32\x20=\x200.546'+'2742152960'+'396;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SH_BA'+'NDS\x20>\x202\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_0:'+'\x20f32\x20=\x20-0.'+'5900435899'+'266435;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_1:'+'\x20f32\x20=\x202.8'+'9061144264'+'0554;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_2:\x20f'+'32\x20=\x20-0.45'+'7045799464'+'4658;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_3:\x20f'+'32\x20=\x200.373'+'1763325901'+'154;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_4:\x20f3'+'2\x20=\x20-0.457'+'0457994644'+'658;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_5:\x20f3'+'2\x20=\x201.4453'+'0572132027'+'7;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'C3_6:\x20f32\x20'+'=\x20-0.59004'+'3589926643'+'5;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20see\x20http'+'s://github'+'.com/graph'+'deco-inria'+('/gaussian-'+'splatting/'+'blob/main/'+'utils/sh_u'+'tils.py\x0a\x20\x20'+'\x20\x20fn\x20evalS'+'H(sh:\x20ptr<'+'function,\x20'+'array<vec3'+'f,\x20SH_COEF'+'FS>>,\x20dir:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x\x20=\x20dir.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20y\x20=\x20di'+'r.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20z\x20='+'\x20dir.z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'1st\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20result\x20'+'=\x20SH_C1\x20*\x20'+'(-sh[0]\x20*\x20'+'y\x20+\x20sh[1]\x20'+'*\x20z\x20-\x20sh[2'+']\x20*\x20x);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x201\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x202'+'nd\x20degree\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xx\x20='+'\x20x\x20*\x20x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20yy\x20=\x20y'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20yz'+'\x20=\x20y\x20*\x20z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xz\x20='+'\x20x\x20*\x20z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'result\x20+\x20('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'3]\x20*\x20(SH_C'+'2_0\x20*\x20xy)\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[4]\x20*\x20(SH_'+'C2_1\x20*\x20yz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[5]\x20*\x20(SH'+'_C2_2\x20*\x20(2'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[6]\x20*\x20(SH_'+'C2_3\x20*\x20xz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[7]\x20*\x20(SH'+'_C2_4\x20*\x20(x'+'x\x20-\x20yy))\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'=\x20result\x20+'+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20re'+'sult;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20#end'+'if\x0a'),jM='\x0afn\x20quatTo'+'Mat3(R:\x20ve'+'c4<f32>)\x20-'+'>\x20mat3x3<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'let\x20R2:\x20ve'+'c4<f32>\x20=\x20'+'R\x20+\x20R;\x0a\x20\x20\x20'+'\x20let\x20X:\x20f3'+'2\x20\x20\x20\x20\x20\x20\x20=\x20'+'R2.x\x20*\x20R.w'+';\x0a\x20\x20\x20\x20let\x20'+'Y:\x20vec4<f3'+'2>\x20=\x20R2.y\x20'+'*\x20R;\x0a\x20\x20\x20\x20l'+'et\x20Z:\x20vec4'+'<f32>\x20=\x20R2'+'.z\x20*\x20R;\x0a\x20\x20'+'\x20\x20let\x20W:\x20f'+'32\x20\x20\x20\x20\x20\x20\x20='+'\x20R2.w\x20*\x20R.'+'w;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20mat3x'+'3<f32>(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Z.z\x20-\x20W,'+'\x20\x20Y.z\x20+\x20X,'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.z\x20-'+'\x20X,\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x20Y.y'+'\x20-\x20W,\x20Z.w\x20'+'+\x20Y.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.w\x20+'+'\x20Z.x,\x20\x20\x20\x20\x20'+'\x20Z.w\x20-\x20Y.x'+',\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',YM='\x0avar\x20sh0:\x20'+'texture_2d'+'<f32>;\x0a\x0aun'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0auniform'+'\x20sh0_maxs:'+'\x20vec4f;\x0a\x0ac'+'onst\x20SH_C0'+':\x20f32\x20=\x200.'+'2820947917'+'7387814;\x0a\x0a'+'fn\x20readCol'+'or(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20let\x20cl'+'r:\x20vec4f\x20='+'\x20mix(unifo'+'rm.sh0_min'+'s,\x20uniform'+'.sh0_maxs,'+'\x20textureLo'+'ad(sh0,\x20so'+'urce.uv,\x200'+'));\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(vec3f(0.5'+')\x20+\x20clr.xy'+'z\x20*\x20SH_C0,'+'\x201.0\x20/\x20(1.'+'0\x20+\x20exp(-c'+'lr.w)));\x0a}'+'\x0a',KM='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0a\x0aun'+'iform\x20mean'+'s_mins:\x20ve'+'c3f;\x0aunifo'+'rm\x20means_m'+'axs:\x20vec3f'+';\x0a\x0auniform'+'\x20scales_mi'+'ns:\x20vec3f;'+'\x0auniform\x20s'+'cales_maxs'+':\x20vec3f;\x0a\x0a'+'fn\x20unpackU'+'32(u:\x20u32)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20vec4f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((u\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((u\x20>>\x201'+'6u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((u\x20>>\x20'+'8u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(u\x20&\x200x'+'FFu)\x20/\x20255'+'.0\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avar<pri'+'vate>\x20pack'+'edSample:\x20'+'vec4<u32>;'+'\x0a\x0a//\x20read\x20'+'the\x20model-'+'space\x20cent'+'er\x20of\x20the\x20'+'gaussian\x0af'+'n\x20readCent'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec3f\x20{\x0a'+'\x0a\x20\x20\x20\x20packe'+'dSample\x20=\x20'+'textureLoa'+'d(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20l:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.x).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20u:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20n:\x20vec3f\x20'+'=\x20(l\x20*\x20255'+'.0\x20+\x20u\x20*\x202'+'55.0\x20*\x20256'+'.0)\x20/\x206553'+'5.0;\x0a\x20\x20\x20\x20l'+'et\x20v:\x20vec3'+'f\x20=\x20mix(un'+'iform.mean'+'s_mins,\x20un'+'iform.mean'+'s_maxs,\x20n)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20sign(v'+')\x20*\x20(exp(a'+'bs(v))\x20-\x201'+'.0);\x0a}\x0a\x0aco'+'nst\x20norm:\x20'+'f32\x20=\x202.0\x20'+'/\x20sqrt(2.0'+');\x0a\x0a//\x20sam'+'ple\x20covari'+'ance\x20vecto'+'rs\x0afn\x20read'+'Covariance'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>,\x20cov'+'A_ptr:\x20ptr'+'<function,'+'\x20vec3f>,\x20c'+('ovB_ptr:\x20p'+'tr<functio'+'n,\x20vec3f>)'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20qdata:\x20ve'+'c4f\x20=\x20unpa'+'ckU32(pack'+'edSample.z'+');\x0a\x20\x20\x20\x20let'+'\x20sdata:\x20ve'+'c3f\x20=\x20unpa'+'ckU32(pack'+'edSample.w'+').xyz;\x0a\x0a\x20\x20'+'\x20\x20let\x20abc:'+'\x20vec3f\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(abc,'+'\x20abc)));\x0a\x0a'+'\x20\x20\x20\x20let\x20mo'+'de:\x20u32\x20=\x20'+'u32(qdata.'+'w\x20*\x20255.0\x20'+'+\x200.5)\x20-\x202'+'52u;\x0a\x0a\x20\x20\x20\x20'+'var\x20quat:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20if\x20(mode\x20'+'==\x200u)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20qua'+'t\x20=\x20vec4f('+'d,\x20abc);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20quat'+'\x20=\x20vec4f(a'+'bc.x,\x20d,\x20a'+'bc.y,\x20abc.'+'z);\x0a\x20\x20\x20\x20}\x20'+'else\x20if\x20(m'+'ode\x20==\x202u)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20quat\x20=\x20ve'+'c4f(abc.x,'+'\x20abc.y,\x20d,'+'\x20abc.z);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'quat\x20=\x20vec'+'4f(abc.x,\x20'+'abc.y,\x20abc'+'.z,\x20d);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x0a\x20\x20\x20\x20'+'let\x20rot:\x20m'+'at3x3f\x20=\x20q'+'uatToMat3('+'quat);\x0a\x20\x20\x20'+'\x20let\x20scale'+':\x20vec3f\x20=\x20'+'exp(mix(un'+'iform.scal'+'es_mins,\x20u'+'niform.sca'+'les_maxs,\x20'+'sdata));\x0a\x0a'+'\x20\x20\x20\x20//\x20M\x20='+'\x20S\x20*\x20R\x0a\x20\x20\x20'+'\x20let\x20M:\x20ma'+'t3x3f\x20=\x20tr'+'anspose(ma'+'t3x3f(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20*co'+'vA_ptr\x20=\x20v'+'ec3f(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20*covB_ptr'+'\x20=\x20vec3f(d'+'ot(M[1],\x20M'+'[1]),\x20dot('+'M[1],\x20M[2]'+'),\x20dot(M[2'+'],\x20M[2]));')+'\x0a}\x0a',ZM='\x0avar\x20sh_ce'+'ntroids:\x20t'+'exture_2d<'+'f32>;\x0a\x0auni'+'form\x20shN_m'+'ins:\x20f32;\x0a'+'uniform\x20sh'+'N_maxs:\x20f3'+'2;\x0a\x0afn\x20rea'+'dSHData(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>,\x20sh:\x20pt'+'r<function'+',\x20array<ve'+'c3f,\x20SH_CO'+'EFFS>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'let\x20t:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'32(packedS'+'ample.x\x20&\x20'+'255u),\x20i32'+'(packedSam'+'ple.y\x20&\x2025'+'5u));\x0a\x20\x20\x20\x20'+'let\x20n:\x20i32'+'\x20=\x20t.x\x20+\x20t'+'.y\x20*\x20256;\x0a'+'\x20\x20\x20\x20let\x20u:'+'\x20i32\x20=\x20(n\x20'+'%\x2064)\x20*\x20SH'+'_COEFFS;\x0a\x20'+'\x20\x20\x20let\x20v:\x20'+'i32\x20=\x20n\x20/\x20'+'64;\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20offset\x20i'+'nto\x20the\x20ce'+'ntroids\x20te'+'xture\x20and\x20'+'read\x20conse'+'cutive\x20tex'+'els\x0a\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'i32\x20=\x200;\x20i'+'\x20<\x20SH_COEF'+'FS;\x20i\x20=\x20i\x20'+'+\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[i]'+'\x20=\x20mix(vec'+'3f(uniform'+'.shN_mins)'+',\x20vec3f(un'+'iform.shN_'+'maxs),\x20tex'+'tureLoad(s'+'h_centroid'+'s,\x20vec2<i3'+'2>(u\x20+\x20i,\x20'+'v),\x200).xyz'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20*scale'+'\x20=\x201.0;\x0a}\x0a',QM='\x0auniform\x20v'+'iewport:\x20v'+'ec2f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20view'+'port\x20dimen'+'sions\x0aunif'+'orm\x20camera'+'_params:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201\x20/\x20far,\x20'+'far,\x20near,'+'\x20isOrtho\x0a\x0a'+'//\x20calcula'+'te\x20the\x20cli'+'p-space\x20of'+'fset\x20from\x20'+'the\x20center'+'\x20for\x20this\x20'+'gaussian\x0af'+'n\x20initCorn'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>,\x20corne'+'r:\x20ptr<fun'+'ction,\x20Spl'+'atCorner>)'+'\x20->\x20bool\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20var'+'\x20covA:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20covB:\x20ve'+'c3f;\x0a\x20\x20\x20\x20r'+'eadCovaria'+'nce(source'+',\x20&covA,\x20&'+'covB);\x0a\x0a\x20\x20'+'\x20\x20let\x20Vrk\x20'+'=\x20mat3x3f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(covA.'+'x,\x20covA.y,'+'\x20covA.z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(covA.y'+',\x20covB.x,\x20'+'covB.y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(covA.z,'+'\x20covB.y,\x20c'+'ovB.z)\x0a\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20l'+'et\x20focal\x20='+'\x20uniform.v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20let\x20v'+'\x20=\x20select('+'center.vie'+'w.xyz,\x20vec'+'3f(0.0,\x200.'+'0,\x201.0),\x20u'+'niform.cam'+'era_params'+'.w\x20==\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'J1\x20=\x20focal'+'\x20/\x20v.z;\x0a\x20\x20'+'\x20\x20let\x20J2\x20='+'\x20-J1\x20/\x20v.z'+'\x20*\x20v.xy;\x0a\x20'+'\x20\x20\x20let\x20J\x20='+'\x20mat3x3f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(J1,\x200.'+'0,\x20J2.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x20J'+'1,\x20J2.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x200'+'.0,\x200.0)\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20W\x20=\x20t'+'ranspose(m'+'at3x3f(cen'+'ter.modelV'+'iew[0].xyz'+',\x20center.m'+'odelView[1'+'].xyz,\x20cen'+('ter.modelV'+'iew[2].xyz'+'));\x0a\x20\x20\x20\x20le'+'t\x20T\x20=\x20W\x20*\x20'+'J;\x0a\x20\x20\x20\x20let'+'\x20cov\x20=\x20tra'+'nspose(T)\x20'+'*\x20Vrk\x20*\x20T;'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'GSPLAT_AA\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20calculate'+'\x20AA\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20detOrig'+'\x20=\x20cov[0]['+'0]\x20*\x20cov[1'+'][1]\x20-\x20cov'+'[0][1]\x20*\x20c'+'ov[1][0];\x20'+'//\x20Using\x20['+'0][1]\x20*\x20[1'+'][0]\x20as\x20ma'+'trix\x20might'+'\x20not\x20be\x20pe'+'rfectly\x20sy'+'mmetric\x20nu'+'merically\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20detBlur\x20'+'=\x20(cov[0]['+'0]\x20+\x200.3)\x20'+'*\x20(cov[1]['+'1]\x20+\x200.3)\x20'+'-\x20cov[0][1'+']\x20*\x20cov[1]'+'[0];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20corner.'+'aaFactor\x20='+'\x20sqrt(detO'+'rig\x20/\x20detB'+'lur);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal1\x20=\x20co'+'v[0][0]\x20+\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20offDiag'+'onal\x20=\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal2\x20=\x20co'+'v[1][1]\x20+\x20'+'0.3;\x0a\x0a\x20\x20\x20\x20'+'let\x20mid\x20=\x20'+'0.5\x20*\x20(dia'+'gonal1\x20+\x20d'+'iagonal2);'+'\x0a\x20\x20\x20\x20let\x20r'+'adius\x20=\x20le'+'ngth(vec2f'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20let\x20lambd'+'a1\x20=\x20mid\x20+'+'\x20radius;\x0a\x20'+'\x20\x20\x20let\x20lam'+'bda2\x20=\x20max'+'(mid\x20-\x20rad'+'ius,\x200.1);'+'\x0a\x0a\x20\x20\x20\x20//\x20U'+'se\x20the\x20sma'+'ller\x20viewp'+'ort\x20dimens'+'ion\x20to\x20lim'+'it\x20the\x20ker'+'nel\x20size\x20r'+'elative\x20to'+'\x20the\x20scree'+'n\x20resoluti'+'on.\x0a\x20\x20\x20\x20le'+'t\x20vmin\x20=\x20m'+'in(1024.0,'+'\x20min(unifo'+'rm.viewpor'+'t.x,\x20unifo'+'rm.viewpor'+'t.y));\x0a\x0a\x20\x20'+'\x20\x20let\x20l1\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda1)'+',\x20vmin);\x0a\x20'+'\x20\x20\x20let\x20l2\x20'+'=\x202.0\x20*\x20mi'+'n(sqrt(2.0'+'\x20*\x20lambda2')+('),\x20vmin);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly-out\x20ga'+'ussians\x20sm'+'aller\x20than'+'\x202\x20pixels\x0a'+'\x20\x20\x20\x20if\x20(l1'+'\x20<\x202.0\x20&&\x20'+'l2\x20<\x202.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20fal'+'se;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'uniform.vi'+'ewport;\x0a\x0a\x20'+'\x20\x20\x20//\x20cull'+'\x20against\x20f'+'rustum\x20x/y'+'\x20axes\x0a\x20\x20\x20\x20'+'if\x20(any((a'+'bs(center.'+'proj.xy)\x20-'+'\x20vec2f(max'+'(l1,\x20l2))\x20'+'*\x20c)\x20>\x20cen'+'ter.proj.w'+'w))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20diagona'+'lVector\x20=\x20'+'normalize('+'vec2f(offD'+'iagonal,\x20l'+'ambda1\x20-\x20d'+'iagonal1))'+';\x0a\x20\x20\x20\x20let\x20'+'v1\x20=\x20l1\x20*\x20'+'diagonalVe'+'ctor;\x0a\x20\x20\x20\x20'+'let\x20v2\x20=\x20l'+'2\x20*\x20vec2f('+'diagonalVe'+'ctor.y,\x20-d'+'iagonalVec'+'tor.x);\x20//'+'\x20Swizzle\x0a\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20=\x20'+'(source.co'+'rnerUV.x\x20*'+'\x20v1\x20+\x20sour'+'ce.cornerU'+'V.y\x20*\x20v2)\x20'+'*\x20c;\x0a\x20\x20\x20\x20c'+'orner.uv\x20='+'\x20source.co'+'rnerUV;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),JM='\x0avar\x20trans'+'formA:\x20tex'+'ture_2d<u3'+'2>;\x0avar\x20tr'+'ansformB:\x20'+'texture_2d'+'<f32>;\x0a\x0a//'+'\x20work\x20valu'+'es\x0avar<pri'+'vate>\x20tAw:'+'\x20u32;\x0a\x0a//\x20'+'read\x20the\x20m'+'odel-space'+'\x20center\x20of'+'\x20the\x20gauss'+'ian\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20let\x20'+'tA:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20t'+'Aw\x20=\x20tA.w;'+'\x0a\x20\x20\x20\x20retur'+'n\x20bitcast<'+'vec3f>(tA.'+'xyz);\x0a}\x0a\x0af'+'n\x20unpackRo'+'tation(pac'+'ked:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'packed.xyz'+',\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(pack'+'ed,\x20packed'+'))));\x0a}\x0a\x0a/'+'/\x20sample\x20c'+'ovariance\x20'+'vectors\x0afn'+'\x20readCovar'+'iance(sour'+'ce:\x20ptr<fu'+'nction,\x20Sp'+'latSource>'+',\x20covA_ptr'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20covB_p'+'tr:\x20ptr<fu'+'nction,\x20ve'+'c3f>)\x20{\x0a\x20\x20'+'\x20\x20let\x20tB:\x20'+'vec4f\x20=\x20te'+'xtureLoad('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20let\x20rot:'+'\x20mat3x3f\x20='+'\x20quatToMat'+'3(unpackRo'+'tation(vec'+'3f(unpack2'+'x16float(b'+'itcast<u32'+'>(tAw)),\x20t'+'B.w)).wxyz'+');\x0a\x20\x20\x20\x20let'+'\x20scale:\x20ve'+'c3f\x20=\x20tB.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x20M\x20=\x20S\x20*\x20'+'R\x0a\x20\x20\x20\x20let\x20'+'M\x20=\x20transp'+'ose(mat3x3'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20*covA_p'+'tr\x20=\x20vec3f'+'(dot(M[0],'+'\x20M[0]),\x20do'+('t(M[0],\x20M['+'1]),\x20dot(M'+'[0],\x20M[2])'+');\x0a\x20\x20\x20\x20*co'+'vB_ptr\x20=\x20v'+'ec3f(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a'),eD='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0afn\x20'+'prepareOut'+'putFromGam'+'ma(gammaCo'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20TONEMAP\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20G'+'AMMA\x20==\x20NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nvert\x20to\x20l'+'inear\x20spac'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20decodeGam'+'ma3(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20gamma\x20'+'space\x20colo'+'r\x20directly'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'gammaColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ap'+'ply\x20tonema'+'pping\x20in\x20l'+'inear\x20spac'+'e\x20and\x20outp'+'ut\x20to\x20line'+'ar\x20or\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20gam'+'ma\x20(which\x20'+'is\x20handled'+'\x20by\x20gammaC'+'orrectOutp'+'ut)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaCorrec'+'tOutput(to'+'neMap(deco'+'deGamma3(g'+'ammaColor)'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',tD='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20PICK_PAS'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22pick'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_PASS)\x20||\x20'+'defined(PI'+'CK_PASS)\x20|'+'|\x20defined('+'PREPASS_PA'+'SS)\x0a\x20\x20\x20\x20un'+'iform\x20alph'+'aClip:\x20f32'+';\x0a#endif\x0a\x0a'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vLinearD'+'epth:\x20f32;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22float'+'AsUintPS\x22\x0a'+'#endif\x0a\x0a//'+'\x20Fast\x20appr'+'oximate\x20e^'+'x\x20based\x20on'+'\x20https://n'+'ic.schraud'+'olph.org/p'+'ubs/Schrau'+'dolph99.pd'+'f\x0aconst\x20EX'+'P_A:\x20f32\x20\x20'+'\x20\x20\x20\x20=\x201210'+'2203.0;\x20\x20\x20'+'//\x20\x202^23\x20'+'/\x20ln(2)\x0aco'+'nst\x20EXP_BC'+'_RMS:\x20i32\x20'+'=\x2010648668'+'08;\x20\x20\x20//\x20('+'127\x20<<\x2023)'+'\x20-\x2060801\x20*'+'\x208\x0afn\x20fast'+'Exp(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20var\x20i'+':\x20i32\x20=\x20i3'+'2(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20bi'+'tcast<f32>'+'(i);\x0a}\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x0a\x20\x20\x20'+'\x20let\x20A:\x20f3'+'2\x20=\x20dot(ga'+'ussianUV,\x20'+'gaussianUV'+');\x0a\x20\x20\x20\x20if\x20'+'(A\x20>\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20alpha'+'\x0a\x20\x20\x20\x20var\x20a'+'lpha:\x20f32\x20'+'=\x20fastExp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+('Color.a;\x0a\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(al'+'pha\x20<\x20unif'+'orm.alphaC'+'lip)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20PI'+'CK_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20getPickO'+'utput();\x0a\x0a'+'\x20\x20\x20\x20#elif\x20'+'SHADOW_PAS'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(0.0,\x200.0'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20PREPAS'+'S_PASS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20float2vec'+'4(vLinearD'+'epth);\x0a\x0a\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20('+'1.0\x20/\x20255.'+'0))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20opaci'+'tyDither(&'+'alpha,\x20id\x20'+'*\x200.013);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(input'+'.gaussianC'+'olor.xyz,\x20'+'alpha);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'),sD='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0afn\x20unpack'+'111011s(bi'+'ts:\x20u32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20(vec3f((v'+'ec3<u32>(b'+'its)\x20>>\x20ve'+'c3<u32>(21'+'u,\x2011u,\x200u'+'))\x20&\x20vec3<'+'u32>(0x7ff'+'u,\x200x3ffu,'+'\x200x7ffu))\x20'+'/\x20vec3f(20'+'47.0,\x201023'+'.0,\x202047.0'+'))\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0as'+'truct\x20Scal'+'eAndSH\x20{\x0a\x20'+'\x20\x20\x20scale:\x20'+'f32,\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f\x0a};\x0a\x0a'+'//\x20fetch\x20q'+'uantized\x20s'+'pherical\x20h'+'armonic\x20co'+'efficients'+'\x0afn\x20fetchS'+'cale(t_in:'+'\x20vec4<u32>'+')\x20->\x20Scale'+'AndSH\x20{\x0a\x20\x20'+'\x20\x20var\x20resu'+'lt:\x20ScaleA'+'ndSH;\x0a\x20\x20\x20\x20'+'result.sca'+'le\x20=\x20bitca'+'st<f32>(t_'+'in.x);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20unpack11'+'1011s(t_in'+'.y);\x0a\x20\x20\x20\x20r'+'esult.b\x20=\x20'+'unpack1110'+'11s(t_in.z'+');\x0a\x20\x20\x20\x20res'+'ult.c\x20=\x20un'+'pack111011'+'s(t_in.w);'+'\x0a\x20\x20\x20\x20retur'+'n\x20result;\x0a'+'}\x0a\x0astruct\x20'+'SH\x20{\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20d:\x20vec3f\x0a'+'};\x0a\x0a//\x20fet'+'ch\x20quantiz'+'ed\x20spheric'+'al\x20harmoni'+'c\x20coeffici'+'ents\x0afn\x20fe'+'tch4(t_in:'+'\x20vec4<u32>'+')\x20->\x20SH\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'sult:\x20SH;\x0a'+'\x20\x20\x20\x20result'+'.a\x20=\x20unpac'+'k111011s(t'+'_in.x);\x0a\x20\x20'+'\x20\x20result.b'+'\x20=\x20unpack1'+'11011s(t_i'+'n.y);\x0a\x20\x20\x20\x20'+'result.c\x20='+'\x20unpack111'+'011s(t_in.'+'z);\x0a\x20\x20\x20\x20re'+'sult.d\x20=\x20u'+'npack11101'+'1s(t_in.w)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20result;'+'\x0a}\x0a\x0afn\x20fet'+'ch1(t_in:\x20'+'u32)\x20->\x20ve'+('c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20unp'+'ack111011s'+'(t_in);\x0a}\x0a'+'\x0a#if\x20SH_BA'+'NDS\x20==\x201\x0a\x20'+'\x20\x20\x20var\x20spl'+'atSH_1to3:'+'\x20texture_2'+'d<u32>;\x0a\x0a\x20'+'\x20\x20\x20fn\x20read'+'SHData(sou'+'rce:\x20ptr<f'+'unction,\x20S'+'platSource'+'>,\x20sh:\x20ptr'+'<function,'+'\x20array<vec'+'3f,\x203>>,\x20s'+'cale:\x20ptr<'+'function,\x20'+'f32>)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'result\x20=\x20f'+'etchScale('+'textureLoa'+'d(splatSH_'+'1to3,\x20sour'+'ce.uv,\x200))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'*scale\x20=\x20r'+'esult.scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[0]\x20=\x20r'+'esult.a;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'1]\x20=\x20resul'+'t.b;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[2]\x20='+'\x20result.c;'+'\x0a\x20\x20\x20\x20}\x0a#el'+'if\x20SH_BAND'+'S\x20==\x202\x0a\x20\x20\x20'+'\x20var\x20splat'+'SH_1to3:\x20t'+'exture_2d<'+'u32>;\x0a\x20\x20\x20\x20'+'var\x20splatS'+'H_4to7:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_8to11:\x20te'+'xture_2d<u'+'32>;\x0a\x0a\x20\x20\x20\x20'+'fn\x20readSHD'+'ata(source'+':\x20ptr<func'+'tion,\x20Spla'+'tSource>,\x20'+'sh:\x20ptr<fu'+'nction,\x20ar'+'ray<vec3f,'+'\x208>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se')+('cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20='+'\x20fetch1(te'+'xtureLoad('+'splatSH_8t'+'o11,\x20sourc'+'e.uv,\x200).x'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_1to3:\x20tex'+'ture_2d<u3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20splatSH_'+'4to7:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_8'+'to11:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_1'+'2to15:\x20tex'+'ture_2d<u3'+'2>;\x0a\x0a\x20\x20\x20\x20f'+'n\x20readSHDa'+'ta(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20s'+'h:\x20ptr<fun'+'ction,\x20arr'+'ay<vec3f,\x20'+'15>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se'+'cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20thi'+'rd:\x20SH\x20=\x20f'+'etch4(text'+'ureLoad(sp'+'latSH_8to1'+'1,\x20source.'+'uv,\x200));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'7]\x20=\x20third'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20=\x20'+'third.b;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'9]\x20=\x20third'+'.c;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[10]\x20='+'\x20third.d;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20fourth:'+'\x20SH\x20=\x20fetc'+'h4(texture'+'Load(splat'+'SH_12to15,')+('\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[11'+']\x20=\x20fourth'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[12]\x20='+'\x20fourth.b;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[13]\x20=\x20fo'+'urth.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20=\x20fourt'+'h.d;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a\x0a#'+'endif\x0a'),iD='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c3f;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20xy:\x20'+'cornerUV,\x20'+'z:\x20render\x20'+'order\x20offs'+'et\x0aattribu'+'te\x20vertex_'+'id_attrib:'+'\x20u32;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'nder\x20order'+'\x20base\x0a\x0auni'+'form\x20numSp'+'lats:\x20u32;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20total\x20nu'+'mber\x20of\x20sp'+'lats\x0avar\x20s'+'platOrder:'+'\x20texture_2'+'d<u32>;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'per-splat\x20'+'index\x20to\x20s'+'ource\x20gaus'+'sian\x0a\x0a//\x20i'+'nitialize\x20'+'the\x20splat\x20'+'source\x20str'+'ucture\x0afn\x20'+'initSource'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20let\x20w:\x20u3'+'2\x20=\x20textur'+'eDimension'+'s(splatOrd'+'er,\x200).x;\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20u3'+'2(vertex_p'+'osition.z)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'return\x20if\x20'+'out\x20of\x20ran'+'ge\x20(since\x20'+'the\x20last\x20b'+'lock\x20of\x20sp'+'lats\x20may\x20b'+'e\x20partiall'+'y\x20full)\x0a\x20\x20'+'\x20\x20if\x20(sour'+'ce.order\x20>'+'=\x20uniform.'+'numSplats)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20fa'+'lse;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'orderUV\x20=\x20'+'vec2i(vec2'+'u(source.o'+'rder\x20%\x20w,\x20'+'source.ord'+'er\x20/\x20w));\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20splat\x20i'+'d\x0a\x20\x20\x20\x20sour'+'ce.id\x20=\x20te'+'xtureLoad('+'splatOrder'+',\x20orderUV,'+'\x200).r;\x0a\x0a\x20\x20'+'\x20\x20//\x20map\x20i'+'d\x20to\x20uv\x0a\x20\x20'+'\x20\x20source.u'+'v\x20=\x20vec2i('+'vec2u(sour'+'ce.id\x20%\x20w,'+'\x20source.id'+'\x20/\x20w));\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+('turn\x20true;'+'\x0a}\x0a'),rD='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a#ifn'+'def\x20DITHER'+'_NONE\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0aconst'+'\x20discardVe'+'c:\x20vec4f\x20='+'\x20vec4f(0.0'+',\x200.0,\x202.0'+',\x201.0);\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20varying'+'\x20vLinearDe'+'pth:\x20f32;\x0a'+'#endif\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20gaussian\x20'+'details\x0a\x20\x20'+'\x20\x20var\x20sour'+'ce:\x20SplatS'+'ource;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Source(&so'+'urce))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.positi'+'on\x20=\x20disca'+'rdVec;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20let\x20model'+'Center:\x20ve'+'c3f\x20=\x20read'+'Center(&so'+'urce);\x0a\x0a\x20\x20'+'\x20\x20var\x20cent'+'er:\x20SplatC'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'&center))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20di'+'scardVec;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20pro'+'ject\x20cente'+'r\x20to\x20scree'+'n\x20space\x0a\x20\x20'+'\x20\x20var\x20corn'+'er:\x20SplatC'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(&so'+'urce,\x20&cen'+'ter,\x20&corn'+'er))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20clr:\x20vec4'+'f\x20=\x20readCo'+'lor(&sourc'+'e);\x0a\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'AA\x20compens'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr.a\x20'+('=\x20clr.a\x20*\x20'+'corner.aaF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20spher'+'ical\x20harmo'+'nics\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cal'+'culate\x20the'+'\x20model-spa'+'ce\x20view\x20di'+'rection\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'modelView3'+'x3\x20=\x20mat3x'+'3f(center.'+'modelView['+'0].xyz,\x20ce'+'nter.model'+'View[1].xy'+'z,\x20center.'+'modelView['+'2].xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dir\x20=\x20nor'+'malize(mod'+'elView3x3\x20'+'*\x20center.v'+'iew);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20sh:\x20array'+'<vec3f,\x20SH'+'_COEFFS>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20scale:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20readSHDa'+'ta(&source'+',\x20&sh,\x20&sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr\x20='+'\x20vec4f(clr'+'.xyz\x20+\x20eva'+'lSH(&sh,\x20d'+'ir)\x20*\x20scal'+'e,\x20clr.a);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(&c'+'orner,\x20clr'+'.w);\x0a\x0a\x20\x20\x20\x20'+'//\x20write\x20o'+'utput\x0a\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4f(co'+'rner.offse'+'t,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20ou'+'tput.gauss'+'ianUV\x20=\x20co'+'rner.uv;\x0a\x20'+'\x20\x20\x20output.'+'gaussianCo'+'lor\x20=\x20vec4'+'f(prepareO'+'utputFromG'+'amma(max(c'+'lr.xyz,\x20ve'+'c3f(0.0)))'+',\x20clr.w);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'id\x20=\x20f32(s'+'ource.id);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vLinearD'+'epth\x20=\x20-ce'+'nter.view.'+'z;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),aD='\x0a\x20\x20\x20\x20attri'+'bute\x20aPosi'+'tion:\x20vec2'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20uv0:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20@vertex\x20f'+'n\x20vertexMa'+'in(input:\x20'+'VertexInpu'+'t)\x20->\x20Vert'+'exOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20vec4f(inp'+'ut.aPositi'+'on,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'uv0\x20=\x20getI'+'mageEffect'+'UV((input.'+'aPosition\x20'+'+\x201.0)\x20*\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a',nD='\x0a//\x20Indire'+'ct\x20indexed'+'\x20draw\x20call'+'\x20parameter'+'s\x0astruct\x20D'+'rawIndexed'+'IndirectAr'+'gs\x20{\x0a\x20\x20\x20\x20i'+'ndexCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Numb'+'er\x20of\x20indi'+'ces\x20to\x20dra'+'w\x0a\x20\x20\x20\x20inst'+'anceCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20instanc'+'es\x20to\x20draw'+'\x0a\x20\x20\x20\x20first'+'Index:\x20u32'+',\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Index\x20of'+'\x20the\x20first'+'\x20index\x20in\x20'+'the\x20index\x20'+'buffer\x0a\x20\x20\x20'+'\x20baseVerte'+'x:\x20i32,\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Of'+'fset\x20added'+'\x20to\x20each\x20i'+'ndex\x20befor'+'e\x20fetching'+'\x20vertex\x0a\x20\x20'+'\x20\x20firstIns'+'tance:\x20u32'+'\x20\x20\x20\x20\x20\x20//\x20F'+'irst\x20insta'+'nce\x20ID\x0a};\x0a'+'\x0a//\x20Indire'+'ct\x20non-ind'+'exed\x20draw\x20'+'call\x20param'+'eters\x0astru'+'ct\x20DrawInd'+'irectArgs\x20'+'{\x0a\x20\x20\x20\x20vert'+'exCount:\x20u'+'32,\x20\x20\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20vertice'+'s\x20to\x20draw\x0a'+'\x20\x20\x20\x20instan'+'ceCount:\x20u'+'32,\x20\x20\x20\x20\x20//'+'\x20Number\x20of'+'\x20instances'+'\x20to\x20draw\x0a\x20'+'\x20\x20\x20firstVe'+'rtex:\x20u32,'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Index\x20of\x20t'+'he\x20first\x20v'+'ertex\x0a\x20\x20\x20\x20'+'firstInsta'+'nce:\x20u32,\x20'+'\x20\x20\x20\x20//\x20Fir'+'st\x20instanc'+'e\x20ID\x0a\x20\x20\x20\x20_'+'pad:\x20u32\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Padd'+'ing\x20to\x20mat'+'ch\x20indexed'+'\x20size\x20(unu'+'sed)\x0a};\x0a',oD='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gamma'+'PS\x22\x0a\x20\x20\x20\x20va'+'rying\x20colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(decodeGam'+'ma3(input.'+'color.rgb)'+'),\x20input.c'+'olor.a);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a',lD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20matr'+'ix_model:\x20'+'mat4x4f;\x0a\x20'+'\x20\x20\x20uniform'+'\x20matrix_vi'+'ewProjecti'+'on:\x20mat4x4'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output\x20:\x20V'+'ertexOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20inpu'+'t.vertex_c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20unifor'+'m.matrix_m'+'odel\x20*\x20inp'+'ut.vertex_'+'position;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',cD='\x0auniform\x20m'+'aterial_ir'+'idescenceR'+'efractionI'+'ndex:\x20f32;'+'\x0a\x0afn\x20iride'+'scence_ior'+'ToFresnelS'+'calar(tran'+'smittedIor'+':\x20f32,\x20inc'+'identIor:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(('+'transmitte'+'dIor\x20-\x20inc'+'identIor)\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'incidentIo'+'r),\x202.0);\x0a'+'}\x0a\x0afn\x20irid'+'escence_io'+'rToFresnel'+'Vec3(trans'+'mittedIor:'+'\x20vec3f,\x20in'+'cidentIor:'+'\x20f32)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'vec3f(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3f(inci'+'dentIor)),'+'\x20vec3f(2.0'+'));\x0a}\x0a\x0afn\x20'+'iridescenc'+'e_fresnelT'+'oIor(f0:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20sqrtF'+'0:\x20vec3f\x20='+'\x20sqrt(f0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20(vec3f(1'+'.0)\x20+\x20sqrt'+'F0)\x20/\x20(vec'+'3f(1.0)\x20-\x20'+'sqrtF0);\x0a}'+'\x0a\x0aconst\x20XY'+'Z_TO_REC70'+'9:\x20mat3x3f'+'\x20=\x20mat3x3f'+'(\x0a\x20\x20\x20\x20vec3'+'f(3.240454'+'2,\x20-1.5371'+'385,\x20-0.49'+'85314),\x0a\x20\x20'+'\x20\x20vec3f(-0'+'.9692660,\x20'+'\x201.8760108'+',\x20\x200.04155'+'60),\x0a\x20\x20\x20\x20v'+'ec3f(0.055'+'6434,\x20-0.2'+'040259,\x20\x201'+'.0572252)\x0a'+');\x0a\x0afn\x20iri'+'descence_s'+'ensitivity'+'(opd:\x20f32,'+'\x20shift:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x20\x20\x20\x20let'+'\x20phase:\x20f3'+'2\x20=\x202.0\x20*\x20'+'PI\x20*\x20opd\x20*'+'\x201.0e-9;\x0a\x20'+'\x20\x20\x20const\x20v'+'al:\x20vec3f\x20'+'=\x20vec3f(5.'+'4856e-13,\x20'+'4.4201e-13'+',\x205.2481e-'+'13);\x0a\x20\x20\x20\x20c'+'onst\x20pos:\x20'+'vec3f\x20=\x20ve'+'c3f(1.6810'+'e+06,\x201.79'+('53e+06,\x202.'+'2084e+06);'+'\x0a\x20\x20\x20\x20const'+'\x20var_:\x20vec'+'3f\x20=\x20vec3f'+'(4.3278e+0'+'9,\x209.3046e'+'+09,\x206.612'+'1e+09);\x0a\x0a\x20'+'\x20\x20\x20var\x20xyz'+':\x20vec3f\x20=\x20'+'val\x20*\x20sqrt'+'(2.0\x20*\x20PI\x20'+'*\x20var_)\x20*\x20'+'cos(pos\x20*\x20'+'phase\x20+\x20sh'+'ift)\x20*\x20exp'+'(-pow(phas'+'e,\x202.0)\x20*\x20'+'var_);\x0a\x20\x20\x20'+'\x20xyz.x\x20=\x20x'+'yz.x\x20+\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+'cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20=\x20xyz\x20/\x20v'+'ec3f(1.068'+'5e-07);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'XYZ_TO_REC'+'709\x20*\x20xyz;'+'\x0a}\x0a\x0afn\x20iri'+'descence_f'+'resnelScal'+'ar(cosThet'+'a:\x20f32,\x20f0'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20x:\x20f32'+'\x20=\x20clamp(1'+'.0\x20-\x20cosTh'+'eta,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'let\x20x2:\x20f3'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20let\x20x'+'5:\x20f32\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0afn'+'\x20iridescen'+'ce_fresnel'+'Vec3(cosTh'+'eta:\x20f32,\x20'+'f0:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'x:\x20f32\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'x2:\x20f32\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20let\x20x5:\x20f'+'32\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x0a\x20\x20'+'\x20\x20return\x20f'+'0\x20+\x20(vec3f'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0afn\x20calcIr'+'idescence('+'outsideIor'+':\x20f32,\x20cos'+'Theta:\x20f32'+',\x20base_f0:'+'\x20vec3f,\x20ir'+'idescenceT'+'hickness:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0a\x20\x20\x20\x20le'+'t\x20iridesce'+'nceIor:\x20f3'+'2\x20=\x20mix(ou')+('tsideIor,\x20'+'uniform.ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20let\x20s'+'inTheta2Sq'+':\x20f32\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c'+'osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2Sq:\x20f32'+'\x20=\x201.0\x20-\x20s'+'inTheta2Sq'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(cosTheta2'+'Sq\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3f(1.0);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2:\x20f32\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20let\x20r'+'0:\x20f32\x20=\x20i'+'ridescence'+'_iorToFres'+'nelScalar('+'iridescenc'+'eIor,\x20outs'+'ideIor);\x0a\x20'+'\x20\x20\x20let\x20r12'+':\x20f32\x20=\x20ir'+'idescence_'+'fresnelSca'+'lar(cosThe'+'ta,\x20r0);\x0a\x20'+'\x20\x20\x20let\x20r21'+':\x20f32\x20=\x20r1'+'2;\x0a\x20\x20\x20\x20let'+'\x20t121:\x20f32'+'\x20=\x201.0\x20-\x20r'+'12;\x0a\x0a\x20\x20\x20\x20l'+'et\x20phi12:\x20'+'f32\x20=\x20sele'+'ct(0.0,\x20PI'+',\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor)'+';\x0a\x20\x20\x20\x20let\x20'+'phi21:\x20f32'+'\x20=\x20PI\x20-\x20ph'+'i12;\x0a\x0a\x20\x20\x20\x20'+'let\x20baseIo'+'r:\x20vec3f\x20='+'\x20iridescen'+'ce_fresnel'+'ToIor(base'+'_f0\x20+\x20vec3'+'f(0.0001))'+';\x0a\x20\x20\x20\x20let\x20'+'r1:\x20vec3f\x20'+'=\x20iridesce'+'nce_iorToF'+'resnelVec3'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20let\x20r23:\x20'+'vec3f\x20=\x20ir'+'idescence_'+'fresnelVec'+'3(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20let\x20phi'+'23:\x20vec3f\x20'+'=\x20select(v'+'ec3f(0.0),'+'\x20vec3f(PI)'+',\x20baseIor\x20'+'<\x20vec3f(ir'+'idescenceI'+'or));\x0a\x20\x20\x20\x20'+'let\x20opd:\x20f'+'32\x20=\x202.0\x20*'+'\x20iridescen'+'ceIor\x20*\x20ir'+'idescenceT')+('hickness\x20*'+'\x20cosTheta2'+';\x0a\x20\x20\x20\x20let\x20'+'phi:\x20vec3f'+'\x20=\x20vec3f(p'+'hi21)\x20+\x20ph'+'i23;\x20//\x20Pr'+'omote\x20scal'+'ar\x20phi21\x20t'+'o\x20vec3f\x0a\x0a\x20'+'\x20\x20\x20let\x20r12'+'3Sq:\x20vec3f'+'\x20=\x20clamp(v'+'ec3f(r12)\x20'+'*\x20r23,\x20vec'+'3f(1e-5),\x20'+'vec3f(0.99'+'99));\x0a\x20\x20\x20\x20'+'let\x20r123:\x20'+'vec3f\x20=\x20sq'+'rt(r123Sq)'+';\x0a\x20\x20\x20\x20let\x20'+'rs:\x20vec3f\x20'+'=\x20pow(vec3'+'f(t121),\x20v'+'ec3f(2.0))'+'\x20*\x20r23\x20/\x20('+'vec3f(1.0)'+'\x20-\x20r123Sq)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20c0:\x20vec3f'+'\x20=\x20vec3f(r'+'12)\x20+\x20rs;\x0a'+'\x20\x20\x20\x20var\x20i_'+'irid:\x20vec3'+'f\x20=\x20c0;\x0a\x0a\x20'+'\x20\x20\x20var\x20cm:'+'\x20vec3f\x20=\x20r'+'s\x20-\x20vec3f('+'t121);\x0a\x0a\x20\x20'+'\x20\x20cm\x20=\x20cm\x20'+'*\x20r123;\x0a\x20\x20'+'\x20\x20let\x20sm1:'+'\x20vec3f\x20=\x202'+'.0\x20*\x20iride'+'scence_sen'+'sitivity(1'+'.0\x20*\x20opd,\x20'+'1.0\x20*\x20phi)'+';\x0a\x20\x20\x20\x20i_ir'+'id\x20=\x20i_iri'+'d\x20+\x20cm\x20*\x20s'+'m1;\x0a\x0a\x20\x20\x20\x20c'+'m\x20=\x20cm\x20*\x20r'+'123;\x0a\x20\x20\x20\x20l'+'et\x20sm2:\x20ve'+'c3f\x20=\x202.0\x20'+'*\x20iridesce'+'nce_sensit'+'ivity(2.0\x20'+'*\x20opd,\x202.0'+'\x20*\x20phi);\x0a\x20'+'\x20\x20\x20i_irid\x20'+'=\x20i_irid\x20+'+'\x20cm\x20*\x20sm2;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20max(i_i'+'rid,\x20vec3f'+'(0.0));\x0a}\x0a'+'\x0afn\x20getIri'+'descenceDi'+'ffraction('+'cosTheta:\x20'+'f32,\x20specu'+'larity:\x20ve'+'c3f,\x20iride'+'scenceThic'+'kness:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),hD='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_irides'+'cence:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getIrid'+'escence()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'iridescenc'+'e\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_CON'+'STANT\x0a\x20\x20\x20\x20'+'iridescenc'+'e\x20=\x20irides'+'cence\x20*\x20un'+'iform.mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20=\x20iridesc'+'ence\x20*\x20tex'+'tureSample'+'Bias({STD_'+'IRIDESCENC'+'E_TEXTURE_'+'NAME},\x20{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_CHANNEL}'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dI'+'ridescence'+'\x20=\x20iridesc'+'ence;\x20\x0a}\x0a',dD='\x0auniform\x20m'+'aterial_ir'+'idescenceT'+'hicknessMa'+'x:\x20f32;\x0a\x0a#'+'ifdef\x20STD_'+'IRIDESCENC'+'ETHICKNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20uniform'+'\x20material_'+'iridescenc'+'eThickness'+'Min:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20blen'+'d:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_IRIDESCE'+'NCETHICKNE'+'SS_TEXTURE'+'_NAME},\x20{S'+'TD_IRIDESC'+'ENCETHICKN'+'ESS_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20iridesce'+'nceThickne'+'ss:\x20f32\x20=\x20'+'mix(unifor'+'m.material'+'_iridescen'+'ceThicknes'+'sMin,\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax,\x20bl'+'end);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceT'+'hickness:\x20'+'f32\x20=\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scenceThic'+'kness\x20=\x20ir'+'idescenceT'+'hickness;\x20'+'\x0a}\x0a',fD='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_refr'+'actionInde'+'x:\x20f32;\x0a#e'+'ndif\x0a\x0afn\x20g'+'etIor()\x20{\x0a'+'#ifdef\x20STD'+'_IOR_CONST'+'ANT\x0a\x20\x20\x20\x20dI'+'or\x20=\x20unifo'+'rm.materia'+'l_refracti'+'onIndex;\x0a#'+'else\x0a\x20\x20\x20\x20d'+'Ior\x20=\x201.0\x20'+'/\x201.5;\x0a#en'+'dif\x0a}\x0a',uD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_color'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_direction'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_POINT\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20poi'+'nt\x20lights\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20lig'+'ht{i}_posi'+'tion:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ra'+'dius:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'SPOT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_SPOT\x20//\x20'+'include\x20fu'+'nctionalit'+'y\x20for\x20spot'+'\x20lights\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_di'+'rection:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_inner'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_outer'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_FALLOFF_'+'SQUARED\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20inv'+'erse\x20squar'+'ed\x20falloff'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_position:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ha'+'lfWidth:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_halfHeigh'+'t:\x20vec3f;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}FALLOFF\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_LINE'+'AR\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20linear\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}FALLOFF'+'\x20==\x20INVERS'+'ESQUARED\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_SQUA'+'RED\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20inverse'+'\x20squared\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20shadow\x20c'+'asting\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowMatri'+'x:\x20mat4x4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20li'+'ght{i}_sha'+'dowIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'{i}_shadow'+'Params:\x20ve'+'c4f;\x20//\x20wi'+'dth,\x20heigh'+'t,\x20bias,\x20r'+'adius\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowSearc'+'hArea:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_cameraPar'+'ams:\x20vec4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'oftShadowP'+'arams:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'directiona'+'l\x20(cascade'+'d)\x20shadows'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20light{i}_'+'shadowMatr'+'ixPalette:'+'\x20array<mat'+'4x4f,\x204>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deDistance'+'s:\x20vec4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deCount:\x20i'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20light{'+'i}_shadowC'+'ascadeBlen'+'d:\x20f32;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20N'+'OT\x20SUPPORT'+'ED\x0a/*\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIG'+'HT{i}SHADO'+'W_PCF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMap:\x20tex'+'ture_depth'+'_2d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'{i}_shadow'+'MapSampler'+':\x20sampler_'+'comparison'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'light{i}_s'+'hadowMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMapSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIGHT{i}CO'+'OKIE)\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_COOKIE\x20/'+'/\x20include\x20'+'functional'+'ity\x20for\x20co'+'okies\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20OMNI\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20NOT\x20SUPP'+'ORTED\x0a/*\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'plerCube\x20l'+'ight{i}_co'+'okie;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un')+('iform\x20floa'+'t\x20light{i}'+'_cookieInt'+'ensity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20!defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20light{i}'+'_shadowMat'+'rix;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20NO'+'T\x20SUPPORTE'+'D\x0a/*\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_cookie;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_cook'+'ieIntensit'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20!'+'defined(LI'+'GHT{i}CAST'+'SHADOW)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrix;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}COOKIE_TR'+'ANSFORM)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_coo'+'kieMatrix;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'light{i}_c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a*/\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),pD='\x0afn\x20getLig'+'htDiffuse('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',mD='\x0afn\x20evalOm'+'niLight(li'+'ghtPosW:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a}\x0a',_D='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',gD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0afn\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x20\x20\x20'+'\x20//\x20light\x20'+'color\x0a\x20\x20\x20\x20'+'var\x20lightC'+'olor:\x20vec3'+'f\x20=\x20unifor'+'m.light{i}'+'_color;\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20!d'+'efined(LIT'+'_SHADOW_CA'+'TCHER)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ea'+'rly\x20return'+'\x20if\x20the\x20li'+'ght\x20color\x20'+'is\x20black\x20('+'used\x20by\x20sh'+'adow\x20catch'+'er\x20-\x20this\x20'+'way\x20this\x20l'+'ight\x20is\x20ve'+'ry\x20cheap)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(all(ligh'+'tColor\x20==\x20'+'vec3f(0.0,'+'\x200.0,\x200.0)'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20DIRECTION'+'AL\x20//\x20dire'+'ctional\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightD'+'irNormW\x20=\x20'+'uniform.li'+'ght{i}_dir'+'ection;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20omni\x20o'+'r\x20spot\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(u'+'niform.lig'+'ht{i}_posi'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tDirNormW\x20'+'=\x20normaliz'+'e(lightDir'+'W);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIGHT'+'{i}COOKIE)'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20SPOT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_FAL'+'LOFF\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+('eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DXform(u'+'niform.lig'+'ht{i}_cook'+'ie,\x20unifor'+'m.light{i}'+'_shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_cookieIn'+'tensity,\x20u'+'niform.lig'+'ht{i}_cook'+'ieMatrix,\x20'+'uniform.li'+'ght{i}_coo'+'kieOffset)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookie2D('+'uniform.li'+'ght{i}_coo'+'kie,\x20unifo'+'rm.light{i'+'}_shadowMa'+'trix,\x20unif'+'orm.light{'+'i}_cookieI'+'ntensity).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClipXfo'+'rm(uniform'+'.light{i}_'+'cookie,\x20un'+'iform.ligh'+'t{i}_shado'+'wMatrix,\x20u'+'niform.lig'+'ht{i}_cook'+'ieIntensit'+'y,\x20uniform'+'.light{i}_'+'cookieMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieOff'+'set).{LIGH'+'T{i}COOKIE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClip(un'+'iform.ligh'+'t{i}_cooki'+'e,\x20uniform'+'.light{i}_'+'shadowMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieInt'+'ensity).{L'+'IGHT{i}COO'+'KIE_CHANNE'+'L};\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookieCub'+'e(uniform.'+'light{i}_c'+'ookie,\x20uni'+'form.light'+'{i}_shadow'+'Matrix,\x20un'+'iform.ligh'+'t{i}_cooki'+'eIntensity'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multipl'+'y\x20light\x20co'+'lor\x20by\x20the'+'\x20cookie\x20at'+'tenuation\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightCol'+'or\x20=\x20light'+'Color\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dista'+'nce\x20fallof'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20PUNCTUAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}FALLOF'+'F\x20==\x20LINEA'+'R\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20=\x20get'+'FalloffLin'+'ear(unifor'+'m.light{i}'+'_radius,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20getFal'+'loffInvSqu'+'ared(unifo'+'rm.light{i'+'}_radius,\x20'+'lightDirW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'non\x20punctu'+'al\x20lights\x20'+'only\x20gets\x20'+'the\x20range\x20'+'window\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'uniform.li'+'ght{i}_rad'+'ius,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20angle'+'\x20falloff\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20SPO'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d')+('efined(LIG'+'HT{i}COOKI'+'E)\x20||\x20defi'+'ned(LIGHT{'+'i}COOKIE_F'+'ALLOFF)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20dAtten\x20'+'*\x20getSpotE'+'ffect(unif'+'orm.light{'+'i}_directi'+'on,\x20unifor'+'m.light{i}'+'_innerCone'+'Angle,\x20uni'+'form.light'+'{i}_outerC'+'oneAngle,\x20'+'dLightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20if\x20'+'(dAtten\x20<\x20'+'0.00001)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20evaluate\x20'+'area\x20light'+'\x20values\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20RECT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcRectLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20calcDiskL'+'ightValues'+'(uniform.l'+'ight{i}_po'+'sition,\x20un'+'iform.ligh'+'t{i}_halfW'+'idth,\x20unif'+'orm.light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20SPH'+'ERE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20calc'+'SphereLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20dif'+'fuse\x20light'+'ing\x20-\x20LTC\x20'+'lights\x20do\x20'+'not\x20mix\x20di'+'ffuse\x20ligh'+'ting\x20into\x20'+'attenuatio'+'n\x20that\x20aff'+'ects\x20specu'+'lar\x0a\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P')+('UNCTUAL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'attenDiffu'+'se\x20-\x20separ'+'ate\x20diffus'+'e\x20attenuat'+'ion\x20for\x20no'+'n-punctual'+'\x20light\x20sou'+'rces\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20NB:\x20A\x20bet'+'ter\x20approx'+'imation\x20pe'+'rhaps\x20usin'+'g\x20wrap\x20lig'+'hting\x20coul'+'d\x20be\x20imple'+'mented\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20at'+'tenDiffuse'+':\x20f32\x20=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x2016.0\x20is\x20'+'a\x20constant'+'\x20that\x20is\x20i'+'n\x20getFallo'+'ffInvSquar'+'ed()\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20attenDi'+'ffuse:\x20f32'+'\x20=\x20getRect'+'LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20light'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20DISK\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'attenDiffu'+'se:\x20f32\x20=\x20'+'getDiskLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20lightDir'+'W,\x20dLightD'+'irNormW)\x20*'+'\x2016.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20LIGHT'+'{i}SHAPE\x20='+'=\x20SPHERE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20a'+'ttenDiffus'+'e:\x20f32\x20=\x20g'+'etSphereLi'+'ghtDiffuse'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20lightDi'+'rW,\x20dLight'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20one\x20par'+'ameter\x20is\x20'+'unused\x20for')+('\x20punctual\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20dAtten'+'\x20*\x20getLigh'+'tDiffuse(l'+'itArgs_wor'+'ldNormal,\x20'+'vec3(0.0),'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20the\x20sha'+'dow\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}CASTS'+'HADOW\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20shadow:'+'\x20f32\x20=\x20get'+'Shadow{i}('+'vec3(0.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20shadow:\x20'+'f32\x20=\x20getS'+'hadow{i}(l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Ap'+'ply\x20shadow'+'\x20intensity'+'\x20to\x20the\x20sh'+'adow\x20value'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadow\x20=\x20mi'+'x(1.0,\x20sha'+'dow,\x20unifo'+'rm.light{i'+'}_shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20dA'+'tten\x20*\x20sha'+'dow;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SHADOW_CAT'+'CHER)\x20&&\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20accumula'+'te\x20shadows'+'\x20for\x20direc'+'tional\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSha'+'dowCatcher'+'\x20=\x20dShadow'+'Catcher\x20*\x20'+'shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20-\x20they'+'\x20do\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((('+'attenDiffu'+'se\x20*\x20dAtte'+'n)\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20dLTC'+'SpecFres))')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'((attenDif'+'fuse\x20*\x20dAt'+'ten)\x20*\x20lig'+'htColor);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(AREA_'+'LIGHTS)\x20&&'+'\x20defined(L'+'IT_SPECULA'+'R)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((d'+'Atten\x20*\x20li'+'ghtColor)\x20'+'*\x20(1.0\x20-\x20l'+'itArgs_spe'+'cularity))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'(dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20spe'+'cular\x20ligh'+'ting\x0a\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}AFFECT'+'_SPECULARI'+'TY\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20==\x20REC'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getRe'+'ctLightSpe'+'cular(litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20dVi'+'ewDirW)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20ccSpec'+'ularLight\x20'+'+\x20(ccLTCSp'+'ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20SPHER'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_clea'+'rcoat_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20=\x20dS'+'pecularLig'+'ht\x20+\x20(dLTC'+'SpecFres\x20*'+'\x20getRectLi'+'ghtSpecula'+'r(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20(dLT'+'CSpecFres\x20'+'*\x20getDiskL'+'ightSpecul'+'ar(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW)\x20*\x20dAt'+'ten\x20*\x20ligh'+'tColor);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'=\x20dSpecula'+'rLight\x20+\x20('+'dLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20//\x20punctu'+'al\x20light\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20is\x20fr'+'esnel\x20need'+'ed\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC')+('TIONAL\x20&&\x20'+'LIT_FRESNE'+'L_MODEL\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ha'+'lfDirW:\x20ve'+'c3f\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20if\x20LTC\x20li'+'ghts\x20are\x20p'+'resent,\x20sp'+'ecular\x20mus'+'t\x20be\x20accum'+'ulated\x20wit'+'h\x20specular'+'ity\x20(specu'+'larity\x20is\x20'+'pre\x20multip'+'lied\x20by\x20pu'+'nctual\x20lig'+'ht\x20fresnel'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'specularCC'+':\x20vec3f\x20=\x20'+'getLightSp'+'ecular(hal'+'fDirW,\x20ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20dLightDir'+'NormW,\x20lit'+'Args_clear'+'coat_gloss'+',\x20dTBN)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightspecu'+'larCC\x20=\x20li'+'ghtspecula'+'rCC\x20*\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20halfDi'+'rW));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20=\x20ccSpecu'+'larLight\x20+'+'\x20lightspec'+'ularCC;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sSpecul'+'arLight\x20=\x20'+'sSpecularL'+'ight\x20+\x20(ge'+'tLightSpec'+'ularSheen('+'halfDirW,\x20'+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi')+('rNormW,\x20li'+'tArgs_shee'+'n_gloss)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tSpecular:'+'\x20vec3f\x20=\x20g'+'etLightSpe'+'cular(half'+'DirW,\x20dRef'+'lDirW,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20d'+'LightDirNo'+'rmW,\x20litAr'+'gs_gloss,\x20'+'dTBN)\x20*\x20dA'+'tten\x20*\x20lig'+'htColor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'FRESNEL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20=\x20li'+'ghtSpecula'+'r\x20*\x20getFre'+'snel(dot(d'+'ViewDirW,\x20'+'halfDirW),'+'\x20litArgs_g'+'loss,\x20litA'+'rgs_specul'+'arity,\x20iri'+'descenceFr'+'esnel,\x20lit'+'Args_iride'+'scence_int'+'ensity);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightSpecul'+'ar\x20=\x20light'+'Specular\x20*'+'\x20getFresne'+'l(dot(dVie'+'wDirW,\x20hal'+'fDirW),\x20li'+'tArgs_glos'+'s,\x20litArgs'+'_speculari'+'ty);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20light'+'Specular\x20='+'\x20lightSpec'+'ular\x20*\x20lit'+'Args_specu'+'larity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20+\x20li'+'ghtSpecula'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'#endif\x0a'),SD='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowSam'+'pleCoord{i'+'}(shadowTr'+'ansform:\x20m'+'at4x4f,\x20sh'+'adowParams'+':\x20vec4f,\x20w'+'orldPositi'+'on:\x20vec3f,'+'\x20lightPos:'+'\x20vec3f,\x20li'+'ghtDir:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'lightDirNo'+'rm:\x20vec3f,'+'\x20normal:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'surfacePos'+'ition\x20=\x20wo'+'rldPositio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_POINT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(*l'+'ightDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y\x20*\x20cl'+'amp(1.0\x20-\x20'+'dot(normal'+',\x20-lightDi'+'rNorm),\x200.'+'0,\x201.0)\x20*\x20'+'distScale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20*li'+'ghtDir\x20=\x20s'+'urfacePosi'+'tion\x20-\x20lig'+'htPos;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'*lightDir;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}_SHADOW_'+'SAMPLE_NOR'+'MAL_OFFSET'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_SAMP'+'LE_ORTHO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dis'+'tScale:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20distSca'+'le:\x20f32\x20=\x20'+'abs(dot(vP'+'ositionW\x20-'+'\x20lightPos,'+'\x20lightDirN'+'orm));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Use'+'\x20var\x20for\x20m'+'odificatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20po'+'sitionInSh'+'adowSpace:'+'\x20vec4f\x20=\x20s'+'hadowTrans'+'form\x20*\x20vec'+'4f(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM')+('PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20=\x20pos'+'itionInSha'+'dowSpace.x'+'yz\x20/\x20posit'+'ionInShado'+'wSpace.w;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.xy\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/\x20posi'+'tionInShad'+'owSpace.w;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20positionI'+'nShadowSpa'+'ce.z\x20=\x20len'+'gth(*light'+'Dir)\x20*\x20sha'+'dowParams.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20this\x20is\x20c'+'urrently\x20u'+'nused\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_Z'+'_BIAS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20posit'+'ionInShado'+'wSpace.z\x20+'+'=\x20getShado'+'wBias(shad'+'owParams.x'+',\x20shadowPa'+'rams.z);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sur'+'facePositi'+'on;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20evalu'+'ation\x20func'+'tion\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'w{i}(light'+'DirW_in:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20s'+'hadow\x20casc'+'ades\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_CASC'+'ADES\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20select\x20sh'+'adow\x20casca'+'de\x20matrix\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20casc'+'adeIndex:\x20'+'i32\x20=\x20getS'+'hadowCasca'+'deIndex(un'+'iform.ligh'+'t{i}_shado'+'wCascadeDi'+'stances,\x20u'+'niform.lig'+'ht{i}_shad')+('owCascadeC'+'ount);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_CASCADE'+'_BLEND\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20cascade'+'Index\x20=\x20di'+'therShadow'+'CascadeInd'+'ex(cascade'+'Index,\x20uni'+'form.light'+'{i}_shadow'+'CascadeDis'+'tances,\x20un'+'iform.ligh'+'t{i}_shado'+'wCascadeCo'+'unt,\x20unifo'+'rm.light{i'+'}_shadowCa'+'scadeBlend'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowMatri'+'x:\x20mat4x4f'+'\x20=\x20uniform'+'.light{i}_'+'shadowMatr'+'ixPalette['+'cascadeInd'+'ex];\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20sha'+'dowMatrix:'+'\x20mat4x4f\x20='+'\x20uniform.l'+'ight{i}_sh'+'adowMatrix'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20lightDirA'+'rg\x20=\x20light'+'DirW_in;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20direc'+'tional\x20lig'+'ht\x20does\x20no'+'t\x20have\x20a\x20p'+'osition\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20getSh'+'adowSample'+'Coord{i}(s'+'hadowMatri'+'x,\x20uniform'+'.light{i}_'+'shadowPara'+'ms,\x20vPosit'+'ionW,\x20vec3'+'f(0.0),\x20&l'+'ightDirArg'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owCoord:\x20v'+'ec3f\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_shadowPa'+'rams,\x20vPos'+'itionW,\x20un'+'iform.ligh'+'t{i}_posit'+'ion,\x20&ligh'+'tDirArg,\x20d'+'LightDirNo'+'rmW,\x20dVert'+'exNormalW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('#endif\x0a\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Fade\x20direc'+'tional\x20sha'+'dow\x20at\x20the'+'\x20far\x20dista'+'nce\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'owCoord\x20=\x20'+'fadeShadow'+'(shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowCas'+'cadeDistan'+'ces);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20-----\x20s'+'ample\x20the\x20'+'shadow\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20---'+'--\x20directi'+'onal\x20light'+'\x20-----\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20VSM_'+'16F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowVSM1'+'6(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s,\x205.54);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20VS'+'M_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowVS'+'M32(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x2015.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2f(lengt'+'h(uniform.'+'light{i}_h'+'alfWidth),'+'\x20length(un'+'iform.ligh'+'t{i}_halfH'+'eight))\x20*\x20'+'uniform.li'+'ght{i}_sha'+'dowSearchA'+'rea;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCSS(ligh'+'t{i}_shado'+'wMap,\x20ligh'+'t{i}_shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20unif'+'orm.light{'+'i}_shadowP'+'arams,\x20uni'+'form.light'+'{i}_camera'+'Params,\x20sh'+'adowSearch'+'Area,\x20ligh'+'tDirW_in);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CSS(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x20unifo'+'rm.light{i'+'}_cameraPa'+'rams,\x20unif'+'orm.light{'+'i}_softSha'+'dowParams,'+'\x20lightDirW'+'_in);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF1_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF1x1('+'light{i}_s'+'hadowMap,\x20'+'light{i}_s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'uniform.li'+'ght{i}_sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_16F\x20|'+'|\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF3_3'+'2F\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowPCF3x'+'3(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_16F'+'\x20||\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF5')+('_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x20//\x20-'+'----\x20spot\x20'+'light\x20----'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM16'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x205.54,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM32'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x2015.0,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20!=\x20PU'+'NCTUAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f\x20=\x20vec'+'2f(length('+'uniform.li'+'ght{i}_hal'+'fWidth),\x20l'+'ength(unif'+'orm.light{'+'i}_halfHei'+'ght))\x20*\x20un'+'iform.ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowSearc'+'hArea:\x20vec')+('2f\x20=\x20vec2f'+'(uniform.l'+'ight{i}_sh'+'adowSearch'+'Area);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCSS'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x20uniform.'+'light{i}_c'+'ameraParam'+'s,\x20shadowS'+'earchArea,'+'\x20lightDirW'+'_in);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'16F\x20||\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF1_32F\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF1x1'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'5_16F\x20||\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF5_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCF5'+'x5(light{i'+'}_shadowMa'+'p,\x20light{i'+'}_shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20uniform'+'.light{i}_'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20')+('\x20\x20\x20#endif\x0a'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x20//\x20--'+'---\x20omni\x20l'+'ight\x20-----'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f;\x20//\x20U'+'se\x20var\x20bec'+'ause\x20assig'+'ned\x20in\x20if/'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owSearchAr'+'ea:\x20vec2f\x20'+'=\x20vec2f(le'+'ngth(unifo'+'rm.light{i'+'}_halfWidt'+'h),\x20length'+'(uniform.l'+'ight{i}_ha'+'lfHeight))'+'\x20*\x20uniform'+'.light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'SearchArea'+':\x20vec2f\x20=\x20'+'vec2f(unif'+'orm.light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20un'+'iform.ligh'+'t{i}_camer'+'aParams,\x20s'+'hadowSearc'+'hArea,\x20lig'+'htDirW_in)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in')+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),yD='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'var\x20areaLi'+'ghtsLutTex'+'1:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20areaLight'+'sLutTex2:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20areaL'+'ightsLutTe'+'x2Sampler:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'omni\x20/\x20spo'+'t\x20PCSS\x20is\x20'+('not\x20suppor'+'ted\x20on\x20Web'+'GPU\x20curren'+'tly,\x20as\x20th'+'is\x20is\x20only'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0a\x20\x20\x20\x20'+'//\x20#includ'+'e\x20\x22shadowP'+'CSSPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22shadowSof'+'tPS\x22\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(SHADO'+'W_KIND_VSM'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owEVSMPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22falloff'+'LinearPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_SQUARED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fallof'+'fInvSquare'+'dPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_CODE_L'+'IGHTS_POIN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDirPointP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22spotPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'CODE_COOKI'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22cook'+'iePS\x22\x0a#end'+'if\x0a\x0a//\x20clu'+'stered\x20lig'+'hting\x0a#ifd'+'ef\x20LIT_CLU'+'STERED_LIG'+'HTS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22cl'+'usteredLig'+'htPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIGHT_COU'+'NT\x20>\x200\x0a\x20\x20\x20'+'\x20//\x20LOOP\x20-'+'\x20generate\x20'+'shadow\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionShadow'+'PS,\x20LIGHT_'+'COUNT\x22\x0a\x0a\x20\x20'+'\x20\x20//\x20LOOP\x20'+'-\x20generate'+'\x20light\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionLightP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a'),vD='\x0afn\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20lightmap:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20dir:\x20vec'+'3f,\x0a\x20\x20\x20\x20wo'+'rldNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20viewDir:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20reflecti'+'onDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20ve'+'rtexNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20tbn:\x20ma'+'t3x3f\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20iridesce'+'nceIntensi'+'ty:\x20f32\x0a#e'+'ndif\x0a)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x20&&'+'\x20defined(L'+'IT_DIR_LIG'+'HTMAP)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'dot(dir,\x20d'+'ir)\x20<\x200.00'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20dD'+'iffuseLigh'+'t\x20+\x20lightm'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20vli'+'ght:\x20f32\x20='+'\x20saturate('+'dot(dir,\x20-'+'vertexNorm'+'al));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20flight:\x20'+'f32\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20nlig'+'ht:\x20f32\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20=\x20dDiff'+'useLight\x20+'+'\x20lightmap\x20'+'*\x20nlight\x20*'+'\x202.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20halfDir'+':\x20vec3f\x20=\x20'+'normalize('+'-dir\x20+\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20specula'+'rLight:\x20ve'+'c3f\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+('_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'=\x20specular'+'Light\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(d'+'ot(viewDir'+',\x20halfDir)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20,\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20specularL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'non-direct'+'ional\x20ligh'+'tmap\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20+\x20ligh'+'tmap;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),xD='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'var<privat'+'e>\x20dLightm'+'apDir:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'dirLightMa'+'p:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_dirL'+'ightMapSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0afn\x20getL'+'ightMap()\x20'+'{\x0a\x0a\x20\x20\x20\x20dLi'+'ghtmap\x20=\x20v'+'ec3f(1.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_TEXTURE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Lightmap\x20='+'\x20dLightmap'+'\x20*\x20{STD_LI'+'GHT_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_LIGHT_T'+'EXTURE_NAM'+'E},\x20{STD_L'+'IGHT_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+')).{STD_LI'+'GHT_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_LIGHTMAP'+'_DIR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20dir:\x20vec3'+'f\x20=\x20textur'+'eSampleBia'+'s(texture_'+'dirLightMa'+'p,\x20texture'+'_dirLightM'+'apSampler,'+'\x20{STD_LIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).xyz\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20d'+'irDot\x20=\x20do'+'t(dir,\x20dir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tmapDir\x20=\x20'+'select(vec'+'3(0.0),\x20di'+'r\x20/\x20sqrt(d'+'irDot),\x20di'+'rDot\x20>\x200.0'+'01);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dL'+'ightmap\x20=\x20'+'dLightmap\x20'+'*\x20saturate'+'(vVertexCo'+'lor.{STD_L'+'IGHT_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',TD='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'fn\x20calcLig'+'htSpecular'+'(gloss:\x20f3'+'2,\x20worldNo'+'rmal:\x20vec3'+'f,\x20viewDir'+':\x20vec3f,\x20h'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'tbn:\x20mat3x'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20PI:\x20f32\x20='+'\x203.1415926'+'53589793;\x0a'+'\x20\x20\x20\x20let\x20ro'+'ughness:\x20f'+'32\x20=\x20max(('+'1.0\x20-\x20glos'+'s)\x20*\x20(1.0\x20'+'-\x20gloss),\x20'+'0.001);\x0a\x20\x20'+'\x20\x20let\x20alph'+'aRoughness'+':\x20f32\x20=\x20ro'+'ughness\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20let\x20a'+'nisotropy:'+'\x20f32\x20=\x20dAn'+'isotropy;\x0a'+'\x20\x20\x20\x20let\x20di'+'rection:\x20v'+'ec2f\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x0a\x20'+'\x20\x20\x20let\x20at:'+'\x20f32\x20=\x20mix'+'(alphaRoug'+'hness,\x201.0'+',\x20anisotro'+'py\x20*\x20aniso'+'tropy);\x0a\x20\x20'+'\x20\x20let\x20ab:\x20'+'f32\x20=\x20clam'+'p(alphaRou'+'ghness,\x200.'+'001,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20NoH:\x20f32\x20'+'=\x20dot(worl'+'dNormal,\x20h'+');\x0a\x20\x20\x20\x20let'+'\x20ToH:\x20f32\x20'+'=\x20dot(anis'+'otropicT,\x20'+'h);\x0a\x20\x20\x20\x20le'+'t\x20BoH:\x20f32'+'\x20=\x20dot(ani'+'sotropicB,'+'\x20h);\x0a\x0a\x20\x20\x20\x20'+'let\x20a2:\x20f3'+'2\x20=\x20at\x20*\x20a'+'b;\x0a\x20\x20\x20\x20let'+'\x20v:\x20vec3f\x20'+'=\x20vec3f(ab'+'\x20*\x20ToH,\x20at'+'\x20*\x20BoH,\x20a2'+'\x20*\x20NoH);\x0a\x20'+'\x20\x20\x20let\x20v2:'+'\x20f32\x20=\x20dot'+'(v,\x20v);\x0a\x20\x20'+'\x20\x20let\x20w2:\x20'+'f32\x20=\x20a2\x20/'+'\x20v2;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20let\x20To'+'V:\x20f32\x20=\x20d'+'ot(anisotr'+'opicT,\x20vie'+('wDir);\x0a\x20\x20\x20'+'\x20let\x20BoV:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20viewDi'+'r);\x0a\x20\x20\x20\x20le'+'t\x20ToL:\x20f32'+'\x20=\x20dot(ani'+'sotropicT,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20let\x20BoL:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20let\x20No'+'V:\x20f32\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'let\x20NoL:\x20f'+'32\x20=\x20dot(w'+'orldNormal'+',\x20-lightDi'+'rNorm);\x0a\x0a\x20'+'\x20\x20\x20let\x20lam'+'bdaV:\x20f32\x20'+'=\x20NoL\x20*\x20le'+'ngth(vec3f'+'(at\x20*\x20ToV,'+'\x20ab\x20*\x20BoV,'+'\x20NoV));\x0a\x20\x20'+'\x20\x20let\x20lamb'+'daL:\x20f32\x20='+'\x20NoV\x20*\x20len'+'gth(vec3f('+'at\x20*\x20ToL,\x20'+'ab\x20*\x20BoL,\x20'+'NoL));\x0a\x20\x20\x20'+'\x20let\x20G:\x20f3'+'2\x20=\x200.5\x20/\x20'+'(lambdaV\x20+'+'\x20lambdaL);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20D\x20*\x20G;\x0a'+'}\x0a\x0afn\x20getL'+'ightSpecul'+'ar(h:\x20vec3'+'f,\x20reflDir'+':\x20vec3f,\x20w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'DirNorm:\x20v'+'ec3f,\x20glos'+'s:\x20f32,\x20tb'+'n:\x20mat3x3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20calcLigh'+'tSpecular('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir,\x20h'+',\x20lightDir'+'Norm,\x20tbn)'+';\x0a}\x0a'),wD='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afn\x20c'+'alcLightSp'+'ecular(glo'+'ss:\x20f32,\x20w'+'orldNormal'+':\x20vec3f,\x20h'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20nh:\x20'+'f32\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'specPow:\x20f'+'32\x20=\x20exp2('+'gloss\x20*\x2011'+'.0);\x20//\x20gl'+'ossiness\x20i'+'s\x20linear,\x20'+'power\x20is\x20n'+'ot;\x200\x20-\x2020'+'48\x0a\x0a\x20\x20\x20\x20//'+'\x20Hack:\x20On\x20'+'Mac\x20OS\x20X,\x20'+'calling\x20po'+'w\x20with\x20zer'+'o\x20for\x20the\x20'+'exponent\x20g'+'enerates\x20h'+'ideous\x20art'+'ifacts\x20so\x20'+'bias\x20up\x20a\x20'+'little\x0a\x20\x20\x20'+'\x20specPow\x20='+'\x20max(specP'+'ow,\x200.0001'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20pow(n'+'h,\x20specPow'+')\x20*\x20(specP'+'ow\x20+\x202.0)\x20'+'/\x208.0;\x0a}\x0a\x0a'+'fn\x20getLigh'+'tSpecular('+'h:\x20vec3f,\x20'+'reflDir:\x20v'+'ec3f,\x20worl'+'dNormal:\x20v'+'ec3f,\x20view'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20tbn:\x20'+'mat3x3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',ED='\x0a\x0afn\x20sheen'+'D(normal:\x20'+'vec3f,\x20h:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'PI:\x20f32\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20let\x20inv'+'R:\x20f32\x20=\x201'+'.0\x20/\x20(roug'+'hness\x20*\x20ro'+'ughness);\x0a'+'\x20\x20\x20\x20var\x20co'+'s2h:\x20f32\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20=\x20c'+'os2h\x20*\x20cos'+'2h;\x0a\x20\x20\x20\x20le'+'t\x20sin2h:\x20f'+'32\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'fn\x20sheenV('+'normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20light:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20max(dot'+'(normal,\x20v'+'iewDir),\x200'+'.000001);\x0a'+'\x20\x20\x20\x20let\x20No'+'L:\x20f32\x20=\x20m'+'ax(dot(nor'+'mal,\x20light'+'),\x200.00000'+'1);\x0a\x20\x20\x20\x20re'+'turn\x201.0\x20/'+'\x20(4.0\x20*\x20(N'+'oL\x20+\x20NoV\x20-'+'\x20NoL\x20*\x20NoV'+'));\x0a}\x0a\x0afn\x20'+'getLightSp'+'ecularShee'+'n(h:\x20vec3f'+',\x20worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f,\x20li'+'ghtDirNorm'+':\x20vec3f,\x20s'+'heenGloss:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20let\x20V:\x20f'+'32\x20=\x20sheen'+'V(worldNor'+'mal,\x20viewD'+'ir,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20return'+'\x20D\x20*\x20V;\x0a}',bD='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afn\x20linear'+'izeDepthWi'+'thParams(z'+':\x20f32,\x20cam'+'eraParams:'+'\x20vec4f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'aParams.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(came'+'raParams.z'+'\x20*\x20cameraP'+'arams.y)\x20/'+'\x20(cameraPa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'Params.z\x20-'+'\x20cameraPar'+'ams.y));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20cam'+'eraParams.'+'z\x20+\x20z\x20*\x20(c'+'ameraParam'+'s.y\x20-\x20came'+'raParams.z'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0a#ifndef\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20#de'+'fine\x20CAMER'+'APLANES\x0a\x20\x20'+'\x20\x20uniform\x20'+'camera_par'+'ams:\x20vec4f'+';\x20\x20\x20//\x20x:\x20'+'1\x20/\x20camera'+'_far,\x20\x20\x20\x20\x20'+'\x20y:\x20camera'+'_far,\x20\x20\x20\x20\x20'+'z:\x20camera_'+'near,\x20\x20\x20\x20\x20'+'\x20\x20\x20w:\x20is_o'+'rtho\x0a#endi'+'f\x0a\x0afn\x20line'+'arizeDepth'+'(z:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pthWithPar'+'ams(z,\x20uni'+'form.camer'+'a_params);'+'\x0a}\x0a#endif\x20'+'//\x20LINEARI'+'ZE_DEPTH\x0a',AD='\x0afn\x20evalua'+'teBackend('+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'//\x20apply\x20S'+'SAO\x20during'+'\x20lighting\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SSAO\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ao\x20='+'\x20litArgs_a'+'o\x20*\x20textur'+'eSampleLev'+'el(ssaoTex'+'ture,\x20ssao'+'TextureSam'+'pler,\x20pcPo'+'sition.xy\x20'+'*\x20uniform.'+'ssaoTextur'+'eSizeInv,\x20'+'0.0).r;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nsform\x20tan'+'gent\x20space'+'\x20normals\x20t'+'o\x20world\x20sp'+'ace\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_N'+'EEDS_NORMA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getReflD'+'ir(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_gloss,\x20'+'dTBN);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'f0:\x20f32\x20=\x20'+'1.0\x20/\x20litA'+'rgs_ior;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20f0\x20=\x20(f0\x20'+'-\x201.0)\x20/\x20('+'f0\x20+\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20f0\x20=\x20f0'+'\x20*\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+('ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceF'+'resnel:\x20ve'+'c3f\x20=\x20getI'+'ridescence'+'Diffractio'+'n(saturate'+'(dot(dView'+'DirW,\x20litA'+'rgs_worldN'+'ormal)),\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_ir'+'idescence_'+'thickness)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20ambi'+'ent\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddAmbient('+'litArgs_wo'+'rldNormal)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20move\x20ambi'+'ent\x20color\x20'+'out\x20of\x20dif'+'fuse\x20(used'+'\x20by\x20Lightm'+'apper,\x20to\x20'+'multiply\x20a'+'mbient\x20col'+'or\x20by\x20accu'+'mulated\x20AO'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SEPARATE_'+'AMBIENT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20dAmbie'+'ntLight:\x20v'+'ec3f\x20=\x20dDi'+'ffuseLight'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20unif'+'orm.materi'+'al_ambient'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20LI'+'T_OCCLUDE_'+'DIRECT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeDiff'+'use(litArg'+'s_ao);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTMAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20litArgs_l'+'ightmap,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmapDi'+'r,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dViewDirW,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dReflD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'BN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_irides'+'cence_inte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTING\x20||'+'\x20LIT_REFLE'+'CTIONS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddReflecti'+'onCC(ccRef'+'lDirW,\x20lit'+'Args_clear'+'coat_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'ccFresnel\x20'+'=\x20getFresn'+'elCC(dot(d'+'ViewDirW,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccRefle'+'ction\x20=\x20cc'+'Reflection'+'\x20*\x20ccFresn'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccFr'+'esnel\x20=\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'ection\x20=\x20c'+'cReflectio'+'n\x20*\x20litArg'+'s_specular'+'ityFactor;')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20addR'+'eflectionS'+'heen(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_sheen'+'_gloss);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20Fresne'+'l\x20has\x20to\x20b'+'e\x20applied\x20'+'to\x20reflect'+'ions\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'Reflection'+'(dReflDirW'+',\x20litArgs_'+'gloss);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_FRESNEL_'+'MODEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'dReflectio'+'n.rgb\x20*\x20li'+'tArgs_spec'+'ularity,\x20d'+'Reflection'+'.a);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve')+('c4f(dRefle'+'ction.rgb\x20'+'*\x20litArgs_'+'specularit'+'yFactor,\x20d'+'Reflection'+'.a);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20AREA'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20*'+'\x20litArgs_s'+'pecularity'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20evalua'+'te\x20materia'+'l\x20based\x20ar'+'ea\x20lights\x20'+'data,\x20shar'+'ed\x20by\x20all\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcLTCLight'+'Values(lit'+'Args_gloss'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20litArg'+'s_specular'+'ity,\x20litAr'+'gs_clearco'+'at_gloss,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20evalua'+'te\x20all\x20non'+'-clustered'+'\x20lights\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22lightEval'+'uationPS,\x20'+'LIGHT_COUN'+'T\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'USTERED_LI'+'GHTS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'ClusteredL'+'ights(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_CLEARCOAT'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20ccRe'+'flDirW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'litArgs_sp'+'ecularity,'+'\x20dVertexNo'+'rmalW,\x20dTB'+'N,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_sheen_'+'gloss,\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20AREA_LI'+'GHTS\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x20has'+'\x20to\x20be\x20acc'+'umulated\x20d'+'ifferently'+'\x20if\x20we\x20wan'+'t\x20area\x20lig'+'hts\x20to\x20loo'+'k\x20correct\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_clearc'+'oat_specul'+'arity\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20vec3(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addRefra'+'ction(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dViewDirW'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_specu'+'larity,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr')+('gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_tran'+'smission,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_ior,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_dispers'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'ambient\x20oc'+'clusion\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_OCCLU'+'DE_DIRECT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeD'+'iffuse(lit'+'Args_ao);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeSpec'+'ular(litAr'+'gs_gloss,\x20'+'litArgs_ao'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20*\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20!defi'+'ned(LIT_OP'+'ACITY_FADE'+'S_SPECULAR'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'==\x20NORMAL\x20'+'||\x20LIT_BLE'+'ND_TYPE\x20=='+'\x20PREMULTIP'+'LIED\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specLum:'+'\x20f32\x20=\x20dot'+'((dSpecula'+'rLight\x20+\x20d'+'Reflection'+'.rgb\x20*\x20dRe'+'flection.a'+'),\x20vec3f(\x20'+'0.2126,\x200.'+'7152,\x200.07'+'22\x20));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'Lum\x20=\x20spec'+'Lum\x20+\x20dot('+'ccSpecular'+'Light\x20*\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20+\x20'+'ccReflecti'+'on\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity,\x20vec3'+'f(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20c'+'lamp(litAr'+'gs_opacity'+'\x20+\x20gammaCo'+'rrectInput'+'(specLum),'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_opaci'+'ty\x20=\x20litAr'+'gs_opacity'+'\x20*\x20uniform'+'.material_'+'alphaFade;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20end\x20chunk'+'s\x20-\x20when\x20b'+'aking\x20ligh'+'tmap\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTMAP_B'+'AKING\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_COLOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22b'+'akeLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_LIGH'+'TMAP_BAKIN'+'G_DIR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22ba'+'keDirLmEnd'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'end\x20chunks'+'\x20-\x20in\x20all\x20'+'other\x20case'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'endPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22outpu'+'tAlphaPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_MSD'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20apply'+'Msdf(outpu'+'t.color);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22outp'+'utPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'debugOutpu'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHADOW_CA'+'TCHER\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20when\x20t'+'he\x20shadow\x20'+'catcher\x20is'+'\x20enabled\x20-'+'\x20accumulat'+'ed\x20shadows')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'vec3f(dSha'+'dowCatcher'+'),\x20output.'+'color.a);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),CD='\x0a\x0a//\x20globa'+'ls\x0avar<pri'+'vate>\x20sRef'+'lection:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'VertexNorm'+'alW:\x20vec3f'+';\x0avar<priv'+'ate>\x20dTang'+'entW:\x20vec3'+'f;\x0avar<pri'+'vate>\x20dBin'+'ormalW:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dV'+'iewDirW:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'ReflDirW:\x20'+'vec3f;\x0avar'+'<private>\x20'+'ccReflDirW'+':\x20vec3f;\x0a\x0a'+'//\x20Per-lig'+'ht\x20tempora'+'ries\x0avar<p'+'rivate>\x20dL'+'ightDirNor'+'mW:\x20vec3f;'+'\x0avar<priva'+'te>\x20dAtten'+':\x20f32;\x0a\x0a//'+'\x20Outputs\x0av'+'ar<private'+'>\x20dTBN:\x20ma'+'t3x3f;\x0avar'+'<private>\x20'+'dReflectio'+'n:\x20vec4f;\x0a'+'var<privat'+'e>\x20dDiffus'+'eLight:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccFres'+'nel:\x20f32;\x0a'+'var<privat'+'e>\x20ccRefle'+'ction:\x20vec'+'3f;\x0avar<pr'+'ivate>\x20ccS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccSpec'+'ularityNoF'+'res:\x20f32;\x0a'+'var<privat'+'e>\x20sSpecul'+'arLight:\x20v'+'ec3f;\x0a\x0a//\x20'+'FRAGMENT\x20S'+'HADER\x20INPU'+'TS:\x20UNIFOR'+'MS\x0a\x0a#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_dis'+'persion:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_al'+'phaFade:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_SSAO\x0a\x20\x20'+'\x20\x20var\x20ssao'+'Texture\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20ssaoT'+'extureSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20u'+'niform\x20ssa'+'oTextureSi'+'zeInv:\x20vec'+'2f;\x0a#endif'+'\x0a\x0a//\x20light'+'ing\x20and\x20sh'+'adowing\x20de'+('clarations'+'\x0a\x0a#ifdef\x20L'+'IT_SHADOW_'+'CATCHER\x0a\x20\x20'+'\x20\x20//\x20a\x20var'+'iable\x20to\x20a'+'ccumulate\x20'+'shadows\x20fo'+'r\x20shadow\x20c'+'atcher\x20mat'+'erials\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dShado'+'wCatcher:\x20'+'f32\x20=\x201.0;'+'\x0a#endif\x0a\x0a/'+'/\x20LOOP\x20-\x20u'+'niform\x20dec'+'larations\x20'+'for\x20all\x20no'+'n-clustere'+'d\x20lights\x0a#'+'if\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightDe'+'clarationP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'f\x20LIT_FRES'+'NEL_MODEL\x20'+'==\x20NONE\x20&&'+'\x20!defined('+'LIT_REFLEC'+'TIONS)\x20&&\x20'+'!defined(L'+'IT_DIFFUSE'+'_MAP)\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_OLD'+'_AMBIENT\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0a//'+'\x20lightmap\x20'+'baking\x0a#if'+'def\x20STD_LI'+'GHTMAP_DIR'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20bakeDir'+':\x20f32;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_ADD_AMBIE'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20ambie'+'ntBakeOccl'+'usionContr'+'ast:\x20f32;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20ambientB'+'akeOcclusi'+'onBrightne'+'ss:\x20f32;\x0a#'+'endif\x0a'),PD='\x0a\x0a@fragmen'+'t\x0afn\x20fragm'+'entMain(in'+'put:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ccSpecular'+'Light\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'Reflection'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_N'+'ONE_SLICE_'+'MODE\x20==\x20SL'+'ICED\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22startNi'+'neSlicedPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20LIT_NONE'+'_SLICE_MOD'+'E\x20==\x20TILED'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'tartNineSl'+'icedTiledP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'NEEDS_NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dVertexNo'+'rmalW\x20=\x20no'+'rmalize(vN'+'ormalW);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_T'+'ANGENTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_HEIG'+'HTS)\x20||\x20de'+'fined(LIT_'+'USE_NORMAL'+'S)\x20||\x20defi'+'ned(LIT_US'+'E_CLEARCOA'+'T_NORMALS)'+'\x20||\x20define'+'d(LIT_GGX_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dTan'+'gentW\x20=\x20vT'+'angentW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dBino'+'rmalW\x20=\x20vB'+'inormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20getView'+'Dir();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_TBN'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getTBN('+'dTangentW,'+'\x20dBinormal'+'W,\x20dVertex'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'andleTwoSi'+'dedLightin'+'g();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+('\x0a\x20\x20\x20\x20//\x20in'+'voke\x20front'+'end\x20functi'+'ons\x0a\x20\x20\x20\x20ev'+'aluateFron'+'tend();\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22debugPr'+'ocessFront'+'endPS\x22\x0a\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput\x20='+'\x20evaluateB'+'ackend();\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainEndP'+'S\x22\x0a\x0a\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a}\x0a'),MD='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20material_'+'ambient:\x20v'+'ec3f;\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_LIGHTING'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22light'+'SpecularAn'+'isoGGXPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tSpecularB'+'linnPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0a#include'+'\x20\x22combineP'+'S\x22\x0a\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapAddP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22am'+'bientPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_MS'+'DF\x0a\x20\x20\x20\x20#in'+'clude\x20\x22msd'+'fPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22viewDirPS'+'\x22\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_GGX_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirAni'+'soPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22reflDirP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20f'+'unctionali')+('ty\x0a#includ'+'e\x20\x22lightin'+'gPS\x22\x0a\x0a'),DD='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',ID='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',LD='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a#endif'+'\x0a\x0a#ifdef\x20N'+'INESLICED\x0a'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vMask:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20varying\x20v'+'TiledUv:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dMaskG'+'lobal:\x20vec'+'2f;\x0a\x20\x20\x20\x20va'+'r<private>'+'\x20dTiledUvG'+'lobal:\x20vec'+'2f;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'uterScale:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'atlasRect:'+'\x20vec4f;\x0a\x0a#'+'endif\x0a\x0avar'+'<private>\x20'+'dPositionW'+':\x20vec3f;\x0av'+'ar<private'+'>\x20dModelMa'+'trix:\x20mat4'+'x4f;\x0a\x0a#inc'+'lude\x20\x22tran'+'sformCoreV'+'S\x22\x0a\x0a#ifdef'+'\x20UV0\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ertex_texC'+'oord0:\x20vec'+'2f;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'rtex_texCo'+'ord1:\x20vec2'+'f;\x0a\x20\x20\x20\x20#in'+'clude\x20\x22uv1'+'VS\x22\x0a#endif'+'\x0a\x0a\x0a#ifdef\x20'+'LINEAR_DEP'+'TH\x0a\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'#define\x20VI'+'EWMATRIX\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22tran'+'sformVS\x22\x0a\x0a'+'#ifdef\x20NOR'+'MALS\x0a\x20\x20\x20\x20#'+'include\x20\x22n'+'ormalCoreV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malVS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20TANGENTS'+'\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_tangent:'+'\x20vec4f;\x0a#e'+'ndif\x0a\x0a//\x20e'+'xpand\x20unif'+'orms\x20for\x20u'+'v\x20transfor'+'ms\x0a#includ'+'e\x20\x22uvTrans'+'formUnifor'+'msPS,\x20UV_T'+'RANSFORMS_'+('COUNT\x22\x0a\x0a#i'+'fdef\x20MSDF\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22msdfVS'+'\x22\x0a#endif\x0a\x0a'+'#include\x20\x20'+'\x22litUserCo'+'deVS\x22\x0a\x0a@ve'+'rtex\x0afn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'MainStartV'+'S\x22\x0a\x0a\x20\x20\x20\x20va'+'r\x20output\x20:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20get'+'Position()'+';\x0a\x20\x20\x20\x20outp'+'ut.vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20NO'+'RMALS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vNormalW\x20'+'=\x20getNorma'+'l();\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TA'+'NGENTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vTangent'+'W\x20=\x20normal'+'ize(dNorma'+'lMatrix\x20*\x20'+'vertex_tan'+'gent.xyz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vBin'+'ormalW\x20=\x20c'+'ross(outpu'+'t.vNormalW'+',\x20output.v'+'TangentW)\x20'+'*\x20vertex_t'+'angent.w;\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(GG'+'X_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20UV0'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f\x20=\x20getU'+'v0();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20UV0_UNMOD'+'IFIED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20uv1:\x20vec2'+'f\x20=\x20getUv1'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20U'+'V1_UNMODIF'+'IED\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.vUv1\x20=\x20'+'uv1;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'xpand\x20code'+'\x20for\x20uv\x20tr'+'ansforms\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22uvTrans')+('formVS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20VERTEX_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition'+',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-(uniform'+'.matrix_vi'+'ew\x20*\x20vec4f'+'(output.vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MSDF\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unpac'+'kMsdfParam'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.outline_c'+'olor\x20=\x20dOu'+'tlineColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.out'+'line_thick'+'ness\x20=\x20dOu'+'tlineThick'+'ness;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.shadow_co'+'lor\x20=\x20dSha'+'dowColor;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.shado'+'w_offset\x20='+'\x20dShadowOf'+'fset;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vMask'+'\x20=\x20dMaskGl'+'obal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vTiledUv\x20'+'=\x20dTiledUv'+'Global;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndVS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),RD='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20evaluateF'+'rontend();'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20getP'+'ickOutput('+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20float2ve'+'c4(vLinear'+'Depth);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndPS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',OD='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avar<priva'+'te>\x20litArg'+'s_albedo:\x20'+'vec3f;\x0a\x0a//'+'\x20Transpare'+'ncy\x0avar<pr'+'ivate>\x20lit'+'Args_opaci'+'ty:\x20f32;\x0a\x0a'+'//\x20Emissio'+'n\x20color\x0ava'+'r<private>'+'\x20litArgs_e'+'mission:\x20v'+'ec3f;\x0a\x0a//\x20'+'Normal\x20dir'+'ection\x20in\x20'+'world\x20spac'+'e\x0avar<priv'+'ate>\x20litAr'+'gs_worldNo'+'rmal:\x20vec3'+'f;\x0a\x0a//\x20Amb'+'ient\x20occlu'+'sion\x20amoun'+'t,\x20range\x20['+'0..1]\x0avar<'+'private>\x20l'+'itArgs_ao:'+'\x20f32;\x0a\x0a//\x20'+'Light\x20map\x20'+'color\x0avar<'+'private>\x20l'+'itArgs_lig'+'htmap:\x20vec'+'3f;\x0a\x0a//\x20Li'+'ght\x20map\x20di'+'rection\x0ava'+'r<private>'+'\x20litArgs_l'+'ightmapDir'+':\x20vec3f;\x0a\x0a'+'//\x20Surface'+'\x20metalness'+'\x20factor,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_metalne'+'ss:\x20f32;\x0a\x0a'+'//\x20The\x20f0\x20'+'specularit'+'y\x20factor\x0av'+'ar<private'+'>\x20litArgs_'+'specularit'+'y:\x20vec3f;\x0a'+'\x0a//\x20Specul'+'arity\x20inte'+'nsity\x20fact'+'or,\x20range\x20'+'[0..1]\x0avar'+'<private>\x20'+'litArgs_sp'+'ecularityF'+'actor:\x20f32'+';\x0a\x0a//\x20The\x20'+'microfacet'+'\x20glossines'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0avar<pri'+'vate>\x20litA'+'rgs_gloss:'+'\x20f32;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_sheen'+'_gloss:\x20f3'+'2;\x0a\x0a//\x20The'+'\x20color\x20of\x20'+'the\x20f0\x20spe'+'cularity\x20f'+'actor\x20for\x20'+'the\x20sheen\x20'+'layer\x0avar<'+'private>\x20l'+'itArgs_she'+'en_specula'+'rity:\x20vec3'+'f;\x0a\x0a//\x20Tra'+'nsmission\x20'+'factor\x20(re'+('fraction),'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_trans'+'mission:\x20f'+'32;\x0a\x0a//\x20Un'+'iform\x20thic'+'kness\x20of\x20m'+'edium,\x20use'+'d\x20by\x20trans'+'mission,\x20r'+'ange\x20[0..i'+'nf]\x0avar<pr'+'ivate>\x20lit'+'Args_thick'+'ness:\x20f32;'+'\x0a\x0a//\x20Index'+'\x20of\x20refrac'+'tion\x0avar<p'+'rivate>\x20li'+'tArgs_ior:'+'\x20f32;\x0a\x0a//\x20'+'Dispersion'+',\x20range\x20[0'+'..1]\x20typic'+'ally,\x20but\x20'+'can\x20be\x20hig'+'her\x0avar<pr'+'ivate>\x20lit'+'Args_dispe'+'rsion:\x20f32'+';\x0a\x0a//\x20Irid'+'escence\x20ef'+'fect\x20inten'+'sity,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'iridescenc'+'e_intensit'+'y:\x20f32;\x0a\x0a/'+'/\x20Thicknes'+'s\x20of\x20the\x20i'+'ridescent\x20'+'microfilm\x20'+'layer,\x20val'+'ue\x20is\x20in\x20n'+'anometers,'+'\x20range\x20[0.'+'.1000]\x0avar'+'<private>\x20'+'litArgs_ir'+'idescence_'+'thickness:'+'\x20f32;\x0a\x0a//\x20'+'The\x20normal'+'\x20used\x20for\x20'+'the\x20clearc'+'oat\x20layer\x0a'+'var<privat'+'e>\x20litArgs'+'_clearcoat'+'_worldNorm'+'al:\x20vec3f;'+'\x0a\x0a//\x20Inten'+'sity\x20of\x20th'+'e\x20clearcoa'+'t\x20layer,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_clearco'+'at_specula'+'rity:\x20f32;'+'\x0a\x0a//\x20Gloss'+'iness\x20of\x20c'+'learcoat\x20l'+'ayer,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'clearcoat_'+'gloss:\x20f32'+';\x0a\x0a'),FD='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20t'+'extureBias'+':\x20f32\x20=\x20-1'+'000.0;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20texture'+'Bias:\x20f32;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ShaderArgs'+'PS\x22\x0a',ND='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20view_p'+'osition:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20li'+'ght_radius'+':\x20f32;\x0a#en'+'dif\x0a\x0a#if\x20S'+'HADOW_TYPE'+'\x20==\x20PCSS_3'+'2F\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lin'+'earizeDept'+'hPS\x22\x0a#endi'+'f\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serMainSta'+'rtPS\x22\x0a\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20/'+'/\x20using\x20no'+'n-standard'+'\x20depth,\x20i.'+'e\x20gl_FragC'+'oord.z\x0a\x20\x20\x20'+'\x20#ifdef\x20PE'+'RSPECTIVE_'+'DEPTH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20de'+'pth:\x20f32\x20='+'\x20input.pos'+'ition.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20PCS'+'S_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot/omni'+'\x20shadows\x20c'+'urrently\x20u'+'se\x20linear\x20'+'depth.\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20TODO:\x20us'+'e\x20perspect'+'ive\x20depth\x20'+'for\x20spot/o'+'mni\x20the\x20sa'+'me\x20way\x20as\x20'+'directiona'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT_TYPE\x20!'+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'depth\x20=\x20li'+'nearizeDep'+'thWithPara'+'ms(depth,\x20'+'camera_par'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20depth:\x20'+'f32\x20=\x20min('+'distance(u'+'niform.vie'+'w_position'+',\x20input.vP'+'ositionW)\x20'+'/\x20uniform.'+'light_radi'+'us,\x200.9999'+'9);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'MODIFIED_D'+'EPTH\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SHADO'+'W_TYPE\x20==\x20'+'VSM_16F\x20||'+'\x20SHADOW_TY'+('PE\x20==\x20VSM_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20SHAD'+'OW_TYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20expon'+'ent:\x20f32\x20='+'\x2015.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20exp'+'onent:\x20f32'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dep'+'th_vsm\x20=\x202'+'.0\x20*\x20depth'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dept'+'h_vsm\x20=\x20ex'+'p(exponent'+'\x20*\x20depth_v'+'sm);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(depth_'+'vsm,\x20depth'+'_vsm\x20*\x20dep'+'th_vsm,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20PCSS'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(de'+'pth,\x200.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MODIFI'+'ED_DEPTH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20If'+'\x20we\x20end\x20up'+'\x20using\x20mod'+'ified\x20dept'+'h,\x20it\x20need'+'s\x20to\x20be\x20ex'+'plicitly\x20w'+'ritten\x20to\x20'+'gl_FragDep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.frag'+'Depth\x20=\x20de'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'just\x20the\x20s'+'implest\x20co'+'de,\x20color\x20'+'is\x20not\x20wri'+'tten\x20anywa'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),kD='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0afn\x20'+'LTC_Uv(N:\x20'+'vec3f,\x20V:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20co'+'nst\x20LUT_SI'+'ZE:\x20f32\x20=\x20'+'64.0;\x0a\x20\x20\x20\x20'+'const\x20LUT_'+'SCALE:\x20f32'+'\x20=\x20(LUT_SI'+'ZE\x20-\x201.0)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_BIAS'+':\x20f32\x20=\x200.'+'5\x20/\x20LUT_SI'+'ZE;\x0a\x20\x20\x20\x20le'+'t\x20dotNV:\x20f'+'32\x20=\x20satur'+'ate(dot(\x20N'+',\x20V\x20));\x0a\x20\x20'+'\x20\x20//\x20textu'+'re\x20paramet'+'erized\x20by\x20'+'sqrt(\x20GGX\x20'+'alpha\x20)\x20an'+'d\x20sqrt(\x201\x20'+'-\x20cos(\x20the'+'ta\x20)\x20)\x0a\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20vec'+'2f(\x20roughn'+'ess,\x20sqrt('+'\x201.0\x20-\x20dot'+'NV\x20)\x20);\x0a\x20\x20'+'\x20\x20return\x20u'+'v\x20*\x20LUT_SC'+'ALE\x20+\x20LUT_'+'BIAS;\x0a}\x0a\x0af'+'n\x20LTC_Clip'+'pedSphereF'+'ormFactor('+'\x20f:\x20vec3f\x20'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20//\x20Re'+'al-Time\x20Ar'+'ea\x20Lightin'+'g:\x20a\x20Journ'+'ey\x20from\x20Re'+'search\x20to\x20'+'Production'+'\x20(p.102)\x0a\x20'+'\x20\x20\x20//\x20An\x20a'+'pproximati'+'on\x20of\x20the\x20'+'form\x20facto'+'r\x20of\x20a\x20hor'+'izon-clipp'+'ed\x20rectang'+'le.\x0a\x20\x20\x20\x20le'+'t\x20l:\x20f32\x20='+'\x20length(\x20f'+'\x20);\x0a\x20\x20\x20\x20re'+'turn\x20max(\x20'+'(\x20l\x20*\x20l\x20+\x20'+'f.z\x20)\x20/\x20(\x20'+'l\x20+\x201.0\x20),'+'\x200.0\x20);\x0a}\x0a'+'\x0afn\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'v1:\x20vec3f,'+'\x20v2:\x20vec3f'+'\x20)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20x:\x20f32\x20='+'\x20dot(\x20v1,\x20'+'v2\x20);\x0a\x20\x20\x20\x20'+'let\x20y:\x20f32'+('\x20=\x20abs(\x20x\x20'+');\x0a\x20\x20\x20\x20//\x20'+'rational\x20p'+'olynomial\x20'+'approximat'+'ion\x20to\x20the'+'ta\x20/\x20sin(\x20'+'theta\x20)\x20/\x20'+'2PI\x0a\x20\x20\x20\x20le'+'t\x20a:\x20f32\x20='+'\x200.8543985'+'\x20+\x20(\x200.496'+'5155\x20+\x200.0'+'145206\x20*\x20y'+'\x20)\x20*\x20y;\x0a\x20\x20'+'\x20\x20let\x20b:\x20f'+'32\x20=\x203.417'+'5940\x20+\x20(\x204'+'.1616724\x20+'+'\x20y\x20)\x20*\x20y;\x0a'+'\x20\x20\x20\x20let\x20v:'+'\x20f32\x20=\x20a\x20/'+'\x20b;\x0a\x20\x20\x20\x20le'+'t\x20inv_sqrt'+'_term\x20=\x20in'+'verseSqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7f\x20)\x20);\x0a'+'\x20\x20\x20\x20let\x20th'+'eta_sinthe'+'ta:\x20f32\x20=\x20'+'select(\x20(0'+'.5\x20*\x20inv_s'+'qrt_term\x20-'+'\x20v),\x20v,\x20x\x20'+'>\x200.0\x20);\x0a\x20'+'\x20\x20\x20return\x20'+'cross(\x20v1,'+'\x20v2\x20)\x20*\x20th'+'eta_sinthe'+'ta;\x0a}\x0a\x0astr'+'uct\x20Coords'+'\x20{\x0a\x20\x20\x20\x20coo'+'rd0:\x20vec3f'+',\x0a\x20\x20\x20\x20coor'+'d1:\x20vec3f,'+'\x0a\x20\x20\x20\x20coord'+'2:\x20vec3f,\x0a'+'\x20\x20\x20\x20coord3'+':\x20vec3f,\x0a}'+'\x0a\x0afn\x20LTC_E'+'valuateRec'+'t(\x20N:\x20vec3'+'f,\x20V:\x20vec3'+'f,\x20P:\x20vec3'+'f,\x20mInv:\x20m'+'at3x3f,\x20re'+'ctCoords:\x20'+'Coords)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20//\x20bail\x20i'+'f\x20point\x20is'+'\x20on\x20back\x20s'+'ide\x20of\x20pla'+'ne\x20of\x20ligh'+'t\x0a\x20\x20\x20\x20//\x20a'+'ssumes\x20ccw'+'\x20winding\x20o'+'rder\x20of\x20li'+'ght\x20vertic'+'es\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec3f'+'\x20=\x20rectCoo'+'rds.coord1'+'\x20-\x20rectCoo'+'rds.coord0'+';\x0a\x20\x20\x20\x20let\x20'+'v2:\x20vec3f\x20'+'=\x20rectCoor'+'ds.coord3\x20'+'-\x20rectCoor'+'ds.coord0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'lightNorma'+'l:\x20vec3f\x20='+'\x20cross(\x20v1'+',\x20v2\x20);\x0a\x20\x20'+'\x20\x20let\x20fact'+'or:\x20f32\x20=\x20'+'sign(-dot('+'\x20lightNorm'+'al,\x20P\x20-\x20re'+'ctCoords.c'+'oord0\x20));\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'nstruct\x20or'+'thonormal\x20'+'basis\x20arou'+'nd\x20N\x0a\x20\x20\x20\x20l')+('et\x20T1:\x20vec'+'3f\x20=\x20norma'+'lize(\x20V\x20-\x20'+'N\x20*\x20dot(\x20V'+',\x20N\x20)\x20);\x0a\x20'+'\x20\x20\x20let\x20T2:'+'\x20vec3f\x20=\x20f'+'actor\x20*\x20cr'+'oss(\x20N,\x20T1'+'\x20);\x20//\x20neg'+'ated\x20from\x20'+'paper;\x20pos'+'sibly\x20due\x20'+'to\x20a\x20diffe'+'rent\x20hande'+'dness\x20of\x20w'+'orld\x20coord'+'inate\x20syst'+'em\x0a\x20\x20\x20\x20//\x20'+'compute\x20tr'+'ansform\x0a\x20\x20'+'\x20\x20let\x20mat:'+'\x20mat3x3f\x20='+'\x20mInv\x20*\x20tr'+'anspose(\x20m'+'at3x3f(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'transform\x20'+'rect\x0a\x20\x20\x20\x20v'+'ar\x20coords:'+'\x20array<vec'+'3f,\x204>;\x0a\x20\x20'+'\x20\x20coords[0'+']\x20=\x20mat\x20*\x20'+'(\x20rectCoor'+'ds.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20coords[1]'+'\x20=\x20mat\x20*\x20('+'\x20rectCoord'+'s.coord1\x20-'+'\x20P\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20mat\x20*\x20(\x20'+'rectCoords'+'.coord2\x20-\x20'+'P\x20);\x0a\x20\x20\x20\x20c'+'oords[3]\x20='+'\x20mat\x20*\x20(\x20r'+'ectCoords.'+'coord3\x20-\x20P'+'\x20);\x0a\x20\x20\x20\x20//'+'\x20project\x20r'+'ect\x20onto\x20s'+'phere\x0a\x20\x20\x20\x20'+'coords[0]\x20'+'=\x20normaliz'+'e(\x20coords['+'0]\x20);\x0a\x20\x20\x20\x20'+'coords[1]\x20'+'=\x20normaliz'+'e(\x20coords['+'1]\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20normaliz'+'e(\x20coords['+'2]\x20);\x0a\x20\x20\x20\x20'+'coords[3]\x20'+'=\x20normaliz'+'e(\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20vector\x20'+'form\x20facto'+'r\x0a\x20\x20\x20\x20var\x20'+'vectorForm'+'Factor:\x20ve'+'c3f\x20=\x20vec3'+'f(\x200.0\x20);\x0a'+'\x20\x20\x20\x20vector'+'FormFactor'+'\x20=\x20vectorF'+'ormFactor\x20'+'+\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[0],\x20c'+'oords[1]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20=\x20vecto'+'rFormFacto'+'r\x20+\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'coords[1],'+'\x20coords[2]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa')+('ctor\x20=\x20vec'+'torFormFac'+'tor\x20+\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[2'+'],\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20=\x20v'+'ectorFormF'+'actor\x20+\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[3],\x20coord'+'s[0]\x20);\x0a\x20\x20'+'\x20\x20//\x20adjus'+'t\x20for\x20hori'+'zon\x20clippi'+'ng\x0a\x20\x20\x20\x20let'+'\x20result:\x20f'+'32\x20=\x20LTC_C'+'lippedSphe'+'reFormFact'+'or(\x20vector'+'FormFactor'+'\x20);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20resu'+'lt;\x0a}\x0a\x0avar'+'<private>\x20'+'dLTCCoords'+':\x20Coords;\x0a'+'fn\x20getLTCL'+'ightCoords'+'(lightPos:'+'\x20vec3f,\x20ha'+'lfWidth:\x20v'+'ec3f,\x20half'+'Height:\x20ve'+'c3f)\x20->\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20var\x20coord'+'s:\x20Coords;'+'\x0a\x20\x20\x20\x20coord'+'s.coord0\x20='+'\x20lightPos\x20'+'+\x20halfWidt'+'h\x20-\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd1\x20=\x20ligh'+'tPos\x20-\x20hal'+'fWidth\x20-\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20coord'+'s.coord2\x20='+'\x20lightPos\x20'+'-\x20halfWidt'+'h\x20+\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd3\x20=\x20ligh'+'tPos\x20+\x20hal'+'fWidth\x20+\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20retur'+'n\x20coords;\x0a'+'}\x0a\x0avar<pri'+'vate>\x20dSph'+'ereRadius:'+'\x20f32;\x0afn\x20g'+'etSphereLi'+'ghtCoords('+'lightPos:\x20'+'vec3f,\x20hal'+'fWidth:\x20ve'+'c3f,\x20halfH'+'eight:\x20vec'+'3f)\x20->\x20Coo'+'rds\x20{\x0a\x20\x20\x20\x20'+'//\x20used\x20fo'+'r\x20simple\x20s'+'phere\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20//\x20als'+'o,\x20the\x20cod'+'e\x20only\x20han'+'dles\x20a\x20sph'+'erical\x20lig'+'ht,\x20it\x20can'+'not\x20be\x20non'+'-uniformly'+'\x20scaled\x20in'+'\x20world\x20spa'+'ce,\x20and\x20so'+'\x20we\x20enforc'+'e\x20it\x20here\x0a'+'\x20\x20\x20\x20dSpher'+'eRadius\x20=\x20')+('max(length'+'(halfWidth'+'),\x20length('+'halfHeight'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20Billboar'+'d\x20the\x202d\x20l'+'ight\x20quad\x20'+'to\x20reflect'+'ion\x20vector'+',\x20as\x20it\x27s\x20'+'used\x20for\x20s'+'pecular.\x20T'+'his\x20allows'+'\x20us\x20to\x20use'+'\x20disk\x20math'+'\x20for\x20the\x20s'+'phere.\x0a\x20\x20\x20'+'\x20let\x20f:\x20ve'+'c3f\x20=\x20refl'+'ect(normal'+'ize(lightP'+'os\x20-\x20unifo'+'rm.view_po'+'sition),\x20v'+'NormalW);\x0a'+'\x20\x20\x20\x20let\x20w:'+'\x20vec3f\x20=\x20n'+'ormalize(c'+'ross(f,\x20ha'+'lfHeight))'+';\x0a\x20\x20\x20\x20let\x20'+'h:\x20vec3f\x20='+'\x20normalize'+'(cross(f,\x20'+'w));\x0a\x0a\x20\x20\x20\x20'+'return\x20get'+'LTCLightCo'+'ords(light'+'Pos,\x20w\x20*\x20d'+'SphereRadi'+'us,\x20h\x20*\x20dS'+'phereRadiu'+'s);\x0a}\x0a\x0a//\x20'+'used\x20for\x20L'+'TC\x20LUT\x20tex'+'ture\x20looku'+'p\x0avar<priv'+'ate>\x20dLTCU'+'V:\x20vec2f;\x0a'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20var<p'+'rivate>\x20cc'+'LTCUV:\x20vec'+'2f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightUV(g'+'loss:\x20f32,'+'\x20worldNorm'+'al:\x20vec3f,'+'\x20viewDir:\x20'+'vec3f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20roug'+'hness:\x20f32'+'\x20=\x20max((1.'+'0\x20-\x20gloss)'+'\x20*\x20(1.0\x20-\x20'+'gloss),\x200.'+'001);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_Uv(\x20world'+'Normal,\x20vi'+'ewDir,\x20rou'+'ghness\x20);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20energ'+'y\x20conserva'+'tion\x20and\x20t'+'o\x20modulate'+'\x20specular\x0a'+'var<privat'+'e>\x20dLTCSpe'+'cFres:\x20vec'+'3f;\x0a#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20v'+'ar<private'+'>\x20ccLTCSpe'+'cFres:\x20vec'+'3f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightSpec'+'Fres(uv:\x20v'+'ec2f,\x20spec'+'ularity:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20t2:\x20v')+('ec4f\x20=\x20tex'+'tureSample'+'Level(area'+'LightsLutT'+'ex2,\x20areaL'+'ightsLutTe'+'x2Sampler,'+'\x20uv,\x200.0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20specular'+'ity\x20*\x20t2.x'+'\x20+\x20(\x20vec3f'+'(\x201.0\x20)\x20-\x20'+'specularit'+'y)\x20*\x20t2.y;'+'\x0a}\x0a\x0afn\x20cal'+'cLTCLightV'+'alues(glos'+'s:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f,\x20specul'+'arity:\x20vec'+'3f,\x20clearc'+'oatGloss:\x20'+'f32,\x20clear'+'coatWorldN'+'ormal:\x20vec'+'3f,\x20clearc'+'oatSpecula'+'rity:\x20f32)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'UV\x20=\x20getLT'+'CLightUV(c'+'learcoatGl'+'oss,\x20clear'+'coatWorldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'SpecFres\x20='+'\x20getLTCLig'+'htSpecFres'+'(ccLTCUV,\x20'+'vec3f(clea'+'rcoatSpecu'+'larity));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0afn\x20cal'+'cDiskLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20cal'+'cRectLight'+'Values(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0afn\x20calc'+'SphereLigh'+'tValues(li'+'ghtPos:\x20ve'+'c3f,\x20halfW'+'idth:\x20vec3'+'f,\x20halfHei')+('ght:\x20vec3f'+')\x20{\x0a\x20\x20\x20\x20dL'+'TCCoords\x20='+'\x20getSphere'+'LightCoord'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0a\x0a/'+'/\x20An\x20exten'+'ded\x20versio'+'n\x20of\x20the\x20i'+'mplementat'+'ion\x20from\x20\x22'+'How\x20to\x20sol'+'ve\x20a\x20cubic'+'\x20equation,'+'\x20revisited'+'\x22\x0a//\x20http:'+'//momentsi'+'ngraphics.'+'de/?p=105\x0a'+'fn\x20SolveCu'+'bic(Coeffi'+'cient_in:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20pi:\x20'+'f32\x20=\x203.14'+'159;\x0a\x20\x20\x20\x20v'+'ar\x20Coeffic'+'ient\x20=\x20Coe'+'fficient_i'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t\x20=\x20vec4f('+'Coefficien'+'t.xyz\x20/\x20Co'+'efficient.'+'w,\x20Coeffic'+'ient.w);\x0a\x0a'+'\x20\x20\x20\x20//\x20Div'+'ide\x20middle'+'\x20coefficie'+'nts\x20by\x20thr'+'ee\x0a\x20\x20\x20\x20let'+'\x20new_yz:\x20v'+'ec2f\x20=\x20Coe'+'fficient.y'+'z\x20/\x203.0;\x0a\x20'+'\x20\x20\x20Coeffic'+'ient\x20=\x20vec'+'4f(Coeffic'+'ient.x,\x20ne'+'w_yz.x,\x20ne'+'w_yz.y,\x20Co'+'efficient.'+'w);\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20let\x20A:\x20'+'f32\x20=\x20Coef'+'ficient.w;'+'\x0a\x20\x20\x20\x20let\x20B'+':\x20f32\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20let'+'\x20C:\x20f32\x20=\x20'+'Coefficien'+'t.y;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20Coeffici'+'ent.x;\x0a\x0a\x20\x20'+'\x20\x20//\x20Compu'+'te\x20the\x20Hes'+'sian\x20and\x20t'+'he\x20discrim'+'inant\x0a\x20\x20\x20\x20'+'let\x20Delta:'+'\x20vec3f\x20=\x20v'+'ec3f(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20-Coeff'+'icient.z\x20*'+'\x20Coefficie'+'nt.z\x20+\x20Coe'+'fficient.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'-Coefficie'+'nt.y\x20*\x20Coe'+'fficient.z'+'\x20+\x20Coeffic'+'ient.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'vec2f(Coef'+'ficient.z,'+'\x20-Coeffici'+'ent.y),\x20Co'+'efficient.'+'xy)\x0a\x20\x20\x20\x20);')+('\x0a\x0a\x20\x20\x20\x20let\x20'+'Discrimina'+'nt:\x20f32\x20=\x20'+'dot(vec2f('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20var\x20xlc:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20var\x20xsc:'+'\x20vec2f;\x0a\x0a\x20'+'\x20\x20\x20//\x20Algo'+'rithm\x20A\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20A_a:'+'\x20f32\x20=\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_a:\x20f'+'32\x20=\x20Delta'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_a:'+'\x20f32\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20Theta:\x20f'+'32\x20=\x20atan2'+'(sqrt(Disc'+'riminant),'+'\x20-D_a)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sqr'+'t_neg_Ca\x20='+'\x20sqrt(-C_a'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20x_1a:'+'\x20f32\x20=\x202.0'+'\x20*\x20sqrt_ne'+'g_Ca\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x_3a:\x20f32'+'\x20=\x202.0\x20*\x20s'+'qrt_neg_Ca'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20xl:'+'\x20f32\x20=\x20sel'+'ect(x_3a,\x20'+'x_1a,\x20(x_1'+'a\x20+\x20x_3a)\x20'+'>\x202.0\x20*\x20B)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xlc\x20=\x20vec2'+'f(xl\x20-\x20B,\x20'+'A);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Al'+'gorithm\x20D\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20A_'+'d:\x20f32\x20=\x20D'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_d:\x20f'+'32\x20=\x20Delta'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_d:'+'\x20f32\x20=\x20-D\x20'+'*\x20Delta.y\x20'+'+\x202.0\x20*\x20C\x20'+'*\x20Delta.z;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Take\x20th'+'e\x20cubic\x20ro'+'ot\x20of\x20a\x20no'+'rmalized\x20c'+'omplex\x20num'+'ber\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20Thet'+'a:\x20f32\x20=\x20a'+'tan2(D\x20*\x20s'+'qrt(Discri'+'minant),\x20-'+'D_d)\x20/\x203.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20sqrt_'+'neg_Cd\x20=\x20s'+'qrt(-C_d);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20x_1d:\x20f'+'32\x20=\x202.0\x20*')+('\x20sqrt_neg_'+'Cd\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20x'+'_3d:\x20f32\x20='+'\x202.0\x20*\x20sqr'+'t_neg_Cd\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20xs:\x20f'+'32\x20=\x20selec'+'t(x_3d,\x20x_'+'1d,\x20x_1d\x20+'+'\x20x_3d\x20<\x202.'+'0\x20*\x20C);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xsc\x20'+'=\x20vec2f(-D'+',\x20xs\x20+\x20C);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20let\x20E:\x20f'+'32\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20let\x20F'+':\x20f32\x20=\x20-x'+'lc.x\x20*\x20xsc'+'.y\x20-\x20xlc.y'+'\x20*\x20xsc.x;\x0a'+'\x20\x20\x20\x20let\x20G:'+'\x20f32\x20=\x20\x20xl'+'c.x\x20*\x20xsc.'+'x;\x0a\x0a\x20\x20\x20\x20le'+'t\x20xmc:\x20vec'+'2f\x20=\x20vec2f'+'(C\x20*\x20F\x20-\x20B'+'\x20*\x20G,\x20-B\x20*'+'\x20F\x20+\x20C\x20*\x20E'+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20Root:\x20ve'+'c3f\x20=\x20vec3'+'f(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root\x20=\x20'+'Root.yxz;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root\x20=\x20Ro'+'ot.xzy;\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20Root;'+'\x0a}\x0a\x0afn\x20LTC'+'_EvaluateD'+'isk(N:\x20vec'+'3f,\x20V:\x20vec'+'3f,\x20P:\x20vec'+'3f,\x20Minv:\x20'+'mat3x3f,\x20p'+'oints:\x20Coo'+'rds)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20let\x20T1:\x20'+'vec3f\x20=\x20no'+'rmalize(V\x20'+'-\x20N\x20*\x20dot('+'V,\x20N));\x0a\x20\x20'+'\x20\x20let\x20T2:\x20'+'vec3f\x20=\x20cr'+'oss(N,\x20T1)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'rotate\x20are'+'a\x20light\x20in'+'\x20(T1,\x20T2,\x20'+'N)\x20basis\x0a\x20'+'\x20\x20\x20let\x20R:\x20'+'mat3x3f\x20=\x20'+'transpose('+'\x20mat3x3f(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20polygon\x20'+'(allocate\x20'+'5\x20vertices'+'\x20for\x20clipp')+('ing\x0a\x20\x20\x20\x20va'+'r\x20L_:\x20arra'+'y<vec3f,\x203'+'>;\x0a\x20\x20\x20\x20L_['+'0]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[1'+']\x20=\x20R\x20*\x20(\x20'+'points.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20L_[2]'+'\x20=\x20R\x20*\x20(\x20p'+'oints.coor'+'d2\x20-\x20P\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'it\x20ellipse'+'\x0a\x20\x20\x20\x20let\x20C'+':\x20vec3f\x20\x20='+'\x200.5\x20*\x20(L_'+'[0]\x20+\x20L_[2'+']);\x0a\x20\x20\x20\x20va'+'r\x20V1:\x20vec3'+'f\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[2]);\x0a\x20\x20\x20'+'\x20var\x20V2:\x20v'+'ec3f\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[0]);\x0a'+'\x0a\x20\x20\x20\x20let\x20C'+'_Minv:\x20vec'+'3f\x20\x20=\x20Minv'+'\x20*\x20C;\x0a\x20\x20\x20\x20'+'let\x20V1_Min'+'v:\x20vec3f\x20='+'\x20Minv\x20*\x20V1'+';\x0a\x20\x20\x20\x20let\x20'+'V2_Minv:\x20v'+'ec3f\x20=\x20Min'+'v\x20*\x20V2;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20var\x20a:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20b:\x20f32;\x0a'+'\x20\x20\x20\x20let\x20d1'+'1:\x20f32\x20=\x20d'+'ot(V1_Minv'+',\x20V1_Minv)'+';\x0a\x20\x20\x20\x20let\x20'+'d22:\x20f32\x20='+'\x20dot(V2_Mi'+'nv,\x20V2_Min'+'v);\x0a\x20\x20\x20\x20le'+'t\x20d12:\x20f32'+'\x20=\x20dot(V1_'+'Minv,\x20V2_M'+'inv);\x0a\x20\x20\x20\x20'+'if\x20(abs(d1'+'2)\x20/\x20sqrt('+'d11\x20*\x20d22)'+'\x20>\x200.0001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20tr:\x20f'+'32\x20=\x20d11\x20+'+'\x20d22;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'t_inner:\x20f'+'32\x20=\x20-d12\x20'+'*\x20d12\x20+\x20d1'+'1\x20*\x20d22;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20det:\x20f32\x20'+'=\x20sqrt(det'+'_inner);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20u:\x20f32\x20=\x20'+'0.5\x20*\x20sqrt'+'(tr\x20-\x202.0\x20'+'*\x20det);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'v:\x20f32\x20=\x200'+'.5\x20*\x20sqrt('+'tr\x20+\x202.0\x20*'+'\x20det);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20e'+'_max:\x20f32\x20'+'=\x20(u\x20+\x20v)\x20'+'*\x20(u\x20+\x20v);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20e_min:\x20'+'f32\x20=\x20(u\x20-'+'\x20v)\x20*\x20(u\x20-'+'\x20v);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20V1'+'_:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va')+('r\x20V2_:\x20vec'+'3f;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(d11'+'\x20>\x20d22)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V1_\x20=\x20d1'+'2\x20*\x20V1_Min'+'v\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2_Minv;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20V2_\x20=\x20d12'+'\x20*\x20V1_Minv'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2_Minv;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12*V2_'+'Minv\x20+\x20(e_'+'max\x20-\x20d22)'+'*V1_Minv;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V2_\x20=\x20d1'+'2*V2_Minv\x20'+'+\x20(e_min\x20-'+'\x20d22)*V1_M'+'inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20e_max;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20b'+'\x20=\x201.0\x20/\x20e'+'_min;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20V1\x20=\x20n'+'ormalize(V'+'1_);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20V2\x20=\x20no'+'rmalize(V2'+'_);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1_Minv,\x20V1'+'_Minv);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2_Minv,\x20V'+'2_Minv);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'=\x20V1_Minv\x20'+'*\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20=\x20V2_Min'+'v\x20*\x20sqrt(b'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20V3'+':\x20vec3f\x20=\x20'+'normalize('+'cross(V1,\x20'+'V2));\x0a\x20\x20\x20\x20'+'if\x20(dot(C_'+'Minv,\x20V3)\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V3\x20'+'=\x20V3\x20*\x20-1.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20let\x20L:'+'\x20f32\x20\x20=\x20do'+'t(V3,\x20C_Mi'+'nv);\x0a\x20\x20\x20\x20l'+'et\x20x0:\x20f32'+'\x20=\x20dot(V1,'+'\x20C_Minv)\x20/'+'\x20L;\x0a\x20\x20\x20\x20le'+'t\x20y0:\x20f32\x20'+'=\x20dot(V2,\x20'+'C_Minv)\x20/\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20E1:\x20f32\x20'+'=\x20inverseS'+'qrt(a);\x0a\x20\x20'+'\x20\x20let\x20E2:\x20'+'f32\x20=\x20inve'+'rseSqrt(b)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20a_scaled\x20'+'=\x20a\x20*\x20L\x20*\x20'+'L;\x0a\x20\x20\x20\x20let'+'\x20b_scaled\x20'+'=\x20b\x20*\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20c0:\x20f32\x20'+'=\x20a_scaled'+'\x20*\x20b_scale'+'d;\x0a\x20\x20\x20\x20let'+'\x20c1:\x20f32\x20='+'\x20a_scaled\x20'+'*\x20b_scaled')+('\x20*\x20(1.0\x20+\x20'+'x0\x20*\x20x0\x20+\x20'+'y0\x20*\x20y0)\x20-'+'\x20a_scaled\x20'+'-\x20b_scaled'+';\x0a\x20\x20\x20\x20let\x20'+'c2:\x20f32\x20=\x20'+'1.0\x20-\x20a_sc'+'aled\x20*\x20(1.'+'0\x20+\x20x0\x20*\x20x'+'0)\x20-\x20b_sca'+'led\x20*\x20(1.0'+'\x20+\x20y0\x20*\x20y0'+');\x0a\x20\x20\x20\x20let'+'\x20c3:\x20f32\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20let\x20roots'+':\x20vec3f\x20=\x20'+'SolveCubic'+'(vec4f(c0,'+'\x20c1,\x20c2,\x20c'+'3));\x0a\x20\x20\x20\x20l'+'et\x20e1:\x20f32'+'\x20=\x20roots.x'+';\x0a\x20\x20\x20\x20let\x20'+'e2:\x20f32\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20let\x20e3:'+'\x20f32\x20=\x20roo'+'ts.z;\x0a\x0a\x20\x20\x20'+'\x20var\x20avgDi'+'r:\x20vec3f\x20='+'\x20vec3f(a_s'+'caled\x20*\x20x0'+'\x20/\x20(a_scal'+'ed\x20-\x20e2),\x20'+'b_scaled\x20*'+'\x20y0\x20/\x20(b_s'+'caled\x20-\x20e2'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20let\x20ro'+'tate:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20let\x20L'+'1:\x20f32\x20=\x20s'+'qrt(-e2\x20/\x20'+'e3);\x0a\x20\x20\x20\x20l'+'et\x20L2:\x20f32'+'\x20=\x20sqrt(-e'+'2\x20/\x20e1);\x0a\x0a'+'\x20\x20\x20\x20let\x20fo'+'rmFactor:\x20'+'f32\x20=\x20max('+'0.0,\x20L1\x20*\x20'+'L2\x20*\x20inver'+'seSqrt((1.'+'0\x20+\x20L1\x20*\x20L'+'1)\x20*\x20(1.0\x20'+'+\x20L2\x20*\x20L2)'+'));\x0a\x0a\x20\x20\x20\x20c'+'onst\x20LUT_S'+'IZE_disk:\x20'+'f32\x20=\x2064.0'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_SCAL'+'E_disk:\x20f3'+'2\x20=\x20(\x20LUT_'+'SIZE_disk\x20'+'-\x201.0\x20)\x20/\x20'+'LUT_SIZE_d'+'isk;\x0a\x20\x20\x20\x20c'+'onst\x20LUT_B'+'IAS_disk:\x20'+'f32\x20=\x200.5\x20'+'/\x20LUT_SIZE'+'_disk;\x0a\x0a\x20\x20'+'\x20\x20//\x20use\x20t'+'abulated\x20h'+'orizon-cli'+'pped\x20spher'+'e\x0a\x20\x20\x20\x20var\x20'+'uv:\x20vec2f\x20'+'=\x20vec2f(av'+'gDir.z\x20*\x200'+'.5\x20+\x200.5,\x20'+'formFactor'+');\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20LUT'+'_SCALE_dis'+'k\x20+\x20LUT_BI'+'AS_disk;\x0a\x0a'+'\x20\x20\x20\x20let\x20sc')+('ale:\x20f32\x20='+'\x20textureSa'+'mpleLevel('+'areaLights'+'LutTex2,\x20a'+'reaLightsL'+'utTex2Samp'+'ler,\x20uv,\x200'+'.0).w;\x0a\x0a\x20\x20'+'\x20\x20return\x20f'+'ormFactor\x20'+'*\x20scale;\x0a}'+'\x0a\x0a//\x20LTC_E'+'valuateDis'+'k\x20in\x20some\x20'+'rare\x20cases'+'\x20genereate'+'s\x20NaN\x20valu'+'es\x20in\x20a\x20or'+'\x20b,\x20just\x20b'+'efore\x20\x27flo'+'at\x20c0\x20=\x20a\x20'+'*\x20b;\x27\x0a//\x20G'+'et\x20rid\x20of\x20'+'those\x20Nan\x20'+'values\x20bef'+'ore\x20they\x20p'+'ropagate\x20f'+'urther,\x20as'+'\x20in\x20case\x20o'+'f\x20bloom\x20/\x20'+'DOF\x20blurs\x20'+'they\x0a//\x20pr'+'opagate\x20to'+'\x20large\x20are'+'as.\x20I\x20didn'+'\x27t\x20find\x20th'+'e\x20actual\x20r'+'eason\x20wher'+'e\x20those\x20co'+'me\x20from,\x20s'+'o\x20that\x20is\x20'+'still\x20TODO'+'.\x0a//\x20Note\x20'+'that\x20only\x20'+'disk/spher'+'e\x20lights\x20a'+'re\x20causing'+'\x20it,\x20so\x20on'+'ly\x20handle\x20'+'those.\x0afn\x20'+'FixNan(val'+'ue:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20v'+'alue\x20!=\x20va'+'lue\x20check\x20'+'for\x20NaN\x20as'+'\x20isnan()\x20i'+'s\x20not\x20avai'+'lable\x20in\x20W'+'GSL\x0a\x20\x20\x20\x20re'+'turn\x20selec'+'t(value,\x200'+'.0,\x20value\x20'+'!=\x20value);'+'\x0a}\x0a\x0afn\x20get'+'RectLightD'+'iffuse(wor'+'ldNormal:\x20'+'vec3f,\x20vie'+'wDir:\x20vec3'+'f,\x20lightDi'+'r:\x20vec3f,\x20'+'lightDirNo'+'rm:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20id'+'entityMat\x20'+'=\x20mat3x3f('+'vec3f(1.0,'+'\x200.0,\x200.0)'+',\x20vec3f(0.'+'0,\x201.0,\x200.'+'0),\x20vec3f('+'0.0,\x200.0,\x20'+'1.0));\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'identityMa'+'t,\x20dLTCCoo'+'rds\x20);\x0a}\x0a\x0a'+'fn\x20getDisk'+'LightDiffu'+'se(worldNo'+'rmal:\x20vec3')+('f,\x20viewDir'+':\x20vec3f,\x20l'+'ightDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20identi'+'tyMat\x20=\x20ma'+'t3x3f(vec3'+'f(1.0,\x200.0'+',\x200.0),\x20ve'+'c3f(0.0,\x201'+'.0,\x200.0),\x20'+'vec3f(0.0,'+'\x200.0,\x201.0)'+');\x0a\x20\x20\x20\x20ret'+'urn\x20FixNan'+'(LTC_Evalu'+'ateDisk(\x20w'+'orldNormal'+',\x20viewDir,'+'\x20vPosition'+'W,\x20identit'+'yMat,\x20dLTC'+'Coords\x20));'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tDiffuse(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20let\x20fall'+'off:\x20f32\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20FixNan(ge'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNorm)\x20'+'*\x20falloff)'+';\x0a}\x0a\x0afn\x20ge'+'tLTCLightI'+'nvMat(uv:\x20'+'vec2f)\x20->\x20'+'mat3x3f\x20{\x0a'+'\x20\x20\x20\x20let\x20t1'+':\x20vec4f\x20=\x20'+'textureSam'+'pleLevel(a'+'reaLightsL'+'utTex1,\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er,\x20uv,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(\x20'+'t1.x,\x200.0,'+'\x20t1.y\x20),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(\x200.0,\x201'+'.0,\x200.0\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(\x20t1.z'+',\x200.0,\x20t1.'+'w\x20)\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight')+('InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getRectLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20cal'+'cDiskLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getDiskLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcDiskLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tSpecular('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'DiskLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir,\x20'+'dLTCUV);\x0a}'+'\x0a'),UD='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_me'+'talness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getMe'+'talness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'metalness:'+'\x20f32\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20metal'+'ness\x20=\x20met'+'alness\x20*\x20u'+'niform.mat'+'erial_meta'+'lness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'metalness\x20'+'=\x20metalnes'+'s\x20*\x20textur'+'eSampleBia'+'s({STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+',\x20{STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_METALN'+'ESS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_METALNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_VE'+'RTEX\x0a\x20\x20\x20\x20m'+'etalness\x20='+'\x20metalness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'METALNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dMetal'+'ness\x20=\x20met'+'alness;\x0a}\x0a',BD='\x0avar\x20textu'+'re_msdfMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20texture'+'_msdfMapSa'+'mpler:\x20sam'+'pler;\x0a\x0afn\x20'+'median(r:\x20'+'f32,\x20g:\x20f3'+'2,\x20b:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(min(r'+',\x20g),\x20min('+'max(r,\x20g),'+'\x20b));\x0a}\x0a\x0af'+'n\x20map(min:'+'\x20f32,\x20max:'+'\x20f32,\x20v:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(v\x20-\x20m'+'in)\x20/\x20(max'+'\x20-\x20min);\x0a}'+'\x0a\x0auniform\x20'+'font_sdfIn'+'tensity:\x20f'+'32;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20font_px'+'range:\x20f32'+';\x20\x20\x20\x20\x20\x20//\x20'+'the\x20number'+'\x20of\x20pixels'+'\x20between\x20i'+'nside\x20and\x20'+'outside\x20th'+'e\x20font\x20in\x20'+'SDF\x0aunifor'+'m\x20font_tex'+'tureWidth:'+'\x20f32;\x20//\x20t'+'he\x20width\x20o'+'f\x20the\x20text'+'ure\x20atlas\x0a'+'\x0a#ifndef\x20L'+'IT_MSDF_TE'+'XT_ATTRIBU'+'TE\x0a\x20\x20\x20\x20uni'+'form\x20outli'+'ne_color:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'utline_thi'+'ckness:\x20f3'+'2;\x0a\x20\x20\x20\x20uni'+'form\x20shado'+'w_color:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'uniform\x20sh'+'adow_offse'+'t:\x20vec2f;\x0a'+'#else\x0a\x20\x20\x20\x20'+'varying\x20ou'+'tline_colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20outline_'+'thickness:'+'\x20f32;\x0a\x20\x20\x20\x20'+'varying\x20sh'+'adow_color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20varying'+'\x20shadow_of'+'fset:\x20vec2'+'f;\x0a#endif\x0a'+'\x0afn\x20applyM'+'sdf(color_'+'in:\x20vec4f)'+'\x20->\x20vec4f\x20'+'{\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_M'+'SDF_TEXT_A'+'TTRIBUTE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20uniform.'+'outline_co'+'lor;\x0a\x20\x20\x20\x20\x20'+('\x20\x20\x20var\x20out'+'line_thick'+'nessValue\x20'+'=\x20uniform.'+'outline_th'+'ickness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_co'+'lorValue\x20='+'\x20uniform.s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_offsetVa'+'lue\x20=\x20unif'+'orm.shadow'+'_offset;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utline_thi'+'cknessValu'+'e\x20=\x20outlin'+'e_thicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_colorVal'+'ue\x20=\x20shado'+'w_color;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_of'+'fsetValue\x20'+'=\x20shadow_o'+'ffset;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20Conv'+'ert\x20to\x20lin'+'ear\x20space\x20'+'before\x20pro'+'cessing\x0a\x20\x20'+'\x20\x20//\x20TODO:'+'\x20ideally\x20t'+'his\x20would\x20'+'receive\x20th'+'e\x20color\x20in'+'\x20linear\x20sp'+'ace,\x20but\x20t'+'hat\x20would\x20'+'require\x20la'+'rger\x20chang'+'es\x0a\x20\x20\x20\x20//\x20'+'on\x20the\x20eng'+'ine\x20side,\x20'+'with\x20the\x20w'+'ay\x20premult'+'iplied\x20alp'+'ha\x20is\x20hand'+'led\x20as\x20wel'+'l.\x0a\x20\x20\x20\x20var'+'\x20color\x20=\x20v'+'ec4f(gamma'+'CorrectInp'+'utVec3(col'+'or_in.rgb)'+',\x20color_in'+'.a);\x0a\x0a\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20field\x0a'+'\x20\x20\x20\x20let\x20ts'+'ample:\x20vec'+'3f\x20=\x20textu'+'reSample(t'+'exture_msd'+'fMap,\x20text'+'ure_msdfMa'+'pSampler,\x20'+'vUv0).rgb;'+'\x0a\x20\x20\x20\x20let\x20u'+'vShdw:\x20vec'+'2f\x20=\x20vUv0\x20'+'-\x20shadow_o'+'ffsetValue'+';\x0a\x20\x20\x20\x20let\x20'+'ssample:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'(texture_m'+'sdfMap,\x20te'+'xture_msdf'+'MapSampler'+',\x20uvShdw).'+'rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20get\x20the'+'\x20signed\x20di'+'stance\x20val'+'ue\x0a\x20\x20\x20\x20let')+('\x20sigDist:\x20'+'f32\x20=\x20medi'+'an(tsample'+'.r,\x20tsampl'+'e.g,\x20tsamp'+'le.b);\x0a\x20\x20\x20'+'\x20var\x20sigDi'+'stShdw:\x20f3'+'2\x20=\x20median'+'(ssample.r'+',\x20ssample.'+'g,\x20ssample'+'.b);\x0a\x0a\x20\x20\x20\x20'+'//\x20smoothi'+'ng\x20limit\x20-'+'\x20smaller\x20v'+'alue\x20makes'+'\x20for\x20sharp'+'er\x20but\x20mor'+'e\x20aliased\x20'+'text,\x20espe'+'cially\x20on\x20'+'angles\x0a\x20\x20\x20'+'\x20//\x20too\x20la'+'rge\x20value\x20'+'(0.5)\x20crea'+'tes\x20a\x20dark'+'\x20glow\x20arou'+'nd\x20the\x20let'+'ters\x0a\x20\x20\x20\x20l'+'et\x20smoothi'+'ngMax:\x20f32'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20let'+'\x20w:\x20vec2f\x20'+'=\x20abs(dpdx'+'(vUv0))\x20+\x20'+'abs(dpdy(v'+'Uv0));\x0a\x20\x20\x20'+'\x20let\x20smoot'+'hing:\x20f32\x20'+'=\x20clamp(w.'+'x\x20*\x20unifor'+'m.font_tex'+'tureWidth\x20'+'/\x20uniform.'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20l'+'et\x20mapMin:'+'\x20f32\x20=\x200.0'+'5;\x0a\x20\x20\x20\x20let'+'\x20mapMax:\x20f'+'32\x20=\x20clamp'+'(1.0\x20-\x20uni'+'form.font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20let\x20si'+'gDistInner'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist);\x0a\x20\x20'+'\x20\x20let\x20sigD'+'istOutline'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'knessValue'+');\x0a\x20\x20\x20\x20sig'+'DistShdw\x20='+'\x20map(mapMi'+'n,\x20mapMax,'+'\x20sigDistSh'+'dw\x20+\x20outli'+'ne_thickne'+'ssValue);\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'enter:\x20f32'+'\x20=\x200.5;\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20smoot'+'hing\x20and\x20u'+'se\x20to\x20gene')+('rate\x20opaci'+'ty\x0a\x20\x20\x20\x20let'+'\x20inside:\x20f'+'32\x20=\x20smoot'+'hstep(cent'+'er\x20-\x20smoot'+'hing,\x20cent'+'er\x20+\x20smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20let\x20o'+'utline:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stOutline)'+';\x0a\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20let\x20tc'+'olor_outli'+'ne:\x20vec4f\x20'+'=\x20outline\x20'+'*\x20vec4f(ou'+'tline_colo'+'rValue.a\x20*'+'\x20outline_c'+'olorValue.'+'rgb,\x20outli'+'ne_colorVa'+'lue.a);\x0a\x20\x20'+'\x20\x20var\x20tcol'+'or:\x20vec4f\x20'+'=\x20select(v'+'ec4f(0.0),'+'\x20tcolor_ou'+'tline,\x20out'+'line\x20>\x20ins'+'ide);\x0a\x20\x20\x20\x20'+'tcolor\x20=\x20m'+'ix(tcolor,'+'\x20color,\x20in'+'side);\x0a\x0a\x20\x20'+'\x20\x20let\x20scol'+'or_shadow:'+'\x20vec4f\x20=\x20s'+'hadow\x20*\x20ve'+'c4f(shadow'+'_colorValu'+'e.a\x20*\x20shad'+'ow_colorVa'+'lue.rgb,\x20s'+'hadow_colo'+'rValue.a);'+'\x0a\x20\x20\x20\x20let\x20s'+'color:\x20vec'+'4f\x20=\x20selec'+'t(tcolor,\x20'+'scolor_sha'+'dow,\x20shado'+'w\x20>\x20outlin'+'e);\x0a\x20\x20\x20\x20tc'+'olor\x20=\x20mix'+'(scolor,\x20t'+'color,\x20out'+'line);\x0a\x0a\x20\x20'+'\x20\x20//\x20Conve'+'rt\x20back\x20to'+'\x20gamma\x20spa'+'ce\x20before\x20'+'returning\x0a'+'\x20\x20\x20\x20tcolor'+'\x20=\x20vec4f(g'+'ammaCorrec'+'tOutput(tc'+'olor.rgb),'+'\x20tcolor.a)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),zD='\x0a\x0afn\x20getSp'+'ecularModu'+'late(specu'+'larity:\x20ve'+'c3f,\x20albed'+'o:\x20vec3f,\x20'+'metalness:'+'\x20f32,\x20f0:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20dielec'+'tricF0:\x20ve'+'c3f\x20=\x20f0\x20*'+'\x20speculari'+'ty;\x0a\x20\x20\x20\x20re'+'turn\x20mix(d'+'ielectricF'+'0,\x20albedo,'+'\x20metalness'+');\x0a}\x0a\x0afn\x20g'+'etAlbedoMo'+'dulate(alb'+'edo:\x20vec3f'+',\x20metalnes'+'s:\x20f32)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'albedo\x20*\x20('+'1.0\x20-\x20meta'+'lness);\x0a}\x0a',VD='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var\x20morph'+'Texture:\x20t'+'exture_2d_'+'array<f32>'+';\x0a\x20\x20\x20\x20unif'+'orm\x20morphF'+'actor:\x20arr'+'ay<f32,\x20{M'+'ORPH_TEXTU'+'RE_MAX_COU'+'NT}>;\x0a\x20\x20\x20\x20'+'uniform\x20mo'+'rphIndex:\x20'+'array<u32,'+'\x20{MORPH_TE'+'XTURE_MAX_'+'COUNT}>;\x0a\x20'+'\x20\x20\x20uniform'+'\x20count:\x20u3'+'2;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x0a\x20\x20'+'\x20\x20fn\x20fragm'+'entMain(in'+'put\x20:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20color\x20='+'\x20vec3f(0,\x20'+'0,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20t'+'extureDims'+'\x20=\x20texture'+'Dimensions'+'(morphText'+'ure);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20pi'+'xelCoords\x20'+'=\x20vec2i(in'+'put.uv0\x20*\x20'+'vec2f(text'+'ureDims));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'u32\x20=\x200;\x20i'+'\x20<\x20uniform'+'.count;\x20i\x20'+'=\x20i\x20+\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'tureIndex:'+'\x20u32\x20=\x20uni'+'form.morph'+'Index[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20delta\x20'+'=\x20textureL'+'oad(morphT'+'exture,\x20pi'+'xelCoords,'+'\x20textureIn'+'dex,\x200).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20+=\x20unifor'+'m.morphFac'+'tor[i].ele'+'ment\x20*\x20del'+'ta;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'color,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',GD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',HD='\x0aattribute'+'\x20vertex_ou'+'tlineParam'+'eters:\x20vec'+'3f;\x0aattrib'+'ute\x20vertex'+'_shadowPar'+'ameters:\x20v'+'ec3f;\x0a\x0avar'+'ying\x20outli'+'ne_color:\x20'+'vec4f;\x0avar'+'ying\x20outli'+'ne_thickne'+'ss:\x20f32;\x0av'+'arying\x20sha'+'dow_color:'+'\x20vec4f;\x0ava'+'rying\x20shad'+'ow_offset:'+'\x20vec2f;\x0a\x0av'+'ar<private'+'>\x20dOutline'+'Color:\x20vec'+'4f;\x0avar<pr'+'ivate>\x20dOu'+'tlineThick'+'ness:\x20f32;'+'\x0avar<priva'+'te>\x20dShado'+'wColor:\x20ve'+'c4f;\x0avar<p'+'rivate>\x20dS'+'hadowOffse'+'t:\x20vec2f;\x0a'+'\x0afn\x20unpack'+'MsdfParams'+'()\x20{\x0a\x20\x20\x20\x20l'+'et\x20little:'+'\x20vec3f\x20=\x20v'+'ertex_outl'+'ineParamet'+'ers\x20%\x20vec3'+'f(256.0);\x0a'+'\x20\x20\x20\x20let\x20bi'+'g:\x20vec3f\x20='+'\x20(vertex_o'+'utlinePara'+'meters\x20-\x20l'+'ittle)\x20/\x202'+'56.0;\x0a\x0a\x20\x20\x20'+'\x20dOutlineC'+'olor\x20=\x20vec'+'4f(little.'+'x,\x20big.x,\x20'+'little.y,\x20'+'big.y)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20//\x20_outli'+'neThicknes'+'sScale\x20==='+'\x200.2\x0a\x20\x20\x20\x20d'+'OutlineThi'+'ckness\x20=\x20l'+'ittle.z\x20/\x20'+'255.0\x20*\x200.'+'2;\x0a\x0a\x20\x20\x20\x20le'+'t\x20little_s'+'hadow\x20=\x20ve'+'rtex_shado'+'wParameter'+'s\x20%\x20vec3f('+'256.0);\x0a\x20\x20'+'\x20\x20let\x20big_'+'shadow\x20=\x20('+'vertex_sha'+'dowParamet'+'ers\x20-\x20litt'+'le_shadow)'+'\x20/\x20256.0;\x0a'+'\x0a\x20\x20\x20\x20dShad'+'owColor\x20=\x20'+'vec4f(litt'+'le_shadow.'+'x,\x20big_sha'+'dow.x,\x20lit'+'tle_shadow'+'.y,\x20big_sh'+'adow.y)\x20/\x20'+'255.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+('ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20dShad'+'owOffset\x20='+'\x20(vec2f(li'+'ttle_shado'+'w.z,\x20big_s'+'hadow.z)\x20/'+'\x20127.0\x20-\x201'+'.0)\x20*\x200.00'+'5;\x0a}\x0a'),WD='\x0avar<priva'+'te>\x20dNorma'+'lMatrix:\x20m'+'at3x3f;\x0a\x0af'+'n\x20getNorma'+'l()\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20d'+'NormalMatr'+'ix\x20=\x20getNo'+'rmalMatrix'+'(dModelMat'+'rix);\x0a\x20\x20\x20\x20'+'let\x20localN'+'ormal:\x20vec'+'3f\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}',$D='\x0a\x0aattribut'+'e\x20vertex_n'+'ormal:\x20vec'+'3f;\x0a\x0aunifo'+'rm\x20matrix_'+'normal:\x20ma'+'t3x3f;\x0a\x0a#i'+'fdef\x20MORPH'+'ING_NORMAL'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MORPHING'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20mor'+'phNormalTe'+'x:\x20texture'+'_2d<u32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphNor'+'malTexSamp'+'ler:\x20sampl'+'er;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hNormalTex'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20morphNorm'+'alTexSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0afn\x20getLo'+'calNormal('+'vertexNorm'+'al:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20localNorm'+'al:\x20vec3f\x20'+'=\x20vertexNo'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20mor'+'phUV:\x20vec2'+'i\x20=\x20getTex'+'tureMorphC'+'oords();\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_INT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20morphN'+'ormalInt:\x20'+'vec4u\x20=\x20te'+'xtureLoad('+'morphNorma'+'lTex,\x20morp'+'hUV,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20morph'+'NormalF:\x20v'+'ec3f\x20=\x20vec'+'3f(morphNo'+'rmalInt.xy'+'z)\x20/\x2065535'+'.0\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormalF;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'morphNorma'+'l:\x20vec3f\x20='+'\x20textureLo'+'ad(morphNo'+'rmalTex,\x20m'+'orphUV,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormal;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20lo'+'calNormal;'+'\x0a}\x0a\x0a#if\x20de'+'fined(SKIN'+')\x20||\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20fn\x20get'+('NormalMatr'+'ix(modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ma'+'t3x3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3x3f'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20fn'+'\x20getNormal'+'Matrix(mod'+'elMatrix:\x20'+'mat4x4f)\x20-'+'>\x20mat3x3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20mat'+'3x3f(model'+'Matrix[0].'+'xyz,\x20model'+'Matrix[1].'+'xyz,\x20model'+'Matrix[2].'+'xyz);\x0a\x20\x20\x20\x20'+'}\x0a#else\x0a\x20\x20'+'\x20\x20fn\x20getNo'+'rmalMatrix'+'(modelMatr'+'ix:\x20mat4x4'+'f)\x20->\x20mat3'+'x3f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),XD='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_bu'+'mpiness:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20un'+'iform\x20mate'+'rial_norma'+'lDetailMap'+'Bumpiness:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20fn\x20bl'+'endNormals'+'(inN1:\x20vec'+'3f,\x20inN2:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'n1:\x20vec3f\x20'+'=\x20inN1\x20+\x20v'+'ec3f(0.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20n2:\x20vec'+'3f\x20=\x20inN2\x20'+'*\x20vec3f(-1'+'.0,\x20-1.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20n1\x20*\x20dot('+'n1,\x20n2)\x20/\x20'+'n1.z\x20-\x20n2;'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0afn\x20ge'+'tNormal()\x20'+'{\x0a#ifdef\x20S'+'TD_NORMAL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20var\x20norm'+'alMap:\x20vec'+'3f\x20=\x20{STD_'+'NORMAL_TEX'+'TURE_DECOD'+'E}(texture'+'SampleBias'+'({STD_NORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_NORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_NOR'+'MAL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias));\x0a'+'\x20\x20\x20\x20normal'+'Map\x20=\x20mix('+'vec3f(0.0,'+'\x200.0,\x201.0)'+',\x20normalMa'+'p,\x20uniform'+'.material_'+'bumpiness)'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_NO'+'RMALDETAIL'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20normalDet'+'ailMap:\x20ve'+'c3f\x20=\x20{STD'+'_NORMALDET'+'AIL_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE_NAME},'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_NAM'+'E}Sampler,'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_UV}'+(',\x20uniform.'+'textureBia'+'s));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalD'+'etailMap\x20='+'\x20mix(vec3f'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malDetailM'+'ap,\x20unifor'+'m.material'+'_normalDet'+'ailMapBump'+'iness);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20norm'+'alMap\x20=\x20bl'+'endNormals'+'(normalMap'+',\x20normalDe'+'tailMap);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20nor'+'malize(dTB'+'N\x20*\x20normal'+'Map);\x0a#els'+'e\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a'),qD='\x0auniform\x20m'+'aterial_op'+'acity:\x20f32'+';\x0a\x0afn\x20getO'+'pacity()\x20{'+'\x0a\x20\x20\x20\x20dAlph'+'a\x20=\x20unifor'+'m.material'+'_opacity;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E\x0a\x20\x20\x20\x20dAlp'+'ha\x20=\x20dAlph'+'a\x20*\x20textur'+'eSampleBia'+'s({STD_OPA'+'CITY_TEXTU'+'RE_NAME},\x20'+'{STD_OPACI'+'TY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'OPACITY_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20=\x20dA'+'lpha\x20*\x20cla'+'mp(vVertex'+'Color.{STD'+'_OPACITY_V'+'ERTEX_CHAN'+'NEL},\x200.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',jD='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20blueNo'+'iseJitter:'+'\x20vec4f;\x0a\x0a#'+'if\x20STD_OPA'+'CITY_DITHE'+'R\x20==\x20BLUEN'+'OISE\x0a\x20\x20\x20\x20v'+'ar\x20blueNoi'+'seTex32\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20blueN'+'oiseTex32S'+'ampler\x20:\x20s'+'ampler;\x0a#e'+'ndif\x0a\x0afn\x20o'+'pacityDith'+'er(alpha:\x20'+'f32,\x20id:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'#if\x20STD_OP'+'ACITY_DITH'+'ER\x20==\x20BAYE'+'R8\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20nois'+'e:\x20f32\x20=\x20b'+'ayer8(floo'+'r((pcPosit'+'ion.xy\x20+\x20u'+'niform.blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+')\x20%\x20vec2f('+'8.0)))\x20/\x206'+'4.0;\x0a\x0a\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20=='+'\x20BLUENOISE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uv\x20'+'=\x20fract(pc'+'Position.x'+'y\x20/\x2032.0\x20+'+'\x20uniform.b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20noise:\x20f3'+'2\x20=\x20textur'+'eSampleLev'+'el(blueNoi'+'seTex32,\x20b'+'lueNoiseTe'+'x32Sampler'+',\x20uv,\x200.0)'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20IGNNOI'+'SE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ba'+'sed\x20on\x20htt'+'ps://www.i'+'ryoku.com/'+'next-gener'+'ation-post'+'-processin'+'g-in-call-'+'of-duty-ad'+'vanced-war'+'fare/\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20magic\x20=\x20'+'vec3f(0.06'+'711056,\x200.'+'00583715,\x20'+'52.9829189'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'oise:\x20f32\x20'+'=\x20fract(ma'+'gic.z\x20*\x20fr'+'act(dot(pc'+'Position.x'+'y\x20+\x20unifor'+'m.blueNois'+'eJitter.xy'+'\x20+\x20id,\x20mag'+('ic.xy)));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20conve'+'rt\x20the\x20noi'+'se\x20to\x20line'+'ar\x20space,\x20'+'as\x20that\x20is'+'\x20specified'+'\x20in\x20sRGB\x20s'+'pace\x20(stor'+'es\x20percept'+'ual\x20values'+')\x0a\x20\x20\x20\x20nois'+'e\x20=\x20pow(no'+'ise,\x202.2);'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'alpha\x20<\x20no'+'ise)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),YD='\x0a',KD='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(outp'+'ut.color.r'+'gb,\x20litArg'+'s_opacity)'+';\x0a\x0a#elif\x20L'+'IT_BLEND_T'+'YPE\x20==\x20PRE'+'MULTIPLIED'+'\x0a\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(out'+'put.color.'+'rgb\x20*\x20litA'+'rgs_opacit'+'y,\x20litArgs'+'_opacity);'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(output'+'.color.rgb'+',\x201.0);\x0a\x0a#'+'endif\x0a',ZD='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0avar\x20sour'+'ce:\x20textur'+'e_2d<f32>;'+'\x0avar\x20sourc'+'eSampler:\x20'+'sampler;\x0a\x0a'+'@fragment\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'textureSam'+'ple(source'+',\x20sourceSa'+'mpler,\x20inp'+'ut.vUv0);\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'+'\x0a',QD='\x0a\x0auniform\x20'+'material_s'+'heen:\x20vec3'+'f;\x0a\x0afn\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20var\x20sh'+'eenColor\x20='+'\x20uniform.m'+'aterial_sh'+'een;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_TEX'+'TURE\x0a\x20\x20\x20\x20s'+'heenColor\x20'+'=\x20sheenCol'+'or\x20*\x20{STD_'+'SHEEN_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SHEEN'+'_TEXTURE_N'+'AME},\x20{STD'+'_SHEEN_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEEN_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as)).{STD_'+'SHEEN_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_VER'+'TEX\x0a\x20\x20\x20\x20sh'+'eenColor\x20='+'\x20sheenColo'+'r\x20*\x20satura'+'te3(vVerte'+'xColor.{ST'+'D_SHEEN_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20sSpecula'+'rity\x20=\x20she'+'enColor;\x0a}'+'\x0a',JD='\x0auniform\x20m'+'aterial_sh'+'eenGloss:\x20'+'f32;\x0a\x0afn\x20g'+'etSheenGlo'+'ssiness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'sheenGloss'+'iness\x20=\x20un'+'iform.mate'+'rial_sheen'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SHEENGL'+'OSS_TEXTUR'+'E\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_SHEEN'+'GLOSS_TEXT'+'URE_NAME},'+'\x20{STD_SHEE'+'NGLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_UV},\x20un'+'iform.text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20=\x20'+'sheenGloss'+'iness\x20*\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'GLOSS_VERT'+'EX_CHANNEL'+'});\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEENGLOS'+'S_INVERT\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20='+'\x201.0\x20-\x20she'+'enGlossine'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'+\x200.000000'+'1;\x0a}\x0a',eI='\x0auniform\x20m'+'aterial_he'+'ightMapFac'+'tor:\x20f32;\x0a'+'\x0afn\x20getPar'+'allax()\x20{\x0a'+'\x20\x20\x20\x20var\x20pa'+'rallaxScal'+'e\x20=\x20unifor'+'m.material'+'_heightMap'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20var\x20hei'+'ght:\x20f32\x20='+'\x20textureSa'+'mpleBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_HEIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_HEIGHT_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'height\x20=\x20h'+'eight\x20*\x20pa'+'rallaxScal'+'e\x20-\x20parall'+'axScale\x20*\x20'+'0.5;\x0a\x20\x20\x20\x20v'+'ar\x20viewDir'+'T:\x20vec3f\x20='+'\x20dViewDirW'+'\x20*\x20dTBN;\x0a\x0a'+'\x20\x20\x20\x20viewDi'+'rT.z\x20=\x20vie'+'wDirT.z\x20+\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',tI='\x0auniform\x20m'+'eshInstanc'+'eId:\x20u32;\x0a'+'\x0afn\x20getPic'+'kOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20let\x20i'+'nv:\x20vec4f\x20'+'=\x20vec4f(1.'+'0\x20/\x20255.0)'+';\x0a\x20\x20\x20\x20let\x20'+'shifts:\x20ve'+'c4u\x20=\x20vec4'+'u(16u,\x208u,'+'\x200u,\x2024u);'+'\x0a\x20\x20\x20\x20let\x20c'+'ol:\x20vec4u\x20'+'=\x20(vec4u(u'+'niform.mes'+'hInstanceI'+'d)\x20>>\x20shif'+'ts)\x20&\x20vec4'+'u(0xffu);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4f(col'+')\x20*\x20inv;\x0a}',sI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20dReflDi'+'rW\x20=\x20norma'+'lize(-refl'+'ect(viewDi'+'r,\x20worldNo'+'rmal));\x0a}\x0a',iI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20rou'+'ghness:\x20f3'+'2\x20=\x20sqrt(1'+'.0\x20-\x20min(g'+'loss,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20directio'+'n:\x20vec2f\x20='+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20anisotrop'+'y:\x20f32\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cDirection'+':\x20vec3f\x20=\x20'+'anisotropi'+'cB;\x0a\x20\x20\x20\x20le'+'t\x20anisotro'+'picTangent'+':\x20vec3f\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20let\x20anis'+'otropicNor'+'mal:\x20vec3f'+'\x20=\x20cross(a'+'nisotropic'+'Tangent,\x20a'+'nisotropic'+'Direction)'+';\x0a\x20\x20\x20\x20let\x20'+'bendFactor'+':\x20f32\x20=\x201.'+'0\x20-\x20anisot'+'ropy\x20*\x20(1.'+'0\x20-\x20roughn'+'ess);\x0a\x20\x20\x20\x20'+'let\x20bendFa'+'ctor4:\x20f32'+'\x20=\x20bendFac'+'tor\x20*\x20bend'+'Factor\x20*\x20b'+'endFactor\x20'+'*\x20bendFact'+'or;\x0a\x20\x20\x20\x20le'+'t\x20bentNorm'+'al:\x20vec3f\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}',rI='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0afn\x20addRe'+'flectionCC'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20ccRef'+'lection\x20=\x20'+'ccReflecti'+'on\x20+\x20calcR'+'eflection('+'reflDir,\x20g'+'loss);\x0a}\x0a#'+'endif\x0a',aI='\x0avar\x20textu'+'re_cubeMap'+':\x20texture_'+'cube<f32>;'+'\x0avar\x20textu'+'re_cubeMap'+'Sampler:\x20s'+'ampler;\x0aun'+'iform\x20mate'+'rial_refle'+'ctivity:\x20f'+'32;\x0a\x0afn\x20ca'+'lcReflecti'+'on(reflDir'+':\x20vec3f,\x20g'+'loss:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'lookupVec:'+'\x20vec3f\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r);\x0a\x20\x20\x20\x20lo'+'okupVec.x\x20'+'=\x20lookupVe'+'c.x\x20*\x20-1.0'+';\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_cubeMa'+'p,\x20texture'+'_cubeMapSa'+'mpler,\x20loo'+'kupVec));\x0a'+'}\x0a\x0afn\x20addR'+'eflection('+'reflDir:\x20v'+'ec3f,\x20glos'+'s:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20dR'+'eflection\x20'+'+\x20vec4f(ca'+'lcReflecti'+'on(reflDir'+',\x20gloss),\x20'+'uniform.ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',nI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20var\x20t'+'exture_env'+'Atlas:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'envAtlasSa'+'mpler:\x20sam'+'pler;\x0a#end'+'if\x0a\x0avar\x20te'+'xture_cube'+'Map:\x20textu'+'re_cube<f3'+'2>;\x0avar\x20te'+'xture_cube'+'MapSampler'+':\x20sampler;'+'\x0auniform\x20m'+'aterial_re'+'flectivity'+':\x20f32;\x0a\x0afn'+'\x20calcRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20dir:\x20ve'+'c3f\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20toSph'+'ericalUv(d'+'ir);\x0a\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20roughne'+'ss\x20level\x0a\x20'+'\x20\x20\x20let\x20lev'+'el:\x20f32\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20let\x20ile'+'vel:\x20f32\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20l'+'et\x20flevel:'+'\x20f32\x20=\x20lev'+'el\x20-\x20ileve'+'l;\x0a\x0a\x20\x20\x20\x20le'+'t\x20sharp:\x20v'+'ec3f\x20=\x20{re'+'flectionCu'+'bemapDecod'+'e}(texture'+'Sample(tex'+'ture_cubeM'+'ap,\x20textur'+'e_cubeMapS'+'ampler,\x20di'+'r));\x0a\x20\x20\x20\x20l'+'et\x20roughA:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+')));\x0a\x20\x20\x20\x20l'+'et\x20roughB:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(shar'+'p,\x20mix(rou'+('ghA,\x20rough'+'B,\x20flevel)'+',\x20min(leve'+'l,\x201.0)));'+'\x0a}\x0a\x0afn\x20add'+'Reflection'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20=\x20d'+'Reflection'+'\x20+\x20vec4f(c'+'alcReflect'+'ion(reflDi'+'r,\x20gloss),'+'\x20uniform.m'+'aterial_re'+'flectivity'+');\x0a}\x0a'),oI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_envA'+'tlasSample'+'r:\x20sampler'+';\x0a#endif\x0au'+'niform\x20mat'+'erial_refl'+'ectivity:\x20'+'f32;\x0a\x0a//\x20c'+'alculate\x20m'+'ip\x20level\x20f'+'or\x20shiny\x20r'+'eflection\x20'+'given\x20equi'+'rect\x20coord'+'s\x20uv.\x0afn\x20s'+'hinyMipLev'+'el(uv:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20dx:\x20vec2f'+'\x20=\x20dpdx(uv'+');\x0a\x20\x20\x20\x20let'+'\x20dy:\x20vec2f'+'\x20=\x20dpdy(uv'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20second\x20dF'+'\x20at\x20180\x20de'+'grees\x0a\x20\x20\x20\x20'+'let\x20uv2:\x20v'+'ec2f\x20=\x20vec'+'2f(fract(u'+'v.x\x20+\x200.5)'+',\x20uv.y);\x0a\x20'+'\x20\x20\x20let\x20dx2'+':\x20vec2f\x20=\x20'+'dpdx(uv2);'+'\x0a\x20\x20\x20\x20let\x20d'+'y2:\x20vec2f\x20'+'=\x20dpdy(uv2'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20min\x20of\x20bo'+'th\x20sets\x20of'+'\x20dF\x20to\x20han'+'dle\x20discon'+'tinuity\x20at'+'\x20the\x20azim\x20'+'edge\x0a\x20\x20\x20\x20l'+'et\x20maxd:\x20f'+'32\x20=\x20min(m'+'ax(dot(dx,'+'\x20dx),\x20dot('+'dy,\x20dy)),\x20'+'max(dot(dx'+'2,\x20dx2),\x20d'+'ot(dy2,\x20dy'+'2)));\x0a\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(0.5\x20*\x20'+'log2(maxd)'+'\x20-\x201.0\x20+\x20u'+'niform.tex'+'tureBias,\x20'+'0.0,\x205.0);'+'\x0a}\x0a\x0afn\x20cal'+'cReflectio'+'n(reflDir:'+'\x20vec3f,\x20gl'+'oss:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20d'+'ir:\x20vec3f\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3f(-1.0,\x20'+'1.0,\x201.0);'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20l'+'et\x20level:\x20'+'f32\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20l'+('et\x20ilevel:'+'\x20f32\x20=\x20flo'+'or(level);'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ccessing\x20t'+'he\x20shiny\x20('+'top\x20level)'+'\x20reflectio'+'n\x20-\x20perfor'+'m\x20manual\x20m'+'ipmap\x20look'+'up\x0a\x20\x20\x20\x20let'+'\x20level2:\x20f'+'32\x20=\x20shiny'+'MipLevel(u'+'v\x20*\x20atlasS'+'ize);\x0a\x20\x20\x20\x20'+'let\x20ilevel'+'2:\x20f32\x20=\x20f'+'loor(level'+'2);\x0a\x0a\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20uv1:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20weight:'+'\x20f32;\x0a\x20\x20\x20\x20'+'if\x20(ilevel'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'1\x20=\x20mapShi'+'nyUv(uv,\x20i'+'level2\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20weight\x20'+'=\x20level2\x20-'+'\x20ilevel2;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20access'+'ing\x20rough\x20'+'reflection'+'\x20-\x20just\x20sa'+'mple\x20the\x20s'+'ame\x20part\x20t'+'wice\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv0\x20=\x20m'+'apRoughnes'+'sUv(uv,\x20il'+'evel);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20linearA'+':\x20vec3f\x20=\x20'+'{reflectio'+'nDecode}(t'+'extureSamp'+'le(texture'+'_envAtlas,'+'\x20texture_e'+'nvAtlasSam'+'pler,\x20uv0)'+');\x0a\x20\x20\x20\x20let'+'\x20linearB:\x20'+'vec3f\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'tureSample'+'(texture_e'+'nvAtlas,\x20t'+'exture_env'+'AtlasSampl'+'er,\x20uv1));'+'\x0a\x20\x20\x20\x20let\x20l'+'inear0:\x20ve'+'c3f\x20=\x20mix('+'linearA,\x20l'+'inearB,\x20we'+'ight);\x0a\x20\x20\x20'+'\x20let\x20linea'+'r1:\x20vec3f\x20'+'=\x20{reflect'+'ionDecode}'+'(textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r')+('eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0afn'+'\x20addReflec'+'tion(reflD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20=\x20dReflec'+'tion\x20+\x20vec'+'4f(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20unifo'+'rm.materia'+'l_reflecti'+'vity);\x0a}\x0a'),lI='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a#en'+'dif\x0a\x0avar\x20t'+'exture_sph'+'ereMap:\x20te'+'xture_2d<f'+'32>;\x0avar\x20t'+'exture_sph'+'ereMapSamp'+'ler:\x20sampl'+'er;\x0aunifor'+'m\x20material'+'_reflectiv'+'ity:\x20f32;\x0a'+'\x0afn\x20calcRe'+'flection(r'+'eflDir:\x20ve'+'c3f,\x20gloss'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20view'+'RotationMa'+'trix\x20=\x20mat'+'3x3f(unifo'+'rm.matrix_'+'view[0].xy'+'z,\x20uniform'+'.matrix_vi'+'ew[1].xyz,'+'\x20uniform.m'+'atrix_view'+'[2].xyz);\x0a'+'\x20\x20\x20\x20let\x20re'+'flDirV:\x20ve'+'c3f\x20=\x20view'+'RotationMa'+'trix\x20*\x20ref'+'lDir;\x0a\x0a\x20\x20\x20'+'\x20let\x20m:\x20f3'+'2\x20=\x202.0\x20*\x20'+'sqrt(dot(r'+'eflDirV.xy'+',\x20reflDirV'+'.xy)\x20+\x20(re'+'flDirV.z\x20+'+'\x201.0)\x20*\x20(r'+'eflDirV.z\x20'+'+\x201.0));\x0a\x20'+'\x20\x20\x20let\x20sph'+'ereMapUv:\x20'+'vec2f\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_sphere'+'Map,\x20textu'+'re_sphereM'+'apSampler,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0af'+'n\x20addRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20dRefle'+'ction\x20+\x20ve'+'c4f(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20unif'+'orm.materi'+'al_reflect'+'ivity);\x0a}\x0a',cI='\x0a\x0afn\x20addRe'+'flectionSh'+'een(worldN'+'ormal:\x20vec'+'3f,\x20viewDi'+'r:\x20vec3f,\x20'+'gloss:\x20f32'+')\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20dot(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20let\x20al'+'phaG:\x20f32\x20'+'=\x20gloss\x20*\x20'+'gloss;\x0a\x0a\x20\x20'+'\x20\x20//\x20Avoid'+'\x20using\x20a\x20L'+'UT\x20and\x20app'+'roximate\x20t'+'he\x20values\x20'+'analytical'+'ly\x0a\x20\x20\x20\x20let'+'\x20a:\x20f32\x20=\x20'+'select(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20-339.2\x20*'+'\x20alphaG\x20+\x20'+'161.4\x20*\x20gl'+'oss\x20-\x2025.9'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gloss\x20<\x200.'+'25\x0a\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20let\x20b:'+'\x20f32\x20=\x20sel'+'ect(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.97\x20*\x20'+'alphaG\x20-\x203'+'.27\x20*\x20glos'+'s\x20+\x200.72,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x2044'+'.0\x20*\x20alpha'+'G\x20-\x2023.7\x20*'+'\x20gloss\x20+\x203'+'.26,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss\x20<'+'\x200.25\x0a\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20let'+'\x20dg_add:\x20f'+'32\x20=\x20selec'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.1\x20*\x20(\x20g'+'loss\x20-\x200.2'+'5\x20),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x200.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s\x20<\x200.25\x0a\x20'+'\x20\x20\x20);\x0a\x20\x20\x20\x20'+'let\x20dg:\x20f3'+'2\x20=\x20exp(\x20a'+'\x20*\x20NoV\x20+\x20b'+'\x20)\x20+\x20dg_ad'+'d;\x0a\x20\x20\x20\x20sRe'+'flection\x20='+'\x20sReflecti'+'on\x20+\x20(calc'+'Reflection'+'(worldNorm'+'al,\x200.0)\x20*'+'\x20saturate('+'dg));\x0a}',hI='\x0afn\x20refrac'+'t2(viewVec'+':\x20vec3f,\x20n'+'ormal:\x20vec'+'3f,\x20IOR:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20vn:\x20f32'+'\x20=\x20dot(vie'+'wVec,\x20norm'+'al);\x0a\x20\x20\x20\x20l'+'et\x20k:\x20f32\x20'+'=\x201.0\x20-\x20IO'+'R\x20*\x20IOR\x20*\x20'+'(1.0\x20-\x20vn\x20'+'*\x20vn);\x0a\x20\x20\x20'+'\x20let\x20refrV'+'ec:\x20vec3f\x20'+'=\x20IOR\x20*\x20vi'+'ewVec\x20-\x20(I'+'OR\x20*\x20vn\x20+\x20'+'sqrt(k))\x20*'+'\x20normal;\x0a\x20'+'\x20\x20\x20return\x20'+'refrVec;\x0a}'+'\x0a\x0afn\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20vi'+'ewDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20th'+'ickness:\x20f'+'32,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20al'+'bedo:\x20vec3'+'f,\x0a\x20\x20\x20\x20tra'+'nsmission:'+'\x20f32,\x0a\x20\x20\x20\x20'+'refraction'+'Index:\x20f32'+',\x0a\x20\x20\x20\x20disp'+'ersion:\x20f3'+'2\x0a#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20,\x20iri'+'descenceFr'+'esnel:\x20vec'+'3f,\x0a\x20\x20\x20\x20ir'+'idescenceI'+'ntensity:\x20'+'f32\x0a#endif'+'\x0a)\x20{\x0a\x20\x20\x20\x20/'+'/\x20use\x20same'+'\x20reflectio'+'n\x20code\x20wit'+'h\x20refracti'+'on\x20vector\x0a'+'\x20\x20\x20\x20let\x20tm'+'pRefl:\x20vec'+'4f\x20=\x20dRefl'+'ection;\x0a\x20\x20'+'\x20\x20let\x20refl'+'ectionDir:'+'\x20vec3f\x20=\x20r'+'efract2(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndex);\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(0.0);\x0a\x20'+'\x20\x20\x20addRefl'+'ection(ref'+'lectionDir'+',\x20gloss);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'mix(dDiffu'+'seLight,\x20d'+'Reflection'+'.rgb\x20*\x20alb'+'edo,\x20trans'+'mission);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20tm'+'pRefl;\x0a}\x0a',dI='\x0auniform\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+':\x20f32;\x0auni'+'form\x20mater'+'ial_attenu'+'ation:\x20vec'+'3f;\x0a\x0afn\x20ev'+'alRefracti'+'onColor(re'+'fractionVe'+'ctor:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20refra'+'ctionIndex'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20The\x20'+'refraction'+'\x20point\x20is\x20'+'the\x20entry\x20'+'point\x20+\x20ve'+'ctor\x20to\x20ex'+'it\x20point\x0a\x20'+'\x20\x20\x20let\x20poi'+'ntOfRefrac'+'tion:\x20vec4'+'f\x20=\x20vec4f('+'vPositionW'+'\x20+\x20refract'+'ionVector,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20//\x20Proje'+'ct\x20to\x20text'+'ure\x20space\x20'+'so\x20we\x20can\x20'+'sample\x20it\x0a'+'\x20\x20\x20\x20let\x20pr'+'ojectionPo'+'int:\x20vec4f'+'\x20=\x20uniform'+'.matrix_vi'+'ewProjecti'+'on\x20*\x20point'+'OfRefracti'+'on;\x0a\x0a\x20\x20\x20\x20/'+'/\x20use\x20buil'+'t-in\x20getGr'+'abScreenPo'+'s\x20function'+'\x20to\x20conver'+'t\x20screen\x20p'+'osition\x20to'+'\x20grab\x20text'+'ure\x20uv\x20coo'+'rds\x0a\x20\x20\x20\x20le'+'t\x20uv:\x20vec2'+'f\x20=\x20getGra'+'bScreenPos'+'(projectio'+'nPoint);\x0a\x0a'+'\x20\x20\x20\x20//\x20Use'+'\x20IOR\x20and\x20r'+'oughness\x20t'+'o\x20select\x20m'+'ip\x0a\x20\x20\x20\x20let'+'\x20iorToRoug'+'hness:\x20f32'+'\x20=\x20(1.0\x20-\x20'+'gloss)\x20*\x20c'+'lamp((1.0\x20'+'/\x20refracti'+'onIndex)\x20*'+'\x202.0\x20-\x202.0'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20let'+'\x20refractio'+'nLod:\x20f32\x20'+'=\x20log2(uni'+'form.uScre'+'enSize.x)\x20'+'*\x20iorToRou'+'ghness;\x0a\x20\x20'+'\x20\x20let\x20refr'+'action:\x20ve'+'c3f\x20=\x20text'+'ureSampleL'+'evel(uScen'+'eColorMap,'+'\x20uSceneCol'+'orMapSampl'+'er,\x20uv,\x20re'+'fractionLo'+'d).rgb;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'refraction'+';\x0a}\x0a\x0afn\x20ad'+'dRefractio'+'n(\x0a\x20\x20\x20\x20wor'+('ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20thickness'+':\x20f32,\x0a\x20\x20\x20'+'\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20albedo:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'transmissi'+'on:\x20f32,\x0a\x20'+'\x20\x20\x20refract'+'ionIndex:\x20'+'f32,\x0a\x20\x20\x20\x20d'+'ispersion:'+'\x20f32,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'iridescenc'+'eIntensity'+':\x20f32\x0a#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20Extra'+'ct\x20scale\x20f'+'rom\x20the\x20mo'+'del\x20transf'+'orm\x0a\x20\x20\x20\x20va'+'r\x20modelSca'+'le:\x20vec3f;'+'\x0a\x20\x20\x20\x20model'+'Scale.x\x20=\x20'+'length(uni'+'form.matri'+'x_model[0]'+'.xyz);\x0a\x20\x20\x20'+'\x20modelScal'+'e.y\x20=\x20leng'+'th(uniform'+'.matrix_mo'+'del[1].xyz'+');\x0a\x20\x20\x20\x20mod'+'elScale.z\x20'+'=\x20length(u'+'niform.mat'+'rix_model['+'2].xyz);\x0a\x0a'+'\x20\x20\x20\x20//\x20Cal'+'culate\x20the'+'\x20refractio'+'n\x20vector,\x20'+'scaled\x20by\x20'+'the\x20thickn'+'ess\x20and\x20sc'+'ale\x20of\x20the'+'\x20object\x0a\x20\x20'+'\x20\x20let\x20scal'+'e:\x20vec3f\x20='+'\x20thickness'+'\x20*\x20modelSc'+'ale;\x0a\x20\x20\x20\x20v'+'ar\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndex))'+'\x20*\x20scale;\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'x);\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20the\x20dispe'+'rsion\x20mate'+'rial\x20prope'+'rty,\x20calcu'+'late\x20modif'+'ied\x20refrac'+'tion\x20index'+'\x20values\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20f'+'or\x20R\x20and\x20B'+'\x20channels\x20')+('and\x20evalua'+'te\x20the\x20ref'+'raction\x20co'+'lor\x20for\x20th'+'em.\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Spread:\x20f3'+'2\x20=\x20(1.0\x20/'+'\x20refractio'+'nIndex\x20-\x201'+'.0)\x20*\x200.02'+'5\x20*\x20disper'+'sion;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20r'+'efractionI'+'ndexR:\x20f32'+'\x20=\x20refract'+'ionIndex\x20-'+'\x20halfSprea'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'nVector\x20=\x20'+'normalize('+'refract(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndexR))\x20'+'*\x20scale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ref'+'raction.r\x20'+'=\x20evalRefr'+'actionColo'+'r(refracti'+'onVector,\x20'+'gloss,\x20ref'+'ractionInd'+'exR).r;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20refractio'+'nIndexB:\x20f'+'32\x20=\x20refra'+'ctionIndex'+'\x20+\x20halfSpr'+'ead;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndexB)'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efraction.'+'b\x20=\x20evalRe'+'fractionCo'+'lor(refrac'+'tionVector'+',\x20gloss,\x20r'+'efractionI'+'ndexB).b;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20T'+'ransmittan'+'ce\x20is\x20our\x20'+'final\x20refr'+'action\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20transmitt'+'ance:\x20vec3'+'f;\x0a\x20\x20\x20\x20if\x20'+'(uniform.m'+'aterial_in'+'vAttenuati'+'onDistance'+'\x20!=\x200.0)\x0a\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20att'+'enuation:\x20'+'vec3f\x20=\x20-l'+'og(uniform'+'.material_'+'attenuatio'+'n)\x20*\x20unifo'+'rm.materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans')+('mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20let\x20'+'fresnel:\x20v'+'ec3f\x20=\x20vec'+'3f(1.0)\x20-\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20world'+'Normal),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scenceInte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20mix(dDif'+'fuseLight,'+'\x20refractio'+'n\x20*\x20transm'+'ittance\x20*\x20'+'fresnel,\x20t'+'ransmissio'+'n);\x0a}\x0a'),fI='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0a#ifdef'+'\x20CUBEMAP_S'+'OURCE\x0a\x20\x20\x20\x20'+'var\x20source'+'Cube:\x20text'+'ure_cube<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20sourceC'+'ubeSampler'+'\x20:\x20sampler'+';\x0a#else\x0a\x20\x20'+'\x20\x20var\x20sour'+'ceTex:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sourceTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20//\x20sa'+'mples\x0a\x20\x20\x20\x20'+'var\x20sample'+'sTex:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20samplesTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplesT'+'exInverseS'+'ize:\x20vec2f'+';\x0a#endif\x0a\x0a'+'//\x20params:'+'\x0a//\x20x\x20-\x20ta'+'rget\x20cubem'+'ap\x20face\x200.'+'.6\x0a//\x20y\x20-\x20'+'target\x20ima'+'ge\x20total\x20p'+'ixels\x0a//\x20z'+'\x20-\x20source\x20'+'cubemap\x20si'+'ze\x0auniform'+'\x20params:\x20v'+'ec3f;\x0a\x0afn\x20'+'targetFace'+'()\x20->\x20f32\x20'+'{\x20return\x20u'+'niform.par'+'ams.x;\x20}\x0af'+'n\x20targetTo'+'talPixels('+')\x20->\x20f32\x20{'+'\x20return\x20un'+'iform.para'+'ms.y;\x20}\x0afn'+'\x20sourceTot'+'alPixels()'+'\x20->\x20f32\x20{\x20'+'return\x20uni'+'form.param'+'s.z;\x20}\x0a\x0aco'+'nst\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22enc'+'odePS\x22\x0a\x0a//'+'--\x20support'+'ed\x20project'+'ions\x0a\x0afn\x20m'+'odifySeams'+'(dir:\x20vec3'+'f,\x20scale:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20adir\x20='+'\x20abs(dir);'+'\x0a\x20\x20\x20\x20let\x20M'+'\x20=\x20max(max'+'(adir.x,\x20a'+'dir.y),\x20ad'+'ir.z);\x0a\x20\x20\x20'+'\x20return\x20di'+'r\x20/\x20M\x20*\x20ve'+'c3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20select('+('scale,\x201.0'+',\x20adir.x\x20='+'=\x20M),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20select'+'(scale,\x201.'+'0,\x20adir.y\x20'+'==\x20M),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20selec'+'t(scale,\x201'+'.0,\x20adir.z'+'\x20==\x20M)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0afn\x20'+'toSpherica'+'l(dir:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20l'+'et\x20nonZero'+'XZ\x20=\x20any(d'+'ir.xz\x20!=\x20v'+'ec2f(0.0,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2f(select'+'(0.0,\x20atan'+'2(dir.x,\x20d'+'ir.z),\x20non'+'ZeroXZ),\x20a'+'sin(dir.y)'+');\x0a}\x0a\x0afn\x20f'+'romSpheric'+'al(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20vec3'+'f(cos(uv.y'+')\x20*\x20sin(uv'+'.x),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sin(uv.y)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'s(uv.y)\x20*\x20'+'cos(uv.x))'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Equirect(u'+'v:\x20vec2f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20fromSphe'+'rical((vec'+'2f(uv.x,\x201'+'.0\x20-\x20uv.y)'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20vec2'+'f(PI,\x20PI\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20octahe'+'dral\x20code,'+'\x20based\x20on\x20'+'https://jc'+'gt.org/pub'+'lished/000'+'3/02/01/\x0a/'+'/\x20\x22Survey\x20'+'of\x20Efficie'+'nt\x20Represe'+'ntations\x20f'+'or\x20Indepen'+'dent\x20Unit\x20'+'Vectors\x22\x20b'+'y\x20Cigolle,'+'\x20Donow,\x20Ev'+'angelakos,'+'\x20Mara,\x20McG'+'uire,\x20Meye'+'r\x0a\x0afn\x20sign'+'NotZero(k:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20sele'+'ct(-1.0,\x201'+'.0,\x20k\x20>=\x200'+'.0);\x0a}\x0a\x0afn'+'\x20signNotZe'+'roVec2(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2f(signN'+'otZero(v.x'+'),\x20signNot'+'Zero(v.y))'+';\x0a}\x0a\x0a//\x20Re'+'turns\x20a\x20un'+'it\x20vector.'+'\x20Argument\x20'+'o\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20pack')+('ed\x20via\x20oct'+'Encode,\x20on'+'\x20the\x20[-1,\x20'+'+1]\x20square'+'\x0afn\x20octDec'+'ode(o:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20v\x20=\x20vec'+'3f(o.x,\x201.'+'0\x20-\x20abs(o.'+'x)\x20-\x20abs(o'+'.y),\x20o.y);'+'\x0a\x20\x20\x20\x20if\x20(v'+'.y\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20temp:\x20'+'vec2f\x20=\x20(1'+'.0\x20-\x20abs(v'+'.zx))\x20*\x20si'+'gnNotZeroV'+'ec2(v.xz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'\x20=\x20vec3f(t'+'emp.x,\x20v.y'+',\x20temp.y);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Octahedral'+'(uv:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20octDec'+'ode(vec2f('+'uv.x,\x201.0\x20'+'-\x20uv.y)\x20*\x20'+'2.0\x20-\x201.0)'+';\x0a}\x0a\x0a//\x20As'+'sumes\x20that'+'\x20v\x20is\x20a\x20un'+'it\x20vector.'+'\x20The\x20resul'+'t\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20on\x20t'+'he\x20[-1,\x20+1'+']\x20square\x0af'+'n\x20octEncod'+'e(v:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20var\x20'+'result\x20=\x20v'+'.xz\x20*\x20(1.0'+'\x20/\x20l1norm)'+';\x0a\x20\x20\x20\x20if\x20('+'v.y\x20<\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'(1.0\x20-\x20abs'+'(result.yx'+'))\x20*\x20signN'+'otZeroVec2'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20fn'+'\x20sampleCub'+'emapDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'sourceCube'+',\x20sourceCu'+'beSampler,'+'\x20modifySea'+'ms(dir,\x201.'+'0));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleCubem'+'apSph(sph:')+('\x20vec2f)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20sample'+'CubemapDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leCubemapD'+'irLod(dir:'+'\x20vec3f,\x20mi'+'pLevel:\x20f3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leLevel(so'+'urceCube,\x20'+'sourceCube'+'Sampler,\x20m'+'odifySeams'+'(dir,\x201.0)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleCubemap'+'SphLod(sph'+':\x20vec2f,\x20m'+'ipLevel:\x20f'+'32)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'sampleCube'+'mapDirLod('+'fromSpheri'+'cal(sph),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a#el'+'se\x0a\x0a\x20\x20\x20\x20fn'+'\x20sampleEqu'+'irectSph(s'+'ph:\x20vec2f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv\x20=\x20s'+'ph\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'(sourceTex'+',\x20sourceTe'+'xSampler,\x20'+'vec2f(uv.x'+',\x201.0\x20-\x20uv'+'.y));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20fn\x20'+'sampleEqui'+'rectDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'Sph(toSphe'+'rical(dir)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleEquirec'+'tSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20uv'+'\x20=\x20sph\x20/\x20v'+'ec2f(PI\x20*\x20'+'2.0,\x20PI)\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleLevel('+'sourceTex,'+'\x20sourceTex'+'Sampler,\x20v'+'ec2f(uv.x,'+'\x201.0\x20-\x20uv.'+'y),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleEquir'+'ectDirLod('+'dir:\x20vec3f'+',\x20mipLevel'+':\x20f32)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleE')+('quirectSph'+'Lod(toSphe'+'rical(dir)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleOctahed'+'ralDir(dir'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20=\x20oct'+'Encode(dir'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'textureSam'+'ple(source'+'Tex,\x20sourc'+'eTexSample'+'r,\x20vec2f(u'+'v.x,\x201.0\x20-'+'\x20uv.y));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20sampleO'+'ctahedralS'+'ph(sph:\x20ve'+'c2f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leOctahedr'+'alDirLod(d'+'ir:\x20vec3f,'+'\x20mipLevel:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'Level(sour'+'ceTex,\x20sou'+'rceTexSamp'+'ler,\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20sampl'+'eOctahedra'+'lSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'Lod(fromSp'+'herical(sp'+'h),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a\x0a'+'fn\x20getDire'+'ctionCubem'+'ap(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20st\x20=\x20uv'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20le'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20vec:\x20vec'+'3f;\x0a\x20\x20\x20\x20if'+'\x20(face\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(1,\x20'+'-st.y,\x20-st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3f(-1,\x20-'+'st.y,\x20st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x202.0)')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3f(st.x,\x201'+',\x20st.y);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(face\x20='+'=\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'\x20=\x20vec3f(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(st.'+'x,\x20-st.y,\x20'+'1);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(-st'+'.x,\x20-st.y,'+'\x20-1);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20normal'+'ize(modify'+'Seams(vec,'+'\x201.0));\x0a}\x0a'+'\x0afn\x20matrix'+'FromVector'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20-n.'+'x\x20*\x20n.y\x20*\x20'+'a;\x0a\x20\x20\x20\x20let'+'\x20b1\x20=\x20vec3'+'f(1.0\x20-\x20n.'+'x\x20*\x20n.x\x20*\x20'+'a,\x20b,\x20-n.x'+');\x0a\x20\x20\x20\x20let'+'\x20b2\x20=\x20vec3'+'f(b,\x201.0\x20-'+'\x20n.y\x20*\x20n.y'+'\x20*\x20a,\x20-n.y'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mat3x3'+'f(b1,\x20b2,\x20'+'n);\x0a}\x0a\x0afn\x20'+'matrixFrom'+'VectorSlow'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20up\x20=\x20sel'+'ect(vec3f('+'0.0,\x200.0,\x20'+'select(-1.'+'0,\x201.0,\x20n.'+'y\x20>\x200.0)),'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'),\x20abs(n.y'+')\x20>\x200.0000'+'001);\x0a\x20\x20\x20\x20'+'let\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20let'+'\x20y\x20=\x20cross'+'(n,\x20x);\x0a\x20\x20'+'\x20\x20return\x20m'+'at3x3f(x,\x20'+'y,\x20n);\x0a}\x0a\x0a'+'fn\x20reproje'+'ct(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20i'+'f\x20({NUM_SA'+'MPLES}\x20<=\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20sing'+'le\x20sample\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}({'+'DECODE_FUN'+'C}({SOURCE'+'_FUNC}Dir('+'{TARGET_FU'+'NC}(uv))))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mult'+'i\x20sample\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20t\x20=\x20{TARG')+('ET_FUNC}(u'+'v);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20tu\x20='+'\x20dpdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20tv\x20=\x20dpd'+'y(t);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'u\x20+=\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20for\x20(v'+'ar\x20v\x20=\x200.0'+';\x20v\x20<\x20{NUM'+'_SAMPLES_S'+'QRT};\x20v\x20+='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}Dir(norma'+'lize(t\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'u\x20*\x20(u\x20/\x20{'+'NUM_SAMPLE'+'S_SQRT}\x20-\x20'+'0.5)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tv\x20'+'*\x20(v\x20/\x20{NU'+'M_SAMPLES_'+'SQRT}\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20{ENC'+'ODE_FUNC}('+'result\x20/\x20('+'{NUM_SAMPL'+'ES_SQRT}\x20*'+'\x20{NUM_SAMP'+'LES_SQRT})'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0aconst\x20un'+'packFloat:'+'\x20vec4f\x20=\x20v'+'ec4f(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20fn\x20un'+'packSample'+'(i:\x20i32,\x20L'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20mipLev'+'el:\x20ptr<fu'+'nction,\x20f3'+'2>)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20u\x20'+'=\x20(f32(i\x20*'+'\x204)\x20+\x200.5)'+'\x20*\x20uniform'+'.samplesTe'+'xInverseSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20v\x20'+'=\x20(floor(u'+')\x20+\x200.5)\x20*'+'\x20uniform.s'+'amplesTexI'+'nverseSize'+'.y;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20raw'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.x\x20=\x20dot(t'+'extureSamp')+('le(samples'+'Tex,\x20sampl'+'esTexSampl'+'er,\x20vec2f('+'u,\x20v)),\x20un'+'packFloat)'+';\x20u\x20+=\x20uni'+'form.sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'textureSam'+'ple(sample'+'sTex,\x20samp'+'lesTexSamp'+'ler,\x20vec2f'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20un'+'iform.samp'+'lesTexInve'+'rseSize.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.z\x20=\x20dot'+'(textureSa'+'mple(sampl'+'esTex,\x20sam'+'plesTexSam'+'pler,\x20vec2'+'f(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20u'+'niform.sam'+'plesTexInv'+'erseSize.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'raw.w\x20=\x20do'+'t(textureS'+'ample(samp'+'lesTex,\x20sa'+'mplesTexSa'+'mpler,\x20vec'+'2f(u,\x20v)),'+'\x20unpackFlo'+'at);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20*L\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*m'+'ipLevel\x20=\x20'+'raw.w\x20*\x208.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20con'+'volve\x20an\x20e'+'nvironment'+'\x20given\x20pre'+'-generated'+'\x20samples\x0a\x20'+'\x20\x20\x20fn\x20pref'+'ilterSampl'+'es(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'truct\x20vect'+'or\x20space\x20g'+'iven\x20targe'+'t\x20directio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vecSpa'+'ce\x20=\x20matri'+'xFromVecto'+'rSlow({TAR'+'GET_FUNC}('+'uv));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20L'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20mipLevel:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(var\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20i\x20+=\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unpa'+'ckSample(i'+',\x20&L,\x20&mip'+'Level);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'result\x20+=\x20'+'{DECODE_FU')+('NC}({SOURC'+'E_FUNC}Dir'+'Lod(vecSpa'+'ce\x20*\x20L,\x20mi'+'pLevel))\x20*'+'\x20L.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20to'+'talWeight\x20'+'+=\x20L.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20{ENCOD'+'E_FUNC}(re'+'sult\x20/\x20tot'+'alWeight);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20unwei'+'ghted\x20vers'+'ion\x20of\x20pre'+'filterSamp'+'les\x0a\x20\x20\x20\x20fn'+'\x20prefilter'+'SamplesUnw'+'eighted(uv'+':\x20vec2f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20construct'+'\x20vector\x20sp'+'ace\x20given\x20'+'target\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20v'+'ecSpace\x20=\x20'+'matrixFrom'+'VectorSlow'+'({TARGET_F'+'UNC}(uv));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20L:\x20vec'+'3f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20mipL'+'evel:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20result'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(va'+'r\x20i\x20=\x200;\x20i'+'\x20<\x20{NUM_SA'+'MPLES};\x20i\x20'+'+=\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'unpackSamp'+'le(i,\x20&L,\x20'+'&mipLevel)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}DirLod(ve'+'cSpace\x20*\x20L'+',\x20mipLevel'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'{ENCODE_FU'+'NC}(result'+'\x20/\x20f32({NU'+'M_SAMPLES}'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20{P'+'ROCESS_FUN'+'C}(input.v'+'Uv0);\x0a\x20\x20\x20\x20'+'return\x20out'+'put;\x0a}\x0a'),uI='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0aunifo'+'rm\x20uvMod:\x20'+'vec4f;\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0a\x0a@'+'vertex\x0afn\x20'+'vertexMain'+'(input:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20var\x20outpu'+'t:\x20VertexO'+'utput;\x0a\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(input.v'+'ertex_posi'+'tion,\x200.5,'+'\x201.0);\x0a\x20\x20o'+'utput.vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(input.ver'+'tex_positi'+'on\x20*\x200.5\x20+'+'\x20vec2f(0.5'+',\x200.5))\x20*\x20'+'uniform.uv'+'Mod.xy\x20+\x20u'+'niform.uvM'+'od.zw);\x0a\x20\x20'+'return\x20out'+'put;\x0a}\x0a',pI='\x0a\x0avar\x20uSce'+'neDepthMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20uSceneD'+'epthMapSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifn'+'def\x20SCREEN'+'SIZE\x0a\x20\x20\x20\x20#'+'define\x20SCR'+'EENSIZE\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20#define\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20unifor'+'m\x20matrix_v'+'iew:\x20mat4x'+'4f;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20CAM'+'ERAPLANES\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20CAME'+'RAPLANES\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20camer'+'a_params:\x20'+'vec4f;\x20//\x20'+'x:\x201\x20/\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20\x20y:\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20z:\x20came'+'ra_near,\x20\x20'+'\x20\x20\x20\x20\x20\x20w:\x20i'+'s_ortho\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20fn\x20lin'+'earizeDept'+'h(z:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uniform.c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x20//\x20Pe'+'rspective\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20('+'uniform.ca'+'mera_param'+'s.z\x20*\x20unif'+'orm.camera'+'_params.y)'+'\x20/\x20(unifor'+'m.camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.z\x20-'+'\x20uniform.c'+'amera_para'+'ms.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20unifor'+'m.camera_p'+'arams.z\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'+'\x0afn\x20deline'+'arizeDepth'+'(linearDep'+'th:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.camera'+'_params.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(unif'+'orm.camera'+('_params.y\x20'+'*\x20(uniform'+'.camera_pa'+'rams.z\x20-\x20l'+'inearDepth'+'))\x20/\x20(line'+'arDepth\x20*\x20'+'(uniform.c'+'amera_para'+'ms.z\x20-\x20uni'+'form.camer'+'a_params.y'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(linearD'+'epth\x20-\x20uni'+'form.camer'+'a_params.z'+')\x20/\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20by'+'\x20UV\x0afn\x20get'+'LinearScre'+'enDepth(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_LINEAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SCEN'+'E_DEPTHMAP'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'uSceneDept'+'hMap,\x20uSce'+'neDepthMap'+'Sampler,\x20u'+'v).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20tex'+'tureSize\x20='+'\x20textureDi'+'mensions(u'+'SceneDepth'+'Map,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20texel'+':\x20vec2i\x20=\x20'+'vec2i(uv\x20*'+'\x20vec2f(tex'+'tureSize))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta:\x20vec4f\x20'+'=\x20textureL'+'oad(uScene'+'DepthMap,\x20'+'texel,\x200);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta_u32:\x20ve'+'c4u\x20=\x20vec4'+'u(data\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20intBits'+':\x20u32\x20=\x20(d'+'ata_u32.r\x20'+'<<\x2024u)\x20|\x20'+'(data_u32.'+'g\x20<<\x2016u)\x20'+'|\x20(data_u3'+'2.b\x20<<\x208u)'+'\x20|\x20data_u3'+'2.a;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20bitca'+'st<f32>(in'+'tBits);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pth(textur'+'eSample(uS'+'ceneDepthM')+('ap,\x20uScene'+'DepthMapSa'+'mpler,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20fn\x20get'+'LinearScre'+'enDepthFra'+'g()\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20pcP'+'osition.xy'+'\x20*\x20uniform'+'.uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afn\x20get'+'LinearDept'+'h(pos:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(unif'+'orm.matrix'+'_view\x20*\x20ve'+'c4f(pos,\x201'+'.0)).z;\x0a}\x0a'),mI='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x0afn'+'\x20getShadow'+'CascadeInd'+'ex(shadowC'+'ascadeDist'+'ances:\x20vec'+'4f,\x20shadow'+'CascadeCou'+'nt:\x20i32)\x20-'+'>\x20i32\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20dept'+'h\x20in\x200\x20..\x20'+'far\x20plane\x20'+'range\x0a\x20\x20\x20\x20'+'let\x20depth:'+'\x20f32\x20=\x201.0'+'\x20/\x20pcPosit'+'ion.w;\x0a\x0a\x20\x20'+'\x20\x20//\x201.0\x20i'+'f\x20depth\x20>='+'\x20distance,'+'\x200.0\x20other'+'wise\x0a\x20\x20\x20\x20l'+'et\x20compari'+'sons:\x20vec4'+'f\x20=\x20step(s'+'hadowCasca'+'deDistance'+'s,\x20vec4f(d'+'epth));\x0a\x0a\x20'+'\x20\x20\x20//\x20sum\x20'+'is\x20the\x20ind'+'ex\x0a\x20\x20\x20\x20let'+'\x20cascadeIn'+'dex:\x20i32\x20='+'\x20i32(dot(c'+'omparisons'+',\x20vec4f(1.'+'0)));\x0a\x0a\x20\x20\x20'+'\x20//\x20limit\x20'+'to\x20actual\x20'+'number\x20of\x20'+'used\x20casca'+'des\x0a\x20\x20\x20\x20re'+'turn\x20min(c'+'ascadeInde'+'x,\x20shadowC'+'ascadeCoun'+'t\x20-\x201);\x0a}\x0a'+'\x0a//\x20functi'+'on\x20which\x20m'+'odifies\x20ca'+'scade\x20inde'+'x\x20to\x20dithe'+'r\x20between\x20'+'cascades\x0af'+'n\x20ditherSh'+'adowCascad'+'eIndex(cas'+'cadeIndex_'+'in:\x20i32,\x20s'+'hadowCasca'+'deDistance'+'s:\x20vec4f,\x20'+'shadowCasc'+'adeCount:\x20'+'i32,\x20blend'+'Factor:\x20f3'+'2)\x20->\x20i32\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Use\x20var\x20as'+'\x20cascadeIn'+'dex\x20might\x20'+'be\x20modifie'+'d\x0a\x20\x20\x20\x20var\x20'+'cascadeInd'+'ex:\x20i32\x20=\x20'+'cascadeInd'+'ex_in;\x0a\x20\x20\x20'+'\x20if\x20(casca'+'deIndex\x20<\x20'+'shadowCasc'+'adeCount\x20-'+'\x201)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20cu'+'rrentRange'+'End:\x20f32\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+('\x20transitio'+'nStart:\x20f3'+'2\x20=\x20blendF'+'actor\x20*\x20cu'+'rrentRange'+'End;\x20//\x20St'+'art\x20overla'+'p\x20factor\x20a'+'way\x20from\x20t'+'he\x20end\x20dis'+'tance\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(depth\x20'+'>\x20transiti'+'onStart)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20a\x20tr'+'ansition\x20f'+'actor\x20(0.0'+'\x20to\x201.0)\x20w'+'ithin\x20the\x20'+'overlap\x20ra'+'nge\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'transition'+'Factor:\x20f3'+'2\x20=\x20smooth'+'step(trans'+'itionStart'+',\x20currentR'+'angeEnd,\x20d'+'epth);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Add\x20pse'+'udo-random'+'\x20dithering'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20TODO'+':\x20replace\x20'+'by\x20user\x20se'+'lectable\x20d'+'ithering\x20m'+'ethod\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20dither:\x20'+'f32\x20=\x20frac'+'t(sin(dot('+'pcPosition'+'.xy,\x20vec2f'+'(12.9898,\x20'+'78.233)))\x20'+'*\x2043758.54'+'53);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dither\x20<\x20'+'transition'+'Factor)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20casc'+'adeIndex\x20='+'\x20cascadeIn'+'dex\x20+\x201;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20cascadeIn'+'dex;\x0a}\x0a\x0afn'+'\x20fadeShado'+'w(shadowCo'+'ord_in:\x20ve'+'c3f,\x20shado'+'wCascadeDi'+'stances:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20//\x20if\x20the'+'\x20pixel\x20is\x20'+'past\x20the\x20s'+'hadow\x20dist'+'ance,\x20remo'+'ve\x20shadow\x0a'+'\x20\x20\x20\x20//\x20thi'+'s\x20enforces'+'\x20straight\x20'+'line\x20inste'+'ad\x20of\x20corn'+'er\x20of\x20shad'+'ow\x20which\x20m'+'oves\x20when\x20'+'camera\x20rot'+'ates\x0a\x20\x20\x20\x20v'+'ar\x20shadowC'+'oord:\x20vec3'+'f\x20=\x20shadow')+('Coord_in;\x0a'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x20\x20\x20\x20if\x20(d'+'epth\x20>\x20sha'+'dowCascade'+'Distances.'+'w)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20shadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'hadowCoord'+';\x0a}\x0a'),_I='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afn\x20linste'+'p(a:\x20f32,\x20'+'b:\x20f32,\x20v:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20/'+'/\x20WGSL\x20sat'+'urate\x20->\x20c'+'lamp\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p((v\x20-\x20a)\x20'+'/\x20(b\x20-\x20a),'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0afn\x20re'+'duceLightB'+'leeding(pM'+'ax:\x20f32,\x20a'+'mount:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'fn\x20chebysh'+'evUpperBou'+'nd(moments'+':\x20vec2f,\x20m'+'ean:\x20f32,\x20'+'minVarianc'+'e:\x20f32,\x20li'+'ghtBleedin'+'gReduction'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'//\x20Compute'+'\x20variance\x0a'+'\x20\x20\x20\x20var\x20va'+'riance:\x20f3'+'2\x20=\x20moment'+'s.y\x20-\x20(mom'+'ents.x\x20*\x20m'+'oments.x);'+'\x0a\x20\x20\x20\x20varia'+'nce\x20=\x20max('+'variance,\x20'+'minVarianc'+'e);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'probabilis'+'tic\x20upper\x20'+'bound\x0a\x20\x20\x20\x20'+'let\x20d:\x20f32'+'\x20=\x20mean\x20-\x20'+'moments.x;'+'\x0a\x20\x20\x20\x20var\x20p'+'Max:\x20f32\x20='+'\x20variance\x20'+'/\x20(varianc'+'e\x20+\x20(d\x20*\x20d'+'));\x0a\x0a\x20\x20\x20\x20p'+'Max\x20=\x20redu'+'ceLightBle'+'eding(pMax'+',\x20lightBle'+'edingReduc'+'tion);\x0a\x0a\x20\x20'+'\x20\x20//\x20One-t'+'ailed\x20Cheb'+'yshev\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(pMax,\x20'+'1.0,\x20mean\x20'+'<=\x20moments'+'.x);\x0a}\x0a\x0afn'+'\x20calculate'+'EVSM(momen'+'ts_in:\x20vec'+'3f,\x20Z_in:\x20'+'f32,\x20vsmBi'+'as:\x20f32,\x20e'+'xponent:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20Z:\x20f32\x20=\x20'+'2.0\x20*\x20Z_in'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20let\x20warp'+'edDepth:\x20f'+'32\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20l'+('et\x20moments'+':\x20vec2f\x20=\x20'+'moments_in'+'.xy\x20+\x20vec2'+'f(warpedDe'+'pth,\x20warpe'+'dDepth*war'+'pedDepth)\x20'+'*\x20(1.0\x20-\x20m'+'oments_in.'+'z);\x0a\x0a\x20\x20\x20\x20l'+'et\x20VSMBias'+':\x20f32\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20let\x20d'+'epthScale:'+'\x20f32\x20=\x20VSM'+'Bias\x20*\x20exp'+'onent\x20*\x20wa'+'rpedDepth;'+'\x0a\x20\x20\x20\x20let\x20m'+'inVariance'+'1:\x20f32\x20=\x20d'+'epthScale\x20'+'*\x20depthSca'+'le;\x0a\x20\x20\x20\x20re'+'turn\x20cheby'+'shevUpperB'+'ound(momen'+'ts,\x20warped'+'Depth,\x20min'+'Variance1,'+'\x200.1);\x0a}\x0a/'+'/\x20------\x20V'+'SM\x2016\x20----'+'--\x0a\x0afn\x20VSM'+'16(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords:\x20vec'+'2f,\x20resolu'+'tion:\x20f32,'+'\x20Z:\x20f32,\x20v'+'smBias:\x20f3'+'2,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20let\x20momen'+'ts:\x20vec3f\x20'+'=\x20textureS'+'ampleLevel'+'(tex,\x20texS'+'ampler,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'n\x20getShado'+'wVSM16(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M16(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord.xy,\x20s'+'hadowParam'+'s.x,\x20shado'+'wCoord.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotVSM1'+'6(shadowMa'+'p:\x20texture'+'_2d<f32>,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler,\x20sha'+'dowCoord:\x20'+'vec3f,\x20sha')+('dowParams:'+'\x20vec4f,\x20ex'+'ponent:\x20f3'+'2,\x20lightDi'+'r:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20Z:\x20'+'f32\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20V'+'SM16(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20Z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----'+'--\x0a\x0afn\x20VSM'+'32(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords_in:\x20'+'vec2f,\x20res'+'olution:\x20f'+'32,\x20Z:\x20f32'+',\x20vsmBias:'+'\x20f32,\x20expo'+'nent:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20CAPS_TEX'+'TURE_FLOAT'+'_FILTERABL'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20moment'+'s:\x20vec3f\x20='+'\x20textureSa'+'mpleLevel('+'tex,\x20texSa'+'mpler,\x20tex'+'Coords_in,'+'\x200.0).xyz;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20manual\x20b'+'ilinear\x20fi'+'ltering\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'pixelSize\x20'+':\x20f32\x20=\x201.'+'0\x20/\x20resolu'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20te'+'xCoords:\x20v'+'ec2f\x20=\x20tex'+'Coords_in\x20'+'-\x20vec2f(pi'+'xelSize);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20s00:\x20vec'+'3f\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20texCoords'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20s10:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20texCoor'+'ds\x20+\x20vec2f'+'(pixelSize'+',\x200.0),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'s01:\x20vec3f'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'exCoords\x20+'+'\x20vec2f(0.0'+',\x20pixelSiz'+'e),\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s11:')+('\x20vec3f\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20texCo'+'ords\x20+\x20vec'+'2f(pixelSi'+'ze),\x200.0).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fr:'+'\x20vec2f\x20=\x20f'+'ract(texCo'+'ords\x20*\x20res'+'olution);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20h0:\x20vec3'+'f\x20=\x20mix(s0'+'0,\x20s10,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20h1:'+'\x20vec3f\x20=\x20m'+'ix(s01,\x20s1'+'1,\x20fr.x);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20moments:'+'\x20vec3f\x20=\x20m'+'ix(h0,\x20h1,'+'\x20fr.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owVSM32(sh'+'adowMap:\x20t'+'exture_2d<'+'f32>,\x20shad'+'owMapSampl'+'er:\x20sample'+'r,\x20shadowC'+'oord:\x20vec3'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20expone'+'nt:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20V'+'SM32(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afn\x20getSha'+'dowSpotVSM'+'32(shadowM'+'ap:\x20textur'+'e_2d<f32>,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20e'+'xponent:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20Z:'+'\x20f32\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20Z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a'),gI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afn\x20getS'+'hadowPCF1x'+'1(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowCoo'+'rd.z);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotPCF1'+'x1(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20shad'+'owCoord.xy'+',\x20shadowCo'+'ord.z);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a//\x20Not\x20su'+'pported\x20on'+'\x20WebGPU\x20de'+'vice\x0a//\x20fn'+'\x20getShadow'+'OmniPCF1x1'+'(shadowMap'+':\x20texture_'+'depth_cube'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f,'+'\x20lightDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a//\x20'+'\x20\x20\x20\x20let\x20sh'+'adowZ:\x20f32'+'\x20=\x20length('+'lightDir)\x20'+'*\x20shadowPa'+'rams.w\x20+\x20s'+'hadowParam'+'s.z;\x0a//\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20lightD'+'ir,\x20shadow'+'Z);\x0a//\x20}\x0a',SI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0afn\x20_getS'+'hadowPCF3x'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20sum:\x20f3'+'2\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20let\x20uw'+'0:\x20f32\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20s);\x0a\x20\x20\x20\x20'+'let\x20uw1:\x20f'+'32\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20s)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20u0_offset'+':\x20f32\x20=\x20(2'+'.0\x20-\x20s)\x20/\x20'+'uw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20let\x20u'+'1_offset:\x20'+'f32\x20=\x20s\x20/\x20'+'uw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'vw0:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20let\x20vw1:'+'\x20f32\x20=\x20(1.'+'0\x20+\x202.0\x20*\x20'+'t);\x0a\x0a\x20\x20\x20\x20l'+'et\x20v0_offs'+'et:\x20f32\x20=\x20'+'(2.0\x20-\x20t)\x20'+'/\x20vw0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20let'+'\x20v1_offset'+':\x20f32\x20=\x20t\x20'+'/\x20vw1\x20+\x201.'+'0;\x0a\x0a\x20\x20\x20\x20le'+'t\x20u0:\x20f32\x20'+'=\x20u0_offse'+'t\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20v0:\x20f32\x20'+'=\x20v0_offse'+'t\x20*\x20shadow'+('MapSizeInv'+'\x20+\x20base_uv'+'.y;\x0a\x0a\x20\x20\x20\x20l'+'et\x20u1:\x20f32'+'\x20=\x20u1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20l'+'et\x20v1:\x20f32'+'\x20=\x20v1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'sum\x20=\x20sum\x20'+'+\x20uw0\x20*\x20vw'+'0\x20*\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20v'+'ec2f(u0,\x20v'+'0),\x20z);\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw1\x20*\x20'+'vw0\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u1,'+'\x20v0),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw0\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'0,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u1,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20*'+'\x20(1.0\x20/\x2016'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20sum;'+'\x0a}\x0a\x0afn\x20get'+'ShadowPCF3'+'x3(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wPCF3x3(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0afn\x20getSh'+'adowSpotPC'+'F3x3(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3(')+('shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams.xyz);'+'\x0a}\x0a\x0a//\x20---'+'--\x20Omni\x20Sa'+'mpling\x20---'+'--\x0a\x0a//\x20Not'+'\x20currently'+'\x20supported'+'\x20on\x20WebGPU'+'\x20device\x0a//'+'\x20fn\x20getSha'+'dowOmniPCF'+'3x3(shadow'+'Map:\x20textu'+'re_depth_c'+'ube,\x20shado'+'wMapSample'+'r:\x20sampler'+'_compariso'+'n,\x20shadowP'+'arams:\x20vec'+'4f,\x20dir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a//\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a//\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(dir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x0a//'+'\x20\x20\x20\x20\x20//\x20of'+'fset\x0a//\x20\x20\x20'+'\x20\x20let\x20texS'+'ize_i\x20=\x20te'+'xtureDimen'+'sions(shad'+'owMap,\x200);'+'\x0a//\x20\x20\x20\x20\x20le'+'t\x20z:\x20f32\x20='+'\x201.0\x20/\x20f32'+'(texSize_i'+'.x);\x0a//\x20\x20\x20'+'\x20\x20let\x20tc:\x20'+'vec3f\x20=\x20no'+'rmalize(di'+'r);\x0a\x0a//\x20\x20\x20'+'\x20\x20//\x20avera'+'ge\x204\x20sampl'+'es\x20-\x20not\x20a'+'\x20strict\x203x'+'3\x20PCF\x20but\x20'+'that\x27s\x20tri'+'cky\x20with\x20c'+'ubemaps\x0a//'+'\x20\x20\x20\x20\x20var\x20s'+'hadows:\x20ve'+'c4f;\x0a//\x20\x20\x20'+'\x20\x20shadows.'+'x\x20=\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20t'+'c\x20+\x20vec3f('+'\x20z,\x20\x20z,\x20\x20z'+'),\x20shadowZ'+');\x0a//\x20\x20\x20\x20\x20'+'shadows.y\x20'+'=\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20tc\x20'+'+\x20vec3f(-z'+',\x20-z,\x20\x20z),'+'\x20shadowZ);'+'\x0a//\x20\x20\x20\x20\x20sh'+'adows.z\x20=\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20tc\x20+\x20'+'vec3f(-z,\x20'+'\x20z,\x20-z),\x20s'+'hadowZ);\x0a/')+('/\x20\x20\x20\x20\x20shad'+'ows.w\x20=\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20tc\x20+\x20ve'+'c3f(\x20z,\x20-z'+',\x20-z),\x20sha'+'dowZ);\x0a\x0a//'+'\x20\x20\x20\x20\x20retur'+'n\x20dot(shad'+'ows,\x20vec4f'+'(0.25));\x0a/'+'/\x20}\x0a\x0a//\x20fn'+'\x20getShadow'+'OmniPCF3x3'+'_Wrapper(s'+'hadowMap:\x20'+'texture_de'+'pth_cube,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a//\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCF3x3(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowParams'+',\x20lightDir'+');\x0a//\x20}\x0a'),yI='\x0a//\x20http:/'+'/the-witne'+'ss.net/new'+'s/2013/09/'+'shadow-map'+'ping-summa'+'ry-part-1/'+'\x0afn\x20_getSh'+'adowPCF5x5'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20l'+'et\x20uw0:\x20f3'+'2\x20=\x20(4.0\x20-'+'\x203.0\x20*\x20s);'+'\x0a\x20\x20\x20\x20let\x20u'+'w1:\x20f32\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20l'+'et\x20uw2:\x20f3'+'2\x20=\x20(1.0\x20+'+'\x203.0\x20*\x20s);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'u0_offset:'+'\x20f32\x20=\x20(3.'+'0\x20-\x202.0\x20*\x20'+'s)\x20/\x20uw0\x20-'+'\x202.0;\x0a\x20\x20\x20\x20'+'let\x20u1_off'+'set:\x20f32\x20='+'\x20(3.0\x20+\x20s)'+'\x20/\x20uw1;\x0a\x20\x20'+'\x20\x20let\x20u2_o'+'ffset:\x20f32'+'\x20=\x20s\x20/\x20uw2'+'\x20+\x202.0;\x0a\x0a\x20'+'\x20\x20\x20let\x20vw0'+':\x20f32\x20=\x20(4'+'.0\x20-\x203.0\x20*'+'\x20t);\x0a\x20\x20\x20\x20l'+'et\x20vw1:\x20f3'+'2\x20=\x207.0;\x0a\x20'+'\x20\x20\x20let\x20vw2'+':\x20f32\x20=\x20(1'+'.0\x20+\x203.0\x20*'+'\x20t);\x0a\x0a\x20\x20\x20\x20'+'let\x20v0_off'+'set:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t)\x20/\x20v'+'w0\x20-\x202.0;\x0a'+'\x20\x20\x20\x20let\x20v1'+'_offset:\x20f'+'32\x20=\x20(3.0\x20'+('+\x20t)\x20/\x20vw1'+';\x0a\x20\x20\x20\x20let\x20'+'v2_offset:'+'\x20f32\x20=\x20t\x20/'+'\x20vw2\x20+\x202.0'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20sum:\x20f32\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20let\x20u0:\x20'+'f32\x20=\x20u0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.x;\x0a\x20\x20'+'\x20\x20let\x20v0:\x20'+'f32\x20=\x20v0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20u1:'+'\x20f32\x20=\x20u1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.x;\x0a\x20'+'\x20\x20\x20let\x20v1:'+'\x20f32\x20=\x20v1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20let\x20u2'+':\x20f32\x20=\x20u2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.x;\x0a'+'\x20\x20\x20\x20let\x20v2'+':\x20f32\x20=\x20v2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20sum\x20='+'\x20sum\x20+\x20uw0'+'\x20*\x20vw0\x20*\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20vec2f('+'u0,\x20v0),\x20z'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20sum\x20+\x20u'+'w1\x20*\x20vw0\x20*'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20vec2'+'f(u1,\x20v0),'+'\x20z);\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw2\x20*\x20vw0'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u2,\x20v0'+'),\x20z);\x0a\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw0\x20*\x20'+'vw1\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u0,'+'\x20v1),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'1,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'2\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare')+('Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u2,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw0\x20*\x20vw2'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u0,\x20v2'+'),\x20z);\x0a\x20\x20\x20'+'\x20sum\x20=\x20sum'+'\x20+\x20uw1\x20*\x20v'+'w2\x20*\x20textu'+'reSampleCo'+'mpareLevel'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'vec2f(u1,\x20'+'v2),\x20z);\x0a\x20'+'\x20\x20\x20sum\x20=\x20s'+'um\x20+\x20uw2\x20*'+'\x20vw2\x20*\x20tex'+'tureSample'+'CompareLev'+'el(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20vec2f(u2'+',\x20v2),\x20z);'+'\x0a\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20*\x20(1'+'.0\x20/\x20144.0'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afn'+'\x20getShadow'+'PCF5x5(sha'+'dowMap:\x20te'+'xture_dept'+'h_2d,\x20shad'+'owMapSampl'+'er:\x20sample'+'r_comparis'+'on,\x20shadow'+'Coord:\x20vec'+'3f,\x20shadow'+'Params:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20_getS'+'hadowPCF5x'+'5(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params.xyz'+');\x0a}\x0a\x0afn\x20g'+'etShadowSp'+'otPCF5x5(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owCoord:\x20v'+'ec3f,\x20shad'+'owParams:\x20'+'vec4f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20_ge'+'tShadowPCF'+'5x5(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a'),vI='\x0a\x0afn\x20fract'+'SinRand(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20PI:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20a:\x20f32\x20'+'=\x2012.9898;'+'\x20let\x20b:\x20f3'+'2\x20=\x2078.233'+';\x20let\x20c:\x20f'+'32\x20=\x2043758'+'.5453;\x0a\x20\x20\x20'+'\x20let\x20dt:\x20f'+'32\x20=\x20dot(u'+'v.xy,\x20vec2'+'f(a,\x20b));\x0a'+'\x20\x20\x20\x20let\x20sn'+':\x20f32\x20=\x20dt'+'\x20%\x20PI;\x0a\x20\x20\x20'+'\x20return\x20fr'+'act(sin(sn'+')\x20*\x20c);\x0a}\x0a'+'\x0a//\x20struct'+'\x20to\x20hold\x20p'+'recomputed'+'\x20constants'+'\x20and\x20curre'+'nt\x20state\x0as'+'truct\x20Voge'+'lDiskData\x20'+'{\x0a\x20\x20\x20\x20invN'+'umSamples:'+'\x20f32,\x0a\x20\x20\x20\x20'+'initialAng'+'le:\x20f32,\x0a\x20'+'\x20\x20\x20current'+'PointId:\x20f'+'32,\x0a}\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'fn\x20prepare'+'DiskConsta'+'nts(data:\x20'+'ptr<functi'+'on,\x20VogelD'+'iskData>,\x20'+'sampleCoun'+'t:\x20i32,\x20ra'+'ndomSeed:\x20'+'f32)\x20{\x0a\x20\x20\x20'+'\x20let\x20pi2:\x20'+'f32\x20=\x206.28'+'318530718;'+'\x0a\x20\x20\x20\x20data.'+'invNumSamp'+'les\x20=\x201.0\x20'+'/\x20f32(samp'+'leCount);\x0a'+'\x20\x20\x20\x20data.i'+'nitialAngl'+'e\x20=\x20random'+'Seed\x20*\x20pi2'+';\x0a\x20\x20\x20\x20data'+'.currentPo'+'intId\x20=\x200.'+'0;\x0a}\x0a\x0a\x0afn\x20'+'generateDi'+'skSample(d'+'ata:\x20ptr<f'+'unction,\x20V'+'ogelDiskDa'+'ta>)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20GOLDEN'+'_ANGLE:\x20f3'+'2\x20=\x202.3999'+'63;\x0a\x20\x20\x20\x20le'+'t\x20r:\x20f32\x20='+'\x20sqrt((dat'+'a.currentP'+'ointId\x20+\x200'+'.5)\x20*\x20data'+'.invNumSam'+'ples);\x0a\x20\x20\x20'+'\x20let\x20theta'+':\x20f32\x20=\x20da'+'ta.current'+'PointId\x20*\x20'+'GOLDEN_ANG'+'LE\x20+\x20data.'+'initialAng'+('le;\x0a\x0a\x20\x20\x20\x20l'+'et\x20offset:'+'\x20vec2f\x20=\x20v'+'ec2f(cos(t'+'heta),\x20sin'+'(theta))\x20*'+'\x20pow(r,\x201.'+'33);\x0a\x0a\x20\x20\x20\x20'+'data.curre'+'ntPointId\x20'+'=\x20data.cur'+'rentPointI'+'d\x20+\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'offset;\x0a}\x0a'+'\x0afn\x20PCSSFi'+'ndBlocker('+'shadowMap:'+'\x20texture_2'+'d<f32>,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler,\x20avgBl'+'ockerDepth'+':\x20ptr<func'+'tion,\x20f32>'+',\x20numBlock'+'ers:\x20ptr<f'+'unction,\x20i'+'32>,\x0a\x20\x20\x20\x20s'+'hadowCoord'+'s:\x20vec2f,\x20'+'z:\x20f32,\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32,\x20penum'+'braSize:\x20f'+'32,\x20invSha'+'dowMapSize'+':\x20f32,\x20ran'+'domSeed:\x20f'+'32)\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20diskD'+'ata:\x20Vogel'+'DiskData;\x0a'+'\x20\x20\x20\x20prepar'+'eDiskConst'+'ants(&disk'+'Data,\x20shad'+'owBlockerS'+'amples,\x20ra'+'ndomSeed);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'searchWidt'+'h:\x20f32\x20=\x20p'+'enumbraSiz'+'e\x20*\x20invSha'+'dowMapSize'+';\x0a\x20\x20\x20\x20var\x20'+'blockerSum'+':\x20f32\x20=\x200.'+'0;\x0a\x20\x20\x20\x20var'+'\x20numBlocke'+'rs_local:\x20'+'i32\x20=\x200;\x0a\x0a'+'\x20\x20\x20\x20for(\x20v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20s'+'hadowBlock'+'erSamples;'+'\x20i\x20=\x20i\x20+\x201'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20dis'+'kUV:\x20vec2f'+'\x20=\x20generat'+'eDiskSampl'+'e(&diskDat'+'a);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20samp'+'leUV:\x20vec2'+'f\x20=\x20shadow'+'Coords\x20+\x20d'+'iskUV\x20*\x20se'+'archWidth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadowM'+'apDepth:\x20f'+'32\x20=\x20textu'+'reSampleLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20sampleU'+'V,\x200.0).r;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(\x20shadow'+'MapDepth\x20<'+'\x20z\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20b'+'lockerSum\x20')+('=\x20blockerS'+'um\x20+\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers_local'+'\x20=\x20numBloc'+'kers_local'+'\x20+\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20*avg'+'BlockerDep'+'th\x20=\x20block'+'erSum\x20/\x20f3'+'2(numBlock'+'ers_local)'+';\x0a\x20\x20\x20\x20*num'+'Blockers\x20='+'\x20numBlocke'+'rs_local;\x0a'+'}\x0a\x0afn\x20PCSS'+'Filter(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20uv:\x20vec2'+'f,\x20receive'+'rDepth:\x20f3'+'2,\x20shadowS'+'amples:\x20i3'+'2,\x20filterR'+'adius:\x20f32'+',\x20randomSe'+'ed:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20var\x20dis'+'kData:\x20Vog'+'elDiskData'+';\x0a\x20\x20\x20\x20prep'+'areDiskCon'+'stants(&di'+'skData,\x20sh'+'adowSample'+'s,\x20randomS'+'eed);\x0a\x0a\x20\x20\x20'+'\x20var\x20sum:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20for\x20('+'var\x20i:\x20i32'+'\x20=\x200;\x20i\x20<\x20'+'shadowSamp'+'les;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'offsetUV:\x20'+'vec2f\x20=\x20ge'+'nerateDisk'+'Sample(&di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dept'+'h:\x20f32\x20=\x20t'+'extureSamp'+'leLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv\x20'+'+\x20offsetUV'+',\x200.0).r;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20su'+'m\x20=\x20sum\x20+\x20'+'step(recei'+'verDepth,\x20'+'depth);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20sum\x20/'+'\x20f32(shado'+'wSamples);'+'\x0a}\x0a\x0afn\x20get'+'Penumbra(d'+'blocker:\x20f'+'32,\x20drecei'+'ver:\x20f32,\x20'+'penumbraSi'+'ze:\x20f32,\x20p'+'enumbraFal'+'loff:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20di'+'st:\x20f32\x20=\x20'+'dreceiver\x20'+'-\x20dblocker'+';\x0a\x20\x20\x20\x20let\x20'+'penumbra:\x20'+'f32\x20=\x201.0\x20'+'-\x20pow(1.0\x20'+'-\x20dist,\x20pe')+('numbraFall'+'off);\x0a\x20\x20\x20\x20'+'return\x20pen'+'umbra\x20*\x20pe'+'numbraSize'+';\x0a}\x0a\x0afn\x20PC'+'SSDirectio'+'nal(shadow'+'Map:\x20textu'+'re_2d<f32>'+',\x20shadowMa'+'pSampler:\x20'+'sampler,\x20s'+'hadowCoord'+'s:\x20vec3f,\x20'+'cameraPara'+'ms:\x20vec4f,'+'\x20softShado'+'wParams:\x20v'+'ec4f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'let\x20receiv'+'erDepth:\x20f'+'32\x20=\x20shado'+'wCoords.z;'+'\x0a\x20\x20\x20\x20let\x20r'+'andomSeed:'+'\x20f32\x20=\x20fra'+'ctSinRand('+'pcPosition'+'.xy);\x0a\x20\x20\x20\x20'+'let\x20shadow'+'Samples:\x20i'+'32\x20=\x20i32(s'+'oftShadowP'+'arams.x);\x0a'+'\x20\x20\x20\x20let\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32\x20=\x20i32('+'softShadow'+'Params.y);'+'\x0a\x20\x20\x20\x20let\x20p'+'enumbraSiz'+'e:\x20f32\x20=\x20s'+'oftShadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20let\x20pen'+'umbraFallo'+'ff:\x20f32\x20=\x20'+'softShadow'+'Params.w;\x0a'+'\x0a\x20\x20\x20\x20let\x20s'+'hadowMapSi'+'ze:\x20i32\x20=\x20'+'i32(textur'+'eDimension'+'s(shadowMa'+'p,\x200).x);\x0a'+'\x20\x20\x20\x20var\x20in'+'vShadowMap'+'Size:\x20f32\x20'+'=\x201.0\x20/\x20f3'+'2(shadowMa'+'pSize);\x0a\x20\x20'+'\x20\x20invShado'+'wMapSize\x20='+'\x20invShadow'+'MapSize\x20*\x20'+'(f32(shado'+'wMapSize)\x20'+'/\x202048.0);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'penumbra:\x20'+'f32;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20avgBloc'+'kerDepth:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20numBloc'+'kers:\x20i32\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20&a'+'vgBlockerD'+'epth,\x20&num')+('Blockers,\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowBl'+'ockerSampl'+'es,\x20penumb'+'raSize,\x20in'+'vShadowMap'+'Size,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20when\x20no\x20b'+'lockers\x20ar'+'e\x20present\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(numBlock'+'ers\x20<\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20pen'+'umbra\x20size'+'\x20is\x20based\x20'+'on\x20the\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'getPenumbr'+'a(avgBlock'+'erDepth,\x20s'+'hadowCoord'+'s.z,\x20penum'+'braSize,\x20p'+'enumbraFal'+'loff);\x0a\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20constan'+'t\x20filter\x20s'+'ize,\x20no\x20co'+'ntact\x20hard'+'ening\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20penum'+'braSize;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20filter'+'Radius:\x20f3'+'2\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ords.xy,\x20r'+'eceiverDep'+'th,\x20shadow'+'Samples,\x20f'+'ilterRadiu'+'s,\x20randomS'+'eed);\x0a}\x0a\x0af'+'n\x20getShado'+'wPCSS(shad'+'owMap:\x20tex'+'ture_2d<f3'+'2>,\x20shadow'+'MapSampler'+':\x20sampler,'+'\x20shadowCoo'+'rd:\x20vec3f,'+'\x20shadowPar'+'ams:\x20vec4f'+',\x20cameraPa'+'rams:\x20vec4'+'f,\x20softSha'+'dowParams:'+'\x20vec4f,\x20li'+'ghtDir:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x20//\x20lig'+'htDir\x20unus'+'ed?\x20Kept\x20p'+'aram.\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SDirection'+'al(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP')+'arams);\x0a}\x0a',xI='\x0aattribute'+'\x20vertex_bo'+'neIndices:'+'\x20f32;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20g'+'etBoneMatr'+'ix(indexFl'+'oat:\x20f32)\x20'+'->\x20mat4x4f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20width\x20=\x20'+'i32(textur'+'eDimension'+'s(texture_'+'poseMap).x'+');\x0a\x20\x20\x20\x20let'+'\x20index:\x20i3'+'2\x20=\x20i32(in'+'dexFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x20\x20\x20\x20let\x20i'+'y:\x20i32\x20=\x20i'+'ndex\x20/\x20wid'+'th;\x0a\x20\x20\x20\x20le'+'t\x20ix:\x20i32\x20'+'=\x20index\x20%\x20'+'width;\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'elements\x20o'+'f\x204x3\x20matr'+'ix\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec4f'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(ix'+'\x20+\x200,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20v2:\x20vec'+'4f\x20=\x20textu'+'reLoad(tex'+'ture_poseM'+'ap,\x20vec2i('+'ix\x20+\x201,\x20iy'+'),\x200);\x0a\x20\x20\x20'+'\x20let\x20v3:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(ix\x20+\x202,\x20'+'iy),\x200);\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4x4f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.x,\x20v2.x,'+'\x20v3.x,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.y,\x20v2.y,\x20'+'v3.y,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'z,\x20v2.z,\x20v'+'3.z,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.w'+',\x20v2.w,\x20v3'+'.w,\x201.0\x0a\x20\x20'+'\x20\x20);\x0a}\x0a',TI='\x0a\x0aattribut'+'e\x20vertex_b'+'oneWeights'+':\x20vec4f;\x0aa'+'ttribute\x20v'+'ertex_bone'+'Indices:\x20v'+'ec4f;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0astru'+'ct\x20BoneMat'+'rix\x20{\x0a\x20\x20\x20\x20'+'v1:\x20vec4f,'+'\x0a\x20\x20\x20\x20v2:\x20v'+'ec4f,\x0a\x20\x20\x20\x20'+'v3:\x20vec4f,'+'\x0a}\x0a\x0afn\x20get'+'BoneMatrix'+'(width:\x20i3'+'2,\x20index:\x20'+'i32)\x20->\x20Bo'+'neMatrix\x20{'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'v\x20=\x20index\x20'+'/\x20width;\x0a\x20'+'\x20\x20\x20let\x20u\x20='+'\x20index\x20%\x20w'+'idth;\x0a\x0a\x20\x20\x20'+'\x20var\x20resul'+'t:\x20BoneMat'+'rix;\x0a\x20\x20\x20\x20r'+'esult.v1\x20='+'\x20textureLo'+'ad(texture'+'_poseMap,\x20'+'vec2i(u\x20+\x20'+'0,\x20v),\x200);'+'\x0a\x20\x20\x20\x20resul'+'t.v2\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20result.v3'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(u\x20'+'+\x202,\x20v),\x200'+');\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0afn\x20ge'+'tSkinMatri'+'x(indicesF'+'loat:\x20vec4'+'f,\x20weights'+':\x20vec4f)\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20width\x20=\x20i'+'32(texture'+'Dimensions'+'(texture_p'+'oseMap).x)'+';\x0a\x20\x20\x20\x20var\x20'+'indices\x20=\x20'+'vec4i(indi'+'cesFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'boneA\x20=\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.x);'+'\x0a\x20\x20\x20\x20let\x20b'+'oneB\x20=\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y);\x0a'+'\x20\x20\x20\x20let\x20bo'+'neC\x20=\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.z);\x0a\x20'+'\x20\x20\x20let\x20bon'+'eD\x20=\x20getBo'+'neMatrix(w'+'idth,\x20indi'+'ces.w);\x0a\x0a\x20'+'\x20\x20\x20//\x20...\x20'+'rest\x20of\x20ge'+'tSkinMatri'+'x\x20remains\x20'+'the\x20same\x20.'+'..\x0a\x20\x20\x20\x20let'+'\x20v1\x20=\x20bone'+'A.v1\x20*\x20wei'+('ghts.x\x20+\x20b'+'oneB.v1\x20*\x20'+'weights.y\x20'+'+\x20boneC.v1'+'\x20*\x20weights'+'.z\x20+\x20boneD'+'.v1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20let\x20v2\x20=\x20'+'boneA.v2\x20*'+'\x20weights.x'+'\x20+\x20boneB.v'+'2\x20*\x20weight'+'s.y\x20+\x20bone'+'C.v2\x20*\x20wei'+'ghts.z\x20+\x20b'+'oneD.v2\x20*\x20'+'weights.w;'+'\x0a\x20\x20\x20\x20let\x20v'+'3\x20=\x20boneA.'+'v3\x20*\x20weigh'+'ts.x\x20+\x20bon'+'eB.v3\x20*\x20we'+'ights.y\x20+\x20'+'boneC.v3\x20*'+'\x20weights.z'+'\x20+\x20boneD.v'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'let\x20one\x20=\x20'+'dot(weight'+'s,\x20vec4f(1'+'.0,\x201.0,\x201'+'.0,\x201.0));'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'ranspose\x20t'+'o\x204x4\x20matr'+'ix\x0a\x20\x20\x20\x20ret'+'urn\x20mat4x4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20v1.x,\x20v2.'+'x,\x20v3.x,\x200'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.y,\x20v2.y'+',\x20v3.y,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.z,\x20v2.z,'+'\x20v3.z,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.w,\x20v2.w,\x20'+'v3.w,\x20one\x0a'+'\x20\x20\x20\x20);\x0a}\x0a'),wI='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vLinear'+'Depth:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'floatAsUin'+'tPS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20Varyin'+'g\x20and\x20unif'+'orm\x20declar'+'ations\x0a\x20\x20\x20'+'\x20varying\x20v'+'ViewDir\x20:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20uniform\x20s'+'kyboxHighl'+'ightMultip'+'lier\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20SKY_CU'+'BEMAP\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cub'+'eMap\x20:\x20tex'+'ture_cube<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_cube'+'Map_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vWo'+'rldPos\x20:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20p'+'rojectedSk'+'ydomeCente'+'r\x20:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'env-atlas\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'phericalPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'envAtlasPS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_envAtlas_'+'sampler\x20:\x20'+'sampler;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20mipL'+'evel\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20@'+'fragment\x0a\x20'+'\x20\x20\x20fn\x20frag'+'mentMain(i'+'nput\x20:\x20Fra'+'gmentInput'+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20PREPA'+('SS_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20output'+'\x20linear\x20de'+'pth\x20during'+'\x20prepass\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20floa'+'t2vec4(vLi'+'nearDepth)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20linear'+'\x20:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20dir\x20'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KY_CUBEMAP'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+'\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+'nvDir\x20:\x20ve'+'c3f\x20=\x20norm'+'alize(inpu'+'t.vWorldPo'+'s\x20-\x20unifor'+'m.projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'\x20=\x20envDir\x20'+'*\x20uniform.'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir\x20='+'\x20input.vVi'+'ewDir;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'.x\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'tureSample'+'(texture_c'+'ubeMap,\x20te'+'xture_cube'+'Map_sample'+'r,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20env-atla'+'s\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ir\x20=\x20input'+'.vViewDir\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv\x20:\x20'+'vec2f\x20=\x20to'+'SphericalU'+'v(normaliz'+'e(dir));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20linea'+'r\x20=\x20{SKYBO'+'X_DECODE_F'+'NC}(textur'+'eSample(te'+'xture_envA'+'tlas,\x20text'+'ure_envAtl'+'as_sampler'+',\x20mapRough'+'nessUv(uv,')+('\x20uniform.m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ou'+'r\x20HDR\x20enco'+'des\x20values'+'\x20up\x20to\x2064,'+'\x20so\x20allow\x20'+'extra\x20brig'+'htness\x20for'+'\x20the\x20clipp'+'ed\x20values\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(any('+'linear\x20>=\x20'+'vec3f(64.0'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20uniform.'+'skyboxHigh'+'lightMulti'+'plier;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),EI='\x0a\x20\x20\x20\x20//\x20At'+'tribute\x0a\x20\x20'+'\x20\x20attribut'+'e\x20aPositio'+'n\x20:\x20vec4f;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20matrix'+'_view\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20uniform\x20m'+'atrix_proj'+'ectionSkyb'+'ox\x20:\x20mat4x'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vViewDir'+'\x20:\x20vec3f;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PREPASS_'+'PASS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20when'+'\x20skydome\x20r'+'enders\x20dep'+'th\x20during\x20'+'prepass,\x20g'+'enerate\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vLi'+'nearDepth:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vWorldP'+'os\x20:\x20vec3f'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input\x20'+':\x20VertexIn'+'put)\x20->\x20Ve'+'rtexOutput'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut\x20:\x20Verte'+'xOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20view\x20:\x20ma'+'t4x4f\x20=\x20un'+'iform.matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'worldPos\x20:'+'\x20vec4f\x20=\x20u'+'niform.mat'+'rix_model\x20'+'*\x20input.aP'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vW'+'orldPos\x20=\x20'+'worldPos.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'inear\x20dept'+'h\x20from\x20the'+'\x20worldPosi'+'tion,\x20see\x20'+'getLinearD'+'epth\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vL'+'inearDepth'+'\x20=\x20-(unifo'+('rm.matrix_'+'view\x20*\x20vec'+'4f(worldPo'+'s.xyz,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[0]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[1]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[2]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20uniform.m'+'atrix_proj'+'ectionSkyb'+'ox\x20*\x20(view'+'\x20*\x20input.a'+'Position);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'vViewDir\x20='+'\x20input.aPo'+'sition.xyz'+'\x20*\x20uniform'+'.cubeMapRo'+'tationMatr'+'ix;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20for\x20'+'infinite\x20s'+'kybox,\x20use'+'\x20negative\x20'+'gl_Positio'+'n.w\x20to\x20get'+'\x20positive\x20'+'linear\x20dep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-pcPositi'+'on.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Force\x20sk'+'ybox\x20to\x20fa'+'r\x20Z,\x20regar'+'dless\x20of\x20t'+'he\x20clip\x20pl'+'anes\x20on\x20th'+'e\x20camera\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Subtract\x20a'+'\x20tiny\x20fudg'+'e\x20factor\x20t'+'o\x20ensure\x20f'+'loating\x20po'+'int\x20errors'+'\x20don\x27t\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20st'+'ill\x20push\x20p'+'ixels\x20beyo'+'nd\x20far\x20Z.\x20'+'See:\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20http'+'s://commun'+'ity.khrono'+'s.org/t/sk'+'ybox-probl'+'em/61857\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.posit'+'ion.z\x20=\x20ou'+'tput.posit'+'ion.w\x20-\x201.'+'0e-7;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),bI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_specular'+':\x20vec3f;\x0a#'+'endif\x0a\x0afn\x20'+'getSpecula'+'rity()\x20{\x0a\x20'+'\x20\x20\x20var\x20spe'+'cularColor'+'\x20=\x20vec3f(1'+'.0,\x201.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'CONSTANT\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20unifo'+'rm.materia'+'l_specular'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_TE'+'XTURE\x0a\x20\x20\x20\x20'+'specularCo'+'lor\x20=\x20spec'+'ularColor\x20'+'*\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SPECU'+'LAR_TEXTUR'+'E_NAME},\x20{'+'STD_SPECUL'+'AR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_S'+'PECULAR_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SPECULA'+'R_VERTEX\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20satur'+'ate3(vVert'+'exColor.{S'+'TD_SPECULA'+'R_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dSpe'+'cularity\x20='+'\x20specularC'+'olor;\x0a}\x0a',AI='\x0a\x0afn\x20toSph'+'erical(dir'+':\x20vec3f)\x20-'+'>\x20vec2f\x20{\x0a'+'\x20\x20\x20\x20let\x20an'+'gle_xz\x20=\x20s'+'elect(0.0,'+'\x20atan2(dir'+'.x,\x20dir.z)'+',\x20any(dir.'+'xz\x20!=\x20vec2'+'f(0.0)));\x0a'+'\x20\x20\x20\x20return'+'\x20vec2f(ang'+'le_xz,\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0afn\x20toS'+'phericalUv'+'(dir\x20:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20c'+'onst\x20PI\x20:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20uv\x20:\x20ve'+'c2f\x20=\x20toSp'+'herical(di'+'r)\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x20vec'+'2f(0.5,\x200.'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y);\x0a'+'}\x0a',CI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'\x20\x20\x20\x20unifor'+'m\x20material'+'_speculari'+'tyFactor:\x20'+'f32;\x0a#endi'+'f\x0a\x0afn\x20getS'+'pecularity'+'Factor()\x20{'+'\x0a\x20\x20\x20\x20var\x20s'+'pecularity'+'Factor\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20speculari'+'tyFactor\x20='+'\x20speculari'+'tyFactor\x20*'+'\x20uniform.m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'ARITYFACTO'+'R_TEXTURE\x0a'+'\x20\x20\x20\x20specul'+'arityFacto'+'r\x20=\x20specul'+'arityFacto'+'r\x20*\x20textur'+'eSampleBia'+'s({STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_NAME},\x20'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_VE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_SPEC'+'ULARITYFAC'+'TOR_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dS'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor;\x0a}\x0a',PI='\x0afn\x20getSpo'+'tEffect(li'+'ghtSpotDir'+':\x20vec3f,\x20l'+'ightInnerC'+'oneAngle:\x20'+'f32,\x20light'+'OuterConeA'+'ngle:\x20f32,'+'\x20lightDirN'+'orm:\x20vec3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'osAngle:\x20f'+'32\x20=\x20dot(l'+'ightDirNor'+'m,\x20lightSp'+'otDir);\x0a\x20\x20'+'\x20\x20return\x20s'+'moothstep('+'lightOuter'+'ConeAngle,'+'\x20lightInne'+'rConeAngle'+',\x20cosAngle'+');\x0a}',MI='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2f(vUv0'+'.x,\x201.0\x20-\x20'+'vUv0.y);\x0a',DI='\x0a\x20\x20\x20\x20let\x20t'+'ileMask:\x20v'+'ec2f\x20=\x20ste'+'p(vMask,\x20v'+'ec2f(0.999'+'99));\x0a\x20\x20\x20\x20'+'let\x20tileSi'+'ze:\x20vec2f\x20'+'=\x200.5\x20*\x20(i'+'nnerOffset'+'.xy\x20+\x20inne'+'rOffset.zw'+');\x0a\x20\x20\x20\x20let'+'\x20tileScale'+':\x20vec2f\x20=\x20'+'vec2f(1.0)'+'\x20/\x20(vec2f('+'1.0)\x20-\x20til'+'eSize);\x0a\x20\x20'+'\x20\x20var\x20clam'+'pedUv:\x20vec'+'2f\x20=\x20mix(i'+'nnerOffset'+'.xy\x20*\x200.5,'+'\x20vec2f(1.0'+')\x20-\x20innerO'+'ffset.zw\x20*'+'\x200.5,\x20frac'+'t((vTiledU'+'v\x20-\x20tileSi'+'ze)\x20*\x20tile'+'Scale));\x0a\x20'+'\x20\x20\x20clamped'+'Uv\x20=\x20clamp'+'edUv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x20\x20\x20\x20'+'var\x20nineSl'+'icedUv:\x20ve'+'c2f\x20=\x20vUv0'+'\x20*\x20tileMas'+'k\x20+\x20clampe'+'dUv\x20*\x20(vec'+'2f(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x0a',II='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dAlpha'+':\x20f32\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20//'+'\x20all\x20passe'+'s\x20handle\x20o'+'pacity\x0a\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'!=\x20NONE\x20||'+'\x20defined(L'+'IT_ALPHA_T'+'EST)\x20||\x20de'+'fined(LIT_'+'ALPHA_TO_C'+'OVERAGE)\x20|'+'|\x20STD_OPAC'+'ITY_DITHER'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_OP'+'ACITY_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_opa'+'cityMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_opacityMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20globals'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dAlbedo:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'NormalW:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dSp'+'ecularity:'+'\x20vec3f\x20=\x20v'+'ec3f(0.0,\x20'+'0.0,\x200.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dGlossin'+'ess:\x20f32\x20='+'\x200.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_REFR'+'ACTION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dTransmi'+'ssion:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dTh'+'ickness:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'CENE_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SCREE'+'N_SIZE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20uSc'+'reenSize:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+('f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_TRANSFOR'+'MS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20ma'+'trix_viewP'+'rojection:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20matri'+'x_model:\x20m'+'at4x4f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20paral'+'lax\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_HEIGHT_'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'UvOffset:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'DIFFUSE_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_heightM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'heightMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'diffuseMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_diffus'+'eMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSEDETAI'+'L_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20norma'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_NORMAL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_normalMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20#ifdef'+'\x20STD_NORMA'+'LDETAIL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalDetai'+'lMap\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_no'+'rmalDetail'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_T'+'HICKNESS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'thicknessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_thic'+'knessMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_REFRACTIO'+'N_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_refract'+'ionMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'refraction'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20i'+'ridescence'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dIr'+'idescence:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20dIridesce'+'nceThickne'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'iridescenc'+'eThickness'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_iridescen'+'ceThicknes'+'sMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur')+('e_iridesce'+'nceMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_irides'+'cenceMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20ccSp'+'ecularity:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20ccGlossin'+'ess:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20ccNor'+'malW:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dAni'+'sotropy:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'Anisotropy'+'Rotation:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'arity\x20&\x20gl'+'ossiness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20she'+'en\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sSpecular'+'ity:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sGlossine'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'HEENGLOSS_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_s'+'heenGlossM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_sheenG'+'lossMapSam'+'pler\x20:\x20sam'+'pler;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_MET'+'ALNESS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dMet'+'alness:\x20f3'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dIor:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'metalnessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_metaln'+'essMapSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'rity\x20facto'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var<privat'+'e>\x20dSpecul'+'arityFacto'+'r:\x20f32;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rityFactor'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_specu'+'larityFact'+'orMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_SPECULAR'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_')+('specularMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20gloss\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_glossMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_glo'+'ssMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dAo:\x20f32;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_aoMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_AODETAIL_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoDet'+'ailMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_aoDeta'+'ilMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dEmission'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_EM'+'ISSIVE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_em'+'issiveMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_emissiv'+'eMapSample'+'r\x20:\x20sample')+('r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatG'+'lossMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_clear'+'CoatGlossM'+'apSampler\x20'+':\x20sampler;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_clearC'+'oatNormalM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatN'+'ormalMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20anisotr'+'opy\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_A'+'NISOTROPY_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aniso'+'tropyMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_anis'+'otropyMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20lightm'+'ap\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(STD_LIG'+'HTMAP)\x20||\x20')+('defined(ST'+'D_LIGHT_VE'+'RTEX_COLOR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dLi'+'ghtmap:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_LI'+'GHT_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_l'+'ightMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_light'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20front'+'\x20end\x20outpu'+'ts\x20to\x20lit\x20'+'shader\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22litShader'+'CorePS\x22\x0a'),LI='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fn\x20'+'getSpecula'+'rity()\x20{\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20vec3f'+'(1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'gloss\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22gl'+'ossPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22aoPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20emissi'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22emissiveP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clear'+'coat\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20')+('LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22clea'+'rCoatPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'GlossPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'NormalPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ani'+'sotropy\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x20&&\x20defin'+'ed(LIT_LIG'+'HTING)\x20&&\x20'+'defined(LI'+'T_GGX_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22an'+'isotropyPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(ST'+'D_LIGHTMAP'+')\x20||\x20defin'+'ed(STD_LIG'+'HT_VERTEX_'+'COLOR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22l'+'ightmapPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20fn\x20evalu'+'ateFronten'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20al'+'l\x20passes\x20h'+'andle\x20opac'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIT_'+'BLEND_TYPE'+'\x20!=\x20NONE\x20|'+'|\x20defined('+'LIT_ALPHA_'+'TEST)\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x20'+'||\x20STD_OPA'+'CITY_DITHE'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getOpaci'+'ty();\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_ALPHA'+'_TEST)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20alphaTe'+'st(dAlpha)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20opacityDi'+'ther(dAlph'+'a,\x200.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20d'+'Alpha;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20par')+('allax\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getP'+'arallax();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getA'+'lbedo();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_a'+'lbedo\x20=\x20dA'+'lbedo;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20normal\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getNorma'+'l();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_w'+'orldNormal'+'\x20=\x20dNormal'+'W;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'fraction\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etRefracti'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'transmissi'+'on\x20=\x20dTran'+'smission;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Thickness('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness\x20=\x20d'+'Thickness;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_D'+'ISPERSION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_di'+'spersion\x20='+'\x20uniform.m'+'aterial_di'+'spersion;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_IRIDESC'+'ENCE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getIrides'+'cence();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getIr'+'idescenceT'+'hickness()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x20=\x20'+'dIridescen'+'ce;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specularit'+'y\x20&\x20glossi'+'ness\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20sheen\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSheen()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'sheen_spec'+'ularity\x20=\x20'+'sSpeculari'+'ty;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getShe'+'enGlossine'+'ss();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_sheen_'+'gloss\x20=\x20sG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getMetaln'+'ess();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_metal'+'ness\x20=\x20dMe'+'talness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etIor();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+'\x20=\x20dIor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'ity\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULARITY_'+'FACTOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'yFactor();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'Factor\x20=\x20d'+'Specularit'+'yFactor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20gloss\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'y();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20dSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs')+('_gloss\x20=\x20d'+'Glossiness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ao\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getAO();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_ao\x20=\x20'+'dAo;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getEmissi'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_emis'+'sion\x20=\x20dEm'+'ission;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getClea'+'rCoat();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getCl'+'earCoatGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'ClearCoatN'+'ormal();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20=\x20ccS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_glos'+'s\x20=\x20ccGlos'+'siness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal\x20=\x20ccNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20anisotro'+'py\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getAnisot'+'ropy();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightM'+'ap();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmap\x20='+'\x20dLightmap'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_')+('LIGHTMAP_D'+'IR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmapD'+'ir\x20=\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a'),RI='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20tbnB'+'asis:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getTBN(t'+'angent:\x20ve'+'c3f,\x20binor'+'mal:\x20vec3f'+',\x20normal:\x20'+'vec3f)\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20TBN_TANGE'+'NTS\x20//\x20tan'+'gents\x20/\x20bi'+'normals\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dTB'+'N\x20=\x20mat3x3'+'f(normaliz'+'e(tangent)'+',\x20normaliz'+'e(binormal'+'),\x20normali'+'ze(normal)'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20define'+'d(TBN_DERI'+'VATIVES)\x20/'+'/\x20derivati'+'ves\x20based\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2f\x20=\x20{'+'lightingUv'+'};\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dp1:'+'\x20vec3f\x20=\x20d'+'pdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dp2:\x20vec3'+'f\x20=\x20dpdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20duv1'+':\x20vec2f\x20=\x20'+'dpdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20duv2:\x20'+'vec2f\x20=\x20dp'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20solve\x20th'+'e\x20linear\x20s'+'ystem\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20dp'+'2perp:\x20vec'+'3f\x20=\x20cross'+'(\x20dp2,\x20nor'+'mal\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20d'+'p1perp:\x20ve'+'c3f\x20=\x20cros'+'s(\x20normal,'+'\x20dp1\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'T:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.x\x20+\x20'+'dp1perp\x20*\x20'+'duv2.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'B:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+('dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+'ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20deno'+'m:\x20f32\x20=\x20m'+'ax(\x20dot(T,'+'\x20T),\x20dot(B'+',\x20B)\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'invmax:\x20f3'+'2\x20=\x20select'+'(uniform.t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20),\x200.0,\x20'+'denom\x20==\x200'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3x3f(T\x20'+'*\x20invmax,\x20'+'-B\x20*\x20invma'+'x,\x20normal\x20'+');\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20obj'+'ect\x20space\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20B:\x20'+'vec3f\x20=\x20cr'+'oss(normal'+',\x20vObjectS'+'paceUpW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20T:\x20vec3f'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dot(B,'+'B)\x20==\x200.0)'+'\x20//\x20deal\x20w'+'ith\x20case\x20w'+'hen\x20vObjec'+'tSpaceUpW\x20'+'normal\x20are'+'\x20parallel\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20majo'+'r:\x20f32\x20=\x20m'+'ax(max(nor'+'mal.x,\x20nor'+'mal.y),\x20no'+'rmal.z);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20B\x20=\x20c'+'ross(norma'+'l,\x20vec3f(0'+'.0,\x201.0,\x200'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x20if\x20(n'+'ormal.y\x20=='+'\x20major)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20B\x20'+'=\x20cross(no'+'rmal,\x20vec3'+'f(0.0,\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20//'+'\x20removed\x20\x22'+'if\x20(normal'+'.z\x20==\x20majo'+'r)\x22\x20assumi'+'ng\x20it\x27s\x20th'+'e\x20only\x20rem'+'aining\x20cas'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20B\x20=\x20cros'+'s(normal,\x20'+'vec3f(1.0,'+'\x200.0,\x200.0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3x3f(n'+'ormalize(T'+'),\x20normali'+'ze(B),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a}'),OI='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_th'+'ickness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getTh'+'ickness()\x20'+'{\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'THICKNESS_'+'CONSTANT\x0a\x20'+'\x20\x20\x20dThickn'+'ess\x20=\x20dThi'+'ckness\x20*\x20u'+'niform.mat'+'erial_thic'+'kness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_THICKN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x20d'+'Thickness\x20'+'*\x20textureS'+'ampleBias('+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_THICKNESS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_THIC'+'KNESS_VERT'+'EX\x0a\x20\x20\x20\x20dTh'+'ickness\x20=\x20'+'dThickness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',FI='\x0a#if\x20(TONE'+'MAP\x20==\x20NON'+'E)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingNo'+'nePS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20FILMIC\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingFilmi'+'cPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22tonemap'+'pingLinear'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20HEJL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gHejlPS\x22\x0a#'+'elif\x20TONEM'+'AP\x20==\x20ACES'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingAces'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20ACES2\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngAces2PS\x22'+'\x0a#elif\x20TON'+'EMAP\x20==\x20NE'+'UTRAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gNeutralPS'+'\x22\x0a#endif\x0a',NI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20t'+'A:\x20f32\x20=\x202'+'.51;\x0a\x20\x20\x20\x20l'+'et\x20tB:\x20f32'+'\x20=\x200.03;\x0a\x20'+'\x20\x20\x20let\x20tC:'+'\x20f32\x20=\x202.4'+'3;\x0a\x20\x20\x20\x20let'+'\x20tD:\x20f32\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20let\x20tE:\x20f'+'32\x20=\x200.14;'+'\x0a\x20\x20\x20\x20let\x20x'+':\x20vec3f\x20=\x20'+'color\x20*\x20un'+'iform.expo'+'sure;\x0a\x20\x20\x20\x20'+'return\x20(x\x20'+'*\x20(tA\x20*\x20x\x20'+'+\x20tB))\x20/\x20('+'x\x20*\x20(tC\x20*\x20'+'x\x20+\x20tD)\x20+\x20'+'tE);\x0a}\x0a',kI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0a//\x20AC'+'ES\x20approxi'+'mation\x20by\x20'+'Stephen\x20Hi'+'ll\x0a\x0a//\x20sRG'+'B\x20=>\x20XYZ\x20='+'>\x20D65_2_D6'+'0\x20=>\x20AP1\x20='+'>\x20RRT_SAT\x0a'+'const\x20ACES'+'InputMat:\x20'+'mat3x3f\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20vec3f(0'+'.59719,\x200.'+'35458,\x200.0'+'4823),\x0a\x20\x20\x20'+'\x20vec3f(0.0'+'7600,\x200.90'+'834,\x200.015'+'66),\x0a\x20\x20\x20\x20v'+'ec3f(0.028'+'40,\x200.1338'+'3,\x200.83777'+')\x0a);\x0a\x0a//\x20O'+'DT_SAT\x20=>\x20'+'XYZ\x20=>\x20D60'+'_2_D65\x20=>\x20'+'sRGB\x0aconst'+'\x20ACESOutpu'+'tMat:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20v'+'ec3f(\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367),\x0a\x20\x20\x20\x20'+'vec3f(-0.1'+'0208,\x20\x201.1'+'0813,\x20-0.0'+'0605),\x0a\x20\x20\x20'+'\x20vec3f(-0.'+'00327,\x20-0.'+'07276,\x20\x201.'+'07602)\x0a);\x0a'+'\x0afn\x20RRTAnd'+'ODTFit(v:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20a:\x20v'+'ec3f\x20=\x20v\x20*'+'\x20(v\x20+\x20vec3'+'f(0.024578'+'6))\x20-\x20vec3'+'f(0.000090'+'537);\x0a\x20\x20\x20\x20'+'let\x20b:\x20vec'+'3f\x20=\x20v\x20*\x20('+'vec3f(0.98'+'3729)\x20*\x20v\x20'+'+\x20vec3f(0.'+'4329510))\x20'+'+\x20vec3f(0.'+'238081);\x0a\x20'+'\x20\x20\x20return\x20'+'a\x20/\x20b;\x0a}\x0a\x0a'+'fn\x20toneMap'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'var\x20c:\x20vec'+'3f\x20=\x20color'+'\x20*\x20(unifor'+'m.exposure'+'\x20/\x200.6);\x0a\x20'+'\x20\x20\x20c\x20=\x20c\x20*'+'\x20ACESInput'+'Mat;\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20R'+'RT\x20and\x20ODT'+'\x0a\x20\x20\x20\x20c\x20=\x20R'+'RTAndODTFi'+'t(c);\x0a\x20\x20\x20\x20'+'c\x20=\x20c\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(c,\x20vec'+'3f(0.0),\x20v'+'ec3f(1.0))'+';\x0a}\x0a',UI='\x0aconst\x20A:\x20'+'f32\x20=\x200.15'+';\x0aconst\x20B:'+'\x20f32\x20=\x200.5'+'0;\x0aconst\x20C'+':\x20f32\x20=\x200.'+'10;\x0aconst\x20'+'D:\x20f32\x20=\x200'+'.20;\x0aconst'+'\x20E:\x20f32\x20=\x20'+'0.02;\x0acons'+'t\x20F:\x20f32\x20='+'\x200.30;\x0acon'+'st\x20W:\x20f32\x20'+'=\x2011.2;\x0a\x0au'+'niform\x20exp'+'osure:\x20f32'+';\x0a\x0afn\x20unch'+'arted2Tone'+'map(x:\x20vec'+'3f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20((x\x20'+'*\x20(A\x20*\x20x\x20+'+'\x20C\x20*\x20B)\x20+\x20'+'D\x20*\x20E)\x20/\x20('+'x\x20*\x20(A\x20*\x20x'+'\x20+\x20B)\x20+\x20D\x20'+'*\x20F))\x20-\x20ve'+'c3f(E\x20/\x20F)'+';\x0a}\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20c'+':\x20vec3f\x20=\x20'+'uncharted2'+'Tonemap(co'+'lor\x20*\x20unif'+'orm.exposu'+'re);\x0a\x20\x20\x20\x20l'+'et\x20whiteSc'+'ale:\x20vec3f'+'\x20=\x20vec3f(1'+'.0)\x20/\x20unch'+'arted2Tone'+'map(vec3f('+'W,\x20W,\x20W));'+'\x0a\x20\x20\x20\x20c\x20*=\x20'+'whiteScale'+';\x0a\x20\x20\x20\x20retu'+'rn\x20c;\x0a}\x0a',BI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20A'+':\x20f32\x20=\x200.'+'22;\x0a\x20\x20\x20\x20le'+'t\x20B:\x20f32\x20='+'\x200.3;\x0a\x20\x20\x20\x20'+'let\x20C:\x20f32'+'\x20=\x200.1;\x0a\x20\x20'+'\x20\x20let\x20D:\x20f'+'32\x20=\x200.2;\x0a'+'\x20\x20\x20\x20let\x20E:'+'\x20f32\x20=\x200.0'+'1;\x0a\x20\x20\x20\x20let'+'\x20F:\x20f32\x20=\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20Scl:\x20f3'+'2\x20=\x201.25;\x0a'+'\x0a\x20\x20\x20\x20let\x20a'+'djusted_co'+'lor\x20=\x20colo'+'r\x20*\x20unifor'+'m.exposure'+';\x0a\x20\x20\x20\x20let\x20'+'h\x20=\x20max(ve'+'c3f(0.0),\x20'+'adjusted_c'+'olor\x20-\x20vec'+'3f(0.004))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20(h\x20*\x20('+'(Scl\x20*\x20A)\x20'+'*\x20h\x20+\x20Scl\x20'+'*\x20vec3f(C\x20'+'*\x20B))\x20+\x20Sc'+'l\x20*\x20vec3f('+'D\x20*\x20E))\x20/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(h\x20*\x20(A\x20*'+'\x20h\x20+\x20vec3f'+'(B))\x20+\x20vec'+'3f(D\x20*\x20F))'+'\x20-\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20Scl\x20*\x20'+'vec3f(E\x20/\x20'+'F);\x0a}\x0a',zI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'uniform.ex'+'posure;\x0a}\x0a',VI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(col:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20var\x20col'+'or\x20=\x20col\x20*'+'\x20uniform.e'+'xposure;\x0a\x0a'+'\x20\x20\x20\x20let\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20let\x20des'+'aturation\x20'+'=\x200.15;\x0a\x0a\x20'+'\x20\x20\x20let\x20x\x20='+'\x20min(color'+'.r,\x20min(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20let\x20offs'+'et\x20=\x20selec'+'t(0.04,\x20x\x20'+'-\x206.25\x20*\x20x'+'\x20*\x20x,\x20x\x20<\x20'+'0.08);\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'vec3f(offs'+'et);\x0a\x0a\x20\x20\x20\x20'+'let\x20peak\x20='+'\x20max(color'+'.r,\x20max(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20if\x20(peak'+'\x20<\x20startCo'+'mpression)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'d\x20=\x201.0\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20let\x20newP'+'eak\x20=\x201.0\x20'+'-\x20d\x20*\x20d\x20/\x20'+'(peak\x20+\x20d\x20'+'-\x20startCom'+'pression);'+'\x0a\x20\x20\x20\x20color'+'\x20*=\x20newPea'+'k\x20/\x20peak;\x0a'+'\x0a\x20\x20\x20\x20let\x20g'+'\x20=\x201.0\x20-\x201'+'.0\x20/\x20(desa'+'turation\x20*'+'\x20(peak\x20-\x20n'+'ewPeak)\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ve'+'c3f(newPea'+'k),\x20vec3f('+'g));\x0a}\x0a',GI='\x0afn\x20toneMa'+'p(color:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a}\x0a',HI='\x0a#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20SCREE'+'NSPACE\x0a\x20\x20\x20'+'\x20uniform\x20p'+'rojectionF'+'lipY:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20evalWorl'+'dPosition('+'vertexPosi'+'tion:\x20vec3'+'f,\x20modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ve'+'c4f\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20local'+'Pos:\x20vec3f'+'\x20=\x20getLoca'+'lPosition('+'vertexPosi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20outer\x20and'+'\x20inner\x20ver'+'tices\x20are\x20'+'at\x20the\x20sam'+'e\x20position'+',\x20scale\x20bo'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20local'+'PosXZ:\x20vec'+'2f\x20=\x20local'+'Pos.xz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20loca'+'lPosXZ\x20=\x20l'+'ocalPosXZ\x20'+'*\x20uniform.'+'outerScale'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20offset'+'\x20inner\x20ver'+'tices\x20insi'+'de\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20(origi'+'nal\x20vertic'+'es\x20must\x20be'+'\x20in\x20[-1;1]'+'\x20range)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'positiveUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(vertex'+'Position.x'+'z,\x20vec2f(0'+'.0),\x20vec2f'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(-verte'+'xPosition.'+'xz,\x20vec2f('+'0.0),\x20vec2'+'f(1.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20loc'+'alPosXZ\x20=\x20'+'localPosXZ'+'\x20+\x20(-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy\x20+'+'\x20negativeU'+'nitOffset\x20'+'*\x20uniform.'+'innerOffse'+'t.zw)\x20*\x20ve'+'rtex_texCo'+'ord0.xy;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'iledUvGlob'+'al\x20=\x20(loca'+'lPosXZ\x20-\x20u'+'niform.out'+'erScale\x20+\x20'+'uniform.in'+'nerOffset.'+'xy)\x20*\x20-0.5'+'\x20+\x201.0;\x20//'+'\x20uv\x20=\x20loca'+'l\x20pos\x20-\x20in'+('ner\x20corner'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPosXZ'+'\x20=\x20localPo'+'sXZ\x20*\x20-0.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20='+'\x20vec3f(loc'+'alPosXZ.x,'+'\x20localPosX'+'Z.y,\x20local'+'Pos.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20var\x20po'+'sW:\x20vec4f\x20'+'=\x20modelMat'+'rix\x20*\x20vec4'+'f(localPos'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'posW\x20=\x20vec'+'4f(posW.xy'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20posW'+';\x0a}\x0a\x0afn\x20ge'+'tPosition('+')\x20->\x20vec4f'+'\x20{\x0a\x0a\x20\x20\x20\x20dM'+'odelMatrix'+'\x20=\x20getMode'+'lMatrix();'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'posW:\x20vec4'+'f\x20=\x20evalWo'+'rldPositio'+'n(vertex_p'+'osition.xy'+'z,\x20dModelM'+'atrix);\x0a\x20\x20'+'\x20\x20dPositio'+'nW\x20=\x20posW.'+'xyz;\x0a\x0a\x20\x20\x20\x20'+'var\x20screen'+'Pos:\x20vec4f'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20UV1LAYO'+'UT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20vec4f(v'+'ertex_texC'+'oord1.xy\x20*'+'\x202.0\x20-\x201.0'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SCR'+'EENSPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20posW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20unif'+'orm.projec'+'tionFlipY;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos\x20=\x20u'+'niform.mat'+'rix_viewPr'+'ojection\x20*'+'\x20posW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20snap\x20ve'+'rtex\x20to\x20a\x20'+'pixel\x20boun'+'dary\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x200.'+'5)\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20screenPo'+'s.xy\x20*=\x20un'+'iforms.uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'niforms.uS'+'creenSize.'+'zw;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x202.0'+')\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20scr'+'eenPos;\x0a}\x0a'+'\x0afn\x20getWor'+'ldPosition'+'()\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20dPosi'+'tionW;\x0a}\x0a'),WI='\x0a\x0a\x20\x20\x20\x20attr'+'ibute\x20vert'+'ex_positio'+'n:\x20vec4f;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'rix_model:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20morph_te'+'x_params:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20attri'+'bute\x20morph'+'_vertex_id'+':\x20u32;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etTextureM'+'orphCoords'+'()\x20->\x20vec2'+'i\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'turn\x20morph'+'_vertex_id'+'\x20into\x20int\x20'+'grid\x20coord'+'inates\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'Size:\x20vec2'+'i\x20=\x20vec2i('+'uniform.mo'+'rph_tex_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphGr'+'idV:\x20i32\x20='+'\x20i32(morph'+'_vertex_id'+')\x20/\x20textur'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20morph'+'GridU:\x20i32'+'\x20=\x20i32(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'rphGridV\x20='+'\x20textureSi'+'ze.y\x20-\x20mor'+'phGridV\x20-\x20'+'1;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec2i(mo'+'rphGridU,\x20'+'morphGridV'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_PO'+'SITION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20aabbSiz'+'e:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20aabbMi'+'n:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'morphPosit'+'ionTex:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'sitionTex:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+('if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inBatchVS\x22'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fn\x20getMode'+'lMatrix()\x20'+'->\x20mat4x4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(SKIN'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etModelMat'+'rix()\x20->\x20m'+'at4x4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20un'+'iform.matr'+'ix_model\x20*'+'\x20getSkinMa'+'trix(verte'+'x_boneIndi'+'ces,\x20verte'+'x_boneWeig'+'hts);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(INSTA'+'NCING)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22tran'+'sformInsta'+'ncingVS\x22\x0a\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'n\x20getModel'+'Matrix()\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'fn\x20getLoca'+'lPosition('+'vertexPosi'+'tion:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20loc'+'alPos:\x20vec'+'3f\x20=\x20verte'+'xPosition;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphUV:'+'\x20vec2i\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MORPHI'+'NG_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Use\x20'+'textureLoa'+'d\x20instead\x20'+'of\x20texelFe'+'tch.\x20Coord'+'inates\x20mus'+'t\x20be\x20integ'+'er\x20type\x20(v'+'ec2i).\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20WGSL'+'\x20requires\x20'+'explicit\x20t'+'ype\x20conver'+'sion\x20for\x20v'+'ectors.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Div'+'ision\x20by\x20f'+'loat\x20liter')+('al\x20ensures'+'\x20floating\x20'+'point\x20divi'+'sion.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hPos:\x20vec3'+'f\x20=\x20vec3f('+'textureLoa'+'d(morphPos'+'itionTex,\x20'+'morphUV,\x200'+').xyz)\x20/\x206'+'5535.0\x20*\x20u'+'niform.aab'+'bSize\x20+\x20un'+'iform.aabb'+'Min;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Use\x20text'+'ureLoad\x20in'+'stead\x20of\x20t'+'exelFetch.'+'\x20Coordinat'+'es\x20must\x20be'+'\x20integer\x20t'+'ype\x20(vec2i'+').\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'s:\x20vec3f\x20='+'\x20textureLo'+'ad(morphPo'+'sitionTex,'+'\x20morphUV,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20+'+'=\x20morphPos'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20localP'+'os;\x0a\x20\x20\x20\x20}\x0a'),$I='\x0a\x0aattribut'+'e\x20instance'+'_line1:\x20ve'+'c4f;\x0aattri'+'bute\x20insta'+'nce_line2:'+'\x20vec4f;\x0aat'+'tribute\x20in'+'stance_lin'+'e3:\x20vec4f;'+'\x0aattribute'+'\x20instance_'+'line4:\x20vec'+'4f;\x0a\x0afn\x20ge'+'tModelMatr'+'ix()\x20->\x20ma'+'t4x4f\x20{\x0a\x20\x20'+'\x20\x20return\x20u'+'niform.mat'+'rix_model\x20'+'*\x20mat4x4f('+'instance_l'+'ine1,\x20inst'+'ance_line2'+',\x20instance'+'_line3,\x20in'+'stance_lin'+'e4);\x0a}\x0a',XI='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_refrac'+'tion:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getRefra'+'ction()\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction:\x20'+'f32\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20refractio'+'n\x20=\x20unifor'+'m.material'+'_refractio'+'n;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'REFRACTION'+'_TEXTURE\x0a\x20'+'\x20\x20\x20refract'+'ion\x20=\x20refr'+'action\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_REFRACTI'+'ON_TEXTURE'+'_NAME},\x20{S'+'TD_REFRACT'+'ION_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_REFRACTIO'+'N_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_REFRACTIO'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_VE'+'RTEX\x0a\x20\x20\x20\x20r'+'efraction\x20'+'=\x20refracti'+'on\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_REFRACTI'+'ON_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dTr'+'ansmission'+'\x20=\x20refract'+'ion;\x0a}\x0a',qI='\x0auniform\x20t'+'woSidedLig'+'htingNegSc'+'aleFactor:'+'\x20f32;\x0a\x0afn\x20'+'handleTwoS'+'idedLighti'+'ng()\x20{\x0a\x20\x20\x20'+'\x20dTBN[2]\x20='+'\x20dTBN[2]\x20*'+'\x20select(-u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20p'+'cFrontFaci'+'ng);\x0a}\x0a',jI='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20fn\x20getU'+'v0()\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20uv'+'\x20=\x20vertex_'+'position.x'+'z;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20offse'+'t\x20inner\x20ve'+'rtices\x20ins'+'ide\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2f(0'+'.0,\x200.0),\x20'+'vec2f(1.0,'+'\x201.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset\x20='+'\x20clamp(-ve'+'rtex_posit'+'ion.xz,\x20ve'+'c2f(0.0,\x200'+'.0),\x20vec2f'+'(1.0,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uv\x20=\x20uv\x20'+'+\x20((-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy)\x20'+'+\x20(negativ'+'eUnitOffse'+'t\x20*\x20unifor'+'m.innerOff'+'set.zw))\x20*'+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x20ve'+'c2f(0.5,\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20uniform'+'.atlasRect'+'.zw\x20+\x20unif'+'orm.atlasR'+'ect.xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dMa'+'skGlobal\x20='+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20uv'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20fn'+'\x20getUv0()\x20'+'->\x20vec2f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a',YI='\x0afn\x20getUv1'+'()\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20verte'+'x_texCoord'+'1;\x0a}\x0a',KI='\x0aoutput.vU'+'V{TRANSFOR'+'M_UV_{i}}_'+'{TRANSFORM'+'_ID_{i}}\x20='+'\x20vec2f(\x0a\x20\x20'+'\x20\x20dot(vec3'+'f(uv{TRANS'+'FORM_UV_{i'+'}},\x201),\x20un'+'iform.{TRA'+'NSFORM_NAM'+'E_{i}}0),\x0a'+'\x20\x20\x20\x20dot(ve'+'c3f(uv{TRA'+'NSFORM_UV_'+'{i}},\x201),\x20'+'uniform.{T'+'RANSFORM_N'+'AME_{i}}1)'+'\x0a);\x0a',ZI='\x0a\x20\x20\x20\x20unifo'+'rm\x20{TRANSF'+'ORM_NAME_{'+'i}}0:\x20vec3'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20{TRAN'+'SFORM_NAME'+'_{i}}1:\x20ve'+'c3f;\x0a',QI='\x0afn\x20getVie'+'wDir()\x20{\x0a\x20'+'\x20\x20\x20dViewDi'+'rW\x20=\x20norma'+'lize(unifo'+'rm.view_po'+'sition\x20-\x20v'+'PositionW)'+';\x0a}\x0a',JI={'alphaTestPS':Q2,'ambientPS':J2,'anisotropyPS':eM,'aoPS':tM,'aoDiffuseOccPS':sM,'aoSpecOccPS':iM,'bakeDirLmEndPS':rM,'bakeLmEndPS':aM,'basePS':nM,'baseNineSlicedPS':oM,'baseNineSlicedTiledPS':lM,'bayerPS':cM,'blurVSMPS':hM,'clearCoatPS':dM,'clearCoatGlossPS':fM,'clearCoatNormalPS':uM,'clusteredLightCookiesPS':mM,'clusteredLightShadowsPS':_M,'clusteredLightUtilsPS':pM,'clusteredLightPS':gM,'combinePS':SM,'cookieBlit2DPS':yM,'cookieBlitCubePS':vM,'cookieBlitVS':xM,'cubeMapProjectPS':TM,'cubeMapRotatePS':wM,'debugOutputPS':EM,'debugProcessFrontendPS':bM,'detailModesPS':CM,'diffusePS':PM,'decodePS':AM,'emissivePS':MM,'encodePS':DM,'endPS':IM,'envAtlasPS':LM,'envProcPS':RM,'falloffInvSquaredPS':OM,'falloffLinearPS':FM,'floatAsUintPS':NM,'fogPS':kM,'fresnelSchlickPS':UM,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':BM,'gammaPS':zM,'glossPS':VM,'gsplatCenterVS':GM,'gsplatCornerVS':QM,'gsplatColorVS':HM,'gsplatCommonVS':WM,'gsplatCompressedDataVS':$M,'gsplatCompressedSHVS':XM,'gsplatEvalSHVS':qM,'gsplatQuatToMat3VS':jM,'gsplatSogsColorVS':YM,'gsplatSogsDataVS':KM,'gsplatSogsSHVS':ZM,'gsplatDataVS':JM,'gsplatOutputVS':eD,'gsplatPS':tD,'gsplatSHVS':sD,'gsplatSourceVS':iD,'gsplatVS':rD,'quadVS':aD,'indirectCoreCS':nD,'immediateLinePS':oD,'immediateLineVS':lD,'iridescenceDiffractionPS':cD,'iridescencePS':hD,'iridescenceThicknessPS':dD,'iorPS':fD,'lightDeclarationPS':uD,'lightDiffuseLambertPS':pD,'lightDirPointPS':mD,'lightEvaluationPS':_D,'lightFunctionLightPS':gD,'lightFunctionShadowPS':SD,'lightingPS':yD,'lightmapAddPS':vD,'lightmapPS':xD,'lightSpecularAnisoGGXPS':TD,'lightSpecularBlinnPS':wD,'lightSheenPS':ED,'linearizeDepthPS':bD,'litForwardBackendPS':AD,'litForwardDeclarationPS':CD,'litForwardMainPS':PD,'litForwardPostCodePS':MD,'litForwardPreCodePS':DD,'litMainPS':ID,'litMainVS':LD,'litOtherMainPS':RD,'litShaderArgsPS':OD,'litShaderCorePS':FD,'litShadowMainPS':ND,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':kD,'metalnessPS':UD,'metalnessModulatePS':zD,'morphPS':VD,'morphVS':GD,'msdfPS':BD,'msdfVS':HD,'normalVS':WD,'normalCoreVS':$D,'normalMapPS':XD,'opacityPS':qD,'opacityDitherPS':jD,'outputPS':YD,'outputAlphaPS':KD,'outputTex2DPS':ZD,'sheenPS':QD,'sheenGlossPS':JD,'parallaxPS':eI,'pickPS':tI,'reflDirPS':sI,'reflDirAnisoPS':iI,'reflectionCCPS':rI,'reflectionCubePS':aI,'reflectionEnvHQPS':nI,'reflectionEnvPS':oI,'reflectionSpherePS':lI,'reflectionSheenPS':cI,'refractionCubePS':hI,'refractionDynamicPS':dI,'reprojectPS':fI,'reprojectVS':uI,'screenDepthPS':pI,'shadowCascadesPS':mI,'shadowEVSMPS':_I,'shadowPCF1PS':gI,'shadowPCF3PS':SI,'shadowPCF5PS':yI,'shadowSoftPS':vI,'skinBatchVS':xI,'skinVS':TI,'skyboxPS':wI,'skyboxVS':EI,'specularPS':bI,'sphericalPS':AI,'specularityFactorPS':CI,'spotPS':PI,'startNineSlicedPS':MI,'startNineSlicedTiledPS':DI,'stdDeclarationPS':II,'stdFrontEndPS':LI,'TBNPS':RI,'thicknessPS':OI,'tonemappingPS':FI,'tonemappingAcesPS':NI,'tonemappingAces2PS':kI,'tonemappingFilmicPS':UI,'tonemappingHejlPS':BI,'tonemappingLinearPS':zI,'tonemappingNeutralPS':VI,'tonemappingNonePS':GI,'transformVS':HI,'transformCoreVS':WI,'transformInstancingVS':$I,'transmissionPS':XI,'twoSidedLightingPS':qI,'uv0VS':jI,'uv1VS':YI,'uvTransformVS':KI,'uvTransformUniformsPS':ZI,'viewDirPS':QI,'webgpuPS':$y,'webgpuVS':Xy},ea=class ea extends me{constructor(_0x134bda){super(),h(this,'_batcher',null),h(this,'_destroyRe'+'quested',!(-0x34*0xa4+-0x1e*-0x45+-0x3*-0x869)),h(this,'_inFrameUp'+'date',!(0x204e+-0x1d*-0x4a+-0x28af)),h(this,'_libraries'+'Loaded',!(-0x2b*0x85+0x80e+0x1*0xe4a)),h(this,'_fillMode',Tg),h(this,'_resolutio'+'nMode',MC),h(this,'_allowResi'+'ze',!(-0x1*-0x2fe+0xd*-0x17+-0x1*0x1d3)),h(this,'_skyboxAss'+'et',null),h(this,'_soundMana'+'ger'),h(this,'_visibilit'+'yChangeHan'+'dler'),h(this,'_entityInd'+'ex',{}),h(this,'_inTools',!(-0x2668+-0x1462+0x3acb*0x1)),h(this,'_scriptPre'+'fix',''),h(this,'_time',-0x2*0xd81+-0xdc+0x29*0xae),h(this,'enableBund'+'les',typeof TextDecoder<'u'),h(this,'frameReque'+'stId'),h(this,'timeScale',0x1*-0x5c5+-0xa*-0x17a+-0x8fe),h(this,'maxDeltaTi'+'me',0x1*-0x1031+-0x1817+0x2848+0.1),h(this,'frame',0x13be+-0xb2d*-0x2+-0x2a18),h(this,'frameGraph',new DC()),h(this,'renderer'),h(this,'scriptsOrd'+'er',[]),h(this,'stats'),h(this,'autoRender',!(0x139f*-0x1+-0x49e+-0x49*-0x55)),h(this,'renderNext'+'Frame',!(-0xeb*-0x13+-0x19b3+0x843)),h(this,'graphicsDe'+'vice'),h(this,'root'),h(this,'scene'),h(this,'lightmappe'+'r',null),h(this,'loader',new Cn(this)),h(this,'assets'),h(this,'bundles'),h(this,'scenes',new qC(this)),h(this,'scripts',new HC(this)),h(this,'systems',new BC()),h(this,'i18n',new wa(this)),h(this,'keyboard',null),h(this,'mouse',null),h(this,'touch',null),h(this,'gamepads',null),h(this,'elementInp'+'ut',null),h(this,'xr',null),((hn==null?void(0x567*-0x1+-0x2701+0x2c68):hn['indexOf']('$'))<-0x1646+0x1643+0x3&&w['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+hn+'\x20'+$S),ea['_applicati'+'ons'][_0x134bda['id']]=this,_u(this),this['root']=new lt(),this['root']['_enabledIn'+'Hierarchy']=!(0x1*-0xc81+0xccf*-0x3+0x7b*0x6a));}['init'](_0x49e688){const {assetPrefix:_0x5f6145,batchManager:_0x8387ae,componentSystems:_0x299792,elementInput:_0x12dcf4,gamepads:_0x454fd6,graphicsDevice:_0x599745,keyboard:_0x137baa,lightmapper:_0x3e6ea8,mouse:_0x9618bf,resourceHandlers:_0x44a68c,scriptsOrder:_0x3d6d4e,scriptPrefix:_0x2782d1,soundManager:_0x45383c,touch:_0x42d595,xr:_0x37f27a}=_0x49e688;w['assert'](_0x599745,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x599745,Pe['get'](_0x599745,Fe)['add'](Z2),Pe['get'](_0x599745,it)['add'](JI),this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new jC(_0x599745),this['_soundMana'+'ger']=_0x45383c,this['scene']=new Et(_0x599745),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new mn(this['loader']),_0x5f6145&&(this['assets']['prefix']=_0x5f6145),this['bundles']=new UC(this['assets']),this['scriptsOrd'+'er']=_0x3d6d4e||[],this['defaultLay'+'erWorld']=new Ot({'name':'World','id':er}),this['defaultLay'+'erDepth']=new Ot({'name':'Depth','id':ps,'enabled':!(0x156+0x15f0+-0x1745),'opaqueSortMode':Yc}),this['defaultLay'+'erSkybox']=new Ot({'name':'Skybox','id':Kp,'opaqueSortMode':Yc}),this['defaultLay'+'erUi']=new Ot({'name':'UI','id':Il,'transparentSortMode':jw}),this['defaultLay'+'erImmediat'+'e']=new Ot({'name':'Immediate','id':Zp,'opaqueSortMode':Yc});const _0x3ea313=new du('default');_0x3ea313['pushOpaque'](this['defaultLay'+'erWorld']),_0x3ea313['pushOpaque'](this['defaultLay'+'erDepth']),_0x3ea313['pushOpaque'](this['defaultLay'+'erSkybox']),_0x3ea313['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x3ea313['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x3ea313['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x3ea313['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x3ea313,ia['createPlac'+'eholder'](_0x599745),this['renderer']=new fl(_0x599745),this['renderer']['scene']=this['scene'],_0x3e6ea8&&(this['lightmappe'+'r']=new _0x3e6ea8(_0x599745,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x8387ae&&(this['_batcher']=new _0x8387ae(_0x599745,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x137baa||null,this['mouse']=_0x9618bf||null,this['touch']=_0x42d595||null,this['gamepads']=_0x454fd6||null,_0x12dcf4&&(this['elementInp'+'ut']=_0x12dcf4,this['elementInp'+'ut']['app']=this),this['xr']=_0x37f27a?new _0x37f27a(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x2782d1||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new VC(this)),_0x44a68c['forEach'](_0xf4ab4a=>{const _0x3ea217=new _0xf4ab4a(this);this['loader']['addHandler'](_0x3ea217['handlerTyp'+'e'],_0x3ea217);}),_0x299792['forEach'](_0x557f83=>{this['systems']['add'](new _0x557f83(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(-0x1a60+-0x12c6+0x2d26)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x6c2+0x15f7+0x397*-0x8))):document['mozHidden']!==void(-0x107b*-0x1+0x8a*-0x43+-0x1c9*-0xb)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1093+0x2046+0x3*-0x1048))):document['msHidden']!==void(-0x1253*0x1+0x1*0x478+-0xddb*-0x1)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0xe09+0x11d0+0x2*-0xfec))):document['webkitHidd'+'en']!==void(-0x3be+-0x1fe5+0x23a3)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x10b6+0x2350+0xc1*-0x45)))),this['tick']=eL(this);}static['getApplica'+'tion'](_0x41165d){return _0x41165d?ea['_applicati'+'ons'][_0x41165d]:Ms();}['_initDefau'+'ltMaterial'](){const _0x1a35e7=new Ut();_0x1a35e7['name']='Default\x20Ma'+'terial',xE(this['graphicsDe'+'vice'],_0x1a35e7);}['_initProgr'+'amLibrary'](){const _0x16a000=new qA(this['graphicsDe'+'vice'],new Ut());cE(this['graphicsDe'+'vice'],_0x16a000);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return w['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x41c03e,_0x803d4a){ot['get'](_0x41c03e,(_0x2faca6,_0x334b0c)=>{if(_0x2faca6){_0x803d4a(_0x2faca6);return;}const _0x348fd5=_0x334b0c['applicatio'+'n_properti'+'es'],_0x5d24bc=_0x334b0c['scenes'],_0x5af57b=_0x334b0c['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x348fd5,_0x138349=>{this['_parseScen'+'es'](_0x5d24bc),this['_parseAsse'+'ts'](_0x5af57b),_0x803d4a(_0x138349||null);});});}['preload'](_0x5bb71c){this['fire']('preload:st'+'art');const _0x44496e=this['assets']['list']({'preload':!(0x395+0x322+-0x6b7)});if(_0x44496e['length']===0x6f3*0x3+-0x4*0x71d+0x79b){this['fire']('preload:en'+'d'),_0x5bb71c();return;}let _0x296e72=0x3f*0x43+-0x10ba+0x3d;const _0x507e2b=()=>{_0x296e72++,this['fire']('preload:pr'+'ogress',_0x296e72/_0x44496e['length']),_0x296e72===_0x44496e['length']&&(this['fire']('preload:en'+'d'),_0x5bb71c());};_0x44496e['forEach'](_0x40cee7=>{_0x40cee7['loaded']?_0x507e2b():(_0x40cee7['once']('load',_0x507e2b),_0x40cee7['once']('error',_0x507e2b),this['assets']['load'](_0x40cee7));});}['_preloadSc'+'ripts'](_0x310c68,_0x4e5180){_0x4e5180();}['_parseAppl'+'icationPro'+'perties'](_0x22c924,_0x47778a){if(typeof _0x22c924['maxAssetRe'+'tries']=='number'&&_0x22c924['maxAssetRe'+'tries']>0x624+-0x2162+0x1b3e&&this['loader']['enableRetr'+'y'](_0x22c924['maxAssetRe'+'tries']),_0x22c924['useDeviceP'+'ixelRatio']||(_0x22c924['useDeviceP'+'ixelRatio']=_0x22c924['use_device'+'_pixel_rat'+'io']),_0x22c924['resolution'+'Mode']||(_0x22c924['resolution'+'Mode']=_0x22c924['resolution'+'_mode']),_0x22c924['fillMode']||(_0x22c924['fillMode']=_0x22c924['fill_mode']),this['_width']=_0x22c924['width'],this['_height']=_0x22c924['height'],_0x22c924['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x22c924['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x22c924['fillMode'],this['_width'],this['_height']),_0x22c924['layers']&&_0x22c924['layerOrder']){const _0x57f6cf=new du('applicatio'+'n'),_0x530285={};for(const _0x15775e in _0x22c924['layers']){const _0x39dfc3=_0x22c924['layers'][_0x15775e];_0x39dfc3['id']=parseInt(_0x15775e,0x1*-0xa04+0x2449+-0x1a3b),_0x39dfc3['enabled']=_0x39dfc3['id']!==ps,_0x530285[_0x15775e]=new Ot(_0x39dfc3);}for(let _0x40b341=0x2101+-0x124c+-0xeb5,_0x240700=_0x22c924['layerOrder']['length'];_0x40b341<_0x240700;_0x40b341++){const _0x394867=_0x22c924['layerOrder'][_0x40b341],_0x5aed87=_0x530285[_0x394867['layer']];_0x5aed87&&(_0x394867['transparen'+'t']?_0x57f6cf['pushTransp'+'arent'](_0x5aed87):_0x57f6cf['pushOpaque'](_0x5aed87),_0x57f6cf['subLayerEn'+'abled'][_0x40b341]=_0x394867['enabled']);}this['scene']['layers']=_0x57f6cf;}if(_0x22c924['batchGroup'+'s']){const _0x3b8714=this['batcher'];if(_0x3b8714)for(let _0x5a9043=0x51d+-0x970+0x1b*0x29,_0x3953a3=_0x22c924['batchGroup'+'s']['length'];_0x5a9043<_0x3953a3;_0x5a9043++){const _0xb8d9d2=_0x22c924['batchGroup'+'s'][_0x5a9043];_0x3b8714['addGroup'](_0xb8d9d2['name'],_0xb8d9d2['dynamic'],_0xb8d9d2['maxAabbSiz'+'e'],_0xb8d9d2['id'],_0xb8d9d2['layers']);}}_0x22c924['i18nAssets']&&(this['i18n']['assets']=_0x22c924['i18nAssets']),this['_loadLibra'+'ries'](_0x22c924['libraries'],_0x47778a);}['_loadLibra'+'ries'](_0x15ee3d,_0x4af964){const _0x3e6a97=_0x15ee3d['length'];let _0x458906=_0x3e6a97;const _0xd0601a=/^https?:\/\//;if(_0x3e6a97){const _0x5778e5=(_0x5d68f6,_0x33e49a)=>{_0x458906--,_0x5d68f6?_0x4af964(_0x5d68f6):_0x458906===-0x1fd1*-0x1+0x2596+0x4567*-0x1&&(this['onLibrarie'+'sLoaded'](),_0x4af964(null));};for(let _0x28618b=-0x1*-0x22f2+0x1899+-0x3b8b;_0x28618b<_0x3e6a97;++_0x28618b){let _0x24d6ad=_0x15ee3d[_0x28618b];!_0xd0601a['test'](_0x24d6ad['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x24d6ad=xe['join'](this['_scriptPre'+'fix'],_0x24d6ad)),this['loader']['load'](_0x24d6ad,'script',_0x5778e5);}}else this['onLibrarie'+'sLoaded'](),_0x4af964(null);}['_parseScen'+'es'](_0x56835a){if(_0x56835a){for(let _0x5cbac2=-0x247a+-0x2*-0x12be+-0x2*0x81;_0x5cbac2<_0x56835a['length'];_0x5cbac2++)this['scenes']['add'](_0x56835a[_0x5cbac2]['name'],_0x56835a[_0x5cbac2]['url']);}}['_parseAsse'+'ts'](_0x57210b){const _0x2437e6=[],_0x1d22ab={},_0x4556b2={};for(let _0x3a9308=0x521+0xd*0x176+-0x1db*0xd;_0x3a9308<this['scriptsOrd'+'er']['length'];_0x3a9308++){const _0x1fa3ef=this['scriptsOrd'+'er'][_0x3a9308];_0x57210b[_0x1fa3ef]&&(_0x1d22ab[_0x1fa3ef]=!(0x1*-0xa17+0x6c7+0x350),_0x2437e6['push'](_0x57210b[_0x1fa3ef]));}if(this['enableBund'+'les']){for(const _0x7e90d5 in _0x57210b)_0x57210b[_0x7e90d5]['type']==='bundle'&&(_0x4556b2[_0x7e90d5]=!(0x16ec*-0x1+-0x1*0x14de+0x2bca),_0x2437e6['push'](_0x57210b[_0x7e90d5]));}for(const _0x565c38 in _0x57210b)_0x1d22ab[_0x565c38]||_0x4556b2[_0x565c38]||_0x2437e6['push'](_0x57210b[_0x565c38]);for(let _0xe0353b=0x1f2d+0x317*0x1+0x1*-0x2244;_0xe0353b<_0x2437e6['length'];_0xe0353b++){const _0x1b4c15=_0x2437e6[_0xe0353b],_0x246ad4=new pe(_0x1b4c15['name'],_0x1b4c15['type'],_0x1b4c15['file'],_0x1b4c15['data']);if(_0x246ad4['id']=parseInt(_0x1b4c15['id'],0x22ed+-0x4*0x197+-0x6d*0x43),_0x246ad4['preload']=_0x1b4c15['preload']?_0x1b4c15['preload']:!(0x109d*-0x1+-0xbd9+-0x97d*-0x3),_0x246ad4['loaded']=_0x1b4c15['type']==='script'&&_0x1b4c15['data']&&_0x1b4c15['data']['loadingTyp'+'e']>-0x1195+-0x1*-0x114d+0x48,_0x246ad4['tags']['add'](_0x1b4c15['tags']),_0x1b4c15['i18n']){for(const _0x317939 in _0x1b4c15['i18n'])_0x246ad4['addLocaliz'+'edAssetId'](_0x317939,_0x1b4c15['i18n'][_0x317939]);}this['assets']['add'](_0x246ad4);}}['start'](){w['call'](()=>{w['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(0x1a1d+0x31c+-0x1d39);}),this['frame']=0x9cc+0x257c+0x5e9*-0x8,this['fire']('start',{'timestamp':de(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x5c2804){this['controller']&&this['controller']['update'](_0x5c2804),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x3806a0){this['frame']++,this['graphicsDe'+'vice']['update'](),this['stats']['frame']['updateStar'+'t']=de(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x3806a0),this['systems']['fire']('animationU'+'pdate',_0x3806a0),this['systems']['fire']('postUpdate',_0x3806a0),this['fire']('update',_0x3806a0),this['inputUpdat'+'e'](_0x3806a0),this['stats']['frame']['updateTime']=de()-this['stats']['frame']['updateStar'+'t'];}['render'](){this['updateCanv'+'asSize'](),this['graphicsDe'+'vice']['frameStart'](),this['stats']['frame']['renderStar'+'t']=de(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),fl['_skipRende'+'rCounter']=-0xa0*0x20+0x1*-0x1973+0x2d73,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=de()-this['stats']['frame']['renderStar'+'t'],this['graphicsDe'+'vice']['frameEnd']();}['renderComp'+'osition'](_0xe456fd){Q['clearGpuMa'+'rkers'](),this['renderer']['update'](_0xe456fd),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0xe456fd),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x2971fc,_0x57f3f0,_0x2ca2d0){const _0x4df880=this['stats']['frame'];_0x4df880['dt']=_0x57f3f0,_0x4df880['ms']=_0x2ca2d0,_0x2971fc>_0x4df880['_timeToCou'+'ntFrames']?(_0x4df880['fps']=_0x4df880['_fpsAccum'],_0x4df880['_fpsAccum']=-0x238f*-0x1+0x5d1+-0x52c*0x8,_0x4df880['_timeToCou'+'ntFrames']=_0x2971fc+(0x179e*0x1+0x3*0x604+0x432*-0x9)):_0x4df880['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=-0x126c+-0x7a9*-0x5+-0x13e1;}['_fillFrame'+'Stats'](){let _0x2b277d=this['stats']['frame'];_0x2b277d['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x2b277d['materials']=this['renderer']['_materialS'+'witches'],_0x2b277d['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x2b277d['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x2b277d['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x2b277d['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x2b277d['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x4553c3=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x2b277d['triangles']=_0x4553c3[js]/(-0x1f*-0x44+-0x2055+0x181c)+Math['max'](_0x4553c3[Er]-(-0x21a6+-0x1*-0x7c1+0x19e7),0xc*0x17b+0x1*0x10af+-0x2273*0x1)+Math['max'](_0x4553c3[oa]-(-0x1001+-0x83+0x11a*0xf),-0x12f2+0x81b*-0x4+0xa*0x523),_0x2b277d['cullTime']=this['renderer']['_cullTime'],_0x2b277d['sortTime']=this['renderer']['_sortTime'],_0x2b277d['skinTime']=this['renderer']['_skinTime'],_0x2b277d['morphTime']=this['renderer']['_morphTime'],_0x2b277d['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x2b277d['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x2b277d['otherPrimi'+'tives']=-0x249b+0x1034+0x6cd*0x3;for(let _0x36c032=0x1bf3+0xa9*-0x8+-0x16ab;_0x36c032<_0x4553c3['length'];_0x36c032++)_0x36c032<js&&(_0x2b277d['otherPrimi'+'tives']+=_0x4553c3[_0x36c032]),_0x4553c3[_0x36c032]=0xa65+0x26da+-0x313f;this['renderer']['_camerasRe'+'ndered']=0x43a+-0x32*0x67+-0x12*-0xe2,this['renderer']['_materialS'+'witches']=-0x10d3+0x2365*-0x1+-0x3*-0x1168,this['renderer']['_shadowMap'+'Updates']=0x116+-0x1b86+0x8d0*0x3,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=-0x179e+-0x15a4+0x16a1*0x2,this['renderer']['_cullTime']=0x15b3*0x1+0x18b4+-0x2e67,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=0x1b42+0x373+0x7*-0x463,this['renderer']['_lightClus'+'tersTime']=-0xcc8+-0x1e62+0x2b2a,this['renderer']['_sortTime']=0x469*-0x7+-0x1557+0x3436,this['renderer']['_skinTime']=-0x791*0x2+-0x3d8*0x9+0x31ba,this['renderer']['_morphTime']=-0x270c+-0x358+0x2a64,this['renderer']['_shadowMap'+'Time']=0x15d2+0xf*0x261+-0x132b*0x3,this['renderer']['_depthMapT'+'ime']=0x8*0x398+-0xb*0x67+-0xd*0x1df,this['renderer']['_forwardTi'+'me']=0x85d*-0x4+-0x1c6+-0x119d*-0x2,_0x2b277d=this['stats']['drawCalls'],_0x2b277d['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x2b277d['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x2b277d['depth']=0x67*0x5c+0x2a9*0x6+-0x34fa,_0x2b277d['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x2b277d['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x2b277d['immediate']=-0x1b46+-0x1008+0x2b4e,_0x2b277d['instanced']=-0x127*-0x1d+-0x2c0+-0x1eab,_0x2b277d['removedByI'+'nstancing']=0x2436+-0x1d*-0x104+-0x5*0xd22,_0x2b277d['misc']=_0x2b277d['total']-(_0x2b277d['forward']+_0x2b277d['shadow']),this['renderer']['_depthDraw'+'Calls']=0xf9b+-0x1*-0x189d+0x23c*-0x12,this['renderer']['_shadowDra'+'wCalls']=0x7c7*-0x1+-0x1*-0x7c4+0x3*0x1,this['renderer']['_forwardDr'+'awCalls']=-0x2*0xf5+-0xdc9+0xfb3,this['renderer']['_numDrawCa'+'llsCulled']=-0x1b*-0xf0+-0x1*0x148d+-0x4c3,this['renderer']['_skinDrawC'+'alls']=-0x36*-0x86+-0x1079+0xbcb*-0x1,this['renderer']['_immediate'+'Rendered']=0x1c4f+0x61b*0x1+-0x226a,this['renderer']['_instanced'+'DrawCalls']=-0x1*0x2f5+-0x1be4+0x1ed9,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x2b277d=this['stats']['particles'],_0x2b277d['updatesPer'+'Frame']=_0x2b277d['_updatesPe'+'rFrame'],_0x2b277d['frameTime']=_0x2b277d['_frameTime'],_0x2b277d['_updatesPe'+'rFrame']=-0x5*-0x31b+0x21b0+-0x3137,_0x2b277d['_frameTime']=0x3*0xc6+-0x1eb*-0x4+-0x4ff*0x2;}['setCanvasF'+'illMode'](_0x505ff8,_0x401754,_0x4ef85c){this['_fillMode']=_0x505ff8,this['resizeCanv'+'as'](_0x401754,_0x4ef85c);}['setCanvasR'+'esolution'](_0x53d5e9,_0x4c6b6d,_0x2db7ad){this['_resolutio'+'nMode']=_0x53d5e9,_0x53d5e9===wg&&_0x4c6b6d===void(-0x175e+0x1*-0x118f+0x28ed)&&(_0x4c6b6d=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x2db7ad=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x4c6b6d,_0x2db7ad);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x46c864,_0x29e546){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x5a3f05=window['innerWidth'],_0x2038f3=window['innerHeigh'+'t'];if(this['_fillMode']===Tg){const _0x34f844=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x4ca7cd=_0x5a3f05/_0x2038f3;_0x34f844>_0x4ca7cd?(_0x46c864=_0x5a3f05,_0x29e546=_0x46c864/_0x34f844):(_0x29e546=_0x2038f3,_0x46c864=_0x29e546*_0x34f844);}else this['_fillMode']===PC&&(_0x46c864=_0x5a3f05,_0x29e546=_0x2038f3);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x46c864+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x29e546+'px',this['updateCanv'+'asSize'](),{'width':_0x46c864,'height':_0x29e546};}['updateCanv'+'asSize'](){var _0x101688;if(!(!this['_allowResi'+'ze']||(_0x101688=this['xr'])!=null&&_0x101688['active'])&&this['_resolutio'+'nMode']===wg){const _0x2ecb62=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x2ecb62['clientWidt'+'h'],_0x2ecb62['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(-0x11*-0x52+-0x4f*0xd+-0x16f),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0xacde8a){let _0x720f3c;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x5ca833,_0x3af1b8,_0x16f353]=_0xacde8a['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x5ca833,_0x3af1b8,_0x16f353);}this['scene']['applySetti'+'ngs'](_0xacde8a),_0xacde8a['render']['hasOwnProp'+'erty']('skybox')&&(_0xacde8a['render']['skybox']?(_0x720f3c=this['assets']['get'](_0xacde8a['render']['skybox']),_0x720f3c?this['setSkybox'](_0x720f3c):this['assets']['once']('add:'+_0xacde8a['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x43dd27,_0xb449ff){_0x43dd27&&_0xb449ff?ia['set'](this['graphicsDe'+'vice'],_0x43dd27,_0xb449ff):w['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x3b9740){if(_0x3b9740!==this['_skyboxAss'+'et']){const _0x3994a5=()=>{this['setSkybox'](null);},_0x28b989=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x28b989,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x3994a5,this),this['_skyboxAss'+'et']['off']('change',_0x28b989,this)),this['_skyboxAss'+'et']=_0x3b9740,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x28b989,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x3994a5,this),this['_skyboxAss'+'et']['on']('change',_0x28b989,this),this['scene']['skyboxMip']===0x2*-0xdb9+-0x851*-0x1+0x1*0x1321&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(0xa16*-0x1+0x21dd*-0x1+0x2bf3)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x28b989();}}['_firstBake'](){var _0x2813af;(_0x2813af=this['lightmappe'+'r'])==null||_0x2813af['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x598c08;(_0x598c08=this['batcher'])==null||_0x598c08['generate']();}['_processTi'+'mestamp'](_0x4dc26f){return _0x4dc26f;}['drawLine'](_0x360a75,_0x12a70a,_0x347bc0,_0xf2c87e,_0x5682fb){this['scene']['drawLine'](_0x360a75,_0x12a70a,_0x347bc0,_0xf2c87e,_0x5682fb);}['drawLines'](_0x4f1ee3,_0x548908,_0x31a125=!(-0x2010+0x722+0x18ee),_0x1ce802=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x4f1ee3,_0x548908,_0x31a125,_0x1ce802);}['drawLineAr'+'rays'](_0x3091c6,_0x5154ae,_0x2a341b=!(0x1e8d+-0x107+-0xec3*0x2),_0x53d17b=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x3091c6,_0x5154ae,_0x2a341b,_0x53d17b);}['drawWireSp'+'here'](_0x1c9b32,_0x169d8e,_0x566ed3=ie['WHITE'],_0x5a012c=0x2c2*0xd+0x45b*-0x6+-0x9a4,_0x3c3008=!(0x1*-0x1f97+0x1d2+0x1dc5),_0x2509df=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x1c9b32,_0x169d8e,_0x566ed3,_0x5a012c,_0x3c3008,_0x2509df);}['drawWireAl'+'ignedBox'](_0x3a0a50,_0x8e5c42,_0x1a784b=ie['WHITE'],_0x326818=!(-0x17e2+-0x64+0x1846),_0x414efa=this['scene']['defaultDra'+'wLayer'],_0x1ee63f){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x3a0a50,_0x8e5c42,_0x1a784b,_0x326818,_0x414efa,_0x1ee63f);}['drawMeshIn'+'stance'](_0x49e4dd,_0x188bd1=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x49e4dd,_0x188bd1);}['drawMesh'](_0x3660a7,_0x2f484d,_0x9b1d11,_0x1fc0c2=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x2f484d,_0x9b1d11,_0x3660a7,null,_0x1fc0c2);}['drawQuad'](_0x1ee305,_0x4a05c0,_0x1216cb=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x4a05c0,_0x1ee305,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x1216cb);}['drawTextur'+'e'](_0x2e1f01,_0x4b6960,_0x1146dd,_0x1e9b87,_0x753b50,_0x2d4ea3,_0x20eff9=this['scene']['defaultDra'+'wLayer'],_0x4289a1=!(-0x5a1+-0x12*-0x6b+-0x1e5)){if(_0x4289a1===!(-0x1*-0x20c3+-0x1*-0x7c4+-0x111*0x26)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x1d7312=new te();_0x1d7312['setTRS'](new D(_0x2e1f01,_0x4b6960,0x1999+0x15df*0x1+-0xd9*0x38),le['IDENTITY'],new D(_0x1146dd,-_0x1e9b87,0x1*0x3c7+-0x970+-0x17*-0x3f)),_0x2d4ea3||(_0x2d4ea3=new Xn(),_0x2d4ea3['cull']=bt,_0x2d4ea3['setParamet'+'er']('colorMap',_0x753b50),_0x2d4ea3['shaderDesc']=_0x4289a1?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x753b50['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x2d4ea3['update']()),this['drawQuad'](_0x1d7312,_0x2d4ea3,_0x20eff9);}['drawDepthT'+'exture'](_0x480965,_0x1f7926,_0x318098,_0x4a26e7,_0x49a578=this['scene']['defaultDra'+'wLayer']){const _0x365b5d=new Xn();_0x365b5d['cull']=bt,_0x365b5d['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x365b5d['update'](),this['drawTextur'+'e'](_0x480965,_0x1f7926,_0x318098,_0x4a26e7,null,_0x365b5d,_0x49a578);}['destroy'](){var _0x25a04f,_0x5dde2f,_0x359019,_0x5e582f;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(0x1edd+0x344+0x1*-0x2221);return;}const _0x14519f=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x8dc*0x3+-0x29*0xb3+0x218*0x1)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x21e5*0x1+-0x1ac7+0x13d*0x31)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x6c6+0x68a+-0xd4f)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x987*0x2+0xb*0x2a2+-0x1001*0x3))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x1fdf91=this['assets']['list']();for(let _0x46d943=0x1b*0x6f+0x869*0x3+-0x24f0;_0x46d943<_0x1fdf91['length'];_0x46d943++)_0x1fdf91[_0x46d943]['unload'](),_0x1fdf91[_0x46d943]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0xb3e6af=this['loader']['getHandler']('script');_0xb3e6af==null||_0xb3e6af['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x25a04f=this['lightmappe'+'r'])==null||_0x25a04f['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x5dde2f=this['xr'])==null||_0x5dde2f['end'](),(_0x359019=this['xr'])==null||_0x359019['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x5e582f=this['_soundMana'+'ger'])==null||_0x5e582f['destroy'](),this['_soundMana'+'ger']=null,ea['_applicati'+'ons'][_0x14519f]=null,Ms()===this&&_u(null),ea['cancelTick'](this);}static['cancelTick'](_0x2f584e){_0x2f584e['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x2f584e['frameReque'+'stId']),_0x2f584e['frameReque'+'stId']=void(-0x3ea*0x3+-0x3*0x216+-0x80*-0x24));}['getEntityF'+'romIndex'](_0xc018ea){return this['_entityInd'+'ex'][_0xc018ea];}['_registerS'+'ceneImmedi'+'ate'](_0x18bf1a){this['on']('postrender',_0x18bf1a['immediate']['onPostRend'+'er'],_0x18bf1a['immediate']);}};h(ea,'_applicati'+'ons',{});let Ks=ea;const eL=function(_0x49d38e){const _0x555a9b=_0x49d38e;return function(_0x28cc2e,_0x1c3f7a){var _0xea51c4,_0x7fdc14,_0x34dd3a,_0x2542af;if(!_0x555a9b['graphicsDe'+'vice'])return;_0x555a9b['frameReque'+'stId']&&((_0x7fdc14=(_0xea51c4=_0x555a9b['xr'])==null?void(0x13b5+-0x1c89+-0x2*-0x46a):_0xea51c4['session'])==null||_0x7fdc14['cancelAnim'+'ationFrame'](_0x555a9b['frameReque'+'stId']),cancelAnimationFrame(_0x555a9b['frameReque'+'stId']),_0x555a9b['frameReque'+'stId']=null),_0x555a9b['_inFrameUp'+'date']=!(0xe4e+0x1*0x1f39+-0xb9*0x3f),_u(_0x555a9b);const _0x197a9e=_0x555a9b['_processTi'+'mestamp'](_0x28cc2e)||de(),_0x2f472f=_0x197a9e-(_0x555a9b['_time']||_0x197a9e);let _0x34445c=_0x2f472f/(0x131+-0x21ca+0x3*0xc2b);if(_0x34445c=Y['clamp'](_0x34445c,0x5a8+0xd64+0x4*-0x4c3,_0x555a9b['maxDeltaTi'+'me']),_0x34445c*=_0x555a9b['timeScale'],_0x555a9b['_time']=_0x197a9e,(_0x34dd3a=_0x555a9b['xr'])!=null&&_0x34dd3a['session']?_0x555a9b['frameReque'+'stId']=_0x555a9b['xr']['session']['requestAni'+'mationFram'+'e'](_0x555a9b['tick']):_0x555a9b['frameReque'+'stId']=Ae['browser']||Ae['worker']?requestAnimationFrame(_0x555a9b['tick']):null,_0x555a9b['graphicsDe'+'vice']['contextLos'+'t'])return;_0x555a9b['_fillFrame'+'StatsBasic'](_0x197a9e,_0x34445c,_0x2f472f),_0x555a9b['_fillFrame'+'Stats'](),_0x555a9b['fire']('frameupdat'+'e',_0x2f472f);let _0xdf622e=!(-0xd0*0x1+-0x13e6+-0x1*-0x14b7);_0x1c3f7a?(_0xdf622e=!((_0x2542af=_0x555a9b['xr'])!=null&&_0x2542af['update'](_0x1c3f7a)),_0x555a9b['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x1c3f7a['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x555a9b['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,!_0xdf622e&&!_0x555a9b['stopSort']&&(w['trace'](W0,'----\x20Frame'+'\x20'+_0x555a9b['frame']),w['trace'](Ld,'--\x20UpdateS'+'tart\x20'+de()['toFixed'](0x1fe1+0x2445+0x1109*-0x4)+'ms'),_0x555a9b['update'](_0x34445c),_0x555a9b['fire']('framerende'+'r'),(_0x555a9b['autoRender']||_0x555a9b['renderNext'+'Frame'])&&(w['trace'](Ld,'--\x20RenderS'+'tart\x20'+de()['toFixed'](0x2*-0xad9+-0x1686+-0xde*-0x33)+'ms'),_0x555a9b['render'](),_0x555a9b['renderNext'+'Frame']=!(0x26f5*0x1+0x1bf8+-0x42ec),w['trace'](Ld,'--\x20RenderE'+'nd\x20'+de()['toFixed'](-0x10d*-0xd+0x9b*-0x2f+0xece)+'ms')),_0x555a9b['fire']('frameend')),_0x555a9b['_inFrameUp'+'date']=!(-0x1c83+-0x59f+-0x3*-0xb61),_0x555a9b['_destroyRe'+'quested']&&_0x555a9b['destroy']();};};class tL{constructor(){h(this,'elementInp'+'ut'),h(this,'keyboard'),h(this,'mouse'),h(this,'touch'),h(this,'gamepads'),h(this,'scriptPref'+'ix'),h(this,'assetPrefi'+'x'),h(this,'scriptsOrd'+'er'),h(this,'soundManag'+'er'),h(this,'graphicsDe'+'vice'),h(this,'lightmappe'+'r'),h(this,'batchManag'+'er'),h(this,'xr'),h(this,'componentS'+'ystems',[]),h(this,'resourceHa'+'ndlers',[]);}}const mo=new sp();class Uv{constructor(_0xbe0395,_0x5a865d,_0x540738){this['scene']=_0xbe0395,this['light']=_0x5a865d,this['store'](),_0x5a865d['numCascade'+'s']=0x1fa2*-0x1+0x3*-0xb13+0x40dc,this['scene']['clusteredL'+'ightingEna'+'bled']&&!_0x540738['shadowsEna'+'bled']&&(_0x5a865d['castShadow'+'s']=!(0x16e3+-0x2*-0xa59+-0x4*0xae5)),_0x5a865d['type']!==ve&&(_0x5a865d['_node']['getWorldTr'+'ansform'](),_0x5a865d['getBoundin'+'gSphere'](mo),this['lightBound'+'s']=new De(),this['lightBound'+'s']['center']['copy'](mo['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](mo['radius'],mo['radius'],mo['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x273e83=this['light'];_0x273e83['mask']=this['mask'],_0x273e83['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x273e83['enabled']=this['enabled'],_0x273e83['intensity']=this['intensity'],_0x273e83['_node']['setLocalRo'+'tation'](this['rotation']),_0x273e83['numCascade'+'s']=this['numCascade'+'s'],_0x273e83['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(-0x2151+-0x1145*-0x1+0x4f*0x34),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x2a4d7f){const _0x19dabd=this['light'];_0x19dabd['enabled']=!(0x1870+0xab5+-0x2324),_0x19dabd['shadowMap']&&(_0x19dabd['shadowMap']['cached']&&_0x2a4d7f['add'](_0x19dabd,_0x19dabd['shadowMap']),_0x19dabd['shadowMap']=null);}}const yc=new J();class sL extends Uv{constructor(_0x4f8431,_0x3bc401){super(_0x4f8431['scene'],_0x3bc401,_0x4f8431['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===ve?this['light']['bakeNumSam'+'ples']:-0x93*0x31+0x334+-0x8*-0x31e;}['prepareVir'+'tualLight'](_0x2eb326,_0x5b63fb){const _0x509d29=this['light'];if(_0x509d29['_node']['setLocalRo'+'tation'](this['rotation']),_0x2eb326>0xc0c+-0x17da+0xbce){const _0x2f8650=_0x509d29['bakeArea'];Nl['circlePoin'+'tDetermini'+'stic'](yc,_0x2eb326,_0x5b63fb),yc['mulScalar'](_0x2f8650*(0x2178+-0x16fd+0xa7b*-0x1+0.5)),_0x509d29['_node']['rotateLoca'+'l'](yc['x'],-0x1*-0x2214+-0x1*-0x18d+0x23a1*-0x1,yc['y']);}_0x509d29['_node']['getWorldTr'+'ansform']();const _0x553763=-0x9f5*0x1+-0x116*0xd+0x1815+0.20000000000000018,_0x3fa4d8=Math['pow'](this['intensity'],_0x553763);_0x509d29['intensity']=Math['pow'](_0x3fa4d8/_0x5b63fb,(0xd12+-0x1cf*0x4+0x5d5*-0x1)/_0x553763);}}const Pg=new D();class Mg extends Uv{constructor(_0x410335){const _0x4cead5=_0x410335['scene'],_0x4813cf=new lt('AmbientLig'+'ht');_0x4813cf['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(-0x1*-0x151b+0x1251+-0x276c),'affectLightmapped':!(-0x18fd*-0x1+-0x656*-0x2+0x4*-0x96a),'bake':!(0xff+0x3f1+-0x4f0),'bakeNumSamples':_0x4cead5['ambientBak'+'eNumSample'+'s'],'castShadows':!(-0x720+0x28*0xcb+0x1898*-0x1),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':$s,'color':ie['WHITE'],'intensity':0x1,'bakeDir':!(-0x1c07+0x21ea+-0x5e2*0x1)}),super(_0x4cead5,_0x4813cf['light']['light'],_0x410335['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x5c9bf6,_0x303d30){Nl['spherePoin'+'tDetermini'+'stic'](Pg,_0x5c9bf6,_0x303d30,0x1618+0x1f*-0x7+0x103*-0x15,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](Pg['mulScalar'](-(0x2*0xe19+-0x3f1*0x7+-0x9a))),this['light']['_node']['rotateLoca'+'l'](-0x25a3+-0xce2+0x32df,-0x645+-0x2*0x10d2+-0x27e9*-0x1,-0x172d+0x84f+0xede);const _0x2c14ec=-0x776*-0x5+-0x7c2*0x3+-0xe06+0.20000000000000018,_0x4f8fbb=(-0x1d8b+0x2*-0x1a+-0x1*-0x1dc1)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x3f7147=Math['pow'](_0x4f8fbb,_0x2c14ec);this['light']['intensity']=Math['pow'](_0x3f7147/_0x303d30,(-0x10be*-0x1+0xf37+-0x1ff4)/_0x2c14ec);}}class vc{constructor(_0x29a8ac,_0x3c44f4=null){this['node']=_0x29a8ac,this['component']=_0x29a8ac['render']||_0x29a8ac['model'],_0x3c44f4=_0x3c44f4||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x3c44f4,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const iL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0aunifor'+'m\x20sampler2'+'D\x20source;\x0a'+'uniform\x20ve'+'c2\x20pixelOf'+'fset;\x0aunif'+'orm\x20vec2\x20s'+'igmas;\x0auni'+'form\x20float'+'\x20bZnorm;\x0au'+'niform\x20flo'+'at\x20kernel['+'{MSIZE}];\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20ve'+'c4\x20pixel\x20='+'\x20texture2D'+'Lod(source'+',\x20vUv0,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20lightmap'+'\x20specific\x20'+'optimizati'+'on\x20-\x20skip\x20'+'pixels\x20tha'+'t\x20were\x20not'+'\x20baked\x0a\x20\x20\x20'+'\x20//\x20this\x20a'+'lso\x20allows'+'\x20dilate\x20fi'+'lter\x20that\x20'+'work\x20on\x20th'+'e\x20output\x20o'+'f\x20this\x20to\x20'+'work\x20corre'+'ctly,\x20as\x20i'+'t\x20depends\x20'+'on\x20.a\x20bein'+'g\x20zero\x0a\x20\x20\x20'+'\x20//\x20to\x20dil'+'ate,\x20which'+'\x20the\x20follo'+'wing\x20blur\x20'+'filter\x20wou'+'ld\x20otherwi'+'se\x20modify\x0a')+('\x20\x20\x20\x20if\x20(!i'+'sUsed(pixe'+'l))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20p'+'ixel;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20sigma\x20-'+'\x20controls\x20'+'blurriness'+'\x20based\x20on\x20'+'a\x20pixel\x20di'+'stance\x0a\x20\x20\x20'+'\x20float\x20sig'+'ma\x20=\x20sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'float\x20bSig'+'ma\x20=\x20sigma'+'s.y;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20pixel'+'Hdr\x20=\x20deco'+'de(pixel);'+'\x0a\x20\x20\x20\x20vec3\x20'+'accumulate'+'dHdr\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20float\x20ac'+'cumulatedF'+'actor\x20=\x200.'+'000001;\x20\x20/'+'/\x20avoid\x20di'+'vision\x20by\x20'+'zero\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20ou'+'t\x20the\x20texe'+'ls\x0a\x20\x20\x20\x20con'+'st\x20int\x20kSi'+'ze\x20=\x20({MSI'+'ZE}\x20-\x201)\x20/'+'\x202;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x20-kSize;\x20i'+'\x20<=\x20kSize;'+'\x20++i)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20j\x20=\x20-'+'kSize;\x20j\x20<'+'=\x20kSize;\x20+'+'+j)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sample'+'\x20the\x20pixel'+'\x20with\x20offs'+'et\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'coord\x20=\x20vU'+'v0\x20+\x20vec2('+'float(i),\x20'+'float(j))\x20'+'*\x20pixelOff'+'set;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20pix\x20=\x20te'+'xture2DLod'+'(source,\x20c'+'oord,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x20-\x20o'+'nly\x20use\x20ba'+'ked\x20pixels'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isU'+'sed(pix))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20hdr\x20=\x20d'+'ecode(pix)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20bilatera'+'l\x20factors\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20factor\x20='+'\x20kernel[kS'+'ize\x20+\x20j]\x20*'+'\x20kernel[kS')+('ize\x20+\x20i];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fact'+'or\x20*=\x20norm'+'pdf3(hdr\x20-'+'\x20pixelHdr,'+'\x20bSigma)\x20*'+'\x20bZnorm;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ccumulate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20accu'+'mulatedHdr'+'\x20+=\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20+=\x20facto'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20finalHD'+'R\x20=\x20accumu'+'latedHdr\x20/'+'\x20accumulat'+'edFactor;\x0a'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(finalHDR,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'encodeRGBM'+'(finalHDR)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a'),rL='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',aL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afn'+'\x20normpdf3('+'v:\x20vec3f,\x20'+'sigma:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x200.39894\x20'+'*\x20exp(-0.5'+'\x20*\x20dot(v,\x20'+'v)\x20/\x20(sigm'+'a\x20*\x20sigma)'+')\x20/\x20sigma;'+'\x0a}\x0a\x0afn\x20dec'+'odeRGBM(rg'+'bm:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20(8'+'.0\x20*\x20rgbm.'+'a)\x20*\x20rgbm.'+'rgb;\x0a\x20\x20\x20\x20r'+'eturn\x20colo'+'r\x20*\x20color;'+'\x0a}\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeRGBM'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'var\x20encode'+'d:\x20vec4f;\x0a'+'\x20\x20\x20\x20let\x20rg'+'b_processe'+('d\x20=\x20pow(co'+'lor.rgb,\x20v'+'ec3f(0.5))'+'\x20*\x20(1.0\x20/\x20'+'8.0);\x0a\x20\x20\x20\x20'+'encoded\x20=\x20'+'vec4f(rgb_'+'processed,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20let\x20max_'+'g_b\x20=\x20max('+'\x20encoded.g'+',\x20max(\x20enc'+'oded.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20);\x0a\x20\x20\x20\x20l'+'et\x20max_rgb'+'\x20=\x20max(\x20en'+'coded.r,\x20m'+'ax_g_b\x20);\x0a'+'\x20\x20\x20\x20encode'+'d.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20enco'+'ded.a\x20=\x20ce'+'il(encoded'+'.a\x20*\x20255.0'+')\x20/\x20255.0;'+'\x0a\x0a\x20\x20\x20\x20enco'+'ded\x20=\x20vec4'+'f(encoded.'+'rgb\x20/\x20enco'+'ded.a,\x20enc'+'oded.a);\x0a\x20'+'\x20\x20\x20return\x20'+'encoded;\x0a}'+'\x0a\x0afn\x20decod'+'e(pixel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20pixel.'+'rgb;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'decodeRGBM'+'(pixel);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a\x0afn\x20isUs'+'ed(pixel:\x20'+'vec4f)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0ava'+'r\x20source:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20sourceSam'+'pler:\x20samp'+'ler;\x0aunifo'+'rm\x20kernel:'+'\x20array<f32'+',\x20{MSIZE}>'+';\x0auniform\x20'+'pixelOffse'+'t:\x20vec2f;\x0a'+'uniform\x20si'+'gmas:\x20vec2'+'f;\x0auniform'+'\x20bZnorm:\x20f'+'32;\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20pixel\x20'+'=\x20textureS'+'ampleLevel'+'(source,\x20s'+'ourceSampl'+'er,\x20input.')+('vUv0,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'lightmap\x20s'+'pecific\x20op'+'timization'+'\x20-\x20skip\x20pi'+'xels\x20that\x20'+'were\x20not\x20b'+'aked\x0a\x20\x20\x20\x20/'+'/\x20this\x20als'+'o\x20allows\x20d'+'ilate\x20filt'+'er\x20that\x20wo'+'rk\x20on\x20the\x20'+'output\x20of\x20'+'this\x20to\x20wo'+'rk\x20correct'+'ly,\x20as\x20it\x20'+'depends\x20on'+'\x20.a\x20being\x20'+'zero\x0a\x20\x20\x20\x20/'+'/\x20to\x20dilat'+'e,\x20which\x20t'+'he\x20followi'+'ng\x20blur\x20fi'+'lter\x20would'+'\x20otherwise'+'\x20modify\x0a\x20\x20'+'\x20\x20if\x20(!isU'+'sed(pixel)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20pix'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20range\x20sig'+'ma\x20-\x20contr'+'ols\x20blurri'+'ness\x20based'+'\x20on\x20a\x20pixe'+'l\x20distance'+'\x0a\x20\x20\x20\x20let\x20s'+'igma\x20=\x20uni'+'form.sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'let\x20bSigma'+'\x20=\x20uniform'+'.sigmas.y;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'pixelHdr\x20='+'\x20decode(pi'+'xel);\x0a\x20\x20\x20\x20'+'var\x20accumu'+'latedHdr\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20var'+'\x20accumulat'+'edFactor\x20='+'\x200.000001;'+'\x20\x20//\x20avoid'+'\x20division\x20'+'by\x20zero\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20out\x20the\x20t'+'exels\x0a\x20\x20\x20\x20'+'const\x20kSiz'+'e\x20=\x20({MSIZ'+'E}\x20-\x201)\x20/\x20'+'2;\x0a\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x20-kSiz'+'e;\x20i\x20<=\x20kS'+'ize;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(var\x20j:\x20i3'+'2\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20j\x20=\x20j\x20'+'+\x201)\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20pixel\x20'+'with\x20offse'+'t\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20co'+'ord\x20=\x20inpu'+'t.vUv0\x20+\x20v'+'ec2f(f32(i')+('),\x20f32(j))'+'\x20*\x20uniform'+'.pixelOffs'+'et;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'pix\x20=\x20text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20co'+'ord,\x200.0);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x20-\x20on'+'ly\x20use\x20bak'+'ed\x20pixels\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isUs'+'ed(pix))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20hdr\x20=\x20dec'+'ode(pix);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'bilateral\x20'+'factors\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20fa'+'ctor\x20=\x20uni'+'form.kerne'+'l[u32(kSiz'+'e\x20+\x20j)].el'+'ement\x20*\x20un'+'iform.kern'+'el[u32(kSi'+'ze\x20+\x20i)].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20factor'+'\x20=\x20factor\x20'+'*\x20normpdf3'+'(hdr\x20-\x20pix'+'elHdr,\x20bSi'+'gma)\x20*\x20uni'+'form.bZnor'+'m;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20accumul'+'ate\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'accumulate'+'dHdr\x20=\x20acc'+'umulatedHd'+'r\x20+\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20=\x20accumu'+'latedFacto'+'r\x20+\x20factor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20let'+'\x20finalHDR\x20'+'=\x20accumula'+'tedHdr\x20/\x20a'+'ccumulated'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20#if\x20HDR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalHDR,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20e'+'ncodeRGBM('+'finalHDR);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),nL='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0avar\x20so'+'urce:\x20text'+'ure_2d<f32'+'>;\x0avar\x20sou'+'rceSampler'+':\x20sampler;'+'\x0auniform\x20p'+'ixelOffset'+':\x20vec2f;\x0a\x0a'+'fn\x20isUsed('+'pixel:\x20vec'+'4f)\x20->\x20boo'+'l\x20{\x0a\x20\x20\x20\x20#i'+'fdef\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0a@fr'+'agment\x0afn\x20'+'fragmentMa'+'in(input:\x20'+'FragmentIn'+'put)\x20->\x20Fr'+'agmentOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20c:\x20vec4'+'f\x20=\x20textur'+'eSampleLev'+'el(source,'+'\x20sourceSam'+'pler,\x20inpu'+'t.vUv0,\x200.'+'0);\x0a\x20\x20\x20\x20c\x20'+'=\x20select(t'+'extureSamp'+'leLevel(so'+'urce,\x20sour'+'ceSampler,'+'\x20input.vUv'+'0\x20-\x20unifor'+'m.pixelOff'+'set,\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20-un'+'iform.pixe'+'lOffset.y)'+',\x200.0),\x20c,'+'\x20isUsed(c)'+');\x0a\x20\x20\x20\x20c\x20='+'\x20select(te'+'xtureSampl'+'eLevel(sou'+'rce,\x20sourc'+'eSampler,\x20'+'input.vUv0'+'\x20+\x20vec2f(u'+'niform.pix'+'elOffset.x'+',\x20-uniform'+'.pixelOffs'+'et.y),\x200.0'+'),\x20c,\x20isUs'+'ed(c));\x0a\x20\x20'+'\x20\x20c\x20=\x20sele'+'ct(texture'+'SampleLeve'+'l(source,\x20'+'sourceSamp'+'ler,\x20input'+'.vUv0\x20+\x20ve'+'c2f(-unifo'+'rm.pixelOf'+'fset.x,\x200.'+'0),\x200.0),\x20'+'c,\x20isUsed('+'c));\x0a\x20\x20\x20\x20c'+'\x20=\x20select('+'textureSam'+'pleLevel(s'+'ource,\x20sou'+'rceSampler'+',\x20input.vU'+'v0\x20+\x20vec2f'+'(uniform.p'+('ixelOffset'+'.x,\x200.0),\x20'+'0.0),\x20c,\x20i'+'sUsed(c));'+'\x0a\x20\x20\x20\x20c\x20=\x20s'+'elect(text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20in'+'put.vUv0\x20+'+'\x20vec2f(-un'+'iform.pixe'+'lOffset.x,'+'\x20uniform.p'+'ixelOffset'+'.y),\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20uni'+'form.pixel'+'Offset.y),'+'\x200.0),\x20c,\x20'+'isUsed(c))'+';\x0a\x20\x20\x20\x20c\x20=\x20'+'select(tex'+'tureSample'+'Level(sour'+'ce,\x20source'+'Sampler,\x20i'+'nput.vUv0\x20'+'+\x20uniform.'+'pixelOffse'+'t,\x200.0),\x20c'+',\x20isUsed(c'+'));\x0a\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20FragmentO'+'utput;\x0a\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20c;\x0a\x20'+'\x20\x20\x20return\x20'+'output;\x0a}\x0a'),Dg=0x27d*-0xd+0x3d5+0x5b7*0x5,oL={'glslBilateralDeNoisePS':iL,'glslDilatePS':rL},lL={'wgslBilateralDeNoisePS':aL,'wgslDilatePS':nL};class cL{constructor(_0x2f1fbc){h(this,'shaderDila'+'te',[]),h(this,'shaderDeno'+'ise',[]),(this['device']=_0x2f1fbc,Pe['get'](this['device'],Fe)['add'](oL),Pe['get'](this['device'],it)['add'](lL),this['constantTe'+'xSource']=_0x2f1fbc['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x2f1fbc['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(0x579+0xf80+-0x1*0x14f7),this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null);}['setSourceT'+'exture'](_0x54235b){this['constantTe'+'xSource']['setValue'](_0x54235b);}['prepare'](_0x1b004c,_0x190d31){this['pixelOffse'+'t'][0x22d2+-0x1*-0x67f+0x5e7*-0x7]=(-0xa30+0x255*0x2+0x587)/_0x1b004c,this['pixelOffse'+'t'][0xac+0x29*0x91+0x2*-0xbf2]=(0x1b30+0x7a6*-0x4+0x369)/_0x190d31,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x219e4f,_0x14222c,_0x2219ba){const _0x51be11=_0x2219ba?0x104d+-0x1a*0xf3+0x861*0x1:0x1*-0x1a84+-0x110b+0x2b90;if(!this['shaderDeno'+'ise'][_0x51be11]){const _0x1cebcd=new Map();_0x1cebcd['set']('{MSIZE}',0x15b8+-0x18d+-0x141c),_0x2219ba&&_0x1cebcd['set']('HDR',''),this['shaderDeno'+'ise'][_0x51be11]=$t['createShad'+'er'](this['device'],{'uniqueName':'lmBilatera'+'lDeNoise-'+(_0x2219ba?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('glslBilate'+'ralDeNoise'+'PS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('wgslBilate'+'ralDeNoise'+'PS'),'fragmentDefines':_0x1cebcd}),this['sigmas']=new Float32Array(0xc22*0x1+0x1fa5+-0x4dd*0x9),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][0x25df+0x1365+-0x14*0x2dd]=_0x219e4f,this['sigmas'][0x2069*0x1+-0x2681+0x619]=_0x14222c,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x219e4f,_0x14222c);}['getDenoise'](_0x186baa){const _0xebd1ee=_0x186baa?-0xa31+-0x79a+0x11cb:-0x156c+-0x3*-0x41d+0x916;return this['shaderDeno'+'ise'][_0xebd1ee];}['getDilate'](_0x485421,_0x2d1ba5){const _0x5e91b4=_0x2d1ba5?-0x10da+-0x260c+0x36e6:0x887*-0x4+-0x1012+0x1*0x322f;if(!this['shaderDila'+'te'][_0x5e91b4]){const _0xa8446e=_0x2d1ba5?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x5e91b4]=$t['createShad'+'er'](_0x485421,{'uniqueName':'lmDilate-'+(_0x2d1ba5?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':_0xa8446e+Pe['get'](this['device'],Fe)['get']('glslDilate'+'PS'),'fragmentWGSL':_0xa8446e+Pe['get'](this['device'],it)['get']('wgslDilate'+'PS')});}return this['shaderDila'+'te'][_0x5e91b4];}['evaluateDe'+'noiseUnifo'+'rms'](_0x71daf8,_0x5bdb74){function _0x617d86(_0x595ee2,_0x322b5d){return(-0x7*0x41f+-0x105f+0x2d38+0.39894)*Math['exp'](-(-0x9*-0x2dd+-0x1969*0x1+-0x5c+0.5)*_0x595ee2*_0x595ee2/(_0x322b5d*_0x322b5d))/_0x322b5d;}this['kernel']=this['kernel']||new Float32Array(Dg);const _0x1e11ae=this['kernel'],_0x543963=Math['floor']((Dg-(0x2*0xac1+-0xee*-0x21+-0x342f))/(-0x2aa+0x1*0x554+0x22*-0x14));for(let _0x2d3f9a=0x13b3+-0x283*0x3+-0xc2a;_0x2d3f9a<=_0x543963;++_0x2d3f9a){const _0xdee057=_0x617d86(_0x2d3f9a,_0x71daf8);_0x1e11ae[_0x543963+_0x2d3f9a]=_0xdee057,_0x1e11ae[_0x543963-_0x2d3f9a]=_0xdee057;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x13bb94=(-0x1f04+-0x82d*-0x1+0x16d8)/_0x617d86(0x2c7+-0x5*-0x43f+-0x1802,_0x5bdb74);this['bZnorm']['setValue'](_0x13bb94);}}class hL extends ys{constructor(_0x24c43b,_0x4bd3c3,_0x31fa0c,_0x416791,_0x2fd861,_0x5d448d){super(_0x24c43b),h(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x4bd3c3,this['camera']=_0x31fa0c,this['worldClust'+'ers']=_0x416791,this['receivers']=_0x2fd861,this['lightArray']=_0x5d448d);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0xb5430f=>{_0xb5430f['defaultUni'+'formBuffer']['destroy'](),_0xb5430f['destroy']();}),this['viewBindGr'+'oups']['length']=-0x9*-0x13d+0x2051*-0x1+0x152c;}['execute'](){const _0x3efe4d=this['device'];Q['pushGpuMar'+'ker'](_0x3efe4d,'Lightmappe'+'r');const {renderer:_0x31e564,camera:_0x27de8e,receivers:_0x45698e,renderTarget:_0x11be77,worldClusters:_0x2f6177,lightArray:_0x3d0c9b}=this;_0x31e564['renderForw'+'ardLayer'](_0x27de8e,_0x11be77,null,void(-0x1*-0x1438+0x2096+0x1a67*-0x2),Aa,this['viewBindGr'+'oups'],{'meshInstances':_0x45698e,'splitLights':_0x3d0c9b,'lightClusters':_0x2f6177}),Q['popGpuMark'+'er'](_0x3efe4d);}}const dL=-0xda7+-0x17*-0x43+0xfa2,fL=-0x7da+-0xca2+-0x8a*-0x26,uL=-0x5*0x399+0x87d+0x981*0x1,xc=new D();class pL{constructor(_0x9f91a4,_0x231a26,_0x44d1b1,_0x3b419f,_0x42239c){this['device']=_0x9f91a4,this['root']=_0x231a26,this['scene']=_0x44d1b1,this['renderer']=_0x3b419f,this['assets']=_0x42239c,this['shadowMapC'+'ache']=_0x3b419f['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(-0x1856+-0x15dd+0x2*0x171a),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new ie(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x574c23;zi['decRef'](this['blackTex']),this['blackTex']=null,zi['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x574c23=this['camera'])==null||_0x574c23['destroy'](),this['camera']=null;}['initBake'](_0x446069){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Ne,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(0x29*-0x5+0x113c*-0x2+0x1*0x2345),this['lightmapFi'+'lters']=new cL(_0x446069),this['constantBa'+'keDir']=_0x446069['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new _e(this['device'],{'width':0x4,'height':0x4,'format':Ne,'type':Zi,'name':'lightmapBl'+'ack'}),zi['incRef'](this['blackTex']);const _0x29dd5f=new Fl();_0x29dd5f['clearColor']['set'](0x1*0xfc1+-0x485*0x4+0x253,-0x18d1+0x1bb0+-0x1*0x2df,0x160b+0x14cc+-0x2ad7,-0x911+0x301*-0x4+-0x303*-0x7),_0x29dd5f['clearColor'+'Buffer']=!(0x40+-0x5*-0x463+0x1*-0x162f),_0x29dd5f['clearDepth'+'Buffer']=!(-0x5eb+0x144b+0xe5f*-0x1),_0x29dd5f['clearStenc'+'ilBuffer']=!(0x1*0x25d6+0x127*0xd+-0x34d0),_0x29dd5f['frustumCul'+'ling']=!(0x664+0x1*0x23dd+-0x40*0xa9),_0x29dd5f['projection']=En,_0x29dd5f['aspectRati'+'o']=-0x1435+0x150e*-0x1+0x2944,_0x29dd5f['node']=new Ie(),this['camera']=_0x29dd5f,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=Ll,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=sm;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x5b35d0=new Mv(_0x446069['supportsAr'+'eaLights'],_0x446069['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x5b35d0;const _0x3cc2f6=this['scene']['lighting'];_0x5b35d0['shadowsEna'+'bled']=_0x3cc2f6['shadowsEna'+'bled'],_0x5b35d0['shadowAtla'+'sResolutio'+'n']=_0x3cc2f6['shadowAtla'+'sResolutio'+'n'],_0x5b35d0['cookiesEna'+'bled']=_0x3cc2f6['cookiesEna'+'bled'],_0x5b35d0['cookieAtla'+'sResolutio'+'n']=_0x3cc2f6['cookieAtla'+'sResolutio'+'n'],_0x5b35d0['areaLights'+'Enabled']=_0x3cc2f6['areaLights'+'Enabled'],_0x5b35d0['cells']=new D(-0x10*0xd2+0x3*-0x1e5+0x646*0x3,0x1*0x1a37+-0x37a+0x1*-0x16ba,-0x8b6+0x1a49*0x1+-0x1190),_0x5b35d0['maxLightsP'+'erCell']=0x1*0x18a7+-0xeca*-0x2+0x3637*-0x1,this['worldClust'+'ers']=new cu(_0x446069),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x3ce493){this['materials']=[];function _0x2abb60(_0x107ba5){zi['decRef'](_0x107ba5['colorBuffe'+'r']),_0x107ba5['destroy']();}this['renderTarg'+'ets']['forEach'](_0x27d345=>{_0x2abb60(_0x27d345);}),this['renderTarg'+'ets']['clear'](),_0x3ce493['forEach'](_0x2de230=>{_0x2de230['renderTarg'+'ets']['forEach'](_0x31624a=>{_0x2abb60(_0x31624a);}),_0x2de230['renderTarg'+'ets']['length']=0x2557+-0x2258+-0xd*0x3b;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x423b5e,_0x7d3664,_0x309f40){const _0x1b2852=new Ut();return _0x1b2852['name']='lmMaterial'+'-pass:'+_0x7d3664+'-ambient:'+_0x309f40,_0x1b2852['setDefine']('UV1LAYOUT',''),_0x1b2852['setDefine']('LIT_LIGHTM'+'AP_BAKING',''),_0x7d3664===fL?(_0x1b2852['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'COLOR',''),_0x309f40?_0x1b2852['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'ADD_AMBIEN'+'T',''):_0x1b2852['ambient']=new ie(-0xc93+0x1efa+-0x1267,0x15c8+-0x1315*0x2+0x3*0x576,-0x18f7+-0x1*0xfdf+0x146b*0x2),this['bakeHDR']||_0x1b2852['setDefine']('LIGHTMAP_R'+'GBM',''),_0x1b2852['lightMap']=this['blackTex']):(_0x1b2852['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'DIR',''),_0x1b2852['setDefine']('STD_LIGHTM'+'AP_DIR','')),_0x1b2852['cull']=bt,_0x1b2852['forceUv1']=!(0x1cf*-0x1+-0x21d4*0x1+0x23a3),_0x1b2852['update'](),_0x1b2852;}['createMate'+'rials'](_0x18e50b,_0x21d226,_0xca178e){for(let _0x238e17=0x205+0x194e*0x1+0x1*-0x1b53;_0x238e17<_0xca178e;_0x238e17++)this['passMateri'+'als'][_0x238e17]||(this['passMateri'+'als'][_0x238e17]=this['createMate'+'rialForPas'+'s'](_0x21d226,_0x238e17,!(-0x4b*-0x65+-0x6*0x574+-0x2*-0x191)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x21d226,-0x26*0xc1+-0xa47+0x26ed,!(0xc*-0x59+0x1*-0x1da5+0x21d1)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x7c5314){return _0x7c5314['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1e08+-0x1de0+0x3be8),_0x7c5314['litOptions']['separateAm'+'bient']=!(0x2344+0x2286+-0x45ca*0x1),_0x7c5314;});}['createText'+'ure'](_0x47c555,_0x5a7470){return new _e(this['device'],{'profilerHint':vy,'width':_0x47c555,'height':_0x47c555,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(0x109b+0xe0a+-0x1ea4),'type':this['bakeHDR']?Ds:Zi,'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x5a7470});}['collectMod'+'els'](_0x3cfb82,_0x5b0f95,_0x2327da){var _0x28eb44,_0x42fe89,_0x3e3d72;if(!_0x3cfb82['enabled'])return;let _0x2fbf05;if((_0x28eb44=_0x3cfb82['model'])!=null&&_0x28eb44['model']&&((_0x42fe89=_0x3cfb82['model'])!=null&&_0x42fe89['enabled'])&&(_0x2327da&&_0x2327da['push'](new vc(_0x3cfb82)),_0x3cfb82['model']['lightmappe'+'d']&&_0x5b0f95&&(_0x2fbf05=_0x3cfb82['model']['model']['meshInstan'+'ces'])),(_0x3e3d72=_0x3cfb82['render'])!=null&&_0x3e3d72['enabled']&&(_0x2327da&&_0x2327da['push'](new vc(_0x3cfb82)),_0x3cfb82['render']['lightmappe'+'d']&&_0x5b0f95&&(_0x2fbf05=_0x3cfb82['render']['meshInstan'+'ces'])),_0x2fbf05){let _0x414d9c=!(-0x24b1+-0xd89+0x191d*0x2);for(let _0x3f7015=0xde7+0x2*-0x8df+-0x3d7*-0x1;_0x3f7015<_0x2fbf05['length'];_0x3f7015++)if(!_0x2fbf05[_0x3f7015]['mesh']['vertexBuff'+'er']['format']['hasUv1']){w['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x3cfb82['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x414d9c=!(0x228d+-0x1*0x22e9+0x5d);break;}if(_0x414d9c){const _0x5128de=[];for(let _0x49939e=-0x1569+-0x4*-0x8bc+0xd87*-0x1;_0x49939e<_0x2fbf05['length'];_0x49939e++){const _0x24c17f=_0x2fbf05[_0x49939e]['mesh'];this['_tempSet']['has'](_0x24c17f)?_0x5b0f95['push'](new vc(_0x3cfb82,[_0x2fbf05[_0x49939e]])):_0x5128de['push'](_0x2fbf05[_0x49939e]),this['_tempSet']['add'](_0x24c17f);}this['_tempSet']['clear'](),_0x5128de['length']>0x187a+-0x1021*0x1+-0x859&&_0x5b0f95['push'](new vc(_0x3cfb82,_0x5128de));}}for(let _0x24d386=0x2b*-0xc5+0x3*-0x95b+0x3d28;_0x24d386<_0x3cfb82['_children']['length'];_0x24d386++)this['collectMod'+'els'](_0x3cfb82['_children'][_0x24d386],_0x5b0f95,_0x2327da);}['prepareSha'+'dowCasters'](_0x10174a){const _0x2d23fd=[];for(let _0x26169b=0x1*-0x1547+0x2690+0x127*-0xf;_0x26169b<_0x10174a['length'];_0x26169b++){const _0x25e5c6=_0x10174a[_0x26169b]['component'];if(_0x25e5c6['castShadow'+'s']=_0x25e5c6['castShadow'+'sLightmap'],_0x25e5c6['castShadow'+'sLightmap']){const _0x498cf3=_0x10174a[_0x26169b]['meshInstan'+'ces'];for(let _0x4f5026=-0xcd7*-0x1+0x3ce+-0x10a5;_0x4f5026<_0x498cf3['length'];_0x4f5026++)_0x498cf3[_0x4f5026]['visibleThi'+'sFrame']=!(-0x11fb*-0x1+-0xd57+-0x24*0x21),_0x2d23fd['push'](_0x498cf3[_0x4f5026]);}}return _0x2d23fd;}['updateTran'+'sforms'](_0x56216b){for(let _0x414c59=-0x93f*0x1+-0xa2*0x29+0x1ad*0x15;_0x414c59<_0x56216b['length'];_0x414c59++){const _0x2f93ac=_0x56216b[_0x414c59]['meshInstan'+'ces'];for(let _0x552687=0x6*0x169+-0x3*-0xad0+-0x28e6;_0x552687<_0x2f93ac['length'];_0x552687++)_0x2f93ac[_0x552687]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x3e2abb){let _0x1a1e3b;const _0x48a784=this['scene']['lightmapSi'+'zeMultipli'+'er']||0x916+0x1b8a+-0x2490,_0x5d68cc=xc;let _0x380347,_0x16b0aa;_0x3e2abb['model']?(_0x16b0aa=_0x3e2abb['model']['lightmapSi'+'zeMultipli'+'er'],_0x3e2abb['model']['asset']?(_0x1a1e3b=this['assets']['get'](_0x3e2abb['model']['asset'])['data'],_0x1a1e3b['area']&&(_0x380347=_0x1a1e3b['area'])):_0x3e2abb['model']['_area']&&(_0x1a1e3b=_0x3e2abb['model'],_0x1a1e3b['_area']&&(_0x380347=_0x1a1e3b['_area']))):_0x3e2abb['render']&&(_0x16b0aa=_0x3e2abb['render']['lightmapSi'+'zeMultipli'+'er'],_0x3e2abb['render']['type']!=='asset'&&_0x3e2abb['render']['_area']&&(_0x1a1e3b=_0x3e2abb['render'],_0x1a1e3b['_area']&&(_0x380347=_0x1a1e3b['_area'])));const _0x3e8394={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x380347&&(_0x3e8394['x']=_0x380347['x'],_0x3e8394['y']=_0x380347['y'],_0x3e8394['z']=_0x380347['z'],_0x3e8394['uv']=_0x380347['uv']);const _0x1a1a97=_0x16b0aa||0x3e4+0x387*-0x3+0x6b2;_0x3e8394['x']*=_0x1a1a97,_0x3e8394['y']*=_0x1a1a97,_0x3e8394['z']*=_0x1a1a97;const _0xc01997=_0x3e2abb['render']||_0x3e2abb['model'],_0x3879b7=this['computeNod'+'eBounds'](_0xc01997['meshInstan'+'ces']);_0x5d68cc['copy'](_0x3879b7['halfExtent'+'s']);let _0x471a53=_0x3e8394['x']*_0x5d68cc['y']*_0x5d68cc['z']+_0x3e8394['y']*_0x5d68cc['x']*_0x5d68cc['z']+_0x3e8394['z']*_0x5d68cc['x']*_0x5d68cc['y'];return _0x471a53/=_0x3e8394['uv'],_0x471a53=Math['sqrt'](_0x471a53),Math['min'](Y['nextPowerO'+'fTwo'](_0x471a53*_0x48a784),this['scene']['lightmapMa'+'xResolutio'+'n']||dL);}['setLightma'+'pping'](_0x40e1d1,_0x54ae9c,_0x9b5519,_0x461ebb){for(let _0x3c98c9=0x269*0x9+-0x10b*0x22+-0x8d*-0x19;_0x3c98c9<_0x40e1d1['length'];_0x3c98c9++){const _0x48e155=_0x40e1d1[_0x3c98c9],_0x3db5cc=_0x48e155['meshInstan'+'ces'];for(let _0x4e3c10=-0x1ee2+-0x251d+0x43ff;_0x4e3c10<_0x3db5cc['length'];_0x4e3c10++){const _0xcc01bb=_0x3db5cc[_0x4e3c10];if(_0xcc01bb['setLightma'+'pped'](_0x54ae9c),_0x54ae9c){_0x461ebb&&(_0xcc01bb['_shaderDef'+'s']|=_0x461ebb),_0xcc01bb['mask']=di;for(let _0x40202d=0x20b2+0x1893+-0x3945;_0x40202d<_0x9b5519;_0x40202d++){const _0x52e530=_0x48e155['renderTarg'+'ets'][_0x40202d]['colorBuffe'+'r'];_0x52e530['minFilter']=vt,_0x52e530['magFilter']=vt,_0xcc01bb['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x40202d],_0x52e530);}}}}}['bake'](_0x5ebae8,_0x132cdb=jc){const _0x1074ed=this['device'],_0x2c05dd=de();this['scene']['_updateSky'+'Mesh'](),_0x1074ed['fire']('lightmappe'+'r:start',{'timestamp':_0x2c05dd,'target':this}),this['stats']['renderPass'+'es']=-0x2125+-0x5a1+0x26c6,this['stats']['shadowMapT'+'ime']=0x4fd*-0x3+0x10*0x1e2+0x1*-0xf29,this['stats']['forwardTim'+'e']=0x8*0xd6+0x1ee3*-0x1+-0x23*-0xb1;const _0x42f8c9=_0x1074ed['_shaderSta'+'ts']['linked'],_0x462b2e=_0x1074ed['_renderTar'+'getCreatio'+'nTime'],_0x2c1179=_0x1074ed['_shaderSta'+'ts']['compileTim'+'e'],_0x4ddb34=[],_0x41cc55=[];if(_0x5ebae8){for(let _0xe991c5=-0xe9+-0x29a*0xd+0x22bb;_0xe991c5<_0x5ebae8['length'];_0xe991c5++)this['collectMod'+'els'](_0x5ebae8[_0xe991c5],_0x4ddb34,null);this['collectMod'+'els'](this['root'],null,_0x41cc55);}else this['collectMod'+'els'](this['root'],_0x4ddb34,_0x41cc55);if(Q['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x4ddb34['length']>0x12af*0x2+0x156c+-0x3aca){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x36ca61=_0x132cdb===jc?-0x7f*-0x3b+0x1*-0x145e+-0x8e5:-0x2312+0x55b+0x1db8;this['setLightma'+'pping'](_0x4ddb34,!(-0x1*0x4c7+0x10fc+-0xc34),_0x36ca61),this['initBake'](_0x1074ed),this['bakeIntern'+'al'](_0x36ca61,_0x4ddb34,_0x41cc55);let _0x8c98ca=ou;_0x132cdb===jc&&(_0x8c98ca|=uv),this['scene']['ambientBak'+'e']&&(_0x8c98ca|=pv),this['setLightma'+'pping'](_0x4ddb34,!(0x75b*0x1+0x266a+0x2dc5*-0x1),_0x36ca61,_0x8c98ca),this['finishBake'](_0x4ddb34);}Q['popGpuMark'+'er'](this['device']);const _0x44fd2a=de();this['stats']['totalRende'+'rTime']=_0x44fd2a-_0x2c05dd,this['stats']['shadersLin'+'ked']=_0x1074ed['_shaderSta'+'ts']['linked']-_0x42f8c9,this['stats']['compileTim'+'e']=_0x1074ed['_shaderSta'+'ts']['compileTim'+'e']-_0x2c1179,this['stats']['fboTime']=_0x1074ed['_renderTar'+'getCreatio'+'nTime']-_0x462b2e,this['stats']['lightmapCo'+'unt']=_0x4ddb34['length'],_0x1074ed['fire']('lightmappe'+'r:end',{'timestamp':_0x44fd2a,'target':this});}['allocateTe'+'xtures'](_0x505e5b,_0x50c2f0){for(let _0x62cbd3=-0x57*-0x4+-0x1967+0x5*0x4cf;_0x62cbd3<_0x505e5b['length'];_0x62cbd3++){const _0x519fb5=_0x505e5b[_0x62cbd3],_0x3d9a2a=this['calculateL'+'ightmapSiz'+'e'](_0x519fb5['node']);for(let _0x5a87ff=-0x1*-0x2a2+-0x1aad*-0x1+0x1d4f*-0x1;_0x5a87ff<_0x50c2f0;_0x5a87ff++){const _0x4fb2e0=this['createText'+'ure'](_0x3d9a2a,'lightmappe'+'r_lightmap'+'_'+_0x62cbd3);zi['incRef'](_0x4fb2e0),_0x519fb5['renderTarg'+'ets'][_0x5a87ff]=new gt({'colorBuffer':_0x4fb2e0,'depth':!(0x3fc+0x42d*-0x1+0x2*0x19)});}if(!this['renderTarg'+'ets']['has'](_0x3d9a2a)){const _0xd89cc0=this['createText'+'ure'](_0x3d9a2a,'lightmappe'+'r_temp_lig'+'htmap_'+_0x3d9a2a);zi['incRef'](_0xd89cc0),this['renderTarg'+'ets']['set'](_0x3d9a2a,new gt({'colorBuffer':_0xd89cc0,'depth':!(-0x9*-0x270+0x1fe2+-0x35d1)}));}}}['prepareLig'+'htsToBake'](_0x4afa90,_0x448cfd){if(this['scene']['ambientBak'+'e']){const _0x2a4aa1=new Mg(this);_0x448cfd['push'](_0x2a4aa1);}const _0x10e992=this['renderer']['lights'];for(let _0x429d4=0x1a19+-0x45d*-0x5+0x1*-0x2fea;_0x429d4<_0x10e992['length'];_0x429d4++){const _0x1f7857=_0x10e992[_0x429d4],_0x174ab8=new sL(this,_0x1f7857);_0x4afa90['push'](_0x174ab8),_0x1f7857['enabled']&&(_0x1f7857['mask']&fi)!==0x8*0x222+0x1*0xc3e+-0x1d4e&&(_0x1f7857['mask']=fi|di|Ss,_0x1f7857['shadowUpda'+'teMode']=_0x1f7857['type']===ve?lm:xr,_0x448cfd['push'](_0x174ab8));}_0x448cfd['sort']();}['restoreLig'+'hts'](_0x44cebc){for(let _0x545657=-0x28*-0x92+-0xaa*-0x4+0x5*-0x518;_0x545657<_0x44cebc['length'];_0x545657++)_0x44cebc[_0x545657]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](-0x9*-0x2c5+-0x1*0x161b+0x2d2*-0x1,-0x57e+0x2*0xa09+0x137*-0xc,-0x28d*-0xd+0x23cc*-0x1+0xe1*0x3),this['renderer']['setSceneCo'+'nstants'](),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Contrast')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Contrast']),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Brightness')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Brightness']);}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x493500){const _0x49c04c=new De();if(_0x493500['length']>0x1c3d*0x1+-0x8b4*0x1+-0x1389*0x1){_0x49c04c['copy'](_0x493500[-0x24b2+0xb*0xd4+0x1b96]['aabb']);for(let _0x51ae0e=0xfec+0x15f1+-0x1*0x25dc;_0x51ae0e<_0x493500['length'];_0x51ae0e++)_0x49c04c['add'](_0x493500[_0x51ae0e]['aabb']);}return _0x49c04c;}['computeNod'+'esBounds'](_0xf76e2f){for(let _0xb6466d=0x977+0x17a7+0x36*-0x9d;_0xb6466d<_0xf76e2f['length'];_0xb6466d++){const _0x1af1b4=_0xf76e2f[_0xb6466d]['meshInstan'+'ces'];_0xf76e2f[_0xb6466d]['bounds']=this['computeNod'+'eBounds'](_0x1af1b4);}}['computeBou'+'nds'](_0x15575e){const _0x2e4d56=new De();for(let _0x26ffbb=-0x5*-0x121+-0x1bd7+0xb19*0x2;_0x26ffbb<_0x15575e['length'];_0x26ffbb++){_0x2e4d56['copy'](_0x15575e[0x1f*0x21+0x1f*0x123+-0x273c]['aabb']);for(let _0x400515=-0xe6*-0x23+-0x229*0x9+-0xc00;_0x400515<_0x15575e['length'];_0x400515++)_0x2e4d56['add'](_0x15575e[_0x400515]['aabb']);}return _0x2e4d56;}['backupMate'+'rials'](_0x349e43){for(let _0x3fd23b=-0x2445+0x16*-0x1bd+0x4a83;_0x3fd23b<_0x349e43['length'];_0x3fd23b++)this['materials'][_0x3fd23b]=_0x349e43[_0x3fd23b]['material'];}['restoreMat'+'erials'](_0xe2c7ac){for(let _0xc96c4a=0x1641+-0x85d+-0x6f2*0x2;_0xc96c4a<_0xe2c7ac['length'];_0xc96c4a++)_0xe2c7ac[_0xc96c4a]['material']=this['materials'][_0xc96c4a];}['lightCamer'+'aPrepare'](_0x183df0,_0xb587f1){const _0x4e0a97=_0xb587f1['light'];let _0x360249;return _0x4e0a97['type']===Ze&&(_0x360249=_0x4e0a97['getRenderD'+'ata'](null,-0xc7c+-0x15e5+0x2261*0x1)['shadowCame'+'ra'],_0x360249['_node']['setPositio'+'n'](_0x4e0a97['_node']['getPositio'+'n']()),_0x360249['_node']['setRotatio'+'n'](_0x4e0a97['_node']['getRotatio'+'n']()),_0x360249['_node']['rotateLoca'+'l'](-(-0x2550+-0x1ec7*-0x1+-0x29*-0x2b),0x18+0x1*-0x313+0x2fb,-0x7*-0x7f+0x12*0x38+-0x1*0x769),_0x360249['projection']=ni,_0x360249['nearClip']=_0x4e0a97['attenuatio'+'nEnd']/(0xb25+0x90e*-0x1+-0x5*-0x5d),_0x360249['farClip']=_0x4e0a97['attenuatio'+'nEnd'],_0x360249['aspectRati'+'o']=0x1311*-0x1+0x228b+-0xf79,_0x360249['fov']=_0x4e0a97['_outerCone'+'Angle']*(0x2414+0x1067*0x1+-0x3479),this['renderer']['updateCame'+'raFrustum'](_0x360249)),_0x360249;}['lightCamer'+'aPrepareAn'+'dCull'](_0x31d771,_0x54f5c4,_0x4c8942,_0xff25cf){const _0x22ed39=_0x31d771['light'];let _0x152ef7=!(-0xd25+0xfee*-0x2+-0x119*-0x29);if(_0x22ed39['type']===ve){xc['copy'](_0xff25cf['center']),xc['y']+=_0xff25cf['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](xc),this['camera']['node']['setEulerAn'+'gles'](-(-0x36f+0x1*0x1b91+-0x17c8),-0xd31+-0xdf3+0xc*0x243,-0x184d+-0x1ad7+0x110c*0x3),this['camera']['nearClip']=-0x18b6+-0xfb1+0x2867,this['camera']['farClip']=_0xff25cf['halfExtent'+'s']['y']*(0x17c9*-0x1+0x1*-0x1b19+-0x1*-0x32e4);const _0xcc61de=Math['max'](_0xff25cf['halfExtent'+'s']['x'],_0xff25cf['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0xcc61de;}else _0x31d771['lightBound'+'s']['intersects'](_0x54f5c4['bounds'])||(_0x152ef7=!(0xba*0x2+-0x1957+0x17e4));if(_0x22ed39['type']===Ze){let _0x1107fd=!(-0x11e3+0x3*0x77a+-0x48a);const _0x38b062=_0x54f5c4['meshInstan'+'ces'];for(let _0x2a84e5=0xdc3+-0x671+-0x752;_0x2a84e5<_0x38b062['length'];_0x2a84e5++)if(_0x38b062[_0x2a84e5]['_isVisible'](_0x4c8942)){_0x1107fd=!(0x251*0x1+0x52*-0x47+0x146d);break;}_0x1107fd||(_0x152ef7=!(0x173b+0x19fb+-0x3135));}return _0x152ef7;}['setupLight'+'Array'](_0x215373,_0x55bd7a){_0x215373[ve]['length']=0x1262+0x19ff+0x1*-0x2c61,_0x215373[Ke]['length']=-0x21bb+-0x1*-0x26a5+-0x4ea,_0x215373[Ze]['length']=0x4d9*0x7+0x107*-0x3+-0x1eda,_0x215373[_0x55bd7a['type']][-0x4*-0x8d4+0x85*0x23+0x11d5*-0x3]=_0x55bd7a,_0x55bd7a['visibleThi'+'sFrame']=!(-0x1ca0+-0x1*0x941+0x25e1*0x1);}['renderShad'+'owMap'](_0x5579de,_0x95dd1d,_0x7788ec,_0x5cb1c9){const _0x218ef0=_0x5cb1c9['light'],_0xd01d53=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x203f7d=_0x218ef0['castShadow'+'s']&&(!_0xd01d53||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x95dd1d&&_0x203f7d){if(!_0x218ef0['shadowMap']&&!_0xd01d53&&(_0x218ef0['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x218ef0)),_0x218ef0['type']===ve){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x218ef0,_0x5579de,this['camera'],_0x7788ec);const _0x5e37f3=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x218ef0,this['camera']);_0x5e37f3==null||_0x5e37f3['render']();}else{if(this['device']['isWebGPU'])return w['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(-0x61*0x7+0x20ba+-0x1e13);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x218ef0,_0x5579de,_0x7788ec),this['renderer']['shadowRend'+'erer']['render'](_0x218ef0,this['camera'],!(0x169b+-0x1bf2+0x558));}}return!(0x1aea+0xa20*0x3+-0x394a);}['postproces'+'sTextures'](_0x57c8c6,_0x1a4420,_0x4fea2c){const _0x4696c4=this['lightmapFi'+'lters']['getDilate'](_0x57c8c6,this['bakeHDR']);let _0x14a641;const _0x50db75=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x50db75&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x14a641=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x57c8c6['setBlendSt'+'ate'](pt['NOBLEND']),_0x57c8c6['setDepthSt'+'ate'](Yt['NODEPTH']),_0x57c8c6['setStencil'+'State'](null,null);for(let _0x4c8f0b=0xc1c+-0x899+-0x1f*0x1d;_0x4c8f0b<_0x1a4420['length'];_0x4c8f0b++){const _0x2d95a3=_0x1a4420[_0x4c8f0b];Q['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x4c8f0b);for(let _0x4be725=0x1a*-0x2+0x1b19+-0x1ae5;_0x4be725<_0x4fea2c;_0x4be725++){const _0x228474=_0x2d95a3['renderTarg'+'ets'][_0x4be725],_0x21f588=_0x228474['colorBuffe'+'r'],_0x51c21a=this['renderTarg'+'ets']['get'](_0x21f588['width']),_0x3fc8af=_0x51c21a['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x21f588['width'],_0x21f588['height']);for(let _0x489e98=0x348+-0x4c+0x2fc*-0x1;_0x489e98<-0xc3a+-0xd*-0x24c+-0x11a1;_0x489e98++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x21f588),Ar(_0x57c8c6,_0x51c21a,_0x50db75&&_0x4be725===0x15d7+-0xb5*0x9+-0x1*0xf7a&&_0x489e98===-0x240d+0x1cc8+0x745?_0x14a641:_0x4696c4),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x3fc8af),Ar(_0x57c8c6,_0x228474,_0x4696c4);}Q['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x3fcb95,_0x316379,_0x4124bc){const _0x1ef3b6=this['scene'],_0x1ff607=_0x1ef3b6['layers'],_0xa194cf=this['device'],_0x1ac4f5=_0x1ef3b6['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0xa194cf,_0x1ef3b6,_0x3fcb95),this['setupScene'](),_0x1ff607['_update'](),this['computeNod'+'esBounds'](_0x316379),this['allocateTe'+'xtures'](_0x316379,_0x3fcb95),this['renderer']['collectLig'+'hts'](_0x1ff607);const _0x1f8cb1=[],_0x4e577a=[];this['prepareLig'+'htsToBake'](_0x1f8cb1,_0x4e577a),this['updateTran'+'sforms'](_0x4124bc);const _0x5903d7=this['prepareSha'+'dowCasters'](_0x4124bc);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x5903d7),this['renderer']['gpuUpdate'](_0x5903d7);const _0x1f2f80=this['computeBou'+'nds'](_0x5903d7);let _0x4cf293,_0x33def9,_0x23fb94,_0x3a5302;for(_0x4cf293=-0xdd9+0x1*0x170b+-0x932;_0x4cf293<_0x316379['length'];_0x4cf293++)for(_0x23fb94=_0x316379[_0x4cf293]['meshInstan'+'ces'],_0x33def9=0x4a1+0xe12+-0x12b3;_0x33def9<_0x23fb94['length'];_0x33def9++)_0x3a5302=_0x23fb94[_0x33def9],_0x3a5302['setLightma'+'pped'](!(0x2042*-0x1+0x234a+0x307*-0x1)),_0x3a5302['mask']=fi,_0x3a5302['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][0x2a9*-0x1+-0x39*-0x47+-0xd26],this['blackTex']),_0x3a5302['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][-0x1*-0x17bd+-0x26fa+0xf3e],this['blackTex']);for(_0x33def9=-0x18b6+-0x174+-0xc5*-0x22;_0x33def9<_0x4e577a['length'];_0x33def9++)_0x4e577a[_0x33def9]['light']['enabled']=!(-0x1*-0x20c3+0x4d2+-0x2594);const _0x4787d9=[[],[],[]];let _0x2b22f2,_0x490a3f,_0x2313f6=!(-0x1*-0xf3f+-0x24bc+0x7*0x312);for(_0x4cf293=0x2591+0x2f*-0x89+-0xc6a;_0x4cf293<_0x4e577a['length'];_0x4cf293++){const _0x500f6b=_0x4e577a[_0x4cf293],_0x4a1209=_0x500f6b instanceof Mg,_0x1bed27=_0x500f6b['light']['type']===ve;let _0x37193b=_0x500f6b['numVirtual'+'Lights'];_0x3fcb95>0x335*0x5+-0x2177+-0x116f*-0x1&&_0x37193b>-0x779*-0x4+0x159d+-0x3380&&_0x500f6b['light']['bakeDir']&&(_0x37193b=-0x60+0x2b2+-0x1*0x251,w['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x536b6e=-0x151*-0x3+0xc*0xec+-0x1*0xf03;_0x536b6e<_0x37193b;_0x536b6e++){Q['pushGpuMar'+'ker'](_0xa194cf,'Light:'+_0x500f6b['light']['_node']['name']+':'+_0x536b6e),_0x37193b>0x2*0x598+0xfd1*-0x1+0x4a2&&_0x500f6b['prepareVir'+'tualLight'](_0x536b6e,_0x37193b),_0x500f6b['startBake']();let _0xeec960=!(0xc*-0x2a4+-0x25d3+0x4584);const _0xaeb456=this['lightCamer'+'aPrepare'](_0xa194cf,_0x500f6b);for(_0x490a3f=-0x1*0x340+0x1782+-0x1442*0x1;_0x490a3f<_0x316379['length'];_0x490a3f++){const _0x5dd8d3=_0x316379[_0x490a3f];if(_0x23fb94=_0x5dd8d3['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x500f6b,_0x5dd8d3,_0xaeb456,_0x1f2f80))continue;this['setupLight'+'Array'](_0x4787d9,_0x500f6b['light']);const _0x4f925e=_0x1bed27?[]:[_0x500f6b['light']];for(_0x1ac4f5&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x4f925e,this['lightingPa'+'rams']),_0xeec960=this['renderShad'+'owMap'](_0x1ff607,_0xeec960,_0x5903d7,_0x500f6b),_0x1ac4f5&&this['worldClust'+'ers']['update'](_0x4f925e,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x23fb94),_0x2b22f2=-0x3d*0x88+-0x12*0x228+0x56*0xd4;_0x2b22f2<_0x3fcb95&&!(_0x2b22f2>-0x174b+0x8*0x358+0x375*-0x1&&_0x536b6e>-0x2145+-0x683*0x5+-0x20ea*-0x2||_0x4a1209&&_0x2b22f2>0xc84+0x48b*0x4+-0x1eb0);_0x2b22f2++){Q['pushGpuMar'+'ker'](_0xa194cf,'LMPass:'+_0x2b22f2);const _0xd2afc0=_0x5dd8d3['renderTarg'+'ets'][_0x2b22f2],_0x236d8c=_0x5dd8d3['renderTarg'+'ets'][_0x2b22f2]['colorBuffe'+'r']['width'],_0x2093ff=this['renderTarg'+'ets']['get'](_0x236d8c),_0x5f5663=_0x2093ff['colorBuffe'+'r'];_0x2b22f2===0x203d+0x21b3+0x107c*-0x4?_0x2313f6=_0x1ef3b6['updateShad'+'ers']:_0x2313f6&&(_0x1ef3b6['updateShad'+'ers']=!(-0x5d8+-0x1*0x25ab+0x2b83));let _0x150d25=this['passMateri'+'als'][_0x2b22f2];for(_0x4a1209&&_0x536b6e+(-0x1896+0xd*0x43+0x1530)===_0x37193b&&_0x2b22f2===0x1*0x335+0x81a+-0xb4f&&(_0x150d25=this['ambientAOM'+'aterial']),_0x33def9=0x16f*-0x2+0x1*0x1b4f+-0x1871;_0x33def9<_0x23fb94['length'];_0x33def9++)_0x23fb94[_0x33def9]['material']=_0x150d25;if(this['renderer']['updateShad'+'ers'](_0x23fb94),_0x2b22f2===uL&&this['constantBa'+'keDir']['setValue'](_0x500f6b['light']['bakeDir']?0x1d2*-0x9+0x1*-0x307+0x3e2*0x5:-0x1f59+0xf67+-0xd*-0x13a),_0xa194cf['isWebGPU']){const _0x2110a8=new hL(_0xa194cf,this['renderer'],this['camera'],_0x1ac4f5?this['worldClust'+'ers']:null,_0x23fb94,_0x4787d9);_0x2110a8['init'](_0x2093ff),_0x2110a8['render'](),_0x2110a8['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x2093ff,!(-0x13c5+-0xb*-0x6f+0xf00)),_0x1ac4f5&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=0x1*-0x1c1f+-0x24dd+0x40fc,this['renderer']['_shadowMap'+'Time']=-0x3c7+0x1d7e+-0x19b7*0x1,this['renderer']['renderForw'+'ard'](this['camera'],_0x2093ff,_0x23fb94,_0x4787d9,Aa),_0xa194cf['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x5dd8d3['renderTarg'+'ets'][_0x2b22f2]=_0x2093ff,this['renderTarg'+'ets']['set'](_0x236d8c,_0xd2afc0),_0x33def9=0x4d2+-0x34*-0xa9+0x1393*-0x2;_0x33def9<_0x23fb94['length'];_0x33def9++)_0x3a5302=_0x23fb94[_0x33def9],_0x3a5302['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x2b22f2],_0x5f5663),_0x3a5302['_shaderDef'+'s']|=ou;Q['popGpuMark'+'er'](_0xa194cf);}this['restoreMat'+'erials'](_0x23fb94);}_0x500f6b['endBake'](this['shadowMapC'+'ache']),Q['popGpuMark'+'er'](_0xa194cf);}}for(this['postproces'+'sTextures'](_0xa194cf,_0x316379,_0x3fcb95),_0x490a3f=0x747*0x5+-0x9*-0x3a9+-0xb8e*0x6;_0x490a3f<_0x4124bc['length'];_0x490a3f++)_0x4124bc[_0x490a3f]['restore']();this['restoreLig'+'hts'](_0x1f8cb1),this['restoreSce'+'ne'](),_0x1ac4f5||this['shadowMapC'+'ache']['clear']();}}const Wh=class Wh extends me{constructor(_0xbac898,_0x1fea12){super(),h(this,'system'),h(this,'entity'),(this['system']=_0xbac898,this['entity']=_0x1fea12,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x5de094,_0x1abdfc,_0x2f82f3){this['fire']('set_'+_0x5de094,_0x5de094,_0x1abdfc,_0x2f82f3);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x147010,_0x219bd2){_0x219bd2['forEach'](_0xbfeb8=>{const _0x5a0480=typeof _0xbfeb8=='object'?_0xbfeb8['name']:_0xbfeb8;Object['defineProp'+'erty'](_0x147010,_0x5a0480,{'get':function(){return this['data'][_0x5a0480];},'set':function(_0x497c54){const _0x5ac1fa=this['data'],_0x1293c3=_0x5ac1fa[_0x5a0480];_0x5ac1fa[_0x5a0480]=_0x497c54,this['fire']('set',_0x5a0480,_0x1293c3,_0x497c54);},'configurable':!(0x8*0x16a+-0x1129+-0x1f3*-0x3)});}),_0x147010['_accessors'+'Built']=!(0xe9e*0x1+-0x18dc+0xa3e);}['buildAcces'+'sors'](_0x712cfa){Wh['_buildAcce'+'ssors'](this,_0x712cfa);}['onSetEnabl'+'ed'](_0x5895be,_0x4f682c,_0x59b8b4){_0x4f682c!==_0x59b8b4&&this['entity']['enabled']&&(_0x59b8b4?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x116cc1=this['system']['store'][this['entity']['getGuid']()];return _0x116cc1?_0x116cc1['data']:null;}set['enabled'](_0x2c235f){}get['enabled'](){return!(0x9c5+0x1c70*0x1+-0x2635);}};h(Wh,'order',-0x49*-0x44+0x2d1*-0x2+0x3*-0x496);let we=Wh;class ct extends me{constructor(_0x29d517){super(),this['app']=_0x29d517,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0xcaffb7,_0xdfdc58={}){const _0x1ab626=new this['ComponentT'+'ype'](this,_0xcaffb7),_0x56eed6=new this['DataType']();return this['store'][_0xcaffb7['getGuid']()]={'entity':_0xcaffb7,'data':_0x56eed6},_0xcaffb7[this['id']]=_0x1ab626,_0xcaffb7['c'][this['id']]=_0x1ab626,this['initialize'+'ComponentD'+'ata'](_0x1ab626,_0xdfdc58,[]),this['fire']('add',_0xcaffb7,_0x1ab626),_0x1ab626;}['removeComp'+'onent'](_0x3346f1){const _0x1f7ae3=this['id'],_0x1ec163=this['store'][_0x3346f1['getGuid']()],_0x3592c0=_0x3346f1['c'][_0x1f7ae3];_0x3592c0['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x3346f1,_0x3592c0),delete this['store'][_0x3346f1['getGuid']()],_0x3346f1[_0x1f7ae3]=void(0x3d4+0x2*-0x1025+0x1*0x1c76),delete _0x3346f1['c'][_0x1f7ae3],this['fire']('remove',_0x3346f1,_0x1ec163['data']);}['cloneCompo'+'nent'](_0x3dde5f,_0x84ca62){const _0x43dbac=this['store'][_0x3dde5f['getGuid']()];return this['addCompone'+'nt'](_0x84ca62,_0x43dbac['data']);}['initialize'+'ComponentD'+'ata'](_0x127f86,_0x4a3346={},_0xc84a){for(let _0x59c9ba=0x18ef+0x34e*-0x9+0x4cf,_0x5ce8de=_0xc84a['length'];_0x59c9ba<_0x5ce8de;_0x59c9ba++){const _0x5a6feb=_0xc84a[_0x59c9ba];let _0x130568,_0x20f505;typeof _0x5a6feb=='object'?(_0x130568=_0x5a6feb['name'],_0x20f505=_0x5a6feb['type']):(_0x130568=_0x5a6feb,_0x20f505=void(-0x1*-0xf36+0xf6c+-0x1ea2));let _0x156b5f=_0x4a3346[_0x130568];_0x156b5f!==void(0x1*0x20a1+-0x2*0xc65+-0x7d7)?(_0x20f505!==void(-0x1f01+-0x25f7+0x44f8)&&(_0x156b5f=mL(_0x156b5f,_0x20f505)),_0x127f86[_0x130568]=_0x156b5f):_0x127f86[_0x130568]=_0x127f86['data'][_0x130568];}_0x127f86['enabled']&&_0x127f86['entity']['enabled']&&_0x127f86['onEnable']();}['getPropert'+'iesOfType'](_0x325f2b){const _0x105899=[];return(this['schema']||[])['forEach'](_0x127a92=>{_0x127a92&&typeof _0x127a92=='object'&&_0x127a92['type']===_0x325f2b&&_0x105899['push'](_0x127a92);}),_0x105899;}['destroy'](){this['off']();}}function mL(_0x464574,_0x91e1e){if(!_0x464574)return _0x464574;switch(_0x91e1e){case'rgb':return _0x464574 instanceof ie?_0x464574['clone']():new ie(_0x464574[-0x4be+-0x3*0xa69+0x23f9],_0x464574[0x146*0xd+0x7a9+-0x1836],_0x464574[-0x1*0x16dd+0x1*0x24dd+-0xdfe]);case'rgba':return _0x464574 instanceof ie?_0x464574['clone']():new ie(_0x464574[0x1a3c+0x59*-0x41+-0x3a3],_0x464574[-0x18c9+-0x30e+0x1bd8],_0x464574[-0x2d*0x27+0x493*-0x1+0xb70],_0x464574[-0xc75*0x1+-0x3a*0x43+0x1ba6]);case'vec2':return _0x464574 instanceof J?_0x464574['clone']():new J(_0x464574[-0xbfb+0x242a+-0x182f],_0x464574[0x741+-0x1*-0xf07+-0x1*0x1647]);case'vec3':return _0x464574 instanceof D?_0x464574['clone']():new D(_0x464574[-0x2*0x7a7+0xf4c+-0x1*-0x2],_0x464574[0x3d6*-0x3+0xcae+0x12b*-0x1],_0x464574[0x1f2d+-0x8e*-0x19+0x225*-0x15]);case'vec4':return _0x464574 instanceof re?_0x464574['clone']():new re(_0x464574[-0xf0*-0x21+0x269b+-0x458b],_0x464574[-0x225b+-0x1*-0x443+0x43*0x73],_0x464574[0x1cd4+-0x1c*0xb5+-0x906],_0x464574[-0x760+-0x1e32+0x9*0x42d]);case'boolean':case'number':case'string':return _0x464574;case'entity':return _0x464574;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x91e1e);}}const Bv=-0x12d7+0x2a3*-0xb+0x2fd8,Su=0x22a2+0x1*-0x1b0a+-0x797,yu=0x15d*0x5+-0x2*-0xa49+0x2b*-0xa3;class _L{constructor(){this['_left']=(0x9aa*0x3+-0x11*-0x6a+-0x2407)/(-0x1283*0x1+0x6d3*-0x1+0x2e*0x8d),this['_right']=-(0x50+-0x22bb+0x226c)/(-0x11cb*0x1+0x37*0x71+-0x67c),this['_len']=0x68*0x52+0x1aa1*-0x1+-0x6af,this['_recip']=-0x3*0x170+0x55*0x19+0x3fd*-0x1,this['_p0']=-0x3db*-0x9+0x207+-0x24ba,this['_p1']=-0x8c1+-0x224d+0xa7*0x42,this['_t']=-0x2*0xfa1+-0x15eb+0x352d*0x1,this['_hermite']={'valid':!(0x1a1b*0x1+0xec3+-0x28dd),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x1dfefa,_0x268bf4){if(_0x1dfefa<this['_left']||_0x1dfefa>=this['_right']){const _0x31fc1f=_0x268bf4['length'];if(!_0x31fc1f)this['_left']=-(0xd76+-0x1e2a+0x10b5)/(0x1191+0x1f5*0x9+-0x232e),this['_right']=(-0x17a6+-0xd1*0x2e+0x3d35)/(-0x11f5+0x1*-0x1e1f+0x3014),this['_len']=-0x4cd+0x1d66+-0x1899,this['_recip']=-0x2d9*-0xc+0x2bf+-0x24eb,this['_p0']=this['_p1']=-0x1d*0xc9+0x2216+0xb51*-0x1;else{if(_0x1dfefa<_0x268bf4[0x1d09+0x3*-0x31c+-0x13b5])this['_left']=-(0x4*-0x1ff+0x34*-0x22+-0x3*-0x4f7)/(-0x1*-0x1562+-0xc3+-0x149f*0x1),this['_right']=_0x268bf4[-0x1*-0x159b+-0x2569*-0x1+-0x3b04],this['_len']=0xceb+-0x7*-0x120+-0x14cb,this['_recip']=-0x269d+-0x22b7*-0x1+0x2*0x1f3,this['_p0']=this['_p1']=-0x561+-0x1dcb+0x2*0x1196;else{if(_0x1dfefa>=_0x268bf4[_0x31fc1f-(0x165c+-0xbb6+-0xaa5)])this['_left']=_0x268bf4[_0x31fc1f-(-0x1b94+-0x14f8+0x1*0x308d)],this['_right']=(0x88d+0x9d5*0x1+-0x5*0x3ad)/(0x15a*0x11+-0x122b+0x4cf*-0x1),this['_len']=-0x13*0x1f9+0x7d*0x25+-0x136a*-0x1,this['_recip']=0x14d7+0x1ca7+-0x23*0x16a,this['_p0']=this['_p1']=_0x31fc1f-(-0x1*-0xd83+0x1ec7+-0x2c49);else{const _0x1f42e1=this['_findKey'](_0x1dfefa,_0x268bf4);this['_left']=_0x268bf4[_0x1f42e1],this['_right']=_0x268bf4[_0x1f42e1+(0x1c11+0xe44+-0x2a54)],this['_len']=this['_right']-this['_left'];const _0x2aa532=(-0x187b+0xc00+0x1*0xc7c)/this['_len'];this['_recip']=isFinite(_0x2aa532)?_0x2aa532:-0x247b+-0x7a*0xb+0x29b9,this['_p0']=_0x1f42e1,this['_p1']=_0x1f42e1+(-0x7a6+0xb*0x1c8+-0xbf1);}}}}this['_t']=this['_recip']===-0x2*-0x1320+0x22fa+-0x493a?-0x6*0x3c7+0x1a42+-0x5c*0xa:(_0x1dfefa-this['_left'])*this['_recip'],this['_hermite']['valid']=!(0xf03*-0x1+0x37f+-0x1*-0xb85);}['_findKey'](_0x11827d,_0x16bbf1){let _0x33293d=-0x2253+0x1a45+0x80e;for(;_0x11827d>=_0x16bbf1[_0x33293d+(-0x955+0x6f*0x24+-0x646)];)_0x33293d++;return _0x33293d;}['eval'](_0x3ba3f2,_0xfe538e,_0x4e7b8f){const _0x40eb44=_0x4e7b8f['_data'],_0x238114=_0x4e7b8f['_component'+'s'],_0x17cb5c=this['_p0']*_0x238114;if(_0xfe538e===Bv){for(let _0x5693f9=0x15*-0x13+-0x4*-0x7db+0x1ddd*-0x1;_0x5693f9<_0x238114;++_0x5693f9)_0x3ba3f2[_0x5693f9]=_0x40eb44[_0x17cb5c+_0x5693f9];}else{const _0xa9d17c=this['_t'],_0x4fb02a=this['_p1']*_0x238114;switch(_0xfe538e){case Su:for(let _0x367d89=0x1bb2+-0x183a+-0x378;_0x367d89<_0x238114;++_0x367d89)_0x3ba3f2[_0x367d89]=Y['lerp'](_0x40eb44[_0x17cb5c+_0x367d89],_0x40eb44[_0x4fb02a+_0x367d89],_0xa9d17c);break;case yu:{const _0x338e02=this['_hermite'];if(!_0x338e02['valid']){const _0x25b17f=_0xa9d17c*_0xa9d17c,_0x2aada2=_0xa9d17c+_0xa9d17c,_0xfd1e8e=-0x377*0x6+-0x9c1*0x2+-0x1*-0x284d-_0xa9d17c,_0x529b6a=_0xfd1e8e*_0xfd1e8e;_0x338e02['valid']=!(-0x79*0x45+-0x241*-0xf+-0x33*0x6),_0x338e02['p0']=(0x229d+-0x25eb+0x34f+_0x2aada2)*_0x529b6a,_0x338e02['m0']=_0xa9d17c*_0x529b6a,_0x338e02['p1']=_0x25b17f*(0x38c+0xe40+0x1*-0x11c9-_0x2aada2),_0x338e02['m1']=_0x25b17f*(_0xa9d17c-(-0x311+0x85*-0x4a+0x2984));}const _0x5cc793=(this['_p0']*(0x18c4*-0x1+0x2098+-0x7d1)+(-0x613*0x1+0xc38+-0x1*0x624))*_0x238114,_0x139eb1=(this['_p0']*(0x1763+-0xf4*-0x22+-0x3*0x1298)+(-0x2183*0x1+0x1bac+0x5d9))*_0x238114,_0x55cd81=(this['_p1']*(0x65*0x25+0x3fb*-0x2+-0x1a8*0x4)+(0x1*0x16cd+-0x21b+0x1*-0x14b1))*_0x238114,_0x246b74=(this['_p1']*(0x261*0xd+-0x19bb*-0x1+-0x38a5)+(0x1b41*-0x1+0x1605+-0x2*-0x29e))*_0x238114;for(let _0x4fd543=0x41*0x52+-0x3*-0x663+0x1bd*-0x17;_0x4fd543<_0x238114;++_0x4fd543)_0x3ba3f2[_0x4fd543]=_0x338e02['p0']*_0x40eb44[_0x5cc793+_0x4fd543]+_0x338e02['m0']*_0x40eb44[_0x139eb1+_0x4fd543]*this['_len']+_0x338e02['p1']*_0x40eb44[_0x55cd81+_0x4fd543]+_0x338e02['m1']*_0x40eb44[_0x246b74+_0x4fd543]*this['_len'];break;}}}}}class Ig{constructor(_0x14501b){this['_name']=_0x14501b['name']+'Snapshot',this['_time']=-(-0xb0*0x37+-0x1e5d+0x6*0xb5d),this['_cache']=[],this['_results']=[];for(let _0x3353da=-0x838*-0x3+-0x7a5+-0x1103;_0x3353da<_0x14501b['_inputs']['length'];++_0x3353da)this['_cache'][_0x3353da]=new _L();const _0x1d4958=_0x14501b['_curves'],_0x3a5ef3=_0x14501b['_outputs'];for(let _0xbcc874=-0x1c5*-0x4+0x9*0x3d0+-0x2964*0x1;_0xbcc874<_0x1d4958['length'];++_0xbcc874){const _0x571117=_0x1d4958[_0xbcc874],_0x5a1ec7=_0x3a5ef3[_0x571117['_output']],_0x356ce3=[];for(let _0x5edafd=-0xdf*0x1b+0x232b*0x1+0x5d3*-0x2;_0x5edafd<_0x5a1ec7['_component'+'s'];++_0x5edafd)_0x356ce3[_0x5edafd]=-0x9a4+0xd8+0x8cc;this['_results'][_0xbcc874]=_0x356ce3;}}}const qo=class qo{constructor(_0x3ce593,_0x5e3220,_0x4a24cb,_0x15de29,_0x59d12b,_0x5d5ee2){this['_name']=_0x3ce593['name'],this['_track']=_0x3ce593,this['_snapshot']=new Ig(_0x3ce593),this['_playing']=_0x15de29,this['_time']=_0x5e3220,this['_speed']=_0x4a24cb,this['_loop']=_0x59d12b,this['_blendWeig'+'ht']=-0x1cfa+0x7d1+0x152a,this['_blendOrde'+'r']=0xd5*-0x2+-0x2327+0x1d*0x145,this['_eventHand'+'ler']=_0x5d5ee2,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x200c7c){this['_name']=_0x200c7c;}get['name'](){return this['_name'];}set['track'](_0x2f211d){this['_track']=_0x2f211d,this['_snapshot']=new Ig(_0x2f211d);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x3c0d68){this['_time']=_0x3c0d68,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x92b6e0){const _0x522621=Math['sign'](_0x92b6e0)!==Math['sign'](this['_speed']);this['_speed']=_0x92b6e0,_0x522621&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x4a8efa){this['_loop']=_0x4a8efa;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x4d83af){this['_blendWeig'+'ht']=_0x4d83af;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x59afd0){this['_blendOrde'+'r']=_0x59afd0;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x569e8d){this['_eventCurs'+'or']=_0x569e8d;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?0x1c6e+-0x70e*-0x1+-0x237c*0x1:this['_track']['events']['length']-(-0x9*-0xc5+0x1*0xbe9+-0x12d5);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<0xdf2+0x1*0x14c2+-0x22b4;}['nextEventA'+'headOfTime'](_0x482457){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x482457:this['nextEvent']['time']>=_0x482457:!(0x12dc*0x1+0x2e2+-0x15bd);}['nextEventB'+'ehindTime'](_0x4af5ae){return this['nextEvent']?_0x4af5ae===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x4af5ae:this['nextEvent']['time']<=_0x4af5ae:this['isReverse']?this['nextEvent']['time']>_0x4af5ae:this['nextEvent']['time']<_0x4af5ae:!(0x1ada+0x7a*0x47+-0x3caf);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(-0x269b*0x1+-0x148b*-0x1+0x1211):0x1*0x24b3+0x1ebb+-0x436e;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(0xdbb+-0x6b9*0x2+-0x2*0x24):0x2*0x9fa+-0x2*-0x43c+0x123*-0x19,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=-0x2279+-0x39a*0x5+-0x5*-0xa7f:this['_eventCurs'+'or']<0x1c9b+-0x1d2d+0x92&&(this['_eventCurs'+'or']=this['track']['events']['length']-(0x90+-0xefd+-0x1*-0xe6e));}['clipFrameT'+'ime'](_0x9d7109){const _0x248f84=qo['eventFrame'];_0x248f84['start']=-0xa3*-0x35+-0x9*0x1f7+-0x1010,_0x248f84['end']=_0x9d7109,_0x248f84['residual']=-0x251f+-0x1*-0x2362+0x5*0x59,this['isReverse']?_0x9d7109<0x200d+0x57b*0x3+0x307e*-0x1&&(_0x248f84['start']=this['track']['duration'],_0x248f84['end']=0x177f+0xa47+-0x21c6,_0x248f84['residual']=_0x9d7109+this['track']['duration']):_0x9d7109>this['track']['duration']&&(_0x248f84['start']=-0x19df+-0x227a+0x3c59,_0x248f84['end']=this['track']['duration'],_0x248f84['residual']=_0x9d7109-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x1a132d,_0x43b8e4){return this['nextEventA'+'headOfTime'](_0x1a132d)&&this['nextEventB'+'ehindTime'](_0x43b8e4)?(this['fireNextEv'+'ent'](),!(0x59*0x67+-0x407*-0x9+0x17*-0x322)):!(0x2244+0x178*-0x17+-0x7b);}['activeEven'+'tsForFrame'](_0x395181,_0x541793){const _0x1c8ca2=qo['eventFrame'];this['clipFrameT'+'ime'](_0x541793);const _0x45e302=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x395181,_0x1c8ca2['end'])&&_0x45e302!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x1c8ca2['residual'])>-0x83b+-0x1514+0x3d*0x7b&&this['activeEven'+'tsForFrame'](_0x1c8ca2['start'],_0x1c8ca2['residual']);}['progressFo'+'rTime'](_0x18175d){return _0x18175d*this['_speed']/this['_track']['duration'];}['_update'](_0x30335f){if(this['_playing']){let _0x1b3906=this['_time'];const _0x2acc94=this['_track']['duration'],_0x2f4ccd=this['_speed'],_0x497bd9=this['_loop'];this['_track']['events']['length']>0x8f+-0x1*0x1896+0x1807&&_0x2acc94>-0x179f*-0x1+-0x15aa+-0x1f5&&this['activeEven'+'tsForFrame'](_0x1b3906,_0x1b3906+_0x2f4ccd*_0x30335f),_0x1b3906+=_0x2f4ccd*_0x30335f,_0x2f4ccd>=-0x1*0xd0d+-0x2440+0x314d*0x1?_0x1b3906>_0x2acc94&&(_0x497bd9?_0x1b3906=_0x1b3906%_0x2acc94||0x146*0x1b+0x1f8c+-0x41ee:(_0x1b3906=this['_track']['duration'],this['pause']())):_0x1b3906<-0x2628+-0x2f*0x49+-0xc5*-0x43&&(_0x497bd9?_0x1b3906=_0x2acc94+(_0x1b3906%_0x2acc94||-0xe17+0x3ee+0xa29):(_0x1b3906=0x1*-0xb5d+0xa65*-0x1+0x5*0x45a,this['pause']())),this['_time']=_0x1b3906;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(-0x49*-0x20+0x1a2f+-0x234f),this['_time']=0x1510+0x298+-0x17a8;}['stop'](){this['_playing']=!(-0x9b2+-0x957+0x130a*0x1),this['_time']=-0x16*0xe5+0x1*0x1999+-0x12f*0x5;}['pause'](){this['_playing']=!(-0x1*-0x1f03+-0x166f+0x1*-0x893);}['resume'](){this['_playing']=!(-0xd0d+-0x5*-0x42c+0x1*-0x7cf);}['reset'](){this['_time']=-0x1*0xad+-0x172*0x19+0x15d*0x1b;}};h(qo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Dh=qo;const zv='NONE',gL='PREV_STATE',SL='NEXT_STATE',yL='PREV_STATE'+'_NEXT_STAT'+'E',vL='NEXT_STATE'+'_PREV_STAT'+'E',xL='GREATER_TH'+'AN',TL='LESS_THAN',wL='GREATER_TH'+'AN_EQUAL_T'+'O',EL='LESS_THAN_'+'EQUAL_TO',bL='EQUAL_TO',AL='NOT_EQUAL_'+'TO',Lg='INTEGER',Rg='FLOAT',Og='BOOLEAN',Qc='TRIGGER',CL='1D',PL='2D_DIRECTI'+'ONAL',ML='2D_CARTESI'+'AN',DL='DIRECT',Co='START',vu='END',qr='ANY',Ih=[Co,vu,qr],Vv='OVERWRITE',IL='ADDITIVE';class Ht{static['dot'](_0x303d4c,_0x5b5fa7){const _0x1bdfe3=_0x303d4c['length'];let _0x22f47c=0xb49+0x783*-0x1+0x2e*-0x15;for(let _0x5b0315=0x1*0x187d+-0x867+-0x1016;_0x5b0315<_0x1bdfe3;++_0x5b0315)_0x22f47c+=_0x303d4c[_0x5b0315]*_0x5b5fa7[_0x5b0315];return _0x22f47c;}static['normalize'](_0x16697c){let _0x1aeeed=Ht['dot'](_0x16697c,_0x16697c);if(_0x1aeeed>-0x114f+-0x1d75+0x2ec4){_0x1aeeed=(0x1*0x23b+0x17a6+-0x19e0)/Math['sqrt'](_0x1aeeed);const _0x13362a=_0x16697c['length'];for(let _0x468963=-0x3ce*0x1+0x1300+-0xf32;_0x468963<_0x13362a;++_0x468963)_0x16697c[_0x468963]*=_0x1aeeed;}}static['set'](_0x37f77e,_0x710ef7,_0x4d306e){const _0x3076d7=_0x37f77e['length'];if(_0x4d306e==='quaternion'){let _0x56c00c=Ht['dot'](_0x710ef7,_0x710ef7);_0x56c00c>0xe2c+-0xd3*0x25+0x1053&&(_0x56c00c=(-0x22ff+0x16*-0x21+-0x1d*-0x14e)/Math['sqrt'](_0x56c00c));for(let _0x4bac05=0x1*0x24e8+0x125d+0x3745*-0x1;_0x4bac05<_0x3076d7;++_0x4bac05)_0x37f77e[_0x4bac05]=_0x710ef7[_0x4bac05]*_0x56c00c;}else{for(let _0x4f93df=0x2360+0x1dee+0x506*-0xd;_0x4f93df<_0x3076d7;++_0x4f93df)_0x37f77e[_0x4f93df]=_0x710ef7[_0x4f93df];}}static['blendVec'](_0x4af0fb,_0x532435,_0x34b2a4,_0xb6e459){const _0x47f1f8=_0xb6e459?0x1*-0x1a89+-0x1abe+0xd52*0x4:0x1*0x26da+0x1b*-0x7b+-0x10*0x19e-_0x34b2a4,_0x154b7b=_0x4af0fb['length'];for(let _0x5720c9=0x1*0x5ae+-0x1796*-0x1+0x751*-0x4;_0x5720c9<_0x154b7b;++_0x5720c9)_0x4af0fb[_0x5720c9]=_0x4af0fb[_0x5720c9]*_0x47f1f8+_0x532435[_0x5720c9]*_0x34b2a4;}static['blendQuat'](_0x45fd01,_0x3a427a,_0x142b70,_0x44d63a){const _0x1accc3=_0x45fd01['length'],_0x478cc3=_0x44d63a?0x38d*0x9+0x1c5*-0x15+-0x2b*-0x1f:0x4*0x6ed+-0xb41*-0x1+-0x26f4-_0x142b70;Ht['dot'](_0x45fd01,_0x3a427a)<-0xd30+0x2199+-0xb*0x1db&&(_0x142b70=-_0x142b70);for(let _0x26593b=-0x261b+-0xc*-0x337+-0x79;_0x26593b<_0x1accc3;++_0x26593b)_0x45fd01[_0x26593b]=_0x45fd01[_0x26593b]*_0x478cc3+_0x3a427a[_0x26593b]*_0x142b70;_0x44d63a||Ht['normalize'](_0x45fd01);}static['blend'](_0x2e1c57,_0x16b3b8,_0x27997c,_0x5cb3ff,_0x7784ff){_0x5cb3ff==='quaternion'?Ht['blendQuat'](_0x2e1c57,_0x16b3b8,_0x27997c,_0x7784ff):Ht['blendVec'](_0x2e1c57,_0x16b3b8,_0x27997c,_0x7784ff);}static['stableSort'](_0x394dc9,_0x5ae569){const _0x105073=_0x394dc9['length'];for(let _0x554b4a=0x6*0x3ac+-0xec1+-0x747;_0x554b4a<_0x105073-(0x196f+0x15*-0x1c6+-0x2f4*-0x4);++_0x554b4a)for(let _0x559e4a=_0x554b4a+(0x1367+0xb6d+-0x1ed3);_0x559e4a<_0x105073;++_0x559e4a)if(_0x5ae569(_0x394dc9[_0x559e4a],_0x394dc9[_0x554b4a])){const _0x324745=_0x394dc9[_0x554b4a];_0x394dc9[_0x554b4a]=_0x394dc9[_0x559e4a],_0x394dc9[_0x559e4a]=_0x324745;}}}const st=class st{constructor(_0x20b5de,_0x1bbbd3){this['_component']=_0x20b5de,this['mask']=new Int8Array(_0x20b5de['layers']['length']),this['weights']=new Float32Array(_0x20b5de['layers']['length']),this['totalWeigh'+'t']=0x1781+-0x36d*0x9+0x1d5*0x4,this['counter']=0x1*-0xa13+0x7d5+0x23e,this['layerCount'+'er']=-0x1*-0x235d+-0x2*-0xb65+0x1*-0x3a27,this['valueType']=_0x1bbbd3,this['dirty']=!(-0x151*-0x17+-0x57b*-0x1+-0x18e*0x17),this['value']=_0x1bbbd3===st['TYPE_QUAT']?[-0x14c5+-0x1cda+-0x319f*-0x1,-0xca+0x24df+-0x2415,-0x1a*0x166+0x22e9+-0x35*-0x7,0x841+0x21f*0x3+-0xe9d]:[-0xf*0x28c+-0x1*0x1556+0x3b8a,0x10d4+-0x2*-0x10bb+-0x324a*0x1,-0x93*-0x11+-0x205a*-0x1+-0x2a1d],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x449875){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===0x1*-0x216e+-0x1702+0x3870||!this['mask'][_0x449875]?-0x1c81+0x139*0xd+-0x1*-0xc9c:this['_normalize'+'Weights']?this['weights'][_0x449875]/this['totalWeigh'+'t']:Y['clamp'](this['weights'][_0x449875],-0xb5*-0x27+0x1*-0x2597+0xa04,0x147+-0x1e33+0x1*0x1ced);}['_layerBlen'+'dType'](_0x317cc4){return this['_component']['layers'][_0x317cc4]['blendType'];}['setMask'](_0x37bd58,_0x3098a7){this['mask'][_0x37bd58]=_0x3098a7,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x37bd58]['blendType']===Vv&&(this['mask']=this['mask']['fill'](-0x10d*-0x13+-0x1633+0xd*0x2c,0x22*0xa7+-0x4*-0x8dd+-0x1336*0x3,_0x37bd58)),this['dirty']=!(0x156d*-0x1+-0x89*-0x47+-0x15*0xca));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0x2616+-0x13*0xc1+0x3469*0x1;for(let _0x3f0ef2=0x2*-0xdbe+-0x1*0x249b+0x4017;_0x3f0ef2<this['weights']['length'];_0x3f0ef2++)this['weights'][_0x3f0ef2]=this['_component']['layers'][_0x3f0ef2]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x3f0ef2]*this['weights'][_0x3f0ef2];this['dirty']=!(-0x1*0x6cb+-0x853+0xf1f);}['updateValu'+'e'](_0x2eb7c2,_0x3e2cb9){if(this['counter']===-0xb9*0x22+-0x275*0x1+0x1*0x1b07&&(Ht['set'](this['value'],st['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Ht['blend'](this['value'],this['baseValue'],-0x163*-0x1+-0x2589+0x5*0x73b,this['valueType'])),!(!this['mask'][_0x2eb7c2]||this['getWeight'](_0x2eb7c2)===-0x36e*-0x8+-0xcfe*0x1+0x2*-0x739)){if(this['_layerBlen'+'dType'](_0x2eb7c2)===IL&&!this['_normalize'+'Weights']){if(this['valueType']===st['TYPE_QUAT']){const _0x2e45f0=st['q1']['set'](this['value'][-0x6f5+-0x23d7+0x2acc],this['value'][-0x25d*0xb+-0xfc3*0x2+0x3986],this['value'][-0x1ef5+-0x1e*0x65+0x2acd*0x1],this['value'][0x1*-0x1b9b+-0x25*-0x107+0xa65*-0x1]),_0x31cae2=st['q2']['set'](this['baseValue'][0x11*-0x11c+0xbe4+-0x8*-0xdf],this['baseValue'][-0x1c40+0x1*-0xe4b+-0x185*-0x1c],this['baseValue'][-0x79b*-0x1+0x7*-0x32b+0xe94],this['baseValue'][0x35*0x89+0x1bcc+-0x1c13*0x2]),_0x26a4ef=st['q3']['set'](_0x3e2cb9[0x1*-0xdc6+0x5a5+0x1*0x821],_0x3e2cb9[0x22d1+0x1a3b+-0x3d0b],_0x3e2cb9[-0x1*-0xa9c+-0xf47*0x1+0x4ad],_0x3e2cb9[0x16a3+-0x1e*0x10b+-0x455*-0x2]),_0x46d1c9=_0x31cae2['invert']()['mul'](_0x26a4ef);_0x46d1c9['slerp'](le['IDENTITY'],_0x46d1c9,this['getWeight'](_0x2eb7c2)),_0x2e45f0['mul'](_0x46d1c9),st['quatArr'][-0x199*-0x16+-0x2bb+-0x206b]=_0x2e45f0['x'],st['quatArr'][-0x12*0x1f+-0x676+0x8a5*0x1]=_0x2e45f0['y'],st['quatArr'][0x9bb+-0xa*-0x2c5+-0x256b]=_0x2e45f0['z'],st['quatArr'][-0x115d*0x1+-0xaae+0x1c0e]=_0x2e45f0['w'],Ht['set'](this['value'],st['quatArr'],this['valueType']);}else st['vecArr'][-0x1*-0x1358+-0x1552+-0x17*-0x16]=_0x3e2cb9[-0x1b64+0x1c7d+-0x119]-this['baseValue'][0x1d*-0x1a+0x2*0x113e+-0xfc5*0x2],st['vecArr'][-0x5*-0x116+-0x2*0x1b2+-0x209]=_0x3e2cb9[-0x2b*0x2f+-0x236f*0x1+0x2b55]-this['baseValue'][0x1781*-0x1+0x169b+0x4d*0x3],st['vecArr'][-0x2*0x14b+0x1f4+0xa4*0x1]=_0x3e2cb9[-0x209c+0x2284+-0x1e6]-this['baseValue'][0x1cc+0x22d8*-0x1+0x210e],Ht['blend'](this['value'],st['vecArr'],this['getWeight'](_0x2eb7c2),this['valueType'],!(0x9*0x395+-0x2*0x43f+-0x17bf));}else Ht['blend'](this['value'],_0x3e2cb9,this['getWeight'](_0x2eb7c2),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};h(st,'TYPE_QUAT','quaternion'),h(st,'TYPE_VEC3','vector3'),h(st,'q1',new le()),h(st,'q2',new le()),h(st,'q3',new le()),h(st,'quatArr',[-0x9*-0xc8+0x16fd+-0x1e05,-0x86*-0x31+-0x1fb7*0x1+0x611,0x246e+-0x1f31+-0x53d,0x17*0x15b+0x3*0x15d+-0x2343]),h(st,'vecArr',[0x83*-0x31+0x1b5b+-0x8*0x49,-0x1*0x1e74+-0x73d*-0x1+0x1737,0x1*0x1b9a+0x5d*-0x55+0x347]),h(st,'IDENTITY_Q'+'UAT_ARR',[-0xa*-0x33b+-0x1*0xa9f+-0x15af,-0x1b7c*0x1+-0x1b1+-0x61*-0x4d,-0x375*-0x4+-0x981+-0x7b*0x9,0x17f9+0x936+-0x212e]);let Vo=st;class Gv{constructor(_0x4ffbe6){this['_binder']=_0x4ffbe6,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x44112d){const _0x7ef542=this['_targets'],_0x48093e=this['_binder'],_0x3ec7c7=_0x44112d['track']['curves'],_0x5f330d=_0x44112d['snapshot'],_0x593f4e=[],_0x3397f0=[];for(let _0x1d721f=-0x2478+-0x1*0xe27+0x329f;_0x1d721f<_0x3ec7c7['length'];++_0x1d721f){const _0x2a81be=_0x3ec7c7[_0x1d721f]['paths'];for(let _0x5eef30=0x25*0x52+0xf38+0xe7*-0x1e;_0x5eef30<_0x2a81be['length'];++_0x5eef30){const _0x3af504=_0x2a81be[_0x5eef30],_0x476735=_0x48093e['resolve'](_0x3af504);let _0x8b94fc=_0x7ef542[_0x476735&&_0x476735['targetPath']||null];if(!_0x8b94fc&&_0x476735){_0x8b94fc={'target':_0x476735,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x542421=0x19af+-0xd*-0x18d+-0x5bb*0x8;_0x542421<_0x8b94fc['target']['components'];++_0x542421)_0x8b94fc['value']['push'](-0x1*-0x1ad1+0xb*0x26b+-0x13e*0x2b);if(_0x7ef542[_0x476735['targetPath']]=_0x8b94fc,_0x48093e['animCompon'+'ent']){if(!_0x48093e['animCompon'+'ent']['targets'][_0x476735['targetPath']]){let _0x1ab925;_0x476735['targetPath']['substring'](_0x476735['targetPath']['length']-(0x1d96+0x3*-0x810+-0x559))==='localRotat'+'ion'?_0x1ab925=Vo['TYPE_QUAT']:_0x1ab925=Vo['TYPE_VEC3'],_0x48093e['animCompon'+'ent']['targets'][_0x476735['targetPath']]=new Vo(_0x48093e['animCompon'+'ent'],_0x1ab925);}_0x48093e['animCompon'+'ent']['targets'][_0x476735['targetPath']]['layerCount'+'er']++,_0x48093e['animCompon'+'ent']['targets'][_0x476735['targetPath']]['setMask'](_0x48093e['layerIndex'],-0x170c+0x2a2*0x6+0x741);}}_0x8b94fc&&(_0x8b94fc['curves']++,_0x593f4e['push'](_0x5f330d['_results'][_0x1d721f]),_0x3397f0['push'](_0x8b94fc));}}this['_clips']['push'](_0x44112d),this['_inputs']['push'](_0x593f4e),this['_outputs']['push'](_0x3397f0);}['removeClip'](_0x3db969){const _0x1bbdd3=this['_targets'],_0x5bbb60=this['_binder'],_0x3b89ef=this['_clips'],_0x3d5a57=_0x3b89ef[_0x3db969]['track']['curves'];for(let _0x2b6ef5=-0x66e*0x1+-0x30d*-0x6+-0xbe0;_0x2b6ef5<_0x3d5a57['length'];++_0x2b6ef5){const _0x3dc9ed=_0x3d5a57[_0x2b6ef5]['paths'];for(let _0x24359e=0x1b3f+0x1*0x2029+-0x3b68;_0x24359e<_0x3dc9ed['length'];++_0x24359e){const _0x440af6=_0x3dc9ed[_0x24359e],_0x15de08=this['_binder']['resolve'](_0x440af6);_0x15de08&&(_0x15de08['curves']--,_0x15de08['curves']===-0x1782+0x643+0x113f&&(_0x5bbb60['unresolve'](_0x440af6),delete _0x1bbdd3[_0x15de08['targetPath']],_0x5bbb60['animCompon'+'ent']&&_0x5bbb60['animCompon'+'ent']['targets'][_0x15de08['targetPath']]['layerCount'+'er']--));}}_0x3b89ef['splice'](_0x3db969,-0x1*0x21b7+0x23ad+-0xa7*0x3),this['_inputs']['splice'](_0x3db969,0x1d5e+0x1cc+-0x1f29),this['_outputs']['splice'](_0x3db969,-0x201d+-0x8d3+0x28f1*0x1);}['removeClip'+'s'](){for(;this['_clips']['length']>0x159a+-0x233a*0x1+-0x6d*-0x20;)this['removeClip'](0x1*-0x1bf5+-0x23e+0x1e33);}['updateClip'+'Track'](_0x35f41f,_0x439f78){this['_clips']['forEach'](_0x698295=>{_0x698295['name']['includes'](_0x35f41f)&&(_0x698295['track']=_0x439f78);}),this['rebind']();}['findClip'](_0x546e27){const _0x1790d6=this['_clips'];for(let _0x3c6bf9=-0x766+0xf7d+-0x817;_0x3c6bf9<_0x1790d6['length'];++_0x3c6bf9){const _0x19eba7=_0x1790d6[_0x3c6bf9];if(_0x19eba7['name']===_0x546e27)return _0x19eba7;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x1dc6fa=[...this['clips']];this['removeClip'+'s'](),_0x1dc6fa['forEach'](_0x344590=>{this['addClip'](_0x344590);});}['assignMask'](_0x56269e){return this['_binder']['assignMask'](_0x56269e);}['update'](_0x572867,_0x3c02c9=!(-0x156f+-0x158*0xb+-0x2437*-0x1)){const _0x36e645=this['_clips'],_0x19a714=_0x36e645['map']((_0x2f837f,_0xd105fd)=>_0xd105fd);Ht['stableSort'](_0x19a714,(_0x85483a,_0xe46e31)=>_0x36e645[_0x85483a]['blendOrder']<_0x36e645[_0xe46e31]['blendOrder']);for(let _0x37c4a4=0xd35+-0x12d4+0x59f*0x1;_0x37c4a4<_0x19a714['length'];++_0x37c4a4){const _0x11a2b3=_0x19a714[_0x37c4a4],_0x266ec7=_0x36e645[_0x11a2b3],_0x4b17c4=this['_inputs'][_0x11a2b3],_0x184232=this['_outputs'][_0x11a2b3],_0x521d5e=_0x266ec7['blendWeigh'+'t'];if(_0x521d5e>-0x6*0x34b+0x65e*0x5+-0x60a*0x2&&_0x266ec7['_update'](_0x572867),!_0x3c02c9)break;let _0x761bfe,_0xdaefcd,_0x5f2443;if(_0x521d5e>=0x17d2+-0x2c*0xc2+0x987){for(let _0x94317f=0x1cfc+-0x4ea+-0xd*0x1da;_0x94317f<_0x4b17c4['length'];++_0x94317f)_0x761bfe=_0x4b17c4[_0x94317f],_0xdaefcd=_0x184232[_0x94317f],_0x5f2443=_0xdaefcd['value'],Ht['set'](_0x5f2443,_0x761bfe,_0xdaefcd['target']['type']),_0xdaefcd['blendCount'+'er']++;}else{if(_0x521d5e>0x43*0x2b+0x1846+0x6b*-0x55){for(let _0x3c7e63=-0x148e+-0x1d86+0x3214;_0x3c7e63<_0x4b17c4['length'];++_0x3c7e63)_0x761bfe=_0x4b17c4[_0x3c7e63],_0xdaefcd=_0x184232[_0x3c7e63],_0x5f2443=_0xdaefcd['value'],_0xdaefcd['blendCount'+'er']===-0x5*-0x3bc+-0x1577+0xb*0x41?Ht['set'](_0x5f2443,_0x761bfe,_0xdaefcd['target']['type']):Ht['blend'](_0x5f2443,_0x761bfe,_0x521d5e,_0xdaefcd['target']['type']),_0xdaefcd['blendCount'+'er']++;}}}const _0x5aa64c=this['_targets'],_0x596f20=this['_binder'];for(const _0x3c12e3 in _0x5aa64c)if(_0x5aa64c['hasOwnProp'+'erty'](_0x3c12e3)){const _0x21296c=_0x5aa64c[_0x3c12e3];if(_0x596f20['animCompon'+'ent']&&_0x21296c['target']['isTransfor'+'m']){const _0xfe192e=_0x596f20['animCompon'+'ent']['targets'][_0x3c12e3];_0xfe192e['counter']===_0xfe192e['layerCount'+'er']&&(_0xfe192e['counter']=-0x53*-0x31+-0x8*-0x274+-0x2383*0x1),_0xfe192e['path']||(_0xfe192e['path']=_0x3c12e3,_0xfe192e['baseValue']=_0x21296c['target']['get'](),_0xfe192e['setter']=_0x21296c['target']['set']),_0xfe192e['updateValu'+'e'](_0x596f20['layerIndex'],_0x21296c['value']),_0xfe192e['counter']++;}else _0x21296c['target']['set'](_0x21296c['value']);_0x21296c['blendCount'+'er']=-0x1c05+0x1d6e+-0x13*0x13;}this['_binder']['update'](_0x572867);}}class Hv{constructor(_0xf9b0ec){this['_events']=[..._0xf9b0ec],this['_events']['sort']((_0x16261f,_0x30442f)=>_0x16261f['time']-_0x30442f['time']);}get['events'](){return this['_events'];}}const $h=class $h{constructor(_0x57ef58,_0x2bf45e,_0x2b6eb2,_0x1e0d20,_0x27f3c4,_0x9b3a22=new Hv([])){this['_name']=_0x57ef58,this['_duration']=_0x2bf45e,this['_inputs']=_0x2b6eb2,this['_outputs']=_0x1e0d20,this['_curves']=_0x27f3c4,this['_animEvent'+'s']=_0x9b3a22;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x360ac6){this['_animEvent'+'s']=_0x360ac6;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x3de4c7,_0x51f24d){_0x51f24d['_time']=_0x3de4c7;const _0x2d4b33=this['_inputs'],_0x35c63e=this['_outputs'],_0x2eeb29=this['_curves'],_0x11e75b=_0x51f24d['_cache'],_0x3cf9bd=_0x51f24d['_results'];for(let _0x1c6e2e=0x2*-0xaf3+-0x3d*-0x3+0x152f;_0x1c6e2e<_0x2d4b33['length'];++_0x1c6e2e)_0x11e75b[_0x1c6e2e]['update'](_0x3de4c7,_0x2d4b33[_0x1c6e2e]['_data']);for(let _0x366858=-0x3d*0x7a+-0xa*-0x199+0xd18;_0x366858<_0x2eeb29['length'];++_0x366858){const _0x2e123c=_0x2eeb29[_0x366858],_0x30f9dc=_0x35c63e[_0x2e123c['_output']],_0x31d431=_0x3cf9bd[_0x366858];_0x11e75b[_0x2e123c['_input']]['eval'](_0x31d431,_0x2e123c['_interpola'+'tion'],_0x30f9dc);}}};h($h,'EMPTY',Object['freeze'](new $h('empty',Number['MAX_VALUE'],[],[],[])));let Qi=$h;class ra{static['joinPath'](_0x50d4cf,_0x1bad7e){_0x1bad7e=_0x1bad7e||'.';const _0x2072fc=function(_0x25fd97){return _0x25fd97['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x1bad7e,'g'),'\x5c'+_0x1bad7e);};return _0x50d4cf['map'](_0x2072fc)['join'](_0x1bad7e);}static['splitPath'](_0x4cd71f,_0x150939){_0x150939=_0x150939||'.';const _0x319471=[];let _0x5adb60='',_0x524981=0x4c4*0x7+0x2*-0x11b7+0x1*0x212;for(;_0x524981<_0x4cd71f['length'];){let _0x2f1f0b=_0x4cd71f[_0x524981++];_0x2f1f0b==='\x5c'&&_0x524981<_0x4cd71f['length']?(_0x2f1f0b=_0x4cd71f[_0x524981++],_0x2f1f0b==='\x5c'||_0x2f1f0b===_0x150939?_0x5adb60+=_0x2f1f0b:_0x5adb60+='\x5c'+_0x2f1f0b):_0x2f1f0b===_0x150939?(_0x319471['push'](_0x5adb60),_0x5adb60=''):_0x5adb60+=_0x2f1f0b;}return _0x5adb60['length']>-0xce1+-0x224*-0x2+-0x1*-0x899&&_0x319471['push'](_0x5adb60),_0x319471;}static['encode'](_0x3da3cc,_0x1fff94,_0x3564d5){return(Array['isArray'](_0x3da3cc)?_0x3da3cc['join']('/'):_0x3da3cc)+'/'+_0x1fff94+'/'+(Array['isArray'](_0x3564d5)?_0x3564d5['join']('/'):_0x3564d5);}['resolve'](_0x10a07d){return null;}['unresolve'](_0xa4459a){}['update'](_0x2d5394){}}class xu{constructor(_0x5118f5,_0x1037fd,_0x298614,_0x1f87f2){_0x5118f5['set']?(this['_set']=_0x5118f5['set'],this['_get']=_0x5118f5['get']):this['_set']=_0x5118f5,this['_type']=_0x1037fd,this['_component'+'s']=_0x298614,this['_targetPat'+'h']=_0x1f87f2,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0xf2*0xb+0x256a+-0x2fc3))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x1986+0xde*-0xb+0x231d))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x1998+0x1*0x20b0+-0xe*0x81))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Sr{constructor(_0x4dad80){h(this,'_isPathInM'+'ask',(_0x84e26,_0x37cfd3)=>{const _0x3dcbab=this['_mask'][_0x84e26];if(_0x3dcbab){if(_0x3dcbab['children']||_0x37cfd3&&_0x3dcbab['value']!==!(0x9*0x67+-0x2*0xb70+-0x1342*-0x1))return!(-0x22e0+-0x554+0x2834);}else return!(-0x1182+0x3*-0x332+0x1b19);return!(-0x1936+0x7*-0x3f1+0x34ce);});if(this['graph']=_0x4dad80,!_0x4dad80)return;this['_mask']=null;const _0x429c74={},_0xc0fc39=function(_0x29e1b1){_0x429c74[_0x29e1b1['name']]=_0x29e1b1;for(let _0x38f711=-0x20d6+-0x11*-0xa+0x202c;_0x38f711<_0x29e1b1['children']['length'];++_0x38f711)_0xc0fc39(_0x29e1b1['children'][_0x38f711]);};_0xc0fc39(_0x4dad80),this['nodes']=_0x429c74,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x4fb26b=function(_0x2c58b9){let _0x458918=_0x2c58b9;for(;_0x458918&&!(_0x458918 instanceof lt);)_0x458918=_0x458918['parent'];let _0x170931;return _0x458918&&(_0x458918['render']?_0x170931=_0x458918['render']['meshInstan'+'ces']:_0x458918['model']&&(_0x170931=_0x458918['model']['meshInstan'+'ces'])),_0x170931;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x419e1a){const _0x1cb84b=_0x419e1a['localPosit'+'ion'],_0x2c7911=function(_0x49d326){_0x1cb84b['set'](..._0x49d326);};return Sr['createAnim'+'Target'](_0x2c7911,'vector',0x2052+-0x936+-0x49*0x51,_0x419e1a,'localPosit'+'ion');},'localRotation':function(_0x136b14){const _0x401044=_0x136b14['localRotat'+'ion'],_0x4aa100=function(_0x4bfcd6){_0x401044['set'](..._0x4bfcd6);};return Sr['createAnim'+'Target'](_0x4aa100,'quaternion',0x14c7+0x13f4+-0x28b7,_0x136b14,'localRotat'+'ion');},'localScale':function(_0x58b35d){const _0x4378bd=_0x58b35d['localScale'],_0xd5d141=function(_0x15349c){_0x4378bd['set'](..._0x15349c);};return Sr['createAnim'+'Target'](_0xd5d141,'vector',0x16ce+-0xc*0x306+0xd7d,_0x58b35d,'localScale');},'weight':function(_0x5c0930,_0xc5a718){_0xc5a718['indexOf']('name.')===-0x2*-0x8ad+0x1a8c+-0x2be6?_0xc5a718=_0xc5a718['replace']('name.',''):_0xc5a718=Number(_0xc5a718);const _0x2b8d99=_0x4fb26b(_0x5c0930);let _0x2fc178;if(_0x2b8d99){for(let _0x50f973=-0x26fd+0xebe+0x183f;_0x50f973<_0x2b8d99['length'];++_0x50f973)if(_0x2b8d99[_0x50f973]['node']['name']===_0x5c0930['name']&&_0x2b8d99[_0x50f973]['morphInsta'+'nce']){const _0x37fe0f=_0x2b8d99[_0x50f973]['morphInsta'+'nce'],_0x425b03=_0x56445e=>{_0x37fe0f['setWeight'](_0xc5a718,_0x56445e[0xa3+-0x112d+0x108a]);};_0x2fc178||(_0x2fc178=[]),_0x2fc178['push'](_0x425b03);}}if(_0x2fc178){const _0x1c3cfd=_0x5ddbc6=>{for(let _0x13d60b=-0x1*-0x48c+-0x9f6+0x56a;_0x13d60b<_0x2fc178['length'];++_0x13d60b)_0x2fc178[_0x13d60b](_0x5ddbc6);};return Sr['createAnim'+'Target'](_0x1c3cfd,'number',-0x1*-0x1f71+0x1419+-0x3389,_0x5c0930,'weight.'+_0xc5a718);}return null;},'materialTexture':(_0x7b8a4e,_0x39a5d8)=>{const _0x324088=_0x4fb26b(_0x7b8a4e);if(_0x324088){let _0x252890;for(let _0x4013df=-0x137*-0xd+0xde5*0x1+-0x2*0xed8;_0x4013df<_0x324088['length'];++_0x4013df)if(_0x324088[_0x4013df]['node']['name']===_0x7b8a4e['name']){_0x252890=_0x324088[_0x4013df];break;}if(_0x252890){const _0x421b47=_0x4b4b27=>{const _0xad81f8=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x4b4b27[-0x86d+-0x1a35*0x1+-0x3e*-0x8f]);_0xad81f8&&_0xad81f8['resource']&&_0xad81f8['type']==='texture'&&(_0x252890['material'][_0x39a5d8]=_0xad81f8['resource'],_0x252890['material']['update']());};return Sr['createAnim'+'Target'](_0x421b47,'vector',0x1*-0xc11+0x27*-0x7a+0x18*0x147,_0x7b8a4e,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x227d3a){if(!this['_mask'])return!(0x1*-0x1c01+-0x7cf+0x23d0);const _0x2831ec=[_0x227d3a['entityPath'][-0xdba+-0x1380+0x213a],this['graph']['name']];for(let _0x462013=0x6c3*0x2+0x5*0x388+-0x1f2e*0x1;_0x462013<_0x2831ec['length'];++_0x462013){let _0x4a6907=_0x2831ec[_0x462013];if(this['_isPathInM'+'ask'](_0x4a6907,_0x227d3a['entityPath']['length']===-0x1265*-0x2+0x1*0x1945+-0x3e0e))return!(0x18cb+0x18a5*-0x1+-0x26*0x1);for(let _0x121849=-0x20f9+-0x1*0x1a87+-0x3b81*-0x1;_0x121849<_0x227d3a['entityPath']['length'];_0x121849++)if(_0x4a6907+='/'+_0x227d3a['entityPath'][_0x121849],this['_isPathInM'+'ask'](_0x4a6907,_0x121849===_0x227d3a['entityPath']['length']-(0x5f8+-0x26c*-0x1+-0x863)))return!(0x5*0x47+-0x7f2+0x68f);}return!(0x2d*0x7b+-0x2050+0xab2);}['findNode'](_0x27d640){if(!this['_isPathAct'+'ive'](_0x27d640))return null;let _0x377ccd;if(this['graph']&&(_0x377ccd=this['graph']['findByPath'](_0x27d640['entityPath']),_0x377ccd||(_0x377ccd=this['graph']['findByPath'](_0x27d640['entityPath']['slice'](0x21c2*0x1+-0x5c4*0x2+-0x1*0x1639)))),!_0x377ccd){_0x377ccd=this['nodes'][_0x27d640['entityPath'][_0x27d640['entityPath']['length']-(-0xf*-0x8c+-0xc00+0x3cd)]||''];const _0x5eb801=ra['encode'](_0x27d640['entityPath'][_0x27d640['entityPath']['length']-(-0x6d4*0x4+0x1927*0x1+-0x1*-0x22a)]||'','graph',_0x27d640['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x5eb801]===0x41c+0x617+0x9*-0x122&&w['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x5eb801+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x5eb801])?this['visitedFal'+'lbackGraph'+'Paths'][_0x5eb801]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x5eb801]=0x7b3*-0x3+-0x328*0x6+0xe03*0x3;}return _0x377ccd;}static['createAnim'+'Target'](_0x4a039f,_0x2f8648,_0x10cee7,_0x5917df,_0x48ac7e,_0x13ef91){const _0xd4b836=ra['encode'](_0x5917df['path'],_0x13ef91||'entity',_0x48ac7e);return new xu(_0x4a039f,_0x2f8648,_0x10cee7,_0xd4b836);}['resolve'](_0x524ad3){const _0x3cf9fe=ra['encode'](_0x524ad3['entityPath'],_0x524ad3['component'],_0x524ad3['propertyPa'+'th']);let _0x2eb48d=this['targetCach'+'e'][_0x3cf9fe];if(_0x2eb48d)return _0x2eb48d;const _0x535c81=this['findNode'](_0x524ad3);if(!_0x535c81)return null;const _0x181289=this['handlers'][_0x524ad3['propertyPa'+'th']];return!_0x181289||(_0x2eb48d=_0x181289(_0x535c81),!_0x2eb48d)?null:(this['targetCach'+'e'][_0x3cf9fe]=_0x2eb48d,this['nodeCounts'][_0x535c81['path']]?this['nodeCounts'][_0x535c81['path']]++:(this['activeNode'+'s']['push'](_0x535c81),this['nodeCounts'][_0x535c81['path']]=0x1*0x127+-0x1fd*0x9+0x10bf),_0x2eb48d);}['unresolve'](_0x33e8fe){if(_0x33e8fe['component']!=='graph')return;const _0x442c9a=this['nodes'][_0x33e8fe['entityPath'][_0x33e8fe['entityPath']['length']-(-0x327+-0x1d83+0x1*0x20ab)]||''];if(this['nodeCounts'][_0x442c9a['path']]--,this['nodeCounts'][_0x442c9a['path']]===0x2c5*0x1+-0x20e6+-0x9*-0x359){const _0x2a770d=this['activeNode'+'s'],_0xbf78d1=_0x2a770d['indexOf'](_0x442c9a['node']),_0x15eb3d=_0x2a770d['length'];_0xbf78d1<_0x15eb3d-(0x2*0xebf+0x1e9*-0xa+-0xa63)&&(_0x2a770d[_0xbf78d1]=_0x2a770d[_0x15eb3d-(0xe38+0x657+-0x148e)]),_0x2a770d['pop']();}}['update'](_0x4ba5ac){const _0x3d9af7=this['activeNode'+'s'];for(let _0x5c3482=-0xf0c+-0x11*0x157+0x25d3;_0x5c3482<_0x3d9af7['length'];++_0x5c3482)_0x3d9af7[_0x5c3482]['_dirtifyLo'+'cal']();}['assignMask'](_0xea6b95){return _0xea6b95!==this['_mask']?(this['_mask']=_0xea6b95,!(0x2090+-0x7*-0x228+-0x2fa8)):!(0x7f7*-0x1+-0x59*0x65+0x1*0x2b15);}}class Wv extends we{constructor(){super(...arguments),h(this,'_animation'+'s',{}),h(this,'_assets',[]),h(this,'_loop',!(-0x1*0x1e55+-0x360+-0x21b5*-0x1)),h(this,'animEvalua'+'tor',null),h(this,'model',null),h(this,'skeleton',null),h(this,'fromSkel',null),h(this,'toSkel',null),h(this,'animations'+'Index',{}),h(this,'prevAnim',null),h(this,'currAnim',null),h(this,'blend',0x21ee+-0x2eb*0x7+-0xd81),h(this,'blending',!(0x8de*-0x2+0x452+0x479*0x3)),h(this,'blendSpeed',0x270f+-0x1146+-0x3*0x743),h(this,'activate',!(-0x1b68+0x651+0x1*0x1517)),h(this,'speed',-0x1a9*-0x1+-0x2072+-0xe*-0x233);}set['animations'](_0x1b5120){this['_animation'+'s']=_0x1b5120,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x1183e7){const _0x11efc0=this['_assets'];if(_0x11efc0&&_0x11efc0['length']){for(let _0x349aae=0x13*0x1f7+-0x837+0xe8f*-0x2;_0x349aae<_0x11efc0['length'];_0x349aae++)if(_0x11efc0[_0x349aae]){const _0x3af02c=this['system']['app']['assets']['get'](_0x11efc0[_0x349aae]);if(_0x3af02c){_0x3af02c['off']('change',this['onAssetCha'+'nged'],this),_0x3af02c['off']('remove',this['onAssetRem'+'oved'],this);const _0x134192=this['animations'+'Index'][_0x3af02c['id']];this['currAnim']===_0x134192&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x134192],delete this['animations'+'Index'][_0x3af02c['id']];}}}this['_assets']=_0x1183e7;const _0x48eaab=_0x1183e7['map'](_0x61f171=>_0x61f171 instanceof pe?_0x61f171['id']:_0x61f171);this['loadAnimat'+'ionAssets'](_0x48eaab);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0xc65356){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0xc65356,this['skeleton']['addTime'](0x5*0x563+-0x1779+-0x376),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0xc2573f=this['animEvalua'+'tor']['clips'];for(let _0xd24206=-0x26f1+0x72e+0x1fc3;_0xd24206<_0xc2573f['length'];++_0xd24206)_0xc2573f[_0xd24206]['time']=_0xc65356;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0xf03deb=this['animEvalua'+'tor']['clips'];if(_0xf03deb['length']>-0x4*-0x89b+-0x1ae0+-0x2e*0x2a)return _0xf03deb[_0xf03deb['length']-(0x1028+0x1e2+-0x1209*0x1)]['time'];}return-0x1099+-0x3b*-0xa0+-0x1d*0xb3;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(w['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),-0x5*-0x365+0x76f*0x2+-0x1fd7);}set['loop'](_0x37c147){if(this['_loop']=_0x37c147,this['skeleton']&&(this['skeleton']['looping']=_0x37c147),this['animEvalua'+'tor']){for(let _0x14edfd=0x21c0+0xcb5*0x1+0x6a3*-0x7;_0x14edfd<this['animEvalua'+'tor']['clips']['length'];++_0x14edfd)this['animEvalua'+'tor']['clips'][_0x14edfd]['loop']=_0x37c147;}}get['loop'](){return this['_loop'];}['play'](_0x592af6,_0x5cc5e8=0x1f1*-0x7+-0x1a9c+0x2833){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x592af6]){w['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x592af6+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x592af6,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x32c940=this['animations'][this['prevAnim']],_0x10f7d8=this['animations'][this['currAnim']];if(this['blending']=_0x5cc5e8>-0xf9a+0x2270+-0x1*0x12d6&&!!this['prevAnim'],this['blending']&&(this['blend']=-0x4*-0x301+0x5e*-0x26+0x1f0,this['blendSpeed']=(-0x15bd+-0x39*0x66+0x2c74)/_0x5cc5e8),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x32c940,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x10f7d8):this['skeleton']['animation']=_0x10f7d8),this['animEvalua'+'tor']){const _0x1dc413=this['animEvalua'+'tor'];if(this['blending']){for(;_0x1dc413['clips']['length']>0x3c4+-0x1*-0x1205+-0x15c8;)_0x1dc413['removeClip'](0x84e+0xe*-0x213+0x14bc);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x3d4622=new Dh(this['animations'][this['currAnim']],-0x2d2*-0xa+-0x3e3*-0x2+-0x266*0xf,-0x17cd+0x24e4+-0xd16,!(-0x1*-0xd76+-0x26f*-0x7+-0x25*0xd3),this['loop']);_0x3d4622['name']=this['currAnim'],_0x3d4622['blendWeigh'+'t']=this['blending']?0x640+-0x4c1+-0x1*0x17f:0x8*0x64+0x2373+-0x1349*0x2,_0x3d4622['reset'](),this['animEvalua'+'tor']['addClip'](_0x3d4622);}}this['playing']=!(0x10*-0x1a4+0x36d*0x1+-0x16d3*-0x1);}}['getAnimati'+'on'](_0x97d05e){return this['animations'][_0x97d05e];}['setModel'](_0x1bec7a){_0x1bec7a!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x1bec7a,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0xc6eed1=this['entity']['model'];if(_0xc6eed1){const _0xcda6d2=_0xc6eed1['model'];_0xcda6d2&&_0xcda6d2!==this['model']&&this['setModel'](_0xcda6d2);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x46d660=Object['keys'](this['_animation'+'s']);_0x46d660['length']>0x2007+-0x2594+-0x1*-0x58d&&this['play'](_0x46d660[0x2*-0xe03+-0x96*0x4+0x1e5e]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x36e60=this['model'],_0x2f8a7b=this['animations'];let _0x2a3abf=!(0x824*-0x3+0x1202+-0x35*-0x1f),_0x53c755=!(0x21e0+-0x2*-0x49e+-0x2b1b);for(const _0x4953ca in _0x2f8a7b)_0x2f8a7b['hasOwnProp'+'erty'](_0x4953ca)&&(_0x2f8a7b[_0x4953ca]['constructo'+'r']===Qi?_0x53c755=!(-0x47*0x7e+0x61*0x10+0x1*0x1ce2):_0x2a3abf=!(-0xf2*0x6+0x12c*0xa+-0xc*0x81));const _0x869f6b=_0x36e60['getGraph']();_0x2a3abf?(this['fromSkel']=new Sf(_0x869f6b),this['toSkel']=new Sf(_0x869f6b),this['skeleton']=new Sf(_0x869f6b),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x869f6b)):_0x53c755&&(this['animEvalua'+'tor']=new Gv(new Sr(this['entity'])));}['loadAnimat'+'ionAssets'](_0x5b96ab){if(!_0x5b96ab||!_0x5b96ab['length'])return;const _0x128dbb=this['system']['app']['assets'],_0x350d69=_0x45c1fe=>{if(_0x45c1fe['resources']['length']>-0x15*0x3+0x1*0x155d+-0xeb*0x17){for(let _0x4383e8=-0x1*0x1027+-0x3*0x525+0x1f96;_0x4383e8<_0x45c1fe['resources']['length'];_0x4383e8++)this['animations'][_0x45c1fe['resources'][_0x4383e8]['name']]=_0x45c1fe['resources'][_0x4383e8],this['animations'+'Index'][_0x45c1fe['id']]=_0x45c1fe['resources'][_0x4383e8]['name'];}else this['animations'][_0x45c1fe['name']]=_0x45c1fe['resource'],this['animations'+'Index'][_0x45c1fe['id']]=_0x45c1fe['name'];this['animations']=this['animations'];},_0x327e91=_0x5c3967=>{_0x5c3967['off']('change',this['onAssetCha'+'nged'],this),_0x5c3967['on']('change',this['onAssetCha'+'nged'],this),_0x5c3967['off']('remove',this['onAssetRem'+'oved'],this),_0x5c3967['on']('remove',this['onAssetRem'+'oved'],this),_0x5c3967['resource']?_0x350d69(_0x5c3967):(_0x5c3967['once']('load',_0x350d69,this),this['enabled']&&this['entity']['enabled']&&_0x128dbb['load'](_0x5c3967));};for(let _0x13440d=0x2658+0x2*0xc41+0xc92*-0x5,_0x1ee8b3=_0x5b96ab['length'];_0x13440d<_0x1ee8b3;_0x13440d++){const _0x6d318=_0x128dbb['get'](_0x5b96ab[_0x13440d]);_0x6d318?_0x327e91(_0x6d318):_0x128dbb['on']('add:'+_0x5b96ab[_0x13440d],_0x327e91);}}['onAssetCha'+'nged'](_0x3d0ec0,_0x32d240,_0x4e613a,_0x4c4ce5){if(_0x32d240==='resource'||_0x32d240==='resources'){if(_0x32d240==='resources'&&_0x4e613a&&_0x4e613a['length']===-0x20da+0x78a+-0x90*-0x2d&&(_0x4e613a=null),_0x4e613a){let _0x51b24e=!(-0x146d+-0x1c49+0x30b7);if(_0x4e613a['length']>-0x1acf*-0x1+-0x1a0c+-0xc2){if(_0x4c4ce5&&_0x4c4ce5['length']>-0x152c+0x1a8+0x1385){for(let _0x2280c7=-0x26b6+-0x2*-0x1bf+-0x17*-0x188;_0x2280c7<_0x4c4ce5['length'];_0x2280c7++)delete this['animations'][_0x4c4ce5[_0x2280c7]['name']];}else delete this['animations'][_0x3d0ec0['name']];_0x51b24e=!(0x4*-0x6aa+-0xb0a*0x3+0x13ed*0x3);for(let _0x50fbc5=-0x1*0x1f46+-0x196*0x11+0x3a3c;_0x50fbc5<_0x4e613a['length'];_0x50fbc5++)this['animations'][_0x4e613a[_0x50fbc5]['name']]=_0x4e613a[_0x50fbc5],!_0x51b24e&&this['currAnim']===_0x4e613a[_0x50fbc5]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x51b24e=!(0x1*-0x1051+-0x13f9*-0x1+-0x3a8),this['play'](_0x4e613a[_0x50fbc5]['name']));_0x51b24e||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x4c4ce5&&_0x4c4ce5['length']>-0x1a1f+0x1*0x1795+0x1*0x28b){for(let _0x326285=0xfdb*0x1+0x2b*-0x5e+0x11*-0x1;_0x326285<_0x4c4ce5['length'];_0x326285++)delete this['animations'][_0x4c4ce5[_0x326285]['name']];}this['animations'][_0x3d0ec0['name']]=_0x4e613a[0x2671*0x1+-0x23e2+-0x5*0x83]||_0x4e613a,_0x51b24e=!(-0x1ed4+-0x1*-0xae8+0x13ed),this['currAnim']===_0x3d0ec0['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x51b24e=!(-0x6f5*0x2+0x2*-0x853+0x8*0x3d2),this['play'](_0x3d0ec0['name'])),_0x51b24e||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x3d0ec0['id']]=_0x3d0ec0['name'];}else{if(_0x4c4ce5['length']>0x1f*0x19+-0x23f4+0x20ee){for(let _0x217e98=-0x188b+0x20fa+-0x86f*0x1;_0x217e98<_0x4c4ce5['length'];_0x217e98++)delete this['animations'][_0x4c4ce5[_0x217e98]['name']],this['currAnim']===_0x4c4ce5[_0x217e98]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x3d0ec0['name']],this['currAnim']===_0x3d0ec0['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x3d0ec0['id']];}}}['onAssetRem'+'oved'](_0x29accd){if(_0x29accd['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x29accd['resources']['length']>-0x7f7+0x3*-0x36e+0x1242){for(let _0x3046a6=-0x197e+0x1*-0xd0f+0x268d;_0x3046a6<_0x29accd['resources']['length'];_0x3046a6++)delete this['animations'][_0x29accd['resources'][_0x3046a6]['name']],this['currAnim']===_0x29accd['resources'][_0x3046a6]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x29accd['name']],this['currAnim']===_0x29accd['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x29accd['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(0x722+0x1a6*-0x4+-0x89),this['skeleton']&&(this['skeleton']['currentTim'+'e']=-0x115f+-0xc1f*-0x3+-0x12fe,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x7d336a=-0x1*-0x86+-0x1621+0x1*0x159b;_0x7d336a<this['animEvalua'+'tor']['clips']['length'];++_0x7d336a)this['animEvalua'+'tor']['clips'][_0x7d336a]['stop']();this['animEvalua'+'tor']['update'](0x284+-0x7*0x9b+0x1b9*0x1),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x4f19ce=this['assets'],_0x3543a6=this['system']['app']['assets'];if(_0x4f19ce)for(let _0x13783f=-0x11*0x2+-0xbda+-0x4*-0x2ff,_0x5c7d0f=_0x4f19ce['length'];_0x13783f<_0x5c7d0f;_0x13783f++){let _0x357db6=_0x4f19ce[_0x13783f];_0x357db6 instanceof pe||(_0x357db6=_0x3543a6['get'](_0x357db6)),_0x357db6&&!_0x357db6['resource']&&_0x3543a6['load'](_0x357db6);}if(this['activate']&&!this['currAnim']){const _0x3bf170=Object['keys'](this['animations']);_0x3bf170['length']>-0x1cf*0x5+-0x22*0xb5+-0x2115*-0x1&&this['play'](_0x3bf170[-0x1ec+-0x2006+0x21f2]);}}['onBeforeRe'+'move'](){for(let _0x3ef26c=-0x19e3+0x775*0x1+0x126e;_0x3ef26c<this['assets']['length'];_0x3ef26c++){let _0x2c1f09=this['assets'][_0x3ef26c];typeof _0x2c1f09=='number'&&(_0x2c1f09=this['system']['app']['assets']['get'](_0x2c1f09)),_0x2c1f09&&(_0x2c1f09['off']('change',this['onAssetCha'+'nged'],this),_0x2c1f09['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x2a65b1){if(this['blending']&&(this['blend']+=_0x2a65b1*this['blendSpeed'],this['blend']>=0x175*-0xb+-0x139*0x9+0x1b09&&(this['blend']=-0x165f+-0x1dde*0x1+0x343e)),this['playing']){const _0x29183c=this['skeleton'];if(_0x29183c!==null&&this['model']!==null){if(this['blending'])_0x29183c['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x49ab22=_0x2a65b1*this['speed'];_0x29183c['addTime'](_0x49ab22),this['speed']>0x2308+-0xf66+0xe*-0x167&&_0x29183c['_time']===_0x29183c['animation']['duration']&&!this['loop']?this['playing']=!(0x1*0x113b+-0x2224+0x10ea):this['speed']<-0x1ff4+-0x133a+0x1997*0x2&&_0x29183c['_time']===-0xffe+-0x1a65+-0xe21*-0x3&&!this['loop']&&(this['playing']=!(-0x346+0x2531+-0x21ea));}this['blending']&&this['blend']===0x2*0x127f+0x1505*0x1+-0x3a02&&(_0x29183c['animation']=this['toSkel']['animation']),_0x29183c['updateGrap'+'h']();}}const _0x1e13a1=this['animEvalua'+'tor'];if(_0x1e13a1){for(let _0x18906a=0x6f4+0x45f*0x3+0x1d3*-0xb;_0x18906a<_0x1e13a1['clips']['length'];++_0x18906a){const _0x94ada3=_0x1e13a1['clips'][_0x18906a];_0x94ada3['speed']=this['speed'],this['playing']?_0x94ada3['resume']():_0x94ada3['pause']();}this['blending']&&_0x1e13a1['clips']['length']>-0x21c3+0x4*-0x6b+0x3f0*0x9&&(_0x1e13a1['clips'][0x84*-0x2+0x5bc*0x4+-0x15e7]['blendWeigh'+'t']=this['blend']),_0x1e13a1['update'](_0x2a65b1);}this['blending']&&this['blend']===-0x43*0x29+0x55f+0x55d&&(this['blending']=!(-0x2a7+-0x24d2+0x277a));}}class LL{constructor(){this['enabled']=!(0x2089+0x1afb*-0x1+-0x2c7*0x2);}}const Tu=['enabled'];class RL extends ct{constructor(_0x3399f8){super(_0x3399f8),this['id']='animation',this['ComponentT'+'ype']=Wv,this['DataType']=LL,this['schema']=Tu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x45fb7a,_0x1a8712,_0x850a66){_0x850a66=['activate','enabled','loop','speed','assets'];for(const _0x395157 of _0x850a66)_0x1a8712['hasOwnProp'+'erty'](_0x395157)&&(_0x45fb7a[_0x395157]=_0x1a8712[_0x395157]);super['initialize'+'ComponentD'+'ata'](_0x45fb7a,_0x1a8712,Tu);}['cloneCompo'+'nent'](_0x4de198,_0x530f24){this['addCompone'+'nt'](_0x530f24,{}),_0x530f24['animation']['assets']=_0x4de198['animation']['assets']['slice'](),_0x530f24['animation']['speed']=_0x4de198['animation']['speed'],_0x530f24['animation']['loop']=_0x4de198['animation']['loop'],_0x530f24['animation']['activate']=_0x4de198['animation']['activate'],_0x530f24['animation']['enabled']=_0x4de198['animation']['enabled'];const _0x4c1415={},_0x3e8944=_0x4de198['animation']['animations'];for(const _0xad92ab in _0x3e8944)_0x3e8944['hasOwnProp'+'erty'](_0xad92ab)&&(_0x4c1415[_0xad92ab]=_0x3e8944[_0xad92ab]);_0x530f24['animation']['animations']=_0x4c1415;const _0x5dd5fb={},_0x451710=_0x4de198['animation']['animations'+'Index'];for(const _0x45e0fe in _0x451710)_0x451710['hasOwnProp'+'erty'](_0x45e0fe)&&(_0x5dd5fb[_0x45e0fe]=_0x451710[_0x45e0fe]);return _0x530f24['animation']['animations'+'Index']=_0x5dd5fb,_0x530f24['animation'];}['onBeforeRe'+'move'](_0x1aed39,_0x14d038){_0x14d038['onBeforeRe'+'move']();}['onUpdate'](_0x4c0977){const _0x3461d0=this['store'];for(const _0x4bba98 in _0x3461d0)if(_0x3461d0['hasOwnProp'+'erty'](_0x4bba98)){const _0x16ec16=_0x3461d0[_0x4bba98];_0x16ec16['data']['enabled']&&_0x16ec16['entity']['enabled']&&_0x16ec16['entity']['animation']['update'](_0x4c0977);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Wv['prototype'],Tu);class ml{constructor(_0x5363e1,_0x23be20,_0x530b6c,_0x633aea,_0x319629=-0x1*0x243d+0x125*-0x3+0x5ab*0x7){this['_state']=_0x5363e1,this['_parent']=_0x23be20,this['_name']=_0x530b6c,Array['isArray'](_0x633aea)?(this['_point']=new J(_0x633aea[-0x7*0x1fc+-0x2*-0x1247+-0x16aa],_0x633aea[0x2e*0x5f+-0x3*0x971+0xb42]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x633aea,this['_pointLeng'+'th']=_0x633aea),this['_speed']=_0x319629,this['_weightedS'+'peed']=-0x3c*-0x75+0xd5c+-0x28c7,this['_weight']=-0x220+-0x1cf9+-0x52f*-0x6,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x2d863e){this['_weight']=_0x2d863e;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x3c43ab=this['_state']['totalWeigh'+'t'];return _0x3c43ab===-0x1*-0x2469+-0xb*0x109+-0x1906?-0x2518+0x2*0xaac+0xfc0:this['weight']/_0x3c43ab;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x236b1a){this['_weightedS'+'peed']=_0x236b1a;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x336514){this['_animTrack']=_0x336514;}get['animTrack'](){return this['_animTrack'];}}class Jn extends ml{constructor(_0x372efa,_0x5e4129,_0x4cf3db,_0x29b080,_0x210910,_0x14d994,_0x57b09a,_0x157b4c,_0x481763){super(_0x372efa,_0x5e4129,_0x4cf3db,_0x29b080),this['_parameter'+'s']=_0x210910,this['_parameter'+'Values']=new Array(_0x210910['length']),this['_children']=[],this['_findParam'+'eter']=_0x481763,this['_syncAnima'+'tions']=_0x57b09a!==!(-0x4ef+-0x110f+0x15ff),this['_pointCach'+'e']={};for(let _0x5b73ae=-0x7*-0xbc+0x203f+-0x2563;_0x5b73ae<_0x14d994['length'];_0x5b73ae++){const _0x326613=_0x14d994[_0x5b73ae];_0x326613['children']?this['_children']['push'](_0x157b4c(_0x326613['type'],_0x372efa,this,_0x326613['name'],0x2*0xe5+0x171+-0x33a,_0x326613['parameter']?[_0x326613['parameter']]:_0x326613['parameters'],_0x326613['children'],_0x326613['syncAnimat'+'ions'],_0x157b4c,_0x481763)):this['_children']['push'](new ml(_0x372efa,this,_0x326613['name'],_0x326613['point'],_0x326613['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x43e99b){for(let _0x46561a=-0x1705+0x1e4a+-0x1*0x745;_0x46561a<this['_children']['length'];_0x46561a++)if(this['_children'][_0x46561a]['name']===_0x43e99b)return this['_children'][_0x46561a];return null;}['updatePara'+'meterValue'+'s'](){let _0x464e17=!(0x1*0x411+0x7b*-0x43+0x1c20);for(let _0x465e3a=0x24a3+-0xa17+0x6a3*-0x4;_0x465e3a<this['_parameter'+'Values']['length'];_0x465e3a++){const _0x469528=this['_findParam'+'eter'](this['_parameter'+'s'][_0x465e3a])['value'];this['_parameter'+'Values'][_0x465e3a]!==_0x469528&&(this['_parameter'+'Values'][_0x465e3a]=_0x469528,_0x464e17=!(-0x57+-0x9b*-0x11+0x1*-0x9f3));}return _0x464e17;}['getNodeWei'+'ghtedDurat'+'ion'](_0x3fba11){return this['_children'][_0x3fba11]['animTrack']['duration']/this['_children'][_0x3fba11]['speedMulti'+'plier']*this['_children'][_0x3fba11]['weight'];}['getNodeCou'+'nt'](){let _0x32e55e=0x17+0x1835+-0x4*0x613;for(let _0x271705=-0xe99+-0x25*-0xac+0x47*-0x25;_0x271705<this['_children']['length'];_0x271705++)this['_children'][_0x271705]['constructo'+'r']===Jn?_0x32e55e+=this['_children'][_0x271705]['getNodeCou'+'nt']():_0x32e55e++;return _0x32e55e;}}class OL extends Jn{constructor(_0x16e211,_0x40a690,_0x2aaf73,_0x1d3bdf,_0x2c09fd,_0x5a2b8a,_0x2c8ce7,_0x5e9908,_0x273096){_0x5a2b8a['sort']((_0xaef3f0,_0x9616b8)=>_0xaef3f0['point']-_0x9616b8['point']),super(_0x16e211,_0x40a690,_0x2aaf73,_0x1d3bdf,_0x2c09fd,_0x5a2b8a,_0x2c8ce7,_0x5e9908,_0x273096);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x2a68b5=0xc5*-0x9+-0x1262+-0x1*-0x194f;this['_children'][0xcdc+0x1*0x268+-0x4*0x3d1]['weight']=-0x1dd1+-0x52b+-0x22fc*-0x1;for(let _0x595bec=-0x83f+0x1616+-0x49d*0x3;_0x595bec<this['_children']['length'];_0x595bec++){const _0x483267=this['_children'][_0x595bec];if(_0x595bec!==this['_children']['length']-(0x3c4+-0x1*0xa05+0x642)){const _0x4cdcbf=this['_children'][_0x595bec+(-0x1629+0x24a4+-0xe7a)];if(_0x483267['point']===_0x4cdcbf['point'])_0x483267['weight']=-0x3*-0xc97+-0x2*-0x79d+-0x34ff+0.5,_0x4cdcbf['weight']=-0x1358+0x21*-0x11a+-0x2*-0x1bd9+0.5;else{if(Y['between'](this['_parameter'+'Values'][0x7*0xff+0x80*-0x16+0x407*0x1],_0x483267['point'],_0x4cdcbf['point'],!(-0x2*-0xe71+0x1f08+0x1df5*-0x2))){const _0x4607d7=Math['abs'](_0x483267['point']-_0x4cdcbf['point']),_0x2cadd7=Math['abs'](_0x483267['point']-this['_parameter'+'Values'][-0x268d+-0x6*-0x2af+-0x1*-0x1673]),_0x5e558f=(_0x4607d7-_0x2cadd7)/_0x4607d7;_0x483267['weight']=_0x5e558f,_0x4cdcbf['weight']=0x26c0+0x95f+-0x1*0x301e-_0x5e558f;}else _0x4cdcbf['weight']=-0x23bb*-0x1+-0x6bb*0x1+0x1d00*-0x1;}}this['_syncAnima'+'tions']&&(_0x2a68b5+=_0x483267['animTrack']['duration']/_0x483267['absoluteSp'+'eed']*_0x483267['weight']);}if(this['_syncAnima'+'tions'])for(let _0x450cd8=0x11*0xb3+-0x19ab*-0x1+-0x1b5*0x16;_0x450cd8<this['_children']['length'];_0x450cd8++){const _0x35db7a=this['_children'][_0x450cd8];_0x35db7a['weightedSp'+'eed']=_0x35db7a['animTrack']['duration']/_0x35db7a['absoluteSp'+'eed']/_0x2a68b5;}}}const ki=class ki extends Jn{['pointDista'+'nceCache'](_0x890797,_0x362d17){const _0x1ccacd=''+_0x890797+_0x362d17;return this['_pointCach'+'e'][_0x1ccacd]||(this['_pointCach'+'e'][_0x1ccacd]=this['_children'][_0x362d17]['point']['clone']()['sub'](this['_children'][_0x890797]['point'])),this['_pointCach'+'e'][_0x1ccacd];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0xfb31ad,_0x2f9e53;ki['_p']['set'](...this['_parameter'+'Values']),_0xfb31ad=0x125*-0x1+0x17b1*-0x1+0x18d6,_0x2f9e53=-0x1911+-0x10*-0x19d+-0xbf*0x1;for(let _0x518c7b=-0x235b+0x1e7b+0x27*0x20;_0x518c7b<this['_children']['length'];_0x518c7b++){const _0x1a756e=this['_children'][_0x518c7b],_0x442869=_0x1a756e['point'];ki['_pip']['set'](ki['_p']['x'],ki['_p']['y'])['sub'](_0x442869);let _0x59fd47=Number['MAX_VALUE'];for(let _0x270d33=0x16f9+-0x1*0x1a4d+0x354;_0x270d33<this['_children']['length'];_0x270d33++){if(_0x518c7b===_0x270d33)continue;const _0x373cd7=this['pointDista'+'nceCache'](_0x518c7b,_0x270d33),_0x30da63=Y['clamp'](-0x545+-0x1f9a*0x1+0x24e0-ki['_pip']['dot'](_0x373cd7)/_0x373cd7['lengthSq'](),0x1ba4+-0x1db5+-0x211*-0x1,0x25b+-0x1b72+0x1918);_0x30da63<_0x59fd47&&(_0x59fd47=_0x30da63);}_0x1a756e['weight']=_0x59fd47,_0xfb31ad+=_0x59fd47,this['_syncAnima'+'tions']&&(_0x2f9e53+=_0x1a756e['animTrack']['duration']/_0x1a756e['absoluteSp'+'eed']*_0x1a756e['weight']);}for(let _0x551a56=0x17*0xbf+-0x7*-0x7f+-0x14a2;_0x551a56<this['_children']['length'];_0x551a56++){const _0x40e302=this['_children'][_0x551a56];_0x40e302['weight']=_0x40e302['_weight']/_0xfb31ad,this['_syncAnima'+'tions']&&(_0x40e302['weightedSp'+'eed']=_0x40e302['animTrack']['duration']/_0x40e302['absoluteSp'+'eed']/_0x2f9e53);}}};h(ki,'_p',new J()),h(ki,'_pip',new J());let wu=ki;const Ui=class Ui extends Jn{['pointCache'](_0x472504,_0x4a584c){const _0x47a065=''+_0x472504+_0x4a584c;return this['_pointCach'+'e'][_0x47a065]||(this['_pointCach'+'e'][_0x47a065]=new J((this['_children'][_0x4a584c]['pointLengt'+'h']-this['_children'][_0x472504]['pointLengt'+'h'])/((this['_children'][_0x4a584c]['pointLengt'+'h']+this['_children'][_0x472504]['pointLengt'+'h'])/(0x2604+0x49b+-0x2a9d*0x1)),J['angleRad'](this['_children'][_0x472504]['point'],this['_children'][_0x4a584c]['point'])*(0xd00+-0x356+0x67*-0x18))),this['_pointCach'+'e'][_0x47a065];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x48c511,_0x4a3088;Ui['_p']['set'](...this['_parameter'+'Values']);const _0x1ccae0=Ui['_p']['length']();_0x48c511=0x2559+-0x15ff+0x1*-0xf5a,_0x4a3088=0x8*-0x2eb+-0x2*-0x4f0+0xd78;for(let _0x909da8=-0x1d2c+-0xa*-0x1dd+-0x8e*-0x13;_0x909da8<this['_children']['length'];_0x909da8++){const _0x356c86=this['_children'][_0x909da8],_0x3a88ea=_0x356c86['point'],_0x2e3e8e=_0x356c86['pointLengt'+'h'];let _0x24baed=Number['MAX_VALUE'];for(let _0x391275=0x239*0x5+-0xf6c+0x44f;_0x391275<this['_children']['length'];_0x391275++){if(_0x909da8===_0x391275)continue;const _0x4eaf3c=this['pointCache'](_0x909da8,_0x391275),_0x48c8e3=this['_children'][_0x391275]['pointLengt'+'h'];Ui['_pip']['set']((_0x1ccae0-_0x2e3e8e)/((_0x48c8e3+_0x2e3e8e)/(0x1*-0x166f+0x451+-0x1220*-0x1)),J['angleRad'](_0x3a88ea,Ui['_p'])*(0x150c+-0x7f7*0x1+-0x1*0xd13));const _0x22faaf=Y['clamp'](-0xb3c+0x1d09+-0x11cc-Math['abs'](Ui['_pip']['dot'](_0x4eaf3c)/_0x4eaf3c['lengthSq']()),0x917+0x24*-0xc1+0x120d*0x1,0x1645+0x2*0x67b+-0x36*0xa7);_0x22faaf<_0x24baed&&(_0x24baed=_0x22faaf);}_0x356c86['weight']=_0x24baed,_0x48c511+=_0x24baed,this['_syncAnima'+'tions']&&(_0x4a3088+=_0x356c86['animTrack']['duration']/_0x356c86['absoluteSp'+'eed']*_0x356c86['weight']);}for(let _0x4f5b3e=0x3*0x20e+0x2c*0xa5+0x2286*-0x1;_0x4f5b3e<this['_children']['length'];_0x4f5b3e++){const _0x4bc08f=this['_children'][_0x4f5b3e];if(_0x4bc08f['weight']=_0x4bc08f['_weight']/_0x48c511,this['_syncAnima'+'tions']){const _0x27497e=_0x4bc08f['animTrack']['duration']/_0x4a3088*_0x48c511;_0x4bc08f['weightedSp'+'eed']=_0x4bc08f['absoluteSp'+'eed']*_0x27497e;}}}};h(Ui,'_p',new J()),h(Ui,'_pip',new J());let Eu=Ui;class FL extends Jn{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x52a8c1=0xf23+0x192a+0x3*-0xd6f,_0x499bec=-0x240c+-0xaf*0x17+-0x33c5*-0x1;for(let _0x1fe646=-0x13d*0x9+0xdfd*0x2+0x10d5*-0x1;_0x1fe646<this['_children']['length'];_0x1fe646++)if(_0x52a8c1+=Math['max'](this['_parameter'+'Values'][_0x1fe646],-0x1*0xaba+0x1a33+-0xe9*0x11),this['_syncAnima'+'tions']){const _0x46a1f9=this['_children'][_0x1fe646];_0x499bec+=_0x46a1f9['animTrack']['duration']/_0x46a1f9['absoluteSp'+'eed']*_0x46a1f9['weight'];}for(let _0x4a7e43=-0x1d2*0x6+-0x1*-0x164f+-0xb63;_0x4a7e43<this['_children']['length'];_0x4a7e43++){const _0x179c47=this['_children'][_0x4a7e43],_0x57fe76=Math['max'](this['_parameter'+'Values'][_0x4a7e43],-0x256c+0x5*0x209+0x1b3f);_0x52a8c1?(_0x179c47['weight']=_0x57fe76/_0x52a8c1,this['_syncAnima'+'tions']&&(_0x179c47['weightedSp'+'eed']=_0x179c47['animTrack']['duration']/_0x179c47['absoluteSp'+'eed']/_0x499bec)):(_0x179c47['weight']=-0x1b7d+-0x80a+0x1*0x2387,this['_syncAnima'+'tions']&&(_0x179c47['weightedSp'+'eed']=0x368+-0x1a*0xbc+0xfb0));}}}class Fg{constructor(_0x1a9009,_0x2b5b97,_0x5060f4=0x1*0xae2+0x2271+-0x2d52,_0x276224=!(-0x24*0x4f+-0x1*0xd2b+0x1847),_0x530915){h(this,'_animation'+'s',{}),h(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x1a9009,this['_name']=_0x2b5b97,this['_speed']=_0x5060f4,this['_loop']=_0x276224,this['_hasAnimat'+'ions']=!(0x1359+-0xb*-0x2ab+-0x9bd*0x5),_0x530915?this['_blendTree']=this['_createTre'+'e'](_0x530915['type'],this,null,_0x2b5b97,-0x3a*-0x28+-0x988+0x79,_0x530915['parameter']?[_0x530915['parameter']]:_0x530915['parameters'],_0x530915['children'],_0x530915['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new ml(this,null,_0x2b5b97,-0x5cf*0x5+0x5*-0xc7+0x20ef,_0x5060f4));}['_createTre'+'e'](_0xcbe0cd,_0x5b6640,_0x470845,_0x3eb954,_0x273053,_0x2567f4,_0x34910c,_0x6e1fab,_0x43b9a0,_0x34e440){switch(_0xcbe0cd){case CL:return new OL(_0x5b6640,_0x470845,_0x3eb954,_0x273053,_0x2567f4,_0x34910c,_0x6e1fab,_0x43b9a0,_0x34e440);case ML:return new wu(_0x5b6640,_0x470845,_0x3eb954,_0x273053,_0x2567f4,_0x34910c,_0x6e1fab,_0x43b9a0,_0x34e440);case PL:return new Eu(_0x5b6640,_0x470845,_0x3eb954,_0x273053,_0x2567f4,_0x34910c,_0x6e1fab,_0x43b9a0,_0x34e440);case DL:return new FL(_0x5b6640,_0x470845,_0x3eb954,_0x273053,_0x2567f4,_0x34910c,_0x6e1fab,_0x43b9a0,_0x34e440);}w['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0xcbe0cd);}['_getNodeFr'+'omPath'](_0x547bf8){let _0x34c49d=this['_blendTree'];for(let _0x1af67e=0x4b2+-0x596+0xe5;_0x1af67e<_0x547bf8['length'];_0x1af67e++)_0x34c49d=_0x34c49d['getChild'](_0x547bf8[_0x1af67e]);return _0x34c49d;}['addAnimati'+'on'](_0x1ac6fb,_0xecea7){const _0x9bd46e=_0x1ac6fb['join']('.'),_0x1c2822=this['_animation'+'List']['findIndex'](_0x523e8a=>_0x523e8a['path']===_0x9bd46e);if(_0x1c2822>=-0x59*0x1e+-0xda4+0x1812)this['_animation'+'List'][_0x1c2822]['animTrack']=_0xecea7;else{const _0x1a0714=this['_getNodeFr'+'omPath'](_0x1ac6fb);_0x1a0714['animTrack']=_0xecea7,this['_animation'+'List']['push'](_0x1a0714);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>0x4*0x598+-0x242b+0xdcb&&this['_animation'+'List']['every'](_0x3e6842=>_0x3e6842['animTrack']&&_0x3e6842['animTrack']!==Qi['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x3f6b9d){this['_animation'+'List']=_0x3f6b9d,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x3a9cb6){this['_speed']=_0x3a9cb6;}get['speed'](){return this['_speed'];}set['loop'](_0x122647){this['_loop']=_0x122647;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===ml?0x5f6+0x430+-0xa25:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return Ih['indexOf'](this['name'])!==-(0x10e8+0x3*-0x957+0xb1e)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>0x35c+-0x1f1b+0x1*0x1bbf){const _0xd56526=this['name']+'.'+this['animations'][-0xa55+0x6a4*-0x3+0x1e41]['animTrack']['name'],_0x14a6ae=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0xd56526);if(_0x14a6ae)return _0x14a6ae['loop'];}return!(-0x1a61+0x1b3a+-0xc*0x12);}get['totalWeigh'+'t'](){let _0x4a66a8=-0x1c80+0x1f*-0x117+0x3e49;for(let _0x421a43=0x3ce*-0x3+-0x281*0xc+0xb7*0x3a;_0x421a43<this['animations']['length'];_0x421a43++)_0x4a66a8+=this['animations'][_0x421a43]['weight'];return _0x4a66a8;}get['timelineDu'+'ration'](){let _0x2881a8=-0x127a+0x1681+0x407*-0x1;for(let _0x43e26c=-0x1004*-0x1+0x211*-0x2+-0xbe2;_0x43e26c<this['animations']['length'];_0x43e26c++){const _0x292294=this['animations'][_0x43e26c];_0x292294['animTrack']['duration']>_0x2881a8&&(_0x2881a8=_0x292294['animTrack']['duration']);}return _0x2881a8;}}class Lh{constructor({from:_0x10f255,to:_0x404e29,time:_0x51b85d=0x121*0x15+0x1*0x1bd1+-0x1*0x3386,priority:_0x48443b=0x26*0x9+0x62a+-0x780,conditions:_0x1ea7f3=[],exitTime:_0x41349d=null,transitionOffset:_0x58f786=null,interruptionSource:_0xcb25b2=zv}){this['_from']=_0x10f255,this['_to']=_0x404e29,this['_time']=_0x51b85d,this['_priority']=_0x48443b,this['_condition'+'s']=_0x1ea7f3,this['_exitTime']=_0x41349d,this['_transitio'+'nOffset']=_0x58f786,this['_interrupt'+'ionSource']=_0xcb25b2;}get['from'](){return this['_from'];}set['to'](_0x21320f){this['_to']=_0x21320f;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class NL{constructor(_0x270db8,_0x2cb010,_0x486c92,_0x28ac56,_0x44a67f,_0x4fb05a,_0x4c98f9){h(this,'_states',{}),h(this,'_stateName'+'s',[]),h(this,'_findTrans'+'itionsFrom'+'StateCache',{}),h(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),h(this,'_previousS'+'tateName',null),h(this,'_activeSta'+'teName',Co),h(this,'_activeSta'+'teDuration',0x1f1f+-0xd10+-0x120f),h(this,'_activeSta'+'teDuration'+'Dirty',!(-0x214d+-0x97*0x22+0x355b)),h(this,'_playing',!(0x1556*0x1+0x1ed6+-0x342b)),h(this,'_activate'),h(this,'_transitio'+'ns'),h(this,'_currTrans'+'itionTime',0x2273*0x1+-0x88f+-0x19e3),h(this,'_totalTran'+'sitionTime',0x9*0x3d1+0x1*0xf9b+0x2a1*-0x13),h(this,'_isTransit'+'ioning',!(0x1a06*-0x1+0x19df*-0x1+0x76a*0x7)),h(this,'_transitio'+'nInterrupt'+'ionSource',zv),h(this,'_transitio'+'nPreviousS'+'tates',[]),h(this,'_timeInSta'+'te',0x46*0x26+0x1afd+-0x2561),h(this,'_timeInSta'+'teBefore',0x217f+-0x1963+-0x2b4*0x3),h(this,'findParame'+'ter',_0x4cea69=>this['_findParam'+'eter'](_0x4cea69)),(this['_animEvalu'+'ator']=_0x270db8,this['_eventHand'+'ler']=_0x44a67f,this['_findParam'+'eter']=_0x4fb05a,this['_consumeTr'+'igger']=_0x4c98f9);for(let _0x13468c=0x2194+-0xb97+-0x15fd;_0x13468c<_0x2cb010['length'];_0x13468c++)this['_states'][_0x2cb010[_0x13468c]['name']]=new Fg(this,_0x2cb010[_0x13468c]['name'],_0x2cb010[_0x13468c]['speed'],_0x2cb010[_0x13468c]['loop'],_0x2cb010[_0x13468c]['blendTree']),this['_stateName'+'s']['push'](_0x2cb010[_0x13468c]['name']);this['_transitio'+'ns']=_0x486c92['map'](_0x2062cc=>new Lh({..._0x2062cc})),this['_activate']=_0x28ac56;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x25b751){this['_activeSta'+'teName']=_0x25b751;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x1f5bb0){this['_previousS'+'tateName']=_0x1f5bb0;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x980ef0=!(0x1336+0x337*-0x7+-0x3*-0x119);for(let _0x539ac2=0xf92*-0x1+0x269*0xd+-0x327*0x5;_0x539ac2<this['_stateName'+'s']['length'];_0x539ac2++)this['_states'][this['_stateName'+'s'][_0x539ac2]]['playable']||(_0x980ef0=!(-0x443*-0x1+0xaac+-0x27d*0x6));return _0x980ef0;}set['playing'](_0x47e6eb){this['_playing']=_0x47e6eb;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x21c556=-0x10*-0x259+-0xc4d+-0x1943;for(let _0x48c73b=-0x238d+-0x65b*-0x5+0x3c6*0x1;_0x48c73b<this['activeStat'+'eAnimation'+'s']['length'];_0x48c73b++){const _0x53c924=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x48c73b]['name']);_0x53c924&&(_0x21c556=Math['max'](_0x21c556,_0x53c924['track']['duration']));}this['_activeSta'+'teDuration']=_0x21c556,this['_activeSta'+'teDuration'+'Dirty']=!(0x4a7+-0x80c+0x366);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x58251d){this['_timeInSta'+'teBefore']=_0x58251d,this['_timeInSta'+'te']=_0x58251d;for(let _0x5a6cbd=-0x1a34+-0x209*0xb+-0x6f1*-0x7;_0x5a6cbd<this['activeStat'+'eAnimation'+'s']['length'];_0x5a6cbd++){const _0x39d050=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x5a6cbd]['name']);_0x39d050&&(_0x39d050['time']=_0x58251d);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x541d88){return this['_animEvalu'+'ator']['assignMask'](_0x541d88);}['_findState'](_0x242aa7){return this['_states'][_0x242aa7];}['_getActive'+'StateProgr'+'essForTime'](_0x390e10){if(this['activeStat'+'eName']===Co||this['activeStat'+'eName']===vu||this['activeStat'+'eName']===qr)return 0x551+-0xd*-0x193+-0x1*0x19c7;const _0x3133c6=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][0xd5d+0x2668+0x33c5*-0x1]['name']);return _0x3133c6?_0x3133c6['progressFo'+'rTime'](_0x390e10):null;}['_findTrans'+'itionsFrom'+'State'](_0x296352){let _0xa427ca=this['_findTrans'+'itionsFrom'+'StateCache'][_0x296352];return _0xa427ca||(_0xa427ca=this['_transitio'+'ns']['filter'](_0x17f12b=>_0x17f12b['from']===_0x296352),ul(_0xa427ca),this['_findTrans'+'itionsFrom'+'StateCache'][_0x296352]=_0xa427ca),_0xa427ca;}['_findTrans'+'itionsBetw'+'eenStates'](_0x1e3ee9,_0x4e135a){let _0xd89e2c=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x1e3ee9+'->'+_0x4e135a];return _0xd89e2c||(_0xd89e2c=this['_transitio'+'ns']['filter'](_0x2f58a2=>_0x2f58a2['from']===_0x1e3ee9&&_0x2f58a2['to']===_0x4e135a),ul(_0xd89e2c),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x1e3ee9+'->'+_0x4e135a]=_0xd89e2c),_0xd89e2c;}['_transitio'+'nHasCondit'+'ionsMet'](_0x5442a2){const _0x344920=_0x5442a2['conditions'];for(let _0xc853e6=0xd1e+0x2305+-0x1*0x3023;_0xc853e6<_0x344920['length'];_0xc853e6++){const _0x41058a=_0x344920[_0xc853e6],_0x14706d=this['_findParam'+'eter'](_0x41058a['parameterN'+'ame']);switch(_0x41058a['predicate']){case xL:if(!(_0x14706d['value']>_0x41058a['value']))return!(0xa6*-0xd+0xd3f+-0x16*0x38);break;case TL:if(!(_0x14706d['value']<_0x41058a['value']))return!(-0x143b+0x10bc+0x8*0x70);break;case wL:if(!(_0x14706d['value']>=_0x41058a['value']))return!(-0x105c+-0x1f40+0x2f9d);break;case EL:if(!(_0x14706d['value']<=_0x41058a['value']))return!(0xb8c+-0x1e67+0x22*0x8e);break;case bL:if(_0x14706d['value']!==_0x41058a['value'])return!(-0x543+-0x2397+0x28db);break;case AL:if(_0x14706d['value']===_0x41058a['value'])return!(0x642+0x1*-0x8c9+0x288);break;}}return!(0x66f*0x1+0xf7b+0xf*-0x176);}['_findTrans'+'ition'](_0x5f5ada,_0x13dc91){let _0x53f872=[];if(_0x5f5ada&&_0x13dc91)_0x53f872=_0x53f872['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x5f5ada,_0x13dc91));else{if(!this['_isTransit'+'ioning'])_0x53f872=_0x53f872['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x53f872=_0x53f872['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case gL:_0x53f872=_0x53f872['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x53f872=_0x53f872['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case SL:_0x53f872=_0x53f872['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x53f872=_0x53f872['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case yL:_0x53f872=_0x53f872['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x53f872=_0x53f872['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x53f872=_0x53f872['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case vL:_0x53f872=_0x53f872['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x53f872=_0x53f872['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x53f872=_0x53f872['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;}}if(_0x53f872=_0x53f872['filter'](_0xaaf8f5=>{if(_0xaaf8f5['to']===this['activeStat'+'eName'])return!(0x2564+-0x261b+0x2*0x5c);if(_0xaaf8f5['hasExitTim'+'e']){let _0x26fe0e=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x13c3c4=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0xaaf8f5['exitTime']<0x609+0xdfb+-0x1403&&this['activeStat'+'e']['loop']&&(_0x26fe0e-=Math['floor'](_0x26fe0e),_0x13c3c4-=Math['floor'](_0x13c3c4)),_0x13c3c4===_0x26fe0e){if(_0x13c3c4!==_0xaaf8f5['exitTime'])return null;}else{if(!(_0xaaf8f5['exitTime']>_0x26fe0e&&_0xaaf8f5['exitTime']<=_0x13c3c4))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0xaaf8f5);}),_0x53f872['length']>-0x7dd+0x1b83+0x1f7*-0xa){const _0x57f121=_0x53f872[0x15af*0x1+-0x255a+0xfab];if(_0x57f121['to']===vu){const _0x103501=this['_findTrans'+'itionsFrom'+'State'](Co)[-0x1f3b+0x200c+-0xd1];_0x57f121['to']=_0x103501['to'];}return _0x57f121;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x317d7f){let _0x28bad9,_0x248f0e,_0x47922c;this['previousSt'+'ate']=_0x317d7f['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x317d7f['to'],this['_activeSta'+'teDuration'+'Dirty']=!(0x4ac*0x1+0x1b4e+-0x2*0xffd);for(let _0x2fc553=0x122d*-0x1+0xe1+0x114c;_0x2fc553<_0x317d7f['conditions']['length'];_0x2fc553++){const _0x37190a=_0x317d7f['conditions'][_0x2fc553];this['_findParam'+'eter'](_0x37190a['parameterN'+'ame'])['type']===Qc&&this['_consumeTr'+'igger'](_0x37190a['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x4053be=Math['min'](this['_totalTran'+'sitionTime']!==-0x86*0xd+0xa1d*-0x1+0x10eb?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0xdd0+0x217e+-0x2f4d,-0x234e+-0x9bb*0x1+0x2*0x1685);for(let _0x53381d=-0x62*0x5+0x8b0+0x66*-0x11;_0x53381d<this['_transitio'+'nPreviousS'+'tates']['length'];_0x53381d++){this['_isTransit'+'ioning']?_0x53381d!==this['_transitio'+'nPreviousS'+'tates']['length']-(0xd2*-0x22+0xb23+0x10c2)?this['_transitio'+'nPreviousS'+'tates'][_0x53381d]['weight']*=-0xc1b+0x17d6+-0xbba-_0x4053be:this['_transitio'+'nPreviousS'+'tates'][_0x53381d]['weight']=_0x4053be:this['_transitio'+'nPreviousS'+'tates'][_0x53381d]['weight']=-0x4*-0x19+0x5e1+0x191*-0x4,_0x28bad9=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x53381d]['name']);for(let _0x45a015=0xb*0x123+-0x1ada+0xe59;_0x45a015<_0x28bad9['animations']['length'];_0x45a015++)_0x248f0e=_0x28bad9['animations'][_0x45a015],_0x47922c=this['_animEvalu'+'ator']['findClip'](_0x248f0e['name']+'.previous.'+_0x53381d),_0x47922c||(_0x47922c=this['_animEvalu'+'ator']['findClip'](_0x248f0e['name']),_0x47922c['name']=_0x248f0e['name']+'.previous.'+_0x53381d),_0x53381d!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x22b3+-0x1*0x1fa2+-0x1*0x310)&&_0x47922c['pause']();}}this['_isTransit'+'ioning']=!(0x89f*-0x4+0xb*0x362+-0x2ba),this['_totalTran'+'sitionTime']=_0x317d7f['time'],this['_currTrans'+'itionTime']=0x3b*-0x52+-0x1931+-0x1*-0x2c17,this['_transitio'+'nInterrupt'+'ionSource']=_0x317d7f['interrupti'+'onSource'];const _0x729be7=this['activeStat'+'e'],_0x832810=_0x317d7f['transition'+'Offset']&&_0x317d7f['transition'+'Offset']>0xbbf+-0x1*-0xd7b+-0x193a&&_0x317d7f['transition'+'Offset']<-0x151f+0x2*-0x12e3+-0x6*-0x9d1;let _0x50b1e3=0x117+-0x6d3*0x1+0x5bc,_0x311237=0x1434+0x907+-0x1d3b;if(_0x832810){const _0x242593=_0x729be7['timelineDu'+'ration']*_0x317d7f['transition'+'Offset'];_0x50b1e3=_0x242593,_0x311237=_0x242593;}this['_timeInSta'+'te']=_0x50b1e3,this['_timeInSta'+'teBefore']=_0x311237;for(let _0x30a763=-0x1f17+0x107*-0x3+0x222c;_0x30a763<_0x729be7['animations']['length'];_0x30a763++){if(_0x47922c=this['_animEvalu'+'ator']['findClip'](_0x729be7['animations'][_0x30a763]['name']),_0x47922c)_0x47922c['reset']();else{const _0x5f419e=Number['isFinite'](_0x729be7['animations'][_0x30a763]['speed'])?_0x729be7['animations'][_0x30a763]['speed']:_0x729be7['speed'];_0x47922c=new Dh(_0x729be7['animations'][_0x30a763]['animTrack'],this['_timeInSta'+'te'],_0x5f419e,!(0x3b*0x3e+-0x292+-0x28*0x4b),_0x729be7['loop'],this['_eventHand'+'ler']),_0x47922c['name']=_0x729be7['animations'][_0x30a763]['name'],this['_animEvalu'+'ator']['addClip'](_0x47922c);}if(_0x317d7f['time']>-0x8*-0x64+0x24de+-0x27fe?_0x47922c['blendWeigh'+'t']=-0x131d+-0x22b5*-0x1+-0xf98:_0x47922c['blendWeigh'+'t']=_0x729be7['animations'][_0x30a763]['normalized'+'Weight'],_0x47922c['play'](),_0x832810)_0x47922c['time']=_0x729be7['timelineDu'+'ration']*_0x317d7f['transition'+'Offset'];else{const _0x208c56=_0x729be7['speed']>=0x1*0x1d00+-0xb28+-0x11d8?-0xa72+0x5c*-0x22+-0x16aa*-0x1:this['activeStat'+'eDuration'];_0x47922c['time']=_0x208c56;}}}['_transitio'+'nToState'](_0x48bb48){if(!this['_findState'](_0x48bb48))return;let _0x277136=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x48bb48);_0x277136||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x277136=new Lh({'from':null,'to':_0x48bb48})),this['updateStat'+'eFromTrans'+'ition'](_0x277136);}['assignAnim'+'ation'](_0x3d9434,_0x17a7af,_0x343ffb,_0x5d31c4){const _0x43939e=_0x3d9434['split']('.');let _0x2f7b1d=this['_findState'](_0x43939e[-0x1fac+-0x10f0+0x2dc*0x11]);_0x2f7b1d||(_0x2f7b1d=new Fg(this,_0x43939e[0x2054+0x10*0x1e0+-0x3e54],_0x343ffb),this['_states'][_0x43939e[-0xabb+-0x69+0xb24]]=_0x2f7b1d,this['_stateName'+'s']['push'](_0x43939e[0x1ccd+0x692*0x4+0x1*-0x3715])),_0x2f7b1d['addAnimati'+'on'](_0x43939e,_0x17a7af),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x2f7b1d['name'],_0x17a7af),_0x343ffb!==void(0xb*-0x10f+-0x1*0x19ee+0x2593)&&(_0x2f7b1d['speed']=_0x343ffb),_0x5d31c4!==void(-0xbb*0x1b+0x16*0x51+0xcc3)&&(_0x2f7b1d['loop']=_0x5d31c4),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(-0xeb*-0x6+0x8*0x434+-0x2722);}['removeNode'+'Animations'](_0x31542d){if(Ih['indexOf'](_0x31542d)!==-(0x28f*-0x4+-0x10e3*0x1+0xe*0x1f0))return!(-0x22bb+0x2*0x1175+-0x1*0x2e);const _0x369976=this['_findState'](_0x31542d);return _0x369976?(_0x369976['animations']=[],!(-0x17*0xc1+-0xf77+0x20ce)):(w['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x31542d),!(-0x227b+-0x4*0x457+0x33d8));}['play'](_0x159d97){_0x159d97&&this['_transitio'+'nToState'](_0x159d97),this['_playing']=!(-0x1361+-0x23*0x4f+0x2*0xf17);}['pause'](){this['_playing']=!(0x10c2+0x1166+-0x2227);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=Co,this['_playing']=!(-0xbfe+0x1*-0x823+0x1422),this['_currTrans'+'itionTime']=0x1fb+0xafd*-0x1+0x903,this['_totalTran'+'sitionTime']=0x1*-0x1543+-0x5d*0x3a+-0x152b*-0x2,this['_isTransit'+'ioning']=!(-0x11f5+-0x1*-0xad9+-0x3*-0x25f),this['_timeInSta'+'te']=0x1*0x4a9+-0x20b8+-0xb*-0x28d,this['_timeInSta'+'teBefore']=-0x1a1c+-0x437*-0x1+-0x461*-0x5,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x519112){if(!this['_playing'])return;let _0x435c66,_0x1bc08b,_0x45465a;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x519112*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x519112=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x9d8a55=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x9d8a55&&this['updateStat'+'eFromTrans'+'ition'](_0x9d8a55),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x519112,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x54f805=this['_totalTran'+'sitionTime']!==-0xe5e+0x419+0xb*0xef?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x1*0x9b+-0x24c4+-0x12b*-0x20;for(let _0x409933=-0x9c+-0xce6+-0x1ee*-0x7;_0x409933<this['_transitio'+'nPreviousS'+'tates']['length'];_0x409933++){_0x435c66=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x409933]['name']);const _0x53a1b6=this['_transitio'+'nPreviousS'+'tates'][_0x409933]['weight'];for(let _0x2c37cb=0x13*-0x13a+-0x163*-0x5+0x105f;_0x2c37cb<_0x435c66['animations']['length'];_0x2c37cb++)_0x1bc08b=_0x435c66['animations'][_0x2c37cb],_0x45465a=this['_animEvalu'+'ator']['findClip'](_0x1bc08b['name']+'.previous.'+_0x409933),_0x45465a&&(_0x45465a['blendWeigh'+'t']=(0xf53+-0x19b6+-0x4c*-0x23-_0x54f805)*_0x1bc08b['normalized'+'Weight']*_0x53a1b6);}_0x435c66=this['activeStat'+'e'];for(let _0x5e69dd=0xc1*-0x2f+0x115+0x225a;_0x5e69dd<_0x435c66['animations']['length'];_0x5e69dd++)_0x1bc08b=_0x435c66['animations'][_0x5e69dd],this['_animEvalu'+'ator']['findClip'](_0x1bc08b['name'])['blendWeigh'+'t']=_0x54f805*_0x1bc08b['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(0x20ed+-0x1ea5+0x1*-0x247);const _0x34e929=this['activeStat'+'eAnimation'+'s']['length'],_0x1610e1=this['_animEvalu'+'ator']['clips']['length'];for(let _0x59e100=-0x3*-0x6d7+-0x17af+-0x3*-0x10e;_0x59e100<_0x1610e1-_0x34e929;_0x59e100++)this['_animEvalu'+'ator']['removeClip'](0x2a8+-0x6f6+0x44e);this['_transitio'+'nPreviousS'+'tates']=[],_0x435c66=this['activeStat'+'e'];for(let _0x19bdc4=0x1d*0x91+0xc16+0x9*-0x32b;_0x19bdc4<_0x435c66['animations']['length'];_0x19bdc4++)_0x1bc08b=_0x435c66['animations'][_0x19bdc4],_0x45465a=this['_animEvalu'+'ator']['findClip'](_0x1bc08b['name']),_0x45465a&&(_0x45465a['blendWeigh'+'t']=_0x1bc08b['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==ml){_0x435c66=this['activeStat'+'e'];for(let _0x3f99c6=0x1548+-0xc3+-0x1485;_0x3f99c6<_0x435c66['animations']['length'];_0x3f99c6++)_0x1bc08b=_0x435c66['animations'][_0x3f99c6],_0x45465a=this['_animEvalu'+'ator']['findClip'](_0x1bc08b['name']),_0x45465a&&(_0x45465a['blendWeigh'+'t']=_0x1bc08b['normalized'+'Weight'],_0x1bc08b['parent']['syncAnimat'+'ions']&&(_0x45465a['speed']=_0x1bc08b['speed']));}}this['_animEvalu'+'ator']['update'](_0x519112,this['activeStat'+'e']['hasAnimati'+'ons']);}}const wf=new J(),Tc=new D(),_o=new re(),go=new ie(),So=new le();class Fi extends Sr{constructor(_0x5a0346,_0x239a30,_0x254403,_0xb1ee42,_0x4a5fa5){super(_0x239a30),this['animCompon'+'ent']=_0x5a0346,this['_mask']=_0xb1ee42,this['layerName']=_0x254403,this['layerIndex']=_0x4a5fa5;}static['_packFloat'](_0x2b0364){return _0x2b0364[0x227b+-0x1ab6+-0x7c5];}static['_packBoole'+'an'](_0x26fa39){return!!_0x26fa39[-0x74b*-0x2+-0x21b6+-0x20*-0x99];}static['_packVec2'](_0x580c59){return wf['x']=_0x580c59[0x1369+-0x2049+0xce0],wf['y']=_0x580c59[0x1*0x6a3+0x8*-0x28b+0x2*0x6db],wf;}static['_packVec3'](_0x1b8e04){return Tc['x']=_0x1b8e04[-0x68a+0x60*-0x33+0x19aa],Tc['y']=_0x1b8e04[-0x481*-0x5+-0x511*-0x1+-0x1b95],Tc['z']=_0x1b8e04[0x1d3*-0x3+0x7*0xb6+0x3*0x2b],Tc;}static['_packVec4'](_0x593fcc){return _o['x']=_0x593fcc[0x1706+0x1e92+-0x3598],_o['y']=_0x593fcc[-0x1bdd*-0x1+0x1*0x26db+-0x42b7],_o['z']=_0x593fcc[0x7*0x4aa+0x766*-0x2+0x11d8*-0x1],_o['w']=_0x593fcc[0x152*-0x17+-0x1f79+0x3dda],_o;}static['_packColor'](_0xb63f58){return go['r']=_0xb63f58[0x2021+0x2122+0x3*-0x15c1],go['g']=_0xb63f58[-0xd*0x203+-0x1c91+-0x1*-0x36b9],go['b']=_0xb63f58[-0x1902+-0x14a1+0x2da5],go['a']=_0xb63f58[0x2a*-0xba+-0x204b+0x3ed2],go;}static['_packQuat'](_0x4d6a40){return So['x']=_0x4d6a40[-0x890+0x3*-0xc37+0x1*0x2d35],So['y']=_0x4d6a40[-0x1d78+0x2f*0xc1+-0x5f6],So['z']=_0x4d6a40[-0x1*-0x1085+-0x151*0x13+0x40*0x22],So['w']=_0x4d6a40[0x1b6+0x6e6+-0x899],So;}['resolve'](_0x5afb64){const _0x520563=ra['encode'](_0x5afb64['entityPath'],_0x5afb64['component'],_0x5afb64['propertyPa'+'th']);let _0x2d3958=this['targetCach'+'e'][_0x520563];if(_0x2d3958)return _0x2d3958;let _0x475ac4,_0x245b99,_0x81a55c;switch(_0x5afb64['component']){case'entity':_0x475ac4=this['_getEntity'+'FromHierar'+'chy'](_0x5afb64['entityPath']),_0x81a55c=ra['encode'](_0x475ac4['path'],'entity',_0x5afb64['propertyPa'+'th']),_0x245b99=_0x475ac4;break;case'graph':if(_0x245b99=this['findNode'](_0x5afb64),!_0x245b99)return null;_0x81a55c=ra['encode'](_0x245b99['path'],'graph',_0x5afb64['propertyPa'+'th']);break;default:if(_0x475ac4=this['_getEntity'+'FromHierar'+'chy'](_0x5afb64['entityPath']),_0x245b99=_0x475ac4['findCompon'+'ent'](_0x5afb64['component']),!_0x245b99)return null;_0x81a55c=ra['encode'](_0x475ac4['path'],_0x5afb64['component'],_0x5afb64['propertyPa'+'th']);break;}return _0x2d3958=this['_createAni'+'mTargetFor'+'Property'](_0x245b99,_0x5afb64['propertyPa'+'th'],_0x81a55c),this['targetCach'+'e'][_0x520563]=_0x2d3958,_0x2d3958;}['update'](_0x570dea){const _0x243a0e=this['activeNode'+'s'];if(_0x243a0e){for(let _0x218a75=0x2*0x10b2+-0x252a+-0x3c6*-0x1;_0x218a75<_0x243a0e['length'];_0x218a75++)_0x243a0e[_0x218a75]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x3d1872){if(!this['animCompon'+'ent']['entity']['name']===_0x3d1872[-0xc07*-0x2+0xab2+0x458*-0x8])return null;const _0x1ab408=this['animCompon'+'ent']['entity'];return _0x3d1872['length']===0x13*0x18d+-0x1*-0xf5b+-0x2cd1?_0x1ab408:_0x1ab408['_parent']['findByPath'](_0x3d1872);}['_resolvePa'+'th'](_0x40d27b,_0x2ef57d,_0x2f57a0){const _0x4f317c=_0x2ef57d['length']-(_0x2f57a0?-0x1da*-0x1+0xd26+-0xf00:0x751*-0x3+-0x8*0xa2+0x3dc*0x7);for(let _0xb5990b=-0x1c0a+-0x1022+0x2c2c;_0xb5990b<_0x4f317c;_0xb5990b++)_0x40d27b=_0x40d27b[_0x2ef57d[_0xb5990b]];return _0x40d27b;}['_setter'](_0x6bd257,_0x291e1b,_0x10df2b){const _0x3ada9f=this['_resolvePa'+'th'](_0x6bd257,_0x291e1b),_0x663072=_0x291e1b[_0x291e1b['length']-(-0x57e*-0x1+-0x1*-0x1237+-0x17b4)],_0xbf4eac='set'+_0x663072['substring'](0xc4a+-0x2218+0xae7*0x2,0x2b4+-0x1e91+0x1bde)['toUpperCas'+'e']()+_0x663072['substring'](0x26*-0x8a+0x35*0x54+0x319);if(_0x3ada9f[_0xbf4eac]){let _0x370986=_0x3ada9f['get'+_0x663072['substring'](0x1b18+0x117c+0x9*-0x4f4,0x1*-0xecd+-0x3*0xa15+0x2d0d)['toUpperCas'+'e']()+_0x663072['substring'](0x3e2+-0x1323+-0x7e*-0x1f)]['bind'](_0x3ada9f)();_0x370986=[_0x370986['x'],_0x370986['y'],_0x370986['z'],_0x370986['w']];const _0x143f89=_0x3ada9f[_0xbf4eac]['bind'](_0x3ada9f);return{'set':_0x31ef81=>{_0x143f89(_0x10df2b(_0x31ef81));},'get':()=>_0x370986};}const _0x3897a0=_0x3ada9f[_0x663072];if(typeof _0x3897a0=='object'&&_0x3897a0['hasOwnProp'+'erty']('copy'))return function(_0x31e146){_0x3897a0['copy'](_0x10df2b(_0x31e146));};if([J,D,re,ie,le]['indexOf'](_0x3ada9f['constructo'+'r'])!==-(-0x7b9*0x4+-0xe9b*-0x2+0x1*0x1af)&&_0x291e1b['length']>0xab5*-0x2+-0x2663+0x3bce){const _0x432962=_0x291e1b['length']>-0x1*-0x2441+-0xd*-0x2ed+-0x4a48?this['_resolvePa'+'th'](_0x6bd257,_0x291e1b['slice'](-0x1b01+-0x14b+0x4*0x713,-(-0x465+0x1*-0x355+0x7bb))):_0x6bd257,_0x5e8078=_0x291e1b[_0x291e1b['length']-(0x267f*-0x1+-0x344*-0x7+0xfa5)];return function(_0x66e3e8){_0x3ada9f[_0x663072]=_0x10df2b(_0x66e3e8),_0x432962[_0x5e8078]=_0x3ada9f;};}return function(_0x552014){_0x3ada9f[_0x663072]=_0x10df2b(_0x552014);};}['_createAni'+'mTargetFor'+'Property'](_0x42cd07,_0x18e525,_0x5015a8){if(this['handlers']&&_0x18e525[-0x1052+0xebf+0x193]['startsWith']('weight.'))return this['handlers']['weight'](_0x42cd07,_0x18e525[0x315+-0x986*0x2+0xff7]['replace']('weight.',''));if(this['handlers']&&_0x18e525[0x1893+-0xc1f+0xc74*-0x1]==='material'&&_0x18e525['length']===0x24ec+0x1dd2+-0x42bc){const _0x4e2db2=_0x18e525[-0x178a+0x3*0x92+0x15d5];if(_0x4e2db2['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x42cd07,_0x4e2db2);}const _0x2e9b65=this['_resolvePa'+'th'](_0x42cd07,_0x18e525,!(-0x1f*-0x73+0x1cb4+-0x2aa1*0x1));if(typeof _0x2e9b65>'u')return null;let _0x5b274b,_0x339f12,_0x100caa;if(typeof _0x2e9b65=='number')_0x5b274b=this['_setter'](_0x42cd07,_0x18e525,Fi['_packFloat']),_0x339f12='vector',_0x100caa=0x2a7*-0x4+-0x200a+0x2aa7;else{if(typeof _0x2e9b65=='boolean')_0x5b274b=this['_setter'](_0x42cd07,_0x18e525,Fi['_packBoole'+'an']),_0x339f12='vector',_0x100caa=-0x1bdd+0xf0*-0xd+0x280e;else{if(typeof _0x2e9b65=='object')switch(_0x2e9b65['constructo'+'r']){case J:_0x5b274b=this['_setter'](_0x42cd07,_0x18e525,Fi['_packVec2']),_0x339f12='vector',_0x100caa=0x1f0f+0x1a44+-0x3951;break;case D:_0x5b274b=this['_setter'](_0x42cd07,_0x18e525,Fi['_packVec3']),_0x339f12='vector',_0x100caa=-0x48e+-0x199f+0x1e30;break;case re:_0x5b274b=this['_setter'](_0x42cd07,_0x18e525,Fi['_packVec4']),_0x339f12='vector',_0x100caa=0x12df*0x1+-0x1844+0x569;break;case ie:_0x5b274b=this['_setter'](_0x42cd07,_0x18e525,Fi['_packColor']),_0x339f12='vector',_0x100caa=-0x10f1*-0x1+-0x251f+0xa*0x205;break;case le:_0x5b274b=this['_setter'](_0x42cd07,_0x18e525,Fi['_packQuat']),_0x339f12='quaternion',_0x100caa=0x20b0+0x1a2+-0x224e;break;default:return null;}}}return _0x18e525['indexOf']('material')!==-(-0x1*0x1bbb+0x231b+-0x75f)?new xu(_0x1e62ac=>{_0x5b274b(_0x1e62ac),_0x42cd07['material']['update']();},_0x339f12,_0x100caa,_0x5015a8):new xu(_0x5b274b,_0x339f12,_0x100caa,_0x5015a8);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0xf67d21={},_0x2c10a8=function(_0x5f0d28){_0xf67d21[_0x5f0d28['name']]=_0x5f0d28;for(let _0x38197c=0x7*-0x50f+-0x532*0x2+0x23*0x14f;_0x38197c<_0x5f0d28['children']['length'];++_0x38197c)_0x2c10a8(_0x5f0d28['children'][_0x38197c]);};_0x2c10a8(this['graph']),this['nodes']=_0xf67d21;}}class kL{constructor(_0x598f70,_0x2a81ab,_0x27b4b0,_0x4be465=-0x2*0x57+-0x6f2+0x7a1,_0x12980d=Vv){h(this,'_name'),h(this,'_controlle'+'r'),h(this,'_component'),h(this,'_weight'),h(this,'_blendType'),h(this,'_mask',null),h(this,'_blendTime',-0xa*0x268+-0x116f+0x297f),h(this,'_blendTime'+'Elapsed',0xef*-0x7+-0x1*-0x23+-0x5b*-0x12),h(this,'_startingW'+'eight',0x10ad+-0x14d7+0x42a),h(this,'_targetWei'+'ght',-0x2472+-0x5e7*0x1+0x2a59),(this['_name']=_0x598f70,this['_controlle'+'r']=_0x2a81ab,this['_component']=_0x27b4b0,this['_weight']=_0x4be465,this['_blendType']=_0x12980d);}get['name'](){return this['_name'];}set['playing'](_0x5c7af1){this['_controlle'+'r']['playing']=_0x5c7af1;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x163d6a){const _0xf3fdb5=this['_controlle'+'r'],_0x47161c=_0xf3fdb5['playing'];_0xf3fdb5['playing']=!(0xa9*-0xe+0x1*0x971+-0x11*0x3),_0xf3fdb5['activeStat'+'eCurrentTi'+'me']=_0x163d6a,_0x47161c||_0xf3fdb5['update'](0x2*-0x1ce+0xd9b+-0x9ff),_0xf3fdb5['playing']=_0x47161c;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x1d76bb){this['_weight']=_0x1d76bb,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x135386){_0x135386!==this['_blendType']&&(this['_blendType']=_0x135386,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x2a6d82){this['_controlle'+'r']['assignMask'](_0x2a6d82)&&this['_component']['rebind'](),this['_mask']=_0x2a6d82;}get['mask'](){return this['_mask'];}['play'](_0xec04ef){this['_controlle'+'r']['play'](_0xec04ef);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x13f938){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=Y['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x13f938):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=-0x23b7+-0xc8e+0x3045,this['_blendTime'+'Elapsed']=-0x8cb+-0xddf+0x16aa,this['_startingW'+'eight']=0xd*0xc7+-0x235b+-0x2*-0xca0,this['_targetWei'+'ght']=0x4ba*0x1+-0x6*0x502+0x1952)),this['_controlle'+'r']['update'](_0x13f938);}['blendToWei'+'ght'](_0x9ee2df,_0x3d2184){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x9ee2df,this['_blendTime']=Math['max'](-0xc*0x14c+-0x4c*0x47+0x24a4,_0x3d2184),this['_blendTime'+'Elapsed']=0x1*0x1b47+-0x36e+-0x17d9;}['assignAnim'+'ation'](_0x578007,_0x18a544,_0x1d3069,_0x24ea6a){if(!(_0x18a544 instanceof Qi)){w['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x578007,_0x18a544,_0x1d3069,_0x24ea6a),this['_controlle'+'r']['_transitio'+'ns']['length']===-0xaa4+0x45+-0x9*-0x127&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Lh({'from':'START','to':_0x578007})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(-0x300+0x26c3+-0x23c3));}['removeNode'+'Animations'](_0x4f5e92){this['_controlle'+'r']['removeNode'+'Animations'](_0x4f5e92)&&(this['_component']['playing']=!(-0x2621+-0x141*-0x2+0x1e0*0x13));}['getAnimati'+'onAsset'](_0x40d4c4){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x40d4c4];}['transition'](_0x14f043,_0x1a7267=0x3d*0x36+0x5f7+0x647*-0x3,_0x399366=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Lh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x14f043,'time':_0x1a7267,'transitionOffset':_0x399366}));}}class Jc{constructor(_0x520b27){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x520b27['layers']))this['_layers']=_0x520b27['layers'];else for(const _0x233651 in _0x520b27['layers']){const _0x2fb356=_0x520b27['layers'][_0x233651],_0x5b32b6={'name':_0x2fb356['name'],'blendType':_0x2fb356['blendType'],'weight':_0x2fb356['weight'],'states':[],'transitions':[]};for(let _0x8a3537=-0x4de*-0x2+0x1e0b+-0x27c7;_0x8a3537<_0x2fb356['states']['length'];_0x8a3537++)_0x5b32b6['states']['push'](_0x520b27['states'][_0x2fb356['states'][_0x8a3537]]);for(let _0x5b3c79=-0x705+-0x4b2*-0x5+0x17f*-0xb;_0x5b3c79<_0x2fb356['transition'+'s']['length'];_0x5b3c79++){const _0x664c74=_0x520b27['transition'+'s'][_0x2fb356['transition'+'s'][_0x5b3c79]];if(_0x664c74['conditions']&&!Array['isArray'](_0x664c74['conditions'])){const _0x443a62=Object['keys'](_0x664c74['conditions']),_0x43bcfb=[];for(let _0x436a4a=0x21e*0x9+0x1c83*-0x1+0x9*0x10d;_0x436a4a<_0x443a62['length'];_0x436a4a++){const _0x436015=_0x664c74['conditions'][_0x443a62[_0x436a4a]];_0x436015['parameterN'+'ame']&&_0x43bcfb['push'](_0x436015);}_0x664c74['conditions']=_0x43bcfb;}Number['isInteger'](_0x664c74['from'])&&(_0x664c74['from']=_0x520b27['states'][_0x664c74['from']]['name']),Number['isInteger'](_0x664c74['to'])&&(_0x664c74['to']=_0x520b27['states'][_0x664c74['to']]['name']),_0x5b32b6['transition'+'s']['push'](_0x664c74);}this['_layers']['push'](_0x5b32b6);}for(const _0x51db35 in _0x520b27['parameters']){const _0x4d9619=_0x520b27['parameters'][_0x51db35];this['_parameter'+'s'][_0x4d9619['name']]={'type':_0x4d9619['type'],'value':_0x4d9619['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class $v extends we{constructor(){super(...arguments),h(this,'_stateGrap'+'hAsset',null),h(this,'_animation'+'Assets',{}),h(this,'_speed',-0xbc4+-0xf1c+-0x7*-0x3d7),h(this,'_activate',!(0x2637+0xad*-0xd+0xeb7*-0x2)),h(this,'_playing',!(-0x2*-0x171+0x25*0x3b+-0x248*0x5)),h(this,'_rootBone',null),h(this,'_stateGrap'+'h',null),h(this,'_layers',[]),h(this,'_layerIndi'+'ces',{}),h(this,'_parameter'+'s',{}),h(this,'_targets',{}),h(this,'_consumedT'+'riggers',new Set()),h(this,'_normalize'+'Weights',!(-0x12fe+0x11d3+0x12c)),h(this,'findParame'+'ter',_0x5a4a4e=>this['_parameter'+'s'][_0x5a4a4e]),h(this,'consumeTri'+'gger',_0x2544ae=>{this['_consumedT'+'riggers']['add'](_0x2544ae);});}set['stateGraph'+'Asset'](_0x15a295){if(_0x15a295===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x215f23,_0x1437fd;_0x15a295 instanceof pe?(_0x215f23=_0x15a295['id'],_0x1437fd=this['system']['app']['assets']['get'](_0x215f23),_0x1437fd||(this['system']['app']['assets']['add'](_0x15a295),_0x1437fd=this['system']['app']['assets']['get'](_0x215f23))):(_0x215f23=_0x15a295,_0x1437fd=this['system']['app']['assets']['get'](_0x215f23)),!(!_0x1437fd||this['_stateGrap'+'hAsset']===_0x215f23)&&(_0x1437fd['resource']?(this['_stateGrap'+'h']=_0x1437fd['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x1437fd['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x1437fd['once']('load',_0x3789c3=>{this['_stateGrap'+'h']=_0x3789c3['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x1437fd['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x1437fd)),this['_stateGrap'+'hAsset']=_0x215f23);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x234512){this['_normalize'+'Weights']=_0x234512,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x2faaa5){this['_animation'+'Assets']=_0x2faaa5,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x4b7996){this['_speed']=_0x4b7996;}get['speed'](){return this['_speed'];}set['activate'](_0x114e1a){this['_activate']=_0x114e1a;}get['activate'](){return this['_activate'];}set['playing'](_0x433da0){this['_playing']=_0x433da0;}get['playing'](){return this['_playing'];}set['rootBone'](_0x33fc7d){if(typeof _0x33fc7d=='string'){const _0x591078=this['entity']['root']['findByGuid'](_0x33fc7d);w['assert'](_0x591078,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x33fc7d+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x591078;}else _0x33fc7d instanceof lt?this['_rootBone']=_0x33fc7d:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x201add){this['_stateGrap'+'h']=_0x201add;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x37e6af){this['_layerIndi'+'ces']=_0x37e6af;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x2b7fb9){this['_parameter'+'s']=_0x2b7fb9;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x31ad3a){this['_targets']=_0x31ad3a;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x4f1708=-0x5a6+-0x227b+0x2821;_0x4f1708<this['_layers']['length'];_0x4f1708++)if(!this['_layers'][_0x4f1708]['playable'])return!(0x1bf4+0xad9*-0x3+0x498);return!(0x2*-0xa49+0x836+0x2*0x62e);}get['baseLayer'](){return this['_layers']['length']>-0x1a7*0xd+0x1*0x1b38+-0x5bd?this['_layers'][0x20b*0x8+-0x17*0x10+0x3*-0x4f8]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x3df78f){const _0x3c94ce=this['animationA'+'ssets'],_0x29f36a=this['layers']['map'](_0x4809ae=>_0x4809ae['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new Jc(_0x3df78f['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x3c94ce,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x184318,_0x2323f6)=>{_0x184318['mask']=_0x29f36a[_0x2323f6];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x4225ab=Object['values'](this['_targets']);for(let _0x28d104=-0x2374+-0x1*0xe3e+-0x1*-0x31b2;_0x28d104<_0x4225ab['length'];_0x28d104++)_0x4225ab[_0x28d104]['dirty']=!(-0x151b+-0x3a1*-0xa+-0xf2f);}['_addLayer']({name:_0xea9460,states:_0x44d9e4,transitions:_0x11fa72,weight:_0x5b9c21,mask:_0x163418,blendType:_0x2b7b69}){let _0x5aa2c6;this['rootBone']?_0x5aa2c6=this['rootBone']:_0x5aa2c6=this['entity'];const _0x5c5874=this['_layers']['length'],_0x3419db=new Fi(this,_0x5aa2c6,_0xea9460,_0x163418,_0x5c5874),_0x3a94bb=new Gv(_0x3419db),_0x33762c=new NL(_0x3a94bb,_0x44d9e4,_0x11fa72,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new kL(_0xea9460,_0x33762c,this,_0x5b9c21,_0x2b7b69)),this['_layerIndi'+'ces'][_0xea9460]=_0x5c5874,this['_layers'][_0x5c5874];}['addLayer'](_0x1e1451,_0x171f7a,_0x22e69b,_0x5f0a01){const _0x5cc553=this['findAnimat'+'ionLayer'](_0x1e1451);if(_0x5cc553)return _0x5cc553;const _0x4223a5=[{'name':'START','speed':0x1}],_0x24dca2=[];return this['_addLayer']({'name':_0x1e1451,'states':_0x4223a5,'transitions':_0x24dca2,'weight':_0x171f7a,'mask':_0x22e69b,'blendType':_0x5f0a01});}['_assignPar'+'ameters'](_0x17e71e){this['_parameter'+'s']={};const _0x27f6d3=Object['keys'](_0x17e71e['parameters']);for(let _0x9b65ab=0x1*0xc67+-0x20cd+0x1466;_0x9b65ab<_0x27f6d3['length'];_0x9b65ab++){const _0x506915=_0x27f6d3[_0x9b65ab];this['_parameter'+'s'][_0x506915]={'type':_0x17e71e['parameters'][_0x506915]['type'],'value':_0x17e71e['parameters'][_0x506915]['value']};}}['loadStateG'+'raph'](_0x55ab39){this['_stateGrap'+'h']=_0x55ab39,this['_assignPar'+'ameters'](_0x55ab39),this['_layers']=[];let _0x1a9928=!(-0xef*0x8+0x2543+-0xba*0x29);for(let _0x4ddc7e=0x1033+-0x722+-0x911*0x1;_0x4ddc7e<_0x55ab39['layers']['length'];_0x4ddc7e++){const _0x5401aa=_0x55ab39['layers'][_0x4ddc7e];this['_addLayer']({..._0x5401aa}),_0x5401aa['states']['some'](_0x4518b8=>_0x4518b8['blendTree'])&&(_0x1a9928=!(-0x33d*-0x5+0x7e1+-0x1812));}_0x1a9928||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x1a71b3=0x21f8+-0x20c7+-0x131;_0x1a71b3<this['_layers']['length'];_0x1a71b3++){const _0x31ce54=this['_layers'][_0x1a71b3],_0x8958b9=_0x31ce54['name'];for(let _0x497314=0x11*-0x85+0x1*0x10a9+-0x7d4;_0x497314<_0x31ce54['states']['length'];_0x497314++){const _0x2226a6=_0x31ce54['states'][_0x497314];if(Ih['indexOf'](_0x2226a6)===-(0x1*0x15cd+-0x6e5+0x23*-0x6d)){const _0x1cb5b1=_0x8958b9+':'+_0x2226a6;this['_animation'+'Assets'][_0x1cb5b1]||(this['_animation'+'Assets'][_0x1cb5b1]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x48176c=-0x8*-0x1e+-0x16db+0x15eb;_0x48176c<this['_layers']['length'];_0x48176c++){const _0x53073b=this['_layers'][_0x48176c];for(let _0x37d868=-0x82b*0x2+-0x1a4e+0x2aa4;_0x37d868<_0x53073b['states']['length'];_0x37d868++){const _0x29d90e=_0x53073b['states'][_0x37d868];if(Ih['indexOf'](_0x29d90e)!==-(0x1*-0x26cb+-0xd6d+0x3439))continue;const _0xc531f0=this['_animation'+'Assets'][_0x53073b['name']+':'+_0x29d90e];if(!_0xc531f0||!_0xc531f0['asset']){this['findAnimat'+'ionLayer'](_0x53073b['name'])['assignAnim'+'ation'](_0x29d90e,Qi['EMPTY']);continue;}const _0x16e933=_0xc531f0['asset'],_0x3635d3=this['system']['app']['assets']['get'](_0x16e933);_0x3635d3&&(_0x3635d3['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x53073b['name'],_0x29d90e,_0x3635d3):(_0x3635d3['once']('load',function(_0xf2ba78,_0x4275fd){return function(_0x5d751c){this['onAnimatio'+'nAssetLoad'+'ed'](_0xf2ba78,_0x4275fd,_0x5d751c);}['bind'](this);}['bind'](this)(_0x53073b['name'],_0x29d90e)),this['system']['app']['assets']['load'](_0x3635d3)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x2bc7fb,_0x421489,_0x4d3db6){this['findAnimat'+'ionLayer'](_0x2bc7fb)['assignAnim'+'ation'](_0x421489,_0x4d3db6['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(-0x1139+-0x13a6+0x24e0),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x522298=-0xfc5+0xce7+0x2de;_0x522298<this['_layers']['length'];_0x522298++){const _0xbfcace=this['_layers'][_0x522298]['playing'];this['_layers'][_0x522298]['reset'](),this['_layers'][_0x522298]['playing']=_0xbfcace;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x1a8ed5=>{this['_targets'][_0x1a8ed5]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x5866e0=-0x1c85+-0x2492+0x36d*0x13;_0x5866e0<this['_layers']['length'];_0x5866e0++)this['_layers'][_0x5866e0]['rebind']();}['findAnimat'+'ionLayer'](_0x1036da){const _0x23c283=this['_layerIndi'+'ces'][_0x1036da];return this['_layers'][_0x23c283]||null;}['addAnimati'+'onState'](_0x496e21,_0x10bd27,_0x1cc1a5=0x1*0x19a2+-0x4b8+-0x14e9,_0x4c48f0=!(0x7d*-0xf+-0x26a8+0x95*0x4f),_0x1ff73a='Base'){var _0x1148c4;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new Jc({'layers':[{'name':_0x1ff73a,'states':[{'name':'START','speed':0x1},{'name':_0x496e21,'speed':_0x1cc1a5,'loop':_0x4c48f0,'defaultState':!(-0xd52+-0x7fa+-0x5e*-0x3a)}],'transitions':[{'from':'START','to':_0x496e21}]}],'parameters':{}}));const _0x116dde=this['findAnimat'+'ionLayer'](_0x1ff73a);_0x116dde?_0x116dde['assignAnim'+'ation'](_0x496e21,_0x10bd27,_0x1cc1a5,_0x4c48f0):(_0x1148c4=this['addLayer'](_0x1ff73a))==null||_0x1148c4['assignAnim'+'ation'](_0x496e21,_0x10bd27,_0x1cc1a5,_0x4c48f0);}['assignAnim'+'ation'](_0x505536,_0x13a087,_0x31c49d,_0x2fc9c2=0x1*-0x1e0b+0xed4+0x2*0x79c,_0x4293ff=!(0x1f6*-0x1+0x242d+0x13*-0x1cd)){if(!this['_stateGrap'+'h']&&_0x505536['indexOf']('.')===-(0xde9+0x2542+-0x332a)){this['loadStateG'+'raph'](new Jc({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x505536,'speed':_0x2fc9c2,'loop':_0x4293ff,'defaultState':!(0x408+0x59*-0x8+-0x140)}],'transitions':[{'from':'START','to':_0x505536}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x505536,_0x13a087);return;}const _0x34d71d=_0x31c49d?this['findAnimat'+'ionLayer'](_0x31c49d):this['baseLayer'];if(!_0x34d71d){w['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x34d71d['assignAnim'+'ation'](_0x505536,_0x13a087,_0x2fc9c2,_0x4293ff);}['removeNode'+'Animations'](_0xc5bd8a,_0x1e728b){const _0x2667dc=_0x1e728b?this['findAnimat'+'ionLayer'](_0x1e728b):this['baseLayer'];if(!_0x2667dc){w['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x2667dc['removeNode'+'Animations'](_0xc5bd8a);}['getParamet'+'erValue'](_0x748a5f,_0x3932d1){const _0x3afecf=this['_parameter'+'s'][_0x748a5f];if(_0x3afecf&&_0x3afecf['type']===_0x3932d1)return _0x3afecf['value'];w['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x748a5f+('\x22\x20of\x20type\x20'+'\x22')+_0x3932d1+'\x22');}['setParamet'+'erValue'](_0x400708,_0x594f7d,_0x2ab54d){const _0x8fb8ca=this['_parameter'+'s'][_0x400708];if(_0x8fb8ca&&_0x8fb8ca['type']===_0x594f7d){_0x8fb8ca['value']=_0x2ab54d;return;}w['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x400708+('\x22\x20of\x20type\x20'+'\x22')+_0x594f7d+'\x22');}['getFloat'](_0x4f0319){return this['getParamet'+'erValue'](_0x4f0319,Rg);}['setFloat'](_0x446c1a,_0x21d601){this['setParamet'+'erValue'](_0x446c1a,Rg,_0x21d601);}['getInteger'](_0x4fb45c){return this['getParamet'+'erValue'](_0x4fb45c,Lg);}['setInteger'](_0x3e7f0e,_0x233670){typeof _0x233670=='number'&&_0x233670%(-0x1*0x2a1+0xf5d+0xcbb*-0x1)===0x2303+0x1*0x23ae+-0x1*0x46b1?this['setParamet'+'erValue'](_0x3e7f0e,Lg,_0x233670):w['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x3e7f0e,_0x233670);}['getBoolean'](_0x5bff6c){return this['getParamet'+'erValue'](_0x5bff6c,Og);}['setBoolean'](_0x2b754f,_0x428841){this['setParamet'+'erValue'](_0x2b754f,Og,!!_0x428841);}['getTrigger'](_0x32fed3){return this['getParamet'+'erValue'](_0x32fed3,Qc);}['setTrigger'](_0x34ce77,_0x52a2e6=!(-0x1b*-0x35+0x3*0x141+0x1*-0x959)){this['setParamet'+'erValue'](_0x34ce77,Qc,!(0x1*0x3a+0x46c+-0x4a6)),_0x52a2e6&&this['_consumedT'+'riggers']['add'](_0x34ce77);}['resetTrigg'+'er'](_0x23b273){this['setParamet'+'erValue'](_0x23b273,Qc,!(0x2452+0xf19+-0x336a));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x4e2d86){for(let _0x27cee5=0x19ad+0x11bb*0x1+-0x8*0x56d;_0x27cee5<this['layers']['length'];_0x27cee5++)this['layers'][_0x27cee5]['update'](_0x4e2d86*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x4acc3f=>{this['parameters'][_0x4acc3f]['value']=!(0x1*0x2684+-0x486+-0x21fd);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x460abc,_0x12eb19){_0x460abc['rootBone']&&_0x12eb19[_0x460abc['rootBone']['getGuid']()]?this['rootBone']=_0x12eb19[_0x460abc['rootBone']['getGuid']()]:this['rebind']();}}class UL{constructor(){this['enabled']=!(-0x6be+0x6*-0x10e+0xd12);}}const bu=['enabled'];class BL extends ct{constructor(_0x31a426){super(_0x31a426),this['id']='anim',this['ComponentT'+'ype']=$v,this['DataType']=UL,this['schema']=bu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x596bac,_0x253b37,_0x5e77f){super['initialize'+'ComponentD'+'ata'](_0x596bac,_0x253b37,bu);const _0xce8210=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x253b37)['forEach'](_0x139ec8=>{_0xce8210['includes'](_0x139ec8)||(_0x596bac[_0x139ec8]=_0x253b37[_0x139ec8]);}),_0x253b37['stateGraph']&&(_0x596bac['stateGraph']=_0x253b37['stateGraph'],_0x596bac['loadStateG'+'raph'](_0x596bac['stateGraph'])),_0x253b37['layers']&&_0x253b37['layers']['forEach']((_0x35c709,_0x23ae47)=>{_0x35c709['_controlle'+'r']['states']['forEach'](_0x324948=>{_0x35c709['_controlle'+'r']['_states'][_0x324948]['_animation'+'List']['forEach'](_0x12bde4=>{if(!_0x12bde4['animTrack']||_0x12bde4['animTrack']===Qi['EMPTY']){const _0x20e769=this['app']['assets']['get'](_0x35c709['_component']['_animation'+'Assets'][_0x35c709['name']+':'+_0x12bde4['name']]['asset']);_0x20e769&&!_0x20e769['loaded']&&_0x20e769['once']('load',()=>{_0x596bac['layers'][_0x23ae47]['assignAnim'+'ation'](_0x12bde4['name'],_0x20e769['resource']);});}else _0x596bac['layers'][_0x23ae47]['assignAnim'+'ation'](_0x12bde4['name'],_0x12bde4['animTrack']);});});}),_0x253b37['animationA'+'ssets']&&(_0x596bac['animationA'+'ssets']=Object['assign'](_0x596bac['animationA'+'ssets'],_0x253b37['animationA'+'ssets'])),_0x253b37['masks']&&Object['keys'](_0x253b37['masks'])['forEach'](_0x4bf1df=>{if(_0x596bac['layers'][_0x4bf1df]){const _0xbdc8b0=_0x253b37['masks'][_0x4bf1df]['mask'],_0x566877={};Object['keys'](_0xbdc8b0)['forEach'](_0x3bee64=>{_0x566877[decodeURI(_0x3bee64)]=_0xbdc8b0[_0x3bee64];}),_0x596bac['layers'][_0x4bf1df]['mask']=_0x566877;}});}['onAnimatio'+'nUpdate'](_0x583e53){const _0x1ac352=this['store'];for(const _0x16dabf in _0x1ac352)if(_0x1ac352['hasOwnProp'+'erty'](_0x16dabf)){const _0x87c518=_0x1ac352[_0x16dabf]['entity']['anim'];_0x87c518['data']['enabled']&&_0x87c518['entity']['enabled']&&_0x87c518['playing']&&_0x87c518['update'](_0x583e53);}}['cloneCompo'+'nent'](_0x97ffff,_0x238052){let _0x46f34a;(!_0x97ffff['anim']['rootBone']||_0x97ffff['anim']['rootBone']===_0x97ffff)&&(_0x46f34a={},_0x97ffff['anim']['layers']['forEach']((_0x1b89da,_0x24ccdb)=>{if(_0x1b89da['mask']){const _0x4dc023={};Object['keys'](_0x1b89da['mask'])['forEach'](_0x4a5962=>{const _0x220754=_0x4a5962['split']('/');_0x220754['shift']();const _0x13a605=[_0x238052['name'],..._0x220754]['join']('/');_0x4dc023[_0x13a605]=_0x1b89da['mask'][_0x4a5962];}),_0x46f34a[_0x24ccdb]={'mask':_0x4dc023};}}));const _0x558872={'enabled':_0x97ffff['anim']['enabled'],'stateGraphAsset':_0x97ffff['anim']['stateGraph'+'Asset'],'animationAssets':_0x97ffff['anim']['animationA'+'ssets'],'speed':_0x97ffff['anim']['speed'],'activate':_0x97ffff['anim']['activate'],'playing':_0x97ffff['anim']['playing'],'rootBone':_0x97ffff['anim']['rootBone'],'stateGraph':_0x97ffff['anim']['stateGraph'],'layers':_0x97ffff['anim']['layers'],'layerIndices':_0x97ffff['anim']['layerIndic'+'es'],'parameters':_0x97ffff['anim']['parameters'],'normalizeWeights':_0x97ffff['anim']['normalizeW'+'eights'],'masks':_0x46f34a};return this['addCompone'+'nt'](_0x238052,_0x558872);}['onBeforeRe'+'move'](_0x178274,_0x33a658){_0x33a658['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}we['_buildAcce'+'ssors']($v['prototype'],bu);class Xv extends we{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x46c815=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x46c815);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class zL{constructor(){this['enabled']=!(-0x4*0x20e+-0x24cb+0x2d03);}}const qv=['enabled'];class VL extends ct{constructor(_0x1c2e67){super(_0x1c2e67),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Xv,this['DataType']=zL,this['schema']=qv,this['manager']=_0x1c2e67['soundManag'+'er'],w['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x189364,_0x133f76,_0x5f3ad7){_0x5f3ad7=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x189364,_0x133f76,_0x5f3ad7);}['onUpdate'](_0x1536a5){if(this['current']){const _0x318555=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x318555);const _0x278bd3=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x278bd3);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Xv['prototype'],qv);const Au=-0x1f6*0x11+0x24ee+-0x28*0x17,Ng=-0x1fd3+0x1b4*-0x11+0xf32*0x4,eh='group',Cu='image',jv='text',th='stretch',GL='contain',HL='cover',ft={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},kl={};kl[ft['DEFAULT']]='_defaultTi'+'nt',kl[ft['HOVER']]='hoverTint',kl[ft['PRESSED']]='pressedTin'+'t',kl[ft['INACTIVE']]='inactiveTi'+'nt';const Ul={};Ul[ft['DEFAULT']]='_defaultSp'+'riteAsset',Ul[ft['HOVER']]='hoverSprit'+'eAsset',Ul[ft['PRESSED']]='pressedSpr'+'iteAsset',Ul[ft['INACTIVE']]='inactiveSp'+'riteAsset';const Bl={};Bl[ft['DEFAULT']]='_defaultSp'+'riteFrame',Bl[ft['HOVER']]='hoverSprit'+'eFrame',Bl[ft['PRESSED']]='pressedSpr'+'iteFrame',Bl[ft['INACTIVE']]='inactiveSp'+'riteFrame';class It extends we{constructor(_0x1c2eaf,_0x80b6b9){super(_0x1c2eaf,_0x80b6b9),h(this,'_visualSta'+'te',ft['DEFAULT']),h(this,'_isHoverin'+'g',!(0x118b*0x1+0xd53+0x1*-0x1edd)),h(this,'_hoveringC'+'ounter',0x14b2+0x3d*-0x1+-0x1475),h(this,'_isPressed',!(-0x1ae6+-0x12d0+0x2db7)),h(this,'_defaultTi'+'nt',new ie(0x1721*0x1+-0x1*0xf3b+-0x2f*0x2b,0x1036+0x77e+0x17b3*-0x1,0x1*-0x1d23+0x1276+0xaae,-0x1e4f+0xb*-0x18b+-0x2f49*-0x1)),h(this,'_defaultSp'+'riteAsset',null),h(this,'_defaultSp'+'riteFrame',-0x4*-0x8ce+-0x24c+0x12d*-0x1c),h(this,'_imageEnti'+'ty',null),h(this,'_evtElemen'+'tAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),h(this,'_evtImageE'+'ntityEleme'+'ntColor',null),h(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=ft['DEFAULT'],this['_isHoverin'+'g']=!(0x2af*-0x2+-0x1548+0x1aa7),this['_hoveringC'+'ounter']=-0x1ae0+-0x1*-0x156b+0x575,this['_isPressed']=!(-0xd54+0xd6f+-0x2*0xd),this['_defaultTi'+'nt']=new ie(0x1e30+-0x18d9+-0x1*0x556,0x20a1+0xeb9*-0x1+-0x11e7,-0xd12+-0x8f*0x23+0x20a0,-0x251b+-0x21b7+0x46d3),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=-0x43*-0x5+0x829*-0x1+0x6da,this['_toggleLif'+'ecycleList'+'eners']('on',_0x1c2eaf));}get['data'](){const _0x3d453e=this['system']['store'][this['entity']['getGuid']()];return _0x3d453e?_0x3d453e['data']:null;}set['enabled'](_0x2253b8){this['_setValue']('enabled',_0x2253b8);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x4dec6b){this['_setValue']('active',_0x4dec6b);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0xa59a24){if(this['_imageEnti'+'ty']!==_0xa59a24){const _0x123318=typeof _0xa59a24=='string';if(this['_imageEnti'+'ty']&&_0x123318&&this['_imageEnti'+'ty']['getGuid']()===_0xa59a24)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0xa59a24 instanceof Ie?this['_imageEnti'+'ty']=_0xa59a24:_0x123318?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0xa59a24)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x123318&&_0xa59a24&&(this['data']['imageEntit'+'y']=_0xa59a24);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x55b211){this['_setValue']('hitPadding',_0x55b211);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x5bd38f){this['_setValue']('transition'+'Mode',_0x5bd38f);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x444c07){this['_setValue']('hoverTint',_0x444c07);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x4fbaa8){this['_setValue']('pressedTin'+'t',_0x4fbaa8);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x2f98b7){this['_setValue']('inactiveTi'+'nt',_0x2f98b7);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x90b35c){this['_setValue']('fadeDurati'+'on',_0x90b35c);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x25a25d){this['_setValue']('hoverSprit'+'eAsset',_0x25a25d);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x255224){this['_setValue']('hoverSprit'+'eFrame',_0x255224);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x456cdf){this['_setValue']('pressedSpr'+'iteAsset',_0x456cdf);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x35f753){this['_setValue']('pressedSpr'+'iteFrame',_0x35f753);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x4dc0f7){this['_setValue']('inactiveSp'+'riteAsset',_0x4dc0f7);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x1ce0bc){this['_setValue']('inactiveSp'+'riteFrame',_0x1ce0bc);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0xd2f91d,_0xbc02d7){const _0x13939b=this['data'],_0x415310=_0x13939b[_0xd2f91d];_0x13939b[_0xd2f91d]=_0xbc02d7,this['fire']('set',_0xd2f91d,_0x415310,_0xbc02d7);}['_toggleLif'+'ecycleList'+'eners'](_0x185df3,_0x10796c){var _0x19d8f9;this[_0x185df3]('set_active',this['_onSetActi'+'ve'],this),this[_0x185df3]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x185df3]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x185df3]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x185df3]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x185df3]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x185df3]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x185df3]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x185df3]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x185df3]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x185df3]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x185df3==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x19d8f9=this['_evtElemen'+'tAdd'])==null||_0x19d8f9['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x11e729,_0xc271b4,_0x8c2926){_0xc271b4!==_0x8c2926&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x224f8d,_0x7501d1,_0x948a7a){_0x7501d1!==_0x948a7a&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x7501d1),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x2eb37d,_0x5d5582,_0x1bc058){_0x5d5582!==_0x1bc058&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x19944b,_0x1deaa0;(_0x19944b=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x19944b['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x1deaa0=this['_imageEnti'+'ty'])!=null&&_0x1deaa0['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x4c5d63=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x4c5d63['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x4c5d63['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x4c5d63['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x4c5d63['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x4c5d63['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x552064,_0x1d58bc,_0x13f7ca,_0x213917,_0x57459f;(_0x552064=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x552064['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x1d58bc=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x1d58bc['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x13f7ca=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x13f7ca['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x213917=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x213917['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x57459f=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x57459f['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x4fdaf3){if(this['entity']['element']){const _0x37517c=_0x4fdaf3==='on';if(_0x37517c&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x4fdaf3]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x4fdaf3]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x4fdaf3]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x4fdaf3]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x4fdaf3]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x4fdaf3]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x4fdaf3]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x4fdaf3]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x4fdaf3]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x4fdaf3]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x4fdaf3]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x4fdaf3]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x4fdaf3]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x4fdaf3]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x37517c;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x207722;const _0x2df546=(_0x207722=this['_imageEnti'+'ty'])==null?void(-0x1b77*0x1+0xce3+0xe94):_0x207722['element'];!_0x2df546||_0x2df546['type']===eh||(this['_storeDefa'+'ultColor'](_0x2df546['color']),this['_storeDefa'+'ultOpacity'](_0x2df546['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x2df546['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x2df546['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x582a4d){this['_defaultTi'+'nt']['r']=_0x582a4d['r'],this['_defaultTi'+'nt']['g']=_0x582a4d['g'],this['_defaultTi'+'nt']['b']=_0x582a4d['b'];}['_storeDefa'+'ultOpacity'](_0x344539){this['_defaultTi'+'nt']['a']=_0x344539;}['_storeDefa'+'ultSpriteA'+'sset'](_0x5216ab){this['_defaultSp'+'riteAsset']=_0x5216ab;}['_storeDefa'+'ultSpriteF'+'rame'](_0x1e09cb){this['_defaultSp'+'riteFrame']=_0x1e09cb;}['_onSetColo'+'r'](_0x35111f){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x35111f),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x2aa002){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x2aa002),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x4abd28){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x4abd28),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x57db38){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x57db38),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0xf885b5){this['_isHoverin'+'g']=!(0x11ce+-0x11*0xd7+-0x387*0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0xf885b5);}['_onMouseLe'+'ave'](_0x31b3e8){this['_isHoverin'+'g']=!(-0x7d*0x1c+0x268d*0x1+-0x18e0),this['_isPressed']=!(-0xc7f+-0x10e+0x6c7*0x2),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x31b3e8);}['_onMouseDo'+'wn'](_0x128d85){this['_isPressed']=!(-0x61a+0x149*-0xf+0x1961),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x128d85);}['_onMouseUp'](_0x59e127){this['_isPressed']=!(-0x2377+0x1*0x375+0x2003),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x59e127);}['_onTouchSt'+'art'](_0x17347e){this['_isPressed']=!(0x11*-0x1c7+0x227e+0x1*-0x447),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x17347e);}['_onTouchEn'+'d'](_0x30bf93){_0x30bf93['event']['preventDef'+'ault'](),this['_isPressed']=!(0xc53+-0x24e9*-0x1+-0x1069*0x3),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x30bf93);}['_onTouchLe'+'ave'](_0x383667){this['_isPressed']=!(0x451+-0x1*-0x11be+0x160e*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x383667);}['_onTouchCa'+'ncel'](_0xde80c9){this['_isPressed']=!(-0x8f+0x1*-0x9eb+0xa7b),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0xde80c9);}['_onSelectS'+'tart'](_0x42ddf0){this['_isPressed']=!(0xea4+-0x220*-0x1+-0x1d*0x94),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x42ddf0);}['_onSelectE'+'nd'](_0x51c9f9){this['_isPressed']=!(-0x1ec2+0x990+0x1533),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x51c9f9);}['_onSelectE'+'nter'](_0x18023b){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===-0xaa7+0x1f97+0xe9*-0x17&&(this['_isHoverin'+'g']=!(-0x4a*-0x4c+-0x26a4+0x1*0x10ac),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x18023b);}['_onSelectL'+'eave'](_0x25d2b3){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===-0x289+-0x11d9+-0x1462*-0x1&&(this['_isHoverin'+'g']=!(-0x76*0x38+0x1d55*0x1+-0x384),this['_isPressed']=!(0xfec+0xb*-0x10+-0x1*0xf3b),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x25d2b3);}['_onClick'](_0x315887){this['_fireIfAct'+'ive']('click',_0x315887);}['_fireIfAct'+'ive'](_0x53f8e8,_0x385103){this['data']['active']&&this['fire'](_0x53f8e8,_0x385103);}['_updateVis'+'ualState'](_0x1177ac){const _0x438df5=this['_visualSta'+'te'],_0x44b898=this['_determine'+'VisualStat'+'e']();if((_0x438df5!==_0x44b898||_0x1177ac)&&this['enabled'])switch(this['_visualSta'+'te']=_0x44b898,_0x438df5===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x438df5===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x44b898===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x44b898===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case Au:{const _0x4d72d1=kl[this['_visualSta'+'te']],_0x1a0d3d=this[_0x4d72d1];this['_applyTint'](_0x1a0d3d);break;}case Ng:{const _0x1c5b5a=Ul[this['_visualSta'+'te']],_0x22c9ba=Bl[this['_visualSta'+'te']],_0x11805f=this[_0x1c5b5a],_0x52ba62=this[_0x22c9ba];this['_applySpri'+'te'](_0x11805f,_0x52ba62);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(0x1006+-0x877+-0x78f));}['_resetToDe'+'faultVisua'+'lState'](_0x550eba){var _0x5b33a4;if((_0x5b33a4=this['_imageEnti'+'ty'])!=null&&_0x5b33a4['element'])switch(_0x550eba){case Au:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case Ng:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return ft['PRESSED'];if(this['_isHoverin'+'g'])return ft['HOVER'];}else return ft['INACTIVE'];return ft['DEFAULT'];}['_applySpri'+'te'](_0x283489,_0x431b99){var _0x4e26bd;const _0x18c0bb=(_0x4e26bd=this['_imageEnti'+'ty'])==null?void(0x21e*-0x1+-0x1d29+0x33*0x9d):_0x4e26bd['element'];_0x18c0bb&&(_0x431b99=_0x431b99||-0x30e+-0x1bb6+0x1*0x1ec4,this['_isApplyin'+'gSprite']=!(0x1b3b*-0x1+0x1a73+0xa*0x14),_0x18c0bb['spriteAsse'+'t']!==_0x283489&&(_0x18c0bb['spriteAsse'+'t']=_0x283489),_0x18c0bb['spriteFram'+'e']!==_0x431b99&&(_0x18c0bb['spriteFram'+'e']=_0x431b99),this['_isApplyin'+'gSprite']=!(-0x9e*0x31+0x23a0+-0x1*0x561));}['_applyTint'](_0x585bed){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===0x1bed*-0x1+0xb+-0x2b*-0xa6?this['_applyTint'+'Immediatel'+'y'](_0x585bed):this['_applyTint'+'WithTween'](_0x585bed);}['_applyTint'+'Immediatel'+'y'](_0x464251){var _0x2cd769;const _0x76f3e8=(_0x2cd769=this['_imageEnti'+'ty'])==null?void(-0x24b*-0xa+-0x1*-0x1a6f+0x1*-0x315d):_0x2cd769['element'];if(!_0x464251||!_0x76f3e8||_0x76f3e8['type']===eh)return;const _0x215c9b=kg(_0x464251);this['_isApplyin'+'gTint']=!(0x1800+-0x971+-0xe8f),_0x215c9b['equals'](_0x76f3e8['color'])||(_0x76f3e8['color']=_0x215c9b),_0x76f3e8['opacity']!==_0x464251['a']&&(_0x76f3e8['opacity']=_0x464251['a']),this['_isApplyin'+'gTint']=!(0x89*0xe+0x4*0x8ce+-0x2ab5);}['_applyTint'+'WithTween'](_0x448540){var _0xfab1c1;const _0x49feca=(_0xfab1c1=this['_imageEnti'+'ty'])==null?void(-0x3*0x75f+-0x1*0x1c78+-0x233*-0x17):_0xfab1c1['element'];if(!_0x448540||!_0x49feca||_0x49feca['type']===eh)return;const _0x5d9653=kg(_0x448540),_0x242896=_0x49feca['color'],_0x127de3=_0x49feca['opacity'];_0x5d9653['equals'](_0x242896)&&_0x448540['a']===_0x127de3||(this['_tweenInfo']={'startTime':de(),'from':new ie(_0x242896['r'],_0x242896['g'],_0x242896['b'],_0x127de3),'to':_0x448540['clone'](),'lerpColor':new ie()});}['_updateTin'+'tTween'](){const _0x210828=de()-this['_tweenInfo']['startTime'];let _0x16c156=this['fadeDurati'+'on']===0x156d*0x1+-0x1bfe+-0x691*-0x1?0x1803+-0x1*0x17bd+-0x45:_0x210828/this['fadeDurati'+'on'];if(_0x16c156=Y['clamp'](_0x16c156,-0x1*-0x17c2+0xea2*0x2+-0x3506,0x144+-0x16a4+0x1561),Math['abs'](_0x16c156-(0x3fe*0x4+0x4d3+-0xa65*0x2))>0x288+0x227d+0xc57*-0x3+0.00001){const _0x3e9652=this['_tweenInfo']['lerpColor'];_0x3e9652['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x16c156),this['_applyTint'+'Immediatel'+'y'](new ie(_0x3e9652['r'],_0x3e9652['g'],_0x3e9652['b'],_0x3e9652['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(0x40*0xf+-0x180d+-0x2*-0xa27),this['_hoveringC'+'ounter']=0x833*0x2+0x1*-0x19a5+0x93f,this['_isPressed']=!(0xea+0x123*0x7+0xe3*-0xa),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x7ac475,_0xa17f27){_0x7ac475['imageEntit'+'y']&&(this['imageEntit'+'y']=_0xa17f27[_0x7ac475['imageEntit'+'y']['getGuid']()]);}}h(It,'EVENT_MOUS'+'EDOWN','mousedown'),h(It,'EVENT_MOUS'+'EUP','mouseup'),h(It,'EVENT_MOUS'+'EENTER','mouseenter'),h(It,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(It,'EVENT_CLIC'+'K','click'),h(It,'EVENT_TOUC'+'HSTART','touchstart'),h(It,'EVENT_TOUC'+'HEND','touchend'),h(It,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),h(It,'EVENT_TOUC'+'HLEAVE','touchleave'),h(It,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(It,'EVENT_SELE'+'CTEND','selectend'),h(It,'EVENT_SELE'+'CTENTER','selectente'+'r'),h(It,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),h(It,'EVENT_HOVE'+'RSTART','hoverstart'),h(It,'EVENT_HOVE'+'REND','hoverend'),h(It,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),h(It,'EVENT_PRES'+'SEDEND','pressedend');function kg(_0x5ba74d){return new ie(_0x5ba74d['r'],_0x5ba74d['g'],_0x5ba74d['b']);}class WL{constructor(){this['enabled']=!(-0x430*0x1+-0x7*-0x3e5+0x1713*-0x1),this['active']=!(-0x17a5+0x35b*-0x1+0x1b00),this['imageEntit'+'y']=null,this['hitPadding']=new re(),this['transition'+'Mode']=Au,this['hoverTint']=new ie(-0x3*0x566+0x1147+-0x115+0.75,0x1419+-0x1*-0x264b+-0x3a64+0.75,0x2497+0x21*0xbb+-0x3cb2+0.75),this['pressedTin'+'t']=new ie(-0x1a*0x9d+-0x1172+-0x10b2*-0x2+0.5,0x1067+0x445+-0x14ac+0.5,0x5b8*0x4+0x20f3+-0x37d3+0.5),this['inactiveTi'+'nt']=new ie(0x71*0xb+-0x1188+0xcad+0.25,0x445+0x35*0x14+-0x1*0x869+0.25,-0x163b+-0x83f+-0x2f*-0xa6+0.25),this['fadeDurati'+'on']=0x3f5*-0x4+-0xb*-0x2c9+0xecf*-0x1,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=-0x22d6+-0x20f2+-0x43c8*-0x1,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=0x2455+-0x18*0x3+-0x240d,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=0x34a+0x1a6b+-0x1db5;}}const Ug=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class $L extends ct{constructor(_0x3b2e5c){super(_0x3b2e5c),this['id']='button',this['ComponentT'+'ype']=It,this['DataType']=WL,this['schema']=Ug,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x1bc3b2,_0x15fab1,_0x50a168){_0x1bc3b2['imageEntit'+'y']=_0x15fab1['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x1bc3b2,_0x15fab1,Ug);}['onUpdate'](_0x16873a){const _0x4045ee=this['store'];for(const _0x544094 in _0x4045ee){const _0x376aaa=_0x4045ee[_0x544094]['entity'],_0x5c7ada=_0x376aaa['button'];_0x5c7ada['enabled']&&_0x376aaa['enabled']&&_0x5c7ada['onUpdate']();}}['_onRemoveC'+'omponent'](_0x4ac755,_0x180275){_0x180275['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const Bg=new D(),zg=new le();class rn extends we{constructor(_0x2d98ec,_0x196495){super(_0x2d98ec,_0x196495),h(this,'_compoundP'+'arent',null),h(this,'_hasOffset',!(-0x241e+-0x2*-0xf05+0xad*0x9)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x30c2e5=this['system']['store'][this['entity']['getGuid']()];return _0x30c2e5?_0x30c2e5['data']:null;}set['enabled'](_0x4eb443){this['_setValue']('enabled',_0x4eb443);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x3670d6){this['_setValue']('type',_0x3670d6);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0xcc23cd){this['_setValue']('halfExtent'+'s',_0xcc23cd);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x162221){this['_setValue']('linearOffs'+'et',_0x162221);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0xaaf864){this['_setValue']('angularOff'+'set',_0xaaf864);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x34156e){this['_setValue']('radius',_0x34156e);}get['radius'](){return this['data']['radius'];}set['axis'](_0x5ad3f8){this['_setValue']('axis',_0x5ad3f8);}get['axis'](){return this['data']['axis'];}set['height'](_0x9a0d4e){this['_setValue']('height',_0x9a0d4e);}get['height'](){return this['data']['height'];}set['asset'](_0xae9c00){this['_setValue']('asset',_0xae9c00);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x26d965){this['_setValue']('renderAsse'+'t',_0x26d965);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x529b6e){this['_setValue']('convexHull',_0x529b6e);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x55f9ba){this['_setValue']('shape',_0x55f9ba);}get['shape'](){return this['data']['shape'];}set['model'](_0x240c71){this['_setValue']('model',_0x240c71);}get['model'](){return this['data']['model'];}set['render'](_0x568861){this['_setValue']('render',_0x568861);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x4fd1e1){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x4fd1e1);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x3a0e33,_0xaefd2e){const _0x2b80b3=this['data'],_0x38945a=_0x2b80b3[_0x3a0e33];_0x2b80b3[_0x3a0e33]=_0xaefd2e,this['fire']('set',_0x3a0e33,_0x38945a,_0xaefd2e);}['onSetType'](_0x498b6d,_0x3f75f2,_0x25f217){_0x3f75f2!==_0x25f217&&this['system']['changeType'](this,_0x3f75f2,_0x25f217);}['onSetHalfE'+'xtents'](_0x1eeac5,_0x2e51b3,_0x1568ce){const _0x2e2e2a=this['data']['type'];this['data']['initialize'+'d']&&_0x2e2e2a==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x27cf87,_0xa88534,_0x3e091e){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](D['ZERO'])||!this['data']['angularOff'+'set']['equals'](le['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x53e3e0,_0x3543d9,_0x38e299){const _0x45921a=this['data']['type'];this['data']['initialize'+'d']&&(_0x45921a==='sphere'||_0x45921a==='capsule'||_0x45921a==='cylinder'||_0x45921a==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x1e0574,_0x5878eb,_0x5b243a){const _0xf32296=this['data']['type'];this['data']['initialize'+'d']&&(_0xf32296==='capsule'||_0xf32296==='cylinder'||_0xf32296==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x12bafb,_0x48e6bc,_0x291b53){const _0x137a31=this['data']['type'];this['data']['initialize'+'d']&&(_0x137a31==='capsule'||_0x137a31==='cylinder'||_0x137a31==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x964133,_0x5e671c,_0x1ed038){const _0x505a86=this['system']['app']['assets'];if(_0x5e671c){const _0x313068=_0x505a86['get'](_0x5e671c);_0x313068&&_0x313068['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x1ed038){_0x1ed038 instanceof pe&&(this['data']['asset']=_0x1ed038['id']);const _0x4e89bb=_0x505a86['get'](this['data']['asset']);_0x4e89bb&&(_0x4e89bb['off']('remove',this['onAssetRem'+'oved'],this),_0x4e89bb['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x1ed038||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x304c69,_0x34f162,_0x4c1c28){const _0x3b5175=this['system']['app']['assets'];if(_0x34f162){const _0x484848=_0x3b5175['get'](_0x34f162);_0x484848&&_0x484848['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x4c1c28){_0x4c1c28 instanceof pe&&(this['data']['renderAsse'+'t']=_0x4c1c28['id']);const _0x48415a=_0x3b5175['get'](this['data']['renderAsse'+'t']);_0x48415a&&(_0x48415a['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x48415a['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x4c1c28||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x2d0f7f,_0x436419,_0x322837){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x44c865,_0xbfc69e,_0xb59be1){this['onSetModel'](_0x44c865,_0xbfc69e,_0xb59be1);}['onAssetRem'+'oved'](_0x596517){_0x596517['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x596517['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x198e15){_0x198e15['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x198e15['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x24754f){const _0x22a13e=this['data']['shape'],_0x349e26=_0x22a13e['getNumChil'+'dShapes']();for(let _0x1f14c1=0x1*0x1a65+-0x296*-0x4+-0x24bd;_0x1f14c1<_0x349e26;_0x1f14c1++){const _0x43ead2=_0x22a13e['getChildSh'+'ape'](_0x1f14c1);if(Ammo['getPointer'](_0x43ead2)===Ammo['getPointer'](_0x24754f))return _0x1f14c1;}return null;}['_onInsert'](_0x1c35b9){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x4a3ed3=this['entity']['parent'];for(;_0x4a3ed3;){if(_0x4a3ed3['collision']&&_0x4a3ed3['collision']['type']==='compound'){_0x4a3ed3['collision']['shape']['getNumChil'+'dShapes']()===-0x1ea*-0xf+0x2*0x69f+-0x29f4?this['system']['recreatePh'+'ysicalShap'+'es'](_0x4a3ed3['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x4a3ed3=_0x4a3ed3['parent'];}}}}}['_updateCom'+'pound'](){const _0x95901a=this['entity'];if(_0x95901a['_dirtyWorl'+'d']){let _0x578437=_0x95901a['_dirtyLoca'+'l'],_0x1fc413=_0x95901a;for(;_0x1fc413&&!_0x578437&&!(_0x1fc413['collision']&&_0x1fc413['collision']===this['_compoundP'+'arent']);)_0x1fc413['_dirtyLoca'+'l']&&(_0x578437=!(0x11*-0x16a+-0x1e58+0x3662)),_0x1fc413=_0x1fc413['parent'];if(_0x578437){_0x95901a['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x95901a);const _0x452a76=this['_compoundP'+'arent']['entity']['rigidbody'];_0x452a76&&_0x452a76['activate']();}}}['getShapePo'+'sition'](){const _0x154edd=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x83b6d7=this['entity']['getRotatio'+'n'](),_0x31d249=this['data']['linearOffs'+'et'];return zg['copy'](_0x83b6d7)['transformV'+'ector'](_0x31d249,Bg),Bg['add'](_0x154edd);}return _0x154edd;}['getShapeRo'+'tation'](){const _0x259d21=this['entity']['getRotatio'+'n']();return this['_hasOffset']?zg['copy'](_0x259d21)['mul'](this['data']['angularOff'+'set']):_0x259d21;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x9f2753=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x9f2753&&(!_0x9f2753['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0xd00+0x3*-0x616+0x542)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x4f823a=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x4f823a,this['data']['shape']),Ammo['destroy'](_0x4f823a),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}h(rn,'EVENT_CONT'+'ACT','contact'),h(rn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(rn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(rn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(rn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class XL{constructor(){this['enabled']=!(-0x169f*0x1+-0x137d*-0x2+-0x105b*0x1),this['type']='box',this['halfExtent'+'s']=new D(0x13d*0x17+-0x10a8+0xbd3*-0x1+0.5,0x1*-0x1451+0x3*-0x107+0x1766+0.5,0x3*-0x914+-0x105a+-0x15cb*-0x2+0.5),this['linearOffs'+'et']=new D(),this['angularOff'+'set']=new le(),this['radius']=0x7b0+-0xd40+0x590+0.5,this['axis']=-0x72*-0x35+-0x13a6+-0x3f3,this['height']=0x950+-0x2f*-0xb5+-0x2a89,this['convexHull']=!(0x11ab+0x2*0x136d+-0x3884),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(-0x52+0x1ee9+-0x1e97),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0xb1f+-0x1c5b+0x113d);}}const yo='static',ks='dynamic',Ha='kinematic',qL=-0x18b5+0x357+0x1560,Po=0x210b+0x1d70+-0x3e77*0x1,Pu=0x247f+-0x89*0x25+-0x10b1*0x1,Vg=-0x4a7*0x6+-0x1aab+0x3699,Yv=0x1*0x4f2+-0x9*0x2f6+-0x53*-0x43,jL=-0x1995+0x1*-0xdfc+0x2792,Gg=0x849*-0x1+-0x29*0x4b+0x17*0xe2,YL=0x20c3*-0x1+0x13*0x181+0x434,Hg=-0x26d6+0x1*-0x1943+0x4029,Wg=-0x1*0xaaf7+-0x2b*0xb1d+0x388d5*0x1,Mu=-0xc*-0x235a+-0xd*-0x168b+-0x1cd4a;let Us,zr,Wa;class Kv{constructor(_0x40312a,_0x500fbd,_0x3fbcdc){this['entity']=_0x500fbd['entity'],this['component']=_0x500fbd,this['app']=_0x40312a,typeof Ammo<'u'&&!Us&&(Us=new Ammo['btVector3'](),zr=new Ammo['btQuaterni'+'on'](),Wa=new Ammo['btTransfor'+'m']()),this['initialize'](_0x3fbcdc);}['initialize'](_0x84ea05){const _0x1dee6a=this['entity'],_0x3c9112=_0x84ea05['shape'];if(_0x3c9112&&typeof Ammo<'u'){_0x1dee6a['trigger']&&_0x1dee6a['trigger']['destroy']();const _0x527e99=-0xfe*-0x21+0x24d5+0x4592*-0x1,_0x15568b=this['component'];if(_0x15568b){const _0xd1e584=_0x15568b['getShapePo'+'sition'](),_0x495ab7=_0x15568b['getShapeRo'+'tation']();Us['setValue'](_0xd1e584['x'],_0xd1e584['y'],_0xd1e584['z']),zr['setValue'](_0x495ab7['x'],_0x495ab7['y'],_0x495ab7['z'],_0x495ab7['w']);}else{const _0x1fc390=_0x1dee6a['getPositio'+'n'](),_0x375126=_0x1dee6a['getRotatio'+'n']();Us['setValue'](_0x1fc390['x'],_0x1fc390['y'],_0x1fc390['z']),zr['setValue'](_0x375126['x'],_0x375126['y'],_0x375126['z'],_0x375126['w']);}Wa['setOrigin'](Us),Wa['setRotatio'+'n'](zr);const _0x1d2676=this['app']['systems']['rigidbody']['createBody'](_0x527e99,_0x3c9112,Wa);_0x1d2676['setRestitu'+'tion'](-0x10c+0x2*0x196+0x88*-0x4),_0x1d2676['setFrictio'+'n'](-0x619*-0x3+0x26cc+-0x3917),_0x1d2676['setDamping'](0x1*-0x1e3b+0x1*-0x147+-0x25*-0xda,0x10f7+0x2199+-0xca4*0x4),Us['setValue'](0x7*-0x509+-0x1a6d+0x3dac,-0x15d2+0x472+0x1*0x1160,0x9ac+0x89*-0x13+-0x7f*-0x1),_0x1d2676['setLinearF'+'actor'](Us),_0x1d2676['setAngular'+'Factor'](Us),_0x1d2676['setCollisi'+'onFlags'](_0x1d2676['getCollisi'+'onFlags']()|Po),_0x1d2676['entity']=_0x1dee6a,this['body']=_0x1d2676,this['component']['enabled']&&_0x1dee6a['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x5a1398){const _0x53cf18=this['component'];if(_0x53cf18){const _0x15f0f9=_0x53cf18['getShapePo'+'sition'](),_0x9415fe=_0x53cf18['getShapeRo'+'tation']();Us['setValue'](_0x15f0f9['x'],_0x15f0f9['y'],_0x15f0f9['z']),zr['setValue'](_0x9415fe['x'],_0x9415fe['y'],_0x9415fe['z'],_0x9415fe['w']);}else{const _0x185486=this['entity']['getPositio'+'n'](),_0x13ff84=this['entity']['getRotatio'+'n']();Us['setValue'](_0x185486['x'],_0x185486['y'],_0x185486['z']),zr['setValue'](_0x13ff84['x'],_0x13ff84['y'],_0x13ff84['z'],_0x13ff84['w']);}_0x5a1398['setOrigin'](Us),_0x5a1398['setRotatio'+'n'](zr);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Wa);const _0x352571=this['body'];_0x352571['setWorldTr'+'ansform'](Wa),_0x352571['activate']();}['enable'](){const _0x21a50e=this['body'];if(!_0x21a50e)return;const _0x5882a4=this['app']['systems']['rigidbody'];_0x5882a4['_triggers']['indexOf'](this)<-0xaee*-0x1+-0x1*0x1d5c+0x126e*0x1&&(_0x5882a4['addBody'](_0x21a50e,Hg,Mu^Hg),_0x5882a4['_triggers']['push'](this)),_0x21a50e['forceActiv'+'ationState'](Pu),this['updateTran'+'sform']();}['disable'](){const _0x1de629=this['body'];if(!_0x1de629)return;const _0x36a414=this['app']['systems']['rigidbody'],_0x1618da=_0x36a414['_triggers']['indexOf'](this);_0x1618da>-(-0xc75+-0x2483+0x30f9)&&(_0x36a414['removeBody'](_0x1de629),_0x36a414['_triggers']['splice'](_0x1618da,0x189e+0x2*-0x157+-0x15ef)),_0x1de629['forceActiv'+'ationState'](Yv);}}const wc=new te(),KL=new D(),ZL=new D(),Vr=new le(),$g=new Ie(),QL=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class Ca{constructor(_0x1400a6){this['system']=_0x1400a6;}['beforeInit'+'ialize'](_0x321046,_0x1f2b06){_0x1f2b06['shape']=null,_0x1f2b06['model']=new sr(),_0x1f2b06['model']['graph']=new Ie();}['afterIniti'+'alize'](_0x3f5686,_0x98aaa6){this['recreatePh'+'ysicalShap'+'es'](_0x3f5686),_0x3f5686['data']['initialize'+'d']=!(-0x1492+-0x343+0x17d5*0x1);}['reset'](_0x87c905,_0x353542){this['beforeInit'+'ialize'](_0x87c905,_0x353542),this['afterIniti'+'alize'](_0x87c905,_0x353542);}['recreatePh'+'ysicalShap'+'es'](_0xd0cdca){const _0x4851e0=_0xd0cdca['entity'],_0x301400=_0xd0cdca['data'];if(typeof Ammo<'u'){_0x4851e0['trigger']&&(_0x4851e0['trigger']['destroy'](),delete _0x4851e0['trigger']),_0x301400['shape']&&(_0xd0cdca['_compoundP'+'arent']&&(_0xd0cdca!==_0xd0cdca['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0xd0cdca['_compoundP'+'arent'],_0x301400['shape']),_0xd0cdca['_compoundP'+'arent']['entity']['rigidbody']&&_0xd0cdca['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x301400)),_0x301400['shape']=this['createPhys'+'icalShape'](_0xd0cdca['entity'],_0x301400);const _0x30d855=!_0xd0cdca['_compoundP'+'arent'];if(_0x301400['type']==='compound'&&(!_0xd0cdca['_compoundP'+'arent']||_0xd0cdca===_0xd0cdca['_compoundP'+'arent']))_0xd0cdca['_compoundP'+'arent']=_0xd0cdca,_0x4851e0['forEach'](this['_addEachDe'+'scendant'],_0xd0cdca);else{if(_0x301400['type']!=='compound'&&!_0xd0cdca['rigidbody']){_0xd0cdca['_compoundP'+'arent']=null;let _0x4b3792=_0x4851e0['parent'];for(;_0x4b3792;){if(_0x4b3792['collision']&&_0x4b3792['collision']['type']==='compound'){_0xd0cdca['_compoundP'+'arent']=_0x4b3792['collision'];break;}_0x4b3792=_0x4b3792['parent'];}}}_0xd0cdca['_compoundP'+'arent']&&_0xd0cdca!==_0xd0cdca['_compoundP'+'arent']&&(_0x30d855&&_0xd0cdca['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x1a38+-0x6*0x2f9+-0x2*-0x1607?this['system']['recreatePh'+'ysicalShap'+'es'](_0xd0cdca['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x4851e0,!(-0x1*0x187d+0x24f+0x162e)),_0xd0cdca['_compoundP'+'arent']['entity']['rigidbody']&&_0xd0cdca['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x4851e0['rigidbody']?(_0x4851e0['rigidbody']['disableSim'+'ulation'](),_0x4851e0['rigidbody']['createBody'](),_0x4851e0['enabled']&&_0x4851e0['rigidbody']['enabled']&&_0x4851e0['rigidbody']['enableSimu'+'lation']()):_0xd0cdca['_compoundP'+'arent']||(_0x4851e0['trigger']?_0x4851e0['trigger']['initialize'](_0x301400):_0x4851e0['trigger']=new Kv(this['system']['app'],_0xd0cdca,_0x301400));}}['createPhys'+'icalShape'](_0x493b2f,_0x2e0b3d){}['updateTran'+'sform'](_0x3fe9ee,_0x5d893c,_0x5c842d,_0x41a37e){_0x3fe9ee['entity']['trigger']&&_0x3fe9ee['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x38d92b){_0x38d92b['shape']&&(Ammo['destroy'](_0x38d92b['shape']),_0x38d92b['shape']=null);}['beforeRemo'+'ve'](_0x27e014,_0x4205b0){_0x4205b0['data']['shape']&&(_0x4205b0['_compoundP'+'arent']&&!_0x4205b0['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x4205b0['_compoundP'+'arent'],_0x4205b0['data']['shape']),_0x4205b0['_compoundP'+'arent']['entity']['rigidbody']&&_0x4205b0['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x4205b0['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x4205b0['data']));}['remove'](_0x126664,_0x4a37dd){_0x126664['rigidbody']&&_0x126664['rigidbody']['body']&&_0x126664['rigidbody']['disableSim'+'ulation'](),_0x126664['trigger']&&(_0x126664['trigger']['destroy'](),delete _0x126664['trigger']);}['clone'](_0x2fc24f,_0x17eca4){const _0xe769d=this['system']['store'][_0x2fc24f['getGuid']()],_0x4dbcd1={'enabled':_0xe769d['data']['enabled'],'type':_0xe769d['data']['type'],'halfExtents':[_0xe769d['data']['halfExtent'+'s']['x'],_0xe769d['data']['halfExtent'+'s']['y'],_0xe769d['data']['halfExtent'+'s']['z']],'linearOffset':[_0xe769d['data']['linearOffs'+'et']['x'],_0xe769d['data']['linearOffs'+'et']['y'],_0xe769d['data']['linearOffs'+'et']['z']],'angularOffset':[_0xe769d['data']['angularOff'+'set']['x'],_0xe769d['data']['angularOff'+'set']['y'],_0xe769d['data']['angularOff'+'set']['z'],_0xe769d['data']['angularOff'+'set']['w']],'radius':_0xe769d['data']['radius'],'axis':_0xe769d['data']['axis'],'height':_0xe769d['data']['height'],'convexHull':_0xe769d['data']['convexHull'],'asset':_0xe769d['data']['asset'],'renderAsset':_0xe769d['data']['renderAsse'+'t'],'model':_0xe769d['data']['model'],'render':_0xe769d['data']['render'],'checkVertexDuplicates':_0xe769d['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x17eca4,_0x4dbcd1);}}class JL extends Ca{['createPhys'+'icalShape'](_0x10b955,_0x6e4d55){if(typeof Ammo<'u'){const _0x36327f=_0x6e4d55['halfExtent'+'s'],_0x36b54b=new Ammo['btVector3'](_0x36327f?_0x36327f['x']:-0x5e0+0xbb*0x24+-0x146c*0x1+0.5,_0x36327f?_0x36327f['y']:0xc9b+-0x1*-0x763+-0x13fe+0.5,_0x36327f?_0x36327f['z']:0x2*-0x6d5+0x15ab+-0x801+0.5),_0x20ac5c=new Ammo['btBoxShape'](_0x36b54b);return Ammo['destroy'](_0x36b54b),_0x20ac5c;}}}class eR extends Ca{['createPhys'+'icalShape'](_0x58e49e,_0x25e473){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x25e473['radius']);}}class tR extends Ca{['createPhys'+'icalShape'](_0x4e9cd9,_0x4ad467){const _0x1c6ad8=_0x4ad467['axis']??0xe3*-0x28+0x1*-0x236e+0x46e7,_0x2c0051=_0x4ad467['radius']??0x2486+0x1017*0x2+-0x44b4+0.5,_0x52fbad=Math['max']((_0x4ad467['height']??-0x1c90+0xc*0x272+-0xc6)-(-0x18c1*0x1+-0x3*0x266+0x1ff5)*_0x2c0051,0x50+0x131b+-0x136b);let _0x4cda72=null;if(typeof Ammo<'u')switch(_0x1c6ad8){case 0x2*0xa8a+0x161*-0x17+0xaa3:_0x4cda72=new Ammo['btCapsuleS'+'hapeX'](_0x2c0051,_0x52fbad);break;case-0x15bc+0xcbe+-0x31*-0x2f:_0x4cda72=new Ammo['btCapsuleS'+'hape'](_0x2c0051,_0x52fbad);break;case 0x165c+0x2fc+-0x1956:_0x4cda72=new Ammo['btCapsuleS'+'hapeZ'](_0x2c0051,_0x52fbad);break;}return _0x4cda72;}}class sR extends Ca{['createPhys'+'icalShape'](_0x5bed2b,_0x5d31ee){const _0x58982d=_0x5d31ee['axis']??-0xb9*-0x7+0x2c5+-0x7d3*0x1,_0x35675d=_0x5d31ee['radius']??-0x4*-0x194+-0x1a6*0x1+-0x3*0x18e+0.5,_0xc207a5=_0x5d31ee['height']??-0x65*-0x13+-0x1d06+0x1588;let _0x29ed45=null,_0x194fd3=null;if(typeof Ammo<'u')switch(_0x58982d){case 0x2701+0xc55+-0x3356:_0x29ed45=new Ammo['btVector3'](_0xc207a5*(-0x16b+0x247b+0x2c*-0xcc+0.5),_0x35675d,_0x35675d),_0x194fd3=new Ammo['btCylinder'+'ShapeX'](_0x29ed45);break;case 0xba8+0x230c+0x1*-0x2eb3:_0x29ed45=new Ammo['btVector3'](_0x35675d,_0xc207a5*(-0x24f3+0xcab+0x378*0x7+0.5),_0x35675d),_0x194fd3=new Ammo['btCylinder'+'Shape'](_0x29ed45);break;case-0x24b0+0x129*0x7+0x5f*0x4d:_0x29ed45=new Ammo['btVector3'](_0x35675d,_0x35675d,_0xc207a5*(0x5e*-0x39+-0xfaf+0x53b*0x7+0.5)),_0x194fd3=new Ammo['btCylinder'+'ShapeZ'](_0x29ed45);break;}return _0x29ed45&&Ammo['destroy'](_0x29ed45),_0x194fd3;}}class iR extends Ca{['createPhys'+'icalShape'](_0x38fb35,_0x4f5307){const _0x16636c=_0x4f5307['axis']??0x1*-0x3f0+0x26*0xc1+0x37*-0x73,_0x55e15b=_0x4f5307['radius']??0x2b8*0xe+0x2b6+-0x28c6+0.5,_0x422d4e=_0x4f5307['height']??-0x11*-0x1+-0x13*0x5+0x4f;let _0x3d0b72=null;if(typeof Ammo<'u')switch(_0x16636c){case 0x22cd+-0x997+-0x1936:_0x3d0b72=new Ammo['btConeShap'+'eX'](_0x55e15b,_0x422d4e);break;case-0x30*-0x2f+0x2625+-0x2ef4:_0x3d0b72=new Ammo['btConeShap'+'e'](_0x55e15b,_0x422d4e);break;case-0x2565+-0x1*0x2141+-0x8d5*-0x8:_0x3d0b72=new Ammo['btConeShap'+'eZ'](_0x55e15b,_0x422d4e);break;}return _0x3d0b72;}}class rR extends Ca{['beforeInit'+'ialize'](_0x417581,_0x1b2a07){}['createAmmo'+'Hull'](_0x5b0aa9,_0x5f09b1,_0xb9742c,_0x11b538){const _0x38b40f=new Ammo['btConvexHu'+'llShape'](),_0x4d29df=new Ammo['btVector3'](),_0xfa211b=[];_0x5b0aa9['getPositio'+'ns'](_0xfa211b);for(let _0x266d8e=-0xbe3+0xe6c+-0x289;_0x266d8e<_0xfa211b['length'];_0x266d8e+=0x877+0x1cd0+-0x2544)_0x4d29df['setValue'](_0xfa211b[_0x266d8e]*_0x11b538['x'],_0xfa211b[_0x266d8e+(0x351*0x1+0x18fb+-0x1c4b*0x1)]*_0x11b538['y'],_0xfa211b[_0x266d8e+(0x21cb+-0x3*0x38f+-0x171c)]*_0x11b538['z']),_0x38b40f['addPoint'](_0x4d29df,!(-0x58f*0x6+0x2238+-0xdd));Ammo['destroy'](_0x4d29df),_0x38b40f['recalcLoca'+'lAabb'](),_0x38b40f['setMargin'](-0x3f*0x68+0x1e0f*0x1+-0x477+0.01);const _0x57e2af=this['system']['_getNodeTr'+'ansform'](_0x5f09b1);_0xb9742c['addChildSh'+'ape'](_0x57e2af,_0x38b40f),Ammo['destroy'](_0x57e2af);}['createAmmo'+'Mesh'](_0x4042d0,_0x115d9d,_0x4463fe,_0x5cfed4,_0x439705=!(0x6*-0x3d5+-0x265+-0x1963*-0x1)){const _0x587d25=this['system'];let _0x2beb50;if(_0x587d25['_triMeshCa'+'che'][_0x4042d0['id']])_0x2beb50=_0x587d25['_triMeshCa'+'che'][_0x4042d0['id']];else{const _0x551003=_0x4042d0['vertexBuff'+'er'],_0x3bd375=_0x551003['getFormat']();let _0x31b7f6,_0x2d652a;for(let _0x43ba5d=0x1d*-0x44+-0x175*0x11+0x2079;_0x43ba5d<_0x3bd375['elements']['length'];_0x43ba5d++){const _0xcf62c6=_0x3bd375['elements'][_0x43ba5d];if(_0xcf62c6['name']===Me){_0x2d652a=new Float32Array(_0x551003['lock'](),_0xcf62c6['offset']),_0x31b7f6=_0xcf62c6['stride']/(-0x170+0x8fe+-0x78a);break;}}const _0x1c5a19=[];_0x4042d0['getIndices'](_0x1c5a19);const _0x2e83c1=_0x4042d0['primitive'][-0x1222*0x1+-0x435*0x9+0xb33*0x5]['count']/(-0xb28+0xed1+-0x3a6*0x1),_0x550996=new Ammo['btVector3']();let _0x3da603,_0x1d6cf2,_0x3445ae;const _0x16abe0=_0x4042d0['primitive'][-0x3*-0x781+-0x2*0x1003+0x1*0x983]['base'];_0x2beb50=new Ammo['btTriangle'+'Mesh'](),_0x587d25['_triMeshCa'+'che'][_0x4042d0['id']]=_0x2beb50;const _0x172927=new Map();w['assert'](typeof _0x2beb50['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x5333c4=_0x2beb50['getIndexed'+'MeshArray']();_0x5333c4['at'](0x1b4e+-0x481*0x1+-0x16cd)['m_numTrian'+'gles']=_0x2e83c1;const _0x1a6fdd=_0x5cfed4?_0x5cfed4['x']:-0x1a10+0x17e1*-0x1+-0x31f2*-0x1,_0xcd31fd=_0x5cfed4?_0x5cfed4['y']:0x385+0x19*-0x110+0x170c,_0x36abef=_0x5cfed4?_0x5cfed4['z']:-0x152*0x7+-0x7*-0x29e+-0x913,_0x37abb2=_0x2b1a2a=>{const _0x36ab2e=_0x2d652a[_0x2b1a2a*_0x31b7f6]*_0x1a6fdd,_0x48865d=_0x2d652a[_0x2b1a2a*_0x31b7f6+(0x2359+0x2bd+-0x2615)]*_0xcd31fd,_0x35a6f7=_0x2d652a[_0x2b1a2a*_0x31b7f6+(0x1*0x124+-0xc1*-0x2d+-0x230f)]*_0x36abef;let _0x14ee0c;if(_0x439705){const _0x4e1113=_0x36ab2e+':'+_0x48865d+':'+_0x35a6f7;if(_0x14ee0c=_0x172927['get'](_0x4e1113),_0x14ee0c!==void(-0x1867*-0x1+-0x1968+0x101))return _0x14ee0c;_0x550996['setValue'](_0x36ab2e,_0x48865d,_0x35a6f7),_0x14ee0c=_0x2beb50['findOrAddV'+'ertex'](_0x550996,!(-0x32*0x39+-0x1ba4+0x26c7)),_0x172927['set'](_0x4e1113,_0x14ee0c);}else _0x550996['setValue'](_0x36ab2e,_0x48865d,_0x35a6f7),_0x14ee0c=_0x2beb50['findOrAddV'+'ertex'](_0x550996,!(-0xdc6*-0x2+-0x2cf+-0x18bc));return _0x14ee0c;};for(let _0x2226c4=-0x64c+0x225d+-0x1c11;_0x2226c4<_0x2e83c1;_0x2226c4++)_0x3da603=_0x37abb2(_0x1c5a19[_0x16abe0+_0x2226c4*(0xda4+0x1546+-0x22e7)]),_0x1d6cf2=_0x37abb2(_0x1c5a19[_0x16abe0+_0x2226c4*(-0x16c9+-0x221d+0x38e9)+(0x5eb+0x12e9+0x4f7*-0x5)]),_0x3445ae=_0x37abb2(_0x1c5a19[_0x16abe0+_0x2226c4*(-0x49f*-0x4+0x1353+0xa4*-0x3b)+(0x24b+-0x1*-0x1b45+-0x123*0x1a)]),_0x2beb50['addIndex'](_0x3da603),_0x2beb50['addIndex'](_0x1d6cf2),_0x2beb50['addIndex'](_0x3445ae);Ammo['destroy'](_0x550996);}const _0xfac6c5=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x2beb50,!(0x1827+0x1e66+-0x368d));if(!_0x5cfed4){const _0x2f9899=_0x587d25['_getNodeSc'+'aling'](_0x115d9d);_0xfac6c5['setLocalSc'+'aling'](_0x2f9899),Ammo['destroy'](_0x2f9899);}const _0x2c047a=_0x587d25['_getNodeTr'+'ansform'](_0x115d9d);_0x4463fe['addChildSh'+'ape'](_0x2c047a,_0xfac6c5),Ammo['destroy'](_0x2c047a);}['createPhys'+'icalShape'](_0x316048,_0x2de8d2){if(!(typeof Ammo>'u')&&(_0x2de8d2['model']||_0x2de8d2['render'])){const _0x3198c0=new Ammo['btCompound'+'Shape'](),_0x5e72f1=_0x316048['getWorldTr'+'ansform']()['getScale']();if(_0x2de8d2['render']){const _0x5c9868=_0x2de8d2['render']['meshes'];for(let _0x2a3113=0x1223*0x2+-0x2c7*0x9+0x1*-0xb47;_0x2a3113<_0x5c9868['length'];_0x2a3113++)_0x2de8d2['convexHull']?this['createAmmo'+'Hull'](_0x5c9868[_0x2a3113],$g,_0x3198c0,_0x5e72f1):this['createAmmo'+'Mesh'](_0x5c9868[_0x2a3113],$g,_0x3198c0,_0x5e72f1,_0x2de8d2['checkVerte'+'xDuplicate'+'s']);}else{if(_0x2de8d2['model']){const _0x59d6f5=_0x2de8d2['model']['meshInstan'+'ces'];for(let _0x4d7e20=-0xa*-0x349+-0x13*-0x7d+-0x2a21;_0x4d7e20<_0x59d6f5['length'];_0x4d7e20++)this['createAmmo'+'Mesh'](_0x59d6f5[_0x4d7e20]['mesh'],_0x59d6f5[_0x4d7e20]['node'],_0x3198c0,null,_0x2de8d2['checkVerte'+'xDuplicate'+'s']);const _0x4d6b70=new Ammo['btVector3'](_0x5e72f1['x'],_0x5e72f1['y'],_0x5e72f1['z']);_0x3198c0['setLocalSc'+'aling'](_0x4d6b70),Ammo['destroy'](_0x4d6b70);}}return _0x3198c0;}}['recreatePh'+'ysicalShap'+'es'](_0x3645b3){const _0x1a86b5=_0x3645b3['data'];if((_0x1a86b5['renderAsse'+'t']||_0x1a86b5['asset'])&&_0x3645b3['enabled']&&_0x3645b3['entity']['enabled']){this['loadAsset'](_0x3645b3,_0x1a86b5['renderAsse'+'t']||_0x1a86b5['asset'],_0x1a86b5['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x3645b3);}['loadAsset'](_0x3c5a03,_0x23539c,_0x54a7a3){const _0x4dcfa6=_0x3c5a03['data'],_0x2f56c4=this['system']['app']['assets'],_0x4c57cc=_0x4dcfa6[_0x54a7a3],_0x1f4172=_0x115e24=>{_0x4dcfa6[_0x54a7a3]===_0x4c57cc&&(_0x4dcfa6[_0x54a7a3]=_0x115e24['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x3c5a03));},_0x222633=_0x21b0c2=>{_0x21b0c2['ready'](_0x446856=>{if(_0x446856['data']['containerA'+'sset']){const _0x2ccb35=_0x2f56c4['get'](_0x446856['data']['containerA'+'sset']);_0x2ccb35['loaded']?_0x1f4172(_0x446856):(_0x2ccb35['ready'](()=>{_0x1f4172(_0x446856);}),_0x2f56c4['load'](_0x2ccb35));}else _0x1f4172(_0x446856);}),_0x2f56c4['load'](_0x21b0c2);},_0x2f88ae=_0x2f56c4['get'](_0x23539c);_0x2f88ae?_0x222633(_0x2f88ae):_0x2f56c4['once']('add:'+_0x23539c,_0x222633);}['doRecreate'+'PhysicalSh'+'ape'](_0x1c247e){const _0x43cb71=_0x1c247e['entity'],_0x10f6db=_0x1c247e['data'];_0x10f6db['model']||_0x10f6db['render']?(this['destroySha'+'pe'](_0x10f6db),_0x10f6db['shape']=this['createPhys'+'icalShape'](_0x43cb71,_0x10f6db),_0x43cb71['rigidbody']?(_0x43cb71['rigidbody']['disableSim'+'ulation'](),_0x43cb71['rigidbody']['createBody'](),_0x43cb71['enabled']&&_0x43cb71['rigidbody']['enabled']&&_0x43cb71['rigidbody']['enableSimu'+'lation']()):_0x43cb71['trigger']?_0x43cb71['trigger']['initialize'](_0x10f6db):_0x43cb71['trigger']=new Kv(this['system']['app'],_0x1c247e,_0x10f6db)):(this['beforeRemo'+'ve'](_0x43cb71,_0x1c247e),this['remove'](_0x43cb71,_0x10f6db));}['updateTran'+'sform'](_0x56c393,_0x5ea5f2,_0x5a055f,_0x297f66){if(_0x56c393['shape']){const _0x4c0c61=_0x56c393['entity']['getWorldTr'+'ansform']()['getScale'](),_0x249f8f=_0x56c393['shape']['getLocalSc'+'aling']();(_0x4c0c61['x']!==_0x249f8f['x']()||_0x4c0c61['y']!==_0x249f8f['y']()||_0x4c0c61['z']!==_0x249f8f['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x56c393);}super['updateTran'+'sform'](_0x56c393,_0x5ea5f2,_0x5a055f,_0x297f66);}['destroySha'+'pe'](_0x414187){if(!_0x414187['shape'])return;const _0x3236b2=_0x414187['shape']['getNumChil'+'dShapes']();for(let _0xbbda3f=0x15e9+-0x1*0x24fd+0x182*0xa;_0xbbda3f<_0x3236b2;_0xbbda3f++){const _0x1ebe07=_0x414187['shape']['getChildSh'+'ape'](_0xbbda3f);Ammo['destroy'](_0x1ebe07);}Ammo['destroy'](_0x414187['shape']),_0x414187['shape']=null;}}class aR extends Ca{['createPhys'+'icalShape'](_0x2be57d,_0x4a3f35){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x54e807){!_0x54e807['collision']||_0x54e807['rigidbody']||(_0x54e807['collision']['_compoundP'+'arent']=this,_0x54e807!==this['entity']&&_0x54e807['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x54e807['collision']));}['_updateEac'+'hDescendan'+'t'](_0x38ba4d){_0x38ba4d['collision']&&_0x38ba4d['collision']['_compoundP'+'arent']===this&&(_0x38ba4d['collision']['_compoundP'+'arent']=null,_0x38ba4d!==this['entity']&&!_0x38ba4d['rigidbody']&&_0x38ba4d['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x38ba4d['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x540522){!_0x540522['collision']||_0x540522['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x540522,!(0x1*0x18dc+-0x5d*0x26+-0xb0d));}}class nR extends ct{constructor(_0x2e7b15){super(_0x2e7b15),this['id']='collision',this['ComponentT'+'ype']=rn,this['DataType']=XL,this['schema']=QL,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x2fecfa,_0x49ed7a,_0x46c9fc){_0x46c9fc=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x3a5342={};for(let _0x238eb8=-0x82b+-0x1b06+-0x21*-0x111,_0x2d5bf8=_0x46c9fc['length'];_0x238eb8<_0x2d5bf8;_0x238eb8++){const _0x30010a=_0x46c9fc[_0x238eb8];_0x3a5342[_0x30010a]=_0x49ed7a[_0x30010a];}let _0x1fb17e;if(_0x49ed7a['hasOwnProp'+'erty']('asset')?(_0x1fb17e=_0x46c9fc['indexOf']('model'),_0x1fb17e!==-(0x1c45*0x1+0x3*0x72e+0x9f6*-0x5)&&_0x46c9fc['splice'](_0x1fb17e,0x229*0x1+-0x17ce*0x1+0x1*0x15a6),_0x1fb17e=_0x46c9fc['indexOf']('render'),_0x1fb17e!==-(-0x197c+0x2*-0x368+-0x204d*-0x1)&&_0x46c9fc['splice'](_0x1fb17e,-0x115*-0xd+-0x19+-0x8f*0x19)):_0x49ed7a['hasOwnProp'+'erty']('model')&&(_0x1fb17e=_0x46c9fc['indexOf']('asset'),_0x1fb17e!==-(0x116+0x795+-0x8aa)&&_0x46c9fc['splice'](_0x1fb17e,0x3*0x62d+-0x1da*-0x13+0x3d6*-0xe)),_0x3a5342['type']||(_0x3a5342['type']=_0x2fecfa['data']['type']),_0x2fecfa['data']['type']=_0x3a5342['type'],Array['isArray'](_0x3a5342['halfExtent'+'s'])&&(_0x3a5342['halfExtent'+'s']=new D(_0x3a5342['halfExtent'+'s'])),Array['isArray'](_0x3a5342['linearOffs'+'et'])&&(_0x3a5342['linearOffs'+'et']=new D(_0x3a5342['linearOffs'+'et'])),Array['isArray'](_0x3a5342['angularOff'+'set'])){const _0x46fd3e=_0x3a5342['angularOff'+'set'];_0x46fd3e['length']===-0x93c+-0x29*0x7a+0x1*0x1cc9?_0x3a5342['angularOff'+'set']=new le()['setFromEul'+'erAngles'](_0x46fd3e[-0x169e+0x1*0x13c+-0xe*-0x187],_0x46fd3e[-0x24b2+0xa48+0x1a6b],_0x46fd3e[-0x1f9a+-0x2058+0x3ff4]):_0x3a5342['angularOff'+'set']=new le(_0x3a5342['angularOff'+'set']);}const _0x381821=this['_createImp'+'lementatio'+'n'](_0x3a5342['type']);_0x381821['beforeInit'+'ialize'](_0x2fecfa,_0x3a5342),super['initialize'+'ComponentD'+'ata'](_0x2fecfa,_0x3a5342,_0x46c9fc),_0x381821['afterIniti'+'alize'](_0x2fecfa,_0x3a5342);}['_createImp'+'lementatio'+'n'](_0x587d31){if(this['implementa'+'tions'][_0x587d31]===void(0x422+0x1*0xb63+-0x1d*0x89)){let _0x2c568e;switch(_0x587d31){case'box':_0x2c568e=new JL(this);break;case'sphere':_0x2c568e=new eR(this);break;case'capsule':_0x2c568e=new tR(this);break;case'cylinder':_0x2c568e=new sR(this);break;case'cone':_0x2c568e=new iR(this);break;case'mesh':_0x2c568e=new rR(this);break;case'compound':_0x2c568e=new aR(this);break;default:w['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x587d31);}this['implementa'+'tions'][_0x587d31]=_0x2c568e;}return this['implementa'+'tions'][_0x587d31];}['_getImplem'+'entation'](_0x2a80ac){return this['implementa'+'tions'][_0x2a80ac['collision']['data']['type']];}['cloneCompo'+'nent'](_0x3e3909,_0x256ddf){return this['_getImplem'+'entation'](_0x3e3909)['clone'](_0x3e3909,_0x256ddf);}['onBeforeRe'+'move'](_0x158cd6,_0x51a56a){this['implementa'+'tions'][_0x51a56a['data']['type']]['beforeRemo'+'ve'](_0x158cd6,_0x51a56a),_0x51a56a['onBeforeRe'+'move']();}['onRemove'](_0x5ff938,_0x264740){this['implementa'+'tions'][_0x264740['type']]['remove'](_0x5ff938,_0x264740);}['updateComp'+'oundChildT'+'ransform'](_0x44cb5c,_0x3a3a2e){const _0x3dfd38=_0x44cb5c['collision']['_compoundP'+'arent'];if(_0x3dfd38!==_0x44cb5c['collision']&&_0x44cb5c['enabled']&&_0x44cb5c['collision']['enabled']&&(_0x44cb5c['_dirtyLoca'+'l']||_0x3a3a2e)){const _0x43bfa2=this['_getNodeTr'+'ansform'](_0x44cb5c,_0x3dfd38['entity']),_0x3301bd=_0x3dfd38['getCompoun'+'dChildShap'+'eIndex'](_0x44cb5c['collision']['shape']);_0x3301bd===null?_0x3dfd38['shape']['addChildSh'+'ape'](_0x43bfa2,_0x44cb5c['collision']['data']['shape']):_0x3dfd38['shape']['updateChil'+'dTransform'](_0x3301bd,_0x43bfa2,!(-0x11c4+0xd9*0x9+-0x361*-0x3)),Ammo['destroy'](_0x43bfa2);}}['_removeCom'+'poundChild'](_0x19e4b3,_0x103d1c){if(_0x19e4b3['shape']['getNumChil'+'dShapes']()!==-0x1554+0x1d71+-0x1*0x81d){if(_0x19e4b3['shape']['removeChil'+'dShape'])_0x19e4b3['shape']['removeChil'+'dShape'](_0x103d1c);else{const _0x370467=_0x19e4b3['getCompoun'+'dChildShap'+'eIndex'](_0x103d1c);_0x370467!==null&&_0x19e4b3['shape']['removeChil'+'dShapeByIn'+'dex'](_0x370467);}}}['onTransfor'+'mChanged'](_0x3f8f1c,_0x230946,_0x13d620,_0x170259){this['implementa'+'tions'][_0x3f8f1c['data']['type']]['updateTran'+'sform'](_0x3f8f1c,_0x230946,_0x13d620,_0x170259);}['changeType'](_0x27eab8,_0x11f265,_0xaf20d5){this['implementa'+'tions'][_0x11f265]['beforeRemo'+'ve'](_0x27eab8['entity'],_0x27eab8),this['implementa'+'tions'][_0x11f265]['remove'](_0x27eab8['entity'],_0x27eab8['data']),this['_createImp'+'lementatio'+'n'](_0xaf20d5)['reset'](_0x27eab8,_0x27eab8['data']);}['recreatePh'+'ysicalShap'+'es'](_0x2e7b4c){this['implementa'+'tions'][_0x2e7b4c['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x2e7b4c);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x40e9d5,_0x215d2b){if(_0x40e9d5===_0x215d2b){const _0x3104f7=_0x40e9d5['getWorldTr'+'ansform']()['getScale']();wc['setScale'](_0x3104f7['x'],_0x3104f7['y'],_0x3104f7['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x40e9d5['parent'],_0x215d2b),wc['mul'](_0x40e9d5['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x3932ff){const _0x12bf50=_0x3932ff['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x12bf50['x'],_0x12bf50['y'],_0x12bf50['z']);}['_getNodeTr'+'ansform'](_0x2ca50c,_0x4a499a){let _0x5c1d66,_0x461c39;_0x4a499a?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x2ca50c,_0x4a499a),_0x5c1d66=KL,_0x461c39=Vr,wc['getTransla'+'tion'](_0x5c1d66),_0x461c39['setFromMat'+'4'](wc)):(_0x5c1d66=_0x2ca50c['getPositio'+'n'](),_0x461c39=_0x2ca50c['getRotatio'+'n']());const _0xe474e5=new Ammo['btQuaterni'+'on'](),_0x1f3a05=new Ammo['btTransfor'+'m']();_0x1f3a05['setIdentit'+'y']();const _0x22d1d8=_0x1f3a05['getOrigin'](),_0x5b5b19=_0x2ca50c['collision'];if(_0x5b5b19&&_0x5b5b19['_hasOffset']){const _0x1bf5d8=_0x5b5b19['data']['linearOffs'+'et'],_0x454e4e=_0x5b5b19['data']['angularOff'+'set'],_0x491813=ZL;Vr['copy'](_0x461c39)['transformV'+'ector'](_0x1bf5d8,_0x491813),_0x491813['add'](_0x5c1d66),Vr['copy'](_0x461c39)['mul'](_0x454e4e),_0x22d1d8['setValue'](_0x491813['x'],_0x491813['y'],_0x491813['z']),_0xe474e5['setValue'](Vr['x'],Vr['y'],Vr['z'],Vr['w']);}else _0x22d1d8['setValue'](_0x5c1d66['x'],_0x5c1d66['y'],_0x5c1d66['z']),_0xe474e5['setValue'](_0x461c39['x'],_0x461c39['y'],_0x461c39['z'],_0x461c39['w']);return _0x1f3a05['setRotatio'+'n'](_0xe474e5),Ammo['destroy'](_0xe474e5),_0x1f3a05;}['destroy'](){for(const _0x188f5e in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x188f5e]);this['_triMeshCa'+'che']=null,super['destroy']();}}const Ec=new ie(),oR=new Kt();class lR{constructor(_0x5a0952,_0x48b4af,_0x5dfa76){this['_entity']=_0x5a0952,this['_element']=_0x5a0952['element'],this['model']=new sr(),this['node']=new Ie(),this['model']['graph']=this['node'],this['mesh']=_0x48b4af,this['meshInstan'+'ce']=new He(this['mesh'],_0x5dfa76,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x5a0952['name'],this['meshInstan'+'ce']['castShadow']=!(0x5a6*-0x2+0x11b6+-0x669),this['meshInstan'+'ce']['receiveSha'+'dow']=!(0x121+-0x1344*-0x2+0x1b*-0x178),this['_meshDirty']=!(0x1*0xfa6+-0x14f3+0x54e),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x682ae6,_0x962cfa;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x682ae6=this['meshInstan'+'ce'])==null||_0x682ae6['destroy'](),this['meshInstan'+'ce']=null,(_0x962cfa=this['unmaskMesh'+'Instance'])==null||_0x962cfa['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x42c54f){this['meshInstan'+'ce']&&(this['mesh']=_0x42c54f,this['meshInstan'+'ce']['mesh']=_0x42c54f,this['meshInstan'+'ce']['visible']=!!_0x42c54f,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x42c54f),this['forceUpdat'+'eAabb']());}['setMask'](_0x3c1402){var _0x852e42;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x3c1402){this['unmaskMesh'+'Instance']=new He(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(0x1248+-0x313*0xb+0xf8a),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(-0x1bf7+0x1b81*-0x1+0x3779),this['unmaskMesh'+'Instance']['pick']=!(-0x156b*-0x1+0x377*0x1+-0x21*0xc1),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x1ee747 in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x1ee747,this['meshInstan'+'ce']['parameters'][_0x1ee747]['data']);}else{const _0x3911d5=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x3911d5>=0x1e1+-0xe96+0xcb5&&this['model']['meshInstan'+'ces']['splice'](_0x3911d5,0x11db+-0x1*-0x23c7+-0x35a1);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x3c1402||((_0x852e42=this['unmaskMesh'+'Instance'])==null||_0x852e42['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x3ed8c9){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x3ed8c9,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x3ed8c9));}['setParamet'+'er'](_0xfa241e,_0x9d7080){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0xfa241e,_0x9d7080),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0xfa241e,_0x9d7080));}['deletePara'+'meter'](_0x303594){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x303594),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x303594));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x30286b=function(_0xe8ac64){let _0x100090;const _0x44efd7=_0xe8ac64['children'],_0x581aaf=_0x44efd7['length'];if(_0x581aaf){for(let _0x417b21=0x24e5+0x2*0x1385+-0x4bef;_0x417b21<_0x581aaf;_0x417b21++)_0x44efd7[_0x417b21]['element']&&(_0x100090=_0x44efd7[_0x417b21]);if(!_0x100090)return null;const _0x17704d=_0x30286b(_0x100090);return _0x17704d||_0x100090;}return null;};if(this['unmaskMesh'+'Instance']){const _0x80b7ec=_0x30286b(this['_entity']);_0x80b7ec&&_0x80b7ec['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x80b7ec['element']['drawOrder']+_0x80b7ec['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),w['trace'](Vs,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0xdba98e){this['meshInstan'+'ce']&&(w['trace'](Vs,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0xdba98e),this['meshInstan'+'ce']['drawOrder']=_0xdba98e);}['setCull'](_0x2542b5){if(!this['meshInstan'+'ce'])return;const _0x38618f=this['_element'];let _0x390750=null;_0x2542b5&&_0x38618f['_isScreenS'+'pace']()&&(_0x390750=function(_0xe7d37d){return _0x38618f['isVisibleF'+'orCamera'](_0xe7d37d);}),this['meshInstan'+'ce']['cull']=_0x2542b5,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x390750,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x2542b5,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x390750);}['setScreenS'+'pace'](_0x1df4fe){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x1df4fe,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x1df4fe));}['setLayer'](_0x129e6a){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x129e6a,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x129e6a));}['forceUpdat'+'eAabb'](_0x5b2630){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(-0x2*0x5ee+-0x43*-0x69+-0xf9e),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(0x7bd+-0x5*0x8+-0x794)));}['setAabbFun'+'c'](_0x4dd559){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x4dd559,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x4dd559));}}class cR{constructor(_0x15cfbf){h(this,'_evtSetMes'+'hes',null),(this['_element']=_0x15cfbf,this['_entity']=_0x15cfbf['entity'],this['_system']=_0x15cfbf['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0x1310+-0x7c+0x138c,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(0x1b8+-0x73*-0x40+-0x1e77),this['_rect']=new re(-0x5*-0x42a+-0x1265+0x9*-0x45,-0xaab+0x109e+0x1*-0x5f3,0x22d2+0x1*-0x103+-0x1*0x21ce,-0x157+0x1c56+-0x1afe*0x1),this['_mask']=!(-0x224e*-0x1+0x151d+-0x376a),this['_maskRef']=0x1e*0x72+0x1e21+-0xe7f*0x3,this['_outerScal'+'e']=new J(),this['_outerScal'+'eUniform']=new Float32Array(0x1*0x1d3+0x27*0x21+0x8*-0xdb),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(-0x6d*-0x43+-0x12e*0x17+0x161*-0x1),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(-0x2*-0x115f+0x414+-0x26ce),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new lR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new ie(0x447*0x7+0x2*-0x20f+-0x19d2,-0x3be*-0x8+0x2612+-0x15*0x33d,0x13*0x89+-0x2*0xd29+0xb*0x178,0x2276+-0xeb8+-0x13bd),this['_colorUnif'+'orm']=new Float32Array([0x945+-0x26fe+0xedd*0x2,-0x112*0x23+0x23ed+-0xc5*-0x2,0x1d5c+-0x101c+-0xd3f]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',-0x247b*-0x1+-0xe1d*0x1+-0x165d*0x1),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x41f36e){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x363a6f){this['_updateMat'+'erial'](_0x363a6f);}['_onScreenC'+'hange'](_0x190cc8,_0xd2379d){_0x190cc8?this['_updateMat'+'erial'](_0x190cc8['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x240a+0x5*0x395+-0x35f2));}['_onDrawOrd'+'erChange'](_0x30fbed){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x30fbed),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(0x19cb+-0x437*-0x4+0x67*-0x6a);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt);}['_updateMat'+'erial'](_0x55e2e1){const _0x552f39=!!this['_mask'],_0x36594=!!(this['sprite']&&this['sprite']['renderMode']===Pt),_0x353de7=!!(this['sprite']&&this['sprite']['renderMode']===Mt);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x55e2e1,_0x552f39,_0x36594,_0x353de7)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x55e2e1),this['_renderabl'+'e']['setLayer'](_0x55e2e1?Ow:Ky));}['_createMes'+'h'](){const _0x3a5ae8=this['_element'],_0x32af87=_0x3a5ae8['calculated'+'Width'],_0x32131f=_0x3a5ae8['calculated'+'Height'],_0x462dbc=this['_rect'],_0x33ca3f=this['_system']['app']['graphicsDe'+'vice'],_0x315cb6=new Float32Array([_0x32af87,0x1*0x933+0x6d3*0x1+0x7*-0x24a,0x667+-0x1a2c+0x13c5,-0x936+0xb23*-0x3+0x2a9f,-0x1344*0x2+-0x407*0x6+-0xd6*-0x4b,0x512+-0x3*-0x8c9+-0x7db*0x4,_0x462dbc['x']+_0x462dbc['z'],0x25fc+0x4ca*0x4+-0x3923-_0x462dbc['y'],_0x32af87,_0x32131f,-0x12*0xb+-0x7*0x26a+0x11ac,0x1*-0x14d5+-0x1c25+0x30fa,0x1490+-0x25d7+0x1147,-0x1296+0x3d*0x2c+0x1*0x81b,_0x462dbc['x']+_0x462dbc['z'],0x2035+0x1*0x1453+0x317*-0x11-(_0x462dbc['y']+_0x462dbc['w']),-0x7*0x1e3+-0x1070+-0x1da5*-0x1,0x1*0xd7+-0x91b+0x844*0x1,0x1245+0x1c2b+-0x2e70,-0x20*0x60+0x5*-0x206+0x161e,0x2d*-0x87+0x15cc+0xa5*0x3,0x1532+0x613+0x4*-0x6d1,_0x462dbc['x'],-0x2400+0xaed+0x1914-_0x462dbc['y'],-0x154+-0xf2d+0x1081*0x1,_0x32131f,-0xc88+-0xd87*0x1+0x1a0f,0x59*-0x27+0x75c+0x633*0x1,-0x5b7+0xe1*-0x25+-0x98f*-0x4,-0x1*0x8f2+0x2*0xfbb+-0x1*0x1683,_0x462dbc['x'],0x1bd4+-0x8*-0x329+-0xa9f*0x5-(_0x462dbc['y']+_0x462dbc['w'])]),_0x42f553=oR['get'](_0x33ca3f,()=>new kt(_0x33ca3f,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':gs,'components':0x3,'type':Ve},{'semantic':is,'components':0x2,'type':Ve}])),_0x1cda84=new Is(_0x33ca3f,_0x42f553,-0x68*-0xa+-0x1d03+-0x18f7*-0x1,{'data':_0x315cb6['buffer']}),_0x359170=new Ge(_0x33ca3f);return _0x359170['vertexBuff'+'er']=_0x1cda84,_0x359170['primitive'][0x1133+-0xe*-0x95+-0x1959]['type']=Er,_0x359170['primitive'][0x8b4+0x26*0xdc+0x1*-0x295c]['base']=-0x2ce*0x5+0x11e+0xce8,_0x359170['primitive'][-0x193+-0x14ab+0x163e]['count']=-0x1*-0x1263+0xf6*0x3+-0x1541,_0x359170['primitive'][0x25e+-0xd25+-0x1f*-0x59]['indexed']=!(-0x7c3+-0x962*0x3+0x23ea*0x1),_0x359170['aabb']['setMinMax'](D['ZERO'],new D(_0x32af87,_0x32131f,0x3*-0x113+-0x1f0c+0x2245)),this['_updateMes'+'h'](_0x359170),_0x359170;}['_updateMes'+'h'](_0x11c4cc){const _0x10cd09=this['_element'];let _0x217d3d=_0x10cd09['calculated'+'Width'],_0x1f61b9=_0x10cd09['calculated'+'Height'];if(_0x10cd09['fitMode']!==th&&this['_targetAsp'+'ectRatio']>-0x1a32+-0x535*-0x5+0x29){const _0x187589=_0x10cd09['calculated'+'Width']/_0x10cd09['calculated'+'Height'];_0x10cd09['fitMode']===GL&&_0x187589>this['_targetAsp'+'ectRatio']||_0x10cd09['fitMode']===HL&&_0x187589<this['_targetAsp'+'ectRatio']?_0x217d3d=_0x10cd09['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x1f61b9=_0x10cd09['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x1c1687=_0x10cd09['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x1c1687),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){const _0x3a9aea=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x26cb95=(-0x1*-0xd17+-0x251b+0x1806)/_0x3a9aea['rect']['z'],_0x1cc200=(0x2400+0x1c2d*0x1+-0x402b)/_0x3a9aea['rect']['w'];this['_innerOffs'+'et']['set'](_0x3a9aea['border']['x']*_0x26cb95,_0x3a9aea['border']['y']*_0x1cc200,_0x3a9aea['border']['z']*_0x26cb95,_0x3a9aea['border']['w']*_0x1cc200);const _0x46ff39=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x3a9aea['rect']['x']/_0x46ff39['width'],_0x3a9aea['rect']['y']/_0x46ff39['height'],_0x3a9aea['rect']['z']/_0x46ff39['width'],_0x3a9aea['rect']['w']/_0x46ff39['height']);const _0x53e9c8=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x5678d6=_0x3a9aea['rect']['z']/_0x53e9c8,_0x35f0e9=_0x3a9aea['rect']['w']/_0x53e9c8;this['_outerScal'+'e']['set'](Math['max'](_0x217d3d,this['_innerOffs'+'et']['x']*_0x5678d6),Math['max'](_0x1f61b9,this['_innerOffs'+'et']['y']*_0x35f0e9));let _0x291317=_0x5678d6,_0x4a1a05=_0x35f0e9;this['_outerScal'+'e']['x']/=_0x5678d6,this['_outerScal'+'e']['y']/=_0x35f0e9,_0x291317*=Y['clamp'](_0x217d3d/(this['_innerOffs'+'et']['x']*_0x5678d6),0x1*0x574+-0x1*0x1e3a+-0xc63*-0x2+0.0001,0x20eb+-0x2402+-0xc*-0x42),_0x4a1a05*=Y['clamp'](_0x1f61b9/(this['_innerOffs'+'et']['y']*_0x35f0e9),-0x224a+0x1b29+-0x721*-0x1+0.0001,-0x13*0x1+0x1b8a+-0x1b76),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][0xbf*0x16+0x2*0x870+-0x214a]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x19ed+-0x3*-0x202+0x13e8]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0xc29+0x9*-0x3be+0x2dd9]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x19c2+-0x22*-0xa4+0x3fd]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x25e8+0x2*-0x663+-0x2*0xc91]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x1fc0+0x1619*0x1+0x6*0x19c]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x7d6+-0x194d+0x2125]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0xb*-0x90+-0x1d51+0x2384]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][-0x133c*0x1+-0x959*0x3+0x2f47*0x1]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x1707+0x1*0x1cdc+-0x33e2]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x291317,_0x4a1a05,0x173*-0xa+-0x9bb+0x183a*0x1),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((0x1d1f+-0x88a*-0x1+-0x25a9+0.5-_0x10cd09['pivot']['x'])*_0x217d3d,(-0x1d7+-0xef*-0x19+-0x1580+0.5-_0x10cd09['pivot']['y'])*_0x1f61b9,0x4cf*-0x7+-0x15*0x162+-0x8f5*-0x7));}else{const _0x330135=_0x11c4cc['vertexBuff'+'er'],_0x2875b6=new Float32Array(_0x330135['lock']()),_0x2154f4=_0x10cd09['pivot']['x'],_0xa022a0=_0x10cd09['pivot']['y'];_0x2875b6[-0xc90+0x1*0xc25+0x6b]=_0x217d3d-_0x2154f4*_0x217d3d,_0x2875b6[-0x1e8f*-0x1+0x1f8b*0x1+0x1*-0x3e19]=-0x5*0x23f+-0xffe+0x1b39-_0xa022a0*_0x1f61b9,_0x2875b6[-0x4*0xc7+-0x13e7+0x170b]=_0x217d3d-_0x2154f4*_0x217d3d,_0x2875b6[0x1c5d*0x1+-0x1*0x1360+-0x8f4]=_0x1f61b9-_0xa022a0*_0x1f61b9,_0x2875b6[0x1566+-0x551+-0x1005]=0x1c69+-0x1c2d+-0x3c-_0x2154f4*_0x217d3d,_0x2875b6[-0x175*-0x7+-0x235b+0x1939]=-0x2385+-0x2177+0x14*0x373-_0xa022a0*_0x1f61b9,_0x2875b6[-0x9f6+0x6b3*0x1+-0x35b*-0x1]=-0xb48+0x1bc*-0x6+0x15b0-_0x2154f4*_0x217d3d,_0x2875b6[0x1cd4+0x626+0x22e1*-0x1]=_0x1f61b9-_0xa022a0*_0x1f61b9;let _0x16c869=-0x1*-0x17b9+-0x1*0xbf2+-0xbc6,_0xb64bee=-0x22a4+0x20ea+0x1bb*0x1,_0x666603=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x35fc6f=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x35fc6f&&(_0x666603=_0x35fc6f['rect'],_0x16c869=this['_sprite']['atlas']['texture']['width'],_0xb64bee=this['_sprite']['atlas']['texture']['height']);}_0x2875b6[0x1882+-0x3*-0x218+-0x2cc*0xb]=(_0x666603['x']+_0x666603['z'])/_0x16c869,_0x2875b6[0xbb*-0x3+0xc02+0x4e5*-0x2]=0x6e0+0x8cb+-0x5*0x322-_0x666603['y']/_0xb64bee,_0x2875b6[0x2671+0x13*-0x1c3+-0x11*0x4a]=(_0x666603['x']+_0x666603['z'])/_0x16c869,_0x2875b6[-0x2280+-0x22c6+0x4555]=0x246b*-0x1+0x1c2e+0x5*0x1a6-(_0x666603['y']+_0x666603['w'])/_0xb64bee,_0x2875b6[-0xe5d+0x1b32*0x1+-0xcbf]=_0x666603['x']/_0x16c869,_0x2875b6[-0x16f*0xc+-0x1*-0x180d+0x6c2*-0x1]=0x60a+-0x474*0x3+0x5*0x177-_0x666603['y']/_0xb64bee,_0x2875b6[-0x29*-0x1f+-0x21fc+0x1d23]=_0x666603['x']/_0x16c869,_0x2875b6[-0x1*0x2d5+0x1a85+-0x1791]=0x1091*0x2+0x6d7*0x1+0x9fe*-0x4-(_0x666603['y']+_0x666603['w'])/_0xb64bee,_0x330135['unlock']();const _0x5ae401=new D(-0x1*0xed5+0x6d*0x25+-0x4*0x3b-_0x2154f4*_0x217d3d,-0x7b2+-0xde2*-0x1+-0x84*0xc-_0xa022a0*_0x1f61b9,-0x161*0x3+0x15*0xfb+-0x1074),_0x25e4ee=new D(_0x217d3d-_0x2154f4*_0x217d3d,_0x1f61b9-_0xa022a0*_0x1f61b9,0x1*0x1115+0x8*-0x2d1+-0x2d*-0x1f);_0x11c4cc['aabb']['setMinMax'](_0x5ae401,_0x25e4ee),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](-0x9*0x24f+0x1*0x1c7b+-0x7b3,-0x2568+0x1546+0x1023,-0x1aac*-0x1+-0x1585+0x526*-0x1),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](-0x4a+0x1dc7+-0x1d7d,-0x1de8+-0x6*0x1c3+0x287a,-0x145*0xd+-0x1*-0x1d45+-0x2*0x662),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(-0x1*0x1b25+0x757*0x2+0x3*0x428);}['_updateSpr'+'ite'](){let _0x42c684=!(0x47*0x83+0x1b*0xb6+0x1*-0x3786),_0x408430=null;if(this['_targetAsp'+'ectRatio']=-(-0x24c2+-0x270*0x4+0x2e83),this['_sprite']&&this['_sprite']['atlas']){_0x408430=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x42c684=this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt;const _0x381126=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x381126==null?void(0x240b*-0x1+-0x2be+0x26c9*0x1):_0x381126['rect']['w'])>-0x19b6+-0x137*0xd+0x1*0x2981&&(this['_targetAsp'+'ectRatio']=_0x381126['rect']['z']/_0x381126['rect']['w']);}this['mesh']=_0x42c684?_0x408430:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x1*0xd6f+-0x1*-0x1c52+-0x1fd*0x15):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x4625a7){return _0x4625a7['center']['set'](-0xf06+0x1ca6+0xda*-0x10,-0x1ad5+0x232f+0x85a*-0x1,-0xf9d*-0x1+0x1cb5*-0x1+0xd18),_0x4625a7['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x4*-0x575+-0x5*0xff+-0x10d9+0.5),this['_outerScal'+'e']['y']*(0xf17*-0x1+0x175*-0xa+0x1*0x1da9+0.5),0x2480+-0x21d4+-0x2ac+0.001),_0x4625a7['setFromTra'+'nsformedAa'+'bb'](_0x4625a7,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x4625a7;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x4553db=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x4553db),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x37095f){this['material']=_0x37095f['resource'];}['_onMateria'+'lAdded'](_0x2578e4){this['_system']['app']['assets']['off']('add:'+_0x2578e4['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x2578e4['id']&&this['_bindMater'+'ialAsset'](_0x2578e4);}['_bindMater'+'ialAsset'](_0x2fa1cd){this['_entity']['enabled']&&(_0x2fa1cd['on']('load',this['_onMateria'+'lLoad'],this),_0x2fa1cd['on']('change',this['_onMateria'+'lChange'],this),_0x2fa1cd['on']('remove',this['_onMateria'+'lRemove'],this),_0x2fa1cd['resource']?this['_onMateria'+'lLoad'](_0x2fa1cd):this['_system']['app']['assets']['load'](_0x2fa1cd));}['_unbindMat'+'erialAsset'](_0x2c1248){_0x2c1248['off']('load',this['_onMateria'+'lLoad'],this),_0x2c1248['off']('change',this['_onMateria'+'lChange'],this),_0x2c1248['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x42c0bf){this['_system']['app']['assets']['off']('add:'+_0x42c0bf['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x42c0bf['id']&&this['_bindTextu'+'reAsset'](_0x42c0bf);}['_bindTextu'+'reAsset'](_0x26a3a5){this['_entity']['enabled']&&(_0x26a3a5['on']('load',this['_onTexture'+'Load'],this),_0x26a3a5['on']('change',this['_onTexture'+'Change'],this),_0x26a3a5['on']('remove',this['_onTexture'+'Remove'],this),_0x26a3a5['resource']?this['_onTexture'+'Load'](_0x26a3a5):this['_system']['app']['assets']['load'](_0x26a3a5));}['_unbindTex'+'tureAsset'](_0x283baf){_0x283baf['off']('load',this['_onTexture'+'Load'],this),_0x283baf['off']('change',this['_onTexture'+'Change'],this),_0x283baf['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x86bf18){this['texture']=_0x86bf18['resource'];}['_onTexture'+'Change'](_0x12262e){}['_onTexture'+'Remove'](_0x69f8f2){}['_onSpriteA'+'ssetAdded'](_0x565414){this['_system']['app']['assets']['off']('add:'+_0x565414['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x565414['id']&&this['_bindSprit'+'eAsset'](_0x565414);}['_bindSprit'+'eAsset'](_0x484811){this['_entity']['enabled']&&(_0x484811['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x484811['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x484811['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x484811['resource']?this['_onSpriteA'+'ssetLoad'](_0x484811):this['_system']['app']['assets']['load'](_0x484811));}['_unbindSpr'+'iteAsset'](_0xb5c569){_0xb5c569['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0xb5c569['off']('change',this['_onSpriteA'+'ssetChange'],this),_0xb5c569['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0xb5c569['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0xb5c569['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x3085d0){if(!_0x3085d0||!_0x3085d0['resource'])this['sprite']=null;else{if(_0x3085d0['resource']['atlas'])this['sprite']=_0x3085d0['resource'];else{const _0x34f64a=_0x3085d0['data']['textureAtl'+'asAsset'];if(_0x34f64a){const _0xfd14bc=this['_system']['app']['assets'];_0xfd14bc['off']('load:'+_0x34f64a,this['_onTexture'+'AtlasLoad'],this),_0xfd14bc['once']('load:'+_0x34f64a,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x42af10){this['_onSpriteA'+'ssetLoad'](_0x42af10);}['_onSpriteA'+'ssetRemove'](_0x4c7f32){}['_bindSprit'+'e'](_0x44d44b){this['_evtSetMes'+'hes']=_0x44d44b['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x44d44b['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x44d44b['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x44d44b['atlas']&&_0x44d44b['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x2182f4){var _0x488c4d;(_0x488c4d=this['_evtSetMes'+'hes'])==null||_0x488c4d['off'](),this['_evtSetMes'+'hes']=null,_0x2182f4['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x2182f4['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x2182f4['atlas']&&_0x2182f4['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],0x237b+-0x135d+-0x101e,this['_sprite']['frameKeys']['length']-(0x863+-0x1717+0xeb5))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==ci&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x5ba00b){const _0x42edd5=this['_spriteAss'+'et'];_0x42edd5 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x42edd5):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x42edd5));}['onEnable'](){if(this['_materialA'+'sset']){const _0x37d705=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x37d705&&_0x37d705['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x37d705);}if(this['_textureAs'+'set']){const _0x559a4c=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x559a4c&&_0x559a4c['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x559a4c);}if(this['_spriteAss'+'et']){const _0x1c87e7=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x1c87e7&&_0x1c87e7['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x1c87e7);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x5c3b2c){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x5c3b2c,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x5c3b2c;let _0x1cf94b=-0xe*0x24a+-0xd6c+-0xc2*-0x3c;if(this['_element']['maskedBy']&&(_0x1cf94b=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x28d34c=new pi({'ref':_0x1cf94b+(-0x455+-0x14e4+0x193a),'func':dh,'zpass':Bx});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x28d34c,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x28d34c;}}['_updateRen'+'derableEmi'+'ssive'](){Ec['linear'](this['_color']),this['_colorUnif'+'orm'][-0x11d4+-0x182+0x1356]=Ec['r'],this['_colorUnif'+'orm'][-0x119*-0x1f+0x5*0xf6+-0x1f1*0x14]=Ec['g'],this['_colorUnif'+'orm'][0xa0c+0x10bf+-0x1ac9]=Ec['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x3aa17c){this['_color']===_0x3aa17c&&w['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x444e1a,g:_0x156f71,b:_0x47f166}=_0x3aa17c;(this['_color']['r']!==_0x444e1a||this['_color']['g']!==_0x156f71||this['_color']['b']!==_0x47f166)&&(this['_color']['r']=_0x444e1a,this['_color']['g']=_0x156f71,this['_color']['b']=_0x47f166,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x14f6a0){_0x14f6a0!==this['_color']['a']&&(this['_color']['a']=_0x14f6a0,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x14f6a0)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x14f6a0);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x50d4db){this['_rect']===_0x50d4db&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x3b9c53,_0x322f1d,_0x142d45,_0x24e9c5;_0x50d4db instanceof re?(_0x3b9c53=_0x50d4db['x'],_0x322f1d=_0x50d4db['y'],_0x142d45=_0x50d4db['z'],_0x24e9c5=_0x50d4db['w']):(_0x3b9c53=_0x50d4db[0x3*-0x871+0xd60+-0x17*-0x85],_0x322f1d=_0x50d4db[0x1e42+-0x1*0x100f+0xe32*-0x1],_0x142d45=_0x50d4db[0x2*0xb31+0x6c1+-0x1*0x1d21],_0x24e9c5=_0x50d4db[0xc2c+-0x52*-0x45+0x1*-0x2243]),!(_0x3b9c53===this['_rect']['x']&&_0x322f1d===this['_rect']['y']&&_0x142d45===this['_rect']['z']&&_0x24e9c5===this['_rect']['w'])&&(this['_rect']['set'](_0x3b9c53,_0x322f1d,_0x142d45,_0x24e9c5),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0xc5b+0x1883+-0x3*0xc4a):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x4c6135=this['_system']['app']['assets'];_0x4c6135['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x50d67a=_0x4c6135['get'](this['_materialA'+'sset']);_0x50d67a&&(_0x50d67a['off']('load',this['_onMateria'+'lLoad'],this),_0x50d67a['off']('change',this['_onMateria'+'lChange'],this),_0x50d67a['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x2cd656){if(this['_material']!==_0x2cd656){if(!_0x2cd656){const _0x4a1444=this['_element']['_isScreenS'+'pace']();this['mask']?_0x2cd656=_0x4a1444?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x2cd656=_0x4a1444?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x2cd656,this['_materialA'+'sset']){const _0x2e1376=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x2e1376||_0x2e1376['resource']!==_0x2cd656)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x2cd656&&(this['_renderabl'+'e']['setMateria'+'l'](_0x2cd656),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x160b60){const _0x10ccea=this['_system']['app']['assets'];let _0x4ae7c0=_0x160b60;if(_0x160b60 instanceof pe&&(_0x4ae7c0=_0x160b60['id']),this['_materialA'+'sset']!==_0x4ae7c0){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x4ae7c0,this['_materialA'+'sset']){const _0x2558fe=_0x10ccea['get'](this['_materialA'+'sset']);_0x2558fe?this['_bindMater'+'ialAsset'](_0x2558fe):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x4ae7c0,_0x10ccea['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x4ae7c0;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x6710cc){if(this['_texture']!==_0x6710cc){if(this['_textureAs'+'set']){const _0x31c2ba=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x31c2ba&&_0x31c2ba['resource']!==_0x6710cc&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x6710cc,_0x6710cc){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x16742d=this['_texture']['width']/this['_texture']['height'];_0x16742d!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x16742d,this['_element']['fitMode']!==th&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(-0x177d+-0x3*0x935+-0x5*-0xa39),this['_element']['fitMode']!==th&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x2fb4d0){const _0x25ac59=this['_system']['app']['assets'];let _0x29326e=_0x2fb4d0;if(_0x2fb4d0 instanceof pe&&(_0x29326e=_0x2fb4d0['id']),this['_textureAs'+'set']!==_0x29326e){if(this['_textureAs'+'set']){_0x25ac59['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x42d887=_0x25ac59['get'](this['_textureAs'+'set']);_0x42d887&&(_0x42d887['off']('load',this['_onTexture'+'Load'],this),_0x42d887['off']('change',this['_onTexture'+'Change'],this),_0x42d887['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x29326e,this['_textureAs'+'set']){const _0x4fd3be=_0x25ac59['get'](this['_textureAs'+'set']);_0x4fd3be?this['_bindTextu'+'reAsset'](_0x4fd3be):(this['texture']=null,_0x25ac59['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x288f77){const _0x493dfe=this['_system']['app']['assets'];let _0x2d5190=_0x288f77;if(_0x288f77 instanceof pe&&(_0x2d5190=_0x288f77['id']),this['_spriteAss'+'et']!==_0x2d5190){if(this['_spriteAss'+'et']){_0x493dfe['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x346906=_0x493dfe['get'](this['_spriteAss'+'et']);_0x346906&&this['_unbindSpr'+'iteAsset'](_0x346906);}if(this['_spriteAss'+'et']=_0x2d5190,this['_spriteAss'+'et']){const _0x347974=_0x493dfe['get'](this['_spriteAss'+'et']);_0x347974?this['_bindSprit'+'eAsset'](_0x347974):(this['sprite']=null,_0x493dfe['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x2d5190);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x14617c){if(this['_sprite']!==_0x14617c){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x4f0cb0=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x4f0cb0&&_0x4f0cb0['resource']!==_0x14617c&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x14617c,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],0x3*-0x92e+0x1b7b+-0x1*-0xf,this['_sprite']['frameKeys']['length']-(-0x1994+0x4d*0x79+-0x4*0x2b4))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x16e10d){const _0x48d6b4=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=Y['clamp'](_0x16e10d,0x1*0x252d+-0x1d*0x14b+0x52*0x1,this['_sprite']['frameKeys']['length']-(0x1*0x17ab+-0x1877+0xcd)):this['_spriteFra'+'me']=_0x16e10d,this['_spriteFra'+'me']!==_0x48d6b4&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x16e10d);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x48fde0){this['_renderabl'+'e']['setMesh'](_0x48fde0),this['_defaultMe'+'sh']===_0x48fde0?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x1390fe){this['_mask']!==_0x1390fe&&(this['_mask']=_0x1390fe,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x5224aa){this['_pixelsPer'+'Unit']!==_0x5224aa&&(this['_pixelsPer'+'Unit']=_0x5224aa,this['_sprite']&&(this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class hR extends me{constructor(_0x4582d6){super(),this['_app']=_0x4582d6,_0x4582d6['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['_autoLoad']=!(0x2306+0xf0b+-0x3210),this['_disableLo'+'calization']=!(-0x1c59+0x7f6+-0x74*-0x2d),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x1d2ce8){const _0xb68ffc=_0x1d2ce8 instanceof pe?_0x1d2ce8['id']:_0x1d2ce8;this['_defaultAs'+'set']!==_0xb68ffc&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0xb68ffc,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x57dc3f){const _0x23299c=_0x57dc3f instanceof pe?_0x57dc3f['id']:_0x57dc3f;this['_localized'+'Asset']!==_0x23299c&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x23299c,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x249369){this['_autoLoad']!==_0x249369&&(this['_autoLoad']=_0x249369,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x4a2194){this['_disableLo'+'calization']!==_0x4a2194&&(this['_disableLo'+'calization']=_0x4a2194,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x5b5f11=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x5b5f11?this['_onDefault'+'AssetAdd'](_0x5b5f11):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x2a2390=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x2a2390&&(_0x2a2390['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x2a2390['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x2a2390['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x5ce44f){this['_defaultAs'+'set']===_0x5ce44f['id']&&(_0x5ce44f['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x5ce44f['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x5ce44f['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x420406){this['_defaultAs'+'set']===_0x420406['id']&&(_0x420406['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x420406['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x203d47=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x203d47&&(_0x203d47['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x203d47['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x203d47['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x203d47['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x203d47):this['_app']['assets']['load'](_0x203d47));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x6fea64=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x6fea64&&(_0x6fea64['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x6fea64['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x6fea64['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x5c9d3c){this['_localized'+'Asset']===_0x5c9d3c['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x55fff4){this['fire']('load',_0x55fff4);}['_onLocaliz'+'edAssetCha'+'nge'](_0x1d0611,_0x3ced17,_0x133df0,_0x32c927){this['fire']('change',_0x1d0611,_0x3ced17,_0x133df0,_0x32c927);}['_onLocaliz'+'edAssetRem'+'ove'](_0x13f6c2){this['_localized'+'Asset']===_0x13f6c2['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x13f6c2);}['_onLocaleA'+'dd'](_0x50baf3,_0x8d99a6){this['_app']['i18n']['locale']===_0x50baf3&&this['_onSetLoca'+'le'](_0x50baf3);}['_onLocaleR'+'emove'](_0x5ec667,_0x308053){this['_app']['i18n']['locale']===_0x5ec667&&this['_onSetLoca'+'le'](_0x5ec667);}['_onSetLoca'+'le'](_0xb33baa){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x100f05=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x100f05||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x2e095c=_0x100f05['getLocaliz'+'edAssetId'](_0xb33baa);if(!_0x2e095c){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x2e095c;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['off']();}}const Rh='msdf',dR='bitmap',Mo=-0x1b8+0x19a*-0xd+-0x2*-0xb45,an=0x20a1+-0x2e*-0x5+0x7*-0x4ca,Du=0x1*-0x1052+-0x103f+-0x1f*-0x10d,Zv=0x23a6+-0x212a+0xd3*-0x3,Iu=-0x9fb*0x1+-0x277+0xc76,Lu=-0x266*-0xa+-0x224d+0xa56,Ru=0x23c9*-0x1+-0x1*0x18fb+0x3cca*0x1,Ou=-0xd87+0x1707+-0x1e5*0x5,Xg=-0xea3+0xbcb*-0x2+-0x577*-0x7,fR='\x20\x09\x0a\x0d\x0b\x0c',uR=/[\w|/]/;class pR{constructor(_0x1eba39){this['_symbols']=_0x1eba39,this['_index']=-0xe1+-0x1ad1+0x1bb2,this['_last']=0x1e55+0x13a6+-0x31fb,this['_cur']=this['_symbols']['length']>0x24c5+-0xc25+-0x18a0?this['_symbols'][0x795+0xe*-0x211+0x1559]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x36abc8=this['_read']();for(;_0x36abc8===Xg;)_0x36abc8=this['_read']();return _0x36abc8!==Mo&&_0x36abc8!==an&&(this['_last']=this['_index']),_0x36abc8;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x5c95e0=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x101686=this['read'](),_0x46d6d7='';for(;_0x46d6d7+=(_0x46d6d7['length']>0x1*-0x20a5+0x16b6+0x9ef?'\x0a':'')+_0x5c95e0[_0x101686]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x101686===Mo||_0x101686===an);)_0x101686=this['read']();return _0x46d6d7;}['_read'](){return this['_buf']=[],this['_eof']()?Mo:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>0xd04*0x3+-0x3f8+0x118a*-0x2?Du:Mo;case'[':return this['_mode']='tag',this['_buf']['length']>0x245f+-0x11b6*-0x2+-0x47cb?Du:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',an;case'[':return this['_store'](),Zv;case']':return this['_store'](),this['_mode']='text',Iu;case'=':return this['_store'](),Lu;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',an);}}['_whitespac'+'e'](){for(this['_store']();fR['indexOf'](this['_cur'])!==-(-0x1*-0xcc7+0x7c6+-0x148c);)this['_store']();return Xg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',an;case'\x22':return this['_next'](),Ru;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return Ou;}['_isIdentif'+'ierSymbol'](_0x4df6bb){return _0x4df6bb['length']===-0xf68*-0x1+-0x131d*0x2+0x16d3*0x1&&_0x4df6bb['match'](uR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x206b10){this['_buf']['push'](_0x206b10);}}class mR{constructor(_0x4ff87a){this['_scanner']=new pR(_0x4ff87a),this['_error']=null;}['parse'](_0x4f638a,_0xd34c79){for(;;)switch(this['_scanner']['read']()){case Mo:return!(0x71c+0x21ea+0x1*-0x2906);case an:return!(0xd29*-0x2+-0x2169+0x2*0x1dde);case Du:Array['prototype']['push']['apply'](_0x4f638a,this['_scanner']['buf']());break;case Zv:if(!this['_parseTag'](_0x4f638a,_0xd34c79))return!(0x1*0x24e6+0x1999+0x1f3f*-0x2);break;default:return!(0x23fb*0x1+0x4a7+-0x28a1);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x350490,_0x1d8029){let _0x1a1f8f=this['_scanner']['read']();if(_0x1a1f8f!==Ou)return this['_error']='expected\x20i'+'dentifier',!(-0x79b+0x560+0x23c);const _0x34da78=this['_scanner']['buf']()['join']('');if(_0x34da78[-0x397*-0x2+-0xfdc*-0x1+-0x170a]==='/'){for(let _0x2995a1=_0x1d8029['length']-(-0x4*-0x7f4+0x2396+-0x4365);_0x2995a1>=-0x1*-0x21eb+-0x1f97+-0x254;--_0x2995a1)if(_0x34da78==='/'+_0x1d8029[_0x2995a1]['name']&&_0x1d8029[_0x2995a1]['end']===null)return _0x1d8029[_0x2995a1]['end']=_0x350490['length'],_0x1a1f8f=this['_scanner']['read'](),_0x1a1f8f!==Iu?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0x2*0x8f+-0x1*-0x579+-0x2*0x22d)):!(0x1057*0x1+-0x2321+-0xd*-0x172);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(-0x7a*-0x1+0xd67+-0xde0);}const _0x14480b={'name':_0x34da78,'value':null,'attributes':{},'start':_0x350490['length'],'end':null};if(_0x1a1f8f=this['_scanner']['read'](),_0x1a1f8f===Lu){if(_0x1a1f8f=this['_scanner']['read'](),_0x1a1f8f!==Ru)return this['_error']='expected\x20s'+'tring',!(0xb85+-0xfd7+0x171*0x3);_0x14480b['value']=this['_scanner']['buf']()['join'](''),_0x1a1f8f=this['_scanner']['read']();}for(;;){switch(_0x1a1f8f){case Iu:return _0x1d8029['push'](_0x14480b),!(0x1*-0x1fbb+-0x9*0x23b+-0x26*-0x15d);case Ou:{const _0x9e4881=this['_scanner']['buf']()['join']('');if(_0x1a1f8f=this['_scanner']['read'](),_0x1a1f8f!==Lu)return this['_error']='expected\x20e'+'quals',!(-0x104+0x26*0x2f+-0x3d*0x19);if(_0x1a1f8f=this['_scanner']['read'](),_0x1a1f8f!==Ru)return this['_error']='expected\x20s'+'tring',!(0x3*-0x68f+0x1ad5+-0x727);const _0x5b9919=this['_scanner']['buf']()['join']('');_0x14480b['attributes'][_0x9e4881]=_0x5b9919;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(-0x25be+-0x2*-0x986+-0x1*-0x12b3);}_0x1a1f8f=this['_scanner']['read']();}}}function Qv(_0x58e18f,_0x7a8261){for(const _0x50862f in _0x7a8261){if(!_0x7a8261['hasOwnProp'+'erty'](_0x50862f))continue;const _0x54ee16=_0x7a8261[_0x50862f];_0x54ee16 instanceof Object?(_0x58e18f['hasOwnProp'+'erty'](_0x50862f)||(_0x58e18f[_0x50862f]={}),Qv(_0x58e18f[_0x50862f],_0x7a8261[_0x50862f])):_0x58e18f[_0x50862f]=_0x54ee16;}}function _R(_0x3e484c){if(_0x3e484c['length']===0x2310+-0x419*0x6+-0x3*0x37e)return null;const _0x2b56d2={};for(let _0x165695=0x1*0x17a5+0x1ab1+-0x3256;_0x165695<_0x3e484c['length'];++_0x165695){const _0xd44444=_0x3e484c[_0x165695],_0x43b6ed={};_0x43b6ed[_0xd44444['name']]={'value':_0xd44444['value'],'attributes':_0xd44444['attributes']},Qv(_0x2b56d2,_0x43b6ed);}return _0x2b56d2;}function gR(_0x30029f,_0xdc915f){if(_0x30029f['length']===-0x11fd+-0xcd7*0x2+-0x2bab*-0x1)return null;const _0x220dcd={};for(let _0x10347e=0x21d4*-0x1+-0x11cf+-0x33a3*-0x1;_0x10347e<_0x30029f['length'];++_0x10347e){const _0x576102=_0x30029f[_0x10347e];_0x220dcd['hasOwnProp'+'erty'](_0x576102['start'])?_0x220dcd[_0x576102['start']]['open']===null?_0x220dcd[_0x576102['start']]['open']=[_0x576102]:_0x220dcd[_0x576102['start']]['open']['push'](_0x576102):_0x220dcd[_0x576102['start']]={'open':[_0x576102],'close':null},_0x220dcd['hasOwnProp'+'erty'](_0x576102['end'])?_0x220dcd[_0x576102['end']]['close']===null?_0x220dcd[_0x576102['end']]['close']=[_0x576102]:_0x220dcd[_0x576102['end']]['close']['push'](_0x576102):_0x220dcd[_0x576102['end']]={'open':null,'close':[_0x576102]};}let _0x46b36b=[];function _0x1a625b(_0xaea94f){_0x46b36b=_0x46b36b['filter'](_0x590eff=>_0xaea94f['find'](_0x1f874e=>_0x1f874e===_0x590eff)===void(-0x4*-0xf9+0xd8+-0x4bc));}function _0x244179(_0x39840f){for(let _0x374f23=0x803+0x18bd+0x20c*-0x10;_0x374f23<_0x39840f['length'];++_0x374f23)_0x46b36b['push'](_0x39840f[_0x374f23]);}const _0x4fc700=Object['keys'](_0x220dcd)['sort']((_0x5d7574,_0x6e739a)=>_0x5d7574-_0x6e739a),_0x51234f=[];for(let _0x4e0d18=0x1*0xc7+0x1*-0x2e1+0x10d*0x2;_0x4e0d18<_0x4fc700['length'];++_0x4e0d18){const _0x17bad5=_0x220dcd[_0x4fc700[_0x4e0d18]];_0x17bad5['close']!==null&&_0x1a625b(_0x17bad5['close']),_0x17bad5['open']!==null&&_0x244179(_0x17bad5['open']),_0x51234f['push']({'start':_0x4fc700[_0x4e0d18],'tags':_R(_0x46b36b)});}const _0x387a5b=[];let _0x493e45=null;for(let _0x58f70c=0x4*-0x89e+0x4*0x94f+-0x2c4;_0x58f70c<_0x51234f['length'];++_0x58f70c){const _0x570135=_0x51234f[_0x58f70c];for(;_0x387a5b['length']<_0x570135['start'];)_0x387a5b['push'](_0x493e45?_0x493e45['tags']:null);_0x493e45=_0x570135;}for(;_0x387a5b['length']<_0xdc915f;)_0x387a5b['push'](null);return _0x387a5b;}function SR(_0x5d1dda){const _0x493b10=new mR(_0x5d1dda),_0x2b46a5=[],_0x54586b=[];if(!_0x493b10['parse'](_0x2b46a5,_0x54586b))return console['warn'](_0x493b10['error']()),{'symbols':_0x5d1dda,'tags':null};const _0x3165d0=_0x54586b['find'](_0x1ef0dc=>_0x1ef0dc['end']===null);if(_0x3165d0)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x3165d0['name']+'\x27'),{'symbols':_0x5d1dda,'tags':null};const _0x18715a=gR(_0x54586b,_0x2b46a5['length']);return{'symbols':_0x2b46a5,'tags':_0x18715a};}class yR{static['evaluate'](_0x45fc2c){return SR(_0x45fc2c);}}class vR{constructor(){this['count']=-0x4a*-0x30+-0x7*-0x349+-0x24df,this['quad']=-0x1445+0x1*0x4b7+-0x16*-0xb5,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function xR(_0x33f988,_0xd79f94){const _0x5892cc=new Ge(_0x33f988);return _0x5892cc['setPositio'+'ns'](_0xd79f94['positions']),_0x5892cc['setNormals'](_0xd79f94['normals']),_0x5892cc['setColors3'+'2'](_0xd79f94['colors']),_0x5892cc['setUvs'](-0xfb*-0x13+0x1514+-0x27b5,_0xd79f94['uvs']),_0x5892cc['setIndices'](_0xd79f94['indices']),_0x5892cc['setVertexS'+'tream'](Ko,_0xd79f94['outlines'],-0x26cf+0x11e3+-0x1*-0x14ef,void(-0x223a+0x2249+-0xf),Ve,!(0x1d3*-0x13+-0x1aee+0x3d98)),_0x5892cc['setVertexS'+'tream'](Zo,_0xd79f94['shadows'],0xd6f*-0x2+0x22d*0xd+-0x168,void(0x24f*-0xf+-0x4ee+0x278f),Ve,!(-0x12ad+-0xab*-0x2e+-0xc0c)),_0x5892cc['update'](),_0x5892cc;}const qg=/^[\r\n]$/,TR=/^[ \t]$/,jg=/^[ \t\-]|\u200b$/,wR=/^[a-z0-9]$/i,Yg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,ER=/^[]$/,bR=['','','','','','','','','','','','',''],AR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},Kg=new ie(),CR=new J(),We=new ie();class PR{constructor(_0x35006e){this['_element']=_0x35006e,this['_system']=_0x35006e['system'],this['_entity']=_0x35006e['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new hR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(-0x1*-0x17e9+0x220+-0x1a09),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new ie(0x1*-0x5b7+-0x1bcd+-0x1*-0x2185,0x5d*0x67+0x4*0x7ca+-0x43*0x106,-0x1*-0x269f+-0x10d8*-0x1+-0x3776,0x1888+-0x1277+0x308*-0x2),this['_colorUnif'+'orm']=new Float32Array(-0x25a7+0x1*0x25f3+-0x49),this['_spacing']=-0x49*-0x1d+-0x15d*0x2+-0x58a,this['_fontSize']=-0x23e*-0x11+-0x12*0x157+0x25*-0x60,this['_fontMinY']=-0x75*0x53+0x24b8+0x137,this['_fontMaxY']=-0x93c*0x1+0x1699+0x1*-0xd5d,this['_originalF'+'ontSize']=-0x1*-0x1764+-0xb*0x24d+-0x1*-0x20b,this['_maxFontSi'+'ze']=0x24e0+-0x3b*-0x65+0xb*-0x575,this['_minFontSi'+'ze']=-0x2*-0xef4+-0x24bf*-0x1+-0x429f,this['_autoFitWi'+'dth']=!(0xb8c*0x1+-0x14d8+-0x1*-0x94d),this['_autoFitHe'+'ight']=!(-0x1d5*0xe+0x251a+-0xb73*0x1),this['_maxLines']=-(-0xe2*0x3+-0x4b*0x1+0x1d*0x1a),this['_lineHeigh'+'t']=-0x46+-0x1ab5+-0x9*-0x303,this['_scaledLin'+'eHeight']=0x23a1+-0x1*0x6a3+-0x1cde,this['_wrapLines']=!(0x1dc+0xf4*0x22+0x31*-0xb3),this['_drawOrder']=0x4a*-0x1d+-0x1b1*0x3+0xd75,this['_alignment']=new J(-0x1e46+-0x216b+0x3fb1+0.5,0x1205+0x3*0x30e+-0x1b2f+0.5),this['_autoWidth']=!(-0x22e8+0x2*0x6df+0xe*0x183),this['_autoHeigh'+'t']=!(0x5d1*-0x6+-0xd5a*-0x1+0x158c),this['width']=-0x17bd*-0x1+-0x1e18+0x1*0x65b,this['height']=0x1327+-0x1c22+0x8fb,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(0x25fa+0x817+-0x2e11),this['_aabb']=new De(),this['_noResize']=!(0x171c+0x2468+-0x3b83),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(-0x84d+-0x38d+0xbdb),this['_unicodeCo'+'nverter']=!(0x2320+0x3*-0x595+-0x930*0x2),this['_rtl']=!(-0x74*0x7+0x238+-0xf5*-0x1),this['_outlineCo'+'lor']=new ie(-0x62*-0x4f+-0xa3*0xc+-0xb*0x20e,0x1757+-0x1951+-0x2*-0xfd,0x9*-0x148+0x145a+-0x8d2,-0x8*-0x4d+-0x1*0x1c35+0x19ce),this['_outlineCo'+'lorUniform']=new Float32Array(-0x10e9+-0x1aa8*0x1+-0xe87*-0x3),this['_outlineTh'+'icknessSca'+'le']=0x1*-0x697+-0x2221+0x28b8+0.2,this['_outlineTh'+'ickness']=0x1*0x244d+0x29*0x6b+-0x3570,this['_shadowCol'+'or']=new ie(-0x82f*0x4+-0x75a*0x4+0x3e24*0x1,0x28d*-0x4+-0xaa9+0x7*0x2fb,0x9*-0x376+0x1185+0xda1,0x7bd+0x6e3+-0x1*0xe9f),this['_shadowCol'+'orUniform']=new Float32Array(0x31*-0x6d+-0x59*-0x59+-0xa10),this['_shadowOff'+'setScale']=0x13c5+0x1bf+-0x99*0x24+0.005,this['_shadowOff'+'set']=new J(0x1557+0x1*-0xfd4+-0x583,-0x685+-0x1d5d*0x1+0x23e2),this['_shadowOff'+'setUniform']=new Float32Array(0x77d+0x2*0x9c+0x11*-0x83),this['_enableMar'+'kup']=!(0xe8a+0x5b*0x25+0x2*-0xdd8),this['_onScreenC'+'hange'](this['_element']['screen']),_0x35006e['on']('resize',this['_onParentR'+'esize'],this),_0x35006e['on']('set:screen',this['_onScreenC'+'hange'],this),_0x35006e['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x35006e['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x35006e['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=0x2*0x159+-0x4*-0x20a+-0xada,this['_rangeEnd']=-0x21b7+0x8b4+0x1903;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x4e3009,_0x184118){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x4d08b0){_0x4d08b0?this['_updateMat'+'erial'](_0x4d08b0['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x1909*0x1+-0x1530+-0x2*-0x171d));}['_onScreenS'+'paceChange'](_0x5d1bec){this['_updateMat'+'erial'](_0x5d1bec);}['_onDrawOrd'+'erChange'](_0x252b94){if(this['_drawOrder']=_0x252b94,this['_model']){for(let _0x487bef=0x2e2+-0x2*0xda7+-0x1*-0x186c,_0x19fa44=this['_model']['meshInstan'+'ces']['length'];_0x487bef<_0x19fa44;_0x487bef++)this['_model']['meshInstan'+'ces'][_0x487bef]['drawOrder']=_0x252b94;}}['_onPivotCh'+'ange'](_0x1dbfeb){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x3b4020){if(this['_i18nKey']){if(this['fontAsset']){const _0x3ae327=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x3ae327||!_0x3ae327['resource']||_0x3ae327['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x5a15be,_0x1398d7){this['_i18nKey']&&_0x1398d7[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x153086){if(this['unicodeCon'+'verter']){const _0x3104a2=this['_system']['getUnicode'+'Converter']();_0x3104a2?_0x153086=_0x3104a2(_0x153086):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x153086&&(this['_font']&&this['_updateTex'+'t'](_0x153086),this['_text']=_0x153086);}['_updateTex'+'t'](_0x2f56f0){let _0x42196a;if(_0x2f56f0===void(-0x1276+-0x22d2*-0x1+-0x1*0x105c)&&(_0x2f56f0=this['_text']),this['_symbols']=Hc['getSymbols'](_0x2f56f0['normalize']?_0x2f56f0['normalize']('NFC'):_0x2f56f0),this['_symbols']['length']===-0x4*-0x916+-0x91e+-0x2*0xd9d&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x82137b=yR['evaluate'](this['_symbols']);this['_symbols']=_0x82137b['symbols'],_0x42196a=_0x82137b['tags']||[];}if(this['_rtlReorde'+'r']){const _0x37b76d=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x37b76d){const _0x1675a4=_0x37b76d(this['_symbols']);this['_rtl']=_0x1675a4['rtl'],this['_symbols']=_0x1675a4['mapping']['map'](function(_0x2e491a){return this['_symbols'][_0x2e491a];},this),_0x42196a&&(_0x42196a=_0x1675a4['mapping']['map'](_0x247c26=>_0x42196a[_0x247c26]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(0x7d*-0x47+0x4*0x771+-0x4*-0x13a);const _0x2182d2=(_0x3a85f3,_0x24a9c3)=>_0x3a85f3['toString'](!(0x94*0x9+0x1*0x52f+-0xa63))['toLowerCas'+'e']()+':'+_0x24a9c3['toFixed'](-0x16e1*-0x1+-0x1f9a+-0x3*-0x2e9),_0x3c632d=(_0x3eed88,_0x440b17)=>_0x3eed88['toString'](!(-0x810+0x5f+-0xb*-0xb3))['toLowerCas'+'e']()+':'+_0x440b17['x']['toFixed'](0x5ef*0x5+0x566*-0x3+0x47d*-0x3)+':'+_0x440b17['y']['toFixed'](-0x1df6+0x18d6+-0x522*-0x1);if(_0x42196a){const _0x974d27={},_0x32233a={},_0x1ea041={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(0xda+0x1c8e+-0x7*0x40f)),Math['round'](this['_color']['g']*(-0x3*0x6d7+0x4*0x713+0x2*-0x364)),Math['round'](this['_color']['b']*(0x1e33+-0xc6a+-0x10ca))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(-0xfb*0xa+-0x18cc+0x2399)),Math['round'](this['_outlineCo'+'lor']['g']*(-0x76*-0x1d+0x22d5*0x1+-0x7de*0x6)),Math['round'](this['_outlineCo'+'lor']['b']*(-0x1a0a+0x31*0x15+0x1704)),Math['round'](this['_outlineCo'+'lor']['a']*(0x2a*0x9d+-0x1a7+-0x171c)),Math['round'](this['_outlineTh'+'ickness']*(0x1fc+-0xb95+0x8*0x153))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(0x1231+0x610*0x6+-0x3592)),Math['round'](this['_shadowCol'+'or']['g']*(-0x8*-0x2d7+0x1321+-0x28da)),Math['round'](this['_shadowCol'+'or']['b']*(0x2*-0x995+-0x2548+0x3971)),Math['round'](this['_shadowCol'+'or']['a']*(-0x1c2e+0x252f+-0x802)),Math['round'](this['_shadowOff'+'set']['x']*(-0x1ce6*-0x1+0x176b+0x21*-0x192)),Math['round'](this['_shadowOff'+'set']['y']*(0x297*-0x5+0x32b*0x3+-0x1*-0x3f1))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x974d27[this['_color']['toString'](!(0xf3a+-0x14d5+-0x59c*-0x1))['toLowerCas'+'e']()]=0x476+-0x13af+-0x1b1*-0x9,_0x32233a[_0x2182d2(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0xdeb+-0x1d1b*-0x1+0x1*-0x2b06,_0x1ea041[_0x3c632d(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=-0x11e9+-0xa0f+0x1bf8;for(let _0x45bd57=-0x6*0x27f+-0x6b6*0x3+0x1ac*0x15,_0x298036=this['_symbols']['length'];_0x45bd57<_0x298036;++_0x45bd57){const _0x23b4f2=_0x42196a[_0x45bd57];let _0x4b3935=0x21da+-0x2*-0xbca+0x1cb7*-0x2;if(_0x23b4f2&&_0x23b4f2['color']&&_0x23b4f2['color']['value']){const _0x5ef3c0=_0x23b4f2['color']['value'];if(_0x5ef3c0['length']===0x1c0e+-0x26b4+-0x38f*-0x3&&_0x5ef3c0[-0x21*-0xd8+-0x8*-0x6b+-0x1f30]==='#'){const _0x5477bb=_0x5ef3c0['substring'](-0x20*0xec+0x23*0x40+0x21*0xa1)['toLowerCas'+'e']();_0x974d27['hasOwnProp'+'erty'](_0x5477bb)?_0x4b3935=_0x974d27[_0x5477bb]:/^[0-9a-f]{6}$/['test'](_0x5477bb)&&(_0x4b3935=this['_colorPale'+'tte']['length']/(-0x1b9b+-0x160b+0x31a9),_0x974d27[_0x5477bb]=_0x4b3935,this['_colorPale'+'tte']['push'](parseInt(_0x5477bb['substring'](-0x9d3+-0x860+0x1233,-0x10c9*0x2+-0x15ec+0x940*0x6),-0x13af*0x1+-0x44*-0x16+-0x1*-0xde7)),this['_colorPale'+'tte']['push'](parseInt(_0x5477bb['substring'](-0x95*-0x39+0x4b0+-0xb*0x371,-0x1974+0x30b*0x7+-0x1*-0x42b),-0x7*-0x155+0x11b*-0x4+-0x4d7)),this['_colorPale'+'tte']['push'](parseInt(_0x5477bb['substring'](0x78d*0x1+-0x1730+-0xfa7*-0x1,-0xbb2+-0xab8+0x1670*0x1),-0x2*-0x769+-0x2*-0x8c6+-0x204e)));}}this['_symbolCol'+'ors']['push'](_0x4b3935);let _0x1d348f=-0x34a*0x6+0x2*0xdab+0xe*-0x8b;if(_0x23b4f2&&_0x23b4f2['outline']&&(_0x23b4f2['outline']['attributes']['color']||_0x23b4f2['outline']['attributes']['thickness'])){let _0x4cb195=_0x23b4f2['outline']['attributes']['color']?Kg['fromString'](_0x23b4f2['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x10aded=Number(_0x23b4f2['outline']['attributes']['thickness']);(Number['isNaN'](_0x4cb195['r'])||Number['isNaN'](_0x4cb195['g'])||Number['isNaN'](_0x4cb195['b'])||Number['isNaN'](_0x4cb195['a']))&&(_0x4cb195=this['_outlineCo'+'lor']),Number['isNaN'](_0x10aded)&&(_0x10aded=this['_outlineTh'+'ickness']);const _0x15b3d9=_0x2182d2(_0x4cb195,_0x10aded);_0x32233a['hasOwnProp'+'erty'](_0x15b3d9)?_0x1d348f=_0x32233a[_0x15b3d9]:(_0x1d348f=this['_outlinePa'+'lette']['length']/(-0x171a*-0x1+0xffa+-0x38d*0xb),_0x32233a[_0x15b3d9]=_0x1d348f,this['_outlinePa'+'lette']['push'](Math['round'](_0x4cb195['r']*(-0xac*0x14+0x1d0f+0x4e0*-0x3)),Math['round'](_0x4cb195['g']*(0x170b+0x20f0+-0x36fc*0x1)),Math['round'](_0x4cb195['b']*(-0xf0d*0x2+0xe15+0x1104)),Math['round'](_0x4cb195['a']*(0x2ea*0xd+0x1a0e+-0x3ef1)),Math['round'](_0x10aded*(-0x16*0xd7+0x1989+-0x610))));}this['_symbolOut'+'lineParams']['push'](_0x1d348f);let _0x3c1269=0x17*-0x120+-0x65b*0x5+0x1*0x39a7;if(_0x23b4f2&&_0x23b4f2['shadow']&&(_0x23b4f2['shadow']['attributes']['color']||_0x23b4f2['shadow']['attributes']['offset']||_0x23b4f2['shadow']['attributes']['offsetX']||_0x23b4f2['shadow']['attributes']['offsetY'])){let _0x15abb8=_0x23b4f2['shadow']['attributes']['color']?Kg['fromString'](_0x23b4f2['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x3cc2aa=Number(_0x23b4f2['shadow']['attributes']['offset']),_0x449b5d=Number(_0x23b4f2['shadow']['attributes']['offsetX']),_0x2007c8=Number(_0x23b4f2['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x15abb8['r'])||Number['isNaN'](_0x15abb8['g'])||Number['isNaN'](_0x15abb8['b'])||Number['isNaN'](_0x15abb8['a']))&&(_0x15abb8=this['_shadowCol'+'or']);const _0x59cd0a=CR['set'](Number['isNaN'](_0x449b5d)?Number['isNaN'](_0x3cc2aa)?this['_shadowOff'+'set']['x']:_0x3cc2aa:_0x449b5d,Number['isNaN'](_0x2007c8)?Number['isNaN'](_0x3cc2aa)?this['_shadowOff'+'set']['y']:_0x3cc2aa:_0x2007c8),_0x1f8c7c=_0x3c632d(_0x15abb8,_0x59cd0a);_0x1ea041['hasOwnProp'+'erty'](_0x1f8c7c)?_0x3c1269=_0x1ea041[_0x1f8c7c]:(_0x3c1269=this['_shadowPal'+'ette']['length']/(-0x205f*0x1+-0x230e+0x4373),_0x1ea041[_0x1f8c7c]=_0x3c1269,this['_shadowPal'+'ette']['push'](Math['round'](_0x15abb8['r']*(-0x26bd+-0x10*-0xb9+0xe16*0x2)),Math['round'](_0x15abb8['g']*(0xdc3+-0x9e9+-0x2db)),Math['round'](_0x15abb8['b']*(-0xc*0x1d+0x2529+-0x22ce)),Math['round'](_0x15abb8['a']*(-0x1e14+-0xe08+-0x503*-0x9)),Math['round'](_0x59cd0a['x']*(0x12db+-0x108+0x8aa*-0x2)),Math['round'](_0x59cd0a['y']*(0xd77+-0xd9c+-0x1*-0xa4))));}this['_symbolSha'+'dowParams']['push'](_0x3c1269);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x590ca0=this['_calculate'+'CharsPerTe'+'xture']();let _0x200fad=!(0x172*0x17+0x5*0x5cf+-0x3e48);const _0x5a6d34=this['_element'],_0x3df9f7=_0x5a6d34['_isScreenS'+'pace'](),_0x3aae98=_0x5a6d34['_isScreenC'+'ulled'](),_0x4f1a0d=function(_0x501b39){return _0x5a6d34['isVisibleF'+'orCamera'](_0x501b39);};for(let _0x1a55bf=-0x1*-0xda+0x17c4+-0x189e,_0x29878d=this['_meshInfo']['length'];_0x1a55bf<_0x29878d;_0x1a55bf++){const _0x446953=_0x590ca0[_0x1a55bf]||0xb*-0x13a+-0x2*0x12dd+0x3338,_0x2ce015=this['_meshInfo'][_0x1a55bf];if(_0x2ce015['count']!==_0x446953){if(_0x200fad||(_0x5a6d34['removeMode'+'lFromLayer'+'s'](this['_model']),_0x200fad=!(-0x264d*-0x1+-0x126+-0x2527*0x1)),_0x2ce015['count']=_0x446953,_0x2ce015['positions']['length']=_0x2ce015['normals']['length']=_0x446953*(0x1d69+0x1196+-0x2efc)*(0x2293+-0x1*-0x17b6+0x853*-0x7),_0x2ce015['indices']['length']=_0x446953*(-0x25b3*-0x1+0xf7d+-0x352d)*(-0x264+-0x2290+0x24f6),_0x2ce015['uvs']['length']=_0x446953*(0x515+0x25*-0x22+-0x29)*(0x8e*0x25+0x3*0xbba+-0x37b0),_0x2ce015['colors']['length']=_0x446953*(0x1*0x12c8+-0xeb*0x19+0x7*0x99)*(0x634+-0x7*-0x3d+-0x1*0x7db),_0x2ce015['outlines']['length']=_0x446953*(0xb5e+0x333+0xe8d*-0x1)*(-0x4bb+0x133e+0x40*-0x3a),_0x2ce015['shadows']['length']=_0x446953*(-0x1c2d+-0x129a+0x3*0xf99)*(-0x797*-0x1+0xc2*-0x2c+0x19c4),_0x2ce015['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x2ce015['meshInstan'+'ce']),_0x446953===0x831+0x1a7d*0x1+-0x22ae){_0x2ce015['meshInstan'+'ce']=null;continue;}for(let _0x1b75b2=-0x22ce+-0xe*-0x6f+0x1cbc;_0x1b75b2<_0x446953;_0x1b75b2++)_0x2ce015['indices'][_0x1b75b2*(0xbd7*0x2+-0x24f4+-0xd49*-0x1)*(0x139*-0x1+0xeff+-0xdc4)+(0x292+0x110b+-0x139d)]=_0x1b75b2*(-0x25d*0x1+0x1492+0x1231*-0x1),_0x2ce015['indices'][_0x1b75b2*(-0xf0*0x25+-0x18cf+0x3b82)*(-0x1*-0x1f3d+0x28c*0x7+-0x310f)+(0xd3d+-0x3*-0x787+-0x23d1)]=_0x1b75b2*(0x1*-0x145e+-0x2152+-0x2*-0x1ada)+(-0x245a+0x511*0x4+0x1017*0x1),_0x2ce015['indices'][_0x1b75b2*(0x134a+-0x607+-0xd40)*(0x2*0xd5d+-0x57*0x13+-0x111*0x13)+(-0x3*-0x27a+0x5*0x37d+-0x18dd)]=_0x1b75b2*(0x19db*-0x1+-0x62b+0x3*0xaae)+(0x1837+0x172*-0x18+-0x2c*-0x3d),_0x2ce015['indices'][_0x1b75b2*(-0x6fe+0xba1+-0x2*0x250)*(-0x15bd+-0x2359*-0x1+-0xd9a)+(-0x36a*0x3+0x2f6*-0x1+-0xd37*-0x1)]=_0x1b75b2*(0x1395+0x9*0x304+-0x2eb5)+(0x2442+0x3bb+-0x27fb),_0x2ce015['indices'][_0x1b75b2*(0x259b+-0x2467+-0x131)*(0x16*-0xd1+-0xdc*-0xa+0x960)+(0x12*0xba+0x1*0x13d6+-0x1073*0x2)]=_0x1b75b2*(0x1*-0x1c6b+0x3ee*-0x6+-0xa67*-0x5)+(-0x2*0x119b+-0x17b*0x5+0x2aa0),_0x2ce015['indices'][_0x1b75b2*(0x96a+0x1c69+-0x25d0)*(0x2af*0x3+-0xbc*-0x5+-0xbb7)+(-0x263c*-0x1+0x1*0x1a44+-0x407b)]=_0x1b75b2*(-0x9*0x2b9+0x1b11+-0x28c)+(0x590+0x2*0x1311+-0x2bb1),_0x2ce015['normals'][_0x1b75b2*(-0x1738*-0x1+0x1901*0x1+-0x2b*0x11f)*(0x13e5+-0xe15+-0x5cd)+(0xbf2+0x284+0x269*-0x6)]=-0xb2*-0x6+0xbae+-0xfda,_0x2ce015['normals'][_0x1b75b2*(-0x2*-0xd53+0x4*0x2d7+0xcaa*-0x3)*(0x9d*0xc+0x1f0+0x949*-0x1)+(0x1d81+0x136b*-0x1+0x1d*-0x59)]=-0x405*-0x1+-0x3*0xbef+0x1fc8,_0x2ce015['normals'][_0x1b75b2*(0x9d*0x11+-0x2398+-0x3*-0x865)*(0xc99+-0x7e2+-0x4b4)+(-0x1e*-0xd5+0x213f+-0x3a33*0x1)]=-(0x2b*-0xd3+-0x7*0xa4+0x27ee),_0x2ce015['normals'][_0x1b75b2*(-0x9*0xf5+-0x41*-0x6d+-0x130c)*(-0x1*0x1ed+-0x1*-0xb92+-0x336*0x3)+(-0x2677+0x919+0x1d61)]=-0x12a*0x1e+0x7*-0x66+0xc92*0x3,_0x2ce015['normals'][_0x1b75b2*(-0x3*0x31f+0xb14+-0x1b3)*(-0x189*-0x3+0x8e*0x1f+0x2*-0xae5)+(-0x1cc3+-0x13*-0xa3+0x10ae)]=0x1*-0x22f7+-0x8b*-0x9+0x1e14,_0x2ce015['normals'][_0x1b75b2*(-0x3*-0x2e7+-0x178d+0xedc)*(0x1ee5+0x14e3+-0x33c5)+(0x134a+-0x2*-0x5ad+-0x1e9f)]=-(-0xb8c+0x2290+0x2b*-0x89),_0x2ce015['normals'][_0x1b75b2*(-0x135*0x11+-0x3*-0x5fa+0x29b)*(-0x2104+-0x5*0x301+-0x5*-0x99c)+(0x1e1b+0x2a5+-0x1*0x20ba)]=-0x28d+0x9e*-0x2e+0x1ef1,_0x2ce015['normals'][_0x1b75b2*(-0x1a95*0x1+0x3*-0xb27+-0x2*-0x1e07)*(0xac*0x1c+0x17*-0x178+-0x41*-0x3b)+(0x2c0+-0x65+-0x254)]=-0x1*0x17c4+0x262+0x142*0x11,_0x2ce015['normals'][_0x1b75b2*(0x6*-0x1bf+0x1*0x9a7+-0x1*-0xd7)*(0x163d*-0x1+0x17a3*0x1+-0x163)+(-0x9e4+0x8*0x36e+-0x1184)]=-(-0x1*-0x994+-0x3a*-0x45+-0x1935),_0x2ce015['normals'][_0x1b75b2*(0x2f0*-0x5+0x23e9*0x1+-0x3d*0x59)*(0x749*0x3+-0x2316+0xd3e)+(0x219*-0x5+0xd9f+-0x3d*0xd)]=-0x4a7*0x7+0x5c7+0x1aca,_0x2ce015['normals'][_0x1b75b2*(-0xb8a+0x69*0x7+0xf7*0x9)*(-0x1adf+-0x1f2*0xb+0x9a8*0x5)+(0x1f17+0x1372+-0x327f)]=-0x1cf*0x9+0x22fb+0x4ad*-0x4,_0x2ce015['normals'][_0x1b75b2*(-0xbe4+0x25*-0x74+-0xa*-0x2de)*(0x781+0x17a1+0x1f1f*-0x1)+(0xa68+0x2681+-0x30de)]=-(-0x39d+-0x75b+0xaf9);const _0x582a83=xR(this['_system']['app']['graphicsDe'+'vice'],_0x2ce015),_0x5cc76b=new He(_0x582a83,this['_material'],this['_node']);if(_0x5cc76b['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x5cc76b['castShadow']=!(0x1*-0x463+0x3fd+0x1*0x67),_0x5cc76b['receiveSha'+'dow']=!(-0x1bbc+-0x1bdf+0x4*0xde7),_0x5cc76b['cull']=!_0x3df9f7,_0x5cc76b['screenSpac'+'e']=_0x3df9f7,_0x5cc76b['drawOrder']=this['_drawOrder'],_0x3aae98&&(_0x5cc76b['cull']=!(-0x2*0x350+-0x137b+0x29*0xa3),_0x5cc76b['isVisibleF'+'unc']=_0x4f1a0d),this['_setTextur'+'eParams'](_0x5cc76b,this['_font']['textures'][_0x1a55bf]),_0x5cc76b['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x5cc76b['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x5cc76b['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x5cc76b['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x5cc76b['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x1a55bf]['width']),_0x5cc76b['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x5cc76b['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x5cc76b['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][-0x1eab+-0x3e1+0x228c]=-0xb0a+-0xecc+0x19d6,this['_shadowOff'+'setUniform'][0x4a9+-0x66f*0x5+0x1b83]=0x226a+-0x22ca+0x60;else{const _0x5d8957=-this['_font']['data']['info']['maps'][_0x1a55bf]['width']/this['_font']['data']['info']['maps'][_0x1a55bf]['height'];this['_shadowOff'+'setUniform'][-0x2346+0x63f*-0x5+0x4281]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x2000+-0x15a4+0x1*0x35a5]=_0x5d8957*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x5cc76b['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x2ce015['meshInstan'+'ce']=_0x5cc76b,this['_model']['meshInstan'+'ces']['push'](_0x5cc76b);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x200fad&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=-0x5*-0x6f8+0x1*0xfb1+-0x3289,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x23866b){_0x23866b['destroy']();const _0x24f85b=this['_model']['meshInstan'+'ces']['indexOf'](_0x23866b);_0x24f85b!==-(0x1c94+-0x1f*0x17+-0x19ca)&&this['_model']['meshInstan'+'ces']['splice'](_0x24f85b,0x1c71+-0x4cc+-0x17a4);}['_setMateri'+'al'](_0x44a707){if(this['_material']=_0x44a707,this['_model'])for(let _0x5075c3=0x1b5e+-0x1a*0x73+-0x1f6*0x8,_0x154e15=this['_model']['meshInstan'+'ces']['length'];_0x5075c3<_0x154e15;_0x5075c3++){const _0x1b9127=this['_model']['meshInstan'+'ces'][_0x5075c3];_0x1b9127['material']=_0x44a707;}}['_updateMat'+'erial'](_0x285587){const _0x33606c=this['_element'],_0xb15ad3=_0x33606c['_isScreenC'+'ulled'](),_0x15c7a3=function(_0x3c63cf){return _0x33606c['isVisibleF'+'orCamera'](_0x3c63cf);},_0x57c54a=this['_font']&&this['_font']['type']===Rh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x285587,_0x57c54a,this['_enableMar'+'kup']),this['_model'])for(let _0x4f7f29=-0xc2*0x3+-0x1*0x2414+0x265a,_0x329b2f=this['_model']['meshInstan'+'ces']['length'];_0x4f7f29<_0x329b2f;_0x4f7f29++){const _0x1efdfb=this['_model']['meshInstan'+'ces'][_0x4f7f29];_0x1efdfb['cull']=!_0x285587,_0x1efdfb['material']=this['_material'],_0x1efdfb['screenSpac'+'e']=_0x285587,_0xb15ad3?(_0x1efdfb['cull']=!(-0x1*-0x1136+0x182a+-0x2960),_0x1efdfb['isVisibleF'+'unc']=_0x15c7a3):_0x1efdfb['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][0x100*-0x24+0x14d8+-0x308*-0x5]=-0x1*0x4af+-0x1279*0x1+0x1729,this['_colorUnif'+'orm'][0x1*0x129a+0xb0b+-0x1*0x1da4]=0x1a43+0x1aff+0x1*-0x3541,this['_colorUnif'+'orm'][-0x1489+0x3d6*-0x3+0x200d]=0xac4+-0x5*-0x2d7+-0x8e*0x2d):(We['linear'](this['_color']),this['_colorUnif'+'orm'][0x11e*-0x12+0x1*-0x17d5+0x2bf1*0x1]=We['r'],this['_colorUnif'+'orm'][0x2026+-0xb*0x1fd+-0xa46]=We['g'],this['_colorUnif'+'orm'][0x2492+-0x1d43+-0x26f*0x3]=We['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][-0x1fc7*0x1+-0x115e+0x3125]=-0x46f+0x1*0x1cf4+-0x1885,this['_outlineCo'+'lorUniform'][-0x1ebb+-0x828+-0x4*-0x9b9]=-0x345*0x5+-0x20cc+0x3125,this['_outlineCo'+'lorUniform'][0x1e31+-0xc7c+-0x1*0x11b3]=-0x1*-0xba8+-0x1269*-0x1+-0x1e11,this['_outlineCo'+'lorUniform'][0xc69*0x3+0x9a0+-0x2ed8]=-0x41+-0x17f8+0x183a):(We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x5*0xb+-0x2*-0xf89+-0x1f49]=We['r'],this['_outlineCo'+'lorUniform'][-0x1835+-0x2484+0x3cba]=We['g'],this['_outlineCo'+'lorUniform'][-0x1*0xb6b+-0x35*0x35+0x1666]=We['b'],this['_outlineCo'+'lorUniform'][0x31a*-0xc+-0x135b*0x2+-0x4bf1*-0x1]=We['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][0x1c35+-0xf33+0x14d*-0xa]=0x1*0x213d+-0x238a*-0x1+-0x44c7*0x1,this['_shadowCol'+'orUniform'][-0x164*0x18+0xd*-0x2d2+-0x1*-0x460b]=0x2*-0x7b5+0x212*-0x9+0x883*0x4,this['_shadowCol'+'orUniform'][0x9*-0xfe+-0x1*-0xd19+-0xd5*0x5]=-0x49*-0x3+-0xbe3+0xb08,this['_shadowCol'+'orUniform'][0x2329+-0x1*-0x20aa+-0x43d0]=-0x1d60+0x25f*0x3+0x1643):(We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x2*0xaa1+-0x2691+0x114f]=We['r'],this['_shadowCol'+'orUniform'][-0x327*-0xb+-0x1167+-0x1145]=We['g'],this['_shadowCol'+'orUniform'][-0x7ae*-0x3+-0x45e*-0x5+-0x2cde]=We['b'],this['_shadowCol'+'orUniform'][-0x1*-0x1f82+0xc94+-0x1*0x2c13]=We['a']);}['_isWordBou'+'ndary'](_0x52f72a){return jg['test'](_0x52f72a);}['_isValidNe'+'xtChar'](_0x3b80dc){return _0x3b80dc!==null&&!ER['test'](_0x3b80dc);}['_isNextCJK'+'Boundary'](_0x5cd11a,_0x270adf){return Yg['test'](_0x5cd11a)&&(jg['test'](_0x270adf)||wR['test'](_0x270adf));}['_isNextCJK'+'WholeWord'](_0x279f06){return Yg['test'](_0x279f06);}['_updateMes'+'hes'](){const _0x3e074a=this['_font']['data'],_0x3e1393=this,_0x4d4f20=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x1d83a7=this['_maxFontSi'+'ze'],_0x529761=this['_shouldAut'+'oFit']();_0x529761&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x5c097b=-0x740+-0x1*0xe66+0x15c6,_0x21fbcd=this['_symbols']['length'];let _0x36b69b=-0x1*-0x1e88+0x293*-0xf+0x1*0x815,_0x44b438=-0x440+-0x11*0x211+-0x1*-0x2761,_0x4501ce=0x906+-0x170+-0x2*0x3cb,_0x16cda9=-0x1b62+0x1ea0+0x19f*-0x2,_0x5f4780=-0xbd7*0x2+0x2704+-0xf55,_0x2dbdb3=-0x1b*0x8f+0x183e+-0x929,_0x3edc35=0xf3c+-0x1*0x275+-0xcc7,_0x4e47a1=0x1174+-0xc82+-0x1a6*0x3,_0x120e6b=0x38+-0xc06+-0x5e7*-0x2,_0x2667ae=0x1f44+-0x6*0x3fd+0x3ab*-0x2,_0x25aebe=-0x3a8+-0x1585+-0x192d*-0x1;const _0x1e373d=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=0x43*0x1b+0x52*0x49+-0x1e73+0.0001;let _0x2f1f06=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x1e373d||!this['_wrapLines'])&&(_0x2f1f06=Number['POSITIVE_I'+'NFINITY']);let _0x4a802e=0x18b3*0x1+0x25a2+0x24f*-0x1b,_0x2a96ff=-0x1*0x10d9+-0x1*-0x115f+0x43*-0x2,_0x43680a,_0x775fb0,_0x436aa8,_0x5d4c5d;function _0x457542(_0x52440a,_0x2ad3f1,_0x1f7746){_0x3e1393['_lineWidth'+'s']['push'](Math['abs'](_0x1f7746));const _0xc54ea3=_0x4e47a1>_0x2ad3f1?_0x2ad3f1+(0x1*0x1459+0x1*0x208f+-0x34e7):_0x4e47a1,_0x4c4c3e=_0x4e47a1>_0x2ad3f1?_0x4e47a1+(0x112a+-0xcac+-0x17f*0x3):_0x2ad3f1,_0x4b44b6=_0x52440a['slice'](_0xc54ea3,_0x4c4c3e);if(_0x25aebe){let _0x1bc238=_0x4b44b6['length'];for(;_0x1bc238--&&_0x25aebe>0x71b+-0xd52+0x25*0x2b;)qg['test'](_0x4b44b6[_0x1bc238])&&(_0x4b44b6['splice'](_0x1bc238,-0x1*-0x223+-0x380*0x5+-0x7*-0x232),_0x25aebe--);}_0x3e1393['_lineConte'+'nts']['push'](_0x4b44b6['join']('')),_0x36b69b=0x2115+0x1*-0x19ef+-0x6*0x131,_0x44b438-=_0x3e1393['_scaledLin'+'eHeight'],_0x5f4780++,_0x120e6b=0xdad+-0x1fa6+0x6b*0x2b,_0x2667ae=0x8d1+-0xd04+-0x433*-0x1,_0x25aebe=0x4*-0x4ee+-0xf13+0x22cb*0x1,_0x2dbdb3=0x314*-0x4+0x215*-0x9+0x1f0d,_0x4e47a1=_0x2ad3f1;}let _0x2ab97a=!(0x682+0x9bf+-0x1041*0x1);for(;_0x2ab97a;){_0x2ab97a=!(0x8c0+0x68+-0x47*0x21),_0x529761?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||0x1*0x2551+0x1*0x694+-0x2be5+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=0x6*-0x56+-0x1*-0x11a5+-0xfa1,this['height']=0x1245*0x1+-0x1bca+-0x1*-0x985,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x36b69b=-0x10d7+-0x9*-0x3f2+-0x12ab*0x1,_0x44b438=0x1096+-0x2dd*0x9+-0x92f*-0x1,_0x4501ce=0x26e5+-0x1e4+0x1*-0x2501,_0x16cda9=-0x100d*0x2+0x2053+-0x39,_0x5f4780=-0x234*-0x1+-0x2*-0xf42+0x14f*-0x19,_0x2dbdb3=-0x123c+0x4a5*0x1+-0x31*-0x47,_0x3edc35=-0x1ee6+-0x3bf*-0x7+0x7*0xab,_0x4e47a1=0x2285*0x1+-0x41e*-0x5+0x371b*-0x1,_0x120e6b=-0x2126+-0x1346+0x346c,_0x2667ae=-0x18ea+-0x18e+0x1a78,_0x25aebe=0xdb9+0x1e77*0x1+-0x2c30;const _0x215b83=this['_fontSize']/_0x5c097b;_0x4a802e=this['_fontMinY']*_0x215b83,_0x2a96ff=this['_fontMaxY']*_0x215b83;for(let _0x37bde4=-0x10d*-0x7+0xd1b+-0x1476;_0x37bde4<this['_meshInfo']['length'];_0x37bde4++)this['_meshInfo'][_0x37bde4]['quad']=0x388+0x8df+-0x5*0x27b,this['_meshInfo'][_0x37bde4]['lines']={};let _0x5c6728=-0x1309+0x3*-0x787+0x2a9d,_0x162e84=0xb2d*0x2+0x193+-0x16ee,_0x5e45a2=-0x35f*0x9+0xcf1*-0x3+0x4629,_0x28ab4e=-0xbbb+-0x1079+0x1d33+(0x1028+-0x1a0f+0x1*0xae6)*(0x3c*-0x45+-0x2*-0x2b3+0xbc6),_0x16413a=0x1*-0x307+0xa56+-0x650+(0x1*0xa21+-0x232e+0x1a0c)*(-0x3dd*0xa+0x3d*-0xb+0x2a41),_0x14c5e5=-0xf9+0xf17+-0x1a*0x8b,_0xb100a1=0x22ac*0x1+0x1*0x5c1+-0x276e+(0x237d+-0x2295+-0x1*-0x17)*(-0xd96+0x2635+-0x1*0x179f),_0x492e08=-0x99f+-0x1a97+0x2535+(0x19ed+-0xa31+0x1*-0xebd)*(-0x3*-0x8e5+0x1*0x7f+0x1a2e*-0x1),_0x327c90=0x5c*0x64+-0x18*-0x1a+-0x1*0x25e1+(0x36f+0x1*-0xe29+0xb39)*(-0x282+0x1*0x1cd6+-0x1954);for(let _0x272c96=0x1ef9+0x1*-0x22b9+0x3c0;_0x272c96<_0x21fbcd;_0x272c96++){if(_0x43680a=this['_symbols'][_0x272c96],_0x5d4c5d=_0x272c96+(0xe7c*-0x1+-0x1319+0x2196*0x1)>=_0x21fbcd?null:this['_symbols'][_0x272c96+(-0x89f+-0x77*0x6+0x3*0x3ce)],qg['test'](_0x43680a)){_0x25aebe++,(!this['_wrapLines']||this['_maxLines']<0x621+-0x1d*-0xf+0xc*-0xa7||_0x5f4780<this['_maxLines'])&&(_0x457542(this['_symbols'],_0x272c96,_0x16cda9),_0x3edc35=_0x272c96+(-0x1977+-0x1*0x21c8+0x30*0x13c),_0x4e47a1=_0x272c96+(0x11*-0xf4+-0x6d4+0x1*0x1709));continue;}let _0x2de409=-0x2306+-0x269b+0x49a1,_0x1ba729=-0x2333+0x60d*-0x1+-0xa5*-0x40,_0x5ab136=-0x1849+-0x1f0b+0x3754,_0x3caf33=-0x22c5+-0x1dc3+-0x1*-0x4089,_0x4faa1e,_0x209995;if(_0x775fb0=_0x3e074a['chars'][_0x43680a],!_0x775fb0){if(bR['indexOf'](_0x43680a)!==-(-0x1*-0x24e1+0x1*0x244c+-0x492c))_0x775fb0=AR;else{if(_0x3e074a['chars']['\x20'])_0x775fb0=_0x3e074a['chars']['\x20'];else for(const _0xdc3d5e in _0x3e074a['chars']){_0x775fb0=_0x3e074a['chars'][_0xdc3d5e];break;}_0x3e074a['missingCha'+'rs']||(_0x3e074a['missingCha'+'rs']=new Set()),_0x3e074a['missingCha'+'rs']['has'](_0x43680a)||(console['warn']('Character\x20'+'\x27'+_0x43680a+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x3e074a['info']['face']),_0x3e074a['missingCha'+'rs']['add'](_0x43680a));}}if(_0x775fb0){let _0x565894=0xe9f+0x14d0+-0x236f;if(_0x2667ae>-0x2109*0x1+0x2064+0xa5*0x1){const _0x10a5c9=this['_font']['data']['kerning'];if(_0x10a5c9){const _0x44d60e=_0x10a5c9[Hc['getCodePoi'+'nt'](this['_symbols'][_0x272c96-(-0x6*0x14a+0x9b0+-0x1*0x1f3)])||0x765*0x2+-0x5*0x586+0x335*0x4];_0x44d60e&&(_0x565894=_0x44d60e[Hc['getCodePoi'+'nt'](this['_symbols'][_0x272c96])||-0x1886+-0x169*-0x13+0x1*-0x245]||-0x1d17+0x21df+-0x4c8);}}_0x4faa1e=_0x775fb0['scale']||-0x1e28+-0x510*-0x5+0x4d9,_0x209995=(_0x775fb0['width']+_0x775fb0['height'])/(-0x1*0x583+0x14fa+0x527*-0x3),_0x3caf33=_0x215b83*_0x209995/_0x4faa1e,_0x5ab136=(_0x775fb0['xadvance']+_0x565894)*_0x215b83,_0x2de409=(_0x775fb0['xoffset']-_0x565894)*_0x215b83,_0x1ba729=_0x775fb0['yoffset']*_0x215b83;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x43680a+'\x27');const _0x15c669=TR['test'](_0x43680a),_0x31394d=_0x775fb0&&_0x775fb0['map']||0x3*0x936+-0x1d2e+0x4*0x63,_0x3714f8=-this['_font']['data']['info']['maps'][_0x31394d]['width']/this['_font']['data']['info']['maps'][_0x31394d]['height'],_0x11a1c6=this['_meshInfo'][_0x31394d],_0x39dba6=_0x36b69b+this['_spacing']*_0x5ab136;if(_0x39dba6>_0x2f1f06&&_0x2667ae>0x2*-0x24b+-0x21e1+-0x2b*-0xe5&&!_0x15c669&&(this['_maxLines']<0x4*0x300+-0x2452*-0x1+-0x3052*0x1||_0x5f4780<this['_maxLines'])){if(_0x120e6b===-0x43f+-0x1e59+0x2298)_0x3edc35=_0x272c96,_0x457542(this['_symbols'],_0x272c96,_0x16cda9);else{const _0x51d302=Math['max'](_0x272c96-_0x3edc35,0x1097+-0x1fa7+0x4*0x3c4);if(this['_meshInfo']['length']<=-0x16c4+0x21b8+0x1*-0xaf3)_0x11a1c6['lines'][_0x5f4780-(0x1a30+0x1*0xb8d+-0x6*0x64a)]-=_0x51d302,_0x11a1c6['quad']-=_0x51d302;else{const _0x60f6be=_0x3edc35,_0x469b85=_0x272c96;for(let _0x32a255=_0x60f6be;_0x32a255<_0x469b85;_0x32a255++){const _0x1531f2=this['_symbols'][_0x32a255],_0x5cb54a=_0x3e074a['chars'][_0x1531f2],_0x2d8135=this['_meshInfo'][_0x5cb54a&&_0x5cb54a['map']||0x53*-0x15+0x9c*-0xd+0xebb*0x1];_0x2d8135['lines'][_0x5f4780-(0x10*-0xf+0x1a89*-0x1+0x1b7a)]-=-0x21d*0x5+-0x3cb*0x1+-0x1*-0xe5d,_0x2d8135['quad']-=0xeb*0x25+-0xefb*-0x2+0xffb*-0x4;}}_0x272c96-=_0x51d302+(-0x1*0x1169+-0x1*-0x1709+0x59f*-0x1),_0x457542(this['_symbols'],_0x3edc35,_0x2dbdb3);continue;}}_0x436aa8=_0x11a1c6['quad'],_0x11a1c6['lines'][_0x5f4780-(-0x20a6+0x23f2+0x1*-0x34b)]=_0x436aa8;let _0x4e7abe=_0x36b69b-_0x2de409,_0xbe9877=_0x4e7abe+_0x3caf33;const _0x212362=_0x44b438-_0x1ba729,_0x8598e0=_0x212362+_0x3caf33;if(this['_rtl']){const _0x495ea1=_0x3caf33-_0x2de409-this['_spacing']*_0x5ab136-_0x2de409;_0x4e7abe-=_0x495ea1,_0xbe9877-=_0x495ea1;}_0x11a1c6['positions'][_0x436aa8*(-0xcd9*0x3+-0x1*0x8da+0x2f69)*(-0x1*0x7b5+-0x15cd+0x1d85)+(0xed1+0x260f+0x1a70*-0x2)]=_0x4e7abe,_0x11a1c6['positions'][_0x436aa8*(0x6cc+-0xf6*-0x1a+-0x6b*0x4c)*(-0x24*-0x71+-0x1*0x1c90+0xbf*0x11)+(-0x11cf*-0x2+-0x1*0xb0f+-0x188e)]=_0x212362,_0x11a1c6['positions'][_0x436aa8*(0x180*0x11+-0x91+-0x18eb)*(-0x2*-0x313+0x1*0x289+-0x8ac)+(-0x39*-0x81+0x8e0+-0x2597)]=_0x4501ce,_0x11a1c6['positions'][_0x436aa8*(-0x705*-0x2+-0x88e*0x1+-0x578)*(0x24a1+0x1c7e+0x1047*-0x4)+(-0x1b47+-0x29*-0x22+0x15d8)]=_0xbe9877,_0x11a1c6['positions'][_0x436aa8*(-0x220e+-0x2d1*0xc+0x43de)*(-0x4e*-0x30+0x1*0xe89+0x5b*-0x52)+(-0x1c26+0x4*0x26+0x1b92)]=_0x212362,_0x11a1c6['positions'][_0x436aa8*(-0x8*-0x239+-0x170*-0x13+-0x2d14)*(-0x1*-0x202f+-0x1*0x1d09+0x323*-0x1)+(-0x14e*0x1c+0x5b*-0x1b+0x2e26)]=_0x4501ce,_0x11a1c6['positions'][_0x436aa8*(-0x7*0x7+0x109*-0x8+0x87d*0x1)*(0x236*0x1+-0x121d+0x7f5*0x2)+(0x6*-0x4e5+-0x2585+0x42e9)]=_0xbe9877,_0x11a1c6['positions'][_0x436aa8*(0xbc3*-0x1+-0x1*0x17e3+0x6e*0x53)*(0x23d1+0x8fb+0x5*-0x8f5)+(-0x1edc+-0x424+-0xbad*-0x3)]=_0x8598e0,_0x11a1c6['positions'][_0x436aa8*(0x977*-0x4+0x4*-0x1ad+0x2c94)*(0x3*-0xaf3+-0x19*0xe1+0x1*0x36d5)+(0xb1*0xd+0x2c7+-0xbbc)]=_0x4501ce,_0x11a1c6['positions'][_0x436aa8*(-0xf6d+-0x5c5*0x2+-0x1*-0x1afb)*(0x1*0x21e5+0x1*0x204b+-0x422d*0x1)+(0x1bab+-0x193*-0x4+-0xca*0x2b)]=_0x4e7abe,_0x11a1c6['positions'][_0x436aa8*(-0xda*0x1+0x1141*-0x1+-0x1*-0x121f)*(0xa25+0x2de+-0xd00)+(-0x1*0x186d+0x2ee+-0x25*-0x95)]=_0x8598e0,_0x11a1c6['positions'][_0x436aa8*(-0x56c+0x594*0x6+-0x1c08)*(-0x53*-0x19+0x6*-0x51c+0x1690)+(0x2*0x4fc+0x157a+-0x1f67)]=_0x4501ce,this['width']=Math['max'](this['width'],_0x39dba6);let _0x52bc6f;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x52bc6f=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||-0x182e+0xb46*-0x3+-0x1d0*-0x20+0.0001)),_0x52bc6f=Y['clamp'](_0x52bc6f,_0x4d4f20,_0x1d83a7),_0x52bc6f!==this['_element']['fontSize'])){this['_fontSize']=_0x52bc6f,_0x2ab97a=!(0x8d3*0x2+0x2*0x2d0+0x3*-0x7c2);break;}if(this['height']=Math['max'](this['height'],_0x2a96ff-(_0x44b438+_0x4a802e)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x52bc6f=Y['clamp'](this['_fontSize']-(-0x4f*-0x3a+0x1*-0xb2d+-0x14*0x56),_0x4d4f20,_0x1d83a7),_0x52bc6f!==this['_element']['fontSize'])){this['_fontSize']=_0x52bc6f,_0x2ab97a=!(0x17c*0x2+-0xd26+0xa2e);break;}_0x36b69b+=this['_spacing']*_0x5ab136,_0x15c669||(_0x16cda9=_0x36b69b),(this['_isWordBou'+'ndary'](_0x43680a)||this['_isValidNe'+'xtChar'](_0x5d4c5d)&&(this['_isNextCJK'+'Boundary'](_0x43680a,_0x5d4c5d)||this['_isNextCJK'+'WholeWord'](_0x5d4c5d)))&&(_0x120e6b++,_0x2dbdb3=_0x16cda9,_0x3edc35=_0x272c96+(0x1f*0xa4+0x265b*0x1+-0x1d1b*0x2)),_0x2667ae++;const _0x130034=this['_getUv'](_0x43680a);if(_0x11a1c6['uvs'][_0x436aa8*(-0x1524+-0x1d8c*0x1+0x32b4)*(-0x1df+-0x162b*0x1+0x180c)+(-0x599*0x1+-0x1b*0xa3+0x16ca)]=_0x130034[0x1*-0x2561+-0xc97*-0x2+-0x9*-0x15b],_0x11a1c6['uvs'][_0x436aa8*(-0x635+-0x141*0x1+0x77a)*(0x214*0x1+-0x2b*0x85+-0x1*-0x1445)+(0x4b8+-0x1*-0xa8b+-0xf42)]=0x128*0xa+-0xc1*-0x5+0xda*-0x12-_0x130034[-0x59*0x23+0x21cc+-0x15a0],_0x11a1c6['uvs'][_0x436aa8*(-0x22de*0x1+0xee6*0x2+0x516)*(0x96d+0x1919+-0x2284)+(-0xe*-0x293+-0x59a*-0x5+-0x400a)]=_0x130034[-0x102+-0x18f*-0x17+-0x22d5],_0x11a1c6['uvs'][_0x436aa8*(0x78f+0x1a9a+-0x2225)*(0x1be9+-0xf6e+0x1f*-0x67)+(-0x1*0x1b0e+-0x773*-0x2+0xc2b)]=0xf3d+-0x1245*0x1+-0x7*-0x6f-_0x130034[-0x11fb*-0x1+0x379*-0xb+0x1439],_0x11a1c6['uvs'][_0x436aa8*(0x24c1*-0x1+0x35*-0x41+0x3*0x10be)*(0x1*-0x2384+0x1*-0x44b+0x27d1)+(0xa3*-0x1d+-0x1*-0x1267+0x1*0x14)]=_0x130034[0x75c*0x3+0xc28*0x2+-0x2e62*0x1],_0x11a1c6['uvs'][_0x436aa8*(-0x338*0x2+-0x22e3*0x1+0x2957)*(0x1*-0xe05+-0x1*-0x1429+-0x622)+(-0xbef+0xb89+0x6b)]=-0x21bd+-0x1628+0x37e6-_0x130034[-0x144f+-0x1b5*-0x13+0x1*-0xc1d],_0x11a1c6['uvs'][_0x436aa8*(0x14ff+-0xc2e+0x2ef*-0x3)*(0x1a+-0x1*0x1c8d+-0x1c75*-0x1)+(0x38*-0x41+0x1138+0x2*-0x17d)]=_0x130034[-0x20c3*0x1+0x225*-0x2+0x54b*0x7],_0x11a1c6['uvs'][_0x436aa8*(-0xdd8+0x15be+-0x3f1*0x2)*(-0xfb4+0x1678+-0x6c2)+(-0x12c6+-0x6*0x267+0xb*0x305)]=0xd74+-0x8*0x3d7+-0x1145*-0x1-_0x130034[0x1fa5*0x1+0x1*-0x18c7+-0xc3*0x9],this['_symbolCol'+'ors']){const _0x52fa59=this['_symbolCol'+'ors'][_0x272c96]*(0x1fc9+0x440+-0x2406);_0x5c6728=this['_colorPale'+'tte'][_0x52fa59],_0x162e84=this['_colorPale'+'tte'][_0x52fa59+(0x475*-0x7+-0x1*0xaae+0x29e2)],_0x5e45a2=this['_colorPale'+'tte'][_0x52fa59+(0xb*0x23e+-0x18c8+0x8*0x4)];}if(_0x11a1c6['colors'][_0x436aa8*(-0x1569+-0x6d*-0x3d+-0x48c)*(0x66*-0x8+0x1d*0x7c+0x2*-0x56c)+(-0x1*0x7ed+-0x364+0xb51)]=_0x5c6728,_0x11a1c6['colors'][_0x436aa8*(-0xe*-0x40+0x497*-0x1+0x11b)*(0x1d*0x10d+0x9c2+-0x2837)+(-0xe8f+0x19bc+-0x2c*0x41)]=_0x162e84,_0x11a1c6['colors'][_0x436aa8*(0x3fb*-0x1+-0x1f0*0x7+-0x5*-0x383)*(-0x1c79+-0x2467+0x40e4)+(0xb8a*0x3+0x4b*0x22+-0x2c92)]=_0x5e45a2,_0x11a1c6['colors'][_0x436aa8*(0xb*0x211+0x2f3*-0x7+-0x2*0x109)*(-0x2146+0x1*-0x2011+-0xa9*-0x63)+(-0xc6f+0xc0f+-0x21*-0x3)]=-0x19cf+0x256a+-0x4*0x2a7,_0x11a1c6['colors'][_0x436aa8*(0x46c+-0x25c3+0x215b)*(0x151c+0x248d+-0x39a5)+(0x168f+-0x132f+-0x35c)]=_0x5c6728,_0x11a1c6['colors'][_0x436aa8*(-0x65*-0x49+0x1290+-0x2f59)*(-0x97f*0x1+0x2a2*-0x4+-0x2dd*-0x7)+(-0x11a2+-0x1150+-0x22f7*-0x1)]=_0x162e84,_0x11a1c6['colors'][_0x436aa8*(0xba8+-0x1*-0x1bd5+-0x2779)*(0x2401+0x322*-0x3+-0x1a97)+(0x1e7f+0x2*-0x341+-0xf*0x199)]=_0x5e45a2,_0x11a1c6['colors'][_0x436aa8*(0x2063+-0x1648+-0xa17)*(0xe27*-0x1+-0x1c02+-0xb7*-0x3b)+(-0x1111*0x1+0x97*0x4+0x75e*0x2)]=-0xb*0xb3+-0x617*-0x3+0x1*-0x995,_0x11a1c6['colors'][_0x436aa8*(0x872+0x2589+-0x2df7)*(-0x4*-0x3eb+0x1b98+-0x2b40)+(0x676*-0x4+0x1f*0x115+-0x7ab)]=_0x5c6728,_0x11a1c6['colors'][_0x436aa8*(-0x1*0xeac+-0xae9+0x1999)*(-0x2bb+-0x58*-0x35+-0xf79)+(0x8b2+-0x1*-0x15cd+0x2*-0xf3b)]=_0x162e84,_0x11a1c6['colors'][_0x436aa8*(0x30a+-0x1a55*-0x1+-0x1d5b)*(-0x4f+-0x25ab+0x25fe)+(-0x2b*-0x53+-0xf54+0x49*0x5)]=_0x5e45a2,_0x11a1c6['colors'][_0x436aa8*(0x1d60+-0x12f6+-0xa66)*(-0x667+0x1d8d+-0x1722)+(0x992+-0x8fe+-0x89)]=-0x11f7+0x1*-0x155d+0x2853,_0x11a1c6['colors'][_0x436aa8*(0x6e6*-0x3+0xa90*0x2+-0x6a)*(-0x6*0x20+-0x399*0x3+-0xb*-0x10d)+(0x8*0x4+-0x87c+0x868)]=_0x5c6728,_0x11a1c6['colors'][_0x436aa8*(-0x671+0x1be2+-0x156d)*(0xba9+0x2*-0x66a+0x12f)+(-0x264c+-0x1f8b+0x45e4)]=_0x162e84,_0x11a1c6['colors'][_0x436aa8*(-0x70a*0x5+-0x1d28+0x2ed*0x16)*(0x1*-0xa73+-0xb*0x169+0x19fa)+(-0x5e*0x3e+0x24*0xb7+-0x2ea)]=_0x5e45a2,_0x11a1c6['colors'][_0x436aa8*(0x1dce+-0x24c1+0x6f7)*(-0x681+0x2692+0x1*-0x200d)+(0x3*0x945+-0x7ee*-0x3+-0x338a)]=-0x48*0x25+-0x26*0xaa+0x24a3,this['_symbolOut'+'lineParams']){const _0x14babb=this['_symbolOut'+'lineParams'][_0x272c96]*(0x713+0x2*0x9ef+0xd76*-0x2);_0x28ab4e=this['_outlinePa'+'lette'][_0x14babb]+this['_outlinePa'+'lette'][_0x14babb+(-0x3*-0x95a+-0xcc+-0x1*0x1b41)]*(-0x122c+-0x16*-0x30+0x1*0xf0c),_0x16413a=this['_outlinePa'+'lette'][_0x14babb+(-0x4*0xe8+-0xd34+-0x86b*-0x2)]+this['_outlinePa'+'lette'][_0x14babb+(-0x1883+0x17*0x97+0xf*0xbb)]*(-0xe3*-0x10+0x4bb+-0x11eb),_0x14c5e5=this['_outlinePa'+'lette'][_0x14babb+(-0x5c2+0x5b+-0x1*-0x56b)];}if(_0x11a1c6['outlines'][_0x436aa8*(0x1904+-0x2*0xc0d+-0x73*0x2)*(0x166f+0x3f9*-0x2+-0xe7a)+(0xa9*-0x31+-0x12*0x1ff+-0xe3*-0x4d)]=_0x28ab4e,_0x11a1c6['outlines'][_0x436aa8*(0x1*0x64c+-0x18b*0x1+0x4bd*-0x1)*(0x25dc+-0x1794+-0xd*0x119)+(0x11e9+0x123e+-0x1*0x2426)]=_0x16413a,_0x11a1c6['outlines'][_0x436aa8*(0x11*-0x96+0x2512+0x22*-0xcc)*(0xee1*0x1+0x1*0x26a5+0x67*-0x85)+(0x21ce+-0x13*0x188+-0x4b4)]=_0x14c5e5,_0x11a1c6['outlines'][_0x436aa8*(-0xe4e*-0x2+0xac8+-0x4*0x9d8)*(0x764*-0x1+-0x86d*-0x2+-0x973)+(0xd*0xd+0x3a0+-0x1*0x446)]=_0x28ab4e,_0x11a1c6['outlines'][_0x436aa8*(0xb*-0x8d+-0x1*-0x443+0x1d0)*(0x196d*0x1+0xb5*-0x1f+0x5*-0xb3)+(0x193f*-0x1+-0x2*-0xf7f+-0x1e9*0x3)]=_0x16413a,_0x11a1c6['outlines'][_0x436aa8*(0xf3f+0x21e3+0x2*-0x188f)*(0x173d+-0xa*0x133+-0xb3c)+(-0xb54+-0x527+0x1080)]=_0x14c5e5,_0x11a1c6['outlines'][_0x436aa8*(-0x99c+0x1*-0x176c+-0xb4*-0x2f)*(-0xf*0x1f1+0x956+0x2*0x9e6)+(-0x1f*0x10f+0x8c2+0x1815)]=_0x28ab4e,_0x11a1c6['outlines'][_0x436aa8*(-0x232d+0xb*-0x1+0x233c)*(-0xe2+0x129f+-0x2*0x8dd)+(0x1ba4*0x1+0x2*-0x917+0x69*-0x17)]=_0x16413a,_0x11a1c6['outlines'][_0x436aa8*(-0x2535+-0xf6c+0x34a5)*(0x4f*-0x7+0x1*-0x269f+0x28cb)+(-0x2310+0x1c8d+0x5*0x14f)]=_0x14c5e5,_0x11a1c6['outlines'][_0x436aa8*(0x823*0x1+-0x265*-0x5+0x4*-0x506)*(0x68d+0x1f12+0x967*-0x4)+(0x7*0x50b+-0x2*0x5f4+0x1a*-0xe6)]=_0x28ab4e,_0x11a1c6['outlines'][_0x436aa8*(-0x2038+-0xa98+0x2ad4)*(0x4*-0x3e2+-0x1*-0x1653+-0x1b2*0x4)+(0xbfb*-0x3+-0x12cf+0x36ca)]=_0x16413a,_0x11a1c6['outlines'][_0x436aa8*(-0x267a+0x731*0x1+0x1f4d)*(-0x183b+-0xe9a+0x26d8)+(-0x2068*0x1+0x1*0x13ed+0xc86*0x1)]=_0x14c5e5,this['_symbolSha'+'dowParams']){const _0x29dcb6=this['_symbolSha'+'dowParams'][_0x272c96]*(-0x1*-0x1baa+-0x47f*0x6+0x55*-0x2);_0xb100a1=this['_shadowPal'+'ette'][_0x29dcb6]+this['_shadowPal'+'ette'][_0x29dcb6+(-0x1e*0x6e+0x1661+0x25f*-0x4)]*(-0xc93+-0xa*-0x12b+0x61*0x5),_0x492e08=this['_shadowPal'+'ette'][_0x29dcb6+(0x13bd+0x2c*0x47+0x4b*-0x6d)]+this['_shadowPal'+'ette'][_0x29dcb6+(0x910+0x745+-0x1052)]*(0x1*-0x24c1+-0xed5+-0x7f*-0x6a),_0x327c90=this['_shadowPal'+'ette'][_0x29dcb6+(0x26*-0x27+0x48c+0x142)]+(0xa2a+-0xfa5+0x5fa)+Math['round'](_0x3714f8*this['_shadowPal'+'ette'][_0x29dcb6+(0x2*-0x7c8+-0x4e6+0x147b)]+(-0x1218+0xeba+-0x3dd*-0x1))*(-0xa9a+-0x220+-0x2*-0x6dd);}_0x11a1c6['shadows'][_0x436aa8*(-0x1357+-0x1ceb+0x3046)*(-0x3*-0x848+0x9f9+-0x22ce)+(0x549+-0x17b5*-0x1+-0x1cfe)]=_0xb100a1,_0x11a1c6['shadows'][_0x436aa8*(-0x15a*0x13+-0x15b*-0x7+0x1035)*(0x41f+-0x1*-0x1280+-0x169c)+(-0x865*-0x2+-0x6f*0x21+-0x1*0x27a)]=_0x492e08,_0x11a1c6['shadows'][_0x436aa8*(0x1d05+-0x230c+0xd*0x77)*(0x3b*0x10+0x109*-0x16+-0x1*-0x1319)+(-0x15b8*0x1+-0x2*0x109d+0x4*0xdbd)]=_0x327c90,_0x11a1c6['shadows'][_0x436aa8*(-0x133f*-0x1+-0x1451+0x116)*(0x1*0x1c1+0x32*-0xa3+0x1e18)+(-0xa16+-0xff+0xb18)]=_0xb100a1,_0x11a1c6['shadows'][_0x436aa8*(-0x15a1+0x2*0x4ea+0xbd1)*(-0xbe9*0x3+-0x7*0xc5+-0x1*-0x2921)+(-0x1*-0x6fb+-0xcbe+0x11*0x57)]=_0x492e08,_0x11a1c6['shadows'][_0x436aa8*(0x3*0xbad+-0x27*-0x25+-0x28a6)*(-0x281*0x1+-0x3*-0xbce+-0x20e6)+(0x54d+-0x1*0x1e2+-0x366)]=_0x327c90,_0x11a1c6['shadows'][_0x436aa8*(0x355*-0x1+0x2*0x62b+-0x8fd)*(0x16*0xb1+0x125e+-0x2191)+(0x2*-0xd69+0x17*-0xdf+0x1*0x2ee1)]=_0xb100a1,_0x11a1c6['shadows'][_0x436aa8*(-0x1896+0x1d9e+-0x504)*(-0x6*-0x445+-0x213e+-0x1*-0x7a3)+(0x6*0x394+0x18eb*0x1+0x2b*-0x114)]=_0x492e08,_0x11a1c6['shadows'][_0x436aa8*(0x161+0x52*0x38+0x9*-0x225)*(0x5*-0x10a+-0x13d+0x672)+(-0x12a8+-0x2641+0x38f1)]=_0x327c90,_0x11a1c6['shadows'][_0x436aa8*(0x151*0x5+0x1*0x464+-0xaf5)*(0x1*0x8f5+-0x1*-0x916+0x4*-0x482)+(0x5*0x1eb+0x4da+0x734*-0x2)]=_0xb100a1,_0x11a1c6['shadows'][_0x436aa8*(0x2d4*0x9+-0x999+0xfd7*-0x1)*(0x35f*-0xa+0x212*0x9+0xf17*0x1)+(0x223*-0x6+-0x1d73*-0x1+-0x1097)]=_0x492e08,_0x11a1c6['shadows'][_0x436aa8*(-0xe6b+-0x189d*-0x1+0x1*-0xa2e)*(-0x1a*-0x148+0x4*0x914+-0x459d)+(0x1b12+-0x2674+0xb6d)]=_0x327c90,_0x11a1c6['quad']++;}_0x2ab97a||_0x4e47a1<_0x21fbcd&&_0x457542(this['_symbols'],_0x21fbcd,_0x36b69b);}this['_noResize']=!(-0x19ce+-0x4d8+-0x2*-0xf53),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(-0x17cc+-0x136e+-0xd9*-0x33);const _0x3cc684=this['_element']['pivot']['x'],_0x43d910=this['_element']['pivot']['y'],_0x2b53a1=this['_alignment']['x'],_0x385330=this['_alignment']['y'];for(let _0x4eaba4=-0x2*-0x5+-0x1*-0x104e+0x416*-0x4;_0x4eaba4<this['_meshInfo']['length'];_0x4eaba4++){if(this['_meshInfo'][_0x4eaba4]['count']===-0x175c+0x11*0x18e+-0x312)continue;let _0x3fbce5=0x2*-0x6dc+0x1208+-0x450;for(const _0x4a1c3e in this['_meshInfo'][_0x4eaba4]['lines']){const _0x21e9ae=this['_meshInfo'][_0x4eaba4]['lines'][_0x4a1c3e],_0x47b2ef=this['_lineWidth'+'s'][parseInt(_0x4a1c3e,0x1ebe+-0x286+-0x1c2e)],_0x38526d=-_0x3cc684*this['_element']['calculated'+'Width']+_0x2b53a1*(this['_element']['calculated'+'Width']-_0x47b2ef)*(this['_rtl']?-(0x22c1+0x664*0x2+-0x2a4*0x12):0x2482+-0x9a4+-0x1add),_0xaacbb0=(-0xa0b+0x1885+-0xe79-_0x43d910)*this['_element']['calculated'+'Height']-_0x2a96ff-(-0x1d23*-0x1+0x1*0x21fb+-0x6b*0x97-_0x385330)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x27a6e8=_0x3fbce5;_0x27a6e8<=_0x21e9ae;_0x27a6e8++)this['_meshInfo'][_0x4eaba4]['positions'][_0x27a6e8*(-0x195f+0x23d*-0xc+0x343f)*(0x155+-0x20f+0xbd)]+=_0x38526d,this['_meshInfo'][_0x4eaba4]['positions'][_0x27a6e8*(-0x1*0x2e3+-0x277*-0x5+-0x96c)*(-0x16*0x63+-0x32*0x82+0x1*0x21e9)+(0x2344+-0x177+-0x21ca)]+=_0x38526d,this['_meshInfo'][_0x4eaba4]['positions'][_0x27a6e8*(-0x1*-0x7b5+0x1*-0x1f3c+0x178b)*(-0x70*-0x3e+-0x1cbf+0x1a2)+(0x1a9d+0x4a*-0x34+-0xb8f)]+=_0x38526d,this['_meshInfo'][_0x4eaba4]['positions'][_0x27a6e8*(-0x10*-0x3b+0x3ab+-0x1*0x757)*(0xa*0x2e9+-0x3*-0xa91+-0x1e65*0x2)+(-0x1404+-0x22c3*-0x1+0x7*-0x21a)]+=_0x38526d,this['_meshInfo'][_0x4eaba4]['positions'][_0x27a6e8*(-0x2*-0x4c7+0x3*0x36+-0xa2c)*(-0x3b*0x9+-0x11fe*-0x2+-0x21e6*0x1)+(0x7*-0x46e+-0x1*0x5cf+0x24d2)]+=_0xaacbb0,this['_meshInfo'][_0x4eaba4]['positions'][_0x27a6e8*(-0x1*-0x1f50+-0x13de+-0xb6e)*(0x6b5+0x152*0x1a+0x1*-0x2906)+(-0x49d*-0x2+-0x1cd1+-0x689*-0x3)]+=_0xaacbb0,this['_meshInfo'][_0x4eaba4]['positions'][_0x27a6e8*(-0xd8b+0x1*-0x2a6+0x1cd*0x9)*(-0x1a5a+0x13a5+0x6b8)+(0x2*-0x1067+-0x8*-0x1af+0x1*0x135d)]+=_0xaacbb0,this['_meshInfo'][_0x4eaba4]['positions'][_0x27a6e8*(0x9*0x327+0x9e2+-0x263d)*(-0x1659+0xd*0x2dd+-0xedd)+(-0x249d+-0x1620+0x3ac7)]+=_0xaacbb0;if(this['_rtl'])for(let _0x4c0970=_0x3fbce5;_0x4c0970<=_0x21e9ae;_0x4c0970++){const _0x473335=_0x4c0970*(-0x96c*0x1+-0xddb+0x174b)*(0x12a3+0x538+-0x17d8);for(let _0x22414f=-0xb*-0x2e6+-0xfaa*-0x1+0xbe3*-0x4;_0x22414f<0x1d2d+-0xa79+-0x4*0x4ac;++_0x22414f)this['_meshInfo'][_0x4eaba4]['positions'][_0x473335+_0x22414f*(-0x332*-0xb+0xa0c+-0x2d2f)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x4eaba4]['positions'][_0x473335+_0x22414f*(0x479+0x1500+-0x1976)]+_0x38526d*(-0xee2+-0x82*0xb+-0x2*-0xa3d);const _0x4cf006=this['_meshInfo'][_0x4eaba4]['positions'][_0x473335+(0x1*0x17a1+0xb*0x55+0x3*-0x917)],_0x409e79=this['_meshInfo'][_0x4eaba4]['positions'][_0x473335+(-0x256f+-0x7*0xc6+0x2adf)];this['_meshInfo'][_0x4eaba4]['positions'][_0x473335+(-0x30+0x26d2*0x1+-0x1*0x269f)]=this['_meshInfo'][_0x4eaba4]['positions'][_0x473335+(0xe09+0xbcb+-0x19d4)],this['_meshInfo'][_0x4eaba4]['positions'][_0x473335+(-0x15d6+0x11*-0x8+0x1664)]=this['_meshInfo'][_0x4eaba4]['positions'][_0x473335+(-0x90*0x22+0x18d6+-0x5ad)],this['_meshInfo'][_0x4eaba4]['positions'][_0x473335+(0x1e21+-0x103f+-0x2*0x6f1)]=_0x4cf006,this['_meshInfo'][_0x4eaba4]['positions'][_0x473335+(0x11e7*0x1+0x17cd+-0x1*0x29ab)]=_0x409e79;}_0x3fbce5=_0x21e9ae+(0x4b5*-0x5+0x2135+0x19*-0x63);}const _0x494ad5=this['_meshInfo'][_0x4eaba4]['count']*(-0x1*-0x44b+0x1620+-0x9*0x2ef),_0x3fc9ed=this['_meshInfo'][_0x4eaba4]['quad']*(0x13a7+-0x10*-0x171+-0x2ab3),_0x5bdaf5=new Uo(this['_meshInfo'][_0x4eaba4]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x59acd3=0x15a8+-0x2*0x49a+-0xc74;_0x59acd3<_0x494ad5;_0x59acd3++)_0x59acd3>=_0x3fc9ed?(_0x5bdaf5['element'][Me]['set'](-0x1b*0x5+0x1595+0x9a*-0x23,0x6*-0x475+0xe18*-0x1+-0x2*-0x146b,-0x13f3*0x1+-0x7*0x3bb+0x2e10),_0x5bdaf5['element'][is]['set'](0x45c+0x12dd+0x1d*-0xcd,-0x1*0x8b+0xa47*-0x3+-0xfb0*-0x2),_0x5bdaf5['element'][Wt]['set'](-0x1*-0xc2d+0x6ed+-0x3*0x65e,-0x1*0x1ab2+-0x1927+-0x1*-0x33d9,-0x1bbd+-0x1*0x2537+0x40f4,-0x1e1*0x11+-0x2*-0x97a+0x1*0xcfd),_0x5bdaf5['element'][Ko]['set'](0x95d+0x2b*0x5+0x28d*-0x4,-0x1*-0x65+0x1ab*-0x4+-0x647*-0x1,0x17f5+0x2132+0x1*-0x3927,0x940+-0x12d4*0x1+0x994),_0x5bdaf5['element'][Zo]['set'](-0x4db+-0x110f+0x15ea,0x1f6e+-0xe73+0x1*-0x10fb,-0x112*0xd+-0x1efd*0x1+0x2ce7,0x6aa+0x20d5+-0x277f)):(_0x5bdaf5['element'][Me]['set'](this['_meshInfo'][_0x4eaba4]['positions'][_0x59acd3*(-0x492+0x436+-0x13*-0x5)+(-0x211c+-0xb*-0x1d+-0x1*-0x1fdd)],this['_meshInfo'][_0x4eaba4]['positions'][_0x59acd3*(-0xf8*0xd+-0x29*0x17+0x104a)+(-0x2*-0x1109+-0x574*0x2+-0x1729)],this['_meshInfo'][_0x4eaba4]['positions'][_0x59acd3*(-0x253a+0x19aa+0xb93)+(0x267e+0x1*0x15f6+-0x6*0xa13)]),_0x5bdaf5['element'][is]['set'](this['_meshInfo'][_0x4eaba4]['uvs'][_0x59acd3*(0x70a+-0xc7a+0x572)+(0x706+0x10a5*-0x2+0x1a44)],this['_meshInfo'][_0x4eaba4]['uvs'][_0x59acd3*(-0x485*0x1+0x13b5+-0xf2e)+(-0xece+0x12*0x213+-0x1687)]),_0x5bdaf5['element'][Wt]['set'](this['_meshInfo'][_0x4eaba4]['colors'][_0x59acd3*(0x683+0x1*0x19e3+-0x2062)+(0x115*0x17+0x1*0x1e2b+-0x1b*0x20a)],this['_meshInfo'][_0x4eaba4]['colors'][_0x59acd3*(0x25c7+0x1df*-0x7+0x1*-0x18aa)+(0x2*-0x269+-0xb8d+-0x20*-0x83)],this['_meshInfo'][_0x4eaba4]['colors'][_0x59acd3*(-0x391*0x8+-0x1ddd+-0x313*-0x13)+(-0x3*0xbf5+0x109*-0x1+0x5*0x762)],this['_meshInfo'][_0x4eaba4]['colors'][_0x59acd3*(0x2b8+0x4*0x8d2+-0x25fc)+(-0x2287*-0x1+0x1*-0x20d3+-0x1b1)]),_0x5bdaf5['element'][Ko]['set'](this['_meshInfo'][_0x4eaba4]['outlines'][_0x59acd3*(-0x7*0x2e3+0x16e7+-0x2af)+(-0x4c4*-0x2+-0x703+-0x285)],this['_meshInfo'][_0x4eaba4]['outlines'][_0x59acd3*(0x21e*0xb+-0x35+-0x1*0x1712)+(-0x1eb0+-0x7d5+0x2686)],this['_meshInfo'][_0x4eaba4]['outlines'][_0x59acd3*(-0xd*0x28d+0x1253+-0x15*-0xb5)+(-0x2424+0x33*-0xad+-0x1*-0x469d)]),_0x5bdaf5['element'][Zo]['set'](this['_meshInfo'][_0x4eaba4]['shadows'][_0x59acd3*(-0x59*0x15+-0x1fa2+0x26f2)+(0x12cb+0x2ef*-0x1+-0xfdc)],this['_meshInfo'][_0x4eaba4]['shadows'][_0x59acd3*(-0xd*0x265+0x55*-0x5+-0xaef*-0x3)+(0xe*-0x10c+-0x3cb*0xa+0x1*0x3497)],this['_meshInfo'][_0x4eaba4]['shadows'][_0x59acd3*(-0x1*-0x213+0x24f8+-0x2708*0x1)+(-0xa*0x1d3+0x10f0*-0x2+-0x20*-0x1a1)])),_0x5bdaf5['next']();_0x5bdaf5['end'](),this['_meshInfo'][_0x4eaba4]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x4eaba4]['positions']),this['_meshInfo'][_0x4eaba4]['meshInstan'+'ce']['_aabbVer']=-(0xe*-0x14+0x2455+-0x233c);}this['_aabbDirty']=!(-0x1fe5*0x1+0x183a+0x7ab);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x610c37){this['font']!==_0x610c37['resource']&&(this['font']=_0x610c37['resource']);}['_onFontCha'+'nge'](_0x519544,_0x4f608a,_0x3d0c58,_0x3b56d8){if(_0x4f608a==='data'){this['_font']['data']=_0x3d0c58;const _0x3ba5aa=this['_font']['data']['info']['maps']['length'];for(let _0x4e4b9f=0x87d+-0x2*0xfa6+0x16cf;_0x4e4b9f<_0x3ba5aa;_0x4e4b9f++){if(!this['_meshInfo'][_0x4e4b9f])continue;const _0x15e381=this['_meshInfo'][_0x4e4b9f]['meshInstan'+'ce'];_0x15e381&&(_0x15e381['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x15e381['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x15e381['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x4e4b9f]['width']));}}}['_onFontRem'+'ove'](_0x55a779){}['_setTextur'+'eParams'](_0x2b4e7b,_0x4aa5f1){this['_font']&&(this['_font']['type']===Rh?(_0x2b4e7b['deletePara'+'meter']('texture_em'+'issiveMap'),_0x2b4e7b['deletePara'+'meter']('texture_op'+'acityMap'),_0x2b4e7b['setParamet'+'er']('texture_ms'+'dfMap',_0x4aa5f1)):this['_font']['type']===dR&&(_0x2b4e7b['deletePara'+'meter']('texture_ms'+'dfMap'),_0x2b4e7b['setParamet'+'er']('texture_em'+'issiveMap',_0x4aa5f1),_0x2b4e7b['setParamet'+'er']('texture_op'+'acityMap',_0x4aa5f1)));}['_getPxRang'+'e'](_0x9e1982){const _0x2b534d=Object['keys'](this['_font']['data']['chars']);for(let _0x5bc077=0x385*-0x7+-0x32c*-0x1+0x1577;_0x5bc077<_0x2b534d['length'];_0x5bc077++){const _0x4fcabb=this['_font']['data']['chars'][_0x2b534d[_0x5bc077]];if(_0x4fcabb['range'])return(_0x4fcabb['scale']||-0xf35+0x2a1+0xc95*0x1)*_0x4fcabb['range'];}return-0x2f1*0x4+-0x8*-0x32b+-0x3*0x486;}['_getUv'](_0x35e4c7){const _0x390953=this['_font']['data'];if(!_0x390953['chars'][_0x35e4c7])return _0x390953['chars']['\x20']?this['_getUv']('\x20'):[0xe76+-0x8cf+0x5a7*-0x1,-0x8*-0x20+-0x18c1+0x1*0x17c1,-0x26a3+-0x1113+0x37b6,-0x252+0x2*0xc07+-0xade*0x2];const _0x2bb955=_0x390953['chars'][_0x35e4c7]['map'],_0x3eb30b=_0x390953['info']['maps'][_0x2bb955]['width'],_0x5ac7c2=_0x390953['info']['maps'][_0x2bb955]['height'],_0x5d9181=_0x390953['chars'][_0x35e4c7]['x'],_0x23fc62=_0x390953['chars'][_0x35e4c7]['y'],_0x1a3ceb=_0x5d9181,_0x29d041=_0x23fc62,_0x422fb3=_0x5d9181+_0x390953['chars'][_0x35e4c7]['width'],_0x19d24e=_0x23fc62-_0x390953['chars'][_0x35e4c7]['height'],_0x42dcbc=0x21d7+0x22e+0x1cd*-0x14-_0x390953['chars'][_0x35e4c7]['height']/_0x5ac7c2;return[_0x1a3ceb/_0x3eb30b,_0x42dcbc-_0x29d041/_0x5ac7c2,_0x422fb3/_0x3eb30b,_0x42dcbc-_0x19d24e/_0x5ac7c2];}['onEnable'](){this['_fontAsset']['autoLoad']=!(-0x1e5*0x3+-0x4c4+0xa73),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(0xea8+0x599*0x1+-0x1440),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x40b838){if(this['_model']){const _0x2a9d6f=this['_model']['meshInstan'+'ces'];for(let _0x8602aa=-0xe3*-0x19+-0x1648+0x1d;_0x8602aa<_0x2a9d6f['length'];_0x8602aa++)_0x2a9d6f[_0x8602aa]['stencilFro'+'nt']=_0x40b838,_0x2a9d6f[_0x8602aa]['stencilBac'+'k']=_0x40b838;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x117fac){const _0xf9befc={};_0x117fac===void(0x7*-0x3f9+-0x37*-0x28+-0x1337*-0x1)&&(_0x117fac=this['_symbols']['length']);for(let _0x13bebc=-0xa3*-0x1f+0x3c*-0x83+0xaf7,_0x17b237=_0x117fac;_0x13bebc<_0x17b237;_0x13bebc++){const _0x46a9b5=this['_symbols'][_0x13bebc];let _0x26e9ef=this['_font']['data']['chars'][_0x46a9b5];_0x26e9ef||(_0x26e9ef=this['_font']['data']['chars']['\x20'],_0x26e9ef||(_0x26e9ef=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[-0x1*-0x138b+0x1e7*0x11+-0x33e2]]));const _0x4ea83d=_0x26e9ef['map'];_0xf9befc[_0x4ea83d]?_0xf9befc[_0x4ea83d]++:_0xf9befc[_0x4ea83d]=-0x2c2*-0x5+-0x9*0xb3+-0x77e;}return _0xf9befc;}['_updateRen'+'derRange'](){const _0x2ce639=this['_rangeStar'+'t']===-0x9fe+0x1c92+-0xa4*0x1d?-0x320*0x8+0x248d*0x1+-0xb8d:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x4f6dc3=this['_rangeEnd']===0x1a44+-0x17*-0x188+-0x3d7c?-0x1301+0x67+0x129a:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x50fcef=0x719+0x12d1+-0x19ea,_0x31000a=this['_meshInfo']['length'];_0x50fcef<_0x31000a;_0x50fcef++){const _0x112564=_0x2ce639[_0x50fcef]||0x118a+0x21ed+-0x1*0x3377,_0x296636=_0x4f6dc3[_0x50fcef]||0x1662+0x14f*0x11+-0x2ca1,_0x1f6892=this['_meshInfo'][_0x50fcef]['meshInstan'+'ce'];if(_0x1f6892){const _0x1598b9=_0x1f6892['mesh'];_0x1598b9&&(_0x1598b9['primitive'][-0x4ef*-0x1+-0x25b2*-0x1+0x7*-0x617]['base']=_0x112564*(0xd*0x1+0x1b*-0x29+0x449)*(0x823*0x3+0x18e5*-0x1+0x7e),_0x1598b9['primitive'][-0x5ac*0x3+-0x25b*-0x9+-0x42f]['count']=(_0x296636-_0x112564)*(0x92f*0x3+0x69+-0x1bf3)*(-0x2157+0x5*0x6b8+-0x3f));}}}set['text'](_0xd061ae){this['_i18nKey']=null;const _0x2dc47c=_0xd061ae!=null&&_0xd061ae['toString']()||'';this['_setText'](_0x2dc47c);}get['text'](){return this['_text'];}set['key'](_0xcf85cf){const _0xbeac5e=_0xcf85cf!==null?_0xcf85cf['toString']():null;this['_i18nKey']!==_0xbeac5e&&(this['_i18nKey']=_0xbeac5e,_0xbeac5e?(this['_fontAsset']['disableLoc'+'alization']=!(0x33d+0x152c+-0x1868),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(-0x1b7b+-0x1477+0x2ff2));}get['key'](){return this['_i18nKey'];}set['color'](_0x408f71){const _0x563a2a=_0x408f71['r'],_0x286917=_0x408f71['g'],_0x168647=_0x408f71['b'];if(this['_color']===_0x408f71&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x563a2a&&this['_color']['g']===_0x286917&&this['_color']['b']===_0x168647)&&(this['_color']['r']=_0x563a2a,this['_color']['g']=_0x286917,this['_color']['b']=_0x168647,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_color']),this['_colorUnif'+'orm'][0x1038+-0x8b5*0x3+-0xa9*-0xf]=We['r'],this['_colorUnif'+'orm'][0x29*0x53+0x51*0x4f+-0x2649]=We['g'],this['_colorUnif'+'orm'][-0x16cf+-0x26d2+-0x3da3*-0x1]=We['b'];for(let _0x29236c=-0x625*-0x3+0x5*0x5b1+-0x2ee4,_0x7e36d9=this['_model']['meshInstan'+'ces']['length'];_0x29236c<_0x7e36d9;_0x29236c++)this['_model']['meshInstan'+'ces'][_0x29236c]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x1791a2){if(this['_color']['a']!==_0x1791a2&&(this['_color']['a']=_0x1791a2,this['_model'])){for(let _0x1dc4f5=0x18bc+0x11a2+-0xb*0x3da,_0x380434=this['_model']['meshInstan'+'ces']['length'];_0x1dc4f5<_0x380434;_0x1dc4f5++)this['_model']['meshInstan'+'ces'][_0x1dc4f5]['setParamet'+'er']('material_o'+'pacity',_0x1791a2);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x1791a2);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x189ef3){const _0x4e6519=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x189ef3,this['_scaledLin'+'eHeight']=_0x189ef3,_0x4e6519!==_0x189ef3&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x1ca718){const _0x289ad3=this['_wrapLines'];this['_wrapLines']=_0x1ca718,_0x289ad3!==_0x1ca718&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x2e7247){const _0x38b17b=this['_spacing'];this['_spacing']=_0x2e7247,_0x38b17b!==_0x2e7247&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x44273a){const _0x27fb8d=this['_fontSize'];this['_fontSize']=_0x44273a,this['_originalF'+'ontSize']=_0x44273a,_0x27fb8d!==_0x44273a&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x17d935){this['_fontAsset']['defaultAss'+'et']=_0x17d935;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0xb3549a){let _0x46c644;if(this['_font']&&(_0x46c644=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0xb3549a,this['_fontMinY']=0x1*-0x141b+-0x52*0xd+0x1845,this['_fontMaxY']=-0x9b*0x13+0x14*-0x7a+0x1509*0x1,!_0xb3549a)return;const _0x1b862f=this['_font']['data'];for(const _0x11daa2 in _0x1b862f['chars']){const _0x42d9f9=_0x1b862f['chars'][_0x11daa2];_0x42d9f9['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x42d9f9['bounds'][-0x1fe0+-0x3*-0x7eb+0xa0*0xd]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x42d9f9['bounds'][-0x489+-0x6d3*0x3+0x1905]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0xb3549a['type']!==_0x46c644){const _0x72db85=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x72db85);}for(let _0x1d0370=0x7f*0x38+0x1941+-0x1*0x3509,_0x219a6a=this['_font']['textures']['length'];_0x1d0370<_0x219a6a;_0x1d0370++)if(!this['_meshInfo'][_0x1d0370])this['_meshInfo'][_0x1d0370]=new vR();else{const _0x92a573=this['_meshInfo'][_0x1d0370]['meshInstan'+'ce'];_0x92a573&&(_0x92a573['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x92a573['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x92a573['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x1d0370]['width']),this['_setTextur'+'eParams'](_0x92a573,this['_font']['textures'][_0x1d0370]));}let _0xb5985b=!(0x134+0x2*-0x339+0x53f);for(let _0x238e3c=this['_font']['textures']['length'];_0x238e3c<this['_meshInfo']['length'];_0x238e3c++)this['_meshInfo'][_0x238e3c]['meshInstan'+'ce']&&(_0xb5985b||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0xb5985b=!(0x1*-0x1f01+-0xa2*-0x17+0x1073)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x238e3c]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x475b32){_0x475b32 instanceof J?this['_alignment']['set'](_0x475b32['x'],_0x475b32['y']):this['_alignment']['set'](_0x475b32[0xc04+-0x1b6f+0xf6b],_0x475b32[0x22f*-0xd+-0x4*0x44f+0x2da0]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x480dca){const _0x1e42be=this['_autoWidth'];if(this['_autoWidth']=_0x480dca,_0x480dca&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<-0x121a+0x923+0x8f7+0.0001&&(this['_element']['width']=this['width']),_0x1e42be!==_0x480dca){const _0x522f22=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x522f22!==this['_fontSize']&&(this['_fontSize']=_0x522f22,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x36ef3b){const _0x305368=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x36ef3b,_0x36ef3b&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0x524+-0x11*0x2+-0x502+0.0001&&(this['_element']['height']=this['height']),_0x305368!==_0x36ef3b){const _0x11ebdc=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x11ebdc!==this['_fontSize']&&(this['_fontSize']=_0x11ebdc,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x892918){this['_rtlReorde'+'r']!==_0x892918&&(this['_rtlReorde'+'r']=_0x892918,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x433c94){this['_unicodeCo'+'nverter']!==_0x433c94&&(this['_unicodeCo'+'nverter']=_0x433c94,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x39d1ac=!(-0x1aee+-0x17ab+0x329a);for(let _0x5e512c=0x1e97+-0xda7+0x43c*-0x4;_0x5e512c<this['_meshInfo']['length'];_0x5e512c++)this['_meshInfo'][_0x5e512c]['meshInstan'+'ce']&&(_0x39d1ac?this['_aabb']['add'](this['_meshInfo'][_0x5e512c]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x5e512c]['meshInstan'+'ce']['aabb']),_0x39d1ac=!(0x423+0x1619+-0x1a3c)));this['_aabbDirty']=!(-0x1ab4+0x3*0x313+0x117c);}return this['_aabb'];}set['outlineCol'+'or'](_0x5f01d4){const _0x5460a3=_0x5f01d4 instanceof ie?_0x5f01d4['r']:_0x5f01d4[0x601+-0x1c09*-0x1+-0x220a],_0x5b1d2a=_0x5f01d4 instanceof ie?_0x5f01d4['g']:_0x5f01d4[-0x1e72*-0x1+-0x3f7+0xd3d*-0x2],_0x135c3c=_0x5f01d4 instanceof ie?_0x5f01d4['b']:_0x5f01d4[-0x3e*0x92+0xa18*0x3+0x1b2*0x3],_0x1935c2=_0x5f01d4 instanceof ie?_0x5f01d4['a']:_0x5f01d4[-0x1710+-0x1df8+0x25*0x16f];if(this['_outlineCo'+'lor']===_0x5f01d4&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x5460a3&&this['_outlineCo'+'lor']['g']===_0x5b1d2a&&this['_outlineCo'+'lor']['b']===_0x135c3c&&this['_outlineCo'+'lor']['a']===_0x1935c2)&&(this['_outlineCo'+'lor']['r']=_0x5460a3,this['_outlineCo'+'lor']['g']=_0x5b1d2a,this['_outlineCo'+'lor']['b']=_0x135c3c,this['_outlineCo'+'lor']['a']=_0x1935c2,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0xe*-0x277+-0x13*-0xf+0x67*0x53]=We['r'],this['_outlineCo'+'lorUniform'][-0x1913+0x22ca+-0x9b6]=We['g'],this['_outlineCo'+'lorUniform'][-0x94+0x11*-0xe+-0x1*-0x184]=We['b'],this['_outlineCo'+'lorUniform'][-0x1b18+0x7e4+0x1337]=We['a'];for(let _0x148b92=0x166c+0x7*0x35+-0x17df,_0x43634b=this['_model']['meshInstan'+'ces']['length'];_0x148b92<_0x43634b;_0x148b92++)this['_model']['meshInstan'+'ces'][_0x148b92]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x435f5d){const _0x186d26=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x435f5d,_0x186d26!==_0x435f5d&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x2014e4=0x2*-0x383+0x19fd+-0x12f7,_0x2434ad=this['_model']['meshInstan'+'ces']['length'];_0x2014e4<_0x2434ad;_0x2014e4++)this['_model']['meshInstan'+'ces'][_0x2014e4]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0xf8b616){const _0x312cae=_0xf8b616 instanceof ie?_0xf8b616['r']:_0xf8b616[0x3e*-0x8c+0x18e1+0x907],_0x491b28=_0xf8b616 instanceof ie?_0xf8b616['g']:_0xf8b616[0x2694+-0x1*-0x2581+-0x43a*0x12],_0x2e548f=_0xf8b616 instanceof ie?_0xf8b616['b']:_0xf8b616[-0x5*-0x3da+0xd68+-0x20a8],_0xc4d7ad=_0xf8b616 instanceof ie?_0xf8b616['a']:_0xf8b616[0x24f*0xd+0x19b9+-0x37b9];if(this['_shadowCol'+'or']===_0xf8b616&&w['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x312cae&&this['_shadowCol'+'or']['g']===_0x491b28&&this['_shadowCol'+'or']['b']===_0x2e548f&&this['_shadowCol'+'or']['a']===_0xc4d7ad)&&(this['_shadowCol'+'or']['r']=_0x312cae,this['_shadowCol'+'or']['g']=_0x491b28,this['_shadowCol'+'or']['b']=_0x2e548f,this['_shadowCol'+'or']['a']=_0xc4d7ad,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x1880+0x13d0+-0x2c50]=We['r'],this['_shadowCol'+'orUniform'][-0x174b+0x3*-0x62e+-0x2fd*-0xe]=We['g'],this['_shadowCol'+'orUniform'][0x58e*0x3+0x83d+-0x18e5]=We['b'],this['_shadowCol'+'orUniform'][0x22b4+-0x1720+-0xb91]=We['a'];for(let _0xcd1f04=-0x215f+-0x991+-0x1*-0x2af0,_0x415129=this['_model']['meshInstan'+'ces']['length'];_0xcd1f04<_0x415129;_0xcd1f04++)this['_model']['meshInstan'+'ces'][_0xcd1f04]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x1edd3e){const _0x58b1d3=_0x1edd3e instanceof J?_0x1edd3e['x']:_0x1edd3e[-0x5d*0x25+0x1547+-0x7d6],_0x206380=_0x1edd3e instanceof J?_0x1edd3e['y']:_0x1edd3e[-0x1349+-0x1902+-0x54*-0x87];if(!(this['_shadowOff'+'set']['x']===_0x58b1d3&&this['_shadowOff'+'set']['y']===_0x206380)&&(this['_shadowOff'+'set']['set'](_0x58b1d3,_0x206380),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x316cd3=0x41e+-0x1140+-0xd22*-0x1,_0x2c0894=this['_model']['meshInstan'+'ces']['length'];_0x316cd3<_0x2c0894;_0x316cd3++){const _0xc92c2a=-this['_font']['data']['info']['maps'][_0x316cd3]['width']/this['_font']['data']['info']['maps'][_0x316cd3]['height'];this['_shadowOff'+'setUniform'][-0x2542+-0x57c+-0x1*-0x2abe]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x18*-0x13e+0x1fc2+-0x3d91*0x1]=_0xc92c2a*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x316cd3]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x455382){this['_minFontSi'+'ze']!==_0x455382&&(this['_minFontSi'+'ze']=_0x455382,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x262f55){this['_maxFontSi'+'ze']!==_0x262f55&&(this['_maxFontSi'+'ze']=_0x262f55,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x84b83d){this['_autoFitWi'+'dth']!==_0x84b83d&&(this['_autoFitWi'+'dth']=_0x84b83d,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x3ce99b){this['_autoFitHe'+'ight']!==_0x3ce99b&&(this['_autoFitHe'+'ight']=_0x3ce99b,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x57cc5b){this['_maxLines']!==_0x57cc5b&&(_0x57cc5b===null&&this['_maxLines']===-(-0x23d8+-0x1916+-0x335*-0x13)||(this['_maxLines']=_0x57cc5b===null?-(0x1*0x1fd+-0x1aa9+-0x18ad*-0x1):_0x57cc5b,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x59d5ae){if(_0x59d5ae=!!_0x59d5ae,this['_enableMar'+'kup']===_0x59d5ae)return;this['_enableMar'+'kup']=_0x59d5ae,this['font']&&this['_updateTex'+'t']();const _0x3eb46a=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x3eb46a);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x3856cb){return this['_colorPale'+'tte']['slice'](_0x3856cb*(0x5f8*0x1+-0x3*0x340+0x3cb),_0x3856cb*(0x2424+0x49+-0x246a)+(-0x1744+0x2e2+0x1465));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x3d777b){return this['_outlinePa'+'lette']['slice'](_0x3d777b*(0xcd8+-0xa05+0x2ce*-0x1),_0x3d777b*(-0x1833+-0x21c+0x14*0x151)+(-0x3e2+0x24e2+-0x20fb));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x77a0ca){return this['_shadowPal'+'ette']['slice'](_0x77a0ca*(-0x1e35+0xbdf+0x125c),_0x77a0ca*(0xe03+-0x2678+0x187b*0x1)+(0x1*-0xfcb+-0x1493+0x2464));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x4f3f5c){_0x4f3f5c=Math['max'](0x23a7+0x83*0x1+-0x3*0xc0e,Math['min'](_0x4f3f5c,this['_symbols']['length'])),_0x4f3f5c!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x4f3f5c,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x4817bc){_0x4817bc=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x4817bc,this['_symbols']['length'])),_0x4817bc!==this['_rangeEnd']&&(this['_rangeEnd']=_0x4817bc,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Ef=new D(),Zg=new te(),Pi=new D(),MR=new D(),ws=new te(),bc=new te(),Ac=new te(),$a=new te();class hs extends we{constructor(_0x17787c,_0x38082a){super(_0x17787c,_0x38082a),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(-0x6*-0x1f4+0x2*-0x26c+-0x6df),this['_anchor']=new re(),this['_localAnch'+'or']=new re(),this['_pivot']=new J(),this['_width']=this['_calculate'+'dWidth']=-0x1115+0x7*0x41b+-0xb88,this['_height']=this['_calculate'+'dHeight']=-0x1*-0x261a+-0x13a*0xe+-0x14ce,this['_margin']=new re(-0x22b5+-0x29d*-0x3+0xb5*0x26,-0x80a+0x256a+-0x5e0*0x5,-(-0x1*0x1b7f+-0xe15+-0x14da*-0x2),-(-0x1d08+0xae9+-0x123f*-0x1)),this['_modelTran'+'sform']=new te(),this['_screenToW'+'orld']=new te(),this['_anchorTra'+'nsform']=new te(),this['_anchorDir'+'ty']=!(0x2640+0x22f3+-0x1*0x4933),this['_parentWor'+'ldTransfor'+'m']=new te(),this['_screenTra'+'nsform']=new te(),this['_screenCor'+'ners']=[new D(),new D(),new D(),new D()],this['_canvasCor'+'ners']=[new J(),new J(),new J(),new J()],this['_worldCorn'+'ers']=[new D(),new D(),new D(),new D()],this['_cornersDi'+'rty']=!(0x1*-0x1cda+-0x15cf+0x32a9),this['_canvasCor'+'nersDirty']=!(-0x2168+0xd5e+-0x3*-0x6ae),this['_worldCorn'+'ersDirty']=!(-0x901*0x1+0x133e+-0xa3d),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=eh,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=-0x278+-0x105f*-0x1+-0xde7*0x1,this['_fitMode']=th,this['_useInput']=!(-0x3e6*0x3+0xb1e+-0x1*-0x95),this['_layers']=[Il],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(0x233c*0x1+-0x1506+0xe35*-0x1),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=-0xe21+0x2*0x10fb+-0x13d5,this['_maskOffse'+'t']=0x26e+-0x73d*0x5+-0x43*-0x81+0.5,this['_maskedBy']=null);}get['data'](){const _0x464a0d=this['system']['store'][this['entity']['getGuid']()];return _0x464a0d?_0x464a0d['data']:null;}set['enabled'](_0x52f053){const _0x5aeb70=this['data'],_0x13d1bf=_0x5aeb70['enabled'];_0x5aeb70['enabled']=_0x52f053,this['fire']('set','enabled',_0x13d1bf,_0x52f053);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>0x4*-0x375+-0x2649+0x115f*0x3+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>-0x2dc*-0x3+0x493+-0x1e1*0x7+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x584a38){_0x584a38 instanceof re?this['_anchor']['copy'](_0x584a38):this['_anchor']['set'](..._0x584a38),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(-0x2*-0x12e0+-0xd93+0x3*-0x80f),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x214084){var _0x18c6e4,_0x234677;this['_batchGrou'+'pId']!==_0x214084&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x2356+0x1f*0x57+-0x7*-0x38b&&((_0x18c6e4=this['system']['app']['batcher'])==null||_0x18c6e4['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x214084>=0x22da*-0x1+0xafa*0x1+0xbf0*0x2&&((_0x234677=this['system']['app']['batcher'])==null||_0x234677['insert'](St['ELEMENT'],_0x214084,this['entity'])),_0x214084<0x15ce+-0x33*0x15+-0x119f&&this['_batchGrou'+'pId']>=-0x9c*0x1+-0x2*0x572+0xb80&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x214084);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x1ccaf7){this['_margin']['y']=_0x1ccaf7;const _0x3da324=this['entity']['getLocalPo'+'sition'](),_0x2fe5ac=this['_absTop'],_0x5c1ad0=this['_localAnch'+'or']['y']+_0x1ccaf7;this['_setHeight'](_0x2fe5ac-_0x5c1ad0),_0x3da324['y']=_0x1ccaf7+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x3da324);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x224637){this['_setCalcul'+'atedWidth'](_0x224637,!(-0x813*-0x1+0x663*-0x6+0x1e3f));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x48d6bd){this['_setCalcul'+'atedHeight'](_0x48d6bd,!(0x107a+0x185+0x10f*-0x11));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x416fcd=this['system']['app']['graphicsDe'+'vice'],_0x466e47=this['screenCorn'+'ers'],_0x1f1d41=_0x416fcd['canvas']['clientWidt'+'h']/_0x416fcd['width'],_0x448a28=_0x416fcd['canvas']['clientHeig'+'ht']/_0x416fcd['height'];for(let _0x2f669f=0x492+0x22b7*-0x1+0x1e25;_0x2f669f<0x16db*-0x1+0x206c*-0x1+0x5f*0x95;_0x2f669f++)this['_canvasCor'+'ners'][_0x2f669f]['set'](_0x466e47[_0x2f669f]['x']*_0x1f1d41,(_0x416fcd['height']-_0x466e47[_0x2f669f]['y'])*_0x448a28);return this['_canvasCor'+'nersDirty']=!(0x5*0x40d+0x2ba*0x1+-0x16fa),this['_canvasCor'+'ners'];}set['drawOrder'](_0x4b5e3e){let _0x378770=0x1470+-0x105c*-0x1+-0x1*0x24cc;this['screen']&&(_0x378770=this['screen']['screen']['priority']),_0x4b5e3e>-0x1768188+0xb*0x1fff0f+0x92*0x1e869&&(w['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x4b5e3e=0x23*0x6fd62+-0x1c949c9+0x1*0x1d4a562),this['_drawOrder']=(_0x378770<<-0x13da+0x1*0x1bfe+-0x80c)+_0x4b5e3e,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x22e038){this['_height']=_0x22e038,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x22e038,!(-0x1c2e+0x23b1+-0x783)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x308736){if(this['_addedMode'+'ls']['length'])for(let _0x3c1d10=0x25b2+-0x204+-0x23ae;_0x3c1d10<this['_layers']['length'];_0x3c1d10++){const _0x4730ce=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x3c1d10]);if(_0x4730ce){for(let _0x2a79fa=-0x31*0xbf+0x2488+0x7;_0x2a79fa<this['_addedMode'+'ls']['length'];_0x2a79fa++)_0x4730ce['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x2a79fa]['meshInstan'+'ces']);}}if(this['_layers']=_0x308736,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x4e892f=-0x1*0xe3e+-0x10e*0x1b+-0x2ab8*-0x1;_0x4e892f<this['_layers']['length'];_0x4e892f++){const _0x1bc9aa=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x4e892f]);if(_0x1bc9aa){for(let _0x492a48=0xb6*-0x7+0x2655+-0x215b*0x1;_0x492a48<this['_addedMode'+'ls']['length'];_0x492a48++)_0x1bc9aa['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x492a48]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x777b57){this['_margin']['x']=_0x777b57;const _0x17c605=this['entity']['getLocalPo'+'sition'](),_0x272180=this['_absRight'],_0x1e1183=this['_localAnch'+'or']['x']+_0x777b57;this['_setWidth'](_0x272180-_0x1e1183),_0x17c605['x']=_0x777b57+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x17c605);}get['left'](){return this['_margin']['x'];}set['margin'](_0x545478){this['_margin']['copy'](_0x545478),this['_calculate'+'Size'](!(0x1*0x10c6+0x7*0x167+-0x1*0x1a97),!(-0x17c8+0xd*0x15c+-0x44*-0x17)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x26f042){const {pivot:_0x5a625c,margin:_0x408317}=this,_0x532fac=_0x5a625c['x'],_0x45a6db=_0x5a625c['y'];_0x26f042 instanceof J?_0x5a625c['copy'](_0x26f042):_0x5a625c['set'](..._0x26f042);const _0x184e11=_0x408317['x']+_0x408317['z'],_0x52eda8=_0x5a625c['x']-_0x532fac;_0x408317['x']+=_0x184e11*_0x52eda8,_0x408317['z']-=_0x184e11*_0x52eda8;const _0x5bc1b4=_0x408317['y']+_0x408317['w'],_0x5070cf=_0x5a625c['y']-_0x45a6db;_0x408317['y']+=_0x5bc1b4*_0x5070cf,_0x408317['w']-=_0x5bc1b4*_0x5070cf,this['_anchorDir'+'ty']=!(-0x844+-0x407*-0x3+-0x3d1),this['_cornersDi'+'rty']=!(-0x2162+-0x167a+0xd*0x44c),this['_worldCorn'+'ersDirty']=!(0x558+0x13e7*-0x1+-0xe8f*-0x1),this['_calculate'+'Size'](!(-0x1c12+-0x2642+0x4255),!(0x12b*-0x11+0x200a+-0xc2e)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x5a625c);}get['pivot'](){return this['_pivot'];}set['right'](_0x6aa289){this['_margin']['z']=_0x6aa289;const _0x1a9fe9=this['entity']['getLocalPo'+'sition'](),_0x1fce41=this['_absLeft'],_0x18b7ec=this['_localAnch'+'or']['z']-_0x6aa289;this['_setWidth'](_0x18b7ec-_0x1fce41),_0x1a9fe9['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x6aa289-this['_calculate'+'dWidth']*(0xddd+0x16c+-0x8*0x1e9-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x1a9fe9);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x12776f=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][0x1516+-0x18e5+0x3cf];this['_screenCor'+'ners'][-0x6f7+0x108a*0x1+-0x993]['set'](this['_absLeft'],this['_absBottom'],-0x10e6+-0x1*-0x200f+-0x1*0xf29),this['_screenCor'+'ners'][-0x2*-0xddb+0x2105+-0x3cba]['set'](this['_absRight'],this['_absBottom'],-0xe9c+-0x91a*-0x3+-0xcb2),this['_screenCor'+'ners'][0x2628+-0xf*-0x19e+-0x8*0x7cd]['set'](this['_absRight'],this['_absTop'],0x1*0x34d+0xccc+-0x13d*0xd),this['_screenCor'+'ners'][0x5c+0x16be+-0x101*0x17]['set'](this['_absLeft'],this['_absTop'],-0x3*-0x22d+0x1355+-0x19dc);const _0x59f8f4=this['screen']['screen']['screenSpac'+'e'];for(let _0x2afa02=0x2*0x631+0x2bf*0x7+-0x1f*0x105;_0x2afa02<-0x12c+0x345+-0x215;_0x2afa02++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x2afa02],this['_screenCor'+'ners'][_0x2afa02]),_0x59f8f4&&this['_screenCor'+'ners'][_0x2afa02]['mulScalar'](this['screen']['screen']['scale']),_0x12776f&&this['_screenCor'+'ners'][_0x2afa02]['add'](_0x12776f);return this['_cornersDi'+'rty']=!(0x1fd5*-0x1+-0x17c1+0x3797),this['_canvasCor'+'nersDirty']=!(-0x1*0x13ff+0x1*-0x16af+0x2aae),this['_worldCorn'+'ersDirty']=!(-0x208b+-0xccd+0x2*0x16ac),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:0x9df+-0x12df*-0x1+-0x1cbe;}get['textHeight'](){return this['_text']?this['_text']['height']:0x2221*-0x1+0x2c7+0x1f5a;}set['top'](_0x1cbdad){this['_margin']['w']=_0x1cbdad;const _0x4c4b31=this['entity']['getLocalPo'+'sition'](),_0x4ad331=this['_absBottom'],_0x5bf1b4=this['_localAnch'+'or']['w']-_0x1cbdad;this['_setHeight'](_0x5bf1b4-_0x4ad331),_0x4c4b31['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x1cbdad-this['_calculate'+'dHeight']*(0x120a*0x2+-0x220a+0x1*-0x209-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x4c4b31);}get['top'](){return this['_margin']['w'];}set['type'](_0x2cb755){_0x2cb755!==this['_type']&&(this['_type']=_0x2cb755,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x2cb755===Cu?this['_image']=new cR(this):_0x2cb755===jv&&(this['_text']=new PR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x2a0f6d){this['_useInput']!==_0x2a0f6d&&(this['_useInput']=_0x2a0f6d,this['system']['app']['elementInp'+'ut']?_0x2a0f6d?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(0x2216+-0xd*0x45+0x1*-0x1e95)&&w['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x2a0f6d));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x471e2){this['_fitMode']=_0x471e2,this['_calculate'+'Size'](!(0x77*0x2+-0x21e6+0x20f8),!(0x1ffc+0x167c+-0x3678)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x3510c7){this['_width']=_0x3510c7,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x3510c7,!(0x5e*-0x13+-0xeda+0x15d4)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x52a5c4=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){ws['copy'](this['screen']['screen']['_screenMat'+'rix']),ws['data'][0x2*-0xffb+0x23c+0x1dc7]=-ws['data'][0x1534+0xa3f*0x1+-0x1f66],ws['mul2'](this['screen']['getWorldTr'+'ansform'](),ws);for(let _0x2af5b1=-0x236a+0xe74+0x14f6;_0x2af5b1<0x3*0xbf5+0xce1*0x1+-0x185e*0x2;_0x2af5b1++)ws['transformP'+'oint'](_0x52a5c4[_0x2af5b1],this['_worldCorn'+'ers'][_0x2af5b1]);}}else{const _0x151d62=this['entity']['getLocalPo'+'sition']();ws['setTransla'+'te'](-_0x151d62['x'],-_0x151d62['y'],-_0x151d62['z']),bc['setTRS'](D['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x151d62['x'],_0x151d62['y'],_0x151d62['z']);const _0x5b04ae=this['entity']['parent']?this['entity']['parent']:this['entity'];$a['copy'](_0x5b04ae['getWorldTr'+'ansform']()),$a['mul'](Ac)['mul'](bc)['mul'](ws),Pi['set'](_0x151d62['x']-this['pivot']['x']*this['calculated'+'Width'],_0x151d62['y']-this['pivot']['y']*this['calculated'+'Height'],_0x151d62['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x10*-0x239+-0x90b*0x4+0x4*0x27]),Pi['set'](_0x151d62['x']+(-0x26f9+-0xc91*-0x1+0x1a69-this['pivot']['x'])*this['calculated'+'Width'],_0x151d62['y']-this['pivot']['y']*this['calculated'+'Height'],_0x151d62['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x1ea0+-0x1c4a+-0x255]),Pi['set'](_0x151d62['x']+(-0x2*-0x679+0xffc+-0x1ced-this['pivot']['x'])*this['calculated'+'Width'],_0x151d62['y']+(-0x24f7+-0x1*0x1dbc+0x42b4-this['pivot']['y'])*this['calculated'+'Height'],_0x151d62['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x12a4+0x121*0x2+-0x14e4]),Pi['set'](_0x151d62['x']-this['pivot']['x']*this['calculated'+'Width'],_0x151d62['y']+(0x4*-0x8bb+-0x215f*0x1+0x444c-this['pivot']['y'])*this['calculated'+'Height'],_0x151d62['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0xb1a+0x442+-0x3*-0x249]);}return this['_worldCorn'+'ersDirty']=!(0x1387*0x1+0x2*0xc9+0x1e*-0xb4),this['_worldCorn'+'ers'];}set['fontSize'](_0x1850a8){this['_setValue']('fontSize',_0x1850a8);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x4821f6){this['_setValue']('minFontSiz'+'e',_0x4821f6);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x3f1d89){this['_setValue']('maxFontSiz'+'e',_0x3f1d89);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x247654){this['_setValue']('maxLines',_0x247654);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x82d249){this['_setValue']('autoFitWid'+'th',_0x82d249);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x1d19af){this['_setValue']('autoFitHei'+'ght',_0x1d19af);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x1e26d5){this['_setValue']('color',_0x1e26d5);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x5aef04){this['_setValue']('font',_0x5aef04);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x2ad8aa){this['_setValue']('fontAsset',_0x2ad8aa);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x27825c){this['_setValue']('spacing',_0x27825c);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x38312a){this['_setValue']('lineHeight',_0x38312a);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x1a99c4){this['_setValue']('wrapLines',_0x1a99c4);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x306bd6){this['_setValue']('lines',_0x306bd6);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x5d71f4){this['_setValue']('alignment',_0x5d71f4);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x2a9b15){this['_setValue']('autoWidth',_0x2a9b15);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x17a83a){this['_setValue']('autoHeight',_0x17a83a);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x35cbdd){this['_setValue']('rtlReorder',_0x35cbdd);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x324fe1){this['_setValue']('unicodeCon'+'verter',_0x324fe1);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x494e20){this['_setValue']('text',_0x494e20);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x28a2d7){this['_setValue']('key',_0x28a2d7);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x21b0e2){this['_setValue']('texture',_0x21b0e2);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x1a9528){this['_setValue']('textureAss'+'et',_0x1a9528);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x5ace89){this['_setValue']('material',_0x5ace89);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0xe76d33){this['_setValue']('materialAs'+'set',_0xe76d33);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x4d6552){this['_setValue']('sprite',_0x4d6552);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x127863){this['_setValue']('spriteAsse'+'t',_0x127863);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x5601cb){this['_setValue']('spriteFram'+'e',_0x5601cb);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x48a8f5){this['_setValue']('pixelsPerU'+'nit',_0x48a8f5);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x2fa674){this['_setValue']('opacity',_0x2fa674);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x2ae48a){this['_setValue']('rect',_0x2ae48a);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0xbcdfcc){this['_setValue']('mask',_0xbcdfcc);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x2b8d59){this['_setValue']('outlineCol'+'or',_0x2b8d59);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x4c5ef9){this['_setValue']('outlineThi'+'ckness',_0x4c5ef9);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x63f434){this['_setValue']('shadowColo'+'r',_0x63f434);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x300c76){this['_setValue']('shadowOffs'+'et',_0x300c76);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x3fad93){this['_setValue']('enableMark'+'up',_0x3fad93);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x143e33){this['_setValue']('rangeStart',_0x143e33);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x1829af){this['_setValue']('rangeEnd',_0x1829af);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x268f34,_0x346e1b){this['_text']?(this['_text'][_0x268f34]!==_0x346e1b&&this['_dirtyBatc'+'h'](),this['_text'][_0x268f34]=_0x346e1b):this['_image']&&(this['_image'][_0x268f34]!==_0x346e1b&&this['_dirtyBatc'+'h'](),this['_image'][_0x268f34]=_0x346e1b);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=lt['prototype']['_sync'],this['entity']['setPositio'+'n']=lt['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=lt['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x130c03,_0x313194,_0x58b07a){if(!this['element']['screen']){lt['prototype']['setPositio'+'n']['call'](this,_0x130c03,_0x313194,_0x58b07a);return;}_0x130c03 instanceof D?Ef['copy'](_0x130c03):Ef['set'](_0x130c03,_0x313194,_0x58b07a),this['getWorldTr'+'ansform'](),Zg['copy'](this['element']['_screenToW'+'orld'])['invert'](),Zg['transformP'+'oint'](Ef,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0xfbaa4f,_0x1a8bbf,_0x34dbdb){_0xfbaa4f instanceof D?this['localPosit'+'ion']['copy'](_0xfbaa4f):this['localPosit'+'ion']['set'](_0xfbaa4f,_0x1a8bbf,_0x34dbdb);const _0x1ef8fc=this['element'],_0x189d0a=this['localPosit'+'ion'],_0x4bc07b=_0x1ef8fc['_pivot'];_0x1ef8fc['_margin']['x']=_0x189d0a['x']-_0x1ef8fc['_calculate'+'dWidth']*_0x4bc07b['x'],_0x1ef8fc['_margin']['z']=_0x1ef8fc['_localAnch'+'or']['z']-_0x1ef8fc['_localAnch'+'or']['x']-_0x1ef8fc['_calculate'+'dWidth']-_0x1ef8fc['_margin']['x'],_0x1ef8fc['_margin']['y']=_0x189d0a['y']-_0x1ef8fc['_calculate'+'dHeight']*_0x4bc07b['y'],_0x1ef8fc['_margin']['w']=_0x1ef8fc['_localAnch'+'or']['w']-_0x1ef8fc['_localAnch'+'or']['y']-_0x1ef8fc['_calculate'+'dHeight']-_0x1ef8fc['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x26cd51=this['element'],_0x449614=_0x26cd51['screen'];if(_0x449614){if(_0x26cd51['_anchorDir'+'ty']){let _0x341853=-0x40*0x8e+-0xba1+-0x1*-0x2f21,_0x188f2d=0xea3*-0x2+-0x2698+0x1*0x43de,_0x4fd911=-0x46b*-0x4+-0x10a3+-0x109,_0x31d1ed=-0x19ae+-0x148c*0x1+-0x2d*-0x107;if(this['_parent']&&this['_parent']['element'])_0x341853=this['_parent']['element']['calculated'+'Width'],_0x188f2d=this['_parent']['element']['calculated'+'Height'],_0x4fd911=this['_parent']['element']['pivot']['x'],_0x31d1ed=this['_parent']['element']['pivot']['y'];else{const _0x2fb710=_0x449614['screen']['resolution'];_0x341853=_0x2fb710['x']/_0x449614['screen']['scale'],_0x188f2d=_0x2fb710['y']/_0x449614['screen']['scale'];}_0x26cd51['_anchorTra'+'nsform']['setTransla'+'te'](_0x341853*(_0x26cd51['anchor']['x']-_0x4fd911),-(_0x188f2d*(_0x31d1ed-_0x26cd51['anchor']['y'])),0x1*0x13da+0x83*-0x4c+0x130a),_0x26cd51['_anchorDir'+'ty']=!(-0x260b*-0x1+-0x234+-0x1a1*0x16),_0x26cd51['_calculate'+'LocalAncho'+'rs']();}_0x26cd51['_sizeDirty']&&_0x26cd51['_calculate'+'Size'](!(-0x1*-0x1cba+-0x1*-0x765+-0x241e),!(0xf46+-0x415+-0x598*0x2));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x19e069=this['localPosit'+'ion'],_0x15b836=_0x26cd51['_pivot'];_0x26cd51['_margin']['x']=_0x19e069['x']-_0x26cd51['_calculate'+'dWidth']*_0x15b836['x'],_0x26cd51['_margin']['z']=_0x26cd51['_localAnch'+'or']['z']-_0x26cd51['_localAnch'+'or']['x']-_0x26cd51['_calculate'+'dWidth']-_0x26cd51['_margin']['x'],_0x26cd51['_margin']['y']=_0x19e069['y']-_0x26cd51['_calculate'+'dHeight']*_0x15b836['y'],_0x26cd51['_margin']['w']=_0x26cd51['_localAnch'+'or']['w']-_0x26cd51['_localAnch'+'or']['y']-_0x26cd51['_calculate'+'dHeight']-_0x26cd51['_margin']['y'],this['_dirtyLoca'+'l']=!(-0x1*0x9b8+-0x71*-0x1+0x63*0x18);}if(!_0x449614){this['_dirtyWorl'+'d']&&(_0x26cd51['_cornersDi'+'rty']=!(0x1bb+-0x1*0x10cb+0x788*0x2),_0x26cd51['_canvasCor'+'nersDirty']=!(-0x7bb*0x5+-0x179d+-0x3e44*-0x1),_0x26cd51['_worldCorn'+'ersDirty']=!(-0x2094+0x1ec8+0x1cc)),lt['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x26cd51['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x26cd51['_anchorTra'+'nsform']):_0x26cd51['_screenToW'+'orld']['copy'](_0x26cd51['_anchorTra'+'nsform']),_0x26cd51['_modelTran'+'sform']['mul2'](_0x26cd51['_screenToW'+'orld'],this['localTrans'+'form']),_0x449614){_0x26cd51['_screenToW'+'orld']['mul2'](_0x449614['screen']['_screenMat'+'rix'],_0x26cd51['_screenToW'+'orld']),_0x449614['screen']['screenSpac'+'e']||_0x26cd51['_screenToW'+'orld']['mul2'](_0x449614['worldTrans'+'form'],_0x26cd51['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x26cd51['_screenToW'+'orld'],this['localTrans'+'form']);const _0x533fd6=_0x26cd51['_parentWor'+'ldTransfor'+'m'];_0x533fd6['setIdentit'+'y']();const _0x44c9a4=this['_parent'];_0x44c9a4&&_0x44c9a4['element']&&_0x44c9a4!==_0x449614&&(ws['setTRS'](D['ZERO'],_0x44c9a4['getLocalRo'+'tation'](),_0x44c9a4['getLocalSc'+'ale']()),_0x533fd6['mul2'](_0x44c9a4['element']['_parentWor'+'ldTransfor'+'m'],ws));const _0x565bcc=Pi;_0x565bcc['set'](0x16+-0x257b+-0xc77*-0x3,0x568*0x3+-0x1e29+0xdf1*0x1,this['localPosit'+'ion']['z']);const _0x2b19e0=MR;_0x2b19e0['set'](_0x26cd51['_absLeft']+_0x26cd51['_pivot']['x']*_0x26cd51['calculated'+'Width'],_0x26cd51['_absBottom']+_0x26cd51['_pivot']['y']*_0x26cd51['calculated'+'Height'],-0x3*-0x80d+0x8*0x3f1+-0x5*0xb23),ws['setTransla'+'te'](-_0x2b19e0['x'],-_0x2b19e0['y'],-_0x2b19e0['z']),bc['setTRS'](_0x565bcc,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x2b19e0['x'],_0x2b19e0['y'],_0x2b19e0['z']),_0x26cd51['_screenTra'+'nsform']['mul2'](_0x26cd51['_parentWor'+'ldTransfor'+'m'],Ac)['mul'](bc)['mul'](ws),_0x26cd51['_cornersDi'+'rty']=!(-0x5bf+0x1b7d+-0x2*0xadf),_0x26cd51['_canvasCor'+'nersDirty']=!(0x2*0xe62+0x21d2+-0x1f4b*0x2),_0x26cd51['_worldCorn'+'ersDirty']=!(0x677*-0x5+0x1a68+0x5eb);}else this['worldTrans'+'form']['copy'](_0x26cd51['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(-0x6*0x3a1+-0x6*0x357+0x29d1);}}['_onInsert'](_0x4b11e1){const _0x5b08bf=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x5b08bf['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x35c89f=this['entity'];for(;_0x35c89f;){const _0x646603=_0x35c89f['parent'];if((_0x646603===null||_0x646603['screen'])&&_0x35c89f['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),w['trace'](Vs,'register\x20p'+'rerender'));const _0x30e94c=this['system']['_prerender']['indexOf'](this['entity']);_0x30e94c>=0x1fb*-0x13+0x7*-0x139+0x2e30&&this['system']['_prerender']['splice'](_0x30e94c,0x31f+0x6*0x40f+-0x494*0x6),this['system']['_prerender']['indexOf'](_0x35c89f)<0xc5+0xf*-0x7d+0x2*0x347&&this['system']['_prerender']['push'](_0x35c89f),w['trace'](Vs,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x35c89f['name']);}_0x35c89f=_0x646603;}}['_onPrerend'+'er'](){for(let _0x5008e7=0x26f2+-0x3*-0xa7b+-0x1*0x4663;_0x5008e7<this['system']['_prerender']['length'];_0x5008e7++){const _0x3512ac=this['system']['_prerender'][_0x5008e7];w['trace'](Vs,'prerender\x20'+'from:\x20'+_0x3512ac['name']),_0x3512ac['element']&&_0x3512ac['element']['syncMask'](0x158d+0x6d*0x49+-0x34a1);}this['system']['_prerender']['length']=-0xd6a+-0x1c6+0xf30;}['_bindScree'+'n'](_0x6afd2e){_0x6afd2e['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x190302){_0x190302['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x3faccd){this['screen']&&this['screen']!==_0x3faccd&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x4b6ec7=this['screen'];this['screen']=_0x3faccd,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x4b6ec7),this['_anchorDir'+'ty']=!(0x47*-0x39+0x11*0x17e+-0x98f);const _0x1b782e=this['entity']['children'];for(let _0x58fb82=-0x4*-0x635+-0x1aaa+-0x1d6*-0x1,_0x2c2b0b=_0x1b782e['length'];_0x58fb82<_0x2c2b0b;_0x58fb82++)_0x1b782e[_0x58fb82]['element']&&_0x1b782e[_0x58fb82]['element']['_updateScr'+'een'](_0x3faccd);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x20fcac){const _0x4f8cdb=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x4f8cdb['mask'],_0x20fcac);}['_setMasked'+'By'](_0x1cad84){const _0x1e397c=this['_image']||this['_text'];if(_0x1cad84){const _0x318639=_0x1cad84['element']['_image']['_maskRef'];w['trace'](Vs,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x318639),_0x1e397c==null||_0x1e397c['_setStenci'+'l'](new pi({'ref':_0x318639,'func':dh})),this['_maskedBy']=_0x1cad84;}else w['trace'](Vs,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x1e397c==null||_0x1e397c['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x30805f,_0x107d1d){var _0x4ec1fd,_0x145d78;if(_0x30805f){if(this['_setMasked'+'By'](_0x30805f),this['mask']){const _0x324a16=_0x30805f['element']['_image']['_maskRef'],_0x544578=new pi({'ref':_0x324a16,'func':dh,'zpass':Ux});this['_image']['_setStenci'+'l'](_0x544578),this['_image']['_maskRef']=_0x107d1d,_0x107d1d++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x544578['ref']+(0x7b1+0x88f+0x103f*-0x1))),w['trace'](Vs,'depth++\x20to'+':\x20',_0x107d1d),_0x30805f=this['entity'];}const _0x36842d=this['entity']['children'];for(let _0x4b0ba2=-0x4d8+-0x3f3+0x1*0x8cb,_0x33c9d4=_0x36842d['length'];_0x4b0ba2<_0x33c9d4;_0x4b0ba2++)(_0x4ec1fd=_0x36842d[_0x4b0ba2]['element'])==null||_0x4ec1fd['_updateMas'+'k'](_0x30805f,_0x107d1d);this['mask']&&_0x107d1d--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x1eda8e=new pi({'ref':_0x107d1d,'func':Wi,'zpass':kx});this['_image']['_setStenci'+'l'](_0x1eda8e),this['_image']['_maskRef']=_0x107d1d,_0x107d1d++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x1eda8e['ref']),w['trace'](Vs,'depth++\x20to'+':\x20',_0x107d1d),_0x30805f=this['entity'];}const _0x1e4880=this['entity']['children'];for(let _0x4f10ba=0x20fb+0x101c+-0x105d*0x3,_0x240ef9=_0x1e4880['length'];_0x4f10ba<_0x240ef9;_0x4f10ba++)(_0x145d78=_0x1e4880[_0x4f10ba]['element'])==null||_0x145d78['_updateMas'+'k'](_0x30805f,_0x107d1d);this['mask']&&_0x107d1d--;}}['_parseUpTo'+'Screen'](){const _0x243bcf={'screen':null,'mask':null};let _0x5730f8=this['entity']['_parent'];for(;_0x5730f8&&!_0x5730f8['screen'];)_0x5730f8['element']&&_0x5730f8['element']['mask']&&(_0x243bcf['mask']||(_0x243bcf['mask']=_0x5730f8)),_0x5730f8=_0x5730f8['parent'];return _0x5730f8&&_0x5730f8['screen']&&(_0x243bcf['screen']=_0x5730f8),_0x243bcf;}['_onScreenR'+'esize'](_0x17083c){this['_anchorDir'+'ty']=!(-0x23a2+-0x3ee*-0x1+0x1fb4),this['_cornersDi'+'rty']=!(-0x1bc+0x1*-0x1149+0x657*0x3),this['_worldCorn'+'ersDirty']=!(-0x4a*-0x3b+0x16c*0x14+-0x2d7e*0x1),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x17083c);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x45bbf3=0x1*0x14a4+-0x2*-0x8c6+-0x2248*0x1,_0x49c17c=-0x5*0x6d8+0x677+0x1*0x1fa9;const _0x456648=this['entity']['_parent'];if(_0x456648&&_0x456648['element'])_0x45bbf3=_0x456648['element']['calculated'+'Width'],_0x49c17c=_0x456648['element']['calculated'+'Height'];else{if(this['screen']){const _0x5e9c37=this['screen']['screen']['resolution'],_0x2fa641=this['screen']['screen']['scale'];_0x45bbf3=_0x5e9c37['x']/_0x2fa641,_0x49c17c=_0x5e9c37['y']/_0x2fa641;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x45bbf3,this['_anchor']['y']*_0x49c17c,this['_anchor']['z']*_0x45bbf3,this['_anchor']['w']*_0x49c17c);}['getOffsetP'+'osition'](_0x5b80c7,_0x3e470a){const _0x31aebb=this['entity']['getLocalPo'+'sition']()['clone']();return _0x31aebb['x']+=_0x5b80c7,_0x31aebb['y']+=_0x3e470a,this['_screenToW'+'orld']['transformP'+'oint'](_0x31aebb,_0x31aebb),_0x31aebb;}['onLayersCh'+'anged'](_0x3fbfe4,_0x3589ac){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x3fbfe4['off']('add',this['onLayerAdd'+'ed'],this),_0x3fbfe4['off']('remove',this['onLayerRem'+'oved'],this),_0x3589ac['on']('add',this['onLayerAdd'+'ed'],this),_0x3589ac['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x45d20b){this['layers']['indexOf'](_0x45d20b['id'])<-0xe4c+0x25e5+-0x1799*0x1||(this['_image']?_0x45d20b['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x45d20b['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x2f67ab){this['layers']['indexOf'](_0x2f67ab['id'])<-0x2d*-0xd+-0xf59+0x2c*0x4c||(this['_image']?_0x2f67ab['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x2f67ab['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x38b711;const _0x453131=this['system']['app']['scene'],_0x52a617=_0x453131['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x453131['on']('set:layers',this['onLayersCh'+'anged'],this),_0x52a617&&(this['_evtLayerA'+'dded']=_0x52a617['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x52a617['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=0x12b0*0x1+0x7f6*0x1+0xd53*-0x2&&((_0x38b711=this['system']['app']['batcher'])==null||_0x38b711['insert'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x18d915,_0x297d92,_0x5e8d78,_0x16b562;const _0x46c88b=this['system']['app']['scene']['layers'];(_0x18d915=this['_evtLayers'+'Changed'])==null||_0x18d915['off'](),this['_evtLayers'+'Changed']=null,_0x46c88b&&((_0x297d92=this['_evtLayerA'+'dded'])==null||_0x297d92['off'](),this['_evtLayerA'+'dded']=null,(_0x5e8d78=this['_evtLayerR'+'emoved'])==null||_0x5e8d78['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=-0x571+-0x1107+0x1678&&((_0x16b562=this['system']['app']['batcher'])==null||_0x16b562['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x292a55,_0x22f19c){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x12e95c=this['_absRight']-this['_absLeft'],_0x56a635=this['_absTop']-this['_absBottom'];_0x292a55?this['_setWidth'](_0x12e95c):this['_setCalcul'+'atedWidth'](_0x12e95c,!(-0x1985+0x3*0xa8c+-0x61e)),_0x22f19c?this['_setHeight'](_0x56a635):this['_setCalcul'+'atedHeight'](_0x56a635,!(-0x4f*-0x76+-0x39d+-0x1*0x20cc));const _0x46cbb3=this['entity']['getLocalPo'+'sition']();_0x46cbb3['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x46cbb3['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x46cbb3),this['_sizeDirty']=!(-0x1*-0x1d2b+0xe62+-0x2b8c);}['_setWidth'](_0x13b006){this['_width']=_0x13b006,this['_setCalcul'+'atedWidth'](_0x13b006,!(0x1b1+-0x1bd7+0x1a27)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x388923){this['_height']=_0x388923,this['_setCalcul'+'atedHeight'](_0x388923,!(-0x22+-0xd81+0x2*0x6d2)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x109484,_0x46c892){if(!(Math['abs'](_0x109484-this['_calculate'+'dWidth'])<=-0x1*-0x206d+-0x1709+-0x964*0x1+0.0001)){if(this['_calculate'+'dWidth']=_0x109484,this['entity']['_dirtifyLo'+'cal'](),_0x46c892){const _0x2e993b=this['entity']['getLocalPo'+'sition'](),_0x6c0b85=this['_pivot'];this['_margin']['x']=_0x2e993b['x']-this['_calculate'+'dWidth']*_0x6c0b85['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x432b5f,_0x512927){if(!(Math['abs'](_0x432b5f-this['_calculate'+'dHeight'])<=-0x24eb+-0x1d*0x4+0x3*0xc75+0.0001)){if(this['_calculate'+'dHeight']=_0x432b5f,this['entity']['_dirtifyLo'+'cal'](),_0x512927){const _0x25905b=this['entity']['getLocalPo'+'sition'](),_0x5a0bf4=this['_pivot'];this['_margin']['y']=_0x25905b['y']-this['_calculate'+'dHeight']*_0x5a0bf4['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x393232=this['entity']['_children'];for(let _0x27057d=0x1e8f+-0x17*0x91+-0x1188,_0x21b6fa=_0x393232['length'];_0x27057d<_0x21b6fa;_0x27057d++)_0x393232[_0x27057d]['element']&&(_0x393232[_0x27057d]['element']['_anchorDir'+'ty']=!(-0x2430+0x22a1+-0x85*-0x3),_0x393232[_0x27057d]['element']['_sizeDirty']=!(-0x132a+-0x6c2+0xc*0x229));}['addModelTo'+'Layers'](_0x3a694c){this['_addedMode'+'ls']['push'](_0x3a694c);for(let _0x321c74=0x1e98+0x1b4b+0x49*-0xcb;_0x321c74<this['layers']['length'];_0x321c74++){const _0x2af4d9=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x321c74]);_0x2af4d9&&_0x2af4d9['addMeshIns'+'tances'](_0x3a694c['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x869268){const _0x381e48=this['_addedMode'+'ls']['indexOf'](_0x869268);_0x381e48>=0x2*0x11ea+0x8*0x45d+-0x46bc&&this['_addedMode'+'ls']['splice'](_0x381e48,-0x1d7c+-0x1944+0x36c1);for(let _0x2730dc=0xfad+-0x2033*-0x1+0xbf8*-0x4;_0x2730dc<this['layers']['length'];_0x2730dc++){const _0x33463e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2730dc]);_0x33463e&&_0x33463e['removeMesh'+'Instances'](_0x869268['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x33034b=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x33034b&&(this['_maskOffse'+'t']=0x1b7a+-0x16f*-0xd+0x5*-0x939+0.5,this['_offsetRea'+'dAt']=_0x33034b);const _0x4228e1=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=-0xcc2+-0x19*0x22+-0x80a*-0x2+0.001,_0x4228e1;}['isVisibleF'+'orCamera'](_0x2fa45a){let _0x114673,_0x532e1f,_0x48d410,_0x5bfbcd;if(this['maskedBy']){const _0xedc86e=this['maskedBy']['element']['screenCorn'+'ers'];_0x114673=Math['min'](Math['min'](_0xedc86e[0x2613+-0x4a5*-0x1+-0x4*0xaae]['x'],_0xedc86e[-0x140f+0x2*0x184+0x221*0x8]['x']),Math['min'](_0xedc86e[0x2*0xa9d+-0x2141+-0x403*-0x3]['x'],_0xedc86e[0x11d3+0x6d*-0x2+-0x10f6]['x'])),_0x532e1f=Math['max'](Math['max'](_0xedc86e[-0x1*-0xba2+-0x228f+0x16ed]['x'],_0xedc86e[-0x2562+-0x7b*0x51+0x4c4e*0x1]['x']),Math['max'](_0xedc86e[0x11c0+0x2513+-0x1*0x36d1]['x'],_0xedc86e[-0x1310+-0x26d2+0x39e5]['x'])),_0x5bfbcd=Math['min'](Math['min'](_0xedc86e[-0x272*0xa+0xca1+0xbd3]['y'],_0xedc86e[0x269b+-0x3af*-0x7+-0x35*0x137]['y']),Math['min'](_0xedc86e[0x1*0xdb7+0x17c7+0x95f*-0x4]['y'],_0xedc86e[-0xbf*-0x1+0x53a+-0x5f6]['y'])),_0x48d410=Math['max'](Math['max'](_0xedc86e[0xc6d+0x6e5+-0x2*0x9a9]['y'],_0xedc86e[-0x1*-0x1717+0x13dd+-0x2af3]['y']),Math['max'](_0xedc86e[0x171b+-0x1*-0x1842+-0x2f5b]['y'],_0xedc86e[-0x235*0x1+0x1*0x329+0x1*-0xf1]['y']));}else{const _0x522833=this['system']['app']['graphicsDe'+'vice']['width'],_0x3537e8=this['system']['app']['graphicsDe'+'vice']['height'],_0x459b83=_0x2fa45a['_rect']['z']*_0x522833,_0x56fee5=_0x2fa45a['_rect']['w']*_0x3537e8;_0x114673=_0x2fa45a['_rect']['x']*_0x522833,_0x532e1f=_0x114673+_0x459b83,_0x48d410=(-0x179d+-0xe75+-0xab*-0x39-_0x2fa45a['_rect']['y'])*_0x3537e8,_0x5bfbcd=_0x48d410-_0x56fee5;}const _0x41d103=this['screenCorn'+'ers'],_0x4c8a83=Math['min'](Math['min'](_0x41d103[-0xaa5+0x25ce*0x1+-0x1b29*0x1]['x'],_0x41d103[0x26d0+0x3d6*-0x2+-0x1*0x1f23]['x']),Math['min'](_0x41d103[0x183+0x1d9*-0x9+0xf20]['x'],_0x41d103[0x13a0+-0x1*-0x361+-0x6d*0x36]['x'])),_0x13cf2e=Math['max'](Math['max'](_0x41d103[0x2*-0xdfd+0x2*0x141+0xa*0x28c]['x'],_0x41d103[0x19be+0x1332+-0x2cef]['x']),Math['max'](_0x41d103[-0x931+0x1239+-0x906]['x'],_0x41d103[0x151a+-0x270f+0x11f8]['x'])),_0x58f1a5=Math['min'](Math['min'](_0x41d103[0x59*0x4+0xf4*0xe+-0xebc]['y'],_0x41d103[0x2682+-0x5d*-0x56+0x5*-0xdf3]['y']),Math['min'](_0x41d103[0x14*-0x85+-0x16fd+0x2163]['y'],_0x41d103[-0xdb8+0x1*0x2169+-0x13ae]['y'])),_0xa71e6e=Math['max'](Math['max'](_0x41d103[0x14a5+0x17e*0x1a+0x1*-0x3b71]['y'],_0x41d103[-0x5*0x34f+-0x97*-0x28+-0x70c]['y']),Math['max'](_0x41d103[0x441+-0x1c83+-0x2*-0xc22]['y'],_0x41d103[0x8fb+0xa3d+-0x1335]['y']));return!(_0x13cf2e<_0x114673||_0x4c8a83>_0x532e1f||_0x58f1a5>_0x48d410||_0xa71e6e<_0x5bfbcd);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(-0x875*-0x2+-0x22e9+-0x300*-0x6);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(-0xc5*-0xa+0x8*0x4d9+-0x1*0x2e79);}['_dirtyBatc'+'h'](){var _0x2190a2;this['batchGroup'+'Id']!==-(0xd97*0x1+0x19c9*0x1+-0x1*0x275f)&&((_0x2190a2=this['system']['app']['batcher'])==null||_0x2190a2['markGroupD'+'irty'](this['batchGroup'+'Id']));}}h(hs,'EVENT_MOUS'+'EDOWN','mousedown'),h(hs,'EVENT_MOUS'+'EUP','mouseup'),h(hs,'EVENT_MOUS'+'EENTER','mouseenter'),h(hs,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(hs,'EVENT_MOUS'+'EMOVE','mousemove'),h(hs,'EVENT_MOUS'+'EWHEEL','mousewheel'),h(hs,'EVENT_CLIC'+'K','click'),h(hs,'EVENT_TOUC'+'HSTART','touchstart'),h(hs,'EVENT_TOUC'+'HEND','touchend'),h(hs,'EVENT_TOUC'+'HMOVE','touchmove'),h(hs,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class DR{constructor(){this['enabled']=!(0x1*0x19a9+0x9a*0x29+-0x3253);}}const IR=['enabled'];class LR extends ct{constructor(_0x5591d1){super(_0x5591d1),this['id']='element',this['ComponentT'+'ype']=hs,this['DataType']=DR,this['schema']=IR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new _e(_0x5591d1['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'element-sy'+'stem'});const _0x2c88a5=this['_defaultTe'+'xture']['lock'](),_0x10b603=new Uint8Array(-0x2090+-0xe8b+-0xfb5*-0x3);_0x10b603[-0x23d5+-0x599+0x1*0x296e]=-0x1cf4+-0x100f+0x2e02,_0x10b603[0x208*-0x4+0x6c2+0x15f]=-0x14fb+-0x1*-0x75a+-0x6*-0x270,_0x10b603[0x8e4+-0xf*-0x157+-0x9a9*0x3]=-0x1141+0xf25*-0x1+0x2165*0x1,_0x10b603[-0x887*-0x3+0xf95*0x1+0x83b*-0x5]=0xdeb+0x1*0x225d+-0x2f49,_0x2c88a5['set'](_0x10b603),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x5f3d99,_0x4e150b,_0x54ffa2){_0x5f3d99['_beingInit'+'ialized']=!(-0x21ac+-0xfb*0x1c+0x3d20),_0x4e150b['anchor']!==void(0xf42+0x29*-0xbf+-0x1*-0xf55)&&(_0x4e150b['anchor']instanceof re?_0x5f3d99['anchor']['copy'](_0x4e150b['anchor']):_0x5f3d99['anchor']['set'](_0x4e150b['anchor'][-0x4*0x871+-0x5*0x2f5+0x308d*0x1],_0x4e150b['anchor'][-0x9eb*0x3+0x3e7*0x1+0x19db],_0x4e150b['anchor'][0x9b5+0x159d+-0x3*0xa70],_0x4e150b['anchor'][0x25af+0x407*0x8+-0x45e4])),_0x4e150b['pivot']!==void(-0x2*-0x580+-0x15fb*0x1+0x3*0x3a9)&&(_0x4e150b['pivot']instanceof J?_0x5f3d99['pivot']['copy'](_0x4e150b['pivot']):_0x5f3d99['pivot']['set'](_0x4e150b['pivot'][0x226*-0xc+-0x9*0x407+0x3e07],_0x4e150b['pivot'][0xbc4+-0x1ca1*0x1+0x22*0x7f]));const _0x139d70=Math['abs'](_0x5f3d99['anchor']['x']-_0x5f3d99['anchor']['z'])>0x11a3+0xa65*0x3+-0x30d2+0.001,_0x299b8f=Math['abs'](_0x5f3d99['anchor']['y']-_0x5f3d99['anchor']['w'])>0x3b*-0xa6+-0x19*0xf8+0x3e7a+0.001;let _0x1991b2=!(0x1*-0xcbb+0x258d+-0x18d1),_0x188861;_0x4e150b['margin']!==void(0x1*0xddb+0xb9*-0x2+-0xc69)&&(_0x4e150b['margin']instanceof re?_0x5f3d99['margin']['copy'](_0x4e150b['margin']):_0x5f3d99['_margin']['set'](_0x4e150b['margin'][-0x2171*-0x1+-0x145a+-0xd17],_0x4e150b['margin'][0x1c92+0x13d*0x13+0x8*-0x683],_0x4e150b['margin'][0x417+-0x376*0x4+-0x11*-0x93],_0x4e150b['margin'][0x1d8f+-0x15e4*0x1+0x5*-0x188]),_0x1991b2=!(0x11*-0x8b+-0xd*-0x9d+-0x17*-0xe)),_0x4e150b['left']!==void(-0x236f+0x1*-0xd3f+0x30ae)&&(_0x5f3d99['_margin']['x']=_0x4e150b['left'],_0x1991b2=!(0x1290+0x7*0x213+-0x2115)),_0x4e150b['bottom']!==void(-0x638+0x1*0x1e1d+-0x17e5)&&(_0x5f3d99['_margin']['y']=_0x4e150b['bottom'],_0x1991b2=!(0x11b3+-0x1*-0x214f+-0x3302)),_0x4e150b['right']!==void(0x1a3d+-0x127f*-0x2+-0x3f3b*0x1)&&(_0x5f3d99['_margin']['z']=_0x4e150b['right'],_0x1991b2=!(-0xba8+-0x116*0x12+-0x7cd*-0x4)),_0x4e150b['top']!==void(0x84*-0x12+0x640*0x4+0xfb8*-0x1)&&(_0x5f3d99['_margin']['w']=_0x4e150b['top'],_0x1991b2=!(-0x1305+0x142e+-0x129)),_0x1991b2&&(_0x5f3d99['margin']=_0x5f3d99['_margin']);let _0x4aae89=!(-0x1*-0x1d33+-0x1*0x1625+-0x70d);_0x4e150b['width']!==void(0x12a*0x5+0x2707+-0x2cd9)&&!_0x139d70?_0x5f3d99['width']=_0x4e150b['width']:_0x139d70&&(_0x4aae89=!(0x265a*0x1+-0xe6+-0x2574)),_0x4e150b['height']!==void(-0x1f7*0x8+-0x2*0x125f+0x2*0x1a3b)&&!_0x299b8f?_0x5f3d99['height']=_0x4e150b['height']:_0x299b8f&&(_0x4aae89=!(0x247c+0x1*0x107a+-0x1*0x34f6)),_0x4aae89&&(_0x5f3d99['anchor']=_0x5f3d99['anchor']),_0x4e150b['enabled']!==void(0x10a8+-0x3f*-0x1b+-0x5*0x4a9)&&(_0x5f3d99['enabled']=_0x4e150b['enabled']),_0x4e150b['useInput']!==void(0x1*0x2603+-0x1ade+0x3*-0x3b7)&&(_0x5f3d99['useInput']=_0x4e150b['useInput']),_0x4e150b['fitMode']!==void(0xa32+0x1*-0x26cb+0x1*0x1c99)&&(_0x5f3d99['fitMode']=_0x4e150b['fitMode']),_0x5f3d99['batchGroup'+'Id']=_0x4e150b['batchGroup'+'Id']===void(-0x1ba5+0xd37+0xe6e)||_0x4e150b['batchGroup'+'Id']===null?-(0x232f*0x1+-0x379+-0x1*0x1fb5):_0x4e150b['batchGroup'+'Id'],_0x4e150b['layers']&&Array['isArray'](_0x4e150b['layers'])&&(_0x5f3d99['layers']=_0x4e150b['layers']['slice'](0xc27+0xd0a+-0x1931)),_0x4e150b['type']!==void(-0x3f*0x96+-0xc89+-0x1*-0x3173)&&(_0x5f3d99['type']=_0x4e150b['type']),_0x5f3d99['type']===Cu?(_0x4e150b['rect']!==void(-0x940+0x1aaa+-0x116a)&&(_0x5f3d99['rect']=_0x4e150b['rect']),_0x4e150b['color']!==void(-0x235f+-0x127*0xd+0x325a)&&(_0x188861=_0x4e150b['color'],_0x188861 instanceof ie||(_0x188861=new ie(_0x4e150b['color'][0x19*-0xe+0x176f*0x1+-0x1611],_0x4e150b['color'][0x59*0xb+0xc*0x2ba+-0xc2e*0x3],_0x4e150b['color'][0x20ed*0x1+-0x88c+-0x185f])),_0x5f3d99['color']=_0x188861),_0x4e150b['opacity']!==void(0x1e7b+-0x14ca*0x1+-0x3*0x33b)&&(_0x5f3d99['opacity']=_0x4e150b['opacity']),_0x4e150b['textureAss'+'et']!==void(0x1*0xc6d+-0x2326+0x16b9)&&(_0x5f3d99['textureAss'+'et']=_0x4e150b['textureAss'+'et']),_0x4e150b['texture']&&(_0x5f3d99['texture']=_0x4e150b['texture']),_0x4e150b['spriteAsse'+'t']!==void(-0x12cc+0x1907+-0x63b)&&(_0x5f3d99['spriteAsse'+'t']=_0x4e150b['spriteAsse'+'t']),_0x4e150b['sprite']&&(_0x5f3d99['sprite']=_0x4e150b['sprite']),_0x4e150b['spriteFram'+'e']!==void(0x3*-0xc6f+-0x24+-0x1b*-0x163)&&(_0x5f3d99['spriteFram'+'e']=_0x4e150b['spriteFram'+'e']),_0x4e150b['pixelsPerU'+'nit']!==void(-0x217+0x232*-0x7+0x1175)&&_0x4e150b['pixelsPerU'+'nit']!==null&&(_0x5f3d99['pixelsPerU'+'nit']=_0x4e150b['pixelsPerU'+'nit']),_0x4e150b['materialAs'+'set']!==void(0x2477+-0x18c7+-0xbb0)&&(_0x5f3d99['materialAs'+'set']=_0x4e150b['materialAs'+'set']),_0x4e150b['material']&&(_0x5f3d99['material']=_0x4e150b['material']),_0x4e150b['mask']!==void(0x2682+0x13*-0x3b+0x1*-0x2221)&&(_0x5f3d99['mask']=_0x4e150b['mask'])):_0x5f3d99['type']===jv&&(_0x4e150b['autoWidth']!==void(-0x107*-0x7+0x17*0xe3+-0xd6*0x21)&&(_0x5f3d99['autoWidth']=_0x4e150b['autoWidth']),_0x4e150b['autoHeight']!==void(0x6*0x22+0x238b+-0x2457)&&(_0x5f3d99['autoHeight']=_0x4e150b['autoHeight']),_0x4e150b['rtlReorder']!==void(-0x2d*0x4d+0x230e+0x313*-0x7)&&(_0x5f3d99['rtlReorder']=_0x4e150b['rtlReorder']),_0x4e150b['unicodeCon'+'verter']!==void(0x1d62+-0x2*-0xa00+-0x3162)&&(_0x5f3d99['unicodeCon'+'verter']=_0x4e150b['unicodeCon'+'verter']),_0x4e150b['text']!==null&&_0x4e150b['text']!==void(0x1*-0xbcf+0x852+0x37d)?_0x5f3d99['text']=_0x4e150b['text']:_0x4e150b['key']!==null&&_0x4e150b['key']!==void(0x1790+-0x29*0x6b+-0x1*0x66d)&&(_0x5f3d99['key']=_0x4e150b['key']),_0x4e150b['color']!==void(-0x1*-0x25df+-0x12a+0x1*-0x24b5)&&(_0x188861=_0x4e150b['color'],_0x188861 instanceof ie||(_0x188861=new ie(_0x188861[0x75f*0x1+-0x2566+0x1e07],_0x188861[0xf*0x13+0x1b1*0x2+0x47e*-0x1],_0x188861[-0x50f*-0x7+0x12e2+-0x3649])),_0x5f3d99['color']=_0x188861),_0x4e150b['opacity']!==void(0x3cb*0x1+-0x24*0x92+0x10bd*0x1)&&(_0x5f3d99['opacity']=_0x4e150b['opacity']),_0x4e150b['spacing']!==void(-0x853*-0x1+0xecf*-0x1+-0x19f*-0x4)&&(_0x5f3d99['spacing']=_0x4e150b['spacing']),_0x4e150b['fontSize']!==void(0x64*0x1+0xf06+-0x1*0xf6a)&&(_0x5f3d99['fontSize']=_0x4e150b['fontSize'],_0x4e150b['lineHeight']||(_0x5f3d99['lineHeight']=_0x4e150b['fontSize'])),_0x4e150b['lineHeight']!==void(-0x6*0x52+0xf21+-0xd35*0x1)&&(_0x5f3d99['lineHeight']=_0x4e150b['lineHeight']),_0x4e150b['maxLines']!==void(0x1cbe+0x373+-0x7b*0x43)&&(_0x5f3d99['maxLines']=_0x4e150b['maxLines']),_0x4e150b['wrapLines']!==void(-0xedc+-0x721+0x15fd)&&(_0x5f3d99['wrapLines']=_0x4e150b['wrapLines']),_0x4e150b['minFontSiz'+'e']!==void(0x18f0+0x9d*0x21+-0x2d2d)&&(_0x5f3d99['minFontSiz'+'e']=_0x4e150b['minFontSiz'+'e']),_0x4e150b['maxFontSiz'+'e']!==void(0x3e+0xce*0xa+0x425*-0x2)&&(_0x5f3d99['maxFontSiz'+'e']=_0x4e150b['maxFontSiz'+'e']),_0x4e150b['autoFitWid'+'th']&&(_0x5f3d99['autoFitWid'+'th']=_0x4e150b['autoFitWid'+'th']),_0x4e150b['autoFitHei'+'ght']&&(_0x5f3d99['autoFitHei'+'ght']=_0x4e150b['autoFitHei'+'ght']),_0x4e150b['fontAsset']!==void(0x245*0xc+-0xc62*-0x1+0x13cf*-0x2)&&(_0x5f3d99['fontAsset']=_0x4e150b['fontAsset']),_0x4e150b['font']!==void(0x1*0x13f2+0x2003+-0x33f5)&&(_0x5f3d99['font']=_0x4e150b['font']),_0x4e150b['alignment']!==void(-0xf3d+0x8ff*-0x1+-0x21*-0xbc)&&(_0x5f3d99['alignment']=_0x4e150b['alignment']),_0x4e150b['outlineCol'+'or']!==void(-0x2069+-0xa*0x107+-0x1*-0x2aaf)&&(_0x5f3d99['outlineCol'+'or']=_0x4e150b['outlineCol'+'or']),_0x4e150b['outlineThi'+'ckness']!==void(-0x6da+-0x517+-0xbf1*-0x1)&&(_0x5f3d99['outlineThi'+'ckness']=_0x4e150b['outlineThi'+'ckness']),_0x4e150b['shadowColo'+'r']!==void(-0x11*0x20e+0x12dc+0x1012)&&(_0x5f3d99['shadowColo'+'r']=_0x4e150b['shadowColo'+'r']),_0x4e150b['shadowOffs'+'et']!==void(0x352+-0x2*0xe5a+0x1962)&&(_0x5f3d99['shadowOffs'+'et']=_0x4e150b['shadowOffs'+'et']),_0x4e150b['enableMark'+'up']!==void(0x4d5+0x1a*-0x10f+0x16b1)&&(_0x5f3d99['enableMark'+'up']=_0x4e150b['enableMark'+'up']));const _0x4d454c=_0x5f3d99['_parseUpTo'+'Screen']();_0x4d454c['screen']&&_0x5f3d99['_updateScr'+'een'](_0x4d454c['screen']),super['initialize'+'ComponentD'+'ata'](_0x5f3d99,_0x4e150b,_0x54ffa2),_0x5f3d99['_beingInit'+'ialized']=!(0x22d2+0xa11+-0x2ce2),_0x5f3d99['type']===Cu&&_0x5f3d99['_image']['_meshDirty']&&_0x5f3d99['_image']['_updateMes'+'h'](_0x5f3d99['_image']['mesh']);}['onAddCompo'+'nent'](_0x180d62,_0x3935d1){_0x180d62['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x5ed081,_0x3ec126){_0x3ec126['onRemove']();}['cloneCompo'+'nent'](_0x4d7ad8,_0x1a25e0){const _0x368812=_0x4d7ad8['element'],_0x4fb50e={'enabled':_0x368812['enabled'],'width':_0x368812['width'],'height':_0x368812['height'],'anchor':_0x368812['anchor']['clone'](),'pivot':_0x368812['pivot']['clone'](),'margin':_0x368812['margin']['clone'](),'alignment':_0x368812['alignment']&&_0x368812['alignment']['clone']()||_0x368812['alignment'],'autoWidth':_0x368812['autoWidth'],'autoHeight':_0x368812['autoHeight'],'type':_0x368812['type'],'rect':_0x368812['rect']&&_0x368812['rect']['clone']()||_0x368812['rect'],'rtlReorder':_0x368812['rtlReorder'],'unicodeConverter':_0x368812['unicodeCon'+'verter'],'materialAsset':_0x368812['materialAs'+'set'],'material':_0x368812['material'],'color':_0x368812['color']&&_0x368812['color']['clone']()||_0x368812['color'],'opacity':_0x368812['opacity'],'textureAsset':_0x368812['textureAss'+'et'],'texture':_0x368812['texture'],'spriteAsset':_0x368812['spriteAsse'+'t'],'sprite':_0x368812['sprite'],'spriteFrame':_0x368812['spriteFram'+'e'],'pixelsPerUnit':_0x368812['pixelsPerU'+'nit'],'spacing':_0x368812['spacing'],'lineHeight':_0x368812['lineHeight'],'wrapLines':_0x368812['wrapLines'],'layers':_0x368812['layers'],'fontSize':_0x368812['fontSize'],'minFontSize':_0x368812['minFontSiz'+'e'],'maxFontSize':_0x368812['maxFontSiz'+'e'],'autoFitWidth':_0x368812['autoFitWid'+'th'],'autoFitHeight':_0x368812['autoFitHei'+'ght'],'maxLines':_0x368812['maxLines'],'fontAsset':_0x368812['fontAsset'],'font':_0x368812['font'],'useInput':_0x368812['useInput'],'fitMode':_0x368812['fitMode'],'batchGroupId':_0x368812['batchGroup'+'Id'],'mask':_0x368812['mask'],'outlineColor':_0x368812['outlineCol'+'or']&&_0x368812['outlineCol'+'or']['clone']()||_0x368812['outlineCol'+'or'],'outlineThickness':_0x368812['outlineThi'+'ckness'],'shadowColor':_0x368812['shadowColo'+'r']&&_0x368812['shadowColo'+'r']['clone']()||_0x368812['shadowColo'+'r'],'shadowOffset':_0x368812['shadowOffs'+'et']&&_0x368812['shadowOffs'+'et']['clone']()||_0x368812['shadowOffs'+'et'],'enableMarkup':_0x368812['enableMark'+'up']};return _0x368812['key']!==void(-0xda8+0x980+0x428)&&_0x368812['key']!==null?_0x4fb50e['key']=_0x368812['key']:_0x4fb50e['text']=_0x368812['text'],this['addCompone'+'nt'](_0x1a25e0,_0x4fb50e);}['getTextEle'+'mentMateri'+'al'](_0x2f6810,_0x42b0d5,_0x4b9984){const _0x1dd30a=(_0x2f6810&&0x21dc+0x12a9+-0x3484)|(_0x42b0d5&&-0x264d+0x1d51+0x47f*0x2)|(_0x4b9984&&0x1fea+-0x2*-0x21a+-0x241a);let _0x31a876=this['_defaultTe'+'xtMaterial'+'s'][_0x1dd30a];if(_0x31a876)return _0x31a876;let _0x267585='TextMateri'+'al';return _0x31a876=new Ut(),_0x42b0d5?(_0x31a876['msdfMap']=this['_defaultTe'+'xture'],_0x31a876['msdfTextAt'+'tribute']=_0x4b9984,_0x31a876['emissive']['set'](0x9e7+0x1*0x5ff+-0xfe5,0x1*-0x8c3+0x1*-0xc7f+0x1543,0x191f+0x8ac+-0x21ca)):(_0x267585='Bitmap'+_0x267585,_0x31a876['emissive']['set'](0x26b3+-0x132d*-0x2+-0x4d0c,0x29a+-0x1674+-0x12b*-0x11,-0x2579+0xdd5+0x17a5),_0x31a876['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x31a876['opacityMap']=this['_defaultTe'+'xture'],_0x31a876['opacityMap'+'Channel']='a'),_0x2f6810&&(_0x267585='ScreenSpac'+'e'+_0x267585,_0x31a876['depthTest']=!(-0x3d*-0x11+0xd*-0x1c5+-0x17*-0xd3)),_0x31a876['name']='default'+_0x267585,_0x31a876['useLightin'+'g']=!(-0x1334+-0x2475+0x37aa),_0x31a876['useTonemap']=!(0x1c0a+-0x9*-0x1ad+-0x2b1e),_0x31a876['useFog']=!(0x22b1+-0xe12+0x1*-0x149e),_0x31a876['useSkybox']=!(-0x481+0x1*-0x1f43+0x23c5),_0x31a876['diffuse']['set'](-0x1c60+0x397*0x6+0x1*0x6d6,-0xc31*0x3+0x9c+0x155*0x1b,-0x5*-0x1e1+-0x6*0x40b+0x5*0x2f9),_0x31a876['opacity']=-0x22e1+0x181e+0xac3+0.5,_0x31a876['blendType']=Gn,_0x31a876['depthWrite']=!(-0x1222*-0x2+0x1b*0x9d+-0x34d2),_0x31a876['emissiveVe'+'rtexColor']=!(-0x1a*-0x172+0x1*0xf75+-0x3509*0x1),_0x31a876['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x1dd30a]=_0x31a876,_0x31a876;}['_createBas'+'eImageMate'+'rial'](){const _0x537896=new Ut();return _0x537896['diffuse']['set'](-0x1fb4+0x24fa+-0x546,0x1378+-0x406+-0x526*0x3,0x83f*0x1+-0x127*-0xf+-0x1988),_0x537896['emissive']['set'](0x3ad+-0x17b7+-0x1*-0x140b,-0x3*-0x4b7+0x55b+-0x137f,-0x1*-0x1343+0x1*0x252b+-0x3c3*0xf),_0x537896['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x537896['opacityMap']=this['_defaultTe'+'xture'],_0x537896['opacityMap'+'Channel']='a',_0x537896['useLightin'+'g']=!(-0x11ab*-0x2+-0x11a6*0x2+0x3*-0x3),_0x537896['useTonemap']=!(-0x8a+0x32f+-0x2a4),_0x537896['useFog']=!(-0x165a+-0x5*-0x3cb+0x3e*0xe),_0x537896['useSkybox']=!(0x98+0x359+-0x3f0),_0x537896['blendType']=Gn,_0x537896['depthWrite']=!(0x1983+-0x17*0x37+-0x75*0x2d),_0x537896;}['getImageEl'+'ementMater'+'ial'](_0x15af0f,_0x7a40,_0x596edd,_0x4133a2){return _0x15af0f?_0x7a40?_0x596edd?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(0x2159*0x1+-0x1*-0x1f3f+-0x4097),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=0x8*-0x382+-0x1*0x1292+0x2ea3,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(0x5b+-0x13*-0x169+0x1*-0x1b25),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(0x439*0x2+0xb93+-0x54*0x3d),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(0x8*0x230+-0x1536+0x3b7),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(0x79e+0x138b+-0x1b28),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x4133a2?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(-0xefe+-0x2*-0xfc2+-0x1085),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=-0x191f+0x179*0x5+-0x11c3*-0x1,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(0xf91+0x4dd+0x6cf*-0x3),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(0x22f9+0x2e7*0xd+-0x48b3),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(0x431+0x1*-0x62a+-0x2*-0xfd),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(0x5d0+-0x151a+0xf4b),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(0x797+-0x25ec+-0x1e56*-0x1),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=0x1*0x8f9+-0x1*-0x667+-0xf5f,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(-0x9d*0xe+-0x1118+0x19af),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(0x1*0x841+-0x26*0x20+-0x380),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(0x2*0x962+0xcdf+-0x2*0xfd1),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(0x41*-0x88+0x1656+0x15b*0x9),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x596edd?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(-0x61*-0x47+-0x1*-0x26eb+0x245*-0x1d),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x4133a2?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(0x6e8+-0x7ce+0x3*0x4d),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(0x1b5d+-0xfe4+0x2de*-0x4),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x7a40?_0x596edd?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=0x1d27+-0x234a*0x1+0x624,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(0x7af*-0x1+0xb*0x1f7+0x73*-0x1f),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(0xe48*0x1+0x43e*0x7+-0x2bf9*0x1),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(-0xb83*-0x1+0x4ae*0x2+-0x14de),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(0x16f5+0x224c+-0x40*0xe5),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x4133a2?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=0x31*-0xb5+-0xe8*0x1b+-0x439*-0xe,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(-0x1140+-0x5d*-0x8+0xe59),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(0x25*-0x22+-0x8d8+-0x1*-0xdc3),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(0x80a+0xdd5+0x137*-0x12),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(0x9bd+-0x27*-0x53+0x1*-0x1661),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=-0x8a9+-0x2692+-0x2*-0x179e,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(-0xc6a*-0x1+0x1b77*-0x1+0xf0e),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(0x2305+0x989+0x8e9*-0x5),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(0x79d+-0x1685*-0x1+-0x1e21),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(0x1*-0x2276+0x2555+0x2*-0x16f),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x596edd?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x4133a2?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x53f7d7){this['_unicodeCo'+'nverter']=_0x53f7d7;}['registerRt'+'lReorder'](_0x48b691){this['_rtlReorde'+'r']=_0x48b691;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Xa='free',qa='limited',ja='locked',RR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class ym extends we{constructor(_0x1d91e1,_0x39b727){super(_0x1d91e1,_0x39b727),w['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(-0x2645+-0x685+-0x27d*-0x12),this['_linearMot'+'ionX']=ja,this['_linearLim'+'itsX']=new J(-0x2259+0x1126+0x1133,-0x1287*-0x2+-0x2b*0x9d+0x5*-0x223),this['_linearSpr'+'ingX']=!(-0x1760+0x5c*-0x5f+-0x1f*-0x1db),this['_linearSti'+'ffnessX']=0x1e1d+-0x266+-0x1bb7,this['_linearDam'+'pingX']=-0xf*-0x11b+-0x259f+0x150b*0x1,this['_linearEqu'+'ilibriumX']=-0x2426+-0x162d*-0x1+0xdf9,this['_linearMot'+'ionY']=ja,this['_linearLim'+'itsY']=new J(-0x3*0xbe1+0x5*0x67f+0x2*0x194,-0x11*-0x17b+-0x1*-0xae+-0x19d9),this['_linearSpr'+'ingY']=!(0x2e*-0x22+-0x3*0x5ad+0x5c9*0x4),this['_linearSti'+'ffnessY']=0xb3d+0x13a9+0x317*-0xa,this['_linearDam'+'pingY']=-0x2629*-0x1+0xd87+-0x65*0x83,this['_linearEqu'+'ilibriumY']=0x13+0x232d+0x1*-0x2340,this['_linearMot'+'ionZ']=ja,this['_linearLim'+'itsZ']=new J(-0x440*-0x5+0x9*-0x209+-0x2ef,-0x210d*-0x1+-0xa3*-0x7+0x12c1*-0x2),this['_linearSpr'+'ingZ']=!(0x23e2+-0xb79+-0x1868),this['_linearSti'+'ffnessZ']=0xf31+-0x1bbf+-0x1*-0xc8e,this['_linearDam'+'pingZ']=0x51e+-0x6e9*-0x4+-0x20c1,this['_linearEqu'+'ilibriumZ']=-0x1aa4+-0x323*0xc+0x4048,this['_angularMo'+'tionX']=ja,this['_angularLi'+'mitsX']=new J(-0x18f5+-0x1*0x799+0x208e,0x4c7+-0x1666+0x15b*0xd),this['_angularSp'+'ringX']=!(0x1c05+0x17a0+-0x33a4),this['_angularSt'+'iffnessX']=-0x3e3*-0x1+0x2487+-0x286a,this['_angularDa'+'mpingX']=0xc20+0x2dd*0xa+0x1*-0x28c1,this['_angularEq'+'uilibriumX']=-0x45*0xb+-0x23ec+-0x7c7*-0x5,this['_angularMo'+'tionY']=ja,this['_angularLi'+'mitsY']=new J(0x2*0x122b+-0x25d1+-0x17b*-0x1,-0x1*0x4ef+0x17cb+-0x12dc),this['_angularSp'+'ringY']=!(0xcee+-0x71*0x2+-0xc0b),this['_angularSt'+'iffnessY']=-0x2*0x1d7+-0x1*-0x6bf+-0x311,this['_angularDa'+'mpingY']=-0xa1d+-0x10d5+0x1af3,this['_angularEq'+'uilibriumY']=0x121d+0x69*0x31+-0x2636*0x1,this['_angularMo'+'tionZ']=ja,this['_angularLi'+'mitsZ']=new J(-0x1e18+-0x16f7+0x350f,-0x9b*-0x1e+0xfb0+-0x21da*0x1),this['_angularSp'+'ringZ']=!(-0x1*-0xb12+-0xcb*-0x7+0x109e*-0x1),this['_angularEq'+'uilibriumZ']=-0x1c1*0x2+-0x8ad+0xc2f*0x1,this['_angularDa'+'mpingZ']=0x2299*-0x1+-0x243+0x24dd,this['_angularSt'+'iffnessZ']=0x438+0x1*0x1541+-0x1979,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x5e8a96){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x5e8a96,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x274e26){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x274e26,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x2c49ce){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x2c49ce&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x2c49ce),this['_breakForc'+'e']=_0x2c49ce);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x58190d){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x58190d,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x5e7ca8){this['_angularLi'+'mitsX']['equals'](_0x5e7ca8)||(this['_angularLi'+'mitsX']['copy'](_0x5e7ca8),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x691911){this['_angularMo'+'tionX']!==_0x691911&&(this['_angularMo'+'tionX']=_0x691911,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x5c6e8f){this['_angularLi'+'mitsY']['equals'](_0x5c6e8f)||(this['_angularLi'+'mitsY']['copy'](_0x5c6e8f),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x3cb0b9){this['_angularMo'+'tionY']!==_0x3cb0b9&&(this['_angularMo'+'tionY']=_0x3cb0b9,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x21aa1a){this['_angularLi'+'mitsZ']['equals'](_0x21aa1a)||(this['_angularLi'+'mitsZ']['copy'](_0x21aa1a),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x490239){this['_angularMo'+'tionZ']!==_0x490239&&(this['_angularMo'+'tionZ']=_0x490239,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x1192bb){this['_linearLim'+'itsX']['equals'](_0x1192bb)||(this['_linearLim'+'itsX']['copy'](_0x1192bb),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x4f3d89){this['_linearMot'+'ionX']!==_0x4f3d89&&(this['_linearMot'+'ionX']=_0x4f3d89,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x39f73c){this['_linearLim'+'itsY']['equals'](_0x39f73c)||(this['_linearLim'+'itsY']['copy'](_0x39f73c),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x5d273e){this['_linearMot'+'ionY']!==_0x5d273e&&(this['_linearMot'+'ionY']=_0x5d273e,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x118d01){this['_linearLim'+'itsZ']['equals'](_0x118d01)||(this['_linearLim'+'itsZ']['copy'](_0x118d01),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x419891){this['_linearMot'+'ionZ']!==_0x419891&&(this['_linearMot'+'ionZ']=_0x419891,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x470bb4,_0x58eecd){const _0x2fdf00=_0x470bb4['getTransla'+'tion'](),_0x2469ea=new le();_0x2469ea['setFromMat'+'4'](_0x470bb4);const _0x4bd17c=new Ammo['btVector3'](_0x2fdf00['x'],_0x2fdf00['y'],_0x2fdf00['z']),_0x412320=new Ammo['btQuaterni'+'on'](_0x2469ea['x'],_0x2469ea['y'],_0x2469ea['z'],_0x2469ea['w']);_0x58eecd['setOrigin'](_0x4bd17c),_0x58eecd['setRotatio'+'n'](_0x412320),Ammo['destroy'](_0x4bd17c),Ammo['destroy'](_0x412320);}['_updateAng'+'ularLimits'](){const _0x711cc9=this['_constrain'+'t'];if(_0x711cc9){let _0x52567c,_0x11fe7f,_0x48dcd5,_0x38a5bf,_0x864191,_0x23f194;this['_angularMo'+'tionX']===qa?(_0x52567c=this['_angularLi'+'mitsX']['x']*Y['DEG_TO_RAD'],_0x38a5bf=this['_angularLi'+'mitsX']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionX']===Xa?(_0x52567c=0x196f*0x1+0x1de2+-0x3b*0xf0,_0x38a5bf=-0x663+0x130b+-0xb4*0x12):_0x52567c=_0x38a5bf=-0x923+-0x2359+0x2c7c,this['_angularMo'+'tionY']===qa?(_0x11fe7f=this['_angularLi'+'mitsY']['x']*Y['DEG_TO_RAD'],_0x864191=this['_angularLi'+'mitsY']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionY']===Xa?(_0x11fe7f=0x1*-0x335+0x1621+-0x12eb,_0x864191=0x4+-0x1*-0x813+-0x817):_0x11fe7f=_0x864191=0x17*0x3f+-0x1*0x2704+-0x1*-0x215b,this['_angularMo'+'tionZ']===qa?(_0x48dcd5=this['_angularLi'+'mitsZ']['x']*Y['DEG_TO_RAD'],_0x23f194=this['_angularLi'+'mitsZ']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Xa?(_0x48dcd5=0x1*-0x26+0x1*-0xdc9+-0x6f8*-0x2,_0x23f194=0x39*0x9b+0x256f*0x1+-0x47f2):_0x48dcd5=_0x23f194=0x3d*0x5+0x217e+-0x22af;const _0x400da8=new Ammo['btVector3'](_0x52567c,_0x11fe7f,_0x48dcd5);_0x711cc9['setAngular'+'LowerLimit'](_0x400da8),_0x400da8['setValue'](_0x38a5bf,_0x864191,_0x23f194),_0x711cc9['setAngular'+'UpperLimit'](_0x400da8),Ammo['destroy'](_0x400da8);}}['_updateLin'+'earLimits'](){const _0x38dbc7=this['_constrain'+'t'];if(_0x38dbc7){let _0x123ee6,_0x457ffd,_0x127172,_0x314f16,_0x5b3853,_0x147b7b;this['_linearMot'+'ionX']===qa?(_0x123ee6=this['_linearLim'+'itsX']['x'],_0x314f16=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Xa?(_0x123ee6=-0x2509+-0xa99*-0x1+0x1*0x1a71,_0x314f16=0x141e+-0xa59+-0x9c5*0x1):_0x123ee6=_0x314f16=-0xd9*-0x25+0xe01+0x2d5e*-0x1,this['_linearMot'+'ionY']===qa?(_0x457ffd=this['_linearLim'+'itsY']['x'],_0x5b3853=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Xa?(_0x457ffd=0x2441*0x1+0x493*0x1+-0x28d3,_0x5b3853=-0x25*-0x6d+-0x2568+-0x17*-0xf1):_0x457ffd=_0x5b3853=-0x1604+-0x1*0x388+0x221*0xc,this['_linearMot'+'ionZ']===qa?(_0x127172=this['_linearLim'+'itsZ']['x'],_0x147b7b=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Xa?(_0x127172=-0x1a7d*-0x1+0x1*-0x11ef+0x88d*-0x1,_0x147b7b=0xef1+0x83*-0xe+-0x1*0x7c7):_0x127172=_0x147b7b=0x7*0x2f6+-0x1*-0x7c3+-0x1c7d;const _0x2f7220=new Ammo['btVector3'](_0x123ee6,_0x457ffd,_0x127172);_0x38dbc7['setLinearL'+'owerLimit'](_0x2f7220),_0x2f7220['setValue'](_0x314f16,_0x5b3853,_0x147b7b),_0x38dbc7['setLinearU'+'pperLimit'](_0x2f7220),Ammo['destroy'](_0x2f7220);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x2a04e9=new te(),_0x2b6d7c=this['_entityA']['rigidbody']['body'];_0x2b6d7c['activate']();const _0x296f69=this['entity']['getWorldTr'+'ansform'](),_0x2cb542=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x2a04e9['mul2'](_0x2cb542,_0x296f69);const _0x5ce381=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x2a04e9,_0x5ce381),this['_entityB']&&this['_entityB']['rigidbody']){const _0x221378=this['_entityB']['rigidbody']['body'];_0x221378['activate']();const _0x542a04=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x2a04e9['mul2'](_0x542a04,_0x296f69);const _0x76bdc8=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x2a04e9,_0x76bdc8),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x2b6d7c,_0x221378,_0x5ce381,_0x76bdc8,!this['_enableCol'+'lision']),Ammo['destroy'](_0x76bdc8);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x2b6d7c,_0x5ce381,!this['_enableCol'+'lision']);Ammo['destroy'](_0x5ce381);const _0x57b555=['X','Y','Z','X','Y','Z'];for(let _0x2c7c61=-0x1d98+-0xca2+0x2f*0xe6;_0x2c7c61<0x2681*0x1+0x1372+-0x39ed;_0x2c7c61++){const _0x5ee5ad=_0x2c7c61<-0xc9b+0x1802+-0x5b2*0x2?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x2c7c61,this[_0x5ee5ad+'Spring'+_0x57b555[_0x2c7c61]]),this['_constrain'+'t']['setDamping'](_0x2c7c61,this[_0x5ee5ad+'Damping'+_0x57b555[_0x2c7c61]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x2c7c61,this[_0x5ee5ad+('Equilibriu'+'m')+_0x57b555[_0x2c7c61]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x2c7c61,this[_0x5ee5ad+'Stiffness'+_0x57b555[_0x2c7c61]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x3e8797){for(const _0xd3992d of RR)_0x3e8797['hasOwnProp'+'erty'](_0xd3992d)&&(_0x3e8797[_0xd3992d]instanceof J?this['_'+_0xd3992d]['copy'](_0x3e8797[_0xd3992d]):this['_'+_0xd3992d]=_0x3e8797[_0xd3992d]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x396cdd,_0x23666d,_0x181cae){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const OR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x48003b=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x486756=>{['X','Y','Z']['forEach'](_0x1ed854=>{const _0x266f75=_0x48003b+_0x486756+_0x1ed854,_0x1c0224='_'+_0x266f75;let _0x471bb6=_0x48003b==='linear'?-0x4*0x7c1+0x5b*-0x6b+-0xb*-0x647:0x1237+-0x1dbf*-0x1+0x2ff3*-0x1;_0x1ed854==='Y'&&(_0x471bb6+=0x257d*0x1+0x801*0x4+-0x4580),_0x1ed854==='Z'&&(_0x471bb6+=0x8fe+-0x233d+0x1a41),Object['defineProp'+'erty'](ym['prototype'],_0x266f75,{'get':function(){return this[_0x1c0224];},'set':function(_0x32eb76){this[_0x1c0224]!==_0x32eb76&&(this[_0x1c0224]=_0x32eb76,this['_constrain'+'t'][OR[_0x486756]](_0x471bb6,_0x32eb76));}});});});});class FR{constructor(){this['enabled']=!(-0x4*0x5db+0xd50+0xa1c);}}const Fu=['enabled'];class NR extends ct{constructor(_0x4b2963){super(_0x4b2963),this['id']='joint',this['app']=_0x4b2963,this['ComponentT'+'ype']=ym,this['DataType']=FR,this['schema']=Fu;}['initialize'+'ComponentD'+'ata'](_0x2970ee,_0x474dd6,_0x465f83){_0x2970ee['initFromDa'+'ta'](_0x474dd6),super['initialize'+'ComponentD'+'ata'](_0x2970ee,_0x474dd6,Fu);}}we['_buildAcce'+'ssors'](ym['prototype'],Fu),(function(){const _0x316912=function(){let _0x3fcbf4;try{_0x3fcbf4=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x498917){_0x3fcbf4=window;}return _0x3fcbf4;},_0x18dd68=_0x316912();_0x18dd68['setInterva'+'l'](_0x509898,0x2*0x4+0xb61*0x1+0x437);}());class Jv extends we{constructor(){super(...arguments),h(this,'_minWidth',0x5*-0x783+-0x2363+0x48f2),h(this,'_minHeight',-0x28d*0x2+-0x76*0x51+-0x70*-0x61),h(this,'_maxWidth',null),h(this,'_maxHeight',null),h(this,'_fitWidthP'+'roportion',-0x11ca+0x9af+-0x81b*-0x1),h(this,'_fitHeight'+'Proportion',0x2*0x1376+-0x17ec+-0xf00),h(this,'_excludeFr'+'omLayout',!(0x70+-0x21*0xcd+-0x2*-0xcff));}set['minWidth'](_0x1b78fb){_0x1b78fb!==this['_minWidth']&&(this['_minWidth']=_0x1b78fb,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x5ec54a){_0x5ec54a!==this['_minHeight']&&(this['_minHeight']=_0x5ec54a,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x57cfee){_0x57cfee!==this['_maxWidth']&&(this['_maxWidth']=_0x57cfee,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x260e77){_0x260e77!==this['_maxHeight']&&(this['_maxHeight']=_0x260e77,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x1bbc11){_0x1bbc11!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x1bbc11,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x5f13b4){_0x5f13b4!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x5f13b4,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x3cec3f){_0x3cec3f!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x3cec3f,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class kR{constructor(){this['enabled']=!(-0x1a*-0x16d+-0x2*-0xb92+0x2*-0x1e1b);}}const e0=['enabled'];class UR extends ct{constructor(_0x1e107a){super(_0x1e107a),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=Jv,this['DataType']=kR,this['schema']=e0;}['initialize'+'ComponentD'+'ata'](_0x255f9e,_0x268334,_0x1f1e3d){_0x268334['enabled']!==void(-0x2*-0x11c3+-0x1*-0xf6e+-0x32f4)&&(_0x255f9e['enabled']=_0x268334['enabled']),_0x268334['minWidth']!==void(0x13ce+0x6b*0x29+-0x24f1)&&(_0x255f9e['minWidth']=_0x268334['minWidth']),_0x268334['minHeight']!==void(0x47*-0x56+0x1b1+-0x763*-0x3)&&(_0x255f9e['minHeight']=_0x268334['minHeight']),_0x268334['maxWidth']!==void(-0x2*0x66+-0x68*-0x38+-0x57d*0x4)&&(_0x255f9e['maxWidth']=_0x268334['maxWidth']),_0x268334['maxHeight']!==void(0x22*0x9e+0x595*-0x4+0x158)&&(_0x255f9e['maxHeight']=_0x268334['maxHeight']),_0x268334['fitWidthPr'+'oportion']!==void(0x166f*-0x1+-0x1e91+0x3500)&&(_0x255f9e['fitWidthPr'+'oportion']=_0x268334['fitWidthPr'+'oportion']),_0x268334['fitHeightP'+'roportion']!==void(0xad1+-0x8ba+-0x217)&&(_0x255f9e['fitHeightP'+'roportion']=_0x268334['fitHeightP'+'roportion']),_0x268334['excludeFro'+'mLayout']!==void(-0x237b+-0x1935+-0x796*-0x8)&&(_0x255f9e['excludeFro'+'mLayout']=_0x268334['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x255f9e,_0x268334,_0x1f1e3d);}['cloneCompo'+'nent'](_0x21699c,_0x5e5ea6){const _0x41998e=_0x21699c['layoutchil'+'d'];return this['addCompone'+'nt'](_0x5e5ea6,{'enabled':_0x41998e['enabled'],'minWidth':_0x41998e['minWidth'],'minHeight':_0x41998e['minHeight'],'maxWidth':_0x41998e['maxWidth'],'maxHeight':_0x41998e['maxHeight'],'fitWidthProportion':_0x41998e['fitWidthPr'+'oportion'],'fitHeightProportion':_0x41998e['fitHeightP'+'roportion'],'excludeFromLayout':_0x41998e['excludeFro'+'mLayout']});}}we['_buildAcce'+'ssors'](Jv['prototype'],e0);const Nu=0x15c7+-0x12be+0x15*-0x25,BR=-0x291+0xf97+-0xd05,Qg=-0x51*-0x51+-0x1*-0x1940+-0x32df,zR=0x1b54+-0x493*0x2+0x122b*-0x1,Oh={};Oh[Ce]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Oh[je]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const vm={};vm[Ce]=je,vm[je]=Ce;const VR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},os={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},ls=new J();function t0(_0x291b14){let _0x39a050;const _0x1264b9=Oh[_0x291b14],_0x3d8dfb=Oh[vm[_0x291b14]];function _0x5909f2(_0x2ec263,_0x15ce9b){return-_0x15ce9b[_0x1264b9['size']]*_0x2ec263['pivot'][_0x1264b9['axis']];}function _0x21ebc0(_0x3e9082,_0x50b59a){return-_0x50b59a[_0x3d8dfb['size']]*_0x3e9082['pivot'][_0x3d8dfb['axis']];}function _0x4ad906(_0x3878e4,_0x366f48){return _0x366f48[_0x1264b9['size']]*(-0x25b7+0x13b*0xe+-0x147e*-0x1-_0x3878e4['pivot'][_0x1264b9['axis']]);}function _0x1033dc(_0x1bb366,_0x184bb3){_0x1bb366=_0x1bb366['filter'](_0x5a9e8a),_0x39a050=_0x184bb3,ls['x']=_0x39a050['containerS'+'ize']['x']-_0x39a050['padding']['x']-_0x39a050['padding']['z'],ls['y']=_0x39a050['containerS'+'ize']['y']-_0x39a050['padding']['y']-_0x39a050['padding']['w'],_0x64dbee(_0x1bb366);const _0x5bdb8b=_0x32d139(_0x31c843(_0x1bb366)),_0x1c554a=_0x4aa951(_0x5bdb8b,_0x11ac06(_0x5bdb8b)),_0x22c5af=_0x3bc498(_0x5bdb8b,_0x1c554a);return _0x1d31c5(_0x5bdb8b,_0x1c554a,_0x22c5af),_0x26efea(_0x5bdb8b,_0x1c554a,_0x22c5af),_0x2a5965(_0x5bdb8b);}function _0x5a9e8a(_0x30c52e){const _0x355487=_0x30c52e['entity']['layoutchil'+'d'];return!_0x355487||!_0x355487['enabled']||!_0x355487['excludeFro'+'mLayout'];}function _0x64dbee(_0x216a3a){for(let _0x59d2f8=0x3*0x49b+-0x2e9*-0x4+-0x1975;_0x59d2f8<_0x216a3a['length'];++_0x59d2f8){const _0x3be6bd=_0x216a3a[_0x59d2f8],_0x61ce16=_0x3be6bd['anchor'];(_0x61ce16['x']!==0x5*-0x533+-0x6*0x63+0x1c51||_0x61ce16['y']!==-0xc7d*-0x1+0x8b*0xc+-0x1301||_0x61ce16['z']!==0x2184+-0x71b*0x4+-0x518||_0x61ce16['w']!==-0x13b1+-0x229*0x7+-0x22d*-0x10)&&(_0x3be6bd['anchor']=re['ZERO']);}}function _0x31c843(_0x10bd41){if(!_0x39a050['wrap'])return[_0x10bd41];const _0x1f376e=[[]],_0x43233b=_0x27ec26(_0x10bd41);let _0x24e7b7=0xf85+-0x20a+-0x1*0xd7b;const _0x6f394=_0x39a050[_0x1264b9['fitting']]===Qg;for(let _0x570d13=0xa2e*0x2+-0x1910+-0x4*-0x12d;_0x570d13<_0x10bd41['length'];++_0x570d13){_0x1f376e[_0x1f376e['length']-(-0x1817+0x9c3+0xe55)]['length']>-0x24b5+0x2c*0x29+0x1*0x1da9&&(_0x24e7b7+=_0x39a050['spacing'][_0x1264b9['axis']]);const _0xa11e1f=_0x43233b[_0x570d13][_0x1264b9['size']];_0x24e7b7+=_0xa11e1f,!_0x6f394&&_0x24e7b7>ls[_0x1264b9['axis']]&&_0x1f376e[_0x1f376e['length']-(-0xa61*-0x3+0x11f3+0x9d1*-0x5)]['length']!==0x2002+0xef8*0x2+-0x3df2*0x1&&(_0x24e7b7=_0xa11e1f,_0x1f376e['push']([])),_0x1f376e[_0x1f376e['length']-(0x238f+0x1*-0x9c9+-0x9*0x2dd)]['push'](_0x10bd41[_0x570d13]),_0x6f394&&_0x24e7b7>ls[_0x1264b9['axis']]&&_0x570d13!==_0x10bd41['length']-(-0x71*-0x4f+-0x2*0x7dd+-0x1324)&&(_0x24e7b7=-0x269*-0xd+-0x323*-0x1+-0x113c*0x2,_0x1f376e['push']([]));}return _0x1f376e;}function _0x32d139(_0xf7bac6){const _0x509574=_0x39a050['orientatio'+'n']===Ce&&_0x39a050['reverseX']||_0x39a050['orientatio'+'n']===je&&_0x39a050['reverseY'],_0x325043=_0x39a050['orientatio'+'n']===Ce&&_0x39a050['reverseY']||_0x39a050['orientatio'+'n']===je&&_0x39a050['reverseX'];if(_0x509574){for(let _0x9a189f=-0x227c+0x38*0x6c+-0x1*-0xadc;_0x9a189f<_0xf7bac6['length'];++_0x9a189f)_0x509574&&_0xf7bac6[_0x9a189f]['reverse']();}return _0x325043&&_0xf7bac6['reverse'](),_0xf7bac6;}function _0x11ac06(_0x253d08){const _0x18f599=[];for(let _0x329a1d=-0x327*-0xb+0x250d+-0x47ba;_0x329a1d<_0x253d08['length'];++_0x329a1d){const _0x374207=_0x253d08[_0x329a1d],_0x286133=_0x27ec26(_0x374207),_0x3d3fec=_0x28ee6e(_0x286133,_0x1264b9),_0x1659b3=_0x1c37fb(_0x39a050[_0x1264b9['fitting']],_0x3d3fec,ls[_0x1264b9['axis']]);_0x1659b3===os['APPLY_STRE'+'TCHING']?_0x42c3d9(_0x286133,_0x3d3fec,_0x1264b9):_0x1659b3===os['APPLY_SHRI'+'NKING']&&_0x244465(_0x286133,_0x3d3fec,_0x1264b9),_0x18f599['push'](_0x286133);}return _0x18f599;}function _0x4aa951(_0x4edf1f,_0x4ce090){const _0x50d47d=[],_0x3b9a2f=[];for(let _0x551c35=0x2320+-0x2676+0x1*0x356;_0x551c35<_0x4edf1f['length'];++_0x551c35){const _0x4f143b=_0x4edf1f[_0x551c35];_0x4f143b['largestEle'+'ment']=null,_0x4f143b['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x56e9f9=0x431*-0x2+0x150e+-0xcac;_0x56e9f9<_0x4f143b['length'];++_0x56e9f9){const _0xa8bce3=_0x4ce090[_0x551c35][_0x56e9f9];_0xa8bce3[_0x3d8dfb['size']]>_0x4f143b['largestSiz'+'e'][_0x3d8dfb['size']]&&(_0x4f143b['largestEle'+'ment']=_0x4f143b[_0x56e9f9],_0x4f143b['largestSiz'+'e']=_0xa8bce3);}_0x50d47d['push'](_0x4f143b['largestEle'+'ment']),_0x3b9a2f['push'](_0x4f143b['largestSiz'+'e']);}const _0x51ae5=_0x28ee6e(_0x3b9a2f,_0x3d8dfb),_0x2c76b2=_0x1c37fb(_0x39a050[_0x3d8dfb['fitting']],_0x51ae5,ls[_0x3d8dfb['axis']]);_0x2c76b2===os['APPLY_STRE'+'TCHING']?_0x42c3d9(_0x3b9a2f,_0x51ae5,_0x3d8dfb):_0x2c76b2===os['APPLY_SHRI'+'NKING']&&_0x244465(_0x3b9a2f,_0x51ae5,_0x3d8dfb);for(let _0x18148b=0x10bf+-0xd95+0xa*-0x51;_0x18148b<_0x4edf1f['length'];++_0x18148b){const _0x54f80f=_0x4edf1f[_0x18148b];for(let _0x5eee8a=0x24c5+0xbe7+-0x30ac;_0x5eee8a<_0x54f80f['length'];++_0x5eee8a){const _0x10887f=_0x4ce090[_0x18148b][_0x5eee8a],_0x1872d2=_0x10887f[_0x3d8dfb['size']],_0x594da9=_0x4edf1f['length']===-0x1f71+-0x232c+-0x1*-0x429e?ls[_0x3d8dfb['axis']]:_0x54f80f['largestSiz'+'e'][_0x3d8dfb['size']],_0x5892d1=_0x1c37fb(_0x39a050[_0x3d8dfb['fitting']],_0x1872d2,_0x594da9);_0x5892d1===os['APPLY_STRE'+'TCHING']?_0x10887f[_0x3d8dfb['size']]=Math['min'](_0x594da9,_0x10887f[_0x3d8dfb['maxSize']]):_0x5892d1===os['APPLY_SHRI'+'NKING']&&(_0x10887f[_0x3d8dfb['size']]=Math['max'](_0x594da9,_0x10887f[_0x3d8dfb['minSize']]));}}return _0x4ce090;}function _0x1c37fb(_0x8c3ac9,_0x35387c,_0x566001){switch(_0x8c3ac9){case Nu:return os['NONE'];case BR:return _0x35387c<_0x566001?os['APPLY_STRE'+'TCHING']:os['NONE'];case Qg:return _0x35387c>=_0x566001?os['APPLY_SHRI'+'NKING']:os['NONE'];case zR:return _0x35387c<_0x566001?os['APPLY_STRE'+'TCHING']:os['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x8c3ac9);}}function _0x28ee6e(_0x510108,_0x32b61c){const _0x38244c=_0x4624b4(_0x510108,_0x32b61c['size']),_0x51629c=(_0x510108['length']-(0x387+0x12d+-0x191*0x3))*_0x39a050['spacing'][_0x32b61c['axis']];return _0x38244c+_0x51629c;}function _0x42c3d9(_0xf0009d,_0x1dd5b4,_0x5f53a3){const _0x18a2ef=_0x4b0927(_0xf0009d,_0x5f53a3['maxSize']),_0x57a6c5=_0x37360a(_0xf0009d,_0x5f53a3['fittingPro'+'portion']),_0x16e701=_0x26b9a3(_0x57a6c5,_0x18a2ef);let _0x48a7c9=ls[_0x5f53a3['axis']]-_0x1dd5b4;for(let _0x1ff040=0x1819+0x21f6+-0x3a0f;_0x1ff040<_0xf0009d['length'];++_0x1ff040){const _0x558b3b=_0x18a2ef[_0x1ff040],_0x2f4af6=_0x280bbf(_0x558b3b,_0x48a7c9,_0x57a6c5,_0x16e701),_0x5307a1=_0xf0009d[_0x558b3b][_0x5f53a3['size']]+_0x2f4af6,_0x1eb34a=_0xf0009d[_0x558b3b][_0x5f53a3['maxSize']],_0x2463cf=Math['min'](_0x5307a1,_0x1eb34a);_0xf0009d[_0x558b3b][_0x5f53a3['size']]=_0x2463cf;const _0x3cc48a=Math['max'](_0x5307a1-_0x2463cf,0x4d*-0x62+0x1b29*0x1+0x251),_0x5c531d=_0x2f4af6-_0x3cc48a;_0x48a7c9-=_0x5c531d;}}function _0x244465(_0xafd241,_0x383036,_0x25fa90){const _0x4474b0=_0x4b0927(_0xafd241,_0x25fa90['minSize'],!(-0x1135+0x1ef*0xf+-0xbcc)),_0x1c0c79=_0x37360a(_0xafd241,_0x25fa90['fittingPro'+'portion']),_0x2a39c4=_0x264781(_0x1c0c79),_0x557e74=_0x26b9a3(_0x2a39c4,_0x4474b0);let _0x56c907=_0x383036-ls[_0x25fa90['axis']];for(let _0x19bfce=-0x7*-0x17c+-0xcea+0x143*0x2;_0x19bfce<_0xafd241['length'];++_0x19bfce){const _0x4bf09e=_0x4474b0[_0x19bfce],_0x2a818f=_0x280bbf(_0x4bf09e,_0x56c907,_0x2a39c4,_0x557e74),_0x378cd8=_0xafd241[_0x4bf09e][_0x25fa90['size']]-_0x2a818f,_0x40db7d=_0xafd241[_0x4bf09e][_0x25fa90['minSize']],_0x17268e=Math['max'](_0x378cd8,_0x40db7d);_0xafd241[_0x4bf09e][_0x25fa90['size']]=_0x17268e;const _0x5b3745=Math['max'](_0x17268e-_0x378cd8,0x210f+0x1025+0x189a*-0x2),_0x2a9e6c=_0x2a818f-_0x5b3745;_0x56c907-=_0x2a9e6c;}}function _0x280bbf(_0x59e38d,_0x50659e,_0x107215,_0x245421){const _0x141528=_0x107215[_0x59e38d],_0x313e34=_0x245421[_0x59e38d];return Math['abs'](_0x141528)<0x5*0x44f+0x1*-0x3fb+-0x1190+0.00001&&Math['abs'](_0x313e34)<-0x86*-0xb+-0x52e+0x25*-0x4+0.00001?_0x50659e:_0x50659e*_0x141528/_0x313e34;}function _0x3bc498(_0x2f4205,_0x2c4897){const _0x1ffd1a={};_0x1ffd1a[_0x1264b9['axis']]=-0x1*-0x24f2+0x25a*0xe+-0x45de,_0x1ffd1a[_0x3d8dfb['axis']]=0x1fb7+-0x18fc+-0x6bb,_0x2f4205[_0x1264b9['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x3eaa35=[];for(let _0x293343=0x284+0x26b5+-0x2939;_0x293343<_0x2f4205['length'];++_0x293343){const _0x7b35dc=_0x2f4205[_0x293343];if(_0x7b35dc['length']===-0x1608+-0x1*-0x649+0xfbf){_0x3eaa35['push']([]);continue;}const _0x36b370=[],_0x1c12f7=_0x2c4897[_0x293343];for(let _0x4f1af7=-0xa3e+-0x1*0x22c6+0xac*0x43;_0x4f1af7<_0x7b35dc['length'];++_0x4f1af7){const _0x58542d=_0x7b35dc[_0x4f1af7],_0x3abf47=_0x1c12f7[_0x4f1af7];_0x1ffd1a[_0x3d8dfb['axis']]-=_0x21ebc0(_0x58542d,_0x3abf47),_0x1ffd1a[_0x1264b9['axis']]-=_0x5909f2(_0x58542d,_0x3abf47),_0x36b370[_0x4f1af7]={},_0x36b370[_0x4f1af7][_0x1264b9['axis']]=_0x1ffd1a[_0x1264b9['axis']],_0x36b370[_0x4f1af7][_0x3d8dfb['axis']]=_0x1ffd1a[_0x3d8dfb['axis']],_0x1ffd1a[_0x3d8dfb['axis']]+=_0x21ebc0(_0x58542d,_0x3abf47),_0x1ffd1a[_0x1264b9['axis']]+=_0x4ad906(_0x58542d,_0x3abf47)+_0x39a050['spacing'][_0x1264b9['axis']];}_0x7b35dc[_0x1264b9['size']]=_0x1ffd1a[_0x1264b9['axis']]-_0x39a050['spacing'][_0x1264b9['axis']],_0x7b35dc[_0x3d8dfb['size']]=_0x7b35dc['largestSiz'+'e'][_0x3d8dfb['size']],_0x2f4205[_0x1264b9['size']]=Math['max'](_0x2f4205[_0x1264b9['size']],_0x7b35dc[_0x1264b9['size']]),_0x1ffd1a[_0x1264b9['axis']]=-0x24aa*0x1+-0xdb4*-0x1+0x16f6,_0x1ffd1a[_0x3d8dfb['axis']]+=_0x7b35dc[_0x3d8dfb['size']]+_0x39a050['spacing'][_0x3d8dfb['axis']],_0x3eaa35['push'](_0x36b370);}return _0x2f4205[_0x3d8dfb['size']]=_0x1ffd1a[_0x3d8dfb['axis']]-_0x39a050['spacing'][_0x3d8dfb['axis']],_0x3eaa35;}function _0x1d31c5(_0x85df7,_0x93d01e,_0x3706c4){const _0x30bb3d=_0x39a050['alignment'][_0x1264b9['axis']],_0x29c636=_0x39a050['alignment'][_0x3d8dfb['axis']],_0x551879=_0x39a050['padding'][_0x1264b9['axis']],_0x355d99=_0x39a050['padding'][_0x3d8dfb['axis']];for(let _0x45c487=0x2342*-0x1+-0xc16+0x2f58;_0x45c487<_0x85df7['length'];++_0x45c487){const _0x353104=_0x85df7[_0x45c487],_0x201a85=_0x93d01e[_0x45c487],_0x5b50b7=_0x3706c4[_0x45c487],_0x5b9a85=(ls[_0x1264b9['axis']]-_0x353104[_0x1264b9['size']])*_0x30bb3d+_0x551879,_0x4e0ed2=(ls[_0x3d8dfb['axis']]-_0x85df7[_0x3d8dfb['size']])*_0x29c636+_0x355d99;for(let _0x3fbd53=-0x2396+-0x12a9*0x1+0x363f*0x1;_0x3fbd53<_0x353104['length'];++_0x3fbd53){const _0x138de0=(_0x353104[_0x3d8dfb['size']]-_0x201a85[_0x3fbd53][_0x3d8dfb['size']])*_0x39a050['alignment'][_0x3d8dfb['axis']];_0x5b50b7[_0x3fbd53][_0x1264b9['axis']]+=_0x5b9a85,_0x5b50b7[_0x3fbd53][_0x3d8dfb['axis']]+=_0x4e0ed2+_0x138de0;}}}function _0x26efea(_0x198340,_0x26e583,_0x1bd643){for(let _0x4c3d50=0x7*-0x555+0x1*0x2355+0x1fe;_0x4c3d50<_0x198340['length'];++_0x4c3d50){const _0x4c5b26=_0x198340[_0x4c3d50],_0x57a3e5=_0x26e583[_0x4c3d50],_0x2033e9=_0x1bd643[_0x4c3d50];for(let _0x1f9a4a=-0x23*0xfe+0x1622*0x1+0x1a*0x7c;_0x1f9a4a<_0x4c5b26['length'];++_0x1f9a4a){const _0x2ca396=_0x4c5b26[_0x1f9a4a];_0x2ca396[_0x1264b9['calculated'+'Size']]=_0x57a3e5[_0x1f9a4a][_0x1264b9['size']],_0x2ca396[_0x3d8dfb['calculated'+'Size']]=_0x57a3e5[_0x1f9a4a][_0x3d8dfb['size']],_0x39a050['orientatio'+'n']===Ce?_0x2ca396['entity']['setLocalPo'+'sition'](_0x2033e9[_0x1f9a4a][_0x1264b9['axis']],_0x2033e9[_0x1f9a4a][_0x3d8dfb['axis']],_0x2ca396['entity']['getLocalPo'+'sition']()['z']):_0x2ca396['entity']['setLocalPo'+'sition'](_0x2033e9[_0x1f9a4a][_0x3d8dfb['axis']],_0x2033e9[_0x1f9a4a][_0x1264b9['axis']],_0x2ca396['entity']['getLocalPo'+'sition']()['z']);}}}function _0x2a5965(_0x5a9a94){const _0x40ee17=_0x5a9a94['width'],_0x653b6c=_0x5a9a94['height'],_0x39a467=(ls['x']-_0x40ee17)*_0x39a050['alignment']['x']+_0x39a050['padding']['x'],_0x4a9666=(ls['y']-_0x653b6c)*_0x39a050['alignment']['y']+_0x39a050['padding']['y'];return{'bounds':new re(_0x39a467,_0x4a9666,_0x40ee17,_0x653b6c)};}function _0x27ec26(_0xb483f9){const _0x70ace3=[];for(let _0x34863a=0x1465+0x22a4+-0x3709;_0x34863a<_0xb483f9['length'];++_0x34863a){const _0x1558b4=_0xb483f9[_0x34863a],_0x54b02b=Math['max'](_0x5f59fd(_0x1558b4,'minWidth'),-0x1b*-0x123+-0x14*0x9f+0x1*-0x1245),_0x5a6054=Math['max'](_0x5f59fd(_0x1558b4,'minHeight'),0x1cee+0xb*0x1c+-0x1e22),_0x4ba78f=Math['max'](_0x5f59fd(_0x1558b4,'maxWidth'),_0x54b02b),_0x2d288d=Math['max'](_0x5f59fd(_0x1558b4,'maxHeight'),_0x5a6054),_0xdb3ece=_0x38fdd5(_0x5f59fd(_0x1558b4,'width'),_0x54b02b,_0x4ba78f),_0x1f01b8=_0x38fdd5(_0x5f59fd(_0x1558b4,'height'),_0x5a6054,_0x2d288d),_0xea740=_0x5f59fd(_0x1558b4,'fitWidthPr'+'oportion'),_0x4bb4d4=_0x5f59fd(_0x1558b4,'fitHeightP'+'roportion');_0x70ace3['push']({'minWidth':_0x54b02b,'minHeight':_0x5a6054,'maxWidth':_0x4ba78f,'maxHeight':_0x2d288d,'width':_0xdb3ece,'height':_0x1f01b8,'fitWidthProportion':_0xea740,'fitHeightProportion':_0x4bb4d4});}return _0x70ace3;}function _0x5f59fd(_0x10dcfa,_0x56dd87){const _0x1eaf5b=_0x10dcfa['entity']['layoutchil'+'d'];return _0x1eaf5b&&_0x1eaf5b['enabled']&&_0x1eaf5b[_0x56dd87]!==void(-0x3d*0x65+0x6*0x4d+-0x29*-0x8b)&&_0x1eaf5b[_0x56dd87]!==null?_0x1eaf5b[_0x56dd87]:_0x10dcfa[_0x56dd87]!==void(-0x1c68+0x1f35+-0x2cd)?_0x10dcfa[_0x56dd87]:VR[_0x56dd87];}function _0x38fdd5(_0x12993c,_0x356dd4,_0x422931){return Math['min'](Math['max'](_0x12993c,_0x356dd4),_0x422931);}function _0x4624b4(_0x2de755,_0x35806b){return _0x2de755['reduce']((_0x3b4f14,_0x3c179e)=>_0x3b4f14+_0x3c179e[_0x35806b],0x1a10+0xf65+-0x2975*0x1);}function _0x37360a(_0x474f28,_0x43db1b){const _0xce5379=_0x4624b4(_0x474f28,_0x43db1b),_0x4c723b=[],_0xb1d2f2=_0x474f28['length'];if(_0xce5379===-0x6*0x399+-0x21a0*-0x1+0xc0a*-0x1){for(let _0xc4eaba=0x2a*0x95+-0x3*0x679+-0x1ad*0x3;_0xc4eaba<_0xb1d2f2;++_0xc4eaba)_0x4c723b['push']((-0x3*-0xad+-0xc21+0x1*0xa1b)/_0xb1d2f2);}else{for(let _0x805321=0x25d9*-0x1+0x1*-0x1519+0x3af2;_0x805321<_0xb1d2f2;++_0x805321)_0x4c723b['push'](_0x474f28[_0x805321][_0x43db1b]/_0xce5379);}return _0x4c723b;}function _0x264781(_0x573ea2){if(_0x573ea2['length']===-0x26f0+0x78b*-0x4+0x551*0xd)return[0xd3*0x2f+0x4a*-0x1+-0x103*0x26];const _0xa83c7b=[],_0x15e7d7=_0x573ea2['length'];for(let _0x3f92c0=0x2*-0x1c6+0x1e92+-0x1b06;_0x3f92c0<_0x15e7d7;++_0x3f92c0)_0xa83c7b['push']((0x1*0x23+-0x971*-0x1+-0x1*0x993-_0x573ea2[_0x3f92c0])/(_0x15e7d7-(0x1472*-0x1+-0x5c6+0x1a39)));return _0xa83c7b;}function _0x4b0927(_0x1c12c9,_0x39d334,_0x1d50c4){return _0x1c12c9['forEach'](_0x55e52a),_0x1c12c9['slice']()['sort']((_0x1559e1,_0x569cab)=>_0x1d50c4?_0x569cab[_0x39d334]-_0x1559e1[_0x39d334]:_0x1559e1[_0x39d334]-_0x569cab[_0x39d334])['map'](_0xd3cd24);}function _0x55e52a(_0x2c5279,_0x5482ed){_0x2c5279['index']=_0x5482ed;}function _0xd3cd24(_0xf0984){return _0xf0984['index'];}function _0x26b9a3(_0x32e26e,_0x210890){const _0x262a02=[];_0x262a02[_0x210890[_0x32e26e['length']-(-0x1e86+-0xb*0x14b+0x2cc0)]]=_0x32e26e[_0x210890[_0x32e26e['length']-(0x353*-0x3+0x3*-0x531+0x1*0x198d)]];for(let _0x55f3d8=_0x32e26e['length']-(-0x8*0x331+0x12d+0x185d);_0x55f3d8>=-0x2a1*0x2+-0x8*0x4d7+-0xd*-0x362;--_0x55f3d8)_0x262a02[_0x210890[_0x55f3d8]]=_0x262a02[_0x210890[_0x55f3d8+(-0x4*-0x3f3+0xb55+-0x1b20)]]+_0x32e26e[_0x210890[_0x55f3d8]];return _0x262a02;}return _0x1033dc;}const xm={};xm[Ce]=t0(Ce),xm[je]=t0(je);class GR{['calculateL'+'ayout'](_0x2ad0a8,_0x257457){const _0xbb7d31=xm[_0x257457['orientatio'+'n']];if(_0xbb7d31)return _0xbb7d31(_0x2ad0a8,_0x257457);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x257457['orientatio'+'n']);}}function Jg(_0xfc1ae3){return _0xfc1ae3['element'];}function HR(_0x17e272){return _0x17e272['enabled']&&_0x17e272['element']&&_0x17e272['element']['enabled'];}class s0 extends we{constructor(_0x143b41,_0x443616){super(_0x143b41,_0x443616),h(this,'_orientati'+'on',Ce),h(this,'_reverseX',!(0x1583*-0x1+0x1*0x10d1+-0x4b3*-0x1)),h(this,'_reverseY',!(0x2497+0xdf6+0x328d*-0x1)),h(this,'_alignment',new J(0x1b86+0x56f+-0x20f5,-0x2*-0xcc7+0xd*0x51+-0x1daa)),h(this,'_padding',new re()),h(this,'_spacing',new J()),h(this,'_widthFitt'+'ing',Nu),h(this,'_heightFit'+'ting',Nu),h(this,'_wrap',!(0xdef+0x1317+-0x2105*0x1)),h(this,'_layoutCal'+'culator',new GR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x3afd4a=>{this['_listenFor'+'ReflowEven'+'ts'](_0x3afd4a,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),w['assert'](_0x143b41['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x143b41['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x143b41['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),w['assert'](_0x143b41['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x143b41['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x143b41['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x180654){_0x180654!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x180654,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x3b9790){_0x3b9790!==this['_reverseX']&&(this['_reverseX']=_0x3b9790,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x34024b){_0x34024b!==this['_reverseY']&&(this['_reverseY']=_0x34024b,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x5d9060){_0x5d9060['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x5d9060),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x457444){_0x457444['equals'](this['_padding'])||(this['_padding']['copy'](_0x457444),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x2dfe66){_0x2dfe66['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x2dfe66),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x2bf795){_0x2bf795!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x2bf795,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x199e6a){_0x199e6a!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x199e6a,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x467d1a){_0x467d1a!==this['_wrap']&&(this['_wrap']=_0x467d1a,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x43dacd){return _0x43dacd===this['entity']||this['entity']['children']['indexOf'](_0x43dacd)!==-(-0xf83*-0x2+0x1*0x9f7+-0x2b*0xf4);}['_listenFor'+'ReflowEven'+'ts'](_0xecdf6,_0x2f9f54){_0xecdf6['element']&&(_0xecdf6['element'][_0x2f9f54]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0xecdf6['element'][_0x2f9f54]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0xecdf6['element'][_0x2f9f54]('resize',this['_scheduleR'+'eflow'],this),_0xecdf6['element'][_0x2f9f54]('set:pivot',this['_scheduleR'+'eflow'],this)),_0xecdf6['layoutchil'+'d']&&(_0xecdf6['layoutchil'+'d'][_0x2f9f54]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0xecdf6['layoutchil'+'d'][_0x2f9f54]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x9ee7f){this['_isSelfOrC'+'hild'](_0x9ee7f)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x9ee7f,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x1136bc){this['_isSelfOrC'+'hild'](_0x1136bc)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x1136bc,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x2dcba6){this['_listenFor'+'ReflowEven'+'ts'](_0x2dcba6,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x244918){this['_listenFor'+'ReflowEven'+'ts'](_0x244918,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x4e3863=Jg(this['entity']),_0x390a59=this['entity']['children']['filter'](HR)['map'](Jg);if(!_0x4e3863||_0x390a59['length']===0x889+0x1760+0x7*-0x48f)return;const _0x154d88=Math['max'](_0x4e3863['calculated'+'Width'],0x12c6+0x1e9a+-0x3160),_0x4d9676=Math['max'](_0x4e3863['calculated'+'Height'],-0x13dd+-0xc3c+0x53*0x63),_0xbbc92a={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new J(_0x154d88,_0x4d9676)};this['_isPerform'+'ingReflow']=!(0xe3*0x25+-0x1bf*0xd+0x287*-0x4);const _0x1d3b33=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x390a59,_0xbbc92a);this['_isPerform'+'ingReflow']=!(-0x1e89*0x1+-0x256b*-0x1+-0x3*0x24b),this['fire']('reflow',_0x1d3b33);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x4fde7a=>{this['_listenFor'+'ReflowEven'+'ts'](_0x4fde7a,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class WR{constructor(){this['enabled']=!(-0x1acf+-0x25e2*-0x1+-0xb13*0x1);}}const i0=['enabled'],$R=-0x30*0xa1+0xd*-0x1fd+0x386d;class XR extends ct{constructor(_0x17021c){super(_0x17021c),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=s0,this['DataType']=WR,this['schema']=i0,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0xa3e9b6,_0x4e1d63,_0xa1f0ab){_0x4e1d63['enabled']!==void(-0x1d53+-0x113*-0x22+-0x733)&&(_0xa3e9b6['enabled']=_0x4e1d63['enabled']),_0x4e1d63['orientatio'+'n']!==void(0x16*-0x4f+-0x50f+-0x3f3*-0x3)&&(_0xa3e9b6['orientatio'+'n']=_0x4e1d63['orientatio'+'n']),_0x4e1d63['reverseX']!==void(0x8be*-0x3+-0x21fb*-0x1+-0x7c1)&&(_0xa3e9b6['reverseX']=_0x4e1d63['reverseX']),_0x4e1d63['reverseY']!==void(-0x80*0x2+0xc*-0x2dc+-0x10*-0x235)&&(_0xa3e9b6['reverseY']=_0x4e1d63['reverseY']),_0x4e1d63['alignment']!==void(0xdb6+-0x13*-0x5a+-0xa*0x20a)&&(_0xa3e9b6['alignment']=Array['isArray'](_0x4e1d63['alignment'])?new J(_0x4e1d63['alignment']):_0x4e1d63['alignment']),_0x4e1d63['padding']!==void(-0x27e+0x1*0x5a1+-0x49*0xb)&&(_0xa3e9b6['padding']=Array['isArray'](_0x4e1d63['padding'])?new re(_0x4e1d63['padding']):_0x4e1d63['padding']),_0x4e1d63['spacing']!==void(0x539+-0x4*0x31c+0x737)&&(_0xa3e9b6['spacing']=Array['isArray'](_0x4e1d63['spacing'])?new J(_0x4e1d63['spacing']):_0x4e1d63['spacing']),_0x4e1d63['widthFitti'+'ng']!==void(0x342+-0x6*-0x5+0x20*-0x1b)&&(_0xa3e9b6['widthFitti'+'ng']=_0x4e1d63['widthFitti'+'ng']),_0x4e1d63['heightFitt'+'ing']!==void(0xd1f*0x1+0x12b+0x1f*-0x76)&&(_0xa3e9b6['heightFitt'+'ing']=_0x4e1d63['heightFitt'+'ing']),_0x4e1d63['wrap']!==void(0xcdd+-0x13df+0x702)&&(_0xa3e9b6['wrap']=_0x4e1d63['wrap']),super['initialize'+'ComponentD'+'ata'](_0xa3e9b6,_0x4e1d63,_0xa1f0ab);}['cloneCompo'+'nent'](_0x483d03,_0x372ada){const _0x22743f=_0x483d03['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x372ada,{'enabled':_0x22743f['enabled'],'orientation':_0x22743f['orientatio'+'n'],'reverseX':_0x22743f['reverseX'],'reverseY':_0x22743f['reverseY'],'alignment':_0x22743f['alignment'],'padding':_0x22743f['padding'],'spacing':_0x22743f['spacing'],'widthFitting':_0x22743f['widthFitti'+'ng'],'heightFitting':_0x22743f['heightFitt'+'ing'],'wrap':_0x22743f['wrap']});}['scheduleRe'+'flow'](_0x573933){this['_reflowQue'+'ue']['indexOf'](_0x573933)===-(-0xb6a+0xfb7+0x113*-0x4)&&this['_reflowQue'+'ue']['push'](_0x573933);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===-0x88*0x1+-0x9*-0xc7+-0x677)return;let _0x34c755=0x2e*-0xcd+0xcb0+0x1826;for(;this['_reflowQue'+'ue']['length']>-0x21d4+-0xd*0x8d+-0x5db*-0x7;){const _0x207260=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=-0x102f+-0x2*0x944+0x22b7,_0x207260['sort']((_0x52ca82,_0x5676e6)=>_0x52ca82['entity']['graphDepth']-_0x5676e6['entity']['graphDepth']);for(let _0x386ea9=0x16*-0x169+0x39*0x6a+-0x1*-0x76c;_0x386ea9<_0x207260['length'];++_0x386ea9)_0x207260[_0x386ea9]['reflow']();if(++_0x34c755>=$R){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x6a0bd0,_0x44163d){_0x44163d['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}we['_buildAcce'+'ssors'](s0['prototype'],i0);class qR{constructor(){h(this,'map',new Map());}['destroy'](_0x424c52){this['map']['forEach'](_0x305d27=>_0x305d27['mesh']['destroy']());}}const jR=new Kt(),r0=(_0x5005c7,_0x2b8c3c)=>{const _0x311a54=jR['get'](_0x5005c7,()=>new qR());let _0x632e01=_0x311a54['map']['get'](_0x2b8c3c);if(!_0x632e01){let _0x32de99,_0x44cf42;switch(_0x2b8c3c){case'box':_0x32de99=Ge['fromGeomet'+'ry'](_0x5005c7,new mu()),_0x44cf42={'x':0x2,'y':0x2,'z':0x2,'uv':(0x1*0x1d7b+-0x7*0x2c9+-0x9fa)/(-0x35*-0x1b+-0x1eba+0xde*0x1d)};break;case'capsule':_0x32de99=Ge['fromGeomet'+'ry'](_0x5005c7,new GA({'radius':0.5,'height':0x2})),_0x44cf42={'x':Math['PI']*(0x4c*-0x43+0x1*-0xb45+0x1f2b),'y':Math['PI'],'z':Math['PI']*(-0x2*0xc9+0x120d+-0x1079),'uv':(0x2250+-0x1cf3+-0x55c)/(-0xd6a+-0x6fc+-0x1db*-0xb)+(0x620+-0xccf+0x6b0)/(-0x13b3+0x11ef+0x5*0x5b)/(-0xbc2+0x1*-0x12be+-0x1e83*-0x1)*(0x6c+-0x1aaf+0x1a45)};break;case'cone':_0x32de99=Ge['fromGeomet'+'ry'](_0x5005c7,new HA({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x44cf42={'x':2.54,'y':2.54,'z':2.54,'uv':(0x10f6+0x1062+-0x5*0x6ab)/(-0x8a2+0xf9b*-0x1+-0x61*-0x40)+(-0x1*0x1063+0x5e*0xb+0xc5a)/(-0x1*-0x1cf9+-0x17c7+0x52f*-0x1)/(0x837*-0x1+-0xf67+0x17a1)};break;case'cylinder':_0x32de99=Ge['fromGeomet'+'ry'](_0x5005c7,new WA({'radius':0.5,'height':0x1})),_0x44cf42={'x':Math['PI'],'y':(0x13*-0x1b7+0xb93+0x1502+0.79)*(-0xfcb+-0x1499+-0x1233*-0x2),'z':Math['PI'],'uv':(0x40e+0x1a5*-0x13+-0x2*-0xd99)/(-0x9*0x279+-0xa2d+-0x97*-0x37)+(-0x1*0x225c+-0x19b1+-0x2*-0x1e07)/(-0x3*0x7ad+-0x1564+-0x1637*-0x2)/(-0xe72*0x1+0x19c4+-0xb4f)*(0x60b+0x957*-0x3+0x15fc)};break;case'plane':_0x32de99=Ge['fromGeomet'+'ry'](_0x5005c7,new $A({'halfExtents':new J(-0xeff*-0x1+0x103c+-0x3*0xa69+0.5,0x25*-0x83+0xe49+-0x253*-0x2+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x44cf42={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x32de99=Ge['fromGeomet'+'ry'](_0x5005c7,new _m({'radius':0.5})),_0x44cf42={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x32de99=Ge['fromGeomet'+'ry'](_0x5005c7,new XA({'tubeRadius':0.2,'ringRadius':0.3})),_0x44cf42={'x':Math['PI']*(-0x26c3+-0xaf1+0x31b4+0.5)*(-0x948+-0x56f*0x7+0x2f51+0.5)-Math['PI']*(-0x1e52+0x1*0xbdb+0x1277+0.1)*(0x186+-0x544*-0x3+-0x1152+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x2b8c3c);}_0x32de99['incRefCoun'+'t'](),_0x632e01={'mesh':_0x32de99,'area':_0x44cf42},_0x311a54['map']['set'](_0x2b8c3c,_0x632e01);}return _0x632e01;};class Tm extends we{constructor(_0x52de5e,_0x6e65bb){super(_0x52de5e,_0x6e65bb),h(this,'_type','asset'),h(this,'_asset',null),h(this,'_model',null),h(this,'_mapping',{}),h(this,'_castShado'+'ws',!(0x1921+-0x6*0x2b4+-0x1*0x8e9)),h(this,'_receiveSh'+'adows',!(0x1697*0x1+0x741+-0x5*0x5f8)),h(this,'_materialA'+'sset',null),h(this,'_material'),h(this,'_castShado'+'wsLightmap',!(-0x1de*0x1+0xb9*0x1+0x1*0x125)),h(this,'_lightmapp'+'ed',!(0x747*-0x1+-0x1*0x25e7+0x1*0x2d2f)),h(this,'_lightmapS'+'izeMultipl'+'ier',-0x1*-0x17a1+-0x1*0x18b7+0x117),h(this,'isStatic',!(0xc7*-0x2a+-0x8f3+0x299a)),h(this,'_layers',[er]),h(this,'_batchGrou'+'pId',-(0x1966+0x3e5*-0xa+0xd8d*0x1)),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_materialE'+'vents',null),h(this,'_clonedMod'+'el',!(0x2580+-0x1fd2+-0x5ad)),h(this,'_batchGrou'+'p',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x52de5e['defaultMat'+'erial'],_0x6e65bb['on']('remove',this['onRemoveCh'+'ild'],this),_0x6e65bb['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x6e65bb['on']('insert',this['onInsertCh'+'ild'],this),_0x6e65bb['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0xd4e08f){this['_model']&&(this['_model']['meshInstan'+'ces']=_0xd4e08f);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x3b6240){if(this['_customAab'+'b']=_0x3b6240,this['_model']){const _0x33c91b=this['_model']['meshInstan'+'ces'];if(_0x33c91b){for(let _0x56cfa9=-0xec9*0x1+-0x73c*-0x1+0x78d;_0x56cfa9<_0x33c91b['length'];_0x56cfa9++)_0x33c91b[_0x56cfa9]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x413715){if(this['_type']!==_0x413715){if(this['_area']=null,this['_type']=_0x413715,_0x413715==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x5183ee=r0(this['system']['app']['graphicsDe'+'vice'],_0x413715);this['_area']=_0x5183ee['area'];const _0x1e95e5=_0x5183ee['mesh'],_0x200ae6=new Ie(),_0x3c30b0=new sr();_0x3c30b0['graph']=_0x200ae6,_0x3c30b0['meshInstan'+'ces']=[new He(_0x1e95e5,this['_material'],_0x200ae6)],this['model']=_0x3c30b0,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x20f918){const _0x20b0b9=this['system']['app']['assets'];let _0x28c229=_0x20f918;if(_0x20f918 instanceof pe&&(_0x28c229=_0x20f918['id']),this['_asset']!==_0x28c229){if(this['_asset']){_0x20b0b9['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x200416=_0x20b0b9['get'](this['_asset']);_0x200416&&this['_unbindMod'+'elAsset'](_0x200416);}if(this['_asset']=_0x28c229,this['_asset']){const _0x5a2c49=_0x20b0b9['get'](this['_asset']);_0x5a2c49?this['_bindModel'+'Asset'](_0x5a2c49):(this['model']=null,_0x20b0b9['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x2c186b){if(this['_model']!==_0x2c186b){if(_0x2c186b&&_0x2c186b['_immutable']){w['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(-0x21b3+0x272*-0x7+0x32d2),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(-0x149f+0x2613+-0x1*0x1173))),this['_model']=_0x2c186b,this['_model']){this['_model']['_immutable']=!(0x1*0x1529+-0xec5+-0x664);const _0x2c1045=this['_model']['meshInstan'+'ces'];for(let _0x3ae262=0x39d*0x5+-0xfb*0x26+0x1331;_0x3ae262<_0x2c1045['length'];_0x3ae262++)_0x2c1045[_0x3ae262]['castShadow']=this['_castShado'+'ws'],_0x2c1045[_0x3ae262]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x2c1045[_0x3ae262]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x231f25){if(_0x231f25!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x231f25,this['_model'])){const _0x53d8f1=this['_model']['meshInstan'+'ces'];for(let _0x2d3a57=0x447+0x19*0x132+0x35*-0xa5;_0x2d3a57<_0x53d8f1['length'];_0x2d3a57++)_0x53d8f1[_0x2d3a57]['setLightma'+'pped'](_0x231f25);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x34af5c){if(this['_castShado'+'ws']===_0x34af5c)return;const _0x2a8139=this['_model'];if(_0x2a8139){const _0x4440a8=this['layers'],_0x44d84b=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x34af5c)for(let _0x425c03=-0x9b*-0x3d+-0xdb4+-0x173b;_0x425c03<_0x4440a8['length'];_0x425c03++){const _0x4e2d4d=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x425c03]);_0x4e2d4d&&_0x4e2d4d['removeShad'+'owCasters'](_0x2a8139['meshInstan'+'ces']);}const _0x9c953d=_0x2a8139['meshInstan'+'ces'];for(let _0x490f78=-0x2036+0x1fb+0x1e3b;_0x490f78<_0x9c953d['length'];_0x490f78++)_0x9c953d[_0x490f78]['castShadow']=_0x34af5c;if(!this['_castShado'+'ws']&&_0x34af5c)for(let _0x58bc54=-0xe2d+-0x1699+0x24c6;_0x58bc54<_0x4440a8['length'];_0x58bc54++){const _0x260ec1=_0x44d84b['layers']['getLayerBy'+'Id'](_0x4440a8[_0x58bc54]);_0x260ec1&&_0x260ec1['addShadowC'+'asters'](_0x2a8139['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x34af5c;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x2c4988){if(this['_receiveSh'+'adows']!==_0x2c4988&&(this['_receiveSh'+'adows']=_0x2c4988,this['_model'])){const _0xa28fec=this['_model']['meshInstan'+'ces'];for(let _0x3fba0d=-0x5*0x4cd+-0x25d3+0x3dd4,_0x26059b=_0xa28fec['length'];_0x3fba0d<_0x26059b;_0x3fba0d++)_0xa28fec[_0x3fba0d]['receiveSha'+'dow']=_0x2c4988;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x5516fc){this['_castShado'+'wsLightmap']=_0x5516fc;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x50f8ec){this['_lightmapS'+'izeMultipl'+'ier']=_0x50f8ec;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x2eb037){const _0x21e870=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x46e4a8=0x1ba2+-0x2*0xe57+0x4*0x43;_0x46e4a8<this['_layers']['length'];_0x46e4a8++){const _0x4a60e4=_0x21e870['getLayerBy'+'Id'](this['_layers'][_0x46e4a8]);_0x4a60e4&&_0x4a60e4['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=-0x15f8+0xf4f*0x1+-0x1f*-0x37;for(let _0x4362e4=0x1464+0xd2e+0x1*-0x2192;_0x4362e4<_0x2eb037['length'];_0x4362e4++)this['_layers'][_0x4362e4]=_0x2eb037[_0x4362e4];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x27920d=0x1891+0x1697*-0x1+-0x1fa;_0x27920d<this['_layers']['length'];_0x27920d++){const _0x423cad=_0x21e870['getLayerBy'+'Id'](this['_layers'][_0x27920d]);_0x423cad&&_0x423cad['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x44f025){var _0x30d90b,_0x2ec87f;this['_batchGrou'+'pId']!==_0x44f025&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x1938+0x7*0x368+-0x3110&&((_0x30d90b=this['system']['app']['batcher'])==null||_0x30d90b['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x44f025>=-0x68b*0x5+0x490+-0x1c27*-0x1&&((_0x2ec87f=this['system']['app']['batcher'])==null||_0x2ec87f['insert'](St['MODEL'],_0x44f025,this['entity'])),_0x44f025<-0x10e9+0xe5*0xe+0x463&&this['_batchGrou'+'pId']>=0x135b*-0x1+-0x1e9*-0xe+0x3d*-0x1f&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x44f025);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x1f9f5f){let _0x302833=_0x1f9f5f;_0x1f9f5f instanceof pe&&(_0x302833=_0x1f9f5f['id']);const _0x324150=this['system']['app']['assets'];if(_0x302833!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x324150['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x54a903=_0x324150['get'](this['_materialA'+'sset']);_0x54a903&&this['_unbindMat'+'erialAsset'](_0x54a903);}if(this['_materialA'+'sset']=_0x302833,this['_materialA'+'sset']){const _0x10ecfd=_0x324150['get'](this['_materialA'+'sset']);_0x10ecfd?this['_bindMater'+'ialAsset'](_0x10ecfd):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x324150['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x490943){this['_material']!==_0x490943&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x490943));}get['material'](){return this['_material'];}set['mapping'](_0x2d3f4b){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x2d3f4b||(_0x2d3f4b={}),this['_mapping']=_0x2d3f4b,!this['_model']))return;const _0x574ef9=this['_model']['meshInstan'+'ces'],_0x27ceb8=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x3d089d=_0x27ceb8?_0x27ceb8['data']['mapping']:null;let _0x54bda2=null;for(let _0x3235f5=0x1*0x1fa7+-0x164c+-0x1*0x95b,_0x59c2cc=_0x574ef9['length'];_0x3235f5<_0x59c2cc;_0x3235f5++)if(_0x2d3f4b[_0x3235f5]!==void(-0x3*0x563+0x1989*-0x1+0x29b2))_0x2d3f4b[_0x3235f5]?(_0x54bda2=this['system']['app']['assets']['get'](_0x2d3f4b[_0x3235f5]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x54bda2,_0x574ef9[_0x3235f5],_0x3235f5)):_0x574ef9[_0x3235f5]['material']=this['system']['defaultMat'+'erial'];else{if(_0x3d089d){if(_0x3d089d[_0x3235f5]&&(_0x3d089d[_0x3235f5]['material']||_0x3d089d[_0x3235f5]['path'])){if(_0x3d089d[_0x3235f5]['material']!==void(0x427*-0x2+-0x2b*0x2+0x8a4))_0x54bda2=this['system']['app']['assets']['get'](_0x3d089d[_0x3235f5]['material']);else{if(_0x3d089d[_0x3235f5]['path']!==void(-0xc31+0x1d6*-0x5+0x155f)){const _0x3258a5=this['_getMateri'+'alAssetUrl'](_0x3d089d[_0x3235f5]['path']);_0x3258a5&&(_0x54bda2=this['system']['app']['assets']['getByUrl'](_0x3258a5));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x54bda2,_0x574ef9[_0x3235f5],_0x3235f5);}else _0x574ef9[_0x3235f5]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0xa2da43=this['system']['app']['scene']['layers'];for(let _0x13e4ff=-0xd89*-0x2+-0x1*-0x85d+0x2f*-0xc1;_0x13e4ff<this['_layers']['length'];_0x13e4ff++){const _0x3ab550=_0xa2da43['getLayerBy'+'Id'](this['_layers'][_0x13e4ff]);_0x3ab550&&_0x3ab550['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x3f116c=this['system']['app']['scene']['layers'];for(let _0x55c967=-0x2e0+0x1938+0xb*-0x208;_0x55c967<this['_layers']['length'];_0x55c967++){const _0x1e8d85=_0x3f116c['getLayerBy'+'Id'](this['_layers'][_0x55c967]);_0x1e8d85&&_0x1e8d85['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x14f2b5,_0x45a8c3){this['addModelTo'+'Layers'](),_0x14f2b5['off']('add',this['onLayerAdd'+'ed'],this),_0x14f2b5['off']('remove',this['onLayerRem'+'oved'],this),_0x45a8c3['on']('add',this['onLayerAdd'+'ed'],this),_0x45a8c3['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x59ded1){this['layers']['indexOf'](_0x59ded1['id'])<-0x1718+-0x56*0x18+0x7ca*0x4||_0x59ded1['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x33082f){this['layers']['indexOf'](_0x33082f['id'])<-0x96c+0x2d3*-0x2+0x506*0x3||_0x33082f['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x5cf7aa,_0x34be42,_0x2ccb64,_0x4c0c95){const _0x18f9ec=_0x34be42+':'+_0x2ccb64;this['system']['app']['assets']['on'](_0x18f9ec,_0x4c0c95,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x5cf7aa]||(this['_materialE'+'vents'][_0x5cf7aa]={}),this['_materialE'+'vents'][_0x5cf7aa][_0x18f9ec]={'id':_0x2ccb64,'handler':_0x4c0c95};}['_unsetMate'+'rialEvents'](){const _0x5c0b74=this['system']['app']['assets'],_0x2f452f=this['_materialE'+'vents'];if(_0x2f452f){for(let _0x3a6c36=-0x201b+0xfb1*-0x1+0x2fcc,_0x28f16c=_0x2f452f['length'];_0x3a6c36<_0x28f16c;_0x3a6c36++){if(!_0x2f452f[_0x3a6c36])continue;const _0x4a7f7a=_0x2f452f[_0x3a6c36];for(const _0x1c54df in _0x4a7f7a)_0x5c0b74['off'](_0x1c54df,_0x4a7f7a[_0x1c54df]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x168c43){let _0x36430d=null;if(!isNaN(parseInt(_0x168c43,-0x14*-0x185+-0x1db+-0x1c7f)))_0x36430d=this['system']['app']['assets']['get'](_0x168c43);else{if(this['asset']){const _0xd20eec=this['_getMateri'+'alAssetUrl'](_0x168c43);_0xd20eec&&(_0x36430d=this['system']['app']['assets']['getByUrl'](_0xd20eec));}}return _0x36430d;}['_getMateri'+'alAssetUrl'](_0x7cf484){if(!this['asset'])return null;const _0x40d8a4=this['system']['app']['assets']['get'](this['asset']);return _0x40d8a4?_0x40d8a4['getAbsolut'+'eUrl'](_0x7cf484):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x1ee077,_0x265dd5,_0x3e8e50){const _0x45fca6=this['system']['app']['assets'];_0x1ee077&&(_0x1ee077['resource']?(_0x265dd5['material']=_0x1ee077['resource'],this['_setMateri'+'alEvent'](_0x3e8e50,'remove',_0x1ee077['id'],function(){_0x265dd5['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x3e8e50,'load',_0x1ee077['id'],function(_0x18e01c){_0x265dd5['material']=_0x18e01c['resource'],this['_setMateri'+'alEvent'](_0x3e8e50,'remove',_0x1ee077['id'],function(){_0x265dd5['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x45fca6['load'](_0x1ee077)));}['onEnable'](){var _0x5e0bd5;const _0x2be4f9=this['system']['app'],_0x2b8b1d=_0x2be4f9['scene'],_0x2f2a63=_0x2b8b1d==null?void(0x1*0xd6f+0x20eb+0x11*-0x2ba):_0x2b8b1d['layers'];this['_evtLayers'+'Changed']=_0x2b8b1d['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2f2a63&&(this['_evtLayerA'+'dded']=_0x2f2a63['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x2f2a63['on']('remove',this['onLayerRem'+'oved'],this));const _0x4f638f=this['_type']==='asset';let _0x4ad0ce;if(this['_model']?this['addModelTo'+'Layers']():_0x4f638f&&this['_asset']&&(_0x4ad0ce=_0x2be4f9['assets']['get'](this['_asset']),_0x4ad0ce&&_0x4ad0ce['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x4ad0ce)),this['_materialA'+'sset']&&(_0x4ad0ce=_0x2be4f9['assets']['get'](this['_materialA'+'sset']),_0x4ad0ce&&_0x4ad0ce['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x4ad0ce)),_0x4f638f&&this['_mapping']){for(const _0x4685c5 in this['_mapping'])this['_mapping'][_0x4685c5]&&(_0x4ad0ce=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x4685c5]),_0x4ad0ce&&!_0x4ad0ce['resource']&&_0x2be4f9['assets']['load'](_0x4ad0ce));}this['_batchGrou'+'pId']>=-0x532+-0x369*0x9+0x23e3&&((_0x5e0bd5=_0x2be4f9['batcher'])==null||_0x5e0bd5['insert'](St['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x57e167,_0x27924a,_0xb0badd,_0x440157;const _0x1ef85b=this['system']['app'],_0x3e5c36=_0x1ef85b['scene']['layers'];(_0x57e167=this['_evtLayers'+'Changed'])==null||_0x57e167['off'](),this['_evtLayers'+'Changed']=null,_0x3e5c36&&((_0x27924a=this['_evtLayerA'+'dded'])==null||_0x27924a['off'](),this['_evtLayerA'+'dded']=null,(_0xb0badd=this['_evtLayerR'+'emoved'])==null||_0xb0badd['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x1*-0x2248+-0x1946+0x3b8e&&((_0x440157=_0x1ef85b['batcher'])==null||_0x440157['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x5e80b1=this['_model']['meshInstan'+'ces'];for(let _0x1adc80=0x3*-0xb2b+-0xc46*0x3+-0x423*-0x11,_0x3ee598=_0x5e80b1['length'];_0x1adc80<_0x3ee598;_0x1adc80++)_0x5e80b1[_0x1adc80]['visible']=!(0x877+0x2100+-0x57*0x7a);}}['show'](){if(this['_model']){const _0xdc1cb1=this['_model']['meshInstan'+'ces'];for(let _0x338625=-0x1979+-0xf4*0x20+0x37f9,_0x46edae=_0xdc1cb1['length'];_0x338625<_0x46edae;_0x338625++)_0xdc1cb1[_0x338625]['visible']=!(-0x1*-0x88b+0x2235+-0x720*0x6);}}['_bindMater'+'ialAsset'](_0x189fed){if(_0x189fed['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x189fed['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x189fed['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x189fed['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x189fed['resource'])this['_onMateria'+'lAssetLoad'](_0x189fed);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x189fed);}}['_unbindMat'+'erialAsset'](_0x32e7b3){_0x32e7b3['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x32e7b3['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x32e7b3['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x32e7b3['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x23a70a){this['system']['app']['assets']['off']('add:'+_0x23a70a['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x23a70a['id']&&this['_bindMater'+'ialAsset'](_0x23a70a);}['_onMateria'+'lAssetLoad'](_0x1cdd02){this['_setMateri'+'al'](_0x1cdd02['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x66428e){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x3d470a){this['_onMateria'+'lAssetUnlo'+'ad'](_0x3d470a);}['_onMateria'+'lAssetChan'+'ge'](_0x28c3dd){}['_bindModel'+'Asset'](_0x4eadbc){if(this['_unbindMod'+'elAsset'](_0x4eadbc),_0x4eadbc['on']('load',this['_onModelAs'+'setLoad'],this),_0x4eadbc['on']('unload',this['_onModelAs'+'setUnload'],this),_0x4eadbc['on']('change',this['_onModelAs'+'setChange'],this),_0x4eadbc['on']('remove',this['_onModelAs'+'setRemove'],this),_0x4eadbc['resource'])this['_onModelAs'+'setLoad'](_0x4eadbc);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x4eadbc);}}['_unbindMod'+'elAsset'](_0x4eada9){_0x4eada9['off']('load',this['_onModelAs'+'setLoad'],this),_0x4eada9['off']('unload',this['_onModelAs'+'setUnload'],this),_0x4eada9['off']('change',this['_onModelAs'+'setChange'],this),_0x4eada9['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x17a2c9){this['system']['app']['assets']['off']('add:'+_0x17a2c9['id'],this['_onModelAs'+'setAdded'],this),_0x17a2c9['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x17a2c9);}['_onModelAs'+'setLoad'](_0x601dcc){this['model']=_0x601dcc['resource']['clone'](),this['_clonedMod'+'el']=!(0x1bcc+0x22f7+0x3ec3*-0x1);}['_onModelAs'+'setUnload'](_0x111fed){this['model']=null;}['_onModelAs'+'setChange'](_0x219e42,_0x2cee74,_0x5dffbd,_0x2da9eb){_0x2cee74==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x42c6ed){this['model']=null;}['_setMateri'+'al'](_0x19f973){if(this['_material']===_0x19f973)return;this['_material']=_0x19f973;const _0x1b51a1=this['_model'];if(_0x1b51a1&&this['_type']!=='asset'){const _0x3f65d6=_0x1b51a1['meshInstan'+'ces'];for(let _0x5f14f7=-0xdd5+-0x2426+0x31fb,_0x505912=_0x3f65d6['length'];_0x5f14f7<_0x505912;_0x5f14f7++)_0x3f65d6[_0x5f14f7]['material']=_0x19f973;}}}class YR{constructor(){this['enabled']=!(-0x134*0x8+0xdf*-0x1+0xa7f);}}const a0=['enabled'];class KR extends ct{constructor(_0x35bcde){super(_0x35bcde),this['id']='model',this['ComponentT'+'ype']=Tm,this['DataType']=YR,this['schema']=a0,this['defaultMat'+'erial']=Qn(_0x35bcde['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x5c427d,_0x30cb77,_0x3619ea){_0x3619ea=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x30cb77['batchGroup'+'Id']===null||_0x30cb77['batchGroup'+'Id']===void(-0x1*0x41+0x1b8a+0x37*-0x7f))&&(_0x30cb77['batchGroup'+'Id']=-(0x333+0xeec+-0x121e)),_0x30cb77['layers']&&_0x30cb77['layers']['length']&&(_0x30cb77['layers']=_0x30cb77['layers']['slice'](-0x1e0b*-0x1+-0x5fc*-0x1+-0x191*0x17));for(let _0x124f48=0xcf*0x1d+0x13c0+-0x2b33;_0x124f48<_0x3619ea['length'];_0x124f48++)_0x30cb77['hasOwnProp'+'erty'](_0x3619ea[_0x124f48])&&(_0x5c427d[_0x3619ea[_0x124f48]]=_0x30cb77[_0x3619ea[_0x124f48]]);_0x30cb77['aabbCenter']&&_0x30cb77['aabbHalfEx'+'tents']&&(_0x5c427d['customAabb']=new De(new D(_0x30cb77['aabbCenter']),new D(_0x30cb77['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x5c427d,_0x30cb77,['enabled']);}['cloneCompo'+'nent'](_0x13b405,_0xa32d04){const _0x3ecda9={'type':_0x13b405['model']['type'],'asset':_0x13b405['model']['asset'],'castShadows':_0x13b405['model']['castShadow'+'s'],'receiveShadows':_0x13b405['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x13b405['model']['castShadow'+'sLightmap'],'lightmapped':_0x13b405['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x13b405['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x13b405['model']['isStatic'],'enabled':_0x13b405['model']['enabled'],'layers':_0x13b405['model']['layers'],'batchGroupId':_0x13b405['model']['batchGroup'+'Id'],'mapping':ah({},_0x13b405['model']['mapping'])};let _0x36df39=_0x13b405['model']['materialAs'+'set'];!(_0x36df39 instanceof pe)&&_0x36df39!=null&&(_0x36df39=this['app']['assets']['get'](_0x36df39));const _0x47979c=_0x13b405['model']['material'];(!_0x47979c||_0x47979c===this['defaultMat'+'erial']||!_0x36df39||_0x47979c===_0x36df39['resource'])&&(_0x3ecda9['materialAs'+'set']=_0x36df39);const _0x2607b0=this['addCompone'+'nt'](_0xa32d04,_0x3ecda9);if(_0x13b405['model']['model']&&_0x13b405['model']['type']==='asset'&&!_0x13b405['model']['asset']&&(_0x2607b0['model']=_0x13b405['model']['model']['clone'](),_0x2607b0['_clonedMod'+'el']=!(0x1*0x13df+0x26ee*-0x1+0x1*0x130f)),_0x3ecda9['materialAs'+'set']||(_0x2607b0['material']=_0x47979c),_0x13b405['model']['model']){const _0x2aab6a=_0x13b405['model']['model']['meshInstan'+'ces'],_0x32ed84=_0x2607b0['model']['meshInstan'+'ces'];for(let _0x276ad1=0x589+-0x183a+-0xb*-0x1b3;_0x276ad1<_0x2aab6a['length'];_0x276ad1++)_0x32ed84[_0x276ad1]['mask']=_0x2aab6a[_0x276ad1]['mask'],_0x32ed84[_0x276ad1]['material']=_0x2aab6a[_0x276ad1]['material'],_0x32ed84[_0x276ad1]['layer']=_0x2aab6a[_0x276ad1]['layer'],_0x32ed84[_0x276ad1]['receiveSha'+'dow']=_0x2aab6a[_0x276ad1]['receiveSha'+'dow'];}return _0x13b405['model']['customAabb']&&(_0x2607b0['customAabb']=_0x13b405['model']['customAabb']['clone']()),_0x2607b0;}['onRemove'](_0x5833ab,_0x1dd849){_0x1dd849['onRemove']();}}we['_buildAcce'+'ssors'](Tm['prototype'],a0);const ZR=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],QR=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],JR=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Cc=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Ya;class e3 extends we{constructor(_0xd479de,_0x8f5470){super(_0xd479de,_0x8f5470),h(this,'_requested'+'Depth',!(-0x116a+-0x1*-0x18ef+-0x1*0x784)),h(this,'_drawOrder',-0x1*0x6bb+-0xc07+0x12c2),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),ZR['forEach'](_0x4e4631=>{this['on']('set_'+_0x4e4631,this['onSetSimpl'+'eProperty'],this);}),QR['forEach'](_0x493343=>{this['on']('set_'+_0x493343,this['onSetCompl'+'exProperty'],this);}),JR['forEach'](_0x3cb38f=>{this['on']('set_'+_0x3cb38f,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x306cc3=this['system']['store'][this['entity']['getGuid']()];return _0x306cc3?_0x306cc3['data']:null;}set['enabled'](_0x51d6be){this['_setValue']('enabled',_0x51d6be);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x4dfdcb){this['_setValue']('autoPlay',_0x4dfdcb);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x1b3393){this['_setValue']('numParticl'+'es',_0x1b3393);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0xed2c0a){this['_setValue']('lifetime',_0xed2c0a);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x4d391c){this['_setValue']('rate',_0x4d391c);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x2fbc92){this['_setValue']('rate2',_0x2fbc92);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0xea378e){this['_setValue']('startAngle',_0xea378e);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x128e5e){this['_setValue']('startAngle'+'2',_0x128e5e);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x44aa1a){this['_setValue']('loop',_0x44aa1a);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x48ced1){this['_setValue']('preWarm',_0x48ced1);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x183d45){this['_setValue']('lighting',_0x183d45);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x47a387){this['_setValue']('halfLamber'+'t',_0x47a387);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x26981f){this['_setValue']('intensity',_0x26981f);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x40c4cb){this['_setValue']('depthWrite',_0x40c4cb);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x235ae8){this['_setValue']('noFog',_0x235ae8);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x348131){this['_setValue']('depthSofte'+'ning',_0x348131);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x4c04a7){this['_setValue']('sort',_0x4c04a7);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x5c345a){this['_setValue']('blendType',_0x5c345a);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x4fdc3e){this['_setValue']('stretch',_0x4fdc3e);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x3126c5){this['_setValue']('alignToMot'+'ion',_0x3126c5);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0xc59dd5){this['_setValue']('emitterSha'+'pe',_0xc59dd5);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x5d34c7){this['_setValue']('emitterExt'+'ents',_0x5d34c7);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x1da22b){this['_setValue']('emitterExt'+'entsInner',_0x1da22b);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x4c8a07){this['_setValue']('emitterRad'+'ius',_0x4c8a07);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x226580){this['_setValue']('emitterRad'+'iusInner',_0x226580);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x146f8f){this['_setValue']('initialVel'+'ocity',_0x146f8f);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x1e54e8){this['_setValue']('wrap',_0x1e54e8);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x55172b){this['_setValue']('wrapBounds',_0x55172b);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0xe0c5c9){this['_setValue']('localSpace',_0xe0c5c9);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x1b1105){this['_setValue']('screenSpac'+'e',_0x1b1105);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x5b92cf){this['_setValue']('colorMapAs'+'set',_0x5b92cf);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x5d8158){this['_setValue']('normalMapA'+'sset',_0x5d8158);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0xa5026d){this['_setValue']('mesh',_0xa5026d);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x46379d){this['_setValue']('meshAsset',_0x46379d);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x810cf3){this['_setValue']('renderAsse'+'t',_0x810cf3);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0xea017f){this['_setValue']('orientatio'+'n',_0xea017f);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0xad4196){this['_setValue']('particleNo'+'rmal',_0xad4196);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x483f37){this['_setValue']('localVeloc'+'ityGraph',_0x483f37);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0xf9c0b5){this['_setValue']('localVeloc'+'ityGraph2',_0xf9c0b5);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x49a22a){this['_setValue']('velocityGr'+'aph',_0x49a22a);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x580a2b){this['_setValue']('velocityGr'+'aph2',_0x580a2b);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x5d3db3){this['_setValue']('rotationSp'+'eedGraph',_0x5d3db3);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x5e0dcc){this['_setValue']('rotationSp'+'eedGraph2',_0x5e0dcc);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x319e49){this['_setValue']('radialSpee'+'dGraph',_0x319e49);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x1b3354){this['_setValue']('radialSpee'+'dGraph2',_0x1b3354);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x31b043){this['_setValue']('scaleGraph',_0x31b043);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x280447){this['_setValue']('scaleGraph'+'2',_0x280447);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0xd2875){this['_setValue']('colorGraph',_0xd2875);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x1d00fe){this['_setValue']('colorGraph'+'2',_0x1d00fe);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0xfe4765){this['_setValue']('alphaGraph',_0xfe4765);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x11495a){this['_setValue']('alphaGraph'+'2',_0x11495a);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x4ec565){this['_setValue']('colorMap',_0x4ec565);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x342648){this['_setValue']('normalMap',_0x342648);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x2db192){this['_setValue']('animTilesX',_0x2db192);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x636a14){this['_setValue']('animTilesY',_0x636a14);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x3eb136){this['_setValue']('animStartF'+'rame',_0x3eb136);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0xaee8a7){this['_setValue']('animNumFra'+'mes',_0xaee8a7);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x1525db){this['_setValue']('animNumAni'+'mations',_0x1525db);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x31dff1){this['_setValue']('animIndex',_0x31dff1);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x31e218){this['_setValue']('randomizeA'+'nimIndex',_0x31e218);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x38e214){this['_setValue']('animSpeed',_0x38e214);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x3c13a7){this['_setValue']('animLoop',_0x3c13a7);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x1eb5c0){this['_setValue']('layers',_0x1eb5c0);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x356efb){this['_drawOrder']=_0x356efb,this['emitter']&&(this['emitter']['drawOrder']=_0x356efb);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x2bfc72,_0x4d71a1){const _0x2e5487=this['data'],_0x1fe76e=_0x2e5487[_0x2bfc72];_0x2e5487[_0x2bfc72]=_0x4d71a1,this['fire']('set',_0x2bfc72,_0x1fe76e,_0x4d71a1);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x19cdfb=-0x65*0x38+0x1*0x253f+-0xf27;_0x19cdfb<this['layers']['length'];_0x19cdfb++){const _0x307ab2=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x19cdfb]);_0x307ab2&&(_0x307ab2['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x307ab2);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x5244fc=-0x764+0xee9+-0x4d*0x19;_0x5244fc<this['layers']['length'];_0x5244fc++){const _0xffd0d8=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5244fc]);_0xffd0d8&&_0xffd0d8['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x1ebd53,_0x2854bf,_0x2c11cf){if(this['emitter']){for(let _0x37fc85=0x47*0x89+0x1d93+-0x4392;_0x37fc85<_0x2854bf['length'];_0x37fc85++){const _0x25f456=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x2854bf[_0x37fc85]);_0x25f456&&_0x25f456['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x41d578=-0x16f3+0xad6+0x7*0x1bb;_0x41d578<_0x2c11cf['length'];_0x41d578++){const _0x482033=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x2c11cf[_0x41d578]);_0x482033&&_0x482033['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x93606,_0x3cfca7){this['addMeshIns'+'tanceToLay'+'ers'](),_0x93606['off']('add',this['onLayerAdd'+'ed'],this),_0x93606['off']('remove',this['onLayerRem'+'oved'],this),_0x3cfca7['on']('add',this['onLayerAdd'+'ed'],this),_0x3cfca7['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x41ac56){!this['emitter']||this['layers']['indexOf'](_0x41ac56['id'])<-0x2664+0xa06*-0x2+-0xa*-0x5d8||_0x41ac56['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x190a11){!this['emitter']||this['layers']['indexOf'](_0x190a11['id'])<-0x1510+-0x1d*0x31+-0x1*-0x1a9d||_0x190a11['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x241ed4){if(_0x241ed4['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x241ed4['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x241ed4['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x241ed4['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x241ed4['resource'])this['_onColorMa'+'pAssetLoad'](_0x241ed4);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x241ed4);}}['_unbindCol'+'orMapAsset'](_0x122115){_0x122115['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x122115['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x122115['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x122115['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x36631){this['colorMap']=_0x36631['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0xb3da0e){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x252fcd){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x252fcd);}['_onColorMa'+'pAssetChan'+'ge'](_0x1a032d){}['onSetColor'+'MapAsset'](_0x11a3df,_0x34c43c,_0x202184){const _0x12b2fb=this['system']['app']['assets'];if(_0x34c43c){const _0x33bc7=_0x12b2fb['get'](_0x34c43c);_0x33bc7&&this['_unbindCol'+'orMapAsset'](_0x33bc7);}if(_0x202184){_0x202184 instanceof pe&&(this['data']['colorMapAs'+'set']=_0x202184['id'],_0x202184=_0x202184['id']);const _0x889628=_0x12b2fb['get'](_0x202184);_0x889628?this['_bindColor'+'MapAsset'](_0x889628):_0x12b2fb['once']('add:'+_0x202184,_0x405431=>{this['_bindColor'+'MapAsset'](_0x405431);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x1d43be){if(_0x1d43be['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x1d43be['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x1d43be['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x1d43be['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x1d43be['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x1d43be);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x1d43be);}}['_unbindNor'+'malMapAsse'+'t'](_0x308335){_0x308335['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x308335['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x308335['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x308335['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x5ec8ab){this['normalMap']=_0x5ec8ab['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x274480){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0xbac6f){this['_onNormalM'+'apAssetUnl'+'oad'](_0xbac6f);}['_onNormalM'+'apAssetCha'+'nge'](_0x5d34aa){}['onSetNorma'+'lMapAsset'](_0x44abab,_0x3078cc,_0x4a4c9a){const _0x52da89=this['system']['app']['assets'];if(_0x3078cc){const _0x2393cd=_0x52da89['get'](_0x3078cc);_0x2393cd&&this['_unbindNor'+'malMapAsse'+'t'](_0x2393cd);}if(_0x4a4c9a){_0x4a4c9a instanceof pe&&(this['data']['normalMapA'+'sset']=_0x4a4c9a['id'],_0x4a4c9a=_0x4a4c9a['id']);const _0x112837=_0x52da89['get'](_0x4a4c9a);_0x112837?this['_bindNorma'+'lMapAsset'](_0x112837):_0x52da89['once']('add:'+_0x4a4c9a,_0x3ebda4=>{this['_bindNorma'+'lMapAsset'](_0x3ebda4);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x3d3beb){if(_0x3d3beb['on']('load',this['_onMeshAss'+'etLoad'],this),_0x3d3beb['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x3d3beb['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x3d3beb['on']('change',this['_onMeshAss'+'etChange'],this),_0x3d3beb['resource'])this['_onMeshAss'+'etLoad'](_0x3d3beb);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x3d3beb);}}['_unbindMes'+'hAsset'](_0x5931e6){_0x5931e6['off']('load',this['_onMeshAss'+'etLoad'],this),_0x5931e6['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x5931e6['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x5931e6['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x1a980d){this['_onMeshCha'+'nged'](_0x1a980d['resource']);}['_onMeshAss'+'etUnload'](_0x800aab){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x12e378){this['_onMeshAss'+'etUnload'](_0x12e378);}['_onMeshAss'+'etChange'](_0x1e7140){}['onSetMeshA'+'sset'](_0x1664e5,_0x1f26e3,_0x1ca5ec){const _0x5ae770=this['system']['app']['assets'];if(_0x1f26e3){const _0x2ecbf9=_0x5ae770['get'](_0x1f26e3);_0x2ecbf9&&this['_unbindMes'+'hAsset'](_0x2ecbf9);}if(_0x1ca5ec){_0x1ca5ec instanceof pe&&(this['data']['meshAsset']=_0x1ca5ec['id'],_0x1ca5ec=_0x1ca5ec['id']);const _0x23f02b=_0x5ae770['get'](_0x1ca5ec);_0x23f02b&&this['_bindMeshA'+'sset'](_0x23f02b);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x3cff2a,_0x23effa,_0x2607db){!_0x2607db||_0x2607db instanceof pe||typeof _0x2607db=='number'?this['meshAsset']=_0x2607db:this['_onMeshCha'+'nged'](_0x2607db);}['_onMeshCha'+'nged'](_0x50af73){_0x50af73&&!(_0x50af73 instanceof Ge)&&(_0x50af73['meshInstan'+'ces'][-0x1bd0+-0x61f+0x21ef]?_0x50af73=_0x50af73['meshInstan'+'ces'][-0x23*-0xd4+0x101*-0x1e+-0x3a*-0x5]['mesh']:_0x50af73=null),this['data']['mesh']=_0x50af73,this['emitter']&&(this['emitter']['mesh']=_0x50af73,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x4c223b,_0x284c04,_0x2f8bae){const _0x4a70ac=this['system']['app']['assets'];if(_0x284c04){const _0xb7b68=_0x4a70ac['get'](_0x284c04);_0xb7b68&&this['_unbindRen'+'derAsset'](_0xb7b68);}if(_0x2f8bae){_0x2f8bae instanceof pe&&(this['data']['renderAsse'+'t']=_0x2f8bae['id'],_0x2f8bae=_0x2f8bae['id']);const _0x441495=_0x4a70ac['get'](_0x2f8bae);_0x441495&&this['_bindRende'+'rAsset'](_0x441495);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x31b7e7){if(_0x31b7e7['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x31b7e7['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x31b7e7['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x31b7e7['resource'])this['_onRenderA'+'ssetLoad'](_0x31b7e7);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x31b7e7);}}['_unbindRen'+'derAsset'](_0x145bcc){var _0x5c47f4;_0x145bcc['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x145bcc['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x145bcc['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x5c47f4=this['_evtSetMes'+'hes'])==null||_0x5c47f4['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x506cf6){this['_onRenderC'+'hanged'](_0x506cf6['resource']);}['_onRenderA'+'ssetUnload'](_0x2ae50e){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x17f85a){this['_onRenderA'+'ssetUnload'](_0x17f85a);}['_onRenderC'+'hanged'](_0x707012){var _0x196e8c;if(!_0x707012){this['_onMeshCha'+'nged'](null);return;}(_0x196e8c=this['_evtSetMes'+'hes'])==null||_0x196e8c['off'](),this['_evtSetMes'+'hes']=_0x707012['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x707012['meshes']&&this['_onRenderS'+'etMeshes'](_0x707012['meshes']);}['_onRenderS'+'etMeshes'](_0x5116b5){this['_onMeshCha'+'nged'](_0x5116b5&&_0x5116b5[-0x2*0x51f+0x2*-0xcb5+0x38*0xa3]);}['onSetLoop'](_0x5485b2,_0x47ee8f,_0x4e48eb){this['emitter']&&(this['emitter'][_0x5485b2]=_0x4e48eb,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x2414bd,_0x149657,_0x47f45a){this['emitter']&&(this['emitter'][_0x2414bd]=_0x47f45a,this['emitter']['material']['blendType']=_0x47f45a,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Ya||(Ya=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps)),Ya&&(Ya['incrementC'+'ounter'](),this['_requested'+'Depth']=!(0x164b+0x127*0x3+-0x670*0x4)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Ya&&(Ya['decrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x1bce*0x1+0x202e+-0x3*0x175));}['onSetDepth'+'Softening'](_0x237989,_0x44484e,_0x2bf1ed){_0x44484e!==_0x2bf1ed&&(_0x2bf1ed?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x237989]=_0x2bf1ed)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x237989]=_0x2bf1ed)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x17dbdb,_0x53c415,_0x4f81a6){this['emitter']&&(this['emitter'][_0x17dbdb]=_0x4f81a6,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x13f485,_0x2e02ab,_0x948f8d){this['emitter']&&(this['emitter'][_0x13f485]=_0x948f8d,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x292d34,_0x551f01,_0x524d41){this['emitter']&&(this['emitter'][_0x292d34]=_0x524d41,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x5ae17c=this['system']['app']['scene'],_0x4925a2=_0x5ae17c['layers'],_0x1bcdc=this['data'];for(let _0x2f48c5=-0xe8b+0x2490+-0x1605,_0x16574c=Cc['length'];_0x2f48c5<_0x16574c;_0x2f48c5++){let _0x4fde36=_0x1bcdc[Cc[_0x2f48c5]];if(_0x4fde36){if(!(_0x4fde36 instanceof pe)){if(parseInt(_0x4fde36,-0x1da5*0x1+-0x1155+0x2f04)>=-0x20c4+0x1700+0x9c4)_0x4fde36=this['system']['app']['assets']['get'](_0x4fde36);else continue;}_0x4fde36&&!_0x4fde36['resource']&&this['system']['app']['assets']['load'](_0x4fde36);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x2c612e=_0x1bcdc['mesh'];_0x2c612e instanceof Ge||(_0x2c612e=null),this['emitter']=new CA(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x1bcdc['numParticl'+'es'],'emitterExtents':_0x1bcdc['emitterExt'+'ents'],'emitterExtentsInner':_0x1bcdc['emitterExt'+'entsInner'],'emitterRadius':_0x1bcdc['emitterRad'+'ius'],'emitterRadiusInner':_0x1bcdc['emitterRad'+'iusInner'],'emitterShape':_0x1bcdc['emitterSha'+'pe'],'initialVelocity':_0x1bcdc['initialVel'+'ocity'],'wrap':_0x1bcdc['wrap'],'localSpace':_0x1bcdc['localSpace'],'screenSpace':_0x1bcdc['screenSpac'+'e'],'wrapBounds':_0x1bcdc['wrapBounds'],'lifetime':_0x1bcdc['lifetime'],'rate':_0x1bcdc['rate'],'rate2':_0x1bcdc['rate2'],'orientation':_0x1bcdc['orientatio'+'n'],'particleNormal':_0x1bcdc['particleNo'+'rmal'],'animTilesX':_0x1bcdc['animTilesX'],'animTilesY':_0x1bcdc['animTilesY'],'animStartFrame':_0x1bcdc['animStartF'+'rame'],'animNumFrames':_0x1bcdc['animNumFra'+'mes'],'animNumAnimations':_0x1bcdc['animNumAni'+'mations'],'animIndex':_0x1bcdc['animIndex'],'randomizeAnimIndex':_0x1bcdc['randomizeA'+'nimIndex'],'animSpeed':_0x1bcdc['animSpeed'],'animLoop':_0x1bcdc['animLoop'],'startAngle':_0x1bcdc['startAngle'],'startAngle2':_0x1bcdc['startAngle'+'2'],'scaleGraph':_0x1bcdc['scaleGraph'],'scaleGraph2':_0x1bcdc['scaleGraph'+'2'],'colorGraph':_0x1bcdc['colorGraph'],'colorGraph2':_0x1bcdc['colorGraph'+'2'],'alphaGraph':_0x1bcdc['alphaGraph'],'alphaGraph2':_0x1bcdc['alphaGraph'+'2'],'localVelocityGraph':_0x1bcdc['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x1bcdc['localVeloc'+'ityGraph2'],'velocityGraph':_0x1bcdc['velocityGr'+'aph'],'velocityGraph2':_0x1bcdc['velocityGr'+'aph2'],'rotationSpeedGraph':_0x1bcdc['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x1bcdc['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x1bcdc['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x1bcdc['radialSpee'+'dGraph2'],'colorMap':_0x1bcdc['colorMap'],'normalMap':_0x1bcdc['normalMap'],'loop':_0x1bcdc['loop'],'preWarm':_0x1bcdc['preWarm'],'sort':_0x1bcdc['sort'],'stretch':_0x1bcdc['stretch'],'alignToMotion':_0x1bcdc['alignToMot'+'ion'],'lighting':_0x1bcdc['lighting'],'halfLambert':_0x1bcdc['halfLamber'+'t'],'intensity':_0x1bcdc['intensity'],'depthSoftening':_0x1bcdc['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x2c612e,'depthWrite':_0x1bcdc['depthWrite'],'noFog':_0x1bcdc['noFog'],'node':this['entity'],'blendType':_0x1bcdc['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x1bcdc['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(-0x777+-0x1*-0xb0e+-0x396));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x5ae17c['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4925a2&&(this['_evtLayerA'+'dded']=_0x4925a2['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4925a2['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x1bcdc['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x193008,_0x3aca7c,_0xd4f62a;const _0x479452=this['system']['app']['scene']['layers'];(_0x193008=this['_evtLayers'+'Changed'])==null||_0x193008['off'](),this['_evtLayers'+'Changed']=null,_0x479452&&((_0x3aca7c=this['_evtLayerA'+'dded'])==null||_0x3aca7c['off'](),this['_evtLayerA'+'dded']=null,(_0xd4f62a=this['_evtLayerR'+'emoved'])==null||_0xd4f62a['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(-0x17a6*-0x1+0xa8e+-0x2233)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x5e5f04=-0x1723+0xfb4+0x76f;_0x5e5f04<Cc['length'];_0x5e5f04++){const _0x1e19d0=Cc[_0x5e5f04];this['data'][_0x1e19d0]&&(this[_0x1e19d0]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(-0x1b92+0x17*-0x146+0x1*0x38dd),this['emitter']['resetTime'](),this['emitter']['addTime'](0x595*0x3+0x193d+0x4*-0xa7f,!(0x3*-0xbf7+0x19ba+0xa2b)));}['pause'](){this['data']['paused']=!(0x1f4d+-0xc8b+-0x12c2);}['unpause'](){this['data']['paused']=!(0x1f0f*-0x1+0x1*0x1303+0xc0d);}['play'](){this['data']['paused']=!(0x783*0x1+0x1453+-0x1bd5),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(-0x785*0x5+-0x1*0xd4f+0x32e8),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(-0x1743+-0x19e6+0x312a):this['emitter']&&this['emitter']['loop']?!(0x16f9+0x1f1f*0x1+-0x3618):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x1c4a0c}=this;_0x1c4a0c&&!_0x1c4a0c['inTools']&&(_0x1c4a0c['inTools']=!(0x6*0x86+-0x1*0x3fd+0x1*0xd9),this['rebuild']());}['rebuild'](){const _0xbe9bd9=this['enabled'];this['enabled']=!(0xcb*-0x1+0x11ad+-0x10e1),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0xbe9bd9;}}class t3{constructor(){this['numParticl'+'es']=0x1de8+-0xb2*0x26+-0x37b,this['rate']=0x95*0x26+0x8f*-0x29+0xca,this['rate2']=null,this['startAngle']=-0x1ab*-0x9+-0x26d5+0x1*0x17d2,this['startAngle'+'2']=null,this['lifetime']=0x239*0xe+0x1*-0x130d+-0xbdf,this['emitterExt'+'ents']=new D(),this['emitterExt'+'entsInner']=new D(),this['emitterRad'+'ius']=0x1*0x1b5b+-0x2157+0x5fc,this['emitterRad'+'iusInner']=0x1d86*-0x1+0x1010+0xd76,this['emitterSha'+'pe']=ai,this['initialVel'+'ocity']=-0x75*0x23+-0x26d9*-0x1+-0xb6d*0x2,this['wrap']=!(0xd12+0xc*-0xe1+-0x285),this['wrapBounds']=new D(),this['localSpace']=!(0x22bb+0xb*-0x1cf+-0xed5),this['screenSpac'+'e']=!(-0x85*-0x15+0x53*0x76+-0x7*0x706),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(-0x4*0x649+0x9*-0x123+-0x1*-0x235f),this['preWarm']=!(0xd9c+-0x43*0x29+-0x10*0x2e),this['sort']=-0x1*0x10bb+0x20*-0x12e+0x367b,this['mode']=rv,this['scene']=null,this['lighting']=!(-0x1*0xc41+-0x94d+-0x158f*-0x1),this['halfLamber'+'t']=!(0x1a05+0xb1e*0x1+-0x31*0xc2),this['intensity']=0x581*0x3+0x43f+-0x14c1,this['stretch']=0xcb3+-0xe5*-0x5+-0x9d*0x1c,this['alignToMot'+'ion']=!(0x1f0+0x7*-0x14e+0x61*0x13),this['depthSofte'+'ning']=-0x11*0x187+0x254+-0x7e1*-0x3,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(-0x1*-0x1c43+0x15bc*-0x1+0x2*-0x343),this['noFog']=!(0x2624+0x23b*-0x1+-0x23e8),this['orientatio'+'n']=yh,this['particleNo'+'rmal']=new D(0x1*-0x952+0x1164+-0x812,0xb3*0x2f+-0x2497+0x1*0x3bb,0x5ad+-0x2*-0x10e1+-0x276f),this['animTilesX']=0x1eb2+0xfc1+-0x2e72,this['animTilesY']=-0x2160+0x3d*0x23+0x190a,this['animStartF'+'rame']=-0x99*0x24+-0x7*0x26e+0x2686*0x1,this['animNumFra'+'mes']=0x1*0x343+0x1*-0x1cd+-0x175*0x1,this['animNumAni'+'mations']=0x66c+0x222f+-0x289a,this['animIndex']=-0x3b*-0x95+0x24de+-0x4735,this['randomizeA'+'nimIndex']=!(0x5*-0x75b+0xf58+-0x2ae*-0x8),this['animSpeed']=0x44*-0x1+-0x1e86+-0x1*-0x1ecb,this['animLoop']=!(0x23*0x65+-0x105b+0x28c),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Zs,this['enabled']=!(-0x5*0x5f7+0x22ab+-0x7c*0xa),this['paused']=!(0x11*-0x23b+0x5*0x7c3+-0xe3),this['autoPlay']=!(0x1093+-0xbd*-0x2+-0x120d),this['layers']=[er];}}const s3='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0auniform\x20'+'float\x20soft'+'ening;\x0auni'+'form\x20float'+'\x20colorMult'+';\x0a\x0afloat\x20s'+'aturate(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex\x20\x20=\x20tex'+'ture2D(col'+'orMap,\x20vec'+'2(texCoord'+'sAlphaLife'+'.x,\x201.0\x20-\x20'+'texCoordsA'+'lphaLife.y'+'));\x0a\x20\x20\x20\x20ve'+'c4\x20ramp\x20=\x20'+'texture2D('+'colorParam'+',\x20vec2(tex'+'CoordsAlph'+'aLife.w,\x200'+'.0));\x0a\x20\x20\x20\x20'+'ramp.rgb\x20*'+'=\x20colorMul'+'t;\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20+=\x20te'+'xCoordsAlp'+'haLife.z;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'rgb\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'float\x20a\x20\x20='+'\x20tex.a\x20*\x20r'+'amp.a;\x0a',i3='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20meshLoca'+'lPos\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20vec2\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20nlife\x20='+'\x20clamp(inL'+'ife\x20/\x20part'+'icleLifeti'+'me,\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20param'+'Div;\x0a\x20\x20\x20\x20v'+'ec4\x20params'+'\x20=\x20tex1Dlo'+'d_lerp(TEX'+'TURE_PASS('+'internalTe'+'x2),\x20vec2('+'nlife,\x200),'+'\x20paramDiv)'+';\x0a\x20\x20\x20\x20floa'+'t\x20scale\x20=\x20'+'params.y;\x0a'+'\x20\x20\x20\x20float\x20'+'scaleDiv\x20='+'\x20paramDiv.'+'x;\x0a\x20\x20\x20\x20flo'+'at\x20alphaDi'+'v\x20=\x20paramD'+'iv.z;\x0a\x0a\x20\x20\x20'+'\x20scale\x20+=\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20scale'+'DivMult\x20*\x20'+'fract(rndF'+'actor*1000'+'0.0);\x0a\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(quadXY'+'\x20*\x20-0.5\x20+\x20'+'0.5,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'alphaDivMu'+'lt\x20*\x20fract'+'(rndFactor'+'*1000.0),\x20'+'nlife);\x0a#e'+'lse\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_uv,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePos\x20='+'\x20inPos;\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePosMo'+'ved\x20=\x20vec3'+'(0.0);\x0a\x0a\x20\x20'+'\x20\x20mat2\x20rot'+'Matrix;\x0a'),r3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',a3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',n3='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',o3='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',l3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y\x20*\x20('+'1.0\x20/\x20255.'+'0)\x20+\x20rg.x;'+'\x0a}\x0a\x0afloat\x20'+'decodeFloa'+'tRGBA(\x20vec'+'4\x20rgba\x20)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(rgba'+',\x20vec4(1.0'+',\x201.0\x20/\x2025'+'5.0,\x201.0\x20/'+'\x2065025.0,\x20'+'1.0\x20/\x201605'+'81375.0));'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+('rticles\x20-\x20'+'1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),c3='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',h3='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),d3='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',f3='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',u3='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',p3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',m3='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',_3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',g3='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',S3='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),y3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',v3='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',x3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',T3='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',w3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec2\x20pa'+'rticle_ver'+'texData5;\x0a'+'#else\x0a\x20\x20\x20\x20'+'attribute\x20'+'vec4\x20parti'+'cle_vertex'+'Data5;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifndef\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a#endif\x0a\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20lifetim'+'e;\x0auniform'+'\x20float\x20str'+'etch;\x0aunif'+'orm\x20float\x20'+'seed;\x0aunif'+'orm\x20vec3\x20w'+'rapBounds;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rScale;\x0aun'+('iform\x20vec3'+'\x20faceTange'+'nt;\x0aunifor'+'m\x20vec3\x20fac'+'eBinorm;\x0a\x0a'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex0'+';\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x1;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex2;\x0a#end'+'if\x0auniform'+'\x20vec3\x20emit'+'terPos;\x0a\x0av'+'arying\x20vec'+'4\x20texCoord'+'sAlphaLife'+';\x0a\x0avec2\x20ro'+'tate(vec2\x20'+'quadXY,\x20fl'+'oat\x20pRotat'+'ion,\x20out\x20m'+'at2\x20rotMat'+'rix)\x0a{\x0a\x20\x20\x20'+'\x20float\x20c\x20='+'\x20cos(pRota'+'tion);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20sin(pRota'+'tion);\x0a\x20\x20\x20'+'\x20//vec4\x20ro'+'tationMatr'+'ix\x20=\x20vec4('+'c,\x20-s,\x20s,\x20'+'c);\x0a\x0a\x20\x20\x20\x20m'+'at2\x20m\x20=\x20ma'+'t2(c,\x20-s,\x20'+'s,\x20c);\x0a\x20\x20\x20'+'\x20rotMatrix'+'\x20=\x20m;\x0a\x0a\x20\x20\x20'+'\x20return\x20m\x20'+'*\x20quadXY;\x0a'+'}\x0a\x0avec3\x20bi'+'llboard(ve'+'c3\x20Instanc'+'eCoords,\x20v'+'ec2\x20quadXY'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20return\x20p'+'os;\x0a}\x0a\x0avec'+'3\x20customFa'+'ce(vec3\x20In'+'stanceCoor'+'ds,\x20vec2\x20q'+'uadXY)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20po'+'s\x20=\x20faceTa'+'ngent\x20*\x20qu'+'adXY.x\x20+\x20f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avoid\x20main'+'(void)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20pa'+'rticlePos\x20'+'=\x20particle'+'_vertexDat'+'a.xyz;\x0a\x20\x20\x20'+'\x20vec3\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20vec3\x20vert'+'Pos\x20=\x20part'+'icle_verte'+'xData3.xyz'+';\x0a\x20\x20\x20\x20vec3'+'\x20inVel\x20=\x20v'+'ec3(partic'+'le_vertexD'+'ata2.w,\x20pa')+('rticle_ver'+'texData3.w'+',\x20particle'+'_vertexDat'+'a5.x);\x0a\x0a\x20\x20'+'\x20\x20float\x20id'+'\x20=\x20floor(p'+'article_ve'+'rtexData4)'+';\x0a\x20\x20\x20\x20floa'+'t\x20rndFacto'+'r\x20=\x20fract('+'sin(id\x20+\x201'+'.0\x20+\x20seed)'+');\x0a\x20\x20\x20\x20vec'+'3\x20rndFacto'+'r3\x20=\x20vec3('+'rndFactor,'+'\x20fract(rnd'+'Factor*10.'+'0),\x20fract('+'rndFactor*'+'100.0));\x0a\x0a'+'#ifdef\x20LOC'+'AL_SPACE\x0a\x20'+'\x20\x20\x20inVel\x20='+'\x20mat3(matr'+'ix_model)\x20'+'*\x20inVel;\x0a#'+'endif\x0a\x20\x20\x20\x20'+'vec2\x20veloc'+'ityV\x20=\x20nor'+'malize((ma'+'t3(matrix_'+'view)\x20*\x20in'+'Vel).xy);\x20'+'//\x20should\x20'+'be\x20removed'+'\x20by\x20compil'+'er\x20if\x20alig'+'n/stretch\x20'+'is\x20not\x20use'+'d\x0a\x0a\x20\x20\x20\x20vec'+'2\x20quadXY\x20='+'\x20vertPos.x'+'y;\x0a\x0a#ifdef'+'\x20USE_MESH\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe\x20=\x20vec4('+'particle_v'+'ertexData5'+'.zw,\x20parti'+'cle_vertex'+'Data2.z,\x20p'+'article_ve'+'rtexData.w'+');\x0a#else\x0a\x20'+'\x20\x20\x20texCoor'+'dsAlphaLif'+'e\x20=\x20vec4(q'+'uadXY\x20*\x20-0'+'.5\x20+\x200.5,\x20'+'particle_v'+'ertexData2'+'.z,\x20partic'+'le_vertexD'+'ata.w);\x0a#e'+'ndif\x0a\x20\x20\x20\x20m'+'at2\x20rotMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'float\x20inAn'+'gle\x20=\x20part'+'icle_verte'+'xData2.x;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20vec3\x20me'+'shLocalPos'+'\x20=\x20particl'+'e_vertexDa'+'ta3.xyz;\x0a'),E3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',b3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',A3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',C3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',P3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20vec3'+'\x20posNormal'+'\x20=\x20-normal'+'\x20*\x200.5\x20+\x200'+'.5;\x0a\x20\x20\x20\x20ne'+'gNormal\x20*='+'\x20negNormal'+';\x0a\x20\x20\x20\x20posN'+'ormal\x20*=\x20p'+'osNormal;\x0a',M3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a\x0a#i'+'f\x20defined('+'USE_MESH)\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(USE_'+'MESH_UV)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20particle'+'_uv;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mesh'+'\x20UV\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20par'+'ticle_uv\x20='+'\x20vec2(0.0,'+'\x200.0);\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+'Projection'+';\x0auniform\x20'+'mat4\x20matri'+'x_model;\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20numPart'+'iclesPot;\x0a'+'uniform\x20fl'+'oat\x20graphS'+'ampleSize;'+'\x0auniform\x20f'+'loat\x20graph'+'NumSamples'+';\x0auniform\x20'+'float\x20stre'+'tch;\x0aunifo'+'rm\x20vec3\x20wr'+'apBounds;\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Scale;\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0auniform\x20'+'vec3\x20faceT'+'angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0auniform'+'\x20float\x20rat'+'e;\x0auniform'+'\x20float\x20rat'+'eDiv;\x0aunif'+'orm\x20float\x20'+'lifetime;\x0a'+'uniform\x20fl'+'oat\x20deltaR'+'andomnessS'+'tatic;\x0auni'+'form\x20float'+'\x20scaleDivM'+'ult;\x0aunifo'+'rm\x20float\x20a'+'lphaDivMul'+'t;\x0auniform'+'\x20float\x20see'+'d;\x0auniform'+'\x20float\x20del'+'ta;\x0aunifor'+'m\x20sampler2'+'D\x20particle'+'TexOUT;\x0aun'+'iform\x20samp'+('ler2D\x20part'+'icleTexIN;'+'\x0a\x0a#ifdef\x20P'+'ARTICLE_GP'+'U\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x0;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex2;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0avarying\x20'+'vec4\x20texCo'+'ordsAlphaL'+'ife;\x0a\x0avec3'+'\x20inPos;\x0ave'+'c3\x20inVel;\x0a'+'float\x20inAn'+'gle;\x0abool\x20'+'inShow;\x0afl'+'oat\x20inLife'+';\x0a'),D3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',I3='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',L3='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',R3='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',O3='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',F3='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',N3='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan(veloci'+'tyV.x,\x20vel'+'ocityV.y);'+'\x0a\x0a',k3='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',U3='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec3\x20No'+'rmal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20lightCu'+'be[6];\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20float\x20vDe'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fogP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'f\x20NORMAL\x20='+'=\x20MAP\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20normalMa'+'p;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22p'+'articlePS\x22'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_softP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20normal\x20'+'=\x20Normal;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalMap'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20HALF_L'+'AMBERT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_ha'+'lflambertP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_la'+'mbertPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_lighting'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20BLEND\x20'+'==\x20NORMAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndNormalPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+('\x20ADDITIVE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndAddPS\x22\x0a\x20'+'\x20\x20\x20#elif\x20B'+'LEND\x20==\x20MU'+'LTIPLICATI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendMulti'+'plyPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endPS\x22\x0a'),B3='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20animTexTi'+'lesParams;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20animTexP'+'arams;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec2\x20an'+'imTexIndex'+'Params;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20NO'+'RMAL\x20==\x20MA'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20Normal'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20SOFT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20floa'+'t\x20vDepth;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_initVS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PA'+'CK8\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleInputR'+'gba8PS\x22\x20\x20\x20'+'\x20\x20//\x20why\x20a'+'re\x20these\x20P'+'S\x20and\x20not\x20'+'VS?\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x20'+'\x22particleI'+'nputFloatP'+'S\x22\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'OFT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22scre'+'enDepthPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleVS\x22\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20PARTICLE_'+'CPU\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22scr'+'eenDepthPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_cpuVS'+'\x22\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_local'+'ShiftVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20ANIMT'+'EX_LOOP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('#include\x20\x22'+'particleAn'+'imFrameLoo'+'pVS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particleA'+'nimFrameCl'+'ampVS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleAn'+'imTexVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20wr'+'ap\x20is\x20not\x20'+'used\x20on\x20CP'+'U,\x20it\x20was\x20'+'commented\x20'+'out.\x20TODO:'+'\x20investiga'+'te\x20why\x0a\x20\x20\x20'+'\x20#ifdef\x20PA'+'RTICLE_GPU'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20WRAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_wrapVS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20AL'+'IGN_TO_MOT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_pointAlon'+'gVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20US'+'E_MESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_meshVS'+'\x22\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20CUS'+'TOM_FACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'customFace'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_b'+'illboardVS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalVS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_TBNVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STRETCH\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_str'+'etchVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endVS\x22\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20PARTICLE'+'_CPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_cpu_endV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#')+('ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_so'+'ftVS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20}\x0a'),z3='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',V3='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',G3='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',H3='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',W3='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',$3={'particlePS':s3,'particleVS':i3,'particleAnimFrameClampVS':r3,'particleAnimFrameLoopVS':a3,'particleAnimTexVS':n3,'particleInputFloatPS':o3,'particleInputRgba8PS':l3,'particleOutputFloatPS':c3,'particleOutputRgba8PS':h3,'particleUpdaterAABBPS':d3,'particleUpdaterEndPS':f3,'particleUpdaterInitPS':u3,'particleUpdaterNoRespawnPS':p3,'particleUpdaterOnStopPS':m3,'particleUpdaterRespawnPS':_3,'particleUpdaterSpherePS':g3,'particleUpdaterStartPS':S3,'particle_billboardVS':y3,'particle_blendAddPS':v3,'particle_blendMultiplyPS':x3,'particle_blendNormalPS':T3,'particle_cpuVS':w3,'particle_cpu_endVS':E3,'particle_customFaceVS':b3,'particle_endPS':A3,'particle_endVS':C3,'particle_halflambertPS':P3,'particle_initVS':M3,'particle_lambertPS':D3,'particle_lightingPS':I3,'particle_localShiftVS':L3,'particle_meshVS':R3,'particle_normalVS':O3,'particle_normalMapPS':F3,'particle_pointAlongVS':N3,'particle_simulationPS':k3,'particle_shaderPS':U3,'particle_shaderVS':B3,'particle_softPS':z3,'particle_softVS':V3,'particle_stretchVS':G3,'particle_TBNVS':H3,'particle_wrapVS':W3},X3='\x0avarying\x20t'+'exCoordsAl'+'phaLife:\x20v'+'ec4f;\x0a\x0avar'+'\x20colorMap:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20colorMap'+'Sampler:\x20s'+'ampler;\x0ava'+'r\x20colorPar'+'am:\x20textur'+'e_2d<f32>;'+'\x0avar\x20color'+'ParamSampl'+'er:\x20sample'+'r;\x0a\x0aunifor'+'m\x20graphSam'+'pleSize:\x20f'+'32;\x0aunifor'+'m\x20graphNum'+'Samples:\x20f'+'32;\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0auniform'+'\x20softening'+':\x20f32;\x0auni'+'form\x20color'+'Mult:\x20f32;'+'\x0a\x0afn\x20satur'+'ate(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20tex:\x20v'+'ec4f\x20\x20=\x20te'+'xtureSampl'+'e(colorMap'+',\x20colorMap'+'Sampler,\x20v'+'ec2f(input'+'.texCoords'+'AlphaLife.'+'x,\x201.0\x20-\x20i'+'nput.texCo'+'ordsAlphaL'+'ife.y));\x0a\x20'+'\x20\x20\x20var\x20ram'+'p:\x20vec4f\x20='+'\x20textureSa'+'mple(color'+'Param,\x20col'+'orParamSam'+'pler,\x20vec2'+'f(input.te'+'xCoordsAlp'+'haLife.w,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20ramp\x20=\x20ve'+'c4f(ramp.r'+'gb\x20*\x20unifo'+'rm.colorMu'+'lt,\x20ramp.a'+');\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20=\x20ram'+'p.a\x20+\x20inpu'+'t.texCoord'+'sAlphaLife'+'.z;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20rgb:\x20ve'+'c3f\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'var\x20a:\x20f32'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',q3='\x0afn\x20unpack'+'3NFloats(s'+'rc:\x20f32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20r\x20'+'=\x20fract(sr'+'c);\x0a\x20\x20\x20\x20le'+'t\x20g\x20=\x20frac'+'t(src\x20*\x2025'+'6.0);\x0a\x20\x20\x20\x20'+'let\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3f(r,\x20'+'g,\x20b);\x0a}\x0a\x0a'+'fn\x20saturat'+'e(x:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0astruct\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20resu'+'lt:\x20vec4f,'+'\x0a\x20\x20\x20\x20unpac'+'ked:\x20vec3f'+'\x0a}\x0a\x0afn\x20tex'+'1Dlod_lerp'+'_simple(te'+'x:\x20texture'+'_2d<f32>,\x20'+'texSampler'+':\x20sampler,'+'\x20tc:\x20vec2f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20tc_next\x20='+'\x20tc\x20+\x20vec2'+'f(uniform.'+'graphSampl'+'eSize);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(\x20textur'+'eSample(te'+'x,\x20texSamp'+'ler,\x20tc),\x20'+'textureSam'+'ple(tex,\x20t'+'exSampler,'+'\x20tc_next),'+'\x20fract(tc.'+'x\x20*\x20unifor'+'m.graphNum'+'Samples)\x20)'+';\x0a}\x0a\x0afn\x20te'+'x1Dlod_ler'+'p_unpack(t'+'ex:\x20textur'+'e_2d<f32>,'+'\x20texSample'+'r:\x20sampler'+',\x20tc:\x20vec2'+'f)\x20->\x20TexL'+'erpUnpackR'+'esult\x20{\x0a\x20\x20'+'\x20\x20let\x20tc_n'+'ext\x20=\x20tc\x20+'+'\x20vec2f(uni'+'form.graph'+'SampleSize'+');\x0a\x20\x20\x20\x20let'+'\x20a\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20tc,\x200.0);'+'\x0a\x20\x20\x20\x20let\x20b'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'c_next,\x200.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20u'+'niform.gra'+'phNumSampl'+'es);\x0a\x20\x20\x20\x20l'+'et\x20unpacke'+'dA\x20=\x20unpac'+'k3NFloats('+'a.w);\x0a\x20\x20\x20\x20'+'let\x20unpack'+'edB\x20=\x20unpa'+'ck3NFloats'+'(b.w);\x0a\x20\x20\x20'+'\x20let\x20w_out'+('\x20=\x20mix(unp'+'ackedA,\x20un'+'packedB,\x20c'+');\x0a\x20\x20\x20\x20ret'+'urn\x20TexLer'+'pUnpackRes'+'ult(mix(a,'+'\x20b,\x20c),\x20w_'+'out);\x0a}\x0a\x0as'+'truct\x20Rota'+'teResult\x20{'+'\x0a\x20\x20\x20\x20rotat'+'edVec:\x20vec'+'2f,\x0a\x20\x20\x20\x20ma'+'trix:\x20mat2'+'x2f\x0a}\x0a\x0afn\x20'+'rotateWith'+'Matrix(qua'+'dXY:\x20vec2f'+',\x20pRotatio'+'n:\x20f32)\x20->'+'\x20RotateRes'+'ult\x20{\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20co'+'s(pRotatio'+'n);\x0a\x20\x20\x20\x20le'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x20\x20\x20\x20let\x20'+'m\x20=\x20mat2x2'+'f(vec2f(c,'+'\x20s),\x20vec2f'+'(-s,\x20c));\x0a'+'\x20\x20\x20\x20return'+'\x20RotateRes'+'ult(m\x20*\x20qu'+'adXY,\x20m);\x0a'+'}\x0a\x0afn\x20bill'+'board(Inst'+'anceCoords'+':\x20vec3f,\x20q'+'uadXY:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20pos:\x20ve'+'c3f;\x0a\x20\x20\x20\x20#'+'ifdef\x20SCRE'+'EN_SPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pos'+'\x20=\x20vec3f(-'+'1.0,\x200.0,\x20'+'0.0)\x20*\x20qua'+'dXY.x\x20+\x20ve'+'c3f(0.0,\x20-'+'1.0,\x200.0)\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20custom'+'Face(Insta'+'nceCoords:'+'\x20vec3f,\x20qu'+'adXY:\x20vec2'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20pos\x20=\x20un'+'iform.face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20uniform.f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20safeNo'+'rmalize(v:'+'\x20vec2f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20let\x20l\x20='+'\x20length(v)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20select('+'v,\x20v\x20/\x20l,\x20'+'l\x20>\x201e-06)'+';\x0a}\x0a\x0a@vert'+'ex\x0afn\x20vert'+'exMain(inp')+('ut:\x20Vertex'+'Input)\x20->\x20'+'VertexOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20meshLo'+'calPos_in\x20'+'=\x20input.pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20id\x20=\x20floo'+'r(input.pa'+'rticle_ver'+'texData.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20rndFactor'+'\x20=\x20fract(s'+'in(id\x20+\x201.'+'0\x20+\x20unifor'+'m.seed));\x0a'+'\x20\x20\x20\x20let\x20rn'+'dFactor3\x20='+'\x20vec3f(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20let\x20uv\x20=\x20'+'id\x20/\x20unifo'+'rm.numPart'+'iclesPot;\x0a'+'\x20\x20\x20\x20readIn'+'put(uv);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20model'+'Rotation\x20='+'\x20mat3x3f(u'+'niform.mat'+'rix_model['+'0].xyz,\x20un'+'iform.matr'+'ix_model[1'+'].xyz,\x20uni'+'form.matri'+'x_model[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20inVel'+'\x20=\x20modelRo'+'tation\x20*\x20i'+'nVel;\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20let\x20viewR'+'otation\x20=\x20'+'mat3x3f(un'+'iform.matr'+'ix_view[0]'+'.xyz,\x20unif'+'orm.matrix'+'_view[1].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[2].xyz'+');\x0a\x20\x20\x20\x20let'+'\x20velocityV'+'\x20=\x20safeNor'+'malize((vi'+'ewRotation'+'\x20*\x20inVel).'+'xy);\x0a\x0a\x20\x20\x20\x20'+'let\x20partic'+'leLifetime'+'\x20=\x20uniform'+'.lifetime;'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'meshLocalP'+'os\x20=\x20meshL'+'ocalPos_in'+';\x0a\x20\x20\x20\x20if\x20('+'inLife\x20<=\x20'+'0.0\x20||\x20inL'+'ife\x20>\x20part'+'icleLifeti'+'me\x20||\x20!inS'+'how)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mesh'+'LocalPos\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20let\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20let'+'\x20nlife\x20=\x20c')+('lamp(inLif'+'e\x20/\x20partic'+'leLifetime'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20lerp_res'+'ult\x20=\x20tex1'+'Dlod_lerp_'+'unpack(int'+'ernalTex2,'+'\x20internalT'+'ex2Sampler'+',\x20vec2f(nl'+'ife,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'params\x20=\x20l'+'erp_result'+'.result;\x0a\x20'+'\x20\x20\x20let\x20par'+'amDiv\x20=\x20le'+'rp_result.'+'unpacked;\x0a'+'\x0a\x20\x20\x20\x20var\x20s'+'cale\x20=\x20par'+'ams.y;\x0a\x20\x20\x20'+'\x20let\x20scale'+'Div\x20=\x20para'+'mDiv.x;\x0a\x20\x20'+'\x20\x20let\x20alph'+'aDiv\x20=\x20par'+'amDiv.z;\x0a\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20scale\x20+\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20unifo'+'rm.scaleDi'+'vMult\x20*\x20fr'+'act(rndFac'+'tor*10000.'+'0);\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.texCoords'+'AlphaLife\x20'+'=\x20vec4f(qu'+'adXY\x20*\x20-0.'+'5\x20+\x200.5,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20unifor'+'m.alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife\x20=\x20vec4'+'f(particle'+'_uv,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'uniform.al'+'phaDivMult'+'\x20*\x20fract(r'+'ndFactor*1'+'000.0),\x20nl'+'ife);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20var\x20part'+'iclePos\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20var\x20parti'+'clePosMove'+'d\x20=\x20vec3f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20var\x20rotMa'+'trix:\x20mat2'+'x2f;\x0a'),j3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20min('+'floor(inpu'+'t.texCoord'+'sAlphaLife'+'.w\x20*\x20unifo'+'rm.animTex'+'Params.y)\x20'+'+\x20uniform.'+'animTexPar'+'ams.x,\x20uni'+'form.animT'+'exParams.z'+');\x0a',Y3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20floo'+'r((output.'+'texCoordsA'+'lphaLife.w'+'\x20*\x20uniform'+'.animTexPa'+'rams.y\x20+\x20u'+'niform.ani'+'mTexParams'+'.x)\x20%\x20(uni'+'form.animT'+'exParams.z'+'\x20+\x201.0));\x20'+'\x20\x20\x20\x0a',K3='\x0a\x20\x20\x20\x20var\x20a'+'nimationIn'+'dex:\x20f32;\x0a'+'\x0a\x20\x20\x20\x20if\x20(u'+'niform.ani'+'mTexIndexP'+'arams.y\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20floor(('+'uniform.an'+'imTexParam'+'s.w\x20+\x201.0)'+'\x20*\x20rndFact'+'or3.z)\x20*\x20('+'uniform.an'+'imTexParam'+'s.z\x20+\x201.0)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20animati'+'onIndex\x20=\x20'+'uniform.an'+'imTexIndex'+'Params.x\x20*'+'\x20(uniform.'+'animTexPar'+'ams.z\x20+\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20var\x20a'+'tlasX:\x20f32'+'\x20=\x20(animat'+'ionIndex\x20+'+'\x20animFrame'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20atlasY:\x20'+'f32\x20=\x201.0\x20'+'-\x20floor(at'+'lasX\x20+\x201.0'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.y;\x0a\x20\x20\x20\x20at'+'lasX\x20=\x20fra'+'ct(atlasX)'+';\x20//\x20Reass'+'ign\x20atlasX'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'current_tc'+'al_xy\x20=\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.xy;\x0a\x20\x20'+'\x20\x20let\x20scal'+'ed_tcal_xy'+'\x20=\x20current'+'_tcal_xy\x20*'+'\x20uniform.a'+'nimTexTile'+'sParams.xy'+';\x0a\x20\x20\x20\x20let\x20'+'final_tcal'+'_xy\x20=\x20scal'+'ed_tcal_xy'+'\x20+\x20vec2f(a'+'tlasX,\x20atl'+'asY);\x0a\x20\x20\x20\x20'+'output.tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4f(final_'+'tcal_xy,\x20o'+'utput.texC'+'oordsAlpha'+'Life.z,\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.w);\x0a',Z3='\x0afn\x20readIn'+'put(uv:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex:\x20ve'+'c4f\x20=\x20text'+'ureSampleL'+'evel(parti'+'cleTexIN,\x20'+'particleTe'+'xINSampler'+',\x20vec2f(uv'+',\x200.25),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex2:\x20v'+'ec4f\x20=\x20tex'+'tureSample'+'Level(part'+'icleTexIN,'+'\x20particleT'+'exINSample'+'r,\x20vec2f(u'+'v,\x200.75),\x20'+'0.0);\x0a\x0a\x20\x20\x20'+'\x20inPos\x20=\x20t'+'ex.xyz;\x0a\x20\x20'+'\x20\x20inVel\x20=\x20'+'tex2.xyz;\x0a'+'\x20\x20\x20\x20inAngl'+'e\x20=\x20abs(te'+'x.w)\x20-\x20100'+'0.0;\x0a\x20\x20\x20\x20i'+'nShow\x20=\x20te'+'x.w\x20>=\x200.0'+';\x0a\x20\x20\x20\x20inLi'+'fe\x20=\x20tex2.'+'w;\x0a}\x0a',Q3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0ac'+'onst\x20PI2:\x20'+'f32\x20=\x206.28'+'3185307179'+'586;\x0a\x0aunif'+'orm\x20inBoun'+'dsSize:\x20ve'+'c3f;\x0aunifo'+'rm\x20inBound'+'sCenter:\x20v'+'ec3f;\x0a\x0auni'+'form\x20maxVe'+'l:\x20f32;\x0a\x0af'+'n\x20decodeFl'+'oatRG(rg:\x20'+'vec2f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20rg.'+'y\x20*\x20(1.0\x20/'+'\x20255.0)\x20+\x20'+'rg.x;\x0a}\x0a\x0af'+'n\x20decodeFl'+'oatRGBA(\x20r'+'gba:\x20vec4f'+'\x20)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(rgb'+'a,\x20vec4f(1'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x2065025.0'+',\x201.0\x20/\x2016'+'0581375.0)'+');\x0a}\x0a\x0afn\x20r'+'eadInput(u'+'v:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20let\x20te'+'x0\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.125),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex1\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.37'+'5),\x200.0);\x0a'+'\x20\x20\x20\x20let\x20te'+'x2\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.625),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex3\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.87'+'5),\x200.0);\x0a'+'\x0a\x20\x20\x20\x20inPos'+'\x20=\x20vec3f(d'+'ecodeFloat'+'RG(tex0.rg'+'),\x20decodeF'+'loatRG(tex'+'0.ba),\x20dec'+'odeFloatRG'+'(tex1.rg))'+';\x0a\x20\x20\x20\x20inPo'+'s\x20=\x20(inPos'+'\x20-\x20vec3f(0'+'.5))\x20*\x20uni'+'form.inBou'+'ndsSize\x20+\x20'+'uniform.in'+'BoundsCent'+'er;\x0a\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inVel\x20=\x20('+('inVel\x20-\x20ve'+'c3f(0.5))\x20'+'*\x20uniform.'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20let\x20l'+'ife_decode'+'d\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20let\x20maxNe'+'gLife\x20=\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20(uniform.'+'rate\x20+\x20uni'+'form.rateD'+'iv));\x0a\x20\x20\x20\x20'+'let\x20maxPos'+'Life\x20=\x20uni'+'form.lifet'+'ime\x20+\x201.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20life_d'+'ecoded\x20*\x20('+'maxNegLife'+'\x20+\x20maxPosL'+'ife)\x20-\x20max'+'NegLife;\x0a}'),J3='\x0afn\x20getOut'+'put()\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20if\x20(pcPos'+'ition.y\x20<\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4f(ou'+'tPos,\x20(out'+'Angle\x20+\x2010'+'00.0)\x20*\x20vi'+'sMode);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(outVel,\x20'+'outLife);\x0a'+'\x20\x20\x20\x20}\x0a}\x0a',eO='\x0auniform\x20o'+'utBoundsMu'+'l:\x20vec3f;\x0a'+'uniform\x20ou'+'tBoundsAdd'+':\x20vec3f;\x0a\x0a'+'fn\x20encodeF'+'loatRG(\x20v:'+'\x20f32\x20)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20var\x20enc:'+'\x20vec2f\x20=\x20v'+'ec2f(1.0,\x20'+'255.0)\x20*\x20v'+';\x0a\x20\x20\x20\x20enc\x20'+'=\x20fract(en'+'c);\x0a\x20\x20\x20\x20en'+'c\x20=\x20enc\x20-\x20'+'enc.yy\x20*\x20('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20enc;\x0a'+'}\x0a\x0afn\x20enco'+'deFloatRGB'+'A(\x20v:\x20f32\x20'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20factors\x20='+'\x20vec4f(1.0'+',\x20255.0,\x206'+'5025.0,\x2016'+'0581375.0)'+';\x0a\x20\x20\x20\x20var\x20'+'enc:\x20vec4f'+'\x20=\x20factors'+'\x20*\x20v;\x0a\x20\x20\x20\x20'+'enc\x20=\x20frac'+'t(enc);\x0a\x20\x20'+'\x20\x20enc\x20=\x20en'+'c\x20-\x20enc.yz'+'ww\x20*\x20vec4f'+'(1.0\x20/\x20255'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x20255.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'return\x20enc'+';\x0a}\x0a\x0afn\x20ge'+'tOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20outPo'+'s\x20=\x20outPos'+'\x20*\x20uniform'+'.outBounds'+'Mul\x20+\x20unif'+'orm.outBou'+'ndsAdd;\x0a\x20\x20'+'\x20\x20outAngle'+'\x20=\x20fract(o'+'utAngle\x20/\x20'+'PI2);\x0a\x0a\x20\x20\x20'+'\x20outVel\x20=\x20'+'(outVel\x20/\x20'+'uniform.ma'+'xVel)\x20+\x20ve'+'c3f(0.5);\x20'+'//\x20TODO:\x20m'+'ul\x0a\x0a\x20\x20\x20\x20le'+'t\x20maxNegLi'+'fe\x20=\x20max(u'+'niform.lif'+'etime,\x20(un'+'iform.numP'+'articles\x20-'+'\x201.0)\x20*\x20(u'+'niform.rat'+'e\x20+\x20unifor'+'m.rateDiv)'+');\x0a\x20\x20\x20\x20let'+'\x20maxPosLif'+'e\x20=\x20unifor'+'m.lifetime'+'\x20+\x201.0;\x0a\x20\x20'+'\x20\x20outLife\x20'+'=\x20(outLife'+'\x20+\x20maxNegL'+'ife)\x20/\x20(ma'+'xNegLife\x20+'+'\x20maxPosLif'+'e);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(pcPosit'+'ion.y\x20<\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'vec4f(enco'+'deFloatRG('+'outPos.x),'+'\x20encodeFlo'+'atRG(outPo'+'s.y));\x0a\x20\x20\x20'+('\x20}\x20else\x20if'+'\x20(pcPositi'+'on.y\x20<\x202.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(encod'+'eFloatRG(o'+'utPos.z),\x20'+'encodeFloa'+'tRG(outAng'+'le));\x0a\x20\x20\x20\x20'+'}\x20else\x20if\x20'+'(pcPositio'+'n.y\x20<\x203.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(outVel'+',\x20visMode\x20'+'*\x200.5\x20+\x200.'+'5);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20encodeFl'+'oatRGBA(ou'+'tLife);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),tO='\x0auniform\x20s'+'pawnBounds'+':\x20mat3x3f;'+'\x0auniform\x20s'+'pawnPosInn'+'erRatio:\x20v'+'ec3f;\x0a\x0afn\x20'+'calcSpawnP'+'osition(in'+'Bounds:\x20ve'+'c3f,\x20rndFa'+'ctor:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'pos\x20=\x20inBo'+'unds\x20-\x20vec'+'3f(0.5);\x0a\x0a'+'\x20\x20\x20\x20let\x20po'+'sAbs\x20=\x20abs'+'(pos);\x0a\x20\x20\x20'+'\x20let\x20maxCo'+'mp\x20=\x20max(p'+'osAbs.x,\x20m'+'ax(posAbs.'+'y,\x20posAbs.'+'z));\x0a\x20\x20\x20\x20l'+'et\x20maxPos\x20'+'=\x20vec3f(ma'+'xComp);\x0a\x0a\x20'+'\x20\x20\x20let\x20edg'+'e\x20=\x20maxPos'+'\x20+\x20(vec3f('+'0.5)\x20-\x20max'+'Pos)\x20*\x20uni'+'form.spawn'+'PosInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'pos.x\x20=\x20ed'+'ge.x\x20*\x20sel'+'ect(2.0\x20*\x20'+'pos.x,\x20sig'+'n(pos.x),\x20'+'maxPos.x\x20='+'=\x20posAbs.x'+');\x0a\x20\x20\x20\x20pos'+'.y\x20=\x20edge.'+'y\x20*\x20select'+'(2.0\x20*\x20pos'+'.y,\x20sign(p'+'os.y),\x20max'+'Pos.y\x20==\x20p'+'osAbs.y);\x0a'+'\x20\x20\x20\x20pos.z\x20'+'=\x20edge.z\x20*'+'\x20select(2.'+'0\x20*\x20pos.z,'+'\x20sign(pos.'+'z),\x20maxPos'+'.z\x20==\x20posA'+'bs.z);\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20uni'+'form.emitt'+'erPos\x20+\x20un'+'iform.spaw'+'nBounds\x20*\x20'+'pos;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uniform.sp'+'awnBounds\x20'+'*\x20pos;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20*localV'+'elocity\x20=\x20'+'*localVelo'+'city\x20-\x20vec'+'3f(0.0,\x200.'+'0,\x20uniform'+'.initialVe'+'locity);\x0a}'+'\x0a',sO='\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'getOutput('+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',iO='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20par'+'ticleTexIN'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20particl'+'eTexINSamp'+'ler:\x20sampl'+'er;\x0avar\x20in'+'ternalTex0'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0avar\x20int'+'ernalTex1:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20internal'+'Tex1Sample'+'r:\x20sampler'+';\x0avar\x20inte'+'rnalTex2:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20internalT'+'ex2Sampler'+':\x20sampler;'+'\x0avar\x20inter'+'nalTex3:\x20t'+'exture_2d<'+'f32>;\x0avar\x20'+'internalTe'+'x3Sampler:'+'\x20sampler;\x0a'+'\x0auniform\x20e'+'mitterMatr'+'ix:\x20mat3x3'+'f;\x0auniform'+'\x20emitterMa'+'trixInv:\x20m'+'at3x3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0a\x0aun'+'iform\x20emit'+'terPos:\x20ve'+'c3f;\x0aunifo'+'rm\x20frameRa'+'ndom:\x20vec3'+'f;\x0auniform'+'\x20localVelo'+'cityDivMul'+'t:\x20vec3f;\x0a'+'uniform\x20ve'+'locityDivM'+'ult:\x20vec3f'+';\x0auniform\x20'+'delta:\x20f32'+';\x0auniform\x20'+'rate:\x20f32;'+'\x0auniform\x20r'+'ateDiv:\x20f3'+'2;\x0auniform'+'\x20lifetime:'+'\x20f32;\x0aunif'+'orm\x20numPar'+'ticles:\x20f3'+'2;\x0auniform'+'\x20rotSpeedD'+'ivMult:\x20f3'+'2;\x0auniform'+'\x20radialSpe'+'edDivMult:'+'\x20f32;\x0aunif'+'orm\x20seed:\x20'+'f32;\x0aunifo'+'rm\x20startAn'+'gle:\x20f32;\x0a'+'uniform\x20st'+'artAngle2:'+'\x20f32;\x0aunif'+'orm\x20initia'+'lVelocity:'+'\x20f32;\x0a\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0a\x0ava'+'r<private>'+'\x20inPos:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20in'+'Vel:\x20vec3f'+';\x0avar<priv'+'ate>\x20inAng'+('le:\x20f32;\x0av'+'ar<private'+'>\x20inShow:\x20'+'bool;\x0avar<'+'private>\x20i'+'nLife:\x20f32'+';\x0avar<priv'+'ate>\x20visMo'+'de:\x20f32;\x0a\x0a'+'var<privat'+'e>\x20outPos:'+'\x20vec3f;\x0ava'+'r<private>'+'\x20outVel:\x20v'+'ec3f;\x0avar<'+'private>\x20o'+'utAngle:\x20f'+'32;\x0avar<pr'+'ivate>\x20out'+'Show:\x20bool'+';\x0avar<priv'+'ate>\x20outLi'+'fe:\x20f32;\x0a'),rO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tLife\x20=\x20ou'+'tLife\x20-\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20particleR'+'ate);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20visMod'+'e\x20=\x20-1.0;\x0a'+'\x20\x20\x20\x20}\x0a',aO='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20selec'+'t(visMode,'+'\x20-1.0,\x20out'+'Life\x20<\x200.0'+');\x0a',nO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20subtract'+'Amount\x20=\x20m'+'ax(uniform'+'.lifetime,'+'\x20(uniform.'+'numParticl'+'es\x20-\x201.0)\x20'+'*\x20particle'+'Rate);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outLi'+'fe\x20=\x20outLi'+'fe\x20-\x20subtr'+'actAmount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'isMode\x20=\x201'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20visMod'+'e\x20=\x20select'+'(visMode,\x20'+'1.0,\x20outLi'+'fe\x20<\x200.0);'+'\x0a',oO='\x0auniform\x20s'+'pawnBounds'+'Sphere:\x20f3'+'2;\x0auniform'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio:\x20'+'f32;\x0a\x0afn\x20c'+'alcSpawnPo'+'sition(inB'+'ounds:\x20vec'+'3f,\x20rndFac'+'tor:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'nd4:\x20f32\x20='+'\x20fract(rnd'+'Factor\x20*\x201'+'000.0);\x0a\x20\x20'+'\x20\x20let\x20norm'+':\x20vec3f\x20=\x20'+'normalize('+'inBounds.x'+'yz\x20-\x20vec3f'+'(0.5));\x0a\x20\x20'+'\x20\x20let\x20r:\x20f'+'32\x20=\x20rnd4\x20'+'*\x20(1.0\x20-\x20u'+'niform.spa'+'wnBoundsSp'+'hereInnerR'+'atio)\x20+\x20un'+'iform.spaw'+'nBoundsSph'+'ereInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20unifo'+'rm.emitter'+'Pos\x20+\x20norm'+'\x20*\x20r\x20*\x20uni'+'form.spawn'+'BoundsSphe'+'re;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20n'+'orm\x20*\x20r\x20*\x20'+'uniform.sp'+'awnBoundsS'+'phere;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20ini'+'tialVelOff'+'set:\x20vec3f'+'\x20=\x20normali'+'ze(inBound'+'s\x20-\x20vec3f('+'0.5))\x20*\x20un'+'iform.init'+'ialVelocit'+'y;\x0a\x20\x20\x20\x20*lo'+'calVelocit'+'y\x20=\x20*local'+'Velocity\x20+'+'\x20initialVe'+'lOffset;\x0a}'+'\x0a',lO='\x0afn\x20satura'+'te(x:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0afn\x20unp'+'ack3NFloat'+'s(src:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20r\x20=\x20fract'+'(src);\x0a\x20\x20\x20'+'\x20let\x20g\x20=\x20f'+'ract(src\x20*'+'\x20256.0);\x0a\x20'+'\x20\x20\x20let\x20b\x20='+'\x20fract(src'+'\x20*\x2065536.0'+');\x0a\x20\x20\x20\x20ret'+'urn\x20vec3f('+'r,\x20g,\x20b);\x0a'+'}\x0a\x0a//\x20Stru'+'ct\x20to\x20hand'+'le\x20multipl'+'e\x20return\x20v'+'alues\x20from'+'\x20tex1Dlod_'+'lerp\x0astruc'+'t\x20TexLerpU'+'npackResul'+'t\x20{\x0a\x20\x20\x20\x20re'+'sult:\x20vec3'+'f,\x0a\x20\x20\x20\x20unp'+'acked:\x20vec'+'3f\x0a}\x0a\x0afn\x20t'+'ex1Dlod_le'+'rp(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20tc:\x20'+'vec2f)\x20->\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'tc_next\x20=\x20'+'tc\x20+\x20vec2f'+'(uniform.g'+'raphSample'+'Size);\x0a\x20\x20\x20'+'\x20let\x20a\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20tc,\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20tc_next'+',\x200.0);\x0a\x20\x20'+'\x20\x20let\x20c\x20=\x20'+'fract(tc.x'+'\x20*\x20uniform'+'.graphNumS'+'amples);\x0a\x0a'+'\x20\x20\x20\x20let\x20un'+'packedA\x20=\x20'+'unpack3NFl'+'oats(a.w);'+'\x0a\x20\x20\x20\x20let\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20let\x20'+'w_out\x20=\x20mi'+'x(unpacked'+'A,\x20unpacke'+'dB,\x20c);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'TexLerpUnp'+'ackResult('+'mix(a.xyz,'+'\x20b.xyz,\x20c)'+',\x20w_out);\x0a'+'}\x0a\x0aconst\x20H'+'ASHSCALE4:'+'\x20vec4f\x20=\x20v'+'ec4f(1031.'+'0,\x200.1030,'+'\x200.0973,\x200'+'.1099);\x0afn'+'\x20hash41(p:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20var\x20p4\x20=\x20'+'fract(vec4'+'f(p)\x20*\x20HAS'+('HSCALE4);\x0a'+'\x20\x20\x20\x20p4\x20=\x20p'+'4\x20+\x20dot(p4'+',\x20p4.wzxy\x20'+'+\x2019.19);\x0a'+'\x20\x20\x20\x20return'+'\x20fract(vec'+'4f((p4.x\x20+'+'\x20p4.y)*p4.'+'z,\x20(p4.x\x20+'+'\x20p4.z)*p4.'+'y,\x20(p4.y\x20+'+'\x20p4.z)*p4.'+'w,\x20(p4.z\x20+'+'\x20p4.w)*p4.'+'x));\x0a}\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20if\x20(pc'+'Position.x'+'\x20>\x20uniform'+'.numPartic'+'les)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20re'+'adInput(in'+'put.vUv0.x'+');\x0a\x20\x20\x20\x20vis'+'Mode\x20=\x20sel'+'ect(-1.0,\x20'+'1.0,\x20inSho'+'w);\x0a\x0a\x20\x20\x20\x20l'+'et\x20rndFact'+'or\x20=\x20hash4'+'1(pcPositi'+'on.x\x20+\x20uni'+'form.seed)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20particleR'+'ate\x20=\x20unif'+'orm.rate\x20+'+'\x20uniform.r'+'ateDiv\x20*\x20r'+'ndFactor.x'+';\x0a\x0a\x20\x20\x20\x20out'+'Life\x20=\x20inL'+'ife\x20+\x20unif'+'orm.delta;'+'\x0a\x20\x20\x20\x20let\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20uniform'+'.lifetime,'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t0\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'0,\x20interna'+'lTex0Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20va'+'r\x20localVel'+'ocity\x20=\x20le'+'rpResult0.'+'result;\x0a\x20\x20'+'\x20\x20let\x20loca'+'lVelocityD'+'iv\x20=\x20lerpR'+'esult0.unp'+'acked;\x0a\x0a\x20\x20'+'\x20\x20let\x20lerp'+'Result1\x20=\x20'+'tex1Dlod_l'+'erp(intern'+'alTex1,\x20in'+'ternalTex1'+'Sampler,\x20v'+'ec2f(nlife'+',\x200.0));\x0a\x20'+'\x20\x20\x20var\x20vel'+'ocity\x20=\x20le'+'rpResult1.'+'result;\x0a\x20\x20'+'\x20\x20let\x20velo'+'cityDiv\x20=\x20'+'lerpResult')+('1.unpacked'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t2\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'2,\x20interna'+'lTex2Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20le'+'t\x20params\x20='+'\x20lerpResul'+'t2.result;'+'\x0a\x20\x20\x20\x20let\x20p'+'aramDiv\x20=\x20'+'lerpResult'+'2.unpacked'+';\x0a\x20\x20\x20\x20var\x20'+'rotSpeed\x20='+'\x20params.x;'+'\x0a\x20\x20\x20\x20let\x20r'+'otSpeedDiv'+'\x20=\x20paramDi'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'let\x20lerpRe'+'sult3\x20=\x20te'+'x1Dlod_ler'+'p(internal'+'Tex3,\x20inte'+'rnalTex3Sa'+'mpler,\x20vec'+'2f(nlife,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20let\x20radia'+'lParams\x20=\x20'+'lerpResult'+'3.result;\x0a'+'\x20\x20\x20\x20let\x20ra'+'dialParamD'+'iv\x20=\x20lerpR'+'esult3.unp'+'acked;\x0a\x20\x20\x20'+'\x20let\x20radia'+'lSpeed\x20=\x20r'+'adialParam'+'s.x;\x0a\x20\x20\x20\x20l'+'et\x20radialS'+'peedDiv\x20=\x20'+'radialPara'+'mDiv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20res'+'pawn\x20=\x20inL'+'ife\x20<=\x200.0'+'\x20||\x20outLif'+'e\x20>=\x20unifo'+'rm.lifetim'+'e;\x0a\x20\x20\x20\x20inP'+'os\x20=\x20selec'+'t(inPos,\x20c'+'alcSpawnPo'+'sition(rnd'+'Factor.xyz'+',\x20rndFacto'+'r.x),\x20resp'+'awn);\x0a\x20\x20\x20\x20'+'inAngle\x20=\x20'+'select(inA'+'ngle,\x20mix('+'uniform.st'+'artAngle,\x20'+'uniform.st'+'artAngle2,'+'\x20rndFactor'+'.x),\x20respa'+'wn);\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20radialVe'+'l:\x20vec3f\x20='+'\x20inPos\x20-\x20u'+'niform.emi'+'tterPos;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20radialVel'+':\x20vec3f\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20=\x20select'+'(vec3f(0.0'+'),\x20radialS'+'peed\x20*\x20nor'+'malize(rad'+'ialVel),\x20d'+'ot(radialV'+'el,\x20radial'+'Vel)\x20>\x201.0')+('E-8);\x0a\x20\x20\x20\x20'+'radialVel\x20'+'=\x20radialVe'+'l\x20+\x20(radia'+'lSpeedDiv\x20'+'*\x20vec3f(2.'+'0)\x20-\x20vec3f'+'(1.0))\x20*\x20u'+'niform.rad'+'ialSpeedDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20=\x20localV'+'elocity\x20+\x20'+'(localVelo'+'cityDiv\x20*\x20'+'vec3f(2.0)'+'\x20-\x20vec3f(1'+'.0))\x20*\x20uni'+'form.local'+'VelocityDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x20\x20\x20\x20vel'+'ocity\x20=\x20ve'+'locity\x20+\x20('+'velocityDi'+'v\x20*\x20vec3f('+'2.0)\x20-\x20vec'+'3f(1.0))\x20*'+'\x20uniform.v'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20rotS'+'peed\x20=\x20rot'+'Speed\x20+\x20(r'+'otSpeedDiv'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20unif'+'orm.rotSpe'+'edDivMult\x20'+'*\x20rndFacto'+'r.y;\x0a\x0a\x20\x20\x20\x20'+'addInitial'+'Velocity(&'+'localVeloc'+'ity,\x20rndFa'+'ctor.xyz);'+'\x0a\x0a\x20\x20\x20\x20#ifn'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20outVel'+'\x20=\x20uniform'+'.emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tVel\x20=\x20(lo'+'calVelocit'+'y\x20+\x20radial'+'Vel)\x20/\x20uni'+'form.emitt'+'erScale\x20+\x20'+'uniform.em'+'itterMatri'+'xInv\x20*\x20vel'+'ocity;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20outPos\x20'+'=\x20inPos\x20+\x20'+'outVel\x20*\x20u'+'niform.del'+'ta;\x0a\x20\x20\x20\x20ou'+'tAngle\x20=\x20i'+'nAngle\x20+\x20r'+'otSpeed\x20*\x20'+'uniform.de'+'lta;\x0a'),cO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20rotated'+'QuadXY);\x0a',hO='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20sa'+'turate(gam'+'maCorrectI'+'nput(max(a'+',\x200.0)));\x0a'+'\x20\x20\x20\x20if\x20((r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+')\x20<\x200.0000'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20}\x20\x20'+'\x20\x20\x0a',dO='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3f'+'(1.0),\x20rgb'+',\x20a);\x0a\x20\x20\x20\x20'+'if\x20((rgb.r'+'\x20+\x20rgb.g\x20+'+'\x20rgb.b)\x20>\x20'+'2.99)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a',fO='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20}\x0a',uO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20\x20'+'\x20//\x20XYZ\x20=\x20'+'world\x20pos,'+'\x20W\x20=\x20life\x0a'+'attribute\x20'+'particle_v'+'ertexData2'+':\x20vec4f;\x20\x20'+'//\x20X\x20=\x20ang'+'le,\x20Y\x20=\x20sc'+'ale,\x20Z\x20=\x20a'+'lpha,\x20W\x20=\x20'+'velocity.x'+'\x0aattribute'+'\x20particle_'+'vertexData'+'3:\x20vec4f;\x20'+'\x20//\x20XYZ\x20=\x20'+'particle\x20l'+'ocal\x20pos,\x20'+'W\x20=\x20veloci'+'ty.y\x0aattri'+'bute\x20parti'+'cle_vertex'+'Data4:\x20f32'+';\x20\x20\x20\x20//\x20pa'+'rticle\x20id\x0a'+'\x0a//\x20type\x20d'+'epends\x20on\x20'+'useMesh\x20pr'+'operty.\x20St'+'art\x20with\x20X'+'\x20=\x20velocit'+'y.z,\x20Y\x20=\x20p'+'article\x20ID'+'\x20and\x20for\x20m'+'esh\x20partic'+'les\x20procee'+'ds\x20with\x20Z\x20'+'=\x20mesh\x20UV.'+'x,\x20W\x20=\x20mes'+'h\x20UV.y\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_ver'+'texData5:\x20'+'vec2f;\x0a#el'+'se\x0a\x20\x20\x20\x20att'+'ribute\x20par'+'ticle_vert'+'exData5:\x20v'+'ec4f;\x0a#end'+'if\x0a\x0aunifor'+'m\x20matrix_v'+'iewProject'+'ion:\x20mat4x'+'4f;\x0aunifor'+'m\x20matrix_m'+'odel:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'trix_norma'+'l:\x20mat3x3f'+';\x0auniform\x20'+'matrix_vie'+'wInverse:\x20'+'mat4x4f;\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20lifet'+'ime:\x20f32;\x0a'+'uniform\x20st'+'retch:\x20f32'+';\x0auniform\x20'+'seed:\x20f32;'+'\x0auniform\x20w'+'rapBounds:'+'\x20vec3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0auni'+'form\x20faceT'+'angent:\x20ve'+'c3f;\x0aunifo'+'rm\x20faceBin'+'orm:\x20vec3f'+';\x0a\x0a#ifdef\x20'+('PARTICLE_G'+'PU\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex0:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x0Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex1'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex1S'+'ampler:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20var\x20inter'+'nalTex2:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex2Samp'+'ler:\x20sampl'+'er;\x0a#endif'+'\x0auniform\x20e'+'mitterPos:'+'\x20vec3f;\x0a\x0av'+'arying\x20tex'+'CoordsAlph'+'aLife:\x20vec'+'4f;\x0a\x0astruc'+'t\x20RotateRe'+'sult\x20{\x0a\x20\x20\x20'+'\x20rotatedVe'+'c:\x20vec2f,\x0a'+'\x20\x20\x20\x20matrix'+':\x20mat2x2f\x0a'+'}\x0a\x0afn\x20rota'+'teWithMatr'+'ix(quadXY:'+'\x20vec2f,\x20pR'+'otation:\x20f'+'32)\x20->\x20Rot'+'ateResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'c\x20=\x20cos(pR'+'otation);\x0a'+'\x20\x20\x20\x20let\x20s\x20'+'=\x20sin(pRot'+'ation);\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'mat2x2f(ve'+'c2f(c,\x20s),'+'\x20vec2f(-s,'+'\x20c));\x0a\x20\x20\x20\x20'+'return\x20Rot'+'ateResult('+'m\x20*\x20quadXY'+',\x20m);\x0a}\x0a\x0a\x0a'+'fn\x20billboa'+'rd(Instanc'+'eCoords:\x20v'+'ec3f,\x20quad'+'XY:\x20vec2f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20customF'+'ace(Instan'+'ceCoords:\x20'+'vec3f,\x20qua'+'dXY:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20pos\x20=\x20uni'+'form.faceT'+'angent\x20*\x20q'+'uadXY.x\x20+\x20'+'uniform.fa'+'ceBinorm\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20safeNor'+'malize(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20l\x20=\x20')+('length(v);'+'\x0a\x20\x20\x20\x20retur'+'n\x20select(v'+',\x20v\x20/\x20l,\x20l'+'\x20>\x201e-06);'+'\x0a}\x0a\x0a@verte'+'x\x0afn\x20verte'+'xMain(inpu'+'t:\x20VertexI'+'nput)\x20->\x20V'+'ertexOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'VertexOutp'+'ut;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20particl'+'ePos\x20=\x20inp'+'ut.particl'+'e_vertexDa'+'ta.xyz;\x0a\x20\x20'+'\x20\x20let\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20let\x20vertP'+'os\x20=\x20input'+'.particle_'+'vertexData'+'3.xyz;\x0a\x20\x20\x20'+'\x20var\x20inVel'+'\x20=\x20vec3f(i'+'nput.parti'+'cle_vertex'+'Data2.w,\x20i'+'nput.parti'+'cle_vertex'+'Data3.w,\x20i'+'nput.parti'+'cle_vertex'+'Data5.x);\x0a'+'\x0a\x20\x20\x20\x20let\x20i'+'d\x20=\x20floor('+'input.part'+'icle_verte'+'xData4);\x0a\x20'+'\x20\x20\x20let\x20rnd'+'Factor\x20=\x20f'+'ract(sin(i'+'d\x20+\x201.0\x20+\x20'+'uniform.se'+'ed));\x0a\x20\x20\x20\x20'+'let\x20rndFac'+'tor3\x20=\x20vec'+'3f(rndFact'+'or,\x20fract('+'rndFactor*'+'10.0),\x20fra'+'ct(rndFact'+'or*100.0))'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20mo'+'delRotatio'+'n\x20=\x20mat3x3'+'f(uniform.'+'matrix_mod'+'el[0].xyz,'+'\x20uniform.m'+'atrix_mode'+'l[1].xyz,\x20'+'uniform.ma'+'trix_model'+'[2].xyz);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'Vel\x20=\x20mode'+'lRotation\x20'+'*\x20inVel;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20let\x20ve'+'locityV\x20=\x20'+'safeNormal'+'ize((mat3x'+'3f(uniform'+'.matrix_vi'+'ew[0].xyz,'+'\x20uniform.m'+'atrix_view'+'[1].xyz,\x20u'+'niform.mat'+'rix_view[2'+'].xyz)\x20*\x20i'+'nVel).xy);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'quadXY\x20=\x20v'+'ertPos.xy;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20USE_MES'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.tex'+'CoordsAlph')+('aLife\x20=\x20ve'+'c4f(input.'+'particle_v'+'ertexData5'+'.zw,\x20input'+'.particle_'+'vertexData'+'2.z,\x20input'+'.particle_'+'vertexData'+'.w);\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'texCoordsA'+'lphaLife\x20='+'\x20vec4f(qua'+'dXY\x20*\x20-0.5'+'\x20+\x200.5,\x20in'+'put.partic'+'le_vertexD'+'ata2.z,\x20in'+'put.partic'+'le_vertexD'+'ata.w);\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20var\x20rot'+'Matrix:\x20ma'+'t2x2f;\x0a\x0a\x20\x20'+'\x20\x20var\x20inAn'+'gle\x20=\x20inpu'+'t.particle'+'_vertexDat'+'a2.x;\x0a\x20\x20\x20\x20'+'var\x20partic'+'lePosMoved'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20meshLoc'+'alPos\x20=\x20in'+'put.partic'+'le_vertexD'+'ata3.xyz;\x0a'),pO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20inp'+'ut.particl'+'e_vertexDa'+'ta2.y\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20localP'+'os\x20=\x20local'+'Pos\x20+\x20part'+'iclePos;\x0a\x0a'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20vec4f('+'localPos,\x20'+'1.0);\x0a',mO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20rotate'+'dQuadXY);\x0a',_O='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(rg'+'b,\x20a);\x0a\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a}\x0a',gO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20sca'+'le\x20*\x20unifo'+'rm.emitter'+'Scale;\x0a\x20\x20\x20'+'\x20localPos\x20'+'=\x20localPos'+'\x20+\x20particl'+'ePos;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'REEN_SPACE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(localPo'+'s.x,\x20local'+'Pos.y,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_v'+'iewProject'+'ion\x20*\x20vec4'+'f(localPos'+'.xyz,\x201.0)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a',SO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20no'+'rmal\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20var\x20posN'+'ormal:\x20vec'+'3f\x20=\x20-norm'+'al\x20*\x200.5\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'=\x20negNorma'+'l\x20*\x20negNor'+'mal;\x0a\x20\x20\x20\x20p'+'osNormal\x20='+'\x20posNormal'+'\x20*\x20posNorm'+'al;\x0a',yO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20/'+'/\x20XYZ\x20=\x20pa'+'rticle\x20pos'+'ition,\x20W\x20='+'\x20particle\x20'+'ID\x20+\x20rando'+'m\x20factor\x0a#'+'if\x20defined'+'(USE_MESH)'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(USE'+'_MESH_UV)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_uv:'+'\x20vec2f;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'esh\x20UV\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20pa'+'rticle_uv:'+'\x20vec2f\x20=\x20v'+'ec2f(0.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0aunifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0aunif'+'orm\x20matrix'+'_normal:\x20m'+'at3x3f;\x0aun'+'iform\x20matr'+'ix_viewInv'+'erse:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20numPa'+'rticlesPot'+':\x20f32;\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0auni'+'form\x20stret'+'ch:\x20f32;\x0au'+'niform\x20wra'+'pBounds:\x20v'+'ec3f;\x0aunif'+'orm\x20emitte'+'rScale:\x20ve'+'c3f;\x0aunifo'+'rm\x20emitter'+'Pos:\x20vec3f'+';\x0auniform\x20'+'faceTangen'+'t:\x20vec3f;\x0a'+'uniform\x20fa'+'ceBinorm:\x20'+'vec3f;\x0auni'+'form\x20rate:'+'\x20f32;\x0aunif'+'orm\x20rateDi'+'v:\x20f32;\x0aun'+'iform\x20life'+'time:\x20f32;'+'\x0auniform\x20d'+'eltaRandom'+'nessStatic'+':\x20f32;\x0auni'+'form\x20scale'+'DivMult:\x20f'+'32;\x0aunifor'+'m\x20alphaDiv'+'Mult:\x20f32;'+'\x0auniform\x20s'+'eed:\x20f32;\x0a'+'uniform\x20de'+'lta:\x20f32;\x0a'+'\x0avar\x20parti'+('cleTexOUT:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20particle'+'TexOUTSamp'+'ler:\x20sampl'+'er;\x0avar\x20pa'+'rticleTexI'+'N:\x20texture'+'_2d<f32>;\x0a'+'var\x20partic'+'leTexINSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex0:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex1:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x1Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex2'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex2S'+'ampler:\x20sa'+'mpler;\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0avarying'+'\x20texCoords'+'AlphaLife:'+'\x20vec4f;\x0a\x0av'+'ar<private'+'>\x20inPos:\x20v'+'ec3f;\x0avar<'+'private>\x20i'+'nVel:\x20vec3'+'f;\x0avar<pri'+'vate>\x20inAn'+'gle:\x20f32;\x0a'+'var<privat'+'e>\x20inShow:'+'\x20bool;\x0avar'+'<private>\x20'+'inLife:\x20f3'+'2;\x0a'),vO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20ma'+'x(normal,\x20'+'vec3(0.0))'+';\x0a\x20\x20\x20\x20var\x20'+'posNormal:'+'\x20vec3f\x20=\x20m'+'ax(-normal'+',\x20vec3(0.0'+'));\x0a',xO='\x0a\x20\x20\x20\x20let\x20l'+'ight:\x20vec3'+'f\x20=\x20negNor'+'mal.x\x20*\x20un'+'iform.ligh'+'tCube[0]\x20+'+'\x20posNormal'+'.x\x20*\x20unifo'+'rm.lightCu'+'be[1]\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20negNormal'+'.y\x20*\x20unifo'+'rm.lightCu'+'be[2]\x20+\x20po'+'sNormal.y\x20'+'*\x20uniform.'+'lightCube['+'3]\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ne'+'gNormal.z\x20'+'*\x20uniform.'+'lightCube['+'4]\x20+\x20posNo'+'rmal.z\x20*\x20u'+'niform.lig'+'htCube[5];'+'\x0a\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20li'+'ght;\x0a',TO='\x0aparticleP'+'os\x20=\x20(unif'+'orm.matrix'+'_model\x20*\x20v'+'ec4f(parti'+'clePos,\x201.'+'0)).xyz;\x0a',wO='\x0avar\x20local'+'Pos\x20=\x20mesh'+'LocalPos;\x0a'+'let\x20rotRes'+'ultXY\x20=\x20ro'+'tateWithMa'+'trix(local'+'Pos.xy,\x20in'+'Angle);\x0alo'+'calPos\x20=\x20v'+'ec3f(rotRe'+'sultXY.rot'+'atedVec,\x20l'+'ocalPos.z)'+';\x0arotMatri'+'x\x20=\x20rotRes'+'ultXY.matr'+'ix;\x0a\x0alet\x20r'+'otResultYZ'+'\x20=\x20rotateW'+'ithMatrix('+'localPos.y'+'z,\x20inAngle'+');\x0alocalPo'+'s\x20=\x20vec3f('+'localPos.x'+',\x20rotResul'+'tYZ.rotate'+'dVec);\x0arot'+'Matrix\x20=\x20r'+'otResultYZ'+'.matrix;\x0a\x0a'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',EO='\x0aoutput.No'+'rmal\x20=\x20nor'+'malize(loc'+'alPos\x20+\x20un'+'iform.matr'+'ix_viewInv'+'erse[2].xy'+'z);\x0a',bO='\x0a\x20\x20\x20\x20let\x20s'+'ampledNorm'+'al:\x20vec4f\x20'+'=\x20textureS'+'ample(norm'+'alMap,\x20nor'+'malMapSamp'+'ler,\x20vec2f'+'(input.tex'+'CoordsAlph'+'aLife.x,\x201'+'.0\x20-\x20input'+'.texCoords'+'AlphaLife.'+'y));\x0a\x20\x20\x20\x20l'+'et\x20normalM'+'ap:\x20vec3f\x20'+'=\x20normaliz'+'e(sampledN'+'ormal.xyz\x20'+'*\x202.0\x20-\x201.'+'0);\x0a\x0a\x20\x20\x20\x20l'+'et\x20Particl'+'eMat\x20=\x20mat'+'3x3<f32>(P'+'articleMat'+'0,\x20Particl'+'eMat1,\x20Par'+'ticleMat2)'+';\x0a\x20\x20\x20\x20let\x20'+'normal:\x20ve'+'c3f\x20=\x20Part'+'icleMat\x20*\x20'+'normalMap;'+'\x0a',AO='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan2(veloc'+'ityV.x,\x20ve'+'locityV.y)'+';\x0a',CO='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',PO='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20Normal:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20varying\x20'+'ParticleMa'+'t0:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Particle'+'Mat2:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'Cube:\x20arra'+'y<vec3f,\x206'+'>;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vDe'+'pth:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sc'+'reenDepthP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22fogPS\x22\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'ap:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'apSampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'iclePS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'VERTEX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'ormal:\x20vec'+'3f\x20=\x20Norma'+'l;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20MAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_normal'+'MapPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20!=\x20NON'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20HAL'+'F_LAMBERT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_halflambe'+'rtPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_lambertPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+('#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_light'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20BLE'+'ND\x20==\x20NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendNorma'+'lPS\x22\x0a\x20\x20\x20\x20#'+'elif\x20BLEND'+'\x20==\x20ADDITI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendAddPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+'\x20MULTIPLIC'+'ATIVE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_blendMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_endPS'+'\x22\x0a'),MO='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20anim'+'TexTilesPa'+'rams:\x20vec2'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20a'+'nimTexPara'+'ms:\x20vec4f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20ani'+'mTexIndexP'+'arams:\x20vec'+'2f;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20Partic'+'leMat0:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20Pa'+'rticleMat2'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20==\x20V'+'ERTEX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Normal:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vDepth:\x20f'+'32;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_in'+'itVS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20PACK8\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleIn'+'putRgba8PS'+'\x22\x20\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x20\x22parti'+'cleInputFl'+'oatPS\x22\x20\x20\x20\x20'+'//\x20why\x20are'+'\x20these\x20PS\x20'+'and\x20not\x20VS'+'?\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'screenDept'+'hPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'articleVS\x22'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x20//\x20PARTI'+'CLE_CPU\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SOFT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22screenDep'+'thPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_c'+'puVS\x22\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_l'+('ocalShiftV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20ANIM'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20A'+'NIMTEX_LOO'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimFram'+'eLoopVS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleAnimFra'+'meClampVS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimTexV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20wrap\x20is\x20'+'not\x20used\x20o'+'n\x20CPU,\x20it\x20'+'was\x20commen'+'ted\x20out.\x20T'+'ODO:\x20inves'+'tigate\x20why'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'WRAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_wrap'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ALIGN_TO'+'_MOTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_point'+'AlongVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20USE_MESH'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_me'+'shVS\x22\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CUSTOM_FA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_custom'+'FaceVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_billboa'+'rdVS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20VERTEX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_norma'+'lVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20NORMA'+'L\x20==\x20MAP\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_TBNV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STRE'+'TCH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_stretchVS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PART'+'ICLE_GPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_endV')+('S\x22\x0a\x20\x20\x20\x20#el'+'se\x20//\x20PART'+'ICLE_CPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_cpu_'+'endVS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softVS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),DO='\x0a\x20\x20\x20\x20var\x20d'+'epth:\x20f32\x20'+'=\x20getLinea'+'rScreenDep'+'thFrag();\x0a'+'\x20\x20\x20\x20var\x20pa'+'rticleDept'+'h:\x20f32\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20var\x20depth'+'Diff:\x20f32\x20'+'=\x20saturate'+'(abs(parti'+'cleDepth\x20-'+'\x20depth)\x20*\x20'+'uniform.so'+'ftening);\x0a'+'\x20\x20\x20\x20a\x20=\x20a\x20'+'*\x20depthDif'+'f;\x0a',IO='\x0a\x20\x20\x20\x20outpu'+'t.vDepth\x20='+'\x20getLinear'+'Depth(loca'+'lPos);\x0a',LO='\x0a\x20\x20\x20\x20let\x20m'+'oveDir:\x20ve'+'c3f\x20=\x20inVe'+'l\x20*\x20unifor'+'m.stretch;'+'\x0a\x20\x20\x20\x20var\x20p'+'osPrev:\x20ve'+'c3f\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20=\x20posPrev'+'\x20+\x20particl'+'ePosMoved;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'viewRotati'+'onTemp:\x20ma'+'t3x3f\x20=\x20ma'+'t3x3f(unif'+'orm.matrix'+'_view[0].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[1].xyz'+',\x20uniform.'+'matrix_vie'+'w[2].xyz);'+'\x0a\x20\x20\x20\x20let\x20c'+'enterToVer'+'texV:\x20vec2'+'f\x20=\x20normal'+'ize((viewR'+'otationTem'+'p\x20*\x20localP'+'os).xy);\x0a\x0a'+'\x20\x20\x20\x20let\x20in'+'terpolatio'+'n:\x20f32\x20=\x20d'+'ot(-veloci'+'tyV,\x20cente'+'rToVertexV'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x0a\x20\x20\x20\x20'+'particlePo'+'s\x20=\x20mix(pa'+'rticlePos,'+'\x20posPrev,\x20'+'interpolat'+'ion);\x0a',RO='\x0a\x20\x20\x20\x20let\x20r'+'ot3\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(r'+'otMatrix[0'+'][0],\x20rotM'+'atrix[1][0'+'],\x200.0),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(rotMatr'+'ix[0][1],\x20'+'rotMatrix['+'1][1],\x200.0'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3f(0.0'+',\x200.0,\x201.0'+')\x0a\x20\x20\x20\x20);\x0a\x0a'+'\x20\x20\x20\x20let\x20vi'+'ewBasis\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-un'+'iform.matr'+'ix_viewInv'+'erse[0].xy'+'z,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-uniform.'+'matrix_vie'+'wInverse[1'+'].xyz,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.matrix_'+'viewInvers'+'e[2].xyz\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20tempM'+'at\x20=\x20viewB'+'asis\x20*\x20rot'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20WGSL\x20does'+'\x20not\x20suppo'+'rt\x20matrix\x20'+'varyings,\x20'+'decompose\x20'+'it\x20to\x20vec3'+'s\x0a\x20\x20\x20\x20outp'+'ut.Particl'+'eMat0\x20=\x20te'+'mpMat[0];\x0a'+'\x20\x20\x20\x20output'+'.ParticleM'+'at1\x20=\x20temp'+'Mat[1];\x0a\x20\x20'+'\x20\x20output.P'+'articleMat'+'2\x20=\x20tempMa'+'t[2];\x0a',OO='\x0a\x20\x20\x20\x20let\x20o'+'rigParticl'+'ePos:\x20vec3'+'f\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20particleP'+'os\x20=\x20parti'+'clePos\x20-\x20u'+'niform.mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20=\x20(par'+'ticlePos\x20%'+'\x20uniform.w'+'rapBounds)'+'\x20-\x20uniform'+'.wrapBound'+'s\x20*\x200.5;\x0a\x20'+'\x20\x20\x20particl'+'ePos\x20=\x20par'+'ticlePos\x20+'+'\x20uniform.m'+'atrix_mode'+'l[3].xyz;\x0a'+'\x20\x20\x20\x20partic'+'lePosMoved'+'\x20=\x20particl'+'ePos\x20-\x20ori'+'gParticleP'+'os;\x0a',FO={'particlePS':X3,'particleVS':q3,'particleAnimFrameClampVS':j3,'particleAnimFrameLoopVS':Y3,'particleAnimTexVS':K3,'particleInputFloatPS':Z3,'particleInputRgba8PS':Q3,'particleOutputFloatPS':J3,'particleOutputRgba8PS':eO,'particleUpdaterAABBPS':tO,'particleUpdaterEndPS':sO,'particleUpdaterInitPS':iO,'particleUpdaterNoRespawnPS':rO,'particleUpdaterOnStopPS':aO,'particleUpdaterRespawnPS':nO,'particleUpdaterSpherePS':oO,'particleUpdaterStartPS':lO,'particle_billboardVS':cO,'particle_blendAddPS':hO,'particle_blendMultiplyPS':dO,'particle_blendNormalPS':fO,'particle_cpuVS':uO,'particle_cpu_endVS':pO,'particle_customFaceVS':mO,'particle_endPS':_O,'particle_endVS':gO,'particle_halflambertPS':SO,'particle_initVS':yO,'particle_lambertPS':vO,'particle_lightingPS':xO,'particle_localShiftVS':TO,'particle_meshVS':wO,'particle_normalVS':EO,'particle_normalMapPS':bO,'particle_pointAlongVS':AO,'particle_simulationPS':CO,'particle_shaderPS':PO,'particle_shaderVS':MO,'particle_softPS':DO,'particle_softVS':IO,'particle_stretchVS':LO,'particle_TBNVS':RO,'particle_wrapVS':OO},NO=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class kO extends ct{constructor(_0x3de2f1){super(_0x3de2f1),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=e3,this['DataType']=t3,this['schema']=NO,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this),Pe['get'](_0x3de2f1['graphicsDe'+'vice'],Fe)['add']($3),Pe['get'](_0x3de2f1['graphicsDe'+'vice'],it)['add'](FO);}['initialize'+'ComponentD'+'ata'](_0x31202c,_0x4fe226,_0x2e6325){const _0x4b8c94={};_0x2e6325=[];const _0x2ca551=this['propertyTy'+'pes'];(_0x4fe226['mesh']instanceof pe||typeof _0x4fe226['mesh']=='number')&&(_0x4fe226['meshAsset']=_0x4fe226['mesh'],delete _0x4fe226['mesh']);for(const _0x25a0eb in _0x4fe226){if(_0x4fe226['hasOwnProp'+'erty'](_0x25a0eb)&&(_0x2e6325['push'](_0x25a0eb),_0x4b8c94[_0x25a0eb]=_0x4fe226[_0x25a0eb]),_0x2ca551[_0x25a0eb]==='vec3')Array['isArray'](_0x4b8c94[_0x25a0eb])&&(_0x4b8c94[_0x25a0eb]=new D(_0x4b8c94[_0x25a0eb][0x2574+-0xdb4+0x26*-0xa0],_0x4b8c94[_0x25a0eb][-0x24e6+0x94e*0x4+-0x1b*0x3],_0x4b8c94[_0x25a0eb][0x1816+-0x1bac+0x398]));else{if(_0x2ca551[_0x25a0eb]==='curve'){if(!(_0x4b8c94[_0x25a0eb]instanceof qs)){const _0x165920=_0x4b8c94[_0x25a0eb]['type'];_0x4b8c94[_0x25a0eb]=new qs(_0x4b8c94[_0x25a0eb]['keys']),_0x4b8c94[_0x25a0eb]['type']=_0x165920;}}else{if(_0x2ca551[_0x25a0eb]==='curveset'&&!(_0x4b8c94[_0x25a0eb]instanceof na)){const _0x1d6709=_0x4b8c94[_0x25a0eb]['type'];_0x4b8c94[_0x25a0eb]=new na(_0x4b8c94[_0x25a0eb]['keys']),_0x4b8c94[_0x25a0eb]['type']=_0x1d6709;}}}_0x4b8c94['layers']&&Array['isArray'](_0x4b8c94['layers'])&&(_0x4b8c94['layers']=_0x4b8c94['layers']['slice'](-0x8*-0x44f+0xcd9+-0x2f51));}super['initialize'+'ComponentD'+'ata'](_0x31202c,_0x4b8c94,_0x2e6325);}['cloneCompo'+'nent'](_0x3e43f0,_0x31353c){const _0x18a5ac=_0x3e43f0['particlesy'+'stem']['data'],_0x2d8049=this['schema'],_0x30eada={};for(let _0x17af83=-0xefc+0xd7d*0x1+0x17f,_0x1344af=_0x2d8049['length'];_0x17af83<_0x1344af;_0x17af83++){const _0x487e79=_0x2d8049[_0x17af83];let _0x4875a1=_0x18a5ac[_0x487e79];_0x4875a1 instanceof D||_0x4875a1 instanceof qs||_0x4875a1 instanceof na?(_0x4875a1=_0x4875a1['clone'](),_0x30eada[_0x487e79]=_0x4875a1):_0x487e79==='layers'?_0x30eada['layers']=_0x18a5ac['layers']['slice'](0xf93*-0x1+-0x191c+0x28af):_0x4875a1!=null&&(_0x30eada[_0x487e79]=_0x4875a1);}return this['addCompone'+'nt'](_0x31353c,_0x30eada);}['onUpdate'](_0x477161){const _0x2a6cfb=this['store'],_0x2df06d=this['app']['stats']['particles'],_0x26997e=this['app']['scene']['layers'];for(let _0x106ccd=0x2342+-0x1fce+-0xdd*0x4;_0x106ccd<_0x26997e['layerList']['length'];_0x106ccd++)_0x26997e['layerList'][_0x106ccd]['requiresLi'+'ghtCube']=!(-0x1*-0x1a23+-0x2d3*0x1+-0x174f);for(const _0x217957 in _0x2a6cfb)if(_0x2a6cfb['hasOwnProp'+'erty'](_0x217957)){const _0x853212=_0x2a6cfb[_0x217957],_0x49520c=_0x853212['entity'],_0x2a4b38=_0x853212['data'];if(_0x2a4b38['enabled']&&_0x49520c['enabled']){const _0x3ba191=_0x49520c['particlesy'+'stem']['emitter'];if(!(_0x3ba191!=null&&_0x3ba191['meshInstan'+'ce']['visible']))continue;if(_0x3ba191['lighting']){const _0x5f4879=_0x2a4b38['layers'];for(let _0x14edca=0x179b*-0x1+0xb*0x25b+-0xa*0x3b;_0x14edca<_0x5f4879['length'];_0x14edca++){const _0xd8d8e4=_0x26997e['getLayerBy'+'Id'](_0x5f4879[_0x14edca]);_0xd8d8e4&&(_0xd8d8e4['requiresLi'+'ghtCube']=!(-0x9*-0x8+-0x495*-0x3+0x15*-0xab));}}if(!_0x2a4b38['paused']){let _0xbac411=-0x6*-0x4cb+-0x2c*0x59+-0xd76;if(_0x3ba191['simTime']+=_0x477161,_0x3ba191['simTime']>=_0x3ba191['fixedTimeS'+'tep']&&(_0xbac411=Math['floor'](_0x3ba191['simTime']/_0x3ba191['fixedTimeS'+'tep']),_0x3ba191['simTime']-=_0xbac411*_0x3ba191['fixedTimeS'+'tep']),_0xbac411){_0xbac411=Math['min'](_0xbac411,_0x3ba191['maxSubStep'+'s']);for(let _0x1e1476=-0x99*-0x29+0x1*-0x511+0x10*-0x137;_0x1e1476<_0xbac411;_0x1e1476++)_0x3ba191['addTime'](_0x3ba191['fixedTimeS'+'tep'],!(-0x14cc+-0x130d+0x27da));_0x2df06d['_updatesPe'+'rFrame']+=_0xbac411,_0x2df06d['_frameTime']+=_0x3ba191['_addTimeTi'+'me'],_0x3ba191['_addTimeTi'+'me']=-0x73*0x42+0x6c6+0x16e0;}_0x3ba191['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x58d313,_0x150d21){_0x150d21['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class UO extends wd{constructor(_0x57bec3,_0x554ff1){super(),this['skin']=_0x57bec3,this['skinInstan'+'ce']=_0x554ff1;}}const Gs=class Gs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),Gs['_skinInsta'+'nceCache']['forEach']((_0x42beff,_0x2c1559)=>{console['log'](_0x2c1559['name']+':\x20Array('+_0x42beff['length']+')');for(let _0xb7ef1c=-0x1*0x1421+0x10d3*-0x1+0x24f4;_0xb7ef1c<_0x42beff['length'];_0xb7ef1c++)console['log']('\x20\x20'+_0xb7ef1c+(':\x20RefCount'+'\x20')+_0x42beff[_0xb7ef1c]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x105378,_0x4fbeea,_0x5375ba){let _0x5cee87=Gs['getCachedS'+'kinInstanc'+'e'](_0x105378,_0x4fbeea);return _0x5cee87||(_0x5cee87=new Ol(_0x105378),_0x5cee87['resolve'](_0x4fbeea,_0x5375ba),Gs['addCachedS'+'kinInstanc'+'e'](_0x105378,_0x4fbeea,_0x5cee87)),_0x5cee87;}static['getCachedS'+'kinInstanc'+'e'](_0x510a12,_0x45afe4){let _0x3fbc2f=null;const _0x2c0bef=Gs['_skinInsta'+'nceCache']['get'](_0x45afe4);if(_0x2c0bef){const _0x3d492a=_0x2c0bef['find'](_0x1618c0=>_0x1618c0['skin']===_0x510a12);_0x3d492a&&(_0x3d492a['incRefCoun'+'t'](),_0x3fbc2f=_0x3d492a['skinInstan'+'ce']);}return _0x3fbc2f;}static['addCachedS'+'kinInstanc'+'e'](_0x2984ad,_0x43faf9,_0x1f1d9e){let _0x32d009=Gs['_skinInsta'+'nceCache']['get'](_0x43faf9);_0x32d009||(_0x32d009=[],Gs['_skinInsta'+'nceCache']['set'](_0x43faf9,_0x32d009));let _0x33178b=_0x32d009['find'](_0x7d4d71=>_0x7d4d71['skin']===_0x2984ad);_0x33178b||(_0x33178b=new UO(_0x2984ad,_0x1f1d9e),_0x32d009['push'](_0x33178b)),_0x33178b['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x1a7773){if(_0x1a7773){const _0x35bf40=_0x1a7773['rootBone'];if(_0x35bf40){const _0x44f804=Gs['_skinInsta'+'nceCache']['get'](_0x35bf40);if(_0x44f804){const _0x1f1c43=_0x44f804['findIndex'](_0x10c3c6=>_0x10c3c6['skinInstan'+'ce']===_0x1a7773);if(_0x1f1c43>=-0xf81+-0x507+-0x1b6*-0xc){const _0x3fc659=_0x44f804[_0x1f1c43];_0x3fc659['decRefCoun'+'t'](),_0x3fc659['refCount']===0x13*0x66+0x19c1+-0x1c1*0x13&&(_0x44f804['splice'](_0x1f1c43,-0x3e6*-0x8+0x1*-0x41b+-0x4*0x6c5),_0x44f804['length']||Gs['_skinInsta'+'nceCache']['delete'](_0x35bf40),_0x1a7773&&(_0x1a7773['destroy'](),_0x3fc659['skinInstan'+'ce']=null));}}}}}};h(Gs,'_skinInsta'+'nceCache',new Map());let _l=Gs;class gl{constructor(_0x162abd,_0x568f6b,_0x1848f4,_0x32ff2e,_0x5a4d0a){h(this,'_evtLoadBy'+'Id',null),h(this,'_evtUnload'+'ById',null),h(this,'_evtAddByI'+'d',null),h(this,'_evtRemove'+'ById',null),h(this,'_evtLoadBy'+'Url',null),h(this,'_evtAddByU'+'rl',null),h(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x162abd,this['parent']=_0x568f6b,this['_scope']=_0x5a4d0a,this['_registry']=_0x1848f4,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x32ff2e['load'],this['_onAssetAd'+'d']=_0x32ff2e['add'],this['_onAssetRe'+'move']=_0x32ff2e['remove'],this['_onAssetUn'+'load']=_0x32ff2e['unload']);}set['id'](_0x56230d){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x56230d,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x237e9b){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x237e9b,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0xa8117c,_0x728dc0,_0x3d7a2e,_0x34ef72,_0x5e51c8,_0x5a8d35,_0x1254a6;this['id']&&((_0xa8117c=this['_evtLoadBy'+'Id'])==null||_0xa8117c['off'](),this['_evtLoadBy'+'Id']=null,(_0x728dc0=this['_evtAddByI'+'d'])==null||_0x728dc0['off'](),this['_evtAddByI'+'d']=null,(_0x3d7a2e=this['_evtRemove'+'ById'])==null||_0x3d7a2e['off'](),this['_evtRemove'+'ById']=null,(_0x34ef72=this['_evtUnload'+'ById'])==null||_0x34ef72['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x5e51c8=this['_evtLoadBy'+'Url'])==null||_0x5e51c8['off'](),this['_evtLoadBy'+'Url']=null,(_0x5a8d35=this['_evtAddByU'+'rl'])==null||_0x5a8d35['off'](),this['_evtAddByU'+'rl']=null,(_0x1254a6=this['_evtRemove'+'ByUrl'])==null||_0x1254a6['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x338f78){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x338f78);}['_onAdd'](_0x43363b){this['asset']=_0x43363b,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x43363b);}['_onRemove'](_0xa365dd){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0xa365dd),this['asset']=null;}['_onUnload'](_0x43df12){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x43df12);}}class n0 extends we{constructor(_0x3d26ce,_0x5b8deb){super(_0x3d26ce,_0x5b8deb),h(this,'_type','asset'),h(this,'_castShado'+'ws',!(0x16c5+0x6fe+-0x1dc3)),h(this,'_receiveSh'+'adows',!(0x110a+-0x2a9*-0x7+-0x11*0x219)),h(this,'_castShado'+'wsLightmap',!(0x14eb+0x7*0x1fd+-0x62*0x5b)),h(this,'_lightmapp'+'ed',!(0x8b3+-0x1*-0xc27+-0x14d9)),h(this,'_lightmapS'+'izeMultipl'+'ier',-0x2165+0xb*-0x30d+0x42f5),h(this,'isStatic',!(0x125*-0xa+-0x3*0x55b+0xdc2*0x2)),h(this,'_batchGrou'+'pId',-(-0x1928+0x2*-0x26d+0x1*0x1e03)),h(this,'_layers',[er]),h(this,'_renderSty'+'le',un),h(this,'_meshInsta'+'nces',[]),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_assetRefe'+'rence'),h(this,'_materialR'+'eferences',[]),h(this,'_material'),h(this,'_rootBone',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new gl('asset',this,_0x3d26ce['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x3d26ce['defaultMat'+'erial'],_0x5b8deb['on']('remove',this['onRemoveCh'+'ild'],this),_0x5b8deb['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x5b8deb['on']('insert',this['onInsertCh'+'ild'],this),_0x5b8deb['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x369255){this['_renderSty'+'le']!==_0x369255&&(this['_renderSty'+'le']=_0x369255,He['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x369255));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x4d7c3c){this['_customAab'+'b']=_0x4d7c3c;const _0x2cf8a1=this['_meshInsta'+'nces'];if(_0x2cf8a1){for(let _0x2d8b6a=-0xd*0x138+0x9bf+0x7*0xdf;_0x2d8b6a<_0x2cf8a1['length'];_0x2d8b6a++)_0x2cf8a1[_0x2d8b6a]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x2b3fdc){if(this['_type']!==_0x2b3fdc&&(this['_area']=null,this['_type']=_0x2b3fdc,this['destroyMes'+'hInstances'](),_0x2b3fdc!=='asset')){let _0x345668=this['_material'];(!_0x345668||_0x345668===this['system']['defaultMat'+'erial'])&&(_0x345668=this['_materialR'+'eferences'][0x119*0x5+-0x2315+0x1d98]&&this['_materialR'+'eferences'][-0x19*-0x125+-0x18*-0x114+-0x367d]['asset']&&this['_materialR'+'eferences'][-0x12ed+-0x5ad+0x189a]['asset']['resource']);const _0x43e097=r0(this['system']['app']['graphicsDe'+'vice'],_0x2b3fdc);this['_area']=_0x43e097['area'],this['meshInstan'+'ces']=[new He(_0x43e097['mesh'],_0x345668||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x437d18){if(w['assert'](Array['isArray'](_0x437d18),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x437d18,this['_meshInsta'+'nces']){const _0x5a6256=this['_meshInsta'+'nces'];for(let _0x13cb33=0x3b*0x34+0x1963+-0x1*0x255f;_0x13cb33<_0x5a6256['length'];_0x13cb33++)_0x5a6256[_0x13cb33]['node']||(_0x5a6256[_0x13cb33]['node']=this['entity']),_0x5a6256[_0x13cb33]['castShadow']=this['_castShado'+'ws'],_0x5a6256[_0x13cb33]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x5a6256[_0x13cb33]['renderStyl'+'e']=this['_renderSty'+'le'],_0x5a6256[_0x13cb33]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x5a6256[_0x13cb33]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x3ae32d){if(_0x3ae32d!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x3ae32d;const _0x9343f8=this['_meshInsta'+'nces'];if(_0x9343f8){for(let _0x1cb41a=-0x1249+-0x1*-0xddc+-0x67*-0xb;_0x1cb41a<_0x9343f8['length'];_0x1cb41a++)_0x9343f8[_0x1cb41a]['setLightma'+'pped'](_0x3ae32d);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x20936f){if(this['_castShado'+'ws']!==_0x20936f){const _0x3cb8f7=this['_meshInsta'+'nces'];if(_0x3cb8f7){const _0x3add9a=this['layers'],_0x2e3aff=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x20936f)for(let _0x80b316=-0x883+-0x1277*0x1+0x47f*0x6;_0x80b316<_0x3add9a['length'];_0x80b316++){const _0x1bfa55=_0x2e3aff['layers']['getLayerBy'+'Id'](this['layers'][_0x80b316]);_0x1bfa55&&_0x1bfa55['removeShad'+'owCasters'](_0x3cb8f7);}for(let _0x31f44e=0x1*0x262b+-0x465*0x1+-0x312*0xb;_0x31f44e<_0x3cb8f7['length'];_0x31f44e++)_0x3cb8f7[_0x31f44e]['castShadow']=_0x20936f;if(!this['_castShado'+'ws']&&_0x20936f)for(let _0x9e6896=0x2*-0x7b8+-0x782+0x16f2;_0x9e6896<_0x3add9a['length'];_0x9e6896++){const _0x2bd592=_0x2e3aff['layers']['getLayerBy'+'Id'](_0x3add9a[_0x9e6896]);_0x2bd592&&_0x2bd592['addShadowC'+'asters'](_0x3cb8f7);}}this['_castShado'+'ws']=_0x20936f;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x2f22fd){if(this['_receiveSh'+'adows']!==_0x2f22fd){this['_receiveSh'+'adows']=_0x2f22fd;const _0x3d573d=this['_meshInsta'+'nces'];if(_0x3d573d){for(let _0x4ee6e3=-0xa9a+0x737+-0x3*-0x121;_0x4ee6e3<_0x3d573d['length'];_0x4ee6e3++)_0x3d573d[_0x4ee6e3]['receiveSha'+'dow']=_0x2f22fd;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x17c4af){this['_castShado'+'wsLightmap']=_0x17c4af;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x10dda0){this['_lightmapS'+'izeMultipl'+'ier']=_0x10dda0;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x275681){const _0x4755a3=this['system']['app']['scene']['layers'];let _0x438251;if(this['_meshInsta'+'nces']){for(let _0x5282ea=0x1ef9+-0x4*-0x404+-0x2f09;_0x5282ea<this['_layers']['length'];_0x5282ea++)_0x438251=_0x4755a3['getLayerBy'+'Id'](this['_layers'][_0x5282ea]),_0x438251&&_0x438251['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=0x11fb*-0x1+-0x1247+0x1ba*0x15;for(let _0x4ea280=-0x1f5*0xb+0x1*-0x1350+0x28d7;_0x4ea280<_0x275681['length'];_0x4ea280++)this['_layers'][_0x4ea280]=_0x275681[_0x4ea280];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x345b7b=0x315*-0x5+-0x49*-0x88+-0x175f;_0x345b7b<this['_layers']['length'];_0x345b7b++)_0x438251=_0x4755a3['getLayerBy'+'Id'](this['_layers'][_0x345b7b]),_0x438251&&_0x438251['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x46819a){var _0x3f1bd7,_0x2b75cf;this['_batchGrou'+'pId']!==_0x46819a&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0xa1*0x19+-0x3da+0x1393&&((_0x3f1bd7=this['system']['app']['batcher'])==null||_0x3f1bd7['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x46819a>=0x32d+-0x935+0x182*0x4&&((_0x2b75cf=this['system']['app']['batcher'])==null||_0x2b75cf['insert'](St['RENDER'],_0x46819a,this['entity'])),_0x46819a<-0x1*0x1565+-0x762+0x1cc7*0x1&&this['_batchGrou'+'pId']>=-0x4ed+0x8f7+0xb*-0x5e&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x46819a);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x27d647){if(this['_material']!==_0x27d647&&(this['_material']=_0x27d647,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x61f364=-0x10b3*-0x1+-0x17*-0x10d+0x2*-0x146f;_0x61f364<this['_meshInsta'+'nces']['length'];_0x61f364++)this['_meshInsta'+'nces'][_0x61f364]['material']=_0x27d647;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x586bc1=[]){if(this['_materialR'+'eferences']['length']>_0x586bc1['length']){for(let _0x5c8a43=_0x586bc1['length'];_0x5c8a43<this['_materialR'+'eferences']['length'];_0x5c8a43++)this['_materialR'+'eferences'][_0x5c8a43]['id']=null;this['_materialR'+'eferences']['length']=_0x586bc1['length'];}for(let _0x3e8f00=0x238e+0x81f+0x1*-0x2bad;_0x3e8f00<_0x586bc1['length'];_0x3e8f00++)if(this['_materialR'+'eferences'][_0x3e8f00]||this['_materialR'+'eferences']['push'](new gl(_0x3e8f00,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x586bc1[_0x3e8f00]){const _0x1d488f=_0x586bc1[_0x3e8f00]instanceof pe?_0x586bc1[_0x3e8f00]['id']:_0x586bc1[_0x3e8f00];this['_materialR'+'eferences'][_0x3e8f00]['id']!==_0x1d488f&&(this['_materialR'+'eferences'][_0x3e8f00]['id']=_0x1d488f),this['_materialR'+'eferences'][_0x3e8f00]['asset']&&this['_onMateria'+'lAdded'](_0x3e8f00,this,this['_materialR'+'eferences'][_0x3e8f00]['asset']);}else this['_materialR'+'eferences'][_0x3e8f00]['id']=null,this['_meshInsta'+'nces'][_0x3e8f00]&&(this['_meshInsta'+'nces'][_0x3e8f00]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x3e337c=>_0x3e337c['id']);}set['asset'](_0x5e1fa7){const _0x188852=_0x5e1fa7 instanceof pe?_0x5e1fa7['id']:_0x5e1fa7;this['_assetRefe'+'rence']['id']!==_0x188852&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x188852,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x23bccc){const _0x569546=_0x23bccc instanceof pe?_0x23bccc['id']:_0x23bccc;this['_assetRefe'+'rence']['id']=_0x569546;}set['rootBone'](_0x3ef069){if(this['_rootBone']!==_0x3ef069){const _0x5b8d09=typeof _0x3ef069=='string';if(this['_rootBone']&&_0x5b8d09&&this['_rootBone']['getGuid']()===_0x3ef069)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x3ef069 instanceof Ie?this['_rootBone']=_0x3ef069:_0x5b8d09?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x3ef069)||null,this['_rootBone']||w['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x1d0362=this['_meshInsta'+'nces'];if(_0x1d0362){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x57b1d0=0x1*0x124f+-0x1abb+0x86c;_0x57b1d0<_0x1d0362['length'];_0x57b1d0++)_0x1d0362[_0x57b1d0]['destroy']();this['_meshInsta'+'nces']['length']=0x1*0x1732+0xc76+-0xe*0x28c;}}['addToLayer'+'s'](){const _0x5702d9=this['system']['app']['scene']['layers'];for(let _0x13b9d3=0x2*-0x8d7+0x1cda+-0xb2c;_0x13b9d3<this['_layers']['length'];_0x13b9d3++){const _0x35a3a7=_0x5702d9['getLayerBy'+'Id'](this['_layers'][_0x13b9d3]);_0x35a3a7&&_0x35a3a7['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x3a0e67=this['system']['app']['scene']['layers'];for(let _0x4efb18=-0x1d40+-0xfb*0x17+0x95*0x59;_0x4efb18<this['_layers']['length'];_0x4efb18++){const _0x567ae5=_0x3a0e67['getLayerBy'+'Id'](this['_layers'][_0x4efb18]);_0x567ae5&&_0x567ae5['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x31c088=-0xe5a*0x2+-0x376+0x1015*0x2;_0x31c088<this['_materialR'+'eferences']['length'];_0x31c088++)this['_materialR'+'eferences'][_0x31c088]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x774185,_0x134fc6){this['addToLayer'+'s'](),_0x774185['off']('add',this['onLayerAdd'+'ed'],this),_0x774185['off']('remove',this['onLayerRem'+'oved'],this),_0x134fc6['on']('add',this['onLayerAdd'+'ed'],this),_0x134fc6['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x55cbc9){this['layers']['indexOf'](_0x55cbc9['id'])<-0x2683+-0x22a3+0x4926||_0x55cbc9['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x49b341){this['layers']['indexOf'](_0x49b341['id'])<0x53f+0x1*-0x1089+0xb4a||_0x49b341['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x303121;const _0x43175a=this['system']['app'],_0xc1c056=_0x43175a['scene'],_0xe38f37=_0xc1c056['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0xc1c056['on']('set:layers',this['onLayersCh'+'anged'],this),_0xe38f37&&(this['_evtLayerA'+'dded']=_0xe38f37['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0xe38f37['on']('remove',this['onLayerRem'+'oved'],this));const _0xddc083=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0xddc083&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x3c8f12=-0x1817+0x1ad3*0x1+0x2*-0x15e;_0x3c8f12<this['_materialR'+'eferences']['length'];_0x3c8f12++)this['_materialR'+'eferences'][_0x3c8f12]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x3c8f12]['asset']);this['_batchGrou'+'pId']>=0xcb*0x11+0x1*0x24b5+0x16*-0x248&&((_0x303121=_0x43175a['batcher'])==null||_0x303121['insert'](St['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x30d1ed,_0x2d6cfb,_0x32306c,_0x5b875f;const _0x3404c2=this['system']['app'],_0x10dad9=_0x3404c2['scene']['layers'];(_0x30d1ed=this['_evtLayers'+'Changed'])==null||_0x30d1ed['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x10dad9&&((_0x2d6cfb=this['_evtLayerA'+'dded'])==null||_0x2d6cfb['off'](),this['_evtLayerA'+'dded']=null,(_0x32306c=this['_evtLayerR'+'emoved'])==null||_0x32306c['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x281*-0x2+-0xa9*-0x9+-0xef*0x1&&((_0x5b875f=_0x3404c2['batcher'])==null||_0x5b875f['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x41ee73=0x12fd+0x22b4+-0x35b1;_0x41ee73<this['_meshInsta'+'nces']['length'];_0x41ee73++)this['_meshInsta'+'nces'][_0x41ee73]['visible']=!(0x2*0x4b2+-0x180e+0xeab);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x2119eb=0x222e+0x151*0xf+-0x35ed;_0x2119eb<this['_meshInsta'+'nces']['length'];_0x2119eb++)this['_meshInsta'+'nces'][_0x2119eb]['visible']=!(-0x6df*0x1+0xb87+0x2*-0x254);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x1a3db5;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x231f6d=this['_assetRefe'+'rence']['asset']['resource'];(_0x1a3db5=this['_evtSetMes'+'hes'])==null||_0x1a3db5['off'](),this['_evtSetMes'+'hes']=_0x231f6d['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x231f6d['meshes']&&this['_onSetMesh'+'es'](_0x231f6d['meshes']);}}['_onSetMesh'+'es'](_0x3f194d){this['_cloneMesh'+'es'](_0x3f194d);}['_clearSkin'+'Instances'](){for(let _0x1d07d8=0x159e+0x1*-0x31f+-0x127f;_0x1d07d8<this['_meshInsta'+'nces']['length'];_0x1d07d8++){const _0x91ba34=this['_meshInsta'+'nces'][_0x1d07d8];_l['removeCach'+'edSkinInst'+'ance'](_0x91ba34['skinInstan'+'ce']),_0x91ba34['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof Ie)for(let _0xa86d72=-0x1*-0xc17+0x11d9+-0x1df0;_0xa86d72<this['_meshInsta'+'nces']['length'];_0xa86d72++){const _0x2c5b33=this['_meshInsta'+'nces'][_0xa86d72],_0x1203eb=_0x2c5b33['mesh'];_0x1203eb['skin']&&!_0x2c5b33['skinInstan'+'ce']&&(_0x2c5b33['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x1203eb['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x551d16){if(_0x551d16&&_0x551d16['length']){const _0x171227=[];for(let _0x3321b2=-0x23d1+-0x1*-0x258b+-0x1ba;_0x3321b2<_0x551d16['length'];_0x3321b2++){const _0x40ff38=_0x551d16[_0x3321b2],_0x2888b8=this['_materialR'+'eferences'][_0x3321b2]&&this['_materialR'+'eferences'][_0x3321b2]['asset']&&this['_materialR'+'eferences'][_0x3321b2]['asset']['resource'],_0x40c9ce=new He(_0x40ff38,_0x2888b8||this['system']['defaultMat'+'erial'],this['entity']);_0x171227['push'](_0x40c9ce),_0x40ff38['morph']&&(_0x40c9ce['morphInsta'+'nce']=new xa(_0x40ff38['morph']));}this['meshInstan'+'ces']=_0x171227,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x3faaa9;(_0x3faaa9=this['_evtSetMes'+'hes'])==null||_0x3faaa9['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x5c9b20,_0x3df429,_0x4cfdd0){_0x4cfdd0['resource']?this['_onMateria'+'lLoad'](_0x5c9b20,_0x3df429,_0x4cfdd0):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x4cfdd0);}['_updateMai'+'nMaterial'](_0x270701,_0x38a710){_0x270701===-0xcad+0x18f4+-0x7*0x1c1&&(this['material']=_0x38a710);}['_onMateria'+'lLoad'](_0x233124,_0x3246b9,_0xae175){this['_meshInsta'+'nces'][_0x233124]&&(this['_meshInsta'+'nces'][_0x233124]['material']=_0xae175['resource']),this['_updateMai'+'nMaterial'](_0x233124,_0xae175['resource']);}['_onMateria'+'lRemove'](_0x26610e,_0x4e4332,_0x1898e1){this['_meshInsta'+'nces'][_0x26610e]&&(this['_meshInsta'+'nces'][_0x26610e]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x26610e,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x8dc567,_0xbf2f57,_0x6805e1){this['_meshInsta'+'nces'][_0x8dc567]&&(this['_meshInsta'+'nces'][_0x8dc567]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x8dc567,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x559809,_0x2f4640){_0x559809['rootBone']&&(this['rootBone']=_0x2f4640[_0x559809['rootBone']['getGuid']()]);}}class BO{constructor(){this['enabled']=!(-0x1b*0x159+-0x188*0x10+0x3ce3);}}const ku=['enabled'],Gr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class zO extends ct{constructor(_0x5f2618){super(_0x5f2618),this['id']='render',this['ComponentT'+'ype']=n0,this['DataType']=BO,this['schema']=ku,this['defaultMat'+'erial']=Qn(_0x5f2618['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x16e57f,_0x534178,_0x30dbd1){(_0x534178['batchGroup'+'Id']===null||_0x534178['batchGroup'+'Id']===void(0x10*0x113+-0xba2+-0x9*0x9e))&&(_0x534178['batchGroup'+'Id']=-(0x47*0x85+0x69b+-0x2b7d)),_0x534178['layers']&&_0x534178['layers']['length']&&(_0x534178['layers']=_0x534178['layers']['slice'](0x20ab+0x1*-0x1b7d+-0x52e));for(let _0x4bd7b9=0x833+-0x13e1+0xbae;_0x4bd7b9<Gr['length'];_0x4bd7b9++)_0x534178['hasOwnProp'+'erty'](Gr[_0x4bd7b9])&&(_0x16e57f[Gr[_0x4bd7b9]]=_0x534178[Gr[_0x4bd7b9]]);_0x534178['aabbCenter']&&_0x534178['aabbHalfEx'+'tents']&&(_0x16e57f['customAabb']=new De(new D(_0x534178['aabbCenter']),new D(_0x534178['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x16e57f,_0x534178,ku);}['cloneCompo'+'nent'](_0x427b1f,_0x49d25f){const _0x1783d7={};for(let _0x37d061=-0x3*-0xa37+0x2*0x91f+-0x30e3;_0x37d061<Gr['length'];_0x37d061++)_0x1783d7[Gr[_0x37d061]]=_0x427b1f['render'][Gr[_0x37d061]];_0x1783d7['enabled']=_0x427b1f['render']['enabled'],delete _0x1783d7['meshInstan'+'ces'];const _0x1126b3=this['addCompone'+'nt'](_0x49d25f,_0x1783d7),_0x30ec61=_0x427b1f['render']['meshInstan'+'ces'],_0x1bc8db=_0x30ec61['map'](_0x40bd25=>_0x40bd25['mesh']);_0x1126b3['_onSetMesh'+'es'](_0x1bc8db);for(let _0xabea0e=0x17b6+0x16b2*0x1+0x7bc*-0x6;_0xabea0e<_0x30ec61['length'];_0xabea0e++)_0x1126b3['meshInstan'+'ces'][_0xabea0e]['material']=_0x30ec61[_0xabea0e]['material'];return _0x427b1f['render']['customAabb']&&(_0x1126b3['customAabb']=_0x427b1f['render']['customAabb']['clone']()),_0x1126b3;}['onRemove'](_0x2f5788,_0x526fec){_0x526fec['onRemove']();}}we['_buildAcce'+'ssors'](n0['prototype'],ku);class bf{constructor(_0x12fa5b,_0x1fead5){h(this,'_construct'+'or'),h(this,'_pool',[]),h(this,'_count',0x2258+-0x20b3+-0x1a5),(this['_construct'+'or']=_0x12fa5b,this['_resize'](_0x1fead5));}['_resize'](_0x3ee439){if(_0x3ee439>this['_pool']['length']){for(let _0x35d729=this['_pool']['length'];_0x35d729<_0x3ee439;_0x35d729++)this['_pool'][_0x35d729]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(0x103e+-0x6b3+0x989*-0x1)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=-0x1d33+0x1cd6+-0x3*-0x1f;}}let cs,Re,Bs,Ka;const VO=new le(),GO=new le(),Pc=new D();class bs extends we{constructor(){super(...arguments),h(this,'_angularDa'+'mping',0x17e5+0x266f+0x2*-0x1f2a),h(this,'_angularFa'+'ctor',new D(-0x1fc9+-0x25b9+0x1*0x4583,-0x18*-0xc5+0x166e+-0x28e5,-0x1cc6+0x2*0x70e+0xeab)),h(this,'_angularVe'+'locity',new D()),h(this,'_body',null),h(this,'_friction',0xafd+-0x17f2+-0x1*-0xcf5+0.5),h(this,'_group',Gg),h(this,'_linearDam'+'ping',-0x24da+-0xb*0x185+0x3591),h(this,'_linearFac'+'tor',new D(-0x340*0xa+0x29*0xef+-0x5c6,0x10d*0x25+0x48c*-0x1+-0x2254,0xf*-0x15b+0xa*0x3b9+0x2f*-0x5c)),h(this,'_linearVel'+'ocity',new D()),h(this,'_mask',Mu),h(this,'_mass',0xd00+-0x37d+-0x982),h(this,'_restituti'+'on',-0x11ea+0x7*-0x323+0x27df*0x1),h(this,'_rollingFr'+'iction',0x2b*-0x83+-0xd46+-0x1*-0x2347),h(this,'_simulatio'+'nEnabled',!(0x2406+-0x16d6+-0xd2f)),h(this,'_type',yo);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(cs=new Ammo['btTransfor'+'m'](),Re=new Ammo['btVector3'](),Bs=new Ammo['btVector3'](),Ka=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](cs),Ammo['destroy'](Re),Ammo['destroy'](Bs),Ammo['destroy'](Ka),cs=null,Re=null,Bs=null,Ka=null;}set['angularDam'+'ping'](_0x1e2f28){this['_angularDa'+'mping']!==_0x1e2f28&&(this['_angularDa'+'mping']=_0x1e2f28,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x1e2f28));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x2ddb22){this['_angularFa'+'ctor']['equals'](_0x2ddb22)||(this['_angularFa'+'ctor']['copy'](_0x2ddb22),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x2ddb22['x'],_0x2ddb22['y'],_0x2ddb22['z']),this['_body']['setAngular'+'Factor'](Re)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x2c344c){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x2c344c['x'],_0x2c344c['y'],_0x2c344c['z']),this['_body']['setAngular'+'Velocity'](Re),this['_angularVe'+'locity']['copy'](_0x2c344c));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ks){const _0xf14878=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0xf14878['x'](),_0xf14878['y'](),_0xf14878['z']());}return this['_angularVe'+'locity'];}set['body'](_0x59640c){this['_body']!==_0x59640c&&(this['_body']=_0x59640c,_0x59640c&&this['_simulatio'+'nEnabled']&&_0x59640c['activate']());}get['body'](){return this['_body'];}set['friction'](_0x5b33a5){this['_friction']!==_0x5b33a5&&(this['_friction']=_0x5b33a5,this['_body']&&this['_body']['setFrictio'+'n'](_0x5b33a5));}get['friction'](){return this['_friction'];}set['group'](_0x1fd4bb){this['_group']!==_0x1fd4bb&&(this['_group']=_0x1fd4bb,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x1b42ba){this['_linearDam'+'ping']!==_0x1b42ba&&(this['_linearDam'+'ping']=_0x1b42ba,this['_body']&&this['_body']['setDamping'](_0x1b42ba,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0xe978be){this['_linearFac'+'tor']['equals'](_0xe978be)||(this['_linearFac'+'tor']['copy'](_0xe978be),this['_body']&&this['_type']===ks&&(Re['setValue'](_0xe978be['x'],_0xe978be['y'],_0xe978be['z']),this['_body']['setLinearF'+'actor'](Re)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x23686e){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x23686e['x'],_0x23686e['y'],_0x23686e['z']),this['_body']['setLinearV'+'elocity'](Re),this['_linearVel'+'ocity']['copy'](_0x23686e));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ks){const _0x30235f=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x30235f['x'](),_0x30235f['y'](),_0x30235f['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x30b6fd){this['_mask']!==_0x30b6fd&&(this['_mask']=_0x30b6fd,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x555da0){if(this['_mass']!==_0x555da0&&(this['_mass']=_0x555da0,this['_body']&&this['_type']===ks)){const _0x3581c6=this['enabled']&&this['entity']['enabled'];_0x3581c6&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x555da0,Re),this['_body']['setMassPro'+'ps'](_0x555da0,Re),this['_body']['updateIner'+'tiaTensor'](),_0x3581c6&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x24043c){this['_restituti'+'on']!==_0x24043c&&(this['_restituti'+'on']=_0x24043c,this['_body']&&this['_body']['setRestitu'+'tion'](_0x24043c));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x2d3767){this['_rollingFr'+'iction']!==_0x2d3767&&(this['_rollingFr'+'iction']=_0x2d3767,this['_body']&&this['_body']['setRolling'+'Friction'](_0x2d3767));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x290823){if(this['_type']!==_0x290823){switch(this['_type']=_0x290823,this['disableSim'+'ulation'](),_0x290823){case ks:this['_group']=jL,this['_mask']=Wg;break;case Ha:this['_group']=YL,this['_mask']=Wg;break;case yo:default:this['_group']=Gg,this['_mask']=Mu;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x5f5c7e=this['entity'];let _0x343109;if(_0x5f5c7e['collision']&&(_0x343109=_0x5f5c7e['collision']['shape'],_0x5f5c7e['trigger']&&(_0x5f5c7e['trigger']['destroy'](),delete _0x5f5c7e['trigger'])),_0x343109){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x244197=this['_type']===ks?this['_mass']:0x25a1+0x8d*-0x2b+-0x2a*0x55;this['_getEntity'+'Transform'](cs);const _0x5bddac=this['system']['createBody'](_0x244197,_0x343109,cs);if(_0x5bddac['setRestitu'+'tion'](this['_restituti'+'on']),_0x5bddac['setFrictio'+'n'](this['_friction']),_0x5bddac['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x5bddac['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ks){const _0x15dee2=this['_linearFac'+'tor'];Re['setValue'](_0x15dee2['x'],_0x15dee2['y'],_0x15dee2['z']),_0x5bddac['setLinearF'+'actor'](Re);const _0x50b8f1=this['_angularFa'+'ctor'];Re['setValue'](_0x50b8f1['x'],_0x50b8f1['y'],_0x50b8f1['z']),_0x5bddac['setAngular'+'Factor'](Re);}else this['_type']===Ha&&(_0x5bddac['setCollisi'+'onFlags'](_0x5bddac['getCollisi'+'onFlags']()|qL),_0x5bddac['setActivat'+'ionState'](Vg));_0x5bddac['entity']=_0x5f5c7e,this['body']=_0x5bddac,this['enabled']&&_0x5f5c7e['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(0x3*-0x5c6+0xf7*0xd+0x4c8);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0xeea00=this['entity'];if(_0xeea00['collision']&&_0xeea00['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x114fd5=this['_body'];if(_0x114fd5){switch(this['system']['addBody'](_0x114fd5,this['_group'],this['_mask']),this['_type']){case ks:this['system']['_dynamic']['push'](this),_0x114fd5['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;case Ha:this['system']['_kinematic']['push'](this),_0x114fd5['forceActiv'+'ationState'](Vg);break;case yo:_0x114fd5['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;}_0xeea00['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0xeea00['collision']),_0x114fd5['activate'](),this['_simulatio'+'nEnabled']=!(-0x1a6a+0x3*0x4e2+0xbc4);}}}['disableSim'+'ulation'](){const _0x2580c7=this['_body'];if(_0x2580c7&&this['_simulatio'+'nEnabled']){const _0x26fcb6=this['system'];let _0x55b914=_0x26fcb6['_compounds']['indexOf'](this['entity']['collision']);_0x55b914>-(-0x751+0x21b8+0xd33*-0x2)&&_0x26fcb6['_compounds']['splice'](_0x55b914,-0x2349+-0x7fe+0x2b48),_0x55b914=_0x26fcb6['_dynamic']['indexOf'](this),_0x55b914>-(-0x59*0x25+-0x1*-0x116+-0xbc8*-0x1)&&_0x26fcb6['_dynamic']['splice'](_0x55b914,0x2493+-0x43*-0x19+-0x2b1d),_0x55b914=_0x26fcb6['_kinematic']['indexOf'](this),_0x55b914>-(-0x19a+0x1601+-0xe*0x175)&&_0x26fcb6['_kinematic']['splice'](_0x55b914,0x1bcd*-0x1+-0xe92+0x2a60),_0x26fcb6['removeBody'](_0x2580c7),_0x2580c7['forceActiv'+'ationState'](Yv),this['_simulatio'+'nEnabled']=!(0x1a*-0xc6+0x11*0x4f+0xede);}}['applyForce'](_0x4d4352,_0x3bb536,_0x1243e1,_0x208971,_0x2f12b0,_0x4dce35){const _0x426119=this['_body'];_0x426119&&(_0x426119['activate'](),_0x4d4352 instanceof D?Re['setValue'](_0x4d4352['x'],_0x4d4352['y'],_0x4d4352['z']):Re['setValue'](_0x4d4352,_0x3bb536,_0x1243e1),_0x3bb536 instanceof D?Bs['setValue'](_0x3bb536['x'],_0x3bb536['y'],_0x3bb536['z']):_0x208971!==void(0x1c26+-0x1462+-0x7c4)?Bs['setValue'](_0x208971,_0x2f12b0,_0x4dce35):Bs['setValue'](-0x6*0x45d+-0x18*0x13a+0x7e*0x71,-0xa78*-0x3+-0x2485+0x51d,0x11*0x1cd+0x1*0xfc1+-0x2e5e),_0x426119['applyForce'](Re,Bs));}['applyTorqu'+'e'](_0x1cc4de,_0x426b18,_0x39fada){const _0x26e916=this['_body'];_0x26e916&&(_0x26e916['activate'](),_0x1cc4de instanceof D?Re['setValue'](_0x1cc4de['x'],_0x1cc4de['y'],_0x1cc4de['z']):Re['setValue'](_0x1cc4de,_0x426b18,_0x39fada),_0x26e916['applyTorqu'+'e'](Re));}['applyImpul'+'se'](_0x5aea44,_0x19b01c,_0xf4d154,_0x4490ac,_0x3a685e,_0x107308){const _0x5459e9=this['_body'];_0x5459e9&&(_0x5459e9['activate'](),_0x5aea44 instanceof D?Re['setValue'](_0x5aea44['x'],_0x5aea44['y'],_0x5aea44['z']):Re['setValue'](_0x5aea44,_0x19b01c,_0xf4d154),_0x19b01c instanceof D?Bs['setValue'](_0x19b01c['x'],_0x19b01c['y'],_0x19b01c['z']):_0x4490ac!==void(-0xa*0x308+0x24ad+-0x65d)?Bs['setValue'](_0x4490ac,_0x3a685e,_0x107308):Bs['setValue'](0x1f42+0x1*-0x1fb+-0x1d47,-0x4c1*-0x3+-0x148+-0xcfb,-0x30*-0xbf+0x1a2d+0x3dfd*-0x1),_0x5459e9['applyImpul'+'se'](Re,Bs));}['applyTorqu'+'eImpulse'](_0x25dd1c,_0x3941e7,_0x1b2af3){const _0x19302b=this['_body'];_0x19302b&&(_0x19302b['activate'](),_0x25dd1c instanceof D?Re['setValue'](_0x25dd1c['x'],_0x25dd1c['y'],_0x25dd1c['z']):Re['setValue'](_0x25dd1c,_0x3941e7,_0x1b2af3),_0x19302b['applyTorqu'+'eImpulse'](Re));}['isStatic'](){return this['_type']===yo;}['isStaticOr'+'Kinematic'](){return this['_type']===yo||this['_type']===Ha;}['isKinemati'+'c'](){return this['_type']===Ha;}['_getEntity'+'Transform'](_0x4e640a){const _0x446528=this['entity'],_0x1ac7b3=_0x446528['collision'];if(_0x1ac7b3){const _0x35e74f=_0x1ac7b3['getShapePo'+'sition'](),_0x9ba673=_0x1ac7b3['getShapeRo'+'tation']();Re['setValue'](_0x35e74f['x'],_0x35e74f['y'],_0x35e74f['z']),Ka['setValue'](_0x9ba673['x'],_0x9ba673['y'],_0x9ba673['z'],_0x9ba673['w']);}else{const _0x2ba4af=_0x446528['getPositio'+'n'](),_0x3bcaeb=_0x446528['getRotatio'+'n']();Re['setValue'](_0x2ba4af['x'],_0x2ba4af['y'],_0x2ba4af['z']),Ka['setValue'](_0x3bcaeb['x'],_0x3bcaeb['y'],_0x3bcaeb['z'],_0x3bcaeb['w']);}_0x4e640a['setOrigin'](Re),_0x4e640a['setRotatio'+'n'](Ka);}['syncEntity'+'ToBody'](){const _0x2b236b=this['_body'];if(_0x2b236b){if(this['_getEntity'+'Transform'](cs),_0x2b236b['setWorldTr'+'ansform'](cs),this['_type']===Ha){const _0x50e3d0=_0x2b236b['getMotionS'+'tate']();_0x50e3d0&&_0x50e3d0['setWorldTr'+'ansform'](cs);}_0x2b236b['activate']();}}['_updateDyn'+'amic'](){const _0x36c7f6=this['_body'];if(_0x36c7f6['isActive']()){const _0x4d2a52=_0x36c7f6['getMotionS'+'tate']();if(_0x4d2a52){const _0x551cd1=this['entity'];_0x4d2a52['getWorldTr'+'ansform'](cs);const _0x168973=cs['getOrigin'](),_0x3dd527=cs['getRotatio'+'n'](),_0x1de0bb=_0x551cd1['collision'];if(_0x1de0bb&&_0x1de0bb['_hasOffset']){const _0x2108b9=_0x1de0bb['data']['linearOffs'+'et'],_0x53fa47=_0x1de0bb['data']['angularOff'+'set'],_0x1d4ee4=GO['copy'](_0x53fa47)['invert'](),_0x17e48f=VO['set'](_0x3dd527['x'](),_0x3dd527['y'](),_0x3dd527['z'](),_0x3dd527['w']())['mul'](_0x1d4ee4);_0x17e48f['transformV'+'ector'](_0x2108b9,Pc),_0x551cd1['setPositio'+'n'](_0x168973['x']()-Pc['x'],_0x168973['y']()-Pc['y'],_0x168973['z']()-Pc['z']),_0x551cd1['setRotatio'+'n'](_0x17e48f);}else _0x551cd1['setPositio'+'n'](_0x168973['x'](),_0x168973['y'](),_0x168973['z']()),_0x551cd1['setRotatio'+'n'](_0x3dd527['x'](),_0x3dd527['y'](),_0x3dd527['z'](),_0x3dd527['w']());}}}['_updateKin'+'ematic'](){const _0xf57b9d=this['_body']['getMotionS'+'tate']();_0xf57b9d&&(this['_getEntity'+'Transform'](cs),_0xf57b9d['setWorldTr'+'ansform'](cs));}['teleport'](_0x92a2d8,_0x3de0eb,_0x280e2a,_0x3d91ad,_0x4fe407,_0x420193){_0x92a2d8 instanceof D?this['entity']['setPositio'+'n'](_0x92a2d8):this['entity']['setPositio'+'n'](_0x92a2d8,_0x3de0eb,_0x280e2a),_0x3de0eb instanceof le?this['entity']['setRotatio'+'n'](_0x3de0eb):_0x3de0eb instanceof D?this['entity']['setEulerAn'+'gles'](_0x3de0eb):_0x3d91ad!==void(0x2445+0x11bf+-0x1*0x3604)&&this['entity']['setEulerAn'+'gles'](_0x3d91ad,_0x4fe407,_0x420193),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}h(bs,'EVENT_CONT'+'ACT','contact'),h(bs,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(bs,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(bs,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(bs,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),h(bs,'order',-(-0x1e07*0x1+-0x1*-0x3ef+0x1a19));class HO{constructor(){this['enabled']=!(-0x1a6e+0x15ac+0x4c2);}}let Mi,Di;class eS{constructor(_0x775321,_0x15bf8c,_0x3f0f90,_0x1657a5){h(this,'entity'),h(this,'point'),h(this,'normal'),h(this,'hitFractio'+'n'),(this['entity']=_0x775321,this['point']=_0x15bf8c,this['normal']=_0x3f0f90,this['hitFractio'+'n']=_0x1657a5);}}class WO{constructor(_0x2986fd,_0x31e8a7,_0x94aa21){h(this,'a'),h(this,'b'),h(this,'impulse'),h(this,'localPoint'+'A'),h(this,'localPoint'+'B'),h(this,'pointA'),h(this,'pointB'),h(this,'normal'),arguments['length']!==-0x1162+0x239a+0x2c*-0x6a?(this['a']=_0x2986fd,this['b']=_0x31e8a7,this['impulse']=_0x94aa21['impulse'],this['localPoint'+'A']=_0x94aa21['localPoint'],this['localPoint'+'B']=_0x94aa21['localPoint'+'Other'],this['pointA']=_0x94aa21['point'],this['pointB']=_0x94aa21['pointOther'],this['normal']=_0x94aa21['normal']):(this['a']=null,this['b']=null,this['impulse']=0x229+0xd09+-0xf32*0x1,this['localPoint'+'A']=new D(),this['localPoint'+'B']=new D(),this['pointA']=new D(),this['pointB']=new D(),this['normal']=new D());}}class $O{constructor(_0x21854c=new D(),_0x20a043=new D(),_0x20bcc0=new D(),_0x440b35=new D(),_0x424510=new D(),_0x26b20c=0x7e3*-0x1+-0x1be4+0x81*0x47){h(this,'localPoint'),h(this,'localPoint'+'Other'),h(this,'point'),h(this,'pointOther'),h(this,'normal'),h(this,'impulse'),(this['localPoint']=_0x21854c,this['localPoint'+'Other']=_0x20a043,this['point']=_0x20bcc0,this['pointOther']=_0x440b35,this['normal']=_0x424510,this['impulse']=_0x26b20c);}}class XO{constructor(_0x1b1a90,_0x420c4f){h(this,'other'),h(this,'contacts'),(this['other']=_0x1b1a90,this['contacts']=_0x420c4f);}}const o0=['enabled'];class wm extends ct{constructor(_0x13d152){super(_0x13d152),h(this,'maxSubStep'+'s',0x1*-0x101+0x13fc+-0x12f1),h(this,'fixedTimeS'+'tep',(0x1ad2+0xfbb+0xaa3*-0x4)/(0x2592+0x74b*0x4+0x2141*-0x2)),h(this,'gravity',new D(0x1*0x164f+-0x1*0x163b+-0x5*0x4,-(-0x85*-0x12+-0x1961+0x808*0x2+0.8100000000000005),0x1*0x3e6+0x1a20+0x1e06*-0x1)),h(this,'_gravityFl'+'oat32',new Float32Array(0x200*0xa+-0x4eb+-0xf12)),h(this,'_dynamic',[]),h(this,'_kinematic',[]),h(this,'_triggers',[]),h(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x13d152['stats']['frame'],this['ComponentT'+'ype']=bs,this['DataType']=HO,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=o0,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x45f916=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x45f916);}else w['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');Mi=new Ammo['btVector3'](),Di=new Ammo['btVector3'](),bs['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new bf($O,0x10c3+-0x3a8+-0x2b*0x4e),this['contactRes'+'ultPool']=new bf(XO,0x1*-0x162+-0xd5d*0x2+-0x3*-0x95f),this['singleCont'+'actResultP'+'ool']=new bf(WO,-0x6b+-0x1e0d+0x10d*0x1d),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0xf1a01b,_0x5e4731,_0x5608b4){const _0x459333=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x511676 of _0x459333)if(_0x5e4731['hasOwnProp'+'erty'](_0x511676)){const _0x2af336=_0x5e4731[_0x511676];Array['isArray'](_0x2af336)?_0xf1a01b[_0x511676]=new D(_0x2af336[0xc9f+0x136*-0xa+-0x1*0x83],_0x2af336[-0x22d*-0x7+0x1294+-0x21ce],_0x2af336[0x1*-0x549+-0x42d*0x3+0x8e9*0x2]):_0xf1a01b[_0x511676]=_0x2af336;}super['initialize'+'ComponentD'+'ata'](_0xf1a01b,_0x5e4731,['enabled']);}['cloneCompo'+'nent'](_0x1c5cef,_0x5bf99a){const _0x59c81e=_0x1c5cef['rigidbody'],_0x259e13={'enabled':_0x59c81e['enabled'],'mass':_0x59c81e['mass'],'linearDamping':_0x59c81e['linearDamp'+'ing'],'angularDamping':_0x59c81e['angularDam'+'ping'],'linearFactor':[_0x59c81e['linearFact'+'or']['x'],_0x59c81e['linearFact'+'or']['y'],_0x59c81e['linearFact'+'or']['z']],'angularFactor':[_0x59c81e['angularFac'+'tor']['x'],_0x59c81e['angularFac'+'tor']['y'],_0x59c81e['angularFac'+'tor']['z']],'friction':_0x59c81e['friction'],'rollingFriction':_0x59c81e['rollingFri'+'ction'],'restitution':_0x59c81e['restitutio'+'n'],'type':_0x59c81e['type'],'group':_0x59c81e['group'],'mask':_0x59c81e['mask']};return this['addCompone'+'nt'](_0x5bf99a,_0x259e13);}['onBeforeRe'+'move'](_0x102c9b,_0x58d78d){_0x58d78d['enabled']&&(_0x58d78d['enabled']=!(-0x4*0x25+-0x1a2f*0x1+0x1ac4)),_0x58d78d['body']&&(this['destroyBod'+'y'](_0x58d78d['body']),_0x58d78d['body']=null);}['addBody'](_0x183e34,_0x1f8a25,_0x335e20){_0x1f8a25!==void(0x162e+-0x121d+-0x411)&&_0x335e20!==void(0x172+-0x9c7+0x855)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x183e34,_0x1f8a25,_0x335e20):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x183e34);}['removeBody'](_0x22864b){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x22864b);}['createBody'](_0x1cecad,_0x3a2714,_0x40f58a){const _0x3866fc=new Ammo['btVector3'](-0xc61*0x3+0xf0f+0x1614,0xaa8+0x1b2f+-0x25d7,0xf1d+-0xab0+-0x46d);_0x1cecad!==-0x15eb+-0x1*-0x11ab+0x2*0x220&&_0x3a2714['calculateL'+'ocalInerti'+'a'](_0x1cecad,_0x3866fc);const _0x223b3d=new Ammo['btDefaultM'+'otionState'](_0x40f58a),_0x2bfe5f=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x1cecad,_0x223b3d,_0x3a2714,_0x3866fc),_0x1eb79c=new Ammo['btRigidBod'+'y'](_0x2bfe5f);return Ammo['destroy'](_0x2bfe5f),Ammo['destroy'](_0x3866fc),_0x1eb79c;}['destroyBod'+'y'](_0x224993){const _0x2189c7=_0x224993['getMotionS'+'tate']();_0x2189c7&&Ammo['destroy'](_0x2189c7),Ammo['destroy'](_0x224993);}['raycastFir'+'st'](_0x5e17fb,_0x1b8ea8,_0xd19a4c={}){if(_0xd19a4c['filterTags']||_0xd19a4c['filterCall'+'back'])return _0xd19a4c['sort']=!(0x918+0x1048+0x3a0*-0x7),this['raycastAll'](_0x5e17fb,_0x1b8ea8,_0xd19a4c)[0xe92*-0x2+0x106*0x5+-0x19a*-0xf]||null;let _0x5e5388=null;Mi['setValue'](_0x5e17fb['x'],_0x5e17fb['y'],_0x5e17fb['z']),Di['setValue'](_0x1b8ea8['x'],_0x1b8ea8['y'],_0x1b8ea8['z']);const _0x30cf1c=new Ammo['ClosestRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0xd19a4c['filterColl'+'isionGroup']=='number'&&_0x30cf1c['set_m_coll'+'isionFilte'+'rGroup'](_0xd19a4c['filterColl'+'isionGroup']),typeof _0xd19a4c['filterColl'+'isionMask']=='number'&&_0x30cf1c['set_m_coll'+'isionFilte'+'rMask'](_0xd19a4c['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x30cf1c),_0x30cf1c['hasHit']()){const _0x1661f8=_0x30cf1c['get_m_coll'+'isionObjec'+'t'](),_0x46bf9a=Ammo['castObject'](_0x1661f8,Ammo['btRigidBod'+'y']);if(_0x46bf9a){const _0x42ebe1=_0x30cf1c['get_m_hitP'+'ointWorld'](),_0x4bb134=_0x30cf1c['get_m_hitN'+'ormalWorld']();_0x5e5388=new eS(_0x46bf9a['entity'],new D(_0x42ebe1['x'](),_0x42ebe1['y'](),_0x42ebe1['z']()),new D(_0x4bb134['x'](),_0x4bb134['y'](),_0x4bb134['z']()),_0x30cf1c['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x30cf1c),_0x5e5388;}['raycastAll'](_0x3f61f9,_0x5eaea1,_0x2e577e={}){w['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x21f492=[];Mi['setValue'](_0x3f61f9['x'],_0x3f61f9['y'],_0x3f61f9['z']),Di['setValue'](_0x5eaea1['x'],_0x5eaea1['y'],_0x5eaea1['z']);const _0x34fcac=new Ammo['AllHitsRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x2e577e['filterColl'+'isionGroup']=='number'&&_0x34fcac['set_m_coll'+'isionFilte'+'rGroup'](_0x2e577e['filterColl'+'isionGroup']),typeof _0x2e577e['filterColl'+'isionMask']=='number'&&_0x34fcac['set_m_coll'+'isionFilte'+'rMask'](_0x2e577e['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x34fcac),_0x34fcac['hasHit']()){const _0x52f0ec=_0x34fcac['get_m_coll'+'isionObjec'+'ts'](),_0x530761=_0x34fcac['get_m_hitP'+'ointWorld'](),_0x205a3e=_0x34fcac['get_m_hitN'+'ormalWorld'](),_0x5a2266=_0x34fcac['get_m_hitF'+'ractions'](),_0x233694=_0x52f0ec['size']();for(let _0x58c7fd=-0x18*-0xe5+0xb0e+-0x2086;_0x58c7fd<_0x233694;_0x58c7fd++){const _0x278d76=Ammo['castObject'](_0x52f0ec['at'](_0x58c7fd),Ammo['btRigidBod'+'y']);if(_0x278d76&&_0x278d76['entity']){if(_0x2e577e['filterTags']&&!_0x278d76['entity']['tags']['has'](..._0x2e577e['filterTags'])||_0x2e577e['filterCall'+'back']&&!_0x2e577e['filterCall'+'back'](_0x278d76['entity']))continue;const _0x172fc6=_0x530761['at'](_0x58c7fd),_0x4770a5=_0x205a3e['at'](_0x58c7fd),_0x20f7c5=new eS(_0x278d76['entity'],new D(_0x172fc6['x'](),_0x172fc6['y'](),_0x172fc6['z']()),new D(_0x4770a5['x'](),_0x4770a5['y'](),_0x4770a5['z']()),_0x5a2266['at'](_0x58c7fd));_0x21f492['push'](_0x20f7c5);}}_0x2e577e['sort']&&_0x21f492['sort']((_0x3928e5,_0x1d752d)=>_0x3928e5['hitFractio'+'n']-_0x1d752d['hitFractio'+'n']);}return Ammo['destroy'](_0x34fcac),_0x21f492;}['_storeColl'+'ision'](_0x4cafad,_0x40d357){let _0x549847=!(0x1a*-0xd+-0x107*-0x4+-0x2c9);const _0x57fc3e=_0x4cafad['getGuid']();return this['collisions'][_0x57fc3e]=this['collisions'][_0x57fc3e]||{'others':[],'entity':_0x4cafad},this['collisions'][_0x57fc3e]['others']['indexOf'](_0x40d357)<0xe67+-0x554+0x65*-0x17&&(this['collisions'][_0x57fc3e]['others']['push'](_0x40d357),_0x549847=!(-0x3*-0x15b+-0x6ad*-0x2+0x1*-0x116b)),this['frameColli'+'sions'][_0x57fc3e]=this['frameColli'+'sions'][_0x57fc3e]||{'others':[],'entity':_0x4cafad},this['frameColli'+'sions'][_0x57fc3e]['others']['push'](_0x40d357),_0x549847;}['_createCon'+'tactPointF'+'romAmmo'](_0x42ad73){const _0x4a51d6=_0x42ad73['get_m_loca'+'lPointA'](),_0x26b431=_0x42ad73['get_m_loca'+'lPointB'](),_0x52c6ff=_0x42ad73['getPositio'+'nWorldOnA'](),_0x652196=_0x42ad73['getPositio'+'nWorldOnB'](),_0x38bd0a=_0x42ad73['get_m_norm'+'alWorldOnB'](),_0x1bea13=this['contactPoi'+'ntPool']['allocate']();return _0x1bea13['localPoint']['set'](_0x4a51d6['x'](),_0x4a51d6['y'](),_0x4a51d6['z']()),_0x1bea13['localPoint'+'Other']['set'](_0x26b431['x'](),_0x26b431['y'](),_0x26b431['z']()),_0x1bea13['point']['set'](_0x52c6ff['x'](),_0x52c6ff['y'](),_0x52c6ff['z']()),_0x1bea13['pointOther']['set'](_0x652196['x'](),_0x652196['y'](),_0x652196['z']()),_0x1bea13['normal']['set'](_0x38bd0a['x'](),_0x38bd0a['y'](),_0x38bd0a['z']()),_0x1bea13['impulse']=_0x42ad73['getApplied'+'Impulse'](),_0x1bea13;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0xd3539d){const _0x4e36cb=_0xd3539d['get_m_loca'+'lPointA'](),_0x15af38=_0xd3539d['get_m_loca'+'lPointB'](),_0x3c7de8=_0xd3539d['getPositio'+'nWorldOnA'](),_0x14a553=_0xd3539d['getPositio'+'nWorldOnB'](),_0x35d7d6=_0xd3539d['get_m_norm'+'alWorldOnB'](),_0x5146e5=this['contactPoi'+'ntPool']['allocate']();return _0x5146e5['localPoint'+'Other']['set'](_0x4e36cb['x'](),_0x4e36cb['y'](),_0x4e36cb['z']()),_0x5146e5['localPoint']['set'](_0x15af38['x'](),_0x15af38['y'](),_0x15af38['z']()),_0x5146e5['pointOther']['set'](_0x3c7de8['x'](),_0x3c7de8['y'](),_0x3c7de8['z']()),_0x5146e5['point']['set'](_0x14a553['x'](),_0x14a553['y'](),_0x14a553['z']()),_0x5146e5['normal']['set'](_0x35d7d6['x'](),_0x35d7d6['y'](),_0x35d7d6['z']()),_0x5146e5['impulse']=_0xd3539d['getApplied'+'Impulse'](),_0x5146e5;}['_createSin'+'gleContact'+'Result'](_0x544083,_0x4ea101,_0x2c56b8){const _0x3425ff=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x3425ff['a']=_0x544083,_0x3425ff['b']=_0x4ea101,_0x3425ff['localPoint'+'A']=_0x2c56b8['localPoint'],_0x3425ff['localPoint'+'B']=_0x2c56b8['localPoint'+'Other'],_0x3425ff['pointA']=_0x2c56b8['point'],_0x3425ff['pointB']=_0x2c56b8['pointOther'],_0x3425ff['normal']=_0x2c56b8['normal'],_0x3425ff['impulse']=_0x2c56b8['impulse'],_0x3425ff;}['_createCon'+'tactResult'](_0x57f1d2,_0x9752cd){const _0x56e27d=this['contactRes'+'ultPool']['allocate']();return _0x56e27d['other']=_0x57f1d2,_0x56e27d['contacts']=_0x9752cd,_0x56e27d;}['_cleanOldC'+'ollisions'](){for(const _0x1e51a4 in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x1e51a4)){const _0x230751=this['frameColli'+'sions'][_0x1e51a4],_0x5c1d48=this['collisions'][_0x1e51a4],_0x49b1f5=_0x5c1d48['entity'],_0x34aff5=_0x49b1f5['collision'],_0x508ea2=_0x49b1f5['rigidbody'],_0x2ede30=_0x5c1d48['others'];let _0xb610c5=_0x2ede30['length'];for(;_0xb610c5--;){const _0x1fd15d=_0x2ede30[_0xb610c5];(!_0x230751||_0x230751['others']['indexOf'](_0x1fd15d)<0x1*0x19b1+0x12*0x17a+-0x1*0x3445)&&(_0x2ede30['splice'](_0xb610c5,-0xcea+0x2*0x766+-0x1e1),_0x49b1f5['trigger']?(_0x34aff5&&_0x34aff5['fire']('triggerlea'+'ve',_0x1fd15d),_0x1fd15d['rigidbody']&&_0x1fd15d['rigidbody']['fire']('triggerlea'+'ve',_0x49b1f5)):_0x1fd15d['trigger']||(_0x508ea2&&_0x508ea2['fire']('collisione'+'nd',_0x1fd15d),_0x34aff5&&_0x34aff5['fire']('collisione'+'nd',_0x1fd15d)));}_0x2ede30['length']===0x12d7+-0x3*0x765+0x358&&delete this['collisions'][_0x1e51a4];}}['_hasContac'+'tEvent'](_0x32594c){const _0x439afa=_0x32594c['collision'];if(_0x439afa&&(_0x439afa['hasEvent']('collisions'+'tart')||_0x439afa['hasEvent']('collisione'+'nd')||_0x439afa['hasEvent']('contact')))return!(0xa3a*0x2+0x1*0x7fb+-0x1c6f);const _0x55ec91=_0x32594c['rigidbody'];return _0x55ec91&&(_0x55ec91['hasEvent']('collisions'+'tart')||_0x55ec91['hasEvent']('collisione'+'nd')||_0x55ec91['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x37f9d3,_0x4a2f41){const _0x1323ed=Ammo['wrapPointe'+'r'](_0x37f9d3,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x2088fa=_0x1323ed['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x24b531=-0x2*0xbe1+-0xb0d+0x22cf;_0x24b531<_0x2088fa;_0x24b531++){const _0x35fd51=_0x1323ed['getManifol'+'dByIndexIn'+'ternal'](_0x24b531),_0x695a25=_0x35fd51['getBody0'](),_0x2704b3=_0x35fd51['getBody1'](),_0x326420=Ammo['castObject'](_0x695a25,Ammo['btRigidBod'+'y']),_0x4d9f12=Ammo['castObject'](_0x2704b3,Ammo['btRigidBod'+'y']),_0x37ba94=_0x326420['entity'],_0x4fb366=_0x4d9f12['entity'];if(!_0x37ba94||!_0x4fb366)continue;const _0x159e63=_0x326420['getCollisi'+'onFlags'](),_0x4fad8e=_0x4d9f12['getCollisi'+'onFlags'](),_0x2ce92b=_0x35fd51['getNumCont'+'acts'](),_0xe425f8=[],_0x11781c=[];let _0x383713;if(_0x2ce92b>0x1bc2*0x1+0x13ff+-0x2fc1){if(_0x159e63&Po||_0x4fad8e&Po){const _0x2d92d3=_0x37ba94['collision']&&(_0x37ba94['collision']['hasEvent']('triggerent'+'er')||_0x37ba94['collision']['hasEvent']('triggerlea'+'ve')),_0x470a33=_0x4fb366['collision']&&(_0x4fb366['collision']['hasEvent']('triggerent'+'er')||_0x4fb366['collision']['hasEvent']('triggerlea'+'ve')),_0x61fea0=_0x37ba94['rigidbody']&&(_0x37ba94['rigidbody']['hasEvent']('triggerent'+'er')||_0x37ba94['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x508f87=_0x4fb366['rigidbody']&&(_0x4fb366['rigidbody']['hasEvent']('triggerent'+'er')||_0x4fb366['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x2d92d3&&(_0x383713=this['_storeColl'+'ision'](_0x37ba94,_0x4fb366),_0x383713&&!(_0x4fad8e&Po)&&_0x37ba94['collision']['fire']('triggerent'+'er',_0x4fb366)),_0x470a33&&(_0x383713=this['_storeColl'+'ision'](_0x4fb366,_0x37ba94),_0x383713&&!(_0x159e63&Po)&&_0x4fb366['collision']['fire']('triggerent'+'er',_0x37ba94)),_0x61fea0&&(_0x383713||(_0x383713=this['_storeColl'+'ision'](_0x4fb366,_0x37ba94)),_0x383713&&_0x37ba94['rigidbody']['fire']('triggerent'+'er',_0x4fb366)),_0x508f87&&(_0x383713||(_0x383713=this['_storeColl'+'ision'](_0x37ba94,_0x4fb366)),_0x383713&&_0x4fb366['rigidbody']['fire']('triggerent'+'er',_0x37ba94));}else{const _0x20d5d5=this['_hasContac'+'tEvent'](_0x37ba94),_0x4140e8=this['_hasContac'+'tEvent'](_0x4fb366),_0x497f19=this['hasEvent']('contact');if(_0x497f19||_0x20d5d5||_0x4140e8){for(let _0x8382e3=-0xb*0x6b+0x831+-0xa*0x5c;_0x8382e3<_0x2ce92b;_0x8382e3++){const _0x4e95f7=_0x35fd51['getContact'+'Point'](_0x8382e3),_0x49f499=this['_createCon'+'tactPointF'+'romAmmo'](_0x4e95f7);if(_0x20d5d5||_0x4140e8){_0xe425f8['push'](_0x49f499);const _0x3998b6=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x4e95f7);_0x11781c['push'](_0x3998b6);}if(_0x497f19){const _0x10438a=this['_createSin'+'gleContact'+'Result'](_0x37ba94,_0x4fb366,_0x49f499);this['fire']('contact',_0x10438a);}}if(_0x20d5d5){const _0x598615=this['_createCon'+'tactResult'](_0x4fb366,_0xe425f8);_0x383713=this['_storeColl'+'ision'](_0x37ba94,_0x4fb366),_0x37ba94['collision']&&(_0x37ba94['collision']['fire']('contact',_0x598615),_0x383713&&_0x37ba94['collision']['fire']('collisions'+'tart',_0x598615)),_0x37ba94['rigidbody']&&(_0x37ba94['rigidbody']['fire']('contact',_0x598615),_0x383713&&_0x37ba94['rigidbody']['fire']('collisions'+'tart',_0x598615));}if(_0x4140e8){const _0x588290=this['_createCon'+'tactResult'](_0x37ba94,_0x11781c);_0x383713=this['_storeColl'+'ision'](_0x4fb366,_0x37ba94),_0x4fb366['collision']&&(_0x4fb366['collision']['fire']('contact',_0x588290),_0x383713&&_0x4fb366['collision']['fire']('collisions'+'tart',_0x588290)),_0x4fb366['rigidbody']&&(_0x4fb366['rigidbody']['fire']('contact',_0x588290),_0x383713&&_0x4fb366['rigidbody']['fire']('collisions'+'tart',_0x588290));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x1bc6b8){let _0x2c81ed,_0x5dd979;this['_stats']['physicsSta'+'rt']=de(),this['_gravityFl'+'oat32'][-0xe2f*-0x1+0x14b5+-0x74*0x4d]=this['gravity']['x'],this['_gravityFl'+'oat32'][-0xf7+-0x130b+0x1*0x1403]=this['gravity']['y'],this['_gravityFl'+'oat32'][-0xa*-0x1eb+0x3*-0x841+0x9*0x9f]=this['gravity']['z'];const _0x3feeeb=this['dynamicsWo'+'rld']['getGravity']();(_0x3feeeb['x']()!==this['_gravityFl'+'oat32'][0x876+0xfdd+-0x1853]||_0x3feeeb['y']()!==this['_gravityFl'+'oat32'][0x12b*-0x1+-0xb4f+0xc7b]||_0x3feeeb['z']()!==this['_gravityFl'+'oat32'][0x2*-0xe6e+-0x1*-0x1d93+-0xb5])&&(_0x3feeeb['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x3feeeb));const _0x48ba97=this['_triggers'];for(_0x2c81ed=0x49*-0xb+-0x419*-0x1+-0x6*0x29,_0x5dd979=_0x48ba97['length'];_0x2c81ed<_0x5dd979;_0x2c81ed++)_0x48ba97[_0x2c81ed]['updateTran'+'sform']();const _0x3719f1=this['_compounds'];for(_0x2c81ed=-0x26d2+0x9a4+0x1d2e,_0x5dd979=_0x3719f1['length'];_0x2c81ed<_0x5dd979;_0x2c81ed++)_0x3719f1[_0x2c81ed]['_updateCom'+'pound']();const _0x1795a4=this['_kinematic'];for(_0x2c81ed=0x1f54+0xf*0x1e7+-0x5*0xbf9,_0x5dd979=_0x1795a4['length'];_0x2c81ed<_0x5dd979;_0x2c81ed++)_0x1795a4[_0x2c81ed]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x1bc6b8,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x1ec81d=this['_dynamic'];for(_0x2c81ed=-0x3fb*0x1+0x3d*0x7a+-0x1917,_0x5dd979=_0x1ec81d['length'];_0x2c81ed<_0x5dd979;_0x2c81ed++)_0x1ec81d[_0x2c81ed]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x1bc6b8),this['_stats']['physicsTim'+'e']=de()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](Mi),Ammo['destroy'](Di),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,Mi=null,Di=null,bs['onAppDestr'+'oy']());}}h(wm,'EVENT_CONT'+'ACT','contact'),we['_buildAcce'+'ssors'](bs['prototype'],o0);const Za='none',qO='blend',tS=new te();class l0 extends we{constructor(_0x425baf,_0x4ce02e){super(_0x425baf,_0x4ce02e),this['_resolutio'+'n']=new J(-0x2*0x36f+0x407*-0x4+0x197a,-0x7*-0x61+0x37b+-0x4e2),this['_reference'+'Resolution']=new J(0x11*0x94+-0xc24+-0x9a*-0x8,-0xbe6+0x1*0xea8+0x182*-0x1),this['_scaleMode']=Za,this['scale']=0x4*-0x4b5+0x3*-0xceb+0x2a*0x15f,this['_scaleBlen'+'d']=-0x51e+-0x1fb*0x3+-0x95*-0x13+0.5,this['_priority']=-0x2*-0x1073+0xa*0x116+-0x2bc2,this['_screenSpa'+'ce']=!(0x1937*0x1+0x14f3+-0x2e29),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new te(),this['_elements']=new Set(),_0x425baf['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x26e0b9,_0x55df30){var _0x1b662c;if(!(_0x26e0b9 instanceof lt))return _0x55df30;if(_0x26e0b9['element']){const _0x305d5c=_0x26e0b9['element']['drawOrder'];_0x26e0b9['element']['drawOrder']=_0x55df30++,_0x26e0b9['element']['_batchGrou'+'pId']>=-0x16cb+-0x11d3+0x3*0xd8a&&_0x305d5c!==_0x26e0b9['element']['drawOrder']&&((_0x1b662c=this['system']['app']['batcher'])==null||_0x1b662c['markGroupD'+'irty'](_0x26e0b9['element']['_batchGrou'+'pId']));}_0x26e0b9['particlesy'+'stem']&&(_0x26e0b9['particlesy'+'stem']['drawOrder']=_0x55df30++);const _0x575522=_0x26e0b9['children'];for(let _0x3edb07=-0x54c+-0x1788+0x1cd4;_0x3edb07<_0x575522['length'];_0x3edb07++)_0x55df30=this['_recurseDr'+'awOrderSyn'+'c'](_0x575522[_0x3edb07],_0x55df30);return _0x55df30;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],-0x1d*0x43+0x20e7+-0x24d*0xb),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x26f5f4=this['_resolutio'+'n']['x']/this['scale'],_0x3aab2b=this['_resolutio'+'n']['y']/this['scale'],_0x503b3d=0x26eb+0x100b+0x15*-0x29e,_0x55f0ce=_0x26f5f4,_0x52334a=-_0x3aab2b;this['_screenMat'+'rix']['setOrtho'](_0x503b3d,_0x55f0ce,_0x52334a,-0x773+-0xfa9+-0xcc*-0x1d,-0x24c0+0x6cf*0x3+0x1054,-(0x3*0xa58+0x14cf+-0x33d6*0x1)),this['_screenSpa'+'ce']||(tS['setScale']((0x23d6+-0x6f*0xc+0x1*-0x1ea2+0.5)*_0x26f5f4,(0x19d6*0x1+-0x2*-0x10d0+-0x3b76+0.5)*_0x3aab2b,-0x1c16+-0x19b8+0x5f*0x91),this['_screenMat'+'rix']['mul2'](tS,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x57a388,_0x1f7a1a){const _0x19539b=Math['log2']((_0x57a388['x']||0xa22+-0x1*-0x81d+-0x3a6*0x5)/_0x1f7a1a['x']),_0x484c2e=Math['log2']((_0x57a388['y']||0xc54+0x2516+-0x3169*0x1)/_0x1f7a1a['y']);return Math['pow'](-0x2e6+0x9ff+-0x717,_0x19539b*(0xc*-0x23f+-0x3*-0x38d+0x104e-this['_scaleBlen'+'d'])+_0x484c2e*this['_scaleBlen'+'d']);}['_onResize'](_0x5a400b,_0x4848ed){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x5a400b,_0x4848ed),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x53257a){this['_elements']['add'](_0x53257a);}['_unbindEle'+'ment'](_0x3314c1){this['_elements']['delete'](_0x3314c1);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x8974d1=>_0x8974d1['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0xfd4f27){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0xfd4f27['x'],_0xfd4f27['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x3d63c0=>_0x3d63c0['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x23dde6){this['_reference'+'Resolution']['set'](_0x23dde6['x'],_0x23dde6['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x3191fa=>_0x3191fa['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Za?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0xc0f0ac){this['_screenSpa'+'ce']=_0xc0f0ac,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x56ea5b=>_0x56ea5b['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x2f53b9){_0x2f53b9!==Za&&_0x2f53b9!==qO&&(_0x2f53b9=Za),!this['_screenSpa'+'ce']&&_0x2f53b9!==Za&&(_0x2f53b9=Za),this['_scaleMode']=_0x2f53b9,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x236fa2){this['_scaleBlen'+'d']=_0x236fa2,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x2420c2=>_0x2420c2['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x52c52d){_0x52c52d>0x1*0x287+-0x10d9+0x3*0x51b&&(w['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x52c52d+'\x20to\x20255'),_0x52c52d=0x44*0x50+-0xfa6+-0x49b),this['_priority']!==_0x52c52d&&(this['_priority']=_0x52c52d,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class jO{constructor(){this['enabled']=!(0x34b*0x3+0x136f+-0x70*0x43);}}const Uu=['enabled'];class YO extends ct{constructor(_0x31ef55){super(_0x31ef55),this['id']='screen',this['ComponentT'+'ype']=l0,this['DataType']=jO,this['schema']=Uu,this['windowReso'+'lution']=new J(),this['_drawOrder'+'SyncQueue']=new fx(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x2803b7,_0x126a68,_0x172ab4){_0x126a68['priority']!==void(0x1*0x1e8f+0x1604+-0x3493)&&(_0x2803b7['priority']=_0x126a68['priority']),_0x126a68['screenSpac'+'e']!==void(0x54d*0x7+-0xe64+-0x16b7)&&(_0x2803b7['screenSpac'+'e']=_0x126a68['screenSpac'+'e']),_0x2803b7['cull']=_0x2803b7['screenSpac'+'e'],_0x126a68['scaleMode']!==void(-0x1*0xd76+0x57a*-0x4+-0x3ee*-0x9)&&(_0x2803b7['scaleMode']=_0x126a68['scaleMode']),_0x126a68['scaleBlend']!==void(-0x3eb*-0x1+-0xc73*-0x1+0xa*-0x1a3)&&(_0x2803b7['scaleBlend']=_0x126a68['scaleBlend']),_0x126a68['resolution']!==void(-0x1764+0x9*-0x246+-0x74f*-0x6)&&(_0x126a68['resolution']instanceof J?_0x2803b7['_resolutio'+'n']['copy'](_0x126a68['resolution']):_0x2803b7['_resolutio'+'n']['set'](_0x126a68['resolution'][0x2*0xf0c+-0x10*-0x52+0x62*-0x5c],_0x126a68['resolution'][0x253d+-0xb*-0x27d+-0x409b*0x1]),_0x2803b7['resolution']=_0x2803b7['_resolutio'+'n']),_0x126a68['referenceR'+'esolution']!==void(-0x11*-0x227+0x15dd+0x9be*-0x6)&&(_0x126a68['referenceR'+'esolution']instanceof J?_0x2803b7['_reference'+'Resolution']['copy'](_0x126a68['referenceR'+'esolution']):_0x2803b7['_reference'+'Resolution']['set'](_0x126a68['referenceR'+'esolution'][-0x1725*-0x1+0x2443*-0x1+0xd1e],_0x126a68['referenceR'+'esolution'][0x23*0x87+-0x551*-0x1+-0x17c5]),_0x2803b7['referenceR'+'esolution']=_0x2803b7['_reference'+'Resolution']),_0x2803b7['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x2803b7,_0x126a68,Uu);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x503829){const _0x37e597=this['store'];for(const _0x21b4cb in _0x37e597)_0x37e597[_0x21b4cb]['entity']['screen']['update']&&_0x37e597[_0x21b4cb]['entity']['screen']['update'](_0x503829);}['_onResize'](_0x22047e,_0x2375bc){this['windowReso'+'lution']['x']=_0x22047e,this['windowReso'+'lution']['y']=_0x2375bc;}['cloneCompo'+'nent'](_0x19f295,_0x1f5244){const _0x1c7a26=_0x19f295['screen'];return this['addCompone'+'nt'](_0x1f5244,{'enabled':_0x1c7a26['enabled'],'screenSpace':_0x1c7a26['screenSpac'+'e'],'scaleMode':_0x1c7a26['scaleMode'],'resolution':_0x1c7a26['resolution']['clone'](),'referenceResolution':_0x1c7a26['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x1d7466,_0x1a4602){_0x1a4602['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x1c2d86=this['_drawOrder'+'SyncQueue']['list']();for(let _0x218097=-0x2f5*0xd+-0x23bb+0x4a2c;_0x218097<_0x1c2d86['length'];_0x218097++){const _0x2dd259=_0x1c2d86[_0x218097];_0x2dd259['callback']['call'](_0x2dd259['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0xdf56a6,_0xa2a400,_0x52f0cf){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0xdf56a6)||this['_drawOrder'+'SyncQueue']['push'](_0xdf56a6,{'callback':_0xa2a400,'scope':_0x52f0cf});}}we['_buildAcce'+'ssors'](l0['prototype'],Uu);const lr=new J(),sS=new D(),Hr=new Dn(),iS=new QS(),rS=new D(),vo=new D(),KO=new le(),ZO={'x':'y','y':'x'};class Go extends me{constructor(_0x14fd90,_0x5605b0){if(super(),!_0x14fd90||!(_0x14fd90 instanceof hs))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x5605b0&&_0x5605b0!=='x'&&_0x5605b0!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x5605b0);this['_element']=_0x14fd90,this['_app']=_0x14fd90['system']['app'],this['_axis']=_0x5605b0||null,this['_enabled']=!(-0xb5e+-0x1950+0x2*0x1257),this['_dragScale']=new D(),this['_dragStart'+'MousePosit'+'ion']=new D(),this['_dragStart'+'HandlePosi'+'tion']=new D(),this['_deltaMous'+'ePosition']=new D(),this['_deltaHand'+'lePosition']=new D(),this['_isDraggin'+'g']=!(0x10d1+0x29*0x56+-0xae*0x2d),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x58a804){this['_element'][_0x58a804]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x58a804]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x58a804]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x3064a5){const _0x253348=_0x3064a5==='on';this['_hasDragLi'+'steners']&&_0x253348||(this['_app']['mouse']&&(this['_element'][_0x3064a5]('mousemove',this['_onMove'],this),this['_element'][_0x3064a5]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),Ae['touch']&&(this['_element'][_0x3064a5]('touchmove',this['_onMove'],this),this['_element'][_0x3064a5]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x3064a5]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x3064a5]('selectmove',this['_onMove'],this),this['_element'][_0x3064a5]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x253348);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x44a62a){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x44a62a['camera'],this['_calculate'+'DragScale']();const _0x399b48=this['_screenToL'+'ocal'](_0x44a62a);_0x399b48&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(0x2617+0x2cf*-0x1+-0x4*0x8d2),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x399b48),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(0xe34+0x143b+-0x226e),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x394e10){return _0x394e10['inputSourc'+'e']?Hr['set'](_0x394e10['inputSourc'+'e']['getOrigin'](),_0x394e10['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x394e10),this['_chooseRay'+'OriginAndD'+'irection']()),rS['copy'](this['_element']['entity']['forward'])['mulScalar'](-(-0x5*0x65b+-0x25*0xed+0xa1*0x69)),iS['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),rS),iS['intersects'+'Ray'](Hr,vo)?(KO['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](vo,vo),vo['mul'](this['_dragScale']),vo):null;}['_determine'+'InputPosit'+'ion'](_0x30c3d1){const _0x4cd751=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x30c3d1['x']<'u'&&typeof _0x30c3d1['y']<'u'?(lr['x']=_0x30c3d1['x']*_0x4cd751,lr['y']=_0x30c3d1['y']*_0x4cd751):_0x30c3d1['changedTou'+'ches']?(lr['x']=_0x30c3d1['changedTou'+'ches'][-0x14ae+-0x1b15+0x2fc3]['x']*_0x4cd751,lr['y']=_0x30c3d1['changedTou'+'ches'][-0x1*-0x2361+-0xebc+-0x2f3*0x7]['y']*_0x4cd751):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Hr['origin']['set'](lr['x'],-lr['y'],0x1923+-0x1*-0x2011+-0x4*0xe4d),Hr['direction']['copy'](D['FORWARD'])):(sS['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](lr['x'],lr['y'],0x25cd+-0x1d1c+-0x8b0)),Hr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Hr['direction']['copy'](sS)['sub'](Hr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x2f7517=this['_element']['entity']['parent'];const _0x28e5b5=this['_element']['screen']&&this['_element']['screen']['screen'],_0x31432d=_0x28e5b5&&_0x28e5b5['screenSpac'+'e'],_0x43d501=_0x31432d?_0x28e5b5['scale']:0x2401+-0x9d*0x2b+-0x9a1,_0x4e81f0=this['_dragScale'];for(_0x4e81f0['set'](_0x43d501,_0x43d501,_0x43d501);_0x2f7517&&(_0x4e81f0['mul'](_0x2f7517['getLocalSc'+'ale']()),_0x2f7517=_0x2f7517['parent'],!(_0x31432d&&_0x2f7517['screen'])););_0x4e81f0['x']=(0x1*0xca3+0x2*0x286+-0x3e*0x49)/_0x4e81f0['x'],_0x4e81f0['y']=(-0x1437+0xbe9+0x84f)/_0x4e81f0['y'],_0x4e81f0['z']=0x1ee2+-0x3d*-0x35+0x2b83*-0x1;}['_onMove'](_0x18831a){const {_element:_0x2a588d,_deltaMousePosition:_0x596c78,_deltaHandlePosition:_0x29e272,_axis:_0x489e97}=this;if(_0x2a588d&&this['_isDraggin'+'g']&&this['enabled']&&_0x2a588d['enabled']&&_0x2a588d['entity']['enabled']){const _0x365a8a=this['_screenToL'+'ocal'](_0x18831a);if(_0x365a8a){if(_0x596c78['sub2'](_0x365a8a,this['_dragStart'+'MousePosit'+'ion']),_0x29e272['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x596c78),_0x489e97){const _0x218980=_0x2a588d['entity']['getLocalPo'+'sition'](),_0x528a90=ZO[_0x489e97];_0x29e272[_0x528a90]=_0x218980[_0x528a90];}_0x2a588d['entity']['setLocalPo'+'sition'](_0x29e272),this['fire']('drag:move',_0x29e272);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x1da2e7){this['_enabled']=_0x1da2e7;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}h(Go,'EVENT_DRAG'+'START','drag:start'),h(Go,'EVENT_DRAG'+'END','drag:end'),h(Go,'EVENT_DRAG'+'MOVE','drag:move');const QO=0x327+0x192b+0x5*-0x5aa,aS=0x1f81+-0xc5*-0x17+-0xe5*0x37,JO=-0xd*-0x1c+0xb*-0x197+0x337*0x5,eF=-0x16*-0x147+0x272+-0x1e8c,tF=-0x1ca2+0x449*0x1+0x185a*0x1,xo=new J();class c0 extends we{constructor(_0x47262d,_0x4375bb){super(_0x47262d,_0x4375bb),h(this,'_viewportE'+'ntity',null),h(this,'_contentEn'+'tity',null),h(this,'_horizonta'+'lScrollbar'+'Entity',null),h(this,'_verticalS'+'crollbarEn'+'tity',null),h(this,'_evtElemen'+'tRemove',null),h(this,'_evtViewpo'+'rtElementR'+'emove',null),h(this,'_evtViewpo'+'rtResize',null),h(this,'_evtConten'+'tEntityEle'+'mentAdd',null),h(this,'_evtConten'+'tElementRe'+'move',null),h(this,'_evtConten'+'tResize',null),h(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),h(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),h(this,'_evtHorizo'+'ntalScroll'+'barValue',null),h(this,'_evtVertic'+'alScrollba'+'rAdd',null),h(this,'_evtVertic'+'alScrollba'+'rRemove',null),h(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_scroll']=new J(),this['_velocity']=new D(),this['_dragStart'+'Position']=new D(),this['_disabledC'+'ontentInpu'+'t']=!(0x1390+-0x5*0x3d3+0x1c*-0x4),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x39c65c=this['system']['store'][this['entity']['getGuid']()];return _0x39c65c?_0x39c65c['data']:null;}set['enabled'](_0x1658d1){this['_setValue']('enabled',_0x1658d1);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0xf9e197){this['_setValue']('horizontal',_0xf9e197);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x41f938){this['_setValue']('vertical',_0x41f938);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x59600a){this['_setValue']('scrollMode',_0x59600a);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x5bb3b8){this['_setValue']('bounceAmou'+'nt',_0x5bb3b8);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x3c572d){this['_setValue']('friction',_0x3c572d);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x4727ac){this['_setValue']('dragThresh'+'old',_0x4727ac);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0xc5dfda){this['_setValue']('useMouseWh'+'eel',_0xc5dfda);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x4f9851){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x4f9851);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x46c7e0){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x46c7e0);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x2c8f98){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x2c8f98);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x637947){if(this['_viewportE'+'ntity']===_0x637947)return;const _0x428fb0=typeof _0x637947=='string';this['_viewportE'+'ntity']&&_0x428fb0&&this['_viewportE'+'ntity']['getGuid']()===_0x637947||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x637947 instanceof Ie?this['_viewportE'+'ntity']=_0x637947:_0x428fb0?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x637947)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x428fb0&&_0x637947&&(this['data']['viewportEn'+'tity']=_0x637947));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x45cff4){if(this['_contentEn'+'tity']===_0x45cff4)return;const _0x5cf5ce=typeof _0x45cff4=='string';this['_contentEn'+'tity']&&_0x5cf5ce&&this['_contentEn'+'tity']['getGuid']()===_0x45cff4||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x45cff4 instanceof Ie?this['_contentEn'+'tity']=_0x45cff4:_0x5cf5ce?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x45cff4)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x5cf5ce&&_0x45cff4&&(this['data']['contentEnt'+'ity']=_0x45cff4));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x349f15){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x349f15)return;const _0x28b510=typeof _0x349f15=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x28b510&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x349f15||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x349f15 instanceof Ie?this['_horizonta'+'lScrollbar'+'Entity']=_0x349f15:_0x28b510?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x349f15)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][Ce]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x28b510&&_0x349f15&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x349f15));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x4218c0){if(this['_verticalS'+'crollbarEn'+'tity']===_0x4218c0)return;const _0x3a173a=typeof _0x4218c0=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x3a173a&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x4218c0||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x4218c0 instanceof Ie?this['_verticalS'+'crollbarEn'+'tity']=_0x4218c0:_0x3a173a?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x4218c0)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][je]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x3a173a&&_0x4218c0&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x4218c0));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0xb2dd7){this['_onSetScro'+'ll'](_0xb2dd7['x'],_0xb2dd7['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x21af09,_0xc53180){const _0x1210e4=this['data'],_0x462f7a=_0x1210e4[_0x21af09];_0x1210e4[_0x21af09]=_0xc53180,this['fire']('set',_0x21af09,_0x462f7a,_0xc53180);}['_toggleLif'+'ecycleList'+'eners'](_0x2148a4){this[_0x2148a4]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x2148a4]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x2148a4]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x317adb){if(this['entity']['element']){if(_0x317adb==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x317adb]('resize',this['_syncAll'],this),this['entity']['element'][_0x317adb]('mousewheel',this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x317adb==='on';}}['_onElement'+'ComponentA'+'dd'](_0x5aa499){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x27c922){var _0x284653;(_0x284653=this['_evtElemen'+'tRemove'])==null||_0x284653['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x56c487,_0x31ed3b;(_0x56c487=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x56c487['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x31ed3b=this['_viewportE'+'ntity'])!=null&&_0x31ed3b['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x3faae9=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x3faae9['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x3faae9['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x415076,_0x37c848;(_0x415076=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x415076['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x37c848=this['_evtViewpo'+'rtResize'])==null||_0x37c848['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0xefd462,_0x4eca47;(_0xefd462=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0xefd462['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x4eca47=this['_contentEn'+'tity'])!=null&&_0x4eca47['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x63cf9b=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x63cf9b['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x63cf9b['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x5c51ce,_0x1fabe6;(_0x5c51ce=this['_evtConten'+'tElementRe'+'move'])==null||_0x5c51ce['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x1fabe6=this['_evtConten'+'tResize'])==null||_0x1fabe6['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new Go(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x326ba2){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(0xb*-0x191+-0x1b89+0x1*0x2cc4),this['_setScroll'+'FromConten'+'tPosition'](_0x326ba2),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x326ba2),!this['_disabledC'+'ontentInpu'+'t'])){const _0x480169=_0x326ba2['x']-this['_dragStart'+'Position']['x'],_0x5a88ab=_0x326ba2['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x480169)>this['dragThresh'+'old']||Math['abs'](_0x5a88ab)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x1347eb;(_0x1347eb=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x1347eb['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x139f67;(_0x139f67=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x139f67['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x26c42e){!this['_scrollbar'+'UpdateFlag'+'s'][Ce]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x26c42e,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x538e6a){!this['_scrollbar'+'UpdateFlag'+'s'][je]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x538e6a);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x27231c;const _0xa1c6f3=(_0x27231c=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(-0x1f38+-0x20e7*-0x1+-0x1af):_0x27231c['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0xa1c6f3['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0xa1c6f3['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarPositi'+'on'](Ce);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x5dd3d2;const _0xac6b5e=(_0x5dd3d2=this['_verticalS'+'crollbarEn'+'tity'])==null?void(-0x2*-0x765+0x107*-0x1b+-0x55*-0x27):_0x5dd3d2['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0xac6b5e['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0xac6b5e['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](je),this['_syncScrol'+'lbarPositi'+'on'](je);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x2a3196,_0x5031b3;(_0x2a3196=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x2a3196['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x5031b3=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x5031b3['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x4fd26d,_0x49c44c;(_0x4fd26d=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x4fd26d['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x49c44c=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x49c44c['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](Ce);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](je);}['_onSetScro'+'ll'](_0xac7ebc,_0x1af07d,_0x51c4f0){_0x51c4f0!==!(0x59*0x5e+0xbff*-0x1+-0x14ae)&&this['_velocity']['set'](-0x1d3c+0x207a+-0x53*0xa,-0x1*-0xa4d+0x32*0x34+-0x1475*0x1,-0x1cfb+-0xd2c+0x2a27);const _0x2512d8=this['_updateAxi'+'s'](_0xac7ebc,'x',Ce),_0x425f64=this['_updateAxi'+'s'](_0x1af07d,'y',je);(_0x2512d8||_0x425f64)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x59c46e,_0x100fbe,_0x54dbce){const _0x402599=_0x59c46e!==null&&Math['abs'](_0x59c46e-this['_scroll'][_0x100fbe])>-0x35*-0x89+0x90f*-0x2+-0x2b*0x3d+0.00001;return(_0x402599||this['_isDraggin'+'g']()||_0x59c46e===0x6df*0x1+0x163d+0x114*-0x1b)&&(this['_scroll'][_0x100fbe]=this['_determine'+'NewScrollV'+'alue'](_0x59c46e,_0x100fbe,_0x54dbce),this['_syncConte'+'ntPosition'](_0x54dbce),this['_syncScrol'+'lbarPositi'+'on'](_0x54dbce)),_0x402599;}['_determine'+'NewScrollV'+'alue'](_0x5cc2a5,_0x300d9e,_0x4542d2){if(!this['_getScroll'+'ingEnabled'](_0x4542d2))return this['_scroll'][_0x300d9e];switch(this['scrollMode']){case QO:return Y['clamp'](_0x5cc2a5,0x1c80+0x14f3+-0x3173,this['_getMaxScr'+'ollValue'](_0x4542d2));case aS:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x5cc2a5,_0x300d9e,_0x4542d2),_0x5cc2a5;case JO:return _0x5cc2a5;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x5cc2a5;}}['_syncAll'](){this['_syncConte'+'ntPosition'](Ce),this['_syncConte'+'ntPosition'](je),this['_syncScrol'+'lbarPositi'+'on'](Ce),this['_syncScrol'+'lbarPositi'+'on'](je),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je);}['_syncConte'+'ntPosition'](_0x2a1d73){if(!this['_contentEn'+'tity'])return;const _0x5226a6=this['_getAxis'](_0x2a1d73),_0x55be8e=this['_getSign'](_0x2a1d73),_0x1be29f=this['_prevConte'+'ntSizes'][_0x2a1d73],_0x23abae=this['_getConten'+'tSize'](_0x2a1d73);if(_0x1be29f!==null&&Math['abs'](_0x1be29f-_0x23abae)>-0x1000+0x129*0xd+-0xeb*-0x1+0.0001){const _0x1d4870=this['_getMaxOff'+'set'](_0x2a1d73,_0x1be29f),_0x45ddce=this['_getMaxOff'+'set'](_0x2a1d73,_0x23abae);_0x45ddce===0x221a*-0x1+-0xb83+0x1*0x2d9d?this['_scroll'][_0x5226a6]=0x1bd3+0xd71+-0x2943:this['_scroll'][_0x5226a6]=Y['clamp'](this['_scroll'][_0x5226a6]*_0x1d4870/_0x45ddce,-0x16d*0x1+-0x3b*-0x7e+0x1b9d*-0x1,0x3a2+-0x21cd+0x1e2c);}const _0x331ce5=this['_scroll'][_0x5226a6]*this['_getMaxOff'+'set'](_0x2a1d73),_0x1981b0=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x1981b0[_0x5226a6]=_0x331ce5*_0x55be8e,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x1981b0),this['_prevConte'+'ntSizes'][_0x2a1d73]=_0x23abae;}['_syncScrol'+'lbarPositi'+'on'](_0x3c0559){const _0x3a5f3d=this['_scrollbar'+'Entities'][_0x3c0559];if(!(_0x3a5f3d!=null&&_0x3a5f3d['scrollbar']))return;const _0x288c44=this['_getAxis'](_0x3c0559);this['_scrollbar'+'UpdateFlag'+'s'][_0x3c0559]=!(0x1477*0x1+-0x1dcc+-0x1*-0x955),_0x3a5f3d['scrollbar']['value']=this['_scroll'][_0x288c44],_0x3a5f3d['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x288c44,_0x3c0559),this['_scrollbar'+'UpdateFlag'+'s'][_0x3c0559]=!(-0x1*0x4a7+-0x235*0xd+-0x1*-0x2159);}['_syncScrol'+'lbarEnable'+'dState'](_0x2e9aa6){const _0x1ec407=this['_scrollbar'+'Entities'][_0x2e9aa6];if(!_0x1ec407)return;const _0x2b98db=this['_getScroll'+'ingEnabled'](_0x2e9aa6),_0x45dfbc=this['_getScroll'+'barVisibil'+'ity'](_0x2e9aa6);switch(_0x45dfbc){case eF:_0x1ec407['enabled']=_0x2b98db;return;case tF:_0x1ec407['enabled']=_0x2b98db&&this['_contentIs'+'LargerThan'+'Viewport'](_0x2e9aa6);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x45dfbc),_0x1ec407['enabled']=_0x2b98db;}}['_contentIs'+'LargerThan'+'Viewport'](_0x5af1d9){return this['_getConten'+'tSize'](_0x5af1d9)>this['_getViewpo'+'rtSize'](_0x5af1d9);}['_contentPo'+'sitionToSc'+'rollValue'](_0x2ba4e8){const _0x25d368=this['_getMaxOff'+'set'](Ce),_0x486e11=this['_getMaxOff'+'set'](je);return _0x25d368===0x1d*-0x40+-0x120c+0x194c?xo['x']=0x14fc+0x25f2+-0x3aee:xo['x']=_0x2ba4e8['x']/_0x25d368,_0x486e11===0xcb6+-0x1*-0xa77+-0x172d*0x1?xo['y']=0xcfb+-0x398+-0x963:xo['y']=_0x2ba4e8['y']/-_0x486e11,xo;}['_getMaxOff'+'set'](_0x41ce61,_0xf5d8b1){_0xf5d8b1=_0xf5d8b1===void(0x21a*-0x1+0x1cfc+-0x1ae2)?this['_getConten'+'tSize'](_0x41ce61):_0xf5d8b1;const _0xb8bc2f=this['_getViewpo'+'rtSize'](_0x41ce61);return _0xf5d8b1<_0xb8bc2f?-this['_getViewpo'+'rtSize'](_0x41ce61):_0xb8bc2f-_0xf5d8b1;}['_getMaxScr'+'ollValue'](_0x1bd1f2){return this['_contentIs'+'LargerThan'+'Viewport'](_0x1bd1f2)?0x4e*0x11+0x2207+-0x2734:-0x13eb*-0x1+0x30*0xa3+-0x327b;}['_getScroll'+'barHandleS'+'ize'](_0x189687,_0x1ed363){const _0x4a7c15=this['_getViewpo'+'rtSize'](_0x1ed363),_0x5828b1=this['_getConten'+'tSize'](_0x1ed363);if(Math['abs'](_0x5828b1)<-0x2090+-0x1e24+0x1*0x3eb4+0.001)return 0x3*-0x829+0xdfc+0xa80;const _0x111923=Math['min'](_0x4a7c15/_0x5828b1,0x24fb+0x116e+-0x3668),_0x1debe9=this['_toOversho'+'ot'](this['_scroll'][_0x189687],_0x1ed363);return _0x1debe9===-0x3*-0x855+0x2665*-0x1+-0x157*-0xa?_0x111923:_0x111923/(-0x22d8+-0x1493+0x376c+Math['abs'](_0x1debe9));}['_getViewpo'+'rtSize'](_0xf0b85c){return this['_getSize'](_0xf0b85c,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x21b620){return this['_getSize'](_0x21b620,this['_contentEn'+'tity']);}['_getSize'](_0x15cd4f,_0x5a21ef){return _0x5a21ef!=null&&_0x5a21ef['element']?_0x5a21ef['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x15cd4f)]:-0xace+0x698+0x436;}['_getScroll'+'ingEnabled'](_0x5925f6){if(_0x5925f6===Ce)return this['horizontal'];if(_0x5925f6===je)return this['vertical'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x5925f6);}['_getScroll'+'barVisibil'+'ity'](_0x3f22e3){if(_0x3f22e3===Ce)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x3f22e3===je)return this['verticalSc'+'rollbarVis'+'ibility'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x3f22e3);}['_getSign'](_0x568256){return _0x568256===Ce?0x2d*-0x93+-0x13e3+0x2dbb:-(0x1*0x21aa+0x89+-0x2232);}['_getAxis'](_0x39abf6){return _0x39abf6===Ce?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x1a01db){return _0x1a01db===Ce?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===aS&&(this['_hasOversh'+'oot']('x',Ce)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',Ce),this['_hasOversh'+'oot']('y',je)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',je)),Math['abs'](this['_velocity']['x'])>-0x268d+0x1cb1+-0x4*-0x277+0.0001||Math['abs'](this['_velocity']['y'])>-0x52*-0x20+-0xfa1*0x1+0x561+0.0001){const _0x155c64=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x155c64['x']+=this['_velocity']['x'],_0x155c64['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x155c64),this['_setScroll'+'FromConten'+'tPosition'](_0x155c64);}this['_velocity']['x']*=0x213f*-0x1+0x11*-0xc5+0x1*0x2e55-this['friction'],this['_velocity']['y']*=0x3d*-0x8d+0x2b*-0x2f+0x297f-this['friction'];}}['_hasOversh'+'oot'](_0x19b8b7,_0x593397){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x19b8b7],_0x593397))>-0x9*-0x414+-0x1024+0x149*-0x10+0.001;}['_toOversho'+'ot'](_0x235a74,_0x3fcf0d){const _0x4dfb90=this['_getMaxScr'+'ollValue'](_0x3fcf0d);return _0x235a74<-0x1d28+-0x1c76+-0x24e*-0x19?_0x235a74:_0x235a74>_0x4dfb90?_0x235a74-_0x4dfb90:0xd65+0x2030+-0x2d95;}['_setVeloci'+'tyFromOver'+'shoot'](_0x3c7549,_0x5ce7ee,_0x21727c){const _0x43979d=this['_toOversho'+'ot'](_0x3c7549,_0x21727c)*this['_getMaxOff'+'set'](_0x21727c)*this['_getSign'](_0x21727c);Math['abs'](_0x43979d)>-0x37d+-0x121e+0x159b&&(this['_velocity'][_0x5ce7ee]=-_0x43979d/(this['bounceAmou'+'nt']*(-0x2*-0x223+0x32b*-0x4+0x898)+(0x104+0x3a1*-0x2+-0x29*-0x27)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x22f105){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x22f105,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x22f105)):(this['_velocity']['set'](0x2*0x9a4+-0xbf*-0x15+0x22f3*-0x1,-0x5*0x6ac+0x88f+0x18cd*0x1,-0x9*-0x2bd+-0x206b+0x7c6*0x1),this['_prevConte'+'ntDragPosi'+'tion']=_0x22f105['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x2eb449){let _0x35df1c=this['_contentPo'+'sitionToSc'+'rollValue'](_0x2eb449);this['_isDraggin'+'g']()&&(_0x35df1c=this['_applyScro'+'llValueTen'+'sion'](_0x35df1c)),this['_onSetScro'+'ll'](_0x35df1c['x'],_0x35df1c['y'],!(-0x16c1+-0x3c4*-0x2+0xf3a));}['_applyScro'+'llValueTen'+'sion'](_0x506f8e){let _0x48ae08=this['_getMaxScr'+'ollValue'](Ce),_0x266458=this['_toOversho'+'ot'](_0x506f8e['x'],Ce);return _0x266458>-0x47*-0x86+-0xe5f*-0x2+-0x1bc*0x26?_0x506f8e['x']=_0x48ae08+(-0x2187+0xf34+-0x30e*-0x6)*Math['log10'](-0x26bd+-0x18e9+-0x3fa7*-0x1+_0x266458):_0x266458<-0x7ec+-0x1860+0x204c&&(_0x506f8e['x']=-(0x1311+-0x24f*0xe+0x1*0xd42)*Math['log10'](-0x1828+0x507+0x1322-_0x266458)),_0x48ae08=this['_getMaxScr'+'ollValue'](je),_0x266458=this['_toOversho'+'ot'](_0x506f8e['y'],je),_0x266458>0xae3+-0xe83*0x2+0x1223?_0x506f8e['y']=_0x48ae08+(-0x248d+-0x1163*-0x1+-0x132b*-0x1)*Math['log10'](0xfff+-0x6*-0x125+-0x16dc*0x1+_0x266458):_0x266458<0xb3*0xb+0x786+-0x30b*0x5&&(_0x506f8e['y']=-(-0x47*0x49+-0xaa7+-0xa4d*-0x3)*Math['log10'](0x1296+0xc4*-0x2c+0x3*0x509-_0x266458)),_0x506f8e;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x453280){var _0x1b5f9a,_0x3efc8a;(_0x1b5f9a=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x1b5f9a['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x453280),(_0x3efc8a=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x3efc8a['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x453280);}['_setConten'+'tDraggingE'+'nabled'](_0x70b196){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x70b196);}['_onMouseWh'+'eel'](_0x1eefb8){var _0x4d698f;if(!this['useMouseWh'+'eel']||!((_0x4d698f=this['_contentEn'+'tity'])!=null&&_0x4d698f['element']))return;const _0x27a2e2=_0x1eefb8['event'],_0xd9f818=_0x27a2e2['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x13c956=_0x27a2e2['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x553b68=Y['clamp'](this['_scroll']['x']+_0xd9f818,0x12b6+-0x256d+0x12b7,this['_getMaxScr'+'ollValue'](Ce)),_0x2204b3=Y['clamp'](this['_scroll']['y']+_0x13c956,-0x2*0x406+-0xc8+0x8d4,this['_getMaxScr'+'ollValue'](je));this['scroll']=new J(_0x553b68,_0x2204b3);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x3f6a88=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x3f6a88['element']&&(_0x3f6a88['element']['useInput']=!(0x3d5*-0x6+0x1394+0x36a));}this['_disabledC'+'ontentInpu'+'t']=!(-0x3*0xb2b+0x56*0x13+0x1b20);}['_disableCo'+'ntentInput'](){const _0x332ccb=_0x362aa3=>{_0x362aa3['element']&&_0x362aa3['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x362aa3),_0x362aa3['element']['useInput']=!(0x4cf*0x2+-0x1df2+0x1455));const _0x272839=_0x362aa3['children'];for(let _0x19ae09=-0x5*0x7a+0x7e8+-0x586,_0x32c455=_0x272839['length'];_0x19ae09<_0x32c455;_0x19ae09++)_0x332ccb(_0x272839[_0x19ae09]);};if(this['_contentEn'+'tity']){const _0x4e009e=this['_contentEn'+'tity']['children'];for(let _0x51e58a=-0x1*0x1753+0x173*0x1+0x15e0,_0x42da3c=_0x4e009e['length'];_0x51e58a<_0x42da3c;_0x51e58a++)_0x332ccb(_0x4e009e[_0x51e58a]);}this['_disabledC'+'ontentInpu'+'t']=!(-0x19c0+-0xe44+-0x314*-0xd);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x233d+0x1*-0x1fdb+-0x8*-0x863)),this['_setConten'+'tDraggingE'+'nabled'](!(-0xee3+0x16a5+-0x1*0x7c2)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x6b9*-0x2+0x56f*0x6+-0x2e0b)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x19cf*0x1+-0x2*0xe57+0x367e));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2c92b8,_0x210ed2){_0x2c92b8['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x210ed2[_0x2c92b8['viewportEn'+'tity']['getGuid']()]),_0x2c92b8['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x210ed2[_0x2c92b8['contentEnt'+'ity']['getGuid']()]),_0x2c92b8['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x210ed2[_0x2c92b8['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x2c92b8['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x210ed2[_0x2c92b8['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}h(c0,'EVENT_SETS'+'CROLL','set:scroll');const sF=0x1bf1*0x1+-0x1*-0x8bf+-0x2*0x1253;class iF{constructor(){h(this,'enabled',!(-0x9*0x14f+0x7b0+0x1*0x417)),h(this,'horizontal'),h(this,'vertical'),h(this,'scrollMode'),h(this,'bounceAmou'+'nt'),h(this,'friction'),h(this,'dragThresh'+'old',sF),h(this,'useMouseWh'+'eel',!(-0x5*0x36e+0x1ff*-0x11+-0x3315*-0x1)),h(this,'mouseWheel'+'Sensitivit'+'y',new J(-0x887+-0xc22*-0x2+-0xfbc,-0x1*-0x558+0x175f*-0x1+0x1208)),h(this,'horizontal'+'ScrollbarV'+'isibility',0x14*-0x194+-0x1291+0x3221),h(this,'verticalSc'+'rollbarVis'+'ibility',-0x6a9+0x2563*0x1+-0x1eba),h(this,'viewportEn'+'tity',null),h(this,'contentEnt'+'ity',null),h(this,'horizontal'+'ScrollbarE'+'ntity',null),h(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const nS=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],rF=-0x1*0x2680+-0x165*0x17+0x469d;class aF extends ct{constructor(_0xdd93df){super(_0xdd93df),this['id']='scrollview',this['ComponentT'+'ype']=c0,this['DataType']=iF,this['schema']=nS,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x1c0345,_0xb1e586,_0x5e89c9){_0xb1e586['dragThresh'+'old']===void(0x1079*0x2+-0x143e+-0xcb4)&&(_0xb1e586['dragThresh'+'old']=rF),_0xb1e586['useMouseWh'+'eel']===void(-0xd*0x20f+0x1ab2+0x11)&&(_0xb1e586['useMouseWh'+'eel']=!(-0x1f5a+-0x101*0x17+0xb*0x4f3)),_0xb1e586['mouseWheel'+'Sensitivit'+'y']===void(0x2558+0x10ad+-0x3605)&&(_0xb1e586['mouseWheel'+'Sensitivit'+'y']=new J(0x1a6d+0x66*-0x35+-0x54e,-0x20a5*0x1+0x323*0x3+0x7bf*0x3)),super['initialize'+'ComponentD'+'ata'](_0x1c0345,_0xb1e586,nS),_0x1c0345['viewportEn'+'tity']=_0xb1e586['viewportEn'+'tity'],_0x1c0345['contentEnt'+'ity']=_0xb1e586['contentEnt'+'ity'],_0x1c0345['horizontal'+'ScrollbarE'+'ntity']=_0xb1e586['horizontal'+'ScrollbarE'+'ntity'],_0x1c0345['verticalSc'+'rollbarEnt'+'ity']=_0xb1e586['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x2fc121){const _0x25e4a7=this['store'];for(const _0xd19792 in _0x25e4a7){const _0x4ebb75=_0x25e4a7[_0xd19792]['entity'],_0x38b62f=_0x4ebb75['scrollview'];_0x38b62f['enabled']&&_0x4ebb75['enabled']&&_0x38b62f['onUpdate']();}}['_onRemoveC'+'omponent'](_0x3ae88c,_0x3fba82){_0x3fba82['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class h0 extends we{constructor(_0x4eba5b,_0xcfa4ad){super(_0x4eba5b,_0xcfa4ad),h(this,'_handleEnt'+'ity',null),h(this,'_evtHandle'+'EntityElem'+'entAdd',null),h(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x3405aa=this['system']['store'][this['entity']['getGuid']()];return _0x3405aa?_0x3405aa['data']:null;}set['enabled'](_0x5205fb){this['_setValue']('enabled',_0x5205fb);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x1a7bf8){this['_setValue']('orientatio'+'n',_0x1a7bf8);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x772316){this['_setValue']('value',_0x772316);}get['value'](){return this['data']['value'];}set['handleSize'](_0x46d2bd){this['_setValue']('handleSize',_0x46d2bd);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x4bd607){if(this['_handleEnt'+'ity']===_0x4bd607)return;const _0x1b9eaf=typeof _0x4bd607=='string';this['_handleEnt'+'ity']&&_0x1b9eaf&&this['_handleEnt'+'ity']['getGuid']()===_0x4bd607||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x4bd607 instanceof Ie?this['_handleEnt'+'ity']=_0x4bd607:_0x1b9eaf?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x4bd607)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x1b9eaf&&_0x4bd607&&(this['data']['handleEnti'+'ty']=_0x4bd607));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x3e6d33,_0x536181){const _0x5c90b4=this['data'],_0x241f1b=_0x5c90b4[_0x3e6d33];_0x5c90b4[_0x3e6d33]=_0x536181,this['fire']('set',_0x3e6d33,_0x241f1b,_0x536181);}['_toggleLif'+'ecycleList'+'eners'](_0x543558){this[_0x543558]('set_value',this['_onSetValu'+'e'],this),this[_0x543558]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x543558]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x135125,_0x1146e6;(_0x135125=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x135125['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x1146e6=this['_handleEnt'+'ity'])!=null&&_0x1146e6['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x466fdb=this['_handleEnt'+'ity']['element'],_0x930c40=this['_evtHandle'+'EntityChan'+'ges'];_0x930c40['push'](_0x466fdb['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x930c40['push'](_0x466fdb['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x930c40['push'](_0x466fdb['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x930c40['push'](_0x466fdb['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x173e88=0x449*0x4+0x1e7+0x145*-0xf;_0x173e88<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x173e88++)this['_evtHandle'+'EntityChan'+'ges'][_0x173e88]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=-0x1fd1+-0x24de+-0x44af*-0x1;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new Go(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x5b6e46){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x5b6e46[this['_getAxis']()]));}['_onSetValu'+'e'](_0x2a1364,_0xb53d0b,_0x39949e){Math['abs'](_0x39949e-_0xb53d0b)>0x23f8+-0x1*-0x2a1+-0x2699+0.00001&&(this['data']['value']=Y['clamp'](_0x39949e,-0x12a5+0x8*0x2+0x47*0x43,0x59*-0x45+0x198f+-0x191),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x4f67b5,_0x1cc7ef,_0x3e3b47){Math['abs'](_0x3e3b47-_0x1cc7ef)>-0xaf2+-0x1e95+-0x2987*-0x1+0.00001&&(this['data']['handleSize']=Y['clamp'](_0x3e3b47,0x269f+-0x1987+-0xd18,0x1*-0x1f61+-0xcff*0x3+0xe13*0x5),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x552941,_0x60ca2,_0x1d0132){var _0x10f117;_0x1d0132!==_0x60ca2&&((_0x10f117=this['_handleEnt'+'ity'])!=null&&_0x10f117['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=0x2e9*0xc+0x2cf*-0x3+-0x1a7f);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x3bee91=this['_handleEnt'+'ity'],_0x1fe557=_0x3bee91==null?void(-0x14a+-0x119e+0x12e8):_0x3bee91['element'];if(_0x3bee91){const _0x39f743=_0x3bee91['getLocalPo'+'sition']();_0x39f743[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x3bee91['setLocalPo'+'sition'](_0x39f743);}_0x1fe557&&(_0x1fe557[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x2fab6e){return _0x2fab6e*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x44418f){return _0x44418f*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),-0x95*0x21+-0x1d3*0x12+0x340b+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===Ce?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:-0x122f+0xfe8+0x247;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===Ce?-0x19f7+0x31e+0x16da:-(0xa29+0x1f23+-0x294b);}['_getAxis'](){return this['orientatio'+'n']===Ce?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===Ce?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===Ce?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x1b528d){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x1b528d);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x24f0+-0x27*-0xa7+0x1*-0x3e61));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x10dd+0x499*0x7+0x3*-0x51b));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1c381b,_0x408791){_0x1c381b['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x408791[_0x1c381b['handleEnti'+'ty']['getGuid']()]);}}h(h0,'EVENT_SETV'+'ALUE','set:value');class nF{constructor(){h(this,'enabled',!(0x18e6+-0x1*0x26da+0x2f*0x4c)),h(this,'orientatio'+'n',Ce),h(this,'value',0x9*0xb+0x1db5+-0x1e18),h(this,'handleSize',0x1*0x1a8c+0x100a+-0x2a96),h(this,'handleEnti'+'ty',null);}}const oS=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class oF extends ct{constructor(_0x7835bc){super(_0x7835bc),this['id']='scrollbar',this['ComponentT'+'ype']=h0,this['DataType']=nF,this['schema']=oS,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x4c6fbc,_0x5a262e,_0x225aa1){super['initialize'+'ComponentD'+'ata'](_0x4c6fbc,_0x5a262e,oS),_0x4c6fbc['handleEnti'+'ty']=_0x5a262e['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x18275b){_0x18275b['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x2bc479,_0x1e3a77){_0x1e3a77['onRemove']();}}const lF={'volume':0x0,'pitch':0x0,'loop':!(-0x12*-0x84+-0xa7b*0x3+-0x2*-0xb15),'startTime':0x0,'duration':0x0,'position':new D(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class Gi extends me{constructor(_0x4d77e8,_0x3d406e='Untitled',_0x3b57b6={}){super(),h(this,'name'),h(this,'instances',[]),(this['_component']=_0x4d77e8,this['_assets']=_0x4d77e8['system']['app']['assets'],this['_manager']=_0x4d77e8['system']['manager'],this['name']=_0x3d406e,this['_volume']=_0x3b57b6['volume']!==void(-0x12ee*-0x1+0x1*0x24d1+-0x37bf)?Y['clamp'](Number(_0x3b57b6['volume'])||-0xad9+-0x1*0x3ef+0xec8,-0x1552+-0x54b*0x7+0x3a5f,0x20a6+0x2b1+-0x11ab*0x2):0x706+-0xd0f*0x1+-0x60a*-0x1,this['_pitch']=_0x3b57b6['pitch']!==void(0xd1a+0x1794+-0x24ae)?Math['max'](0x1fd4+0xad2+0x35*-0xce+0.01,Number(_0x3b57b6['pitch'])||-0xff5+0x209f+-0x6*0x2c7):-0x17da+0x1c46+0x1*-0x46b,this['_loop']=!!(_0x3b57b6['loop']!==void(-0x282+0x10fe+-0x73e*0x2)&&_0x3b57b6['loop']),this['_duration']=_0x3b57b6['duration']>0x1b4f+-0x1*-0x2ea+-0x1e39?_0x3b57b6['duration']:null,this['_startTime']=Math['max'](-0x2a*-0xe3+-0x15*-0x137+-0x3ec1,Number(_0x3b57b6['startTime'])||-0x2*0xa36+-0x2e7*0xa+0x3172*0x1),this['_overlap']=!!_0x3b57b6['overlap'],this['_autoPlay']=!!_0x3b57b6['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x3b57b6['asset'],this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x5b5a86){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){w['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x28f2d0=_0x5b5a86;if(_0x28f2d0||(_0x28f2d0=this['_createIns'+'tance'](),this['instances']['push'](_0x28f2d0)),this['isLoaded'])_0x28f2d0['play']();else{const _0x73c5fc=function(_0x528b8e){const _0x107830=_0x28f2d0['_playWhenL'+'oaded'];_0x28f2d0['sound']=_0x528b8e,_0x107830&&_0x28f2d0['play']();};this['off']('load',_0x73c5fc),this['once']('load',_0x73c5fc),this['load']();}return _0x28f2d0;}['pause'](){let _0x267a5e=!(0x25ba+-0x10e5+-0x14d4);const _0x8d4dd3=this['instances'];for(let _0x2fa7e5=0xdf3+-0x16e2+0x8ef,_0x1fc762=_0x8d4dd3['length'];_0x2fa7e5<_0x1fc762;_0x2fa7e5++)_0x8d4dd3[_0x2fa7e5]['pause']()&&(_0x267a5e=!(-0x1956+0x6ff+0x1257));return _0x267a5e;}['resume'](){let _0x5f450c=!(0x3*0x45e+-0xe0*0x10+0xe7);const _0x4ab694=this['instances'];for(let _0x5d78b3=0xf*-0x95+0x2f6+-0x7*-0xd3,_0x4e284b=_0x4ab694['length'];_0x5d78b3<_0x4e284b;_0x5d78b3++)_0x4ab694[_0x5d78b3]['resume']()&&(_0x5f450c=!(0x1323+0xf*0x11+0xa11*-0x2));return _0x5f450c;}['stop'](){let _0x53ecfa=!(-0xe9b+0x124*-0x1c+0x2e8c);const _0x467ad8=this['instances'];let _0x3dfb91=_0x467ad8['length'];for(;_0x3dfb91--;)_0x467ad8[_0x3dfb91]['stop'](),_0x53ecfa=!(0x16dc+0x95*-0x1+0x1647*-0x1);return _0x467ad8['length']=-0x602+0x23a8+-0x1da6,_0x53ecfa;}['load'](){if(!this['_hasAsset']())return;const _0x437cef=this['_assets']['get'](this['_asset']);if(!_0x437cef){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x437cef['off']('remove',this['_onAssetRe'+'moved'],this),_0x437cef['on']('remove',this['_onAssetRe'+'moved'],this),!_0x437cef['resource']){_0x437cef['off']('load',this['_onAssetLo'+'ad'],this),_0x437cef['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x437cef);return;}this['fire']('load',_0x437cef['resource']);}['setExterna'+'lNodes'](_0x269908,_0x3165ae){if(!_0x269908){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x3165ae||(_0x3165ae=_0x269908),this['_firstNode']=_0x269908,this['_lastNode']=_0x3165ae,!this['_overlap']){const _0x49f447=this['instances'];for(let _0x4fbc72=0x3*-0x13a+0x1de8+0x175*-0x12,_0x2809ab=_0x49f447['length'];_0x4fbc72<_0x2809ab;_0x4fbc72++)_0x49f447[_0x4fbc72]['setExterna'+'lNodes'](_0x269908,_0x3165ae);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x4919c5=this['instances'];for(let _0x4fade0=-0x165a+-0x2f5*0x3+0x1*0x1f39,_0x3bf18a=_0x4919c5['length'];_0x4fade0<_0x3bf18a;_0x4fade0++)_0x4919c5[_0x4fade0]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x298f49=null;const _0x4a199d=this['_component'];let _0x5f557d=null;if(this['_hasAsset']()){const _0x1977de=this['_assets']['get'](this['_asset']);_0x1977de&&(_0x5f557d=_0x1977de['resource']);}const _0x3c784e=lF;return _0x3c784e['volume']=this['_volume']*_0x4a199d['volume'],_0x3c784e['pitch']=this['_pitch']*_0x4a199d['pitch'],_0x3c784e['loop']=this['_loop'],_0x3c784e['startTime']=this['_startTime'],_0x3c784e['duration']=this['_duration'],_0x3c784e['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x3c784e['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x3c784e['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x3c784e['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x3c784e['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x4a199d['positional']?(_0x3c784e['position']['copy'](_0x4a199d['entity']['getPositio'+'n']()),_0x3c784e['maxDistanc'+'e']=_0x4a199d['maxDistanc'+'e'],_0x3c784e['refDistanc'+'e']=_0x4a199d['refDistanc'+'e'],_0x3c784e['rollOffFac'+'tor']=_0x4a199d['rollOffFac'+'tor'],_0x3c784e['distanceMo'+'del']=_0x4a199d['distanceMo'+'del'],_0x298f49=new sn(this['_manager'],_0x5f557d,_0x3c784e)):_0x298f49=new As(this['_manager'],_0x5f557d,_0x3c784e),this['_firstNode']&&_0x298f49['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x298f49;}['_onInstanc'+'ePlay'](_0x57a477){this['fire']('play',_0x57a477),this['_component']['fire']('play',this,_0x57a477);}['_onInstanc'+'ePause'](_0xc4ec9d){this['fire']('pause',_0xc4ec9d),this['_component']['fire']('pause',this,_0xc4ec9d);}['_onInstanc'+'eResume'](_0x2710b6){this['fire']('resume',_0x2710b6),this['_component']['fire']('resume',this,_0x2710b6);}['_onInstanc'+'eStop'](_0x11a475){const _0xd1a3d1=this['instances']['indexOf'](_0x11a475);_0xd1a3d1!==-(0x20*0x9d+-0x73e+-0xc61*0x1)&&this['instances']['splice'](_0xd1a3d1,-0x13*0x63+-0x23de+-0x8*-0x567),this['fire']('stop',_0x11a475),this['_component']['fire']('stop',this,_0x11a475);}['_onInstanc'+'eEnd'](_0xeb8ff9){const _0x1eccbe=this['instances']['indexOf'](_0xeb8ff9);_0x1eccbe!==-(-0x1e8*0x6+0x18*-0xc+0xc91)&&this['instances']['splice'](_0x1eccbe,0xd7*-0x1+0x23ca+-0x4fe*0x7),this['fire']('end',_0xeb8ff9),this['_component']['fire']('end',this,_0xeb8ff9);}['_onAssetAd'+'d'](_0x4b9a1a){this['load']();}['_onAssetLo'+'ad'](_0x4c5c17){this['load']();}['_onAssetRe'+'moved'](_0x37ea51){_0x37ea51['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x37ea51['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x4a911b){const _0x27a6ca=this['instances'];for(let _0x1c0b9c=0x1*0x11fb+-0x983+0x4*-0x21e,_0xe3a85=_0x27a6ca['length'];_0x1c0b9c<_0xe3a85;_0x1c0b9c++)_0x27a6ca[_0x1c0b9c]['position']=_0x4a911b;}set['asset'](_0x43b421){const _0x35f275=this['_asset'];if(_0x35f275){this['_assets']['off']('add:'+_0x35f275,this['_onAssetAd'+'d'],this);const _0x17b826=this['_assets']['get'](_0x35f275);_0x17b826&&_0x17b826['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x43b421,this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x384a28){this['_autoPlay']=!!_0x384a28;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x512aba){if(this['_duration']=Math['max'](-0x14c5+0x6*0x4ee+-0x1c3*0x5,Number(_0x512aba)||0x1*-0x18d+-0xe3b+0xfc8)||null,!this['_overlap']){const _0x268bf2=this['instances'];for(let _0x31267b=-0x1643+-0xcb8+0x22fb,_0x3f9b5d=_0x268bf2['length'];_0x31267b<_0x3f9b5d;_0x31267b++)_0x268bf2[_0x31267b]['duration']=this['_duration'];}}get['duration'](){let _0x1a5e28=0xcdf+0x139d+-0x207c;if(this['_hasAsset']()){const _0x41f91e=this['_assets']['get'](this['_asset']);_0x1a5e28=_0x41f91e!=null&&_0x41f91e['resource']?_0x41f91e['resource']['duration']:-0x1b2e+-0x1*0x4ae+0x1fdc*0x1;}return this['_duration']!=null?this['_duration']%(_0x1a5e28||0x9e*0x1a+-0x3d3*-0x2+0x4bd*-0x5):_0x1a5e28;}get['isLoaded'](){if(this['_hasAsset']()){const _0x4fcc61=this['_assets']['get'](this['_asset']);if(_0x4fcc61)return!!_0x4fcc61['resource'];}return!(0x18e*0xf+-0x26ed+0x4a*0x36);}get['isPaused'](){const _0x111e07=this['instances'],_0x66001b=_0x111e07['length'];if(_0x66001b===0x232c+-0x1a6e+0x2*-0x45f)return!(-0x232e+0x10e7*0x1+0x1248);for(let _0x34d96f=-0xa06+-0x638+0xbd*0x16;_0x34d96f<_0x66001b;_0x34d96f++)if(!_0x111e07[_0x34d96f]['isPaused'])return!(0x12e7+-0x5*0x36d+-0x1c5);return!(0x2*-0x131a+0x248+0x23ec);}get['isPlaying'](){const _0x212bca=this['instances'];for(let _0x1ccb9e=-0x11b7*-0x2+0x15ea+-0x3958,_0x224b58=_0x212bca['length'];_0x1ccb9e<_0x224b58;_0x1ccb9e++)if(_0x212bca[_0x1ccb9e]['isPlaying'])return!(0x1cf3+-0x2*0x4da+0x133f*-0x1);return!(0x135d*-0x1+0x1*0x224b+-0xeed);}get['isStopped'](){const _0x181ef6=this['instances'];for(let _0x46bfcb=-0x24*0x8e+0x30f*0x7+0x1*-0x171,_0x10d008=_0x181ef6['length'];_0x46bfcb<_0x10d008;_0x46bfcb++)if(!_0x181ef6[_0x46bfcb]['isStopped'])return!(-0x45*0x6f+0x1*-0x676+-0x2462*-0x1);return!(0x1*-0x1680+0x1eb6*-0x1+0x3536);}set['loop'](_0x1f96e5){this['_loop']=!!_0x1f96e5;const _0x26919e=this['instances'];for(let _0xe195f5=0x667+0x136*0x18+-0x2377,_0x58c876=_0x26919e['length'];_0xe195f5<_0x58c876;_0xe195f5++)_0x26919e[_0xe195f5]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x223210){this['_overlap']=!!_0x223210;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x264b38){if(this['_pitch']=Math['max'](Number(_0x264b38)||-0xfd9+0x2092+-0x1*0x10b9,-0x92f*-0x4+0x8f6+-0x2db2+0.01),!this['_overlap']){const _0x131ba9=this['instances'];for(let _0x4cf625=-0x210b+-0x80d*0x1+0x2918,_0x54d1b6=_0x131ba9['length'];_0x4cf625<_0x54d1b6;_0x4cf625++)_0x131ba9[_0x4cf625]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x2f45b0){if(this['_startTime']=Math['max'](-0x1362+-0x13fc+0x275e,Number(_0x2f45b0)||0xf27+-0x1288*-0x2+-0x3437),!this['_overlap']){const _0x204fa6=this['instances'];for(let _0x40db2f=-0xa53*0x3+-0x2537+-0x886*-0x8,_0x35307d=_0x204fa6['length'];_0x40db2f<_0x35307d;_0x40db2f++)_0x204fa6[_0x40db2f]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x1f2f25){if(this['_volume']=Y['clamp'](Number(_0x1f2f25)||-0x10f8+0x4e2+0xc16,0xac7+0x25*-0x1+-0xaa2,0x1a72+-0x3*0x7aa+-0x373),!this['_overlap']){const _0xc0c1b9=this['instances'];for(let _0x2b21ca=-0x28a*-0x1+0x1e44+-0x20ce,_0x49a011=_0xc0c1b9['length'];_0x2b21ca<_0x49a011;_0x2b21ca++)_0xc0c1b9[_0x2b21ca]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}h(Gi,'EVENT_PLAY','play'),h(Gi,'EVENT_PAUS'+'E','pause'),h(Gi,'EVENT_RESU'+'ME','resume'),h(Gi,'EVENT_STOP','stop'),h(Gi,'EVENT_END','end'),h(Gi,'EVENT_LOAD','load');class Kr extends we{constructor(){super(...arguments),h(this,'_volume',0x1*-0x26ea+-0x1*0x25a5+0x1ea*0x28),h(this,'_pitch',-0x1*-0xc7+0x92*-0x29+0x1*0x169c),h(this,'_positiona'+'l',!(-0x2488+0x19b7+-0x3*-0x39b)),h(this,'_refDistan'+'ce',-0x13*0x164+-0xbd*0x15+0x29ee),h(this,'_maxDistan'+'ce',0x4d*-0x1+0x35e1+-0x3a1*0x4),h(this,'_rollOffFa'+'ctor',-0x1dc8+-0x239b*0x1+0x174*0x2d),h(this,'_distanceM'+'odel',Vp),h(this,'_slots',{}),h(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x2d3f8f,_0x428602,_0x41fb31){const _0x2d0b0e=this['_slots'];for(const _0x27c1b1 in _0x2d0b0e){const _0x3cd43d=_0x2d0b0e[_0x27c1b1];if(!_0x3cd43d['overlap']){const _0x45f168=_0x3cd43d['instances'];for(let _0x5db7cc=0x2*-0x94f+-0x2*-0xf95+-0xc8c,_0x5289b0=_0x45f168['length'];_0x5db7cc<_0x5289b0;_0x5db7cc++)_0x45f168[_0x5db7cc][_0x2d3f8f]=_0x41fb31?_0x3cd43d[_0x2d3f8f]*_0x428602:_0x428602;}}}set['distanceMo'+'del'](_0x48dd4c){this['_distanceM'+'odel']=_0x48dd4c,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x48dd4c,!(0x3*-0x83+0x415+-0x28b));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x25b3a0){this['_maxDistan'+'ce']=_0x25b3a0,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x25b3a0,!(-0x1782+-0x50*-0x31+0x833));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x289448){this['_refDistan'+'ce']=_0x289448,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x289448,!(0x1d*-0xb3+0x1*-0x402+0x184a));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x103071){this['_rollOffFa'+'ctor']=_0x103071,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x103071,!(-0x2522+0x1a57+-0xacc*-0x1));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x29899f){this['_pitch']=_0x29899f,this['_updateSou'+'ndInstance'+'s']('pitch',_0x29899f,!(-0x353*0xb+0x1cc3+0x7ce));}get['pitch'](){return this['_pitch'];}set['volume'](_0x44816c){this['_volume']=_0x44816c,this['_updateSou'+'ndInstance'+'s']('volume',_0x44816c,!(0xcf*0x9+-0x7e4+0x9d));}get['volume'](){return this['_volume'];}set['positional'](_0x5b388d){this['_positiona'+'l']=_0x5b388d;const _0x4078a7=this['_slots'];for(const _0x4a3481 in _0x4078a7){const _0x22c969=_0x4078a7[_0x4a3481];if(!_0x22c969['overlap']){const _0x354a01=_0x22c969['instances'],_0x100380=_0x354a01['length'];for(let _0x2c24b8=_0x100380-(-0x18ed+-0x1c5d+-0x354b*-0x1);_0x2c24b8>=-0x2a9*0x3+0x3*-0xb7b+0x2a6c;_0x2c24b8--){const _0x242a28=_0x354a01[_0x2c24b8]['isPlaying']||_0x354a01[_0x2c24b8]['isSuspende'+'d'],_0x1a14bf=_0x354a01[_0x2c24b8]['currentTim'+'e'];_0x242a28&&_0x354a01[_0x2c24b8]['stop']();const _0x75612c=_0x22c969['_createIns'+'tance']();_0x242a28&&(_0x75612c['play'](),_0x75612c['currentTim'+'e']=_0x1a14bf),_0x354a01['push'](_0x75612c);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x5e084a){const _0x409727=this['_slots'];if(_0x409727){for(const _0x392136 in _0x409727)_0x409727[_0x392136]['stop']();}const _0x3f205e={};for(const _0x52bf00 in _0x5e084a)_0x5e084a[_0x52bf00]instanceof Gi?_0x3f205e[_0x5e084a[_0x52bf00]['name']]=_0x5e084a[_0x52bf00]:_0x5e084a[_0x52bf00]['name']&&(_0x3f205e[_0x5e084a[_0x52bf00]['name']]=new Gi(this,_0x5e084a[_0x52bf00]['name'],_0x5e084a[_0x52bf00]));this['_slots']=_0x3f205e,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x2e6465=this['_slots'],_0xa8a7a6=this['_playingBe'+'foreDisabl'+'e'];for(const _0x53477b in _0x2e6465){const _0x6e8c4f=_0x2e6465[_0x53477b];_0x6e8c4f['autoPlay']&&_0x6e8c4f['isStopped']?_0x6e8c4f['play']():_0xa8a7a6[_0x53477b]?_0x6e8c4f['resume']():_0x6e8c4f['isLoaded']||_0x6e8c4f['load']();}}['onDisable'](){const _0x376258=this['_slots'],_0xe00c6d={};for(const _0x3a837a in _0x376258)_0x376258[_0x3a837a]['overlap']||_0x376258[_0x3a837a]['isPlaying']&&(_0x376258[_0x3a837a]['pause'](),_0xe00c6d[_0x3a837a]=!(-0x1*-0x598+0x1fb2+-0x254a));this['_playingBe'+'foreDisabl'+'e']=_0xe00c6d;}['onRemove'](){this['off']();}['addSlot'](_0x4f375e,_0xbcfb4){const _0x1d0002=this['_slots'];if(_0x1d0002[_0x4f375e])return w['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x4f375e+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x1b1174=new Gi(this,_0x4f375e,_0xbcfb4);return _0x1d0002[_0x4f375e]=_0x1b1174,_0x1b1174['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x1b1174['play'](),_0x1b1174;}['removeSlot'](_0x398b91){const _0x118630=this['_slots'];_0x118630[_0x398b91]&&(_0x118630[_0x398b91]['stop'](),delete _0x118630[_0x398b91]);}['slot'](_0x1feabb){return this['_slots'][_0x1feabb];}['_getSlotPr'+'operty'](_0x216da2,_0x250637){if(!this['enabled']||!this['entity']['enabled'])return;const _0x4d1330=this['_slots'][_0x216da2];if(!_0x4d1330){w['warn']('Trying\x20to\x20'+'get\x20'+_0x250637+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x216da2+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x4d1330[_0x250637];}['isPlaying'](_0x1740c3){return this['_getSlotPr'+'operty'](_0x1740c3,'isPlaying')||!(0x8d5+0x11ab+-0x165*0x13);}['isLoaded'](_0xdf742){return this['_getSlotPr'+'operty'](_0xdf742,'isLoaded')||!(0x2543+0x83*0x2+0xaf*-0x38);}['isPaused'](_0x2aab7e){return this['_getSlotPr'+'operty'](_0x2aab7e,'isPaused')||!(-0x1e*0x10+-0x450+-0x1*-0x631);}['isStopped'](_0xa9b7ba){return this['_getSlotPr'+'operty'](_0xa9b7ba,'isStopped')||!(0x77b+0x994*-0x3+0x1542);}['play'](_0xc82553){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x53f627=this['_slots'][_0xc82553];return _0x53f627?_0x53f627['play']():(w['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0xc82553+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x4eec14){const _0x55feff=this['_slots'];if(_0x4eec14){const _0x1f4c2c=_0x55feff[_0x4eec14];if(!_0x1f4c2c){w['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x4eec14+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x1f4c2c['pause']();}else{for(const _0x313e7a in _0x55feff)_0x55feff[_0x313e7a]['pause']();}}['resume'](_0x207061){const _0x134c11=this['_slots'];if(_0x207061){const _0x3e8452=_0x134c11[_0x207061];if(!_0x3e8452){w['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x207061+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x3e8452['isPaused']&&_0x3e8452['resume']();}else{for(const _0x1ca4be in _0x134c11)_0x134c11[_0x1ca4be]['resume']();}}['stop'](_0x19cebc){const _0x4603e0=this['_slots'];if(_0x19cebc){const _0x443d49=_0x4603e0[_0x19cebc];if(!_0x443d49){w['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x19cebc+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x443d49['stop']();}else{for(const _0x176ee4 in _0x4603e0)_0x4603e0[_0x176ee4]['stop']();}}}h(Kr,'EVENT_PLAY','play'),h(Kr,'EVENT_PAUS'+'E','pause'),h(Kr,'EVENT_RESU'+'ME','resume'),h(Kr,'EVENT_STOP','stop'),h(Kr,'EVENT_END','end');class cF{constructor(){this['enabled']=!(0x11*0x1e5+-0x1*-0x245b+0x10*-0x449);}}const d0=['enabled'];class hF extends ct{constructor(_0x12eea4){super(_0x12eea4),this['id']='sound',this['ComponentT'+'ype']=Kr,this['DataType']=cF,this['schema']=d0,this['manager']=_0x12eea4['soundManag'+'er'],w['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x4ac358){this['manager']['volume']=_0x4ac358;}get['volume'](){return this['manager']['volume'];}get['context'](){return Dl()?this['manager']['context']:(w['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x179463,_0xd9ad71,_0x1f6f55){_0x1f6f55=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x43dbb5=0x266f+0x1b62+-0xcb*0x53;_0x43dbb5<_0x1f6f55['length'];_0x43dbb5++)_0xd9ad71['hasOwnProp'+'erty'](_0x1f6f55[_0x43dbb5])&&(_0x179463[_0x1f6f55[_0x43dbb5]]=_0xd9ad71[_0x1f6f55[_0x43dbb5]]);super['initialize'+'ComponentD'+'ata'](_0x179463,_0xd9ad71,['enabled']);}['cloneCompo'+'nent'](_0x159264,_0x347833){const _0x1e498e=_0x159264['sound'],_0x10b0a5=_0x1e498e['slots'],_0x4e62f9={};for(const _0x2348b3 in _0x10b0a5){const _0x6d3dea=_0x10b0a5[_0x2348b3];_0x4e62f9[_0x2348b3]={'name':_0x6d3dea['name'],'volume':_0x6d3dea['volume'],'pitch':_0x6d3dea['pitch'],'loop':_0x6d3dea['loop'],'duration':_0x6d3dea['duration'],'startTime':_0x6d3dea['startTime'],'overlap':_0x6d3dea['overlap'],'autoPlay':_0x6d3dea['autoPlay'],'asset':_0x6d3dea['asset']};}const _0x4134ae={'distanceModel':_0x1e498e['distanceMo'+'del'],'enabled':_0x1e498e['enabled'],'maxDistance':_0x1e498e['maxDistanc'+'e'],'pitch':_0x1e498e['pitch'],'positional':_0x1e498e['positional'],'refDistance':_0x1e498e['refDistanc'+'e'],'rollOffFactor':_0x1e498e['rollOffFac'+'tor'],'slots':_0x4e62f9,'volume':_0x1e498e['volume']};return this['addCompone'+'nt'](_0x347833,_0x4134ae);}['onUpdate'](_0x48b3b9){const _0x2717f8=this['store'];for(const _0x5179ca in _0x2717f8)if(_0x2717f8['hasOwnProp'+'erty'](_0x5179ca)){const _0x250ef1=_0x2717f8[_0x5179ca]['entity'];if(_0x250ef1['enabled']){const _0xebf749=_0x250ef1['sound'];if(_0xebf749['enabled']&&_0xebf749['positional']){const _0x59fc53=_0x250ef1['getPositio'+'n'](),_0x4c1211=_0xebf749['slots'];for(const _0x4dd1c6 in _0x4c1211)_0x4c1211[_0x4dd1c6]['updatePosi'+'tion'](_0x59fc53);}}}}['onBeforeRe'+'move'](_0x1fa277,_0xb2c8f6){const _0x5359b6=_0xb2c8f6['slots'];for(const _0x3f5bca in _0x5359b6)_0x5359b6[_0x3f5bca]['overlap']||_0x5359b6[_0x3f5bca]['stop']();_0xb2c8f6['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Kr['prototype'],d0);const lS='simple',cS='animated';class Hi extends me{constructor(_0x4b3cc9,_0x222144){super(),h(this,'_evtSetMes'+'hes',null),(this['_component']=_0x4b3cc9,this['_frame']=0x6c5*-0x1+-0x3f*0x19+0xcec,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x222144['spriteAsse'+'t'],this['name']=_0x222144['name'],this['fps']=_0x222144['fps']||-0xfa3+0x801+0x2*0x3d1,this['loop']=_0x222144['loop']||!(-0x2675+-0x1607+0x3c7d),this['_playing']=!(-0x91b+-0x1*-0x1eb2+-0x6*0x399),this['_paused']=!(-0x6*0x533+-0x191*-0x2+0x1c11*0x1),this['_time']=0x44b*0x1+0x5*0x59d+-0xda*0x26);}get['duration'](){if(this['_sprite']){const _0x3068c7=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x3068c7);}return-0xd66+0xdff+-0x99*0x1;}set['frame'](_0x4e4076){this['_setFrame'](_0x4e4076);const _0x2a19ac=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x2a19ac);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x4806da){var _0x300ed3;if(this['_sprite']&&((_0x300ed3=this['_evtSetMes'+'hes'])==null||_0x300ed3['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x4806da,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x552e3b;!_0x4806da||!_0x4806da['atlas']?(_0x552e3b=this['_component']['_meshInsta'+'nce'],_0x552e3b&&(_0x552e3b['deletePara'+'meter']('texture_em'+'issiveMap'),_0x552e3b['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x4806da['atlas']['texture']&&(_0x552e3b=this['_component']['_meshInsta'+'nce'],_0x552e3b&&(_0x552e3b['setParamet'+'er']('texture_em'+'issiveMap',_0x4806da['atlas']['texture']),_0x552e3b['setParamet'+'er']('texture_op'+'acityMap',_0x4806da['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x28f193){const _0xe2e1b9=this['_component']['system']['app']['assets'];let _0x325745=_0x28f193;if(_0x28f193 instanceof pe&&(_0x325745=_0x28f193['id']),this['_spriteAss'+'et']!==_0x325745){if(this['_spriteAss'+'et']){const _0x536861=_0xe2e1b9['get'](this['_spriteAss'+'et']);_0x536861&&this['_unbindSpr'+'iteAsset'](_0x536861);}if(this['_spriteAss'+'et']=_0x325745,this['_spriteAss'+'et']){const _0xb9be3b=_0xe2e1b9['get'](this['_spriteAss'+'et']);_0xb9be3b?this['_bindSprit'+'eAsset'](_0xb9be3b):(this['sprite']=null,_0xe2e1b9['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x495397){this['_setTime'](_0x495397),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(0x1*0x23+0x1ff8+-0x201a),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=-0x13*0x16e+-0x8fe+0x90a*0x4;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x2b9180){this['_component']['system']['app']['assets']['off']('add:'+_0x2b9180['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x2b9180['id']&&this['_bindSprit'+'eAsset'](_0x2b9180);}['_bindSprit'+'eAsset'](_0x3c9858){_0x3c9858['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x3c9858['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x3c9858['resource']?this['_onSpriteA'+'ssetLoad'](_0x3c9858):this['_component']['system']['app']['assets']['load'](_0x3c9858);}['_unbindSpr'+'iteAsset'](_0x31f377){_0x31f377&&(_0x31f377['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x31f377['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x31f377['resource']&&!_0x31f377['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x31f377['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x495b55){if(!_0x495b55['resource'])this['sprite']=null;else{if(_0x495b55['resource']['atlas'])this['sprite']=_0x495b55['resource'];else{const _0x3df179=_0x495b55['data']['textureAtl'+'asAsset'],_0x2bb6cf=this['_component']['system']['app']['assets'];_0x2bb6cf['off']('load:'+_0x3df179,this['_onTexture'+'AtlasLoad'],this),_0x2bb6cf['once']('load:'+_0x3df179,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x1390f7){const _0x3af1a9=this['_spriteAss'+'et'];_0x3af1a9 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x3af1a9):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x3af1a9));}['_onSpriteA'+'ssetRemove'](_0xcd9507){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==ci&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x27edd5){if(this['fps']===-0xdf*-0x3+0x10a4*-0x1+0xe07*0x1||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x3a18ea=this['fps']<0x1bae+0x13c3+-0x1*0x2f71?-(-0x1303+-0x21a1*-0x1+-0xe9d):0x19*0x2+-0x237d+-0x11a6*-0x2,_0x40aeb9=this['_time']+_0x27edd5*this['_component']['speed']*_0x3a18ea,_0x49c857=this['duration'],_0x25b685=_0x40aeb9>_0x49c857||_0x40aeb9<0x3a2+-0xa2*0x3+0x6f*-0x4;this['_setTime'](_0x40aeb9);let _0xe04661=this['frame'];this['_sprite']?_0xe04661=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x49c857):_0xe04661=-0x1b*0x62+-0x162f+0x681*0x5,_0xe04661!==this['_frame']&&this['_setFrame'](_0xe04661),_0x25b685&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(-0xd*-0x116+-0x12b3*-0x1+0xc8*-0x2a),this['_paused']=!(0x14b1+-0x15af+0xff),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x1520eb){this['_time']=_0x1520eb;const _0x224286=this['duration'];this['_time']<0x1dbc+-0x1*-0x2361+-0x411d?this['loop']?this['_time']=this['_time']%_0x224286+_0x224286:this['_time']=0x1fc0+0x11b7*-0x1+0x1*-0xe09:this['_time']>_0x224286&&(this['loop']?this['_time']%=_0x224286:this['_time']=_0x224286);}['_setFrame'](_0x393e61){this['_sprite']?this['_frame']=Y['clamp'](_0x393e61,0x2576+-0x1*0x1379+-0x11fd,this['_sprite']['frameKeys']['length']-(0x35*0x8b+0x1*-0x1479+0x55*-0x19)):this['_frame']=_0x393e61,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x167180=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x167180['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(-0x1372+-0x4b*0xa+0x598*0x4),this['_paused']=!(-0x1*-0x179b+-0x3*-0x799+-0x2e65),this['frame']=0x5*-0x6b+0x1348+0x1e9*-0x9,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(-0xf2c+-0x5*0x581+0x2ab1),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(-0x1574+-0xd3*-0x7+0xfb0),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(-0x5ae*0x6+0xa5*-0xb+0x154*0x1f),this['_paused']=!(0xef2+-0x22e7+-0x13f6*-0x1),this['_time']=-0x65f*-0x6+-0x27a*-0x2+-0x2b2e,this['frame']=0x99a+-0xf50+0x2db*0x2,this['fire']('stop'),this['_component']['fire']('stop',this));}}h(Hi,'EVENT_PLAY','play'),h(Hi,'EVENT_PAUS'+'E','pause'),h(Hi,'EVENT_RESU'+'ME','resume'),h(Hi,'EVENT_STOP','stop'),h(Hi,'EVENT_END','end'),h(Hi,'EVENT_LOOP','loop');const hS='texture_em'+'issiveMap',dS='texture_op'+'acityMap',fS='material_e'+'missive',uS='material_o'+'pacity',dF='innerOffse'+'t',fF='outerScale',uF='atlasRect';class ur extends we{constructor(_0x19cedf,_0x21e239){super(_0x19cedf,_0x21e239),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_type']=lS,this['_material']=_0x19cedf['defaultMat'+'erial'],this['_color']=new ie(0x79d*0x1+0x5*0xd6+-0x5e5*0x2,0x1*-0x1933+0x23e*-0x1+0x1b72,-0x60d+-0x23ed+0x29fb,0x1de8+0x89*-0x5+-0x1b3a),this['_colorUnif'+'orm']=new Float32Array(0x1*0x1ec3+0x1a3+-0x2063),this['_speed']=-0x4*0x78b+-0x9*0xa3+0x23e8,this['_flipX']=!(-0x2*0xbcf+0x1*0xd9d+0xa02),this['_flipY']=!(0x1*-0x16df+0xcdc+0xa04),this['_width']=0x170f+0x1908+-0x3016,this['_height']=0x1736+-0x4*-0x9ac+-0x3de5*0x1,this['_drawOrder']=-0x5*0x581+-0xf5e*-0x2+0x1*-0x337,this['_layers']=[er],this['_outerScal'+'e']=new J(-0x1a2a+0x1d2f+-0x304,-0x9*-0x155+-0x2186+-0x2*-0xac5),this['_outerScal'+'eUniform']=new Float32Array(-0xee3+0xc0c*0x2+-0xf*0x9d),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(-0x68b+0x1*-0x1169+0x17f8),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(-0x1*-0x14e+0x23b1*0x1+0x24fb*-0x1),this['_batchGrou'+'pId']=-(-0x296*0x2+-0x1b72+0x209f),this['_batchGrou'+'p']=null,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x21e239['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x21e239,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(-0x29d*-0x1+-0x1d88*-0x1+0x1*-0x2024),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new Hi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(-0xbff+-0x2*0x710+-0x13*-0x160),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x4038ec){this['_type']!==_0x4038ec&&(this['_type']=_0x4038ec,this['_type']===lS?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===cS&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x450c06){this['_currentCl'+'ip']['frame']=_0x450c06;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x474be1){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x474be1;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x37e802){this['_currentCl'+'ip']['sprite']=_0x37e802;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x90d351){this['_material']=_0x90d351,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x90d351);}get['material'](){return this['_material'];}set['color'](_0x17b946){this['_color']['r']=_0x17b946['r'],this['_color']['g']=_0x17b946['g'],this['_color']['b']=_0x17b946['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][0x1274*0x1+-0x1d83+0xb0f*0x1]=this['_color']['r'],this['_colorUnif'+'orm'][0x1*-0x15f+0x1d5*-0x1+0x1*0x335]=this['_color']['g'],this['_colorUnif'+'orm'][0x1*-0xf6b+0x5fe*0x3+-0x28d]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x5bd2df){this['_color']['a']=_0x5bd2df,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](uS,_0x5bd2df);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x55c89e){if(!_0x55c89e){for(const _0x1f9aa2 in this['_clips'])this['removeClip'](_0x1f9aa2);return;}for(const _0x2a3f12 in this['_clips']){let _0x283088=!(0x1b3b+0x1*0x1145+-0x2c7f*0x1);for(const _0x5dc064 in _0x55c89e)if(_0x55c89e[_0x5dc064]['name']===_0x2a3f12){_0x283088=!(-0x481+-0x1a81+-0x12*-0x1b9),this['_clips'][_0x2a3f12]['fps']=_0x55c89e[_0x5dc064]['fps'],this['_clips'][_0x2a3f12]['loop']=_0x55c89e[_0x5dc064]['loop'],_0x55c89e[_0x5dc064]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x2a3f12]['sprite']=_0x55c89e[_0x5dc064]['sprite']:_0x55c89e[_0x5dc064]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x2a3f12]['spriteAsse'+'t']=_0x55c89e[_0x5dc064]['spriteAsse'+'t']);break;}_0x283088||this['removeClip'](_0x2a3f12);}for(const _0x4f7fe2 in _0x55c89e)this['_clips'][_0x55c89e[_0x4f7fe2]['name']]||this['addClip'](_0x55c89e[_0x4f7fe2]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x3ec6bc){this['_speed']=_0x3ec6bc;}get['speed'](){return this['_speed'];}set['flipX'](_0x45439a){this['_flipX']!==_0x45439a&&(this['_flipX']=_0x45439a,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x3d6915){this['_flipY']!==_0x3d6915&&(this['_flipY']=_0x3d6915,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x55d650){_0x55d650!==this['_width']&&(this['_width']=_0x55d650,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x194873){_0x194873!==this['_height']&&(this['_height']=_0x194873,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0xf2facf){var _0x23d033,_0x1e6924;if(this['_batchGrou'+'pId']===_0xf2facf)return;const _0x3b38ad=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0xf2facf,this['entity']['enabled']&&_0x3b38ad>=0x2062+-0x11*-0xe3+-0x2f75&&((_0x23d033=this['system']['app']['batcher'])==null||_0x23d033['remove'](St['SPRITE'],_0x3b38ad,this['entity'])),this['entity']['enabled']&&_0xf2facf>=-0x1b4f*0x1+-0x21c6+0x337*0x13?(_0x1e6924=this['system']['app']['batcher'])==null||_0x1e6924['insert'](St['SPRITE'],_0xf2facf,this['entity']):_0x3b38ad>=0xcc9*-0x3+-0x1189+0x37e4&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x1e5849){this['_autoPlayC'+'lip']=_0x1e5849 instanceof Hi?_0x1e5849['name']:_0x1e5849,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x4aae97){this['_drawOrder']=_0x4aae97,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x4aae97);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x50a5be){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x50a5be,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0xcc89f5;const _0x28cd71=this['system']['app'],_0x118f0e=_0x28cd71['scene'],_0xf36c74=_0x118f0e['layers'];this['_evtLayers'+'Changed']=_0x118f0e['on']('set:layers',this['_onLayersC'+'hanged'],this),_0xf36c74&&(this['_evtLayerA'+'dded']=_0xf36c74['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0xf36c74['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=0x3b1+-0x23d7+-0x337*-0xa&&((_0xcc89f5=_0x28cd71['batcher'])==null||_0xcc89f5['insert'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x277693,_0x3d895c,_0x291b3c,_0x2e1434;const _0x373c0b=this['system']['app'],_0x364f23=_0x373c0b['scene']['layers'];(_0x277693=this['_evtLayers'+'Changed'])==null||_0x277693['off'](),this['_evtLayers'+'Changed']=null,_0x364f23&&((_0x3d895c=this['_evtLayerA'+'dded'])==null||_0x3d895c['off'](),this['_evtLayerA'+'dded']=null,(_0x291b3c=this['_evtLayerR'+'emoved'])==null||_0x291b3c['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=-0x179*0x17+-0xd4c+0x2f2b&&((_0x2e1434=_0x373c0b['batcher'])==null||_0x2e1434['remove'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x1a2f88;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x2bc4f1 in this['_clips'])this['_clips'][_0x2bc4f1]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x1a2f88=this['_node'])==null||_0x1a2f88['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x3c78e6=[this['_meshInsta'+'nce']];for(let _0x3b7bc3=0x1fc1+-0x31a*0x2+-0x198d,_0x1b596a=this['_layers']['length'];_0x3b7bc3<_0x1b596a;_0x3b7bc3++){const _0x1c13ec=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x3b7bc3]);_0x1c13ec&&_0x1c13ec['addMeshIns'+'tances'](_0x3c78e6);}this['_addedMode'+'l']=!(0x17ec+0x1346*-0x1+-0x7*0xaa);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x139c95=[this['_meshInsta'+'nce']];for(let _0x1b68e2=0x2*0x25f+0x1d76*0x1+0xc7*-0x2c,_0x32c29f=this['_layers']['length'];_0x1b68e2<_0x32c29f;_0x1b68e2++){const _0x102821=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x1b68e2]);_0x102821&&_0x102821['removeMesh'+'Instances'](_0x139c95);}this['_addedMode'+'l']=!(0x2*0xd2a+-0xf17*0x1+-0x2cf*0x4);}['_showFrame'](_0x51a248){if(!this['sprite'])return;const _0x122928=this['sprite']['meshes'][_0x51a248];if(!_0x122928){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(0x1*-0xe57+0x1bd1+-0xd79*0x1));return;}let _0x148bff;if(this['sprite']['renderMode']===Pt?_0x148bff=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Mt?_0x148bff=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x148bff=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new He(_0x122928,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(0x192*0x4+0x1*0x2113+0x1*-0x275a),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(-0x49*0x86+0x1ec5*0x1+0x772),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][0x35c+0x8*-0x437+0x1e5c]=this['_color']['r'],this['_colorUnif'+'orm'][-0x24b*-0xe+0x805*-0x1+0xc0a*-0x2]=this['_color']['g'],this['_colorUnif'+'orm'][0x218d+-0x1fd+-0x1f8e]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](uS,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x148bff&&(this['_meshInsta'+'nce']['material']=_0x148bff),this['_meshInsta'+'nce']['mesh']!==_0x122928&&(this['_meshInsta'+'nce']['mesh']=_0x122928,this['_meshInsta'+'nce']['visible']=!(0x18*0x149+-0x6*0x287+-0xfae),this['_meshInsta'+'nce']['_aabbVer']=-(-0x228b+-0x1662+0x6*0x97d)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](hS,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](dS,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](hS),this['_meshInsta'+'nce']['deletePara'+'meter'](dS)),this['sprite']['atlas']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x5a490e=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x51a248]];if(_0x5a490e){const _0x3a4398=(-0x173*0x1+0x1*0x26e+-0xf9*0x1)/_0x5a490e['rect']['z'],_0x342df0=(0xf16+-0x32e*0x7+0x72e)/_0x5a490e['rect']['w'];this['_innerOffs'+'et']['set'](_0x5a490e['border']['x']*_0x3a4398,_0x5a490e['border']['y']*_0x342df0,_0x5a490e['border']['z']*_0x3a4398,_0x5a490e['border']['w']*_0x342df0);const _0x5c8a6b=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x5a490e['rect']['x']/_0x5c8a6b['width'],_0x5a490e['rect']['y']/_0x5c8a6b['height'],_0x5a490e['rect']['z']/_0x5c8a6b['width'],_0x5a490e['rect']['w']/_0x5c8a6b['height']);}else this['_innerOffs'+'et']['set'](0x26*-0x3d+-0x1*0x15c+-0x1*-0xa6a,-0x16bd+-0x101e+0x26db,-0x1c2f+0x8ea+0x1345,0x7b5*0x1+0x432*0x1+-0x1*0xbe7);this['_innerOffs'+'etUniform'][-0x6c1+0x19f9+-0xcd*0x18]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x2*-0x493+0x105a+0x1*-0x197f]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x2313+-0xed*0x1+0x4c*-0x73]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x1*0x2219+-0xb7+0x22d3]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](dF,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x1c52+0x102a+-0x2c7c]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x2613+0x257*0x7+0x15b3]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x12d1+-0x242f+0x3702]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x23e3+-0x1*0x1e7b+-0x1*-0x4261]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](uF,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x5b1012=this['flipX']?-(-0x67*0x7+-0x93d+0xc0f):0x1*0x14c3+-0x1*0x11ff+-0x7*0x65,_0x551075=this['flipY']?-(0x20*0xf3+-0xe*0xeb+-0x1185):0x7c3*-0x1+0x1473+0x11*-0xbf,_0x6735b8=0x12fd+-0x146f+0x4a*0x5,_0x41906b=-0x81d*-0x3+-0xaed*0x2+0xd*-0x31;if(this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){let _0x403cc4=-0x10aa+-0x1*-0xbe7+0x4c4,_0x5b106b=0x17d1+0x157a+-0x2d4a;if(this['sprite']['atlas']){const _0x4f875f=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x4f875f&&(_0x403cc4=_0x4f875f['rect']['z'],_0x5b106b=_0x4f875f['rect']['w'],_0x6735b8=(0x16e3+-0x1*0x80f+-0x34*0x49+0.5-_0x4f875f['pivot']['x'])*this['_width'],_0x41906b=(0x63d*-0x4+0x19e3+-0xef+0.5-_0x4f875f['pivot']['y'])*this['_height']);}const _0x2a52ca=_0x403cc4/this['sprite']['pixelsPerU'+'nit'],_0x3cfc87=_0x5b106b/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x2a52ca),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x3cfc87)),_0x5b1012*=_0x2a52ca,_0x551075*=_0x3cfc87,this['_outerScal'+'e']['x']/=_0x2a52ca,this['_outerScal'+'e']['y']/=_0x3cfc87,_0x5b1012*=Y['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x2a52ca),-0x1cda+-0x4*0x82c+0x3d8a+0.0001,-0xd6b+-0x447+0x11b3),_0x551075*=Y['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x3cfc87),-0x16e4+-0x1*0x23b0+0x3a94+0.0001,0x21*0xa3+0x1*0x10f1+0x5*-0x797),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][-0x2205+-0xb80+0x2d85]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x2*-0x94+-0x25*0xc9+-0x1*-0x1e36]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](fF,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x5b1012,_0x551075,-0x3*-0x595+0x1622+0x8*-0x4dc),this['_node']['setLocalPo'+'sition'](_0x6735b8,_0x41906b,-0x41*0x3b+0x17f5+0x2fe*-0x3);}['_updateAab'+'b'](_0x3a5bfe){return _0x3a5bfe['center']['set'](-0xafc+-0x24f+0xd4b,0x5df*-0x3+-0x114*-0x8+0x8fd*0x1,-0xef6+0x62*0x1d+0x3dc),_0x3a5bfe['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x2*-0xb0e+-0x2f4+0x1910+0.5),this['_outerScal'+'e']['y']*(0x1ae3+0xe6a+-0x294d+0.5),0x2*0x11ef+0x2001+0x1*-0x43df+0.001),_0x3a5bfe['setFromTra'+'nsformedAa'+'bb'](_0x3a5bfe,this['_node']['getWorldTr'+'ansform']()),_0x3a5bfe;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==cS)return;const _0x2acd2e=this['_clips'][this['_autoPlayC'+'lip']];_0x2acd2e&&!_0x2acd2e['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x2acd2e['name']);}['_onLayersC'+'hanged'](_0x586722,_0x227222){_0x586722['off']('add',this['onLayerAdd'+'ed'],this),_0x586722['off']('remove',this['onLayerRem'+'oved'],this),_0x227222['on']('add',this['onLayerAdd'+'ed'],this),_0x227222['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x242f46){this['layers']['indexOf'](_0x242f46['id'])<0x1*0x1e7+0x1285+-0x146c||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x242f46['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x3a9d88){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x3a9d88['id'])<0x152a+-0xa*0xdf+0x63a*-0x2||_0x3a9d88['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x5b6fc2=0x2679+0x93d+-0x2fb6;_0x5b6fc2<this['layers']['length'];_0x5b6fc2++){const _0x12c059=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5b6fc2]);_0x12c059&&_0x12c059['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0xd33dfe){const _0x533409=new Hi(this,{'name':_0xd33dfe['name'],'fps':_0xd33dfe['fps'],'loop':_0xd33dfe['loop'],'spriteAsset':_0xd33dfe['spriteAsse'+'t']});return this['_clips'][_0xd33dfe['name']]=_0x533409,_0x533409['name']&&_0x533409['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x533409;}['removeClip'](_0x13f86d){delete this['_clips'][_0x13f86d];}['clip'](_0x4f3603){return this['_clips'][_0x4f3603];}['play'](_0x289f75){const _0x3eca60=this['_clips'][_0x289f75],_0x1aac06=this['_currentCl'+'ip'];return _0x1aac06&&_0x1aac06!==_0x3eca60&&(_0x1aac06['_playing']=!(0x7d*0x47+0x1*-0x1ed7+0x59*-0xb)),this['_currentCl'+'ip']=_0x3eca60,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x3eca60,this['_currentCl'+'ip']['play']()):w['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x289f75+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x3eca60;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}h(ur,'EVENT_PLAY','play'),h(ur,'EVENT_PAUS'+'E','pause'),h(ur,'EVENT_RESU'+'ME','resume'),h(ur,'EVENT_STOP','stop'),h(ur,'EVENT_END','end'),h(ur,'EVENT_LOOP','loop');class pF{constructor(){this['enabled']=!(-0xa90+0x2*0xafb+-0x5b3*0x2);}}const f0=['enabled'];class mF extends ct{constructor(_0x58368f){super(_0x58368f),this['id']='sprite',this['ComponentT'+'ype']=ur,this['DataType']=pF,this['schema']=f0,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x12b862){this['_defaultMa'+'terial']=_0x12b862;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x3588ac=new _e(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'sprite'}),_0x4f81b4=new Uint8Array(_0x3588ac['lock']());_0x4f81b4[-0x52*-0x12+0x2*0xcb0+-0x1*0x1f24]=_0x4f81b4[-0x17*0x1f+-0x1879+0x1b43*0x1]=_0x4f81b4[-0x2fa+0x1*-0x18fb+-0x1*-0x1bf7]=_0x4f81b4[0x1*0x8aa+0x2174+-0x1*0x2a1b]=-0x48d+-0x3f2+0x97e,_0x3588ac['unlock']();const _0x3aa1c1=new Ut();_0x3aa1c1['diffuse']['set'](0x1*-0x91d+0x346*0x1+0x5d7,0x1*0x2467+0x1c65+-0xb*0x5e4,-0x1*0x787+-0x1a50*-0x1+-0x12c9),_0x3aa1c1['emissive']['set'](0x188*-0x13+-0xf1+-0x5*-0x602,-0x5*0x323+0x1*-0x11c4+0x2174,-0x9*0x2c5+-0xc4c*-0x3+0x5fb*-0x2),_0x3aa1c1['emissiveMa'+'p']=_0x3588ac,_0x3aa1c1['opacityMap']=_0x3588ac,_0x3aa1c1['opacityMap'+'Channel']='a',_0x3aa1c1['useLightin'+'g']=!(0xe2f*-0x2+0x1f4b*-0x1+0x3baa),_0x3aa1c1['useTonemap']=!(0x7*-0x3c1+0x1395+-0xf5*-0x7),_0x3aa1c1['useFog']=!(0x26f3+0x252e+0x570*-0xe),_0x3aa1c1['useSkybox']=!(-0x38*0x11+0x113d+-0xd84),_0x3aa1c1['blendType']=Gn,_0x3aa1c1['depthWrite']=!(-0x6*-0x1f3+0xab2+-0x1*0x1663),_0x3aa1c1['pixelSnap']=!(0x13d*-0x7+-0x248f*0x1+0x1*0x2d3b),_0x3aa1c1['cull']=bt,_0x3aa1c1['update'](),this['_defaultTe'+'xture']=_0x3588ac,this['_defaultMa'+'terial']=_0x3aa1c1;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x4efe88){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x4efe88;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x4b6508=this['defaultMat'+'erial']['clone']();_0x4b6508['nineSliced'+'Mode']=Pt,_0x4b6508['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x4b6508;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x236ef2){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x236ef2;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x3a7029=this['defaultMat'+'erial']['clone']();_0x3a7029['nineSliced'+'Mode']=Mt,_0x3a7029['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x3a7029;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x2b10ba,_0x45c079,_0x274552){if(_0x45c079['enabled']!==void(0x2*-0x807+0xb*-0x2c5+0x1*0x2e85)&&(_0x2b10ba['enabled']=_0x45c079['enabled']),_0x2b10ba['type']=_0x45c079['type'],_0x45c079['layers']&&Array['isArray'](_0x45c079['layers'])&&(_0x2b10ba['layers']=_0x45c079['layers']['slice'](-0x1*-0x20ed+0x1c9*-0x12+-0xcb)),_0x45c079['drawOrder']!==void(-0x25d8+0x8a1+-0x9*-0x33f)&&(_0x2b10ba['drawOrder']=_0x45c079['drawOrder']),_0x45c079['color']!==void(-0x17c5+0xb0+-0x1715*-0x1)&&(_0x45c079['color']instanceof ie?_0x2b10ba['color']['set'](_0x45c079['color']['r'],_0x45c079['color']['g'],_0x45c079['color']['b'],_0x45c079['opacity']??0x3a0+0x988+-0xd27):_0x2b10ba['color']['set'](_0x45c079['color'][0x218b+-0xc2*0x20+-0x94b],_0x45c079['color'][-0x9e3*-0x1+0x2*0x4c+-0x3*0x37e],_0x45c079['color'][-0x24b4+0x55*-0x59+-0x4243*-0x1],_0x45c079['opacity']??-0x16f*0x1+-0x1c55+-0x1*-0x1dc5),_0x2b10ba['color']=_0x2b10ba['color']),_0x45c079['opacity']!==void(-0x438*-0x9+-0x1*-0x184d+-0x3e45)&&(_0x2b10ba['opacity']=_0x45c079['opacity']),_0x45c079['flipX']!==void(0x1934+0x114e+-0x1*0x2a82)&&(_0x2b10ba['flipX']=_0x45c079['flipX']),_0x45c079['flipY']!==void(0x6d9*-0x1+0x87b*0x1+-0x1a2)&&(_0x2b10ba['flipY']=_0x45c079['flipY']),_0x45c079['width']!==void(-0x76a*0x4+-0xd*0x2cb+0x41f7)&&(_0x2b10ba['width']=_0x45c079['width']),_0x45c079['height']!==void(0x58*0x55+-0x1c26+0x1*-0x112)&&(_0x2b10ba['height']=_0x45c079['height']),_0x45c079['spriteAsse'+'t']!==void(0xcd*-0xa+-0x19a*0x9+0x166c)&&(_0x2b10ba['spriteAsse'+'t']=_0x45c079['spriteAsse'+'t']),_0x45c079['sprite']&&(_0x2b10ba['sprite']=_0x45c079['sprite']),_0x45c079['frame']!==void(0x13*-0x3f+0x1531+-0x1084)&&(_0x2b10ba['frame']=_0x45c079['frame']),_0x45c079['clips']){for(const _0x48a41d in _0x45c079['clips'])_0x2b10ba['addClip'](_0x45c079['clips'][_0x48a41d]);}_0x45c079['speed']!==void(0x25d9*0x1+-0x1cdd+-0x8fc)&&(_0x2b10ba['speed']=_0x45c079['speed']),_0x45c079['autoPlayCl'+'ip']&&(_0x2b10ba['autoPlayCl'+'ip']=_0x45c079['autoPlayCl'+'ip']),_0x2b10ba['batchGroup'+'Id']=_0x45c079['batchGroup'+'Id']===void(-0xff4+0x3db+0x1*0xc19)||_0x45c079['batchGroup'+'Id']===null?-(0x1*0x262b+-0x1277+-0x13b3):_0x45c079['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x2b10ba,_0x45c079,_0x274552);}['cloneCompo'+'nent'](_0x30fa48,_0x334245){const _0x2416fc=_0x30fa48['sprite'];return this['addCompone'+'nt'](_0x334245,{'enabled':_0x2416fc['enabled'],'type':_0x2416fc['type'],'spriteAsset':_0x2416fc['spriteAsse'+'t'],'sprite':_0x2416fc['sprite'],'width':_0x2416fc['width'],'height':_0x2416fc['height'],'frame':_0x2416fc['frame'],'color':_0x2416fc['color']['clone'](),'opacity':_0x2416fc['opacity'],'flipX':_0x2416fc['flipX'],'flipY':_0x2416fc['flipY'],'speed':_0x2416fc['speed'],'clips':_0x2416fc['clips'],'autoPlayClip':_0x2416fc['autoPlayCl'+'ip'],'batchGroupId':_0x2416fc['batchGroup'+'Id'],'drawOrder':_0x2416fc['drawOrder'],'layers':_0x2416fc['layers']['slice'](0x3*-0x2f6+0x1c59+0x67d*-0x3)});}['onUpdate'](_0x23a2ff){const _0x196057=this['store'];for(const _0x4b99a4 in _0x196057)if(_0x196057['hasOwnProp'+'erty'](_0x4b99a4)){const _0x245216=_0x196057[_0x4b99a4];if(_0x245216['data']['enabled']&&_0x245216['entity']['enabled']){const _0x5edbaf=_0x245216['entity']['sprite'];_0x5edbaf['_currentCl'+'ip']&&_0x5edbaf['_currentCl'+'ip']['_update'](_0x23a2ff);}}}['onBeforeRe'+'move'](_0x38f6da,_0xd0b495){_0xd0b495['onDestroy']();}}we['_buildAcce'+'ssors'](ur['prototype'],f0);class _n extends we{constructor(_0xdfd60a,_0x5cb345){super(_0xdfd60a,_0x5cb345),this['_oldState']=!(-0x1cbf+0x865+-0x412*-0x5),this['_size']=new D(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x99ce5a){_0x99ce5a instanceof D?this['_size']['copy'](_0x99ce5a):_0x99ce5a instanceof Array&&_0x99ce5a['length']>=0x2f*0x2f+-0x2c*-0x4f+0x3*-0x766&&this['size']['set'](_0x99ce5a[0x112*-0x10+-0xc*-0x314+-0x13d0],_0x99ce5a[0x66a+0x5*0x37+-0x77c],_0x99ce5a[-0x7*0x28d+0x5*0x387+0x1d*0x2]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x5f3dda,_0x474ced,_0x729d96){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x38c761=this['enabled']&&this['entity']['enabled'];_0x38c761!==this['_oldState']&&(this['_oldState']=_0x38c761,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}h(_n,'EVENT_ENAB'+'LE','enable'),h(_n,'EVENT_DISA'+'BLE','disable'),h(_n,'EVENT_STAT'+'E','state'),h(_n,'EVENT_REMO'+'VE','remove');class _F{constructor(){this['enabled']=!(-0x4*-0x77+-0x1*-0x96d+-0xb49);}}const u0=['enabled'];class gF extends ct{constructor(_0x1b57ca){super(_0x1b57ca),this['id']='zone',this['ComponentT'+'ype']=_n,this['DataType']=_F,this['schema']=u0,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x366518,_0x278235,_0x14c578){_0x366518['enabled']=_0x278235['hasOwnProp'+'erty']('enabled')?!!_0x278235['enabled']:!(-0x1*-0xca7+0x12d+-0xdd4),_0x278235['size']&&(_0x278235['size']instanceof D?_0x366518['size']['copy'](_0x278235['size']):_0x278235['size']instanceof Array&&_0x278235['size']['length']>=0x1b82+-0x4a3*-0x4+0x2e0b*-0x1&&_0x366518['size']['set'](_0x278235['size'][-0x2ff+0x12aa*-0x2+0x2853],_0x278235['size'][-0xd4b+-0x2*-0xb07+-0x3b*0x26],_0x278235['size'][-0x1*-0x1082+0x1aad*0x1+-0x2b2d]));}['cloneCompo'+'nent'](_0x424a1c,_0x441feb){const _0x38cca6={'enabled':_0x424a1c['zone']['enabled'],'size':_0x424a1c['zone']['size']};return this['addCompone'+'nt'](_0x441feb,_0x38cca6);}['_onBeforeR'+'emove'](_0x32bb82,_0x3a0690){_0x3a0690['_onBeforeR'+'emove']();}}we['_buildAcce'+'ssors'](_n['prototype'],u0);class SF{constructor(_0x191125,_0x519930){this['effect']=_0x191125,this['inputTarge'+'t']=_0x519930,this['outputTarg'+'et']=null,this['name']=_0x191125['constructo'+'r']['name'];}}class yF{constructor(_0x454d18,_0x2b9556){this['app']=_0x454d18,this['camera']=_0x2b9556,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(0xe54+0x1fbc+-0x38b*0xd),this['depthTarge'+'t']=null,_0x2b9556['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x55ee0c,_0x2ba285){const _0x34361b=this['camera']['rect'],_0x4a5b5a=this['destinatio'+'nRenderTar'+'get'],_0x116a60=this['app']['graphicsDe'+'vice'],_0x247f3b=Math['floor'](_0x34361b['z']*((_0x4a5b5a==null?void(0x8*-0x30d+0xd*-0x179+0x2b8d):_0x4a5b5a['width'])??_0x116a60['width'])),_0x36d660=Math['floor'](_0x34361b['w']*((_0x4a5b5a==null?void(-0x6df*-0x3+-0x2500+-0x1063*-0x1):_0x4a5b5a['height'])??_0x116a60['height']));return new _e(_0x116a60,{'name':_0x2ba285,'format':_0x55ee0c,'width':_0x247f3b,'height':_0x36d660,'mipmaps':!(0x214c*0x1+0xd*-0x1df+0x148*-0x7),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});}['_createOff'+'screenTarg'+'et'](_0x9354b2,_0x5696db){const _0x5e3a06=this['app']['graphicsDe'+'vice'],_0x54f546=(this['destinatio'+'nRenderTar'+'get']??_0x5e3a06['backBuffer'])['isColorBuf'+'ferSrgb'](0x18a1+-0x60b+0x27*-0x7a),_0x46a593=(_0x5696db&&_0x5e3a06['getRendera'+'bleHdrForm'+'at']([nt,Xt],!(-0x2697+-0x1bfe*0x1+-0x983*-0x7)))??(_0x54f546?_s:Ne),_0x5cde17=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x34cf36=this['_allocateC'+'olorBuffer'](_0x46a593,_0x5cde17);return new gt({'colorBuffer':_0x34cf36,'depth':_0x9354b2,'stencil':_0x9354b2&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x9354b2?_0x5e3a06['samples']:0x15b*-0x5+-0x3a*-0x7f+-0x15fe});}['_resizeOff'+'screenTarg'+'et'](_0x4c6e49){const _0x271c94=_0x4c6e49['colorBuffe'+'r']['format'],_0x3718d1=_0x4c6e49['colorBuffe'+'r']['name'];_0x4c6e49['destroyFra'+'meBuffers'](),_0x4c6e49['destroyTex'+'tureBuffer'+'s'](),_0x4c6e49['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x271c94,_0x3718d1),_0x4c6e49['_colorBuff'+'ers']=[_0x4c6e49['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x5537db){_0x5537db['destroyTex'+'tureBuffer'+'s'](),_0x5537db['destroy']();}['addEffect'](_0x428fb6){const _0x1db81d=this['effects'],_0x2a94b3=_0x1db81d['length']===-0x2002+0x1*-0x1a9d+-0x15d*-0x2b,_0x4270ff=this['_createOff'+'screenTarg'+'et'](_0x2a94b3,_0x428fb6['hdr']),_0x1beae2=new SF(_0x428fb6,_0x4270ff);_0x1db81d['push'](_0x1beae2),this['_sourceTar'+'get']=_0x1beae2['inputTarge'+'t'],_0x1db81d['length']>0x1b0c+-0x79*-0x6+-0x1*0x1de1&&(_0x1db81d[_0x1db81d['length']-(0x25*-0x33+0xd27*0x2+-0x3c9*0x5)]['outputTarg'+'et']=_0x1beae2['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x428fb6,_0x428fb6['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(-0x1faa+-0x1ae3+-0x3a8d*-0x1);}['removeEffe'+'ct'](_0x54d436){let _0x591cb9=-(-0x1bee+-0x709*0x2+0x2a01);for(let _0x51b4d9=0x5*0x785+0x9*0x3ce+0x47d7*-0x1,_0x1de928=this['effects']['length'];_0x51b4d9<_0x1de928;_0x51b4d9++)if(this['effects'][_0x51b4d9]['effect']===_0x54d436){_0x591cb9=_0x51b4d9;break;}_0x591cb9>=0x1e81*-0x1+-0x1a09+0x1c45*0x2&&(_0x591cb9>0x2b9+-0xc5f+0x9a6?this['effects'][_0x591cb9-(-0x91*0x8+-0x23f9+0x2882)]['outputTarg'+'et']=_0x591cb9+(0x198*-0xe+-0x1*0x13b1+0x26*0x11b)<this['effects']['length']?this['effects'][_0x591cb9+(-0x55*-0x1+0x15a5+-0x1*0x15f9)]['inputTarge'+'t']:null:this['effects']['length']>0x3*0x199+0x3*-0x85d+-0x144d*-0x1&&(this['effects'][0x2*-0x5b3+0x33d*-0xa+-0x1*-0x2bc9]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][0x157e+0x1b5+-0x1*0x1732]['inputTarge'+'t']),this['effects'][-0x139c+0x59*0x15+-0x314*-0x4]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(-0xec3*-0x1+-0x83a+-0x689*0x1),this['effects'][0x26f9+-0x1*-0x17b0+0x191*-0x28]['hdr']),this['_sourceTar'+'get']=this['effects'][-0x11d5+0xa19+0x7bd]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][-0x1963+0x7f6*0x2+0x6*0x194]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x591cb9]['inputTarge'+'t']),this['effects']['splice'](_0x591cb9,0x74f*-0x1+-0x1*-0xf71+-0x1*0x821)),this['enabled']&&_0x54d436['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===0x1eb+-0x1*-0x5ae+-0x799&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x105136=0x1*-0x1bcd+0x206e+-0x4a1,_0x558855=this['effects']['length'];_0x105136<_0x558855;_0x105136++){const _0x598d13=this['effects'][_0x105136]['effect'];this['_newPostEf'+'fect']!==_0x598d13&&_0x598d13['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x5ebe4f=-0x1bb5+-0x12*-0x95+-0xb*-0x191,_0x556eca=this['effects']['length'];_0x5ebe4f<_0x556eca;_0x5ebe4f++)this['effects'][_0x5ebe4f]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x10257d=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x10257d&&(_0x10257d['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x1a0f+0x11f1*-0x2+0x3df1)));}['_releaseDe'+'pthMap'](){const _0x228742=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x228742&&(_0x228742['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0xab5*0x1+0x25*-0xfc+0x2f22)));}['destroy'](){for(let _0x6f0bc3=0x13b9+-0x13*0x178+-0x5*-0x1a3,_0x27c843=this['effects']['length'];_0x6f0bc3<_0x27c843;_0x6f0bc3++)this['effects'][_0x6f0bc3]['inputTarge'+'t']['destroy']();this['effects']['length']=0x1d1*0x9+-0x82a+-0x82f,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(0x76e+-0x22fd*0x1+0x11*0x19f),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][-0x4df+-0x1886*0x1+0x7*0x433]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x1c232e=null;const _0x282b2d=this['effects']['length'];if(_0x282b2d)for(let _0x3955df=0x1ab9+0x14f*0x13+-0x3396;_0x3955df<_0x282b2d;_0x3955df++){const _0x363f8f=this['effects'][_0x3955df];let _0x534ce6=_0x363f8f['outputTarg'+'et'];_0x3955df===_0x282b2d-(0x2244+-0x17*0xb3+0x917*-0x2)&&(_0x1c232e=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x534ce6=this['destinatio'+'nRenderTar'+'get'])),Q['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x363f8f['name']),_0x363f8f['effect']['render'](_0x363f8f['inputTarge'+'t'],_0x534ce6,_0x1c232e),Q['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(-0x16d6+-0x1f+-0x16f6*-0x1),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x3f0e1e,_0xa68fb0){const _0x189849=this['camera']['rect'],_0x537c01=this['destinatio'+'nRenderTar'+'get'];_0x3f0e1e=(_0x537c01==null?void(-0x24dc+-0x23e3+0x48bf):_0x537c01['width'])??_0x3f0e1e,_0xa68fb0=(_0x537c01==null?void(0x1e2*-0xd+0x1*0x201d+-0x73*0x11):_0x537c01['height'])??_0xa68fb0,this['camera']['camera']['aspectRati'+'o']=_0x3f0e1e*_0x189849['z']/(_0xa68fb0*_0x189849['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x4b80a3=this['app']['graphicsDe'+'vice'],_0xaaee95=this['destinatio'+'nRenderTar'+'get'],_0xead339=(_0xaaee95==null?void(0x231*-0x11+-0xe34+0x3375):_0xaaee95['width'])??_0x4b80a3['width'],_0x5025c4=(_0xaaee95==null?void(0x1*-0x2321+-0x11*0x242+0x4983):_0xaaee95['height'])??_0x4b80a3['height'],_0x476a24=this['camera']['rect'],_0x2cb784=Math['floor'](_0x476a24['z']*_0xead339),_0x5d6260=Math['floor'](_0x476a24['w']*_0x5025c4),_0x472a36=this['effects'];for(let _0x2d6d92=0x6e4+0x196c+-0x2050,_0x4449f9=_0x472a36['length'];_0x2d6d92<_0x4449f9;_0x2d6d92++){const _0x142ce3=_0x472a36[_0x2d6d92];(_0x142ce3['inputTarge'+'t']['width']!==_0x2cb784||_0x142ce3['inputTarge'+'t']['height']!==_0x5d6260)&&this['_resizeOff'+'screenTarg'+'et'](_0x142ce3['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x38d1fc,_0x4b63bb,_0x1457de){this['enabled']&&this['resizeRend'+'erTargets']();}}class Ir extends we{constructor(_0x472e02,_0x2ac82e){super(_0x472e02,_0x2ac82e),h(this,'onPostproc'+'essing',null),h(this,'_renderSce'+'neDepthMap',0x1f*-0x85+-0xad*0xc+-0x1837*-0x1),h(this,'_renderSce'+'neColorMap',0x1a6a+-0x1*-0x1df9+-0x3863),h(this,'_sceneDept'+'hMapReques'+'ted',!(-0x35*0xb2+-0x91*0x13+0x2*0x17cf)),h(this,'_sceneColo'+'rMapReques'+'ted',!(-0x445*-0x7+0x5*-0x29+-0x1*0x1d15)),h(this,'_priority',-0x468+-0x18c2+0x1d2a),h(this,'_disablePo'+'stEffectsL'+'ayer',Il),h(this,'_camera',new Fl()),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x2ac82e,this['_postEffec'+'ts']=new yF(_0x472e02['app'],this));}['setShaderP'+'ass'](_0x423317){const _0x3a21e4=Si['get'](this['system']['app']['graphicsDe'+'vice']),_0x4592a1=_0x423317?_0x3a21e4['allocate'](_0x423317,{'isForward':!(0x738+-0xde2+0x2*0x355)}):null;return this['_camera']['shaderPass'+'Info']=_0x4592a1,_0x4592a1['index'];}['getShaderP'+'ass'](){var _0x30272e;return(_0x30272e=this['_camera']['shaderPass'+'Info'])==null?void(0x9*-0xd0+0x9*-0x1cb+0x1773):_0x30272e['name'];}set['renderPass'+'es'](_0xf61330){this['_camera']['renderPass'+'es']=_0xf61330||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(-0x1cef+0x1027+0xcc8);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x143436){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x143436;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x42bea7){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x42bea7;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x40a61c){this['_camera']['fogParams']=_0x40a61c;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x5b871d){this['_camera']['aperture']=_0x5b871d;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0xa7b329){this['_camera']['aspectRati'+'o']=_0xa7b329;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x10e4ff){this['_camera']['aspectRati'+'oMode']=_0x10e4ff;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x14a63a){this['_camera']['calculateP'+'rojection']=_0x14a63a;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x3d9cd7){this['_camera']['calculateT'+'ransform']=_0x3d9cd7;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x1fb71e){this['_camera']['clearColor']=_0x1fb71e;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x31b576){this['_camera']['clearColor'+'Buffer']=_0x31b576,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x3bfebb){this['_camera']['clearDepth'+'Buffer']=_0x3bfebb,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x9ad6b6){this['_camera']['clearStenc'+'ilBuffer']=_0x9ad6b6,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x3a768d){this['_camera']['cullFaces']=_0x3a768d;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x2a32d5){this['_disablePo'+'stEffectsL'+'ayer']=_0x2a32d5,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x334b91){this['_camera']['farClip']=_0x334b91;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x26b1ff){this['_camera']['flipFaces']=_0x26b1ff;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x26ab7f){this['_camera']['fov']=_0x26ab7f;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x4f093b){this['_camera']['frustumCul'+'ling']=_0x4f093b;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x5139ef){this['_camera']['horizontal'+'Fov']=_0x5139ef;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x15fec2){const _0x3fb925=this['_camera']['layers'],_0x592b5f=this['system']['app']['scene'];_0x3fb925['forEach'](_0xc2c6d6=>{const _0x4290b1=_0x592b5f['layers']['getLayerBy'+'Id'](_0xc2c6d6);_0x4290b1==null||_0x4290b1['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x15fec2,this['enabled']&&this['entity']['enabled']&&_0x15fec2['forEach'](_0x1b130f=>{const _0x4e5e95=_0x592b5f['layers']['getLayerBy'+'Id'](_0x1b130f);_0x4e5e95==null||_0x4e5e95['addCamera'](this);}),this['fire']('set:layers');}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x286bb4){this['_camera']['jitter']=_0x286bb4;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x21b17a){this['_camera']['nearClip']=_0x21b17a;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x26a490){this['_camera']['orthoHeigh'+'t']=_0x26a490;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x16aad4){this['_priority']=_0x16aad4,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x290c79){this['_camera']['projection']=_0x290c79;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x16cda4){this['_camera']['rect']=_0x16cda4,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x193373){_0x193373&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(0x94+-0x74+-0x20*0x1)),this['_sceneColo'+'rMapReques'+'ted']=!(-0x1*-0xb3e+-0x419*-0x2+-0x137*0x10)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(0x1*-0xb03+0x1*0x697+-0xb*-0x67)),this['_sceneColo'+'rMapReques'+'ted']=!(-0x1727*-0x1+-0x21c2+-0x61*-0x1c));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>-0x1*-0xbf5+-0x1cf1+0x10fc;}set['renderScen'+'eDepthMap'](_0x2c2f93){_0x2c2f93&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(-0x1ae7+-0x1*0xef9+-0x4*-0xa78)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x1*0x786+0x1f*-0x1f+-0xb47*-0x1)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(-0x79*-0x4c+-0x61e+0x1*-0x1dcd)),this['_sceneDept'+'hMapReques'+'ted']=!(0xfd8*-0x1+0xd14*-0x2+0x2a01));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x20e8+0xd13+-0x2dfb;}set['renderTarg'+'et'](_0x23cf5e){w['call'](()=>{this['_camera']['renderPass'+'es']['length']>-0x23eb+0x67*0x41+0x9c4&&w['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x23cf5e,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0xab0a12){this['_camera']['scissorRec'+'t']=_0xab0a12;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x50c830){this['_camera']['sensitivit'+'y']=_0x50c830;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x1a470b){this['_camera']['shutter']=_0x1a470b;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x33d9b6){if(this['layers']['find'](_0x554019=>_0x554019===ps)){const _0x4bae73=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x33d9b6?_0x4bae73==null||_0x4bae73['incrementC'+'ounter']():_0x4bae73==null||_0x4bae73['decrementC'+'ounter']();}else{if(_0x33d9b6)return!(0x229b*0x1+-0x1*-0x247b+-0x1f*0x24b);}return!(-0x181f+-0xf*-0x279+-0xcf8);}['requestSce'+'neColorMap'](_0x4aa6e8){this['_renderSce'+'neColorMap']+=_0x4aa6e8?-0x4*-0x3b6+-0xe09*-0x1+-0x7*0x420:-(0x4f0*-0x2+0xa52*-0x1+0x1433),w['assert'](this['_renderSce'+'neColorMap']>=0x1e9d+0x1b5c+-0x39f9),this['_enableDep'+'thLayer'](_0x4aa6e8)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']),this['system']['app']['scene']['layers']['markDirty']();}['requestSce'+'neDepthMap'](_0x46f7d1){this['_renderSce'+'neDepthMap']+=_0x46f7d1?0x1*-0x2485+-0x5*-0xf5+-0x19*-0x145:-(0xf29+0x109*0x7+-0x9b*0x25),w['assert'](this['_renderSce'+'neDepthMap']>=-0x95f*-0x1+-0x3b*-0x33+0xa9*-0x20),this['_enableDep'+'thLayer'](_0x46f7d1)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']),this['system']['app']['scene']['layers']['markDirty']();}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x57637b=this['system']['app']['scene']['layers'];_0x57637b['_dirty']=!(0x3*-0x63+-0xc68+0x97*0x17);}['screenToWo'+'rld'](_0x1a9e8c,_0x3598e9,_0x55b112,_0x513c99){const _0x2ee741=this['system']['app']['graphicsDe'+'vice'],{width:_0x4dc601,height:_0x41a63f}=_0x2ee741['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x1a9e8c,_0x3598e9,_0x55b112,_0x4dc601,_0x41a63f,_0x513c99);}['worldToScr'+'een'](_0x4ee9c1,_0x22916d){const _0x4b8017=this['system']['app']['graphicsDe'+'vice'],{width:_0x31702b,height:_0x2e4fcb}=_0x4b8017['clientRect'];return this['_camera']['worldToScr'+'een'](_0x4ee9c1,_0x31702b,_0x2e4fcb,_0x22916d);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(0x1fbd+-0x104d+0x1*-0xf70),this['_camera']['_viewProjM'+'atDirty']=!(-0x187f+-0x1627+-0x1*-0x2ea6);}['addCameraT'+'oLayers'](){const _0x5c11e6=this['layers'];for(let _0x2070cd=0x1246+-0x2100+0xeba*0x1;_0x2070cd<_0x5c11e6['length'];_0x2070cd++){const _0x45244b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x5c11e6[_0x2070cd]);_0x45244b&&_0x45244b['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x217872=this['layers'];for(let _0x323fa6=-0x2*0xa04+0x190f+-0x507;_0x323fa6<_0x217872['length'];_0x323fa6++){const _0xc27653=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x217872[_0x323fa6]);_0xc27653&&_0xc27653['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x5830e7,_0x2bfa19){this['addCameraT'+'oLayers'](),_0x5830e7['off']('add',this['onLayerAdd'+'ed'],this),_0x5830e7['off']('remove',this['onLayerRem'+'oved'],this),_0x2bfa19['on']('add',this['onLayerAdd'+'ed'],this),_0x2bfa19['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x34b5b5){this['layers']['indexOf'](_0x34b5b5['id'])<0x1862+-0x6a*0x14+-0x1ca*0x9||_0x34b5b5['addCamera'](this);}['onLayerRem'+'oved'](_0x25ab24){this['layers']['indexOf'](_0x25ab24['id'])<-0x161*0x10+0x13d*-0x7+-0x1ebb*-0x1||_0x25ab24['removeCame'+'ra'](this);}['onEnable'](){var _0x4c10d5,_0x574f52,_0x5847cb;const _0x5d77ff=this['system']['app']['scene'],_0x3d363b=_0x5d77ff['layers'];this['system']['addCamera'](this),(_0x4c10d5=this['_evtLayers'+'Changed'])==null||_0x4c10d5['off'](),this['_evtLayers'+'Changed']=_0x5d77ff['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3d363b&&((_0x574f52=this['_evtLayerA'+'dded'])==null||_0x574f52['off'](),this['_evtLayerA'+'dded']=_0x3d363b['on']('add',this['onLayerAdd'+'ed'],this),(_0x5847cb=this['_evtLayerR'+'emoved'])==null||_0x5847cb['off'](),this['_evtLayerR'+'emoved']=_0x3d363b['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x41b21b,_0x49bec4,_0x4ab87a;const _0x2fd356=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x41b21b=this['_evtLayers'+'Changed'])==null||_0x41b21b['off'](),this['_evtLayers'+'Changed']=null,_0x2fd356&&((_0x49bec4=this['_evtLayerA'+'dded'])==null||_0x49bec4['off'](),this['_evtLayerA'+'dded']=null,(_0x4ab87a=this['_evtLayerR'+'emoved'])==null||_0x4ab87a['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x1451ad){const _0x372b72=this['system']['app']['graphicsDe'+'vice'],_0x3d2389=_0x1451ad?_0x1451ad['width']:_0x372b72['width'],_0x41a767=_0x1451ad?_0x1451ad['height']:_0x372b72['height'];return _0x3d2389*this['rect']['z']/(_0x41a767*this['rect']['w']);}['frameUpdat'+'e'](_0x53d910){this['aspectRati'+'oMode']===hm&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x53d910));}['startXr'](_0x25fffb,_0x38c389,_0x32816e){this['system']['app']['xr']['start'](this,_0x25fffb,_0x38c389,_0x32816e);}['endXr'](_0x4d29da){if(!this['_camera']['xr']){_0x4d29da&&_0x4d29da(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x4d29da);}['copy'](_0x385110){this['aperture']=_0x385110['aperture'],this['aspectRati'+'o']=_0x385110['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x385110['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x385110['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x385110['calculateT'+'ransform'],this['clearColor']=_0x385110['clearColor'],this['clearColor'+'Buffer']=_0x385110['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x385110['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x385110['clearStenc'+'ilBuffer'],this['cullFaces']=_0x385110['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x385110['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x385110['farClip'],this['flipFaces']=_0x385110['flipFaces'],this['fov']=_0x385110['fov'],this['frustumCul'+'ling']=_0x385110['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x385110['horizontal'+'Fov'],this['layers']=_0x385110['layers'],this['nearClip']=_0x385110['nearClip'],this['orthoHeigh'+'t']=_0x385110['orthoHeigh'+'t'],this['priority']=_0x385110['priority'],this['projection']=_0x385110['projection'],this['rect']=_0x385110['rect'],this['renderTarg'+'et']=_0x385110['renderTarg'+'et'],this['scissorRec'+'t']=_0x385110['scissorRec'+'t'],this['sensitivit'+'y']=_0x385110['sensitivit'+'y'],this['shutter']=_0x385110['shutter'];}}class vF{constructor(){this['enabled']=!(-0x17be+0x1402+-0x4*-0xef);}}const p0=['enabled'];class xF extends ct{constructor(_0x23a528){super(_0x23a528),h(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=Ir,this['DataType']=vF,this['schema']=p0,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x40aa55,_0x5260e5,_0x30041c){_0x30041c=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fog','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x56bd92=0x146e+-0x16bd+-0xc5*-0x3;_0x56bd92<_0x30041c['length'];_0x56bd92++){const _0x7a6484=_0x30041c[_0x56bd92];if(_0x5260e5['hasOwnProp'+'erty'](_0x7a6484)){const _0x5e4e5e=_0x5260e5[_0x7a6484];switch(_0x7a6484){case'rect':case'scissorRec'+'t':Array['isArray'](_0x5e4e5e)?_0x40aa55[_0x7a6484]=new re(_0x5e4e5e[-0x1f2c+-0x242d+-0x3*-0x1673],_0x5e4e5e[0xcd3+-0x8f2*0x4+0x1*0x16f6],_0x5e4e5e[-0x2689+-0x264e+0x4cd9],_0x5e4e5e[-0x169*0xa+-0xa44+0x1861]):_0x40aa55[_0x7a6484]=_0x5e4e5e;break;case'clearColor':Array['isArray'](_0x5e4e5e)?_0x40aa55[_0x7a6484]=new ie(_0x5e4e5e[-0x383*0x1+-0x5*0x615+0x21ec],_0x5e4e5e[0x2cd*-0x5+-0x289*0x9+0x24d3],_0x5e4e5e[0x254a+-0x9*0xdf+-0x1d71],_0x5e4e5e[-0x1*0x2207+-0x1902+0x3b0c]):_0x40aa55[_0x7a6484]=_0x5e4e5e;break;default:_0x40aa55[_0x7a6484]=_0x5e4e5e;break;}}}super['initialize'+'ComponentD'+'ata'](_0x40aa55,_0x5260e5,['enabled']);}['cloneCompo'+'nent'](_0x5d942e,_0x147e55){const _0x3b5961=_0x5d942e['camera'];return this['addCompone'+'nt'](_0x147e55,{'aspectRatio':_0x3b5961['aspectRati'+'o'],'aspectRatioMode':_0x3b5961['aspectRati'+'oMode'],'calculateProjection':_0x3b5961['calculateP'+'rojection'],'calculateTransform':_0x3b5961['calculateT'+'ransform'],'clearColor':_0x3b5961['clearColor'],'clearColorBuffer':_0x3b5961['clearColor'+'Buffer'],'clearDepthBuffer':_0x3b5961['clearDepth'+'Buffer'],'clearStencilBuffer':_0x3b5961['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x3b5961['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x3b5961['renderScen'+'eColorMap'],'cullFaces':_0x3b5961['cullFaces'],'enabled':_0x3b5961['enabled'],'farClip':_0x3b5961['farClip'],'flipFaces':_0x3b5961['flipFaces'],'fov':_0x3b5961['fov'],'frustumCulling':_0x3b5961['frustumCul'+'ling'],'horizontalFov':_0x3b5961['horizontal'+'Fov'],'layers':_0x3b5961['layers'],'renderTarget':_0x3b5961['renderTarg'+'et'],'nearClip':_0x3b5961['nearClip'],'orthoHeight':_0x3b5961['orthoHeigh'+'t'],'projection':_0x3b5961['projection'],'priority':_0x3b5961['priority'],'rect':_0x3b5961['rect'],'scissorRect':_0x3b5961['scissorRec'+'t'],'aperture':_0x3b5961['aperture'],'sensitivity':_0x3b5961['sensitivit'+'y'],'shutter':_0x3b5961['shutter'],'gammaCorrection':_0x3b5961['gammaCorre'+'ction'],'toneMapping':_0x3b5961['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x5cfa4f,_0x515bd8){this['removeCame'+'ra'](_0x515bd8),_0x515bd8['onRemove']();}['onAppPrere'+'nder'](){for(let _0x41e1d3=-0x8f5*0x2+0x2*-0x4d5+0x1b94,_0x3d6968=this['cameras']['length'];_0x41e1d3<_0x3d6968;_0x41e1d3++)this['cameras'][_0x41e1d3]['onAppPrere'+'nder']();}['addCamera'](_0x371452){this['cameras']['push'](_0x371452),ul(this['cameras']);}['removeCame'+'ra'](_0x58002c){const _0x59f178=this['cameras']['indexOf'](_0x58002c);_0x59f178>=0x2b*0x33+0x6*0x14d+0x17d*-0xb&&(this['cameras']['splice'](_0x59f178,0x3b+-0x338+0x2fe),ul(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}we['_buildAcce'+'ssors'](Ir['prototype'],p0);class m0{constructor(){h(this,'enabled',!(-0x2bd*-0x4+-0x12f8+-0x6*-0x156)),h(this,'light'),h(this,'type','directiona'+'l'),h(this,'color',new ie(0x2533+-0x481+-0x20b1*0x1,0x129+0x26*0x100+-0x1*0x2728,0x1*-0x1a2e+-0x25f0+0x401f)),h(this,'intensity',-0xb2*0x2+-0x303+-0x8d*-0x8),h(this,'luminance',-0x15e2*0x1+-0x928+0x1f0a),h(this,'shape',Ys),h(this,'affectSpec'+'ularity',!(-0x2*0x6cd+0x1*-0x1cbd+0x2a57)),h(this,'castShadow'+'s',!(-0x23ad+-0x1*0x129e+0x22c*0x19)),h(this,'shadowDist'+'ance',-0xb29*-0x2+0xc67+-0x2291*0x1),h(this,'shadowInte'+'nsity',-0x1221+0x43*0x86+0x2*-0x878),h(this,'shadowReso'+'lution',0x18dc+0x336+-0x1812),h(this,'shadowBias',0x1f3*-0x2+0x6ff*0x2+0x4*-0x286+0.05),h(this,'numCascade'+'s',-0x829+-0x1b15*0x1+0x233f),h(this,'cascadeBle'+'nd',-0x8d+0x8db+-0x84e),h(this,'bakeNumSam'+'ples',-0x22a4*-0x1+-0x1be8+-0x6bb),h(this,'bakeArea',0x2183+0xf*-0x117+-0x112a),h(this,'cascadeDis'+'tribution',0x1d3f*-0x1+-0xa49*0x3+0x3c1a+0.5),h(this,'normalOffs'+'etBias',0xa3e+-0x3ad*-0x9+0x2b53*-0x1),h(this,'range',0xaee+0x19dc+-0x24c0),h(this,'innerConeA'+'ngle',0x112c+0x1*0x18d1+-0x29d5),h(this,'outerConeA'+'ngle',-0x1ea*-0x5+-0x3*-0x243+-0xda*0x13),h(this,'falloffMod'+'e',Qp),h(this,'shadowType',$s),h(this,'vsmBlurSiz'+'e',0x2306+-0x29*0x25+0xe87*-0x2),h(this,'vsmBlurMod'+'e',em),h(this,'vsmBias',(0xe3f+-0x4*0xdf+-0xac3+0.01)*(-0x579*-0x4+0x1ecd+-0x7*0x787+0.25)),h(this,'cookieAsse'+'t',null),h(this,'cookie',null),h(this,'cookieInte'+'nsity',-0x140d*0x1+-0x187b+-0x36d*-0xd),h(this,'cookieFall'+'off',!(0x17*0x124+0x23d1+-0x2d*0x161)),h(this,'cookieChan'+'nel','rgb'),h(this,'cookieAngl'+'e',0x10cf+-0x250f+0x1440),h(this,'cookieScal'+'e',null),h(this,'cookieOffs'+'et',null),h(this,'shadowUpda'+'teMode',lm),h(this,'mask',0x1*-0x1786+-0x2507+-0x1*-0x3c8e),h(this,'affectDyna'+'mic',!(-0xbb9*-0x3+0x140d+-0x3738)),h(this,'affectLigh'+'tmapped',!(-0x101a+0x22ba+-0x129f)),h(this,'bake',!(0x2*-0x3b+-0xf90+0x1007)),h(this,'bakeDir',!(-0x2039+-0xaf1*-0x1+0x1c6*0xc)),h(this,'isStatic',!(-0x25a+0x1*0xdc9+0x85*-0x16)),h(this,'layers',[er]),h(this,'penumbraSi'+'ze',-0x5*0x1cf+0x11c1*-0x2+0x2c8e),h(this,'penumbraFa'+'lloff',-0x1e93+-0x1*0x517+0x23ab),h(this,'shadowSamp'+'les',-0x2*-0x546+0x14*-0x125+-0x31a*-0x4),h(this,'shadowBloc'+'kerSamples',-0xdf*0x6+-0x139*-0x1d+0x1*-0x1e2b);}}const Ho=Object['keys'](new m0());class TF extends we{constructor(){super(...arguments),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_cookieAss'+'et',null),h(this,'_cookieAss'+'etId',null),h(this,'_cookieAss'+'etAdd',!(-0x1*0x26ce+-0xa4e*0x2+0x3b6b)),h(this,'_cookieMat'+'rix',null);}get['data'](){const _0x17612f=this['system']['store'][this['entity']['getGuid']()];return _0x17612f?_0x17612f['data']:null;}set['enabled'](_0x3b1bbb){this['_setValue']('enabled',_0x3b1bbb,function(_0x1d9af3,_0x31d1b1){this['onSetEnabl'+'ed'](null,_0x31d1b1,_0x1d9af3);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x5c3aa2){this['_setValue']('light',_0x5c3aa2);}get['light'](){return this['data']['light'];}set['type'](_0x411f69){this['_setValue']('type',_0x411f69,function(_0x471d97,_0x26821f){this['system']['changeType'](this,_0x26821f,_0x471d97),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x5b47bb){this['_setValue']('color',_0x5b47bb,function(_0x43dd8c,_0x22ba1d){this['light']['setColor'](_0x43dd8c);},!(-0x866+0x7f+0x7e7));}get['color'](){return this['data']['color'];}set['intensity'](_0x5a2878){this['_setValue']('intensity',_0x5a2878,function(_0x45bc3d,_0x1212a3){this['light']['intensity']=_0x45bc3d;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x53b8bb){this['_setValue']('luminance',_0x53b8bb,function(_0x38e84a,_0x1aa324){this['light']['luminance']=_0x38e84a;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0xf91915){this['_setValue']('shape',_0xf91915,function(_0x5b29dd,_0x213ae9){this['light']['shape']=_0x5b29dd;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x442546){this['_setValue']('affectSpec'+'ularity',_0x442546,function(_0x21daac,_0x2f0c99){this['light']['affectSpec'+'ularity']=_0x21daac;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x23556b){this['_setValue']('castShadow'+'s',_0x23556b,function(_0x258d1e,_0x2d3f5e){this['light']['castShadow'+'s']=_0x258d1e;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x34e360){this['_setValue']('shadowDist'+'ance',_0x34e360,function(_0x2137d5,_0xc5f67e){this['light']['shadowDist'+'ance']=_0x2137d5;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x18e709){this['_setValue']('shadowInte'+'nsity',_0x18e709,function(_0x495934,_0x4d1d6f){this['light']['shadowInte'+'nsity']=_0x495934;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0xb0d095){this['_setValue']('shadowReso'+'lution',_0xb0d095,function(_0x2a185b,_0x3792a0){this['light']['shadowReso'+'lution']=_0x2a185b;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x3c7602){this['_setValue']('shadowBias',_0x3c7602,function(_0xd81a0d,_0x18439d){this['light']['shadowBias']=-(0x1c87+0x196d+-0x35f4+0.01)*Y['clamp'](_0xd81a0d,-0x26a0+0xcd3+-0x1*-0x19cd,-0x26*-0x9+-0xb7b+0x3*0x362);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x4b2f70){this['_setValue']('numCascade'+'s',_0x4b2f70,function(_0x1bcdf8,_0x47bc7f){this['light']['numCascade'+'s']=Y['clamp'](Math['floor'](_0x1bcdf8),0x1*-0x254+0xa1*0x15+-0xae0,0x1*0x2477+0xc03+0x183b*-0x2);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x4bea91){this['_setValue']('cascadeBle'+'nd',_0x4bea91,function(_0x212cf3,_0x16da43){this['light']['cascadeBle'+'nd']=Y['clamp'](_0x212cf3,0x1d45+-0x9f*0x1b+0x4*-0x320,-0xf1e+0x1307+-0xa*0x64);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x4c5b94){this['_setValue']('bakeNumSam'+'ples',_0x4c5b94,function(_0xfcbd55,_0x2378d6){this['light']['bakeNumSam'+'ples']=Y['clamp'](Math['floor'](_0xfcbd55),0x1d55+-0x143*-0x1+-0x1e97,-0x241e*0x1+-0x1*0xe7+0x2604);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0xb9ef7f){this['_setValue']('bakeArea',_0xb9ef7f,function(_0x235905,_0x5b2961){this['light']['bakeArea']=Y['clamp'](_0x235905,-0x15+-0x18c1+0xb*0x242,-0x1*0xd0b+0x3*0x16f+0x972);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x136e64){this['_setValue']('cascadeDis'+'tribution',_0x136e64,function(_0xea9a96,_0x42af84){this['light']['cascadeDis'+'tribution']=Y['clamp'](_0xea9a96,-0x24f8*0x1+-0x7*0x1a2+0x3066,0x10dc+-0x1aac+-0x167*-0x7);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x16c16d){this['_setValue']('normalOffs'+'etBias',_0x16c16d,function(_0x3ac434,_0x46d6f0){this['light']['normalOffs'+'etBias']=Y['clamp'](_0x3ac434,-0x19e+-0x10*-0x1f8+-0x1e*0xff,-0xd37+-0x7*-0x47d+-0x1233);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x566857){this['_setValue']('range',_0x566857,function(_0x2761d5,_0x44c01a){this['light']['attenuatio'+'nEnd']=_0x2761d5;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x4870e8){this['_setValue']('innerConeA'+'ngle',_0x4870e8,function(_0xa84e02,_0x211b52){this['light']['innerConeA'+'ngle']=_0xa84e02;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x3f3e6b){this['_setValue']('outerConeA'+'ngle',_0x3f3e6b,function(_0x342e27,_0xc2b98d){this['light']['outerConeA'+'ngle']=_0x342e27;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x2cdbd1){this['_setValue']('falloffMod'+'e',_0x2cdbd1,function(_0x1c41cf,_0x14af6a){this['light']['falloffMod'+'e']=_0x1c41cf;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0xd98eac){this['_setValue']('shadowType',_0xd98eac,function(_0x3fc1eb,_0x3a28e8){this['light']['shadowType']=_0x3fc1eb;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x357e48){this['_setValue']('vsmBlurSiz'+'e',_0x357e48,function(_0x23eb1d,_0x1b1718){this['light']['vsmBlurSiz'+'e']=_0x23eb1d;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x1ccba0){this['_setValue']('vsmBlurMod'+'e',_0x1ccba0,function(_0x426317,_0x2a377a){this['light']['vsmBlurMod'+'e']=_0x426317;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x3e1afe){this['_setValue']('vsmBias',_0x3e1afe,function(_0x58a2ef,_0x238944){this['light']['vsmBias']=Y['clamp'](_0x58a2ef,0x108a+-0x167*0x2+0x36f*-0x4,0x1341+0xa3*0xf+-0x65*0x49);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x26821a){this['_setValue']('cookieAsse'+'t',_0x26821a,function(_0x28a368,_0x2e8273){if(!(this['_cookieAss'+'etId']&&(_0x28a368 instanceof pe&&_0x28a368['id']===this['_cookieAss'+'etId']||_0x28a368===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x28a368 instanceof pe)this['data']['cookieAsse'+'t']=_0x28a368['id'],this['_cookieAss'+'etId']=_0x28a368['id'],this['onCookieAs'+'setAdd'](_0x28a368);else{if(typeof _0x28a368=='number'){this['_cookieAss'+'etId']=_0x28a368;const _0x3c0dae=this['system']['app']['assets']['get'](_0x28a368);_0x3c0dae?this['onCookieAs'+'setAdd'](_0x3c0dae):(this['_cookieAss'+'etAdd']=!(0x1fc0+-0x25a0+0x8*0xbc),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x26e6b0){this['_setValue']('cookie',_0x26e6b0,function(_0xa893b3,_0x11e33c){this['light']['cookie']=_0xa893b3;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x162177){this['_setValue']('cookieInte'+'nsity',_0x162177,function(_0x2537cf,_0x1ceab8){this['light']['cookieInte'+'nsity']=Y['clamp'](_0x2537cf,0x2*0x606+-0xe24+0x218,0x141b*0x1+-0x1e79+0xa5f);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x4e848b){this['_setValue']('cookieFall'+'off',_0x4e848b,function(_0x2cec32,_0x43bb02){this['light']['cookieFall'+'off']=_0x2cec32;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x3e502d){this['_setValue']('cookieChan'+'nel',_0x3e502d,function(_0x41bfb9,_0x42fe26){this['light']['cookieChan'+'nel']=_0x41bfb9;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0xc50bb9){this['_setValue']('cookieAngl'+'e',_0xc50bb9,function(_0x5553e8,_0x5c551b){if(_0x5553e8!==-0x1*-0x1f99+0x30a*-0x2+-0x1985||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());let _0xd6c33b=0x36d*0x7+-0x52*-0x25+-0x23d4,_0x1e7030=-0x1*-0x15dd+-0xede+0x1*-0x6fe;this['cookieScal'+'e']&&(_0xd6c33b=this['cookieScal'+'e']['x'],_0x1e7030=this['cookieScal'+'e']['y']);const _0x1ae247=Math['cos'](_0x5553e8*Y['DEG_TO_RAD']),_0x4e00af=Math['sin'](_0x5553e8*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x1ae247/_0xd6c33b,-_0x4e00af/_0xd6c33b,_0x4e00af/_0x1e7030,_0x1ae247/_0x1e7030),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x2e5ed0){this['_setValue']('cookieScal'+'e',_0x2e5ed0,function(_0x46ff31,_0xae532c){if(_0x46ff31!==null||this['cookieAngl'+'e']!==-0x2a2*-0x6+0x5*-0x789+0x15e1*0x1){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());const _0x440a53=_0x46ff31['x'],_0x26f405=_0x46ff31['y'],_0x5c9456=Math['cos'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']),_0x539c12=Math['sin'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x5c9456/_0x440a53,-_0x539c12/_0x440a53,_0x539c12/_0x26f405,_0x5c9456/_0x26f405),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(-0x1*0x4ff+0x15b8+-0x10b9));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x8cac56){this['_setValue']('cookieOffs'+'et',_0x8cac56,function(_0x4cfc53,_0x5bc449){this['light']['cookieOffs'+'et']=_0x4cfc53;},!(0x1143+0x752+-0x1895));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x32c312){this['_setValue']('shadowUpda'+'teMode',_0x32c312,function(_0x3c75db,_0x47c747){this['light']['shadowUpda'+'teMode']=_0x3c75db;},!(0x17e*-0xd+-0xc2c*0x2+-0x1fd*-0x16));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x1583cc){this['_setValue']('mask',_0x1583cc,function(_0x5590d5,_0x30e185){this['light']['mask']=_0x5590d5;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x203868){this['_setValue']('affectDyna'+'mic',_0x203868,function(_0x27871a,_0x384073){_0x27871a?this['light']['mask']|=Ss:this['light']['mask']&=~Ss,this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x158b21){this['_setValue']('affectLigh'+'tmapped',_0x158b21,function(_0x5c6e22,_0x3bb729){_0x5c6e22?(this['light']['mask']|=di,this['bake']&&(this['light']['mask']&=~fi)):(this['light']['mask']&=~di,this['bake']&&(this['light']['mask']|=fi));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x224474){this['_setValue']('bake',_0x224474,function(_0x19bdb8,_0x3f0403){_0x19bdb8?(this['light']['mask']|=fi,this['affectLigh'+'tmapped']&&(this['light']['mask']&=~di)):(this['light']['mask']&=~fi,this['affectLigh'+'tmapped']&&(this['light']['mask']|=di)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x11a085){this['_setValue']('bakeDir',_0x11a085,function(_0x5924f6,_0x27ced4){this['light']['bakeDir']=_0x5924f6;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x440c21){this['_setValue']('isStatic',_0x440c21,function(_0x5dc4c8,_0x1092a2){this['light']['isStatic']=_0x5dc4c8;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x2c8dfc){this['_setValue']('layers',_0x2c8dfc,function(_0x396922,_0xb1e88d){for(let _0x32daf2=-0x1b54+0x125f+0x8f5;_0x32daf2<_0xb1e88d['length'];_0x32daf2++){const _0x1fedc6=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0xb1e88d[_0x32daf2]);_0x1fedc6&&(_0x1fedc6['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x1fedc6));}for(let _0xbac75a=0x371*0xb+-0x2af*-0x9+-0x3e02;_0xbac75a<_0x396922['length'];_0xbac75a++){const _0x53f097=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x396922[_0xbac75a]);_0x53f097&&this['enabled']&&this['entity']['enabled']&&(_0x53f097['addLight'](this),this['light']['addLayer'](_0x53f097));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x5ecf80){this['light']['shadowUpda'+'teOverride'+'s']=_0x5ecf80;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x27fe64){this['light']['shadowSamp'+'les']=_0x27fe64;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x46ae7c){this['light']['shadowBloc'+'kerSamples']=_0x46ae7c;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x34a454){this['light']['penumbraSi'+'ze']=_0x34a454;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x437a0f){this['light']['penumbraFa'+'lloff']=_0x437a0f;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x488423,_0x44989e,_0x3b3ad1,_0x3526c8){const _0x615eb1=this['data'],_0x292daa=_0x615eb1[_0x488423];!_0x3526c8&&_0x292daa===_0x44989e||(_0x615eb1[_0x488423]=_0x44989e,_0x3b3ad1&&_0x3b3ad1['call'](this,_0x44989e,_0x292daa));}['addLightTo'+'Layers'](){for(let _0x3f465c=-0x1639*0x1+-0xde5*-0x2+0x39*-0x19;_0x3f465c<this['layers']['length'];_0x3f465c++){const _0x411e9d=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x3f465c]);_0x411e9d&&(_0x411e9d['addLight'](this),this['light']['addLayer'](_0x411e9d));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x3c9d12=0x5e*0x2c+0x1*-0xc8e+-0x39a;_0x3c9d12<this['layers']['length'];_0x3c9d12++){const _0x301bc2=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x3c9d12]);_0x301bc2&&(_0x301bc2['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x301bc2));}}['onLayersCh'+'anged'](_0x339d7f,_0x201813){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x339d7f['off']('add',this['onLayerAdd'+'ed'],this),_0x339d7f['off']('remove',this['onLayerRem'+'oved'],this),_0x201813['on']('add',this['onLayerAdd'+'ed'],this),_0x201813['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x565a05){this['layers']['indexOf'](_0x565a05['id'])>=0x1de2+0x90a+-0x26ec&&this['enabled']&&this['entity']['enabled']&&(_0x565a05['addLight'](this),this['light']['addLayer'](_0x565a05));}['onLayerRem'+'oved'](_0x59b1db){this['layers']['indexOf'](_0x59b1db['id'])>=0x8*0x24d+0x2*-0x694+-0x18*0x38&&(_0x59b1db['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x59b1db));}['refreshPro'+'perties'](){for(let _0x55e269=0x1549+-0x12c2+-0x287;_0x55e269<Ho['length'];_0x55e269++){const _0x56790b=Ho[_0x55e269];this[_0x56790b]=this[_0x56790b];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x9cd256=!(-0x2*-0xa1f+0x1f9b+-0x33d8);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(0x157+-0x11d7*-0x2+-0x1*0x2505),_0x9cd256=!(-0x23e7+-0x317*0xb+0x45e4)),(!this['_cookieAss'+'et']['resource']||_0x9cd256)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x5ef1d3){this['_cookieAss'+'etId']===_0x5ef1d3['id']&&(this['_cookieAss'+'et']=_0x5ef1d3,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(0xaae+0x1ada+0x1*-0x2587)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x321e77=this['system']['app']['scene'],_0xc422ce=_0x321e77['layers'];this['light']['enabled']=!(-0x11ee+-0xc4e+0x1e3c),this['_evtLayers'+'Changed']=_0x321e77['on']('set:layers',this['onLayersCh'+'anged'],this),_0xc422ce&&(this['_evtLayerA'+'dded']=_0xc422ce['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0xc422ce['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x2270b7,_0x57aeec,_0x3ff5e0;const _0x5baf3b=this['system']['app']['scene']['layers'];this['light']['enabled']=!(0xa40+-0x604+-0x43b),(_0x2270b7=this['_evtLayers'+'Changed'])==null||_0x2270b7['off'](),this['_evtLayers'+'Changed']=null,_0x5baf3b&&((_0x57aeec=this['_evtLayerA'+'dded'])==null||_0x57aeec['off'](),this['_evtLayerA'+'dded']=null,(_0x3ff5e0=this['_evtLayerR'+'emoved'])==null||_0x3ff5e0['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class wF extends ct{constructor(_0x98510c){super(_0x98510c),this['id']='light',this['ComponentT'+'ype']=TF,this['DataType']=m0,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x3a263f,_0x16ac55){const _0x43755f={..._0x16ac55};_0x43755f['type']||(_0x43755f['type']=_0x3a263f['data']['type']),_0x3a263f['data']['type']=_0x43755f['type'],_0x43755f['layers']&&Array['isArray'](_0x43755f['layers'])&&(_0x43755f['layers']=_0x43755f['layers']['slice'](0x11e*-0x15+0x1cf1*-0x1+0x1*0x3467)),_0x43755f['color']&&Array['isArray'](_0x43755f['color'])&&(_0x43755f['color']=new ie(_0x43755f['color'][-0x260c+-0x2026+-0x1e*-0x257],_0x43755f['color'][0x13*-0x94+-0x238d+-0x103*-0x2e],_0x43755f['color'][-0x59f*0x3+0x5*0x97+0x36*0x42])),_0x43755f['cookieOffs'+'et']&&_0x43755f['cookieOffs'+'et']instanceof Array&&(_0x43755f['cookieOffs'+'et']=new J(_0x43755f['cookieOffs'+'et'][0x1c*-0x1+0x1893+-0x1877*0x1],_0x43755f['cookieOffs'+'et'][-0x195f+-0x7*-0x3f3+-0x53*0x7])),_0x43755f['cookieScal'+'e']&&_0x43755f['cookieScal'+'e']instanceof Array&&(_0x43755f['cookieScal'+'e']=new J(_0x43755f['cookieScal'+'e'][-0x9d5*-0x2+-0x1af8+-0x11*-0x6e],_0x43755f['cookieScal'+'e'][-0x6b*-0x17+-0x1656+0x16a*0x9])),_0x43755f['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x43755f['enabled']=_0x43755f['enable']),_0x43755f['shape']||(_0x43755f['shape']=Ys);const _0x4853d3=new pl(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x4853d3['type']=fu[_0x43755f['type']],_0x4853d3['_node']=_0x3a263f['entity'],_0x3a263f['data']['light']=_0x4853d3,super['initialize'+'ComponentD'+'ata'](_0x3a263f,_0x43755f,Ho);}['_onRemoveC'+'omponent'](_0x573afa,_0x268d54){_0x268d54['onRemove']();}['cloneCompo'+'nent'](_0x18d722,_0xabd5a8){const _0x58c5be=_0x18d722['light'],_0x499ced=[];let _0x42adab;for(let _0x4ee059=-0x481*-0x8+-0x1*0x2342+0x21*-0x6;_0x4ee059<Ho['length'];_0x4ee059++)_0x42adab=Ho[_0x4ee059],_0x42adab!=='light'&&(_0x58c5be[_0x42adab]&&_0x58c5be[_0x42adab]['clone']?_0x499ced[_0x42adab]=_0x58c5be[_0x42adab]['clone']():_0x499ced[_0x42adab]=_0x58c5be[_0x42adab]);return this['addCompone'+'nt'](_0xabd5a8,_0x499ced);}['changeType'](_0x21e51c,_0x1c3e56,_0x2cd4f2){_0x1c3e56!==_0x2cd4f2&&(_0x21e51c['light']['type']=fu[_0x2cd4f2]);}}const EF=['x','y','z','w'],bF=[void(-0x2*-0x10d+-0x701+0x4e7),void(-0x48*0x8+-0x2*0x3e5+0xa0a),J,D,re];function Yn(_0x3d9f62,_0x319158,_0x196594,_0x119b69){switch(_0x319158['type']){case'boolean':return!!_0x196594;case'number':if(typeof _0x196594=='number')return _0x196594;if(typeof _0x196594=='string'){const _0x3e4c7a=parseInt(_0x196594,-0x1760+-0x1cac+0x3416);return isNaN(_0x3e4c7a)?null:_0x3e4c7a;}else{if(typeof _0x196594=='boolean')return 0x25ff+0x3b3*0x2+-0x2d65+_0x196594;}return null;case'json':{const _0x3dd1ae={};if(Array['isArray'](_0x319158['schema'])){(!_0x196594||typeof _0x196594!='object')&&(_0x196594={});for(let _0xc2c9ad=0x2d7*-0x4+-0x1*-0x1436+-0x8da;_0xc2c9ad<_0x319158['schema']['length'];_0xc2c9ad++){const _0x150ed1=_0x319158['schema'][_0xc2c9ad];if(_0x150ed1['name']){if(_0x150ed1['array']){_0x3dd1ae[_0x150ed1['name']]=[];const _0x16c6a2=Array['isArray'](_0x196594[_0x150ed1['name']])?_0x196594[_0x150ed1['name']]:[];for(let _0x3201c2=0x1*0xa9+-0xf96+-0x1*-0xeed;_0x3201c2<_0x16c6a2['length'];_0x3201c2++)_0x3dd1ae[_0x150ed1['name']]['push'](Yn(_0x3d9f62,_0x150ed1,_0x16c6a2[_0x3201c2]));}else{const _0x14a7d1=_0x196594['hasOwnProp'+'erty'](_0x150ed1['name'])?_0x196594[_0x150ed1['name']]:_0x150ed1['default'];_0x3dd1ae[_0x150ed1['name']]=Yn(_0x3d9f62,_0x150ed1,_0x14a7d1);}}}}return _0x3dd1ae;}case'asset':return _0x196594 instanceof pe?_0x196594:typeof _0x196594=='number'?_0x3d9f62['assets']['get'](_0x196594)||null:typeof _0x196594=='string'&&_0x3d9f62['assets']['get'](parseInt(_0x196594,-0x157c+0x53*0x57+-0x1d*0x3b))||null;case'entity':return _0x196594 instanceof Ie?_0x196594:typeof _0x196594=='string'?_0x3d9f62['getEntityF'+'romIndex'](_0x196594):null;case'rgb':case'rgba':if(_0x196594 instanceof ie)return _0x119b69 instanceof ie?(_0x119b69['copy'](_0x196594),_0x119b69):_0x196594['clone']();if(_0x196594 instanceof Array&&_0x196594['length']>=-0x1*0x1f49+0x219d*-0x1+0x40e9&&_0x196594['length']<=0x1*0xdf3+-0x2138+0x1349){for(let _0x1bb0b7=0xe35+0x7*0x3ad+-0x27f0;_0x1bb0b7<_0x196594['length'];_0x1bb0b7++)if(typeof _0x196594[_0x1bb0b7]!='number')return null;return _0x119b69||(_0x119b69=new ie()),_0x119b69['r']=_0x196594[0x218d*-0x1+-0x6*0x513+0x81*0x7f],_0x119b69['g']=_0x196594[0x261f+0x1*0x377+-0x1*0x2995],_0x119b69['b']=_0x196594[0xf*-0x24f+-0x33e+0x1*0x25e1],_0x119b69['a']=_0x196594['length']===-0x1b09+-0x24c0+0x3fcc?-0xbcb+0x3d3+-0x1*-0x7f9:_0x196594[0x216b+0x80+0x1f*-0x118],_0x119b69;}else{if(typeof _0x196594=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x196594))return _0x119b69||(_0x119b69=new ie()),_0x119b69['fromString'](_0x196594),_0x119b69;}return null;case'vec2':case'vec3':case'vec4':{const _0x3e1352=parseInt(_0x319158['type']['slice'](-0xcc*-0x17+-0x147a+0x229),-0x1ff4+0x2b*0x3b+0x1615),_0x26b5fc=bF[_0x3e1352];if(_0x196594 instanceof _0x26b5fc)return _0x119b69 instanceof _0x26b5fc?(_0x119b69['copy'](_0x196594),_0x119b69):_0x196594['clone']();if(_0x196594 instanceof Array&&_0x196594['length']===_0x3e1352){for(let _0x154596=0xbdc+-0xab6+-0x126;_0x154596<_0x196594['length'];_0x154596++)if(typeof _0x196594[_0x154596]!='number')return null;_0x119b69||(_0x119b69=new _0x26b5fc());for(let _0x3f02bb=0x5*-0x359+0x1499+0xd*-0x4c;_0x3f02bb<_0x3e1352;_0x3f02bb++)_0x119b69[EF[_0x3f02bb]]=_0x196594[_0x3f02bb];return _0x119b69;}return null;}case'curve':if(_0x196594){let _0x42f906;if(_0x196594 instanceof qs||_0x196594 instanceof na)_0x42f906=_0x196594['clone']();else{const _0x149f78=_0x196594['keys'][-0x9c8*-0x1+0x20f2+-0x1*0x2aba]instanceof Array?na:qs;_0x42f906=new _0x149f78(_0x196594['keys']),_0x42f906['type']=_0x196594['type'];}return _0x42f906;}break;}return _0x196594;}function _0(_0x28abff,_0x138e21,_0x52e8b1,_0x7ec83){return _0x138e21['array']?_0x52e8b1['map']((_0x8419ef,_0x3f92da)=>Yn(_0x28abff,_0x138e21,_0x8419ef,_0x7ec83?_0x7ec83[_0x3f92da]:null)):Yn(_0x28abff,_0x138e21,_0x52e8b1,_0x7ec83);}function g0(_0x22f382,_0xa783e7,_0x3824b5,_0x421222){if(_0x3824b5)for(const _0x30be02 in _0xa783e7){const _0x3eeefc=_0xa783e7[_0x30be02],_0x8cc09e=_0x3824b5[_0x30be02];_0x8cc09e!==void(-0x993+0x2*0x308+-0x1f*-0x1d)&&(_0x421222[_0x30be02]=_0(_0x22f382,_0x3eeefc,_0x8cc09e,_0x421222[_0x30be02]));}}const yn=class yn{constructor(_0x5475d9){this['scriptType']=_0x5475d9,this['index']={};}['add'](_0x2c2ae8,_0x1e4fd6){if(this['index'][_0x2c2ae8]){w['warn']('attribute\x20'+'\x27'+_0x2c2ae8+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(yn['reservedNa'+'mes']['has'](_0x2c2ae8)){w['warn']('attribute\x20'+'\x27'+_0x2c2ae8+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x2c2ae8]=_0x1e4fd6,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x2c2ae8,{'get':function(){return this['__attribut'+'es'][_0x2c2ae8];},'set':function(_0x418c50){const _0x6ea777='attr',_0x5cec67='attr:'+_0x2c2ae8,_0x2141a2=this['__attribut'+'es'][_0x2c2ae8];let _0x481767=_0x2141a2;if(_0x2141a2&&_0x1e4fd6['type']!=='json'&&_0x1e4fd6['type']!=='entity'&&_0x2141a2['clone']&&(this['hasEvent'](_0x6ea777)||this['hasEvent'](_0x5cec67))&&(_0x481767=_0x2141a2['clone']()),_0x1e4fd6['array']){if(this['__attribut'+'es'][_0x2c2ae8]=[],_0x418c50){for(let _0x1c64c3=-0x1d53+0x44*-0x16+0x232b,_0x9cff7d=_0x418c50['length'];_0x1c64c3<_0x9cff7d;_0x1c64c3++)this['__attribut'+'es'][_0x2c2ae8]['push'](Yn(this['app'],_0x1e4fd6,_0x418c50[_0x1c64c3],_0x2141a2?_0x2141a2[_0x1c64c3]:null));}}else this['__attribut'+'es'][_0x2c2ae8]=Yn(this['app'],_0x1e4fd6,_0x418c50,_0x2141a2);this['fire'](_0x6ea777,_0x2c2ae8,this['__attribut'+'es'][_0x2c2ae8],_0x481767),this['fire'](_0x5cec67,this['__attribut'+'es'][_0x2c2ae8],_0x481767);}});}['remove'](_0x4cb305){return this['index'][_0x4cb305]?(delete this['index'][_0x4cb305],delete this['scriptType']['prototype'][_0x4cb305],!(-0x1f1*-0x11+0x49c+-0x1*0x259d)):!(-0x2*-0x45d+-0x24cd+-0x1c14*-0x1);}['has'](_0x5f4e65){return!!this['index'][_0x5f4e65];}['get'](_0x1c0a73){return this['index'][_0x1c0a73]||null;}};h(yn,'assignAttr'+'ibutesToSc'+'ript',g0),h(yn,'attributeT'+'oValue',_0),h(yn,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Sl=yn;const Bu='initialize',zu='postInitia'+'lize',AF='update',CF='postUpdate',PF='swap';class ts extends me{constructor(_0x20c5fb){super(),h(this,'app'),h(this,'entity'),h(this,'_enabled'),h(this,'_enabledOl'+'d'),h(this,'_initializ'+'ed'),h(this,'_postIniti'+'alized'),h(this,'__destroye'+'d'),h(this,'__scriptTy'+'pe'),h(this,'__executio'+'nOrder'),this['initScript'](_0x20c5fb);}set['enabled'](_0x519aa7){this['_enabled']=!!_0x519aa7,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(-0xe5e*0x1+0xcb9*0x1+0x1*0x1a5),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,Bu)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(-0x12f9+0x33*0x5+0x2ff*0x6),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,zu)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x295fa5){const _0x1c78c5=this['constructo'+'r'];w['assert'](_0x295fa5&&_0x295fa5['app']&&_0x295fa5['entity'],'script\x20['+_0x1c78c5['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x295fa5['app'],this['entity']=_0x295fa5['entity'],this['_enabled']=typeof _0x295fa5['enabled']=='boolean'?_0x295fa5['enabled']:!(0x49c+0x7b3+-0x1*0xc4f),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(-0x6ff+0x4*0x84e+0x8*-0x347),this['__scriptTy'+'pe']=_0x1c78c5,this['__executio'+'nOrder']=-(0x3*0x431+0x1c8b*0x1+0x291d*-0x1);}static get['scriptName'](){return this['__name'];}}h(ts,'EVENT_ENAB'+'LE','enable'),h(ts,'EVENT_DISA'+'BLE','disable'),h(ts,'EVENT_STAT'+'E','state'),h(ts,'EVENT_DEST'+'ROY','destroy'),h(ts,'EVENT_ATTR','attr'),h(ts,'EVENT_ERRO'+'R','error'),h(ts,'__name',null),h(ts,'__getScrip'+'tName',S0);const MF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function S0(_0x399822){if(typeof _0x399822!='function')return;if(_0x399822['scriptName'])return _0x399822['scriptName'];if('name'in Function['prototype'])return _0x399822['name'];if(_0x399822===Function||_0x399822===Function['prototype']['constructo'+'r'])return'Function';const _0x1dc779=(''+_0x399822)['match'](MF);return _0x1dc779?_0x1dc779[-0x96b*-0x2+-0x7*0x71+-0x82*0x1f]:void(-0xedb*0x2+0x78b+0x162b);}class Wo extends ts{constructor(_0x57f446){super(_0x57f446),h(this,'__attribut'+'es'),h(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x57f446);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Sl(this)),this['__attribut'+'es'];}['initScript'](_0x18635e){ts['prototype']['initScript']['call'](this,_0x18635e),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x18635e['attributes']||{};}['initScript'+'Type'](_0x15cb89){this['initScript'](_0x15cb89);}['__initiali'+'zeAttribut'+'es'](_0x3bb09d){if(!(!_0x3bb09d&&!this['__attribut'+'esRaw'])){for(const _0x1a33ca in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x1a33ca)?this[_0x1a33ca]=this['__attribut'+'esRaw'][_0x1a33ca]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x1a33ca)||(this['__scriptTy'+'pe']['attributes']['index'][_0x1a33ca]['hasOwnProp'+'erty']('default')?this[_0x1a33ca]=this['__scriptTy'+'pe']['attributes']['index'][_0x1a33ca]['default']:this[_0x1a33ca]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x1275d1){for(const _0x4f5fe4 in _0x1275d1)_0x1275d1['hasOwnProp'+'erty'](_0x4f5fe4)&&(this['prototype'][_0x4f5fe4]=_0x1275d1[_0x4f5fe4]);}}const DF=_0x7d954e=>_0x7d954e[-0x53+0xbd4+-0xb81]['toLowerCas'+'e']()+_0x7d954e['substring'](0xf*-0x14c+0x116e+0x1*0x207);class Ii extends we{constructor(_0x4f0282,_0x2d16ef){super(_0x4f0282,_0x2d16ef),h(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new oh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new oh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(0x3*0x7eb+-0xf94*0x1+-0x82c),this['_scriptsDa'+'ta']=null,this['_oldState']=!(-0x4*-0x517+-0x1*-0x163c+-0x2a98),this['_enabled']=!(0x1937+0x3*0xcd+0x7*-0x3f2),this['_beingEnab'+'led']=!(-0xc69+-0x31*0xa7+0x2c61),this['_isLooping'+'ThroughScr'+'ipts']=!(0x1097+-0x3*0xc3e+0x1424),this['_execution'+'Order']=-(0x26d8+-0xbd8+0x1aff*-0x1),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x4714f4){this['_scriptsDa'+'ta']=_0x4714f4;for(const _0x513ff3 in _0x4714f4){if(!_0x4714f4['hasOwnProp'+'erty'](_0x513ff3))continue;const _0x3eb267=this['_scriptsIn'+'dex'][_0x513ff3];if(_0x3eb267){if(typeof _0x4714f4[_0x513ff3]['enabled']=='boolean'&&(_0x3eb267['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x3eb267);}),_0x3eb267['enabled']=!!_0x4714f4[_0x513ff3]['enabled']),typeof _0x4714f4[_0x513ff3]['attributes']=='object'){for(const _0xf5661f in _0x4714f4[_0x513ff3]['attributes'])if(!Sl['reservedNa'+'mes']['has'](_0xf5661f)){if(!_0x3eb267['__attribut'+'es']['hasOwnProp'+'erty'](_0xf5661f)){const _0x5346a0=this['system']['app']['scripts']['get'](_0x513ff3);_0x5346a0&&_0x5346a0['attributes']['add'](_0xf5661f,{});}_0x3eb267[_0xf5661f]=_0x4714f4[_0x513ff3]['attributes'][_0xf5661f];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x157555){const _0x4b0a93=this['_enabled'];this['_enabled']=_0x157555,this['fire']('set','enabled',_0x4b0a93,_0x157555);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(0x2450+0xeea+0x9e*-0x53),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(-0x1474+0x114d+0x65*0x8);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x4f9bb2=this['_beginLoop'+'ing']();for(let _0x3a4482=0x1*-0xc7e+-0x1*-0x1fb+-0x9*-0x12b,_0x1f96bb=this['scripts']['length'];_0x3a4482<_0x1f96bb;_0x3a4482++){const _0x58260b=this['scripts'][_0x3a4482];_0x58260b['_initializ'+'ed']&&!_0x58260b['_postIniti'+'alized']&&_0x58260b['enabled']&&(_0x58260b['_postIniti'+'alized']=!(-0x823*-0x2+0x1345*-0x1+0x2ff),_0x58260b['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x58260b,zu));}this['_endLoopin'+'g'](_0x4f9bb2);}['_beginLoop'+'ing'](){const _0xe78528=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(-0x11d2+0x1d3f+-0xb6d*0x1),_0xe78528;}['_endLoopin'+'g'](_0x3d8d05){this['_isLooping'+'ThroughScr'+'ipts']=_0x3d8d05,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x453140,_0xc923f2,_0x5f11dd){this['_beingEnab'+'led']=!(-0x20d+-0x12cc+-0x3*-0x6f3),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(-0x1*0xb18+-0x176c*0x1+0x2285);}['_checkStat'+'e'](){const _0x144969=this['enabled']&&this['entity']['enabled'];if(_0x144969===this['_oldState'])return;this['_oldState']=_0x144969,this['fire'](_0x144969?'enable':'disable'),this['fire']('state',_0x144969),_0x144969?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x3a65a8=this['_beginLoop'+'ing']();for(let _0xe53384=-0x926+0x4*0x94+0x6d6*0x1,_0x78ecfb=this['scripts']['length'];_0xe53384<_0x78ecfb;_0xe53384++){const _0x275c6b=this['scripts'][_0xe53384];_0x275c6b['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x275c6b);}),_0x275c6b['enabled']=_0x275c6b['_enabled'];}this['_endLoopin'+'g'](_0x3a65a8);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x40070f=this['_beginLoop'+'ing']();for(let _0x1ec06c=0xcf8+-0x1*-0x180a+0x1281*-0x2;_0x1ec06c<this['scripts']['length'];_0x1ec06c++){const _0xea92a7=this['scripts'][_0x1ec06c];_0xea92a7&&this['destroy'](_0xea92a7['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x40070f);}['_removeDes'+'troyedScri'+'pts'](){const _0x10448a=this['_destroyed'+'Scripts']['length'];if(_0x10448a){for(let _0x1b1a8a=0xf53+-0x24a6+0x1553;_0x1b1a8a<_0x10448a;_0x1b1a8a++){const _0x37277b=this['_destroyed'+'Scripts'][_0x1b1a8a];this['_removeScr'+'iptInstanc'+'e'](_0x37277b);}this['_destroyed'+'Scripts']['length']=0x13*-0x1db+-0x1983+-0x4*-0xf31,this['_resetExec'+'utionOrder'](-0x1d2e+-0x1bd3+0x3901,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x2466f1=0x2a7+0xa1*-0x3b+0x2274,_0x3d276c=this['scripts']['length'];_0x2466f1<_0x3d276c;_0x2466f1++){const _0x34d068=this['scripts'][_0x2466f1];this['initialize'+'Attributes'](_0x34d068);}}['initialize'+'Attributes'](_0x61be57){var _0x22a138;if(_0x61be57 instanceof Wo)_0x61be57['__initiali'+'zeAttribut'+'es']();else{const _0x3329b7=_0x61be57['__scriptTy'+'pe']['__name'],_0x3c4feb=this['_attribute'+'DataMap']['get'](_0x3329b7);if(!_0x3c4feb)return;const _0x1d8a6f=(_0x22a138=this['system']['app']['scripts'])==null?void(-0x2023+0x1cda+0x1*0x349):_0x22a138['getSchema'](_0x3329b7);_0x1d8a6f||w['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x3329b7+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),g0(this['system']['app'],_0x1d8a6f['attributes'],_0x3c4feb,_0x61be57);}}['_scriptMet'+'hod'](_0x380171,_0x59c546,_0x723440){try{_0x380171[_0x59c546](_0x723440);}catch(_0x470803){_0x380171['enabled']=!(-0x1b1f+0x1877+0x2a9),_0x380171['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x59c546+'\x22\x20for\x20\x22'+_0x380171['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x470803),console['error'](_0x470803)),_0x380171['fire']('error',_0x470803,_0x59c546),this['fire']('error',_0x380171,_0x470803,_0x59c546);}}['_onInitial'+'ize'](){const _0x4c7a72=this['_scripts'],_0x4ff6da=this['_beginLoop'+'ing']();for(let _0xca6fbe=-0xe*0x15f+-0x1344+0x2676,_0x5c590b=_0x4c7a72['length'];_0xca6fbe<_0x5c590b;_0xca6fbe++){const _0x3d2ef7=_0x4c7a72[_0xca6fbe];!_0x3d2ef7['_initializ'+'ed']&&_0x3d2ef7['enabled']&&(_0x3d2ef7['_initializ'+'ed']=!(0x20dd+-0x1*0x42b+-0xe59*0x2),_0x3d2ef7['initialize']&&this['_scriptMet'+'hod'](_0x3d2ef7,Bu));}this['_endLoopin'+'g'](_0x4ff6da);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x1184af){const _0x3131d7=this['_updateLis'+'t'];if(!_0x3131d7['length'])return;const _0x2a3b27=this['_beginLoop'+'ing']();for(_0x3131d7['loopIndex']=0x265f+0x1d32+0x161*-0x31;_0x3131d7['loopIndex']<_0x3131d7['length'];_0x3131d7['loopIndex']++){const _0x2cf85b=_0x3131d7['items'][_0x3131d7['loopIndex']];_0x2cf85b['enabled']&&this['_scriptMet'+'hod'](_0x2cf85b,AF,_0x1184af);}this['_endLoopin'+'g'](_0x2a3b27);}['_onPostUpd'+'ate'](_0x5836ac){const _0x293e1f=this['_postUpdat'+'eList'];if(!_0x293e1f['length'])return;const _0x18b349=this['_beginLoop'+'ing']();for(_0x293e1f['loopIndex']=-0x2b0*0x1+0x2*0x511+-0x772;_0x293e1f['loopIndex']<_0x293e1f['length'];_0x293e1f['loopIndex']++){const _0x144ac0=_0x293e1f['items'][_0x293e1f['loopIndex']];_0x144ac0['enabled']&&this['_scriptMet'+'hod'](_0x144ac0,CF,_0x5836ac);}this['_endLoopin'+'g'](_0x18b349);}['_insertScr'+'iptInstanc'+'e'](_0x5a3cd8,_0x2f5d1b,_0x2d4dbc){_0x2f5d1b===-(0x23*0xb3+-0x2358+-0x60*-0x1d)?(this['_scripts']['push'](_0x5a3cd8),_0x5a3cd8['__executio'+'nOrder']=_0x2d4dbc,_0x5a3cd8['update']&&this['_updateLis'+'t']['append'](_0x5a3cd8),_0x5a3cd8['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x5a3cd8)):(this['_scripts']['splice'](_0x2f5d1b,-0xf6+-0x1e4e+-0xc*-0x29b,_0x5a3cd8),_0x5a3cd8['__executio'+'nOrder']=_0x2f5d1b,this['_resetExec'+'utionOrder'](_0x2f5d1b+(0x487*0x1+-0x16a1*-0x1+-0x1b27),_0x2d4dbc+(0x2fb+-0x1656+-0x1*-0x135c)),_0x5a3cd8['update']&&this['_updateLis'+'t']['insert'](_0x5a3cd8),_0x5a3cd8['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x5a3cd8));}['_removeScr'+'iptInstanc'+'e'](_0x5804fd){const _0x2d4e96=this['_scripts']['indexOf'](_0x5804fd);return _0x2d4e96===-(0x2008+0x1171+-0x3178)||(this['_scripts']['splice'](_0x2d4e96,-0x209b+0x1de7*-0x1+0x3e83),_0x5804fd['update']&&this['_updateLis'+'t']['remove'](_0x5804fd),_0x5804fd['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x5804fd)),_0x2d4e96;}['_resetExec'+'utionOrder'](_0x4542ea,_0x440e22){for(let _0x3d33af=_0x4542ea;_0x3d33af<_0x440e22;_0x3d33af++)this['_scripts'][_0x3d33af]['__executio'+'nOrder']=_0x3d33af;}['_resolveEn'+'tityScript'+'Attribute'](_0x678669,_0x5ed46e,_0x473167,_0x35338d,_0x5692f5,_0x2df2fa){if(_0x678669['array']){const _0x20eebe=_0x473167['length'];if(!_0x20eebe)return;const _0x2ebce2=_0x473167['slice']();for(let _0x18d656=0x1935*-0x1+0xdc5+0x6*0x1e8;_0x18d656<_0x20eebe;_0x18d656++){const _0x37da77=_0x2ebce2[_0x18d656]instanceof lt?_0x2ebce2[_0x18d656]['getGuid']():_0x2ebce2[_0x18d656];_0x2df2fa[_0x37da77]&&(_0x2ebce2[_0x18d656]=_0x35338d?_0x2df2fa[_0x37da77]['getGuid']():_0x2df2fa[_0x37da77]);}_0x5692f5[_0x5ed46e]=_0x2ebce2;}else{if(_0x473167 instanceof lt)_0x473167=_0x473167['getGuid']();else{if(typeof _0x473167!='string')return;}_0x2df2fa[_0x473167]&&(_0x5692f5[_0x5ed46e]=_0x2df2fa[_0x473167]);}}['has'](_0x1ae705){if(typeof _0x1ae705=='string')return!!this['_scriptsIn'+'dex'][_0x1ae705];if(!_0x1ae705)return!(0xb*0x23c+0x1*0x21b1+-0x4db*0xc);const _0x53eb8e=_0x1ae705,_0x1e6b8c=_0x53eb8e['__name'],_0x589831=this['_scriptsIn'+'dex'][_0x1e6b8c];return(_0x589831&&_0x589831['instance'])instanceof _0x53eb8e;}['get'](_0x46f4f4){if(typeof _0x46f4f4=='string'){const _0x457682=this['_scriptsIn'+'dex'][_0x46f4f4];return _0x457682?_0x457682['instance']:null;}if(!_0x46f4f4)return null;const _0x45bbbc=_0x46f4f4,_0x470da4=_0x45bbbc['__name'],_0x3318e3=this['_scriptsIn'+'dex'][_0x470da4],_0x24d959=_0x3318e3&&_0x3318e3['instance'];return _0x24d959 instanceof _0x45bbbc?_0x24d959:null;}['create'](_0x43c670,_0x29bc81={}){const _0x31b39a=this;let _0x55dd34=_0x43c670,_0x5ab1da=_0x43c670;if(typeof _0x55dd34=='string')_0x55dd34=this['system']['app']['scripts']['get'](_0x55dd34);else{if(_0x55dd34){const _0x108309=S0(_0x55dd34),_0x233ef1=DF(_0x108309);!(_0x55dd34['prototype']instanceof Wo)&&!_0x55dd34['scriptName']&&w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x108309+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x108309+('.scriptNam'+'e\x20=\x20\x22')+_0x233ef1+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.')),_0x55dd34['__name']??(_0x55dd34['__name']=_0x55dd34['scriptName']??_0x233ef1),_0x5ab1da=_0x55dd34['__name'];}}if(_0x55dd34){if(!this['_scriptsIn'+'dex'][_0x5ab1da]||!this['_scriptsIn'+'dex'][_0x5ab1da]['instance']){const _0x20944e=new _0x55dd34({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x29bc81['hasOwnProp'+'erty']('enabled')?_0x29bc81['enabled']:!(0xc75+-0x1ecb+0x1256*0x1),'attributes':_0x29bc81['attributes']||{}});_0x29bc81['properties']&&typeof _0x29bc81['properties']=='object'&&Object['assign'](_0x20944e,_0x29bc81['properties']),_0x20944e instanceof Wo||this['_attribute'+'DataMap']['set'](_0x5ab1da,_0x29bc81['attributes']);const _0x3f8588=this['_scripts']['length'];let _0x216b1c=-(0x502+-0xb6+-0x9d*0x7);return typeof _0x29bc81['ind']=='number'&&_0x29bc81['ind']!==-(0x1d3*0x10+-0x2cd*-0xd+-0x4198)&&_0x3f8588>_0x29bc81['ind']&&(_0x216b1c=_0x29bc81['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x20944e,_0x216b1c,_0x3f8588),this['_scriptsIn'+'dex'][_0x5ab1da]={'instance':_0x20944e,'onSwap':function(){_0x31b39a['swap'](_0x5ab1da);}},this[_0x5ab1da]=_0x20944e,_0x29bc81['preloading']||this['initialize'+'Attributes'](_0x20944e),this['fire']('create',_0x5ab1da,_0x20944e),this['fire']('create:'+_0x5ab1da,_0x20944e),this['system']['app']['scripts']['on']('swap:'+_0x5ab1da,this['_scriptsIn'+'dex'][_0x5ab1da]['onSwap']),_0x29bc81['preloading']||(_0x20944e['enabled']&&!_0x20944e['_initializ'+'ed']&&(_0x20944e['_initializ'+'ed']=!(-0x861+0x50*0x1f+-0x14f),_0x20944e['initialize']&&this['_scriptMet'+'hod'](_0x20944e,Bu)),_0x20944e['enabled']&&!_0x20944e['_postIniti'+'alized']&&(_0x20944e['_postIniti'+'alized']=!(-0xc*-0x2e7+0x153+0x1*-0x2427),_0x20944e['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x20944e,zu))),_0x20944e;}w['warn']('script\x20\x27'+_0x5ab1da+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x5ab1da]={'awaiting':!(-0x15e6+0x7*-0x33b+0x8e7*0x5),'ind':this['_scripts']['length']},w['warn']('script\x20\x27'+_0x5ab1da+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x452857){let _0x3eb8c8=_0x452857,_0x11bae5=_0x452857;typeof _0x11bae5=='string'?_0x11bae5=this['system']['app']['scripts']['get'](_0x11bae5):_0x11bae5&&(_0x3eb8c8=_0x11bae5['__name']);const _0x150745=this['_scriptsIn'+'dex'][_0x3eb8c8];if(delete this['_scriptsIn'+'dex'][_0x3eb8c8],!_0x150745)return!(-0xf00+0x21*0xd7+-0x2*0x65b);this['_attribute'+'DataMap']['delete'](_0x3eb8c8);const _0x12a184=_0x150745['instance'];if(_0x12a184&&!_0x12a184['_destroyed']){if(_0x12a184['enabled']=!(-0x17fa+0x602+0x11f9*0x1),_0x12a184['_destroyed']=!(-0x14bc+0x144d+0x6f*0x1),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x12a184);else{const _0x2a8a51=this['_removeScr'+'iptInstanc'+'e'](_0x12a184);_0x2a8a51>=-0xce3*0x1+0x1b3a+-0xe57&&this['_resetExec'+'utionOrder'](_0x2a8a51,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x3eb8c8,_0x150745['onSwap']),delete this[_0x3eb8c8],this['fire']('destroy',_0x3eb8c8,_0x12a184||null),this['fire']('destroy:'+_0x3eb8c8,_0x12a184||null),_0x12a184&&_0x12a184['fire']('destroy'),!(-0x829*0x1+0x248+-0x23*-0x2b);}['swap'](_0x28e116){let _0x21f4a4=_0x28e116,_0x5e56e2=_0x28e116;typeof _0x5e56e2=='string'?_0x5e56e2=this['system']['app']['scripts']['get'](_0x5e56e2):_0x5e56e2&&(_0x21f4a4=_0x5e56e2['__name']);const _0x6dc93e=this['_scriptsIn'+'dex'][_0x21f4a4];if(!_0x6dc93e||!_0x6dc93e['instance'])return!(-0x86*0x48+-0x3*-0x669+0x1276);const _0x9b5f37=_0x6dc93e['instance'],_0x38f3f1=this['_scripts']['indexOf'](_0x9b5f37),_0x1ae72f=new _0x5e56e2({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x9b5f37['enabled'],'attributes':_0x9b5f37['__attribut'+'es']});return _0x1ae72f['swap']?(this['initialize'+'Attributes'](_0x1ae72f),this['_scripts'][_0x38f3f1]=_0x1ae72f,this['_scriptsIn'+'dex'][_0x21f4a4]['instance']=_0x1ae72f,this[_0x21f4a4]=_0x1ae72f,_0x1ae72f['__executio'+'nOrder']=_0x38f3f1,_0x9b5f37['update']&&this['_updateLis'+'t']['remove'](_0x9b5f37),_0x9b5f37['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x9b5f37),_0x1ae72f['update']&&this['_updateLis'+'t']['insert'](_0x1ae72f),_0x1ae72f['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x1ae72f),this['_scriptMet'+'hod'](_0x1ae72f,PF,_0x9b5f37),this['fire']('swap',_0x21f4a4,_0x1ae72f),this['fire']('swap:'+_0x21f4a4,_0x1ae72f),!(0x1676+0xe*-0x1a+-0x150a)):!(0x1680+0x1d9c+-0x341b);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2d71f7,_0x180c32){var _0x2b3da0,_0x227615,_0x6a9baa;const _0x448ea8=this['entity']['script'];for(const _0x1bd892 in _0x2d71f7['_scriptsIn'+'dex']){const _0x4584e1=this['system']['app']['scripts']['get'](_0x1bd892);if(!_0x4584e1)continue;const _0x18cd0f=_0x2d71f7['_scriptsIn'+'dex'][_0x1bd892];if(!_0x18cd0f||!_0x18cd0f['instance'])continue;const _0x2e70bb=_0x448ea8[_0x1bd892]['__attribut'+'esRaw']??_0x448ea8['_attribute'+'DataMap']['get'](_0x1bd892),_0x24507c=_0x448ea8[_0x1bd892]['__attribut'+'es'];if(!_0x2e70bb&&!_0x24507c)continue;const _0x216b7c=!!_0x2e70bb,_0x52efbd=_0x18cd0f['instance']['__attribut'+'es']??_0x448ea8['_attribute'+'DataMap']['get'](_0x1bd892);for(const _0x6089b8 in _0x52efbd){if(!_0x52efbd[_0x6089b8])continue;const _0x122aab=((_0x2b3da0=_0x4584e1['attributes'])==null?void(0x120f*-0x1+0x2*0x19c+0xed7*0x1):_0x2b3da0['get'](_0x6089b8))??((_0x6a9baa=(_0x227615=this['system']['app']['scripts']['getSchema'](_0x1bd892))==null?void(0x1c4+-0x1*0xa47+0x883):_0x227615['attributes'])==null?void(0x4*-0x57d+-0x1*0x15b+0x174f):_0x6a9baa[_0x6089b8]);if(_0x122aab){if(_0x122aab['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x122aab,_0x6089b8,_0x52efbd[_0x6089b8],_0x216b7c,_0x2e70bb||_0x24507c,_0x180c32);else{if(_0x122aab['type']==='json'&&Array['isArray'](_0x122aab['schema'])){const _0x23312c=_0x52efbd[_0x6089b8],_0x194d07=_0x2e70bb?_0x2e70bb[_0x6089b8]:_0x24507c[_0x6089b8];for(let _0x25e79c=0x5a4*0x2+0x1d4f+-0x2897*0x1;_0x25e79c<_0x122aab['schema']['length'];_0x25e79c++){const _0x4922f7=_0x122aab['schema'][_0x25e79c];if(_0x4922f7['type']==='entity'){if(_0x122aab['array']){for(let _0x58b5f4=-0x10b2+-0xc1f*-0x3+-0x13ab;_0x58b5f4<_0x23312c['length'];_0x58b5f4++)this['_resolveEn'+'tityScript'+'Attribute'](_0x4922f7,_0x4922f7['name'],_0x23312c[_0x58b5f4][_0x4922f7['name']],_0x216b7c,_0x194d07[_0x58b5f4],_0x180c32);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x4922f7,_0x4922f7['name'],_0x23312c[_0x4922f7['name']],_0x216b7c,_0x194d07,_0x180c32);}}}}}}}}['move'](_0x2db249,_0x5a5dd7){const _0x563330=this['_scripts']['length'];if(_0x5a5dd7>=_0x563330||_0x5a5dd7<-0x126d+0x1535+-0x2c8)return!(-0x2320+-0xa8d+0x2dae);let _0x157b89=_0x2db249,_0x3e1384=_0x2db249;typeof _0x3e1384!='string'?_0x3e1384=_0x2db249['__name']:_0x157b89=null;const _0xbcdd0f=this['_scriptsIn'+'dex'][_0x3e1384];if(!_0xbcdd0f||!_0xbcdd0f['instance'])return!(0x13ae+0x15bd+0x39*-0xba);const _0x2f72df=_0xbcdd0f['instance'];if(_0x157b89&&!(_0x2f72df instanceof _0x157b89))return!(0xa1*-0x2b+0x5*0x122+0x1562);const _0x2fe296=this['_scripts']['indexOf'](_0x2f72df);return _0x2fe296===-(0x1270+0xd41+-0x10*0x1fb)||_0x2fe296===_0x5a5dd7?!(-0x487*-0x7+-0x1*-0x99d+-0x294d):(this['_scripts']['splice'](_0x5a5dd7,0x9*0x402+-0x1*0x258d+0x17b*0x1,this['_scripts']['splice'](_0x2fe296,-0xd37+0x1*-0x1b57+-0xd85*-0x3)[0x37*-0xb+0x1cfe+-0x1aa1]),this['_resetExec'+'utionOrder'](-0x788+-0x268c*0x1+0xc*0x3d7,_0x563330),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x3e1384,_0x2f72df,_0x5a5dd7,_0x2fe296),this['fire']('move:'+_0x3e1384,_0x2f72df,_0x5a5dd7,_0x2fe296),!(-0x1258+0x1a2b+-0x7d3));}}h(Ii,'EVENT_CREA'+'TE','create'),h(Ii,'EVENT_DEST'+'ROY','destroy'),h(Ii,'EVENT_ENAB'+'LE','enable'),h(Ii,'EVENT_DISA'+'BLE','disable'),h(Ii,'EVENT_REMO'+'VE','remove'),h(Ii,'EVENT_STAT'+'E','state'),h(Ii,'EVENT_MOVE','move'),h(Ii,'EVENT_ERRO'+'R','error');class IF{constructor(){this['enabled']=!(-0x2a*0x4d+0x22de+-0x163c);}}const LF='_onInitial'+'izeAttribu'+'tes',RF='_onInitial'+'ize',OF='_onPostIni'+'tialize',FF='_onUpdate',NF='_onPostUpd'+'ate';let Mc=-0x1c35+-0xeb1+0x2ae6;class kF extends ct{constructor(_0x5a1bec){super(_0x5a1bec),this['id']='script',this['ComponentT'+'ype']=Ii,this['DataType']=IF,this['_component'+'s']=new oh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new oh({'sortBy':'_execution'+'Order'}),this['preloading']=!(-0x2*0xca6+-0x1471+-0x9*-0x515),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x2ff68b,_0x5bdd06){if(_0x2ff68b['_execution'+'Order']=Mc++,this['_component'+'s']['append'](_0x2ff68b),Mc>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x2ff68b['enabled']=_0x5bdd06['hasOwnProp'+'erty']('enabled')?!!_0x5bdd06['enabled']:!(0x417+0x2525+-0x293c),_0x2ff68b['enabled']&&_0x2ff68b['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x2ff68b),_0x5bdd06['hasOwnProp'+'erty']('order')&&_0x5bdd06['hasOwnProp'+'erty']('scripts')){_0x2ff68b['_scriptsDa'+'ta']=_0x5bdd06['scripts'];for(let _0xa03fe9=0xd1a+-0x8*-0x2c7+-0x2352;_0xa03fe9<_0x5bdd06['order']['length'];_0xa03fe9++)_0x2ff68b['create'](_0x5bdd06['order'][_0xa03fe9],{'enabled':_0x5bdd06['scripts'][_0x5bdd06['order'][_0xa03fe9]]['enabled'],'attributes':_0x5bdd06['scripts'][_0x5bdd06['order'][_0xa03fe9]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x4e2a0b,_0x8b61cd){var _0x35be7d;const _0x23d380=[],_0x18f8ee={};for(let _0x3eb199=-0x1b*-0x49+-0x1429*-0x1+-0x1bdc;_0x3eb199<_0x4e2a0b['script']['_scripts']['length'];_0x3eb199++){const _0x25ec18=_0x4e2a0b['script']['_scripts'][_0x3eb199],_0x2226c5=_0x25ec18['__scriptTy'+'pe']['__name'];_0x23d380['push'](_0x2226c5);const _0x5a02f1=((_0x35be7d=_0x4e2a0b['script']['_attribute'+'DataMap'])==null?void(0x19f3*0x1+-0x1*-0x1c51+0x17*-0x25c):_0x35be7d['get'](_0x2226c5))||{};for(const _0x1dc5a0 in _0x25ec18['__attribut'+'es'])_0x5a02f1[_0x1dc5a0]=_0x25ec18['__attribut'+'es'][_0x1dc5a0];_0x18f8ee[_0x2226c5]={'enabled':_0x25ec18['_enabled'],'attributes':_0x5a02f1};}for(const _0x51efad in _0x4e2a0b['script']['_scriptsIn'+'dex'])_0x51efad['awaiting']&&_0x23d380['splice'](_0x51efad['ind'],0x791+0xa*0x338+-0x27c1,_0x51efad);const _0x4cd21c={'enabled':_0x4e2a0b['script']['enabled'],'order':_0x23d380,'scripts':_0x18f8ee};return this['addCompone'+'nt'](_0x8b61cd,_0x4cd21c);}['_resetExec'+'utionOrder'](){Mc=-0x3*0x609+-0x257*0x10+0xf1*0x3b;for(let _0xca8cb9=0x17d*0x1+0xa9*0x5+-0x1*0x4ca,_0x10b2cc=this['_component'+'s']['length'];_0xca8cb9<_0x10b2cc;_0xca8cb9++)this['_component'+'s']['items'][_0xca8cb9]['_execution'+'Order']=Mc++;}['_callCompo'+'nentMethod'](_0x32a7cc,_0x389e71,_0x26e3b7){for(_0x32a7cc['loopIndex']=-0xfeb+0x192d+-0x942;_0x32a7cc['loopIndex']<_0x32a7cc['length'];_0x32a7cc['loopIndex']++)_0x32a7cc['items'][_0x32a7cc['loopIndex']][_0x389e71](_0x26e3b7);}['_onInitial'+'ize'](){this['preloading']=!(0x2b9+0x17*0x182+-0x2566),this['_callCompo'+'nentMethod'](this['_component'+'s'],LF),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],RF);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],OF);}['_onUpdate'](_0xa6f8cf){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],FF,_0xa6f8cf);}['_onPostUpd'+'ate'](_0x4ba063){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],NF,_0x4ba063);}['_addCompon'+'entToEnabl'+'ed'](_0x39e03f){this['_enabledCo'+'mponents']['insert'](_0x39e03f);}['_removeCom'+'ponentFrom'+'Enabled'](_0x50752c){this['_enabledCo'+'mponents']['remove'](_0x50752c);}['_onBeforeR'+'emove'](_0x23bef9,_0x38d629){this['_component'+'s']['items']['indexOf'](_0x38d629)>=0x3d*-0x89+0x2*0x74d+0x1f*0x95&&_0x38d629['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x38d629),this['_component'+'s']['remove'](_0x38d629);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class y0 extends we{constructor(_0x511d74,_0x2e38fc){super(_0x511d74,_0x2e38fc),h(this,'_layers',[er]),h(this,'_instance',null),h(this,'_materialT'+'mp',null),h(this,'_highQuali'+'tySH',!(0x2312+0x23fe+0x5ec*-0xc)),h(this,'_customAab'+'b',null),h(this,'_assetRefe'+'rence'),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_castShado'+'ws',!(0x19bb+-0x1e71+0x4b7*0x1)),(this['_assetRefe'+'rence']=new gl('asset',this,_0x511d74['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x2e38fc['on']('remove',this['onRemoveCh'+'ild'],this),_0x2e38fc['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x2e38fc['on']('insert',this['onInsertCh'+'ild'],this),_0x2e38fc['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x47e715){var _0x293f3a,_0x24aa1e;this['_customAab'+'b']=_0x47e715,(_0x24aa1e=(_0x293f3a=this['_instance'])==null?void(-0x1d8b*-0x1+0x2*-0xc68+-0x4bb):_0x293f3a['meshInstan'+'ce'])==null||_0x24aa1e['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x5d228b){if(this['destroyIns'+'tance'](),this['_instance']=_0x5d228b,this['_instance']){const _0x1f3a37=this['_instance']['meshInstan'+'ce'];_0x1f3a37['node']||(_0x1f3a37['node']=this['entity']),_0x1f3a37['castShadow']=this['_castShado'+'ws'],_0x1f3a37['setCustomA'+'abb'](this['_customAab'+'b']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['material'](_0x5cbed7){this['_instance']?this['_instance']['material']=_0x5cbed7:this['_materialT'+'mp']=_0x5cbed7;}get['material'](){var _0x446fad;return((_0x446fad=this['_instance'])==null?void(0xd71+0x20b6+-0x2e27):_0x446fad['material'])??this['_materialT'+'mp']??null;}set['highQualit'+'ySH'](_0x31541c){_0x31541c!==this['_highQuali'+'tySH']&&(this['_highQuali'+'tySH']=_0x31541c,this['_instance']&&this['_instance']['setHighQua'+'litySH'](_0x31541c));}get['highQualit'+'ySH'](){return this['_highQuali'+'tySH'];}set['castShadow'+'s'](_0x1fa2e5){var _0x588620;if(this['_castShado'+'ws']!==_0x1fa2e5){const _0x5e20ab=(_0x588620=this['instance'])==null?void(-0x1476+-0x2433+0x38a9):_0x588620['meshInstan'+'ce'];if(_0x5e20ab){const _0x93b7b8=this['layers'],_0x15268b=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x1fa2e5)for(let _0x4efc89=-0x81f*0x2+0x809+-0x1*-0x835;_0x4efc89<_0x93b7b8['length'];_0x4efc89++){const _0x233834=_0x15268b['layers']['getLayerBy'+'Id'](this['layers'][_0x4efc89]);_0x233834&&_0x233834['removeShad'+'owCasters']([_0x5e20ab]);}if(_0x5e20ab['castShadow']=_0x1fa2e5,!this['_castShado'+'ws']&&_0x1fa2e5)for(let _0x565697=-0x13af+-0xf24+0x22d3;_0x565697<_0x93b7b8['length'];_0x565697++){const _0x3c04c6=_0x15268b['layers']['getLayerBy'+'Id'](_0x93b7b8[_0x565697]);_0x3c04c6&&_0x3c04c6['addShadowC'+'asters']([_0x5e20ab]);}}this['_castShado'+'ws']=_0x1fa2e5;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['layers'](_0x166d54){this['removeFrom'+'Layers'](),this['_layers']['length']=0x14f0+-0x226c+-0x1*-0xd7c;for(let _0x2c8afb=0x37e+0xcb*-0x4+0x52*-0x1;_0x2c8afb<_0x166d54['length'];_0x2c8afb++)this['_layers'][_0x2c8afb]=_0x166d54[_0x2c8afb];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x13d380){const _0x44b339=_0x13d380 instanceof pe?_0x13d380['id']:_0x13d380;this['_assetRefe'+'rence']['id']!==_0x44b339&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x44b339,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['destroyIns'+'tance'](){var _0x5f1e9e;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x5f1e9e=this['_instance'])==null||_0x5f1e9e['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0xfd9bad,_0x311131;const _0x3c0ac7=(_0xfd9bad=this['instance'])==null?void(0x7*-0x1a5+0x3*-0x95f+0x27a0):_0xfd9bad['meshInstan'+'ce'];if(_0x3c0ac7){const _0x4c79ca=this['system']['app']['scene']['layers'];for(let _0x31a1c9=-0x7c5*-0x1+-0x2*-0x1183+0x5*-0x88f;_0x31a1c9<this['_layers']['length'];_0x31a1c9++)(_0x311131=_0x4c79ca['getLayerBy'+'Id'](this['_layers'][_0x31a1c9]))==null||_0x311131['addMeshIns'+'tances']([_0x3c0ac7]);}}['removeFrom'+'Layers'](){var _0x5da914,_0x44d88e;const _0x5c2f2d=(_0x5da914=this['instance'])==null?void(-0x17*0x1e+-0x1*-0xec3+-0x1*0xc11):_0x5da914['meshInstan'+'ce'];if(_0x5c2f2d){const _0x262dc3=this['system']['app']['scene']['layers'];for(let _0x122cee=0x1*-0x660+-0x10b0+0x1710;_0x122cee<this['_layers']['length'];_0x122cee++)(_0x44d88e=_0x262dc3['getLayerBy'+'Id'](this['_layers'][_0x122cee]))==null||_0x44d88e['removeMesh'+'Instances']([_0x5c2f2d]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x1fabc4,_0x19feef){this['addToLayer'+'s'](),_0x1fabc4['off']('add',this['onLayerAdd'+'ed'],this),_0x1fabc4['off']('remove',this['onLayerRem'+'oved'],this),_0x19feef['on']('add',this['onLayerAdd'+'ed'],this),_0x19feef['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x4c3061){this['layers']['indexOf'](_0x4c3061['id'])<0xaa8+0x1c*-0xe2+0x90*0x19||this['_instance']&&_0x4c3061['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x2c4139){this['layers']['indexOf'](_0x2c4139['id'])<-0xd6d+-0x2*-0x213+0x947||this['_instance']&&_0x2c4139['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0xb9f8e=this['system']['app']['scene'],_0x165cd0=_0xb9f8e['layers'];this['_evtLayers'+'Changed']=_0xb9f8e['on']('set:layers',this['onLayersCh'+'anged'],this),_0x165cd0&&(this['_evtLayerA'+'dded']=_0x165cd0['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x165cd0['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x152cb8,_0x12ab65,_0x44b152;const _0x5500e1=this['system']['app']['scene']['layers'];(_0x152cb8=this['_evtLayers'+'Changed'])==null||_0x152cb8['off'](),this['_evtLayers'+'Changed']=null,_0x5500e1&&((_0x12ab65=this['_evtLayerA'+'dded'])==null||_0x12ab65['off'](),this['_evtLayerA'+'dded']=null,(_0x44b152=this['_evtLayerR'+'emoved'])==null||_0x44b152['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x27*-0x25+-0xa71+-0x1*-0x1015));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0xd39+0x3*-0xb32+-0x1*-0x2ecf));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x1f0012=this['_assetRefe'+'rence']['asset'];_0x1f0012&&(this['instance']=_0x1f0012['resource']['createInst'+'ance'](_0x1f0012['resource'],{'material':this['_materialT'+'mp'],'highQualitySH':this['_highQuali'+'tySH']}),this['_materialT'+'mp']=null,this['customAabb']=this['instance']['resource']['aabb']['clone']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class UF{constructor(){this['enabled']=!(-0xbfc+-0xa30*0x2+0x205c);}}const Vu=['enabled'],To=['castShadow'+'s','material','highQualit'+'ySH','asset','layers'];class BF extends ct{constructor(_0x46ec83){super(_0x46ec83),this['id']='gsplat',this['ComponentT'+'ype']=y0,this['DataType']=UF,this['schema']=Vu,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x1f2546,_0x49b56,_0xd5f2f6){_0x49b56['layers']&&_0x49b56['layers']['length']&&(_0x49b56['layers']=_0x49b56['layers']['slice'](0xe39+-0x7*0x1e7+-0xe8));for(let _0x1ff5b5=0x1*-0x1fab+-0x67*0xd+0x2*0x1273;_0x1ff5b5<To['length'];_0x1ff5b5++)_0x49b56['hasOwnProp'+'erty'](To[_0x1ff5b5])&&(_0x1f2546[To[_0x1ff5b5]]=_0x49b56[To[_0x1ff5b5]]);_0x49b56['aabbCenter']&&_0x49b56['aabbHalfEx'+'tents']&&(_0x1f2546['customAabb']=new De(new D(_0x49b56['aabbCenter']),new D(_0x49b56['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x1f2546,_0x49b56,Vu);}['cloneCompo'+'nent'](_0x223c68,_0x2b9993){const _0x11715b=_0x223c68['gsplat'],_0x22ded1={};To['forEach'](_0x13378c=>{_0x13378c==='material'?_0x22ded1[_0x13378c]=_0x11715b[_0x13378c]['clone']():_0x22ded1[_0x13378c]=_0x11715b[_0x13378c];}),_0x22ded1['enabled']=_0x11715b['enabled'];const _0x2b22b1=this['addCompone'+'nt'](_0x2b9993,_0x22ded1);return _0x11715b['customAabb']&&(_0x2b22b1['customAabb']=_0x11715b['customAabb']['clone']()),_0x2b22b1;}['onRemove'](_0x3ffa5b,_0x344995){_0x344995['onRemove']();}}we['_buildAcce'+'ssors'](y0['prototype'],Vu);class Em extends me{constructor(){super(...arguments),h(this,'_meshes',null);}set['meshes'](_0x410f4c){this['decRefMesh'+'es'](),this['_meshes']=_0x410f4c,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x410f4c);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0xa35018;(_0xa35018=this['_meshes'])==null||_0xa35018['forEach']((_0x25a7d0,_0x22841e)=>{_0x25a7d0&&(_0x25a7d0['decRefCoun'+'t'](),_0x25a7d0['refCount']<-0x35*-0x96+-0x6b1+-0x185c&&(_0x25a7d0['destroy'](),this['_meshes'][_0x22841e]=null));});}['incRefMesh'+'es'](){var _0x15fb43;(_0x15fb43=this['_meshes'])==null||_0x15fb43['forEach'](_0x442223=>{_0x442223==null||_0x442223['incRefCoun'+'t']();});}}h(Em,'EVENT_SETM'+'ESHES','set:meshes');function sh(_0x4f1f13){const _0x3a9dcd=this;if(!_0x3a9dcd['resource'])return;const _0x39332e=_0x4f1f13['resource'],_0x2f38b2=_0x39332e['renders']&&_0x39332e['renders'][_0x3a9dcd['data']['renderInde'+'x']];_0x2f38b2&&(_0x3a9dcd['resource']['meshes']=_0x2f38b2['resource']['meshes']);}function pS(_0x2836a0){const _0x4d0ce3=this;_0x4d0ce3['registry']['off']('load:'+_0x2836a0['id'],sh,_0x4d0ce3),_0x4d0ce3['registry']['on']('load:'+_0x2836a0['id'],sh,_0x4d0ce3),_0x4d0ce3['registry']['off']('remove:'+_0x2836a0['id'],mS,_0x4d0ce3),_0x4d0ce3['registry']['once']('remove:'+_0x2836a0['id'],mS,_0x4d0ce3),_0x2836a0['resource']?sh['call'](_0x4d0ce3,_0x2836a0):_0x4d0ce3['registry']['load'](_0x2836a0);}function mS(_0x17389){const _0xba884c=this;_0xba884c['registry']['off']('load:'+_0x17389['id'],sh,_0xba884c),_0xba884c['resource']&&_0xba884c['resource']['destroy']();}class zF extends Qe{constructor(_0x27cbb1){super(_0x27cbb1,'render'),this['_registry']=_0x27cbb1['assets'];}['open'](_0x3961d3,_0x2820a7){return new Em();}['patch'](_0x2f7a9f,_0x47a4aa){if(!_0x2f7a9f['data']['containerA'+'sset'])return;const _0x1ec4d4=_0x47a4aa['get'](_0x2f7a9f['data']['containerA'+'sset']);if(!_0x1ec4d4){_0x47a4aa['once']('add:'+_0x2f7a9f['data']['containerA'+'sset'],pS,_0x2f7a9f);return;}pS['call'](_0x2f7a9f,_0x1ec4d4);}}class v0{constructor(_0x3b7254,_0x134a13,_0x1100ac,_0x40781d){this['_paths']=_0x3b7254,this['_input']=_0x134a13,this['_output']=_0x1100ac,this['_interpola'+'tion']=_0x40781d;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Fh{constructor(_0xfde96b,_0x208f0f){this['_component'+'s']=_0xfde96b,this['_data']=_0x208f0f;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function VF(_0x216100,_0x26d0d9){let _0x21155b;const _0x2aa3c8=(_0x10f5ab,_0x509d52)=>{switch(_0x509d52){case _0x21155b['DT_INT8']:return new Int8Array(_0x10f5ab['buffer'],_0x10f5ab['byteOffset'],_0x10f5ab['byteLength']);case _0x21155b['DT_INT16']:return new Int16Array(_0x10f5ab['buffer'],_0x10f5ab['byteOffset'],_0x10f5ab['byteLength']/(-0x2599+-0x2*-0x355+0x1ef1));case _0x21155b['DT_INT32']:return new Int32Array(_0x10f5ab['buffer'],_0x10f5ab['byteOffset'],_0x10f5ab['byteLength']/(-0x1*0x1562+-0x409+-0x11*-0x17f));case _0x21155b['DT_UINT8']:return new Uint8Array(_0x10f5ab['buffer'],_0x10f5ab['byteOffset'],_0x10f5ab['byteLength']);case _0x21155b['DT_UINT16']:return new Uint16Array(_0x10f5ab['buffer'],_0x10f5ab['byteOffset'],_0x10f5ab['byteLength']/(-0x19f+-0x9d*-0x11+0x4*-0x233));case _0x21155b['DT_UINT32']:return new Uint32Array(_0x10f5ab['buffer'],_0x10f5ab['byteOffset'],_0x10f5ab['byteLength']/(-0xde*-0x2b+-0x8f*-0x19+-0x333d));case _0x21155b['DT_FLOAT32']:return new Float32Array(_0x10f5ab['buffer'],_0x10f5ab['byteOffset'],_0x10f5ab['byteLength']/(-0x968+0x363*-0x8+0x921*0x4));}return null;},_0x37fc18=_0x1fc8cb=>{switch(_0x1fc8cb){case _0x21155b['DT_INT8']:return-0x108b+0x1*-0x397+0x1423;case _0x21155b['DT_INT16']:return-0x2*-0xd5e+-0x18a5+-0x215;case _0x21155b['DT_INT32']:return-0x647+-0x1704+0x1d4f;case _0x21155b['DT_UINT8']:return-0x1db5+0x39d+0x83*0x33;case _0x21155b['DT_UINT16']:return-0x39f+-0x4a3*0x5+0xb*0x270;case _0x21155b['DT_UINT32']:return-0xb67+-0x1865+-0x8f4*-0x4;case _0x21155b['DT_FLOAT32']:return 0xa*-0x319+0x6ab*-0x3+0x749*0x7;}return 0xc1*0xe+0x1*0x1bab+-0x2638;},_0x344582=_0x46c721=>_0x46c721['num_compon'+'ents']()*_0x37fc18(_0x46c721['data_type']()),_0x581042={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x2e21de=(_0x319953,_0x37dae9)=>{const _0x36bc0f=(_0x3b6000,_0x497135,_0x4dded2)=>{_0x3b6000[0xc41*-0x1+-0x58*0x43+0x2349]=_0x497135[-0x2*-0x1052+-0x40*-0x4+-0x21a4]-_0x4dded2[-0x542*0x3+0x111f+-0x73*0x3],_0x3b6000[0x2a6+-0x18a0+0x15fb]=_0x497135[-0x1*-0xfd1+-0xb75*-0x1+-0x1*0x1b45]-_0x4dded2[0xbcf+-0x1417+0x2c3*0x3],_0x3b6000[-0x47+-0x712+0x75b]=_0x497135[-0x166b+0x1d*-0x79+0x2422]-_0x4dded2[0xd4f*-0x2+0x5a5*0x1+0x14fb];},_0x342333=(_0xf2c0a4,_0x415dba,_0x13378a)=>{_0xf2c0a4[-0x394*0x2+0x49*0x31+-0x15d*0x5]=_0x415dba[0x265*-0x5+-0x6bf+0x12b9]*_0x13378a[0x168d+0x2284*0x1+0x21d*-0x1b]-_0x13378a[0x20de+-0x11c6*-0x1+-0x1d*0x1bf]*_0x415dba[-0xd6d+0x40f*0x8+-0x1309],_0xf2c0a4[0x1a1b+-0x1*-0x269+-0x981*0x3]=_0x415dba[0xcfb+-0x40f*0x7+0xf70]*_0x13378a[0x1*-0x5cb+-0x178*0xe+0x1a5b]-_0x13378a[0x1*0x20d2+-0x180b+-0x8c5]*_0x415dba[0x480+0x8cd+-0xd4d],_0xf2c0a4[-0x99c+0x19c5+-0x1027]=_0x415dba[-0xa51+-0x15*0xa1+0x2*0xbc3]*_0x13378a[0x19d3+-0x1ed9+-0x27*-0x21]-_0x13378a[-0x1b68+-0x1301+0x2e69]*_0x415dba[-0x1*0x20a4+-0x1386+-0xa6f*-0x5];},_0x1213b8=(_0x12c91c,_0x3f7a8b)=>{const _0x436171=_0x12c91c[_0x3f7a8b+(-0x1*-0x166f+0xa99*-0x2+-0x13d*0x1)],_0x2323b1=_0x12c91c[_0x3f7a8b+(0x1*-0x18bd+0x56f*-0x5+-0x33e9*-0x1)],_0xece025=_0x12c91c[_0x3f7a8b+(-0x1aec+-0x1*-0x16a9+0x1*0x445)],_0xb08003=(-0x26a1*0x1+0xeb3*0x1+0x17ef)/Math['sqrt'](_0x436171*_0x436171+_0x2323b1*_0x2323b1+_0xece025*_0xece025);_0x12c91c[_0x3f7a8b+(-0x681+-0x1*-0x205f+0x19de*-0x1)]*=_0xb08003,_0x12c91c[_0x3f7a8b+(-0x1a+0x1*0x1527+-0x382*0x6)]*=_0xb08003,_0x12c91c[_0x3f7a8b+(-0x3a4+-0xac1+0xe67)]*=_0xb08003;},_0xf17f9=(_0xed7575,_0x462cde,_0x432074)=>{for(let _0x340bca=0x153c+0x3*-0xb99+-0x10b*-0xd;_0x340bca<-0x9dd+0x1272+-0x892;++_0x340bca)_0xed7575[_0x340bca]=_0x462cde[_0x432074+_0x340bca];},_0x51b11f=_0x37dae9['length']/(0xcf5+-0x24d+-0xaa5),_0x8af6dd=_0x319953['length']/(-0x1*0x3fe+0x64e+-0x24d),_0x531927=new Float32Array(_0x319953['length']),_0x1c81cd=[-0x1b0f+0x250*0x4+-0x61*-0x2f,0x92f+0x1c8d+-0x6*0x64a,-0x2d3*-0x1+-0x977+0x6a4],_0x1d8fcd=[-0x2b0+0x250d+-0x225d,0x9b*-0x33+-0x235c+0x423d,0x1*0x1459+-0x4*0xbb+-0x1*0x116d],_0x5e0f54=[-0x1110+-0xa9*0x12+0xbe*0x27,0x1af0+0x2364+-0x3e54,-0x292*0xa+0x30*0x16+-0x1*-0x1594],_0x50f079=[0x53e+0x2571+0x7*-0x619,0x54b*-0x7+-0x8b8*0x2+0x367d,0xd18+-0x5*0x51f+0xc83],_0x4fe680=[0x1f03*-0x1+0x2cd*0x4+0x1cd*0xb,-0x16*-0x10b+0x1b5+0x18a7*-0x1,0xe5*-0x8+-0x20aa*0x1+0x6a3*0x6],_0x181cc1=[0x11*0x7+0x21d4+-0x224b,0x127a*-0x1+-0x1d5e+-0xbf6*-0x4,-0x1322+-0x3f8+0x171a];for(let _0x174f77=0x76d*0x5+0xa7*0x13+0x3186*-0x1;_0x174f77<_0x51b11f;++_0x174f77){const _0x44d0b2=_0x37dae9[_0x174f77*(-0x1bf8+0x5e4+0x1617)+(0x1*-0x1c97+0xc9e+0xff9)]*(-0xb62*-0x1+-0x57*0x59+0x4*0x4b8),_0x22a743=_0x37dae9[_0x174f77*(0x1bdf+-0x50+-0x1b8c)+(0x3*0x6be+0x17c+-0x15b5)]*(0x1db5+0x119b+-0x1*0x2f4d),_0x1ece3f=_0x37dae9[_0x174f77*(-0x2577+0x11d5+-0x2f*-0x6b)+(-0x4a+0x3*-0x5e5+-0x1*-0x11fb)]*(-0x64*-0x3a+-0xe4+0x15c1*-0x1);_0xf17f9(_0x1c81cd,_0x319953,_0x44d0b2),_0xf17f9(_0x1d8fcd,_0x319953,_0x22a743),_0xf17f9(_0x5e0f54,_0x319953,_0x1ece3f),_0x36bc0f(_0x50f079,_0x1d8fcd,_0x1c81cd),_0x36bc0f(_0x4fe680,_0x5e0f54,_0x1c81cd),_0x342333(_0x181cc1,_0x50f079,_0x4fe680),_0x1213b8(_0x181cc1,0x1001+-0x147b*0x1+0x17e*0x3);for(let _0x260599=0x5b4+0xedb*-0x2+0x1802;_0x260599<-0x1ef5*-0x1+-0x3*0x78d+0xc1*-0xb;++_0x260599)_0x531927[_0x44d0b2+_0x260599]+=_0x181cc1[_0x260599],_0x531927[_0x22a743+_0x260599]+=_0x181cc1[_0x260599],_0x531927[_0x1ece3f+_0x260599]+=_0x181cc1[_0x260599];}for(let _0x14eb05=0x5*-0xc5+0x15a6*-0x1+0x197f;_0x14eb05<_0x8af6dd;++_0x14eb05)_0x1213b8(_0x531927,_0x14eb05*(-0x6*0x390+-0x2434+0x1*0x3997));return new Uint8Array(_0x531927['buffer']);},_0x6c375=_0x3c65a4=>{const _0x296e2f={},_0x165915=new _0x21155b['DecoderBuf'+'fer']();_0x165915['Init'](_0x3c65a4,_0x3c65a4['length']);const _0x5ec09e=new _0x21155b['Decoder']();if(_0x5ec09e['GetEncoded'+'GeometryTy'+'pe'](_0x165915)!==_0x21155b['TRIANGULAR'+'_MESH'])return _0x296e2f['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x296e2f;const _0x2fd68a=new _0x21155b['Mesh'](),_0x43b492=_0x5ec09e['DecodeBuff'+'erToMesh'](_0x165915,_0x2fd68a);if(!_0x43b492||!_0x43b492['ok']()||_0x21155b['getPointer'](_0x2fd68a)===-0x21de+0x1b68+0x676)return _0x296e2f['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x296e2f;const _0x1bb00d=_0x2fd68a['num_faces']()*(0xd77+0x1027+-0x1d9b),_0x454f27=_0x2fd68a['num_points']()<=0x5c6*-0xe+-0x14265*0x1+0x29338,_0x334e17=_0x1bb00d*(_0x454f27?0x46c+-0x1b*-0xf1+-0x1dd5:0x1b07+0xe9e+-0x29a1),_0x243976=_0x21155b['_malloc'](_0x334e17);_0x454f27?(_0x5ec09e['GetTriangl'+'esUInt16Ar'+'ray'](_0x2fd68a,_0x334e17,_0x243976),_0x296e2f['indices']=new Uint16Array(_0x21155b['HEAPU16']['buffer'],_0x243976,_0x1bb00d)['slice']()['buffer']):(_0x5ec09e['GetTriangl'+'esUInt32Ar'+'ray'](_0x2fd68a,_0x334e17,_0x243976),_0x296e2f['indices']=new Uint32Array(_0x21155b['HEAPU32']['buffer'],_0x243976,_0x1bb00d)['slice']()['buffer']),_0x21155b['_free'](_0x243976);const _0x46b8d=[];for(let _0x3a0eca=-0x1*-0x248e+0x50*-0xb+-0x211e;_0x3a0eca<_0x2fd68a['num_attrib'+'utes']();++_0x3a0eca)_0x46b8d['push'](_0x5ec09e['GetAttribu'+'te'](_0x2fd68a,_0x3a0eca));_0x46b8d['sort']((_0x362fe1,_0x5b746a)=>(_0x581042[_0x362fe1['attribute_'+'type']()]??_0x581042['length'])-(_0x581042[_0x5b746a['attribute_'+'type']()]??_0x581042['length'])),_0x296e2f['attributes']=_0x46b8d['map'](_0x3dcb0b=>_0x3dcb0b['unique_id']());let _0x531de4=-0x1f22+-0x112*-0x10+0x146*0xb;const _0x2073da=_0x46b8d['map'](_0x40e68d=>{const _0x7a6a84=_0x531de4;return _0x531de4+=Math['ceil'](_0x344582(_0x40e68d)/(0x4dc+-0x2199+0x11*0x1b1))*(0x1c6e+-0x1*-0x1ad2+-0x373c),_0x7a6a84;}),_0x115f82=_0x46b8d['some'](_0x345e12=>_0x345e12['attribute_'+'type']()===0x5c4+-0xe69+0x6*0x171),_0x422ecf=_0x2073da[0x1696+-0xbf8+0xb*-0xf7];if(!_0x115f82){for(let _0x16d32b=-0x19*0x16+0x1db7*-0x1+0x1fde;_0x16d32b<_0x2073da['length'];++_0x16d32b)_0x2073da[_0x16d32b]+=-0x13d8+0x987*0x1+0xa5d;_0x531de4+=0x86+-0x1a97+-0x1*-0x1a1d;}_0x296e2f['vertices']=new ArrayBuffer(_0x2fd68a['num_points']()*_0x531de4);const _0x35d3a4=new Uint8Array(_0x296e2f['vertices']);for(let _0x59775a=-0x1810+0xf*0xa7+0xe47;_0x59775a<_0x2fd68a['num_attrib'+'utes']();++_0x59775a){const _0xf3c5b5=_0x46b8d[_0x59775a],_0xa57a7=_0x344582(_0xf3c5b5),_0x1d9ae1=_0x2fd68a['num_points']()*_0xa57a7,_0x49d01d=_0x21155b['_malloc'](_0x1d9ae1);_0x5ec09e['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x2fd68a,_0xf3c5b5,_0xf3c5b5['data_type'](),_0x1d9ae1,_0x49d01d);const _0x4c3f85=new Uint8Array(_0x21155b['HEAPU8']['buffer'],_0x49d01d,_0x1d9ae1);for(let _0x541878=0x1*-0x17e3+-0x5dd+0x1dc0;_0x541878<_0x2fd68a['num_points']();++_0x541878)for(let _0x15df4d=0x1*0x47b+0x1983+-0x1dfe;_0x15df4d<_0xa57a7;++_0x15df4d)_0x35d3a4[_0x541878*_0x531de4+_0x2073da[_0x59775a]+_0x15df4d]=_0x4c3f85[_0x541878*_0xa57a7+_0x15df4d];if(!_0x115f82&&_0xf3c5b5['attribute_'+'type']()===-0x1302*0x2+-0x192b+-0x1*-0x3f2f){const _0x28494b=_0x2e21de(_0x2aa3c8(_0x4c3f85,_0xf3c5b5['data_type']()),_0x454f27?new Uint16Array(_0x296e2f['indices']):new Uint32Array(_0x296e2f['indices']));for(let _0x2f1ef7=0x12e*0xd+-0x7*0x2c5+-0x11*-0x3d;_0x2f1ef7<_0x2fd68a['num_points']();++_0x2f1ef7)for(let _0x3e73e6=-0x1*0xd46+0x102b+0xf7*-0x3;_0x3e73e6<-0x2e*0x31+0x1091+0x5*-0x18b;++_0x3e73e6)_0x35d3a4[_0x2f1ef7*_0x531de4+_0x422ecf+_0x3e73e6]=_0x28494b[_0x2f1ef7*(0x7*-0x2ef+-0xe14+-0x1*-0x22a9)+_0x3e73e6];}_0x21155b['_free'](_0x49d01d);}return _0x21155b['destroy'](_0x2fd68a),_0x21155b['destroy'](_0x5ec09e),_0x21155b['destroy'](_0x165915),_0x296e2f;},_0x22263f=_0x27e423=>{const _0x5e063d=_0x6c375(new Uint8Array(_0x27e423['buffer']));self['postMessag'+'e']({'jobId':_0x27e423['jobId'],'error':_0x5e063d['error'],'indices':_0x5e063d['indices'],'vertices':_0x5e063d['vertices'],'attributes':_0x5e063d['attributes']},[_0x5e063d['indices'],_0x5e063d['vertices']]['filter'](_0x35c91e=>_0x35c91e!=null));},_0x2c51a8=[];self['onmessage']=_0x569885=>{const _0x25accf=_0x569885['data'];switch(_0x25accf['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x5af239,_0x1de5af)=>(WebAssembly['instantiat'+'e'](_0x25accf['module'],_0x5af239)['then'](_0x3f773f=>_0x1de5af(_0x3f773f))['catch'](_0x5514ee=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x5514ee)),{})})['then'](_0x3c1428=>{_0x21155b=_0x3c1428,_0x2c51a8['forEach'](_0x2b05df=>_0x22263f(_0x2b05df));});break;case'decodeMesh':_0x21155b?_0x22263f(_0x25accf):_0x2c51a8['push'](_0x25accf);break;}};}const _S=-0x31d*-0x2+0xb48+-0x117f;class GF{constructor(){this['workers']=[[],[],[]],this['jobId']=-0x2693+0x152c+0xf*0x129,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x3a40e0,_0x34a4ed)=>{_0x3a40e0['postMessag'+'e']({'type':'decodeMesh','jobId':_0x34a4ed['jobId'],'buffer':_0x34a4ed['buffer']},[_0x34a4ed['buffer']]);};}['init'](_0x268624){for(_0x268624['forEach'](_0xfa0fa2=>{_0xfa0fa2['addEventLi'+'stener']('message',_0x4f3841=>{const _0x55611a=_0x4f3841['data'],_0x6a6f5e=this['jobCallbac'+'ks']['get'](_0x55611a['jobId']);if(_0x6a6f5e&&_0x6a6f5e(_0x55611a['error'],{'indices':_0x55611a['indices'],'vertices':_0x55611a['vertices'],'attributes':_0x55611a['attributes']}),this['jobCallbac'+'ks']['delete'](_0x55611a['jobId']),this['jobQueue']['length']>-0x1*-0x351+-0x2*-0x3e5+0x1*-0xb1b){const _0x220a3f=this['jobQueue']['shift']();this['run'](_0xfa0fa2,_0x220a3f);}else{const _0x304228=this['workers'][-0x1880+0x4*0x2cc+0x5*0x2aa]['indexOf'](_0xfa0fa2);if(_0x304228!==-(0x1d44*-0x1+0xe8a+-0x9*-0x1a3))this['workers'][-0x2270+0xd89+0x65*0x35]['splice'](_0x304228,0xd5*0x2+0x62+-0x20b),this['workers'][0x17*0xb3+0x2*0xc9d+-0x294e]['push'](_0xfa0fa2);else{const _0x29b98f=this['workers'][0x5*-0x95+0x2292+-0x1fa8]['indexOf'](_0xfa0fa2);_0x29b98f!==-(-0x9*-0x365+0x338+-0x21c4)?(this['workers'][-0x246c+0x206f+0x3fe*0x1]['splice'](_0x29b98f,-0x5*0x1d9+0x1*0x63d+0x1*0x301),this['workers'][-0x17ad+0x9*-0x36f+0x2*0x1b4a]['push'](_0xfa0fa2)):w['error']('logical\x20er'+'ror');}}});}),this['workers'][-0x4*0x568+-0xb*0x151+0x241b]=_0x268624;this['jobQueue']['length']&&(this['workers'][-0x86b+0x1dfc+-0x1591]['length']||this['workers'][0x15b*-0x9+-0x1*-0x1f36+-0x981*0x2]['length']);){const _0x353fa6=this['jobQueue']['shift']();if(this['workers'][0x1f55+0x2ed+-0x1121*0x2]['length']>0x482*-0x3+0x20c0+0x2*-0x99d){const _0x2eb6f6=this['workers'][0xba5*0x1+0x16d1+-0x2276]['shift']();this['workers'][-0x1599+-0x3ab*-0x3+0xa99]['push'](_0x2eb6f6),this['run'](_0x2eb6f6,_0x353fa6);}else{const _0x24cf11=this['workers'][-0x1*-0xc19+0x23a2+-0x2fba]['shift']();this['workers'][0xd*-0x156+0x5c*-0x58+-0x70*-0x70]['push'](_0x24cf11),this['run'](_0x24cf11,_0x353fa6);}}}['enqueueJob'](_0x29ea5d,_0x770143){const _0x474a48={'jobId':this['jobId']++,'buffer':_0x29ea5d};if(this['jobCallbac'+'ks']['set'](_0x474a48['jobId'],_0x770143),this['workers'][-0xc2d+0x959*0x2+-0x685]['length']>-0x2b9*0x7+0x1cad+-0x2*0x4cf){const _0x490ddc=this['workers'][0x7c1+-0x1846+0x1*0x1085]['shift']();this['workers'][-0x1*0xdea+0x25e5+0x6*-0x3ff]['push'](_0x490ddc),this['run'](_0x490ddc,_0x474a48);}else{if(this['workers'][-0x9b1*0x2+0x110+0x1253*0x1]['length']>0x1cdf+-0x1416+-0x8c9){const _0x43f601=this['workers'][-0x97a+0x6de+-0x3*-0xdf]['shift']();this['workers'][-0x60c*0x1+0x26ea+-0x20dc]['push'](_0x43f601),this['run'](_0x43f601,_0x474a48);}else this['jobQueue']['push'](_0x474a48);}}}const HF=_0x347f09=>new Promise((_0x12dd40,_0x3fd30f)=>{const _0x4ab9c6={'cache':!(0x154d+0x1b72+-0x30bf),'responseType':'text','retry':_S>-0x9fc+0x1914+-0xf18,'maxRetries':_S};ot['get'](_0x347f09,_0x4ab9c6,(_0xc93acc,_0x18a880)=>{_0xc93acc?_0x3fd30f(_0xc93acc):_0x12dd40(_0x18a880);});}),WF=_0x32d427=>{const _0x89e2ed=()=>fetch(_0x32d427)['then'](_0xf3fbfd=>_0xf3fbfd['arrayBuffe'+'r']())['then'](_0x1297b6=>WebAssembly['compile'](_0x1297b6)),_0x1b2369=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x32d427))['catch'](_0x2f9cef=>(w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x32d427+'\x20('+_0x2f9cef+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x89e2ed()));return WebAssembly['compileStr'+'eaming']?_0x1b2369():_0x89e2ed();},gS=-0x1d19+0x2*0xf68+-0x1b6*0x1;let ih;const $F=_0x341fb2=>{if(ih)return!(0x1*-0x729+0x29*-0xf2+0x2deb);if(!_0x341fb2){const _0x26412b=YS['getConfig']('DracoDecod'+'erModule');_0x26412b?_0x341fb2={'jsUrl':_0x26412b['glueUrl'],'wasmUrl':_0x26412b['wasmUrl'],'numWorkers':_0x26412b['numWorkers']}:_0x341fb2={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':gS};}return!_0x341fb2['jsUrl']||!_0x341fb2['wasmUrl']?!(-0xdf0*0x2+0x1404+0x7dd):(ih=new GF(),Promise['all']([HF(_0x341fb2['jsUrl']),WF(_0x341fb2['wasmUrl'])])['then'](([_0x18f349,_0x220e61])=>{const _0x1b0087=['/*\x20draco\x20*'+'/',_0x18f349,'/*\x20worker\x20'+'*/','(\x0a'+VF['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x546091=new Blob([_0x1b0087],{'type':'applicatio'+'n/javascri'+'pt'}),_0x401e2f=URL['createObje'+'ctURL'](_0x546091),_0x340bc7=Math['max'](0x845+-0x26f7+-0x1eb3*-0x1,Math['min'](-0x3*-0xc19+0x18+-0x2453*0x1,_0x341fb2['numWorkers']||gS)),_0xde5e0c=[];for(let _0x3f6427=0x13*-0x1a3+-0xe70*-0x1+0x10a9;_0x3f6427<_0x340bc7;++_0x3f6427){const _0x4fbd83=new Worker(_0x401e2f);_0x4fbd83['postMessag'+'e']({'type':'init','module':_0x220e61}),_0xde5e0c['push'](_0x4fbd83);}ih['init'](_0xde5e0c);}),!(-0x26*-0x6c+-0x2*-0x10f3+0x4d*-0xa6));},XF=(_0x49c85f,_0x2f9636)=>$F()?(ih['enqueueJob'](_0x49c85f,_0x2f9636),!(0x2341*-0x1+0x1bc2+0x77f)):!(0xf85+0x1*0x222d+-0x31b1);class qF{constructor(){h(this,'gltf'),h(this,'nodes'),h(this,'scenes'),h(this,'animations'),h(this,'textures'),h(this,'materials'),h(this,'variants'),h(this,'meshVarian'+'ts'),h(this,'meshDefaul'+'tMaterials'),h(this,'renders'),h(this,'skins'),h(this,'lights'),h(this,'cameras'),h(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x3f9b5c=>{_0x3f9b5c['meshes']=null;});}}const x0=_0x35ad4a=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x35ad4a),jF=_0x46067d=>_0x46067d['substring'](_0x46067d['indexOf'](':')+(0xa49+0x1d72*-0x1+0x2*0x995),_0x46067d['indexOf'](';')),yl=_0x56b135=>{switch(_0x56b135){case'SCALAR':return 0xf38+-0x1194+0x25d;case'VEC2':return-0x20d2+0x2*-0x569+0x2ba6;case'VEC3':return 0x1413*-0x1+-0x13ef+0xd57*0x3;case'VEC4':return-0x11d*-0x16+-0x3a2+0x14d8*-0x1;case'MAT2':return-0x1*0x1fc5+0x13af+0xc1a;case'MAT3':return 0x1*0x2642+-0xa1a+-0x1*0x1c1f;case'MAT4':return-0x3*-0x3e+0x1bb4*-0x1+0x1b0a;default:return 0x205b+-0xfe+0x1f5a*-0x1;}},Dd=_0x5acf2b=>{switch(_0x5acf2b){case 0x1efb+0x5c9*0x5+-0x27e8:return dd;case 0x19c+0xee3*-0x1+0x2148:return la;case-0xa*0x3bd+-0x23*-0xe5+0x1a15:return fd;case 0x2728+0xd*-0x1b0+0x2cb:return Ml;case 0x1*0x23f4+-0x27de+0x3fd*0x6:return Ty;case-0x11f8*-0x2+0x16*0x121+0x1*-0x28c1:return el;case-0x3fc*-0x3+-0x556*-0x1+0x2bc:return Ve;default:return-0x19e4+0x6*-0x36d+0x2e72;}},YF=_0x1d3a6c=>{switch(_0x1d3a6c){case-0x3ea*0x1+0x25c4+-0xdda:return-0x525*-0x6+-0x92*0x33+0x41*-0x7;case-0x4*0x6ee+-0x1336+0x42ef*0x1:return 0x5ca+0x1ef+0x8*-0xf7;case 0x17c1+-0x223b+-0x79f*-0x4:return 0x130d*-0x2+0x1273*-0x2+-0x2*-0x2581;case 0x165c+-0x1*0x1a30+-0x1*-0x17d7:return-0x1dff+0x1*0x1610+-0x1*-0x7f1;case-0x251*-0x11+-0xef2*0x1+-0x1d*0x27:return-0x182*0x1+-0x1de4+0x1f6a*0x1;case-0xfc6*-0x1+0x2*0xe5d+-0x3*0x829:return-0x170f*0x1+-0x969+0x207c;case-0x812*-0x1+0x1442*0x1+-0x427*0x2:return-0x15b*-0x1+-0x10a4+0xf4d;default:return-0x17f*-0xe+-0x1297+0x43*-0x9;}},KF=_0x468767=>{switch(_0x468767){case 0x2b*0x37+0x3b9*-0x4+-0x1*-0x19a7:return Int8Array;case-0x47b*-0x2+0x1efa+-0x13ef:return Uint8Array;case 0x6d*-0xb+0x2*0x33f+-0x3*-0x611:return Int16Array;case-0x56*-0x47+0x19c0+-0xf*0x1f9:return Uint16Array;case 0x1c+0xf45*0x2+-0xaa2:return Int32Array;case-0xbc8*0x1+-0x1*-0x2727+-0x2*0x3ad:return Uint32Array;case-0x2a9*0xd+-0x185b+0x6*0xd29:return Float32Array;default:return null;}},Nh={'POSITION':Me,'NORMAL':gs,'TANGENT':yi,'COLOR_0':Wt,'JOINTS_0':us,'WEIGHTS_0':gi,'TEXCOORD_0':is,'TEXCOORD_1':ba,'TEXCOORD_2':wl,'TEXCOORD_3':El,'TEXCOORD_4':bl,'TEXCOORD_5':Al,'TEXCOORD_6':Cl,'TEXCOORD_7':Pl},SS={[Me]:-0x851*-0x4+0x1f51+-0x4095,[gs]:-0x1*-0xffe+-0x1162+-0x33*-0x7,[yi]:-0x15*0x61+0x2264+-0x1a6d,[Wt]:0x1*0x1d82+0x10d2+-0x2e51,[us]:-0x14b*-0x7+0x53e+0x11*-0xd7,[gi]:0x17c1*0x1+-0x1c7*-0x8+0x1*-0x25f4,[is]:-0x1bd+-0x14df+0x16a2,[ba]:0xb78+0x7d3+-0x1344,[wl]:-0x207f+0x10*-0xd0+0x2d87,[El]:-0x1b6f+0x1*0x1265+-0x1*-0x913,[bl]:-0x1f*0xd+0x54*-0x6b+0x24b9,[Al]:0x1cbd+0xa4b+-0x455*0x9,[Cl]:-0x1a16+0x196+0x188c,[Pl]:0x152a+-0xa*0x139+-0x8e3},ZF=_0x43ec1a=>{switch(_0x43ec1a){case dd:return _0x31bf29=>Math['max'](_0x31bf29/(-0x1*0x1f47+-0xff1+-0x98b*-0x5),-(0x1e73+-0xbcc*-0x1+-0x1*0x2a3e));case la:return _0x34d070=>_0x34d070/(0x2281+0x1*0x737+-0x28b9);case fd:return _0x9d098e=>Math['max'](_0x9d098e/(0xbd*0xb5+-0x947f+-0x8edd*-0x1),-(0xe59*0x1+-0x9*-0x8d+-0x1*0x134d));case Ml:return _0x34d630=>_0x34d630/(0x11fd6+0x3f98*0x1+-0x5f6f);default:return _0x334d2e=>_0x334d2e;}},Gu=(_0x397f62,_0x537052,_0x47749d)=>{const _0x2e0c33=ZF(_0x47749d),_0xa64193=_0x537052['length'];for(let _0x2f466f=0x223*-0x11+0x245c+-0x9;_0x2f466f<_0xa64193;++_0x2f466f)_0x397f62[_0x2f466f]=_0x2e0c33(_0x537052[_0x2f466f]);return _0x397f62;},ua=(_0x2f05ee,_0x319f0a,_0x31abd0=!(-0x1*0x146b+0x5*0x13d+0xe3b*0x1))=>{const _0x5dd4f3=yl(_0x2f05ee['type']),_0x7345c4=KF(_0x2f05ee['componentT'+'ype']);if(!_0x7345c4)return null;let _0x458f5f;if(_0x2f05ee['sparse']){const _0xc14bf0=_0x2f05ee['sparse'],_0xed1ee1={'count':_0xc14bf0['count'],'type':'SCALAR'},_0x42ca29=ua(Object['assign'](_0xed1ee1,_0xc14bf0['indices']),_0x319f0a,!(-0xa7e+0x15*0x11d+-0xce3)),_0x23b031={'count':_0xc14bf0['count'],'type':_0x2f05ee['type'],'componentType':_0x2f05ee['componentT'+'ype']},_0x5dc585=ua(Object['assign'](_0x23b031,_0xc14bf0['values']),_0x319f0a,!(0x546+-0xbba*0x2+0x122e));if(_0x2f05ee['hasOwnProp'+'erty']('bufferView')){const _0x216313={'bufferView':_0x2f05ee['bufferView'],'byteOffset':_0x2f05ee['byteOffset'],'componentType':_0x2f05ee['componentT'+'ype'],'count':_0x2f05ee['count'],'type':_0x2f05ee['type']};_0x458f5f=ua(_0x216313,_0x319f0a,!(-0x1324+-0x6cb+0x19ef))['slice']();}else _0x458f5f=new _0x7345c4(_0x2f05ee['count']*_0x5dd4f3);for(let _0x4fc7eb=-0x1355*0x1+0x3*0x40f+0x728;_0x4fc7eb<_0xc14bf0['count'];++_0x4fc7eb){const _0x59ac58=_0x42ca29[_0x4fc7eb];for(let _0x5c6559=0x2582+0x125*-0x17+-0x7*0x199;_0x5c6559<_0x5dd4f3;++_0x5c6559)_0x458f5f[_0x59ac58*_0x5dd4f3+_0x5c6559]=_0x5dc585[_0x4fc7eb*_0x5dd4f3+_0x5c6559];}}else{if(_0x2f05ee['hasOwnProp'+'erty']('bufferView')){const _0x15824d=_0x319f0a[_0x2f05ee['bufferView']];if(_0x31abd0&&_0x15824d['hasOwnProp'+'erty']('byteStride')){const _0x45263e=_0x5dd4f3*_0x7345c4['BYTES_PER_'+'ELEMENT'],_0x205266=new ArrayBuffer(_0x2f05ee['count']*_0x45263e),_0x2f2fad=new Uint8Array(_0x205266);let _0x10f1ae=0x1*0xb89+0x123a+-0x13*0x191;for(let _0xcf6e58=0xbb9+-0xfb+-0xabe;_0xcf6e58<_0x2f05ee['count'];++_0xcf6e58){let _0x3168b3=(_0x2f05ee['byteOffset']||-0x2384+0x1b17+-0x1*-0x86d)+_0xcf6e58*_0x15824d['byteStride'];for(let _0x16958b=0x469*-0x1+-0xe02+0x126b;_0x16958b<_0x45263e;++_0x16958b)_0x2f2fad[_0x10f1ae++]=_0x15824d[_0x3168b3++];}_0x458f5f=new _0x7345c4(_0x205266);}else _0x458f5f=new _0x7345c4(_0x15824d['buffer'],_0x15824d['byteOffset']+(_0x2f05ee['byteOffset']||-0x24f2+-0xbaf*-0x1+0x1943),_0x2f05ee['count']*_0x5dd4f3);}else _0x458f5f=new _0x7345c4(_0x2f05ee['count']*_0x5dd4f3);}return _0x458f5f;},Pn=(_0x3e461f,_0x566d5b)=>{const _0x41ad99=ua(_0x3e461f,_0x566d5b,!(0x1*0x248a+0x3c2+-0x284c*0x1));if(_0x41ad99 instanceof Float32Array||!_0x3e461f['normalized'])return _0x41ad99;const _0x1039db=new Float32Array(_0x41ad99['length']);return Gu(_0x1039db,_0x41ad99,Dd(_0x3e461f['componentT'+'ype'])),_0x1039db;},Hu=_0x4c0422=>{let _0x19aaa8=_0x4c0422['min'],_0x4813d4=_0x4c0422['max'];if(!_0x19aaa8||!_0x4813d4)return null;if(_0x4c0422['normalized']){const _0xacae8e=Dd(_0x4c0422['componentT'+'ype']);_0x19aaa8=Gu([],_0x19aaa8,_0xacae8e),_0x4813d4=Gu([],_0x4813d4,_0xacae8e);}return new De(new D((_0x4813d4[-0xa*0x3ca+0x5e*0x57+0x2*0x2f9]+_0x19aaa8[0x19a7+-0x10d*0x5+-0x1466])*(-0x50*0x74+-0x7f1+-0x9*-0x4e9+0.5),(_0x4813d4[0x615*0x1+-0x6*-0x241+-0x139a]+_0x19aaa8[-0x1e3*-0x2+-0x1612+-0x124d*-0x1])*(0x6f1*-0x5+0x53*-0x65+-0x4*-0x10dd+0.5),(_0x4813d4[-0xc92*0x1+0x1*-0x16e+0x2*0x701]+_0x19aaa8[0x1309+0x2674+0x1b*-0x221])*(-0x1181+-0x1700+0x1*0x2881+0.5)),new D((_0x4813d4[0x1680+-0x253e+0xebe]-_0x19aaa8[-0x5*-0x78e+0x10b9*0x1+-0x367f*0x1])*(0x23a2+-0x1*0x5ff+-0x1*0x1da3+0.5),(_0x4813d4[0x2592+-0xdb+-0x24b6*0x1]-_0x19aaa8[-0x337*-0xb+-0x1*0x1de8+0x4*-0x15d])*(0xe00+-0x13bb+0x5bb+0.5),(_0x4813d4[-0x190f+-0x1ad1+-0x1d*-0x1ca]-_0x19aaa8[0x180a+0x1989+-0x3191])*(-0x2324+0x2645+-0x59*0x9+0.5)));},T0=_0x3056cb=>{if(!_0x3056cb['hasOwnProp'+'erty']('mode'))return js;switch(_0x3056cb['mode']){case 0x15b9+0x2613+-0x3bcc:return cd;case-0x21*0xc+0x6c*-0x23+0x1051*0x1:return hd;case 0x2b1+-0x1ac8+0x1819:return _y;case-0x1*0x23bf+0x1c7c+0x746:return gy;case 0x547*-0x5+-0x16ee+0x3155:return js;case 0x1*-0x23e7+-0x2290+0x467c:return Er;case 0x1*-0xb71+-0x2634+0x31ab:return oa;default:return js;}},QF=_0x2249ad=>{const _0x110c6d=new Uint16Array(_0x2249ad);for(let _0x28b40b=0x580+0xc8b+-0x1*0x120b;_0x28b40b<_0x2249ad;_0x28b40b++)_0x110c6d[_0x28b40b]=_0x28b40b;return _0x110c6d;},JF=(_0x1589b1,_0xcfc4e5)=>{const _0x3cefb6=_0x1589b1[Me];if(!_0x3cefb6||_0x3cefb6['components']!==-0xf9e+-0x18b8+0x2859)return;let _0x504e63;if(_0x3cefb6['size']!==_0x3cefb6['stride']){const _0x52c6f1=_0x3cefb6['stride']/No[_0x3cefb6['type']],_0x2377fc=new wn[_0x3cefb6['type']](_0x3cefb6['buffer'],_0x3cefb6['offset'],_0x3cefb6['count']*_0x52c6f1);_0x504e63=new wn[_0x3cefb6['type']](_0x3cefb6['count']*(0x2*0x27d+-0xaa2+0x5ab));for(let _0x1eecbb=-0x1fa*0x3+-0x20ef*0x1+0x26dd;_0x1eecbb<_0x3cefb6['count'];++_0x1eecbb)_0x504e63[_0x1eecbb*(0xab7+-0x388+-0x72c)+(-0x2*-0x80f+-0xe27*-0x1+-0x1e45)]=_0x2377fc[_0x1eecbb*_0x52c6f1+(-0x1b35+-0x554+0x2089)],_0x504e63[_0x1eecbb*(-0x2*0x134f+0x167d+0x1024)+(-0x1c45+0x14f8+0x74e)]=_0x2377fc[_0x1eecbb*_0x52c6f1+(0x5fa+-0x20ad+0x1ab4)],_0x504e63[_0x1eecbb*(-0x233*0x11+-0x261d+0x4b83*0x1)+(-0x24e4+0xf7+-0x23ef*-0x1)]=_0x2377fc[_0x1eecbb*_0x52c6f1+(0x1bc1+-0xdb3+-0xe0c)];}else _0x504e63=new wn[_0x3cefb6['type']](_0x3cefb6['buffer'],_0x3cefb6['offset'],_0x3cefb6['count']*(-0x201f+0x248a*0x1+-0x4*0x11a));const _0x2e2059=_0x3cefb6['count'];_0xcfc4e5||(_0xcfc4e5=QF(_0x2e2059));const _0xf5a88f=Iv(_0x504e63,_0xcfc4e5),_0x59835a=new Float32Array(_0xf5a88f['length']);_0x59835a['set'](_0xf5a88f),_0x1589b1[gs]={'buffer':_0x59835a['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x2e2059,'components':0x3,'type':Ve};},eN=_0x2d7271=>{const _0x181976=_0x588719=>{const _0x246fbd=[];for(let _0x2b3aa2=-0x1f*-0x81+-0x1320+-0xd*-0x45;_0x2b3aa2<_0x588719['_levels']['length'];++_0x2b3aa2){let _0x8e6057=[];if(_0x588719['cubemap']){for(let _0x5999af=-0x2c0*-0xb+0x8ab+-0x26eb;_0x5999af<-0xfb8+0x1*0x22ea+-0x132c;++_0x5999af)_0x8e6057['push'](_0x588719['_levels'][_0x2b3aa2][_0x5999af]);}else _0x8e6057=_0x588719['_levels'][_0x2b3aa2];_0x246fbd['push'](_0x8e6057);}return _0x246fbd;},_0x42d4ba=new _e(_0x2d7271['device'],_0x2d7271);return _0x42d4ba['_levels']=_0x181976(_0x2d7271),_0x42d4ba;},tN=_0xaecb2c=>{const _0x55be09=new pe(_0xaecb2c['name']+'_clone',_0xaecb2c['type'],_0xaecb2c['file'],_0xaecb2c['data'],_0xaecb2c['options']);return _0x55be09['loaded']=!(0x231d+-0x19c5+-0xb8*0xd),_0x55be09['resource']=eN(_0xaecb2c['resource']),_0xaecb2c['registry']['add'](_0x55be09),_0x55be09;},sN=(_0x37a547,_0x15d62a)=>{const _0x368654=_0x15d62a[Me];if(!_0x368654)return null;const _0x315155=_0x368654['count'],_0x115bff=[];for(const _0x3e3da7 in _0x15d62a)if(_0x15d62a['hasOwnProp'+'erty'](_0x3e3da7)){const _0x4f6ba3={'semantic':_0x3e3da7,'components':_0x15d62a[_0x3e3da7]['components'],'type':_0x15d62a[_0x3e3da7]['type'],'normalize':!!_0x15d62a[_0x3e3da7]['normalize']};kt['isElementV'+'alid'](_0x37a547,_0x4f6ba3)||_0x4f6ba3['components']++,_0x115bff['push'](_0x4f6ba3);}_0x115bff['sort']((_0x3c1c4d,_0x17e39e)=>SS[_0x3c1c4d['semantic']]-SS[_0x17e39e['semantic']]);let _0x4b5823,_0x4cc56b,_0x4f4edb,_0x593d9d,_0x58f695,_0x202541;const _0x479db9=new kt(_0x37a547,_0x115bff);let _0x2f0177=!(0x1*0x6c8+0x1*0x1a05+-0x20cd);for(_0x4b5823=-0x1700+-0x26bf+0x3*0x1495;_0x4b5823<_0x479db9['elements']['length'];++_0x4b5823)if(_0x58f695=_0x479db9['elements'][_0x4b5823],_0x593d9d=_0x15d62a[_0x58f695['name']],_0x202541=_0x593d9d['offset']-_0x368654['offset'],_0x593d9d['buffer']!==_0x368654['buffer']||_0x593d9d['stride']!==_0x58f695['stride']||_0x593d9d['size']!==_0x58f695['size']||_0x202541!==_0x58f695['offset']){_0x2f0177=!(-0x51b*0x4+0xd*0xe3+-0x22*-0x43);break;}const _0x278f85=new Is(_0x37a547,_0x479db9,_0x315155),_0x5edc4c=_0x278f85['lock'](),_0x1ee243=new Uint32Array(_0x5edc4c);let _0x5704ca;if(_0x2f0177)_0x5704ca=new Uint32Array(_0x368654['buffer'],_0x368654['offset'],_0x315155*_0x278f85['format']['size']/(-0x1703+0x17d3+0x3*-0x44)),_0x1ee243['set'](_0x5704ca);else{let _0x402884,_0x234d1c;for(_0x4b5823=-0x1*0x1f8c+-0x4fd*0x5+0x387d*0x1;_0x4b5823<_0x278f85['format']['elements']['length'];++_0x4b5823){_0x58f695=_0x278f85['format']['elements'][_0x4b5823],_0x402884=_0x58f695['stride']/(-0x1711+0x670+0x10a5),_0x593d9d=_0x15d62a[_0x58f695['name']],_0x234d1c=_0x593d9d['stride']/(-0x48d+-0x2122+0x3*0xc91),_0x5704ca=new Uint32Array(_0x593d9d['buffer'],_0x593d9d['offset'],(_0x593d9d['count']-(-0x2b*0x9d+0x1*0x221f+-0x3*0x295))*_0x234d1c+(_0x593d9d['size']+(0x2464+-0xbbd+-0x4*0x629))/(-0x149*-0x13+-0x938+-0xf2f*0x1));let _0x3d7112=-0x1a1*-0x2+0x262f+-0x2971,_0x56babd=_0x58f695['offset']/(-0x139*-0x1f+0x1261+-0x3844);const _0x28a9c5=Math['floor']((_0x593d9d['size']+(0x1603+0x2*0x8a5+-0xd6*0x2f))/(0x1*0x2de+0x134e+-0x2*0xb14));for(_0x4cc56b=-0x1a62+0x1*-0xbaa+0x4*0x983;_0x4cc56b<_0x315155;++_0x4cc56b){for(_0x4f4edb=-0x2a6+-0x1e6a+0x8*0x422;_0x4f4edb<_0x28a9c5;++_0x4f4edb)_0x1ee243[_0x56babd+_0x4f4edb]=_0x5704ca[_0x3d7112+_0x4f4edb];_0x3d7112+=_0x234d1c,_0x56babd+=_0x402884;}}}return _0x278f85['unlock'](),_0x278f85;},iN=(_0x1f1917,_0x1e442a,_0x23832f,_0xdffbfd,_0x5ab383,_0x23df54)=>{const _0x2adb34={},_0x2f3560=[];for(const _0x444a67 in _0x1e442a)_0x1e442a['hasOwnProp'+'erty'](_0x444a67)&&Nh['hasOwnProp'+'erty'](_0x444a67)&&(_0x2adb34[_0x444a67]=_0x1e442a[_0x444a67],_0x2f3560['push'](_0x444a67+':'+_0x1e442a[_0x444a67]));_0x2f3560['sort']();const _0x226d5e=_0x2f3560['join']();let _0x1ca500=_0x23df54[_0x226d5e];if(!_0x1ca500){const _0x25dc24={};for(const _0xe93e9d in _0x2adb34){const _0x27ba79=_0xdffbfd[_0x1e442a[_0xe93e9d]],_0x3e96b4=ua(_0x27ba79,_0x5ab383),_0x50cc4b=_0x5ab383[_0x27ba79['bufferView']],_0x5352e9=Nh[_0xe93e9d],_0x574cb3=yl(_0x27ba79['type'])*YF(_0x27ba79['componentT'+'ype']),_0x159103=_0x50cc4b&&_0x50cc4b['hasOwnProp'+'erty']('byteStride')?_0x50cc4b['byteStride']:_0x574cb3;_0x25dc24[_0x5352e9]={'buffer':_0x3e96b4['buffer'],'size':_0x574cb3,'offset':_0x3e96b4['byteOffset'],'stride':_0x159103,'count':_0x27ba79['count'],'components':yl(_0x27ba79['type']),'type':Dd(_0x27ba79['componentT'+'ype']),'normalize':_0x27ba79['normalized']};}_0x25dc24['hasOwnProp'+'erty'](gs)||JF(_0x25dc24,_0x23832f),_0x1ca500=sN(_0x1f1917,_0x25dc24),_0x23df54[_0x226d5e]=_0x1ca500;}return _0x1ca500;},rN=(_0x303fe9,_0x493c25,_0x551957,_0x50b5e2,_0x4a2de1,_0x218793)=>{let _0x443505,_0x44022b,_0x3b4f6b;const _0x4ca252=_0x493c25['joints'],_0x50d7a7=_0x4ca252['length'],_0x13814a=[];if(_0x493c25['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0xb2a369=_0x493c25['inverseBin'+'dMatrices'],_0x86009b=ua(_0x551957[_0xb2a369],_0x50b5e2,!(0xb19*0x2+-0x118e+-0xb*0x6c)),_0x1e04ab=[];for(_0x443505=0x7b9*0x1+-0x12df+-0xb26*-0x1;_0x443505<_0x50d7a7;_0x443505++){for(_0x44022b=0x2b*0x81+-0x575+-0x1036;_0x44022b<0x1724*-0x1+0x58*0x6b+-0xd94;_0x44022b++)_0x1e04ab[_0x44022b]=_0x86009b[_0x443505*(0x48f+-0x782+0x101*0x3)+_0x44022b];_0x3b4f6b=new te(),_0x3b4f6b['set'](_0x1e04ab),_0x13814a['push'](_0x3b4f6b);}}else{for(_0x443505=0x3d+-0x8*-0x26a+-0x138d;_0x443505<_0x50d7a7;_0x443505++)_0x3b4f6b=new te(),_0x13814a['push'](_0x3b4f6b);}const _0xd6ea0d=[];for(_0x443505=0x1931+0x39*-0x29+-0x1010*0x1;_0x443505<_0x50d7a7;_0x443505++)_0xd6ea0d[_0x443505]=_0x4a2de1[_0x4ca252[_0x443505]]['name'];const _0x54210e=_0xd6ea0d['join']('#');let _0x33dfcf=_0x218793['get'](_0x54210e);return _0x33dfcf||(_0x33dfcf=new Lv(_0x303fe9,_0x13814a,_0xd6ea0d),_0x218793['set'](_0x54210e,_0x33dfcf)),_0x33dfcf;},aN=(_0x34af34,_0x8bd160,_0x5dd4af,_0x30cf36,_0x499d88,_0x1fdd05,_0x198973)=>{var _0x515be9;const _0x435b15=new Ge(_0x34af34);_0x435b15['aabb']=Hu(_0x5dd4af[_0x8bd160['attributes']['POSITION']]);const _0x29a921=[];for(const [_0x3a4864,_0x38cf5]of Object['entries'](_0x8bd160['attributes'])){const _0x7796db=_0x5dd4af[_0x38cf5],_0x468e80=Nh[_0x3a4864],_0x24bb7f=Dd(_0x7796db['componentT'+'ype']);_0x29a921['push']({'semantic':_0x468e80,'components':yl(_0x7796db['type']),'type':_0x24bb7f,'normalize':_0x7796db['normalized']??(_0x468e80===Wt&&(_0x24bb7f===la||_0x24bb7f===Ml))});}if(_0x198973['push'](new Promise((_0x46beb9,_0x13f38f)=>{const _0x54d219=_0x8bd160['extensions']['KHR_draco_'+'mesh_compr'+'ession'];XF(_0x30cf36[_0x54d219['bufferView']]['slice']()['buffer'],(_0x580da3,_0x3b764b)=>{var _0x42dce5;if(_0x580da3)console['log'](_0x580da3),_0x13f38f(_0x580da3);else{const _0x2e952a={};for(const [_0x33fe72,_0x4627dc]of Object['entries'](_0x54d219['attributes']))_0x2e952a[Nh[_0x33fe72]]=_0x3b764b['attributes']['indexOf'](_0x4627dc);_0x29a921['sort']((_0x14613e,_0x31e30b)=>_0x2e952a[_0x14613e['semantic']]-_0x2e952a[_0x31e30b['semantic']]),(_0x42dce5=_0x8bd160['attributes'])!=null&&_0x42dce5['NORMAL']||_0x29a921['splice'](-0x1be0+-0xf32+0x2b13,-0x198b*0x1+-0x15fb+0x2f86,{'semantic':'NORMAL','components':0x3,'type':Ve});const _0x2a0439=new kt(_0x34af34,_0x29a921),_0x3443b2=_0x3b764b['vertices']['byteLength']/_0x2a0439['size'],_0xacba08=_0x3443b2<=-0xbfe0+-0x10da1+0x2cd80?Yi:wr,_0xf1e92c=_0x3b764b['indices']['byteLength']/(_0x3443b2<=-0x17146*-0x1+0x1*-0x2d16+0x633*-0xb?-0x1617+0x2339+-0x348*0x4:0x1ac5+-0x1*0xa39+-0x1088);w['call'](()=>{_0x3443b2!==_0x5dd4af[_0x8bd160['attributes']['POSITION']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0xf1e92c!==_0x5dd4af[_0x8bd160['indices']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x17116b=new Is(_0x34af34,_0x2a0439,_0x3443b2,{'data':_0x3b764b['vertices']}),_0x8a93ff=new br(_0x34af34,_0xacba08,_0xf1e92c,ms,_0x3b764b['indices']);_0x435b15['vertexBuff'+'er']=_0x17116b,_0x435b15['indexBuffe'+'r'][-0x2084+-0x8ee+0x14b9*0x2]=_0x8a93ff,_0x435b15['primitive'][0x226d+-0x236c*0x1+0xff]['type']=T0(_0x8bd160),_0x435b15['primitive'][0x1df3+-0x1*-0x6d1+0xb5*-0x34]['base']=0x4*-0x6e6+-0x41*-0x65+-0x1f3*-0x1,_0x435b15['primitive'][0x1276*0x2+0x730+0x2*-0x160e]['count']=_0x8a93ff?_0xf1e92c:_0x3443b2,_0x435b15['primitive'][-0x168a+0x1*-0x41+-0x3*-0x799]['indexed']=!!_0x8a93ff,_0x46beb9();}});})),(_0x515be9=_0x8bd160==null?void(-0x1e46+0x621+0x1825):_0x8bd160['extensions'])!=null&&_0x515be9['KHR_materi'+'als_varian'+'ts']){const _0x382e5c=_0x8bd160['extensions']['KHR_materi'+'als_varian'+'ts'],_0x1f0937={};_0x382e5c['mappings']['forEach'](_0x4d1666=>{_0x4d1666['variants']['forEach'](_0x558323=>{_0x1f0937[_0x558323]=_0x4d1666['material'];});}),_0x499d88[_0x435b15['id']]=_0x1f0937;}return _0x1fdd05[_0x435b15['id']]=_0x8bd160['material'],_0x435b15;},nN=(_0x3f6504,_0x328d02,_0x2ea208,_0x3ffe17,_0x5f250d,_0x4cf56a,_0x4b3b8e,_0x4deb28,_0x5b446f)=>{const _0x49e87a=[];return _0x328d02['primitives']['forEach'](_0x2d23b8=>{var _0x5cda97;if((_0x5cda97=_0x2d23b8['extensions'])!=null&&_0x5cda97['KHR_draco_'+'mesh_compr'+'ession'])_0x49e87a['push'](aN(_0x3f6504,_0x2d23b8,_0x2ea208,_0x3ffe17,_0x4cf56a,_0x4b3b8e,_0x5b446f));else{let _0x114a26=_0x2d23b8['hasOwnProp'+'erty']('indices')?ua(_0x2ea208[_0x2d23b8['indices']],_0x3ffe17,!(0x1e3e+-0x27d*0xc+-0x62)):null;const _0x57b76a=iN(_0x3f6504,_0x2d23b8['attributes'],_0x114a26,_0x2ea208,_0x3ffe17,_0x5f250d),_0x24dfb7=T0(_0x2d23b8),_0x3ea24e=new Ge(_0x3f6504);if(_0x3ea24e['vertexBuff'+'er']=_0x57b76a,_0x3ea24e['primitive'][-0xf07+-0x1*-0x1d7+0xd30]['type']=_0x24dfb7,_0x3ea24e['primitive'][-0xea8+-0x142c+0x22d4]['base']=-0x16e+-0x76d+0x8db,_0x3ea24e['primitive'][0x5*0x3b8+-0x237e+-0xce*-0x15]['indexed']=_0x114a26!==null,_0x114a26!==null){let _0x5d7186;_0x114a26 instanceof Uint8Array?_0x5d7186=$f:_0x114a26 instanceof Uint16Array?_0x5d7186=Yi:_0x5d7186=wr,_0x5d7186===$f&&_0x3f6504['isWebGPU']&&(_0x5d7186=Yi,_0x114a26=new Uint16Array(_0x114a26));const _0x22fc2b=new br(_0x3f6504,_0x5d7186,_0x114a26['length'],ms,_0x114a26);_0x3ea24e['indexBuffe'+'r'][-0x2437+0xcc1+0x2a*0x8f]=_0x22fc2b,_0x3ea24e['primitive'][-0x98f+0xa*-0x3df+0x1017*0x3]['count']=_0x114a26['length'];}else _0x3ea24e['primitive'][0x1*-0x13df+-0x1*-0x1bbf+0x15*-0x60]['count']=_0x57b76a['numVertice'+'s'];if(_0x2d23b8['hasOwnProp'+'erty']('extensions')&&_0x2d23b8['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x27e607=_0x2d23b8['extensions']['KHR_materi'+'als_varian'+'ts'],_0x451a93={};_0x27e607['mappings']['forEach'](_0x222256=>{_0x222256['variants']['forEach'](_0x2184a8=>{_0x451a93[_0x2184a8]=_0x222256['material'];});}),_0x4cf56a[_0x3ea24e['id']]=_0x451a93;}_0x4b3b8e[_0x3ea24e['id']]=_0x2d23b8['material'];let _0x3cd22e=_0x2ea208[_0x2d23b8['attributes']['POSITION']];if(_0x3ea24e['aabb']=Hu(_0x3cd22e),_0x2d23b8['hasOwnProp'+'erty']('targets')){const _0x307283=[];_0x2d23b8['targets']['forEach']((_0x3b060f,_0x34f3ae)=>{const _0x3c4911={};_0x3b060f['hasOwnProp'+'erty']('POSITION')&&(_0x3cd22e=_0x2ea208[_0x3b060f['POSITION']],_0x3c4911['deltaPosit'+'ions']=Pn(_0x3cd22e,_0x3ffe17),_0x3c4911['aabb']=Hu(_0x3cd22e)),_0x3b060f['hasOwnProp'+'erty']('NORMAL')&&(_0x3cd22e=_0x2ea208[_0x3b060f['NORMAL']],_0x3c4911['deltaNorma'+'ls']=Pn(_0x3cd22e,_0x3ffe17)),_0x328d02['hasOwnProp'+'erty']('extras')&&_0x328d02['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x3c4911['name']=_0x328d02['extras']['targetName'+'s'][_0x34f3ae]:_0x3c4911['name']=_0x34f3ae['toString'](-0x9d0+-0x2a3*-0x5+-0x355),_0x328d02['hasOwnProp'+'erty']('weights')&&(_0x3c4911['defaultWei'+'ght']=_0x328d02['weights'][_0x34f3ae]),_0x3c4911['preserveDa'+'ta']=_0x4deb28['morphPrese'+'rveData'],_0x307283['push'](new Md(_0x3c4911));}),_0x3ea24e['morph']=new mm(_0x307283,_0x3f6504,{'preferHighPrecision':_0x4deb28['morphPrefe'+'rHighPreci'+'sion']});}_0x49e87a['push'](_0x3ea24e);}}),_0x49e87a;},Dt=(_0x3754bf,_0x39ec7e,_0x2df1f0)=>{var _0x15f616;let _0x4ca3fb;const _0x3c742e=_0x3754bf['texCoord'];if(_0x3c742e){for(_0x4ca3fb=0x164d+-0xc05*-0x1+-0x2252;_0x4ca3fb<_0x2df1f0['length'];++_0x4ca3fb)_0x39ec7e[_0x2df1f0[_0x4ca3fb]+'MapUv']=_0x3c742e;}const _0x3e4e12=[-0x1*-0x1bf4+0x1f33+0x1*-0x3b27,-0x8c5*0x4+-0x8c3*-0x4+0x8],_0x2810e3=[-0x1488+0xbdc+0x8ad,0xfdd+-0xd33+0xe3*-0x3],_0x4053db=(_0x15f616=_0x3754bf['extensions'])==null?void(0x1b43+0x1eee+0x3a31*-0x1):_0x15f616['KHR_textur'+'e_transfor'+'m'];if(_0x4053db){const _0x5d4eaf=_0x4053db['offset']||_0x3e4e12,_0x44b40b=_0x4053db['scale']||_0x2810e3,_0x1843cb=_0x4053db['rotation']?-_0x4053db['rotation']*Y['RAD_TO_DEG']:-0x11a*0x2+-0x2cf*-0x1+-0x9b,_0x29eb7e=new J(_0x44b40b[0x1*0x12fd+0xf1*-0x1d+0x850],_0x44b40b[-0x1*-0x1f66+0xb29+-0x2a8e]),_0x14b098=new J(_0x5d4eaf[-0x1*-0x20fb+0xcaa+0x921*-0x5],-0x257*0x7+0x24df*-0x1+0x3541*0x1-_0x44b40b[-0x1*-0x16e+-0x15c5*0x1+0x1458]-_0x5d4eaf[0x24c8+0x1*0xf64+-0x342b]);for(_0x4ca3fb=0x3a5+0x81c+-0xbc1;_0x4ca3fb<_0x2df1f0['length'];++_0x4ca3fb)_0x39ec7e[_0x2df1f0[_0x4ca3fb]+'MapTiling']=_0x29eb7e,_0x39ec7e[_0x2df1f0[_0x4ca3fb]+'MapOffset']=_0x14b098,_0x39ec7e[_0x2df1f0[_0x4ca3fb]+('MapRotatio'+'n')]=_0x1843cb;}},oN=(_0x4c21b5,_0x21fdbe,_0x50f557)=>{let _0x3ec3de,_0x26c3b4;if(_0x4c21b5['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x3ec3de=_0x4c21b5['diffuseFac'+'tor'],_0x21fdbe['diffuse']['set'](Math['pow'](_0x3ec3de[-0x165b+0x5*0x3eb+0x2c4],(-0x5*0x4+-0x157b*0x1+-0x2b2*-0x8)/(-0x549+-0x912*-0x3+-0x15eb+0.20000000000000018)),Math['pow'](_0x3ec3de[0x15f1*0x1+0x2599+-0x3b89],(0x3*-0x8d2+-0x102*0x1a+0x1*0x34ab)/(-0xf84+-0x354+-0x12da*-0x1+0.20000000000000018)),Math['pow'](_0x3ec3de[0x21a4+-0x34e+-0x1e54],(0x1068+0x125e+-0x22c5)/(-0x3*0x99e+0xa63+0x1279+0.20000000000000018))),_0x21fdbe['opacity']=_0x3ec3de[-0x1*-0x2215+-0x106+0xb04*-0x3]):(_0x21fdbe['diffuse']['set'](0x16f*0x5+-0x1e10*0x1+0x16e6,0x256f+0x63c+-0x2baa,-0x9*0x18+-0x1411+0x14ea*0x1),_0x21fdbe['opacity']=-0x1c93+-0x6e6*0x1+0x237a),_0x4c21b5['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x5cd66c=_0x4c21b5['diffuseTex'+'ture'];_0x26c3b4=_0x50f557[_0x5cd66c['index']],_0x21fdbe['diffuseMap']=_0x26c3b4,_0x21fdbe['diffuseMap'+'Channel']='rgb',_0x21fdbe['opacityMap']=_0x26c3b4,_0x21fdbe['opacityMap'+'Channel']='a',Dt(_0x5cd66c,_0x21fdbe,['diffuse','opacity']);}if(_0x21fdbe['useMetalne'+'ss']=!(-0x4*-0x8de+-0x2462+0xeb),_0x4c21b5['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x3ec3de=_0x4c21b5['specularFa'+'ctor'],_0x21fdbe['specular']['set'](Math['pow'](_0x3ec3de[-0x3*-0xf5+0xd4+-0x3b3*0x1],(0x1b95+-0x13d*0x5+0xdb*-0x19)/(0x1030+0x216*-0x1+-0x29*0x58+0.20000000000000018)),Math['pow'](_0x3ec3de[-0x264e+0x1*-0x1d63+-0x6c5*-0xa],(0x15*0x61+0x2252*-0x1+0x4b*0x5a)/(-0x1f9e*0x1+-0xeed+0x2e8d+0.20000000000000018)),Math['pow'](_0x3ec3de[0x1983+0x41*0x3b+-0x287c],(0x1*-0x1cdb+-0xc1*-0x16+0xc46)/(-0x1975+0x602*0x2+0x1*0xd73+0.20000000000000018)))):_0x21fdbe['specular']['set'](-0x1adc+0x17ba+0x323,0xcef+0x181d*-0x1+0xb2f,-0x1634+-0x265e+0x3c93),_0x4c21b5['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x21fdbe['gloss']=_0x4c21b5['glossiness'+'Factor']:_0x21fdbe['gloss']=0x1c9b+-0xe36*0x1+0x133*-0xc,_0x4c21b5['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x1ebbb6=_0x4c21b5['specularGl'+'ossinessTe'+'xture'];_0x21fdbe['specularMa'+'p']=_0x21fdbe['glossMap']=_0x50f557[_0x1ebbb6['index']],_0x21fdbe['specularMa'+'pChannel']='rgb',_0x21fdbe['glossMapCh'+'annel']='a',Dt(_0x1ebbb6,_0x21fdbe,['gloss','metalness']);}},lN=(_0x400929,_0xfbe3cd,_0x5d9be4)=>{if(_0x400929['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0xfbe3cd['clearCoat']=_0x400929['clearcoatF'+'actor']*(-0x25a+0x112f*0x1+0x1*-0xed5+0.25):_0xfbe3cd['clearCoat']=-0x1*0x2685+-0x1*0x23bb+0x3*0x18c0,_0x400929['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x4163f4=_0x400929['clearcoatT'+'exture'];_0xfbe3cd['clearCoatM'+'ap']=_0x5d9be4[_0x4163f4['index']],_0xfbe3cd['clearCoatM'+'apChannel']='r',Dt(_0x4163f4,_0xfbe3cd,['clearCoat']);}if(_0x400929['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0xfbe3cd['clearCoatG'+'loss']=_0x400929['clearcoatR'+'oughnessFa'+'ctor']:_0xfbe3cd['clearCoatG'+'loss']=0x1230+-0x921+-0x90f,_0x400929['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x36b035=_0x400929['clearcoatR'+'oughnessTe'+'xture'];_0xfbe3cd['clearCoatG'+'lossMap']=_0x5d9be4[_0x36b035['index']],_0xfbe3cd['clearCoatG'+'lossMapCha'+'nnel']='g',Dt(_0x36b035,_0xfbe3cd,['clearCoatG'+'loss']);}if(_0x400929['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x1a2fd9=_0x400929['clearcoatN'+'ormalTextu'+'re'];_0xfbe3cd['clearCoatN'+'ormalMap']=_0x5d9be4[_0x1a2fd9['index']],Dt(_0x1a2fd9,_0xfbe3cd,['clearCoatN'+'ormal']),_0x1a2fd9['hasOwnProp'+'erty']('scale')?_0xfbe3cd['clearCoatB'+'umpiness']=_0x1a2fd9['scale']:_0xfbe3cd['clearCoatB'+'umpiness']=0x21*-0x84+-0x1864+0x2969;}_0xfbe3cd['clearCoatG'+'lossInvert']=!(-0x112c+-0x4a*0x71+0x31d6);},cN=(_0x50a79e,_0xe04df4,_0x3cb3bb)=>{_0xe04df4['useLightin'+'g']=!(0x75c+-0xd15+0x5ba),_0xe04df4['emissive']['copy'](_0xe04df4['diffuse']),_0xe04df4['emissiveMa'+'p']=_0xe04df4['diffuseMap'],_0xe04df4['emissiveMa'+'pUv']=_0xe04df4['diffuseMap'+'Uv'],_0xe04df4['emissiveMa'+'pTiling']['copy'](_0xe04df4['diffuseMap'+'Tiling']),_0xe04df4['emissiveMa'+'pOffset']['copy'](_0xe04df4['diffuseMap'+'Offset']),_0xe04df4['emissiveMa'+'pRotation']=_0xe04df4['diffuseMap'+'Rotation'],_0xe04df4['emissiveMa'+'pChannel']=_0xe04df4['diffuseMap'+'Channel'],_0xe04df4['emissiveVe'+'rtexColor']=_0xe04df4['diffuseVer'+'texColor'],_0xe04df4['emissiveVe'+'rtexColorC'+'hannel']=_0xe04df4['diffuseVer'+'texColorCh'+'annel'],_0xe04df4['useLightin'+'g']=!(-0x17a4+0x11*0x169+-0x54),_0xe04df4['useSkybox']=!(-0x18b7+-0xacc+0x2*0x11c2),_0xe04df4['diffuse']['set'](0x3*0x18+0x11*-0x9e+0xa37,0x11*-0x204+0x1fa4+0x1*0x2a1,0x1*0x23bc+0x2666*-0x1+0x2ab),_0xe04df4['diffuseMap']=null,_0xe04df4['diffuseVer'+'texColor']=!(-0x432+-0x30d+0x740);},hN=(_0x26eb75,_0x542d93,_0x5a75d9)=>{if(_0x542d93['useMetalne'+'ssSpecular'+'Color']=!(-0x22f5+0xd*-0x115+0x3106),_0x26eb75['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x542d93['specularMa'+'p']=_0x5a75d9[_0x26eb75['specularCo'+'lorTexture']['index']],_0x542d93['specularMa'+'pChannel']='rgb',Dt(_0x26eb75['specularCo'+'lorTexture'],_0x542d93,['specular'])),_0x26eb75['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x1b2f8e=_0x26eb75['specularCo'+'lorFactor'];_0x542d93['specular']['set'](Math['pow'](_0x1b2f8e[0xd*-0x65+0x4bb+-0x3*-0x22],(-0x2515+-0xf0*-0xb+0x1ac6)/(0x7*0x291+0xfa7*-0x1+-0x24e+0.20000000000000018)),Math['pow'](_0x1b2f8e[-0x1*0xffe+0x1750+-0x751],(0xa54+0x1ff3+0x1523*-0x2)/(-0x1519+0xfd2+-0x1c3*-0x3+0.20000000000000018)),Math['pow'](_0x1b2f8e[-0x5*-0x2c2+0x13*-0x53+-0x1*0x79f],(0x1ab*0x17+-0x2643+0x5*-0x5)/(0x140b+-0x94*0xc+-0xd19+0.20000000000000018)));}else _0x542d93['specular']['set'](0x1*0x23d1+0x1*0x193+0x2563*-0x1,0xa1d+0x1851+-0x226d,-0x268a+0x15c4+-0x35b*-0x5);_0x26eb75['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x542d93['specularit'+'yFactor']=_0x26eb75['specularFa'+'ctor']:_0x542d93['specularit'+'yFactor']=0x26f*0x7+-0x13*-0x1a5+-0x3047,_0x26eb75['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x542d93['specularit'+'yFactorMap'+'Channel']='a',_0x542d93['specularit'+'yFactorMap']=_0x5a75d9[_0x26eb75['specularTe'+'xture']['index']],Dt(_0x26eb75['specularTe'+'xture'],_0x542d93,['specularit'+'yFactor']));},dN=(_0x192096,_0x15ac3e,_0x29dc88)=>{_0x192096['hasOwnProp'+'erty']('ior')&&(_0x15ac3e['refraction'+'Index']=(-0x230e+0x1a54+0x8bb)/_0x192096['ior']);},fN=(_0x4e4822,_0x2d6bd3,_0x5ac1c4)=>{_0x4e4822['hasOwnProp'+'erty']('dispersion')&&(_0x2d6bd3['dispersion']=_0x4e4822['dispersion']);},uN=(_0x39d9bb,_0x18f2a5,_0x1ba6b5)=>{_0x18f2a5['blendType']=Zs,_0x18f2a5['useDynamic'+'Refraction']=!(-0x520+0x350+-0x74*-0x4),_0x39d9bb['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x18f2a5['refraction']=_0x39d9bb['transmissi'+'onFactor']),_0x39d9bb['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x18f2a5['refraction'+'MapChannel']='r',_0x18f2a5['refraction'+'Map']=_0x1ba6b5[_0x39d9bb['transmissi'+'onTexture']['index']],Dt(_0x39d9bb['transmissi'+'onTexture'],_0x18f2a5,['refraction']));},pN=(_0x5488ac,_0x3fd714,_0xc49fa1)=>{if(_0x3fd714['useSheen']=!(-0x19cd+0x7*-0x191+0xb5*0x34),_0x5488ac['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x184fb0=_0x5488ac['sheenColor'+'Factor'];_0x3fd714['sheen']['set'](Math['pow'](_0x184fb0[-0x14d3+0x2604+0xa3*-0x1b],(-0xc6d*0x2+-0x2196+0x1*0x3a71)/(-0x10b1+-0x11a2+-0x2f*-0xbb+0.20000000000000018)),Math['pow'](_0x184fb0[-0x16*0x2b+0x1*-0x259f+0x2952],(0x1*-0x3e0+-0x4*-0x4f+-0x1*-0x2a5)/(-0x476+0xde7*-0x2+-0x396*-0x9+0.20000000000000018)),Math['pow'](_0x184fb0[0x25b9+0xd04+0x9*-0x5a3],(0xcc9*0x2+0x658*-0x1+0x13*-0x103)/(-0x31*-0xb3+-0x218a+-0xb7+0.20000000000000018)));}else _0x3fd714['sheen']['set'](-0x2316+0x2506+-0x1ef,0xbbf+0x2255+-0x2e13,-0x1*-0xe8f+-0x12c7*0x1+0x439);_0x5488ac['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x3fd714['sheenMap']=_0xc49fa1[_0x5488ac['sheenColor'+'Texture']['index']],Dt(_0x5488ac['sheenColor'+'Texture'],_0x3fd714,['sheen'])),_0x3fd714['sheenGloss']=_0x5488ac['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x5488ac['sheenRough'+'nessFactor']:0x1ade+-0x3ea*-0x3+0x2c2*-0xe,_0x5488ac['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x3fd714['sheenGloss'+'Map']=_0xc49fa1[_0x5488ac['sheenRough'+'nessTextur'+'e']['index']],_0x3fd714['sheenGloss'+'MapChannel']='a',Dt(_0x5488ac['sheenRough'+'nessTextur'+'e'],_0x3fd714,['sheenGloss'])),_0x3fd714['sheenGloss'+'Invert']=!(-0x2519*0x1+0x1bdf+0x93a);},mN=(_0x39b1a1,_0x5aa1e1,_0x3e4afb)=>{if(_0x5aa1e1['blendType']=Zs,_0x5aa1e1['useDynamic'+'Refraction']=!(0xf7f+0x1551+0x49a*-0x8),_0x39b1a1['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x5aa1e1['thickness']=_0x39b1a1['thicknessF'+'actor']),_0x39b1a1['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x5aa1e1['thicknessM'+'ap']=_0x3e4afb[_0x39b1a1['thicknessT'+'exture']['index']],_0x5aa1e1['thicknessM'+'apChannel']='g',Dt(_0x39b1a1['thicknessT'+'exture'],_0x5aa1e1,['thickness'])),_0x39b1a1['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x5aa1e1['attenuatio'+'nDistance']=_0x39b1a1['attenuatio'+'nDistance']),_0x39b1a1['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x11bfeb=_0x39b1a1['attenuatio'+'nColor'];_0x5aa1e1['attenuatio'+'n']['set'](Math['pow'](_0x11bfeb[-0x7e2+-0x4e9+0xccb],(-0xe*-0x18f+0x1d0+-0x17a1)/(-0x338*-0x1+-0x9*-0x1b6+0x6*-0x31a+0.20000000000000018)),Math['pow'](_0x11bfeb[0x6*-0x443+-0x1*-0xf4e+0xa45],(-0x32b*-0x1+-0x37+-0x2f3)/(-0x1118+-0x8b*-0x29+-0x529*0x1+0.20000000000000018)),Math['pow'](_0x11bfeb[-0x225d*-0x1+0x1*-0x19d9+-0x882],(-0x15*0x12e+-0x24a2+0x3d69)/(0x267d+0x7*-0x377+0x6*-0x25f+0.20000000000000018)));}},_N=(_0x51be2a,_0x5ca9db,_0x81a6eb)=>{_0x51be2a['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x5ca9db['emissiveIn'+'tensity']=_0x51be2a['emissiveSt'+'rength']);},gN=(_0x36d84e,_0x5a2c41,_0xdf656b)=>{_0x5a2c41['useIridesc'+'ence']=!(0x14e8+0x73c+-0x1c24),_0x36d84e['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x5a2c41['iridescenc'+'e']=_0x36d84e['iridescenc'+'eFactor']),_0x36d84e['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x5a2c41['iridescenc'+'eMapChanne'+'l']='r',_0x5a2c41['iridescenc'+'eMap']=_0xdf656b[_0x36d84e['iridescenc'+'eTexture']['index']],Dt(_0x36d84e['iridescenc'+'eTexture'],_0x5a2c41,['iridescenc'+'e'])),_0x36d84e['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x5a2c41['iridescenc'+'eRefractio'+'nIndex']=_0x36d84e['iridescenc'+'eIor']),_0x36d84e['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x5a2c41['iridescenc'+'eThickness'+'Min']=_0x36d84e['iridescenc'+'eThickness'+'Minimum']),_0x36d84e['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x5a2c41['iridescenc'+'eThickness'+'Max']=_0x36d84e['iridescenc'+'eThickness'+'Maximum']),_0x36d84e['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x5a2c41['iridescenc'+'eThickness'+'MapChannel']='g',_0x5a2c41['iridescenc'+'eThickness'+'Map']=_0xdf656b[_0x36d84e['iridescenc'+'eThickness'+'Texture']['index']],Dt(_0x36d84e['iridescenc'+'eThickness'+'Texture'],_0x5a2c41,['iridescenc'+'eThickness']));},SN=(_0x33497a,_0x3f40e0,_0x30741a)=>{if(_0x3f40e0['enableGGXS'+'pecular']=!(0x24e2+-0x2*0xb47+-0xe54),_0x33497a['hasOwnProp'+'erty']('anisotropy'+'Strength')?_0x3f40e0['anisotropy'+'Intensity']=_0x33497a['anisotropy'+'Strength']:_0x3f40e0['anisotropy'+'Intensity']=0x3c*0x4f+0x1*-0x21d9+0xf55,_0x33497a['hasOwnProp'+'erty']('anisotropy'+'Texture')){const _0x24e9b6=_0x33497a['anisotropy'+'Texture'];_0x3f40e0['anisotropy'+'Map']=_0x30741a[_0x24e9b6['index']],Dt(_0x24e9b6,_0x3f40e0,['anisotropy']);}_0x33497a['hasOwnProp'+'erty']('anisotropy'+'Rotation')?_0x3f40e0['anisotropy'+'Rotation']=_0x33497a['anisotropy'+'Rotation']*Y['RAD_TO_DEG']:_0x3f40e0['anisotropy'+'Rotation']=-0x17ca+0x3*0x301+-0x4ed*-0x3;},w0=(_0x362418,_0x1802f5)=>{const _0xdff318=new Ut();_0x362418['hasOwnProp'+'erty']('name')&&(_0xdff318['name']=_0x362418['name']),_0xdff318['occludeSpe'+'cular']=bd,_0xdff318['diffuseVer'+'texColor']=!(0x801*-0x1+-0xc*-0x39+0x555),_0xdff318['specularTi'+'nt']=!(-0x664+0x9*-0x289+0x1d35*0x1),_0xdff318['specularVe'+'rtexColor']=!(-0xa1c*0x2+0x8f2*-0x1+0x1d2a),_0xdff318['specular']['set'](-0xf*0x17+0xec7+0xd6d*-0x1,0x270e*0x1+0xe8e+0x1*-0x359b,0x3*0x827+0x29*-0xe+-0x1636*0x1),_0xdff318['gloss']=-0x2cc*-0x8+-0x1ebb*-0x1+-0x351a,_0xdff318['glossInver'+'t']=!(-0x6f8+-0x18ed+0x1fe5),_0xdff318['useMetalne'+'ss']=!(0x9*0x320+-0x4d4+0x47*-0x54);let _0x37979e,_0x27ea13;if(_0x362418['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x30a11e=_0x362418['pbrMetalli'+'cRoughness'];if(_0x30a11e['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x37979e=_0x30a11e['baseColorF'+'actor'],_0xdff318['diffuse']['set'](Math['pow'](_0x37979e[0x690+0x975+0x557*-0x3],(0x57*0x2d+-0x1317+-0x8b*-0x7)/(-0xbdb+-0x1d74+-0x5e7*-0x7+0.20000000000000018)),Math['pow'](_0x37979e[-0x190b+0x1*-0x5b3+0x1ebf],(0x1fc8+0x1*-0x17b4+-0x813)/(-0x18*0x121+0x2a5*-0x3+-0x1*-0x2309+0.20000000000000018)),Math['pow'](_0x37979e[0x2*0x119f+-0x2*0xba1+-0xbfa],(0x2260+-0x63f+-0x1c20)/(0x4*0x446+0x1ca8+0x1*-0x2dbe+0.20000000000000018))),_0xdff318['opacity']=_0x37979e[0x3*0x4a9+0x1*-0x7cc+-0x62c]),_0x30a11e['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x5e0d16=_0x30a11e['baseColorT'+'exture'];_0x27ea13=_0x1802f5[_0x5e0d16['index']],_0xdff318['diffuseMap']=_0x27ea13,_0xdff318['diffuseMap'+'Channel']='rgb',_0xdff318['opacityMap']=_0x27ea13,_0xdff318['opacityMap'+'Channel']='a',Dt(_0x5e0d16,_0xdff318,['diffuse','opacity']);}if(_0x30a11e['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0xdff318['metalness']=_0x30a11e['metallicFa'+'ctor']),_0x30a11e['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0xdff318['gloss']=_0x30a11e['roughnessF'+'actor']),_0x30a11e['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x5a97da=_0x30a11e['metallicRo'+'ughnessTex'+'ture'];_0xdff318['metalnessM'+'ap']=_0xdff318['glossMap']=_0x1802f5[_0x5a97da['index']],_0xdff318['metalnessM'+'apChannel']='b',_0xdff318['glossMapCh'+'annel']='g',Dt(_0x5a97da,_0xdff318,['gloss','metalness']);}}if(_0x362418['hasOwnProp'+'erty']('normalText'+'ure')){const _0x2b5527=_0x362418['normalText'+'ure'];_0xdff318['normalMap']=_0x1802f5[_0x2b5527['index']],Dt(_0x2b5527,_0xdff318,['normal']),_0x2b5527['hasOwnProp'+'erty']('scale')&&(_0xdff318['bumpiness']=_0x2b5527['scale']);}if(_0x362418['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x4718f0=_0x362418['occlusionT'+'exture'];_0xdff318['aoMap']=_0x1802f5[_0x4718f0['index']],_0xdff318['aoMapChann'+'el']='r',Dt(_0x4718f0,_0xdff318,['ao']);}if(_0x362418['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x37979e=_0x362418['emissiveFa'+'ctor'],_0xdff318['emissive']['set'](Math['pow'](_0x37979e[-0xed1+0x721*0x3+0x1d*-0x3a],(0x35b*-0x3+0x1ebf+-0x14ad)/(0x5b0+0x21e*0x11+-0x29ac+0.20000000000000018)),Math['pow'](_0x37979e[-0x99f+-0x1b*0x117+0x270d],(0x2*0x1b2+0x2374*-0x1+0x1*0x2011)/(-0x1401*0x1+0x17b4+-0x3b1*0x1+0.20000000000000018)),Math['pow'](_0x37979e[0x20ff+0x788*0x2+-0x300d*0x1],(-0x121b+0xfc1+0x25b)/(-0x140e+0x1c35+-0x825+0.20000000000000018)))),_0x362418['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x53a53a=_0x362418['emissiveTe'+'xture'];_0xdff318['emissiveMa'+'p']=_0x1802f5[_0x53a53a['index']],Dt(_0x53a53a,_0xdff318,['emissive']);}if(_0x362418['hasOwnProp'+'erty']('alphaMode'))switch(_0x362418['alphaMode']){case'MASK':_0xdff318['blendType']=Cs,_0x362418['hasOwnProp'+'erty']('alphaCutof'+'f')?_0xdff318['alphaTest']=_0x362418['alphaCutof'+'f']:_0xdff318['alphaTest']=0x796*0x1+0x5*-0x427+0xd2d*0x1+0.5;break;case'BLEND':_0xdff318['blendType']=Zs,_0xdff318['depthWrite']=!(-0xf89+-0x14d4+0x245e);break;default:case'OPAQUE':_0xdff318['blendType']=Cs;break;}else _0xdff318['blendType']=Cs;_0x362418['hasOwnProp'+'erty']('doubleSide'+'d')?(_0xdff318['twoSidedLi'+'ghting']=_0x362418['doubleSide'+'d'],_0xdff318['cull']=_0x362418['doubleSide'+'d']?bt:pa):(_0xdff318['twoSidedLi'+'ghting']=!(-0x14cf+-0x1bd0+0x30a0*0x1),_0xdff318['cull']=pa);const _0x2d650d={'KHR_materials_clearcoat':lN,'KHR_materials_emissive_strength':_N,'KHR_materials_ior':dN,'KHR_materials_dispersion':fN,'KHR_materials_iridescence':gN,'KHR_materials_pbrSpecularGlossiness':oN,'KHR_materials_sheen':pN,'KHR_materials_specular':hN,'KHR_materials_transmission':uN,'KHR_materials_unlit':cN,'KHR_materials_volume':mN,'KHR_materials_anisotropy':SN};if(_0x362418['hasOwnProp'+'erty']('extensions'))for(const _0x5b212a in _0x362418['extensions']){const _0x38e7a0=_0x2d650d[_0x5b212a];_0x38e7a0!==void(-0x15a9*0x1+-0x538*0x1+0x1ae1)&&_0x38e7a0(_0x362418['extensions'][_0x5b212a],_0xdff318,_0x1802f5);}return _0xdff318['update'](),_0xdff318;},yN=(_0x4cd023,_0x3bcef8,_0x167bf5,_0x1a3066,_0x2bb90a,_0x70faea,_0x1d74e9)=>{const _0x1c614b=_0x1bb34c=>new Fh(yl(_0x1bb34c['type']),Pn(_0x1bb34c,_0x1a3066)),_0x52a9cd={'STEP':Bv,'LINEAR':Su,'CUBICSPLINE':yu},_0xe40fe1={},_0x45fed8={},_0x219a62={};let _0x740ff4=0x24b*0x2+-0x19e8+0x1553,_0x232ebc;for(_0x232ebc=0xbfa*0x3+-0x17b4+-0xc3a;_0x232ebc<_0x4cd023['samplers']['length'];++_0x232ebc){const _0x40a30d=_0x4cd023['samplers'][_0x232ebc];_0xe40fe1['hasOwnProp'+'erty'](_0x40a30d['input'])||(_0xe40fe1[_0x40a30d['input']]=_0x1c614b(_0x167bf5[_0x40a30d['input']])),_0x45fed8['hasOwnProp'+'erty'](_0x40a30d['output'])||(_0x45fed8[_0x40a30d['output']]=_0x1c614b(_0x167bf5[_0x40a30d['output']]));const _0x16a822=_0x40a30d['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x52a9cd['hasOwnProp'+'erty'](_0x40a30d['interpolat'+'ion'])?_0x52a9cd[_0x40a30d['interpolat'+'ion']]:Su,_0x19657b={'paths':[],'input':_0x40a30d['input'],'output':_0x40a30d['output'],'interpolation':_0x16a822};_0x219a62[_0x232ebc]=_0x19657b;}const _0x1db5b4=[],_0x4c680f={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x508710=_0x7b1d27=>{const _0xf032ee=[];for(;_0x7b1d27;)_0xf032ee['unshift'](_0x7b1d27['name']),_0x7b1d27=_0x7b1d27['parent'];return _0xf032ee;},_0x941807=(_0x36a5a9,_0x16982f,_0x36eff4)=>{const _0x259241=_0x45fed8[_0x36a5a9['output']];if(!_0x259241){w['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x36eff4+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x1f399b;if(_0x70faea&&_0x70faea[_0x16982f['mesh']]){const _0x19f7e3=_0x70faea[_0x16982f['mesh']];_0x19f7e3['hasOwnProp'+'erty']('extras')&&_0x19f7e3['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x1f399b=_0x19f7e3['extras']['targetName'+'s']);}const _0x17fc06=_0x259241['data'],_0x123f4f=_0x17fc06['length']/_0xe40fe1[_0x36a5a9['input']]['data']['length'],_0x4d8dca=_0x17fc06['length']/_0x123f4f,_0x278cb4=_0x4d8dca*(0x90d+-0xa26*-0x3+0x9*-0x463),_0x475589=new ArrayBuffer(_0x278cb4*_0x123f4f);for(let _0x48add0=-0x745*0x3+-0xe71+0x2440;_0x48add0<_0x123f4f;_0x48add0++){const _0x5f07bc=new Float32Array(_0x475589,_0x278cb4*_0x48add0,_0x4d8dca);for(let _0x3d6561=0x1*-0x135e+0x1203+0x15b;_0x3d6561<_0x4d8dca;_0x3d6561++)_0x5f07bc[_0x3d6561]=_0x17fc06[_0x3d6561*_0x123f4f+_0x48add0];const _0x23b3c2=new Fh(0x3*-0x655+-0x497*0x4+0x255c,_0x5f07bc),_0xb2178e=_0x1f399b!=null&&_0x1f399b[_0x48add0]?'name.'+_0x1f399b[_0x48add0]:_0x48add0;_0x45fed8[-_0x740ff4]=_0x23b3c2;const _0x38c21f={'paths':[{'entityPath':_0x36eff4,'component':'graph','propertyPath':['weight.'+_0xb2178e]}],'input':_0x36a5a9['input'],'output':-_0x740ff4,'interpolation':_0x36a5a9['interpolat'+'ion']};_0x740ff4++,_0x219a62['morphCurve'+'-'+_0x232ebc+'-'+_0x48add0]=_0x38c21f;}};for(_0x232ebc=-0x405+0x17f*-0x11+0xa*0x2f2;_0x232ebc<_0x4cd023['channels']['length'];++_0x232ebc){const _0x4571b3=_0x4cd023['channels'][_0x232ebc],_0x4f6de4=_0x4571b3['target'],_0x16ec2d=_0x219a62[_0x4571b3['sampler']],_0x1251eb=_0x2bb90a[_0x4f6de4['node']],_0x52415b=_0x1d74e9[_0x4f6de4['node']],_0x2997ec=_0x508710(_0x1251eb);_0x4f6de4['path']['startsWith']('weights')?(_0x941807(_0x16ec2d,_0x52415b,_0x2997ec),_0x219a62[_0x4571b3['sampler']]['morphCurve']=!(-0x250d+-0x9a4+0x1*0x2eb1)):_0x16ec2d['paths']['push']({'entityPath':_0x2997ec,'component':'graph','propertyPath':[_0x4c680f[_0x4f6de4['path']]]});}const _0x5f1bf0=[],_0x530e30=[],_0x36a937=[];for(const _0x52fff1 in _0xe40fe1)_0x5f1bf0['push'](_0xe40fe1[_0x52fff1]),_0xe40fe1[_0x52fff1]=_0x5f1bf0['length']-(-0x1948+-0x20fc+0x3a45*0x1);for(const _0x4743ec in _0x45fed8)_0x530e30['push'](_0x45fed8[_0x4743ec]),_0x45fed8[_0x4743ec]=_0x530e30['length']-(-0xec5+0xdee+-0x8*-0x1b);for(const _0x2d64c0 in _0x219a62){const _0x1d0a71=_0x219a62[_0x2d64c0];_0x1d0a71['morphCurve']||(_0x36a937['push'](new v0(_0x1d0a71['paths'],_0xe40fe1[_0x1d0a71['input']],_0x45fed8[_0x1d0a71['output']],_0x1d0a71['interpolat'+'ion'])),_0x1d0a71['paths']['length']>-0x3*-0x781+0x133f+0x1*-0x29c2&&_0x1d0a71['paths'][-0x415+-0x376*0x4+0x1*0x11ed]['propertyPa'+'th'][-0xcd4+0xb23+0x1*0x1b1]==='localRotat'+'ion'&&_0x1d0a71['interpolat'+'ion']!==yu&&_0x1db5b4['push'](_0x36a937[_0x36a937['length']-(0x96f+0x2*-0x4e1+0x54)]['output']));}_0x1db5b4['sort']();let _0x51a579=null,_0x3cd042;for(_0x232ebc=-0x11f5+-0x5ea*0x1+0x17df;_0x232ebc<_0x1db5b4['length'];++_0x232ebc){const _0x54a036=_0x1db5b4[_0x232ebc];if(_0x232ebc===-0xc*-0x2e5+-0x735+-0x1b87||_0x54a036!==_0x51a579){if(_0x3cd042=_0x530e30[_0x54a036],_0x3cd042['components']===-0x2321+0x7ef*-0x1+0x2b14){const _0xc5882c=_0x3cd042['data'],_0x33dc69=_0xc5882c['length']-(-0x7*-0x1+-0x919+0x1*0x916);for(let _0x168cf6=0x1*-0xa03+-0x9f*0x15+0x170e;_0x168cf6<_0x33dc69;_0x168cf6+=-0x5*-0x71+0xa65+-0xc96)_0xc5882c[_0x168cf6+(0x1f41+-0xa6f+0x1a*-0xcd)]*_0xc5882c[_0x168cf6+(0xc*0x2b1+0x88*0x49+-0x17b*0x30)]+_0xc5882c[_0x168cf6+(0x143d+0x5c3+-0x19ff)]*_0xc5882c[_0x168cf6+(-0x12cd+-0x472*0x2+0x1bb6)]+_0xc5882c[_0x168cf6+(-0x7a8+-0x19de*-0x1+-0x14*0xe9)]*_0xc5882c[_0x168cf6+(-0x76*0x20+-0x19a2+0x2868)]+_0xc5882c[_0x168cf6+(0x1104+0x1249+-0x234a)]*_0xc5882c[_0x168cf6+(-0x21*0x81+-0x4*-0x3bb+-0xc*-0x25)]<-0x6*-0x4a9+-0x989*-0x1+-0x257f&&(_0xc5882c[_0x168cf6+(-0x7d+-0x2*-0xddc+0x1b37*-0x1)]*=-(0x1*0x1aff+0x67*-0x13+0x27*-0x7f),_0xc5882c[_0x168cf6+(0xc60*0x3+0x3ee*-0x5+-0x1175)]*=-(-0x2c7*0xb+0x2*-0xabb+-0x1*-0x3404),_0xc5882c[_0x168cf6+(-0x206c+0xe2*0x2a+-0x4a2)]*=-(0x1a32+-0x11*0x89+-0x1118),_0xc5882c[_0x168cf6+(-0x2*0x64b+-0x9fd+-0xb4d*-0x2)]*=-(0x1*-0x2054+0x1d*-0xef+0x3b68));}_0x51a579=_0x54a036;}}let _0x22abfd=-0x6b2+0x6eb+-0x1*0x39;for(_0x232ebc=-0x13c7+0x584*-0x3+0x11*0x223;_0x232ebc<_0x5f1bf0['length'];_0x232ebc++)_0x3cd042=_0x5f1bf0[_0x232ebc]['_data'],_0x22abfd=Math['max'](_0x22abfd,_0x3cd042['length']===0x3*0x949+-0xf6b*-0x1+0x2b46*-0x1?0x1*0x18c1+0x2*0xb59+0x3*-0xfd1:_0x3cd042[_0x3cd042['length']-(-0x2*0x19c+0x158f*0x1+0x1*-0x1256)]);return new Qi(_0x4cd023['hasOwnProp'+'erty']('name')?_0x4cd023['name']:'animation_'+_0x3bcef8,_0x22abfd,_0x5f1bf0,_0x530e30,_0x36a937);},Dc=new te(),Qa=new D(),vN=(_0x5558e1,_0x5504eb,_0x393a3d)=>{const _0x5e4529=new Ie();if(_0x5558e1['hasOwnProp'+'erty']('name')&&_0x5558e1['name']['length']>-0x2361+0x241e+-0xbd?_0x5e4529['name']=_0x5558e1['name']:_0x5e4529['name']='node_'+_0x5504eb,_0x5558e1['hasOwnProp'+'erty']('matrix')&&(Dc['data']['set'](_0x5558e1['matrix']),Dc['getTransla'+'tion'](Qa),_0x5e4529['setLocalPo'+'sition'](Qa),Dc['getEulerAn'+'gles'](Qa),_0x5e4529['setLocalEu'+'lerAngles'](Qa),Dc['getScale'](Qa),_0x5e4529['setLocalSc'+'ale'](Qa)),_0x5558e1['hasOwnProp'+'erty']('rotation')){const _0x4a2f8e=_0x5558e1['rotation'];_0x5e4529['setLocalRo'+'tation'](_0x4a2f8e[0x1*0x1906+-0xa8c*0x3+-0xe*-0x79],_0x4a2f8e[-0x3*0xc2d+0x1*0x3e5+0x20a3],_0x4a2f8e[0xc35+0x8*-0x128+-0x2f3],_0x4a2f8e[0x1247*-0x1+-0x2*0xbbf+0x29c8]);}if(_0x5558e1['hasOwnProp'+'erty']('translatio'+'n')){const _0xf71379=_0x5558e1['translatio'+'n'];_0x5e4529['setLocalPo'+'sition'](_0xf71379[-0x7d5+-0x638*0x4+0x20b5],_0xf71379[0xc2+0x217f+-0x2240],_0xf71379[0xe40+0x2293+-0x30d1]);}if(_0x5558e1['hasOwnProp'+'erty']('scale')){const _0x4ad68d=_0x5558e1['scale'];_0x5e4529['setLocalSc'+'ale'](_0x4ad68d[0x166b+0x236e+-0xfb*0x3b],_0x4ad68d[0x91*-0x3d+-0x184d+0xf7*0x3d],_0x4ad68d[0x1*-0x9d5+0x1a*-0x4d+-0x11a9*-0x1]);}return _0x5558e1['hasOwnProp'+'erty']('extensions')&&_0x5558e1['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x393a3d['set'](_0x5558e1,{'ext':_0x5558e1['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x5e4529;},xN=(_0x2fd1f3,_0x519dc8)=>{const _0x40df41=_0x2fd1f3['type']==='orthograph'+'ic'?En:ni,_0x4e0242=_0x40df41===En?_0x2fd1f3['orthograph'+'ic']:_0x2fd1f3['perspectiv'+'e'],_0x239179={'enabled':!(-0x7d*0x1f+-0xb9*-0x1+0xe6b),'projection':_0x40df41,'nearClip':_0x4e0242['znear'],'aspectRatioMode':hm};_0x4e0242['zfar']&&(_0x239179['farClip']=_0x4e0242['zfar']),_0x40df41===En?(_0x239179['orthoHeigh'+'t']=(-0x35d+0x8f4+-0x597+0.5)*_0x4e0242['ymag'],_0x4e0242['ymag']&&(_0x239179['aspectRati'+'oMode']=lu,_0x239179['aspectRati'+'o']=_0x4e0242['xmag']/_0x4e0242['ymag'])):(_0x239179['fov']=_0x4e0242['yfov']*Y['RAD_TO_DEG'],_0x4e0242['aspectRati'+'o']&&(_0x239179['aspectRati'+'oMode']=lu,_0x239179['aspectRati'+'o']=_0x4e0242['aspectRati'+'o']));const _0x4dcf84=new lt(_0x2fd1f3['name']);return _0x4dcf84['addCompone'+'nt']('camera',_0x239179),_0x4dcf84;},TN=(_0x3b27a7,_0x2a843e)=>{const _0x3ed80e={'enabled':!(-0x50a*-0x2+-0x3*0x187+-0x57e),'type':_0x3b27a7['type']==='point'?'omni':_0x3b27a7['type'],'color':_0x3b27a7['hasOwnProp'+'erty']('color')?new ie(_0x3b27a7['color']):ie['WHITE'],'range':_0x3b27a7['hasOwnProp'+'erty']('range')?_0x3b27a7['range']:0x1*0x2302+-0x91*0x83+0x4e40,'falloffMode':ev,'intensity':_0x3b27a7['hasOwnProp'+'erty']('intensity')?Y['clamp'](_0x3b27a7['intensity'],-0x1bae+0x1e41+-0x293,-0x3*-0x13c+0x19c8+-0x1d7a):0x3be+-0x247f+0x20c2};_0x3b27a7['hasOwnProp'+'erty']('spot')&&(_0x3ed80e['innerConeA'+'ngle']=_0x3b27a7['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x3b27a7['spot']['innerConeA'+'ngle']*Y['RAD_TO_DEG']:0xac1*0x1+0x1*-0x772+-0x34f,_0x3ed80e['outerConeA'+'ngle']=_0x3b27a7['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x3b27a7['spot']['outerConeA'+'ngle']*Y['RAD_TO_DEG']:Math['PI']/(-0x180d+-0x75b+-0x1*-0x1f6c)),_0x3b27a7['hasOwnProp'+'erty']('intensity')&&(_0x3ed80e['luminance']=_0x3b27a7['intensity']*pl['getLightUn'+'itConversi'+'on'](fu[_0x3ed80e['type']],_0x3ed80e['outerConeA'+'ngle'],_0x3ed80e['innerConeA'+'ngle']));const _0x1f6386=new lt(_0x2a843e['name']);return _0x1f6386['rotateLoca'+'l'](0x1*0x1aff+-0x2bd*0xb+0x37a,0x1*-0xf0b+0x7f*-0xf+-0x59f*-0x4,0x8*-0x2b8+0xd5a+-0x2b*-0x32),_0x1f6386['addCompone'+'nt']('light',_0x3ed80e),_0x1f6386;},wN=(_0x22a33b,_0x2230a8,_0x363f23,_0x172077)=>{if(!_0x2230a8['hasOwnProp'+'erty']('skins')||_0x2230a8['skins']['length']===-0x1ee2+0x212b+-0x27*0xf)return[];const _0x3b838b=new Map();return _0x2230a8['skins']['map'](_0x8b26f0=>rN(_0x22a33b,_0x8b26f0,_0x2230a8['accessors'],_0x172077,_0x363f23,_0x3b838b));},EN=(_0x114512,_0x11f2bf,_0x4cc64d,_0x2561a6)=>{var _0x460775,_0x1e8def,_0x5b61f1;const _0x1f4ce1={},_0x4ec379={},_0x505515={},_0x138e5c=[];return{'meshes':!_0x2561a6['skipMeshes']&&((_0x460775=_0x11f2bf==null?void(-0x1c58+0x1168+0xaf0*0x1):_0x11f2bf['meshes'])==null?void(0xf6f+-0x1f+-0xf50):_0x460775['length'])&&((_0x1e8def=_0x11f2bf==null?void(0xc87*0x2+-0x1aa3+-0x3*-0x87):_0x11f2bf['accessors'])==null?void(0x252+-0x2*0xcca+-0xd*-0x1ca):_0x1e8def['length'])&&((_0x5b61f1=_0x11f2bf==null?void(-0x83*-0x13+-0x4cf*-0x7+-0x4d2*0x9):_0x11f2bf['bufferView'+'s'])==null?void(-0x22b*-0x12+0x4c*0x4+0x2836*-0x1):_0x5b61f1['length'])?_0x11f2bf['meshes']['map'](_0x50379b=>nN(_0x114512,_0x50379b,_0x11f2bf['accessors'],_0x4cc64d,_0x1f4ce1,_0x4ec379,_0x505515,_0x2561a6,_0x138e5c)):[],'meshVariants':_0x4ec379,'meshDefaultMaterials':_0x505515,'promises':_0x138e5c};},bN=(_0x1e811e,_0x33b4cc,_0x657ca2)=>{var _0xe182a1,_0x46e866,_0x2b3b5a;if(!_0x1e811e['hasOwnProp'+'erty']('materials')||_0x1e811e['materials']['length']===0x5e*0x1+-0x1bcc+0x1b6e)return[];const _0x3e532b=(_0xe182a1=_0x657ca2==null?void(0x1*0x84b+-0x1022+-0x7d7*-0x1):_0x657ca2['material'])==null?void(0x2424+0x68a+-0x12*0x25f):_0xe182a1['preprocess'],_0x7fd075=((_0x46e866=_0x657ca2==null?void(-0x1def+0x1*-0xa47+0x2836):_0x657ca2['material'])==null?void(0xdb0+0x115e+-0x1f0e):_0x46e866['process'])??w0,_0x40750c=(_0x2b3b5a=_0x657ca2==null?void(0x1*-0x1393+0x900+0xa93):_0x657ca2['material'])==null?void(0xc7f*0x1+-0x1*0x7a5+0x4da*-0x1):_0x2b3b5a['postproces'+'s'];return _0x1e811e['materials']['map'](_0x1d48cf=>{_0x3e532b&&_0x3e532b(_0x1d48cf);const _0x57a6a8=_0x7fd075(_0x1d48cf,_0x33b4cc);return _0x40750c&&_0x40750c(_0x1d48cf,_0x57a6a8),_0x57a6a8;});},AN=_0x3263c4=>{if(!_0x3263c4['hasOwnProp'+'erty']('extensions')||!_0x3263c4['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x1e718a=_0x3263c4['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0xe711ef={};for(let _0x24e650=0x1*-0x593+-0x1*0x1ba7+0x213a;_0x24e650<_0x1e718a['length'];_0x24e650++)_0xe711ef[_0x1e718a[_0x24e650]['name']]=_0x24e650;return _0xe711ef;},CN=(_0x118e1a,_0x24b794,_0x39fbe8,_0x55ee3)=>{var _0x4de3ab,_0x536e10;if(!_0x118e1a['hasOwnProp'+'erty']('animations')||_0x118e1a['animations']['length']===0x1*0x482+-0xd30+0x65*0x16)return[];const _0x22a232=(_0x4de3ab=_0x55ee3==null?void(0xe59*0x2+-0x10e*0xf+-0xce0):_0x55ee3['animation'])==null?void(0x2*-0x313+0x1391+-0xd6b):_0x4de3ab['preprocess'],_0x3f4a30=(_0x536e10=_0x55ee3==null?void(0x1198*-0x1+0x1990+-0x7f8):_0x55ee3['animation'])==null?void(0xec9*0x1+0x12ca+0x23d*-0xf):_0x536e10['postproces'+'s'];return _0x118e1a['animations']['map']((_0x57b460,_0x8d5392)=>{_0x22a232&&_0x22a232(_0x57b460);const _0x3db080=yN(_0x57b460,_0x8d5392,_0x118e1a['accessors'],_0x39fbe8,_0x24b794,_0x118e1a['meshes'],_0x118e1a['nodes']);return _0x3f4a30&&_0x3f4a30(_0x57b460,_0x3db080),_0x3db080;});},PN=(_0x501948,_0x396eee,_0x58c3de,_0x40d7f7)=>{const _0x4e13f0=_0x396eee['accessors'];_0x58c3de['forEach']((_0x2aae92,_0x3deebf)=>{const _0x32fda8=_0x2aae92['ext']['attributes'];let _0xc43fb1;if(_0x32fda8['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x1aeaff=_0x4e13f0[_0x32fda8['TRANSLATIO'+'N']];_0xc43fb1=Pn(_0x1aeaff,_0x40d7f7);}let _0x16fedd;if(_0x32fda8['hasOwnProp'+'erty']('ROTATION')){const _0x4ff225=_0x4e13f0[_0x32fda8['ROTATION']];_0x16fedd=Pn(_0x4ff225,_0x40d7f7);}let _0x4fae47;if(_0x32fda8['hasOwnProp'+'erty']('SCALE')){const _0x404cd0=_0x4e13f0[_0x32fda8['SCALE']];_0x4fae47=Pn(_0x404cd0,_0x40d7f7);}const _0x6fd059=(_0xc43fb1?_0xc43fb1['length']/(0x1bb*0x7+-0x19b7*0x1+0xd9d):0x1733+-0x48*0x7c+-0x7*-0x1ab)||(_0x16fedd?_0x16fedd['length']/(0xd3e+-0x3*-0x87+-0xecf*0x1):-0xe2+-0x379+0x45b)||(_0x4fae47?_0x4fae47['length']/(-0x64b+0x119b*-0x2+-0x2*-0x14c2):-0x2f*0x53+-0x1cd9+0x2c16);if(_0x6fd059){const _0x5d4331=new Float32Array(_0x6fd059*(-0x9f*0x33+-0x1f21*0x1+0x3ede*0x1)),_0x12c48f=new D(),_0x13b4c1=new le(),_0x38afd2=new D(0x3d*0x3+-0x1846+-0x1a*-0xe8,0x12c2+0xb2b*-0x2+0x7*0x83,-0x5*-0x392+-0x1669+-0x248*-0x2),_0x46c352=new te();let _0x538da5=-0x14ad*0x1+0x2263+-0x1b*0x82;for(let _0x3e6445=-0x1*0xabb+0x2*-0x239+0xf2d;_0x3e6445<_0x6fd059;_0x3e6445++){const _0x1110c3=_0x3e6445*(0x1*-0x8f5+-0x223b+-0x1*-0x2b33);if(_0xc43fb1&&_0x12c48f['set'](_0xc43fb1[_0x1110c3],_0xc43fb1[_0x1110c3+(0x266c+-0x151*0x3+-0x1*0x2278)],_0xc43fb1[_0x1110c3+(-0x33d*-0xb+0x13d3+0x1*-0x3770)]),_0x16fedd){const _0x5686de=_0x3e6445*(-0x2eb*0x1+0x111e+-0xe2f);_0x13b4c1['set'](_0x16fedd[_0x5686de],_0x16fedd[_0x5686de+(0x454*-0x3+-0x884+-0xf*-0x16f)],_0x16fedd[_0x5686de+(-0x21fb+0x18e2+-0x1*-0x91b)],_0x16fedd[_0x5686de+(-0xe25+-0x267f+0x34a7)]);}_0x4fae47&&_0x38afd2['set'](_0x4fae47[_0x1110c3],_0x4fae47[_0x1110c3+(-0xacb+-0x3*-0x2a+-0x527*-0x2)],_0x4fae47[_0x1110c3+(0x21a5+0xbd2*-0x1+-0x15d1*0x1)]),_0x46c352['setTRS'](_0x12c48f,_0x13b4c1,_0x38afd2);for(let _0x539751=-0x9ab+0x156c+-0xbc1;_0x539751<-0x125*0x17+-0x4*-0x6aa+-0x45;_0x539751++)_0x5d4331[_0x538da5++]=_0x46c352['data'][_0x539751];}_0x2aae92['matrices']=_0x5d4331;}});},MN=(_0x441bd0,_0x5831e9,_0x294a89)=>{var _0x944e85,_0x530d0b,_0x570738;if(!_0x441bd0['hasOwnProp'+'erty']('nodes')||_0x441bd0['nodes']['length']===0x1*0x1369+-0xa6a+-0x8ff)return[];const _0xc3208e=(_0x944e85=_0x5831e9==null?void(0x17bf*0x1+0xa86*-0x2+-0x2b3):_0x5831e9['node'])==null?void(-0x1e27+0x55*0x64+-0x30d):_0x944e85['preprocess'],_0x2c9099=((_0x530d0b=_0x5831e9==null?void(-0x6*-0x2c8+-0x1d41+-0xc91*-0x1):_0x5831e9['node'])==null?void(-0x6*-0x589+-0x81e*0x1+-0x1918):_0x530d0b['process'])??vN,_0x48b9d7=(_0x570738=_0x5831e9==null?void(-0x6a+0x4a1+-0x437):_0x5831e9['node'])==null?void(-0x12f+0x4a2+0x373*-0x1):_0x570738['postproces'+'s'],_0x2b3e8f=_0x441bd0['nodes']['map']((_0x41a24c,_0x4e1240)=>{_0xc3208e&&_0xc3208e(_0x41a24c);const _0x5e5a77=_0x2c9099(_0x41a24c,_0x4e1240,_0x294a89);return _0x48b9d7&&_0x48b9d7(_0x41a24c,_0x5e5a77),_0x5e5a77;});for(let _0x4256f5=-0xb01*-0x2+0xe*-0xd5+-0xa5c;_0x4256f5<_0x441bd0['nodes']['length'];++_0x4256f5){const _0x5c4bc1=_0x441bd0['nodes'][_0x4256f5];if(_0x5c4bc1['hasOwnProp'+'erty']('children')){const _0xa1daea=_0x2b3e8f[_0x4256f5],_0x454754={};for(let _0x460b9d=0x2ff+0x1*-0xc95+0x996;_0x460b9d<_0x5c4bc1['children']['length'];++_0x460b9d){const _0x3a927f=_0x2b3e8f[_0x5c4bc1['children'][_0x460b9d]];_0x3a927f['parent']||(_0x454754['hasOwnProp'+'erty'](_0x3a927f['name'])?_0x3a927f['name']+=_0x454754[_0x3a927f['name']]++:_0x454754[_0x3a927f['name']]=-0x1e76*-0x1+-0x267d+0x808,_0xa1daea['addChild'](_0x3a927f));}}}return _0x2b3e8f;},DN=(_0xa90661,_0x5ef780)=>{var _0xb4e81e;const _0xb2b660=[],_0x438c02=_0xa90661['scenes']['length'];if(_0x438c02===0x1*-0x25d9+-0x1*0x180f+-0x3*-0x14a3&&((_0xb4e81e=_0xa90661['scenes'][-0xf23+0x1*0x1b01+-0x5ef*0x2]['nodes'])==null?void(0xc62*0x2+-0x2*-0x3f5+0x1*-0x20ae):_0xb4e81e['length'])===0x79+0x6a8+0x130*-0x6){const _0x4f62af=_0xa90661['scenes'][-0x1f2a+-0x1*-0x27b+0x1caf]['nodes'][0x2*0x549+-0xd*-0xc1+-0x413*0x5];_0xb2b660['push'](_0x5ef780[_0x4f62af]);}else for(let _0x223e9f=-0x245e+0xa54*0x3+0x562;_0x223e9f<_0x438c02;_0x223e9f++){const _0x4e5be1=_0xa90661['scenes'][_0x223e9f];if(_0x4e5be1['nodes']){const _0x5c9a8c=new Ie(_0x4e5be1['name']);for(let _0x4c02de=0x81d+-0x1cd1*-0x1+-0x24ee;_0x4c02de<_0x4e5be1['nodes']['length'];_0x4c02de++){const _0xfef3b2=_0x5ef780[_0x4e5be1['nodes'][_0x4c02de]];_0x5c9a8c['addChild'](_0xfef3b2);}_0xb2b660['push'](_0x5c9a8c);}}return _0xb2b660;},IN=(_0x385cab,_0x386398,_0x4cef71)=>{var _0x16b1cd,_0x3db372,_0x57eaa2;let _0x100984=null;if(_0x385cab['hasOwnProp'+'erty']('nodes')&&_0x385cab['hasOwnProp'+'erty']('cameras')&&_0x385cab['cameras']['length']>-0x1*-0x281+0x14c+-0x8b*0x7){const _0x1165f2=(_0x16b1cd=_0x4cef71==null?void(-0x12d3+-0x703+0x19d6):_0x4cef71['camera'])==null?void(-0x1*-0x24b5+-0x315*-0x1+0xb*-0x39e):_0x16b1cd['preprocess'],_0x1ac8df=((_0x3db372=_0x4cef71==null?void(0x3b*0x1f+0x1*0x1ed2+-0x25f7):_0x4cef71['camera'])==null?void(0xe9*-0x13+-0xb*-0x175+-0x4*-0x51):_0x3db372['process'])??xN,_0x5965e4=(_0x57eaa2=_0x4cef71==null?void(-0x1b2*-0x6+-0x1c6d+0x1241):_0x4cef71['camera'])==null?void(0x16*-0x9+0x1a1b+-0x1955):_0x57eaa2['postproces'+'s'];_0x385cab['nodes']['forEach']((_0x18e4f5,_0x2c7389)=>{if(_0x18e4f5['hasOwnProp'+'erty']('camera')){const _0x3bb9df=_0x385cab['cameras'][_0x18e4f5['camera']];if(_0x3bb9df){_0x1165f2&&_0x1165f2(_0x3bb9df);const _0x1520e5=_0x1ac8df(_0x3bb9df,_0x386398[_0x2c7389]);_0x5965e4&&_0x5965e4(_0x3bb9df,_0x1520e5),_0x1520e5&&(_0x100984||(_0x100984=new Map()),_0x100984['set'](_0x18e4f5,_0x1520e5));}}});}return _0x100984;},LN=(_0x454286,_0x33ca83,_0x1be072)=>{var _0x1db500,_0x4d37aa,_0x100a0d;let _0x34bf19=null;if(_0x454286['hasOwnProp'+'erty']('nodes')&&_0x454286['hasOwnProp'+'erty']('extensions')&&_0x454286['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x454286['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x1bd5e7=_0x454286['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x1bd5e7['length']){const _0x56bea7=(_0x1db500=_0x1be072==null?void(-0x18d1*-0x1+0x171f+-0x10*0x2ff):_0x1be072['light'])==null?void(-0x18*-0x14d+0x1c4+-0x20fc*0x1):_0x1db500['preprocess'],_0x9d09f1=((_0x4d37aa=_0x1be072==null?void(-0x1*0x38f+-0xe2d+0x38c*0x5):_0x1be072['light'])==null?void(0x21c3+0x257f+-0x4742):_0x4d37aa['process'])??TN,_0x1a4e51=(_0x100a0d=_0x1be072==null?void(-0x1c4e+0x6cc+-0x2*-0xac1):_0x1be072['light'])==null?void(0x1*0x883+0x1552+0x443*-0x7):_0x100a0d['postproces'+'s'];_0x454286['nodes']['forEach']((_0x4c5eda,_0x21ae4e)=>{if(_0x4c5eda['hasOwnProp'+'erty']('extensions')&&_0x4c5eda['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x4c5eda['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x4a3f86=_0x4c5eda['extensions']['KHR_lights'+'_punctual']['light'],_0x48ca1f=_0x1bd5e7[_0x4a3f86];if(_0x48ca1f){_0x56bea7&&_0x56bea7(_0x48ca1f);const _0x1bfbdc=_0x9d09f1(_0x48ca1f,_0x33ca83[_0x21ae4e]);_0x1a4e51&&_0x1a4e51(_0x48ca1f,_0x1bfbdc),_0x1bfbdc&&(_0x34bf19||(_0x34bf19=new Map()),_0x34bf19['set'](_0x4c5eda,_0x1bfbdc));}}});}}return _0x34bf19;},RN=(_0x9bb2b6,_0x23be24,_0x49b0a9)=>{_0x9bb2b6['nodes']['forEach'](_0xa1e386=>{_0xa1e386['hasOwnProp'+'erty']('mesh')&&_0xa1e386['hasOwnProp'+'erty']('skin')&&_0x23be24[_0xa1e386['mesh']]['meshes']['forEach'](_0x3c3f63=>{_0x3c3f63['skin']=_0x49b0a9[_0xa1e386['skin']];});});},ON=async(_0x37595d,_0x2687cc,_0x29db5c,_0x19e7a1,_0x2a8a92)=>{var _0x2cfba1,_0x45be90;const _0x5e0e0d=(_0x2cfba1=_0x2a8a92==null?void(-0x1885+-0x25*-0x10d+0xe5c*-0x1):_0x2a8a92['global'])==null?void(-0x927+-0x477+0xd9e):_0x2cfba1['preprocess'],_0x3b56e6=(_0x45be90=_0x2a8a92==null?void(0x4de+-0xd13*0x1+-0x835*-0x1):_0x2a8a92['global'])==null?void(-0x8*0x18e+-0x1*-0xfbe+-0x34e):_0x45be90['postproces'+'s'];_0x5e0e0d&&_0x5e0e0d(_0x2687cc),_0x2687cc['asset']&&_0x2687cc['asset']['generator']==='PlayCanvas'&&w['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x137242=new Map(),_0x1f305c=MN(_0x2687cc,_0x2a8a92,_0x137242),_0x412cfd=DN(_0x2687cc,_0x1f305c),_0x357270=LN(_0x2687cc,_0x1f305c,_0x2a8a92),_0x3fcfe9=IN(_0x2687cc,_0x1f305c,_0x2a8a92),_0x40fd3b=AN(_0x2687cc),_0x4f1e36=await Promise['all'](_0x29db5c),{meshes:_0x57d504,meshVariants:_0x2f7deb,meshDefaultMaterials:_0x2069bb,promises:_0x57751e}=EN(_0x37595d,_0x2687cc,_0x4f1e36,_0x2a8a92),_0x3287ff=CN(_0x2687cc,_0x1f305c,_0x4f1e36,_0x2a8a92);PN(_0x37595d,_0x2687cc,_0x137242,_0x4f1e36);const _0x4c2d9b=await Promise['all'](_0x19e7a1),_0x588aea=_0x4c2d9b['map'](_0xa4680d=>_0xa4680d['resource']),_0x4bf51c=bN(_0x2687cc,_0x588aea,_0x2a8a92),_0x4aecac=wN(_0x37595d,_0x2687cc,_0x1f305c,_0x4f1e36),_0x468592=[];for(let _0x35ecef=0x11*-0x16+0x27f*0xb+-0x79*0x37;_0x35ecef<_0x57d504['length'];_0x35ecef++)_0x468592[_0x35ecef]=new Em(),_0x468592[_0x35ecef]['meshes']=_0x57d504[_0x35ecef];RN(_0x2687cc,_0x468592,_0x4aecac);const _0x3a65f2=new qF();return _0x3a65f2['gltf']=_0x2687cc,_0x3a65f2['nodes']=_0x1f305c,_0x3a65f2['scenes']=_0x412cfd,_0x3a65f2['animations']=_0x3287ff,_0x3a65f2['textures']=_0x4c2d9b,_0x3a65f2['materials']=_0x4bf51c,_0x3a65f2['variants']=_0x40fd3b,_0x3a65f2['meshVarian'+'ts']=_0x2f7deb,_0x3a65f2['meshDefaul'+'tMaterials']=_0x2069bb,_0x3a65f2['renders']=_0x468592,_0x3a65f2['skins']=_0x4aecac,_0x3a65f2['lights']=_0x357270,_0x3a65f2['cameras']=_0x3fcfe9,_0x3a65f2['nodeInstan'+'cingMap']=_0x137242,_0x3b56e6&&_0x3b56e6(_0x2687cc,_0x3a65f2),await Promise['all'](_0x57751e),_0x3a65f2;},FN=(_0x2a01de,_0xa5263b)=>{const _0x5e4f26=(_0x2f4528,_0x18bcc2)=>{switch(_0x2f4528){case 0x23c7+-0x1db9+0x1ff2:return Te;case 0x4acd+-0x3fda+-0x1*-0x1b0e:return vt;case 0x559*0x1+0x1c4c+0x1*0x55b:return Kh;case 0x3fa3+-0x3147+-0x2bd*-0x9:return Qh;case 0x30d3+-0x5*0xe1+0x15b*-0x4:return Zh;case-0xcf9*0x3+-0x3c44+0x8a32:return ma;default:return _0x18bcc2;}},_0xfa0a84=(_0x29bb51,_0x3fdcd5)=>{switch(_0x29bb51){case 0xf8a1*-0x1+0x47d3+0x131fd:return ue;case 0xcb4*-0x10+0xfc5f+-0x5251*-0x1:return ip;case 0x2*-0x805+-0x2cc3+0x65ce:return yt;default:return _0x3fdcd5;}};_0x2a01de&&(_0xa5263b=_0xa5263b??{},_0x2a01de['minFilter']=_0x5e4f26(_0xa5263b['minFilter'],ma),_0x2a01de['magFilter']=_0x5e4f26(_0xa5263b['magFilter'],vt),_0x2a01de['addressU']=_0xfa0a84(_0xa5263b['wrapS'],yt),_0x2a01de['addressV']=_0xfa0a84(_0xa5263b['wrapT'],yt));};let NN=-0x1c7d+0x254+0x25*0xb5;const nn=_0x36d160=>{var _0x57a0cc,_0x28d5c3,_0x37f1a5,_0x187d12;return((_0x28d5c3=(_0x57a0cc=_0x36d160['extensions'])==null?void(0x18f9+0x37*-0x6b+-0x1fc*0x1):_0x57a0cc['KHR_textur'+'e_basisu'])==null?void(-0xf*-0xec+-0xe*0x20d+0xee2):_0x28d5c3['source'])??((_0x187d12=(_0x37f1a5=_0x36d160['extensions'])==null?void(-0x4eb*0x7+-0x1f*0x35+0x28d8):_0x37f1a5['EXT_textur'+'e_webp'])==null?void(0x2be*-0x1+0x1*0xaa2+-0x7e4):_0x187d12['source'])??_0x36d160['source'];},kN=(_0x4abf71,_0x2531b0,_0x4bab63,_0xcda1cf,_0x8e4a0c)=>{var _0x6031dd,_0x4365af,_0x217f90;if(!_0x4abf71['images']||_0x4abf71['images']['length']===-0x5f*0x1a+0x24b0+0xd85*-0x2)return[];const _0x5cee09=(_0x6031dd=_0x8e4a0c==null?void(-0x762*0x3+0x2d5*0xb+-0x5*0x1cd):_0x8e4a0c['image'])==null?void(-0x58c+-0x2376+0x1481*0x2):_0x6031dd['preprocess'],_0x1f3788=(_0x4365af=_0x8e4a0c==null?void(0x157*-0x7+-0x33*-0x29+0x136):_0x8e4a0c['image'])==null?void(0x88*-0x4+-0x31*0x41+0xe91):_0x4365af['processAsy'+'nc'],_0x33e4e0=(_0x217f90=_0x8e4a0c==null?void(-0xc48+-0x8ae*-0x3+-0xdc2):_0x8e4a0c['image'])==null?void(-0x346+-0x1*0x4f7+-0x6f*-0x13):_0x217f90['postproces'+'s'],_0x12810a={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x473f16=_0x9fde82=>{const _0x31e41e=new Set();return _0x9fde82['hasOwnProp'+'erty']('materials')&&_0x9fde82['materials']['forEach'](_0x1c9412=>{if(_0x1c9412['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x5566ab=_0x1c9412['pbrMetalli'+'cRoughness'];if(_0x5566ab['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x14f11c=_0x9fde82['textures'][_0x5566ab['baseColorT'+'exture']['index']];_0x31e41e['add'](nn(_0x14f11c));}}if(_0x1c9412['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0xc2ca7b=_0x9fde82['textures'][_0x1c9412['emissiveTe'+'xture']['index']];_0x31e41e['add'](nn(_0xc2ca7b));}if(_0x1c9412['hasOwnProp'+'erty']('extensions')){const _0x22421e=_0x1c9412['extensions']['KHR_materi'+'als_sheen'];if(_0x22421e&&_0x22421e['hasOwnProp'+'erty']('sheenColor'+'Texture')){const _0x33e47e=_0x9fde82['textures'][_0x22421e['sheenColor'+'Texture']['index']];_0x31e41e['add'](nn(_0x33e47e));}const _0x2903e7=_0x1c9412['extensions']['KHR_materi'+'als_pbrSpe'+'cularGloss'+'iness'];if(_0x2903e7&&_0x2903e7['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x17f4ba=_0x9fde82['textures'][_0x2903e7['specularGl'+'ossinessTe'+'xture']['index']];_0x31e41e['add'](nn(_0x17f4ba));}const _0xcf25a9=_0x1c9412['extensions']['KHR_materi'+'als_specul'+'ar'];if(_0xcf25a9&&_0xcf25a9['hasOwnProp'+'erty']('specularCo'+'lorTexture')){const _0x3a0f3c=_0x9fde82['textures'][_0xcf25a9['specularCo'+'lorTexture']['index']];_0x31e41e['add'](nn(_0x3a0f3c));}}}),_0x31e41e;},_0x5a57c4=(_0x57c68e,_0x16f0db,_0x3aca17,_0x23a873,_0x3138b5,_0x3b1e5c)=>new Promise((_0x13e09b,_0x1e9dff)=>{const _0x4d7151=_0xcc2dc4=>{const _0x410545=(_0x57c68e['name']||'gltf-textu'+'re')+'-'+NN++,_0xcd56a2={'url':_0x16f0db||_0x410545};if(_0xcc2dc4&&(_0xcd56a2['contents']=_0xcc2dc4['slice'](-0x1adf+-0x13ad+0x2e8c)['buffer']),_0x23a873){const _0x34f702=_0x12810a[_0x23a873];_0x34f702&&(_0xcd56a2['filename']=_0xcd56a2['url']+'.'+_0x34f702);}const _0x3674c1={'srgb':_0x3b1e5c},_0x347e53=new pe(_0x410545,'texture',_0xcd56a2,_0x3674c1,_0x3138b5);_0x347e53['on']('load',_0x3f8c68=>_0x13e09b(_0x3f8c68)),_0x347e53['on']('error',_0x567506=>_0x1e9dff(_0x567506)),_0xcda1cf['add'](_0x347e53),_0xcda1cf['load'](_0x347e53);};_0x3aca17?_0x3aca17['then'](_0x393a08=>_0x4d7151(_0x393a08)):_0x4d7151(null);}),_0x26214c=_0x473f16(_0x4abf71);return _0x4abf71['images']['map']((_0x20da68,_0x1b16c0)=>{_0x5cee09&&_0x5cee09(_0x20da68);let _0x1be6a6;return _0x1f3788?_0x1be6a6=new Promise((_0x26c6f2,_0x1648d3)=>{_0x1f3788(_0x20da68,(_0xef6156,_0x44b3ed)=>{_0xef6156?_0x1648d3(_0xef6156):_0x26c6f2(_0x44b3ed);});}):_0x1be6a6=new Promise(_0x22b3ae=>{_0x22b3ae(null);}),_0x1be6a6=_0x1be6a6['then'](_0x4f67fc=>{const _0x26ac89=_0x26214c['has'](_0x1b16c0);return _0x4f67fc||(_0x20da68['hasOwnProp'+'erty']('uri')?x0(_0x20da68['uri'])?_0x5a57c4(_0x20da68,_0x20da68['uri'],null,jF(_0x20da68['uri']),null,_0x26ac89):_0x5a57c4(_0x20da68,jn['test'](_0x20da68['uri'])?_0x20da68['uri']:xe['join'](_0x4bab63,_0x20da68['uri']),null,null,{'crossOrigin':'anonymous'},_0x26ac89):_0x20da68['hasOwnProp'+'erty']('bufferView')&&_0x20da68['hasOwnProp'+'erty']('mimeType')?_0x5a57c4(_0x20da68,null,_0x2531b0[_0x20da68['bufferView']],_0x20da68['mimeType'],null,_0x26ac89):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x1b16c0)));}),_0x33e4e0&&(_0x1be6a6=_0x1be6a6['then'](_0x159d00=>(_0x33e4e0(_0x20da68,_0x159d00),_0x159d00))),_0x1be6a6;});},UN=(_0x3de440,_0xf5f0ea,_0x5ae22f)=>{var _0x562484,_0x1fa973,_0x4e773f,_0x2a1980,_0x1feed6;if(!((_0x562484=_0x3de440==null?void(0x1d0b*-0x1+0x1dcb*-0x1+-0x2*-0x1d6b):_0x3de440['images'])!=null&&_0x562484['length'])||!((_0x1fa973=_0x3de440==null?void(0x896+0x1465*-0x1+0x1*0xbcf):_0x3de440['textures'])!=null&&_0x1fa973['length']))return[];const _0x5b8fb2=(_0x4e773f=_0x5ae22f==null?void(-0x129f+0x1e3d+0x1*-0xb9e):_0x5ae22f['texture'])==null?void(-0x1a97+0x26f1*0x1+0x33*-0x3e):_0x4e773f['preprocess'],_0x4ff161=(_0x2a1980=_0x5ae22f==null?void(-0x1427+0xb57+0x8d0):_0x5ae22f['texture'])==null?void(-0xf9c+0x18*0x1a+0xd2c):_0x2a1980['processAsy'+'nc'],_0x121ff6=(_0x1feed6=_0x5ae22f==null?void(-0x2a8*0x5+-0x1*-0x535+0x813):_0x5ae22f['texture'])==null?void(-0xba1*0x3+-0x39b+0x267e):_0x1feed6['postproces'+'s'],_0x22979b=new Set();return _0x3de440['textures']['map'](_0x35e83c=>{_0x5b8fb2&&_0x5b8fb2(_0x35e83c);let _0x5ea459;return _0x4ff161?_0x5ea459=new Promise((_0x524304,_0x5940fb)=>{_0x4ff161(_0x35e83c,_0x3de440['images'],(_0x18de39,_0xc4212d)=>{_0x18de39?_0x5940fb(_0x18de39):_0x524304(_0xc4212d);});}):_0x5ea459=new Promise(_0x368921=>{_0x368921(null);}),_0x5ea459=_0x5ea459['then'](_0x16b94a=>{_0x16b94a=_0x16b94a??nn(_0x35e83c);const _0x2fca76=_0x22979b['has'](_0x16b94a);return _0x22979b['add'](_0x16b94a),_0xf5f0ea[_0x16b94a]['then'](_0x2d26ac=>{const _0x1a0542=_0x2fca76?tN(_0x2d26ac):_0x2d26ac;return FN(_0x1a0542['resource'],(_0x3de440['samplers']??[])[_0x35e83c['sampler']]),_0x1a0542;});}),_0x121ff6&&(_0x5ea459=_0x5ea459['then'](_0x3f83a4=>(_0x121ff6(_0x35e83c,_0x3f83a4),_0x3f83a4))),_0x5ea459;});},BN=(_0x1619e8,_0x10d913,_0x315165,_0x2fa4b6)=>{var _0x578682,_0x294142,_0x53a3a1;if(!_0x1619e8['buffers']||_0x1619e8['buffers']['length']===0x1e29+-0x1393*-0x1+0x18de*-0x2)return[];const _0x379003=(_0x578682=_0x2fa4b6==null?void(0x79*0x3f+-0x22ae+0x4e7):_0x2fa4b6['buffer'])==null?void(0x1275+0x1af9+-0x2d6e):_0x578682['preprocess'],_0xc608c6=(_0x294142=_0x2fa4b6==null?void(-0xc2a+0x45*-0x9+0xe97):_0x2fa4b6['buffer'])==null?void(-0x1132+0x22*-0x3b+0x1908):_0x294142['processAsy'+'nc'],_0x2af393=(_0x53a3a1=_0x2fa4b6==null?void(-0xb61*0x3+-0x16e2+0x3905):_0x2fa4b6['buffer'])==null?void(-0x983+-0x196f+-0x8e*-0x3f):_0x53a3a1['postproces'+'s'];return _0x1619e8['buffers']['map']((_0x4fecea,_0x360ffe)=>{_0x379003&&_0x379003(_0x4fecea);let _0x4bf763;return _0xc608c6?_0x4bf763=new Promise((_0x2f5346,_0x308555)=>{_0xc608c6(_0x4fecea,(_0x3dcfba,_0x291e01)=>{_0x3dcfba?_0x308555(_0x3dcfba):_0x2f5346(_0x291e01);});}):_0x4bf763=new Promise(_0x10df68=>{_0x10df68(null);}),_0x4bf763=_0x4bf763['then'](_0x4918ce=>{if(_0x4918ce)return _0x4918ce;if(_0x4fecea['hasOwnProp'+'erty']('uri')){if(x0(_0x4fecea['uri'])){const _0x5e2065=atob(_0x4fecea['uri']['split'](',')[-0x7f1*0x1+0xb5e+-0x36c]),_0x491887=new Uint8Array(_0x5e2065['length']);for(let _0x2548f5=-0x62*-0x7+0x1720+-0x19ce;_0x2548f5<_0x5e2065['length'];_0x2548f5++)_0x491887[_0x2548f5]=_0x5e2065['charCodeAt'](_0x2548f5);return _0x491887;}return new Promise((_0x5e91a6,_0x5d6c7c)=>{ot['get'](jn['test'](_0x4fecea['uri'])?_0x4fecea['uri']:xe['join'](_0x315165,_0x4fecea['uri']),{'cache':!(-0xd81*0x1+-0x3f*0x79+0x2b48*0x1),'responseType':'arraybuffe'+'r','retry':!(-0x149*-0xd+0x1159*0x1+0x17*-0x17b)},(_0x128361,_0x57453f)=>{_0x128361?_0x5d6c7c(_0x128361):_0x5e91a6(new Uint8Array(_0x57453f));});});}return _0x10d913;}),_0x2af393&&(_0x4bf763=_0x4bf763['then'](_0x5b95a7=>(_0x2af393(_0x1619e8['buffers'][_0x360ffe],_0x5b95a7),_0x5b95a7))),_0x4bf763;});},zN=(_0x2edb03,_0x6563fb)=>{const _0x2f571c=JSON['parse']((_0x48769d=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x48769d);let _0x18004a='';for(let _0x5c4697=0xf50+-0x510+-0x2*0x520;_0x5c4697<_0x48769d['length'];_0x5c4697++)_0x18004a+=String['fromCharCo'+'de'](_0x48769d[_0x5c4697]);return decodeURIComponent(escape(_0x18004a));})(_0x2edb03));if(_0x2f571c['asset']&&_0x2f571c['asset']['version']&&parseFloat(_0x2f571c['asset']['version'])<-0x2*-0x542+0x1*0x8ed+-0x19*0xc7){_0x6563fb('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x2f571c['asset']['version']+'\x27.');return;}_0x6563fb(null,_0x2f571c);},VN=(_0x179f2b,_0x41a095)=>{const _0x591b50=_0x179f2b instanceof ArrayBuffer?new DataView(_0x179f2b):new DataView(_0x179f2b['buffer'],_0x179f2b['byteOffset'],_0x179f2b['byteLength']),_0x5ceada=_0x591b50['getUint32'](0xa0*0x6+-0x5e0+0x220,!(0x1*0x2686+-0xd*-0x13+-0x277d)),_0x35cbc0=_0x591b50['getUint32'](-0x1*-0x1145+-0x1745+-0x6e*-0xe,!(-0x1ae3+-0x163b+0x311e)),_0x42ffc8=_0x591b50['getUint32'](0xe*-0x1ae+0xdab+0x9e1,!(0xc39*0x1+0x1a*-0x152+0x161b));if(_0x5ceada!==0x1feb*-0x2276e+0x2c48d3c*-0x31+-0x1abeb*-0xa457){_0x41a095('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x5ceada['toString'](0x19f6+0x48c*0x3+-0x278a));return;}if(_0x35cbc0!==-0x8d9*-0x4+0x1d03*-0x1+-0x1*0x65f){_0x41a095('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x35cbc0);return;}if(_0x42ffc8<=-0xe8d+0x23b*-0x7+-0x11e*-0x1b||_0x42ffc8>_0x591b50['byteLength']){_0x41a095('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x42ffc8);return;}const _0x25ae36=[];let _0x5a9873=0x14f2+-0x23d5*-0x1+0x135*-0x2f;for(;_0x5a9873<_0x42ffc8;){const _0x4f115f=_0x591b50['getUint32'](_0x5a9873,!(0x1756+-0x8aa*0x2+-0x602));_0x5a9873+_0x4f115f+(0xfc3+-0xb85*-0x2+-0x26c5)>_0x591b50['byteLength']&&_0x41a095('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x4f115f);const _0x5ac05e=_0x591b50['getUint32'](_0x5a9873+(0x1a8f+-0x253f+0x224*0x5),!(-0x1a30+-0x8*0x358+0x34f0)),_0x219761=new Uint8Array(_0x591b50['buffer'],_0x591b50['byteOffset']+_0x5a9873+(-0x1914+-0x22f0+0x3c0c),_0x4f115f);_0x25ae36['push']({'length':_0x4f115f,'type':_0x5ac05e,'data':_0x219761}),_0x5a9873+=_0x4f115f+(0xf*0x14d+0x1595+-0x6d8*0x6);}if(_0x25ae36['length']!==-0xb70*0x1+0xe37*-0x2+-0xad*-0x3b&&_0x25ae36['length']!==-0x7d2+0x2589+-0x9*0x34d){_0x41a095('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x25ae36[0x24cd+0x12a*0xf+0x1df*-0x1d]['type']!==0x369c8653*0x1+-0x5f7d554e+0x1*0x77302245){_0x41a095('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x25ae36[0x0+-0x37*-0x6d+0x5*-0x4af]['type']['toString'](0x1ccd+0x19e6+-0x36a3*0x1));return;}if(_0x25ae36['length']>-0x1190*0x2+-0xe*0x8a+0x2aad&&_0x25ae36[0x4b+-0x5fb+0x1f*0x2f]['type']!==-0x7583d5*0x1+0x36a86d+-0xfc2*-0x8f5){_0x41a095('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x25ae36[-0x1c60+0x26d2*0x1+-0xa71]['type']['toString'](0x1927+-0xa2b+-0xeec));return;}_0x41a095(null,{'gltfChunk':_0x25ae36[-0x139b+-0x25dc+0x3977]['data'],'binaryChunk':_0x25ae36['length']===0x1f88+0x1c7*-0xe+-0x6a4?_0x25ae36[0x2183+-0xd85+-0x12d*0x11]['data']:null});},GN=(_0x1de389,_0x5d9500,_0x50992a)=>{const _0x3a3c72=()=>{const _0x36121e=new Uint8Array(_0x5d9500);return _0x36121e[-0x1865+-0xf05*0x1+0x276a]===-0x1bae+-0xd4*-0x29+0x5df*-0x1&&_0x36121e[-0x2696+0x3ca*-0x2+0x35*0xdf]===-0x14ae*0x1+-0x20e4+0x35fe&&_0x36121e[0x2fd+0x1e7b+0x10bb*-0x2]===0x1*0x10dd+-0x12aa*0x1+0x6d*0x5&&_0x36121e[-0x1011+0x407*-0x4+0x2030]===-0x19d*0x1+-0x2149*0x1+0x232c;};_0x1de389&&_0x1de389['toLowerCas'+'e']()['endsWith']('.glb')||_0x3a3c72()?VN(_0x5d9500,_0x50992a):_0x50992a(null,{'gltfChunk':_0x5d9500,'binaryChunk':null});},HN=(_0xbc671d,_0x4ed277,_0x33e304)=>{var _0x51a485,_0x1736ec,_0x48f641,_0x57abfd;const _0x2d3533=[],_0x31b077=(_0x51a485=_0x33e304==null?void(-0x248e+-0x2626+0x4ab4):_0x33e304['bufferView'])==null?void(-0xb53*-0x1+0x1ba1+-0x26f4):_0x51a485['preprocess'],_0x52dd2e=(_0x1736ec=_0x33e304==null?void(0x44*0x7f+-0x1*0x867+-0x1955):_0x33e304['bufferView'])==null?void(-0x942+0x6ff+0x243):_0x1736ec['processAsy'+'nc'],_0x11c652=(_0x48f641=_0x33e304==null?void(0xf91+0x1*-0x2527+0x1596):_0x33e304['bufferView'])==null?void(0x1b04+-0x1*0x1231+-0x8d3):_0x48f641['postproces'+'s'];if(!((_0x57abfd=_0xbc671d['bufferView'+'s'])!=null&&_0x57abfd['length']))return _0x2d3533;for(let _0xf801ef=0x319+-0x1523+0x120a;_0xf801ef<_0xbc671d['bufferView'+'s']['length'];++_0xf801ef){const _0x38483d=_0xbc671d['bufferView'+'s'][_0xf801ef];_0x31b077&&_0x31b077(_0x38483d);let _0x111e5b;_0x52dd2e?_0x111e5b=new Promise((_0x1ff829,_0x3f9806)=>{_0x52dd2e(_0x38483d,_0x4ed277,(_0x9a8570,_0x2861a3)=>{_0x9a8570?_0x3f9806(_0x9a8570):_0x1ff829(_0x2861a3);});}):_0x111e5b=new Promise(_0xd52e36=>{_0xd52e36(null);}),_0x111e5b=_0x111e5b['then'](_0x2b1c6b=>_0x2b1c6b||_0x4ed277[_0x38483d['buffer']]['then'](_0x1580ab=>new Uint8Array(_0x1580ab['buffer'],_0x1580ab['byteOffset']+(_0x38483d['byteOffset']||-0x1*0x1262+0x62*-0x29+0x2214),_0x38483d['byteLength']))),_0x38483d['hasOwnProp'+'erty']('byteStride')&&(_0x111e5b=_0x111e5b['then'](_0x1e905f=>(_0x1e905f['byteStride']=_0x38483d['byteStride'],_0x1e905f))),_0x11c652&&(_0x111e5b=_0x111e5b['then'](_0xa1a651=>(_0x11c652(_0x38483d,_0xa1a651),_0xa1a651))),_0x2d3533['push'](_0x111e5b);}return _0x2d3533;};class kh{static['parse'](_0x393606,_0x22eb42,_0x347f7e,_0x47acfa,_0x77ff8b,_0x14441c,_0x51e5e1){GN(_0x393606,_0x347f7e,(_0x194412,_0x46e904)=>{if(_0x194412){_0x51e5e1(_0x194412);return;}zN(_0x46e904['gltfChunk'],(_0x4f4234,_0x1ae5ed)=>{if(_0x4f4234){_0x51e5e1(_0x4f4234);return;}const _0xddb87=BN(_0x1ae5ed,_0x46e904['binaryChun'+'k'],_0x22eb42,_0x14441c),_0x3f044d=HN(_0x1ae5ed,_0xddb87,_0x14441c),_0x504389=kN(_0x1ae5ed,_0x3f044d,_0x22eb42,_0x77ff8b,_0x14441c),_0x3c68ef=UN(_0x1ae5ed,_0x504389,_0x14441c);ON(_0x47acfa,_0x1ae5ed,_0x3f044d,_0x3c68ef,_0x14441c)['then'](_0x25f8f5=>_0x51e5e1(null,_0x25f8f5))['catch'](_0x3edf04=>_0x51e5e1(_0x3edf04));});});}static['createDefa'+'ultMateria'+'l'](){return w0({'name':'defaultGlb'+'Material'},[]);}}class WN extends Qe{constructor(_0x197999){super(_0x197999,'animation'),this['device']=_0x197999['graphicsDe'+'vice'],this['assets']=_0x197999['assets'];}['load'](_0x4c8401,_0x362ead,_0x2378b2){typeof _0x4c8401=='string'&&(_0x4c8401={'load':_0x4c8401,'original':_0x4c8401});const _0x557a33={'retry':this['maxRetries']>0x145f+-0x7*-0x18d+0x2*-0xf9d,'maxRetries':this['maxRetries']};(_0x4c8401['load']['startsWith']('blob:')||_0x4c8401['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x4c8401['original'])['toLowerCas'+'e']()==='.glb'?_0x557a33['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x557a33['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x4c8401['load'],_0x557a33,(_0x5804f2,_0x1ac539)=>{_0x5804f2?_0x362ead('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x4c8401['original']+'\x20['+_0x5804f2+']'):xe['getExtensi'+'on'](_0x4c8401['original'])['toLowerCas'+'e']()==='.glb'?kh['parse']('filename.g'+'lb','',_0x1ac539,this['device'],this['assets'],(_0x2378b2==null?void(0x1bcb*-0x1+-0xe0+0x1cab):_0x2378b2['options'])??{},(_0x5825e4,_0x3324e5)=>{var _0x3b1815;if(_0x5825e4)_0x362ead(_0x5825e4);else{const _0x473354=_0x3324e5['animations'];if((_0x3b1815=_0x2378b2==null?void(0x2*-0x27e+0x8*-0x349+0x1f44):_0x2378b2['data'])!=null&&_0x3b1815['events']){for(let _0x25d12e=0x4*0x1ec+0xd13*-0x1+0x7*0xc5;_0x25d12e<_0x473354['length'];_0x25d12e++)_0x473354[_0x25d12e]['events']=new Hv(Object['values'](_0x2378b2['data']['events']));}_0x3324e5['destroy'](),_0x362ead(null,_0x473354);}}):_0x362ead(null,this['_parseAnim'+'ationV'+_0x1ac539['animation']['version']](_0x1ac539));});}['open'](_0x2c438d,_0x6eb2bd,_0x507167){return _0x6eb2bd;}['_parseAnim'+'ationV3'](_0x1c1885){const _0x2bf3e0=_0x1c1885['animation'],_0x25ceac=new ug();_0x25ceac['name']=_0x2bf3e0['name'],_0x25ceac['duration']=_0x2bf3e0['duration'];for(let _0x1198c0=0x294*-0x5+-0x1d22+0x2a06;_0x1198c0<_0x2bf3e0['nodes']['length'];_0x1198c0++){const _0x5692bc=new fg(),_0x2153e8=_0x2bf3e0['nodes'][_0x1198c0];_0x5692bc['_name']=_0x2153e8['name'];for(let _0x474cb2=-0x1eeb+0x188d+-0xa*-0xa3;_0x474cb2<_0x2153e8['keys']['length'];_0x474cb2++){const _0x4ddb62=_0x2153e8['keys'][_0x474cb2],_0x581370=_0x4ddb62['time'],_0x2d602e=_0x4ddb62['pos'],_0x25b6fe=_0x4ddb62['rot'],_0x3e247a=_0x4ddb62['scale'],_0x167117=new D(_0x2d602e[0x1*0xe9b+0x200*0x4+-0x9*0x283],_0x2d602e[0x859+0xb55+-0x13ad],_0x2d602e[-0x3d*0x79+0x510+-0x7ed*-0x3]),_0x56059a=new le()['setFromEul'+'erAngles'](_0x25b6fe[0xd0+0x1*-0x1cf+0x11*0xf],_0x25b6fe[0x1*0x683+0x1072+-0x1*0x16f4],_0x25b6fe[-0xac6+0x1*0xec9+0x29*-0x19]),_0x149119=new D(_0x3e247a[-0x2*-0x655+-0x1272+0x5c8],_0x3e247a[0x253*0x1+-0x7*0x19d+-0x1*-0x8f9],_0x3e247a[-0x57+0x1162*0x2+-0xb79*0x3]),_0x5ad249=new dg(_0x581370,_0x167117,_0x56059a,_0x149119);_0x5692bc['_keys']['push'](_0x5ad249);}_0x25ceac['addNode'](_0x5692bc);}return _0x25ceac;}['_parseAnim'+'ationV4'](_0x4fed3c){const _0xf4c00f=_0x4fed3c['animation'],_0x16fb7c=new ug();_0x16fb7c['name']=_0xf4c00f['name'],_0x16fb7c['duration']=_0xf4c00f['duration'];for(let _0x599ac5=0x1f8c+0x1f47+0x3*-0x14f1;_0x599ac5<_0xf4c00f['nodes']['length'];_0x599ac5++){const _0x2a3cec=new fg(),_0x517e02=_0xf4c00f['nodes'][_0x599ac5];_0x2a3cec['_name']=_0x517e02['name'];const _0x30fcce=_0x517e02['defaults']['p'],_0x3fd944=_0x517e02['defaults']['r'],_0x446db6=_0x517e02['defaults']['s'];for(let _0x52a42c=0x425+0x1*-0x233+-0x1f2;_0x52a42c<_0x517e02['keys']['length'];_0x52a42c++){const _0x34ff98=_0x517e02['keys'][_0x52a42c],_0xa41d6e=_0x34ff98['t'],_0x5c76de=_0x30fcce||_0x34ff98['p'],_0x3adc1d=_0x3fd944||_0x34ff98['r'],_0x551daf=_0x446db6||_0x34ff98['s'],_0x5cf80e=new D(_0x5c76de[0x1*0x130d+-0x5*-0x7f+-0x1588],_0x5c76de[0x2d*-0xcf+0x1d2*-0x2+0x1*0x2808],_0x5c76de[0x2*-0x33d+-0x2364+0x29e0]),_0x4f8815=new le()['setFromEul'+'erAngles'](_0x3adc1d[-0x1*0xb15+-0x1*-0xe5d+-0x348],_0x3adc1d[0x571*-0x5+-0x92e+0x2464],_0x3adc1d[-0xe77*0x2+0x198*0xe+0x1*0x6a0]),_0xe0f8ef=new D(_0x551daf[-0x25c3*-0x1+0xfeb+0x1*-0x35ae],_0x551daf[-0x10d4+-0x1ea1+0x2f76],_0x551daf[0xf4a+0x1*0x21c1+-0x3109]),_0x3b5013=new dg(_0xa41d6e,_0x5cf80e,_0x4f8815,_0xe0f8ef);_0x2a3cec['_keys']['push'](_0x3b5013);}_0x16fb7c['addNode'](_0x2a3cec);}return _0x16fb7c;}}class $N extends Qe{constructor(_0x209334){super(_0x209334,'animclip');}['load'](_0x2b149d,_0x168cc4){typeof _0x2b149d=='string'&&(_0x2b149d={'load':_0x2b149d,'original':_0x2b149d});const _0x284af5={'retry':this['maxRetries']>0x2600+0x2b3*-0xd+-0x2e9,'maxRetries':this['maxRetries']};_0x2b149d['load']['startsWith']('blob:')&&(_0x284af5['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x2b149d['load'],_0x284af5,(_0x595db5,_0x2a0248)=>{_0x595db5?_0x168cc4('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x2b149d['original']+'\x20['+_0x595db5+']'):_0x168cc4(null,_0x2a0248);});}['open'](_0x4df44e,_0x33abeb){const _0x1256eb=_0x33abeb['name'],_0x2b6984=_0x33abeb['duration'],_0x349809=_0x33abeb['inputs']['map'](_0x27855a=>new Fh(0x4a*-0x7+0x1*-0x1750+0x1957,_0x27855a)),_0x2b457c=_0x33abeb['outputs']['map'](_0x4fceec=>new Fh(_0x4fceec['components'],_0x4fceec['data'])),_0x34c8b7=_0x33abeb['curves']['map'](_0x5907cd=>new v0([_0x5907cd['path']],_0x5907cd['inputIndex'],_0x5907cd['outputInde'+'x'],_0x5907cd['interpolat'+'ion']));return new Qi(_0x1256eb,_0x2b6984,_0x349809,_0x2b457c,_0x34c8b7);}}class XN extends Qe{constructor(_0x7ae8c3){super(_0x7ae8c3,'animstateg'+'raph');}['load'](_0x945a7d,_0x36cae0){typeof _0x945a7d=='string'&&(_0x945a7d={'load':_0x945a7d,'original':_0x945a7d});const _0x21a738={'retry':this['maxRetries']>-0x14*-0x12e+-0x455*-0x3+-0x2497,'maxRetries':this['maxRetries']};_0x945a7d['load']['startsWith']('blob:')&&(_0x21a738['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x945a7d['load'],_0x21a738,(_0x59e92f,_0x2cdc76)=>{_0x59e92f?_0x36cae0('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x945a7d['original']+'\x20['+_0x59e92f+']'):_0x36cae0(null,_0x2cdc76);});}['open'](_0xf9da17,_0x10a8ba){return new Jc(_0x10a8ba);}}const Af=(function(){if(typeof window>'u')return!(-0x6d8+-0x1b*-0xa7+-0xd4*0xd);const _0x268e5e=window['navigator']['userAgent'],_0x586e28=_0x268e5e['indexOf']('MSIE\x20');if(_0x586e28>0x23c0+-0x3*-0x5d9+-0x354b)return parseInt(_0x268e5e['substring'](_0x586e28+(0xeae+0x252+-0x1e3*0x9),_0x268e5e['indexOf']('.',_0x586e28)),-0x11*-0x229+0x101e+-0x34cd);if(_0x268e5e['indexOf']('Trident/')>-0x73e+0x16f*0x7+0xd*-0x37){const _0x5f55c0=_0x268e5e['indexOf']('rv:');return parseInt(_0x268e5e['substring'](_0x5f55c0+(0x8c5*0x3+-0x1b4b+0xff),_0x268e5e['indexOf']('.',_0x5f55c0)),0x1438+-0x22ff+0xed1);}return!(0x1a12*0x1+-0x4*-0x843+0x25*-0x199);}()),qN=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class jN extends Qe{constructor(_0x4413db){super(_0x4413db,'audio'),this['manager']=_0x4413db['soundManag'+'er'],w['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0xb7a847){const _0x7b5ea=xe['getExtensi'+'on'](_0xb7a847);return qN['indexOf'](_0x7b5ea)>-(0x1*-0x269+-0x79*-0x1a+-0x9e0)||_0xb7a847['startsWith']('blob:');}['load'](_0x5ac915,_0x150e4a){typeof _0x5ac915=='string'&&(_0x5ac915={'load':_0x5ac915,'original':_0x5ac915});const _0x11fa50=function(_0x104b2f){_0x150e4a(null,new Mw(_0x104b2f));},_0x41e589=function(_0x4b6eb4){let _0x4556a7='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x5ac915['original'];_0x4b6eb4&&(_0x4556a7+=':\x20'+(_0x4b6eb4['message']||_0x4b6eb4)),console['warn'](_0x4556a7),_0x150e4a(_0x4556a7);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x5ac915['original'])){_0x41e589('Audio\x20form'+'at\x20for\x20'+_0x5ac915['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x5ac915['load'],_0x11fa50,_0x41e589);}else _0x41e589(null);}['_createSou'+'nd'](_0x104cdd,_0x1ef848,_0x41d244){if(Dl()){const _0xd1d0ec=this['manager'];if(!_0xd1d0ec['context']){_0x41d244('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x453dde={'retry':this['maxRetries']>-0xc64+-0x156a+0x21ce,'maxRetries':this['maxRetries']};(_0x104cdd['startsWith']('blob:')||_0x104cdd['startsWith']('data:'))&&(_0x453dde['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),ot['get'](_0x104cdd,_0x453dde,(_0x15087a,_0x11fa81)=>{if(_0x15087a){_0x41d244(_0x15087a);return;}_0xd1d0ec['context']['decodeAudi'+'oData'](_0x11fa81,_0x1ef848,_0x41d244);});}else{let _0x568dc9=null;try{_0x568dc9=new Audio();}catch{_0x41d244('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Af&&document['body']['appendChil'+'d'](_0x568dc9);const _0x35759d=function(){_0x568dc9['removeEven'+'tListener']('canplaythr'+'ough',_0x35759d),Af&&document['body']['removeChil'+'d'](_0x568dc9),_0x1ef848(_0x568dc9);};_0x568dc9['onerror']=function(){_0x568dc9['onerror']=null,Af&&document['body']['removeChil'+'d'](_0x568dc9),_0x41d244();},_0x568dc9['addEventLi'+'stener']('canplaythr'+'ough',_0x35759d),_0x568dc9['src']=_0x104cdd;}}}class YN extends Qe{constructor(_0x255048){super(_0x255048,'binary');}['load'](_0x290848,_0x5188c7){typeof _0x290848=='string'&&(_0x290848={'load':_0x290848,'original':_0x290848}),ot['get'](_0x290848['load'],{'responseType':Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>-0x225c+-0x1d78+0x3fd4,'maxRetries':this['maxRetries']},(_0x3ea7ef,_0x500dd5)=>{_0x3ea7ef?_0x5188c7('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x290848['original']+'\x20['+_0x3ea7ef+']'):_0x5188c7(null,_0x500dd5);});}['openBinary'](_0x41edc3){return _0x41edc3['buffer'];}}class yr{constructor(_0x59f370,_0x3e2888,_0x3444a5,_0x414263){const _0x80a71a=function(_0x401c24,_0xc8a3d5,_0x367a0b){const _0x3aa6f9=yr['createAsse'+'t'](_0x3e2888['name'],_0x401c24,_0xc8a3d5,_0x367a0b);return _0x3444a5['add'](_0x3aa6f9),_0x3aa6f9;},_0x5583c6=[];for(let _0xf3eb38=0xf12+-0x22f7*0x1+-0x1*-0x13e5;_0xf3eb38<_0x59f370['renders']['length'];++_0xf3eb38)_0x5583c6['push'](_0x80a71a('render',_0x59f370['renders'][_0xf3eb38],_0xf3eb38));const _0x59cbdd=[];for(let _0x1afdbc=-0x1543+-0x2356+-0x3899*-0x1;_0x1afdbc<_0x59f370['materials']['length'];++_0x1afdbc)_0x59cbdd['push'](_0x80a71a('material',_0x59f370['materials'][_0x1afdbc],_0x1afdbc));const _0x345b4b=[];for(let _0x527010=0x1d5a+-0x1f*-0x119+-0x3f61;_0x527010<_0x59f370['animations']['length'];++_0x527010)_0x345b4b['push'](_0x80a71a('animation',_0x59f370['animations'][_0x527010],_0x527010));this['data']=_0x59f370,this['_model']=null,this['_assetName']=_0x3e2888['name'],this['_assets']=_0x3444a5,this['_defaultMa'+'terial']=_0x414263,this['renders']=_0x5583c6,this['materials']=_0x59cbdd,this['textures']=_0x59f370['textures'],this['animations']=_0x345b4b;}get['model'](){if(!this['_model']){const _0xcbea04=yr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x4df858=yr['createAsse'+'t'](this['_assetName'],'model',_0xcbea04,0x18da+0x20f*-0x1+-0xf*0x185);this['_assets']['add'](_0x4df858),this['_model']=_0x4df858;}return this['_model'];}static['createAsse'+'t'](_0x507be9,_0x2cf66c,_0x13c6f4,_0x543c91){const _0x2818d1=new pe(_0x507be9+'/'+_0x2cf66c+'/'+_0x543c91,_0x2cf66c,{'url':''});return _0x2818d1['resource']=_0x13c6f4,_0x2818d1['loaded']=!(0x1*-0x143f+0x4*0x156+0x2fb*0x5),_0x2818d1;}['instantiat'+'eModelEnti'+'ty'](_0x29fe36){const _0x577546=new lt(void(0x31a+-0x1fff+-0x239*-0xd),this['_assets']['_loader']['_app']);return _0x577546['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x29fe36)),_0x577546;}['instantiat'+'eRenderEnt'+'ity'](_0x2d9e43){const _0x255438=this['_defaultMa'+'terial'],_0x27eec7=[],_0x48199a=function(_0x3f7963,_0x40ccf3,_0x5c0b6b,_0x5599a2,_0x24632c,_0x40f201,_0x3c4d36,_0x31a6c9){const _0x1bfe6b=_0x24632c[_0x5c0b6b['id']],_0x329f9c=_0x1bfe6b===void(0x76d+0x5*-0x47d+0xf04)?_0x255438:_0x5599a2[_0x1bfe6b],_0x45fda0=new He(_0x5c0b6b,_0x329f9c);_0x5c0b6b['morph']&&(_0x45fda0['morphInsta'+'nce']=new xa(_0x5c0b6b['morph'])),_0x3c4d36['hasOwnProp'+'erty']('skin')&&_0x27eec7['push']({'meshInstance':_0x45fda0,'rootBone':_0x3f7963,'entity':_0x40ccf3});const _0x308afe=_0x31a6c9['get'](_0x3c4d36);if(_0x308afe){const _0x42e8d9=_0x308afe['matrices'],_0x570bdb=kt['getDefault'+'Instancing'+'Format'](_0x5c0b6b['device']),_0x432566=new Is(_0x5c0b6b['device'],_0x570bdb,_0x42e8d9['length']/(-0x15*-0x1bb+-0xa*-0x1f6+-0x37e3),{'data':_0x42e8d9});_0x45fda0['setInstanc'+'ing'](_0x432566),_0x45fda0['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(-0x12b1+-0x323*-0x1+-0x2*-0x7c7);}return _0x45fda0;},_0x39b21c=(_0x21b7db,_0x213e94,_0x47d469)=>{const _0x4b5d0e=new lt(void(0x10c9+-0xd48+-0x381),this['_assets']['_loader']['_app']);_0x213e94['_cloneInte'+'rnal'](_0x4b5d0e),_0x21b7db||(_0x21b7db=_0x4b5d0e);let _0x374b22=null,_0x4286e5=null;for(let _0x35e0ee=0x2309+-0x263c+0x333;_0x35e0ee<_0x47d469['nodes']['length'];_0x35e0ee++)if(_0x47d469['nodes'][_0x35e0ee]===_0x213e94){const _0x4ac765=_0x47d469['gltf']['nodes'][_0x35e0ee];if(_0x4ac765['hasOwnProp'+'erty']('mesh')){const _0x18c994=_0x47d469['renders'][_0x4ac765['mesh']]['meshes'];_0x4286e5=this['renders'][_0x4ac765['mesh']];for(let _0x3de21f=-0x1e*0x11b+-0xe3*0x28+0x44a2;_0x3de21f<_0x18c994['length'];_0x3de21f++){const _0x36a36b=_0x18c994[_0x3de21f];if(_0x36a36b){const _0x5b056e=_0x48199a(_0x21b7db,_0x4b5d0e,_0x36a36b,_0x47d469['materials'],_0x47d469['meshDefaul'+'tMaterials'],_0x47d469['skins'],_0x4ac765,_0x47d469['nodeInstan'+'cingMap']);_0x374b22||(_0x374b22=[]),_0x374b22['push'](_0x5b056e);}}}if(_0x47d469['lights']){const _0x2c2add=_0x47d469['lights']['get'](_0x4ac765);_0x2c2add&&_0x4b5d0e['addChild'](_0x2c2add['clone']());}if(_0x47d469['cameras']){const _0x197e1a=_0x47d469['cameras']['get'](_0x4ac765);_0x197e1a&&_0x197e1a['camera']['system']['cloneCompo'+'nent'](_0x197e1a,_0x4b5d0e);}}_0x374b22&&(_0x4b5d0e['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x374b22},_0x2d9e43)),_0x4b5d0e['render']['assignAsse'+'t'](_0x4286e5));const _0x447c8c=_0x213e94['children'];for(let _0x1dc6e9=-0x1c*-0x101+-0x6a3*0x2+-0x1a6*0x9;_0x1dc6e9<_0x447c8c['length'];_0x1dc6e9++){const _0x5532e2=_0x39b21c(_0x21b7db,_0x447c8c[_0x1dc6e9],_0x47d469);_0x4b5d0e['addChild'](_0x5532e2);}return _0x4b5d0e;},_0x49f627=[];for(const _0x1b9351 of this['data']['scenes'])_0x49f627['push'](_0x39b21c(null,_0x1b9351,this['data']));return _0x27eec7['forEach'](_0x36f166=>{_0x36f166['meshInstan'+'ce']['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x36f166['meshInstan'+'ce']['mesh']['skin'],_0x36f166['rootBone'],_0x36f166['entity']),_0x36f166['meshInstan'+'ce']['node']['render']['rootBone']=_0x36f166['rootBone'];}),yr['createScen'+'eHierarchy'](_0x49f627,lt);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0xda8af5,_0x513fd2){const _0x1f262c=_0x513fd2?this['data']['variants'][_0x513fd2]:null;if(_0x1f262c===void(-0x17*-0x1f+0x1*-0x2676+0x23ad)){w['warn']('No\x20variant'+'\x20named\x20'+_0x513fd2+('\x20exists\x20in'+'\x20resource'));return;}const _0x35d3e1=_0xda8af5['findCompon'+'ents']('render');for(let _0x3d02ce=0x92*-0xc+-0x3e1+0x131*0x9;_0x3d02ce<_0x35d3e1['length'];_0x3d02ce++){const _0x5bd120=_0x35d3e1[_0x3d02ce];this['_applyMate'+'rialVarian'+'t'](_0x1f262c,_0x5bd120['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x28ef90,_0x342ded){const _0x4dec0e=_0x342ded?this['data']['variants'][_0x342ded]:null;if(_0x4dec0e===void(-0xf9c+0x39*-0x2d+0x19a1)){w['warn']('No\x20variant'+'\x20named\x20'+_0x342ded+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x4dec0e,_0x28ef90);}['_applyMate'+'rialVarian'+'t'](_0x2f6c16,_0xe2eded){_0xe2eded['forEach'](_0x50d0f6=>{if(_0x2f6c16===null)_0x50d0f6['material']=this['_defaultMa'+'terial'];else{const _0x888d63=this['data']['meshVarian'+'ts'][_0x50d0f6['mesh']['id']];_0x888d63&&(_0x50d0f6['material']=this['data']['materials'][_0x888d63[_0x2f6c16]]);}w['assert'](_0x50d0f6['material']);});}static['createScen'+'eHierarchy'](_0x4bd519,_0x374124){let _0x3630c0=null;if(_0x4bd519['length']===0x54e+0x3e*-0x7d+0x18f9)_0x3630c0=_0x4bd519[-0x4d2+-0x655+-0xb27*-0x1];else{_0x3630c0=new _0x374124('SceneGroup');for(const _0x90e8a1 of _0x4bd519)_0x3630c0['addChild'](_0x90e8a1);}return _0x3630c0;}static['createMode'+'l'](_0x1c52f9,_0x38ac1d){const _0x344e52=function(_0x2ba877,_0x5ab06c,_0x552bee,_0x19db11,_0x3f2ef8,_0x4179ea,_0x189a72){const _0x535439=_0x1c52f9['meshDefaul'+'tMaterials'][_0x5ab06c['id']],_0x563a55=_0x535439===void(0xd46+0x2*0x31+-0xda8)?_0x38ac1d:_0x3f2ef8[_0x535439],_0x16e54c=new He(_0x5ab06c,_0x563a55,_0x4179ea);if(_0x5ab06c['morph']){const _0x3bbc5e=new xa(_0x5ab06c['morph']);_0x16e54c['morphInsta'+'nce']=_0x3bbc5e,_0x2ba877['morphInsta'+'nces']['push'](_0x3bbc5e);}if(_0x189a72['hasOwnProp'+'erty']('skin')){const _0x5d7ac1=_0x189a72['skin'],_0x59d669=_0x552bee[_0x5d7ac1];_0x5ab06c['skin']=_0x59d669;const _0x176c03=_0x19db11[_0x5d7ac1];_0x16e54c['skinInstan'+'ce']=_0x176c03,_0x2ba877['skinInstan'+'ces']['push'](_0x176c03);}_0x2ba877['meshInstan'+'ces']['push'](_0x16e54c);},_0x452d87=new sr(),_0x3015c2=[];for(const _0xd2c066 of _0x1c52f9['skins']){const _0x2fa66f=new Ol(_0xd2c066);_0x2fa66f['bones']=_0xd2c066['bones'],_0x3015c2['push'](_0x2fa66f);}_0x452d87['graph']=yr['createScen'+'eHierarchy'](_0x1c52f9['scenes'],Ie);for(let _0x2749e8=-0x89*0x2f+0x1f24+0x1ff*-0x3;_0x2749e8<_0x1c52f9['nodes']['length'];_0x2749e8++){const _0x352558=_0x1c52f9['nodes'][_0x2749e8];if(_0x352558['root']===_0x452d87['graph']){const _0x1ddeb2=_0x1c52f9['gltf']['nodes'][_0x2749e8];if(_0x1ddeb2['hasOwnProp'+'erty']('mesh')){const _0x5491d0=_0x1c52f9['renders'][_0x1ddeb2['mesh']]['meshes'];for(let _0x5684b5=0x1*-0x12bf+-0x228a+0x3549;_0x5684b5<_0x5491d0['length'];_0x5684b5++){const _0x78e3d0=_0x5491d0[_0x5684b5];_0x78e3d0&&_0x344e52(_0x452d87,_0x78e3d0,_0x1c52f9['skins'],_0x3015c2,_0x1c52f9['materials'],_0x352558,_0x1ddeb2);}}}}return _0x452d87;}['destroy'](){const _0x2b8ed9=this['_assets'],_0x296fab=function(_0x2a6d96){_0x2b8ed9['remove'](_0x2a6d96),_0x2a6d96['unload']();},_0x20568a=function(_0x11b220){_0x11b220['forEach'](_0x23c3ac=>{_0x296fab(_0x23c3ac);});};this['animations']&&(_0x20568a(this['animations']),this['animations']=null),this['textures']&&(_0x20568a(this['textures']),this['textures']=null),this['materials']&&(_0x20568a(this['materials']),this['materials']=null),this['renders']&&(_0x20568a(this['renders']),this['renders']=null),this['_model']&&(_0x296fab(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class KN{constructor(_0x4d38ed,_0x56b870,_0x3b7f50){this['_device']=_0x4d38ed,this['_assets']=_0x56b870,this['_defaultMa'+'terial']=kh['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x3b7f50;}['_getUrlWit'+'houtParams'](_0x480924){return _0x480924['indexOf']('?')>=-0x229e+-0x166b+0x3909?_0x480924['split']('?')[-0x13ca+-0x19*0x14b+0x341d]:_0x480924;}['load'](_0x433876,_0x195209,_0x329fe5){pe['fetchArray'+'Buffer'](_0x433876['load'],(_0x260c16,_0x163d0c)=>{_0x260c16?_0x195209(_0x260c16):kh['parse'](this['_getUrlWit'+'houtParams'](_0x433876['original']),xe['extractPat'+'h'](_0x433876['load']),_0x163d0c,this['_device'],_0x329fe5['registry'],_0x329fe5['options'],(_0x3faa95,_0x180443)=>{_0x3faa95?_0x195209(_0x3faa95):_0x195209(null,new yr(_0x180443,_0x329fe5,this['_assets'],this['_defaultMa'+'terial']));});},_0x329fe5,this['maxRetries']);}['open'](_0x598d03,_0x1d64c9,_0x2e26e4){return _0x1d64c9;}['patch'](_0x570976,_0x403292){}}class ZN extends Qe{constructor(_0x22a9a3){super(_0x22a9a3,'container'),this['glbContain'+'erParser']=new KN(_0x22a9a3['graphicsDe'+'vice'],_0x22a9a3['assets'],0x116*0x1a+-0x4*0x649+0x18*-0x21),this['parsers']={};}set['maxRetries'](_0x3b904c){this['glbContain'+'erParser']['maxRetries']=_0x3b904c;for(const _0x4ced05 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x4ced05)&&(this['parsers'][_0x4ced05]['maxRetries']=_0x3b904c);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x32510c){return _0x32510c['indexOf']('?')>=-0xc*-0x259+-0x763*-0x1+-0x1*0x238f?_0x32510c['split']('?')[-0x16*-0x1a5+0xf*0x1f+-0x25ff*0x1]:_0x32510c;}['_getParser'](_0x5787d4){const _0x58113a=_0x5787d4?xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x5787d4))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x58113a]||this['glbContain'+'erParser'];}['load'](_0x34a157,_0x355ab7,_0x45e56e){typeof _0x34a157=='string'&&(_0x34a157={'load':_0x34a157,'original':_0x34a157}),this['_getParser'](_0x34a157['original'])['load'](_0x34a157,_0x355ab7,_0x45e56e);}['open'](_0xf99dc6,_0x5a1f0b,_0x3c1bbe){return this['_getParser'](_0xf99dc6)['open'](_0xf99dc6,_0x5a1f0b,_0x3c1bbe);}}class QN extends Qe{constructor(_0x282960){super(_0x282960,'css'),h(this,'decoder',null);}['load'](_0xf88f76,_0x4e3935){typeof _0xf88f76=='string'&&(_0xf88f76={'load':_0xf88f76,'original':_0xf88f76}),ot['get'](_0xf88f76['load'],{'retry':this['maxRetries']>-0x1d32+-0x7*0xf2+-0xbf0*-0x3,'maxRetries':this['maxRetries']},(_0x35260b,_0x32bbf7)=>{_0x35260b?_0x4e3935('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0xf88f76['original']+'\x20['+_0x35260b+']'):_0x4e3935(null,_0x32bbf7);});}['openBinary'](_0x4ff919){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x4ff919);}}class JN extends Qe{constructor(_0x341958){super(_0x341958,'cubemap'),this['_device']=_0x341958['graphicsDe'+'vice'],this['_registry']=_0x341958['assets'],this['_loader']=_0x341958['loader'];}['load'](_0x51a010,_0x203f1f,_0xdff1ea){this['loadAssets'](_0xdff1ea,_0x203f1f);}['open'](_0x479160,_0x33b3c0,_0x124811){return _0x124811?_0x124811['resource']:null;}['patch'](_0x1ea928,_0x170ff0){this['loadAssets'](_0x1ea928,(_0x22abda,_0x19589f)=>{_0x22abda&&(_0x170ff0['fire']('error',_0x1ea928),_0x170ff0['fire']('error:'+_0x1ea928['id'],_0x22abda,_0x1ea928),_0x1ea928['fire']('error',_0x1ea928));});}['getAssetId'+'s'](_0x1e6fc4){const _0xf85f0d=[];if(_0xf85f0d[0x1f13+-0x79c+-0x1*0x1777]=_0x1e6fc4['file'],(_0x1e6fc4['loadFaces']||!_0x1e6fc4['file'])&&_0x1e6fc4['data']&&_0x1e6fc4['data']['textures']){for(let _0x4bfead=-0x5ae+0x13d*-0x8+0x1*0xf96;_0x4bfead<0xb40+0x2*-0xc5f+0xd84;++_0x4bfead)_0xf85f0d[_0x4bfead+(-0x86f+-0x1a74+0x22e4)]=_0x1e6fc4['data']['textures'][_0x4bfead];}else _0xf85f0d[0x229f+-0x26a8+0x40a*0x1]=_0xf85f0d[-0x8f*-0x7+-0x2065+0x1c7e*0x1]=_0xf85f0d[-0x5f2+0x2092+0x1a9d*-0x1]=_0xf85f0d[0x1193+0x2e*0x3a+-0x1bfb]=_0xf85f0d[-0x895+0xd96*-0x1+0x1630]=_0xf85f0d[0x1*0x1f7b+0x1002+0x1*-0x2f77]=null;return _0xf85f0d;}['compareAss'+'etIds'](_0x432dad,_0x19737c){return _0x432dad&&_0x19737c?parseInt(_0x432dad,0x1*-0xc77+-0x19f4+0x2675)===_0x432dad||typeof _0x432dad=='string'?_0x432dad===_0x19737c:_0x432dad['url']===_0x19737c['url']:_0x432dad!==null==(_0x19737c!==null);}['update'](_0x5882da,_0x513efd,_0xfeccbb){const _0x29a736=_0x5882da['data']||{},_0x285500=_0x5882da['_handlerSt'+'ate']['assets'],_0x3456e6=_0x5882da['_resources'];let _0x310515,_0x182ce3,_0x2c9a50;const _0x52a4a6=[null,null,null,null,null,null,null],_0x288403=function(){return _0x29a736['hasOwnProp'+'erty']('type')?_0x29a736['type']:_0x29a736['hasOwnProp'+'erty']('rgbm')?_0x29a736['rgbm']?Zi:Ds:null;};if(!_0x5882da['loaded']||_0xfeccbb[0x10dc+-0x178*0x17+0x13*0xe4]!==_0x285500[0x1060+0x1da5+-0x2e05]){if(_0xfeccbb[0xa49*-0x1+-0x644+0x108d]){if(_0x310515=_0xfeccbb[0xf1*-0x25+-0x22*-0xd3+-0x245*-0x3]['resource'],_0x310515['cubemap']){for(_0x2c9a50=-0x2*0x85c+0x864+0x854;_0x2c9a50<-0x19eb*-0x1+-0x75d*-0x3+0x1*-0x2ffc;++_0x2c9a50)_0x52a4a6[_0x2c9a50+(0x14c2*0x1+-0x560+0x7f*-0x1f)]=new _e(this['_device'],{'name':_0x5882da['name']+('_prelitCub'+'emap')+(_0x310515['width']>>_0x2c9a50),'cubemap':!(-0xf7f+0x23ac*-0x1+0x332b),'type':_0x288403()||_0x310515['type'],'width':_0x310515['width']>>_0x2c9a50,'height':_0x310515['height']>>_0x2c9a50,'format':_0x310515['format'],'levels':[_0x310515['_levels'][_0x2c9a50]],'addressU':ue,'addressV':ue,'mipmaps':_0x2c9a50===-0xe18+0x14f7*0x1+-0x6df});}else _0x52a4a6[-0x1*-0x13f4+-0x1*0x208f+0xc9c]=_0x310515;}}else _0x52a4a6[-0x26a5+0xc5c*0x2+0xdee]=_0x3456e6[0x430+0x1*-0x1ebf+0x1a90]||null,_0x52a4a6[-0x245e+-0x1*-0x1ade+-0x982*-0x1]=_0x3456e6[-0x1b*-0x11+0x1326+-0x14ef]||null,_0x52a4a6[-0x11a*0x12+0x2*0x496+0xaab]=_0x3456e6[-0x2629+0x1*-0x4b+-0xe5*-0x2b]||null,_0x52a4a6[0x1b*-0x158+-0x6bd+0x2b09]=_0x3456e6[0xb6f*-0x2+-0x1*0x158f+0x2c71]||null,_0x52a4a6[-0xb05*0x1+-0x1171+0x1c7b]=_0x3456e6[-0x1*0x2a0+-0x1cf3+0xa88*0x3]||null,_0x52a4a6[-0x1163+-0x1*0xdcb+0x1*0x1f34]=_0x3456e6[-0x7bd*-0x1+0x4*-0x283+0x1*0x255]||null;const _0x1b16f8=_0xfeccbb['slice'](0x7e6*0x2+-0x18*-0xe8+-0x258b);if(!_0x5882da['loaded']||!this['cmpArrays'](_0x1b16f8,_0x285500['slice'](0xd*0x2+0x2408+-0x3*0xc0b))){if(_0x1b16f8['indexOf'](null)===-(0x1d3*0xb+-0x1*-0x2027+-0x3437)){const _0x5984b4=_0x1b16f8['map'](_0x2103d1=>_0x2103d1['resource']),_0x4514ce=[];for(_0x182ce3=0xa2a*0x1+0x1*0x1a44+-0x246e;_0x182ce3<_0x5984b4[0x11da+-0x963+-0x877]['_levels']['length'];++_0x182ce3)_0x4514ce['push'](_0x5984b4['map'](_0x1e64f5=>_0x1e64f5['_levels'][_0x182ce3]));const _0x33a116=_0x5984b4[0x3e*0x48+0x2293+-0x3403]['format'],_0x3c7ecd=new _e(this['_device'],{'name':_0x5882da['name']+'_faces','cubemap':!(-0x42f*0x5+0x1*0x9c+0x144f),'type':_0x288403()||_0x5984b4[-0xb3f*-0x1+-0x11d7+0x698]['type'],'width':_0x5984b4[0xd48*-0x1+-0x1784+0x24cc]['width'],'height':_0x5984b4[-0x128f*0x1+0xa4e+0x1*0x841]['height'],'format':_0x33a116===Cr?Ne:_0x33a116,'mipmaps':_0x29a736['mipmaps']??!(0x1f24+0x4*-0x4c3+0x306*-0x4),'levels':_0x4514ce,'minFilter':_0x29a736['hasOwnProp'+'erty']('minFilter')?_0x29a736['minFilter']:_0x5984b4[-0x1*-0x1514+0x17df+-0x1*0x2cf3]['minFilter'],'magFilter':_0x29a736['hasOwnProp'+'erty']('magFilter')?_0x29a736['magFilter']:_0x5984b4[0x1*-0x1f49+-0x4dd+0x52a*0x7]['magFilter'],'anisotropy':_0x29a736['hasOwnProp'+'erty']('anisotropy')?_0x29a736['anisotropy']:0x1*0x22d+-0x230e+0x20e2,'addressU':ue,'addressV':ue});_0x52a4a6[0x1aa7+0x247a*-0x1+0x1*0x9d3]=_0x3c7ecd;}}else _0x52a4a6[-0x1f11+0x1*-0x65b+0x256c]=_0x3456e6[-0x1676+0x5*-0x5d4+0x5*0xa52]||null;if(!this['cmpArrays'](_0x52a4a6,_0x3456e6)){for(_0x5882da['resources']=_0x52a4a6,_0x5882da['_handlerSt'+'ate']['assetIds']=_0x513efd,_0x5882da['_handlerSt'+'ate']['assets']=_0xfeccbb,_0x2c9a50=0x62*0x7+0xc51*0x1+0xeff*-0x1;_0x2c9a50<_0x3456e6['length'];++_0x2c9a50)_0x3456e6[_0x2c9a50]!==null&&_0x52a4a6['indexOf'](_0x3456e6[_0x2c9a50])===-(-0x21c0*-0x1+0x767+-0x2926)&&_0x3456e6[_0x2c9a50]['destroy']();}for(_0x2c9a50=0x804+-0xa*-0x397+-0x1*0x2bea;_0x2c9a50<_0x285500['length'];++_0x2c9a50)_0x285500[_0x2c9a50]!==null&&_0xfeccbb['indexOf'](_0x285500[_0x2c9a50])===-(0x1*-0x14f1+0x2bf+0x3*0x611)&&_0x285500[_0x2c9a50]['unload']();}['cmpArrays'](_0x1a4b77,_0x3cfb15){if(_0x1a4b77['length']!==_0x3cfb15['length'])return!(0x2*0xd3d+0x7c*-0xc+-0x14a9);for(let _0x170b99=0x1161+-0x78b+0x1*-0x9d6;_0x170b99<_0x1a4b77['length'];++_0x170b99)if(_0x1a4b77[_0x170b99]!==_0x3cfb15[_0x170b99])return!(-0x5*-0x76d+0xb99*-0x1+-0x1*0x1987);return!(0x1d1d+0x9*0x3b+-0x1f30);}['resolveId'](_0xa2a849){const _0x148166=parseInt(_0xa2a849,0x1*0xd8b+0x3*-0x371+-0x32e);return _0x148166===_0xa2a849||_0x148166['toString']()===_0xa2a849?_0x148166:_0xa2a849;}['loadAssets'](_0xf39ede,_0x5e867e){_0xf39ede['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0xf39ede['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x100428=this,_0x2ab96f=_0x100428['getAssetId'+'s'](_0xf39ede),_0x461b37=[null,null,null,null,null,null,null],_0x3aa374=_0xf39ede['_handlerSt'+'ate']['assetIds'],_0x5acc86=_0xf39ede['_handlerSt'+'ate']['assets'],_0x4cf27d=_0x100428['_registry'];let _0x906c92=-0x2151+-0x2*-0xb3e+0x56e*0x2;const _0xbeea9f=function(_0x446024,_0x5cf3d5){_0x461b37[_0x446024]=_0x5cf3d5,_0x906c92--,_0x906c92===0x26a2+0x6cd+-0x2d6f&&(_0x100428['update'](_0xf39ede,_0x2ab96f,_0x461b37),_0x5e867e(null,_0xf39ede['resources']));},_0x46f034=function(_0x554c8a,_0x788947,_0x26b8ef){_0x5e867e(_0x788947);},_0x4433f9=function(_0x327012,_0xf1e396){_0xf1e396['loaded']?_0xbeea9f(_0x327012,_0xf1e396):(_0x4cf27d['once']('load:'+_0xf1e396['id'],_0xbeea9f['bind'](_0x100428,_0x327012)),_0x4cf27d['once']('error:'+_0xf1e396['id'],_0x46f034['bind'](_0x100428,_0x327012)),_0xf1e396['loading']||_0x4cf27d['load'](_0xf1e396));};let _0x12921c;for(let _0x3468ee=-0x1f*-0x97+0x1aa0+0x1*-0x2ce9;_0x3468ee<0x1bea+0x1dbd+-0xe68*0x4;++_0x3468ee){const _0x3a7e1f=this['resolveId'](_0x2ab96f[_0x3468ee]);if(!_0x3a7e1f)_0xbeea9f(_0x3468ee,null);else{if(_0x100428['compareAss'+'etIds'](_0x3a7e1f,_0x3aa374[_0x3468ee]))_0x4433f9(_0x3468ee,_0x5acc86[_0x3468ee]);else{if(parseInt(_0x3a7e1f,0x1c*0x115+-0xcb8+-0x118a)===_0x3a7e1f)_0x12921c=_0x4cf27d['get'](_0x3a7e1f),_0x12921c?_0x4433f9(_0x3468ee,_0x12921c):setTimeout(((_0x111b76,_0x4fafca)=>{const _0x2af002=_0x4cf27d['get'](_0x4fafca);_0x2af002?_0x4433f9(_0x111b76,_0x2af002):_0x46f034(_0x111b76,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x4fafca);})['bind'](null,_0x3468ee,_0x3a7e1f));else{const _0x10e8c3=typeof _0x3a7e1f=='string'?{'url':_0x3a7e1f,'filename':_0x3a7e1f}:_0x3a7e1f,_0x438979=_0x10e8c3['url']['search']('.dds')===-(-0x93a+0x5*-0x491+0x4*0x804)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(0x7d5*-0x2+-0x71*0x11+-0x1*-0x172c)}:null;_0x12921c=new pe(_0xf39ede['name']+'_part_'+_0x3468ee,'texture',_0x10e8c3,_0x438979),_0x4cf27d['add'](_0x12921c),_0x4433f9(_0x3468ee,_0x12921c);}}}}}}class ek extends Qe{constructor(_0x39b7cb){super(_0x39b7cb,'folder');}['load'](_0x463da8,_0x27e9b9){_0x27e9b9(null,null);}}class yS{constructor(_0x159805,_0xf257f6){this['type']=_0xf257f6&&_0xf257f6['type']||Rh,this['em']=-0x1ad5+0x20c9*-0x1+-0x3b9f*-0x1,this['textures']=_0x159805,this['intensity']=0x1253*0x1+-0x21*-0x20+-0x1673,this['_data']=null,this['data']=_0xf257f6;}set['data'](_0x4d38f5){if(this['_data']=_0x4d38f5,!!_0x4d38f5&&(this['_data']['intensity']!==void(0x2209+-0x31*0x1+-0x21d8)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<-0x2b*-0x7d+-0x1*0xe64+0x233*-0x3)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x555389 in this['_data']['chars'])this['_data']['chars'][_0x555389]['map']=0x7*-0x2b3+-0x1ded+-0x1046*-0x3;}}get['data'](){return this['_data'];}}function Cf(_0xca4ac7){return _0xca4ac7['version']<-0x1*-0xc41+-0x4*0x6fd+-0x7db*-0x2&&(_0xca4ac7['version']<0x84d+-0x92*0x2+-0x727&&(_0xca4ac7['info']['maps']=_0xca4ac7['info']['maps']||[{'width':_0xca4ac7['info']['width'],'height':_0xca4ac7['info']['height']}]),_0xca4ac7['chars']=Object['keys'](_0xca4ac7['chars']||{})['reduce']((_0x5085e4,_0x47e106)=>{const _0x637372=_0xca4ac7['chars'][_0x47e106],_0xd9c5df=_0x637372['letter']!==void(0x13b4+-0x1fd+-0x11b7)?_0x637372['letter']:Hc['fromCodePo'+'int'](_0x47e106);return _0xca4ac7['version']<0x1082*0x1+-0x5f*-0x53+-0x1*0x2f4d&&(_0x637372['map']=_0x637372['map']||0x1393*-0x1+-0xb4e+0xf*0x20f),_0x5085e4[_0xd9c5df]=_0x637372,_0x5085e4;},{}),_0xca4ac7['version']=-0x1512+0x443*0x2+0xc8f),_0xca4ac7;}class tk extends Qe{constructor(_0x2dcb61){super(_0x2dcb61,'font'),this['_loader']=_0x2dcb61['loader'],this['maxRetries']=0x1602+-0x1f3*-0x10+0x1a99*-0x2;}['load'](_0x2fc5cf,_0x4fb831,_0x15f78b){typeof _0x2fc5cf=='string'&&(_0x2fc5cf={'load':_0x2fc5cf,'original':_0x2fc5cf});const _0x76be06=this;xe['getExtensi'+'on'](_0x2fc5cf['original'])==='.json'?ot['get'](_0x2fc5cf['load'],{'retry':this['maxRetries']>0x1*-0x21b7+0x35*0x6a+0xbc5,'maxRetries':this['maxRetries']},(_0x6018a6,_0xb84247)=>{if(_0x6018a6)_0x4fb831('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x2fc5cf['original']+'\x20['+_0x6018a6+']');else{const _0xb80076=Cf(_0xb84247);_0x76be06['_loadTextu'+'res'](_0x2fc5cf['load']['replace']('.json','.png'),_0xb80076,(_0x5bf88f,_0x3527a1)=>{_0x5bf88f?_0x4fb831(_0x5bf88f):_0x4fb831(null,{'data':_0xb80076,'textures':_0x3527a1});});}}):(_0x15f78b&&_0x15f78b['data']&&(_0x15f78b['data']=Cf(_0x15f78b['data'])),this['_loadTextu'+'res'](_0x2fc5cf['load'],_0x15f78b&&_0x15f78b['data'],_0x4fb831));}['_loadTextu'+'res'](_0x1956ab,_0x3784d4,_0x44bd26){const _0x5df051=_0x3784d4['info']['maps']['length'];let _0x4c92f0=-0x857+-0x368*0x2+0xf27,_0x45b2b0=null;const _0x331eb3=new Array(_0x5df051),_0x3f5fd8=this['_loader'],_0x6a1b3d=function(_0x15c07c){const _0x3bba56=function(_0x2d3436,_0x1ac942){if(!_0x45b2b0){if(_0x2d3436){_0x45b2b0=_0x2d3436,_0x44bd26(_0x2d3436);return;}_0x1ac942['upload'](),_0x331eb3[_0x15c07c]=_0x1ac942,_0x4c92f0++,_0x4c92f0===_0x5df051&&_0x44bd26(null,_0x331eb3);}};_0x15c07c===-0x29*0xb3+0xb5f*-0x3+0x3ec8?_0x3f5fd8['load'](_0x1956ab,'texture',_0x3bba56):_0x3f5fd8['load'](_0x1956ab['replace']('.png',_0x15c07c+'.png'),'texture',_0x3bba56);};for(let _0x373a47=0x92a+-0x52*-0x3e+0x5*-0x5ce;_0x373a47<_0x5df051;_0x373a47++)_0x6a1b3d(_0x373a47);}['open'](_0x390c76,_0x237790,_0x355a1e){let _0x18995a;return _0x237790['textures']?_0x18995a=new yS(_0x237790['textures'],_0x237790['data']):_0x18995a=new yS(_0x237790,null),_0x18995a;}['patch'](_0x2b739e,_0x4d26ad){const _0x4ba403=_0x2b739e['resource'];!_0x4ba403['data']&&_0x2b739e['data']?_0x4ba403['data']=_0x2b739e['data']:!_0x2b739e['data']&&_0x4ba403['data']&&(_0x2b739e['data']=_0x4ba403['data']),_0x2b739e['data']&&(_0x2b739e['data']=Cf(_0x2b739e['data']));}}async function sk(){const _0x312f55=-0x12db+-0x769+0x1a44+0.28209479177387814;class _0x53542e{constructor(_0x567228,_0x51d42f,_0x5aa35b){this['x']=_0x567228,this['y']=_0x51d42f,this['z']=_0x5aa35b;}}class _0x2b7ade{constructor(_0x5cd16d,_0x6023bb,_0x3dc919,_0x2735f3){this['x']=_0x5cd16d,this['y']=_0x6023bb,this['z']=_0x3dc919,this['w']=_0x2735f3;}}class _0x2111fa{constructor(_0x1ad637,_0x107044,_0x3a6c95,_0x2eb85f){this['x']=_0x1ad637,this['y']=_0x107044,this['z']=_0x3a6c95,this['w']=_0x2eb85f;}['set'](_0x1d4011,_0x5ae0fd,_0x489888,_0x58e223){this['x']=_0x1d4011,this['y']=_0x5ae0fd,this['z']=_0x489888,this['w']=_0x58e223;}}class _0x42b2ac{constructor(_0x3d87b9,_0x1a10d2,_0x5eccd,_0x2d4d64,_0x2661a5,_0x4ac921,_0x172a61,_0x5b769a,_0x5c2809,_0x3f163a,_0x50386f,_0x1ca9d2,_0x27303a,_0x4e0d3e){const _0x28a8c2=(_0x27ab82,_0x31673b)=>{const _0x56106d=(0x1*0xf08+0x103*0xb+0x2*-0xd14<<_0x31673b)-(-0x107*-0x9+-0x6d*0x52+0x35*0x7c);return(_0x27ab82&_0x56106d)/_0x56106d;},_0x3655f4=(_0x232636,_0x245a58)=>{_0x232636['x']=_0x28a8c2(_0x245a58>>>0x1b6e+0x6f*0x29+-0x2d20,-0xcbe+-0x96b*0x3+0x3*0xdae),_0x232636['y']=_0x28a8c2(_0x245a58>>>-0x27f+-0x2*-0x2b4+-0x2de,-0x1ca4+0x4*0x38+0x2*0xde7),_0x232636['z']=_0x28a8c2(_0x245a58,-0xfea+-0xce0+0x1cd5);},_0x8f8896=(_0x3ca200,_0x21f472)=>{_0x3ca200['x']=_0x28a8c2(_0x21f472>>>0x252f+-0xf06+-0x10d*0x15,0x2496+0x116c+-0x93*0x5e),_0x3ca200['y']=_0x28a8c2(_0x21f472>>>0x45*-0xd+0x497*0x1+0x2*-0x83,0x406+-0xe71+0xa73),_0x3ca200['z']=_0x28a8c2(_0x21f472>>>-0xb47*-0x1+-0x26a5+-0xe*-0x1f5,0x112*0xd+0x21f4+-0x3*0xff2),_0x3ca200['w']=_0x28a8c2(_0x21f472,0xe*0x34+0x2*-0x45e+0x5ec);},_0x1a23d5=(_0x15c83d,_0x9e3c7f)=>{const _0x571088=(-0x4*-0x68e+-0x7*0x65+0x13c*-0x13)/(Math['sqrt'](0x6c3+0x1a*-0xea+0x367*0x5)*(0xc55+0xa0a+-0x3*0x775+0.5)),_0x38a8fd=(_0x28a8c2(_0x9e3c7f>>>0x957*0x1+0x28d*0x9+-0x2038,0x6cd*-0x5+-0x1f17+0x4122)-(0x19c0+0xf4f+-0x290f+0.5))*_0x571088,_0x1759f2=(_0x28a8c2(_0x9e3c7f>>>-0x25a9*-0x1+0x14e*-0xe+-0x135b,0xbf5+-0xb37+-0xb4)-(-0x110c+0xc31+0x71*0xb+0.5))*_0x571088,_0x5a4f5c=(_0x28a8c2(_0x9e3c7f,-0x1*0x42a+-0x46*-0x8a+-0x128*0x1d)-(0x999+0x175f+-0x20f8+0.5))*_0x571088,_0x410ce3=Math['sqrt'](-0x1797+-0x85a+0x8d*0x3a-(_0x38a8fd*_0x38a8fd+_0x1759f2*_0x1759f2+_0x5a4f5c*_0x5a4f5c));switch(_0x9e3c7f>>>-0x1362*0x2+-0x5f1+0x2cd3){case 0x5df*-0x1+-0xee8+0x14c7:_0x15c83d['set'](_0x38a8fd,_0x1759f2,_0x5a4f5c,_0x410ce3);break;case-0x4*0x25a+0x2*0xd4b+-0x112d:_0x15c83d['set'](_0x410ce3,_0x1759f2,_0x5a4f5c,_0x38a8fd);break;case-0x1007+-0xc9e*0x3+0xac7*0x5:_0x15c83d['set'](_0x1759f2,_0x410ce3,_0x5a4f5c,_0x38a8fd);break;case 0xb9b*0x2+0x5a9*0x6+-0x3929:_0x15c83d['set'](_0x1759f2,_0x5a4f5c,_0x410ce3,_0x38a8fd);break;}},_0x3fd113=(_0xcbda46,_0x3e68fd,_0x113da7)=>_0xcbda46*(0x2304+0xeee*0x2+-0x40df-_0x113da7)+_0x3e68fd*_0x113da7,_0x560570=[0x2*0x513+-0x11ed+0x7ca,0x37c*-0x4+0x1fc6+0x6a*-0x2b,0x4ee+-0x1065*-0x1+0x1544*-0x1][_0x172a61-(-0x23b*0x1+-0x1*-0xb1e+-0x8e2)],_0x452c9f=-0x169d+-0x1377+0x2a1a*0x1;this['read']=_0x3f6fe9=>{const _0x5cb19f=Math['floor'](_0x3f6fe9/(-0x13b7+-0x7*-0x538+-0xfd1))*_0x1a10d2;if(_0x5b769a&&(_0x3655f4(_0x5b769a,_0x5eccd[_0x3f6fe9*_0x452c9f+(0x178d+-0xf46+-0x847)]),_0x5b769a['x']=_0x3fd113(_0x3d87b9[_0x5cb19f+(0xd6b+-0x1571+-0x4f*-0x1a)],_0x3d87b9[_0x5cb19f+(0x962+-0x466+-0x4f9*0x1)],_0x5b769a['x']),_0x5b769a['y']=_0x3fd113(_0x3d87b9[_0x5cb19f+(0x1927+-0x23ca+0xaa4)],_0x3d87b9[_0x5cb19f+(0x1*-0xa49+0x181c+-0xdcf)],_0x5b769a['y']),_0x5b769a['z']=_0x3fd113(_0x3d87b9[_0x5cb19f+(0x4c4+0x3e5*0x3+-0x1071)],_0x3d87b9[_0x5cb19f+(-0x1d3d+-0x23c1+0x4103)],_0x5b769a['z'])),_0x5c2809&&_0x1a23d5(_0x5c2809,_0x5eccd[_0x3f6fe9*_0x452c9f+(-0xa1d*-0x3+0x137e+-0x31d4)]),_0x3f163a&&(_0x3655f4(_0x3f163a,_0x5eccd[_0x3f6fe9*_0x452c9f+(0x2c8*0x4+-0xa61+-0x1b*0x7)]),_0x3f163a['x']=_0x3fd113(_0x3d87b9[_0x5cb19f+(-0x13e5+-0x7*0x2c+0x151f)],_0x3d87b9[_0x5cb19f+(0x2a6+-0x11ef+0xf52)],_0x3f163a['x']),_0x3f163a['y']=_0x3fd113(_0x3d87b9[_0x5cb19f+(-0x1*0x1286+-0x13*0x97+0xee1*0x2)],_0x3d87b9[_0x5cb19f+(-0x1ad1*0x1+-0x190f+0x114e*0x3)],_0x3f163a['y']),_0x3f163a['z']=_0x3fd113(_0x3d87b9[_0x5cb19f+(-0xd8+0x1ac0+-0x19e0)],_0x3d87b9[_0x5cb19f+(0x14ad+0x1a98+-0x1*0x2f3a)],_0x3f163a['z'])),_0x50386f&&(_0x8f8896(_0x50386f,_0x5eccd[_0x3f6fe9*_0x452c9f+(0x7f*0x3c+0x1429+-0x31ea)]),_0x1a10d2>-0xbb6*-0x2+-0x1ca+0x1596*-0x1&&(_0x50386f['x']=_0x3fd113(_0x3d87b9[_0x5cb19f+(-0x2*-0x476+0x18ff+-0x21df)],_0x3d87b9[_0x5cb19f+(0x58b*0x7+-0x1da7+-0x917)],_0x50386f['x']),_0x50386f['y']=_0x3fd113(_0x3d87b9[_0x5cb19f+(0x10*-0x1c1+0x1*-0x14ec+0x3109*0x1)],_0x3d87b9[_0x5cb19f+(-0x6ae+0x1*0x1101+-0x25*0x47)],_0x50386f['y']),_0x50386f['z']=_0x3fd113(_0x3d87b9[_0x5cb19f+(-0xca7*0x1+0x1*0x2462+-0x17ad)],_0x3d87b9[_0x5cb19f+(0xfb+-0x7*-0x407+-0x1d1b)],_0x50386f['z']))),_0x1ca9d2&&(_0x3655f4(_0x1ca9d2,_0x5eccd[_0x3f6fe9*_0x452c9f+(-0x2c1+-0xe76+0x113b)]),_0x1ca9d2['x']=_0x3fd113(_0x3d87b9[_0x5cb19f+(-0x1f5*0xc+0x1327+-0x31*-0x17)],_0x3d87b9[_0x5cb19f+(0x13ab+0x22d2+-0x8*0x6cd)],_0x1ca9d2['x']),_0x1ca9d2['y']=_0x3fd113(_0x3d87b9[_0x5cb19f+(-0x17f+-0x2*-0x1382+0x2*-0x12b9)],_0x3d87b9[_0x5cb19f+(-0x20*0x2e+0x187*-0x17+0x28f7*0x1)],_0x1ca9d2['y']),_0x1ca9d2['z']=_0x3fd113(_0x3d87b9[_0x5cb19f+(-0x1159*0x1+0x1901*-0x1+0x2a6e*0x1)],_0x3d87b9[_0x5cb19f+(0x16f*-0x7+0x23de+-0x526*0x5)],_0x1ca9d2['z'])),_0x27303a&&(_0x3655f4(_0x27303a,_0x5eccd[_0x3f6fe9*_0x452c9f+(-0xcbd+0x18b*0x11+0x1*-0xd79)]),_0x27303a['x']=_0x3fd113(_0x3d87b9[_0x5cb19f+(-0x179*-0x17+0xbf*-0x1a+-0xe61)],_0x3d87b9[_0x5cb19f+(-0xb79*0x3+-0x8*0x49+0x24cc)],_0x27303a['x']),_0x27303a['y']=_0x3fd113(_0x3d87b9[_0x5cb19f+(-0x63c+-0x98b+0xfe1)],_0x3d87b9[_0x5cb19f+(0x262e+0x1d7d+-0x872*0x8)],_0x27303a['y'])),_0x4e0d3e&&_0x172a61>-0x2*0x259+0xcd6+0x412*-0x2){const _0x2e80ce=[_0x2d4d64,_0x2661a5,_0x4ac921];for(let _0xc8b7a7=0x8ab+-0x3*-0x177+0x13*-0xb0;_0xc8b7a7<0xce2*-0x2+-0x1a*0x20+0x1d07*0x1;++_0xc8b7a7)for(let _0x411e4d=-0x865+0x1caa+-0x1*0x1445;_0x411e4d<-0x60*0x1e+-0x4c4+0x1013;++_0x411e4d)_0x4e0d3e[_0xc8b7a7*(0x1024+-0x7*-0x418+0x2cbd*-0x1)+_0x411e4d]=_0x411e4d<_0x560570?_0x2e80ce[_0xc8b7a7][_0x3f6fe9*(-0x3b9+0x7a6*-0x1+0x1*0xb6f)+_0x411e4d]*((0x511*-0x5+0x1baa*0x1+-0x24d)/(-0x1731+-0x26f1+0x3f21))-(0x25cc+-0x1*-0xe87+-0x344f):-0x24d8+-0xe82*0x1+-0xe*-0x3ab;}};}}self['onmessage']=async _0x4cfada=>{const {data:_0x43488e}=_0x4cfada;switch(_0x43488e['type']){case'initWorker':break;case'decompress':_0x28c069(_0x43488e['numSplats'],_0x43488e['chunkData'],_0x43488e['chunkSize'],_0x43488e['vertexData'],_0x43488e['shData0'],_0x43488e['shData1'],_0x43488e['shData2'],_0x43488e['shBands']);break;}};const _0x28c069=(_0x1d176e,_0x20b05d,_0x1d7ece,_0x35d9dd,_0x35d811,_0x49493b,_0x4b561d,_0x4b413d)=>{const _0x27aeb9=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x4b413d>0x2106+0x1207*0x1+-0x330d){const _0x28aa57=[];for(let _0x384eed=0x8d*-0xb+-0xa7*-0x35+-0x1c84;_0x384eed<-0x1174+0x11c8+-0x27*0x1;++_0x384eed)_0x28aa57['push']('f_rest_'+_0x384eed);_0x27aeb9['splice'](_0x27aeb9['indexOf']('f_dc_0')+(-0x154c+-0x254d+-0x1a*-0x241),0x796*0x3+-0xa5b*-0x1+-0x31*0xad,..._0x28aa57);}const _0x54fcf6={};_0x27aeb9['forEach'](_0x57348e=>{_0x54fcf6[_0x57348e]=new Float32Array(_0x1d176e);});const _0x22cd2d=new _0x53542e(),_0x52c64d=new _0x2111fa(),_0x24d8ce=new _0x53542e(),_0x39aa05=new _0x2b7ade(),_0x5bc14f=new _0x53542e(),_0x28e706=new _0x53542e(),_0x2c035c=_0x4b413d>0x1101+-0x1249+0x2*0xa4?new Float32Array(0x1*-0xec7+-0x1b25+-0x1*-0x2a19):null,_0x5417b3=new _0x42b2ac(_0x20b05d,_0x1d7ece,_0x35d9dd,_0x35d811,_0x49493b,_0x4b561d,_0x4b413d,_0x22cd2d,_0x52c64d,_0x24d8ce,_0x39aa05,_0x5bc14f,_0x28e706,_0x2c035c);for(let _0x4353b4=-0x2686+-0xcb4+-0x1*-0x333a;_0x4353b4<_0x1d176e;++_0x4353b4)if(_0x5417b3['read'](_0x4353b4),_0x54fcf6['x'][_0x4353b4]=_0x22cd2d['x'],_0x54fcf6['y'][_0x4353b4]=_0x22cd2d['y'],_0x54fcf6['z'][_0x4353b4]=_0x22cd2d['z'],_0x54fcf6['rot_1'][_0x4353b4]=_0x52c64d['x'],_0x54fcf6['rot_2'][_0x4353b4]=_0x52c64d['y'],_0x54fcf6['rot_3'][_0x4353b4]=_0x52c64d['z'],_0x54fcf6['rot_0'][_0x4353b4]=_0x52c64d['w'],_0x54fcf6['scale_0'][_0x4353b4]=_0x24d8ce['x'],_0x54fcf6['scale_1'][_0x4353b4]=_0x24d8ce['y'],_0x54fcf6['scale_2'][_0x4353b4]=_0x24d8ce['z'],_0x54fcf6['motion_0'][_0x4353b4]=_0x5bc14f['x'],_0x54fcf6['motion_1'][_0x4353b4]=_0x5bc14f['y'],_0x54fcf6['motion_2'][_0x4353b4]=_0x5bc14f['z'],_0x54fcf6['t_scale'][_0x4353b4]=_0x28e706['x'],_0x54fcf6['t'][_0x4353b4]=_0x28e706['y'],_0x54fcf6['f_dc_0'][_0x4353b4]=(_0x39aa05['x']-(-0x2682+0xb27+0x1b5b+0.5))/_0x312f55,_0x54fcf6['f_dc_1'][_0x4353b4]=(_0x39aa05['y']-(-0x1c88+-0xfa9+-0x1*-0x2c31+0.5))/_0x312f55,_0x54fcf6['f_dc_2'][_0x4353b4]=(_0x39aa05['z']-(-0x3c7*-0x6+-0x53b+-0x116f*0x1+0.5))/_0x312f55,_0x54fcf6['opacity'][_0x4353b4]=_0x39aa05['w']<=0x1*-0x1bca+-0x3*0x347+0x259f*0x1?-(-0x1a8f+0x2262+0x97*-0xd):_0x39aa05['w']>=0xbb6*0x1+0x25cc+-0x3181?-0x4ab*-0x1+0xc97*-0x3+0x56*0x63:-Math['log']((-0x1116+-0x2486+-0xf*-0x393)/_0x39aa05['w']-(-0x21e5+-0x35*0x48+0x2*0x1867)),_0x2c035c){for(let _0x3b7f87=-0x23b2+0x1253+0x115f;_0x3b7f87<-0x1*-0x9d+-0x2*0xbff+0x178e;++_0x3b7f87)_0x54fcf6['f_rest_'+_0x3b7f87][_0x4353b4]=_0x2c035c[_0x3b7f87];}let _0x1b4465={'x':_0x54fcf6['x'],'y':_0x54fcf6['y'],'z':_0x54fcf6['z'],'rot_1':_0x54fcf6['rot_1'],'rot_2':_0x54fcf6['rot_2'],'rot_3':_0x54fcf6['rot_3'],'rot_0':_0x54fcf6['rot_0'],'scale_0':_0x54fcf6['scale_0'],'scale_1':_0x54fcf6['scale_1'],'scale_2':_0x54fcf6['scale_2'],'motion_0':_0x54fcf6['motion_0'],'motion_1':_0x54fcf6['motion_1'],'motion_2':_0x54fcf6['motion_2'],'t_scale':_0x54fcf6['t_scale'],'t':_0x54fcf6['t'],'f_dc_0':_0x54fcf6['f_dc_0'],'f_dc_1':_0x54fcf6['f_dc_1'],'f_dc_2':_0x54fcf6['f_dc_2'],'opacity':_0x54fcf6['opacity']};_0x2c035c&&(_0x1b4465={..._0x1b4465,'f_rest_0':_0x54fcf6['f_rest_0'],'f_rest_1':_0x54fcf6['f_rest_1'],'f_rest_2':_0x54fcf6['f_rest_2'],'f_rest_3':_0x54fcf6['f_rest_3'],'f_rest_4':_0x54fcf6['f_rest_4'],'f_rest_5':_0x54fcf6['f_rest_5'],'f_rest_6':_0x54fcf6['f_rest_6'],'f_rest_7':_0x54fcf6['f_rest_7'],'f_rest_8':_0x54fcf6['f_rest_8'],'f_rest_9':_0x54fcf6['f_rest_9'],'f_rest_10':_0x54fcf6['f_rest_10'],'f_rest_11':_0x54fcf6['f_rest_11'],'f_rest_12':_0x54fcf6['f_rest_12'],'f_rest_13':_0x54fcf6['f_rest_13'],'f_rest_14':_0x54fcf6['f_rest_14'],'f_rest_15':_0x54fcf6['f_rest_15'],'f_rest_16':_0x54fcf6['f_rest_16'],'f_rest_17':_0x54fcf6['f_rest_17'],'f_rest_18':_0x54fcf6['f_rest_18'],'f_rest_19':_0x54fcf6['f_rest_19'],'f_rest_20':_0x54fcf6['f_rest_20'],'f_rest_21':_0x54fcf6['f_rest_21'],'f_rest_22':_0x54fcf6['f_rest_22'],'f_rest_23':_0x54fcf6['f_rest_23'],'f_rest_24':_0x54fcf6['f_rest_24'],'f_rest_25':_0x54fcf6['f_rest_25'],'f_rest_26':_0x54fcf6['f_rest_26'],'f_rest_27':_0x54fcf6['f_rest_27'],'f_rest_28':_0x54fcf6['f_rest_28'],'f_rest_29':_0x54fcf6['f_rest_29'],'f_rest_30':_0x54fcf6['f_rest_30'],'f_rest_31':_0x54fcf6['f_rest_31'],'f_rest_32':_0x54fcf6['f_rest_32'],'f_rest_33':_0x54fcf6['f_rest_33'],'f_rest_34':_0x54fcf6['f_rest_34'],'f_rest_35':_0x54fcf6['f_rest_35'],'f_rest_36':_0x54fcf6['f_rest_36'],'f_rest_37':_0x54fcf6['f_rest_37'],'f_rest_38':_0x54fcf6['f_rest_38'],'f_rest_39':_0x54fcf6['f_rest_39'],'f_rest_40':_0x54fcf6['f_rest_40'],'f_rest_41':_0x54fcf6['f_rest_41'],'f_rest_42':_0x54fcf6['f_rest_42'],'f_rest_43':_0x54fcf6['f_rest_43'],'f_rest_44':_0x54fcf6['f_rest_44']});const _0xf2e111=Object['values'](_0x1b4465)['map'](_0x919b0b=>_0x919b0b['buffer']);self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x1b4465},_0xf2e111);};}class ik extends me{constructor(){super(),h(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+sk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x775074=>{if(!this['worker'])return;const {data:_0x5e4373}=_0x775074;switch(_0x5e4373['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x5e4373['data']);break;}};}['decompress'](_0x48feaa,_0x42c6b6,_0x194f66,_0x28c10c,_0x39eeff,_0x3374c6,_0x589149,_0x464536){const _0x3812e8=[_0x42c6b6['buffer'],_0x28c10c['buffer']];_0x39eeff&&_0x3812e8['push'](_0x39eeff['buffer']),_0x3374c6&&_0x3812e8['push'](_0x3374c6['buffer']),_0x589149&&_0x3812e8['push'](_0x589149['buffer']),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x48feaa,'chunkData':_0x42c6b6,'chunkSize':_0x194f66,'vertexData':_0x28c10c,'shData0':_0x39eeff,'shData1':_0x3374c6,'shData2':_0x589149,'shBands':_0x464536},_0x3812e8);}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class rk{constructor(_0xed1102,_0x57dba0,_0x48a69e,_0x1f04b1,_0x43d555,_0x1c9705,_0x4bca34,_0x51481f){const _0x2eef00=(_0x2b7754,_0x40942f)=>{const _0x431aa1=(0x15c8+0x6d8+-0x1c9f<<_0x40942f)-(-0x1dbf*0x1+-0x4e7+0x22a7);return(_0x2b7754&_0x431aa1)/_0x431aa1;},_0x4448f8=(_0x511095,_0x59aed2)=>{_0x511095['x']=_0x2eef00(_0x59aed2>>>-0x581*0x2+0xd0*0x17+0x5*-0x185,-0x6af*-0x5+0x25ec+-0x474c),_0x511095['y']=_0x2eef00(_0x59aed2>>>-0xe5*-0x23+-0x1aad+-0x497,0xa27+-0x4f*0x6f+0x1824),_0x511095['z']=_0x2eef00(_0x59aed2,0x19b4+0xbc*0x28+-0x1*0x3709);},_0xce9dc0=(_0x462837,_0x321095)=>{_0x462837['x']=_0x2eef00(_0x321095>>>0xdd3*-0x1+-0x37*0x4a+-0x11*-0x1c1,0x4b*-0x26+-0xacb+0x15f5),_0x462837['y']=_0x2eef00(_0x321095>>>0x10ee+-0x58a+0x64*-0x1d,0x13e5+0x1*-0x1fdd+-0xc0*-0x10),_0x462837['z']=_0x2eef00(_0x321095>>>0x24de+-0x1c4e*0x1+-0x888,0x527+-0x4f*0x3d+0xdb4),_0x462837['w']=_0x2eef00(_0x321095,0x10e7+-0x1441+0x362*0x1);},_0x3049c1=(_0x5a1f1b,_0x3c780b)=>{const _0x37af82=(0x1*0x3cf+0x2*-0x11b+-0x198)/(Math['sqrt'](-0x135*-0x1+-0x1*-0x1025+-0x1158)*(-0x1*0x13ea+0x1e0+0x120a+0.5)),_0x4209bf=(_0x2eef00(_0x3c780b>>>-0x671+0x1b7b*-0x1+0x2200,0x5fb+0x26be+-0x2caf)-(0x13f7+0x13*-0xae+-0x70d+0.5))*_0x37af82,_0x44da69=(_0x2eef00(_0x3c780b>>>0x20*0x38+-0x1e32+-0x173c*-0x1,-0x1155+-0x332+0x1491)-(-0x10*-0x1db+-0x215e+0x13a*0x3+0.5))*_0x37af82,_0x106a56=(_0x2eef00(_0x3c780b,-0x1*-0x99f+0x18b5+-0x10a*0x21)-(0x2c*0x71+0x155a+-0x28c6+0.5))*_0x37af82,_0x25dcb6=Math['sqrt'](0x1f6b+-0x7*0xd6+-0x1990-(_0x4209bf*_0x4209bf+_0x44da69*_0x44da69+_0x106a56*_0x106a56));switch(_0x3c780b>>>0x2*-0x118d+0x66e+0x1cca){case 0x166b+-0x207*0x11+0x202*0x6:_0x5a1f1b['set'](_0x4209bf,_0x44da69,_0x106a56,_0x25dcb6);break;case 0x1*-0x2038+-0x21ef+0x4228:_0x5a1f1b['set'](_0x25dcb6,_0x44da69,_0x106a56,_0x4209bf);break;case-0x2193*0x1+0x2363+-0x1ce:_0x5a1f1b['set'](_0x44da69,_0x25dcb6,_0x106a56,_0x4209bf);break;case 0xe29+-0x1862+-0x5*-0x20c:_0x5a1f1b['set'](_0x44da69,_0x106a56,_0x25dcb6,_0x4209bf);break;}},_0x79baf6=(_0x3bfdf7,_0x155c41,_0x56ef2c)=>_0x3bfdf7*(0x3a5+-0x15ca+0x1226-_0x56ef2c)+_0x155c41*_0x56ef2c,{chunkData:_0x485e27,chunkSize:_0x3f3ed8,vertexData:_0x5ac57c,shData0:_0x44ce13,shData1:_0x50217e,shData2:_0xd2cf5f,shBands:_0x52ff66}=_0xed1102,_0xcadea=[-0x2450+0xedd+0x1576,0x1319*0x1+-0x93e+-0x9d3,-0x9b2+-0x1d1c+-0x1*-0x26dd][_0x52ff66-(0x1f*0x32+-0xc89+0x67c)],_0x3b1c6a=0x85*0x44+-0x264d+-0xd*-0x3b;this['read']=_0x28ac0d=>{const _0x2eed91=Math['floor'](_0x28ac0d/(0xed3+-0x1*0xf0d+0x13a))*_0x3f3ed8;if(_0x57dba0&&(_0x4448f8(_0x57dba0,_0x5ac57c[_0x28ac0d*_0x3b1c6a+(-0x175+0x254c+-0x23d7)]),_0x57dba0['x']=_0x79baf6(_0x485e27[_0x2eed91+(0x23*0x13+-0x2*-0x47f+-0xb97)],_0x485e27[_0x2eed91+(-0xcb8+-0x3c7*-0x7+-0x492*0x3)],_0x57dba0['x']),_0x57dba0['y']=_0x79baf6(_0x485e27[_0x2eed91+(-0x5be+-0x1d78+-0xf*-0x259)],_0x485e27[_0x2eed91+(0x102e+0x1*0x996+-0x40*0x67)],_0x57dba0['y']),_0x57dba0['z']=_0x79baf6(_0x485e27[_0x2eed91+(0x2*0x75+-0xa2c+0x944)],_0x485e27[_0x2eed91+(-0x2153+-0x5*-0x39e+0x6*0x28b)],_0x57dba0['z'])),_0x48a69e&&_0x3049c1(_0x48a69e,_0x5ac57c[_0x28ac0d*_0x3b1c6a+(0xcd0+-0x2*0xabc+0x8a9)]),_0x1f04b1&&(_0x4448f8(_0x1f04b1,_0x5ac57c[_0x28ac0d*_0x3b1c6a+(-0xbd8+0x15*0x1af+0x1*-0x1781)]),_0x1f04b1['x']=_0x79baf6(_0x485e27[_0x2eed91+(-0xd37*-0x1+0x1660+0x25f*-0xf)],_0x485e27[_0x2eed91+(-0x21b4+-0xc6e+-0x2e2b*-0x1)],_0x1f04b1['x']),_0x1f04b1['y']=_0x79baf6(_0x485e27[_0x2eed91+(-0x6*0x188+-0x1dd*-0x12+-0x1df*0xd)],_0x485e27[_0x2eed91+(0x2036+0x10b3+-0x30df*0x1)],_0x1f04b1['y']),_0x1f04b1['z']=_0x79baf6(_0x485e27[_0x2eed91+(-0x64+-0xf29+0xf95)],_0x485e27[_0x2eed91+(-0x133+0x43b*0x3+-0xb73)],_0x1f04b1['z'])),_0x43d555&&(_0xce9dc0(_0x43d555,_0x5ac57c[_0x28ac0d*_0x3b1c6a+(-0x6c1+0x17dd+-0x5b3*0x3)]),_0x3f3ed8>0x2ad*-0x8+-0x5e1*-0x4+0x16*-0x18&&(_0x43d555['x']=_0x79baf6(_0x485e27[_0x2eed91+(-0x57*-0x6+-0x22be+-0x2*-0x1060)],_0x485e27[_0x2eed91+(-0x442+0x1ea9*0x1+-0x34b*0x8)],_0x43d555['x']),_0x43d555['y']=_0x79baf6(_0x485e27[_0x2eed91+(-0x218b*0x1+-0x2522+0x337*0x16)],_0x485e27[_0x2eed91+(0x751+-0x572*-0x4+-0x1d09*0x1)],_0x43d555['y']),_0x43d555['z']=_0x79baf6(_0x485e27[_0x2eed91+(0x8*0x432+0x1cd*-0x1+-0x1fb5)],_0x485e27[_0x2eed91+(-0x1e27+-0x2*0x11ce+-0xb*-0x5fc)],_0x43d555['z']))),_0x1c9705&&(_0x4448f8(_0x1c9705,_0x5ac57c[_0x28ac0d*_0x3b1c6a+(0x24fa+-0x7*0x25f+0x191*-0xd)]),_0x1c9705['x']=_0x79baf6(_0x485e27[_0x2eed91+(-0x8*-0x350+0x2*-0x1069+0x1*0x664)],_0x485e27[_0x2eed91+(0x1*-0xfd3+-0x1f5d+0x2f45)],_0x1c9705['x']),_0x1c9705['y']=_0x79baf6(_0x485e27[_0x2eed91+(-0x1*-0xe12+-0x16bf+0x8c0)],_0x485e27[_0x2eed91+(-0x1abf+0x6a+0x1a6b)],_0x1c9705['y']),_0x1c9705['z']=_0x79baf6(_0x485e27[_0x2eed91+(0x766*0x1+0x15a*0x11+-0x1e4c)],_0x485e27[_0x2eed91+(0x19d8*-0x1+-0x955*-0x1+0x109a)],_0x1c9705['z'])),_0x4bca34&&(_0x4448f8(_0x4bca34,_0x5ac57c[_0x28ac0d*_0x3b1c6a+(0x1*-0x3be+-0x1751*0x1+0x2*0xd8a)]),_0x4bca34['x']=_0x79baf6(_0x485e27[_0x2eed91+(0x177d+0x2088+-0x37ed)],_0x485e27[_0x2eed91+(0x511*-0x5+-0x1*0xb92+0x2500)],_0x4bca34['x']),_0x4bca34['y']=_0x79baf6(_0x485e27[_0x2eed91+(-0x129b+-0x1*-0x9de+0x8d7)],_0x485e27[_0x2eed91+(-0x101f+0xbeb+0x44f*0x1)],_0x4bca34['y'])),_0x51481f&&_0x52ff66>-0x1970+0x13d0+0x5a0){const _0x5a1f0e=[_0x44ce13,_0x50217e,_0xd2cf5f];for(let _0x3675c7=-0x43*0x3d+-0x1ce4+0x2cdb;_0x3675c7<-0x67*0x3e+0xe62*-0x1+0x2757;++_0x3675c7)for(let _0x48beed=0x9db+0x1*0x809+-0x11e4;_0x48beed<-0x81+0x1eb+-0x15b;++_0x48beed)_0x51481f[_0x3675c7*(0x1048*-0x1+0x1d6c+-0xd15)+_0x48beed]=_0x48beed<_0xcadea?_0x5a1f0e[_0x3675c7][_0x28ac0d*(0x7*0x470+0x10a5*-0x2+0x1*0x24a)+_0x48beed]*((-0xb62+0x1*-0x1013+0x1f*0xe3)/(-0x1654+0x15e2+-0x9*-0x29))-(0x100d*0x1+-0x14f3*0x1+0x4ea):-0x1*0xc2f+0x70b+0x524;}};}}class ak{constructor(){h(this,'numSplats'),h(this,'comments'),h(this,'chunkData'),h(this,'vertexData'),h(this,'is4D'),h(this,'shData0'),h(this,'shData1'),h(this,'shData2'),h(this,'shBands');}['createIter'](_0x564e86,_0x353ab6,_0x1fd502,_0x520a28,_0x10052c,_0x4b84c0,_0x1edaa6){return new rk(this,_0x564e86,_0x353ab6,_0x1fd502,_0x520a28,_0x10052c,_0x4b84c0,_0x1edaa6);}['calcAabb'](_0x9e1430){const {chunkData:_0x2ae4cd,numChunks:_0x2e52f3,chunkSize:_0x3e080d}=this;let _0x18ebf4=Math['exp'](Math['max'](_0x2ae4cd[0x12c+-0x1dd7+0x1cb4],_0x2ae4cd[0xe*-0x5c+-0x571*0x1+0x1*0xa83],_0x2ae4cd[-0x1e09*0x1+-0x9*0x107+0x2753])),_0x4821b0=_0x2ae4cd[-0x8e*0xb+0x64c+-0x32]-_0x18ebf4,_0x5a2c24=_0x2ae4cd[0x1d5c+-0x1a8d+-0x2ce]-_0x18ebf4,_0x58d941=_0x2ae4cd[0x1afc+0x1*0x17ec+-0x32e6]-_0x18ebf4,_0x2ee007=_0x2ae4cd[-0x95c*0x2+-0x7f*0x17+-0x283*-0xc]+_0x18ebf4,_0x550088=_0x2ae4cd[0x1*0x1c68+0x2*0x1b7+0x1fd2*-0x1]+_0x18ebf4,_0x1874be=_0x2ae4cd[-0xe7e+0x14ff+-0xa*0xa6]+_0x18ebf4;for(let _0x3911bd=0x1*0x2569+0x62f*0x6+-0x33*0x176;_0x3911bd<_0x2e52f3;++_0x3911bd){const _0x482a0b=_0x3911bd*_0x3e080d;_0x18ebf4=Math['exp'](Math['max'](_0x2ae4cd[_0x482a0b+(0x3fd+-0x7*-0x2b7+-0x16f5)],_0x2ae4cd[_0x482a0b+(0x1*-0xaa3+0x1d9c+-0x12ef)],_0x2ae4cd[_0x482a0b+(-0x1901+-0x1045+-0x1*-0x2951)])),_0x4821b0=Math['min'](_0x4821b0,_0x2ae4cd[_0x482a0b+(-0x22f3+0x1a67+0x88c)]-_0x18ebf4),_0x5a2c24=Math['min'](_0x5a2c24,_0x2ae4cd[_0x482a0b+(-0x861+0x1*-0x1e36+0x4d3*0x8)]-_0x18ebf4),_0x58d941=Math['min'](_0x58d941,_0x2ae4cd[_0x482a0b+(-0x2235+0x1111+-0x36e*-0x5)]-_0x18ebf4),_0x2ee007=Math['max'](_0x2ee007,_0x2ae4cd[_0x482a0b+(0xc65+-0x22b5+0x1653)]+_0x18ebf4),_0x550088=Math['max'](_0x550088,_0x2ae4cd[_0x482a0b+(-0x9*0xb7+-0x1*0x5+0x48*0x17)]+_0x18ebf4),_0x1874be=Math['max'](_0x1874be,_0x2ae4cd[_0x482a0b+(-0x13*-0x155+0x76f+-0x20b9)]+_0x18ebf4);}return _0x9e1430['center']['set']((_0x4821b0+_0x2ee007)*(-0x19fa+-0x3*0x99e+0x36d4+0.5),(_0x5a2c24+_0x550088)*(-0xa97*0x1+-0x115*0x11+0x1cfc*0x1+0.5),(_0x58d941+_0x1874be)*(-0x49+0x73*0x20+0x1*-0xe17+0.5)),_0x9e1430['halfExtent'+'s']['set']((_0x2ee007-_0x4821b0)*(-0x1dcf+-0x1*-0xfe0+0xdef+0.5),(_0x550088-_0x5a2c24)*(0x1ea4+-0x1*-0x12f7+-0x319b+0.5),(_0x1874be-_0x58d941)*(-0xf9a*-0x1+-0x71*-0x6+-0x1240+0.5)),!(-0x82*0x41+-0x5b3+0x1b*0x16f);}['getCenters'](_0x497a62){const {vertexData:_0x24bf5f,chunkData:_0x28a0d3,numChunks:_0x2ed1b5,chunkSize:_0x417985}=this;let _0x5ced78,_0x1f99ce,_0x41fd8d,_0x4ee4c5,_0x3a53b3,_0x455058;for(let _0x52b1e3=-0x227*0xb+0x29d*0x3+0x2*0x7eb;_0x52b1e3<_0x2ed1b5;++_0x52b1e3){const _0x1dd663=_0x52b1e3*_0x417985;_0x5ced78=_0x28a0d3[_0x1dd663+(-0xf0+-0x1cef+0x1ddf)],_0x1f99ce=_0x28a0d3[_0x1dd663+(0x19*-0x14b+-0x1*0x1efb+0x3f4f)],_0x41fd8d=_0x28a0d3[_0x1dd663+(0xcc4+-0x13b1*-0x1+-0x9*0x39b)],_0x4ee4c5=_0x28a0d3[_0x1dd663+(-0x23b*-0x8+0x187e*-0x1+0x6a9)],_0x3a53b3=_0x28a0d3[_0x1dd663+(-0x267b+-0x3b*0x6b+0x3f28)],_0x455058=_0x28a0d3[_0x1dd663+(0x1ec1+-0x1*0x138f+-0xb2d)];const _0x2c2545=Math['min'](this['numSplats'],(_0x52b1e3+(0x1*-0x250b+0x25e5+-0xd9))*(-0x301*-0x5+0x25c0+-0x33c5));for(let _0x4747c7=_0x52b1e3*(-0x1*0x11f4+-0x7*0x440+-0x2*-0x185a);_0x4747c7<_0x2c2545;++_0x4747c7){const _0x48df3c=_0x24bf5f[_0x4747c7*(0x1e47+-0x8df+-0x1564)],_0x445d80=(_0x48df3c>>>-0x1967+0x248f+-0x3b1*0x3)/(-0x20bf+0x248a+0x1*0x434),_0x24d9bd=(_0x48df3c>>>-0xbab+-0x16d3*0x1+0x2289&0x2c2*-0x3+0x241e+-0x5*0x4c5)/(-0x3b3*0x7+-0x3c0+0x21a4),_0x1ef960=(_0x48df3c&0x523*0x5+0x2*0x12d+0x6*-0x357)/(0x1da7+-0x17c7+0x21f);_0x497a62[_0x4747c7*(0x251*0xb+0x2*0x677+0xa*-0x3d7)+(-0x7*-0x10f+0x1b26+-0x228f)]=(0x16a0+-0xb45+-0xb5a-_0x445d80)*_0x5ced78+_0x445d80*_0x4ee4c5,_0x497a62[_0x4747c7*(-0x2234+0x19f5+0x842)+(0x14f1+-0x2187+-0xc97*-0x1)]=(-0x10*-0xc1+-0x2*-0x3ea+-0x6a1*0x3-_0x24d9bd)*_0x1f99ce+_0x24d9bd*_0x3a53b3,_0x497a62[_0x4747c7*(0x14+-0x1fcf+-0x1*-0x1fbe)+(-0x2501*-0x1+0x43*-0x31+-0x4*0x60b)]=(-0x14*-0xb1+0x4*0x319+-0x1a37-_0x1ef960)*_0x41fd8d+_0x1ef960*_0x455058;}}}['getChunks'](_0x1ed13b){const {chunkData:_0x3d5c48,numChunks:_0x4c5536,chunkSize:_0x2cc4fd}=this;let _0x4a515a,_0x52dbe1,_0x4caa3a,_0x3c066a,_0x169ebc,_0x34c9f7;for(let _0x4ace4f=0x235*-0x11+0xc5*0xb+0x1d0e;_0x4ace4f<_0x4c5536;++_0x4ace4f){const _0x58045d=_0x4ace4f*_0x2cc4fd;_0x4a515a=_0x3d5c48[_0x58045d+(0x21f1*0x1+-0x9c+-0x7*0x4c3)],_0x52dbe1=_0x3d5c48[_0x58045d+(-0x17*0x27+-0x250e+-0x10*-0x289)],_0x4caa3a=_0x3d5c48[_0x58045d+(-0x2171+-0xfe9+0x315c)],_0x3c066a=_0x3d5c48[_0x58045d+(-0x35*0x1+0x1b1*0xd+0x15c5*-0x1)],_0x169ebc=_0x3d5c48[_0x58045d+(0x7cf*-0x3+0x1434*0x1+0x33d)],_0x34c9f7=_0x3d5c48[_0x58045d+(0x3*-0x5b3+-0x20d3*-0x1+-0xfb5)],_0x1ed13b[_0x4ace4f*(-0x7*-0x197+0x250e+-0x3029)+(-0x3*0x1d7+-0x1caa+0x222f)]=_0x4a515a,_0x1ed13b[_0x4ace4f*(0x1ce0+0x2158+-0x3e32)+(-0x1*0xfc5+-0x14f5+0x1*0x24bb)]=_0x52dbe1,_0x1ed13b[_0x4ace4f*(0x1*-0x3d3+-0x5*-0x677+0x51*-0x5a)+(0x3*-0xa2f+0x6d*-0x43+0x3b16)]=_0x4caa3a,_0x1ed13b[_0x4ace4f*(-0x20e7*0x1+0x16*-0xe8+0x34dd)+(-0xd12+-0x1bf6+0x290b)]=_0x3c066a,_0x1ed13b[_0x4ace4f*(0x72d+0x1*-0x931+0x6*0x57)+(0xb37+0x382*0x4+-0x193b)]=_0x169ebc,_0x1ed13b[_0x4ace4f*(0x1eb+-0xf1*0x1+0xf4*-0x1)+(-0x1ba8+-0x1*0x535+0x20e2)]=_0x34c9f7;}}['calcFocalP'+'oint'](_0x554c5f){const {chunkData:_0x5090f2,numChunks:_0x3cfe9a,chunkSize:_0x4d98bc}=this;_0x554c5f['x']=0xc*-0x1ca+0xe98*0x1+0x10*0x6e,_0x554c5f['y']=0x6d0+0x1*-0x881+0x1b1,_0x554c5f['z']=0x1*0x1c12+-0x24da+0x232*0x4;for(let _0x5d451b=-0xfe9+0x1213+-0x22a;_0x5d451b<_0x3cfe9a;++_0x5d451b){const _0x59ce4b=_0x5d451b*_0x4d98bc;_0x554c5f['x']+=_0x5090f2[_0x59ce4b+(0x2272+-0x6bc+-0x1bb6)]+_0x5090f2[_0x59ce4b+(-0x2601+0x931*0x2+0x13a2*0x1)],_0x554c5f['y']+=_0x5090f2[_0x59ce4b+(-0x68*-0x3a+-0x5*-0x15b+-0x1e56)]+_0x5090f2[_0x59ce4b+(-0xaf5+-0xf*0x1b1+-0x2458*-0x1)],_0x554c5f['z']+=_0x5090f2[_0x59ce4b+(-0x315*0x1+-0x1*-0x1e21+-0x1b0a)]+_0x5090f2[_0x59ce4b+(0x1*-0x805+-0x9*0x189+0x15db)];}_0x554c5f['mulScalar']((0x646+-0x1b43*-0x1+-0x2189+0.5)/_0x3cfe9a);}get['isCompress'+'ed'](){return!(0x1*0x80d+-0x98*-0x5+-0xb05);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x64a*-0x1+0x11*0xa3+-0x339*0x5));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}async['decompress'](){const _0x12144e=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x540213}=this;if(_0x540213>0x3a*0x2f+-0x554+0x1*-0x552){const _0x732e04=[];for(let _0x1737ce=0x2*-0x102f+-0x5*0xcb+-0x47*-0x83;_0x1737ce<0x2695+0x1444+-0x5de*0xa;++_0x1737ce)_0x732e04['push']('f_rest_'+_0x1737ce);_0x12144e['splice'](_0x12144e['indexOf']('f_dc_0')+(-0x1388+0x1*0x115+0x1274),-0x16f7+0x22b2+-0xbbb,..._0x732e04);}const _0x40f943=new ik();return _0x40f943['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData0'],this['shData1'],this['shData2'],this['shBands']),new Promise((_0x24bd72,_0x1b0091)=>{_0x40f943['on']('decompress'+'ed',_0x83d3ea=>{_0x40f943['destroy'](),_0x24bd72(new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x12144e['map'](_0x239b3c=>({'type':'float','name':_0x239b3c,'storage':_0x83d3ea[_0x239b3c],'byteSize':0x4}))}],this['comments']));});});}}async function nk(){const _0x2c2d10='super4d-ca'+'che-v1',_0x2d2756={'maxAge':0x9a7ec800,'maxSize':0x280000000},_0x35098a=new Uint8Array([0x1a9d+-0x6b*0x5+-0x1816,-0x1a27+-0x242*0x2+-0x1f17*-0x1,-0x478+-0x7*0x2cc+0x1885,0xd*-0x2d7+-0x1450*-0x1+-0x10a5*-0x1]),_0x1fc2ef=new Uint8Array([-0x120b+-0x17b1+0x29c6,-0x1*-0x287+-0x3e6*-0x6+0x12*-0x16b,-0x5a5+0x30*0x7a+0x1*-0x10cd,0x1b24+-0x4f4*0x2+-0x10d8,-0xca9+-0x3fa*0x3+0x18f6,-0x1*0x1cde+0x1325+0x1*0xa21,-0x1a*-0x115+-0x1*0x1686+-0x537,-0x6b5+-0x545+0xc5b*0x1,-0x2*-0xe3a+0xf5b*0x2+0x3ac6*-0x1,0x22db+-0x8e1+-0x1*0x1995,0x1*-0x10a3+0x7*-0x3e+0x12c7*0x1,-0x26bb+0xbfc+-0x1*-0x1ac9]),_0x23603a=-0x251b+-0xb3f*0x2+0x3b99+0.28209479177387814,_0x56653c=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class _0x46e67d{constructor(_0x6b9de2={}){this['options']={..._0x2d2756,..._0x6b9de2},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=0x1a11+-0xecf+0x5a1*-0x2,this['initialize'+'d']=!(0x1*0x106+-0x1180+-0x1*-0x107b);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x2c2d10);const _0xb9a65e=await this['cache']['keys'](),_0x3471b9=[];for(const _0x35373b of _0xb9a65e){const _0x2e23b9=_0x35373b['url'],_0x417193=await this['cache']['match'](_0x2e23b9);if(_0x417193){const _0x4ace73=(await _0x417193['blob']())['size'],_0x518a16=_0x417193['headers']['get']('x-cache-ti'+'me');_0x518a16&&_0x3471b9['push']({'url':_0x2e23b9,'size':_0x4ace73,'cacheTime':parseInt(_0x518a16)});}}_0x3471b9['sort']((_0x127a21,_0x400adb)=>_0x127a21['cacheTime']-_0x400adb['cacheTime']);for(const _0x5c74dc of _0x3471b9)this['cacheSizes']['set'](_0x5c74dc['url'],_0x5c74dc['size']),this['currentSiz'+'e']+=_0x5c74dc['size'],this['lruList']['push'](_0x5c74dc['url']);}catch(_0x1c8d25){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x1c8d25);}this['initialize'+'d']=!(-0x2538+-0x1f5d+0x1*0x4495);}}async['get'](_0xed446){if(await this['init'](),!this['cache'])return null;try{const _0x3c4655=await this['cache']['match'](_0xed446);if(!_0x3c4655)return null;const _0x1aebe0=_0x3c4655['headers']['get']('x-cache-ti'+'me');return _0x1aebe0&&Date['now']()-parseInt(_0x1aebe0)>this['options']['maxAge']?(await this['delete'](_0xed446),null):(this['updateLRU'](_0xed446),_0x3c4655);}catch{return null;}}async['set'](_0x4a9794,_0x129e1a){if(!(!this['cache']||_0x4a9794['startsWith']('blob:')))try{const _0x50e020=_0x129e1a['clone'](),_0x5c09f4=await _0x50e020['blob'](),_0x4923a0=_0x5c09f4['size'];this['currentSiz'+'e']+_0x4923a0>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x4923a0);const _0x1df202=new Headers(_0x50e020['headers']);_0x1df202['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x140e7b=new Response(_0x5c09f4,{'status':_0x50e020['status'],'statusText':_0x50e020['statusText'],'headers':_0x1df202});await this['cache']['put'](_0x4a9794,_0x140e7b),this['cacheSizes']['set'](_0x4a9794,_0x4923a0),this['currentSiz'+'e']+=_0x4923a0,this['updateLRU'](_0x4a9794);}catch(_0x24897a){console['error']('Cache\x20set\x20'+'error:',_0x24897a);}}['updateLRU'](_0x59d01e){const _0x529294=this['lruList']['indexOf'](_0x59d01e);_0x529294>-(0x108e+0x1259+-0x22e6)&&this['lruList']['splice'](_0x529294,-0x366+-0x14ed+0x207*0xc),this['lruList']['push'](_0x59d01e);}async['cleanupSpa'+'ce'](_0xc11b53){const _0x27555d=this['options']['maxSize']*(-0x885+0x4*0x2ef+-0x337+0.9);if(!(this['currentSiz'+'e']<=_0x27555d))for(;this['lruList']['length']>-0x1079*-0x1+0x773+-0x17ec&&this['currentSiz'+'e']>_0x27555d;){const _0x86a2d6=this['lruList']['shift']();_0x86a2d6&&await this['delete'](_0x86a2d6);}}async['delete'](_0x27c4cc){if(this['cache'])try{await this['cache']['delete'](_0x27c4cc);const _0x130f81=this['cacheSizes']['get'](_0x27c4cc)||-0x46a+-0x1b82+0x1fec;this['currentSiz'+'e']-=_0x130f81,this['cacheSizes']['delete'](_0x27c4cc);const _0x1b23ab=this['lruList']['indexOf'](_0x27c4cc);_0x1b23ab>-(0x1f9f+0x1ab7*0x1+-0x3a55)&&this['lruList']['splice'](_0x1b23ab,-0x1d17+-0x1*-0x71+0x1ca7);}catch(_0xe11f34){console['error']('Cache\x20dele'+'te\x20error:',_0xe11f34);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x56ee8e=>Promise['all'](_0x56ee8e['map'](_0x323cdc=>{var _0x26db5b;return(_0x26db5b=this['cache'])==null?void(-0x211*-0x2+0x12d4*0x2+-0x29ca*0x1):_0x26db5b['delete'](_0x323cdc);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x2541+-0x10e1+-0x1460;}catch(_0x2f9021){console['error']('Cache\x20clea'+'r\x20error:',_0x2f9021);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x4e4+0x1075+-0x149*0x9;}}class _0x47d403{constructor(_0x410d6e=[],_0x34ac20={}){this['cacheManag'+'er']=new _0x46e67d(_0x34ac20['cache']),this['retryCount']=_0x34ac20['retryCount']||-0x1008+0x1265+-0x25a,this['retryDelay']=_0x34ac20['retryDelay']||-0x2323+-0x141f+-0x1c9b*-0x2,this['maxConcurr'+'ency']=_0x34ac20['maxConcurr'+'ency']||-0x1ce7+0xc9*-0x30+0x4299,this['downloadQu'+'eue']=_0x410d6e,this['isProcessi'+'ngDownload'+'Queue']=!(-0x2237+-0x618+0x2850),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(-0x154f+-0x1c96+0x35*0xf1);this['downloadQu'+'eue']['length']>0x233*-0x1+-0x1752+-0x1*-0x1985;)try{const _0x4acc42=this['downloadQu'+'eue']['splice'](0x1094*-0x2+-0x17b4+0x4bd*0xc,this['maxConcurr'+'ency'])['map'](_0xd8f31f=>{if(!this['pendingRes'+'ponses']['has'](_0xd8f31f)){const _0x230b47=this['download'](_0xd8f31f);return this['pendingRes'+'ponses']['set'](_0xd8f31f,_0x230b47),_0x230b47['then'](()=>{this['pendingRes'+'ponses']['delete'](_0xd8f31f);});}return Promise['resolve']();});await Promise['all'](_0x4acc42);}catch(_0x3b7715){console['error']('Download\x20e'+'rror:',_0x3b7715);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(0xee0+0x5*-0x173+-0xf4*0x8);}}}async['fetch'](_0x30d736,_0x167c7e={}){if(this['pendingRes'+'ponses']['has'](_0x30d736))return this['pendingRes'+'ponses']['get'](_0x30d736);const {forceRefresh:_0x5c97a0=!(0xadb+0x2fe+0x1bb*-0x8),..._0xeac713}=_0x167c7e;this['pendingRes'+'ponses']['set'](_0x30d736,this['download'](_0x30d736,_0xeac713));const _0x514660=await this['pendingRes'+'ponses']['get'](_0x30d736);return this['pendingRes'+'ponses']['delete'](_0x30d736),_0x514660;}async['download'](_0x5d6d0e,_0x4ca7d8={}){var _0x573ce5;await((_0x573ce5=this['cacheManag'+'er'])==null?void(0x47f*-0x1+0xaf6+-0x677):_0x573ce5['init']());const {forceRefresh:_0x1ecf9c=!(-0x23ce+0x47*-0x37+0x3310),..._0x3bf7db}=_0x4ca7d8;_0x1ecf9c&&await this['cacheManag'+'er']['delete'](_0x5d6d0e);const _0xd7bafb=await this['cacheManag'+'er']['get'](_0x5d6d0e);if(_0xd7bafb)return _0xd7bafb;let _0x44f051;for(let _0x7d4fef=0x199a*0x1+0x23d*-0xa+0x1*-0x338;_0x7d4fef<this['retryCount'];_0x7d4fef++)try{const _0x1097c2=await fetch(_0x5d6d0e,_0x3bf7db);if(!_0x1097c2['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x1097c2['status']);return await this['cacheManag'+'er']['set'](_0x5d6d0e,_0x1097c2),_0x1097c2;}catch(_0x5fc010){console['error']('Download\x20e'+'rror:',_0x5fc010),_0x44f051=_0x5fc010,_0x7d4fef<this['retryCount']-(-0x1c*0x119+-0x1b9+0x2076)&&await new Promise(_0x32fa6c=>setTimeout(_0x32fa6c,this['retryDelay']*(_0x7d4fef+(0x14*-0x14d+-0x1c91+0x22*0x19b))));}throw _0x44f051;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){this['cacheManag'+'er']['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(-0x1487+-0x29*0x12+0x176a),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x304701{constructor(){this['numSplats']=-0x825+-0x2091+0x28b6,this['comments']=[],this['chunkData']=new Float32Array(0xa8a+0x120f+0x1c99*-0x1),this['vertexData']=new Uint32Array(0x3b*0x5c+-0x1*0xa97+-0xa9d*0x1),this['is4D']=!(-0x4b0+-0x2*0xae5+0x1a7a),this['shBands']=0x7*-0x134+-0x38c*-0x7+-0x20d*0x8,this['shData0']=new Uint8Array(-0x18d2+-0x44d*-0x3+0x1b*0x71),this['shData1']=new Uint8Array(-0xec4+0xe73+0x51),this['shData2']=new Uint8Array(0x4*-0x905+-0x19f3*0x1+0x3e07),this['elements']=[],this['isCompress'+'ed']=!(0x39*0x37+0x1*0x1245+-0x1b2*0x12);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x35*0xa9+0x1517*-0x1+0x3914));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}}class _0xe14823{constructor(_0x2225a5,_0x322879=[]){this['elements']=_0x2225a5,this['comments']=_0x322879,this['isCompress'+'ed']=!(-0x3*0xc7f+-0x172+0x2c8*0xe);}}class _0x266e76{constructor(_0x4f5463,_0x4d3116){this['reader']=_0x4f5463,this['progressFu'+'nc']=_0x4d3116,this['head']=0x1b70+-0x2af*-0xd+-0x3e53,this['tail']=-0x18d4+0x1e22+0xe*-0x61;}async['read'](){var _0x441c1d;const {value:_0x5c7715,done:_0x3325fb}=await this['reader']['read']();if(_0x3325fb)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x5c7715),(_0x441c1d=this['progressFu'+'nc'])==null||_0x441c1d['call'](this,_0x5c7715['byteLength']);}['push'](_0xc040e4){if(!this['data'])this['data']=_0xc040e4,this['view']=new DataView(this['data']['buffer']),this['tail']=_0xc040e4['length'];else{const _0x5171fc=this['tail']-this['head'],_0x29d37d=_0x5171fc+_0xc040e4['length'];if(this['data']['length']>=_0x29d37d)this['head']>-0x2481+0xaf+0x23d2?(this['data']['copyWithin'](-0x199d+-0x5a5+0xfa1*0x2,this['head'],this['tail']),this['data']['set'](_0xc040e4,_0x5171fc),this['head']=0x1*0x10da+0x2058+0x3132*-0x1,this['tail']=_0x29d37d):(this['data']['set'](_0xc040e4,this['tail']),this['tail']+=_0xc040e4['length']);else{const _0x525587=new Uint8Array(_0x29d37d);this['head']>0x210a+0x21*-0x93+0x1*-0xe17||this['tail']<this['data']['length']?_0x525587['set'](this['data']['subarray'](this['head'],this['tail']),-0x1278+0x6d*-0x1+-0x2b3*-0x7):_0x525587['set'](this['data'],-0x1*0x63+-0xe30+-0xe93*-0x1),_0x525587['set'](_0xc040e4,_0x5171fc),this['data']=_0x525587,this['view']=new DataView(this['data']['buffer']),this['head']=-0xc7*-0xa+0xd51+0x1*-0x1517,this['tail']=_0x29d37d;}}}['compact'](){this['head']>0x783+0xb01+-0x1284&&(this['data']['copyWithin'](0x1*-0xdcb+-0x350+-0x111b*-0x1,this['head'],this['tail']),this['tail']-=this['head'],this['head']=-0x2*-0x1d3+-0x65a+0xad*0x4);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x380ee1=this['view']['getInt8'](this['head']);return this['head']++,_0x380ee1;}['getUint8'](){const _0x3e2efb=this['view']['getUint8'](this['head']);return this['head']++,_0x3e2efb;}['getInt16'](){const _0x224f11=this['view']['getInt16'](this['head'],!(-0x1e6+-0x6c0*0x2+0xf66));return this['head']+=-0x3e4+0x66b+-0x285,_0x224f11;}['getUint16'](){const _0x5ea172=this['view']['getUint16'](this['head'],!(-0x1065+0x203b+-0xfd6));return this['head']+=-0x267+-0x1*0x255b+0x14*0x1fd,_0x5ea172;}['getInt32'](){const _0x30e7d5=this['view']['getInt32'](this['head'],!(0x1*-0x2589+-0xf*-0x1f7+0x810));return this['head']+=0x1652*0x1+-0xab8+-0x1*0xb96,_0x30e7d5;}['getUint32'](){const _0x1fca97=this['view']['getUint32'](this['head'],!(-0x1a*-0xda+0x1ff3*0x1+0x3617*-0x1));return this['head']+=-0x11e6+-0xbac+-0x21d*-0xe,_0x1fca97;}['getFloat32'](){const _0x273bce=this['view']['getFloat32'](this['head'],!(-0x1c5*0xf+0x1570*-0x1+0x2ffb));return this['head']+=0xee*-0x13+0x1ee0+-0xd32,_0x273bce;}['getFloat64'](){const _0x5e68da=this['view']['getFloat64'](this['head'],!(0x1ec6+-0x2*-0x56b+-0x299c));return this['head']+=0x1c8f+-0x4f3+0xbca*-0x2,_0x5e68da;}}class _0x19665f{constructor(_0x1e49cd,_0x386717,_0x513bba){this['x']=_0x1e49cd,this['y']=_0x386717,this['z']=_0x513bba;}}class _0x31b779{constructor(_0x243dfa,_0x80775e,_0x1c2005,_0x38f03a){this['x']=_0x243dfa,this['y']=_0x80775e,this['z']=_0x1c2005,this['w']=_0x38f03a;}}class _0x9e1df9{constructor(_0x402193,_0x2bec7b,_0x347633,_0x4f6b82){this['x']=_0x402193,this['y']=_0x2bec7b,this['z']=_0x347633,this['w']=_0x4f6b82;}['set'](_0x36be56,_0x184748,_0xf7f548,_0x305d44){this['x']=_0x36be56,this['y']=_0x184748,this['z']=_0xf7f548,this['w']=_0x305d44;}}class _0x3178a0{constructor(_0x4f124e,_0x2d3869,_0x314276,_0x4fdc9b,_0x5d4118,_0x2ba14d,_0x937b87,_0x19b882,_0x1a5e93,_0x22a292,_0x51bfde,_0x296e28,_0x12e1b9,_0x41344b){const _0x510428=(_0x46638e,_0x5b1dae)=>{const _0x39e47c=(0x1dbb*0x1+-0x2673+0x8b9<<_0x5b1dae)-(0x2*0x11db+0x441+-0x2*0x13fb);return(_0x46638e&_0x39e47c)/_0x39e47c;},_0x251fe7=(_0x34a788,_0x21eb03)=>{_0x34a788['x']=_0x510428(_0x21eb03>>>-0xce8+-0xf*-0x1b3+-0xc80,-0x3*0x425+0xb3c+0x35*0x6),_0x34a788['y']=_0x510428(_0x21eb03>>>0x7b8*-0x4+-0x1*-0x1bc5+-0x1a*-0x1f,-0x1*0xf6f+0x2482+-0x703*0x3),_0x34a788['z']=_0x510428(_0x21eb03,0x49f+0x164f*-0x1+0x11bb);},_0x21de67=(_0x4dfe64,_0x51d26e)=>{_0x4dfe64['x']=_0x510428(_0x51d26e>>>-0x1fcb+0x1*-0x1dc8+0x3dab,-0x110e*-0x1+0x4bd*0x4+0x133*-0x1e),_0x4dfe64['y']=_0x510428(_0x51d26e>>>0x4*-0x603+0x15cd+-0x1*-0x24f,-0x833+-0x1*0x1141+0x197c),_0x4dfe64['z']=_0x510428(_0x51d26e>>>-0xc*0xdb+0x26a7+-0x1c5b,0x1e25*-0x1+-0xc85+0x445*0xa),_0x4dfe64['w']=_0x510428(_0x51d26e,-0x23f1+0x2b1*-0xd+0x46f6);},_0x46fa74=(_0x1bca1f,_0x2fe761)=>{const _0x1145c1=(0x24f4+0x2327+-0x481a)/(Math['sqrt'](0x1632+-0x1dd2+-0x1*-0x7a2)*(-0x892*-0x4+-0x4be+-0x1d8a+0.5)),_0x17c528=(_0x510428(_0x2fe761>>>-0x15f8+0x810+0xa*0x166,0x26ce+0x1b8*-0x12+-0xc*0xa7)-(-0x155e+0x127c*0x1+0x52*0x9+0.5))*_0x1145c1,_0x89f5b4=(_0x510428(_0x2fe761>>>-0x1*0xfe1+-0x810+0x7*0x36d,0x1145+0x259b+-0x36d6*0x1)-(0x52f*0x7+0x1*-0x1c19+-0x830+0.5))*_0x1145c1,_0x4d70a3=(_0x510428(_0x2fe761,-0x4e1+-0x245e+0x2949)-(0xf60+-0x19be+0xa5e+0.5))*_0x1145c1,_0x32f175=Math['sqrt'](-0x833+-0x1*0x1193+0x19c7-(_0x17c528*_0x17c528+_0x89f5b4*_0x89f5b4+_0x4d70a3*_0x4d70a3));switch(_0x2fe761>>>-0x1*-0x23ce+0x1*-0x1282+-0x112e){case-0xc95+-0x9*0x238+-0x1*-0x208d:_0x1bca1f['set'](_0x17c528,_0x89f5b4,_0x4d70a3,_0x32f175);break;case-0xf*-0x130+0xa67+0x2*-0xe1b:_0x1bca1f['set'](_0x32f175,_0x89f5b4,_0x4d70a3,_0x17c528);break;case-0x7d5+0x1*0x1649+-0x2*0x739:_0x1bca1f['set'](_0x89f5b4,_0x32f175,_0x4d70a3,_0x17c528);break;case-0x2c*0x33+-0x1253+0x1b1a:_0x1bca1f['set'](_0x89f5b4,_0x4d70a3,_0x32f175,_0x17c528);break;}},_0x16cf29=(_0x452eff,_0x1c5e4d,_0x5dc298)=>_0x452eff*(0x4*-0x133+-0x1f*-0x8b+0x2*-0x604-_0x5dc298)+_0x1c5e4d*_0x5dc298,_0x53d6d5=[-0x12d*0x2+-0x1d2c*0x1+0x1f89,-0x1ddf+-0x127*0x9+0x2846,0x55c+-0x248e+-0x1*-0x1f41][_0x937b87-(0x1d9a+0x26b*-0x7+-0xcac*0x1)],_0x709c0a=0x1be7+-0x61b*0x1+0x6*-0x3a1;this['read']=_0x1b2fc8=>{const _0xa7ce06=Math['floor'](_0x1b2fc8/(0x182f*0x1+-0xd25+-0xa0a))*_0x2d3869;if(_0x19b882&&(_0x251fe7(_0x19b882,_0x314276[_0x1b2fc8*_0x709c0a+(0x186c*-0x1+-0x1d58+0x25*0x174)]),_0x19b882['x']=_0x16cf29(_0x4f124e[_0xa7ce06+(-0x3a*-0x43+0x253+-0x1181)],_0x4f124e[_0xa7ce06+(0x15af+0xdf2+-0x239e)],_0x19b882['x']),_0x19b882['y']=_0x16cf29(_0x4f124e[_0xa7ce06+(-0x10a2*0x1+-0x318*0x6+0x1*0x2333)],_0x4f124e[_0xa7ce06+(-0x2*-0x7d3+-0x129+0xc3*-0x13)],_0x19b882['y']),_0x19b882['z']=_0x16cf29(_0x4f124e[_0xa7ce06+(0x182*-0xb+0x17fb+-0x1f*0x3d)],_0x4f124e[_0xa7ce06+(-0x2b*-0x8+0x30d+-0x460)],_0x19b882['z'])),_0x1a5e93&&_0x46fa74(_0x1a5e93,_0x314276[_0x1b2fc8*_0x709c0a+(0x1067+-0xe6+-0xf80)]),_0x22a292&&(_0x251fe7(_0x22a292,_0x314276[_0x1b2fc8*_0x709c0a+(-0x16d7+-0x1e32+0x25*0x16f)]),_0x22a292['x']=_0x16cf29(_0x4f124e[_0xa7ce06+(0x3*0x88d+-0x16bb*-0x1+-0x4*0xc17)],_0x4f124e[_0xa7ce06+(0x15*-0xef+-0xf3c+0xf8*0x24)],_0x22a292['x']),_0x22a292['y']=_0x16cf29(_0x4f124e[_0xa7ce06+(0xe95+-0x122c+0x39e)],_0x4f124e[_0xa7ce06+(-0x2045+-0x1ed+0x223c)],_0x22a292['y']),_0x22a292['z']=_0x16cf29(_0x4f124e[_0xa7ce06+(-0x1ab*0x1+-0x1*-0xad+0x2*0x83)],_0x4f124e[_0xa7ce06+(-0x505+-0xfd4*0x2+0x24b8)],_0x22a292['z'])),_0x51bfde&&(_0x21de67(_0x51bfde,_0x314276[_0x1b2fc8*_0x709c0a+(0x211+-0x1be5+-0xf5*-0x1b)]),_0x2d3869>-0x1d31+0x22f7+0x1*-0x5ba&&(_0x51bfde['x']=_0x16cf29(_0x4f124e[_0xa7ce06+(0x11fd*0x1+0x2199+-0x338a)],_0x4f124e[_0xa7ce06+(0x89*-0x7+-0x58+0x213*0x2)],_0x51bfde['x']),_0x51bfde['y']=_0x16cf29(_0x4f124e[_0xa7ce06+(-0x7d*0x4a+-0x2010+0x443f)],_0x4f124e[_0xa7ce06+(0x26f3+0x16ae+0x3d91*-0x1)],_0x51bfde['y']),_0x51bfde['z']=_0x16cf29(_0x4f124e[_0xa7ce06+(-0x27*-0xf+-0x951+0x2*0x38b)],_0x4f124e[_0xa7ce06+(-0xfc+-0x634*0x4+-0x1*-0x19dd)],_0x51bfde['z']))),_0x296e28&&(_0x251fe7(_0x296e28,_0x314276[_0x1b2fc8*_0x709c0a+(-0xb4c+0x50a*0x1+0x1*0x646)]),_0x296e28['x']=_0x16cf29(_0x4f124e[_0xa7ce06+(-0x13c0+0xf5*-0x26+-0xe0c*-0x4)],_0x4f124e[_0xa7ce06+(-0xb1*0x1a+-0x38a*-0xa+-0x1155)],_0x296e28['x']),_0x296e28['y']=_0x16cf29(_0x4f124e[_0xa7ce06+(-0x255*-0x6+0x1175*0x1+-0x1f60)],_0x4f124e[_0xa7ce06+(0x13*-0x75+-0x6f9+0xfbe)],_0x296e28['y']),_0x296e28['z']=_0x16cf29(_0x4f124e[_0xa7ce06+(-0x25d8+-0xfad+0x3599)],_0x4f124e[_0xa7ce06+(-0x11b7+0x11e*-0x10+0x23ae)],_0x296e28['z'])),_0x12e1b9&&(_0x251fe7(_0x12e1b9,_0x314276[_0x1b2fc8*_0x709c0a+(0x26*0x9+-0xdd*-0x1f+-0x1c14)]),_0x12e1b9['x']=_0x16cf29(_0x4f124e[_0xa7ce06+(-0x7*-0x337+0x5*-0x9d+-0x1358)],_0x4f124e[_0xa7ce06+(-0x248*0x10+0x322+0x2177)],_0x12e1b9['x']),_0x12e1b9['y']=_0x16cf29(_0x4f124e[_0xa7ce06+(0x227+0x12fe+-0x150b)],_0x4f124e[_0xa7ce06+(-0x10b0+-0x7*-0x151+0x794)],_0x12e1b9['y'])),_0x41344b&&_0x937b87>-0xfbb+-0x155+-0x27*-0x70){const _0x4e69e9=[_0x4fdc9b,_0x5d4118,_0x2ba14d];for(let _0x187527=-0x1df2+-0x2*0x11ef+0xd*0x510;_0x187527<0x20b8+-0x76+-0x203f;++_0x187527)for(let _0x483438=-0x1a49+-0x24a9+0x3ef2;_0x483438<0x14*-0xc7+0xc9a+-0x301*-0x1;++_0x483438)_0x41344b[_0x187527*(0x451+-0xecb+0xa89)+_0x483438]=_0x483438<_0x53d6d5?_0x4e69e9[_0x187527][_0x1b2fc8*(-0x1f*0x3a+-0x868+0xf7e)+_0x483438]*((0xe9*-0x5+-0x11*-0x25+0x220)/(-0x1cf1+-0x25d*0xb+0x183*0x25))-(0x19c0+-0xff4+0x4*-0x272):0x122c+0x3*-0xaf5+0xeb3;}};}}self['onmessage']=async _0x537b65=>{var _0x99654e,_0x5b57d1,_0x5d018b;const {data:_0x54b31d}=_0x537b65;switch(_0x54b31d['type']){case'initWorker':globalThis['loadUrlLis'+'t']=_0x54b31d['loadUrlLis'+'t'],globalThis['fetchWorke'+'r']=new _0x47d403(globalThis['loadUrlLis'+'t']);break;case'destroyWor'+'ker':(_0x99654e=globalThis['fetchWorke'+'r'])==null||_0x99654e['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['loadUrlLis'+'t']=[];break;case'loadPly':const {url:_0x517a58,decompress:_0x401ca1}=_0x54b31d;try{globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x47d403(globalThis['loadUrlLis'+'t']));const _0x14bc4d=await globalThis['fetchWorke'+'r']['fetch'](_0x517a58);if(!_0x14bc4d||!_0x14bc4d['body'])self['postMessag'+'e']({'type':'error','data':'Error\x20load'+'ing\x20resour'+'ce','url':_0x517a58});else{const _0x137467=parseInt(_0x14bc4d['headers']['get']('content-le'+'ngth')??'0',0x1*-0xaf7+0x1e21+-0x20*0x99);self['postMessag'+'e']({'type':'totalLengt'+'h','totalLength':_0x137467,'bytes':0x0,'url':_0x517a58});let _0xe3950c=await _0x366b47(_0x14bc4d['body']['getReader'](),_0x4e6d6c=>{self['postMessag'+'e']({'type':'progress','bytes':_0x4e6d6c,'totalLength':_0x137467,'url':_0x517a58});});if(_0x401ca1&&_0xe3950c['isCompress'+'ed']){const _0x405756=_0x1efe78(_0xe3950c),_0x4bb4f0=(_0x5b57d1=_0x405756==null?void(0x1389*0x1+0x6*-0x362+0xc3):_0x405756['elements'][0x1*0x9cb+0x152+0xb1d*-0x1])==null?void(0x1f24+0x2*0x5db+-0x2ada):_0x5b57d1['properties']['map'](_0x336599=>_0x336599['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x405756,'url':_0x517a58},_0x4bb4f0);}else{if(_0xe3950c['isCompress'+'ed']){const _0x2040bd=['chunkData','vertexData'];_0xe3950c['shData0']&&_0x2040bd['push']('shData0','shData1','shData2');const _0x205bb8=_0x2040bd['map'](_0x3200b8=>{var _0x402c7c;return(_0x402c7c=_0xe3950c[_0x3200b8])==null?void(0x989+-0x1d47+-0x2*-0x9df):_0x402c7c['buffer'];});self['postMessag'+'e']({'type':'splatData','data':_0xe3950c,'url':_0x517a58},_0x205bb8);}else{_0xe3950c=_0x3feffa(_0xe3950c);const _0x221607=(_0x5d018b=_0xe3950c==null?void(0x1*-0x18a1+-0x2a1*-0x3+0x10be):_0xe3950c['elements'][0x3e0*0x1+0x1f0b*-0x1+0x1*0x1b2b])==null?void(0x1bf*-0x14+0x1ce0+0x2*0x306):_0x5d018b['properties']['map'](_0xe84e6b=>_0xe84e6b['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0xe3950c,'url':_0x517a58},_0x221607);}}}}catch(_0x384612){self['postMessag'+'e']({'type':'error','data':_0x384612['message'],'url':_0x517a58});}break;}};const _0x3feffa=_0x279c63=>{var _0x3783ab;const _0x1667cb=(_0x3783ab=_0x279c63==null?void(-0x425*-0x4+0x2576+-0x2*0x1b05):_0x279c63['elements'][-0x1249*0x2+-0xd9*0xd+-0x3*-0xfdd])==null?void(-0x117e+0xd0a+0x4c*0xf):_0x3783ab['properties']['find'](_0x3e41f8=>_0x3e41f8['name']==='opacity');if(_0x1667cb){for(let _0xc1e67d=0x1b0f*-0x1+0xd*-0x97+0x6f2*0x5;_0xc1e67d<_0x1667cb['storage']['length'];_0xc1e67d++)_0x1667cb['storage'][_0xc1e67d]=(0x2b*-0xd6+-0x26c9+0x2*0x255e)/(-0x1*-0x1e99+-0x1809+-0x68f+Math['exp'](-_0x1667cb['storage'][_0xc1e67d]));}return _0x279c63;},_0x1305d5=_0x15af5d=>{const _0x55b760=[],_0x5e5a87=[];let _0x27571e;for(let _0x50ce4c=0x591*-0x6+-0xf3*0x19+0x2*0x1c91;_0x50ce4c<_0x15af5d['length'];++_0x50ce4c){const _0x31670f=_0x15af5d[_0x50ce4c]['split']('\x20');switch(_0x31670f[-0x1*-0x1a7d+-0xb33+-0x2*0x7a5]){case'comment':_0x5e5a87['push'](_0x31670f['slice'](-0x1*-0x1e9c+0x7c*-0x47+0x3c9)['join']('\x20'));break;case'format':_0x27571e=_0x31670f[-0x5ab+-0x14bb+-0x3*-0x8cd];break;case'element':_0x55b760['push']({'name':_0x31670f[0x18b2+0x2468+0x3d19*-0x1],'count':parseInt(_0x31670f[-0x1bf5+-0x17*-0x49+-0x14*-0x112],0x20b*-0x5+-0x2af*0xb+0x27c6*0x1),'properties':[]});break;case'property':{if(!_0x56653c['has'](_0x31670f[-0x1d9a+-0x1ff5*0x1+0xc5*0x50]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x31670f[-0x21d*0x7+-0x1cb0+0x2b7c]+('\x27\x20in\x20ply\x20h'+'eader'));_0x55b760[_0x55b760['length']-(0x1*-0x25fd+0x18eb+0xd13)]['properties']['push']({'type':_0x31670f[-0x144a+-0x11bd+0x2608],'name':_0x31670f[-0x21e*-0x5+0xa2b*-0x3+-0x13ed*-0x1],'storage':null,'byteSize':_0x56653c['get'](_0x31670f[0x1391*-0x1+-0x1b93+-0x1*-0x2f25])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x31670f[-0x3*-0xb8+-0x1*0x10c0+0xe98]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x55b760,'format':_0x27571e,'comments':_0x5e5a87};},_0x31416e=_0x451100=>{const _0x1c29b3=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x479928=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x1c1dcd=new Array(0x1ae1+0x9*-0x3d1+0x7a5*0x1)['fill']('')['map']((_0x3fb083,_0x40dfc6)=>'f_rest_'+_0x40dfc6),_0x531335=()=>_0x451100[0x1f6c+-0x1*0x434+-0x1b38]['name']==='chunk'&&_0x451100[0x1b7*0x2+0x627+-0x995]['properties']['every']((_0x28546b,_0x19117a)=>_0x28546b['name']===_0x1c29b3[_0x19117a]&&_0x28546b['type']==='float')&&_0x451100[-0x1*0xaa7+-0x925*-0x1+-0x183*-0x1]['name']==='vertex'&&_0x451100[0x1*-0x1097+0x3fd+0xc9b]['properties']['every']((_0x449a7d,_0x203633)=>_0x449a7d['name']===_0x479928[_0x203633]&&_0x449a7d['type']==='uint'),_0x3531e3=()=>_0x451100[-0x1be6+0x24a0*0x1+-0x8b8]['name']==='sh'&&[-0xcce+0x23d3+-0x16fc,-0x221*-0x3+0x802+-0xe4d,-0x15f2+0x26b+0x2*0x9da]['indexOf'](_0x451100[-0xa85+0x2*0x296+-0x1c9*-0x3]['properties']['length'])!==-(-0x95*0xb+-0xb7e+0x11e6)&&_0x451100[0x1*-0x22e1+-0x11b1+0x3494]['properties']['every']((_0x38ad22,_0x363e7a)=>_0x38ad22['name']===_0x1c1dcd[_0x363e7a]&&_0x38ad22['type']==='uchar');return _0x451100['length']===-0xb*-0x16d+-0x22a1+-0x4*-0x4bd&&_0x531335()||_0x451100['length']===0x1*-0xf47+-0x1b49+0x2a93&&_0x531335()&&_0x3531e3();},_0x5f32d7=_0x302c52=>_0x302c52['length']===0x1e87+-0xb9*0x33+0x655&&_0x302c52[-0xf61+-0x1*0x2c5+0x1226]['name']==='vertex'&&_0x302c52[0x1ece+0xecd+-0x2d9b]['properties']['every'](_0x112c18=>_0x112c18['type']==='float'),_0x2defc6=async(_0x9e54f0,_0x3545d3,_0x229073)=>{const _0x7cad27=new _0x304701();_0x7cad27['comments']=_0x229073;const _0x2e3c19=_0x3545d3[-0xc79+-0x254a+0x31c3]['count'],_0x571e0d=_0x3545d3[-0x12c4+-0xdd*0x25+0x32b5]['properties']['length'],_0x1eeff0=_0x3545d3[0x29b+-0x84d+0x5b3]['count'],_0x4bd9b0=_0x3545d3[-0x1*0xead+0x1e02+-0xf54]['properties']['some'](_0x39efbc=>_0x39efbc['name']==='packed_tim'+'e'),_0x1c616e=(_0x97e9c1=>{const _0x2f1c8b=Math['ceil'](Math['sqrt'](_0x97e9c1)),_0x3f8f39=Math['ceil'](_0x97e9c1/_0x2f1c8b);return _0x2f1c8b*_0x3f8f39;})(_0x1eeff0);_0x7cad27['numSplats']=_0x1eeff0,_0x7cad27['is4D']=_0x4bd9b0,_0x7cad27['chunkData']=new Float32Array(_0x2e3c19*_0x571e0d),_0x7cad27['vertexData']=new Uint32Array(_0x1c616e*(0x19eb+-0x5cb*0x6+0x8dd));const _0x12bfad=async(_0x4e5c02,_0x4e0628)=>{const _0x4230fb=new Uint8Array(_0x4e5c02);let _0x5a154a=-0x1*-0x22b7+0x15aa+-0x3861;for(;_0x5a154a<_0x4e0628;){for(;_0x9e54f0['remaining']===0x1*0x16a6+-0xb76+0x4*-0x2cc;)await _0x9e54f0['read']();const _0x42570d=Math['min'](_0x4e0628-_0x5a154a,_0x9e54f0['remaining']),_0x273140=_0x9e54f0['data'];for(let _0x43c172=-0x20a7+-0x1ec2+0x3f69;_0x43c172<_0x42570d;++_0x43c172)_0x4230fb[_0x5a154a++]=_0x273140[_0x9e54f0['head']++];}};if(await _0x12bfad(_0x7cad27['chunkData']['buffer'],_0x2e3c19*_0x571e0d*(-0x121e+-0x425*-0x4+0x18e)),await _0x12bfad(_0x7cad27['vertexData']['buffer'],_0x1eeff0*(0x1779+-0x1c55*-0x1+-0x1*0x33c8)*(-0x24e4*-0x1+0xbeb+-0x1*0x30cb)),_0x3545d3['length']===0x807+-0xdc9+0x5c5){const _0x116028=_0x1c616e*(0x42b*0x5+0x838*-0x2+-0x457),_0x53c281=new Uint8Array(_0x116028),_0x5c30c8=new Uint8Array(_0x116028),_0x308d7a=new Uint8Array(_0x116028),_0x15dd93=-0x6a2+-0x794+0x1236,_0x243118=_0x3545d3[0xb*0x16+-0x24c5+0x23d5*0x1]['properties']['length']/(-0x10bf+-0x465+-0x39*-0x5f),_0x5c5ace=new Uint8Array(_0x15dd93*_0x243118*(0x603+0x244e*0x1+-0x2a4e));for(let _0x5688b1=-0x2007+0x265f+-0x658;_0x5688b1<_0x7cad27['numSplats'];_0x5688b1+=_0x15dd93){const _0x262eaa=Math['min'](_0x15dd93,_0x7cad27['numSplats']-_0x5688b1);await _0x12bfad(_0x5c5ace['buffer'],_0x262eaa*_0x243118*(0x1fa7+0xd2d*0x1+-0xb*0x413));for(let _0x1ecb7b=0x1*0x35b+0x5*-0x57f+0x1820;_0x1ecb7b<_0x262eaa;++_0x1ecb7b)for(let _0x1cb6d0=-0x4*-0x1d9+-0x11b*-0x13+0x1c65*-0x1;_0x1cb6d0<-0xdf5+0x1b11+-0xd*0x101;++_0x1cb6d0){const _0x2b0fa6=(_0x5688b1+_0x1ecb7b)*(-0x517+0x202*-0x5+0x1*0xf31)+_0x1cb6d0;_0x1cb6d0<_0x243118?(_0x53c281[_0x2b0fa6]=_0x5c5ace[(_0x1ecb7b*(0x1*-0xbc5+-0x1645+0x220d)+(0x18d6+0x1656+-0x2f2c))*_0x243118+_0x1cb6d0],_0x5c30c8[_0x2b0fa6]=_0x5c5ace[(_0x1ecb7b*(-0xc43*-0x2+0x8c4+-0x1*0x2147)+(0x4ca*0x1+0xa57+-0xf20))*_0x243118+_0x1cb6d0],_0x308d7a[_0x2b0fa6]=_0x5c5ace[(_0x1ecb7b*(0x557*0x2+0x37*-0x83+0x117a)+(0x10a6*0x1+-0x77+-0x1*0x102d))*_0x243118+_0x1cb6d0]):(_0x53c281[_0x2b0fa6]=-0x1*-0x7f6+-0x70b+0x1b*-0x4,_0x5c30c8[_0x2b0fa6]=-0x679*-0x2+0x1*-0x1b14+0x217*0x7,_0x308d7a[_0x2b0fa6]=0x1e5a+0x1ab*-0x4+0x5*-0x4a3);}}_0x7cad27['shData0']=_0x53c281,_0x7cad27['shData1']=_0x5c30c8,_0x7cad27['shData2']=_0x308d7a,_0x7cad27['shBands']={0x3:0x1,0x8:0x2,0xf:0x3}[_0x243118];}else _0x7cad27['shBands']=0xa32+0x441+-0x1*0xe73;return _0x7cad27;},_0x4ed973=async(_0x21f7e0,_0x46c670,_0xd3e75)=>{const _0xfdeb05=_0x46c670[0x311*-0x3+0x5*-0x631+0x2828],_0x2ab121=_0xfdeb05['properties'],_0x407af5=_0x2ab121['length'],_0x23f87a=_0x2ab121['map'](_0x603f1=>_0x603f1['storage']),_0x25ba50=_0x2ab121['reduce']((_0x1f1a86,_0x16a548)=>_0x1f1a86+_0x16a548['byteSize'],0x2284+-0x2f*0x8f+0x5*-0x1a7);let _0x5bc2d6=0x22d7+-0x77*-0x9+-0x2706,_0x41b130;const _0xbe438a=()=>{const _0x21c795=_0x21f7e0['data']['buffer'];(_0x41b130==null?void(-0x1bd1+-0x1e5+-0xedb*-0x2):_0x41b130['buffer'])!==_0x21c795&&(_0x41b130=new Float32Array(_0x21c795,-0x1*0x2329+0x2329+0x0,_0x21c795['byteLength']/(0x185c+-0x19c6+0x16e)));};for(_0xbe438a();_0x5bc2d6<_0xfdeb05['count'];){for(;_0x21f7e0['remaining']<_0x25ba50;)await _0x21f7e0['read'](),_0xbe438a();const _0x1f37f6=Math['min'](_0xfdeb05['count']-_0x5bc2d6,Math['floor'](_0x21f7e0['remaining']/_0x25ba50));for(let _0xf33fb7=0x1b52+-0x1296+-0x8bc;_0xf33fb7<_0x407af5;++_0xf33fb7){const _0x396fec=_0x23f87a[_0xf33fb7];for(let _0x51be18=-0x1*-0xc88+-0x174*0x19+-0xbe6*-0x2;_0x51be18<_0x1f37f6;++_0x51be18)_0x396fec[_0x51be18+_0x5bc2d6]=_0x41b130[_0x51be18*_0x407af5+_0xf33fb7];}_0x5bc2d6+=_0x1f37f6,_0x21f7e0['head']+=_0x1f37f6*_0x25ba50;}return new _0xe14823(_0x46c670,_0xd3e75);},_0x205638=async(_0x27abfc,_0x372d81,_0x2b67b0)=>{for(let _0x1d088f=-0x1*0x1f+-0xe13*-0x1+-0xdf4;_0x1d088f<_0x372d81['length'];++_0x1d088f){const _0x5499aa=_0x372d81[_0x1d088f],_0x506437=_0x5499aa['properties']['reduce']((_0x10d451,_0x56b7fc)=>_0x10d451+_0x56b7fc['byteSize'],0x125*-0x2+0xb*0x20a+-0x1424),_0x57ea01=_0x5499aa['properties']['map'](_0x269cf8=>{if(_0x269cf8['storage'])switch(_0x269cf8['type']){case'char':return(_0xdae24a,_0x274440)=>{_0x269cf8['storage'][_0x274440]=_0xdae24a['getInt8']();};case'uchar':return(_0x202736,_0x4d2405)=>{_0x269cf8['storage'][_0x4d2405]=_0x202736['getUint8']();};case'short':return(_0x13daf6,_0x43fbf4)=>{_0x269cf8['storage'][_0x43fbf4]=_0x13daf6['getInt16']();};case'ushort':return(_0x39f5fa,_0x41ee3f)=>{_0x269cf8['storage'][_0x41ee3f]=_0x39f5fa['getUint16']();};case'int':return(_0x157244,_0x3c0976)=>{_0x269cf8['storage'][_0x3c0976]=_0x157244['getInt32']();};case'uint':return(_0x3cf810,_0x4ac607)=>{_0x269cf8['storage'][_0x4ac607]=_0x3cf810['getUint32']();};case'float':return(_0x29c7f2,_0x3d4b38)=>{_0x269cf8['storage'][_0x3d4b38]=_0x29c7f2['getFloat32']();};case'double':return(_0x1d4b0a,_0xd54e66)=>{_0x269cf8['storage'][_0xd54e66]=_0x1d4b0a['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x269cf8['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x2e9066=>{_0x2e9066['head']+=_0x269cf8['byteSize'];};});let _0x51516c=0x62b*-0x1+0x1988*-0x1+-0x657*-0x5;for(;_0x51516c<_0x5499aa['count'];){for(;_0x27abfc['remaining']<_0x506437;)await _0x27abfc['read']();const _0xcb98e0=Math['min'](_0x5499aa['count']-_0x51516c,Math['floor'](_0x27abfc['remaining']/_0x506437));for(let _0x5d1e06=-0x13*0x1e7+-0x1*0x2087+0x44ac;_0x5d1e06<_0xcb98e0;++_0x5d1e06){for(let _0x50c227=-0x21c4+-0x1c2*-0x2+-0x58*-0x58;_0x50c227<_0x5499aa['properties']['length'];++_0x50c227)_0x57ea01[_0x50c227](_0x27abfc,_0x51516c);_0x51516c++;}}}return new _0xe14823(_0x372d81,_0x2b67b0);},_0x366b47=async(_0x3fd9d4,_0x4e6f02=null)=>{const _0x2e1c1e=(_0x2d911d,_0x490dbc)=>{const _0x2c524e=_0x2d911d['length']-_0x490dbc['length'];let _0xa72b4a,_0x18dd20;for(_0xa72b4a=0x1660+0x2*-0x6ab+0x1a*-0x59;_0xa72b4a<=_0x2c524e;++_0xa72b4a){for(_0x18dd20=0x28*0x1c+0x69b+0x3*-0x3a9;_0x18dd20<_0x490dbc['length']&&_0x2d911d[_0xa72b4a+_0x18dd20]===_0x490dbc[_0x18dd20];++_0x18dd20);if(_0x18dd20===_0x490dbc['length'])return _0xa72b4a;}return-(-0x3*-0x11d+-0x18f5*0x1+0x159f);},_0x4bb0e0=(_0x3880b9,_0xe2e532)=>{if(_0x3880b9['length']<_0xe2e532['length'])return!(-0x12e8+-0x7f5+0xd6f*0x2);for(let _0x7028f6=-0x1*0x144+0x55*-0x1a+0x9e6;_0x7028f6<_0xe2e532['length'];++_0x7028f6)if(_0x3880b9[_0x7028f6]!==_0xe2e532[_0x7028f6])return!(0xcd*-0x2b+-0x2315*0x1+0x4585);return!(-0x1d13+0x1fd2*0x1+0x25*-0x13);},_0x175c97=new _0x266e76(_0x3fd9d4,_0x4e6f02);let _0x19db7d;for(;;){if(await _0x175c97['read'](),_0x175c97['tail']>=_0x35098a['length']&&!_0x4bb0e0(_0x175c97['data'],_0x35098a))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x19db7d=_0x2e1c1e(_0x175c97['data'],_0x1fc2ef),_0x19db7d!==-(-0x1e8a*0x1+-0xc7*0x8+0x24c3))break;}const _0x50fc9a=new TextDecoder('ascii')['decode'](_0x175c97['data']['subarray'](0x1fda+0x86*0x6+-0x22fe,_0x19db7d))['split']('\x0a'),{elements:_0x520e99,format:_0x460f6c,comments:_0x3416d4}=_0x1305d5(_0x50fc9a);if(_0x460f6c!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x175c97['head']=_0x19db7d+_0x1fc2ef['length'],_0x175c97['compact'](),await((async()=>_0x31416e(_0x520e99)?await _0x2defc6(_0x175c97,_0x520e99,_0x3416d4):(_0x520e99['forEach'](_0x1547ed=>{_0x1547ed['properties']['forEach'](_0x2e991c=>{const _0x1014af=_0x56653c['get'](_0x2e991c['type']);if(_0x1014af){const _0x15310b=new _0x1014af(_0x1547ed['count']);_0x2e991c['storage']=_0x15310b;}});}),_0x5f32d7(_0x520e99)?await _0x4ed973(_0x175c97,_0x520e99,_0x3416d4):await _0x205638(_0x175c97,_0x520e99,_0x3416d4)))());},_0x1efe78=_0xe4b3c7=>{const {numSplats:_0x419ba5,chunkData:_0x3fdf33,chunkSize:_0x1e0eee,vertexData:_0x2fc1af,shData0:_0x578a6f,shData1:_0x154578,shData2:_0x215971,shBands:_0x2c53af,comments:_0x3eed86,is4D:_0x3d8476}=_0xe4b3c7,_0x2cb083=['x','y','z','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','f_dc_0','f_dc_1','f_dc_2','opacity'];if(_0x3d8476&&_0x2cb083['push']('t','t_scale','motion_0','motion_1','motion_2'),_0x2c53af>0xaea+0x151a+-0x6*0x556){const _0xeffa77=[];for(let _0x402b54=-0x1*-0x1f2f+-0x26d2+0x7a3;_0x402b54<-0x156b+-0xb7e+-0x302*-0xb;++_0x402b54)_0xeffa77['push']('f_rest_'+_0x402b54);_0x2cb083['splice'](_0x2cb083['indexOf']('f_dc_0')+(0x21c9+0x25a4+0x7*-0xa34),-0x59*0xf+0x2339+-0x1e02,..._0xeffa77);}const _0x30d317={};_0x2cb083['forEach'](_0x492a7c=>{_0x30d317[_0x492a7c]=new Float32Array(_0x419ba5);});const _0x3c7b0b=new _0x19665f(),_0x5d2d37=new _0x9e1df9(),_0x26426f=new _0x19665f(),_0x1bbf1f=new _0x31b779(),_0x5408a6=new _0x19665f(),_0x3161a6=new _0x19665f(),_0x123070=_0x2c53af>-0x7*-0x241+-0x11f7+0x10*0x23?new Float32Array(-0x212b+-0x12*-0xc6+0x136c):null,_0x3352bf=new _0x3178a0(_0x3fdf33,_0x1e0eee,_0x2fc1af,_0x578a6f,_0x154578,_0x215971,_0x2c53af,_0x3c7b0b,_0x5d2d37,_0x26426f,_0x1bbf1f,_0x5408a6,_0x3161a6,_0x123070);for(let _0x4dde3b=0x972+0xddf+-0x1751;_0x4dde3b<_0x419ba5;++_0x4dde3b){_0x3352bf['read'](_0x4dde3b),_0x30d317['x'][_0x4dde3b]=_0x3c7b0b['x'],_0x30d317['y'][_0x4dde3b]=_0x3c7b0b['y'],_0x30d317['z'][_0x4dde3b]=_0x3c7b0b['z'],_0x30d317['rot_1'][_0x4dde3b]=_0x5d2d37['x'],_0x30d317['rot_2'][_0x4dde3b]=_0x5d2d37['y'],_0x30d317['rot_3'][_0x4dde3b]=_0x5d2d37['z'],_0x30d317['rot_0'][_0x4dde3b]=_0x5d2d37['w'],_0x30d317['scale_0'][_0x4dde3b]=_0x26426f['x'],_0x30d317['scale_1'][_0x4dde3b]=_0x26426f['y'],_0x30d317['scale_2'][_0x4dde3b]=_0x26426f['z'],_0x30d317['motion_0'][_0x4dde3b]=_0x5408a6['x'],_0x30d317['motion_1'][_0x4dde3b]=_0x5408a6['y'],_0x30d317['motion_2'][_0x4dde3b]=_0x5408a6['z'],_0x30d317['t_scale'][_0x4dde3b]=_0x3161a6['x'],_0x30d317['t'][_0x4dde3b]=_0x3161a6['y'],_0x30d317['f_dc_0'][_0x4dde3b]=(_0x1bbf1f['x']-(0x1*0x2092+-0xed*0x4+-0xa*0x2e3+0.5))/_0x23603a,_0x30d317['f_dc_1'][_0x4dde3b]=(_0x1bbf1f['y']-(0xb84+0x1f2b+-0x2aaf*0x1+0.5))/_0x23603a,_0x30d317['f_dc_2'][_0x4dde3b]=(_0x1bbf1f['z']-(0x2409+0x1*0x509+-0x2912+0.5))/_0x23603a;const _0x56caf4=_0x1bbf1f['w']<=-0x3*-0x6a+0x38f*-0xa+0x2258?-(-0x1d6f+-0x128f+0x3026):_0x1bbf1f['w']>=-0x2bf+0xb9f+-0x8df?-0x1348+-0x24*-0x4f+-0x4*-0x215:-Math['log']((0xa39+-0x701+-0x337)/_0x1bbf1f['w']-(-0x19*0x1f+0x1*0x240d+-0x2105));if(_0x30d317['opacity'][_0x4dde3b]=(0x8f6+0x5f*0x2c+-0x1949)/(-0x1ecc+-0x1967+0x3834+Math['exp'](-_0x56caf4)),_0x123070){for(let _0x2c8793=-0x229f*-0x1+0x2*0x11e7+-0x466d;_0x2c8793<-0x21c8+0xd33*-0x1+0x7dc*0x6;++_0x2c8793)_0x30d317['f_rest_'+_0x2c8793][_0x4dde3b]=_0x123070[_0x2c8793];}}const _0x4e8d5b=[{'count':_0x419ba5,'name':'vertex','properties':_0x2cb083['map'](_0x405554=>({'byteSize':0x4,'name':_0x405554,'type':'float','storage':_0x30d317[_0x405554]}))}];return new _0xe14823(_0x4e8d5b,_0x3eed86);};}class ok extends me{constructor(_0x15547b){super(),h(this,'worker'),h(this,'loadUrlLis'+'t'),(this['loadUrlLis'+'t']=_0x15547b,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+nk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','loadUrlList':this['loadUrlLis'+'t']});}['loadPly'](_0x2e2f6e,_0x1a765a,_0x17d1ae=(_0x70f259,_0x4688b5)=>{},_0x82d95c=(_0x5abb4e,_0x5a450c,_0x46c0fe)=>{},_0x432d35=(_0x36f411,_0xed45e4)=>{}){var _0x261419;return(_0x261419=this['worker'])==null||_0x261419['postMessag'+'e']({'type':'loadPly','url':_0x2e2f6e,'decompress':_0x1a765a}),new Promise((_0x59e52a,_0x5ad446)=>{if(!this['worker']){_0x5ad446(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x2c60dc=>{if(!this['worker'])return;const {data:_0x2b4894}=_0x2c60dc;if(_0x2e2f6e===_0x2b4894['url'])switch(_0x2b4894['type']){case'totalLengt'+'h':_0x17d1ae==null||_0x17d1ae(_0x2b4894['totalLengt'+'h'],_0x2b4894['url']);break;case'progress':_0x82d95c==null||_0x82d95c(_0x2b4894['bytes'],_0x2b4894['totalLengt'+'h'],_0x2b4894['url']);break;case'splatData':_0x59e52a(_0x2b4894['data']);break;case'error':_0x432d35==null||_0x432d35(_0x2b4894['data'],_0x2b4894['url']);break;}};});}['destroy'](){this['loadUrl']='',this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(-0x1a7d+0x1d06+0x1*-0x289));}}class lk{constructor(_0x528d1d,_0x463963){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'readWorker'),(console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','Register\x20P'+'lyParser.c'+'onstructor'),this['app']=_0x528d1d,this['maxRetries']=_0x463963,this['urlList']=[],this['gsplatReso'+'urce']=null,this['readWorker']=null,this['totalRecei'+'ved']=0x61*-0x65+-0x18b6*-0x1+-0x59*-0x27);}async['load'](_0x6a48fc,_0x15268e,_0x25b47a){var _0x5baf61,_0x48014d,_0x573336;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','PlyParser.'+'load'),this['urlList']=[],_0x6a48fc['load']['includes'](',')?this['urlList']=_0x6a48fc['load']['split'](','):this['urlList']['push'](_0x6a48fc['load']);const _0x41a463=_0x25b47a['data']['createTime']!==((_0x48014d=(_0x5baf61=this['onlyOneAss'+'et'])==null?void(-0xbd2+0x27*0xa5+-0x1e7*0x7):_0x5baf61['data'])==null?void(-0x8c0+0x676+0x24a*0x1):_0x48014d['createTime']);(!this['readWorker']||_0x41a463)&&((_0x573336=this['readWorker'])==null||_0x573336['destroy'](),this['readWorker']=new ok(this['urlList']));const _0xd9785a=_0x25b47a['data']['loadIndex']>=0xe5c+-0x1b7*-0xf+0x2815*-0x1?_0x25b47a['data']['loadIndex']:-0x44*0x2f+-0xf*0x293+0x3319,_0x5e6db8=_0x25b47a['data']['loadMode']==='all'?this['urlList']['length']-_0xd9785a:_0xd9785a+(-0x24c8+0x1*0x256a+-0xa1),_0xdfec77=_0x25b47a['data']['timeOption'],_0x4a3306=_0x25b47a['data']['events'];for(let _0x537981=_0xd9785a;_0x537981<_0x5e6db8;_0x537981++)await this['loadGsplat'+'Data'](this['urlList'],_0x15268e,_0x25b47a,_0x537981,_0xdfec77,_0x4a3306,_0x5e6db8);_0x4a3306['fire']('loadAllAss'+'etsDone');}async['loadGsplat'+'Data'](_0x1ddd4f,_0xe1f7dc,_0x5227e0,_0x512a05,_0x16c4c0,_0x138988,_0x190539){var _0x43e2bc,_0x714638,_0x32775d;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','loadGsplat'+'Data',_0x1ddd4f[_0x512a05]['trim'](),_0x512a05);const _0x53eca6=_0x16c4c0[(0x8e6*-0x2+0x11b*-0x16+0x10*0x2a2)*_0x512a05]+_0x16c4c0[(-0x8a8+0x26f8*-0x1+0x2fa2)*_0x512a05+(-0x358+-0x5+0x35e)],_0x32ce12=_0x1ddd4f[_0x512a05]['trim']();globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('loadTime','=========='+'=========='+'=========='+'=========='+'=========='+'====='),console['log']('loadTime','start\x20load'+'\x20ply\x20data',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(0x8c6*0x1+0x228f+-0x1*0x17cd))['toFixed'](-0xe18*0x1+0x27*0x91+-0x7fd));try{const _0x52f997=await((_0x43e2bc=this['readWorker'])==null?void(0x1eb0+0x2167+-0x4017):_0x43e2bc['loadPly'](_0x32ce12,_0x5227e0['data']['decompress'],()=>{this['totalRecei'+'ved']=0x80*0x7+0x8f*-0x25+0x5*0x36f;},(_0x50d68b,_0x278d35)=>{this['totalRecei'+'ved']+=_0x50d68b,_0x5227e0&&_0x138988['fire']('progress',_0x278d35*_0x512a05/_0x190539+this['totalRecei'+'ved']/_0x190539,_0x278d35);},(_0x5809f1,_0x8f7405)=>{debugger;console['warn']('ERROE\x20Load'+'\x20Ply',_0x8f7405,_0x5809f1);}));let _0x21991a;console['log']('loadTime','load\x20ply\x20d'+'ata\x20done',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(0x1*0x9f7+-0x20*0x110+0x2b91*0x1))['toFixed'](-0x1bd5+-0x24*0x29+0x219b)),_0x52f997['isCompress'+'ed']?(_0x21991a=new ak(),_0x21991a['comments']=_0x52f997['comments'],_0x21991a['numSplats']=_0x52f997['numSplats'],_0x21991a['is4D']=_0x52f997['is4D'],_0x21991a['chunkData']=_0x52f997['chunkData'],_0x21991a['vertexData']=_0x52f997['vertexData'],_0x21991a['shData0']=_0x52f997['shData0'],_0x21991a['shData1']=_0x52f997['shData1'],_0x21991a['shData2']=_0x52f997['shData2'],_0x21991a['shBands']=_0x52f997['shBands']):_0x21991a=new qn(_0x52f997['elements'],_0x52f997['comments']),_0x5227e0['fire']('load:data',_0x21991a),_0x21991a['isCompress'+'ed']||_0x5227e0['data']['reorder'];const _0x3a36b8=_0x5227e0['data']['createTime']!==((_0x32775d=(_0x714638=this['onlyOneAss'+'et'])==null?void(0x8d2+0x269a+0x14*-0x25f):_0x714638['data'])==null?void(0x3*0xbed+-0x3*-0x1fa+-0x29b5*0x1):_0x32775d['createTime']);this['gsplatReso'+'urce']&&!_0x3a36b8?this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x21991a['isCompress'+'ed']?await _0x21991a['decompress']():_0x21991a,_0x16c4c0,_0x53eca6,_0x5227e0,_0x138988):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new EC(this['app']['graphicsDe'+'vice'],_0x21991a['isCompress'+'ed']?await _0x21991a['decompress']():_0x21991a),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x16c4c0,this['onlyOneAss'+'et']=_0x5227e0),_0xe1f7dc(null,this['gsplatReso'+'urce']);}catch(_0x5e1539){_0xe1f7dc(_0x5e1539,null);}}['open'](_0x1654ec,_0x50d874){return _0x50d874;}}async function ck(){const _0x12fee7='super4d-ca'+'che-v1',_0x386ff4={'maxAge':0x202fbf000,'maxSize':0x280000000},_0x1c0117=0x210b+0x24f*-0x10+0x3e5*0x1+0.28209479177387814;class _0x4c1005{constructor(_0x2984ed={}){this['options']={..._0x386ff4,..._0x2984ed},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=0x4f*0x51+-0xaca+-0x1*0xe35,this['initialize'+'d']=!(0xd4e+-0xc8+-0x5*0x281);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x12fee7);const _0x47a376=await this['cache']['keys'](),_0xf11bf7=[];for(const _0x3e9f7c of _0x47a376){const _0x5c5a34=_0x3e9f7c['url'],_0x52757b=await this['cache']['match'](_0x5c5a34);if(_0x52757b){const _0x14e8c6=(await _0x52757b['blob']())['size'],_0x30fedb=_0x52757b['headers']['get']('x-cache-ti'+'me');_0x30fedb&&_0xf11bf7['push']({'url':_0x5c5a34,'size':_0x14e8c6,'cacheTime':parseInt(_0x30fedb)});}}_0xf11bf7['sort']((_0x2625f6,_0x50c217)=>_0x2625f6['cacheTime']-_0x50c217['cacheTime']);for(const _0x43badc of _0xf11bf7)this['cacheSizes']['set'](_0x43badc['url'],_0x43badc['size']),this['currentSiz'+'e']+=_0x43badc['size'],this['lruList']['push'](_0x43badc['url']);}catch(_0x265b61){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x265b61);}this['initialize'+'d']=!(0x446*-0x2+0xd81+-0x4f5);}}async['get'](_0x294eef){if(await this['init'](),!this['cache'])return null;try{const _0x1a55c3=await this['cache']['match'](_0x294eef);if(!_0x1a55c3)return null;const _0x23e9f3=_0x1a55c3['headers']['get']('x-cache-ti'+'me');return _0x23e9f3&&Date['now']()-parseInt(_0x23e9f3)>this['options']['maxAge']?(await this['delete'](_0x294eef),null):(this['updateLRU'](_0x294eef),_0x1a55c3);}catch{return null;}}async['set'](_0xef0f61,_0x156fda){if(!(!this['cache']||_0xef0f61['startsWith']('blob:')))try{const _0x1f761b=_0x156fda['clone'](),_0x37fa2b=await _0x1f761b['blob'](),_0x712108=_0x37fa2b['size'];this['currentSiz'+'e']+_0x712108>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x712108);const _0xbe9545=new Headers(_0x1f761b['headers']);_0xbe9545['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x572cd3=new Response(_0x37fa2b,{'status':_0x1f761b['status'],'statusText':_0x1f761b['statusText'],'headers':_0xbe9545});await this['cache']['put'](_0xef0f61,_0x572cd3),this['cacheSizes']['set'](_0xef0f61,_0x712108),this['currentSiz'+'e']+=_0x712108,this['updateLRU'](_0xef0f61);}catch(_0x594bda){console['error']('Cache\x20set\x20'+'error:',_0x594bda);}}['updateLRU'](_0x4e61d3){const _0x4afded=this['lruList']['indexOf'](_0x4e61d3);_0x4afded>-(-0x9e8+0x1f0d+-0x1524)&&this['lruList']['splice'](_0x4afded,0x220*0xb+-0xe*-0x4a+-0x1b6b),this['lruList']['push'](_0x4e61d3);}async['cleanupSpa'+'ce'](_0x568fb5){const _0x5d4250=this['options']['maxSize']*(0x1*-0x10f1+0x2c*0x43+0x56d+0.9);if(!(this['currentSiz'+'e']<=_0x5d4250))for(;this['lruList']['length']>0xebf*0x1+0x4*-0x5a6+0x7d9&&this['currentSiz'+'e']>_0x5d4250;){const _0x3f228b=this['lruList']['shift']();_0x3f228b&&await this['delete'](_0x3f228b);}}async['delete'](_0x57c3ce){if(this['cache'])try{await this['cache']['delete'](_0x57c3ce);const _0x472dd1=this['cacheSizes']['get'](_0x57c3ce)||-0xeca+0x1*-0x261a+0x2*0x1a72;this['currentSiz'+'e']-=_0x472dd1,this['cacheSizes']['delete'](_0x57c3ce);const _0x4df5d8=this['lruList']['indexOf'](_0x57c3ce);_0x4df5d8>-(0x14d3+-0x1715*0x1+0xc1*0x3)&&this['lruList']['splice'](_0x4df5d8,0x36a*0x4+0x25a9+-0x3350*0x1);}catch(_0x2561b8){console['error']('Cache\x20dele'+'te\x20error:',_0x2561b8);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0xfe47f3=>Promise['all'](_0xfe47f3['map'](_0x1a7470=>{var _0x57c2d8;return(_0x57c2d8=this['cache'])==null?void(0xe*0x265+-0x4*0x4f7+-0xb*0x13e):_0x57c2d8['delete'](_0x1a7470);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x1b12+-0x11a*-0x1+-0x1c2c;}catch(_0x1719ea){console['error']('Cache\x20clea'+'r\x20error:',_0x1719ea);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x16c8+0x1456+-0x2b1e;}}class _0x243b7a{constructor(_0x318c99=[],_0x15880d={}){this['cacheManag'+'er']=new _0x4c1005(_0x15880d['cache']),this['retryCount']=_0x15880d['retryCount']||-0x34a*0x1+-0x1eb1+-0x2*-0x10ff,this['retryDelay']=_0x15880d['retryDelay']||-0x1d16+0xe40+0x10ca,this['maxConcurr'+'ency']=_0x15880d['maxConcurr'+'ency']||0x1587+0x2f9*0x2+-0x1b73,this['downloadQu'+'eue']=_0x318c99,this['isProcessi'+'ngDownload'+'Queue']=!(-0xcbb+0x1f7e+-0x12c2),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(-0x1479+-0x2*0x3b9+-0x7*-0x3fd);this['downloadQu'+'eue']['length']>-0x251*-0xb+-0xa7*0x25+0x1*-0x158;)try{const _0x4a5a5c=this['downloadQu'+'eue']['splice'](0x34e+-0x1d14+0x19c6,this['maxConcurr'+'ency'])['map'](_0x1e8287=>{if(!this['pendingRes'+'ponses']['has'](_0x1e8287)){const _0x181b64=this['download'](_0x1e8287);return this['pendingRes'+'ponses']['set'](_0x1e8287,_0x181b64),_0x181b64['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x1e8287);});}return Promise['resolve']();});await Promise['all'](_0x4a5a5c);}catch(_0x49a66d){console['error']('Download\x20e'+'rror:',_0x49a66d);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(0xd3d*0x1+0x9be*0x2+-0x20b8);}}}async['fetch'](_0x31481b,_0x3a29fc={}){if(this['pendingRes'+'ponses']['has'](_0x31481b))return this['pendingRes'+'ponses']['get'](_0x31481b);const {forceRefresh:_0x5f4b23=!(-0x28*-0x14+-0x4a1+0x182),..._0x20ed5d}=_0x3a29fc;this['pendingRes'+'ponses']['set'](_0x31481b,this['download'](_0x31481b,_0x20ed5d));const _0x496d6e=await this['pendingRes'+'ponses']['get'](_0x31481b);return this['pendingRes'+'ponses']['delete'](_0x31481b),_0x496d6e;}async['download'](_0x12d368,_0x5b4a61={}){var _0x2ed9d1;await((_0x2ed9d1=this['cacheManag'+'er'])==null?void(-0xc8e+0x1320*0x2+-0x17*0x11e):_0x2ed9d1['init']());const {forceRefresh:_0x1017f6=!(0x4d0*-0x4+-0x842+0x1b83),..._0x37b0c9}=_0x5b4a61;_0x1017f6&&await this['cacheManag'+'er']['delete'](_0x12d368);const _0x373a78=await this['cacheManag'+'er']['get'](_0x12d368);if(_0x373a78)return _0x373a78;let _0x371743;for(let _0x2e7f93=-0x1a1e+0xa7*-0x39+0x3f4d;_0x2e7f93<this['retryCount'];_0x2e7f93++)try{const _0x354029=await fetch(_0x12d368,_0x37b0c9);if(!_0x354029['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x354029['status']);return await this['cacheManag'+'er']['set'](_0x12d368,_0x354029),_0x354029;}catch(_0x1b6b7d){console['error']('Download\x20e'+'rror:',_0x1b6b7d),_0x371743=_0x1b6b7d,_0x2e7f93<this['retryCount']-(-0x22*0x5a+0xd8b+-0x196)&&await new Promise(_0x35f8f3=>setTimeout(_0x35f8f3,this['retryDelay']*(_0x2e7f93+(-0x4cc*0x5+0x1d1d+0x2*-0x290))));}throw _0x371743;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){var _0xde6dda;(_0xde6dda=this['cacheManag'+'er'])==null||_0xde6dda['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(0xb7b+-0x3*-0x166+-0xfac),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x287fd7{constructor(_0x5dce6a,_0x4b7a2c=[]){this['elements']=_0x5dce6a,this['comments']=_0x4b7a2c,this['isCompress'+'ed']=!(0x1b25+-0xf46+-0x7*0x1b2);}}class _0x52d69e{constructor(_0x17de96){this['url']=_0x17de96;}async['readFragme'+'nt'](){globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x243b7a(globalThis['downloadQu'+'eueUrlList']));const _0x460d73=await globalThis['fetchWorke'+'r']['fetch'](this['url']);if(!_0x460d73['ok'])throw new Error('Failed\x20to\x20'+'fetch\x20'+this['url']+':\x20'+_0x460d73['statusText']);const _0x2c6364=await _0x460d73['arrayBuffe'+'r'](),_0x479ac5=new Uint8Array(_0x2c6364);let _0x9f57d4=-0x13*-0x1b6+0x20fb*0x1+0x7*-0x95b,{size:_0x1c7146,type:_0x35af86}=this['_readBoxHe'+'ader'](_0x479ac5,_0x9f57d4);if(_0x35af86!=='moof')throw new Error('Not\x20a\x20moof');_0x9f57d4+=0xa*-0x3df+0x1114+-0xad5*-0x2;const _0x35f9a1=_0x9f57d4+_0x1c7146-(0x1133*0x1+-0x15dd+0x4b2*0x1);let _0x50ec6b=null;for(;_0x9f57d4<_0x35f9a1;){const {size:_0x276b8a,type:_0x688b75}=this['_readBoxHe'+'ader'](_0x479ac5,_0x9f57d4);_0x9f57d4+=-0x2*0x1361+-0x14fc+0x3bc6;const _0x27eaf9=_0x479ac5['slice'](_0x9f57d4,_0x9f57d4+_0x276b8a-(-0x17*-0x37+-0x24c9+-0xff*-0x20));_0x9f57d4+=_0x276b8a-(0x16f9+0xaa1+-0x2192),_0x688b75==='emsg'&&(_0x50ec6b=this['_parseEmsg'](_0x27eaf9));}if(!_0x50ec6b)throw new Error('Incomplete'+'\x20moof');const {size:_0x541a05,type:_0x20a753}=this['_readBoxHe'+'ader'](_0x479ac5,_0x9f57d4);if(_0x20a753!=='mdat')throw new Error('Expected\x20m'+'dat\x20box\x20af'+'ter\x20moof');_0x9f57d4+=0xbad+-0x300+-0x8a5*0x1;const _0x196c4b=_0x479ac5['slice'](_0x9f57d4,_0x9f57d4+(_0x541a05-(0x93d*-0x1+0xec+-0x1*-0x859)));return{'metadata':_0x50ec6b,'segmentData':_0x196c4b};}['_readBoxHe'+'ader'](_0x26f0f5,_0x15145f){if(_0x15145f+(-0x1a65+0x16c6*-0x1+0x3133)>_0x26f0f5['length'])throw new Error('EOF');const _0x3aab65=_0x26f0f5[_0x15145f]<<0x315+0xabd*-0x3+0x9be*0x3|_0x26f0f5[_0x15145f+(0x1a29*0x1+0x243d+0x3e65*-0x1)]<<0x649*0x3+0x1*0xdda+0x89*-0x3d|_0x26f0f5[_0x15145f+(-0xf2b+-0xd3f+-0x44*-0x6b)]<<0x1*0x1e3e+0x6b0+-0x24e6|_0x26f0f5[_0x15145f+(0xb65+-0x619*-0x3+-0x6b*0x47)],_0x5b0ff0=String['fromCharCo'+'de'](_0x26f0f5[_0x15145f+(-0x2a2+0x2*0xae5+-0x1324)],_0x26f0f5[_0x15145f+(-0x1*0x9f8+-0x10fd+0x1afa)],_0x26f0f5[_0x15145f+(-0xd9*0x11+0x16d8+-0x869)],_0x26f0f5[_0x15145f+(0x6a*0x48+0x8f*-0x3b+0xcb*0x4)]);return{'size':_0x3aab65,'type':_0x5b0ff0};}['_parseEmsg'](_0x46f5d1){let _0x2f8b76=-0xa5d+0x5b6+0x4a7;_0x2f8b76=_0x46f5d1['indexOf'](0x4b0+0x2567+-0x1*0x2a17,_0x2f8b76)+(-0x175b+0x12dc+0x24*0x20),_0x2f8b76=_0x46f5d1['indexOf'](0x13*0xae+-0x6a1*-0x1+-0x138b,_0x2f8b76)+(0x92a+0x2*0x6f3+0x1*-0x170f),_0x2f8b76+=0x5*-0x3a1+0x2f*0xb9+-0x1*0xfc2;const _0x1f3d72=_0x46f5d1['slice'](_0x2f8b76);return globalThis['CBOR']['decode'](_0x1f3d72);}}class _0x4a2184{constructor(_0xd92bdd=-0xa24+0x120f*-0x1+0x1c33*0x1,_0x1c9ea4=-0x9ba*0x2+0x372+0x1002,_0x2c9595=-0x195a+0x186a+-0x3c*-0x4,_0x596e7d=-0x288*-0xd+0xd*-0x21b+-0x588){this['x']=_0xd92bdd,this['y']=_0x1c9ea4,this['z']=_0x2c9595,this['w']=_0x596e7d;}['set'](_0x5a1545,_0x222ef9,_0x40a6f4,_0x2b15e0){return this['x']=_0x5a1545,this['y']=_0x222ef9,this['z']=_0x40a6f4,this['w']=_0x2b15e0,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x5c52bd=this){let _0x1cafe3=_0x5c52bd['length']();return _0x1cafe3===-0x1b40*0x1+0x22+0x1b1e?(this['x']=this['y']=this['z']=0x8*-0x493+0x248+0x3d*0x90,this['w']=-0x1a5*0x10+-0x16aa+-0x30fb*-0x1):(_0x1cafe3=(-0x124*-0x7+0x25*-0x31+-0xe6)/_0x1cafe3,this['x']=_0x5c52bd['x']*_0x1cafe3,this['y']=_0x5c52bd['y']*_0x1cafe3,this['z']=_0x5c52bd['z']*_0x1cafe3,this['w']=_0x5c52bd['w']*_0x1cafe3),this;}['mulScalar'](_0x930f6b,_0x485f49=this){return this['x']=_0x485f49['x']*_0x930f6b,this['y']=_0x485f49['y']*_0x930f6b,this['z']=_0x485f49['z']*_0x930f6b,this['w']=_0x485f49['w']*_0x930f6b,this;}}self['onmessage']=async _0x4584c4=>{var _0x229244,_0x76cdcf;const {data:_0xb772a3}=_0x4584c4;switch(_0xb772a3['type']){case'initWorker':importScripts(_0xb772a3['cborXUrl']);break;case'destroyWor'+'ker':_0x31a83f();break;case'loadGsdMan'+'ifest':const {manifestUrl:_0x55e954,loadRepresentation:_0xc68b09}=_0xb772a3,_0x178ecd=await _0x57722f(_0x55e954,_0xc68b09);globalThis['manifestUr'+'l']=_0x55e954,globalThis['manifest']=_0x178ecd,globalThis['resentatio'+'n']=_0x178ecd['representa'+'tion'],globalThis['downloadQu'+'eueUrlList']=_0x46546f(),globalThis['fetchWorke'+'r']=new _0x243b7a(globalThis['downloadQu'+'eueUrlList']),self['postMessag'+'e']({'type':'onloadMani'+'fest','data':_0x178ecd,'url':_0x55e954,'representation':_0xc68b09});break;case'loadGsdSeg'+'ments':try{const _0xedbbbc=_0x5bcd87(globalThis['manifest'],globalThis['resentatio'+'n']),_0x1f7d05=await _0x5f2e51(globalThis['manifest'],_0xedbbbc),_0x3f9b3b=(_0x229244=_0x1f7d05==null?void(0x1fa4+0x1f47+0x27*-0x19d):_0x1f7d05['elements'][-0x1*-0x23c2+0x1*-0xfee+-0x234*0x9])==null?void(0x279*0x6+0x1*-0xd86+-0xa8*0x2):_0x229244['properties']['map'](_0x43ce48=>_0x43ce48['storage']['buffer']);self['postMessag'+'e']({'type':'loadGsdSeg'+'mentsDone','data':_0x1f7d05,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x3f9b3b);}catch(_0x29c0ce){console['error']('Error\x20load'+'ing\x20GSD:',_0x29c0ce),self['postMessag'+'e']({'type':'error','data':_0x29c0ce['message'],'url':globalThis['manifestUr'+'l']});}break;case'loadTimeli'+'neIndexSeg'+'ments':const {timelineIndexs:_0x447a42}=_0xb772a3;try{const _0x603948=_0x5bcd87(globalThis['manifest'],globalThis['resentatio'+'n']),_0x371e05=await _0x200ffa(globalThis['manifest'],_0x603948,_0x447a42),_0x3c3855=(_0x76cdcf=_0x371e05==null?void(-0x205b*0x1+0x1*0x19d9+0x682):_0x371e05['elements'][-0x1474+-0x10c4+0x2538])==null?void(-0xa39+-0xf6d*-0x2+0x14a1*-0x1):_0x76cdcf['properties']['map'](_0x2e826e=>_0x2e826e['storage']['buffer']);self['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'mentsDone','data':_0x371e05,'timelineIndexs':_0x447a42,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x3c3855);}catch(_0x5c6c36){console['error']('Error\x20load'+'ing\x20GSD:',_0x5c6c36),self['postMessag'+'e']({'type':'error','data':_0x5c6c36['message'],'url':globalThis['manifestUr'+'l']});}break;}};const _0x31a83f=()=>{var _0x15563f;globalThis['manifestUr'+'l']=null,globalThis['manifest']=null,globalThis['resentatio'+'n']=null,(_0x15563f=globalThis['fetchWorke'+'r'])==null||_0x15563f['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['downloadQu'+'eueUrlList']=[],globalThis['loadedSegm'+'ents']=[],globalThis['currentLoa'+'dSg']=null;},_0x46546f=()=>{const _0x422d09=new Set(),_0x5ce1e9=_0x5bcd87(globalThis['manifest'],globalThis['resentatio'+'n']),_0x48d1f2=globalThis['manifest']['baseUrl'],_0x528836=_0x5ce1e9['segmentTem'+'plate'][-0x159f+-0x6f9+0x18*0x131];for(const _0x109264 of _0x528836['segmentTim'+'eline'])for(const _0x35c9a0 of _0x109264['nl']){const _0x43c1c5=''+_0x48d1f2+_0x528836['media']['replace']('$SegGroupI'+'ndex$',String(_0x109264['sg']))['replace']('$NodeIndex'+'$',String(_0x35c9a0));_0x422d09['add'](_0x43c1c5);}return Array['from'](_0x422d09);},_0x57722f=async(_0x103e50,_0x324b8f)=>{const _0x152b86=await(await fetch(_0x103e50))['text'](),_0x3662df=JSON['parse'](_0x152b86);_0x3662df['baseUrl']=_0x103e50['replace'](/\/[^\/]*$/,'/');const {schemas:_0x36fb3c,gsiUrl:_0x5477e0,repId:_0x4d175a}=await _0x3acb73(_0x3662df,_0x324b8f);return _0x3662df['schemas']=_0x36fb3c,_0x3662df['gsiUrl']=_0x5477e0,_0x3662df['representa'+'tion']=_0x4d175a,_0x3662df;},_0x3acb73=async(_0x44ab86,_0x21aa6a)=>{let _0x3a70e7=null,_0x396b04=null;for(const _0x3559df of _0x44ab86['adaptation'+'Sets'])if(_0x3559df['contentTyp'+'e']==='4dgs'){_0x396b04=_0x3559df;for(const _0x95f6e3 of _0x3559df['representa'+'tions'])if(_0x95f6e3['id']===_0x21aa6a){_0x3a70e7=_0x95f6e3;break;}break;}_0x3a70e7||(_0x3a70e7=_0x396b04['representa'+'tions'][-0xab0+-0xbfd+0x16ad],console['warn']('Representa'+'tion\x20\x27'+_0x21aa6a+('\x27\x20not\x20foun'+'d,\x20use\x20the'+'\x20first\x20rep'+'resentatio'+'n\x20instead')));const _0xab4663=_0x3a70e7['id'],_0x50d02e=_0x44ab86['baseUrl']+_0xab4663+('/init.gsi.'+'json'),_0x10a618=await(await fetch(_0x50d02e))['text'](),_0x423e1d=JSON['parse'](_0x10a618),_0x5370ec={};return _0x5370ec[_0xab4663]=_0x423e1d,{'schemas':_0x5370ec,'gsiUrl':_0x50d02e,'repId':_0xab4663};},_0x5bcd87=(_0x567cf3,_0x6d56d8='high-quant'+'ized')=>{let _0x4408b5=null;for(const _0xa711aa of _0x567cf3['adaptation'+'Sets'])if(_0xa711aa['contentTyp'+'e']==='4dgs'){for(const _0x2b4241 of _0xa711aa['representa'+'tions'])if(_0x2b4241['id']===_0x6d56d8){_0x4408b5=_0x2b4241;break;}break;}if(!_0x4408b5)throw new Error('Representa'+'tion\x20\x27'+_0x6d56d8+('\x27\x20not\x20foun'+'d'));return _0x4408b5;},_0x5f2e51=async(_0x8c82de,_0x2dbea4)=>{const _0x1d999b=_0x2dbea4['id'],_0xd45074=_0x8c82de['schemas'][_0x1d999b]['attributes'],_0x38a5d3=_0x2dbea4['segmentTem'+'plate'][-0x43f+-0x74*-0x28+0xd1*-0x11];globalThis['loadedSegm'+'ents']=[];const _0x4791b2=[],_0x59d059=[];for(const _0x237383 of _0x38a5d3['segmentTim'+'eline'])for(const _0x146744 of _0x237383['nl']){if(globalThis['loadedSegm'+'ents']['includes'](_0x237383['sg']+'_'+_0x146744))continue;globalThis['loadedSegm'+'ents']['push'](_0x237383['sg']+'_'+_0x146744);const _0x42df92=await _0xa42128(_0x8c82de,_0x2dbea4,_0xd45074,_0x237383['sg'],_0x146744);_0x59d059['push'](_0x42df92['decoded']),_0x4791b2['push'](_0x42df92['metadata']);}return _0x49d48e(_0x59d059,_0xd45074,_0x8c82de['comments']);},_0x200ffa=async(_0x23fef8,_0x8d4935,_0x524059)=>{if(!_0x524059||_0x524059['length']===-0x49f*0x7+0x11*0x229+-0x460)return{'decoded':[],'metadata':[]};const _0x28a8d2=_0x8d4935['id'],_0x4cd46c=_0x23fef8['schemas'][_0x28a8d2]['attributes'],_0x56e8be=_0x8d4935['segmentTem'+'plate'][-0x16c6+-0xf5f+0x2625];globalThis['loadedSegm'+'ents']||(globalThis['loadedSegm'+'ents']=[]);const _0x5a3517=_0x56e8be['segmentTim'+'eline'][_0x524059[0x1170+0x1*0x68e+-0x17fe]];globalThis['currentLoa'+'dSg']!==_0x5a3517['sg']&&(globalThis['loadedSegm'+'ents']=globalThis['loadedSegm'+'ents']['filter'](_0x53263a=>!_0x53263a['startsWith'](globalThis['currentLoa'+'dSg'])),globalThis['currentLoa'+'dSg']=_0x5a3517['sg']);let _0x1477bf;const _0x316625=[];for(const _0x462047 of _0x524059){_0x1477bf=_0x56e8be['segmentTim'+'eline'][_0x462047];for(const _0x23b785 of _0x1477bf['nl'])globalThis['loadedSegm'+'ents']['includes'](_0x1477bf['sg']+'_'+_0x23b785)||(globalThis['loadedSegm'+'ents']['push'](_0x1477bf['sg']+'_'+_0x23b785),_0x316625['push'](_0x23b785));}const _0x69cb27=await _0xa42128(_0x23fef8,_0x8d4935,_0x4cd46c,_0x1477bf['sg'],_0x316625);_0x69cb27['metadata'];const _0x451b82=_0x69cb27['decoded'];return _0x49d48e(_0x451b82,_0x4cd46c,_0x23fef8['comments']);},_0xa42128=async(_0x293c19,_0x39defe,_0x389029,_0x5e328f,_0x3785ce)=>{const _0x49a663=_0x293c19['baseUrl'],_0x3702f4=_0x39defe['segmentTem'+'plate'][-0x1184+-0x143*-0xb+0x3a3]['media'],_0x5b19ae=_0x3785ce['map'](_0x1fa9de=>''+_0x49a663+_0x3702f4['replace']('$SegGroupI'+'ndex$',String(_0x5e328f))['replace']('$NodeIndex'+'$',String(_0x1fa9de))),_0x3662dd=await Promise['all'](_0x5b19ae['map'](async _0x2b85f0=>{const _0x4c3ad8=await _0x361655(_0x2b85f0),_0x2265da=_0x4c3ad8['metadata'],_0x32e792=_0x4c3ad8['segmentDat'+'a'],_0x3cd634=_0x2265da['gaussianCo'+'unt'];console['log']('loadSegmen'+'t\x20'+_0x2b85f0),console['log']('loadSegmen'+'t\x20timeStar'+'t:',_0x2265da['timeStart'],'segment\x20ti'+'meEnd:',_0x2265da['timeEnd'],'segment\x20ga'+'ussianCoun'+'t:',_0x3cd634);let _0x2033ae;if(_0x39defe['id']['includes']('quantized')){const _0x10e5fc=_0x2265da['chunk_boun'+'ds'];_0x2033ae=_0x472852(_0x32e792,_0x3cd634,_0x389029,_0x5e328f,_0x10e5fc);}else _0x2033ae=_0x3634be(_0x32e792,_0x3cd634,_0x389029,_0x5e328f);return{'decoded':_0x2033ae,'metadata':_0x2265da};})),_0x1f0722=_0x3662dd['map'](_0x2707ae=>_0x2707ae['decoded']),_0x2627ff=_0x3662dd['map'](_0x5c7266=>_0x5c7266['metadata']);return{'decoded':_0x1f0722,'metadata':_0x2627ff};},_0x49d48e=(_0x1ce103,_0x356cd2,_0x259d20)=>{if(_0x1ce103['length']===0x3*-0xb47+-0x10b*-0x6+0x1b93)return new _0x287fd7([{'name':'vertex','count':0x0,'properties':[{'name':'position','type':'float','storage':new Float32Array(-0x282+0xb5f+-0x8dd),'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':new Uint16Array(-0x1a8b+-0x132b*0x1+0x2db6),'byteSize':0x2},{'name':'t','type':'float','storage':new Float32Array(0x28*-0xd3+0x1*-0xe1e+0x7b*0x62),'byteSize':0x4},{'name':'t_scale','type':'float','storage':new Float32Array(0x2*0x453+0x676+-0x1*0xf1c),'byteSize':0x4},{'name':'cutoff','type':'float','storage':new Float32Array(-0x141b+0x30*0x21+-0x1fd*-0x7),'byteSize':0x4},{'name':'motion','type':'float','storage':new Float32Array(-0x14df+-0x1b4f*-0x1+-0x670),'byteSize':0x4},{'name':'rotation','type':'float','storage':new Float32Array(-0x1b7d*0x1+0xbbe+0xfbf),'byteSize':0x4},{'name':'scale','type':'uint16','storage':new Uint16Array(-0x1e22+0x2*0xd12+0x3fe),'byteSize':0x2},{'name':'time_index','type':'float','storage':new Float32Array(-0x211*-0xa+-0x218d+0xce3),'byteSize':0x4}]}],_0x259d20);const _0x309bf2=_0x2c7226(_0x1ce103),[_0x382b0b,_0x3cfe42,_0x3b72d8]=_0x350f60(_0x309bf2['lifecycle'],0x1*0x21a1+0x246a+-0x4608,Float32Array),_0x177d0c=_0x309bf2['time_index'],_0x2130ef=_0x356cd2['find'](_0x14743b=>_0x14743b['name']==='feature_re'+'st'),_0x36b70d=[];if(_0x2130ef&&_0x309bf2['feature_re'+'st']){const _0x161550=_0x2130ef['dataType']['split'](',')[0xafd*0x3+0x5cd+0x1*-0x26c3]['trim']()['replace']('>',''),_0x4849d2=_0x350f60(_0x309bf2['feature_re'+'st'],-0x1f41+0x1*0x14ea+0xa5a,Float32Array);for(const _0x15fa3d of _0x4849d2){const _0x38517c=_0x350f60(_0x15fa3d,_0x161550/(0x5*-0x41f+-0xf4d*0x2+0x254*0x16),Float32Array);for(let _0x804e49=-0x1*0x21e9+0x3b*0x59+-0x157*-0xa;_0x804e49<_0x38517c['length'];_0x804e49++)_0x36b70d['push']({'name':'f_rest_'+_0x804e49,'type':'float','storage':_0x38517c[_0x804e49],'byteSize':0x4});}}return new _0x287fd7([{'name':'vertex','count':_0x309bf2['position']['length']/(0x79c+-0x5fc+-0x19d),'properties':[{'name':'position','type':'float','storage':_0x309bf2['position'],'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':_0x309bf2['color_opac'+'ity'],'byteSize':0x2},{'name':'t','type':'float','storage':_0x3cfe42,'byteSize':0x4},{'name':'t_scale','type':'float','storage':_0x382b0b,'byteSize':0x4},{'name':'cutoff','type':'float','storage':_0x3b72d8,'byteSize':0x4},{'name':'motion','type':'float','storage':_0x309bf2['motion'],'byteSize':0x4},{'name':'rotation','type':'float','storage':_0x309bf2['rotation'],'byteSize':0x4},{'name':'scale','type':'uint16','storage':_0x309bf2['scale'],'byteSize':0x2},{'name':'time_index','type':'float','storage':_0x177d0c,'byteSize':0x4},..._0x36b70d]}],_0x259d20);},_0x350f60=(_0x450baf,_0x191fc2,_0x2a746c)=>{const _0x184c25=new Array(_0x191fc2),_0x1b14a3=Math['floor'](_0x450baf['length']/_0x191fc2),_0x31c092=_0x450baf['length']%_0x191fc2;for(let _0x18a8c7=0x114c+-0x6cc*-0x1+-0x1818;_0x18a8c7<_0x191fc2;_0x18a8c7++){const _0x296d37=_0x18a8c7<_0x31c092?_0x1b14a3+(-0x1*0x1037+0x5*0x89+-0xd8b*-0x1):_0x1b14a3;_0x184c25[_0x18a8c7]=new _0x2a746c(_0x296d37);}for(let _0x12337f=-0x2a1*0xd+0xa43+0x17ea;_0x12337f<_0x450baf['length'];_0x12337f++){const _0x13d6c3=_0x12337f%_0x191fc2,_0x3c865b=Math['floor'](_0x12337f/_0x191fc2);_0x184c25[_0x13d6c3][_0x3c865b]=_0x450baf[_0x12337f];}return _0x184c25;},_0x361655=async _0x1d9f84=>{const _0xd84b76=new _0x52d69e(_0x1d9f84),{metadata:_0x152c53,segmentData:_0x5acb7c}=await _0xd84b76['readFragme'+'nt']();return{'metadata':_0x152c53,'segmentData':_0x5acb7c};},_0x4e9e73=(_0x229b77,_0x4a2023)=>{let _0xf36ca8,_0x20b85c,_0x232dd5=-(-0x16b8+-0xf*0x43+0x9*0x2f6);if(_0x229b77['encoding']){const _0x50881d=_0x229b77['encoding']['storageTyp'+'e'];if(_0x50881d==='uint32')_0x20b85c=Uint32Array,_0xf36ca8=Uint32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x50881d['startsWith']('array<ucha'+'r')){_0x20b85c=Uint8Array;const _0x1b1f79=_0x50881d['split'](',')[0x95e*-0x2+-0x1*0x1dd1+0x308e]['trim']()['replace']('>','');_0x232dd5=parseInt(_0x1b1f79),_0xf36ca8=_0x232dd5*Uint8Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20storage\x20'+'type:\x20'+_0x50881d);}}else{if(_0x20b85c=Float32Array,_0x229b77['dataType']==='vec3f')_0xf36ca8=(-0x16*-0x3a+0x1*-0x2650+-0x1*-0x2157)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x229b77['dataType']==='vec4f')_0xf36ca8=(0x1268+0x6e*-0x25+-0x27e)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x229b77['dataType']==='vec2f')_0xf36ca8=(0x1f*0x3e+-0x964+0xb*0x2c)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x229b77['dataType']['startsWith']('array<floa'+'t')){const _0x52cb8a=_0x229b77['dataType']['split'](',')[0x52*-0x8+0x2370+-0x20df]['trim']()['replace']('>','');_0x232dd5=parseInt(_0x52cb8a),_0xf36ca8=_0x232dd5*Float32Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x229b77['dataType']);}}}}return{'dataSize':_0x4a2023*_0xf36ca8,'datatype':_0x20b85c,'arraySize':_0x232dd5};},_0x54d764=(_0x388a37,_0x129672)=>{const _0x3d6622=(-0xd08+-0x27*0x3a+0x1*0x15df<<_0x129672)-(-0xa02+-0x1*-0x2565+-0x1b62);return(_0x388a37&_0x3d6622)/_0x3d6622;},_0x324fd3=_0x30d4a6=>{const _0x30908f=new Float32Array(_0x30d4a6['length']*(0x7*0x123+0x1718*-0x1+0x7*0x22a));for(let _0x4af6e0=-0x691+-0x1f32+-0x565*-0x7;_0x4af6e0<_0x30d4a6['length'];_0x4af6e0++)_0x30908f[_0x4af6e0*(-0x1*-0xb75+0x1*-0xb20+-0x29*0x2)]=_0x54d764(_0x30d4a6[_0x4af6e0]>>>0x2f*0x4+-0x195b+0x4*0x62d,-0x1*-0x1b4a+0xfda+-0x2b19*0x1),_0x30908f[_0x4af6e0*(0x8c0+-0x1d9d+0x14e0)+(-0x2255+-0x15eb+0x3841)]=_0x54d764(_0x30d4a6[_0x4af6e0]>>>-0x16f1*0x1+-0x3*0x593+0x27b5*0x1,-0x2*0x85b+0x2*-0x79b+0xffb*0x2),_0x30908f[_0x4af6e0*(-0xc01*0x3+-0xeca+-0x6*-0x878)+(0x129b*0x1+-0x1b92+0x8f9)]=_0x54d764(_0x30d4a6[_0x4af6e0],-0xa05+-0x1a84*0x1+-0x1*-0x2494);return _0x30908f;},_0x32981f=_0x10b4fc=>{const _0x4e00ec=new Float32Array(_0x10b4fc['length']*(-0x1*0x22a5+0x935*-0x4+0x477d));for(let _0x124096=0x22eb*0x1+0x129a+-0x3585;_0x124096<_0x10b4fc['length'];_0x124096++)_0x4e00ec[_0x124096*(0x26*-0xb1+0x1*0x2fb+-0x7c5*-0x3)]=_0x54d764(_0x10b4fc[_0x124096]>>>0x199d*0x1+-0x23ce*0x1+0xa49,0x920+-0xaca*-0x3+0x1*-0x2976),_0x4e00ec[_0x124096*(-0x914*-0x2+0x9af*0x2+-0x2582)+(0x4*0x764+-0x2534+0x7a5)]=_0x54d764(_0x10b4fc[_0x124096]>>>0x3*0x799+0x20ea+-0x7*0x7f3,0xc87+-0x1fca+0x134b),_0x4e00ec[_0x124096*(-0x3*0x5b5+0x1d58+0xc35*-0x1)+(-0xa0b+0x17*0x19b+0x6b8*-0x4)]=_0x54d764(_0x10b4fc[_0x124096]>>>0x10ac+-0x1*0x20ab+0x1*0x1007,-0x764+-0x1a1f+-0x218b*-0x1),_0x4e00ec[_0x124096*(0x1ca7+-0x2*-0x1134+-0x3f0b)+(-0x1*-0x135d+0x1183+-0x24dd*0x1)]=_0x54d764(_0x10b4fc[_0x124096],0x1df*-0x2+0x154*-0x1+0x51a);return _0x4e00ec;},_0x5bd021=_0x39e618=>{const _0x3d4d9f=new Float32Array(_0x39e618['length']*(0x1e6d+0x1262+-0x30cc)),_0x2ae876=(0x25f2+-0x243*0x4+-0x239*0xd)/(Math['sqrt'](0x20a6+0x1223*-0x1+-0xe81)*(-0x8ca+0x2f7+0x5d3+0.5));for(let _0xa2120e=-0x15e0+-0x4*0x830+0x36a0;_0xa2120e<_0x39e618['length'];_0xa2120e++){const _0x34e50a=(_0x54d764(_0x39e618[_0xa2120e]>>>-0x1747+-0x33*-0x80+-0x9*0x3d,0x2a5*0xa+-0x1611+0x65*-0xb)-(0x32c+0x1*0xe2f+-0x115b+0.5))*_0x2ae876,_0x4a33a9=(_0x54d764(_0x39e618[_0xa2120e]>>>-0x3*0x465+-0xff8*-0x1+-0x2bf,0x1*-0xeb1+0x1*-0x2139+-0x7fe*-0x6)-(-0x1939+-0x1*0x1cba+-0x7b5*-0x7+0.5))*_0x2ae876,_0x1702eb=(_0x54d764(_0x39e618[_0xa2120e],0x15ff+0x1*0x92c+0x1*-0x1f21)-(-0x6cd+0x1c41+0xaba*-0x2+0.5))*_0x2ae876,_0x4d6a9b=Math['sqrt'](-0x1ee0+-0x2447+0x998*0x7-(_0x34e50a*_0x34e50a+_0x4a33a9*_0x4a33a9+_0x1702eb*_0x1702eb));let _0x54698d=-0x23d1+-0x26e7*-0x1+-0x316,_0x2b38b9=0x14fd+-0x128a+0x1*-0x273,_0x395682=0x1242+0x2*-0x85d+-0x188,_0x528531=0x724+0x3cd+-0xaf1;switch(_0x39e618[_0xa2120e]>>>0x8e8+-0x12f*-0x17+-0x2403){case-0x9*-0x394+0x283+-0x22b7:_0x54698d=_0x4d6a9b,_0x2b38b9=_0x34e50a,_0x395682=_0x4a33a9,_0x528531=_0x1702eb;break;case 0xb64+0x490*-0x3+0x1f*0x13:_0x54698d=_0x4d6a9b,_0x2b38b9=_0x4a33a9,_0x395682=_0x1702eb,_0x528531=_0x34e50a;break;case 0x1e76+-0x7f*0x11+0x757*-0x3:_0x54698d=_0x4a33a9,_0x2b38b9=_0x4d6a9b,_0x395682=_0x1702eb,_0x528531=_0x34e50a;break;case 0x22b7*0x1+0x39*-0x8a+-0x3fa:_0x54698d=_0x4a33a9,_0x2b38b9=_0x1702eb,_0x395682=_0x4d6a9b,_0x528531=_0x34e50a;break;}const _0x226b4d=_0x57db05(_0x54698d,_0x2b38b9,_0x395682,_0x528531);_0x3d4d9f[_0xa2120e*(-0xe18+-0x595+0x13b0)]=_0x226b4d['x'],_0x3d4d9f[_0xa2120e*(-0x19d7*0x1+-0x1*0x23de+0xc58*0x5)+(-0x1*0x25e2+-0x2318+-0x1*-0x48fb)]=_0x226b4d['y'],_0x3d4d9f[_0xa2120e*(-0x1c0d*-0x1+-0x1491+-0x779*0x1)+(-0x1b3f*-0x1+0x696+-0x21d3)]=_0x226b4d['z'];}return _0x3d4d9f;},_0x42977e=(_0x334cb6,_0x563884,_0x264237)=>{const _0x596c65=_0x264237-_0x563884,_0xa2a75b=new Float32Array(_0x334cb6['length']);for(let _0x125dc0=0x5*0x6f3+0x3*0x848+-0x3b97;_0x125dc0<_0x334cb6['length'];_0x125dc0++)_0xa2a75b[_0x125dc0]=_0x334cb6[_0x125dc0]/(0x2*-0xd39+0x3*0xb75+-0x377*0x2)*_0x596c65+_0x563884;return _0xa2a75b;},_0x604cfb=new Float32Array(-0x1452+0x9*-0x2b7+0x2cc2),_0x105a6f=new Int32Array(_0x604cfb['buffer']),_0x4da1ac=_0x1b6a69=>{_0x604cfb[-0x362*-0x2+-0x1*0x1b1+-0x513*0x1]=_0x1b6a69;const _0x4ea809=_0x105a6f[-0x99c+-0x21d1+0x1*0x2b6d];let _0x17ed64=_0x4ea809>>-0x120d+0xbf0*0x1+0x62d&-0xd819+-0x3*-0x3541+0xb856,_0x282946=_0x4ea809>>-0xa*0x39e+-0xcf+0x2507&0x1ce1+0x2139+-0x361b;const _0xf09c23=_0x4ea809>>-0x1*0x153d+0x10e4+-0x11c*-0x4&0x1*-0x1c73+0xc*-0x29+-0xb*-0x2da;return _0xf09c23<0x9b5+-0x607+-0x347?_0x17ed64:_0xf09c23>0x20ef+-0x106b+0x2*-0x7fb?(_0x17ed64|=0x2cac+-0x1*-0xd969+-0x8a15,_0x17ed64|=(_0xf09c23===0x1366+-0x6fb*-0x1+-0x12*0x169?-0x8b*0x3+-0x1919+0x1aba:0x1*-0x25bd+0x25*-0xa7+-0xd9*-0x49)&&_0x4ea809&0x2160+0x5*-0x2ccbf2+-0x15fda59*-0x1,_0x17ed64):_0xf09c23<-0x3a*0x1d+0x542+0x1c1*0x1?(_0x282946|=0x3a*-0x12+-0x20b+0xe1f,_0x17ed64|=(_0x282946>>-0x59b*-0x2+-0x27*-0xbb+-0x305*0xd-_0xf09c23)+(_0x282946>>0xe*0x2b+-0x71*0x1+-0x178-_0xf09c23&0xacd+-0x1dc8+0x12fc),_0x17ed64):(_0x17ed64|=_0xf09c23-(0x1fc2+-0x974+-0x15de)<<-0xef*-0x25+0xe9*0x2+-0x2453|_0x282946>>0x3*0x1e0+-0xd*0x105+0x2*0x3d1,_0x17ed64+=_0x282946&-0x66d+0x6d3+-0x65,_0x17ed64);},_0x18683a=_0x39c2b7=>{const _0x37ac79=new Uint16Array(_0x39c2b7['length']);for(let _0xb3a824=-0xf44+0x21b4+0x938*-0x2;_0xb3a824<_0x39c2b7['length']/(0x169c*-0x1+-0x2566+0x3c06);++_0xb3a824)_0x37ac79[_0xb3a824*(-0x790+-0x113b+-0x1d*-0xdb)]=_0x4da1ac(_0x39c2b7[_0xb3a824*(-0x13a5+-0x61*-0x4f+-0xa46*0x1)]*_0x1c0117+(-0x25b7+-0xe*-0x107+0x1755+0.5)),_0x37ac79[_0xb3a824*(0x14d1+0x9*-0x22+-0x139b)+(-0x1a07+0xe21*-0x1+0x45*0x95)]=_0x4da1ac(_0x39c2b7[_0xb3a824*(-0x19e5+0x1*-0x7c1+0x21aa)+(0x281*-0xb+-0x299+0x1*0x1e25)]*_0x1c0117+(-0x1b45+0x19*-0x17f+0x102b*0x4+0.5)),_0x37ac79[_0xb3a824*(-0x6e7*0x1+0xba5+-0xf2*0x5)+(0x20ef*0x1+0x1265+-0x2*0x19a9)]=_0x4da1ac(_0x39c2b7[_0xb3a824*(-0x9*0x3a1+-0xa93+0x2b40)+(0x13db+0x31*0xbb+-0x1*0x37a4)]*_0x1c0117+(0x1*-0x24f4+0x2c5+-0x3*-0xb65+0.5)),_0x37ac79[_0xb3a824*(0xeed*0x1+-0xa3*-0x2d+-0x2b90)+(0x2ec+0x2*-0x116d+0x1ff1*0x1)]=_0x4da1ac(_0x39c2b7[_0xb3a824*(-0x273+0x2579+-0x2302)+(-0x1*0xeb9+0x2108+-0x124c)]);return _0x37ac79;},_0x15c029=new _0x4a2184(0x4*0x360+-0x1f2f+0x11af,0x110b+0x8ba+0x3*-0x897,0xe09+-0xa*-0x17+0xeef*-0x1,0x20e*-0x12+-0x14c8*0x1+-0x1ce2*-0x2),_0x57db05=(_0x43b0ed,_0x3d389b,_0x16d794,_0xa7266c)=>(_0x15c029['set'](_0x3d389b,_0x16d794,_0xa7266c,_0x43b0ed),_0x15c029['normalize'](),_0x15c029['w']<0x185e+0x1906+0x1*-0x3164&&_0x15c029['mulScalar'](-(-0x2570+0x1*0x1336+0x123b*0x1)),_0x15c029);function _0x472852(_0x3327e1,_0x32009f,_0x11ea97,_0x44ba70,_0x3d2c33){const _0x16fd9a=_0x3d2c33[Object['keys'](_0x3d2c33)[0x3*-0x363+0xbb0+-0x187]]['length'],_0x58c988=-0x5*0x595+0xfa8+0xd41;let _0x4606c7=[],_0x252276=_0x32009f;for(let _0x3bd37e=0x79*0x2f+0x1f90+0x3*-0x11ed;_0x3bd37e<_0x16fd9a;_0x3bd37e++){const _0x15839b=Math['min'](_0x58c988,_0x252276);_0x4606c7['push'](_0x15839b),_0x252276-=_0x15839b;}let _0x3a791d=-0x3f4+0x1*0xaf9+-0x705,_0x2d51d9={};for(let _0xc394b7 of _0x11ea97){const _0x2bbae8=_0xc394b7['name'],{dataSize:_0x55f1b6,datatype:_0x3b9063}=_0x4e9e73(_0xc394b7,_0x32009f);let _0xd95207=_0x3327e1['buffer']['slice'](_0x3a791d,_0x3a791d+_0x55f1b6),_0x5c9a4f=new _0x3b9063(_0xd95207);_0x2d51d9[_0x2bbae8]=_0x5c9a4f,_0x3a791d+=_0x55f1b6;}let _0x1603d8=[],_0x331f4e=-0x1f7c+-0x2*-0x1229+0x4d6*-0x1;for(let _0x55876b=-0x1a6e+0xd*-0x4a+0x1e30;_0x55876b<_0x16fd9a;_0x55876b++){const _0x10847=_0x4e2a3a(_0x2d51d9,_0x3d2c33,_0x55876b,_0x4606c7,_0x331f4e,_0x11ea97),_0x97714a=_0x10847['chunkDecom'+'pressed'];_0x1603d8['push'](_0x97714a),_0x331f4e=_0x10847['chunkStart'+'Idx'];}let _0x7e415f={};for(let _0x57dbf3 of Object['keys'](_0x1603d8[0x992*-0x1+-0x1*0x2608+0x2f9a])){let _0x4d5b15=0x1*-0x557+0x563+-0xc;for(let _0x47aa2c=-0x250+0x2c1*-0xc+-0x2*-0x11ae;_0x47aa2c<_0x1603d8['length'];_0x47aa2c++)_0x4d5b15+=_0x1603d8[_0x47aa2c][_0x57dbf3]['length'];_0x57dbf3==='color_opac'+'ity'||_0x57dbf3==='scale'?_0x7e415f[_0x57dbf3]=new Uint16Array(_0x4d5b15):_0x7e415f[_0x57dbf3]=new Float32Array(_0x4d5b15);let _0x37b648=-0x1*-0x2151+-0x8ac+-0x18a5;for(let _0x1f2406=0x547*0x4+-0x1112*0x1+-0xb*0x5e;_0x1f2406<_0x1603d8['length'];_0x1f2406++)_0x7e415f[_0x57dbf3]['set'](_0x1603d8[_0x1f2406][_0x57dbf3],_0x37b648),_0x37b648+=_0x1603d8[_0x1f2406][_0x57dbf3]['length'];}return _0x11ea97['some'](_0x337eec=>_0x337eec['name']==='feature_re'+'st')&&(_0x7e415f['feature_re'+'st']=_0x7cfb8c(_0x2d51d9,_0x11ea97)),_0x7e415f['time_index']=new Float32Array(_0x32009f),_0x7e415f['time_index']['fill'](_0x44ba70-(-0x575+0x14a3+-0x1*0xf2d)),_0x7e415f;}const _0x4e2a3a=(_0x189c53,_0x5a36bd,_0x4fc97a,_0x5269ab,_0x177675,_0x49cf22)=>{const _0x556803=_0x5269ab[_0x4fc97a],_0x46cd98=_0x177675+_0x556803,_0x547211=(_0x55a866,_0x1f7088,_0x54f3ef)=>_0x55a866*(-0x1eb*0x7+0xc2b+0x143-_0x54f3ef)+_0x1f7088*_0x54f3ef;let _0x3cebdd={};for(let _0xcc47dd of _0x49cf22){const _0x20a0fa=_0xcc47dd['name'],_0x5a3389=_0xcc47dd['encoding']['codec'],_0x27e5f9=_0x189c53[_0x20a0fa]['slice'](_0x177675,_0x46cd98);if(_0x5a3389==='pack_11_10'+'_11'){if(_0x20a0fa==='scale'){const _0x2e4745=_0x5a36bd['min_scales'][_0x4fc97a],_0x2ce5b8=_0x5a36bd['max_scales'][_0x4fc97a],_0x1a3c7c=_0x324fd3(_0x27e5f9),_0xcb4a1b=_0x1a3c7c['length'],_0x54381d=new Uint16Array(_0xcb4a1b);for(let _0x177a59=0x225c+0x92d+-0x2b89*0x1;_0x177a59<_0xcb4a1b;_0x177a59++)_0x54381d[_0x177a59]=_0x4da1ac(Math['exp'](_0x547211(_0x2e4745[_0x177a59%(-0xb65*-0x1+-0x1d3*0x2+-0x7bc)],_0x2ce5b8[_0x177a59%(0xf*-0x8c+-0x854+0x23*0x79)],_0x1a3c7c[_0x177a59])));_0x3cebdd[_0x20a0fa]=_0x54381d;}else{const _0x28194c=_0x324fd3(_0x27e5f9);let _0x41e1a8,_0x506523;if(_0x20a0fa==='position')_0x41e1a8=_0x5a36bd['min_means'][_0x4fc97a],_0x506523=_0x5a36bd['max_means'][_0x4fc97a];else{if(_0x20a0fa==='motion')_0x41e1a8=_0x5a36bd['min_motion'][_0x4fc97a],_0x506523=_0x5a36bd['max_motion'][_0x4fc97a];else{if(_0x20a0fa==='lifecycle'){const _0x5940de=_0x5a36bd['min_t_scal'+'e'][_0x4fc97a],_0x33bbcd=_0x5a36bd['max_t_scal'+'e'][_0x4fc97a],_0x11e2b5=_0x5a36bd['min_time'][_0x4fc97a],_0xb2877f=_0x5a36bd['max_time'][_0x4fc97a],_0x1f7ed5=_0x5a36bd['min_cutoff'][_0x4fc97a],_0x36fe10=_0x5a36bd['max_cutoff'][_0x4fc97a];_0x41e1a8=[_0x5940de[-0x13d*0x1+0x24bc+-0x237f],_0x11e2b5[0x1cec+0x3*-0x69e+-0x102*0x9],_0x1f7ed5[-0x2e*-0x8e+0x4f*-0x2f+-0xb03]],_0x506523=[_0x33bbcd[-0x9*0x2f+-0x9a*0x1+-0x241*-0x1],_0xb2877f[-0x7*-0xcb+0x1ced+-0x227a],_0x36fe10[-0x1cf8+0x6c1+0x1637]];}else throw new Error('Unknown\x20at'+'tribute\x20fo'+'r\x20pack_11_'+'10_11:\x20'+_0x20a0fa);}}for(let _0x4622fd=0x1*-0xae5+0x6*-0x67f+0x31df;_0x4622fd<_0x28194c['length'];_0x4622fd++)_0x28194c[_0x4622fd]=_0x547211(_0x41e1a8[_0x4622fd%(0x210e+0x333+-0x243e)],_0x506523[_0x4622fd%(-0x1*0x1892+-0x1*-0x25f5+-0xd60)],_0x28194c[_0x4622fd]);_0x3cebdd[_0x20a0fa]=_0x28194c;}}else{if(_0x5a3389==='pack_8888'){let _0x598070=_0x32981f(_0x27e5f9);const _0x2389fd=_0x5a36bd['min_colors'][_0x4fc97a],_0x239f93=_0x5a36bd['max_colors'][_0x4fc97a],_0x20bfb0=new Uint16Array(_0x598070['length']);for(let _0x10e902=0x1cd*0x11+-0x1bae+-0x2ef;_0x10e902<_0x598070['length'];_0x10e902++){const _0x21de5a=_0x10e902*(0x7*0x467+0x1*-0x8+0x1ec5*-0x1);_0x20bfb0[_0x21de5a]=_0x4da1ac(_0x547211(_0x2389fd[-0x5*0x246+0x32*0xa3+-0x1478*0x1],_0x239f93[0xb1a+-0x1224+-0x22*-0x35],_0x598070[_0x21de5a])),_0x20bfb0[_0x21de5a+(-0x163*-0x1+0x1*-0x4a2+0x340)]=_0x4da1ac(_0x547211(_0x2389fd[-0xd3a*-0x1+-0x19*-0x119+-0x6c7*0x6],_0x239f93[0x1fe7+-0xadb*-0x3+-0x4077*0x1],_0x598070[_0x21de5a+(-0x5f*0x58+0x54d*-0x3+0x3090)])),_0x20bfb0[_0x21de5a+(-0x1efb+-0x2c8+-0x5f*-0x5b)]=_0x4da1ac(_0x547211(_0x2389fd[-0xe02+0x143e+-0x31d*0x2],_0x239f93[0x1*-0x16af+-0x1*-0x11cf+0x19*0x32],_0x598070[_0x21de5a+(0x26fa+0x1*-0x1624+0x86a*-0x2)])),_0x20bfb0[_0x21de5a+(-0x173c+-0x1059+-0x7*-0x5a8)]=_0x4da1ac(_0x598070[_0x21de5a+(0x1*0x611+0x455+-0xa63)]);}_0x3cebdd[_0x20a0fa]=_0x20bfb0;}else{if(_0x5a3389==='pack_rotat'+'ion_32'){const _0x3b1b1e=_0x5bd021(_0x27e5f9);_0x3cebdd[_0x20a0fa]=_0x3b1b1e;}else{if(_0x5a3389==='range_quan'+'t_u8'){if(_0x20a0fa==='feature_re'+'st')continue;throw new Error('Unknown\x20co'+'dec:\x20'+_0x5a3389);}}}}}return{'chunkDecompressed':_0x3cebdd,'chunkStartIdx':_0x46cd98};},_0x7cfb8c=(_0x580acd,_0x5b8bdc)=>{const _0x4afba4='feature_re'+'st',_0x26eb2f=_0x5b8bdc['find'](_0x412c78=>_0x412c78['name']===_0x4afba4);let _0x13c456;const _0x2f25bc=_0x26eb2f['encoding']['codec'],_0x1b447e=_0x580acd[_0x4afba4];if(_0x2f25bc==='range_quan'+'t_u8'){const [_0x120d90,_0x4570b5]=_0x26eb2f['encoding']['range'];_0x13c456=_0x42977e(_0x1b447e,_0x120d90,_0x4570b5);}else throw new Error('Unknown\x20co'+'dec:\x20'+_0x2f25bc);return _0x13c456;},_0x3634be=(_0x2c08f2,_0x28533a,_0x399724,_0x52da0f)=>{let _0x56a681=0x17d7+0x167e+-0x1d*0x199;const _0x3766b2={};for(const _0xa2b685 of _0x399724){const {dataSize:_0x278709}=_0x4e9e73(_0xa2b685,_0x28533a);if(['vec3f','vec4f','vec2f']['includes'](_0xa2b685['dataType']))_0x3766b2[_0xa2b685['name']]=new Float32Array(_0x2c08f2['buffer']['slice'](_0x56a681,_0x56a681+_0x278709));else{if(_0xa2b685['dataType']['startsWith']('array<floa'+'t'))_0x3766b2[_0xa2b685['name']]=new Float32Array(_0x2c08f2['buffer']['slice'](_0x56a681,_0x56a681+_0x278709));else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0xa2b685['dataType']);}_0x56a681+=_0x278709;}const _0x1bf8ca=new Uint16Array(_0x3766b2['scale']['length']);for(let _0x1782ef=-0x34*0x6d+0x175d*-0x1+0x423*0xb;_0x1782ef<_0x3766b2['scale']['length'];_0x1782ef++)_0x1bf8ca[_0x1782ef]=_0x4da1ac(Math['exp'](_0x3766b2['scale'][_0x1782ef]));_0x3766b2['scale']=_0x1bf8ca;const _0x1d0303=_0x3766b2['rotation']['length']/(-0x1147*0x1+-0x70+-0x33*-0x59),_0x9d2c2b=new Float32Array(_0x1d0303*(-0x26a3+-0x5*-0x6c7+-0x17*-0x35));for(let _0x5c251c=-0x28*0x5f+0x1c4a+-0xd72;_0x5c251c<_0x1d0303;_0x5c251c++){const _0x2fcb03=_0x57db05(_0x3766b2['rotation'][_0x5c251c*(-0x27*0x4d+-0x704+-0x1*-0x12c3)],_0x3766b2['rotation'][_0x5c251c*(0x38c+-0xb47*-0x3+0x255d*-0x1)+(0x1*0x4b1+0x247+0x6f7*-0x1)],_0x3766b2['rotation'][_0x5c251c*(0x1844+0x20e*0x5+0x2286*-0x1)+(-0x40*-0x4+-0x1d3e+0x1c40)],_0x3766b2['rotation'][_0x5c251c*(0x65c*0x1+-0x59*0x64+0x11*0x1ac)+(-0x1433+-0xf60+0xa*0x38f)]);_0x9d2c2b[_0x5c251c*(-0x1d4b*-0x1+-0x845*-0x1+0x258d*-0x1)]=_0x2fcb03['x'],_0x9d2c2b[_0x5c251c*(-0xbac+0x225a+-0x16ab*0x1)+(0x4*0x62f+-0x2d4+-0x15e7)]=_0x2fcb03['y'],_0x9d2c2b[_0x5c251c*(-0xfcf+0x8a*0x28+-0x5be)+(-0xd*0x104+-0x3*-0x5f2+-0x4a0)]=_0x2fcb03['z'];}return _0x3766b2['rotation']=_0x9d2c2b,_0x3766b2['color_opac'+'ity']=_0x18683a(_0x3766b2['color_opac'+'ity']),_0x3766b2['time_index']=new Float32Array(_0x28533a),_0x3766b2['time_index']['fill'](_0x52da0f-(0x7df*0x1+-0xc74+-0x496*-0x1)),_0x3766b2;},_0x2c7226=(_0x3dca70,_0x22c17b)=>{const _0x5550f9={};if(_0x3dca70['length']===-0x5*-0xd9+-0x19a4+0x1568)return _0x3dca70[-0x66*0x1f+-0x2db+0xe5*0x11];for(const _0x4255d4 of Object['keys'](_0x3dca70[0x15*0xda+0x164c+-0x282e]))if(_0x3dca70[0xd50+0x4fd+-0x124d][_0x4255d4]instanceof Float32Array||_0x3dca70[-0x998+0x1*0x25ab+-0x1*0x1c13][_0x4255d4]instanceof Uint16Array){const _0x4ccff5=_0x3dca70['reduce']((_0x5aa1ff,_0x238b2e)=>_0x5aa1ff+_0x238b2e[_0x4255d4]['length'],0xc40+-0x29b+-0x9a5);let _0x448367;_0x3dca70[-0x9*0x366+0x1ebc+-0x26][_0x4255d4]instanceof Uint16Array?_0x448367=new Uint16Array(_0x4ccff5):_0x448367=new Float32Array(_0x4ccff5);let _0x3982ee=0x1a93+0x1875+-0x8e*0x5c;for(const _0x2c95c2 of _0x3dca70)_0x448367['set'](_0x2c95c2[_0x4255d4],_0x3982ee),_0x3982ee+=_0x2c95c2[_0x4255d4]['length'];_0x5550f9[_0x4255d4]=_0x448367;}else Array['isArray'](_0x3dca70[0x122b+-0x10b*-0xc+0x623*-0x5][_0x4255d4])?_0x5550f9[_0x4255d4]=_0x3dca70['flatMap'](_0x5da055=>Array['from'](_0x5da055[_0x4255d4])):_0x5550f9[_0x4255d4]=_0x3dca70['map'](_0x4d5601=>_0x4d5601[_0x4255d4])['flat']();return _0x5550f9;};}class hk extends me{constructor(_0x243689){super(),h(this,'manifestUr'+'l'),h(this,'worker'),(this['manifestUr'+'l']=_0x243689,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+ck['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','cborXUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/cbor-x@1'+'.6.0.min.j'+'s'});}['loadGsdMan'+'ifest'](_0x176fe0){var _0x51f59a;return(_0x51f59a=this['worker'])==null||_0x51f59a['postMessag'+'e']({'type':'loadGsdMan'+'ifest','manifestUrl':this['manifestUr'+'l'],'loadRepresentation':_0x176fe0}),new Promise((_0x56d4c6,_0x58c067)=>{if(!this['worker']){_0x58c067(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x12a42d=>{if(!this['worker'])return;const {data:_0x12eb9e}=_0x12a42d;if(this['manifestUr'+'l']===_0x12eb9e['url'])switch(_0x12eb9e['type']){case'onloadMani'+'fest':_0x56d4c6({'manifest':_0x12eb9e['data'],'url':_0x12eb9e['url'],'representation':_0x12eb9e['representa'+'tion']});break;case'error':_0x58c067(_0x12eb9e['data']);break;}};});}['loadGsdSeg'+'ments'](_0x49c47e,_0x542455){var _0xaa47be;return(_0xaa47be=this['worker'])==null||_0xaa47be['postMessag'+'e']({'type':'loadGsdSeg'+'ments'}),new Promise((_0x41c4d3,_0x4ced4b)=>{if(!this['worker']){_0x4ced4b(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x4da895=>{if(!this['worker'])return;const {data:_0x2ec10e}=_0x4da895;if(this['manifestUr'+'l']===_0x2ec10e['url'])switch(_0x2ec10e['type']){case'progress':_0x49c47e==null||_0x49c47e(_0x2ec10e['bytes'],_0x2ec10e['totalLengt'+'h'],_0x2ec10e['url']);break;case'loadGsdSeg'+'mentsDone':_0x41c4d3(_0x2ec10e['data']);break;case'error':_0x542455==null||_0x542455(_0x2ec10e['data'],_0x2ec10e['url']);break;}};});}['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x3098c2,_0x45b92d,_0x12e16e){var _0x726075;return(_0x726075=this['worker'])==null||_0x726075['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'ments','timelineIndexs':_0x3098c2}),new Promise((_0x2b60a6,_0x532183)=>{if(!this['worker']){_0x532183(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x35500f=>{if(!this['worker'])return;const {data:_0x4f6b35}=_0x35500f;if(this['manifestUr'+'l']===_0x4f6b35['url'])switch(_0x4f6b35['type']){case'progress':_0x45b92d==null||_0x45b92d(_0x4f6b35['bytes'],_0x4f6b35['totalLengt'+'h'],_0x4f6b35['url']);break;case'loadTimeli'+'neIndexSeg'+'mentsDone':_0x2b60a6(_0x4f6b35);break;case'error':_0x12e16e==null||_0x12e16e(_0x4f6b35['data'],_0x4f6b35['url']);break;}};});}['destroy'](){this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(-0x1*0x1412+0x10a0+-0x372*-0x1));}}const Xh=class Xh{constructor(_0x595586,_0x50daba,_0x41ac71){h(this,'lastLoadIn'+'dex',-0x171e+-0x1897+0x9*0x54d),h(this,'gsdAssetPa'+'rser'),(this['manifest']=_0x595586,this['representa'+'tion']=_0x50daba,this['gsdAssetPa'+'rser']=_0x41ac71,this['segmentTim'+'elines']=this['getSegment'+'Timeline'](_0x595586,_0x50daba));}['getSegment'+'Timeline'](_0x5da614,_0xf799a5){let _0x775450=null;for(const _0x21d5e2 of _0x5da614['adaptation'+'Sets'])if(_0x21d5e2['contentTyp'+'e']==='4dgs'){for(const _0x304c83 of _0x21d5e2['representa'+'tions'])if(_0x304c83['id']===_0xf799a5){_0x775450=_0x304c83;break;}break;}if(!_0x775450)throw new Error('Representa'+'tion\x20\x27'+_0xf799a5+('\x27\x20not\x20foun'+'d'));return _0x775450['segmentTem'+'plate'][0x14*0x1ea+0x46*-0x8c+0x0]['segmentTim'+'eline'];}['onTimeChan'+'ged'](_0x34a6fc){const _0x5d2c3e=this['findSegmen'+'tTimeline'](_0x34a6fc);if(!_0x5d2c3e)return;const _0x235320=_0x5d2c3e['timelineIn'+'dex']<this['segmentTim'+'elines']['length']-(-0x997*0x4+0x254b+0x1*0x112)?_0x5d2c3e['timelineIn'+'dex']+(-0x2ff+-0xb33*-0x1+-0x1*0x833):-0xe*-0x220+0x1c5c+-0xe87*0x4;this['lastLoadIn'+'dex']!==_0x235320&&(this['lastLoadIn'+'dex']=_0x235320,this['loadNextSe'+'gment'](_0x235320));}async['loadNextSe'+'gment'](_0x59e8df){const _0x4e8aa3=[];for(let _0x246aef=0x1447*0x1+0x11ce+0x1*-0x2615;_0x246aef<Xh['CACHE_COUN'+'T'];_0x246aef++)_0x4e8aa3['push']((_0x59e8df+_0x246aef)%this['segmentTim'+'elines']['length']);const _0x610347=_0x4e8aa3[_0x4e8aa3['length']-(-0xce+-0x3f9*-0x5+-0x130e)],_0x1e312c=this['segmentTim'+'elines'][_0x610347]['t']+this['segmentTim'+'elines'][_0x610347]['d'];this['gsdAssetPa'+'rser']['appendload'+'DataTask'](_0x4e8aa3,_0x1e312c);}['findSegmen'+'tTimeline'](_0x203c7e){let _0x138cbb=-0x10f7+-0x10*0x1f7+-0x1*-0x3067,_0xc7704a=this['segmentTim'+'elines']['length']-(-0x35*0xad+-0x50*-0x60+0x5d2);for(;_0x138cbb<=_0xc7704a;){const _0xf61c66=_0x138cbb+_0xc7704a>>-0x3*0x84a+0x1047*-0x1+0x2926,{t:_0x21e430,d:_0x11a1b8}=this['segmentTim'+'elines'][_0xf61c66];if(_0x203c7e<_0x21e430)_0xc7704a=_0xf61c66-(0xbd7+-0x2*0xd81+0xf2c);else{if(_0x203c7e>=_0x21e430+_0x11a1b8)_0x138cbb=_0xf61c66+(-0x1f48+-0x15d2+0x1*0x351b);else return{'timeline':this['segmentTim'+'elines'][_0xf61c66],'timelineIndex':_0xf61c66};}}return null;}};h(Xh,'CACHE_COUN'+'T',-0xa96*-0x1+-0xa13+-0x7d);let Wu=Xh;class dk{constructor(_0x581472,_0x4c9247){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'manifest'),h(this,'schedule'),h(this,'readWorker'),h(this,'loadDataTa'+'skQueue',[]),h(this,'isProcessi'+'ngLoadTask'+'Queue',!(-0x1e4d+-0x1253+0x30a1)),(console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','Register\x20G'+'sdParser.c'+'onstructor'),this['app']=_0x581472,this['maxRetries']=_0x4c9247,this['urlList']=[],this['gsplatReso'+'urce']=null,this['totalRecei'+'ved']=-0x5*-0x326+-0x16*-0xc4+-0x2096,this['manifest']={});}async['load'](_0x10d233,_0x41dcaa,_0x5c9009){console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','GsdParser.'+'load',_0x10d233['load']);const _0xa2aa97=_0x5c9009['data']['events'];this['events']=_0xa2aa97,this['asset']=_0x5c9009,this['callback']=_0x41dcaa,this['timeOption']=_0x5c9009['data']['timeOption'];let _0x410692=_0x5c9009['data']['representa'+'tion']||'high-raw';this['readWorker']=new hk(_0x10d233['load']);const _0x36d5d8=await this['readWorker']['loadGsdMan'+'ifest'](_0x410692);this['manifest']=_0x36d5d8['manifest'],_0x410692=_0x36d5d8['manifest']['representa'+'tion']||_0x410692,this['schedule']=new Wu(this['manifest'],_0x410692,this),this['totalRecei'+'vedCount']=-0x1dba*-0x1+-0x56+-0x1d64;const _0x4a4074=this['getSegment'+'Timeline'](this['manifest'],_0x410692),_0x365add=_0x4a4074[0x74*0x51+0x1*0xf4f+0x3403*-0x1]['t']+_0x4a4074[-0x22*-0x32+0x7f7+-0xe9b*0x1]['d'];this['appendload'+'DataTask']([0x61a+-0x6*0x3fe+-0x392*-0x5,-0x20ba+0xf78+0x1143],_0x365add),_0xa2aa97['on']('timeChange'+'d',_0x449c46=>{var _0x25554c;(_0x25554c=this['schedule'])==null||_0x25554c['onTimeChan'+'ged'](_0x449c46);});}['getSegment'+'Timeline'](_0x26170a,_0x2fe446){let _0x434a7c=null;for(const _0x163ab2 of _0x26170a['adaptation'+'Sets'])if(_0x163ab2['contentTyp'+'e']==='4dgs'){for(const _0x5db63a of _0x163ab2['representa'+'tions'])if(_0x5db63a['id']===_0x2fe446){_0x434a7c=_0x5db63a;break;}break;}if(!_0x434a7c)throw new Error('Representa'+'tion\x20\x27'+_0x2fe446+('\x27\x20not\x20foun'+'d'));return _0x434a7c['segmentTem'+'plate'][-0xb*-0x76+0x2c6+-0x1*0x7d8]['segmentTim'+'eline'];}['appendload'+'DataTask'](_0x22050c,_0x27392c){this['loadDataTa'+'skQueue']['push']({'segmentIndexs':_0x22050c,'loadedTime':_0x27392c}),this['isProcessi'+'ngLoadTask'+'Queue']||Promise['resolve']()['then'](()=>this['processLoa'+'dQueue']());}async['processLoa'+'dQueue'](){if(!this['isProcessi'+'ngLoadTask'+'Queue']){this['isProcessi'+'ngLoadTask'+'Queue']=!(0x5*0x2f9+-0x77b+-0x762);try{for(;this['loadDataTa'+'skQueue']['length']>-0x10*-0x43+-0xf0b+0xadb;){const _0x46141e=this['loadDataTa'+'skQueue']['shift']();await this['loadGsplat'+'Data'](_0x46141e);}}finally{this['isProcessi'+'ngLoadTask'+'Queue']=!(0x1c85+0x1edf+-0x3b63);}}}async['loadGsplat'+'Data'](_0x49339d){var _0x32eab3,_0x25dfaa;const {segmentIndexs:_0x1a77cc,loadedTime:_0x48e929}=_0x49339d,_0x285096=this['events'],_0x2444b5=this['asset'],_0x16820e=this['callback'],_0x3ef54e=this['timeOption'];globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('____loadTi'+'me','gsd\x20======'+'=========='+'=========='+'=========='+'=========='+'========='),console['log']('____loadTi'+'me','gsd\x20start\x20'+'loadGsplat'+'Data',_0x1a77cc,(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](-0x32b+0x12d4+-0xfa7));try{const _0x386175=await this['readWorker']['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x1a77cc,(_0x1e73c2,_0x322078)=>{this['totalRecei'+'ved']+=_0x1e73c2,_0x2444b5&&_0x285096['fire']('progress',this['totalRecei'+'ved'],_0x322078);},(_0x361aca,_0x1feff3)=>{debugger;console['warn']('ERROE\x20Load'+'\x20GSD',_0x1feff3,_0x361aca);});console['log']('____loadTi'+'me','gsd\x20end\x20lo'+'adGsplatDa'+'ta',(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](0x1b4c+-0x111a*-0x1+-0x2c64),_0x386175['data']['elements'][0x1109*0x1+-0xb*-0xf4+-0x1b85]['count'],((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/_0x386175['data']['elements'][-0x5ee+-0x2*0xc33+0x1e54]['count']*(-0x248f+0x4d03+-0x164*0x1))['toFixed'](0xcd2+-0x35*0x7b+0xca7*0x1));const _0x578d72=_0x386175['data'];if(_0x578d72['elements'][0xd44+-0x1*-0x602+-0x1346]['count']===0x2*0x742+0x2195*-0x1+0x1311)return;this['totalRecei'+'vedCount']+=_0x578d72['elements'][0x5e*0x46+0x115f+-0x2b13]['count'];const _0x5b509f=new iC(_0x578d72['elements'],_0x578d72['comments']);_0x2444b5['fire']('load:data',_0x5b509f);const _0x1785e5=_0x2444b5['data']['createTime']!==((_0x25dfaa=(_0x32eab3=this['onlyOneAss'+'et'])==null?void(0xe*-0x2c3+-0x20b1*0x1+0x475b):_0x32eab3['data'])==null?void(0x1*0x17b3+0x1a11*-0x1+0x25e):_0x25dfaa['createTime']);this['gsplatReso'+'urce']&&!_0x1785e5?(console['log']('____\x20ENGIN'+'E\x20IVAN','appendGSpl'+'atDecodedR'+'esource'),this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x5b509f,_0x3ef54e,_0x48e929,_0x2444b5)):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'DecodedRes'+'ource'),this['gsplatReso'+'urce']=new CC(this['app']['graphicsDe'+'vice'],_0x5b509f),this['gsplatReso'+'urce']['setSceneIn'+'fo'](this['manifest']['sceneInfo']),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x3ef54e,this['onlyOneAss'+'et']=_0x2444b5,_0x16820e&&_0x16820e(null,this['gsplatReso'+'urce']),_0x285096['fire']('loadAllAss'+'etsDone'));}catch(_0x1fe563){console['error']('loadGsplat'+'Data','error',_0x1fe563),_0x16820e&&_0x16820e(_0x1fe563,null);}}['open'](_0x4e0007,_0x594660){return _0x594660;}}class fk extends Qe{constructor(_0x27b01f){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x27b01f,'gsplat'),this['parsers']={'ply':new lk(_0x27b01f,-0x1571+-0x185*-0xb+0x4bd),'json':new dk(_0x27b01f,0xe12+0x1825*0x1+-0x28c*0xf)};}['_getUrlWit'+'houtParams'](_0x15eb87){return _0x15eb87['indexOf']('?')>=0x23f8+-0x34+0x1c*-0x147?_0x15eb87['split']('?')[-0x2*-0x1182+0x2dc*-0xd+-0x4*-0x8a]:_0x15eb87;}['_getParser'](_0x40d73c){const _0x425354=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x40d73c))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x425354]||this['parsers']['ply'];}['load'](_0x46fcb3,_0x41eb45,_0x541abe){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x46fcb3=='string'&&(_0x46fcb3={'load':_0x46fcb3,'original':_0x46fcb3}),this['_getParser'](_0x46fcb3['original'])['load'](_0x46fcb3,_0x41eb45,_0x541abe);}['open'](_0x1e7bfa,_0x3b144c,_0x479915){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),_0x3b144c;}}class $u{static['setCompres'+'sedPRS'](_0x19cfa6,_0x461f2e,_0x4b4296){const _0x2e116f=_0x4b4296['singleVecs'];let _0x240aca,_0x504c91;const _0x1380b1=_0x461f2e['___1'];_0x1380b1||(_0x240aca=_0x4b4296['tripleVecs'],_0x504c91=_0x461f2e['___2']);let _0x3ce253=_0x1380b1?_0x1380b1[-0x3da*0x5+0x4f*-0x2+-0x20*-0x9f]:_0x240aca[_0x504c91];_0x19cfa6['setLocalPo'+'sition'](_0x2e116f[_0x3ce253],_0x2e116f[_0x3ce253+(0x1*-0x1829+0x1*0x1bbe+-0x394)],_0x2e116f[_0x3ce253+(0x2382+0x22*-0xfb+0x1*-0x22a)]),_0x3ce253=_0x1380b1?_0x1380b1[-0x4e1+0x369+0x179*0x1]:_0x240aca[_0x504c91+(-0x1*0x7b9+0x19*-0x5c+0x10b6)],_0x19cfa6['setLocalEu'+'lerAngles'](_0x2e116f[_0x3ce253],_0x2e116f[_0x3ce253+(-0x14d1*-0x1+0x7d*0x5+-0x1741*0x1)],_0x2e116f[_0x3ce253+(0x124b+0x1*0x22f3+-0x353c)]),_0x3ce253=_0x1380b1?_0x1380b1[-0x5c*-0x17+0x11ea+0x43*-0x64]:_0x240aca[_0x504c91+(-0x1050+-0x4d6*-0x4+0x306*-0x1)],_0x19cfa6['setLocalSc'+'ale'](_0x2e116f[_0x3ce253],_0x2e116f[_0x3ce253+(-0x1*0x17d+0xc19+0xb5*-0xf)],_0x2e116f[_0x3ce253+(-0xeed+0x7*0x53f+-0x15ca*0x1)]);}static['oneCharToK'+'ey'](_0x28fbce,_0x2574c8){const _0x12e99c=_0x28fbce['charCodeAt'](-0xfa+0x2167+-0x206d)-_0x2574c8['fieldFirst'+'Code'];return _0x2574c8['fieldArray'][_0x12e99c];}static['multCharTo'+'Key'](_0xc0850c,_0x1dab6d){let _0x1b3418=0x5*-0x31d+0x1*0xd0f+0x282;for(let _0x474ef4=0x23b0+0xfcd+-0x7*0x75b;_0x474ef4<_0xc0850c['length'];_0x474ef4++)_0x1b3418=_0x1b3418*_0x1dab6d['fieldCodeB'+'ase']+_0xc0850c['charCodeAt'](_0x474ef4)-_0x1dab6d['fieldFirst'+'Code'];return _0x1dab6d['fieldArray'][_0x1b3418];}}class Uh{constructor(_0x159486,_0x56c723){this['_node']=_0x159486,this['_data']=_0x56c723;}['run'](){const _0x38b8b8=Object['prototype']['toString']['call'](this['_node']);return _0x38b8b8==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x38b8b8==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x5e1095){let _0x47d076=_0x5e1095;const _0x1b9018=_0x5e1095['length'];_0x1b9018===0xcf6+-0x202*-0x7+-0x3*0x901?_0x47d076=$u['oneCharToK'+'ey'](_0x5e1095,this['_data']):_0x1b9018===0x23e2+0x1612+0x39f2*-0x1&&(_0x47d076=$u['multCharTo'+'Key'](_0x5e1095,this['_data'])),this['_result'][_0x47d076]=new Uh(this['_node'][_0x5e1095],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x329d13){const _0x2d9c61=new Uh(_0x329d13,this['_data'])['run']();this['_result']['push'](_0x2d9c61);}}class bm{constructor(_0xee8013,_0x46d442){this['_app']=_0xee8013,this['_isTemplat'+'e']=_0x46d442;}['parse'](_0x182df5){const _0x2dfb2b={};let _0x31a8ae=null;const _0x35cff9=_0x182df5['compressed'+'Format'];_0x35cff9&&!_0x182df5['entDecompr'+'essed']&&(_0x182df5['entDecompr'+'essed']=!(0x2649*0x1+-0x7e5+0x185*-0x14),_0x182df5['entities']=new Uh(_0x182df5['entities'],_0x35cff9)['run']());for(const _0x31c497 in _0x182df5['entities']){const _0x58e78a=_0x182df5['entities'][_0x31c497],_0x2673eb=this['_createEnt'+'ity'](_0x58e78a,_0x35cff9);_0x2dfb2b[_0x31c497]=_0x2673eb,_0x58e78a['parent']===null&&(_0x31a8ae=_0x2673eb);}for(const _0x542528 in _0x182df5['entities']){const _0x56a669=_0x2dfb2b[_0x542528],_0x238394=_0x182df5['entities'][_0x542528]['children'],_0x45f285=_0x238394['length'];for(let _0x29bc9e=-0x1cb+0x209+-0x3e;_0x29bc9e<_0x45f285;_0x29bc9e++){const _0x11568d=_0x2dfb2b[_0x238394[_0x29bc9e]];_0x11568d&&_0x56a669['addChild'](_0x11568d);}}return this['_openCompo'+'nentData'](_0x31a8ae,_0x182df5['entities']),_0x31a8ae;}['_createEnt'+'ity'](_0x29e04a,_0x1f47a0){const _0x380861=new lt(_0x29e04a['name'],this['_app']);if(_0x380861['setGuid'](_0x29e04a['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x380861,_0x29e04a,_0x1f47a0),_0x380861['_enabled']=_0x29e04a['enabled']??!(0x137d*-0x1+-0x1146+0x24c3),this['_isTemplat'+'e']?_0x380861['_template']=!(0x100*0x2+-0xdc9*0x2+0x1992):_0x380861['_enabledIn'+'Hierarchy']=_0x380861['_enabled'],_0x380861['template']=_0x29e04a['template'],_0x29e04a['tags']){for(let _0x35f9ef=0x210c+-0x1*-0x207d+-0x4189;_0x35f9ef<_0x29e04a['tags']['length'];_0x35f9ef++)_0x380861['tags']['add'](_0x29e04a['tags'][_0x35f9ef]);}return _0x380861;}['_setPosRot'+'Scale'](_0x4785f5,_0x4c1178,_0x47a724){if(_0x47a724)$u['setCompres'+'sedPRS'](_0x4785f5,_0x4c1178,_0x47a724);else{const _0x1108e6=_0x4c1178['position'],_0x28c4a1=_0x4c1178['rotation'],_0x1f49dc=_0x4c1178['scale'];_0x4785f5['setLocalPo'+'sition'](_0x1108e6[0x4*0x290+-0x1*-0xdea+-0x182a],_0x1108e6[-0x86*-0x10+-0xa6*0x33+0x18b3],_0x1108e6[0x29a+0x8*-0x1ff+0xd60]),_0x4785f5['setLocalEu'+'lerAngles'](_0x28c4a1[-0x1a65+0x1*-0x12dc+0x1*0x2d41],_0x28c4a1[0x11df+-0x23a+-0xfa4],_0x28c4a1[0x9f*0x1c+-0x25cf+0x7*0x2eb]),_0x4785f5['setLocalSc'+'ale'](_0x1f49dc[-0x18ec+-0x1c*0x5+0x1978],_0x1f49dc[0x353*0x8+-0x632+-0x1465],_0x1f49dc[0x1409+-0x1e2d+0xa26]);}}['_openCompo'+'nentData'](_0x36f380,_0x20ac40){const _0x4ae412=this['_app']['systems']['list'];let _0x166b57=_0x4ae412['length'];const _0x4758c5=_0x20ac40[_0x36f380['getGuid']()];for(let _0x478ccb=0x972+-0x1*-0x365+-0xcd7;_0x478ccb<_0x166b57;_0x478ccb++){const _0x1e8eab=_0x4ae412[_0x478ccb],_0x44e77d=_0x4758c5['components'][_0x1e8eab['id']];_0x44e77d&&_0x1e8eab['addCompone'+'nt'](_0x36f380,_0x44e77d);}_0x166b57=_0x4758c5['children']['length'];const _0x3736f2=_0x36f380['_children'];for(let _0x8e9b8a=0x28*0x96+0x22a8+-0x34*0x11e;_0x8e9b8a<_0x166b57;_0x8e9b8a++)_0x3736f2[_0x8e9b8a]?_0x3736f2[_0x8e9b8a]=this['_openCompo'+'nentData'](_0x3736f2[_0x8e9b8a],_0x20ac40):w['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x36f380['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x36f380;}}class E0{static['load'](_0x33b956,_0x592b4e,_0x580db8){typeof _0x33b956=='string'&&(_0x33b956={'load':_0x33b956,'original':_0x33b956}),ot['get'](_0x33b956['load'],{'retry':_0x592b4e>-0x1*-0xb47+-0x1261*0x1+0x71a,'maxRetries':_0x592b4e},(_0x555c91,_0xaae728)=>{if(!_0x555c91)_0x580db8(_0x555c91,_0xaae728);else{let _0x418904='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x33b956['original'];_0x555c91['message']?(_0x418904+=':\x20'+_0x555c91['message'],_0x555c91['stack']&&(_0x418904+='\x0a'+_0x555c91['stack'])):_0x418904+=':\x20'+_0x555c91,_0x580db8(_0x418904);}});}}class uk extends Qe{constructor(_0x533e4c){super(_0x533e4c,'hierarchy');}['load'](_0x5878b8,_0x4d6f5a){E0['load'](_0x5878b8,this['maxRetries'],_0x4d6f5a);}['open'](_0x25757c,_0x164a5e){this['_app']['systems']['script']['preloading']=!(-0x2*0xa5e+0xb*-0x1e0+0x295c);const _0x15dcc8=new bm(this['_app'],!(-0xe75*0x1+-0x7cb*0x5+0x61*0x8d))['parse'](_0x164a5e);return this['_app']['systems']['script']['preloading']=!(0x1efa+-0x4cd*-0x6+-0x3bc7),_0x15dcc8;}}class pk extends Qe{constructor(_0x41a72e){super(_0x41a72e,'html'),h(this,'decoder',null);}['load'](_0x4659c5,_0x3eaaaa){typeof _0x4659c5=='string'&&(_0x4659c5={'load':_0x4659c5,'original':_0x4659c5}),ot['get'](_0x4659c5['load'],{'retry':this['maxRetries']>-0x55f+-0x6f*-0x18+0x509*-0x1,'maxRetries':this['maxRetries']},(_0x5b0f91,_0x495aed)=>{_0x5b0f91?_0x3eaaaa('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x4659c5['original']+'\x20['+_0x5b0f91+']'):_0x3eaaaa(null,_0x495aed);});}['openBinary'](_0x1e4c72){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x1e4c72);}}class mk extends Qe{constructor(_0x2e5215){super(_0x2e5215,'json'),h(this,'decoder',null);}['load'](_0x454675,_0xc2af6c){typeof _0x454675=='string'&&(_0x454675={'load':_0x454675,'original':_0x454675});const _0x3eba77={'retry':this['maxRetries']>-0x28e+0xd23+0x2b*-0x3f,'maxRetries':this['maxRetries']};_0x454675['load']['startsWith']('blob:')&&(_0x3eba77['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x454675['load'],_0x3eba77,(_0x20b18b,_0x46b143)=>{_0x20b18b?_0xc2af6c('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x454675['original']+'\x20['+_0x20b18b+']'):_0xc2af6c(null,_0x46b143);});}['openBinary'](_0xe47ace){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0xe47ace));}}class _k{constructor(){this['removeInva'+'lid']=!(-0x53e+-0x20*-0x20+0x13e),this['valid']=!(0xba5*-0x1+-0x6d0*0x1+0x1275),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([lv,bd,cv]),'cull':this['_createEnu'+'mValidator']([bt,pa,Fo,Ax]),'blendType':this['_createEnu'+'mValidator']([Gp,Hp,Zs,Cs,Gn,Wp,Ed,$p,Xp,qp,jp]),'depthFunc':this['_createEnu'+'mValidator']([Cx,hh,dh,Wf,Px,Mx,Dx,Wi])};}['setInvalid'](_0x418480,_0xe57fba){this['valid']=!(0x1*-0xc77+0x1a*0xe3+-0xa96),w['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x418480,_0xe57fba[_0x418480]),this['removeInva'+'lid']&&delete _0xe57fba[_0x418480];}['validate'](_0x319689){const _0x3f09a6=$n,_0x1e7ec9=gb,_0x592360=_0x319689['mappingFor'+'mat']==='path';for(const _0x135cd8 in _0x319689){const _0x5ab2df=_0x3f09a6[_0x135cd8];if(!_0x5ab2df){_0x1e7ec9[_0x135cd8]?delete _0x319689[_0x135cd8]:(w['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x135cd8),this['valid']=!(-0x1*0xe04+0x2dc+0xb29*0x1));continue;}if(_0x5ab2df['startsWith']('enum')){const _0x26f05e=_0x5ab2df['split'](':')[-0x5*0x557+0x1f83*-0x1+0x3a37];this['enumValida'+'tors'][_0x26f05e]&&(this['enumValida'+'tors'][_0x26f05e](_0x319689[_0x135cd8])||this['setInvalid'](_0x135cd8,_0x319689));}else{if(_0x5ab2df==='number')typeof _0x319689[_0x135cd8]!='number'&&this['setInvalid'](_0x135cd8,_0x319689);else{if(_0x5ab2df==='boolean')typeof _0x319689[_0x135cd8]!='boolean'&&this['setInvalid'](_0x135cd8,_0x319689);else{if(_0x5ab2df==='string')typeof _0x319689[_0x135cd8]!='string'&&this['setInvalid'](_0x135cd8,_0x319689);else{if(_0x5ab2df==='vec2')_0x319689[_0x135cd8]instanceof Array&&_0x319689[_0x135cd8]['length']===0x2019+0x17f*-0x1+-0x1e98||this['setInvalid'](_0x135cd8,_0x319689);else{if(_0x5ab2df==='rgb')_0x319689[_0x135cd8]instanceof Array&&_0x319689[_0x135cd8]['length']===-0x21eb+-0x14e+0x233c||this['setInvalid'](_0x135cd8,_0x319689);else{if(_0x5ab2df==='texture')_0x592360?typeof _0x319689[_0x135cd8]=='string'||_0x319689[_0x135cd8]===null||_0x319689[_0x135cd8]instanceof _e||this['setInvalid'](_0x135cd8,_0x319689):typeof _0x319689[_0x135cd8]=='number'||_0x319689[_0x135cd8]===null||_0x319689[_0x135cd8]instanceof _e||this['setInvalid'](_0x135cd8,_0x319689);else{if(_0x5ab2df==='boundingbo'+'x')_0x319689[_0x135cd8]['center']&&_0x319689[_0x135cd8]['center']instanceof Array&&_0x319689[_0x135cd8]['center']['length']===0x1*-0x1f8d+-0x2b*0x56+0x2e02||this['setInvalid'](_0x135cd8,_0x319689),_0x319689[_0x135cd8]['halfExtent'+'s']&&_0x319689[_0x135cd8]['halfExtent'+'s']instanceof Array&&_0x319689[_0x135cd8]['halfExtent'+'s']['length']===0x69a+0xb43*0x3+-0x11*0x260||this['setInvalid'](_0x135cd8,_0x319689);else{if(_0x5ab2df==='cubemap')typeof _0x319689[_0x135cd8]=='number'||_0x319689[_0x135cd8]===null||_0x319689[_0x135cd8]===void(-0x20c+-0x1b33+0x1*0x1d3f)||_0x319689[_0x135cd8]instanceof _e&&_0x319689[_0x135cd8]['cubemap']||this['setInvalid'](_0x135cd8,_0x319689);else{if(_0x5ab2df==='chunks'){const _0x3c83d6=Object['keys'](_0x319689[_0x135cd8]);for(let _0x55cf86=0xd*-0x194+-0x45e*-0x6+-0x5b0;_0x55cf86<_0x3c83d6['length'];_0x55cf86++)typeof _0x319689[_0x135cd8][_0x3c83d6[_0x55cf86]]!='string'&&this['setInvalid'](_0x3c83d6[_0x55cf86],_0x319689[_0x135cd8]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x5ab2df);}}}}}}}}}}return _0x319689['validated']=!(0x1*0x2591+0x23b8+-0x1*0x4949),this['valid'];}['_createEnu'+'mValidator'](_0x1b7721){return function(_0x469216){return _0x1b7721['indexOf'](_0x469216)>=-0x17d3+-0x21e*-0x1+-0x1*-0x15b5;};}}class gk{constructor(){this['_validator']=null;}['parse'](_0x370550){const _0x247812=this['migrate'](_0x370550),_0x4feef0=this['_validate'](_0x247812),_0x3f1c9e=new Ut();return this['initialize'](_0x3f1c9e,_0x4feef0),_0x3f1c9e;}['initialize'](_0x2652f0,_0x867c89){if(_0x867c89['validated']||(_0x867c89=this['_validate'](_0x867c89)),_0x867c89['chunks']&&_0x867c89['chunks']&&Object['keys'](_0x867c89['chunks'])['length']>0x72e*0x4+0x17c3+0x347b*-0x1){const _0x567a76=_0x2652f0['shaderChun'+'ks']['glsl'];Object['entries'](_0x867c89['chunks'])['forEach'](([_0x99d356,_0x42b9ab])=>_0x567a76['set'](_0x99d356,_0x42b9ab));}for(const _0x33afc8 in _0x867c89){const _0x16299e=$n[_0x33afc8],_0x538626=_0x867c89[_0x33afc8];if(_0x16299e==='vec2')_0x2652f0[_0x33afc8]=new J(_0x538626[0xb00*0x1+0x1256*0x1+-0x1d56],_0x538626[0xb69+0x21d*-0x4+-0x2f4]);else{if(_0x16299e==='rgb')_0x2652f0[_0x33afc8]=new ie(_0x538626[-0x24fb+0x1e40+0x6bb],_0x538626[0x2*0xdf5+-0x2*-0xd9b+-0x371f],_0x538626[0x2191+0x4*0x152+-0x26d7]);else{if(_0x16299e==='texture')_0x538626 instanceof _e?_0x2652f0[_0x33afc8]=_0x538626:_0x2652f0[_0x33afc8]instanceof _e&&typeof _0x538626=='number'&&_0x538626>0x511*-0x4+0x5c0+0x2*0x742||(_0x2652f0[_0x33afc8]=null);else{if(_0x16299e==='cubemap')_0x538626 instanceof _e?_0x2652f0[_0x33afc8]=_0x538626:_0x2652f0[_0x33afc8]instanceof _e&&typeof _0x538626=='number'&&_0x538626>-0x5a4*0x1+-0x2376+-0x1*-0x291a||(_0x2652f0[_0x33afc8]=null),_0x33afc8==='cubeMap'&&!_0x538626&&(_0x2652f0['prefiltere'+'dCubemaps']=null);else{if(_0x16299e==='boundingbo'+'x'){const _0x305d65=new D(_0x538626['center'][0xf47+0x4*-0x381+0x1*-0x143],_0x538626['center'][-0x8aa+-0x55d*-0x1+-0x2f*-0x12],_0x538626['center'][0x332*0x2+0x1064+-0x16c6]),_0x14e117=new D(_0x538626['halfExtent'+'s'][-0x1e6c+-0xc2f+-0x2a9b*-0x1],_0x538626['halfExtent'+'s'][0x12f+0x303+0x1d*-0x25],_0x538626['halfExtent'+'s'][-0x1*0xb29+0x54b+0x5e0]);_0x2652f0[_0x33afc8]=new De(_0x305d65,_0x14e117);}else _0x2652f0[_0x33afc8]=_0x867c89[_0x33afc8];}}}}}_0x2652f0['update']();}['migrate'](_0x54e4fe){_0x54e4fe['shader']&&delete _0x54e4fe['shader'],_0x54e4fe['mapping_fo'+'rmat']&&(_0x54e4fe['mappingFor'+'mat']=_0x54e4fe['mapping_fo'+'rmat'],delete _0x54e4fe['mapping_fo'+'rmat']);let _0x4b45e4;const _0x3c3a43=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x4b45e4=-0x7ed+-0x1*-0x259+0x4*0x165;_0x4b45e4<_0x3c3a43['length'];_0x4b45e4++){const _0x181897=_0x3c3a43[_0x4b45e4][-0x4a*-0x1a+-0x5dd*-0x1+-0x5*0x2ad],_0x5da2b9=_0x3c3a43[_0x4b45e4][-0x1*0xfaf+-0x816+0x166*0x11];_0x54e4fe[_0x181897]!==void(-0xaf+-0x5*-0x582+0x1adb*-0x1)&&(_0x54e4fe[_0x5da2b9]===void(0xa1a+0x1*-0x1a15+0xffb*0x1)&&(_0x54e4fe[_0x5da2b9]=_0x54e4fe[_0x181897]),delete _0x54e4fe[_0x181897]);}const _0x178719=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x4b45e4=0x1e53+0x1e*-0xf+-0x1c91;_0x4b45e4<_0x178719['length'];_0x4b45e4++){const _0x20f3be=_0x178719[_0x4b45e4];_0x54e4fe['hasOwnProp'+'erty'](_0x20f3be)&&delete _0x54e4fe[_0x20f3be];}return _0x54e4fe;}['_validate'](_0xbb43ac){return _0xbb43ac['validated']||(this['_validator']||(this['_validator']=new _k()),this['_validator']['validate'](_0xbb43ac)),_0xbb43ac;}}const Sk={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black','anisotropyMap':'black'};class yk extends Qe{constructor(_0xffd449){super(_0xffd449,'material'),this['_assets']=_0xffd449['assets'],this['_device']=_0xffd449['graphicsDe'+'vice'],this['_parser']=new gk();}['load'](_0x3aa92a,_0x378e29){typeof _0x3aa92a=='string'&&(_0x3aa92a={'load':_0x3aa92a,'original':_0x3aa92a}),ot['get'](_0x3aa92a['load'],{'retry':this['maxRetries']>-0xf1d+-0x10d5*-0x2+-0x128d,'maxRetries':this['maxRetries']},(_0x2ece19,_0x49f776)=>{_0x2ece19?_0x378e29&&_0x378e29('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x3aa92a['original']+'\x20['+_0x2ece19+']'):_0x378e29&&(_0x49f776['_engine']=!(-0x1ab9+0x1111*-0x1+-0x15e5*-0x2),_0x378e29(null,_0x49f776));});}['open'](_0x3381ec,_0x132143){const _0x10b0c3=this['_parser']['parse'](_0x132143);return _0x132143['_engine']&&(_0x10b0c3['_data']=_0x132143,delete _0x132143['_engine']),_0x10b0c3;}['patch'](_0x3fcd80,_0x3d6ad6){_0x3fcd80['resource']['_data']&&(_0x3fcd80['_data']=_0x3fcd80['resource']['_data'],delete _0x3fcd80['resource']['_data']),_0x3fcd80['data']['name']=_0x3fcd80['name'],_0x3fcd80['resource']['name']=_0x3fcd80['name'],this['_bindAndAs'+'signAssets'](_0x3fcd80,_0x3d6ad6),_0x3fcd80['off']('unload',this['_onAssetUn'+'load'],this),_0x3fcd80['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x47afe5){delete _0x47afe5['data']['parameters'],delete _0x47afe5['data']['chunks'],delete _0x47afe5['data']['name'];}['_assignTex'+'ture'](_0x2384ef,_0xce7727,_0x91f39d){_0xce7727['resource'][_0x2384ef]=_0x91f39d;}['_getPlaceh'+'olderTextu'+'re'](_0x536867){const _0x27bc59=Sk[_0x536867];return w['assert'](_0x27bc59,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x536867),fa(this['_device'],_0x27bc59);}['_assignPla'+'ceholderTe'+'xture'](_0x2d179a,_0x389534){_0x389534['resource'][_0x2d179a]=this['_getPlaceh'+'olderTextu'+'re'](_0x2d179a);}['_onTexture'+'Load'](_0x4ac471,_0x315199,_0x58df64){this['_assignTex'+'ture'](_0x4ac471,_0x315199,_0x58df64['resource']),_0x315199['resource']['update']();}['_onTexture'+'Add'](_0x4cd674,_0x5a91c4,_0x4a28a3){this['_assets']['load'](_0x4a28a3);}['_onTexture'+'RemoveOrUn'+'load'](_0x1a3fc0,_0x577145,_0x1c19e9){const _0x5d8423=_0x577145['resource'];_0x5d8423&&_0x577145['resource'][_0x1a3fc0]===_0x1c19e9['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x1a3fc0,_0x577145),_0x5d8423['update']());}['_assignCub'+'emap'](_0x4efc37,_0x407dad,_0x176f9b){if(_0x407dad['resource'][_0x4efc37]=_0x176f9b[-0x267d+0x3d7+0x22a6],_0x4efc37==='cubeMap'){const _0x5a6f1a=_0x176f9b['slice'](-0x15ff+0xe5b+0x7a5);_0x5a6f1a['every'](_0x3aa87d=>_0x3aa87d)?_0x407dad['resource']['prefiltere'+'dCubemaps']=_0x5a6f1a:_0x5a6f1a[-0x1007+0x109*0x13+0x2*-0x1d2]&&(_0x407dad['resource']['envAtlas']=_0x5a6f1a[0x2*-0x7dc+-0x1*0x2109+0x30c1]);}}['_onCubemap'+'Load'](_0x35dcce,_0x3f27c9,_0x490269){this['_assignCub'+'emap'](_0x35dcce,_0x3f27c9,_0x490269['resources']),this['_parser']['initialize'](_0x3f27c9['resource'],_0x3f27c9['data']);}['_onCubemap'+'Add'](_0x55eb2c,_0x58ee52,_0x344cbe){this['_assets']['load'](_0x344cbe);}['_onCubemap'+'RemoveOrUn'+'load'](_0x14605b,_0x391f85,_0x575d5f){const _0x584dce=_0x391f85['resource'];_0x391f85['data']['prefiltere'+'dCubeMap12'+'8']===_0x575d5f['resources'][-0x1*-0x848+0x1f09+-0x2750]&&(this['_assignCub'+'emap'](_0x14605b,_0x391f85,[null,null,null,null,null,null,null]),_0x584dce['update']());}['_bindAndAs'+'signAssets'](_0x14f8cf,_0x4e9f9c){const _0x14904c=this['_parser']['migrate'](_0x14f8cf['data']),_0x42a5ef=_0x14f8cf['resource'],_0x3055c2=_0x14904c['mappingFor'+'mat']==='path',_0x3d8486=Cd;let _0x5aea0b,_0x50e402,_0x1bc976;for(_0x5aea0b=0x1*-0x1b7a+0x1*-0x165+0x1cdf;_0x5aea0b<_0x3d8486['length'];_0x5aea0b++){_0x50e402=_0x3d8486[_0x5aea0b],_0x1bc976=_0x42a5ef['_assetRefe'+'rences'][_0x50e402];const _0x6f1e5d=_0x14904c[_0x50e402],_0x5eaaf8=_0x42a5ef[_0x50e402],_0xf23f31=_0x5eaaf8===this['_getPlaceh'+'olderTextu'+'re'](_0x50e402),_0x559d22=_0x14904c['validated'];_0x6f1e5d&&(!_0x5eaaf8||!_0x559d22||_0xf23f31)?(_0x1bc976||(_0x1bc976=new gl(_0x50e402,_0x14f8cf,_0x4e9f9c,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x42a5ef['_assetRefe'+'rences'][_0x50e402]=_0x1bc976),_0x3055c2?_0x1bc976['url']=_0x14f8cf['getAbsolut'+'eUrl'](_0x6f1e5d):_0x1bc976['id']=_0x6f1e5d,_0x1bc976['asset']&&(_0x1bc976['asset']['resource']?this['_assignTex'+'ture'](_0x50e402,_0x14f8cf,_0x1bc976['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x50e402,_0x14f8cf),_0x4e9f9c['load'](_0x1bc976['asset']))):_0x1bc976&&(_0x3055c2?_0x1bc976['url']=null:_0x1bc976['id']=null);}const _0x17fc5b=fm;for(_0x5aea0b=-0x26f+-0x4*0x12f+-0x5*-0x16f;_0x5aea0b<_0x17fc5b['length'];_0x5aea0b++)_0x50e402=_0x17fc5b[_0x5aea0b],_0x1bc976=_0x42a5ef['_assetRefe'+'rences'][_0x50e402],_0x14904c[_0x50e402]&&!_0x14f8cf['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x1bc976||(_0x1bc976=new gl(_0x50e402,_0x14f8cf,_0x4e9f9c,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x42a5ef['_assetRefe'+'rences'][_0x50e402]=_0x1bc976),_0x3055c2?_0x1bc976['url']=_0x14904c[_0x50e402]:_0x1bc976['id']=_0x14904c[_0x50e402],_0x1bc976['asset']&&(_0x1bc976['asset']['loaded']&&this['_assignCub'+'emap'](_0x50e402,_0x14f8cf,_0x1bc976['asset']['resources']),_0x4e9f9c['load'](_0x1bc976['asset'])));this['_parser']['initialize'](_0x42a5ef,_0x14904c);}}class vk{constructor(_0x610a84){this['_device']=_0x610a84['device'],this['_defaultMa'+'terial']=_0x610a84['defaultMat'+'erial'],this['_assets']=_0x610a84['assets'];}['parse'](_0x3df883,_0x2f4c4f,_0x5986a1){kh['parse']('filename.g'+'lb','',_0x3df883,this['_device'],this['_assets'],(_0x5986a1==null?void(0x5*0x5f+-0x12fe+0x1123):_0x5986a1['options'])??{},(_0x46a64d,_0x553bd7)=>{if(_0x46a64d)_0x2f4c4f(_0x46a64d);else{const _0x40998c=yr['createMode'+'l'](_0x553bd7,this['_defaultMa'+'terial']);_0x553bd7['destroy'](),_0x2f4c4f(null,_0x40998c);}});}}const xk={'points':cd,'lines':hd,'lineloop':_y,'linestrip':gy,'triangles':js,'trianglestrip':Er,'trianglefan':oa},Tk={'int8':dd,'uint8':la,'int16':fd,'uint16':Ml,'int32':Ty,'uint32':el,'float32':Ve};class wk{constructor(_0x27bf0d){this['_device']=_0x27bf0d['device'],this['_defaultMa'+'terial']=_0x27bf0d['defaultMat'+'erial'];}['parse'](_0x32bcc3,_0x5345d8){const _0x4d2722=_0x32bcc3['model'];if(!_0x4d2722){_0x5345d8(null,null);return;}if(_0x4d2722['version']<=0x141c*0x1+-0x3*-0x86b+0x16ae*-0x2){_0x5345d8('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x43796b=this['_parseNode'+'s'](_0x32bcc3),_0x501f1c=this['_parseSkin'+'s'](_0x32bcc3,_0x43796b),_0x50a68d=this['_parseVert'+'exBuffers'](_0x32bcc3),_0x8565f9=this['_parseInde'+'xBuffers'](_0x32bcc3,_0x50a68d),_0x42a040=this['_parseMorp'+'hs'](_0x32bcc3,_0x43796b,_0x50a68d),_0xbf5671=this['_parseMesh'+'es'](_0x32bcc3,_0x501f1c['skins'],_0x42a040['morphs'],_0x50a68d,_0x8565f9['buffer'],_0x8565f9['data']),_0x24c041=this['_parseMesh'+'Instances'](_0x32bcc3,_0x43796b,_0xbf5671,_0x501f1c['skins'],_0x501f1c['instances'],_0x42a040['morphs'],_0x42a040['instances']),_0x497868=new sr();_0x497868['graph']=_0x43796b[-0x8c4+0x92a*-0x4+0x2d6c],_0x497868['meshInstan'+'ces']=_0x24c041,_0x497868['skinInstan'+'ces']=_0x501f1c['instances'],_0x497868['morphInsta'+'nces']=_0x42a040['instances'],_0x497868['getGraph']()['syncHierar'+'chy'](),_0x5345d8(null,_0x497868);}['_parseNode'+'s'](_0x58a760){const _0x210c76=_0x58a760['model'],_0x2371dc=[];let _0x4a0e8a;for(_0x4a0e8a=-0x1bec+0xdde*-0x1+0x6*0x6f7;_0x4a0e8a<_0x210c76['nodes']['length'];_0x4a0e8a++){const _0x3465eb=_0x210c76['nodes'][_0x4a0e8a],_0x5258a6=new Ie(_0x3465eb['name']);_0x5258a6['setLocalPo'+'sition'](_0x3465eb['position'][0x2320+0x1*0x4d5+0x35*-0xc1],_0x3465eb['position'][-0x907*-0x4+-0x1*-0xab2+0x1*-0x2ecd],_0x3465eb['position'][0x1bfb+-0x1a08+-0x1f1]),_0x5258a6['setLocalEu'+'lerAngles'](_0x3465eb['rotation'][0x161*-0x1+-0x2340+0x1*0x24a1],_0x3465eb['rotation'][-0x22*-0xaa+-0x10b*-0x1+-0x179e],_0x3465eb['rotation'][0x141d*0x1+-0xf6b+-0x4b0]),_0x5258a6['setLocalSc'+'ale'](_0x3465eb['scale'][0x1e9*-0xd+-0x1*0x22a3+-0x15a*-0x2c],_0x3465eb['scale'][-0xbbd+-0x3*-0xd+0xb97],_0x3465eb['scale'][-0x22ac+-0x1*-0x2628+0x1*-0x37a]),_0x5258a6['scaleCompe'+'nsation']=!!_0x3465eb['scaleCompe'+'nsation'],_0x2371dc['push'](_0x5258a6);}for(_0x4a0e8a=0x25df+0x2541+-0x4b1f;_0x4a0e8a<_0x210c76['parents']['length'];_0x4a0e8a++)_0x2371dc[_0x210c76['parents'][_0x4a0e8a]]['addChild'](_0x2371dc[_0x4a0e8a]);return _0x2371dc;}['_parseSkin'+'s'](_0x55aa11,_0x54c6d9){const _0x229a06=_0x55aa11['model'],_0x19dc7b=[],_0x465652=[];let _0x36bceb,_0x22fe76;for(_0x36bceb=0xfa8+0x3*0x9c9+0x1*-0x2d03;_0x36bceb<_0x229a06['skins']['length'];_0x36bceb++){const _0x1f0a8d=_0x229a06['skins'][_0x36bceb],_0x358e7a=[];for(_0x22fe76=-0x26b3+0x1613*-0x1+0x3cc6;_0x22fe76<_0x1f0a8d['inverseBin'+'dMatrices']['length'];_0x22fe76++){const _0x24ff34=_0x1f0a8d['inverseBin'+'dMatrices'][_0x22fe76];_0x358e7a[_0x22fe76]=new te()['set'](_0x24ff34);}const _0x266f3e=new Lv(this['_device'],_0x358e7a,_0x1f0a8d['boneNames']);_0x19dc7b['push'](_0x266f3e);const _0x71ec75=new Ol(_0x266f3e),_0x8c4822=[];for(_0x22fe76=0x1933+-0x34*0x18+-0x1453;_0x22fe76<_0x266f3e['boneNames']['length'];_0x22fe76++){const _0x5f46b1=_0x266f3e['boneNames'][_0x22fe76],_0x14dab2=_0x54c6d9[-0x1c19+0x15e2+-0x1*-0x637]['findByName'](_0x5f46b1);_0x8c4822['push'](_0x14dab2);}_0x71ec75['bones']=_0x8c4822,_0x465652['push'](_0x71ec75);}return{'skins':_0x19dc7b,'instances':_0x465652};}['_getMorphV'+'ertexCount'](_0x12a2e7,_0x51022f,_0x31a958){for(let _0x5ce115=-0x14f5*0x1+0x919*-0x1+-0x1e0e*-0x1;_0x5ce115<_0x12a2e7['meshes']['length'];_0x5ce115++){const _0x31ab75=_0x12a2e7['meshes'][_0x5ce115];if(_0x31ab75['morph']===_0x51022f)return _0x31a958[_0x31ab75['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x63a9dd,_0x4d4e20,_0x4e2e38){const _0x435ba8=_0x63a9dd['model'],_0x122acd=[],_0x2832fd=[];let _0x24bd0b,_0x1a2647,_0xc1dcc7,_0x1a1b8f,_0x214fa8,_0x767c5e;if(_0x435ba8['morphs']){const _0x47a3c1=function(_0x4d73ee,_0x8c58eb,_0x300b19){const _0x883679=new Float32Array(_0x300b19*(-0x5*-0x2db+-0x1f20+0x10dc));for(let _0x35cefb=0x1*-0x617+-0x2452*0x1+0x2a69;_0x35cefb<_0x8c58eb['length'];_0x35cefb++){const _0x99aea2=_0x8c58eb[_0x35cefb]*(-0x182*0x11+-0x1*0x22f7+0x3c9c);_0x883679[_0x99aea2]=_0x4d73ee[_0x35cefb*(0x5*-0x1cf+0x27c+-0x2*-0x349)],_0x883679[_0x99aea2+(0x13ea+0x441+0x6*-0x407)]=_0x4d73ee[_0x35cefb*(0x13f5+-0x7c*-0x3a+-0x300a)+(0x2702+0x3d9+-0x2ada)],_0x883679[_0x99aea2+(-0x1469+-0x41b*-0x9+-0x1088)]=_0x4d73ee[_0x35cefb*(0x3*-0x9df+-0x2602+0x43a2)+(-0x1037+-0x11b+0x1154)];}return _0x883679;};for(_0x24bd0b=0x71d+0x849*-0x1+0x64*0x3;_0x24bd0b<_0x435ba8['morphs']['length'];_0x24bd0b++){for(_0x1a1b8f=_0x435ba8['morphs'][_0x24bd0b]['targets'],_0x767c5e=[],_0xc1dcc7=this['_getMorphV'+'ertexCount'](_0x435ba8,_0x24bd0b,_0x4e2e38),_0x1a2647=-0x4bc*0x4+-0x1306+0x25f6;_0x1a2647<_0x1a1b8f['length'];_0x1a2647++){const _0x3afe54=_0x1a1b8f[_0x1a2647]['aabb'],_0x534382=_0x3afe54['min'],_0x54f388=_0x3afe54['max'],_0xf670dc=new De(new D((_0x54f388[-0xd0b+-0x299+0x5b*0x2c]+_0x534382[0x200b+0x12*0xfd+0x31d5*-0x1])*(0xe*-0x270+0x41d+0xd*0x24f+0.5),(_0x54f388[-0x89e*0x1+0xa9a+0xa9*-0x3]+_0x534382[-0x1*0x1bed+0x58c+0x1662])*(-0x1f38+0x4e4*-0x5+-0x1c*-0x1fd+0.5),(_0x54f388[0x22b2+0x247a+-0x472a]+_0x534382[-0xde1+0x1e5*-0xb+0x22ba])*(0xc71+0x1ed0+-0x2b41*0x1+0.5)),new D((_0x54f388[0x793*-0x3+0x2*0x8cd+0x51f*0x1]-_0x534382[0x59*-0x13+-0xbee+0x3b5*0x5])*(-0x8c8*-0x1+-0x1b36+-0x151*-0xe+0.5),(_0x54f388[-0x1e7b+-0x3*-0x7bd+0x745]-_0x534382[0x1*-0x14de+0x1001+0x4de])*(-0x113f+0xc*-0x16a+0x2237+0.5),(_0x54f388[-0x1*0x26e1+-0x15b+0x283e]-_0x534382[0xc*-0x2f2+-0x2d9+-0x7f*-0x4d])*(-0xd*0x2de+0xd46+0x1800+0.5))),_0x4f7f41=_0x1a1b8f[_0x1a2647]['indices'];let _0x4acdb9=_0x1a1b8f[_0x1a2647]['deltaPosit'+'ions'],_0x22b267=_0x1a1b8f[_0x1a2647]['deltaNorma'+'ls'];_0x4f7f41&&(_0x4acdb9=_0x47a3c1(_0x4acdb9,_0x4f7f41,_0xc1dcc7),_0x22b267=_0x47a3c1(_0x22b267,_0x4f7f41,_0xc1dcc7)),_0x214fa8=new Md({'deltaPositions':_0x4acdb9,'deltaNormals':_0x22b267,'name':_0x1a1b8f[_0x1a2647]['name'],'aabb':_0xf670dc}),_0x767c5e['push'](_0x214fa8);}const _0x80f8e6=new mm(_0x767c5e,this['_device']);_0x122acd['push'](_0x80f8e6);const _0x2deaf6=new xa(_0x80f8e6);_0x2832fd['push'](_0x2deaf6);}}return{'morphs':_0x122acd,'instances':_0x2832fd};}['_parseVert'+'exBuffers'](_0x42cf86){const _0x14c749=_0x42cf86['model'],_0x520224=[],_0x3160f9={'position':Me,'normal':gs,'tangent':yi,'blendWeight':gi,'blendIndices':us,'color':Wt,'texCoord0':is,'texCoord1':ba,'texCoord2':wl,'texCoord3':El,'texCoord4':bl,'texCoord5':Al,'texCoord6':Cl,'texCoord7':Pl};for(let _0x2b3cef=-0x1ed9+-0x65a+-0x59*-0x6b;_0x2b3cef<_0x14c749['vertices']['length'];_0x2b3cef++){const _0x47086c=_0x14c749['vertices'][_0x2b3cef],_0x54c741=[];for(const _0x58b1c9 in _0x47086c){const _0x4e2f6e=_0x47086c[_0x58b1c9];_0x54c741['push']({'semantic':_0x3160f9[_0x58b1c9],'components':_0x4e2f6e['components'],'type':Tk[_0x4e2f6e['type']],'normalize':_0x3160f9[_0x58b1c9]===Wt});}const _0x163d5b=new kt(this['_device'],_0x54c741),_0x25f419=_0x47086c['position']['data']['length']/_0x47086c['position']['components'],_0x4b4089=new Is(this['_device'],_0x163d5b,_0x25f419),_0x47343a=new Uo(_0x4b4089);for(let _0x3174ae=-0x1*0x22b7+0x1*0x5db+0x1cdc;_0x3174ae<_0x25f419;_0x3174ae++){for(const _0x6c89b5 in _0x47086c){const _0xa7a068=_0x47086c[_0x6c89b5];switch(_0xa7a068['components']){case-0xb*-0xb1+-0xc7f*0x1+0x4e5:_0x47343a['element'][_0x3160f9[_0x6c89b5]]['set'](_0xa7a068['data'][_0x3174ae]);break;case 0x556+0x131d+0x1871*-0x1:_0x47343a['element'][_0x3160f9[_0x6c89b5]]['set'](_0xa7a068['data'][_0x3174ae*(-0xd1a+-0x1894+0x25b0)],0x1470+-0x4*-0x2dd+0x1fe3*-0x1-_0xa7a068['data'][_0x3174ae*(-0x2162+0x1*0x1ead+-0x2b7*-0x1)+(-0x3*-0x15b+-0x3*-0x511+-0x1343)]);break;case-0x257b+-0x186+0x2704:_0x47343a['element'][_0x3160f9[_0x6c89b5]]['set'](_0xa7a068['data'][_0x3174ae*(-0x9*0x181+-0xef1+0xb*0x297)],_0xa7a068['data'][_0x3174ae*(-0x1*-0xbee+0x38c*-0x9+0x3*0x6ab)+(-0x6a0*-0x3+0x3*-0x956+0x823)],_0xa7a068['data'][_0x3174ae*(-0x1*0x1d6+0x104b+-0xe72)+(-0x1ae*0x5+-0x1363+0x1bcb)]);break;case-0x1c4c+0x2f8+0x1958:_0x47343a['element'][_0x3160f9[_0x6c89b5]]['set'](_0xa7a068['data'][_0x3174ae*(-0x21c0+-0x5a*-0x40+0x19c*0x7)],_0xa7a068['data'][_0x3174ae*(0x7bc*0x2+-0x2*0x8bf+0x20a)+(0x13e+-0x79a*-0x1+-0x8d7)],_0xa7a068['data'][_0x3174ae*(-0x6*-0x397+0x18a7+-0x2e2d)+(-0x6aa*-0x5+-0x1*0x1369+0xde7*-0x1)],_0xa7a068['data'][_0x3174ae*(0xf88+0x9d9*0x1+0x2b*-0x97)+(-0x1fc5+0x221*-0x5+-0x1*-0x2a6d)]);break;}}_0x47343a['next']();}_0x47343a['end'](),_0x520224['push'](_0x4b4089);}return _0x520224;}['_parseInde'+'xBuffers'](_0x10228b,_0x1b3bf5){const _0x457f83=_0x10228b['model'];let _0xc999dd=null,_0x443724=null,_0x532f25,_0x318e17=-0x518+-0x1*-0x293+0x1*0x285;for(_0x532f25=-0x14a7*0x1+0x1*0x1196+0x311;_0x532f25<_0x457f83['meshes']['length'];_0x532f25++){const _0x4b1906=_0x457f83['meshes'][_0x532f25];_0x4b1906['indices']!==void(0x1*0xaa9+0xa21+-0x377*0x6)&&(_0x318e17+=_0x4b1906['indices']['length']);}let _0x4f50d8=0x144c+0x22c8+-0x3714;for(_0x532f25=-0x2000+0x1a56+0x91*0xa;_0x532f25<_0x1b3bf5['length'];_0x532f25++)_0x4f50d8=Math['max'](_0x4f50d8,_0x1b3bf5[_0x532f25]['numVertice'+'s']);return _0x318e17>-0x26c+0x3*-0x1bb+-0x1*-0x79d&&(_0x4f50d8>-0x34*-0x79c+-0x8*-0x282f+-0x1*0x1cd29?(_0xc999dd=new br(this['_device'],wr,_0x318e17),_0x443724=new Uint32Array(_0xc999dd['lock']())):(_0xc999dd=new br(this['_device'],Yi,_0x318e17),_0x443724=new Uint16Array(_0xc999dd['lock']()))),{'buffer':_0xc999dd,'data':_0x443724};}['_parseMesh'+'es'](_0x280d3f,_0x26fd81,_0x3f76bf,_0x4c70fa,_0x1ab8cf,_0x17d49b){const _0x21b8f2=_0x280d3f['model'],_0x26931b=[];let _0x4ca050=-0x1475+0xf92*-0x1+0x2407;for(let _0x4311fb=0x1*-0x2bd+0x1352+-0x1095;_0x4311fb<_0x21b8f2['meshes']['length'];_0x4311fb++){const _0x420ad8=_0x21b8f2['meshes'][_0x4311fb],_0x4391fe=_0x420ad8['aabb'],_0x8db6b2=_0x4391fe['min'],_0x35e155=_0x4391fe['max'],_0x6b69c9=new De(new D((_0x35e155[0x131c+-0x23f6+0x10da]+_0x8db6b2[-0x2526+0xbee+0x1938])*(-0x1920+-0x269+0x1b89+0.5),(_0x35e155[-0x5d+-0x1*-0x147d+-0x141f*0x1]+_0x8db6b2[0x1dc0+0x1e99+-0x2*0x1e2c])*(-0x23f5+0x2349+0xac*0x1+0.5),(_0x35e155[0xf*-0x41+0x2*0x1124+0xb*-0x2c5]+_0x8db6b2[-0x7*-0x57c+-0x2*0x1381+0xa*0x10])*(0x1374+0x1417+-0x35*0xbf+0.5)),new D((_0x35e155[0xc7f*0x2+0x1*0x1f96+-0x1*0x3894]-_0x8db6b2[-0x12ac+0x21*0x6b+0x4e1])*(0xa*0x125+-0x810+-0x362*0x1+0.5),(_0x35e155[0x7cd*-0x5+-0x16aa+0x3dac]-_0x8db6b2[0x25de+0x3b*-0x4d+-0xce*0x19])*(-0xd61+0x2*0x4ff+0x363+0.5),(_0x35e155[-0x22a3+-0x223*-0xd+0x1*0x6de]-_0x8db6b2[0x2*0x12c1+-0x611+0x26b*-0xd])*(0xcad+-0x2*-0xae5+0x33*-0xad+0.5))),_0x7a2c75=_0x420ad8['indices']!==void(0x7d3*-0x1+0xfb2+-0x7df),_0x5d6069=new Ge(this['_device']);_0x5d6069['vertexBuff'+'er']=_0x4c70fa[_0x420ad8['vertices']],_0x5d6069['indexBuffe'+'r'][0x21a8+-0x4c6+-0x1ce2]=_0x7a2c75?_0x1ab8cf:null,_0x5d6069['primitive'][-0x35*-0x81+0x6d*0x58+0x1*-0x402d]['type']=xk[_0x420ad8['type']],_0x5d6069['primitive'][-0x1dd9+-0x1ae9+0x38c2]['base']=_0x7a2c75?_0x420ad8['base']+_0x4ca050:_0x420ad8['base'],_0x5d6069['primitive'][0x4*-0x8a5+-0x1*0x1da7+0x403b]['count']=_0x420ad8['count'],_0x5d6069['primitive'][-0x4*-0x6b3+-0x1*-0x10d+-0x1bd9]['indexed']=_0x7a2c75,_0x5d6069['skin']=_0x420ad8['skin']!==void(-0x8*0x2f6+-0x216+-0x2*-0xce3)?_0x26fd81[_0x420ad8['skin']]:null,_0x5d6069['morph']=_0x420ad8['morph']!==void(0x1c19*-0x1+0x10f1+0xb28)?_0x3f76bf[_0x420ad8['morph']]:null,_0x5d6069['aabb']=_0x6b69c9,_0x7a2c75&&(_0x17d49b['set'](_0x420ad8['indices'],_0x4ca050),_0x4ca050+=_0x420ad8['indices']['length']),_0x26931b['push'](_0x5d6069);}return _0x1ab8cf!==null&&_0x1ab8cf['unlock'](),_0x26931b;}['_parseMesh'+'Instances'](_0x4e9b82,_0x4b6f78,_0x4d4648,_0x2dcbbe,_0x35dc88,_0x4cf6ef,_0x5f4c5d){const _0x35a6cc=_0x4e9b82['model'],_0xbcb011=[];let _0x28d8d7;for(_0x28d8d7=0x23b+-0x94a*-0x1+-0x3d7*0x3;_0x28d8d7<_0x35a6cc['meshInstan'+'ces']['length'];_0x28d8d7++){const _0x45d0ac=_0x35a6cc['meshInstan'+'ces'][_0x28d8d7],_0x142c82=_0x4b6f78[_0x45d0ac['node']],_0xa04912=_0x4d4648[_0x45d0ac['mesh']],_0x1265e5=new He(_0xa04912,this['_defaultMa'+'terial'],_0x142c82);if(_0xa04912['skin']){const _0x317431=_0x2dcbbe['indexOf'](_0xa04912['skin']);if(_0x317431===-(0x1d9d+-0x1*-0x1636+-0x33d2))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x1265e5['skinInstan'+'ce']=_0x35dc88[_0x317431];}if(_0xa04912['morph']){const _0x5130bd=_0x4cf6ef['indexOf'](_0xa04912['morph']);if(_0x5130bd===-(-0x1407+-0x1a98+0x2ea0))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x1265e5['morphInsta'+'nce']=_0x5f4c5d[_0x5130bd];}_0xbcb011['push'](_0x1265e5);}return _0xbcb011;}}class Ek extends Qe{constructor(_0x3f414b){super(_0x3f414b,'model'),this['_parsers']=[],this['device']=_0x3f414b['graphicsDe'+'vice'],this['assets']=_0x3f414b['assets'],this['defaultMat'+'erial']=Qn(this['device']),this['addParser'](new wk(this),(_0x11731b,_0x319983)=>xe['getExtensi'+'on'](_0x11731b)==='.json'),this['addParser'](new vk(this),(_0x31e402,_0x18264a)=>xe['getExtensi'+'on'](_0x31e402)==='.glb');}['load'](_0x290e76,_0x554ac3,_0x7665e4){typeof _0x290e76=='string'&&(_0x290e76={'load':_0x290e76,'original':_0x290e76});const _0x2a6a12={'retry':this['maxRetries']>0x1f5c+0x4e1*-0x6+-0x216,'maxRetries':this['maxRetries']};(_0x290e76['load']['startsWith']('blob:')||_0x290e76['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x290e76['original'])['toLowerCas'+'e']()==='.glb'?_0x2a6a12['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x2a6a12['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x290e76['load'],_0x2a6a12,(_0x210d5b,_0xeda89e)=>{if(_0x554ac3){if(_0x210d5b)_0x554ac3('Error\x20load'+'ing\x20model:'+'\x20'+_0x290e76['original']+'\x20['+_0x210d5b+']');else{for(let _0xe8e485=0x3*-0xabd+0x245*-0xb+0x392e;_0xe8e485<this['_parsers']['length'];_0xe8e485++){const _0xabe551=this['_parsers'][_0xe8e485];if(_0xabe551['decider'](_0x290e76['original'],_0xeda89e)){_0xabe551['parser']['parse'](_0xeda89e,(_0x2a112b,_0x1bd1fc)=>{_0x2a112b?_0x554ac3(_0x2a112b):_0x554ac3(null,_0x1bd1fc);},_0x7665e4);return;}}_0x554ac3('No\x20parsers'+'\x20found');}}});}['open'](_0x146bbb,_0x493d50){return _0x493d50;}['patch'](_0x39c09f,_0x1918fd){if(!_0x39c09f['resource'])return;const _0x16b558=_0x39c09f['data'],_0x509d5e=this;_0x39c09f['resource']['meshInstan'+'ces']['forEach']((_0x3089fa,_0x5a2216)=>{if(_0x16b558['mapping']){const _0x478fee=function(_0x9ea926){_0x9ea926['resource']?_0x3089fa['material']=_0x9ea926['resource']:(_0x9ea926['once']('load',_0x478fee),_0x1918fd['load'](_0x9ea926)),_0x9ea926['once']('remove',_0x270df5=>{_0x3089fa['material']===_0x270df5['resource']&&(_0x3089fa['material']=_0x509d5e['defaultMat'+'erial']);});};if(!_0x16b558['mapping'][_0x5a2216]){_0x3089fa['material']=_0x509d5e['defaultMat'+'erial'];return;}const _0x1abc1c=_0x16b558['mapping'][_0x5a2216]['material'],_0x5b7b0c=_0x16b558['mapping'][_0x5a2216]['path'];let _0x3144e5;if(_0x1abc1c!==void(-0x69*-0x1+0x132f+-0x1398))_0x1abc1c?(_0x3144e5=_0x1918fd['get'](_0x1abc1c),_0x3144e5?_0x478fee(_0x3144e5):_0x1918fd['once']('add:'+_0x1abc1c,_0x478fee)):_0x3089fa['material']=_0x509d5e['defaultMat'+'erial'];else{if(_0x5b7b0c){const _0x3af720=_0x39c09f['getAbsolut'+'eUrl'](_0x16b558['mapping'][_0x5a2216]['path']);_0x3144e5=_0x1918fd['getByUrl'](_0x3af720),_0x3144e5?_0x478fee(_0x3144e5):_0x1918fd['once']('add:url:'+_0x3af720,_0x478fee);}}}});}['addParser'](_0x2863aa,_0x5302be){this['_parsers']['push']({'parser':_0x2863aa,'decider':_0x5302be});}}class bk extends Qe{constructor(_0x303566){super(_0x303566,'scene');}['load'](_0x2ac37e,_0x10f9bd){E0['load'](_0x2ac37e,this['maxRetries'],_0x10f9bd);}['open'](_0x49df0e,_0x3d54e7){this['_app']['systems']['script']['preloading']=!(-0xc25+0x1*0x2177+-0x1552);const _0x27c7e5=new bm(this['_app'],!(-0x2571+-0xbed+0x315f))['parse'](_0x3d54e7),_0x196aae=this['_app']['scene'];return _0x196aae['root']=_0x27c7e5,this['_app']['applyScene'+'Settings'](_0x3d54e7['settings']),this['_app']['systems']['script']['preloading']=!(-0xda6*0x1+0x6*-0x33c+0x28b*0xd),_0x196aae;}}const qh=class qh{static['push'](_0x48108a){qh['_types']['push'](_0x48108a);}};h(qh,'_types',[]);let aa=qh;const Ak=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),Ck={};Sl['reservedNa'+'mes']['forEach']((_0x1c847b,_0x40946a,_0x1126f8)=>{Ck[_0x1c847b]=-0xe3c+0x10fe+-0x2c1;});function Pk(_0x820434,_0x260090,_0x119ac3){if(typeof _0x820434!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x820434+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x820434['prototype']instanceof ts))throw new Error('script\x20cla'+'ss:\x20\x27'+Wo['__getScrip'+'tName'](_0x820434)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x260090=_0x260090||_0x820434['__name']||Wo['__getScrip'+'tName'](_0x820434),Ak['has'](_0x260090))throw new Error('script\x20nam'+'e:\x20\x27'+_0x260090+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x820434['__name']=_0x260090,Ks['getApplica'+'tion']()['scripts']['add'](_0x820434),aa['push'](_0x820434);}const Mk=_0x2cb629=>_0x2cb629[-0x15*0x8f+0x239c+-0x17e1*0x1]['toLowerCas'+'e']()+_0x2cb629['substring'](-0x2525+0x20f*0x11+-0x227*-0x1);class Dk extends Qe{constructor(_0x20f057){super(_0x20f057,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x393edd in this['_cache']){const _0x3945a8=this['_cache'][_0x393edd],_0x43f990=_0x3945a8['parentNode'];_0x43f990&&_0x43f990['removeChil'+'d'](_0x3945a8);}this['_cache']={};}['load'](_0x293323,_0x2259b7){typeof _0x293323=='string'&&(_0x293323={'load':_0x293323,'original':_0x293323});const _0x2cdcf8=this;this['_app'];const _0x806d0b=(_0x293323['load'],(_0x4b0f7b,_0x120fd6,_0x4d3bce)=>{if(_0x4b0f7b)_0x2259b7(_0x4b0f7b);else{const _0x912904={};for(let _0x1fdf52=-0x24fb+-0x2257+-0xbe3*-0x6;_0x1fdf52<aa['_types']['length'];_0x1fdf52++)_0x912904[aa['_types'][_0x1fdf52]['name']]=aa['_types'][_0x1fdf52];aa['_types']['length']=-0x1b3c+0x53d*0x5+0x10b,_0x2259b7(null,_0x912904,_0x4d3bce);const _0x412579=_0x120fd6['split']('&hash=')[-0x2f*-0x59+-0x3b8*-0x4+-0x1f37];delete _0x2cdcf8['_loader']['_cache'][Cn['makeKey'](_0x412579,'script')];}}),[_0x4888c8]=_0x293323['load']['split']('?');_0x4888c8['endsWith']('.mjs')?this['_loadModul'+'e'](_0x4888c8,_0x806d0b):this['_loadScrip'+'t'](_0x293323['load'],_0x806d0b);}['open'](_0x31396c,_0x626ed1){return _0x626ed1;}['patch'](_0xbba293,_0x4f1416){}['_loadScrip'+'t'](_0x1816e2,_0x2e4278){const _0x521eb4=document['head'],_0x4257c6=document['createElem'+'ent']('script');this['_cache'][_0x1816e2]=_0x4257c6,_0x4257c6['async']=!(-0x18c5+-0x198d+0x3253),_0x4257c6['addEventLi'+'stener']('error',_0x8d7848=>{_0x2e4278('Script:\x20'+_0x8d7848['target']['src']+('\x20failed\x20to'+'\x20load'));},!(-0x67*0x4+0x15a0+0x1*-0x1403));let _0x402fa9=!(-0x24ea+0x3c9*-0xa+0x1*0x4ac5);_0x4257c6['onload']=_0x4257c6['onreadysta'+'techange']=function(){!_0x402fa9&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x402fa9=!(-0x14d6+0x287*0xd+0xb5*-0x11),_0x2e4278(null,_0x1816e2,_0x4257c6));},_0x4257c6['src']=_0x1816e2,_0x521eb4['appendChil'+'d'](_0x4257c6);}['_loadModul'+'e'](_0x3483b3,_0x4ba1ac){const _0x46c841=Ae['browser']&&window['location']['origin']!=='null'?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x1abb51=new URL(_0x3483b3,_0x46c841);import(_0x1abb51['toString']())['then'](_0x4fd79a=>{var _0x59cfd6,_0x4ad9e3;const _0x2f9bd3=_0x1abb51['pathname']['split']('/')['pop'](),_0x1a824b=(_0x4ad9e3=(_0x59cfd6=this['_app']['assets']['find'](_0x2f9bd3,'script'))==null?void(-0x4*0x461+0x197*0xd+-0x327):_0x59cfd6['data'])==null?void(0x3*0x709+-0x1eee+0x1f7*0x5):_0x4ad9e3['scripts'];for(const _0x54549a in _0x4fd79a){const _0x2a2d97=_0x4fd79a[_0x54549a];if(_0x2a2d97['prototype']instanceof ts){const _0x150e72=Mk(_0x2a2d97['name']);_0x2a2d97['scriptName']||w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x2a2d97['name']+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x2a2d97['name']+('.scriptNam'+'e\x20=\x20\x22')+_0x150e72+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.'));const _0x3d3aa1=_0x2a2d97['scriptName']??_0x150e72;Pk(_0x2a2d97,_0x3d3aa1),_0x1a824b&&this['_app']['scripts']['addSchema'](_0x3d3aa1,_0x1a824b[_0x3d3aa1]);}}_0x4ba1ac(null,_0x3483b3,null);})['catch'](_0x1859ba=>{_0x4ba1ac(_0x1859ba);});}}class Ik extends Qe{constructor(_0x49fc50){super(_0x49fc50,'shader'),h(this,'decoder',null);}['load'](_0x315f75,_0x2b3136){typeof _0x315f75=='string'&&(_0x315f75={'load':_0x315f75,'original':_0x315f75}),ot['get'](_0x315f75['load'],{'retry':this['maxRetries']>0x179a+0x1*0x577+-0x1d11,'maxRetries':this['maxRetries']},(_0x239dc0,_0x3f9f1b)=>{_0x239dc0?_0x2b3136('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x315f75['original']+'\x20['+_0x239dc0+']'):_0x2b3136(null,_0x3f9f1b);});}['openBinary'](_0x226784){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x226784);}}function Pf(_0x5d4f99){const _0x1c28c9=this;_0x1c28c9['resource']&&(_0x1c28c9['resource']['atlas']=_0x5d4f99['resource']);}function Mf(_0x3e4657){this['registry']['load'](_0x3e4657);}class Lk extends Qe{constructor(_0x3d77e2){super(_0x3d77e2,'sprite'),this['_assets']=_0x3d77e2['assets'],this['_device']=_0x3d77e2['graphicsDe'+'vice'];}['load'](_0x58b3a3,_0xed294c){typeof _0x58b3a3=='string'&&(_0x58b3a3={'load':_0x58b3a3,'original':_0x58b3a3}),xe['getExtensi'+'on'](_0x58b3a3['original'])==='.json'&&ot['get'](_0x58b3a3['load'],{'retry':this['maxRetries']>0x1*-0x547+-0x1b46+0x208d,'maxRetries':this['maxRetries']},(_0x16d0fb,_0x54cc46)=>{_0x16d0fb?_0xed294c(_0x16d0fb):_0xed294c(null,_0x54cc46);});}['open'](_0x4fc4e3,_0x38e8f8){const _0x9eb0f3=new BA(this['_device']);return _0x4fc4e3&&(_0x9eb0f3['__data']=_0x38e8f8),_0x9eb0f3;}['patch'](_0x4b11d7,_0x4d8667){const _0x1efeea=_0x4b11d7['resource'];if(_0x1efeea['__data']&&(_0x4b11d7['data']['pixelsPerU'+'nit']=_0x1efeea['__data']['pixelsPerU'+'nit'],_0x4b11d7['data']['renderMode']=_0x1efeea['__data']['renderMode'],_0x4b11d7['data']['frameKeys']=_0x1efeea['__data']['frameKeys'],_0x1efeea['__data']['textureAtl'+'asAsset'])){const _0x24c9d1=_0x4d8667['getByUrl'](_0x1efeea['__data']['textureAtl'+'asAsset']);_0x24c9d1?_0x4b11d7['data']['textureAtl'+'asAsset']=_0x24c9d1['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x1efeea['__data']['textureAtl'+'asAsset']);}_0x1efeea['startUpdat'+'e'](),_0x1efeea['renderMode']=_0x4b11d7['data']['renderMode'],_0x1efeea['pixelsPerU'+'nit']=_0x4b11d7['data']['pixelsPerU'+'nit'],_0x1efeea['frameKeys']=_0x4b11d7['data']['frameKeys'],this['_updateAtl'+'as'](_0x4b11d7),_0x1efeea['endUpdate'](),_0x4b11d7['off']('change',this['_onAssetCh'+'ange'],this),_0x4b11d7['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x4ec5e6){const _0x1756d7=_0x4ec5e6['resource'];if(!_0x4ec5e6['data']['textureAtl'+'asAsset']){_0x1756d7['atlas']=null;return;}this['_assets']['off']('load:'+_0x4ec5e6['data']['textureAtl'+'asAsset'],Pf,_0x4ec5e6),this['_assets']['on']('load:'+_0x4ec5e6['data']['textureAtl'+'asAsset'],Pf,_0x4ec5e6);const _0x3a31e1=this['_assets']['get'](_0x4ec5e6['data']['textureAtl'+'asAsset']);_0x3a31e1&&_0x3a31e1['resource']?_0x1756d7['atlas']=_0x3a31e1['resource']:_0x3a31e1?this['_assets']['load'](_0x3a31e1):(this['_assets']['off']('add:'+_0x4ec5e6['data']['textureAtl'+'asAsset'],Mf,_0x4ec5e6),this['_assets']['on']('add:'+_0x4ec5e6['data']['textureAtl'+'asAsset'],Mf,_0x4ec5e6));}['_onAssetCh'+'ange'](_0xac683d,_0x2a2c8e,_0x4ed005,_0x8dfc4d){_0x2a2c8e==='data'&&_0x4ed005&&_0x4ed005['textureAtl'+'asAsset']&&_0x8dfc4d&&_0x4ed005['textureAtl'+'asAsset']!==_0x8dfc4d['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x8dfc4d['textureAtl'+'asAsset'],Pf,_0xac683d),this['_assets']['off']('add:'+_0x8dfc4d['textureAtl'+'asAsset'],Mf,_0xac683d));}}class vS{constructor(_0x27193d,_0x221fe6){h(this,'_app'),h(this,'_data'),h(this,'_templateR'+'oot',null),(this['_app']=_0x27193d,this['_data']=_0x221fe6);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x2bce82=new bm(this['_app'],!(-0x1fda+0x13*-0x8e+0x2a64));this['_templateR'+'oot']=_0x2bce82['parse'](this['_data']);}}class Rk extends Qe{constructor(_0x80abc3){super(_0x80abc3,'template'),h(this,'decoder',null);}['load'](_0x2fbc06,_0x22d6a6){typeof _0x2fbc06=='string'&&(_0x2fbc06={'load':_0x2fbc06,'original':_0x2fbc06});const _0x39bb68={'retry':this['maxRetries']>0x16ab+-0x1*-0x5aa+-0x1c55,'maxRetries':this['maxRetries']};ot['get'](_0x2fbc06['load'],_0x39bb68,(_0x2f4cf1,_0x466b17)=>{_0x2f4cf1?_0x22d6a6('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x2fbc06['original']):_0x22d6a6(_0x2f4cf1,_0x466b17);});}['open'](_0x18b0fa,_0xd8f473){return new vS(this['_app'],_0xd8f473);}['openBinary'](_0x1055ca){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new vS(this['_app'],JSON['parse'](this['decoder']['decode'](_0x1055ca)));}}class Ok extends Qe{constructor(_0x52507d){super(_0x52507d,'text'),h(this,'decoder',null);}['load'](_0x595979,_0x2a013d){typeof _0x595979=='string'&&(_0x595979={'load':_0x595979,'original':_0x595979}),ot['get'](_0x595979['load'],{'retry':this['maxRetries']>0x1*-0x1f87+-0xe*-0x1e+0x1de3,'maxRetries':this['maxRetries']},(_0x17eb1e,_0x31ef9e)=>{_0x17eb1e?_0x2a013d('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x595979['original']+'\x20['+_0x17eb1e+']'):_0x2a013d(null,_0x31ef9e);});}['openBinary'](_0x1dedba){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x1dedba);}}const Ic={'repeat':yt,'clamp':ue,'mirror':ip},Lc={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},Fk=/^data\.frames\.(\d+)$/;class Nk extends Qe{constructor(_0x4aefff){super(_0x4aefff,'textureatl'+'as'),this['_loader']=_0x4aefff['loader'];}['load'](_0x2c8eb0,_0x1c05e5){typeof _0x2c8eb0=='string'&&(_0x2c8eb0={'load':_0x2c8eb0,'original':_0x2c8eb0});const _0x4ea582=this,_0x1e3e13=this['_loader']['getHandler']('texture');xe['getExtensi'+'on'](_0x2c8eb0['original'])==='.json'?ot['get'](_0x2c8eb0['load'],{'retry':this['maxRetries']>-0x813+0x1*-0x132e+0x1b41*0x1,'maxRetries':this['maxRetries']},(_0x219beb,_0x13f39e)=>{if(_0x219beb)_0x1c05e5(_0x219beb);else{const _0x7ee6a2=_0x2c8eb0['original']['replace']('.json','.png');_0x4ea582['_loader']['load'](_0x7ee6a2,'texture',(_0x43d839,_0xa63c87)=>{_0x43d839?_0x1c05e5(_0x43d839):_0x1c05e5(null,{'data':_0x13f39e,'texture':_0xa63c87});});}}):_0x1e3e13['load'](_0x2c8eb0,_0x1c05e5);}['open'](_0x5b2241,_0x818d70,_0x593743){const _0x296788=new zA();if(_0x818d70['texture']&&_0x818d70['data'])_0x296788['texture']=_0x818d70['texture'],_0x296788['__data']=_0x818d70['data'];else{const _0x5f187d=this['_loader']['getHandler']('texture')['open'](_0x5b2241,_0x818d70,_0x593743);if(!_0x5f187d)return null;_0x296788['texture']=_0x5f187d;}return _0x296788;}['patch'](_0x54b573,_0x15230b){if(!_0x54b573['resource'])return;_0x54b573['resource']['__data']&&(_0x54b573['resource']['__data']['minfilter']!==void(0x1504+0xe*0xa3+-0x1dee)&&(_0x54b573['data']['minfilter']=_0x54b573['resource']['__data']['minfilter']),_0x54b573['resource']['__data']['magfilter']!==void(-0x35*0x43+0x1*0x10d2+-0x2f3*0x1)&&(_0x54b573['data']['magfilter']=_0x54b573['resource']['__data']['magfilter']),_0x54b573['resource']['__data']['addressu']!==void(-0x7*0x503+0x22be*0x1+0x57)&&(_0x54b573['data']['addressu']=_0x54b573['resource']['__data']['addressu']),_0x54b573['resource']['__data']['addressv']!==void(-0x24e4+0x2126+0x3be)&&(_0x54b573['data']['addressv']=_0x54b573['resource']['__data']['addressv']),_0x54b573['resource']['__data']['mipmaps']!==void(-0x1c86+0x122a+-0x4*-0x297)&&(_0x54b573['data']['mipmaps']=_0x54b573['resource']['__data']['mipmaps']),_0x54b573['resource']['__data']['anisotropy']!==void(0x5*0x305+0x15*-0xdf+0x332)&&(_0x54b573['data']['anisotropy']=_0x54b573['resource']['__data']['anisotropy']),_0x54b573['resource']['__data']['rgbm']!==void(-0x6d7+0x7c9*0x1+-0xf2)&&(_0x54b573['data']['rgbm']=!!_0x54b573['resource']['__data']['rgbm']),_0x54b573['data']['frames']=_0x54b573['resource']['__data']['frames'],delete _0x54b573['resource']['__data']);const _0x1a3b87=_0x54b573['resource']['texture'];if(_0x1a3b87&&(_0x1a3b87['name']=_0x54b573['name'],_0x54b573['data']['hasOwnProp'+'erty']('minfilter')&&_0x1a3b87['minFilter']!==Lc[_0x54b573['data']['minfilter']]&&(_0x1a3b87['minFilter']=Lc[_0x54b573['data']['minfilter']]),_0x54b573['data']['hasOwnProp'+'erty']('magfilter')&&_0x1a3b87['magFilter']!==Lc[_0x54b573['data']['magfilter']]&&(_0x1a3b87['magFilter']=Lc[_0x54b573['data']['magfilter']]),_0x54b573['data']['hasOwnProp'+'erty']('addressu')&&_0x1a3b87['addressU']!==Ic[_0x54b573['data']['addressu']]&&(_0x1a3b87['addressU']=Ic[_0x54b573['data']['addressu']]),_0x54b573['data']['hasOwnProp'+'erty']('addressv')&&_0x1a3b87['addressV']!==Ic[_0x54b573['data']['addressv']]&&(_0x1a3b87['addressV']=Ic[_0x54b573['data']['addressv']]),_0x54b573['data']['hasOwnProp'+'erty']('mipmaps')&&_0x1a3b87['mipmaps']!==_0x54b573['data']['mipmaps']&&(_0x1a3b87['mipmaps']=_0x54b573['data']['mipmaps']),_0x54b573['data']['hasOwnProp'+'erty']('anisotropy')&&_0x1a3b87['anisotropy']!==_0x54b573['data']['anisotropy']&&(_0x1a3b87['anisotropy']=_0x54b573['data']['anisotropy']),_0x54b573['data']['hasOwnProp'+'erty']('rgbm'))){const _0xf9ffed=_0x54b573['data']['rgbm']?Zi:Ds;_0x1a3b87['type']!==_0xf9ffed&&(_0x1a3b87['type']=_0xf9ffed);}_0x54b573['resource']['texture']=_0x1a3b87;const _0x2a0ab2={};for(const _0x4edc12 in _0x54b573['data']['frames']){const _0x131d9b=_0x54b573['data']['frames'][_0x4edc12];_0x2a0ab2[_0x4edc12]={'rect':new re(_0x131d9b['rect']),'pivot':new J(_0x131d9b['pivot']),'border':new re(_0x131d9b['border'])};}_0x54b573['resource']['frames']=_0x2a0ab2,_0x54b573['off']('change',this['_onAssetCh'+'ange'],this),_0x54b573['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x5139a4,_0x529580,_0x44c64e){let _0x1ee6ed;if(_0x529580==='data'||_0x529580==='data.frame'+'s'){const _0x36e539={};for(const _0x40a6d5 in _0x44c64e['frames'])_0x1ee6ed=_0x44c64e['frames'][_0x40a6d5],_0x36e539[_0x40a6d5]={'rect':new re(_0x1ee6ed['rect']),'pivot':new J(_0x1ee6ed['pivot']),'border':new re(_0x1ee6ed['border'])};_0x5139a4['resource']['frames']=_0x36e539;}else{const _0x2248ce=_0x529580['match'](Fk);if(_0x2248ce){const _0x495ff9=_0x2248ce[-0x24c1+0x1*-0x111e+0x35e0];_0x44c64e?(_0x5139a4['resource']['frames'][_0x495ff9]?(_0x1ee6ed=_0x5139a4['resource']['frames'][_0x495ff9],_0x1ee6ed['rect']['set'](_0x44c64e['rect'][0x9ab+-0x1*-0x1009+-0x19b4],_0x44c64e['rect'][0x24b2+0x1a8b*-0x1+-0xa26],_0x44c64e['rect'][-0x3*0x475+0xd4c+0x15],_0x44c64e['rect'][0x8ad+-0xb56+0x2ac]),_0x1ee6ed['pivot']['set'](_0x44c64e['pivot'][0x17c5*0x1+0x1fe6+-0x37ab],_0x44c64e['pivot'][0x146*-0x4+0xb*0x1db+0x4*-0x3d4]),_0x1ee6ed['border']['set'](_0x44c64e['border'][-0x185*-0x1+0xa*-0x1d3+-0x1*-0x10b9],_0x44c64e['border'][0xef9+0x12d3+-0x29*0xd3],_0x44c64e['border'][-0x47b*-0x5+0x1b2d+-0x3192],_0x44c64e['border'][-0x11f5+0x1*0x1949+-0x751])):_0x5139a4['resource']['frames'][_0x495ff9]={'rect':new re(_0x44c64e['rect']),'pivot':new J(_0x44c64e['pivot']),'border':new re(_0x44c64e['border'])},_0x5139a4['resource']['fire']('set:frame',_0x495ff9,_0x5139a4['resource']['frames'][_0x495ff9])):_0x5139a4['resource']['frames'][_0x495ff9]&&(delete _0x5139a4['resource']['frames'][_0x495ff9],_0x5139a4['resource']['fire']('remove:fra'+'me',_0x495ff9));}}}}function kk(){const _0x3823e0={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x38a45d={'astc':_0x3823e0['cTFASTC_4x'+'4'],'dxt':_0x3823e0['cTFBC1'],'etc1':_0x3823e0['cTFETC1'],'etc2':_0x3823e0['cTFETC1'],'pvr':_0x3823e0['cTFPVRTC1_'+'4_RGB'],'atc':_0x3823e0['cTFATC_RGB'],'none':_0x3823e0['cTFRGB565']},_0x510318={'astc':_0x3823e0['cTFASTC_4x'+'4'],'dxt':_0x3823e0['cTFBC3'],'etc1':_0x3823e0['cTFRGBA444'+'4'],'etc2':_0x3823e0['cTFETC2'],'pvr':_0x3823e0['cTFPVRTC1_'+'4_RGBA'],'atc':_0x3823e0['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x3823e0['cTFRGBA444'+'4']},_0x6a87f4={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x575b65=(_0x1e107c,_0x408e9f)=>{switch(_0x1e107c){case _0x3823e0['cTFETC1']:return _0x408e9f['formats']['etc2']?_0x6a87f4['ETC2_RGB']:_0x6a87f4['ETC1'];case _0x3823e0['cTFETC2']:return _0x6a87f4['ETC2_RGBA'];case _0x3823e0['cTFBC1']:return _0x6a87f4['DXT1'];case _0x3823e0['cTFBC3']:return _0x6a87f4['DXT5'];case _0x3823e0['cTFPVRTC1_'+'4_RGB']:return _0x6a87f4['PVRTC_4BPP'+'_RGB_1'];case _0x3823e0['cTFPVRTC1_'+'4_RGBA']:return _0x6a87f4['PVRTC_4BPP'+'_RGBA_1'];case _0x3823e0['cTFASTC_4x'+'4']:return _0x6a87f4['ASTC_4x4'];case _0x3823e0['cTFATC_RGB']:return _0x6a87f4['ATC_RGB'];case _0x3823e0['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x6a87f4['ATC_RGBA'];case _0x3823e0['cTFRGBA32']:return _0x6a87f4['R8_G8_B8_A'+'8'];case _0x3823e0['cTFRGB565']:return _0x6a87f4['R5_G6_B5'];case _0x3823e0['cTFRGBA444'+'4']:return _0x6a87f4['R4_G4_B4_A'+'4'];}},_0x11b8fa=_0x213e3b=>{const _0x428c2a=function(_0x47ae5e,_0x57468f){const _0x472f7d=_0x47ae5e*(0x13*0x6f+0x1e25+-0x2662+0.00784313725490196)-(0x9*0x2a1+-0x1abd+0x315),_0x1a1594=_0x57468f*((-0x6cf*-0x5+-0x1bd0+-0x9*0xb1)/(-0x1bd*0x16+0x252b+0x212))-(-0x1f*-0xc2+-0x267a+0x4ff*0x3),_0x3e3ee4=Math['sqrt'](-0x44*0x49+0x1*0x1d23+-0x9be-Math['min'](0x885*0x1+-0x966+-0x2*-0x71,_0x472f7d*_0x472f7d+_0x1a1594*_0x1a1594));return Math['max'](0x1253*0x2+0x271*0x2+-0x2988,Math['min'](0x1dc1+0x1108+-0x2dca,Math['floor']((_0x3e3ee4+(-0x3*-0xa2b+0x6c5*0x1+0x7*-0x553))*(0x1*0xb51+0x43f+-0xf90+0.5)*(-0x71*0x1b+-0x1*0x24eb+-0x1*-0x31d5))));};for(let _0x128c19=-0xd3c+0xb*-0x305+-0x1*-0x2e73;_0x128c19<_0x213e3b['length'];_0x128c19+=0xd*0x274+0x35*-0xa0+0x140*0x1){const _0x1b9eb6=_0x213e3b[_0x128c19+(0x9c6+-0xe05+0x442)],_0x44a971=_0x213e3b[_0x128c19+(-0x9f*0x35+0x2164+-0x78)];_0x213e3b[_0x128c19+(-0x43*0x6d+0x5fb+0x168c)]=_0x1b9eb6,_0x213e3b[_0x128c19+(0x17d3+-0xdd0+-0xc5*0xd)]=_0x428c2a(_0x1b9eb6,_0x44a971),_0x213e3b[_0x128c19+(-0x1231*0x2+-0x19d3+-0xb5*-0x58)]=-0x1fec+0x139*0x9+0x15ea;}return _0x213e3b;},_0x3bea7a=_0x31122d=>{const _0x518339=new Uint16Array(_0x31122d['length']/(0x7fa+0xcd*0x8+-0x4ca*0x3));for(let _0xbe6477=0x16*0x1ad+-0xf6b*-0x2+-0x43b4;_0xbe6477<_0x31122d['length'];_0xbe6477+=-0x6*-0x35f+-0x4*-0x931+0x35a*-0x11){const _0x108128=_0x31122d[_0xbe6477+(0x29a*0x9+-0x1*-0xc9d+0x1*-0x2407)],_0x270eca=_0x31122d[_0xbe6477+(-0x110+-0x5*0x789+0x6*0x675)],_0x2e1bb6=_0x31122d[_0xbe6477+(-0x7*-0xf0+0x23eb+-0x2a79)];_0x518339[_0xbe6477/(0x2e3+0x1*-0x241+-0x9e)]=(_0x108128&0x2149+0x9aa*-0x1+-0x1*0x16a7)<<0x1f1c+-0x2*0x3ff+0xa*-0x24f|(_0x270eca&-0x38b*-0x3+-0xa27+0x82*0x1)<<0xc5f+0x1968+0x12e2*-0x2|_0x2e1bb6>>0x1a0b+0x2621+0x4b*-0xdb;}return _0x518339;},_0x836a70=(_0x358d2b,_0x85beea)=>(_0x358d2b&_0x358d2b-(-0xed8+-0x6*-0x5bc+0x3*-0x685))===-0x1c20+0x2*0x726+0xdd4&&(_0x85beea&_0x85beea-(-0x1fc+-0x30d*0x5+-0x89f*-0x2))===0x1134+0x1e2*-0x6+-0x5e8,_0x2d68a2=()=>typeof performance<'u'?performance['now']():0x17b9+-0xad*-0x17+-0xe*0x2ce;let _0x45a712,_0x50b589,_0x289128;const _0x4061d2=(_0x55652d,_0x3c6849,_0x3f7257)=>{if(_0x3f7257){if(_0x55652d['formats']['astc'])return'astc';}else{if(_0x3c6849){if(_0x55652d['formats']['etc2'])return'etc2';}else{if(_0x55652d['formats']['etc2'])return'etc2';if(_0x55652d['formats']['etc1'])return'etc1';}}return(_0x3627b0=>{for(let _0x384b0e=-0x21f*-0x8+-0x22e7*-0x1+-0x31*0x10f;_0x384b0e<_0x3627b0['length'];++_0x384b0e){const _0x37bc94=_0x3627b0[_0x384b0e];if(_0x55652d['formats'][_0x37bc94])return _0x37bc94;}return'none';})(_0x3c6849?_0x289128:_0x50b589);},_0x2dff2a=(_0x384378,_0x24baf2,_0x539198)=>{switch(_0x539198){case _0x3823e0['cTFETC1']:case _0x3823e0['cTFETC2']:return!(0x261f+0x250f+-0x4b2e);case _0x3823e0['cTFBC1']:case _0x3823e0['cTFBC3']:return(_0x384378&-0x1956+0x46b*-0x5+0x2f70)===0x19c5+-0x1241*-0x2+-0x3e47&&(_0x24baf2&0x3e*-0x8e+0x2435*0x1+0xe*-0x21)===-0x2208+-0x5*-0x445+-0x1*-0xcaf;case _0x3823e0['cTFPVRTC1_'+'4_RGB']:case _0x3823e0['cTFPVRTC1_'+'4_RGBA']:return _0x836a70(_0x384378,_0x24baf2);case _0x3823e0['cTFASTC_4x'+'4']:return!(-0xc*-0xb5+0x874+0x43c*-0x4);case _0x3823e0['cTFATC_RGB']:case _0x3823e0['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(0x8d*0x2+-0xc9+-0x51);}return!(-0x1b31+0x16e+0x19c4);},_0x4a9b87=(_0x4be0ec,_0x33dc8a,_0x30a448)=>{if(!_0x45a712['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x447494=_0x2d68a2(),_0x1ab6ee=new _0x45a712['KTX2File'](new Uint8Array(_0x33dc8a)),_0x2a1f7b=_0x1ab6ee['getWidth'](),_0x286790=_0x1ab6ee['getHeight'](),_0x5d2de3=_0x1ab6ee['getLevels'](),_0x122915=!!_0x1ab6ee['getHasAlph'+'a'](),_0x301f51=_0x1ab6ee['isUASTC']&&_0x1ab6ee['isUASTC']();if(!_0x2a1f7b||!_0x286790||!_0x5d2de3)throw _0x1ab6ee['close'](),_0x1ab6ee['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x4be0ec+'\x20width='+_0x2a1f7b+'\x20height='+_0x286790+'\x20levels='+_0x5d2de3);const _0x4bf3ca=_0x4061d2(_0x30a448['deviceDeta'+'ils'],_0x122915,_0x301f51),_0x587f3f=!!_0x30a448['isGGGR']&&_0x4bf3ca==='pvr';let _0x5705fb;if(_0x587f3f?_0x5705fb=_0x3823e0['cTFRGBA32']:(_0x5705fb=_0x122915?_0x510318[_0x4bf3ca]:_0x38a45d[_0x4bf3ca],_0x2dff2a(_0x2a1f7b,_0x286790,_0x5705fb)||(_0x5705fb=_0x122915?_0x3823e0['cTFRGBA32']:_0x3823e0['cTFRGB565'])),!_0x1ab6ee['startTrans'+'coding']())throw _0x1ab6ee['close'](),_0x1ab6ee['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x4be0ec);let _0x3bff16;const _0x20bcc7=[];for(let _0x2ca95d=0x18d7*0x1+-0x4d*-0x25+-0x1*0x23f8;_0x2ca95d<_0x5d2de3;++_0x2ca95d){const _0x4c0294=_0x1ab6ee['getImageTr'+'anscodedSi'+'zeInBytes'](_0x2ca95d,0x1*-0x1257+0x2e7+-0x68*-0x26,-0x13f9*0x1+-0x24fe+0x38f7,_0x5705fb),_0x37ad65=new Uint8Array(_0x4c0294);if(!_0x1ab6ee['transcodeI'+'mage'](_0x37ad65,_0x2ca95d,0x1813+0x2106+0x137*-0x2f,0xa14+0x2*-0x7a0+0x52c,_0x5705fb,0x1*-0x467+-0x1*-0x23a7+-0x1f40,-(0x1ca*-0x3+-0x2141+0x26a0),-(-0xd19*0x1+0x31*0xad+-0x1403)))throw _0x1ab6ee['close'](),_0x1ab6ee['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x4be0ec);const _0xc7b378=_0x5705fb===_0x3823e0['cTFRGB565']||_0x5705fb===_0x3823e0['cTFRGBA444'+'4'];_0x20bcc7['push'](_0xc7b378?new Uint16Array(_0x37ad65['buffer']):_0x37ad65);}if(_0x1ab6ee['close'](),_0x1ab6ee['delete'](),_0x587f3f){for(_0x5705fb=_0x3823e0['cTFRGB565'],_0x3bff16=-0x1*0x26ad+0x75*-0x4f+-0x8*-0x959;_0x3bff16<_0x20bcc7['length'];++_0x3bff16)_0x20bcc7[_0x3bff16]=_0x3bea7a(_0x11b8fa(_0x20bcc7[_0x3bff16]));}return{'format':_0x575b65(_0x5705fb,_0x30a448['deviceDeta'+'ils']),'width':_0x2a1f7b,'height':_0x286790,'levels':_0x20bcc7,'cubemap':!(-0x8e9*-0x1+0x1*-0x1241+-0x959*-0x1),'transcodeTime':_0x2d68a2()-_0x447494,'url':_0x4be0ec,'unswizzledGGGR':_0x587f3f};},_0x47c540=(_0x2380dc,_0x210fe4,_0x28668a)=>{const _0x17958a=_0x2d68a2(),_0x4e133d=new _0x45a712['BasisFile'](new Uint8Array(_0x210fe4)),_0x5e5a72=_0x4e133d['getImageWi'+'dth'](0x1f4f+-0x362*-0x7+-0x7*0x7db,0x1060+0x4*0x838+-0x3140),_0x1ed9b7=_0x4e133d['getImageHe'+'ight'](0x2d8+-0x25d4+0x4*0x8bf,0x18d4+-0x11b7+-0x71d),_0x540b41=_0x4e133d['getNumImag'+'es'](),_0x569789=_0x4e133d['getNumLeve'+'ls'](0x11b*0x19+0xcb5*-0x3+0xa7c),_0x47b31b=!!_0x4e133d['getHasAlph'+'a'](),_0x2e5bd2=_0x4e133d['isUASTC']&&_0x4e133d['isUASTC']();if(!_0x5e5a72||!_0x1ed9b7||!_0x540b41||!_0x569789)throw _0x4e133d['close'](),_0x4e133d['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x2380dc+'\x20width='+_0x5e5a72+'\x20height='+_0x1ed9b7+'\x20images='+_0x540b41+'\x20levels='+_0x569789);const _0x592e64=_0x4061d2(_0x28668a['deviceDeta'+'ils'],_0x47b31b,_0x2e5bd2),_0x515ace=!!_0x28668a['isGGGR']&&_0x592e64==='pvr';let _0x8e29df;if(_0x515ace?_0x8e29df=_0x3823e0['cTFRGBA32']:(_0x8e29df=_0x47b31b?_0x510318[_0x592e64]:_0x38a45d[_0x592e64],_0x2dff2a(_0x5e5a72,_0x1ed9b7,_0x8e29df)||(_0x8e29df=_0x47b31b?_0x3823e0['cTFRGBA32']:_0x3823e0['cTFRGB565'])),!_0x4e133d['startTrans'+'coding']())throw _0x4e133d['close'](),_0x4e133d['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x2380dc);let _0x1d4948;const _0x2b3534=[];for(let _0x52f2a4=0x13d0+-0x213c*-0x1+0x8c*-0x61;_0x52f2a4<_0x569789;++_0x52f2a4){const _0x27f961=_0x4e133d['getImageTr'+'anscodedSi'+'zeInBytes'](0x21c9+-0x19d+-0x2*0x1016,_0x52f2a4,_0x8e29df),_0x3fdc76=new Uint8Array(_0x27f961);if(!_0x4e133d['transcodeI'+'mage'](_0x3fdc76,-0xc87*-0x3+-0xda6+-0x22d*0xb,_0x52f2a4,_0x8e29df,0x4*-0x8f6+-0x68f*0x2+0x30f6,-0x26d0+-0x1a*-0x10f+0x121*0xa)){if(_0x52f2a4===_0x569789-(0x3a*-0x4b+-0x1518+-0x2617*-0x1)&&_0x27f961===_0x2b3534[_0x52f2a4-(0x2694+0x1c33+-0x42c6)]['buffer']['byteLength'])_0x3fdc76['set'](new Uint8Array(_0x2b3534[_0x52f2a4-(-0x1*0x2043+-0x2580+0xbc*0x5f)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x2380dc);else throw _0x4e133d['close'](),_0x4e133d['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x2380dc);}const _0x55e24d=_0x8e29df===_0x3823e0['cTFRGB565']||_0x8e29df===_0x3823e0['cTFRGBA444'+'4'];_0x2b3534['push'](_0x55e24d?new Uint16Array(_0x3fdc76['buffer']):_0x3fdc76);}if(_0x4e133d['close'](),_0x4e133d['delete'](),_0x515ace){for(_0x8e29df=_0x3823e0['cTFRGB565'],_0x1d4948=-0x1949*-0x1+-0x1021*-0x2+-0x398b;_0x1d4948<_0x2b3534['length'];++_0x1d4948)_0x2b3534[_0x1d4948]=_0x3bea7a(_0x11b8fa(_0x2b3534[_0x1d4948]));}return{'format':_0x575b65(_0x8e29df,_0x28668a['deviceDeta'+'ils']),'width':_0x5e5a72,'height':_0x1ed9b7,'levels':_0x2b3534,'cubemap':!(0x255d+-0x236d+-0x1ef),'transcodeTime':_0x2d68a2()-_0x17958a,'url':_0x2380dc,'unswizzledGGGR':_0x515ace};},_0x29a366=(_0x540eea,_0x4ecdb2,_0x407096)=>_0x407096['isKTX2']?_0x4a9b87(_0x540eea,_0x4ecdb2,_0x407096):_0x47c540(_0x540eea,_0x4ecdb2,_0x407096),_0x25648c=(_0x104a44,_0x3a01d1,_0x1bb2ba)=>{try{const _0xef9fa2=_0x29a366(_0x104a44,_0x3a01d1,_0x1bb2ba);_0xef9fa2['levels']=_0xef9fa2['levels']['map'](_0x43747d=>_0x43747d['buffer']),self['postMessag'+'e']({'url':_0x104a44,'data':_0xef9fa2},_0xef9fa2['levels']);}catch(_0x2d09d9){self['postMessag'+'e']({'url':_0x104a44,'err':_0x2d09d9},null);}},_0x473ca1=(_0x1e5564,_0x4fbae4)=>{const _0x5b5a54=(_0x5538d5,_0x1e6928)=>(WebAssembly['instantiat'+'e'](_0x1e5564['module'],_0x5538d5)['then'](_0x54236c=>{_0x1e6928(_0x54236c);})['catch'](_0x37ce90=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x37ce90);}),{});self['BASIS'](_0x1e5564['module']?{'instantiateWasm':_0x5b5a54}:null)['then'](_0x4c5b6b=>{_0x4c5b6b['initialize'+'Basis'](),_0x45a712=_0x4c5b6b,_0x50b589=_0x1e5564['rgbPriorit'+'y'],_0x289128=_0x1e5564['rgbaPriori'+'ty'],_0x4fbae4(null);});},_0x4dec20=[];self['onmessage']=_0x78b2e8=>{const _0x5568ab=_0x78b2e8['data'];switch(_0x5568ab['type']){case'init':_0x473ca1(_0x5568ab['config'],()=>{for(let _0x3505a1=-0x2443+-0x2*-0xff8+0x171*0x3;_0x3505a1<_0x4dec20['length'];++_0x3505a1)_0x25648c(_0x4dec20[_0x3505a1]['url'],_0x4dec20[_0x3505a1]['data'],_0x4dec20[_0x3505a1]['options']);_0x4dec20['length']=-0x1086+0x251b+-0x1495;});break;case'transcode':_0x45a712?_0x25648c(_0x5568ab['url'],_0x5568ab['data'],_0x5568ab['options']):_0x4dec20['push'](_0x5568ab);break;}};}const Uk=_0x1ea914=>({'astc':!!_0x1ea914['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x1ea914['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x1ea914['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x1ea914['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x1ea914['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x1ea914['extCompres'+'sedTexture'+'PVRTC']}),Bk=(_0x236c1e,_0x2d5b37)=>{const _0x4d5554=_0x1e7ade=>{const _0x1d47b1=['/*\x20basis\x20*'+'/',_0x1e7ade,'','('+kk['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x1d47b1],{'type':'applicatio'+'n/javascri'+'pt'});},_0xa1394=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x6aee30=new WebAssembly['Module'](Uint8Array['of'](-0xbd0+0x1*-0x1103+0x1cd3,-0xa2b*-0x2+0x441+-0x1836,0x1c9*0x11+-0x33a+0x1aac*-0x1,-0x86*0x2e+-0x1ed6+0x3757,0x1d7c+-0x1*-0x2491+0x1*-0x420c,-0x2*-0xfef+-0x25e7+0x609,0x10*0x1fd+-0x1a8a+-0x10e*0x5,-0x18ac+-0x1*-0x1867+0x45));if(_0x6aee30 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x6aee30)instanceof WebAssembly['Instance'];}}catch{}return!(-0x1fcd+0x134e+0x28*0x50);},_0x2c00da=(_0x2f1c04,_0xad16f6)=>{_0x2d5b37(null,{'workerUrl':URL['createObje'+'ctURL'](_0x4d5554(_0x2f1c04)),'module':_0xad16f6,'rgbPriority':_0x236c1e['rgbPriorit'+'y'],'rgbaPriority':_0x236c1e['rgbaPriori'+'ty']});},_0x436f53={'cache':!(0x707+0xe7+-0xcb*0xa),'responseType':'text','retry':_0x236c1e['maxRetries']>0x41e*0x2+0x1b9d+-0x23d9*0x1,'maxRetries':_0x236c1e['maxRetries']};if(_0x236c1e['glueUrl']&&_0x236c1e['wasmUrl']&&_0xa1394()){let _0x43567f=null,_0x3e3f5a=null;ot['get'](_0x236c1e['glueUrl'],_0x436f53,(_0x55284f,_0x3aba2c)=>{_0x55284f?_0x2d5b37(_0x55284f):_0x3e3f5a?_0x2c00da(_0x3aba2c,_0x3e3f5a):_0x43567f=_0x3aba2c;});const _0x505b8e=fetch(_0x236c1e['wasmUrl']),_0x41af55=()=>{_0x505b8e['then'](_0xb6876e=>_0xb6876e['arrayBuffe'+'r']())['then'](_0x3b05ce=>WebAssembly['compile'](_0x3b05ce))['then'](_0x302f57=>{_0x43567f?_0x2c00da(_0x43567f,_0x302f57):_0x3e3f5a=_0x302f57;})['catch'](_0x1c75e1=>{_0x2d5b37(_0x1c75e1,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x505b8e)['then'](_0x57c51a=>{_0x43567f?_0x2c00da(_0x43567f,_0x57c51a):_0x3e3f5a=_0x57c51a;})['catch'](_0x837c7=>{w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x236c1e['wasmUrl']+'\x20('+_0x837c7+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x41af55();}):_0x41af55();}else ot['get'](_0x236c1e['fallbackUr'+'l'],_0x436f53,(_0x1ecf64,_0x2e2c94)=>{_0x1ecf64?_0x2d5b37(_0x1ecf64,null):_0x2c00da(_0x2e2c94,null);});};class zk{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x5bf7cf,_0x4d8d0f,_0x5f26e0,_0x220205){if(this['callbacks']['hasOwnProp'+'erty'](_0x5bf7cf))this['callbacks'][_0x5bf7cf]['push'](_0x5f26e0);else{this['callbacks'][_0x5bf7cf]=[_0x5f26e0];const _0x19d72e={'url':_0x5bf7cf,'data':_0x4d8d0f,'options':_0x220205};this['clients']['length']>0x39*0x61+-0xca9+-0x8f0?this['clients']['shift']()['run'](_0x19d72e):this['queue']['push'](_0x19d72e);}}['enqueueCli'+'ent'](_0x4fab21){this['queue']['length']>-0x1*-0x1f3+-0x129a+0x10a7?_0x4fab21['run'](this['queue']['shift']()):this['clients']['push'](_0x4fab21);}['handleResp'+'onse'](_0x25eec6,_0x7d5c68,_0x237b69){const _0xcff10=this['callbacks'][_0x25eec6];if(_0x7d5c68){for(let _0xaffcd7=-0x3*0xcfd+0x221+0x24d6;_0xaffcd7<_0xcff10['length'];++_0xaffcd7)_0xcff10[_0xaffcd7](_0x7d5c68);}else{_0x237b69['format']===Jh||_0x237b69['format']===ed?_0x237b69['levels']=_0x237b69['levels']['map'](_0x432c9d=>new Uint16Array(_0x432c9d)):_0x237b69['levels']=_0x237b69['levels']['map'](_0x17607d=>new Uint8Array(_0x17607d));for(let _0x3c8c74=-0x3ae*0xa+-0x14c*-0x1+0x2380;_0x3c8c74<_0xcff10['length'];++_0x3c8c74)_0xcff10[_0x3c8c74](null,_0x237b69);}delete this['callbacks'][_0x25eec6];}}class Vk{constructor(_0x22cd3c,_0x50362c,_0x442159){this['queue']=_0x22cd3c,this['worker']=new Worker(_0x50362c['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x71ae06=>{const _0x17ae2e=_0x71ae06['data'];this['queue']['handleResp'+'onse'](_0x17ae2e['url'],_0x17ae2e['err'],_0x17ae2e['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x50362c}),this['eager']=_0x442159;}['run'](_0x552bf5){const _0x4c418a=[];_0x552bf5['data']instanceof ArrayBuffer&&_0x4c418a['push'](_0x552bf5['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x552bf5['url'],'format':_0x552bf5['format'],'data':_0x552bf5['data'],'options':_0x552bf5['options']},_0x4c418a),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const Gk=0x5*-0x5bb+0x18a6+0x402,Hk=['etc2','etc1','astc','dxt','pvr','atc'],Wk=['astc','dxt','etc2','pvr','atc'],$k=0x1148*-0x2+0x1931*0x1+0x964,Xu=new zk();let xS=null,qu=!(0x13cb+0xc3e+-0x2008);function Xk(_0x5b8be0){if(!qu){if(!_0x5b8be0)_0x5b8be0=xS||{};else{if(_0x5b8be0['lazyInit']){xS=_0x5b8be0;return;}}if(!_0x5b8be0['glueUrl']||!_0x5b8be0['wasmUrl']||!_0x5b8be0['fallbackUr'+'l']){const _0x426d8b=YS['getConfig']('BASIS');_0x426d8b&&(_0x5b8be0={'glueUrl':_0x426d8b['glueUrl'],'wasmUrl':_0x426d8b['wasmUrl'],'fallbackUrl':_0x426d8b['fallbackUr'+'l'],'numWorkers':_0x426d8b['numWorkers']});}if(_0x5b8be0['glueUrl']||_0x5b8be0['wasmUrl']||_0x5b8be0['fallbackUr'+'l']){qu=!(0x191e+0x2*-0x802+-0x91a);const _0x3bb6b9=Math['max'](0xa73*0x3+0x1a77*0x1+-0x1*0x39cf,Math['min'](-0x179e*0x1+-0x2*0x671+0x2490,_0x5b8be0['numWorkers']||Gk)),_0x1dd252=_0x5b8be0['numWorkers']===-0x13*0x95+0xc6*0x10+-0x150||(_0x5b8be0['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x5b8be0['eagerWorke'+'rs']:!(0x105b*-0x2+0x1b0f+0x5a7));_0x5b8be0['rgbPriorit'+'y']=_0x5b8be0['rgbPriorit'+'y']||Hk,_0x5b8be0['rgbaPriori'+'ty']=_0x5b8be0['rgbaPriori'+'ty']||Wk,_0x5b8be0['maxRetries']=_0x5b8be0['hasOwnProp'+'erty']('maxRetries')?_0x5b8be0['maxRetries']:$k,Bk(_0x5b8be0,(_0x262de7,_0x470f7d)=>{if(_0x262de7)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x262de7);else{for(let _0x31195c=0x7cd*0x1+0x1b58+-0x1*0x2325;_0x31195c<_0x3bb6b9;++_0x31195c)Xu['enqueueCli'+'ent'](new Vk(Xu,_0x470f7d,_0x1dd252));}});}}}let Df=null;function b0(_0x10dcb4,_0x9a9fe5,_0x5acfc4,_0x5385f6,_0x57e082){return Xk(),Df||(Df={'formats':Uk(_0x10dcb4)}),Xu['enqueueJob'](_0x9a9fe5,_0x5acfc4,_0x5385f6,{'deviceDetails':Df,'isGGGR':!!(_0x57e082!=null&&_0x57e082['isGGGR']),'isKTX2':!!(_0x57e082!=null&&_0x57e082['isKTX2'])}),qu;}class eo{['load'](_0x55b158,_0xb3160f,_0x2dcdf8){throw new Error('not\x20implem'+'ented');}['open'](_0x4f785b,_0x5c332f,_0x2c5f7c){throw new Error('not\x20implem'+'ented');}}class qk extends eo{constructor(_0x274682,_0x41dcd6){super(),this['device']=_0x41dcd6,this['maxRetries']=-0x521*-0x5+0x106b+-0x2a10;}['load'](_0x5f50e1,_0x1352cd,_0x544c24){const _0x574c8f=this['device'],_0x40e196=_0x46c708=>{var _0x33b06a,_0x33bd62,_0x352fdf;b0(_0x574c8f,_0x5f50e1['load'],_0x46c708,_0x1352cd,{'isGGGR':(((_0x352fdf=(_0x33bd62=(_0x33b06a=_0x544c24==null?void(0x1e8f+0x1f17+-0x1*0x3da6):_0x544c24['file'])==null?void(-0xb*-0x118+-0x1*-0x4cc+-0x167*0xc):_0x33b06a['variants'])==null?void(-0xbb+0x13f6+-0x669*0x3):_0x33bd62['basis'])==null?void(0x1*-0x90b+0x1*-0x186c+0x2177):_0x352fdf['opt'])&0xece+-0x18ab+0x1*0x9e5)!==-0x2d*0xad+0x1*0xeef+-0xf7a*-0x1})||_0x1352cd('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x544c24['name']+']('+_0x544c24['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};pe['fetchArray'+'Buffer'](_0x5f50e1['load'],(_0x3ae11f,_0xc5de3d)=>{_0x3ae11f?_0x1352cd(_0x3ae11f):_0x40e196(_0xc5de3d);},_0x544c24,this['maxRetries']);}['open'](_0x1e4826,_0xf67cc6,_0x676648,_0x156443={}){const _0x536232=_0x156443['srgb']?ld(_0xf67cc6['format']):_0xf67cc6['format'],_0x3c891b=new _e(_0x676648,{'name':_0x1e4826,'profilerHint':Pr,'addressU':_0xf67cc6['cubemap']?ue:yt,'addressV':_0xf67cc6['cubemap']?ue:yt,'width':_0xf67cc6['width'],'height':_0xf67cc6['height'],'format':_0x536232,'cubemap':_0xf67cc6['cubemap'],'levels':_0xf67cc6['levels'],..._0x156443});return _0x3c891b['upload'](),_0x3c891b;}}const A0=new Uint8Array([0x5*0x61f+-0x2356*0x1+0x544,-0x1d4f+0x1*-0x16a0+0x217*0x19,0x243f+0xa*-0x3e+-0x2185,0xe7b+0x21a5+-0x2fd9,0x1*0x8ea+-0x1ef9+0x587*0x4,-0xee6+-0xc7c*0x1+0x1b6c,0x17cc+0x1*0x1dbb+-0x356d,-0x4*0x373+-0x1035+0x1e0b,0x11*0x95+-0x52b*-0x1+0x1*-0xf10,-0x10b9+-0x5b3*0x3+0x21d2,-0x240a+0x1856+0xbb4,0x1*-0x1094+-0x16e4+0x2785,-0x12c8*0x1+-0xe3e+-0x1*-0x214f,0x19ac+-0x1728+-0x8f*0x4,0x438+-0xee*0x3+-0x1*0x12a,0x16b*0x5+-0xd8e+0x6c9,0x1f81+0x31d+-0x229e,0x24cd*0x1+-0x33*0x86+0xd*-0xc7,0x24a+-0x4e1*-0x8+-0x2952,0x1*0x1e38+0x10d3+-0x6*0x7d7,0xd*-0x145+-0x61*0xd+0x156e,-0x1*-0xc77+-0x1bc0+-0xd*-0x12d,-0x5f3*-0x1+0x22a6+0x223*-0x13,-0xb3+0x1*-0xf2e+0xfe2,-0x1f36+0x237f+-0x1*0x441,-0x1*-0x63f+-0x1*0x1bef+0x15b6,0x13ab+-0x24a3+-0x2*-0x87c,-0x31f+0x1*0x1b31+-0x1812,0x1af1+-0xd*-0x89+-0x21e6,-0x7*-0x21d+-0x186d+-0x1*-0x9c1,0x1d6a+-0x19*-0x15+-0x67*0x4e,0xc*0x71+-0xdef+-0x967*-0x1,-0x75+0xf48+-0xe4a,-0xb32+0xb02+0xc*0x4,0x2*-0xc83+-0x30e+0x1c14,0x1ded+0x33e+0x1*-0x212b,-0x96*-0x30+0x4*-0x32+-0x1*0x1b4b,0x1*0x9af+-0x3*0x199+-0x1*0x49b,0x899+-0x2da*0xb+0x1709,0x131e+0x367*-0x1+0x1*-0xf76,-0x2402+0x2153*0x1+0x1*0x303,-0xcc0+0x19ab+-0xc73*0x1,-0x28e+0x1*0x147f+0x19*-0xaf,-0x1*-0x1cbe+-0x31*0x4d+-0xd9e,-0x1*0x1028+-0x1612+0x1*0x269e,0x207+0xabb+-0xc5e,0x2326+0x1*0x19b1+-0x3c75,0x17d5*-0x1+-0x17a8+-0x1c9*-0x1b,-0x25b5+-0x1807+-0xa3*-0x61,0x896+0x5ba*-0x5+-0xa06*-0x2,-0xac7*0x2+-0x1214+0x27a2,0x1*-0xc75+0x4f*0x2+0xc30,-0x116+0x1299+-0x1183*0x1,0x108a+0x189+-0x2*0x8e6,-0x63*-0x19+0x2284+0x3a9*-0xc,0x4a1+-0x1ade+0x16c2*0x1,-0x12f8+-0xe1b*-0x1+-0x571*-0x1,-0x116f+0xb63+0x6f9,0xa0b*0x2+-0x1*0x20ba+0xca4,-0x1*-0x1dbb+0xfd8+-0x3*0xf31,0x4f*0xe+-0x576+0x49*0x4,-0x13*0x1a3+0x5*0x267+0x1316,-0x109d*0x1+-0x9bf*0x1+0x1aa5*0x1,0x8*0x70+0xd9*-0x20+0x17e5,-0x2*0x944+-0x3ce+-0x54*-0x45,-0x9*0x25f+0xc6c+0x1*0x92f,-0x1981*-0x1+-0x20f0+0x81d,0x4eb+-0x4*-0x453+0x49*-0x4d,-0x15d9+0x1ace+-0x3*0x187,0x5*-0x3b7+-0x1*0x20a7+0x33bc]),C0=(_0x3a82f8,_0x2927ff)=>{const _0x44e636=new _e(_0x3a82f8,{'width':0x1,'height':0x1,'format':Ne,'mipmaps':!(-0x1aa2+-0x1a70*0x1+0x3513),'levels':[_0x2927ff]}),_0x10c768=new gt({'colorBuffer':_0x44e636,'depth':!(-0x1*0x582+-0x128+-0x6ab*-0x1)});_0x3a82f8['setFramebu'+'ffer'](_0x10c768['impl']['_glFrameBu'+'ffer']),_0x3a82f8['initRender'+'Target'](_0x10c768);const _0x5dc92d=new Uint8ClampedArray(-0x150+0x1188+-0x4*0x40d);return _0x3a82f8['gl']['readPixels'](-0xb42*-0x2+0x3*0x89b+-0x3055,-0x22e4+-0xe1c+0x620*0x8,0x3*-0x7b7+0xc*-0x221+0x30b2,0xb59+-0x1937*-0x1+-0x248f,_0x3a82f8['gl']['RGBA'],_0x3a82f8['gl']['UNSIGNED_B'+'YTE'],_0x5dc92d),_0x10c768['destroy'](),_0x44e636['destroy'](),_0x5dc92d[-0x6b0+-0x1*0x204e+-0xa1*-0x3e]===-0x1a5b+-0x13*-0x141+0x289&&_0x5dc92d[0x1325+0xbea+-0x13e*0x19]===-0x2*0x1b1+0x1af7+-0x5*0x4b7&&_0x5dc92d[-0x595+-0x2706+0x2c9d]===0xb1a+-0xed5+0x3be*0x1&&_0x5dc92d[-0x4*0x20b+0x230e+0x8f5*-0x3]===0xf7f+0x6fc+0x4*-0x58f;},jk=_0x210849=>createImageBitmap(new Blob([A0],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x535122=>C0(_0x210849,_0x535122))['catch'](_0x3644dd=>!(-0x13ae+-0x87c+0x1c2b*0x1)),Yk=_0x559b85=>new Promise((_0x52774a,_0x3abd8a)=>{const _0x41978d=new Image();_0x41978d['src']=URL['createObje'+'ctURL'](new Blob([A0])),_0x41978d['onload']=()=>{_0x52774a(C0(_0x559b85,_0x41978d));};});class Kk{static['run'](_0x38e153){jk(_0x38e153)['then'](_0x3b1e01=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x3b1e01);}),Yk(_0x38e153)['then'](_0x1c4ec8=>{console['log']('imgElement'+'IsCorrect='+_0x1c4ec8);});}}class Zk extends eo{constructor(_0x4dc3e2,_0x51c1fb){super(),this['crossOrigi'+'n']=_0x4dc3e2['prefix']?'anonymous':null,this['maxRetries']=-0x81f+-0x23*-0x3d+-0x38,this['device']=_0x51c1fb,mi['get']('IMG_ALPHA_'+'TEST')&&Kk['run'](this['device']);}['load'](_0xa9dab5,_0x238076,_0x176bf8){var _0x481a44;const _0x26df67=!!((_0x481a44=_0x176bf8==null?void(0x4*0x7+-0x91f*0x4+0x2460):_0x176bf8['file'])!=null&&_0x481a44['contents']);if(_0x26df67){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x176bf8['file']['contents']]),_0x238076);return;}_0xa9dab5={'load':URL['createObje'+'ctURL'](new Blob([_0x176bf8['file']['contents']])),'original':_0xa9dab5['original']};}const _0x42a93c=(_0x1938b7,_0x5403e6)=>{_0x26df67&&URL['revokeObje'+'ctURL'](_0xa9dab5['load']),_0x238076(_0x1938b7,_0x5403e6);};let _0x57875e;_0x176bf8&&_0x176bf8['options']&&_0x176bf8['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x57875e=_0x176bf8['options']['crossOrigi'+'n']:jn['test'](_0xa9dab5['load'])&&(_0x57875e=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0xa9dab5['load'],_0xa9dab5['original'],_0x57875e,_0x42a93c,_0x176bf8):this['_loadImage'](_0xa9dab5['load'],_0xa9dab5['original'],_0x57875e,_0x42a93c);}['open'](_0x1915c7,_0x2c2ac9,_0x2c030b,_0x1c4458={}){const _0x155919=new _e(_0x2c030b,{'name':_0x1915c7,'profilerHint':Pr,'width':_0x2c2ac9['width'],'height':_0x2c2ac9['height'],'format':_0x1c4458['srgb']?_s:Ne,..._0x1c4458});return _0x155919['setSource'](_0x2c2ac9),_0x155919;}['_loadImage'](_0x10eb67,_0x314590,_0x373626,_0x22f92b){const _0x5c963b=new Image();_0x373626&&(_0x5c963b['crossOrigi'+'n']=_0x373626);let _0x2580bc=-0x9*-0x319+0x1788+0x3369*-0x1;const _0x360063=this['maxRetries'];let _0x128edc;_0x5c963b['onload']=function(){_0x22f92b(null,_0x5c963b);},_0x5c963b['onerror']=function(){if(!_0x128edc){if(_0x360063>0x107b*-0x2+0x16b1+0xa45&&++_0x2580bc<=_0x360063){const _0x4e95b2=Math['pow'](-0x41*0x4+-0x1*-0xd8c+-0xc86,_0x2580bc)*(-0xcd0+0x1452*0x1+-0x2*0x38f);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x314590+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x4e95b2+'ms...');const _0x5e1b43=_0x10eb67['indexOf']('?')>=0x59*0x3d+-0x25*-0x3a+-0x1d97?'&':'?';_0x128edc=setTimeout(()=>{_0x5c963b['src']=_0x10eb67+_0x5e1b43+'retry='+Date['now'](),_0x128edc=null;},_0x4e95b2);}else _0x22f92b('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x314590+'\x27');}},_0x5c963b['src']=_0x10eb67;}['_loadImage'+'Bitmap'](_0x1bffff,_0x10030d,_0x55571d,_0x116d4a,_0x23e387){const _0x267008={'cache':!(-0x3*0x5ea+0x8ad+0x911),'responseType':'blob','retry':this['maxRetries']>-0x24f1+-0x475+-0x14b3*-0x2,'maxRetries':this['maxRetries'],'progress':_0x23e387};ot['get'](_0x1bffff,_0x267008,(_0x4c8060,_0x453c12)=>{_0x4c8060?_0x116d4a(_0x4c8060):this['_loadImage'+'BitmapFrom'+'Blob'](_0x453c12,_0x116d4a);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x526718,_0x22a9f9){createImageBitmap(_0x526718,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x40551f=>_0x22a9f9(null,_0x40551f))['catch'](_0x47aee6=>_0x22a9f9(_0x47aee6));}}const If=[-0x7d6c6525+-0x10996397+0xe65a1467,-0x20f9df*0x11a+-0x6b97183+-0x19db*-0x8e7ab,0x1c451b*0x47+0x33525d1+0xb*-0x160663],Qk={0x83f0:td,0x83f2:op,0x83f3:vl,0x8d64:id,0x9274:cp,0x9278:hp,0x8c00:rd,0x8c01:xl,0x8c02:ad,0x8c03:Tl,0x8051:Cr,0x8058:Ne,0x8c41:lp,0x8c43:_s,0x8c3a:In,0x881b:ui,0x881a:nt};function Jk(_0x5eec48,_0x4ecf58,_0x2dd0cf,_0x19cb65){return _0x5eec48===In?new Uint32Array(_0x4ecf58,_0x2dd0cf,_0x19cb65/(-0xfb*0x1c+-0x215b+0x2a5*0x17)):new Uint8Array(_0x4ecf58,_0x2dd0cf,_0x19cb65);}class eU extends eo{constructor(_0x46f704){super(),this['maxRetries']=-0x8af+-0x2*-0xc98+-0xd*0x145;}['load'](_0xc708a1,_0x2a8330,_0x4d50b5){pe['fetchArray'+'Buffer'](_0xc708a1['load'],_0x2a8330,_0x4d50b5,this['maxRetries']);}['open'](_0x4392ee,_0x206de0,_0x733e7d,_0x5c52f7={}){const _0x3c5766=this['parse'](_0x206de0);if(!_0x3c5766)return null;const _0x1f34f3=_0x5c52f7['srgb']?ld(_0x3c5766['format']):_0x3c5766['format'],_0x1981f7=new _e(_0x733e7d,{'name':_0x4392ee,'profilerHint':Pr,'addressU':_0x3c5766['cubemap']?ue:yt,'addressV':_0x3c5766['cubemap']?ue:yt,'width':_0x3c5766['width'],'height':_0x3c5766['height'],'format':_0x1f34f3,'cubemap':_0x3c5766['cubemap'],'levels':_0x3c5766['levels'],..._0x5c52f7});return _0x1981f7['upload'](),_0x1981f7;}['parse'](_0x4492d5){const _0x1c64ed=new Uint32Array(_0x4492d5);if(If[-0x23e3+-0x7a7*0x1+0x2b8a]!==_0x1c64ed[0x5*-0x293+-0x1*0x200d+0x2cec]||If[0xd40+0x1f03+-0x2c42]!==_0x1c64ed[-0x19a4+0x1469+0x14f*0x4]||If[-0x23b*0x11+-0xe*-0x238+0x6dd]!==_0x1c64ed[0x24d1+0x17ac+-0x3c7b])return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x344aea={'endianness':_0x1c64ed[0x1757*0x1+-0x56d*0x5+-0x3cd*-0x1],'glType':_0x1c64ed[-0x3*-0x182+0xd88+-0x120a],'glTypeSize':_0x1c64ed[0xfa9+-0x874*-0x2+0x208c*-0x1],'glFormat':_0x1c64ed[0x1*0x24e5+-0x1ba1*0x1+-0x152*0x7],'glInternalFormat':_0x1c64ed[-0x397*-0x1+0x1*-0x8bb+0x52b],'glBaseInternalFormat':_0x1c64ed[-0x1349+-0x1*-0x17f2+-0x4a1],'pixelWidth':_0x1c64ed[0x51b*0x1+0x10*0x5e+0xaf2*-0x1],'pixelHeight':_0x1c64ed[-0x220d+0x7*-0x43+0xd1*0x2c],'pixelDepth':_0x1c64ed[-0x392*0x5+0x1d5c+-0xb77],'numberOfArrayElements':_0x1c64ed[-0xc22+-0x4*0xe3+0xfba],'numberOfFaces':_0x1c64ed[-0xabb+-0x4be+-0x7c3*-0x2],'numberOfMipmapLevels':_0x1c64ed[-0xb13*-0x1+-0x1*0x236f+-0xfa*-0x19],'bytesOfKeyValueData':_0x1c64ed[0x1*0x8d7+-0x2*-0xfc6+-0x2854]};if(_0x344aea['pixelDepth']>0x3b*0x38+-0x1450+-0x10f*-0x7)return w['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x344aea['numberOfAr'+'rayElement'+'s']!==0x1b30+0x3ae+-0x1ede)return w['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x14498d=Qk[_0x344aea['glInternal'+'Format']];if(_0x14498d===void(-0x23c9+0x2460+-0x97))return w['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x344aea['glInternal'+'Format']),null;let _0x324898=-0x2*0xabb+0x74f+-0xe37*-0x1+_0x344aea['bytesOfKey'+'ValueData']/(0x1340+-0x99d*0x4+0x1338);const _0x494746=_0x344aea['numberOfFa'+'ces']>-0x1347+-0x2015+-0x9*-0x5b5,_0x4f2d11=[];for(let _0x5567a2=-0x537+0x2464+0x15b*-0x17;_0x5567a2<(_0x344aea['numberOfMi'+'pmapLevels']||-0x53b*0x1+-0x643+-0x6d*-0x1b);_0x5567a2++){const _0xc4e3b1=_0x1c64ed[_0x324898++];_0x494746&&_0x4f2d11['push']([]);const _0x30b5eb=_0x494746?_0x4f2d11[_0x5567a2]:_0x4f2d11;for(let _0x619bde=-0x2624+0x20*-0x2b+0x1*0x2b84;_0x619bde<(_0x494746?0x1*0x115+-0xb*0x16f+-0x1*-0xeb6:0x21db+-0xd39*0x1+-0x14a1);++_0x619bde)_0x30b5eb['push'](Jk(_0x14498d,_0x4492d5,_0x324898*(0x24fc+0x2*0x9a7+-0x3846),_0xc4e3b1)),_0x324898+=_0xc4e3b1+(-0xb4c*0x2+0xcc9*-0x3+0x3cf6)>>0x158d*0x1+-0xc05*-0x1+-0xb30*0x3;}return{'format':_0x14498d,'width':_0x344aea['pixelWidth'],'height':_0x344aea['pixelHeigh'+'t'],'levels':_0x4f2d11,'cubemap':_0x494746};}}const tU={'KHR_DF_MODEL_UASTC':0xa6};class sU extends eo{constructor(_0x46d2fb,_0x416a7d){super(),this['maxRetries']=-0x20df+0x23a9+-0xee*0x3,this['device']=_0x416a7d;}['load'](_0x5203a7,_0x1e04f2,_0x30bdca){pe['fetchArray'+'Buffer'](_0x5203a7['load'],(_0x33dfe1,_0x899d61)=>{_0x33dfe1?_0x1e04f2(_0x33dfe1,_0x899d61):this['parse'](_0x899d61,_0x5203a7,_0x1e04f2,_0x30bdca);},_0x30bdca,this['maxRetries']);}['open'](_0x51817e,_0x2dfd8e,_0x386c43,_0x2d10f6={}){const _0x168c3d=_0x2d10f6['srgb']?ld(_0x2dfd8e['format']):_0x2dfd8e['format'],_0x4623bb=new _e(_0x386c43,{'name':_0x51817e,'profilerHint':Pr,'addressU':_0x2dfd8e['cubemap']?ue:yt,'addressV':_0x2dfd8e['cubemap']?ue:yt,'width':_0x2dfd8e['width'],'height':_0x2dfd8e['height'],'format':_0x168c3d,'cubemap':_0x2dfd8e['cubemap'],'levels':_0x2dfd8e['levels'],..._0x2d10f6});return _0x4623bb['upload'](),_0x4623bb;}['parse'](_0x4d869b,_0x484878,_0x26dfa0,_0x3a3e7d){var _0x5d13a2,_0x963372,_0xf32899;const _0xbdc7ab=new KS(_0x4d869b),_0x1619af=[_0xbdc7ab['readU32be'](),_0xbdc7ab['readU32be'](),_0xbdc7ab['readU32be']()];if(_0x1619af[-0x5*-0x412+-0xeb*0x2+-0x62c*0x3]!==-0x1*0x1d0f21be+0xf713cbc7+-0x2bf9ba1*0x11||_0x1619af[0x1ba0+0x1f0+-0x1d8f]!==-0x2b8059*-0x10b+0x1d334f70+0xa97fee2*-0x4||_0x1619af[-0x2181*0x1+0x1c3f+0x2a2*0x2]!==-0xa5c9f43+0x12537174+0x12d485*0x45)return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0xf291ee={'vkFormat':_0xbdc7ab['readU32'](),'typeSize':_0xbdc7ab['readU32'](),'pixelWidth':_0xbdc7ab['readU32'](),'pixelHeight':_0xbdc7ab['readU32'](),'pixelDepth':_0xbdc7ab['readU32'](),'layerCount':_0xbdc7ab['readU32'](),'faceCount':_0xbdc7ab['readU32'](),'levelCount':_0xbdc7ab['readU32'](),'supercompressionScheme':_0xbdc7ab['readU32']()},_0x30a03c={'dfdByteOffset':_0xbdc7ab['readU32'](),'dfdByteLength':_0xbdc7ab['readU32'](),'kvdByteOffset':_0xbdc7ab['readU32'](),'kvdByteLength':_0xbdc7ab['readU32'](),'sgdByteOffset':_0xbdc7ab['readU64'](),'sgdByteLength':_0xbdc7ab['readU64']()},_0x577a17=[];for(let _0x56f077=0x1b2b+-0x1c79*-0x1+-0x37a4;_0x56f077<Math['max'](0x160d+0xa01+-0x200d,_0xf291ee['levelCount']);++_0x56f077)_0x577a17['push']({'byteOffset':_0xbdc7ab['readU64'](),'byteLength':_0xbdc7ab['readU64'](),'uncompressedByteLength':_0xbdc7ab['readU64']()});if(_0xbdc7ab['readU32']()!==_0x30a03c['kvdByteOff'+'set']-_0x30a03c['dfdByteOff'+'set'])return w['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0xbdc7ab['skip'](0x23e5+0x1140+-0x351d*0x1);const _0x27bdcd=_0xbdc7ab['readU8']();_0xbdc7ab['skip'](_0x30a03c['dfdByteLen'+'gth']-(-0xdef+-0x68*0x3b+-0x25f*-0x10)),_0xbdc7ab['skip'](_0x30a03c['kvdByteLen'+'gth']),_0xf291ee['supercompr'+'essionSche'+'me']===0x13fc+-0x45c+-0x2b*0x5d||_0x27bdcd===tU['KHR_DF_MOD'+'EL_UASTC']?b0(this['device'],_0x484878['load'],_0x4d869b,_0x26dfa0,{'isGGGR':(((_0xf32899=(_0x963372=(_0x5d13a2=_0x3a3e7d==null?void(0x147e+0xda1+-0x221f*0x1):_0x3a3e7d['file'])==null?void(-0x1973+-0x1d86+0x36f9):_0x5d13a2['variants'])==null?void(-0x1efb+0x79*-0xb+-0x2*-0x1217):_0x963372['basis'])==null?void(0xdbe*0x1+-0x312*-0x6+0x1015*-0x2):_0xf32899['opt'])&0xe68*-0x1+0x24db+0x1*-0x166b)!==-0x1a65+-0x5*0x1b9+0x2302,'isKTX2':!(0x22f8+0x2417+0x1*-0x470f)})||_0x26dfa0('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x3a3e7d['name']+']('+_0x3a3e7d['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x26dfa0('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class iU extends eo{constructor(_0xa3a1e7){super(),this['maxRetries']=0x224d+0x1689+-0x38d6;}['load'](_0x4e7ba0,_0x4838f3,_0x2bf763){pe['fetchArray'+'Buffer'](_0x4e7ba0['load'],_0x4838f3,_0x2bf763,this['maxRetries']);}['open'](_0x3726b5,_0x2de488,_0x3ff16b,_0xf0845b={}){const _0x106a15=new Uint32Array(_0x2de488,0x156e*0x1+-0x2*0x16+-0x1542,-0xf58+0x130+0x392*0x4),_0x12bc22=_0x106a15[-0x1*0x1d06+-0x3cf+0x20d9],_0xd9c1d=_0x106a15[-0x6bf+-0x2391+-0x877*-0x5],_0x2130a1=Math['max'](_0x106a15[0xde*-0xe+0x6f4+0x10b*0x5],-0x19*0x157+0x6*-0x499+-0x7*-0x8ba),_0x2e95b1=_0x106a15[0x220f*-0x1+-0x778*-0x4+0x443]===0x21d2+0x2259*0x1+-0xef*0x49,_0x82fc73=_0x106a15[-0x523*0x1+0x1*-0x13cf+-0x2b*-0x95],_0x39f92f=_0x106a15[0x2c2*-0xd+-0x444+0x53*0x7c],_0x54f6ea=_0x106a15[0x153f+0x1435+-0x2958]===-0x13643*0x1+0x772*0x2+-0x2255f*-0x1,_0x52e675=-0x2ce44516+0x1615278b*0x1+-0xa88e7*-0x6d9,_0xd391d0=0x137904e5*-0x1+0x1c941ef*0x38+-0x1b390f1f,_0x13484e=0x3a*-0x95+-0x3*0x671+0x22*0x193,_0x4f7368=0x14df+-0x19e3+0x578,_0x454463=-0x1*-0x23ca11fd+0x61505c45*0x1+-0x53d719fd,_0x271fc3=-0x89f79*0x4f3+-0x47971e2a+0xa3779455,_0x2b2bb4=-0x1*-0x16a6b853+0xe6b8f3e*-0x1+0x28f9093b,_0x53b3dd=0x1502*0x2823d+-0xb8c3fd1+-0x7*-0x1263461,_0x977fc0=-0x1658c25*-0x13+-0x5f0f9251+0x52*0x16f8a89;let _0x383105=!(0x213+-0x59*-0x25+-0xeef*0x1),_0x3469b7=!(0x2e5*0x1+-0xc94+-0x136*-0x8),_0x3d6977=!(0x1a58+-0x1038+0x1*-0xa1f),_0x47f098=!(0x18cd+0xac7+-0x2393),_0x4c7cca=null,_0x1334d1=0x1*0x15d+0x1564+0x5b*-0x40,_0x14569d;if(_0x2e95b1?_0x82fc73===_0x52e675?(_0x4c7cca=td,_0x383105=!(-0x25*0xb1+-0x1a03+-0x8*-0x673)):_0x82fc73===_0xd391d0?(_0x4c7cca=vl,_0x383105=!(-0x6a8+-0x9d0+-0x4*-0x41e)):_0x82fc73===_0x13484e?(_0x4c7cca=nt,_0x1334d1=0xfa2+0x13ee*-0x1+0x44e):_0x82fc73===_0x4f7368?(_0x4c7cca=Xt,_0x1334d1=0xbbf+-0x1afc+0xf41):_0x82fc73===_0x454463?(_0x4c7cca=id,_0x383105=!(-0x12c1+-0x69c+0x195d),_0x3469b7=!(-0x4*0x8db+0x2594+0x18*-0x17)):_0x82fc73===_0x271fc3||_0x82fc73===_0x2b2bb4?(_0x4c7cca=_0x82fc73===_0x271fc3?xl:Tl,_0x383105=!(-0x1*-0xa31+0x1*-0x1a7a+0x1049),_0x3d6977=!(0x117b+0x222c+0x7*-0x761)):(_0x82fc73===_0x53b3dd||_0x82fc73===_0x977fc0)&&(_0x4c7cca=_0x82fc73===_0x53b3dd?rd:ad,_0x383105=!(-0x1996+-0x15*-0xab+-0xb8f*-0x1),_0x47f098=!(0x164+0x207b+0x12b*-0x1d)):_0x39f92f===-0x22d4+-0x215d+0x4451*0x1&&(_0x4c7cca=Ne),!_0x4c7cca)return w['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x3726b5+'.'),_0x14569d=new _e(_0x3ff16b,{'width':0x4,'height':0x4,'format':Cr,'name':'dds-legacy'+'-empty'}),_0x14569d;_0x14569d=new _e(_0x3ff16b,{'name':_0x3726b5,'profilerHint':Pr,'addressU':_0x54f6ea?ue:yt,'addressV':_0x54f6ea?ue:yt,'width':_0x12bc22,'height':_0xd9c1d,'format':_0x4c7cca,'cubemap':_0x54f6ea,'mipmaps':_0x2130a1>-0x994+-0x9c4+0x1359,..._0xf0845b});let _0x1feaa9=-0x2b*-0x6d+0x10d5*0x1+-0x22a4;const _0x2fe26c=_0x54f6ea?0x20*-0x12a+-0x1ac8*0x1+-0x1*-0x400e:0x36f*-0x1+-0xb3e+0x757*0x2;let _0x3fc0d4;const _0x15316c=-0x5cf*-0x1+-0x2272+0x1ca7,_0x2325cc=0x1a*0x14b+0x86*-0x11+-0x18b4,_0x4d87ee=_0x82fc73===_0x52e675?-0x2d4*0xd+-0x16bc+0x3b88:0xf*0x16b+0x4f*-0x61+0x8ba;let _0x34ed49,_0x1f4fe2,_0x32da94;for(let _0x6ee61f=-0x119+0x4*-0x129+-0x1*-0x5bd;_0x6ee61f<_0x2fe26c;_0x6ee61f++){let _0x10122d=_0x12bc22,_0x48c45e=_0xd9c1d;for(let _0x1236b5=-0x1*-0x1e2f+0x1*-0x8a5+-0x158a;_0x1236b5<_0x2130a1;_0x1236b5++){_0x383105?_0x3469b7?_0x3fc0d4=Math['floor']((_0x10122d+(0x14a3*-0x1+0x8d7+0xbcf))/(0x1d87*-0x1+0x17ba+0x5d1*0x1))*Math['floor']((_0x48c45e+(0x25a+-0x210*-0xf+0x1*-0x2147))/(-0xd6*-0x1f+0x362*0xa+-0xbf2*0x5))*(-0x20c4+0x33*-0x79+0x38e7*0x1):_0x3d6977?_0x3fc0d4=Math['max'](_0x10122d,0x8*0x170+0x1d29+-0x2899)*Math['max'](_0x48c45e,-0x17*-0x101+-0x2015+0x906)/(-0x3*-0x17f+0x1555+-0x12*0x16f):_0x47f098?_0x3fc0d4=Math['max'](_0x10122d,0x995+0x63*-0x4b+-0xf9*-0x14)*Math['max'](_0x48c45e,0xe39+-0x10a0+0x26f)/(-0x2441+-0x11a4+0x35e7):(_0x34ed49=Math['floor']((_0x10122d+_0x15316c-(0x1*0x615+0x2077+0x381*-0xb))/_0x15316c),_0x1f4fe2=Math['floor']((_0x48c45e+_0x2325cc-(0xb3c*-0x3+-0x1*0x16e5+0x389a))/_0x2325cc),_0x32da94=_0x34ed49*_0x1f4fe2,_0x3fc0d4=_0x32da94*_0x4d87ee):_0x3fc0d4=_0x10122d*_0x48c45e*(-0x8a1*0x3+0xa04*-0x2+0x2def);const _0x133031=_0x4c7cca===Xt?new Float32Array(_0x2de488,_0x1feaa9,_0x3fc0d4):_0x4c7cca===nt?new Uint16Array(_0x2de488,_0x1feaa9,_0x3fc0d4):new Uint8Array(_0x2de488,_0x1feaa9,_0x3fc0d4);_0x54f6ea?(_0x14569d['_levels'][_0x1236b5]||(_0x14569d['_levels'][_0x1236b5]=[]),_0x14569d['_levels'][_0x1236b5][_0x6ee61f]=_0x133031):_0x14569d['_levels'][_0x1236b5]=_0x133031,_0x1feaa9+=_0x3fc0d4*_0x1334d1,_0x10122d=Math['max'](_0x10122d*(-0x6*0x1eb+-0x12c0+0x1e42+0.5),-0x110e+-0x1*-0x985+0x78a),_0x48c45e=Math['max'](_0x48c45e*(-0x1281+0x513+0xd6e+0.5),-0x1*-0x56f+-0x5b*0x65+-0x1*-0x1e79);}}return _0x14569d['upload'](),_0x14569d;}}class rU extends eo{constructor(_0x179cca){super(),this['maxRetries']=0x1*0x2048+0x13*-0xe5+-0xf49;}['load'](_0x58a0e6,_0x3444aa,_0x1b1473){pe['fetchArray'+'Buffer'](_0x58a0e6['load'],_0x3444aa,_0x1b1473,this['maxRetries']),_0x1b1473['data']&&!_0x1b1473['data']['type']&&(_0x1b1473['data']['type']=mh);}['open'](_0x564d98,_0x442d97,_0x296ee7,_0x371d29={}){const _0x5d04aa=this['parse'](_0x442d97);if(!_0x5d04aa)return null;const _0x1dda46=new _e(_0x296ee7,{'name':_0x564d98,'profilerHint':Pr,'addressU':yt,'addressV':ue,'minFilter':Te,'magFilter':Te,'width':_0x5d04aa['width'],'height':_0x5d04aa['height'],'levels':_0x5d04aa['levels'],'format':Ne,'type':mh,'mipmaps':!(-0xa7a+-0x1*0xaf9+0x1574),..._0x371d29});return _0x1dda46['upload'](),_0x1dda46;}['parse'](_0x489f8d){const _0x3fb843=new KS(_0x489f8d);if(!_0x3fb843['readLine']()['startsWith']('#?RADIANCE'))return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x4ff0c0={};for(;;){const _0x579b67=_0x3fb843['readLine']();if(_0x579b67['length']===-0xfe6+-0x14ba*0x1+-0x24a*-0x10)break;{const _0x359cfb=_0x579b67['split']('=');_0x359cfb['length']===0x1a7*-0x10+-0x419+0x1e8b*0x1&&(_0x4ff0c0[_0x359cfb[-0x2317+-0x1c*0x39+0x1*0x2953]]=_0x359cfb[-0x1*0x1ef8+0x156*-0x14+0x39b1]);}}if(!_0x4ff0c0['hasOwnProp'+'erty']('FORMAT'))return w['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x598b99=_0x3fb843['readLine']()['split']('\x20');if(_0x598b99['length']!==0x1e73+0x1f90+-0x3dff)return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x348ce0=parseInt(_0x598b99[0x647+0x52d+0x3d1*-0x3],-0x2587+-0x282*0x4+-0x1*-0x2f99),_0x1aa8e3=parseInt(_0x598b99[-0x1eb+0x81c+-0x317*0x2],-0xd79+-0x2289+-0xa*-0x4ce),_0x32b740=this['_readPixel'+'s'](_0x3fb843,_0x1aa8e3,_0x348ce0,_0x598b99[-0x1d25+-0xc25*-0x2+0x4db]==='-Y');return _0x32b740?{'width':_0x1aa8e3,'height':_0x348ce0,'levels':[_0x32b740]}:null;}['_readPixel'+'s'](_0x38a7a5,_0x2370b3,_0x523ff3,_0x18b13f){if(_0x2370b3<0xb9c+-0x25f+-0x935||_0x2370b3>-0x7609+-0x32c2+-0x192*-0xbd)return this['_readPixel'+'sFlat'](_0x38a7a5,_0x2370b3,_0x523ff3);const _0x606546=[-0xf78+0x1*-0x1cca+-0x1*-0x2c42,-0x1f3*0x14+0x1320+0x4*0x4f7,-0xca*0x1b+-0x1*0x5e5+-0xd3*-0x21,0x1*-0x23a1+-0x1ef8+0x4299];if(_0x38a7a5['readArray'](_0x606546),_0x606546[-0x214c+-0x562+0x1357*0x2]!==0x5ca*-0x3+-0x42*-0x43+0x1a||_0x606546[-0x1*-0x105e+0x4b+0x854*-0x2]!==-0x487*-0x5+0x538*0x7+-0x3b29||(_0x606546[0x9*-0xc7+0x2db+0x426*0x1]&0x23c6+0x3*-0xab6+0x43*-0xc)!==-0x19*0x18b+-0x1*-0x17b9+0xeda)return _0x38a7a5['skip'](-(0x383*-0xb+0x1215*0x1+0x1490)),this['_readPixel'+'sFlat'](_0x38a7a5,_0x2370b3,_0x523ff3);const _0x279e78=new ArrayBuffer(_0x2370b3*_0x523ff3*(-0x1eb1+-0x1fb9*-0x1+0x5*-0x34)),_0x5043d2=new Uint8Array(_0x279e78);let _0x556337=_0x18b13f?0x3b8*-0x1+0x1bb9+-0x1801:_0x2370b3*(0x1*0x1235+-0x1404+0x1d3)*(_0x523ff3-(-0xb9*0xd+0xb11+0x1*-0x1ab)),_0x49f7ec,_0x5aa913,_0x57fb4e,_0x56b74e,_0x348893,_0x33602e;for(_0x5aa913=-0x627+0xd4e+-0x727;_0x5aa913<_0x523ff3;++_0x5aa913){if(_0x5aa913&&_0x38a7a5['readArray'](_0x606546),(_0x606546[-0x197b+-0x6d*-0x19+0xed8]<<-0x1d2a+0x8*0x28f+-0x45d*-0x2)+_0x606546[-0x1*-0x1215+-0x16c2+-0x14*-0x3c]!==_0x2370b3)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x56b74e=0x295+-0x1a3*-0x2+0x1*-0x5db;_0x56b74e<-0x2028+-0x65*0x63+0x473b*0x1;++_0x56b74e)for(_0x49f7ec=-0x2*0xef9+-0xb5d+-0x497*-0x9;_0x49f7ec<_0x2370b3;)if(_0x348893=_0x38a7a5['readU8'](),_0x348893>-0x5*0x5cf+-0x1a61+0x2*0x1bf6){if(_0x348893-=-0xcbb+-0x1*-0x124d+-0x512,_0x49f7ec+_0x348893>_0x2370b3)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x33602e=_0x38a7a5['readU8'](),_0x57fb4e=0x6f2+0x17dd+-0x1ecf;_0x57fb4e<_0x348893;++_0x57fb4e)_0x5043d2[_0x556337+_0x56b74e+(-0x19d8+0x1e49+-0x46d)*_0x49f7ec++]=_0x33602e;}else{if(_0x348893===0x1*-0x25d+-0xb5e+0xdbb||_0x49f7ec+_0x348893>_0x2370b3)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x57fb4e=0x2*0x364+-0x1*-0x2c3+-0x98b;_0x57fb4e<_0x348893;++_0x57fb4e)_0x5043d2[_0x556337+_0x56b74e+(-0x2119+0x130f+0x1*0xe0e)*_0x49f7ec++]=_0x38a7a5['readU8']();}_0x556337+=_0x2370b3*(-0x31*-0x9f+-0x1365*0x2+0x85f)*(_0x18b13f?0x14af+0x63d*0x4+-0x213*0x16:-(-0x1b0a*-0x1+0x1e85+-0x398e));}return _0x5043d2;}['_readPixel'+'sFlat'](_0x121b27,_0x6bd8ba,_0x127c0e){return _0x121b27['remainingB'+'ytes']===_0x6bd8ba*_0x127c0e*(-0x1e72+0x1148+-0x697*-0x2)?new Uint8Array(_0x121b27['arraybuffe'+'r'],_0x121b27['offset']):null;}}const TS={'repeat':yt,'clamp':ue,'mirror':ip},wS={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},aU={'default':Ds,'rgbm':Zi,'rgbe':mh,'rgbp':Qo,'swizzleGGGR':Jo},nU=function(_0x15b388){const _0x4c75f4=Xi['calcMipLev'+'elsCount'](_0x15b388['_width'],_0x15b388['_height']),_0x2caf16=function(_0x56da28){return _0x56da28 instanceof HTMLCanvasElement||_0x56da28 instanceof HTMLImageElement||_0x56da28 instanceof HTMLVideoElement;};if(!(_0x15b388['_format']===Ne||_0x15b388['_format']===Xt)||_0x15b388['_volume']||_0x15b388['_compresse'+'d']||_0x15b388['_levels']['length']===-0x1f09+-0x1423+-0x21*-0x18d||_0x15b388['_levels']['length']===_0x4c75f4||_0x2caf16(_0x15b388['_cubemap']?_0x15b388['_levels'][0x15ab+-0x804+-0xda7][-0x1*0x1e2e+-0x1d3*0x6+0x2920]:_0x15b388['_levels'][-0x18e0+0x40f*0x3+0xcb3]))return;const _0x492c6d=function(_0x1ae021,_0x8ec2a,_0x5a6abd){const _0x7540f2=Math['max'](0x1851+0x104c+-0x289c,_0x1ae021>>-0x928+-0xeb4+0x29*0x95),_0x301a7a=Math['max'](-0x6*0x84+0x127*-0x14+0x61*0x45,_0x8ec2a>>-0x56*-0x1a+0x32e*-0x2+-0x25f),_0x53cdef=new _0x5a6abd['constructo'+'r'](_0x7540f2*_0x301a7a*(-0x1f5*0x1+-0x2307+-0x1280*-0x2)),_0x50d722=Math['floor'](_0x1ae021/_0x7540f2),_0x2123ed=Math['floor'](_0x8ec2a/_0x301a7a),_0x32766e=_0x50d722*_0x2123ed;for(let _0x2c8bd1=-0x2*0x949+-0xceb+0x1f7d;_0x2c8bd1<_0x301a7a;++_0x2c8bd1)for(let _0x189817=0x12c1+0xe73+0x64*-0x55;_0x189817<_0x7540f2;++_0x189817)for(let _0x18f0b0=0xd10+-0x619*0x1+0x1*-0x6f7;_0x18f0b0<0x27d*0x1+-0x16*0xcc+0x303*0x5;++_0x18f0b0){let _0x2b3bb6=0x9*0x133+-0x2535+0x1a6a;for(let _0x50b00b=-0x32*0x8b+-0x1bb0+-0x36d6*-0x1;_0x50b00b<_0x2123ed;++_0x50b00b)for(let _0x254287=-0x640+0xf4f*0x1+-0x90f;_0x254287<_0x50d722;++_0x254287)_0x2b3bb6+=_0x5a6abd[(_0x189817*_0x50d722+_0x254287+(_0x2c8bd1*_0x2123ed+_0x50b00b)*_0x1ae021)*(0x2*-0x6fd+0xa61+0x39d)+_0x18f0b0];_0x53cdef[(_0x189817+_0x2c8bd1*_0x7540f2)*(-0x20b7+0x1d96+0x325)+_0x18f0b0]=_0x2b3bb6/_0x32766e;}return _0x53cdef;};for(let _0x1eba11=_0x15b388['_levels']['length'];_0x1eba11<_0x4c75f4;++_0x1eba11){const _0x2c6e70=Math['max'](-0x851+-0xd29+-0x2f*-0x75,_0x15b388['_width']>>_0x1eba11-(0x231a*0x1+-0x1a1e+-0xd1*0xb)),_0x4f7caa=Math['max'](-0xc6e+-0x1*0x83a+0x2b*0x7b,_0x15b388['_height']>>_0x1eba11-(-0xeed+-0x1*-0x41+-0xd*-0x121));if(_0x15b388['_cubemap']){const _0x4ce3ca=[];for(let _0x4a5191=0x2236+0x1*-0x5c6+0xe*-0x208;_0x4a5191<0x1*-0x22a7+-0x19c1+0x3c6e;++_0x4a5191)_0x4ce3ca['push'](_0x492c6d(_0x2c6e70,_0x4f7caa,_0x15b388['_levels'][_0x1eba11-(0xcd*-0xb+-0x9d6+0x12a6)][_0x4a5191]));_0x15b388['_levels']['push'](_0x4ce3ca);}else _0x15b388['_levels']['push'](_0x492c6d(_0x2c6e70,_0x4f7caa,_0x15b388['_levels'][_0x1eba11-(-0x19bc+-0x1454+0x2e11)]));}_0x15b388['_levelsUpd'+'ated']=_0x15b388['_cubemap']?[[!(-0x10*0x1dc+-0xc30+0x29f0),!(-0x116b+0x1531+-0x3c6),!(-0xd23*0x1+0x90*-0x1b+-0x1c53*-0x1),!(-0x989+-0x6d*-0xd+0x400),!(0x3*0x837+0xf7d+-0x2822),!(0xb9e+0x199*0x8+-0x1866)]]:[!(-0x10d9+0x4f*-0x1f+0x1a6a)];};class oU extends Qe{constructor(_0x53a71b){super(_0x53a71b,'texture');const _0x293f28=_0x53a71b['assets'],_0x555b7a=_0x53a71b['graphicsDe'+'vice'];this['_device']=_0x555b7a,this['_assets']=_0x293f28,this['imgParser']=new Zk(_0x293f28,_0x555b7a),this['parsers']={'dds':new iU(_0x293f28),'ktx':new eU(_0x293f28),'ktx2':new sU(_0x293f28,_0x555b7a),'basis':new qk(_0x293f28,_0x555b7a),'hdr':new rU(_0x293f28)};}set['crossOrigi'+'n'](_0x31e4fe){this['imgParser']['crossOrigi'+'n']=_0x31e4fe;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x338cc3){this['imgParser']['maxRetries']=_0x338cc3;for(const _0x51fc4e in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x51fc4e)&&(this['parsers'][_0x51fc4e]['maxRetries']=_0x338cc3);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x209158){return _0x209158['indexOf']('?')>=-0x1*0x48d+-0x23dd*-0x1+-0x3ea*0x8?_0x209158['split']('?')[-0x1c3*-0xd+0x5*0x283+-0x2376]:_0x209158;}['_getParser'](_0x23e3e1){const _0x18f3c5=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x23e3e1))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x18f3c5]||this['imgParser'];}['_getTextur'+'eOptions'](_0x307bf3){var _0x248c96;const _0x10c75d={'profilerHint':Pr};if(_0x307bf3){((_0x248c96=_0x307bf3['name'])==null?void(0x2*-0x288+-0xcb4+0x11c4):_0x248c96['length'])>-0x2673+-0x1d0d+0x180*0x2d&&(_0x10c75d['name']=_0x307bf3['name']);const _0x20903d=_0x307bf3['data'];_0x20903d['hasOwnProp'+'erty']('minfilter')&&(_0x10c75d['minFilter']=wS[_0x20903d['minfilter']]),_0x20903d['hasOwnProp'+'erty']('magfilter')&&(_0x10c75d['magFilter']=wS[_0x20903d['magfilter']]),_0x20903d['hasOwnProp'+'erty']('addressu')&&(_0x10c75d['addressU']=TS[_0x20903d['addressu']]),_0x20903d['hasOwnProp'+'erty']('addressv')&&(_0x10c75d['addressV']=TS[_0x20903d['addressv']]),_0x20903d['hasOwnProp'+'erty']('mipmaps')&&(_0x10c75d['mipmaps']=_0x20903d['mipmaps']),_0x20903d['hasOwnProp'+'erty']('anisotropy')&&(_0x10c75d['anisotropy']=_0x20903d['anisotropy']),_0x20903d['hasOwnProp'+'erty']('flipY')&&(_0x10c75d['flipY']=!!_0x20903d['flipY']),_0x20903d['hasOwnProp'+'erty']('srgb')&&(_0x10c75d['srgb']=!!_0x20903d['srgb']),_0x10c75d['type']=Ds,_0x20903d['hasOwnProp'+'erty']('type')?_0x10c75d['type']=aU[_0x20903d['type']]:_0x20903d['hasOwnProp'+'erty']('rgbm')&&_0x20903d['rgbm']?_0x10c75d['type']=Zi:_0x307bf3['file']&&(_0x307bf3['file']['opt']&0x23dc+-0x1ffa+-0x3da)!==-0x1f53+-0x15d1+0x3524&&(_0x10c75d['type']=Jo);}return _0x10c75d;}['load'](_0x5c3866,_0x4e9a1e,_0x3f530f){typeof _0x5c3866=='string'&&(_0x5c3866={'load':_0x5c3866,'original':_0x5c3866}),this['_getParser'](_0x5c3866['original'])['load'](_0x5c3866,_0x4e9a1e,_0x3f530f);}['open'](_0x2b4f52,_0x1ad87a,_0x399046){if(!_0x2b4f52)return;const _0x49ea64=this['_getTextur'+'eOptions'](_0x399046);let _0x3baf53=this['_getParser'](_0x2b4f52)['open'](_0x2b4f52,_0x1ad87a,this['_device'],_0x49ea64);return _0x3baf53===null?_0x3baf53=new _e(this['_device'],{'width':0x4,'height':0x4,'format':Cr}):(nU(_0x3baf53),_0x1ad87a['unswizzled'+'GGGR']&&(_0x399046['file']['variants']['basis']['opt']&=-(-0x3*-0xa8b+-0x266a+0x6d2))),_0x3baf53;}['patch'](_0x546eaa,_0x27ac65){const _0x1604f9=_0x546eaa['resource'];if(!_0x1604f9)return;const _0x5cb823=this['_getTextur'+'eOptions'](_0x546eaa);for(const _0x523cd8 of Object['keys'](_0x5cb823))_0x1604f9[_0x523cd8]=_0x5cb823[_0x523cd8];}}const lU='inline',cU='immersive-'+'vr',$o='immersive-'+'ar',ES='viewer',hU='left',dU='cpu-optimi'+'zed',P0='gpu-optimi'+'zed',M0='luminance-'+'alpha',D0='unsigned-s'+'hort',I0='float32';class fU{constructor(_0x24fb39){h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRDOMOverl'+'ayState']),h(this,'_root',null),this['_manager']=_0x24fb39;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x3e8e44){!this['_supported']||this['_manager']['active']||(this['_root']=_0x3e8e44);}get['root'](){return this['_root'];}}const Rc=[],bS=[];class ju extends me{constructor(_0x2046f8,_0x2f1b90,_0x30e477,_0x423d87=null){super(),h(this,'manager'),h(this,'_xrHitTest'+'Source'),h(this,'_transient'),h(this,'_inputSour'+'ce'),(this['manager']=_0x2046f8,this['_xrHitTest'+'Source']=_0x2f1b90,this['_transient']=_0x30e477,this['_inputSour'+'ce']=_0x423d87);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x23a945=this['manager']['hitTest']['sources'],_0x4325fa=_0x23a945['indexOf'](this);_0x4325fa!==-(-0x201e+0x13ee+-0xc31*-0x1)&&_0x23a945['splice'](_0x4325fa,-0x129c+-0xb96+-0x35b*-0x9),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x2a9215){if(this['_transient']){const _0x1bed1f=_0x2a9215['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x24f19a=0xc8*-0x17+0x1bb6+-0x9be;_0x24f19a<_0x1bed1f['length'];_0x24f19a++){const _0x1dbb6a=_0x1bed1f[_0x24f19a];if(!_0x1dbb6a['results']['length'])continue;let _0x674b14;_0x1dbb6a['inputSourc'+'e']&&(_0x674b14=this['manager']['input']['_getByInpu'+'tSource'](_0x1dbb6a['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x1dbb6a['results'],_0x674b14);}}else{const _0x1a4cc0=_0x2a9215['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x1a4cc0['length'])return;this['updateHitR'+'esults'](_0x1a4cc0);}}['updateHitR'+'esults'](_0x59f210,_0x3e070d){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x3e070d)return;const _0x457310=Rc['pop']()??new D();_0x3e070d?_0x457310['copy'](_0x3e070d['getOrigin']()):_0x457310['copy'](this['manager']['camera']['getPositio'+'n']());let _0x44415a=(0x20b*-0xb+-0x1a9*-0x1+-0x1*-0x14d1)/(0x43*-0x4d+0x15ea+-0x1c3*0x1),_0x4b7afe=null;const _0x11a2ba=Rc['pop']()??new D(),_0x5d5f63=bS['pop']()??new le();for(let _0x152136=0x34*0x42+0xd4*0x8+-0x1408;_0x152136<_0x59f210['length'];_0x152136++){const _0x4435c1=_0x59f210[_0x152136]['getPose'](this['manager']['_reference'+'Space']),_0xacecb2=_0x457310['distance'](_0x4435c1['transform']['position']);_0xacecb2>=_0x44415a||(_0x44415a=_0xacecb2,_0x4b7afe=_0x59f210[_0x152136],_0x11a2ba['copy'](_0x4435c1['transform']['position']),_0x5d5f63['copy'](_0x4435c1['transform']['orientatio'+'n']));}this['fire']('result',_0x11a2ba,_0x5d5f63,_0x3e070d||this['_inputSour'+'ce'],_0x4b7afe),this['manager']['hitTest']['fire']('result',this,_0x11a2ba,_0x5d5f63,_0x3e070d||this['_inputSour'+'ce'],_0x4b7afe),Rc['push'](_0x457310),Rc['push'](_0x11a2ba),bS['push'](_0x5d5f63);}}h(ju,'EVENT_REMO'+'VE','remove'),h(ju,'EVENT_RESU'+'LT','result');class jr extends me{constructor(_0x26e7e8){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),h(this,'_available',!(0x1e0a+-0x1*0xbb9+-0x4*0x494)),h(this,'_checkingA'+'vailabilit'+'y',!(0x268a+0x56b*0x3+-0x36ca)),h(this,'sources',[]),(this['manager']=_0x26e7e8,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x5aa95d=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(0x2622+0x3a6*0x5+-0x385f);if(!_0x5aa95d)return;this['_available']=_0x5aa95d,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(0x125f+0x1c21+0x10*-0x2e8),this['manager']['session']['requestRef'+'erenceSpac'+'e'](ES)['then'](_0x4699f8=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x4699f8})['then'](_0x306526=>{_0x306526['cancel'](),this['manager']['active']&&(this['_available']=!(0x455*0x7+0x11dd+-0x3030),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0xd*-0x13b+-0xe03+0xd*-0x27);for(let _0x1fa1a8=-0x4*-0x785+0x19f1+-0x3805*0x1;_0x1fa1a8<this['sources']['length'];_0x1fa1a8++)this['sources'][_0x1fa1a8]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x5369f6={}){var _0xf9e258,_0x4fd386;if(!this['_supported']){(_0xf9e258=_0x5369f6['callback'])==null||_0xf9e258['call'](_0x5369f6,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x4fd386=_0x5369f6['callback'])==null||_0x4fd386['call'](_0x5369f6,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x5369f6['profile']&&!_0x5369f6['spaceType']&&(_0x5369f6['spaceType']=ES);let _0x8b6859;const _0xe25ddc=_0x5369f6['offsetRay'];if(_0xe25ddc){const _0x5d4978=new DOMPoint(_0xe25ddc['origin']['x'],_0xe25ddc['origin']['y'],_0xe25ddc['origin']['z'],-0xd15+-0x18da*0x1+0x25f0),_0x2df704=new DOMPoint(_0xe25ddc['direction']['x'],_0xe25ddc['direction']['y'],_0xe25ddc['direction']['z'],-0x708+-0x261f+-0x3*-0xf0d);_0x8b6859=new XRRay(_0x5d4978,_0x2df704);}const _0x2abf4d=_0x5369f6['callback'];_0x5369f6['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x5369f6['spaceType'])['then'](_0x21fa6c=>{if(!this['manager']['session']){const _0x552b80=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x2abf4d&&_0x2abf4d(_0x552b80),this['fire']('error',_0x552b80);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x21fa6c,'entityTypes':_0x5369f6['entityType'+'s']||void(-0x98e*-0x4+0x17ba*-0x1+-0xa*0x173),'offsetRay':_0x8b6859})['then'](_0xbc8c9b=>{this['_onHitTest'+'Source'](_0xbc8c9b,!(0x24e3+-0x1b5+-0x232d),_0x5369f6['inputSourc'+'e'],_0x2abf4d);})['catch'](_0x20141b=>{_0x2abf4d&&_0x2abf4d(_0x20141b),this['fire']('error',_0x20141b);});})['catch'](_0x858981=>{_0x2abf4d&&_0x2abf4d(_0x858981),this['fire']('error',_0x858981);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x5369f6['profile'],'entityTypes':_0x5369f6['entityType'+'s']||void(0x26d2*0x1+0x1f14+-0x30a*0x17),'offsetRay':_0x8b6859})['then'](_0x1c3082=>{this['_onHitTest'+'Source'](_0x1c3082,!(0xa*0x2a0+0x11d5+0xb9*-0x3d),_0x5369f6['inputSourc'+'e'],_0x2abf4d);})['catch'](_0x20d411=>{_0x2abf4d&&_0x2abf4d(_0x20d411),this['fire']('error',_0x20d411);});}['_onHitTest'+'Source'](_0x30e5fc,_0x550b5a,_0x4f4e36,_0x950067){if(!this['manager']['session']){_0x30e5fc['cancel']();const _0x26ed00=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x950067&&_0x950067(_0x26ed00),this['fire']('error',_0x26ed00);return;}const _0x41597d=new ju(this['manager'],_0x30e5fc,_0x550b5a,_0x4f4e36??null);this['sources']['push'](_0x41597d),_0x950067&&_0x950067(null,_0x41597d),this['fire']('add',_0x41597d);}['update'](_0x486bde){if(this['_available']){for(let _0x1fd882=0x16da+-0x1*-0xfe5+-0x26bf;_0x1fd882<this['sources']['length'];_0x1fd882++)this['sources'][_0x1fd882]['update'](_0x486bde);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}h(jr,'EVENT_AVAI'+'LABLE','available'),h(jr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(jr,'EVENT_ADD','add'),h(jr,'EVENT_REMO'+'VE','remove'),h(jr,'EVENT_RESU'+'LT','result'),h(jr,'EVENT_ERRO'+'R','error');class Yu extends me{constructor(_0x33a12b,_0x14f88b){super(),h(this,'_image'),h(this,'_width'),h(this,'_bitmap',null),h(this,'_measuredW'+'idth',0x1ac9+0x2380+-0x3e49),h(this,'_trackable',!(0x1*0x773+0x741+-0xeb3)),h(this,'_tracking',!(0x2319+-0x9c8+-0x1950)),h(this,'_emulated',!(-0x121c+-0x87c+0x1a99)),h(this,'_pose',null),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_image']=_0x33a12b,this['_width']=_0x14f88b);}get['image'](){return this['_image'];}set['width'](_0x357324){this['_width']=_0x357324;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x531fbf=>(this['_bitmap']=_0x531fbf,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}h(Yu,'EVENT_TRAC'+'KED','tracked'),h(Yu,'EVENT_UNTR'+'ACKED','untracked');class L0 extends me{constructor(_0x4d84ce){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),h(this,'_available',!(0x2e3*0x6+0x55e+-0x16af)),h(this,'_images',[]),(this['_manager']=_0x4d84ce,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x273a34,_0x419919){if(!this['_supported']||this['_manager']['active'])return null;const _0xb2cb6a=new Yu(_0x273a34,_0x419919);return this['_images']['push'](_0xb2cb6a),_0xb2cb6a;}['remove'](_0x41af5f){if(this['_manager']['active'])return;const _0x35a0d5=this['_images']['indexOf'](_0x41af5f);_0x35a0d5!==-(0xc7*-0x11+-0xe84+-0x5*-0x58c)&&(_0x41af5f['destroy'](),this['_images']['splice'](_0x35a0d5,0x26c3+0x1*-0x112e+0x565*-0x4));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x4a64c0=>{this['_available']=!(0x1*0x75b+0x78a+-0x29*0x5d);for(let _0x31ba86=-0x1061*0x2+0xaed+0x15d5*0x1;_0x31ba86<_0x4a64c0['length'];_0x31ba86++)this['_images'][_0x31ba86]['_trackable']=_0x4a64c0[_0x31ba86]==='trackable';})['catch'](_0x1ad9e7=>{this['_available']=!(-0x26ed+0x8*-0x1d3+-0x1a*-0x20f),this['fire']('error',_0x1ad9e7);});}['_onSession'+'End'](){this['_available']=!(-0x2e*-0x35+-0x25c2+0x1*0x1c3d);for(let _0x1e9c16=0xe*-0xd7+-0x13c4+0x1f86;_0x1e9c16<this['_images']['length'];_0x1e9c16++){const _0x479677=this['_images'][_0x1e9c16];_0x479677['_pose']=null,_0x479677['_measuredW'+'idth']=0xdf*0x1c+-0x1052*-0x2+-0xb68*0x5,_0x479677['_tracking']&&(_0x479677['_tracking']=!(0x142c+0x2439*-0x1+-0x55a*-0x3),_0x479677['fire']('untracked'));}}['prepareIma'+'ges'](_0x559e6c){this['_images']['length']?Promise['all'](this['_images']['map'](_0x2b872f=>_0x2b872f['prepare']()))['then'](_0x4ee08a=>{_0x559e6c(null,_0x4ee08a);})['catch'](_0x2ee652=>{_0x559e6c(_0x2ee652,null);}):_0x559e6c(null,null);}['update'](_0x1b2832){if(!this['_available'])return;const _0x29c9fc=_0x1b2832['getImageTr'+'ackingResu'+'lts'](),_0x2f7497={};for(let _0x424e55=0x1*0x1d9f+-0xe2*0xb+-0x13e9;_0x424e55<_0x29c9fc['length'];_0x424e55++){_0x2f7497[_0x29c9fc[_0x424e55]['index']]=_0x29c9fc[_0x424e55];const _0x7524f1=this['_images'][_0x29c9fc[_0x424e55]['index']];_0x7524f1['_emulated']=_0x29c9fc[_0x424e55]['trackingSt'+'ate']==='emulated',_0x7524f1['_measuredW'+'idth']=_0x29c9fc[_0x424e55]['measuredWi'+'dthInMeter'+'s'],_0x7524f1['_pose']=_0x1b2832['getPose'](_0x29c9fc[_0x424e55]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x469113=0xe67*-0x1+0x187b+-0xa14;_0x469113<this['_images']['length'];_0x469113++)this['_images'][_0x469113]['_tracking']&&!_0x2f7497[_0x469113]?(this['_images'][_0x469113]['_tracking']=!(-0x16d7+0x486+-0x1*-0x1252),this['_images'][_0x469113]['fire']('untracked')):!this['_images'][_0x469113]['_tracking']&&_0x2f7497[_0x469113]&&(this['_images'][_0x469113]['_tracking']=!(0x109e+0x1*-0x1a5c+0x9be),this['_images'][_0x469113]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}h(L0,'EVENT_ERRO'+'R','error');class uU{constructor(_0x2174de,_0x5153df){h(this,'_index'),h(this,'_hand'),h(this,'_joints',[]),h(this,'_tip',null),(this['_index']=_0x2174de,this['_hand']=_0x5153df,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const AS=Ae['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],R0={};for(let l=0x5*-0x6bf+-0x6c3*-0x3+0xd72;l<AS['length'];l++)R0[AS[l]]=!(-0x1f5d+0x10d8+0xe85);class CS{constructor(_0x5cabf7,_0x5a889c,_0xd485e2,_0x3f8dc8=null){h(this,'_index'),h(this,'_id'),h(this,'_hand'),h(this,'_finger'),h(this,'_wrist'),h(this,'_tip'),h(this,'_radius',null),h(this,'_localTran'+'sform',new te()),h(this,'_worldTran'+'sform',new te()),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_dirtyLoca'+'l',!(0x17db+0x179*0xd+0x2*-0x1580)),(this['_index']=_0x5cabf7,this['_id']=_0x5a889c,this['_hand']=_0xd485e2,this['_finger']=_0x3f8dc8,this['_wrist']=_0x5a889c==='wrist',this['_tip']=this['_finger']&&!!R0[_0x5a889c]);}['update'](_0x52e07c){this['_dirtyLoca'+'l']=!(0x561+0x10c0*0x2+-0x1*0x26e1),this['_radius']=_0x52e07c['radius'],this['_localPosi'+'tion']['copy'](_0x52e07c['transform']['position']),this['_localRota'+'tion']['copy'](_0x52e07c['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x641+-0x1*0x11+0x653),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x15a819=this['_hand']['_manager']['camera']['parent'];_0x15a819?this['_worldTran'+'sform']['mul2'](_0x15a819['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||0xd9e+0x1303+-0x20a1+0.005;}}let rh=[];const Wr=new D(),Oc=new D(),PS=new D();Ae['browser']&&window['XRHand']&&(rh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Ku extends me{constructor(_0x1ede7e){super(),h(this,'_manager'),h(this,'_inputSour'+'ce'),h(this,'_tracking',!(-0x3*-0x1f7+0x1*-0xc87+0x6a3*0x1)),h(this,'_fingers',[]),h(this,'_joints',[]),h(this,'_jointsByI'+'d',{}),h(this,'_tips',[]),h(this,'_wrist',null);const _0x24f6b4=_0x1ede7e['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x1ede7e['_manager'],this['_inputSour'+'ce']=_0x1ede7e,_0x24f6b4['get']('wrist')){const _0x3ad51f=new CS(-0xf34+0x1f1+0xd43,'wrist',this,null);this['_wrist']=_0x3ad51f,this['_joints']['push'](_0x3ad51f),this['_jointsByI'+'d']['wrist']=_0x3ad51f;}for(let _0x1f9027=-0x24d6+-0x1*0x1eb6+-0x21c6*-0x2;_0x1f9027<rh['length'];_0x1f9027++){const _0x50762f=new uU(_0x1f9027,this);for(let _0x4549bf=-0x10b+-0xd76*0x1+0xe81;_0x4549bf<rh[_0x1f9027]['length'];_0x4549bf++){const _0x40c7af=rh[_0x1f9027][_0x4549bf];if(!_0x24f6b4['get'](_0x40c7af))continue;const _0x50e4d8=new CS(_0x4549bf,_0x40c7af,this,_0x50762f);this['_joints']['push'](_0x50e4d8),this['_jointsByI'+'d'][_0x40c7af]=_0x50e4d8,_0x50e4d8['tip']&&(this['_tips']['push'](_0x50e4d8),_0x50762f['_tip']=_0x50e4d8),_0x50762f['_joints']['push'](_0x50e4d8);}}}['update'](_0xa33703){const _0x5a3015=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x35262e=-0xb03+-0x1970+0x2473;_0x35262e<this['_joints']['length'];_0x35262e++){const _0x40491b=this['_joints'][_0x35262e],_0x5c9263=_0x5a3015['hand']['get'](_0x40491b['_id']);if(_0x5c9263){let _0x559277;if(_0xa33703['session']['visibility'+'State']!=='hidden'&&(_0x559277=_0xa33703['getJointPo'+'se'](_0x5c9263,this['_manager']['_reference'+'Space'])),_0x559277)_0x40491b['update'](_0x559277),_0x40491b['wrist']&&!this['_tracking']&&(this['_tracking']=!(-0x12*0x162+-0xe46+0x2*0x1395),this['fire']('tracking'));else{if(_0x40491b['wrist']){this['_tracking']&&(this['_tracking']=!(0x15b6+-0xa75*-0x1+-0x202a),this['fire']('trackinglo'+'st'));break;}}}}const _0x22089a=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x125fc6=this['_jointsByI'+'d']['thumb-tip'],_0x5ef5a5=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x1ce409=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0xac1562=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x5157c0=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x22089a&&_0x125fc6&&_0x5ef5a5&&_0x1ce409&&_0xac1562&&_0x5157c0){this['_inputSour'+'ce']['_dirtyRay']=!(-0x13*-0x16+0x231f+-0x24c1),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x125fc6['_localPosi'+'tion'],_0x1ce409['_localPosi'+'tion'],0xc5f+-0x1*-0xf35+-0x1b94+0.5);let _0x1dced4=_0x22089a,_0x599fe5=_0x5157c0;if(this['_inputSour'+'ce']['handedness']===hU){const _0x1e87c8=_0x1dced4;_0x1dced4=_0x599fe5,_0x599fe5=_0x1e87c8;}Wr['sub2'](_0x1dced4['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Oc['sub2'](_0x599fe5['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),PS['cross'](Wr,Oc)['normalize'](),Wr['lerp'](_0x5ef5a5['_localPosi'+'tion'],_0xac1562['_localPosi'+'tion'],0x19aa+0xbb*-0x1d+-0x47b+0.5),Wr['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](PS,Wr,-0x12f7*0x1+0x4f2+0x1*0xe05+0.5)['normalize']();}this['_fingerIsC'+'losed'](-0x24d0+0x1*-0x24d9+-0x7*-0xa86)&&this['_fingerIsC'+'losed'](0x681+0xbb2*0x3+0x5*-0x851)&&this['_fingerIsC'+'losed'](-0x5*0x1dd+-0x64c+-0x1f4*-0x8)&&this['_fingerIsC'+'losed'](-0x246c+0x1f*0x72+0x16a2)?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(0x1*-0x11f+0x2478+0x2359*-0x1),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(0x1f33*0x1+-0x1*-0x1682+-0x35b4),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingerIsC'+'losed'](_0x1de8b8){const _0x3cce00=this['_fingers'][_0x1de8b8];return Wr['sub2'](_0x3cce00['joints'][0x15+-0x2615+0x2600]['_localPosi'+'tion'],_0x3cce00['joints'][0x1cc9+-0x2f*0x7f+-0x1*0x577]['_localPosi'+'tion'])['normalize'](),Oc['sub2'](_0x3cce00['joints'][-0x124b+0x1895+-0x648]['_localPosi'+'tion'],_0x3cce00['joints'][-0x1042+0x1368+0x1*-0x323]['_localPosi'+'tion'])['normalize'](),Wr['dot'](Oc)<-(0x2237*-0x1+-0xb3*-0x3+0x201e+0.8);}['getJointBy'+'Id'](_0x45548e){return this['_jointsByI'+'d'][_0x45548e]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}h(Ku,'EVENT_TRAC'+'KING','tracking'),h(Ku,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const MS=new D(),DS=new le();let pU=0x1868*0x1+-0xd96+0x569*-0x2;class Qt extends me{constructor(_0x3a1b74,_0x35194e){super(),h(this,'_id'),h(this,'_manager'),h(this,'_xrInputSo'+'urce'),h(this,'_ray',new Dn()),h(this,'_rayLocal',new Dn()),h(this,'_grip',!(-0x26a3+0x779+0x4f*0x65)),h(this,'_hand',null),h(this,'_velocitie'+'sAvailable',!(-0x78e+-0xe*0x14b+0x19a9)),h(this,'_velocitie'+'sTimestamp',de()),h(this,'_localTran'+'sform',null),h(this,'_worldTran'+'sform',null),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_localPosi'+'tion',null),h(this,'_localPosi'+'tionLast',null),h(this,'_localRota'+'tion',null),h(this,'_linearVel'+'ocity',null),h(this,'_dirtyLoca'+'l',!(-0x86*-0x10+-0x4*-0x847+-0x1*0x297c)),h(this,'_dirtyRay',!(-0xe*-0x17c+0x1328+-0x27ef)),h(this,'_selecting',!(-0x1776+-0x598+0x1d0f)),h(this,'_squeezing',!(0x4*-0x71f+0x1417*-0x1+0x3094)),h(this,'_elementIn'+'put',!(0x5*-0x185+0x1921*-0x1+0x20ba)),h(this,'_elementEn'+'tity',null),h(this,'_hitTestSo'+'urces',[]),(this['_id']=++pU,this['_manager']=_0x3a1b74,this['_xrInputSo'+'urce']=_0x35194e,_0x35194e['hand']&&(this['_hand']=new Ku(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x4ba5d1){this['_elementIn'+'put']!==_0x4ba5d1&&(this['_elementIn'+'put']=_0x4ba5d1,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x2f76ac){if(this['_hand'])this['_hand']['update'](_0x2f76ac);else{const _0x22158b=this['_xrInputSo'+'urce']['gripSpace'];if(_0x22158b){const _0x337d49=_0x2f76ac['getPose'](_0x22158b,this['_manager']['_reference'+'Space']);if(_0x337d49){this['_grip']||(this['_grip']=!(0x219c+-0x1df2+0xe*-0x43),this['_localTran'+'sform']=new te(),this['_worldTran'+'sform']=new te(),this['_localPosi'+'tionLast']=new D(),this['_localPosi'+'tion']=new D(),this['_localRota'+'tion']=new le(),this['_linearVel'+'ocity']=new D());const _0x1b3505=de(),_0x119c72=(_0x1b3505-this['_velocitie'+'sTimestamp'])/(-0x9*-0xc1+0xb50+-0x15*0xad);this['_velocitie'+'sTimestamp']=_0x1b3505,this['_dirtyLoca'+'l']=!(-0x19c5*-0x1+0x1e05*-0x1+0x440),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x337d49['transform']['position']),this['_localRota'+'tion']['copy'](_0x337d49['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(0x4*0x746+0x10a3+0x17*-0x1fd),this['_manager']['input']['velocities'+'Supported']&&_0x337d49['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x337d49['linearVelo'+'city']):_0x119c72>-0x20e8+0xdcf+0x1319&&(MS['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x119c72),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],MS,-0x565*0x6+-0xc89*-0x1+-0x13d5*-0x1+0.15));}else this['_velocitie'+'sAvailable']=!(-0x1*-0x126d+0x1c10+-0x2e7c);}const _0x22b541=_0x2f76ac['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x22b541&&(this['_dirtyRay']=!(0xfce+0x4*-0x10f+-0xb92),this['_rayLocal']['origin']['copy'](_0x22b541['transform']['position']),this['_rayLocal']['direction']['set'](-0x18f2+-0x29d+0x1b8f*0x1,0x1d*0x10c+-0x9e2+0x1*-0x147a,-(0x69b+0xb5*0x27+0xd*-0x2a1)),DS['copy'](_0x22b541['transform']['orientatio'+'n']),DS['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x25b2+0x2663+-0xb0),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x5a5a1e=this['_manager']['camera']['parent'];_0x5a5a1e?this['_worldTran'+'sform']['mul2'](_0x5a5a1e['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x3cd07d=this['_dirtyRay'];if(this['_dirtyRay']=!(-0x5*-0x3c1+0x11*0x197+-0x2dcb),this['_manager']['camera']['parent']){const _0x2886a6=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x2886a6['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x2886a6),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x3cd07d&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x561d80={}){_0x561d80['inputSourc'+'e']=this,_0x561d80['profile']=this['_xrInputSo'+'urce']['profiles'][-0x3*0x322+0x1*-0x2209+0x2b6f*0x1];const _0x2bd63e=_0x561d80['callback'];_0x561d80['callback']=(_0x8f32bd,_0x64ea32)=>{_0x64ea32&&this['onHitTestS'+'ourceAdd'](_0x64ea32),_0x2bd63e&&_0x2bd63e(_0x8f32bd,_0x64ea32);},this['_manager']['hitTest']['start'](_0x561d80);}['onHitTestS'+'ourceAdd'](_0x476099){this['_hitTestSo'+'urces']['push'](_0x476099),this['fire']('hittest:ad'+'d',_0x476099),_0x476099['on']('result',(_0x169cbc,_0x40a790,_0x573127,_0x5c721e)=>{_0x573127===this&&this['fire']('hittest:re'+'sult',_0x476099,_0x169cbc,_0x40a790,_0x5c721e);}),_0x476099['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x476099),this['fire']('hittest:re'+'move',_0x476099);});}['onHitTestS'+'ourceRemov'+'e'](_0x21d943){const _0x278dc1=this['_hitTestSo'+'urces']['indexOf'](_0x21d943);_0x278dc1!==-(0x167*0x13+-0x18b7+-0x1ed)&&this['_hitTestSo'+'urces']['splice'](_0x278dc1,-0x15c8*-0x1+-0x6b9*0x1+-0x1*0xf0e);}}h(Qt,'EVENT_REMO'+'VE','remove'),h(Qt,'EVENT_SELE'+'CT','select'),h(Qt,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Qt,'EVENT_SELE'+'CTEND','selectend'),h(Qt,'EVENT_SQUE'+'EZE','squeeze'),h(Qt,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Qt,'EVENT_SQUE'+'EZEEND','squeezeend'),h(Qt,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),h(Qt,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),h(Qt,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class Li extends me{constructor(_0x4e600e){var _0x1a994a,_0x17a0e7;super(),h(this,'manager'),h(this,'_inputSour'+'ces',[]),h(this,'_onInputSo'+'urcesChang'+'eEvt'),h(this,'velocities'+'Supported',!(-0x1*0x4be+-0x691*-0x5+0x1*-0x1c16)),(this['manager']=_0x4e600e,this['velocities'+'Supported']=!!(Ae['browser']&&((_0x17a0e7=(_0x1a994a=window['XRPose'])==null?void(0x200+-0x133*0x1+-0x29*0x5):_0x1a994a['prototype'])!=null&&_0x17a0e7['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x2bde55=>{this['_onInputSo'+'urcesChang'+'e'](_0x2bde55);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x20225b=this['manager']['session'];_0x20225b['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x20225b['addEventLi'+'stener']('select',_0x573243=>{const _0x1f2e2f=this['_getByInpu'+'tSource'](_0x573243['inputSourc'+'e']);_0x1f2e2f['update'](_0x573243['frame']),_0x1f2e2f['fire']('select',_0x573243),this['fire']('select',_0x1f2e2f,_0x573243);}),_0x20225b['addEventLi'+'stener']('selectstar'+'t',_0x1890d6=>{const _0x4a064c=this['_getByInpu'+'tSource'](_0x1890d6['inputSourc'+'e']);_0x4a064c['_selecting']||(_0x4a064c['update'](_0x1890d6['frame']),_0x4a064c['_selecting']=!(-0x5*-0xf0+0x379+-0x829),_0x4a064c['fire']('selectstar'+'t',_0x1890d6),this['fire']('selectstar'+'t',_0x4a064c,_0x1890d6));}),_0x20225b['addEventLi'+'stener']('selectend',_0x1e7d21=>{const _0x14de47=this['_getByInpu'+'tSource'](_0x1e7d21['inputSourc'+'e']);_0x14de47['update'](_0x1e7d21['frame']),_0x14de47['_selecting']=!(0x2*-0x257+-0xf81+0x1430),_0x14de47['fire']('selectend',_0x1e7d21),this['fire']('selectend',_0x14de47,_0x1e7d21);}),_0x20225b['addEventLi'+'stener']('squeeze',_0x6d6484=>{const _0x29a542=this['_getByInpu'+'tSource'](_0x6d6484['inputSourc'+'e']);_0x29a542['update'](_0x6d6484['frame']),_0x29a542['fire']('squeeze',_0x6d6484),this['fire']('squeeze',_0x29a542,_0x6d6484);}),_0x20225b['addEventLi'+'stener']('squeezesta'+'rt',_0x4db9be=>{const _0x1c8e08=this['_getByInpu'+'tSource'](_0x4db9be['inputSourc'+'e']);_0x1c8e08['update'](_0x4db9be['frame']),_0x1c8e08['_squeezing']=!(0x16ae+-0x846+-0xe68),_0x1c8e08['fire']('squeezesta'+'rt',_0x4db9be),this['fire']('squeezesta'+'rt',_0x1c8e08,_0x4db9be);}),_0x20225b['addEventLi'+'stener']('squeezeend',_0x92d35e=>{const _0x193753=this['_getByInpu'+'tSource'](_0x92d35e['inputSourc'+'e']);_0x193753['update'](_0x92d35e['frame']),_0x193753['_squeezing']=!(0x1*-0x207a+0xcff+0x137c),_0x193753['fire']('squeezeend',_0x92d35e),this['fire']('squeezeend',_0x193753,_0x92d35e);});const _0x42b377=_0x20225b['inputSourc'+'es'];for(let _0x1c7bcf=0x1*0x100f+0x91*-0x35+-0xdf6*-0x1;_0x1c7bcf<_0x42b377['length'];_0x1c7bcf++)this['_addInputS'+'ource'](_0x42b377[_0x1c7bcf]);}['_onSession'+'End'](){let _0x207ff5=this['_inputSour'+'ces']['length'];for(;_0x207ff5--;){const _0x1c3467=this['_inputSour'+'ces'][_0x207ff5];this['_inputSour'+'ces']['splice'](_0x207ff5,0x577*0x7+0x121f*-0x1+-0x1*0x1421),_0x1c3467['fire']('remove'),this['fire']('remove',_0x1c3467);}this['fire']('removeall'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x564dd9){for(let _0x2a7089=-0xe*0x106+0x18b5*0x1+0xa61*-0x1;_0x2a7089<_0x564dd9['removed']['length'];_0x2a7089++)this['_removeInp'+'utSource'](_0x564dd9['removed'][_0x2a7089]);for(let _0x232576=-0x1b92*-0x1+-0x199c+-0x1*0x1f6;_0x232576<_0x564dd9['added']['length'];_0x232576++)this['_addInputS'+'ource'](_0x564dd9['added'][_0x232576]);}['_getByInpu'+'tSource'](_0x2f33ec){for(let _0x2924d2=0x1e81+0x7*0x275+-0x2fb4;_0x2924d2<this['_inputSour'+'ces']['length'];_0x2924d2++)if(this['_inputSour'+'ces'][_0x2924d2]['inputSourc'+'e']===_0x2f33ec)return this['_inputSour'+'ces'][_0x2924d2];return null;}['_removeApp'+'Entity'](_0x39e9dc){const _0x49cab0=this['manager']['app']['root']['findByName']('Armature_'+_0x39e9dc);_0x49cab0&&this['manager']['app']['root']['removeChil'+'d'](_0x49cab0);}['_addInputS'+'ource'](_0x188f6e){if(this['_removeApp'+'Entity'](_0x188f6e['handedness']),this['_getByInpu'+'tSource'](_0x188f6e))return;const _0x3bfba8=new Qt(this['manager'],_0x188f6e);this['_inputSour'+'ces']['push'](_0x3bfba8),this['fire']('add',_0x3bfba8);}['_removeInp'+'utSource'](_0x4fa98e){for(let _0x203d6e=-0x211+0x4*0x6a6+-0x1887;_0x203d6e<this['_inputSour'+'ces']['length'];_0x203d6e++){if(this['_inputSour'+'ces'][_0x203d6e]['inputSourc'+'e']!==_0x4fa98e)continue;const _0x4ba394=this['_inputSour'+'ces'][_0x203d6e];this['_inputSour'+'ces']['splice'](_0x203d6e,0x6e5*0x5+0x3*0xc1d+-0x1*0x46cf);let _0x50547e=_0x4ba394['hitTestSou'+'rces']['length'];for(;_0x50547e--;)_0x4ba394['hitTestSou'+'rces'][_0x50547e]['remove']();this['_removeApp'+'Entity'](_0x4ba394['handedness']),_0x4ba394['fire']('remove'),this['fire']('remove',_0x4ba394);return;}}['update'](_0x57c8e7){for(let _0x135acf=-0x12fb*-0x1+-0x7*0xa0+-0xe9b;_0x135acf<this['_inputSour'+'ces']['length'];_0x135acf++)this['_inputSour'+'ces'][_0x135acf]['update'](_0x57c8e7);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}h(Li,'EVENT_ADD','add'),h(Li,'EVENT_REMO'+'VE','remove'),h(Li,'EVENT_SELE'+'CT','select'),h(Li,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Li,'EVENT_SELE'+'CTEND','selectend'),h(Li,'EVENT_SQUE'+'EZE','squeeze'),h(Li,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Li,'EVENT_SQUE'+'EZEEND','squeezeend');const Ja=new D(),IS=new D(),Lf=new te(),LS=new te();class Zu extends me{constructor(_0x1cc66e){super(),h(this,'_manager'),h(this,'_supported',!(-0x3fe+-0x1ca8+0x20a7)),h(this,'_available',!(-0x6*0xf9+-0x72+0x1*0x649)),h(this,'_lightProb'+'eRequested',!(-0xf26+0x2323+0x4*-0x4ff)),h(this,'_lightProb'+'e',null),h(this,'_intensity',-0x1*0xef9+0xb*0x109+0x396),h(this,'_rotation',new le()),h(this,'_color',new ie()),h(this,'_spherical'+'Harmonics',new Float32Array(-0x762+-0x5e*-0x17+-0xf5)),(this['_manager']=_0x1cc66e,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(0xb7d+-0x14d4+0x957));}['_onSession'+'End'](){this['_supported']=!(-0x1034+0x6c9+0x96c),this['_available']=!(0x8e2+-0xd*-0xee+-0x14f7),this['_lightProb'+'eRequested']=!(-0x126b+0x1769+-0x4fd*0x1),this['_lightProb'+'e']=null;}['start'](){let _0x610958;if(this['_manager']['session']||(_0x610958=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x610958&&this['_manager']['type']!==$o&&(_0x610958=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x610958&&!this['_supported']&&(_0x610958=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x610958&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x610958=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x610958){this['fire']('error',_0x610958);return;}this['_lightProb'+'eRequested']=!(-0xd*0x120+-0x5d9+0x1479*0x1),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x56a422=>{const _0x4b4ac0=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0x181c*0x1+-0x1*0x1381+0x26*-0x1f),this['_manager']['active']?_0x4b4ac0&&(this['_lightProb'+'e']=_0x56a422):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x3a35c7=>{this['_lightProb'+'eRequested']=!(0x253f+0xabd*0x1+-0x2ffb),this['fire']('error',_0x3a35c7);});}['end'](){this['_lightProb'+'eRequested']=!(0x3*-0xbf3+-0x9c7*0x1+-0x2da1*-0x1),this['_lightProb'+'e']=null,this['_available']=!(-0x53f*0x3+-0xbde+0x1b9c);}['update'](_0x4ec789){if(!this['_lightProb'+'e'])return;const _0x49b906=_0x4ec789['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x49b906)return;this['_available']||(this['_available']=!(0xd*0x17b+-0x525+0x169*-0xa),this['fire']('available'));const _0xddb8f1=_0x49b906['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](-0x2458+0x1*0x2191+0x2c8,Math['max'](_0xddb8f1['x'],Math['max'](_0xddb8f1['y'],_0xddb8f1['z']))),Ja['copy'](_0xddb8f1)['mulScalar']((0x9be*-0x1+0x1777*0x1+-0xdb8)/this['_intensity']),this['_color']['set'](Ja['x'],Ja['y'],Ja['z']),Ja['set'](0x78d*-0x1+0x93*-0x35+-0x23c*-0x11,0x16e3+-0x17cf+0xec,-0x294+-0xd2c+-0x90*-0x1c),IS['copy'](_0x49b906['primaryLig'+'htDirectio'+'n']),Lf['setLookAt'](IS,Ja,D['UP']),LS['setFromAxi'+'sAngle'](D['RIGHT'],-0x1*-0x361+0x2213*-0x1+0x1f0c),Lf['mul'](LS),this['_rotation']['setFromMat'+'4'](Lf),this['_spherical'+'Harmonics']['set'](_0x49b906['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}h(Zu,'EVENT_AVAI'+'LABLE','available'),h(Zu,'EVENT_ERRO'+'R','error');let mU=0x198b*-0x1+0x14ff+0x184*0x3;class Qu extends me{constructor(_0x34e3af,_0x3b8c54){super(),h(this,'_id'),h(this,'_planeDete'+'ction'),h(this,'_xrPlane'),h(this,'_lastChang'+'edTime'),h(this,'_orientati'+'on'),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_id']=++mU,this['_planeDete'+'ction']=_0x34e3af,this['_xrPlane']=_0x3b8c54,this['_lastChang'+'edTime']=_0x3b8c54['lastChange'+'dTime'],this['_orientati'+'on']=_0x3b8c54['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x335c8f){const _0x191762=this['_planeDete'+'ction']['_manager'],_0xdf6ed2=_0x335c8f['getPose'](this['_xrPlane']['planeSpace'],_0x191762['_reference'+'Space']);_0xdf6ed2&&(this['_position']['copy'](_0xdf6ed2['transform']['position']),this['_rotation']['copy'](_0xdf6ed2['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}h(Qu,'EVENT_REMO'+'VE','remove'),h(Qu,'EVENT_CHAN'+'GE','change');class Do extends me{constructor(_0x9184b0){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRPlane']),h(this,'_available',!(-0x1e65*0x1+0x1c*0xbd+-0x2*-0x4dd)),h(this,'_planesInd'+'ex',new Map()),h(this,'_planes',[]),(this['_manager']=_0x9184b0,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(0x1007+0x2*0x1ae+0x1*-0x1362)&&(this['_available']=!(0x3*-0xcf+0x1775+-0x1508),this['fire']('available'));}['_onSession'+'End'](){for(let _0x84b2fe=-0x6*-0x96+-0x1b31+-0xb*-0x227;_0x84b2fe<this['_planes']['length'];_0x84b2fe++)this['_planes'][_0x84b2fe]['destroy'](),this['fire']('remove',this['_planes'][_0x84b2fe]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=0x23d4+-0x22a8+-0xf*0x14,this['_available']&&(this['_available']=!(0x1285+0xb*-0x24b+-0x6b5*-0x1),this['fire']('unavailabl'+'e'));}['update'](_0x317ee2){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x317ee2['detectedPl'+'anes']['size'])this['_available']=!(0x7*0x1f7+-0x9ae+0x7*-0x95),this['fire']('available');else return;}const _0x997c17=_0x317ee2['detectedPl'+'anes'];for(const [_0x161832,_0x2ec82a]of this['_planesInd'+'ex'])_0x997c17['has'](_0x161832)||(this['_planesInd'+'ex']['delete'](_0x161832),this['_planes']['splice'](this['_planes']['indexOf'](_0x2ec82a),-0x5*-0x799+-0xe9*0x1d+-0xb97),_0x2ec82a['destroy'](),this['fire']('remove',_0x2ec82a));for(const _0x194d8d of _0x997c17){let _0x25dbd4=this['_planesInd'+'ex']['get'](_0x194d8d);_0x25dbd4?_0x25dbd4['update'](_0x317ee2):(_0x25dbd4=new Qu(this,_0x194d8d),this['_planesInd'+'ex']['set'](_0x194d8d,_0x25dbd4),this['_planes']['push'](_0x25dbd4),_0x25dbd4['update'](_0x317ee2),this['fire']('add',_0x25dbd4));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}h(Do,'EVENT_AVAI'+'LABLE','available'),h(Do,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Do,'EVENT_ADD','add'),h(Do,'EVENT_REMO'+'VE','remove');class Io extends me{constructor(_0x5b14a4,_0x36a9cf,_0x334f8b=null){super(),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_uuid',null),h(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x5b14a4,this['_xrAnchor']=_0x36a9cf,this['_uuid']=_0x334f8b);}['destroy'](){if(!this['_xrAnchor'])return;const _0x4a9d29=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x4a9d29,this);}['update'](_0x422219){if(!this['_xrAnchor'])return;const _0x3c288c=_0x422219['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x3c288c){if(this['_position']['equals'](_0x3c288c['transform']['position'])&&this['_rotation']['equals'](_0x3c288c['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x3c288c['transform']['position']),this['_rotation']['copy'](_0x3c288c['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x37148c){if(!this['_anchors']['persistenc'+'e']){_0x37148c==null||_0x37148c(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x37148c==null||_0x37148c(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x37148c&&this['_uuidReque'+'sts']['push'](_0x37148c);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x375004=>{this['_uuid']=_0x375004,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x37148c==null||_0x37148c(null,_0x375004);for(const _0x115bc6 of this['_uuidReque'+'sts'])_0x115bc6(null,_0x375004);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x375004);})['catch'](_0x3fc555=>{_0x37148c==null||_0x37148c(_0x3fc555,null);for(const _0x1f29ab of this['_uuidReque'+'sts'])_0x1f29ab(_0x3fc555,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x4c6802){if(!this['_uuid']){_0x4c6802==null||_0x4c6802(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x157ec5=>{this['_uuid']=null,_0x4c6802==null||_0x4c6802(_0x157ec5),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}h(Io,'EVENT_DEST'+'ROY','destroy'),h(Io,'EVENT_CHAN'+'GE','change'),h(Io,'EVENT_PERS'+'IST','persist'),h(Io,'EVENT_FORG'+'ET','forget');var VS;class on extends me{constructor(_0x72f230){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!window['XRAnchor']),h(this,'_available',!(-0x1372+-0x2*-0x635+0x1*0x709)),h(this,'_checkingA'+'vailabilit'+'y',!(-0x6eb+-0x3*-0x695+-0xcd3)),h(this,'_persisten'+'ce',Ae['browser']&&!!((VS=window==null?void(0x1*0x15c5+-0x2fe*0xb+0xb25):window['XRSession'])!=null&&VS['prototype']['restorePer'+'sistentAnc'+'hor'])),h(this,'_creationQ'+'ueue',[]),h(this,'_index',new Map()),h(this,'_indexByUu'+'id',new Map()),h(this,'_list',[]),h(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x72f230,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){var _0x46c71f;const _0x5e0882=((_0x46c71f=this['manager']['session']['enabledFea'+'tures'])==null?void(-0x1cdd+0x2467*-0x1+0x4144*0x1):_0x46c71f['indexOf']('anchors'))>=-0x25d8+-0x31d+-0x5*-0x831;_0x5e0882&&(this['_available']=_0x5e0882,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(0xa6d+-0x22af+0x1*0x1843);for(let _0x10e37a=0x5a*0x4a+-0x790+-0x1274;_0x10e37a<this['_creationQ'+'ueue']['length'];_0x10e37a++)this['_creationQ'+'ueue'][_0x10e37a]['callback']&&this['_creationQ'+'ueue'][_0x10e37a]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=0x3*-0x2c+-0x1236+0x12ba,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x1918d5=this['_list']['length'];for(;_0x1918d5--;)this['_list'][_0x1918d5]['destroy']();this['_list']['length']=-0xc19+-0x1e29+0x4b2*0x9,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x4d750e,_0x4189ec=null){const _0x1d967b=new Io(this,_0x4d750e,_0x4189ec);return this['_index']['set'](_0x4d750e,_0x1d967b),_0x4189ec&&this['_indexByUu'+'id']['set'](_0x4189ec,_0x1d967b),this['_list']['push'](_0x1d967b),_0x1d967b['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x1d967b;}['_onAnchorD'+'estroy'](_0x47381f,_0x4a63be){this['_index']['delete'](_0x47381f),_0x4a63be['uuid']&&this['_indexByUu'+'id']['delete'](_0x4a63be['uuid']);const _0x521360=this['_list']['indexOf'](_0x4a63be);_0x521360!==-(-0x1a88+-0xb26+-0x1*-0x25af)&&this['_list']['splice'](_0x521360,-0x1*0x1045+0x30+0x1016),this['fire']('destroy',_0x4a63be);}['create'](_0x20a294,_0x18cd30,_0xd68f6b){if(!this['_available']){_0xd68f6b==null||_0xd68f6b(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x20a294 instanceof XRHitTestResult){const _0x41461f=_0x20a294;if(_0xd68f6b=_0x18cd30,!this['_supported']){_0xd68f6b==null||_0xd68f6b(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x41461f['createAnch'+'or']){_0xd68f6b==null||_0xd68f6b(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x41461f['createAnch'+'or']()['then'](_0x822aac=>{const _0x50eea4=this['_createAnc'+'hor'](_0x822aac);_0xd68f6b==null||_0xd68f6b(null,_0x50eea4),this['fire']('add',_0x50eea4);})['catch'](_0x1bb2c5=>{_0xd68f6b==null||_0xd68f6b(_0x1bb2c5,null),this['fire']('error',_0x1bb2c5);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x20a294,_0x18cd30),'callback':_0xd68f6b});}['restore'](_0x1b29df,_0x122ea4){if(!this['_available']){_0x122ea4==null||_0x122ea4(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x122ea4==null||_0x122ea4(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x122ea4==null||_0x122ea4(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x1b29df)['then'](_0x487d2b=>{const _0x3effc3=this['_createAnc'+'hor'](_0x487d2b,_0x1b29df);_0x122ea4==null||_0x122ea4(null,_0x3effc3),this['fire']('add',_0x3effc3);})['catch'](_0x26f955=>{_0x122ea4==null||_0x122ea4(_0x26f955,null),this['fire']('error',_0x26f955);});}['forget'](_0x4baa2c,_0x1958b3){if(!this['_available']){_0x1958b3==null||_0x1958b3(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x1958b3==null||_0x1958b3(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x1958b3==null||_0x1958b3(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x4baa2c)['then'](()=>{_0x1958b3==null||_0x1958b3(null);})['catch'](_0x5274e7=>{_0x1958b3==null||_0x1958b3(_0x5274e7),this['fire']('error',_0x5274e7);});}['update'](_0x6301e9){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(0x2*0x7db+-0x227*-0x4+0x11b*-0x16),_0x6301e9['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x4f572b=>{_0x4f572b['delete'](),this['manager']['active']&&(this['_available']=!(0x22e0+0xff7+-0x32d7),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x56b3fd=-0x3e0+-0x2*0x913+-0xb03*-0x2;_0x56b3fd<this['_creationQ'+'ueue']['length'];_0x56b3fd++){const _0x1526aa=this['_creationQ'+'ueue'][_0x56b3fd];_0x6301e9['createAnch'+'or'](_0x1526aa['transform'],this['manager']['_reference'+'Space'])['then'](_0x2ebf1b=>{_0x1526aa['callback']&&this['_callbacks'+'Anchors']['set'](_0x2ebf1b,_0x1526aa['callback']);})['catch'](_0xe07ad4=>{_0x1526aa['callback']&&_0x1526aa['callback'](_0xe07ad4,null),this['fire']('error',_0xe07ad4);});}this['_creationQ'+'ueue']['length']=-0x337*0x9+0x19f0+-0x1*-0x2ff;}for(const [_0x5981d8,_0x4bc4bf]of this['_index'])_0x6301e9['trackedAnc'+'hors']['has'](_0x5981d8)||(this['_index']['delete'](_0x5981d8),_0x4bc4bf['destroy']());for(let _0x2b7ee8=0x15e7+-0x1*0x9e1+-0xc06;_0x2b7ee8<this['_list']['length'];_0x2b7ee8++)this['_list'][_0x2b7ee8]['update'](_0x6301e9);for(const _0x121d2f of _0x6301e9['trackedAnc'+'hors']){if(this['_index']['has'](_0x121d2f))continue;try{const _0x4c9e5d=_0x121d2f['anchorSpac'+'e'];}catch{continue;}const _0x3f6a21=this['_createAnc'+'hor'](_0x121d2f);_0x3f6a21['update'](_0x6301e9);const _0x44daa3=this['_callbacks'+'Anchors']['get'](_0x121d2f);_0x44daa3&&(this['_callbacks'+'Anchors']['delete'](_0x121d2f),_0x44daa3(null,_0x3f6a21)),this['fire']('add',_0x3f6a21);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}h(on,'EVENT_AVAI'+'LABLE','available'),h(on,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(on,'EVENT_ERRO'+'R','error'),h(on,'EVENT_ADD','add'),h(on,'EVENT_DEST'+'ROY','destroy');class Ju extends me{constructor(_0x3a4d50,_0x399ec7){super(),h(this,'_meshDetec'+'tion'),h(this,'_xrMesh'),h(this,'_lastChang'+'ed',-0x8*-0xee+0x1*0x16bf+-0x1e2f),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_meshDetec'+'tion']=_0x3a4d50,this['_xrMesh']=_0x399ec7,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x4b8d89){const _0x23ebfb=this['_meshDetec'+'tion']['_manager'],_0x1dbf42=_0x4b8d89['getPose'](this['_xrMesh']['meshSpace'],_0x23ebfb['_reference'+'Space']);_0x1dbf42&&(this['_position']['copy'](_0x1dbf42['transform']['position']),this['_rotation']['copy'](_0x1dbf42['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}h(Ju,'EVENT_REMO'+'VE','remove'),h(Ju,'EVENT_CHAN'+'GE','change');class Lo extends me{constructor(_0x2dfe43){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRMesh']),h(this,'_available',!(0x1c1*-0x7+-0x17*0x112+0x24e6)),h(this,'_index',new Map()),h(this,'_list',[]),(this['_manager']=_0x2dfe43,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x219aab){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x219aab['detectedMe'+'shes']['size'])this['_available']=!(-0x9b7+-0x83f*-0x1+0x178*0x1),this['fire']('available');else return;}for(const _0x2f1426 of _0x219aab['detectedMe'+'shes']){let _0x57ef84=this['_index']['get'](_0x2f1426);_0x57ef84?_0x57ef84['update'](_0x219aab):(_0x57ef84=new Ju(this,_0x2f1426),this['_index']['set'](_0x2f1426,_0x57ef84),this['_list']['push'](_0x57ef84),_0x57ef84['update'](_0x219aab),this['fire']('add',_0x57ef84));}for(const _0x254e0c of this['_index']['values']())_0x219aab['detectedMe'+'shes']['has'](_0x254e0c['xrMesh'])||this['_removeMes'+'h'](_0x254e0c);}['_removeMes'+'h'](_0x47b650){this['_index']['delete'](_0x47b650['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x47b650),-0x84*-0x17+0x1*-0x6d7+0xd6*-0x6),_0x47b650['destroy'](),this['fire']('remove',_0x47b650);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x115b30=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(0x35b*-0x5+0x65*0x13+-0x1*-0x949);if(!_0x115b30)return;this['_available']=_0x115b30,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x23ae+-0x4a6*-0x3+-0x5*-0x459);for(const _0x36df23 of this['_index']['values']())this['_removeMes'+'h'](_0x36df23);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}h(Lo,'EVENT_AVAI'+'LABLE','available'),h(Lo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Lo,'EVENT_ADD','add'),h(Lo,'EVENT_REMO'+'VE','remove');class O0 extends me{constructor(_0x115bad,_0xa93467,_0x5d43eb){super(),h(this,'_manager'),h(this,'_xrView'),h(this,'_positionD'+'ata',new Float32Array(0x25bd+0x1070+-0x362a)),h(this,'_viewport',new re()),h(this,'_projMat',new te()),h(this,'_projViewO'+'ffMat',new te()),h(this,'_viewMat',new te()),h(this,'_viewOffMa'+'t',new te()),h(this,'_viewMat3',new _i()),h(this,'_viewInvMa'+'t',new te()),h(this,'_viewInvOf'+'fMat',new te()),h(this,'_xrCamera',null),h(this,'_textureCo'+'lor',null),h(this,'_textureDe'+'pth',null),h(this,'_depthInfo',null),h(this,'_emptyDept'+'hBuffer',new Uint8Array(-0x1132+-0x161c+0x276e)),h(this,'_depthMatr'+'ix',new te()),(this['_manager']=_0x115bad,this['_xrView']=_0xa93467);const _0x3890ac=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new _e(_0x3890ac,{'format':Cr,'mipmaps':!(0x20f2+-0x11*-0x103+-0x3224),'addressU':ue,'addressV':ue,'minFilter':vt,'magFilter':vt,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x239844=this['_manager']['views']['depthGpuOp'+'timized']?Te:vt;this['_textureDe'+'pth']=new _e(_0x3890ac,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x5d43eb===0x75*0x5+0x1f7c+-0x21c4?0x1*-0x1e52+-0x407*-0x5+0x365*0x3:_0x5d43eb,'mipmaps':!(0x12dd+0x639+-0x1915),'addressU':ue,'addressV':ue,'minFilter':_0x239844,'magFilter':_0x239844,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x3d8674=-0x3*-0x1cd+-0x1*0x1b11+-0xad5*-0x2;_0x3d8674<this['_textureDe'+'pth']['_levels']['length'];_0x3d8674++)this['_textureDe'+'pth']['_levels'][_0x3d8674]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x3890ac['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x21a2df;return((_0x21a2df=this['_depthInfo'])==null?void(0x7d8+-0x1*-0xaf3+-0x12cb):_0x21a2df['rawValueTo'+'Meters'])||-0x65b+0xa*0x34b+-0x1*0x1a93;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x576427,_0x1fe6c9){this['_xrView']=_0x1fe6c9,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x464ec7=_0x576427['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x464ec7['x'],this['_viewport']['y']=_0x464ec7['y'],this['_viewport']['z']=_0x464ec7['width'],this['_viewport']['w']=_0x464ec7['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x576427);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x486a5c=this['_manager']['webglBindi'+'ng'];if(!_0x486a5c)return;const _0x5ddd83=_0x486a5c['getCameraI'+'mage'](this['_xrCamera']);if(!_0x5ddd83)return;const _0x186f4c=this['_manager']['app']['graphicsDe'+'vice'],_0x59a810=_0x186f4c['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x59a810['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x59a810['createFram'+'ebuffer']();else{const _0x5c1a39=_0x59a810['COLOR_ATTA'+'CHMENT0'],_0x27061d=this['_xrCamera']['width'],_0xe104d0=this['_xrCamera']['height'];_0x186f4c['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x59a810['framebuffe'+'rTexture2D'](_0x59a810['FRAMEBUFFE'+'R'],_0x5c1a39,_0x59a810['TEXTURE_2D'],_0x5ddd83,0x1*0x2493+0x14e1+-0x3974),_0x186f4c['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x59a810['framebuffe'+'rTexture2D'](_0x59a810['FRAMEBUFFE'+'R'],_0x5c1a39,_0x59a810['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],0x602+0x698*-0x4+0x145e),_0x59a810['bindFrameb'+'uffer'](_0x59a810['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x59a810['bindFrameb'+'uffer'](_0x59a810['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x59a810['blitFrameb'+'uffer'](-0x1cf6+0x220*-0xc+-0x1*-0x3676,_0xe104d0,_0x27061d,-0x1baa+-0x43c+-0xaa2*-0x3,0x10ef+0x5*0x40f+-0x253a,-0x1dd7+-0x1dde+0x3bb5,_0x27061d,_0xe104d0,_0x59a810['COLOR_BUFF'+'ER_BIT'],_0x59a810['NEAREST']);}}['_updateDep'+'th'](_0x468223){var _0x2c9e33,_0x33706f;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x238faf=this['_manager']['views']['depthGpuOp'+'timized'],_0x390314=_0x238faf?this['_manager']['webglBindi'+'ng']:_0x468223;if(!_0x390314){this['_depthInfo']=null;return;}const _0x37b8ef=_0x390314['getDepthIn'+'formation'](this['_xrView']);if(!_0x37b8ef){this['_depthInfo']=null;return;}let _0xa731c1=!this['_depthInfo']!=!_0x37b8ef;this['_depthInfo']=_0x37b8ef;const _0x467c87=((_0x2c9e33=this['_depthInfo'])==null?void(-0x1efa+-0x2c8+0x10e1*0x2):_0x2c9e33['width'])||-0x1a10+-0x14d*-0x3+-0x162d*-0x1,_0x486b87=((_0x33706f=this['_depthInfo'])==null?void(-0x54e+-0x24ff+0x2a4d*0x1):_0x33706f['height'])||-0x6b2*0x5+0x1df*-0x1+0x235d;let _0x3e6955=!(0xaf3+0x19e8*0x1+-0x1*0x24da);if((this['_textureDe'+'pth']['width']!==_0x467c87||this['_textureDe'+'pth']['height']!==_0x486b87)&&(this['_textureDe'+'pth']['_width']=_0x467c87,this['_textureDe'+'pth']['_height']=_0x486b87,_0xa731c1=!(-0x1129+-0x2551+-0x367a*-0x1),_0x3e6955=!(0x5*0x52f+0x61*-0x25+-0xbe6)),_0xa731c1&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x238faf){if(this['_depthInfo']['texture']){const _0x460160=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x460160['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x460160['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ji:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x460160['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x460160['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x460160['RED'];break;case $i:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x460160['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x460160['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x460160['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(-0x1eb8*-0x1+-0xa59+-0x145f);}}else this['_textureDe'+'pth']['_levels'][-0x1f*0x73+-0x21d*0xb+-0x34*-0xb7]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][0x5f*0x50+-0xa8+-0x1d08]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x3e6955&&this['fire']('depth:resi'+'ze',_0x467c87,_0x486b87);}['updateTran'+'sforms'](_0x1b47cc){_0x1b47cc?(this['_viewInvOf'+'fMat']['mul2'](_0x1b47cc,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][0x166f+0x9a9*-0x1+-0xcc6]=this['_viewInvOf'+'fMat']['data'][-0x1b9a+-0x439+0x1*0x1fdf],this['_positionD'+'ata'][0x1bbc+-0x1a23*0x1+0x3*-0x88]=this['_viewInvOf'+'fMat']['data'][-0x1e6f+0x7b+-0x1e01*-0x1],this['_positionD'+'ata'][-0x1fad+0x23b1*0x1+-0x402]=this['_viewInvOf'+'fMat']['data'][-0x1a1+0x1*0x1233+-0x97*0x1c];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x7d63ee,_0x54a73c){var _0x52008;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x52008=this['_depthInfo'])==null?void(-0x5*-0xd6+-0x10b5+0xc87):_0x52008['getDepthIn'+'Meters'](_0x7d63ee,_0x54a73c))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x4223a6=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x4223a6['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x4223a6['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}h(O0,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class Bh extends me{constructor(_0x53a08e){super(),h(this,'_manager'),h(this,'_index',new Map()),h(this,'_indexTmp',new Map()),h(this,'_list',[]),h(this,'_supported'+'Color',Ae['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),h(this,'_supported'+'Depth',Ae['browser']&&!!window['XRDepthInf'+'ormation']),h(this,'_available'+'Color',!(0x1af0+0xa9b+-0x258a)),h(this,'_available'+'Depth',!(-0x191b*-0x1+0x1811+0x29*-0x133)),h(this,'_depthUsag'+'e',''),h(this,'_depthForm'+'at',''),h(this,'_depthForm'+'ats',{[M0]:ap,[D0]:$i,[I0]:Ji}),(this['_manager']=_0x53a08e,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===P0;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x8c79ef,_0x4abad0){for(let _0x20beff=-0xc*-0x20a+0x1c3+-0x1a3b;_0x20beff<_0x4abad0['length'];_0x20beff++)this['_indexTmp']['set'](_0x4abad0[_0x20beff]['eye'],_0x4abad0[_0x20beff]);for(const [_0xad0d90,_0x3d25a4]of this['_indexTmp']){let _0x30e9d3=this['_index']['get'](_0xad0d90);_0x30e9d3?_0x30e9d3['update'](_0x8c79ef,_0x3d25a4):(_0x30e9d3=new O0(this['_manager'],_0x3d25a4,_0x4abad0['length']),this['_index']['set'](_0xad0d90,_0x30e9d3),this['_list']['push'](_0x30e9d3),_0x30e9d3['update'](_0x8c79ef,_0x3d25a4),this['fire']('add',_0x30e9d3));}for(const [_0x27ccb2,_0x4d9ca8]of this['_index']){if(this['_indexTmp']['has'](_0x27ccb2))continue;_0x4d9ca8['destroy'](),this['_index']['delete'](_0x27ccb2);const _0x3b3760=this['_list']['indexOf'](_0x4d9ca8);_0x3b3760!==-(-0x234*0xb+-0xfb*0x1a+-0x1b7*-0x1d)&&this['_list']['splice'](_0x3b3760,-0x95*-0x31+-0x2df+-0x19a5),this['fire']('remove',_0x4d9ca8);}this['_indexTmp']['clear']();}['get'](_0x50ca59){return this['_index']['get'](_0x50ca59)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===$o&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(-0x13ad+-0x39e*-0xa+-0x107e),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(0x13f9*0x1+-0x1d35*-0x1+-0x1*0x312d),this['_available'+'Depth'])){const _0x20eba5=this['_manager']['session'];this['_depthUsag'+'e']=_0x20eba5['depthUsage'],this['_depthForm'+'at']=_0x20eba5['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x2e2ee3 of this['_index']['values']())_0x2e2ee3['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(0x4e+0x12c1*-0x1+0x1274*0x1),this['_available'+'Depth']=!(0x1*-0x18e9+-0x1*0xe0+0x1*0x19ca),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=-0x2*0xac1+0x20bb+-0xdd*0xd;}}h(Bh,'EVENT_ADD','add'),h(Bh,'EVENT_REMO'+'VE','remove');class ln extends me{constructor(_0x51fbe7){super(),h(this,'app'),h(this,'_supported',Ae['browser']&&!!navigator['xr']),h(this,'_available',{}),h(this,'_type',null),h(this,'_spaceType',null),h(this,'_session',null),h(this,'_baseLayer',null),h(this,'webglBindi'+'ng',null),h(this,'_reference'+'Space',null),h(this,'domOverlay'),h(this,'hitTest'),h(this,'imageTrack'+'ing'),h(this,'planeDetec'+'tion'),h(this,'meshDetect'+'ion'),h(this,'input'),h(this,'lightEstim'+'ation'),h(this,'views'),h(this,'anchors'),h(this,'_camera',null),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_depthNear',0x5*-0x2a1+0x2*-0x977+0x7*0x495+0.1),h(this,'_depthFar',0xdb1+-0x1*-0x1b9d+0x1*-0x2566),h(this,'_supported'+'FrameRates',null),h(this,'_width',0x81+0x2f*-0x77+-0x1*-0x1558),h(this,'_height',-0xdf6+0xecd*-0x1+-0x25*-0xc7),h(this,'_framebuff'+'erScaleFac'+'tor',-0x1*-0x187d+0x933+-0x21af*0x1),(this['app']=_0x51fbe7,this['_available'][lU]=!(-0x137*-0x8+0x12c2+-0x1c79),this['_available'][cU]=!(0x4a5*0x1+-0x1e07+0x1963),this['_available'][$o]=!(0x496*-0x6+0x53*0x33+-0xafc*-0x1),this['views']=new Bh(this),this['domOverlay']=new fU(this),this['hitTest']=new jr(this),this['imageTrack'+'ing']=new L0(this),this['planeDetec'+'tion']=new Do(this),this['meshDetect'+'ion']=new Lo(this),this['input']=new Li(this),this['lightEstim'+'ation']=new Zu(this),this['anchors']=new on(this),this['views']=new Bh(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)),this['isPC']=z0());}['destroy'](){}['start'](_0x35c266,_0x33bedf,_0x382492,_0x475226){let _0x75d1ea=_0x475226;if(typeof _0x475226=='object'&&(_0x75d1ea=_0x475226['callback']),!this['_available'][_0x33bedf]){_0x75d1ea&&_0x75d1ea(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x75d1ea&&_0x75d1ea(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x35c266,this['_camera']['camera']['xr']=this,this['_type']=_0x33bedf,this['_spaceType']=_0x382492,this['_framebuff'+'erScaleFac'+'tor']=(_0x475226==null?void(-0x1a6d+-0x1881+0x32ee):_0x475226['framebuffe'+'rScaleFact'+'or'])??-0x85d+-0x299*0x1+0xaf7,this['_setClipPl'+'anes'](_0x35c266['nearClip'],_0x35c266['farClip']);const _0x44bc58={'requiredFeatures':[_0x382492],'optionalFeatures':[]},_0x22368f=this['app']['graphicsDe'+'vice'];_0x22368f!=null&&_0x22368f['isWebGPU']&&_0x44bc58['requiredFe'+'atures']['push']('webgpu');const _0x3cd003=_0x22368f==null?void(0x526+0x926*-0x4+-0x1*-0x1f72):_0x22368f['isWebGL2'];if(_0x33bedf===$o){if(_0x44bc58['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x44bc58['optionalFe'+'atures']['push']('hit-test'),_0x475226&&(_0x475226['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x44bc58['optionalFe'+'atures']['push']('image-trac'+'king'),_0x475226['planeDetec'+'tion']&&_0x44bc58['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x475226['meshDetect'+'ion']&&_0x44bc58['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x44bc58['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x44bc58['domOverlay']={'root':this['domOverlay']['root']}),_0x475226&&_0x475226['anchors']&&this['anchors']['supported']&&_0x44bc58['optionalFe'+'atures']['push']('anchors'),_0x475226&&_0x475226['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x44bc58['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x5cd30e=[],_0x3762fc=[];if(_0x5cd30e['push'](P0,dU),_0x3762fc['push'](I0,M0,D0),_0x475226['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x7b3d06=_0x5cd30e['indexOf'](_0x475226['depthSensi'+'ng']['usagePrefe'+'rence']);_0x7b3d06!==-(-0x1fdc+0x2*0xd42+0x559)&&_0x5cd30e['splice'](_0x7b3d06,-0x1eea+0x17a2+0x749),_0x5cd30e['unshift'](_0x475226['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x475226['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x161fba=_0x3762fc['indexOf'](_0x475226['depthSensi'+'ng']['dataFormat'+'Preference']);_0x161fba!==-(-0x1b2*-0x12+-0x90f+-0x1574)&&_0x3762fc['splice'](_0x161fba,0x1258+-0x152e+0x2d7),_0x3762fc['unshift'](_0x475226['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x44bc58['depthSensi'+'ng']={'usagePreference':_0x5cd30e,'dataFormatPreference':_0x3762fc};}_0x3cd003&&_0x475226&&_0x475226['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x44bc58['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x44bc58['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x475226&&_0x475226['optionalFe'+'atures']&&(_0x44bc58['optionalFe'+'atures']=_0x44bc58['optionalFe'+'atures']['concat'](_0x475226['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x42a8b7,_0x10cea4)=>{if(_0x42a8b7){_0x75d1ea&&_0x75d1ea(_0x42a8b7),this['fire']('error',_0x42a8b7);return;}_0x10cea4!==null&&(_0x44bc58['trackedIma'+'ges']=_0x10cea4),this['_onStartOp'+'tionsReady'](_0x33bedf,_0x382492,_0x44bc58,_0x75d1ea);}):this['_onStartOp'+'tionsReady'](_0x33bedf,_0x382492,_0x44bc58,_0x75d1ea);}['_onStartOp'+'tionsReady'](_0x42eebf,_0x30f753,_0x2e6c2c,_0x1ea112){const _0xa0658f=this['isPC']?{'requiredFeatures':['local-floo'+'r']}:_0x2e6c2c;navigator['xr']['requestSes'+'sion'](_0x42eebf,_0xa0658f)['then'](_0x49ad5f=>{this['_onSession'+'Start'](_0x49ad5f,_0x30f753,_0x1ea112);})['catch'](_0x55f072=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x1ea112&&_0x1ea112(_0x55f072),this['fire']('error',_0x55f072);});}['end'](_0x52889f){if(!this['_session']){_0x52889f&&_0x52889f(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x52889f&&this['once']('end',_0x52889f),this['_session']['end']();}['isAvailabl'+'e'](_0x2fe9a4){return this['_available'][_0x2fe9a4];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x13034a in this['_available'])this['_sessionSu'+'pportCheck'](_0x13034a);}['initiateRo'+'omCapture'](_0x188b02){if(!this['_session']){_0x188b02(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x188b02(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x188b02&&_0x188b02(null);})['catch'](_0x3bda2a=>{_0x188b02&&_0x188b02(_0x3bda2a);});}['updateTarg'+'etFrameRat'+'e'](_0x536143,_0x996bc2){var _0x635d9f;if(!((_0x635d9f=this['_session'])!=null&&_0x635d9f['updateTarg'+'etFrameRat'+'e'])){_0x996bc2==null||_0x996bc2(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x536143)['then'](()=>{_0x996bc2==null||_0x996bc2();})['catch'](_0x4e8abc=>{_0x996bc2==null||_0x996bc2(_0x4e8abc);});}['_sessionSu'+'pportCheck'](_0x2ffe19){navigator['xr']['isSessionS'+'upported'](_0x2ffe19)['then'](_0x39b9c9=>{this['_available'][_0x2ffe19]!==_0x39b9c9&&(this['_available'][_0x2ffe19]=_0x39b9c9,this['fire']('available',_0x2ffe19,_0x39b9c9),this['fire']('available:'+_0x2ffe19,_0x39b9c9));})['catch'](_0x3d348c=>{this['fire']('error',_0x3d348c);});}['_onSession'+'Start'](_0x240fd6,_0x2bfb7f,_0xa2282){let _0x44743c=!(-0x2237+-0x654+-0x14*-0x207);this['_session']=_0x240fd6;const _0x38b289=()=>{this['fire']('visibility'+':change',_0x240fd6['visibility'+'State']);},_0x23acee=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x2332a3=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x23acee),this['_camera']['off']('set_farCli'+'p',_0x23acee),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x240fd6['removeEven'+'tListener']('end',_0x2332a3),_0x240fd6['removeEven'+'tListener']('visibility'+'change',_0x38b289),_0x44743c||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=-0xa3*-0x6+0x1*0x987+-0xc9*0x11,this['_height']=0x662+-0xdf4+0x792,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x240fd6['addEventLi'+'stener']('end',_0x2332a3),_0x240fd6['addEventLi'+'stener']('visibility'+'change',_0x38b289),this['_camera']['on']('set_nearCl'+'ip',_0x23acee),this['_camera']['on']('set_farCli'+'p',_0x23acee),w['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x335314;this['fire']('frameratec'+'hange',(_0x335314=this['_session'])==null?void(-0x1af8+-0x2635*0x1+0x412d):_0x335314['frameRate']);}),_0x240fd6['requestRef'+'erenceSpac'+'e'](_0x2bfb7f)['then'](_0x3f289e=>{this['_reference'+'Space']=_0x3f289e,this['app']['tick'](),_0xa2282&&_0xa2282(null),this['fire']('start');})['catch'](_0x1aa44e=>{_0x44743c=!(0x99*0x3+0x269e+-0x2869),_0x240fd6['end'](),_0xa2282&&_0xa2282(_0x1aa44e),this['fire']('error',_0x1aa44e);});}['_setClipPl'+'anes'](_0x5a011e,_0xb4d28d){this['_depthNear']===_0x5a011e&&this['_depthFar']===_0xb4d28d||(this['_depthNear']=_0x5a011e,this['_depthFar']=_0xb4d28d,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x5acc81=this['app']['graphicsDe'+'vice'],_0x1a806f=_0x5acc81['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x5acc81['gl'],{'alpha':!(0x1a5d+0x6*-0x48c+0xeb),'depth':!(0xea4+-0xa29*0x1+-0x47b),'stencil':!(0x107d+0x1253*-0x1+-0x1*-0x1d6),'framebufferScaleFactor':_0x1a806f,'antialias':!(-0xc7f+-0x2*0xf50+0x2b20)}),_0x5acc81!=null&&_0x5acc81['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x5acc81['gl']);}catch(_0x17f013){this['fire']('error',_0x17f013);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x1edf72=>{this['fire']('error',_0x1edf72);});},-0x26a0+-0x138+0x27d8);}['update'](_0x1675f7){if(!this['_session'])return!(-0x1*-0x1c3b+0x8a8*0x4+-0x3eda);const _0x2141bf=_0x1675f7['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x592075=_0x1675f7['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x2141bf||this['_height']!==_0x592075)&&(this['_width']=_0x2141bf,this['_height']=_0x592075,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x2141bf,_0x592075));const _0x5c466b=_0x1675f7['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x5c466b)return!(-0x49f*0x8+0x1542+0x95*0x1b);const _0x3f69ee=this['views']['list']['length'];this['views']['update'](_0x1675f7,_0x5c466b['views']);const _0x2affb2=_0x5c466b['transform']['position'],_0x3404bd=_0x5c466b['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x2affb2['x'],_0x2affb2['y'],_0x2affb2['z']),this['_localRota'+'tion']['set'](_0x3404bd['x'],_0x3404bd['y'],_0x3404bd['z'],_0x3404bd['w']),_0x3f69ee===-0x15e6+-0x22da+-0xe30*-0x4&&this['views']['list']['length']>-0x527+0xd04+-0x7dd){const _0x464910=new te(),_0x9bfe91=this['views']['list'][0x24e2*0x1+-0x13*-0xf4+-0x36fe];_0x464910['copy'](_0x9bfe91['projMat']);const _0x84371a=_0x464910['data'],_0x17973e=(-0x1*-0x1d36+-0x2a6*-0x3+0x5*-0x76e)*Math['atan']((-0x7f1+0x15e*-0x1+0x950)/_0x84371a[-0x1475*-0x1+0x169f+0x1*-0x2b0f])*(-0x2d7*-0x1+-0xcd8+0xab5)/Math['PI'],_0x145671=_0x84371a[-0x318+-0x1007+-0xaf*-0x1c]/_0x84371a[0x1a8+-0x18a5+0x16fd],_0x3ceac7=_0x84371a[-0xa88+0xa4f+0x47]/(_0x84371a[0x1cad+0x9*-0x33e+0x1*0x8b]+(-0x3c*-0x45+-0x6cd*-0x3+-0x2492)),_0x4e89bd=_0x84371a[-0x1b70+-0x1948+-0x1a63*-0x2]/(_0x84371a[-0xab9+0x254c+0x1a89*-0x1]-(-0x1104+0x13a3+0x14f*-0x2));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x145671,'farClip':_0x3ceac7,'fov':_0x17973e,'horizontalFov':!(-0x5ae*0x3+0x2ca*0x8+-0x545),'nearClip':_0x4e89bd});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x1675f7),this['_type']===$o&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x1675f7),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x1675f7),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x1675f7),this['anchors']['supported']&&this['anchors']['update'](_0x1675f7),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x1675f7),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x1675f7)),this['fire']('update',_0x1675f7),!(0x1fdf+0xfb4+-0x2f93*0x1);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x58993b;return((_0x58993b=this['_session'])==null?void(-0x766+-0x2b1*-0x1+0x4b5):_0x58993b['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x33c0a6){var _0x331f;(((_0x331f=this['_baseLayer'])==null?void(0x2373+0x1cbc+-0x402f):_0x331f['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>0xd00+-0x17be+-0x189*-0x7&&w['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x33c0a6);}get['fixedFovea'+'tion'](){var _0x530246;return((_0x530246=this['_baseLayer'])==null?void(-0x14ea+0x15a4*-0x1+0x2a8e):_0x530246['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}h(ln,'EVENT_AVAI'+'LABLE','available'),h(ln,'EVENT_STAR'+'T','start'),h(ln,'EVENT_END','end'),h(ln,'EVENT_UPDA'+'TE','update'),h(ln,'EVENT_ERRO'+'R','error');class $U extends Ks{constructor(_0x2db4ff,_0x2b3794={}){super(_0x2db4ff);const _0x455794=new tL();_0x455794['graphicsDe'+'vice']=_0x2b3794['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x2db4ff,_0x2b3794),this['addCompone'+'ntSystems'](_0x455794),this['addResourc'+'eHandles'](_0x455794),_0x455794['elementInp'+'ut']=_0x2b3794['elementInp'+'ut'],_0x455794['keyboard']=_0x2b3794['keyboard'],_0x455794['mouse']=_0x2b3794['mouse'],_0x455794['touch']=_0x2b3794['touch'],_0x455794['gamepads']=_0x2b3794['gamepads'],_0x455794['scriptPref'+'ix']=_0x2b3794['scriptPref'+'ix'],_0x455794['assetPrefi'+'x']=_0x2b3794['assetPrefi'+'x'],_0x455794['scriptsOrd'+'er']=_0x2b3794['scriptsOrd'+'er'],_0x455794['soundManag'+'er']=new Pw(),_0x455794['lightmappe'+'r']=pL,_0x455794['batchManag'+'er']=IE,_0x455794['xr']=ln,this['init'](_0x455794);}['createDevi'+'ce'](_0x49a4a9,_0x2cc771){return _0x2cc771['graphicsDe'+'viceOption'+'s']||(_0x2cc771['graphicsDe'+'viceOption'+'s']={}),Ae['browser']&&navigator['xr']&&(_0x2cc771['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(-0x3e5*0x3+0x893+-0xc7*-0x4)),_0x2cc771['graphicsDe'+'viceOption'+'s']['alpha']=_0x2cc771['graphicsDe'+'viceOption'+'s']['alpha']||!(0x691+0x1cd2+-0x2362),new aw(_0x49a4a9,_0x2cc771['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x20c940){_0x20c940['componentS'+'ystems']=[wm,nR,NR,RL,BL,KR,zO,xF,wF,kF,hF,VL,kO,YO,LR,$L,aF,oF,mF,XR,UR,gF,BF];}['addResourc'+'eHandles'](_0x385d84){_0x385d84['resourceHa'+'ndlers']=[zF,WN,$N,XN,Ek,yk,oU,Ok,mk,jN,Dk,bk,JN,pk,QN,Ik,uk,ek,tk,YN,Nk,Lk,Rk,ZN,fk];}}class XU extends me{constructor(_0x3997a2,_0x5351b9){super(),h(this,'_assets',new Set()),h(this,'_loadingAs'+'sets',new Set()),h(this,'_waitingAs'+'sets',new Set()),h(this,'_loading',!(-0x9*-0x245+-0xd*0x82+0x3a*-0x3d)),h(this,'_loaded',!(-0x119*0x6+-0x7f*0x35+0x3d*0x8a)),h(this,'_failed',[]),(this['_registry']=_0x5351b9,_0x3997a2['forEach'](_0x69fa9c=>{if(_0x69fa9c instanceof pe)_0x69fa9c['registry']||(_0x69fa9c['registry']=_0x5351b9),this['_assets']['add'](_0x69fa9c);else{const _0xa51917=_0x5351b9['get'](_0x69fa9c);_0xa51917?this['_assets']['add'](_0xa51917):this['_waitForAs'+'set'](_0x69fa9c);}}));}['destroy'](){this['_registry']['off']('load',this['_onLoad']),this['_registry']['off']('error',this['_onError']),this['_waitingAs'+'sets']['forEach'](_0x2df741=>{this['_registry']['off']('add:'+_0x2df741,this['_onAddAsse'+'t']);}),this['off']('progress'),this['off']('load');}['_assetHasD'+'ependencie'+'s'](_0x272dea){var _0x219047;return _0x272dea['type']==='model'&&((_0x219047=_0x272dea['file'])==null?void(-0x16dc+-0x1*0xd5d+0x2439):_0x219047['url'])&&_0x272dea['file']['url']&&_0x272dea['file']['url']['match'](/.json$/g);}['load'](_0x3f3d43,_0x2cabbd){if(this['_loading']){console['debug']('AssetListL'+'oader:\x20Loa'+'d\x20function'+'\x20called\x20mu'+'ltiple\x20tim'+'es.');return;}this['_loading']=!(-0x1*0x10aa+0x1be*-0x1+0x1268),this['_callback']=_0x3f3d43,this['_scope']=_0x2cabbd,this['_registry']['on']('load',this['_onLoad'],this),this['_registry']['on']('error',this['_onError'],this);let _0x5665e5=!(0x110b+0xcbc*0x1+-0x4a*0x67);this['_assets']['forEach'](_0x287e0b=>{_0x287e0b['loaded']||(_0x5665e5=!(-0x1956+-0x3*-0x85+-0x1*-0x17c7),this['_assetHasD'+'ependencie'+'s'](_0x287e0b)&&this['_registry']['loadFromUr'+'l'](_0x287e0b['file']['url'],_0x287e0b['type'],(_0x5c7000,_0x4bf50b)=>{if(_0x5c7000){this['_onError'](_0x5c7000,_0x287e0b);return;}this['_onLoad'](_0x287e0b);}),this['_loadingAs'+'sets']['add'](_0x287e0b),this['_registry']['add'](_0x287e0b));}),this['_loadingAs'+'sets']['forEach'](_0x39df34=>{this['_assetHasD'+'ependencie'+'s'](_0x39df34)||this['_registry']['load'](_0x39df34);}),!_0x5665e5&&this['_waitingAs'+'sets']['size']===0x160*-0x1a+0x1a6e+0x952&&this['_loadingCo'+'mplete']();}['ready'](_0x307b28,_0x5ecec0=this){this['_loaded']?_0x307b28['call'](_0x5ecec0,Array['from'](this['_assets'])):this['once']('load',_0x4c7dd1=>{_0x307b28['call'](_0x5ecec0,_0x4c7dd1);});}['_loadingCo'+'mplete'](){this['_loaded']||(this['_loaded']=!(-0x13c4+0x136d+-0x1*-0x57),this['_registry']['off']('load',this['_onLoad'],this),this['_registry']['off']('error',this['_onError'],this),this['_failed']['length']?(this['_callback']&&this['_callback']['call'](this['_scope'],'Failed\x20to\x20'+'load\x20some\x20'+'assets',this['_failed']),this['fire']('error',this['_failed'])):(this['_callback']&&this['_callback']['call'](this['_scope']),this['fire']('load',Array['from'](this['_assets']))));}['_onLoad'](_0x31875f){this['_loadingAs'+'sets']['has'](_0x31875f)&&(this['fire']('progress',_0x31875f),this['_loadingAs'+'sets']['delete'](_0x31875f)),this['_loadingAs'+'sets']['size']===0x7*-0x283+0x1*0x99b+-0x1*-0x7fa&&setTimeout(()=>{this['_loadingCo'+'mplete']();},-0x1*-0x67+-0x5ea+0x11*0x53);}['_onError'](_0xf577a2,_0x485a82){this['_loadingAs'+'sets']['has'](_0x485a82)&&(this['_failed']['push'](_0x485a82),this['_loadingAs'+'sets']['delete'](_0x485a82)),this['_loadingAs'+'sets']['size']===-0x1ad*-0x11+-0x1c60*-0x1+0x38dd*-0x1&&setTimeout(()=>{this['_loadingCo'+'mplete']();},-0x1807+0x82b*0x2+0xb3*0xb);}['_onAddAsse'+'t'](_0x3f802a){this['_waitingAs'+'sets']['delete'](_0x3f802a),this['_assets']['add'](_0x3f802a),_0x3f802a['loaded']||(this['_loadingAs'+'sets']['add'](_0x3f802a),this['_registry']['load'](_0x3f802a));}['_waitForAs'+'set'](_0x2d1bb2){this['_waitingAs'+'sets']['add'](_0x2d1bb2),this['_registry']['once']('add:'+_0x2d1bb2,this['_onAddAsse'+'t'],this);}}const Fc=[],_U=[[],[],[]];class gU extends ys{constructor(_0x50dd0c,_0x384128){super(_0x50dd0c),h(this,'viewBindGr'+'oups',[]),this['renderer']=_0x384128;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x1a937c=>{_0x1a937c['defaultUni'+'formBuffer']['destroy'](),_0x1a937c['destroy']();}),this['viewBindGr'+'oups']['length']=-0x47b*0x3+0x16ed+0x97c*-0x1;}['update'](_0x3ea5fa,_0x137cb8,_0x517965,_0x3e325c){this['camera']=_0x3ea5fa,this['scene']=_0x137cb8,this['layers']=_0x517965,this['mapping']=_0x3e325c;}['execute'](){const _0x20902c=this['device'],{renderer:_0x1f68da,camera:_0x495ed9,scene:_0x1c5a3f,layers:_0x4dae61,mapping:_0x2dadfd,renderTarget:_0x45412e}=this,_0x4109b5=_0x1c5a3f['layers']['layerList'],_0x27ecb4=_0x1c5a3f['layers']['subLayerEn'+'abled'],_0x598d35=_0x1c5a3f['layers']['subLayerLi'+'st'];for(let _0x2ffb56=0x712*-0x1+0x5*-0x131+0xd07;_0x2ffb56<_0x4109b5['length'];_0x2ffb56++){const _0x3ca01d=_0x4109b5[_0x2ffb56];if(!(_0x4dae61&&_0x4dae61['indexOf'](_0x3ca01d)<-0x595*0x4+0x2149+-0xaf5)&&_0x3ca01d['enabled']&&_0x27ecb4[_0x2ffb56]&&_0x3ca01d['camerasSet']['has'](_0x495ed9['camera'])){const _0xfe4307=_0x598d35[_0x2ffb56];Q['pushGpuMar'+'ker'](_0x20902c,_0x3ca01d['name']+'('+(_0xfe4307?'TRANSP':'OPAQUE')+')'),_0x3ca01d['_clearDept'+'hBuffer']&&_0x1f68da['clear'](_0x495ed9['camera'],!(-0x52f*-0x7+0x10*-0x143+0x28*-0x67),!(-0x20fb+-0x7de+0x1*0x28d9),!(0x10b9+-0xb1e+0x59a*-0x1));const _0x1ec564=_0x3ca01d['meshInstan'+'ces'];for(let _0x4d028a=0xc7f+-0x1*0x16eb+0x29b*0x4;_0x4d028a<_0x1ec564['length'];_0x4d028a++){const _0x5d6ffa=_0x1ec564[_0x4d028a];_0x5d6ffa['pick']&&_0x5d6ffa['transparen'+'t']===_0xfe4307&&(Fc['push'](_0x5d6ffa),_0x2dadfd['set'](_0x5d6ffa['id'],_0x5d6ffa));}Fc['length']>-0x2*0x959+0xfd8*0x2+0x67f*-0x2&&(_0x1c5a3f['clusteredL'+'ightingEna'+'bled']&&_0x1f68da['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x1f68da['setCameraU'+'niforms'](_0x495ed9['camera'],_0x45412e),_0x20902c['supportsUn'+'iformBuffe'+'rs']&&_0x1f68da['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x1f68da['viewUnifor'+'mFormat'],_0x1f68da['viewBindGr'+'oupFormat'],null),_0x1f68da['renderForw'+'ard'](_0x495ed9['camera'],_0x45412e,Fc,_U,Zn,_0x1615c5=>{_0x20902c['setBlendSt'+'ate'](pt['NOBLEND']);}),Fc['length']=-0xd29+-0x6f6+0x141f),Q['popGpuMark'+'er'](_0x20902c);}}}}const Rf=new Set(),SU=new re();let qU=class{constructor(_0x584aa3,_0x32bddf,_0x3ff4f2){h(this,'renderTarg'+'et',null),h(this,'mapping',new Map()),h(this,'deviceVali'+'d',!(-0xd1b+0x83*0x11+0x468)),(w['assert'](_0x584aa3),this['renderer']=_0x584aa3['renderer'],this['device']=_0x584aa3['graphicsDe'+'vice'],this['renderPass']=new gU(this['device'],_0x584aa3['renderer']),this['width']=-0x1e9*0x1+-0x1d*0xe4+0x1bbd,this['height']=0x1bc4+-0xfba+-0xc0a,this['resize'](_0x32bddf,_0x3ff4f2),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(0x1a8e+-0x1a44+-0x49);}));}['getSelecti'+'on'](_0x41bc61,_0x23386a,_0x48d4a4=-0x3da*-0x7+-0x106*0x4+-0x16dd,_0x26a2fb=0x7*-0x20b+-0x1dc9+-0x1*-0x2c17){const _0x477c15=this['device'];if(_0x477c15['isWebGPU'])return w['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];w['assert'](typeof _0x41bc61!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x23386a=this['renderTarg'+'et']['height']-(_0x23386a+_0x26a2fb);const _0xc2d1d9=this['sanitizeRe'+'ct'](_0x41bc61,_0x23386a,_0x48d4a4,_0x26a2fb);_0x477c15['setRenderT'+'arget'](this['renderTarg'+'et']),_0x477c15['updateBegi'+'n']();const _0xcf6f47=new Uint8Array((-0x163*-0x19+-0xcb9*-0x3+0x3*-0x1846)*_0xc2d1d9['z']*_0xc2d1d9['w']);return _0x477c15['readPixels'](_0xc2d1d9['x'],_0xc2d1d9['y'],_0xc2d1d9['z'],_0xc2d1d9['w'],_0xcf6f47),_0x477c15['updateEnd'](),this['decodePixe'+'ls'](_0xcf6f47,this['mapping']);}['getSelecti'+'onAsync'](_0x25455f,_0x3d711c,_0x11d813=-0x90b+0x2115+0x125*-0x15,_0x7b9db2=-0x77e+-0x1*-0x23bb+-0x1c3c){var _0x2ad955;(_0x2ad955=this['device'])!=null&&_0x2ad955['isWebGL2']&&(_0x3d711c=this['renderTarg'+'et']['height']-(_0x3d711c+_0x7b9db2));const _0x25ecfd=this['sanitizeRe'+'ct'](_0x25455f,_0x3d711c,_0x11d813,_0x7b9db2);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x25ecfd['x'],_0x25ecfd['y'],_0x25ecfd['z'],_0x25ecfd['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(-0x15*0x15a+-0x15b3+-0x3215*-0x1)})['then'](_0xca01a6=>this['decodePixe'+'ls'](_0xca01a6,this['mapping']));}['sanitizeRe'+'ct'](_0x1518c4,_0x55a652,_0x5ef227,_0x467c38){const _0x419b05=this['renderTarg'+'et']['width'],_0x32dab2=this['renderTarg'+'et']['height'];return _0x1518c4=Y['clamp'](Math['floor'](_0x1518c4),0x15a2+0x2708+-0x3caa,_0x419b05-(-0x83*-0x1f+0x2647+-0x3623)),_0x55a652=Y['clamp'](Math['floor'](_0x55a652),0x211e+0x3*0x8fe+-0x3c18,_0x32dab2-(-0x70b*-0x1+-0x26a*0xe+0x1ac2)),_0x5ef227=Math['floor'](Math['max'](_0x5ef227,-0x12ad+0x101d+0x291)),_0x5ef227=Math['min'](_0x5ef227,_0x419b05-_0x1518c4),_0x467c38=Math['floor'](Math['max'](_0x467c38,-0x699+0x1815+-0x117b)),_0x467c38=Math['min'](_0x467c38,_0x32dab2-_0x55a652),SU['set'](_0x1518c4,_0x55a652,_0x5ef227,_0x467c38);}['decodePixe'+'ls'](_0x345c81,_0x85f198){const _0x57fcb9=[];if(this['deviceVali'+'d']){const _0x6b9f13=_0x345c81['length'];for(let _0x446f7e=0x2*-0x841+0x238+0xe4a;_0x446f7e<_0x6b9f13;_0x446f7e+=0x1454+-0x4*0x4de+-0xd8){const _0x17e0bb=_0x345c81[_0x446f7e+(-0x19c8+0x1981+0x1*0x47)],_0x4c6a06=_0x345c81[_0x446f7e+(0x7a*0x4f+-0x232a+-0x1*0x27b)],_0x323dd6=_0x345c81[_0x446f7e+(0x32*-0xc8+-0x1*-0x1ed+0x2525)],_0x3bd143=(_0x345c81[_0x446f7e+(-0x12b9+-0x50a+0x17c6)]<<0xfd8+-0xaec+-0x4d4|_0x17e0bb<<-0x6a4+-0x4e*-0x2e+-0x750|_0x4c6a06<<0x6b9*0x1+0x524+-0xbd5|_0x323dd6)>>>0x3c1+0x1323+-0x16e4;_0x3bd143!==-0xef313fa3+-0x17b*-0xf0e1fd+0x8a92ae13*0x1&&Rf['add'](_0x85f198['get'](_0x3bd143));}Rf['forEach'](_0x2a5d1a=>{_0x2a5d1a&&_0x57fcb9['push'](_0x2a5d1a);}),Rf['clear']();}return _0x57fcb9;}['allocateRe'+'nderTarget'](){const _0x2d50c1=new _e(this['device'],{'format':Ne,'width':this['width'],'height':this['height'],'mipmaps':!(-0x26bb*-0x1+-0xaf5+-0x1bc5),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':'pick'});this['renderTarg'+'et']=new gt({'colorBuffer':_0x2d50c1,'depth':!(-0x5*-0x6b1+-0x1d83+0x1f9*-0x2)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x5d31d9,_0x2acb3b,_0x2a4675){_0x2a4675 instanceof Ot&&(_0x2a4675=[_0x2a4675]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x4bdd8a=this['renderPass'];_0x4bdd8a['init'](this['renderTarg'+'et']),_0x4bdd8a['colorOps']['clearValue']=ie['WHITE'],_0x4bdd8a['colorOps']['clear']=!(0x2ad*0x6+-0x1f*0xb9+-0x1*-0x659),_0x4bdd8a['depthStenc'+'ilOps']['clearDepth']=!(-0x1*0x17f+0x3bd*0x1+-0x23e),_0x4bdd8a['update'](_0x5d31d9,_0x2acb3b,_0x2a4675,this['mapping']),_0x4bdd8a['render']();}['resize'](_0x43d7df,_0x3f0a23){this['width']=Math['floor'](_0x43d7df),this['height']=Math['floor'](_0x3f0a23);}},cr,hr;const Of=new D(),RS=new D(),Ri=new Dn(),Ro=new Dn(),ep=new Dn();Ri['end']=new D(),Ro['end']=new D(),ep['end']=new D();const en=new D(),Nc=new D(),Ff=new D(),OS=new D(),Nf=new D(),kc=new D(),Uc=new D(),Bc=new D(),zc=new D(),kf=new D(),yU=new D(),tn=new D(),wo=new D(),Vc=new D(),Gc=new D(),Eo=new D(),FS=new D(),NS=new D(),kS=new D(),US=new D(),vU=new re();function BS(_0x1860de,_0x8a541b,_0x3b1fa2){return yU['cross'](_0x1860de,_0x8a541b)['dot'](_0x3b1fa2);}function xU(_0x1a44cb,_0x18d0a0,_0x4705fe){en['sub2'](_0x18d0a0,_0x1a44cb),Nc['sub2'](_0x4705fe[0x513*0x4+0x1a61+-0x15*0x239],_0x1a44cb),Ff['sub2'](_0x4705fe[-0x61c+0xddb+-0x7be*0x1],_0x1a44cb),OS['sub2'](_0x4705fe[-0x1*-0x11c2+0x1*-0x26dd+0x151d],_0x1a44cb),kc['cross'](OS,en);let _0x41a566=Nc['dot'](kc),_0x56e164,_0x33d92d;if(_0x41a566>=0x1e*-0x97+-0x704*-0x1+0x557*0x2){if(_0x56e164=-Ff['dot'](kc),_0x56e164<0x555+-0x22db*0x1+0x1d86*0x1||(_0x33d92d=BS(en,Ff,Nc),_0x33d92d<0x2493+0x1*0x303+-0x1*0x2796))return-(-0x17cf+-0x9e7+0x21b7);const _0x221a7a=(0xc*0x74+0x4*-0x634+0x1361)/(_0x56e164+_0x41a566+_0x33d92d);Uc['copy'](_0x4705fe[0x12fb+0xe3*-0x1+-0x1218])['mulScalar'](_0x56e164*_0x221a7a),Bc['copy'](_0x4705fe[-0x2*0x17d+0x2b*-0x6+0x3fd])['mulScalar'](_0x41a566*_0x221a7a),zc['copy'](_0x4705fe[0xaae+0x1886+-0x2332])['mulScalar'](_0x33d92d*_0x221a7a),kf['copy'](Uc)['add'](Bc)['add'](zc);}else{if(Nf['sub2'](_0x4705fe[-0xb07+-0x4*0x2cb+0x1636],_0x1a44cb),_0x56e164=Nf['dot'](kc),_0x56e164<0x242*0xe+0x1d81*0x1+-0xc39*0x5||(_0x33d92d=BS(en,Nc,Nf),_0x33d92d<-0x2041+-0x1*-0x662+-0x1*-0x19df))return-(-0x3b*0x7f+-0x25bc+0x4302);_0x41a566=-_0x41a566;const _0x569cfd=(-0x8a6+-0x1*0x2093+-0x6df*-0x6)/(_0x56e164+_0x41a566+_0x33d92d);Uc['copy'](_0x4705fe[0x71d+0x1e9c+-0x25b9])['mulScalar'](_0x56e164*_0x569cfd),Bc['copy'](_0x4705fe[-0xc43+0x11*0x193+0x1*-0xe7d])['mulScalar'](_0x41a566*_0x569cfd),zc['copy'](_0x4705fe[-0x2e*0xad+0x2257*0x1+0x115*-0x3])['mulScalar'](_0x33d92d*_0x569cfd),kf['copy'](Uc)['add'](Bc)['add'](zc);}return en['sub2'](_0x4705fe[-0x129d+-0x195e+-0x9*-0x4e3],_0x4705fe[0x120f+-0x18ea+0x6dd])['lengthSq']()<(0x1877+-0x2*0x8d1+-0x6d5+0.0001)*(0x30*-0x2c+-0xb*0x2f1+0x289b+0.0001)||en['sub2'](_0x4705fe[0x2d4*0x1+0x1c+0x1*-0x2ef],_0x4705fe[-0xe24+0x13*0xbf+0x6*-0x1])['lengthSq']()<(0xdb5*-0x1+0x5b9*-0x5+0x2a52*0x1+0.0001)*(-0x241d*-0x1+-0x5a*-0x4a+-0x3e21+0.0001)?-(-0x14*-0xa3+0x3f6+-0x10b1):kf['sub'](_0x1a44cb)['lengthSq']();}class Am{constructor(_0x2b8eff,_0x1c9a53,_0x12d1c0){this['event']=_0x2b8eff,this['element']=_0x1c9a53,this['camera']=_0x12d1c0,this['_stopPropa'+'gation']=!(-0xd82+0xa2d+0x356);}['stopPropag'+'ation'](){this['_stopPropa'+'gation']=!(-0x1*0x18c1+-0x1a12+0x32d3),this['event']&&(this['event']['stopImmedi'+'atePropaga'+'tion'](),this['event']['stopPropag'+'ation']());}}class bo extends Am{constructor(_0x1b1d47,_0x26fe16,_0x387559,_0x4dce62,_0x3ccb08,_0x1e21f2,_0x3cd917){super(_0x1b1d47,_0x26fe16,_0x387559),this['x']=_0x4dce62,this['y']=_0x3ccb08,this['ctrlKey']=_0x1b1d47['ctrlKey']||!(0x214c+0x1*0x1b6e+-0x5*0xc25),this['altKey']=_0x1b1d47['altKey']||!(0x2*0x425+0x51+-0x89a),this['shiftKey']=_0x1b1d47['shiftKey']||!(0x2a6*-0xc+-0x1eec+-0x14e7*-0x3),this['metaKey']=_0x1b1d47['metaKey']||!(0x15de+-0x873+-0xd6a),this['button']=_0x1b1d47['button'],sa['isPointerL'+'ocked']()?(this['dx']=_0x1b1d47['movementX']||_0x1b1d47['webkitMove'+'mentX']||_0x1b1d47['mozMovemen'+'tX']||-0x11a2*0x1+0x9ab+0x7f7,this['dy']=_0x1b1d47['movementY']||_0x1b1d47['webkitMove'+'mentY']||_0x1b1d47['mozMovemen'+'tY']||-0x1026+0x1d1b*0x1+-0x6b*0x1f):(this['dx']=_0x4dce62-_0x1e21f2,this['dy']=_0x3ccb08-_0x3cd917),this['wheelDelta']=-0xdec+-0xbc*-0x19+-0x470,_0x1b1d47['type']==='wheel'&&(_0x1b1d47['deltaY']>0x4*0x58+-0x1*0x15b2+0x242*0x9?this['wheelDelta']=-0xe5b+0x977*-0x4+0x8*0x687:_0x1b1d47['deltaY']<-0x1*-0x21a1+0x24ce+0x466f*-0x1&&(this['wheelDelta']=-(-0xe6b*0x2+-0x23de+0x40b5)));}}class Ao extends Am{constructor(_0x13bd50,_0x390db0,_0x1d25e8,_0x2a5bb8,_0x424ed6,_0x57a012){super(_0x13bd50,_0x390db0,_0x1d25e8),this['touches']=_0x13bd50['touches'],this['changedTou'+'ches']=_0x13bd50['changedTou'+'ches'],this['x']=_0x2a5bb8,this['y']=_0x424ed6,this['touch']=_0x57a012;}}class dr extends Am{constructor(_0x210429,_0x2aa148,_0x322b8f,_0x270340){super(_0x210429,_0x2aa148,_0x322b8f),this['inputSourc'+'e']=_0x270340;}}class Xo{constructor(_0x32db76,_0x301ce3){this['_app']=null,this['_attached']=!(0x1aec+-0x87+0x699*-0x4),this['_target']=null,this['_enabled']=!(0x3*-0x589+-0xa58*0x1+0x1af3),this['_lastX']=-0x1c60+-0x4*-0x14b+0x1734,this['_lastY']=-0x8*0x43e+-0xeb8+0x81c*0x6,this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_touchstar'+'tHandler']=this['_handleTou'+'chStart']['bind'](this),this['_touchendH'+'andler']=this['_handleTou'+'chEnd']['bind'](this),this['_touchcanc'+'elHandler']=this['_touchendH'+'andler'],this['_touchmove'+'Handler']=this['_handleTou'+'chMove']['bind'](this),this['_sortHandl'+'er']=this['_sortEleme'+'nts']['bind'](this),this['_elements']=[],this['_hoveredEl'+'ement']=null,this['_pressedEl'+'ement']=null,this['_touchedEl'+'ements']={},this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired']={},this['_selectedE'+'lements']={},this['_selectedP'+'ressedElem'+'ents']={},this['_useMouse']=!_0x301ce3||_0x301ce3['useMouse']!==!(0xd*-0x1a0+-0x70d+-0x1c2e*-0x1),this['_useTouch']=!_0x301ce3||_0x301ce3['useTouch']!==!(-0x2026+0x6aa*-0x5+-0x1c5*-0x25),this['_useXr']=!_0x301ce3||_0x301ce3['useXr']!==!(0x17*0x3b+0x3a8*-0x3+0x42*0x16),this['_selectEve'+'ntsAttache'+'d']=!(0x22c1+0x1cca+-0x3f8a*0x1),Ae['touch']&&(this['_clickedEn'+'tities']={}),this['attach'](_0x32db76);}set['enabled'](_0x280d01){this['_enabled']=_0x280d01;}get['enabled'](){return this['_enabled'];}set['app'](_0x2abe99){this['_app']=_0x2abe99;}get['app'](){return this['_app']||Ms();}['attach'](_0x1b107c){this['_attached']&&(this['_attached']=!(0xda2+0x2*-0x1382+-0x43*-0x61),this['detach']()),this['_target']=_0x1b107c,this['_attached']=!(-0x1855+-0x2*0x91d+0x2a8f);const _0x12069a=Ae['passiveEve'+'nts']?{'passive':!(0x3fa+-0x34*-0x6b+-0x19b6)}:!(-0xed9+-0x1286+0x216*0x10);this['_useMouse']&&(window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x12069a),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x12069a),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x12069a),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x12069a)),this['_useTouch']&&Ae['touch']&&(this['_target']['addEventLi'+'stener']('touchstart',this['_touchstar'+'tHandler'],_0x12069a),this['_target']['addEventLi'+'stener']('touchend',this['_touchendH'+'andler'],!(0x10b*-0x17+0x1a62+0x1*-0x264)),this['_target']['addEventLi'+'stener']('touchmove',this['_touchmove'+'Handler'],!(0x1a27+-0x7*0xca+-0x30*0x6e)),this['_target']['addEventLi'+'stener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(-0x807+-0x1c14+0x241c))),this['attachSele'+'ctEvents']();}['attachSele'+'ctEvents'](){!this['_selectEve'+'ntsAttache'+'d']&&this['_useXr']&&this['app']&&this['app']['xr']&&this['app']['xr']['supported']&&(this['_clickedEn'+'tities']||(this['_clickedEn'+'tities']={}),this['_selectEve'+'ntsAttache'+'d']=!(-0x1*-0x1003+-0x9b6*0x3+0xd1f),this['app']['xr']['on']('start',this['_onXrStart'],this));}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x2544+0xaf*-0x2f+0x6*0xb91);const _0x51a5a7=Ae['passiveEve'+'nts']?{'passive':!(0x1161+0x33f*-0xb+0x1254)}:!(-0xcd9+-0x1222+-0x4*-0x7bf);this['_useMouse']&&(window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x51a5a7),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x51a5a7),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x51a5a7),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x51a5a7)),this['_useTouch']&&(this['_target']['removeEven'+'tListener']('touchstart',this['_touchstar'+'tHandler'],_0x51a5a7),this['_target']['removeEven'+'tListener']('touchend',this['_touchendH'+'andler'],!(-0x13*-0x1d1+0x2e1*0x4+-0x2e06)),this['_target']['removeEven'+'tListener']('touchmove',this['_touchmove'+'Handler'],!(-0x7*-0x170+0x3*-0x36b+0xa*0x5)),this['_target']['removeEven'+'tListener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(-0x908+-0x153d+0x1e46))),this['_selectEve'+'ntsAttache'+'d']&&(this['_selectEve'+'ntsAttache'+'d']=!(0xb2*-0x14+-0x16c5+0x24ae),this['app']['xr']['off']('start',this['_onXrStart'],this),this['app']['xr']['off']('end',this['_onXrEnd'],this),this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this)),this['_target']=null;}['addElement'](_0x296d7b){this['_elements']['indexOf'](_0x296d7b)===-(-0x2cb+0x2*0x12a+0x78)&&this['_elements']['push'](_0x296d7b);}['removeElem'+'ent'](_0x68bac0){const _0x2e1f84=this['_elements']['indexOf'](_0x68bac0);_0x2e1f84!==-(0xdb8+0x23d8+-0x3*0x1085)&&this['_elements']['splice'](_0x2e1f84,0x4*0x75a+0xcb1+-0x2*0x150c);}['_handleUp'](_0x3f3524){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x3f3524),this['_onElement'+'MouseEvent']('mouseup',_0x3f3524)));}['_handleDow'+'n'](_0x249bf7){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x249bf7),this['_onElement'+'MouseEvent']('mousedown',_0x249bf7)));}['_handleMov'+'e'](_0x576704){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x576704),this['_onElement'+'MouseEvent']('mousemove',_0x576704),this['_lastX']=cr,this['_lastY']=hr);}['_handleWhe'+'el'](_0x4f0111){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x4f0111),this['_onElement'+'MouseEvent']('mousewheel',_0x4f0111));}['_determine'+'TouchedEle'+'ments'](_0x1859a3){const _0x484a17={},_0x1b83ff=this['app']['systems']['camera']['cameras'];for(let _0x4ea8f6=_0x1b83ff['length']-(-0xf2c+0x309+0xc24);_0x4ea8f6>=0x1dea+0x1*0xd01+-0x2aeb;_0x4ea8f6--){const _0x350b09=_0x1b83ff[_0x4ea8f6];let _0x66f0f3=0x45a*0x2+0x2601+-0x2eb5*0x1;const _0x386aef=_0x1859a3['changedTou'+'ches']['length'];for(let _0x4891c7=0xd29+0xe3d*0x1+-0x1b66;_0x4891c7<_0x386aef;_0x4891c7++){if(_0x484a17[_0x1859a3['changedTou'+'ches'][_0x4891c7]['identifier']]){_0x66f0f3++;continue;}const _0x516b53=Wc(_0x1859a3['changedTou'+'ches'][_0x4891c7]),_0x332260=this['_getTarget'+'ElementByC'+'oords'](_0x350b09,_0x516b53['x'],_0x516b53['y']);_0x332260&&(_0x66f0f3++,_0x484a17[_0x1859a3['changedTou'+'ches'][_0x4891c7]['identifier']]={'element':_0x332260,'camera':_0x350b09,'x':_0x516b53['x'],'y':_0x516b53['y']});}if(_0x66f0f3===_0x386aef)break;}return _0x484a17;}['_handleTou'+'chStart'](_0x3fc4c2){if(!this['_enabled'])return;const _0x2343be=this['_determine'+'TouchedEle'+'ments'](_0x3fc4c2);for(let _0x5a4218=0xda1+-0xf5c+0x1bb*0x1,_0x175c0a=_0x3fc4c2['changedTou'+'ches']['length'];_0x5a4218<_0x175c0a;_0x5a4218++){const _0x5c9dad=_0x3fc4c2['changedTou'+'ches'][_0x5a4218],_0x306fde=_0x2343be[_0x5c9dad['identifier']],_0x207a21=this['_touchedEl'+'ements'][_0x5c9dad['identifier']];_0x306fde&&(!_0x207a21||_0x306fde['element']!==_0x207a21['element'])&&(this['_fireEvent'](_0x3fc4c2['type'],new Ao(_0x3fc4c2,_0x306fde['element'],_0x306fde['camera'],_0x306fde['x'],_0x306fde['y'],_0x5c9dad)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x5c9dad['identifier']]=!(-0x1*-0x1de4+-0x129d*-0x1+-0x3080));}for(const _0xb4c8e0 in _0x2343be)this['_touchedEl'+'ements'][_0xb4c8e0]=_0x2343be[_0xb4c8e0];}['_handleTou'+'chEnd'](_0x672539){if(!this['_enabled'])return;const _0xd7a8d3=this['app']['systems']['camera']['cameras'];for(const _0x1dc577 in this['_clickedEn'+'tities'])delete this['_clickedEn'+'tities'][_0x1dc577];for(let _0x1eaea5=-0x1e4f*-0x1+-0x580+-0x845*0x3,_0x2e1319=_0x672539['changedTou'+'ches']['length'];_0x1eaea5<_0x2e1319;_0x1eaea5++){const _0x273c69=_0x672539['changedTou'+'ches'][_0x1eaea5],_0x1a6ee1=this['_touchedEl'+'ements'][_0x273c69['identifier']];if(!_0x1a6ee1)continue;const _0x4715f7=_0x1a6ee1['element'],_0x26fa78=_0x1a6ee1['camera'],_0x7f08e9=_0x1a6ee1['x'],_0x39b3eb=_0x1a6ee1['y'];delete this['_touchedEl'+'ements'][_0x273c69['identifier']],delete this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x273c69['identifier']];const _0x1fce58=Wc(_0x273c69);for(let _0x193f4c=_0xd7a8d3['length']-(0x1b5*-0x1+-0x1607+0x17bd);_0x193f4c>=0xec3*0x1+0x17e1+-0x26a4;_0x193f4c--)this['_getTarget'+'ElementByC'+'oords'](_0xd7a8d3[_0x193f4c],_0x1fce58['x'],_0x1fce58['y'])===_0x4715f7&&(this['_clickedEn'+'tities'][_0x4715f7['entity']['getGuid']()]||(this['_fireEvent']('click',new Ao(_0x672539,_0x4715f7,_0x26fa78,_0x7f08e9,_0x39b3eb,_0x273c69)),this['_clickedEn'+'tities'][_0x4715f7['entity']['getGuid']()]=Date['now']()));this['_fireEvent'](_0x672539['type'],new Ao(_0x672539,_0x4715f7,_0x26fa78,_0x7f08e9,_0x39b3eb,_0x273c69));}}['_handleTou'+'chMove'](_0x15fcf4){if(_0x15fcf4['preventDef'+'ault'](),!this['_enabled'])return;const _0x38f2e8=this['_determine'+'TouchedEle'+'ments'](_0x15fcf4);for(let _0x47fe2b=0x19ae+0x1*-0x373+0x32d*-0x7,_0x546a69=_0x15fcf4['changedTou'+'ches']['length'];_0x47fe2b<_0x546a69;_0x47fe2b++){const _0x5dc493=_0x15fcf4['changedTou'+'ches'][_0x47fe2b],_0x2b2eff=_0x38f2e8[_0x5dc493['identifier']],_0x1f8e40=this['_touchedEl'+'ements'][_0x5dc493['identifier']];if(_0x1f8e40){const _0x2ba04d=Wc(_0x5dc493);(!_0x2b2eff||_0x2b2eff['element']!==_0x1f8e40['element'])&&!this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x5dc493['identifier']]&&(this['_fireEvent']('touchleave',new Ao(_0x15fcf4,_0x1f8e40['element'],_0x1f8e40['camera'],_0x2ba04d['x'],_0x2ba04d['y'],_0x5dc493)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x5dc493['identifier']]=!(0x1e1c*-0x1+-0x22a1+0x40bd)),this['_fireEvent']('touchmove',new Ao(_0x15fcf4,_0x1f8e40['element'],_0x1f8e40['camera'],_0x2ba04d['x'],_0x2ba04d['y'],_0x5dc493));}}}['_onElement'+'MouseEvent'](_0x18623b,_0x1685c9){let _0x3369a7=null;const _0x535561=this['_hoveredEl'+'ement'];this['_hoveredEl'+'ement']=null;const _0x542376=this['app']['systems']['camera']['cameras'];let _0x35761f;for(let _0x38201e=_0x542376['length']-(0xa*-0x15d+-0x1936+0x26d9);_0x38201e>=0x149d+-0xf48+-0x555&&(_0x35761f=_0x542376[_0x38201e],_0x3369a7=this['_getTarget'+'ElementByC'+'oords'](_0x35761f,cr,hr),!_0x3369a7);_0x38201e--);if(this['_hoveredEl'+'ement']=_0x3369a7,(_0x18623b==='mousemove'||_0x18623b==='mouseup')&&this['_pressedEl'+'ement']?this['_fireEvent'](_0x18623b,new bo(_0x1685c9,this['_pressedEl'+'ement'],_0x35761f,cr,hr,this['_lastX'],this['_lastY'])):_0x3369a7&&(this['_fireEvent'](_0x18623b,new bo(_0x1685c9,_0x3369a7,_0x35761f,cr,hr,this['_lastX'],this['_lastY'])),_0x18623b==='mousedown'&&(this['_pressedEl'+'ement']=_0x3369a7)),_0x535561!==this['_hoveredEl'+'ement']&&(_0x535561&&this['_fireEvent']('mouseleave',new bo(_0x1685c9,_0x535561,_0x35761f,cr,hr,this['_lastX'],this['_lastY'])),this['_hoveredEl'+'ement']&&this['_fireEvent']('mouseenter',new bo(_0x1685c9,this['_hoveredEl'+'ement'],_0x35761f,cr,hr,this['_lastX'],this['_lastY']))),_0x18623b==='mouseup'&&this['_pressedEl'+'ement']){if(this['_pressedEl'+'ement']===this['_hoveredEl'+'ement']){const _0x41596f=this['_hoveredEl'+'ement']['entity']['getGuid']();let _0x4d0404=!this['_clickedEn'+'tities'];if(this['_clickedEn'+'tities']){const _0x388945=this['_clickedEn'+'tities'][_0x41596f]||0x105*0x15+-0x1c43+0x6da;_0x4d0404=Date['now']()-_0x388945>-0x2394+-0x219*-0xd+0x97b,delete this['_clickedEn'+'tities'][_0x41596f];}_0x4d0404&&this['_fireEvent']('click',new bo(_0x1685c9,this['_hoveredEl'+'ement'],_0x35761f,cr,hr,this['_lastX'],this['_lastY']));}this['_pressedEl'+'ement']=null;}}['_onXrStart'](){this['app']['xr']['on']('end',this['_onXrEnd'],this),this['app']['xr']['on']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['on']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['on']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['on']('remove',this['_onXrInput'+'Remove'],this);}['_onXrEnd'](){this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this);}['_onXrUpdat'+'e'](){if(!this['_enabled'])return;const _0x196ddd=this['app']['xr']['input']['inputSourc'+'es'];for(let _0x490b8d=0xb82+-0x227c+-0xb7d*-0x2;_0x490b8d<_0x196ddd['length'];_0x490b8d++)this['_onElement'+'SelectEven'+'t']('selectmove',_0x196ddd[_0x490b8d],null);}['_onXrInput'+'Remove'](_0x35099b){const _0x5293f5=this['_selectedE'+'lements'][_0x35099b['id']];_0x5293f5&&(_0x35099b['_elementEn'+'tity']=null,this['_fireEvent']('selectleav'+'e',new dr(null,_0x5293f5,null,_0x35099b))),delete this['_selectedE'+'lements'][_0x35099b['id']],delete this['_selectedP'+'ressedElem'+'ents'][_0x35099b['id']];}['_onSelectS'+'tart'](_0x61a0a8,_0x3bb17c){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectstar'+'t',_0x61a0a8,_0x3bb17c);}['_onSelectE'+'nd'](_0x309784,_0x10748f){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectend',_0x309784,_0x10748f);}['_onElement'+'SelectEven'+'t'](_0x51b9d0,_0x3d5e6d,_0x353fef){let _0x1fd057;const _0x2b830a=this['_selectedE'+'lements'][_0x3d5e6d['id']];let _0x2fdb53;const _0x1da563=this['app']['systems']['camera']['cameras'];let _0x59c7ca;if(_0x3d5e6d['elementInp'+'ut']){ep['set'](_0x3d5e6d['getOrigin'](),_0x3d5e6d['getDirecti'+'on']());for(let _0x199761=_0x1da563['length']-(0x247*-0x9+0x33c*-0x8+0x2e60);_0x199761>=-0x5*-0x73d+0x1190+0x4e3*-0xb&&(_0x59c7ca=_0x1da563[_0x199761],_0x1fd057=this['_getTarget'+'ElementByR'+'ay'](ep,_0x59c7ca),!_0x1fd057);_0x199761--);}_0x3d5e6d['_elementEn'+'tity']=_0x1fd057||null,_0x1fd057?(this['_selectedE'+'lements'][_0x3d5e6d['id']]=_0x1fd057,_0x2fdb53=_0x1fd057):delete this['_selectedE'+'lements'][_0x3d5e6d['id']],_0x2b830a!==_0x2fdb53&&(_0x2b830a&&this['_fireEvent']('selectleav'+'e',new dr(_0x353fef,_0x2b830a,_0x59c7ca,_0x3d5e6d)),_0x2fdb53&&this['_fireEvent']('selectente'+'r',new dr(_0x353fef,_0x2fdb53,_0x59c7ca,_0x3d5e6d)));const _0x2a796b=this['_selectedP'+'ressedElem'+'ents'][_0x3d5e6d['id']];_0x51b9d0==='selectmove'&&_0x2a796b&&this['_fireEvent']('selectmove',new dr(_0x353fef,_0x2a796b,_0x59c7ca,_0x3d5e6d)),_0x51b9d0==='selectstar'+'t'&&(this['_selectedP'+'ressedElem'+'ents'][_0x3d5e6d['id']]=_0x2fdb53,_0x2fdb53&&this['_fireEvent']('selectstar'+'t',new dr(_0x353fef,_0x2fdb53,_0x59c7ca,_0x3d5e6d))),!_0x3d5e6d['elementInp'+'ut']&&_0x2a796b&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x3d5e6d['id']],_0x2b830a&&this['_fireEvent']('selectend',new dr(_0x353fef,_0x2a796b,_0x59c7ca,_0x3d5e6d))),_0x51b9d0==='selectend'&&_0x3d5e6d['elementInp'+'ut']&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x3d5e6d['id']],_0x2a796b&&this['_fireEvent']('selectend',new dr(_0x353fef,_0x2a796b,_0x59c7ca,_0x3d5e6d)),_0x2a796b&&_0x2a796b===_0x2b830a&&this['_fireEvent']('click',new dr(_0x353fef,_0x2a796b,_0x59c7ca,_0x3d5e6d)));}['_fireEvent'](_0x2136e1,_0x12eeef){let _0xfd39e2=_0x12eeef['element'];for(;_0xfd39e2['fire'](_0x2136e1,_0x12eeef),!(_0x12eeef['_stopPropa'+'gation']||!_0xfd39e2['entity']['parent']||(_0xfd39e2=_0xfd39e2['entity']['parent']['element'],!_0xfd39e2)););}['_calcMouse'+'Coords'](_0xa377cc){const _0x369725=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x2f08f8=Math['floor'](_0x369725['left']),_0x5ac167=Math['floor'](_0x369725['top']);cr=_0xa377cc['clientX']-_0x2f08f8,hr=_0xa377cc['clientY']-_0x5ac167;}['_sortEleme'+'nts'](_0xc54a23,_0x17e4cc){const _0x389b64=this['app']['scene']['layers']['sortTransp'+'arentLayer'+'s'](_0xc54a23['layers'],_0x17e4cc['layers']);return _0x389b64!==-0x1*-0x17fd+-0x1bb4+0x3b7?_0x389b64:_0xc54a23['screen']&&!_0x17e4cc['screen']?-(-0x1768+0x1*0x8+0x1761):!_0xc54a23['screen']&&_0x17e4cc['screen']?-0x556*-0x2+0x1598+0x1*-0x2043:!_0xc54a23['screen']&&!_0x17e4cc['screen']?0x15*-0x31+-0x1bb*-0x16+-0x17b*0x17:_0xc54a23['screen']['screen']['screenSpac'+'e']&&!_0x17e4cc['screen']['screen']['screenSpac'+'e']?-(-0x241*-0xf+-0x6aa*-0x4+-0x3c76):_0x17e4cc['screen']['screen']['screenSpac'+'e']&&!_0xc54a23['screen']['screen']['screenSpac'+'e']?-0x1*0x6+-0x138b+0x1392:_0x17e4cc['drawOrder']-_0xc54a23['drawOrder'];}['_getTarget'+'ElementByC'+'oords'](_0x3342bb,_0x24c355,_0x3dcc7c){const _0x1c95c5=this['_calculate'+'RayScreen'](_0x24c355,_0x3dcc7c,_0x3342bb,Ri)?Ri:null,_0x1f9ee8=this['_calculate'+'Ray3d'](_0x24c355,_0x3dcc7c,_0x3342bb,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x3342bb,_0x1c95c5,_0x1f9ee8);}['_getTarget'+'ElementByR'+'ay'](_0x327c5e,_0x374f4d){Ri['origin']['copy'](_0x327c5e['origin']),Ri['direction']['copy'](_0x327c5e['direction']),Ri['end']['copy'](Ri['direction'])['mulScalar'](_0x374f4d['farClip']*(0x1043+-0x1*0x5b+-0xfe6))['add'](Ri['origin']);const _0x3151fa=Ri,_0x31c30b=_0x374f4d['worldToScr'+'een'](_0x3151fa['origin'],Of),_0x4d36f5=this['_calculate'+'RayScreen'](_0x31c30b['x'],_0x31c30b['y'],_0x374f4d,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x374f4d,_0x4d36f5,_0x3151fa);}['_getTarget'+'Element'](_0x40451b,_0x3901ab,_0x179eb9){let _0x33c655=null,_0x513d47=(-0x1*-0xfc4+0x1b+-0xfde)/(0x1f*-0x107+-0x1894+0xf*0x3c3);this['_elements']['sort'](this['_sortHandl'+'er']);for(let _0x2b833d=-0x8*-0x20e+0x90f*0x2+-0x228e*0x1,_0x505a45=this['_elements']['length'];_0x2b833d<_0x505a45;_0x2b833d++){const _0x567616=this['_elements'][_0x2b833d];if(_0x567616['layers']['some'](_0x127a3b=>_0x40451b['layersSet']['has'](_0x127a3b))){if(_0x567616['screen']&&_0x567616['screen']['screen']['screenSpac'+'e']){if(!_0x3901ab)continue;if(this['_checkElem'+'ent'](_0x3901ab,_0x567616,!(-0x3e*0x97+-0x3*-0xb25+0x323))>=-0x2326+0x1978+0x9ae){_0x33c655=_0x567616;break;}}else{if(!_0x179eb9)continue;const _0x17e2f0=this['_checkElem'+'ent'](_0x179eb9,_0x567616,!(-0x1a*-0x6d+-0x2262+0x2f*0x7f));if(_0x17e2f0>=-0x15d7+0xa02*-0x1+0x1*0x1fd9&&(_0x17e2f0<_0x513d47&&(_0x33c655=_0x567616,_0x513d47=_0x17e2f0),_0x567616['screen'])){_0x33c655=_0x567616;break;}}}}return _0x33c655;}['_calculate'+'RayScreen'](_0x565812,_0x40ab38,_0x2a373e,_0x2e5020){const _0x335ae7=this['app']['graphicsDe'+'vice']['width'],_0x5e1739=this['app']['graphicsDe'+'vice']['height'],_0x1a7ef7=_0x2a373e['rect']['z']*_0x335ae7,_0xce044f=_0x2a373e['rect']['w']*_0x5e1739,_0x2a067a=_0x2a373e['rect']['x']*_0x335ae7,_0x3243b5=_0x2a067a+_0x1a7ef7,_0x4ce3af=(0x988*0x2+0x22dd+0x77*-0x74-_0x2a373e['rect']['y'])*_0x5e1739,_0x1e3ccb=_0x4ce3af-_0xce044f;let _0x4001cb=_0x565812*_0x335ae7/this['_target']['clientWidt'+'h'],_0x347538=_0x40ab38*_0x5e1739/this['_target']['clientHeig'+'ht'];return _0x4001cb>=_0x2a067a&&_0x4001cb<=_0x3243b5&&_0x347538<=_0x4ce3af&&_0x347538>=_0x1e3ccb?(_0x4001cb=_0x335ae7*(_0x4001cb-_0x2a067a)/_0x1a7ef7,_0x347538=_0x5e1739*(_0x347538-_0x1e3ccb)/_0xce044f,_0x347538=_0x5e1739-_0x347538,_0x2e5020['origin']['set'](_0x4001cb,_0x347538,0x3*0x1bb+0x1700+0x52*-0x58),_0x2e5020['direction']['set'](0xb*-0x35f+0x9b2+0x1b63,-0x21ba+-0xa09+0x2bc3,-(-0x319+0x164b+-0x1331)),_0x2e5020['end']['copy'](_0x2e5020['direction'])['mulScalar'](0x1c9*0x4+0x35f*-0x5+-0x13*-0x83)['add'](_0x2e5020['origin']),!(0x11f3*-0x1+-0xbb7*0x3+-0xd46*-0x4)):!(0xa8d+0x56*0x2b+-0xc7f*0x2);}['_calculate'+'Ray3d'](_0x39a448,_0x4eaaaf,_0x2bc8c7,_0x1cbb16){const _0x2164af=this['_target']['clientWidt'+'h'],_0x24e8da=this['_target']['clientHeig'+'ht'],_0xba57d6=_0x2bc8c7['rect']['z']*_0x2164af,_0x50a5bf=_0x2bc8c7['rect']['w']*_0x24e8da,_0x3a16d9=_0x2bc8c7['rect']['x']*_0x2164af,_0x16a388=_0x3a16d9+_0xba57d6,_0x5cef1d=(-0x85c+-0x1251+0x1aae-_0x2bc8c7['rect']['y'])*_0x24e8da,_0x4e832b=_0x5cef1d-_0x50a5bf;let _0x1aca57=_0x39a448,_0x48eb23=_0x4eaaaf;return _0x39a448>=_0x3a16d9&&_0x39a448<=_0x16a388&&_0x4eaaaf<=_0x5cef1d&&_0x48eb23>=_0x4e832b?(_0x1aca57=_0x2164af*(_0x1aca57-_0x3a16d9)/_0xba57d6,_0x48eb23=_0x24e8da*(_0x48eb23-_0x4e832b)/_0x50a5bf,_0x2bc8c7['screenToWo'+'rld'](_0x1aca57,_0x48eb23,_0x2bc8c7['nearClip'],Of),_0x2bc8c7['screenToWo'+'rld'](_0x1aca57,_0x48eb23,_0x2bc8c7['farClip'],RS),_0x1cbb16['origin']['copy'](Of),_0x1cbb16['direction']['set'](-0x417+0x2136*0x1+-0x1d1f,-0x24f7+-0x84c+0x2d43,-(-0x2bd*-0x4+0x1*0x22a1+-0xb65*0x4)),_0x1cbb16['end']['copy'](RS),!(0x1cb1+-0x1*-0x9ef+-0xce*0x30)):!(-0x4a6+0xa*0x2f+0x67*0x7);}['_checkElem'+'ent'](_0x171595,_0x32d3ad,_0x5b447a){if(_0x32d3ad['maskedBy']&&this['_checkElem'+'ent'](_0x171595,_0x32d3ad['maskedBy']['element'],_0x5b447a)<0x255b+0x1986+-0x3ee1)return-(0x1*0x4e1+-0x368+-0x178);let _0x289532;_0x5b447a?_0x289532=Xo['calculateS'+'caleToScre'+'en'](_0x32d3ad):_0x289532=Xo['calculateS'+'caleToWorl'+'d'](_0x32d3ad);const _0x24082e=Xo['buildHitCo'+'rners'](_0x32d3ad,_0x5b447a?_0x32d3ad['screenCorn'+'ers']:_0x32d3ad['worldCorne'+'rs'],_0x289532);return xU(_0x171595['origin'],_0x171595['end'],_0x24082e);}static['buildHitCo'+'rners'](_0x5229ec,_0x2572a6,_0x3e85a4){let _0x4d46eb=_0x2572a6;if(_0x5229ec['entity']&&_0x5229ec['entity']['button']){const _0x193b1b=_0x5229ec['entity']['button']['hitPadding']||vU;wo['copy'](_0x5229ec['entity']['up']),Vc['copy'](wo)['mulScalar'](-(-0x1336+-0xfe4+0x231b)),Eo['copy'](_0x5229ec['entity']['right']),Gc['copy'](Eo)['mulScalar'](-(0x1515+0xe09+-0x231d)),wo['mulScalar'](_0x193b1b['w']*_0x3e85a4['y']),Vc['mulScalar'](_0x193b1b['y']*_0x3e85a4['y']),Eo['mulScalar'](_0x193b1b['z']*_0x3e85a4['x']),Gc['mulScalar'](_0x193b1b['x']*_0x3e85a4['x']),FS['copy'](_0x4d46eb[0x69*0x5c+-0x1891+-0xd2b])['add'](Vc)['add'](Gc),NS['copy'](_0x4d46eb[0x222a+0xb4f+-0xf28*0x3])['add'](Vc)['add'](Eo),kS['copy'](_0x4d46eb[-0xa*-0x1f1+0x1*-0x166+0x39a*-0x5])['add'](wo)['add'](Eo),US['copy'](_0x4d46eb[0x7*0x3d5+0xc76+-0x2746])['add'](wo)['add'](Gc),_0x4d46eb=[FS,NS,kS,US];}if(_0x3e85a4['x']<-0x593+0x2663*-0x1+0x296*0x11){const _0x3f7795=_0x4d46eb[-0xea1+-0x2ba+0x115d]['x'],_0x37c699=_0x4d46eb[0x233*0x2+0x1af6+-0x1f5c]['x'];_0x4d46eb[0x1510+0xf44+0x19*-0x174]['x']=_0x3f7795,_0x4d46eb[0x7*-0x1cf+-0x1b02+0x27ac]['x']=_0x37c699,_0x4d46eb[0x8a4+-0xd87*0x2+0x126c]['x']=_0x37c699,_0x4d46eb[-0x1511+-0x773*0x2+0x23fa]['x']=_0x3f7795;}if(_0x3e85a4['y']<0xb5+-0x27c+0x1c7){const _0x2e495a=_0x4d46eb[0x3*-0x411+0x853*-0x2+0x1cdb]['y'],_0x573f70=_0x4d46eb[0x1*-0x529+-0x56*-0x1+-0x41*-0x13]['y'];_0x4d46eb[-0x1ba*0x11+-0x1*0x1321+0x307b]['y']=_0x2e495a,_0x4d46eb[-0x85*0x15+0x1*-0x6f1+0x11db]['y']=_0x2e495a,_0x4d46eb[-0x6c0+-0x1322+0x19e4]['y']=_0x573f70,_0x4d46eb[0x283*-0xc+-0x3*-0x282+-0x1*-0x16a1]['y']=_0x573f70;}if(_0x3e85a4['z']<0x1*0x1582+-0xc21+0x1*-0x961){const _0x1aa60b=_0x4d46eb[-0x16a*0x11+0x3*-0xcad+0x3*0x14b1]['x'],_0x267716=_0x4d46eb[-0x3e5*-0x4+-0x163f+0x6ad]['y'],_0x565436=_0x4d46eb[0x85c*0x4+0x10a+-0x2278]['z'];_0x4d46eb[-0x2338+0x8d+0x22ad]['x']=_0x4d46eb[0x16*0x3b+0x89+-0xcd*0x7]['x'],_0x4d46eb[-0xd*0x14b+0xed1+0x200]['y']=_0x4d46eb[0x1c*-0xe0+-0xe3a+0x26ba]['y'],_0x4d46eb[-0x1*0x1ac9+-0x1*0x1a23+0xa*0x54b]['z']=_0x4d46eb[0x7db*-0x3+-0x1e3f+0xa4*0x54]['z'],_0x4d46eb[0x4c*-0x5a+-0x7*-0x123+-0x12c3*-0x1]['x']=_0x1aa60b,_0x4d46eb[0x1bcb*-0x1+-0x1823+0x33ee]['y']=_0x267716,_0x4d46eb[-0x1420+0x148*-0xc+0x11c0*0x2]['z']=_0x565436;}return _0x4d46eb;}static['calculateS'+'caleToScre'+'en'](_0x355536){let _0x5ec036=_0x355536['entity'];const _0x45a0d4=_0x355536['screen']['screen']['scale'];for(tn['set'](_0x45a0d4,_0x45a0d4,_0x45a0d4);_0x5ec036&&!_0x5ec036['screen'];)tn['mul'](_0x5ec036['getLocalSc'+'ale']()),_0x5ec036=_0x5ec036['parent'];return tn;}static['calculateS'+'caleToWorl'+'d'](_0x4f14ff){let _0x364aff=_0x4f14ff['entity'];for(tn['set'](0x20e1+0x31*0xbe+-0x453e,0x33d*0x5+-0x181f+0x7ef*0x1,0x1f*0x133+-0x1117+-0x1415);_0x364aff;)tn['mul'](_0x364aff['getLocalSc'+'ale']()),_0x364aff=_0x364aff['parent'];return tn;}}J['prototype']['scale']=J['prototype']['mulScalar'],D['prototype']['scale']=D['prototype']['mulScalar'],re['prototype']['scale']=re['prototype']['mulScalar'],new re();function YU(_0x2df1b1,_0x550f45){return w['deprecated']('pc.createS'+'phere\x20is\x20d'+'eprecated.'+'\x20Use\x20\x27pc.M'+'esh.fromGe'+'ometry(dev'+'ice,\x20new\x20S'+'phereGeome'+'try(option'+'s);\x27\x20forma'+'t\x20instead.'),Ge['fromGeomet'+'ry'](_0x2df1b1,new _m(_0x550f45));}Object['defineProp'+'erties'](gt['prototype'],{'_glFrameBuffer':{'get':function(){return w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.'),this['impl']['_glFrameBu'+'ffer'];},'set':function(_0x43564f){w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.');}}}),Object['defineProp'+'erty'](kt,'defaultIns'+'tancingFor'+'mat',{'get':function(){return w['assert']('pc.VertexF'+'ormat.defa'+'ultInstanc'+'ingFormat\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.VertexFo'+'rmat.getDe'+'faultInsta'+'ncingForma'+'t(graphics'+'Device).'),null;}}),Object['defineProp'+'erties'](_e['prototype'],{'rgbm':{'get':function(){return w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']===Zi;},'set':function(_0x4892cf){w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']=_0x4892cf?Zi:Ds;}},'swizzleGGGR':{'get':function(){return w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']===Jo;},'set':function(_0x45f997){w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']=_0x45f997?Jo:Ds;}},'_glTexture':{'get':function(){return w['deprecated']('pc.Texture'+'#_glTextur'+'e\x20is\x20no\x20lo'+'nger\x20avail'+'able,\x20use\x20'+'Use\x20pc.Tex'+'ture.impl.'+'_glTexture'+'\x20instead.'),this['impl']['_glTexture'];}}}),Object['defineProp'+'erty']($e['prototype'],'boneLimit',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#bo'+'neLimit\x20is'+'\x20deprecate'+'d\x20and\x20the\x20'+'limit\x20has\x20'+'been\x20remov'+'ed.'),-0x29*-0xd3+0x1c20+-0x39eb;}}),Object['defineProp'+'erty']($e['prototype'],'webgl2',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#we'+'bgl2\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e#isWebGL2'+'\x20instead.'),this['isWebGL2'];}}),Object['defineProp'+'erty']($e['prototype'],'textureFlo'+'atHighPrec'+'ision',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureFloat'+'HighPrecis'+'ion\x20is\x20dep'+'recated\x20an'+'d\x20always\x20r'+'eturns\x20tru'+'e.'),!(-0xe78+0x1c8a+-0xe12);}}),Object['defineProp'+'erty']($e['prototype'],'extBlendMi'+'nmax',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tBlendMinm'+'ax\x20is\x20depr'+'ecated\x20as\x20'+'it\x20is\x20alwa'+'ys\x20true.'),!(0x15*-0x19b+0x650+0x1b67);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'HalfFloat',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureHa'+'lfFloat\x20is'+'\x20deprecate'+'d\x20as\x20it\x20is'+'\x20always\x20tr'+'ue.'),!(-0x1*-0xc08+0x134b+-0x1f53);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Lod',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureLo'+'d\x20is\x20depre'+'cated\x20as\x20i'+'t\x20is\x20alway'+'s\x20true.'),!(-0x18b1+-0x196f*-0x1+-0xbe);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatFilt'+'erable',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatFilter'+'able\x20is\x20de'+'precated\x20a'+'s\x20it\x20is\x20al'+'ways\x20true.'),!(-0x1ea6+-0x122f+0x30d5);}}),Object['defineProp'+'erty']($e['prototype'],'supportsMr'+'t',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsMrt\x20'+'is\x20depreca'+'ted\x20as\x20it\x20'+'is\x20always\x20'+'true.'),!(-0x272*-0x1+-0xa50+-0x35*-0x26);}}),Object['defineProp'+'erty']($e['prototype'],'supportsVo'+'lumeTextur'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsVolu'+'meTextures'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(-0x138+-0x23a3*0x1+0x3*0xc49);}}),Object['defineProp'+'erty']($e['prototype'],'supportsIn'+'stancing',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsInst'+'ancing\x20is\x20'+'deprecated'+'\x20as\x20it\x20is\x20'+'always\x20tru'+'e.'),!(-0x2*0x127d+0xa1c*-0x2+-0x3932*-0x1);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatUpda'+'table',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatUpdata'+'ble\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true.'),!(-0x329*0x1+-0xf59+0x1282);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Float',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureFl'+'oat\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true'),!(-0x3ce+-0x25f*0xb+-0x1de3*-0x1);}}),Object['defineProp'+'erty']($e['prototype'],'extStandar'+'dDerivativ'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tStandardD'+'erivatives'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(0xa81+-0x18f*-0x1+-0xc10);}}),pt['DEFAULT']=Object['freeze'](new pt());const ut=new pt(),ji=new Yt();$e['prototype']['setBlendFu'+'nction']=function(_0x436788,_0x495ad9){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x284ddf=this['blendState'];ut['copy'](_0x284ddf),ut['setColorBl'+'end'](_0x284ddf['colorOp'],_0x436788,_0x495ad9),ut['setAlphaBl'+'end'](_0x284ddf['alphaOp'],_0x436788,_0x495ad9),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendFu'+'nctionSepa'+'rate']=function(_0x2ac249,_0x55b2f2,_0x164688,_0x1e2037){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x39a235=this['blendState'];ut['copy'](_0x39a235),ut['setColorBl'+'end'](_0x39a235['colorOp'],_0x2ac249,_0x55b2f2),ut['setAlphaBl'+'end'](_0x39a235['alphaOp'],_0x164688,_0x1e2037),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uation']=function(_0x5bbb9a){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x1b1df6=this['blendState'];ut['copy'](_0x1b1df6),ut['setColorBl'+'end'](_0x5bbb9a,_0x1b1df6['colorSrcFa'+'ctor'],_0x1b1df6['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x5bbb9a,_0x1b1df6['alphaSrcFa'+'ctor'],_0x1b1df6['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uationSepa'+'rate']=function(_0x47a8d8,_0x36a4b5){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x796f78=this['blendState'];ut['copy'](_0x796f78),ut['setColorBl'+'end'](_0x47a8d8,_0x796f78['colorSrcFa'+'ctor'],_0x796f78['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x36a4b5,_0x796f78['alphaSrcFa'+'ctor'],_0x796f78['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setColorWr'+'ite']=function(_0xe0c7eb,_0x247aa2,_0x3a9e82,_0x3762ff){w['deprecated']('pc.Graphic'+'sDevice#se'+'tColorWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etBlendSta'+'te\x20instead'+'.');const _0x2d64a2=this['blendState'];ut['copy'](_0x2d64a2),ut['setColorWr'+'ite'](_0xe0c7eb,_0x247aa2,_0x3a9e82,_0x3762ff),this['setBlendSt'+'ate'](ut);},$e['prototype']['getBlendin'+'g']=function(){return this['blendState']['blend'];},$e['prototype']['setBlendin'+'g']=function(_0x47aa32){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlending\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.Graphics'+'Device.set'+'BlendState'+'\x20instead.'),ut['copy'](this['blendState']),ut['blend']=_0x47aa32,this['setBlendSt'+'ate'](ut);},$e['prototype']['setDepthWr'+'ite']=function(_0x4c8ace){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etDepthSta'+'te\x20instead'+'.'),ji['copy'](this['depthState']),ji['write']=_0x4c8ace,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthFu'+'nc']=function(_0x1b4319){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthFunc'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['func']=_0x1b4319,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthTe'+'st']=function(_0x586f67){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthTest'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['test']=_0x586f67,this['setDepthSt'+'ate'](ji);},$e['prototype']['getCullMod'+'e']=function(){return this['cullMode'];},new Proxy({},{'get'(_0x3832ad,_0x2cd9c1){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20acces'+'s\x20global\x20s'+'hader\x20chun'+'ks\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Shade'+'rChunks.ge'+'t\x20instead,'+'\x20for\x20examp'+'le:\x20pc.Sha'+'derChunks.'+'get(this.a'+'pp.graphic'+'sDevice,\x20p'+'c.SHADERLA'+'NGUAGE_GLS'+'L).get(\x27'+_0x2cd9c1+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['get'](_0x2cd9c1);},'set'(_0x512951,_0xde5777,_0x4f1b7f){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20overr'+'ide\x20global'+'\x20shader\x20ch'+'unks\x20is\x20de'+'precated.\x20'+'Use\x20pc.Sha'+'derChunks.'+'get\x20instea'+'d,\x20for\x20exa'+'mple:\x20pc.S'+'haderChunk'+'s.get(this'+'.app.graph'+'icsDevice,'+'\x20pc.SHADER'+'LANGUAGE_G'+'LSL).set(\x27'+_0xde5777+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['set'](_0xde5777,_0x4f1b7f),!(0x2642+0x1085+-0x36c7);}}),Object['defineProp'+'erty'](Et['prototype'],'defaultMat'+'erial',{'get':function(){return w['deprecated']('pc.Scene#d'+'efaultMate'+'rial\x20is\x20de'+'precated.'),Qn(Ms()['graphicsDe'+'vice']);}}),Object['defineProp'+'erty'](Et['prototype'],'fogColor',{'set':function(_0xd95424){w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color']=_0xd95424;},'get':function(){return w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogEnd',{'set':function(_0x4a8f6d){w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end']=_0x4a8f6d;},'get':function(){return w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogStart',{'set':function(_0x141068){w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start']=_0x141068;},'get':function(){return w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogDensity',{'set':function(_0x1558f3){w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density']=_0x1558f3;},'get':function(){return w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density'];}}),Object['defineProp'+'erty'](Et['prototype'],'toneMappin'+'g',{'set':function(_0x11b89b){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');},'get':function(){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'gammaCorre'+'ction',{'set':function(_0x35c9b9){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');},'get':function(){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'rendering',{'set':function(_0x332c28){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');},'get':function(){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');}}),Object['defineProp'+'erty'](du['prototype'],'_meshInsta'+'nces',{'get':function(){return w['deprecated']('pc.LayerCo'+'mposition#'+'_meshInsta'+'nces\x20is\x20de'+'precated.'),null;}}),Object['defineProp'+'erty'](Et['prototype'],'drawCalls',{'get':function(){return w['deprecated']('pc.Scene#d'+'rawCalls\x20i'+'s\x20deprecat'+'ed\x20and\x20no\x20'+'longer\x20pro'+'vides\x20mesh'+'\x20instances'+'.'),null;}}),['128','64','32','16','8','4']['forEach']((_0x388064,_0x509611)=>{Object['defineProp'+'erty'](Et['prototype'],'skyboxPref'+'iltered'+_0x388064,{'get':function(){return w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x388064+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x509611];},'set':function(_0x5d2baa){w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x388064+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x509611]=_0x5d2baa,this['updateShad'+'ers']=!(0x1bd5+0x4c*0x10+-0x2095);}});}),Object['defineProp'+'erty'](Et['prototype'],'models',{'get':function(){return this['_models']||(this['_models']=[]),this['_models'];}});function Bt(_0x37b7c1,_0x28bcdd,_0x6656a=''){Object['defineProp'+'erty'](_0x37b7c1['prototype'],_0x28bcdd,{'set':function(_0x2b57e6){w['errorOnce'](_0x37b7c1['name']+'#'+_0x28bcdd+('\x20has\x20been\x20'+'removed.\x20')+_0x6656a);},'get':function(){w['errorOnce'](_0x37b7c1['name']+'#'+_0x28bcdd+('\x20has\x20been\x20'+'removed.\x20')+_0x6656a);}});}Bt(Ot,'renderTarg'+'et'),Bt(Ot,'onPreCull'),Bt(Ot,'onPreRende'+'r'),Bt(Ot,'onPreRende'+'rOpaque'),Bt(Ot,'onPreRende'+'rTranspare'+'nt'),Bt(Ot,'onPostCull'),Bt(Ot,'onPostRend'+'er'),Bt(Ot,'onPostRend'+'erOpaque'),Bt(Ot,'onPostRend'+'erTranspar'+'ent'),Bt(Ot,'onDrawCall'),Bt(Ot,'layerRefer'+'ence'),Bt(Ir,'onPreCull','Use\x20Scene#'+'EVENT_PREC'+'ULL\x20event\x20'+'instead.'),Bt(Ir,'onPostCull','Use\x20Scene#'+'EVENT_POST'+'CULL\x20event'+'\x20instead.'),Bt(Ir,'onPreRende'+'r','Use\x20Scene#'+'EVENT_PRER'+'ENDER\x20even'+'t\x20instead.'),Bt(Ir,'onPostRend'+'er','Use\x20Scene#'+'EVENT_POST'+'RENDER\x20eve'+'nt\x20instead'+'.'),Bt(Ir,'onPreRende'+'rLayer','Use\x20Scene#'+'EVENT_PRER'+'ENDER_LAYE'+'R\x20event\x20in'+'stead.'),Bt(Ir,'onPostRend'+'erLayer','Use\x20Scene#'+'EVENT_POST'+'RENDER_LAY'+'ER\x20event\x20i'+'nstead.'),fl['prototype']['renderComp'+'osition']=function(_0x71198d){w['deprecated']('pc.Forward'+'Renderer#r'+'enderCompo'+'sition\x20is\x20'+'deprecated'+'.\x20Use\x20pc.A'+'ppBase.ren'+'derComposi'+'tion\x20inste'+'ad.'),Ms()['renderComp'+'osition'](_0x71198d);},He['prototype']['syncAabb']=function(){w['deprecated']('pc.MeshIns'+'tance#sync'+'Aabb\x20is\x20de'+'precated.');},mm['prototype']['getTarget']=function(_0x3ab0d3){return w['deprecated']('pc.Morph#g'+'etTarget\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.Morph#tar'+'gets\x20inste'+'ad.'),this['targets'][_0x3ab0d3];},Ie['prototype']['getChildre'+'n']=function(){return w['deprecated']('pc.GraphNo'+'de#getChil'+'dren\x20is\x20de'+'precated.\x20'+'Use\x20pc.Gra'+'phNode#chi'+'ldren\x20inst'+'ead.'),this['children'];},Ie['prototype']['getName']=function(){return w['deprecated']('pc.GraphNo'+'de#getName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name'];},Ie['prototype']['getPath']=function(){return w['deprecated']('pc.GraphNo'+'de#getPath'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#path\x20in'+'stead.'),this['path'];},Ie['prototype']['getRoot']=function(){return w['deprecated']('pc.GraphNo'+'de#getRoot'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#root\x20in'+'stead.'),this['root'];},Ie['prototype']['getParent']=function(){return w['deprecated']('pc.GraphNo'+'de#getPare'+'nt\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Graph'+'Node#paren'+'t\x20instead.'),this['parent'];},Ie['prototype']['setName']=function(_0x2092fc){w['deprecated']('pc.GraphNo'+'de#setName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name']=_0x2092fc;},Object['defineProp'+'erty'](tr['prototype'],'shader',{'set':function(_0x3ed521){w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.');},'get':function(){return w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.'),null;}}),Object['defineProp'+'erty'](tr['prototype'],'blend',{'set':function(_0x1ce067){w['deprecated']('pc.Materia'+'l#blend\x20is'+'\x20deprecate'+'d,\x20use\x20pc.'+'Material.b'+'lendState.'),this['blendState']['blend']=_0x1ce067;},'get':function(){return this['blendState']['blend'];}}),Object['defineProp'+'erty'](Ut['prototype'],'shininess',{'get':function(){return this['gloss']*(-0x5*0x272+0x23a7+-0x1709);},'set':function(_0x34cf9d){this['gloss']=_0x34cf9d*(-0x2165+0x1*0x1136+0x102f+0.01);}}),Object['defineProp'+'erty'](Ut['prototype'],'useGammaTo'+'nemap',{'get':function(){return this['useTonemap'];},'set':function(_0x234ecb){this['useTonemap']=_0x234ecb;}}),Object['defineProp'+'erty'](Ut['prototype'],'anisotropy',{'get':function(){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.');const _0x51f013=Math['sign'](Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']*(0x3*-0x367+0x18f*-0x11+0x24b6)));return this['anisotropy'+'Intensity']*_0x51f013;},'set':function(_0x35aac8){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.'),this['anisotropy'+'Intensity']=Math['abs'](_0x35aac8),_0x35aac8>=-0x1764+-0x4*0x935+-0x52*-0xbc?this['anisotropy'+'Rotation']=0x1d46+-0x982+-0x13c4:this['anisotropy'+'Rotation']=0x2335+-0x17c*0xc+-0x110b;}});function Qs(_0x27cb30,_0x587313){Object['defineProp'+'erty'](Ut['prototype'],_0x587313,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x587313+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x27cb30+'\x20instead.'),this[_0x27cb30];},'set':function(_0x29f3a3){w['deprecated']('pc.Standar'+'dMaterial#'+_0x587313+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x27cb30+'\x20instead.'),this[_0x27cb30]=_0x29f3a3;}});}function Id(_0x4b9e6b){Object['defineProp'+'erty'](Ut['prototype'],_0x4b9e6b,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x4b9e6b+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x4b9e6b+('\x20was\x20alway'+'s\x20true')),!(0x63*-0xc+-0x24d0+0x1c*0x17b);},'set':function(_0x4fc261){w['deprecated']('pc.Standar'+'dMaterial#'+_0x4b9e6b+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x4b9e6b+('\x20was\x20alway'+'s\x20true'));}});}Id('sheenTint'),Id('diffuseTin'+'t'),Id('emissiveTi'+'nt'),Id('ambientTin'+'t'),Qs('specularTi'+'nt','specularMa'+'pTint'),Qs('aoVertexCo'+'lor','aoMapVerte'+'xColor'),Qs('diffuseVer'+'texColor','diffuseMap'+'VertexColo'+'r'),Qs('specularVe'+'rtexColor','specularMa'+'pVertexCol'+'or'),Qs('emissiveVe'+'rtexColor','emissiveMa'+'pVertexCol'+'or'),Qs('metalnessV'+'ertexColor','metalnessM'+'apVertexCo'+'lor'),Qs('glossVerte'+'xColor','glossMapVe'+'rtexColor'),Qs('opacityVer'+'texColor','opacityMap'+'VertexColo'+'r'),Qs('lightVerte'+'xColor','lightMapVe'+'rtexColor'),Qs('sheenGloss','sheenGloss'+'iess'),Qs('clearCoatG'+'loss','clearCostG'+'lossiness');function F0(_0x12a558,_0x3db3b9){_0x12a558!=='pass'&&Object['defineProp'+'erty'](dl['prototype'],_0x12a558,{'get':function(){return w['deprecated']('Getting\x20pc'+'.Options#'+_0x12a558+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x3db3b9||_0x12a558)+'.'),this['litOptions'][_0x3db3b9||_0x12a558];},'set':function(_0x236b12){w['deprecated']('Setting\x20pc'+'.Options#'+_0x12a558+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x3db3b9||_0x12a558)+'.'),this['litOptions'][_0x3db3b9||_0x12a558]=_0x236b12;}});}F0('refraction','useRefract'+'ion');const TU=new wv(),zS=Object['getOwnProp'+'ertyNames'](TU);for(const l in zS)F0(zS[l]);mn['prototype']['getAssetBy'+'Id']=function(_0x1c0cf0){return w['deprecated']('pc.AssetRe'+'gistry#get'+'AssetById\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AssetReg'+'istry#get\x20'+'instead.'),this['get'](_0x1c0cf0);},Object['defineProp'+'erty'](Qt['prototype'],'ray',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#ray'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.XrInput'+'Source#get'+'Origin\x20and'+'\x20pc.XrInpu'+'tSource#ge'+'tDirection'+'\x20instead.'),this['_rayLocal'];}}),Object['defineProp'+'erty'](Qt['prototype'],'position',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#pos'+'ition\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Position\x20i'+'nstead.'),this['_localPosi'+'tion'];}}),Object['defineProp'+'erty'](Qt['prototype'],'rotation',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#rot'+'ation\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Rotation\x20i'+'nstead.'),this['_localRota'+'tion'];}}),Object['defineProp'+'erty'](Xo['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(0x7*-0x4cf+-0x67*-0x4+0x200f);}}),Object['defineProp'+'erty'](ta['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(0x4ae+-0x1f7d+0x1ad1);}}),Ks['prototype']['isFullscre'+'en']=function(){return w['deprecated']('pc.AppBase'+'#isFullscr'+'een\x20is\x20dep'+'recated.\x20U'+'se\x20the\x20Ful'+'lscreen\x20AP'+'I\x20directly'+'.'),!!document['fullscreen'+'Element'];},Ks['prototype']['enableFull'+'screen']=function(_0x2e4add,_0xf3017a,_0x57e6e7){w['deprecated']('pc.AppBase'+'#enableFul'+'lscreen\x20is'+'\x20deprecate'+'d.\x20Use\x20the'+'\x20Fullscree'+'n\x20API\x20dire'+'ctly.'),_0x2e4add=_0x2e4add||this['graphicsDe'+'vice']['canvas'];const _0x3fb8eb=function(){_0xf3017a(),document['removeEven'+'tListener']('fullscreen'+'change',_0x3fb8eb);},_0x200e2f=function(){_0x57e6e7(),document['removeEven'+'tListener']('fullscreen'+'error',_0x200e2f);};_0xf3017a&&document['addEventLi'+'stener']('fullscreen'+'change',_0x3fb8eb,!(-0x920*0x2+0xe05+0x43c)),_0x57e6e7&&document['addEventLi'+'stener']('fullscreen'+'error',_0x200e2f,!(0x964+-0x1*0x7e3+-0x6*0x40)),_0x2e4add['requestFul'+'lscreen']?_0x2e4add['requestFul'+'lscreen'](Element['ALLOW_KEYB'+'OARD_INPUT']):_0x57e6e7();},Ks['prototype']['disableFul'+'lscreen']=function(_0x43e8d3){w['deprecated']('pc.AppBase'+'#disableFu'+'llscreen\x20i'+'s\x20deprecat'+'ed.\x20Use\x20th'+'e\x20Fullscre'+'en\x20API\x20dir'+'ectly.');const _0x38dd1d=function(){_0x43e8d3(),document['removeEven'+'tListener']('fullscreen'+'change',_0x38dd1d);};_0x43e8d3&&document['addEventLi'+'stener']('fullscreen'+'change',_0x38dd1d,!(-0x191b+-0x2394+0x3cb0)),document['exitFullsc'+'reen']();},Ks['prototype']['getSceneUr'+'l']=function(_0x106055){w['deprecated']('pc.AppBase'+'#getSceneU'+'rl\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.AppBa'+'se#scenes\x20'+'and\x20pc.Sce'+'neRegistry'+'#find\x20inst'+'ead.');const _0x3f0dfa=this['scenes']['find'](_0x106055);return _0x3f0dfa?_0x3f0dfa['url']:null;},Ks['prototype']['loadScene']=function(_0x7c3341,_0x31b01e){w['deprecated']('pc.AppBase'+'#loadScene'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.AppBase'+'#scenes\x20an'+'d\x20pc.Scene'+'Registry#l'+'oadScene\x20i'+'nstead.'),this['scenes']['loadScene'](_0x7c3341,_0x31b01e);},Ks['prototype']['loadSceneH'+'ierarchy']=function(_0x17801d,_0x2676fc){w['deprecated']('pc.AppBase'+'#loadScene'+'Hierarchy\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AppBase#'+'scenes\x20and'+'\x20pc.SceneR'+'egistry#lo'+'adSceneHie'+'rarchy\x20ins'+'tead.'),this['scenes']['loadSceneH'+'ierarchy'](_0x17801d,_0x2676fc);},Ks['prototype']['loadSceneS'+'ettings']=function(_0x3beef3,_0x19e0f9){w['deprecated']('pc.AppBase'+'#loadScene'+'Settings\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.AppBase#s'+'cenes\x20and\x20'+'pc.SceneRe'+'gistry#loa'+'dSceneSett'+'ings\x20inste'+'ad.'),this['scenes']['loadSceneS'+'ettings'](_0x3beef3,_0x19e0f9);},Tm['prototype']['setVisible']=function(_0xf0eda1){w['deprecated']('pc.ModelCo'+'mponent#se'+'tVisible\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.ModelComp'+'onent#enab'+'led\x20instea'+'d.'),this['enabled']=_0xf0eda1;},Object['defineProp'+'erty'](bs['prototype'],'bodyType',{'get':function(){return w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type'];},'set':function(_0x28e196){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type']=_0x28e196;}}),bs['prototype']['syncBodyTo'+'Entity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#syncBody'+'ToEntity\x20i'+'s\x20not\x20publ'+'ic\x20API\x20and'+'\x20should\x20no'+'t\x20be\x20used.'),this['_updateDyn'+'amic']();},wm['prototype']['setGravity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'tSystem#se'+'tGravity\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.RigidBody'+'ComponentS'+'ystem#grav'+'ity\x20instea'+'d.'),arguments['length']===-0x24*0x64+0x1bdd*-0x1+0x14f7*0x2?this['gravity']['copy'](arguments[-0x2a*0x2+-0x11b*-0x11+-0x1277]):this['gravity']['set'](arguments[-0x2*0x4e7+-0x1756+0x2124],arguments[0x20b*0x1+-0x935+0x72b],arguments[-0x301+0x3*-0x325+0xc72]);};class wU{constructor(_0x18c0aa){this['_frameInde'+'x']=0xcc0+-0x1*0x1981+0xcc1,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=-0x2118+-0x1*-0x241+0x6*0x524,this['enabled']=!(-0x855*0x3+-0xe01*0x1+0x2700),_0x18c0aa['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x18c0aa['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x18c0aa['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x3013f3){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x57a716=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x57a716,this['_frameInde'+'x']=-0x1c78+0xf6c+-0x5*-0x29c,this['mark'](_0x3013f3);}['mark'](_0x50bff4){if(!this['enabled'])return;const _0x4ae3cd=de();if(this['_frameInde'+'x']>0xb47*0x3+-0x1*0x22af+0x6d*0x2){const _0x36fc76=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0xe*0x1c6+0x206d+-0x728*0x8)];_0x36fc76[-0x9*-0x3ba+-0x1*-0x87e+-0x2a07]=_0x4ae3cd-_0x36fc76[-0x1*0xf7e+0x1619+-0x5*0x152];}else{if(this['_timings']['length']>0x1d8b+0x4*0x91d+0xd33*-0x5){const _0x2ff050=this['_timings'][this['_timings']['length']-(-0x1ff*-0xe+0x237c+-0x3f6d)];_0x2ff050[-0xa81+-0xbef*0x1+0x1671]=_0x4ae3cd-_0x2ff050[-0xd5a*-0x2+0x7cf*0x5+0x66*-0xa5];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x50bff4,_0x4ae3cd]);else{const _0x3b9392=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x3b9392[0x2329+-0xf58+0x39*-0x59]=_0x50bff4,_0x3b9392[0x1c62+-0x755+0x2*-0xa86]=_0x4ae3cd;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](-0x1*-0x1d5b+0x65a*0x5+0x23*-0x1bf,-(-0x1*-0x236b+0x1552+-0x1c5e*0x2))['map'](_0x56eb43=>_0x56eb43[-0xadd+-0x259b+0x3079]);}}class EU{constructor(_0x5d23dd){this['device']=_0x5d23dd,_0x5d23dd['gpuProfile'+'r']['enabled']=!(-0x3a8+0x5*0x3eb+-0xfef),this['enabled']=!(-0xca1+0x19*-0x119+0x1be*0x17),this['unitsName']='ms',this['decimalPla'+'ces']=-0x40*-0x62+-0x2238+0x9b9,this['_timings']=[];}get['timings'](){return this['_timings'][-0x1043*-0x1+0x4*0x3b0+-0x1f03*0x1]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class bU{constructor(_0x5d830d,_0x1cb32b,_0x8a474d,_0xdb32d4,_0x281fc7){this['app']=_0x5d830d,this['values']=[],this['statNames']=_0x1cb32b,this['statNames']['length']>0x1*0x7cd+-0x79b+-0x2f&&(this['statNames']['length']=-0x233c+-0x7e3+0x2b22),this['unitsName']=_0xdb32d4,this['decimalPla'+'ces']=_0x8a474d,this['multiplier']=_0x281fc7||0x26d7+-0xda*0x20+-0x2*0x5cb;const _0x45fcb0=(_0x2bacb0,_0x14e759)=>_0x2bacb0['split']('.')['reduce']((_0x35075d,_0x16a18b)=>_0x35075d?_0x35075d[_0x16a18b]:null,_0x14e759||this);_0x5d830d['on']('frameupdat'+'e',_0x3cc56a=>{for(let _0x35ac53=0x1*0x1c03+-0x8*0x2c4+0x1*-0x5e3;_0x35ac53<this['statNames']['length'];_0x35ac53++)this['values'][_0x35ac53]=_0x45fcb0(this['statNames'][_0x35ac53],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class Uf{constructor(_0x16fb3b,_0x300173,_0x2da4f9,_0x573ad1,_0x245d21){this['app']=_0x300173,this['name']=_0x16fb3b,this['device']=_0x300173['graphicsDe'+'vice'],this['timer']=_0x245d21,this['watermark']=_0x2da4f9,this['enabled']=!(-0x1cdc+0x7e1+0x14fc),this['textRefres'+'hRate']=_0x573ad1,this['avgTotal']=-0xb*0x83+-0xbf*0x21+0x1e40,this['avgTimer']=0x75*0x2b+-0x1f08+0xb61,this['avgCount']=0x230+0x76*-0xd+-0x3ce*-0x1,this['timingText']='',this['texture']=null,this['yOffset']=0x1*0x18de+0x1445+-0x2d23*0x1,this['cursor']=-0x63a+-0xa67*-0x1+-0x42d*0x1,this['sample']=new Uint8ClampedArray(0x12*-0x5b+-0xcf7+-0xb*-0x1c3),this['sample']['set']([0x21f8*-0x1+0xa03*0x1+0x17f5,0x1*0xb5+0x2*0x10e7+-0x3*0xb81,0xbe5+-0x12bf+0x6da,0x13*0x187+-0x22d+-0x19d9]),this['counter']=0x1c2+0x13*-0x1f0+0x230e,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x13b1a5){const _0x536119=this['timer']['timings'],_0x1c8ec8=_0x536119['reduce']((_0x3364a1,_0x32e21c)=>_0x3364a1+_0x32e21c,-0x12e0+0x1176+0x16a);if(this['avgTotal']+=_0x1c8ec8,this['avgTimer']+=_0x13b1a5,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=-0x434*0x6+0x12ef*0x1+0x649*0x1,this['avgTotal']=-0x1280+0x8*0x461+-0x1088,this['avgCount']=-0x4*0x7f1+0x21d*-0xb+0x3703),this['enabled']){let _0x4b86e9=0x100f+0x1*0xacf+-0x26*0xb5;const _0x34f185=(-0xa*-0x1eb+-0x16a*0x10+0x373*0x1+0.5)*this['watermark'];for(let _0x20a4d9=0x141b+0x3*0x171+0x6a*-0x3b;_0x20a4d9<_0x536119['length'];++_0x20a4d9)_0x4b86e9+=Math['floor'](_0x536119[_0x20a4d9]/_0x34f185*(-0x1a7a+-0x1f3*-0x13+0x90*-0x11)),this['sample'][_0x20a4d9]=_0x4b86e9;this['sample'][-0x85*0x21+-0x198e+0x2ab6]=this['watermark']/_0x34f185*(-0x1f3d*-0x1+-0xd*-0x166+-0x306c),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(0x7*0x1d2+-0x2376+-0xa*-0x246)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=0x11bf*-0x1+0x35*-0x7b+0x2b36);}}['render'](_0x35c3a5,_0x125608,_0x3b24bf,_0x47a315,_0x566f9e){_0x35c3a5['quad'](_0x125608+_0x47a315,_0x3b24bf,-_0x47a315,_0x566f9e,this['enabled']?this['cursor']:-0xead+-0x427+0x12d4,this['enabled']?0x4eb+-0x1430+0xf45+0.5+this['yOffset']:this['texture']['height']-(-0x47b+-0x1f9a+0x2416),-_0x47a315,0x1566+0xb98+-0x20fe,this['texture'],-0x1f*0xe5+0x1151*-0x1+0x2d0c);}}class AU{constructor(_0x357165,_0xafea3){const _0x33ee7d=_0x588554=>{_0x588554['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x588554['textAlign']='left',_0x588554['textBaseli'+'ne']='alphabetic';},_0x4bcfa2=_0x21d5d0=>_0x21d5d0==='.'||_0x21d5d0['length']===0x7*-0x3cb+0xb00+0xf8e&&_0x21d5d0['charCodeAt'](-0x5*0x15b+0x210+0x4b7)>=-0x9dd+-0x721+-0x3*-0x5ba&&_0x21d5d0['charCodeAt'](0x1*-0x2683+0xc2d*0x1+0x2*0xd2b)<=-0xed1*-0x1+0x1ce9+0x1*-0x2b81,_0x1ab08e=document['createElem'+'ent']('canvas'),_0x193838=_0x1ab08e['getContext']('2d',{'alpha':!(0x3ae+0x3*-0xb6c+-0x366*-0x9)});_0x33ee7d(_0x193838);const _0x310953=new Map(),_0x198d22=-0xa22+0x12*-0x15d+0x22b1,_0x457432=-0xf43*0x1+-0x4d0+-0x1613*-0x1;let _0xfe21fa=_0x198d22,_0x246ee0=_0x198d22;_0xafea3['forEach'](_0x13bcac=>{const _0x142526=_0x193838['measureTex'+'t'](_0x13bcac),_0x2734b3=Math['ceil'](-_0x142526['actualBoun'+'dingBoxLef'+'t']),_0x11b541=Math['ceil'](_0x142526['actualBoun'+'dingBoxRig'+'ht']),_0x2d9a9b=Math['ceil'](_0x142526['actualBoun'+'dingBoxAsc'+'ent']),_0x505742=Math['ceil'](_0x142526['actualBoun'+'dingBoxDes'+'cent']),_0xedf658=_0x2734b3+_0x11b541,_0x465791=_0x2d9a9b+_0x505742;_0xfe21fa+_0xedf658+_0x198d22>=_0x457432&&(_0xfe21fa=_0x198d22,_0x246ee0+=-0xee6*0x2+-0x1*-0x1fa1+-0x1c5),_0x310953['set'](_0x13bcac,{'l':_0x2734b3,'r':_0x11b541,'a':_0x2d9a9b,'d':_0x505742,'w':_0xedf658,'h':_0x465791,'x':_0xfe21fa,'y':_0x246ee0}),_0xfe21fa+=_0xedf658+_0x198d22;}),_0x1ab08e['width']=-0x1ffa+-0x42+0x4e4*0x7,_0x1ab08e['height']=Y['nextPowerO'+'fTwo'](_0x246ee0+(-0xdf2+-0x23e5+-0x721*-0x7)+_0x198d22),_0x33ee7d(_0x193838),_0x193838['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x193838['fillRect'](0x1*-0x25f+-0x26b9+0x2918,-0x2*0x1d3+0x451+-0xab,_0x1ab08e['width'],_0x1ab08e['height']),_0x310953['forEach']((_0x383896,_0x120c11)=>{_0x193838['fillStyle']=_0x4bcfa2(_0x120c11)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x193838['fillText'](_0x120c11,_0x383896['x']-_0x383896['l'],_0x383896['y']+_0x383896['a']);}),this['placements']=_0x310953;const _0x4f4ab0=_0x193838['getImageDa'+'ta'](0x80e+-0x1aad+0x129f,0x7c6+-0xe83*0x1+0x23f*0x3,_0x1ab08e['width'],_0x1ab08e['height'])['data'];for(let _0x50199f=0x1e52+-0x1cd5+0x1*-0x17d;_0x50199f<_0x4f4ab0['length'];_0x50199f+=0x1add+-0x2121+0x4*0x192)_0x4f4ab0[_0x50199f+(-0x17*-0x3d+0x4f*-0x13+0x65*0x1)]=_0x4f4ab0[_0x50199f+(-0x6f*-0x3b+0x73b*0x4+-0x3681)],_0x4f4ab0[_0x50199f+(0x22f2+0x25fc+-0x48ee)]=-0x13b7+0x2*0x89+-0x13a4*-0x1,_0x4f4ab0[_0x50199f+(-0x1f22+0x261e+-0x6fb)]=-0x21eb+0x1d6e*-0x1+-0x11c*-0x3a,_0x4f4ab0[_0x50199f+(-0x6c2+0x1f*0x69+0x1*-0x5f3)]=0x9cf+0x201*-0xc+0xf3c;this['texture']=new _e(_0x357165,{'name':'mini-stats'+'-word-atla'+'s','width':_0x1ab08e['width'],'height':_0x1ab08e['height'],'mipmaps':!(0x1e1f+0x1b50+0x396e*-0x1),'minFilter':Te,'magFilter':Te,'levels':[_0x4f4ab0]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x25dc75,_0x22d5aa,_0x10ed6e,_0x15cfbe){const _0x6a6894=this['placements']['get'](_0x22d5aa);return _0x6a6894?(_0x25dc75['quad'](_0x10ed6e+_0x6a6894['l']-(0x3*0x19b+0x21ac+-0x267c),_0x15cfbe-_0x6a6894['d']+(-0x2631+-0x1*-0x2206+0x42c),_0x6a6894['w']+(0x12d1+-0x10d*0x1d+0xbaa),_0x6a6894['h']+(-0x12b9*0x1+0x270d*0x1+-0x11*0x132),_0x6a6894['x']-(-0x2*-0xe95+0x15df+-0x3308),this['texture']['height']-_0x6a6894['y']-_0x6a6894['h']-(-0x1*0x531+0x132d+0x1*-0xdfb),void(0x1f6d+0x1*0xaab+-0x2a18),void(-0x105*-0x1d+-0x47*-0x2b+-0x297e*0x1),this['texture'],-0x3*0x9fe+0x683*0x1+0x1778),_0x6a6894['w']):-0x42*-0xb+0x140+0x416*-0x1;}}const CU='\x0a\x20\x20\x20\x20attri'+'bute\x20vec3\x20'+'vertex_pos'+'ition;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20un'+'normalized'+'\x20xy,\x20word\x20'+'flag\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_texCoord0'+';\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20unnormal'+'ized\x20textu'+'re\x20space\x20u'+'v,\x20normali'+'zed\x20uv\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec4\x20uv0;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20float\x20wo'+'rdFlag;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion.xy\x20*\x202'+'.0\x20-\x201.0,\x20'+'0.5,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20verte'+'x_texCoord'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20wordFlag\x20'+'=\x20vertex_p'+'osition.z;'+'\x0a\x20\x20\x20\x20}\x0a',PU='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec3f;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'unnormaliz'+'ed\x20xy,\x20wor'+'d\x20flag\x0a\x20\x20\x20'+'\x20attribute'+'\x20vertex_te'+'xCoord0:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20unno'+'rmalized\x20t'+'exture\x20spa'+'ce\x20uv,\x20nor'+'malized\x20uv'+'\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'varying\x20wo'+'rdFlag:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x20fn\x20v'+'ertexMain('+'input\x20:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output\x20:\x20'+'VertexOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4(input'+'.vertex_po'+'sition.xy\x20'+'*\x202.0\x20-\x201.'+'0,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.u'+'v0\x20=\x20input'+'.vertex_te'+'xCoord0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.wordFl'+'ag\x20=\x20input'+'.vertex_po'+'sition.z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',MU='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20uv'+'0;\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20wordFlag;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'lr;\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20grap'+'hTex;\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in\x20(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20graph'+'Sample\x20=\x20t'+'exture2D(g'+'raphTex,\x20u'+'v0.xy);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20graph;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.r)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.7,\x200.2,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.b)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gr'+'aph\x20=\x20vec4'+'(0.2,\x200.2,'+'\x200.7,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gra'+'ph\x20=\x20vec4('+'0.0,\x200.0,\x20'+'0.0,\x201.0\x20-'+'\x200.25\x20*\x20si'+'n(uv0.w\x20*\x20'+'3.14159));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20words'+'\x20=\x20texture'+'2D(wordsTe'+'x,\x20vec2(uv'+'0.x,\x201.0\x20-'+'\x20uv0.y));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20mix(gr'+'aph,\x20words'+',\x20wordFlag'+')\x20*\x20clr;\x0a\x20'+'\x20\x20\x20}\x0a',DU='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c4f;\x0a\x20\x20\x20\x20v'+'arying\x20wor'+'dFlag:\x20f32'+';\x0a\x0a\x20\x20\x20\x20uni'+'form\x20clr:\x20'+'vec4f;\x0a\x0a\x20\x20'+'\x20\x20var\x20grap'+'hTex\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20graphTex'+'_sampler\x20:'+'\x20sampler;\x0a'+'\x0a\x20\x20\x20\x20var\x20w'+'ordsTex\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20words'+'Tex_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20u'+'v0:\x20vec4f\x20'+'=\x20input.uv'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20graph'+'Sample:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'graphTex,\x20'+'graphTex_s'+'ampler,\x20uv'+'0.xy);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'graph:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(uv0.'+'w\x20<\x20graphS'+'ample.r)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4f(0.7'+',\x200.2,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4f(0.'+'2,\x200.7,\x200.'+'2,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(uv'+'0.w\x20<\x20grap'+'hSample.b)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20graph'+'\x20=\x20vec4f(0'+'.2,\x200.2,\x200'+'.7,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'raph\x20=\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x201.'+'0\x20-\x200.25\x20*'+'\x20sin(uv0.w'+'\x20*\x203.14159'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20wor'+'ds:\x20vec4f\x20'+'=\x20textureS'+'ample(word'+'sTex,\x20word'+'sTex_sampl'+'er,\x20vec2f('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'input.word'+('Flag)\x20*\x20un'+'iform.clr;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a');class IU{constructor(_0xe3db2f,_0xe0bd26=-0xdf*-0x4+-0x2159+0x1fdd){const _0x2261dd=new kt(_0xe3db2f,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':is,'components':0x4,'type':Ve}]),_0x18d7b7=new Uint16Array(_0xe0bd26*(-0xa3d+0xbe+0x1*0x985));for(let _0x4cf1de=0x1*0x1083+-0x1888*0x1+-0x1*-0x805;_0x4cf1de<_0xe0bd26;++_0x4cf1de)_0x18d7b7[_0x4cf1de*(-0x547+-0xf2*-0x20+-0x18f3)+(-0x5b3*-0x4+0xb*-0x213+-0x1*-0x5)]=_0x4cf1de*(-0x23d8+0x1*0x1d95+0x647*0x1),_0x18d7b7[_0x4cf1de*(0x2ba+-0x210e+0x1e5a)+(0x2*0x823+0x106*0x25+-0x3623)]=_0x4cf1de*(-0x912+-0x45d+0xd73)+(-0x1dda*0x1+-0x1a2d+-0x518*-0xb),_0x18d7b7[_0x4cf1de*(-0x29f+-0xea2*0x2+0x1fe9)+(-0x23d1*0x1+-0x217a+0x454d)]=_0x4cf1de*(-0x12f8+0x1bf2+-0x8f6)+(-0xb62*-0x1+-0x3b*-0x71+0x1*-0x256b),_0x18d7b7[_0x4cf1de*(-0x23f*0xf+0x1*0x593+-0x1c24*-0x1)+(-0x19*0x3a+-0x4*-0x85d+-0x1bc7)]=_0x4cf1de*(-0xb*-0x1ca+-0x193c+0x592*0x1),_0x18d7b7[_0x4cf1de*(0x11f2*0x1+-0x1*-0x4ef+0x16db*-0x1)+(-0x1eb*0x1+-0x2064+0x2253)]=_0x4cf1de*(0x2099+0x2*-0x45d+0x17db*-0x1)+(0x1*-0x846+-0x772*-0x3+-0xe0e),_0x18d7b7[_0x4cf1de*(-0x1e77*-0x1+-0x11f3*0x1+0xd*-0xf6)+(0x25e7+-0x1*0x141a+-0x11c8)]=_0x4cf1de*(0x1cc5+0x149b+0x1a*-0x1e6)+(0x15f1+-0x1*-0x2302+-0x38f0);this['device']=_0xe3db2f,this['buffer']=new Is(_0xe3db2f,_0x2261dd,_0xe0bd26*(-0x126a+0x11d+0x1151),{'usage':ey}),this['data']=new Float32Array(this['buffer']['numBytes']/(-0x43c+0xd7e+-0x152*0x7)),this['indexBuffe'+'r']=new br(_0xe3db2f,Yi,_0xe0bd26*(0x1*0x24cb+-0xe67*-0x1+-0x332c),ms,_0x18d7b7),this['prim']={'type':js,'indexed':!(-0xfd9+-0x13*0x104+0x2325),'base':0x0,'baseVertex':0x0,'count':0x0},this['quads']=0xc1*0x18+0x10b*-0xf+-0x273,this['mesh']=new Ge(_0xe3db2f),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][0x2e2+-0x124f*-0x1+-0x1531]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x50fb40=new Xn({'uniqueName':'MiniStats','vertexGLSL':CU,'fragmentGLSL':MU,'vertexWGSL':PU,'fragmentWGSL':DU,'attributes':{'vertex_position':Me,'vertex_texCoord0':is}});this['material']=_0x50fb40,_0x50fb40['cull']=bt,_0x50fb40['depthState']=Yt['NODEPTH'],_0x50fb40['blendState']=new pt(!(-0x683*-0x3+0x6*0x3cb+-0x2a4b),fs,jh,Yh,fs,Ft,Ft),_0x50fb40['update'](),this['meshInstan'+'ce']=new He(this['mesh'],_0x50fb40,new Ie('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(0x624+-0x646+0x26)},this['targetSize']={'width':_0xe3db2f['width'],'height':_0xe3db2f['height']};}['quad'](_0x2f5c42,_0x1f796b,_0x17653c,_0x42ba31,_0x19ae0d,_0x595219,_0x5a45a4,_0x3d534e,_0x53cca4,_0x2e9f9f=0x1*-0x1ec+-0xb0+0x29c){const _0x5364a0=this['targetSize']['width'],_0x4497ef=this['targetSize']['height'],_0x103b2a=_0x2f5c42/_0x5364a0,_0xab362c=_0x1f796b/_0x4497ef,_0x2d20b0=(_0x2f5c42+_0x17653c)/_0x5364a0,_0x1a9c89=(_0x1f796b+_0x42ba31)/_0x4497ef,_0x5fa81=_0x53cca4['width'],_0x35e2ea=_0x53cca4['height'],_0x351e1b=_0x19ae0d/_0x5fa81,_0x129279=_0x595219/_0x35e2ea,_0x1ff8d1=(_0x19ae0d+(_0x5a45a4??_0x17653c))/_0x5fa81,_0x56bcb7=(_0x595219+(_0x3d534e??_0x42ba31))/_0x35e2ea;this['data']['set']([_0x103b2a,_0xab362c,_0x2e9f9f,_0x351e1b,_0x129279,0x14bb+0x11e3+0x134f*-0x2,-0x2342+0xfd0+0x13*0x106,_0x2d20b0,_0xab362c,_0x2e9f9f,_0x1ff8d1,_0x129279,0x1867*0x1+-0x1*-0xb9f+0x2405*-0x1,-0x685*-0x2+-0x1584+0x87a,_0x2d20b0,_0x1a9c89,_0x2e9f9f,_0x1ff8d1,_0x56bcb7,-0x1*0x25dc+-0x3c+0x2619*0x1,-0xb*-0x34b+-0x1*0x6cd+-0x11*0x1bb,_0x103b2a,_0x1a9c89,_0x2e9f9f,_0x351e1b,_0x56bcb7,0x680+0x1012+-0x1692,-0xc43+0x1*0x22da+-0x1696],(-0xf9a+0x3*0xb5+0xd97)*this['quads']),this['quads']++,this['prim']['count']+=0xb96+-0x1646+0x392*0x3;}['startFrame'](){this['quads']=0x1*0x1ec1+0x204b+0xf*-0x434,this['prim']['count']=-0x1343+-0x1221+0x2564,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x2a0dbd,_0x1c2ab2,_0x385a7,_0x5db4e5,_0x50c072,_0x39746a){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x50c072,0x772*-0x4+0xb*0x207+0x77b*0x1),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x385a7),this['material']['setParamet'+'er']('wordsTex',_0x5db4e5),_0x2a0dbd['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x1c2ab2);}}class N0{constructor(_0x4857d4,_0x3c6aef){const _0x4694c9=_0x4857d4['graphicsDe'+'vice'];this['deviceHeig'+'ht']=_0x4694c9['height']/_0x4694c9['maxPixelRa'+'tio'],_0x3c6aef={...N0['getDefault'+'Options'](),..._0x3c6aef},this['options']=_0x3c6aef,this['initGraphs'](_0x4857d4,_0x4694c9,_0x3c6aef);const _0x204a69=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x493ebf=>_0x493ebf['name']))['concat'](_0x3c6aef['stats']?_0x3c6aef['stats']['map'](_0x4aec19=>_0x4aec19['unitsName']):[])['filter'](_0x363a7b=>!!_0x363a7b));this['wordAtlas']=new AU(_0x4694c9,_0x204a69),this['sizes']=_0x3c6aef['sizes'],this['_activeSiz'+'eIndex']=_0x3c6aef['startSizeI'+'ndex'];const _0x28ee9a=document['createElem'+'ent']('div');_0x28ee9a['setAttribu'+'te']('id','mini-stats'),_0x3c6aef['position']==='top'?_0x28ee9a['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';':_0x28ee9a['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',_0x28ee9a['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';',document['body']['appendChil'+'d'](_0x28ee9a),_0x28ee9a['addEventLi'+'stener']('mouseenter',_0x25ab06=>{this['opacity']=-0x4f*0x2d+-0xceb*0x2+0x46a*0x9;}),_0x28ee9a['addEventLi'+'stener']('mouseleave',_0x40ff73=>{this['opacity']=0x1*-0x712+-0x15af+-0x11*-0x1b1+0.7;}),_0x28ee9a['addEventLi'+'stener']('click',_0x310580=>{_0x310580['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(0x1*0x2389+-0x4d6*0x6+0x4*-0x1a1))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x4694c9['on']('resizecanv'+'as',this['updateDiv'],this),_0x4694c9['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x4857d4['on']('postrender',this['postRender'],this),this['app']=_0x4857d4,this['drawLayer']=_0x4857d4['scene']['layers']['getLayerBy'+'Id'](Il),this['device']=_0x4694c9,this['render2d']=new IU(_0x4694c9),this['div']=_0x28ee9a,this['width']=-0x1d79+0xebd+-0x52*-0x2e,this['height']=-0x2387+0x1e5+0x21a2,this['gspacing']=0x633+-0xa9b+0x46a,this['clr']=[0x1*-0x25b+0xd*-0x4a+0x61e,-0x34*-0x86+0x66b+-0x1*0x21a2,-0x248a+-0x12af+0x373a,-0x1*-0x508+-0x4*-0x1f3+0x335*-0x4+0.5],this['_enabled']=!(-0x12e+-0xb07+0x1*0xc35),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x3f75b8=>_0x3f75b8['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'position':'top','sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(0x2*0x17f+-0x136*0x20+0x23c3*0x1)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(-0x2*-0x1020+0x64e+-0x268e)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(-0x1*0x33+-0x20ef+0x2*0x1091)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(-0xcf2+0x1*-0x8f+0xd81),'watermark':0x21},'gpu':{'enabled':!(0x1f*0x137+0x1a20+0x1543*-0x3),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x142492){this['_activeSiz'+'eIndex']=_0x142492,this['gspacing']=this['sizes'][_0x142492]['spacing'],this['resize'](this['sizes'][_0x142492]['width'],this['sizes'][_0x142492]['height'],this['sizes'][_0x142492]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x37f29a){this['clr'][-0x1fa7+0x3*-0x726+-0x46d*-0xc]=_0x37f29a;}get['opacity'](){return this['clr'][-0x15c5+-0x10d1+-0x2699*-0x1];}get['overallHei'+'ght'](){const _0xbdcad9=this['graphs'],_0x4198bc=this['gspacing'];return this['height']*_0xbdcad9['length']+_0x4198bc*(_0xbdcad9['length']-(-0x14b0+0xe05+-0xf4*-0x7));}set['enabled'](_0x3dca86){if(_0x3dca86!==this['_enabled']){this['_enabled']=_0x3dca86;for(let _0x185d92=0x1b42+-0x885*-0x2+0x4ec*-0x9;_0x185d92<this['graphs']['length'];++_0x185d92)this['graphs'][_0x185d92]['enabled']=_0x3dca86,this['graphs'][_0x185d92]['timer']['enabled']=_0x3dca86;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x135d04,_0x2a7d3e,_0x22164f){if(this['graphs']=[],_0x22164f['cpu']['enabled']){const _0x2c9fc7=new wU(_0x135d04),_0x1c1f53=new Uf('CPU',_0x135d04,_0x22164f['cpu']['watermark'],_0x22164f['textRefres'+'hRate'],_0x2c9fc7);this['graphs']['push'](_0x1c1f53);}if(_0x22164f['gpu']['enabled']){const _0x41f45f=new EU(_0x2a7d3e),_0x1d6f7c=new Uf('GPU',_0x135d04,_0x22164f['gpu']['watermark'],_0x22164f['textRefres'+'hRate'],_0x41f45f);this['graphs']['push'](_0x1d6f7c);}_0x22164f['stats']&&_0x22164f['stats']['forEach'](_0x2a7673=>{const _0x494b30=new bU(_0x135d04,_0x2a7673['stats'],_0x2a7673['decimalPla'+'ces'],_0x2a7673['unitsName'],_0x2a7673['multiplier']),_0x377b40=new Uf(_0x2a7673['name'],_0x135d04,_0x2a7673['watermark'],_0x22164f['textRefres'+'hRate'],_0x494b30);this['graphs']['push'](_0x377b40);});const _0xd842ab=_0x22164f['sizes']['reduce']((_0x2d5622,_0x3cf033)=>_0x3cf033['width']>_0x2d5622?_0x3cf033['width']:_0x2d5622,0x1954*0x1+0x426+0x9a*-0x31);this['texture']=new _e(_0x2a7d3e,{'name':'mini-stats'+'-graph-tex'+'ture','width':Y['nextPowerO'+'fTwo'](_0xd842ab),'height':Y['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(0x642+0x26a8+0x1*-0x2ce9),'minFilter':Te,'magFilter':Te,'addressU':yt,'addressV':yt}),this['graphs']['forEach']((_0x124296,_0x15b69b)=>{_0x124296['texture']=this['texture'],_0x124296['yOffset']=_0x15b69b;});}['render'](){const _0x14baed=this['graphs'],_0x58f329=this['wordAtlas'],_0x2a8b53=this['render2d'],_0x3b6535=this['width'],_0x51d22b=this['height'],_0x1824ad=this['gspacing'];_0x2a8b53['startFrame']();for(let _0x2ba2e3=0x1dbc+0x104d+-0x2e09;_0x2ba2e3<_0x14baed['length'];++_0x2ba2e3){const _0x2166bc=_0x14baed[_0x2ba2e3];let _0x23187c=this['options']['position']==='top'?this['deviceHeig'+'ht']-(_0x2ba2e3+(0x1*0x65+0x1400+-0x1464))*(_0x51d22b+_0x1824ad):_0x2ba2e3*(_0x51d22b+_0x1824ad);_0x2166bc['render'](_0x2a8b53,-0x1*-0xb15+0x1df*0x13+-0x2ea2,_0x23187c,_0x3b6535,_0x51d22b);let _0x37f667=0x1d7b+0x54e*0x1+0x54*-0x6a;_0x23187c+=_0x51d22b-(-0xede+-0x19c9+-0x824*-0x5),_0x37f667+=_0x58f329['render'](_0x2a8b53,_0x2166bc['name'],_0x37f667,_0x23187c)+(0x1283*-0x1+0xa9*-0x15+0x39a*0x9);const _0x23868d=_0x2166bc['timingText'];for(let _0x31a086=-0x1171+-0x3*-0x55d+0x15a;_0x31a086<_0x23868d['length'];++_0x31a086)_0x37f667+=_0x58f329['render'](_0x2a8b53,_0x23868d[_0x31a086],_0x37f667,_0x23187c);_0x2166bc['timer']['unitsName']&&(_0x37f667+=-0x1*0x15d+-0x2f1*0x3+0xa33,_0x58f329['render'](_0x2a8b53,_0x2166bc['timer']['unitsName'],_0x37f667,_0x23187c));}_0x2a8b53['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x51d22b);}['resize'](_0x5509f8,_0x1da84c,_0x178c2b){const _0x2c673f=this['graphs'];for(let _0x56e916=-0x1721+0x18*-0x53+0xc1*0x29;_0x56e916<_0x2c673f['length'];++_0x56e916)_0x2c673f[_0x56e916]['enabled']=_0x178c2b;this['width']=_0x5509f8,this['height']=_0x1da84c,this['updateDiv']();}['updateDiv'](){const _0x7bfd13=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x7bfd13['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x7bfd13['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px',this['deviceHeig'+'ht']=this['device']['height']/this['device']['maxPixelRa'+'tio'];}['loseContex'+'t'](){this['graphs']['forEach'](_0x8ad31b=>_0x8ad31b['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}H0();class LU extends ts{constructor(){super(...arguments),h(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),h(this,'controller'+'s',new Map()),h(this,'preEntitie'+'s',new Map()),h(this,'eventsList',[]),h(this,'addEvents',(_0x48ef9e,_0x197b9b,_0xf3cc62)=>{_0x48ef9e['on'](_0x197b9b,_0xf3cc62),this['eventsList']=this['eventsList']['concat']({'e':_0x48ef9e,'ty':_0x197b9b,'fn':_0xf3cc62});}),h(this,'removeEven'+'ts',()=>{this['eventsList']['forEach'](({e:_0x47c9e2,ty:_0x1b0800,fn:_0x4fd011})=>{_0x47c9e2['off'](_0x1b0800,_0x4fd011);}),this['eventsList']=[];}),h(this,'initialize',()=>{if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['addEvents'](this['app']['xr']['input'],'add',async _0x5355fa=>{var _0x55d70a;if(console['log']('add\x20xr\x20inp'+'ut',_0x5355fa['handedness']),!((_0x55d70a=_0x5355fa['profiles'])!=null&&_0x55d70a['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x1ab606=_0x5355fa['profiles']['map'](async _0x32c1fa=>{var _0x192859;const _0x148578=this['basePath']+'/'+_0x32c1fa+('/profile.j'+'son');try{const _0x469bdd=await fetch(_0x148578);if(!_0x469bdd['ok'])return null;const _0x51bf9f=await _0x469bdd['json'](),_0x38cc0f=((_0x192859=_0x51bf9f['layouts'][_0x5355fa['handedness']])==null?void(0x162d*-0x1+-0xcad*0x3+-0x3c34*-0x1):_0x192859['assetPath'])||'',_0x81bf21=this['basePath']+'/'+_0x51bf9f['profileId']+'/'+_0x5355fa['handedness']+_0x38cc0f['replace'](/^\/?(left|right)/,''),_0xe0258e=await new Promise((_0x123a32,_0x4765b7)=>{this['app']['assets']['loadFromUr'+'l'](_0x81bf21,'container',(_0x311431,_0x105118)=>{_0x311431?_0x4765b7(_0x311431):_0x123a32(_0x105118);});});return{'profileId':_0x32c1fa,'asset':_0xe0258e};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x32c1fa),null;}}),_0x497b49=(await Promise['all'](_0x1ab606))['find'](_0x3836f4=>_0x3836f4!==null);if(_0x497b49){const {asset:_0x4c2d0a}=_0x497b49,_0x4011f8=_0x4c2d0a['resource']['instantiat'+'eRenderEnt'+'ity']();_0x4011f8['name']='Armature_'+_0x5355fa['handedness'],this['app']['root']['addChild'](_0x4011f8),this['preEntitie'+'s']['set'](_0x5355fa,_0x4011f8);const _0x13a066=new Map();if(_0x5355fa['hand'])for(const _0x51b1c7 of _0x5355fa['hand']['joints']){const _0x301943=_0x4011f8['findByName'](_0x51b1c7['id']);_0x301943&&_0x13a066['set'](_0x51b1c7,_0x301943);}this['controller'+'s']['set'](_0x5355fa,{'entity':_0x4011f8,'jointMap':_0x13a066});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['addEvents'](this['app']['xr']['input'],'remove',_0x35ea4e=>{var _0x800f47;const _0xfe3977=this['controller'+'s']['get'](_0x35ea4e);_0xfe3977&&((_0x800f47=_0xfe3977['entity'])==null||_0x800f47['destroy'](),this['app']['root']['removeChil'+'d'](_0xfe3977==null?void(-0x1900+-0x551+0x1e51):_0xfe3977['entity']),this['controller'+'s']['delete'](_0x35ea4e));}),this['addEvents'](this['app']['xr']['input'],'removeall',this['destroy']),this['on']('destroy',this['removeEven'+'ts']);}),h(this,'destroy',()=>{var _0x53fd61,_0x4f8561,_0x394c9c;const _0x15a9c3=this['app'];(_0x53fd61=this['controller'+'s'])==null||_0x53fd61['forEach'](_0x1af08a=>{var _0x1edad0;_0x15a9c3['root']['removeChil'+'d'](_0x1af08a==null?void(-0xba6+0x1*0x1284+0x6de*-0x1):_0x1af08a['entity']),(_0x1edad0=_0x1af08a['entity'])==null||_0x1edad0['destroy']();}),(_0x4f8561=this['controller'+'s'])==null||_0x4f8561['clear'](),(_0x394c9c=this['preEntitie'+'s'])==null||_0x394c9c['forEach'](_0x153ae6=>{_0x15a9c3['root']['removeChil'+'d'](_0x153ae6),_0x153ae6==null||_0x153ae6['destroy']();});const _0x58c314=()=>{const _0x5d715f=_0x15a9c3['root']['findByName']('Armature_l'+'eft'),_0x302279=_0x15a9c3['root']['findByName']('Armature_r'+'ight');for(_0x5d715f&&_0x15a9c3['root']['removeChil'+'d'](_0x5d715f),_0x302279&&_0x15a9c3['root']['removeChil'+'d'](_0x302279);_0x15a9c3['root']['findByName']('Armature_l'+'eft')||_0x15a9c3['root']['findByName']('Armature_r'+'ight');)_0x58c314();};_0x58c314();});}['update'](_0x12c0d8){var _0x51dadd;if((_0x51dadd=this['app']['xr'])!=null&&_0x51dadd['active']){for(const [_0x295a69,{entity:_0x423e7d,jointMap:_0x53de48}]of this['controller'+'s'])if(_0x295a69['hand']){for(const [_0x2a51ef,_0x48756c]of _0x53de48)_0x48756c['setPositio'+'n'](_0x2a51ef['getPositio'+'n']()),_0x48756c['setRotatio'+'n'](_0x2a51ef['getRotatio'+'n']());}else _0x423e7d['setPositio'+'n'](_0x295a69['getPositio'+'n']()),_0x423e7d['setRotatio'+'n'](_0x295a69['getRotatio'+'n']());}}}h(LU,'scriptName','xrControll'+'ers');class RU extends ts{constructor(){super(...arguments),h(this,'enableDraw'+'Ray',!(-0x3c2*0x5+0x1*0x21fb+0xa2*-0x18)),h(this,'inputSourc'+'es',new Set()),h(this,'activePoin'+'ters',new Map()),h(this,'validColor',new ie(-0x2*-0x1bf+0x55b+0xf*-0x97,0x75*-0x1+0x3a4+-0x32e,-0x1cdc+0x2e*0x55+0xd96)),h(this,'invalidCol'+'or',new ie(-0x99+0x163d*-0x1+0x16d7,0x10*0xe+-0xf65+-0x19d*-0x9,-0x112f*-0x1+-0x75a*0x3+-0x1*-0x4df)),h(this,'inputHandl'+'ers',new Map()),h(this,'teleportOp'+'enStatus',!(0x527*-0x2+-0x1a95*0x1+-0x939*-0x4)),h(this,'teleportLe'+'ftOpenStat'+'us',!(0x1922+0xb5c+-0x247d));}['initialize'](){if(!this['app']['xr']){console['error']('XrNavigati'+'on\x20script\x20'+'requires\x20X'+'R\x20to\x20be\x20en'+'abled\x20on\x20t'+'he\x20applica'+'tion');return;}this['app']['xr']['input']['on']('add',_0x58ccc3=>{const _0x2564f3=()=>{this['activePoin'+'ters']['set'](_0x58ccc3,!(-0x2*0x211+0x103e+-0xc1c));},_0x17c812=()=>{this['activePoin'+'ters']['set'](_0x58ccc3,!(-0x3*-0xbf9+0x1d4*-0x15+0x27a)),this['tryTelepor'+'t'](_0x58ccc3);};_0x58ccc3['on']('selectstar'+'t',_0x2564f3),_0x58ccc3['on']('selectend',_0x17c812),this['inputHandl'+'ers']['set'](_0x58ccc3,{'handleSelectStart':_0x2564f3,'handleSelectEnd':_0x17c812}),this['inputSourc'+'es']['add'](_0x58ccc3);}),this['app']['xr']['input']['on']('remove',_0x35e24d=>{const _0x32a692=this['inputHandl'+'ers']['get'](_0x35e24d);_0x32a692&&(_0x35e24d['off']('selectstar'+'t',_0x32a692['handleSele'+'ctStart']),_0x35e24d['off']('selectend',_0x32a692['handleSele'+'ctEnd']),this['inputHandl'+'ers']['delete'](_0x35e24d)),this['activePoin'+'ters']['delete'](_0x35e24d),this['inputSourc'+'es']['delete'](_0x35e24d);});}['findPlaneI'+'ntersectio'+'n'](_0x562a3,_0xc97619){if(Math['abs'](_0xc97619['y'])<0x3a2+0x95b*0x3+-0x5*0x657+0.00001)return null;const _0x37c908=-_0x562a3['y']/_0xc97619['y'];return _0x37c908<0x1bcd+-0xac*-0x26+-0x3555?null:new D(_0x562a3['x']+_0xc97619['x']*_0x37c908,0xe57+0x2079+0x38*-0xd6,_0x562a3['z']+_0xc97619['z']*_0x37c908);}['tryTelepor'+'t'](_0x4b5026){if(this['teleportOp'+'enStatus']||this['teleportLe'+'ftOpenStat'+'us']){const _0x2a765d=_0x4b5026['getOrigin'](),_0x35d307=_0x4b5026['getDirecti'+'on'](),_0x3525e7=this['findPlaneI'+'ntersectio'+'n'](_0x2a765d,_0x35d307);if(_0x3525e7){const _0x51418f=this['entity']['getPositio'+'n']()['y'];_0x3525e7['y']=_0x51418f,this['entity']['setPositio'+'n'](_0x3525e7);}}}['update'](){for(const _0xb42041 of this['inputSourc'+'es']){const _0x58ce8d=_0xb42041['getOrigin'](),_0x5f3356=_0xb42041['getDirecti'+'on']();if(_0xb42041['gamepad']&&!_0xb42041['hand']){const _0x411545=_0xb42041['gamepad'];for(let _0x1e1561=-0x1db5+0x93*-0x1f+0x2f82;_0x1e1561<_0x411545['buttons']['length'];++_0x1e1561)_0x411545['buttons'][_0x1e1561]['pressed']&&console['log'](_0x1e1561,_0xb42041['handedness']),_0xb42041['handedness']==='right'&&_0x1e1561===0x1*-0x1110+0x7*-0x23+-0x602*-0x3&&(this['teleportOp'+'enStatus']=_0x411545['buttons'][0x11*0xbe+0x25*-0x12+-0xa03]['pressed']),_0xb42041['handedness']==='left'&&_0x1e1561===0x14db+0x3c4*-0x1+-0x9*0x1e6&&(this['teleportLe'+'ftOpenStat'+'us']=_0x411545['buttons'][-0x1*0x11a7+-0x1aa7+-0x39*-0xc7]['pressed']);}const _0x1caa67=_0xb42041['handedness'];if(!this['enableDraw'+'Ray']&&(_0x1caa67==='right'&&!this['teleportOp'+'enStatus']||_0x1caa67==='left'&&!this['teleportLe'+'ftOpenStat'+'us']))continue;const _0x14a964=this['findPlaneI'+'ntersectio'+'n'](_0x58ce8d,_0x5f3356);if(this['enableDraw'+'Ray']||!_0x14a964){const _0x2b8b9e=_0x58ce8d['clone']()['add'](_0x5f3356['clone']()['mulScalar'](0x18d*0xe+-0xe6*0x13+-0x440)),_0x48bb18=this['enableDraw'+'Ray']?_0xb42041['selecting']?ie['GREEN']:ie['WHITE']:this['invalidCol'+'or'];this['app']['drawLine'](_0x58ce8d,_0x2b8b9e,_0x48bb18);}else this['app']['drawLine'](_0x58ce8d,_0x14a964,this['validColor']),this['drawTelepo'+'rtIndicato'+'r'](_0x14a964);}}['drawTelepo'+'rtIndicato'+'r'](_0x297953){for(let _0x2e6d77=-0xea1*0x2+-0x25ae+0x22*0x1f8;_0x2e6d77<-0x4*-0x5c3+-0x1304+-0x14*0x32;_0x2e6d77++){const _0x3dafb3=_0x2e6d77/(-0x1b3a*0x1+0x1c8d*0x1+0x133*-0x1)*Math['PI']*(0x16b8*0x1+0x1c64+-0x198d*0x2),_0x45f0fd=(_0x2e6d77+(0x656+0x1bc9+-0x221e))/(0x2622+0x25e1+-0x4be3)*Math['PI']*(0x2*-0x1174+0x163*0x5+-0xf7*-0x1d),_0x1b3266=_0x297953['x']+Math['cos'](_0x3dafb3)*(-0x1*0xa60+-0x2*-0x949+-0x832+0.2),_0x5237e3=_0x297953['z']+Math['sin'](_0x3dafb3)*(-0xb*0x21d+0x1687+-0x17*-0x8+0.2),_0x1217bc=_0x297953['x']+Math['cos'](_0x45f0fd)*(0x1f4*-0x2+0x10cb+-0xce3*0x1+0.2),_0x38bc21=_0x297953['z']+Math['sin'](_0x45f0fd)*(0x1c46+0x7fc+-0x2442+0.2);this['app']['drawLine'](new D(_0x1b3266,0x9d*0x1f+-0x143*-0x7+0x18c*-0x12+0.01,_0x5237e3),new D(_0x1217bc,0x2562+0x17e*-0x9+-0x17f4+0.01,_0x38bc21),this['validColor']);}}}h(RU,'scriptName','xrNavigati'+'on');export{th as $,$U as A,WS as B,ie as C,kU as D,lt as E,PC as F,Xc as G,He as H,Xn as I,Wt as J,h_ as K,Kp as L,sa as M,Me as N,Zs as O,qU as P,le as Q,wg as R,$s as S,nv as T,bt as U,D as V,YS as W,cU as X,Ge as Y,js as Z,Y as _,re as a,Il as a0,Nu as a1,Ce as a2,je as a3,ma as a4,vt as a5,te as a6,De as a7,FU as a8,YU as a9,LU as aa,RU as ab,NU as ac,jv as ad,z0 as ae,N0 as af,me as ag,Xo as ah,Zl as ai,XU as aj,Pe as ak,Bo as al,HS as am,Xk as b,J as c,pe as d,Ll as e,En as f,ni as g,sm as h,UU as i,BU as j,zU as k,VU as l,GU as m,sv as n,tv as o,iv as p,Uw as q,kw as r,au as s,Jp as t,al as u,Ut as v,qO as w,Za as x,Tv as y,B0 as z};function _0x509898(_0x3439f1){function _0x4ff278(_0x7b7902){if(typeof _0x7b7902==='string')return function(_0x519cfb){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x7b7902/_0x7b7902)['length']!==0x16*0x23+-0x1908+0x1607||_0x7b7902%(-0x750+-0xfb*-0x8+0x1*-0x74)===-0x49*-0x67+-0x1*-0xc89+-0x4a8*0x9?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x4ff278(++_0x7b7902);}try{if(_0x3439f1)return _0x4ff278;else _0x4ff278(-0x1839+-0x139d+0x2bd6);}catch(_0x1df8cc){}}