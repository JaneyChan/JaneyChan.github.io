const _0xeaa369=(function(){let _0x284223=!![];return function(_0x32130c,_0x24c1a4){const _0x1beb68=_0x284223?function(){if(_0x24c1a4){const _0x19bfd2=_0x24c1a4['apply'](_0x32130c,arguments);return _0x24c1a4=null,_0x19bfd2;}}:function(){};return _0x284223=![],_0x1beb68;};}()),_0x4e6d76=_0xeaa369(this,function(){return _0x4e6d76['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x4e6d76)['search']('(((.+)+)+)'+'+$');});_0x4e6d76();const _0x537f8b=(function(){let _0x361c96=!![];return function(_0x271a8f,_0x1040b5){const _0x172736=_0x361c96?function(){if(_0x1040b5){const _0x3814bf=_0x1040b5['apply'](_0x271a8f,arguments);return _0x1040b5=null,_0x3814bf;}}:function(){};return _0x361c96=![],_0x172736;};}());(function(){_0x537f8b(this,function(){const _0x772f5=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x4d7011=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x47d5df=_0x443b71('init');!_0x772f5['test'](_0x47d5df+'chain')||!_0x4d7011['test'](_0x47d5df+'input')?_0x47d5df('0'):_0x443b71();})();}());const _0x2e5806=(function(){let _0x5218e1=!![];return function(_0x4d8371,_0x4f6762){const _0x11bbad=_0x5218e1?function(){if(_0x4f6762){const _0x5b06e0=_0x4f6762['apply'](_0x4d8371,arguments);return _0x4f6762=null,_0x5b06e0;}}:function(){};return _0x5218e1=![],_0x11bbad;};}()),_0x534224=_0x2e5806(this,function(){let _0x4a36be;try{const _0x5d93f2=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x4a36be=_0x5d93f2();}catch(_0x41eebd){_0x4a36be=window;}const _0x1dc456=_0x4a36be['console']=_0x4a36be['console']||{},_0x2889c5=['log','warn','info','error','exception','table','trace'];for(let _0x340544=-0x1*0x17e5+0x147c+-0x1*-0x369;_0x340544<_0x2889c5['length'];_0x340544++){const _0x5da739=_0x2e5806['constructo'+'r']['prototype']['bind'](_0x2e5806),_0x53b74d=_0x2889c5[_0x340544],_0x48729a=_0x1dc456[_0x53b74d]||_0x5da739;_0x5da739['__proto__']=_0x2e5806['bind'](_0x2e5806),_0x5da739['toString']=_0x48729a['toString']['bind'](_0x48729a),_0x1dc456[_0x53b74d]=_0x5da739;}});_0x534224();var k0=Object['defineProp'+'erty'],U0=(_0x1b2f1b,_0x493e07,_0x2b0923)=>_0x493e07 in _0x1b2f1b?k0(_0x1b2f1b,_0x493e07,{'enumerable':!(-0xfb2+-0x905*0x1+0x18b7),'configurable':!(0xa1d+0xbbb+0x1d2*-0xc),'writable':!(0x3*0x735+0xb8b+-0x212a),'value':_0x2b0923}):_0x1b2f1b[_0x493e07]=_0x2b0923,h=(_0x3e383f,_0x463142,_0x4de031)=>U0(_0x3e383f,typeof _0x463142!='symbol'?_0x463142+'':_0x463142,_0x4de031),B0=(_0xff2810=>(_0xff2810['HIGH']='high',_0xff2810['MEDIUM']='medium',_0xff2810['LOW']='low',_0xff2810['LOW_VR']='lowVR',_0xff2810))(B0||{});const z0=()=>!HS()&&!WS()&&!GS()&&!V0(),GS=()=>{const _0x16c773=navigator['userAgent']['includes']('Macintosh'),_0x9daabc=navigator['maxTouchPo'+'ints']===0x5*0x2f3+-0x371+-0xb49,_0x749a3a=/^((?!chrome|android).)*safari/i['test'](navigator['userAgent']);return _0x16c773&&_0x9daabc&&_0x749a3a;},HS=()=>navigator['userAgent']['includes']('Quest'),V0=()=>{const _0x55ec57=navigator['userAgent']['toLowerCas'+'e']();return _0x55ec57['includes']('pico')||_0x55ec57['includes']('picolrowse'+'r');},WS=()=>['iOS','Android']['includes'](G0()),FU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),NU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),G0=()=>{const _0x4161ea=window['navigator']['userAgent']['toLowerCas'+'e'](),_0x4bcda8=window['navigator']['platform']['toLowerCas'+'e']();return/iphone|ipad|ipod/['test'](_0x4161ea)?'iOS':/android/['test'](_0x4161ea)?'Android':/mac/['test'](_0x4bcda8)?'macOS':/win/['test'](_0x4bcda8)?'Windows':/linux/['test'](_0x4bcda8)?'Linux':'Unknown';};class kU{constructor(){this['HIGH_FPS_T'+'HRESHOLD']=-0x1263+-0x1ec2+0x3152,this['MEDIUM_FPS'+'_THRESHOLD']=0x262+-0xb8*-0x1e+0x17d4*-0x1,this['HIGH_MEMOR'+'Y_THRESHOL'+'D']=(0x1c*0x100+-0x1651*0x1+-0x1*0x5ab)*(-0x86*0x42+0x1*-0x1d4b+0x43d7)*(-0x1d4a*-0x1+-0xd3+0x1877*-0x1)*(0x2*0xa8d+-0x54f+-0xbcb*0x1),this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']=(-0x69d+0xa*0x107+-0x3a7)*(-0x6*-0x209+-0x6b*-0xe+-0x78*0x1e)*(0x2*0x101f+0x7e0*0x2+0x1*-0x2bfe)*(-0x2f*-0x5+-0xc*-0x22+0x17d),this['SCORE_THRE'+'SHOLDS']={'HIGH':0x46,'MEDIUM':0x32,'LOW':0x1e},this['VENDOR_WEI'+'GHTS']={'nvidia':0x1,'amd':0.9,'apple':0.8,'intel':0.6,'qualcomm':0.5,'arm':0.4},this['HIGH_END_P'+'ATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*[3-4]|titan\s*(?:rtx|xp|v))|quadro\s+(?:rtx|a[0-9]+)/i,/a[1-9][0-9]+/i],'amd':[/radeon\s+(?:rx\s*[6-9]|rx\s*7[0-9]+|pro\s*w[5-9])|instinct\s+mi[2-9]/i],'apple':[/m[1-3]\s+(?:pro|max|ultra)?/i]},this['MEDIUM_END'+'_PATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*2|gtx\s*1[6-9])|quadro\s+(?:p[2-9]|t[1-9])/i],'amd':[/radeon\s+(?:rx\s*[4-5]|vega\s*[5-9])|pro\s*w[2-4]/i],'apple':[/a[1-9][0-9]+\s+(?:x|z)?/i]},this['LOW_END_PA'+'TTERNS']={'intel':[/(?:hd|uhd|iris|xe)\s*graphics\s*(?:[6-9][0-9]+|[1-9][0-9]+g)/i],'qualcomm':[/adreno\s*[6-9][0-9]+/i],'arm':[/mali\s*-?(?:g[7-9][0-9]|t[8-9][0-9])/i]};}['getVendorS'+'core'](_0x429ed8){const _0x43f761=_0x429ed8['toLowerCas'+'e']();for(const [_0x41b7cd,_0xb258e2]of Object['entries'](this['VENDOR_WEI'+'GHTS']))if(_0x43f761['includes'](_0x41b7cd))return _0xb258e2*(-0x10*0x230+0xa82*-0x3+0x42ea);return 0x17fe+-0x59d+-0x122f;}['getModelSc'+'ore'](_0x28dcba,_0x28cda3){const _0x376d08=_0x28dcba['toLowerCas'+'e'](),_0x3f113d=_0x28cda3['toLowerCas'+'e']();for(const [_0x51a551,_0x144f46]of Object['entries'](this['HIGH_END_P'+'ATTERNS']))if(_0x376d08['includes'](_0x51a551)&&_0x144f46['some'](_0x65e151=>_0x65e151['test'](_0x3f113d)))return-0x103*0xd+-0x1*0x23b3+0x2f*0x10c;for(const [_0x416de8,_0x3a766e]of Object['entries'](this['MEDIUM_END'+'_PATTERNS']))if(_0x376d08['includes'](_0x416de8)&&_0x3a766e['some'](_0x4dbcf4=>_0x4dbcf4['test'](_0x3f113d)))return 0x2384+-0x5d*-0x9+-0x2683;for(const [_0x2c303e,_0x4857e0]of Object['entries'](this['LOW_END_PA'+'TTERNS']))if(_0x376d08['includes'](_0x2c303e)&&_0x4857e0['some'](_0x4048ce=>_0x4048ce['test'](_0x3f113d)))return 0x1*0x15e5+0x1252*0x1+-0x2805;return-0x175*0x4+-0x42c+0x5*0x20c;}['getMemoryS'+'core'](_0x1fe5a3){return _0x1fe5a3?_0x1fe5a3>=0x40ef+0x4d80+-0x5f8f?-0x2308+0x30a+0x2062:_0x1fe5a3>=-0x1590+0x808+0x8*0x599?0x20eb+-0x1*0x859+0x19*-0xf8:_0x1fe5a3>=0x2c16+0x8b*0x2+0xade*-0x2?-0x9*-0x302+-0x133*-0x7+-0x2327:_0x1fe5a3>=0x1bcb*0x1+-0x25e7*-0x1+0x2f2*-0x11?-0x1f84+-0x1*0x1c69+0x1411*0x3:_0x1fe5a3>=-0x259d+-0x1103+0x3e70?0x2209+-0x201f+-0x1ae:0x1c2a+0xc2*-0x11+0x1*-0xf16:0x5*-0x35f+0x169+0x134*0xd;}['getDriverS'+'core'](_0x5541d2){if(!_0x5541d2)return 0x1fa6+0x1*-0x3a1+0x1bd3*-0x1;const _0x4cdb07=_0x5541d2['match'](/20[2-9][0-9]/);if(_0x4cdb07){const _0x4e8d77=parseInt(_0x4cdb07[-0x13e0+-0x354*0x4+0xb1*0x30]);if(_0x4e8d77>=-0x514+0x441+0x8ba)return-0x1*0x18db+-0x5e+0x53*0x4f;if(_0x4e8d77>=-0x1*-0xe9b+-0x7bd+0x4*0x42)return 0x1b40+-0x17b3*0x1+0x33d*-0x1;if(_0x4e8d77>=0x4d*0x77+0xd9a+-0x2980)return 0x35*-0x3f+-0x1*0x1235+-0xfbe*-0x2;}return 0x96a+0x418+0x354*-0x4;}['evaluateGP'+'U'](_0x54bd5d){const _0x467bec=this['getVendorS'+'core'](_0x54bd5d['vendor']),_0x2a5a7c=this['getModelSc'+'ore'](_0x54bd5d['vendor'],_0x54bd5d['renderer']),_0x5341d5=this['getMemoryS'+'core'](_0x54bd5d['memory']),_0x2921ec=this['getDriverS'+'core'](_0x54bd5d['driverVers'+'ion']);return console['log']('GPU:',_0x54bd5d['vendor']),console['log']('GPU:',_0x54bd5d['renderer']),console['log']('GPU:',_0x54bd5d['driverVers'+'ion']),console['table'](_0x54bd5d),_0x467bec*(0x7a7+0x9f3+0x1*-0x119a+0.3)+_0x2a5a7c*(0x533+0x942+-0x1*0xe75+0.4)+_0x5341d5*(0x3d7*0x2+0xe55+-0x1603+0.2)+_0x2921ec*(-0x67*0x50+0x14ed+0xb43+0.1);}['evaluateCP'+'U'](){const _0x256119=navigator['hardwareCo'+'ncurrency'];return _0x256119>=-0x65b*0x1+0xf67*0x2+0x149*-0x13?-0xdae+0xdf*0x1+0x3*0x446:_0x256119>=0xa72*0x2+0x48a+-0x196a?0x217d+-0x52*-0x47+-0x25*0x185:-0x1*0x7db+0x791+0x4b*0x1;}['evaluateMe'+'mory'](_0x499ad0){return typeof _0x499ad0=='string'?-0x2403+0x669+0x6*0x4ef:_0x499ad0['totalJSHea'+'pSize'];}['evaluatePe'+'rformance'](_0x38685f){const _0x44ef67=WS(),_0x306950=GS(),_0x51f485=HS();if(_0x306950)return'medium';if(_0x51f485)return'lowVR';if(_0x44ef67)return'low';const _0x5ae2cb=_0x38685f['fps']>=this['HIGH_FPS_T'+'HRESHOLD']?-0xa5f+0x1a62+-0x1000:_0x38685f['fps']>=this['MEDIUM_FPS'+'_THRESHOLD']?0x282*0x5+0x3*0x1d1+-0x1*0x11fb:-0x1b91+-0xd*0x17b+0x2ed1;let _0x40196c=0x81d+-0x15b*-0xf+-0x3*0x97b;typeof _0x38685f['gpuInfo']!='string'&&(_0x40196c=this['evaluateGP'+'U'](_0x38685f['gpuInfo']));const _0x40765b=this['evaluateCP'+'U'](),_0x35aa74=this['evaluateMe'+'mory'](_0x38685f['memoryInfo'])>=this['HIGH_MEMOR'+'Y_THRESHOL'+'D']?-0x2134+-0xb*0x308+0x428f:this['evaluateMe'+'mory'](_0x38685f['memoryInfo'])>=this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']?-0x4a*0x56+-0x5c*0x1d+0x234a:0x1990+0x1e07+-0x1*0x3796,_0xbb1b5b=_0x5ae2cb+_0x40196c+_0x40765b+_0x35aa74;return console['log']('GPU:',_0x5ae2cb,_0x40196c,_0x40765b,_0x35aa74),_0xbb1b5b>=this['SCORE_THRE'+'SHOLDS']['HIGH']?'high':_0xbb1b5b>=this['SCORE_THRE'+'SHOLDS']['MEDIUM']?'medium':'low';}['getModelQu'+'alitySetti'+'ngs'](_0x50ffaf){return{'high':{'textureQuality':'high'},'medium':{'textureQuality':'medium'},'low':{'textureQuality':'low'},'lowVR':{'textureQuality':'lowVR'}}[_0x50ffaf];}}const H0=()=>{globalThis['requestIdl'+'eCallback']=globalThis['requestIdl'+'eCallback']||function(_0x38e7ba){var _0x3b6ebc=Date['now']();return setTimeout(function(){_0x38e7ba({'didTimeout':!(0x1652+-0x1*0x189d+-0x62*-0x6),'timeRemaining':function(){return Math['max'](0x1e8c+0x23e7+-0x4273,0x131*-0xd+-0x1f84+0x2f33-(Date['now']()-_0x3b6ebc));}});},0xb5*0x36+0x1eed+-0x451a);},globalThis['cancelIdle'+'Callback']=globalThis['cancelIdle'+'Callback']||function(_0x3ec08a){clearTimeout(_0x3ec08a);};},W0='RenderFram'+'e',Ld='RenderFram'+'eTime',Pm='RenderPass',cn='RenderPass'+'Detail',Vl='RenderActi'+'on',Mm='RenderTarg'+'etAlloc',Dm='TextureAll'+'oc',Im='ShaderAllo'+'c',$0='ShaderComp'+'ile',X0='VRAM.Textu'+'re',q0='VRAM.Vb',j0='VRAM.Ib',Y0='BindGroupA'+'lloc',K0='BindGroupF'+'ormatAlloc',Vs='Element',Z0='Textures',Gl='GpuTimings',hn='$_CURRENT_'+'SDK_VERSIO'+'N',$S='$_CURRENT_'+'SDK_REVISI'+'ON';function ah(_0x5303e1,_0x46dc1c){for(const _0xd677b6 in _0x46dc1c){const _0x410de7=_0x46dc1c[_0xd677b6];Array['isArray'](_0x410de7)?_0x5303e1[_0xd677b6]=ah([],_0x410de7):_0x410de7&&typeof _0x410de7=='object'?_0x5303e1[_0xd677b6]=ah({},_0x410de7):_0x5303e1[_0xd677b6]=_0x410de7;}return _0x5303e1;}const Q0={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x25f5a4=>{const _0x1ab183=Math['random']()*(-0x1*0x12b2+0x17*-0x12e+0x2de4)|-0xdd5*-0x1+-0xa27+0x9d*-0x6;return(_0x25f5a4==='x'?_0x1ab183:_0x1ab183&-0x17fe+0x116a*-0x2+0x3ad5|0x5bd+0x2a*-0xcc+0x1bc3)['toString'](-0x16ba+0x2505+-0xe3b);});}},xe={'delimiter':'/','join'(..._0x81070){let _0x39eb7f=_0x81070[-0xe5*0x29+0xf8f+0x151e];for(let _0x56f8e4=0x1*0x1cf+0x437*0x5+-0x16e2;_0x56f8e4<_0x81070['length']-(0x4*-0x805+0x1a4*-0x10+0x3a55);_0x56f8e4++){const _0x15b8be=_0x81070[_0x56f8e4],_0x5ba0f6=_0x81070[_0x56f8e4+(0xd6b+0x25cc+0x17*-0x23a)];if(_0x5ba0f6[0x1*0x24d7+-0x1f97+-0x540]===xe['delimiter']){_0x39eb7f=_0x5ba0f6;continue;}_0x15b8be&&_0x5ba0f6&&_0x15b8be[_0x15b8be['length']-(-0xb8d*0x2+-0x19e5+-0x70*-0x70)]!==xe['delimiter']&&_0x5ba0f6[0x137a+-0x8*0x123+-0xa62]!==xe['delimiter']?_0x39eb7f+=xe['delimiter']+_0x5ba0f6:_0x39eb7f+=_0x5ba0f6;}return _0x39eb7f;},'normalize'(_0xb9a2bd){const _0x10a24e=_0xb9a2bd['startsWith'](xe['delimiter']),_0x54d051=_0xb9a2bd['endsWith'](xe['delimiter']),_0x2bd711=_0xb9a2bd['split']('/');let _0x545ee4='',_0x5e5ff2=[];for(let _0x1f4e78=0x6c*0x5c+-0x3*-0xceb+-0x4d91*0x1;_0x1f4e78<_0x2bd711['length'];_0x1f4e78++)if(_0x2bd711[_0x1f4e78]!==''&&_0x2bd711[_0x1f4e78]!=='.'){if(_0x2bd711[_0x1f4e78]==='..'&&_0x5e5ff2['length']>0x1d*-0x33+0x1a6+-0x421*-0x1){_0x5e5ff2=_0x5e5ff2['slice'](-0x3*-0x92f+-0x86*0x21+-0x3*0x36d,_0x5e5ff2['length']-(-0x969+-0x861+0x11cc));continue;}_0x1f4e78>-0x17a5+-0x6ca+0x93*0x35&&_0x5e5ff2['push'](xe['delimiter']),_0x5e5ff2['push'](_0x2bd711[_0x1f4e78]);}return _0x545ee4=_0x5e5ff2['join'](''),!_0x10a24e&&_0x545ee4[0x3*-0x597+-0x1a10+0x2ad5]===xe['delimiter']&&(_0x545ee4=_0x545ee4['slice'](0x25c4+0x3*-0x7aa+-0x13*0xc7)),_0x54d051&&_0x545ee4[_0x545ee4['length']-(-0x1e3d*-0x1+-0x8ea+-0x1552*0x1)]!==xe['delimiter']&&(_0x545ee4+=xe['delimiter']),_0x545ee4;},'split'(_0xd6d30e){const _0x2c1e1d=_0xd6d30e['lastIndexO'+'f'](xe['delimiter']);return _0x2c1e1d!==-(0x1dd1+-0x1741+0x49*-0x17)?[_0xd6d30e['substring'](-0x11*0x25+0x20bc+-0x1e47*0x1,_0x2c1e1d),_0xd6d30e['substring'](_0x2c1e1d+(0x73*-0x19+0xb08*-0x3+0x2c54))]:['',_0xd6d30e];},'getBasename'(_0x3c84e3){return xe['split'](_0x3c84e3)[-0x1a13+-0xc19+0x262d];},'getDirectory'(_0x45375a){return xe['split'](_0x45375a)[-0x25c8+-0x25*-0x59+0x1*0x18eb];},'getExtension'(_0x1535e9){const _0x1591dc=_0x1535e9['split']('?')[-0x7*-0x4a9+0x1902+0x1*-0x39a1]['split']('.')['pop']();return _0x1591dc!==_0x1535e9?'.'+_0x1591dc:'';},'isRelativePath'(_0x34df4c){return _0x34df4c['charAt'](0x1*0xeb3+-0x1ab4+0xc01)!=='/'&&_0x34df4c['match'](/:\/\//)===null;},'extractPath'(_0x5f46b8){let _0xa09764='';const _0x5375d8=_0x5f46b8['split']('/');let _0x23199a=-0x5e2+0x1*0x1abb+0x251*-0x9;if(_0x5375d8['length']>-0x29*-0x87+-0x1*0x224e+0x7*0x1d0){if(xe['isRelative'+'Path'](_0x5f46b8)){if(_0x5375d8[-0x21*0xb7+0x63d*0x1+0x8ad*0x2]==='.'){for(_0x23199a=0x1176+-0x15b*-0x17+-0x30a3*0x1;_0x23199a<_0x5375d8['length']-(0x244b+-0x2530+0xe6);++_0x23199a)_0xa09764+=_0x23199a===0x1*0xf05+-0x2*0x7d1+-0x1*-0x9d?_0x5375d8[_0x23199a]:'/'+_0x5375d8[_0x23199a];}else{if(_0x5375d8[-0x3c*0xc+-0xbdc+-0xeac*-0x1]==='..'){for(_0x23199a=-0x188f+-0x1*0xe5a+0x1*0x26e9;_0x23199a<_0x5375d8['length']-(0x2*-0x11c3+-0x262b+0x49b2);++_0x23199a)_0xa09764+=_0x23199a===0x1410+-0x17*-0x1af+0x95*-0x65?_0x5375d8[_0x23199a]:'/'+_0x5375d8[_0x23199a];}else{for(_0xa09764='.',_0x23199a=0x1*-0x1436+0xa*0x15a+0x6b2;_0x23199a<_0x5375d8['length']-(0x4a3*0x6+-0x11e9+-0x9e8);++_0x23199a)_0xa09764+='/'+_0x5375d8[_0x23199a];}}}else{for(_0x23199a=-0x2*0x859+0xa5+0x100d*0x1;_0x23199a<_0x5375d8['length']-(0x12dc+-0x14b*0xb+-0x4a2);++_0x23199a)_0xa09764+=_0x23199a===-0x14ad*-0x1+-0x53a+-0x317*0x5?_0x5375d8[_0x23199a]:'/'+_0x5375d8[_0x23199a];}}return _0xa09764;}},J0=()=>{let _0x2b5077=!(0x146a+0x1246+0x26af*-0x1);try{const _0x1e08f4=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x2b5077=!(-0x5*0x5c9+-0xcfb+0x14f4*0x2),!(-0x3f1*-0x5+0x2413+-0x37c7);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x1e08f4),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x1e08f4);}catch{}return _0x2b5077;},Bi=typeof navigator<'u'?navigator['userAgent']:'',nh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Lm=/android/i['test'](Bi)?'android':/ip(?:[ao]d|hone)/i['test'](Bi)?'ios':/windows/i['test'](Bi)?'windows':/mac os/i['test'](Bi)?'osx':/linux/i['test'](Bi)?'linux':/cros/i['test'](Bi)?'cros':null,ex=nh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](Bi)?'chrome':/Safari\//['test'](Bi)?'safari':/Firefox\//['test'](Bi)?'firefox':'other',tx=nh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>-0x1*-0x1e01+0x110*0x4+0xb6b*-0x3),sx=J0(),Ae={'name':Lm,'browser':nh==='browser','worker':nh==='worker','android':Lm==='android','touch':tx,'passiveEvents':sx,'browserName':ex},XS='abcdefghij'+'klmnopqrst'+'uvwxyz',qS='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',ix=XS+qS,Bf=0x26*-0x710+-0x18c33+-0x37093*-0x1,jS=0x34dd*0x6+0x146*-0x148+0x14081,Rm=-0x745*-0xe+-0xe3f6+-0x15a3*-0x10,rx=-0x4a14+-0x15103+-0xf1f*-0x2a,ax=0x39d5+-0xe13+0xbb5*-0x1,Om=-0x1ed1c*0x2+0x18e*-0xb7+0x1*0x6e8a0,Fm=-0x4f*0x535+-0x1*0x604d+0x1*0x3eda7,nx=-0x3*0x2bb1+-0x4697*0x1+0x2bda5,ox=0xd3c9*0x2+0x81*0xec+-0x2a7f*0x1,lx=0x4173*0x1+-0x3cc3+0x1c20,cx=0x1*0x5d1+-0xfa*0x9+0x23f8,zf=-0x2*-0x8663+0xd*-0xe09+-0xa7af*-0x1,Vf=-0x12689+0xac1a+-0xd*-0x1cf6;function Gf(_0x3fdb6a,_0x27a48e=-0x146*-0x2+-0x41a+0x1*0x18e){const _0xa34e65=_0x3fdb6a['length'];if(_0x27a48e<0xe7d*-0x1+0x13e5*0x1+-0x568||_0x27a48e>=_0xa34e65)return null;const _0x54d839=_0x3fdb6a['charCodeAt'](_0x27a48e);if(_0xa34e65>0x3*0x987+0x168+-0x1dfc&&_0x54d839>=Bf&&_0x54d839<=jS){const _0x4f150f=_0x3fdb6a['charCodeAt'](_0x27a48e+(-0x5a6*-0x3+-0x1979+0x888));if(_0x4f150f>=Rm&&_0x4f150f<=rx)return{'code':(_0x54d839-Bf)*(-0x84a*0x1+-0x1*0x25b7+0x3201)+_0x4f150f-Rm+(0x1e0be+0x1cf98+-0x2b056),'long':!(0x14*-0x5d+0x70a+0x1d*0x2)};}return{'code':_0x54d839,'long':!(-0x2699+-0x1c0d*0x1+0x1*0x42a7)};}function fr(_0x84fac3,_0x589813,_0x473156){if(!_0x84fac3)return!(-0x3cb+-0x185e+0x1c2a);const _0x2c215a=Gf(_0x84fac3);if(_0x2c215a){const _0x82e9e3=_0x2c215a['code'];return _0x82e9e3>=_0x589813&&_0x82e9e3<=_0x473156;}return!(0x1*0x2193+-0x52e*-0x3+0x188e*-0x2);}function hx(_0x1eb122,_0x5c60e6){if(_0x5c60e6===_0x1eb122['length']-(0x4*0x5a2+0x1*-0x1a17+0x390))return-0x1*-0x5f2+-0x231a+0x1d29;if(fr(_0x1eb122[_0x5c60e6],Bf,jS)){const _0x2e5184=_0x1eb122['substring'](_0x5c60e6,_0x5c60e6+(-0xaa8+-0x455+0xeff)),_0x10bee3=_0x1eb122['substring'](_0x5c60e6+(-0x216e+-0x1f6d+0x40dd),_0x5c60e6+(0x8*0x39e+-0x92*-0x3b+-0x3e92*0x1));return fr(_0x10bee3,nx,ox)||fr(_0x2e5184,Om,Fm)&&fr(_0x10bee3,Om,Fm)?-0x2213+-0x411*0x5+0x366c:fr(_0x10bee3,zf,Vf)?0x68*0x5b+-0xc33+-0x18c2*0x1:0x293+0x2174+0x2405*-0x1;}return fr(_0x1eb122[_0x5c60e6+(0x4*0x571+0x1e8d+-0x1*0x3450)],zf,Vf)?-0x639*0x3+0x1*0x18d5+-0x628:-0xb8a*-0x3+0x1d53+-0x3ff0;}const Hc={'ASCII_LOWERCASE':XS,'ASCII_UPPERCASE':qS,'ASCII_LETTERS':ix,'format'(_0x33bd45,..._0x2fbf8a){for(let _0x5118c6=0x1e*-0x133+0x2*-0x103d+0x4474;_0x5118c6<_0x2fbf8a['length'];_0x5118c6++)_0x33bd45=_0x33bd45['replace']('{'+_0x5118c6+'}',_0x2fbf8a[_0x5118c6]);return _0x33bd45;},'getCodePoint'(_0x1c87aa,_0x1652bc){const _0x55d5a4=Gf(_0x1c87aa,_0x1652bc);return _0x55d5a4&&_0x55d5a4['code'];},'getCodePoints'(_0x2ecaba){if(typeof _0x2ecaba!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x125dc5=0x1*-0x20b9+-0x12c9+-0x15b*-0x26;const _0x3f857f=[];let _0x5f4a79;for(;_0x5f4a79=Gf(_0x2ecaba,_0x125dc5);)_0x3f857f['push'](_0x5f4a79['code']),_0x125dc5+=_0x5f4a79['long']?0x3*0x261+0x2356*-0x1+0x1d*0xf9:-0x23ae+-0x344+0x26f3;return _0x3f857f;},'getSymbols'(_0x35d413){if(typeof _0x35d413!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x18540b=-0x1*-0x1fa+0x1b7f+-0x1d79;const _0x54d450=_0x35d413['length'],_0xeb541e=[];let _0x478846=-0x1f61+-0x943+0xd8c*0x3,_0x43bc9a;for(;_0x18540b<_0x54d450;){if(_0x478846+=hx(_0x35d413,_0x18540b+_0x478846),_0x43bc9a=_0x35d413[_0x18540b+_0x478846],fr(_0x43bc9a,lx,cx)&&(_0x43bc9a=_0x35d413[_0x18540b+_0x478846++]),fr(_0x43bc9a,zf,Vf)&&(_0x43bc9a=_0x35d413[_0x18540b+_0x478846++]),_0x43bc9a&&_0x43bc9a['charCodeAt'](0x1566+0x83*-0xb+-0xfc5*0x1)===ax){_0x43bc9a=_0x35d413[_0x18540b+_0x478846++];continue;}const _0x33319d=_0x35d413['substring'](_0x18540b,_0x18540b+_0x478846);_0xeb541e['push'](_0x33319d),_0x18540b+=_0x478846,_0x478846=0x1f26+0x1a35*-0x1+-0x4f1;}return _0xeb541e;},'fromCodePoint'(..._0x3cf9a5){return _0x3cf9a5['map'](_0x1b19dd=>_0x1b19dd>0x6eb3*-0x3+-0x14ba6+0x397be?(_0x1b19dd-=-0x17840+-0x8d3c+0x3057c,String['fromCharCo'+'de']((_0x1b19dd>>-0x661+-0x1be*-0x1+-0x7*-0xab)+(-0x353f*0x3+0x257*0x44+0xd8a1),_0x1b19dd%(-0x1ee0+0x236a+-0x8a)+(0xf712+0xb8*0x83+0x3b*-0x20e))):String['fromCharCo'+'de'](_0x1b19dd))['join']('');}},Zr=class Zr{static['set'](_0x38992c,_0xffc390=!(0xa9*0x11+-0x6+-0xb33*0x1)){_0xffc390?Zr['_traceChan'+'nels']['add'](_0x38992c):Zr['_traceChan'+'nels']['delete'](_0x38992c);}static['get'](_0x827e1){return Zr['_traceChan'+'nels']['has'](_0x827e1);}};h(Zr,'_traceChan'+'nels',new Set()),h(Zr,'stack',!(0x59+0x2112+-0x216a));let mi=Zr;const Vt=class Vt{static['deprecated'](_0x522c26){Vt['_loggedMes'+'sages']['has'](_0x522c26)||(Vt['_loggedMes'+'sages']['add'](_0x522c26),console['warn']('DEPRECATED'+':\x20'+_0x522c26));}static['removed'](_0x2f1136){Vt['_loggedMes'+'sages']['has'](_0x2f1136)||(Vt['_loggedMes'+'sages']['add'](_0x2f1136),console['error']('REMOVED:\x20'+_0x2f1136));}static['assertDepr'+'ecated'](_0x404918,_0x5e15ae){_0x404918||Vt['deprecated'](_0x5e15ae);}static['assert'](_0x23bdd5,..._0x20a6f5){_0x23bdd5||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x20a6f5);}static['assertDest'+'royed'](_0x19708d){var _0x276ab4;if(_0x19708d!=null&&_0x19708d['__alreadyD'+'estroyed']){const _0x25a006='['+((_0x276ab4=_0x19708d['constructo'+'r'])==null?void(-0xce7+-0xb05*-0x3+-0x1428):_0x276ab4['name'])+(']\x20with\x20nam'+'e\x20[')+_0x19708d['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');Vt['_loggedMes'+'sages']['has'](_0x25a006)||(Vt['_loggedMes'+'sages']['add'](_0x25a006),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x25a006,_0x19708d));}}static['call'](_0x37527e){_0x37527e();}static['log'](..._0x295afa){console['log'](..._0x295afa);}static['logOnce'](_0x4de697,..._0x47a047){Vt['_loggedMes'+'sages']['has'](_0x4de697)||(Vt['_loggedMes'+'sages']['add'](_0x4de697),console['log'](_0x4de697,..._0x47a047));}static['warn'](..._0x24a14c){console['warn'](..._0x24a14c);}static['warnOnce'](_0x5a23b4,..._0x1a90f0){Vt['_loggedMes'+'sages']['has'](_0x5a23b4)||(Vt['_loggedMes'+'sages']['add'](_0x5a23b4),console['warn'](_0x5a23b4,..._0x1a90f0));}static['error'](..._0x5d7b6e){console['error'](..._0x5d7b6e);}static['errorOnce'](_0x49efde,..._0x3bbef7){Vt['_loggedMes'+'sages']['has'](_0x49efde)||(Vt['_loggedMes'+'sages']['add'](_0x49efde),console['error'](_0x49efde,..._0x3bbef7));}static['trace'](_0x3b796f,..._0x541c72){mi['get'](_0x3b796f)&&(console['groupColla'+'psed'](_0x3b796f['padEnd'](-0x8b3+-0x2158+0x2a1f,'\x20')+'|',..._0x541c72),console['groupEnd']());}};h(Vt,'_loggedMes'+'sages',new Set());let w=Vt;class Ea{static['setName'](_0x5bfe43,_0x4cde66){_0x5bfe43&&(_0x5bfe43['name']=_0x4cde66);}static['setLabel'](_0x24b835,_0x936414){_0x24b835&&(_0x24b835['label']=_0x936414);}static['setDestroy'+'ed'](_0x94e64c){_0x94e64c&&(_0x94e64c['__alreadyD'+'estroyed']=!(0x5*0x7a+-0xbdc+-0x4bd*-0x2));}}class dx{constructor(_0x14fd74,_0x39ed2b,_0x426161,_0x173afd,_0x182243=!(0x8f*-0xb+0x5ab+0x7b)){h(this,'handler'),h(this,'name'),h(this,'callback'),h(this,'scope'),h(this,'_once'),h(this,'_removed',!(-0x11dd+-0x97a+0x1b58)),(this['handler']=_0x14fd74,this['name']=_0x39ed2b,this['callback']=_0x426161,this['scope']=_0x173afd,this['_once']=_0x182243);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x1f55a5,_0xf6cca3,_0x8efa43=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x1f55a5,_0xf6cca3,_0x8efa43,!(0x3c3*-0x7+0xe6a+0xbec));}['once'](_0x2dd7af,_0x717913,_0x1ad1fd=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x2dd7af,_0x717913,_0x1ad1fd,!(0x129c+0x10*0x257+-0x380c));}set['removed'](_0x2fabdb){_0x2fabdb&&(this['_removed']=!(0x1*-0xa7e+0x61a+0x464));}get['removed'](){return this['_removed'];}['toJSON'](_0x55374d){}}class me{constructor(){h(this,'_callbacks',new Map()),h(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x53f97f,_0x39c6f0,_0xd4c598,_0x526abe){if((!_0x53f97f||typeof _0x53f97f!='string'||!_0x39c6f0)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x53f97f+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x39c6f0),this['_callbacks']['has'](_0x53f97f)||this['_callbacks']['set'](_0x53f97f,[]),this['_callbackA'+'ctive']['has'](_0x53f97f)){const _0x494ace=this['_callbackA'+'ctive']['get'](_0x53f97f);_0x494ace&&_0x494ace===this['_callbacks']['get'](_0x53f97f)&&this['_callbackA'+'ctive']['set'](_0x53f97f,_0x494ace['slice']());}const _0x4d9ab1=new dx(this,_0x53f97f,_0x39c6f0,_0xd4c598,_0x526abe);return this['_callbacks']['get'](_0x53f97f)['push'](_0x4d9ab1),_0x4d9ab1;}['on'](_0x90e008,_0x10cd9d,_0x4181ad=this){return this['_addCallba'+'ck'](_0x90e008,_0x10cd9d,_0x4181ad,!(-0xc3b+-0x36c+0xfa8));}['once'](_0x118a8a,_0x220dd3,_0x53bd04=this){return this['_addCallba'+'ck'](_0x118a8a,_0x220dd3,_0x53bd04,!(0x2f*0xd0+-0x230c+0x2*-0x192));}['off'](_0xc505bd,_0x2c961e,_0x57c4de){if(_0xc505bd)this['_callbackA'+'ctive']['has'](_0xc505bd)&&this['_callbackA'+'ctive']['get'](_0xc505bd)===this['_callbacks']['get'](_0xc505bd)&&this['_callbackA'+'ctive']['set'](_0xc505bd,this['_callbackA'+'ctive']['get'](_0xc505bd)['slice']());else{for(const [_0x514df1,_0x58697b]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x514df1)&&this['_callbacks']['get'](_0x514df1)===_0x58697b&&this['_callbackA'+'ctive']['set'](_0x514df1,_0x58697b['slice']());}if(_0xc505bd){if(_0x2c961e){const _0x479b0a=this['_callbacks']['get'](_0xc505bd);if(!_0x479b0a)return this;for(let _0x406f6a=-0x2f*-0x10+0x6f4*-0x1+0x404;_0x406f6a<_0x479b0a['length'];_0x406f6a++)_0x479b0a[_0x406f6a]['callback']===_0x2c961e&&(_0x57c4de&&_0x479b0a[_0x406f6a]['scope']!==_0x57c4de||(_0x479b0a[_0x406f6a]['removed']=!(0x7eb+-0x1c03+0x506*0x4),_0x479b0a['splice'](_0x406f6a,-0x1cea*0x1+0x25e0+-0x8f5),_0x406f6a--));_0x479b0a['length']===0x8fe+-0xe3*-0x11+-0x3d*0x65&&this['_callbacks']['delete'](_0xc505bd);}else{const _0x3fc9ae=this['_callbacks']['get'](_0xc505bd);if(_0x3fc9ae){for(let _0x29c008=-0x1*0x86e+-0x1*0xeb1+-0x3*-0x7b5;_0x29c008<_0x3fc9ae['length'];_0x29c008++)_0x3fc9ae[_0x29c008]['removed']=!(0x51a+-0x19*-0xc7+-0x1889);this['_callbacks']['delete'](_0xc505bd);}}}else{for(const _0x19e8b5 of this['_callbacks']['values']())for(let _0x30fc87=-0x97*-0x1b+0x1aaa*0x1+-0x2a97;_0x30fc87<_0x19e8b5['length'];_0x30fc87++)_0x19e8b5[_0x30fc87]['removed']=!(0x2*0xae8+-0x14*-0x1bb+-0x386c);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x3b3284){const _0x3f6178=_0x3b3284['name'];_0x3b3284['removed']=!(-0x9bc+-0x12e*0x4+0xe74),this['_callbackA'+'ctive']['has'](_0x3f6178)&&this['_callbackA'+'ctive']['get'](_0x3f6178)===this['_callbacks']['get'](_0x3f6178)&&this['_callbackA'+'ctive']['set'](_0x3f6178,this['_callbackA'+'ctive']['get'](_0x3f6178)['slice']());const _0x48a5d7=this['_callbacks']['get'](_0x3f6178);if(!_0x48a5d7)return this;const _0x596eff=_0x48a5d7['indexOf'](_0x3b3284);return _0x596eff!==-(-0x112a+0x13*-0x96+0x1c4d)&&(_0x48a5d7['splice'](_0x596eff,0x5c3+0x108e+-0x1650),_0x48a5d7['length']===0x2*-0xea7+-0x1ca1*0x1+0x39ef&&this['_callbacks']['delete'](_0x3f6178)),this;}['fire'](_0x15dc0e,_0x9dd5fc,_0x5eb3a7,_0x2de3fb,_0x4693cb,_0x43f76a,_0x1837a1,_0x5a8fd3,_0x191aea){if(!_0x15dc0e)return this;const _0x2222cc=this['_callbacks']['get'](_0x15dc0e);if(!_0x2222cc)return this;let _0x206cd8;this['_callbackA'+'ctive']['has'](_0x15dc0e)?this['_callbackA'+'ctive']['get'](_0x15dc0e)!==_0x2222cc&&(_0x206cd8=_0x2222cc['slice']()):this['_callbackA'+'ctive']['set'](_0x15dc0e,_0x2222cc);for(let _0x42a4ec=-0x22c3*-0x1+-0x440*0x6+-0x943*0x1;(_0x206cd8||this['_callbackA'+'ctive']['get'](_0x15dc0e))&&_0x42a4ec<(_0x206cd8||this['_callbackA'+'ctive']['get'](_0x15dc0e))['length'];_0x42a4ec++){const _0x19bdbe=(_0x206cd8||this['_callbackA'+'ctive']['get'](_0x15dc0e))[_0x42a4ec];if(_0x19bdbe['callback']&&(_0x19bdbe['callback']['call'](_0x19bdbe['scope'],_0x9dd5fc,_0x5eb3a7,_0x2de3fb,_0x4693cb,_0x43f76a,_0x1837a1,_0x5a8fd3,_0x191aea),_0x19bdbe['_once'])){const _0x5861ea=this['_callbacks']['get'](_0x15dc0e),_0x55c643=_0x5861ea?_0x5861ea['indexOf'](_0x19bdbe):-(0xbc2+-0x49*0x3a+0xaf*0x7);if(_0x55c643!==-(-0x1cf1+-0x6d*0xf+0x2355)){this['_callbackA'+'ctive']['get'](_0x15dc0e)===_0x5861ea&&this['_callbackA'+'ctive']['set'](_0x15dc0e,this['_callbackA'+'ctive']['get'](_0x15dc0e)['slice']());const _0x58a256=this['_callbacks']['get'](_0x15dc0e);if(!_0x58a256)continue;_0x58a256[_0x55c643]['removed']=!(-0x5ba*-0x2+0x1808+-0x6*0x5ea),_0x58a256['splice'](_0x55c643,-0x2b*0xae+-0x955+-0x9a4*-0x4),_0x58a256['length']===-0x1728+0x5d*-0x49+-0x585*-0x9&&this['_callbacks']['delete'](_0x15dc0e);}}}return _0x206cd8||this['_callbackA'+'ctive']['delete'](_0x15dc0e),this;}['hasEvent'](_0x47d1e8){var _0xa445d7;return!!((_0xa445d7=this['_callbacks']['get'](_0x47d1e8))!=null&&_0xa445d7['length']);}}class fx{constructor(){h(this,'_list',[]),h(this,'_index',{});}['push'](_0x4cc760,_0x2fb4c6){if(this['_index'][_0x4cc760])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x4cc760);const _0x385085=this['_list']['push'](_0x2fb4c6)-(0xa2b*0x1+0x1*0xbd+-0xae7*0x1);this['_index'][_0x4cc760]=_0x385085;}['has'](_0x281c51){return this['_index'][_0x281c51]!==void(0x3*-0x6cd+0x6*-0x84+0x177f);}['get'](_0x7463db){const _0x18681f=this['_index'][_0x7463db];return _0x18681f!==void(0x51*-0xe+-0xc*-0x132+0x2f*-0x36)?this['_list'][_0x18681f]:null;}['remove'](_0x32fe87){const _0x1b3364=this['_index'][_0x32fe87];if(_0x1b3364!==void(-0x6c*0x40+0xca9+-0x1*-0xe57)){this['_list']['splice'](_0x1b3364,-0x2f*0x61+0x71*-0x2e+0x261e),delete this['_index'][_0x32fe87];for(_0x32fe87 in this['_index']){const _0x1f08d8=this['_index'][_0x32fe87];_0x1f08d8>_0x1b3364&&(this['_index'][_0x32fe87]=_0x1f08d8-(0x5*0x61e+-0x5c8+-0x18cd));}return!(0x1034+-0x279+-0xdbb*0x1);}return!(-0x2707+0x568+0x21a0);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=0x78d*0x3+0x1c91+-0x199c*0x2;for(const _0x37851e in this['_index'])delete this['_index'][_0x37851e];}}const ux=_0x495616=>{const _0x6424b={};let _0x32c177=_0x6424b;return()=>(_0x32c177===_0x6424b&&(_0x32c177=_0x495616()),_0x32c177);},ii=class ii{static['loadScript'](_0x2bdadb,_0x34db2f){const _0x592880=document['createElem'+'ent']('script');_0x592880['setAttribu'+'te']('src',_0x2bdadb),_0x592880['onload']=()=>{_0x34db2f(null);},_0x592880['onerror']=()=>{_0x34db2f('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x2bdadb+'\x27');},document['body']['appendChil'+'d'](_0x592880);}static['loadWasm'](_0x41591c,_0x46b0fe,_0x35dd5a){const _0x26caea=ii['wasmSuppor'+'ted']()&&_0x46b0fe['glueUrl']&&_0x46b0fe['wasmUrl']?_0x46b0fe['glueUrl']:_0x46b0fe['fallbackUr'+'l'];_0x26caea?ii['loadScript'](_0x26caea,_0x14e217=>{if(_0x14e217)_0x35dd5a(_0x14e217,null);else{const _0x341b71=window[_0x41591c];window[_0x41591c]=void(-0x893+-0x2667+0x2efa),_0x341b71({'locateFile':()=>_0x46b0fe['wasmUrl'],'onAbort':()=>{_0x35dd5a('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x2b5bca=>{_0x35dd5a(null,_0x2b5bca);});}}):_0x35dd5a('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x392e6b){return ii['modules']['hasOwnProp'+'erty'](_0x392e6b)||(ii['modules'][_0x392e6b]={'config':null,'initializing':!(0x3a1*0x1+-0xc3e+0x89e),'instance':null,'callbacks':[]}),ii['modules'][_0x392e6b];}static['initialize'](_0x349498,_0x3aa63f){if(_0x3aa63f['initializi'+'ng'])return;const _0x55ea2c=_0x3aa63f['config'];(_0x55ea2c['glueUrl']||_0x55ea2c['wasmUrl']||_0x55ea2c['fallbackUr'+'l'])&&(_0x3aa63f['initializi'+'ng']=!(-0x87a+-0x1f01+0x277b),ii['loadWasm'](_0x349498,_0x55ea2c,(_0x3ad7cb,_0x487d0d)=>{_0x3ad7cb?_0x55ea2c['errorHandl'+'er']?_0x55ea2c['errorHandl'+'er'](_0x3ad7cb):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x349498+'\x20error='+_0x3ad7cb):(_0x3aa63f['instance']=_0x487d0d,_0x3aa63f['callbacks']['forEach'](_0x124406=>{_0x124406(_0x487d0d);}));}));}};h(ii,'modules',{}),h(ii,'wasmSuppor'+'ted',ux(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x5dff4c=new WebAssembly['Module'](Uint8Array['of'](0x101*-0x1f+-0x1*0x137d+0x29*0x13c,-0x2617+0x1a29+0x89*0x17,0x2622+-0x40*0x2+-0x1*0x252f,0x18fe+0x1b0c+0x1*-0x339d,-0x1*-0xecc+0x2*-0x4e6+-0x4ff,-0x83*-0x47+-0x1b63*-0x1+-0x3fb8,-0x1*-0x13d9+0xa52+-0x1e2b,-0x1e7e+0x4f*-0x13+0x245b));if(_0x5dff4c instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x5dff4c)instanceof WebAssembly['Instance'];}}catch{}return!(0x4f3+-0x943+0x55*0xd);}));let Yr=ii;class YS{static['setConfig'](_0x4e1c4e,_0x3b05a7){const _0x1f0963=Yr['getModule'](_0x4e1c4e);_0x1f0963['config']=_0x3b05a7,_0x1f0963['callbacks']['length']>0x10a6+-0x1c68+0xbc2&&Yr['initialize'](_0x4e1c4e,_0x1f0963);}static['getConfig'](_0x5dcaf7){var _0x516cc1,_0x2472a2;return(_0x2472a2=(_0x516cc1=Yr['modules'])==null?void(0x1de0+0xa62+0x2842*-0x1):_0x516cc1[_0x5dcaf7])==null?void(-0x2118+-0x1175+-0x1*-0x328d):_0x2472a2['config'];}static['getInstanc'+'e'](_0x22fee6,_0x127228){const _0x5c2b6f=Yr['getModule'](_0x22fee6);_0x5c2b6f['instance']?_0x127228(_0x5c2b6f['instance']):(_0x5c2b6f['callbacks']['push'](_0x127228),_0x5c2b6f['config']&&Yr['initialize'](_0x22fee6,_0x5c2b6f));}}class KS{constructor(_0xcf8d40){h(this,'arraybuffe'+'r'),h(this,'dataView'),h(this,'offset',-0xa75+-0xfbd+-0x3be*-0x7),(this['arraybuffe'+'r']=_0xcf8d40,this['dataView']=new DataView(_0xcf8d40));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x41a1d0=-0x7f7*-0x2+-0xa6*-0x2f+-0x2e68){this['offset']=_0x41a1d0;}['skip'](_0x4b7d41){this['offset']+=_0x4b7d41;}['align'](_0x43d2b1){this['offset']=this['offset']+_0x43d2b1-(-0xe52+-0x223a*0x1+0x308d)&~(_0x43d2b1-(0x1*0x807+-0x1*-0x18c5+0x5*-0x68f));}['_inc'](_0x567811){return this['offset']+=_0x567811,this['offset']-_0x567811;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x20baa5){let _0xca0077='';for(let _0x1971bb=0x18fe+-0x1*-0x21c7+-0x375*0x11;_0x1971bb<_0x20baa5;++_0x1971bb)_0xca0077+=this['readChar']();return _0xca0077;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](-0x7a2+0x1*0x12f1+-0xb4d),!(-0x1b31+-0xca+0xd*0x227));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](-0xd53+0x3*0xbbf+-0x15e6),!(-0x3*-0x1c4+-0x4f3+-0x59));}['readU64'](){return this['readU32']()+(0x17e*0x1+0x129e+-0x3e*0x53)**(0x24c5+0xb01+-0x2*0x17d3)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](-0x6*0x65b+-0x1*0x58b+0x2bb1),!(-0x1b86+-0x3*0x2cf+0x2*0x11fa));}['readArray'](_0xdca872){for(let _0x2fc8f4=-0x802+-0x4*0x5bf+0x1efe;_0x2fc8f4<_0xdca872['length'];++_0x2fc8f4)_0xdca872[_0x2fc8f4]=this['readU8']();}['readLine'](){const _0x15a912=this['dataView'];let _0x30f4ca='';for(;!(this['offset']>=_0x15a912['byteLength']);){const _0x5b0b48=String['fromCharCo'+'de'](this['readU8']());if(_0x5b0b48==='\x0a')break;_0x30f4ca+=_0x5b0b48;}return _0x30f4ca;}}class oh{constructor(_0x2461b1){h(this,'items',[]),h(this,'length',-0x11c+-0x1985+0x1aa1),h(this,'loopIndex',-(-0x1efa+-0x931+0x282c)),h(this,'_sortBy'),h(this,'_sortHandl'+'er'),(this['_sortBy']=_0x2461b1['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x85877a){let _0x3353a8=-0x1f95+-0xa87+0x2a1c,_0x5edeef=this['items']['length']-(-0x2477+-0xa*-0x3be+0x2*-0x7a);const _0x4f3968=_0x85877a[this['_sortBy']];let _0x1feb37,_0x2cb357;for(;_0x3353a8<=_0x5edeef;)_0x1feb37=Math['floor']((_0x3353a8+_0x5edeef)/(-0x258a+0x1*0x91a+-0xb*-0x296)),_0x2cb357=this['items'][_0x1feb37][this['_sortBy']],_0x2cb357<=_0x4f3968?_0x3353a8=_0x1feb37+(0x2d7+0xf35+-0x120b):_0x2cb357>_0x4f3968&&(_0x5edeef=_0x1feb37-(0x1b*0x17+0x2166+-0x23d2));return _0x3353a8;}['_doSort'](_0x3e814f,_0x322503){const _0x51ae97=this['_sortBy'];return _0x3e814f[_0x51ae97]-_0x322503[_0x51ae97];}['insert'](_0x3ad56e){const _0x394094=this['_binarySea'+'rch'](_0x3ad56e);this['items']['splice'](_0x394094,0xad2*0x1+-0x1ddf+0x130d,_0x3ad56e),this['length']++,this['loopIndex']>=_0x394094&&this['loopIndex']++;}['append'](_0x1727d8){this['items']['push'](_0x1727d8),this['length']++;}['remove'](_0xb8ecb1){const _0x37cfd6=this['items']['indexOf'](_0xb8ecb1);_0x37cfd6<-0x23f9+0x19*-0x101+0x3d12||(this['items']['splice'](_0x37cfd6,-0x1922+0x1c44+-0x3*0x10b),this['length']--,this['loopIndex']>=_0x37cfd6&&this['loopIndex']--);}['sort'](){const _0x2c1cc7=this['loopIndex']>=0x1632+0x7ed*0x4+-0x35e6*0x1?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x2c1cc7!==null&&(this['loopIndex']=this['items']['indexOf'](_0x2c1cc7));}}class Oo extends me{constructor(_0x39c35a){super(),h(this,'_index',{}),h(this,'_list',[]),this['_parent']=_0x39c35a;}['add'](..._0x48990c){let _0x528e14=!(0x2*-0x1136+0x1c3*0xc+0xd49);const _0x1bb7a8=this['_processAr'+'guments'](_0x48990c,!(-0x1118+0x69*-0x39+0x2879*0x1));if(!_0x1bb7a8['length'])return _0x528e14;for(let _0x4abf9e=-0x18b7+-0x3d*-0x59+0x382;_0x4abf9e<_0x1bb7a8['length'];_0x4abf9e++)this['_index'][_0x1bb7a8[_0x4abf9e]]||(_0x528e14=!(-0x133f+-0x1157+0x2496),this['_index'][_0x1bb7a8[_0x4abf9e]]=!(-0x73a+-0x1c0e+0x2348),this['_list']['push'](_0x1bb7a8[_0x4abf9e]),this['fire']('add',_0x1bb7a8[_0x4abf9e],this['_parent']));return _0x528e14&&this['fire']('change',this['_parent']),_0x528e14;}['remove'](..._0x1918f5){let _0x5b6b01=!(0x146a*-0x1+-0x4e0+0x39d*0x7);if(!this['_list']['length'])return _0x5b6b01;const _0x58271e=this['_processAr'+'guments'](_0x1918f5,!(0x2db+0x1*-0x731+0x456));if(!_0x58271e['length'])return _0x5b6b01;for(let _0x41eed3=0x95*0x4+-0x41+-0x213;_0x41eed3<_0x58271e['length'];_0x41eed3++)this['_index'][_0x58271e[_0x41eed3]]&&(_0x5b6b01=!(0x201d+-0x884*0x4+0x1f3),delete this['_index'][_0x58271e[_0x41eed3]],this['_list']['splice'](this['_list']['indexOf'](_0x58271e[_0x41eed3]),-0x2227*-0x1+0x206f+-0x4295),this['fire']('remove',_0x58271e[_0x41eed3],this['_parent']));return _0x5b6b01&&this['fire']('change',this['_parent']),_0x5b6b01;}['clear'](){if(!this['_list']['length'])return;const _0x47eb43=this['_list']['slice'](-0x10f5+-0x3f0+0x14e5);this['_list']=[],this['_index']={};for(let _0x95889=0x95*-0x26+0x16aa+-0x8c;_0x95889<_0x47eb43['length'];_0x95889++)this['fire']('remove',_0x47eb43[_0x95889],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x4a8a54){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x4a8a54)):!(-0x1*-0x26f6+0x505*-0x1+-0x21f0);}['_has'](_0x238815){if(!this['_list']['length']||!_0x238815['length'])return!(0x1*-0x731+-0x1*0x1d44+-0x1a*-0x167);for(let _0x41fe64=0x19ac+-0x5fb+-0x13b1;_0x41fe64<_0x238815['length'];_0x41fe64++)if(_0x238815[_0x41fe64]['length']===0x24fa*-0x1+0x5bf+-0x7cf*-0x4){if(this['_index'][_0x238815[_0x41fe64][-0x4a9*0x5+-0xb*-0x27f+-0x428]])return!(-0x37b+-0x1*0x4d5+0x850);}else{let _0x59f738=!(-0x13*-0xb+-0x16ce+0x15fd);for(let _0x5df910=0xc7+-0x5a4+-0x5*-0xf9;_0x5df910<_0x238815[_0x41fe64]['length'];_0x5df910++)if(!this['_index'][_0x238815[_0x41fe64][_0x5df910]]){_0x59f738=!(-0xcab+-0x1006+-0x2*-0xe59);break;}if(_0x59f738)return!(0x170f*-0x1+-0xb11+0x2a*0xd0);}return!(0x23bb*-0x1+-0x1*-0xa27+0x1995);}['list'](){return this['_list']['slice'](0x2273*-0x1+-0x426+0x29*0xf1);}['_processAr'+'guments'](_0x344df9,_0x345edd){const _0x1cdd1c=[];let _0x4902e5=[];if(!_0x344df9||!_0x344df9['length'])return _0x1cdd1c;for(let _0x562734=-0x1667+-0x79c+-0xc5*-0x27;_0x562734<_0x344df9['length'];_0x562734++)if(_0x344df9[_0x562734]instanceof Array){_0x345edd||(_0x4902e5=[]);for(let _0x53dcaa=-0x1251+-0xf21*0x1+0x2172;_0x53dcaa<_0x344df9[_0x562734]['length'];_0x53dcaa++)typeof _0x344df9[_0x562734][_0x53dcaa]=='string'&&(_0x345edd?_0x1cdd1c['push'](_0x344df9[_0x562734][_0x53dcaa]):_0x4902e5['push'](_0x344df9[_0x562734][_0x53dcaa]));!_0x345edd&&_0x4902e5['length']&&_0x1cdd1c['push'](_0x4902e5);}else typeof _0x344df9[_0x562734]=='string'&&(_0x345edd?_0x1cdd1c['push'](_0x344df9[_0x562734]):_0x1cdd1c['push']([_0x344df9[_0x562734]]));return _0x1cdd1c;}get['size'](){return this['_list']['length'];}}h(Oo,'EVENT_ADD','add'),h(Oo,'EVENT_REMO'+'VE','remove'),h(Oo,'EVENT_CHAN'+'GE','change');const de=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],px=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Rd{constructor(_0x5bcb98){h(this,'scheme'),h(this,'authority'),h(this,'path'),h(this,'query'),h(this,'fragment');const _0x4e62b1=_0x5bcb98['match'](px);this['scheme']=_0x4e62b1[-0xcd*0x2e+0x1089+0x1*0x144f],this['authority']=_0x4e62b1[-0x1187+-0x13a*0x1f+-0x1*-0x3791],this['path']=_0x4e62b1[0x1a*0x8b+0x1dbc+-0xe5*0x31],this['query']=_0x4e62b1[-0x1282+0x8f8+0x991],this['fragment']=_0x4e62b1[-0x1e71+0x10b3+0xdc7];}['toString'](){let _0x5ed7ab='';return this['scheme']&&(_0x5ed7ab+=this['scheme']+':'),this['authority']&&(_0x5ed7ab+='//'+this['authority']),_0x5ed7ab+=this['path'],this['query']&&(_0x5ed7ab+='?'+this['query']),this['fragment']&&(_0x5ed7ab+='#'+this['fragment']),_0x5ed7ab;}['getQuery'](){const _0x5997e6={};if(this['query']){const _0x255a33=decodeURIComponent(this['query'])['split']('&');for(const _0x26bd9f of _0x255a33){const _0x3f768e=_0x26bd9f['split']('=');_0x5997e6[_0x3f768e[0x16b*-0x19+0x2645+0x1*-0x2d2]]=_0x3f768e[-0x6*-0xad+0x1feb+-0x23f8];}}return _0x5997e6;}['setQuery'](_0x10ada6){let _0x9cc5ab='';for(const _0x382f0a in _0x10ada6)_0x10ada6['hasOwnProp'+'erty'](_0x382f0a)&&(_0x9cc5ab!==''&&(_0x9cc5ab+='&'),_0x9cc5ab+=encodeURIComponent(_0x382f0a)+'='+encodeURIComponent(_0x10ada6[_0x382f0a]));this['query']=_0x9cc5ab;}}const mx=0x2111*-0x1+-0x6e*0x53+0x44bb,tp=-0x1*0x5cb+-0x2379+-0x2945*-0x1,Nm=-0x46a+0xd*-0x1ed+0x1d77*0x1,_x=-0x1*-0x1a05+0x18ea+-0x26*0x157,Y={'DEG_TO_RAD':Math['PI']/(-0xc89*-0x2+-0x1*0x763+0x9*-0x1e3),'RAD_TO_DEG':(0x56*-0x61+-0x1cbd+0x3*0x14ad)/Math['PI'],'clamp'(_0xecf654,_0x31435e,_0x2a58dc){return _0xecf654>=_0x2a58dc?_0x2a58dc:_0xecf654<=_0x31435e?_0x31435e:_0xecf654;},'intToBytes24'(_0x1f384c){const _0x207cfe=_0x1f384c>>0xde0+-0x94f*0x4+0x176c*0x1&-0x2*0xf95+-0x20b3+0x944*0x7,_0x5d0f5c=_0x1f384c>>-0x11eb+-0xca*0x2b+0x33e1&-0xc5*-0xf+-0x24cb+0x1a3f,_0x335f2c=_0x1f384c&-0x22d1*0x1+-0x3*-0x113+-0x1b*-0x135;return[_0x207cfe,_0x5d0f5c,_0x335f2c];},'intToBytes32'(_0x518b48){const _0x487dfd=_0x518b48>>0x1f8a+0x22da+-0x424c&0xfa6*0x1+-0x4a4+-0xe9*0xb,_0x1fbfc7=_0x518b48>>0x4cc+-0x2*0x69c+-0xb5*-0xc&0x7*-0x263+0x1b76+-0x1*0x9c2,_0x5c3fe0=_0x518b48>>-0x5cc+-0x2*-0x2ea+0x0&-0x2188+0x126f+0x1018,_0x28b670=_0x518b48&0x7c1*0x4+0x1*0x373+-0x2178;return[_0x487dfd,_0x1fbfc7,_0x5c3fe0,_0x28b670];},'bytesToInt24'(_0x172c89,_0xa7bd05,_0x4dcb64){return _0x172c89['length']&&(_0x4dcb64=_0x172c89[0x63*-0x12+0x259+-0x49f*-0x1],_0xa7bd05=_0x172c89[0x9*-0x3+-0x204+0x88*0x4],_0x172c89=_0x172c89[-0x1cbe+0x14d*-0x6+-0x1246*-0x2]),_0x172c89<<0x101+-0xf97+0x4b*0x32|_0xa7bd05<<0x16*-0xd+-0x2341+0x2467|_0x4dcb64;},'bytesToInt32'(_0x5075ea,_0x4213a8,_0xc63950,_0x594374){return _0x5075ea['length']&&(_0x594374=_0x5075ea[-0x2672+-0x207e+-0x1bb*-0x29],_0xc63950=_0x5075ea[0x1f57*-0x1+-0x1807+-0x1bb*-0x20],_0x4213a8=_0x5075ea[-0x1420+-0x569+0x198a],_0x5075ea=_0x5075ea[-0x13*-0x5e+0xd2b+-0x9*0x23d]),(_0x5075ea<<0x1*-0xf3+0x5db+-0x1c*0x2c|_0x4213a8<<0x3b*-0x1a+0xe*0x61+0xc0|_0xc63950<<-0x100f+-0x15f2+0x2609|_0x594374)>>>-0x1017+0x9e8+-0x1*-0x62f;},'lerp'(_0x58b635,_0x6049b3,_0x879d2a){return _0x58b635+(_0x6049b3-_0x58b635)*Y['clamp'](_0x879d2a,-0x1cce+0x3*0x7ef+0x501,-0x2*-0xb92+-0x13*-0x10f+-0x2b40*0x1);},'lerpAngle'(_0x2c1d04,_0x2a2192,_0x99708d){return _0x2a2192-_0x2c1d04>-0x1951+0x19ab+0x5a&&(_0x2a2192-=-0x1*-0xe13+-0x16d*-0x17+-0x2d76),_0x2a2192-_0x2c1d04<-(-0xa97+-0x21ad+0x2cf8)&&(_0x2a2192+=-0x2*0xc12+0x17f2+0x19a*0x1),Y['lerp'](_0x2c1d04,_0x2a2192,Y['clamp'](_0x99708d,-0x101*0x7+-0xe13+0x49*0x4a,0x1231+0x3c2+-0x15f2));},'powerOfTwo'(_0x47838d){return _0x47838d!==0x14*-0x172+0xd31*0x1+-0x1*-0xfb7&&!(_0x47838d&_0x47838d-(0x147a+-0x7*0x337+0x208));},'nextPowerOfTwo'(_0x57fcd8){return _0x57fcd8--,_0x57fcd8|=_0x57fcd8>>-0x162+0x1*-0x66d+0x7d0,_0x57fcd8|=_0x57fcd8>>-0x106*0x4+0x23db+-0x1*0x1fc1,_0x57fcd8|=_0x57fcd8>>-0xb*-0x1+-0x21bd*-0x1+-0x21c4,_0x57fcd8|=_0x57fcd8>>0x2*-0x9eb+0x954+-0x1*-0xa8a,_0x57fcd8|=_0x57fcd8>>0x1123+0x1c27*-0x1+0xb14,_0x57fcd8++,_0x57fcd8;},'nearestPowerOfTwo'(_0x1aa0c1){return Math['pow'](0xa24*0x3+-0x255b*-0x1+-0x43c5*0x1,Math['round'](Math['log2'](_0x1aa0c1)));},'random'(_0x1d1a41,_0x4521aa){const _0x5927f6=_0x4521aa-_0x1d1a41;return Math['random']()*_0x5927f6+_0x1d1a41;},'smoothstep'(_0x460df1,_0x1938af,_0x6be160){return _0x6be160<=_0x460df1?0x22b0+0xc7*0x25+-0x3f73:_0x6be160>=_0x1938af?-0x77*0x45+0x41*0x2e+0x1*0x1466:(_0x6be160=(_0x6be160-_0x460df1)/(_0x1938af-_0x460df1),_0x6be160*_0x6be160*(-0x2112+0x5*0x342+-0x599*-0x3-(-0x2*0x17e+0x2603+-0x32f*0xb)*_0x6be160));},'smootherstep'(_0x1b20ad,_0x2bf30f,_0xff0716){return _0xff0716<=_0x1b20ad?-0x62d+0x1e6b*-0x1+0x2498:_0xff0716>=_0x2bf30f?-0x5*0x2ad+-0x2*-0xe12+-0x1*0xec2:(_0xff0716=(_0xff0716-_0x1b20ad)/(_0x2bf30f-_0x1b20ad),_0xff0716*_0xff0716*_0xff0716*(_0xff0716*(_0xff0716*(-0x1*0x25a9+-0x13*0x17+0x2764)-(-0x14ab+-0x1360+0x2*0x140d))+(0x1*-0x1f91+0x1b21+0x3*0x17e)));},'roundUp'(_0x36ec9c,_0x31a229){return _0x31a229===-0x23aa+0x1743+-0x19*-0x7f?_0x36ec9c:Math['ceil'](_0x36ec9c/_0x31a229)*_0x31a229;},'between'(_0x59c90d,_0x40fc05,_0x4c33b1,_0x3556e0){const _0x1e98c0=Math['min'](_0x40fc05,_0x4c33b1),_0x40c170=Math['max'](_0x40fc05,_0x4c33b1);return _0x3556e0?_0x59c90d>=_0x1e98c0&&_0x59c90d<=_0x40c170:_0x59c90d>_0x1e98c0&&_0x59c90d<_0x40c170;}},Tt=class Tt{constructor(_0x2eaf8c=-0x1*-0x2456+-0x1*-0x1787+-0x3bdd,_0x254978=-0x83*-0xa+0xb*0x9+-0x581,_0xe58c03=-0x1b5*-0x1+0x11*0x2b+-0x490,_0x39f25b=0x1*-0x1c03+0x1f8+0x1a0c){h(this,'r'),h(this,'g'),h(this,'b'),h(this,'a');const _0x549aeb=_0x2eaf8c['length'];_0x549aeb===0x377+-0x8*0x249+-0x76a*-0x2||_0x549aeb===0x1e3b+0x5d4*-0x5+-0x19*0xb?(this['r']=_0x2eaf8c[0x1b25*0x1+-0x20ee+-0x1*-0x5c9],this['g']=_0x2eaf8c[0x1*0x1d17+0x1e5*0x13+-0x4115],this['b']=_0x2eaf8c[0x2b*-0x6b+-0x872+0x1c3*0xf],this['a']=_0x2eaf8c[0x1*-0x112e+0x3*0x32d+0x7aa]??0x160a+0x1*0x10a5+0x2*-0x1357):(this['r']=_0x2eaf8c,this['g']=_0x254978,this['b']=_0xe58c03,this['a']=_0x39f25b);}['clone'](){const _0x4cdc93=this['constructo'+'r'];return new _0x4cdc93(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x1156b4){return this['r']=_0x1156b4['r'],this['g']=_0x1156b4['g'],this['b']=_0x1156b4['b'],this['a']=_0x1156b4['a'],this;}['equals'](_0x56f9b9){return this['r']===_0x56f9b9['r']&&this['g']===_0x56f9b9['g']&&this['b']===_0x56f9b9['b']&&this['a']===_0x56f9b9['a'];}['set'](_0x1b2dd9,_0x50dd19,_0x25650e,_0x298a33=0x1c*-0x84+0x3*-0x3bf+0x19ae){return this['r']=_0x1b2dd9,this['g']=_0x50dd19,this['b']=_0x25650e,this['a']=_0x298a33,this;}['lerp'](_0x4985f7,_0x297dfb,_0x23f1d5){return this['r']=_0x4985f7['r']+_0x23f1d5*(_0x297dfb['r']-_0x4985f7['r']),this['g']=_0x4985f7['g']+_0x23f1d5*(_0x297dfb['g']-_0x4985f7['g']),this['b']=_0x4985f7['b']+_0x23f1d5*(_0x297dfb['b']-_0x4985f7['b']),this['a']=_0x4985f7['a']+_0x23f1d5*(_0x297dfb['a']-_0x4985f7['a']),this;}['linear'](_0x14260b=this){return this['r']=Math['pow'](_0x14260b['r'],-0x5*0x24b+0x9f*0x11+0xea+0.20000000000000018),this['g']=Math['pow'](_0x14260b['g'],0x1277+0x8*0x419+-0x333d+0.20000000000000018),this['b']=Math['pow'](_0x14260b['b'],0x1266+0x3e*0x4f+0x1*-0x2586+0.20000000000000018),this['a']=_0x14260b['a'],this;}['gamma'](_0x6f19b=this){return this['r']=Math['pow'](_0x6f19b['r'],(0x6*-0x161+-0x1b14*0x1+0x50d*0x7)/(0x1b*-0x3b+-0x16b+0x1*0x7a6+0.20000000000000018)),this['g']=Math['pow'](_0x6f19b['g'],(0x84f+0x1ac6+-0x118a*0x2)/(-0x7*0x34f+0x90*0x17+0xa3b+0.20000000000000018)),this['b']=Math['pow'](_0x6f19b['b'],(0x23d0+0x1*0x4e7+0x243*-0x12)/(-0x257f+0x774+-0x1e0d*-0x1+0.20000000000000018)),this['a']=_0x6f19b['a'],this;}['mulScalar'](_0x4d1aad){return this['r']*=_0x4d1aad,this['g']*=_0x4d1aad,this['b']*=_0x4d1aad,this;}['fromString'](_0x5a0afd){const _0x20d67f=parseInt(_0x5a0afd['replace']('#','0x'),-0x1c97+0x109*0x1+0x23*0xca);let _0x395111;return _0x5a0afd['length']>0x111*0x19+0x1df9+0x389b*-0x1?_0x395111=Y['intToBytes'+'32'](_0x20d67f):(_0x395111=Y['intToBytes'+'24'](_0x20d67f),_0x395111[-0x3*0x576+-0xf1f+0x7e1*0x4]=-0x10*0x104+-0x2*0xba4+-0x1*-0x2887),this['set'](_0x395111[0x1*-0x1148+0x7*0x63+0xe93]/(0x44f+-0x1*-0x2335+0xad*-0x39),_0x395111[-0x104f+0x83b*0x3+0x27*-0x37]/(0x1*-0x25a3+0x1*-0x5f6+0x4*0xb26),_0x395111[-0x4*-0x677+-0x98+-0x1942]/(-0x4*0x8a8+-0xb4e*0x1+0x2eed),_0x395111[0x897*0x4+-0x12b0+-0x13*0xd3]/(-0x1513+0xcf7*-0x1+0x2309)),this;}['fromArray'](_0x1d03ae,_0x1abf5d=-0x86*0x2e+-0x1*0x20b5+0x38c9){return this['r']=_0x1d03ae[_0x1abf5d]??this['r'],this['g']=_0x1d03ae[_0x1abf5d+(-0x181b+0xc1*-0x20+0x24*0x157)]??this['g'],this['b']=_0x1d03ae[_0x1abf5d+(0x225a*-0x1+0x8f0+0x196c)]??this['b'],this['a']=_0x1d03ae[_0x1abf5d+(-0xf7e+-0x252b+0x2*0x1a56)]??this['a'],this;}['toString'](_0x1b82e1,_0x7e6ec0){const {r:_0xd3d478,g:_0x35d523,b:_0x3b3b20,a:_0x3291d0}=this;if(_0x7e6ec0||_0xd3d478>-0x1d5*-0x6+0x33*0xc0+-0x5*0x9d9||_0x35d523>-0x6*-0x2dd+0x1c03*-0x1+0x56b*0x2||_0x3b3b20>-0x1*0x1c6a+0x46f*0x4+0x1*0xaaf)return _0xd3d478['toFixed'](0x12df*-0x2+-0x4c*0x24+-0x1*-0x3071)+',\x20'+_0x35d523['toFixed'](0x217d*0x1+-0x1119+-0x1061)+',\x20'+_0x3b3b20['toFixed'](0x1*0x92d+-0xb3+0xb*-0xc5)+',\x20'+_0x3291d0['toFixed'](-0x13b6+0x1d*-0x67+0xa4*0x31);let _0x527711='#'+((0x185*-0xb+0x25cf*-0x1+0x3687<<-0x238a*0x1+0x1*-0x1865+0x3c07)+(Math['round'](_0xd3d478*(-0x1339+-0xbfe*0x1+0x2036))<<0xa49*-0x1+0xdb*-0x4+0xdc5)+(Math['round'](_0x35d523*(0x1f99+-0x35d+-0x1b3d))<<0x11d9*-0x1+0xab1+-0x170*-0x5)+Math['round'](_0x3b3b20*(-0x48d+0x12*0x6b+-0x1fa)))['toString'](0x236b+-0x5*0x38d+-0x6*0x2ef)['slice'](-0x1f6*-0x8+0x1*-0x22ac+0x12fd*0x1);if(_0x1b82e1===!(-0x264b+-0x929+-0x1*-0x2f74)){const _0x210029=Math['round'](_0x3291d0*(0x2651+-0xc0b+-0x1947))['toString'](-0x1b9+0x17*0x15d+0x5ea*-0x5);this['a']<(0x1b23*0x1+0x22a2+-0x1*0x3db5)/(0x43*-0x89+-0x2fe*0x6+0x36ce)?_0x527711+='0'+_0x210029:_0x527711+=_0x210029;}return _0x527711;}['toArray'](_0x5aeacc=[],_0x48e4ba=-0x7d0+-0x10bb*-0x1+-0x1*0x8eb,_0x408fe4=!(-0x1219+-0x1*-0x15b6+-0x39d)){return _0x5aeacc[_0x48e4ba]=this['r'],_0x5aeacc[_0x48e4ba+(0x2*-0xee4+-0x25a+-0x2023*-0x1)]=this['g'],_0x5aeacc[_0x48e4ba+(-0x970+0x91e+0x54)]=this['b'],_0x408fe4&&(_0x5aeacc[_0x48e4ba+(-0x1a91+-0x4*-0x567+-0x1*-0x4f8)]=this['a']),_0x5aeacc;}};h(Tt,'BLACK',Object['freeze'](new Tt(0x54e+-0x2aa+-0x2a4,0x14*0x29+-0x2*0x3bb+-0x442*-0x1,-0x7e7+0xe76+-0x1*0x68f,0x89e+-0x2410+0x1b73))),h(Tt,'BLUE',Object['freeze'](new Tt(0x1*0x1661+0x18d7+-0x2f38,-0x157*-0x5+0x3*-0xd4+-0x437,0x99a+-0xd83+0x3*0x14e,0x1*0x2033+-0x3*-0x40+0x1*-0x20f2))),h(Tt,'CYAN',Object['freeze'](new Tt(0x1f*-0xc7+0x1f78+-0x3*0x275,-0xb*0xdd+0x52*0x3b+0x966*-0x1,-0x2*-0xcfe+0x2*0x1305+-0x4005,0x47e+0x3*-0x2f9+0x51*0xe))),h(Tt,'GRAY',Object['freeze'](new Tt(0x9f*0xb+-0x2304+0x1c2f+0.5,0x1b7*-0x5+-0x3*0x225+0xf02+0.5,0x13bc+0x19d4+-0x2d90+0.5,0x7cd*0x3+-0xc59+-0xb0d))),h(Tt,'GREEN',Object['freeze'](new Tt(-0x1479+0xcb*-0x4+0x1*0x17a5,-0x1dd7+-0x1f1b*-0x1+-0x11*0x13,-0x11bc+0x11*0x1e9+-0xebd,-0x1*0x1f0f+0x2299*-0x1+-0x1*-0x41a9))),h(Tt,'MAGENTA',Object['freeze'](new Tt(0x2522+0x11*-0x3b+-0x2136,0xb9c+0xa40+-0x2*0xaee,0x1*-0x22cc+-0x17c*-0x18+0xd3*-0x1,-0x870+0x1*-0x2ba+0xb2b))),h(Tt,'RED',Object['freeze'](new Tt(0x66e*0x5+-0x2389*0x1+0x364,0x1fe7+0x1*-0x1c46+-0x1*0x3a1,0x3bd+-0x7ca+0x3d*0x11,0x2052+0x3*-0x91d+-0x4fa))),h(Tt,'WHITE',Object['freeze'](new Tt(0x2*-0x1be+0x1*0x15bb+0x1d3*-0xa,0x25+-0x7*0x324+0x4*0x576,-0xd*-0x282+-0x17ea+0x9*-0xf7,0x3*0x8db+-0x1ad1+-0x1*-0x41))),h(Tt,'YELLOW',Object['freeze'](new Tt(0x86c+0x593*0x1+-0x3*0x4aa,-0x2bd*-0xa+0x20bd*-0x1+0x55c,-0x69*-0xb+0x544*-0x2+0x1*0x605,-0x230b+0x1482+-0xe8a*-0x1))),(function(){const _0x2c8313=function(){let _0x506c35;try{_0x506c35=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x1277cf){_0x506c35=window;}return _0x506c35;},_0x2dbdbf=_0x2c8313();_0x2dbdbf['setInterva'+'l'](_0x443b71,0x1200+0x1*0x17dc+-0x124*0x17);}());let ie=Tt;class ZS{constructor(_0x7eea9c,_0x46a743=-0x15f0+0x1a5*0x16+0x2*-0x71f){h(this,'_curve'),h(this,'_left',-(0x7ec+-0x3f9*0x7+0x13e4)/(-0x76c+-0x1a87*-0x1+-0x131b)),h(this,'_right',(0x67f*-0x4+0x16c8*0x1+0x335*0x1)/(-0x2507+-0x27f*0xb+0x407c)),h(this,'_recip',0xa1+0x1*0x255+-0x2f6),h(this,'_p0',-0x17cd+-0x1ef+-0x7a*-0x36),h(this,'_p1',-0xc38+0xe6+0xb52*0x1),h(this,'_m0',-0x4*-0x85f+0x18*-0x121+0x664*-0x1),h(this,'_m1',-0x200*-0x10+0x1c1d+0x3c1d*-0x1),(this['_curve']=_0x7eea9c,this['_reset'](_0x46a743));}['evaluate'](_0x26ef6f,_0x4db781=!(-0xbf8+-0x4*0x9b2+-0x47*-0xb7)){(_0x4db781||_0x26ef6f<this['_left']||_0x26ef6f>=this['_right'])&&this['_reset'](_0x26ef6f);let _0x599205;const _0x332e5a=this['_curve']['type'];if(_0x332e5a===_x)_0x599205=this['_p0'];else{const _0x5e4ef0=this['_recip']===-0x1da8+-0xd61+0x2b09?0x314+-0x35*0x25+0x495:(_0x26ef6f-this['_left'])*this['_recip'];_0x332e5a===mx?_0x599205=Y['lerp'](this['_p0'],this['_p1'],_0x5e4ef0):_0x332e5a===tp?_0x599205=Y['lerp'](this['_p0'],this['_p1'],_0x5e4ef0*_0x5e4ef0*(0x93a*0x1+0xf5c+-0x2bb*0x9-(0xc22*-0x2+0x20a8+-0x862)*_0x5e4ef0)):_0x599205=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x5e4ef0);}return _0x599205;}['_reset'](_0x4144a4){const _0x596542=this['_curve']['keys'],_0x28d5ef=_0x596542['length'];if(!_0x28d5ef)this['_left']=-(0x47f*0x5+0xce8+-0x2362)/(-0x1947+-0x1b7d+0x34c4),this['_right']=(-0x166*0x7+0x3*-0x79a+0x5*0x685)/(-0x1*0xf22+0x17cd*0x1+-0x8ab),this['_recip']=-0x1fa9+0xdbd*-0x1+-0x95*-0x4e,this['_p0']=this['_p1']=this['_m0']=this['_m1']=0x1d13+-0x2a8+0x1*-0x1a6b;else{if(_0x4144a4<_0x596542[0x3*-0x7af+0x31*0x69+0x2f4][0x1c3+-0x1ab6+0x18f3])this['_left']=-(0x1a4e+0xd3*0x20+-0x1d1*0x1d)/(0x12bb*-0x1+0x1822+-0x1*0x567),this['_right']=_0x596542[0x1d2+-0xaf5+0x923][-0x1793+-0x1*-0x469+-0x1*-0x132a],this['_recip']=-0x6*-0x58f+-0x7*-0x373+-0x397f,this['_p0']=this['_p1']=_0x596542[0xa23+-0x323*0x4+0x1*0x269][0x2318+0x2*-0x1a3+0x3*-0xa9b],this['_m0']=this['_m1']=0x1*0x1b0e+-0x44*-0x26+-0x2526;else{if(_0x4144a4>=_0x596542[_0x28d5ef-(-0x115d+-0x253c+-0x2*-0x1b4d)][-0x1c23+0xc2*0x2f+0x17f*-0x5])this['_left']=_0x596542[_0x28d5ef-(0x10c8+0xe89+-0x18*0x14e)][0x117f*-0x2+0xeaa*0x1+0xa2a*0x2],this['_right']=(0x6b1+-0x20*-0x112+0x20c*-0x14)/(-0x5a2*-0x1+-0xf71+0x9cf),this['_recip']=0x248e*0x1+-0x1*-0x5e6+-0x2a74,this['_p0']=this['_p1']=_0x596542[_0x28d5ef-(-0x15f+0x989+-0x829)][0x12d*-0x7+0x4e4*0x3+-0x670],this['_m0']=this['_m1']=0xf27+0x1f2+-0x1119;else{let _0x5a6ecc=0x1bf8+-0x37*0x39+-0xfb9;for(;_0x4144a4>=_0x596542[_0x5a6ecc+(0x4*-0x410+-0x265f+0x36a0)][-0x7*0x1b5+0x1*0x16ae+-0x29*0x43];)_0x5a6ecc++;this['_left']=_0x596542[_0x5a6ecc][0x1*-0x1cc7+-0x1f0b+0x24d*0x1a],this['_right']=_0x596542[_0x5a6ecc+(-0x9f7+-0x321*0x3+0x5*0x3df)][0x1b1c+-0x1*0x2428+0x90c];const _0x53a994=(-0x177d*0x1+0x2*0xe59+-0x534*0x1)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x53a994)?_0x53a994:0x1760+-0x41*0x89+0x17*0x7f,this['_p0']=_0x596542[_0x5a6ecc][-0x5*0x6fa+-0x1412+-0xb*-0x4ff],this['_p1']=_0x596542[_0x5a6ecc+(-0x894+-0x138f*0x1+0x1c24)][0x2db+-0x5ec+0x1*0x312],this['_curve']['type']===Nm&&this['_calcTange'+'nts'](_0x596542,_0x5a6ecc);}}}}['_calcTange'+'nts'](_0x4f82df,_0x4bfce6){let _0x5229c1;const _0x4790e6=_0x4f82df[_0x4bfce6],_0x35e9a8=_0x4f82df[_0x4bfce6+(0x1098+0x1229*0x2+-0x34e9)];let _0x4de92a;if(_0x4bfce6===0xb19*-0x1+-0x92e+0x1447*0x1?_0x5229c1=[_0x4f82df[-0x6*0x152+-0x18ac+0x826*0x4][0x152f+0x2fa+-0x1829]+(_0x4f82df[0x59*0x5b+0x1b15+-0x1d5c*0x2][0x1*-0xd91+0xce8+-0xd*-0xd]-_0x4f82df[0x2*-0x2af+0x3*-0x31f+-0x29*-0x5c][0x492+-0xec0+0x1*0xa2e]),_0x4f82df[0x731*-0x3+-0x1*0x5d5+-0x1b68*-0x1][-0x1e43+-0x5*-0x525+0x1*0x48b]+(_0x4f82df[0x2f*-0x66+-0x1af*0xf+0x2bfb][0xca*-0x1+-0x10ee+0x15d*0xd]-_0x4f82df[0x1d2+0x5e4+0x7b5*-0x1][0x3f1*-0x3+0x1e35*-0x1+0x2a09])]:_0x5229c1=_0x4f82df[_0x4bfce6-(0xee4+-0x241f+0x153c)],_0x4bfce6===_0x4f82df['length']-(0x270d+0x1*0x1c9+-0x28d4)?_0x4de92a=[_0x4f82df[_0x4bfce6+(-0x10*-0xce+0xb02+0x1*-0x17e1)][0x1*-0xe89+-0x9*-0x235+0x2aa*-0x2]+(_0x4f82df[_0x4bfce6+(0x15f6+0x813+-0x1e08)][-0xdb5+0x1330*0x2+-0x18ab]-_0x4f82df[_0x4bfce6][-0x1*-0xe32+-0x1406+0x5d4]),_0x4f82df[_0x4bfce6+(-0x15f5+0x22f6+-0xd00)][0x385*0x3+0x1619+-0x20a7]+(_0x4f82df[_0x4bfce6+(0x2149+0x955+-0x2a9d)][-0x1e39+0xb6c*0x2+0x762]-_0x4f82df[_0x4bfce6][-0x162a+-0x886*-0x3+-0x367])]:_0x4de92a=_0x4f82df[_0x4bfce6+(0x5*-0x5d3+-0x65*0x59+0x403e)],this['_curve']['type']===Nm){const _0x19f649=(-0x199d*-0x1+0x245c+-0x1d*0x223)*(_0x35e9a8[0x75b+-0x261e+0x1ec3]-_0x4790e6[0x23*0x62+0xe86+-0x1bec])/(_0x35e9a8[0x353+-0x208c+0x1d39]-_0x5229c1[-0x11*-0x4+-0x4a2+0x45e]),_0xc402a=(0x15c*-0xd+0x8*0x8f+0xd36)*(_0x35e9a8[-0x1acb+0x1632*-0x1+0x1*0x30fd]-_0x4790e6[0xe05+-0xa40*0x2+0x67b])/(_0x4de92a[0x101*0x19+0xb9c+-0x24b5]-_0x4790e6[0x21ab+-0x1ad*-0x9+-0x30c0]);this['_m0']=this['_curve']['tension']*(isFinite(_0x19f649)?_0x19f649:0x13a5*0x1+0x25ab+-0x3950)*(_0x35e9a8[-0x1cf*-0xa+0x2f5+0x150a*-0x1]-_0x5229c1[0x20d1+-0xe4d+0x1*-0x1283]),this['_m1']=this['_curve']['tension']*(isFinite(_0xc402a)?_0xc402a:0x1841+0x25c*-0xb+0x1*0x1b3)*(_0x4de92a[-0x1957+-0x1267+0x2bbf]-_0x4790e6[-0x1*-0x9bb+-0xcf7*0x1+0x33d]);}else{const _0x29df8f=(_0x35e9a8[-0x6*-0x452+-0x183f+-0x1ad]-_0x4790e6[-0xf13*-0x1+0x4f3*-0x1+-0xa20])/(_0x4790e6[-0x31*-0x6b+0x585+-0x340*0x8]-_0x5229c1[0x4*-0xd6+0x6b0+-0x2*0x1ac]),_0x67bfbe=(_0x35e9a8[0x148e+-0x2103+0xc75]-_0x4790e6[0x2217*-0x1+0x199a+-0x29*-0x35])/(_0x4de92a[-0x8db*-0x1+0x1d36+-0x2611]-_0x35e9a8[0x1a*0x167+0x1*-0x86a+0x2ce*-0xa]),_0x5af480=_0x4790e6[-0x3*0x179+0x57*-0x5e+0x85*0x46]+(_0x5229c1[0x1ba7+0x1e81+-0x3a27*0x1]-_0x4790e6[0x14b1+-0x1052+-0x45e])*(isFinite(_0x29df8f)?_0x29df8f:-0x1d3*0xd+0x1*0x6f1+0x10c6),_0x454f24=_0x35e9a8[-0x1af*-0x11+0x3bb+0x27d*-0xd]+(_0x4de92a[-0x4c4+0x11fc+-0xd37]-_0x35e9a8[-0x1066+-0x19f2+0x2a59])*(isFinite(_0x67bfbe)?_0x67bfbe:0x723+0xff7+-0x171a),_0x30e9d6=this['_curve']['tension'];this['_m0']=_0x30e9d6*(_0x35e9a8[-0xad*0x35+0x19fe+0x9d4]-_0x5af480),this['_m1']=_0x30e9d6*(_0x454f24-_0x4790e6[-0x1*-0x38b+-0x67*-0x1a+-0x10*0xe0]);}}['_evaluateH'+'ermite'](_0x2d0ec8,_0x325014,_0x35be33,_0x19e728,_0x3426fa){const _0x15719a=_0x3426fa*_0x3426fa,_0xc87feb=_0x3426fa+_0x3426fa,_0x19f0b0=-0x11cf*-0x1+-0x1702+-0xc*-0x6f-_0x3426fa,_0x5ab87c=_0x19f0b0*_0x19f0b0;return _0x2d0ec8*((-0xb1*-0x2d+0x141f+-0xa3f*0x5+_0xc87feb)*_0x5ab87c)+_0x35be33*(_0x3426fa*_0x5ab87c)+_0x325014*(_0x15719a*(0x1*0x146f+-0x1*-0xcaa+0x181*-0x16-_0xc87feb))+_0x19e728*(_0x15719a*(_0x3426fa-(0x1a7d*0x1+0x1651+-0x30cd)));}}class qs{constructor(_0x539a05){h(this,'keys',[]),h(this,'type',tp),h(this,'tension',-0x49*-0xb+-0x2f*-0x6c+-0x16f7+0.5),h(this,'_eval',new ZS(this));if(_0x539a05){for(let _0x4d5938=0x3*-0x6fd+0x1*-0x14b9+-0x74*-0x5c;_0x4d5938<_0x539a05['length']-(0x16d4+-0x1*-0xbaa+0x227d*-0x1);_0x4d5938+=-0x1*0x1e85+0x1f45+0xbe*-0x1)this['keys']['push']([_0x539a05[_0x4d5938],_0x539a05[_0x4d5938+(-0x3a*-0x89+-0x1bb1*-0x1+-0x3aba)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0xd1787c,_0x471764){const _0x4c1e17=this['keys'],_0x3e14fa=_0x4c1e17['length'];let _0x1b7d3e=-0x2*0xe63+0xe88*-0x1+0x2b4e;for(;_0x1b7d3e<_0x3e14fa&&!(_0x4c1e17[_0x1b7d3e][-0x7cf*0x3+-0x19*0xa3+-0x2758*-0x1]>_0xd1787c);_0x1b7d3e++);const _0x3453a9=[_0xd1787c,_0x471764];return this['keys']['splice'](_0x1b7d3e,-0x1ab1*-0x1+-0x5cf+0x21*-0xa2,_0x3453a9),_0x3453a9;}['get'](_0x5a9afe){return this['keys'][_0x5a9afe];}['sort'](){this['keys']['sort']((_0x17fdbb,_0x478af8)=>_0x17fdbb[-0x10*-0x1d3+0x201e*0x1+-0x3d4e]-_0x478af8[0x234a+0x7c*-0x3d+0x126*-0x5]);}['value'](_0x154567){return this['_eval']['evaluate'](_0x154567,!(0x250a*-0x1+0x13bf+0x114b*0x1));}['closest'](_0x53bb75){const _0x9519c8=this['keys'],_0x570e6c=_0x9519c8['length'];let _0x56f9c9=0x2305+-0x3*-0x9cb+-0x4064*0x1,_0x329ab5=null;for(let _0x1ebcaa=-0x65*-0x2c+-0xc5f+-0x4fd*0x1;_0x1ebcaa<_0x570e6c;_0x1ebcaa++){const _0x39a32d=Math['abs'](_0x53bb75-_0x9519c8[_0x1ebcaa][-0x1dea+0xaaa*0x1+-0x38*-0x58]);if(_0x56f9c9>=_0x39a32d)_0x56f9c9=_0x39a32d,_0x329ab5=_0x9519c8[_0x1ebcaa];else break;}return _0x329ab5;}['clone'](){const _0x465513=new this['constructo'+'r']();return _0x465513['keys']=this['keys']['map'](_0x272a1a=>[..._0x272a1a]),_0x465513['type']=this['type'],_0x465513['tension']=this['tension'],_0x465513;}['quantize'](_0x152f9d){_0x152f9d=Math['max'](_0x152f9d,0x5c3*0x2+0x15ef+-0x2173);const _0x53df97=new Float32Array(_0x152f9d),_0x17566d=(0x2663*0x1+-0x343*-0x1+-0x29a5)/(_0x152f9d-(-0x2307*-0x1+0x3c*-0x71+-0x88a));_0x53df97[-0xe19*-0x1+0x63d*-0x4+0xadb]=this['_eval']['evaluate'](-0xba5*0x1+-0xce*-0x2c+0x4d*-0x4f,!(0x1*-0xdbb+0x3f4+0x9c7));for(let _0x15c2ba=-0x16ba+0xa24*0x3+-0x7b1;_0x15c2ba<_0x152f9d;_0x15c2ba++)_0x53df97[_0x15c2ba]=this['_eval']['evaluate'](_0x17566d*_0x15c2ba);return _0x53df97;}['quantizeCl'+'amped'](_0x25cbae,_0x1be495,_0x2dc867){const _0x9841f7=this['quantize'](_0x25cbae);for(let _0x4fef16=0x3f*-0x95+0x107*-0xd+0x3206;_0x4fef16<_0x9841f7['length'];++_0x4fef16)_0x9841f7[_0x4fef16]=Math['min'](_0x2dc867,Math['max'](_0x1be495,_0x9841f7[_0x4fef16]));return _0x9841f7;}}class na{constructor(..._0x44f12a){h(this,'curves',[]),h(this,'_type',tp);if(_0x44f12a['length']>0x87a+-0x1106*-0x1+-0x197f){for(let _0x51d865=0x3d*-0x95+0x1cab*0x1+-0x36b*-0x2;_0x51d865<_0x44f12a['length'];_0x51d865++)this['curves']['push'](new qs(_0x44f12a[_0x51d865]));}else{if(_0x44f12a['length']===-0x4f8+0x29c*-0x3+0xccc)this['curves']['push'](new qs());else{const _0x96f10a=_0x44f12a[-0x1b0e+-0x2f*-0xb7+-0x68b*0x1];if(typeof _0x96f10a=='number'){for(let _0xdd9376=0xc4b+-0x904+-0x1*0x347;_0xdd9376<_0x96f10a;_0xdd9376++)this['curves']['push'](new qs());}else{for(let _0x5b8030=-0x1fe8+-0xf1*0x1e+0x3c26;_0x5b8030<_0x96f10a['length'];_0x5b8030++)this['curves']['push'](new qs(_0x96f10a[_0x5b8030]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x3cdb21){this['_type']=_0x3cdb21;for(let _0x208ce7=0xf38*0x2+0x2272+0x5e6*-0xb;_0x208ce7<this['curves']['length'];_0x208ce7++)this['curves'][_0x208ce7]['type']=_0x3cdb21;}get['type'](){return this['_type'];}['get'](_0x4a6000){return this['curves'][_0x4a6000];}['value'](_0x58a3bb,_0x52c191=[]){const _0x4c68ab=this['curves']['length'];_0x52c191['length']=_0x4c68ab;for(let _0x58462c=-0x19d2+0x2545+0x3d1*-0x3;_0x58462c<_0x4c68ab;_0x58462c++)_0x52c191[_0x58462c]=this['curves'][_0x58462c]['value'](_0x58a3bb);return _0x52c191;}['clone'](){const _0xdabfda=new this['constructo'+'r']();_0xdabfda['curves']=[];for(let _0x1efd0b=-0xca5+-0x12e+0xdd3*0x1;_0x1efd0b<this['curves']['length'];_0x1efd0b++)_0xdabfda['curves']['push'](this['curves'][_0x1efd0b]['clone']());return _0xdabfda['_type']=this['_type'],_0xdabfda;}['quantize'](_0x569d57){_0x569d57=Math['max'](_0x569d57,0x25*-0x55+-0x79c+0x13e7);const _0x18ef80=this['curves']['length'],_0x498d8b=new Float32Array(_0x569d57*_0x18ef80),_0x2a3c20=(0xa89+-0x18cf+0xe47)/(_0x569d57-(-0x1437+-0x3*-0x21b+-0x1*-0xde7));for(let _0x22d7ce=-0xf69+-0xd31+-0x1*-0x1c9a;_0x22d7ce<_0x18ef80;_0x22d7ce++){const _0x40f0ab=new ZS(this['curves'][_0x22d7ce]);for(let _0x399e57=0xad*-0xc+0x3de+0x2*0x21f;_0x399e57<_0x569d57;_0x399e57++)_0x498d8b[_0x399e57*_0x18ef80+_0x22d7ce]=_0x40f0ab['evaluate'](_0x2a3c20*_0x399e57);}return _0x498d8b;}['quantizeCl'+'amped'](_0x42d251,_0x3882ca,_0x486ad4){const _0x3f7fff=this['quantize'](_0x42d251);for(let _0x3ad5c4=0x1*-0x562+0x377*0x2+-0x18c;_0x3ad5c4<_0x3f7fff['length'];++_0x3ad5c4)_0x3f7fff[_0x3ad5c4]=Math['min'](_0x486ad4,Math['max'](_0x3882ca,_0x3f7fff[_0x3ad5c4]));return _0x3f7fff;}}const Hf=new Float32Array(0x975+0xe17*0x1+0x178b*-0x1),km=new Int32Array(Hf['buffer']);class Mn{static['float2Half'](_0x18321e){Hf[0x20*-0x53+-0x15f7*0x1+0x1e7*0x11]=_0x18321e;const _0x591abe=km[0x4b*-0x44+0xcb0+0x73c];let _0x7edbd7=_0x591abe>>0x12*-0x13a+0x1e12+0xe*-0x91&-0x6*-0x822+0xa3c0+-0x548c,_0x3a0861=_0x591abe>>-0x342+0x21fb+-0x1ead*0x1&0x895+-0x1deb+0x1d55;const _0x299aee=_0x591abe>>0x1*-0x1114+0x195b+-0x830&0x2e7*0x2+-0xcc5+0x7f6;return _0x299aee<0x61e+-0x20*-0xb2+-0x1bf7?_0x7edbd7:_0x299aee>-0x1*-0x1215+0x1*0x78b+0x2*-0xc89?(_0x7edbd7|=-0x2075+0x6*-0x179b+0x12a17,_0x7edbd7|=(_0x299aee===0x1*-0x24d3+0xa*0x35e+0x426?-0x55*0x33+-0xc5+-0x11b4*-0x1:0x962*0x2+-0x175*0x5+-0xb7a)&&_0x591abe&0x36bdcb*0x1+-0x3*0x154d05+0x892943,_0x7edbd7):_0x299aee<-0x26dd*0x1+-0x20f*-0x1+0x253f?(_0x3a0861|=-0xcf4+-0x15d9+0x1*0x2acd,_0x7edbd7|=(_0x3a0861>>-0x1*-0x111f+-0x3a1*0x5+0x178-_0x299aee)+(_0x3a0861>>0x1*0x2029+-0x458+-0x1b60-_0x299aee&-0x46c*0x4+0x1*0x107b+0x136),_0x7edbd7):(_0x7edbd7|=_0x299aee-(0x416*-0x2+-0x38b*-0x7+-0x1031*0x1)<<-0x10b+-0x1c48+0x1d5d*0x1|_0x3a0861>>-0xb3*-0x2+0x26e6+0x80f*-0x5,_0x7edbd7+=_0x3a0861&0x17b*0x12+-0x29*-0x5e+-0x3d*0xaf,_0x7edbd7);}static['float2RGBA'+'8'](_0x3a1f79,_0x455d54){Hf[-0x2093+-0xaaf+-0x62*-0x71]=_0x3a1f79;const _0x17fcf9=km[0x1534+0x1*-0x421+-0x1113];_0x455d54['r']=(_0x17fcf9>>0x4*-0x515+0x24de+-0x839*0x2&0x1fce+0xd89+-0x2c58)/(0x5da+0xf62+-0x1d7*0xb),_0x455d54['g']=(_0x17fcf9>>-0x19*-0x1f+-0x12f2+0xffb*0x1&-0x11cf+-0x11*-0x3e+0xeb0)/(0x2445+0x1fe2+-0x4328),_0x455d54['b']=(_0x17fcf9>>0xdd7+0x5*0x454+-0x2373&0x1c4+0x76e+-0x1*0x833)/(0xc95*-0x2+-0x51a*-0x5+0xa7),_0x455d54['a']=(_0x17fcf9&-0x4*-0x11c+0x2*-0xa89+0x11a1*0x1)/(-0x25e7*0x1+0x4c0*0x4+0x13e6);}}const wt=class wt{constructor(_0x389bfc=0x4d7+-0x1*-0xda3+-0x93d*0x2,_0x11ae1e=-0x85d+-0xaad*0x1+0x2*0x985,_0x4011f3=-0x2157+-0xb45+0x2c9c){h(this,'x'),h(this,'y'),h(this,'z'),_0x389bfc['length']===-0x41*0x19+0x3b4+0x2a8?(this['x']=_0x389bfc[-0x1*0x7b+0x1*0x1ac+-0x5*0x3d],this['y']=_0x389bfc[-0xe9*-0x25+0x20f4+0x42a*-0x10],this['z']=_0x389bfc[0x1398+-0x239*-0x4+-0x2d9*0xa]):(this['x']=_0x389bfc,this['y']=_0x11ae1e,this['z']=_0x4011f3);}['add'](_0x2506a3){return this['x']+=_0x2506a3['x'],this['y']+=_0x2506a3['y'],this['z']+=_0x2506a3['z'],this;}['add2'](_0x5185e1,_0x119ed2){return this['x']=_0x5185e1['x']+_0x119ed2['x'],this['y']=_0x5185e1['y']+_0x119ed2['y'],this['z']=_0x5185e1['z']+_0x119ed2['z'],this;}['addScalar'](_0x228702){return this['x']+=_0x228702,this['y']+=_0x228702,this['z']+=_0x228702,this;}['addScaled'](_0x2601a5,_0x156bde){return this['x']+=_0x2601a5['x']*_0x156bde,this['y']+=_0x2601a5['y']*_0x156bde,this['z']+=_0x2601a5['z']*_0x156bde,this;}['clone'](){const _0x28aec1=this['constructo'+'r'];return new _0x28aec1(this['x'],this['y'],this['z']);}['copy'](_0x116d20){return this['x']=_0x116d20['x'],this['y']=_0x116d20['y'],this['z']=_0x116d20['z'],this;}['cross'](_0x5379f5,_0x1d0b7a){const _0x3f5ceb=_0x5379f5['x'],_0x2d64eb=_0x5379f5['y'],_0x3017a9=_0x5379f5['z'],_0x16e28a=_0x1d0b7a['x'],_0x49142b=_0x1d0b7a['y'],_0x41abd6=_0x1d0b7a['z'];return this['x']=_0x2d64eb*_0x41abd6-_0x49142b*_0x3017a9,this['y']=_0x3017a9*_0x16e28a-_0x41abd6*_0x3f5ceb,this['z']=_0x3f5ceb*_0x49142b-_0x16e28a*_0x2d64eb,this;}['distance'](_0x2c31ff){const _0x296ff8=this['x']-_0x2c31ff['x'],_0xdbe7a3=this['y']-_0x2c31ff['y'],_0x1d91a5=this['z']-_0x2c31ff['z'];return Math['sqrt'](_0x296ff8*_0x296ff8+_0xdbe7a3*_0xdbe7a3+_0x1d91a5*_0x1d91a5);}['div'](_0x772457){return this['x']/=_0x772457['x'],this['y']/=_0x772457['y'],this['z']/=_0x772457['z'],this;}['div2'](_0x145d5b,_0x5ed0b9){return this['x']=_0x145d5b['x']/_0x5ed0b9['x'],this['y']=_0x145d5b['y']/_0x5ed0b9['y'],this['z']=_0x145d5b['z']/_0x5ed0b9['z'],this;}['divScalar'](_0x5b4c8f){return this['x']/=_0x5b4c8f,this['y']/=_0x5b4c8f,this['z']/=_0x5b4c8f,this;}['dot'](_0x529f80){return this['x']*_0x529f80['x']+this['y']*_0x529f80['y']+this['z']*_0x529f80['z'];}['equals'](_0x3e9ef6){return this['x']===_0x3e9ef6['x']&&this['y']===_0x3e9ef6['y']&&this['z']===_0x3e9ef6['z'];}['equalsAppr'+'ox'](_0x47d101,_0x3f3783=0x1a67*0x1+-0x2321+-0x45d*-0x2+0.000001){return Math['abs'](this['x']-_0x47d101['x'])<_0x3f3783&&Math['abs'](this['y']-_0x47d101['y'])<_0x3f3783&&Math['abs'](this['z']-_0x47d101['z'])<_0x3f3783;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0xdd23,_0xd62afd,_0x5d8e20){return this['x']=_0xdd23['x']+_0x5d8e20*(_0xd62afd['x']-_0xdd23['x']),this['y']=_0xdd23['y']+_0x5d8e20*(_0xd62afd['y']-_0xdd23['y']),this['z']=_0xdd23['z']+_0x5d8e20*(_0xd62afd['z']-_0xdd23['z']),this;}['mul'](_0x277050){return this['x']*=_0x277050['x'],this['y']*=_0x277050['y'],this['z']*=_0x277050['z'],this;}['mul2'](_0x3b119a,_0x293168){return this['x']=_0x3b119a['x']*_0x293168['x'],this['y']=_0x3b119a['y']*_0x293168['y'],this['z']=_0x3b119a['z']*_0x293168['z'],this;}['mulScalar'](_0x233fbf){return this['x']*=_0x233fbf,this['y']*=_0x233fbf,this['z']*=_0x233fbf,this;}['normalize'](_0x2553b3=this){const _0x2efe53=_0x2553b3['x']*_0x2553b3['x']+_0x2553b3['y']*_0x2553b3['y']+_0x2553b3['z']*_0x2553b3['z'];if(_0x2efe53>0x1a42+-0x113a+0x121*-0x8){const _0x35d82b=(0x1*-0x65f+-0x1c6c+0x83*0x44)/Math['sqrt'](_0x2efe53);this['x']=_0x2553b3['x']*_0x35d82b,this['y']=_0x2553b3['y']*_0x35d82b,this['z']=_0x2553b3['z']*_0x35d82b;}return this;}['floor'](_0x59b510=this){return this['x']=Math['floor'](_0x59b510['x']),this['y']=Math['floor'](_0x59b510['y']),this['z']=Math['floor'](_0x59b510['z']),this;}['ceil'](_0x2f546e=this){return this['x']=Math['ceil'](_0x2f546e['x']),this['y']=Math['ceil'](_0x2f546e['y']),this['z']=Math['ceil'](_0x2f546e['z']),this;}['round'](_0x1fba59=this){return this['x']=Math['round'](_0x1fba59['x']),this['y']=Math['round'](_0x1fba59['y']),this['z']=Math['round'](_0x1fba59['z']),this;}['min'](_0x3f237d){return _0x3f237d['x']<this['x']&&(this['x']=_0x3f237d['x']),_0x3f237d['y']<this['y']&&(this['y']=_0x3f237d['y']),_0x3f237d['z']<this['z']&&(this['z']=_0x3f237d['z']),this;}['max'](_0x2f5d46){return _0x2f5d46['x']>this['x']&&(this['x']=_0x2f5d46['x']),_0x2f5d46['y']>this['y']&&(this['y']=_0x2f5d46['y']),_0x2f5d46['z']>this['z']&&(this['z']=_0x2f5d46['z']),this;}['project'](_0x58d949){const _0x5bfd3d=this['x']*_0x58d949['x']+this['y']*_0x58d949['y']+this['z']*_0x58d949['z'],_0x75fd98=_0x58d949['x']*_0x58d949['x']+_0x58d949['y']*_0x58d949['y']+_0x58d949['z']*_0x58d949['z'],_0x22615e=_0x5bfd3d/_0x75fd98;return this['x']=_0x58d949['x']*_0x22615e,this['y']=_0x58d949['y']*_0x22615e,this['z']=_0x58d949['z']*_0x22615e,this;}['set'](_0x1295b7,_0x435f1d,_0x13159b){return this['x']=_0x1295b7,this['y']=_0x435f1d,this['z']=_0x13159b,this;}['sub'](_0x532cc9){return this['x']-=_0x532cc9['x'],this['y']-=_0x532cc9['y'],this['z']-=_0x532cc9['z'],this;}['sub2'](_0x4fcc38,_0x250495){return this['x']=_0x4fcc38['x']-_0x250495['x'],this['y']=_0x4fcc38['y']-_0x250495['y'],this['z']=_0x4fcc38['z']-_0x250495['z'],this;}['subScalar'](_0x3c73ed){return this['x']-=_0x3c73ed,this['y']-=_0x3c73ed,this['z']-=_0x3c73ed,this;}['fromArray'](_0x1af01b,_0x295166=0x17fe+0x4ed*-0x4+-0x3*0x16e){return this['x']=_0x1af01b[_0x295166]??this['x'],this['y']=_0x1af01b[_0x295166+(-0x865*-0x3+-0x3ee*0x6+-0x19a*0x1)]??this['y'],this['z']=_0x1af01b[_0x295166+(0x2*0x6de+-0x13a5+-0x65*-0xf)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x579ebd=[],_0x33a5de=-0x1*-0x10c1+-0x1*-0x15c5+-0x2*0x1343){return _0x579ebd[_0x33a5de]=this['x'],_0x579ebd[_0x33a5de+(-0x35*-0x20+0xca9*-0x2+-0x1*-0x12b3)]=this['y'],_0x579ebd[_0x33a5de+(-0x1*0xf2b+-0x671*0x5+0x2f62)]=this['z'],_0x579ebd;}};h(wt,'ZERO',Object['freeze'](new wt(-0x116a+-0x7*-0x4e5+0x13*-0xe3,-0x1*0x10f9+-0x1*0x280+0x1379,-0x256c+0xc85+0x18e7))),h(wt,'HALF',Object['freeze'](new wt(0x1de4+0x272+-0x2056+0.5,-0x317+-0x1082+0x1399+0.5,0x15*0x95+0x1*0x1707+-0x2340+0.5))),h(wt,'ONE',Object['freeze'](new wt(-0x379+0x3*-0x18a+0xe*0x94,0x838*-0x2+0x26b7+-0x1646,0x3b*-0x9b+0x1c3*0x7+0x1765))),h(wt,'UP',Object['freeze'](new wt(0x1999+-0xca5+-0xcf4,-0x1933+0x21e5+-0x8b1,-0x191*0x8+-0x97b*0x1+0x1603*0x1))),h(wt,'DOWN',Object['freeze'](new wt(0x6b*-0x5b+-0x1ac3*-0x1+0xb46,-(0x123f+-0x2*0xfd3+0xd68),-0x13d+0x1a1e+-0x84b*0x3))),h(wt,'RIGHT',Object['freeze'](new wt(0x2093+-0xf5b+-0xd*0x153,-0x1bc*-0x8+-0xab6*-0x1+0x1896*-0x1,-0xc96+-0x19a4+-0x3*-0xcbe))),h(wt,'LEFT',Object['freeze'](new wt(-(-0x155d+0x1*-0x39e+0x18fc),0x4*-0xc9+0x7a3+-0x47f,0xc1*0x2b+-0x2377*-0x1+0x43e2*-0x1))),h(wt,'FORWARD',Object['freeze'](new wt(0x3*-0x696+-0x1b84+-0x6*-0x7e1,0x1d53+0x18c5+-0x3618,-(0x1*0x1159+0x1*0x10e8+-0x2240)))),h(wt,'BACK',Object['freeze'](new wt(0xaa*-0x1d+-0x2*0x39a+0x1a76,-0x477*-0x1+0x1*0xfe+-0x575,0x5*0x15e+-0x1aba+0x13e5)));let D=wt;const gn=class gn{constructor(){h(this,'data',new Float32Array(0x25b7+0x1830+-0x3dde)),this['data'][0x1ca0+0xad0+-0x2770]=this['data'][-0x11d1+-0x2147*0x1+0x198e*0x2]=this['data'][-0x5*-0x727+-0x14*-0xc5+-0x331f]=0x2*-0xe75+0x1ba4+0x147;}['clone'](){const _0x4ebaed=this['constructo'+'r'];return new _0x4ebaed()['copy'](this);}['copy'](_0x4ab7b8){const _0x4ee236=_0x4ab7b8['data'],_0x589ac4=this['data'];return _0x589ac4[0x233e*-0x1+0x25c2+-0x1*0x284]=_0x4ee236[-0x62d+-0x10a3*0x2+0x2773],_0x589ac4[0x43*-0x67+-0x233*0x1+0x1*0x1d29]=_0x4ee236[0x2*-0x1af+0x79f*0x1+-0x1*0x440],_0x589ac4[0x17d0+0x11fc+0xdee*-0x3]=_0x4ee236[-0x2291+-0x7c9+0x1*0x2a5c],_0x589ac4[-0x268+-0x15ae+-0x1f*-0xc7]=_0x4ee236[-0x4*-0x3a5+-0x14f9+0x52*0x14],_0x589ac4[0x1947+0x3*0x9e+-0x277*0xb]=_0x4ee236[-0x1*-0x5eb+-0x1f86+0x199f],_0x589ac4[-0x11*0x177+0x611*0x2+0xcca]=_0x4ee236[-0x61e+-0x1466+0x1a89],_0x589ac4[-0x657*-0x4+0x1d96+-0x36ec]=_0x4ee236[0x2282*-0x1+0xc67+0x1621],_0x589ac4[0x3*0x175+0x53*-0x53+0x35*0x6d]=_0x4ee236[0x1c61+0x17b2+-0x2*0x1a06],_0x589ac4[0x727*-0x1+0x8*-0x9e+0xc1f]=_0x4ee236[0x180f+0xb8*0x19+-0x29ff],this;}['set'](_0x325ae3){const _0x13fdc8=this['data'];return _0x13fdc8[0x10eb*-0x1+-0x18a5+-0xa64*-0x4]=_0x325ae3[-0x35a+-0x2*-0x87f+0x24*-0x61],_0x13fdc8[0xa7b+-0x4*0x4d6+0x8de]=_0x325ae3[-0x1df0+0x1915*0x1+-0x26e*-0x2],_0x13fdc8[-0x14ff+0x14e9+0x18]=_0x325ae3[-0x872+-0x5c*0x1+0x10*0x8d],_0x13fdc8[0x21*-0xe9+-0x4f3+-0x11*-0x20f]=_0x325ae3[0x13*0xab+-0x193+-0xb1b],_0x13fdc8[0x1*-0x1de4+0x5c4*-0x3+0x2f34]=_0x325ae3[-0x27*-0x83+-0x2*0xb3+-0x2f*0x65],_0x13fdc8[0x1dea*0x1+0x375*-0x1+-0xbc*0x24]=_0x325ae3[-0x222e+0x13c5+0xe6e],_0x13fdc8[0x21f6+-0x1375+-0xe7b]=_0x325ae3[-0x1dde+0x6*0x4a9+-0x1ee*-0x1],_0x13fdc8[-0x1286+0xa9*-0x28+0x2cf5]=_0x325ae3[-0xb5*-0x1f+-0x29*0x17+0x1235*-0x1],_0x13fdc8[0x257*-0x1+-0x170*-0x1+0xef]=_0x325ae3[-0x18d2+0x2*0x32b+0x1284],this;}['getX'](_0x1fb5e9=new D()){return _0x1fb5e9['set'](this['data'][-0x8*0x424+-0x53*0x27+0x2dc5],this['data'][0x1*0xf53+-0x73+0x1a7*-0x9],this['data'][0x7ed+0x1*0x1b9f+-0x238a]);}['getY'](_0x8d5552=new D()){return _0x8d5552['set'](this['data'][-0x232*-0x1+0x3af*0x6+-0x1849],this['data'][0x2610+0xd51*0x1+-0x335d],this['data'][0xf21+-0x3da+-0xb42]);}['getZ'](_0x17485d=new D()){return _0x17485d['set'](this['data'][0xa82*0x3+-0x6b4+-0x18cc],this['data'][-0xdb7*-0x1+-0x24d9+-0x1*-0x1729],this['data'][-0x1335+-0x1*-0x2eb+-0x2*-0x829]);}['equals'](_0x269222){const _0x454da4=this['data'],_0x42be9e=_0x269222['data'];return _0x454da4[0x200d+0x1bb6+-0x3bc3]===_0x42be9e[0x215f*0x1+-0x14e*0x13+-0x895]&&_0x454da4[0x5*-0x2ed+-0xfb4+0x1e56]===_0x42be9e[-0xad*0x5+-0xf*0x67+0x96b]&&_0x454da4[-0x4ea+0xcbc+-0x7d0]===_0x42be9e[-0x9*-0x443+-0x19*-0x17b+0x2*-0x25ae]&&_0x454da4[0x1db0+0x1c75+-0x84e*0x7]===_0x42be9e[0x24cf+0x1b47*0x1+-0x4013*0x1]&&_0x454da4[-0x47*-0x83+-0x2165+-0xb*0x44]===_0x42be9e[0x1*-0x1223+0x6b*-0x5b+0x3830]&&_0x454da4[-0x172+-0x1*0x2681+-0x1*-0x27f8]===_0x42be9e[0x89f*-0x3+0x18fb*-0x1+0x32dd]&&_0x454da4[-0xb2+-0x1024*-0x2+-0xa*0x328]===_0x42be9e[0x156f+-0x24bd+0xf54]&&_0x454da4[-0xf3*0xe+-0x1*-0x16a9+-0x958]===_0x42be9e[-0xbde+0x136d+-0x788]&&_0x454da4[-0x4*-0x946+-0x27a+0x26*-0xe9]===_0x42be9e[-0x907+0x37f*-0x7+0x2188];}['isIdentity'](){const _0x119a5d=this['data'];return _0x119a5d[0x1abe+0x2681*-0x1+-0x1*-0xbc3]===0x1*0x739+0x1*-0x2201+-0x1*-0x1ac9&&_0x119a5d[-0x8d2*0x1+-0xf5b+0x182e]===-0xc5*0x19+-0xc0a+0x1f47&&_0x119a5d[0x21c2+-0xa89+0x11b*-0x15]===-0x248f+0x921+-0x1*-0x1b6e&&_0x119a5d[0xe66*-0x2+0x162b+0x6a4]===-0x1f2a+-0x6*0x335+0x3268&&_0x119a5d[0x25*0x4a+-0x3a1+-0x70d]===0x1885+-0x1b03+0x27f&&_0x119a5d[-0x167*0x5+-0x25aa*-0x1+-0x1ea2]===0xfa2+0x7fc+-0xbcf*0x2&&_0x119a5d[0x7f0*0x4+-0x9c8+-0x15f2]===-0xc5*-0x32+-0x115a+-0x1520&&_0x119a5d[-0xab*-0x2f+-0x14d1+-0xa8d]===0x1c4e+0x2688+-0x1d*0x24e&&_0x119a5d[-0x84e+0x559+0x2fd]===0x24b6+-0x1b*-0x14d+-0x47d4;}['setIdentit'+'y'](){const _0x2ed706=this['data'];return _0x2ed706[-0x69d+0x27*-0xca+-0x2563*-0x1]=-0xa5+-0x92b*-0x1+-0x885,_0x2ed706[0x6f6+-0xae4+-0x35*-0x13]=-0x3e*0x99+-0x34*-0xc+0x229e,_0x2ed706[-0x1d9f+0x24b5+-0x714]=-0x14a9+0x1a82+0x5d9*-0x1,_0x2ed706[-0x9a9*-0x1+-0x1*-0x1b2f+-0x7*0x543]=-0x1*-0x263+0x3a9+0x306*-0x2,_0x2ed706[-0x2e6*-0x1+0x88*-0x26+0x114e]=0xa9*-0x2f+-0x1*0x87e+0x2786,_0x2ed706[-0x55e+0x1a9*0x17+-0x20cc]=-0x2*0x371+0x2da+0x408,_0x2ed706[-0x1*0x1c0a+0x4*0x5df+0x494]=0x20f4+-0x24f7+-0xd*-0x4f,_0x2ed706[0x102+-0xa61*0x3+0x1e28]=-0x19ae+-0x12a*-0x20+-0x5c9*0x2,_0x2ed706[-0x19*0x14b+0x209+0x1e52]=-0x158a*0x1+-0x236*-0x7+0x611,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x3be6d6=this){const _0x230af8=_0x3be6d6['data'],_0x25fda3=this['data'];if(_0x230af8===_0x25fda3){let _0x5bd571;_0x5bd571=_0x230af8[-0x1*-0x642+0x16c5+-0x1d06],_0x25fda3[0x1613*0x1+0x24b*-0x1+-0x13c7]=_0x230af8[-0x15d3+-0x2668+0x3c3e],_0x25fda3[-0x47a*-0x6+-0xf97*-0x1+-0x7*0x610]=_0x5bd571,_0x5bd571=_0x230af8[0x599*0x5+0x1a4a+-0x1*0x3645],_0x25fda3[-0x2226+0xbb7*-0x1+0x2ddf]=_0x230af8[0x1cc7*0x1+-0x59e*-0x6+-0x3e75],_0x25fda3[0x185+-0x500+0x381]=_0x5bd571,_0x5bd571=_0x230af8[-0x2179+0x3d*-0x94+0x44c2],_0x25fda3[0x15b*0x1+0xd29*0x1+-0xe7f]=_0x230af8[-0x1b9*0x15+-0xb57*0x1+0x2f8b],_0x25fda3[0x1*-0x204d+-0x1edd+-0x1*-0x3f31]=_0x5bd571;}else _0x25fda3[-0xc3e+-0x5f4+0x919*0x2]=_0x230af8[-0x22fb+-0x1*-0x7bf+0x1b3c],_0x25fda3[0x262c+-0x2*0x6c5+-0x18a1]=_0x230af8[-0x11bf+0x215f+-0xf9d],_0x25fda3[-0xfeb+0xa2e*-0x3+0x2e77]=_0x230af8[0x1a88+-0xcb*0x1a+-0x5e4],_0x25fda3[0x15f3+-0x4*0x82c+0x2*0x560]=_0x230af8[0x5*0x665+0x2467*-0x1+0x46f*0x1],_0x25fda3[0x665*-0x2+-0x4*0x3a9+0x1b72]=_0x230af8[0xff9*0x2+-0xdce*-0x2+-0x1dc5*0x2],_0x25fda3[0xa3*-0x25+-0xbd4+0x2c*0xce]=_0x230af8[0x1106+-0xf*0x1bb+0x25*0x3e],_0x25fda3[0x1a7d+-0x26f9+-0xc82*-0x1]=_0x230af8[0x3*0xb1+-0x1e*-0x61+-0xd6f],_0x25fda3[0x43*-0x7d+-0x14f*-0x11+-0x1*-0xa7f]=_0x230af8[-0x1d96+0x1889+0x512],_0x25fda3[-0xcfb*0x3+0x31*0x18+-0x2261*-0x1]=_0x230af8[0x1602+0x1132+-0x5c*0x6d];return this;}['setFromMat'+'4'](_0x158804){const _0x30d20e=_0x158804['data'],_0x3f65f7=this['data'];return _0x3f65f7[0x1*0x187c+-0x4ad+0x1*-0x13cf]=_0x30d20e[-0x241d+-0x54*0x2a+0x31e5],_0x3f65f7[-0x13bb*-0x1+0x2653*-0x1+0x17*0xcf]=_0x30d20e[-0x169a+0x255*0x1+0x1446],_0x3f65f7[0x1279*-0x1+-0x4*-0x6d3+-0x1*0x8d1]=_0x30d20e[0xae*0x26+0x35*-0x8b+0x1*0x2f5],_0x3f65f7[0x1a*0xc3+0xc5b*-0x3+0x1146]=_0x30d20e[-0x218d+0xe87+0x130a],_0x3f65f7[-0x16*0x7f+0x2663*-0x1+-0x5*-0x9dd]=_0x30d20e[0x24c7+-0x12ca+-0x11f8],_0x3f65f7[0x8c9*0x1+-0x686+-0x23e]=_0x30d20e[0x7*0x1a1+-0xeb7*0x2+0x120d],_0x3f65f7[-0x1*-0xb52+0x1233*-0x1+-0x13*-0x5d]=_0x30d20e[0x231d*0x1+0xc7*-0x21+-0x2*0x4b7],_0x3f65f7[0x2261*-0x1+-0xd*-0x239+0x583]=_0x30d20e[0x4a*-0x61+0x886+0x7*0x2cb],_0x3f65f7[-0x97a*-0x2+0xcd8+0x4c*-0x6b]=_0x30d20e[-0x2*0x449+-0x1c2b+-0x10d*-0x23],this;}['setFromQua'+'t'](_0x442355){const _0x484db1=_0x442355['x'],_0x5bc5c0=_0x442355['y'],_0x438856=_0x442355['z'],_0x25c814=_0x442355['w'],_0x1e9fcc=_0x484db1+_0x484db1,_0x152084=_0x5bc5c0+_0x5bc5c0,_0x4b8b7e=_0x438856+_0x438856,_0x5d410c=_0x484db1*_0x1e9fcc,_0x1a8290=_0x484db1*_0x152084,_0x42bb68=_0x484db1*_0x4b8b7e,_0x51a7d9=_0x5bc5c0*_0x152084,_0x17a3c5=_0x5bc5c0*_0x4b8b7e,_0x1e041d=_0x438856*_0x4b8b7e,_0x262a6f=_0x25c814*_0x1e9fcc,_0x51773e=_0x25c814*_0x152084,_0x35e637=_0x25c814*_0x4b8b7e,_0x2481fe=this['data'];return _0x2481fe[-0x6b7+-0x1355+0x2*0xd06]=-0x15e4+-0x34*-0x95+-0x85f*0x1-(_0x51a7d9+_0x1e041d),_0x2481fe[0x24c3+-0x4f9+-0x1fc9]=_0x1a8290+_0x35e637,_0x2481fe[-0x1*0x15ed+-0x2*0xf90+0x350f]=_0x42bb68-_0x51773e,_0x2481fe[0x25bb+-0xed1+-0x16e7]=_0x1a8290-_0x35e637,_0x2481fe[0x23ad*0x1+0x1a94+0x8d*-0x71]=-0xc31*0x3+-0x3*0xcaa+-0x2e*-0x19f-(_0x5d410c+_0x1e041d),_0x2481fe[-0x802+0x5bf*-0x4+-0x1d3*-0x11]=_0x17a3c5+_0x262a6f,_0x2481fe[0x4*-0x5e7+-0x1*0x1bce+0x3370]=_0x42bb68+_0x51773e,_0x2481fe[0x5d6*-0x1+0x223d+0x10*-0x1c6]=_0x17a3c5-_0x262a6f,_0x2481fe[-0x159d+0x16b6+0x7*-0x27]=-0x17fe+0x2*-0xb5a+0x2eb3-(_0x5d410c+_0x51a7d9),this;}['invertMat4'](_0x340144){const _0x2bfbe6=_0x340144['data'],_0xbc7d59=_0x2bfbe6[-0x2f*-0x61+-0x2278+0x1*0x10a9],_0x1eb954=_0x2bfbe6[0xff5+0xddd+-0x1dd1],_0x4fcd88=_0x2bfbe6[-0x2*0x50b+-0x2409+0x7*0x697],_0x5921a2=_0x2bfbe6[-0x5a4+-0x10c4+0x59b*0x4],_0x382b2a=_0x2bfbe6[-0x21cb+0x1273+0xf5d],_0x2fdfed=_0x2bfbe6[0x1041*-0x2+-0x24ce+0x4556],_0x335454=_0x2bfbe6[-0x7*-0x4d2+0x26dd*0x1+-0x4893],_0x57052e=_0x2bfbe6[-0x37c*-0x5+0x1a52+-0x2bb5],_0x3345ce=_0x2bfbe6[0xbd9+-0x1e72+-0x16f*-0xd],_0x398b99=_0x3345ce*_0x382b2a-_0x2fdfed*_0x57052e,_0x3e97ef=-_0x3345ce*_0x1eb954+_0x4fcd88*_0x57052e,_0x524131=_0x2fdfed*_0x1eb954-_0x4fcd88*_0x382b2a,_0x178888=-_0x3345ce*_0x5921a2+_0x2fdfed*_0x335454,_0x588c2a=_0x3345ce*_0xbc7d59-_0x4fcd88*_0x335454,_0x55849c=-_0x2fdfed*_0xbc7d59+_0x4fcd88*_0x5921a2,_0x28858c=_0x57052e*_0x5921a2-_0x382b2a*_0x335454,_0x117e4d=-_0x57052e*_0xbc7d59+_0x1eb954*_0x335454,_0x23de18=_0x382b2a*_0xbc7d59-_0x1eb954*_0x5921a2,_0x24d118=_0xbc7d59*_0x398b99+_0x1eb954*_0x178888+_0x4fcd88*_0x28858c;if(_0x24d118===-0x1*-0x1dc5+-0x521+-0x1*0x18a4)this['setIdentit'+'y']();else{const _0x5d74d6=(0x1*-0xd31+-0x1*-0x22d3+-0x1*0x15a1)/_0x24d118,_0x4c3c48=this['data'];_0x4c3c48[0x2668+-0x117f*-0x1+0x1*-0x37e7]=_0x398b99*_0x5d74d6,_0x4c3c48[0x1*-0xaff+0x597+-0x115*-0x5]=_0x3e97ef*_0x5d74d6,_0x4c3c48[0x4e*-0xf+0x4b4*-0x1+0x948]=_0x524131*_0x5d74d6,_0x4c3c48[0x1872+0x1*0x1af9+-0x46*0xbc]=_0x178888*_0x5d74d6,_0x4c3c48[-0x63*0x49+0x7ec*-0x2+0x2c17]=_0x588c2a*_0x5d74d6,_0x4c3c48[0x1*0x2485+-0x162d+-0x1*0xe53]=_0x55849c*_0x5d74d6,_0x4c3c48[0x1dfb+0x3*-0x3c4+0x12a9*-0x1]=_0x28858c*_0x5d74d6,_0x4c3c48[0x14e8+0x2368*-0x1+0xe87]=_0x117e4d*_0x5d74d6,_0x4c3c48[-0x5*-0xf7+0x2051+0x17c*-0x19]=_0x23de18*_0x5d74d6;}return this;}['transformV'+'ector'](_0x30623d,_0x472682=new D()){const _0x4c0acd=this['data'],{x:_0x38b08a,y:_0x4adc3d,z:_0x34e52e}=_0x30623d;return _0x472682['x']=_0x38b08a*_0x4c0acd[0xeef*0x2+-0x4ba+-0x2*0xc92]+_0x4adc3d*_0x4c0acd[0x26dd*-0x1+-0x1*0x8ce+-0x167*-0x22]+_0x34e52e*_0x4c0acd[-0x5d+-0x14b1*0x1+0x545*0x4],_0x472682['y']=_0x38b08a*_0x4c0acd[0x2*-0x12a2+0x223c+0x309]+_0x4adc3d*_0x4c0acd[0xa36+-0xd87+-0x1*-0x355]+_0x34e52e*_0x4c0acd[0x37b+0x1*0x11a1+-0x1515],_0x472682['z']=_0x38b08a*_0x4c0acd[0x13be+0x1*-0x186d+0x1*0x4b1]+_0x4adc3d*_0x4c0acd[-0xd90+0x1357*0x1+-0x5c2]+_0x34e52e*_0x4c0acd[0xc*0x27a+-0x2*-0xdc7+-0x393e],_0x472682;}};h(gn,'IDENTITY',Object['freeze'](new gn())),h(gn,'ZERO',Object['freeze'](new gn()['set']([0x198a+0x1e76+-0x3800,-0x234d*-0x1+-0x2203+-0x14a,-0x113b+0x3*0xc29+-0x1340*0x1,0x97*-0x37+-0x2*0xecc+0x3e09,0x1*0xb03+0x24b5+-0x2fb8,0x175*-0x1+0x86*0x3b+-0x51*0x5d,0x1*0x8c3+0x2669+-0x2f2c,0x24a8+0x2f*-0x12+-0x215a,0xda9*0x1+0x264e+0x35*-0xfb])));let _i=gn;const Gt=class Gt{constructor(_0x5cebdd=-0x11d*-0x5+0x9c*0x2b+-0x1fc5*0x1,_0x2c29fb=0x1*0x11b4+0x118d+-0x2341){h(this,'x'),h(this,'y'),_0x5cebdd['length']===-0x8b*-0x30+-0x1950+-0x1*0xbe?(this['x']=_0x5cebdd[0x467+-0x2*0x398+0x2c9],this['y']=_0x5cebdd[0x19b0+-0x1*0x21bb+0x80c]):(this['x']=_0x5cebdd,this['y']=_0x2c29fb);}['add'](_0xf53aed){return this['x']+=_0xf53aed['x'],this['y']+=_0xf53aed['y'],this;}['add2'](_0x2b736b,_0xe21ffd){return this['x']=_0x2b736b['x']+_0xe21ffd['x'],this['y']=_0x2b736b['y']+_0xe21ffd['y'],this;}['addScalar'](_0x361d39){return this['x']+=_0x361d39,this['y']+=_0x361d39,this;}['addScaled'](_0x3bdf7c,_0x49b488){return this['x']+=_0x3bdf7c['x']*_0x49b488,this['y']+=_0x3bdf7c['y']*_0x49b488,this;}['clone'](){const _0x3941c6=this['constructo'+'r'];return new _0x3941c6(this['x'],this['y']);}['copy'](_0xad918){return this['x']=_0xad918['x'],this['y']=_0xad918['y'],this;}['cross'](_0x1d3f59){return this['x']*_0x1d3f59['y']-this['y']*_0x1d3f59['x'];}['distance'](_0x3843b1){const _0x4799a4=this['x']-_0x3843b1['x'],_0x5eb3ed=this['y']-_0x3843b1['y'];return Math['sqrt'](_0x4799a4*_0x4799a4+_0x5eb3ed*_0x5eb3ed);}['div'](_0x1de9ac){return this['x']/=_0x1de9ac['x'],this['y']/=_0x1de9ac['y'],this;}['div2'](_0xeab2b9,_0x2e87a3){return this['x']=_0xeab2b9['x']/_0x2e87a3['x'],this['y']=_0xeab2b9['y']/_0x2e87a3['y'],this;}['divScalar'](_0x5a9af8){return this['x']/=_0x5a9af8,this['y']/=_0x5a9af8,this;}['dot'](_0x14d99c){return this['x']*_0x14d99c['x']+this['y']*_0x14d99c['y'];}['equals'](_0x1a4349){return this['x']===_0x1a4349['x']&&this['y']===_0x1a4349['y'];}['equalsAppr'+'ox'](_0xa545f5,_0x51180a=-0x5*-0x38a+0x150b*-0x1+0x1*0x359+0.000001){return Math['abs'](this['x']-_0xa545f5['x'])<_0x51180a&&Math['abs'](this['y']-_0xa545f5['y'])<_0x51180a;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x3e34fd,_0x5c4a1d,_0x57c229){return this['x']=_0x3e34fd['x']+_0x57c229*(_0x5c4a1d['x']-_0x3e34fd['x']),this['y']=_0x3e34fd['y']+_0x57c229*(_0x5c4a1d['y']-_0x3e34fd['y']),this;}['mul'](_0x4ca6bc){return this['x']*=_0x4ca6bc['x'],this['y']*=_0x4ca6bc['y'],this;}['mul2'](_0x114ea9,_0x45bf5a){return this['x']=_0x114ea9['x']*_0x45bf5a['x'],this['y']=_0x114ea9['y']*_0x45bf5a['y'],this;}['mulScalar'](_0x125cdb){return this['x']*=_0x125cdb,this['y']*=_0x125cdb,this;}['normalize'](_0x2cb206=this){const _0x161349=_0x2cb206['x']*_0x2cb206['x']+_0x2cb206['y']*_0x2cb206['y'];if(_0x161349>0x3a*-0x41+-0x136+-0xcc*-0x14){const _0x379905=(0xcf2+-0x1f68+-0x1*-0x1277)/Math['sqrt'](_0x161349);this['x']=_0x2cb206['x']*_0x379905,this['y']=_0x2cb206['y']*_0x379905;}return this;}['rotate'](_0x3d7c7f){const _0x4ca3dd=Math['atan2'](this['x'],this['y'])+_0x3d7c7f*Y['DEG_TO_RAD'],_0x37f1d3=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x4ca3dd)*_0x37f1d3,this['y']=Math['cos'](_0x4ca3dd)*_0x37f1d3,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*Y['RAD_TO_DEG'];}['angleTo'](_0x1536e4){return Math['atan2'](this['x']*_0x1536e4['y']+this['y']*_0x1536e4['x'],this['x']*_0x1536e4['x']+this['y']*_0x1536e4['y'])*Y['RAD_TO_DEG'];}['floor'](_0x441119=this){return this['x']=Math['floor'](_0x441119['x']),this['y']=Math['floor'](_0x441119['y']),this;}['ceil'](_0x4826af=this){return this['x']=Math['ceil'](_0x4826af['x']),this['y']=Math['ceil'](_0x4826af['y']),this;}['round'](_0x21eb22=this){return this['x']=Math['round'](_0x21eb22['x']),this['y']=Math['round'](_0x21eb22['y']),this;}['min'](_0x46d869){return _0x46d869['x']<this['x']&&(this['x']=_0x46d869['x']),_0x46d869['y']<this['y']&&(this['y']=_0x46d869['y']),this;}['max'](_0x3af42e){return _0x3af42e['x']>this['x']&&(this['x']=_0x3af42e['x']),_0x3af42e['y']>this['y']&&(this['y']=_0x3af42e['y']),this;}['set'](_0x5c3b2d,_0x25bfcd){return this['x']=_0x5c3b2d,this['y']=_0x25bfcd,this;}['sub'](_0x31e45b){return this['x']-=_0x31e45b['x'],this['y']-=_0x31e45b['y'],this;}['sub2'](_0x3cf24d,_0x1d6bca){return this['x']=_0x3cf24d['x']-_0x1d6bca['x'],this['y']=_0x3cf24d['y']-_0x1d6bca['y'],this;}['subScalar'](_0x42fbb1){return this['x']-=_0x42fbb1,this['y']-=_0x42fbb1,this;}['fromArray'](_0x35f912,_0x19370f=-0x13a6+-0x1fe1+-0x112d*-0x3){return this['x']=_0x35f912[_0x19370f]??this['x'],this['y']=_0x35f912[_0x19370f+(-0x1*0x1ab5+-0xab0+-0x2*-0x12b3)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x1aed26=[],_0x2be1f6=-0x200c+-0x1f3*0x9+0x3197){return _0x1aed26[_0x2be1f6]=this['x'],_0x1aed26[_0x2be1f6+(-0x2074+0x21f0+0x1*-0x17b)]=this['y'],_0x1aed26;}static['angleRad'](_0x431b82,_0x545a84){return Math['atan2'](_0x431b82['x']*_0x545a84['y']-_0x431b82['y']*_0x545a84['x'],_0x431b82['x']*_0x545a84['x']+_0x431b82['y']*_0x545a84['y']);}};h(Gt,'ZERO',Object['freeze'](new Gt(0x1983*-0x1+0xf4f*0x1+0xa34,0x54+0x18b*0xa+0x1*-0xfc2))),h(Gt,'HALF',Object['freeze'](new Gt(0x49*-0x17+-0x25a2+0xebb*0x3+0.5,-0x1536+0x19b*0x1+-0x3*-0x689+0.5))),h(Gt,'ONE',Object['freeze'](new Gt(-0x111a*-0x1+0x1*0x1e9a+-0x1*0x2fb3,0x11*-0x15d+0xdf2+0x93c))),h(Gt,'UP',Object['freeze'](new Gt(0x7e5*-0x1+0xb65+-0x380,-0x1*-0x1e2+0xf7+-0x2d8))),h(Gt,'DOWN',Object['freeze'](new Gt(0x1a1e+-0x10e0+-0x93e,-(0x1764+0x935*-0x1+-0xe2e)))),h(Gt,'RIGHT',Object['freeze'](new Gt(-0x2*-0xe09+-0x8ae*0x4+0x6a7,0xd*-0x1ff+0xd6c+0xc87))),h(Gt,'LEFT',Object['freeze'](new Gt(-(0x1*0x2035+-0x6d*0x1d+-0x11*0x12b),0x221d*0x1+-0x556+-0x1*0x1cc7)));let J=Gt;const pr=class pr{constructor(_0x30fa75=0xddb+0x4*0x2a2+-0x1863,_0x4a1c8b=0x7*-0x15a+-0x751+0x10c7,_0x38ef53=-0x2*-0x4a+-0x256a+0xe6*0x29,_0x1f2fbf=-0x1b06+0x1c3e+-0x138){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x30fa75['length']===-0x1*0x1c55+-0x1*-0x270d+0x1*-0xab4?(this['x']=_0x30fa75[-0x1*-0x110c+-0x2193+0x1087],this['y']=_0x30fa75[-0x17*0x188+0xb86+0x17b3],this['z']=_0x30fa75[-0x1fb6+-0x3c4*-0x4+0x10a8],this['w']=_0x30fa75[-0x67+-0x2275*-0x1+-0x6cf*0x5]):(this['x']=_0x30fa75,this['y']=_0x4a1c8b,this['z']=_0x38ef53,this['w']=_0x1f2fbf);}['add'](_0x123186){return this['x']+=_0x123186['x'],this['y']+=_0x123186['y'],this['z']+=_0x123186['z'],this['w']+=_0x123186['w'],this;}['add2'](_0x1a7237,_0x49bc69){return this['x']=_0x1a7237['x']+_0x49bc69['x'],this['y']=_0x1a7237['y']+_0x49bc69['y'],this['z']=_0x1a7237['z']+_0x49bc69['z'],this['w']=_0x1a7237['w']+_0x49bc69['w'],this;}['addScalar'](_0x5e265b){return this['x']+=_0x5e265b,this['y']+=_0x5e265b,this['z']+=_0x5e265b,this['w']+=_0x5e265b,this;}['addScaled'](_0x58f469,_0x2752ad){return this['x']+=_0x58f469['x']*_0x2752ad,this['y']+=_0x58f469['y']*_0x2752ad,this['z']+=_0x58f469['z']*_0x2752ad,this['w']+=_0x58f469['w']*_0x2752ad,this;}['clone'](){const _0x5c3979=this['constructo'+'r'];return new _0x5c3979(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x434b6e){return this['x']=_0x434b6e['x'],this['y']=_0x434b6e['y'],this['z']=_0x434b6e['z'],this['w']=_0x434b6e['w'],this;}['div'](_0x39ce3d){return this['x']/=_0x39ce3d['x'],this['y']/=_0x39ce3d['y'],this['z']/=_0x39ce3d['z'],this['w']/=_0x39ce3d['w'],this;}['div2'](_0x3e64db,_0x4e3ff7){return this['x']=_0x3e64db['x']/_0x4e3ff7['x'],this['y']=_0x3e64db['y']/_0x4e3ff7['y'],this['z']=_0x3e64db['z']/_0x4e3ff7['z'],this['w']=_0x3e64db['w']/_0x4e3ff7['w'],this;}['divScalar'](_0x4d4b2a){return this['x']/=_0x4d4b2a,this['y']/=_0x4d4b2a,this['z']/=_0x4d4b2a,this['w']/=_0x4d4b2a,this;}['dot'](_0x5da96d){return this['x']*_0x5da96d['x']+this['y']*_0x5da96d['y']+this['z']*_0x5da96d['z']+this['w']*_0x5da96d['w'];}['equals'](_0x7a6ed9){return this['x']===_0x7a6ed9['x']&&this['y']===_0x7a6ed9['y']&&this['z']===_0x7a6ed9['z']&&this['w']===_0x7a6ed9['w'];}['equalsAppr'+'ox'](_0x183d38,_0x24d6ea=-0x8*-0x394+-0x997+0x1bb*-0xb+0.000001){return Math['abs'](this['x']-_0x183d38['x'])<_0x24d6ea&&Math['abs'](this['y']-_0x183d38['y'])<_0x24d6ea&&Math['abs'](this['z']-_0x183d38['z'])<_0x24d6ea&&Math['abs'](this['w']-_0x183d38['w'])<_0x24d6ea;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0xff1f06,_0x547cc4,_0xd47218){return this['x']=_0xff1f06['x']+_0xd47218*(_0x547cc4['x']-_0xff1f06['x']),this['y']=_0xff1f06['y']+_0xd47218*(_0x547cc4['y']-_0xff1f06['y']),this['z']=_0xff1f06['z']+_0xd47218*(_0x547cc4['z']-_0xff1f06['z']),this['w']=_0xff1f06['w']+_0xd47218*(_0x547cc4['w']-_0xff1f06['w']),this;}['mul'](_0xe50c27){return this['x']*=_0xe50c27['x'],this['y']*=_0xe50c27['y'],this['z']*=_0xe50c27['z'],this['w']*=_0xe50c27['w'],this;}['mul2'](_0x440e92,_0x252726){return this['x']=_0x440e92['x']*_0x252726['x'],this['y']=_0x440e92['y']*_0x252726['y'],this['z']=_0x440e92['z']*_0x252726['z'],this['w']=_0x440e92['w']*_0x252726['w'],this;}['mulScalar'](_0x149d44){return this['x']*=_0x149d44,this['y']*=_0x149d44,this['z']*=_0x149d44,this['w']*=_0x149d44,this;}['normalize'](_0x289191=this){const _0x51d67b=_0x289191['x']*_0x289191['x']+_0x289191['y']*_0x289191['y']+_0x289191['z']*_0x289191['z']+_0x289191['w']*_0x289191['w'];if(_0x51d67b>0x2b*0x58+0x1*0x1dff+-0x2cc7){const _0x1e3927=(0x931*-0x4+-0x31*-0x9d+0x6b8)/Math['sqrt'](_0x51d67b);this['x']=_0x289191['x']*_0x1e3927,this['y']=_0x289191['y']*_0x1e3927,this['z']=_0x289191['z']*_0x1e3927,this['w']=_0x289191['w']*_0x1e3927;}return this;}['floor'](_0x472c7a=this){return this['x']=Math['floor'](_0x472c7a['x']),this['y']=Math['floor'](_0x472c7a['y']),this['z']=Math['floor'](_0x472c7a['z']),this['w']=Math['floor'](_0x472c7a['w']),this;}['ceil'](_0x10238e=this){return this['x']=Math['ceil'](_0x10238e['x']),this['y']=Math['ceil'](_0x10238e['y']),this['z']=Math['ceil'](_0x10238e['z']),this['w']=Math['ceil'](_0x10238e['w']),this;}['round'](_0x30c5b5=this){return this['x']=Math['round'](_0x30c5b5['x']),this['y']=Math['round'](_0x30c5b5['y']),this['z']=Math['round'](_0x30c5b5['z']),this['w']=Math['round'](_0x30c5b5['w']),this;}['min'](_0x490f47){return _0x490f47['x']<this['x']&&(this['x']=_0x490f47['x']),_0x490f47['y']<this['y']&&(this['y']=_0x490f47['y']),_0x490f47['z']<this['z']&&(this['z']=_0x490f47['z']),_0x490f47['w']<this['w']&&(this['w']=_0x490f47['w']),this;}['max'](_0x53bf43){return _0x53bf43['x']>this['x']&&(this['x']=_0x53bf43['x']),_0x53bf43['y']>this['y']&&(this['y']=_0x53bf43['y']),_0x53bf43['z']>this['z']&&(this['z']=_0x53bf43['z']),_0x53bf43['w']>this['w']&&(this['w']=_0x53bf43['w']),this;}['set'](_0x1ca1f6,_0x3c790c,_0x202691,_0x165bb5){return this['x']=_0x1ca1f6,this['y']=_0x3c790c,this['z']=_0x202691,this['w']=_0x165bb5,this;}['sub'](_0x497b71){return this['x']-=_0x497b71['x'],this['y']-=_0x497b71['y'],this['z']-=_0x497b71['z'],this['w']-=_0x497b71['w'],this;}['sub2'](_0x55ffcf,_0x30034d){return this['x']=_0x55ffcf['x']-_0x30034d['x'],this['y']=_0x55ffcf['y']-_0x30034d['y'],this['z']=_0x55ffcf['z']-_0x30034d['z'],this['w']=_0x55ffcf['w']-_0x30034d['w'],this;}['subScalar'](_0x55529a){return this['x']-=_0x55529a,this['y']-=_0x55529a,this['z']-=_0x55529a,this['w']-=_0x55529a,this;}['fromArray'](_0x5560fa,_0x52a4c0=0x1ea6+0x2314+-0x41ba){return this['x']=_0x5560fa[_0x52a4c0]??this['x'],this['y']=_0x5560fa[_0x52a4c0+(-0x2287*-0x1+-0x5c*-0x2a+-0x92*0x57)]??this['y'],this['z']=_0x5560fa[_0x52a4c0+(-0x1b3b+0x1ac8+0x3*0x27)]??this['z'],this['w']=_0x5560fa[_0x52a4c0+(0x181a+-0x29*0x92+0xb5*-0x1)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x4d8206=[],_0x1f7a18=0x176f+0x1334+0x25*-0x127){return _0x4d8206[_0x1f7a18]=this['x'],_0x4d8206[_0x1f7a18+(0x679+0xfd0+-0x2*0xb24)]=this['y'],_0x4d8206[_0x1f7a18+(0xa6+0x39b*0x6+0xb23*-0x2)]=this['z'],_0x4d8206[_0x1f7a18+(-0x1a54*-0x1+0x198f+-0x33e0)]=this['w'],_0x4d8206;}};h(pr,'ZERO',Object['freeze'](new pr(0x2*0xd09+-0x1*0x9cf+-0x1043*0x1,-0x4ed*-0x4+0x1*-0x1e95+0x22d*0x5,-0x208d*-0x1+0xa8a*0x1+0x1*-0x2b17,0x15*0x1ce+0x1*-0x9cb+-0x1c1b*0x1))),h(pr,'HALF',Object['freeze'](new pr(0x17f*-0x16+0x1d*-0xd4+-0x15*-0x2b6+0.5,0x1981*0x1+0x1536+-0x2eb7+0.5,-0x201+-0xaff+0x8*0x1a0+0.5,0x1cc3*-0x1+0x908+0x13bb+0.5))),h(pr,'ONE',Object['freeze'](new pr(0x3e*0x24+0xa84*-0x1+0x1cd*0x1,0x3*-0x9f3+0x1c*-0x75+0x67*0x6a,-0x2b*0xe2+-0x107e+0x3675,0x6d*-0x3d+-0xa51+0x244b)));let re=pr;const to=new J(),Os=new D(),Js=new D(),ei=new D(),Hl=new D(),Qr=class Qr{constructor(){h(this,'data',new Float32Array(0x3*-0x9ad+0x17bb+0x55c)),this['data'][-0xde2+0x1bab+-0xdc9]=this['data'][0x2478+0x4af*-0x1+-0x1fc4*0x1]=this['data'][-0x7db+-0xaa*0x11+-0x132f*-0x1]=this['data'][0x42b*0x1+0xef9+-0x1315]=0x951+-0x16bf+0xd6f*0x1;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x41430c,_0x2c5b8d,_0x440f6c,_0x5e734f,_0x4808c0){_0x4808c0?(_0x41430c['x']=_0x5e734f*Math['tan'](_0x2c5b8d*Math['PI']/(0x4*0x298+0x4bc+0x2*-0x6da)),_0x41430c['y']=_0x41430c['x']/_0x440f6c):(_0x41430c['y']=_0x5e734f*Math['tan'](_0x2c5b8d*Math['PI']/(-0xa*-0x386+0xca*-0x18+-0x1*0xee4)),_0x41430c['x']=_0x41430c['y']*_0x440f6c);}['add2'](_0xe6f504,_0x3e7935){const _0x1521fd=_0xe6f504['data'],_0x1962e5=_0x3e7935['data'],_0x21979a=this['data'];return _0x21979a[-0x144b+-0x3*-0x21c+0xdf7]=_0x1521fd[-0x7d3*-0x1+-0x1c2a+0x1457]+_0x1962e5[-0x2dd+0x6*-0x534+-0x1*-0x2215],_0x21979a[0x14d7+0x2*0x925+0x139*-0x20]=_0x1521fd[-0x2b*0xa7+0x21a1+-0x593]+_0x1962e5[-0x61d*0x5+-0xa83+0x2915],_0x21979a[-0x1*0x126e+0xa7c+-0x1*-0x7f4]=_0x1521fd[-0xcd*0x1+-0x248a+0x2559]+_0x1962e5[-0x3*-0x511+0x641*-0x2+-0x2af],_0x21979a[0x26e2+0x898+-0x2f77]=_0x1521fd[-0x46a*-0x7+0x1*-0x214e+0x26b*0x1]+_0x1962e5[-0x1*-0x1b31+-0x1fe9+-0x7*-0xad],_0x21979a[0x1941+-0x153c+-0x401]=_0x1521fd[0x2184+-0x1e60+0x10*-0x32]+_0x1962e5[-0x8*0x12f+0x1cb*-0x1+0x1*0xb47],_0x21979a[-0x59a+0x5ef*-0x5+-0x11a5*-0x2]=_0x1521fd[-0x1343*-0x1+0xcf*-0xa+-0x1*0xb28]+_0x1962e5[-0x9db*0x3+0x432*0x3+0x1100],_0x21979a[-0x201a*-0x1+-0x659+-0x19bb]=_0x1521fd[0x10e5*-0x1+0x1*0x16d3+-0x5e8]+_0x1962e5[0x1*0x1cce+0x1*0x246b+-0x4133],_0x21979a[-0x23e1+-0x2351+-0x4739*-0x1]=_0x1521fd[-0x4ba+-0x676*-0x1+-0x1b5]+_0x1962e5[-0x1522+-0x1d0e+0x5*0xa0b],_0x21979a[0x44e+0x4*0x96b+-0x29f2]=_0x1521fd[-0x1722+0x1068+0x6c2*0x1]+_0x1962e5[0xac2+0x1f21*-0x1+0x1467],_0x21979a[-0xf77+-0x66*0x42+0x85c*0x5]=_0x1521fd[0x1d5c+-0x1ef+-0xdb2*0x2]+_0x1962e5[-0x373*0x5+-0x1*-0x8b7+0x3*0x2db],_0x21979a[0x11fa+-0x242a+-0x123a*-0x1]=_0x1521fd[-0xd*0x2+-0x1897*-0x1+-0x1873]+_0x1962e5[-0x10ec+0xb9f+-0x1*-0x557],_0x21979a[0x1*0x85d+-0xcc2+0x10*0x47]=_0x1521fd[-0x1c15+-0x1*0x19fc+0x361c]+_0x1962e5[-0x242a+0xcd9+0x175c],_0x21979a[-0x22e8+0x139*0xf+0x1*0x109d]=_0x1521fd[0x37f*-0xb+0x647*-0x4+0xcb9*0x5]+_0x1962e5[0x406+-0x2*-0x57+0x4a8*-0x1],_0x21979a[-0x15a2+0x1511+-0x1*-0x9e]=_0x1521fd[-0xad6+-0x3*0x751+0x20d6]+_0x1962e5[0x53a+0x1*0x7e1+-0xd0e],_0x21979a[-0x970*-0x2+0x72*-0x2c+-0x1*-0xc6]=_0x1521fd[0x23d8+-0x11d5+-0x11f5]+_0x1962e5[0x1*0x189+0x20*0x5c+-0xcfb],_0x21979a[-0x26c6+-0x1b85+-0x3*-0x161e]=_0x1521fd[-0x6d*0x1+-0x1*0x51b+-0x1b*-0x35]+_0x1962e5[-0x22f8+0x2529+-0x222],this;}['add'](_0xde5579){return this['add2'](this,_0xde5579);}['clone'](){const _0x48ae08=this['constructo'+'r'];return new _0x48ae08()['copy'](this);}['copy'](_0x58fce2){const _0x2d7155=_0x58fce2['data'],_0x1866a7=this['data'];return _0x1866a7[0x12d6+0x68f*-0x5+0xdf5]=_0x2d7155[0x9cd+-0x2538+0x1*0x1b6b],_0x1866a7[-0x49e+0xd49+-0x8aa*0x1]=_0x2d7155[-0x1*-0x2263+0x400+-0x2662],_0x1866a7[0x1*0x18a4+0x164*0x1b+-0x3e2e]=_0x2d7155[0xd5b+0xe*-0xc6+0xf*-0x2b],_0x1866a7[0xe4e+0x7b4+0x15ff*-0x1]=_0x2d7155[-0x119b+-0xd*-0xaf+-0x1*-0x8bb],_0x1866a7[-0x7*0x91+-0x1c0e+-0x3b*-0x8b]=_0x2d7155[0x1*-0x17ef+0x1706+0xed],_0x1866a7[-0x24b2+-0x88b+0x2d42]=_0x2d7155[-0x3aa+0x10ca+-0xd1b],_0x1866a7[-0x7f3+0x2e*0x5e+-0x8eb]=_0x2d7155[-0x1*-0x11c3+-0xbc3+-0x5fa],_0x1866a7[-0x89d+-0x1*-0x13a8+-0x14*0x8d]=_0x2d7155[-0x1ac1+-0x3d*-0x14+0x1*0x1604],_0x1866a7[-0x2*-0x13d+-0x8*0x4e1+0x2496]=_0x2d7155[0x1e70+0x1e77+-0x3cdf],_0x1866a7[0x26a5*0x1+0x1*0x2e3+-0x297f]=_0x2d7155[0xb89*0x3+0x1c00+-0x3e92*0x1],_0x1866a7[-0x1141+-0x62f*-0x1+-0xc*-0xed]=_0x2d7155[-0x1*-0x120d+0x16*-0xd9+0xa3],_0x1866a7[0xc89*-0x3+-0xfb*0x13+0x3847]=_0x2d7155[-0x13b1+0x10c+0x12b0],_0x1866a7[0x18d6*-0x1+-0x1287+0x1*0x2b69]=_0x2d7155[0x3c2*-0x3+-0xd9*0x4+0xeb6],_0x1866a7[-0x2*0x12b2+-0x1*0x20c5+0x4636]=_0x2d7155[-0x20c0+0x1*-0x4b4+0x1*0x2581],_0x1866a7[0x892*0x1+-0x427*-0x8+-0x29bc]=_0x2d7155[0xb2*-0x4+-0xab0+0xd86],_0x1866a7[-0xbb+0xd2e+-0xc64]=_0x2d7155[-0x1*-0x192a+-0x26c1+0x6d3*0x2],this;}['equals'](_0x1aa9f1){const _0x150ce8=this['data'],_0x4c09e1=_0x1aa9f1['data'];return _0x150ce8[-0xe48+0x1a78+0xc3*-0x10]===_0x4c09e1[-0x1*0x99c+0x891*0x4+0x2*-0xc54]&&_0x150ce8[0x18b1+-0x17f3+-0xbd]===_0x4c09e1[0x18*0x21+-0x20a2+-0x3*-0x9d9]&&_0x150ce8[0x412*0x3+-0x26cc+0x1a98]===_0x4c09e1[0x67f+-0x21eb+0x1b6e*0x1]&&_0x150ce8[0xf5*-0x23+0x2260+-0xde]===_0x4c09e1[-0x23e7+-0x1ffa+0x43e4]&&_0x150ce8[0xb81+-0x4a*-0x6d+0x4c7*-0x9]===_0x4c09e1[-0x1b65+-0x125*-0x1+-0xa4*-0x29]&&_0x150ce8[0xb7f*-0x2+0x6ed+0x1016*0x1]===_0x4c09e1[0x1*-0xbc9+-0x4d*0x45+0x208f]&&_0x150ce8[-0xc2f+-0x361*0xb+-0x28*-0x13c]===_0x4c09e1[-0x7fa*0x4+0x1d51+0x29d]&&_0x150ce8[-0xfb*0x11+0xcac+0x5*0xce]===_0x4c09e1[-0x270e+-0x335*-0xc+0x11*0x9]&&_0x150ce8[0xa94*0x2+-0x185*-0xc+-0x275c]===_0x4c09e1[-0x2*-0x1353+-0x1*0x39a+-0xbac*0x3]&&_0x150ce8[0xf*-0x107+-0xc*0x1c9+-0xb*-0x35a]===_0x4c09e1[-0x6*-0x146+0x7d8+-0xf73]&&_0x150ce8[0x3f0+0x9bf*-0x2+0x7cc*0x2]===_0x4c09e1[0xb*-0x342+0x97*-0x12+0x2e7e]&&_0x150ce8[0x19fb+0x1c0d+-0x35fd*0x1]===_0x4c09e1[-0xc38+0x4f*-0x7d+-0x1*-0x32d6]&&_0x150ce8[0x1fc4+-0x9*0x2de+-0x1*0x5ea]===_0x4c09e1[-0x2b6+0x1020*-0x1+0x12e2]&&_0x150ce8[-0x1772+-0x147+0x18c6]===_0x4c09e1[-0xcc*-0x22+0x1*-0x8c2+0x1*-0x1249]&&_0x150ce8[-0x2cf*-0x4+-0x2ed*0xd+0x37*0x7d]===_0x4c09e1[-0x4b2+0x10c6+0xc06*-0x1]&&_0x150ce8[0x1219+-0xe2a+-0x3e0]===_0x4c09e1[-0xb4e*-0x2+0xc2f+-0x22bc];}['isIdentity'](){const _0x4ebfa9=this['data'];return _0x4ebfa9[-0x2278+0x119*-0x12+0x277*0x16]===0x1*0x1288+-0x1*-0xad+0x1334*-0x1&&_0x4ebfa9[-0x123*0x1d+0x27a*-0xb+0x16f*0x2a]===-0xc35*-0x2+0x1*-0x1381+-0x4e9&&_0x4ebfa9[0x9f1*0x1+0x9e3*0x2+-0xc3*0x27]===0x2643+0x12a4+-0x38e7&&_0x4ebfa9[-0x203c+-0x5e4+0x2623]===0x1ba7*0x1+0x2343+-0x3eea&&_0x4ebfa9[-0x1b0e+0x1ba0+-0x8e]===-0xa7*0x17+0xa42+0x4bf&&_0x4ebfa9[0xadc+-0x26a5*0x1+0x1bce]===-0x1bb+-0x1*-0x14bb+-0x12ff&&_0x4ebfa9[0xb7b*0x1+-0x2*-0xfc5+-0x2aff]===0x1b*0x143+0x1ab5+-0x3cc6&&_0x4ebfa9[0x6b*0x1+0x3*-0x227+-0x611*-0x1]===0x959*-0x1+0xbc1*0x1+0x4*-0x9a&&_0x4ebfa9[-0x23*0x10c+-0x756+0x2b*0x106]===-0x1045+0x1*0x16b1+-0x66c&&_0x4ebfa9[0x1*-0x11a7+-0xc55+-0x601*-0x5]===0x15a8+-0x176*0x1+-0x1432&&_0x4ebfa9[0x54b+-0xfc2*0x2+0x1a43]===0x3d*0x4f+-0x109a+-0x238&&_0x4ebfa9[-0x48*0x23+-0x16dc+0x20bf]===-0x1236+-0xacb+0x1d01&&_0x4ebfa9[-0xfa9+-0x1*0xc3d+0x1bf2]===0x1694+0x4ad*0x3+-0x1*0x249b&&_0x4ebfa9[0x16c3*0x1+-0x1*-0x50d+0x17*-0x135]===0x1176+0xa1f*-0x2+0x2c8&&_0x4ebfa9[-0x1acb+0x11ad*0x2+0x7*-0x137]===0x242b*0x1+0x4f5+-0xe*0x2f0&&_0x4ebfa9[0x6d2+-0xf9e*-0x2+-0x25ff]===0x2a7+-0x11d+-0x1*0x189;}['mul2'](_0x1dfadc,_0x71e3b6){const _0x1ed1fe=_0x1dfadc['data'],_0x527bdc=_0x71e3b6['data'],_0x43a621=this['data'],_0x3ab196=_0x1ed1fe[-0x1*0x1b43+0x15d*-0xb+0x2a42],_0x333d16=_0x1ed1fe[-0x11d0+0x1b32+-0x961],_0x7caf84=_0x1ed1fe[-0x101d+0x20f8+0x1*-0x10d9],_0x4f514f=_0x1ed1fe[0x17df+0x1*-0x1a71+0x295],_0x101a38=_0x1ed1fe[0x589+-0xf*0x24f+0x1d1c],_0x41ae26=_0x1ed1fe[0xe*-0x296+0x1735+0xd04],_0xa2e76e=_0x1ed1fe[-0x2417+0x100f+0x1*0x140e],_0x13132a=_0x1ed1fe[-0x1*0x1124+0x2*-0x11a1+-0x1*-0x346d],_0x3c6edc=_0x1ed1fe[0xe89+0xce6+0x57b*-0x5],_0x3c0032=_0x1ed1fe[0x22f8+0x32*0x2+-0x2353],_0x56bf78=_0x1ed1fe[-0x22ae+-0x3bf*-0x5+0xffd],_0x47ae29=_0x1ed1fe[0xef+0xddb+0xebf*-0x1],_0x19490d=_0x1ed1fe[0x97d*0x1+0x202b*0x1+-0x299c],_0x107eb5=_0x1ed1fe[0x2305+-0x1cdf*-0x1+-0x3fd7*0x1],_0x1138d2=_0x1ed1fe[-0x1958+-0x1a2b+-0x2b*-0x133],_0x4cb788=_0x1ed1fe[-0x2488+-0x1e7b+0x4312];let _0x3153e1,_0x11242c,_0x8c4fa2,_0x3dac15;return _0x3153e1=_0x527bdc[-0x177a+0x21+0x1759],_0x11242c=_0x527bdc[-0x665+0xbb1+0x5*-0x10f],_0x8c4fa2=_0x527bdc[-0x13df*0x1+-0xf2*0x6+0x198d],_0x3dac15=_0x527bdc[-0x9a9+-0x2fe*-0x7+-0xb46],_0x43a621[0x9d*0x3b+-0x10c7+-0x5c*0x36]=_0x3ab196*_0x3153e1+_0x101a38*_0x11242c+_0x3c6edc*_0x8c4fa2+_0x19490d*_0x3dac15,_0x43a621[-0x6a*-0x4d+0x2221+-0xee*0x47]=_0x333d16*_0x3153e1+_0x41ae26*_0x11242c+_0x3c0032*_0x8c4fa2+_0x107eb5*_0x3dac15,_0x43a621[-0x1ffe+-0xb*-0x281+-0x1*-0x475]=_0x7caf84*_0x3153e1+_0xa2e76e*_0x11242c+_0x56bf78*_0x8c4fa2+_0x1138d2*_0x3dac15,_0x43a621[-0x1a*0x14f+-0x1*0x579+0x2782]=_0x4f514f*_0x3153e1+_0x13132a*_0x11242c+_0x47ae29*_0x8c4fa2+_0x4cb788*_0x3dac15,_0x3153e1=_0x527bdc[-0x12e7+0x348+0xfa3],_0x11242c=_0x527bdc[-0x633+0x61*0x52+-0x18da],_0x8c4fa2=_0x527bdc[0x5*0x58f+0x39*0x4c+-0x1*0x2cb1],_0x3dac15=_0x527bdc[-0x1*-0x10c4+0x1*-0x1d21+0xc64],_0x43a621[-0x23df+0x24f9+-0x8b*0x2]=_0x3ab196*_0x3153e1+_0x101a38*_0x11242c+_0x3c6edc*_0x8c4fa2+_0x19490d*_0x3dac15,_0x43a621[-0x178d+0xcdc*0x2+-0x226]=_0x333d16*_0x3153e1+_0x41ae26*_0x11242c+_0x3c0032*_0x8c4fa2+_0x107eb5*_0x3dac15,_0x43a621[0x26*0x10+-0x1*-0x95b+-0x51*0x25]=_0x7caf84*_0x3153e1+_0xa2e76e*_0x11242c+_0x56bf78*_0x8c4fa2+_0x1138d2*_0x3dac15,_0x43a621[0x1598+0x7b6+-0x1d47]=_0x4f514f*_0x3153e1+_0x13132a*_0x11242c+_0x47ae29*_0x8c4fa2+_0x4cb788*_0x3dac15,_0x3153e1=_0x527bdc[-0x15ad+-0x7*-0x53+0x1*0x1370],_0x11242c=_0x527bdc[0x20c9+0x3*0x363+-0x2ae9],_0x8c4fa2=_0x527bdc[0x27*0x1d+0x8e6+0xd47*-0x1],_0x3dac15=_0x527bdc[0x9e*-0x1a+-0xade*0x2+-0x25d3*-0x1],_0x43a621[0x1103+-0x1ab7+0x9bc]=_0x3ab196*_0x3153e1+_0x101a38*_0x11242c+_0x3c6edc*_0x8c4fa2+_0x19490d*_0x3dac15,_0x43a621[0x8c1*-0x1+-0x1*-0x11a7+0x1*-0x8dd]=_0x333d16*_0x3153e1+_0x41ae26*_0x11242c+_0x3c0032*_0x8c4fa2+_0x107eb5*_0x3dac15,_0x43a621[0x14db+-0xd15+0x42*-0x1e]=_0x7caf84*_0x3153e1+_0xa2e76e*_0x11242c+_0x56bf78*_0x8c4fa2+_0x1138d2*_0x3dac15,_0x43a621[0x774+0x366+-0xacf]=_0x4f514f*_0x3153e1+_0x13132a*_0x11242c+_0x47ae29*_0x8c4fa2+_0x4cb788*_0x3dac15,_0x3153e1=_0x527bdc[0xb*-0x14f+0x2231+-0x13c0],_0x11242c=_0x527bdc[0x1e58+0x26b+-0x20b6],_0x8c4fa2=_0x527bdc[0x1*-0x8b3+0xd3*-0x1b+0x1f02],_0x3dac15=_0x527bdc[-0xd*0x136+0x1409+-0x43c],_0x43a621[-0x1cc9+0x1932+0x31*0x13]=_0x3ab196*_0x3153e1+_0x101a38*_0x11242c+_0x3c6edc*_0x8c4fa2+_0x19490d*_0x3dac15,_0x43a621[0x9bc+-0x2c*0xb5+0x156d]=_0x333d16*_0x3153e1+_0x41ae26*_0x11242c+_0x3c0032*_0x8c4fa2+_0x107eb5*_0x3dac15,_0x43a621[0x9c9+-0xec5+0x50a]=_0x7caf84*_0x3153e1+_0xa2e76e*_0x11242c+_0x56bf78*_0x8c4fa2+_0x1138d2*_0x3dac15,_0x43a621[-0x1*0x148f+-0x9*0x371+0x3397]=_0x4f514f*_0x3153e1+_0x13132a*_0x11242c+_0x47ae29*_0x8c4fa2+_0x4cb788*_0x3dac15,this;}['mulAffine2'](_0x3bafa3,_0x36c4b2){const _0x3f238f=_0x3bafa3['data'],_0x3cea56=_0x36c4b2['data'],_0x22e66a=this['data'],_0x5072de=_0x3f238f[0x15df+0x239b+-0x397a],_0x40f1f6=_0x3f238f[-0x4*-0x46c+-0x2*0xfe8+0xe21],_0x26d07c=_0x3f238f[0x1e21+-0x12a*0x5+-0x184d*0x1],_0x28125c=_0x3f238f[0x12e*-0x1+-0xe47+0xf79],_0x49834c=_0x3f238f[-0xb*0xc5+-0x2579+0x2df5*0x1],_0x44daa0=_0x3f238f[-0x2187+-0x8b*0x31+0x3c28],_0x5d8a49=_0x3f238f[0x7d*-0x27+0x9d4+0x93f],_0x4c43ec=_0x3f238f[-0x995+-0x8b7+0x1*0x1255],_0x470d46=_0x3f238f[0x2555+0x10d*-0x1+0x121f*-0x2],_0x1cf956=_0x3f238f[-0x97*0x32+-0x8*0x147+0x27c2],_0x3833e9=_0x3f238f[0xb*-0x1e9+0x12d0+-0x2*-0x120],_0x3262b9=_0x3f238f[-0x1*0x2135+0xc83*-0x1+-0x117*-0x2a];let _0x2f49f8,_0x416c25,_0x2ba9fb;return _0x2f49f8=_0x3cea56[0x2214+0x1abb+0x1*-0x3ccf],_0x416c25=_0x3cea56[-0x2*0x565+-0xd62+-0x182d*-0x1],_0x2ba9fb=_0x3cea56[-0x59b+0x1580+-0xfe3],_0x22e66a[-0x2*0xee4+-0x379*0x2+0x24ba]=_0x5072de*_0x2f49f8+_0x28125c*_0x416c25+_0x5d8a49*_0x2ba9fb,_0x22e66a[-0x2*-0x2fb+0x233e+0x1*-0x2933]=_0x40f1f6*_0x2f49f8+_0x49834c*_0x416c25+_0x4c43ec*_0x2ba9fb,_0x22e66a[-0x1c03*-0x1+0x4*-0x7e2+0x15*0x2b]=_0x26d07c*_0x2f49f8+_0x44daa0*_0x416c25+_0x470d46*_0x2ba9fb,_0x22e66a[0x1e1a+-0x24ed+0x1*0x6d6]=0x108a+-0x1cf0+0x211*0x6,_0x2f49f8=_0x3cea56[-0x23*0x9d+0xa*0x3d1+-0x10af],_0x416c25=_0x3cea56[-0x1b7c+-0x1621+0x2*0x18d1],_0x2ba9fb=_0x3cea56[-0x1408+0x1bc3+-0x7b5*0x1],_0x22e66a[0x1*-0x1af+-0x1cdb+0x1e8e]=_0x5072de*_0x2f49f8+_0x28125c*_0x416c25+_0x5d8a49*_0x2ba9fb,_0x22e66a[0x237+-0x10aa+0xe78]=_0x40f1f6*_0x2f49f8+_0x49834c*_0x416c25+_0x4c43ec*_0x2ba9fb,_0x22e66a[-0x8d5+0x5*-0x67f+0x2956]=_0x26d07c*_0x2f49f8+_0x44daa0*_0x416c25+_0x470d46*_0x2ba9fb,_0x22e66a[-0x1*-0x26d8+-0x4*0x6fd+-0x1*0xadd]=0x1c8f+-0x21b9+0x52a,_0x2f49f8=_0x3cea56[0xb91+-0x1497+0x90e],_0x416c25=_0x3cea56[-0x132e+0x1936*-0x1+-0x1*-0x2c6d],_0x2ba9fb=_0x3cea56[0x1617+-0x1f0c+0x8ff],_0x22e66a[-0xa2b+-0x6ff+0x899*0x2]=_0x5072de*_0x2f49f8+_0x28125c*_0x416c25+_0x5d8a49*_0x2ba9fb,_0x22e66a[-0x69*0x2f+-0xee*0x7+0x19d2]=_0x40f1f6*_0x2f49f8+_0x49834c*_0x416c25+_0x4c43ec*_0x2ba9fb,_0x22e66a[0x4b5*0x1+-0x1a91*-0x1+-0x1f3c]=_0x26d07c*_0x2f49f8+_0x44daa0*_0x416c25+_0x470d46*_0x2ba9fb,_0x22e66a[0x12*0x5+-0x24de+0x248f]=-0x351+-0x13de+0x5*0x4a3,_0x2f49f8=_0x3cea56[-0xa7*-0xa+0x136c+-0x19e6],_0x416c25=_0x3cea56[-0x1*0x1204+-0x2285*-0x1+-0x4e*0x36],_0x2ba9fb=_0x3cea56[-0x1991+0x24e*0xc+-0x209*0x1],_0x22e66a[0xb3e+0x147a+-0x1fac]=_0x5072de*_0x2f49f8+_0x28125c*_0x416c25+_0x5d8a49*_0x2ba9fb+_0x1cf956,_0x22e66a[-0x2f*0x6b+-0xfb+-0x1*-0x14ad]=_0x40f1f6*_0x2f49f8+_0x49834c*_0x416c25+_0x4c43ec*_0x2ba9fb+_0x3833e9,_0x22e66a[-0x32a+0xb8d*-0x3+0x25df]=_0x26d07c*_0x2f49f8+_0x44daa0*_0x416c25+_0x470d46*_0x2ba9fb+_0x3262b9,_0x22e66a[-0x162+0x1ceb+-0x1b7a]=-0x223e+-0x1d8f+0x3fce,this;}['mul'](_0x49fd05){return this['mul2'](this,_0x49fd05);}['transformP'+'oint'](_0x200d16,_0x59f6f0=new D()){const _0x4af3e4=this['data'],{x:_0x113bb2,y:_0x1b23fa,z:_0x36c7eb}=_0x200d16;return _0x59f6f0['x']=_0x113bb2*_0x4af3e4[-0xb6f+-0x1*-0x17bf+-0xc50]+_0x1b23fa*_0x4af3e4[0x768*0x1+0x1803+-0x1f67]+_0x36c7eb*_0x4af3e4[0x1312*0x1+-0x2124+0xe1a]+_0x4af3e4[0xe24+-0x2405+-0x1*-0x15ed],_0x59f6f0['y']=_0x113bb2*_0x4af3e4[-0x23cf+0x24b5+-0x1*0xe5]+_0x1b23fa*_0x4af3e4[-0x2*0x1de+0x1970+0x5b*-0x3d]+_0x36c7eb*_0x4af3e4[0x24c8+-0x1*0x821+-0x29a*0xb]+_0x4af3e4[-0x6be+0x1310+-0xc45],_0x59f6f0['z']=_0x113bb2*_0x4af3e4[0xde*0xd+0x648+-0x118c]+_0x1b23fa*_0x4af3e4[-0x1a2+-0x1e7c+0x2024]+_0x36c7eb*_0x4af3e4[0x2*-0x111d+0xa44*-0x1+-0x64*-0x72]+_0x4af3e4[0x107*0x25+-0x1*-0x179a+0x39f*-0x11],_0x59f6f0;}['transformV'+'ector'](_0x169c8d,_0xbd6ffd=new D()){const _0xfeee08=this['data'],{x:_0x4b96c3,y:_0x2f351d,z:_0x3b4426}=_0x169c8d;return _0xbd6ffd['x']=_0x4b96c3*_0xfeee08[0x14*-0x1f1+0x51+0x2683]+_0x2f351d*_0xfeee08[0xa9*-0x3b+-0x731*-0x4+-0x1*-0xa33]+_0x3b4426*_0xfeee08[-0x1*0x26f5+0x1a7c+-0x3*-0x42b],_0xbd6ffd['y']=_0x4b96c3*_0xfeee08[-0x59c*-0x1+0x225e+-0x17b*0x1b]+_0x2f351d*_0xfeee08[0x9cd+0x1*-0xb82+0x1ba]+_0x3b4426*_0xfeee08[-0x213e+-0x2*0xee6+0x3f13],_0xbd6ffd['z']=_0x4b96c3*_0xfeee08[-0x3*-0x6c4+-0x1567+0x11d]+_0x2f351d*_0xfeee08[-0x1bc1+0x1c5a+-0x15*0x7]+_0x3b4426*_0xfeee08[0x1c9*0x5+0x2*-0x37e+-0x1e7],_0xbd6ffd;}['transformV'+'ec4'](_0x59ef14,_0x2bae38=new re()){const _0x2e9e3b=this['data'],{x:_0x2b7c2e,y:_0x58f3e3,z:_0x31746a,w:_0x3c9972}=_0x59ef14;return _0x2bae38['x']=_0x2b7c2e*_0x2e9e3b[-0x305+0x1297+-0x1*0xf92]+_0x58f3e3*_0x2e9e3b[-0xdb1+0x63+0x136*0xb]+_0x31746a*_0x2e9e3b[0x4*-0x752+-0xea9+-0x1*-0x2bf9]+_0x3c9972*_0x2e9e3b[-0x16ef+-0x2415+0x17a*0x28],_0x2bae38['y']=_0x2b7c2e*_0x2e9e3b[0xa40+-0x12bf+0x880]+_0x58f3e3*_0x2e9e3b[-0x34*-0x43+-0x11*0x1f5+0x1*0x13ae]+_0x31746a*_0x2e9e3b[-0x2*-0x20+0xa*0x165+-0xe29]+_0x3c9972*_0x2e9e3b[0x1*-0x26df+-0xc4c+0x4*0xcce],_0x2bae38['z']=_0x2b7c2e*_0x2e9e3b[0x1cb2+-0x970+-0xe*0x160]+_0x58f3e3*_0x2e9e3b[0x13*0x67+0x1dc6+-0x2565]+_0x31746a*_0x2e9e3b[-0x1379+0x278+0x110b*0x1]+_0x3c9972*_0x2e9e3b[-0x7*-0xf6+0x1b1+-0x85d*0x1],_0x2bae38['w']=_0x2b7c2e*_0x2e9e3b[0x1bc8+-0x1*0xf6b+0x11*-0xba]+_0x58f3e3*_0x2e9e3b[-0x290+0x22ab+-0x2014]+_0x31746a*_0x2e9e3b[-0x422+0x7*-0x1da+0x1*0x1123]+_0x3c9972*_0x2e9e3b[-0x9e*0x1+0xe4c+-0xd9f],_0x2bae38;}['setLookAt'](_0x174cf4,_0x1d6570,_0x4ead42){ei['sub2'](_0x174cf4,_0x1d6570)['normalize'](),Js['copy'](_0x4ead42)['normalize'](),Os['cross'](Js,ei)['normalize'](),Js['cross'](ei,Os);const _0x4c12a8=this['data'];return _0x4c12a8[-0x468+0x16c+-0xbf*-0x4]=Os['x'],_0x4c12a8[0x3*0x566+-0x1159*0x1+0x128]=Os['y'],_0x4c12a8[-0x207f*0x1+0x7d1+0x18b0]=Os['z'],_0x4c12a8[-0x1663*-0x1+-0x139c+0x1*-0x2c4]=0x5b*0x64+0x1ecd+-0xd7*0x4f,_0x4c12a8[0x1*0x6f1+0xb39+-0x1226]=Js['x'],_0x4c12a8[-0x66*-0x8+0x833+-0xb5e]=Js['y'],_0x4c12a8[-0x708+0x1c71+-0x49*0x4b]=Js['z'],_0x4c12a8[-0xa6d*0x2+-0x1a17+-0x2ef8*-0x1]=-0x29*-0xd+0xfb3+-0x2*0x8e4,_0x4c12a8[-0x7c8*0x3+0xa84+0x1*0xcdc]=ei['x'],_0x4c12a8[-0x255d+0x8b+0x24db]=ei['y'],_0x4c12a8[0x180f+0xc4f+-0x2454]=ei['z'],_0x4c12a8[0x13b5+-0xe08+-0x5a2]=-0x2606+-0xae2+0x30e8,_0x4c12a8[0x1*0x617+0x11aa+-0x17b5]=_0x174cf4['x'],_0x4c12a8[-0x1574+-0x1956+-0x3*-0xf9d]=_0x174cf4['y'],_0x4c12a8[0xb7f*0x3+0x3fb*-0x7+0x3a*-0x1d]=_0x174cf4['z'],_0x4c12a8[0x9*-0x454+0x48f*-0x8+-0x3*-0x1929]=0xea6+0xc2d+-0x1ad2,this;}['setFrustum'](_0x4d7ee3,_0x215446,_0x1d081f,_0xa4a540,_0x5379be,_0x11d76){const _0x2db8d9=(-0xe*-0x119+0x1*0x17a9+0x2705*-0x1)*_0x5379be,_0xdbc304=_0x215446-_0x4d7ee3,_0x151398=_0xa4a540-_0x1d081f,_0x52f7c8=_0x11d76-_0x5379be,_0x1ae63c=this['data'];return _0x1ae63c[0x1263+0xd2+0xb*-0x1bf]=_0x2db8d9/_0xdbc304,_0x1ae63c[-0x3a*0x2+-0x12*-0x64+-0x693]=-0x103*0x13+0xa39*0x1+-0x90*-0x10,_0x1ae63c[-0x91*-0x31+-0x3*-0xc12+-0x3ff5]=0x734+0x1a7b+-0x21af,_0x1ae63c[0x2491+0x132f+-0x1*0x37bd]=0x26d0+0x142d*-0x1+-0x12a3,_0x1ae63c[-0x1a93+-0x1585+-0x301c*-0x1]=-0xb4*0x1d+-0x290+-0xd*-0x1c4,_0x1ae63c[-0x5*-0x72e+-0x199f*-0x1+-0x3d80]=_0x2db8d9/_0x151398,_0x1ae63c[0x1*0x275+0x58c*0x7+0x2943*-0x1]=0x1c7*-0x1+0x9a1+-0x7da,_0x1ae63c[-0x5ea*0x6+0x16f2+-0x1*-0xc91]=-0x80a+-0x7*0x1bf+-0x1443*-0x1,_0x1ae63c[0x7*0x559+0x1*0x119f+-0x1b83*0x2]=(_0x215446+_0x4d7ee3)/_0xdbc304,_0x1ae63c[0x1679+-0xb3f+0xb31*-0x1]=(_0xa4a540+_0x1d081f)/_0x151398,_0x1ae63c[0x92f*0x1+-0x252+-0x6d3]=(-_0x11d76-_0x5379be)/_0x52f7c8,_0x1ae63c[-0x21e3+0x100b+0x11e3]=-(0x1579*-0x1+-0x27a*-0x4+0xb92),_0x1ae63c[0x10a3+0x2398+-0x342f]=0xc32+-0x351*0x6+-0x3da*-0x2,_0x1ae63c[-0x1121*-0x1+0x35f+0x5*-0x417]=-0xdb4+0x173b*0x1+-0x32d*0x3,_0x1ae63c[0x20cd+0xab3+-0x2b72]=-_0x2db8d9*_0x11d76/_0x52f7c8,_0x1ae63c[0x1e2f+0x176f+-0x358f]=0x1*0x1a4e+0x1*-0x11b3+0x1*-0x89b,this;}['setPerspec'+'tive'](_0xe80c1,_0x249c78,_0x8b074,_0x1c3d51,_0x404cd8){return Qr['_getPerspe'+'ctiveHalfS'+'ize'](to,_0xe80c1,_0x249c78,_0x8b074,_0x404cd8),this['setFrustum'](-to['x'],to['x'],-to['y'],to['y'],_0x8b074,_0x1c3d51);}['setOrtho'](_0x4a3e36,_0x13b0e8,_0x6afaa5,_0x23c215,_0x31612c,_0x15a695){const _0x250732=this['data'];return _0x250732[0x2390+-0x21c3+-0x1cd]=(-0xa5*0x6+0x1e97*-0x1+0x2277)/(_0x13b0e8-_0x4a3e36),_0x250732[0xdd0+0x1fa2+-0x2d71]=-0x88*-0x35+-0x1301+0xb*-0xd5,_0x250732[0x2b1+0xd*-0x13f+0xd84]=-0x1513+-0x1ce1+-0x1*-0x31f4,_0x250732[-0x259c+0xfa*-0xa+0x7*0x6c5]=0x3*-0xa3+-0x1*-0x69d+0xe*-0x56,_0x250732[-0x1c29+-0x2310+0x3f3d]=-0x2287+0x1*0x253d+-0x2b6,_0x250732[0x73*0xa+0xf3*0x4+0x49*-0x1d]=(0x756*-0x1+0x1f27+-0x17cf)/(_0x23c215-_0x6afaa5),_0x250732[-0x9*0x2b7+0x163e+0x237]=0xb*0x15b+-0x1085+0x1*0x19c,_0x250732[-0x5*-0x751+-0x7*0x467+0x5bd*-0x1]=0x1*-0x1cb7+-0x69+-0xe90*-0x2,_0x250732[-0x737*-0x1+-0x1a7d*-0x1+-0x1*0x21ac]=0x1a7a+0x509+-0x1f83,_0x250732[0x1f46+-0x39*-0x15+-0x23ea]=-0xf74+-0x141*-0x4+0xa70,_0x250732[0x159b+-0x1a*0xad+-0x3ff]=-(0x2b*0x14+0xb03+-0xe5d)/(_0x15a695-_0x31612c),_0x250732[-0xbaa+-0x1a03*-0x1+-0x2*0x727]=0x25bf+-0x3*-0x91a+0xb7*-0x5b,_0x250732[0x718+-0x6f3*-0x1+-0x1*0xdff]=-(_0x13b0e8+_0x4a3e36)/(_0x13b0e8-_0x4a3e36),_0x250732[0x7d4+-0x160c+0xe45]=-(_0x23c215+_0x6afaa5)/(_0x23c215-_0x6afaa5),_0x250732[0x588*0x3+0x6*-0x88+-0x2*0x6ad]=-(_0x15a695+_0x31612c)/(_0x15a695-_0x31612c),_0x250732[0x27f*0x5+0x10d7+-0x1d43]=-0x5fa+-0x389*0x6+0x1b31*0x1,this;}['setFromAxi'+'sAngle'](_0x25061a,_0x20881e){_0x20881e*=Y['DEG_TO_RAD'];const {x:_0x2f96d3,y:_0x3948ca,z:_0x53f905}=_0x25061a,_0x13b7ff=Math['cos'](_0x20881e),_0x1bba89=Math['sin'](_0x20881e),_0x5bd1cc=0x1348+0x1d20*0x1+-0x3067-_0x13b7ff,_0x52edf3=_0x5bd1cc*_0x2f96d3,_0xd421d5=_0x5bd1cc*_0x3948ca,_0x3f17ea=this['data'];return _0x3f17ea[-0x2f*0x82+0x1dc4*-0x1+-0x2*-0x1ad1]=_0x52edf3*_0x2f96d3+_0x13b7ff,_0x3f17ea[-0x20f1+0x20b8+0x1d*0x2]=_0x52edf3*_0x3948ca+_0x1bba89*_0x53f905,_0x3f17ea[0x179e+0x22*0xc9+-0x324e]=_0x52edf3*_0x53f905-_0x1bba89*_0x3948ca,_0x3f17ea[0x6*0x2ec+0x15db+-0x276*0x10]=0x18a8+0x162*0x16+0x1*-0x3714,_0x3f17ea[0x18f6+-0x1a7b+0x189]=_0x52edf3*_0x3948ca-_0x1bba89*_0x53f905,_0x3f17ea[0x4*-0x377+0xa99*-0x1+-0x2*-0xc3d]=_0xd421d5*_0x3948ca+_0x13b7ff,_0x3f17ea[-0x1*0x547+0x1871+-0x2*0x992]=_0xd421d5*_0x53f905+_0x1bba89*_0x2f96d3,_0x3f17ea[-0xa55+-0x189d+0x22f9]=0x4*-0x8c9+-0x104+0x2428,_0x3f17ea[0x1fb4+-0x441*-0x2+-0x282e]=_0x52edf3*_0x53f905+_0x1bba89*_0x3948ca,_0x3f17ea[-0x1*-0x1fa8+-0x1*0x887+-0x1718]=_0xd421d5*_0x53f905-_0x2f96d3*_0x1bba89,_0x3f17ea[-0x1*-0x56+0x575+0x5c1*-0x1]=_0x5bd1cc*_0x53f905*_0x53f905+_0x13b7ff,_0x3f17ea[0x1*0x1d84+-0xcd*0x2+-0x5*0x593]=-0x4b9+0x1037*0x1+-0x2*0x5bf,_0x3f17ea[-0x1cac+-0x2*0x114e+0x3f54]=-0xd*-0x28f+-0x10e0+-0x1*0x1063,_0x3f17ea[-0x2*0xe75+0x1a92+0x265]=0x423+-0x672+0x24f,_0x3f17ea[-0x2*0x982+-0x173b+0x2a4d*0x1]=0xca+0x1b17*0x1+-0x1be1,_0x3f17ea[0xdd*0x1f+0x2170+-0x503*0xc]=-0xa2e+-0x1428+-0x1e57*-0x1,this;}['setTransla'+'te'](_0x1b72b2,_0x2af785,_0x45d348){const _0x13637c=this['data'];return _0x13637c[0x81b*-0x1+0x64*0x61+-0x1dc9]=0x17cb+0xab6+-0x18*0x170,_0x13637c[0x1*0xaf7+-0x3*0xb47+0x493*0x5]=-0x23d6+-0x52*0x14+-0x2*-0x151f,_0x13637c[0x15e9*0x1+-0x2540+0xf59]=-0x1843+-0x207b+0x38be,_0x13637c[0x1631+0x1a45+-0x9d*0x4f]=0xb6*0xd+0x623*-0x4+0xf4e,_0x13637c[-0x7a2+-0x4*0x8db+0x2b12]=-0x770+0x2d4*0x1+0x49c,_0x13637c[0x1f8+0xbf*-0xe+0x87f]=-0x2*0x27f+0x1949*-0x1+0x1e48,_0x13637c[-0x7bb+0xd*0x2d4+-0x1d03]=0x1f6a+0x2447*0x1+0xd*-0x535,_0x13637c[-0x72d*-0x1+0x62+-0x3c4*0x2]=0xf0*-0x1+0x15*-0xfd+0x15b1,_0x13637c[0x1ed9+-0x2647*-0x1+0x43*-0x108]=-0x514+-0x19ff+0x1f13*0x1,_0x13637c[-0x25e4+-0x1*0xea3+0x3490]=-0x1232+0x6bd+0x1a3*0x7,_0x13637c[0x2682+-0x13ef+-0x1*0x1289]=-0x1*0xb93+-0x93+-0xc27*-0x1,_0x13637c[0x5*-0x3d+0x17b9*-0x1+0x18f5]=-0xab4+-0x8f*0x3+-0xc61*-0x1,_0x13637c[0xbb7+-0x20*0xa0+0x855]=_0x1b72b2,_0x13637c[0x777+-0x84a*0x3+0x45d*0x4]=_0x2af785,_0x13637c[-0x414+0x164d+-0x122b]=_0x45d348,_0x13637c[-0x164a+-0x2fd*-0x2+0x7f*0x21]=0x5cc+-0xd21+0x756,this;}['setScale'](_0x4e3de4,_0x12fac1,_0x33e8b0){const _0x57ec73=this['data'];return _0x57ec73[-0xf66+0xd48+-0x2*-0x10f]=_0x4e3de4,_0x57ec73[-0x9*0x199+-0x1bdb+0xb*0x3d7]=-0x1076+0x1f20+0x2*-0x755,_0x57ec73[0xb7+0x1c8+0xd*-0x31]=-0xd7f*0x2+-0xb6e*-0x1+0xf90,_0x57ec73[0x64f*-0x4+0xae2+0xe5d]=-0xc*-0x278+-0x5*-0x5a7+-0x39e3,_0x57ec73[-0x599+-0x3ad*-0x1+0x1f0]=0x24f7+0xc31*-0x1+-0x18c6,_0x57ec73[0x200a*-0x1+0x412*0x9+-0x493]=_0x12fac1,_0x57ec73[0x1bcc*-0x1+-0x8*-0x3aa+-0x17e]=0xe*0x1df+-0x14a4+-0x9e*0x9,_0x57ec73[0xf02+0x3d*-0x5d+0x72e]=0x517+0x120c+0x1*-0x1723,_0x57ec73[0x1068+0x6*0x72+-0x130c]=0x1b*-0xc4+0x29*-0x8f+0x2b93,_0x57ec73[-0x751+-0x1b7b+0x22d5]=-0x7b*0x17+-0xe8e+-0x39*-0x73,_0x57ec73[0x45f*-0x3+0xf4d+-0x226]=_0x33e8b0,_0x57ec73[-0x2*0x1029+-0x141*-0x6+0x18d7]=0xf*-0xf8+0x206b+-0x11e3,_0x57ec73[0x7*-0x228+-0x404*0x1+0x1328]=-0x17e2+-0x1a3b+0x321d,_0x57ec73[0x16*0x161+0x161+-0x1faa]=0x3*-0x4e+0x2076+-0x1f8c,_0x57ec73[-0xb7d*-0x2+-0x1*-0x2387+-0x3a73]=0x23c1+0x17db+-0x3b9c,_0x57ec73[0x109d+0x874+-0x1902]=0xb09*0x1+0xd55+-0x185d,this;}['setViewpor'+'t'](_0x5d4594,_0x2ecd0b,_0x384bdc,_0x3b57e5){const _0x4d71c0=this['data'];return _0x4d71c0[0xedb+-0xdb*-0x2+-0x1091*0x1]=_0x384bdc*(-0x14*-0x15+0xac4+-0xc68+0.5),_0x4d71c0[0x7*-0x506+0x14*0x193+0x1*0x3af]=-0x10ea+0x23a0+-0x12b6,_0x4d71c0[0xde*-0x1d+0x1205+0x3f*0x1d]=-0x215*0xc+0x18c+0x1770,_0x4d71c0[0x130a+-0x1fe8+0x1*0xce1]=0x17c7+-0xb17*0x1+-0xcb0,_0x4d71c0[0x2*0x15b+0x25a5+-0x2857]=0x119b+0x1*0x196c+-0x2b07,_0x4d71c0[0xd49*0x1+-0x9d9+-0x7d*0x7]=_0x3b57e5*(-0x2671+0x18a9+0xdc8+0.5),_0x4d71c0[-0x1d2f+0x1411+0x924]=0x26a1+0xfda*-0x1+-0x157*0x11,_0x4d71c0[-0x35*0xa2+0xf4a*-0x1+0x30db]=0x14a3*-0x1+-0x3d*0x3a+0x2275,_0x4d71c0[-0x11e0+0x12e*0xf+0x36]=-0xf9*0x5+0x1935+-0x6c8*0x3,_0x4d71c0[0x5*-0x24a+0x464+-0xa5*-0xb]=-0x166b+-0x2*-0x1da+0x63d*0x3,_0x4d71c0[-0x20a2*0x1+-0x2372+-0x220f*-0x2]=0x1b*0x117+0x1afa+-0x12cd*0x3+0.5,_0x4d71c0[-0x1293*0x1+-0x127*0x20+0x2*0x1bbf]=0x3b6+-0x1*-0x22c6+-0x267c,_0x4d71c0[0x26c*0x9+0x1b23*0x1+-0x30e3]=_0x5d4594+_0x384bdc*(0x205*0x3+-0x1591+0xf82+0.5),_0x4d71c0[0x94*0x3d+-0x3*0x195+-0x14*0x186]=_0x2ecd0b+_0x3b57e5*(-0x244b*-0x1+0xb*0x2a0+0x3*-0x15b9+0.5),_0x4d71c0[0x1b4e+0xebe+0x433*-0xa]=-0x48e+-0x1394+-0x2*-0xc11+0.5,_0x4d71c0[-0x24a6+0x1*0x21e5+0x2d0]=0x14df+0x9e7+-0x1*0x1ec5,this;}['setReflect'+'ion'](_0x162901,_0x147bd5){const _0x3b26f0=_0x162901['x'],_0x2daea7=_0x162901['y'],_0x2049df=_0x162901['z'],_0x434878=this['data'];return _0x434878[-0x7d7+0x22*-0x5f+0x1475*0x1]=0x1*-0x313+0x16bb+-0x13a7-(-0x127f+-0x2*0xfae+-0x31dd*-0x1)*_0x3b26f0*_0x3b26f0,_0x434878[0x1125*-0x1+-0xfe2+0x2108]=-(-0x1*0x1b74+0x298*0xe+0xce*-0xb)*_0x3b26f0*_0x2daea7,_0x434878[0x1a11+0x2*-0x202+-0x160b]=-(0x1506+0xa6*-0x5+-0x11c6)*_0x3b26f0*_0x2049df,_0x434878[-0xd07+-0x797+0x14a1]=-0xd31*0x2+0x1eb*-0xd+0x3351,_0x434878[0xb69+-0x1124+0x1*0x5bf]=-(0x24ac+0xe5*0x1f+-0x4065)*_0x3b26f0*_0x2daea7,_0x434878[-0xa65+0x15e2+-0xb78]=0x171d+0xb07+-0x2223-(0xe5*-0x20+-0x1b1*-0x11+-0x1f)*_0x2daea7*_0x2daea7,_0x434878[0x1361+0xadb+-0x509*0x6]=-(-0x135*0x10+-0x1*-0x892+0xac0)*_0x2daea7*_0x2049df,_0x434878[0x234b+0x1431+0x1*-0x3775]=0x11*-0x8e+-0x1+0x96f,_0x434878[-0x1b1f+0x1b43*-0x1+-0xa*-0x571]=-(-0x15a9+-0x265+0x1810)*_0x3b26f0*_0x2049df,_0x434878[0x1190+-0xdd*0x21+-0x2e*-0x3d]=-(0x1148+-0x24e*0x8+0x12a)*_0x2daea7*_0x2049df,_0x434878[-0x207b+0x1*-0x259f+0x4624]=0x1f3c*0x1+0x1b76+0x3ab1*-0x1-(0x1*0xf83+-0x104c+0xcb)*_0x2049df*_0x2049df,_0x434878[0xfa1+0xe6+-0x41f*0x4]=0xcf5+0x185+-0xe7a,_0x434878[-0x19ea+-0xd85+0x277b]=-(-0x5ad*-0x6+0x1e35+-0x4041)*_0x3b26f0*_0x147bd5,_0x434878[0x1322+-0x1b7*0x15+-0x18a*-0xb]=-(0x34b*-0x2+-0x1033+0x16cb)*_0x2daea7*_0x147bd5,_0x434878[0x1a22+-0x20e6+0x6d2]=-(-0x22ac+0x4ba*0x1+-0xd5*-0x24)*_0x2049df*_0x147bd5,_0x434878[-0x15*0x1f+0x175b+-0x14c1]=-0x1b6f+0x5c*-0x63+0x3f04,this;}['invert'](_0xb69eb5=this){const _0xe3b5a4=_0xb69eb5['data'],_0x1fedfa=_0xe3b5a4[0x427*-0x8+-0x1c76+0x3dae*0x1],_0x1aed78=_0xe3b5a4[-0x5*0x1d1+-0x1580+0x1e96],_0x46b292=_0xe3b5a4[-0x196d+-0x10f8+0x2a67],_0x251824=_0xe3b5a4[-0x3*0xc5+0x23f7+-0x21a5],_0x3fc67c=_0xe3b5a4[-0x2700+-0x267b+-0x33*-0x185],_0xe61f0b=_0xe3b5a4[-0x2*0x78d+0x16fa*0x1+-0x7db],_0x3cc2cc=_0xe3b5a4[0xa51*0x1+-0x172+-0x1*0x8d9],_0x43cc02=_0xe3b5a4[0x1a*0xc5+0x8*-0x256+-0x14b],_0x202675=_0xe3b5a4[0x1d9*0x13+0x1064+-0x3377],_0x556651=_0xe3b5a4[-0x1cfd+0x1893+-0x43*-0x11],_0x1034c3=_0xe3b5a4[0x14e2+0x2057+-0x352f],_0x3aefef=_0xe3b5a4[-0x9*0x139+0x4b*0x62+-0x22*0x85],_0x1d7fb5=_0xe3b5a4[0x35*-0x99+-0x22be+0x4277],_0x5de884=_0xe3b5a4[0xd14+-0xb10+-0x1f7*0x1],_0x4c5d9d=_0xe3b5a4[0x1020+-0xfd5+0x3d*-0x1],_0xf57596=_0xe3b5a4[-0x2534+0x130c+0x1237],_0x415df0=_0x1fedfa*_0xe61f0b-_0x1aed78*_0x3fc67c,_0x146118=_0x1fedfa*_0x3cc2cc-_0x46b292*_0x3fc67c,_0x1d8e7c=_0x1fedfa*_0x43cc02-_0x251824*_0x3fc67c,_0x2faa54=_0x1aed78*_0x3cc2cc-_0x46b292*_0xe61f0b,_0x468eb1=_0x1aed78*_0x43cc02-_0x251824*_0xe61f0b,_0x1ad046=_0x46b292*_0x43cc02-_0x251824*_0x3cc2cc,_0x4dbc1c=_0x202675*_0x5de884-_0x556651*_0x1d7fb5,_0x25ebd7=_0x202675*_0x4c5d9d-_0x1034c3*_0x1d7fb5,_0x3e3a66=_0x202675*_0xf57596-_0x3aefef*_0x1d7fb5,_0x1f31da=_0x556651*_0x4c5d9d-_0x1034c3*_0x5de884,_0x48352c=_0x556651*_0xf57596-_0x3aefef*_0x5de884,_0x164fbd=_0x1034c3*_0xf57596-_0x3aefef*_0x4c5d9d,_0x191d98=_0x415df0*_0x164fbd-_0x146118*_0x48352c+_0x1d8e7c*_0x1f31da+_0x2faa54*_0x3e3a66-_0x468eb1*_0x25ebd7+_0x1ad046*_0x4dbc1c;if(_0x191d98===0x14f3+0xec*0x1f+-0x3187)this['setIdentit'+'y']();else{const _0x7bb58b=(0x4a*-0x52+0x1*0x12b3+0x281*0x2)/_0x191d98,_0x503041=this['data'];_0x503041[-0x1*-0x18c7+0x1adf+-0x33a6]=(_0xe61f0b*_0x164fbd-_0x3cc2cc*_0x48352c+_0x43cc02*_0x1f31da)*_0x7bb58b,_0x503041[-0x577*0x1+0x1*0x1c9c+-0x1724]=(-_0x1aed78*_0x164fbd+_0x46b292*_0x48352c-_0x251824*_0x1f31da)*_0x7bb58b,_0x503041[-0x35*-0x8d+-0x20c0+-0x391*-0x1]=(_0x5de884*_0x1ad046-_0x4c5d9d*_0x468eb1+_0xf57596*_0x2faa54)*_0x7bb58b,_0x503041[-0x1c65+0x10*0x176+0x508]=(-_0x556651*_0x1ad046+_0x1034c3*_0x468eb1-_0x3aefef*_0x2faa54)*_0x7bb58b,_0x503041[-0x7f7*0x3+0xb7*0x1+-0x2*-0xb99]=(-_0x3fc67c*_0x164fbd+_0x3cc2cc*_0x3e3a66-_0x43cc02*_0x25ebd7)*_0x7bb58b,_0x503041[0x2*0x12bb+-0x45*-0x21+-0x2e56]=(_0x1fedfa*_0x164fbd-_0x46b292*_0x3e3a66+_0x251824*_0x25ebd7)*_0x7bb58b,_0x503041[-0xdac+-0x17bd*0x1+0x7*0x559]=(-_0x1d7fb5*_0x1ad046+_0x4c5d9d*_0x1d8e7c-_0xf57596*_0x146118)*_0x7bb58b,_0x503041[-0x7d*0x10+-0x1897+-0x1037*-0x2]=(_0x202675*_0x1ad046-_0x1034c3*_0x1d8e7c+_0x3aefef*_0x146118)*_0x7bb58b,_0x503041[-0x1067+0x1a7*0xa+-0x17]=(_0x3fc67c*_0x48352c-_0xe61f0b*_0x3e3a66+_0x43cc02*_0x4dbc1c)*_0x7bb58b,_0x503041[0x834+0x7*-0x239+-0x1*-0x764]=(-_0x1fedfa*_0x48352c+_0x1aed78*_0x3e3a66-_0x251824*_0x4dbc1c)*_0x7bb58b,_0x503041[-0xf3*-0x13+-0x1a37*0x1+-0x838*-0x1]=(_0x1d7fb5*_0x468eb1-_0x5de884*_0x1d8e7c+_0xf57596*_0x415df0)*_0x7bb58b,_0x503041[-0x1798+0x1f81+-0x7de]=(-_0x202675*_0x468eb1+_0x556651*_0x1d8e7c-_0x3aefef*_0x415df0)*_0x7bb58b,_0x503041[0x6*-0x12f+-0x1e90+0x25b6]=(-_0x3fc67c*_0x1f31da+_0xe61f0b*_0x25ebd7-_0x3cc2cc*_0x4dbc1c)*_0x7bb58b,_0x503041[-0x3a1*-0x2+-0x2*0xcd9+0x127d]=(_0x1fedfa*_0x1f31da-_0x1aed78*_0x25ebd7+_0x46b292*_0x4dbc1c)*_0x7bb58b,_0x503041[0x1*-0xfdd+-0x355*0x3+0x3e*0x6b]=(-_0x1d7fb5*_0x2faa54+_0x5de884*_0x146118-_0x4c5d9d*_0x415df0)*_0x7bb58b,_0x503041[-0xe99+-0x373*0x3+-0x25*-0xad]=(_0x202675*_0x2faa54-_0x556651*_0x146118+_0x1034c3*_0x415df0)*_0x7bb58b;}return this;}['set'](_0x2adbf1){const _0x1f4160=this['data'];return _0x1f4160[-0x8ac+0x1c09+-0x135d]=_0x2adbf1[-0x1e53+-0x5bd+0x2410],_0x1f4160[-0x1d2c*-0x1+-0x257b+0x850]=_0x2adbf1[0x242c+0xc4b+0x3076*-0x1],_0x1f4160[0x1bc7+0x882+-0x2447]=_0x2adbf1[-0x57d*-0x5+-0x22f9+-0x5*-0x182],_0x1f4160[-0x46b+0x1ee6*0x1+0xe*-0x1e4]=_0x2adbf1[-0x1d79+-0x1de6+0x3b62],_0x1f4160[-0x11aa+0x9d*-0x24+-0x1*-0x27c2]=_0x2adbf1[0x96*-0x1d+0x2697+-0x1595],_0x1f4160[0x134*0xc+-0x1935+0xaca*0x1]=_0x2adbf1[-0x24eb+-0x23aa+0x489a],_0x1f4160[0xa7d+-0x1971+0xd5*0x12]=_0x2adbf1[0xa*-0x131+0x11d1*0x1+-0x5e1],_0x1f4160[-0x1435+-0x1d5+-0x1*-0x1611]=_0x2adbf1[-0x20e7+0x1ecb+0x223],_0x1f4160[0x124b+-0x63b+-0x8*0x181]=_0x2adbf1[-0xa5e*0x3+-0x7*-0x381+0x69b],_0x1f4160[-0x2*-0xa1a+0x183f+0x17b*-0x1e]=_0x2adbf1[0x3*-0x853+0x190f+-0xd],_0x1f4160[0x145d+-0x2317+0xec4]=_0x2adbf1[-0x440+-0x1b61+0x1fab],_0x1f4160[-0x59d*0x2+0x1*0xd43+-0x1fe]=_0x2adbf1[-0xece+-0x28d*0x1+0x1166],_0x1f4160[-0x2*0x332+-0x4*0x5a6+0xe84*0x2]=_0x2adbf1[-0x1*-0x14e7+-0x1*-0x399+0x272*-0xa],_0x1f4160[-0xe47+-0xb*0x6b+0x12ed]=_0x2adbf1[-0x1*-0x2096+-0x990+0x16f9*-0x1],_0x1f4160[0x417+0x137b+0x25a*-0xa]=_0x2adbf1[0x2ea+0x1955+0x7*-0x407],_0x1f4160[-0x8dc+-0x7ad+0x1098]=_0x2adbf1[0x838+-0x2*-0x943+0xcf*-0x21],this;}['setIdentit'+'y'](){const _0x378564=this['data'];return _0x378564[0x1*-0x240b+0x1d5+-0x2236*-0x1]=0x1636+0x16d9+-0x49*0x9e,_0x378564[-0x1dcc+0x2ae*-0xe+0x38b*0x13]=0xc48+0x1dbb+-0x2a03,_0x378564[-0x1823+-0x1*0x660+0x259*0xd]=0x982+-0x1d62+-0x13e*-0x10,_0x378564[-0x11*-0x219+0x292*0x7+0x1*-0x35a4]=0x1*0x19cb+-0x28b*-0xf+-0x3ff0,_0x378564[-0x157c+-0x4d3+0x17*0x125]=0x1c9f+-0x133c+0x963*-0x1,_0x378564[-0x221*0xd+0xcd1+-0x1*-0xee1]=0x991+-0xbd5+0x7*0x53,_0x378564[-0xc90+0x21bb+-0x1525]=0x154c+-0x19bb*-0x1+-0x2f07,_0x378564[-0x1*0x1070+0x12*0x1c2+-0x15*0xb9]=-0x7*-0x189+-0x92+-0xa2d,_0x378564[0x259a+-0x192f+0x7*-0x1c5]=0xe3*-0x1a+-0x617*0x1+0x1d25,_0x378564[0x216e+-0x1c9*0x13+0x86*0x1]=0x21a5+-0xc58+-0x13*0x11f,_0x378564[-0x145c+-0x995*0x3+0x223*0x17]=-0x1*0x175d+-0xd86+-0x1*-0x24e4,_0x378564[-0x1afb+0x1d8e+-0x12*0x24]=-0x1b+0x1af*0x6+-0x9ff,_0x378564[0x1*0x179c+0x14f*-0xd+-0x68d]=0x9b5*0x2+0x1b9*0x5+0x19*-0x11f,_0x378564[0x1d2b+0x1fb5*0x1+-0x3cd3]=0x14cb+0x9d1+0x3*-0xa34,_0x378564[0x409*0x6+-0x1*-0x2109+-0x3931]=0x1bbd+0x1954+-0x3511,_0x378564[-0x1580+-0xe7d+0x602*0x6]=-0x2a1+0x3*-0x99e+-0x34*-0x9b,this;}['setTRS'](_0x6f7bf1,_0x9f9968,_0x30e492){const _0x3d9448=_0x9f9968['x'],_0x3f5823=_0x9f9968['y'],_0x162df4=_0x9f9968['z'],_0x394d1b=_0x9f9968['w'],_0x2cfd77=_0x30e492['x'],_0x24aa2e=_0x30e492['y'],_0x517eca=_0x30e492['z'],_0x16e4d5=_0x3d9448+_0x3d9448,_0x5ba824=_0x3f5823+_0x3f5823,_0x216696=_0x162df4+_0x162df4,_0x5dbf4e=_0x3d9448*_0x16e4d5,_0x166267=_0x3d9448*_0x5ba824,_0x43a0f3=_0x3d9448*_0x216696,_0x2cddb0=_0x3f5823*_0x5ba824,_0x2ec755=_0x3f5823*_0x216696,_0x1920d3=_0x162df4*_0x216696,_0x32a560=_0x394d1b*_0x16e4d5,_0x1c9dbb=_0x394d1b*_0x5ba824,_0x374dcd=_0x394d1b*_0x216696,_0x5100ac=this['data'];return _0x5100ac[0xc5d+-0xb5e*0x2+0xa5f]=(-0x2195*-0x1+-0x2487+0x2f3-(_0x2cddb0+_0x1920d3))*_0x2cfd77,_0x5100ac[0x1181+-0x7d*-0x2d+-0x2779]=(_0x166267+_0x374dcd)*_0x2cfd77,_0x5100ac[-0x1ab9*-0x1+0xfac+-0x2a63]=(_0x43a0f3-_0x1c9dbb)*_0x2cfd77,_0x5100ac[0x248d+-0xe8*0x9+-0x1c62]=0xe7d+-0x1b52+0x1*0xcd5,_0x5100ac[-0x2c1*-0x4+0x6a4+-0x11a4]=(_0x166267-_0x374dcd)*_0x24aa2e,_0x5100ac[0x88c*0x3+-0x10*-0x65+0xaa5*-0x3]=(-0xd4c+0xd9*0x26+-0x2f*0x67-(_0x5dbf4e+_0x1920d3))*_0x24aa2e,_0x5100ac[0x26dd+0x1*0x21e5+-0x48bc]=(_0x2ec755+_0x32a560)*_0x24aa2e,_0x5100ac[-0x2*0x106c+0x4a*-0x61+0x3ce9*0x1]=0x15d3+0x1*-0x199+-0x143a,_0x5100ac[0x1*-0x16ab+0xc3*-0x3+0x3*0x854]=(_0x43a0f3+_0x1c9dbb)*_0x517eca,_0x5100ac[-0x23*-0x115+-0x6*0xbc+0x216e*-0x1]=(_0x2ec755-_0x32a560)*_0x517eca,_0x5100ac[0x12ca+-0x388*0x2+-0xbb0]=(-0x4a2*-0x2+0x5*0x282+-0x15cd-(_0x5dbf4e+_0x2cddb0))*_0x517eca,_0x5100ac[0x661+-0x31*0x4b+-0x1*-0x805]=-0x1*-0xceb+0x1eae+0x1*-0x2b99,_0x5100ac[-0x13*0x12f+-0x2*-0x129c+0x1*-0xeaf]=_0x6f7bf1['x'],_0x5100ac[-0x3*0x5b5+0x1087+-0x21*-0x5]=_0x6f7bf1['y'],_0x5100ac[0x14f*-0x4+-0x409*0x5+0x1977]=_0x6f7bf1['z'],_0x5100ac[0xe1f+0x2494*-0x1+-0x1684*-0x1]=0x135b+0x85f*-0x1+-0xafb*0x1,this;}['transpose'](_0x4a680d=this){const _0x472193=_0x4a680d['data'],_0x3fe611=this['data'];if(_0x472193===_0x3fe611){let _0x2153ff;_0x2153ff=_0x472193[-0x15d5+0x5*0xa6+0x1298],_0x3fe611[0x1af+-0x1880+0x16d2]=_0x472193[0xfb5+0x233a+0x365*-0xf],_0x3fe611[0x9aa+0x14b*0x1e+-0x3070]=_0x2153ff,_0x2153ff=_0x472193[0xe3c+-0x16eb*-0x1+0x2525*-0x1],_0x3fe611[0x20e1+-0xc03+-0x14dc]=_0x472193[0x1*0x14d3+-0x3*-0xdf+-0x6b*0x38],_0x3fe611[-0x24fd+0x5*0x2cf+0x16fa]=_0x2153ff,_0x2153ff=_0x472193[-0x1*-0x2c3+-0x117b+0x4e9*0x3],_0x3fe611[0x43*-0x29+0x5b*-0x59+0x2a61]=_0x472193[0xb*-0x16b+0x28*0x9b+0x1*-0x893],_0x3fe611[-0x1948+0x49*0x24+-0x10*-0xf1]=_0x2153ff,_0x2153ff=_0x472193[0x1e9*-0xe+-0x2473*-0x1+-0x9af],_0x3fe611[0x2*-0xc41+0x9ee+0x2*0x74d]=_0x472193[0x15d2+0x73*-0x4a+0xb75],_0x3fe611[0xca1*-0x3+-0x52a+0x2b16]=_0x2153ff,_0x2153ff=_0x472193[0x8*0x37d+0x1b6b*0x1+-0x374c],_0x3fe611[0xe*0x1cb+-0x24eb*0x1+-0x8*-0x17b]=_0x472193[0xd93+-0x1*0x1bad+-0xe27*-0x1],_0x3fe611[0x1bb*0x7+0xe2+0x2*-0x679]=_0x2153ff,_0x2153ff=_0x472193[0x1898+0x1024+-0x28b1],_0x3fe611[0x30a+-0xf1*0x28+-0x1*-0x22a9]=_0x472193[-0xec*-0x6+-0x22a4+0xe95*0x2],_0x3fe611[0xa4*-0x1d+0x64+0x123e]=_0x2153ff;}else _0x3fe611[-0x1dfe+0x1*-0x1aa3+-0x817*-0x7]=_0x472193[-0x1d88+-0x10f2+0x2e7a],_0x3fe611[0x1f0e+0x10c7+-0x2fd4]=_0x472193[-0x85a+0x4*-0x267+0x27*0x76],_0x3fe611[0x2*0x1307+-0x22b*0xd+-0x9dd]=_0x472193[0x1ea2+-0x3*0xad7+-0x1*-0x1eb],_0x3fe611[0x1*-0x8a5+0x2559+0x71*-0x41]=_0x472193[-0x2199+-0x1876*0x1+0x3a1b],_0x3fe611[-0x1*0xdab+-0x1*-0xd1+-0x44a*-0x3]=_0x472193[-0xbac+-0x16e2+0x228f],_0x3fe611[0x3*-0x837+0x17c3+0xe7]=_0x472193[-0x21e9+0x1*-0x2062+0x4250],_0x3fe611[0xc45+0x9*-0x185+-0x1*-0x16e]=_0x472193[0x934*-0x1+0x1228+-0x2f9*0x3],_0x3fe611[-0xb0b+-0x18de+-0x8fc*-0x4]=_0x472193[0x2622+0xd0*-0x3+-0x23a5],_0x3fe611[-0x1a98+-0x566*0x7+0x406a]=_0x472193[0x3b*0x59+0x1*0x17fc+0x65b*-0x7],_0x3fe611[0x1e2+0x1*0x17a+0x25*-0x17]=_0x472193[-0x7a+0x1c3c+-0x1bbc],_0x3fe611[0x14ef*0x1+0x3d*-0x6d+0x514]=_0x472193[0x2dd*0x1+-0x1*0xfb5+-0xc2*-0x11],_0x3fe611[-0x1071+0x2d*0x72+-0x38e]=_0x472193[0xa2f+0x25*0x81+-0x2*0xe63],_0x3fe611[0x1c8*0x15+-0x1078+-0x14e4]=_0x472193[-0x2*-0x2f9+-0x706+-0x5d*-0x3],_0x3fe611[-0x1*-0x22e3+-0x1*0x6cb+-0x1c0b]=_0x472193[0x23f*0x5+-0x4*0x87d+0x16c0],_0x3fe611[-0x13df+-0x1d57+-0x6*-0x836]=_0x472193[0x22*0x11f+-0x8fa*0x1+-0x1d19],_0x3fe611[0x1754+0x1829+0xd*-0x3a6]=_0x472193[0x1*0x1554+0xb*-0xf5+-0x7d*0x16];return this;}['getTransla'+'tion'](_0xaee410=new D()){return _0xaee410['set'](this['data'][-0x11da+-0x11c0+0x23a6],this['data'][-0x1e16*-0x1+-0x18c1+0xa9*-0x8],this['data'][-0x130d*-0x2+0x13fe+-0x3a0a]);}['getX'](_0x1f95a2=new D()){return _0x1f95a2['set'](this['data'][-0x19b*0xf+0x1*-0x63d+0x1e52],this['data'][-0x789*0x4+-0x100*-0x5+0x9d*0x29],this['data'][0x3*-0x449+0x7*-0xe6+0x1327*0x1]);}['getY'](_0x133662=new D()){return _0x133662['set'](this['data'][0x7*-0x32f+0x2327+-0x46*0x2f],this['data'][0x187+0x2*-0x1aa+0x1d2],this['data'][0x4a*0x5e+-0x23f1+-0x1*-0x8cb]);}['getZ'](_0x4e01ff=new D()){return _0x4e01ff['set'](this['data'][0x26c9+0x197*0x7+-0xa*0x4fd],this['data'][-0x22d8+0x4*0x6f8+0xa3*0xb],this['data'][0x57b*0x4+-0xa3*-0x1e+-0x28fc]);}['getScale'](_0x5217e5=new D()){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),_0x5217e5['set'](Os['length'](),Js['length'](),ei['length']()),_0x5217e5;}get['scaleSign'](){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),Os['cross'](Os,Js),Os['dot'](ei)<0xf39+0x57c*0x5+0x9*-0x4bd?-(0x6*-0x41d+0xb*-0x4f+0x1c14):-0x1b*-0xe1+0x2039*-0x1+-0x3*-0x2d5;}['setFromEul'+'erAngles'](_0x3846d1,_0x3cddd3,_0x5c54dc){_0x3846d1*=Y['DEG_TO_RAD'],_0x3cddd3*=Y['DEG_TO_RAD'],_0x5c54dc*=Y['DEG_TO_RAD'];const _0x5992af=Math['sin'](-_0x3846d1),_0x345443=Math['cos'](-_0x3846d1),_0x199af7=Math['sin'](-_0x3cddd3),_0x3f1a5c=Math['cos'](-_0x3cddd3),_0x52a7c0=Math['sin'](-_0x5c54dc),_0x4f9885=Math['cos'](-_0x5c54dc),_0x330b84=this['data'];return _0x330b84[0x2*0x17d+-0x1d05+-0x1a0b*-0x1]=_0x3f1a5c*_0x4f9885,_0x330b84[-0x74f*-0x4+0x6d*-0x59+-0x8aa*-0x1]=-_0x3f1a5c*_0x52a7c0,_0x330b84[0x2479+0x25*0x100+-0x4977]=_0x199af7,_0x330b84[0x7*-0x44a+0x22d*-0x11+-0x17*-0x2ea]=-0x1be2*-0x1+0x98f+-0x2571,_0x330b84[-0x581*-0x5+-0x12e8+-0x899]=_0x345443*_0x52a7c0+_0x4f9885*_0x5992af*_0x199af7,_0x330b84[0x17fe+-0x17ec+0x1*-0xd]=_0x345443*_0x4f9885-_0x5992af*_0x199af7*_0x52a7c0,_0x330b84[0x1ea1*0x1+-0x206c+0x1d1]=-_0x3f1a5c*_0x5992af,_0x330b84[0x1*0xc4b+-0xd0c+0x14*0xa]=0x10f+0xa33*0x1+-0xb42,_0x330b84[0xb3*-0xb+0xced+0x4a*-0x12]=_0x5992af*_0x52a7c0-_0x345443*_0x4f9885*_0x199af7,_0x330b84[-0x347*0x1+-0x11a5*-0x2+-0x1ffa*0x1]=_0x4f9885*_0x5992af+_0x345443*_0x199af7*_0x52a7c0,_0x330b84[0x335*0x9+-0xbf6+0x59f*-0x3]=_0x345443*_0x3f1a5c,_0x330b84[-0x332*0x5+-0x82d+-0x2*-0xc19]=0x240f+0x1cdd+0x1*-0x40ec,_0x330b84[-0xcc7*-0x2+-0xa99*0x2+-0x4*0x114]=0x26e6+-0x27*0x4e+-0x1b04,_0x330b84[-0x7c2+0xec*0x1+-0x1*-0x6e3]=0xe75+-0x2150+0x12db,_0x330b84[0xee6+0x61*0x13+-0x160b]=-0x287+-0x7b8+0xa3f*0x1,_0x330b84[0x2217+0x1d*0xbe+0x223*-0x1a]=-0x17a2+-0x1*-0xc5f+0xe*0xce,this;}['getEulerAn'+'gles'](_0x7e5389=new D()){this['getScale'](Hl);const _0x594111=Hl['x'],_0x259460=Hl['y'],_0x226beb=Hl['z'];if(_0x594111===-0xe6*-0x2b+-0x5*-0x36d+-0x37c3||_0x259460===-0x1360+-0x3e4*0x6+0x2ab8||_0x226beb===-0x228a+-0x1*-0x233a+-0x16*0x8)return _0x7e5389['set'](0x1068+-0x25*0x3b+-0x1*0x7e1,0x38b*-0x2+-0x6bf+-0xdd5*-0x1,0x28d*-0x2+-0x67b*-0x1+0x161*-0x1);const _0x280a9e=this['data'],_0x992970=Math['asin'](-_0x280a9e[0x7e*0x4c+-0x551*0x3+-0x1573]/_0x594111),_0x5f6dde=Math['PI']*(0x24*-0x11+0x284+-0x20+0.5);let _0x1b31db,_0x1f5ac3;return _0x992970<_0x5f6dde?_0x992970>-_0x5f6dde?(_0x1b31db=Math['atan2'](_0x280a9e[-0x1b*0x1e+-0xef*0x13+0x1*0x14ed]/_0x259460,_0x280a9e[-0x2*-0x286+0x118+-0x61a]/_0x226beb),_0x1f5ac3=Math['atan2'](_0x280a9e[0x7*-0x448+-0xb8e+0x1*0x2987]/_0x594111,_0x280a9e[0x343*-0x6+0x2dd+0x10b5]/_0x594111)):(_0x1f5ac3=0x1f56+-0xaf4+0x1*-0x1462,_0x1b31db=-Math['atan2'](_0x280a9e[-0x2624+-0x401+-0x1*-0x2a29]/_0x259460,_0x280a9e[0x7c0+-0xb74+0x3b9]/_0x259460)):(_0x1f5ac3=-0x1*-0xcaa+-0x3b*-0x33+-0x186b*0x1,_0x1b31db=Math['atan2'](_0x280a9e[-0x4*-0x5ad+-0x1*-0x4f9+-0x1ba9]/_0x259460,_0x280a9e[-0x1ab*0x4+-0x3d*0x97+0x2aac]/_0x259460)),_0x7e5389['set'](_0x1b31db,_0x992970,_0x1f5ac3)['mulScalar'](Y['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};h(Qr,'IDENTITY',Object['freeze'](new Qr())),h(Qr,'ZERO',Object['freeze'](new Qr()['set']([0x6d6+-0x2627+0x1f51*0x1,-0x40f+-0x1445+0x2*0xc2a,-0x12c0+-0x1e2f+0x30ef,0x1ab3+0xec6+-0x2979,0x615*0x3+0x2016+-0x1*0x3255,-0x1c3d+-0x21f8+0x3e35,0xc*0x182+0x3*-0x996+-0xf*-0xb6,0x482*0x4+0x4d0+-0x16d8,-0x60*-0xf+0xf11+0x1*-0x14b1,0x21e6+-0x3b*-0x23+-0x29f7,0x233*0x8+0x1*0xb2d+0x5c1*-0x5,0x43a*0x8+-0x1*-0x1862+0xd*-0x47a,-0x912+0x1*-0x17db+0x20ed,-0x1b71+-0x20*0x53+0x3*0xc9b,-0x1*-0x1cc5+0x1*-0x126e+-0xa57,0x1bb9*0x1+-0x1ac+0x15f*-0x13])));let te=Qr;const Sn=class Sn{constructor(_0x22c455=0x25c6+-0x3d0+-0x2a*0xcf,_0x1f36dd=-0x1*0x10be+0x2*-0x218+0x14ee,_0x77ed69=-0x51+0x1f78+-0x19*0x13f,_0x2d0393=0x1723*-0x1+0x1b0f+-0x3eb){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x22c455['length']===-0x1dd8+0x6*-0x107+0x1*0x2406?(this['x']=_0x22c455[-0xdab+-0x72d+-0x14d8*-0x1],this['y']=_0x22c455[-0x24fe+-0x180c+0x3d0b],this['z']=_0x22c455[-0x1c8d+-0x9*0x96+0x21d5],this['w']=_0x22c455[0x3e1*-0x3+0x2*0xaae+0x9b6*-0x1]):(this['x']=_0x22c455,this['y']=_0x1f36dd,this['z']=_0x77ed69,this['w']=_0x2d0393);}['clone'](){const _0x29c607=this['constructo'+'r'];return new _0x29c607(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0xa31407=this){return this['x']=_0xa31407['x']*-(0x1c8e+-0x792+-0x14fb),this['y']=_0xa31407['y']*-(0x24*0x58+0xa17+-0x7d*0x2e),this['z']=_0xa31407['z']*-(0x98d*-0x1+0x5*-0x63d+0x28bf),this['w']=_0xa31407['w'],this;}['copy'](_0x192541){return this['x']=_0x192541['x'],this['y']=_0x192541['y'],this['z']=_0x192541['z'],this['w']=_0x192541['w'],this;}['dot'](_0x3333f7){return this['x']*_0x3333f7['x']+this['y']*_0x3333f7['y']+this['z']*_0x3333f7['z']+this['w']*_0x3333f7['w'];}['equals'](_0x5ddf4d){return this['x']===_0x5ddf4d['x']&&this['y']===_0x5ddf4d['y']&&this['z']===_0x5ddf4d['z']&&this['w']===_0x5ddf4d['w'];}['equalsAppr'+'ox'](_0x300ed5,_0xe0f50e=-0xad*-0xb+0x1ee0+-0x264f+0.000001){return Math['abs'](this['x']-_0x300ed5['x'])<_0xe0f50e&&Math['abs'](this['y']-_0x300ed5['y'])<_0xe0f50e&&Math['abs'](this['z']-_0x300ed5['z'])<_0xe0f50e&&Math['abs'](this['w']-_0x300ed5['w'])<_0xe0f50e;}['getAxisAng'+'le'](_0x2257c3){let _0xf68f89=Math['acos'](this['w'])*(0x1524+0x2*0xb71+0xb01*-0x4);const _0x3eb891=Math['sin'](_0xf68f89/(-0x1*0x5bf+-0x15ff+0x1bc0));return _0x3eb891!==0x184f+0x1073+-0x28c2?(_0x2257c3['x']=this['x']/_0x3eb891,_0x2257c3['y']=this['y']/_0x3eb891,_0x2257c3['z']=this['z']/_0x3eb891,(_0x2257c3['x']<0xd4*0x20+0x2*0x96+-0x1bac||_0x2257c3['y']<-0x1c6b+0x1f7d+-0x312||_0x2257c3['z']<0x1*0xaab+0x7c3*0x1+0x151*-0xe)&&(_0x2257c3['x']*=-(0x1ff3*-0x1+-0x1*-0x1fb7+0x3d),_0x2257c3['y']*=-(-0x270a+-0x154a+0x3c55),_0x2257c3['z']*=-(-0x25*0x22+-0x1*0xc83+0x116e),_0xf68f89*=-(0x7b3+-0x11d*0xe+0x7e4))):(_0x2257c3['x']=-0x603*-0x1+0x15eb+-0x3*0x94f,_0x2257c3['y']=0x1*-0x8fe+0x3af+0x54f,_0x2257c3['z']=0x1afd+-0x1*0x218d+0x690),_0xf68f89*Y['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x40c55b=new D()){let _0xf3454d,_0x89c93a,_0x5f1517;const _0x5344cd=this['x'],_0x169152=this['y'],_0x5199de=this['z'],_0xae682c=this['w'],_0x3676a4=(0x12f9*0x2+0xcd2+-0x32c2)*(_0xae682c*_0x169152-_0x5344cd*_0x5199de);return _0x3676a4<=-(0x208d+0x1*-0x12dd+-0xdb0+0.99999)?(_0xf3454d=(-0x3db+0xd01*0x1+0xa*-0xea)*Math['atan2'](_0x5344cd,_0xae682c),_0x89c93a=-Math['PI']/(-0x6*0x3d7+0x127f*0x2+-0xdf2),_0x5f1517=0x2437+0x1b5c+-0x3f93):_0x3676a4>=0x14*0x19d+0x14*0x6d+-0x57*0x78+0.99999?(_0xf3454d=(0x1*0x163d+0x1a*-0x100+0x1*0x3c5)*Math['atan2'](_0x5344cd,_0xae682c),_0x89c93a=Math['PI']/(-0xfb5+-0x269*-0xd+0x1*-0xf9e),_0x5f1517=0x166a+-0x15b0+-0xba):(_0xf3454d=Math['atan2']((-0x7d*0x37+-0x1c43+0x3720)*(_0xae682c*_0x5344cd+_0x169152*_0x5199de),0x140*-0x12+0x5f9*-0x3+0x286c-(0x1*-0x12cf+-0xd*0xdf+0x1e24)*(_0x5344cd*_0x5344cd+_0x169152*_0x169152)),_0x89c93a=Math['asin'](_0x3676a4),_0x5f1517=Math['atan2']((0x6e*-0x23+-0x1f41+0x1b7*0x1b)*(_0xae682c*_0x5199de+_0x5344cd*_0x169152),-0x23e5+0x1ccd+0x719-(-0x185a+0x529+0x1333)*(_0x169152*_0x169152+_0x5199de*_0x5199de))),_0x40c55b['set'](_0xf3454d,_0x89c93a,_0x5f1517)['mulScalar'](Y['RAD_TO_DEG']);}['invert'](_0x4e2a4f=this){return this['conjugate'](_0x4e2a4f)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x5956d8,_0x7ee6a5,_0x126e42){const _0x41dbb1=(0xd7d+0x8b*-0x5+-0xac5-_0x126e42)*(_0x5956d8['dot'](_0x7ee6a5)<0x1d*0x56+-0x687*0x3+0x9d7?-(-0x2365+0x259c+-0x236):0xa2*-0x12+0x173b*0x1+-0xa*0x12f);return this['x']=_0x5956d8['x']*_0x41dbb1+_0x7ee6a5['x']*_0x126e42,this['y']=_0x5956d8['y']*_0x41dbb1+_0x7ee6a5['y']*_0x126e42,this['z']=_0x5956d8['z']*_0x41dbb1+_0x7ee6a5['z']*_0x126e42,this['w']=_0x5956d8['w']*_0x41dbb1+_0x7ee6a5['w']*_0x126e42,this['normalize']();}['mul'](_0xb03a34){const _0x9246d0=this['x'],_0x4eb300=this['y'],_0x5a613e=this['z'],_0x14ec04=this['w'],_0x2ed370=_0xb03a34['x'],_0x4c72ab=_0xb03a34['y'],_0x19aca6=_0xb03a34['z'],_0x512a84=_0xb03a34['w'];return this['x']=_0x14ec04*_0x2ed370+_0x9246d0*_0x512a84+_0x4eb300*_0x19aca6-_0x5a613e*_0x4c72ab,this['y']=_0x14ec04*_0x4c72ab+_0x4eb300*_0x512a84+_0x5a613e*_0x2ed370-_0x9246d0*_0x19aca6,this['z']=_0x14ec04*_0x19aca6+_0x5a613e*_0x512a84+_0x9246d0*_0x4c72ab-_0x4eb300*_0x2ed370,this['w']=_0x14ec04*_0x512a84-_0x9246d0*_0x2ed370-_0x4eb300*_0x4c72ab-_0x5a613e*_0x19aca6,this;}['mulScalar'](_0x354bb9,_0x2517e8=this){return this['x']=_0x2517e8['x']*_0x354bb9,this['y']=_0x2517e8['y']*_0x354bb9,this['z']=_0x2517e8['z']*_0x354bb9,this['w']=_0x2517e8['w']*_0x354bb9,this;}['mul2'](_0x139b5f,_0x514d95){const _0x5f31da=_0x139b5f['x'],_0x56e98e=_0x139b5f['y'],_0xb6bd3=_0x139b5f['z'],_0x521b67=_0x139b5f['w'],_0x14c8a9=_0x514d95['x'],_0x22d86f=_0x514d95['y'],_0x2ec405=_0x514d95['z'],_0x5780c2=_0x514d95['w'];return this['x']=_0x521b67*_0x14c8a9+_0x5f31da*_0x5780c2+_0x56e98e*_0x2ec405-_0xb6bd3*_0x22d86f,this['y']=_0x521b67*_0x22d86f+_0x56e98e*_0x5780c2+_0xb6bd3*_0x14c8a9-_0x5f31da*_0x2ec405,this['z']=_0x521b67*_0x2ec405+_0xb6bd3*_0x5780c2+_0x5f31da*_0x22d86f-_0x56e98e*_0x14c8a9,this['w']=_0x521b67*_0x5780c2-_0x5f31da*_0x14c8a9-_0x56e98e*_0x22d86f-_0xb6bd3*_0x2ec405,this;}['normalize'](_0x454922=this){let _0x382f8e=_0x454922['length']();return _0x382f8e===0x122d+-0x2c5*-0x6+-0x22cb?(this['x']=this['y']=this['z']=-0x8b4+0x112b*-0x1+0x19df,this['w']=-0x16ae+-0xd*-0x9+0x163a*0x1):(_0x382f8e=(-0x1d7*-0xc+-0x2286+0xc73)/_0x382f8e,this['x']=_0x454922['x']*_0x382f8e,this['y']=_0x454922['y']*_0x382f8e,this['z']=_0x454922['z']*_0x382f8e,this['w']=_0x454922['w']*_0x382f8e),this;}['set'](_0xba28a1,_0x39bbb8,_0x4a8f21,_0xa01a37){return this['x']=_0xba28a1,this['y']=_0x39bbb8,this['z']=_0x4a8f21,this['w']=_0xa01a37,this;}['setFromAxi'+'sAngle'](_0x509816,_0x13a1e2){_0x13a1e2*=(-0x1d89+0x1*-0xb3d+0x28c6*0x1+0.5)*Y['DEG_TO_RAD'];const _0xa5f7e8=Math['sin'](_0x13a1e2),_0x432bda=Math['cos'](_0x13a1e2);return this['x']=_0xa5f7e8*_0x509816['x'],this['y']=_0xa5f7e8*_0x509816['y'],this['z']=_0xa5f7e8*_0x509816['z'],this['w']=_0x432bda,this;}['setFromEul'+'erAngles'](_0x4b0595,_0x4c00a4,_0x2767cf){if(_0x4b0595 instanceof D){const _0x30670a=_0x4b0595;_0x4b0595=_0x30670a['x'],_0x4c00a4=_0x30670a['y'],_0x2767cf=_0x30670a['z'];}const _0x2ddecc=(-0x1*-0x20e+-0x163*-0x1a+-0xc*0x32d+0.5)*Y['DEG_TO_RAD'];_0x4b0595*=_0x2ddecc,_0x4c00a4*=_0x2ddecc,_0x2767cf*=_0x2ddecc;const _0x3b4b77=Math['sin'](_0x4b0595),_0x4d0f0d=Math['cos'](_0x4b0595),_0x562cc1=Math['sin'](_0x4c00a4),_0x457739=Math['cos'](_0x4c00a4),_0x1ed471=Math['sin'](_0x2767cf),_0x215d25=Math['cos'](_0x2767cf);return this['x']=_0x3b4b77*_0x457739*_0x215d25-_0x4d0f0d*_0x562cc1*_0x1ed471,this['y']=_0x4d0f0d*_0x562cc1*_0x215d25+_0x3b4b77*_0x457739*_0x1ed471,this['z']=_0x4d0f0d*_0x457739*_0x1ed471-_0x3b4b77*_0x562cc1*_0x215d25,this['w']=_0x4d0f0d*_0x457739*_0x215d25+_0x3b4b77*_0x562cc1*_0x1ed471,this;}['setFromMat'+'4'](_0x4818ae){const _0x1095b6=_0x4818ae['data'];let _0x5735f6=_0x1095b6[-0x3a8*0x6+-0x1c6f+0x325f],_0xfec711=_0x1095b6[0x1634+0x1db+-0x180e],_0x653c99=_0x1095b6[0x1db0+-0xb*0xc9+-0x150b],_0x20ac36=_0x1095b6[0x45d+-0x116b+0xd12],_0x188df1=_0x1095b6[-0x52a+-0x80e*-0x1+-0x2df],_0x2022dc=_0x1095b6[-0x8*-0x202+-0xdb2+-0x258],_0x409446=_0x1095b6[-0x251+-0x1*0x9ff+0x316*0x4],_0x7c2dfd=_0x1095b6[-0x36c*-0x5+0x104*0x9+0x8bd*-0x3],_0x53e884=_0x1095b6[0xad4+0x2*-0x38a+-0x19*0x26],_0x5564c1;return _0x5564c1=_0x5735f6*_0x5735f6+_0xfec711*_0xfec711+_0x653c99*_0x653c99,_0x5564c1===0x1380+0x545*-0x1+-0xe3b?this['set'](-0x2*0x5cb+-0x2f*0xb8+0x2d5e,-0x979*0x2+0x6ac+-0x2*-0x623,0x1*0x675+-0x1*0xc6d+-0x5f8*-0x1,-0x31f*0x1+0x5b6+-0x296):(_0x5564c1=(-0x2*0x116e+0x1*-0x1a57+-0x3d34*-0x1)/Math['sqrt'](_0x5564c1),_0x5735f6*=_0x5564c1,_0xfec711*=_0x5564c1,_0x653c99*=_0x5564c1,_0x5564c1=_0x20ac36*_0x20ac36+_0x188df1*_0x188df1+_0x2022dc*_0x2022dc,_0x5564c1===0x17b+0x1*0xc4+0x73*-0x5?this['set'](0x1b54+0x223b+-0x67*0x99,0x1*-0xc6d+0x1472+-0x805,-0x2404+0x68c+-0x148*-0x17,-0xa82+0x1*-0x1c95+0x2718):(_0x5564c1=(-0x244+0x1c2d+-0x19e8)/Math['sqrt'](_0x5564c1),_0x20ac36*=_0x5564c1,_0x188df1*=_0x5564c1,_0x2022dc*=_0x5564c1,_0x5564c1=_0x409446*_0x409446+_0x7c2dfd*_0x7c2dfd+_0x53e884*_0x53e884,_0x5564c1===0x1800+0x1e9b+-0x7*0x7cd?this['set'](-0x13*0xa7+0xc4e*0x1+0x17,-0x11f0+-0xba+-0x2*-0x955,0x1651+-0x35*0x5+-0x3*0x718,-0x2517+-0x2*0x19+0x12a5*0x2):(_0x5564c1=(0x3*-0x31d+-0xd73+-0x185*-0xf)/Math['sqrt'](_0x5564c1),_0x409446*=_0x5564c1,_0x7c2dfd*=_0x5564c1,_0x53e884*=_0x5564c1,_0x53e884<-0x17f2*-0x1+-0x47*0x19+-0x1103*0x1?_0x5735f6>_0x188df1?this['set'](-0x1dbe+0x2*-0x49a+0x26f3+_0x5735f6-_0x188df1-_0x53e884,_0xfec711+_0x20ac36,_0x409446+_0x653c99,_0x2022dc-_0x7c2dfd):this['set'](_0xfec711+_0x20ac36,0x1d5a*-0x1+-0x153e+0x1*0x3299-_0x5735f6+_0x188df1-_0x53e884,_0x2022dc+_0x7c2dfd,_0x409446-_0x653c99):_0x5735f6<-_0x188df1?this['set'](_0x409446+_0x653c99,_0x2022dc+_0x7c2dfd,0x1*0x3a5+-0x2047+0x1ca3-_0x5735f6-_0x188df1+_0x53e884,_0xfec711-_0x20ac36):this['set'](_0x2022dc-_0x7c2dfd,_0x409446-_0x653c99,_0xfec711-_0x20ac36,0x1b79+0x6*-0x359+-0x762+_0x5735f6+_0x188df1+_0x53e884),this['mulScalar']((-0x1c21+-0x200f+0x1*0x3c31)/this['length']()))));}['setFromDir'+'ections'](_0x369a34,_0x359994){const _0x4bae8a=0x19a+0x1cbc+-0x1e55+_0x369a34['dot'](_0x359994);return _0x4bae8a<Number['EPSILON']?Math['abs'](_0x369a34['x'])>Math['abs'](_0x369a34['y'])?(this['x']=-_0x369a34['z'],this['y']=-0x80e*-0x1+-0x1*0x1173+0x41*0x25,this['z']=_0x369a34['x'],this['w']=0x26a0*-0x1+0x36*0x5e+0x12cc):(this['x']=0x10a*-0x13+0x1a42*-0x1+0x100*0x2e,this['y']=-_0x369a34['z'],this['z']=_0x369a34['y'],this['w']=-0x2060+0x13f8*0x1+-0x1*-0xc68):(this['x']=_0x369a34['y']*_0x359994['z']-_0x369a34['z']*_0x359994['y'],this['y']=_0x369a34['z']*_0x359994['x']-_0x369a34['x']*_0x359994['z'],this['z']=_0x369a34['x']*_0x359994['y']-_0x369a34['y']*_0x359994['x'],this['w']=_0x4bae8a),this['normalize']();}['slerp'](_0x47ac79,_0x17446c,_0x4ef60d){const _0x255316=_0x47ac79['x'],_0x5a0f2c=_0x47ac79['y'],_0x425113=_0x47ac79['z'],_0x35058d=_0x47ac79['w'];let _0x35d4a1=_0x17446c['x'],_0x309159=_0x17446c['y'],_0x3db9fc=_0x17446c['z'],_0x1627f8=_0x17446c['w'],_0x33035f=_0x35058d*_0x1627f8+_0x255316*_0x35d4a1+_0x5a0f2c*_0x309159+_0x425113*_0x3db9fc;if(_0x33035f<-0x1*-0x1f2a+0x18*-0x19+-0x1cd2&&(_0x1627f8=-_0x1627f8,_0x35d4a1=-_0x35d4a1,_0x309159=-_0x309159,_0x3db9fc=-_0x3db9fc,_0x33035f=-_0x33035f),Math['abs'](_0x33035f)>=0x1dc3*-0x1+0x639*-0x1+0xf9*0x25)return this['w']=_0x35058d,this['x']=_0x255316,this['y']=_0x5a0f2c,this['z']=_0x425113,this;const _0x50f764=Math['acos'](_0x33035f),_0x24fb9e=Math['sqrt'](0x2*0xaee+-0x8a4+-0xd37-_0x33035f*_0x33035f);if(Math['abs'](_0x24fb9e)<-0x1*0x26f3+0x1*0x21f3+0xa0*0x8+0.001)return this['w']=_0x35058d*(-0xc5*-0x27+-0x108d*-0x1+-0x2e90+0.5)+_0x1627f8*(0x1*0x26ad+0x13e7+-0x3a94+0.5),this['x']=_0x255316*(-0x52d+0xda9+0x2d4*-0x3+0.5)+_0x35d4a1*(0x7*0x34a+-0x994+-0xd72+0.5),this['y']=_0x5a0f2c*(-0x1*-0x26b6+0x1bd9*-0x1+-0xadd+0.5)+_0x309159*(-0x1987*-0x1+0x3*-0x3f1+-0x4*0x36d+0.5),this['z']=_0x425113*(-0x999+-0x990+0x1329+0.5)+_0x3db9fc*(-0x1*-0x909+-0x1*-0x133+-0xa3c+0.5),this;const _0x1c421a=Math['sin']((-0x743*0x4+-0x22ab+0x3fb8-_0x4ef60d)*_0x50f764)/_0x24fb9e,_0x5d322d=Math['sin'](_0x4ef60d*_0x50f764)/_0x24fb9e;return this['w']=_0x35058d*_0x1c421a+_0x1627f8*_0x5d322d,this['x']=_0x255316*_0x1c421a+_0x35d4a1*_0x5d322d,this['y']=_0x5a0f2c*_0x1c421a+_0x309159*_0x5d322d,this['z']=_0x425113*_0x1c421a+_0x3db9fc*_0x5d322d,this;}['transformV'+'ector'](_0x3adcb0,_0x4e4d74=new D()){const _0x21b8f3=_0x3adcb0['x'],_0x293522=_0x3adcb0['y'],_0x22af6f=_0x3adcb0['z'],_0x2c015a=this['x'],_0x5c2ef7=this['y'],_0xedec4f=this['z'],_0x43e084=this['w'],_0x2c7aa4=_0x43e084*_0x21b8f3+_0x5c2ef7*_0x22af6f-_0xedec4f*_0x293522,_0x584572=_0x43e084*_0x293522+_0xedec4f*_0x21b8f3-_0x2c015a*_0x22af6f,_0x578be9=_0x43e084*_0x22af6f+_0x2c015a*_0x293522-_0x5c2ef7*_0x21b8f3,_0x1b9771=-_0x2c015a*_0x21b8f3-_0x5c2ef7*_0x293522-_0xedec4f*_0x22af6f;return _0x4e4d74['x']=_0x2c7aa4*_0x43e084+_0x1b9771*-_0x2c015a+_0x584572*-_0xedec4f-_0x578be9*-_0x5c2ef7,_0x4e4d74['y']=_0x584572*_0x43e084+_0x1b9771*-_0x5c2ef7+_0x578be9*-_0x2c015a-_0x2c7aa4*-_0xedec4f,_0x4e4d74['z']=_0x578be9*_0x43e084+_0x1b9771*-_0xedec4f+_0x2c7aa4*-_0x5c2ef7-_0x584572*-_0x2c015a,_0x4e4d74;}['fromArray'](_0x2b9543,_0x11e8e9=0x32f*-0x2+0xf18+-0x8ba){return this['x']=_0x2b9543[_0x11e8e9]??this['x'],this['y']=_0x2b9543[_0x11e8e9+(0x15d0+-0x7ca*0x4+0x959)]??this['y'],this['z']=_0x2b9543[_0x11e8e9+(0x1*0x21c5+0x1e9d*-0x1+-0x326)]??this['z'],this['w']=_0x2b9543[_0x11e8e9+(-0xb*-0x3b+-0x1*0xfe9+-0x1*-0xd63)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x2691ff=[],_0x3be969=0x3*-0x255+0x16*0x184+-0x5f*0x47){return _0x2691ff[_0x3be969]=this['x'],_0x2691ff[_0x3be969+(0x32f*-0x1+-0x1*-0x1460+-0x1130)]=this['y'],_0x2691ff[_0x3be969+(-0x1f2*0x2+0x24ed*-0x1+0x28d3)]=this['z'],_0x2691ff[_0x3be969+(0x13b7*-0x1+0x3ec+0x77*0x22)]=this['w'],_0x2691ff;}};h(Sn,'IDENTITY',Object['freeze'](new Sn(-0x1575+0x1f3a+0x1*-0x9c5,0x1ba*0x1+-0x2ee*-0xa+-0x1f06,0xb57*-0x1+0x889+-0x1*-0x2ce,0x15df*-0x1+-0xb5f+0x213f))),h(Sn,'ZERO',Object['freeze'](new Sn(-0x11d4+0x15d*-0x19+-0x89*-0x61,-0x1*0x1791+-0x16*0x86+0x2315*0x1,-0x1e8c+-0x1*0x1c2d+0x3ab9,0x1d0c+-0xcb1+-0x105b)));let le=Sn;const Pa=new D(),Ma=new D(),Um=new D(),Bm=new D(),gx=new D();class De{constructor(_0x3c7d0c,_0x39204f){h(this,'center',new D()),h(this,'halfExtent'+'s',new D(0xe85+0x2*0xa38+0x1*-0x22f5+0.5,0x59a+0x10a8*-0x2+0x2*0xddb+0.5,0xfa4+-0x2522+0xe*0x189+0.5)),h(this,'_min',new D()),h(this,'_max',new D()),(_0x3c7d0c&&this['center']['copy'](_0x3c7d0c),_0x39204f&&this['halfExtent'+'s']['copy'](_0x39204f));}['add'](_0x194961){const _0x22ffad=this['center'],_0x29dbbe=_0x22ffad['x'],_0x1417cc=_0x22ffad['y'],_0x145c29=_0x22ffad['z'],_0x3595e8=this['halfExtent'+'s'],_0x351834=_0x3595e8['x'],_0x18d96d=_0x3595e8['y'],_0x453081=_0x3595e8['z'];let _0x1a1f53=_0x29dbbe-_0x351834,_0x416367=_0x29dbbe+_0x351834,_0x52b86c=_0x1417cc-_0x18d96d,_0x386e09=_0x1417cc+_0x18d96d,_0x2d50d4=_0x145c29-_0x453081,_0x33d6f2=_0x145c29+_0x453081;const _0x2be91a=_0x194961['center'],_0x2716cb=_0x2be91a['x'],_0x222766=_0x2be91a['y'],_0xc93ea8=_0x2be91a['z'],_0x4d1933=_0x194961['halfExtent'+'s'],_0x58a030=_0x4d1933['x'],_0xeaba94=_0x4d1933['y'],_0x3fb10d=_0x4d1933['z'],_0x5660b7=_0x2716cb-_0x58a030,_0x1536a2=_0x2716cb+_0x58a030,_0x3463fa=_0x222766-_0xeaba94,_0x283090=_0x222766+_0xeaba94,_0x3354e0=_0xc93ea8-_0x3fb10d,_0x45875d=_0xc93ea8+_0x3fb10d;_0x5660b7<_0x1a1f53&&(_0x1a1f53=_0x5660b7),_0x1536a2>_0x416367&&(_0x416367=_0x1536a2),_0x3463fa<_0x52b86c&&(_0x52b86c=_0x3463fa),_0x283090>_0x386e09&&(_0x386e09=_0x283090),_0x3354e0<_0x2d50d4&&(_0x2d50d4=_0x3354e0),_0x45875d>_0x33d6f2&&(_0x33d6f2=_0x45875d),_0x22ffad['x']=(_0x1a1f53+_0x416367)*(-0x5e2+-0x1147*-0x1+0xb65*-0x1+0.5),_0x22ffad['y']=(_0x52b86c+_0x386e09)*(0x811+-0x15c5+-0x2*-0x6da+0.5),_0x22ffad['z']=(_0x2d50d4+_0x33d6f2)*(-0x1db0+-0x1f87*-0x1+-0x9d*0x3+0.5),_0x3595e8['x']=(_0x416367-_0x1a1f53)*(-0x7*0x1+-0x1*-0x17c9+-0x17c2+0.5),_0x3595e8['y']=(_0x386e09-_0x52b86c)*(-0x269a+0xfc*0x9+-0x4f5*-0x6+0.5),_0x3595e8['z']=(_0x33d6f2-_0x2d50d4)*(-0x1b65+-0xb20+0x13*0x207+0.5);}['copy'](_0x238f63){this['center']['copy'](_0x238f63['center']),this['halfExtent'+'s']['copy'](_0x238f63['halfExtent'+'s']);}['clone'](){return new De(this['center'],this['halfExtent'+'s']);}['intersects'](_0x1fab1e){const _0x4b6125=this['getMax'](),_0x6ed8c3=this['getMin'](),_0x185fc6=_0x1fab1e['getMax'](),_0x19d110=_0x1fab1e['getMin']();return _0x6ed8c3['x']<=_0x185fc6['x']&&_0x4b6125['x']>=_0x19d110['x']&&_0x6ed8c3['y']<=_0x185fc6['y']&&_0x4b6125['y']>=_0x19d110['y']&&_0x6ed8c3['z']<=_0x185fc6['z']&&_0x4b6125['z']>=_0x19d110['z'];}['_intersect'+'sRay'](_0x5b7020,_0x2c771d){const _0x2fdb3d=Pa['copy'](this['getMin']())['sub'](_0x5b7020['origin']),_0x2fa6d4=Ma['copy'](this['getMax']())['sub'](_0x5b7020['origin']),_0x5d3eb4=_0x5b7020['direction'];_0x5d3eb4['x']===-0x22c2*-0x1+-0x2c*-0x62+-0x529*0xa?(_0x2fdb3d['x']=_0x2fdb3d['x']<0x32f+-0x3*-0x362+0xd55*-0x1?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x2fa6d4['x']=_0x2fa6d4['x']<-0x2509*0x1+0x4*-0x531+0x39cd?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x2fdb3d['x']/=_0x5d3eb4['x'],_0x2fa6d4['x']/=_0x5d3eb4['x']),_0x5d3eb4['y']===-0x399+0xd56+-0x3*0x33f?(_0x2fdb3d['y']=_0x2fdb3d['y']<0xe99*0x1+0x1145*-0x1+0x2ac?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x2fa6d4['y']=_0x2fa6d4['y']<-0x7*-0x543+-0x167f*-0x1+-0x3b54?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x2fdb3d['y']/=_0x5d3eb4['y'],_0x2fa6d4['y']/=_0x5d3eb4['y']),_0x5d3eb4['z']===0x1da6+-0xd20+-0xf*0x11a?(_0x2fdb3d['z']=_0x2fdb3d['z']<-0x2c1+-0x1*-0x1337+-0x1076?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x2fa6d4['z']=_0x2fa6d4['z']<0x3*0xb65+-0x1915*0x1+-0x91a?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x2fdb3d['z']/=_0x5d3eb4['z'],_0x2fa6d4['z']/=_0x5d3eb4['z']);const _0xd2a54=Um['set'](Math['min'](_0x2fdb3d['x'],_0x2fa6d4['x']),Math['min'](_0x2fdb3d['y'],_0x2fa6d4['y']),Math['min'](_0x2fdb3d['z'],_0x2fa6d4['z'])),_0x1d2e70=Bm['set'](Math['max'](_0x2fdb3d['x'],_0x2fa6d4['x']),Math['max'](_0x2fdb3d['y'],_0x2fa6d4['y']),Math['max'](_0x2fdb3d['z'],_0x2fa6d4['z'])),_0x2c9bf1=Math['min'](Math['min'](_0x1d2e70['x'],_0x1d2e70['y']),_0x1d2e70['z']),_0x9e8429=Math['max'](Math['max'](_0xd2a54['x'],_0xd2a54['y']),_0xd2a54['z']),_0x56151d=_0x2c9bf1>=_0x9e8429&&_0x9e8429>=-0x1112+-0xac7*0x1+0x1*0x1bd9;return _0x56151d&&_0x2c771d['copy'](_0x5b7020['direction'])['mulScalar'](_0x9e8429)['add'](_0x5b7020['origin']),_0x56151d;}['_fastInter'+'sectsRay'](_0x2867ff){const _0x3230a2=Pa,_0x281a46=Ma,_0x5c7c00=Um,_0x53730a=Bm,_0x2a760a=gx,_0x1e9956=_0x2867ff['direction'];return _0x3230a2['sub2'](_0x2867ff['origin'],this['center']),_0x53730a['set'](Math['abs'](_0x3230a2['x']),Math['abs'](_0x3230a2['y']),Math['abs'](_0x3230a2['z'])),_0x5c7c00['mul2'](_0x3230a2,_0x1e9956),!(_0x53730a['x']>this['halfExtent'+'s']['x']&&_0x5c7c00['x']>=-0x1760+0x1*0xcf0+0xa70||_0x53730a['y']>this['halfExtent'+'s']['y']&&_0x5c7c00['y']>=0x1b46+-0xe70+0xcd6*-0x1||_0x53730a['z']>this['halfExtent'+'s']['z']&&_0x5c7c00['z']>=-0x426+-0xdb*-0x2b+-0x20a3||(_0x2a760a['set'](Math['abs'](_0x1e9956['x']),Math['abs'](_0x1e9956['y']),Math['abs'](_0x1e9956['z'])),_0x281a46['cross'](_0x1e9956,_0x3230a2),_0x281a46['set'](Math['abs'](_0x281a46['x']),Math['abs'](_0x281a46['y']),Math['abs'](_0x281a46['z'])),_0x281a46['x']>this['halfExtent'+'s']['y']*_0x2a760a['z']+this['halfExtent'+'s']['z']*_0x2a760a['y'])||_0x281a46['y']>this['halfExtent'+'s']['x']*_0x2a760a['z']+this['halfExtent'+'s']['z']*_0x2a760a['x']||_0x281a46['z']>this['halfExtent'+'s']['x']*_0x2a760a['y']+this['halfExtent'+'s']['y']*_0x2a760a['x']);}['intersects'+'Ray'](_0x3c9eb7,_0x2bc0d4){return _0x2bc0d4?this['_intersect'+'sRay'](_0x3c9eb7,_0x2bc0d4):this['_fastInter'+'sectsRay'](_0x3c9eb7);}['setMinMax'](_0x46ac5c,_0x36a51b){this['center']['add2'](_0x36a51b,_0x46ac5c)['mulScalar'](-0x2dd*-0x3+0x1c62+0x3*-0xc53+0.5),this['halfExtent'+'s']['sub2'](_0x36a51b,_0x46ac5c)['mulScalar'](0x1b33+-0xe5*-0x4+-0x1ec7+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x7a4af3){const _0x657a0b=this['getMin'](),_0x5a1b3c=this['getMax']();return!(_0x7a4af3['x']<_0x657a0b['x']||_0x7a4af3['x']>_0x5a1b3c['x']||_0x7a4af3['y']<_0x657a0b['y']||_0x7a4af3['y']>_0x5a1b3c['y']||_0x7a4af3['z']<_0x657a0b['z']||_0x7a4af3['z']>_0x5a1b3c['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x5afd91,_0x16c63e,_0x537bae=!(-0x4*0x165+-0x1fc4+0x2559)){const _0x22ea51=_0x5afd91['center'],_0x4f2b9d=_0x5afd91['halfExtent'+'s'],_0xb371fc=_0x16c63e['data'];let _0xa14020=_0xb371fc[-0x24ca+-0x1dab+0x4275],_0x3ba7ff=_0xb371fc[0x1*-0x2335+0x1*0x1348+0xff1],_0x2e918a=_0xb371fc[-0x135b+-0x1de7*0x1+-0x314a*-0x1],_0x5c5c90=_0xb371fc[-0xd5b+-0x1c2d+0x2989],_0xa89c19=_0xb371fc[0x38*0x41+-0x58*-0x35+-0x206b],_0x4b5398=_0xb371fc[0x5*0x53+-0xaea+-0x1*-0x954],_0x463f68=_0xb371fc[-0xc28+-0x35*-0xb6+-0xcc2*0x2],_0x2dafb7=_0xb371fc[-0x231f+-0x1*0x1435+0x375a],_0x2892b0=_0xb371fc[0x2*-0xf47+0xfa7+0xef1];if(_0x537bae){let _0x4b1d1d=_0xa14020*_0xa14020+_0x3ba7ff*_0x3ba7ff+_0x2e918a*_0x2e918a;if(_0x4b1d1d>-0x6b0+-0x1233+0x17*0x115){const _0x5a3cd9=(0x1b3b+0x11*-0x236+-0xcc*-0xd)/Math['sqrt'](_0x4b1d1d);_0xa14020*=_0x5a3cd9,_0x3ba7ff*=_0x5a3cd9,_0x2e918a*=_0x5a3cd9;}if(_0x4b1d1d=_0x5c5c90*_0x5c5c90+_0xa89c19*_0xa89c19+_0x4b5398*_0x4b5398,_0x4b1d1d>0x2*0xb32+-0x1f3d+0x8d9){const _0x2283ea=(-0x1b29+-0x400*-0x1+0xb95*0x2)/Math['sqrt'](_0x4b1d1d);_0x5c5c90*=_0x2283ea,_0xa89c19*=_0x2283ea,_0x4b5398*=_0x2283ea;}if(_0x4b1d1d=_0x463f68*_0x463f68+_0x2dafb7*_0x2dafb7+_0x2892b0*_0x2892b0,_0x4b1d1d>-0x193d*-0x1+0x923*0x1+0x5*-0x6e0){const _0x41ff0c=(0xb35+0xf5d+-0x1a91)/Math['sqrt'](_0x4b1d1d);_0x463f68*=_0x41ff0c,_0x2dafb7*=_0x41ff0c,_0x2892b0*=_0x41ff0c;}}this['center']['set'](_0xb371fc[-0x2*0xfe9+0x4*0x7c4+0xce]+_0xa14020*_0x22ea51['x']+_0x3ba7ff*_0x22ea51['y']+_0x2e918a*_0x22ea51['z'],_0xb371fc[-0x7aa+-0x4*0x97b+0x2da3]+_0x5c5c90*_0x22ea51['x']+_0xa89c19*_0x22ea51['y']+_0x4b5398*_0x22ea51['z'],_0xb371fc[-0x169d+-0xb9a+0x2245]+_0x463f68*_0x22ea51['x']+_0x2dafb7*_0x22ea51['y']+_0x2892b0*_0x22ea51['z']),this['halfExtent'+'s']['set'](Math['abs'](_0xa14020)*_0x4f2b9d['x']+Math['abs'](_0x3ba7ff)*_0x4f2b9d['y']+Math['abs'](_0x2e918a)*_0x4f2b9d['z'],Math['abs'](_0x5c5c90)*_0x4f2b9d['x']+Math['abs'](_0xa89c19)*_0x4f2b9d['y']+Math['abs'](_0x4b5398)*_0x4f2b9d['z'],Math['abs'](_0x463f68)*_0x4f2b9d['x']+Math['abs'](_0x2dafb7)*_0x4f2b9d['y']+Math['abs'](_0x2892b0)*_0x4f2b9d['z']);}static['computeMin'+'Max'](_0x1b2eb5,_0x592ab2,_0x533d49,_0x2b983e=_0x1b2eb5['length']/(-0x680+0x1c7d+-0x1*0x15fa)){if(_0x2b983e>-0x187a+-0x22cb+0x3b45){let _0x17cd38=_0x1b2eb5[-0x2e9*-0x7+0x9d*0x1+-0x14fc],_0x49e601=_0x1b2eb5[-0xe5*-0x3+-0x3*0x4b3+0xb6b],_0x527e65=_0x1b2eb5[0x1*0x16d0+0x10d2+-0x27a0],_0x11d66e=_0x17cd38,_0x230d6c=_0x49e601,_0x27a1ad=_0x527e65;const _0x27a056=_0x2b983e*(0x1021+-0x379+-0xca5);for(let _0x34cf71=-0x47*-0x45+-0x1f79+0x1*0xc59;_0x34cf71<_0x27a056;_0x34cf71+=0xd*0x2fa+0x2297+0x2*-0x24a3){const _0x522c4a=_0x1b2eb5[_0x34cf71],_0x271515=_0x1b2eb5[_0x34cf71+(0x2d8+-0xb*-0x1b6+-0x15a9)],_0x4b1514=_0x1b2eb5[_0x34cf71+(0x2437+-0x4*-0x257+-0x2d91)];_0x522c4a<_0x17cd38&&(_0x17cd38=_0x522c4a),_0x271515<_0x49e601&&(_0x49e601=_0x271515),_0x4b1514<_0x527e65&&(_0x527e65=_0x4b1514),_0x522c4a>_0x11d66e&&(_0x11d66e=_0x522c4a),_0x271515>_0x230d6c&&(_0x230d6c=_0x271515),_0x4b1514>_0x27a1ad&&(_0x27a1ad=_0x4b1514);}_0x592ab2['set'](_0x17cd38,_0x49e601,_0x527e65),_0x533d49['set'](_0x11d66e,_0x230d6c,_0x27a1ad);}}['compute'](_0x1c646b,_0x51f944){De['computeMin'+'Max'](_0x1c646b,Pa,Ma,_0x51f944),this['setMinMax'](Pa,Ma);}['intersects'+'BoundingSp'+'here'](_0x258aed){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x258aed)<=_0x258aed['radius']*_0x258aed['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x542c63){const _0x3d8c6e=this['getMin'](),_0x26d1d9=this['getMax']();let _0x515a22=-0xad*-0x2b+0xe19+-0x2b28*0x1;const _0x252e62=['x','y','z'];for(let _0x5bd205=0x1d32+0x7a9+-0x11*0x22b;_0x5bd205<-0x436+-0x1a8d+0x1ec6;++_0x5bd205){let _0x450bcc=0xb59+-0x262+-0x8f7;const _0x535bce=_0x542c63['center'][_0x252e62[_0x5bd205]],_0x359eeb=_0x3d8c6e[_0x252e62[_0x5bd205]],_0x4b24c2=_0x26d1d9[_0x252e62[_0x5bd205]];let _0x1ab14a=0x1*0x7ea+0x131f+-0x301*0x9;_0x535bce<_0x359eeb&&(_0x1ab14a=_0x359eeb-_0x535bce,_0x450bcc+=_0x1ab14a*_0x1ab14a),_0x535bce>_0x4b24c2&&(_0x1ab14a=_0x535bce-_0x4b24c2,_0x450bcc+=_0x1ab14a*_0x1ab14a),_0x515a22+=_0x450bcc;}return _0x515a22;}['_expand'](_0x160256,_0xa5fe80){Pa['add2'](this['getMin'](),_0x160256),Ma['add2'](this['getMax'](),_0xa5fe80),this['setMinMax'](Pa,Ma);}}const Wl=new D(),Sx=new D();class sp{constructor(_0xc2a975=new D(),_0x58a82f=0x1*-0x121d+-0x2*0x10b9+0x338f+0.5){h(this,'center'),h(this,'radius'),(w['assert'](!Object['isFrozen'](_0xc2a975),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0xc2a975,this['radius']=_0x58a82f);}['containsPo'+'int'](_0x261818){const _0x31bd83=Wl['sub2'](_0x261818,this['center'])['lengthSq'](),_0x3282b6=this['radius'];return _0x31bd83<_0x3282b6*_0x3282b6;}['intersects'+'Ray'](_0x46e20a,_0x3e3456){const _0x2f7aa2=Wl['copy'](_0x46e20a['origin'])['sub'](this['center']),_0x2d619d=_0x2f7aa2['dot'](Sx['copy'](_0x46e20a['direction'])['normalize']()),_0x5892ee=_0x2f7aa2['dot'](_0x2f7aa2)-this['radius']*this['radius'];if(_0x5892ee>-0x9*0xfd+0x1*-0xbe5+0x6*0x377&&_0x2d619d>0x1*0x10e2+-0xb6*0x1d+-0x4*-0xef)return!(-0x1*0x3da+0x25*0x13+-0x4*-0x47);const _0x4981b0=_0x2d619d*_0x2d619d-_0x5892ee;if(_0x4981b0<0x56e+-0x1f82*-0x1+0x49e*-0x8)return!(-0x7c9+-0x1f0d+0x26d7);const _0x2c85e0=Math['abs'](-_0x2d619d-Math['sqrt'](_0x4981b0));return _0x3e3456&&_0x3e3456['copy'](_0x46e20a['direction'])['mulScalar'](_0x2c85e0)['add'](_0x46e20a['origin']),!(0x136b*0x2+-0xf16*0x2+0x2*-0x455);}['intersects'+'BoundingSp'+'here'](_0x2eb3f2){Wl['sub2'](_0x2eb3f2['center'],this['center']);const _0x126166=_0x2eb3f2['radius']+this['radius'];return Wl['lengthSq']()<=_0x126166*_0x126166;}}class QS{constructor(_0x1beece=D['UP'],_0x3f99a4=0x3*-0xa9+-0x24d+0x89*0x8){h(this,'normal',new D()),h(this,'distance'),(this['normal']['copy'](_0x1beece),this['distance']=_0x3f99a4);}['clone'](){const _0x3cc81e=this['constructo'+'r'];return new _0x3cc81e()['copy'](this);}['copy'](_0x2916f0){return this['normal']['copy'](_0x2916f0['normal']),this['distance']=_0x2916f0['distance'],this;}['intersects'+'Line'](_0x172b52,_0x755efe,_0x312d2b){const _0x25e512=this['distance'],_0x5ee965=this['normal']['dot'](_0x172b52)+_0x25e512,_0xbe317c=this['normal']['dot'](_0x755efe)+_0x25e512,_0x12be0a=_0x5ee965/(_0x5ee965-_0xbe317c),_0x421bc5=_0x12be0a>=0x4*0x1cf+0x2044+0x2*-0x13c0&&_0x12be0a<=0x6a3*-0x1+0x1f*0x29+-0x21*-0xd;return _0x421bc5&&_0x312d2b&&_0x312d2b['lerp'](_0x172b52,_0x755efe,_0x12be0a),_0x421bc5;}['intersects'+'Ray'](_0x3c87d6,_0x131dbf){const _0x51c860=this['normal']['dot'](_0x3c87d6['direction']);if(_0x51c860===-0x10a*-0x16+0x1*-0x2ed+-0x13ef)return!(-0x10*-0x259+-0x9ad*-0x1+-0x2f3c);const _0x2926cf=-(this['normal']['dot'](_0x3c87d6['origin'])+this['distance'])/_0x51c860;return _0x2926cf>=0x1f6*-0xa+0x6ad*0x3+-0x6b*0x1&&_0x131dbf&&_0x131dbf['copy'](_0x3c87d6['direction'])['mulScalar'](_0x2926cf)['add'](_0x3c87d6['origin']),_0x2926cf>=0x1*0x1ea1+-0x1e6c+-0x1*0x35;}['normalize'](){const _0x562dfb=(0x1b1*0x12+0x1f*-0xec+-0x9f*0x3)/this['normal']['length']();return this['normal']['mulScalar'](_0x562dfb),this['distance']*=_0x562dfb,this;}['set'](_0x1e6ac3,_0x22be96,_0x4505bf,_0x45b6d8){return this['normal']['set'](_0x1e6ac3,_0x22be96,_0x4505bf),this['distance']=_0x45b6d8,this;}['setFromPoi'+'ntNormal'](_0x3c0987,_0x3e9fa5){return this['normal']['copy'](_0x3e9fa5),this['distance']=-this['normal']['dot'](_0x3c0987),this;}}class yx{constructor(){h(this,'planes',[]);for(let _0x4e1807=0x1*-0x883+-0x4e*-0x3d+-0x1*0xa13;_0x4e1807<-0x15a4+-0x1119*-0x1+0x491;_0x4e1807++)this['planes'][_0x4e1807]=new QS();}['clone'](){const _0x144f45=this['constructo'+'r'];return new _0x144f45()['copy'](this);}['copy'](_0x2caecf){for(let _0x1e09db=-0x1252+0x2bb*-0x3+0x1a83*0x1;_0x1e09db<-0x2433+0x13*0x152+0x1*0xb23;_0x1e09db++)this['planes'][_0x1e09db]['copy'](_0x2caecf['planes'][_0x1e09db]);return this;}['setFromMat'+'4'](_0x419501){const [_0x440bda,_0x508d34,_0x131b54,_0x35e2f4,_0xe2ec2d,_0x15cc21,_0x536ccc,_0x186e83,_0x41057e,_0x1d0b34,_0x3b11f6,_0x1c4a00,_0x2efdd6,_0x37d348,_0x4c6ca8,_0x19845e]=_0x419501['data'],_0x2c9c9d=this['planes'];_0x2c9c9d[-0x3*-0x8d2+-0x1*-0x2342+-0x3db8]['set'](_0x35e2f4-_0x440bda,_0x186e83-_0xe2ec2d,_0x1c4a00-_0x41057e,_0x19845e-_0x2efdd6)['normalize'](),_0x2c9c9d[-0x1b03*-0x1+-0x1*0x359+-0x17a9]['set'](_0x35e2f4+_0x440bda,_0x186e83+_0xe2ec2d,_0x1c4a00+_0x41057e,_0x19845e+_0x2efdd6)['normalize'](),_0x2c9c9d[0x1e8b+0x11c4+-0x5*0x9a9]['set'](_0x35e2f4+_0x508d34,_0x186e83+_0x15cc21,_0x1c4a00+_0x1d0b34,_0x19845e+_0x37d348)['normalize'](),_0x2c9c9d[0x1bb9+0x4*0x99d+-0x3*0x160e]['set'](_0x35e2f4-_0x508d34,_0x186e83-_0x15cc21,_0x1c4a00-_0x1d0b34,_0x19845e-_0x37d348)['normalize'](),_0x2c9c9d[0xc07*0x3+0x8*0x11d+-0x2cf9*0x1]['set'](_0x35e2f4-_0x131b54,_0x186e83-_0x536ccc,_0x1c4a00-_0x3b11f6,_0x19845e-_0x4c6ca8)['normalize'](),_0x2c9c9d[0x17f7+0xfa3+-0x1*0x2795]['set'](_0x35e2f4+_0x131b54,_0x186e83+_0x536ccc,_0x1c4a00+_0x3b11f6,_0x19845e+_0x4c6ca8)['normalize']();}['containsPo'+'int'](_0x4b54c5){for(let _0x324617=0x79c+0xf*0x1a5+-0x2047;_0x324617<0x231e+-0x1351+-0xfc7;_0x324617++){const {normal:_0x335e05,distance:_0x3bebfb}=this['planes'][_0x324617];if(_0x335e05['dot'](_0x4b54c5)+_0x3bebfb<=-0x4*-0x400+-0x101*0xd+-0x2f3*0x1)return!(-0x1923+-0x1*-0x1ad5+-0x1b1);}return!(0x3*-0x869+0x96c+0xfcf);}['containsSp'+'here'](_0x1c361b){const {center:_0x38e3be,radius:_0x2d8b02}=_0x1c361b;let _0x1c8270=0x5ea*0x5+0xe*0xc2+-0x282e;for(let _0x32e966=-0x1*0x68+0x99*0x15+-0xc25;_0x32e966<0x7*-0x291+-0xb35+0x1d32;_0x32e966++){const {normal:_0x3bb4fc,distance:_0x2c00de}=this['planes'][_0x32e966],_0x2ea0bb=_0x3bb4fc['dot'](_0x38e3be)+_0x2c00de;if(_0x2ea0bb<=-_0x2d8b02)return-0x3*-0x13d+0x2*0x557+-0xe65;_0x2ea0bb>_0x2d8b02&&_0x1c8270++;}return _0x1c8270===0x9*0x66+-0x1ff2*-0x1+-0x2382*0x1?-0x3e*-0x11+-0x1086+0xc6a:-0x5*0x284+0x15f4+-0x95f;}}class Dn{constructor(_0x3e5fdf,_0x3bc3c6){h(this,'origin',new D()),h(this,'direction',D['FORWARD']['clone']()),(_0x3e5fdf&&this['origin']['copy'](_0x3e5fdf),_0x3bc3c6&&this['direction']['copy'](_0x3bc3c6));}['set'](_0x4a4ab1,_0x49f4a0){return this['origin']['copy'](_0x4a4ab1),this['direction']['copy'](_0x49f4a0),this;}['copy'](_0x152f21){return this['set'](_0x152f21['origin'],_0x152f21['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const yt=-0x1*-0x147a+0x1*0xdf+-0x445*0x5,ue=0x30b+-0x1*0x198+-0x172,ip=0x749+0x2002+-0x2749,rp=-0x115*0x11+0x4*-0x7c6+0x67*0x7b,Ft=0x1a56+-0x1bf+-0x1896,vx=-0x752*-0x4+-0x1*0x2633+-0x8ed*-0x1,JS=0x2db*-0xd+0x5d1+0x1f52,xx=-0x1802+-0x1*-0xbb9+-0x5*-0x276,jh=0x239*0x7+-0x181a*-0x1+-0x27a3,Yh=-0x143*-0x5+0x75+0x35e*-0x2,fs=-0x270d*-0x1+0x3ce*0x4+-0x3645,Tx=0x1b87+-0x53*0x1+-0x1b32,wx=0x110f+-0x85d+-0x8af,Ex=-0xbbc*-0x1+0x2464+-0x301c,ms=-0x1427+0x95c+0xacb,lh=-0x1*0xc93+-0x9bf+0x1653,ey=0xe9*0x25+0x3a6*-0x5+0xb*-0x167,bx=-0x127f*0x1+0x178+0x1*0x110a,jo=-0xb81+-0x4d5*-0x2+0x1d8,Yo=-0x144d+-0x1f8f*-0x1+-0xb40,ch=0x20f+0x6e3+-0x8ee,bt=-0x1*0x26d7+-0x12aa+0x3981,pa=-0x1981+0x3*0x853+-0x1*-0x89,Fo=0x6a3*-0x5+-0x35*-0x3d+0x1490,Ax=-0x1051+0x1511*-0x1+0x2565*0x1,Te=-0x1*0xbc3+0x3d*0x1d+0x36*0x17,vt=-0xa4d*-0x3+-0x1fac+0xc6*0x1,Kh=0x1*0x240b+-0x21c2+0x247*-0x1,Zh=0x6b*-0x16+0xa5b+-0x126,Qh=-0xf7e*0x1+-0x1*0xd60+0xe71*0x2,ma=-0x2a3+0x261b+-0x2373,Cx=-0x1*-0x1bfa+0x20ff+-0x3cf9,hh=-0x3*0xb4f+0x1412*-0x1+0x6c*0x80,dh=0x1*-0x142c+0x1e5c*0x1+-0xa2e,Wf=-0x13f9+-0x88a*-0x1+-0x2*-0x5b9,Px=-0x1e9f+-0x5d0+-0x535*-0x7,Mx=-0x43*0x31+-0x6f*0x59+0xd1*0x3f,Dx=0x4eb*0x1+-0x1114*0x1+-0x1*-0xc2f,Wi=-0x338+0x1*-0xd07+-0x1*-0x1046,$f=-0x3*0x4a9+-0x194*0x4+0x5*0x40f,Yi=-0x21e2+-0x18c7+0x1d55*0x2,wr=0x706+-0x98b*-0x2+-0x1a1a,ty=0x4*-0x655+-0x2*-0x47a+0x830*0x2,sy=-0x1*0x2526+0x14a6+0x1081,ap=0x8*0x12c+-0xb14+0x1b6,Jh=-0x2dd*-0x9+0x49*-0x2a+-0xdc8,np=0x212d+-0x19e4+-0x1*0x745,ed=0x138e+0x13b1*0x1+0x2*-0x139d,Cr=0x2294+-0x782*-0x1+-0x2a10,Ne=0x1cd9+0x1ff*0x7+-0x2acb*0x1,td=0x17dd+-0x22*-0x76+-0x2781*0x1,op=-0xc35+-0x1af*0x1+0xded,vl=0x19ed+-0x1*-0xfb3+-0x2996,ui=-0x1*0x12c1+-0x1*-0x2087+-0xdbb,nt=-0x12b*0x4+0x2*-0x19b+0x7ee,Ye=-0x74f+-0x1f01*-0x1+0x1*-0x17a5,Xt=0x1*-0x1823+0x1*-0xf86+0x27b7,Ji=-0x2473+-0x10a4+0x1a93*0x2,$i=-0x9fe*-0x3+-0x21cc+0x3e2,sd=0x1*0x129a+0x1532+0x5ad*-0x7,In=-0x1e62+0x3*0x1c4+0x1928,lp=0xd*-0x143+-0x7*-0x146+0x790,_s=-0xfb0*0x2+-0x2084+0x7ff*0x8,id=0x1344+-0x2*0xe+-0x1313,cp=0x5*-0x59+0x2*0x9f7+-0x121b*0x1,hp=0x18*0xc1+0x7dc*0x1+-0x19dd,xl=-0xe1d*0x1+0x58c*-0x5+-0x9*-0x4a9,Tl=-0x1*0x1b9d+-0x1516+0x30cc,rd=-0xf0d*-0x1+-0xdf+-0x6a*0x22,ad=-0x2088+0x1e35+0x26e,iy=-0x3*-0x26b+-0x6*-0x39e+-0x5c5*0x5,ry=0x224+-0x1*0x13d5+0x11ce,ay=0x18ba+0x1382+-0x160f*0x2,ny=-0x1e39+0x188e+0x5ca,dp=-0x1*0x220f+-0x1085*0x1+0x32b4,oy=-0x142+-0x228c+0x1*0x23ef,fp=-0xf3e+0x1ed*-0x6+0x47d*0x6,up=-0xed2+0xb*0x261+-0x29*0x46,pp=0x438+-0x1b71+0x175d,Ki=-0x1bcc+-0x1889+0x347a,mp=-0x599+-0x2392+0x2951,ly=-0x209+-0x3*-0x10d+-0xf7,_p=0x1*-0x2192+0x1eda+0x2e0,gp=-0x14*0x6e+0x39*0x58+0x22b*-0x5,Sp=-0x1f15+-0x1c8c+0x3bcb,yp=-0x49+-0x8*0x1aa+0xdc4,vp=0xe*0x27+-0x1*-0x5d9+-0x1*0x7cf,cy=0x7*-0x551+0x2*0xf76+-0xc*-0x8a,xp=0x22b0+0xf*0x117+-0x32db,nd=-0x2089+0x2*0xd2e+0x65c,Tp=-0x1*0x139f+-0x1c15+0x2fe4,Ue=0xd28+-0x217f*0x1+-0x48*-0x49,od=0x1f20+0x1eeb*-0x1+-0x3,wp=-0x7c8+-0xb95+-0x9c8*-0x2,Ep=-0x36*0x13+0x121f+-0x1*0xde9,bp=0x2533+-0x1a36+-0xac8,Xf=-0x5b*0x3+-0x1d*0x4b+0x9c6,qf=0xee8*-0x1+-0x1143+0x2062,jf=0x25c4+-0x42d+-0x215f,Yf=0x776+0x1d07+0x244*-0x10,Kf=0x1d*-0xe+0x87c+-0x6a8,Zf=0x26dd+-0x1e35*0x1+-0x869,hy=0x1428+-0x151e+0xa*0x1f,dy=-0x4de+0x1*0x17db+-0x12bc,fy=0x1de5+0xa89+-0x282c,uy=-0x1*-0x1ba+-0xcb*0x29+0x2*0xf86,Qf=0xdf*0x26+-0x5fb*-0x1+-0x26d1*0x1,vn=-0x265+-0x23af+0x2659,Nt=new Map([[ty,{'name':'A8','size':0x1,'ldr':!(-0x23b+-0x17cc+0x8ad*0x3)}],[Ep,{'name':'R8','size':0x1,'ldr':!(-0x236b+0x6e*-0x18+0x2dbb)}],[sy,{'name':'L8','size':0x1,'ldr':!(0xb*-0x337+0x11a2+0x11bb)}],[ap,{'name':'LA8','size':0x2,'ldr':!(0x45d*-0x5+0x5*-0x62c+0x34ad)}],[bp,{'name':'RG8','size':0x2,'ldr':!(0x1afb+0x344+0xa15*-0x3)}],[Jh,{'name':'RGB565','size':0x2,'ldr':!(-0xed0+-0x259*0xe+0x2fae)}],[np,{'name':'RGBA5551','size':0x2,'ldr':!(-0x103f+-0x2500+-0x13d*-0x2b)}],[ed,{'name':'RGBA4','size':0x2,'ldr':!(-0xaaa+-0x3b*-0xa9+-0x1c49)}],[Cr,{'name':'RGB8','size':0x4,'ldr':!(-0xf9+-0x111a+0x1213)}],[Ne,{'name':'RGBA8','size':0x4,'ldr':!(-0x6b*-0x35+-0x1ce4+0x6bd),'srgbFormat':_s}],[od,{'name':'R16F','size':0x2}],[wp,{'name':'RG16F','size':0x4}],[ui,{'name':'RGB16F','size':0x8}],[nt,{'name':'RGBA16F','size':0x8}],[Ye,{'name':'RGB32F','size':0x10}],[Xt,{'name':'RGBA32F','size':0x10}],[Ji,{'name':'R32F','size':0x4}],[$i,{'name':'DEPTH','size':0x4}],[vn,{'name':'DEPTH16','size':0x2}],[sd,{'name':'DEPTHSTENC'+'IL','size':0x4}],[In,{'name':'111110F','size':0x4}],[lp,{'name':'SRGB8','size':0x4,'ldr':!(0x36f+0x5f3*-0x5+0x694*0x4),'srgb':!(-0x42b*-0x6+-0x4*0x25+-0x186e)}],[_s,{'name':'SRGBA8','size':0x4,'ldr':!(0x1459+0x7f1+-0x1c4a),'srgb':!(0xa13+-0x2110+0x16fd)}],[ny,{'name':'BGRA8','size':0x4,'ldr':!(-0x24e1+-0x1*0x251+0x1*0x2732)}],[hy,{'name':'SBGRA8','size':0x4,'ldr':!(0xd*0x14b+-0x6*-0x3e6+-0x2833),'srgb':!(-0x5*0x1d8+0x226c*0x1+-0x1934)}],[td,{'name':'DXT1','blockSize':0x8,'ldr':!(-0xff3+0x6*-0x385+0x2511),'srgbFormat':Xf}],[op,{'name':'DXT3','blockSize':0x10,'ldr':!(0x12e8+0x1*0xd1+0x1*-0x13b9),'srgbFormat':qf}],[vl,{'name':'DXT5','blockSize':0x10,'ldr':!(-0x47e+0x1*-0x15a9+0x1a27),'srgbFormat':jf}],[id,{'name':'ETC1','blockSize':0x8,'ldr':!(0x1693+0xcfc+-0x238f)}],[cp,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(0x1d66+-0x1*0x210b+-0x3*-0x137),'srgbFormat':Yf}],[hp,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(0x8*0x4+0xd*-0x1b3+0x15f7),'srgbFormat':Kf}],[xl,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(0x2b3*0xc+-0x3f8+0xe36*-0x2),'blockSize':0x8}],[Tl,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(0x603+0x259+-0x85c),'blockSize':0x8}],[rd,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(0x2*0x2+-0x3*0x929+0x1b77),'blockSize':0x8}],[ad,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(-0x1*0x24fb+0x3*0xaf1+0x428),'blockSize':0x8}],[iy,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(-0x1e46+-0x7ef*-0x2+-0x2*-0x734),'srgbFormat':Zf}],[ry,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(-0xf1*0x28+0x1b8+-0x8fc*-0x4)}],[ay,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(-0x266*0x8+-0xd*0x1d9+0x2b35*0x1)}],[dy,{'name':'BC6H_RGBF','blockSize':0x10}],[fy,{'name':'BC6H_RGBUF','blockSize':0x10}],[uy,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(0x1ecc+-0xd7+0x1df5*-0x1),'srgbFormat':Qf}],[Xf,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(0xa15+0x9*0x367+-0x28b4),'srgb':!(0x12ec+0x1*0x403+-0x16ef)}],[qf,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0x1*0x20c5+-0x1c8b*0x1+0x3d50),'srgb':!(-0xe96+0xf86+-0x3c*0x4)}],[jf,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(-0x11*0x1f+-0x16d*-0x7+-0x7ec),'srgb':!(-0x7*-0x43c+0x4*-0x4a3+-0xb18)}],[Yf,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(-0x6*-0x12f+-0x1*0x2441+0x1d27),'srgb':!(0x14db+-0x1196+-0x345)}],[Kf,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(-0xb*-0x1fd+-0x4*-0x9b1+-0x169*0x2b),'srgb':!(-0x26fa*-0x1+-0x1*0xeae+-0x184c)}],[Zf,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(0xb6+0x93a+-0x9f0),'srgb':!(-0x130c+0x1272+0x9a)}],[Qf,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0x1ab9*0x1+0x786+0x31d*-0xb),'srgb':!(0x161*-0x1+-0x22e6+0x2447)}],[dp,{'name':'R8I','size':0x1,'isInt':!(-0x2327*-0x1+0x8fe+-0x1*0x2c25)}],[oy,{'name':'R8U','size':0x1,'isInt':!(-0x7*0x40d+0x2*0x1a2+-0x85d*-0x3)}],[fp,{'name':'R16I','size':0x2,'isInt':!(-0x488+-0x43*-0x79+-0x1b23)}],[up,{'name':'R16U','size':0x2,'isInt':!(-0x21a7+0x1cc+0x1fdb*0x1)}],[pp,{'name':'R32I','size':0x4,'isInt':!(0x1b25*0x1+-0x2a1*0x7+0x8be*-0x1)}],[Ki,{'name':'R32U','size':0x4,'isInt':!(0xda8*-0x2+-0x1*-0x539+0x27*0x91)}],[mp,{'name':'RG8I','size':0x2,'isInt':!(0xc*-0xfb+-0x75c*0x2+0x1a7c)}],[ly,{'name':'RG8U','size':0x2,'isInt':!(-0x2bd+0xbf6*-0x1+0xeb3)}],[_p,{'name':'RG16I','size':0x4,'isInt':!(-0x2f9*0x1+-0x885+-0x2*-0x5bf)}],[gp,{'name':'RG16U','size':0x4,'isInt':!(-0x245f*-0x1+-0x2506+0xa7*0x1)}],[Sp,{'name':'RG32I','size':0x8,'isInt':!(-0x649*-0x6+0x10d*-0x8+0x16*-0x155)}],[yp,{'name':'RG32U','size':0x8,'isInt':!(0x67*-0x1d+0x485+-0x262*-0x3)}],[vp,{'name':'RGBA8I','size':0x4,'isInt':!(-0x94d+0x20ba+-0x176d)}],[cy,{'name':'RGBA8U','size':0x4,'isInt':!(-0xa*0x7d+0xc87+-0x7a5)}],[xp,{'name':'RGBA16I','size':0x8,'isInt':!(0xff6+0xa7c+0x1*-0x1a72)}],[nd,{'name':'RGBA16U','size':0x8,'isInt':!(0x1*0x23cd+-0x39e*-0x7+-0x3d1f)}],[Tp,{'name':'RGBA32I','size':0x10,'isInt':!(0x13*0x18b+-0x1f67+0x216)}],[Ue,{'name':'RGBA32U','size':0x10,'isInt':!(0x1fc7+-0x20*0xe8+-0x2c7)}]]),Ix=_0x17986f=>{var _0x1b5ccb;return((_0x1b5ccb=Nt['get'](_0x17986f))==null?void(0x6*0x5d1+0x1801+-0x3ae7):_0x1b5ccb['blockSize'])!==void(-0x2*0x92d+-0x15*0x1d5+0x38d3);},fh=_0x32c311=>{var _0x54f432;return((_0x54f432=Nt['get'](_0x32c311))==null?void(-0x1b93+-0x2*0xdff+0x3791):_0x54f432['srgb'])===!(-0x653+-0x242a*-0x1+-0x1dd7);},dn=_0x1fdb51=>{var _0x1da374;return((_0x1da374=Nt['get'](_0x1fdb51))==null?void(-0xc66+-0x4*-0x27f+0x26a):_0x1da374['isInt'])===!(0x9ad+-0x2d6+-0x6d7);},ld=_0xbf5324=>{var _0x247bb2;return((_0x247bb2=Nt['get'](_0xbf5324))==null?void(0x21*0x67+-0xd*-0xd6+-0x1825):_0x247bb2['srgbFormat'])||_0xbf5324;},Lx=_0x32299b=>{for(const [_0x3e14bc,_0x366b51]of Nt)if(_0x366b51['srgbFormat']===_0x32299b)return _0x3e14bc;return _0x32299b;},py=_0x1cf465=>{const _0x26e6ba=Nt['get'](_0x1cf465);return!!(_0x26e6ba!=null&&_0x26e6ba['ldr']&&!(_0x26e6ba!=null&&_0x26e6ba['srgb']));},my=_0x337972=>{switch(_0x337972){case Ji:case Ye:case Xt:return Float32Array;case pp:case Sp:case Tp:return Int32Array;case Ki:case yp:case Ue:return Uint32Array;case fp:case _p:case xp:return Int16Array;case bp:case up:case gp:case nd:case Jh:case np:case ed:case od:case wp:case ui:case nt:return Uint16Array;case dp:case mp:case vp:return Int8Array;default:return Uint8Array;}},cd=0xea1+-0x1*-0xac+-0x1*0xf4d,hd=-0x101*-0x21+0x15c3+-0x36e3,_y=0x1438*-0x1+0x206a+0xd*-0xf0,gy=-0x5c0*0x2+-0x712+0x1295,js=-0x18f*0x7+0x2447+-0x195a,Er=0x2b*0x45+0x7*-0x2b3+-0x1*-0x753,oa=-0xf*-0x153+0x2205+0x35dc*-0x1,Me='POSITION',gs='NORMAL',yi='TANGENT',gi='BLENDWEIGH'+'T',us='BLENDINDIC'+'ES',Wt='COLOR',zm='TEXCOORD',is='TEXCOORD0',ba='TEXCOORD1',wl='TEXCOORD2',El='TEXCOORD3',bl='TEXCOORD4',Al='TEXCOORD5',Cl='TEXCOORD6',Pl='TEXCOORD7',Jf='ATTR0',uh='ATTR1',Ap='ATTR2',Cp='ATTR3',Pp='ATTR4',Rx='ATTR5',Ox='ATTR6',Fx='ATTR7',Ko='ATTR8',Zo='ATTR9',Nx='ATTR10',Mp='ATTR11',Dp='ATTR12',ph='ATTR13',Ip='ATTR14',Ln='ATTR15',Sy=0x282+0x1ec8+-0x1*0x2149,xn=-0x1e08+0x1*0x22ff+0x1f*-0x29,kx=-0x3*-0x17b+-0xcf1*0x1+0x882,Ux=-0x1693*0x1+-0xa0+0x1736,Bx=0x21d0+-0x30e*-0xb+-0x4365,$l=-0x19e3+0xcfd+-0xfe*-0xd,yy=-0x17e*-0xe+-0x1*0x8d+-0x112*0x13,Od=-0xf53+-0x9d*-0x2a+-0xa6d,Ds='default',Zi='rgbm',mh='rgbe',Qo='rgbp',Jo='swizzleGGG'+'R',eu=-0x355*-0x8+-0x927*0x1+-0x1180,Pr=0x7ca*0x1+0xaf8+-0x12c0,vy=-0xfb6+-0x4fc+0x14b5,xy='2d',zx=-0x14f+0x1f3f+-0x4*0x77c,Vx='none',tu='cube',Vm='equirect',Gx='octahedral',Fe='glsl',it='wgsl',dd=-0x2b8+-0x1627+0x18df,la=0x1*0x1d63+-0x1fb4+0x252,fd=0xb9*0x2+0x5+-0x175*0x1,Ml=0x113+-0x734+-0x312*-0x2,Ty=0x2f6*0x1+0x1*0x1979+0xf*-0x1e5,el=-0x2f*-0xb+-0x4ed+0x6b*0x7,Ve=-0x1d64+-0x2*0xc73+0x3650,Tn=0x5*-0x420+0x251+0x124f,_a=-0x1*-0x183f+0x295*0x7+-0x2a51,Xs=0x3b*0x7+-0x1*-0x7eb+-0x986,ga=-0x1*0x3c5+-0x2301+-0x26c9*-0x1,ds=0xc21+-0x621+-0x5fc,Rn=0x1*0x2bd+0x1a35*-0x1+0x177d,ca=0x83d+-0x2374+0x1b3d,ha=0x748+-0x40*-0x3b+-0x1601,da=-0x5*-0x1c2+0x779*0x1+-0x103b,tl=0x30*-0x6d+-0x229f*0x1+0xac*0x52,sl=0x45a+-0x160+-0x2f0,il=-0x6*-0x59e+0x1*-0x431+-0x1d78*0x1,_h=-0x123*-0x16+0xeae+-0xec*0x2b,On=0x1*-0x1b65+0x1*-0x1bcb+-0x4f*-0xb3,li=0x18*0x186+0x225d*0x1+0x1*-0x46df,Hx=0xa27+-0x2017+0x15ff*0x1,Wx=-0xd*-0x1a5+-0xe4*0x1+-0x146d,ud=-0x738+-0x1689+-0x1dd2*-0x1,$x=-0xc86*0x2+-0x1aed+0x340b,Xx=0x904+0x136*-0x13+0xe11,qx=-0x24f4+-0x26ce+0x476*0x11,pd=-0x35a+-0x2136+0x24a5,md=-0x7*-0x398+0x1*0x15ef+-0x6b7*0x7,Lp=0x1*-0x9a9+0x1327+-0x967*0x1,wy=0x1c83*0x1+-0x1cbf+-0x7*-0xc,jx=-0x1*-0x26e1+-0x1f84+-0x744,Fn=-0x871+0x2*0xcb5+-0x7*0x269,Nn=0x498+0xf8a*-0x2+0x1a97,kn=-0x6*0x3ac+-0x166a+-0x2*-0x1647,Un=-0x30f*0x7+0x2*-0xc5b+0x2c*0x10d,Bn=-0x6*0x4a9+0x6*0x5+0x1bf6,_d=0x604+-0x2163+0x1b7e*0x1,gd=-0xe*0x21d+-0x11*-0x209+0x8b*-0x9,zn=-0x63*0x3a+0x2f9*-0x4+0x2273,Sd=0xb*-0x1fd+0x1b2c+0x1*-0x52b,yd=0xe*0x3+-0x7d*-0x4d+0x158*-0x1c,Vn=-0x1d20*0x1+0x15e9*0x1+0x75b,vd=0x21d*-0xd+0x1d51+-0x1b3,xd=0x1490+0x191d*0x1+-0x2d87,gh=-0x1d00+-0x2*-0xdd5+0x17d*0x1,Rp=0x4d1*-0x5+0x8aa+0xf93,Op=0x2*-0x907+-0x14a*0xc+0x21af,Yx=0x22c8+-0x2105+-0x199,Kx=-0x1c45+-0x636+0x22a6*0x1,Zx=0xb9b+-0x1e5e+0x12ef,Qx=-0x2710+0x35*-0x1d+0x2d3e,Jx=0x2600+0x87e+-0x2e50,eT=-0x1778+0x267e+-0x83*0x1d,tT=-0x88f*0x2+0x2*0x1183+-0x11b8,sT=-0xb07*0x2+0xd1+-0xab7*-0x2,Ey=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],iT=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],rT=new Map();iT['forEach']((_0x381d91,_0x1287e3)=>{_0x381d91['forEach'](_0x1c0025=>rT['set'](_0x1c0025,_0x1287e3));});const aT='webgl2',Fp=0x74*0x41+0x17c+0x1eef*-0x1,by=-0x200+0x1*-0x22c3+0x24c5,nT=0x1b63+0x24da+-0x4039,oT='ldr',Ay=-0x2222+-0x13ff*-0x1+0x389*0x4,Cy=0x8*0x27d+-0x1c5f+0x879*0x1,Py=-0x15dc+-0x6*-0x5a4+0x4*-0x2fe,My=0x1087*0x1+-0x1*-0x155b+0x39*-0xaa,Dy=-0x12*-0xe9+-0x25f9+0x15a7,Iy=0x2560+-0x20f8+-0x448,Ly=-0xa31*0x2+0x1417+-0x1*-0x8b,Ry=-0x257*0x7+-0x1a5+0x1286,lT=0x683*0x2+-0x2213+-0x4*-0x583,rl=-0x1*-0x8a1+0x26f2+0x13*-0x281,Oy=-0x71*-0x42+-0x1a4d+0xb5*-0x4,su=0x121+0x22d*0x5+-0x30*0x40,Np='default',wn=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],No=[0x7d8*-0x1+-0x196a+-0x28f*-0xd,0x27b*0x5+-0x170f+0xaa9,-0xc5e+-0x1*-0xfb1+0x3*-0x11b,0x75a+0x1048*-0x1+-0x4*-0x23c,-0xcac+-0xafb+0x17ab,0x1092+-0x1766+0x6d8,-0x20ef*-0x1+0x2559+0x5db*-0xc,0x11ab+0x1b11+0x1ca*-0x19],cT=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Sh=[Uint8Array,Uint16Array,Uint32Array],hT=[-0x1*0x5d+-0x1cbf+-0x101*-0x1d,0x221e+0x1584+-0x37a0,-0x14b*-0x7+0x2a*0x7f+-0x1ddf],Fy=new Map([['float','f32'],['vec2','vec2f'],['vec3','vec3f'],['vec4','vec4f'],['int','i32'],['ivec2','vec2i'],['ivec3','vec3i'],['ivec4','vec4i'],['uint','u32'],['uvec2','vec2u'],['uvec3','vec3u'],['uvec4','vec4u']]),Le={};Le[Me]=-0x191*-0xd+-0x412+-0x104b,Le[gs]=-0x19*-0x137+0x13c8+0x395*-0xe,Le[gi]=-0x24*-0x32+0x260f*0x1+0x3*-0xf07,Le[us]=0xd7*0x1d+-0x2*0x8a+0x5d1*-0x4,Le[Wt]=0x4*0x8b6+0x2*0x11e+-0x2*0x1288,Le[is]=0x1*-0x1999+-0x1cb2+0x1b28*0x2,Le[ba]=0x1eda+0x40f+0x22e3*-0x1,Le[wl]=0x126+0x1*-0x187b+0x175c,Le[El]=0x8c9*0x1+0x17b*0x3+0x1*-0xd32,Le[bl]=-0x313+0x1*0x1693+0x3*-0x67d,Le[Al]=-0xe25+0x2104+-0x12d5,Le[Cl]=-0xd0f*-0x1+0x34d+-0x1051,Le[Pl]=-0x1*0x2584+0xb2*-0x1a+0x37a4,Le[yi]=-0x1b3+-0xe*-0x1ea+0x7*-0x394,Le[Jf]=-0x3*0xc53+-0xdb2+0x32ab,Le[uh]=0x42*-0x6b+0x55a+-0x163d*-0x1,Le[Ap]=0x104f+0x1*0xb9+-0x1106,Le[Cp]=-0x1*0x251+-0x83*-0x7+-0x141,Le[Pp]=-0x15f5+-0x10e6+-0x1*-0x26df,Le[Rx]=-0x157b+-0x1d2c+0x32ac,Le[Ox]=-0x39*0xa2+-0x4*-0x1a5+-0x2*-0xec2,Le[Fx]=0x1*-0x229d+0x2*0xcb0+0x944,Le[Ko]=0xbad+-0xb3b*0x3+-0x160c*-0x1,Le[Zo]=0xb*-0x35a+-0xecf+-0x1*-0x33b6,Le[Nx]=0x26de+-0x199f+-0x17*0x93,Le[Mp]=0x60d*0x4+0x4b1+-0x4cf*0x6,Le[Dp]=0x179d+0xc5*0x1f+-0x97c*0x5,Le[ph]=-0x1c*-0xe5+0x10bd*0x1+-0x14de*0x2,Le[Ip]=0x24de+-0xa*-0x1e7+0xe*-0x3fd,Le[Ln]=0x1e0+0x234+-0x405*0x1;const mr=class mr{static['clearGpuMa'+'rkers'](){mr['markers']['length']=-0x22dc+-0x1*0x460+0x45c*0x9;}static['pushGpuMar'+'ker'](_0x975c7,_0x41aa75){mr['markers']['push'](_0x41aa75),_0x975c7['pushMarker'](_0x41aa75);}static['popGpuMark'+'er'](_0x484353){mr['markers']['length']&&mr['markers']['pop'](),_0x484353['popMarker']();}static['toString'](){return mr['markers']['join']('\x20|\x20');}};h(mr,'markers',[]);let Q=mr,dT=0xfe2+-0xf4*0x2+-0x1*0xdfa;class Td{constructor(_0x364f55,_0x249ca4){h(this,'slot',-(0x1feb+-0x1fa1+-0x49)),h(this,'scopeId',null),(this['name']=_0x364f55,this['visibility']=_0x249ca4);}}class kp extends Td{}class fT extends Td{constructor(_0x35b2e1,_0x562450,_0x7d368d=!(0x15e2+-0x96d+-0xc74)){super(_0x35b2e1,_0x562450),h(this,'format',''),(this['readOnly']=_0x7d368d,w['assert'](_0x7d368d||!(_0x562450&Fp),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class Gm extends Td{constructor(_0xfb0b18,_0x5aff0f,_0x39bae8=xy,_0x2769d1=zx,_0x514886=!(0x30*0xc6+0x293*0xb+-0x1*0x4171),_0xb56c19=null){super(_0xfb0b18,_0x5aff0f),this['textureDim'+'ension']=_0x39bae8,this['sampleType']=_0x2769d1,this['hasSampler']=_0x514886,this['samplerNam'+'e']=_0xb56c19??_0xfb0b18+'_sampler';}}class uT extends Td{constructor(_0x4a15d5,_0x3b777d=Ne,_0x4dd6cc=xy,_0x599836=!(0x1a5b+0x2333+-0x2*0x1ec7),_0x317eac=!(0x91*0x26+-0x1f0d*-0x1+-0x2*0x1a49)){super(_0x4a15d5,nT),this['format']=_0x3b777d,this['textureDim'+'ension']=_0x4dd6cc,this['write']=_0x599836,this['read']=_0x317eac;}}class Ny{constructor(_0x582301,_0x4d24b6){h(this,'uniformBuf'+'ferFormats',[]),h(this,'textureFor'+'mats',[]),h(this,'storageTex'+'tureFormat'+'s',[]),h(this,'storageBuf'+'ferFormats',[]),(this['id']=dT++,Ea['setName'](this,'BindGroupF'+'ormat_'+this['id']),w['assert'](_0x4d24b6));let _0x35ac91=-0x139*-0x7+0x1d*0x1d+-0xbd8;_0x4d24b6['forEach'](_0x4192f8=>{_0x4192f8['slot']=_0x35ac91++,_0x4192f8 instanceof Gm&&_0x4192f8['hasSampler']&&_0x35ac91++,_0x4192f8 instanceof kp?this['uniformBuf'+'ferFormats']['push'](_0x4192f8):_0x4192f8 instanceof Gm?this['textureFor'+'mats']['push'](_0x4192f8):_0x4192f8 instanceof uT?this['storageTex'+'tureFormat'+'s']['push'](_0x4192f8):_0x4192f8 instanceof fT?this['storageBuf'+'ferFormats']['push'](_0x4192f8):w['assert']('Invalid\x20bi'+'nd\x20format',_0x4192f8);}),this['device']=_0x582301;const _0x5f370a=_0x582301['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x16df9b,_0x462f7d)=>this['bufferForm'+'atsMap']['set'](_0x16df9b['name'],_0x462f7d)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x49c7f2,_0xe79f78)=>{this['textureFor'+'matsMap']['set'](_0x49c7f2['name'],_0xe79f78),_0x49c7f2['scopeId']=_0x5f370a['resolve'](_0x49c7f2['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x431a53,_0x522bb7)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x431a53['name'],_0x522bb7),_0x431a53['scopeId']=_0x5f370a['resolve'](_0x431a53['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x57d25a,_0x501169)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x57d25a['name'],_0x501169),_0x57d25a['scopeId']=_0x5f370a['resolve'](_0x57d25a['name']);}),this['impl']=_0x582301['createBind'+'GroupForma'+'tImpl'](this),w['trace'](K0,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+Q['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x4a6028){const _0x52f7a3=this['textureFor'+'matsMap']['get'](_0x4a6028);return _0x52f7a3!==void(0x1f*-0x111+-0x229d+0x47*0xf4)?this['textureFor'+'mats'][_0x52f7a3]:null;}['getStorage'+'Texture'](_0x29adb7){const _0x32aa67=this['storageTex'+'tureFormat'+'sMap']['get'](_0x29adb7);return _0x32aa67!==void(-0x1e64+-0x3b*-0x65+0x71d)?this['storageTex'+'tureFormat'+'s'][_0x32aa67]:null;}['loseContex'+'t'](){}}class Kt{constructor(){h(this,'_cache',new Map());}['get'](_0x2cf660,_0x88dad8){return this['_cache']['has'](_0x2cf660)||(this['_cache']['set'](_0x2cf660,_0x88dad8()),_0x2cf660['on']('destroy',()=>{this['remove'](_0x2cf660);}),_0x2cf660['on']('devicelost',()=>{var _0xfca08e,_0x4f5eb8;(_0x4f5eb8=(_0xfca08e=this['_cache']['get'](_0x2cf660))==null?void(0x1f3+-0x88*0x2+-0xe3):_0xfca08e['loseContex'+'t'])==null||_0x4f5eb8['call'](_0xfca08e,_0x2cf660);})),this['_cache']['get'](_0x2cf660);}['remove'](_0x1c2f4f){var _0x33fc1b,_0x554eef;(_0x554eef=(_0x33fc1b=this['_cache']['get'](_0x1c2f4f))==null?void(-0xa4+0x4af+0x17*-0x2d):_0x33fc1b['destroy'])==null||_0x554eef['call'](_0x33fc1b,_0x1c2f4f),this['_cache']['delete'](_0x1c2f4f);}}class Xi{static['calcLevelD'+'imension'](_0x1fb788,_0x7f1556){return Math['max'](_0x1fb788>>_0x7f1556,0x16ed*-0x1+0x11e7+0x507);}static['calcMipLev'+'elsCount'](_0x22e884,_0x1f3f40,_0x1dec2c=-0x1ddb+-0xdf*0x6+-0x118b*-0x2){return-0x104e*-0x1+-0xa*0x3c1+0x153d+Math['floor'](Math['log2'](Math['max'](_0x22e884,_0x1f3f40,_0x1dec2c)));}static['calcLevelG'+'puSize'](_0x2271f6,_0x518dd8,_0x24e0d2,_0x268f41){var _0x327cf9;const _0x442554=Nt['get'](_0x268f41);w['assert'](_0x442554!==void(-0x1*0x134f+-0x5*-0x7ae+-0x1317),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x268f41);const _0x55c9e3=((_0x327cf9=Nt['get'](_0x268f41))==null?void(-0xf17+-0x2037*0x1+0x2f4e):_0x327cf9['size'])??-0x1e15+0x189+-0x54*-0x57;if(_0x55c9e3>0x20ae+0xff3+-0x30a1)return _0x2271f6*_0x518dd8*_0x24e0d2*_0x55c9e3;const _0x2622f9=_0x442554['blockSize']??-0x21a6+0xcea+0xa5e*0x2;let _0x74976a=Math['floor']((_0x2271f6+(0x64*-0x29+0x41*-0x89+-0x4*-0xcb4))/(-0x1d5a+0x2455+0x6f7*-0x1));const _0x58c4d3=Math['floor']((_0x518dd8+(0x1*0x4d9+-0xd9f+0x8c9))/(0xe5*0xd+-0x98+-0xb05)),_0x3e4794=Math['floor']((_0x24e0d2+(0x30*0x2+-0x66c*-0x3+-0x13a1))/(-0x98d+0x1*0x2673+0xe71*-0x2));return(_0x268f41===xl||_0x268f41===Tl)&&(_0x74976a=Math['max'](Math['floor'](_0x74976a/(0xa*0x9+-0x227f+0x4e1*0x7)),0x1f47+0x66*-0x4b+-0x164)),_0x74976a*_0x58c4d3*_0x3e4794*_0x2622f9;}static['calcGpuSiz'+'e'](_0x321e3f,_0x3eac27,_0x13a84f,_0x45e9b7,_0xecf8aa,_0x48174f){let _0x4e965b=-0x1ad*0x1+0x4*-0x6f+0x369;for(;_0x4e965b+=Xi['calcLevelG'+'puSize'](_0x321e3f,_0x3eac27,_0x13a84f,_0x45e9b7),!(!_0xecf8aa||_0x321e3f===-0x1*-0x19b6+-0x7a*0x27+-0x71f&&_0x3eac27===-0x1*-0x269b+-0x95*-0x1+-0x272f&&_0x13a84f===0x3d6*0x4+-0x1*-0x44a+-0x13a1);)_0x321e3f=Math['max'](_0x321e3f>>-0x1*-0xf0b+-0x307+0x7b*-0x19,0x249+-0x26f8+0x24b0),_0x3eac27=Math['max'](_0x3eac27>>0xb*-0x183+-0x8f+0x1e9*0x9,-0xa4c+-0x1264+0x1cb1*0x1),_0x13a84f=Math['max'](_0x13a84f>>0x2a5*0xd+0x2*0x17f+-0x255e*0x1,-0x220e+-0x1fe8+0x41f7);return _0x4e965b*(_0x48174f?-0x18a9+0x181e+0x91:0x3a6+-0x1*-0xbd2+-0x6b*0x25);}}let pT=0x13c1+0x239*0xb+-0x2c34;class _e{constructor(_0x57821c,_0x3830ca={}){h(this,'name'),h(this,'_gpuSize',0x12*-0x1f8+0x237*-0x4+-0x5*-0x8dc),h(this,'id',pT++),h(this,'_invalid',!(0x1ed4+0x1*0x1f0c+0x3ddf*-0x1)),h(this,'_lockedLev'+'el',-(-0x269*-0x8+-0x70*0x37+0x4c9)),h(this,'_lockedMod'+'e',$l),h(this,'renderVers'+'ionDirty',0x1745+-0x1*0x55c+-0x11e9),h(this,'_storage',!(0x1622+0x17*-0x181+0xc76)),h(this,'_numLevels',0x19e4+-0x1*0x5ce+-0x2*0xa0b),h(this,'_numLevels'+'Requested');var _0x1b7872;this['device']=_0x57821c,w['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),w['assert'](!_0x3830ca['width']||Number['isInteger'](_0x3830ca['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x3830ca),w['assert'](!_0x3830ca['height']||Number['isInteger'](_0x3830ca['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x3830ca),w['assert'](!_0x3830ca['depth']||Number['isInteger'](_0x3830ca['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x3830ca),this['name']=_0x3830ca['name']??'',this['_width']=Math['floor'](_0x3830ca['width']??0x8*-0x2e1+-0x7*-0x2a5+-0x1*-0x489),this['_height']=Math['floor'](_0x3830ca['height']??-0x23c9*0x1+0x161b+0x2*0x6d9),this['_format']=_0x3830ca['format']??Ne,this['_compresse'+'d']=Ix(this['_format']),this['_integerFo'+'rmat']=dn(this['_format']),this['_integerFo'+'rmat']&&(_0x3830ca['minFilter']=Te,_0x3830ca['magFilter']=Te),this['_volume']=_0x3830ca['volume']??!(0x21cd+0x298+-0x2464*0x1),this['_depth']=Math['floor'](_0x3830ca['depth']??-0x15*0x17b+-0xc*-0x14f+0xf64),this['_arrayLeng'+'th']=Math['floor'](_0x3830ca['arrayLengt'+'h']??-0x7b*-0x4+0x45b*-0x5+-0x13db*-0x1),this['_storage']=_0x3830ca['storage']??!(-0x854+0x85f*0x2+-0x869*0x1),this['_cubemap']=_0x3830ca['cubemap']??!(-0x109d+-0xc4e+0x1cec),this['_flipY']=_0x3830ca['flipY']??!(-0x101a+0x14f+-0x2*-0x766),this['_premultip'+'lyAlpha']=_0x3830ca['premultipl'+'yAlpha']??!(0xa16*0x1+-0x7*0x1bb+0x1*0x208),this['_mipmaps']=_0x3830ca['mipmaps']??!(-0x1816+0x895*-0x1+0x20ab*0x1),this['_numLevels'+'Requested']=_0x3830ca['numLevels'],_0x3830ca['numLevels']!==void(0x78e+0x1*0x1b21+0x22af*-0x1)&&(this['_numLevels']=_0x3830ca['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x3830ca['minFilter']??ma,this['_magFilter']=_0x3830ca['magFilter']??vt,this['_anisotrop'+'y']=_0x3830ca['anisotropy']??-0xbee+-0x2367+0x2f56,this['_addressU']=_0x3830ca['addressU']??yt,this['_addressV']=_0x3830ca['addressV']??yt,this['_addressW']=_0x3830ca['addressW']??yt,this['_compareOn'+'Read']=_0x3830ca['compareOnR'+'ead']??!(-0x2fc*-0x1+-0x1f76*0x1+0x1c7b),this['_compareFu'+'nc']=_0x3830ca['compareFun'+'c']??hh,this['_type']=_0x3830ca['type']??Ds,w['assert'](!_0x3830ca['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),w['assert'](!_0x3830ca['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=Vx,this['_cubemap']?this['projection']=tu:_0x3830ca['projection']&&_0x3830ca['projection']!==tu&&(this['projection']=_0x3830ca['projection']),this['profilerHi'+'nt']=_0x3830ca['profilerHi'+'nt']??-0x1361+-0x89*0x2d+0x2b76,this['_levels']=_0x3830ca['levels'];const _0x2110b3=!!_0x3830ca['levels'];this['_levels']||this['_clearLeve'+'ls'](),this['recreateIm'+'pl'](_0x2110b3),_0x57821c['textures']['push'](this),w['trace'](Dm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x1b7872=Nt['get'](this['format']))==null?void(0x1*-0x859+-0x136*0x5+0xe67):_0x1b7872['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){w['trace'](Dm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x3f549f=this['device'];if(_0x3f549f){const _0x6911f2=_0x3f549f['textures']['indexOf'](this);_0x6911f2!==-(0x1a38+-0x1dd9+0x3a2)&&_0x3f549f['textures']['splice'](_0x6911f2,-0x1*-0xe36+0x1519+-0x234e),_0x3f549f['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x3f549f),this['adjustVram'+'SizeTracki'+'ng'](_0x3f549f['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0xafef1c=!(-0x68f+0x3*-0x225+0xcfe*0x1)){var _0x1ef952;const {device:_0x50556b}=this;(_0x1ef952=this['impl'])==null||_0x1ef952['destroy'](_0x50556b),this['impl']=null,this['impl']=_0x50556b['createText'+'ureImpl'](this),this['dirtyAll'](),_0xafef1c&&this['upload']();}['_clearLeve'+'ls'](){this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null];}['resize'](_0x2ba8aa,_0x52ca2c,_0x4b1d7c=0x471*-0x1+-0x190f*-0x1+-0x149d){const _0x45e7db=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x45e7db['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x45e7db),this['_clearLeve'+'ls'](),this['_width']=Math['floor'](_0x2ba8aa),this['_height']=Math['floor'](_0x52ca2c),this['_depth']=Math['floor'](_0x4b1d7c),this['_updateNum'+'Level'](),this['impl']=_0x45e7db['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x5b5ffb,_0x45bdef){w['trace'](X0,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x45bdef+('\x20vram.text'+'ure:\x20')+_0x5b5ffb['tex']+'\x20=>\x20'+(_0x5b5ffb['tex']+_0x45bdef)),_0x5b5ffb['tex']+=_0x45bdef,this['profilerHi'+'nt']===eu?_0x5b5ffb['texShadow']+=_0x45bdef:this['profilerHi'+'nt']===Pr?_0x5b5ffb['texAsset']+=_0x45bdef:this['profilerHi'+'nt']===vy&&(_0x5b5ffb['texLightma'+'p']+=_0x45bdef);}['propertyCh'+'anged'](_0x2f1276){this['impl']['propertyCh'+'anged'](_0x2f1276),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x1ef31e=this['mipmaps']?Xi['calcMipLev'+'elsCount'](this['width'],this['height']):0xd87+-0x1989+-0x3*-0x401,_0x1f4db8=this['_numLevels'+'Requested'];_0x1f4db8!==void(0x22a*0x12+-0x116*-0x17+-0x3fee)&&_0x1f4db8>_0x1ef31e&&w['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x1ef31e,this),this['_numLevels']=Math['min'](_0x1f4db8??_0x1ef31e,_0x1ef31e),this['_mipmaps']=this['_numLevels']>0x5*-0x1be+-0xf8e+0x6d*0x39;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x269bde){this['_minFilter']!==_0x269bde&&(dn(this['_format'])?w['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x269bde,this['propertyCh'+'anged'](Ay)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x4e01e4){this['_magFilter']!==_0x4e01e4&&(dn(this['_format'])?w['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x4e01e4,this['propertyCh'+'anged'](Cy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x3a252a){this['_addressU']!==_0x3a252a&&(this['_addressU']=_0x3a252a,this['propertyCh'+'anged'](Py));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x533dcc){this['_addressV']!==_0x533dcc&&(this['_addressV']=_0x533dcc,this['propertyCh'+'anged'](My));}get['addressV'](){return this['_addressV'];}set['addressW'](_0xbe80f0){if(!this['_volume']){w['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0xbe80f0!==this['_addressW']&&(this['_addressW']=_0xbe80f0,this['propertyCh'+'anged'](Dy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x227c1a){this['_compareOn'+'Read']!==_0x227c1a&&(this['_compareOn'+'Read']=_0x227c1a,this['propertyCh'+'anged'](Iy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x3fc30c){this['_compareFu'+'nc']!==_0x3fc30c&&(this['_compareFu'+'nc']=_0x3fc30c,this['propertyCh'+'anged'](Ly));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x5d4e45){this['_anisotrop'+'y']!==_0x5d4e45&&(this['_anisotrop'+'y']=_0x5d4e45,this['propertyCh'+'anged'](Ry));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x17084e){this['_mipmaps']!==_0x17084e&&(this['device']['isWebGPU']?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):dn(this['_format'])?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x17084e,_0x17084e&&(this['_needsMipm'+'apsUpload']=!(0x2646+0x93f+-0x2f85)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x429403=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===-0x1*-0x589+-0xacc+-0x1*-0x544);return Xi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x429403,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>-0x2a8+0x16*-0x139+0x2*0xec7;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['type'](_0xc096f5){this['_type']!==_0xc096f5&&(this['_type']=_0xc096f5,this['device']['_shadersDi'+'rty']=!(-0x97*0x17+0xc*-0x297+0x2ca5));}get['type'](){return this['_type'];}set['srgb'](_0xff8d31){var _0x5a46f3,_0x50fc7d,_0x3831f4,_0x156ff8;const _0x3f9fac=fh(this['format']);if(_0xff8d31!==_0x3f9fac){if(_0xff8d31){const _0xd5e3e6=ld(this['format']);this['_format']!==_0xd5e3e6&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x5a46f3=Nt['get'](this['format']))==null?void(-0x17a8+-0x3*-0x56b+-0x17b*-0x5):_0x5a46f3['name'])+'\x20->\x20'+((_0x50fc7d=Nt['get'](_0xd5e3e6))==null?void(-0x16c+-0x7*-0x71+-0x1*0x1ab):_0x50fc7d['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0xd5e3e6,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x2c*0x43+-0x1165+0x1ce9));}else{const _0x275593=Lx(this['format']);this['_format']!==_0x275593&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x3831f4=Nt['get'](this['format']))==null?void(-0x2650+-0x1cc8+0x4c*0xe2):_0x3831f4['name'])+'\x20->\x20'+((_0x156ff8=Nt['get'](_0x275593))==null?void(0x1501+0x1db5+-0x2*0x195b):_0x156ff8['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x275593,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x47*0x55+0x1b*0x137+-0x3860));}}}get['srgb'](){return fh(this['format']);}set['flipY'](_0x920815){this['_flipY']!==_0x920815&&(this['_flipY']=_0x920815,this['_needsUplo'+'ad']=!(-0x1*0x23e3+0xc1*0x22+0x20d*0x5));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x5896c9){this['_premultip'+'lyAlpha']!==_0x5896c9&&(this['_premultip'+'lyAlpha']=_0x5896c9,this['_needsUplo'+'ad']=!(-0x5*0x295+-0x2652+0x333b));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return Y['powerOfTwo'](this['_width'])&&Y['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case Zi:return'rgbm';case mh:return'rgbe';case Qo:return'rgbp';}return py(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(-0x1ae+-0x2*-0x1236+-0x22be),!(-0x29*0xb7+-0xe7a+-0x2bc9*-0x1),!(0x1d2e+-0x21e7+0x4b9),!(-0x3f+0xa7a+-0xa3b),!(-0xd*-0x191+0x1*-0x41c+-0x1041),!(0x3fa*0x2+0x169e+-0x1e92)]]:[!(-0x6f*-0x53+0x58a*0x6+0x7b1*-0x9)],this['_needsUplo'+'ad']=!(-0x1*0x101+0x1*-0x11f1+-0xa*-0x1e5),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(0xef4+0x1fa9+0x174e*-0x2),this['propertyCh'+'anged'](lT);}['lock'](_0x2396de={}){_0x2396de['level']??(_0x2396de['level']=-0x1*-0x2566+-0x1ee*-0x4+0x339*-0xe),_0x2396de['face']??(_0x2396de['face']=-0x1c47+-0x638+0x227f),_0x2396de['mode']??(_0x2396de['mode']=Od),w['assert'](this['_lockedMod'+'e']===$l,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),w['assert'](_0x2396de['mode']===yy||_0x2396de['mode']===Od,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x2396de['mode'],this['_lockedLev'+'el']=_0x2396de['level'];const _0x3b5e5f=this['cubemap']?this['_levels'][_0x2396de['face']]:this['_levels'];if((_0x3b5e5f==null?void(0xcb6*-0x3+-0x160d+0x3c2f):_0x3b5e5f[_0x2396de['level']])===null){const _0x5ca87e=Math['max'](0x938+0x1638+-0x1f6f,this['_width']>>_0x2396de['level']),_0x196a93=Math['max'](0x1c3a+-0x1e98+0x25f,this['_height']>>_0x2396de['level']),_0x1bf463=Math['max'](-0x262b+-0x1f2a+0x4556,this['_depth']>>_0x2396de['level']),_0x42f841=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x5ca87e,_0x196a93,_0x1bf463,this['_format']));_0x3b5e5f[_0x2396de['level']]=new(my(this['_format']))(_0x42f841);}return _0x3b5e5f==null?void(-0x133e+-0x2*-0x517+0x910):_0x3b5e5f[_0x2396de['level']];}['setSource'](_0x2a5d47,_0x17a6f1=0x3*-0x8e9+-0x4d6+-0x1f91*-0x1){let _0x5b86a=!(0xade+0x29*0x8e+-0x4cd*0x7),_0x465520,_0x9e96cf;if(this['_cubemap']){if(_0x2a5d47[-0x1811+-0x2e7+0x8*0x35f]){_0x465520=_0x2a5d47[-0x16*-0x166+-0x24*0x89+-0xb80]['width']||0x103*0x23+0x1122*0x1+-0x348b,_0x9e96cf=_0x2a5d47[-0x13db+-0x3e7*0x1+0xbe1*0x2]['height']||-0x17*-0x83+0x33b+-0x50*0x30;for(let _0x86379c=-0x2*0xe06+0xe75*-0x1+0x2a81;_0x86379c<-0x90*0xf+-0x538*0x1+0xdae;_0x86379c++){const _0x40f72a=_0x2a5d47[_0x86379c];if(!_0x40f72a||_0x40f72a['width']!==_0x465520||_0x40f72a['height']!==_0x9e96cf||!this['device']['_isBrowser'+'Interface'](_0x40f72a)){_0x5b86a=!(0x1*0x1f44+-0x1*-0x161b+-0x355f);break;}}}else _0x5b86a=!(0xf9e+0x8b4+-0x1*0x1852);if(!_0x5b86a){for(let _0x2cd11f=-0x18d3+-0x2*-0x5b3+0xd6d;_0x2cd11f<0x6fb*-0x5+-0x1862+0x15*0x2d3;_0x2cd11f++)this['_levels'][_0x17a6f1][_0x2cd11f]!==_0x2a5d47[_0x2cd11f]&&(this['_levelsUpd'+'ated'][_0x17a6f1][_0x2cd11f]=!(0xb*-0x2bd+-0x248b+0x2*0x2155));}}else this['device']['_isBrowser'+'Interface'](_0x2a5d47)||(_0x5b86a=!(-0x200e+0x653*0x1+-0x19bb*-0x1)),_0x5b86a||(_0x2a5d47!==this['_levels'][_0x17a6f1]&&(this['_levelsUpd'+'ated'][_0x17a6f1]=!(-0x18a*0x1+0x11a+0x70)),_0x2a5d47 instanceof HTMLVideoElement?(_0x465520=_0x2a5d47['videoWidth'],_0x9e96cf=_0x2a5d47['videoHeigh'+'t']):(_0x465520=_0x2a5d47['width'],_0x9e96cf=_0x2a5d47['height']));if(_0x5b86a){if(this['_width']=0x2a2+0x1539+-0x167*0x11,this['_height']=-0xd81+-0x270c+0x3491*0x1,this['_cubemap']){for(let _0x3a83d6=0x2459+0x1bd9+-0x4032;_0x3a83d6<-0x1e39+0x23f1*0x1+-0x5b2;_0x3a83d6++)this['_levels'][_0x17a6f1][_0x3a83d6]=null,this['_levelsUpd'+'ated'][_0x17a6f1][_0x3a83d6]=!(0x13b5*-0x1+0x1*0x144e+-0x99);}else this['_levels'][_0x17a6f1]=null,this['_levelsUpd'+'ated'][_0x17a6f1]=!(-0x2210+-0x1325+0x3535);}else _0x17a6f1===-0xe5e+0x117c+-0x31e&&(this['_width']=_0x465520,this['_height']=_0x9e96cf),this['_levels'][_0x17a6f1]=_0x2a5d47;(this['_invalid']!==_0x5b86a||!_0x5b86a)&&(this['_invalid']=_0x5b86a,this['upload']());}['getSource'](_0x2800d6=0x3*-0x64d+0xe3*0xf+0x59a){return this['_levels'][_0x2800d6];}['unlock'](){this['_lockedMod'+'e']===$l&&w['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===Od&&this['upload'](),this['_lockedLev'+'el']=-(-0x245a+-0x29*0x9d+0x3d80),this['_lockedMod'+'e']=$l;}['upload'](){var _0x58431a,_0x234765;this['_needsUplo'+'ad']=!(0x3d*-0xb+-0xd1*0x2e+-0x282d*-0x1),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x234765=(_0x58431a=this['impl'])['uploadImme'+'diate'])==null||_0x234765['call'](_0x58431a,this['device'],this);}['read'](_0x4f5b82,_0x291847,_0x22ee73,_0x19694b,_0x215fbd={}){var _0x320eed,_0x5d1ca7;return(_0x5d1ca7=(_0x320eed=this['impl'])['read'])==null?void(-0x1*-0xa1f+-0x24fb*0x1+0x1adc):_0x5d1ca7['call'](_0x320eed,_0x4f5b82,_0x291847,_0x22ee73,_0x19694b,_0x215fbd);}['write'](_0x325e77,_0x21d755,_0x47b121,_0x47a7aa,_0x43bf10){var _0x4b2979,_0x5241c9;return(_0x5241c9=(_0x4b2979=this['impl'])['write'])==null?void(0x1*-0x7eb+0x1*-0xb51+0x133c):_0x5241c9['call'](_0x4b2979,_0x325e77,_0x21d755,_0x47b121,_0x47a7aa,_0x43bf10);}}const mT={'white':[-0xc51+-0x1369+0x1*0x20b9,0x2007+-0xc26+-0x1*0x12e2,-0x1e07*0x1+-0xf0*0x5+0x23b6,-0x77*-0x19+-0xe*-0x13a+-0xc*0x251],'gray':[0x892+-0x75d+-0xb5*0x1,0x1fdb+-0x24b6+0x55b*0x1,-0x1620+0x57c+0x1124,-0x1c73*-0x1+0x2cf*0xa+-0x1*0x378a],'black':[-0x1*-0xe23+-0x992+-0x491,0xc11*-0x1+0x1d63+-0x1152,-0x69*0x31+-0x89a*-0x1+0xb7f,0xb*0x1c1+0x74e+0xccd*-0x2],'normal':[0x1237+0xaf7+0x2*-0xe57,0x257e+-0x1c1d*-0x1+-0x411b,0x1*0x2173+-0x272*-0x4+-0x2a3c,0x148+0x42f+0x34*-0x16],'pink':[-0x221e+-0x10f*0x19+-0x3d94*-0x1,0x15ff+0xf+-0x158e,-0x1aa*0x4+-0x3ed+0xb94,0xc*-0x293+0x1d7+0x1e0c]};class _T{constructor(){h(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x58f059=>{_0x58f059['destroy']();});}}const gT=new Kt(),fa=(_0x446248,_0x24db0d)=>{const _0x3521b9=gT['get'](_0x446248,()=>new _T());if(!_0x3521b9['map']['has'](_0x24db0d)){const _0x11ed2f=new _e(_0x446248,{'name':'built-in-t'+'exture-'+_0x24db0d,'width':0x1,'height':0x1,'format':Ne}),_0x3f68a8=_0x11ed2f['lock'](),_0x308eee=mT[_0x24db0d];w['assert'](_0x308eee,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x24db0d+('\x27\x20not\x20foun'+'d')),_0x3f68a8['set'](_0x308eee),_0x11ed2f['unlock'](),_0x3521b9['map']['set'](_0x24db0d,_0x11ed2f);}return _0x3521b9['map']['get'](_0x24db0d);};let ST=-0x1b6d+0x267c+-0xb0f;class ky{constructor(){h(this,'bindGroup'),h(this,'offsets',[]);}}class Up{constructor(_0x55471e,_0x1a86a3,_0x53022c){h(this,'renderVers'+'ionUpdated',-(0x7*-0x20d+0x1c3f*-0x1+0x2a9b)),h(this,'uniformBuf'+'fers'),h(this,'uniformBuf'+'ferOffsets',[]),(this['id']=ST++,this['device']=_0x55471e,this['format']=_0x1a86a3,this['dirty']=!(-0x5da+-0x131*-0x3+0xb*0x35),this['impl']=_0x55471e['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x53022c,_0x53022c&&this['setUniform'+'Buffer'](Np,_0x53022c),w['trace'](Y0,'Alloc:\x20Id\x20'+this['id'],this,_0x1a86a3));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x2bbe18,_0x21196a){const _0x4c84af=this['format']['bufferForm'+'atsMap']['get'](_0x2bbe18);w['assert'](_0x4c84af!==void(-0x54*-0x6b+0x24bb*0x1+-0x1*0x47d7),'Setting\x20a\x20'+'uniform\x20['+_0x2bbe18+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['uniformBuf'+'fers'][_0x4c84af]!==_0x21196a&&(this['uniformBuf'+'fers'][_0x4c84af]=_0x21196a,this['dirty']=!(-0x1*-0x139d+-0x115b+0x242*-0x1));}['setStorage'+'Buffer'](_0x344076,_0x1e4993){const _0x329390=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x344076);w['assert'](_0x329390!==void(-0x2*-0x874+-0x137*-0x4+-0xc7*0x1c),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x344076+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageBuf'+'fers'][_0x329390]!==_0x1e4993&&(this['storageBuf'+'fers'][_0x329390]=_0x1e4993,this['dirty']=!(-0x3d*-0x44+0xa14+-0x1a48));}['setTexture'](_0x372c5e,_0x4171e9){const _0x445a22=this['format']['textureFor'+'matsMap']['get'](_0x372c5e);w['assert'](_0x445a22!==void(-0x158f+0x1a*0x14+0x1387),'Setting\x20a\x20'+'texture\x20['+_0x372c5e+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['textures'][_0x445a22]!==_0x4171e9?(this['textures'][_0x445a22]=_0x4171e9,this['dirty']=!(-0x4*-0x5cc+-0x1c8a+-0x2ad*-0x2)):this['renderVers'+'ionUpdated']<_0x4171e9['renderVers'+'ionDirty']&&(this['dirty']=!(-0x20ca+-0x5de+0x26a8));}['setStorage'+'Texture'](_0x22bf6f,_0x13d8ea){const _0x31220b=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x22bf6f);w['assert'](_0x31220b!==void(-0x65e+-0x2*0x101c+0x2696),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x22bf6f+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageTex'+'tures'][_0x31220b]!==_0x13d8ea?(this['storageTex'+'tures'][_0x31220b]=_0x13d8ea,this['dirty']=!(0x2ee*0x5+-0x25cb+-0x19*-0xed)):this['renderVers'+'ionUpdated']<_0x13d8ea['renderVers'+'ionDirty']&&(this['dirty']=!(0x1539+0x5f3*-0x1+-0x73*0x22));}['updateUnif'+'ormBuffers'](){for(let _0x191b52=-0x1*0x8e5+-0x29*-0xd2+-0x83f*0x3;_0x191b52<this['uniformBuf'+'fers']['length'];_0x191b52++)this['uniformBuf'+'fers'][_0x191b52]['update']();}['update'](){const {textureFormats:_0x5d7c29,storageTextureFormats:_0x22128,storageBufferFormats:_0x2df656}=this['format'];for(let _0x4b80a7=-0x40f+-0x14e9+0x18f8;_0x4b80a7<_0x5d7c29['length'];_0x4b80a7++){const _0x43f31f=_0x5d7c29[_0x4b80a7];let _0x325ecd=_0x43f31f['scopeId']['value'];_0x325ecd||(_0x43f31f['name']==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x325ecd=fa(this['device'],'white')),_0x43f31f['name']==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x325ecd=fa(this['device'],'pink')),_0x325ecd||(w['errorOnce']('Texture\x20'+_0x43f31f['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+Q['toString']()+']'),_0x325ecd=fa(this['device'],'pink'))),this['setTexture'](_0x43f31f['name'],_0x325ecd);}for(let _0x3b43d6=0x1a6d+-0x19a3+-0xca;_0x3b43d6<_0x22128['length'];_0x3b43d6++){const _0x142afd=_0x22128[_0x3b43d6],_0x3be677=_0x142afd['scopeId']['value'];w['assert'](_0x3be677,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x142afd['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Texture'](_0x142afd['name'],_0x3be677);}for(let _0x567371=-0x2*-0xb48+-0x264d+0x4f*0x33;_0x567371<_0x2df656['length'];_0x567371++){const _0x387c6e=_0x2df656[_0x567371],_0x308c83=_0x387c6e['scopeId']['value'];w['assert'](_0x308c83,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x387c6e['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Buffer'](_0x387c6e['name'],_0x308c83);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x10994b=0x1bb1+-0x2*0x8a1+-0x1*0xa6f;_0x10994b<this['uniformBuf'+'fers']['length'];_0x10994b++){const _0x1eac81=this['uniformBuf'+'fers'][_0x10994b];this['uniformBuf'+'ferOffsets'][_0x10994b]=_0x1eac81['offset'],this['renderVers'+'ionUpdated']<_0x1eac81['renderVers'+'ionDirty']&&(this['dirty']=!(0x6c7+-0x1*0x15df+0xf18));}this['dirty']&&(this['dirty']=!(0x1*-0x22af+0x1*-0x1472+0x2*0x1b91),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const qe={'set'(_0x8351db,_0x3c0c8d,_0x1c261a,_0x46c472=0x42*-0x7c+-0x2*-0x545+0x156f){return _0x8351db&~(_0x46c472<<_0x1c261a)|_0x3c0c8d<<_0x1c261a;},'get'(_0x17a4f1,_0x24ae30,_0x120a12=-0x25*-0x5d+0x1e74+-0x2be4){return _0x17a4f1>>_0x24ae30&_0x120a12;},'all'(_0x38deef,_0x3c1bd7,_0x47c34c=-0x33*0x17+-0x1903+-0x1*-0x1d99){const _0xdfc600=_0x47c34c<<_0x3c1bd7;return(_0x38deef&_0xdfc600)===_0xdfc600;},'any'(_0x56796e,_0x166df1,_0x508ceb=0x75f+-0x23*0xe7+-0x1837*-0x1){return(_0x56796e&_0x508ceb<<_0x166df1)!==-0x1d59+-0x86*-0x3b+-0x189;}},Xl=0x3b4+0x18f9+-0x26*0xc1,ir=0xe43+-0x2*-0x2c2+-0x13b8,Hm=-0x21d*0x1+-0x22bd+0x2*0x126d,Wm=-0xba6+-0x2641+0x2*0x18f5,$m=-0x3b*-0x8d+-0x2*-0xbbe+-0x37f4*0x1,Xm=0x1d59+-0x797+-0x6d*0x33,qm=0x1219+0xaa3*-0x1+-0x768,jm=-0x2b*-0x7+0x1ab0+-0x1bcb,iu=0x1286+-0x1d18+0xaa8,Ym=0x7*-0x197+0x19ba+-0xe82,Km=0x216b+0x270f+-0x4862,Zm=0x24a5*-0x1+0xb*0xd4+-0x36*-0x83,Qm=-0x1206+0x12f2+0x1e*-0x7,yT=0x1489*0x1+0x111+-0x158b,vT=iu,ri=class ri{constructor(_0x3aa519=!(-0x2080+0xc9*0x11+0x1328),_0x2c9dd6=fs,_0x4fb1e0=Ft,_0x428074=rp,_0x1a1abc,_0x1d146a,_0x2070c8,_0x3770f9=!(0xb*0x2b3+0xe2*-0x5+-0x1947),_0x5dad97=!(-0x1f93+0x1bec+0x3a7),_0x53cc1c=!(0x1f85+0x1*-0x1f9c+0x1*0x17),_0x18ddd3=!(0xc92+0x16d*0x17+-0x2d5d)){h(this,'target0',-0x26de*-0x1+0x97*0x17+-0x346f),(this['setColorBl'+'end'](_0x2c9dd6,_0x4fb1e0,_0x428074),this['setAlphaBl'+'end'](_0x1a1abc??_0x2c9dd6,_0x1d146a??_0x4fb1e0,_0x2070c8??_0x428074),this['setColorWr'+'ite'](_0x3770f9,_0x5dad97,_0x53cc1c,_0x18ddd3),this['blend']=_0x3aa519);}set['blend'](_0x4a501b){this['target0']=qe['set'](this['target0'],_0x4a501b?0xa85*0x1+-0x1*0x21f1+0x176d:0x30b*0xb+-0x1*-0x2e+-0x21a7,Qm);}get['blend'](){return qe['all'](this['target0'],Qm);}['setColorBl'+'end'](_0x1c3e2c,_0x49e2bb,_0x2b3f3a){this['target0']=qe['set'](this['target0'],_0x1c3e2c,Hm,Xl),this['target0']=qe['set'](this['target0'],_0x49e2bb,Wm,ir),this['target0']=qe['set'](this['target0'],_0x2b3f3a,$m,ir);}['setAlphaBl'+'end'](_0x506e42,_0x42ec83,_0x4683e0){this['target0']=qe['set'](this['target0'],_0x506e42,Xm,Xl),this['target0']=qe['set'](this['target0'],_0x42ec83,qm,ir),this['target0']=qe['set'](this['target0'],_0x4683e0,jm,ir);}['setColorWr'+'ite'](_0x40145e,_0x5821f2,_0x36210f,_0x56b5c5){this['redWrite']=_0x40145e,this['greenWrite']=_0x5821f2,this['blueWrite']=_0x36210f,this['alphaWrite']=_0x56b5c5;}get['colorOp'](){return qe['get'](this['target0'],Hm,Xl);}get['colorSrcFa'+'ctor'](){return qe['get'](this['target0'],Wm,ir);}get['colorDstFa'+'ctor'](){return qe['get'](this['target0'],$m,ir);}get['alphaOp'](){return qe['get'](this['target0'],Xm,Xl);}get['alphaSrcFa'+'ctor'](){return qe['get'](this['target0'],qm,ir);}get['alphaDstFa'+'ctor'](){return qe['get'](this['target0'],jm,ir);}set['redWrite'](_0x216cfe){this['target0']=qe['set'](this['target0'],_0x216cfe?-0x1dfe+0x1*-0x12ad+-0x23*-0x164:0x48a+0x1998+0x26*-0xcb,iu);}get['redWrite'](){return qe['all'](this['target0'],iu);}set['greenWrite'](_0x524248){this['target0']=qe['set'](this['target0'],_0x524248?0x18fb+-0xed*-0x1a+-0x310c:0x4d2+-0x1742+0x938*0x2,Ym);}get['greenWrite'](){return qe['all'](this['target0'],Ym);}set['blueWrite'](_0xbf461e){this['target0']=qe['set'](this['target0'],_0xbf461e?0x1e*0xd+-0x355+-0x3a*-0x8:0x3*-0x7b3+0x18b7+0x12*-0x17,Km);}get['blueWrite'](){return qe['all'](this['target0'],Km);}set['alphaWrite'](_0x13bc17){this['target0']=qe['set'](this['target0'],_0x13bc17?-0x673*0x1+-0xf3d+0x15b1:-0x2*0x9a9+0x1acd+-0x77b,Zm);}get['alphaWrite'](){return qe['all'](this['target0'],Zm);}get['allWrite'](){return qe['get'](this['target0'],vT,yT);}['copy'](_0x5a46a8){return this['target0']=_0x5a46a8['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x51bb66){return this['target0']===_0x51bb66['target0'];}};h(ri,'NOBLEND',Object['freeze'](new ri())),h(ri,'NOWRITE',Object['freeze'](new ri(void(0xdc3+-0x153*-0x18+-0x83*0x59),void(-0x1*-0xec2+-0x10b1*-0x1+-0x1f73),void(0x124b+-0xed4+-0x377),void(-0x223*0x11+-0x237f+0x47d2),void(-0x1*-0x223d+-0x13*0x1d+0x4a*-0x6f),void(0x15c7+-0x1e52*-0x1+0x1*-0x3419),void(-0x14e7+0x20dc+-0xbf5),!(-0x18d*0x3+-0x4f*0x4d+0x123*0x19),!(-0x1a7*-0x1+0x1c2d+-0x1dd3),!(0x1ff6+0x80f*0x1+-0x2804),!(-0xaa*0x37+-0x3*0x9fd+-0xb15*-0x6)))),h(ri,'ALPHABLEND',Object['freeze'](new ri(!(0xdd*0x4+-0xc+-0x1*0x368),fs,jh,Yh))),h(ri,'ADDBLEND',Object['freeze'](new ri(!(0x97*0x8+0x20d+-0x6c5),fs,Ft,Ft)));let pt=ri;class Bp{constructor(){h(this,'map',new Map()),h(this,'id',-0x228*0x2+-0x103*0x15+-0x3*-0x885);}['get'](_0x4c52f4){let _0x8b75c=this['map']['get'](_0x4c52f4);return _0x8b75c===void(-0x169c*-0x1+0x373*-0xb+0xf55)&&(_0x8b75c=this['id']++,this['map']['set'](_0x4c52f4,_0x8b75c)),_0x8b75c;}}const xT=new Bp(),Jm=0x17*0x94+0x186a+-0x25af,e_=-0x2*-0x36d+0x963+0x103d*-0x1,t_=0x1*0x201b+0xd*0x2+-0x2032,_r=class _r{constructor(_0x198766=Wf,_0x3ec058=!(0x11*-0x10f+-0xcb*-0xf+0x61a)){h(this,'data',0x1da8+0x1*0x15a0+0x19a4*-0x2),h(this,'_depthBias',0x7f4+-0x23d4+0x1be0),h(this,'_depthBias'+'Slope',-0x1ccb+0x1ff3+-0x2*0x194),h(this,'key',-0x1*-0x655+0x7*0x2c5+-0x19b8),(this['func']=_0x198766,this['write']=_0x3ec058);}set['test'](_0x10c4ca){this['func']=_0x10c4ca?Wf:Wi,this['updateKey']();}get['test'](){return this['func']!==Wi;}set['write'](_0x2be187){this['data']=qe['set'](this['data'],_0x2be187?-0x730+-0x4a4+0xbd5:0x17d8+0x1ee1+-0x36b9,t_),this['updateKey']();}get['write'](){return qe['all'](this['data'],t_);}set['func'](_0x1d61d6){this['data']=qe['set'](this['data'],_0x1d61d6,e_,Jm),this['updateKey']();}get['func'](){return qe['get'](this['data'],e_,Jm);}set['depthBias'](_0x3c7cd6){this['_depthBias']=_0x3c7cd6,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x5c8de6){this['_depthBias'+'Slope']=_0x5c8de6,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x3990d8){return this['data']=_0x3990d8['data'],this['_depthBias']=_0x3990d8['_depthBias'],this['_depthBias'+'Slope']=_0x3990d8['_depthBias'+'Slope'],this['key']=_0x3990d8['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x1d2f81,_depthBias:_0x4c7d40,_depthBiasSlope:_0x2f94f6}=this,_0x5be8eb=_0x1d2f81+'-'+_0x4c7d40+'-'+_0x2f94f6;this['key']=xT['get'](_0x5be8eb);}['equals'](_0x368cfb){return this['key']===_0x368cfb['key'];}};h(_r,'DEFAULT',Object['freeze'](new _r())),h(_r,'NODEPTH',Object['freeze'](new _r(Wi,!(-0x3*0x435+0x150d+-0x86d)))),h(_r,'WRITEDEPTH',Object['freeze'](new _r(Wi,!(0xd7d+0x1461+-0x21de))));let Yt=_r;class Uy{constructor(){h(this,'globalId',0x36c*-0xb+0x3b2+0xb*0x316),h(this,'revision',-0x1168+0x156*0x11+-0x1*0x54e);}['equals'](_0x176703){return this['globalId']===_0x176703['globalId']&&this['revision']===_0x176703['revision'];}['copy'](_0x28b8f7){this['globalId']=_0x28b8f7['globalId'],this['revision']=_0x28b8f7['revision'];}['reset'](){this['globalId']=0x1833+-0x427+0x140c*-0x1,this['revision']=-0x3*-0x99d+0x1*-0x2558+0x881;}}let s_=0x12a*-0xc+-0x2e7*-0x1+0xb11;class TT{constructor(){s_++,this['version']=new Uy(),this['version']['globalId']=s_;}['increment'](){this['version']['revision']++;}}class wT{constructor(_0x3b273a){this['name']=_0x3b273a,this['value']=null,this['versionObj'+'ect']=new TT();}['toJSON'](_0x536063){}['setValue'](_0x174523){this['value']=_0x174523,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class ET{constructor(_0x21ac2e){this['name']=_0x21ac2e,this['variables']=new Map();}['resolve'](_0x1c76ce){return this['variables']['has'](_0x1c76ce)||this['variables']['set'](_0x1c76ce,new wT(_0x1c76ce)),this['variables']['get'](_0x1c76ce);}['removeValu'+'e'](_0x3c9742){for(const _0x5df036 in this['variables']){const _0x169f7b=this['variables'][_0x5df036];_0x169f7b['value']===_0x3c9742&&(_0x169f7b['value']=null);}}}let bT=0x52*0x57+0x96a+-0x2548;class Is{constructor(_0x22ae7d,_0x5ceedd,_0x39dcd8,_0x319cba){h(this,'usage',ms),(w['assert'](arguments['length']<=0x899+0x21e7+-0xa9f*0x4&&(!_0x319cba||typeof _0x319cba=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x319cba==null?void(-0x36b*-0x4+-0x15d8*0x1+0x1*0x82c):_0x319cba['usage'])??ms,this['device']=_0x22ae7d,this['format']=_0x5ceedd,this['numVertice'+'s']=_0x39dcd8,this['id']=bT++,this['impl']=_0x22ae7d['createVert'+'exBufferIm'+'pl'](this,_0x5ceedd,_0x319cba),this['numBytes']=_0x5ceedd['verticesBy'+'teSize']?_0x5ceedd['verticesBy'+'teSize']:_0x5ceedd['size']*_0x39dcd8,this['adjustVram'+'SizeTracki'+'ng'](_0x22ae7d['_vram'],this['numBytes']));const _0x3542ab=_0x319cba==null?void(-0x1c64+-0x2397+0x3ffb):_0x319cba['data'];_0x3542ab?this['setData'](_0x3542ab):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x253b55=this['device'],_0x809fcf=_0x253b55['buffers']['indexOf'](this);_0x809fcf!==-(0x1361+0x9*0x327+-0x2fbf*0x1)&&_0x253b55['buffers']['splice'](_0x809fcf,-0x237+0x233+-0x5*-0x1),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x253b55),this['adjustVram'+'SizeTracki'+'ng'](_0x253b55['_vram'],-this['storage']['byteLength'])),this['storage']=null;}['adjustVram'+'SizeTracki'+'ng'](_0x40c20a,_0x515d59){w['trace'](q0,this['id']+'\x20size:\x20'+_0x515d59+'\x20vram.vb:\x20'+_0x40c20a['vb']+'\x20=>\x20'+(_0x40c20a['vb']+_0x515d59)),_0x40c20a['vb']+=_0x515d59;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x39b0ea){return _0x39b0ea['byteLength']!==this['numBytes']?(w['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x39b0ea['byteLength']),!(0x4*-0x96e+-0x25bd*-0x1+-0x4)):(this['storage']=_0x39b0ea,this['unlock'](),!(0xccd*0x3+0x195d*-0x1+-0xd0a));}}function hi(_0x3b0b07){if(_0x3b0b07==null)return-0xb*0x143+-0x5*0x5c1+0x2aa6;let _0x17384e=-0x240e+-0x194c+0x1ead*0x2;for(let _0x59fe6e=-0xa46+0x3c1*0x1+-0x685*-0x1,_0xd13e80=_0x3b0b07['length'];_0x59fe6e<_0xd13e80;_0x59fe6e++)_0x17384e=(_0x17384e<<-0x22c0+-0x1997*-0x1+0x1*0x92e)-_0x17384e+_0x3b0b07['charCodeAt'](_0x59fe6e),_0x17384e|=-0xc8a+-0x2431+0x30bb;return _0x17384e;}function By(_0x97cf34){let _0x3cc953=0x3*0x17986afc+-0x7bfaada*-0xa+-0x13294fb3;for(let _0x3b6759=0x1e1f+-0x22b3+-0x125*-0x4;_0x3b6759<_0x97cf34['length'];_0x3b6759++)_0x3cc953^=_0x97cf34[_0x3b6759],_0x3cc953*=0x77b*0x21fe+0x16c8c6+-0x3*0x704bf;return _0x3cc953>>>-0x1*0x4a3+-0x2d*-0xbf+-0xe78*0x2;}const AT=new Bp(),CT=[0x5d6+-0x32*0xa9+0x1b2e,-0x20d2+-0xda*-0x1d+0x824,-0x1186+-0x1b1a+0x1*0x2ca8,0xdf+0x481+-0x554,0x5*0x7aa+-0x1b41*0x1+-0xb01],PT=new Kt();class kt{constructor(_0x48f4b7,_0x4250eb,_0x10eabf){this['device']=_0x48f4b7,this['_elements']=[],this['hasUv0']=!(-0x3*-0x3ad+0x83*-0x30+0xd8a*0x1),this['hasUv1']=!(-0x1*0x190f+-0x1adc+0x33ec),this['hasColor']=!(-0x1*0x8b+0x64c+0x4*-0x170),this['hasTangent'+'s']=!(-0x563+-0x19fc+0x1f60),this['verticesBy'+'teSize']=-0x4*-0x879+-0x1*0x1d09+-0x4db,this['vertexCoun'+'t']=_0x10eabf,this['interleave'+'d']=_0x10eabf===void(-0x1*0xb5c+-0x261f+-0x317b*-0x1),this['instancing']=!(0x5ba*-0x6+-0x549+0x46*0x91),this['size']=_0x4250eb['reduce']((_0x6d4dbf,_0x548116)=>_0x6d4dbf+Math['ceil'](_0x548116['components']*No[_0x548116['type']]/(-0x1675+0xa5d*-0x1+-0xaf2*-0x3))*(-0x6f7*-0x5+0x5*-0x383+-0x1140),0x1*-0x1f5d+0x22e+-0x1f*-0xf1);let _0x4bfbe2=0x6f*0x1e+0x1*0xb55+-0x1857,_0x225cfd;for(let _0x3b64aa=-0x1*0xe63+-0x14c6+0x1*0x2329,_0xccb066=_0x4250eb['length'];_0x3b64aa<_0xccb066;_0x3b64aa++){const _0x4131ed=_0x4250eb[_0x3b64aa];_0x225cfd=_0x4131ed['components']*No[_0x4131ed['type']],w['assert'](kt['isElementV'+'alid'](_0x48f4b7,_0x4131ed),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x4131ed['semantic']+'\x20:\x20'+cT[_0x4131ed['type']]+'\x20x\x20'+_0x4131ed['components']),_0x10eabf&&(_0x4bfbe2=Y['roundUp'](_0x4bfbe2,_0x225cfd),w['assert'](_0x225cfd%(-0x3*-0xe3+-0xce4+0xa3f)===0x22f2+-0x163b+-0xcb7,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x225cfd));const _0x39bafe=_0x4131ed['asInt']??!(-0xca9*-0x2+0x19a1*-0x1+-0x1*-0x50),_0x20580f=_0x39bafe?!(0x3*-0x4db+0xad6*0x2+-0x71a):_0x4131ed['normalize']??!(-0x871+-0x1e3*0x3+-0x9d*-0x17),_0x55f4b8={'name':_0x4131ed['semantic'],'offset':_0x10eabf?_0x4bfbe2:_0x4131ed['hasOwnProp'+'erty']('offset')?_0x4131ed['offset']:_0x4bfbe2,'stride':_0x10eabf?_0x225cfd:_0x4131ed['hasOwnProp'+'erty']('stride')?_0x4131ed['stride']:this['size'],'dataType':_0x4131ed['type'],'numComponents':_0x4131ed['components'],'normalize':_0x20580f,'size':_0x225cfd,'asInt':_0x39bafe};this['_elements']['push'](_0x55f4b8),_0x10eabf?_0x4bfbe2+=_0x225cfd*_0x10eabf:_0x4bfbe2+=Math['ceil'](_0x225cfd/(-0x7d0+0x300+0x4d4))*(-0xf33+-0x2670+-0xcd*-0x43),_0x4131ed['semantic']===is?this['hasUv0']=!(0x5*-0x606+0x1f4f+-0x131):_0x4131ed['semantic']===ba?this['hasUv1']=!(-0x1be2+-0x1e85+0x3a67*0x1):_0x4131ed['semantic']===Wt?this['hasColor']=!(-0x42*-0x63+-0x2269+0x8e3):_0x4131ed['semantic']===yi&&(this['hasTangent'+'s']=!(0xafd+-0xc47*0x2+0x17*0x97));}_0x10eabf&&(this['verticesBy'+'teSize']=_0x4bfbe2),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x2b739d){return PT['get'](_0x2b739d,()=>new kt(_0x2b739d,[{'semantic':Mp,'components':0x4,'type':Ve},{'semantic':Dp,'components':0x4,'type':Ve},{'semantic':Ip,'components':0x4,'type':Ve},{'semantic':Ln,'components':0x4,'type':Ve}]));}static['isElementV'+'alid'](_0x1ada05,_0x1cf9b5){const _0x622b8b=_0x1cf9b5['components']*No[_0x1cf9b5['type']];return!(_0x1ada05['isWebGPU']&&!CT['includes'](_0x622b8b));}['update'](){w['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x1540af=[],_0x26a1cc=[],_0xe44b71=this['_elements']['length'];for(let _0x554fbe=0x1e65+0x2e2*-0x3+-0x15bf;_0x554fbe<_0xe44b71;_0x554fbe++){const {name:_0x2acd07,dataType:_0xc90f3b,numComponents:_0x48edbe,normalize:_0x1bf3ba,offset:_0x1015bc,stride:_0x51dcc9,size:_0x102009,asInt:_0x83fc3}=this['_elements'][_0x554fbe],_0x57063e=_0x2acd07+_0xc90f3b+_0x48edbe+_0x1bf3ba+_0x83fc3;_0x1540af['push'](_0x57063e);const _0x2e8877=_0x57063e+_0x1015bc+_0x51dcc9+_0x102009;_0x26a1cc['push'](_0x2e8877);}_0x1540af['sort']();const _0xd71615=_0x1540af['join']();this['batchingHa'+'sh']=hi(_0xd71615),this['shaderProc'+'essingHash'+'String']=_0xd71615,this['renderingH'+'ashString']=_0x26a1cc['join']('_'),this['renderingH'+'ash']=AT['get'](this['renderingH'+'ashString']);}}const MT=new Bp(),zh=class zh{constructor(_0x37525e={}){h(this,'_func'),h(this,'_ref'),h(this,'_fail'),h(this,'_zfail'),h(this,'_zpass'),h(this,'_readMask'),h(this,'_writeMask'),h(this,'_dirty',!(-0x1779+-0x115*0x7+0x7c3*0x4)),h(this,'_key'),(this['_func']=_0x37525e['func']??Wi,this['_ref']=_0x37525e['ref']??0x2576+-0x1d25+-0x851*0x1,this['_readMask']=_0x37525e['readMask']??0x23ad+-0x26a8+0x3fa,this['_writeMask']=_0x37525e['writeMask']??0x1de3+0x20f3+-0x149d*0x3,this['_fail']=_0x37525e['fail']??xn,this['_zfail']=_0x37525e['zfail']??xn,this['_zpass']=_0x37525e['zpass']??xn,this['_evalKey']());}set['func'](_0x1ee4bc){this['_func']=_0x1ee4bc,this['_dirty']=!(0x1*-0x19ee+-0x653+-0x1*-0x2041);}get['func'](){return this['_func'];}set['ref'](_0x479cae){this['_ref']=_0x479cae,this['_dirty']=!(-0xe3*-0x1+-0x192b*0x1+0x1848);}get['ref'](){return this['_ref'];}set['fail'](_0x4d6498){this['_fail']=_0x4d6498,this['_dirty']=!(-0x147e*0x1+-0x733+0x1bb1);}get['fail'](){return this['_fail'];}set['zfail'](_0x35bc83){this['_zfail']=_0x35bc83,this['_dirty']=!(0x3*0xaab+-0x1*-0xeca+-0xf99*0x3);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x45c880){this['_zpass']=_0x45c880,this['_dirty']=!(0x14c2+-0x1b09+0x1*0x647);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x665961){this['_readMask']=_0x665961,this['_dirty']=!(-0x29*-0x5c+0x2638+-0x34f4);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x3aa5a3){this['_writeMask']=_0x3aa5a3,this['_dirty']=!(0x68+0x11d6+0xa*-0x1d3);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x6cf79,_ref:_0x5b71b2,_fail:_0x5827da,_zfail:_0x44c4ae,_zpass:_0x4fad40,_readMask:_0x47323e,_writeMask:_0x335de5}=this,_0x163af5=_0x6cf79+','+_0x5b71b2+','+_0x5827da+','+_0x44c4ae+','+_0x4fad40+','+_0x47323e+','+_0x335de5;this['_key']=MT['get'](_0x163af5),this['_dirty']=!(0x1288*-0x2+-0xa21+-0x6be*-0x7);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x2957b8){return this['_func']=_0x2957b8['_func'],this['_ref']=_0x2957b8['_ref'],this['_readMask']=_0x2957b8['_readMask'],this['_writeMask']=_0x2957b8['_writeMask'],this['_fail']=_0x2957b8['_fail'],this['_zfail']=_0x2957b8['_zfail'],this['_zpass']=_0x2957b8['_zpass'],this['_dirty']=_0x2957b8['_dirty'],this['_key']=_0x2957b8['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};h(zh,'DEFAULT',Object['freeze'](new zh()));let pi=zh;const ql=new Set(),Vh=class Vh extends me{constructor(_0x8a5455,_0x7bd7db){var _0x5bf557,_0x3c6a60,_0xda82a9,_0x49e6c9,_0x445081,_0x555e11;super(),h(this,'canvas'),h(this,'backBuffer',null),h(this,'backBuffer'+'Size',new J()),h(this,'backBuffer'+'Format'),h(this,'backBuffer'+'Antialias',!(-0x236a+-0x1dce*0x1+0x11b*0x3b)),h(this,'isWebGPU',!(0x327*-0x4+-0xd*0x26d+0x1613*0x2)),h(this,'isWebGL2',!(-0xe*-0x25d+0xe2*0x25+-0x41bf)),h(this,'isHdr',!(-0x39a*-0x9+0x1020+-0x9b5*0x5)),h(this,'scope'),h(this,'maxIndirec'+'tDrawCount',-0xe5b+-0x6b5*0x1+0x1910),h(this,'maxAnisotr'+'opy'),h(this,'maxCubeMap'+'Size'),h(this,'maxTexture'+'Size'),h(this,'maxVolumeS'+'ize'),h(this,'maxColorAt'+'tachments',-0x2215+-0xe0b*0x1+-0x14d*-0x25),h(this,'precision'),h(this,'samples'),h(this,'maxSamples',0x1*-0x1e0d+-0xddf+-0xd*-0x361),h(this,'supportsSt'+'encil'),h(this,'supportsCo'+'mpute',!(-0x73*-0x43+-0x47*-0x14+-0x23a4)),h(this,'supportsSt'+'orageTextu'+'reRead',!(0x1286+-0x2b0+-0xfd5)),h(this,'renderTarg'+'et',null),h(this,'shaders',[]),h(this,'textures',[]),h(this,'targets',new Set()),h(this,'renderVers'+'ion',-0x8ce+-0x1d43+0x5*0x79d),h(this,'renderPass'+'Index'),h(this,'insideRend'+'erPass',!(-0x141c+-0xb*0xda+0x1d7b)),h(this,'supportsUn'+'iformBuffe'+'rs',!(0x262b*-0x1+0x200d+0x61f)),h(this,'supportsCl'+'ipDistance'+'s',!(-0x73d*-0x5+-0x8*0x4ca+0x220)),h(this,'textureFlo'+'atRenderab'+'le'),h(this,'textureHal'+'fFloatRend'+'erable'),h(this,'textureRG1'+'1B10Render'+'able',!(-0x3*0x155+-0x7*0xdf+0xa19)),h(this,'textureFlo'+'atFilterab'+'le',!(-0x1*-0x23d5+-0x11e0+0x11f4*-0x1)),h(this,'quadVertex'+'Buffer'),h(this,'blendState',new pt()),h(this,'depthState',new Yt()),h(this,'stencilEna'+'bled',!(0xc*-0x1b3+-0x1213+0x2678)),h(this,'stencilFro'+'nt',new pi()),h(this,'stencilBac'+'k',new pi()),h(this,'dynamicBuf'+'fers'),h(this,'gpuProfile'+'r'),h(this,'defaultCle'+'arOptions',{'color':[-0x500+-0xab*-0x1+0x455*0x1,-0x2f*-0x5+0x1*0x10c1+0x5e4*-0x3,0x1128+-0x1bc4*0x1+-0xa9c*-0x1,-0x5*-0x617+-0x83*-0x26+-0x31e4],'depth':0x1,'stencil':0x0,'flags':jo|Yo}),h(this,'clientRect',{'width':0x0,'height':0x0}),h(this,'_shadersDi'+'rty',!(0xba4+-0x182c+-0xc89*-0x1)),h(this,'capsDefine'+'s',new Map()),h(this,'mapsToClea'+'r',new Set()),(this['canvas']=_0x8a5455,'setAttribu'+'te'in _0x8a5455&&_0x8a5455['setAttribu'+'te']('data-engin'+'e','PlayCanvas'+'\x20'+hn),this['initOption'+'s']={..._0x7bd7db},(_0x5bf557=this['initOption'+'s'])['alpha']??(_0x5bf557['alpha']=!(-0x77*-0x5+0xc6a+0x4d*-0x31)),(_0x3c6a60=this['initOption'+'s'])['depth']??(_0x3c6a60['depth']=!(-0xc9c+0x51a+0x1f*0x3e)),(_0xda82a9=this['initOption'+'s'])['stencil']??(_0xda82a9['stencil']=!(0x1141*-0x2+-0x1c*0xd1+0x395e)),(_0x49e6c9=this['initOption'+'s'])['antialias']??(_0x49e6c9['antialias']=!(0x815+-0x7*-0x107+-0xf46)),(_0x445081=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x445081['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x555e11=this['initOption'+'s'])['displayFor'+'mat']??(_0x555e11['displayFor'+'mat']=oT),this['_maxPixelR'+'atio']=Ae['browser']?Math['min'](-0x99f*0x3+0x1*-0x1c2b+0x3909,window['devicePixe'+'lRatio']):-0x150+0xd28+-0x7*0x1b1,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=-0x1b82+0xf*0x13+-0x1d*-0xe9,this['_shaderSwi'+'tchesPerFr'+'ame']=0xa27+-0x59e*0x1+-0x489,this['_primsPerF'+'rame']=[]);for(let _0x3227a3=cd;_0x3227a3<=oa;_0x3227a3++)this['_primsPerF'+'rame'][_0x3227a3]=0x379*-0x7+0x6*-0x38b+0x2d91;this['_renderTar'+'getCreatio'+'nTime']=0xde5+-0xdb*-0xe+-0xb3*0x25,this['scope']=new ET('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](-0x1*-0x1c14+-0x132+0x1*-0x1ae2);}['postInit'](){const _0x138389=new kt(this,[{'semantic':Me,'components':0x2,'type':Ve}]),_0x456186=new Float32Array([-(-0x180d+0x2ed*0x1+0x1521),-(-0x3a8+0x1*-0x1fbb+0x2364*0x1),-0x1009*-0x1+-0x2d9+0x1b*-0x7d,-(0xb07*0x1+-0xd55+0x24f),-(-0x1b45+0x2*-0x11b6+0x3eb2),0x494*0x2+-0x3*-0xc6c+0x33*-0xe9,-0x1*0x59d+0x222f+-0x1c91,-0x355*0xa+-0x1ea2+0x3ff5]);this['quadVertex'+'Buffer']=new Is(this,_0x138389,0x3e0+-0xc18+0x83c,{'data':_0x456186});}['initCapsDe'+'fines'](){const {capsDefines:_0x24186a}=this;_0x24186a['clear'](),this['textureFlo'+'atFilterab'+'le']&&_0x24186a['set']('CAPS_TEXTU'+'RE_FLOAT_F'+'ILTERABLE',''),this['textureFlo'+'atRenderab'+'le']&&_0x24186a['set']('CAPS_TEXTU'+'RE_FLOAT_R'+'ENDERABLE','');}['destroy'](){var _0x5a4373,_0x457a96,_0x23df34;this['fire']('destroy'),(_0x5a4373=this['quadVertex'+'Buffer'])==null||_0x5a4373['destroy'](),this['quadVertex'+'Buffer']=null,(_0x457a96=this['dynamicBuf'+'fers'])==null||_0x457a96['destroy'](),this['dynamicBuf'+'fers']=null,(_0x23df34=this['gpuProfile'+'r'])==null||_0x23df34['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x51002e){this['fire']('destroy:sh'+'ader',_0x51002e);const _0xd3169a=this['shaders']['indexOf'](_0x51002e);_0xd3169a!==-(-0x3*0xae1+-0xa*0x15e+-0x1ee*-0x18)&&this['shaders']['splice'](_0xd3169a,0xc6d+0x19*0x161+0x7*-0x6b3);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x29e9e8;this['contextLos'+'t']=!(0x3c4*0x3+0x1*-0x7bb+-0x391),this['backBuffer'+'Size']['set'](-(-0x8d0*-0x1+-0xbc+0x813*-0x1),-(-0x29d*0x8+0x5db*0x1+0x2*0x787));for(const _0x2b0cee of this['textures'])_0x2b0cee['loseContex'+'t']();for(const _0x28f93a of this['buffers'])_0x28f93a['loseContex'+'t']();for(const _0x31dda2 of this['targets'])_0x31dda2['loseContex'+'t']();(_0x29e9e8=this['gpuProfile'+'r'])==null||_0x29e9e8['loseContex'+'t']();}['restoreCon'+'text'](){var _0x22d146,_0x5c0991;this['contextLos'+'t']=!(0x22f7*0x1+-0xf18+0x9ef*-0x2),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x2ffc9a of this['buffers'])_0x2ffc9a['unlock']();(_0x5c0991=(_0x22d146=this['gpuProfile'+'r'])==null?void(0x493+0x209*-0x3+0xe*0x1c):_0x22d146['restoreCon'+'text'])==null||_0x5c0991['call'](_0x22d146);}['toJSON'](_0x171eda){}['initialize'+'ContextCac'+'hes'](){this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(-0xd77+-0x62*0x49+-0x2969*-0x1),this['shaderAsyn'+'cCompile']=!(-0x1*-0x1069+-0x1b3a+-0x2*-0x569),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new pt(),this['depthState']=new Yt(),this['cullMode']=pa,this['vx']=this['vy']=this['vw']=this['vh']=-0xba5+0xdd*-0x5+0xff6,this['sx']=this['sy']=this['sw']=this['sh']=-0x20eb+0xd*-0x28d+-0x210a*-0x2,this['blendColor']=new ie(0x1e45+-0x1*-0x1b1a+0x1*-0x395f,-0x133+-0x1*-0x247f+-0x234c,0xbdc+-0x244b+0x186f,-0x29d*-0x5+0x1*0x1867+-0x2578);}['setStencil'+'State'](_0x211e72,_0x5873a3){w['assert'](!(0x1af1+0xb8*-0x13+-0x5*0x2a8));}['setBlendSt'+'ate'](_0x398dc0){w['assert'](!(-0x1c5a+0x33e*-0xb+0x4005*0x1));}['setBlendCo'+'lor'](_0x1ea975,_0x40b6b9,_0x209755,_0x2e3cf7){w['assert'](!(0x147f+-0x80b+-0xc73*0x1));}['setDepthSt'+'ate'](_0x457985){w['assert'](!(-0x1d8b*-0x1+0x12b0+-0x303a));}['setCullMod'+'e'](_0x106f5e){w['assert'](!(0x18c4+-0x121b+-0x6a8));}['setRenderT'+'arget'](_0x2eee6d){this['renderTarg'+'et']=_0x2eee6d;}['setVertexB'+'uffer'](_0x481c34){_0x481c34&&this['vertexBuff'+'ers']['push'](_0x481c34);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=0x1073+-0x101d+-0x56*0x1;}['getIndirec'+'tDrawSlot'](){return-0xc6b+0x1307+-0x9*0xbc;}get['indirectDr'+'awBuffer'](){return null;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x3b62b0){if(_0x3b62b0['initialize'+'d'])return;const _0x59d53c=de();this['fire']('fbo:create',{'timestamp':_0x59d53c,'target':this}),_0x3b62b0['init'](),this['targets']['add'](_0x3b62b0),this['_renderTar'+'getCreatio'+'nTime']+=de()-_0x59d53c;}['draw'](_0x368792,_0x285e97,_0x1a0ba7,_0x566f76,_0x48d850=!(-0xae8+0x1c+0xacc),_0x295618=!(0x13*-0xf3+-0x1*-0x6+0x1203)){w['assert'](!(-0x138+0x2382+0x2249*-0x1));}['_isBrowser'+'Interface'](_0x56df7b){return this['_isImageBr'+'owserInter'+'face'](_0x56df7b)||this['_isImageCa'+'nvasInterf'+'ace'](_0x56df7b)||this['_isImageVi'+'deoInterfa'+'ce'](_0x56df7b);}['_isImageBr'+'owserInter'+'face'](_0x33162e){return typeof ImageBitmap<'u'&&_0x33162e instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x33162e instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x59c53f){return typeof HTMLCanvasElement<'u'&&_0x59c53f instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x4304db){return typeof HTMLVideoElement<'u'&&_0x4304db instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x1cf02f,_0x3c7dbc){const _0x1907b3=Math['min'](this['_maxPixelR'+'atio'],Ae['browser']?window['devicePixe'+'lRatio']:0x2372*0x1+-0x70f+0x4bb*-0x6),_0x5d1228=Math['floor'](_0x1cf02f*_0x1907b3),_0x16a5dd=Math['floor'](_0x3c7dbc*_0x1907b3);(_0x5d1228!==this['canvas']['width']||_0x16a5dd!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x5d1228,_0x16a5dd);}['setResolut'+'ion'](_0x568159,_0xbd3d93){this['canvas']['width']=_0x568159,this['canvas']['height']=_0xbd3d93,this['fire'](Vh['EVENT_RESI'+'ZE'],_0x568159,_0xbd3d93);}['update'](){this['updateClie'+'ntRect']();}['updateClie'+'ntRect'](){if(Ae['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x9a77d2=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x9a77d2['width'],this['clientRect']['height']=_0x9a77d2['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x300c33){w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0x1795+-0x76*-0x1+-0xb5*0x22);}set['maxPixelRa'+'tio'](_0x19d682){this['_maxPixelR'+'atio']=_0x19d682;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x7cc3f6){}['endRenderP'+'ass'](_0x1c4d41){}['startCompu'+'tePass'](_0x5d4608){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=-0x1289+-0x3*-0xb82+-0xffd,this['renderVers'+'ion']++,w['call'](()=>{if(mi['get'](Z0)){const _0x59a247=this['textures']['slice']();_0x59a247['sort']((_0x26d3b3,_0x54a4e6)=>_0x54a4e6['gpuSize']-_0x26d3b3['gpuSize']),w['log']('Textures:\x20'+_0x59a247['length']);let _0x1f4c2b=0x192d+0x41b*-0x3+-0xcdc*0x1;_0x59a247['forEach']((_0x332935,_0x55592a)=>{const _0x32d346=_0x332935['gpuSize'];_0x1f4c2b+=_0x32d346,w['log'](_0x55592a+'.\x20'+_0x332935['name']+'\x20'+_0x332935['width']+'x'+_0x332935['height']+'\x20VRAM:\x20'+(_0x32d346/(0x6ce+0x1f74+-0x2*0x1121)/(0xdda+0x1e69+-0x2843))['toFixed'](0xc14+-0x209c+0x1*0x148a)+'\x20MB');}),w['log']('Total:\x20'+(_0x1f4c2b/(0x4f*0x55+0x10c*0x2+-0xd*0x1df)/(0x1*0x37f+0x13c8+-0x1347))['toFixed'](-0x1dd8+0x1*-0x1f8b+0x3d65)+'MB');}});}['frameEnd'](){this['mapsToClea'+'r']['forEach'](_0x5eacdf=>_0x5eacdf['clear']()),this['mapsToClea'+'r']['clear']();}['computeDis'+'patch'](_0x5a74c8,_0x190c8d='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0xcdae9=[In,nt,Xt],_0x37f1b2=!(0x60*0x45+0x307+-0x1ce7),_0x48ba28=-0x598*-0x2+0x70a+-0xf*0x137){for(let _0x30266a=0x29*-0x47+0x229f+0x1f*-0xc0;_0x30266a<_0xcdae9['length'];_0x30266a++){const _0x5f531e=_0xcdae9[_0x30266a];switch(_0x5f531e){case In:{if(this['textureRG1'+'1B10Render'+'able'])return _0x5f531e;break;}case nt:if(this['textureHal'+'fFloatRend'+'erable'])return _0x5f531e;break;case Xt:if(this['isWebGPU']&&_0x48ba28>0x1531+-0x195c+0x1*0x42c)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x37f1b2||this['textureFlo'+'atFilterab'+'le']))return _0x5f531e;break;}}}['validateAt'+'tributes'](_0xc17b87,_0x3c9d86,_0x57b5ef){w['call'](()=>{ql['clear'](),_0x3c9d86==null||_0x3c9d86['elements']['forEach'](_0x1c9c68=>ql['add'](Le[_0x1c9c68['name']])),_0x57b5ef==null||_0x57b5ef['elements']['forEach'](_0x317f09=>ql['add'](Le[_0x317f09['name']]));for(const [_0xd49b4a,_0x2ab940]of _0xc17b87['attributes'])ql['has'](_0xd49b4a)||w['errorOnce']('Vertex\x20att'+'ribute\x20['+_0x2ab940+(']\x20at\x20locat'+'ion\x20')+_0xd49b4a+('\x20required\x20'+'by\x20the\x20sha'+'der\x20is\x20not'+'\x20present\x20i'+'n\x20the\x20curr'+'ently\x20assi'+'gned\x20verte'+'x\x20buffers,'+'\x20while\x20ren'+'dering\x20[')+Q['toString']()+']',{'shader':_0xc17b87,'vb0Format':_0x3c9d86,'vb1Format':_0x57b5ef});});}};h(Vh,'EVENT_RESI'+'ZE','resizecanv'+'as');let $e=Vh,DT=0x10f3*0x1+0x119e+-0x1*0x2291;class gt{constructor(_0x4c7151={}){h(this,'name'),h(this,'_device'),h(this,'_colorBuff'+'er'),h(this,'_colorBuff'+'ers'),h(this,'_depthBuff'+'er'),h(this,'_depth'),h(this,'_stencil'),h(this,'_samples'),h(this,'autoResolv'+'e'),h(this,'_face'),h(this,'_mipLevel'),h(this,'_mipmaps'),h(this,'flipY');var _0x3a61f1,_0x3170c1,_0x438333,_0x4c80ed,_0x4dca68,_0x95a15a;w['assert'](!(_0x4c7151 instanceof $e),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=DT++;const _0x49b8e8=((_0x3a61f1=_0x4c7151['colorBuffe'+'r'])==null?void(0x1*0x46d+-0x1a97+0x162a):_0x3a61f1['device'])??((_0x3170c1=_0x4c7151['colorBuffe'+'rs'])==null?void(-0x1dc3+0x1fd*-0x10+0x3d93):_0x3170c1[-0x2*0xf2b+0x296*-0x1+-0x7*-0x4b4]['device'])??((_0x438333=_0x4c7151['depthBuffe'+'r'])==null?void(0x1f77+0x2569+-0x44e0):_0x438333['device'])??_0x4c7151['graphicsDe'+'vice'];w['assert'](_0x49b8e8,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x49b8e8;const {maxSamples:_0x2bef70}=this['_device'];if(this['_samples']=Math['min'](_0x4c7151['samples']??-0x21db+-0x8b6+0x2a92,_0x2bef70),_0x49b8e8['isWebGPU']&&(this['_samples']=this['_samples']>0x407+0x2659+-0x2a5f?_0x2bef70:-0x2205*0x1+0x373*0x2+0x3e*0x70),this['_colorBuff'+'er']=_0x4c7151['colorBuffe'+'r'],_0x4c7151['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x4c7151['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x4c7151['depthBuffe'+'r'],this['_face']=_0x4c7151['face']??0x454+-0x1568+0x1114,this['_depthBuff'+'er']){const _0x1f2c2d=this['_depthBuff'+'er']['_format'];_0x1f2c2d===$i||_0x1f2c2d===vn?(this['_depth']=!(-0x331*0x3+-0xca2+0x1635),this['_stencil']=!(0x4*-0x886+0xd3*0x1a+0xcab)):_0x1f2c2d===sd?(this['_depth']=!(-0x16f6*0x1+-0x2435*-0x1+-0xd3f),this['_stencil']=!(0x1729+-0x1931+-0x34*-0xa)):_0x1f2c2d===Ji&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>-0x4dd*0x2+-0x1feb+0x3*0xde2?(this['_depth']=!(-0x4d7*0x2+-0x5*0x1ad+0x120f),this['_stencil']=!(-0x56*0x3b+0x1f*0x11b+-0xe72)):(w['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(0x3*0xc9e+-0x453+-0x2186),this['_stencil']=!(0x7*-0x29f+-0xc4b+0x1ea5));}else this['_depth']=_0x4c7151['depth']??!(0x2e7*-0x5+-0x1*0xbf1+0x2*0xd3a),this['_stencil']=_0x4c7151['stencil']??!(0x108c+0x205f+0x30ea*-0x1);_0x4c7151['colorBuffe'+'rs']&&(w['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x4c7151['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x4c7151['colorBuffe'+'rs'][-0xa3*-0x33+0x2*0x1327+-0x46c7])),this['autoResolv'+'e']=_0x4c7151['autoResolv'+'e']??!(-0x1*0xcdd+-0x2420+-0x30fd*-0x1),this['name']=_0x4c7151['name'],this['name']||(this['name']=(_0x4c80ed=this['_colorBuff'+'er'])==null?void(0x1*-0x23df+-0x1a10+-0x3*-0x14a5):_0x4c80ed['name']),this['name']||(this['name']=(_0x4dca68=this['_depthBuff'+'er'])==null?void(-0xda*-0x17+0x147*0x12+0x884*-0x5):_0x4dca68['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x4c7151['flipY']??!(0x3*-0xa31+0xdcf*0x2+0x2f6),this['_mipLevel']=_0x4c7151['mipLevel']??0x867+-0x2*0x550+0x239,this['_mipLevel']>-0x4*0x96d+-0x2a6+0x285a&&this['_depth']&&(w['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x4c7151}),this['_mipLevel']=-0xc32+-0x3*0x3e7+0x17e7),this['_mipmaps']=_0x4c7151['mipLevel']===void(-0x1160+0x1879+0x4f*-0x17),this['validateMr'+'t'](),this['impl']=_0x49b8e8['createRend'+'erTargetIm'+'pl'](this),w['trace'](Mm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x95a15a=this['_colorBuff'+'ers'])!=null&&_0x95a15a['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){w['trace'](Mm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x127656=this['_device'];_0x127656&&(_0x127656['targets']['delete'](this),_0x127656['renderTarg'+'et']===this&&_0x127656['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x3e40b4=this['_device'];_0x3e40b4&&this['impl']['destroy'](_0x3e40b4);}['destroyTex'+'tureBuffer'+'s'](){var _0x474023,_0x57474a;(_0x474023=this['_depthBuff'+'er'])==null||_0x474023['destroy'](),this['_depthBuff'+'er']=null,(_0x57474a=this['_colorBuff'+'ers'])==null||_0x57474a['forEach'](_0x2bbe3d=>{_0x2bbe3d['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x327737,_0x5279cf){var _0x490930,_0x1dace1;if(this['width']!==_0x327737||this['height']!==_0x5279cf){if(this['mipLevel']>0x1726+-0x1828+0x102){w['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x909edc=this['_device'];this['destroyFra'+'meBuffers'](),_0x909edc['renderTarg'+'et']===this&&_0x909edc['setRenderT'+'arget'](null),(_0x490930=this['_depthBuff'+'er'])==null||_0x490930['resize'](_0x327737,_0x5279cf),(_0x1dace1=this['_colorBuff'+'ers'])==null||_0x1dace1['forEach'](_0x1b2a17=>{_0x1b2a17['resize'](_0x327737,_0x5279cf);}),this['validateMr'+'t'](),this['impl']=_0x909edc['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){w['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x27716e,height:_0x50989c,cubemap:_0x1d0655,volume:_0x3917df}=this['_colorBuff'+'ers'][0x45*0x2+-0x1*0x70f+-0x1*-0x685];for(let _0x289703=0x2164+-0x575+-0x1bee;_0x289703<this['_colorBuff'+'ers']['length'];_0x289703++){const _0x301a9e=this['_colorBuff'+'ers'][_0x289703];w['assert'](_0x301a9e['width']===_0x27716e,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),w['assert'](_0x301a9e['height']===_0x50989c,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),w['assert'](_0x301a9e['cubemap']===_0x1d0655,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),w['assert'](_0x301a9e['volume']===_0x3917df,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x40d1e5=!(0x37e*0xa+-0xce4+-0x1608),_0xaef545=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>-0x455+0x5d7*-0x4+0x1bb2&&(Q['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x40d1e5?'[color]':'')+':'+(_0xaef545?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x40d1e5,_0xaef545),Q['popGpuMark'+'er'](this['_device']));}['copy'](_0x466d6a,_0x5578a4,_0x4f9172){if(!this['_device']){if(_0x466d6a['_device'])this['_device']=_0x466d6a['_device'];else return w['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(-0x16d7*0x1+-0x56*0x6d+0x3b76);}Q['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x466d6a['name']+'->'+this['name']);const _0x50b1df=this['_device']['copyRender'+'Target'](_0x466d6a,this,_0x5578a4,_0x4f9172);return Q['popGpuMark'+'er'](this['_device']),_0x50b1df;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x19e97b){var _0x2dfc6a;return(_0x2dfc6a=this['_colorBuff'+'ers'])==null?void(-0x2b*0x2d+0x25*0x29+-0x13*-0x16):_0x2dfc6a[_0x19e97b];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x3a929e,_0x3ef9d0;let _0x5e823b=((_0x3a929e=this['_colorBuff'+'er'])==null?void(0x2*-0x1120+0xf61+0x12df):_0x3a929e['width'])||((_0x3ef9d0=this['_depthBuff'+'er'])==null?void(-0x644*0x6+-0x14f6*-0x1+0x10a2):_0x3ef9d0['width'])||this['_device']['width'];return this['_mipLevel']>-0x659*-0x2+-0xaa*0x23+-0x12*-0x96&&(_0x5e823b=Xi['calcLevelD'+'imension'](_0x5e823b,this['_mipLevel'])),_0x5e823b;}get['height'](){var _0x7e6777,_0x46648b;let _0x389481=((_0x7e6777=this['_colorBuff'+'er'])==null?void(0x9*-0x30f+-0x241a+0x3fa1):_0x7e6777['height'])||((_0x46648b=this['_depthBuff'+'er'])==null?void(0x41*-0x6a+0x7*-0x89+0x1ea9):_0x46648b['height'])||this['_device']['height'];return this['_mipLevel']>0x1*0x244a+-0x1*0x1d2+-0x2278&&(_0x389481=Xi['calcLevelD'+'imension'](_0x389481,this['_mipLevel'])),_0x389481;}['isColorBuf'+'ferSrgb'](_0x1765ae=0xff2*0x1+0x1af8+-0x2aea){if(this['device']['backBuffer']===this)return fh(this['device']['backBuffer'+'Format']);const _0x2990d0=this['getColorBu'+'ffer'](_0x1765ae);return _0x2990d0?fh(_0x2990d0['format']):!(-0x12*0x159+0x1*-0x39e+0x1be1);}}const IT={'equals'(_0x25589a,_0xa606ab){if(_0x25589a['length']!==_0xa606ab['length'])return!(-0x1a06*0x1+-0x108+-0x3*-0x905);for(let _0xae2585=0x412+-0x23a2*0x1+0xa*0x328;_0xae2585<_0x25589a['length'];_0xae2585++)if(_0x25589a[_0xae2585]!==_0xa606ab[_0xae2585])return!(0x2579+0x3*-0xb7b+-0x307*0x1);return!(-0x10c5+0x1*0x15c7+-0x502);}};class wd{constructor(){h(this,'_refCount',-0x17b1+0x1bd8+-0x427);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class LT extends wd{constructor(_0x395450){super(),h(this,'object'),(this['object']=_0x395450,this['incRefCoun'+'t']());}}class RT{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x9d6747=>{var _0x386966;(_0x386966=_0x9d6747['object'])==null||_0x386966['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x1e519e){const _0x5ba06=this['cache']['get'](_0x1e519e);return _0x5ba06?(_0x5ba06['incRefCoun'+'t'](),_0x5ba06['object']):null;}['set'](_0x47fb44,_0x52368f){w['assert'](!this['cache']['has'](_0x47fb44),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x47fb44,'object':_0x52368f}),this['cache']['set'](_0x47fb44,new LT(_0x52368f));}['release'](_0x43798d){var _0x14a8d7;const _0x40a8d0=this['cache']['get'](_0x43798d);_0x40a8d0?(_0x40a8d0['decRefCoun'+'t'](),_0x40a8d0['refCount']===-0xa74+-0x15c2+0x2036&&(this['cache']['delete'](_0x43798d),(_0x14a8d7=_0x40a8d0['object'])==null||_0x14a8d7['destroy']())):w['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x43798d});}}class OT extends RT{['loseContex'+'t'](_0x241121){this['clear']();}}const FT=new Kt(),Fd=_0x32cd8f=>FT['get'](_0x32cd8f,()=>new OT()),At=[];At[Xs]=-0xea+-0x1638+0x1723*0x1,At[ga]=-0x1f81+0x9c1+0x15c2,At[ds]=-0x1*0x1021+-0x423*0x3+0x1*0x1c8d,At[Rn]=-0x2*0x1058+-0x1ca9+0x3d5d,At[_a]=-0x1957*-0x1+0x2*-0xfe9+0x67c,At[ca]=-0x3de+0xdea+-0xa0a,At[ha]=-0x1314+0x482*0x1+0xe95,At[da]=-0xab0+0x2*-0x46f+0x1392,At[Tn]=-0x7c6+0x7*0x1ab+-0x3e6,At[tl]=0x3e*-0x2b+-0x1*0x377+0xde3,At[sl]=-0x1*0x1162+0x7*0x3c1+0x471*-0x2,At[il]=0xd*-0x11d+-0xe*0x1a5+0x63*0x61,At[_h]=0x1*-0x1448+0xd8d+0x6c3,At[On]=0x3fb*-0x7+0x24ef+-0x906,At[li]=0x1bc*-0x1+0x1abb+0x1eb*-0xd,At[Fn]=0x18f0+-0x21*0x6b+-0xb24,At[Nn]=-0x1bc1+0x8a3+-0x990*-0x2,At[kn]=0x7*0xef+-0x19ae*0x1+-0x265*-0x8,At[Un]=-0x1f*0xfc+-0xff4+-0x1c*-0x1a9;class dt{constructor(_0x196fc6,_0x1077ad,_0x48a5ce=-0x454*0x9+-0xa6*0x7+-0x15bf*-0x2){h(this,'name'),h(this,'type'),h(this,'byteSize'),h(this,'offset'),h(this,'scopeId'),h(this,'count'),h(this,'numCompone'+'nts');if(this['shortName']=_0x196fc6,this['name']=_0x48a5ce?_0x196fc6+'[0]':_0x196fc6,this['type']=_0x1077ad,this['numCompone'+'nts']=At[_0x1077ad],w['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x1077ad+'\x20used\x20for\x20'+_0x196fc6),this['updateType']=_0x1077ad,_0x48a5ce>0x1324+-0x246c+0x1148)switch(_0x1077ad){case Xs:this['updateType']=ud;break;case _a:this['updateType']=Bn;break;case Fn:this['updateType']=_d;break;case Tn:this['updateType']=gd;break;case ga:this['updateType']=pd;break;case ca:this['updateType']=zn;break;case Nn:this['updateType']=Sd;break;case tl:this['updateType']=yd;break;case ds:this['updateType']=md;break;case ha:this['updateType']=Vn;break;case kn:this['updateType']=vd;break;case sl:this['updateType']=xd;break;case Rn:this['updateType']=Lp;break;case da:this['updateType']=gh;break;case Un:this['updateType']=Rp;break;case il:this['updateType']=Op;break;case li:this['updateType']=wy;break;default:w['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+Ey[_0x1077ad]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x196fc6+'\x27.'),w['call'](()=>{this['invalid']=!(-0xd4+0x17*0x187+0x3*-0xb6f);});break;}this['count']=_0x48a5ce,w['assert'](!isNaN(_0x48a5ce),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x196fc6+'['+_0x48a5ce+']'),w['call'](()=>{isNaN(_0x48a5ce)&&(this['invalid']=!(0x1fa1+-0xde*-0x9+-0x1*0x276f));});let _0x194087=this['numCompone'+'nts'];_0x48a5ce&&(_0x194087=Y['roundUp'](_0x194087,0x1995+-0x1e0a+-0x479*-0x1)),this['byteSize']=_0x194087*(-0x149*0x13+-0xabc+0x232b),_0x48a5ce&&(this['byteSize']*=_0x48a5ce),w['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x1077ad+'\x20used\x20for\x20'+_0x196fc6);}get['isArrayTyp'+'e'](){return this['count']>-0x1*0x19d9+0x169*0x12+0x1*0x77;}['calculateO'+'ffset'](_0x5b17c3){let _0x583e93=this['byteSize']<=0x12fb*0x2+-0x178b+-0xe63?this['byteSize']:-0x1056+0x1*0xbf+0xfa7;this['count']&&(_0x583e93=0x1ee6+-0x1*0x1808+-0xd*0x86),_0x5b17c3=Y['roundUp'](_0x5b17c3,_0x583e93),this['offset']=_0x5b17c3/(0x23fd*-0x1+-0x10a*0x14+-0x38c9*-0x1);}}class zy{constructor(_0x21dc4d,_0x366553){h(this,'byteSize',-0x839+0x223f+-0x1a06),h(this,'map',new Map()),(this['scope']=_0x21dc4d['scope'],this['uniforms']=_0x366553);let _0xe55335=0x353+0x605+-0x1a*0x5c;for(let _0x11bbfb=0x2*-0xd5e+0x326+0x1796;_0x11bbfb<_0x366553['length'];_0x11bbfb++){const _0x428870=_0x366553[_0x11bbfb];_0x428870['calculateO'+'ffset'](_0xe55335),_0xe55335=_0x428870['offset']*(-0x1fce+0x2665+-0x693*0x1)+_0x428870['byteSize'],_0x428870['scopeId']=this['scope']['resolve'](_0x428870['name']),this['map']['set'](_0x428870['name'],_0x428870);}this['byteSize']=Y['roundUp'](_0xe55335,0x18ba+0x2064+0xda*-0x43);}['get'](_0x51c1c0){return this['map']['get'](_0x51c1c0);}}const Lr='Preprocess'+'or',Fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,Nd=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,i_=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,kd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,Ud=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,Bd=/(endif|else|elif)(?:[ \t]+([^\r\n]*))?\r?\n?/g,r_=/\{?[\w-]+\}?/,NT=/(!|\s)?defined\(([\w-]+)\)/,kT=/!?defined\s*\([^)]*\)/g,UT=/!?defined\s*$/,BT=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,zT=/[+\-]/g,zd=/include[ \t]+"([\w-]+)(?:\s*,\s*([\w-]+))?"/g,VT=/\{i\}/g,a_=/(pcFragColor[1-8])\b/g,Lt=class Lt{static['run'](_0x132650,_0x250ecb=new Map(),_0xb5a277={}){Lt['sourceName']=_0xb5a277['sourceName'],_0x132650=this['stripComme'+'nts'](_0x132650),_0x132650=_0x132650['split'](/\r?\n/)['map'](_0x4e61e1=>_0x4e61e1['trimEnd']())['join']('\x0a');const _0x4990fc=new Map(),_0x3e1fa1=new Map();if(_0x132650=this['_preproces'+'s'](_0x132650,_0x4990fc,_0x3e1fa1,_0x250ecb,_0xb5a277['stripDefin'+'es']),_0x132650===null)return null;const _0x510df7=new Map();return _0x4990fc['forEach']((_0x48a481,_0x3fcad0)=>{Number['isInteger'](parseFloat(_0x48a481))&&!_0x48a481['includes']('.')&&_0x510df7['set'](_0x3fcad0,_0x48a481);}),_0x132650=this['stripComme'+'nts'](_0x132650),_0x132650=this['stripUnuse'+'dColorAtta'+'chments'](_0x132650,_0xb5a277),_0x132650=this['RemoveEmpt'+'yLines'](_0x132650),_0x132650=this['processArr'+'aySize'](_0x132650,_0x510df7),_0x132650=this['injectDefi'+'nes'](_0x132650,_0x3e1fa1),_0x132650;}static['stripUnuse'+'dColorAtta'+'chments'](_0x47c00a,_0xb069a9){if(_0xb069a9['stripUnuse'+'dColorAtta'+'chments']){const _0x5154ea=new Map(),_0x107921=_0x47c00a['match'](a_);if(_0x107921==null||_0x107921['forEach'](_0xc720ea=>{const _0x1ccab4=parseInt(_0xc720ea['charAt'](_0xc720ea['length']-(0x1*-0xded+0x2*-0x7fc+0x1de6)),-0x95e+-0x755+0x10bd);_0x5154ea['set'](_0x1ccab4,(_0x5154ea['get'](_0x1ccab4)??-0x7e5+-0x17d1*0x1+0x3*0xa92)+(0x3*0x22c+-0x910+0x28d));}),Array['from'](_0x5154ea['values']())['some'](_0x435c4b=>_0x435c4b===-0x23b7+-0x169c*0x1+0x3a54)){const _0x490df5=_0x47c00a['split']('\x0a'),_0x2d45c9=[];for(let _0x439576=0x1*0x18a4+-0xdf8+-0xaac;_0x439576<_0x490df5['length'];_0x439576++){const _0x11a05f=_0x490df5[_0x439576]['match'](a_);if(_0x11a05f){const _0x5f4686=parseInt(_0x11a05f[0x1dc+0x387+0x7*-0xc5]['charAt'](_0x11a05f[0x81e+0xa9f*0x3+0x5*-0x7ff]['length']-(-0x904*-0x1+0x1cad+-0x25b0)),0x152b*0x1+-0x1aec+0x1*0x5cb);if(_0x5f4686>0x1*-0x5ff+0xd78+-0x779&&_0x5154ea['get'](_0x5f4686)===-0x2*-0x2f5+0x3e*0x12+-0xb*0xef)continue;}_0x2d45c9['push'](_0x490df5[_0x439576]);}_0x47c00a=_0x2d45c9['join']('\x0a');}}return _0x47c00a;}static['stripComme'+'nts'](_0xb72d17){return _0xb72d17['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x3421b6,_0x40e257){return _0x3421b6!==null&&_0x40e257['forEach']((_0xa925e6,_0x4b5d34)=>{_0x3421b6=_0x3421b6['replace'](new RegExp('\x5c['+_0x4b5d34+'\x5c]','g'),'['+_0xa925e6+']');}),_0x3421b6;}static['injectDefi'+'nes'](_0x22638c,_0x1d6817){if(_0x22638c!==null&&_0x1d6817['size']>0x5*-0x27c+-0x48+0x1*0xcb4){const _0x38a5c0=_0x22638c['split']('\x0a');_0x1d6817['forEach']((_0x27536f,_0x5c7952)=>{const _0x570192=new RegExp(_0x5c7952,'g');for(let _0x335768=-0x1*-0x3e3+0x17cc+-0x175*0x13;_0x335768<_0x38a5c0['length'];_0x335768++)_0x38a5c0[_0x335768]['includes']('#')||(_0x38a5c0[_0x335768]=_0x38a5c0[_0x335768]['replace'](_0x570192,_0x27536f));}),_0x22638c=_0x38a5c0['join']('\x0a');}return _0x22638c;}static['RemoveEmpt'+'yLines'](_0x525b88){return _0x525b88!==null&&(_0x525b88=_0x525b88['split'](/\r?\n/)['map'](_0x160081=>_0x160081['trim']()===''?'':_0x160081)['join']('\x0a'),_0x525b88=_0x525b88['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x525b88;}static['_preproces'+'s'](_0x199ef2,_0x3af7ef=new Map(),_0x5295b9,_0x12842d,_0x3e6fd2){var _0x148209;const _0x383bf5=_0x199ef2,_0x2e5560=[];let _0x3b4e7a=!(-0x14a1*-0x1+-0x204f+0xbaf),_0x533cb0;for(;(_0x533cb0=Fs['exec'](_0x199ef2))!==null&&!_0x3b4e7a;){const _0x47a483=_0x533cb0[0xe03+-0x96d+-0x495];switch(_0x47a483){case'define':{Nd['lastIndex']=_0x533cb0['index'];const _0x321b24=Nd['exec'](_0x199ef2);w['assert'](_0x321b24,'Invalid\x20['+_0x47a483+']:\x20'+_0x199ef2['substring'](_0x533cb0['index'],_0x533cb0['index']+(0x601+-0x941+-0x1*-0x3a4))+'...'),_0x3b4e7a||(_0x3b4e7a=_0x321b24===null);const _0x34d6f3=_0x321b24[-0x1494+-0x1998+0x1*0x2e2d];r_['lastIndex']=_0x321b24['index'];const _0x28a004=r_['exec'](_0x34d6f3)[0x1dfb+-0x137*-0xb+-0x2b58];let _0x5936d2=_0x34d6f3['substring'](_0x28a004['length'])['trim']();_0x5936d2===''&&(_0x5936d2='true');const _0x264d35=Lt['_keep'](_0x2e5560);let _0x1b78d1=_0x3e6fd2;if(_0x264d35){const _0x1f4945=_0x28a004['startsWith']('{')&&_0x28a004['endsWith']('}');_0x1f4945&&(_0x1b78d1=!(0x27b*0x2+-0xef*0x1+-0x407)),_0x1f4945?_0x5295b9['set'](_0x28a004,_0x5936d2):_0x3af7ef['set'](_0x28a004,_0x5936d2),_0x1b78d1&&(_0x199ef2=_0x199ef2['substring'](-0x1*0x1c9b+-0x11d0+0x33*0xe9,_0x321b24['index']-(0x2*-0xd8f+0x1ec9+-0x3aa))+_0x199ef2['substring'](Nd['lastIndex']),Fs['lastIndex']=_0x321b24['index']-(-0x1*0x1d23+0x1*0xeae+0xe76));}w['trace'](Lr,_0x47a483+':\x20['+_0x28a004+']\x20'+_0x5936d2+'\x20'+(_0x264d35?'':'IGNORED')),_0x1b78d1||(Fs['lastIndex']=_0x321b24['index']+_0x321b24[-0x1caf+0x3*0x26+0x1c3d]['length']);break;}case'undef':{kd['lastIndex']=_0x533cb0['index'];const _0x535f09=kd['exec'](_0x199ef2),_0x11d863=_0x535f09[-0x405+0xbbe+-0x7b8]['trim'](),_0x29f59d=Lt['_keep'](_0x2e5560);_0x29f59d&&(_0x3af7ef['delete'](_0x11d863),_0x3e6fd2&&(_0x199ef2=_0x199ef2['substring'](-0x17f9*-0x1+-0x1ed*0xb+-0x2a*0x11,_0x535f09['index']-(0x1*0x260e+0x1d74+0x623*-0xb))+_0x199ef2['substring'](kd['lastIndex']),Fs['lastIndex']=_0x535f09['index']-(-0x1aba+-0x1c18+-0x36d3*-0x1))),w['trace'](Lr,_0x47a483+':\x20['+_0x11d863+']\x20'+(_0x29f59d?'':'IGNORED')),_0x3e6fd2||(Fs['lastIndex']=_0x535f09['index']+_0x535f09[-0xd3*-0x4+0x1af9+-0x1e45]['length']);break;}case'extension':{i_['lastIndex']=_0x533cb0['index'];const _0x2a21bc=i_['exec'](_0x199ef2);if(w['assert'](_0x2a21bc,'Invalid\x20['+_0x47a483+']:\x20'+_0x199ef2['substring'](_0x533cb0['index'],_0x533cb0['index']+(-0x5*0x1b7+-0x1*0x20b9+-0x1d*-0x170))+'...'),_0x3b4e7a||(_0x3b4e7a=_0x2a21bc===null),_0x2a21bc){const _0x3ec4e9=_0x2a21bc[-0x83*-0x44+0x1*-0x10d5+-0x11f6],_0x4b35f8=Lt['_keep'](_0x2e5560);_0x4b35f8&&_0x3af7ef['set'](_0x3ec4e9,'true'),w['trace'](Lr,_0x47a483+':\x20['+_0x3ec4e9+']\x20'+(_0x4b35f8?'':'IGNORED'));}Fs['lastIndex']=_0x2a21bc['index']+_0x2a21bc[0x1*0x10c+0x1bfe+-0x1d0a]['length'];break;}case'ifdef':case'ifndef':case'if':{Ud['lastIndex']=_0x533cb0['index'];const _0xcd26e5=Ud['exec'](_0x199ef2),_0x25ce58=_0xcd26e5[0x5cf*0x1+-0x4*-0x5cb+-0x1cf9],_0xabbca7=Lt['evaluate'](_0x25ce58,_0x3af7ef);_0x3b4e7a||(_0x3b4e7a=_0xabbca7['error']);let _0x57a196=_0xabbca7['result'];_0x47a483==='ifndef'&&(_0x57a196=!_0x57a196),_0x2e5560['push']({'anyKeep':_0x57a196,'keep':_0x57a196,'start':_0x533cb0['index'],'end':Ud['lastIndex']}),w['trace'](Lr,_0x47a483+':\x20['+_0x25ce58+']\x20=>\x20'+_0x57a196),Fs['lastIndex']=_0xcd26e5['index']+_0xcd26e5[0x5*-0x43b+0x2353*0x1+0x1*-0xe2c]['length'];break;}case'endif':case'else':case'elif':{Bd['lastIndex']=_0x533cb0['index'];const _0x3a8c03=Bd['exec'](_0x199ef2),_0x356963=_0x2e5560['pop']();if(!_0x356963){console['error']('Shader\x20pre'+'processing'+'\x20encounter'+'ed\x20\x22#'+_0x3a8c03[0x23ea+-0x1*-0x1166+-0x354f]+('\x22\x20without\x20'+'a\x20precedin'+'g\x20#if\x20#ifd'+'ef\x20#ifndef'+'\x20while\x20pre'+'processing'+'\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x199ef2['substring'](_0x533cb0['index'],_0x533cb0['index']+(0x205f+-0x1452+-0xba9))+'...',{'source':_0x383bf5}),_0x3b4e7a=!(-0x1c91+-0x1aba+-0x374b*-0x1);continue;}const _0xb6fa04=_0x356963['keep']?_0x199ef2['substring'](_0x356963['end'],_0x533cb0['index']):'';w['trace'](Lr,_0x47a483+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0xb6fa04!=='')),_0x199ef2=_0x199ef2['substring'](-0x1e60+-0x1b4e+-0x1cd7*-0x2,_0x356963['start'])+_0xb6fa04+_0x199ef2['substring'](Bd['lastIndex']),Fs['lastIndex']=_0x356963['start']+_0xb6fa04['length'];const _0x44290c=_0x3a8c03[0x25e5*0x1+0x11c*-0x1a+-0xc1*0xc];if(_0x44290c==='else'||_0x44290c==='elif'){let _0x29fa97=!(0x1959+-0x2*-0x31d+-0x1f92);if(!_0x356963['anyKeep']){if(_0x44290c==='else')_0x29fa97=!_0x356963['keep'];else{const _0xe20f8e=Lt['evaluate'](_0x3a8c03[-0x1*0x20f2+-0x1840+0x3934],_0x3af7ef);_0x29fa97=_0xe20f8e['result'],_0x3b4e7a||(_0x3b4e7a=_0xe20f8e['error']);}}_0x2e5560['push']({'anyKeep':_0x356963['anyKeep']||_0x29fa97,'keep':_0x29fa97,'start':Fs['lastIndex'],'end':Fs['lastIndex']}),w['trace'](Lr,_0x47a483+':\x20['+_0x3a8c03[0x196f+-0x11a3+-0x7ca]+']\x20=>\x20'+_0x29fa97);}break;}case'include':{zd['lastIndex']=_0x533cb0['index'];const _0x25835a=zd['exec'](_0x199ef2);if(_0x3b4e7a||(_0x3b4e7a=_0x25835a===null),!_0x25835a){w['assert'](_0x25835a,'Invalid\x20['+_0x47a483+(']\x20while\x20pr'+'eprocessin'+'g\x20')+Lt['sourceName']+':\x0a'+_0x199ef2['substring'](_0x533cb0['index'],_0x533cb0['index']+(-0xde3+-0xf52+0x1d99))+'...'),_0x3b4e7a=!(0x17bb+-0x1d5d+0xce*0x7);continue;}const _0x836650=_0x25835a[0xd7+0x1*0x1ef1+-0x1fc7]['trim'](),_0x429053=(_0x148209=_0x25835a[-0x1bb*0xb+-0x84e+0x1b59])==null?void(0x2*-0xd41+0x1030+0xa52):_0x148209['trim'](),_0x223bdb=Lt['_keep'](_0x2e5560);if(_0x223bdb){let _0x7eb6c7=_0x12842d==null?void(-0x3*0x62b+0x1a30+-0x7af*0x1):_0x12842d['get'](_0x836650);if(_0x7eb6c7!==void(-0xeb1+-0xca7+0x1b58)){if(_0x7eb6c7=this['stripComme'+'nts'](_0x7eb6c7),_0x429053){const _0x5655b0=_0x3af7ef['get'](_0x429053),_0x45fb95=parseFloat(_0x5655b0);if(Number['isInteger'](_0x45fb95)){let _0x403f9b='';for(let _0x2d7429=-0x1c4c+0x463*-0x7+-0xf*-0x3ef;_0x2d7429<_0x45fb95;_0x2d7429++)_0x403f9b+=_0x7eb6c7['replace'](VT,String(_0x2d7429));_0x7eb6c7=_0x403f9b;}else console['error']('Include\x20Co'+'unt\x20identi'+'fier\x20\x22'+_0x429053+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x199ef2['substring'](_0x533cb0['index'],_0x533cb0['index']+(-0xdb0+-0x1b84+-0x16*-0x1e4))+'...',{'originalSource':_0x383bf5,'source':_0x199ef2}),_0x3b4e7a=!(0x4*-0x7a5+0x1315+0xb7f);}_0x199ef2=_0x199ef2['substring'](-0x69d+-0x34f*0x8+0x2115,_0x25835a['index']-(-0x1*0x14d5+-0xebb+0x71d*0x5))+_0x7eb6c7+_0x199ef2['substring'](zd['lastIndex']),Fs['lastIndex']=_0x25835a['index']-(0xb1+0x7*-0x2f0+-0x4*-0x4f8);}else{console['error']('Include\x20\x22'+_0x836650+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName'],{'originalSource':_0x383bf5,'source':_0x199ef2}),_0x3b4e7a=!(-0xb03+0x1488+-0x985);continue;}}w['trace'](Lr,_0x47a483+':\x20['+_0x836650+']\x20'+(_0x223bdb?'':'IGNORED'));break;}}}return _0x2e5560['length']>0x9*0xdb+-0x2038+0x1885&&(console['error']('Shader\x20pre'+'processing'+'\x20reached\x20t'+'he\x20end\x20of\x20'+'the\x20file\x20w'+'ithout\x20enc'+'ountering\x20'+'the\x20necess'+'ary\x20#endif'+'\x20to\x20close\x20'+'a\x20precedin'+'g\x20#if,\x20#if'+'def,\x20or\x20#i'+'fndef\x20bloc'+'k.\x20'+Lt['sourceName']),_0x3b4e7a=!(-0x2*0xc69+-0x3*0x1bb+0x1e03)),_0x3b4e7a?(console['error']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x383bf5}),null):_0x199ef2;}static['_keep'](_0x1f5e5d){for(let _0x3d09a9=-0xec6+-0x17b*0xd+0x3*0xb57;_0x3d09a9<_0x1f5e5d['length'];_0x3d09a9++)if(!_0x1f5e5d[_0x3d09a9]['keep'])return!(-0x2177+0x1*0xc2e+0x154a);return!(0x166+0x3*0x892+-0x2*0xd8e);}static['evaluateAt'+'omicExpres'+'sion'](_0xa1510e,_0x45d3ec){let _0x3c32ae=!(-0x258e+-0xaa1+0x3030);_0xa1510e=_0xa1510e['trim']();let _0x44600f=!(-0x237*-0x1+-0x1*0xa61+0x82b);if(_0xa1510e==='true')return{'result':!(-0x263a+0x20*0x2f+0x205a),'error':_0x3c32ae};if(_0xa1510e==='false')return{'result':!(0x1641+0x3a*0x19+-0x4a7*0x6),'error':_0x3c32ae};const _0x4ecf92=NT['exec'](_0xa1510e);if(_0x4ecf92){_0x44600f=_0x4ecf92[-0xe66+-0x254c+0xa57*0x5]==='!',_0xa1510e=_0x4ecf92[-0x1*-0x1571+0xa*-0x354+0x3f3*0x3]['trim']();const _0x5b98d5=_0x45d3ec['has'](_0xa1510e);return{'result':_0x44600f?!_0x5b98d5:_0x5b98d5,'error':_0x3c32ae};}const _0x430592=BT['exec'](_0xa1510e);if(_0x430592){const _0x523508=_0x45d3ec['get'](_0x430592[0x1734+-0x95f*0x1+0x6ea*-0x2]['trim']())??_0x430592[0x2266+-0x822+-0x1a43]['trim'](),_0x27a72c=_0x45d3ec['get'](_0x430592[0x1d5f+-0x23e5+0x689]['trim']())??_0x430592[0x193d+-0x2405*-0x1+0x1*-0x3d3f]['trim'](),_0x401bee=_0x430592[0x15*0x167+-0x3*-0x6d2+-0x31e7]['trim']();let _0x3e91d4=!(0x19d*-0x7+0x2595+-0x1a49);switch(_0x401bee){case'==':_0x3e91d4=_0x523508===_0x27a72c;break;case'!=':_0x3e91d4=_0x523508!==_0x27a72c;break;case'<':_0x3e91d4=_0x523508<_0x27a72c;break;case'<=':_0x3e91d4=_0x523508<=_0x27a72c;break;case'>':_0x3e91d4=_0x523508>_0x27a72c;break;case'>=':_0x3e91d4=_0x523508>=_0x27a72c;break;default:_0x3c32ae=!(-0x10b0+0x1989+0x8d9*-0x1);}return{'result':_0x3e91d4,'error':_0x3c32ae};}return{'result':_0x45d3ec['has'](_0xa1510e),'error':_0x3c32ae};}static['processPar'+'entheses'](_0x4dc916,_0x44e86f){let _0x272917=!(0x32*0xc2+0x2ab+-0x288e),_0x3b6285=_0x4dc916['trim']();for(;_0x3b6285['startsWith']('(')&&_0x3b6285['endsWith'](')');){let _0x5cb364=-0x1*-0x2a5+0x4e6+-0x78b,_0x352dd5=!(-0xb6c+-0x2*-0x222+0x2*0x394);for(let _0x192e5c=-0x195+-0x11db+0x1370;_0x192e5c<_0x3b6285['length']-(0x3d2+-0x2f7+-0x6d*0x2);_0x192e5c++)if(_0x3b6285[_0x192e5c]==='(')_0x5cb364++;else{if(_0x3b6285[_0x192e5c]===')'&&(_0x5cb364--,_0x5cb364===0xa4d+-0x18b*0x14+0x148f)){_0x352dd5=!(0x1a0c+0x203b+0x2*-0x1d23);break;}}if(_0x352dd5)_0x3b6285=_0x3b6285['slice'](0x1165+0x64c+-0x17b0,-(0x10b*-0x15+-0x912+0x1efa*0x1))['trim']();else break;}for(;;){let _0x37aef3=!(-0x80c+0xbe*0x5+-0x457*-0x1),_0x41fcda=0x89f+0x129c*-0x1+0x1*0x9fd,_0x510688=0x1*-0x17e9+0x3*-0xa67+0x371e,_0x4b8c8e=-(-0x2*-0x739+-0x9d6+-0x49b*0x1),_0x11639d=-(0x104f+0xff9+0x2047*-0x1),_0x3c0a15=-0x92c+-0xbf*0x7+0xe65;for(let _0x1e3d14=0x15a4+0x3*0x1df+0x1*-0x1b41;_0x1e3d14<_0x3b6285['length'];_0x1e3d14++)if(_0x3b6285[_0x1e3d14]==='('){const _0x1e01ee=_0x3b6285['substring'](0x960+0x84d+-0x11ad*0x1,_0x1e3d14);UT['test'](_0x1e01ee)?_0x3c0a15++:_0x3c0a15===-0x2*0x635+0x139f+-0x735&&(_0x41fcda++,_0x41fcda>_0x510688&&(_0x510688=_0x41fcda,_0x4b8c8e=_0x1e3d14),_0x37aef3=!(0x2b5*0xb+-0x57*-0x68+0x15b5*-0x3));}else _0x3b6285[_0x1e3d14]===')'&&(_0x3c0a15>0x7bb+-0x39*0x33+-0xe8*-0x4?_0x3c0a15--:_0x41fcda>-0xef4+0x28*-0x4a+0x1a84&&(_0x41fcda===_0x510688&&_0x4b8c8e!==-(-0x293*-0x8+0x718*0x3+0x4a7*-0x9)&&(_0x11639d=_0x1e3d14),_0x41fcda--));if(!_0x37aef3||_0x4b8c8e===-(0x37*0x5f+-0xd3+-0x1395)||_0x11639d===-(0x10e0+0x1127*0x1+-0x2206))break;const _0x1c4545=_0x3b6285['substring'](_0x4b8c8e+(-0x16e7+0x26be+0x7eb*-0x2),_0x11639d),{result:_0x2cda12,error:_0x20a0a1}=Lt['evaluate'](_0x1c4545,_0x44e86f);_0x272917=_0x272917||_0x20a0a1,_0x3b6285=_0x3b6285['substring'](-0x1e96+0x4*-0x6e7+0x3a32,_0x4b8c8e)+(_0x2cda12?'true':'false')+_0x3b6285['substring'](_0x11639d+(0x12bc*-0x1+0x1*-0x1051+0x230e));}return{'expression':_0x3b6285,'error':_0x272917};}static['evaluate'](_0x5af517,_0x2aa485){const _0x28fd8f=zT['exec'](_0x5af517)===null;w['assert'](_0x28fd8f,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x5af517);let _0x589cb6=_0x5af517,_0x3b4617=!(-0x109f+0x24*0xe6+-0xfb8);if(_0x5af517['replace'](kT,'')['indexOf']('(')!==-(0x22cf*0x1+-0x1*-0x1f79+0x37d*-0x13)){const _0x54d5d3=Lt['processPar'+'entheses'](_0x5af517,_0x2aa485);_0x589cb6=_0x54d5d3['expression'],_0x3b4617=_0x54d5d3['error'];}if(_0x3b4617)return w['log']('Parenthesi'+'s\x20parsing\x20'+'error\x20in\x20e'+'xpression:'+'\x20\x22'+_0x5af517+'\x22'),{'result':!(0x23ac*-0x1+0x23b0*0x1+-0x3),'error':!(-0x265c+0xae7+0x1b75)};const _0x15d6f2=_0x589cb6['split']('||');for(const _0x212319 of _0x15d6f2){const _0x41f31a=_0x212319['split']('&&');let _0x391a4e=!(-0x20f5+0xd54*0x2+-0x64d*-0x1);for(const _0x18d772 of _0x41f31a){const {result:_0x4dfa3f,error:_0x320350}=Lt['evaluateAt'+'omicExpres'+'sion'](_0x18d772['trim'](),_0x2aa485);if(!_0x4dfa3f||_0x320350){_0x391a4e=!(0x1*0x1d1+-0x25e5+-0x3*-0xc07);break;}}if(_0x391a4e)return{'result':!(-0x97*-0x2+0x1eaf+0x1fdd*-0x1),'error':!_0x28fd8f};}return{'result':!(0x9aa*-0x2+0x1f5+0x1160),'error':!_0x28fd8f};}};h(Lt,'sourceName');let ko=Lt;const Vy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pcFragCo'+'lor0;\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_1\x0a'+'layout(loc'+'ation\x20=\x201)'+'\x20out\x20highp'+'\x20outType_1'+'\x20pcFragCol'+'or1;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_2\x0alayo'+'ut(locatio'+'n\x20=\x202)\x20out'+'\x20highp\x20out'+'Type_2\x20pcF'+'ragColor2;'+'\x0a#endif\x0a\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'3\x0alayout(l'+'ocation\x20=\x20'+'3)\x20out\x20hig'+'hp\x20outType'+'_3\x20pcFragC'+'olor3;\x0a#en'+'dif\x0a\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'cFragColor'+'4;\x0a#endif\x0a'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_5\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0a#'+'endif\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_6\x0a'+'layout(loc'+'ation\x20=\x206)'+'\x20out\x20highp'+'\x20outType_6'+'\x20pcFragCol'+'or6;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_7\x0alayo'+'ut(locatio'+'n\x20=\x207)\x20out'+'\x20highp\x20out'+'Type_7\x20pcF'+'ragColor7;'+'\x0a#endif\x0a\x0a#'+'define\x20gl_'+'FragColor\x20'+'pcFragColo'+'r0\x0a\x0a#defin'+'e\x20varying\x20'+'in\x0a\x0a#defin'+'e\x20texture2'+'D\x20texture\x0a'+'#define\x20te'+'xture2DBia'+'s\x20texture\x0a'+'#define\x20te'+'xtureCube\x20'+'texture\x0a#d'+'efine\x20text'+'ure2DProj\x20'+'texturePro'+'j\x0a#define\x20'+'texture2DL'+'od\x20texture'+'Lod\x0a#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a#defin'+'e\x20textureC'+'ubeLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+('ure2DGrad\x20'+'textureGra'+'d\x0a#define\x20'+'texture2DP'+'rojGrad\x20te'+'xtureProjG'+'rad\x0a#defin'+'e\x20textureC'+'ubeGrad\x20te'+'xtureGrad\x0a'+'#define\x20ut'+'exture2D\x20t'+'exture\x0a#de'+'fine\x20itext'+'ure2D\x20text'+'ure\x0a\x0a//\x20de'+'precated\x20d'+'efines\x0a#de'+'fine\x20textu'+'re2DLodEXT'+'\x20texture2D'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DProjLodE'+'XT\x20texture'+'2DProjLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DP'+'rojLod\x0a#de'+'fine\x20textu'+'reCubeLodE'+'XT\x20texture'+'CubeLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeL'+'od_instead'+'\x0a#define\x20t'+'exture2DGr'+'adEXT\x20text'+'ure2DGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DG'+'rad_instea'+'d\x0a#define\x20'+'texture2DP'+'rojGradEXT'+'\x20texture2D'+'ProjGradEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DPr'+'ojGrad_ins'+'tead\x0a#defi'+'ne\x20texture'+'CubeGradEX'+'T\x20textureC'+'ubeGradEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeG'+'rad_instea'+'d\x0a\x0a//\x20samp'+'le\x20shadows'+'\x20using\x20tex'+'tureGrad\x20t'+'o\x20remove\x20d'+'erivatives'+'\x20in\x20the\x20dy'+'namic\x20loop'+'s\x20(which\x20a'+'re\x20used\x20by'+'\x0a//\x20cluste'+'red\x20lighti'+'ng)\x20-\x20as\x20D'+'irectX\x20sha'+'der\x20compil'+'er\x20tries\x20t'+'o\x20unroll\x20t'+'he\x20loops\x20a'+'nd\x20takes\x20l'+'ong\x20time\x0a/'+'/\x20to\x20compi'+'le\x20the\x20sha'+'der.\x20Using'+'\x20textureLo'+'d\x20would\x20be'+'\x20even\x20bett')+('er,\x20but\x20We'+'bGl\x20does\x20n'+'ot\x20transla'+'te\x20it\x20to\x0a/'+'/\x20lod\x20inst'+'ruction\x20fo'+'r\x20DirectX\x20'+'correctly\x20'+'and\x20uses\x20S'+'ampleCmp\x20i'+'nstead\x20of\x20'+'SampleCmpL'+'evelZero\x20o'+'r\x20similar.'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureG'+'rad(res,\x20u'+'v,\x20vec2(1,'+'\x201),\x20vec2('+'1,\x201))\x0a\x0a//'+'\x20pass\x20/\x20ac'+'cept\x20shado'+'w\x20map\x20or\x20t'+'exture\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20on\x20webgl'+'\x20this\x20is\x20s'+'imply\x20pass'+'ed\x20as\x20is\x0a/'+'/\x20but\x20this'+'\x20is\x20needed'+'\x20for\x20WebGP'+'U\x0a#define\x20'+'SHADOWMAP_'+'PASS(name)'+'\x20name\x0a#def'+'ine\x20SHADOW'+'MAP_ACCEPT'+'(name)\x20sam'+'pler2DShad'+'ow\x20name\x0a#d'+'efine\x20TEXT'+'URE_PASS(n'+'ame)\x20name\x0a'+'#define\x20TE'+'XTURE_ACCE'+'PT(name)\x20s'+'ampler2D\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP(name)\x20h'+'ighp\x20sampl'+'er2D\x20name\x0a'+'\x0a#define\x20G'+'L2\x0a'),Gy='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',Hy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pcFragColo'+'r0;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pcFra'+'gColor1;\x0al'+'ayout(loca'+'tion\x20=\x202)\x20'+'out\x20highp\x20'+'outType_2\x20'+'pcFragColo'+'r2;\x0alayout'+'(location\x20'+'=\x203)\x20out\x20h'+'ighp\x20outTy'+'pe_3\x20pcFra'+'gColor3;\x0al'+'ayout(loca'+'tion\x20=\x204)\x20'+'out\x20highp\x20'+'outType_4\x20'+'pcFragColo'+'r4;\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0al'+'ayout(loca'+'tion\x20=\x206)\x20'+'out\x20highp\x20'+'outType_6\x20'+'pcFragColo'+'r6;\x0alayout'+'(location\x20'+'=\x207)\x20out\x20h'+'ighp\x20outTy'+'pe_7\x20pcFra'+'gColor7;\x0a\x0a'+'#define\x20gl'+'_FragColor'+'\x20pcFragCol'+'or0\x0a\x0a#defi'+'ne\x20texture'+'2D(res,\x20uv'+')\x20texture('+'sampler2D('+('res,\x20res\x20#'+'#\x20_sampler'+'),\x20uv)\x0a#de'+'fine\x20textu'+'re2DBias(r'+'es,\x20uv,\x20bi'+'as)\x20textur'+'e(sampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv,\x20b'+'ias)\x0a#defi'+'ne\x20texture'+'2DLod(res,'+'\x20uv,\x20lod)\x20'+'textureLod'+'(sampler2D'+'(res,\x20res\x20'+'##\x20_sample'+'r),\x20uv,\x20lo'+'d)\x0a#define'+'\x20textureCu'+'be(res,\x20uv'+')\x20texture('+'samplerCub'+'e(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a#'+'define\x20tex'+'tureCubeLo'+'d(res,\x20uv,'+'\x20lod)\x20text'+'ureLod(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20lod)'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureL'+'od(sampler'+'2DShadow(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x200.0)'+'\x0a#define\x20i'+'texture2D('+'res,\x20uv)\x20t'+'exture(isa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv)\x0a#defi'+'ne\x20utextur'+'e2D(res,\x20u'+'v)\x20texture'+'(usampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a\x0a'+'//\x20depreca'+'ted\x20define'+'s\x0a#define\x20'+'texture2DL'+'odEXT\x20text'+'ure2DLodEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DLo'+'d_instead\x0a'+'#define\x20te'+'xture2DPro'+'jLodEXT\x20te'+'xture2DPro'+'jLodEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DProjLo'+'d\x0a#define\x20'+'textureCub'+'eLodEXT\x20te'+'xtureCubeL'+'odEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeLod_in'+'stead\x0a#def'+'ine\x20textur'+'e2DGradEXT'+'\x20texture2D'+'GradEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DGrad_i'+'nstead\x0a#de')+('fine\x20textu'+'re2DProjGr'+'adEXT\x20text'+'ure2DProjG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjGra'+'d_instead\x0a'+'#define\x20te'+'xtureCubeG'+'radEXT\x20tex'+'tureCubeGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeGrad_i'+'nstead\x0a\x0a//'+'\x20TODO:\x20imp'+'lement\x20oth'+'er\x20texture'+'\x20sampling\x20'+'macros\x0a//\x20'+'#define\x20te'+'xture2DPro'+'j\x20textureP'+'roj\x0a//\x20#de'+'fine\x20textu'+'re2DProjLo'+'d\x20textureP'+'rojLod\x0a//\x20'+'#define\x20te'+'xture2DGra'+'d\x20textureG'+'rad\x0a//\x20#de'+'fine\x20textu'+'re2DProjGr'+'ad\x20texture'+'ProjGrad\x0a/'+'/\x20#define\x20'+'textureCub'+'eGrad\x20text'+'ureGrad\x0a\x0a/'+'/\x20pass\x20/\x20a'+'ccept\x20shad'+'ow\x20map\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20passes\x20b'+'oth\x20the\x20te'+'xture\x20as\x20w'+'ell\x20as\x20sam'+'pler\x0a//\x20as'+'\x20the\x20combi'+'ned\x20sample'+'r\x20can\x20be\x20o'+'nly\x20create'+'d\x20at\x20a\x20poi'+'nt\x20of\x20use\x0a'+'#define\x20SH'+'ADOWMAP_PA'+'SS(name)\x20n'+'ame,\x20name\x20'+'##\x20_sample'+'r\x0a#define\x20'+'SHADOWMAP_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'PASS(name)'+'\x20name,\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP\x20TEXTURE'+'_ACCEPT\x0a\x0a#'+'define\x20GL2'+'\x0a#define\x20W'+'EBGPU\x0a'),Wy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',$y='\x0a',Xy='\x0a#define\x20V'+'ERTEXSHADE'+'R\x0a',n_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',o_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20fo'+'r\x20sampling'+'\x20scene\x20gra'+'b\x20textures'+'\x0afn\x20getGra'+'bScreenPos'+'(clipPos:\x20'+'vec4<f32>)'+'\x20->\x20vec2<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'var\x20uv:\x20ve'+'c2<f32>\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x20vec2<f3'+'2>(0.5);\x0a\x20'+'\x20\x20\x20uv.y\x20=\x20'+'1.0\x20-\x20uv.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'//\x20convert'+'\x20uv\x20coordi'+'nates\x20to\x20s'+'ample\x20imag'+'e\x20effect\x20t'+'exture\x20(re'+'nder\x20targe'+'t\x20texture\x20'+'rendered\x20w'+'ithout\x0a//\x20'+'forward\x20re'+'nderer\x20whi'+'ch\x20does\x20th'+'e\x20flip\x20in\x20'+'the\x20projec'+'tion\x20matri'+'x)\x0afn\x20getI'+'mageEffect'+'UV(uv:\x20vec'+'2<f32>)\x20->'+'\x20vec2<f32>'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20modifiedU'+'V:\x20vec2<f3'+'2>\x20=\x20uv;\x0a\x20'+'\x20\x20\x20modifie'+'dUV.y\x20=\x201.'+'0\x20-\x20modifi'+'edUV.y;\x0a\x20\x20'+'\x20\x20return\x20m'+'odifiedUV;'+'\x0a}\x0a\x0a//\x20typ'+'es\x20wrapped'+'\x20in\x20size\x20a'+'ligned\x20str'+'uctures\x20to'+'\x20ensure\x20co'+'rrect\x20alig'+'nment\x20in\x20u'+'niform\x20buf'+'fer\x20arrays'+'\x0astruct\x20Wr'+'appedF32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'f32\x20}\x0astru'+'ct\x20Wrapped'+'I32\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20i32\x20}'+'\x0astruct\x20Wr'+'appedU32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'u32\x20}\x0astru'+'ct\x20Wrapped'+'Vec2F\x20{\x20@s'+'ize(16)\x20el'+'ement:\x20vec'+'2f\x20}\x0astruc'+'t\x20WrappedV'+'ec2I\x20{\x20@si'+'ze(16)\x20ele'+'ment:\x20vec2'+'i\x20}\x0astruct'+'\x20WrappedVe'+'c2U\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20vec2u'+'\x20}\x0a',GT={'vertex_position':Me,'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_texCoord2':wl,'vertex_texCoord3':El,'vertex_texCoord4':bl,'vertex_texCoord5':Al,'vertex_texCoord6':Cl,'vertex_texCoord7':Pl,'vertex_color':Wt,'vertex_boneIndices':us,'vertex_boneWeights':gi};class Jt{static['createDefi'+'nition'](_0x592fa5,_0x1aa0f0){w['assert'](_0x1aa0f0),w['assert'](!_0x1aa0f0['vertexDefi'+'nes']||_0x1aa0f0['vertexDefi'+'nes']instanceof Map),w['assert'](!_0x1aa0f0['vertexIncl'+'udes']||_0x1aa0f0['vertexIncl'+'udes']instanceof Map),w['assert'](!_0x1aa0f0['fragmentDe'+'fines']||_0x1aa0f0['fragmentDe'+'fines']instanceof Map),w['assert'](!_0x1aa0f0['fragmentIn'+'cludes']||_0x1aa0f0['fragmentIn'+'cludes']instanceof Map);const _0xbad2d=_0x120be5=>{let _0x2546e6=_0x120be5['fragmentOu'+'tputTypes']??'vec4';return Array['isArray'](_0x2546e6)||(_0x2546e6=[_0x2546e6]),_0x2546e6;},_0x34e5a5=(_0x67bf0c,_0x3bbc05,_0x326aa4,_0x48e207)=>{const _0x2ad69d=_0x592fa5['isWebGPU']?_0x67bf0c:_0x3bbc05;let _0x4d7f0e='';if(!_0x326aa4){const _0x2bf547=_0xbad2d(_0x48e207);for(let _0x29fb03=0x10c1+0x2d*0x9e+-0x2c87*0x1;_0x29fb03<_0x592fa5['maxColorAt'+'tachments'];_0x29fb03++){_0x4d7f0e+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x29fb03+'\x0a';const _0x2383b8=_0x2bf547[_0x29fb03]??'vec4';_0x4d7f0e+='#define\x20ou'+'tType_'+_0x29fb03+'\x20'+_0x2383b8+'\x0a';}}return _0x4d7f0e+_0x2ad69d;},_0x312f4f=(_0x8eb5f,_0x31749a)=>{let _0x92a5d2='';if(!_0x8eb5f){const _0x2733e0=_0xbad2d(_0x31749a);for(let _0x5d8dba=-0xfb*-0x19+0x14c*0x1+-0x19cf*0x1;_0x5d8dba<_0x592fa5['maxColorAt'+'tachments'];_0x5d8dba++){const _0x342acd=_0x2733e0[_0x5d8dba]??'vec4',_0x3dfc7a=Fy['get'](_0x342acd);w['assert'](_0x3dfc7a,'Unknown\x20ou'+'tput\x20type\x20'+'translatio'+'n:\x20'+_0x342acd+'\x20->\x20'+_0x3dfc7a),_0x92a5d2+='alias\x20pcOu'+'tType'+_0x5d8dba+'\x20=\x20'+_0x3dfc7a+';\x0a';}}return _0x92a5d2;},_0x551fbd=_0x1aa0f0['name']??'Untitled';let _0x539318,_0x565ecb;const _0x373ae7=Jt['getDefines'+'Code'](_0x592fa5,_0x1aa0f0['vertexDefi'+'nes']),_0xad28=Jt['getDefines'+'Code'](_0x592fa5,_0x1aa0f0['fragmentDe'+'fines']);return _0x1aa0f0['shaderLang'+'uage']===it?(_0x539318='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x312f4f(!(-0x1bf+-0x26e5+0x28a4),_0x1aa0f0)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Xy+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x373ae7+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x1aa0f0['vertexCode']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'),_0x565ecb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x312f4f(!(-0xa9*-0x1b+-0x1cd+0x557*-0x3),_0x1aa0f0)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+$y+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0xad28+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x1aa0f0['fragmentCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')):(w['assert'](_0x1aa0f0['vertexCode']),_0x539318=Jt['versionCod'+'e'](_0x592fa5)+_0x34e5a5(Wy,Gy,!(-0x1*-0xa36+-0x2248+-0x3*-0x806),_0x1aa0f0)+_0x373ae7+Jt['precisionC'+'ode'](_0x592fa5)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x551fbd)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x1aa0f0['vertexCode'],w['assert'](_0x1aa0f0['fragmentCo'+'de']),_0x565ecb=(_0x1aa0f0['fragmentPr'+'eamble']||'')+Jt['versionCod'+'e'](_0x592fa5)+_0x34e5a5(Hy,Vy,!(-0x225c+0x1ffd+-0x4c*-0x8),_0x1aa0f0)+_0xad28+Jt['precisionC'+'ode'](_0x592fa5)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x551fbd)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x1aa0f0['fragmentCo'+'de']),{'name':_0x551fbd,'shaderLanguage':_0x1aa0f0['shaderLang'+'uage']??Fe,'attributes':_0x1aa0f0['attributes'],'vshader':_0x539318,'vincludes':_0x1aa0f0['vertexIncl'+'udes'],'fincludes':_0x1aa0f0['fragmentIn'+'cludes'],'fshader':_0x565ecb,'useTransformFeedback':_0x1aa0f0['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x1aa0f0['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x1aa0f0['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x29786f,_0x227912){let _0x4472ee='';return _0x29786f['capsDefine'+'s']['forEach']((_0x884353,_0x10a480)=>{_0x4472ee+='#define\x20'+_0x10a480+'\x20'+_0x884353+'\x0a';}),_0x4472ee+='\x0a',_0x227912==null||_0x227912['forEach']((_0x9abe3,_0x5522c4)=>{_0x4472ee+='#define\x20'+_0x5522c4+'\x20'+_0x9abe3+'\x0a';}),_0x4472ee+='\x0a',_0x4472ee;}static['getShaderN'+'ameCode'](_0x28a22f){return'#define\x20SH'+'ADER_NAME\x20'+_0x28a22f+'\x0a';}static['versionCod'+'e'](_0x291969){return _0x291969['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x3d0e26,_0x5db79b){_0x5db79b&&_0x5db79b!=='highp'&&_0x5db79b!=='mediump'&&_0x5db79b!=='lowp'&&(_0x5db79b=null),_0x5db79b&&(_0x5db79b==='highp'&&_0x3d0e26['maxPrecisi'+'on']!=='highp'&&(_0x5db79b='mediump'),_0x5db79b==='mediump'&&_0x3d0e26['maxPrecisi'+'on']==='lowp'&&(_0x5db79b='lowp'));const _0x520ee8=_0x5db79b||_0x3d0e26['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x520ee8+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x520ee8+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x520ee8+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x520ee8+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x520ee8+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x520ee8+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x520ee8+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x507489){const _0xd1dec4={};let _0x260500=0x119*0xd+0x1f20+0x1*-0x2d65,_0x25ea1c=_0x507489['indexOf']('attribute');for(;_0x25ea1c>=-0x1614+-0x1480+-0x4*-0xaa5&&!(_0x25ea1c>0x138e+-0x1e13*-0x1+-0x31a1&&_0x507489[_0x25ea1c-(-0x1*0x5b3+0x33e+0x276)]==='/');){let _0x3df020=!(-0x26dc+-0x1c0f+0x2176*0x2);if(_0x25ea1c>-0x982*-0x4+-0x2*0x76a+-0x1734){let _0x2e72fb=_0x507489['lastIndexO'+'f']('\x0a',_0x25ea1c);_0x2e72fb=_0x2e72fb!==-(-0x3*-0x327+-0x13d4+0xa60)?_0x2e72fb+(0x26*0x19+0xa5a+0x3d*-0x3b):-0x27d*0xd+-0x565+0x25be,_0x507489['substring'](_0x2e72fb,_0x25ea1c)['includes']('#')&&(_0x3df020=!(-0x32d*0x9+-0x19fc+0x3691));}if(!_0x3df020){const _0x582b68=_0x507489['indexOf'](';',_0x25ea1c),_0x28a25=_0x507489['lastIndexO'+'f']('\x20',_0x582b68),_0x1d4267=_0x507489['substring'](_0x28a25+(-0x11*0xd3+0xbb+0xd49),_0x582b68);if(_0xd1dec4[_0x1d4267])w['warn']('Attribute\x20'+'['+_0x1d4267+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x507489});else{const _0x166019=GT[_0x1d4267];_0x166019!==void(0xf9f+0x1599+-0x4*0x94e)?_0xd1dec4[_0x1d4267]=_0x166019:(_0xd1dec4[_0x1d4267]='ATTR'+_0x260500,_0x260500++);}}_0x25ea1c=_0x507489['indexOf']('attribute',_0x25ea1c+(-0x15ca+-0x410+-0x1*-0x19db));}return _0xd1dec4;}}let HT=-0x1f8b+0x3*0x7e1+0x2c*0x2e;class qy{constructor(_0x350b44,_0x25e584){h(this,'meshUnifor'+'mBufferFor'+'mat'),h(this,'meshBindGr'+'oupFormat'),h(this,'attributes',new Map());if(this['id']=HT++,this['device']=_0x350b44,this['definition']=_0x25e584,this['name']=_0x25e584['name']||'Untitled',this['init'](),_0x25e584['cshader'])w['assert'](_0x350b44['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),w['assert'](!_0x25e584['vshader']&&!_0x25e584['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.'),_0x25e584['cshader']=ko['run'](_0x25e584['cshader'],_0x25e584['cincludes'],{'sourceName':'compute\x20sh'+'ader\x20for\x20'+this['label'],'stripDefines':!(-0x1055*-0x1+0x1*-0x227a+0x1225*0x1)});else{w['assert'](_0x25e584['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),w['assert'](_0x25e584['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),w['call'](()=>{this['vUnmodifie'+'d']=_0x25e584['vshader'],this['fUnmodifie'+'d']=_0x25e584['fshader'];});const _0x428035=_0x25e584['shaderLang'+'uage']===it;_0x25e584['vshader']=ko['run'](_0x25e584['vshader'],_0x25e584['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label'],'stripDefines':_0x428035}),_0x25e584['shaderLang'+'uage']===Fe&&(_0x25e584['attributes']??(_0x25e584['attributes']=Jt['collectAtt'+'ributes'](_0x25e584['vshader'])));const _0x1e72c7=_0x350b44['isWebGL2']&&(Ae['name']==='osx'||Ae['name']==='ios');if(_0x25e584['fshader']=ko['run'](_0x25e584['fshader'],_0x25e584['fincludes'],{'stripUnusedColorAttachments':_0x1e72c7,'stripDefines':_0x428035,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']}),!_0x25e584['vshader']||!_0x25e584['fshader']){w['error']('Shader:\x20Fa'+'iled\x20to\x20cr'+'eate\x20shade'+'r\x20'+this['label']+('.\x20Vertex\x20o'+'r\x20fragment'+'\x20shader\x20so'+'urce\x20is\x20em'+'pty.'),this),this['failed']=!(0x1*0x2081+-0x602+-0x1a7f);return;}}this['impl']=_0x350b44['createShad'+'erImpl'](this),w['trace'](Im,'Alloc:\x20'+this['label']+',\x20stack:\x20'+Q['toString'](),{'instance':this});}['init'](){this['ready']=!(-0x1cd*-0x8+-0x1*0x24f5+0x168e),this['failed']=!(0x1*-0xf79+-0x1*0x1537+0x24b1*0x1);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20('+(this['definition']['shaderLang'+'uage']===it?'WGSL':'GLSL')+')\x20'+this['name'];}['destroy'](){w['trace'](Im,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class WT{constructor(){h(this,'storage'),h(this,'gpuBuffer'),h(this,'offset');}}const Be=[];Be[Xs]=function(_0x27bd6b,_0x198e58,_0x274499){const _0x4adac5=_0x27bd6b['storageFlo'+'at32'];_0x4adac5[_0x274499]=_0x198e58;},Be[ga]=(_0x4da85b,_0xe76072,_0x389127)=>{const _0x2e1713=_0x4da85b['storageFlo'+'at32'];_0x2e1713[_0x389127]=_0xe76072[-0x27*0xd3+0x1018+0x100d],_0x2e1713[_0x389127+(-0x4b2*-0x2+-0x24c9+0x1b66)]=_0xe76072[-0x59c*0x3+0x125f+-0x18a];},Be[ds]=(_0x95e3e4,_0x24765,_0x26c6f9)=>{const _0x38c2ff=_0x95e3e4['storageFlo'+'at32'];_0x38c2ff[_0x26c6f9]=_0x24765[-0x45*0x5+-0x1435+-0xac7*-0x2],_0x38c2ff[_0x26c6f9+(0xd86+-0x5c*0xe+0x35*-0x29)]=_0x24765[0x6*0x5ea+0x1b17+-0x3e92],_0x38c2ff[_0x26c6f9+(0xb2c+0x935+-0x145f)]=_0x24765[-0x1562+0xb66+0x9fe];},Be[Rn]=(_0x143490,_0x56d5a0,_0x5a5975)=>{const _0x104609=_0x143490['storageFlo'+'at32'];_0x104609[_0x5a5975]=_0x56d5a0[0x7*-0x3d+-0x20a1+0x224c],_0x104609[_0x5a5975+(-0x1aa1+0x1*-0x1384+0x1713*0x2)]=_0x56d5a0[-0x14e8+-0x6*0x1df+0x1*0x2023],_0x104609[_0x5a5975+(-0xd*-0xf9+0x1bb8+-0x285b)]=_0x56d5a0[-0x281*0x3+0x7a0+0x1b*-0x1],_0x104609[_0x5a5975+(-0xae7+0x3*0x9a9+0x1*-0x1211)]=_0x56d5a0[-0x26df+0x2047+-0x59*-0x13];},Be[_a]=function(_0x4458e1,_0xc96d6a,_0x285523){const _0x55c5e5=_0x4458e1['storageInt'+'32'];_0x55c5e5[_0x285523]=_0xc96d6a;},Be[ca]=function(_0x36dda4,_0x3f5abd,_0x2a4920){const _0x1b9892=_0x36dda4['storageInt'+'32'];_0x1b9892[_0x2a4920]=_0x3f5abd[-0x1993+0x1d9e+-0x1*0x40b],_0x1b9892[_0x2a4920+(0xb*-0x84+0x32*-0x8d+0xb*0x305)]=_0x3f5abd[0x1*0xb33+-0x12c3+-0x95*-0xd];},Be[ha]=function(_0x384d6b,_0x5e2639,_0x1d8a6c){const _0x22fa43=_0x384d6b['storageInt'+'32'];_0x22fa43[_0x1d8a6c]=_0x5e2639[0x1ca5*-0x1+-0xf31+0x2bd6],_0x22fa43[_0x1d8a6c+(0x74f+0x2f*-0x91+0x3dd*0x5)]=_0x5e2639[-0x851+-0x1aea+-0x37*-0xa4],_0x22fa43[_0x1d8a6c+(-0x1c0a+-0x637+-0x31*-0xb3)]=_0x5e2639[-0x19*-0xcb+0x24cb*-0x1+0x10fa];},Be[da]=function(_0x3289f1,_0x3bda04,_0x9845c3){const _0x2d1a6b=_0x3289f1['storageInt'+'32'];_0x2d1a6b[_0x9845c3]=_0x3bda04[-0x17db+-0x6*0x31+0x1901],_0x2d1a6b[_0x9845c3+(-0x7*0x36d+0x1fa0+-0x7a4)]=_0x3bda04[-0x535*0x1+0x12ae+0x35e*-0x4],_0x2d1a6b[_0x9845c3+(-0x1507*0x1+0xbe6*0x2+-0x2c3)]=_0x3bda04[0x2*0xb53+-0x1996+-0x3a*-0xd],_0x2d1a6b[_0x9845c3+(-0x6d3*0x4+-0x6c+-0x1*-0x1bbb)]=_0x3bda04[-0x1d6b+0x17d1+-0x1*-0x59d];},Be[_h]=(_0x4b8c40,_0x4abb25,_0x415014)=>{const _0x141e3b=_0x4b8c40['storageFlo'+'at32'];_0x141e3b[_0x415014]=_0x4abb25[0x24a1+0x79a+0xa9*-0x43],_0x141e3b[_0x415014+(0xc5a*0x1+0x1e9f+-0x2af8)]=_0x4abb25[-0x18e5+-0x1b1b+-0x3401*-0x1],_0x141e3b[_0x415014+(0x1*0x419+0x1*-0xdf0+0x1d*0x57)]=_0x4abb25[0x164a+0x2176+-0x37be],_0x141e3b[_0x415014+(0x307+0x67*0x4b+-0x212f)]=_0x4abb25[0xef7+-0xd1+0x4d*-0x2f],_0x141e3b[_0x415014+(-0x3*0xa5e+-0x1e0f+0x3d31)]=_0x4abb25[-0x134a+0xe0*0x1d+-0x612],_0x141e3b[_0x415014+(-0x1f67+0x1*-0xce5+-0x3*-0xec7)]=_0x4abb25[0x1*0x1f1b+-0x47b+0x31*-0x8b];},Be[On]=(_0x372a6e,_0x4a66fc,_0x431a24)=>{const _0x10b0d3=_0x372a6e['storageFlo'+'at32'];_0x10b0d3[_0x431a24]=_0x4a66fc[-0x2f+0x2157+0x1*-0x2128],_0x10b0d3[_0x431a24+(0x4*0x38b+-0xbc5*0x3+0x1524)]=_0x4a66fc[0x1620+0x17b4+-0x2dd3],_0x10b0d3[_0x431a24+(0xa8*0xe+0x1ab7*0x1+-0x23e5)]=_0x4a66fc[-0x138e+0x149+-0x1247*-0x1],_0x10b0d3[_0x431a24+(0x449*0x7+0xff*-0x2+-0x1*0x1bfd)]=_0x4a66fc[0x187c*-0x1+-0x3d2+0x1c51],_0x10b0d3[_0x431a24+(-0x1363+-0x188b+0x2bf3)]=_0x4a66fc[0x39*0x89+0x246a+-0x42e7],_0x10b0d3[_0x431a24+(-0x34*0x56+0x1905+-0x787)]=_0x4a66fc[-0x23dd+0x419*-0x1+-0x1*-0x27fb],_0x10b0d3[_0x431a24+(-0xe3b+0x186a+-0xa27)]=_0x4a66fc[-0x3ef+0xf05*0x1+-0x4*0x2c4],_0x10b0d3[_0x431a24+(0x1*0x229f+0x776+-0x2a0c)]=_0x4a66fc[-0x2059+0x46f*-0x4+0x321c],_0x10b0d3[_0x431a24+(0x1*-0x455+0x52*0x6d+-0x1e8b)]=_0x4a66fc[-0x2617*-0x1+0x251*0x7+-0x3646];},Be[ud]=function(_0x3e412b,_0x55887e,_0x5d5022,_0x4a3b7d){const _0xa315ad=_0x3e412b['storageFlo'+'at32'];for(let _0x2906e1=0x8f8+-0x1d2b+0x1433;_0x2906e1<_0x4a3b7d;_0x2906e1++)_0xa315ad[_0x5d5022+_0x2906e1*(-0x2ac*0xa+-0x1*0xf9d+0x125*0x25)]=_0x55887e[_0x2906e1];},Be[pd]=(_0x27cc71,_0x3876b2,_0x279566,_0x9f7e69)=>{const _0x738a55=_0x27cc71['storageFlo'+'at32'];for(let _0xe6a2a8=0xc*-0x9b+0x3bc*-0x1+0x580*0x2;_0xe6a2a8<_0x9f7e69;_0xe6a2a8++)_0x738a55[_0x279566+_0xe6a2a8*(0xbb9*-0x2+0x180+-0x15f6*-0x1)]=_0x3876b2[_0xe6a2a8*(0xcff+0x11*0x175+-0x25c2)],_0x738a55[_0x279566+_0xe6a2a8*(0x22ea+0x9*0x41a+-0x47d0)+(-0xb2*-0x7+0x203+0x1b8*-0x4)]=_0x3876b2[_0xe6a2a8*(0x22b0+-0x1580+-0xd2e)+(-0x3*-0x287+0x1*0xb6f+-0x1303)];},Be[md]=(_0x3b36d7,_0x200869,_0x3acde6,_0x43fcc8)=>{const _0x212ad6=_0x3b36d7['storageFlo'+'at32'];for(let _0x2cf231=-0x5*-0x337+0x7*0x4+-0x102f;_0x2cf231<_0x43fcc8;_0x2cf231++)_0x212ad6[_0x3acde6+_0x2cf231*(0x291*0xf+-0x2*-0x7c9+-0x360d)]=_0x200869[_0x2cf231*(0x620+-0x17cb+0x11ae)],_0x212ad6[_0x3acde6+_0x2cf231*(0x18cf+0x3fa+-0x1cc5)+(-0x5ea*-0x3+-0x191d+0x760)]=_0x200869[_0x2cf231*(-0x1cdc+0x11*0x22d+-0x81e)+(0x1*0x20b7+0x179e+-0x23*0x19c)],_0x212ad6[_0x3acde6+_0x2cf231*(-0x1e90+-0x13d5*-0x1+0xabf)+(-0x1075+-0xd63+0xeed*0x2)]=_0x200869[_0x2cf231*(0x193f+-0x899+-0x10a3)+(-0x1aa8+-0x1f48+0x39f2)];},Be[Fn]=(_0x2c4d81,_0x4cc757,_0x4a38d6,_0x48ae99)=>{const _0x6d7fb7=_0x2c4d81['storageUin'+'t32'];_0x6d7fb7[_0x4a38d6]=_0x4cc757;},Be[Nn]=(_0x56a024,_0x212849,_0x393370,_0x1e696f)=>{const _0xa912e9=_0x56a024['storageUin'+'t32'];_0xa912e9[_0x393370]=_0x212849[-0x35e*0x1+0x65*0x1+0x2f9*0x1],_0xa912e9[_0x393370+(0x149*-0x7+-0x26d5*0x1+-0x1f*-0x18b)]=_0x212849[-0x1*-0x23a7+0x588+-0x292e];},Be[kn]=(_0x56f058,_0x2d35c7,_0x9a3e2b,_0x444e69)=>{const _0x4baa49=_0x56f058['storageUin'+'t32'];_0x4baa49[_0x9a3e2b]=_0x2d35c7[-0x598+-0x4*0x94d+0x2acc],_0x4baa49[_0x9a3e2b+(0xb8*-0xb+-0x3*0x6fb+-0x2*-0xe6d)]=_0x2d35c7[-0x3d*-0xa3+0x13*0x1ed+-0x4b6d*0x1],_0x4baa49[_0x9a3e2b+(-0x19a*0x7+0x239d+-0x1865)]=_0x2d35c7[-0x26e0+-0x4ae*0x5+-0x7c9*-0x8];},Be[Un]=(_0x2ce63c,_0x527ba6,_0xd7c0f4,_0x2e9b46)=>{const _0xe45859=_0x2ce63c['storageUin'+'t32'];_0xe45859[_0xd7c0f4]=_0x527ba6[-0x1ba5+-0x1cc7+0x1c36*0x2],_0xe45859[_0xd7c0f4+(0x5e2*0x4+-0x40f*-0x8+-0x37ff)]=_0x527ba6[0x1*0x1a6b+-0x1443+-0x15*0x4b],_0xe45859[_0xd7c0f4+(-0x220d+0x32b*-0x3+0x2b90)]=_0x527ba6[-0x1*-0x1312+-0x503*-0x5+0x2c1f*-0x1],_0xe45859[_0xd7c0f4+(-0x112d+-0x49*-0x41+0x3*-0x73)]=_0x527ba6[0x21c2+-0x17f4+0x6d*-0x17];},Be[Bn]=function(_0x139b6d,_0x178c46,_0x120020,_0x53c19f){const _0xdae74c=_0x139b6d['storageInt'+'32'];for(let _0x2bb44d=0x4f8*0x1+-0x2fb*0x5+0x9ef*0x1;_0x2bb44d<_0x53c19f;_0x2bb44d++)_0xdae74c[_0x120020+_0x2bb44d*(0x61c+0x963+-0x3*0x529)]=_0x178c46[_0x2bb44d];},Be[gd]=Be[Bn],Be[_d]=function(_0x414340,_0x9114e8,_0x4c51c1,_0xec7310){const _0x40d33f=_0x414340['storageUin'+'t32'];for(let _0x230b8c=0x450*-0x5+-0xe*-0xf1+0x862*0x1;_0x230b8c<_0xec7310;_0x230b8c++)_0x40d33f[_0x4c51c1+_0x230b8c*(-0x23df*-0x1+0x186b*0x1+-0x3c46)]=_0x9114e8[_0x230b8c];},Be[zn]=(_0x3cda7c,_0x273d6b,_0x593578,_0xeee201)=>{const _0x5ab035=_0x3cda7c['storageInt'+'32'];for(let _0x4b3ea0=0x1*0x13b4+0x102*0x11+-0x29*0xe6;_0x4b3ea0<_0xeee201;_0x4b3ea0++)_0x5ab035[_0x593578+_0x4b3ea0*(-0x8b*-0x47+-0x19b1+-0xcd8)]=_0x273d6b[_0x4b3ea0*(-0x14d9+-0x1f0b*-0x1+0x4*-0x28c)],_0x5ab035[_0x593578+_0x4b3ea0*(-0x1778+-0x1*0x13d9+-0x1*-0x2b55)+(-0xe01+-0x1e1*0x7+0x1b29)]=_0x273d6b[_0x4b3ea0*(-0x5af*-0x1+-0x1193*-0x2+0x28d3*-0x1)+(0x175*-0x17+-0x1bcc+0x10*0x3d5)];},Be[yd]=Be[zn],Be[Sd]=(_0x2d82db,_0x389bba,_0x254a42,_0x256f7b)=>{const _0x26b935=_0x2d82db['storageUin'+'t32'];for(let _0x191291=-0x5e*0x1a+-0x1979+0x2305;_0x191291<_0x256f7b;_0x191291++)_0x26b935[_0x254a42+_0x191291*(0x1311+-0x1e+0x83*-0x25)]=_0x389bba[_0x191291*(0x1*-0x38b+-0x1029+-0xae*-0x1d)],_0x26b935[_0x254a42+_0x191291*(0x1205+0x3*0x9d0+-0x23*0x15b)+(0x4b2*-0x8+-0x8cb*-0x1+-0xfe*-0x1d)]=_0x389bba[_0x191291*(-0x35*-0x16+0x59*-0x4f+0x16eb)+(0x392*0x9+-0x1a7+-0x1e7a)];},Be[Vn]=(_0x2a3d79,_0x45278a,_0x4d55a9,_0x59cef7)=>{const _0x152bc5=_0x2a3d79['storageInt'+'32'];for(let _0xadfeb0=-0x9*0x447+0x4af*0x5+-0x78a*-0x2;_0xadfeb0<_0x59cef7;_0xadfeb0++)_0x152bc5[_0x4d55a9+_0xadfeb0*(-0x1dbd+0x16*-0x1+0x1dd7)]=_0x45278a[_0xadfeb0*(0x1b0+-0x4d6*0x1+0x329)],_0x152bc5[_0x4d55a9+_0xadfeb0*(-0x99d*-0x2+-0x1ced+0x9b7)+(-0x1df6+-0x87b*-0x4+-0x3f5)]=_0x45278a[_0xadfeb0*(0x1846+-0x4*-0x107+-0x1c5f)+(-0xc99+-0xb*0x2d7+-0x81*-0x57)],_0x152bc5[_0x4d55a9+_0xadfeb0*(0x36*-0x74+0x2c5+0x15b7)+(-0x2534+0x15*-0x175+0x43cf)]=_0x45278a[_0xadfeb0*(-0x2511+-0xf2e+-0x1a21*-0x2)+(0x21*0x5+-0x19*-0x92+-0xee5)];},Be[xd]=Be[Vn],Be[vd]=(_0x24683b,_0x2ec7d5,_0x3b0c4e,_0x2b59a3)=>{const _0x5b6dd2=_0x24683b['storageUin'+'t32'];for(let _0x486346=-0x114*-0x5+0x100f*0x1+-0x1573;_0x486346<_0x2b59a3;_0x486346++)_0x5b6dd2[_0x3b0c4e+_0x486346*(0xd88+0x1ec4+-0x1b4*0x1a)]=_0x2ec7d5[_0x486346*(0x2499+-0x17fc+-0xc9a)],_0x5b6dd2[_0x3b0c4e+_0x486346*(-0x1cfb+-0x30b*-0x1+0x19f4)+(0xe60+-0x6*-0x21e+-0xef*0x1d)]=_0x2ec7d5[_0x486346*(0x9c9+-0x519+-0x4ad)+(-0x1847+-0x1ad5*-0x1+-0x28d)],_0x5b6dd2[_0x3b0c4e+_0x486346*(-0x6b*-0x53+-0xe3+-0x21ca)+(0xf4b+-0x1c*0x148+0x1497)]=_0x2ec7d5[_0x486346*(-0x20*0x26+-0x233d+0x4*0xa00)+(-0xa97*0x1+0x3*0x215+0x2*0x22d)];};class zp{constructor(_0xcf3791,_0x65ba30,_0x3682bd=!(0x3a*-0x61+-0x1*0x1777+0x2d71)){h(this,'device'),h(this,'persistent'),h(this,'allocation'),h(this,'storageFlo'+'at32'),h(this,'storageInt'+'32'),h(this,'storageUin'+'t32'),h(this,'renderVers'+'ionDirty',-0x246b+0x9*-0xe7+-0x1*-0x2c8a);if(this['device']=_0xcf3791,this['format']=_0x65ba30,this['persistent']=_0x3682bd,w['assert'](_0x65ba30),_0x3682bd){this['impl']=_0xcf3791['createUnif'+'ormBufferI'+'mpl'](this);const _0x5ebeae=new ArrayBuffer(_0x65ba30['byteSize']);this['assignStor'+'age'](new Int32Array(_0x5ebeae)),_0xcf3791['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new WT();}['destroy'](){if(this['persistent']){const _0x3f35df=this['device'];this['impl']['destroy'](_0x3f35df),_0x3f35df['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?-0x1*-0xcf8+-0x4*-0x4e4+-0x2088:this['allocation']['offset'];}['assignStor'+'age'](_0xdf05cc){this['storageInt'+'32']=_0xdf05cc,this['storageUin'+'t32']=new Uint32Array(_0xdf05cc['buffer'],_0xdf05cc['byteOffset'],_0xdf05cc['byteLength']/(-0x670+0x25b4+-0x1f40*0x1)),this['storageFlo'+'at32']=new Float32Array(_0xdf05cc['buffer'],_0xdf05cc['byteOffset'],_0xdf05cc['byteLength']/(0x1ed*0x3+-0x52f+-0x94));}['loseContex'+'t'](){var _0x1f7da8;(_0x1f7da8=this['impl'])==null||_0x1f7da8['loseContex'+'t']();}['setUniform'](_0x371f53,_0x3510d2){w['assert'](_0x371f53);const _0x3c99b7=_0x371f53['offset'];if(_0x3510d2!=null){const _0x3844d4=Be[_0x371f53['updateType']];_0x3844d4?_0x3844d4(this,_0x3510d2,_0x3c99b7,_0x371f53['count']):this['storageFlo'+'at32']['set'](_0x3510d2,_0x3c99b7);}else w['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x371f53['name']+('],\x20expecte'+'d\x20type\x20')+Ey[_0x371f53['type']]+('\x20while\x20ren'+'dering\x20')+Q['toString']());}['set'](_0x59bca2,_0x9d5bda){const _0x4684d2=this['format']['map']['get'](_0x59bca2);w['assert'](_0x4684d2,'Uniform\x20na'+'me\x20['+_0x59bca2+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x4684d2&&this['setUniform'](_0x4684d2,_0x9d5bda);}['startUpdat'+'e'](_0x44a64a){if(!this['persistent']){const _0x49d0b2=this['allocation'],_0xab07fa=_0x49d0b2['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x49d0b2,this['format']['byteSize']),this['assignStor'+'age'](_0x49d0b2['storage']),_0x44a64a&&(_0x44a64a['bindGroup']=_0x49d0b2['gpuBuffer']['getBindGro'+'up'](this),_0x44a64a['offsets'][-0xfac+-0x251+0x5ff*0x3]=_0x49d0b2['offset']),_0xab07fa!==_0x49d0b2['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x30c65c){this['startUpdat'+'e'](_0x30c65c);const _0x2d4228=this['format']['uniforms'];for(let _0x2079f7=0xfe9*-0x1+-0x18af+0x18*0x1b1;_0x2079f7<_0x2d4228['length'];_0x2079f7++){const _0x44bec8=_0x2d4228[_0x2079f7]['scopeId']['value'];this['setUniform'](_0x2d4228[_0x2079f7],_0x44bec8);}this['endUpdate']();}}class $T{constructor(){h(this,'frameAlloc'+'ations',[]),h(this,'pastFrameA'+'llocations',new Map()),h(this,'_enabled',!(0x6f3+-0x1eb9+0x17c7)),h(this,'_enableReq'+'uest',!(-0x1cf7*-0x1+0xc6f*0x1+-0x2965*0x1)),h(this,'_frameTime',-0x469+0x106f+-0x156*0x9);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x1e518a){this['_enableReq'+'uest']=_0x1e518a;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=0x20a3*-0x1+-0xe9a*0x2+-0x6df*-0x9));}['request'](_0x4c9616){this['pastFrameA'+'llocations']['set'](_0x4c9616,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x35e833,_0x4f35de){if(_0x4f35de){const _0x4c01b5=this['pastFrameA'+'llocations']['get'](_0x35e833);if(w['assert'](_0x4c01b5['length']===_0x4f35de['length']),_0x4f35de['length']>0x7*0x146+-0x182b+0xf41&&(this['_frameTime']=_0x4f35de['reduce']((_0x7bedbe,_0x4debf6)=>_0x7bedbe+_0x4debf6,-0x1*0x2053+-0x4b5+0x2508)),mi['get'](Gl)){w['trace'](Gl,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x35e833+'\x20--');let _0x5c1c97=0xa3c*-0x2+-0x1d*-0xf5+-0x1*0x749;for(let _0x8cd363=-0x33*-0x77+0x120f+-0x29c4;_0x8cd363<_0x4c01b5['length'];++_0x8cd363){const _0x59b744=_0x4c01b5[_0x8cd363];_0x5c1c97+=_0x4f35de[_0x8cd363],w['trace'](Gl,_0x4f35de[_0x8cd363]['toFixed'](0x1abe+-0x56c+0x155*-0x10)+'\x20ms\x20'+_0x59b744);}w['trace'](Gl,_0x5c1c97['toFixed'](0xee4+0xab7+-0x1*0x1999)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x35e833);}['getSlot'](_0x256c4f){const _0x7c650=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x256c4f),_0x7c650;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class jy{constructor(){h(this,'bufferId',null);}['destroy'](_0x1d616b){this['bufferId']&&(_0x1d616b['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x1fed16,_0x23f0af,_0x3c9dcc,_0x1535f7){const _0x5b4189=_0x1fed16['gl'];if(this['bufferId'])_0x5b4189['bindBuffer'](_0x3c9dcc,this['bufferId']),_0x5b4189['bufferSubD'+'ata'](_0x3c9dcc,0x1d8b+-0x10e3+0x48*-0x2d,_0x1535f7);else{let _0x1049d2;switch(_0x23f0af){case ms:_0x1049d2=_0x5b4189['STATIC_DRA'+'W'];break;case lh:_0x1049d2=_0x5b4189['DYNAMIC_DR'+'AW'];break;case ey:_0x1049d2=_0x5b4189['STREAM_DRA'+'W'];break;case bx:_0x1049d2=_0x5b4189['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x5b4189['createBuff'+'er'](),_0x5b4189['bindBuffer'](_0x3c9dcc,this['bufferId']),_0x5b4189['bufferData'](_0x3c9dcc,_0x1535f7,_0x1049d2);}}}class XT extends jy{constructor(){super(...arguments),h(this,'vao',null);}['destroy'](_0x6fa505){super['destroy'](_0x6fa505),_0x6fa505['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x27f558){const _0x2cf2b2=_0x27f558['device'];super['unlock'](_0x2cf2b2,_0x27f558['usage'],_0x2cf2b2['gl']['ARRAY_BUFF'+'ER'],_0x27f558['storage']);}}class qT extends jy{constructor(_0x4e23e){super();const _0x1e531e=_0x4e23e['device']['gl'],_0x2e2dc5=_0x4e23e['format'];_0x2e2dc5===$f?this['glFormat']=_0x1e531e['UNSIGNED_B'+'YTE']:_0x2e2dc5===Yi?this['glFormat']=_0x1e531e['UNSIGNED_S'+'HORT']:_0x2e2dc5===wr&&(this['glFormat']=_0x1e531e['UNSIGNED_I'+'NT']);}['unlock'](_0x50283f){const _0x8eda0c=_0x50283f['device'];super['unlock'](_0x8eda0c,_0x50283f['usage'],_0x8eda0c['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x50283f['storage']);}}class jT{constructor(_0x2ddd22,_0x438675,_0x45bf69,_0x3e3f78){if(this['locationId']=_0x3e3f78,this['scopeId']=_0x2ddd22['scope']['resolve'](_0x438675),this['version']=new Uy(),_0x438675['substring'](_0x438675['length']-(0x66c+-0x245*-0x5+-0x11c2*0x1))==='[0]')switch(_0x45bf69){case Xs:_0x45bf69=ud;break;case _a:_0x45bf69=Bn;break;case Fn:_0x45bf69=_d;break;case Tn:_0x45bf69=gd;break;case ga:_0x45bf69=pd;break;case ca:_0x45bf69=zn;break;case Nn:_0x45bf69=Sd;break;case tl:_0x45bf69=yd;break;case ds:_0x45bf69=md;break;case ha:_0x45bf69=Vn;break;case kn:_0x45bf69=vd;break;case sl:_0x45bf69=xd;break;case Rn:_0x45bf69=Lp;break;case da:_0x45bf69=gh;break;case Un:_0x45bf69=Rp;break;case il:_0x45bf69=Op;break;}this['dataType']=_0x45bf69,this['value']=[null,null,null,null],this['array']=[];}}let l_=0x193+-0x62*0x65+0x2517;const YT=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class KT{constructor(){h(this,'map',new Map());}['destroy'](_0x4161d5){this['map']['forEach'](_0x36c633=>{_0x4161d5['gl']['deleteShad'+'er'](_0x36c633);});}['loseContex'+'t'](_0x4b568b){this['map']['clear']();}}const ZT=new Kt(),QT=new Kt();class JT{constructor(_0x202326){h(this,'compileDur'+'ation',-0x4*-0x1e2+-0x19da*-0x1+-0x2162*0x1),(this['init'](),this['compile'](_0x202326['device'],_0x202326),this['link'](_0x202326['device'],_0x202326),_0x202326['device']['shaders']['push'](_0x202326));}['destroy'](_0x21ed04){this['glProgram']&&(_0x21ed04['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x9408f3,_0x14b10d){this['compile'](_0x9408f3,_0x14b10d),this['link'](_0x9408f3,_0x14b10d);}['compile'](_0x2364b2,_0x321641){const _0x36c1ae=_0x321641['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x2364b2,_0x36c1ae['vshader'],!(0x27*-0x4f+-0xad3*0x1+-0x16*-0x10a)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x2364b2,_0x36c1ae['fshader'],!(-0x4*-0x2ab+-0xc+-0xa9f));}['link'](_0x4676cd,_0x2d6b2c){if(this['glProgram'])return;const _0x21ae7d=_0x4676cd['gl'];if(_0x21ae7d['isContextL'+'ost']())return;let _0x1d6f3e=-0x98b+0xa3*-0x29+0x23a6;w['call'](()=>{this['compileDur'+'ation']=0x4dc+-0x25d7+-0x20fb*-0x1,_0x1d6f3e=de();});const _0x1d612e=_0x21ae7d['createProg'+'ram']();this['glProgram']=_0x1d612e,_0x21ae7d['attachShad'+'er'](_0x1d612e,this['glVertexSh'+'ader']),_0x21ae7d['attachShad'+'er'](_0x1d612e,this['glFragment'+'Shader']);const _0x126448=_0x2d6b2c['definition'],_0x597a9d=_0x126448['attributes'];if(_0x126448['useTransfo'+'rmFeedback']){const _0x578e84=[];for(const _0x5f2a95 in _0x597a9d)_0x597a9d['hasOwnProp'+'erty'](_0x5f2a95)&&_0x578e84['push']('out_'+_0x5f2a95);_0x21ae7d['transformF'+'eedbackVar'+'yings'](_0x1d612e,_0x578e84,_0x21ae7d['INTERLEAVE'+'D_ATTRIBS']);}const _0x3e02c1={};for(const _0x41f7c6 in _0x597a9d)if(_0x597a9d['hasOwnProp'+'erty'](_0x41f7c6)){const _0x3515ff=_0x597a9d[_0x41f7c6],_0x169fc8=Le[_0x3515ff];w['assert'](!_0x3e02c1['hasOwnProp'+'erty'](_0x169fc8),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x3e02c1[_0x169fc8]+'\x20and\x20'+_0x41f7c6),_0x3e02c1[_0x169fc8]=_0x41f7c6,_0x21ae7d['bindAttrib'+'Location'](_0x1d612e,_0x169fc8,_0x41f7c6);}_0x21ae7d['linkProgra'+'m'](_0x1d612e),w['call'](()=>{this['compileDur'+'ation']=de()-_0x1d6f3e;}),_0x4676cd['_shaderSta'+'ts']['linked']++,_0x126448['tag']===Sy&&_0x4676cd['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x43fe90,_0x2467f5,_0x4aa40e){const _0x52e496=_0x43fe90['gl'];if(_0x52e496['isContextL'+'ost']())return null;const _0x923ad8=(_0x4aa40e?ZT:QT)['get'](_0x43fe90,()=>new KT());let _0x5c464c=_0x923ad8['map']['get'](_0x2467f5);if(!_0x5c464c){const _0x553c0c=de();_0x43fe90['fire']('shader:com'+'pile:start',{'timestamp':_0x553c0c,'target':_0x43fe90}),_0x5c464c=_0x52e496['createShad'+'er'](_0x4aa40e?_0x52e496['VERTEX_SHA'+'DER']:_0x52e496['FRAGMENT_S'+'HADER']),_0x52e496['shaderSour'+'ce'](_0x5c464c,_0x2467f5),_0x52e496['compileSha'+'der'](_0x5c464c),_0x923ad8['map']['set'](_0x2467f5,_0x5c464c);const _0x18b745=de();_0x43fe90['fire']('shader:com'+'pile:end',{'timestamp':_0x18b745,'target':_0x43fe90}),_0x43fe90['_shaderSta'+'ts']['compileTim'+'e']+=_0x18b745-_0x553c0c,_0x4aa40e?_0x43fe90['_shaderSta'+'ts']['vsCompiled']++:_0x43fe90['_shaderSta'+'ts']['fsCompiled']++;}return _0x5c464c;}['finalize'](_0xb71e1e,_0x1665e7){var _0x3d9a61,_0x4cf52a;const _0x410506=_0xb71e1e['gl'];if(_0x410506['isContextL'+'ost']())return!(-0x1*-0x2218+0x154b+-0x3763);const _0x5d075d=this['glProgram'],_0x556091=_0x1665e7['definition'],_0x97a430=de();_0xb71e1e['fire']('shader:lin'+'k:start',{'timestamp':_0x97a430,'target':_0xb71e1e});let _0x2221ec=0x2*0x8eb+-0x581+-0xc55;if(w['call'](()=>{_0x2221ec=de();}),!_0x410506['getProgram'+'Parameter'](_0x5d075d,_0x410506['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0xb71e1e,_0x1665e7,this['glVertexSh'+'ader'],_0x556091['vshader'],'vertex')||!this['_isCompile'+'d'](_0xb71e1e,_0x1665e7,this['glFragment'+'Shader'],_0x556091['fshader'],'fragment'))return!(-0x3*-0x7ca+-0x1911+0x1b4);const _0x5f39cd='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x410506['getProgram'+'InfoLog'](_0x5d075d);return _0x556091['translated'+'Frag']=(_0x3d9a61=_0x410506['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x1794+0x1eb5*-0x1+0x721):_0x3d9a61['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x556091['translated'+'Vert']=(_0x4cf52a=_0x410506['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x971*-0x4+-0x178d+0x3d51):_0x4cf52a['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x5f39cd,_0x556091),console['error'](_0x5f39cd),!(0x314+-0x1*0x20fd+-0xe*-0x223);}const _0x1e0808=_0x410506['getProgram'+'Parameter'](_0x5d075d,_0x410506['ACTIVE_ATT'+'RIBUTES']);_0x1665e7['attributes']['clear']();for(let _0x5092df=-0x1*-0x1871+-0x1a9*0x13+0x71a;_0x5092df<_0x1e0808;_0x5092df++){const _0x1b91ac=_0x410506['getActiveA'+'ttrib'](_0x5d075d,_0x5092df),_0x21c158=_0x410506['getAttribL'+'ocation'](_0x5d075d,_0x1b91ac['name']);YT['has'](_0x1b91ac['name'])||(_0x556091['attributes'][_0x1b91ac['name']]===void(0x1706+0x2077*-0x1+0x971)?(console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x1b91ac['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x1665e7['label']+']',_0x1665e7),_0x1665e7['failed']=!(0x2078+0x1*0x14bd+-0x3535*0x1)):_0x1665e7['attributes']['set'](_0x21c158,_0x1b91ac['name']));}const _0x406c92=_0xb71e1e['_samplerTy'+'pes'],_0x3d479a=_0x410506['getProgram'+'Parameter'](_0x5d075d,_0x410506['ACTIVE_UNI'+'FORMS']);for(let _0xa17287=0xc11+-0x1f95+0x1384;_0xa17287<_0x3d479a;_0xa17287++){const _0x524672=_0x410506['getActiveU'+'niform'](_0x5d075d,_0xa17287),_0x34d00b=_0x410506['getUniform'+'Location'](_0x5d075d,_0x524672['name']),_0x15522f=new jT(_0xb71e1e,_0x524672['name'],_0xb71e1e['pcUniformT'+'ype'][_0x524672['type']],_0x34d00b);_0x406c92['has'](_0x524672['type'])?this['samplers']['push'](_0x15522f):this['uniforms']['push'](_0x15522f);}_0x1665e7['ready']=!(-0x1032+-0x3*-0x6b1+0x3e1*-0x1);const _0x57a8f4=de();return _0xb71e1e['fire']('shader:lin'+'k:end',{'timestamp':_0x57a8f4,'target':_0xb71e1e}),_0xb71e1e['_shaderSta'+'ts']['compileTim'+'e']+=_0x57a8f4-_0x97a430,w['call'](()=>{const _0x12b7b3=de()-_0x2221ec;this['compileDur'+'ation']+=_0x12b7b3,l_+=this['compileDur'+'ation'],w['trace']($0,'[id:\x20'+_0x1665e7['id']+']\x20'+_0x1665e7['name']+':\x20'+this['compileDur'+'ation']['toFixed'](-0x1*-0xe0e+0x1a52+-0x285f*0x1)+('ms,\x20TOTAL:'+'\x20')+l_['toFixed'](0x535*0x3+-0x3e3*-0xa+-0x367c)+'ms');}),!(0x17*-0x13d+-0x6e4+-0x713*-0x5);}['_isCompile'+'d'](_0xa314e3,_0x21e4be,_0x3fe6aa,_0x573d2a,_0x2b97f4){const _0x11b47c=_0xa314e3['gl'];if(!_0x11b47c['getShaderP'+'arameter'](_0x3fe6aa,_0x11b47c['COMPILE_ST'+'ATUS'])){const _0x2faa4b=_0x11b47c['getShaderI'+'nfoLog'](_0x3fe6aa),[_0xe65ea3,_0xd1788e]=this['_processEr'+'ror'](_0x573d2a,_0x2faa4b),_0x55ad40='Failed\x20to\x20'+'compile\x20'+_0x2b97f4+'\x20shader:\x0a\x0a'+_0x2faa4b+'\x0a'+_0xe65ea3+('\x20while\x20ren'+'dering\x20')+Q['toString']();return _0xd1788e['shader']=_0x21e4be,console['error'](_0x55ad40,_0xd1788e),console['error'](_0x55ad40),!(0x13f5+0xc3a*-0x2+0x480);}return!(-0x3*-0x46+0x11f5*0x2+-0x24bc);}['isLinked'](_0x4ece62){const {extParallelShaderCompile:_0x3269b9}=_0x4ece62;return _0x3269b9?_0x4ece62['gl']['getProgram'+'Parameter'](this['glProgram'],_0x3269b9['COMPLETION'+'_STATUS_KH'+'R']):!(0x83*-0x35+-0x4*-0x2dd+0xfab);}['_processEr'+'ror'](_0x220ccb,_0x3edd10){const _0x2a6622={};let _0x1c3602='';if(_0x220ccb){const _0x549356=_0x220ccb['split']('\x0a');let _0x125ea7=-0xce4+-0x2ab*0x6+0x1ce6,_0x510b9a=_0x549356['length'];if(_0x3edd10&&_0x3edd10['startsWith']('ERROR:')){const _0x11fdf8=_0x3edd10['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x11fdf8&&(_0x2a6622['message']=_0x11fdf8[0x1*-0x161b+-0x1e0f+-0x169*-0x25],_0x2a6622['line']=parseInt(_0x11fdf8[-0x4f7*-0x1+0x2*-0x9bb+0xe81],-0x1*-0x1124+-0x3c*0x67+0x70a),_0x125ea7=Math['max'](-0x218b+-0x184a+-0x3*-0x1347,_0x2a6622['line']-(0x3a6*0x4+-0x75*-0x45+-0x2e1b)),_0x510b9a=Math['min'](_0x549356['length'],_0x2a6622['line']+(-0x14f+-0x61*-0x62+-0x23ce)));}for(let _0x94b7ce=_0x125ea7;_0x94b7ce<_0x510b9a;_0x94b7ce++){const _0x28f2e5=_0x94b7ce+(0x3*0x31d+-0x1*0x1b9d+0x1247)===_0x2a6622['line']?'>\x20':'\x20\x20';_0x1c3602+=''+_0x28f2e5+(_0x94b7ce+(-0x1bec+-0x77c+0x2369))+':\x09'+_0x549356[_0x94b7ce]+'\x0a';}_0x2a6622['source']=_0x220ccb;}return[_0x1c3602,_0x2a6622];}}function c_(_0x4099aa,_0x338172){const _0x24d18d=_0x4099aa['width'],_0x3dcc30=_0x4099aa['height'];if(_0x24d18d>_0x338172||_0x3dcc30>_0x338172){const _0x4d5bc8=_0x338172/Math['max'](_0x24d18d,_0x3dcc30),_0x53ba31=Math['floor'](_0x24d18d*_0x4d5bc8),_0x1fc24e=Math['floor'](_0x3dcc30*_0x4d5bc8);w['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x338172+('.\x20Resizing'+'\x20from\x20')+_0x24d18d+',\x20'+_0x3dcc30+'\x20to\x20'+_0x53ba31+',\x20'+_0x1fc24e+'.');const _0x21ec5d=document['createElem'+'ent']('canvas');return _0x21ec5d['width']=_0x53ba31,_0x21ec5d['height']=_0x1fc24e,_0x21ec5d['getContext']('2d')['drawImage'](_0x4099aa,-0x7fb+0x2659+-0x12b*0x1a,0x23f7+-0x1333+0x3a*-0x4a,_0x24d18d,_0x3dcc30,0x15*-0x7+-0xb*0x14d+-0xfe*-0xf,-0x373*0x9+-0xbe+0x1fc9,_0x53ba31,_0x1fc24e),_0x21ec5d;}return _0x4099aa;}class ew{constructor(_0x65fd81){h(this,'_glTexture',null),h(this,'_glTarget'),h(this,'_glFormat'),h(this,'_glInterna'+'lFormat'),h(this,'_glPixelTy'+'pe'),h(this,'_glCreated'),h(this,'dirtyParam'+'eterFlags',0x1*-0x56d+-0x29*-0xa6+-0x1529*0x1),this['texture']=_0x65fd81;}['destroy'](_0x30c1e3){if(this['_glTexture']){for(let _0x1e54be=-0xf0f*-0x1+-0x1*-0xfe1+0x210*-0xf;_0x1e54be<_0x30c1e3['textureUni'+'ts']['length'];_0x1e54be++){const _0x59b4ea=_0x30c1e3['textureUni'+'ts'][_0x1e54be];for(let _0x16c7a1=-0x1abb+0x95f*-0x4+0x4037;_0x16c7a1<_0x59b4ea['length'];_0x16c7a1++)_0x59b4ea[_0x16c7a1]===this['_glTexture']&&(_0x59b4ea[_0x16c7a1]=null);}_0x30c1e3['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x2b6822){this['dirtyParam'+'eterFlags']|=_0x2b6822;}['initialize'](_0xf10187,_0x293da1){const _0x29e4f4=_0xf10187['gl'];switch(this['_glTexture']=_0x29e4f4['createText'+'ure'](),this['_glTarget']=_0x293da1['_cubemap']?_0x29e4f4['TEXTURE_CU'+'BE_MAP']:_0x293da1['_volume']?_0x29e4f4['TEXTURE_3D']:_0x293da1['array']?_0x29e4f4['TEXTURE_2D'+'_ARRAY']:_0x29e4f4['TEXTURE_2D'],_0x293da1['_format']){case ty:this['_glFormat']=_0x29e4f4['ALPHA'],this['_glInterna'+'lFormat']=_0x29e4f4['ALPHA'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_B'+'YTE'];break;case sy:this['_glFormat']=_0x29e4f4['LUMINANCE'],this['_glInterna'+'lFormat']=_0x29e4f4['LUMINANCE'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_B'+'YTE'];break;case ap:this['_glFormat']=_0x29e4f4['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x29e4f4['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_B'+'YTE'];break;case Ep:this['_glFormat']=_0x29e4f4['RED'],this['_glInterna'+'lFormat']=_0x29e4f4['R8'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_B'+'YTE'];break;case bp:this['_glFormat']=_0x29e4f4['RG'],this['_glInterna'+'lFormat']=_0x29e4f4['RG8'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_B'+'YTE'];break;case Jh:this['_glFormat']=_0x29e4f4['RGB'],this['_glInterna'+'lFormat']=_0x29e4f4['RGB565'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_S'+'HORT_5_6_5'];break;case np:this['_glFormat']=_0x29e4f4['RGBA'],this['_glInterna'+'lFormat']=_0x29e4f4['RGB5_A1'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case ed:this['_glFormat']=_0x29e4f4['RGBA'],this['_glInterna'+'lFormat']=_0x29e4f4['RGBA4'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case Cr:this['_glFormat']=_0x29e4f4['RGB'],this['_glInterna'+'lFormat']=_0x29e4f4['RGB8'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_B'+'YTE'];break;case Ne:this['_glFormat']=_0x29e4f4['RGBA'],this['_glInterna'+'lFormat']=_0x29e4f4['RGBA8'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_B'+'YTE'];break;case ny:case hy:w['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case td:this['_glFormat']=_0x29e4f4['RGB'],this['_glInterna'+'lFormat']=_0xf10187['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case op:this['_glFormat']=_0x29e4f4['RGBA'],this['_glInterna'+'lFormat']=_0xf10187['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case vl:this['_glFormat']=_0x29e4f4['RGBA'],this['_glInterna'+'lFormat']=_0xf10187['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case id:this['_glFormat']=_0x29e4f4['RGB'],this['_glInterna'+'lFormat']=_0xf10187['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case xl:this['_glFormat']=_0x29e4f4['RGB'],this['_glInterna'+'lFormat']=_0xf10187['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Tl:this['_glFormat']=_0x29e4f4['RGBA'],this['_glInterna'+'lFormat']=_0xf10187['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case rd:this['_glFormat']=_0x29e4f4['RGB'],this['_glInterna'+'lFormat']=_0xf10187['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case ad:this['_glFormat']=_0x29e4f4['RGBA'],this['_glInterna'+'lFormat']=_0xf10187['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case cp:this['_glFormat']=_0x29e4f4['RGB'],this['_glInterna'+'lFormat']=_0xf10187['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case hp:this['_glFormat']=_0x29e4f4['RGBA'],this['_glInterna'+'lFormat']=_0xf10187['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case iy:this['_glFormat']=_0x29e4f4['RGBA'],this['_glInterna'+'lFormat']=_0xf10187['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case ry:this['_glFormat']=_0x29e4f4['RGB'],this['_glInterna'+'lFormat']=_0xf10187['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case ay:this['_glFormat']=_0x29e4f4['RGBA'],this['_glInterna'+'lFormat']=_0xf10187['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case dy:this['_glFormat']=_0x29e4f4['RGB'],this['_glInterna'+'lFormat']=_0xf10187['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case fy:this['_glFormat']=_0x29e4f4['RGB'],this['_glInterna'+'lFormat']=_0xf10187['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case uy:this['_glFormat']=_0x29e4f4['RGBA'],this['_glInterna'+'lFormat']=_0xf10187['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case Xf:this['_glFormat']=_0x29e4f4['SRGB'],this['_glInterna'+'lFormat']=_0xf10187['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case qf:this['_glFormat']=_0x29e4f4['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0xf10187['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case jf:this['_glFormat']=_0x29e4f4['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0xf10187['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case Yf:this['_glFormat']=_0x29e4f4['SRGB'],this['_glInterna'+'lFormat']=_0xf10187['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case Kf:this['_glFormat']=_0x29e4f4['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0xf10187['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Zf:this['_glFormat']=_0x29e4f4['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0xf10187['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case Qf:this['_glFormat']=_0x29e4f4['RGBA'],this['_glInterna'+'lFormat']=_0xf10187['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case od:this['_glFormat']=_0x29e4f4['RED'],this['_glInterna'+'lFormat']=_0x29e4f4['R16F'],this['_glPixelTy'+'pe']=_0x29e4f4['HALF_FLOAT'];break;case wp:this['_glFormat']=_0x29e4f4['RG'],this['_glInterna'+'lFormat']=_0x29e4f4['RG16F'],this['_glPixelTy'+'pe']=_0x29e4f4['HALF_FLOAT'];break;case ui:this['_glFormat']=_0x29e4f4['RGB'],this['_glInterna'+'lFormat']=_0x29e4f4['RGB16F'],this['_glPixelTy'+'pe']=_0x29e4f4['HALF_FLOAT'];break;case nt:this['_glFormat']=_0x29e4f4['RGBA'],this['_glInterna'+'lFormat']=_0x29e4f4['RGBA16F'],this['_glPixelTy'+'pe']=_0x29e4f4['HALF_FLOAT'];break;case Ye:this['_glFormat']=_0x29e4f4['RGB'],this['_glInterna'+'lFormat']=_0x29e4f4['RGB32F'],this['_glPixelTy'+'pe']=_0x29e4f4['FLOAT'];break;case Xt:this['_glFormat']=_0x29e4f4['RGBA'],this['_glInterna'+'lFormat']=_0x29e4f4['RGBA32F'],this['_glPixelTy'+'pe']=_0x29e4f4['FLOAT'];break;case Ji:this['_glFormat']=_0x29e4f4['RED'],this['_glInterna'+'lFormat']=_0x29e4f4['R32F'],this['_glPixelTy'+'pe']=_0x29e4f4['FLOAT'];break;case $i:this['_glFormat']=_0x29e4f4['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x29e4f4['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x29e4f4['FLOAT'];break;case vn:this['_glFormat']=_0x29e4f4['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x29e4f4['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_S'+'HORT'];break;case sd:this['_glFormat']=_0x29e4f4['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x29e4f4['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_I'+'NT_24_8'];break;case In:this['_glFormat']=_0x29e4f4['RGB'],this['_glInterna'+'lFormat']=_0x29e4f4['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case lp:this['_glFormat']=_0x29e4f4['RGB'],this['_glInterna'+'lFormat']=_0x29e4f4['SRGB8'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_B'+'YTE'];break;case _s:this['_glFormat']=_0x29e4f4['RGBA'],this['_glInterna'+'lFormat']=_0x29e4f4['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_B'+'YTE'];break;case dp:this['_glFormat']=_0x29e4f4['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x29e4f4['R8I'],this['_glPixelTy'+'pe']=_0x29e4f4['BYTE'];break;case oy:this['_glFormat']=_0x29e4f4['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x29e4f4['R8UI'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_B'+'YTE'];break;case fp:this['_glFormat']=_0x29e4f4['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x29e4f4['R16I'],this['_glPixelTy'+'pe']=_0x29e4f4['SHORT'];break;case up:this['_glFormat']=_0x29e4f4['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x29e4f4['R16UI'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_S'+'HORT'];break;case pp:this['_glFormat']=_0x29e4f4['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x29e4f4['R32I'],this['_glPixelTy'+'pe']=_0x29e4f4['INT'];break;case Ki:this['_glFormat']=_0x29e4f4['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x29e4f4['R32UI'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_I'+'NT'];break;case mp:this['_glFormat']=_0x29e4f4['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x29e4f4['RG8I'],this['_glPixelTy'+'pe']=_0x29e4f4['BYTE'];break;case ly:this['_glFormat']=_0x29e4f4['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x29e4f4['RG8UI'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_B'+'YTE'];break;case _p:this['_glFormat']=_0x29e4f4['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x29e4f4['RG16I'],this['_glPixelTy'+'pe']=_0x29e4f4['SHORT'];break;case gp:this['_glFormat']=_0x29e4f4['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x29e4f4['RG16UI'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_S'+'HORT'];break;case Sp:this['_glFormat']=_0x29e4f4['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x29e4f4['RG32I'],this['_glPixelTy'+'pe']=_0x29e4f4['INT'];break;case yp:this['_glFormat']=_0x29e4f4['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x29e4f4['RG32UI'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_I'+'NT'];break;case vp:this['_glFormat']=_0x29e4f4['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x29e4f4['RGBA8I'],this['_glPixelTy'+'pe']=_0x29e4f4['BYTE'];break;case cy:this['_glFormat']=_0x29e4f4['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x29e4f4['RGBA8UI'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_B'+'YTE'];break;case xp:this['_glFormat']=_0x29e4f4['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x29e4f4['RGBA16I'],this['_glPixelTy'+'pe']=_0x29e4f4['SHORT'];break;case nd:this['_glFormat']=_0x29e4f4['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x29e4f4['RGBA16UI'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_S'+'HORT'];break;case Tp:this['_glFormat']=_0x29e4f4['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x29e4f4['RGBA32I'],this['_glPixelTy'+'pe']=_0x29e4f4['INT'];break;case Ue:this['_glFormat']=_0x29e4f4['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x29e4f4['RGBA32UI'],this['_glPixelTy'+'pe']=_0x29e4f4['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(-0x1de8+0x4df+-0x281*-0xa);}['upload'](_0x20325e,_0x2674f3){w['assert'](_0x2674f3['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x2674f3);const _0x1d7f72=_0x20325e['gl'];if(!_0x2674f3['_needsUplo'+'ad']&&(_0x2674f3['_needsMipm'+'apsUpload']&&_0x2674f3['_mipmapsUp'+'loaded']||!_0x2674f3['pot']))return;let _0x43cda4=0x2*0x755+-0x1*-0x8b+-0xf35,_0x51de53,_0x191384;const _0x41ea41=_0x2674f3['numLevels'];for(_0x2674f3['array']&&_0x1d7f72['texStorage'+'3D'](_0x1d7f72['TEXTURE_2D'+'_ARRAY'],_0x41ea41,this['_glInterna'+'lFormat'],_0x2674f3['_width'],_0x2674f3['_height'],_0x2674f3['_arrayLeng'+'th']);_0x2674f3['_levels'][_0x43cda4]||_0x43cda4===-0x1*0x22d+0xc1*0x13+0xc26*-0x1;){if(!_0x2674f3['_needsUplo'+'ad']&&_0x43cda4===0xad9*-0x2+-0x210f*0x1+-0x36c1*-0x1){_0x43cda4++;continue;}else{if(_0x43cda4&&(!_0x2674f3['_needsMipm'+'apsUpload']||!_0x2674f3['_mipmaps']))break;}if(_0x51de53=_0x2674f3['_levels'][_0x43cda4],_0x191384=(-0xa01+-0x24*0x54+0x15d2)/Math['pow'](-0x33*0xc3+0x1263+0x1478,_0x43cda4),_0x43cda4===-0x244c+-0x25ea*0x1+0x4a37&&!_0x2674f3['_compresse'+'d']&&!_0x2674f3['_integerFo'+'rmat']&&_0x2674f3['_levels']['length']<_0x41ea41&&(_0x1d7f72['generateMi'+'pmap'](this['_glTarget']),_0x2674f3['_mipmapsUp'+'loaded']=!(0x1a57+-0x3d3+-0x1684)),_0x2674f3['_cubemap']){let _0x4b9231;if(_0x20325e['_isBrowser'+'Interface'](_0x51de53[-0x363+0xc2*-0x29+0x2275]))for(_0x4b9231=0x63f+-0x11c2+0xb83;_0x4b9231<0x11c4+-0xab4+-0x70a*0x1;_0x4b9231++){if(!_0x2674f3['_levelsUpd'+'ated'][-0x1*-0x1885+-0x1*0x1941+0xbc][_0x4b9231])continue;let _0x12e54e=_0x51de53[_0x4b9231];_0x20325e['_isImageBr'+'owserInter'+'face'](_0x12e54e)&&(_0x12e54e['width']>_0x20325e['maxCubeMap'+'Size']||_0x12e54e['height']>_0x20325e['maxCubeMap'+'Size'])&&(_0x12e54e=c_(_0x12e54e,_0x20325e['maxCubeMap'+'Size']),_0x43cda4===0xac1*-0x1+-0x113d+0x1bfe&&(_0x2674f3['_width']=_0x12e54e['width'],_0x2674f3['_height']=_0x12e54e['height'])),_0x20325e['setUnpackF'+'lipY'](!(0xc*-0x254+0x1256+0x99b)),_0x20325e['setUnpackP'+'remultiply'+'Alpha'](_0x2674f3['_premultip'+'lyAlpha']),this['_glCreated']?_0x1d7f72['texSubImag'+'e2D'](_0x1d7f72['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4b9231,_0x43cda4,-0xa57*-0x1+0x90b+0x6*-0x33b,-0x2*-0x1344+-0x1af+-0x24d9,this['_glFormat'],this['_glPixelTy'+'pe'],_0x12e54e):_0x1d7f72['texImage2D'](_0x1d7f72['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4b9231,_0x43cda4,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x12e54e);}else for(_0x191384=(0x177*-0xd+0x7*0x4c3+-0xe49)/Math['pow'](0x1756+0x20e9+0x383d*-0x1,_0x43cda4),_0x4b9231=-0x973+-0x5*0x6d1+0x2b88;_0x4b9231<-0x1*0xf69+-0x3fb*0x4+0x1f5b;_0x4b9231++){if(!_0x2674f3['_levelsUpd'+'ated'][0x1*0x1e7e+-0x217b+-0x1*-0x2fd][_0x4b9231])continue;const _0x3082a3=_0x51de53[_0x4b9231];_0x2674f3['_compresse'+'d']?this['_glCreated']&&_0x3082a3?_0x1d7f72['compressed'+'TexSubImag'+'e2D'](_0x1d7f72['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4b9231,_0x43cda4,-0xbcb*0x1+0x13cd+-0x5*0x19a,-0x1*-0x154a+-0x1fea+0x20*0x55,Math['max'](_0x2674f3['_width']*_0x191384,0x1a29+-0xc70*-0x1+-0x2698),Math['max'](_0x2674f3['_height']*_0x191384,0x22c5+0x1*-0x13d0+0x15c*-0xb),this['_glInterna'+'lFormat'],_0x3082a3):_0x1d7f72['compressed'+'TexImage2D'](_0x1d7f72['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4b9231,_0x43cda4,this['_glInterna'+'lFormat'],Math['max'](_0x2674f3['_width']*_0x191384,0x219a+-0x13+-0x2186),Math['max'](_0x2674f3['_height']*_0x191384,-0xb*-0xb9+-0xb*-0x1df+-0x1c87),0x1f03*-0x1+-0x188c+0x50d*0xb,_0x3082a3):(_0x20325e['setUnpackF'+'lipY'](!(0xd8b+0x1805*-0x1+-0x1*-0xa7b)),_0x20325e['setUnpackP'+'remultiply'+'Alpha'](_0x2674f3['_premultip'+'lyAlpha']),this['_glCreated']&&_0x3082a3?_0x1d7f72['texSubImag'+'e2D'](_0x1d7f72['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4b9231,_0x43cda4,-0xb48+-0x275*0x4+-0xa8e*-0x2,-0x1df0+-0x43a*0x2+-0x1a*-0x17a,Math['max'](_0x2674f3['_width']*_0x191384,-0x1*-0x148a+0x1721+-0x36*0xcf),Math['max'](_0x2674f3['_height']*_0x191384,-0x5cc+0xa1*-0x1a+0x1627),this['_glFormat'],this['_glPixelTy'+'pe'],_0x3082a3):_0x1d7f72['texImage2D'](_0x1d7f72['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4b9231,_0x43cda4,this['_glInterna'+'lFormat'],Math['max'](_0x2674f3['_width']*_0x191384,-0xafd+-0xc45+-0x18d*-0xf),Math['max'](_0x2674f3['_height']*_0x191384,-0x874*-0x2+-0x19ba+0x8d3),0x96f+0x16ff+-0x206e,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3082a3));}}else{if(_0x2674f3['_volume'])_0x2674f3['_compresse'+'d']?_0x1d7f72['compressed'+'TexImage3D'](_0x1d7f72['TEXTURE_3D'],_0x43cda4,this['_glInterna'+'lFormat'],Math['max'](_0x2674f3['_width']*_0x191384,0x43a*-0x2+0x4ee*-0x5+0x211b),Math['max'](_0x2674f3['_height']*_0x191384,0x19c+0x1ae2+-0x3*0x97f),Math['max'](_0x2674f3['_depth']*_0x191384,-0x3dc*-0x6+0x1*-0xe13+0x48a*-0x2),-0x7fe+0xae7*-0x1+0x12e5,_0x51de53):(_0x20325e['setUnpackF'+'lipY'](!(-0x35*0x35+0xbee+-0x7a*0x2)),_0x20325e['setUnpackP'+'remultiply'+'Alpha'](_0x2674f3['_premultip'+'lyAlpha']),_0x1d7f72['texImage3D'](_0x1d7f72['TEXTURE_3D'],_0x43cda4,this['_glInterna'+'lFormat'],Math['max'](_0x2674f3['_width']*_0x191384,-0x37*0x84+-0x231c+0x3f79),Math['max'](_0x2674f3['_height']*_0x191384,0xb*-0x205+0x714+0x11*0xe4),Math['max'](_0x2674f3['_depth']*_0x191384,0x704*0x3+0x2*-0x9a3+-0x3*0x97),-0x24a0+-0xf63+0x3403,this['_glFormat'],this['_glPixelTy'+'pe'],_0x51de53));else{if(_0x2674f3['array']&&typeof _0x51de53=='object'){if(_0x2674f3['_arrayLeng'+'th']===_0x51de53['length']){if(_0x2674f3['_compresse'+'d']){for(let _0x314b0a=-0x159*0x17+0x5*0x617+0x8c;_0x314b0a<_0x2674f3['_arrayLeng'+'th'];_0x314b0a++)_0x1d7f72['compressed'+'TexSubImag'+'e3D'](_0x1d7f72['TEXTURE_2D'+'_ARRAY'],_0x43cda4,-0x4c*0x16+-0x228a+0x2912,0xff3+0x7b2*0x2+-0x1f57,_0x314b0a,Math['max'](Math['floor'](_0x2674f3['_width']*_0x191384),-0x61f*-0x2+-0x2e9+-0x954),Math['max'](Math['floor'](_0x2674f3['_height']*_0x191384),-0x23*-0x10d+0x15*0x1c5+0x837*-0x9),0x459+-0x3*0x3b9+-0x1*-0x6d3,this['_glInterna'+'lFormat'],_0x51de53[_0x314b0a]);}else{for(let _0xc27185=0x6b*-0x4f+-0x47*-0x62+0x5d7;_0xc27185<_0x2674f3['_arrayLeng'+'th'];_0xc27185++)_0x1d7f72['texSubImag'+'e3D'](_0x1d7f72['TEXTURE_2D'+'_ARRAY'],_0x43cda4,0x1497+-0x26c0+0x1229,-0x9*0xb5+0x1bd6+0x17*-0xef,_0xc27185,Math['max'](Math['floor'](_0x2674f3['_width']*_0x191384),-0x14c6+0x1100+0x3c7),Math['max'](Math['floor'](_0x2674f3['_height']*_0x191384),-0x15f7+-0x1*-0x1b79+-0x581),0x17b*0x1a+-0x6*-0x3fe+-0x3e71,this['_glFormat'],this['_glPixelTy'+'pe'],_0x51de53[_0xc27185]);}}}else{if(_0x20325e['_isBrowser'+'Interface'](_0x51de53)){_0x20325e['_isImageBr'+'owserInter'+'face'](_0x51de53)&&(_0x51de53['width']>_0x20325e['maxTexture'+'Size']||_0x51de53['height']>_0x20325e['maxTexture'+'Size'])&&(_0x51de53=c_(_0x51de53,_0x20325e['maxTexture'+'Size']),_0x43cda4===0x1fb5+-0x2e*0x58+-0xfe5&&(_0x2674f3['_width']=_0x51de53['width'],_0x2674f3['_height']=_0x51de53['height']));const _0x3d382d=_0x51de53['width']||_0x51de53['videoWidth'],_0x4ad130=_0x51de53['height']||_0x51de53['videoHeigh'+'t'];_0x20325e['setUnpackF'+'lipY'](_0x2674f3['_flipY']),_0x20325e['setUnpackP'+'remultiply'+'Alpha'](_0x2674f3['_premultip'+'lyAlpha']),this['_glCreated']&&_0x2674f3['_width']===_0x3d382d&&_0x2674f3['_height']===_0x4ad130&&!_0x20325e['_isImageVi'+'deoInterfa'+'ce'](_0x51de53)?_0x1d7f72['texSubImag'+'e2D'](_0x1d7f72['TEXTURE_2D'],_0x43cda4,-0x46a+-0x2090*0x1+-0x2*-0x127d,0x6fa+-0x1022+0x928,this['_glFormat'],this['_glPixelTy'+'pe'],_0x51de53):(_0x1d7f72['texImage2D'](_0x1d7f72['TEXTURE_2D'],_0x43cda4,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x51de53),_0x43cda4===-0x62+0x1485+0x407*-0x5&&(_0x2674f3['_width']=_0x3d382d,_0x2674f3['_height']=_0x4ad130));}else _0x191384=(-0x1105+-0x237b*0x1+0x1*0x3481)/Math['pow'](0x421*-0x6+0x18b3*0x1+0x3*0x7,_0x43cda4),_0x2674f3['_compresse'+'d']?this['_glCreated']&&_0x51de53?_0x1d7f72['compressed'+'TexSubImag'+'e2D'](_0x1d7f72['TEXTURE_2D'],_0x43cda4,0xcd4*0x2+-0x4*0x301+-0xda4,0xfb*0x20+-0x11dc+-0x15a*0xa,Math['max'](Math['floor'](_0x2674f3['_width']*_0x191384),0x129e+0xdab*-0x2+0x8b9),Math['max'](Math['floor'](_0x2674f3['_height']*_0x191384),-0x23b*0xd+0x16d3*-0x1+0x33d3),this['_glInterna'+'lFormat'],_0x51de53):_0x1d7f72['compressed'+'TexImage2D'](_0x1d7f72['TEXTURE_2D'],_0x43cda4,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x2674f3['_width']*_0x191384),-0x993+0xc66+-0x2d2),Math['max'](Math['floor'](_0x2674f3['_height']*_0x191384),0x1*0x8f5+0x1ede+-0x3*0xd46),0x25*0x11+0xf20+0x1195*-0x1,_0x51de53):(_0x20325e['setUnpackF'+'lipY'](!(-0xd2d*0x2+-0xd*0x11+0x1b38)),_0x20325e['setUnpackP'+'remultiply'+'Alpha'](_0x2674f3['_premultip'+'lyAlpha']),this['_glCreated']&&_0x51de53?_0x1d7f72['texSubImag'+'e2D'](_0x1d7f72['TEXTURE_2D'],_0x43cda4,0x1*0x2708+-0x257b+0x1*-0x18d,-0x2*0x3ee+0x422*-0x8+0x28ec,Math['max'](_0x2674f3['_width']*_0x191384,0x1f1a+0x73f+-0x2658),Math['max'](_0x2674f3['_height']*_0x191384,-0x4c5+0xe3*0x29+-0x1f95),this['_glFormat'],this['_glPixelTy'+'pe'],_0x51de53):_0x1d7f72['texImage2D'](_0x1d7f72['TEXTURE_2D'],_0x43cda4,this['_glInterna'+'lFormat'],Math['max'](_0x2674f3['_width']*_0x191384,0x49*0xf+-0x6*-0x109+-0xa7c),Math['max'](_0x2674f3['_height']*_0x191384,-0x48c+-0x101e+0x14ab),-0x14e+0x21eb+-0x209d,this['_glFormat'],this['_glPixelTy'+'pe'],_0x51de53));_0x43cda4===0x1*-0x1b53+0x223*0x2+0x34b*0x7?_0x2674f3['_mipmapsUp'+'loaded']=!(-0x52c+-0x1*-0x18c7+0x139a*-0x1):_0x2674f3['_mipmapsUp'+'loaded']=!(-0x26b3+0x939+-0xb*-0x2ae);}}}_0x43cda4++;}if(_0x2674f3['_needsUplo'+'ad']){if(_0x2674f3['_cubemap']){for(let _0x14801d=0x740*-0x4+-0x2dc+-0x2*-0xfee;_0x14801d<0x1*-0x4f1+0xad6*0x2+-0x10b5;_0x14801d++)_0x2674f3['_levelsUpd'+'ated'][-0x2672+0xc08+0x1a6a][_0x14801d]=!(-0x388+0x3*0x16f+-0x1c*0x7);}else _0x2674f3['_levelsUpd'+'ated'][0x96f+-0x117d+0x80e]=!(0x1e14+-0x21e*0x5+-0x137d);}!_0x2674f3['_compresse'+'d']&&!_0x2674f3['_integerFo'+'rmat']&&_0x2674f3['_mipmaps']&&_0x2674f3['_needsMipm'+'apsUpload']&&_0x2674f3['_levels']['length']===-0x1e*-0x92+0x1*0x8f1+0x1*-0x1a0c&&(_0x1d7f72['generateMi'+'pmap'](this['_glTarget']),_0x2674f3['_mipmapsUp'+'loaded']=!(-0x2541+-0xbef*-0x2+0x17*0x95)),_0x2674f3['_gpuSize']&&_0x2674f3['adjustVram'+'SizeTracki'+'ng'](_0x20325e['_vram'],-_0x2674f3['_gpuSize']),_0x2674f3['_gpuSize']=_0x2674f3['gpuSize'],_0x2674f3['adjustVram'+'SizeTracki'+'ng'](_0x20325e['_vram'],_0x2674f3['_gpuSize']),this['_glCreated']=!(-0x6*0x1b3+-0x16e5+0x2117*0x1);}['read'](_0x5a2a02,_0x5ce70b,_0x50618f,_0x174e3c,_0x1577aa){const _0x31995e=this['texture'];return _0x31995e['device']['readTextur'+'eAsync'](_0x31995e,_0x5a2a02,_0x5ce70b,_0x50618f,_0x174e3c,_0x1577aa);}['write'](_0x2d781e,_0x33f95b,_0x53828c,_0x3e51cf,_0x2f482f){const {texture:_0x138a15}=this,{device:_0x4354fa}=_0x138a15;return _0x4354fa['setTexture'](_0x138a15,0x1*-0x2119+-0x3b*-0x69+0x8e6*0x1),_0x4354fa['writeTextu'+'reAsync'](_0x138a15,_0x2d781e,_0x33f95b,_0x53828c,_0x3e51cf,_0x2f482f);}}class tw{constructor(_0x2f1c2c,_0x5a1a2c){h(this,'msaaFB'),h(this,'resolveFB'),(this['msaaFB']=_0x2f1c2c,this['resolveFB']=_0x5a1a2c);}['destroy'](_0x2123e9){this['msaaFB']&&(_0x2123e9['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x2123e9['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class sw{constructor(){h(this,'_glFrameBu'+'ffer',null),h(this,'_glDepthBu'+'ffer',null),h(this,'_glResolve'+'FrameBuffe'+'r',null),h(this,'colorMrtFr'+'amebuffers',null),h(this,'_glMsaaCol'+'orBuffers',[]),h(this,'_glMsaaDep'+'thBuffer',null),h(this,'msaaDepthB'+'ufferKey'),h(this,'suppliedCo'+'lorFramebu'+'ffer'),h(this,'_isInitial'+'ized',!(-0x879*0x1+0x1844+-0xfca));}['destroy'](_0x54c234){var _0x1ea6e8;const _0x427165=_0x54c234['gl'];this['_isInitial'+'ized']=!(0x13de+-0x59f*0x1+-0xe3e),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x427165['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x427165['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x427165['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x61eddd=>{_0x427165['deleteRend'+'erbuffer'](_0x61eddd);}),this['_glMsaaCol'+'orBuffers']['length']=-0x1d1d+-0x1*0x1d45+0x11a*0x35,(_0x1ea6e8=this['colorMrtFr'+'amebuffers'])==null||_0x1ea6e8['forEach'](_0x588016=>{_0x588016['destroy'](_0x427165);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&Fd(_0x54c234)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x2642+-0x10*0x123+0x3872);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x1f31fa,_0x457dcd){var _0x18b9a3,_0x5201be;const _0xcedf8b=_0x1f31fa['gl'];w['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(0x1*0x135d+0x242a+0x1*-0x3787);const _0x3c3191=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x21b+0x32d*-0x3+-0x1*-0xba2))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{w['call'](()=>{(_0x457dcd['width']<=0x1*-0x5d5+0x1158+-0xb83*0x1||_0x457dcd['height']<=-0x1088+0x2*0x21f+0xc4a)&&w['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x457dcd['width']+'\x20x\x20'+_0x457dcd['height'],_0x457dcd);}),this['_glFrameBu'+'ffer']=_0xcedf8b['createFram'+'ebuffer'](),_0x1f31fa['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x4a403b=((_0x18b9a3=_0x457dcd['_colorBuff'+'ers'])==null?void(0x1431*0x1+-0x5*-0x26b+0x2*-0x1024):_0x18b9a3['length'])??-0x1b8e+0x3*0x6b2+0x778,_0xe4eab0=_0xcedf8b['COLOR_ATTA'+'CHMENT0'];for(let _0x44abf7=-0x4ab*-0x2+0x2*0x10a3+-0x2a9c;_0x44abf7<_0x4a403b;++_0x44abf7){const _0x1a7fd7=_0x457dcd['getColorBu'+'ffer'](_0x44abf7);_0x1a7fd7&&(_0x1a7fd7['impl']['_glTexture']||(_0x1a7fd7['_width']=Math['min'](_0x1a7fd7['width'],_0x1f31fa['maxRenderB'+'ufferSize']),_0x1a7fd7['_height']=Math['min'](_0x1a7fd7['height'],_0x1f31fa['maxRenderB'+'ufferSize']),_0x1f31fa['setTexture'](_0x1a7fd7,-0x4*0x3df+0x962*0x2+-0x348)),_0xcedf8b['framebuffe'+'rTexture2D'](_0xcedf8b['FRAMEBUFFE'+'R'],_0xe4eab0+_0x44abf7,_0x1a7fd7['_cubemap']?_0xcedf8b['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x457dcd['_face']:_0xcedf8b['TEXTURE_2D'],_0x1a7fd7['impl']['_glTexture'],_0x457dcd['mipLevel']),_0x3c3191['push'](_0xe4eab0+_0x44abf7));}_0xcedf8b['drawBuffer'+'s'](_0x3c3191);const _0x3efe6e=_0x457dcd['_depthBuff'+'er'];if(_0x3efe6e||_0x457dcd['_depth']){const _0x19147b=_0x457dcd['_stencil']?_0xcedf8b['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0xcedf8b['DEPTH_ATTA'+'CHMENT'];if(_0x3efe6e)_0x3efe6e['impl']['_glTexture']||(_0x3efe6e['_width']=Math['min'](_0x3efe6e['width'],_0x1f31fa['maxRenderB'+'ufferSize']),_0x3efe6e['_height']=Math['min'](_0x3efe6e['height'],_0x1f31fa['maxRenderB'+'ufferSize']),_0x1f31fa['setTexture'](_0x3efe6e,-0x10c7+0x1b4b+-0xa84*0x1)),_0xcedf8b['framebuffe'+'rTexture2D'](_0xcedf8b['FRAMEBUFFE'+'R'],_0x19147b,_0x3efe6e['_cubemap']?_0xcedf8b['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x457dcd['_face']:_0xcedf8b['TEXTURE_2D'],_0x457dcd['_depthBuff'+'er']['impl']['_glTexture'],_0x457dcd['mipLevel']);else{if(!(_0x457dcd['_samples']>-0x641+0xefc*0x1+-0x8ba)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0xcedf8b['createRend'+'erbuffer']());const _0x4fb886=_0x457dcd['_stencil']?_0xcedf8b['DEPTH24_ST'+'ENCIL8']:_0xcedf8b['DEPTH_COMP'+'ONENT32F'];_0xcedf8b['bindRender'+'buffer'](_0xcedf8b['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0xcedf8b['renderbuff'+'erStorage'](_0xcedf8b['RENDERBUFF'+'ER'],_0x4fb886,_0x457dcd['width'],_0x457dcd['height']),_0xcedf8b['framebuffe'+'rRenderbuf'+'fer'](_0xcedf8b['FRAMEBUFFE'+'R'],_0x19147b,_0xcedf8b['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0xcedf8b['bindRender'+'buffer'](_0xcedf8b['RENDERBUFF'+'ER'],null);}}}w['call'](()=>this['_checkFbo'](_0x1f31fa,_0x457dcd));}if(_0x457dcd['_samples']>0x1a73+-0x1680+0x65*-0xa){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0xcedf8b['createFram'+'ebuffer'](),_0x1f31fa['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x7630c1=((_0x5201be=_0x457dcd['_colorBuff'+'ers'])==null?void(-0x64+-0x1*-0x607+-0x1e1*0x3):_0x5201be['length'])??0x7*-0x4d6+0x2*0x256+0x1d2e;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0xa3*-0x3+-0x149e+-0x49*-0x4f)){const _0x30a2a9=_0xcedf8b['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x30a2a9);const _0x1af82b=_0x1f31fa['backBuffer'+'Format']===Ne?_0xcedf8b['RGBA8']:_0xcedf8b['RGB8'];_0xcedf8b['bindRender'+'buffer'](_0xcedf8b['RENDERBUFF'+'ER'],_0x30a2a9),_0xcedf8b['renderbuff'+'erStorageM'+'ultisample'](_0xcedf8b['RENDERBUFF'+'ER'],_0x457dcd['_samples'],_0x1af82b,_0x457dcd['width'],_0x457dcd['height']),_0xcedf8b['framebuffe'+'rRenderbuf'+'fer'](_0xcedf8b['FRAMEBUFFE'+'R'],_0xcedf8b['COLOR_ATTA'+'CHMENT0'],_0xcedf8b['RENDERBUFF'+'ER'],_0x30a2a9);}else for(let _0x4a2980=-0xbfe*-0x2+-0x118e+-0x337*0x2;_0x4a2980<_0x7630c1;++_0x4a2980){const _0x26b3b6=_0x457dcd['getColorBu'+'ffer'](_0x4a2980);if(_0x26b3b6){const _0x485fd4=_0xcedf8b['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x485fd4),_0xcedf8b['bindRender'+'buffer'](_0xcedf8b['RENDERBUFF'+'ER'],_0x485fd4),_0xcedf8b['renderbuff'+'erStorageM'+'ultisample'](_0xcedf8b['RENDERBUFF'+'ER'],_0x457dcd['_samples'],_0x26b3b6['impl']['_glInterna'+'lFormat'],_0x457dcd['width'],_0x457dcd['height']),_0xcedf8b['framebuffe'+'rRenderbuf'+'fer'](_0xcedf8b['FRAMEBUFFE'+'R'],_0xcedf8b['COLOR_ATTA'+'CHMENT0']+_0x4a2980,_0xcedf8b['RENDERBUFF'+'ER'],_0x485fd4);}}if(_0x457dcd['_depth']){w['assert'](!this['_glMsaaDep'+'thBuffer']);const _0xcf9574=_0x457dcd['_stencil']?_0xcedf8b['DEPTH24_ST'+'ENCIL8']:_0xcedf8b['DEPTH_COMP'+'ONENT32F'],_0x596754=_0x457dcd['_stencil']?_0xcedf8b['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0xcedf8b['DEPTH_ATTA'+'CHMENT'];let _0x2631b3;const _0xeff7c7=_0x457dcd['_depthBuff'+'er'];_0xeff7c7&&(_0x2631b3=_0xeff7c7['id']+':'+_0x457dcd['width']+':'+_0x457dcd['height']+':'+_0x457dcd['_samples']+':'+_0xcf9574+':'+_0x596754,this['_glMsaaDep'+'thBuffer']=Fd(_0x1f31fa)['get'](_0x2631b3)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0xcedf8b['createRend'+'erbuffer'](),_0xcedf8b['bindRender'+'buffer'](_0xcedf8b['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0xcedf8b['renderbuff'+'erStorageM'+'ultisample'](_0xcedf8b['RENDERBUFF'+'ER'],_0x457dcd['_samples'],_0xcf9574,_0x457dcd['width'],_0x457dcd['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0xcedf8b['deleteRend'+'erbuffer'](this);},_0xeff7c7&&Fd(_0x1f31fa)['set'](_0x2631b3,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x2631b3,_0xcedf8b['framebuffe'+'rRenderbuf'+'fer'](_0xcedf8b['FRAMEBUFFE'+'R'],_0x596754,_0xcedf8b['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}w['call'](()=>this['_checkFbo'](_0x1f31fa,_0x457dcd,'MSAA')),_0x7630c1>0x1cc8+0x1c48+-0x1305*0x3&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x1f31fa,_0x457dcd,_0x7630c1),_0x1f31fa['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0xcedf8b['drawBuffer'+'s'](_0x3c3191));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x33a8e9,_0x4b6e17,_0x5704f){const _0x8305a6=_0x33a8e9['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0xdc9c68=-0x49*0x5b+0xbe3+-0x9*-0x190;_0xdc9c68<_0x5704f;++_0xdc9c68){const _0x97b083=_0x4b6e17['getColorBu'+'ffer'](_0xdc9c68),_0x5b54ea=_0x8305a6['createFram'+'ebuffer']();_0x33a8e9['setFramebu'+'ffer'](_0x5b54ea);const _0x254114=this['_glMsaaCol'+'orBuffers'][_0xdc9c68];_0x8305a6['bindRender'+'buffer'](_0x8305a6['RENDERBUFF'+'ER'],_0x254114),_0x8305a6['renderbuff'+'erStorageM'+'ultisample'](_0x8305a6['RENDERBUFF'+'ER'],_0x4b6e17['_samples'],_0x97b083['impl']['_glInterna'+'lFormat'],_0x4b6e17['width'],_0x4b6e17['height']),_0x8305a6['framebuffe'+'rRenderbuf'+'fer'](_0x8305a6['FRAMEBUFFE'+'R'],_0x8305a6['COLOR_ATTA'+'CHMENT0'],_0x8305a6['RENDERBUFF'+'ER'],_0x254114),_0x8305a6['drawBuffer'+'s']([_0x8305a6['COLOR_ATTA'+'CHMENT0']]),w['call'](()=>this['_checkFbo'](_0x33a8e9,_0x4b6e17,'MSAA-MRT-s'+'rc'+_0xdc9c68));const _0x45a9da=_0x8305a6['createFram'+'ebuffer']();_0x33a8e9['setFramebu'+'ffer'](_0x45a9da),_0x8305a6['framebuffe'+'rTexture2D'](_0x8305a6['FRAMEBUFFE'+'R'],_0x8305a6['COLOR_ATTA'+'CHMENT0'],_0x97b083['_cubemap']?_0x8305a6['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4b6e17['_face']:_0x8305a6['TEXTURE_2D'],_0x97b083['impl']['_glTexture'],-0x61*0x3d+-0x4*0x33+0x17e9),this['colorMrtFr'+'amebuffers'][_0xdc9c68]=new tw(_0x5b54ea,_0x45a9da),w['call'](()=>this['_checkFbo'](_0x33a8e9,_0x4b6e17,'MSAA-MRT-d'+'st'+_0xdc9c68));}}['_checkFbo'](_0x4e2771,_0x2ff68c,_0x514d48=''){const _0x55b64d=_0x4e2771['gl'],_0x2c36f8=_0x55b64d['checkFrame'+'bufferStat'+'us'](_0x55b64d['FRAMEBUFFE'+'R']);let _0x1de98d;switch(_0x2c36f8){case _0x55b64d['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x1de98d='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x55b64d['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x1de98d='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x55b64d['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x1de98d='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x55b64d['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x1de98d='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}w['assert'](!_0x1de98d,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x1de98d+(',\x20render\x20t'+'arget:\x20')+_0x2ff68c['name']+'\x20'+_0x514d48,_0x2ff68c);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=0x1*-0x1e2b+-0x1ac*0x10+0x38eb,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(-0x1675+-0x2578+0x3bed),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(0x11a1+0x1850+-0x29f1),this['_isInitial'+'ized']=!(-0xa9*-0xd+-0x15d*-0xb+-0x1793);}['internalRe'+'solve'](_0x5945fe,_0x133e5e,_0x52e72a,_0x394b2a,_0x58faec){w['assert'](_0x133e5e!==_0x52e72a,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x5945fe['setScissor'](-0x95*-0x34+0x233f+-0x4183,0xa6e+0x6a8+-0x1116,_0x394b2a['width'],_0x394b2a['height']);const _0x57398a=_0x5945fe['gl'];_0x57398a['bindFrameb'+'uffer'](_0x57398a['READ_FRAME'+'BUFFER'],_0x133e5e),_0x57398a['bindFrameb'+'uffer'](_0x57398a['DRAW_FRAME'+'BUFFER'],_0x52e72a),_0x57398a['blitFrameb'+'uffer'](0xe5*-0x17+-0x7c9+-0xdc*-0x21,-0xb*-0x72+0xd*-0x12d+0xa63,_0x394b2a['width'],_0x394b2a['height'],-0xc79*0x1+0x7ca+-0x4af*-0x1,-0x1*-0xd01+-0x14f4+0xb9*0xb,_0x394b2a['width'],_0x394b2a['height'],_0x58faec,_0x57398a['NEAREST']);}['resolve'](_0x41bd17,_0x5ef82c,_0x59115b,_0x3eb25d){const _0x4c12d7=_0x41bd17['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x59115b)for(let _0x67a521=0x1a18+0xa*0x82+-0xf96*0x2;_0x67a521<this['colorMrtFr'+'amebuffers']['length'];_0x67a521++){const _0x183946=this['colorMrtFr'+'amebuffers'][_0x67a521];Q['pushGpuMar'+'ker'](_0x41bd17,'RESOLVE-MR'+'T'+_0x67a521),this['internalRe'+'solve'](_0x41bd17,_0x183946['msaaFB'],_0x183946['resolveFB'],_0x5ef82c,_0x4c12d7['COLOR_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x41bd17);}_0x3eb25d&&(Q['pushGpuMar'+'ker'](_0x41bd17,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x41bd17,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x5ef82c,_0x4c12d7['DEPTH_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x41bd17));}else Q['pushGpuMar'+'ker'](_0x41bd17,'RESOLVE'),this['internalRe'+'solve'](_0x41bd17,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x5ef82c,(_0x59115b?_0x4c12d7['COLOR_BUFF'+'ER_BIT']:0x180c+-0x6f4+-0x1118)|(_0x3eb25d?_0x4c12d7['DEPTH_BUFF'+'ER_BIT']:0x16f0+0x36d*-0x1+-0x1383)),Q['popGpuMark'+'er'](_0x41bd17);_0x4c12d7['bindFrameb'+'uffer'](_0x4c12d7['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class iw{constructor(){h(this,'renderVers'+'ion'),h(this,'queries',[]);}['destroy'](_0x3d91ab){this['queries']['forEach'](_0x48a1f1=>_0x3d91ab['deleteQuer'+'y'](_0x48a1f1)),this['queries']=null;}}class rw extends $T{constructor(_0x1f9708){super(),h(this,'device'),h(this,'freeQuerie'+'s',[]),h(this,'frameQueri'+'es',[]),h(this,'previousFr'+'ameQueries',[]),h(this,'timings',[]),(this['device']=_0x1f9708,this['ext']=_0x1f9708['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x56364d=>this['device']['gl']['deleteQuer'+'y'](_0x56364d)),this['frameQueri'+'es']['forEach'](_0x99329=>this['device']['gl']['deleteQuer'+'y'](_0x99329)),this['previousFr'+'ameQueries']['forEach'](_0x494ee2=>_0x494ee2['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x502022){if(this['ext']){const _0x4517df=this['getSlot'](_0x502022),_0x3c48c0=this['getQuery']();return this['frameQueri'+'es'][_0x4517df]=_0x3c48c0,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x3c48c0),_0x4517df;}}['end'](_0x5360a2){_0x5360a2!==void(-0x219a+0x1*-0x9f7+-0x1*-0x2b91)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x3b4c9f=this['ext'],_0x16feaa=this['device']['gl'],_0xeea1d1=this['device']['renderVers'+'ion'],_0x484ef6=this['frameQueri'+'es'];if(_0x484ef6['length']>0x1cb9+-0x48a+0x97*-0x29){this['frameQueri'+'es']=[];const _0x202836=new iw();_0x202836['queries']=_0x484ef6,_0x202836['renderVers'+'ion']=_0xeea1d1,this['previousFr'+'ameQueries']['push'](_0x202836);}if(this['previousFr'+'ameQueries']['length']>-0x7*0x23f+0x42*-0x93+-0x7a9*-0x7){const _0x5dec47=this['previousFr'+'ameQueries'][0x1c37+0x2167+0x1*-0x3d9e],_0x1abe62=_0x5dec47['queries'],_0x298566=_0x1abe62[_0x1abe62['length']-(0x84a+0xa3*-0xb+-0x2*0xa4)],_0x252bef=_0x16feaa['getQueryPa'+'rameter'](_0x298566,_0x16feaa['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x3a0573=_0x16feaa['getParamet'+'er'](_0x3b4c9f['GPU_DISJOI'+'NT_EXT']);if(_0x252bef&&!_0x3a0573){this['previousFr'+'ameQueries']['shift']();const _0x18c732=this['timings'];_0x18c732['length']=0x1869+0x145e+0xeed*-0x3;for(let _0x1bed30=0x2*0xd13+0x64e+-0x2074;_0x1bed30<_0x1abe62['length'];_0x1bed30++){const _0x3d4935=_0x1abe62[_0x1bed30],_0x25af7e=_0x16feaa['getQueryPa'+'rameter'](_0x3d4935,_0x16feaa['QUERY_RESU'+'LT']);_0x18c732[_0x1bed30]=_0x25af7e*(0x1a*0x84+0x233a+0x19*-0x1f2+0.000001),this['freeQuerie'+'s']['push'](_0x3d4935);}this['report'](_0x5dec47['renderVers'+'ion'],_0x18c732);}_0x3a0573&&(this['previousFr'+'ameQueries']['forEach'](_0x46e2a4=>{this['report'](_0x46e2a4['renderVers'+'ion'],null),_0x46e2a4['destroy'](_0x16feaa);}),this['previousFr'+'ameQueries']['length']=-0x75b+0xabf*-0x2+0x1cd9);}super['request'](_0xeea1d1);}}}const Da=[];class aw extends $e{constructor(_0x48bdc9,_0x2e7579={}){super(_0x48bdc9,_0x2e7579),h(this,'gl'),h(this,'_defaultFr'+'amebuffer',null),h(this,'_defaultFr'+'amebufferC'+'hanged',!(-0x3*0xce5+-0x11a6+0x3856*0x1)),(_0x2e7579=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(0xc*0x11b+0x18f9*0x1+-0x2*0x131e),this['_contextLo'+'stHandler']=_0x2f8cc4=>{_0x2f8cc4['preventDef'+'ault'](),this['loseContex'+'t'](),w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x19ecb0=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x19ecb0&&_0x19ecb0['includes']('AppleWebKi'+'t')&&(_0x19ecb0['includes']('15.4')||_0x19ecb0['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x2e7579['antialias']=!(0x150e+-0x12fb*-0x2+-0x3b03*0x1),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),Ae['browserNam'+'e']==='firefox'){const _0x28d7c7=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x60cd66=_0x28d7c7?_0x28d7c7[-0x1*0x26ab+-0x5*-0xf+-0x7ad*-0x5]:null;if(_0x60cd66){const _0x5dc39b=parseFloat(_0x60cd66);(Ae['name']==='windows'&&(_0x5dc39b>=-0xabe+0x454+0x6e2||_0x5dc39b===-0x181e+0x2068+-0x7d7)||Ae['name']==='android'&&_0x5dc39b>=-0x47*-0x11+-0x10*-0xa4+0x1b*-0x89)&&(_0x2e7579['antialias']=!(0xf*0x195+0x4*0x74f+-0x34f6),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+Ae['name']+('\x20platform\x20'+'version\x20')+_0x60cd66));}}this['backBuffer'+'Antialias']=_0x2e7579['antialias']??!(0x494*-0x8+-0x515+0x29b6),_0x2e7579['antialias']=!(-0xf1*0x8+-0x1f*0x97+-0xce9*-0x2);const _0x23ed7a=_0x2e7579['gl']??_0x48bdc9['getContext']('webgl2',_0x2e7579);if(!_0x23ed7a)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x23ed7a,this['isWebGL2']=!(0x1dbe+-0xe1b*-0x1+-0x1*0x2bd9),this['_deviceTyp'+'e']=aT,this['updateBack'+'bufferForm'+'at'](null);const _0x408aa1=Ae['browserNam'+'e']==='chrome',_0x1fbe6d=Ae['browserNam'+'e']==='safari',_0x1a6e08=Ae['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(-0x47*-0x71+0xcf1+-0x1*0x2c47);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x1fbe6d,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x1a6e08&&_0x408aa1&&!_0x2e7579['alpha'],_0x48bdc9['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x5*-0x5cf+0x4d*-0x53+-0x413)),_0x48bdc9['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x16d7*-0x1+-0x1741+-0x1*-0x2e19)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x1fbe6d&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x23ed7a['SAMPLER_2D'],_0x23ed7a['SAMPLER_CU'+'BE'],_0x23ed7a['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x23ed7a['INT_SAMPLE'+'R_2D'],_0x23ed7a['SAMPLER_2D'+'_SHADOW'],_0x23ed7a['SAMPLER_CU'+'BE_SHADOW'],_0x23ed7a['SAMPLER_3D'],_0x23ed7a['INT_SAMPLE'+'R_3D'],_0x23ed7a['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x23ed7a['SAMPLER_2D'+'_ARRAY'],_0x23ed7a['INT_SAMPLE'+'R_2D_ARRAY'],_0x23ed7a['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x23ed7a['REPEAT'],_0x23ed7a['CLAMP_TO_E'+'DGE'],_0x23ed7a['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x23ed7a['FUNC_ADD'],_0x23ed7a['FUNC_SUBTR'+'ACT'],_0x23ed7a['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x23ed7a['MIN'],_0x23ed7a['MAX']],this['glBlendFun'+'ctionColor']=[_0x23ed7a['ZERO'],_0x23ed7a['ONE'],_0x23ed7a['SRC_COLOR'],_0x23ed7a['ONE_MINUS_'+'SRC_COLOR'],_0x23ed7a['DST_COLOR'],_0x23ed7a['ONE_MINUS_'+'DST_COLOR'],_0x23ed7a['SRC_ALPHA'],_0x23ed7a['SRC_ALPHA_'+'SATURATE'],_0x23ed7a['ONE_MINUS_'+'SRC_ALPHA'],_0x23ed7a['DST_ALPHA'],_0x23ed7a['ONE_MINUS_'+'DST_ALPHA'],_0x23ed7a['CONSTANT_C'+'OLOR'],_0x23ed7a['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x23ed7a['ZERO'],_0x23ed7a['ONE'],_0x23ed7a['SRC_COLOR'],_0x23ed7a['ONE_MINUS_'+'SRC_COLOR'],_0x23ed7a['DST_COLOR'],_0x23ed7a['ONE_MINUS_'+'DST_COLOR'],_0x23ed7a['SRC_ALPHA'],_0x23ed7a['SRC_ALPHA_'+'SATURATE'],_0x23ed7a['ONE_MINUS_'+'SRC_ALPHA'],_0x23ed7a['DST_ALPHA'],_0x23ed7a['ONE_MINUS_'+'DST_ALPHA'],_0x23ed7a['CONSTANT_A'+'LPHA'],_0x23ed7a['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x23ed7a['NEVER'],_0x23ed7a['LESS'],_0x23ed7a['EQUAL'],_0x23ed7a['LEQUAL'],_0x23ed7a['GREATER'],_0x23ed7a['NOTEQUAL'],_0x23ed7a['GEQUAL'],_0x23ed7a['ALWAYS']],this['glStencilO'+'p']=[_0x23ed7a['KEEP'],_0x23ed7a['ZERO'],_0x23ed7a['REPLACE'],_0x23ed7a['INCR'],_0x23ed7a['INCR_WRAP'],_0x23ed7a['DECR'],_0x23ed7a['DECR_WRAP'],_0x23ed7a['INVERT']],this['glClearFla'+'g']=[0x1105*-0x1+0x22b*0x4+-0x859*-0x1,_0x23ed7a['COLOR_BUFF'+'ER_BIT'],_0x23ed7a['DEPTH_BUFF'+'ER_BIT'],_0x23ed7a['COLOR_BUFF'+'ER_BIT']|_0x23ed7a['DEPTH_BUFF'+'ER_BIT'],_0x23ed7a['STENCIL_BU'+'FFER_BIT'],_0x23ed7a['STENCIL_BU'+'FFER_BIT']|_0x23ed7a['COLOR_BUFF'+'ER_BIT'],_0x23ed7a['STENCIL_BU'+'FFER_BIT']|_0x23ed7a['DEPTH_BUFF'+'ER_BIT'],_0x23ed7a['STENCIL_BU'+'FFER_BIT']|_0x23ed7a['COLOR_BUFF'+'ER_BIT']|_0x23ed7a['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[-0x43f+0x1*-0x99e+0xddd,_0x23ed7a['BACK'],_0x23ed7a['FRONT'],_0x23ed7a['FRONT_AND_'+'BACK']],this['glFilter']=[_0x23ed7a['NEAREST'],_0x23ed7a['LINEAR'],_0x23ed7a['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x23ed7a['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x23ed7a['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x23ed7a['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x23ed7a['POINTS'],_0x23ed7a['LINES'],_0x23ed7a['LINE_LOOP'],_0x23ed7a['LINE_STRIP'],_0x23ed7a['TRIANGLES'],_0x23ed7a['TRIANGLE_S'+'TRIP'],_0x23ed7a['TRIANGLE_F'+'AN']],this['glType']=[_0x23ed7a['BYTE'],_0x23ed7a['UNSIGNED_B'+'YTE'],_0x23ed7a['SHORT'],_0x23ed7a['UNSIGNED_S'+'HORT'],_0x23ed7a['INT'],_0x23ed7a['UNSIGNED_I'+'NT'],_0x23ed7a['FLOAT'],_0x23ed7a['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x23ed7a['BOOL']]=Tn,this['pcUniformT'+'ype'][_0x23ed7a['INT']]=_a,this['pcUniformT'+'ype'][_0x23ed7a['FLOAT']]=Xs,this['pcUniformT'+'ype'][_0x23ed7a['FLOAT_VEC2']]=ga,this['pcUniformT'+'ype'][_0x23ed7a['FLOAT_VEC3']]=ds,this['pcUniformT'+'ype'][_0x23ed7a['FLOAT_VEC4']]=Rn,this['pcUniformT'+'ype'][_0x23ed7a['INT_VEC2']]=ca,this['pcUniformT'+'ype'][_0x23ed7a['INT_VEC3']]=ha,this['pcUniformT'+'ype'][_0x23ed7a['INT_VEC4']]=da,this['pcUniformT'+'ype'][_0x23ed7a['BOOL_VEC2']]=tl,this['pcUniformT'+'ype'][_0x23ed7a['BOOL_VEC3']]=sl,this['pcUniformT'+'ype'][_0x23ed7a['BOOL_VEC4']]=il,this['pcUniformT'+'ype'][_0x23ed7a['FLOAT_MAT2']]=_h,this['pcUniformT'+'ype'][_0x23ed7a['FLOAT_MAT3']]=On,this['pcUniformT'+'ype'][_0x23ed7a['FLOAT_MAT4']]=li,this['pcUniformT'+'ype'][_0x23ed7a['SAMPLER_2D']]=Hx,this['pcUniformT'+'ype'][_0x23ed7a['SAMPLER_CU'+'BE']]=Wx,this['pcUniformT'+'ype'][_0x23ed7a['UNSIGNED_I'+'NT']]=Fn,this['pcUniformT'+'ype'][_0x23ed7a['UNSIGNED_I'+'NT_VEC2']]=Nn,this['pcUniformT'+'ype'][_0x23ed7a['UNSIGNED_I'+'NT_VEC3']]=kn,this['pcUniformT'+'ype'][_0x23ed7a['UNSIGNED_I'+'NT_VEC4']]=Un,this['pcUniformT'+'ype'][_0x23ed7a['SAMPLER_2D'+'_SHADOW']]=$x,this['pcUniformT'+'ype'][_0x23ed7a['SAMPLER_CU'+'BE_SHADOW']]=Xx,this['pcUniformT'+'ype'][_0x23ed7a['SAMPLER_2D'+'_ARRAY']]=jx,this['pcUniformT'+'ype'][_0x23ed7a['SAMPLER_3D']]=qx,this['pcUniformT'+'ype'][_0x23ed7a['INT_SAMPLE'+'R_2D']]=Yx,this['pcUniformT'+'ype'][_0x23ed7a['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Kx,this['pcUniformT'+'ype'][_0x23ed7a['INT_SAMPLE'+'R_CUBE']]=Zx,this['pcUniformT'+'ype'][_0x23ed7a['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Qx,this['pcUniformT'+'ype'][_0x23ed7a['INT_SAMPLE'+'R_3D']]=Jx,this['pcUniformT'+'ype'][_0x23ed7a['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=eT,this['pcUniformT'+'ype'][_0x23ed7a['INT_SAMPLE'+'R_2D_ARRAY']]=tT,this['pcUniformT'+'ype'][_0x23ed7a['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=sT,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x23ed7a['TEXTURE_2D']]=-0x9d2*-0x2+0x142*0x1f+0x3aa2*-0x1,this['targetToSl'+'ot'][_0x23ed7a['TEXTURE_CU'+'BE_MAP']]=0x1e82+-0x1*0xaec+-0x1395,this['targetToSl'+'ot'][_0x23ed7a['TEXTURE_3D']]=0x21e4+-0x26f0+0x50e;let _0x18b82c,_0x17aad8,_0x479e1b,_0x409c4b,_0x4e9113;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][Tn]=function(_0x234f8f,_0xd70c33){_0x234f8f['value']!==_0xd70c33&&(_0x23ed7a['uniform1i'](_0x234f8f['locationId'],_0xd70c33),_0x234f8f['value']=_0xd70c33);},this['commitFunc'+'tion'][_a]=this['commitFunc'+'tion'][Tn],this['commitFunc'+'tion'][Xs]=function(_0x183ad9,_0x504e10){_0x183ad9['value']!==_0x504e10&&(_0x23ed7a['uniform1f'](_0x183ad9['locationId'],_0x504e10),_0x183ad9['value']=_0x504e10);},this['commitFunc'+'tion'][ga]=function(_0x52c6af,_0x492ddb){_0x4e9113=_0x52c6af['value'],_0x18b82c=_0x492ddb[0x5d8+-0x1b73+0x159b*0x1],_0x17aad8=_0x492ddb[-0x15a3+-0x188e+0xf66*0x3],(_0x4e9113[-0x1f8e*0x1+-0x1198+0x3126]!==_0x18b82c||_0x4e9113[0x37*-0x8d+0x1b43+0x7*0x6f]!==_0x17aad8)&&(_0x23ed7a['uniform2fv'](_0x52c6af['locationId'],_0x492ddb),_0x4e9113[-0x2018+0x6*0x4ea+0x29c]=_0x18b82c,_0x4e9113[-0x1087+-0x852+-0x1*-0x18da]=_0x17aad8);},this['commitFunc'+'tion'][ds]=function(_0x102083,_0x34a55a){_0x4e9113=_0x102083['value'],_0x18b82c=_0x34a55a[0x1935+-0x63+-0x18d2],_0x17aad8=_0x34a55a[0x1822+0xbf1*0x3+-0x3bf4],_0x479e1b=_0x34a55a[-0x41f+-0x190c+-0xb*-0x2a7],(_0x4e9113[-0xf13+-0x47*-0x17+-0x15*-0x6a]!==_0x18b82c||_0x4e9113[-0x1420+0x1ed*0x11+-0xc9c]!==_0x17aad8||_0x4e9113[-0x145d+0x715+0x237*0x6]!==_0x479e1b)&&(_0x23ed7a['uniform3fv'](_0x102083['locationId'],_0x34a55a),_0x4e9113[0x1918+-0x269f+-0x1*-0xd87]=_0x18b82c,_0x4e9113[-0x1f*0x9a+0x1*0x1ded+-0xb46]=_0x17aad8,_0x4e9113[-0x2555+-0x1*-0xeff+0x1658]=_0x479e1b);},this['commitFunc'+'tion'][Rn]=function(_0x12b193,_0x2e7f6f){_0x4e9113=_0x12b193['value'],_0x18b82c=_0x2e7f6f[0x1*0x24af+0x1040+0x11a5*-0x3],_0x17aad8=_0x2e7f6f[0x61*0x2+0x2302*-0x1+0x2241],_0x479e1b=_0x2e7f6f[-0x1*0x1a9e+-0x1*0x16df+0x317f],_0x409c4b=_0x2e7f6f[-0x1722+0x1*0x12e+-0x1*-0x15f7],(_0x4e9113[0x1a0b+0x1d4a+-0x1*0x3755]!==_0x18b82c||_0x4e9113[-0x8*-0x94+-0x26de+0x31d*0xb]!==_0x17aad8||_0x4e9113[-0x1f*0x1f+0x2604+0x25*-0xed]!==_0x479e1b||_0x4e9113[-0x592+-0x1*0xb58+0x10ed]!==_0x409c4b)&&(_0x23ed7a['uniform4fv'](_0x12b193['locationId'],_0x2e7f6f),_0x4e9113[-0x19a6+-0x55*-0x1+0x1951]=_0x18b82c,_0x4e9113[-0x5*0xe7+0x1f94+0x362*-0x8]=_0x17aad8,_0x4e9113[-0x1*0x7ae+0x200e+-0x185e]=_0x479e1b,_0x4e9113[-0xe43+0x4b*-0x13+0x13d7]=_0x409c4b);},this['commitFunc'+'tion'][ca]=function(_0x22babd,_0x15f4bd){_0x4e9113=_0x22babd['value'],_0x18b82c=_0x15f4bd[0x1*-0x1faf+-0x593+0xfb*0x26],_0x17aad8=_0x15f4bd[-0x1b72+-0x1275+0x1*0x2de8],(_0x4e9113[-0x1*0xb02+0x2597+-0x1a95*0x1]!==_0x18b82c||_0x4e9113[-0x9d*-0x35+0x211c+0x2*-0x20ce]!==_0x17aad8)&&(_0x23ed7a['uniform2iv'](_0x22babd['locationId'],_0x15f4bd),_0x4e9113[0x2e*0x98+0x982*0x4+-0x4158]=_0x18b82c,_0x4e9113[-0xf2d+0x21*-0xc1+-0x5*-0x803]=_0x17aad8);},this['commitFunc'+'tion'][tl]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][ha]=function(_0x49ff03,_0x42bdfa){_0x4e9113=_0x49ff03['value'],_0x18b82c=_0x42bdfa[0x13*0x7f+0xc46+0x65*-0x37],_0x17aad8=_0x42bdfa[-0xbd4*0x1+-0x1*0x409+0xfde],_0x479e1b=_0x42bdfa[-0x2*-0x117d+-0x1759+-0x23*0x55],(_0x4e9113[0x25*-0x1b+0x3*-0xace+0x2451]!==_0x18b82c||_0x4e9113[-0x21fa+0x86a*0x1+-0xb*-0x253]!==_0x17aad8||_0x4e9113[-0x3*0x5dd+0x12f5+-0x15c]!==_0x479e1b)&&(_0x23ed7a['uniform3iv'](_0x49ff03['locationId'],_0x42bdfa),_0x4e9113[0x1*-0x2273+-0x5a0+0x2813]=_0x18b82c,_0x4e9113[0x14cb*0x1+-0x209f*-0x1+-0x3569]=_0x17aad8,_0x4e9113[0x99b*-0x1+0x373*0x3+-0xbc]=_0x479e1b);},this['commitFunc'+'tion'][sl]=this['commitFunc'+'tion'][ha],this['commitFunc'+'tion'][da]=function(_0x271d29,_0x248a28){_0x4e9113=_0x271d29['value'],_0x18b82c=_0x248a28[-0xfcd+0x901+0x6cc],_0x17aad8=_0x248a28[0x7f*-0x1f+0x1fb2+-0x2*0x828],_0x479e1b=_0x248a28[-0x2135+0x1a75+0x6c2],_0x409c4b=_0x248a28[-0x577*-0x1+0x53*-0x1e+0x446],(_0x4e9113[-0x8e1*-0x3+0x24bd+0x30*-0x152]!==_0x18b82c||_0x4e9113[-0x4*-0x3ee+-0xe3*0x2b+0x1*0x166a]!==_0x17aad8||_0x4e9113[-0x1543+-0xf8*-0x8+-0x1*-0xd85]!==_0x479e1b||_0x4e9113[0xfec+-0x2573+0x158a]!==_0x409c4b)&&(_0x23ed7a['uniform4iv'](_0x271d29['locationId'],_0x248a28),_0x4e9113[0x1bdd+0x2365*-0x1+0x788]=_0x18b82c,_0x4e9113[0x77a+0x1d9f*-0x1+0x46*0x51]=_0x17aad8,_0x4e9113[0x1ef7+0xe*-0x154+-0xc5d]=_0x479e1b,_0x4e9113[0x1d40+0x20e2+0x1f*-0x201]=_0x409c4b);},this['commitFunc'+'tion'][il]=this['commitFunc'+'tion'][da],this['commitFunc'+'tion'][_h]=function(_0x332131,_0x5b7e32){_0x23ed7a['uniformMat'+'rix2fv'](_0x332131['locationId'],!(0x6e*0x6+0xf2a*0x1+0x13*-0xef),_0x5b7e32);},this['commitFunc'+'tion'][On]=function(_0xebf8e7,_0x12700d){_0x23ed7a['uniformMat'+'rix3fv'](_0xebf8e7['locationId'],!(-0x5*-0x2bf+-0x579+-0x841),_0x12700d);},this['commitFunc'+'tion'][li]=function(_0x1d14cc,_0x16f0b9){_0x23ed7a['uniformMat'+'rix4fv'](_0x1d14cc['locationId'],!(-0x10a3+-0x211c+0x31c0),_0x16f0b9);},this['commitFunc'+'tion'][ud]=function(_0x35bccc,_0x414e86){_0x23ed7a['uniform1fv'](_0x35bccc['locationId'],_0x414e86);},this['commitFunc'+'tion'][pd]=function(_0x401710,_0x5e73df){_0x23ed7a['uniform2fv'](_0x401710['locationId'],_0x5e73df);},this['commitFunc'+'tion'][md]=function(_0x1ad79b,_0x559dcb){_0x23ed7a['uniform3fv'](_0x1ad79b['locationId'],_0x559dcb);},this['commitFunc'+'tion'][Lp]=function(_0x2d0e45,_0x7902c3){_0x23ed7a['uniform4fv'](_0x2d0e45['locationId'],_0x7902c3);},this['commitFunc'+'tion'][Fn]=function(_0x183c12,_0x4ade3f){_0x183c12['value']!==_0x4ade3f&&(_0x23ed7a['uniform1ui'](_0x183c12['locationId'],_0x4ade3f),_0x183c12['value']=_0x4ade3f);},this['commitFunc'+'tion'][Nn]=function(_0x2be4bc,_0x46b75c){_0x4e9113=_0x2be4bc['value'],_0x18b82c=_0x46b75c[-0x3*-0xa39+-0xe3*-0x27+0x3*-0x15c0],_0x17aad8=_0x46b75c[0x256d+-0x2*0x131f+0xf*0xe],(_0x4e9113[-0x5b9*0x4+-0xe1f+0x2503]!==_0x18b82c||_0x4e9113[0x1bb*-0x13+-0x1*0x2421+0x4503]!==_0x17aad8)&&(_0x23ed7a['uniform2ui'+'v'](_0x2be4bc['locationId'],_0x46b75c),_0x4e9113[0x2*-0x4e9+0x2702+-0x1d30]=_0x18b82c,_0x4e9113[-0x1cd7+-0x9*0x1a3+-0x1*-0x2b93]=_0x17aad8);},this['commitFunc'+'tion'][kn]=function(_0x331d37,_0x300467){_0x4e9113=_0x331d37['value'],_0x18b82c=_0x300467[0x465*-0x6+0x5*-0x61d+0x38ef],_0x17aad8=_0x300467[0x4cd*-0x1+0x1*0xb61+0x63*-0x11],_0x479e1b=_0x300467[-0xa21*-0x1+-0x1972*-0x1+-0x2391*0x1],(_0x4e9113[0x44*-0x8+-0x1*-0xa93+0x3*-0x2d1]!==_0x18b82c||_0x4e9113[-0x749+-0x2b*0xb4+-0x6*-0x641]!==_0x17aad8||_0x4e9113[-0x188e+0x661+0x122f]!==_0x479e1b)&&(_0x23ed7a['uniform3ui'+'v'](_0x331d37['locationId'],_0x300467),_0x4e9113[0xbd9+0x20*0x113+0x2e39*-0x1]=_0x18b82c,_0x4e9113[0x269a+0x1a+0x1*-0x26b3]=_0x17aad8,_0x4e9113[0x6c*0x20+0x19ca+-0x2748]=_0x479e1b);},this['commitFunc'+'tion'][Un]=function(_0x5235a3,_0x224c15){_0x4e9113=_0x5235a3['value'],_0x18b82c=_0x224c15[0x201d*-0x1+0x7*-0xe3+-0x442*-0x9],_0x17aad8=_0x224c15[0x23c7+0x22a6+0x2336*-0x2],_0x479e1b=_0x224c15[0xdfe+-0x240b+-0x160f*-0x1],_0x409c4b=_0x224c15[0xea9+0x1f14+-0x2dba],(_0x4e9113[0x4*0x3ad+-0x19f*-0x18+-0x359c]!==_0x18b82c||_0x4e9113[0xaf+-0x357+-0x1*-0x2a9]!==_0x17aad8||_0x4e9113[-0xeb7+0xb83+-0x3*-0x112]!==_0x479e1b||_0x4e9113[-0x2011*0x1+0x11a7*-0x2+0x4362]!==_0x409c4b)&&(_0x23ed7a['uniform4ui'+'v'](_0x5235a3['locationId'],_0x224c15),_0x4e9113[-0x44a+0x675+-0x22b]=_0x18b82c,_0x4e9113[0x1753*0x1+0x2f*-0x3f+-0xbc1]=_0x17aad8,_0x4e9113[-0x195c+0x1ff2+-0x694]=_0x479e1b,_0x4e9113[-0xc84+0x24bc+0x1*-0x1835]=_0x409c4b);},this['commitFunc'+'tion'][Bn]=function(_0x3b57b0,_0x3fc115){_0x23ed7a['uniform1iv'](_0x3b57b0['locationId'],_0x3fc115);},this['commitFunc'+'tion'][_d]=function(_0x59a5df,_0x5e46ca){_0x23ed7a['uniform1ui'+'v'](_0x59a5df['locationId'],_0x5e46ca);},this['commitFunc'+'tion'][gd]=this['commitFunc'+'tion'][Bn],this['commitFunc'+'tion'][zn]=function(_0x578744,_0x1963f2){_0x23ed7a['uniform2iv'](_0x578744['locationId'],_0x1963f2);},this['commitFunc'+'tion'][Sd]=function(_0x3eab7b,_0x2448d9){_0x23ed7a['uniform2ui'+'v'](_0x3eab7b['locationId'],_0x2448d9);},this['commitFunc'+'tion'][yd]=this['commitFunc'+'tion'][zn],this['commitFunc'+'tion'][Vn]=function(_0x4bd63b,_0x3d5438){_0x23ed7a['uniform3iv'](_0x4bd63b['locationId'],_0x3d5438);},this['commitFunc'+'tion'][vd]=function(_0x819b88,_0x3e3289){_0x23ed7a['uniform3ui'+'v'](_0x819b88['locationId'],_0x3e3289);},this['commitFunc'+'tion'][xd]=this['commitFunc'+'tion'][Vn],this['commitFunc'+'tion'][gh]=function(_0x332cd9,_0x3c527a){_0x23ed7a['uniform4iv'](_0x332cd9['locationId'],_0x3c527a);},this['commitFunc'+'tion'][Rp]=function(_0xcad708,_0x2c24ba){_0x23ed7a['uniform4ui'+'v'](_0xcad708['locationId'],_0x2c24ba);},this['commitFunc'+'tion'][Op]=this['commitFunc'+'tion'][gh],this['commitFunc'+'tion'][wy]=function(_0x2b4fa9,_0x428725){_0x23ed7a['uniformMat'+'rix4fv'](_0x2b4fa9['locationId'],!(0xcc7*-0x1+-0xa24+0xb76*0x2),_0x428725);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new rw(this);}['destroy'](){super['destroy']();const _0xb997e9=this['gl'];this['feedback']&&_0xb997e9['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x4f*-0x21+0x2bf*0x3+-0x1f3*-0x1)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x12cf+-0x71*0x3f+0x901)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x38abcc){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new gt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x38abcc;}['updateBack'+'bufferForm'+'at'](_0x4a4e9b){const _0x6303d1=this['gl'];_0x6303d1['bindFrameb'+'uffer'](_0x6303d1['FRAMEBUFFE'+'R'],_0x4a4e9b);const _0x2b0b80=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x2b0b80?Ne:Cr;}['updateBack'+'buffer'](){const _0x165c3a=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x165c3a)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(0xd40+0x12ec+-0x202b),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x4a4e6e,_0x1053f9){return new XT();}['createInde'+'xBufferImp'+'l'](_0x49805f){return new qT(_0x49805f);}['createShad'+'erImpl'](_0x3f1bd3){return new JT(_0x3f1bd3);}['createText'+'ureImpl'](_0xae9a39){return new ew(_0xae9a39);}['createRend'+'erTargetIm'+'pl'](_0x3a9f79){return new sw();}['pushMarker'](_0x2eaf30){if(Ae['browser']&&window['spector']){const _0x2de7c5=Q['toString']();window['spector']['setMarker'](_0x2de7c5+'\x20#');}}['popMarker'](){if(Ae['browser']&&window['spector']){const _0x545749=Q['toString']();_0x545749['length']?window['spector']['setMarker'](_0x545749+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x1d55cb=this['gl'];let _0x942352='highp';if(_0x1d55cb['getShaderP'+'recisionFo'+'rmat']){const _0x352d34=_0x1d55cb['getShaderP'+'recisionFo'+'rmat'](_0x1d55cb['VERTEX_SHA'+'DER'],_0x1d55cb['HIGH_FLOAT']),_0x5bead3=_0x1d55cb['getShaderP'+'recisionFo'+'rmat'](_0x1d55cb['VERTEX_SHA'+'DER'],_0x1d55cb['MEDIUM_FLO'+'AT']),_0x22e5e6=_0x1d55cb['getShaderP'+'recisionFo'+'rmat'](_0x1d55cb['FRAGMENT_S'+'HADER'],_0x1d55cb['HIGH_FLOAT']),_0x58a2db=_0x1d55cb['getShaderP'+'recisionFo'+'rmat'](_0x1d55cb['FRAGMENT_S'+'HADER'],_0x1d55cb['MEDIUM_FLO'+'AT']);if(_0x352d34&&_0x5bead3&&_0x22e5e6&&_0x58a2db){const _0xc63da1=_0x352d34['precision']>-0x1*-0x841+-0xeb1+-0x19c*-0x4&&_0x22e5e6['precision']>0x2218+0x128*0x8+-0x2*0x15ac,_0x100687=_0x5bead3['precision']>-0xeb6+-0xef9+0x1daf&&_0x58a2db['precision']>-0x5c8+0x161*0x8+0x40*-0x15;_0xc63da1||(_0x100687?(_0x942352='mediump',w['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x942352='lowp',w['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x942352;}['getExtensi'+'on'](){for(let _0x2cc952=-0xad8+0xeb9*0x1+-0x3e1;_0x2cc952<arguments['length'];_0x2cc952++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x2cc952])!==-(-0x16cf+0x1b57+-0x13*0x3d))return this['gl']['getExtensi'+'on'](arguments[_0x2cc952]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x22444f=this['gl'];this['supportedE'+'xtensions']=_0x22444f['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(0x15de*-0x1+0x47*-0x3b+0x263b),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float'),this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc');}['initialize'+'Capabiliti'+'es'](){const _0x284850=this['gl'];let _0x26106c;const _0x341a39=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x4e7296=_0x284850['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x4e7296==null?void(-0x90c+-0x1414+0x8*0x3a4):_0x4e7296['antialias'])??!(0x80e*-0x4+-0x4ea+-0x3*-0xc61),this['supportsSt'+'encil']=(_0x4e7296==null?void(0x802+0xe75+-0x1677):_0x4e7296['stencil'])??!(0x1730+0x1c24+0x1*-0x3353),this['maxTexture'+'Size']=_0x284850['getParamet'+'er'](_0x284850['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x284850['getParamet'+'er'](_0x284850['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x284850['getParamet'+'er'](_0x284850['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x284850['getParamet'+'er'](_0x284850['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x284850['getParamet'+'er'](_0x284850['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x284850['getParamet'+'er'](_0x284850['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x284850['getParamet'+'er'](_0x284850['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x284850['getParamet'+'er'](_0x284850['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x284850['getParamet'+'er'](_0x284850['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x284850['getParamet'+'er'](_0x284850['MAX_3D_TEX'+'TURE_SIZE']),_0x26106c=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x26106c?_0x284850['getParamet'+'er'](_0x26106c['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x26106c?_0x284850['getParamet'+'er'](_0x26106c['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0xcf9b7f=/\bMali-G52+/,_0x1a870e=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x341a39['match'](_0x1a870e))&&!this['unmaskedRe'+'nderer']['match'](_0xcf9b7f),_0x26106c=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x26106c?_0x284850['getParamet'+'er'](_0x26106c['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):0x4*-0x59b+-0x111e+-0x35*-0xbf;const _0x429284=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x429284?_0x284850['getParamet'+'er'](_0x284850['MAX_SAMPLE'+'S']):0x1*0xa2e+0x1b81+0x2e6*-0xd,this['maxSamples']=Math['min'](this['maxSamples'],0x805*-0x1+0x2*0x45d+0x3*-0x3b),this['samples']=_0x429284&&this['backBuffer'+'Antialias']?this['maxSamples']:-0xfc+-0x711*0x2+-0x7*-0x229,this['supportsAr'+'eaLights']=!Ae['android'],this['maxTexture'+'s']<=-0x1daa+0x622+0x1790&&(this['supportsAr'+'eaLights']=!(0x1*0xf05+0x233a*-0x1+0x1436)),this['initCapsDe'+'fines']();}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x4774c8=this['gl'];_0x4774c8['disable'](_0x4774c8['BLEND']),_0x4774c8['blendFunc'](_0x4774c8['ONE'],_0x4774c8['ZERO']),_0x4774c8['blendEquat'+'ion'](_0x4774c8['FUNC_ADD']),_0x4774c8['colorMask'](!(-0x9*0x427+-0x1*0x6bb+0x2c1a),!(0x61f+0x23b*-0x1+-0x3e4),!(0x196*-0x7+-0x1ad6+0x25f0),!(0x1bc6+-0x2*-0xced+-0x35a0)),_0x4774c8['blendColor'](0x1*0x254c+0x2419+-0x4965,0x6be+-0xcf+-0x31*0x1f,-0x9*-0x1fa+0x130*0x14+0x14c5*-0x2,0x1e50+-0x1e16+-0x1*0x3a),_0x4774c8['enable'](_0x4774c8['CULL_FACE']),this['cullFace']=_0x4774c8['BACK'],_0x4774c8['cullFace'](_0x4774c8['BACK']),_0x4774c8['enable'](_0x4774c8['DEPTH_TEST']),_0x4774c8['depthFunc'](_0x4774c8['LEQUAL']),_0x4774c8['depthMask'](!(-0x8*-0x1e8+-0x92f*-0x2+0x219e*-0x1)),this['stencil']=!(0x11e4*0x2+0x15d4+-0x399b),_0x4774c8['disable'](_0x4774c8['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Wi,this['stencilRef'+'Front']=this['stencilRef'+'Back']=0x600+-0x2*0x4fd+0x1*0x3fa,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=-0x9d*0xf+-0xf07+0x1939,_0x4774c8['stencilFun'+'c'](_0x4774c8['ALWAYS'],0x3dc+0xfbe+-0x1a*0xc1,-0x86*0x11+0xb*0x67+0x8c*0xa),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=xn,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=xn,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=xn,this['stencilWri'+'teMaskFron'+'t']=-0x11f6*0x1+0x1174*-0x2+0x35dd,this['stencilWri'+'teMaskBack']=0x11ae+0xc67+-0x92*0x33,_0x4774c8['stencilOp'](_0x4774c8['KEEP'],_0x4774c8['KEEP'],_0x4774c8['KEEP']),_0x4774c8['stencilMas'+'k'](0x525*-0x2+0x1*0x5e3+0x566),this['alphaToCov'+'erage']=!(0x1349+0x332*0x1+-0x19b*0xe),this['raster']=!(0x182a+0x16ca+0x259*-0x14),_0x4774c8['disable'](_0x4774c8['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x4774c8['disable'](_0x4774c8['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(-0x14*-0x5+0x1328+0x138b*-0x1),_0x4774c8['disable'](_0x4774c8['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=-0x8*0x1d8+0xf*-0xc5+0x4*0x693,_0x4774c8['clearDepth'](-0x1*-0x9fd+0x221f*-0x1+-0x1*-0x1823),this['clearColor']=new ie(-0xc7*0x8+-0x2*-0x82a+-0xa1c,-0x82*-0x7+-0x3b2*0x2+-0x2*-0x1eb,-0x12fb+-0x23c6+0x36c1*0x1,0x59d+0x17ce+0x1*-0x1d6b),_0x4774c8['clearColor'](0x1a21+0xd0a+-0x1*0x272b,0x1a5*-0x3+-0x6ef+0x5ef*0x2,-0xb9d*-0x1+-0x1b49+0xfac,-0x1981+0xeda+0x9*0x12f),this['clearStenc'+'il']=0xbcf*-0x2+-0x9*-0x128+0xd36,_0x4774c8['clearStenc'+'il'](0x2027+-0x5a*0x4b+-0x5c9),_0x4774c8['hint'](_0x4774c8['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x4774c8['NICEST']),_0x4774c8['enable'](_0x4774c8['SCISSOR_TE'+'ST']),_0x4774c8['pixelStore'+'i'](_0x4774c8['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x4774c8['NONE']),this['unpackFlip'+'Y']=!(0xaba*0x1+-0xb8*-0x35+-0x30d1),_0x4774c8['pixelStore'+'i'](_0x4774c8['UNPACK_FLI'+'P_Y_WEBGL'],!(0xa82+-0x1*-0x2137+0x1*-0x2bb8)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(0x2096*0x1+-0x1400+0x1*-0xc95),_0x4774c8['pixelStore'+'i'](_0x4774c8['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(-0x5d0*-0x6+-0x1c*0xef+0xf*-0x95)),_0x4774c8['pixelStore'+'i'](_0x4774c8['UNPACK_ALI'+'GNMENT'],0x1*0x2218+-0x1*0x15da+-0xc3d);}['initTextur'+'eUnits'](_0x9d52d0=-0x1d9b+-0x3f*0x7c+-0x1*-0x3c2f){this['textureUni'+'ts']=[];for(let _0x1958ec=0x1*-0x241c+-0x240e+0x3*0x180e;_0x1958ec<_0x9d52d0;_0x1958ec++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=-0x15ef+0x65*-0x5c+0x3*0x1369,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x2edaa2 of this['shaders'])_0x2edaa2['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x25e926 of this['shaders'])_0x25e926['restoreCon'+'text']();}['setViewpor'+'t'](_0x39031f,_0x4bfc3b,_0x48a7c2,_0x6db7c8){(this['vx']!==_0x39031f||this['vy']!==_0x4bfc3b||this['vw']!==_0x48a7c2||this['vh']!==_0x6db7c8)&&(this['gl']['viewport'](_0x39031f,_0x4bfc3b,_0x48a7c2,_0x6db7c8),this['vx']=_0x39031f,this['vy']=_0x4bfc3b,this['vw']=_0x48a7c2,this['vh']=_0x6db7c8);}['setScissor'](_0x5bacc0,_0xf60c5b,_0x3f8e5e,_0xf3e7fa){(this['sx']!==_0x5bacc0||this['sy']!==_0xf60c5b||this['sw']!==_0x3f8e5e||this['sh']!==_0xf3e7fa)&&(this['gl']['scissor'](_0x5bacc0,_0xf60c5b,_0x3f8e5e,_0xf3e7fa),this['sx']=_0x5bacc0,this['sy']=_0xf60c5b,this['sw']=_0x3f8e5e,this['sh']=_0xf3e7fa);}['setFramebu'+'ffer'](_0x5e8aea){if(this['activeFram'+'ebuffer']!==_0x5e8aea){const _0x4c2bc4=this['gl'];_0x4c2bc4['bindFrameb'+'uffer'](_0x4c2bc4['FRAMEBUFFE'+'R'],_0x5e8aea),this['activeFram'+'ebuffer']=_0x5e8aea;}}['copyRender'+'Target'](_0xb17367,_0x502a1e,_0x1ab005,_0x1d2931){var _0x5f4d06,_0x4ad6e8;const _0x529abf=this['gl'];if(_0xb17367===this['backBuffer']&&(_0xb17367=null),_0x1ab005){if(_0x502a1e){if(_0xb17367){if(!_0xb17367['_colorBuff'+'er']||!_0x502a1e['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x1914+0x22a*0x11+-0x14d*0x9);if(_0xb17367['_colorBuff'+'er']['_format']!==_0x502a1e['_colorBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(0x12c+-0x13a0+0x1275);}}else{if(!_0xb17367['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(0xad*-0x11+-0x308+0x1*0xe86);}}if(_0x1d2931&&_0xb17367&&!_0xb17367['_depth']){if(!_0xb17367['_depthBuff'+'er']||!_0x502a1e['_depthBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x1ca+0x500+-0x6c9);if(_0xb17367['_depthBuff'+'er']['_format']!==_0x502a1e['_depthBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(0x20a9*0x1+-0x1*-0x14a2+-0x354a);}Q['pushGpuMar'+'ker'](this,'COPY-RT');const _0x413737=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x502a1e,this['updateBegi'+'n']();const _0x7b8b7=_0xb17367?_0xb17367['impl']['_glFrameBu'+'ffer']:(_0x5f4d06=this['backBuffer'])==null?void(0x21d*0xd+0x17*-0x12b+0x34*-0x3):_0x5f4d06['impl']['_glFrameBu'+'ffer'],_0x55b11f=_0x502a1e?_0x502a1e['impl']['_glFrameBu'+'ffer']:(_0x4ad6e8=this['backBuffer'])==null?void(-0x19df+0x37*-0x2e+0x23c1):_0x4ad6e8['impl']['_glFrameBu'+'ffer'];w['assert'](_0x7b8b7!==_0x55b11f,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x529abf['bindFrameb'+'uffer'](_0x529abf['READ_FRAME'+'BUFFER'],_0x7b8b7),_0x529abf['bindFrameb'+'uffer'](_0x529abf['DRAW_FRAME'+'BUFFER'],_0x55b11f);const _0x374d88=_0xb17367?_0xb17367['width']:_0x502a1e?_0x502a1e['width']:this['width'],_0x499fdd=_0xb17367?_0xb17367['height']:_0x502a1e?_0x502a1e['height']:this['height'];return _0x529abf['blitFrameb'+'uffer'](-0x2c*-0x6a+0xba0+-0x1dd8,-0x997+0x1d42+-0x13ab*0x1,_0x374d88,_0x499fdd,-0x1f7a+0x1fe0+-0x66,0x1f84+-0x1d54+-0x230,_0x374d88,_0x499fdd,(_0x1ab005?_0x529abf['COLOR_BUFF'+'ER_BIT']:-0x26a1+-0x2475+0x4b16)|(_0x1d2931?_0x529abf['DEPTH_BUFF'+'ER_BIT']:-0xc60*0x1+0xb*-0x14b+0x26b*0xb),_0x529abf['NEAREST']),this['renderTarg'+'et']=_0x413737,_0x529abf['bindFrameb'+'uffer'](_0x529abf['FRAMEBUFFE'+'R'],_0x413737?_0x413737['impl']['_glFrameBu'+'ffer']:null),Q['popGpuMark'+'er'](this),!(-0x203e*0x1+-0x4ef*0x3+0x2f0b);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x4cc9a7){const _0xa1a33d=_0x4cc9a7['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0xa1a33d,w['assert'](_0xa1a33d),Q['pushGpuMar'+'ker'](this,'Pass:'+_0x4cc9a7['name']+'\x20RT:'+_0xa1a33d['name']),Q['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x13f655,height:_0x3db41d}=_0xa1a33d;this['setViewpor'+'t'](0x1e5e+0x2403+-0x4261*0x1,-0x1b24+-0xec5+0x29e9*0x1,_0x13f655,_0x3db41d),this['setScissor'](-0x2571+0xfc5*0x1+0x15ac,-0x149*-0x6+0x1*-0x114f+0x27*0x3f,_0x13f655,_0x3db41d);const _0xaf69c=_0x4cc9a7['colorOps'],_0x1bb8b2=_0x4cc9a7['depthStenc'+'ilOps'];if(_0xaf69c!=null&&_0xaf69c['clear']||_0x1bb8b2['clearDepth']||_0x1bb8b2['clearStenc'+'il']){let _0x565bf1=0x16a4+0x97*-0x3c+0xcc0;const _0x2396db={};_0xaf69c!=null&&_0xaf69c['clear']&&(_0x565bf1|=jo,_0x2396db['color']=[_0xaf69c['clearValue']['r'],_0xaf69c['clearValue']['g'],_0xaf69c['clearValue']['b'],_0xaf69c['clearValue']['a']]),_0x1bb8b2['clearDepth']&&(_0x565bf1|=Yo,_0x2396db['depth']=_0x1bb8b2['clearDepth'+'Value']),_0x1bb8b2['clearStenc'+'il']&&(_0x565bf1|=ch,_0x2396db['stencil']=_0x1bb8b2['clearStenc'+'ilValue']),_0x2396db['flags']=_0x565bf1,this['clear'](_0x2396db);}w['call'](()=>{this['insideRend'+'erPass']&&w['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(-0x4f*-0x2f+-0x7*0x213+0x4),Q['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x5140de){var _0x2bcbd3;Q['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x2d989c=this['renderTarg'+'et'],_0xb1d893=_0x5140de['colorArray'+'Ops']['length'];if(_0x2d989c){Da['length']=0x1977*-0x1+-0x1552*-0x1+0x425*0x1;const _0x3c7691=this['gl'];for(let _0x2c223b=-0x1*-0x1a38+-0x2a2*0x4+-0x7d8*0x2;_0x2c223b<_0xb1d893;_0x2c223b++){const _0xcd5d42=_0x5140de['colorArray'+'Ops'][_0x2c223b];_0xcd5d42['store']||_0xcd5d42['resolve']||Da['push'](_0x3c7691['COLOR_ATTA'+'CHMENT0']+_0x2c223b);}_0x2d989c!==this['backBuffer']&&(_0x5140de['depthStenc'+'ilOps']['storeDepth']||Da['push'](_0x3c7691['DEPTH_ATTA'+'CHMENT']),_0x5140de['depthStenc'+'ilOps']['storeStenc'+'il']||Da['push'](_0x3c7691['STENCIL_AT'+'TACHMENT'])),Da['length']>0xb*0xfa+0xb6a+0x8*-0x2c5&&_0x5140de['fullSizeCl'+'earRect']&&_0x3c7691['invalidate'+'Framebuffe'+'r'](_0x3c7691['DRAW_FRAME'+'BUFFER'],Da),_0xb1d893&&((_0x2bcbd3=_0x5140de['colorOps'])!=null&&_0x2bcbd3['resolve'])&&_0x5140de['samples']>-0x7d9+0x388+0x452&&_0x2d989c['autoResolv'+'e']&&_0x2d989c['resolve'](!(0x2268+0x43d+-0x26a5),!(-0x21*-0x1e+-0xacd+0x6f0)),_0x2d989c['depthBuffe'+'r']&&_0x5140de['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x5140de['samples']>-0x347*-0xa+-0x22a0+0x1db&&_0x2d989c['autoResolv'+'e']&&_0x2d989c['resolve'](!(0xee2+-0x1b*0x3a+-0x8c3),!(0x1159*-0x2+-0x4d2*0x7+0x4470));for(let _0x5a0ef7=-0xc6*0x2b+-0x1ceb+-0xb*-0x5a7;_0x5a0ef7<_0xb1d893;_0x5a0ef7++)if(_0x5140de['colorArray'+'Ops'][_0x5a0ef7]['genMipmaps']){const _0x5a7158=_0x2d989c['_colorBuff'+'ers'][_0x5a0ef7];_0x5a7158&&_0x5a7158['impl']['_glTexture']&&_0x5a7158['mipmaps']&&(Q['pushGpuMar'+'ker'](this,'MIPS'+_0x5a0ef7),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x9c5+-0x1*-0x51b+-0xedf)),this['bindTextur'+'e'](_0x5a7158),this['gl']['generateMi'+'pmap'](_0x5a7158['impl']['_glTarget']),Q['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(-0x2019+-0x9f+-0x1*-0x20b9),Q['popGpuMark'+'er'](this),Q['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x6d9ebd){this['_defaultFr'+'amebuffer']!==_0x6d9ebd&&(this['_defaultFr'+'amebuffer']=_0x6d9ebd,this['_defaultFr'+'amebufferC'+'hanged']=!(-0x1ca7+-0x1*-0x1463+0x844));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(Q['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x3b39be=-0x1a13+0xc8b+-0x1*-0xd88;_0x3b39be<this['textureUni'+'ts']['length'];++_0x3b39be)for(let _0x37650d=0x3*0x89+-0xb*0x4d+0x1b4;_0x37650d<-0xcd6+0x13af+-0x6d6;++_0x37650d)this['textureUni'+'ts'][_0x3b39be][_0x37650d]=null;}const _0x34612d=this['renderTarg'+'et']??this['backBuffer'];w['assert'](_0x34612d);const _0x4da09d=_0x34612d['impl'];_0x4da09d['initialize'+'d']||this['initRender'+'Target'](_0x34612d),this['setFramebu'+'ffer'](_0x4da09d['_glFrameBu'+'ffer']),Q['popGpuMark'+'er'](this);}['updateEnd'](){Q['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x191c2d=this['renderTarg'+'et'];if(_0x191c2d&&_0x191c2d!==this['backBuffer']){_0x191c2d['_samples']>-0x424+-0x1a14+0x1e39&&_0x191c2d['autoResolv'+'e']&&_0x191c2d['resolve']();const _0x26d040=_0x191c2d['_colorBuff'+'er'];_0x26d040&&_0x26d040['impl']['_glTexture']&&_0x26d040['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x1*-0x196f+0x22d6+0x1*-0x966)),this['bindTextur'+'e'](_0x26d040),this['gl']['generateMi'+'pmap'](_0x26d040['impl']['_glTarget']));}Q['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x42edcf){if(this['unpackFlip'+'Y']!==_0x42edcf){this['unpackFlip'+'Y']=_0x42edcf;const _0x34e983=this['gl'];_0x34e983['pixelStore'+'i'](_0x34e983['UNPACK_FLI'+'P_Y_WEBGL'],_0x42edcf);}}['setUnpackP'+'remultiply'+'Alpha'](_0x5a9fa3){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x5a9fa3){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x5a9fa3;const _0xda2814=this['gl'];_0xda2814['pixelStore'+'i'](_0xda2814['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x5a9fa3);}}['activeText'+'ure'](_0x180526){this['textureUni'+'t']!==_0x180526&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x180526),this['textureUni'+'t']=_0x180526);}['bindTextur'+'e'](_0x29d0e6){const _0x4e792f=_0x29d0e6['impl'],_0x246e67=_0x4e792f['_glTarget'],_0x4fd0b7=_0x4e792f['_glTexture'],_0x267e5f=this['textureUni'+'t'],_0x218f44=this['targetToSl'+'ot'][_0x246e67];this['textureUni'+'ts'][_0x267e5f][_0x218f44]!==_0x4fd0b7&&(this['gl']['bindTextur'+'e'](_0x246e67,_0x4fd0b7),this['textureUni'+'ts'][_0x267e5f][_0x218f44]=_0x4fd0b7);}['bindTextur'+'eOnUnit'](_0x2bdda6,_0x2bbc13){const _0x2a896c=_0x2bdda6['impl'],_0xb2cf2d=_0x2a896c['_glTarget'],_0x48a652=_0x2a896c['_glTexture'],_0x48bb06=this['targetToSl'+'ot'][_0xb2cf2d];this['textureUni'+'ts'][_0x2bbc13][_0x48bb06]!==_0x48a652&&(this['activeText'+'ure'](_0x2bbc13),this['gl']['bindTextur'+'e'](_0xb2cf2d,_0x48a652),this['textureUni'+'ts'][_0x2bbc13][_0x48bb06]=_0x48a652);}['setTexture'+'Parameters'](_0x1ccada){const _0x5f3768=this['gl'],_0x2beed7=_0x1ccada['impl']['dirtyParam'+'eterFlags'],_0x17f16d=_0x1ccada['impl']['_glTarget'];if(_0x2beed7&Ay){let _0x1eaef3=_0x1ccada['_minFilter'];(!_0x1ccada['_mipmaps']||_0x1ccada['_compresse'+'d']&&_0x1ccada['_levels']['length']===-0x44*-0x1e+0x769+0x148*-0xc)&&(_0x1eaef3===Kh||_0x1eaef3===Zh?_0x1eaef3=Te:(_0x1eaef3===Qh||_0x1eaef3===ma)&&(_0x1eaef3=vt)),_0x5f3768['texParamet'+'eri'](_0x17f16d,_0x5f3768['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x1eaef3]);}if(_0x2beed7&Cy&&_0x5f3768['texParamet'+'eri'](_0x17f16d,_0x5f3768['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x1ccada['_magFilter']]),_0x2beed7&Py&&_0x5f3768['texParamet'+'eri'](_0x17f16d,_0x5f3768['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x1ccada['_addressU']]),_0x2beed7&My&&_0x5f3768['texParamet'+'eri'](_0x17f16d,_0x5f3768['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x1ccada['_addressV']]),_0x2beed7&Dy&&_0x5f3768['texParamet'+'eri'](_0x17f16d,_0x5f3768['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x1ccada['_addressW']]),_0x2beed7&Iy&&_0x5f3768['texParamet'+'eri'](_0x17f16d,_0x5f3768['TEXTURE_CO'+'MPARE_MODE'],_0x1ccada['_compareOn'+'Read']?_0x5f3768['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x5f3768['NONE']),_0x2beed7&Ly&&_0x5f3768['texParamet'+'eri'](_0x17f16d,_0x5f3768['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x1ccada['_compareFu'+'nc']]),_0x2beed7&Ry){const _0x483e4f=this['extTexture'+'FilterAnis'+'otropic'];_0x483e4f&&_0x5f3768['texParamet'+'erf'](_0x17f16d,_0x483e4f['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],Y['clamp'](Math['round'](_0x1ccada['_anisotrop'+'y']),0x4a*-0x29+-0x12d9+0x1*0x1eb4,this['maxAnisotr'+'opy']));}}['setTexture'](_0x5bf3a8,_0x2c05c1){const _0x4781ba=_0x5bf3a8['impl'];_0x4781ba['_glTexture']||_0x4781ba['initialize'](this,_0x5bf3a8),_0x4781ba['dirtyParam'+'eterFlags']>-0x22ba+-0x98e*-0x3+0x610||_0x5bf3a8['_needsUplo'+'ad']||_0x5bf3a8['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x2c05c1),this['bindTextur'+'e'](_0x5bf3a8),_0x4781ba['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x5bf3a8),_0x4781ba['dirtyParam'+'eterFlags']=-0xce0+0x26d4+-0x2c*0x97),(_0x5bf3a8['_needsUplo'+'ad']||_0x5bf3a8['_needsMipm'+'apsUpload'])&&(_0x4781ba['upload'](this,_0x5bf3a8),_0x5bf3a8['_needsUplo'+'ad']=!(0xe7a+-0x259*-0xa+-0x1d*0x14f),_0x5bf3a8['_needsMipm'+'apsUpload']=!(0x470+0x181*0x17+-0x2706))):this['bindTextur'+'eOnUnit'](_0x5bf3a8,_0x2c05c1);}['createVert'+'exArray'](_0x381212){let _0x1bcffc,_0x2d7f6c;const _0xa93686=_0x381212['length']>0x61*0x5d+0x20f3+-0x1*0x442f;if(_0xa93686){_0x1bcffc='';for(let _0x2cbb02=-0x2264+-0xed6+0x313a;_0x2cbb02<_0x381212['length'];_0x2cbb02++){const _0x5076c1=_0x381212[_0x2cbb02];_0x1bcffc+=_0x5076c1['id']+_0x5076c1['format']['renderingH'+'ash'];}_0x2d7f6c=this['_vaoMap']['get'](_0x1bcffc);}if(!_0x2d7f6c){const _0x322e9a=this['gl'];_0x2d7f6c=_0x322e9a['createVert'+'exArray'](),_0x322e9a['bindVertex'+'Array'](_0x2d7f6c),_0x322e9a['bindBuffer'](_0x322e9a['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x3ed2f2=!(0x45d+0x1*0x1126+-0x1582);for(let _0xd0368=0xca*0x2e+-0xb*-0x16b+-0x33e5;_0xd0368<_0x381212['length'];_0xd0368++){const _0x1e7032=_0x381212[_0xd0368];_0x322e9a['bindBuffer'](_0x322e9a['ARRAY_BUFF'+'ER'],_0x1e7032['impl']['bufferId']);const _0x1d4db=_0x1e7032['format']['elements'];for(let _0x2fc450=0x509+0x33d+-0x846;_0x2fc450<_0x1d4db['length'];_0x2fc450++){const _0x47be64=_0x1d4db[_0x2fc450],_0x5f4fa3=Le[_0x47be64['name']];_0x5f4fa3===-0x1f80+-0x42f+0x23af&&(_0x3ed2f2=!(-0x46e+0x3*-0x586+0x1500)),_0x47be64['asInt']?_0x322e9a['vertexAttr'+'ibIPointer'](_0x5f4fa3,_0x47be64['numCompone'+'nts'],this['glType'][_0x47be64['dataType']],_0x47be64['stride'],_0x47be64['offset']):_0x322e9a['vertexAttr'+'ibPointer'](_0x5f4fa3,_0x47be64['numCompone'+'nts'],this['glType'][_0x47be64['dataType']],_0x47be64['normalize'],_0x47be64['stride'],_0x47be64['offset']),_0x322e9a['enableVert'+'exAttribAr'+'ray'](_0x5f4fa3),_0x1e7032['format']['instancing']&&_0x322e9a['vertexAttr'+'ibDivisor'](_0x5f4fa3,0x1*0xc92+-0x2444+0x17b3);}}_0x322e9a['bindVertex'+'Array'](null),_0x322e9a['bindBuffer'](_0x322e9a['ARRAY_BUFF'+'ER'],null),_0xa93686&&this['_vaoMap']['set'](_0x1bcffc,_0x2d7f6c),_0x3ed2f2||w['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x2d7f6c;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](_0x166b3f){const _0x5b0ce6=this['gl'];let _0x139a25;if(this['vertexBuff'+'ers']['length']===-0x1156+0x1e7f*0x1+-0xd28){const _0x342f28=this['vertexBuff'+'ers'][-0x1479+-0x1524+0x1*0x299d];w['assert'](_0x342f28['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x342f28['impl']['vao']||(_0x342f28['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x139a25=_0x342f28['impl']['vao'];}else _0x139a25=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x139a25&&(this['boundVao']=_0x139a25,_0x5b0ce6['bindVertex'+'Array'](_0x139a25));const _0x4ebbc5=_0x166b3f?_0x166b3f['impl']['bufferId']:null;_0x5b0ce6['bindBuffer'](_0x5b0ce6['ELEMENT_AR'+'RAY_BUFFER'],_0x4ebbc5);}['draw'](_0x229492,_0x52e7b7,_0x24d206,_0xf7700c,_0x303468=!(0x1*-0x2186+0x1e86*-0x1+-0x2*-0x2006),_0x32097e=!(-0x1*0x1451+-0x665*-0x4+-0x543)){const _0x4d3a1c=this['shader'];if(_0x4d3a1c&&(this['activateSh'+'ader'](),this['shaderVali'+'d'])){const _0x2ee0db=this['gl'];_0x303468&&(w['call'](()=>{var _0x3e24dc,_0x242b61;return this['validateAt'+'tributes'](this['shader'],(_0x3e24dc=this['vertexBuff'+'ers'][-0x232e+0x4*-0x41c+-0x339e*-0x1])==null?void(-0xd99+0x1bcd+0xc*-0x12f):_0x3e24dc['format'],(_0x242b61=this['vertexBuff'+'ers'][-0x303*-0xb+-0x3ee+-0x1*0x1d32])==null?void(-0x1d5b+-0x175e+0x34b9):_0x242b61['format']);}),this['setBuffers'](_0x52e7b7));let _0x33f8a7=0x6ff+-0x2*-0xf66+-0x25cb;const _0x3d0c8b=_0x4d3a1c['impl']['samplers'];for(let _0x386534=0x9f5*-0x1+0x20e5+-0x16f0,_0x3ded7c=_0x3d0c8b['length'];_0x386534<_0x3ded7c;_0x386534++){const _0x31ea58=_0x3d0c8b[_0x386534];let _0x25bb31=_0x31ea58['scopeId']['value'];if(!_0x25bb31){const _0x1eeda9=_0x31ea58['scopeId']['name'];w['assert'](_0x1eeda9!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),w['assert'](_0x1eeda9!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x1eeda9==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x25bb31=fa(this,'white')),_0x1eeda9==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x25bb31=fa(this,'pink')),_0x25bb31||(w['errorOnce']('Shader\x20'+_0x4d3a1c['name']+'\x20requires\x20'+_0x1eeda9+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+Q['toString']()+']',_0x4d3a1c),_0x25bb31=fa(this,'pink'));}if(_0x25bb31 instanceof _e){const _0x3033d4=_0x25bb31;this['setTexture'](_0x3033d4,_0x33f8a7),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<-0x99*-0x12+0x2e*0xd+-0xd16&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x3033d4?w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x3033d4}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x3033d4&&w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x3033d4})),_0x31ea58['slot']!==_0x33f8a7&&(_0x2ee0db['uniform1i'](_0x31ea58['locationId'],_0x33f8a7),_0x31ea58['slot']=_0x33f8a7),_0x33f8a7++;}else{_0x31ea58['array']['length']=0x2483+-0x1987+-0xafc;const _0x5b2a88=_0x25bb31['length'];for(let _0x5e7197=-0xee0+0x2332+-0x1452;_0x5e7197<_0x5b2a88;_0x5e7197++){const _0x91509d=_0x25bb31[_0x5e7197];this['setTexture'](_0x91509d,_0x33f8a7),_0x31ea58['array'][_0x5e7197]=_0x33f8a7,_0x33f8a7++;}_0x2ee0db['uniform1iv'](_0x31ea58['locationId'],_0x31ea58['array']);}}const _0xfb43c=_0x4d3a1c['impl']['uniforms'];for(let _0xbdd826=0x1dbc+-0x1517*-0x1+-0x32d3,_0x475776=_0xfb43c['length'];_0xbdd826<_0x475776;_0xbdd826++){const _0x2f63ce=_0xfb43c[_0xbdd826],_0x16a61b=_0x2f63ce['scopeId'],_0x29a5ed=_0x2f63ce['version'],_0x56b201=_0x16a61b['versionObj'+'ect']['version'];if(_0x29a5ed['globalId']!==_0x56b201['globalId']||_0x29a5ed['revision']!==_0x56b201['revision']){_0x29a5ed['globalId']=_0x56b201['globalId'],_0x29a5ed['revision']=_0x56b201['revision'];const _0x30e143=_0x16a61b['value'];_0x30e143!=null?this['commitFunc'+'tion'][_0x2f63ce['dataType']](_0x2f63ce,_0x30e143):w['warnOnce']('Shader\x20['+_0x4d3a1c['label']+(']\x20requires'+'\x20uniform\x20[')+_0x2f63ce['scopeId']['name']+(']\x20which\x20ha'+'s\x20not\x20been'+'\x20set,\x20whil'+'e\x20renderin'+'g\x20[')+Q['toString']()+']');}}this['transformF'+'eedbackBuf'+'fer']&&(_0x2ee0db['bindBuffer'+'Base'](_0x2ee0db['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x1*0x213a+0x225+0x1f15,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x2ee0db['beginTrans'+'formFeedba'+'ck'](_0x2ee0db['POINTS']));const _0x423584=this['glPrimitiv'+'e'][_0x229492['type']],_0x2daabd=_0x229492['count'];if(_0x229492['indexed']){w['assert'](_0x52e7b7['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x53c649=_0x52e7b7['impl']['glFormat'],_0x5423e8=_0x229492['base']*_0x52e7b7['bytesPerIn'+'dex'];_0x24d206>0x87*-0x1+0x4*0x56+-0xd1?_0x2ee0db['drawElemen'+'tsInstance'+'d'](_0x423584,_0x2daabd,_0x53c649,_0x5423e8,_0x24d206):_0x2ee0db['drawElemen'+'ts'](_0x423584,_0x2daabd,_0x53c649,_0x5423e8);}else{const _0xeedda6=_0x229492['base'];_0x24d206>-0x10f4+0x1*0x39a+0xd5a?_0x2ee0db['drawArrays'+'Instanced'](_0x423584,_0xeedda6,_0x2daabd,_0x24d206):_0x2ee0db['drawArrays'](_0x423584,_0xeedda6,_0x2daabd);}this['transformF'+'eedbackBuf'+'fer']&&(_0x2ee0db['endTransfo'+'rmFeedback'](),_0x2ee0db['bindBuffer'+'Base'](_0x2ee0db['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x57e*-0x4+0x23c5+0x27*-0x17b,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x229492['type']]+=_0x229492['count']*(_0x24d206>-0x457*-0x7+0x7d*-0x8+-0x1a78?_0x24d206:0x1*0x74f+-0x9*0x82+-0x32*0xe);}_0x32097e&&this['clearVerte'+'xBuffer']();}['clear'](_0xe4dac2){const _0x4a49f9=this['defaultCle'+'arOptions'];_0xe4dac2=_0xe4dac2||_0x4a49f9;const _0x39b4a8=_0xe4dac2['flags']??_0x4a49f9['flags'];if(_0x39b4a8!==0x1*-0x269+-0x3*0x7cf+-0xceb*-0x2){const _0x2992bd=this['gl'];if(_0x39b4a8&jo){const _0x10f2b9=_0xe4dac2['color']??_0x4a49f9['color'],_0x4b836e=_0x10f2b9[0x1275+-0xb52+-0x7*0x105],_0x4e5cca=_0x10f2b9[0x4*0x14+-0x663+0x30a*0x2],_0x1410f0=_0x10f2b9[0x1*0x2623+0x1f06+-0x4527],_0x3d58ab=_0x10f2b9[0x1b9e*0x1+0x55+-0xc*0x254],_0x4cc66a=this['clearColor'];(_0x4b836e!==_0x4cc66a['r']||_0x4e5cca!==_0x4cc66a['g']||_0x1410f0!==_0x4cc66a['b']||_0x3d58ab!==_0x4cc66a['a'])&&(this['gl']['clearColor'](_0x4b836e,_0x4e5cca,_0x1410f0,_0x3d58ab),this['clearColor']['set'](_0x4b836e,_0x4e5cca,_0x1410f0,_0x3d58ab)),this['setBlendSt'+'ate'](pt['NOBLEND']);}if(_0x39b4a8&Yo){const _0x1b2f87=_0xe4dac2['depth']??_0x4a49f9['depth'];_0x1b2f87!==this['clearDepth']&&(this['gl']['clearDepth'](_0x1b2f87),this['clearDepth']=_0x1b2f87),this['setDepthSt'+'ate'](Yt['WRITEDEPTH']);}if(_0x39b4a8&ch){const _0x49edd4=_0xe4dac2['stencil']??_0x4a49f9['stencil'];_0x49edd4!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x49edd4),this['clearStenc'+'il']=_0x49edd4),_0x2992bd['stencilMas'+'k'](-0x11f4+-0x10ae+0x23a1),this['stencilWri'+'teMaskFron'+'t']=-0x1cb4+-0x29*-0xb5+-0xd*-0xe,this['stencilWri'+'teMaskBack']=-0x3f*-0x24+-0x1084*-0x1+0x1861*-0x1;}_0x2992bd['clear'](this['glClearFla'+'g'][_0x39b4a8]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x5768c5,_0x419873,_0x16b506,_0x22afa2,_0x2f5e54){const _0x1f6ba9=this['gl'];_0x1f6ba9['readPixels'](_0x5768c5,_0x419873,_0x16b506,_0x22afa2,_0x1f6ba9['RGBA'],_0x1f6ba9['UNSIGNED_B'+'YTE'],_0x2f5e54);}['clientWait'+'Async'](_0x588dc3,_0x244cce){const _0x48d3da=this['gl'],_0x14456f=_0x48d3da['fenceSync'](_0x48d3da['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],0x1d1e+0xdea+-0x2b08);return this['submit'](),new Promise((_0x2e4756,_0x13a48e)=>{function _0xeab8ba(){const _0x488e75=_0x48d3da['clientWait'+'Sync'](_0x14456f,_0x588dc3,0x31*0x74+0xe9*-0xa+-0xd1a);_0x488e75===_0x48d3da['TIMEOUT_EX'+'PIRED']?setTimeout(_0xeab8ba,_0x244cce):(_0x48d3da['deleteSync'](_0x14456f),_0x488e75===_0x48d3da['WAIT_FAILE'+'D']?_0x13a48e(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed')):_0x2e4756());}_0xeab8ba();});}async['readPixels'+'Async'](_0x41b0ee,_0x3fda47,_0xac2b7c,_0x18c63f,_0x19193a){var _0x3b0fd9;const _0x4fabd2=this['gl'],_0x3153b6=(_0x3b0fd9=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(0x1f57+0x8*-0xca+-0x1907):_0x3b0fd9['impl'],_0x487969=(_0x3153b6==null?void(0x26ff+-0x1f*-0xd8+-0x4127):_0x3153b6['_glFormat'])??_0x4fabd2['RGBA'],_0x3fbaa2=(_0x3153b6==null?void(0x14fb*0x1+-0x1f0*-0x9+0x1*-0x266b):_0x3153b6['_glPixelTy'+'pe'])??_0x4fabd2['UNSIGNED_B'+'YTE'],_0x4a24d6=_0x4fabd2['createBuff'+'er']();return _0x4fabd2['bindBuffer'](_0x4fabd2['PIXEL_PACK'+'_BUFFER'],_0x4a24d6),_0x4fabd2['bufferData'](_0x4fabd2['PIXEL_PACK'+'_BUFFER'],_0x19193a['byteLength'],_0x4fabd2['STREAM_REA'+'D']),_0x4fabd2['readPixels'](_0x41b0ee,_0x3fda47,_0xac2b7c,_0x18c63f,_0x487969,_0x3fbaa2,-0x1ec+-0x16c0+0x1*0x18ac),_0x4fabd2['bindBuffer'](_0x4fabd2['PIXEL_PACK'+'_BUFFER'],null),await this['clientWait'+'Async'](-0x1db8+0x36+-0x2*-0xec1,-0x1*0x801+0x30*-0x9e+0x25b1),_0x4fabd2['bindBuffer'](_0x4fabd2['PIXEL_PACK'+'_BUFFER'],_0x4a24d6),_0x4fabd2['getBufferS'+'ubData'](_0x4fabd2['PIXEL_PACK'+'_BUFFER'],-0x248*-0xa+0xc42+-0x2312,_0x19193a),_0x4fabd2['bindBuffer'](_0x4fabd2['PIXEL_PACK'+'_BUFFER'],null),_0x4fabd2['deleteBuff'+'er'](_0x4a24d6),_0x19193a;}['readTextur'+'eAsync'](_0x2e3c2b,_0x4eed59,_0x285b74,_0x1341d9,_0x3adc0b,_0x460e1d){const _0x125936=_0x460e1d['face']??-0x17d+0x94*-0x2b+-0x47*-0x5f,_0x1636b9=_0x460e1d['renderTarg'+'et']??new gt({'colorBuffer':_0x2e3c2b,'depth':!(0x17ca+-0x1*-0x12a7+0x10*-0x2a7),'face':_0x125936});w['assert'](_0x1636b9['colorBuffe'+'r']===_0x2e3c2b);const _0x45e418=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x1341d9,_0x3adc0b,0x5*0xbc+0x5e*-0xb+0x5f,_0x2e3c2b['_format'])),_0x12fdda=_0x460e1d['data']??new(my(_0x2e3c2b['_format']))(_0x45e418);return this['setRenderT'+'arget'](_0x1636b9),this['initRender'+'Target'](_0x1636b9),new Promise((_0x78ea27,_0x340795)=>{this['readPixels'+'Async'](_0x4eed59,_0x285b74,_0x1341d9,_0x3adc0b,_0x12fdda)['then'](_0x1ce607=>{_0x460e1d['renderTarg'+'et']||_0x1636b9['destroy'](),_0x78ea27(_0x1ce607);})['catch'](_0x340795);});}async['writeTextu'+'reAsync'](_0x584879,_0x35e09b,_0x1f141a,_0x13f0a3,_0xf2a411,_0x1de522){const _0x32a05a=this['gl'],_0x4e4cf1=_0x584879['impl'],_0x1a1521=(_0x4e4cf1==null?void(0xf0+-0x825+-0x3*-0x267):_0x4e4cf1['_glFormat'])??_0x32a05a['RGBA'],_0x4031e4=(_0x4e4cf1==null?void(0x1973*0x1+-0x2067*-0x1+-0x39da):_0x4e4cf1['_glPixelTy'+'pe'])??_0x32a05a['UNSIGNED_B'+'YTE'],_0x5c97f5=_0x32a05a['createBuff'+'er']();_0x32a05a['bindBuffer'](_0x32a05a['PIXEL_UNPA'+'CK_BUFFER'],_0x5c97f5),_0x32a05a['bufferData'](_0x32a05a['PIXEL_UNPA'+'CK_BUFFER'],_0x1de522,_0x32a05a['STREAM_DRA'+'W']),_0x32a05a['bindTextur'+'e'](_0x32a05a['TEXTURE_2D'],_0x4e4cf1['_glTexture']),_0x32a05a['texSubImag'+'e2D'](_0x32a05a['TEXTURE_2D'],0xeb6+0x99f+0x1*-0x1855,_0x35e09b,_0x1f141a,_0x13f0a3,_0xf2a411,_0x1a1521,_0x4031e4,0x36*-0x93+0x26f6+-0x7f4),_0x32a05a['bindBuffer'](_0x32a05a['PIXEL_UNPA'+'CK_BUFFER'],null),_0x584879['_needsUplo'+'ad']=!(0x183+-0x4*0x878+-0x6*-0x565),_0x584879['_mipmapsUp'+'loaded']=!(0x1352+-0x2516+0x11c5),await this['clientWait'+'Async'](0x1be7*-0x1+-0x2b+0x1c12,-0x1529+0xf97*0x1+-0xe*-0x67);}['setAlphaTo'+'Coverage'](_0x1aff1a){this['alphaToCov'+'erage']!==_0x1aff1a&&(this['alphaToCov'+'erage']=_0x1aff1a,_0x1aff1a?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x41f34b){if(this['transformF'+'eedbackBuf'+'fer']!==_0x41f34b){this['transformF'+'eedbackBuf'+'fer']=_0x41f34b;const _0x5de2d2=this['gl'];_0x41f34b?(this['feedback']||(this['feedback']=_0x5de2d2['createTran'+'sformFeedb'+'ack']()),_0x5de2d2['bindTransf'+'ormFeedbac'+'k'](_0x5de2d2['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x5de2d2['bindTransf'+'ormFeedbac'+'k'](_0x5de2d2['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x31f365){this['raster']!==_0x31f365&&(this['raster']=_0x31f365,_0x31f365?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x280a52){if(this['stencil']!==_0x280a52){const _0x4d5418=this['gl'];_0x280a52?_0x4d5418['enable'](_0x4d5418['STENCIL_TE'+'ST']):_0x4d5418['disable'](_0x4d5418['STENCIL_TE'+'ST']),this['stencil']=_0x280a52;}}['setStencil'+'Func'](_0x1ec3bd,_0x1198d9,_0x2fb995){(this['stencilFun'+'cFront']!==_0x1ec3bd||this['stencilRef'+'Front']!==_0x1198d9||this['stencilMas'+'kFront']!==_0x2fb995||this['stencilFun'+'cBack']!==_0x1ec3bd||this['stencilRef'+'Back']!==_0x1198d9||this['stencilMas'+'kBack']!==_0x2fb995)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x1ec3bd],_0x1198d9,_0x2fb995),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x1ec3bd,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x1198d9,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x2fb995);}['setStencil'+'FuncFront'](_0x19bae2,_0x410321,_0x32827d){if(this['stencilFun'+'cFront']!==_0x19bae2||this['stencilRef'+'Front']!==_0x410321||this['stencilMas'+'kFront']!==_0x32827d){const _0x400460=this['gl'];_0x400460['stencilFun'+'cSeparate'](_0x400460['FRONT'],this['glComparis'+'on'][_0x19bae2],_0x410321,_0x32827d),this['stencilFun'+'cFront']=_0x19bae2,this['stencilRef'+'Front']=_0x410321,this['stencilMas'+'kFront']=_0x32827d;}}['setStencil'+'FuncBack'](_0x3fd17a,_0xe8e9a3,_0x15db8d){if(this['stencilFun'+'cBack']!==_0x3fd17a||this['stencilRef'+'Back']!==_0xe8e9a3||this['stencilMas'+'kBack']!==_0x15db8d){const _0x3932c5=this['gl'];_0x3932c5['stencilFun'+'cSeparate'](_0x3932c5['BACK'],this['glComparis'+'on'][_0x3fd17a],_0xe8e9a3,_0x15db8d),this['stencilFun'+'cBack']=_0x3fd17a,this['stencilRef'+'Back']=_0xe8e9a3,this['stencilMas'+'kBack']=_0x15db8d;}}['setStencil'+'Operation'](_0x305eb1,_0x310a2f,_0x479d5a,_0x13f115){(this['stencilFai'+'lFront']!==_0x305eb1||this['stencilZfa'+'ilFront']!==_0x310a2f||this['stencilZpa'+'ssFront']!==_0x479d5a||this['stencilFai'+'lBack']!==_0x305eb1||this['stencilZfa'+'ilBack']!==_0x310a2f||this['stencilZpa'+'ssBack']!==_0x479d5a)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x305eb1],this['glStencilO'+'p'][_0x310a2f],this['glStencilO'+'p'][_0x479d5a]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x305eb1,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x310a2f,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x479d5a),(this['stencilWri'+'teMaskFron'+'t']!==_0x13f115||this['stencilWri'+'teMaskBack']!==_0x13f115)&&(this['gl']['stencilMas'+'k'](_0x13f115),this['stencilWri'+'teMaskFron'+'t']=_0x13f115,this['stencilWri'+'teMaskBack']=_0x13f115);}['setStencil'+'OperationF'+'ront'](_0x5bfcb9,_0x1af31b,_0x4dd9a0,_0x314e68){(this['stencilFai'+'lFront']!==_0x5bfcb9||this['stencilZfa'+'ilFront']!==_0x1af31b||this['stencilZpa'+'ssFront']!==_0x4dd9a0)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x5bfcb9],this['glStencilO'+'p'][_0x1af31b],this['glStencilO'+'p'][_0x4dd9a0]),this['stencilFai'+'lFront']=_0x5bfcb9,this['stencilZfa'+'ilFront']=_0x1af31b,this['stencilZpa'+'ssFront']=_0x4dd9a0),this['stencilWri'+'teMaskFron'+'t']!==_0x314e68&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x314e68),this['stencilWri'+'teMaskFron'+'t']=_0x314e68);}['setStencil'+'OperationB'+'ack'](_0x62ea13,_0xda973b,_0x1fa521,_0x3f2641){(this['stencilFai'+'lBack']!==_0x62ea13||this['stencilZfa'+'ilBack']!==_0xda973b||this['stencilZpa'+'ssBack']!==_0x1fa521)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x62ea13],this['glStencilO'+'p'][_0xda973b],this['glStencilO'+'p'][_0x1fa521]),this['stencilFai'+'lBack']=_0x62ea13,this['stencilZfa'+'ilBack']=_0xda973b,this['stencilZpa'+'ssBack']=_0x1fa521),this['stencilWri'+'teMaskBack']!==_0x3f2641&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x3f2641),this['stencilWri'+'teMaskBack']=_0x3f2641);}['setBlendSt'+'ate'](_0x3a11ce){const _0x538760=this['blendState'];if(!_0x538760['equals'](_0x3a11ce)){const _0x1989ca=this['gl'],{blend:_0x1e3c16,colorOp:_0x36ac9a,alphaOp:_0x4b3864,colorSrcFactor:_0x250070,colorDstFactor:_0x279ca8,alphaSrcFactor:_0x473b6f,alphaDstFactor:_0x7e2ef9}=_0x3a11ce;if(_0x538760['blend']!==_0x1e3c16&&(_0x1e3c16?_0x1989ca['enable'](_0x1989ca['BLEND']):_0x1989ca['disable'](_0x1989ca['BLEND'])),_0x538760['colorOp']!==_0x36ac9a||_0x538760['alphaOp']!==_0x4b3864){const _0x1d27d8=this['glBlendEqu'+'ation'];_0x1989ca['blendEquat'+'ionSeparat'+'e'](_0x1d27d8[_0x36ac9a],_0x1d27d8[_0x4b3864]);}(_0x538760['colorSrcFa'+'ctor']!==_0x250070||_0x538760['colorDstFa'+'ctor']!==_0x279ca8||_0x538760['alphaSrcFa'+'ctor']!==_0x473b6f||_0x538760['alphaDstFa'+'ctor']!==_0x7e2ef9)&&_0x1989ca['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x250070],this['glBlendFun'+'ctionColor'][_0x279ca8],this['glBlendFun'+'ctionAlpha'][_0x473b6f],this['glBlendFun'+'ctionAlpha'][_0x7e2ef9]),_0x538760['allWrite']!==_0x3a11ce['allWrite']&&this['gl']['colorMask'](_0x3a11ce['redWrite'],_0x3a11ce['greenWrite'],_0x3a11ce['blueWrite'],_0x3a11ce['alphaWrite']),_0x538760['copy'](_0x3a11ce);}}['setBlendCo'+'lor'](_0x4db6cc,_0x3adaea,_0x2e6ffb,_0x32951b){const _0x5b8d9e=this['blendColor'];(_0x4db6cc!==_0x5b8d9e['r']||_0x3adaea!==_0x5b8d9e['g']||_0x2e6ffb!==_0x5b8d9e['b']||_0x32951b!==_0x5b8d9e['a'])&&(this['gl']['blendColor'](_0x4db6cc,_0x3adaea,_0x2e6ffb,_0x32951b),_0x5b8d9e['set'](_0x4db6cc,_0x3adaea,_0x2e6ffb,_0x32951b));}['setStencil'+'State'](_0x57d484,_0x121546){_0x57d484||_0x121546?(this['setStencil'+'Test'](!(-0x1b69+-0x485*-0x3+0xdda)),_0x57d484===_0x121546?(this['setStencil'+'Func'](_0x57d484['func'],_0x57d484['ref'],_0x57d484['readMask']),this['setStencil'+'Operation'](_0x57d484['fail'],_0x57d484['zfail'],_0x57d484['zpass'],_0x57d484['writeMask'])):(_0x57d484??(_0x57d484=pi['DEFAULT']),this['setStencil'+'FuncFront'](_0x57d484['func'],_0x57d484['ref'],_0x57d484['readMask']),this['setStencil'+'OperationF'+'ront'](_0x57d484['fail'],_0x57d484['zfail'],_0x57d484['zpass'],_0x57d484['writeMask']),_0x121546??(_0x121546=pi['DEFAULT']),this['setStencil'+'FuncBack'](_0x121546['func'],_0x121546['ref'],_0x121546['readMask']),this['setStencil'+'OperationB'+'ack'](_0x121546['fail'],_0x121546['zfail'],_0x121546['zpass'],_0x121546['writeMask']))):this['setStencil'+'Test'](!(0x14ac+-0x17*-0x89+-0x20fa));}['setDepthSt'+'ate'](_0x44a44e){const _0x210748=this['depthState'];if(!_0x210748['equals'](_0x44a44e)){const _0x15be41=this['gl'],_0x26ed45=_0x44a44e['write'];_0x210748['write']!==_0x26ed45&&_0x15be41['depthMask'](_0x26ed45);let {func:_0x2de00e,test:_0xdc55cf}=_0x44a44e;!_0xdc55cf&&_0x26ed45&&(_0xdc55cf=!(-0x3b8+-0x1*0x118d+0x1545),_0x2de00e=Wi),_0x210748['func']!==_0x2de00e&&_0x15be41['depthFunc'](this['glComparis'+'on'][_0x2de00e]),_0x210748['test']!==_0xdc55cf&&(_0xdc55cf?_0x15be41['enable'](_0x15be41['DEPTH_TEST']):_0x15be41['disable'](_0x15be41['DEPTH_TEST']));const {depthBias:_0xcee155,depthBiasSlope:_0x2d1073}=_0x44a44e;_0xcee155||_0x2d1073?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0x3*-0x287+0x11*-0x3a+0xb6f),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x15be41['polygonOff'+'set'](_0x2d1073,_0xcee155)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(0x1*0x1cdc+-0xdb7*-0x1+0x2a92*-0x1),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x210748['copy'](_0x44a44e);}}['setCullMod'+'e'](_0x53e311){if(this['cullMode']!==_0x53e311){if(_0x53e311===bt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===bt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x4eeb38=this['glCull'][_0x53e311];this['cullFace']!==_0x4eeb38&&(this['gl']['cullFace'](_0x4eeb38),this['cullFace']=_0x4eeb38);}this['cullMode']=_0x53e311;}}['setShader'](_0x109807,_0x1d2c23=!(0x13ae+-0x1ab*0x5+-0xb56*0x1)){_0x109807!==this['shader']&&(this['shader']=_0x109807,this['shaderAsyn'+'cCompile']=_0x1d2c23,this['shaderVali'+'d']=void(0x653*0x1+-0x532+0x121*-0x1),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](){const {shader:_0x4f7453}=this,{impl:_0x11deeb}=_0x4f7453;this['shaderVali'+'d']===void(0x1b*-0xe5+0x6*0x1c4+0xd8f)&&(_0x4f7453['failed']?this['shaderVali'+'d']=!(0x1d5f+0x191*-0x12+-0x3*0x64):_0x4f7453['ready']||(this['shaderAsyn'+'cCompile']?_0x11deeb['isLinked'](this)?_0x11deeb['finalize'](this,_0x4f7453)||(_0x4f7453['failed']=!(-0x1*-0x1505+-0x861+-0xca4),this['shaderVali'+'d']=!(-0x1bb9+0x1*0x86d+0x134d)):this['shaderVali'+'d']=!(0x605+-0x17e0+0x11dc):_0x11deeb['finalize'](this,_0x4f7453)||(_0x4f7453['failed']=!(0x71*-0x2c+-0x427+0x1793*0x1),this['shaderVali'+'d']=!(0x1*0x5cb+-0x1*-0x5e+-0x628)))),this['shaderVali'+'d']===void(0xe74*-0x2+-0x4f*0x5d+0x399b*0x1)&&(this['gl']['useProgram'](_0x11deeb['glProgram']),this['shaderVali'+'d']=!(-0xc1*-0x9+0xc*-0x283+-0x3*-0x7c9));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x4e6193=this['gl'];this['_vaoMap']['forEach']((_0x176f73,_0x3145ab,_0x4599d1)=>{_0x4e6193['deleteVert'+'exArray'](_0x176f73);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x122cc0){_0x122cc0?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x59cead=-0x50*-0x2+-0x6*-0x3cf+-0x1716){const _0x478421=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x478421['loseContex'+'t'](),setTimeout(()=>_0x478421['restoreCon'+'text'](),_0x59cead);}}let nw=-0xb01+0x1d1a+-0x1219;class br{constructor(_0x4c18cc,_0x110847,_0x839464,_0xba4b13=ms,_0x41ca94,_0x2839c8){this['device']=_0x4c18cc,this['format']=_0x110847,this['numIndices']=_0x839464,this['usage']=_0xba4b13,this['id']=nw++,this['impl']=_0x4c18cc['createInde'+'xBufferImp'+'l'](this,_0x2839c8);const _0xacdf0e=hT[_0x110847];this['bytesPerIn'+'dex']=_0xacdf0e,this['numBytes']=this['numIndices']*_0xacdf0e,_0x41ca94?this['setData'](_0x41ca94):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x4c18cc['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x224712=this['device'],_0x28327f=_0x224712['buffers']['indexOf'](this);_0x28327f!==-(0x1230+0x1b39+0x5ad*-0x8)&&_0x224712['buffers']['splice'](_0x28327f,-0x18b9*-0x1+0x8a1*-0x3+0x12b),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x224712),this['adjustVram'+'SizeTracki'+'ng'](_0x224712['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x270fd0,_0x14490e){w['trace'](j0,this['id']+'\x20size:\x20'+_0x14490e+'\x20vram.ib:\x20'+_0x270fd0['ib']+'\x20=>\x20'+(_0x270fd0['ib']+_0x14490e)),_0x270fd0['ib']+=_0x14490e;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x1ba0d4){return _0x1ba0d4['byteLength']!==this['numBytes']?(w['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x1ba0d4['byteLength']),!(0xa6d+-0x84e*-0x2+-0x1b08)):(this['storage']=_0x1ba0d4,this['unlock'](),!(0x927+-0xeb6+0x58f));}['_lockTyped'+'Array'](){const _0x4271c1=this['lock']();return this['format']===wr?new Uint32Array(_0x4271c1):this['format']===Yi?new Uint16Array(_0x4271c1):new Uint8Array(_0x4271c1);}['writeData'](_0x3540ff,_0x258773){const _0x3aa1e5=this['_lockTyped'+'Array']();if(_0x3540ff['length']>_0x258773){if(ArrayBuffer['isView'](_0x3540ff))_0x3540ff=_0x3540ff['subarray'](-0x1862+-0x1*0x715+0x1f77,_0x258773),_0x3aa1e5['set'](_0x3540ff);else{for(let _0x45e00b=-0x1*0x177b+-0xa5*-0x2b+0x4*-0x10f;_0x45e00b<_0x258773;_0x45e00b++)_0x3aa1e5[_0x45e00b]=_0x3540ff[_0x45e00b];}}else _0x3aa1e5['set'](_0x3540ff);this['unlock']();}['readData'](_0xd21208){const _0x59b1a4=this['_lockTyped'+'Array'](),_0x11c007=this['numIndices'];if(ArrayBuffer['isView'](_0xd21208))_0xd21208['set'](_0x59b1a4);else{_0xd21208['length']=0x317+0x23ba+-0x26d1;for(let _0x4cae71=0x1*0x1849+0x3*0x84e+0x5*-0x9d7;_0x4cae71<_0x11c007;_0x4cae71++)_0xd21208[_0x4cae71]=_0x59b1a4[_0x4cae71];}return _0x11c007;}}class ow{constructor(){h(this,'clearValue',new ie(-0x2b*0x6f+0x1557+0x73*-0x6,0x16d7+-0x1d*0x13+-0x14b0,-0x82c+0x1736+-0xf0a,-0x2b*-0x15+0x2643+0x29c9*-0x1)),h(this,'clearValue'+'Linear',new ie(0x17e1+-0x1a89+0x2a8,-0x13*-0x129+-0x1793+0x188,-0x35*0x25+-0x87e+0x1*0x1027,-0x4*0x46b+0xbd7*-0x2+0x295b)),h(this,'clear',!(0x12a4+0x173a+-0x29dd*0x1)),h(this,'store',!(0x12f9+0x25b5+-0x38ad)),h(this,'resolve',!(0x19b0+-0x10*0x8b+-0x4*0x440)),h(this,'genMipmaps',!(0x103d+-0x65*0x1d+-0x4cb*0x1));}}class lw{constructor(){h(this,'clearDepth'+'Value',-0x2*0x5ad+0x1563+0x141*-0x8),h(this,'clearStenc'+'ilValue',-0x8*0x33b+0x1*-0x1a25+0x1*0x33fd),h(this,'clearDepth',!(0x15fa*-0x1+-0xd04+0x22ff)),h(this,'clearStenc'+'il',!(0x1*0x955+-0x1*-0x9a9+-0x12fd)),h(this,'storeDepth',!(0x1cf3+-0x153*-0x9+-0x28dd)),h(this,'resolveDep'+'th',!(0x85d*-0x4+-0x248e+0x4603)),h(this,'storeStenc'+'il',!(0x2a7*-0x3+-0x135d*0x1+0x1b53));}}class ys{constructor(_0xdf5652){h(this,'_name'),h(this,'device'),h(this,'_enabled',!(-0xa93*0x3+-0xa47*-0x1+0x1572)),h(this,'_skipStart',!(-0x229b*0x1+0x1357*-0x2+0x494a)),h(this,'_skipEnd',!(0x202c+-0xe5*0x26+0x1d3)),h(this,'executeEna'+'bled',!(-0x2*0x6d8+0x83*-0x38+-0x14*-0x21e)),h(this,'renderTarg'+'et'),h(this,'_options'),h(this,'samples',0x2e7*0xb+0x6d*0x3b+-0x1*0x390c),h(this,'colorArray'+'Ops',[]),h(this,'depthStenc'+'ilOps'),h(this,'requiresCu'+'bemaps',!(0x1985+0x8f4+0x1*-0x2279)),h(this,'fullSizeCl'+'earRect',!(-0x1*0x10d2+-0xb4a+0x101*0x1c)),h(this,'beforePass'+'es',[]),h(this,'afterPasse'+'s',[]),(w['assert'](_0xdf5652),this['device']=_0xdf5652);}get['colorOps'](){return this['colorArray'+'Ops'][-0x3*-0xaac+-0xd*-0x2a1+-0x4231];}set['name'](_0x205388){this['_name']=_0x205388;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x51d8ff){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x51d8ff;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0xde193e){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0xde193e;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x97835d){this['_options']=_0x97835d,_0x97835d&&(this['scaleX']=this['scaleX']??0x1f8b+-0x5d8+-0x19b2,this['scaleY']=this['scaleY']??0x40*0x89+-0x211f+-0x120);}get['options'](){return this['_options'];}['init'](_0xfd5bca=null,_0x3a4f08){this['options']=_0x3a4f08,this['renderTarg'+'et']=_0xfd5bca,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],0x32b+-0x482+0x158),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x14bed9,_0x122c2e,_0x63119f,_0x213dab;const _0x3c3b09=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new lw(),_0x3c3b09!=null&&_0x3c3b09['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(-0xa9*-0x3a+0x4d*0x1+-0x2697));const _0x16ab04=_0x3c3b09?((_0x14bed9=_0x3c3b09['_colorBuff'+'ers'])==null?void(0x3*0x326+-0x1d66+-0x2*-0x9fa):_0x14bed9['length'])??-0x114b*0x1+0x2710+-0x15c5:-0xb*-0x191+0x9a6+0x5*-0x560;this['colorArray'+'Ops']['length']=0x71*0x2b+0xfb9+-0x22b4;for(let _0x444447=-0x2*-0x98b+0x134c+-0x2662;_0x444447<_0x16ab04;_0x444447++){const _0x461c50=new ow();this['colorArray'+'Ops'][_0x444447]=_0x461c50,this['samples']===-0x1*0x32f+0x345+-0x3*0x7&&(_0x461c50['store']=!(-0x12e*0x19+0x174e+0x630),_0x461c50['resolve']=!(0x1e1*0xd+0x3b*-0x8f+0x889));const _0x143a17=(_0x63119f=(_0x122c2e=this['renderTarg'+'et'])==null?void(-0x192c+0x1*-0x1247+-0xe3*-0x31):_0x122c2e['_colorBuff'+'ers'])==null?void(-0x1f3d*-0x1+-0x5db+-0x1962):_0x63119f[_0x444447];if((_0x213dab=this['renderTarg'+'et'])!=null&&_0x213dab['mipmaps']&&(_0x143a17!=null&&_0x143a17['mipmaps'])){const _0x505b08=dn(_0x143a17['_format']);_0x461c50['genMipmaps']=!_0x505b08;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x2d52fe=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x1618f9=Math['floor'](_0x2d52fe['width']*this['scaleX']),_0x7bfb60=Math['floor'](_0x2d52fe['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x1618f9,_0x7bfb60);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x45e35c){this['_enabled']!==_0x45e35c&&(this['_enabled']=_0x45e35c,_0x45e35c?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x39b78d){const _0x5751ad=this['colorArray'+'Ops']['length'];for(let _0x411e52=0xd52+-0xd+-0xd45;_0x411e52<_0x5751ad;_0x411e52++){const _0x33aee7=this['colorArray'+'Ops'][_0x411e52];_0x39b78d&&(_0x33aee7['clearValue']['copy'](_0x39b78d),_0x33aee7['clearValue'+'Linear']['linear'](_0x39b78d)),_0x33aee7['clear']=!!_0x39b78d;}}['setClearDe'+'pth'](_0x1702fa){_0x1702fa&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x1702fa),this['depthStenc'+'ilOps']['clearDepth']=_0x1702fa!==void(-0xb31+-0x17eb*-0x1+-0x16a*0x9);}['setClearSt'+'encil'](_0x2d2779){_0x2d2779&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x2d2779),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x2d2779!==void(0x11*0xd3+0x10ac+-0x1eaf);}['render'](){if(this['enabled']){const _0x5b37e0=this['device'],_0x38a25e=this['renderTarg'+'et']!==void(0x2b6*0xe+0x2b4*-0x9+0x1b4*-0x8);w['call'](()=>{this['log'](_0x5b37e0,_0x5b37e0['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x38a25e&&!this['_skipStart']&&_0x5b37e0['startRende'+'rPass'](this),this['execute'](),_0x38a25e&&!this['_skipEnd']&&_0x5b37e0['endRenderP'+'ass'](this)),this['after'](),_0x5b37e0['renderPass'+'Index']++;}}['log'](_0x2dbd2f,_0xabe88f=0x77c+0x14a+-0x8c6){var _0x3fb02d,_0x1cfa01,_0x2620f6;if(mi['get'](Pm)||mi['get'](cn)){const _0x1a2529=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x2dbd2f['backBuffer']:null),_0x4af729=!!(_0x1a2529!=null&&_0x1a2529['impl']['assignedCo'+'lorTexture'])||(_0x1a2529==null?void(-0x20*0xc5+-0x1e6e+-0x1e6*-0x1d):_0x1a2529['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0x119*-0x3+0x1*-0x1c2b+0x18e0),_0x33c223=((_0x3fb02d=_0x1a2529==null?void(-0x168f+0xcaa+0x9e5):_0x1a2529['_colorBuff'+'ers'])==null?void(0x1fe8*-0x1+-0x1f*0x109+0x3fff):_0x3fb02d['length'])??(_0x4af729?0x281+-0x359+0xd9*0x1:-0xb51+0x3a*-0x97+0x2d87),_0x1318e5=_0x1a2529==null?void(-0x123*0x1+0x2049+0x531*-0x6):_0x1a2529['depth'],_0x3d59ed=_0x1a2529==null?void(-0x1*0xa0b+0xb4d*0x2+0x283*-0x5):_0x1a2529['stencil'],_0x8ca414=_0x1a2529==null?void(0x1f63+0x5db*0x2+-0x2b19):_0x1a2529['mipLevel'],_0x1af17c=_0x1a2529?'\x20RT:\x20'+(_0x1a2529?_0x1a2529['name']:'NULL')+'\x20'+(_0x33c223>-0x952*-0x1+0x3*0x74f+0x13*-0x1a5?'[Color'+(_0x33c223>-0x1379*0x2+-0x243d+0x4b3*0x10?'\x20x\x20'+_0x33c223:'')+']':'')+(_0x1318e5?'[Depth]':'')+(_0x3d59ed?'[Stencil]':'')+'\x20'+_0x1a2529['width']+'\x20x\x20'+_0x1a2529['height']+(this['samples']>0xf22*-0x2+0x368+0x1adc?'\x20samples:\x20'+this['samples']:'')+(_0x8ca414>-0x1*-0x4bb+-0x1c7f+0x17c4?'\x20mipLevel:'+'\x20'+_0x8ca414:''):'',_0x4cc665=this['_skipStart']?'++':_0xabe88f['toString']()['padEnd'](0x1e*-0x6a+0x1*0x1535+-0x2ed*0x3,'\x20');w['trace'](Pm,_0x4cc665+':\x20'+this['name']['padEnd'](-0x12cf+-0x8b5+0x373*0x8,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x1af17c['padEnd'](-0x39*0x67+0x25ee+-0xee1));for(let _0x24741d=-0x1*0xd52+0x1*0x1bc9+-0xe77;_0x24741d<_0x33c223;_0x24741d++){const _0x10766e=this['colorArray'+'Ops'][_0x24741d],_0x13fe70=(_0x1cfa01=Nt['get'](_0x4af729?_0x2dbd2f['backBuffer'+'Format']:_0x1a2529['getColorBu'+'ffer'](_0x24741d)['format']))==null?void(-0x3*-0xaf6+0x4*0x6ad+-0x3b96):_0x1cfa01['name'];w['trace'](cn,'\x20\x20\x20\x20color['+_0x24741d+']:\x20'+(_0x10766e['clear']?'clear':'load')+'->'+(_0x10766e['store']?'store':'discard')+'\x20'+(_0x10766e['resolve']?'resolve\x20':'')+(_0x10766e['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x13fe70+']\x20'+(_0x10766e['clear']?'[clear:\x20'+_0x10766e['clearValue']['toString'](!(0x24b6+0x1fe8+-0x449e),!(-0x1a*-0x10d+-0x20c*0xe+-0x26*-0x9))+']':''));}if(this['depthStenc'+'ilOps']){const _0x4bc9c9=''+(_0x1a2529['depthBuffe'+'r']?'\x20[format:\x20'+((_0x2620f6=Nt['get'](_0x1a2529['depthBuffe'+'r']['format']))==null?void(-0x270+0xf*0x8e+-0x5e2):_0x2620f6['name'])+']':'');_0x1318e5&&w['trace'](cn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x4bc9c9+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x3d59ed&&w['trace'](cn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x4bc9c9+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function cw(_0x10f999){this['array'][this['index']]=_0x10f999;}function hw(_0x370e7f,_0x3a3dec){this['array'][this['index']]=_0x370e7f,this['array'][this['index']+(0xe2f*-0x1+0x17f0+0xc*-0xd0)]=_0x3a3dec;}function dw(_0x4c1cc7,_0x13635c,_0x268050){this['array'][this['index']]=_0x4c1cc7,this['array'][this['index']+(0x19e7*0x1+0x1838+-0x321e)]=_0x13635c,this['array'][this['index']+(-0x1467+-0x133*0x1+0x2*0xace)]=_0x268050;}function fw(_0x427363,_0x2217d1,_0x4ca70e,_0x59c4fe){this['array'][this['index']]=_0x427363,this['array'][this['index']+(0x50e*-0x4+0xb6c+0x2ef*0x3)]=_0x2217d1,this['array'][this['index']+(-0x1ac6+0xb2b+0xf9d)]=_0x4ca70e,this['array'][this['index']+(-0x1*0x1f1b+0x4f1*-0x5+-0x1cd*-0x1f)]=_0x59c4fe;}function uw(_0x4761f6,_0xc0c090,_0x1f37b3){this['array'][_0x4761f6]=_0xc0c090[_0x1f37b3];}function pw(_0x40d066,_0x59dda1,_0x598584){this['array'][_0x40d066]=_0x59dda1[_0x598584],this['array'][_0x40d066+(0x1*0x125e+0xfe1*-0x1+-0x27c*0x1)]=_0x59dda1[_0x598584+(-0x1f4d+-0xd54+0x2ca2)];}function mw(_0x2abbae,_0x5836c5,_0x3df4a1){this['array'][_0x2abbae]=_0x5836c5[_0x3df4a1],this['array'][_0x2abbae+(0xf81+0x1497+-0x2417)]=_0x5836c5[_0x3df4a1+(0x1a5d+0x1e*0x67+0x1337*-0x2)],this['array'][_0x2abbae+(0x1153*0x2+0xac9*0x1+-0x2d6d*0x1)]=_0x5836c5[_0x3df4a1+(0x1a6f*0x1+-0x1991+-0xdc)];}function _w(_0x46af33,_0x2ae7f3,_0x40329d){this['array'][_0x46af33]=_0x2ae7f3[_0x40329d],this['array'][_0x46af33+(0x39*0x6b+0x3*-0xa99+0x7f9)]=_0x2ae7f3[_0x40329d+(-0x1fb7*0x1+0x1*0x190d+0x6ab)],this['array'][_0x46af33+(-0x3*0x8f9+0x71*0x26+0xa27)]=_0x2ae7f3[_0x40329d+(0x2*0x5c1+-0x3*0x98f+0x112d)],this['array'][_0x46af33+(0xb29*0x1+-0x2270+-0x16*-0x10f)]=_0x2ae7f3[_0x40329d+(-0x7db*0x1+-0x105e+0x183c)];}function gw(_0x5388db,_0x36f8f5,_0x19fc52){_0x36f8f5[_0x19fc52]=this['array'][_0x5388db];}function Sw(_0x422ca7,_0x2531b3,_0x49520b){_0x2531b3[_0x49520b]=this['array'][_0x422ca7],_0x2531b3[_0x49520b+(-0x18d1*0x1+0x107*0x1f+-0x707)]=this['array'][_0x422ca7+(-0x9c5*-0x3+0x714+-0x2462)];}function yw(_0x262c1d,_0x394200,_0x14c15c){_0x394200[_0x14c15c]=this['array'][_0x262c1d],_0x394200[_0x14c15c+(0x25*-0x107+-0x126d+0x3871)]=this['array'][_0x262c1d+(-0x166b+0xef1+0x77b)],_0x394200[_0x14c15c+(0xeb5+0xb97*-0x2+0x87b)]=this['array'][_0x262c1d+(-0x1f*-0xf4+0x19a8+-0x3732)];}function vw(_0x1d0cb1,_0x48c4c2,_0x3de57b){_0x48c4c2[_0x3de57b]=this['array'][_0x1d0cb1],_0x48c4c2[_0x3de57b+(-0x1468+-0x7f7*-0x3+-0x37c)]=this['array'][_0x1d0cb1+(-0xe*-0x1a5+-0x5*-0x240+-0x2245)],_0x48c4c2[_0x3de57b+(0x1a1f+0xc2e+-0x264b*0x1)]=this['array'][_0x1d0cb1+(-0x1f3*0x6+0x221a+0xb33*-0x2)],_0x48c4c2[_0x3de57b+(-0x15b*-0x1+0x78c+-0x8e4)]=this['array'][_0x1d0cb1+(-0x233*0x6+-0x28d+0x7e1*0x2)];}class xw{constructor(_0x4d6cfa,_0x14e638,_0x151dcb){switch(this['index']=0xc1d+0x1*0x1eb5+-0x1569*0x2,this['numCompone'+'nts']=_0x14e638['numCompone'+'nts'],_0x151dcb['interleave'+'d']?this['array']=new wn[_0x14e638['dataType']](_0x4d6cfa,_0x14e638['offset']):this['array']=new wn[_0x14e638['dataType']](_0x4d6cfa,_0x14e638['offset'],_0x151dcb['vertexCoun'+'t']*_0x14e638['numCompone'+'nts']),this['stride']=_0x14e638['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x14e638['numCompone'+'nts']){case 0x1da5+0xbaa+-0x26e*0x11:this['set']=cw,this['getToArray']=gw,this['setFromArr'+'ay']=uw;break;case-0x1f9c+-0x7*0x159+0x290d:this['set']=hw,this['getToArray']=Sw,this['setFromArr'+'ay']=pw;break;case 0x1*-0x55c+-0x5*0x70a+0x2891:this['set']=dw,this['getToArray']=yw,this['setFromArr'+'ay']=mw;break;case-0x137e+-0x7bc+0x1b3e:this['set']=fw,this['getToArray']=vw,this['setFromArr'+'ay']=_w;break;}}['get'](_0x55d56a){return this['array'][this['index']+_0x55d56a];}['set'](_0x10549e,_0x512122,_0x5e4efa,_0x827802){}['getToArray'](_0x127d0f,_0xdb98bd,_0x566682){}['setFromArr'+'ay'](_0x11491e,_0x3233ae,_0x103bec){}}class Uo{constructor(_0x581297){this['vertexBuff'+'er']=_0x581297,this['vertexForm'+'atSize']=_0x581297['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x1f10fa=this['vertexBuff'+'er']['getFormat']();for(let _0x22b898=0x22c7+-0x51b*0x4+-0xe5b;_0x22b898<_0x1f10fa['elements']['length'];_0x22b898++){const _0x4321ce=_0x1f10fa['elements'][_0x22b898];this['accessors'][_0x22b898]=new xw(this['buffer'],_0x4321ce,_0x1f10fa),this['element'][_0x4321ce['name']]=this['accessors'][_0x22b898];}}['next'](_0x189252=0x18a*0x15+-0xceb*-0x1+0x1*-0x2d3c){let _0x2334a4=0x7ed+0x170f+-0xa54*0x3;const _0x15d2db=this['accessors'],_0x46f9de=this['accessors']['length'];for(;_0x2334a4<_0x46f9de;){const _0x5826f6=_0x15d2db[_0x2334a4++];_0x5826f6['index']+=_0x189252*_0x5826f6['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x5a1956,_0x29e0d8,_0x4a0710){const _0x3385df=this['element'][_0x5a1956];if(_0x3385df){_0x4a0710>this['vertexBuff'+'er']['numVertice'+'s']&&(w['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x4a0710+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x4a0710=this['vertexBuff'+'er']['numVertice'+'s']);const _0x15b5eb=_0x3385df['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x2c3263=-0x6d*-0x4c+0x1af6+0x6*-0x9e3;for(let _0x2a41fb=0xa09+-0x1ce4+-0x1*-0x12db;_0x2a41fb<_0x4a0710;_0x2a41fb++)_0x3385df['setFromArr'+'ay'](_0x2c3263,_0x29e0d8,_0x2a41fb*_0x15b5eb),_0x2c3263+=_0x3385df['stride'];}else{if(_0x29e0d8['length']>_0x4a0710*_0x15b5eb){const _0x58ef2e=_0x4a0710*_0x15b5eb;if(ArrayBuffer['isView'](_0x29e0d8))_0x29e0d8=_0x29e0d8['subarray'](0x1a10+0x488+-0x16*0x164,_0x58ef2e),_0x3385df['array']['set'](_0x29e0d8);else{for(let _0x212022=-0x25f2+-0x21*-0x1a+0x2298;_0x212022<_0x58ef2e;_0x212022++)_0x3385df['array'][_0x212022]=_0x29e0d8[_0x212022];}}else _0x3385df['array']['set'](_0x29e0d8);}}}['readData'](_0x22b165,_0x2188d6){const _0x3f1ca1=this['element'][_0x22b165];let _0x57a4c3=-0x1*-0x1b23+0xed6*-0x1+-0xc4d;if(_0x3f1ca1){_0x57a4c3=this['vertexBuff'+'er']['numVertice'+'s'];let _0x1dbc75;const _0x2ca0cb=_0x3f1ca1['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x2188d6)&&(_0x2188d6['length']=0x1*0xfe9+-0x25ec+-0x7*-0x325),_0x3f1ca1['index']=-0x10eb+0xb48+0x5a3;let _0x3fd016=0x2*0x1321+-0x191d*0x1+-0x1*0xd25;for(_0x1dbc75=-0x143+-0x1708+0x184b;_0x1dbc75<_0x57a4c3;_0x1dbc75++)_0x3f1ca1['getToArray'](_0x3fd016,_0x2188d6,_0x1dbc75*_0x2ca0cb),_0x3fd016+=_0x3f1ca1['stride'];}else{if(ArrayBuffer['isView'](_0x2188d6))_0x2188d6['set'](_0x3f1ca1['array']);else{_0x2188d6['length']=-0x3d6+0x1a4d+-0x1677;const _0x4f5d2f=_0x57a4c3*_0x2ca0cb;for(_0x1dbc75=0x1*-0x1e25+-0xcd9+0x2afe;_0x1dbc75<_0x4f5d2f;_0x1dbc75++)_0x2188d6[_0x1dbc75]=_0x3f1ca1['array'][_0x1dbc75];}}}return _0x57a4c3;}}const Tw=-(-0x212f+0xc7f+0x14b1);class ww{constructor(_0x26470d,_0x5d8973){h(this,'key',null),h(this,'element',null),h(this,'event',null),_0x5d8973&&(this['key']=_0x5d8973['keyCode'],this['element']=_0x5d8973['target'],this['event']=_0x5d8973);}}const jl=new ww();function Vd(_0x4eac25){return jl['key']=_0x4eac25['keyCode'],jl['element']=_0x4eac25['target'],jl['event']=_0x4eac25,jl;}function Yl(_0x58d3ac){return typeof _0x58d3ac=='string'?_0x58d3ac['toUpperCas'+'e']()['charCodeAt'](0x1986+-0xa7*0x5+0x1*-0x1643):_0x58d3ac;}const Ew={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class h_ extends me{constructor(_0x40e299,_0x33c0db={}){super(),h(this,'_element',null),h(this,'_keymap',{}),h(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x40e299&&this['attach'](_0x40e299),this['preventDef'+'ault']=_0x33c0db['preventDef'+'ault']||!(-0x1636+0x1*-0xdaf+-0x11f3*-0x2),this['stopPropag'+'ation']=_0x33c0db['stopPropag'+'ation']||!(-0x1ea0+-0x2453+0x42f4));}['attach'](_0x37ac96){this['_element']&&this['detach'](),this['_element']=_0x37ac96,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(-0xd35+0x2050+-0x131a)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(0x823+0x121c*0x2+-0x2c5a)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(0x1dc*-0x7+0x267*0x7+-0x3cc)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x144+0xcd*-0x8+0x7ad)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(-0xce3*-0x1+0x2*-0xdc5+0x43*0x38));}['detach'](){if(!this['_element']){w['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x11fa+-0x2*-0x3d3+0x7*-0x3a9)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(-0x10ab*0x2+0x1d*0x112+0x24d));}['toKeyIdent'+'ifier'](_0x526490){_0x526490=Yl(_0x526490);const _0x3e9e8d=Ew[_0x526490['toString']()];if(_0x3e9e8d)return _0x3e9e8d;let _0x1fdd29=_0x526490['toString'](0x211b+0x1*-0x18d1+-0x83a)['toUpperCas'+'e']();const _0x3bac0e=_0x1fdd29['length'];for(let _0x4c2e19=0xce+0xbb+-0x1*0x189;_0x4c2e19<-0xe5e+-0x12c8+0x212a-_0x3bac0e;_0x4c2e19++)_0x1fdd29='0'+_0x1fdd29;return'U+'+_0x1fdd29;}['_handleKey'+'Down'](_0x1017cd){const _0x5b62b8=_0x1017cd['keyCode']||_0x1017cd['charCode'];if(_0x5b62b8===void(0x134+-0x1c78+0x1b44*0x1))return;const _0x318dd6=this['toKeyIdent'+'ifier'](_0x5b62b8);this['_keymap'][_0x318dd6]=!(0x1886+-0x24d7+0xc51),this['fire']('keydown',Vd(_0x1017cd)),this['preventDef'+'ault']&&_0x1017cd['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x1017cd['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x33eb05){const _0xfff377=_0x33eb05['keyCode']||_0x33eb05['charCode'];if(_0xfff377===void(-0x1b*-0x161+-0xb*0x1d+0x11fe*-0x2))return;const _0xf0259d=this['toKeyIdent'+'ifier'](_0xfff377);delete this['_keymap'][_0xf0259d],this['fire']('keyup',Vd(_0x33eb05)),this['preventDef'+'ault']&&_0x33eb05['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x33eb05['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x4e9cd0){this['fire']('keypress',Vd(_0x4e9cd0)),this['preventDef'+'ault']&&_0x4e9cd0['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x4e9cd0['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0xcccde2 in this['_lastmap'])delete this['_lastmap'][_0xcccde2];for(const _0xca3115 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0xca3115)&&(this['_lastmap'][_0xca3115]=this['_keymap'][_0xca3115]);}['isPressed'](_0x5d574f){const _0x44e328=Yl(_0x5d574f),_0x351dd7=this['toKeyIdent'+'ifier'](_0x44e328);return!!this['_keymap'][_0x351dd7];}['wasPressed'](_0x49c739){const _0x58afc7=Yl(_0x49c739),_0x236272=this['toKeyIdent'+'ifier'](_0x58afc7);return!!this['_keymap'][_0x236272]&&!this['_lastmap'][_0x236272];}['wasRelease'+'d'](_0x5836aa){const _0x4d0737=Yl(_0x5836aa),_0x29a546=this['toKeyIdent'+'ifier'](_0x4d0737);return!this['_keymap'][_0x29a546]&&!!this['_lastmap'][_0x29a546];}}h(h_,'EVENT_KEYD'+'OWN','keydown'),h(h_,'EVENT_KEYU'+'P','keyup');function ru(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x273210,_0x3c519b){h(this,'x',-0x696*-0x2+-0x985*-0x3+-0x29bb),h(this,'y',0xafa+-0xe35+0x33b),h(this,'dx',0x2*-0xc95+-0x1*0x59c+0x1ec6),h(this,'dy',-0x163f+0x357*-0xa+0x25*0x181),h(this,'button',Tw),h(this,'wheelDelta',0x1d+-0x143b*0x1+0x141e),h(this,'element'),h(this,'ctrlKey',!(0x15f6*-0x1+0x4*0x905+-0x1*0xe1d)),h(this,'altKey',!(-0x305*-0x4+0x1c16+-0x45*0x95)),h(this,'shiftKey',!(-0x1*0x609+0x17e1+-0x11d7)),h(this,'metaKey',!(0x1*-0x47d+0xde1+-0x963)),h(this,'event');let _0x2ce773={'x':0x0,'y':0x0};if(_0x3c519b){if(_0x3c519b instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x2ce773=_0x273210['_getTarget'+'Coords'](_0x3c519b);}else _0x3c519b={};if(_0x2ce773)this['x']=_0x2ce773['x'],this['y']=_0x2ce773['y'];else{if(ru())this['x']=0x222f+0x15b8+-0x1*0x37e7,this['y']=-0x10d*0x9+-0xce3+0x1658;else return;}_0x3c519b['type']==='wheel'&&(_0x3c519b['deltaY']>-0x1d*-0xa+-0x1e63*-0x1+0x1*-0x1f85?this['wheelDelta']=0xd*-0x297+-0x2*0x6b6+-0x2*-0x178c:_0x3c519b['deltaY']<-0x1db5+0x760+0x1655&&(this['wheelDelta']=-(0x5a1*-0x3+0x1*0x16d5+-0x5f1*0x1))),ru()?(this['dx']=_0x3c519b['movementX']||_0x3c519b['webkitMove'+'mentX']||_0x3c519b['mozMovemen'+'tX']||-0x2648+0x26*0xfc+0xe0,this['dy']=_0x3c519b['movementY']||_0x3c519b['webkitMove'+'mentY']||_0x3c519b['mozMovemen'+'tY']||-0x1725+0x25f1+-0xecc):(this['dx']=this['x']-_0x273210['_lastX'],this['dy']=this['y']-_0x273210['_lastY']),(_0x3c519b['type']==='mousedown'||_0x3c519b['type']==='mouseup')&&(this['button']=_0x3c519b['button']),this['buttons']=_0x273210['_buttons']['slice'](-0x2085+-0x12ef+-0x1*-0x3374),this['element']=_0x3c519b['target'],this['ctrlKey']=_0x3c519b['ctrlKey']??!(0x7dc+-0x25bd*0x1+0x1de2),this['altKey']=_0x3c519b['altKey']??!(-0x1fe6+0x239c+0xd*-0x49),this['shiftKey']=_0x3c519b['shiftKey']??!(0x185c+-0x15de+-0x27d),this['metaKey']=_0x3c519b['metaKey']??!(-0x19*-0x59+-0xca2+0x3f2),this['event']=_0x3c519b;}}class sa extends me{constructor(_0x13b595){super(),h(this,'_lastX',0x1d76+-0x17e1*0x1+0x1*-0x595),h(this,'_lastY',0x149a+0x55*0x49+-0x2cd7),h(this,'_buttons',[!(-0x439+0x4a9*-0x1+-0x7*-0x145),!(0x20d2+0x1f*-0xe7+0x3e*-0x14),!(-0x1c47+0x2*0x1163+-0x67e)]),h(this,'_lastbutto'+'ns',[!(0x2058+0x4fa+-0x2551),!(-0x38*0x9d+-0x172c+-0x1*-0x3985),!(-0x1*-0x4b+0x25*0xcb+-0x1da1)]),h(this,'_target',null),h(this,'_attached',!(-0x1*0xfe5+-0x1729+0x270f)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x17a9f7=>{_0x17a9f7['preventDef'+'ault']();},this['attach'](_0x13b595));}static['isPointerL'+'ocked'](){return ru();}['attach'](_0x1f9d36){if(this['_target']=_0x1f9d36,this['_attached'])return;this['_attached']=!(0x1755+0x2546*-0x1+-0x1*-0xdf1);const _0x2d0deb={'passive':!(-0x3*0xcc8+0x2452+0x207)},_0x5145c7=Ae['passiveEve'+'nts']?_0x2d0deb:!(0x146e+0x1d03+-0x3170);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x5145c7),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x5145c7),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x5145c7),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x5145c7);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x1481*-0x1+-0x253f+0x1*0x10bf),this['_target']=null;const _0x4884a1={'passive':!(0x1be1+0x3*0x113+-0x1f19)},_0x2c01eb=Ae['passiveEve'+'nts']?_0x4884a1:!(-0x3*-0x925+0x1b36+-0x36a4);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x2c01eb),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x2c01eb),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x2c01eb),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x2c01eb);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x319c07,_0x3e2e98){if(!document['body']['requestPoi'+'nterLock']){_0x3e2e98&&_0x3e2e98();return;}const _0x3c8f35=()=>{_0x319c07(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x3c8f35);},_0x5c63ae=()=>{_0x3e2e98(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x5c63ae);};_0x319c07&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x3c8f35,!(0x2124+-0x51b*0x3+-0x11d2)),_0x3e2e98&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x5c63ae,!(-0x1369+0x60a*-0x3+-0x12c4*-0x2)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0xfea7d5){if(!document['exitPointe'+'rLock'])return;const _0x37f91b=()=>{_0xfea7d5(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x37f91b);};_0xfea7d5&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x37f91b,!(0x11*-0x1f7+-0x22c3+0x442b)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][0xd5c+0x15*-0x12b+0x1*0xb2b]=this['_buttons'][0x1cb4+-0x36*-0x5e+-0x1844*0x2],this['_lastbutto'+'ns'][0x9d3+0x2*-0x6bb+0x1*0x3a4]=this['_buttons'][0x914+0x2b0*0xb+-0x26a3],this['_lastbutto'+'ns'][-0x1bd0+0x15*-0x183+0x381*0x11]=this['_buttons'][-0x3*0x822+-0x1*-0x42b+-0x6bf*-0x3];}['isPressed'](_0x5c7265){return this['_buttons'][_0x5c7265];}['wasPressed'](_0xce4d66){return this['_buttons'][_0xce4d66]&&!this['_lastbutto'+'ns'][_0xce4d66];}['wasRelease'+'d'](_0x12355f){return!this['_buttons'][_0x12355f]&&this['_lastbutto'+'ns'][_0x12355f];}['_handleUp'](_0xb600bb){this['_buttons'][_0xb600bb['button']]=!(0x149f+0x16c7+-0x2b65);const _0x448357=new ta(this,_0xb600bb);_0x448357['event']&&this['fire']('mouseup',_0x448357);}['_handleDow'+'n'](_0x1438ea){this['_buttons'][_0x1438ea['button']]=!(-0x1cf2+0x543*0x6+-0x2a0);const _0x3f83c8=new ta(this,_0x1438ea);_0x3f83c8['event']&&this['fire']('mousedown',_0x3f83c8);}['_handleMov'+'e'](_0x4db1ab){const _0x1743db=new ta(this,_0x4db1ab);_0x1743db['event']&&(this['fire']('mousemove',_0x1743db),this['_lastX']=_0x1743db['x'],this['_lastY']=_0x1743db['y']);}['_handleWhe'+'el'](_0x5adfdc){const _0x24300c=new ta(this,_0x5adfdc);_0x24300c['event']&&this['fire']('mousewheel',_0x24300c);}['_getTarget'+'Coords'](_0x441757){const _0x3ce9e4=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x4bcac6=Math['floor'](_0x3ce9e4['left']),_0x582956=Math['floor'](_0x3ce9e4['top']);return _0x441757['clientX']<_0x4bcac6||_0x441757['clientX']>=_0x4bcac6+this['_target']['clientWidt'+'h']||_0x441757['clientY']<_0x582956||_0x441757['clientY']>=_0x582956+this['_target']['clientHeig'+'ht']?null:{'x':_0x441757['clientX']-_0x4bcac6,'y':_0x441757['clientY']-_0x582956};}}h(sa,'EVENT_MOUS'+'EMOVE','mousemove'),h(sa,'EVENT_MOUS'+'EDOWN','mousedown'),h(sa,'EVENT_MOUS'+'EUP','mouseup'),h(sa,'EVENT_MOUS'+'EWHEEL','mousewheel');function Wc(_0x43bcd1){let _0x55e8eb=0x1a49+0x12df+0x5a5*-0x8,_0x7a2c8f=0x670*0x4+0x15+-0x19d5,_0x3a6602=_0x43bcd1['target'];for(;!(_0x3a6602 instanceof HTMLElement)&&_0x3a6602;)_0x3a6602=_0x3a6602['parentNode'];for(;_0x3a6602;)_0x55e8eb+=_0x3a6602['offsetLeft']-_0x3a6602['scrollLeft'],_0x7a2c8f+=_0x3a6602['offsetTop']-_0x3a6602['scrollTop'],_0x3a6602=_0x3a6602['offsetPare'+'nt'];return{'x':_0x43bcd1['pageX']-_0x55e8eb,'y':_0x43bcd1['pageY']-_0x7a2c8f};}class d_{constructor(_0x2d8359){h(this,'id'),h(this,'x'),h(this,'y'),h(this,'target'),h(this,'touch');const _0x203701=Wc(_0x2d8359);this['id']=_0x2d8359['identifier'],this['x']=_0x203701['x'],this['y']=_0x203701['y'],this['target']=_0x2d8359['target'],this['touch']=_0x2d8359;}}class Kl{constructor(_0x188322,_0x75e63c){h(this,'element'),h(this,'event'),h(this,'touches',[]),h(this,'changedTou'+'ches',[]),(this['element']=_0x75e63c['target'],this['event']=_0x75e63c,this['touches']=Array['from'](_0x75e63c['touches'])['map'](_0x2e0525=>new d_(_0x2e0525)),this['changedTou'+'ches']=Array['from'](_0x75e63c['changedTou'+'ches'])['map'](_0x48fbab=>new d_(_0x48fbab)));}['getTouchBy'+'Id'](_0x268cbb,_0x492c11){return _0x492c11['find'](_0x44925b=>_0x44925b['id']===_0x268cbb)||null;}}class Zl extends me{constructor(_0x426c29){super(),this['_element']=null,this['_startHand'+'ler']=this['_handleTou'+'chStart']['bind'](this),this['_endHandle'+'r']=this['_handleTou'+'chEnd']['bind'](this),this['_moveHandl'+'er']=this['_handleTou'+'chMove']['bind'](this),this['_cancelHan'+'dler']=this['_handleTou'+'chCancel']['bind'](this),this['attach'](_0x426c29);}['attach'](_0x9e3efc){this['_element']&&this['detach'](),this['_element']=_0x9e3efc,this['_element']['addEventLi'+'stener']('touchstart',this['_startHand'+'ler'],!(0x238e+0x1*0x3be+-0x274b)),this['_element']['addEventLi'+'stener']('touchend',this['_endHandle'+'r'],!(-0x2489+0x2238+0x252)),this['_element']['addEventLi'+'stener']('touchmove',this['_moveHandl'+'er'],!(-0x17c1+-0xb5*0xd+-0xf1*-0x23)),this['_element']['addEventLi'+'stener']('touchcance'+'l',this['_cancelHan'+'dler'],!(-0x194c+0x1538*-0x1+0x2e85));}['detach'](){this['_element']&&(this['_element']['removeEven'+'tListener']('touchstart',this['_startHand'+'ler'],!(-0x1d50+0x1007*0x1+0x17a*0x9)),this['_element']['removeEven'+'tListener']('touchend',this['_endHandle'+'r'],!(-0x20b7+0xd*0x1c3+0x9d1)),this['_element']['removeEven'+'tListener']('touchmove',this['_moveHandl'+'er'],!(-0xa66+-0xc*-0x123+-0x33d)),this['_element']['removeEven'+'tListener']('touchcance'+'l',this['_cancelHan'+'dler'],!(0x1dd9+0x6e8+0x2a*-0xe0))),this['_element']=null;}['_handleTou'+'chStart'](_0x591c9d){this['fire']('touchstart',new Kl(this,_0x591c9d));}['_handleTou'+'chEnd'](_0x4b38d2){this['fire']('touchend',new Kl(this,_0x4b38d2));}['_handleTou'+'chMove'](_0x516ed8){_0x516ed8['preventDef'+'ault'](),this['fire']('touchmove',new Kl(this,_0x516ed8));}['_handleTou'+'chCancel'](_0x41a5d0){this['fire']('touchcance'+'l',new Kl(this,_0x41a5d0));}}h(Zl,'EVENT_TOUC'+'HSTART','touchstart'),h(Zl,'EVENT_TOUC'+'HEND','touchend'),h(Zl,'EVENT_TOUC'+'HMOVE','touchmove'),h(Zl,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');const Oe=class Oe{['get'](_0x400108,_0x2b16d5,_0x520dd6){typeof _0x2b16d5=='function'&&(_0x520dd6=_0x2b16d5,_0x2b16d5={});const _0x575544=this['request']('GET',_0x400108,_0x2b16d5,_0x520dd6),{progress:_0x1eabed}=_0x2b16d5;if(_0x1eabed){const _0x231248=_0x3c8138=>{_0x3c8138['lengthComp'+'utable']&&_0x1eabed['fire']('progress',_0x3c8138['loaded'],_0x3c8138['total']);},_0x52a473=_0x29cea3=>{_0x231248(_0x29cea3),_0x575544['removeEven'+'tListener']('loadstart',_0x231248),_0x575544['removeEven'+'tListener']('progress',_0x231248),_0x575544['removeEven'+'tListener']('loadend',_0x52a473);};_0x575544['addEventLi'+'stener']('loadstart',_0x231248),_0x575544['addEventLi'+'stener']('progress',_0x231248),_0x575544['addEventLi'+'stener']('loadend',_0x52a473);}return _0x575544;}['post'](_0x1d7491,_0x3af4f5,_0x5ad992,_0x177f97){return typeof _0x5ad992=='function'&&(_0x177f97=_0x5ad992,_0x5ad992={}),_0x5ad992['postdata']=_0x3af4f5,this['request']('POST',_0x1d7491,_0x5ad992,_0x177f97);}['put'](_0x1fa457,_0x21f4ee,_0x4185b2,_0x469425){return typeof _0x4185b2=='function'&&(_0x469425=_0x4185b2,_0x4185b2={}),_0x4185b2['postdata']=_0x21f4ee,this['request']('PUT',_0x1fa457,_0x4185b2,_0x469425);}['del'](_0x98bf0a,_0x108d95,_0x3fbbdd){return typeof _0x108d95=='function'&&(_0x3fbbdd=_0x108d95,_0x108d95={}),this['request']('DELETE',_0x98bf0a,_0x108d95,_0x3fbbdd);}['request'](_0x1f8edc,_0x13b014,_0x10f32f,_0x4323e6){let _0x2cf762,_0x9f3e7,_0x1e9c57,_0x5e9159=!(0x906+0x208f+0x1*-0x2994);if(typeof _0x10f32f=='function'&&(_0x4323e6=_0x10f32f,_0x10f32f={}),_0x10f32f['retry']&&(_0x10f32f=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x10f32f)),_0x10f32f['callback']=_0x4323e6,_0x10f32f['async']==null&&(_0x10f32f['async']=!(0x2089+-0x777+-0x1912)),_0x10f32f['headers']==null&&(_0x10f32f['headers']={}),_0x10f32f['postdata']!=null){if(_0x10f32f['postdata']instanceof Document)_0x1e9c57=_0x10f32f['postdata'];else{if(_0x10f32f['postdata']instanceof FormData)_0x1e9c57=_0x10f32f['postdata'];else{if(_0x10f32f['postdata']instanceof Object){let _0x1109d5=_0x10f32f['headers']['Content-Ty'+'pe'];switch(_0x1109d5===void(0x2*0xd84+-0xd2d*-0x1+-0x2835)&&(_0x10f32f['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x1109d5=_0x10f32f['headers']['Content-Ty'+'pe']),_0x1109d5){case Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x1e9c57='';let _0x386b6b=!(-0x1a1*0x1+-0x7d*0x6+0x48f);for(const _0x530d0e in _0x10f32f['postdata'])if(_0x10f32f['postdata']['hasOwnProp'+'erty'](_0x530d0e)){_0x386b6b?_0x386b6b=!(-0x139*-0xb+0x25bf+-0x3331):_0x1e9c57+='&';const _0x2cb115=encodeURIComponent(_0x530d0e),_0x3df852=encodeURIComponent(_0x10f32f['postdata'][_0x530d0e]);_0x1e9c57+=_0x2cb115+'='+_0x3df852;}break;}default:case Oe['ContentTyp'+'e']['JSON']:_0x1109d5==null&&(_0x10f32f['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['JSON']),_0x1e9c57=JSON['stringify'](_0x10f32f['postdata']);break;}}else _0x1e9c57=_0x10f32f['postdata'];}}}if(_0x10f32f['cache']===!(-0x1e59+-0x55*0xa+0x5*0x6bc)){const _0x24f581=de();_0x2cf762=new Rd(_0x13b014),_0x2cf762['query']?_0x2cf762['query']=_0x2cf762['query']+'&ts='+_0x24f581:_0x2cf762['query']='ts='+_0x24f581,_0x13b014=_0x2cf762['toString']();}_0x10f32f['query']&&(_0x2cf762=new Rd(_0x13b014),_0x9f3e7=ah(_0x2cf762['getQuery'](),_0x10f32f['query']),_0x2cf762['setQuery'](_0x9f3e7),_0x13b014=_0x2cf762['toString']());const _0x165333=new XMLHttpRequest();_0x165333['open'](_0x1f8edc,_0x13b014,_0x10f32f['async']),_0x165333['withCreden'+'tials']=_0x10f32f['withCreden'+'tials']!==void(0x23d*-0x4+0x2*0x127+-0x4a*-0x17)?_0x10f32f['withCreden'+'tials']:!(0x10d*0x2+0x24e+-0x17*0x31),_0x165333['responseTy'+'pe']=_0x10f32f['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x13b014);for(const _0xba2a0c in _0x10f32f['headers'])_0x10f32f['headers']['hasOwnProp'+'erty'](_0xba2a0c)&&_0x165333['setRequest'+'Header'](_0xba2a0c,_0x10f32f['headers'][_0xba2a0c]);_0x165333['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x1f8edc,_0x13b014,_0x10f32f,_0x165333);},_0x165333['onerror']=()=>{this['_onError'](_0x1f8edc,_0x13b014,_0x10f32f,_0x165333),_0x5e9159=!(0x24aa+0x393+0x283d*-0x1);};try{_0x165333['send'](_0x1e9c57);}catch(_0x4ee123){_0x5e9159||_0x10f32f['error'](_0x165333['status'],_0x165333,_0x4ee123);}return _0x165333;}['_guessResp'+'onseType'](_0x2b2eb6){const _0x5aa9c4=new Rd(_0x2b2eb6),_0x157991=xe['getExtensi'+'on'](_0x5aa9c4['path'])['toLowerCas'+'e']();return Oe['binaryExte'+'nsions']['indexOf'](_0x157991)>=0x633+0x196f+-0x1fa2?Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x157991==='.json'?Oe['ResponseTy'+'pe']['JSON']:_0x157991==='.xml'?Oe['ResponseTy'+'pe']['DOCUMENT']:Oe['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x105bf3){return[Oe['ContentTyp'+'e']['BASIS'],Oe['ContentTyp'+'e']['BIN'],Oe['ContentTyp'+'e']['DDS'],Oe['ContentTyp'+'e']['GLB'],Oe['ContentTyp'+'e']['MP3'],Oe['ContentTyp'+'e']['MP4'],Oe['ContentTyp'+'e']['OGG'],Oe['ContentTyp'+'e']['OPUS'],Oe['ContentTyp'+'e']['WAV']]['indexOf'](_0x105bf3)>=0xd63+0x1429+-0x10c6*0x2;}['_isBinaryR'+'esponseTyp'+'e'](_0x44ca32){return _0x44ca32===Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x44ca32===Oe['ResponseTy'+'pe']['BLOB']||_0x44ca32===Oe['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x24813b,_0xfbd67d,_0x576ad2,_0x2da996){if(_0x2da996['readyState']===-0xef*-0x21+0x2*0x7e6+0x1*-0x2e97)switch(_0x2da996['status']){case-0x1d*0xb1+0x14fd+-0xf0:{_0x2da996['responseUR'+'L']&&_0x2da996['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x24813b,_0xfbd67d,_0x576ad2,_0x2da996):this['_onError'](_0x24813b,_0xfbd67d,_0x576ad2,_0x2da996);break;}case 0x5f4*0x2+0x1853+-0x339*0xb:case 0x7*-0x51b+0x26af+-0x229:case 0x1de0+0x21*-0x3b+-0x5*0x44b:case-0x92*-0x1a+-0x1a07*-0x1+-0x27ab:{this['_onSuccess'](_0x24813b,_0xfbd67d,_0x576ad2,_0x2da996);break;}default:{this['_onError'](_0x24813b,_0xfbd67d,_0x576ad2,_0x2da996);break;}}}['_onSuccess'](_0x4472b8,_0x5178ad,_0x239856,_0x9aa622){let _0x31e15c,_0x438af8;const _0x2fef20=_0x9aa622['getRespons'+'eHeader']('Content-Ty'+'pe');_0x2fef20&&(_0x438af8=_0x2fef20['split'](';')[-0x784+-0x24ff+-0x2c83*-0x1]['trim']());try{this['_isBinaryC'+'ontentType'](_0x438af8)||this['_isBinaryR'+'esponseTyp'+'e'](_0x9aa622['responseTy'+'pe'])?_0x31e15c=_0x9aa622['response']:_0x438af8===Oe['ContentTyp'+'e']['JSON']||_0x5178ad['split']('?')[-0x1aa0+-0xb*-0x125+-0x1*-0xe09]['endsWith']('.json')?_0x31e15c=JSON['parse'](_0x9aa622['responseTe'+'xt']):_0x9aa622['responseTy'+'pe']===Oe['ResponseTy'+'pe']['DOCUMENT']||_0x438af8===Oe['ContentTyp'+'e']['XML']?_0x31e15c=_0x9aa622['responseXM'+'L']:_0x31e15c=_0x9aa622['responseTe'+'xt'],_0x239856['callback'](null,_0x31e15c);}catch(_0xcc79ca){_0x239856['callback'](_0xcc79ca);}}['_onError'](_0x204db2,_0x2337c1,_0x25d191,_0x541cd3){if(!_0x25d191['retrying']){if(_0x25d191['retry']&&_0x25d191['retries']<_0x25d191['maxRetries']){_0x25d191['retries']++,_0x25d191['retrying']=!(-0xed*-0x10+0x91b+0x7f9*-0x3);const _0x2b166d=Y['clamp'](Math['pow'](0x56*0x1+-0x1ddc+-0x1c*-0x10e,_0x25d191['retries'])*Oe['retryDelay'],-0x1de8+-0x1*0x1247+0x302f,_0x25d191['maxRetryDe'+'lay']||-0x4b*0x5f+0x2*0x807+-0x5*-0x643);console['log'](_0x204db2+':\x20'+_0x2337c1+'\x20-\x20Error\x20'+_0x541cd3['status']+('.\x20Retrying'+'\x20in\x20')+_0x2b166d+'\x20ms'),setTimeout(()=>{_0x25d191['retrying']=!(-0x441+-0x111b+0x155d),this['request'](_0x204db2,_0x2337c1,_0x25d191,_0x25d191['callback']);},_0x2b166d);}else _0x25d191['callback'](_0x541cd3['status']===-0x1*0x22f3+-0x253c+0x482f?'Network\x20er'+'ror':_0x541cd3['status'],null);}}};h(Oe,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),h(Oe,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),h(Oe,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),h(Oe,'retryDelay',0x3bb*0x9+0x47*-0x2+-0x1*0x20a1);let Ls=Oe;const ot=new Ls(),Vp='linear',bw='inverse',Aw='exponentia'+'l';class Cw{constructor(_0x4c8688){h(this,'_manager'),h(this,'position',new D()),h(this,'orientatio'+'n',new te()),this['_manager']=_0x4c8688;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x50d5dd){this['position']['copy'](_0x50d5dd);const _0x5943e0=this['listener'];_0x5943e0&&('positionX'in _0x5943e0?(_0x5943e0['positionX']['value']=_0x50d5dd['x'],_0x5943e0['positionY']['value']=_0x50d5dd['y'],_0x5943e0['positionZ']['value']=_0x50d5dd['z']):_0x5943e0['setPositio'+'n']&&_0x5943e0['setPositio'+'n'](_0x50d5dd['x'],_0x50d5dd['y'],_0x50d5dd['z']));}['setOrienta'+'tion'](_0x3825aa){this['orientatio'+'n']['copy'](_0x3825aa);const _0x46823f=this['listener'];if(_0x46823f){const _0x126898=_0x3825aa['data'];'forwardX'in _0x46823f?(_0x46823f['forwardX']['value']=-_0x126898[0x1436+-0x5*0x14e+-0x8*0x1b5],_0x46823f['forwardY']['value']=-_0x126898[0x1*-0x2217+0x1484+-0xd9c*-0x1],_0x46823f['forwardZ']['value']=-_0x126898[-0x26b3+-0x183b+0x4*0xfbe],_0x46823f['upX']['value']=_0x126898[-0x1*0x1689+-0x17b6+0x2e43],_0x46823f['upY']['value']=_0x126898[0x8*0x9c+-0x1a1*-0xa+0x1525*-0x1],_0x46823f['upZ']['value']=_0x126898[0x9*0x72+-0x1c37+0x1*0x183b]):_0x46823f['setOrienta'+'tion']&&_0x46823f['setOrienta'+'tion'](-_0x126898[0x30d+0x17a2+-0x1*0x1aa7],-_0x126898[-0x43a+-0x37*0x11+-0x1*-0x7ea],-_0x126898[0x11b7+-0x663+0x55*-0x22],_0x126898[-0xc*-0x125+0x6cc+0xa42*-0x2],_0x126898[-0x1*-0x2561+-0x2b*0x5+-0x2485],_0x126898[-0x1*-0x1663+0x162d+-0x2c8a]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x3d44cf=this['_manager']['context'];return _0x3d44cf?_0x3d44cf['listener']:null;}}const Ql='running',f_=['click','touchstart','mousedown'];class Pw extends me{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||w['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(0x1477+-0xe99*0x1+-0x13*0x4f),this['listener']=new Cw(this),this['_volume']=0x70*0x49+0x72+0x1*-0x2061;}set['volume'](_0x4a3c09){_0x4a3c09=Y['clamp'](_0x4a3c09,-0x1b93+0x1*-0x19a1+0x3534,0xd9*0x2b+0x3a8+0x1d*-0x162),this['_volume']=_0x4a3c09,this['fire']('volumechan'+'ge',_0x4a3c09);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==Ql&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(0x21fb*-0x1+0x1060*0x1+0x119b),this['_context']&&this['_context']['state']===Ql&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(0x1*-0x266e+0x2353+0x31c),this['_context']&&this['_context']['state']!==Ql&&this['_resume']());}['destroy'](){var _0x298876;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x298876=this['_context'])==null||_0x298876['close'](),this['_context']=null);}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x5b419d=this['_context']['createBuff'+'erSource']();_0x5b419d['buffer']=this['_context']['createBuff'+'er'](-0x1ab7+-0x2c*0x2f+0x22cc*0x1,-0xc0c+-0x8d2+0x14df,this['_context']['sampleRate']),_0x5b419d['connect'](this['_context']['destinatio'+'n']),_0x5b419d['start'](-0x8a*-0x44+-0x1bf5+-0x8b3),_0x5b419d['onended']=_0x49359f=>{_0x5b419d['disconnect'](0x50*0x4d+-0x25f9+0xde9),this['fire']('resume');};},_0x2d6217=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x2d6217);})['catch'](_0x5845e4=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x5845e4);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x114dd8=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x114dd8);})['catch'](_0x105d18=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x105d18);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==Ql&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){f_['forEach'](_0x5cfda9=>{window['addEventLi'+'stener'](_0x5cfda9,this['_unlockHan'+'dlerFunc'],!(0x1bee+-0x26d2+-0xae5*-0x1));});}['_removeUnl'+'ockListene'+'rs'](){f_['forEach'](_0x1f474a=>{window['removeEven'+'tListener'](_0x1f474a,this['_unlockHan'+'dlerFunc'],!(-0x19ec+-0x24da+0x3ec7));});}}class Mw{constructor(_0x2b6237){h(this,'audio'),h(this,'buffer'),_0x2b6237 instanceof Audio?this['audio']=_0x2b6237:this['buffer']=_0x2b6237;}get['duration'](){let _0x431c82=0x3*0x93b+-0x13cc+-0x2b*0x2f;return this['buffer']?_0x431c82=this['buffer']['duration']:this['audio']&&(_0x431c82=this['audio']['duration']),_0x431c82||0x7*0x347+-0x1833*0x1+0xe*0x17;}}function Dl(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}const Zt=-0x42*-0x4d+-0xa5*0x13+-0x79b,fn=0xc84+-0x1c+0x27b*-0x5,Hs=-0x1*0x565+-0x7da*0x3+-0x1cf5*-0x1;function es(_0x8d0f49,_0x2b06aa){return _0x8d0f49%_0x2b06aa||-0xd0b*0x2+-0x1c84+0x369a;}class As extends me{constructor(_0x3ddf1d,_0x264fb0,_0x2dee5b){super(),h(this,'source',null),(this['_manager']=_0x3ddf1d,this['_volume']=_0x2dee5b['volume']!==void(-0x24+-0x1dfe+0x44e*0x7)?Y['clamp'](Number(_0x2dee5b['volume'])||-0x1f03*0x1+0xd2f+-0x146*-0xe,0x3*-0x4a7+0x2253+-0x3*0x6ca,0x73e+-0xb1d+0x3e0):-0x17a3+0x4de+-0x216*-0x9,this['_pitch']=_0x2dee5b['pitch']!==void(-0x16ba+0x1186+-0x2*-0x29a)?Math['max'](-0x7d7+0x19*0x177+-0x3*0x998+0.01,Number(_0x2dee5b['pitch'])||0xd*0x23c+0x2548+-0x4254):-0x26e4*-0x1+-0x1*-0x219f+-0x4882,this['_loop']=!!(_0x2dee5b['loop']!==void(0x936+0x9e*-0x1+0x58*-0x19)&&_0x2dee5b['loop']),this['_sound']=_0x264fb0,this['_state']=Hs,this['_suspended']=!(0x2*-0xfd1+-0x160f+0x2*0x1ad9),this['_suspendEn'+'dEvent']=-0x13*0x1af+0x1f0*0xe+0x4dd,this['_suspendIn'+'stanceEven'+'ts']=!(-0x6*0x202+0xabf+-0xa7*-0x2),this['_playWhenL'+'oaded']=!(-0x129+-0x5ec*0x4+0x18d9*0x1),this['_startTime']=Math['max'](-0x255d+-0x1*-0x1dad+0x7b0,Number(_0x2dee5b['startTime'])||0x721+-0x3f8*0x7+0x14a7),this['_duration']=Math['max'](0x10ea+0x2f*-0xb5+-0x1*-0x1051,Number(_0x2dee5b['duration'])||0x435*0x1+0x40f*-0x1+-0x26),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x2dee5b['onPlay'],this['_onPauseCa'+'llback']=_0x2dee5b['onPause'],this['_onResumeC'+'allback']=_0x2dee5b['onResume'],this['_onStopCal'+'lback']=_0x2dee5b['onStop'],this['_onEndCall'+'back']=_0x2dee5b['onEnd'],Dl()?(this['_startedAt']=0x1ece+0x1498+0x2db*-0x12,this['_currentTi'+'me']=-0x1bb2+-0xd9a+-0x14a6*-0x2,this['_currentOf'+'fset']=-0x377+0x17dd+0x7*-0x2ea,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x1*0xb51+-0x2276+-0x16e4*-0x2),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(-0x5*0x15d+0x1069*-0x2+0x27a4),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x42d285){if(!(_0x42d285<-0xb7a+0x40d*0x9+0x1*-0x18fb)){if(this['_state']===Zt){const _0x4ed4b4=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(-0x169e+-0xd95+0x2433),this['stop'](),this['_startOffs'+'et']=_0x42d285,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x4ed4b4;}else this['_startOffs'+'et']=_0x42d285,this['_currentTi'+'me']=_0x42d285;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===fn?this['_currentTi'+'me']:this['_state']===Hs||!this['source']?-0x1b7*-0x11+-0xe87*-0x1+-0x2bae:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x3a7b22){this['_duration']=Math['max'](0x9d8+0xfc2+-0x199a*0x1,Number(_0x3a7b22)||0x8d1+0x174e+0x3*-0xab5);const _0x4cfb28=this['_state']===Zt;this['stop'](),_0x4cfb28&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?es(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:0x3*0x15e+-0x75d*-0x3+0x95*-0x2d;}get['isPaused'](){return this['_state']===fn;}get['isPlaying'](){return this['_state']===Zt;}get['isStopped'](){return this['_state']===Hs;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x3bdabe){this['_loop']=!!_0x3bdabe,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0xd56ed){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0xd56ed)||-0x2363+0x7*-0x167+0x2d34,0x15fd+-0x1*0x1162+-0x49b+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x3dbb44){this['_sound']=_0x3dbb44,this['_state']!==Hs?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x4ef1cb){this['_startTime']=Math['max'](0x1*0xb1c+0x4*-0x90a+0x190c,Number(_0x4ef1cb)||-0x12e*0x1b+0x1*0x1669+0x971);const _0x178a95=this['_state']===Zt;this['stop'](),_0x178a95&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x3a4e6a){_0x3a4e6a=Y['clamp'](_0x3a4e6a,0x16fb+-0x52*-0x59+0x31*-0x10d,-0x1ea2+0x22f9+-0x456),this['_volume']=_0x3a4e6a,this['gain']&&(this['gain']['gain']['value']=_0x3a4e6a*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>-0x1f+0x1685+0x5e*-0x3d){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Zt&&!this['_suspended']&&(this['_suspended']=!(-0x173c+0x2d4+0x51a*0x4),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(0x1f3*-0x3+-0xa1a*0x3+-0x2428*-0x1),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==Hs&&this['stop'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x1*0xa9c+-0x1*0x1639+-0x579*-0x6),this['_waitingCo'+'ntextSuspe'+'nsion']?!(0x12b*-0x9+-0x531*0x2+0x14e6):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x1*-0x1095+0xaa+-0x113f*0x1),!(0x1*0x1981+-0x1*-0xa49+-0x23c9)):(this['_playAudio'+'Immediate'](),!(-0x2240+0x2556*-0x1+0x4796));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x21fe+0x63d*0x3+-0x34b4*0x1),this['_state']!==Zt)return;this['source']||this['_createSou'+'rce']();let _0x13abcf=es(this['_startOffs'+'et'],this['duration']);_0x13abcf=es(this['_startTime']+_0x13abcf,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](-0x1f6a+0xac*-0x3+0x216e,_0x13abcf,this['_duration']):this['source']['start'](-0x1597+0x128f*-0x1+0x2826,_0x13abcf),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=-0x14fb+0x2611+-0x1116,this['_currentOf'+'fset']=_0x13abcf,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(-0x2*0xd64+-0x3*0x9e3+0x3872),this['_state']!==Zt?!(0x9d4+0x1*0x1c25+-0x25f8):(this['_state']=fn,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](0x21f7+-0x787+-0x1a70),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(-0xb9+-0x5ba*-0x5+-0x1be9));}['resume'](){if(this['_state']!==fn)return!(-0x1fe8+0x13*0x1bf+-0x144);let _0x4ef1b9=this['currentTim'+'e'];return this['_state']=Zt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x4ef1b9=es(this['_startOffs'+'et'],this['duration']),_0x4ef1b9=es(this['_startTime']+_0x4ef1b9,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](0x342+-0x6*0x5ec+-0x51*-0x66,_0x4ef1b9,this['_duration']):this['source']['start'](-0xa*0x23b+0x17*-0x4a+0x1cf4,_0x4ef1b9),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x4ef1b9,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(-0x38*0x58+0x30d*-0xb+-0x69a*-0x8),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x2054*0x1+0x9ca+0x6*-0x705);}['stop'](){if(this['_playWhenL'+'oaded']=!(0x4*-0x31d+-0x20c9+-0x2*-0x169f),this['_state']===Hs)return!(-0x8*-0x480+0x24c2+-0x48c1);const _0x45fb27=this['_state']===Zt;return this['_state']=Hs,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0x3c8*0x2+-0x2378+0x2b08,this['_currentTi'+'me']=-0x17*-0xfd+0x1f2+0x18ad*-0x1,this['_currentOf'+'fset']=0xad*-0x5+-0x983+0xce4,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x45fb27&&this['source']&&this['source']['stop'](-0x7*-0x22+0x1*-0x99f+0x5*0x1bd),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(-0x1d40+0x110b*0x1+0x5*0x271);}['setExterna'+'lNodes'](_0x242a37,_0x291975){if(!_0x242a37){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x291975||(_0x291975=_0x242a37);const _0x3c71af=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x242a37&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x3c71af),this['_firstNode']=_0x242a37,this['_connector'+'Node']['connect'](_0x242a37)),this['_lastNode']!==_0x291975&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x3c71af),this['_lastNode']=_0x291975,this['_lastNode']['connect'](_0x3c71af));}['clearExter'+'nalNodes'](){const _0x26bb66=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x26bb66),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x26bb66);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x328695=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x328695['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=es(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],es(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=es((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Zt&&(this['source']['stop'](0x1aa1+0x15de*-0x1+-0x35*0x17),this['source']=null);}}h(As,'EVENT_PLAY','play'),h(As,'EVENT_PAUS'+'E','pause'),h(As,'EVENT_RESU'+'ME','resume'),h(As,'EVENT_STOP','stop'),h(As,'EVENT_END','end'),Dl()||(Object['assign'](As['prototype'],{'play':function(){return this['_state']!==Hs&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(0x91b+0x3e*0x7a+-0xc2*0x33):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(0x13*-0xa6+-0xc91*-0x3+-0x1960),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(-0x1*-0x6ed+-0x1cb*-0x7+-0x137a));},'pause':function(){return!this['source']||this['_state']!==Zt?!(0x998+0x1c2e+-0xc97*0x3):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x1a*0x15d+-0xf85*0x1+0x8*0x65f),this['_state']=fn,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(-0x5*0x3d3+0x1*0x147b+-0x2*0xae));},'resume':function(){return!this['source']||this['_state']!==fn?!(0x45f+0xbcf+-0x65*0x29):(this['_state']=Zt,this['_playWhenL'+'oaded']=!(0x5*-0x362+-0xed5*0x1+0x1fc0),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0xa43+-0xc3+-0x980));},'stop':function(){return!this['source']||this['_state']===Hs?!(0x1*0xf13+0x1795+-0x26a7):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x131e*0x1+-0x1*0x148c+0x1*0x16f),this['_state']=Hs,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(-0xa26+-0x1*-0x2639+-0x1*0x1c13));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(0x61d+-0x4d*0x61+0x30*0x7b);let _0x4b932f=es(this['_startOffs'+'et'],this['duration']);_0x4b932f=es(this['_startTime']+_0x4b932f,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x4b932f;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(0x302+-0x2*-0x4a3+-0xc47),this['source']=this['_sound']['audio']['cloneNode'](!(-0x1*0x62d+0x8d5+-0x2a8)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>es(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=es(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](As['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x29b620){_0x29b620=Y['clamp'](_0x29b620,-0x79f+-0x166*0x4+0xd37,-0x13a+0x5f5*-0x1+-0x28*-0x2e),this['_volume']=_0x29b620,this['source']&&(this['source']['volume']=_0x29b620*this['_manager']['volume']);}}),Object['defineProp'+'erty'](As['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x321a81){this['_pitch']=Math['max'](Number(_0x321a81)||0x395+-0x10cc+0xd37,0x1c8f*-0x1+-0x2215+0x4c*0xd3+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](As['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x55ea1c){this['stop'](),this['_sound']=_0x55ea1c;}}),Object['defineProp'+'erty'](As['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===Hs||!this['source']?0x1c1a+0x1528+-0x3142:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x119d51){_0x119d51<-0xfcf*-0x1+0x11b9+0x4a*-0x74||(this['_startOffs'+'et']=_0x119d51,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=es(this['_startTime']+es(_0x119d51,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Dw=0x264a+-0x16*-0x38b+-0x4d2c;class sn extends As{constructor(_0x2e12f6,_0x32be9b,_0x2218cf={}){super(_0x2e12f6,_0x32be9b,_0x2218cf),h(this,'_position',new D()),h(this,'_velocity',new D()),(_0x2218cf['position']&&(this['position']=_0x2218cf['position']),this['maxDistanc'+'e']=_0x2218cf['maxDistanc'+'e']!==void(0xc82*0x1+0x6c5*0x2+-0x1a0c)?Number(_0x2218cf['maxDistanc'+'e']):Dw,this['refDistanc'+'e']=_0x2218cf['refDistanc'+'e']!==void(-0x6b9*0x1+-0x4*-0x2a5+0x3*-0x149)?Number(_0x2218cf['refDistanc'+'e']):0x243a+0x1887+-0x3cc0,this['rollOffFac'+'tor']=_0x2218cf['rollOffFac'+'tor']!==void(0x4*-0x21a+0x1467+-0xbff*0x1)?Number(_0x2218cf['rollOffFac'+'tor']):0x3d*-0x18+0x89f+-0xe*0x35,this['distanceMo'+'del']=_0x2218cf['distanceMo'+'del']!==void(0x21e2+-0x3*0x446+-0x2a2*0x8)?_0x2218cf['distanceMo'+'del']:Vp);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x4a8571){this['_position']['copy'](_0x4a8571);const _0x20d91d=this['panner'];'positionX'in _0x20d91d?(_0x20d91d['positionX']['value']=_0x4a8571['x'],_0x20d91d['positionY']['value']=_0x4a8571['y'],_0x20d91d['positionZ']['value']=_0x4a8571['z']):_0x20d91d['setPositio'+'n']&&_0x20d91d['setPositio'+'n'](_0x4a8571['x'],_0x4a8571['y'],_0x4a8571['z']);}get['position'](){return this['_position'];}set['velocity'](_0x249582){w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x249582);}get['velocity'](){return w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x40496e){this['panner']['maxDistanc'+'e']=_0x40496e;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x49eb4f){this['panner']['refDistanc'+'e']=_0x49eb4f;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x690a9c){this['panner']['rolloffFac'+'tor']=_0x690a9c;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x4bd3e8){this['panner']['distanceMo'+'del']=_0x4bd3e8;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Dl()){let l=new D();const t=function(_0x413b18,_0x235107,_0x424026,_0x5c9d4c,_0x30d2d1,_0x153ec6){l=l['sub2'](_0x413b18,_0x235107);const _0x4b8f61=l['length']();if(_0x4b8f61<_0x424026)return 0x23a7+-0xeec+-0x14ba;if(_0x4b8f61>_0x5c9d4c)return-0x1b4d*-0x1+-0x1b8b+0x3e;let _0x91d1e9=0x176b+-0x245f+-0x33d*-0x4;return _0x153ec6===Vp?_0x91d1e9=0x4d8+-0x2*-0xf2c+-0x232f*0x1-_0x30d2d1*(_0x4b8f61-_0x424026)/(_0x5c9d4c-_0x424026):_0x153ec6===bw?_0x91d1e9=_0x424026/(_0x424026+_0x30d2d1*(_0x4b8f61-_0x424026)):_0x153ec6===Aw&&(_0x91d1e9=Math['pow'](_0x4b8f61/_0x424026,-_0x30d2d1)),Y['clamp'](_0x91d1e9,-0x9a1*-0x1+-0x10*0x5f+0x2d*-0x15,-0x11*-0x12b+-0x12f*-0xd+-0x233d);};Object['defineProp'+'erty'](sn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x170d62){if(this['_position']['copy'](_0x170d62),this['source']){const _0x5fd441=this['_manager']['listener']['getPositio'+'n'](),_0x13e7a7=t(_0x5fd441,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x17b99d=this['volume'];this['source']['volume']=_0x17b99d*_0x13e7a7*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](sn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x448172){this['_maxDistan'+'ce']=_0x448172;}}),Object['defineProp'+'erty'](sn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x3adf37){this['_refDistan'+'ce']=_0x3adf37;}}),Object['defineProp'+'erty'](sn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0xcb330c){this['_rollOffFa'+'ctor']=_0xcb330c;}}),Object['defineProp'+'erty'](sn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x98008a){this['_distanceM'+'odel']=_0x98008a;}});}const Gp=-0xcbf+-0x29*0xc6+0x2c75,Hp=-0x649*-0x2+-0xc*-0x2dd+-0x2eed,Zs=-0x91*-0x1+-0x88d+0x7fe,Cs=-0x7*0x283+-0x2092+0x322a,Gn=0x166*0x17+0x13f*-0x7+-0x176d,Wp=0x5*-0x33+-0x2*-0x112f+-0x215a,Ed=0x1*-0x535+0x1bf1*0x1+-0x16b6,$p=-0x1aa+0x14d7+-0x1326,Xp=-0x6dc*0x4+-0x1fe+-0xebb*-0x2,qp=-0x3*-0x80f+0x382*-0x1+-0x14a2,jp=0x717+-0x36*-0x3f+-0x1*0x1457,Yy={[Gp]:'SUBTRACTIV'+'E',[Hp]:'ADDITIVE',[Zs]:'NORMAL',[Cs]:'NONE',[Gn]:'PREMULTIPL'+'IED',[Wp]:'MULTIPLICA'+'TIVE',[Ed]:'ADDITIVEAL'+'PHA',[$p]:'MULTIPLICA'+'TIVE2X',[Xp]:'SCREEN',[qp]:'MIN',[jp]:'MAX'},Kn='none',Iw='linear',Lw=0x14d8+0xea5+-0x237d,Yp=0x1879*0x1+-0x1e1e+-0x5a7*-0x1,Rw={[Lw]:'NONE',[Yp]:'SCHLICK'},Ow=0x6*0x178+-0x25b9+0x1ce9,Ky=0x1f1c+-0x1919+0x2*-0x2fa,er=0x229b*0x1+0x1cba+-0x1f*0x20b,ps=0x5d1*0x1+-0x1975+0x1*0x13a5,Kp=-0x576+0x196*-0x10+0x1ed8,Zp=0x3*-0x4c+-0x9*-0x229+-0x128a,Il=-0x26f0+0x2325+-0x1*-0x3cf,ve=0x29*-0x1d+-0xb5d*-0x1+-0x6b8,Ke=-0x632+-0x25bc+-0xea5*-0x3,Ze=-0xf*0xc2+0x1b0d+-0xfad,u_={[ve]:'DIRECTIONA'+'L',[Ke]:'OMNI',[Ze]:'SPOT'},$c=0x1*-0x148f+0x1*-0x259+0x174c,Ys=-0x287*-0x1+0x1*0x104d+-0x12d4,Zy=-0xad6+-0x1ea4+0x1*0x297b,Qy=0x2446+0x2419+-0x485d,Jy=0x2*-0x44b+-0x1517*0x1+0x1db0,Fw={[Ys]:'PUNCTUAL',[Zy]:'RECT',[Qy]:'DISK',[Jy]:'SPHERE'},Qp=0x511*-0x6+0x73f+0x1727,ev=-0x22fd+0x19b5*0x1+0x949*0x1,Nw={[Qp]:'LINEAR',[ev]:'INVERSESQU'+'ARED'},$s=0x1e0+-0x1d65+0x1b85*0x1,au=-0x1c2b+0x2362+-0x735,Jp=-0x1*-0x24fa+0x3*-0xca+-0x2299,kw=0x203b+-0x3*0x769+-0x9fc,tv=0x170b+-0x2001+0x8fb,al=0x19*-0x12a+0x1*0x17c9+-0x557*-0x1,sv=-0x1d4a*-0x1+0x3a*-0x53+-0xa75,iv=0x2266+0x1d2b+-0x5*0xcb5,Uw=-0xea0+0x13a9*0x1+0x8*-0xa0,qi=new Map([[tv,{'name':'PCF1_32F','kind':'PCF1','format':$i,'pcf':!(0x24d7*0x1+0x1dd4+-0x1*0x42ab)}],[$s,{'name':'PCF3_32F','kind':'PCF3','format':$i,'pcf':!(0x12b3*0x1+0x55f*-0x3+-0x296)}],[kw,{'name':'PCF5_32F','kind':'PCF5','format':$i,'pcf':!(0x1f*-0x6d+-0xdc*0x12+0xb3*0x29)}],[sv,{'name':'PCF1_16F','kind':'PCF1','format':vn,'pcf':!(-0x40*0x83+-0x8a0+0x2960)}],[iv,{'name':'PCF3_16F','kind':'PCF3','format':vn,'pcf':!(0x1e39+0x179d+0x1aeb*-0x2)}],[Uw,{'name':'PCF5_16F','kind':'PCF5','format':vn,'pcf':!(0xb*0x12b+0x231d+-0x2ff6)}],[au,{'name':'VSM_16F','kind':'VSM','format':nt,'vsm':!(-0x4*-0x223+0xe*-0x1e7+-0x5*-0x39e)}],[Jp,{'name':'VSM_32F','kind':'VSM','format':Xt,'vsm':!(0x1*0x1741+-0x10e+-0x1633*0x1)}],[al,{'name':'PCSS_32F','kind':'PCSS','format':Ji,'pcss':!(-0x1e4a+0x3*0x567+-0x67*-0x23)}]]),Bw=-0x2*0x8a6+0xe5b+0x3f0,em=-0x2*-0x89b+-0x112*-0x8+-0x19c5,nu=-0x619+0x20a4+-0x1a8b,rv=-0x33*-0x3+0x8f4+0x5*-0x1e9,ai=0xb49+0x2335+0x173f*-0x2,zw=0x1*0x503+-0x6*-0x65d+-0x2b30,yh=-0x62f*0x6+-0x31*0xaf+0x66b*0xb,Vw=0x805+0x130b+0x1b0f*-0x1,ni=-0x2396*0x1+-0x51*0x4d+0x3bf3,En=-0xccb*-0x1+0x17*0x181+-0x3a5*0xd,un=-0x5*0x235+0x1*0x392+0x777,$r=-0x460+-0xd6b+0x11cc,Jl=0xd*0xe6+-0x14c4+0x918,tm=0x12*0x4c+-0x2073+0x9*0x303,av=0x640+0x286+-0x8c5,Gw={[tm]:'NONE',[av]:'BOX'},p_='mul',Ll=-0x97a*-0x4+-0xb9+-0x1f5*0x13,Xc=0x78a+0x3*-0x8c3+0x12c0,Hw={[Ll]:'NONE',[Xc]:'SRGB'},sm=-0x2521*0x1+-0x7*0x1f6+0x32db,UU=0x9f*0x8+-0x698*-0x2+0x3*-0x60d,BU=0x1c3+-0x5c5+0x404,zU=0x1c*0x158+-0xe2+-0x24bb,VU=-0x1*-0x22cb+0x145f+-0x3726,GU=-0x1*0x18e1+0x1cf9+-0x7*0x95,nv=-0x2441+-0x10*-0x3f+0x2057,ov=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],lv=-0x263+-0x231+0x494,bd=-0x4*-0x64+-0x9a7*0x4+0x250d*0x1,cv=0x182f*0x1+0x13c6*0x1+0x2bf3*-0x1,Ww={[lv]:'NONE',[bd]:'AO',[cv]:'GLOSSDEPEN'+'DENT'},vr='none',vh='envAtlas',xh='envAtlasHQ',Th='cubeMap',hv='sphereMap',$w={[vr]:'NONE',[vh]:'ENVATLAS',[xh]:'ENVATLASHQ',[Th]:'CUBEMAP',[hv]:'SPHEREMAP'},im='ambientSH',rm='envAtlas',am='constant',Xw={[im]:'AMBIENTSH',[rm]:'ENVALATLAS',[am]:'CONSTANT'},wh=-0x19c0+-0xa31+0x23f2,nl=0x549+-0x117e+-0xc37*-0x1,nm=0x53a+0x3*-0x199+-0x1*0x6b,dv=0x9f5+-0x156b+0xb7e,fv=-0x268c*0x1+-0x97*0x35+0x45df,ol=0x1*0xc63+-0x14*-0x2+0x1*-0xc6b,ou=-0x10d2+0x25b1*0x1+-0x1*0x149f,uv=0x5*0x1a6+0x164a+-0x1e08,Eh=-0xa*-0xe5+-0xbd5+0x3e3,om=0x1*0x1b23+0x11b*0x23+-0x14*0x331,ll=-0x6*-0xa7+0x1ea5+-0x1e8f*0x1,cl=-0x2a*0x37+0xde+0x2c*0x5e,pv=0xb9a+0xa88+-0x622,hl=-0x39a+0x2*-0x1c55+-0x49d*-0x14,qc=-0xe1*0x1a+0x47da+-0xc*-0x140,Ps=0x33*0x39+-0x86c+-0x2ef,xr=0x24d7*-0x1+0x13e3+-0x1*-0x10f5,lm=-0x15b5+0x202f+-0xa78,Ss=-0x136d+-0x25d3+0x3941,di=0xe6f+0x1d8d+-0x2bfa,fi=0x264e+0x9a6+-0x2ff0,Aa=-0x226f+-0xff2+0x3261,Rl=-0x5f2*0x4+-0x1e56+0x55*0xa3,cm=-0x51*-0x37+-0x7*0x407+-0x2b3*-0x4,Zn=-0x240e+0x10a9+0x1368,ci=0x13d8+0x22f5+0x36cd*-0x1,Pt=-0x1005+0x8ee+0x718,Mt=-0x120*-0x1e+-0x27*-0xe4+-0x447a,qw={[ci]:'SIMPLE',[Pt]:'SLICED',[Mt]:'TILED'},jc=0x716*0x1+-0x1c4b+-0x1e*-0xb5,ec=-0x2263+0x4*-0x831+-0x4327*-0x1,Yc=-0x1ff7+0x1*-0x2425+0x2*0x220e,jw=0xf91+0x1b9e+-0x2b2e,Yw=0x29*0xc1+-0x455+-0x2*0xd49,m_=0x129a+0x18e3+-0x2b7a,Kw=-0x1d*-0x20+0xac0+0x2*-0x72e,Zw=-0x1615+-0x10d*0x2+-0x4*-0x60d,hm=-0x1*-0x220d+0x503+-0x2710,lu=0xa12*0x2+0xb2f*0x1+-0x1f52,Ce=-0x6a1*-0x3+-0x1e2f*-0x1+-0x1*0x3212,je=0x1ffc+-0xc7*0x28+-0xe3,Bo='infinite',Qw='box',Jw='dome',Sa='none',eE='bayer8',tE='bluenoise',sE='ignnoise',iE={[Sa]:'NONE',[eE]:'BAYER8',[tE]:'BLUENOISE',[sE]:'IGNNOISE'},rE='prerender',aE='postrender',nE='prerender:'+'layer',oE='postrender'+':layer',mv='precull',_v='postcull',lE='cull:end';class Ad{constructor(_0x385d50,_0x44b90f,_0x1355a2){h(this,'uniformFor'+'mats',[]),h(this,'bindGroupF'+'ormats',[]),h(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][rl]=_0x385d50,this['bindGroupF'+'ormats'][rl]=_0x44b90f,this['vertexForm'+'at']=_0x1355a2);}['hasUniform'](_0x1fa02f){for(let _0x5f39eb=0x8*0x2b3+-0x55*0x61+0xa9d;_0x5f39eb<this['uniformFor'+'mats']['length'];_0x5f39eb++){const _0x595a11=this['uniformFor'+'mats'][_0x5f39eb];if(_0x595a11!=null&&_0x595a11['get'](_0x1fa02f))return!(-0x13ca+0xc*-0xac+0x1bda);}return!(0x7*-0x329+0x694+0xf8c);}['hasTexture'](_0x47d0ff){for(let _0x180877=-0x189*-0xa+-0xe26*-0x2+0x1*-0x2ba6;_0x180877<this['bindGroupF'+'ormats']['length'];_0x180877++){const _0x14850c=this['bindGroupF'+'ormats'][_0x180877];if(_0x14850c!=null&&_0x14850c['getTexture'](_0x47d0ff))return!(0x8de*-0x4+0x1b30+0x848);}return!(-0xaee+-0x1*0x126d+0x1d5c);}['getVertexE'+'lement'](_0x354442){var _0x4be5b7;return(_0x4be5b7=this['vertexForm'+'at'])==null?void(0x1e73+-0x25*-0xab+-0x372a):_0x4be5b7['elements']['find'](_0x550906=>_0x550906['name']===_0x354442);}['generateKe'+'y'](_0x7d87bd){var _0x138e94;let _0x5b24f1=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x7d87bd['isWebGPU']&&(_0x5b24f1+=(_0x138e94=this['vertexForm'+'at'])==null?void(0x1df9+-0x25b9+0x7c0):_0x138e94['shaderProc'+'essingHash'+'String']),_0x5b24f1;}}const gv=new Kt();function Hn(_0x439224){const _0x3d2df8=gv['get'](_0x439224);return w['assert'](_0x3d2df8),_0x3d2df8;}function cE(_0x2061c0,_0x52d6c5){w['assert'](_0x52d6c5),gv['get'](_0x2061c0,()=>_0x52d6c5);}class ya{static['definesHas'+'h'](_0x515a2d){const _0x35b883=Array['from'](_0x515a2d)['sort']((_0x1f33db,_0x5cf324)=>_0x1f33db[-0xed2+-0xf68+0x1e3a]>_0x5cf324[-0x14d2+0x1831+0x35f*-0x1]?-0x26f8+-0xaa*-0x17+0x17b3*0x1:-(-0xab7+0xaae+-0x1*-0xa));return hi(JSON['stringify'](_0x35b883));}}const hE=new Kt();class dE{constructor(_0x2d4d24,_0x1be7f1,_0x304c83={}){h(this,'index'),h(this,'name'),h(this,'defines',new Map()),(w['assert'](/^[a-z]\w*$/i['test'](_0x2d4d24),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x2d4d24),this['name']=_0x2d4d24,this['index']=_0x1be7f1,Object['assign'](this,_0x304c83),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x33ebc8;this['isShadow']?_0x33ebc8='SHADOW':this['isForward']?_0x33ebc8='FORWARD':this['index']===Zn&&(_0x33ebc8='PICK'),this['defines']['set'](_0x33ebc8+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Si{constructor(){h(this,'passesName'+'d',new Map()),h(this,'passesInde'+'xed',[]),h(this,'nextIndex',-0x4*0x26+0x182d+-0x1795);const _0x33bfd5=(_0x30ffb1,_0x12761a,_0x59adc0)=>{const _0x524ee5=this['allocate'](_0x30ffb1,_0x59adc0);w['assert'](_0x524ee5['index']===_0x12761a);};_0x33bfd5('forward',Aa,{'isForward':!(-0x1e76+-0x21c5+0x403b)}),_0x33bfd5('prepass',Rl),_0x33bfd5('shadow',cm),_0x33bfd5('pick',Zn);}static['get'](_0x1c10da){return w['assert'](_0x1c10da),hE['get'](_0x1c10da,()=>new Si());}['allocate'](_0x5b8c05,_0x479dce){let _0x188c1f=this['passesName'+'d']['get'](_0x5b8c05);return _0x188c1f===void(-0x1*-0x53d+-0x1dc8+0x188b)&&(_0x188c1f=new dE(_0x5b8c05,this['nextIndex'],_0x479dce),this['passesName'+'d']['set'](_0x188c1f['name'],_0x188c1f),this['passesInde'+'xed'][_0x188c1f['index']]=_0x188c1f,this['nextIndex']++),_0x188c1f;}['getByIndex'](_0x26c446){const _0x5787a7=this['passesInde'+'xed'][_0x26c446];return w['assert'](_0x5787a7),_0x5787a7;}['getByName'](_0x47340e){return this['passesName'+'d']['get'](_0x47340e);}}class __ extends Map{constructor(){super(...arguments),h(this,'_keyDirty',!(-0x21e3+0x4ed*0x5+0x943)),h(this,'_key','');}['set'](_0x278894,_0x68321d){return(!this['has'](_0x278894)||this['get'](_0x278894)!==_0x68321d)&&this['markDirty'](),super['set'](_0x278894,_0x68321d);}['add'](_0x3c6c23){for(const [_0x42f368,_0x2ee289]of Object['entries'](_0x3c6c23))this['set'](_0x42f368,_0x2ee289);return this;}['delete'](_0x55dbca){const _0x19a292=this['has'](_0x55dbca),_0x370012=super['delete'](_0x55dbca);return _0x19a292&&_0x370012&&this['markDirty'](),_0x370012;}['clear'](){this['size']>0x2316+0x197b+-0x3c91&&this['markDirty'](),super['clear']();}['markDirty'](){this['_dirty']=!(0x2256+0x33+-0x4ef*0x7),this['_keyDirty']=!(-0x1*0x2440+0x2414+0x1*0x2c);}['isDirty'](){return this['_dirty'];}['resetDirty'](){this['_dirty']=!(-0x1958+-0x1659*0x1+-0xb9*-0x42);}get['key'](){return this['_keyDirty']&&(this['_keyDirty']=!(0x1b*0xb7+0x1fc6+0x1989*-0x2),this['_key']=Array['from'](this['entries']())['sort'](([_0x1409be],[_0x2a3969])=>_0x1409be<_0x2a3969?-(-0x746+0x83f*0x2+-0x937):_0x1409be>_0x2a3969?0xd*-0x136+0xae9+0x26b*0x2:0x2d*0x1+-0x1fb7+0x1f8a)['map'](([_0x550f8c,_0x29bc06])=>_0x550f8c+'='+hi(_0x29bc06))['join'](',')),this['_key'];}['copy'](_0x279a64){this['clear']();for(const [_0x315e47,_0x50661f]of _0x279a64)this['set'](_0x315e47,_0x50661f);return this;}}const fE=new Kt();class Pe{constructor(){h(this,'glsl',new __()),h(this,'wgsl',new __()),h(this,'version','');}static['get'](_0x4da284,_0x493cf1=Fe){const _0x5a17be=fE['get'](_0x4da284,()=>new Pe());return _0x493cf1===Fe?_0x5a17be['glsl']:_0x5a17be['wgsl'];}get['useWGSL'](){return this['glsl']['size']===-0x2637+0x1914+0xd23||this['wgsl']['size']>-0x1127+0x7f5+0xd6*0xb;}get['key'](){return'GLSL:'+this['glsl']['key']+'|WGSL:'+this['wgsl']['key']+'|API:'+this['version'];}['isDirty'](){return this['glsl']['isDirty']()||this['wgsl']['isDirty']();}['resetDirty'](){this['glsl']['resetDirty'](),this['wgsl']['resetDirty']();}['copy'](_0x2b06dd){return this['version']=_0x2b06dd['version'],this['glsl']['copy'](_0x2b06dd['glsl']),this['wgsl']['copy'](_0x2b06dd['wgsl']),this;}}class bh{static['merge'](..._0x3e693e){const _0x54308f=new Map(_0x3e693e[0xbe9*0x1+0xad3*0x1+0x3c*-0x61]??[]);for(let _0x417b8f=0x1*0x2503+0x3*0x9f3+-0x42db;_0x417b8f<_0x3e693e['length'];_0x417b8f++){const _0x499e98=_0x3e693e[_0x417b8f];if(_0x499e98){for(const [_0x131b4e,_0x3042dc]of _0x499e98)_0x54308f['set'](_0x131b4e,_0x3042dc);}}return _0x54308f;}}class uE extends ya{constructor(_0x4aecce,_0x3d9b4f){super(),this['key']=_0x4aecce,this['shaderDefi'+'nition']=_0x3d9b4f;}['generateKe'+'y'](_0x6107e){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x4cb974,_0x54fdb3){return this['shaderDefi'+'nition'];}}class $t{static['createShad'+'er'](_0x3692bf,_0x4705ef){const _0x4291b2=Hn(_0x3692bf);let _0x4ec4c5=_0x4291b2['getCachedS'+'hader'](_0x4705ef['uniqueName']);if(!_0x4ec4c5){const _0x8faf64=_0x3692bf['isWebGPU']&&(!!_0x4705ef['vertexWGSL']||!!_0x4705ef['vertexChun'+'k'])&&(!!_0x4705ef['fragmentWG'+'SL']||!!_0x4705ef['fragmentCh'+'unk']),_0x5ed349=Pe['get'](_0x3692bf,_0x8faf64?it:Fe),_0x36a91d=_0x4705ef['vertexChun'+'k']?_0x5ed349['get'](_0x4705ef['vertexChun'+'k']):_0x8faf64?_0x4705ef['vertexWGSL']:_0x4705ef['vertexGLSL'],_0x12da9e=_0x4705ef['fragmentCh'+'unk']?_0x5ed349['get'](_0x4705ef['fragmentCh'+'unk']):_0x8faf64?_0x4705ef['fragmentWG'+'SL']:_0x4705ef['fragmentGL'+'SL'];w['assert'](_0x36a91d,'ShaderUtil'+'s.createSh'+'ader:\x20vert'+'ex\x20shader\x20'+'code\x20not\x20p'+'rovided',_0x4705ef),w['assert'](_0x12da9e,'ShaderUtil'+'s.createSh'+'ader:\x20frag'+'ment\x20shade'+'r\x20code\x20not'+'\x20provided',_0x4705ef);const _0x46bee0=bh['merge'](_0x5ed349,_0x4705ef['fragmentIn'+'cludes']),_0x4b0723=bh['merge'](_0x5ed349,_0x4705ef['vertexIncl'+'udes']);_0x4ec4c5=new qy(_0x3692bf,Jt['createDefi'+'nition'](_0x3692bf,{'name':_0x4705ef['uniqueName'],'shaderLanguage':_0x8faf64?it:Fe,'attributes':_0x4705ef['attributes'],'vertexCode':_0x36a91d,'fragmentCode':_0x12da9e,'useTransformFeedback':_0x4705ef['useTransfo'+'rmFeedback'],'vertexIncludes':_0x4b0723,'vertexDefines':_0x4705ef['vertexDefi'+'nes'],'fragmentIncludes':_0x46bee0,'fragmentDefines':_0x4705ef['fragmentDe'+'fines'],'fragmentOutputTypes':_0x4705ef['fragmentOu'+'tputTypes']})),_0x4291b2['setCachedS'+'hader'](_0x4705ef['uniqueName'],_0x4ec4c5);}return _0x4ec4c5;}static['getCoreDef'+'ines'](_0x191a31,_0x59e1ed){const _0x21c809=new Map(_0x191a31['defines']);return _0x59e1ed['cameraShad'+'erParams']['defines']['forEach']((_0x273cd4,_0x4264d2)=>_0x21c809['set'](_0x4264d2,_0x273cd4)),Si['get'](_0x59e1ed['device'])['getByIndex'](_0x59e1ed['pass'])['defines']['forEach']((_0x2e2a8b,_0x5abed4)=>_0x21c809['set'](_0x5abed4,_0x2e2a8b)),_0x21c809;}static['processSha'+'der'](_0x1f49d7,_0x439be2){w['assert'](_0x1f49d7);const _0x2a6506=_0x1f49d7['definition'],_0xecf8ee=(_0x2a6506['name']??'shader')+'-id-'+_0x1f49d7['id'],_0x4105d0=new uE(_0xecf8ee,_0x2a6506),_0x3683ac='shader',_0x5d4f87=Hn(_0x1f49d7['device']);w['assert'](!_0x5d4f87['isRegister'+'ed'](_0x3683ac)),_0x5d4f87['register'](_0x3683ac,_0x4105d0);const _0x27e2ec=_0x5d4f87['getProgram'](_0x3683ac,{},_0x439be2);return _0x5d4f87['unregister'](_0x3683ac),_0x27e2ec;}static['addScreenD'+'epthChunkD'+'efines'](_0x3706ff,_0x1a3a7e,_0x883655){_0x1a3a7e['sceneDepth'+'MapLinear']&&_0x883655['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',''),_0x3706ff['textureFlo'+'atRenderab'+'le']&&_0x883655['set']('SCENE_DEPT'+'HMAP_FLOAT','');}}const pE={'type':Er,'base':0x0,'baseVertex':0x0,'count':0x4,'indexed':!(0x2033*-0x1+0x236b*0x1+-0x337)},so=new re(),io=new re(),Gd=new ky();class Ah{constructor(_0x1e0ca0){h(this,'uniformBuf'+'fer'),h(this,'bindGroup');const _0x587b62=_0x1e0ca0['device'];if(this['shader']=_0x1e0ca0,w['assert'](_0x1e0ca0),_0x587b62['supportsUn'+'iformBuffe'+'rs']){const _0xc7606d=new Ad();this['shader']=$t['processSha'+'der'](_0x1e0ca0,_0xc7606d);const _0x507174=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x507174&&(this['uniformBuf'+'fer']=new zp(_0x587b62,_0x507174,!(-0x262*0xf+-0x5*0x175+0x2b08)));const _0x54654d=this['shader']['meshBindGr'+'oupFormat'];w['assert'](_0x54654d),this['bindGroup']=new Up(_0x587b62,_0x54654d),Ea['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x5f51d0,_0x167b94;(_0x5f51d0=this['uniformBuf'+'fer'])==null||_0x5f51d0['destroy'](),this['uniformBuf'+'fer']=null,(_0x167b94=this['bindGroup'])==null||_0x167b94['destroy'](),this['bindGroup']=null;}['render'](_0x399ad5,_0x23cd54){const _0x1c1a53=this['shader']['device'];Q['pushGpuMar'+'ker'](_0x1c1a53,'QuadRender'),_0x399ad5&&(so['set'](_0x1c1a53['vx'],_0x1c1a53['vy'],_0x1c1a53['vw'],_0x1c1a53['vh']),io['set'](_0x1c1a53['sx'],_0x1c1a53['sy'],_0x1c1a53['sw'],_0x1c1a53['sh']),_0x23cd54=_0x23cd54??_0x399ad5,_0x1c1a53['setViewpor'+'t'](_0x399ad5['x'],_0x399ad5['y'],_0x399ad5['z'],_0x399ad5['w']),_0x1c1a53['setScissor'](_0x23cd54['x'],_0x23cd54['y'],_0x23cd54['z'],_0x23cd54['w'])),_0x1c1a53['setVertexB'+'uffer'](_0x1c1a53['quadVertex'+'Buffer'],-0x15d*-0x15+0x1143+-0x1*0x2de4);const _0x4df53d=this['shader'];if(_0x1c1a53['setShader'](_0x4df53d),_0x1c1a53['supportsUn'+'iformBuffe'+'rs']){_0x1c1a53['setBindGro'+'up'](rl,_0x1c1a53['emptyBindG'+'roup']);const _0x522f27=this['bindGroup'];_0x522f27['update'](),_0x1c1a53['setBindGro'+'up'](Oy,_0x522f27);const _0x5c2ecc=this['uniformBuf'+'fer'];_0x5c2ecc?(_0x5c2ecc['update'](Gd),_0x1c1a53['setBindGro'+'up'](su,Gd['bindGroup'],Gd['offsets'])):_0x1c1a53['setBindGro'+'up'](su,_0x1c1a53['emptyBindG'+'roup']);}_0x1c1a53['draw'](pE),_0x399ad5&&(_0x1c1a53['setViewpor'+'t'](so['x'],so['y'],so['z'],so['w']),_0x1c1a53['setScissor'](io['x'],io['y'],io['z'],io['w'])),Q['popGpuMark'+'er'](_0x1c1a53);}}class mE extends ys{constructor(_0x5c2acd,_0x209485,_0x505cee,_0x77b45f){super(_0x5c2acd),this['quad']=_0x209485,this['rect']=_0x505cee,this['scissorRec'+'t']=_0x77b45f;}['execute'](){const {device:_0x2b2f6c}=this;Q['pushGpuMar'+'ker'](_0x2b2f6c,this['name']+':'+this['quad']['shader']['name']),_0x2b2f6c['setCullMod'+'e'](bt),_0x2b2f6c['setDepthSt'+'ate'](Yt['NODEPTH']),_0x2b2f6c['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),Q['popGpuMark'+'er'](_0x2b2f6c);}}const _E=new re();function Ar(_0x300c89,_0x36b8b8,_0x53f512,_0x4ffbd5,_0xdb2515){w['assert'](_0x36b8b8!==void(0x61d*-0x4+0x1a*-0x7f+0x1*0x255a));const _0x545c7f=arguments[0x96+-0x1a49+0x19b8*0x1];w['call'](()=>{_0x545c7f!==void(-0xaad+-0x11ed+0x1c9a)&&w['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x160001=new Ah(_0x53f512);_0x4ffbd5||(_0x4ffbd5=_E,_0x4ffbd5['x']=-0x1181+0x3c*0xf+0xdfd,_0x4ffbd5['y']=-0x1064+-0x1c8e+0x1679*0x2,_0x4ffbd5['z']=_0x36b8b8?_0x36b8b8['width']:_0x300c89['width'],_0x4ffbd5['w']=_0x36b8b8?_0x36b8b8['height']:_0x300c89['height']);const _0xf8e57a=new mE(_0x300c89,_0x160001,_0x4ffbd5,_0xdb2515);_0xf8e57a['init'](_0x36b8b8),_0xf8e57a['colorOps']['clear']=!(0x4b6+0xcf*-0x19+0xf82),_0xf8e57a['depthStenc'+'ilOps']['clearDepth']=!(-0x1446+-0x1*-0x1aa8+-0x661),_0x300c89['isWebGPU']&&_0x36b8b8===null&&_0x300c89['samples']>0x12a9+-0x2252+0xfaa&&(_0xf8e57a['colorOps']['store']=!(0x8d*-0x36+-0x24fc+0x42ba)),_0xf8e57a['render'](),_0x160001['destroy']();}class g_{constructor(_0x2fe36f,_0x24bdcb,_0xbfb799){h(this,'_aabb',new De()),h(this,'origMeshIn'+'stances'),h(this,'meshInstan'+'ce',null),h(this,'dynamic'),h(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x2fe36f,this['dynamic']=_0x24bdcb,this['batchGroup'+'Id']=_0xbfb799);}['destroy'](_0x372c37,_0x1eda30){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x372c37,_0x1eda30),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x297840,_0x4b0d55){for(let _0x1008f2=-0x3ed*-0x2+-0x9bd+0x1*0x1e3;_0x1008f2<_0x4b0d55['length'];_0x1008f2++){const _0x558fbc=_0x297840['layers']['getLayerBy'+'Id'](_0x4b0d55[_0x1008f2]);_0x558fbc&&_0x558fbc['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x2b4888,_0x12361e){for(let _0x1e36de=0x1fcf+-0x22c*0x9+-0x2b*0x49;_0x1e36de<_0x12361e['length'];_0x1e36de++){const _0x1e42d8=_0x2b4888['layers']['getLayerBy'+'Id'](_0x12361e[_0x1e36de]);_0x1e42d8&&_0x1e42d8['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][0x234a+-0x120c+-0x113e]['aabb']);for(let _0xad49f8=0x12af*0x1+0x13*-0xd6+-0x1*0x2cc;_0xad49f8<this['origMeshIn'+'stances']['length'];_0xad49f8++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0xad49f8]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=-0xa64+0x1aac+-0x1048;}get['model'](){w['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class St{constructor(_0x399700,_0x188158,_0x562f7d,_0x3d59c2,_0x433b68=[er]){h(this,'_ui',!(-0x157e+0x1298+0x2e7)),h(this,'_sprite',!(0x902+0x1a2f+-0x2*0x1198)),h(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),h(this,'id'),h(this,'name'),h(this,'dynamic'),h(this,'maxAabbSiz'+'e'),h(this,'layers'),(this['id']=_0x399700,this['name']=_0x188158,this['dynamic']=_0x562f7d,this['maxAabbSiz'+'e']=_0x3d59c2,this['layers']=_0x433b68);}}h(St,'MODEL','model'),h(St,'ELEMENT','element'),h(St,'SPRITE','sprite'),h(St,'RENDER','render');const S_=new te();class Ol{constructor(_0x3497ac){h(this,'bones'),(this['_dirty']=!(0xc*0x2d7+-0xb*-0x133+-0x2f45),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(-0x56d+0x1495+-0xf27*0x1),this['_updateBef'+'oreCull']=!(0xb*0x111+0x1354+0x1f0f*-0x1),_0x3497ac&&this['initSkin'](_0x3497ac));}set['rootBone'](_0x58f9a4){this['_rootBone']=_0x58f9a4;}get['rootBone'](){return this['_rootBone'];}['init'](_0x25d86c,_0x147b10){const _0x2c6689=_0x147b10*(0x1d58+0x7c9*-0x2+-0x10f*0xd);let _0x30afd3=Math['ceil'](Math['sqrt'](_0x2c6689));_0x30afd3=Y['roundUp'](_0x30afd3,-0x14d0+-0xac5+0x3*0xa88);const _0x27d493=Math['ceil'](_0x2c6689/_0x30afd3);this['boneTextur'+'e']=new _e(_0x25d86c,{'width':_0x30afd3,'height':_0x27d493,'format':Xt,'mipmaps':!(-0x122f+-0xb56+0x1d86),'minFilter':Te,'magFilter':Te,'name':'skin'}),this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':yy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x4a43e6,_0x298324){this['rootBone']=_0x4a43e6;const _0x4a9552=this['skin'],_0x4f6e86=[];for(let _0x550c57=-0x23b1+-0x1d91+0x4142;_0x550c57<_0x4a9552['boneNames']['length'];_0x550c57++){const _0x3d24f7=_0x4a9552['boneNames'][_0x550c57];let _0x461267=_0x4a43e6['findByName'](_0x3d24f7);_0x461267||(w['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x3d24f7+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x298324['name']+(',\x20rootBone'+':\x20')+_0x4a43e6['name']),_0x461267=_0x298324),_0x4f6e86['push'](_0x461267);}this['bones']=_0x4f6e86;}['initSkin'](_0x40c22c){this['skin']=_0x40c22c,this['bones']=[];const _0x5aec43=_0x40c22c['inverseBin'+'dPose']['length'];this['init'](_0x40c22c['device'],_0x5aec43),this['matrices']=[];for(let _0x467206=0x50e*-0x7+-0x13ee+0x78*0x76;_0x467206<_0x5aec43;_0x467206++)this['matrices'][_0x467206]=new te();}['uploadBone'+'s'](_0x595de3){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x1fc075,_0x993ea){if(this['_skinUpdat'+'eIndex']!==_0x993ea){this['_skinUpdat'+'eIndex']=_0x993ea,S_['copy'](_0x1fc075['getWorldTr'+'ansform']())['invert']();for(let _0x1c1571=this['bones']['length']-(-0x2656+0xf9b+-0x5af*-0x4);_0x1c1571>=-0xb3e+-0x2503+-0x463*-0xb;_0x1c1571--)this['matrices'][_0x1c1571]['mulAffine2'](S_,this['bones'][_0x1c1571]['getWorldTr'+'ansform']()),this['matrices'][_0x1c1571]['mulAffine2'](this['matrices'][_0x1c1571],this['skin']['inverseBin'+'dPose'][_0x1c1571]);}}['updateMatr'+'ices'](_0x3f482a,_0x259c1e){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x3f482a,_0x259c1e);}['updateMatr'+'ixPalette'](_0x909a55,_0x12bb65){this['_updateMat'+'rices'](_0x909a55,_0x12bb65);const _0x7923f8=this['matrixPale'+'tte'],_0x3361ff=this['bones']['length'];for(let _0x4e553d=-0x1712+-0x2b*0x30+0x1f22;_0x4e553d<_0x3361ff;_0x4e553d++){const _0xe1017c=this['matrices'][_0x4e553d]['data'],_0x25485c=_0x4e553d*(0xfbf*0x1+0x21*0xdb+-0x15f7*0x2);_0x7923f8[_0x25485c]=_0xe1017c[0xeb9*-0x1+0x213d*-0x1+-0x2*-0x17fb],_0x7923f8[_0x25485c+(0x1*0x2006+-0x49+-0x1fbc)]=_0xe1017c[0xfb6*0x1+-0xe96*-0x1+-0x1e48],_0x7923f8[_0x25485c+(-0x1c0a+0x13*-0x159+0x35a7)]=_0xe1017c[0x923+0x26a+-0xb85],_0x7923f8[_0x25485c+(-0xd*0xb+-0x61b+0x6ad)]=_0xe1017c[0xdef+-0x6b9*0x3+-0x1*-0x648],_0x7923f8[_0x25485c+(0x6*-0x567+-0x2f6*0xa+0x3e0a*0x1)]=_0xe1017c[-0x2028*0x1+0x1*-0x73+0x209c],_0x7923f8[_0x25485c+(0xf5d+0x447*0x6+-0x2*0x1481)]=_0xe1017c[-0x884*-0x2+-0x7ad+-0x956],_0x7923f8[_0x25485c+(-0x1b*0x4a+-0x10c3*-0x1+-0x8ef)]=_0xe1017c[0x23dd+0xa*0x2c+-0xc*0x321],_0x7923f8[_0x25485c+(0x1e7+-0xdfe+0xc1e)]=_0xe1017c[0xb6d+0x1df+0x1*-0xd3f],_0x7923f8[_0x25485c+(0x202*0xa+0xbdf+-0x1feb*0x1)]=_0xe1017c[-0xf74*-0x2+0x1*0x1acd+-0x39b3],_0x7923f8[_0x25485c+(0x268e+-0x2*-0xf3e+0xdcd*-0x5)]=_0xe1017c[-0x10*-0x192+0x249d*-0x1+0x1a5*0x7],_0x7923f8[_0x25485c+(-0x1*0x20ef+0x887+-0x6*-0x413)]=_0xe1017c[0x210a+0x22b9+-0x43b9],_0x7923f8[_0x25485c+(0x2*-0xdb9+-0x9c2+0x253f)]=_0xe1017c[-0x1fa9+0x225c+-0x2a5];}this['uploadBone'+'s'](this['skin']['device']);}}class y_ extends Ol{constructor(_0x377fdf,_0x1652bf,_0x3d06bb){super();const _0x20dd47=_0x1652bf['length'];this['init'](_0x377fdf,_0x20dd47),this['device']=_0x377fdf,this['rootNode']=_0x3d06bb,this['bones']=_0x1652bf;}['updateMatr'+'ices'](_0xc3860e,_0x497cb1){}['updateMatr'+'ixPalette'](_0x5b733d,_0x34525e){const _0x3fc6f2=this['matrixPale'+'tte'],_0x254a5d=this['bones']['length'];for(let _0x5d5aed=0x1766*0x1+0x134e+-0x2ab4;_0x5d5aed<_0x254a5d;_0x5d5aed++){const _0x10d9c2=this['bones'][_0x5d5aed]['getWorldTr'+'ansform']()['data'],_0x42e866=_0x5d5aed*(0x56*-0x62+-0x1*0xbb2+0x2caa);_0x3fc6f2[_0x42e866]=_0x10d9c2[0x11*0x16c+-0x26c1+0xe95],_0x3fc6f2[_0x42e866+(-0x143d+0x7*-0x1b5+-0x2031*-0x1)]=_0x10d9c2[-0x289*0xc+-0x1*0xf1+0x1f61],_0x3fc6f2[_0x42e866+(-0x1*-0x21af+0x2547+-0x46f4)]=_0x10d9c2[0x154*-0x3+0xa*0xa3+-0x2b*0xe],_0x3fc6f2[_0x42e866+(-0x2*0x541+-0x9d3+-0x2a*-0x7c)]=_0x10d9c2[0x155a+-0xe9*-0xb+-0x1f51*0x1],_0x3fc6f2[_0x42e866+(-0x2b*-0x63+-0x125d+0x40*0x7)]=_0x10d9c2[0x25a5*0x1+0xc09+-0x1*0x31ad],_0x3fc6f2[_0x42e866+(0x4*0x683+0x23b*0x8+-0x2bdf)]=_0x10d9c2[0x25c0+0x7ce+-0x2d89],_0x3fc6f2[_0x42e866+(0x695*0x3+0x31c*0x7+-0x331*0xd)]=_0x10d9c2[-0x962+0xd55*-0x2+0x2415],_0x3fc6f2[_0x42e866+(-0x1722*-0x1+0x1*-0x17ea+0xcf)]=_0x10d9c2[-0x1*0xf9b+-0x24b6+-0x345e*-0x1],_0x3fc6f2[_0x42e866+(0x5*-0x97+0x193c+0x1*-0x1641)]=_0x10d9c2[-0x1b99+-0x284+0x1e1f],_0x3fc6f2[_0x42e866+(0x759+0x4e+-0x79e)]=_0x10d9c2[0x1f33+0x3ad*-0x3+-0x1426],_0x3fc6f2[_0x42e866+(0x63*0x43+-0x6be+-0x1321*0x1)]=_0x10d9c2[0x1521+0x174b+-0x256*0x13],_0x3fc6f2[_0x42e866+(-0x1c2e+0x1834+0x405)]=_0x10d9c2[0x2*0x98e+0x1db*-0x3+-0xd7d];}this['uploadBone'+'s'](this['device']);}}let gE=-0x5*-0x97+-0x1b92+0x189f;class oi{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(0x545*0x7+0xaff*0x1+0x7*-0x6d7),this['verticesUs'+'age']=ms,this['indicesUsa'+'ge']=ms,this['maxVertice'+'s']=-0x607*0x3+0xd*0x2c5+-0x11ec,this['maxIndices']=-0x74*-0x44+-0xd33*-0x2+-0x3936,this['vertexCoun'+'t']=-0x2315+-0xc43+0x1*0x2f58,this['indexCount']=0x262b+0xe*-0x25+-0x2425,this['vertexStre'+'amsUpdated']=!(0xbaa*-0x3+-0x1*-0x1ce7+-0x6*-0x104),this['indexStrea'+'mUpdated']=!(-0x27*0x79+-0x1820+0x718*0x6),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x47f689,_0x2dcfd8){this['vertexCoun'+'t']?w['assert'](this['vertexCoun'+'t']===_0x47f689,'Vertex\x20str'+'eam\x20'+_0x2dcfd8+'\x20has\x20'+_0x47f689+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x47f689;}}h(oi,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',-0x1*0x1191+0x857+0x93d),h(oi,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',0x1e74+0x48f*0x3+-0x2*0x160f),h(oi,'DEFAULT_CO'+'MPONENTS_U'+'V',0x5*-0x16a+-0x17b9+0x1ecd),h(oi,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',-0x1e8*0x4+-0x7*0xab+0xc51);class SE{constructor(_0x342fb2,_0x5d4023,_0xc06a0,_0x4f3f91,_0x17e349){this['data']=_0x342fb2,this['componentC'+'ount']=_0x5d4023,this['dataType']=_0xc06a0,this['dataTypeNo'+'rmalize']=_0x4f3f91,this['asInt']=_0x17e349;}}class Ge extends wd{constructor(_0x54814f,_0x23288f){super(),h(this,'indexBuffe'+'r',[null]),h(this,'vertexBuff'+'er',null),h(this,'primitive',[{'type':0x0,'base':0x0,'baseVertex':0x0,'count':0x0}]),h(this,'skin',null),h(this,'boneAabb',null),h(this,'_aabbVer',-0x137c+-0xda*-0x22+0x2*-0x4bc),h(this,'_aabb',new De()),h(this,'_geometryD'+'ata',null),h(this,'_morph',null),h(this,'_storageIn'+'dex',!(0x1*-0x189b+-0x59c*0x1+-0x78e*-0x4)),h(this,'_storageVe'+'rtex',!(0x135*-0xa+0x231f+-0x170c)),(this['id']=gE++,w['assert'](_0x54814f,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x54814f,this['_storageIn'+'dex']=(_0x23288f==null?void(0xce2*-0x1+0x5d3+0x70f):_0x23288f['storageInd'+'ex'])||!(-0x13f9+-0x36a*-0x5+0x2e8),this['_storageVe'+'rtex']=(_0x23288f==null?void(-0x166a+-0xb9f+0x2209):_0x23288f['storageVer'+'tex'])||!(0x2338+0x2265+-0x459c));}static['fromGeomet'+'ry'](_0x53bca3,_0x4b2b53,_0x363306={}){const _0x2ae900=new Ge(_0x53bca3,_0x363306),{positions:_0x48530d,normals:_0x262bdc,tangents:_0xb417af,colors:_0x295012,uvs:_0x5d52a1,uvs1:_0x37f0fa,blendIndices:_0x403b19,blendWeights:_0x4c319b,indices:_0x3355ba}=_0x4b2b53;return _0x48530d&&_0x2ae900['setPositio'+'ns'](_0x48530d),_0x262bdc&&_0x2ae900['setNormals'](_0x262bdc),_0xb417af&&_0x2ae900['setVertexS'+'tream'](yi,_0xb417af,0x119e+0x1c6*0x8+0x139*-0x1a),_0x295012&&_0x2ae900['setColors3'+'2'](_0x295012),_0x5d52a1&&_0x2ae900['setUvs'](-0x9d6*0x3+-0xed6+0x2c58,_0x5d52a1),_0x37f0fa&&_0x2ae900['setUvs'](-0x26ea*-0x1+0x1371+0x16*-0x2a7,_0x37f0fa),_0x403b19&&_0x2ae900['setVertexS'+'tream'](us,_0x403b19,-0x1*0x2450+-0xc92+0x30e6,_0x403b19['length']/(0x1b4b+0xa*0x16a+-0x296b),la),_0x4c319b&&_0x2ae900['setVertexS'+'tream'](gi,_0x4c319b,0x54b+0x1f17+-0x245e),_0x3355ba&&_0x2ae900['setIndices'](_0x3355ba),_0x2ae900['update'](),_0x2ae900;}set['morph'](_0x52d958){_0x52d958!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x52d958,_0x52d958&&_0x52d958['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x416107){this['_aabb']=_0x416107,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x40194b=this['morph'];_0x40194b&&(this['morph']=null,_0x40194b['refCount']<-0x1d*-0x97+-0x3a2*0x8+0xbf6&&_0x40194b['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x15abde=0x486*-0x3+0x443+-0x94f*-0x1;_0x15abde<this['indexBuffe'+'r']['length'];_0x15abde++)this['_destroyIn'+'dexBuffer'](_0x15abde);this['indexBuffe'+'r']['length']=-0x45*0x9+0x16a3+-0x2*0xa1b,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x75deb4){this['indexBuffe'+'r'][_0x75deb4]&&(this['indexBuffe'+'r'][_0x75deb4]['destroy'](),this['indexBuffe'+'r'][_0x75deb4]=null);}['_initBoneA'+'abbs'](_0x2df215){this['boneAabb']=[],this['boneUsed']=[];let _0x3b3f45,_0x4ca9e6,_0x245962,_0x3377cc,_0x2270ee;const _0x540fba=[],_0xb3e7d1=[],_0x317b73=this['boneUsed'],_0x5cef00=this['skin']['boneNames']['length'];let _0x1eef2a,_0x29dfe2,_0x352812;for(let _0x2b1ff7=-0x209*0xa+0x2596*-0x1+0x2*0x1cf8;_0x2b1ff7<_0x5cef00;_0x2b1ff7++)_0x540fba[_0x2b1ff7]=new D(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0xb3e7d1[_0x2b1ff7]=new D(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x1232ab=new Uo(this['vertexBuff'+'er']),_0xe9a047=_0x1232ab['element'][Me],_0x20d946=_0x1232ab['element'][gi],_0x453e73=_0x1232ab['element'][us],_0x19e7f2=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x42b2ed=0x14e7*0x1+-0x12b1+-0x236;_0x42b2ed<_0x19e7f2;_0x42b2ed++){for(let _0x582164=0x1fc6+0x83+-0x57*0x5f;_0x582164<-0x230a+-0x2231+0x3a5*0x13;_0x582164++)if(_0x20d946['array'][_0x20d946['index']+_0x582164]>0x1bd7+-0x1*0x253d+0x966){const _0x3a02ee=_0x453e73['array'][_0x453e73['index']+_0x582164];if(_0x317b73[_0x3a02ee]=!(-0x59e*0x2+0x11a1+-0x665),_0x3b3f45=_0xe9a047['array'][_0xe9a047['index']],_0x4ca9e6=_0xe9a047['array'][_0xe9a047['index']+(0x9ad+-0x1632+0xc86)],_0x245962=_0xe9a047['array'][_0xe9a047['index']+(-0x1b1*0x1+0xf2a+-0xd77)],_0x3377cc=_0xb3e7d1[_0x3a02ee],_0x2270ee=_0x540fba[_0x3a02ee],_0x2270ee['x']>_0x3b3f45&&(_0x2270ee['x']=_0x3b3f45),_0x2270ee['y']>_0x4ca9e6&&(_0x2270ee['y']=_0x4ca9e6),_0x2270ee['z']>_0x245962&&(_0x2270ee['z']=_0x245962),_0x3377cc['x']<_0x3b3f45&&(_0x3377cc['x']=_0x3b3f45),_0x3377cc['y']<_0x4ca9e6&&(_0x3377cc['y']=_0x4ca9e6),_0x3377cc['z']<_0x245962&&(_0x3377cc['z']=_0x245962),_0x2df215){let _0x3c0a74=_0x1eef2a=_0x3b3f45,_0x53ec8f=_0x29dfe2=_0x4ca9e6,_0x2e4628=_0x352812=_0x245962;for(let _0x42e3cb=-0xb62+-0x107*-0x19+-0xe4d;_0x42e3cb<_0x2df215['length'];_0x42e3cb++){const _0x50057b=_0x2df215[_0x42e3cb],_0x2ac11f=_0x50057b['deltaPosit'+'ions'][_0x42b2ed*(-0x705+0x56+-0x2*-0x359)],_0x2e59a7=_0x50057b['deltaPosit'+'ions'][_0x42b2ed*(-0xb*0x335+-0x3*0x949+0x3f25)+(0x2526+0x11b*0x8+-0x2dfd)],_0x132a01=_0x50057b['deltaPosit'+'ions'][_0x42b2ed*(-0x328+0xf84+-0x1d*0x6d)+(0x1126*0x1+0x1705+-0x2829)];_0x2ac11f<-0x1d03+0x3*-0x4cc+0x2b67?_0x3c0a74+=_0x2ac11f:_0x1eef2a+=_0x2ac11f,_0x2e59a7<-0x1*-0x19cf+-0x1b1d+0x14e?_0x53ec8f+=_0x2e59a7:_0x29dfe2+=_0x2e59a7,_0x132a01<-0x1*-0xd8a+0x1*0x807+0x1591*-0x1?_0x2e4628+=_0x132a01:_0x352812+=_0x132a01;}_0x2270ee['x']>_0x3c0a74&&(_0x2270ee['x']=_0x3c0a74),_0x2270ee['y']>_0x53ec8f&&(_0x2270ee['y']=_0x53ec8f),_0x2270ee['z']>_0x2e4628&&(_0x2270ee['z']=_0x2e4628),_0x3377cc['x']<_0x1eef2a&&(_0x3377cc['x']=_0x1eef2a),_0x3377cc['y']<_0x29dfe2&&(_0x3377cc['y']=_0x29dfe2),_0x3377cc['z']<_0x352812&&(_0x3377cc['z']=_0x352812);}}_0x1232ab['next']();}const _0x18bcba=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0xe31333=>_0xe31333['name']===Me);if(_0x18bcba&&_0x18bcba['normalize']){const _0x3488ed=((()=>{switch(_0x18bcba['dataType']){case dd:return _0x3d3344=>Math['max'](_0x3d3344/(-0x14d4+0x3*0x873+-0x406),-(-0xbd+0x1cfd+-0x1c3f));case la:return _0x575cd7=>_0x575cd7/(-0x1*-0x220d+-0xc6c+-0x14a2);case fd:return _0x2b9020=>Math['max'](_0x2b9020/(-0x2*0x4971+-0x3*0x2ff1+0x1a2b4),-(-0x1a64+-0x1*0x99d+0x2402));case Ml:return _0x1b402c=>_0x1b402c/(-0x1b69a+-0x1*-0x1fc8d+0x46e*0x2a);default:return _0x54af8f=>_0x54af8f;}})());for(let _0x582820=-0x23cc+0x17*0x143+-0x1*-0x6c7;_0x582820<_0x5cef00;_0x582820++)if(_0x317b73[_0x582820]){const _0x1e6a80=_0x540fba[_0x582820],_0x90cada=_0xb3e7d1[_0x582820];_0x1e6a80['set'](_0x3488ed(_0x1e6a80['x']),_0x3488ed(_0x1e6a80['y']),_0x3488ed(_0x1e6a80['z'])),_0x90cada['set'](_0x3488ed(_0x90cada['x']),_0x3488ed(_0x90cada['y']),_0x3488ed(_0x90cada['z']));}}for(let _0x34452e=-0x2035*-0x1+-0x20cf+-0x7*-0x16;_0x34452e<_0x5cef00;_0x34452e++){const _0x1beddb=new De();_0x1beddb['setMinMax'](_0x540fba[_0x34452e],_0xb3e7d1[_0x34452e]),this['boneAabb']['push'](_0x1beddb);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new oi(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>-0x18d9+-0x3*-0x2ab+0x10d8&&this['indexBuffe'+'r'][-0x1*-0x2303+0x854+-0x8ab*0x5]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][-0x1*0x2527+-0x2c*-0xd1+0x13b]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][0x42f+0x1513+-0x1*0x1942]['numIndices']));}['clear'](_0x38fcd5,_0xfe67c8,_0x483ab3=-0x1b7b+0x6*0x3c9+0x4c5,_0x447e36=-0x1203+-0xe23*-0x1+0x2*0x1f0){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(-0x6c5+-0x12*0x1a5+0x245f),this['_geometryD'+'ata']['maxVertice'+'s']=_0x483ab3,this['_geometryD'+'ata']['maxIndices']=_0x447e36,this['_geometryD'+'ata']['verticesUs'+'age']=_0x38fcd5?ms:lh,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0xfe67c8?ms:lh;}['setVertexS'+'tream'](_0x3baad3,_0x210a9c,_0x1e4258,_0x5ba1f7,_0x34e5d6=Ve,_0x51afef=!(-0xa3f*-0x1+-0x2181+0x1743),_0xae7dd1=!(0x1879+0x7d*-0x43+0x83f)){this['_initGeome'+'tryData']();const _0x26764a=_0x5ba1f7||_0x210a9c['length']/_0x1e4258;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x26764a,_0x3baad3),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x564+0x57+-0x5bb*0x1),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x3baad3]=new SE(_0x210a9c,_0x1e4258,_0x34e5d6,_0x51afef,_0xae7dd1);}['getVertexS'+'tream'](_0x42d659,_0x39a02e){let _0x30c46f=-0x13a9+0x7*0x15b+0xa2c,_0x320bc2=!(-0x1*-0x100c+-0xaed+-0x1*0x51e);if(this['_geometryD'+'ata']){const _0x50ed20=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x42d659];_0x50ed20&&(_0x320bc2=!(-0x2*-0x131b+-0xfea+-0x164c),_0x30c46f=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x39a02e)?_0x39a02e['set'](_0x50ed20['data']):(_0x39a02e['length']=-0x1*0x1042+0x13*-0x8e+0x46*0x62,_0x39a02e['push'](_0x50ed20['data'])));}return _0x320bc2||this['vertexBuff'+'er']&&(_0x30c46f=new Uo(this['vertexBuff'+'er'])['readData'](_0x42d659,_0x39a02e)),_0x30c46f;}['setPositio'+'ns'](_0x5592ae,_0x2358ff=oi['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x10bfbf){this['setVertexS'+'tream'](Me,_0x5592ae,_0x2358ff,_0x10bfbf,Ve,!(0x661+0x17c4+-0x1e24));}['setNormals'](_0x21d9c1,_0x4c932b=oi['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x2b543e){this['setVertexS'+'tream'](gs,_0x21d9c1,_0x4c932b,_0x2b543e,Ve,!(0x7*0x62+-0x2*-0x9bf+0x5*-0x46f));}['setUvs'](_0x41baaa,_0x5d8c66,_0x33eaa5=oi['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x5d2f13){this['setVertexS'+'tream'](zm+_0x41baaa,_0x5d8c66,_0x33eaa5,_0x5d2f13,Ve,!(0x981+0x27a*0x2+-0x94*0x19));}['setColors'](_0x34d496,_0x283581=oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x3e5ee1){this['setVertexS'+'tream'](Wt,_0x34d496,_0x283581,_0x3e5ee1,Ve,!(0x22fe+-0x6*-0x5ea+-0x4679));}['setColors3'+'2'](_0x53a7a1,_0x32b62a){this['setVertexS'+'tream'](Wt,_0x53a7a1,oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x32b62a,la,!(-0x1*0x200c+0x1716+0x8f6));}['setIndices'](_0x2c12fe,_0x404d85){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x1d*0x112+0x351*-0x5+0x1*-0xe75),this['_geometryD'+'ata']['indices']=_0x2c12fe,this['_geometryD'+'ata']['indexCount']=_0x404d85||_0x2c12fe['length'];}['getPositio'+'ns'](_0x1e1de0){return this['getVertexS'+'tream'](Me,_0x1e1de0);}['getNormals'](_0x479205){return this['getVertexS'+'tream'](gs,_0x479205);}['getUvs'](_0x6eff97,_0x2591d1){return this['getVertexS'+'tream'](zm+_0x6eff97,_0x2591d1);}['getColors'](_0x1ed96a){return this['getVertexS'+'tream'](Wt,_0x1ed96a);}['getIndices'](_0x50b7fe){let _0x230024=-0xaa9+0x931+-0x5e*-0x4;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x539bf3=this['_geometryD'+'ata']['indices'];if(_0x230024=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x50b7fe))_0x50b7fe['set'](_0x539bf3);else{_0x50b7fe['length']=-0x5*-0x549+-0x19*0x103+0x91*-0x2;for(let _0x3be327=0x1*-0x7ea+0x6e5+-0x1*-0x105,_0xaf606d=_0x539bf3['length'];_0x3be327<_0xaf606d;_0x3be327++)_0x50b7fe['push'](_0x539bf3[_0x3be327]);}}else this['indexBuffe'+'r']['length']>0x107e*0x1+-0xaaf+-0x1*0x5cf&&this['indexBuffe'+'r'][0x7*0x371+0x1e*-0x22+0x141b*-0x1]&&(_0x230024=this['indexBuffe'+'r'][0x507+-0xb01+0x5fa]['readData'](_0x50b7fe));return _0x230024;}['update'](_0x172f2b=js,_0x3f30b7=!(0x4e2*-0x2+0x1bd7+-0x1213)){if(this['_geometryD'+'ata']){if(_0x3f30b7){const _0x3d2484=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][Me];_0x3d2484&&_0x3d2484['componentC'+'ount']===0x1417+-0x1*-0x12c2+-0x26d6&&(this['_aabb']['compute'](_0x3d2484['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x153cd4=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x153cd4=!(-0x1*-0x26f1+0xf96+-0x3687),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x153cd4&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x2f1ac0=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x2f1ac0=!(-0x1fbe+-0x1d45+-0x1*-0x3d03),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x2f1ac0&&this['indexBuffe'+'r']['length']>0x16dd+-0xf3f+0x1*-0x79e&&this['indexBuffe'+'r'][0x1f40+0x93e*0x2+-0x31bc]&&(this['indexBuffe'+'r'][0x815*-0x4+0x1*0x110f+0xf45]['destroy'](),this['indexBuffe'+'r'][0x1*-0xab+0x1*-0x5b6+-0x17*-0x47]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0x9d7+-0x499+0x53e*-0x1]['type']=_0x172f2b,this['indexBuffe'+'r']['length']>0x1*-0x1bdc+-0x1ccf+-0x59*-0xa3&&this['indexBuffe'+'r'][0xb*0x1b1+-0x1*-0x5d5+-0x1870]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][-0x1*-0x13a4+0x13*-0x1da+0xf8a]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][-0x5*0x232+-0x3*0xc3b+0x2fab]['indexed']=!(-0x3c*0x98+0x2510+0x1*-0x170)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][0x1b4+-0x1381+0x31*0x5d]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][-0x3*0x79d+0x1*0x3cb+0x130c]['indexed']=!(-0x26bd+-0x1f5e+0x461c)),this['_geometryD'+'ata']['vertexCoun'+'t']=-0xd*0x2d6+-0xb76+0x3054,this['_geometryD'+'ata']['indexCount']=-0x46*0x6b+0xf*0x256+0x2*-0x2e4,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0xaa2+-0x1d*0xc5+0x20f4),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x1*-0x255e+0x22ea+0x275),this['_geometryD'+'ata']['recreate']=!(0x49c+0xfa8+-0x1443),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x2faabf){const _0x443da6=[];for(const _0x56b7b8 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x78c0b3=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x56b7b8];_0x443da6['push']({'semantic':_0x56b7b8,'components':_0x78c0b3['componentC'+'ount'],'type':_0x78c0b3['dataType'],'normalize':_0x78c0b3['dataTypeNo'+'rmalize'],'asInt':_0x78c0b3['asInt']});}return new kt(this['device'],_0x443da6,_0x2faabf);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x538a39=this['_geometryD'+'ata']['maxVertice'+'s'],_0x293225=this['_buildVert'+'exFormat'](_0x538a39);this['vertexBuff'+'er']=new Is(this['device'],_0x293225,_0x538a39,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x3cdbc0=new Uo(this['vertexBuff'+'er']),_0x18c516=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x4b5d44 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0xcb9538=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x4b5d44];_0x3cdbc0['writeData'](_0x4b5d44,_0xcb9538['data'],_0x18c516),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x4b5d44];}_0x3cdbc0['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=0xc86*-0x3+-0x1baf+0x4141||!this['indexBuffe'+'r'][-0x29f*-0x2+0xc6*0x21+0x1ec4*-0x1]){const _0x3cf4a5=this['_geometryD'+'ata']['maxVertice'+'s'],_0x376648=_0x3cf4a5>-0x5*-0xdbe+0x19*0x5f3+0x2f*0xd2||_0x3cf4a5===-0x307+0x38f*0x5+-0x2a*0x5a?wr:Yi,_0x14278b=this['_storageIn'+'dex']?{'storage':!(0x3*-0xfb+0x937+-0x646)}:void(0x201f+0x35*0x6+-0x215d);this['indexBuffe'+'r'][-0x3d*0x5a+0x1*0x2277+0xb*-0x12f]=new br(this['device'],_0x376648,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(0x20e0+0x195a+-0x3a3a),_0x14278b);}const _0x39735c=this['_geometryD'+'ata']['indices'];_0x39735c&&(this['indexBuffe'+'r'][0x6*0xe0+0x508+-0x38*0x2f]['writeData'](_0x39735c,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x4bb404){_0x4bb404===$r?this['generateWi'+'reframe']():_0x4bb404===Jl&&(this['primitive'][Jl]={'type':cd,'base':0x0,'baseVertex':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:-0x146f+0x1*0x1a07+-0x1*0x598,'indexed':!(-0x14e1+0x25dd+-0x10fb)});}['updateRend'+'erStates'](){this['primitive'][Jl]&&this['prepareRen'+'derState'](Jl),this['primitive'][$r]&&this['prepareRen'+'derState']($r);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer']($r);const _0x556cf1=this['vertexBuff'+'er']['numVertice'+'s'],_0x493823=[];let _0x25ffdf;if(this['indexBuffe'+'r']['length']>0x15dc+0x1b28+-0x3104&&this['indexBuffe'+'r'][0x2*-0x103d+0x25d+0x251*0xd]){const _0x300c64=[[-0xad*-0x22+-0x2*0x438+0x1*-0xe8a,-0x1e93+0x9cf+0xd*0x199],[-0xf3*0x1c+0x169f+-0x6*-0xa9,-0x256d+-0x22c*0x1+0x1*0x279b],[0x17e+0x12c*0x10+-0x143c,0x925*0x1+0x2687+-0x2fac]],_0xf46f26=this['primitive'][un]['base'],_0x8a2eb2=this['primitive'][un]['count'],_0x150962=this['primitive'][un]['baseVertex']||0x43e*-0x7+-0x6b1+0x2463,_0x513a30=this['indexBuffe'+'r'][un],_0x133d7d=new Sh[_0x513a30['format']](_0x513a30['storage']),_0x288fbc=new Set();for(let _0x1d755d=_0xf46f26;_0x1d755d<_0xf46f26+_0x8a2eb2;_0x1d755d+=0x12*-0xf+-0x91c+0x1*0xa2d)for(let _0x539625=-0x122+-0x1db3*0x1+0x1ed5*0x1;_0x539625<-0x65e+0x163e+-0xfdd;_0x539625++){const _0x38e60d=_0x133d7d[_0x1d755d+_0x300c64[_0x539625][0x2*-0x247+0x1*0x4ea+-0x5c]]+_0x150962,_0x1ae28b=_0x133d7d[_0x1d755d+_0x300c64[_0x539625][0x2*0xaf6+0xe8b*0x1+-0x2476]]+_0x150962,_0x669e11=_0x38e60d>_0x1ae28b?_0x1ae28b*_0x556cf1+_0x38e60d:_0x38e60d*_0x556cf1+_0x1ae28b;_0x288fbc['has'](_0x669e11)||(_0x288fbc['add'](_0x669e11),_0x493823['push'](_0x38e60d,_0x1ae28b));}_0x25ffdf=_0x513a30['format'];}else{for(let _0x92cbb8=0xcf*0x1f+0x1*-0x88f+-0x1082;_0x92cbb8<_0x556cf1;_0x92cbb8+=0x7*-0x1df+-0x1be9+0x2905)_0x493823['push'](_0x92cbb8,_0x92cbb8+(0x1e15*-0x1+-0x728+-0x635*-0x6),_0x92cbb8+(-0x1348+-0x198*-0x5+0xb51*0x1),_0x92cbb8+(-0x1*0x799+-0x1df0+0x258b*0x1),_0x92cbb8+(0x26f9+-0x1*-0xbdd+0xcb5*-0x4),_0x92cbb8);_0x25ffdf=_0x493823['length']>0xb691+0x19b5f*-0x1+0x1e4cd?wr:Yi;}const _0x1d7865=new br(this['vertexBuff'+'er']['device'],_0x25ffdf,_0x493823['length']);new Sh[_0x1d7865['format']](_0x1d7865['storage'])['set'](_0x493823),_0x1d7865['unlock'](),this['primitive'][$r]={'type':hd,'base':0x0,'baseVertex':0x0,'count':_0x493823['length'],'indexed':!(0x2602+-0x275+-0x238d)},this['indexBuffe'+'r'][$r]=_0x1d7865;}}const v_=new te(),Hd=new D(),x_=new le(),Wd=new le(),T_=new D(),w_=new D(),yE=new te(),vE=new le(),rs=new D(),ro=new te(),as=new le(),Ia=new le(),E_=new te(),$d=new D(),tc=new D();function b_(_0x2966a2,_0x564fac){return _0x2966a2 instanceof Function?_0x2966a2:_0x1c1022=>{let _0x450d45=_0x1c1022[_0x2966a2];return _0x450d45 instanceof Function&&(_0x450d45=_0x450d45()),_0x450d45===_0x564fac;};}function Sv(_0xf6c876,_0xa56b00){if(_0xa56b00(_0xf6c876))return _0xf6c876;const _0x30713d=_0xf6c876['_children'],_0x4fe855=_0x30713d['length'];for(let _0x40f18e=0x1*-0x21f1+-0x8c+-0x9*-0x3d5;_0x40f18e<_0x4fe855;++_0x40f18e){const _0x4c6748=Sv(_0x30713d[_0x40f18e],_0xa56b00);if(_0x4c6748)return _0x4c6748;}return null;}class Ie extends me{constructor(_0xe57dc4='Untitled'){super(),h(this,'name'),h(this,'tags',new Oo(this)),h(this,'localPosit'+'ion',new D()),h(this,'localRotat'+'ion',new le()),h(this,'localScale',new D(-0x1*-0x417+-0x1*-0x16e1+-0x9*0x2ff,-0xd30+0x1*-0x208d+0x2dbe,0x1e90+-0x3*0x141+-0x1acc)),h(this,'localEuler'+'Angles',new D()),h(this,'position',new D()),h(this,'rotation',new le()),h(this,'eulerAngle'+'s',new D()),h(this,'_scale',null),h(this,'localTrans'+'form',new te()),h(this,'_dirtyLoca'+'l',!(-0xefb+0x18af*-0x1+0x27ab)),h(this,'_aabbVer',-0x1*0x3cb+-0xa65*0x3+-0x25*-0xf2),h(this,'_frozen',!(0x1de6+0xb*0x1e7+0x5*-0xa2a)),h(this,'worldTrans'+'form',new te()),h(this,'_dirtyWorl'+'d',!(-0xd*0x1eb+-0x422+0x1*0x1d12)),h(this,'_worldScal'+'eSign',-0x11fa+-0x1*0x1837+0x607*0x7),h(this,'_normalMat'+'rix',new _i()),h(this,'_dirtyNorm'+'al',!(-0x5*0x3e2+0x16d7+-0x1*0x36d)),h(this,'_right',null),h(this,'_up',null),h(this,'_forward',null),h(this,'_parent',null),h(this,'_children',[]),h(this,'_graphDept'+'h',-0x17aa*0x1+-0x1d5d*0x1+0x5*0xa9b),h(this,'_enabled',!(-0x1343*0x1+-0x1bc8+-0x1*-0x2f0b)),h(this,'_enabledIn'+'Hierarchy',!(-0x6*0x32b+-0x4*0x78b+-0x9*-0x577)),h(this,'scaleCompe'+'nsation',!(0x4*0x1ff+0x35*-0x72+0xf9f)),this['name']=_0xe57dc4;}get['right'](){return this['_right']||(this['_right']=new D()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new D()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new D()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(-0x5*0x68f+0x1aa9+0x623));}get['normalMatr'+'ix'](){const _0x3044b1=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x3044b1['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(0xa97*-0x1+0x2*-0xe0f+0x26b6)),_0x3044b1;}set['enabled'](_0x45c76b){var _0x2129ea;this['_enabled']!==_0x45c76b&&(this['_enabled']=_0x45c76b,(_0x45c76b&&((_0x2129ea=this['_parent'])!=null&&_0x2129ea['enabled'])||!_0x45c76b)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x45c76b));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x415e02=this['_parent'];if(!_0x415e02)return'';let _0xe2ed25=this['name'];for(;_0x415e02&&_0x415e02['_parent'];)_0xe2ed25=_0x415e02['name']+'/'+_0xe2ed25,_0x415e02=_0x415e02['_parent'];return _0xe2ed25;}get['root'](){let _0x3bbb43=this;for(;_0x3bbb43['_parent'];)_0x3bbb43=_0x3bbb43['_parent'];return _0x3bbb43;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x20220e,_0x17256b){_0x20220e['_onHierarc'+'hyStateCha'+'nged'](_0x17256b);const _0x216267=_0x20220e['_children'];for(let _0x1654fe=0x527*-0x1+0xa0d+0x3*-0x1a2,_0x1a15c4=_0x216267['length'];_0x1654fe<_0x1a15c4;_0x1654fe++)_0x216267[_0x1654fe]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x216267[_0x1654fe],_0x17256b);}['_onHierarc'+'hyStateCha'+'nged'](_0x6e890a){this['_enabledIn'+'Hierarchy']=_0x6e890a,_0x6e890a&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x23d90d){_0x23d90d['name']=this['name'];const _0x2e432c=this['tags']['_list'];_0x23d90d['tags']['clear']();for(let _0x4f154b=0x1*-0xaf6+0x11dd+-0x6e7;_0x4f154b<_0x2e432c['length'];_0x4f154b++)_0x23d90d['tags']['add'](_0x2e432c[_0x4f154b]);_0x23d90d['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x23d90d['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x23d90d['localScale']['copy'](this['localScale']),_0x23d90d['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x23d90d['position']['copy'](this['position']),_0x23d90d['rotation']['copy'](this['rotation']),_0x23d90d['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x23d90d['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x23d90d['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x23d90d['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x23d90d['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x23d90d['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x23d90d['_aabbVer']=this['_aabbVer']+(-0x1616*0x1+-0x10fd*0x1+-0xf4*-0x29),_0x23d90d['_enabled']=this['_enabled'],_0x23d90d['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x23d90d['_enabledIn'+'Hierarchy']=!(0x5da+0x563*0x3+-0x1602);}['clone'](){const _0x13c0ef=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x13c0ef),_0x13c0ef;}['copy'](_0x329523){return _0x329523['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x541fb4=this['_children'];for(;_0x541fb4['length'];){const _0x8162b9=_0x541fb4['pop']();_0x8162b9['_parent']=null,_0x8162b9['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0xd5c3d4,_0x163244){const _0x2ca21d=[],_0x493d61=b_(_0xd5c3d4,_0x163244);return this['forEach'](_0x51f34f=>{_0x493d61(_0x51f34f)&&_0x2ca21d['push'](_0x51f34f);}),_0x2ca21d;}['findOne'](_0xf0df35,_0x11e123){const _0x113ab5=b_(_0xf0df35,_0x11e123);return Sv(this,_0x113ab5);}['findByTag'](..._0x10e6ab){const _0x3a6e4d=[],_0x120604=(_0x27495a,_0x54468d)=>{_0x54468d&&_0x27495a['tags']['has'](..._0x10e6ab)&&_0x3a6e4d['push'](_0x27495a);for(let _0x2cacbb=-0x1c9a+0xb8*-0x2a+0x3aca;_0x2cacbb<_0x27495a['_children']['length'];_0x2cacbb++)_0x120604(_0x27495a['_children'][_0x2cacbb],!(0x1c75+-0x1c17+-0x5e));};return _0x120604(this,!(0x13f0+-0xee9+-0x506)),_0x3a6e4d;}['findByName'](_0x3c4447){return this['findOne']('name',_0x3c4447);}['findByPath'](_0x24d0a5){const _0x5dca7=Array['isArray'](_0x24d0a5)?_0x24d0a5:_0x24d0a5['split']('/');let _0x28864a=this;for(let _0x23c10a=-0x1945*0x1+-0x1efc*-0x1+0xd1*-0x7,_0x3b6a77=_0x5dca7['length'];_0x23c10a<_0x3b6a77;++_0x23c10a)if(_0x28864a=_0x28864a['children']['find'](_0x383085=>_0x383085['name']===_0x5dca7[_0x23c10a]),!_0x28864a)return null;return _0x28864a;}['forEach'](_0x2bca0c,_0x13840a){_0x2bca0c['call'](_0x13840a,this);const _0x477a93=this['_children'],_0x2afbcc=_0x477a93['length'];for(let _0x4e6e11=-0x177a+-0x728+0x1ea2;_0x4e6e11<_0x2afbcc;++_0x4e6e11)_0x477a93[_0x4e6e11]['forEach'](_0x2bca0c,_0x13840a);}['isDescenda'+'ntOf'](_0x59fcf6){let _0x53f41f=this['_parent'];for(;_0x53f41f;){if(_0x53f41f===_0x59fcf6)return!(-0x62a*0x2+0x1*-0xd1+0xd25);_0x53f41f=_0x53f41f['_parent'];}return!(-0xd46+0x8*0xd0+0x6c7);}['isAncestor'+'Of'](_0x30f109){return _0x30f109['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x17*-0x137+-0x5f1+-0x19*-0x15b)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new D()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===-0x1a7b*-0x1+0x6c4+-0xb15*0x3&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x5661fd;(_0x5661fd=this['_parent'])==null||_0x5661fd['removeChil'+'d'](this);}['reparent'](_0x3a5278,_0x4558b5){this['remove'](),_0x3a5278&&(_0x4558b5>=0x1*0x266f+-0x11a8+-0x14c7?_0x3a5278['insertChil'+'d'](this,_0x4558b5):_0x3a5278['addChild'](this));}['setLocalEu'+'lerAngles'](_0x5ec2b8,_0x2101f2,_0x5af120){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x5ec2b8,_0x2101f2,_0x5af120),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x163296,_0x270512,_0xb8543e){_0x163296 instanceof D?this['localPosit'+'ion']['copy'](_0x163296):this['localPosit'+'ion']['set'](_0x163296,_0x270512,_0xb8543e),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x4020be,_0x28ace9,_0x490abc,_0x48cbce){_0x4020be instanceof le?this['localRotat'+'ion']['copy'](_0x4020be):this['localRotat'+'ion']['set'](_0x4020be,_0x28ace9,_0x490abc,_0x48cbce),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x309915,_0x59e33d,_0x14c558){_0x309915 instanceof D?this['localScale']['copy'](_0x309915):this['localScale']['set'](_0x309915,_0x59e33d,_0x14c558),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(-0x1*-0x1a7d+-0xc25*0x3+0x9f2),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x4e43d8=this['_parent'];for(;_0x4e43d8;)_0x4e43d8['_frozen']=!(-0x9*-0x2bb+0xda3*-0x1+-0x3a5*0x3),_0x4e43d8=_0x4e43d8['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(0x2115+-0x1764+-0x9b0),this['_dirtyWorl'+'d']=!(-0xa59+-0x1ea6+0x833*0x5);for(let _0xe4de5c=-0xf*0x1ef+0x7c9+-0x184*-0xe;_0xe4de5c<this['_children']['length'];_0xe4de5c++)this['_children'][_0xe4de5c]['_dirtyWorl'+'d']||this['_children'][_0xe4de5c]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(-0x207e+-0x16ba*-0x1+0x9c4),this['_worldScal'+'eSign']=-0x18*-0x18+-0x153f+0x12ff,this['_aabbVer']++;}['setPositio'+'n'](_0x8ea978,_0x40fe69,_0x555912){_0x8ea978 instanceof D?rs['copy'](_0x8ea978):rs['set'](_0x8ea978,_0x40fe69,_0x555912),this['_parent']===null?this['localPosit'+'ion']['copy'](rs):(ro['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),ro['transformP'+'oint'](rs,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x5c5faf,_0x294420,_0x4a041b,_0x5dc81d){if(_0x5c5faf instanceof le?as['copy'](_0x5c5faf):as['set'](_0x5c5faf,_0x294420,_0x4a041b,_0x5dc81d),this['_parent']===null)this['localRotat'+'ion']['copy'](as);else{const _0x2ef189=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x2ef189)['invert'](),this['localRotat'+'ion']['copy'](Ia)['mul'](as);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x1b00ec,_0x77203d){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x1b00ec),this['localRotat'+'ion']['copy'](_0x77203d);else{const _0x458db7=this['_parent']['getWorldTr'+'ansform']();ro['copy'](_0x458db7)['invert'](),ro['transformP'+'oint'](_0x1b00ec,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](ro)['mul'](_0x77203d);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x439b94,_0x5696e6,_0x28eeb0){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x439b94,_0x5696e6,_0x28eeb0),this['_parent']!==null){const _0x384cca=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x384cca)['invert'](),this['localRotat'+'ion']['mul2'](Ia,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x57ecc0){this['_prepareIn'+'sertChild'](_0x57ecc0),this['_children']['push'](_0x57ecc0),this['_onInsertC'+'hild'](_0x57ecc0);}['addChildAn'+'dSaveTrans'+'form'](_0x3a7340){const _0x458ce8=_0x3a7340['getPositio'+'n'](),_0x2ccf6f=_0x3a7340['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x3a7340),_0x3a7340['setPositio'+'n'](yE['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x458ce8)),_0x3a7340['setRotatio'+'n'](vE['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x2ccf6f)),this['_children']['push'](_0x3a7340),this['_onInsertC'+'hild'](_0x3a7340);}['insertChil'+'d'](_0x42806e,_0x5890f7){this['_prepareIn'+'sertChild'](_0x42806e),this['_children']['splice'](_0x5890f7,-0xfaa+0x3d*0x73+-0xbbd,_0x42806e),this['_onInsertC'+'hild'](_0x42806e);}['_prepareIn'+'sertChild'](_0x4f4222){_0x4f4222['remove'](),w['assert'](_0x4f4222!==this,'GraphNode\x20'+(_0x4f4222==null?void(0x1894*-0x1+-0x1*0x506+0x1d9a):_0x4f4222['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),w['assert'](!this['isDescenda'+'ntOf'](_0x4f4222),'GraphNode\x20'+(_0x4f4222==null?void(0x903*0x3+0x87e+0x55*-0x6b):_0x4f4222['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x446aed,_0x5906fa,_0x4b2f6a){this['fire'](_0x446aed,_0x4b2f6a);for(let _0x21f0c6=-0x29*-0x21+0x765*0x3+0x8*-0x36f;_0x21f0c6<this['_children']['length'];_0x21f0c6++)this['_children'][_0x21f0c6]['_fireOnHie'+'rarchy'](_0x5906fa,_0x5906fa,_0x4b2f6a);}['_onInsertC'+'hild'](_0x3ecfe5){_0x3ecfe5['_parent']=this;const _0x25a02b=_0x3ecfe5['_enabled']&&this['enabled'];_0x3ecfe5['_enabledIn'+'Hierarchy']!==_0x25a02b&&(_0x3ecfe5['_enabledIn'+'Hierarchy']=_0x25a02b,_0x3ecfe5['_notifyHie'+'rarchyStat'+'eChanged'](_0x3ecfe5,_0x25a02b)),_0x3ecfe5['_updateGra'+'phDepth'](),_0x3ecfe5['_dirtifyWo'+'rld'](),this['_frozen']&&_0x3ecfe5['_unfreezeP'+'arentToRoo'+'t'](),_0x3ecfe5['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x3ecfe5);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(-0xe75+-0x20a5+0x2f1b):-0x11f9+-0x8*-0x2c5+0x99*-0x7;for(let _0x1db4fd=-0xff2+-0x1*0x8ab+-0x189d*-0x1,_0x51b586=this['_children']['length'];_0x1db4fd<_0x51b586;_0x1db4fd++)this['_children'][_0x1db4fd]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x2bdf1c){const _0x50509e=this['_children']['indexOf'](_0x2bdf1c);_0x50509e!==-(0xadb+0x2631+0x2d*-0x117)&&(this['_children']['splice'](_0x50509e,0x1*0x1119+-0x1*0x1faf+0xe97),_0x2bdf1c['_parent']=null,_0x2bdf1c['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x2bdf1c));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x1*0x19a0+-0x1*0x10bf+-0x8e0)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x2156a6;const _0xbe6b1c=this['_parent'];let _0x2b3e2b=this['localScale'],_0x22f873=_0xbe6b1c;if(_0x22f873){for(;_0x22f873&&_0x22f873['scaleCompe'+'nsation'];)_0x22f873=_0x22f873['_parent'];_0x22f873&&(_0x22f873=_0x22f873['_parent'],_0x22f873&&(_0x2156a6=_0x22f873['worldTrans'+'form']['getScale'](),T_['mul2'](_0x2156a6,this['localScale']),_0x2b3e2b=T_));}Wd['setFromMat'+'4'](_0xbe6b1c['worldTrans'+'form']),x_['mul2'](Wd,this['localRotat'+'ion']);let _0x274236=_0xbe6b1c['worldTrans'+'form'];_0xbe6b1c['scaleCompe'+'nsation']&&(w_['mul2'](_0x2156a6,_0xbe6b1c['getLocalSc'+'ale']()),v_['setTRS'](_0xbe6b1c['worldTrans'+'form']['getTransla'+'tion'](Hd),Wd,w_),_0x274236=v_),_0x274236['transformP'+'oint'](this['localPosit'+'ion'],Hd),this['worldTrans'+'form']['setTRS'](Hd,x_,_0x2b3e2b);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(0x7*0x3a3+-0x11f1+-0x783*0x1);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(0x8d1+-0x181b+0xf4a),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x5db0d4=this['_children'];for(let _0x279163=-0x100+-0x4*-0x340+-0xc00,_0x15a2b6=_0x5db0d4['length'];_0x279163<_0x15a2b6;_0x279163++)_0x5db0d4[_0x279163]['syncHierar'+'chy']();}['lookAt'](_0x37e9f9,_0x1b3062,_0x543d1d,_0x279e41=-0x196f+-0x49c+0x1e0b,_0x36d3db=0x464+-0x53*0x34+0xc79,_0x320419=0x134*-0x1+-0xcd2+0xe06){if(_0x37e9f9 instanceof D)$d['copy'](_0x37e9f9),_0x1b3062 instanceof D?tc['copy'](_0x1b3062):tc['copy'](D['UP']);else{if(_0x543d1d===void(-0xd97+0x19*-0x100+-0xcdd*-0x3))return;$d['set'](_0x37e9f9,_0x1b3062,_0x543d1d),tc['set'](_0x279e41,_0x36d3db,_0x320419);}E_['setLookAt'](this['getPositio'+'n'](),$d,tc),as['setFromMat'+'4'](E_),this['setRotatio'+'n'](as);}['translate'](_0x30c2bf,_0x5eecfd,_0x452277){_0x30c2bf instanceof D?rs['copy'](_0x30c2bf):rs['set'](_0x30c2bf,_0x5eecfd,_0x452277),rs['add'](this['getPositio'+'n']()),this['setPositio'+'n'](rs);}['translateL'+'ocal'](_0x5e68a5,_0x22e421,_0x2df1ce){_0x5e68a5 instanceof D?rs['copy'](_0x5e68a5):rs['set'](_0x5e68a5,_0x22e421,_0x2df1ce),this['localRotat'+'ion']['transformV'+'ector'](rs,rs),this['localPosit'+'ion']['add'](rs),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x40c34c,_0x4ce15d,_0x325f55){if(as['setFromEul'+'erAngles'](_0x40c34c,_0x4ce15d,_0x325f55),this['_parent']===null)this['localRotat'+'ion']['mul2'](as,this['localRotat'+'ion']);else{const _0x3c5324=this['getRotatio'+'n'](),_0x542896=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x542896)['invert'](),as['mul2'](Ia,as),this['localRotat'+'ion']['mul2'](as,_0x3c5324);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x133463,_0x61a4c4,_0x14c006){as['setFromEul'+'erAngles'](_0x133463,_0x61a4c4,_0x14c006),this['localRotat'+'ion']['mul'](as),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const yv=new Kt();function Qn(_0x53a0e5){const _0x598ca9=yv['get'](_0x53a0e5);return w['assert'](_0x598ca9),_0x598ca9;}function xE(_0x56ef65,_0x169d9c){w['assert'](_0x169d9c),yv['get'](_0x56ef65,()=>_0x169d9c);}class TE{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x471b11,_0x1ec65c)=>{_0x1ec65c['destroy']();}),this['cache']['clear']();}['incRef'](_0x5279f1){const _0x3783b8=(this['cache']['get'](_0x5279f1)||0x1*-0x2384+0x61+0x2323)+(-0x836+0x3*-0x607+0x1a4c);this['cache']['set'](_0x5279f1,_0x3783b8);}['decRef'](_0xe5cf83){if(_0xe5cf83){let _0x5d7f23=this['cache']['get'](_0xe5cf83);_0x5d7f23&&(_0x5d7f23--,_0x5d7f23===0x10a*-0x12+-0x78e+0x1*0x1a42?(this['cache']['delete'](_0xe5cf83),_0xe5cf83['destroy']()):this['cache']['set'](_0xe5cf83,_0x5d7f23));}}}class zi{static['incRef'](_0x2e6378){this['cache']['incRef'](_0x2e6378);}static['decRef'](_0x37b273){this['cache']['decRef'](_0x37b273);}static['destroy'](){this['cache']['destroy']();}}h(zi,'cache',new TE());let wE=0xa9f+-0x1321*-0x1+-0x1dc0;const EE=new De(),sc=new De(),Xd=new sp(),qd=new Set(),Rr=new Uint32Array(0x1e0d*0x1+-0xd6*0x7+-0x1*0x182f);class bE{constructor(_0xb8f1bc){h(this,'vertexBuff'+'er',null),h(this,'_destroyVe'+'rtexBuffer',!(0xd14+0x134b+-0x205e)),this['count']=_0xb8f1bc;}['destroy'](){var _0x167f1a;this['_destroyVe'+'rtexBuffer']&&((_0x167f1a=this['vertexBuff'+'er'])==null||_0x167f1a['destroy']()),this['vertexBuff'+'er']=null;}}class AE{constructor(){h(this,'map',new Map()),h(this,'meshMetaDa'+'ta',new Int32Array(-0x295*0xd+0x148c+-0x2f*-0x47));}['get'](_0x5e50b6){return this['map']['get'](_0x5e50b6)??this['map']['get'](null);}}class CE{constructor(){h(this,'shader'),h(this,'bindGroup',null),h(this,'uniformBuf'+'fer',null),h(this,'hashes');}['getBindGro'+'up'](_0x38c4bc){if(!this['bindGroup']){const _0x4cae8f=this['shader'];w['assert'](_0x4cae8f);const _0x18bcb4=_0x4cae8f['meshBindGr'+'oupFormat'];w['assert'](_0x18bcb4),this['bindGroup']=new Up(_0x38c4bc,_0x18bcb4),Ea['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x188492){if(!this['uniformBuf'+'fer']){const _0x13ccc0=this['shader'];w['assert'](_0x13ccc0);const _0x1d1566=_0x13ccc0['meshUnifor'+'mBufferFor'+'mat'];w['assert'](_0x1d1566),this['uniformBuf'+'fer']=new zp(_0x188492,_0x1d1566,!(0x1*0x9a3+0x76*0x3b+-0x24d4));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x4684db,_0x105699;(_0x4684db=this['bindGroup'])==null||_0x4684db['destroy'](),this['bindGroup']=null,(_0x105699=this['uniformBuf'+'fer'])==null||_0x105699['destroy'](),this['uniformBuf'+'fer']=null;}}const Jr=class Jr{constructor(_0x2e7ede,_0x13e14b,_0x38a917=null){h(this,'castShadow',!(0x1ac4+0x1dd6+-0x3899)),h(this,'shadowCasc'+'adeMask',Bw),h(this,'cull',!(0xed9+0x629+-0xa81*0x2)),h(this,'drawOrder',-0xc60+-0xd*-0x19b+-0x87f),h(this,'_drawBucke'+'t',0x3a2+0x3*0x515+-0x1262),h(this,'node'),h(this,'visible',!(-0xfb7+-0x2*-0x117e+-0x1345)),h(this,'visibleThi'+'sFrame',!(0x11ee*-0x1+0x327*-0x3+0x1b64)),h(this,'flipFacesF'+'actor',0x1*0x4f7+0x19b+-0x691),h(this,'gsplatInst'+'ance',null),h(this,'id',wE++),h(this,'isVisibleF'+'unc',null),h(this,'instancing'+'Data',null),h(this,'indirectDa'+'ta',null),h(this,'parameters',{}),h(this,'pick',!(-0xf*-0x127+-0x1a88+-0x315*-0x3)),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'transparen'+'t',!(0x1*-0x1371+-0x43*0xd+0x16d9)),h(this,'_aabb',new De()),h(this,'_aabbVer',-(-0x48*0x7c+0x1e30+0x4b1)),h(this,'_aabbMeshV'+'er',-(-0xb1d+0x2*-0xe66+0x27ea)),h(this,'_customAab'+'b',null),h(this,'_updateAab'+'b',!(-0x1ce7+-0x1*0xda3+0x6*0x717)),h(this,'_updateAab'+'bFunc',null),h(this,'_sortKeySh'+'adow',0x9da+0x24f3+-0x2ecd),h(this,'_sortKeyFo'+'rward',-0xa7*0x13+-0x1b*-0x25+-0x2*-0x43f),h(this,'_sortKeyDy'+'namic',0x991+-0x13*-0xd1+-0x1914),h(this,'_layer',Ky),h(this,'_material',null),h(this,'_skinInsta'+'nce',null),h(this,'_morphInst'+'ance',null),h(this,'_receiveSh'+'adow',!(-0x73c*-0x3+0x25f1+-0x3ba5)),h(this,'_renderSty'+'le',un),h(this,'_screenSpa'+'ce',!(0x17bc+0x26db+-0x3e96*0x1)),h(this,'_shaderCac'+'he',new Map()),h(this,'_shaderDef'+'s',Ss<<-0x1*-0x23a3+-0x63a+-0x1d59*0x1),h(this,'_calculate'+'SortDistan'+'ce',null);if(w['assert'](!(_0x2e7ede instanceof Ie),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x38a917,this['_mesh']=_0x2e7ede,_0x2e7ede['incRefCoun'+'t'](),this['material']=_0x13e14b,_0x2e7ede['vertexBuff'+'er']){const _0x147ed1=_0x2e7ede['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x147ed1['hasUv0']?nm:0x49*-0x77+-0xcaa*0x3+0x47ed,this['_shaderDef'+'s']|=_0x147ed1['hasUv1']?dv:-0x1fed+0x1297+0xd56*0x1,this['_shaderDef'+'s']|=_0x147ed1['hasColor']?fv:0x235+0x1bb*-0x4+0x4b7*0x1,this['_shaderDef'+'s']|=_0x147ed1['hasTangent'+'s']?om:0x2a2+0xae0+-0xd82;}this['updateKey']();}set['drawBucket'](_0xf94ad5){this['_drawBucke'+'t']=Math['floor'](_0xf94ad5)&-0x1*-0x1dd5+-0xe5*-0x2b+-0x434d,this['updateKey']();}get['drawBucket'](){return this['_drawBucke'+'t'];}set['renderStyl'+'e'](_0x343687){this['_renderSty'+'le']=_0x343687,this['mesh']['prepareRen'+'derState'](_0x343687);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x5e0850){_0x5e0850!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x5e0850,_0x5e0850&&_0x5e0850['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0xb79608){this['_aabb']=_0xb79608;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x42bc78=this['_customAab'+'b'],_0x4833cd=!!_0x42bc78;if(!_0x42bc78){if(_0x42bc78=EE,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x3b7cc6=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x3b7cc6);}const _0x1fd061=this['mesh']['boneUsed'];let _0x55b836=!(0xb86*0x2+-0xe24+-0x18*0x5f);for(let _0x4c3c3b=-0xd*0x217+-0x1e7d+0x39a8;_0x4c3c3b<this['mesh']['boneAabb']['length'];_0x4c3c3b++)_0x1fd061[_0x4c3c3b]&&(sc['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x4c3c3b],this['skinInstan'+'ce']['matrices'][_0x4c3c3b]),_0x55b836?(_0x55b836=!(0x3*0xd2+-0x359*0x7+-0x37f*-0x6),_0x42bc78['center']['copy'](sc['center']),_0x42bc78['halfExtent'+'s']['copy'](sc['halfExtent'+'s'])):_0x42bc78['add'](sc));_0x4833cd=!(-0x5*-0x27+-0x211*-0x3+-0x6f6);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x42bc78['center']['copy'](this['mesh']['aabb']['center']),_0x42bc78['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x42bc78['center']['set'](0x2*0x812+0x4*-0x163+0x388*-0x3,0x220+0x8a9+-0xb*0xfb,-0x1*-0x13fb+0x97b+-0x2*0xebb),_0x42bc78['halfExtent'+'s']['set'](0x2213+0x1*-0x16cd+0x4e*-0x25,0x2413+0x12*0xc3+0x9f5*-0x5,0xc43+-0x2b7*0xd+0x1708)),this['mesh']&&this['mesh']['morph']){const _0x2e65e1=this['mesh']['morph']['aabb'];_0x42bc78['_expand'](_0x2e65e1['getMin'](),_0x2e65e1['getMax']());}_0x4833cd=!(0x580+-0xb*-0x236+-0x1dd2),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x4833cd&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x42bc78,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x2c2554=>{_0x2c2554['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x5eb754,_0xeb096b,_0x45e9f5,_0x2370c5,_0x36cda8,_0x222621,_0x4bfa86){var _0x5473c3;const _0x480c16=this['_shaderDef'+'s'];Rr[-0x3*-0x241+-0x2533+-0x1e7*-0x10]=_0x5eb754,Rr[0xa*-0x36+-0x1f36+0x1c1*0x13]=_0xeb096b,Rr[0x15b5+-0x63b+0x16*-0xb4]=_0x480c16,Rr[-0x434*-0x5+-0x21e0+0xcdf*0x1]=_0x2370c5['hash'];const _0x41f143=By(Rr);let _0x1f47c5=this['_shaderCac'+'he']['get'](_0x41f143);if(!_0x1f47c5){const _0x4d8d6f=this['_material'];if(_0x1f47c5=new CE(),_0x1f47c5['shader']=_0x4d8d6f['variants']['get'](_0x41f143),_0x1f47c5['hashes']=new Uint32Array(Rr),!_0x1f47c5['shader']){Q['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x2f254d=_0x4d8d6f['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x45e9f5,'objDefs':_0x480c16,'cameraShaderParams':_0x2370c5,'pass':_0x5eb754,'sortedLights':_0x4bfa86,'viewUniformFormat':_0x36cda8,'viewBindGroupFormat':_0x222621,'vertexFormat':(_0x5473c3=this['mesh']['vertexBuff'+'er'])==null?void(-0x8*0x49a+-0x644+0x2b14):_0x5473c3['format']});Q['popGpuMark'+'er'](this['mesh']['device']),_0x4d8d6f['variants']['set'](_0x41f143,_0x2f254d),_0x1f47c5['shader']=_0x2f254d;}this['_shaderCac'+'he']['set'](_0x41f143,_0x1f47c5);}return w['call'](()=>{IT['equals'](_0x1f47c5['hashes'],Rr)||w['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x1f47c5;}set['material'](_0x444558){this['clearShade'+'rs']();const _0x25b938=this['_material'];_0x25b938&&_0x25b938['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x444558,_0x444558&&(_0x444558['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x444558['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}['_updateSha'+'derDefs'](_0x142b8b){_0x142b8b!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x142b8b,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x2d2820){this['_calculate'+'SortDistan'+'ce']=_0x2d2820;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x59be12){this['_receiveSh'+'adow']!==_0x59be12&&(this['_receiveSh'+'adow']=_0x59be12,this['_updateSha'+'derDefs'](_0x59be12?this['_shaderDef'+'s']&~wh:this['_shaderDef'+'s']|wh));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x1cf942){this['_updateSha'+'derDefs'](_0x1cf942?this['_shaderDef'+'s']|qc:this['_shaderDef'+'s']&~qc);}get['batching'](){return(this['_shaderDef'+'s']&qc)!==-0x217d*0x1+0x299+0x1ee4;}set['skinInstan'+'ce'](_0x324137){this['_skinInsta'+'nce']=_0x324137,this['_updateSha'+'derDefs'](_0x324137?this['_shaderDef'+'s']|nl:this['_shaderDef'+'s']&~nl),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x2a441a){var _0x40ad9d;(_0x40ad9d=this['_morphInst'+'ance'])==null||_0x40ad9d['destroy'](),this['_morphInst'+'ance']=_0x2a441a;let _0x3aea9f=this['_shaderDef'+'s'];_0x3aea9f=_0x2a441a&&_0x2a441a['morph']['morphPosit'+'ions']?_0x3aea9f|ll:_0x3aea9f&~ll,_0x3aea9f=_0x2a441a&&_0x2a441a['morph']['morphNorma'+'ls']?_0x3aea9f|cl:_0x3aea9f&~cl,_0x3aea9f=_0x2a441a&&_0x2a441a['morph']['intRenderF'+'ormat']?_0x3aea9f|hl:_0x3aea9f&~hl,this['_updateSha'+'derDefs'](_0x3aea9f);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x2a001b){this['_screenSpa'+'ce']!==_0x2a001b&&(this['_screenSpa'+'ce']=_0x2a001b,this['_updateSha'+'derDefs'](_0x2a001b?this['_shaderDef'+'s']|Eh:this['_shaderDef'+'s']&~Eh));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x47e793){this['_sortKeyFo'+'rward']=_0x47e793;}get['key'](){return this['_sortKeyFo'+'rward'];}set['mask'](_0x4a5231){const _0x16634b=this['_shaderDef'+'s']&0x222b*0x1+0xf*0x8c+0xd5a0;this['_updateSha'+'derDefs'](_0x16634b|_0x4a5231<<-0x1269+0x78b*0x2+0x33*0x11);}get['mask'](){return this['_shaderDef'+'s']>>0x6b7+0x15af+-0x1c56;}set['instancing'+'Count'](_0x163171){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x163171);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:-0x1637+0xb*-0x2ed+0x3666;}['destroy'](){var _0x358908,_0x1aa13a,_0x27ebbc;const _0x3e5f21=this['mesh'];_0x3e5f21&&(this['mesh']=null,_0x3e5f21['refCount']<0xf27+-0xb6f*0x1+-0x3b7&&_0x3e5f21['destroy']()),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x20f*-0xa+0x543+-0x19d9],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x26ef+-0x195f+-0xd8f],null),(_0x358908=this['_skinInsta'+'nce'])==null||_0x358908['destroy'](),this['_skinInsta'+'nce']=null,(_0x1aa13a=this['morphInsta'+'nce'])==null||_0x1aa13a['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x27ebbc=this['instancing'+'Data'])==null||_0x27ebbc['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x435330,_0xf5b6da){if(_0x435330){for(let _0x48d867=0x1f5f+0x43*-0x4f+-0xab2;_0x48d867<_0x435330['length'];_0x48d867++){_0x435330[_0x48d867]['_renderSty'+'le']=_0xf5b6da;const _0x351f1a=_0x435330[_0x48d867]['mesh'];qd['has'](_0x351f1a)||(qd['add'](_0x351f1a),_0x351f1a['prepareRen'+'derState'](_0xf5b6da));}qd['clear']();}}['_isVisible'](_0x354ad6){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x354ad6):(Xd['center']=this['aabb']['center'],Xd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x354ad6['frustum']['containsSp'+'here'](Xd)>-0xd11+-0xc*0x33+0xf75):!(-0x229a+0x1aa8+0xb9*0xb);}['updateKey'](){const {material:_0x4755ae}=this;this['_sortKeyFo'+'rward']=this['_drawBucke'+'t']<<-0x2227*-0x1+0x127f+-0x348f|(_0x4755ae['alphaToCov'+'erage']||_0x4755ae['alphaTest']?0x2c375f*0x1+-0x22*0x19a79+0x4a4cb3:-0x8c*-0x28+0x1*0x175f+-0x2d3f)|_0x4755ae['id']&-0x6809cb+-0x1*0xa0bc7+-0x1*-0xb21591;}['setInstanc'+'ing'](_0x3b7aec,_0x377bf3=!(-0x2c2*0x9+0x1*-0x1f47+-0x1c0d*-0x2)){_0x3b7aec?(this['instancing'+'Data']=new bE(_0x3b7aec['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x3b7aec,_0x3b7aec['format']['instancing']=!(0x1*0xdda+0x1*0x38f+0x1*-0x1169),this['cull']=_0x377bf3):(this['instancing'+'Data']=null,this['cull']=!(0x9a+0xe1f+0x1*-0xeb9)),this['_updateSha'+'derDefs'](_0x3b7aec?this['_shaderDef'+'s']|ol:this['_shaderDef'+'s']&~ol);}['setIndirec'+'t'](_0x545687,_0x3ee7cc){this['_allocIndi'+'rectData'](),this['indirectDa'+'ta']['map']['set']((_0x545687==null?void(0x4b8+0x1ed+-0x6a5):_0x545687['camera'])??null,_0x3ee7cc),this['mesh']['device']['mapsToClea'+'r']['add'](this['indirectDa'+'ta']['map']);}['getIndirec'+'tMetaData'](){var _0x2bbae6;this['_allocIndi'+'rectData']();const _0x3d2c7d=(_0x2bbae6=this['mesh'])==null?void(0x29*0x89+0x1812+-0x2e03):_0x2bbae6['primitive'][this['renderStyl'+'e']],_0x2f952e=this['indirectDa'+'ta']['meshMetaDa'+'ta'];return _0x2f952e[0x5fa*-0x1+-0x807+-0x4ab*-0x3]=_0x3d2c7d['count'],_0x2f952e[-0x1268+0x1*0xfd9+0x8*0x52]=_0x3d2c7d['base'],_0x2f952e[-0x50e*0x1+-0x3ab+-0x1bf*-0x5]=_0x3d2c7d['baseVertex'],_0x2f952e;}['_allocIndi'+'rectData'](){this['indirectDa'+'ta']||(this['indirectDa'+'ta']=new AE());}['ensureMate'+'rial'](_0x111ba2){this['material']||(w['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=Qn(_0x111ba2));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x3ec070){return this['parameters'][_0x3ec070];}['setParamet'+'er'](_0x2963ce,_0x50585f,_0x47a8a3=-0x1bf*0x3beb1c+-0x37a0e1*0x6af+0x16e35e2d9*0x2){const _0x1d9094=this['parameters'][_0x2963ce];_0x1d9094?(_0x1d9094['data']=_0x50585f,_0x1d9094['passFlags']=_0x47a8a3):this['parameters'][_0x2963ce]={'scopeId':null,'data':_0x50585f,'passFlags':_0x47a8a3};}['setRealtim'+'eLightmap'](_0x5ac5f6,_0x13d289){const _0x30c43a=this['getParamet'+'er'](_0x5ac5f6);_0x30c43a!==_0x13d289&&(_0x30c43a&&zi['decRef'](_0x30c43a['data']),_0x13d289?(zi['incRef'](_0x13d289),this['setParamet'+'er'](_0x5ac5f6,_0x13d289)):this['deletePara'+'meter'](_0x5ac5f6));}['deletePara'+'meter'](_0xec182){this['parameters'][_0xec182]&&delete this['parameters'][_0xec182];}['setParamet'+'ers'](_0x5856f2,_0x5095fa){const _0x4034a9=this['parameters'];for(const _0x2a2e0e in _0x4034a9){const _0x5b9e4e=_0x4034a9[_0x2a2e0e];_0x5b9e4e['passFlags']&_0x5095fa&&(_0x5b9e4e['scopeId']||(_0x5b9e4e['scopeId']=_0x5856f2['scope']['resolve'](_0x2a2e0e)),_0x5b9e4e['scopeId']['setValue'](_0x5b9e4e['data']));}}['setLightma'+'pped'](_0x2f5553){_0x2f5553?this['mask']=(this['mask']|di)&-(0x1556+0x1fd*-0x11+0xc7d):(this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0xa5*-0x23+-0x19f1+0x362],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x179d+-0x220+-0x19be*-0x1],null),this['_shaderDef'+'s']&=-(0x21e+0x32d+-0x2*-0x5bb),this['mask']=(this['mask']|Ss)&-(-0x7f*0x5+-0x840+0xac2));}['setCustomA'+'abb'](_0x5133ef){_0x5133ef?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x5133ef):this['_customAab'+'b']=_0x5133ef['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(-0x1eff+0x2290+0x2*-0x1c8)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};h(Jr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let He=Jr;const PE=[0x25a6+-0xf1d+0x783*-0x3,-0x16bf*0x1+0x7cd+-0x2b*-0x59,-0x1*0x25f1+-0x1d8f+0x4383,0x1ef5+-0x167c+-0x877,-0x1f6*0xf+-0x18f2+-0x365f*-0x1,0x1849*-0x1+-0x1f45+-0x21*-0x1af],ME=[0x1a9+0x668*-0x2+0xb27*0x1,-0x1a22+0x1*-0x1fc1+0x39e4,0xee6+0xf36+0x43*-0x73,-0x2*0x11b1+-0x1e97+0x41f9*0x1,0x31*0x71+-0x10d7+-0x4c7,-0x1*-0x2011+0x138f+-0x339e],A_=new _i();function C_(_0xb6a0e,_0x20631a){if(_0xb6a0e&&!_0x20631a||!_0xb6a0e&&_0x20631a)return!(-0xf5*-0x7+-0x1*-0x1639+-0x1ceb*0x1);if(_0xb6a0e=_0xb6a0e['data'],_0x20631a=_0x20631a['data'],_0xb6a0e===_0x20631a)return!(-0x1*-0x28f+0x6*0x443+0x13*-0x17b);if(_0xb6a0e instanceof Float32Array&&_0x20631a instanceof Float32Array){if(_0xb6a0e['length']!==_0x20631a['length'])return!(0x1b51+-0x526*0x2+0x42*-0x42);for(let _0x4d8e14=0x6*-0x40e+0x20a1*-0x1+0x38f5;_0x4d8e14<_0xb6a0e['length'];_0x4d8e14++)if(_0xb6a0e[_0x4d8e14]!==_0x20631a[_0x4d8e14])return!(0x65f+0x1be8+-0x29*0xd6);return!(-0x1*-0x2306+0x26*-0xae+-0x16*0x6b);}return!(0x876*0x3+-0xd*0x1ed+-0x58);}function DE(_0x56a752,_0x42b5a4){for(const _0x1b5129 in _0x56a752)if(_0x56a752['hasOwnProp'+'erty'](_0x1b5129)&&!C_(_0x56a752[_0x1b5129],_0x42b5a4[_0x1b5129]))return!(0x1b1a+0x1*0x1e3d+0x29*-0x166);for(const _0x1b945c in _0x42b5a4)if(_0x42b5a4['hasOwnProp'+'erty'](_0x1b945c)&&!C_(_0x42b5a4[_0x1b945c],_0x56a752[_0x1b945c]))return!(-0x2f8+-0x1*-0xad5+-0x7dc*0x1);return!(0x1905+0xbe*0x23+-0x32ff);}function jd(_0x548583){return _0x548583['node']['worldTrans'+'form']['scaleSign'];}class IE{constructor(_0x1bfef3,_0x33ad86,_0x39cbde){this['device']=_0x1bfef3,this['rootNode']=_0x33ad86,this['scene']=_0x39cbde,this['_init']=!(0x1949*0x1+-0x3d*-0x9b+0x3e37*-0x1),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0x12f5*0x2+-0xd15+0xd*-0x1e9,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x50745b,_0x58f309,_0x428d6f,_0x5cee37,_0x7e9a72){if(_0x5cee37===void(-0x386+0x17b*0xb+0x9*-0x16b)&&(_0x5cee37=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x5cee37]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x5cee37+('\x20already\x20e'+'xists.'));return;}const _0xd26b07=new St(_0x5cee37,_0x50745b,_0x58f309,_0x428d6f,_0x7e9a72);return this['_batchGrou'+'ps'][_0x5cee37]=_0xd26b07,_0xd26b07;}['removeGrou'+'p'](_0x5b12a6){if(!this['_batchGrou'+'ps'][_0x5b12a6]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x5b12a6+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x6e8bf2=[];for(let _0x5c5ae1=-0x12ba+-0x1*-0x2164+-0xeaa;_0x5c5ae1<this['_batchList']['length'];_0x5c5ae1++)this['_batchList'][_0x5c5ae1]['batchGroup'+'Id']===_0x5b12a6?this['destroyBat'+'ch'](this['_batchList'][_0x5c5ae1]):_0x6e8bf2['push'](this['_batchList'][_0x5c5ae1]);this['_batchList']=_0x6e8bf2,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x5b12a6),delete this['_batchGrou'+'ps'][_0x5b12a6];}['markGroupD'+'irty'](_0x3bc49a){this['_dirtyGrou'+'ps']['indexOf'](_0x3bc49a)<-0x17c2+0x3fa+0x13c8&&this['_dirtyGrou'+'ps']['push'](_0x3bc49a);}['getGroupBy'+'Name'](_0x269543){const _0x34ba80=this['_batchGrou'+'ps'];for(const _0x19690f in _0x34ba80)if(_0x34ba80['hasOwnProp'+'erty'](_0x19690f)&&_0x34ba80[_0x19690f]['name']===_0x269543)return _0x34ba80[_0x19690f];return null;}['getBatches'](_0x556ae8){const _0x3fbe55=[],_0x3cf01c=this['_batchList']['length'];for(let _0x4984fd=-0xc75+0x2105+0xa48*-0x2;_0x4984fd<_0x3cf01c;_0x4984fd++){const _0x247f65=this['_batchList'][_0x4984fd];_0x247f65['batchGroup'+'Id']===_0x556ae8&&_0x3fbe55['push'](_0x247f65);}return _0x3fbe55;}['_removeMod'+'elsFromBat'+'chGroup'](_0x12dcc2,_0x27c7eb){if(_0x12dcc2['enabled']){_0x12dcc2['model']&&_0x12dcc2['model']['batchGroup'+'Id']===_0x27c7eb&&(_0x12dcc2['model']['batchGroup'+'Id']=-(0x2580+0x4be*-0x8+-0x1*-0x71)),_0x12dcc2['render']&&_0x12dcc2['render']['batchGroup'+'Id']===_0x27c7eb&&(_0x12dcc2['render']['batchGroup'+'Id']=-(0x12ee*0x1+0x1158+0x3*-0xc17)),_0x12dcc2['element']&&_0x12dcc2['element']['batchGroup'+'Id']===_0x27c7eb&&(_0x12dcc2['element']['batchGroup'+'Id']=-(0xb3a*-0x3+0x1156+-0x1d1*-0x9)),_0x12dcc2['sprite']&&_0x12dcc2['sprite']['batchGroup'+'Id']===_0x27c7eb&&(_0x12dcc2['sprite']['batchGroup'+'Id']=-(0x1*0x1cf+0x7*-0x2a5+0x7*0x263));for(let _0x36c98b=0x1*0x217c+0x2687+0x4803*-0x1;_0x36c98b<_0x12dcc2['_children']['length'];_0x36c98b++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x12dcc2['_children'][_0x36c98b],_0x27c7eb);}}['insert'](_0x58fada,_0x153f98,_0x5c0130){const _0x5d6c84=this['_batchGrou'+'ps'][_0x153f98];w['assert'](_0x5d6c84,'Invalid\x20ba'+'tch\x20'+_0x153f98+'\x20insertion'),_0x5d6c84&&_0x5d6c84['_obj'][_0x58fada]['indexOf'](_0x5c0130)<0x1330+-0xd*0x14d+-0x247&&(_0x5d6c84['_obj'][_0x58fada]['push'](_0x5c0130),this['markGroupD'+'irty'](_0x153f98));}['remove'](_0x15a691,_0x1c7088,_0x3cb32e){const _0x3f6713=this['_batchGrou'+'ps'][_0x1c7088];if(w['assert'](_0x3f6713,'Invalid\x20ba'+'tch\x20'+_0x1c7088+'\x20insertion'),_0x3f6713){const _0x5a3819=_0x3f6713['_obj'][_0x15a691]['indexOf'](_0x3cb32e);_0x5a3819>=-0x914*-0x1+-0x17cd+0xeb9*0x1&&(_0x3f6713['_obj'][_0x15a691]['splice'](_0x5a3819,0x56a+0x5*-0x4c1+0x125c),this['markGroupD'+'irty'](_0x1c7088));}}['_extractRe'+'nder'](_0x1445f1,_0x4490e8,_0x55ee5f,_0x18c5c2){return _0x1445f1['render']&&(_0x4490e8=_0x18c5c2[_0x1445f1['render']['batchGroup'+'Id']]=_0x4490e8['concat'](_0x1445f1['render']['meshInstan'+'ces']),_0x1445f1['render']['removeFrom'+'Layers']()),_0x4490e8;}['_extractMo'+'del'](_0x2b1453,_0xd65b97,_0x231ba2,_0x34fada){return _0x2b1453['model']&&_0x2b1453['model']['model']&&(_0xd65b97=_0x34fada[_0x2b1453['model']['batchGroup'+'Id']]=_0xd65b97['concat'](_0x2b1453['model']['meshInstan'+'ces']),_0x2b1453['model']['removeMode'+'lFromLayer'+'s'](),_0x2b1453['model']['_batchGrou'+'p']=_0x231ba2),_0xd65b97;}['_extractEl'+'ement'](_0x384d5e,_0x4d94ff,_0x12eb15){if(!_0x384d5e['element'])return;let _0x287cdd=!(0x32f*0x5+0x24eb*0x1+0x5*-0xa91);_0x384d5e['element']['_text']&&_0x384d5e['element']['_text']['_model']['meshInstan'+'ces']['length']>-0x1712+0x66d+-0x1*-0x10a5?(_0x4d94ff['push'](_0x384d5e['element']['_text']['_model']['meshInstan'+'ces'][-0x1f*-0x9d+0x1dc2+-0x1*0x30c5]),_0x384d5e['element']['removeMode'+'lFromLayer'+'s'](_0x384d5e['element']['_text']['_model']),_0x287cdd=!(0x2183+-0x4e2+-0x1ca1)):_0x384d5e['element']['_image']&&(_0x4d94ff['push'](_0x384d5e['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x384d5e['element']['removeMode'+'lFromLayer'+'s'](_0x384d5e['element']['_image']['_renderabl'+'e']['model']),_0x384d5e['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x4d94ff['push'](_0x384d5e['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x384d5e['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x384d5e['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x384d5e['element']['_dirtifyMa'+'sk'](),_0x384d5e['element']['_onPrerend'+'er']())),_0x287cdd=!(-0x201*-0xd+0x1*-0x21eb+0x7de)),_0x287cdd&&(_0x12eb15['_ui']=!(0xbda*0x1+0x11*0xe3+-0x1aed),_0x384d5e['element']['_batchGrou'+'p']=_0x12eb15);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x3b9bd5,_0x28d6a3){for(let _0x4ed32a=0x1230+-0x369*-0x3+0xf*-0x1e5;_0x4ed32a<_0x28d6a3['length'];_0x4ed32a++){const _0x4e9307=_0x28d6a3[_0x4ed32a],_0x50e761=this['_batchGrou'+'ps'][_0x4e9307];if(!_0x50e761)continue;let _0x559595=_0x3b9bd5[_0x4e9307];_0x559595||(_0x559595=_0x3b9bd5[_0x4e9307]=[]);for(let _0x1ba40b=0x1d*0x81+0x86*0x5+0x191*-0xb;_0x1ba40b<_0x50e761['_obj']['model']['length'];_0x1ba40b++)_0x559595=this['_extractMo'+'del'](_0x50e761['_obj']['model'][_0x1ba40b],_0x559595,_0x50e761,_0x3b9bd5);for(let _0x15da5a=0x2586*-0x1+-0xb27+0x30ad*0x1;_0x15da5a<_0x50e761['_obj']['render']['length'];_0x15da5a++)_0x559595=this['_extractRe'+'nder'](_0x50e761['_obj']['render'][_0x15da5a],_0x559595,_0x50e761,_0x3b9bd5);for(let _0x341455=-0x195b*-0x1+0x1*-0x1195+-0xc7*0xa;_0x341455<_0x50e761['_obj']['element']['length'];_0x341455++)this['_extractEl'+'ement'](_0x50e761['_obj']['element'][_0x341455],_0x559595,_0x50e761);for(let _0x1fc7ce=-0x1*0x8f9+-0x5ed*0x3+0x1ac0;_0x1fc7ce<_0x50e761['_obj']['sprite']['length'];_0x1fc7ce++){const _0x2260ad=_0x50e761['_obj']['sprite'][_0x1fc7ce];_0x2260ad['sprite']&&_0x2260ad['sprite']['_meshInsta'+'nce']&&(_0x50e761['dynamic']||_0x2260ad['sprite']['sprite']['_renderMod'+'e']===ci)&&(_0x559595['push'](_0x2260ad['sprite']['_meshInsta'+'nce']),_0x2260ad['sprite']['removeMode'+'lFromLayer'+'s'](),_0x50e761['_sprite']=!(-0x22c0+-0x338+0x25f8),_0x2260ad['sprite']['_batchGrou'+'p']=_0x50e761);}}}['generate'](_0x364f23){const _0xafe9a8={};_0x364f23||(_0x364f23=Object['keys'](this['_batchGrou'+'ps']));const _0xc5203a=[];for(let _0x418c1f=0x1*0x1ddb+-0x29*0x97+-0x4*0x16b;_0x418c1f<this['_batchList']['length'];_0x418c1f++){if(_0x364f23['indexOf'](this['_batchList'][_0x418c1f]['batchGroup'+'Id'])<0x25*0xbd+-0x16c4+0x5*-0xe9){_0xc5203a['push'](this['_batchList'][_0x418c1f]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x418c1f]);}if(this['_batchList']=_0xc5203a,this['_collectAn'+'dRemoveMes'+'hInstances'](_0xafe9a8,_0x364f23),_0x364f23===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=0x1*-0x5b7+-0x1e2b+0x23e2;else{const _0x153ac6=[];for(let _0x50b695=0x56+0x95*0x1a+-0xf78;_0x50b695<this['_dirtyGrou'+'ps']['length'];_0x50b695++)_0x364f23['indexOf'](this['_dirtyGrou'+'ps'][_0x50b695])<0x22b+0x1*0x25fd+-0x4*0xa0a&&_0x153ac6['push'](this['_dirtyGrou'+'ps'][_0x50b695]);this['_dirtyGrou'+'ps']=_0x153ac6;}let _0x4ece01,_0x2d2b1a,_0x3538e2,_0x2ba844;for(const _0x1f3594 in _0xafe9a8)if(_0xafe9a8['hasOwnProp'+'erty'](_0x1f3594)){if(_0x4ece01=_0xafe9a8[_0x1f3594],_0x3538e2=this['_batchGrou'+'ps'][_0x1f3594],!_0x3538e2){w['error']('batch\x20grou'+'p\x20'+_0x1f3594+'\x20not\x20found');continue;}_0x2d2b1a=this['prepare'](_0x4ece01,_0x3538e2['dynamic'],_0x3538e2['maxAabbSiz'+'e'],_0x3538e2['_ui']||_0x3538e2['_sprite']);for(let _0x3327fd=0x72e+0x1173+0x1e5*-0xd;_0x3327fd<_0x2d2b1a['length'];_0x3327fd++)_0x2ba844=this['create'](_0x2d2b1a[_0x3327fd],_0x3538e2['dynamic'],parseInt(_0x1f3594,-0x6b*-0x23+-0x1c5c*0x1+0x2c1*0x5)),_0x2ba844&&_0x2ba844['addToLayer'+'s'](this['scene'],_0x3538e2['layers']);}}['prepare'](_0x273762,_0x123468,_0x8bbb09=Number['POSITIVE_I'+'NFINITY'],_0x472212){if(_0x273762['length']===-0x2c*-0xa3+-0x1343+-0x8c1)return[];const _0x339716=_0x8bbb09*(-0xf2c+0x2*0x1327+-0x3f*0x5e+0.5),_0x53d87f=0x3*0xbec+0xad8+-0xca*0x36,_0x4d0ec8=-0xe98d59d7+0x168482*-0x3be+0x1152a21*0x212,_0x539914=new De(),_0x1f2ad6=new De();let _0x5da655=null,_0x4e1611;const _0x53d102=[];let _0x41de8a=0x22d3+-0x1f96+-0x33d;_0x472212&&_0x273762['sort']((_0x2b19f8,_0x282d73)=>_0x2b19f8['drawOrder']-_0x282d73['drawOrder']);let _0x507fb2=_0x273762,_0x34e259;const _0x151568=_0x472212?function(_0x2f035a){_0x5da655?_0x5da655['add'](_0x2f035a['aabb']):_0x5da655=_0x2f035a['aabb']['clone'](),_0x34e259['push'](_0x2f035a);}:function(_0x466649){_0x34e259['push'](_0x466649);};for(;_0x507fb2['length']>0x2233+0x50f*0x3+0xa0*-0x4f;){_0x53d102[_0x41de8a]=[_0x507fb2[-0x1ceb+0x2057+-0x6*0x92]],_0x34e259=[];const _0xc45f09=_0x507fb2[0x6*-0x161+0x1*-0x1585+0x107*0x1d]['material'],_0x179d93=_0x507fb2[0x26a1+0x181+-0x2822]['layer'],_0x1b51aa=_0x507fb2[-0x11c8+-0x5*-0x63d+-0xd69]['_shaderDef'+'s'],_0x2583af=_0x507fb2[-0x158c+-0x2a6*0x3+-0x12e*-0x19]['parameters'],_0x567d69=_0x507fb2[-0x69*0x4b+-0x3*-0x697+-0x2a*-0x43]['stencilFro'+'nt'];let _0x46d591=_0x507fb2[0x1*0x28e+-0x628*0x2+0x9c2]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x47e38f=_0x507fb2[-0x1*0x18eb+-0x1bef+0x34da]['drawOrder'];_0x539914['copy'](_0x507fb2[-0x1e3b+-0xd*0x10d+0x2be4]['aabb']);const _0x1c3e47=jd(_0x507fb2[-0x1*0x1323+0x2*0x11bc+-0x1055]),_0x1f47e3=_0x507fb2[-0xe7*-0x5+-0xd4b+0x1*0x8c8]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x1f17e3=_0x507fb2[-0x6*0x8b+-0x56f+0x19*0x59]['mesh']['primitive'][-0x37*-0x6f+0xb28+-0x1*0x2301]['indexed'];_0x5da655=null;for(let _0x4dd3cc=0x9*0x151+-0x1508+0x930;_0x4dd3cc<_0x507fb2['length'];_0x4dd3cc++){const _0x4a7d4b=_0x507fb2[_0x4dd3cc];if(_0x123468&&_0x53d102[_0x41de8a]['length']>=_0x53d87f){_0x34e259=_0x34e259['concat'](_0x507fb2['slice'](_0x4dd3cc));break;}if(_0xc45f09!==_0x4a7d4b['material']||_0x179d93!==_0x4a7d4b['layer']||_0x1f47e3!==_0x4a7d4b['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x1f17e3!==_0x4a7d4b['mesh']['primitive'][0xdda+0x1*-0x4bd+0x1*-0x91d]['indexed']||_0x1b51aa!==_0x4a7d4b['_shaderDef'+'s']||_0x46d591+_0x4a7d4b['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x4d0ec8){_0x151568(_0x4a7d4b);continue;}if(_0x1f2ad6['copy'](_0x539914),_0x1f2ad6['add'](_0x4a7d4b['aabb']),_0x1f2ad6['halfExtent'+'s']['x']>_0x339716||_0x1f2ad6['halfExtent'+'s']['y']>_0x339716||_0x1f2ad6['halfExtent'+'s']['z']>_0x339716){_0x151568(_0x4a7d4b);continue;}if(_0x567d69&&(!(_0x4e1611=_0x4a7d4b['stencilFro'+'nt'])||_0x567d69['func']!==_0x4e1611['func']||_0x567d69['zpass']!==_0x4e1611['zpass'])){_0x151568(_0x4a7d4b);continue;}if(_0x1c3e47!==jd(_0x4a7d4b)){_0x151568(_0x4a7d4b);continue;}if(!DE(_0x2583af,_0x4a7d4b['parameters'])){_0x151568(_0x4a7d4b);continue;}if(_0x472212&&_0x5da655&&_0x5da655['intersects'](_0x4a7d4b['aabb'])&&_0x4a7d4b['drawOrder']!==_0x47e38f){_0x151568(_0x4a7d4b);continue;}_0x539914['add'](_0x4a7d4b['aabb']),_0x46d591+=_0x4a7d4b['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x53d102[_0x41de8a]['push'](_0x4a7d4b);}_0x41de8a++,_0x507fb2=_0x34e259;}return _0x53d102;}['collectBat'+'chedMeshDa'+'ta'](_0x4bfdb5,_0x4183b2){let _0x729ff3=null,_0x31b157=-0x2*-0x9a9+-0x1*-0x8c3+-0x1c15,_0x116723=-0x21*-0xa3+0x41*0x7+0x2*-0xb65,_0xdfa8b6=null;for(let _0x2cb9be=0xad9*-0x1+0x6*0x351+0x14b*-0x7;_0x2cb9be<_0x4bfdb5['length'];_0x2cb9be++)if(_0x4bfdb5[_0x2cb9be]['visible']){const _0x5bd98f=_0x4bfdb5[_0x2cb9be]['mesh'],_0x578c49=_0x5bd98f['vertexBuff'+'er']['numVertice'+'s'];if(_0x31b157+=_0x578c49,_0x5bd98f['primitive'][0x1f9e+-0xa07*-0x3+-0x249*0x1b]['indexed'])_0x116723+=_0x5bd98f['primitive'][-0x964*0x4+0x1d1e+0x2e*0x2f]['count'];else{const _0x17ffc4=_0x5bd98f['primitive'][0xadd+-0x1*0x791+0x1*-0x34c]['type'];(_0x17ffc4===oa||_0x17ffc4===Er)&&_0x5bd98f['primitive'][0x143d+0x1ce8+0x1*-0x3125]['count']===0x8d4*0x4+0x9d*0x34+-0x10*0x433&&(_0x116723+=0x7f*-0x3+-0x1*-0x4bc+0x339*-0x1);}if(!_0x729ff3){_0xdfa8b6=_0x4bfdb5[_0x2cb9be]['material'],_0x729ff3={};const _0x53e69c=_0x5bd98f['vertexBuff'+'er']['format']['elements'];for(let _0x2134d0=-0x24f5+-0x893+0x2d88;_0x2134d0<_0x53e69c['length'];_0x2134d0++){const _0x2c9d2f=_0x53e69c[_0x2134d0]['name'];_0x729ff3[_0x2c9d2f]={'numComponents':_0x53e69c[_0x2134d0]['numCompone'+'nts'],'dataType':_0x53e69c[_0x2134d0]['dataType'],'normalize':_0x53e69c[_0x2134d0]['normalize'],'count':0x0};}_0x4183b2&&(_0x729ff3[us]={'numComponents':0x1,'dataType':Ve,'normalize':!(-0x2*0x3df+0x19bf+-0x1200),'count':0x0});}}return{'streams':_0x729ff3,'batchNumVerts':_0x31b157,'batchNumIndices':_0x116723,'material':_0xdfa8b6};}['create'](_0x447fd4,_0xb34b3f,_0x11d777){const _0x5d67a6=de();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(-0xa5*0x3+0x23a7+-0x21b8));let _0x4f968e=null,_0x36cbf1,_0x112e23,_0x11c160,_0x2017b9=null;const _0x39de29=this['collectBat'+'chedMeshDa'+'ta'](_0x447fd4,_0xb34b3f);if(_0x39de29['streams']){const _0x4868c9=_0x39de29['streams'];let _0x5a55e3=_0x39de29['material'];const _0x14659a=_0x39de29['batchNumVe'+'rts'],_0x58d96a=_0x39de29['batchNumIn'+'dices'];_0x2017b9=new g_(_0x447fd4,_0xb34b3f,_0x11d777),this['_batchList']['push'](_0x2017b9);let _0x4df128,_0x36f926,_0x5082d2,_0x57478e,_0x4e66a7=0x1*0x1295+0x68d+-0x1922*0x1,_0x5d16ec=0xe57*-0x2+-0x2*-0x983+0x9a8,_0x35a80d;const _0x3f03ac=_0x14659a<=0x17*-0xa70+0xcd7f+-0x2452*-0x8?Uint16Array:Uint32Array,_0x4a24b7=new _0x3f03ac(_0x58d96a);for(_0x36cbf1 in _0x4868c9)_0x4f968e=_0x4868c9[_0x36cbf1],_0x4f968e['typeArrayT'+'ype']=wn[_0x4f968e['dataType']],_0x4f968e['elementByt'+'eSize']=No[_0x4f968e['dataType']],_0x4f968e['buffer']=new _0x4f968e['typeArrayT'+'ype'](_0x14659a*_0x4f968e['numCompone'+'nts']);for(let _0x52c16f=0x1*-0x1619+-0x7*-0x446+-0x3*0x29b;_0x52c16f<_0x447fd4['length'];_0x52c16f++)if(_0x447fd4[_0x52c16f]['visible']){_0x112e23=_0x447fd4[_0x52c16f]['mesh'],_0x11c160=_0x112e23['vertexBuff'+'er']['numVertice'+'s'],_0xb34b3f||(_0x35a80d=_0x447fd4[_0x52c16f]['node']['getWorldTr'+'ansform']());for(_0x36cbf1 in _0x4868c9)if(_0x36cbf1!==us){_0x4f968e=_0x4868c9[_0x36cbf1];const _0x13d139=new _0x4f968e['typeArrayT'+'ype'](_0x4f968e['buffer']['buffer'],_0x4f968e['elementByt'+'eSize']*_0x4f968e['count']),_0x26bd1d=_0x112e23['getVertexS'+'tream'](_0x36cbf1,_0x13d139)*_0x4f968e['numCompone'+'nts'];if(_0x4f968e['count']+=_0x26bd1d,!_0xb34b3f&&_0x4f968e['numCompone'+'nts']>=-0xdd*-0x2a+0x1*-0x1d35+-0x70a){if(_0x36cbf1===Me){const _0x1610c7=_0x35a80d['data'],_0x164db4=_0x1610c7[0xbb6+0x133d+0x3*-0xa51],_0x58c500=_0x1610c7[0x7ff+-0x10de*-0x2+-0x29ba],_0x5325ac=_0x1610c7[0x1*0x325+0x34+-0x39*0xf],_0x557036=_0x1610c7[0x2*-0x9c8+0xd4*0x5+0xf70],_0x7b64fc=_0x1610c7[0xf07*-0x1+0x1091+-0x185],_0x29d2de=_0x1610c7[0x417*-0x5+0x11fb*-0x1+0x2674],_0x3b0d54=_0x1610c7[0x4c0+-0xa7f+-0x57*-0x11],_0x554457=_0x1610c7[-0xa3d*-0x1+0x1c03*0x1+-0x2637],_0x4ab3c5=_0x1610c7[-0x22f5+0x167f+0xc80],_0x3f7cbf=_0x1610c7[0xc*0x332+0x122c+0x22c*-0x1a],_0x4a78ca=_0x1610c7[0x24f4+0x1*0x15ea+-0x3ad1],_0x1a59ba=_0x1610c7[0x2488+-0x2092+-0x3e8];let _0x3d4ef4,_0x29ecf2,_0x3cd73b;for(let _0xa97888=0x1c14+0x1*0x145c+-0xf8*0x32;_0xa97888<_0x26bd1d;_0xa97888+=_0x4f968e['numCompone'+'nts'])_0x3d4ef4=_0x13d139[_0xa97888],_0x29ecf2=_0x13d139[_0xa97888+(-0x1238+-0x245+0x147e)],_0x3cd73b=_0x13d139[_0xa97888+(0x1c43+0x740+-0x2381)],_0x13d139[_0xa97888]=_0x3d4ef4*_0x164db4+_0x29ecf2*_0x557036+_0x3cd73b*_0x3b0d54+_0x3f7cbf,_0x13d139[_0xa97888+(-0x9*-0x334+0x246*0xb+-0x35d5)]=_0x3d4ef4*_0x58c500+_0x29ecf2*_0x7b64fc+_0x3cd73b*_0x554457+_0x4a78ca,_0x13d139[_0xa97888+(-0xbb5+0x4c*0x74+0x7*-0x33f)]=_0x3d4ef4*_0x5325ac+_0x29ecf2*_0x29d2de+_0x3cd73b*_0x4ab3c5+_0x1a59ba;}else{if(_0x36cbf1===gs||_0x36cbf1===yi){A_['invertMat4'](_0x35a80d)['transpose']();const [_0x2896db,_0x31dcfb,_0x2eaf92,_0x160742,_0x47610d,_0x17cf89,_0xcbbaaf,_0x289a6d,_0x4c2c2b]=A_['data'];let _0x4d329f,_0x5bc8f7,_0x3e002b;for(let _0x30dd19=-0x9eb*-0x1+-0x5ea*0x2+0x1e9;_0x30dd19<_0x26bd1d;_0x30dd19+=_0x4f968e['numCompone'+'nts'])_0x4d329f=_0x13d139[_0x30dd19],_0x5bc8f7=_0x13d139[_0x30dd19+(0x23dc+-0x924+-0x7*0x3d1)],_0x3e002b=_0x13d139[_0x30dd19+(-0x1*0x1c76+0xf4*0xf+0xe2c)],_0x13d139[_0x30dd19]=_0x4d329f*_0x2896db+_0x5bc8f7*_0x160742+_0x3e002b*_0xcbbaaf,_0x13d139[_0x30dd19+(-0x50d*-0x7+0x1818*-0x1+-0xb42)]=_0x4d329f*_0x31dcfb+_0x5bc8f7*_0x47610d+_0x3e002b*_0x289a6d,_0x13d139[_0x30dd19+(0x1bd5+0x12cb+-0x33*0xea)]=_0x4d329f*_0x2eaf92+_0x5bc8f7*_0x17cf89+_0x3e002b*_0x4c2c2b;}}}}if(_0xb34b3f){_0x4f968e=_0x4868c9[us];for(let _0x3a1ee0=0x4cc*-0x5+-0x6d6+-0x107*-0x1e;_0x3a1ee0<_0x11c160;_0x3a1ee0++)_0x4f968e['buffer'][_0x4f968e['count']++]=_0x52c16f;}if(_0x112e23['primitive'][-0xb55+-0x18c1+-0x12a*-0x1f]['indexed']){_0x4df128=_0x112e23['primitive'][-0x506*-0x3+-0x2543+0x1631]['base'],_0x36f926=_0x112e23['primitive'][0x2*0x505+-0x112e+-0x2*-0x392]['baseVertex']||0x2*-0x368+0x1423+0xd53*-0x1,_0x5082d2=_0x112e23['primitive'][0x829*-0x1+0x1*0x16+-0x813*-0x1]['count'];const _0x32051a=_0x112e23['indexBuffe'+'r'][-0x1b2e+-0x1f94+0x3ac2]['getFormat']();_0x57478e=new Sh[_0x32051a](_0x112e23['indexBuffe'+'r'][-0xb*-0x1af+0x3ee*0x7+-0x2e07]['storage']);}else{_0x36f926=0x21e8+-0x256c*-0x1+0x11d5*-0x4;const _0x55d0c2=_0x112e23['primitive'][0xa12*-0x2+0x944*0x1+0xae0]['type'];if(_0x55d0c2===oa||_0x55d0c2===Er){if(_0x112e23['primitive'][-0x2531*-0x1+0x246b+-0x542*0xe]['count']===0x3*-0x8e5+0x1cf9+0x61*-0x6)_0x4df128=0x13*-0x126+-0x12f7+-0xc5*-0x35,_0x5082d2=0x207a+-0xe3*0x1f+0x29*-0x1f,_0x57478e=_0x55d0c2===oa?PE:ME;else{_0x5082d2=-0xfa9*-0x1+-0x139b+0x3f2;continue;}}}for(let _0x1bbc0e=-0x3d6*-0x8+0x17dd+-0x368d;_0x1bbc0e<_0x5082d2;_0x1bbc0e++)_0x4a24b7[_0x1bbc0e+_0x5d16ec]=_0x57478e[_0x4df128+_0x1bbc0e]+_0x36f926+_0x4e66a7;_0x5d16ec+=_0x5082d2,_0x4e66a7+=_0x11c160;}_0x112e23=new Ge(this['device']);for(_0x36cbf1 in _0x4868c9)_0x4f968e=_0x4868c9[_0x36cbf1],_0x112e23['setVertexS'+'tream'](_0x36cbf1,_0x4f968e['buffer'],_0x4f968e['numCompone'+'nts'],void(-0x1bf4+0x1b8e+0x6*0x11),_0x4f968e['dataType'],_0x4f968e['normalize']);_0x4a24b7['length']>0x156a+-0x231+-0x85*0x25&&_0x112e23['setIndices'](_0x4a24b7),_0x112e23['update'](js,!(-0x790+-0x1256+-0x13*-0x15d)),_0xb34b3f&&(_0x5a55e3=_0x5a55e3['clone'](),_0x5a55e3['update']());const _0x912171=new He(_0x112e23,_0x5a55e3,this['rootNode']);_0x912171['castShadow']=_0x2017b9['origMeshIn'+'stances'][0x1921+-0x1d8d+0x46c]['castShadow'],_0x912171['parameters']=_0x2017b9['origMeshIn'+'stances'][-0x239*-0x2+0x13d7+-0x1849]['parameters'],_0x912171['layer']=_0x2017b9['origMeshIn'+'stances'][0x17*-0x146+-0xb79+-0x28c3*-0x1]['layer'],_0x912171['_shaderDef'+'s']=_0x2017b9['origMeshIn'+'stances'][0x204b+-0x365+-0x1ce6]['_shaderDef'+'s'],_0x912171['batching']=!(0x1a*0x35+-0x7d*-0x7+0x8cd*-0x1),_0x912171['cull']=_0x2017b9['origMeshIn'+'stances'][-0x1*0x815+-0x1*0x136e+0x1b83]['cull'];const _0x23d9ac=this['_batchGrou'+'ps'][_0x11d777];if(_0x23d9ac&&_0x23d9ac['_ui']&&(_0x912171['cull']=!(0x7*0x1+0x1a*-0x8d+0xe4c)),_0xb34b3f){const _0x508dd5=[];for(let _0x20f6b2=0x1085+0x2370+-0x33f5;_0x20f6b2<_0x2017b9['origMeshIn'+'stances']['length'];_0x20f6b2++)_0x508dd5['push'](_0x2017b9['origMeshIn'+'stances'][_0x20f6b2]['node']);_0x912171['skinInstan'+'ce']=new y_(this['device'],_0x508dd5,this['rootNode']);}_0x912171['_updateAab'+'b']=!(-0x29*-0x56+-0x337*-0x9+0xe3c*-0x3),_0x912171['drawOrder']=_0x2017b9['origMeshIn'+'stances'][0xf*-0x2d+0x1*-0x147d+0x1720]['drawOrder'],_0x912171['stencilFro'+'nt']=_0x2017b9['origMeshIn'+'stances'][-0x111d+0x1ba*0x9+-0x1*-0x193]['stencilFro'+'nt'],_0x912171['stencilBac'+'k']=_0x2017b9['origMeshIn'+'stances'][-0x20d1*-0x1+-0x11b5*-0x2+-0x1*0x443b]['stencilBac'+'k'],_0x912171['flipFacesF'+'actor']=jd(_0x2017b9['origMeshIn'+'stances'][0x2564+0xcb0+-0x281*0x14]),_0x912171['castShadow']=_0x2017b9['origMeshIn'+'stances'][0x20fb+-0xdfa+-0x1301]['castShadow'],_0x2017b9['meshInstan'+'ce']=_0x912171,_0x2017b9['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=de()-_0x5d67a6,_0x2017b9;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>0x1*-0x21e2+0x2388*-0x1+0x456a&&this['generate'](this['_dirtyGrou'+'ps']);const _0x1190c1=de();for(let _0x415af3=-0x1845+0x1*-0x13d9+0x2c1e*0x1;_0x415af3<this['_batchList']['length'];_0x415af3++)this['_batchList'][_0x415af3]['dynamic']&&this['_batchList'][_0x415af3]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=de()-_0x1190c1;}['clone'](_0x2295ef,_0xe14ce0){const _0x4a3b0f=new g_(_0xe14ce0,_0x2295ef['dynamic'],_0x2295ef['batchGroup'+'Id']);this['_batchList']['push'](_0x4a3b0f);const _0x5c391f=[];for(let _0x1c5d11=-0x3*0x9a9+-0x113b+-0x2*-0x171b;_0x1c5d11<_0xe14ce0['length'];_0x1c5d11++)_0x5c391f['push'](_0xe14ce0[_0x1c5d11]['node']);return _0x4a3b0f['meshInstan'+'ce']=new He(_0x2295ef['meshInstan'+'ce']['mesh'],_0x2295ef['meshInstan'+'ce']['material'],_0x2295ef['meshInstan'+'ce']['node']),_0x4a3b0f['meshInstan'+'ce']['_updateAab'+'b']=!(-0x1079*-0x1+-0x2*0xa3c+0x400),_0x4a3b0f['meshInstan'+'ce']['parameters']=_0xe14ce0[-0x67*0x44+0xd1*-0x17+0x2e23]['parameters'],_0x4a3b0f['meshInstan'+'ce']['cull']=_0xe14ce0[-0x2c8*-0x1+-0x673+0x3ab]['cull'],_0x4a3b0f['meshInstan'+'ce']['layer']=_0xe14ce0[0x10db*-0x2+0x1d35+0x481]['layer'],_0x2295ef['dynamic']&&(_0x4a3b0f['meshInstan'+'ce']['skinInstan'+'ce']=new y_(this['device'],_0x5c391f,this['rootNode'])),_0x4a3b0f['meshInstan'+'ce']['castShadow']=_0x2295ef['meshInstan'+'ce']['castShadow'],_0x4a3b0f;}['destroyBat'+'ch'](_0x42ffb1){_0x42ffb1['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x42ffb1['batchGroup'+'Id']]['layers']);}}const P_='uSceneColo'+'rMap';class LE extends ys{constructor(){super(...arguments),h(this,'colorRende'+'rTarget',null),h(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x32b82c,_0x8a61cc,_0x1fd9c2){if((_0x32b82c==null?void(0xb*0x10b+-0x3*-0x58f+-0x1c26):_0x32b82c['colorBuffe'+'r']['format'])!==_0x1fd9c2)return!(0x215e+-0xeb5+0x11*-0x119);const _0x3469d9=(_0x8a61cc==null?void(-0x1*-0x47+0x176d+-0x52*0x4a):_0x8a61cc['width'])||this['device']['width'],_0x558d45=(_0x8a61cc==null?void(0x21f2+0x1*0x7a+0x4*-0x89b):_0x8a61cc['height'])||this['device']['height'];return!_0x32b82c||_0x3469d9!==_0x32b82c['width']||_0x558d45!==_0x32b82c['height'];}['allocateRe'+'nderTarget'](_0x2bfcd0,_0x3119cb,_0x94307a,_0x224450){const _0x54fad8=new _e(_0x94307a,{'name':P_,'format':_0x224450,'width':_0x3119cb?_0x3119cb['colorBuffe'+'r']['width']:_0x94307a['width'],'height':_0x3119cb?_0x3119cb['colorBuffe'+'r']['height']:_0x94307a['height'],'mipmaps':!(-0x1e0b*0x1+0x1*-0x167e+0x3489),'minFilter':ma,'magFilter':vt,'addressU':ue,'addressV':ue});return _0x2bfcd0?(_0x2bfcd0['destroyFra'+'meBuffers'](),_0x2bfcd0['_colorBuff'+'er']=_0x54fad8,_0x2bfcd0['_colorBuff'+'ers']=[_0x54fad8]):_0x2bfcd0=new gt({'name':'ColorGrabR'+'T','colorBuffer':_0x54fad8,'depth':!(-0x23d6+0x10f7+0x12e0*0x1),'stencil':!(0x17*0x9d+0x7ff*0x4+-0x2e16),'autoResolve':!(-0x26f3+0x832+-0x7f*-0x3e)}),_0x2bfcd0;}['releaseRen'+'derTarget'](_0x40f7c3){_0x40f7c3&&(_0x40f7c3['destroyTex'+'tureBuffer'+'s'](),_0x40f7c3['destroy']());}['frameUpdat'+'e'](){const _0x29f54f=this['device'],_0x69781d=this['source'],_0x59ad8b=(_0x69781d==null?void(-0x463+-0x11*0x14d+0x1a80):_0x69781d['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x69781d==null?void(-0x1*0x16ac+0xe5c+-0xe*-0x98):_0x69781d['colorBuffe'+'r'],_0x59ad8b)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x69781d,_0x29f54f,_0x59ad8b));const _0x9307a6=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x29f54f['scope']['resolve'](P_)['setValue'](_0x9307a6);}['execute'](){const _0x3b75e6=this['device'];Q['pushGpuMar'+'ker'](_0x3b75e6,'GRAB-COLOR');const _0x168feb=this['source'],_0x500ad5=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x3b75e6['isWebGPU']?(_0x3b75e6['copyRender'+'Target'](_0x168feb,this['colorRende'+'rTarget'],!(0x18ec+-0x6b*0x2+-0x2*0xc0b),!(-0x19ba+0x920+0x109b)),_0x3b75e6['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x3b75e6['copyRender'+'Target'](_0x168feb,this['colorRende'+'rTarget'],!(-0x22e4+-0x1502*0x1+0x37e6),!(0x36c*0x4+-0xcdb+-0x6a*0x2)),_0x3b75e6['activeText'+'ure'](_0x3b75e6['maxCombine'+'dTextures']-(0x6af*0x2+-0x9f2+-0x36b)),_0x3b75e6['bindTextur'+'e'](_0x500ad5),_0x3b75e6['gl']['generateMi'+'pmap'](_0x500ad5['impl']['_glTarget'])),Q['popGpuMark'+'er'](_0x3b75e6);}}const M_='uSceneDept'+'hMap';class RE extends ys{constructor(_0x1b9ba0,_0x1102a0){super(_0x1b9ba0),h(this,'depthRende'+'rTarget',null),h(this,'camera',null),this['camera']=_0x1102a0;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x59c91b,_0x422cde){const _0x4a6cad=(_0x422cde==null?void(-0x4ca*0x1+0x24e9+-0x201f):_0x422cde['width'])||this['device']['width'],_0x20d833=(_0x422cde==null?void(0x1f12+-0x89d+-0x1*0x1675):_0x422cde['height'])||this['device']['height'];return!_0x59c91b||_0x4a6cad!==_0x59c91b['width']||_0x20d833!==_0x59c91b['height'];}['allocateRe'+'nderTarget'](_0x201f8d,_0x2880c3,_0x24aa49,_0xb4b932,_0x41d1ce){const _0x4c16f7=new _e(_0x24aa49,{'name':M_,'format':_0xb4b932,'width':_0x2880c3?_0x2880c3['colorBuffe'+'r']['width']:_0x24aa49['width'],'height':_0x2880c3?_0x2880c3['colorBuffe'+'r']['height']:_0x24aa49['height'],'mipmaps':!(-0x82*0x28+0x1ced+-0x89c),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});return _0x201f8d?(_0x201f8d['destroyFra'+'meBuffers'](),_0x41d1ce?_0x201f8d['_depthBuff'+'er']=_0x4c16f7:(_0x201f8d['_colorBuff'+'er']=_0x4c16f7,_0x201f8d['_colorBuff'+'ers']=[_0x4c16f7])):_0x201f8d=new gt({'name':'DepthGrabR'+'T','colorBuffer':_0x41d1ce?null:_0x4c16f7,'depthBuffer':_0x41d1ce?_0x4c16f7:null,'depth':!_0x41d1ce,'stencil':_0x24aa49['supportsSt'+'encil'],'autoResolve':!(0x154e+0x65c+-0x1*0x1ba9)}),_0x201f8d;}['releaseRen'+'derTarget'](_0x5eae6c){_0x5eae6c&&(_0x5eae6c['destroyTex'+'tureBuffer'+'s'](),_0x5eae6c['destroy']());}['before'](){var _0x52a4a0,_0x796b5c;const _0x2f8341=this['camera'],_0xc3c45e=this['device'],_0xc49cd4=(_0x2f8341==null?void(-0xa34+-0x5*0x718+-0x9e*-0x4a):_0x2f8341['renderTarg'+'et'])??_0xc3c45e['backBuffer'];let _0x5a3858=!(0x2f*-0xb5+0x1*0x2248+0x1*-0x10d),_0x7e8b40=_0xc49cd4['stencil']?sd:$i;_0xc3c45e['isWebGPU']&&_0xc49cd4['samples']>0xb79+-0x1*-0x10b8+0x290*-0xb&&(_0x7e8b40=Ji,_0x5a3858=!(-0x1bf7+-0x64*0x32+0x4c*0xa0));const _0x33885a=((_0x52a4a0=_0x2f8341['renderTarg'+'et'])==null?void(0x148*-0x13+-0x2*-0x12f9+-0xd9a):_0x52a4a0['depthBuffe'+'r'])??((_0x796b5c=_0x2f8341['renderTarg'+'et'])==null?void(-0x14f7*0x1+0x59+0x196*0xd):_0x796b5c['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x33885a)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x2f8341['renderTarg'+'et'],_0xc3c45e,_0x7e8b40,_0x5a3858));const _0x3eb87c=_0x5a3858?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0xc3c45e['scope']['resolve'](M_)['setValue'](_0x3eb87c);}['execute'](){const _0x898320=this['device'];if(Q['pushGpuMar'+'ker'](_0x898320,'GRAB-DEPTH'),_0x898320['isWebGL2']&&_0x898320['renderTarg'+'et']['samples']>0xd*-0x9+-0x1acc+0x1b42){const _0x32a97b=_0x898320['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x369451=this['depthRende'+'rTarget'];_0x898320['renderTarg'+'et']=_0x369451,_0x898320['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x898320,_0x32a97b,_0x369451['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x898320['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x898320['copyRender'+'Target'](_0x898320['renderTarg'+'et'],this['depthRende'+'rTarget'],!(-0x2*0xb00+-0x9*0x245+0x2a6e),!(-0xcec*0x2+-0x1*0x1ead+0x813*0x7));Q['popGpuMark'+'er'](_0x898320);}}class vv{constructor(){h(this,'_gammaCorr'+'ection',Xc),h(this,'_toneMappi'+'ng',sm),h(this,'_srgbRende'+'rTarget',!(0x6e9+-0x265b+0x1f73)),h(this,'_ssaoEnabl'+'ed',!(0x1*-0x5fb+-0x3*0x567+0x1631)),h(this,'_fog',Kn),h(this,'_sceneDept'+'hMapLinear',!(0x3*0x647+0x63c+-0x1910)),h(this,'_hash'),h(this,'_defines',new Map()),h(this,'_definesDi'+'rty',!(-0x1503+0x1779+0x2*-0x13b));}get['hash'](){if(this['_hash']===void(-0x15*-0x1b1+-0x2*-0x11b+0x25bb*-0x1)){const _0x58777c=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hi(_0x58777c);}return this['_hash'];}get['defines'](){const _0x54b78f=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0xe76+0x6de*-0x1+-0x797),_0x54b78f['clear'](),this['_sceneDept'+'hMapLinear']&&_0x54b78f['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(0xf8*0x3+0x1a88+0xeb8*-0x2)),_0x54b78f['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x54b78f['set']('TONEMAP',ov[this['_toneMappi'+'ng']]),_0x54b78f['set']('GAMMA',Hw[this['shaderOutp'+'utGamma']])),_0x54b78f;}['markDirty'](){this['_hash']=void(-0xd4*0xd+-0x66+0xb2a),this['_definesDi'+'rty']=!(-0x125e+-0x45d*0x5+0x1b*0x17d);}set['fog'](_0x3aa0cc){this['_fog']!==_0x3aa0cc&&(this['_fog']=_0x3aa0cc,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x4f0072){this['_ssaoEnabl'+'ed']!==_0x4f0072&&(this['_ssaoEnabl'+'ed']=_0x4f0072,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x3f8cd4){this['_gammaCorr'+'ectionAssi'+'gned']=!(-0xb99+-0x7de+0x1377*0x1),this['_gammaCorr'+'ection']!==_0x3f8cd4&&(this['_gammaCorr'+'ection']=_0x3f8cd4,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x5c05f4){this['_toneMappi'+'ng']!==_0x5c05f4&&(this['_toneMappi'+'ng']=_0x5c05f4,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x15bd85){this['_srgbRende'+'rTarget']!==_0x15bd85&&(this['_srgbRende'+'rTarget']=_0x15bd85,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x18d0f9){this['_sceneDept'+'hMapLinear']!==_0x18d0f9&&(this['_sceneDept'+'hMapLinear']=_0x18d0f9,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===Xc&&!this['_srgbRende'+'rTarget']?Xc:Ll;}}const La=new D(),ao=new D(),D_=new D(),I_=new te(),OE=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()];class Fl{constructor(){h(this,'shaderPass'+'Info',null),h(this,'renderPass'+'ColorGrab',null),h(this,'renderPass'+'DepthGrab',null),h(this,'fogParams',null),h(this,'shaderPara'+'ms',new vv()),h(this,'renderPass'+'es',[]),h(this,'jitter',-0x22b2+0x1f25+0x38d),(this['_aspectRat'+'io']=(0x1d2a+0x13*-0x2+-0x1cf4)/(0x20a2+0x1*0x95c+-0x29f5),this['_aspectRat'+'ioMode']=hm,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new ie(0x8*0x482+-0x1337+-0x10d9+0.75,0x369+0x39a*0x7+-0x1c9f+0.75,0xf73+-0x18f0+0x15b*0x7+0.75,-0x1*-0x1eab+-0x8*-0x248+0x104e*-0x3),this['_clearColo'+'rBuffer']=!(-0x173*-0x3+0x54*-0x4a+-0x6a5*-0x3),this['_clearDept'+'h']=-0x1033+0xd45*0x1+-0x2ef*-0x1,this['_clearDept'+'hBuffer']=!(0x547+0x423*0x1+0xa*-0xf1),this['_clearSten'+'cil']=-0x5*-0x8b+0x1*0x593+0x1*-0x84a,this['_clearSten'+'cilBuffer']=!(0x181a*0x1+-0xb4e+-0xccc),this['_cullFaces']=!(0x1*0x2168+0x2d*-0x49+-0x1493),this['_farClip']=0x4*-0x34+0x12*-0x1fd+-0x55*-0x7a,this['_flipFaces']=!(0x8*0x4a3+-0x738+-0x1ddf),this['_fov']=0x12f*0x17+-0x4c+-0x1ac0,this['_frustumCu'+'lling']=!(0xda*0x26+0x11*-0x22e+0x4b2),this['_horizonta'+'lFov']=!(0x12ab+0xa3*-0x6+-0xed8),this['_layers']=[er,ps,Kp,Il,Zp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=0x10*-0x185+0x2*0xa0c+-0x6*-0xb4+0.1,this['_node']=null,this['_orthoHeig'+'ht']=-0x5*0x4eb+0x1*0x17bb+0xe6,this['_projectio'+'n']=ni,this['_rect']=new re(0x49*0x69+0x3*0x45d+-0x2b08,-0x1899+0x1*0x6ff+-0x6*-0x2ef,-0x253d+0x1508+0x1036,0x2324+-0x3fb+-0x1f28),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new re(0x9f6*-0x1+0x14f9+-0xb03,-0x1e15+-0x1b5c+0x3971,-0x25ed+-0x1d04+-0x52*-0xd1,0xe23+0x24bf+-0x32e1),this['_scissorRe'+'ctClear']=!(-0x40d*0x1+0x89*-0x33+-0xf*-0x217),this['_aperture']=0x123*-0x1+0x1273+0x6*-0x2e0,this['_shutter']=(0x2*0x31f+-0x16d7+0x109a)/(-0x24*0x2+0x1ea3+0x1*-0x1a73),this['_sensitivi'+'ty']=-0xd*0x8b+0x1be*-0x3+0x1031,this['_projMat']=new te(),this['_projMatDi'+'rty']=!(0x187*-0x17+0x2229+0xf8),this['_projMatSk'+'ybox']=new te(),this['_viewMat']=new te(),this['_viewMatDi'+'rty']=!(0x1429+-0xf17+-0x289*0x2),this['_viewProjM'+'at']=new te(),this['_viewProjM'+'atDirty']=!(-0x24b*-0x10+-0x2*-0x213+-0x28d6),this['_shaderMat'+'ricesVersi'+'on']=-0x1ca+-0x1e2*-0xa+-0x2d7*0x6,this['_viewProjI'+'nverse']=new te(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new te(),this['_jitters']=[0x6d*-0x3+0x27*0x6b+-0xf06,0x55*-0x29+-0x1659+0x23f6,0xcbf+-0x2*0xe7a+0x1035*0x1,-0x1846+-0x144f+0x2c95],this['frustum']=new yx(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x5ba738,_0x19de07;(_0x5ba738=this['renderPass'+'ColorGrab'])==null||_0x5ba738['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x19de07=this['renderPass'+'DepthGrab'])==null||_0x19de07['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=-0x10a0+-0x90c+0x19ac;}['_storeShad'+'erMatrices'](_0x322564,_0x5be1a4,_0x44d399,_0x1c047b){this['_shaderMat'+'ricesVersi'+'on']!==_0x1c047b&&(this['_shaderMat'+'ricesVersi'+'on']=_0x1c047b,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x322564),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new te()),this['_viewProjC'+'urrent']['copy'](_0x322564),this['_viewProjI'+'nverse']['invert'](_0x322564),this['_jitters'][0x26ff+-0x3*-0x16a+-0x2b3b]=this['_jitters'][0x1b2f+-0x1f90+-0x1*-0x461],this['_jitters'][-0x19db+-0x1c3e+0x361c]=this['_jitters'][0x443*0x5+-0x70f*0x2+-0x730],this['_jitters'][-0x3e*-0x8a+0x9d0+-0x2b3c]=_0x5be1a4,this['_jitters'][-0x119e*-0x1+0x540+-0x16dd]=_0x44d399);}get['fullSizeCl'+'earRect'](){const _0x4eff17=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x4eff17['x']===0x1*0x19ab+0x179f+-0x9*0x57a&&_0x4eff17['y']===-0x1aaf+-0xc*-0x334+-0xbc1&&_0x4eff17['z']===-0x17+-0x13aa+0x13c2&&_0x4eff17['w']===0x257e*0x1+-0xdfd+-0x4*0x5e0;}set['aspectRati'+'o'](_0x37d55c){this['_aspectRat'+'io']!==_0x37d55c&&(this['_aspectRat'+'io']=_0x37d55c,this['_projMatDi'+'rty']=!(-0x5*0x4ce+-0x80f+0xbf*0x2b));}get['aspectRati'+'o'](){var _0x2e73f9;return(_0x2e73f9=this['xr'])!=null&&_0x2e73f9['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x31aaf7){this['_aspectRat'+'ioMode']!==_0x31aaf7&&(this['_aspectRat'+'ioMode']=_0x31aaf7,this['_projMatDi'+'rty']=!(0x19a3*-0x1+-0x2132+0x3ad5));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x3a1241){this['_calculate'+'Projection']=_0x3a1241,this['_projMatDi'+'rty']=!(-0x1*-0xa4e+-0x1832+-0x379*-0x4);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0xc3495b){this['_calculate'+'Transform']=_0xc3495b;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x1d94a6){this['_clearColo'+'r']['copy'](_0x1d94a6);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x10702e){this['_clearColo'+'rBuffer']=_0x10702e;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x5b232f){this['_clearDept'+'h']=_0x5b232f;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x5a59ca){this['_clearDept'+'hBuffer']=_0x5a59ca;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x4b1c99){this['_clearSten'+'cil']=_0x4b1c99;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x49823c){this['_clearSten'+'cilBuffer']=_0x49823c;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x3faa66){this['_cullFaces']=_0x3faa66;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x180acc){this['_farClip']!==_0x180acc&&(this['_farClip']=_0x180acc,this['_projMatDi'+'rty']=!(0x3*0x9ac+0x93a+-0x263e));}get['farClip'](){var _0x491789;return(_0x491789=this['xr'])!=null&&_0x491789['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x18c5a5){this['_flipFaces']=_0x18c5a5;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x541b84){this['_fov']!==_0x541b84&&(this['_fov']=_0x541b84,this['_projMatDi'+'rty']=!(-0xb*0x259+-0x151*-0x8+0xf4b));}get['fov'](){var _0x18190d;return(_0x18190d=this['xr'])!=null&&_0x18190d['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x17c3e9){this['_frustumCu'+'lling']=_0x17c3e9;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x500ddf){this['_horizonta'+'lFov']!==_0x500ddf&&(this['_horizonta'+'lFov']=_0x500ddf,this['_projMatDi'+'rty']=!(0x1*-0x761+-0x674+0xdd5));}get['horizontal'+'Fov'](){var _0x529ecf;return(_0x529ecf=this['xr'])!=null&&_0x529ecf['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0xc292d8){this['_layers']=_0xc292d8['slice'](-0x21dd*0x1+-0x1109+0x32e6),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x3d697){this['_nearClip']!==_0x3d697&&(this['_nearClip']=_0x3d697,this['_projMatDi'+'rty']=!(-0x1cd*0xb+0x200f*-0x1+-0x1*-0x33de));}get['nearClip'](){var _0x1dc353;return(_0x1dc353=this['xr'])!=null&&_0x1dc353['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x22a94e){this['_node']=_0x22a94e;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x1950cd){this['_orthoHeig'+'ht']!==_0x1950cd&&(this['_orthoHeig'+'ht']=_0x1950cd,this['_projMatDi'+'rty']=!(0x220d+0x734+0x1*-0x2941));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x12fe4b){this['_projectio'+'n']!==_0x12fe4b&&(this['_projectio'+'n']=_0x12fe4b,this['_projMatDi'+'rty']=!(0xd8b+-0x5d*-0x27+0x1*-0x1bb6));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x4fbbe3){this['_rect']['copy'](_0x4fbbe3);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x4d3dc1){this['_renderTar'+'get']=_0x4d3dc1;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x529d05){this['_scissorRe'+'ct']['copy'](_0x529d05);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x7ecad6=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x7ecad6)['invert'](),this['_viewMatDi'+'rty']=!(0x1c4*0xa+0x20be+-0x1*0x3265);}return this['_viewMat'];}set['aperture'](_0x40a7e9){this['_aperture']=_0x40a7e9;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x3fc07c){this['_sensitivi'+'ty']=_0x3fc07c;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x20ff8f){this['_shutter']=_0x20ff8f;}get['shutter'](){return this['_shutter'];}set['xr'](_0x43b053){this['_xr']!==_0x43b053&&(this['_xr']=_0x43b053,this['_projMatDi'+'rty']=!(0x17c7*-0x1+0xd*0x289+-0x92e));}get['xr'](){return this['_xr'];}['clone'](){return new Fl()['copy'](this);}['copy'](_0x5da63d){return this['_aspectRat'+'io']=_0x5da63d['_aspectRat'+'io'],this['_farClip']=_0x5da63d['_farClip'],this['_fov']=_0x5da63d['_fov'],this['_horizonta'+'lFov']=_0x5da63d['_horizonta'+'lFov'],this['_nearClip']=_0x5da63d['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x5da63d['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x5da63d['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x5da63d['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x5da63d['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x5da63d['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x5da63d['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x5da63d['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x5da63d['calculateT'+'ransform'],this['clearColor']=_0x5da63d['clearColor'],this['clearColor'+'Buffer']=_0x5da63d['clearColor'+'Buffer'],this['clearDepth']=_0x5da63d['clearDepth'],this['clearDepth'+'Buffer']=_0x5da63d['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x5da63d['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x5da63d['clearStenc'+'ilBuffer'],this['cullFaces']=_0x5da63d['cullFaces'],this['flipFaces']=_0x5da63d['flipFaces'],this['frustumCul'+'ling']=_0x5da63d['frustumCul'+'ling'],this['layers']=_0x5da63d['layers'],this['orthoHeigh'+'t']=_0x5da63d['orthoHeigh'+'t'],this['projection']=_0x5da63d['projection'],this['rect']=_0x5da63d['rect'],this['renderTarg'+'et']=_0x5da63d['renderTarg'+'et'],this['scissorRec'+'t']=_0x5da63d['scissorRec'+'t'],this['aperture']=_0x5da63d['aperture'],this['shutter']=_0x5da63d['shutter'],this['sensitivit'+'y']=_0x5da63d['sensitivit'+'y'],this['shaderPass'+'Info']=_0x5da63d['shaderPass'+'Info'],this['jitter']=_0x5da63d['jitter'],this['_projMatDi'+'rty']=!(0x402*-0x4+-0x1*-0x8db+0x72d),this;}['_enableRen'+'derPassCol'+'orGrab'](_0xa16ae4,_0x23169f){var _0x2ab53a;_0x23169f?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new LE(_0xa16ae4)):((_0x2ab53a=this['renderPass'+'ColorGrab'])==null||_0x2ab53a['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x25800c,_0x380a6a,_0x3f9372){var _0x124f8d;_0x3f9372?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new RE(_0x25800c,this)):((_0x124f8d=this['renderPass'+'DepthGrab'])==null||_0x124f8d['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0x7e2+0x6fa*0x1+0xe9));}['worldToScr'+'een'](_0x7d0f7e,_0x2ec13e,_0x4146c8,_0x436334=new D()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x7d0f7e,_0x436334);const _0x32983d=this['_viewProjM'+'at']['data'],_0x169a09=_0x7d0f7e['x']*_0x32983d[-0x1*-0x266e+0x190+-0x27fb]+_0x7d0f7e['y']*_0x32983d[0x4*-0x2b7+-0x25*0x7+0xbe6]+_0x7d0f7e['z']*_0x32983d[-0x7cf+0x64a*0x3+0x2*-0x582]+(0x691+-0x5c2+-0xce)*_0x32983d[-0x3b0*-0x7+0x16ee*0x1+-0x67*0x79];_0x436334['x']=(_0x436334['x']/_0x169a09+(-0x44a*0x1+0x2131+0x19b*-0x12))*(-0x187a+-0x1c*0x7+0x193e+0.5),_0x436334['y']=(-0x1770+0x167a+0xf7-_0x436334['y']/_0x169a09)*(-0xd65*-0x2+0x26b*0xf+0x3*-0x1505+0.5);const {x:_0x49af04,y:_0x41f45c,z:_0x381b8f,w:_0x437d8b}=this['_rect'];return _0x436334['x']=_0x436334['x']*_0x381b8f*_0x2ec13e+_0x49af04*_0x2ec13e,_0x436334['y']=_0x436334['y']*_0x437d8b*_0x4146c8+(-0x1a7*-0x3+0x1*0x260b+-0x2aff-_0x41f45c-_0x437d8b)*_0x4146c8,_0x436334;}['screenToWo'+'rld'](_0x328fe1,_0x3454bc,_0x16b854,_0x438cdd,_0x2a083d,_0x5024e1=new D()){const {x:_0x90099a,y:_0x325d5e,z:_0xd09ae,w:_0x5caa82}=this['_rect'],_0x2acc51=this['farClip']-this['nearClip'];if(La['set']((_0x328fe1-_0x90099a*_0x438cdd)/(_0xd09ae*_0x438cdd),0x55e+-0x143+-0x41a-(_0x3454bc-(0xbf*-0x7+0x1980+-0xa*0x207-_0x325d5e-_0x5caa82)*_0x2a083d)/(_0x5caa82*_0x2a083d),_0x16b854/_0x2acc51),La['mulScalar'](0x25c1+0x21ff+-0xbf5*0x6),La['sub'](D['ONE']),this['_projectio'+'n']===ni){te['_getPerspe'+'ctiveHalfS'+'ize'](ao,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),ao['x']*=La['x'],ao['y']*=La['y'];const _0x28f61b=this['_node']['getWorldTr'+'ansform']();ao['z']=-this['nearClip'],_0x28f61b['transformP'+'oint'](ao,D_);const _0x413f3e=this['_node']['getPositio'+'n']();_0x5024e1['sub2'](D_,_0x413f3e),_0x5024e1['normalize'](),_0x5024e1['mulScalar'](_0x16b854),_0x5024e1['add'](_0x413f3e);}else this['_updateVie'+'wProjMat'](),I_['copy'](this['_viewProjM'+'at'])['invert'](),I_['transformP'+'oint'](La,_0x5024e1);return _0x5024e1;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===ni)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x44fa71=this['_orthoHeig'+'ht'],_0x2365c3=_0x44fa71*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x2365c3,_0x2365c3,-_0x44fa71,_0x44fa71,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(0x3e1*-0x2+-0x1843+0x2*0x1003);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x411c06=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(-0x18df+-0x51c+-0x1*-0x1e5f)/this['_sensitivi'+'ty']);return(-0x26cb*0x1+-0x79a+-0x1*-0x2e66)/(Math['pow'](0xe8e+0x6*-0x2c8+0x224,_0x411c06)*(-0x196f+-0x115e+0x2ace+0.19999999999999996));}['getScreenS'+'ize'](_0x400425){if(this['_projectio'+'n']===ni){const _0x589ce6=this['_node']['getPositio'+'n']()['distance'](_0x400425['center']);if(_0x589ce6<_0x400425['radius'])return-0x1f0f+-0xb*-0x41+0x1c45*0x1;const _0x2d534d=Math['asin'](_0x400425['radius']/_0x589ce6),_0x9b28ab=Math['tan'](_0x2d534d),_0xb1821b=Math['tan'](this['fov']/(0x21e0+-0x1d1+-0x200d)*Y['DEG_TO_RAD']);return Math['min'](_0x9b28ab/_0xb1821b,-0xa33+0xf91*-0x1+-0x897*-0x3);}return Y['clamp'](_0x400425['radius']/this['_orthoHeig'+'ht'],-0x551*0x7+0x1*0x19b2+0xb85,0xe5*0x7+0x33d*-0x5+0x9ef*0x1);}['getFrustum'+'Corners'](_0x542e4b=this['nearClip'],_0x5dae5a=this['farClip']){const _0x6a619e=this['fov']*Math['PI']/(0x10c+-0x3b*-0xd+-0x357);let _0x187796,_0x35deea;this['projection']===ni?this['horizontal'+'Fov']?(_0x187796=_0x542e4b*Math['tan'](_0x6a619e/(0x1*0xe94+-0x2*0x7a7+0xbc)),_0x35deea=_0x187796/this['aspectRati'+'o']):(_0x35deea=_0x542e4b*Math['tan'](_0x6a619e/(-0x1111*-0x2+-0xc86*-0x3+0x2*-0x23d9)),_0x187796=_0x35deea*this['aspectRati'+'o']):(_0x35deea=this['_orthoHeig'+'ht'],_0x187796=_0x35deea*this['aspectRati'+'o']);const _0x192f69=OE;return _0x192f69[-0x1*-0x180e+0xc7*0x2b+-0x2d*0x147]['x']=_0x187796,_0x192f69[-0x19a9+-0x4d*0x1f+0x8bf*0x4]['y']=-_0x35deea,_0x192f69[-0xaf8+-0x2*0x18b+0xe0e]['z']=-_0x542e4b,_0x192f69[0x3*-0x1d8+0x46*0xc+0x241*0x1]['x']=_0x187796,_0x192f69[-0x270a+-0x2157+0xda*0x55]['y']=_0x35deea,_0x192f69[-0x3a*0xe+0x1*-0x20af+0x23dc]['z']=-_0x542e4b,_0x192f69[-0x1515+0x18bd+-0x3a6]['x']=-_0x187796,_0x192f69[0x218c*-0x1+-0x2301+-0x1*-0x448f]['y']=_0x35deea,_0x192f69[0xa4*-0x14+-0x1705+0x23d7]['z']=-_0x542e4b,_0x192f69[0x224*0x4+-0x3*-0xb9e+-0x2b67]['x']=-_0x187796,_0x192f69[-0x3*0xb2d+0x3*-0x6e5+0x1213*0x3]['y']=-_0x35deea,_0x192f69[0x6a*-0x12+0x165*-0x6+0xfd5]['z']=-_0x542e4b,this['_projectio'+'n']===ni&&(this['horizontal'+'Fov']?(_0x187796=_0x5dae5a*Math['tan'](_0x6a619e/(-0x2277+-0x1fa7+0x4220)),_0x35deea=_0x187796/this['aspectRati'+'o']):(_0x35deea=_0x5dae5a*Math['tan'](_0x6a619e/(0x8*0x170+-0x33*-0x48+0xceb*-0x2)),_0x187796=_0x35deea*this['aspectRati'+'o'])),_0x192f69[-0x9ec+0x66*-0x3d+0x3*0xb6a]['x']=_0x187796,_0x192f69[-0xa6f*-0x3+0x1c62+-0xd*0x497]['y']=-_0x35deea,_0x192f69[-0x12+-0xc50+0x8a*0x17]['z']=-_0x5dae5a,_0x192f69[-0xbc5+0x9ad+-0x21d*-0x1]['x']=_0x187796,_0x192f69[-0x1aaf+-0xc97+0x274b]['y']=_0x35deea,_0x192f69[0x13d*0x1d+0x1b9d*-0x1+-0xa3*0xd]['z']=-_0x5dae5a,_0x192f69[-0x1*0x1695+0x3*0x795+-0x24]['x']=-_0x187796,_0x192f69[0x10e+0x221+-0x1*0x329]['y']=_0x35deea,_0x192f69[-0x201d+-0x1823+0xe*0x405]['z']=-_0x5dae5a,_0x192f69[-0xce1*0x1+-0x39*-0x3+0xc3d]['x']=-_0x187796,_0x192f69[-0xd23+0xf24*-0x1+0x1c4e*0x1]['y']=-_0x35deea,_0x192f69[-0x4cc*-0x6+-0x1*0x1bf1+-0xd0]['z']=-_0x5dae5a,_0x192f69;}['setXrPrope'+'rties'](_0x3095dc){Object['assign'](this['_xrPropert'+'ies'],_0x3095dc),this['_projMatDi'+'rty']=!(-0x25f6+-0x1189+0x377f);}}const L_=new te(),R_=new te(),O_=new te(),gr=class gr{static['create'](_0x340704,_0x24218b,_0x4bb530){const _0x21f3a2=new Fl();switch(_0x21f3a2['node']=new Ie(_0x340704),_0x21f3a2['aspectRati'+'o']=-0x6e+0x48d+-0x41e,_0x21f3a2['aspectRati'+'oMode']=lu,_0x21f3a2['_scissorRe'+'ctClear']=!(0x1893+0x162c+-0x2ebf),_0x24218b){case Ke:_0x21f3a2['node']['setRotatio'+'n'](gr['pointLight'+'Rotations'][_0x4bb530]),_0x21f3a2['fov']=-0x24ff+0x3a*-0x86+0x43b5,_0x21f3a2['projection']=ni;break;case Ze:_0x21f3a2['projection']=ni;break;case ve:_0x21f3a2['projection']=En;break;}return _0x21f3a2;}static['evalSpotCo'+'okieMatrix'](_0x3e20da){let _0x394b1c=gr['_spotCooki'+'eCamera'];_0x394b1c||(_0x394b1c=gr['create']('SpotCookie'+'Camera',Ze),gr['_spotCooki'+'eCamera']=_0x394b1c),_0x394b1c['fov']=_0x3e20da['_outerCone'+'Angle']*(0xd*0x275+0x275*0x1+-0x1*0x2264);const _0x34d3ee=_0x394b1c['_node'];_0x34d3ee['setPositio'+'n'](_0x3e20da['_node']['getPositio'+'n']()),_0x34d3ee['setRotatio'+'n'](_0x3e20da['_node']['getRotatio'+'n']()),_0x34d3ee['rotateLoca'+'l'](-(-0x38c+-0x187b+-0x1*-0x1c61),-0x13b3+-0xac6+0x1e79,0x2*0x10ee+-0x49*0x35+-0x1*0x12bf),L_['setTRS'](_0x34d3ee['getPositio'+'n'](),_0x34d3ee['getRotatio'+'n'](),D['ONE'])['invert'](),R_['mul2'](_0x394b1c['projection'+'Matrix'],L_);const _0x492572=_0x3e20da['cookieMatr'+'ix'],_0x59980f=_0x3e20da['atlasViewp'+'ort'];return O_['setViewpor'+'t'](_0x59980f['x'],_0x59980f['y'],_0x59980f['z'],_0x59980f['w']),_0x492572['mul2'](O_,R_),_0x492572;}};h(gr,'pointLight'+'Rotations',[new le()['setFromEul'+'erAngles'](0x3*-0x1cc+0xb0d+-0x1*0x5a9,-0xd66+-0x1*0x22ef+-0x46d*-0xb,-0x2*0x10ea+0x19a+-0x20ee*-0x1),new le()['setFromEul'+'erAngles'](0x27*-0xf3+0xd*0x14b+0x1436,-(-0xda+-0x14*-0x95+-0xa70),0x141a+0x439*0x9+0xb7b*-0x5),new le()['setFromEul'+'erAngles'](0xdb*-0x28+-0x2*0x1147+0x4520,-0x1*0x1b36+0x5*-0x535+0x353f,-0x244b+-0x5*0x649+0x43b8),new le()['setFromEul'+'erAngles'](-(0x8e8+0x1c59*-0x1+0x13cb),-0x1*0x22db+0x1*-0xeef+0x31ca,0x1942*0x1+-0x24b6+0xb74),new le()['setFromEul'+'erAngles'](-0x9+0x1e89+-0x20*0xf4,0x173e+-0x36d+-0x2bb*0x7,0x2*-0xd3f+-0x2305+0x14bd*0x3),new le()['setFromEul'+'erAngles'](0x201b*-0x1+0x14*0x15e+-0x17*-0x35,-0x3+0x812+-0x80f*0x1,-0x15d1+-0x6*-0x2d3+0x593)]),h(gr,'_spotCooki'+'eCamera',null);let Wn=gr;const vs=new D(),Or=new Float32Array(-0x1afc+0x1825+0x2dd),FE=new D(-(-0x5f5*0x2+-0x5*-0x185+-0xdd*-0x5+0.5),-0x15e+-0x25a7+-0x2705*-0x1,0x2b*-0x9+-0x2681+-0x1*-0x2804),NE=new D(0x1*0x13b1+-0x241a+-0x1069*-0x1,-0x19c3*0x1+-0x2*-0xc68+-0x1b*-0x9,-0x1e73+-0x22f7+-0x416a*-0x1+0.5),at={'POSITION_RANGE':0x0,'DIRECTION_FLAGS':0x1,'COLOR_ANGLES_BIAS':0x2,'PROJ_MAT_0':0x3,'ATLAS_VIEWPORT':0x3,'PROJ_MAT_1':0x4,'PROJ_MAT_2':0x5,'PROJ_MAT_3':0x6,'AREA_DATA_WIDTH':0x7,'AREA_DATA_HEIGHT':0x8,'COUNT':0x9},kE={'LIGHTSHAPE_PUNCTUAL':Ys+'u','LIGHTSHAPE_RECT':Zy+'u','LIGHTSHAPE_DISK':Qy+'u','LIGHTSHAPE_SPHERE':Jy+'u','LIGHT_COLOR_DIVIDER':$c+'.0'},F_=(_0x1a3779,_0x177562)=>Object['keys'](_0x1a3779)['map'](_0x337619=>'#define\x20{'+_0x177562+_0x337619+'}\x20'+_0x1a3779[_0x337619])['join']('\x0a'),N_='\x0a\x0a\x20\x20\x20\x20'+F_(at,'CLUSTER_TE'+'XTURE_')+'\x0a\x20\x20\x20\x20'+F_(kE,'')+'\x0a';class UE{constructor(_0x14e507){h(this,'areaLights'+'Enabled',!(0x250b+0xf91*-0x2+-0x5e8)),(this['device']=_0x14e507,Pe['get'](_0x14e507,Fe)['set']('lightBuffe'+'rDefinesPS',N_),Pe['get'](_0x14e507,it)['set']('lightBuffe'+'rDefinesPS',N_),this['cookiesEna'+'bled']=!(0x1b60+-0xb*-0x35b+-0x4048),this['shadowsEna'+'bled']=!(-0x83d+-0x215a+0x2*0x14cc),this['areaLights'+'Enabled']=!(0xf32+-0x2439+0x1508),this['maxLights']=0x166+-0x12a*-0xb+0xd35*-0x1);const _0x290315=at['COUNT'];this['lightsFloa'+'t']=new Float32Array((-0x1d17+-0xc5c+0x5*0x84b)*_0x290315*this['maxLights']),this['lightsUint']=new Uint32Array(this['lightsFloa'+'t']['buffer']),this['lightsText'+'ure']=this['createText'+'ure'](this['device'],_0x290315,this['maxLights'],Xt,'LightsText'+'ure'),this['_lightsTex'+'tureId']=this['device']['scope']['resolve']('lightsText'+'ure'),this['invMaxColo'+'rValue']=-0x1d64+-0x1230+0x2f94,this['invMaxAtte'+'nuation']=0x2dd*0xd+-0x1df7+-0x742,this['boundsMin']=new D(),this['boundsDelt'+'a']=new D();}['destroy'](){var _0x3557f6;(_0x3557f6=this['lightsText'+'ure'])==null||_0x3557f6['destroy'](),this['lightsText'+'ure']=null;}['createText'+'ure'](_0x5a1f5c,_0x475f6f,_0x4b6151,_0x651365,_0x262894){return new _e(_0x5a1f5c,{'name':_0x262894,'width':_0x475f6f,'height':_0x4b6151,'mipmaps':!(0xaa3+0x265*-0x1+-0x83d),'format':_0x651365,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1});}['setBounds'](_0x5b6b33,_0x17651d){this['boundsMin']['copy'](_0x5b6b33),this['boundsDelt'+'a']['copy'](_0x17651d);}['uploadText'+'ures'](){this['lightsText'+'ure']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ure']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'tureId']['setValue'](this['lightsText'+'ure']);}['getSpotDir'+'ection'](_0x509235,_0x7ebcb3){_0x7ebcb3['_node']['getWorldTr'+'ansform']()['getY'](_0x509235)['mulScalar'](-(0x10ba+-0x1db3*0x1+0x97*0x16)),_0x509235['normalize']();}['getLightAr'+'eaSizes'](_0x442cb4){const _0x498bfe=_0x442cb4['_node']['getWorldTr'+'ansform']();return _0x498bfe['transformV'+'ector'](FE,vs),Or[0x22a0+-0x9b9*0x1+0x177*-0x11]=vs['x'],Or[0x1fa4+-0x115f+-0xe44]=vs['y'],Or[0x18af+0x3*0xab5+-0x38cc]=vs['z'],_0x498bfe['transformV'+'ector'](NE,vs),Or[0x1*0x15b9+-0x136c+-0x24a]=vs['x'],Or[-0x1820+-0x149b+0x91*0x4f]=vs['y'],Or[-0x1*0x125d+0x188a+-0x628*0x1]=vs['z'],Or;}['addLightDa'+'ta'](_0x882e56,_0x362dce){const _0x2a1173=_0x882e56['_type']===Ze,_0x35021a=_0x882e56['atlasViewp'+'ortAllocat'+'ed'],_0x43b92f=this['cookiesEna'+'bled']&&!!_0x882e56['_cookie']&&_0x35021a,_0x1ebc2c=this['areaLights'+'Enabled']&&_0x882e56['shape']!==Ys,_0x3d939f=this['shadowsEna'+'bled']&&_0x882e56['castShadow'+'s']&&_0x35021a,_0x5f4dcf=_0x882e56['_node']['getPositio'+'n']();let _0x25a379=null,_0x3da68a=null;_0x2a1173?_0x3d939f?_0x25a379=_0x882e56['getRenderD'+'ata'](null,0x1*0x2db+0x5*0x118+-0x853)['shadowMatr'+'ix']:_0x43b92f&&(_0x25a379=Wn['evalSpotCo'+'okieMatrix'](_0x882e56)):(_0x3d939f||_0x43b92f)&&(_0x3da68a=_0x882e56['atlasViewp'+'ort']);const _0x113818=this['lightsFloa'+'t'],_0x4edf68=this['lightsUint'],_0x441137=_0x362dce*this['lightsText'+'ure']['width']*(-0x26c7+-0x315*-0xb+0x4e4);_0x113818[_0x441137+(-0xfd*-0x3+0x2f*0x61+-0x14c2*0x1)*at['POSITION_R'+'ANGE']+(-0x247c+-0x1*-0xd8e+0x16ee)]=_0x5f4dcf['x'],_0x113818[_0x441137+(-0x9*0xb9+-0x166d*-0x1+-0x4*0x3fa)*at['POSITION_R'+'ANGE']+(0x1*-0x14d1+0x9*-0x34e+0x3290)]=_0x5f4dcf['y'],_0x113818[_0x441137+(0x11*-0x1b2+-0xdb1*0x1+0xe2d*0x3)*at['POSITION_R'+'ANGE']+(-0x1*0x265f+-0x1686+0x3ce7)]=_0x5f4dcf['z'],_0x113818[_0x441137+(0x29*-0x75+0x13*-0xbe+-0x287*-0xd)*at['POSITION_R'+'ANGE']+(-0x1*-0x1352+0x14eb+-0x13*0x21e)]=_0x882e56['attenuatio'+'nEnd'];const _0x255daa=_0x882e56['clusteredD'+'ata'];if(_0x4edf68[_0x441137+(0xf*-0x91+0x1e0a+-0x1587)*at['COLOR_ANGL'+'ES_BIAS']+(0x1510+-0x21e3+-0x43*-0x31)]=_0x255daa[0x53e+0x2493+-0x29d1],_0x4edf68[_0x441137+(0x23b*0x8+-0xabf+0x1*-0x715)*at['COLOR_ANGL'+'ES_BIAS']+(-0x1*0x2bd+0x2*0x35b+-0x3f8)]=_0x255daa[-0x4*0x56f+-0x36*0x1b+0x1b6f],_0x4edf68[_0x441137+(0x1*0x1ac0+-0x237*0xa+-0x496)*at['COLOR_ANGL'+'ES_BIAS']+(0x116*-0x8+-0xf8e+-0xc20*-0x2)]=_0x255daa[-0x47*-0x67+0x1347*-0x1+0x16*-0x6c],_0x882e56['castShadow'+'s']){const _0x2b649f=_0x882e56['getRenderD'+'ata'](null,0xdab*0x1+-0x2*0xfda+0x1209),_0x37b53d=_0x882e56['_getUnifor'+'mBiasValue'+'s'](_0x2b649f),_0x28c895=Mn['float2Half'](_0x37b53d['bias']),_0x558641=Mn['float2Half'](_0x37b53d['normalBias']);_0x4edf68[_0x441137+(0xfb9+0x2698+-0x1*0x364d)*at['COLOR_ANGL'+'ES_BIAS']+(-0xdd*-0xd+-0x1c55+0x111f)]=_0x28c895|_0x558641<<-0xb47*0x2+0x172a+-0x5*0x1c;}if(_0x2a1173&&(this['getSpotDir'+'ection'](vs,_0x882e56),_0x113818[_0x441137+(-0x35*-0x1d+0x5*-0x4a7+-0x86*-0x21)*at['DIRECTION_'+'FLAGS']+(0x1d6d+0x1713+-0x3480)]=vs['x'],_0x113818[_0x441137+(-0x4d*0x35+-0x7*0x4c4+0x3151)*at['DIRECTION_'+'FLAGS']+(0x218a+-0x18ed+0x1d*-0x4c)]=vs['y'],_0x113818[_0x441137+(-0x1*-0x2615+-0x710+0x1f01*-0x1)*at['DIRECTION_'+'FLAGS']+(0x29+0x13fe+0x6b7*-0x3)]=vs['z']),_0x4edf68[_0x441137+(0x1ea7+-0x1cf5+0x2*-0xd7)*at['DIRECTION_'+'FLAGS']+(-0x1*0x909+-0x143f+0x1d4b)]=_0x882e56['getCluster'+'edFlags'](_0x3d939f,_0x43b92f),_0x25a379){const _0x462b55=_0x25a379['data'];for(let _0x42582d=0x15*0xf+0x566+-0x1*0x6a1;_0x42582d<0x1ddb*0x1+-0x6ff+0x4*-0x5b3;_0x42582d++)_0x113818[_0x441137+(0x109b+0x38*0x45+-0x1faf)*at['PROJ_MAT_0']+_0x42582d]=_0x462b55[_0x42582d];}if(_0x3da68a&&(_0x113818[_0x441137+(-0x21be+-0x23a4+0x2f*0x17a)*at['ATLAS_VIEW'+'PORT']+(-0x3*0xc75+0x5af+0x1fb0)]=_0x3da68a['x'],_0x113818[_0x441137+(0x1e89+-0x2383+0x4fe)*at['ATLAS_VIEW'+'PORT']+(0x201d+-0x156a+-0xab2)]=_0x3da68a['y'],_0x113818[_0x441137+(0x2312+0x31*0x53+-0xcf*0x3f)*at['ATLAS_VIEW'+'PORT']+(0x388*-0x4+-0x24aa+0x1*0x32cc)]=_0x3da68a['z']/(0x4ca+0xdd1+-0x1298)),_0x1ebc2c){const _0x43ea26=this['getLightAr'+'eaSizes'](_0x882e56);_0x113818[_0x441137+(-0xf59*-0x1+-0x1221+0x2cc)*at['AREA_DATA_'+'WIDTH']+(0x1*-0x20ff+0x189a+0x865)]=_0x43ea26[0x1*-0x2371+-0x264e+-0x57*-0xd9],_0x113818[_0x441137+(-0x2c+-0x2172+0x21a2)*at['AREA_DATA_'+'WIDTH']+(-0x1d96+0x12fb+0xe*0xc2)]=_0x43ea26[-0x1c8b+0x7f6*-0x1+0x2482],_0x113818[_0x441137+(0x1f9e+0x4c1+-0x245b)*at['AREA_DATA_'+'WIDTH']+(0x560*0x2+-0x19b0+0x2*0x779)]=_0x43ea26[-0x405*0x1+0x5db*0x1+0x4e*-0x6],_0x113818[_0x441137+(-0x263f*0x1+-0x655+0x2c98)*at['AREA_DATA_'+'HEIGHT']+(0x1*0xfcf+0xa*0x2e3+0x1*-0x2cad)]=_0x43ea26[0x38b*-0x4+0x14b1+0x7*-0xee],_0x113818[_0x441137+(-0x2366+0x170a+0xc60)*at['AREA_DATA_'+'HEIGHT']+(0x1371+0x1*0x19c1+0x1f7*-0x17)]=_0x43ea26[0x2486+0x71*0x23+0x33f5*-0x1],_0x113818[_0x441137+(0x829*0x1+0x68+-0x88d)*at['AREA_DATA_'+'HEIGHT']+(0x1d57+0x4a*0x65+-0x3a87*0x1)]=_0x43ea26[0x3*-0x4dd+-0x2302+0x319e];}}}const ic=new D(),rc=new D(),ac=new D(),Yd=new De(),k_=-0x1f81+-0x8b*-0x35+-0x11*-0x11a;class U_{constructor(){this['light']=null,this['min']=new D(),this['max']=new D();}}class cu{constructor(_0x14e429){h(this,'clusterTex'+'ture'),(this['device']=_0x14e429,this['name']='Untitled',this['reportCoun'+'t']=0xc2*0xf+-0x1*-0x2218+-0x2d76,this['boundsMin']=new D(),this['boundsMax']=new D(),this['boundsDelt'+'a']=new D(),this['_cells']=new D(-0x1b7*0xe+0x1a56+-0x7*0x55,0x120b+0x1*0x19ef+-0x2bf9,0x1463*-0x1+-0x7*-0x3ca+-0x622),this['_cellsLimi'+'t']=new D(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=-0x84a*-0x2+0xc1e*0x3+0x209*-0x1a,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new U_()),this['lightsBuff'+'er']=new UE(_0x14e429),this['registerUn'+'iforms'](_0x14e429));}set['maxCellLig'+'htCount'](_0xf87eb1){_0xf87eb1!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0xf87eb1,this['_cellsDirt'+'y']=!(-0xad+0x73d+-0x690));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x30c0ba){ic['copy'](_0x30c0ba)['floor'](),this['_cells']['equals'](ic)||(this['_cells']['copy'](ic),this['_cellsLimi'+'t']['copy'](ic)['sub'](D['ONE']),this['_cellsDirt'+'y']=!(0xe95+0xea*0x26+-0x7d*0x65));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x59c286){this['_clusterSk'+'ipId']=_0x59c286['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x59c286['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x59c286['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x59c286['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(0x1f3f*0x1+-0x1f9*0x5+-0x155f),this['_clusterBo'+'undsMinId']=_0x59c286['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(-0x19*0xf2+0xbc1+0xbe4),this['_clusterBo'+'undsDeltaI'+'d']=_0x59c286['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(0x6*-0x45d+0x3*-0x8d1+0x34a4),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x59c286['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(0x5*-0x11f+0x74*0x47+0x21*-0xce),this['_clusterCe'+'llsDotId']=_0x59c286['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0x248a+0x1e*-0x8b+-0x143d),this['_clusterCe'+'llsMaxId']=_0x59c286['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(-0x4*0x107+0x162e+0x45*-0x43);}['updatePara'+'ms'](_0x3a1bd9){_0x3a1bd9&&(this['cells']=_0x3a1bd9['cells'],this['maxCellLig'+'htCount']=_0x3a1bd9['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x3a1bd9['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x3a1bd9['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x3a1bd9['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(0x168f+-0x6a*-0x11+-0x1d98);const _0x13894a=this['_cells']['x'],_0x4c309c=this['_cells']['y'],_0x28bc48=this['_cells']['z'],_0x226bee=_0x13894a*_0x4c309c*_0x28bc48,_0x25f130=this['maxCellLig'+'htCount']*_0x226bee;let _0x152a9a=Math['ceil'](Math['sqrt'](_0x25f130));_0x152a9a=Y['roundUp'](_0x152a9a,this['maxCellLig'+'htCount']);const _0x4979d7=Math['ceil'](_0x25f130/_0x152a9a);w['assert'](_0x152a9a<=k_&&_0x4979d7<=k_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][-0x5de+0x1ac6+-0x53a*0x4]=_0x13894a,this['_clusterCe'+'llsMaxData'][-0x19d5*0x1+0x114f+-0x3b*-0x25]=_0x4c309c,this['_clusterCe'+'llsMaxData'][0x207*0xd+0x1f*0xdf+-0x2*0x1aad]=_0x28bc48,this['_clusterCe'+'llsDotData'][-0x1*-0x24e5+-0x11cc+-0x1*0x1319]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x151d+-0x1*0x17b1+-0x295*-0x1]=_0x13894a*_0x28bc48*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x228d+0x1217+0x1078]=_0x13894a*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x25f130),this['counts']=new Int32Array(_0x226bee),this['_clusterTe'+'xtureSizeD'+'ata'][0x257b+0x1*0x17fc+0x1*-0x3d77]=_0x152a9a,this['_clusterTe'+'xtureSizeD'+'ata'][-0x1*-0x52a+0xbab+-0x10d4]=(-0x1*0x78f+0x1be6+-0x1456)/_0x152a9a,this['_clusterTe'+'xtureSizeD'+'ata'][-0x183d+-0x452+-0x1c91*-0x1]=(0x17c2*0x1+0x17*-0x115+0x1*0x122)/_0x4979d7,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x152a9a,_0x4979d7,Ep,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>0x140b+-0x20c1+0x28b*0x5?0x329*0x2+0x2*-0x6ed+0x788:0xa0+0x11c2+-0x1261),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x35a209=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x3*0xc2f+-0x84d+0x710*-0x4]=this['_cells']['x']/_0x35a209['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x14f9+0xb0f+0x3*-0xaad]=this['_cells']['y']/_0x35a209['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x2*-0x11e7+-0x22db+0x1*0x46ab]=this['_cells']['z']/_0x35a209['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][0x326+0x1bb*-0x6+0x39e*0x2]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][-0x3*-0x15a+-0x26b7+0x105*0x22]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][0x3*0x506+0x193a+-0x1b*0x17e]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][0x4*-0x349+-0x1e6d+0x2b91]=_0x35a209['x'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x2612+-0x7ee+0x2e01]=_0x35a209['y'],this['_clusterBo'+'undsDeltaD'+'ata'][0x140a+0x257*-0x4+0x2ab*-0x4]=_0x35a209['z'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']);}['evalLightC'+'ellMinMax'](_0x4c8a54,_0x5a27d5,_0x52c96f){_0x5a27d5['copy'](_0x4c8a54['min']),_0x5a27d5['sub'](this['boundsMin']),_0x5a27d5['div'](this['boundsDelt'+'a']),_0x5a27d5['mul2'](_0x5a27d5,this['cells']),_0x5a27d5['floor'](),_0x52c96f['copy'](_0x4c8a54['max']),_0x52c96f['sub'](this['boundsMin']),_0x52c96f['div'](this['boundsDelt'+'a']),_0x52c96f['mul2'](_0x52c96f,this['cells']),_0x52c96f['ceil'](),_0x5a27d5['max'](D['ZERO']),_0x52c96f['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x16be09){const _0x5c4706=this['lightsBuff'+'er']['maxLights'],_0x28459e=this['_usedLight'+'s'];let _0x5d7133=-0x18d7*0x1+0x18aa+0x2e;_0x16be09['forEach'](_0x230d45=>{const _0xc99700=!!(_0x230d45['mask']&(Ss|di)),_0x2bf4bc=_0x230d45['type']===Ze&&_0x230d45['_outerCone'+'Angle']===0x1a8c+0x341*0x8+0xa84*-0x5;if(_0x230d45['enabled']&&_0x230d45['type']!==ve&&_0x230d45['visibleThi'+'sFrame']&&_0x230d45['intensity']>0x2200+-0x237e+-0x17e*-0x1&&_0xc99700&&!_0x2bf4bc){if(_0x5d7133<_0x5c4706){let _0x25b027;_0x5d7133<_0x28459e['length']?_0x25b027=_0x28459e[_0x5d7133]:(_0x25b027=new U_(),_0x28459e['push'](_0x25b027)),_0x25b027['light']=_0x230d45,_0x230d45['getBoundin'+'gBox'](Yd),_0x25b027['min']['copy'](Yd['getMin']()),_0x25b027['max']['copy'](Yd['getMax']()),_0x5d7133++;}else w['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x5c4706-(-0x252e+-0x614*-0x1+0x1f1b*0x1))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x28459e['length']=_0x5d7133;}['evaluateBo'+'unds'](){const _0x421502=this['_usedLight'+'s'],_0x1a41ca=this['boundsMin'],_0x4cafd4=this['boundsMax'];if(_0x421502['length']>0x1c79+0x2*0x7af+-0x1f*0x16a){_0x1a41ca['copy'](_0x421502[0x22fa+0x1eb9+-0x41b2]['min']),_0x4cafd4['copy'](_0x421502[-0xcc1*0x2+-0x2b*-0xde+-0xc9*0xf]['max']);for(let _0x1858fb=-0x16e1+-0x20cf+0x37b2*0x1;_0x1858fb<_0x421502['length'];_0x1858fb++)_0x1a41ca['min'](_0x421502[_0x1858fb]['min']),_0x4cafd4['max'](_0x421502[_0x1858fb]['max']);}else _0x1a41ca['set'](-0x213a+-0x1e9a+0x662*0xa,-0x57e+0x2297+-0x1d19,-0x3*-0x1ed+-0x84c*0x4+0x1b69),_0x4cafd4['set'](0x1846*0x1+-0x2*-0x1027+-0x3893,-0x135*0x17+-0x7*-0x3be+0x192,0x240+-0xb5+0xc5*-0x2);this['boundsDelt'+'a']['sub2'](_0x4cafd4,_0x1a41ca),this['lightsBuff'+'er']['setBounds'](_0x1a41ca,this['boundsDelt'+'a']);}['updateClus'+'ters'](_0x4e9cf3){this['counts']['fill'](-0xc05*-0x1+-0x6*-0x2a8+0x1a5*-0x11),this['clusters']['fill'](-0x421+-0x1*-0x1e2+0x5*0x73),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x4e9cf3?_0x4e9cf3['areaLights'+'Enabled']:!(-0x1079+0x2027*-0x1+0x30a1*0x1);const _0x4c88df=this['_cells']['x'],_0x479b90=this['_cells']['z'],_0x16659d=this['counts'],_0x351842=this['_maxCellLi'+'ghtCount'],_0x356b25=this['clusters'],_0x5e78ec=this['maxCellLig'+'htCount'];let _0x23c4e3=!(-0x105f+-0x1*-0x2611+0x269*-0x9);const _0x4f08d0=this['_usedLight'+'s'];for(let _0x235c93=0x11*0x111+-0xc*-0x230+0x470*-0xa;_0x235c93<_0x4f08d0['length'];_0x235c93++){const _0x1841ec=_0x4f08d0[_0x235c93],_0x654cbc=_0x1841ec['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x654cbc,_0x235c93),this['evalLightC'+'ellMinMax'](_0x1841ec,rc,ac);const _0x436549=rc['x'],_0x570e8f=ac['x'],_0x583b36=rc['y'],_0x109099=ac['y'],_0x446ca5=rc['z'],_0x33e22e=ac['z'];for(let _0x5e245b=_0x436549;_0x5e245b<=_0x570e8f;_0x5e245b++)for(let _0x6e9b70=_0x446ca5;_0x6e9b70<=_0x33e22e;_0x6e9b70++)for(let _0x31291d=_0x583b36;_0x31291d<=_0x109099;_0x31291d++){const _0x21ceaa=_0x5e245b+_0x4c88df*(_0x6e9b70+_0x31291d*_0x479b90),_0x3f393f=_0x16659d[_0x21ceaa];_0x3f393f<_0x351842?(_0x356b25[_0x5e78ec*_0x21ceaa+_0x3f393f]=_0x235c93,_0x16659d[_0x21ceaa]=_0x3f393f+(0xc*-0x1cb+0x16e0+-0x15b*0x1)):_0x23c4e3=!(-0x9e1+-0x55f*-0x3+0x4*-0x18f);}}_0x23c4e3&&this['reportCoun'+'t']<-0x1*0x113b+0xc7f*0x1+0x4c1&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===0x4*-0x931+-0xae7+0xd*0x3ab?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x4e6a12,_0x358af7=null){this['updatePara'+'ms'](_0x358af7),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x4e6a12),this['evaluateBo'+'unds'](),this['updateClus'+'ters'](_0x358af7),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const B_=-0x8*0x2ce+-0x17dd+0x1*0x2e4f+0.39996322972865306,Nl={'circlePoint'(_0x3b31cb){const _0x53df69=Math['sqrt'](Math['random']()),_0x55b543=Math['random']()*(-0x11*0x129+-0x1edc+-0x3297*-0x1)*Math['PI'];_0x3b31cb['x']=_0x53df69*Math['cos'](_0x55b543),_0x3b31cb['y']=_0x53df69*Math['sin'](_0x55b543);},'circlePointDeterministic'(_0x12482d,_0xc2f97b,_0x106f75){const _0x222cb7=_0xc2f97b*B_,_0x425320=Math['sqrt'](_0xc2f97b)/Math['sqrt'](_0x106f75);_0x12482d['x']=_0x425320*Math['cos'](_0x222cb7),_0x12482d['y']=_0x425320*Math['sin'](_0x222cb7);},'spherePointDeterministic'(_0x2a03c7,_0x309788,_0x413bc4,_0x58d163=-0x6fb+-0x3*0x476+0xd*0x191,_0x1069b2=-0x1*0x1e01+0x951+0x14b1*0x1){_0x58d163=0xec6+0x2232+0x9cb*-0x5-(0x15b4+0x1*0x1edf+-0x3491)*_0x58d163,_0x1069b2=-0x1e5e+0x39*0x29+0x153e*0x1-(-0x5dc+0x2*0xa53+-0xec8)*_0x1069b2;const _0x16297a=Y['lerp'](_0x58d163,_0x1069b2,_0x309788/_0x413bc4),_0x52a4f0=Math['sqrt'](0x1*0x2b1+-0xda9+0x1*0xaf9-_0x16297a*_0x16297a),_0x17fc02=B_*_0x309788;_0x2a03c7['x']=Math['cos'](_0x17fc02)*_0x52a4f0,_0x2a03c7['y']=_0x16297a,_0x2a03c7['z']=Math['sin'](_0x17fc02)*_0x52a4f0;},'radicalInverse'(_0x48f7aa){let _0x3878b3=(_0x48f7aa<<-0x7*-0xa6+-0x25f8+0xb2a*0x3|_0x48f7aa>>>-0x826+0xc0e*-0x1+0x1444)>>>0x5*0x712+-0x4*-0x26+-0x23f2;return _0x3878b3=((_0x3878b3&0x5b0d8e48+-0xa53bcd2c+0x9f839439)<<0x1c*-0xa4+0x13a1+-0x12*0x18|(_0x3878b3&0x3ee5fbd9*-0x2+-0x3*-0x1eff9fd7+0xcb77c2d7)>>>0xa*-0x18a+0xf9e+0x13*-0x3)>>>0x417+-0x118+-0x2ff,_0x3878b3=((_0x3878b3&-0x1*0x160eec06+-0x19d9cdb6*0x3+-0x96cf885b*-0x1)<<0x113*0x9+-0x1*-0x1475+0x101*-0x1e|(_0x3878b3&-0xf9f5bb*-0x15d+-0xd*-0x6b1289f+-0xdef64336)>>>-0x16df+0xe71*-0x1+0x1*0x2552)>>>0x604+0x1003+-0x1607*0x1,_0x3878b3=((_0x3878b3&0xb52edab+0xdf7942d+-0xa3b72c9)<<-0x25fa*-0x1+0x4f3*-0x5+-0xd37|(_0x3878b3&-0xeb25d356+-0xc9fcc*0x65b+0x22c5259ca)>>>-0x2*0xcb2+-0x7b*0x4d+0xc7b*0x5)>>>-0x19b9+0xad2+-0x6d*-0x23,_0x3878b3=((_0x3878b3&0x183c9*-0x148+-0x5*-0x6106ed+0x10ab7e6)<<0x1f65+-0x18eb+-0x672|(_0x3878b3&-0x9239eb0d+-0x88536f9+-0x46*-0x5da8421)>>>0x1e34+0x793*0x1+-0x3*0xc95)>>>-0x27d*0xc+-0x45d*0x5+0x33ad,_0x3878b3*(0x18a7+0xed+-0x665*0x4+2.3283064365386963e-10);}},BE={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP','xy':'unpackNorm'+'alXY','xyz':'unpackNorm'+'alXYZ'},zE={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Tr{static['decodeFunc'](_0x39dc32){return BE[_0x39dc32]??'decodeGamm'+'a';}static['encodeFunc'](_0x2595fa){return zE[_0x2595fa]??'encodeGamm'+'a';}}const z_=_0x1f2ea7=>{switch(_0x1f2ea7){case tu:return'Cubemap';case Gx:return'Octahedral';default:return'Equirect';}},nc=(_0x4d3af2,_0x25f604,_0x5a4a83)=>{if(_0x4d3af2<=-0xc1f*0x1+-0x2d*0xd9+0x3244)_0x25f604[_0x5a4a83+(0xbd+0xc60+-0xd1d)]=0x1*-0x1f85+0x13e4*-0x1+0x3369,_0x25f604[_0x5a4a83+(-0x1c8c+-0x2*-0x2bf+0x170f)]=-0x36c*0x8+-0x25f1+-0x4151*-0x1,_0x25f604[_0x5a4a83+(0x14e3*-0x1+-0x6b1+-0x282*-0xb)]=-0xd70+0x83a*-0x1+0x15aa,_0x25f604[_0x5a4a83+(0x2436+-0x1862+-0xbd1)]=-0x2*-0x569+-0x2f6*0x3+-0x1f0;else{if(_0x4d3af2>=0x122a+0x1a7+-0x13d0)_0x25f604[_0x5a4a83+(-0x14cc+0x89f*0x2+0x38e)]=-0x1*-0x68b+-0x220b+-0x1c7f*-0x1,_0x25f604[_0x5a4a83+(0x22cd+-0x36b*0x5+-0x11b5*0x1)]=-0x1569+-0x7e3+0x1d4c,_0x25f604[_0x5a4a83+(0x13a0+0xbc0+-0x5*0x646)]=-0x1*-0x1e3b+0x153*0xd+-0x2f72*0x1,_0x25f604[_0x5a4a83+(0xb*-0x1a+0x14aa+0x3*-0x683)]=-0x3*0x5c2+-0x1a66+0x2bac;else{let _0x196e12=(0x1a00+-0x21cf+0x2*0x3e8)*_0x4d3af2%(-0x114e+-0x608+-0xef*-0x19),_0x2f33a3=(-0x425*-0x5+-0x11f9+0x1c1*-0x1)*_0x4d3af2%(0xb8+-0xfe*-0x26+-0x266b),_0x3dd4a9=(-0x2630*0x4+0x1d480*0x1+-0x3dbf)*_0x4d3af2%(0x12*-0xbd+0x1c*0x10f+0x345*-0x5);const _0x5548b6=(-0x25*0x7415b+-0xf3f3*0x183+0x1*0x37a3d7f)*_0x4d3af2%(-0x1*-0x6b+-0x6*-0x3fb+-0x184c);_0x196e12-=_0x2f33a3/(-0x24b5+0x15*0x1bb+0x15d),_0x2f33a3-=_0x3dd4a9/(0x3*-0x55e+-0xc36*-0x1+-0x8b*-0x9),_0x3dd4a9-=_0x5548b6/(-0x1a*0x12b+-0x1*-0x15f1+0x96c),_0x25f604[_0x5a4a83+(-0x1*-0x589+-0x12b6+0x1*0xd2d)]=Math['min'](-0x2*-0xe08+0x23c4+0x3ed5*-0x1,Math['floor'](_0x196e12*(-0x1a06+-0xa3+-0x49*-0x61))),_0x25f604[_0x5a4a83+(0x41*-0x12+-0x1b4b+-0x1fde*-0x1)]=Math['min'](-0x7c*0xc+-0x15ea+0x1cb9,Math['floor'](_0x2f33a3*(-0x1742+-0x7f*-0x5+0x15c7))),_0x25f604[_0x5a4a83+(-0x73f+-0xa26+0x1167)]=Math['min'](-0x145f+0x3*0x219+-0x11*-0xe3,Math['floor'](_0x3dd4a9*(-0x2113+0x3*0x8a1+-0x83*-0x10))),_0x25f604[_0x5a4a83+(0x2654+0x682*0x3+0x1*-0x39d7)]=Math['min'](-0x5*-0x7bb+0x19e8+-0xfe4*0x4,Math['floor'](_0x5548b6*(0x26a3+0x3*0x17e+0x1*-0x2a1d)));}}},VE=_0x71f6ad=>{const _0x2ba7e6=_0x71f6ad['length'],_0x2aca5e=Math['min'](_0x2ba7e6,-0x13fa+-0x1a4d+0x3047),_0x3dba7c=Math['ceil'](_0x2ba7e6/_0x2aca5e),_0x308585=new Uint8Array(_0x2aca5e*_0x3dba7c*(0x3f5*-0x9+0x1ef+0x13*0x1c6));let _0x1a83cb=-0x7aa+-0x1*-0xcaf+-0x505;for(let _0x34709c=0x803*0x3+0x12d+-0xe*0x1cd;_0x34709c<_0x2ba7e6;_0x34709c+=-0x1c03+0x1465+0x7a2)nc(_0x71f6ad[_0x34709c+(0xd*0x1ff+-0x22a0+0x8ad)]*(0x24b*-0xd+-0x5f2*-0x4+0x607+0.5)+(0xbf7+-0x1*0x1177+0x580+0.5),_0x308585,_0x1a83cb+(-0x163+-0xa7e+0xbe1)),nc(_0x71f6ad[_0x34709c+(0xaae*-0x2+-0x7*-0x515+0x11*-0xd6)]*(0x6f*0x11+0x476*-0x1+0x95*-0x5+0.5)+(0x18bf+-0x23b7+0x57c*0x2+0.5),_0x308585,_0x1a83cb+(0x19d8*0x1+-0x1a75+-0x17*-0x7)),nc(_0x71f6ad[_0x34709c+(-0x88*0x14+0x175f+0x43f*-0x3)]*(-0xabb*-0x1+0x1*-0xe7d+0x1e1*0x2+0.5)+(-0x56*0x4a+0x512+0x13ca+0.5),_0x308585,_0x1a83cb+(-0x1*-0x1697+-0x227d+0xbee)),nc(_0x71f6ad[_0x34709c+(0x266d+0x1777*0x1+-0x3de1)]/(0xf*-0xf3+0x2*0x52+0xda1),_0x308585,_0x1a83cb+(-0x685+0x7*-0x109+0x1*0xdd0)),_0x1a83cb+=-0x3*-0x6ed+0xf93+-0x244a;return{'width':_0x2aca5e,'height':_0x3dba7c,'data':_0x308585};},GE=(_0x31b9f2,_0x408722,_0x250512,_0xb9bdd6)=>{const _0x341688=_0x250512*(0x351+0xf3a+-0x49*0x41)*Math['PI'],_0x30cb3d=Math['pow'](0xeaf*0x1+-0x1a0c+0x61*0x1e-_0x408722,(-0x16bc+-0x2*0x167+0x1f7*0xd)/(_0xb9bdd6+(0x53b*-0x7+0x24dd+-0x9*0x7))),_0x11b8be=Math['sqrt'](0x1*0x2501+-0x699+0x1*-0x1e67-_0x30cb3d*_0x30cb3d);_0x31b9f2['set'](Math['cos'](_0x341688)*_0x11b8be,Math['sin'](_0x341688)*_0x11b8be,_0x30cb3d)['normalize']();},HE=(_0x256fdf,_0x1d49c4,_0xd40ce1)=>{const _0x5868aa=_0xd40ce1*(0x3e9+0xf60+-0x1347)*Math['PI'],_0x4debd1=Math['sqrt'](-0x1a89+-0x121c+0x2ca6-_0x1d49c4),_0x4b4841=Math['sqrt'](_0x1d49c4);_0x256fdf['set'](Math['cos'](_0x5868aa)*_0x4b4841,Math['sin'](_0x5868aa)*_0x4b4841,_0x4debd1)['normalize']();},WE=(_0x4068cb,_0x314c36,_0x47613a,_0x21b7a7)=>{const _0x1ae56c=_0x47613a*(0x5f*-0x59+-0x1*-0x149f+0xc6a)*Math['PI'],_0x4e8bbc=Math['sqrt']((0xdf2+0x25cc+-0x33bd*0x1-_0x314c36)/(-0x28d+0x1*-0x77c+0xa0a+(_0x21b7a7*_0x21b7a7-(0x313*-0x5+0xb56*0x2+0x4*-0x1d3))*_0x314c36)),_0x482b71=Math['sqrt'](0x2404+0x5b5+0x42c*-0xa-_0x4e8bbc*_0x4e8bbc);_0x4068cb['set'](Math['cos'](_0x1ae56c)*_0x482b71,Math['sin'](_0x1ae56c)*_0x482b71,_0x4e8bbc)['normalize']();},$E=(_0x39b26a,_0x54858a)=>{const _0x69df16=_0x39b26a*_0x54858a,_0x357126=_0x54858a/(0x3c1+0x169*-0x7+0x61f-_0x39b26a*_0x39b26a+_0x69df16*_0x69df16);return _0x357126*_0x357126*((0x2*-0xdbd+0xb12+0x1069)/Math['PI']);},XE=(_0x2f9b78,_0x1ac5ad)=>{const _0x221a1a=new D(),_0x16db3b=[];for(let _0x551dd7=0x32b*-0x1+-0x172b+0x1a56;_0x551dd7<_0x2f9b78;++_0x551dd7)GE(_0x221a1a,_0x551dd7/_0x2f9b78,Nl['radicalInv'+'erse'](_0x551dd7),_0x1ac5ad),_0x16db3b['push'](_0x221a1a['x'],_0x221a1a['y'],_0x221a1a['z'],0x8e*-0xe+-0xd61+0x1525);return _0x16db3b;},qE=(_0x588c18,_0xc8263a)=>{const _0x5ba96f=_0xc8263a/_0x588c18,_0x1aadef=new D(),_0x50371a=[];for(let _0x19d903=0x15b*-0x1+-0x2343+-0x6d*-0x56;_0x19d903<_0x588c18;++_0x19d903){HE(_0x1aadef,_0x19d903/_0x588c18,Nl['radicalInv'+'erse'](_0x19d903));const _0x4d8813=_0x1aadef['z']/Math['PI'],_0x28b899=(-0xc9f+0x163b+-0x99c+0.5)*Math['log2'](_0x5ba96f/_0x4d8813);_0x50371a['push'](_0x1aadef['x'],_0x1aadef['y'],_0x1aadef['z'],_0x28b899);}return _0x50371a;},jE={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},YE=(_0x1e92bb,_0x29f28f)=>{const _0x403722=jE[_0x1e92bb];return _0x403722&&_0x403722[_0x29f28f]||_0x1e92bb;},KE=(_0xa1ad05,_0x566ed2,_0x114dde)=>{const _0x29c6aa=_0x114dde/_0xa1ad05,_0x5777d2=-0x2*-0x9fa+-0x19ac+0x5b9*0x1-Math['log2'](_0x566ed2)/(0x1302+-0x65b+-0x10d*0xc),_0x1558fc=_0x5777d2*_0x5777d2,_0x52163c=new D(),_0x1fe35f=new D(),_0x3c7d94=new D(-0xf0b*-0x2+0x2522*-0x1+0x70c,0x1ef8*-0x1+-0x1*0x77b+0x2673,-0x17bf+-0x14*-0x6b+0xc5*0x14),_0x1dc185=[],_0x1c3220=YE(_0xa1ad05,_0x566ed2);for(let _0xc45048=-0x2673+0xcef+0x1984;_0xc45048<_0x1c3220;++_0xc45048){WE(_0x52163c,_0xc45048/_0x1c3220,Nl['radicalInv'+'erse'](_0xc45048),_0x1558fc);const _0x32edb7=_0x52163c['z'];if(_0x1fe35f['set'](_0x52163c['x'],_0x52163c['y'],_0x52163c['z'])['mulScalar']((-0x19f6+-0x20bf+0x3ab7)*_0x32edb7)['sub'](_0x3c7d94),_0x1fe35f['z']>-0x22be*-0x1+0x12ec+-0x1ad5*0x2){const _0x3c9662=$E(Math['min'](-0x65*-0x2e+-0x12a0+0x1*0x7b,_0x32edb7),_0x1558fc)/(0x116d+0x2*-0xd72+-0x97b*-0x1)+(-0x1270+0x2194+-0xf24+0.001),_0x4c26c8=(-0x24d0+0x1*0x5bf+0x2d3*0xb+0.5)*Math['log2'](_0x29c6aa/_0x3c9662);_0x1dc185['push'](_0x1fe35f['x'],_0x1fe35f['y'],_0x1fe35f['z'],_0x4c26c8);}}for(;_0x1dc185['length']<_0xa1ad05*(0x1*0xd8a+-0xcf3+-0x3*0x31);)_0x1dc185['push'](-0xd3*0x11+0x53*-0x7+0x1048*0x1,0x1965*0x1+0x50*-0x3e+-0x605,0x1d*-0x6a+0x3*0x797+-0xac3,-0x5e7*0x3+0x264b+-0x2*0xa4b);return _0x1dc185;},ZE=(_0x27c6f9,_0x11bd6c,_0x511a6e)=>{const _0x48cbb1=VE(_0x511a6e);return new _e(_0x27c6f9,{'name':_0x11bd6c,'width':_0x48cbb1['width'],'height':_0x48cbb1['height'],'mipmaps':!(-0x2*-0x10bd+0x226e+-0x43e7),'minFilter':Te,'magFilter':Te,'levels':[_0x48cbb1['data']]});};class xv{constructor(_0x5d3ebe=!(-0x4f+0x15c9+-0x157a*0x1)){h(this,'map',new Map()),this['destroyCon'+'tent']=_0x5d3ebe;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x4c67ac,_0x17c66c)=>{_0x4c67ac['destroy']();});}['get'](_0x23f999,_0x523bd8){if(!this['map']['has'](_0x23f999)){const _0x4204a3=_0x523bd8();return this['map']['set'](_0x23f999,_0x4204a3),_0x4204a3;}return this['map']['get'](_0x23f999);}}const QE=new xv(!(0xc2c+0x266*0x6+-0x20b*0xd)),JE=new Kt(),dm=(_0x3d1539,_0x154fb8,_0x53ceb8)=>JE['get'](_0x3d1539,()=>new xv())['get'](_0x154fb8,()=>ZE(_0x3d1539,_0x154fb8,QE['get'](_0x154fb8,_0x53ceb8))),eb=(_0x4ee787,_0x4412d3,_0x37d3b5)=>{const _0x4da427='lambert-sa'+'mples-'+_0x4412d3+'-'+_0x37d3b5;return dm(_0x4ee787,_0x4da427,()=>qE(_0x4412d3,_0x37d3b5));},tb=(_0x4f4ebe,_0xf128b3,_0x5d1b78)=>{const _0x21b39c='phong-samp'+'les-'+_0xf128b3+'-'+_0x5d1b78;return dm(_0x4f4ebe,_0x21b39c,()=>XE(_0xf128b3,_0x5d1b78));},sb=(_0x176d21,_0x10452d,_0x4f6ac7,_0x23b6f8)=>{const _0x37cf67='ggx-sample'+'s-'+_0x10452d+'-'+_0x4f6ac7+'-'+_0x23b6f8;return dm(_0x176d21,_0x37cf67,()=>KE(_0x10452d,_0x4f6ac7,_0x23b6f8));};function vi(_0x4f92bf,_0x5a7bed,_0x530694={}){var _0xe5ab0a,_0x2c156a;w['assert'](_0x4f92bf instanceof _e&&_0x5a7bed instanceof _e,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x3ad582=_0x530694['seamPixels']??0x37a*0xa+-0x169b*-0x1+-0x395f,_0x41ac04=(((_0xe5ab0a=_0x530694['rect'])==null?void(-0x24e+0xed4+-0xc86):_0xe5ab0a['z'])??_0x5a7bed['width'])-_0x3ad582*(-0x121a+-0x1*0xd3f+0x1f5b),_0x153b6a=(((_0x2c156a=_0x530694['rect'])==null?void(0xce5*-0x3+0x1217*0x1+-0x1498*-0x1):_0x2c156a['w'])??_0x5a7bed['height'])-_0x3ad582*(-0x26de+0xca*0x27+0x81a);if(_0x41ac04<0x17cd+-0x13*0xcb+0x8bb*-0x1||_0x153b6a<0x8e6+0x971*0x4+0x955*-0x5)return!(-0x30*0x43+0x1c8+0xac9);const _0x2c02b7={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x51dc1a=_0x530694['hasOwnProp'+'erty']('specularPo'+'wer')?_0x530694['specularPo'+'wer']:-0x5*-0x4fe+0x1f4a+-0x79*0x77,_0x1b121d=_0x530694['hasOwnProp'+'erty']('face')?_0x530694['face']:null,_0x4e5498=_0x530694['hasOwnProp'+'erty']('distributi'+'on')?_0x530694['distributi'+'on']:_0x51dc1a===0x1*-0x407+-0x25d8+-0x29e0*-0x1?'none':'phong',_0x1eeefb=_0x2c02b7[_0x4e5498]||'reproject',_0x4c1172=_0x1eeefb['startsWith']('prefilterS'+'amples'),_0x4c34a1=Tr['decodeFunc'](_0x4f92bf['encoding']),_0x46280e=Tr['encodeFunc'](_0x5a7bed['encoding']),_0x1a3452='sample'+z_(_0x4f92bf['projection']),_0x274b5e='getDirecti'+'on'+z_(_0x5a7bed['projection']),_0x3f0133=_0x530694['hasOwnProp'+'erty']('numSamples')?_0x530694['numSamples']:0x1*-0x3bb+-0x1b*0x107+0x2378,_0x5488e9='ReprojectS'+'hader:'+_0x1eeefb+'_'+_0x4c34a1+'_'+_0x46280e+'_'+_0x1a3452+'_'+_0x274b5e+'_'+_0x3f0133,_0x4d36ac=_0x4f92bf['device'];let _0x2cc855=Hn(_0x4d36ac)['getCachedS'+'hader'](_0x5488e9);if(!_0x2cc855){const _0x3660cf=new Map();_0x4c1172&&_0x3660cf['set']('USE_SAMPLE'+'S_TEX',''),_0x4f92bf['cubemap']&&_0x3660cf['set']('CUBEMAP_SO'+'URCE',''),_0x3660cf['set']('{PROCESS_F'+'UNC}',_0x1eeefb),_0x3660cf['set']('{DECODE_FU'+'NC}',_0x4c34a1),_0x3660cf['set']('{ENCODE_FU'+'NC}',_0x46280e),_0x3660cf['set']('{SOURCE_FU'+'NC}',_0x1a3452),_0x3660cf['set']('{TARGET_FU'+'NC}',_0x274b5e),_0x3660cf['set']('{NUM_SAMPL'+'ES}',_0x3f0133),_0x3660cf['set']('{NUM_SAMPL'+'ES_SQRT}',Math['round'](Math['sqrt'](_0x3f0133))['toFixed'](-0x9d5+0x619*-0x2+0x1608));const _0x17e88b=_0x4d36ac['isWebGPU'],_0x46d74f=Pe['get'](_0x4d36ac,_0x17e88b?it:Fe),_0x28b8fe=new Map();_0x28b8fe['set']('decodePS',_0x46d74f['get']('decodePS')),_0x28b8fe['set']('encodePS',_0x46d74f['get']('encodePS')),_0x2cc855=$t['createShad'+'er'](_0x4d36ac,{'uniqueName':_0x5488e9,'attributes':{'vertex_position':Me},'vertexChunk':'reprojectV'+'S','fragmentChunk':'reprojectP'+'S','fragmentIncludes':_0x28b8fe,'fragmentDefines':_0x3660cf});}Q['pushGpuMar'+'ker'](_0x4d36ac,'ReprojectT'+'exture'),_0x4d36ac['setBlendSt'+'ate'](pt['NOBLEND']);const _0x31c5d5=_0x4d36ac['scope']['resolve'](_0x4f92bf['cubemap']?'sourceCube':'sourceTex');w['assert'](_0x31c5d5),_0x31c5d5['setValue'](_0x4f92bf);const _0x42c315=_0x4d36ac['scope']['resolve']('params'),_0x225063=_0x4d36ac['scope']['resolve']('uvMod');_0x3ad582>-0x9*-0x49+0xcfe+-0x1*0xf8f?_0x225063['setValue']([(_0x41ac04+_0x3ad582*(-0x18b*-0xa+0x1389+-0x22f5))/_0x41ac04,(_0x153b6a+_0x3ad582*(-0x212e+-0xa*-0x305+0x2fe))/_0x153b6a,-_0x3ad582/_0x41ac04,-_0x3ad582/_0x153b6a]):_0x225063['setValue']([-0x251d+-0x1e79+0x4397,0x19d3+0x1*0x2309+-0x3cdb,0x7*0x1d3+0x1589+-0x224e,0x5d9+0x14d5+-0xd57*0x2]);const _0xb7d27d=[-0x2c*-0x2f+0x2215+-0x2a29,_0x5a7bed['width']*_0x5a7bed['height']*(_0x5a7bed['cubemap']?-0x1*-0xc5b+0x1*-0x202a+0x13d5:-0x259a+0x1aec+0xaaf),_0x4f92bf['width']*_0x4f92bf['height']*(_0x4f92bf['cubemap']?-0x2f*-0x67+-0x180e+0x52b:-0x1fc6+0xee8+-0x1*-0x10df)];if(_0x4c1172){const _0x563a56=_0x4f92bf['width']*_0x4f92bf['height']*(_0x4f92bf['cubemap']?-0x1*-0x895+-0x6a8*0x1+0x1e7*-0x1:0x20b9+-0x9*-0x305+-0x3be5),_0x394994=_0x4e5498==='ggx'?sb(_0x4d36ac,_0x3f0133,_0x51dc1a,_0x563a56):_0x4e5498==='lambert'?eb(_0x4d36ac,_0x3f0133,_0x563a56):tb(_0x4d36ac,_0x3f0133,_0x51dc1a);_0x4d36ac['scope']['resolve']('samplesTex')['setValue'](_0x394994),_0x4d36ac['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(-0x1558+0x1dc0+-0xef*0x9)/_0x394994['width'],(-0x1c*-0x127+0x1*-0x1e28+-0x21b)/_0x394994['height']]);}for(let _0x3bae1b=0x3e2+0x65*0x60+-0x29c2;_0x3bae1b<(_0x5a7bed['cubemap']?0xa41+-0x10*-0x13a+-0x1ddb*0x1:0x92c+-0x1*0x1c4b+0x1320);_0x3bae1b++)if(_0x1b121d===null||_0x3bae1b===_0x1b121d){const _0x1dc18e=new gt({'colorBuffer':_0x5a7bed,'face':_0x3bae1b,'depth':!(0xa3a+-0x4*0x69d+0x569*0x3),'flipY':_0x4d36ac['isWebGPU']});_0xb7d27d[-0x2*-0x110f+0x5*-0x227+-0x175b]=_0x3bae1b,_0x42c315['setValue'](_0xb7d27d),Ar(_0x4d36ac,_0x1dc18e,_0x2cc855,_0x530694==null?void(0x22b3+-0x8d0+-0x19e3):_0x530694['rect']),_0x1dc18e['destroy']();}return Q['popGpuMark'+'er'](_0x4d36ac),!(0x164e+-0x237e+-0x4*-0x34c);}const Kd=(_0x2e2a2f,_0x38d6b2=-0x3*0xac0+0x1*0x59f+-0x191*-0x11)=>-0xad*0x1d+0xc79*-0x1+0x2013+Math['floor'](Math['log2'](Math['max'](_0x2e2a2f,_0x38d6b2))),ib=_0x275c2c=>_0x275c2c['textureHal'+'fFloatRend'+'erable'],rb=_0x18a0f2=>_0x18a0f2['textureFlo'+'atRenderab'+'le'],ab=_0x26b44a=>ib(_0x26b44a)?nt:rb(_0x26b44a)?Xt:Ne,nb=_0x3a5788=>Ne,ob=(_0x34e7cc,_0x29d053,_0x4038d4,_0x324203)=>new _e(_0x34e7cc,{'name':'lighting-'+_0x29d053,'cubemap':!(-0x295*0x2+0x164d+-0x6b*0x29),'width':_0x29d053,'height':_0x29d053,'format':_0x4038d4,'type':Qo,'addressU':ue,'addressV':ue,'mipmaps':!(-0x4ea+-0x8e1+0x373*0x4)});class Tv{static['generateSk'+'yboxCubema'+'p'](_0x485afb,_0x450534){const _0xae745d=_0x485afb['device'];Q['pushGpuMar'+'ker'](_0xae745d,'genSkyboxC'+'ubemap');const _0x2a6807=ob(_0xae745d,_0x450534||(_0x485afb['cubemap']?_0x485afb['width']:_0x485afb['width']/(0x5*0x69f+0x1085*-0x1+0x15*-0xca)),Ne);return vi(_0x485afb,_0x2a6807,{'numSamples':0x400}),Q['popGpuMark'+'er'](_0xae745d),_0x2a6807;}static['generateLi'+'ghtingSour'+'ce'](_0x18cb59,_0x170057){const _0x25ce4d=_0x18cb59['device'];Q['pushGpuMar'+'ker'](_0x25ce4d,'genLightin'+'gSource');const _0x41faff=ab(_0x25ce4d),_0x3e5995=(_0x170057==null?void(-0x156+0x1*0x3b+0x11b*0x1):_0x170057['target'])||new _e(_0x25ce4d,{'name':'lighting-s'+'ource','cubemap':!(0x1672+-0x2496+-0x4*-0x389),'width':(_0x170057==null?void(0x5*-0x18c+0x70b*0x4+-0x10*0x147):_0x170057['size'])||-0x1901*0x1+-0xe19+0x279a,'height':(_0x170057==null?void(-0xec3+0xc09+0x1*0x2ba):_0x170057['size'])||-0xd*0x11+-0xe2a+0xf87,'format':_0x41faff,'type':_0x41faff===Ne?Qo:Ds,'addressU':ue,'addressV':ue,'mipmaps':!(-0x761*-0x5+-0x9f9*-0x3+-0x42d0)});return vi(_0x18cb59,_0x3e5995,{'numSamples':_0x18cb59['mipmaps']?-0x45*-0x4b+0x4*-0x789+0x9ee:-0xe*-0xe9+-0x2f1+-0x5cd}),Q['popGpuMark'+'er'](_0x25ce4d),_0x3e5995;}static['generateAt'+'las'](_0x4a40d3,_0x5cc876){const _0x4e4d9a=_0x4a40d3['device'],_0x190dec=nb();Q['pushGpuMar'+'ker'](_0x4e4d9a,'genAtlas');const _0x37a2a7=(_0x5cc876==null?void(0x23f3+-0x2581*-0x1+-0x3*0x187c):_0x5cc876['target'])||new _e(_0x4e4d9a,{'name':'envAtlas','width':(_0x5cc876==null?void(0x1c42+0x1*0xbea+-0x282c*0x1):_0x5cc876['size'])||0xf3e+0xe3*-0x13+0x39b,'height':(_0x5cc876==null?void(0x1561+0x1*-0x1ab7+0x2*0x2ab):_0x5cc876['size'])||-0x5d0*-0x3+-0x1002+0x92,'format':_0x190dec,'type':Qo,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(-0x2d7*-0x7+0x1*0x1a89+0x1*-0x2e69)});Q['pushGpuMar'+'ker'](_0x4e4d9a,'mipmaps');const _0x53a0b8=_0x37a2a7['width']/(-0x4*-0x19b+0x227d+-0x7*0x58f),_0xb974b2=new re(0x742*0x5+0x2354+0x1*-0x479e,0x112c+-0x1fc3+0xe97,(0x13*-0x16a+0xa*0x39e+-0x74e)*_0x53a0b8,(0x2139+-0x811+-0x1*0x1828)*_0x53a0b8),_0x392043=Kd(-0x1*0x2701+-0x2315*0x1+-0x2*-0x258b)-Kd(-0x12f+0x225c+-0xd*0x28d);for(let _0x48bbf2=0x11bb*-0x2+0x2*0xef2+0x592;_0x48bbf2<_0x392043;++_0x48bbf2)vi(_0x4a40d3,_0x37a2a7,{'numSamples':0x1,'rect':_0xb974b2,'seamPixels':_0x53a0b8}),_0xb974b2['x']+=_0xb974b2['w'],_0xb974b2['y']+=_0xb974b2['w'],_0xb974b2['z']=Math['max'](-0x15*0xbb+0x3d*-0x58+0x2450,Math['floor'](_0xb974b2['z']*(-0x1*-0xfc6+-0x1351+0x1*0x38b+0.5))),_0xb974b2['w']=Math['max'](0x747+0x1f9a+-0x26e0,Math['floor'](_0xb974b2['w']*(0x6*0x647+0x1*-0xbb6+-0x19f4+0.5)));Q['popGpuMark'+'er'](_0x4e4d9a),Q['pushGpuMar'+'ker'](_0x4e4d9a,'reflection'+'s'),_0xb974b2['set'](0x1*-0x103b+-0x1*0x14de+0x2519,(0x4fd*0x1+0x138b+-0x1f6*0xc)*_0x53a0b8,(-0x16ec+-0x2f*-0x21+0x11dd)*_0x53a0b8,(-0xb*-0xd6+-0xe7e+0x5cc)*_0x53a0b8);for(let _0x523b84=-0x2627+0x1*-0x1f01+0x4529;_0x523b84<-0x10d*-0x1f+-0xbc3+-0x14c9;++_0x523b84)vi(_0x4a40d3,_0x37a2a7,{'numSamples':(_0x5cc876==null?void(-0xbd*-0x13+-0x1651+0x84a*0x1):_0x5cc876['numReflect'+'ionSamples'])||-0x55e+-0x54*-0xc+0x56e,'distribution':(_0x5cc876==null?void(0x10*0x149+0x74b*0x2+-0x2326):_0x5cc876['distributi'+'on'])||'ggx','specularPower':Math['max'](-0xf58+-0x1e7f+0x2*0x16ec,-0x8b1+0x7*-0x203+0x1ec6>>_0x523b84*(-0xce*-0x11+0x1ca*0xd+-0x24ee)),'rect':_0xb974b2,'seamPixels':_0x53a0b8}),_0xb974b2['y']+=_0xb974b2['w'],_0xb974b2['z']=Math['max'](-0x1c60+0x376+-0x1*-0x18eb,Math['floor'](_0xb974b2['z']*(0x13a6+-0x9f9+-0x9ad+0.5))),_0xb974b2['w']=Math['max'](0x12be+0x65*-0x2b+0xe3*-0x2,Math['floor'](_0xb974b2['w']*(0x17f6*-0x1+-0x2*-0x482+0xef2+0.5)));return Q['popGpuMark'+'er'](_0x4e4d9a),Q['pushGpuMar'+'ker'](_0x4e4d9a,'ambient'),_0xb974b2['set']((-0x16e9*-0x1+0x4*-0x94+0x7*-0x2df)*_0x53a0b8,(-0xa44+0x1f16+-0x1352)*_0x53a0b8,(-0x1*-0x2004+0x1bf5+-0x3bb9)*_0x53a0b8,(0x226c+-0x25b0+-0xd9*-0x4)*_0x53a0b8),vi(_0x4a40d3,_0x37a2a7,{'numSamples':(_0x5cc876==null?void(-0x127c+0x709*0x3+0x3d*-0xb):_0x5cc876['numAmbient'+'Samples'])||-0xecb+0xc22*0x3+0x51*-0x2b,'distribution':'lambert','rect':_0xb974b2,'seamPixels':_0x53a0b8}),Q['popGpuMark'+'er'](_0x4e4d9a),Q['popGpuMark'+'er'](_0x4e4d9a),_0x37a2a7;}static['generatePr'+'efilteredA'+'tlas'](_0x7f9016,_0x4b3a13){const _0x3cf853=_0x7f9016[-0xfb2+-0x2543+0x34f5]['device'],_0xb2d75b=_0x7f9016[0x1e58+0xd1f+-0x2b77*0x1]['format'],_0x210b00=_0x7f9016[0x2279+0x606+-0x1*0x287f]['type'];Q['pushGpuMar'+'ker'](_0x3cf853,'genPrefilt'+'eredAtlas');const _0x2c31b1=(_0x4b3a13==null?void(-0x1eee+-0x4*0x5c5+-0x1*-0x3602):_0x4b3a13['target'])||new _e(_0x3cf853,{'name':'envPrefilt'+'eredAtlas','width':(_0x4b3a13==null?void(0x2613+0x5*0x557+-0x40c6):_0x4b3a13['size'])||0x1*0x5a0+0xb62+-0x2*0x781,'height':(_0x4b3a13==null?void(0xda9*0x1+0x7b5*-0x5+0x18e0):_0x4b3a13['size'])||-0x1b*0x44+0x104c+-0x720,'format':_0xb2d75b,'type':_0x210b00,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(-0x248f+-0x172d+0x3bbd)});Q['pushGpuMar'+'ker'](_0x3cf853,'mipmaps');const _0x36504a=_0x2c31b1['width']/(-0x25*-0x87+-0x228d+0x110a),_0x48c78b=new re(-0x12*-0xf+-0x1*0x132d+0x1*0x121f,-0x18ff+-0x129b*-0x1+-0x199*-0x4,(0x1*0x182f+-0x4*0x851+0xb15)*_0x36504a,(-0x1a1*0x7+0x156c+0x1*-0x905)*_0x36504a),_0x3df987=Kd(0x8*-0x161+-0xf91+0x1c99*0x1);for(let _0x2e0ea0=0x1b13+0x1*-0x1cb8+-0x1a5*-0x1;_0x2e0ea0<_0x3df987;++_0x2e0ea0)vi(_0x7f9016[0x2542+0x279+-0x27bb],_0x2c31b1,{'numSamples':0x1,'rect':_0x48c78b,'seamPixels':_0x36504a}),_0x48c78b['x']+=_0x48c78b['w'],_0x48c78b['y']+=_0x48c78b['w'],_0x48c78b['z']=Math['max'](0x1*-0x7e2+-0x4e2*0x6+0x252f,Math['floor'](_0x48c78b['z']*(-0xf*-0x1e9+-0x33e+-0x1969+0.5))),_0x48c78b['w']=Math['max'](-0x13*-0x1d3+0x106*-0x17+-0x1*0xb1e,Math['floor'](_0x48c78b['w']*(-0x2*-0x4e2+-0x45*0x55+0xd25+0.5)));Q['popGpuMark'+'er'](_0x3cf853),Q['pushGpuMar'+'ker'](_0x3cf853,'reflection'+'s'),_0x48c78b['set'](0x5*0x4d5+-0x24d5+-0x32b*-0x4,(0x18b1+0x1855+-0x3006)*_0x36504a,(-0x7bb*-0x3+-0x17*0x5c+-0xded)*_0x36504a,(-0x15a9+-0xb3*-0x31+-0xc1a)*_0x36504a);for(let _0x312e70=0x2117+-0x1ff9+-0x1*0x11d;_0x312e70<_0x7f9016['length'];++_0x312e70)vi(_0x7f9016[_0x312e70],_0x2c31b1,{'numSamples':0x1,'rect':_0x48c78b,'seamPixels':_0x36504a}),_0x48c78b['y']+=_0x48c78b['w'],_0x48c78b['z']=Math['max'](-0xe10+-0x23fb*0x1+0x1906*0x2,Math['floor'](_0x48c78b['z']*(-0x15*0x6a+0x14ef+-0xc3d+0.5))),_0x48c78b['w']=Math['max'](-0x18*-0x15d+-0xad4*-0x2+-0x1*0x365f,Math['floor'](_0x48c78b['w']*(0x701*0x2+-0x1957+0x3c7*0x3+0.5)));return Q['popGpuMark'+'er'](_0x3cf853),Q['pushGpuMar'+'ker'](_0x3cf853,'ambient'),_0x48c78b['set']((-0x220f+-0x17b6+0x7*0x853)*_0x36504a,(-0x5*0x3ad+-0x13b3+0x2794)*_0x36504a,(-0xf4a+-0x14fb*0x1+0x2485*0x1)*_0x36504a,(-0xdcc+-0x192*-0x7+-0x1*-0x2ee)*_0x36504a),_0x4b3a13!=null&&_0x4b3a13['legacyAmbi'+'ent']?vi(_0x7f9016[-0x149e+0x1*0xca1+0x401*0x2],_0x2c31b1,{'numSamples':0x1,'rect':_0x48c78b,'seamPixels':_0x36504a}):vi(_0x7f9016[-0x1110+0x1a10+-0x900],_0x2c31b1,{'numSamples':(_0x4b3a13==null?void(-0x1be*0x11+0x2201*-0x1+0x59*0xb7):_0x4b3a13['numSamples'])||-0x3*0x7aa+0x2*0x1174+-0x3ea,'distribution':'lambert','rect':_0x48c78b,'seamPixels':_0x36504a}),Q['popGpuMark'+'er'](_0x3cf853),Q['popGpuMark'+'er'](_0x3cf853),_0x2c31b1;}}const lb={'aoPS':'1.57','clearCoatPS':'1.57','clearCoatGlossPS':'1.60','clearCoatNormalPS':'1.57','diffusePS':'1.57','emissivePS':'1.57','glossPS':'1.60','metalnessPS':'1.57','normalMapPS':'1.57','opacityPS':'1.57','parallaxPS':'1.57','sheenPS':'1.57','sheenGlossPS':'1.60','specularPS':'1.57','specularityFactorPS':'1.57','thicknessPS':'1.57','transmissionPS':'1.57','normalVertexPS':'1.55','aoDiffuseOccPS':'1.62','aoSpecOccPS':'2.6','clusteredLightPS':'1.62','clusteredLightShadowPS':'1.62','combinePS':'1.62','falloffInvSquaredPS':'1.62','falloffLinearPS':'1.62','lightDiffuseLambertPS':'1.62','lightSheenPS':'1.62','lightSpecularAnisoGGXPS':'1.62','lightSpecularBlinnPS':'1.62','ltcPS':'1.62','reflDirPS':'1.62','reflDirAnisoPS':'1.62','reflectionCCPS':'1.62','reflectionCubePS':'2.6','reflectionEnvPS':'2.6','reflectionEnvHQPS':'2.6','reflectionSpherePS':'2.6','reflectionSheenPS':'1.62','shadowCommonPS':'1.62','shadowCoordPS':'1.62','shadowCoordPerspZBufferPS':'1.62','shadowEVSMPS':'1.62','spotPS':'1.62','TBNPS':'1.62','endPS':'1.65','metalnessModulatePS':'1.65','outputAlphaPS':'1.65','outputAlphaPremulPS':'1.65','fresnelSchlickPS':'1.65','iridescenceDiffractionPS':'1.65','lightmapAddPS':'1.65','refractionCubePS':'1.70','refractionDynamicPS':'1.70'},V_={'ambientPrefilteredCubePS':'1.51','ambientPrefilteredCubeLodPS':'1.51','dpAtlasQuadPS':'1.51','genParaboloidPS':'1.51','prefilterCubemapPS':'1.51','reflectionDpAtlasPS':'1.51','reflectionPrefilteredCubePS':'1.51','reflectionPrefilteredCubeLodPS':'1.51','refractionPS':'1.56','combineClearCoatPS':'1.56','combineDiffusePS':'1.56','combineDiffuseSpecularPS':'1.56','combineDiffuseSpecularNoReflPS':'1.56','combineDiffuseSpecularNoReflSeparateAmbientPS':'1.56','combineDiffuseSpecularOldPS':'1.56','lightmapSingleVertPS':'1.55','normalMapFastPS':'1.55','specularAaNonePS':'1.55','specularAaToksvigPS':'1.55','specularAaToksvigFastPS':'1.55','skyboxEnvPS':'2.1','skyboxHDRPS':'2.1','shadowVSM8PS':'2.3','fogExpPS':'2.5','fogExp2PS':'2.5','fogLinearPS':'2.5','fogNonePS':'2.5','gamma1_0PS':'2.5','gamma2_2PS':'2.5','storeEVSMPS':'2.6','shadowEVSMnPS':'2.6','shadowVSM_commonPS':'2.6','shadowStandardPS':'2.6','shadowStandardGL2PS':'2.6','startVS':'2.6','endVS':'2.6','baseVS':'2.6','baseNineSlicedVS':'2.6','viewNormalVS':'2.6','lightmapDirAddPS':'2.6','TBNObjectSpacePS':'2.6','TBNderivativePS':'2.6','startPS':'2.6','outputAlphaOpaque':'2.6','outputAlphaPremul':'2.6','cubeMapProjectBoxPS':'2.6','cubeMapProjectNonePS':'2.6','envMultiplyPS':'2.6','envConstPS':'2.6','aoSpecOccConstPS':'2.6','aoSpecOccConstSimplePS':'2.6','aoSpecOccSimplePS':'2.6','ambientConstantPS':'2.6','ambientEnvPS':'2.6','ambientSHPS':'2.6','shadowSampleCoordPS':'2.6','diffuseDetailMapPS':'2.7','normalDetailMapPS':'2.7','normalXYPS':'2.7','normalXYZPS':'2.7','aoDetailMapPS':'2.7','lightmapDirPS':'2.7','lightmapSinglePS':'2.7','tangentBinormalVS':'2.7'},cb=(_0x3d7aa4,_0x227fcb)=>{const _0x2d19a3=_0x3d7aa4['split']('.')['map'](_0xcef164=>parseInt(_0xcef164,0x2*0x37f+-0xd1b*0x1+-0x9*-0xaf)),_0x5da4ce=_0x227fcb['split']('.')['map'](_0x2f2a15=>parseInt(_0x2f2a15,-0xb2*-0x16+-0xc3f+-0x303));return _0x2d19a3[0x28+0x22ca+-0x22f2]<_0x5da4ce[-0x5*0x718+0x1ae7+0x891]||_0x2d19a3[-0x33*-0x20+-0xb00+-0x1*-0x4a0]===_0x5da4ce[-0x67*0x3f+-0x12eb+0x2c44*0x1]&&_0x2d19a3[0x2e5+0x1b50*0x1+-0x1e34]<_0x5da4ce[-0x38*-0x9+-0x139*0x17+-0x8*-0x345];},hb=(_0x40f7f6,_0x2b688d)=>{for(const _0x3ad6a1 of _0x40f7f6['keys']())if(V_['hasOwnProp'+'erty'](_0x3ad6a1)){const _0x5fdc8d=V_[_0x3ad6a1];w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x3ad6a1+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x5fdc8d+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.'));}else{const _0x2d0974=lb[_0x3ad6a1];_0x2d0974&&(!_0x2b688d||cb(_0x2b688d,_0x2d0974))&&w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x3ad6a1+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x2d0974+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x2b688d||'undefined')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}},Zd={'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_color':Wt,'vertex_boneWeights':gi,'vertex_boneIndices':us};class db{constructor(_0x52bb23,_0x236a51,_0x4eb73d=!(0x1754+0x1b12+0x1*-0x3266)){h(this,'varyingsCo'+'de',''),h(this,'device'),h(this,'options'),h(this,'shaderLang'+'uage'),h(this,'vDefines',new Map()),h(this,'fDefines',new Map()),h(this,'includes',new Map()),h(this,'chunks',null),(this['device']=_0x52bb23,this['options']=_0x236a51);const _0x4d78b0=_0x236a51['shaderChun'+'ks'];if(this['shaderLang'+'uage']=_0x52bb23['isWebGPU']&&_0x4eb73d&&(_0x4d78b0!=null&&_0x4d78b0['useWGSL'])?it:Fe,this['attributes']={'vertex_position':Me},_0x236a51['userAttrib'+'utes']){for(const [_0x172bf4,_0x4712fc]of Object['entries'](_0x236a51['userAttrib'+'utes']))this['attributes'][_0x4712fc]=_0x172bf4;}const _0x28acef=Pe['get'](_0x52bb23,this['shaderLang'+'uage']);if(this['chunks']=new Map(_0x28acef),_0x4d78b0){const _0x1a17af=this['shaderLang'+'uage']===Fe?_0x4d78b0['glsl']:_0x4d78b0['wgsl'];w['call'](()=>{hb(_0x1a17af,_0x4d78b0['version']);}),_0x1a17af['forEach']((_0x1f0210,_0x188c66)=>{for(const _0x534887 in Zd)Zd['hasOwnProp'+'erty'](_0x534887)&&_0x1f0210['indexOf'](_0x534887)>=0x1*0x359+-0x1*0x1abc+0x1*0x1763&&(this['attributes'][_0x534887]=Zd[_0x534887]);this['chunks']['set'](_0x188c66,_0x1f0210);});}this['shaderPass'+'Info']=Si['get'](this['device'])['getByIndex'](_0x236a51['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x236a51['lights']['length']>0x1260+0x5*0x28f+0x4f*-0x65||_0x236a51['dirLightMa'+'pEnabled']||_0x236a51['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=_0x236a51['reflection'+'Source']!==vr,this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x236a51['useSpecula'+'r']||_0x236a51['ambientSH']||_0x236a51['useHeights']||_0x236a51['enableGGXS'+'pecular']||_0x236a51['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x236a51['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x236a51['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x236a51['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x236a51['useDynamic'+'Refraction'],this['vshader']=null,this['fshader']=null;}['fDefineSet'](_0x2b7444,_0x2e50cb,_0x249590=''){_0x2b7444&&this['fDefines']['set'](_0x2e50cb,_0x249590);}['generateVe'+'rtexShader'](_0x320879,_0x17ec1d,_0x215adb){const {options:_0x13a2c0,vDefines:_0x1aba89,attributes:_0x46e508}=this,_0xed1722=new Map();if(_0xed1722['set']('vPositionW','vec3'),(_0x13a2c0['nineSliced'+'Mode']===Pt||_0x13a2c0['nineSliced'+'Mode']===Mt)&&_0x1aba89['set']('NINESLICED',!(-0xe42+0x1f97+-0x9*0x1ed)),this['options']['linearDept'+'h']&&(_0x1aba89['set']('LINEAR_DEP'+'TH',!(-0xf4*0x3+0x35*-0x3b+-0x1*-0xf13)),_0xed1722['set']('vLinearDep'+'th','float')),this['needsNorma'+'l']&&_0x1aba89['set']('NORMALS',!(-0x1*0x89b+-0x26a8+0x25*0x147)),this['options']['useInstanc'+'ing']){const _0x4c2294=Pe['get'](this['device'],this['shaderLang'+'uage']);this['chunks']['get']('transformI'+'nstancingV'+'S')===_0x4c2294['get']('transformI'+'nstancingV'+'S')&&(_0x46e508['instance_l'+'ine1']=Mp,_0x46e508['instance_l'+'ine2']=Dp,_0x46e508['instance_l'+'ine3']=Ip,_0x46e508['instance_l'+'ine4']=Ln);}this['needsNorma'+'l']&&(_0x46e508['vertex_nor'+'mal']=gs,_0xed1722['set']('vNormalW','vec3'),_0x13a2c0['hasTangent'+'s']&&(_0x13a2c0['useHeights']||_0x13a2c0['useNormals']||_0x13a2c0['useClearCo'+'atNormals']||_0x13a2c0['enableGGXS'+'pecular'])?(_0x1aba89['set']('TANGENTS',!(-0x5d*0x6a+0x2005+-0x1*-0x67d)),_0x46e508['vertex_tan'+'gent']=yi,_0xed1722['set']('vTangentW','vec3'),_0xed1722['set']('vBinormalW','vec3')):_0x13a2c0['enableGGXS'+'pecular']&&(_0x1aba89['set']('GGX_SPECUL'+'AR',!(0xbe2+0x10a4+-0x3*0x982)),_0xed1722['set']('vObjectSpa'+'ceUpW','vec3')));const _0x3dae8b=0xe7c+0x133*0x16+-0x28dc;for(let _0x19222d=0x9b7+0xe73+-0x182a;_0x19222d<_0x3dae8b;_0x19222d++)_0x320879[_0x19222d]&&(_0x1aba89['set']('UV'+_0x19222d,!(-0x1c11+0x1cb2+-0xa1)),_0x46e508['vertex_tex'+'Coord'+_0x19222d]='TEXCOORD'+_0x19222d),_0x17ec1d[_0x19222d]&&(_0x1aba89['set']('UV'+_0x19222d+('_UNMODIFIE'+'D'),!(0x1f92+-0x156d+-0x35*0x31)),_0xed1722['set']('vUv'+_0x19222d,'vec2'));let _0xce93fb=0xe5*-0x1d+-0x1d1a+0xe7*0x3d;const _0x3bbc11=new Set();_0x215adb['forEach'](_0x1551c6=>{const {id:_0x3654cd,uv:_0xab1bd1,name:_0x1d75b6}=_0x1551c6,_0x1c0ca6=_0x3654cd+_0xab1bd1*(0x73b*-0x3+0x5*-0x4cc+0x3*0xf5b);if(!_0x3bbc11['has'](_0x1c0ca6)){_0x3bbc11['add'](_0x1c0ca6),_0xed1722['set']('vUV'+_0xab1bd1+'_'+_0x3654cd,'vec2');const _0x5e59cc='texture_'+_0x1d75b6+('MapTransfo'+'rm');_0x1aba89['set']('{TRANSFORM'+'_NAME_'+_0xce93fb+'}',_0x5e59cc),_0x1aba89['set']('{TRANSFORM'+'_UV_'+_0xce93fb+'}',_0xab1bd1),_0x1aba89['set']('{TRANSFORM'+'_ID_'+_0xce93fb+'}',_0x3654cd),_0xce93fb++;}}),_0x1aba89['set']('UV_TRANSFO'+'RMS_COUNT',_0xce93fb),_0x13a2c0['vertexColo'+'rs']&&(_0x46e508['vertex_col'+'or']=Wt,_0x1aba89['set']('VERTEX_COL'+'OR',!(-0x646+-0x1*-0x26c9+-0x2083)),_0xed1722['set']('vVertexCol'+'or','vec4')),_0x13a2c0['useMsdf']&&_0x13a2c0['msdfTextAt'+'tribute']&&(_0x46e508['vertex_out'+'lineParame'+'ters']=Ko,_0x46e508['vertex_sha'+'dowParamet'+'ers']=Zo,_0x1aba89['set']('MSDF',!(-0x3a*0xa0+0x2f+0x2411))),(_0x13a2c0['useMorphPo'+'sition']||_0x13a2c0['useMorphNo'+'rmal'])&&(_0x1aba89['set']('MORPHING',!(0x1e42+-0x19b*-0x8+-0x2b1a)),_0x13a2c0['useMorphTe'+'xtureBased'+'Int']&&_0x1aba89['set']('MORPHING_I'+'NT',!(0x1*-0xa67+-0xccd+0x1734)),_0x13a2c0['useMorphPo'+'sition']&&_0x1aba89['set']('MORPHING_P'+'OSITION',!(0x61b+-0x1*-0xdbb+-0x13d6)),_0x13a2c0['useMorphNo'+'rmal']&&_0x1aba89['set']('MORPHING_N'+'ORMAL',!(-0x12cd+-0x1023+0x8bc*0x4)),_0x46e508['morph_vert'+'ex_id']=Ln),_0x13a2c0['skin']&&(_0x46e508['vertex_bon'+'eIndices']=us,_0x13a2c0['batch']?_0x1aba89['set']('BATCH',!(-0x540+-0x25f4+0x1c*0x18b)):(_0x46e508['vertex_bon'+'eWeights']=gi,_0x1aba89['set']('SKIN',!(-0x1*-0xa52+0x1f3*-0xf+0x12eb)))),_0x13a2c0['useInstanc'+'ing']&&_0x1aba89['set']('INSTANCING',!(0x62*-0x2b+-0x2603+0x3679)),_0x13a2c0['screenSpac'+'e']&&_0x1aba89['set']('SCREENSPAC'+'E',!(0x13*-0xc5+0x1*0x2615+0x1a*-0xe7)),_0x13a2c0['pixelSnap']&&_0x1aba89['set']('PIXELSNAP',!(-0x1edd*-0x1+-0x2390+0x4b3)),_0xed1722['forEach']((_0x4e603b,_0x3e4683)=>{this['varyingsCo'+'de']+='#define\x20VA'+'RYING_'+_0x3e4683['toUpperCas'+'e']()+'\x0a',this['varyingsCo'+'de']+=this['shaderLang'+'uage']===it?'varying\x20'+_0x3e4683+':\x20'+Fy['get'](_0x4e603b)+';\x0a':'varying\x20'+_0x4e603b+'\x20'+_0x3e4683+';\x0a';}),this['includes']['set']('varyingsVS',this['varyingsCo'+'de']),this['includes']['set']('varyingsPS',this['varyingsCo'+'de']),this['vshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}['_setupLigh'+'tingDefine'+'s'](_0x12eb10,_0x59af5e){const _0x1aad20=this['fDefines'],_0x2fbe84=this['options'];if(this['fDefines']['set']('LIGHT_COUN'+'T',_0x2fbe84['lights']['length']),_0x12eb10&&_0x1aad20['set']('AREA_LIGHT'+'S',!(-0x50c+0x1032*0x2+0x8c*-0x32)),_0x59af5e&&this['lighting']&&(_0x1aad20['set']('LIT_CLUSTE'+'RED_LIGHTS',!(-0x1*0x160f+0xa43+0xbcc)),_0x2fbe84['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x1aad20['set']('CLUSTER_CO'+'OKIES',!(0xd00+0x21d0+0x7*-0x6b0)),_0x2fbe84['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x1aad20['set']('CLUSTER_AR'+'EALIGHTS',!(-0x1a5e+0x50d*0x6+-0x3f0)),_0x2fbe84['lightMaskD'+'ynamic']&&_0x1aad20['set']('CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS',!(-0x2293+0x1936+-0x1*-0x95d)),_0x2fbe84['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x2fbe84['noShadow'])){const _0x53016c=qi['get'](_0x2fbe84['clusteredL'+'ightingSha'+'dowType']);_0x1aad20['set']('CLUSTER_SH'+'ADOWS',!(0x62b*0x3+-0x3*0x543+0x57*-0x8)),_0x1aad20['set']('SHADOW_KIN'+'D_'+_0x53016c['kind'],!(-0x13*0x191+-0x1af3+0x38b6)),_0x1aad20['set']('CLUSTER_SH'+'ADOW_TYPE_'+_0x53016c['kind'],!(0x1ef1*-0x1+-0xe72+0x2d63));}for(let _0x1f5794=-0x2171+0x5e6+0x1b8b;_0x1f5794<_0x2fbe84['lights']['length'];_0x1f5794++){const _0x494341=_0x2fbe84['lights'][_0x1f5794],_0x4271d0=_0x494341['_type'];if(_0x59af5e&&_0x4271d0!==ve)continue;const _0x46b8e9=_0x12eb10&&_0x494341['_shape']?_0x494341['_shape']:Ys,_0x534a8d=_0x494341['_shadowTyp'+'e'],_0x20c8e8=_0x494341['castShadow'+'s']&&!_0x2fbe84['noShadow'],_0x413b3a=qi['get'](_0x534a8d);w['assert'](_0x413b3a),_0x1aad20['set']('LIGHT'+_0x1f5794,!(0x511*-0x7+0x12b9+0x10be)),_0x1aad20['set']('LIGHT'+_0x1f5794+'TYPE',''+u_[_0x4271d0]),_0x1aad20['set']('LIGHT'+_0x1f5794+'SHADOWTYPE',''+_0x413b3a['name']),_0x1aad20['set']('LIGHT'+_0x1f5794+'SHAPE',''+Fw[_0x46b8e9]),_0x1aad20['set']('LIGHT'+_0x1f5794+'FALLOFF',''+Nw[_0x494341['_falloffMo'+'de']]),_0x494341['affectSpec'+'ularity']&&_0x1aad20['set']('LIGHT'+_0x1f5794+('AFFECT_SPE'+'CULARITY'),!(-0x3df*0x9+0x265b+-0x3c*0xf)),_0x494341['_cookie']&&(_0x4271d0===Ze&&!_0x494341['_cookie']['_cubemap']||_0x4271d0===Ke&&_0x494341['_cookie']['_cubemap'])&&(_0x1aad20['set']('LIGHT'+_0x1f5794+'COOKIE',!(0x247d+0x521*0x5+-0x14b6*0x3)),_0x1aad20['set']('{LIGHT'+_0x1f5794+('COOKIE_CHA'+'NNEL}'),_0x494341['_cookieCha'+'nnel']),_0x4271d0===Ze&&(_0x494341['_cookieTra'+'nsform']&&_0x1aad20['set']('LIGHT'+_0x1f5794+('COOKIE_TRA'+'NSFORM'),!(-0x159+-0x1270+0x13c9)),_0x494341['_cookieFal'+'loff']&&_0x1aad20['set']('LIGHT'+_0x1f5794+('COOKIE_FAL'+'LOFF'),!(0x683*-0x1+0xf*0xd+0x5c0)))),_0x20c8e8&&(_0x1aad20['set']('LIGHT'+_0x1f5794+'CASTSHADOW',!(-0xd8b*-0x1+-0x15*0x10d+0x886)),_0x413b3a['pcf']&&_0x1aad20['set']('LIGHT'+_0x1f5794+'SHADOW_PCF',!(0x5f2*-0x1+0xc99+-0x6a7)),_0x494341['_normalOff'+'setBias']&&!_0x494341['_isVsm']&&_0x1aad20['set']('LIGHT'+_0x1f5794+('_SHADOW_SA'+'MPLE_NORMA'+'L_OFFSET'),!(0xd63*0x1+0x20a5+-0x2e08)),_0x4271d0===ve&&(_0x1aad20['set']('LIGHT'+_0x1f5794+('_SHADOW_SA'+'MPLE_ORTHO'),!(-0x2*-0x863+0x679*-0x1+-0x125*0x9)),_0x494341['cascadeBle'+'nd']>0x7ee+-0x19b7+0x11c9&&_0x1aad20['set']('LIGHT'+_0x1f5794+('_SHADOW_CA'+'SCADE_BLEN'+'D'),!(-0x2db*0xa+0x119*-0x5+0x220b)),_0x494341['numCascade'+'s']>0x2*-0xb23+0x61*0x2a+0x65d&&_0x1aad20['set']('LIGHT'+_0x1f5794+('_SHADOW_CA'+'SCADES'),!(0x1*-0x16c9+-0x264a+0x3d13))),(_0x413b3a['pcf']||_0x413b3a['pcss']||this['device']['isWebGPU'])&&_0x1aad20['set']('LIGHT'+_0x1f5794+('_SHADOW_SA'+'MPLE_SOURC'+'E_ZBUFFER'),!(-0x1abb*-0x1+-0x15c1+-0x4fa)),_0x4271d0===Ke&&_0x1aad20['set']('LIGHT'+_0x1f5794+('_SHADOW_SA'+'MPLE_POINT'),!(0x244c+-0x66*-0x1e+-0x3040))),_0x20c8e8&&(_0x1aad20['set']('SHADOW_KIN'+'D_'+_0x413b3a['kind'],!(0xfb9*-0x1+-0x9d*-0x8+-0x47*-0x27)),_0x4271d0===ve&&_0x1aad20['set']('SHADOW_DIR'+'ECTIONAL',!(-0x337*0x1+0x26f7*-0x1+0x2a2e)));}}['prepareFor'+'wardPass'](_0x5cd85e){const {options:_0x5ead2e}=this,_0x2dde78=_0x5ead2e['clusteredL'+'ightingEna'+'bled']&&_0x5ead2e['clusteredL'+'ightingAre'+'aLightsEna'+'bled']||_0x5ead2e['lights']['some'](_0x356214=>_0x356214['_shape']&&_0x356214['_shape']!==Ys),_0x49e57a=!_0x5ead2e['lightMapEn'+'abled']||_0x5ead2e['lightMapWi'+'thoutAmbie'+'nt'],_0x1ee99d=this['needsNorma'+'l']&&(_0x5ead2e['useNormals']||_0x5ead2e['useClearCo'+'atNormals']||_0x5ead2e['enableGGXS'+'pecular']&&!_0x5ead2e['useHeights']);_0x5ead2e['useSpecula'+'r']&&(this['fDefineSet'](!(0x8f*0x2+0x13ca+-0x14e8),'LIT_SPECUL'+'AR'),this['fDefineSet'](this['reflection'+'s'],'LIT_REFLEC'+'TIONS'),this['fDefineSet'](_0x5ead2e['useClearCo'+'at'],'LIT_CLEARC'+'OAT'),this['fDefineSet'](_0x5ead2e['fresnelMod'+'el']>0x15ec+0x1*-0x1e71+0x885,'LIT_SPECUL'+'AR_FRESNEL'),this['fDefineSet'](_0x5ead2e['useSheen'],'LIT_SHEEN'),this['fDefineSet'](_0x5ead2e['useIridesc'+'ence'],'LIT_IRIDES'+'CENCE')),this['fDefineSet'](this['lighting']&&_0x5ead2e['useSpecula'+'r']||this['reflection'+'s'],'LIT_SPECUL'+'AR_OR_REFL'+'ECTION'),this['fDefineSet'](this['needsScene'+'Color'],'LIT_SCENE_'+'COLOR'),this['fDefineSet'](this['needsScree'+'nSize'],'LIT_SCREEN'+'_SIZE'),this['fDefineSet'](this['needsTrans'+'forms'],'LIT_TRANSF'+'ORMS'),this['fDefineSet'](this['needsNorma'+'l'],'LIT_NEEDS_'+'NORMAL'),this['fDefineSet'](this['lighting'],'LIT_LIGHTI'+'NG'),this['fDefineSet'](_0x5ead2e['useMetalne'+'ss'],'LIT_METALN'+'ESS'),this['fDefineSet'](_0x5ead2e['enableGGXS'+'pecular'],'LIT_GGX_SP'+'ECULAR'),this['fDefineSet'](_0x5ead2e['useSpecula'+'rityFactor'],'LIT_SPECUL'+'ARITY_FACT'+'OR'),this['fDefineSet'](_0x5ead2e['useCubeMap'+'Rotation'],'CUBEMAP_RO'+'TATION'),this['fDefineSet'](_0x5ead2e['occludeSpe'+'cularFloat'],'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT'),this['fDefineSet'](_0x5ead2e['separateAm'+'bient'],'LIT_SEPARA'+'TE_AMBIENT'),this['fDefineSet'](_0x5ead2e['twoSidedLi'+'ghting'],'LIT_TWO_SI'+'DED_LIGHTI'+'NG'),this['fDefineSet'](_0x5ead2e['lightMapEn'+'abled'],'LIT_LIGHTM'+'AP'),this['fDefineSet'](_0x5ead2e['dirLightMa'+'pEnabled'],'LIT_DIR_LI'+'GHTMAP'),this['fDefineSet'](_0x5ead2e['skyboxInte'+'nsity']>-0x1*0x1541+-0x13d1*-0x1+0x170*0x1,'LIT_SKYBOX'+'_INTENSITY'),this['fDefineSet'](_0x5ead2e['clusteredL'+'ightingSha'+'dowsEnable'+'d'],'LIT_CLUSTE'+'RED_SHADOW'+'S'),this['fDefineSet'](_0x5ead2e['clusteredL'+'ightingAre'+'aLightsEna'+'bled'],'LIT_CLUSTE'+'RED_AREA_L'+'IGHTS'),this['fDefineSet'](_0x1ee99d,'LIT_TBN'),this['fDefineSet'](_0x49e57a,'LIT_ADD_AM'+'BIENT'),this['fDefineSet'](_0x5ead2e['hasTangent'+'s'],'LIT_TANGEN'+'TS'),this['fDefineSet'](_0x5ead2e['useNormals'],'LIT_USE_NO'+'RMALS'),this['fDefineSet'](_0x5ead2e['useClearCo'+'atNormals'],'LIT_USE_CL'+'EARCOAT_NO'+'RMALS'),this['fDefineSet'](_0x5ead2e['useRefract'+'ion'],'LIT_REFRAC'+'TION'),this['fDefineSet'](_0x5ead2e['useDynamic'+'Refraction'],'LIT_DYNAMI'+'C_REFRACTI'+'ON'),this['fDefineSet'](_0x5ead2e['dispersion'],'LIT_DISPER'+'SION'),this['fDefineSet'](_0x5ead2e['useHeights'],'LIT_HEIGHT'+'S'),this['fDefineSet'](_0x5ead2e['opacityFad'+'esSpecular'],'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR'),this['fDefineSet'](_0x5ead2e['alphaToCov'+'erage'],'LIT_ALPHA_'+'TO_COVERAG'+'E'),this['fDefineSet'](_0x5ead2e['alphaTest'],'LIT_ALPHA_'+'TEST'),this['fDefineSet'](_0x5ead2e['useMsdf'],'LIT_MSDF'),this['fDefineSet'](_0x5ead2e['ssao'],'LIT_SSAO'),this['fDefineSet'](_0x5ead2e['useAo'],'LIT_AO'),this['fDefineSet'](_0x5ead2e['occludeDir'+'ect'],'LIT_OCCLUD'+'E_DIRECT'),this['fDefineSet'](_0x5ead2e['msdfTextAt'+'tribute'],'LIT_MSDF_T'+'EXT_ATTRIB'+'UTE'),this['fDefineSet'](_0x5ead2e['diffuseMap'+'Enabled'],'LIT_DIFFUS'+'E_MAP'),this['fDefineSet'](_0x5ead2e['shadowCatc'+'her'],'LIT_SHADOW'+'_CATCHER'),this['fDefineSet'](!(0x3dc*-0x4+-0x1b47+0x2ab7),'LIT_FRESNE'+'L_MODEL',Rw[_0x5ead2e['fresnelMod'+'el']]),this['fDefineSet'](!(0x5f*-0x53+-0x75b+0x2628),'LIT_NONE_S'+'LICE_MODE',qw[_0x5ead2e['nineSliced'+'Mode']]),this['fDefineSet'](!(-0x881+0x1*0x25ca+-0x1d49),'LIT_BLEND_'+'TYPE',Yy[_0x5ead2e['blendType']]),this['fDefineSet'](!(0x233*-0x1+0x15ab+-0x1378),'LIT_CUBEMA'+'P_PROJECTI'+'ON',Gw[_0x5ead2e['cubeMapPro'+'jection']]),this['fDefineSet'](!(-0x12f5+0x1fc8+-0xcd3),'LIT_OCCLUD'+'E_SPECULAR',Ww[_0x5ead2e['occludeSpe'+'cular']]),this['fDefineSet'](!(0x1982+0x2542+-0x1*0x3ec4),'LIT_REFLEC'+'TION_SOURC'+'E',$w[_0x5ead2e['reflection'+'Source']]),this['fDefineSet'](!(-0xd85+-0x1df0+0x2b75*0x1),'LIT_AMBIEN'+'T_SOURCE',Xw[_0x5ead2e['ambientSou'+'rce']]),this['fDefineSet'](!(0x1631+0x1c3d+0x326e*-0x1),'{lightingU'+'v}',_0x5cd85e??''),this['fDefineSet'](!(-0x3*0xa97+0x3*-0x281+-0xc*-0x346),'{reflectio'+'nDecode}',Tr['decodeFunc'](_0x5ead2e['reflection'+'Encoding'])),this['fDefineSet'](!(-0xf28+0x45b*-0x1+-0x9*-0x22b),'{reflectio'+'nCubemapDe'+'code}',Tr['decodeFunc'](_0x5ead2e['reflection'+'CubemapEnc'+'oding'])),this['fDefineSet'](!(0x1f*-0xb5+0x1*-0x36f+0x195a),'{ambientDe'+'code}',Tr['decodeFunc'](_0x5ead2e['ambientEnc'+'oding'])),this['_setupLigh'+'tingDefine'+'s'](_0x2dde78,_0x5ead2e['clusteredL'+'ightingEna'+'bled']);}['prepareSha'+'dowPass'](){const {options:_0x48c542}=this,_0x3bf92b=this['shaderPass'+'Info']['lightType'],_0x1e9818=this['shaderPass'+'Info']['shadowType'],_0x3bbd6f=qi['get'](_0x1e9818);w['assert'](_0x3bbd6f);const _0xf8636a=_0x3bf92b===ve||!_0x3bbd6f['vsm']&&_0x3bf92b===Ze;this['fDefineSet'](_0xf8636a,'PERSPECTIV'+'E_DEPTH'),this['fDefineSet'](!(0x1*0x442+-0x2*-0x6ca+-0x11d6),'LIGHT_TYPE',''+u_[_0x3bf92b]),this['fDefineSet'](!(-0x1*-0x3a9+0x8dd+0x1ca*-0x7),'SHADOW_TYP'+'E',''+_0x3bbd6f['name']),this['fDefineSet'](_0x48c542['alphaTest'],'LIT_ALPHA_'+'TEST');}['generateFr'+'agmentShad'+'er'](_0x4d2023,_0x544b37,_0x1a3bc5){const _0x52ec6c=this['options'];this['includes']['set']('frontendDe'+'clPS',_0x4d2023??''),this['includes']['set']('frontendCo'+'dePS',_0x544b37??''),_0x52ec6c['pass']===Zn||_0x52ec6c['pass']===Rl||(this['shadowPass']?this['prepareSha'+'dowPass']():this['prepareFor'+'wardPass'](_0x1a3bc5)),this['fshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}}class wv{constructor(){h(this,'hasTangent'+'s',!(0x1ce7+-0x1084+-0x13d*0xa)),h(this,'shaderChun'+'ks',null),h(this,'pass',-0x51*0xf+0xcba*0x1+-0x3*0x2a9),h(this,'alphaTest',!(0x1907*-0x1+0x16a+0x2*0xbcf)),h(this,'blendType',Cs),h(this,'separateAm'+'bient',!(-0xb*-0xdf+0x21ec+0x1*-0x2b80)),h(this,'screenSpac'+'e',!(-0xd4c+0x1e5+-0x124*-0xa)),h(this,'skin',!(-0xb*-0xcb+0x237+-0x3*0x3a5)),h(this,'batch',!(-0xcbf+0x4*0x6a6+-0xdd8)),h(this,'useInstanc'+'ing',!(0x960+0x1354+-0x1cb3)),h(this,'useMorphPo'+'sition',!(0x1cc6+0x8fd+-0x25c2)),h(this,'useMorphNo'+'rmal',!(0xa*-0xf+0x989+-0x8f2)),h(this,'useMorphTe'+'xtureBased'+'Int',!(0x7d4+0xe46*0x2+-0x1*0x245f)),h(this,'nineSliced'+'Mode',-0x1*0x883+-0x1d3f+0x25c2),h(this,'clusteredL'+'ightingEna'+'bled',!(0xc0a+0xcf*-0x1b+-0x1*-0x9cb)),h(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(-0xe2*-0x2b+0x15*0x1e+-0x286b)),h(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(-0x109d+0x1*0x16b5+-0x617*0x1)),h(this,'clusteredL'+'ightingSha'+'dowType',-0x26cc+-0x1814*-0x1+0x4e8*0x3),h(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(-0x14be+0xa7*-0x31+0x34b6)),h(this,'vertexColo'+'rs',!(-0x12ef+-0x1*0xa2e+-0x1d1e*-0x1)),h(this,'lightMapEn'+'abled',!(-0x1c*0x7+0x268*-0x10+0x45d*0x9)),h(this,'dirLightMa'+'pEnabled',!(0x1*0x7f9+0x1a69+-0x2261)),h(this,'useHeights',!(0x1389*0x1+0x1ace+-0xf72*0x3)),h(this,'useNormals',!(-0x935+0x263b*-0x1+0x15b*0x23)),h(this,'useClearCo'+'atNormals',!(-0xa+-0x2*-0x239+-0x467)),h(this,'useAo',!(-0x2f*0x6d+-0x231c+0x3720)),h(this,'diffuseMap'+'Enabled',!(-0x1eb5+-0xc7c+0x2b32)),h(this,'pixelSnap',!(-0x265*-0x1+-0x1*0x19f7+0x1793)),h(this,'ambientSH',!(0x3dd*-0x1+0x2*-0xa36+0x184a)),h(this,'ssao',!(-0x2*-0x961+-0x7ef+0x569*-0x2)),h(this,'twoSidedLi'+'ghting',!(0x1*0x1222+0xa93+-0xe5a*0x2)),h(this,'occludeDir'+'ect',!(0x1*0xd38+0x1*0x21a1+-0x2ed8)),h(this,'occludeSpe'+'cular',-0x1191*0x1+0x26d5+-0x1544),h(this,'occludeSpe'+'cularFloat',!(0x20*-0x3+-0x1*0xeb7+-0x17*-0xa8)),h(this,'useMsdf',!(-0x1cb1+-0x11*-0x49+0x7f3*0x3)),h(this,'msdfTextAt'+'tribute',!(-0x12bf+0x18b8+0x2*-0x2fc)),h(this,'alphaToCov'+'erage',!(-0x1b22+0x17ba+0x369)),h(this,'opacityFad'+'esSpecular',!(-0x14f*0x1d+-0x1287+0x387b)),h(this,'opacityDit'+'her',Sa),h(this,'opacitySha'+'dowDither',Sa),h(this,'cubeMapPro'+'jection',0x2*-0xebd+0x19f0+0x38a),h(this,'useSpecula'+'r',!(-0x1b23*0x1+0x1c6+0x195e)),h(this,'useSpecula'+'rityFactor',!(0x1*0x214a+-0xc0c*-0x2+-0x3961)),h(this,'enableGGXS'+'pecular',!(-0x937+0x5*0x6f7+0x5f*-0x45)),h(this,'fresnelMod'+'el',0x6a*-0x4a+-0x1*-0xbb5+0x12ef),h(this,'useRefract'+'ion',!(-0x17fa*-0x1+-0x1f7b*-0x1+0x27*-0x16c)),h(this,'useClearCo'+'at',!(-0x19a0+0xef*-0x4+0x1d5d)),h(this,'useSheen',!(0x242b+0xe9+-0x2513)),h(this,'useIridesc'+'ence',!(-0xd*0x1a8+0x201a*0x1+-0x1*0xa91)),h(this,'useMetalne'+'ss',!(0xd*-0x259+-0x9f6+-0x1*-0x287c)),h(this,'useDynamic'+'Refraction',!(0xf89*0x1+0x1a5*-0xf+0x1*0x923)),h(this,'dispersion',!(-0x182*-0x2+0x17aa+0x1*-0x1aad)),h(this,'fog',Kn),h(this,'gamma',Ll),h(this,'toneMap',-(0x1*-0x80f+0x21a8+-0x16c*0x12)),h(this,'reflection'+'Source',vr),h(this,'reflection'+'Encoding',null),h(this,'reflection'+'CubemapEnc'+'oding',null),h(this,'ambientSou'+'rce','constant'),h(this,'ambientEnc'+'oding',null),h(this,'skyboxInte'+'nsity',0xf*-0x133+0xe4+0x111a),h(this,'useCubeMap'+'Rotation',!(-0x2465+0x163a+0xe2c)),h(this,'lightMapWi'+'thoutAmbie'+'nt',!(-0x224b+-0x11f0+-0x343c*-0x1)),h(this,'lights',[]),h(this,'noShadow',!(0x8d5+-0x1571+-0xc9d*-0x1)),h(this,'lightMaskD'+'ynamic',0xa22+-0x3*0x982+0x16*0xd6),h(this,'userAttrib'+'utes',{}),h(this,'linearDept'+'h',!(0x2*-0x310+-0xb*-0x203+-0x1000)),h(this,'shadowCatc'+'her',!(0xb61*0x1+-0x5e4+-0x34*0x1b));}}class dl{constructor(){h(this,'defines',new Map()),h(this,'forceUv1',!(-0x173f+-0x1aa3+0x63*0x81)),h(this,'specularTi'+'nt',!(-0xa*-0x386+-0xd*-0x1c9+0x4*-0xe9c)),h(this,'metalnessT'+'int',!(-0xb0+0x77+-0x2*-0x1d)),h(this,'glossTint',!(0x86a+-0xe2*-0x1d+-0x2203*0x1)),h(this,'emissiveEn'+'coding','linear'),h(this,'lightMapEn'+'coding','linear'),h(this,'packedNorm'+'al',!(-0x7*-0x1b+-0xe01+0xd45)),h(this,'normalDeta'+'ilPackedNo'+'rmal',!(-0x2311+-0x59*-0x3+0x2207)),h(this,'clearCoatP'+'ackedNorma'+'l',!(-0x110e+-0x1ca0+0x2daf)),h(this,'glossInver'+'t',!(0x23*-0x6f+-0x4c4+0x25*0x8a)),h(this,'sheenGloss'+'Invert',!(0x104*-0x15+0x2528+0x1*-0xfd3)),h(this,'clearCoatG'+'lossInvert',!(0x1327*0x1+0x1*-0x1ac1+-0x79b*-0x1)),h(this,'useAO',!(-0x31f+0x1d6*-0x3+0x8a2)),h(this,'litOptions',new wv());}get['pass'](){return this['litOptions']['pass'];}}const Ev={'generateKey'(_0x12b9cd){return'lit'+Object['keys'](_0x12b9cd)['sort']()['map'](_0x3da252=>{var _0x59dbae;return _0x3da252==='shaderChun'+'ks'?((_0x59dbae=_0x12b9cd['shaderChun'+'ks'])==null?void(-0x2693*0x1+0x266c+-0x3*-0xd):_0x59dbae['key'])??'':_0x3da252==='lights'?Ev['generateLi'+'ghtsKey'](_0x12b9cd):_0x3da252+_0x12b9cd[_0x3da252];})['join']('\x0a');},'generateLightsKey'(_0x4556d4){return'lights:'+_0x4556d4['lights']['map'](_0x317303=>!_0x4556d4['clusteredL'+'ightingEna'+'bled']||_0x317303['_type']===ve?_0x317303['key']+',':'')['join']('');}},bn=[],Qd=_0x15792a=>Object['keys'](_0x15792a)['filter'](_0x4a3c78=>_0x4a3c78!=='litOptions')['sort']();class fb extends ya{constructor(){super(...arguments),h(this,'optionsCon'+'text',new dl()),h(this,'optionsCon'+'textMin',new dl());}['generateKe'+'y'](_0x144054){let _0x2a0ba7;return _0x144054===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Qd(_0x144054)),_0x2a0ba7=this['propsMin']):_0x144054===this['optionsCon'+'text']?(this['props']||(this['props']=Qd(_0x144054)),_0x2a0ba7=this['props']):_0x2a0ba7=Qd(_0x144054),'standard:\x0a'+ya['definesHas'+'h'](_0x144054['defines'])+'\x0a'+_0x2a0ba7['map'](_0x2ff870=>_0x2ff870+_0x144054[_0x2ff870])['join']('\x0a')+Ev['generateKe'+'y'](_0x144054['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x5933d4,_0x13ff0c,_0x321e46){const _0x3682f1=_0x321e46[_0x5933d4],_0x49fe4e=_0x321e46[_0x13ff0c],_0x56c25d=_0x321e46['litOptions']['pass']===Aa;let _0x3e76f2;return _0x56c25d&&_0x321e46['litOptions']['nineSliced'+'Mode']===Pt||_0x56c25d&&_0x321e46['litOptions']['nineSliced'+'Mode']===Mt?_0x3e76f2='nineSliced'+'Uv':(_0x3682f1===-0x1bbb+0x870+-0x1*-0x134b?_0x3e76f2='vUv'+_0x49fe4e:_0x3e76f2='vUV'+_0x49fe4e+'_'+_0x3682f1,_0x321e46['heightMap']&&_0x5933d4!=='heightMapT'+'ransform'&&(_0x3e76f2+='\x20+\x20dUvOffs'+'et')),_0x3e76f2;}['_validateM'+'apChunk'](_0x4d6ee6,_0x48c40b,_0x4d31cb){w['call'](()=>{const _0x3b61d2=_0x4d31cb['get'](_0x48c40b)['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1'),_0x4a108f=[],_0x1cc47f=(_0x58cb96,_0x9ea1f8)=>{_0x3b61d2['includes'](_0x58cb96)&&_0x4a108f['push']('\x20\x20'+_0x58cb96+'\x20->\x20'+_0x9ea1f8);};[['$UV','{STD_'+_0x4d6ee6+('_TEXTURE_U'+'V}')],['$CH','{STD_'+_0x4d6ee6+('_TEXTURE_C'+'HANNEL}')],['$SAMPLER','{STD_'+_0x4d6ee6+('_TEXTURE_N'+'AME}')],['$DECODE','{STD_'+_0x4d6ee6+('_TEXTURE_D'+'ECODE}')],['$VC','{STD_'+_0x4d6ee6+('_VERTEX_CH'+'ANNEL}')],['$DETAILMOD'+'E','{STD_'+_0x4d6ee6+('_DETAILMOD'+'E}')],['unpackNorm'+'al(','{STD_'+_0x4d6ee6+('_TEXTURE_D'+'ECODE}(')]]['forEach'](([_0x298e19,_0x39954c])=>_0x1cc47f(_0x298e19,_0x39954c)),[['MAPFLOAT','STD_'+_0x4d6ee6+'_CONSTANT'],['MAPCOLOR','STD_'+_0x4d6ee6+'_CONSTANT'],['MAPVERTEX','STD_'+_0x4d6ee6+'_VERTEX'],['MAPTEXTURE','STD_'+_0x4d6ee6+'_TEXTURE'],['MAPINVERT','STD_'+_0x4d6ee6+'_INVERT']]['forEach'](([_0x391be3,_0x3b876e])=>_0x1cc47f(_0x391be3,_0x3b876e)),_0x3b61d2['includes']('$texture2D'+'SAMPLE')&&_0x1cc47f('$texture2D'+'SAMPLE','(Macro\x20no\x20'+'longer\x20sup'+'ported\x20-\x20r'+'emove/refa'+'ctor)'),_0x4a108f['length']>0x1984+0xfd4+0x6e4*-0x6&&w['errorOnce']('Shader\x20chu'+'nk\x20'+_0x48c40b+('\x20is\x20in\x20no\x20'+'longer\x20com'+'patible\x20fo'+'rmat.\x20Plea'+'se\x20make\x20th'+'ese\x20replac'+'ements\x20to\x20'+'bring\x20it\x20t'+'o\x20the\x20curr'+'ent\x20versio'+'n:\x0a')+_0x4a108f['join']('\x0a'),{'code':_0x3b61d2});});}['_addMapDef'+'ines'](_0x2514a8,_0x5521d9,_0x41b499,_0x8912e7,_0x539cb2,_0x4a2acd,_0x54863d=null){const _0x481c62=_0x5521d9+'Map',_0x1dff25=_0x5521d9['toUpperCas'+'e'](),_0x58365c=_0x481c62+'Uv',_0x1e34a9=_0x481c62+'Identifier',_0x3617ad=_0x481c62+'Transform',_0x3fb160=_0x481c62+'Channel',_0x1c1b92=_0x5521d9+('VertexColo'+'rChannel'),_0x32842c=_0x5521d9+'Tint',_0x10c53c=_0x5521d9+('VertexColo'+'r'),_0x24e2d8=_0x5521d9+'Mode',_0x170f1f=_0x5521d9+'Invert',_0x395658=_0x8912e7[_0x32842c],_0x5066c7=_0x8912e7[_0x10c53c],_0x388702=_0x8912e7[_0x481c62],_0x5954f4=_0x8912e7[_0x1e34a9],_0x36fdc9=_0x8912e7[_0x24e2d8],_0x193dc0=_0x539cb2['get'](_0x41b499);if(w['assert'](_0x193dc0,'Shader\x20chu'+'nk\x20'+_0x41b499+('\x20not\x20found'+'.')),w['call'](()=>{_0x193dc0&&this['_validateM'+'apChunk'](_0x1dff25,_0x41b499,_0x539cb2);}),_0x388702){_0x2514a8['set']('STD_'+_0x1dff25+'_TEXTURE','');const _0x15ea6b=this['_getUvSour'+'ceExpressi'+'on'](_0x3617ad,_0x58365c,_0x8912e7);_0x2514a8['set']('{STD_'+_0x1dff25+('_TEXTURE_U'+'V}'),_0x15ea6b),_0x2514a8['set']('{STD_'+_0x1dff25+('_TEXTURE_C'+'HANNEL}'),_0x8912e7[_0x3fb160]);const _0x90d1a9='{STD_'+_0x1dff25+('_TEXTURE_N'+'AME}');if(_0x193dc0['includes'](_0x90d1a9)){let _0x5e147a='texture_'+_0x481c62;const _0x33b347=_0x4a2acd[_0x5954f4];_0x33b347?_0x5e147a=_0x33b347:(_0x4a2acd[_0x5954f4]=_0x5e147a,_0x2514a8['set']('STD_'+_0x1dff25+('_TEXTURE_A'+'LLOCATE'),'')),_0x2514a8['set'](_0x90d1a9,_0x5e147a);}if(_0x54863d){const _0x120b22=_0x8912e7[_0x3fb160]==='aaa'?'passThroug'+'h':Tr['decodeFunc'](_0x54863d);_0x2514a8['set']('{STD_'+_0x1dff25+('_TEXTURE_D'+'ECODE}'),_0x120b22);}}_0x5066c7&&(_0x2514a8['set']('STD_'+_0x1dff25+'_VERTEX',''),_0x2514a8['set']('{STD_'+_0x1dff25+('_VERTEX_CH'+'ANNEL}'),_0x8912e7[_0x1c1b92])),_0x36fdc9&&_0x2514a8['set']('{STD_'+_0x1dff25+('_DETAILMOD'+'E}'),_0x36fdc9),_0x395658&&_0x2514a8['set']('STD_'+_0x1dff25+'_CONSTANT',''),_0x8912e7[_0x170f1f]&&_0x2514a8['set']('STD_'+_0x1dff25+'_INVERT','');}['_correctCh'+'annel'](_0x8350b1,_0x2fb6d9,_0x528202){if(_0x528202[_0x8350b1]>0x1*0x1b85+0x99b+-0x2520){if(_0x528202[_0x8350b1]<_0x2fb6d9['length'])return _0x2fb6d9['substring'](0x17f*0x1a+-0x1*0x2441+0x2a5*-0x1,_0x528202[_0x8350b1]);if(_0x528202[_0x8350b1]>_0x2fb6d9['length']){let _0x9a98ba=_0x2fb6d9;const _0x3116f9=_0x9a98ba['charAt'](_0x9a98ba['length']-(-0xad0+0x32d*0x7+-0x5b5*0x2)),_0x7878a2=_0x528202[_0x8350b1]-_0x9a98ba['length'];for(let _0x1a8e4e=0x1c04+0x61b*0x2+-0x283a;_0x1a8e4e<_0x7878a2;_0x1a8e4e++)_0x9a98ba+=_0x3116f9;return _0x9a98ba;}return _0x2fb6d9;}}['createVert'+'exShader'](_0x7197c1,_0x177c05){const _0x2000a2=[],_0x434188=[],_0x4d9dac=[];for(const _0x3b6de8 in bn){const _0x34d0f1=_0x3b6de8+'Map';if(_0x177c05[_0x3b6de8+('VertexColo'+'r')]){const _0x444c21=_0x3b6de8+('VertexColo'+'rChannel');_0x177c05[_0x444c21]=this['_correctCh'+'annel'](_0x3b6de8,_0x177c05[_0x444c21],bn);}if(_0x177c05[_0x34d0f1]){const _0x476c28=_0x34d0f1+'Channel',_0x2af84b=_0x34d0f1+'Transform',_0x19888e=_0x34d0f1+'Uv';_0x177c05[_0x19888e]=Math['min'](_0x177c05[_0x19888e],0x1cb5+-0x3*-0x4e9+-0x2b6f),_0x177c05[_0x476c28]=this['_correctCh'+'annel'](_0x3b6de8,_0x177c05[_0x476c28],bn);const _0x335515=_0x177c05[_0x19888e];_0x2000a2[_0x335515]=!(0xb*0x263+0x6fe+-0x213f),_0x434188[_0x335515]=_0x434188[_0x335515]||_0x177c05[_0x34d0f1]&&!_0x177c05[_0x2af84b],_0x177c05[_0x2af84b]&&_0x4d9dac['push']({'name':_0x3b6de8,'id':_0x177c05[_0x2af84b],'uv':_0x177c05[_0x19888e]});}}_0x177c05['forceUv1']&&(_0x2000a2[-0x52f+-0xf3c+-0x51b*-0x4]=!(0x16f0+0x57b*0x1+0x19*-0x123),_0x434188[-0x1*0x4e1+-0x476*0x5+0x1b30]=_0x434188[-0x231a*0x1+-0x1e97+0x41b2]!==void(-0x17fb+0x11b*0x7+0x103e)?_0x434188[-0x1afa+0x23*0x83+0x2b*0x36]:!(-0x3c+0xfcf+-0x531*0x3)),_0x7197c1['generateVe'+'rtexShader'](_0x2000a2,_0x434188,_0x4d9dac);}['prepareFra'+'gmentDefin'+'es'](_0x4ecb0b,_0x4f6991,_0x48881f){const _0x3fd31b=(_0x3d3b80,_0x2bd388,_0x2de3ef='')=>{_0x3d3b80&&_0x4f6991['set'](_0x2bd388,_0x2de3ef);};_0x3fd31b(_0x4ecb0b['lightMap'],'STD_LIGHTM'+'AP',''),_0x3fd31b(_0x4ecb0b['lightVerte'+'xColor'],'STD_LIGHT_'+'VERTEX_COL'+'OR',''),_0x3fd31b(_0x4ecb0b['dirLightMa'+'p']&&_0x4ecb0b['litOptions']['useSpecula'+'r'],'STD_LIGHTM'+'AP_DIR',''),_0x3fd31b(_0x4ecb0b['heightMap'],'STD_HEIGHT'+'_MAP',''),_0x3fd31b(_0x4ecb0b['useSpecula'+'rColor'],'STD_SPECUL'+'AR_COLOR',''),_0x3fd31b(_0x4ecb0b['aoMap']||_0x4ecb0b['aoVertexCo'+'lor']||_0x4ecb0b['useAO'],'STD_AO',''),_0x3fd31b(!(0x153e+-0xa15*-0x2+0x64*-0x6a),'STD_OPACIT'+'Y_DITHER',iE[_0x48881f['isForward']?_0x4ecb0b['litOptions']['opacityDit'+'her']:_0x4ecb0b['litOptions']['opacitySha'+'dowDither']]);}['createShad'+'erDefiniti'+'on'](_0x2bbd3d,_0x178131){const _0x18fc1b=Si['get'](_0x2bbd3d)['getByIndex'](_0x178131['litOptions']['pass']),_0x468fba=_0x18fc1b['isForward'],_0x138cbb=new db(_0x2bbd3d,_0x178131['litOptions']);this['createVert'+'exShader'](_0x138cbb,_0x178131);const _0x180b06={};_0x178131['litOptions']['fresnelMod'+'el']=_0x178131['litOptions']['fresnelMod'+'el']===0x3*-0x3b9+-0x941+0x4*0x51b?Yp:_0x178131['litOptions']['fresnelMod'+'el'];const _0x532dfb=_0x138cbb['fDefines'];this['prepareFra'+'gmentDefin'+'es'](_0x178131,_0x532dfb,_0x18fc1b);let _0x539937='';if(_0x468fba){if(_0x178131['heightMap']&&this['_addMapDef'+'ines'](_0x532dfb,'height','parallaxPS',_0x178131,_0x138cbb['chunks'],_0x180b06),(_0x178131['litOptions']['blendType']!==Cs||_0x178131['litOptions']['alphaTest']||_0x178131['litOptions']['alphaToCov'+'erage']||_0x178131['litOptions']['opacityDit'+'her']!==Sa)&&this['_addMapDef'+'ines'](_0x532dfb,'opacity','opacityPS',_0x178131,_0x138cbb['chunks'],_0x180b06),_0x138cbb['needsNorma'+'l']){if((_0x178131['normalMap']||_0x178131['clearCoatN'+'ormalMap'])&&!_0x178131['litOptions']['hasTangent'+'s']){const _0x119939=_0x178131['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x539937=this['_getUvSour'+'ceExpressi'+'on'](_0x119939+'Transform',_0x119939+'Uv',_0x178131);}this['_addMapDef'+'ines'](_0x532dfb,'normalDeta'+'il','normalMapP'+'S',_0x178131,_0x138cbb['chunks'],_0x180b06,_0x178131['normalDeta'+'ilPackedNo'+'rmal']?'xy':'xyz'),this['_addMapDef'+'ines'](_0x532dfb,'normal','normalMapP'+'S',_0x178131,_0x138cbb['chunks'],_0x180b06,_0x178131['packedNorm'+'al']?'xy':'xyz');}_0x178131['diffuseDet'+'ail']&&this['_addMapDef'+'ines'](_0x532dfb,'diffuseDet'+'ail','diffusePS',_0x178131,_0x138cbb['chunks'],_0x180b06,_0x178131['diffuseDet'+'ailEncodin'+'g']),this['_addMapDef'+'ines'](_0x532dfb,'diffuse','diffusePS',_0x178131,_0x138cbb['chunks'],_0x180b06,_0x178131['diffuseEnc'+'oding']),_0x178131['litOptions']['useRefract'+'ion']&&(this['_addMapDef'+'ines'](_0x532dfb,'refraction','transmissi'+'onPS',_0x178131,_0x138cbb['chunks'],_0x180b06),this['_addMapDef'+'ines'](_0x532dfb,'thickness','thicknessP'+'S',_0x178131,_0x138cbb['chunks'],_0x180b06)),_0x178131['litOptions']['useIridesc'+'ence']&&(this['_addMapDef'+'ines'](_0x532dfb,'iridescenc'+'e','iridescenc'+'ePS',_0x178131,_0x138cbb['chunks'],_0x180b06),this['_addMapDef'+'ines'](_0x532dfb,'iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x178131,_0x138cbb['chunks'],_0x180b06)),(_0x138cbb['lighting']&&_0x178131['litOptions']['useSpecula'+'r']||_0x138cbb['reflection'+'s'])&&(_0x178131['litOptions']['useSheen']&&(this['_addMapDef'+'ines'](_0x532dfb,'sheen','sheenPS',_0x178131,_0x138cbb['chunks'],_0x180b06,_0x178131['sheenEncod'+'ing']),this['_addMapDef'+'ines'](_0x532dfb,'sheenGloss','sheenGloss'+'PS',_0x178131,_0x138cbb['chunks'],_0x180b06)),_0x178131['litOptions']['useMetalne'+'ss']&&(this['_addMapDef'+'ines'](_0x532dfb,'metalness','metalnessP'+'S',_0x178131,_0x138cbb['chunks'],_0x180b06),this['_addMapDef'+'ines'](_0x532dfb,'ior','iorPS',_0x178131,_0x138cbb['chunks'],_0x180b06)),_0x178131['litOptions']['useSpecula'+'rityFactor']&&this['_addMapDef'+'ines'](_0x532dfb,'specularit'+'yFactor','specularit'+'yFactorPS',_0x178131,_0x138cbb['chunks'],_0x180b06),_0x178131['useSpecula'+'rColor']&&this['_addMapDef'+'ines'](_0x532dfb,'specular','specularPS',_0x178131,_0x138cbb['chunks'],_0x180b06,_0x178131['specularEn'+'coding']),this['_addMapDef'+'ines'](_0x532dfb,'gloss','glossPS',_0x178131,_0x138cbb['chunks'],_0x180b06)),_0x178131['aoDetail']&&this['_addMapDef'+'ines'](_0x532dfb,'aoDetail','aoPS',_0x178131,_0x138cbb['chunks'],_0x180b06),(_0x178131['aoMap']||_0x178131['aoVertexCo'+'lor']||_0x178131['useAO'])&&this['_addMapDef'+'ines'](_0x532dfb,'ao','aoPS',_0x178131,_0x138cbb['chunks'],_0x180b06),this['_addMapDef'+'ines'](_0x532dfb,'emissive','emissivePS',_0x178131,_0x138cbb['chunks'],_0x180b06,_0x178131['emissiveEn'+'coding']),_0x178131['litOptions']['useClearCo'+'at']&&(this['_addMapDef'+'ines'](_0x532dfb,'clearCoat','clearCoatP'+'S',_0x178131,_0x138cbb['chunks'],_0x180b06),this['_addMapDef'+'ines'](_0x532dfb,'clearCoatG'+'loss','clearCoatG'+'lossPS',_0x178131,_0x138cbb['chunks'],_0x180b06),this['_addMapDef'+'ines'](_0x532dfb,'clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x178131,_0x138cbb['chunks'],_0x180b06,_0x178131['clearCoatP'+'ackedNorma'+'l']?'xy':'xyz')),_0x178131['litOptions']['enableGGXS'+'pecular']&&this['_addMapDef'+'ines'](_0x532dfb,'anisotropy','anisotropy'+'PS',_0x178131,_0x138cbb['chunks'],_0x180b06),(_0x178131['lightMap']||_0x178131['lightVerte'+'xColor'])&&this['_addMapDef'+'ines'](_0x532dfb,'light','lightmapPS',_0x178131,_0x138cbb['chunks'],_0x180b06,_0x178131['lightMapEn'+'coding']);}else{const _0x5278c2=_0x178131['litOptions']['opacitySha'+'dowDither'];(_0x178131['litOptions']['alphaTest']||_0x5278c2)&&this['_addMapDef'+'ines'](_0x532dfb,'opacity','opacityPS',_0x178131,_0x138cbb['chunks'],_0x180b06);}_0x138cbb['generateFr'+'agmentShad'+'er'](_0x138cbb['chunks']['get']('stdDeclara'+'tionPS'),_0x138cbb['chunks']['get']('stdFrontEn'+'dPS'),_0x539937);const _0x2cce68=bh['merge'](_0x138cbb['chunks'],_0x138cbb['includes']),_0xef20e2=_0x138cbb['vDefines'];_0x178131['defines']['forEach']((_0x26b148,_0x57f5c6)=>_0xef20e2['set'](_0x57f5c6,_0x26b148)),_0x178131['defines']['forEach']((_0x305d30,_0x5c69d2)=>_0x532dfb['set'](_0x5c69d2,_0x305d30));const _0x16d1db=Jt['createDefi'+'nition'](_0x2bbd3d,{'name':'StandardSh'+'ader','attributes':_0x138cbb['attributes'],'shaderLanguage':_0x138cbb['shaderLang'+'uage'],'vertexCode':_0x138cbb['vshader'],'fragmentCode':_0x138cbb['fshader'],'vertexIncludes':_0x2cce68,'fragmentIncludes':_0x2cce68,'fragmentDefines':_0x532dfb,'vertexDefines':_0xef20e2});return _0x138cbb['shaderPass'+'Info']['isForward']&&(_0x16d1db['tag']=Sy),_0x16d1db;}}const Jd=new fb(),ss=[];ss[Gp]={'src':Ft,'dst':Ft,'op':Tx},ss[Cs]={'src':Ft,'dst':rp,'op':fs},ss[Zs]={'src':jh,'dst':Yh,'op':fs,'alphaSrc':Ft},ss[Gn]={'src':Ft,'dst':Yh,'op':fs},ss[Hp]={'src':Ft,'dst':Ft,'op':fs},ss[Ed]={'src':jh,'dst':Ft,'op':fs},ss[$p]={'src':JS,'dst':vx,'op':fs},ss[Xp]={'src':xx,'dst':Ft,'op':fs},ss[Wp]={'src':JS,'dst':rp,'op':fs},ss[qp]={'src':Ft,'dst':Ft,'op':wx},ss[jp]={'src':Ft,'dst':Ft,'op':Ex};let ub=-0x23fe+-0xfce+0x33cc;class tr{constructor(){h(this,'meshInstan'+'ces',[]),h(this,'name','Untitled'),h(this,'userId',''),h(this,'id',ub++),h(this,'variants',new Map()),h(this,'defines',new Map()),h(this,'_definesDi'+'rty',!(0x15c4+-0xf8d+-0x1*0x636)),h(this,'parameters',{}),h(this,'alphaTest',-0x263*0x2+-0x122b*-0x2+0xca*-0x28),h(this,'alphaToCov'+'erage',!(-0x1883+-0x22a9+-0x1*-0x3b2d)),h(this,'_blendStat'+'e',new pt()),h(this,'_depthStat'+'e',new Yt()),h(this,'cull',pa),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'_shaderChu'+'nks',null),h(this,'_oldChunks',{}),h(this,'_dirtyShad'+'er',!(-0x11*0x39+-0x1*0xa70+0xe39)),h(this,'_shaderVer'+'sion',0xf20+0xe44+-0x1d64),h(this,'_scene',null),h(this,'dirty',!(0xa09+0x219a+-0x1*0x2ba3)),new.target===tr&&w['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}get['hasShaderC'+'hunks'](){return this['_shaderChu'+'nks']!=null;}get['shaderChun'+'ks'](){return this['_shaderChu'+'nks']||(this['_shaderChu'+'nks']=new Pe()),this['_shaderChu'+'nks'];}['getShaderC'+'hunks'](_0x55e05b=Fe){const _0x2e02c2=this['shaderChun'+'ks'];return _0x55e05b===Fe?_0x2e02c2['glsl']:_0x2e02c2['wgsl'];}set['shaderChun'+'ksVersion'](_0x2a22c1){this['shaderChun'+'ks']['version']=_0x2a22c1;}get['shaderChun'+'ksVersion'](){return this['shaderChun'+'ks']['version'];}set['chunks'](_0xf3c4ce){w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),this['_oldChunks']=_0xf3c4ce;}get['chunks'](){return w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),Object['assign'](this['_oldChunks'],Object['fromEntrie'+'s'](this['shaderChun'+'ks']['glsl'])),this['_oldChunks'];}set['depthBias'](_0x1296f4){this['_depthStat'+'e']['depthBias']=_0x1296f4;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x37e1b4){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x37e1b4;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x248cf9){this['_blendStat'+'e']['redWrite']=_0x248cf9;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x1a2f42){this['_blendStat'+'e']['greenWrite']=_0x1a2f42;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x4c8f5a){this['_blendStat'+'e']['blueWrite']=_0x4c8f5a;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x5b367c){this['_blendStat'+'e']['alphaWrite']=_0x5b367c;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x3ab1cf=this['transparen'+'t'],_0x1d28af=this['meshInstan'+'ces'];for(let _0x50b94b=-0xd98+0x9eb+0x3ad;_0x50b94b<_0x1d28af['length'];_0x50b94b++)_0x1d28af[_0x50b94b]['transparen'+'t']=_0x3ab1cf;}set['blendState'](_0x3296eb){this['_blendStat'+'e']['copy'](_0x3296eb),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0xe25763){const _0xf8ffb=ss[_0xe25763];w['assert'](_0xf8ffb,'Unknown\x20bl'+'end\x20mode\x20'+_0xe25763),this['_blendStat'+'e']['setColorBl'+'end'](_0xf8ffb['op'],_0xf8ffb['src'],_0xf8ffb['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0xf8ffb['alphaOp']??_0xf8ffb['op'],_0xf8ffb['alphaSrc']??_0xf8ffb['src'],_0xf8ffb['alphaDst']??_0xf8ffb['dst']);const _0x334c84=_0xe25763!==Cs;this['_blendStat'+'e']['blend']!==_0x334c84&&(this['_blendStat'+'e']['blend']=_0x334c84,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return Cs;const {colorOp:_0x771edf,colorSrcFactor:_0x1f04ed,colorDstFactor:_0x20acef,alphaOp:_0x2f95a4,alphaSrcFactor:_0x5eeb93,alphaDstFactor:_0x3e5089}=this['_blendStat'+'e'];for(let _0xc6e2c1=0x419+-0xc03*-0x1+-0x101c;_0xc6e2c1<ss['length'];_0xc6e2c1++){const _0x5a3183=ss[_0xc6e2c1];if(_0x5a3183['src']===_0x1f04ed&&_0x5a3183['dst']===_0x20acef&&_0x5a3183['op']===_0x771edf&&_0x5a3183['src']===_0x5eeb93&&_0x5a3183['dst']===_0x3e5089&&_0x5a3183['op']===_0x2f95a4)return _0xc6e2c1;}return Zs;}set['depthState'](_0x210218){this['_depthStat'+'e']['copy'](_0x210218);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x378353){this['_depthStat'+'e']['test']=_0x378353;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x233f03){this['_depthStat'+'e']['func']=_0x233f03;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x3cf835){this['_depthStat'+'e']['write']=_0x3cf835;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x1de6a6){var _0x2134f7,_0x1acce3;this['name']=_0x1de6a6['name'],this['alphaTest']=_0x1de6a6['alphaTest'],this['alphaToCov'+'erage']=_0x1de6a6['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x1de6a6['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x1de6a6['_depthStat'+'e']),this['cull']=_0x1de6a6['cull'],this['stencilFro'+'nt']=(_0x2134f7=_0x1de6a6['stencilFro'+'nt'])==null?void(-0x17*0x1b1+-0x153+0x2*0x141d):_0x2134f7['clone'](),_0x1de6a6['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x1de6a6['stencilFro'+'nt']===_0x1de6a6['stencilBac'+'k']?this['stencilFro'+'nt']:_0x1de6a6['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x4fc37d in _0x1de6a6['parameters'])_0x1de6a6['parameters']['hasOwnProp'+'erty'](_0x4fc37d)&&this['_setParame'+'terSimple'](_0x4fc37d,_0x1de6a6['parameters'][_0x4fc37d]['data']);return this['defines']['clear'](),_0x1de6a6['defines']['forEach']((_0x712dde,_0x3d410b)=>this['defines']['set'](_0x3d410b,_0x712dde)),this['_shaderChu'+'nks']=_0x1de6a6['hasShaderC'+'hunks']?new Pe():null,(_0x1acce3=this['_shaderChu'+'nks'])==null||_0x1acce3['copy'](_0x1de6a6['_shaderChu'+'nks']),this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x2c525c=this['meshInstan'+'ces'];for(let _0x464bf5=0xde+0x1*0x1d84+0x1e62*-0x1;_0x464bf5<_0x2c525c['length'];_0x464bf5++)_0x2c525c[_0x464bf5]['updateKey']();}['updateUnif'+'orms'](_0x37b9d6,_0x2aca87){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x2ae420){w['assert'](!(-0xc7d+0x1433+0x7b5*-0x1),'Not\x20implem'+'ented');}['update'](){var _0x259115,_0x104b52;if(Object['keys'](this['_oldChunks'])['length']>-0x22b1+0x26*-0xef+0x17*0x30d){for(const [_0x1ca9a5,_0x48329d]of Object['entries'](this['_oldChunks']))this['shaderChun'+'ks']['glsl']['set'](_0x1ca9a5,_0x48329d),delete this['_oldChunks'][_0x1ca9a5];}(this['_definesDi'+'rty']||(_0x259115=this['_shaderChu'+'nks'])!=null&&_0x259115['isDirty']())&&(this['_definesDi'+'rty']=!(0x15e7+0x16c5+0x1*-0x2cab),(_0x104b52=this['_shaderChu'+'nks'])==null||_0x104b52['resetDirty'](),this['clearVaria'+'nts']()),this['dirty']=!(0x281+-0x19f9+0x1778);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x5dc7d6=this['meshInstan'+'ces'],_0xfd41b9=_0x5dc7d6['length'];for(let _0x228402=0x13*-0x1b1+0x2263+-0x240;_0x228402<_0xfd41b9;_0x228402++)_0x5dc7d6[_0x228402]['clearShade'+'rs']();}['getParamet'+'er'](_0x424c2a){return this['parameters'][_0x424c2a];}['_setParame'+'terSimple'](_0x2a920e,_0x5a96bb){w['call'](()=>{_0x5a96bb===void(0xe8f+-0x1b56+-0x1*-0xcc7)&&w['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x2a920e+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'),this);});const _0x59a966=this['parameters'][_0x2a920e];_0x59a966?_0x59a966['data']=_0x5a96bb:this['parameters'][_0x2a920e]={'scopeId':null,'data':_0x5a96bb};}['setParamet'+'er'](_0xa411d2,_0x6e3b19){if(_0x6e3b19===void(-0x8e*0xa+-0x161*-0xb+-0x99f)&&typeof _0xa411d2=='object'){const _0x4cc47b=_0xa411d2;if(_0x4cc47b['length']){for(let _0x48fc8b=-0x22af*-0x1+0x1a19+-0x3cc8;_0x48fc8b<_0x4cc47b['length'];_0x48fc8b++)this['setParamet'+'er'](_0x4cc47b[_0x48fc8b]);return;}_0xa411d2=_0x4cc47b['name'],_0x6e3b19=_0x4cc47b['value'];}this['_setParame'+'terSimple'](_0xa411d2,_0x6e3b19);}['deletePara'+'meter'](_0x102dbe){this['parameters'][_0x102dbe]&&delete this['parameters'][_0x102dbe];}['setParamet'+'ers'](_0x5c7318,_0x4118c6){const _0x2c195a=this['parameters'];_0x4118c6===void(-0xddc+-0x2548+0xc*0x443)&&(_0x4118c6=_0x2c195a);for(const _0x2fa570 in _0x4118c6){const _0xe66337=_0x2c195a[_0x2fa570];_0xe66337&&(_0xe66337['scopeId']||(_0xe66337['scopeId']=_0x5c7318['scope']['resolve'](_0x2fa570)),_0xe66337['scopeId']['setValue'](_0xe66337['data']));}}['setDefine'](_0xd2e2a5,_0x3948f8){let _0x2ca62f=!(-0x24cc+-0x1399+0x3866);const {defines:_0x233727}=this;_0x3948f8!==void(-0x3e*0x66+0xd*0x3f+0x1581)&&_0x3948f8!==!(0x11b2+0x53*0x1b+-0x5*0x54a)?(_0x2ca62f=!_0x233727['has'](_0xd2e2a5)||_0x233727['get'](_0xd2e2a5)!==_0x3948f8,_0x233727['set'](_0xd2e2a5,_0x3948f8)):(_0x2ca62f=_0x233727['has'](_0xd2e2a5),_0x233727['delete'](_0xd2e2a5)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x2ca62f);}['getDefine'](_0x27fa3b){return this['defines']['has'](_0x27fa3b);}['destroy'](){this['variants']['clear']();for(let _0x66ae23=-0x3a3+0xc45+-0x8a2;_0x66ae23<this['meshInstan'+'ces']['length'];_0x66ae23++){const _0x44c67c=this['meshInstan'+'ces'][_0x66ae23];if(_0x44c67c['clearShade'+'rs'](),_0x44c67c['_material']=null,_0x44c67c['mesh']){const _0x1c18c0=Qn(_0x44c67c['mesh']['device']);this!==_0x1c18c0&&(_0x44c67c['material']=_0x1c18c0);}else w['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=-0xd3f+0x7c6+-0x3*-0x1d3;}['addMeshIns'+'tanceRef'](_0x2477c7){this['meshInstan'+'ces']['push'](_0x2477c7);}['removeMesh'+'InstanceRe'+'f'](_0x34f117){const _0x4df188=this['meshInstan'+'ces'],_0x347f7c=_0x4df188['indexOf'](_0x34f117);_0x347f7c!==-(-0xcff*-0x1+-0x1*0x1327+0x13*0x53)&&_0x4df188['splice'](_0x347f7c,-0xd*-0x193+-0x1*-0x1625+-0x2a9b);}}class Ws{static['update'](_0x2cea9c,_0x3487a8,_0x48260f,_0x3a09c5,_0x99685b,_0x203f15,_0x13ea82){Ws['updateShar'+'edOptions'](_0x2cea9c,_0x3487a8,_0x48260f,_0x99685b,_0x203f15),Ws['updateMate'+'rialOption'+'s'](_0x2cea9c,_0x3487a8),Ws['updateEnvO'+'ptions'](_0x2cea9c,_0x3487a8,_0x48260f,_0x3a09c5),Ws['updateLigh'+'tingOption'+'s'](_0x2cea9c,_0x3487a8,_0x48260f,_0x99685b,_0x13ea82);}static['updateShar'+'edOptions'](_0x25cec7,_0x24a0b7,_0x49b3ee,_0x31c725,_0x3a4879){_0x25cec7['shaderChun'+'ks']=_0x24a0b7['shaderChun'+'ks'],_0x25cec7['pass']=_0x3a4879,_0x25cec7['alphaTest']=_0x24a0b7['alphaTest']>0xf0e*-0x1+0xcbf+0x24f,_0x25cec7['blendType']=_0x24a0b7['blendType'],_0x25cec7['screenSpac'+'e']=_0x31c725&&(_0x31c725&Eh)!==-0x2*-0x941+-0x869+-0xa19,_0x25cec7['skin']=_0x31c725&&(_0x31c725&nl)!==0x5*0x1d+0x1676+-0x1707,_0x25cec7['useInstanc'+'ing']=_0x31c725&&(_0x31c725&ol)!==0x21ee+0x8*0x40d+-0x4256,_0x25cec7['useMorphPo'+'sition']=_0x31c725&&(_0x31c725&ll)!==-0x7ee+-0x2*0x64d+0x1488,_0x25cec7['useMorphNo'+'rmal']=_0x31c725&&(_0x31c725&cl)!==-0x1*-0x1db+-0x24de+0x2303,_0x25cec7['useMorphTe'+'xtureBased'+'Int']=_0x31c725&&(_0x31c725&hl)!==-0x370+0x3*-0x408+0xf88,_0x25cec7['hasTangent'+'s']=_0x31c725&&(_0x31c725&om)!==-0x3*-0x913+-0x190c+-0x22d,_0x25cec7['nineSliced'+'Mode']=_0x24a0b7['nineSliced'+'Mode']||ci,_0x24a0b7['useLightin'+'g']&&_0x49b3ee['clusteredL'+'ightingEna'+'bled']?(_0x25cec7['clusteredL'+'ightingEna'+'bled']=!(0x23d5*0x1+0x2*-0x916+-0x11a9),_0x25cec7['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x49b3ee['lighting']['cookiesEna'+'bled'],_0x25cec7['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x49b3ee['lighting']['shadowsEna'+'bled'],_0x25cec7['clusteredL'+'ightingSha'+'dowType']=_0x49b3ee['lighting']['shadowType'],_0x25cec7['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x49b3ee['lighting']['areaLights'+'Enabled']):(_0x25cec7['clusteredL'+'ightingEna'+'bled']=!(-0x7*0x157+-0xd5*0x12+0x185c),_0x25cec7['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0xe03+0x77*-0x1f+0x1c6d),_0x25cec7['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x4*0x1e2+-0x60a*-0x3+-0x19a5),_0x25cec7['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0x1e87+0x1*-0x1f57+-0x151*-0x2f));}static['updateMate'+'rialOption'+'s'](_0x21ab05,_0x398bf2){_0x21ab05['separateAm'+'bient']=!(0x33*-0x22+-0xa1d+0x5c*0x2f),_0x21ab05['pixelSnap']=_0x398bf2['pixelSnap'],_0x21ab05['ambientSH']=_0x398bf2['ambientSH'],_0x21ab05['twoSidedLi'+'ghting']=_0x398bf2['twoSidedLi'+'ghting'],_0x21ab05['occludeDir'+'ect']=_0x398bf2['occludeDir'+'ect'],_0x21ab05['occludeSpe'+'cular']=_0x398bf2['occludeSpe'+'cular'],_0x21ab05['occludeSpe'+'cularFloat']=_0x398bf2['occludeSpe'+'cularInten'+'sity']!==0x6c1+-0x1226+0x5b3*0x2,_0x21ab05['useMsdf']=!(-0x44*0x57+0x50b+0x1212),_0x21ab05['msdfTextAt'+'tribute']=!(0xb76*-0x3+0x49*-0x2c+0x2eef),_0x21ab05['alphaToCov'+'erage']=_0x398bf2['alphaToCov'+'erage'],_0x21ab05['opacityFad'+'esSpecular']=_0x398bf2['opacityFad'+'esSpecular'],_0x21ab05['opacityDit'+'her']=_0x398bf2['opacityDit'+'her'],_0x21ab05['cubeMapPro'+'jection']=tm,_0x21ab05['useSpecula'+'r']=_0x398bf2['hasSpecula'+'r'],_0x21ab05['useSpecula'+'rityFactor']=_0x398bf2['hasSpecula'+'rityFactor'],_0x21ab05['enableGGXS'+'pecular']=_0x398bf2['ggxSpecula'+'r'],_0x21ab05['fresnelMod'+'el']=_0x398bf2['fresnelMod'+'el'],_0x21ab05['useRefract'+'ion']=_0x398bf2['hasRefract'+'ion'],_0x21ab05['useClearCo'+'at']=_0x398bf2['hasClearCo'+'at'],_0x21ab05['useSheen']=_0x398bf2['hasSheen'],_0x21ab05['useIridesc'+'ence']=_0x398bf2['hasIrrides'+'cence'],_0x21ab05['useMetalne'+'ss']=_0x398bf2['hasMetalne'+'ss'],_0x21ab05['useDynamic'+'Refraction']=_0x398bf2['dynamicRef'+'raction'],_0x21ab05['dispersion']=_0x398bf2['dispersion']>-0x1039*-0x2+0x2222*-0x1+0x1b0,_0x21ab05['vertexColo'+'rs']=!(-0x7bd+0x197*0xb+-0x1*0x9bf),_0x21ab05['lightMapEn'+'abled']=_0x398bf2['hasLightin'+'g'],_0x21ab05['dirLightMa'+'pEnabled']=_0x398bf2['dirLightMa'+'p'],_0x21ab05['useHeights']=_0x398bf2['hasHeights'],_0x21ab05['useNormals']=_0x398bf2['hasNormals'],_0x21ab05['useClearCo'+'atNormals']=_0x398bf2['hasClearCo'+'atNormals'],_0x21ab05['useAo']=_0x398bf2['hasAo'],_0x21ab05['diffuseMap'+'Enabled']=_0x398bf2['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x1e95aa,_0x4c92c1,_0x386f6a,_0x36481a){_0x1e95aa['fog']=_0x4c92c1['useFog']?_0x36481a['fog']:Kn,_0x1e95aa['gamma']=_0x36481a['shaderOutp'+'utGamma'],_0x1e95aa['toneMap']=_0x4c92c1['useTonemap']?_0x36481a['toneMappin'+'g']:nv,_0x4c92c1['useSkybox']&&_0x386f6a['envAtlas']&&_0x386f6a['skybox']?(_0x1e95aa['reflection'+'Source']=xh,_0x1e95aa['reflection'+'Encoding']=_0x386f6a['envAtlas']['encoding'],_0x1e95aa['reflection'+'CubemapEnc'+'oding']=_0x386f6a['skybox']['encoding']):_0x4c92c1['useSkybox']&&_0x386f6a['envAtlas']?(_0x1e95aa['reflection'+'Source']=vh,_0x1e95aa['reflection'+'Encoding']=_0x386f6a['envAtlas']['encoding']):_0x4c92c1['useSkybox']&&_0x386f6a['skybox']?(_0x1e95aa['reflection'+'Source']=Th,_0x1e95aa['reflection'+'Encoding']=_0x386f6a['skybox']['encoding']):(_0x1e95aa['reflection'+'Source']=vr,_0x1e95aa['reflection'+'Encoding']=null),_0x4c92c1['ambientSH']?(_0x1e95aa['ambientSou'+'rce']=im,_0x1e95aa['ambientEnc'+'oding']=null):_0x1e95aa['reflection'+'Source']!==vr&&_0x386f6a['envAtlas']?(_0x1e95aa['ambientSou'+'rce']=rm,_0x1e95aa['ambientEnc'+'oding']=_0x386f6a['envAtlas']['encoding']):(_0x1e95aa['ambientSou'+'rce']=am,_0x1e95aa['ambientEnc'+'oding']=null);const _0x5f2f9f=_0x1e95aa['reflection'+'Source']!==vr;_0x1e95aa['skyboxInte'+'nsity']=_0x5f2f9f,_0x1e95aa['useCubeMap'+'Rotation']=_0x5f2f9f&&_0x386f6a['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x47c407,_0x4bbfc6,_0x40d948,_0x5a6aa5,_0x99c722){if(_0x47c407['lightMapWi'+'thoutAmbie'+'nt']=!(0xcb+0xe9*-0x22+0x8*0x3c5),_0x4bbfc6['useLightin'+'g']){const _0x1633ec=[],_0x4cde5a=_0x5a6aa5?_0x5a6aa5>>0xa1*-0x1a+0xa*-0xd+-0x4c*-0x39:Ss;_0x47c407['lightMaskD'+'ynamic']=!!(_0x4cde5a&Ss),_0x47c407['lightMapWi'+'thoutAmbie'+'nt']=!(0x6*0x29a+-0x1*-0x24af+-0x344a),_0x99c722&&(Ws['collectLig'+'hts'](ve,_0x99c722[ve],_0x1633ec,_0x4cde5a),_0x40d948['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x99c722[Ke],_0x1633ec,_0x4cde5a),Ws['collectLig'+'hts'](Ze,_0x99c722[Ze],_0x1633ec,_0x4cde5a))),_0x47c407['lights']=_0x1633ec;}else _0x47c407['lights']=[];(_0x47c407['lights']['length']===-0x1*-0x50d+0x839*-0x2+-0x1*-0xb65&&!_0x40d948['clusteredL'+'ightingEna'+'bled']||(_0x5a6aa5&wh)!==0x7*-0x475+-0xf48+0x2e7b)&&(_0x47c407['noShadow']=!(0x1*-0x2077+-0x1d*-0xc5+0xa26));}static['collectLig'+'hts'](_0x3a140d,_0xe16de1,_0x9b2358,_0x1f6ae8){for(let _0x5340ed=-0xbd2+-0x3*-0x9c9+-0x1189;_0x5340ed<_0xe16de1['length'];_0x5340ed++){const _0x57b1a6=_0xe16de1[_0x5340ed];_0x57b1a6['enabled']&&_0x57b1a6['mask']&_0x1f6ae8&&_0x9b2358['push'](_0x57b1a6);}}}const G_=(_0x270477,_0xe4f1c)=>{if(_0x270477['length']!==_0xe4f1c['length'])return!(-0xb6+0x207d+-0x245*0xe);for(let _0x4dba0b=-0x5*0x45+0x2006+0x1ead*-0x1;_0x4dba0b<_0x270477['length'];++_0x4dba0b)if(_0x270477[_0x4dba0b]!==_0xe4f1c[_0x4dba0b])return!(0xa7*0x13+0x9d*0x28+-0x24ec);return!(0xa83+-0x409*0x7+0x11bc*0x1);},pb=_0x2308b3=>_0x2308b3['r']!==0x24e5+0xa24+-0x6b8*0x7||_0x2308b3['g']!==-0x1aab+-0xb*-0x22e+0x2b2||_0x2308b3['b']!==-0x9d8+-0x2280+-0x2c59*-0x1,mb=_0x2fa1ef=>_0x2fa1ef['r']!==-0x397*-0x3+0xa85*0x1+0x1*-0x154a||_0x2fa1ef['g']!==0x2144+0x33*0xa7+-0x4289||_0x2fa1ef['b']!==0x2573+-0x394*-0x4+-0x33c3;class _b{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x1586e5,_0x525677,_0x7d4907,_0x3232ed,_0x4006d5,_0x274d44){this['_updateSha'+'redOptions'](_0x1586e5,_0x525677,_0x7d4907,_0x3232ed,_0x4006d5),this['_updateMin'+'Options'](_0x1586e5,_0x7d4907,_0x4006d5),this['_updateUVO'+'ptions'](_0x1586e5,_0x7d4907,_0x3232ed,!(0x2189+0x1*0x1beb+0x4*-0xf5d));}['updateRef'](_0x274724,_0x3f1bb4,_0x589787,_0x362d51,_0x3d3e5f,_0x152d5f,_0x4c3226){this['_updateSha'+'redOptions'](_0x274724,_0x3f1bb4,_0x362d51,_0x3d3e5f,_0x152d5f),this['_updateEnv'+'Options'](_0x274724,_0x362d51,_0x3f1bb4,_0x589787),this['_updateMat'+'erialOptio'+'ns'](_0x274724,_0x362d51,_0x3f1bb4),_0x274724['litOptions']['hasTangent'+'s']=_0x3d3e5f&&(_0x3d3e5f&om)!==0x17f2+-0x1b46+0x354,this['_updateLig'+'htOptions'](_0x274724,_0x3f1bb4,_0x362d51,_0x3d3e5f,_0x4c3226),this['_updateUVO'+'ptions'](_0x274724,_0x362d51,_0x3d3e5f,!(0x1*0x128f+-0x3*-0x255+0x1*-0x198d),_0x589787);}['_updateSha'+'redOptions'](_0x26e068,_0x3662ae,_0x375f90,_0xe91e76,_0x2ef2e0){_0x26e068['forceUv1']=_0x375f90['forceUv1'],_0x375f90['userAttrib'+'utes']&&(_0x26e068['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x375f90['userAttrib'+'utes']['entries']())),_0x26e068['litOptions']['shaderChun'+'ks']=_0x375f90['shaderChun'+'ks'],_0x26e068['litOptions']['pass']=_0x2ef2e0,_0x26e068['litOptions']['alphaTest']=_0x375f90['alphaTest']>0xef2+0x7*-0x378+0x1*0x956,_0x26e068['litOptions']['blendType']=_0x375f90['blendType'],_0x26e068['litOptions']['screenSpac'+'e']=_0xe91e76&&(_0xe91e76&Eh)!==0x2*0x17b+-0x8ca+0x5d4*0x1,_0x26e068['litOptions']['skin']=_0xe91e76&&(_0xe91e76&nl)!==-0x822*0x1+-0x2*-0x11b7+-0x1b4c,_0x26e068['litOptions']['batch']=_0xe91e76&&(_0xe91e76&qc)!==0x1*-0x210e+0x1314+-0x6fd*-0x2,_0x26e068['litOptions']['useInstanc'+'ing']=_0xe91e76&&(_0xe91e76&ol)!==-0x263e+-0xbab+-0x10a3*-0x3,_0x26e068['litOptions']['useMorphPo'+'sition']=_0xe91e76&&(_0xe91e76&ll)!==0x1d5d+-0x50b+-0x1852,_0x26e068['litOptions']['useMorphNo'+'rmal']=_0xe91e76&&(_0xe91e76&cl)!==0x1*-0xd6a+0x1b*0xbd+0x1*-0x685,_0x26e068['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0xe91e76&&(_0xe91e76&hl)!==0xac5+-0x1af9*-0x1+-0x12df*0x2,_0x26e068['litOptions']['nineSliced'+'Mode']=_0x375f90['nineSliced'+'Mode']||-0xd32+0x796*0x3+-0x990,_0x3662ae['clusteredL'+'ightingEna'+'bled']&&_0x375f90['useLightin'+'g']?(_0x26e068['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x2380+0x11b1+-0x9*0x5e9),_0x26e068['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x3662ae['lighting']['cookiesEna'+'bled'],_0x26e068['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x3662ae['lighting']['shadowsEna'+'bled'],_0x26e068['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x3662ae['lighting']['shadowType'],_0x26e068['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x3662ae['lighting']['areaLights'+'Enabled']):(_0x26e068['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x1*0x1976+-0x4*0x431+0x2a3b),_0x26e068['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x37e+-0x247a+0x27f9),_0x26e068['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x3*0x991+0x1169*0x2+-0x61e),_0x26e068['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0xae*-0x31+0x954*0x2+0xea7));}['_updateUVO'+'ptions'](_0x767907,_0x4abf86,_0x5e0d9a,_0x3c1b06,_0xf3cea8){let _0x4f32f2=!(0x1be2+-0x1ad7+0x26*-0x7),_0x5ba3af=!(0x13*0x35+-0x1*-0x6e+-0x45c),_0x57dee3=!(-0x88*0xb+0x349*0x1+0x1*0x290);_0x5e0d9a&&(_0x4f32f2=(_0x5e0d9a&nm)!==0x2f5*-0x8+-0x450*-0x3+-0x31*-0x38,_0x5ba3af=(_0x5e0d9a&dv)!==0x1*0xfa1+0x1*0x79f+0x4*-0x5d0,_0x57dee3=(_0x5e0d9a&fv)!==-0x1fde+0xc4e+-0x8*-0x272),_0x767907['litOptions']['vertexColo'+'rs']=!(0x2644+0x75b+-0x16cf*0x2),this['_mapXForms']=[];const _0x3c4e07={};for(const _0x38a548 in bn)this['_updateTex'+'Options'](_0x767907,_0x4abf86,_0x38a548,_0x4f32f2,_0x5ba3af,_0x57dee3,_0x3c1b06,_0x3c4e07);this['_mapXForms']=null,_0x767907['litOptions']['ssao']=_0xf3cea8==null?void(0xe18+-0x1536+0x71e):_0xf3cea8['ssaoEnable'+'d'],_0x767907['useAO']=_0x767907['litOptions']['ssao'],_0x767907['litOptions']['lightMapEn'+'abled']=_0x767907['lightMap'],_0x767907['litOptions']['dirLightMa'+'pEnabled']=_0x767907['dirLightMa'+'p'],_0x767907['litOptions']['useHeights']=_0x767907['heightMap'],_0x767907['litOptions']['useNormals']=_0x767907['normalMap'],_0x767907['litOptions']['useClearCo'+'atNormals']=_0x767907['clearCoatN'+'ormalMap'],_0x767907['litOptions']['useAo']=_0x767907['aoMap']||_0x767907['aoVertexCo'+'lor']||_0x767907['litOptions']['ssao'],_0x767907['litOptions']['diffuseMap'+'Enabled']=_0x767907['diffuseMap'];}['_updateTex'+'Options'](_0x508f5a,_0x277f0e,_0x10e2a8,_0x114fc2,_0x148f7b,_0x283731,_0x5db91a,_0x21ac4f){const _0x2a364b=_0x10e2a8==='opacity';if(!_0x5db91a||_0x2a364b){const _0x3f3854=_0x10e2a8+'Map',_0x455ab5=_0x10e2a8+('VertexColo'+'r'),_0x1d6d0b=_0x10e2a8+('VertexColo'+'rChannel'),_0xf362b=_0x3f3854+'Channel',_0x531632=_0x3f3854+'Transform',_0x65db1=_0x3f3854+'Uv',_0x3d90e4=_0x3f3854+'Identifier';if(_0x10e2a8!=='light'&&(_0x508f5a[_0x3f3854]=!(-0x20c4+-0x19*-0xa6+0x108f),_0x508f5a[_0x3d90e4]=void(0x17f8+-0x2112+0x91a),_0x508f5a[_0xf362b]='',_0x508f5a[_0x531632]=-0x3*0x31b+0x1f5*-0xb+-0x468*-0x7,_0x508f5a[_0x65db1]=-0x937*0x4+-0x853*-0x3+0xb3*0x11),_0x508f5a[_0x455ab5]=!(0x17d2*-0x1+0x3a*-0xa+-0x1*-0x1a17),_0x508f5a[_0x1d6d0b]='',_0x2a364b&&_0x277f0e['blendType']===Cs&&_0x277f0e['alphaTest']===0x17c7+-0x1535+-0x292&&!_0x277f0e['alphaToCov'+'erage']&&_0x277f0e['opacityDit'+'her']===Sa)return;if(_0x10e2a8!=='height'&&_0x277f0e[_0x455ab5]&&_0x283731&&(_0x508f5a[_0x455ab5]=_0x277f0e[_0x455ab5],_0x508f5a[_0x1d6d0b]=_0x277f0e[_0x1d6d0b],_0x508f5a['litOptions']['vertexColo'+'rs']=!(-0x1799*0x1+0xaff+0x2*0x64d)),_0x277f0e[_0x3f3854]){let _0xcd013b=!(-0x1*-0x1039+-0x2164+0x1*0x112b);if(_0x277f0e[_0x65db1]===-0x1*-0x21fe+0xda8+-0x2fa6&&!_0x114fc2&&(_0xcd013b=!(-0xb*-0x14+-0x1*-0x122c+-0x1307*0x1)),_0x277f0e[_0x65db1]===-0x50a+0x22b3+-0x1da8&&!_0x148f7b&&(_0xcd013b=!(0x5*0x79f+-0x125*0xb+-0x1983)),_0xcd013b){const _0x411de7=_0x277f0e[_0x3f3854]['id'];let _0x5cdbf8=_0x21ac4f[_0x411de7];_0x5cdbf8===void(0x14ff+0x1aa9+0xc8*-0x3d)&&(_0x21ac4f[_0x411de7]=_0x10e2a8,_0x5cdbf8=_0x10e2a8),_0x508f5a[_0x3f3854]=!!_0x277f0e[_0x3f3854],_0x508f5a[_0x3d90e4]=_0x5cdbf8,_0x508f5a[_0x531632]=this['_getMapTra'+'nsformID'](_0x277f0e['getUniform'](_0x531632),_0x277f0e[_0x65db1]),_0x508f5a[_0xf362b]=_0x277f0e[_0xf362b],_0x508f5a[_0x65db1]=_0x277f0e[_0x65db1];}}}}['_updateMin'+'Options'](_0x53e73f,_0x3aa680,_0x38f045){const _0x3138a1=_0x38f045===Rl;_0x53e73f['litOptions']['opacitySha'+'dowDither']=_0x3138a1?_0x3aa680['opacityDit'+'her']:_0x3aa680['opacitySha'+'dowDither'],_0x53e73f['litOptions']['linearDept'+'h']=_0x3138a1,_0x53e73f['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x4b32d1,_0x36e0ef,_0x2e636e){var _0x11b5ba,_0x12355c,_0x43cb26,_0x3f330f,_0x3c0faf,_0x217873;const _0x365993=!!(_0x36e0ef['useMetalne'+'ss']||_0x36e0ef['specularMa'+'p']||_0x36e0ef['sphereMap']||_0x36e0ef['cubeMap']||mb(_0x36e0ef['specular'])||_0x36e0ef['specularit'+'yFactor']>0x2e*-0x5+-0x246a+0x2550&&_0x36e0ef['useMetalne'+'ss']||_0x36e0ef['enableGGXS'+'pecular']||_0x36e0ef['clearCoat']>0x669+-0x4*0x779+-0x177b*-0x1),_0x439f9b=!_0x36e0ef['useMetalne'+'ss']||_0x36e0ef['useMetalne'+'ssSpecular'+'Color'],_0x57dbf4=_0x365993&&(_0x36e0ef['specularTi'+'nt']||!_0x36e0ef['specularMa'+'p']&&!_0x36e0ef['specularVe'+'rtexColor'])&&pb(_0x36e0ef['specular']),_0x1b8b9c=_0x365993&&_0x36e0ef['useMetalne'+'ssSpecular'+'Color']&&(_0x36e0ef['specularit'+'yFactorTin'+'t']||_0x36e0ef['specularit'+'yFactor']<-0x188*0x5+0x44*0x6b+0x5*-0x427&&!_0x36e0ef['specularit'+'yFactorMap']),_0x57064f=_0x30c959=>_0x30c959?_0x30c959['format']===vl||_0x30c959['type']===Jo:!(-0x138f+-0x10*0x95+-0x70*-0x42),_0x101779=(_0x5ccfb9,_0x499686)=>Math['abs'](_0x5ccfb9-_0x499686)<0x5*0x2e+0x3*0x91d+-0x1c3d+0.0001;_0x4b32d1['specularTi'+'nt']=_0x57dbf4,_0x4b32d1['specularit'+'yFactorTin'+'t']=_0x1b8b9c,_0x4b32d1['metalnessT'+'int']=_0x36e0ef['useMetalne'+'ss']&&_0x36e0ef['metalness']<-0x1b1a*-0x1+-0xbcc+-0xf4d,_0x4b32d1['glossTint']=!(0x11fb*-0x1+-0x262*0x3+0x397*0x7),_0x4b32d1['diffuseEnc'+'oding']=(_0x11b5ba=_0x36e0ef['diffuseMap'])==null?void(0x35*-0x3+0x3*0x761+-0x1584):_0x11b5ba['encoding'],_0x4b32d1['diffuseDet'+'ailEncodin'+'g']=(_0x12355c=_0x36e0ef['diffuseDet'+'ailMap'])==null?void(-0x12c6+-0xee4+-0x2*-0x10d5):_0x12355c['encoding'],_0x4b32d1['emissiveEn'+'coding']=(_0x43cb26=_0x36e0ef['emissiveMa'+'p'])==null?void(-0x8ae*0x4+0x378+0x1f40):_0x43cb26['encoding'],_0x4b32d1['lightMapEn'+'coding']=(_0x3f330f=_0x36e0ef['lightMap'])==null?void(0x37*-0x3d+-0x1c4e*-0x1+-0xf33):_0x3f330f['encoding'],_0x4b32d1['packedNorm'+'al']=_0x57064f(_0x36e0ef['normalMap']),_0x4b32d1['refraction'+'Tint']=_0x101779(_0x36e0ef['refraction'],-0x60b+0x1*-0x1289+0x7*0x383),_0x4b32d1['refraction'+'IndexTint']=_0x101779(_0x36e0ef['refraction'+'Index'],(0x33*-0x85+0x18*0x37+-0x2*-0xaac)/(0x6b5*0x2+-0x1d*0x148+0x17bf+0.5)),_0x4b32d1['thicknessT'+'int']=_0x36e0ef['useDynamic'+'Refraction']&&_0x36e0ef['thickness']!==-0x103*-0x25+0x1f92+-0x4500,_0x4b32d1['specularEn'+'coding']=(_0x3c0faf=_0x36e0ef['specularMa'+'p'])==null?void(0x1049+-0x115e+0x115):_0x3c0faf['encoding'],_0x4b32d1['sheenEncod'+'ing']=(_0x217873=_0x36e0ef['sheenMap'])==null?void(-0xfab+0x2*0xb6b+-0x16f*0x5):_0x217873['encoding'],_0x4b32d1['aoMapUv']=_0x36e0ef['aoUvSet'],_0x4b32d1['aoDetail']=!!_0x36e0ef['aoDetailMa'+'p'],_0x4b32d1['diffuseDet'+'ail']=!!_0x36e0ef['diffuseDet'+'ailMap'],_0x4b32d1['normalDeta'+'il']=!!_0x36e0ef['normalMap'],_0x4b32d1['normalDeta'+'ilPackedNo'+'rmal']=_0x57064f(_0x36e0ef['normalDeta'+'ilMap']),_0x4b32d1['diffuseDet'+'ailMode']=_0x36e0ef['diffuseDet'+'ailMode'],_0x4b32d1['aoDetailMo'+'de']=_0x36e0ef['aoDetailMo'+'de'],_0x4b32d1['clearCoatG'+'loss']=!!_0x36e0ef['clearCoatG'+'loss'],_0x4b32d1['clearCoatP'+'ackedNorma'+'l']=_0x57064f(_0x36e0ef['clearCoatN'+'ormalMap']),_0x4b32d1['iorTint']=_0x101779(_0x36e0ef['refraction'+'Index'],(0x1202+0x1832+-0xe11*0x3)/(-0xf5b+-0x88c+-0xc*-0x1fe+0.5)),_0x2e636e['forcePassT'+'hroughSpec'+'ular']&&(_0x4b32d1['specularEn'+'coding']='linear',_0x4b32d1['sheenEncod'+'ing']='linear'),_0x4b32d1['iridescenc'+'eTint']=_0x36e0ef['iridescenc'+'e']!==-0x61d+0x179*-0x19+0x2aef,_0x4b32d1['glossInver'+'t']=_0x36e0ef['glossInver'+'t'],_0x4b32d1['sheenGloss'+'Invert']=_0x36e0ef['sheenGloss'+'Invert'],_0x4b32d1['clearCoatG'+'lossInvert']=_0x36e0ef['clearCoatG'+'lossInvert'],_0x4b32d1['useSpecula'+'rColor']=_0x439f9b,_0x4b32d1['litOptions']['separateAm'+'bient']=!(0x1*0x272+-0x14c9+0x1258),_0x4b32d1['litOptions']['pixelSnap']=_0x36e0ef['pixelSnap'],_0x4b32d1['litOptions']['ambientSH']=!!_0x36e0ef['ambientSH'],_0x4b32d1['litOptions']['twoSidedLi'+'ghting']=_0x36e0ef['twoSidedLi'+'ghting'],_0x4b32d1['litOptions']['occludeSpe'+'cular']=_0x36e0ef['occludeSpe'+'cular'],_0x4b32d1['litOptions']['occludeSpe'+'cularFloat']=_0x36e0ef['occludeSpe'+'cularInten'+'sity']!==-0x1ca5*-0x1+-0x19c*-0x2+-0x1fdc,_0x4b32d1['litOptions']['useMsdf']=!!_0x36e0ef['msdfMap'],_0x4b32d1['litOptions']['msdfTextAt'+'tribute']=!!_0x36e0ef['msdfTextAt'+'tribute'],_0x4b32d1['litOptions']['alphaToCov'+'erage']=_0x36e0ef['alphaToCov'+'erage'],_0x4b32d1['litOptions']['opacityFad'+'esSpecular']=_0x36e0ef['opacityFad'+'esSpecular'],_0x4b32d1['litOptions']['opacityDit'+'her']=_0x36e0ef['opacityDit'+'her'],_0x4b32d1['litOptions']['cubeMapPro'+'jection']=_0x36e0ef['cubeMapPro'+'jection'],_0x4b32d1['litOptions']['occludeDir'+'ect']=_0x36e0ef['occludeDir'+'ect'],_0x4b32d1['litOptions']['useSpecula'+'r']=_0x365993,_0x4b32d1['litOptions']['useSpecula'+'rityFactor']=(_0x1b8b9c||!!_0x36e0ef['specularit'+'yFactorMap'])&&_0x36e0ef['useMetalne'+'ssSpecular'+'Color'],_0x4b32d1['litOptions']['enableGGXS'+'pecular']=_0x36e0ef['enableGGXS'+'pecular'],_0x4b32d1['litOptions']['fresnelMod'+'el']=_0x36e0ef['fresnelMod'+'el'],_0x4b32d1['litOptions']['useRefract'+'ion']=(_0x36e0ef['refraction']||!!_0x36e0ef['refraction'+'Map'])&&(_0x36e0ef['useDynamic'+'Refraction']||_0x4b32d1['litOptions']['reflection'+'Source']!==vr),_0x4b32d1['litOptions']['useClearCo'+'at']=!!_0x36e0ef['clearCoat'],_0x4b32d1['litOptions']['useSheen']=_0x36e0ef['useSheen'],_0x4b32d1['litOptions']['useIridesc'+'ence']=_0x36e0ef['useIridesc'+'ence']&&_0x36e0ef['iridescenc'+'e']!==0x138d+-0xe9b*0x1+-0x4f2,_0x4b32d1['litOptions']['useMetalne'+'ss']=_0x36e0ef['useMetalne'+'ss'],_0x4b32d1['litOptions']['useDynamic'+'Refraction']=_0x36e0ef['useDynamic'+'Refraction'],_0x4b32d1['litOptions']['dispersion']=_0x36e0ef['dispersion']>-0x51b*0x1+0x5c6+-0xab,_0x4b32d1['litOptions']['shadowCatc'+'her']=_0x36e0ef['shadowCatc'+'her'];}['_updateEnv'+'Options'](_0x153634,_0x1e32f8,_0x4752fb,_0x3f6655){_0x153634['litOptions']['fog']=_0x1e32f8['useFog']?_0x3f6655['fog']:Kn,_0x153634['litOptions']['gamma']=_0x3f6655['shaderOutp'+'utGamma'],_0x153634['litOptions']['toneMap']=_0x1e32f8['useTonemap']?_0x3f6655['toneMappin'+'g']:nv;let _0x54f7e4=!(-0x4*-0x845+-0x73e+-0x19d5);if(_0x1e32f8['envAtlas']&&_0x1e32f8['cubeMap']?(_0x153634['litOptions']['reflection'+'Source']=xh,_0x153634['litOptions']['reflection'+'Encoding']=_0x1e32f8['envAtlas']['encoding'],_0x153634['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x1e32f8['cubeMap']['encoding']):_0x1e32f8['envAtlas']?(_0x153634['litOptions']['reflection'+'Source']=vh,_0x153634['litOptions']['reflection'+'Encoding']=_0x1e32f8['envAtlas']['encoding']):_0x1e32f8['cubeMap']?(_0x153634['litOptions']['reflection'+'Source']=Th,_0x153634['litOptions']['reflection'+'Encoding']=_0x1e32f8['cubeMap']['encoding']):_0x1e32f8['sphereMap']?(_0x153634['litOptions']['reflection'+'Source']=hv,_0x153634['litOptions']['reflection'+'Encoding']=_0x1e32f8['sphereMap']['encoding']):_0x1e32f8['useSkybox']&&_0x4752fb['envAtlas']&&_0x4752fb['skybox']?(_0x153634['litOptions']['reflection'+'Source']=xh,_0x153634['litOptions']['reflection'+'Encoding']=_0x4752fb['envAtlas']['encoding'],_0x153634['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x4752fb['skybox']['encoding'],_0x54f7e4=!(-0x1*-0x31a+-0x907*0x4+0x2102)):_0x1e32f8['useSkybox']&&_0x4752fb['envAtlas']?(_0x153634['litOptions']['reflection'+'Source']=vh,_0x153634['litOptions']['reflection'+'Encoding']=_0x4752fb['envAtlas']['encoding'],_0x54f7e4=!(0xf1*0x4+0x1*-0x1ce3+0x191f)):_0x1e32f8['useSkybox']&&_0x4752fb['skybox']?(_0x153634['litOptions']['reflection'+'Source']=Th,_0x153634['litOptions']['reflection'+'Encoding']=_0x4752fb['skybox']['encoding'],_0x54f7e4=!(-0x1*0xa25+-0x179a+0x21bf)):(_0x153634['litOptions']['reflection'+'Source']=vr,_0x153634['litOptions']['reflection'+'Encoding']=null),_0x1e32f8['ambientSH'])_0x153634['litOptions']['ambientSou'+'rce']=im,_0x153634['litOptions']['ambientEnc'+'oding']=null;else{const _0x1b37fd=_0x1e32f8['envAtlas']||(_0x1e32f8['useSkybox']&&_0x4752fb['envAtlas']?_0x4752fb['envAtlas']:null);_0x1b37fd&&!_0x1e32f8['sphereMap']?(_0x153634['litOptions']['ambientSou'+'rce']=rm,_0x153634['litOptions']['ambientEnc'+'oding']=_0x1b37fd['encoding']):(_0x153634['litOptions']['ambientSou'+'rce']=am,_0x153634['litOptions']['ambientEnc'+'oding']=null);}_0x153634['litOptions']['skyboxInte'+'nsity']=_0x54f7e4,_0x153634['litOptions']['useCubeMap'+'Rotation']=_0x54f7e4&&_0x4752fb['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x4a16a0,_0x876c4e,_0x1077ff,_0x431664,_0x439c25){if(_0x4a16a0['lightMap']=!(0x1*0x1da+0x10*-0x83+0x657),_0x4a16a0['lightMapCh'+'annel']='',_0x4a16a0['lightMapUv']=-0xd04+-0x939+-0x1*-0x163d,_0x4a16a0['lightMapTr'+'ansform']=0xf8d+-0x5*-0x99+-0x128a,_0x4a16a0['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x216c+-0x1531+-0xc3a),_0x4a16a0['dirLightMa'+'p']=!(-0x132a+0x2227+-0xefc),_0x431664&&(_0x4a16a0['litOptions']['noShadow']=(_0x431664&wh)!==0x8d*0x31+-0xa77+-0x1086,(_0x431664&ou)!==0x70c+-0x29*0x45+0x401&&(_0x4a16a0['lightMapEn'+'coding']=_0x876c4e['lightmapPi'+'xelFormat']===Ne?'rgbm':'linear',_0x4a16a0['lightMap']=!(0x66c+0x1*0x1ba1+0x17*-0x17b),_0x4a16a0['lightMapCh'+'annel']='rgb',_0x4a16a0['lightMapUv']=-0x2656+-0x920+-0x2f77*-0x1,_0x4a16a0['lightMapTr'+'ansform']=-0x135f+-0x21e0+0x353f,_0x4a16a0['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x1077ff['lightMap'],(_0x431664&uv)!==0x13*0x30+0x2f7+-0x687&&(_0x4a16a0['dirLightMa'+'p']=!(0x11*0x221+0xed*0xe+-0x3127)),(_0x431664&pv)!==0x2*0xf95+-0x686+-0x18a4&&(_0x4a16a0['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x26bd+0x3*0xaf1+-0x478f)))),_0x1077ff['useLightin'+'g']){const _0x5b0699=[],_0x183039=_0x431664?_0x431664>>0x1f*0x21+-0x6ff+0x310:Ss;_0x4a16a0['litOptions']['lightMaskD'+'ynamic']=!!(_0x183039&Ss),_0x439c25&&(Ws['collectLig'+'hts'](ve,_0x439c25[ve],_0x5b0699,_0x183039),_0x876c4e['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x439c25[Ke],_0x5b0699,_0x183039),Ws['collectLig'+'hts'](Ze,_0x439c25[Ze],_0x5b0699,_0x183039))),_0x4a16a0['litOptions']['lights']=_0x5b0699;}else _0x4a16a0['litOptions']['lights']=[];_0x4a16a0['litOptions']['lights']['length']===-0x5*0x2fc+0x4*-0x6+0x3e*0x3e&&!_0x876c4e['clusteredL'+'ightingEna'+'bled']&&(_0x4a16a0['litOptions']['noShadow']=!(0x12d6+-0x1e41+0xb6b*0x1));}['_getMapTra'+'nsformID'](_0x5ca58f,_0x31e4b4){if(!_0x5ca58f)return-0x3*-0xb7b+0xea8+-0x3119;let _0x10e882=this['_mapXForms'][_0x31e4b4];_0x10e882||(_0x10e882=[],this['_mapXForms'][_0x31e4b4]=_0x10e882);for(let _0x11bab1=0xc4d+-0x10b3+-0x1*-0x466;_0x11bab1<_0x10e882['length'];_0x11bab1++)if(G_(_0x10e882[_0x11bab1][-0xb*0x15f+0x81*0x1a+0xd*0x27]['value'],_0x5ca58f[-0x14*0x18+0x1f*-0xd3+-0x1*-0x1b6d]['value'])&&G_(_0x10e882[_0x11bab1][-0x1800+-0x10*-0x136+0x4a1]['value'],_0x5ca58f[-0xb48+0x2413+-0x18ca]['value']))return _0x11bab1+(-0x17a8+0x11d4+-0x5d5*-0x1);return _0x10e882['push'](_0x5ca58f);}}function rt(_0x4630d4,_0x458c27=!(-0x253c+0x25af+-0x73),_0x470d54=!(-0x1*-0x1c71+0x15c1+-0x3232)){const _0x3708b8={};return _0x3708b8[_0x4630d4+'Map']='texture',_0x3708b8[_0x4630d4+'MapTiling']='vec2',_0x3708b8[_0x4630d4+'MapOffset']='vec2',_0x3708b8[_0x4630d4+('MapRotatio'+'n')]='number',_0x3708b8[_0x4630d4+'MapUv']='number',_0x458c27&&(_0x3708b8[_0x4630d4+'MapChannel']='string',_0x470d54&&(_0x3708b8[_0x4630d4+('VertexColo'+'r')]='boolean',_0x3708b8[_0x4630d4+('VertexColo'+'rChannel')]='string')),_0x3708b8;}const $n={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...rt('ao'),...rt('aoDetail',!(0x1*0x2543+0x1f26+-0x4469),!(0xd*-0x25f+-0x4c7*-0x3+-0x1*-0x107f)),'aoDetailMode':'string','aoIntensity':'number','diffuse':'rgb',...rt('diffuse'),...rt('diffuseDet'+'ail',!(-0x152f+0x2*-0x122+0x1773),!(-0x2597+-0x7a5+0x2d3d)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...rt('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...rt('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','metalnessTint':'boolean',...rt('metalness'),'useMetalnessSpecularColor':'boolean','anisotropyIntensity':'number','anisotropyRotation':'number',...rt('anisotropy'),'shininess':'number','gloss':'number','glossInvert':'boolean',...rt('gloss'),'clearCoat':'number',...rt('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...rt('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...rt('clearCoatN'+'ormal',!(0x1*-0xdd3+0x18*-0xcf+-0x213c*-0x1)),'useSheen':'boolean','sheen':'rgb',...rt('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...rt('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...rt('emissive'),'emissiveIntensity':'number',...rt('normal',!(0x17f2+-0x1188+0x1*-0x669)),'bumpiness':'number',...rt('normalDeta'+'il',!(0x51*0x2b+0xba8+0x3d*-0x6a)),'normalDetailMapBumpiness':'number',...rt('height',!(-0x1498+0x1dff*-0x1+0x9*0x59f),!(-0x1b76+-0x10d*0x17+-0x19d1*-0x2)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...rt('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...rt('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...rt('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...rt('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...rt('iridescenc'+'eThickness'),...rt('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean','shadowCatcher':'boolean'},Cd=[];for(const l in $n)$n[l]==='texture'&&Cd['push'](l);const fm=[];for(const l in $n)$n[l]==='cubemap'&&fm['push'](l);const gb={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean','anisotropy':'boolean'},Kc={},bv={};let no=new Set();const oc=new ie();class Ut extends tr{constructor(){super(),h(this,'userAttrib'+'utes',new Map()),h(this,'onUpdateSh'+'ader'),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new _b(),this['reset']());}['reset'](){Object['keys'](Kc)['forEach'](_0x5adcb5=>{this['_'+_0x5adcb5]=Kc[_0x5adcb5]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x11f26e){return super['copy'](_0x11f26e),Object['keys'](Kc)['forEach'](_0x13e1e1=>{this[_0x13e1e1]=_0x11f26e[_0x13e1e1];}),this['userAttrib'+'utes']=new Map(_0x11f26e['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x9d89c8,_0xd5b0a){this['userAttrib'+'utes']['set'](_0xd5b0a,_0x9d89c8);}['_setParame'+'ter'](_0x3aef1f,_0x4b999e){no['add'](_0x3aef1f),this['setParamet'+'er'](_0x3aef1f,_0x4b999e);}['_setParame'+'ters'](_0x33af50){_0x33af50['forEach'](_0x2b3954=>{this['_setParame'+'ter'](_0x2b3954['name'],_0x2b3954['value']);});}['_processPa'+'rameters'](_0x123346){const _0x5b175=this[_0x123346];_0x5b175['forEach'](_0x1442e8=>{no['has'](_0x1442e8)||delete this['parameters'][_0x1442e8];}),this[_0x123346]=no,no=_0x5b175,no['clear']();}['_updateMap'](_0x548cba){const _0x1e3106=_0x548cba+'Map',_0x1c5e6b=this[_0x1e3106];if(_0x1c5e6b){this['_setParame'+'ter']('texture_'+_0x1e3106,_0x1c5e6b);const _0x547508=_0x1e3106+'Transform',_0x21d345=this['getUniform'](_0x547508);_0x21d345&&this['_setParame'+'ters'](_0x21d345);}}['_allocUnif'+'orm'](_0xd3fcd1,_0xe63526){let _0x945646=this['_uniformCa'+'che'][_0xd3fcd1];return _0x945646||(_0x945646=_0xe63526(),this['_uniformCa'+'che'][_0xd3fcd1]=_0x945646),_0x945646;}['getUniform'](_0x2ffa50,_0x53ad2a,_0x3a8e40){return bv[_0x2ffa50](this,_0x53ad2a,_0x3a8e40);}['updateUnif'+'orms'](_0x45c2b5,_0x59e7b9){const _0x5d7f4a=_0x1a3274=>this['getUniform'](_0x1a3274,_0x45c2b5,_0x59e7b9);this['_setParame'+'ter']('material_a'+'mbient',_0x5d7f4a('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x5d7f4a('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<-0x1*0x12c5+-0x211*-0xb+0x1*-0x3f5)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x5d7f4a('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x5d7f4a('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x5d7f4a('specular')),this['enableGGXS'+'pecular']&&(this['_setParame'+'ter']('material_a'+'nisotropyI'+'ntensity',this['anisotropy'+'Intensity']),this['_setParame'+'ter']('material_a'+'nisotropyR'+'otation',[Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']),Math['sin'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD'])])),this['clearCoat']>-0x1a13+-0x21bb+-0x1de7*-0x2&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),w['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===0x127+-0x9bf+-0xdc*-0xa&&this['emissive']['g']===0x169b+0x1c*0x11+-0x1877*0x1&&this['emissive']['b']===0xe01+0x501+0x2*-0x981&&w['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+Q['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x5d7f4a('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>-0x9c7+-0xd03+0x16ca&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>-0x20*-0x21+-0x4*-0x10+0x2*-0x230&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x5d7f4a('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===-0x5ab+-0x2141+-0x2*-0x1376?0xac8+-0xc*-0x25f+-0x7c*0x51:(0xec4+0x22ba+-0x317d)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(0x1469+-0x4*0x575+-0x1c*-0xd)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===av&&this['_setParame'+'ter'](_0x5d7f4a('cubeMapPro'+'jectionBox'));for(const _0x30d2c1 in bn)this['_updateMap'](_0x30d2c1);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x5d7f4a('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x45c2b5,_0x59e7b9);}['updateEnvU'+'niforms'](_0x47d8a3,_0x281874){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x281874['envAtlas']&&_0x281874['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x281874['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x281874['skybox'])):_0x281874['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x281874['envAtlas']):_0x281874['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x281874['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x1174cf){const {device:_0x5b3b93,scene:_0xc8f415,pass:_0x527a8e,objDefs:_0x134ac6,sortedLights:_0x2ef777,cameraShaderParams:_0x29a493}=_0x1174cf;this['updateEnvU'+'niforms'](_0x5b3b93,_0xc8f415);const _0x5d6904=Si['get'](_0x5b3b93)['getByIndex'](_0x527a8e),_0x1a6a89=_0x527a8e===Zn||_0x527a8e===Rl||_0x5d6904['isShadow'];let _0x27a09e=_0x1a6a89?Jd['optionsCon'+'textMin']:Jd['optionsCon'+'text'];_0x27a09e['defines']=$t['getCoreDef'+'ines'](this,_0x1174cf),_0x1a6a89?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x27a09e,_0xc8f415,this,_0x134ac6,_0x527a8e,_0x2ef777):this['shaderOptB'+'uilder']['updateRef'](_0x27a09e,_0xc8f415,_0x29a493,this,_0x134ac6,_0x527a8e,_0x2ef777),this['useFog']||_0x27a09e['defines']['set']('FOG','NONE'),_0x27a09e['defines']['set']('TONEMAP',ov[_0x27a09e['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x27a09e=this['onUpdateSh'+'ader'](_0x27a09e));const _0x429483=new Ad(_0x1174cf['viewUnifor'+'mFormat'],_0x1174cf['viewBindGr'+'oupFormat'],_0x1174cf['vertexForm'+'at']),_0x52fbe5=Hn(_0x5b3b93);_0x52fbe5['register']('standard',Jd);const _0x18ffa7=_0x52fbe5['getProgram']('standard',_0x27a09e,_0x429483,this['userId']);return this['_dirtyShad'+'er']=!(0x1818+-0x235d+0x4a*0x27),_0x18ffa7;}['destroy'](){for(const _0x232bae in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x232bae]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}h(Ut,'TEXTURE_PA'+'RAMETERS',Cd),h(Ut,'CUBEMAP_PA'+'RAMETERS',fm);const Pd=(_0x53708c,_0x11cea9)=>{bv[_0x53708c]=_0x11cea9;},um=(_0x110147,_0x414313,_0x59ad5e,_0x5d20ec)=>{Object['defineProp'+'erty'](Ut['prototype'],_0x110147,{'get':_0x5d20ec||function(){return this['_'+_0x110147];},'set':_0x59ad5e}),Kc[_0x110147]={'value':_0x414313};},Sb=_0x3ae04a=>{const _0x2424d9='_'+_0x3ae04a['name'],_0x3d4aeb=_0x3ae04a['dirtyShade'+'rFunc']||(()=>!(-0xc15+0x1311+-0x6fc)),_0x15ef12=function(_0x5b0167){const _0x431ac2=this[_0x2424d9];_0x431ac2!==_0x5b0167&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x3d4aeb(_0x431ac2,_0x5b0167),this[_0x2424d9]=_0x5b0167);};um(_0x3ae04a['name'],()=>_0x3ae04a['defaultVal'+'ue'],_0x15ef12,_0x3ae04a['getterFunc']);},yb=_0x173843=>{const _0x3bb499='_'+_0x173843['name'],_0x2d0422=_0x173843['dirtyShade'+'rFunc']||(()=>!(-0x1030+0x1dc3+0x1*-0xd93)),_0x4bf8d0=function(_0x5bbbd4){const _0xa6f047=this[_0x3bb499];_0xa6f047['equals'](_0x5bbbd4)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x2d0422(_0xa6f047,_0x5bbbd4),this[_0x3bb499]=_0xa6f047['copy'](_0x5bbbd4));};um(_0x173843['name'],()=>_0x173843['defaultVal'+'ue']['clone'](),_0x4bf8d0,_0x173843['getterFunc']);},Es=_0x5716ef=>_0x5716ef['defaultVal'+'ue']&&_0x5716ef['defaultVal'+'ue']['clone']?yb(_0x5716ef):Sb(_0x5716ef);function et(_0x370897,_0x50ab15='rgb',_0x5e3bfd=!(-0x933*-0x1+0x192+-0xac5*0x1),_0x19e004=-0x1*-0x2547+-0x18a*0x13+-0x1*0x809){bn[_0x370897]=_0x50ab15['length']||-(-0x1*0x1f29+0x50a*-0x1+0x2434),Es({'name':_0x370897+'Map','defaultValue':null,'dirtyShaderFunc':(_0x4b17a6,_0x5ac5b8)=>!!_0x4b17a6!=!!_0x5ac5b8||_0x4b17a6&&(_0x4b17a6['type']!==_0x5ac5b8['type']||_0x4b17a6['format']!==_0x5ac5b8['format'])}),Es({'name':_0x370897+'MapTiling','defaultValue':new J(0x15b1+-0x16*0x16+-0x13cc,-0x1*0x2564+0x1fbf+0x5a6)}),Es({'name':_0x370897+'MapOffset','defaultValue':new J(0x1*-0xeb1+-0x20cf+0x2f80,0xcc2+0x179c+0x746*-0x5)}),Es({'name':_0x370897+('MapRotatio'+'n'),'defaultValue':0x0}),Es({'name':_0x370897+'MapUv','defaultValue':_0x19e004}),_0x50ab15&&(Es({'name':_0x370897+'MapChannel','defaultValue':_0x50ab15}),_0x5e3bfd&&(Es({'name':_0x370897+('VertexColo'+'r'),'defaultValue':!(-0x644*0x3+0x57*-0x25+0x10*0x1f6)}),Es({'name':_0x370897+('VertexColo'+'rChannel'),'defaultValue':_0x50ab15})));const _0x338282=_0x370897+'MapTiling',_0x2f8c71=_0x370897+'MapOffset',_0x2393e0=_0x370897+('MapRotatio'+'n'),_0x1236b9=_0x370897+('MapTransfo'+'rm');Pd(_0x1236b9,(_0x3b4e0d,_0x4c0da6,_0x48c9ce)=>{const _0x22b7d1=_0x3b4e0d[_0x338282],_0x1de38f=_0x3b4e0d[_0x2f8c71],_0x57fc31=_0x3b4e0d[_0x2393e0];if(_0x22b7d1['x']===-0x916+-0x2527+0x2e3e&&_0x22b7d1['y']===-0x17*0x14f+-0xb5f*-0x3+-0x403&&_0x1de38f['x']===0x2*0x1038+-0x17*-0x199+-0x1*0x452f&&_0x1de38f['y']===-0x6c*0x23+0x111c+-0xc*0x32&&_0x57fc31===-0x1013+-0x141*-0x4+0xb0f)return null;const _0x1ac77d=_0x3b4e0d['_allocUnif'+'orm'](_0x1236b9,()=>[{'name':'texture_'+_0x1236b9+'0','value':new Float32Array(0x1*0xe62+0x1*-0x42+0xe1d*-0x1)},{'name':'texture_'+_0x1236b9+'1','value':new Float32Array(0x69f+-0x1*0x1fdd+0x1941)}]),_0x221d3f=Math['cos'](_0x57fc31*Y['DEG_TO_RAD']),_0x1574a9=Math['sin'](_0x57fc31*Y['DEG_TO_RAD']),_0x1bdceb=_0x1ac77d[0x80e+-0x1226+0xa18]['value'];_0x1bdceb[-0x7*-0xad+0x631*0x5+0x23b0*-0x1]=_0x221d3f*_0x22b7d1['x'],_0x1bdceb[-0x204f+0x703*0x1+0x194d*0x1]=-_0x1574a9*_0x22b7d1['y'],_0x1bdceb[-0x1a48+0x6b*-0x4d+0x3a79]=_0x1de38f['x'];const _0x1e9ec9=_0x1ac77d[0x2*0x67a+0x161c+-0x703*0x5]['value'];return _0x1e9ec9[-0x311*-0x7+0xc90+-0x2207]=_0x1574a9*_0x22b7d1['x'],_0x1e9ec9[-0x1*-0x216e+0x2f9*-0x3+-0x2*0xc41]=_0x221d3f*_0x22b7d1['y'],_0x1e9ec9[0xe9*0x2+-0x1afb+0x17b*0x11]=0x14c6+-0xe57*-0x1+0x7*-0x504-_0x22b7d1['y']-_0x1de38f['y'],_0x1ac77d;});}function Ra(_0x3364eb,_0x1d8112){Es({'name':_0x3364eb,'defaultValue':_0x1d8112,'getterFunc':function(){return this['_dirtyShad'+'er']=!(0x977+0x2b4*-0x3+-0x15b),this['_'+_0x3364eb];}}),Pd(_0x3364eb,(_0xa77bb3,_0xcc9fe4,_0x12dc4d)=>{const _0x332f7e=_0xa77bb3['_allocUnif'+'orm'](_0x3364eb,()=>new Float32Array(-0x1*-0x100f+-0x1dc*0xa+0x28c)),_0x497958=_0xa77bb3[_0x3364eb];return oc['linear'](_0x497958),_0x332f7e[-0x122d+0x509+0xd24]=oc['r'],_0x332f7e[0x14e8+0x7e4+-0x1ccb]=oc['g'],_0x332f7e[0x4e*0x1f+0x213+-0xb83*0x1]=oc['b'],_0x332f7e;});}function ze(_0x30d809,_0x5211aa,_0x5877d7){Es({'name':_0x30d809,'defaultValue':_0x5211aa,'dirtyShaderFunc':(_0x492568,_0x1eebb1)=>(_0x492568===-0x22a*0xf+0x5*-0x49d+0x3787||_0x492568===0x239d+-0x9cd*-0x2+-0x17e*0x25)!=(_0x1eebb1===0x1*-0x14d5+-0x15d*-0x16+-0x43*0x23||_0x1eebb1===-0x1f8c+-0x1284+0x3211)}),Pd(_0x30d809,_0x5877d7);}function oo(_0x266a5b,_0x2143f0){Es({'name':_0x266a5b,'defaultValue':null,'dirtyShaderFunc':(_0x5e6991,_0x3a78fb)=>!!_0x5e6991==!!_0x3a78fb}),Pd(_0x266a5b,_0x2143f0);}function ke(_0x1b575f,_0x195f6e){Es({'name':_0x1b575f,'defaultValue':_0x195f6e});}function vb(){Ra('ambient',new ie(0x368*0x1+0x1*-0x1d48+0x19e1,0x1794+0x20e*0xa+-0x2c1f,0x673+-0x478+-0x1*0x1fa)),Ra('diffuse',new ie(0x1*-0xd6+-0x1df1+-0xc5*-0x28,0x24a6+-0x149+-0x235c,0x7*0x18c+0x1767+-0x223a)),Ra('specular',new ie(-0x1732+-0x2159*0x1+0x19*0x243,0x1*-0x2383+0x2549+0xe3*-0x2,0x1*0xc53+0xcff+-0x1952)),Ra('emissive',new ie(-0x18a9+-0x119*0x13+0x2d84,0x17d7+-0x1fd2*0x1+-0x1*-0x7fb,0x1f5d+-0x1*0x19af+-0x5ae*0x1)),Ra('sheen',new ie(0x426+0x533+-0x958,-0x1f1*0xa+0x30*-0x92+0x2ecb,-0xc2*-0x32+0x2227+-0x480a)),Ra('attenuatio'+'n',new ie(0xe*-0xf7+-0xb05+0x4e8*0x5,0x172b+0x18b6+-0x2fe0,0x1200+-0x4a5*-0x8+0x1*-0x3727)),ze('emissiveIn'+'tensity',-0x1469*-0x1+-0x14d0+0x68),ze('specularit'+'yFactor',-0x31*0xb2+-0x1b1*-0x10+0x703),ze('sheenGloss',-0x1231*-0x2+0x619+0x3*-0xe29),ze('gloss',0x7c1+-0x26e1+-0xa6*-0x30+0.25),ze('aoIntensit'+'y',0xdf*0x23+0x24c5+0x779*-0x9),ze('heightMapF'+'actor',0x1312*0x2+-0x1572+-0x10b1,(_0x224c74,_0x30869c,_0x2d2ffc)=>_0x224c74['heightMapF'+'actor']*(-0x1d3b+-0xef*0x7+0x23c4+0.025)),ze('opacity',-0x35*-0x73+-0x4eb+-0x12e3),ze('alphaFade',0x1*-0x1ce5+-0x5b4+0x229a),ze('alphaTest',0x3bc+-0x2216+0x1e5a),ze('bumpiness',-0x17b9*0x1+-0x256c+0x3d26),ze('normalDeta'+'ilMapBumpi'+'ness',-0x249f+-0x5b1*-0x4+0xddc*0x1),ze('reflectivi'+'ty',-0xc19*0x2+0x153a+0x2f9),ze('occludeSpe'+'cularInten'+'sity',-0x76*-0x37+-0x2*-0x962+0x1eb*-0x17),ze('refraction',0x521*-0x7+0x1*0xcaa+-0x173d*-0x1),ze('refraction'+'Index',(-0x611*-0x1+-0x135f+0xd4f)/(-0x1cb7+0x853*0x1+0x1*0x1465+0.5)),ze('dispersion',0x8*-0x122+-0x250e*0x1+0x2e1e),ze('thickness',0x1*-0x6fd+0x6*0x5e8+-0x1c73),ze('attenuatio'+'nDistance',0xb*-0x10+-0x68*0x9+-0x2*-0x22c),ze('metalness',-0xcc8+0x1236+-0x1cf*0x3),ze('anisotropy'+'Intensity',0xde9+0x3df*0x7+-0x2*0x1481),ze('anisotropy'+'Rotation',0x6fd*0x2+-0x1c85*-0x1+0x2b*-0xfd),ze('clearCoat',-0x1*-0x738+0x1826+-0x1f5e),ze('clearCoatG'+'loss',-0x2*0xe0f+0x7d6+0x1449),ze('clearCoatB'+'umpiness',0x1*0xda6+-0x2*-0x26f+-0x1283),ze('aoUvSet',-0x13*-0x3b+-0x25c5*0x1+0x4*0x859,null),ze('iridescenc'+'e',-0x142f*0x1+-0x44c+0x187b*0x1),ze('iridescenc'+'eRefractio'+'nIndex',(-0x1*-0x713+0x56e*0x2+-0x11ee)/(-0x2ef*0x4+0x43c+0x781*0x1+0.5)),ze('iridescenc'+'eThickness'+'Min',-0x26b*-0x1+0x1bf+-0x42a),ze('iridescenc'+'eThickness'+'Max',-0x2f*0xa6+-0x20f6+-0x4*-0xfdc),oo('ambientSH'),oo('cubeMapPro'+'jectionBox',(_0x2d108a,_0x4de942,_0x56901e)=>{const _0x7903cd=_0x2d108a['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x1*-0x25f5+-0x1*-0x21e9+0x1*0x40f)},{'name':'envBoxMax','value':new Float32Array(-0x9f+-0x1*-0x27c+-0x1da)}]),_0x12755c=_0x2d108a['cubeMapPro'+'jectionBox']['getMin'](),_0x3ee327=_0x7903cd[0xa8f*-0x1+0x6d*-0x56+-0xd*-0x3a1]['value'];_0x3ee327[0x1a07+-0xe2c+-0xbdb]=_0x12755c['x'],_0x3ee327[-0xe16+0x2357+0x1540*-0x1]=_0x12755c['y'],_0x3ee327[-0x1495+0x13d7*0x1+0x60*0x2]=_0x12755c['z'];const _0xea7a64=_0x2d108a['cubeMapPro'+'jectionBox']['getMax'](),_0x57024a=_0x7903cd[-0x228b*-0x1+-0xa6*-0xe+0x2*-0x15cf]['value'];return _0x57024a[-0x255b+-0x1cb4+0x9*0x757]=_0xea7a64['x'],_0x57024a[0x12fd*0x1+-0x8f5*0x1+-0xa07]=_0xea7a64['y'],_0x57024a[-0x2552+0x1*-0x675+0x2bc9]=_0xea7a64['z'],_0x7903cd;}),ke('specularTi'+'nt',!(0x119c*0x2+0xab5*-0x1+-0x1882)),ke('specularit'+'yFactorTin'+'t',!(-0x20*0x40+-0x2b6+0xab7)),ke('useMetalne'+'ss',!(-0x6a*0xa+0x1bfb+-0x17d6)),ke('useMetalne'+'ssSpecular'+'Color',!(-0xb4d*0x1+0x515+0x639)),ke('useSheen',!(-0xf48+-0x4*0x3b9+0x1e2d)),ke('enableGGXS'+'pecular',!(0x1a*-0x157+0x19de+0x1*0x8f9)),ke('occludeDir'+'ect',!(-0xbb*-0x3+-0x12*-0x185+-0x18e*0x13)),ke('opacityFad'+'esSpecular',!(-0xa74+-0x24d6+0x2f4a)),ke('occludeSpe'+'cular',bd),ke('fresnelMod'+'el',Yp),ke('useDynamic'+'Refraction',!(0x16e6+-0xc86+0x9*-0x127)),ke('cubeMapPro'+'jection',tm),ke('useFog',!(-0x1fe5+-0x518+0x24fd)),ke('useLightin'+'g',!(-0x21f5*0x1+-0xb15+-0x1685*-0x2)),ke('useTonemap',!(0x17ea*-0x1+0x26*-0xbe+0x341e)),ke('useSkybox',!(0x1c68+-0x6f*-0x33+0x10d7*-0x3)),ke('forceUv1',!(-0x1861+-0x14b1+0x2d13)),ke('pixelSnap',!(-0xc73+0x1a87+-0xe13)),ke('twoSidedLi'+'ghting',!(0xf*0x26a+-0x321*0x9+-0x406*0x2)),ke('nineSliced'+'Mode',void(-0xb*0x97+0x3*0x1f9+0x92)),ke('msdfTextAt'+'tribute',!(0x1de1+-0x1*-0x1c43+-0x3a23)),ke('useIridesc'+'ence',!(0x1d03+0x169f+-0x1*0x33a1)),ke('glossInver'+'t',!(-0x6b5*-0x1+0x64c*-0x3+0xc30)),ke('sheenGloss'+'Invert',!(0xeaa+0x1f72+-0x2e1b)),ke('clearCoatG'+'lossInvert',!(0x21ad+-0x7*0x47c+-0x248)),ke('opacityDit'+'her',Sa),ke('opacitySha'+'dowDither',Sa),ke('shadowCatc'+'her',!(0xae9+0x1*-0x277+-0x871)),et('diffuse'),et('specular'),et('emissive'),et('thickness','g'),et('specularit'+'yFactor','g'),et('normal',''),et('metalness','g'),et('gloss','g'),et('opacity','a'),et('refraction','g'),et('height','g',!(-0x1*-0xd51+-0x3*0xc8e+0x185a)),et('ao','g'),et('light','rgb',!(0x1*0x1f49+0x1dcf+-0x187*0x28),0x1*0x1871+0xb*-0x67+-0x1403),et('msdf',''),et('diffuseDet'+'ail','rgb',!(0x2*0x1126+-0x13d2*0x1+-0x2e5*0x5)),et('normalDeta'+'il',''),et('aoDetail','g',!(-0x696+-0x98e+0x1025)),et('clearCoat','g'),et('clearCoatG'+'loss','g'),et('clearCoatN'+'ormal',''),et('sheen','rgb'),et('sheenGloss','g'),et('iridescenc'+'e','g'),et('iridescenc'+'eThickness','g'),et('anisotropy',''),ke('diffuseDet'+'ailMode',p_),ke('aoDetailMo'+'de',p_),oo('cubeMap'),oo('sphereMap'),oo('envAtlas');const _0x7d7c54=function(){return this['_prefilter'+'edCubemaps'];},_0x3ecbf4=function(_0x5a93cb){const _0x2dfea4=this['_prefilter'+'edCubemaps'];_0x5a93cb=_0x5a93cb||[];let _0x543a38=!(-0x23ff+-0x1985+-0x3d85*-0x1),_0x530690=!(0x7fb+0xef4*0x1+-0x16ef);for(let _0x2862ad=-0xc33*-0x3+0xcf8+-0x3191*0x1;_0x2862ad<-0x1d36+0x83f+0xc7*0x1b;++_0x2862ad){const _0xd5f302=_0x5a93cb[_0x2862ad]||null;_0x2dfea4[_0x2862ad]!==_0xd5f302&&(_0x2dfea4[_0x2862ad]=_0xd5f302,_0x543a38=!(0x111e*-0x1+0x18df+0x7c1*-0x1)),_0x530690=_0x530690&&!!_0x2dfea4[_0x2862ad];}_0x543a38&&(_0x530690?this['envAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x2dfea4,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0xfb5*-0x2+0x57b*0x1+0x19ef));},_0xdf06d2=[null,null,null,null,null,null];um('prefiltere'+'dCubemaps',()=>_0xdf06d2['slice'](),_0x3ecbf4,_0x7d7c54);}vb();const Rt=class Rt{static['render'](_0xa6da26,_0x33bfad){const _0x481b92=_0x33bfad['device'],_0x3b1cdd=_0xa6da26['cells'],_0x5de84f=_0xa6da26['lightsBuff'+'er'],_0x3ef233=_0x5de84f['boundsMin'],_0x24ff3d=_0x5de84f['boundsDelt'+'a'],_0x51ea04=_0x3ef233['clone']()['add'](_0x24ff3d),_0x50f0e9=_0x5de84f['boundsDelt'+'a']['clone']()['div'](_0x3b1cdd),_0x159f6c=Rt['gridPositi'+'ons'],_0x12f9fc=Rt['gridColors'],_0x11cb1c=new ie(0x1*0x20ab+-0x1*-0x1f4+-0x229f*0x1+0.3,-0x2278+-0xd7*-0x2d+-0x353+0.3,0x1993*0x1+0x17*0x1a1+0x1*-0x3f0a+0.3),_0x195228=(_0x58e393,_0x1042b7,_0xae16a3,_0x7c4685,_0xa4f433,_0x2a3515,_0xb3a70b,_0x514b75,_0x59d56b)=>{for(let _0x5e285d=0x65*0x18+0x1e*-0xa+0xb1*-0xc;_0x5e285d<=_0x58e393;_0x5e285d++)for(let _0x3a1944=-0x184d+0x1e05+-0x5b8;_0x3a1944<=_0x1042b7;_0x3a1944++){const _0x957a50=_0xae16a3+_0x5e285d*_0x7c4685,_0x29f9db=_0xa4f433+_0x3a1944*_0x2a3515;_0x59d56b===0x8b*0x2+0x98d+-0x7*0x185?_0x159f6c['push'](_0x957a50,_0xb3a70b,_0x29f9db,_0x957a50,_0x514b75,_0x29f9db):_0x59d56b===-0x9a7+0x18b+-0x81d*-0x1?_0x159f6c['push'](_0x957a50,_0x29f9db,_0xb3a70b,_0x957a50,_0x29f9db,_0x514b75):_0x59d56b===-0xb97+0x2061+-0x14c8&&_0x159f6c['push'](_0xb3a70b,_0x957a50,_0x29f9db,_0x514b75,_0x957a50,_0x29f9db);}};if(_0x195228(_0x3b1cdd['x'],_0x3b1cdd['z'],_0x3ef233['x'],_0x50f0e9['x'],_0x3ef233['z'],_0x50f0e9['z'],_0x3ef233['y'],_0x51ea04['y'],-0x136d+-0xa*-0x2fe+0xa7f*-0x1),_0x195228(_0x3b1cdd['x'],_0x3b1cdd['y'],_0x3ef233['x'],_0x50f0e9['x'],_0x3ef233['y'],_0x50f0e9['y'],_0x3ef233['z'],_0x51ea04['z'],0x1d*-0xd3+0x1107*0x1+-0x3*-0x24b),_0x195228(_0x3b1cdd['y'],_0x3b1cdd['z'],_0x3ef233['y'],_0x50f0e9['y'],_0x3ef233['z'],_0x50f0e9['z'],_0x3ef233['x'],_0x51ea04['x'],-0x4*-0x6be+0x1cea+-0x37e0),_0x159f6c['length']){const _0x3af096=_0x159f6c['length']/(0x631+-0x1*-0x700+-0xd2e*0x1);if(_0x3af096!==_0x12f9fc['length']/(0x1729*-0x1+0x3e*-0x3c+0x7*0x563)){_0x12f9fc['length']=0xed4+-0x11*0xde+-0xb*0x2;for(let _0x5c8dcb=-0x4a*0x1+0x83*0x1+-0x39;_0x5c8dcb<_0x3af096;_0x5c8dcb++)_0x12f9fc['push'](_0x11cb1c['r'],_0x11cb1c['g'],_0x11cb1c['b'],_0x11cb1c['a']);}_0x33bfad['drawLineAr'+'rays'](_0x159f6c,_0x12f9fc),_0x159f6c['length']=0x34*-0x5a+-0x1768+-0x74*-0x5c;}let _0x1be5c0=Rt['mesh'];_0x1be5c0||(_0x1be5c0=new Ge(_0x481b92),_0x1be5c0['clear'](!(-0x4a7+-0x7fa+0x3d*0x35),!(0x239c+-0x17cc+-0xbd0)),Rt['mesh']=_0x1be5c0);const _0x2f4a09=[],_0x222f58=[],_0x1b5825=[],_0x5aa100=_0xa6da26['_cells']['x'],_0x249830=_0xa6da26['_cells']['z'],_0x499360=_0xa6da26['counts'],_0x52e28a=_0xa6da26['_maxCellLi'+'ghtCount'],_0x1c5c3c=new D(),_0x1c0c93=new D(),_0x516a85=new D(),_0x20103f=_0x24ff3d['clone']()['div'](_0x3b1cdd);let _0x42d5d6=-0x26b7+0x19a3+0xd14;for(let _0x424536=-0x1984*0x1+0x87d*0x2+-0x88a*-0x1;_0x424536<_0x3b1cdd['x'];_0x424536++)for(let _0x56cf89=-0x58b+0x1fad+-0x1a22;_0x56cf89<_0x3b1cdd['z'];_0x56cf89++)for(let _0x5cd3b6=-0x19d1+0xdaf+-0x2*-0x611;_0x5cd3b6<_0x3b1cdd['y'];_0x5cd3b6++){const _0x29a63a=_0x424536+_0x5aa100*(_0x56cf89+_0x5cd3b6*_0x249830),_0x12adc7=_0x499360[_0x29a63a];if(_0x12adc7>0x1c8c+0x13*-0x99+-0x1*0x1131){_0x1c5c3c['x']=_0x3ef233['x']+_0x20103f['x']*_0x424536,_0x1c5c3c['y']=_0x3ef233['y']+_0x20103f['y']*_0x5cd3b6,_0x1c5c3c['z']=_0x3ef233['z']+_0x20103f['z']*_0x56cf89,_0x1c0c93['add2'](_0x1c5c3c,_0x20103f),_0x2f4a09['push'](_0x1c5c3c['x'],_0x1c5c3c['y'],_0x1c0c93['z']),_0x2f4a09['push'](_0x1c0c93['x'],_0x1c5c3c['y'],_0x1c0c93['z']),_0x2f4a09['push'](_0x1c0c93['x'],_0x1c0c93['y'],_0x1c0c93['z']),_0x2f4a09['push'](_0x1c5c3c['x'],_0x1c0c93['y'],_0x1c0c93['z']),_0x2f4a09['push'](_0x1c0c93['x'],_0x1c5c3c['y'],_0x1c5c3c['z']),_0x2f4a09['push'](_0x1c5c3c['x'],_0x1c5c3c['y'],_0x1c5c3c['z']),_0x2f4a09['push'](_0x1c5c3c['x'],_0x1c0c93['y'],_0x1c5c3c['z']),_0x2f4a09['push'](_0x1c0c93['x'],_0x1c0c93['y'],_0x1c5c3c['z']),_0x516a85['lerp'](Rt['colorLow'],Rt['colorHigh'],_0x12adc7/_0x52e28a)['round']();for(let _0x36fbeb=-0x1b7c+-0x16c8+-0x2*-0x1922;_0x36fbeb<0x26d4+0x7fd*-0x1+0x1ecf*-0x1;_0x36fbeb++)_0x222f58['push'](_0x516a85['x'],_0x516a85['y'],_0x516a85['z'],0x1d*-0x6b+0x192c+0x343*-0x4);_0x1b5825['push'](_0x42d5d6*(-0x1f0+-0x7*-0x51+-0x3f)+(0x23d9*-0x1+-0xcd8+0x30b1),_0x42d5d6*(0x2a5*-0x4+-0x488*0x2+0x2*0x9d6)+(0xcea+0x194c+-0x2635),_0x42d5d6*(0x2*-0x73b+-0x895+0x21*0xb3)+(0x12a9+0x12b7+0x779*-0x5)),_0x1b5825['push'](_0x42d5d6*(0x188*-0x5+0x1e20+-0x1670)+(0x1*0xa0f+-0x1f33+0x1527),_0x42d5d6*(-0x1a3*-0x8+-0x180e+0xafe)+(0x523+-0x7b1+-0x83*-0x5),_0x42d5d6*(-0x587*-0x7+-0x1*-0x2444+0x1*-0x4aed)+(-0x27*-0x43+0x108*-0x21+-0x17d5*-0x1)),_0x1b5825['push'](_0x42d5d6*(-0x23*-0x35+0x43*-0x43+-0x2*-0x529)+(0x2306+0x1f5c+-0x425e),_0x42d5d6*(0xe*-0x3+-0x2599+0x25cb)+(-0x1d48+0x100*0xa+0x134d),_0x42d5d6*(-0xed6+-0xb5*0x3+0x10fd*0x1)+(-0x4ff*-0x1+-0xe82+0x3*0x32e)),_0x1b5825['push'](_0x42d5d6*(-0x5da*-0x4+0x17ad+0x49*-0xa5)+(0x1*-0x1b85+-0xaf8+0x74*0x55),_0x42d5d6*(-0xbcf+-0x1ff+-0x9a*-0x17)+(-0x529*0x4+-0x2538+0x543*0xb),_0x42d5d6*(0xd*0x65+0x1d9e+-0x22b7*0x1)+(-0xb20+0x76*0x44+-0x1432)),_0x1b5825['push'](_0x42d5d6*(-0x98a*0x3+-0xc97+0x17*0x1cb)+(0x1cdc+0x1ecc+-0x3ba5*0x1),_0x42d5d6*(0x1f04+0x2358+0x6a2*-0xa)+(-0x56*0x17+0x469+-0x1*-0x353),_0x42d5d6*(-0xa60+0x8a*-0x19+-0x17e2*-0x1)+(0x3fb*-0x7+0xc28+0xfbb)),_0x1b5825['push'](_0x42d5d6*(0x15fc+0x17f3*0x1+-0x2de7)+(0x8*-0x152+0x4b3*-0x7+-0x1*-0x2b77),_0x42d5d6*(0xb5d*0x1+0xeef+0xd22*-0x2)+(-0x2032+-0x7b9*-0x1+0x1880),_0x42d5d6*(-0x11e3+-0xb*-0x216+-0x507)+(0x2404+0x1a43+-0x3e41)),_0x1b5825['push'](_0x42d5d6*(0x1b8+-0x911*-0x4+-0x25f4)+(0x241b+-0x11bb+0x125f*-0x1),_0x42d5d6*(-0x95*-0x13+0x1e4b+0xdc6*-0x3)+(-0x816+0xf96+-0x780),_0x42d5d6*(-0x3*0xa99+-0x2*0x864+0x309b)+(-0x15bf+0x1b*0xff+-0x522)),_0x1b5825['push'](_0x42d5d6*(0x19e3+-0x1*-0xcdf+0x135d*-0x2)+(0x2453+0x221*-0xd+0x453*-0x2),_0x42d5d6*(0x377*-0x9+-0x8d1+0x1ab*0x18)+(0x2101*-0x1+-0xfde+0x1bf*0x1c),_0x42d5d6*(0x8f7+0x167*-0xf+-0x1*-0xc1a)+(-0x24ff+-0x21e5*0x1+0x8*0x8dd)),_0x1b5825['push'](_0x42d5d6*(-0x330+-0x337*-0x5+-0x3*0x449)+(0x19a6+-0xc1*0x2d+0x848),_0x42d5d6*(-0x2*0xca4+0x1a*0x8f+0x2*0x565)+(-0x3*0x75a+0x1*0x785+0x2e9*0x5),_0x42d5d6*(0x4*-0x15a+-0x9*0x23a+0x197a)+(0x15d*-0x4+-0x13df*-0x1+-0xe69)),_0x1b5825['push'](_0x42d5d6*(-0x31*0x11+-0x13b3+0x4*0x5bf)+(0x1f*0xe+-0x7*-0x40e+-0x1e10),_0x42d5d6*(-0x651+0x1948+0x1*-0x12ef)+(0x178d*-0x1+0x66b*-0x1+-0x1dff*-0x1),_0x42d5d6*(0x1*0x9a2+-0x173c+-0x6d1*-0x2)+(-0x15f+-0x3*0xba2+-0x25*-0xfb)),_0x1b5825['push'](_0x42d5d6*(-0xfb1+0x1559+0x48*-0x14)+(-0x2416*0x1+0x7a4+0x1c77),_0x42d5d6*(0xd34+-0xe9d+0x9*0x29)+(0x13ba+-0x16f2+0x338),_0x42d5d6*(0x9e5+0xbd2+-0x1*0x15af)+(-0x4*0x371+0x5b*-0x3+0xedb)),_0x1b5825['push'](_0x42d5d6*(-0x144*-0x4+0x165d+-0x1b65)+(-0x1333+0x2061*0x1+0xd2e*-0x1),_0x42d5d6*(-0x2078+-0x1f87+0x4007)+(-0xdbd*0x1+0xcb8+0x108),_0x42d5d6*(-0x13e4+-0x1b4d+0x2f39)+(0x1375+0xb89*-0x3+0xf2c)),_0x42d5d6++;}}if(_0x42d5d6){if(_0x1be5c0['setPositio'+'ns'](_0x2f4a09),_0x1be5c0['setNormals'](new Float32Array(_0x2f4a09['length'])),_0x1be5c0['setColors3'+'2'](_0x222f58),_0x1be5c0['setIndices'](_0x1b5825),_0x1be5c0['update'](js,!(0x135+0x179e+-0x846*0x3)),!Rt['meshInstan'+'ce']){const _0x5686f2=new Ut();_0x5686f2['useLightin'+'g']=!(0x3bd*-0x5+0x134f+0x9d*-0x1),_0x5686f2['emissive']=new ie(-0x126a+0xb5*0x37+-0x4*0x51e,-0x2d7*0x4+-0x2137+-0xb25*-0x4,0x220*-0xd+0xc64+0xf3d*0x1),_0x5686f2['emissiveVe'+'rtexColor']=!(0x17fe+0x20e3+-0x38e1),_0x5686f2['blendType']=Ed,_0x5686f2['depthWrite']=!(-0x27*0x43+0xb16+-0xe0),_0x5686f2['update']();const _0x539115=new Ie('WorldClust'+'ersDebug');_0x539115['worldTrans'+'form']=te['IDENTITY'],_0x539115['_dirtyWorl'+'d']=_0x539115['_dirtyNorm'+'al']=!(0x1a56+0x151a+0x2f6f*-0x1),Rt['meshInstan'+'ce']=new He(_0x1be5c0,_0x5686f2,_0x539115),Rt['meshInstan'+'ce']['cull']=!(-0x1c70+-0x2518+0x4189);}const _0x51db72=Rt['meshInstan'+'ce'];_0x33bfad['immediate']['drawMesh'](_0x51db72['material'],_0x51db72['node']['worldTrans'+'form'],null,_0x51db72,_0x33bfad['defaultDra'+'wLayer']);}}};h(Rt,'gridPositi'+'ons',[]),h(Rt,'gridColors',[]),h(Rt,'mesh',null),h(Rt,'meshInstan'+'ce',null),h(Rt,'colorLow',new D(0x59*0x51+0x2072+0x2*-0x1e4d,0x5d*0x33+-0xb0c+-0x77a,-0x254+0x2*0x8b4+0xe3*-0x11)),h(Rt,'colorHigh',new D(0x5*-0x788+0x598+-0x4*-0x80e,0x67*0x59+-0x8ee+-0x3d7*0x7,0xebe*0x2+0x6*-0x35b+0xab*-0xe));let hu=Rt;const xb='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let Vi=null;const Av=()=>{if(!Vi){const _0x33325a=atob(xb);Vi=Uint8Array['from'](_0x33325a,_0x40f4c0=>_0x40f4c0['charCodeAt'](-0x1f8+-0x1687+-0x1*-0x187f));}},Tb=()=>(Av(),Vi);class wb{constructor(_0x1d08eb=-0x10e8*0x1+0x338*-0x7+0x2770){h(this,'seed',-0x487*-0x5+-0x13f9+-0x2aa),(this['seed']=_0x1d08eb*(-0x21ce+-0xa60+0x1619*0x2),Av());}['_next'](){this['seed']=(this['seed']+(0x1f6f+-0x1431+-0x3be*0x3))%Vi['length'];}['value'](){return this['_next'](),Vi[this['seed']]/(0x330+0x2397+0x2*-0x12e4);}['vec4'](_0x3ac7a4=new re()){return this['_next'](),_0x3ac7a4['set'](Vi[this['seed']],Vi[this['seed']+(-0x1*0x2345+0x52d+0x1e19)],Vi[this['seed']+(0x1*-0x1c2c+0x167*-0x9+0x28cd)],Vi[this['seed']+(-0x3dd+-0x10f*0x14+0x190c)])['mulScalar']((0x2*-0xb32+0x24b5+-0xe50)/(-0x4*-0x5cc+-0x203f+-0x11e*-0x9));}}const Eb=[new D(-(-0x7ab+0x23a7+-0x1bfb),-0x1997+-0x169a+0x3031,0x68d+0xf1d*0x2+-0x24c7),new D(-0x2701+-0x1fa9+0x46ab,0xb6f+-0x9a8+-0x1c7,0x1872+0xd38+-0x25aa*0x1),new D(0x2*-0x10a3+-0x1*-0x2077+-0x17*-0x9,-(0x26*0x4a+0x12e9+-0x1de4),0x9*-0x1ff+-0xa86+0xbb*0x27),new D(0x108a+-0x3c0+-0xcca*0x1,0xc*-0x1d4+-0xb*0x29+-0x1*-0x17b4,0x1f99+0x2569+0x646*-0xb),new D(-0xa*0x8+-0x102e+0x107e,0x4*-0x565+-0x3e7+-0x1*-0x197b,-(-0xe5e+0x1c6a+-0xe0b)),new D(0x10ed+-0x31d*0x9+-0x8e*-0x14,-0x1972+-0x119b*-0x1+0x1*0x7d7,0x1*-0x78e+0x222e+-0x553*0x5)];class bb{constructor(){h(this,'colors',new Float32Array(0x1411+0x231f+-0x371e));}['update'](_0x2a6e02,_0x2b9e0c){const _0x272504=this['colors'],{r:_0x7d8552,g:_0x4bd7f3,b:_0xe84b34}=_0x2a6e02;for(let _0x4266ab=-0x62*-0x11+-0x19c1+0x133f;_0x4266ab<-0x219e+-0x1d*-0x1d+0x1e5b*0x1;_0x4266ab++)_0x272504[_0x4266ab*(-0x148d*-0x1+0x1dd0+-0x325a)]=_0x7d8552,_0x272504[_0x4266ab*(0x8e5*0x2+-0x183*0x4+-0x3e9*0x3)+(-0x1*0x2055+0x19*0x19+0x1*0x1de5)]=_0x4bd7f3,_0x272504[_0x4266ab*(0x6*0x2e3+0x5ea*0x1+-0x1739)+(-0xf38+0x4*-0x119+0x139e)]=_0xe84b34;for(let _0x1fce2f=0x42b*-0x1+-0x1037+0x1462;_0x1fce2f<_0x2b9e0c['length'];_0x1fce2f++){const _0xad2795=_0x2b9e0c[_0x1fce2f];if(_0xad2795['_type']===ve)for(let _0x598e79=0xe5e+-0x11*-0x49+0x1*-0x1337;_0x598e79<-0x2*0x18a+-0xf19+-0x1233*-0x1;_0x598e79++){const _0x4d5254=Math['max'](Eb[_0x598e79]['dot'](_0xad2795['_direction']),-0x1312+-0x12*-0x14b+-0x434)*_0xad2795['_intensity'],_0x380174=_0xad2795['_color'];_0x272504[_0x598e79*(-0xb*-0x35+-0xe*-0x94+-0xa5c)]+=_0x380174['r']*_0x4d5254,_0x272504[_0x598e79*(-0x1*0xd84+-0x3d7*-0x2+-0x5d9*-0x1)+(0x67d*0x1+-0x2381+0x1d05)]+=_0x380174['g']*_0x4d5254,_0x272504[_0x598e79*(0xcf9+0x182f+-0x1*0x2525)+(-0x24fb+-0x327+0x2824)]+=_0x380174['b']*_0x4d5254;}}}}const Ab=(_0x4f84be,_0x5b7770,_0x1e8911,_0x3d2af1)=>{const _0x2cfa3e=new _e(_0x4f84be,{'name':''+_0x5b7770+_0x1e8911,'width':_0x1e8911,'height':_0x1e8911,'format':Ne,'addressU':yt,'addressV':yt,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(0x174f+0xcd+0x11*-0x16b)});return _0x2cfa3e['lock']()['set'](_0x3d2af1),_0x2cfa3e['unlock'](),_0x2cfa3e;},Cb=new Kt(),Pb=_0x43a4d5=>Cb['get'](_0x43a4d5,()=>{const _0x48fc24=Tb(),_0x50b3ab=Math['sqrt'](_0x48fc24['length']/(-0x12f5+0x586*-0x1+-0x187f*-0x1));return Ab(_0x43a4d5,'BlueNoise',_0x50b3ab,_0x48fc24);});class va{constructor(_0x55d879,_0x343718){this['texture']=_0x55d879,this['cached']=!(0x1*-0x140d+0x62b+0x2c7*0x5),this['renderTarg'+'ets']=_0x343718;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x238da5=this['renderTarg'+'ets'];for(let _0x32cd5f=-0x2107+0x9af+0x298*0x9;_0x32cd5f<_0x238da5['length'];_0x32cd5f++)_0x238da5[_0x32cd5f]['destroy']();this['renderTarg'+'ets']['length']=-0x1cc4+0x1*-0x167+0x1e2b;}static['create'](_0x2bca18,_0x5b5a7f){let _0x596a21=null;return _0x5b5a7f['_type']===Ke?_0x596a21=this['createCube'+'map'](_0x2bca18,_0x5b5a7f['_shadowRes'+'olution'],_0x5b5a7f['_shadowTyp'+'e']):_0x596a21=this['create2dMa'+'p'](_0x2bca18,_0x5b5a7f['_shadowRes'+'olution'],_0x5b5a7f['_shadowTyp'+'e']),_0x596a21;}static['createAtla'+'s'](_0x54a9c7,_0x31e24c,_0x34e69e){const _0x3258fa=this['create2dMa'+'p'](_0x54a9c7,_0x31e24c,_0x34e69e),_0x9350c6=_0x3258fa['renderTarg'+'ets'],_0x318a40=_0x9350c6[-0x670*0x6+-0x1*-0x5ec+0x20b4];for(let _0x144c95=0x22*-0x25+-0x4*0x2a7+-0x7c3*-0x2;_0x144c95<-0x1*-0xb5c+0x209d+-0x2bf4;_0x144c95++)_0x9350c6['push'](_0x318a40);return _0x3258fa;}static['create2dMa'+'p'](_0x365599,_0x1540c6,_0x471d04){var _0xc93ab5;const _0x25a0d9=qi['get'](_0x471d04);w['assert'](_0x25a0d9);let _0x246160=_0x25a0d9['format'];_0x246160===Ji&&!_0x365599['textureFlo'+'atRenderab'+'le']&&_0x365599['textureHal'+'fFloatRend'+'erable']&&(_0x246160=od);const _0x2a34a7=(_0xc93ab5=Nt['get'](_0x246160))==null?void(-0x1ee6+-0x1468+0x334e):_0xc93ab5['name'];let _0x1472e1=vt;_0x471d04===Jp&&(_0x1472e1=_0x365599['extTexture'+'FloatLinea'+'r']?vt:Te),_0x471d04===al&&(_0x1472e1=Te);const _0x8dbe8d=new _e(_0x365599,{'profilerHint':eu,'format':_0x246160,'width':_0x1540c6,'height':_0x1540c6,'mipmaps':!(-0x7eb+-0x3b*-0x62+-0x2*0x755),'minFilter':_0x1472e1,'magFilter':_0x1472e1,'addressU':ue,'addressV':ue,'name':'ShadowMap2'+'D_'+_0x2a34a7});let _0x1195f0=null;return _0x25a0d9!=null&&_0x25a0d9['pcf']?(_0x8dbe8d['compareOnR'+'ead']=!(-0x17*-0xf1+0x131c+-0x28c3),_0x8dbe8d['compareFun'+'c']=hh,_0x1195f0=new gt({'depthBuffer':_0x8dbe8d})):_0x1195f0=new gt({'colorBuffer':_0x8dbe8d,'depth':!(-0x1*0x179c+-0x1ecd+0x3669*0x1)}),_0x365599['isWebGPU']&&(_0x1195f0['flipY']=!(0x7b*-0x49+-0x5*-0x716+-0x5b)),new va(_0x8dbe8d,[_0x1195f0]);}static['createCube'+'map'](_0x9b3332,_0x5233b0,_0x40e608){var _0x2b2eaf;const _0x246935=qi['get'](_0x40e608);w['assert'](_0x246935);const _0x3d9ae6=(_0x2b2eaf=Nt['get'](_0x246935['format']))==null?void(0x75+-0xa9e*0x1+0xa29):_0x2b2eaf['name'],_0x357d32=_0x40e608===al,_0x3ead2e=_0x357d32?Te:vt,_0x432251=new _e(_0x9b3332,{'profilerHint':eu,'format':_0x246935==null?void(-0x332*0xb+0x1082*0x2+0xd*0x2a):_0x246935['format'],'width':_0x5233b0,'height':_0x5233b0,'cubemap':!(0x80+0x4b3*0x7+-0x1*0x2165),'mipmaps':!(-0x101a+0x1f33+-0xf18),'minFilter':_0x3ead2e,'magFilter':_0x3ead2e,'addressU':ue,'addressV':ue,'name':'ShadowMapC'+'ube_'+_0x3d9ae6});_0x357d32||(_0x432251['compareOnR'+'ead']=!(-0xb3a+-0x1*-0x1fcf+-0x1495),_0x432251['compareFun'+'c']=hh);const _0x2cdc40=[];for(let _0x49fc12=0x2110+0x1716+-0x2*0x1c13;_0x49fc12<0x3f*0x4+0x9da+-0xad0;_0x49fc12++)_0x357d32?_0x2cdc40['push'](new gt({'colorBuffer':_0x432251,'face':_0x49fc12,'depth':!(-0xe74+-0x26be+0x3532)})):_0x2cdc40['push'](new gt({'depthBuffer':_0x432251,'face':_0x49fc12}));return new va(_0x432251,_0x2cdc40);}}const Mb=[],Db=[],xi=new re(),ef=new re();class tf{constructor(_0x20bb59){this['size']=Math['floor'](_0x20bb59['w']*(0x3*-0x59c+-0x11f5*0x1+0x1*0x26c9)),this['used']=!(0x1*0x1423+0xc4*-0xf+-0x8a6),this['lightId']=-(-0xce8+0xec*-0x7+0x135d),this['rect']=_0x20bb59;}}class Ib{constructor(_0x5a5758){this['device']=_0x5a5758,this['version']=0x2ed*0x9+0x8dd+0x2b5*-0xd,this['shadowAtla'+'sResolutio'+'n']=0x1*0x13fb+0x1ff0+-0x2beb,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=-0x49b+-0x2179+-0x1*-0x2617,this['cookieAtla'+'sResolutio'+'n']=-0x5f9*0x1+0x29*0xf+-0x6*-0x99,this['cookieAtla'+'s']=new _e(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':_s,'cubemap':!(0x168*-0x11+-0x29*-0x7c+0x3d*0x11),'mipmaps':!(0x3*0xb38+-0x844+0x1*-0x1963),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue}),this['cookieRend'+'erTarget']=new gt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(0xed*-0x2+-0x18*-0x37+-0x41*0xd),'flipY':!(0x581*-0x2+-0xb21+0x1623)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new J(0x637*0x4+0x3b1+-0x1c8d,-0x8*0xf0+-0x185*0x14+-0x4*-0x979),new J(0xced+0xc86+-0x517*0x5,-0x1*-0xc61+0x24cc+-0x312c),new J(0x641*0x5+-0x2602*0x1+0x1*0x6be,-0x1b03+-0x1fb4+0x3ab7),new J(0x10eb+0x81e*0x2+0x1093*-0x2,0x1663+-0x165d+-0x5),new J(0x21ca*0x1+-0x9bc*-0x1+-0x2*0x15c2,-0xd*0x251+0x255*0xe+-0x289),new J(0x1693*0x1+0x5c*-0x48+0x34f,0x1afb+-0x264f+0xb55)],this['scissorVec']=new re(),this['allocateSh'+'adowAtlas'](-0x3*0x13d+0x188+0x1*0x230),this['allocateCo'+'okieAtlas'](-0x578+-0x11*-0x197+-0x158e),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x3e8b43;(_0x3e8b43=this['shadowAtla'+'s'])==null||_0x3e8b43['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x1f5e14,_0x361146;(_0x1f5e14=this['cookieAtla'+'s'])==null||_0x1f5e14['destroy'](),this['cookieAtla'+'s']=null,(_0x361146=this['cookieRend'+'erTarget'])==null||_0x361146['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x4a1ab2,_0x4d0c91=$s){var _0x313be1;const _0x1dd22b=(_0x313be1=this['shadowAtla'+'s'])==null?void(0x110b+-0x53*0x4f+-0x2*-0x449):_0x313be1['texture']['format'],_0x53c044=qi['get'](_0x4d0c91)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x4a1ab2||_0x1dd22b!==_0x53c044){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=va['createAtla'+'s'](this['device'],_0x4a1ab2,_0x4d0c91),this['shadowAtla'+'s']['cached']=!(-0x680+-0x1513+0x1b93);const _0x384f19=(0xc77*-0x1+0xb*0x4f+0x916)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x384f19,_0x384f19,-(-0x1a1a+0x1*-0x10c1+0x2add)*_0x384f19,-(-0xb7a+-0x1*0x2017+0x2b93)*_0x384f19);}}['allocateCo'+'okieAtlas'](_0xf78584){this['cookieAtla'+'s']['width']!==_0xf78584&&(this['cookieRend'+'erTarget']['resize'](_0xf78584,_0xf78584),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(0x1*0x1834+0x1cd7+-0x3509),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x354ade=this['shadowAtla'+'s']['renderTarg'+'ets'][-0x1537+-0x1e6f+0x4b2*0xb]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x354ade),this['_shadowAtl'+'asParams'][-0x1b8d*0x1+-0x3*-0x757+0x588]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][-0x1*-0xf09+-0x23b6+0x14ae]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x2ac467,_0x27a007){let _0x58f989=_0x27a007['atlasSplit'];if(!_0x58f989){const _0x12030b=Math['ceil'](Math['sqrt'](_0x2ac467));_0x58f989=Db,_0x58f989[-0x29*-0x69+-0x1*0x19+-0x10b8]=_0x12030b,_0x58f989['length']=0x655+-0x1918*-0x1+-0x1f6c;}if(!((_0x4dcefe,_0x131bdf)=>_0x4dcefe['length']===_0x131bdf['length']&&_0x4dcefe['every']((_0x4f5d91,_0x299257)=>_0x4f5d91===_0x131bdf[_0x299257]))(_0x58f989,this['atlasSplit'])){this['version']++,this['slots']['length']=-0x10e9+0x725*0x1+-0x271*-0x4,this['atlasSplit']['length']=-0x22fd+0x6*0x346+0x1*0xf59,this['atlasSplit']['push'](..._0x58f989);const _0x33529b=this['atlasSplit'][0xae1*0x1+-0x1f*-0x3b+-0x1206];if(_0x33529b>0x372+-0x2053+0x1ce2){const _0x35cf77=(0x1ffa+0x1e5*-0xd+-0x758)/_0x33529b;for(let _0x45fb90=-0xb*0x273+0x1615*0x1+0x4dc;_0x45fb90<_0x33529b;_0x45fb90++)for(let _0x56a2f2=0x1fc0+0x964+-0x2924;_0x56a2f2<_0x33529b;_0x56a2f2++){const _0x1cd65a=new re(_0x45fb90*_0x35cf77,_0x56a2f2*_0x35cf77,_0x35cf77,_0x35cf77),_0x6e5452=this['atlasSplit'][0x664*0x1+0x6*-0x290+0x8fd+_0x45fb90*_0x33529b+_0x56a2f2];if(_0x6e5452>0x2*-0x1079+-0x28a+0x73*0x4f){for(let _0x180eb7=0x3ec*0x9+-0x19e5+-0x967;_0x180eb7<_0x6e5452;_0x180eb7++)for(let _0x119902=-0x175e*-0x1+0x2*-0x4a2+-0x169*0xa;_0x119902<_0x6e5452;_0x119902++){const _0xabb6ce=_0x35cf77/_0x6e5452,_0x2a1e60=new re(_0x1cd65a['x']+_0x180eb7*_0xabb6ce,_0x1cd65a['y']+_0x119902*_0xabb6ce,_0xabb6ce,_0xabb6ce);this['slots']['push'](new tf(_0x2a1e60));}}else this['slots']['push'](new tf(_0x1cd65a));}}else this['slots']['push'](new tf(new re(-0x1fb3+-0x838+0x27eb,-0x14ee+0x3*-0xb02+0x35f4,-0x2d6+0xb*-0x203+-0x18f8*-0x1,0x1f6e+-0x73c*0x4+0xd*-0x31)));this['slots']['sort']((_0x2ca91a,_0x38036b)=>_0x38036b['size']-_0x2ca91a['size']);}}['collectLig'+'hts'](_0x6f760d,_0x2eeca6){const _0x2de592=_0x2eeca6['cookiesEna'+'bled'],_0x1f8092=_0x2eeca6['shadowsEna'+'bled'];let _0x1bf235=!(-0xb65*0x1+0x8*-0xc+0x1*0xbc6),_0x596888=!(0x2494+-0x7dc*0x2+0x13*-0x119);const _0x37b4a4=Mb;return _0x37b4a4['length']=-0xc28+0xc5*0x17+-0x58b,(_0x2de592||_0x1f8092)&&(_0x33b7f5=>{for(let _0x79e2e0=0x17ea*0x1+-0x11e1+-0x609;_0x79e2e0<_0x33b7f5['length'];_0x79e2e0++){const _0x101004=_0x33b7f5[_0x79e2e0];if(_0x101004['visibleThi'+'sFrame']){const _0x49d68a=_0x1f8092&&_0x101004['castShadow'+'s'],_0x355863=_0x2de592&&!!_0x101004['cookie'];_0x1bf235||(_0x1bf235=_0x49d68a),_0x596888||(_0x596888=_0x355863),(_0x49d68a||_0x355863)&&_0x37b4a4['push'](_0x101004);}}})(_0x6f760d),_0x37b4a4['sort']((_0x2a1961,_0x5d972e)=>_0x5d972e['maxScreenS'+'ize']-_0x2a1961['maxScreenS'+'ize']),_0x1bf235&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x2eeca6['shadowType']),_0x596888&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x1bf235||_0x596888)&&this['subdivide'](_0x37b4a4['length'],_0x2eeca6),_0x37b4a4;}['setupSlot'](_0x1751ca,_0x10f4d8){_0x1751ca['atlasViewp'+'ort']['copy'](_0x10f4d8);const _0x37d73c=_0x1751ca['numShadowF'+'aces'];for(let _0x1cc8fd=-0x15aa+0x1f0f*0x1+-0x965;_0x1cc8fd<_0x37d73c;_0x1cc8fd++)if(_0x1751ca['castShadow'+'s']||_0x1751ca['_cookie']){if(xi['copy'](_0x10f4d8),ef['copy'](_0x10f4d8),_0x1751ca['_type']===Ze&&xi['add'](this['scissorVec']),_0x1751ca['_type']===Ke){const _0x45f3f4=xi['z']/(-0x1eb1+-0xef*-0x29+-0x7*0x115),_0x2af7d8=this['cubeSlotsO'+'ffsets'][_0x1cc8fd];xi['x']+=_0x45f3f4*_0x2af7d8['x'],xi['y']+=_0x45f3f4*_0x2af7d8['y'],xi['z']=_0x45f3f4,xi['w']=_0x45f3f4,ef['copy'](xi);}if(_0x1751ca['castShadow'+'s']){const _0x42ea9d=_0x1751ca['getRenderD'+'ata'](null,_0x1cc8fd);_0x42ea9d['shadowView'+'port']['copy'](xi),_0x42ea9d['shadowScis'+'sor']['copy'](ef);}}}['assignSlot'](_0x10bcdf,_0x19d1ee,_0x404d7e){_0x10bcdf['atlasViewp'+'ortAllocat'+'ed']=!(0x1116+-0xd13*-0x2+-0x2b3c);const _0x3c0e6a=this['slots'][_0x19d1ee];_0x3c0e6a['lightId']=_0x10bcdf['id'],_0x3c0e6a['used']=!(0x850+0x1*0x1f75+-0x27c5),_0x404d7e&&(_0x10bcdf['atlasSlotU'+'pdated']=!(-0x63e+-0xfb5+0x15f3),_0x10bcdf['atlasVersi'+'on']=this['version'],_0x10bcdf['atlasSlotI'+'ndex']=_0x19d1ee);}['update'](_0x1b2cad,_0x3b03ef){this['shadowAtla'+'sResolutio'+'n']=_0x3b03ef['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x3b03ef['cookieAtla'+'sResolutio'+'n'];const _0x1a763f=this['collectLig'+'hts'](_0x1b2cad,_0x3b03ef);if(_0x1a763f['length']>0x6e2*0x2+-0x2*-0x6b2+-0x1b28){const _0x15177a=this['slots'];for(let _0x52dd40=-0x15d+-0x1f6c+0x1*0x20c9;_0x52dd40<_0x15177a['length'];_0x52dd40++)_0x15177a[_0x52dd40]['used']=!(0x47*-0x35+-0x2f*-0x27+-0x1*-0x78b);const _0x218eda=Math['min'](_0x1a763f['length'],_0x15177a['length']);for(let _0xeb8dfe=-0x1366+0x3*0x5db+0x1d5;_0xeb8dfe<_0x218eda;_0xeb8dfe++){const _0x2aa3db=_0x1a763f[_0xeb8dfe];_0x2aa3db['castShadow'+'s']&&(_0x2aa3db['_shadowMap']=this['shadowAtla'+'s']);const _0x2e8909=_0x15177a[_0x2aa3db['atlasSlotI'+'ndex']];if(_0x2aa3db['atlasVersi'+'on']===this['version']&&_0x2aa3db['id']===(_0x2e8909==null?void(-0x168f+-0x19b8+0x3047*0x1):_0x2e8909['lightId'])){const _0x1c8921=_0x15177a[_0x2aa3db['atlasSlotI'+'ndex']];_0x1c8921['size']===_0x15177a[_0xeb8dfe]['size']&&!_0x1c8921['used']&&this['assignSlot'](_0x2aa3db,_0x2aa3db['atlasSlotI'+'ndex'],!(0x260f+0x31*-0xc7+0x9));}}let _0x30cf33=0xf3+-0x11*0xf7+0xf74;for(let _0x110bd4=-0x4*0x223+-0xfb*-0x4+0x4a0;_0x110bd4<_0x218eda;_0x110bd4++){for(;_0x30cf33<_0x15177a['length']&&_0x15177a[_0x30cf33]['used'];)_0x30cf33++;const _0x14f7d3=_0x1a763f[_0x110bd4];_0x14f7d3['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x14f7d3,_0x30cf33,!(0x532*0x1+-0xadf+0x5ad));const _0x3b71ff=_0x15177a[_0x14f7d3['atlasSlotI'+'ndex']];this['setupSlot'](_0x14f7d3,_0x3b71ff['rect']);}}this['updateUnif'+'orms']();}}class Lb{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x389330=>{_0x389330['forEach'](_0x2f21e7=>{_0x2f21e7['destroy']();});}),this['cache']['clear']();}['getKey'](_0x33ebed){const _0x18d58c=_0x33ebed['_type']===Ke,_0x40dd91=_0x33ebed['_shadowTyp'+'e'],_0xa797e2=_0x33ebed['_shadowRes'+'olution'];return _0x18d58c+'-'+_0x40dd91+'-'+_0xa797e2;}['get'](_0xfa16be,_0x2badbe){const _0xa26a35=this['getKey'](_0x2badbe),_0x3be64b=this['cache']['get'](_0xa26a35);if(_0x3be64b&&_0x3be64b['length'])return _0x3be64b['pop']();const _0xeec669=va['create'](_0xfa16be,_0x2badbe);return _0xeec669['cached']=!(-0x1f2c+0x22*0x3+0xf63*0x2),_0xeec669;}['add'](_0x527e6a,_0x37ed25){const _0x53b97b=this['getKey'](_0x527e6a),_0x714944=this['cache']['get'](_0x53b97b);_0x714944?_0x714944['push'](_0x37ed25):this['cache']['set'](_0x53b97b,[_0x37ed25]);}}class Rb extends ys{constructor(_0x1cb063,_0x4c4b31,_0x8db443,_0xcddb58,_0x15a5d2){super(_0x1cb063),Ea['setName'](this,this['name']+'-'+_0x8db443['_node']['name']),this['requiresCu'+'bemaps']=!(0xad2*-0x1+-0x1cf1+-0x13e2*-0x2),this['shadowRend'+'erer']=_0x4c4b31,this['light']=_0x8db443,this['face']=_0xcddb58,this['applyVsm']=_0x15a5d2,this['shadowCame'+'ra']=_0x4c4b31['prepareFac'+'e'](_0x8db443,null,_0xcddb58),_0x4c4b31['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(0x1*-0x203f+0xd25+0x32f*0x6));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(0x13a+-0x5d*-0x20+0x1*-0xcd9));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class Ob{constructor(_0x356c51,_0x360c01){h(this,'shadowLigh'+'ts',[]),h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x356c51,this['shadowRend'+'erer']=_0x360c01,this['device']=_0x356c51['device']);}['cull'](_0x5e45e3,_0x3467ed,_0x3e2342=null){const _0x495bde=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x5e45e3['visibleThi'+'sFrame']=!(-0x267d*0x1+0x1*0x190e+-0xd6f*-0x1),_0x495bde||_0x5e45e3['_shadowMap']||(_0x5e45e3['_shadowMap']=va['create'](this['device'],_0x5e45e3));const _0x488746=_0x5e45e3['_type'],_0x57a3ec=_0x488746===Ze?-0x7d8+0x1f*-0xb+0x92e:0x1d61+0x1*0x1241+-0x17ce*0x2;for(let _0x5c4a4d=-0xc34+-0x125f*0x1+0x1e93;_0x5c4a4d<_0x57a3ec;_0x5c4a4d++){const _0x3c3974=_0x5e45e3['getRenderD'+'ata'](null,_0x5c4a4d),_0x2af291=_0x3c3974['shadowCame'+'ra'];_0x2af291['nearClip']=_0x5e45e3['attenuatio'+'nEnd']/(-0xcc3*0x2+0x9c9+-0x2f*-0x6b),_0x2af291['farClip']=_0x5e45e3['attenuatio'+'nEnd'];const _0xde0f5d=_0x2af291['_node'],_0x286534=_0x5e45e3['_node'];if(_0xde0f5d['setPositio'+'n'](_0x286534['getPositio'+'n']()),_0x488746===Ze)_0x2af291['fov']=_0x5e45e3['_outerCone'+'Angle']*(-0x1324+0x10c3+0x2f*0xd),_0xde0f5d['setRotatio'+'n'](_0x286534['getRotatio'+'n']()),_0xde0f5d['rotateLoca'+'l'](-(-0x1*0x7f5+0x1cc6+-0x1477),0x240+-0x56b+0x32b,0xcb3+-0xe3*0x1+0x6*-0x1f8);else{if(_0x488746===Ke){if(_0x495bde){const _0x24696b=(-0x5d*0x1+0x49*-0x48+0x1*0x14e7)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x5e45e3['atlasViewp'+'ort']['z']/(-0xd4a+0x26*0xbf+-0xf0d))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x2af291['fov']=Math['atan'](-0x1*0x1ba9+0x33d*-0x1+0x1ee7+_0x24696b)*Y['RAD_TO_DEG']*(0x28b*-0xc+0xb1d+0x1369);}else _0x2af291['fov']=-0x85f*0x1+0x517*-0x3+0x17fe;}}this['renderer']['updateCame'+'raFrustum'](_0x2af291),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x3467ed,_0x5e45e3,_0x3c3974['visibleCas'+'ters'],_0x2af291,_0x3e2342);}}['prepareLig'+'hts'](_0x46a139,_0x1bee6c){let _0x3a759c;for(let _0x20dacb=-0xc*0x32b+-0x14*-0x14b+0xc28;_0x20dacb<_0x1bee6c['length'];_0x20dacb++){const _0x5e59d2=_0x1bee6c[_0x20dacb];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x5e59d2)&&_0x5e59d2['atlasViewp'+'ortAllocat'+'ed']){_0x46a139['push'](_0x5e59d2);for(let _0x24b14e=-0x19a*-0x2+0x23ce*0x1+-0x2702;_0x24b14e<_0x5e59d2['numShadowF'+'aces'];_0x24b14e++)_0x3a759c=this['shadowRend'+'erer']['prepareFac'+'e'](_0x5e59d2,null,_0x24b14e);}}return _0x3a759c;}['buildNonCl'+'usteredRen'+'derPasses'](_0xc3bd7,_0x543167){for(let _0x2de9b3=-0x7*-0x59+0x912+-0xb81;_0x2de9b3<_0x543167['length'];_0x2de9b3++){const _0x273b22=_0x543167[_0x2de9b3];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x273b22)){const _0x5e87c9=_0x273b22['_type']===Ze,_0x4ac349=_0x273b22['numShadowF'+'aces'];for(let _0x4b24e9=0x2437*0x1+-0x14a8*0x1+0xf8f*-0x1;_0x4b24e9<_0x4ac349;_0x4b24e9++){const _0xea84fe=new Rb(this['device'],this['shadowRend'+'erer'],_0x273b22,_0x4b24e9,_0x5e87c9);_0xc3bd7['addRenderP'+'ass'](_0xea84fe);}}}}}class Fb extends ys{constructor(_0x265db4,_0x28c683,_0x5ed7c7,_0x2328f0,_0x5647b9){super(_0x265db4),Ea['setName'](this,this['name']+'-'+_0x5ed7c7['_node']['name']),this['shadowRend'+'erer']=_0x28c683,this['light']=_0x5ed7c7,this['camera']=_0x2328f0,this['allCascade'+'sRendering']=_0x5647b9;}['execute'](){const {light:_0x149334,camera:_0x4e9084,shadowRenderer:_0xc016d0,allCascadesRendering:_0x3fa76c}=this,_0x109e47=_0x149334['numShadowF'+'aces'],_0x2d5d23=_0x149334['shadowUpda'+'teOverride'+'s'];for(let _0x31e931=-0x5*0x2bb+-0x1d*-0x65+0x236;_0x31e931<_0x109e47;_0x31e931++)(_0x2d5d23==null?void(-0x776*0x5+-0x7cc*-0x1+0x4eb*0x6):_0x2d5d23[_0x31e931])!==Ps&&_0xc016d0['renderFace'](_0x149334,_0x4e9084,_0x31e931,!_0x3fa76c),(_0x2d5d23==null?void(0x1b07*0x1+0x1*0x1027+-0x1597*0x2):_0x2d5d23[_0x31e931])===xr&&(_0x2d5d23[_0x31e931]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const lc=new De(),Ti=new D(),H_=new te(),Xe=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()],sf={'min':0x0,'max':0x0};function Nb(_0x1340dd,_0x2af9b7,_0x455478){Xe[0x83*-0x35+0x199*-0x14+-0x3b13*-0x1]['x']=Xe[0x127f+0x267+-0x3*0x6f7]['x']=Xe[-0xf8c+0x11d8+0x2*-0x125]['x']=Xe[-0x8b*-0x31+0x1ea7+-0x393f]['x']=_0x2af9b7['x'],Xe[-0xdcc+0x1bca+-0xdfd]['y']=Xe[0xd4e+0x1365+0x4*-0x82c]['y']=Xe[0x1152+0x15*0x13+-0x26*0x7f]['y']=Xe[0x4*-0x403+0x26f9+0x16e8*-0x1]['y']=_0x2af9b7['y'],Xe[0x27*-0x91+0x53*0x1+0x15c6]['z']=Xe[0x15ec+-0x9*-0x29d+-0x2d6e]['z']=Xe[-0x2540+-0xafd+-0x1*-0x3043]['z']=Xe[-0x147d+-0x2542*-0x1+-0x10be*0x1]['z']=_0x2af9b7['z'],Xe[-0x126c+-0x13c*-0xd+0x264]['x']=Xe[0x2bf*-0x7+0x1*0x1b56+-0x1c*0x4a]['x']=Xe[0x2*-0xd3c+-0x1a91+0x350f]['x']=Xe[0x2*0x569+-0x1*-0x1ddb+-0x28a6]['x']=_0x455478['x'],Xe[0xa9f+0x82d+0x6*-0x322]['y']=Xe[0x1c6c+0x3*-0x823+-0x401]['y']=Xe[-0x155c+0x1f*-0x8b+0x1*0x2635]['y']=Xe[0x19f1+-0x51e+-0x14cd]['y']=_0x455478['y'],Xe[-0x2dd*0x1+-0x4b3+0x790]['z']=Xe[0x1ea4+-0x1*-0xf47+0x12*-0x28d]['z']=Xe[0x3*-0x84d+-0x6f2*-0x2+0xb07]['z']=Xe[0x1*-0xaf2+-0xed+0xbe4]['z']=_0x455478['z'];let _0xd8ff5c=0x27403182+-0x18ed7f6aa+0x3bba3a927,_0x37fb06=-(0x3ca7e*0x149f+0x2e7b5be9*0x12+-0x13ecd2ea5);for(let _0x31b6e1=-0x21c5+-0x1921*0x1+0x6*0x9d1;_0x31b6e1<-0x19f3*0x1+-0x16dd+0x8*0x61b;++_0x31b6e1){_0x1340dd['transformP'+'oint'](Xe[_0x31b6e1],Xe[_0x31b6e1]);const _0xa82f75=Xe[_0x31b6e1]['z'];_0xa82f75<_0xd8ff5c&&(_0xd8ff5c=_0xa82f75),_0xa82f75>_0x37fb06&&(_0x37fb06=_0xa82f75);}return sf['min']=_0xd8ff5c,sf['max']=_0x37fb06,sf;}class kb{constructor(_0x2cbe7b,_0x462522){h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x2cbe7b,this['shadowRend'+'erer']=_0x462522,this['device']=_0x2cbe7b['device']);}['cull'](_0x1c2981,_0x57b3a4,_0x4c2fb2,_0x1f4083=null){_0x1c2981['visibleThi'+'sFrame']=!(0x8d4+0x1fe9*-0x1+0x13*0x137),_0x1c2981['_shadowMap']||(_0x1c2981['_shadowMap']=va['create'](this['device'],_0x1c2981));const _0x1b15e9=_0x4c2fb2['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x1c2981,_0x1b15e9,Math['min'](_0x4c2fb2['_farClip'],_0x1c2981['shadowDist'+'ance']));const _0x5ced6c=_0x1c2981['shadowUpda'+'teOverride'+'s'];for(let _0xc1bb30=0x1bcd+-0x445+-0x1788;_0xc1bb30<_0x1c2981['numCascade'+'s']&&(_0x5ced6c==null?void(-0x1cd+-0x1*0x1e75+0x2042):_0x5ced6c[_0xc1bb30])!==Ps;_0xc1bb30++){const _0x1873b3=_0x1c2981['getRenderD'+'ata'](_0x4c2fb2,_0xc1bb30),_0x17d5c1=_0x1873b3['shadowCame'+'ra'];_0x17d5c1['renderTarg'+'et']=_0x1c2981['_shadowMap']['renderTarg'+'ets'][-0x24e4+-0x4c*0x5e+0x40cc],_0x1873b3['shadowView'+'port']['copy'](_0x1c2981['cascades'][_0xc1bb30]),_0x1873b3['shadowScis'+'sor']['copy'](_0x1c2981['cascades'][_0xc1bb30]);const _0x37f508=_0x17d5c1['_node'],_0x265ecf=_0x1c2981['_node'];_0x37f508['setPositio'+'n'](_0x265ecf['getPositio'+'n']()),_0x37f508['setRotatio'+'n'](_0x265ecf['getRotatio'+'n']()),_0x37f508['rotateLoca'+'l'](-(-0x61+-0x19*-0xc5+0x2e*-0x67),-0x1aad+0x11d8+0x8d5,-0xbf*-0x6+-0x1768+0x2*0x977);const _0x1bc4f9=_0xc1bb30===-0x18e9+-0xdbb+0x26a4?_0x1b15e9:_0x1c2981['_shadowCas'+'cadeDistan'+'ces'][_0xc1bb30-(0x1d2*0x12+-0x8*0x3ab+-0xaf*0x5)],_0x20919a=_0x1c2981['_shadowCas'+'cadeDistan'+'ces'][_0xc1bb30],_0x2d7f6d=_0x4c2fb2['getFrustum'+'Corners'](_0x1bc4f9,_0x20919a);Ti['set'](-0xeb3+-0x1*-0x10f5+-0x242,-0x11f3+0x201*-0xc+0x29ff,-0x230e+-0x2533*0x1+-0x15d*-0x35);const _0x3606be=_0x4c2fb2['node']['getWorldTr'+'ansform']();for(let _0x3cefb7=-0x1*0x1ac1+-0x1210+0x1*0x2cd1;_0x3cefb7<-0xcc7*0x2+0x22c9+-0x933;_0x3cefb7++)_0x3606be['transformP'+'oint'](_0x2d7f6d[_0x3cefb7],_0x2d7f6d[_0x3cefb7]),Ti['add'](_0x2d7f6d[_0x3cefb7]);Ti['mulScalar']((0xede+-0x16*-0x13d+-0x2a1b)/(-0x739+-0x1*-0xda+0x667));let _0x339b39=-0x2088+-0x17f5+-0x1*-0x387d;for(let _0x2b22ed=-0x67d*-0x2+-0x4de*0x8+0x19f6;_0x2b22ed<0x2c4+0x24d5+0x5a7*-0x7;_0x2b22ed++){const _0x4c9d13=_0x2d7f6d[_0x2b22ed]['sub'](Ti)['length']();_0x4c9d13>_0x339b39&&(_0x339b39=_0x4c9d13);}const _0x141335=_0x37f508['right'],_0x9b0b50=_0x37f508['up'],_0x3db877=_0x37f508['forward'],_0x515bd5=(0x26b*0x2+0x1c69+0x213f*-0x1+0.25)*_0x1c2981['_shadowRes'+'olution']/_0x339b39,_0x4a4cdc=Math['ceil'](Ti['dot'](_0x9b0b50)*_0x515bd5)/_0x515bd5,_0x2bc20b=Math['ceil'](Ti['dot'](_0x141335)*_0x515bd5)/_0x515bd5,_0x3d10ed=_0x9b0b50['mulScalar'](_0x4a4cdc),_0x406f03=_0x141335['mulScalar'](_0x2bc20b),_0x95126a=Ti['dot'](_0x3db877),_0x1363f5=_0x3db877['mulScalar'](_0x95126a);Ti['add2'](_0x3d10ed,_0x406f03)['add'](_0x1363f5),_0x37f508['setPositio'+'n'](Ti),_0x37f508['translateL'+'ocal'](-0x1*0x22+-0x565*0x5+-0x1b*-0x101,-0xf3e+-0x3a1*-0x5+0x1*-0x2e7,0x15b28b*-0x1+0x11572d*-0x1+0x1*0x364bf8),_0x17d5c1['nearClip']=-0x1*0x2215+-0x111e+-0x303*-0x11+0.01,_0x17d5c1['farClip']=0x2*0xe2ddb+-0x12d843+0x1*0x15010d,_0x17d5c1['orthoHeigh'+'t']=_0x339b39,this['renderer']['updateCame'+'raFrustum'](_0x17d5c1),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x57b3a4,_0x1c2981,_0x1873b3['visibleCas'+'ters'],_0x17d5c1,_0x1f4083);const _0x370e11=0x206d*-0x1+-0x8f5*0x3+0x37d*0x11<<_0xc1bb30,_0x3d7f93=_0x1873b3['visibleCas'+'ters'],_0x3d47dc=_0x3d7f93['length'];let _0x207cec=0x346*0x2+-0x2335+0x1ca9;for(let _0x29d337=0xcea+-0x5ea+-0x7*0x100;_0x29d337<_0x3d47dc;_0x29d337++){const _0x10f847=_0x3d7f93[_0x29d337];_0x10f847['shadowCasc'+'adeMask']&_0x370e11&&(_0x3d7f93[_0x207cec++]=_0x10f847,_0x207cec===0x255+-0x2*0xeb+-0x7e*0x1?lc['copy'](_0x10f847['aabb']):lc['add'](_0x10f847['aabb']));}_0x3d47dc!==_0x207cec&&(_0x3d7f93['length']=_0x207cec),H_['copy'](_0x37f508['getWorldTr'+'ansform']())['invert']();const _0x266fda=Nb(H_,lc['getMin'](),lc['getMax']());_0x37f508['translateL'+'ocal'](0xea9+-0x2b7+-0xbf2,-0x102b*-0x1+-0x550+-0x7*0x18d,_0x266fda['max']+(-0x59c+-0x238d*-0x1+-0x1df1+0.1)),_0x17d5c1['farClip']=_0x266fda['max']-_0x266fda['min']+(-0xf54+0xf9*-0x19+-0x33*-0xc7+0.2),_0x1873b3['projection'+'Compensati'+'on']=_0x339b39;}}['generateSp'+'litDistanc'+'es'](_0x2d4798,_0x1d936d,_0x2b7c4a){_0x2d4798['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x2b7c4a);for(let _0xca3bba=0x61a+-0x2*-0x7d9+-0x15cb;_0xca3bba<_0x2d4798['numCascade'+'s'];_0xca3bba++){const _0x58c4c7=_0xca3bba/_0x2d4798['numCascade'+'s'],_0x45e282=_0x1d936d+(_0x2b7c4a-_0x1d936d)*_0x58c4c7,_0x5bfd79=_0x1d936d*(_0x2b7c4a/_0x1d936d)**_0x58c4c7,_0x4f1cee=Y['lerp'](_0x45e282,_0x5bfd79,_0x2d4798['cascadeDis'+'tribution']);_0x2d4798['_shadowCas'+'cadeDistan'+'ces'][_0xca3bba-(0x476*0x2+0x2325+-0x2c10)]=_0x4f1cee;}}['getLightRe'+'nderPass'](_0x280e27,_0x4d5ea3){w['assert'](_0x280e27&&_0x280e27['_type']===ve);let _0x340816=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x280e27)){const _0x5f4b55=_0x280e27['numShadowF'+'aces'],_0x7d59b6=_0x280e27['shadowUpda'+'teOverride'+'s'];let _0x506280=!(0x1*0x76d+-0x1c05+0x1498),_0x1f1195;for(let _0x4be134=-0x4d0+0x279*-0xa+0x26*0xc7;_0x4be134<_0x5f4b55;_0x4be134++)(_0x7d59b6==null?void(-0xc89*-0x3+-0x7f*0x3b+0x16*-0x61):_0x7d59b6[_0x4be134])===Ps&&(_0x506280=!(-0x1*0x29a+0x138+0x47*0x5)),_0x1f1195=this['shadowRend'+'erer']['prepareFac'+'e'](_0x280e27,_0x4d5ea3,_0x4be134);_0x340816=new Fb(this['device'],this['shadowRend'+'erer'],_0x280e27,_0x4d5ea3,_0x506280),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x340816,_0x1f1195,_0x506280);}return _0x340816;}}const rf=new Set(),W_=new te(),$_=new te(),Fr=new Float32Array(-0x6f1*0x3+0x269b*-0x1+0x4f4*0xc),lo=new re(-0x1aef+-0xd06+0x5d*0x6e,-0x11*-0x136+-0xb15+-0x980*0x1,-0x1e*0x1c+-0x174+0x1*0x4bc,-0x4b5+-0x2566+-0x2a1b*-0x1),X_=new te();function Ub(_0x54ee89,_0x341526){return Math['exp'](-(_0x54ee89*_0x54ee89)/((0xca*-0x2b+-0xf4d*-0x1+-0x1*-0x12a3)*_0x341526*_0x341526));}function Bb(_0xc44610){const _0x4c8685=(_0xc44610-(-0x16e0+0x1*-0x221d+0x38fe))/(0x179f*-0x1+0x1b5*0x2+0x143b),_0x140ed4=(_0xc44610-(0x1bc4*0x1+0x1*0x2047+-0x3c0a))*(0x1*0x64c+-0x1123+-0x5*-0x22b+0.5),_0x4efcae=new Array(_0xc44610);let _0x2737da=0x1*-0x1f8f+-0x1bcd*0x1+0x3a*0x106;for(let _0x2ae2c7=-0xb2*-0x5+0xa62+-0xddc;_0x2ae2c7<_0xc44610;++_0x2ae2c7)_0x4efcae[_0x2ae2c7]=Ub(_0x2ae2c7-_0x140ed4,_0x4c8685),_0x2737da+=_0x4efcae[_0x2ae2c7];for(let _0x5ef8f7=0x2*-0x1192+-0x2*-0x880+-0x24*-0x81;_0x5ef8f7<_0xc44610;++_0x5ef8f7)_0x4efcae[_0x5ef8f7]/=_0x2737da;return _0x4efcae;}class Cv{constructor(_0x43584e,_0x5e530c){h(this,'shadowPass'+'Cache',[]),(this['device']=_0x43584e['device'],this['renderer']=_0x43584e,this['lightTextu'+'reAtlas']=_0x5e530c);const _0x1a0191=this['device']['scope'];this['sourceId']=_0x1a0191['resolve']('source'),this['pixelOffse'+'tId']=_0x1a0191['resolve']('pixelOffse'+'t'),this['weightId']=_0x1a0191['resolve']('weight[0]'),this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x1a0191['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new pt(),this['blendState'+'NoWrite']=new pt(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(0xcc9+-0x1225+0x55d),!(0x17*0x4b+0x1874+-0x1f30),!(-0x59b+0x8b*-0x3+0x73d),!(0x262*-0x5+0x135e*-0x2+0x32a7));}static['createShad'+'owCamera'](_0x1fb433,_0xec8ac2,_0x1223e8){const _0x52a8c2=Wn['create']('ShadowCame'+'ra',_0xec8ac2,_0x1223e8),_0x118d68=qi['get'](_0x1fb433);w['assert'](_0x118d68);const _0xe4a761=(_0x118d68==null?void(-0x25*-0x76+-0x2272*-0x1+-0x19c0*0x2):_0x118d68['vsm'])??!(0x19f7*0x1+0x6c8+0x20be*-0x1),_0x1fea63=(_0x118d68==null?void(0x1f7f+0x3*0x9cb+-0x3ce0):_0x118d68['pcf'])??!(0x7c3+-0xc*-0x169+-0x6*0x41d);return _0xe4a761?_0x52a8c2['clearColor']=new ie(0x69e+-0x1b92+0x14f4,-0x82c+-0x1122+-0x194e*-0x1,-0x1523*-0x1+-0x7fd+0x21*-0x66,-0x3*-0x8ef+-0x12d*0x1f+0x5*0x1ee):_0x52a8c2['clearColor']=new ie(0x2447+-0x5b*-0x6+-0x1334*0x2,0x10*0x161+-0xf91+-0x67e,0x1*0x941+0x3*0x617+-0x1b85,-0x23ff+0xba8*0x2+-0x3a*-0x38),_0x52a8c2['clearDepth'+'Buffer']=!(-0x475*0x7+0x26ea+-0x7b7),_0x52a8c2['clearStenc'+'ilBuffer']=!(-0x138c*-0x1+-0xbae+-0x1*0x7dd),_0x52a8c2['clearColor'+'Buffer']=!_0x1fea63,_0x52a8c2;}['_cullShado'+'wCastersIn'+'ternal'](_0x4953a3,_0x3f00f8,_0x31605b){const _0x514947=_0x4953a3['length'];for(let _0x3b1308=-0x7bd+-0x64b+0xe08;_0x3b1308<_0x514947;_0x3b1308++){const _0x1bd5bb=_0x4953a3[_0x3b1308];_0x1bd5bb['castShadow']&&(!_0x1bd5bb['cull']||_0x1bd5bb['_isVisible'](_0x31605b))&&(_0x1bd5bb['visibleThi'+'sFrame']=!(-0x2*0x12f7+0x1ec*0x13+0x16a),_0x3f00f8['push'](_0x1bd5bb));}}['cullShadow'+'Casters'](_0xe0481c,_0x25cd00,_0x590f0f,_0x4ca495,_0x480ad6){var _0x1dda46,_0x3022c6;if((_0x1dda46=this['renderer']['scene'])==null||_0x1dda46['fire'](mv,_0x4ca495),_0x590f0f['length']=0x5*0x6d+0x3f5*0x1+-0x616,_0x480ad6)this['_cullShado'+'wCastersIn'+'ternal'](_0x480ad6,_0x590f0f,_0x4ca495);else{const _0x4d4968=_0xe0481c['layerList'],_0x517707=_0x4d4968['length'];for(let _0x3bdca3=0x1139*-0x2+-0x14b5+0x7e1*0x7;_0x3bdca3<_0x517707;_0x3bdca3++){const _0x298714=_0x4d4968[_0x3bdca3];_0x298714['_lightsSet']['has'](_0x25cd00)&&(rf['has'](_0x298714)||(rf['add'](_0x298714),this['_cullShado'+'wCastersIn'+'ternal'](_0x298714['shadowCast'+'ers'],_0x590f0f,_0x4ca495)));}rf['clear']();}_0x590f0f['sort'](this['sortCompar'+'eShader']),(_0x3022c6=this['renderer']['scene'])==null||_0x3022c6['fire'](_v,_0x4ca495);}['sortCompar'+'eShader'](_0x444347,_0x3bf764){const _0x53bcb5=_0x444347['_sortKeySh'+'adow'],_0x51d6e1=_0x3bf764['_sortKeySh'+'adow'];return _0x53bcb5===_0x51d6e1?_0x3bf764['mesh']['id']-_0x444347['mesh']['id']:_0x51d6e1-_0x53bcb5;}['setupRende'+'rState'](_0x4a4144,_0x248459){const _0x349dc5=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x248459['_isPcf']:_0x248459['_isPcf']&&_0x248459['_type']!==Ke;_0x4a4144['setBlendSt'+'ate'](_0x349dc5?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x4a4144['setDepthSt'+'ate'](_0x248459['shadowDept'+'hState']),_0x4a4144['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x4fc54b,_0x57830a,_0x5ad795,_0x4368dd){const _0x25b552=_0x57830a['_node'];_0x4fc54b['_type']!==ve&&(this['renderer']['dispatchVi'+'ewPos'](_0x25b552['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x4fc54b['attenuatio'+'nEnd'])),W_['setTRS'](_0x25b552['getPositio'+'n'](),_0x25b552['getRotatio'+'n'](),D['ONE'])['invert'](),$_['mul2'](_0x57830a['projection'+'Matrix'],W_);const _0x4a900c=_0x5ad795['shadowView'+'port'];_0x57830a['rect']=_0x4a900c,_0x57830a['scissorRec'+'t']=_0x5ad795['shadowScis'+'sor'],X_['setViewpor'+'t'](_0x4a900c['x'],_0x4a900c['y'],_0x4a900c['z'],_0x4a900c['w']),_0x5ad795['shadowMatr'+'ix']['mul2'](X_,$_),_0x4fc54b['_type']===ve&&_0x4fc54b['_shadowMat'+'rixPalette']['set'](_0x5ad795['shadowMatr'+'ix']['data'],_0x4368dd*(-0x1*-0x1c1f+-0x83*0x3d+0x328));}['getShadowP'+'ass'](_0x1021e4){var _0x54938d;const _0x5e498b=_0x1021e4['_type'],_0x380289=_0x1021e4['_shadowTyp'+'e'];let _0x14345e=(_0x54938d=this['shadowPass'+'Cache'][_0x5e498b])==null?void(-0xdf4+0x1e3c+-0x1048*0x1):_0x54938d[_0x380289];if(!_0x14345e){const _0x562a7c='ShadowPass'+'_'+_0x5e498b+'_'+_0x380289;_0x14345e=Si['get'](this['device'])['allocate'](_0x562a7c,{'isShadow':!(-0xdb6+0x73c*0x2+0x1*-0xc2),'lightType':_0x5e498b,'shadowType':_0x380289}),this['shadowPass'+'Cache'][_0x5e498b]||(this['shadowPass'+'Cache'][_0x5e498b]=[]),this['shadowPass'+'Cache'][_0x5e498b][_0x380289]=_0x14345e;}return _0x14345e['index'];}['submitCast'+'ers'](_0x3e3de4,_0x1e0f76,_0x6cf0c1){var _0x53cecf;const _0x5655ce=this['device'],_0x48b924=this['renderer'],_0x34e19c=_0x48b924['scene'],_0x27f5b4=-0x1*-0x11b3+-0xc82*0x2+0x752<<cm,_0x5b10f1=this['getShadowP'+'ass'](_0x1e0f76),_0x59994f=_0x6cf0c1['shaderPara'+'ms'],_0x1df81e=_0x6cf0c1['renderTarg'+'et']['flipY']?-(0x21f6+0x2414*0x1+0x4609*-0x1):-0x216a+-0x71*0x35+0x12f*0x30,_0x35d514=_0x3e3de4['length'];for(let _0x273d35=-0x24db+-0x3e6*-0x1+0x2ff*0xb;_0x273d35<_0x35d514;_0x273d35++){const _0x359d35=_0x3e3de4[_0x273d35],_0x500137=_0x359d35['mesh'],_0x4c625=_0x359d35['instancing'+'Data'];if(_0x4c625&&_0x4c625['count']<=-0x1*-0xd8d+0xe22*-0x2+0xeb7)continue;_0x359d35['ensureMate'+'rial'](_0x5655ce);const _0x4c483d=_0x359d35['material'];Q['pushGpuMar'+'ker'](_0x5655ce,'Node:\x20'+_0x359d35['node']['name']+(',\x20Material'+':\x20')+_0x4c483d['name']),_0x48b924['setBaseCon'+'stants'](_0x5655ce,_0x4c483d),_0x48b924['setSkinnin'+'g'](_0x5655ce,_0x359d35),_0x4c483d['dirty']&&(_0x4c483d['updateUnif'+'orms'](_0x5655ce,_0x34e19c),_0x4c483d['dirty']=!(-0xd0b+-0x55*-0x53+-0x2e7*0x5)),_0x48b924['setupCullM'+'ode'](!(0xe19+0x21b4+-0x2fcd),_0x1df81e,_0x359d35),_0x4c483d['setParamet'+'ers'](_0x5655ce),_0x359d35['setParamet'+'ers'](_0x5655ce,_0x27f5b4);const _0x3220fe=_0x359d35['getShaderI'+'nstance'](_0x5b10f1,0x2108+0x1*-0x21ba+0x1*0xb2,_0x34e19c,_0x59994f,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x4844b5=_0x3220fe['shader'];if(w['assert'](_0x4844b5,'no\x20shader\x20'+'for\x20pass\x20'+_0x5b10f1,_0x4c483d),_0x4844b5['failed'])continue;_0x359d35['_sortKeySh'+'adow']=_0x4844b5['id'],_0x5655ce['setShader'](_0x4844b5),_0x48b924['setVertexB'+'uffers'](_0x5655ce,_0x500137),_0x48b924['setMorphin'+'g'](_0x5655ce,_0x359d35['morphInsta'+'nce']),_0x4c625&&_0x5655ce['setVertexB'+'uffer'](_0x4c625['vertexBuff'+'er']),_0x48b924['setMeshIns'+'tanceMatri'+'ces'](_0x359d35),_0x48b924['setupMeshU'+'niformBuff'+'ers'](_0x3220fe);const _0x231af5=_0x359d35['renderStyl'+'e'],_0x3763ac=(_0x53cecf=_0x359d35['indirectDa'+'ta'])==null?void(0x2*0xf58+0x2ce+-0x217e):_0x53cecf['get'](_0x6cf0c1);_0x5655ce['draw'](_0x500137['primitive'][_0x231af5],_0x500137['indexBuffe'+'r'][_0x231af5],_0x4c625==null?void(-0x1*-0xda8+-0x5f*0x45+0xbf3):_0x4c625['count'],_0x3763ac),_0x48b924['_shadowDra'+'wCalls']++,_0x4c625&&_0x48b924['_instanced'+'DrawCalls']++,Q['popGpuMark'+'er'](_0x5655ce);}}['needsShado'+'wRendering'](_0x231ca8){const _0x3407e7=_0x231ca8['enabled']&&_0x231ca8['castShadow'+'s']&&_0x231ca8['shadowUpda'+'teMode']!==Ps&&_0x231ca8['visibleThi'+'sFrame'];return _0x231ca8['shadowUpda'+'teMode']===xr&&(_0x231ca8['shadowUpda'+'teMode']=Ps),_0x3407e7&&(this['renderer']['_shadowMap'+'Updates']+=_0x231ca8['numShadowF'+'aces']),_0x3407e7;}['getLightRe'+'nderData'](_0x1e151c,_0x1b55dd,_0x501204){return _0x1e151c['getRenderD'+'ata'](_0x1e151c['_type']===ve?_0x1b55dd:null,_0x501204);}['setupRende'+'rPass'](_0x32dabe,_0xa326e5,_0x3ae9f0){const _0x12f674=_0xa326e5['renderTarg'+'et'];_0x32dabe['init'](_0x12f674),_0x32dabe['depthStenc'+'ilOps']['clearDepth'+'Value']=-0x545+-0x1*0x2372+0x145c*0x2,_0x32dabe['depthStenc'+'ilOps']['clearDepth']=_0x3ae9f0,_0x12f674['depthBuffe'+'r']?_0x32dabe['depthStenc'+'ilOps']['storeDepth']=!(-0x26fb+0x1ec5+0x836):(_0x32dabe['colorOps']['clearValue']['copy'](_0xa326e5['clearColor']),_0x32dabe['colorOps']['clear']=_0x3ae9f0,_0x32dabe['depthStenc'+'ilOps']['storeDepth']=!(-0x260+0x1936+-0x7*0x343)),_0x32dabe['requiresCu'+'bemaps']=!(0x6f7*0x1+0x1*0x254b+-0x2c41);}['prepareFac'+'e'](_0x45097e,_0x3fc9e7,_0x44cc18){const _0x10e618=_0x45097e['_type'],_0x4d3952=this['getLightRe'+'nderData'](_0x45097e,_0x3fc9e7,_0x44cc18)['shadowCame'+'ra'],_0x27566b=_0x10e618===ve?0x1a05+0xaf*0x31+-0x3b84:_0x44cc18;return _0x4d3952['renderTarg'+'et']=_0x45097e['_shadowMap']['renderTarg'+'ets'][_0x27566b],_0x4d3952;}['renderFace'](_0x3bc06c,_0x235df4,_0x1dfe1c,_0x39974a,_0x50e98e=!(-0x970+0xce+0x8a2)){const _0x5c1260=this['device'],_0x29f282=de();Q['pushGpuMar'+'ker'](_0x5c1260,'SHADOW\x20'+_0x3bc06c['_node']['name']+'\x20FACE\x20'+_0x1dfe1c);const _0x1fdba3=this['getLightRe'+'nderData'](_0x3bc06c,_0x235df4,_0x1dfe1c),_0x324a07=_0x1fdba3['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x3bc06c,_0x324a07,_0x1fdba3,_0x1dfe1c);const _0x9175ff=_0x324a07['renderTarg'+'et'],_0x2a20c8=this['renderer'];_0x2a20c8['setCameraU'+'niforms'](_0x324a07,_0x9175ff),_0x5c1260['supportsUn'+'iformBuffe'+'rs']&&_0x2a20c8['setupViewU'+'niformBuff'+'ers'](_0x1fdba3['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],null),_0x50e98e?(_0x2a20c8['setupViewp'+'ort'](_0x324a07,_0x9175ff),_0x39974a&&_0x2a20c8['clear'](_0x324a07)):_0x2a20c8['clearView'](_0x324a07,_0x9175ff,!(0x32*-0x9b+0xa*-0x25c+0x1*0x35de),!(-0x2068+-0x1025+0x235*0x16)),this['setupRende'+'rState'](_0x5c1260,_0x3bc06c),this['submitCast'+'ers'](_0x1fdba3['visibleCas'+'ters'],_0x3bc06c,_0x324a07),Q['popGpuMark'+'er'](_0x5c1260),_0x2a20c8['_shadowMap'+'Time']+=de()-_0x29f282;}['render'](_0x13ab69,_0x34f832,_0x13a1b7=!(0x2*0x5cb+-0x21a5+-0x1*-0x160f)){if(this['needsShado'+'wRendering'](_0x13ab69)){const _0x4c2193=_0x13ab69['numShadowF'+'aces'];for(let _0x168298=-0x1*-0x1c3d+0x161c+-0x3259;_0x168298<_0x4c2193;_0x168298++)this['prepareFac'+'e'](_0x13ab69,_0x34f832,_0x168298),this['renderFace'](_0x13ab69,_0x34f832,_0x168298,!(0x232*-0xa+0x22e0+-0xcec),_0x13a1b7);this['renderVsm'](_0x13ab69,_0x34f832);}}['renderVsm'](_0x1a9ff8,_0x366025){_0x1a9ff8['_isVsm']&&_0x1a9ff8['_vsmBlurSi'+'ze']>0x72a+-0x1*0x44+-0x161*0x5&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x1a9ff8['_type']===ve)&&this['applyVsmBl'+'ur'](_0x1a9ff8,_0x366025);}['getVsmBlur'+'Shader'](_0x210323,_0x384720){const _0x18b092=this['blurVsmSha'+'der'];let _0x58614c=_0x18b092[_0x210323][_0x384720];if(!_0x58614c){this['blurVsmWei'+'ghts'][_0x384720]=Bb(_0x384720);const _0x48ddc5=new Map();_0x48ddc5['set']('{SAMPLES}',_0x384720),_0x210323===0x2636+0x67f+-0x1*0x2cb4&&_0x48ddc5['set']('GAUSS',''),_0x58614c=$t['createShad'+'er'](this['device'],{'uniqueName':'blurVsm'+_0x210323+_0x384720,'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'blurVSMPS','fragmentDefines':_0x48ddc5}),_0x18b092[_0x210323][_0x384720]=_0x58614c;}return _0x58614c;}['applyVsmBl'+'ur'](_0x4fedc9,_0x4236b7){const _0x55ea24=this['device'];Q['pushGpuMar'+'ker'](_0x55ea24,'VSM\x20'+_0x4fedc9['_node']['name']),_0x55ea24['setBlendSt'+'ate'](pt['NOBLEND']);const _0x11f68a=_0x4fedc9['getRenderD'+'ata'](_0x4fedc9['_type']===ve?_0x4236b7:null,-0x17cc+0x8*-0x9e+0x1cbc)['shadowCame'+'ra']['renderTarg'+'et'],_0x58c1ed=this['renderer']['shadowMapC'+'ache']['get'](_0x55ea24,_0x4fedc9),_0x5962de=_0x58c1ed['renderTarg'+'ets'][0x1d3b+0xbe1*-0x1+-0x8ad*0x2],_0x582598=_0x4fedc9['vsmBlurMod'+'e'],_0x5f4b2f=_0x4fedc9['_vsmBlurSi'+'ze'],_0x1ba938=this['getVsmBlur'+'Shader'](_0x582598,_0x5f4b2f);lo['z']=_0x4fedc9['_shadowRes'+'olution']-(0x47*0x2e+-0x1*0x22d5+-0x1*-0x1615),lo['w']=lo['z'],this['sourceId']['setValue'](_0x11f68a['colorBuffe'+'r']),Fr[0x7*0x53b+0x4*-0x1ae+0x1*-0x1de5]=(-0xd7*-0x22+0xa04+-0x9*0x449)/_0x4fedc9['_shadowRes'+'olution'],Fr[0x16be*-0x1+-0x2b7*0x2+-0x1c2d*-0x1]=-0x5c5*-0x1+0x13fb+-0x40*0x67,this['pixelOffse'+'tId']['setValue'](Fr),_0x582598===em&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x5f4b2f]),Ar(_0x55ea24,_0x5962de,_0x1ba938,null,lo),this['sourceId']['setValue'](_0x5962de['colorBuffe'+'r']),Fr[-0x2*0xb20+0x2269+-0xc28]=Fr[0xc29*0x2+-0xbc+-0x1796],Fr[0xa*-0x123+0xb8d+0x1*-0x2f]=-0x119*0x13+0xde*-0x15+-0x89*-0x49,this['pixelOffse'+'tId']['setValue'](Fr),Ar(_0x55ea24,_0x11f68a,_0x1ba938,null,lo),this['renderer']['shadowMapC'+'ache']['add'](_0x4fedc9,_0x58c1ed),Q['popGpuMark'+'er'](_0x55ea24);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new zy(this['device'],[new dt('matrix_vie'+'wProjectio'+'n',li)]),this['viewBindGr'+'oupFormat']=new Ny(this['device'],[new kp(Np,Fp|by)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const cc=[];class zb{constructor(_0x3847c4){h(this,'_empty',null),h(this,'_allocated',[]),h(this,'_clusters',new Map()),this['device']=_0x3847c4;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x5d4fa7=>{_0x5d4fa7['destroy']();}),this['_allocated']['length']=0xb5d*0x2+0x117*-0x2+-0x148c;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x55336d=new cu(this['device']);_0x55336d['name']='ClusterEmp'+'ty',_0x55336d['update']([]),this['_empty']=_0x55336d;}return this['_empty'];}['assign'](_0x3cb30d){const _0x776b4d=this['empty'];cc['push'](...this['_allocated']),this['_allocated']['length']=-0x11af+-0x33d+0x1*0x14ec,this['_clusters']['clear']();const _0x2b7729=_0x3cb30d['length'];for(let _0x4fa2b1=-0x1015*-0x1+-0xe*0xde+-0x3f1;_0x4fa2b1<_0x2b7729;_0x4fa2b1++){const _0x25d50e=_0x3cb30d[_0x4fa2b1]['renderActi'+'ons'];if(_0x25d50e){const _0x4a1496=_0x25d50e['length'];for(let _0x3f1478=0x1768+-0x610+0x1bc*-0xa;_0x3f1478<_0x4a1496;_0x3f1478++){const _0xae1c8d=_0x25d50e[_0x3f1478];_0xae1c8d['lightClust'+'ers']=null;const _0x177b7f=_0xae1c8d['layer'];if(_0x177b7f['hasCluster'+'edLights']&&_0x177b7f['meshInstan'+'ces']['length']){const _0x51282d=_0x177b7f['getLightId'+'Hash'](),_0x510a8b=this['_clusters']['get'](_0x51282d);let _0xae9de9=_0x510a8b==null?void(-0x25d0+-0x62e+0x6*0x755):_0x510a8b['lightClust'+'ers'];_0xae9de9||(_0xae9de9=cc['pop']()??new cu(this['device']),Ea['setName'](_0xae9de9,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0xae9de9),this['_clusters']['set'](_0x51282d,_0xae1c8d)),_0xae1c8d['lightClust'+'ers']=_0xae9de9;}_0xae1c8d['lightClust'+'ers']||(_0xae1c8d['lightClust'+'ers']=_0x776b4d);}}}cc['forEach'](_0x2018cb=>_0x2018cb['destroy']()),cc['length']=0x6*0x556+0x277*0x3+0xab*-0x3b;}['update'](_0x3d324d,_0x6857fa){this['assign'](_0x3d324d),this['_clusters']['forEach'](_0x2bf297=>{const _0x5a48e1=_0x2bf297['layer'];_0x2bf297['lightClust'+'ers']['update'](_0x5a48e1['clusteredL'+'ightsSet'],_0x6857fa);});}}const rr=new re(),af=[];class pm extends ys{constructor(_0xcc8a39,_0x48cbb0){super(_0xcc8a39),h(this,'_quadRende'+'rer2D',null),h(this,'_quadRende'+'rerCube',null),h(this,'_filteredL'+'ights',[]),h(this,'_forceCopy',!(0x1eb8+-0x24f7+0x64*0x10)),h(this,'_evtDevice'+'Restored',null),(this['_cubeSlots'+'Offsets']=_0x48cbb0,this['requiresCu'+'bemaps']=!(-0x23ac+-0xff5+0x33a2),this['blitTextur'+'eId']=_0xcc8a39['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0xcc8a39['scope']['resolve']('invViewPro'+'j'),this['_evtDevice'+'Restored']=_0xcc8a39['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this));}['destroy'](){var _0x5eeb35,_0x4459d5,_0x3a50ab;(_0x5eeb35=this['_quadRende'+'rer2D'])==null||_0x5eeb35['destroy'](),this['_quadRende'+'rer2D']=null,(_0x4459d5=this['_quadRende'+'rerCube'])==null||_0x4459d5['destroy'](),this['_quadRende'+'rerCube']=null,(_0x3a50ab=this['_evtDevice'+'Restored'])==null||_0x3a50ab['off'](),this['_evtDevice'+'Restored']=null;}static['create'](_0x313335,_0x672a72){w['assert'](_0x313335);const _0x90cd1f=new pm(_0x313335['device'],_0x672a72);return _0x90cd1f['init'](_0x313335),_0x90cd1f['colorOps']['clear']=!(0x912+0x1*0x1eef+-0x2800),_0x90cd1f['depthStenc'+'ilOps']['clearDepth']=!(0xcfd+0x98c*-0x1+-0x370),_0x90cd1f;}['onDeviceRe'+'stored'](){this['_forceCopy']=!(-0x1*0xb57+-0x1*0xace+-0x1*-0x1625);}['update'](_0x5532bc){const _0x355b54=this['_filteredL'+'ights'];this['filter'](_0x5532bc,_0x355b54),this['executeEna'+'bled']=_0x355b54['length']>-0x17c8+0x14a0+0x328;}['filter'](_0x57f492,_0x575a23){for(let _0x2f905f=0x11a5+0x95*0x1a+-0x20c7;_0x2f905f<_0x57f492['length'];_0x2f905f++){const _0x3b08a7=_0x57f492[_0x2f905f];_0x3b08a7['_type']!==ve&&_0x3b08a7['atlasViewp'+'ortAllocat'+'ed']&&(!_0x3b08a7['atlasSlotU'+'pdated']&&!this['_forceCopy']||_0x3b08a7['enabled']&&_0x3b08a7['cookie']&&_0x3b08a7['visibleThi'+'sFrame']&&_0x575a23['push'](_0x3b08a7));}this['_forceCopy']=!(-0xeb0+0x1769+0xba*-0xc);}['initInvVie'+'wProjMatri'+'ces'](){if(!af['length'])for(let _0x5b812c=-0x1be*0x10+0xd9*0xd+0x10db;_0x5b812c<0x34+-0x1*0x14e7+0x1*0x14b9;_0x5b812c++){const _0x4d32ac=Wn['create'](null,Ke,_0x5b812c),_0x343548=_0x4d32ac['projection'+'Matrix'],_0x3a30b2=_0x4d32ac['node']['getLocalTr'+'ansform']()['clone']()['invert']();af[_0x5b812c]=new te()['mul2'](_0x343548,_0x3a30b2)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x249a9d=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'erer2d','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'2DPS'});this['_quadRende'+'rer2D']=new Ah(_0x249a9d);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x24fea6=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'ererCube','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'CubePS'});this['_quadRende'+'rerCube']=new Ah(_0x24fea6);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x3b7c1f=this['device'];_0x3b7c1f['setBlendSt'+'ate'](pt['NOBLEND']),_0x3b7c1f['setCullMod'+'e'](bt),_0x3b7c1f['setDepthSt'+'ate'](Yt['NODEPTH']),_0x3b7c1f['setStencil'+'State']();const _0x4955de=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x425602=this['_cubeSlots'+'Offsets'],_0x1dd78f=this['_filteredL'+'ights'];for(let _0x14f80a=-0x3df*-0x2+0x871+-0x102f;_0x14f80a<_0x1dd78f['length'];_0x14f80a++){const _0xab1bae=_0x1dd78f[_0x14f80a];Q['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0xab1bae['_node']['name']);const _0x4c7056=_0xab1bae['numShadowF'+'aces'],_0x2b63b6=_0x4c7056>0x24b*-0xe+0x1f5c+0x1*0xbf?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x4c7056>-0x1b39+-0x19c2+0x34fc&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0xab1bae['cookie']);for(let _0x2d0643=-0x1321*-0x2+0x1766+0x3da8*-0x1;_0x2d0643<_0x4c7056;_0x2d0643++){if(rr['copy'](_0xab1bae['atlasViewp'+'ort']),_0x4c7056>0x10a4+0x20f7+-0x319a){const _0x4fe6f2=rr['z']/(-0x1725+-0x21a+0x1942),_0xe51288=_0x425602[_0x2d0643];rr['x']+=_0x4fe6f2*_0xe51288['x'],rr['y']+=_0x4fe6f2*_0xe51288['y'],rr['z']=_0x4fe6f2,rr['w']=_0x4fe6f2,this['invViewPro'+'jId']['setValue'](af[_0x2d0643]['data']);}rr['mulScalar'](_0x4955de),_0x2b63b6['render'](rr);}Q['popGpuMark'+'er'](_0x3b7c1f);}_0x1dd78f['length']=0x13f*-0x11+0x1ea5+-0x976;}}class Vb extends ys{constructor(_0x10d01c,_0x296eb1,_0x13b52f){super(_0x10d01c),this['requiresCu'+'bemaps']=!(-0x1f39*0x1+0xc56+0x12e4*0x1),this['shadowRend'+'erer']=_0x296eb1,this['shadowRend'+'ererLocal']=_0x13b52f;}['update'](_0x1249d){const _0x4767c8=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0xd3e5b9=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x4767c8,_0x1249d),_0x43d2dd=_0x4767c8['length'];this['enabled']=_0x43d2dd>-0x1*0x185e+0x2420+-0xbc2,_0x43d2dd&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0xd3e5b9,!(0x1*0x113a+-0x61*0x5d+-0x1*-0x1204));}['execute'](){const _0x58fdb0=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x52e610=_0x58fdb0['length'];for(let _0x161900=0x52*-0x16+0x32b+0x1*0x3e1;_0x161900<_0x52e610;_0x161900++){const _0x332d1a=_0x58fdb0[_0x161900];for(let _0x57947b=-0x1*-0x2665+-0x21e3+-0x482*0x1;_0x57947b<_0x332d1a['numShadowF'+'aces'];_0x57947b++)this['shadowRend'+'erer']['renderFace'](_0x332d1a,null,_0x57947b,!(0x1*0x18f7+0x166*-0x1+-0x1791*0x1));}_0x58fdb0['length']=-0x3f1+-0xc65+0x1056;}}class Gb extends ys{constructor(_0x311b21,_0x52befc,_0x207066,_0x5b21b,_0x111852){super(_0x311b21),this['renderer']=_0x52befc,this['frameGraph']=null,this['cookiesRen'+'derPass']=pm['create'](_0x111852['cookieRend'+'erTarget'],_0x111852['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new Vb(_0x311b21,_0x207066,_0x5b21b),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x1d2973,_0x4dee26,_0xaf6f43,_0x5f2229,_0x16c44e){this['frameGraph']=_0x1d2973,this['cookiesRen'+'derPass']['enabled']=_0xaf6f43,_0xaf6f43&&this['cookiesRen'+'derPass']['update'](_0x5f2229),this['shadowRend'+'erPass']['enabled']=_0x4dee26,_0x4dee26&&this['shadowRend'+'erPass']['update'](_0x16c44e);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x452136=de(),{renderer:_0x20e95f}=this,{scene:_0x6e04e2}=_0x20e95f;_0x20e95f['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x6e04e2['lighting']),_0x20e95f['_lightClus'+'tersTime']+=de()-_0x452136,_0x20e95f['_lightClus'+'ters']=_0x20e95f['worldClust'+'ersAllocat'+'or']['count'];}}let nf=-0x1ede+-0x1b62+0x3a40;const ar=new te(),nr=new te(),Oa=new te(),q_=new _i(),of=new sp(),j_=new te()['setScale'](0x1840+-0x1*0x2063+-0x209*-0x4,-(0x93*-0x2f+0x25dd*0x1+0xadf*-0x1),0x21a9+-0x185e*0x1+0x1*-0x94a),lf=new Set(),cf=new Set(),hf=new ky(),Y_=new te()['set']([0x156d+-0x1*-0xcfa+-0x2266,-0xadb*-0x1+-0x3*-0x4bf+-0x8*0x323,0xc*-0x32a+0x150b+0x7*0x26b,0x340+0x1*-0xa86+0x746,0x1735+-0x4f0+-0x1245,0x1cf0*0x1+0x1*0x617+-0x2306,0xe5f+0xf76+-0x1*0x1dd5,-0x896+-0xa2f*-0x3+-0x15f7,-0x846+0x1*0x113b+-0x8f5,-0xcb4*0x3+-0x20a8+0xe*0x50e,0xd*-0x283+0xd*-0x2c2+0x4481+0.5,-0x2a5+-0x12*0x19a+0x1f79,0xc89*-0x2+-0x24f1+0x3e03,0x11*0x131+0x10d6+0x279*-0xf,0x1*-0x116f+-0x267f+0x37ee+0.5,-0xde+-0x145d*-0x1+-0x137e]),K_=[new J(-0xb2+-0x7e1+-0x5*-0x1b7+0.5,0xe7b+0x8c8+-0x1743+0.333333),new J(-0x10*0x7a+-0x2*0xe5f+0x245e+0.25,0x25e+-0x9c4+0x766+0.666667),new J(0xdfa+-0x9a4*-0x1+0x179e*-0x1+0.75,0xc2+0x93c+-0x2*0x4ff+0.111111),new J(0x1*-0x13df+0xaa*-0x2+0x1533+0.125,0xd*0x12f+0x2435+-0x3398+0.444444),new J(-0x7b9*-0x1+-0x8ea+0x131+0.625,-0x1cd9+0x495*0x6+0x15b+0.777778),new J(-0x20ea+-0xe78+0x2f62+0.375,0x7d4+0xaa4+-0xc5*0x18+0.222222),new J(-0x3*-0x32f+-0x917+-0x76+0.875,0x21fe+-0x319*-0x2+0x4*-0xa0c+0.555556),new J(0x154f+0x55f+-0x1aae*0x1+0.0625,0x3ec*0x1+0x1a63+-0x1e4f+0.888889),new J(0xc8b*0x1+0x1*-0x10a9+0x41e+0.5625,-0xf05+0x10e3+0x1*-0x1de+0.037037),new J(0xf65+0x1dcf+-0x2d34+0.3125,0xa4f+-0xeb*0x15+0x8f8+0.37037),new J(-0x3*-0x287+0x176+-0x90b+0.8125,-0x22cf+-0x1112+0x33e1+0.703704),new J(-0x716*0x1+-0x17a9+-0x1ebf*-0x1+0.1875,0x810+0x1*-0x6a7+0x169*-0x1+0.148148),new J(0x1*-0x255+-0x17ef+0x4*0x691+0.6875,0x562*-0x1+0xaf6+-0x2*0x2ca+0.481481),new J(0x16*0x16+-0x146d+0x41*0x49+0.4375,0x2190+-0x1318+-0xe78+0.814815),new J(-0x7*-0x303+-0xcca+-0x84b+0.9375,0x293+-0x17c9+0x1536+0.259259),new J(0x1cae+-0x1344+-0x1e2*0x5+0.03125,-0x19*0x2+-0x20e9+0x211b+0.592593)],Hb=new te(),Wb=new te(),$b=new te(),Xb=new te(),qb=new te(),jb=new te(),Fa=new Set(),df=[],ff=[];class Yb{constructor(_0x5384d0){h(this,'clustersDe'+'bugRendere'+'d',!(0x12*0x18e+-0xf0c+-0xcef)),h(this,'processing'+'MeshInstan'+'ces',new Set()),h(this,'worldClust'+'ersAllocat'+'or'),h(this,'lights',[]),h(this,'localLight'+'s',[]),h(this,'cameraDirS'+'hadowLight'+'s',new Map()),h(this,'dirLightSh'+'adows',new Map()),h(this,'blueNoise',new wb(-0x20*-0x84+-0xd9b+-0x26a)),(this['device']=_0x5384d0,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new zb(_0x5384d0),this['lightTextu'+'reAtlas']=new Ib(_0x5384d0),this['shadowMapC'+'ache']=new Lb(),this['shadowRend'+'erer']=new Cv(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new Ob(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new kb(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new Gb(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=-0x256a+-0x6b0+-0xa*-0x469,this['_morphTime']=-0xff8+0x1*0x21b6+-0x11be,this['_cullTime']=0x87b*0x3+-0x2284+0x913,this['_shadowMap'+'Time']=-0x164c+0x3*0x250+0xf5c,this['_lightClus'+'tersTime']=-0x810+0x23*0x5+-0x1*-0x761,this['_layerComp'+'ositionUpd'+'ateTime']=-0x95+-0x169f+0x2d*0x84,this['_shadowDra'+'wCalls']=-0x2110+0x73f+0x19d1,this['_skinDrawC'+'alls']=-0x136f+-0x26bf+0x3a2e,this['_instanced'+'DrawCalls']=-0x20*-0xb1+0x2a*0x64+-0x2688,this['_shadowMap'+'Updates']=0x4*-0x148+-0x9*0x2ee+-0x1f7e*-0x1,this['_numDrawCa'+'llsCulled']=-0x338+-0x4c*0x13+0x8dc,this['_camerasRe'+'ndered']=-0x18d+-0x1941+0x1ace,this['_lightClus'+'ters']=-0x1e20+-0x6*0x23d+0x2b8e);const _0x4f9dfb=_0x5384d0['scope'];this['boneTextur'+'eId']=_0x4f9dfb['resolve']('texture_po'+'seMap'),this['modelMatri'+'xId']=_0x4f9dfb['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x4f9dfb['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x4f9dfb['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(0x141a+0x20c+0x1*-0x1623),this['viewPosId']=_0x4f9dfb['resolve']('view_posit'+'ion'),this['projId']=_0x4f9dfb['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x4f9dfb['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x4f9dfb['resolve']('matrix_vie'+'w'),this['viewId3']=_0x4f9dfb['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x4f9dfb['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x4f9dfb['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x4f9dfb['resolve']('tbnBasis'),this['nearClipId']=_0x4f9dfb['resolve']('camera_nea'+'r'),this['farClipId']=_0x4f9dfb['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(-0xa64+0x2678*-0x1+-0x1*-0x30e0),this['cameraPara'+'msId']=_0x4f9dfb['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x4f9dfb['resolve']('view_index'),this['viewIndexI'+'d']['setValue'](-0x1*0x690+-0xcb*0x25+-0x23e7*-0x1),this['blueNoiseJ'+'itterVersi'+'on']=0x1c09+0xfdf+-0x2be8,this['blueNoiseJ'+'itterVec']=new re(),this['blueNoiseJ'+'itterData']=new Float32Array(0x2dd*0xa+-0xb31*-0x3+-0x3e31),this['blueNoiseJ'+'itterId']=_0x4f9dfb['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x4f9dfb['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x4f9dfb['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x4f9dfb['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x4f9dfb['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x4f9dfb['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](0x11e*-0x14+0x2*0x105d+-0xa62),this['morphPosit'+'ionTex']=_0x4f9dfb['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x4f9dfb['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x4f9dfb['resolve']('morph_tex_'+'params'),this['lightCube']=new bb(),this['constantLi'+'ghtCube']=_0x4f9dfb['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['setupViewp'+'ort'](_0x3889a9,_0x5afe5b){const _0x3b2e06=this['device'],_0x11be9b=_0x5afe5b?_0x5afe5b['width']:_0x3b2e06['width'],_0x28ef04=_0x5afe5b?_0x5afe5b['height']:_0x3b2e06['height'],_0x54bd44=_0x3889a9['rect'];let _0x5bc021=Math['floor'](_0x54bd44['x']*_0x11be9b),_0x1be47d=Math['floor'](_0x54bd44['y']*_0x28ef04),_0x4764f4=Math['floor'](_0x54bd44['z']*_0x11be9b),_0x354fb7=Math['floor'](_0x54bd44['w']*_0x28ef04);if(_0x3b2e06['setViewpor'+'t'](_0x5bc021,_0x1be47d,_0x4764f4,_0x354fb7),_0x3889a9['_scissorRe'+'ctClear']){const _0x2a4b99=_0x3889a9['scissorRec'+'t'];_0x5bc021=Math['floor'](_0x2a4b99['x']*_0x11be9b),_0x1be47d=Math['floor'](_0x2a4b99['y']*_0x28ef04),_0x4764f4=Math['floor'](_0x2a4b99['z']*_0x11be9b),_0x354fb7=Math['floor'](_0x2a4b99['w']*_0x28ef04);}_0x3b2e06['setScissor'](_0x5bc021,_0x1be47d,_0x4764f4,_0x354fb7);}['setCameraU'+'niforms'](_0x439949,_0x1446b8){var _0x4e427b,_0x51b310;const _0x38802c=_0x1446b8==null?void(-0x1362+0x857+0xb*0x101):_0x1446b8['flipY'];let _0x223184=null;if(_0x439949['xr']&&_0x439949['xr']['session']){const _0x4cf61b=((_0x51b310=(_0x4e427b=_0x439949['_node'])==null?void(-0x20*0x16+-0x3fa*0x1+0xe*0x7b):_0x4e427b['parent'])==null?void(0x1b03+-0x1538*-0x1+-0x303b):_0x51b310['getWorldTr'+'ansform']())||null;_0x223184=_0x439949['xr']['views']['list'];for(let _0x2ebbfe=0x3*-0x8a+0x574+-0x3d6;_0x2ebbfe<_0x223184['length'];_0x2ebbfe++){const _0xaec413=_0x223184[_0x2ebbfe];_0xaec413['updateTran'+'sforms'](_0x4cf61b),_0x439949['frustum']['setFromMat'+'4'](_0xaec413['projViewOf'+'fMat']);}}else{let _0x3d6301=_0x439949['projection'+'Matrix'];_0x439949['calculateP'+'rojection']&&_0x439949['calculateP'+'rojection'](_0x3d6301,ec);let _0x39b383=_0x439949['getProject'+'ionMatrixS'+'kybox']();_0x38802c&&(_0x3d6301=Hb['mul2'](j_,_0x3d6301),_0x39b383=Wb['mul2'](j_,_0x39b383)),this['device']['isWebGPU']&&(_0x3d6301=$b['mul2'](Y_,_0x3d6301),_0x39b383=Xb['mul2'](Y_,_0x39b383));const {jitter:_0x4c8002}=_0x439949;let _0x254765=-0x114d+-0x1*-0xdf3+-0x6*-0x8f,_0x4b6bd1=-0x4*-0x6dd+0x13*-0x151+0x19*-0x19;if(_0x4c8002>0xd89+0x4*0x2c+-0xb*0x14b){const _0x4c34f5=_0x1446b8?_0x1446b8['width']:this['device']['width'],_0x201fd3=_0x1446b8?_0x1446b8['height']:this['device']['height'],_0x685de3=K_[this['device']['renderVers'+'ion']%K_['length']];_0x254765=_0x4c8002*(_0x685de3['x']*(0x1*-0x1369+0x78*0x3c+-0x8b5)-(-0x1b*-0xe6+-0x1418+-0x47*0xf))/_0x4c34f5,_0x4b6bd1=_0x4c8002*(_0x685de3['y']*(-0x12a5*0x2+0x2dd*0x1+0x226f)-(-0x12*-0x97+-0x119*0x1d+0xe*0x184))/_0x201fd3,_0x3d6301=qb['copy'](_0x3d6301),_0x3d6301['data'][0x5b0*0x2+-0x1*-0x214c+-0x2ca4]=_0x254765,_0x3d6301['data'][-0x1*0x1b10+0x11a9+0x970]=_0x4b6bd1,_0x39b383=jb['copy'](_0x39b383),_0x39b383['data'][0x8e*-0x1c+-0x1b74+0x2*0x1582]=_0x254765,_0x39b383['data'][0xfb*-0x6+-0x3*0x559+0x15f6]=_0x4b6bd1,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x5c9a97=_0x4c8002>-0x4*-0x7df+0xf*0x248+0x41b4*-0x1?this['blueNoiseJ'+'itterVec']:re['ZERO'];if(this['blueNoiseJ'+'itterData'][0x16*0x28+-0xbf3+-0x1*-0x883]=_0x5c9a97['x'],this['blueNoiseJ'+'itterData'][0x2*-0x75d+0xf17+0x5c*-0x1]=_0x5c9a97['y'],this['blueNoiseJ'+'itterData'][-0x45a*-0x5+-0x167*0x16+0x1*0x91a]=_0x5c9a97['z'],this['blueNoiseJ'+'itterData'][0x1*0x85b+0x1d*0x6a+-0x145a]=_0x5c9a97['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x3d6301['data']),this['projSkybox'+'Id']['setValue'](_0x39b383['data']),_0x439949['calculateT'+'ransform'])_0x439949['calculateT'+'ransform'](nr,ec);else{const _0x1e316d=_0x439949['_node']['getPositio'+'n'](),_0x2a4314=_0x439949['_node']['getRotatio'+'n']();nr['setTRS'](_0x1e316d,_0x2a4314,D['ONE']);}this['viewInvId']['setValue'](nr['data']),Oa['copy'](nr)['invert'](),this['viewId']['setValue'](Oa['data']),q_['setFromMat'+'4'](Oa),this['viewId3']['setValue'](q_['data']),ar['mul2'](_0x3d6301,Oa),this['viewProjId']['setValue'](ar['data']),_0x439949['_storeShad'+'erMatrices'](ar,_0x254765,_0x4b6bd1,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x38802c?-(0x2388+0x2143*0x1+-0x44ca):0x1299+0x24ac+-0x36*0x106),this['dispatchVi'+'ewPos'](_0x439949['_node']['getPositio'+'n']()),_0x439949['frustum']['setFromMat'+'4'](ar);}this['tbnBasis']['setValue'](_0x38802c?-(-0x112a+0x2382+-0x1257):-0x3*0x5f6+-0x1*0xd5f+-0xfa1*-0x2);const _0x2a37b8=_0x439949['_nearClip'],_0x1e1b29=_0x439949['_farClip'];return this['nearClipId']['setValue'](_0x2a37b8),this['farClipId']['setValue'](_0x1e1b29),this['cameraPara'+'ms'][0x256e+0x2*0xc89+0xa*-0x640]=(-0xd*-0x1e7+-0x2*0x1b+-0x2*0xc42)/_0x1e1b29,this['cameraPara'+'ms'][-0x1f74+-0x447+0x11de*0x2]=_0x1e1b29,this['cameraPara'+'ms'][0xb5*0x34+-0x1*-0xe77+0x5d*-0x8d]=_0x2a37b8,this['cameraPara'+'ms'][-0x3*-0x4b5+-0x8*-0x133+0x4*-0x5ed]=_0x439949['projection']===En?0x1*-0x209+-0x2636+-0x70*-0x5c:0x1f85*-0x1+-0x2628+-0x1*-0x45ad,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x439949['getExposur'+'e']():this['scene']['exposure']),_0x223184;}['clear'](_0x1f651c,_0x517966,_0x29a235,_0x9aa323){const _0x430c28=(_0x517966??_0x1f651c['_clearColo'+'rBuffer']?jo:-0xfa6*-0x1+0x35*-0x8b+0xd21)|(_0x29a235??_0x1f651c['_clearDept'+'hBuffer']?Yo:-0x2*0xa6e+0x10*0x241+-0xf34)|(_0x9aa323??_0x1f651c['_clearSten'+'cilBuffer']?ch:-0x2170+-0x763*-0x5+-0x37f);if(_0x430c28){const _0x1c56dd=this['device'];Q['pushGpuMar'+'ker'](_0x1c56dd,'CLEAR'),_0x1c56dd['clear']({'color':[_0x1f651c['_clearColo'+'r']['r'],_0x1f651c['_clearColo'+'r']['g'],_0x1f651c['_clearColo'+'r']['b'],_0x1f651c['_clearColo'+'r']['a']],'depth':_0x1f651c['_clearDept'+'h'],'stencil':_0x1f651c['_clearSten'+'cil'],'flags':_0x430c28}),Q['popGpuMark'+'er'](_0x1c56dd);}}['setCamera'](_0x39447f,_0x5f5b64,_0x595344,_0x1c5fa0=null){this['setCameraU'+'niforms'](_0x39447f,_0x5f5b64),this['clearView'](_0x39447f,_0x5f5b64,_0x595344,!(0x1*-0x9b5+-0xbf*-0x12+-0x2*0x1dc));}['clearView'](_0x154d77,_0x37942f,_0x2b273c,_0x762771){const _0x2f783b=this['device'];if(Q['pushGpuMar'+'ker'](_0x2f783b,'CLEAR-VIEW'),_0x2f783b['setRenderT'+'arget'](_0x37942f),_0x2f783b['updateBegi'+'n'](),_0x762771&&(_0x2f783b['setColorWr'+'ite'](!(-0x5*-0x5d5+0x2*0xb86+-0x3435),!(-0x1*-0x1471+-0x208b+-0x1*-0xc1a),!(0x153f+-0x25ff+0x2*0x860),!(0x1367*0x1+0x167*0x17+-0x33a8*0x1)),_0x2f783b['setDepthWr'+'ite'](!(-0x23*0x65+-0xd73+0x1b42))),this['setupViewp'+'ort'](_0x154d77,_0x37942f),_0x2b273c){const _0x57bded=_0x154d77['_clearOpti'+'ons'];_0x2f783b['clear'](_0x57bded||{'color':[_0x154d77['_clearColo'+'r']['r'],_0x154d77['_clearColo'+'r']['g'],_0x154d77['_clearColo'+'r']['b'],_0x154d77['_clearColo'+'r']['a']],'depth':_0x154d77['_clearDept'+'h'],'flags':(_0x154d77['_clearColo'+'rBuffer']?jo:-0x1933+0x53d*-0x3+0x2*0x1475)|(_0x154d77['_clearDept'+'hBuffer']?Yo:-0x22e*0xc+0x3ed+0x1*0x163b)|(_0x154d77['_clearSten'+'cilBuffer']?ch:-0x2bd+0x9e*0x5+-0x59),'stencil':_0x154d77['_clearSten'+'cil']});}Q['popGpuMark'+'er'](_0x2f783b);}['setupCullM'+'ode'](_0x110cf5,_0x4bf65c,_0x1e72ff){const _0x5cc0aa=_0x1e72ff['material'];let _0x27761b=bt;if(_0x110cf5){let _0x60e5b2=0x4aa+-0x2*-0x773+-0x138f*0x1;(_0x5cc0aa['cull']===Fo||_0x5cc0aa['cull']===pa)&&(_0x60e5b2=_0x4bf65c*_0x1e72ff['flipFacesF'+'actor']*_0x1e72ff['node']['worldScale'+'Sign']),_0x60e5b2<-0x1*0x23b1+-0x5*0x435+0x38ba?_0x27761b=_0x5cc0aa['cull']===Fo?pa:Fo:_0x27761b=_0x5cc0aa['cull'];}this['device']['setCullMod'+'e'](_0x27761b),_0x27761b===bt&&_0x5cc0aa['cull']===bt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x1e72ff['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x5b1c23){if(_0x5b1c23['xr']&&_0x5b1c23['xr']['views']['list']['length']){const _0x1a3e78=_0x5b1c23['xr']['views']['list'][-0xb*0x1df+-0xb34+-0x4f*-0x67];ar['mul2'](_0x1a3e78['projMat'],_0x1a3e78['viewOffMat']),_0x5b1c23['frustum']['setFromMat'+'4'](ar);return;}const _0x397604=_0x5b1c23['projection'+'Matrix'];if(_0x5b1c23['calculateP'+'rojection']&&_0x5b1c23['calculateP'+'rojection'](_0x397604,ec),_0x5b1c23['calculateT'+'ransform'])_0x5b1c23['calculateT'+'ransform'](nr,ec);else{const _0x4736bf=_0x5b1c23['_node']['getPositio'+'n'](),_0x163387=_0x5b1c23['_node']['getRotatio'+'n']();nr['setTRS'](_0x4736bf,_0x163387,D['ONE']),this['viewInvId']['setValue'](nr['data']);}Oa['copy'](nr)['invert'](),ar['mul2'](_0x397604,Oa),_0x5b1c23['frustum']['setFromMat'+'4'](ar);}['setBaseCon'+'stants'](_0xffaa6e,_0xa8876e){_0xffaa6e['setCullMod'+'e'](_0xa8876e['cull']),_0xa8876e['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0xa8876e['opacityMap']),(_0xa8876e['opacityMap']||_0xa8876e['alphaTest']>-0x2003+0x1*0x1f77+-0x46*-0x2)&&this['alphaTestI'+'d']['setValue'](_0xa8876e['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x529dc8){nf++;const _0x504522=_0x529dc8['length'];if(_0x504522===-0x42e+-0x3*0x109+0x749)return;const _0x5c1f38=de();for(let _0x1c2384=-0xf70+0xc57+0x319;_0x1c2384<_0x504522;_0x1c2384++){const _0x5dfd9c=_0x529dc8[_0x1c2384]['skinInstan'+'ce'];_0x5dfd9c&&(_0x5dfd9c['updateMatr'+'ices'](_0x529dc8[_0x1c2384]['node'],nf),_0x5dfd9c['_dirty']=!(0x9ad*-0x1+-0x757+-0x2*-0x882));}this['_skinTime']+=de()-_0x5c1f38;}['updateGpuS'+'kinMatrice'+'s'](_0x23791f){const _0x26ce21=de();for(const _0x7e162 of _0x23791f){const _0x12dce3=_0x7e162['skinInstan'+'ce'];_0x12dce3&&_0x12dce3['_dirty']&&(_0x12dce3['updateMatr'+'ixPalette'](_0x7e162['node'],nf),_0x12dce3['_dirty']=!(0x137*-0x8+-0x12d9+-0x2*-0xe49));}this['_skinTime']+=de()-_0x26ce21;}['updateMorp'+'hing'](_0x3907a1){const _0x260c1e=de();for(const _0x34b377 of _0x3907a1){const _0x205567=_0x34b377['morphInsta'+'nce'];_0x205567&&_0x205567['_dirty']&&_0x205567['update']();}this['_morphTime']+=de()-_0x260c1e;}['updateGSpl'+'ats'](_0x40ac93){var _0x2e6ec3;for(const _0x12d56e of _0x40ac93)(_0x2e6ec3=_0x12d56e['gsplatInst'+'ance'])==null||_0x2e6ec3['update']();}['gpuUpdate'](_0x1c06d8){this['updateGpuS'+'kinMatrice'+'s'](_0x1c06d8),this['updateMorp'+'hing'](_0x1c06d8),this['updateGSpl'+'ats'](_0x1c06d8);}['setVertexB'+'uffers'](_0x10fb58,_0x54ef4f){_0x10fb58['setVertexB'+'uffer'](_0x54ef4f['vertexBuff'+'er']);}['setMorphin'+'g'](_0x3cc9f8,_0x5936e3){_0x5936e3&&(_0x5936e3['prepareRen'+'dering'](_0x3cc9f8),_0x3cc9f8['setVertexB'+'uffer'](_0x5936e3['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x5936e3['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x5936e3['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x5936e3['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x174fe5,_0x161136){const _0x228b76=_0x161136['skinInstan'+'ce'];if(_0x228b76){this['_skinDrawC'+'alls']++;const _0x20809d=_0x228b76['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x20809d);}}['dispatchVi'+'ewPos'](_0x2e882c){const _0x23723b=this['viewPos'];_0x23723b[-0xaf6+-0x605+0x7*0x26d]=_0x2e882c['x'],_0x23723b[-0x17f1+-0x36*0x62+-0x1*-0x2c9e]=_0x2e882c['y'],_0x23723b[0x1370+-0xba6+-0x8*0xf9]=_0x2e882c['z'],this['viewPosId']['setValue'](_0x23723b);}['initViewBi'+'ndGroupFor'+'mat'](_0x2ee4aa){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x52f651=[new dt('matrix_vie'+'w',li),new dt('matrix_vie'+'wInverse',li),new dt('matrix_pro'+'jection',li),new dt('matrix_pro'+'jectionSky'+'box',li),new dt('matrix_vie'+'wProjectio'+'n',li),new dt('matrix_vie'+'w3',On),new dt('cubeMapRot'+'ationMatri'+'x',On),new dt('view_posit'+'ion',ds),new dt('skyboxInte'+'nsity',Xs),new dt('exposure',Xs),new dt('textureBia'+'s',Xs),new dt('view_index',Xs)];_0x2ee4aa&&_0x52f651['push'](new dt('clusterCel'+'lsCountByB'+'oundsSize',ds),new dt('clusterTex'+'tureSize',ds),new dt('clusterBou'+'ndsMin',ds),new dt('clusterBou'+'ndsDelta',ds),new dt('clusterCel'+'lsDot',ds),new dt('clusterCel'+'lsMax',ds),new dt('shadowAtla'+'sParams',ga),new dt('clusterMax'+'Cells',_a),new dt('clusterSki'+'p',Xs)),this['viewUnifor'+'mFormat']=new zy(this['device'],_0x52f651);const _0x14ceab=[new kp(Np,Fp|by)];this['viewBindGr'+'oupFormat']=new Ny(this['device'],_0x14ceab);}}['setupViewU'+'niforms'](_0x17cc91,_0x201a81){this['projId']['setValue'](_0x17cc91['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x17cc91['projMat']['data']),this['viewId']['setValue'](_0x17cc91['viewOffMat']['data']),this['viewInvId']['setValue'](_0x17cc91['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x17cc91['viewMat3']['data']),this['viewProjId']['setValue'](_0x17cc91['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x17cc91['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x201a81);}['setupViewU'+'niformBuff'+'ers'](_0xe6496a,_0xeb4b05,_0x3afdf8,_0x18489a){w['assert'](Array['isArray'](_0xe6496a),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const {device:_0x4e6fb8}=this,_0x165296=(_0x18489a==null?void(0x1*0x1147+-0x1*-0x1723+-0x286a):_0x18489a['length'])??-0x236a+-0x17cd*-0x1+0xb9e;for(;_0xe6496a['length']<_0x165296;){const _0x5a98be=new zp(_0x4e6fb8,_0xeb4b05,!(0x10d6+0xb3*0x2e+-0x30ff)),_0x24292c=new Up(_0x4e6fb8,_0x3afdf8,_0x5a98be);Ea['setName'](_0x24292c,'ViewBindGr'+'oup_'+_0x24292c['id']),_0xe6496a['push'](_0x24292c);}if(_0x18489a)for(let _0x1487a4=-0x186d*0x1+-0x11*0x13a+-0x43*-0xad;_0x1487a4<_0x165296;_0x1487a4++){const _0x2c4b7a=_0x18489a[_0x1487a4];this['setupViewU'+'niforms'](_0x2c4b7a,_0x1487a4);const _0x5716b6=_0xe6496a[_0x1487a4];_0x5716b6['defaultUni'+'formBuffer']['update'](),_0x5716b6['update']();}else{const _0x48654b=_0xe6496a[0x1173*0x1+0x56*0x55+0x2e01*-0x1];_0x48654b['defaultUni'+'formBuffer']['update'](),_0x48654b['update']();}_0x18489a||_0x4e6fb8['setBindGro'+'up'](rl,_0xe6496a[0xc2b+0x2356+-0x2f81]);}['setupMeshU'+'niformBuff'+'ers'](_0x4dc109){const _0x33a40a=this['device'];if(_0x33a40a['supportsUn'+'iformBuffe'+'rs']){const _0x41a870=_0x4dc109['getBindGro'+'up'](_0x33a40a);_0x41a870['update'](),_0x33a40a['setBindGro'+'up'](Oy,_0x41a870),_0x4dc109['getUniform'+'Buffer'](_0x33a40a)['update'](hf),_0x33a40a['setBindGro'+'up'](su,hf['bindGroup'],hf['offsets']);}}['setMeshIns'+'tanceMatri'+'ces'](_0x273de8,_0x5ea0be=!(-0x27d*-0x9+0x1b66+-0x31ca)){const _0x1c3bb6=_0x273de8['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x1c3bb6['data']),_0x5ea0be&&this['normalMatr'+'ixId']['setValue'](_0x273de8['node']['normalMatr'+'ix']['data']);}['cull'](_0x558958,_0x48dd56,_0x3de179){const _0x2cfb24=de(),_0x167a24=_0x3de179['opaque'];_0x167a24['length']=-0xd7d*-0x1+0x6d4+0x2e7*-0x7;const _0x59065a=_0x3de179['transparen'+'t'];_0x59065a['length']=0x2214+0x1e58*0x1+-0x1b2*0x26;const _0x2797c4=_0x558958['frustumCul'+'ling'],_0x3e7b09=_0x48dd56['length'];for(let _0x5c3e6c=-0x223*0x1+-0x1*-0x439+-0x216;_0x5c3e6c<_0x3e7b09;_0x5c3e6c++){const _0xf29ef6=_0x48dd56[_0x5c3e6c];_0xf29ef6['visible']&&(!_0x2797c4||!_0xf29ef6['cull']||_0xf29ef6['_isVisible'](_0x558958))&&(_0xf29ef6['visibleThi'+'sFrame']=!(0x168c+-0x153*-0x5+0x1d2b*-0x1),(_0xf29ef6['transparen'+'t']?_0x59065a:_0x167a24)['push'](_0xf29ef6),(_0xf29ef6['skinInstan'+'ce']||_0xf29ef6['morphInsta'+'nce']||_0xf29ef6['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0xf29ef6),_0xf29ef6['gsplatInst'+'ance']&&_0xf29ef6['gsplatInst'+'ance']['cameras']['push'](_0x558958)));}this['_cullTime']+=de()-_0x2cfb24,this['_numDrawCa'+'llsCulled']+=_0x2797c4?_0x3e7b09:-0x17e0+-0xbc1+0x23a1;}['collectLig'+'hts'](_0xbe40b5){this['lights']['length']=0x97*-0x7+-0x1d3f+0x2160,this['localLight'+'s']['length']=0x922+0x10*0x1f3+0x1*-0x2852;const _0x318b8b=this['scene']['_stats'];_0x318b8b['dynamicLig'+'hts']=-0xa21*0x2+0x6*0x5e+0x120e,_0x318b8b['bakedLight'+'s']=-0x36+0x134*0x2+-0x1*0x232;const _0x5509f7=_0xbe40b5['layerList']['length'];for(let _0x40bca7=-0x1606+-0xf8f+0x2595;_0x40bca7<_0x5509f7;_0x40bca7++){const _0x174290=_0xbe40b5['layerList'][_0x40bca7];if(!cf['has'](_0x174290)){cf['add'](_0x174290);const _0x2b638e=_0x174290['_lights'];for(let _0x1b2ddf=0xbc+0x15d+-0x219;_0x1b2ddf<_0x2b638e['length'];_0x1b2ddf++){const _0x24a07d=_0x2b638e[_0x1b2ddf];lf['has'](_0x24a07d)||(lf['add'](_0x24a07d),this['lights']['push'](_0x24a07d),_0x24a07d['_type']!==ve&&this['localLight'+'s']['push'](_0x24a07d),(_0x24a07d['mask']&Ss||_0x24a07d['mask']&di)&&_0x318b8b['dynamicLig'+'hts']++,_0x24a07d['mask']&fi&&_0x318b8b['bakedLight'+'s']++);}}}_0x318b8b['lights']=this['lights']['length'],lf['clear'](),cf['clear']();}['cullLights'](_0x126930,_0x3766df){const _0x4b7aac=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x3afabf=this['scene']['physicalUn'+'its'];for(let _0x3002c1=-0x1dea+-0x5*-0x1f5+-0x1421*-0x1;_0x3002c1<_0x3766df['length'];_0x3002c1++){const _0x4aa779=_0x3766df[_0x3002c1];if(_0x4aa779['enabled']){if(_0x4aa779['_type']!==ve){if(_0x4aa779['getBoundin'+'gSphere'](of),_0x126930['frustum']['containsSp'+'here'](of)){_0x4aa779['visibleThi'+'sFrame']=!(-0x2361+-0x625+0x2*0x14c3),_0x4aa779['usePhysica'+'lUnits']=_0x3afabf;const _0x500435=_0x126930['getScreenS'+'ize'](of);_0x4aa779['maxScreenS'+'ize']=Math['max'](_0x4aa779['maxScreenS'+'ize'],_0x500435);}else _0x4b7aac||_0x4aa779['castShadow'+'s']&&!_0x4aa779['shadowMap']&&(_0x4aa779['visibleThi'+'sFrame']=!(0x97*-0x1d+0xc0*-0x28+-0x1f*-0x185));}else _0x4aa779['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x3d99c1){const _0x488bf8=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x32eeb5=-0x11*0x1fe+-0x2591+0x476f;_0x32eeb5<this['localLight'+'s']['length'];_0x32eeb5++){const _0x2cc22e=this['localLight'+'s'][_0x32eeb5];_0x2cc22e['_type']!==ve&&(_0x488bf8?_0x2cc22e['atlasSlotU'+'pdated']&&_0x2cc22e['shadowUpda'+'teMode']===Ps&&(_0x2cc22e['shadowUpda'+'teMode']=xr):_0x2cc22e['shadowUpda'+'teMode']===Ps&&_0x2cc22e['castShadow'+'s']&&(_0x2cc22e['getRenderD'+'ata'](null,0x102*-0x22+-0x1d4b+-0x3f8f*-0x1)['shadowCame'+'ra']['renderTarg'+'et']||(_0x2cc22e['shadowUpda'+'teMode']=xr)),_0x2cc22e['visibleThi'+'sFrame']&&_0x2cc22e['castShadow'+'s']&&_0x2cc22e['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x2cc22e,_0x3d99c1));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x42df4e=_0x3d99c1['cameras'];for(let _0xaa031a=-0x12c5+-0x41e+0x16e3;_0xaa031a<_0x42df4e['length'];_0xaa031a++){const _0x319c91=_0x42df4e[_0xaa031a];if(_0x319c91['enabled']){const _0x4934b4=_0x319c91['camera'];let _0x57bf53;const _0x700423=_0x4934b4['layers'];for(let _0x574b26=-0x23f+0x6ab+-0x2*0x236;_0x574b26<_0x700423['length'];_0x574b26++){const _0xacf019=_0x3d99c1['getLayerBy'+'Id'](_0x700423[_0x574b26]);if(_0xacf019){const _0x2769b3=_0xacf019['splitLight'+'s'][ve];for(let _0x25a413=0x92*0xa+0x150*-0x16+0x172c*0x1;_0x25a413<_0x2769b3['length'];_0x25a413++){const _0x39f659=_0x2769b3[_0x25a413];_0x39f659['castShadow'+'s']&&!Fa['has'](_0x39f659)&&(Fa['add'](_0x39f659),_0x57bf53=_0x57bf53??[],_0x57bf53['push'](_0x39f659),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x39f659,_0x3d99c1,_0x4934b4));}}}_0x57bf53&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x4934b4,_0x57bf53),Fa['clear']();}}}['cullCompos'+'ition'](_0x11bca3){const _0x1ee0e5=de(),{scene:_0x5ac3e8}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0xd64c77=_0x11bca3['cameras']['length'];this['_camerasRe'+'ndered']+=_0xd64c77;for(let _0x3ab34b=-0x16a6+0x649+0x105d*0x1;_0x3ab34b<_0xd64c77;_0x3ab34b++){const _0x49b0af=_0x11bca3['cameras'][_0x3ab34b];_0x5ac3e8==null||_0x5ac3e8['fire'](mv,_0x49b0af);const _0x429dc9=_0x49b0af['renderTarg'+'et'];_0x49b0af['frameUpdat'+'e'](_0x429dc9),this['updateCame'+'raFrustum'](_0x49b0af['camera']);const _0x1fea48=_0x49b0af['layers'];for(let _0x15ee26=-0x13ba+0x23a6+-0xfec;_0x15ee26<_0x1fea48['length'];_0x15ee26++){const _0x423b2d=_0x11bca3['getLayerBy'+'Id'](_0x1fea48[_0x15ee26]);if(_0x423b2d&&_0x423b2d['enabled']){this['cullLights'](_0x49b0af['camera'],_0x423b2d['_lights']);const _0x5ec4b0=_0x423b2d['getCulledI'+'nstances'](_0x49b0af['camera']);this['cull'](_0x49b0af['camera'],_0x423b2d['meshInstan'+'ces'],_0x5ec4b0);}}_0x5ac3e8==null||_0x5ac3e8['fire'](_v,_0x49b0af);}_0x5ac3e8['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x11bca3),_0x5ac3e8==null||_0x5ac3e8['fire'](lE),this['_cullTime']+=de()-_0x1ee0e5;}['updateShad'+'ers'](_0x2c90a3,_0x171312){const _0x27698a=_0x2c90a3['length'];for(let _0x3082cd=-0x6d*-0x3b+-0xb23*0x3+-0x84a*-0x1;_0x3082cd<_0x27698a;_0x3082cd++){const _0x206282=_0x2c90a3[_0x3082cd]['material'];if(_0x206282&&!Fa['has'](_0x206282)&&(Fa['add'](_0x206282),_0x206282['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant'])){if(_0x171312&&(!_0x206282['useLightin'+'g']||_0x206282['emitter']&&!_0x206282['emitter']['lighting']))continue;_0x206282['clearVaria'+'nts']();}}Fa['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](Pb(this['device']));}['beginFrame'](_0x532c2f){const _0x1e6e99=this['scene'],_0x571ca2=_0x1e6e99['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x11a8cb=0x16fe+0x22fa+-0x39f8;const _0x3da19c=_0x532c2f['layerList'],_0x3f20b3=_0x3da19c['length'];for(let _0x50f004=-0x3a6*-0x4+0x3ae+-0x1246;_0x50f004<_0x3f20b3;_0x50f004++){const _0x168ec0=_0x3da19c[_0x50f004]['meshInstan'+'ces'],_0x45b7c4=_0x168ec0['length'];_0x11a8cb+=_0x45b7c4;for(let _0x11eebb=-0x235c+0x5*0x409+-0x1*-0xf2f;_0x11eebb<_0x45b7c4;_0x11eebb++){const _0x269227=_0x168ec0[_0x11eebb];_0x269227['visibleThi'+'sFrame']=!(-0x482+0xb2c+-0x1f*0x37),_0x571ca2&&df['push'](_0x269227),_0x269227['skinInstan'+'ce']&&ff['push'](_0x269227);}}if(_0x1e6e99['_stats']['meshInstan'+'ces']=_0x11a8cb,_0x571ca2){const _0x554dbc=!_0x1e6e99['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](df,_0x554dbc),_0x1e6e99['updateShad'+'ers']=!(-0x263a+0x1*0x31d+0x231e),this['device']['_shadersDi'+'rty']=!(0x32f*-0x4+-0x1166+0x1e23*0x1),_0x1e6e99['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](ff),df['length']=0x53b*0x3+0x2*0x2d1+0x67*-0x35,ff['length']=0xf*-0x25a+0x23d5*-0x1+0x6d*0xa7;const _0x40ba8c=this['lights'],_0xac156c=_0x40ba8c['length'];for(let _0x539b42=-0x3c*-0x9e+-0x156d*-0x1+0x3a75*-0x1;_0x539b42<_0xac156c;_0x539b42++)_0x40ba8c[_0x539b42]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x36e957){const _0x5db699=de(),_0x52ab2e=_0x36e957['layerList']['length'],_0x916000=this['scene']['_shaderVer'+'sion'];for(let _0x51a725=0x40a*0x7+-0xbf9+0xd*-0x141;_0x51a725<_0x52ab2e;_0x51a725++){const _0x3116fc=_0x36e957['layerList'][_0x51a725];_0x3116fc['_shaderVer'+'sion']=_0x916000,_0x3116fc['_skipRende'+'rCounter']=0x2495+0x1b02+0xdf*-0x49,_0x3116fc['_forwardDr'+'awCalls']=-0xe15+-0x456+0xcd*0x17,_0x3116fc['_shadowDra'+'wCalls']=-0x1514+-0x9*0x75+0x1931,_0x3116fc['_renderTim'+'e']=-0xcc1+0x842*-0x1+0x1503;}_0x36e957['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=de()-_0x5db699;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(-0x5*-0x6b3+0x6d7*0x1+0x5c3*-0x7),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class Pv{constructor(){h(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(0x1ec2+0x1bdc+-0x1*0x3a9d),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(-0x1*-0x1ea9+-0xec4+0x153*-0xc),this['clearDepth']=!(0x17*-0xa1+0x174a+-0x8d2),this['clearStenc'+'il']=!(0x1*-0x2ca+-0x19c6*-0x1+-0x16fb),this['triggerPos'+'tprocess']=!(-0x10fd+-0x7b4+0xda*0x1d),this['firstCamer'+'aUse']=!(-0x2*0x76d+0x955*0x2+0x27*-0x19),this['lastCamera'+'Use']=!(-0x7ed*-0x2+-0x105*-0xd+-0x95*0x32),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(0x264b+-0x2212+-0x438));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x3ad4f5=>{_0x3ad4f5['defaultUni'+'formBuffer']['destroy'](),_0x3ad4f5['destroy']();}),this['viewBindGr'+'oups']['length']=-0x192c+-0x2*0x9df+-0x1*-0x2cea;}['setupClear'+'s'](_0x2ff771,_0x303636){this['clearColor']=(_0x2ff771==null?void(-0x14fc+0x18e2+0x2*-0x1f3):_0x2ff771['clearColor'+'Buffer'])||_0x303636['clearColor'+'Buffer'],this['clearDepth']=(_0x2ff771==null?void(-0x1272+0x25ce+-0x2c4*0x7):_0x2ff771['clearDepth'+'Buffer'])||_0x303636['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x2ff771==null?void(-0x10c+-0x1cc6+0x1dd2):_0x2ff771['clearStenc'+'ilBuffer'])||_0x303636['clearStenc'+'ilBuffer'];}}class Kb extends ys{constructor(_0x299090,_0x129c74,_0x4c73e0,_0x4ba01a){super(_0x299090),h(this,'layerCompo'+'sition'),h(this,'scene'),h(this,'renderer'),h(this,'renderActi'+'ons',[]),h(this,'gammaCorre'+'ction'),h(this,'toneMappin'+'g'),h(this,'noDepthCle'+'ar',!(-0x14d0+0xceb*-0x1+0x21bc)),(this['layerCompo'+'sition']=_0x129c74,this['scene']=_0x4c73e0,this['renderer']=_0x4ba01a);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>0x13*-0x1fd+-0x7*-0x278+-0x21*-0x9f;}['addRenderA'+'ction'](_0xd248ab){this['renderActi'+'ons']['push'](_0xd248ab);}['addLayer'](_0x5082d3,_0x5dc46d,_0x57ae50,_0x4317fa=!(0x572*-0x2+0x1bbd+-0x10d9*0x1)){w['assert'](_0x5082d3),w['assert'](this['renderTarg'+'et']!==void(-0x355*0x3+-0x91f+-0x2*-0x98f),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),w['assert'](_0x5082d3['camera']['layersSet']['has'](_0x5dc46d['id']),'Camera\x20'+_0x5082d3['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x5dc46d['name']+'.');const _0x232439=new Pv();if(_0x232439['renderTarg'+'et']=this['renderTarg'+'et'],_0x232439['camera']=_0x5082d3,_0x232439['layer']=_0x5dc46d,_0x232439['transparen'+'t']=_0x57ae50,_0x4317fa){const _0x571165=this['renderActi'+'ons']['length']===0x769+0xac1+-0x122a;_0x232439['setupClear'+'s'](_0x571165?_0x5082d3:void(-0x3*0x72b+-0x239*0x4+-0x1*-0x1e65),_0x5dc46d);}this['addRenderA'+'ction'](_0x232439);}['addLayers'](_0x2cc96b,_0x5170fd,_0x4ff9ad,_0x28a234,_0x586581,_0x32d579=!(0x61*-0x67+0x511*0x7+0x390)){const {layerList:_0x3e2c10,subLayerList:_0x23b610}=_0x2cc96b;let _0x215a80=_0x28a234,_0x10d9ac=_0x4ff9ad;for(;_0x10d9ac<_0x3e2c10['length'];){const _0x4697c5=_0x3e2c10[_0x10d9ac],_0x136ef9=_0x23b610[_0x10d9ac];if(_0x5170fd['camera']['layersSet']['has'](_0x4697c5['id'])&&(this['addLayer'](_0x5170fd,_0x4697c5,_0x136ef9,_0x215a80),_0x215a80=!(0x126d*-0x2+-0x1219+0x4*0xdbd)),_0x10d9ac++,_0x4697c5['id']===_0x586581&&_0x136ef9===_0x32d579)break;}return _0x10d9ac;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x1565a1,renderActions:_0x3bfe68}=this;for(let _0x2b12c3=0xa9*-0x9+0x1dc0+-0x17cf*0x1;_0x2b12c3<_0x3bfe68['length'];_0x2b12c3++){const _0x2ffcfa=_0x3bfe68[_0x2b12c3]['camera']['camera'],_0x282653=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x2ffcfa);if(_0x282653)for(let _0x551d43=-0xb*0xa2+0x20d*0x8+-0x972;_0x551d43<_0x282653['length'];_0x551d43++){const _0x12cbcb=_0x282653[_0x551d43];if(_0x1565a1['dirLightSh'+'adows']['get'](_0x12cbcb)!==_0x2ffcfa){_0x1565a1['dirLightSh'+'adows']['set'](_0x12cbcb,_0x2ffcfa);const _0x3cf3c8=_0x1565a1['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x12cbcb,_0x2ffcfa);_0x3cf3c8&&this['beforePass'+'es']['push'](_0x3cf3c8);}}}}['updateClea'+'rs'](){const _0x367865=this['renderActi'+'ons'][0x5a9+-0xd75+-0x7cc*-0x1];if(_0x367865){const _0x3ae130=_0x367865['camera']['camera'],_0xd5bbd9=_0x3ae130['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0xd5bbd9&&_0x367865['clearColor']?_0x3ae130['clearColor']:void(0x713+-0x15*0xc7+0x940)),this['setClearDe'+'pth'](_0xd5bbd9&&_0x367865['clearDepth']&&!this['noDepthCle'+'ar']?_0x3ae130['clearDepth']:void(-0x4*-0x4ef+0x2ce*-0xc+-0x63*-0x24)),this['setClearSt'+'encil'](_0xd5bbd9&&_0x367865['clearStenc'+'il']?_0x3ae130['clearStenc'+'il']:void(0xac+0xc*0x2ba+-0x2164));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x3bfa08}=this;for(let _0x43361a=-0x17df+-0x1*0x1f6a+-0x3749*-0x1;_0x43361a<_0x3bfa08['length'];_0x43361a++){const _0x574de1=_0x3bfa08[_0x43361a];_0x574de1['firstCamer'+'aUse']&&this['scene']['fire'](rE,_0x574de1['camera']);}}['execute'](){const {layerComposition:_0x19efeb,renderActions:_0x57f884}=this;for(let _0x54d11f=0x193f*0x1+-0x6*0x291+-0x9d9;_0x54d11f<_0x57f884['length'];_0x54d11f++){const _0x4d3bf9=_0x57f884[_0x54d11f],_0x87c605=_0x4d3bf9['layer'];w['call'](()=>{_0x19efeb['getLayerBy'+'Name'](_0x87c605['name'])||w['warnOnce']('Layer\x20'+_0x87c605['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x19efeb['isEnabled'](_0x87c605,_0x4d3bf9['transparen'+'t'])&&this['renderRend'+'erAction'](_0x4d3bf9,_0x54d11f===-0xd3f*0x1+-0x23ce+0x310d);}}['after'](){for(let _0x27aed7=-0x180f+0xc4b+0xbc4;_0x27aed7<this['renderActi'+'ons']['length'];_0x27aed7++){const _0x4c2d4e=this['renderActi'+'ons'][_0x27aed7];_0x4c2d4e['lastCamera'+'Use']&&this['scene']['fire'](aE,_0x4c2d4e['camera']);}this['beforePass'+'es']['length']=0x1e95+0xd61+-0x2bf6;}['renderRend'+'erAction'](_0x3e7ea2,_0x48ba03){var _0x50ea52;const {renderer:_0x6acdd2,scene:_0x49fff9}=this,_0x2ab119=_0x6acdd2['device'],{layer:_0x590b4b,transparent:_0x9add74,camera:_0x4c7a58}=_0x3e7ea2;Q['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x4c7a58?_0x4c7a58['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x590b4b['name']+'('+(_0x9add74?'TRANSP':'OPAQUE')+')');const _0x50ad27=de();if(_0x4c7a58){const _0x4907e9=_0x4c7a58['gammaCorre'+'ction'],_0x1dfb04=_0x4c7a58['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(0x24d1+0xf30+0x3401*-0x1)&&(_0x4c7a58['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(-0xc7*-0x22+0x1232+-0x2ca0)&&(_0x4c7a58['toneMappin'+'g']=this['toneMappin'+'g']),_0x49fff9['fire'](nE,_0x4c7a58,_0x590b4b,_0x9add74);const _0x2919c5={'lightClusters':_0x3e7ea2['lightClust'+'ers']},_0xc1510d=((_0x50ea52=_0x4c7a58['camera']['shaderPass'+'Info'])==null?void(-0x4b3+0x52*-0x4+-0x1*-0x5fb):_0x50ea52['index'])??Aa;(!_0x48ba03||!_0x4c7a58['camera']['fullSizeCl'+'earRect'])&&(_0x2919c5['clearColor']=_0x3e7ea2['clearColor'],_0x2919c5['clearDepth']=_0x3e7ea2['clearDepth'],_0x2919c5['clearStenc'+'il']=_0x3e7ea2['clearStenc'+'il']);const _0x4b6761=_0x3e7ea2['renderTarg'+'et']??_0x2ab119['backBuffer'];_0x6acdd2['renderForw'+'ardLayer'](_0x4c7a58['camera'],_0x4b6761,_0x590b4b,_0x9add74,_0xc1510d,_0x3e7ea2['viewBindGr'+'oups'],_0x2919c5),_0x2ab119['setBlendSt'+'ate'](pt['NOBLEND']),_0x2ab119['setStencil'+'State'](null,null),_0x2ab119['setAlphaTo'+'Coverage'](!(0x6bb*-0x1+0x17c4+0x5*-0x368)),_0x49fff9['fire'](oE,_0x4c7a58,_0x590b4b,_0x9add74),this['gammaCorre'+'ction']!==void(-0xf*0x1d+-0x5cc*-0x1+-0x1*0x419)&&(_0x4c7a58['gammaCorre'+'ction']=_0x4907e9),this['toneMappin'+'g']!==void(-0x2bf+0x5*0x75a+-0x1*0x2203)&&(_0x4c7a58['toneMappin'+'g']=_0x1dfb04);}Q['popGpuMark'+'er'](this['device']),_0x590b4b['_renderTim'+'e']+=de()-_0x50ad27;}['log'](_0x10be06,_0x1f125a){if(super['log'](_0x10be06,_0x1f125a),mi['get'](cn)){const {layerComposition:_0x50ece6}=this;this['renderActi'+'ons']['forEach']((_0x1bf63a,_0x16462d)=>{const _0x25fde7=_0x1bf63a['layer'],_0x3630c8=_0x25fde7['enabled']&&_0x50ece6['isEnabled'](_0x25fde7,_0x1bf63a['transparen'+'t']),_0x5c0853=_0x1bf63a['camera'];w['trace'](cn,'\x20\x20\x20\x20'+_0x16462d+':'+('\x20Cam:\x20'+(_0x5c0853?_0x5c0853['entity']['name']:'-'))['padEnd'](-0x1a72+-0x14d5+0x2f5d,'\x20')+('\x20Lay:\x20'+_0x25fde7['name'])['padEnd'](0x887+-0xde*-0x21+-0xb3*0x35,'\x20')+(_0x1bf63a['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x3630c8?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x25fde7['meshInstan'+'ces']['length'])['padEnd'](0x1fcd+-0x2177+-0x1*-0x1af,'\x20'));});}}}class Zb extends ys{constructor(_0x3bfa9f,_0x5921cb,_0xaa6e0a){super(_0x3bfa9f),this['renderer']=_0x5921cb,this['renderActi'+'on']=_0xaa6e0a,this['requiresCu'+'bemaps']=!(0x12bb+0x1*0xf6b+-0x2225);}['execute'](){const _0x566311=this['renderActi'+'on'],_0x289255=_0x566311['camera'];w['assert'](_0x566311['triggerPos'+'tprocess']&&_0x289255['onPostproc'+'essing']),_0x289255['onPostproc'+'essing']();}}const Qb=[[],[],[]],or=new ie(),Nr={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=0x2*0x30f+-0x1b6a+-0x553*-0x4,this['shaderInst'+'ances']['length']=-0x13e7+0xa7*0x2b+-0x826,this['isNewMater'+'ial']['length']=-0x737+0x1a4+0x593,this['lightMaskC'+'hanged']['length']=-0x5*-0x26b+0x1e56+-0x2a6d;}};function Jb(_0x2b20f3){const _0x2bf7f0=[];for(let _0x4ca552=0x300+-0x236e+-0x7*-0x4a2;_0x4ca552<_0x2b20f3;++_0x4ca552){const _0x70ba42=Math['sqrt'](_0x4ca552+(0x7*-0x3f7+0x683+-0xa9f*-0x2+0.5))/Math['sqrt'](_0x2b20f3);_0x2bf7f0['push'](_0x70ba42);}return _0x2bf7f0;}function eA(_0xd6625b){const _0x4f6afd=[];for(let _0x5914c1=0x193d+0x1dca+0x1*-0x3707;_0x5914c1<_0xd6625b;_0x5914c1++){const _0x361308=_0x5914c1/_0xd6625b,_0x1fb749=Math['sqrt'](_0x361308*_0x361308);_0x4f6afd['push'](_0x1fb749);}return _0x4f6afd;}const Ni=class Ni extends Yb{constructor(_0x3a296e){super(_0x3a296e);const _0x4a5bfe=this['device'];this['_forwardDr'+'awCalls']=-0x18b0+0x820*-0x2+0x28f0,this['_materialS'+'witches']=0x1c64+-0x1257+-0x1*0xa0d,this['_depthMapT'+'ime']=0x886*0x2+0x2cc+-0x13d8,this['_forwardTi'+'me']=0x1*-0xda0+-0x742*-0x2+0x72*-0x2,this['_sortTime']=0x1d9f*-0x1+-0x20*0xde+0x395f;const _0xc171ae=_0x4a5bfe['scope'];this['fogColorId']=_0xc171ae['resolve']('fog_color'),this['fogStartId']=_0xc171ae['resolve']('fog_start'),this['fogEndId']=_0xc171ae['resolve']('fog_end'),this['fogDensity'+'Id']=_0xc171ae['resolve']('fog_densit'+'y'),this['ambientId']=_0xc171ae['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0xc171ae['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0xc171ae['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0xc171ae['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0xc171ae['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0xc171ae['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(-0x2483+0x2c6*-0x1+0x274d),this['fogColor']=new Float32Array(-0x1b01+-0x2*-0xb77+-0x1*-0x416),this['ambientCol'+'or']=new Float32Array(0x1f2c+0xae*0x2b+-0x1421*0x3),this['pcssDiskSa'+'mples']=Jb(0x1*0x1a8d+0x2028+-0x3aa5*0x1),this['pcssSphere'+'Samples']=eA(-0x238f+0x723+-0x4*-0x71f);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x52cc3a){const _0x4553a2=this['ambientCol'+'or'];if(or['linear'](_0x52cc3a['ambientLig'+'ht']),_0x4553a2[0x1d*0x142+0xf2*-0xf+-0x164c]=or['r'],_0x4553a2[-0x2214+0xdf*0x2+0x2057]=or['g'],_0x4553a2[0x8bd+0x4*0x9b+-0xb27]=or['b'],_0x52cc3a['physicalUn'+'its']){for(let _0x2beac2=-0x5d6+-0x5ea*0x4+0x1d7e;_0x2beac2<-0x3*-0x883+-0x2657+0xc1*0x11;_0x2beac2++)_0x4553a2[_0x2beac2]*=_0x52cc3a['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x4553a2),this['skyboxInte'+'nsityId']['setValue'](_0x52cc3a['physicalUn'+'its']?_0x52cc3a['skyboxLumi'+'nance']:_0x52cc3a['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x52cc3a['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x5080a5,_0x2064ea){const _0x3a72b8='light'+_0x2064ea;this['lightColor'+'Id'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+'_color'),this['lightDir'][_0x2064ea]=new Float32Array(-0x9b*-0x33+0xe9*-0x23+0xfd*0x1),this['lightDirId'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+'_direction'),this['lightShado'+'wMapId'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+'_radius'),this['lightPos'][_0x2064ea]=new Float32Array(-0x17d7*0x1+-0x1ff*0x11+0x39c9),this['lightPosId'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+'_position'),this['lightWidth'][_0x2064ea]=new Float32Array(-0x687*0x1+-0x2*0x568+0x115a),this['lightWidth'+'Id'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+'_halfWidth'),this['lightHeigh'+'t'][_0x2064ea]=new Float32Array(-0x15d0+-0x11*0xe3+-0x2*-0x1273),this['lightHeigh'+'tId'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+'_cookie'),this['lightCooki'+'eIntId'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x2064ea]=_0x5080a5['resolve'](_0x3a72b8+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x53d79e,_0x406b21,_0x38e94e,_0x83d32b,_0x44f18b){this['lightPos'][_0x406b21][0x1e58+-0x24b*-0x5+-0x29cf*0x1]=_0x83d32b['x']-_0x38e94e['x']*_0x44f18b,this['lightPos'][_0x406b21][-0x1b31+0x1693*0x1+0x1*0x49f]=_0x83d32b['y']-_0x38e94e['y']*_0x44f18b,this['lightPos'][_0x406b21][0x1*0xa0d+-0xb*0x2a7+0x1322]=_0x83d32b['z']-_0x38e94e['z']*_0x44f18b,this['lightPosId'][_0x406b21]['setValue'](this['lightPos'][_0x406b21]);const _0x518429=_0x53d79e['transformV'+'ector'](new D(-(0x137*0x15+0x22c7+0x2*-0x1e25+0.5),0x1*-0x226a+-0x19*0x18b+0x48fd,0x1709+0x1f3d*0x1+0x1*-0x3646));this['lightWidth'][_0x406b21][-0x13ff+0x43*0x13+0x783*0x2]=_0x518429['x']*_0x44f18b,this['lightWidth'][_0x406b21][-0x3a3+0x230d*0x1+-0x1f69]=_0x518429['y']*_0x44f18b,this['lightWidth'][_0x406b21][-0x3b*-0x1+-0x1079*-0x1+-0x10b2]=_0x518429['z']*_0x44f18b,this['lightWidth'+'Id'][_0x406b21]['setValue'](this['lightWidth'][_0x406b21]);const _0x1c143d=_0x53d79e['transformV'+'ector'](new D(0x53*-0x26+0xeb2+-0x20*0x13,0xd9f+-0x2222+-0x3b*-0x59,-0x5f5+0x11d9+-0x4*0x2f9+0.5));this['lightHeigh'+'t'][_0x406b21][-0x2a1*0x1+0x1cb4+0x19*-0x10b]=_0x1c143d['x']*_0x44f18b,this['lightHeigh'+'t'][_0x406b21][-0x1156+-0xc2b+0x1d82]=_0x1c143d['y']*_0x44f18b,this['lightHeigh'+'t'][_0x406b21][0x5*-0x6bf+0x1573+0xc4a]=_0x1c143d['z']*_0x44f18b,this['lightHeigh'+'tId'][_0x406b21]['setValue'](this['lightHeigh'+'t'][_0x406b21]);}['dispatchDi'+'rectLights'](_0xe91e49,_0x428dc1,_0x548715){let _0xd28eee=0x1c32+0x161e+-0x3250;const _0x312726=this['device']['scope'];for(let _0x31eae8=-0xb42+-0xb9d+-0x5*-0x493;_0x31eae8<_0xe91e49['length'];_0x31eae8++){if(!(_0xe91e49[_0x31eae8]['mask']&_0x428dc1))continue;const _0x30cf3a=_0xe91e49[_0x31eae8],_0x18698a=_0x30cf3a['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0xd28eee]||this['_resolveLi'+'ght'](_0x312726,_0xd28eee),this['lightColor'+'Id'][_0xd28eee]['setValue'](_0x30cf3a['_colorLine'+'ar']),_0x18698a['getY'](_0x30cf3a['_direction'])['mulScalar'](-(0x37d+-0x3e3+0x67)),_0x30cf3a['_direction']['normalize'](),this['lightDir'][_0xd28eee][-0x33*-0xab+-0x1622+-0x1*0xbef]=_0x30cf3a['_direction']['x'],this['lightDir'][_0xd28eee][-0x8bb+-0x8b+0x947]=_0x30cf3a['_direction']['y'],this['lightDir'][_0xd28eee][0x26a3+0x12e9+-0x5*0xb82]=_0x30cf3a['_direction']['z'],this['lightDirId'][_0xd28eee]['setValue'](this['lightDir'][_0xd28eee]),_0x30cf3a['shape']!==Ys&&this['setLTCDire'+'ctionalLig'+'ht'](_0x18698a,_0xd28eee,_0x30cf3a['_direction'],_0x548715['_node']['getPositio'+'n'](),_0x548715['farClip']),_0x30cf3a['castShadow'+'s']){const _0x168c5b=_0x30cf3a['getRenderD'+'ata'](_0x548715,-0x16c6+-0x1*-0x1a1b+-0x1*0x355),_0x11a0bf=_0x30cf3a['_getUnifor'+'mBiasValue'+'s'](_0x168c5b);this['lightShado'+'wMapId'][_0xd28eee]['setValue'](_0x168c5b['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0xd28eee]['setValue'](_0x168c5b['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0xd28eee]['setValue'](_0x30cf3a['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0xd28eee]['setValue'](_0x30cf3a['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0xd28eee]['setValue'](_0x30cf3a['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0xd28eee]['setValue'](-0x1*-0x1273+0x15a*0x4+-0x17da-_0x30cf3a['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0xd28eee]['setValue'](_0x30cf3a['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0xd28eee]['setValue'](_0x30cf3a['_softShado'+'wParams']),_0x168c5b['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0xd28eee]['setValue'](_0x30cf3a['penumbraSi'+'ze']/_0x168c5b['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x168c5b['projection'+'Compensati'+'on']);const _0x509277=_0x30cf3a['_shadowCam'+'eraParams'];_0x509277['length']=-0x69+0x1*-0x2560+0x25cd*0x1,_0x509277[0x1*0x24f7+0x1*0xad3+0x17e5*-0x2]=0xf29+0x7*0x1ff+-0x2*0xe91,_0x509277[0x43f+0x18b9+-0x1*0x1cf7]=_0x168c5b['shadowCame'+'ra']['_farClip'],_0x509277[0x1679+-0x1765+0xee]=_0x168c5b['shadowCame'+'ra']['_nearClip'],_0x509277[0x1*0x121+0x13b4+-0x14d2]=-0x2*-0xe05+-0x87*0x3d+0x422,this['lightCamer'+'aParamsId'][_0xd28eee]['setValue'](_0x509277);const _0x166e99=_0x30cf3a['_shadowRen'+'derParams'];_0x166e99['length']=0x78f+-0xb00+0x375*0x1,_0x166e99[0xca0+0x45b+0xcf*-0x15]=_0x30cf3a['_shadowRes'+'olution'],_0x166e99[0x5*-0x161+0x18ae+-0x11c8]=_0x11a0bf['normalBias'],_0x166e99[0xf41*-0x1+-0x1*-0x1e20+-0xedd]=_0x11a0bf['bias'],_0x166e99[0x53*0x73+-0x62e+0x8*-0x3e3]=0x21dd*-0x1+-0x1eab+0x1*0x4088,this['lightShado'+'wParamsId'][_0xd28eee]['setValue'](_0x166e99);}_0xd28eee++;}return _0xd28eee;}['setLTCPosi'+'tionalLigh'+'t'](_0x56bcc6,_0x2eb6f2){const _0x2693a6=_0x56bcc6['transformV'+'ector'](new D(-(-0x1b80+-0x2670+-0x1*-0x41f0+0.5),-0x26cf+-0xef8+0x11ed*0x3,-0x6*-0x175+-0x1892+0xfd4));this['lightWidth'][_0x2eb6f2][-0xb6+-0x1d*0x143+0x254d]=_0x2693a6['x'],this['lightWidth'][_0x2eb6f2][-0x1d4f+-0x22b0+0x4000]=_0x2693a6['y'],this['lightWidth'][_0x2eb6f2][0x574+0x1*-0x1fb4+0x1a42]=_0x2693a6['z'],this['lightWidth'+'Id'][_0x2eb6f2]['setValue'](this['lightWidth'][_0x2eb6f2]);const _0x824e97=_0x56bcc6['transformV'+'ector'](new D(-0x1ead*0x1+0x4d2+0x19db,-0x5e*-0x5f+-0x2163+-0x17f,0x71*0x56+-0xffd*-0x1+-0x35f3+0.5));this['lightHeigh'+'t'][_0x2eb6f2][-0x9a4*-0x1+0x1618+-0xc*0x2a5]=_0x824e97['x'],this['lightHeigh'+'t'][_0x2eb6f2][0x209+0x7*0x377+-0x1a49]=_0x824e97['y'],this['lightHeigh'+'t'][_0x2eb6f2][0x1af*0x11+-0xbe5+0x217*-0x8]=_0x824e97['z'],this['lightHeigh'+'tId'][_0x2eb6f2]['setValue'](this['lightHeigh'+'t'][_0x2eb6f2]);}['dispatchOm'+'niLight'](_0xd253f8,_0x48ef70,_0x3bc708){const _0x472b28=_0x48ef70['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x3bc708]||this['_resolveLi'+'ght'](_0xd253f8,_0x3bc708),this['lightRadiu'+'sId'][_0x3bc708]['setValue'](_0x48ef70['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x3bc708]['setValue'](_0x48ef70['_colorLine'+'ar']),_0x472b28['getTransla'+'tion'](_0x48ef70['_position']),this['lightPos'][_0x3bc708][0x52*0x65+0x51*-0x5d+-0x2ed]=_0x48ef70['_position']['x'],this['lightPos'][_0x3bc708][0xf11+0xf8f+-0x1e9f]=_0x48ef70['_position']['y'],this['lightPos'][_0x3bc708][0x10e8+-0x2d*-0x65+-0x22a7]=_0x48ef70['_position']['z'],this['lightPosId'][_0x3bc708]['setValue'](this['lightPos'][_0x3bc708]),_0x48ef70['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x472b28,_0x3bc708),_0x48ef70['castShadow'+'s']){const _0x3185ea=_0x48ef70['getRenderD'+'ata'](null,-0x1db8+-0x22d1+0x4089);this['lightShado'+'wMapId'][_0x3bc708]['setValue'](_0x3185ea['shadowBuff'+'er']);const _0x594140=_0x48ef70['_getUnifor'+'mBiasValue'+'s'](_0x3185ea),_0x2d756c=_0x48ef70['_shadowRen'+'derParams'];_0x2d756c['length']=0x36b*0x9+0x13e+0x13*-0x1af,_0x2d756c[0x1c0f+0x2317+-0x3f26]=_0x48ef70['_shadowRes'+'olution'],_0x2d756c[0x150d+0x188e+-0x2*0x16cd]=_0x594140['normalBias'],_0x2d756c[0xfa2*-0x2+0x16d8+0x86e]=_0x594140['bias'],_0x2d756c[-0x153+0x136e+-0x1218]=(0xd5c+-0x19c9*0x1+-0x2*-0x637)/_0x48ef70['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x3bc708]['setValue'](_0x2d756c),this['lightShado'+'wIntensity'][_0x3bc708]['setValue'](_0x48ef70['shadowInte'+'nsity']);const _0x5036c0=_0x48ef70['penumbraSi'+'ze']/_0x3185ea['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x3bc708]['setValue'](_0x5036c0);const _0x4874c1=_0x48ef70['_shadowCam'+'eraParams'];_0x4874c1['length']=0x1b92+-0x49b*0x1+0xeb*-0x19,_0x4874c1[-0x11*0x61+0x5a1*-0x1+0xa*0x135]=0xe0b+0x1*-0x1541+0x8e*0xd,_0x4874c1[0xb36+-0x367+-0x7ce]=_0x3185ea['shadowCame'+'ra']['_farClip'],_0x4874c1[-0x1aad+-0x207e+-0x1*-0x3b2d]=_0x3185ea['shadowCame'+'ra']['_nearClip'],_0x4874c1[-0x1*0x2c0+-0x6d0+-0x13*-0x81]=-0x1895+0x2446*-0x1+-0x1*-0x3cdb,this['lightCamer'+'aParamsId'][_0x3bc708]['setValue'](_0x4874c1);}_0x48ef70['_cookie']&&(this['lightCooki'+'eId'][_0x3bc708]['setValue'](_0x48ef70['_cookie']),this['lightShado'+'wMatrixId'][_0x3bc708]['setValue'](_0x472b28['data']),this['lightCooki'+'eIntId'][_0x3bc708]['setValue'](_0x48ef70['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x4e175d,_0x22bc65,_0x4d93bf){const _0x59e9e4=_0x22bc65['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x4d93bf]||this['_resolveLi'+'ght'](_0x4e175d,_0x4d93bf),this['lightInAng'+'leId'][_0x4d93bf]['setValue'](_0x22bc65['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x4d93bf]['setValue'](_0x22bc65['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x4d93bf]['setValue'](_0x22bc65['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x4d93bf]['setValue'](_0x22bc65['_colorLine'+'ar']),_0x59e9e4['getTransla'+'tion'](_0x22bc65['_position']),this['lightPos'][_0x4d93bf][-0x55d*0x4+-0x1*0xf05+-0x1*-0x2479]=_0x22bc65['_position']['x'],this['lightPos'][_0x4d93bf][-0x4*0x60d+-0xf9f+0x27d4]=_0x22bc65['_position']['y'],this['lightPos'][_0x4d93bf][0x85f+0x773+-0xfd0]=_0x22bc65['_position']['z'],this['lightPosId'][_0x4d93bf]['setValue'](this['lightPos'][_0x4d93bf]),_0x22bc65['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x59e9e4,_0x4d93bf),_0x59e9e4['getY'](_0x22bc65['_direction'])['mulScalar'](-(0x95b+-0x168f+0xd35)),_0x22bc65['_direction']['normalize'](),this['lightDir'][_0x4d93bf][-0xfdb+0x1*-0x1363+0x2b6*0xd]=_0x22bc65['_direction']['x'],this['lightDir'][_0x4d93bf][-0xa78+0x3*-0x1fb+0x106a]=_0x22bc65['_direction']['y'],this['lightDir'][_0x4d93bf][-0xf*0x67+0x1d1*0x6+-0x71*0xb]=_0x22bc65['_direction']['z'],this['lightDirId'][_0x4d93bf]['setValue'](this['lightDir'][_0x4d93bf]),_0x22bc65['castShadow'+'s']){const _0x82e1c3=_0x22bc65['getRenderD'+'ata'](null,0x1f01+-0x260b+-0x2*-0x385);this['lightShado'+'wMapId'][_0x4d93bf]['setValue'](_0x82e1c3['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x4d93bf]['setValue'](_0x82e1c3['shadowMatr'+'ix']['data']);const _0x8a8b64=_0x22bc65['_getUnifor'+'mBiasValue'+'s'](_0x82e1c3),_0xcf1799=_0x22bc65['_shadowRen'+'derParams'];_0xcf1799['length']=0x70+0xa7a*0x3+0x12*-0x1c5,_0xcf1799[-0x1*0x805+0x1183+-0x97e]=_0x22bc65['_shadowRes'+'olution'],_0xcf1799[-0xbc*0x23+-0xf41+0x28f6]=_0x8a8b64['normalBias'],_0xcf1799[0x82e*-0x3+-0x1300+0x2b8c]=_0x8a8b64['bias'],_0xcf1799[-0x2b5*-0x2+0x1a0d+-0x1f74]=(-0x27a*-0x1+0x5a7+0xd*-0xa0)/_0x22bc65['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x4d93bf]['setValue'](_0xcf1799),this['lightShado'+'wIntensity'][_0x4d93bf]['setValue'](_0x22bc65['shadowInte'+'nsity']);const _0x56ed7d=_0x22bc65['penumbraSi'+'ze']/_0x82e1c3['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x3daedb=_0x82e1c3['shadowCame'+'ra']['_fov']*Math['PI']/(0x881+-0x3c3+-0x40a),_0x1f18d0=(0x4*-0x743+0x1*0x20d3+-0x8a*0x7)/Math['tan'](_0x3daedb/(0x1620*-0x1+0xbf9+-0x11*-0x99));this['lightShado'+'wSearchAre'+'aId'][_0x4d93bf]['setValue'](_0x56ed7d*_0x1f18d0);const _0x41a7f2=_0x22bc65['_shadowCam'+'eraParams'];_0x41a7f2['length']=0x2080+-0x2085+0x9,_0x41a7f2[-0x15f0+0x194f+-0x35f]=0x1c00+-0x6fd+-0x1503,_0x41a7f2[0x884+-0xf8b+-0x28*-0x2d]=_0x82e1c3['shadowCame'+'ra']['_farClip'],_0x41a7f2[0x2*0xdb1+-0x228d+0x72d]=_0x82e1c3['shadowCame'+'ra']['_nearClip'],_0x41a7f2[0x1c03+0x2*0xe41+-0x96b*0x6]=0x2*-0xd8d+-0x936+0x2450,this['lightCamer'+'aParamsId'][_0x4d93bf]['setValue'](_0x41a7f2);}if(_0x22bc65['_cookie']){if(!_0x22bc65['castShadow'+'s']){const _0x7755d1=Wn['evalSpotCo'+'okieMatrix'](_0x22bc65);this['lightShado'+'wMatrixId'][_0x4d93bf]['setValue'](_0x7755d1['data']);}this['lightCooki'+'eId'][_0x4d93bf]['setValue'](_0x22bc65['_cookie']),this['lightCooki'+'eIntId'][_0x4d93bf]['setValue'](_0x22bc65['cookieInte'+'nsity']),_0x22bc65['_cookieTra'+'nsform']&&(_0x22bc65['_cookieTra'+'nsformUnif'+'orm'][0x1eef+-0x556*0x2+0x85*-0x27]=_0x22bc65['_cookieTra'+'nsform']['x'],_0x22bc65['_cookieTra'+'nsformUnif'+'orm'][0x187f*-0x1+-0x3a2+-0xd*-0x22a]=_0x22bc65['_cookieTra'+'nsform']['y'],_0x22bc65['_cookieTra'+'nsformUnif'+'orm'][0xb*-0x14c+-0x34e*-0x8+-0xc2a]=_0x22bc65['_cookieTra'+'nsform']['z'],_0x22bc65['_cookieTra'+'nsformUnif'+'orm'][0x201f+-0x1555+-0xac7]=_0x22bc65['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x4d93bf]['setValue'](_0x22bc65['_cookieTra'+'nsformUnif'+'orm']),_0x22bc65['_cookieOff'+'setUniform'][-0x1dba+-0x2027+-0x1f*-0x1ff]=_0x22bc65['_cookieOff'+'set']['x'],_0x22bc65['_cookieOff'+'setUniform'][0x5a*0x1b+-0x1edd+0x1560]=_0x22bc65['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x4d93bf]['setValue'](_0x22bc65['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x4e083d,_0x2f6eea,_0x1a4db0){let _0x3de692=_0x1a4db0;const _0x4329fc=this['device']['scope'],_0x21b5ea=_0x4e083d[Ke],_0x4062ba=_0x21b5ea['length'];for(let _0x2d20e3=0x5bf+0x1fa4+0x233*-0x11;_0x2d20e3<_0x4062ba;_0x2d20e3++){const _0x39be62=_0x21b5ea[_0x2d20e3];_0x39be62['mask']&_0x2f6eea&&(this['dispatchOm'+'niLight'](_0x4329fc,_0x39be62,_0x3de692),_0x3de692++);}const _0x534e13=_0x4e083d[Ze],_0x29bd5e=_0x534e13['length'];for(let _0x541ccc=-0x224+-0x4c*-0x7c+-0x22ac;_0x541ccc<_0x29bd5e;_0x541ccc++){const _0x4f8c4c=_0x534e13[_0x541ccc];_0x4f8c4c['mask']&_0x2f6eea&&(this['dispatchSp'+'otLight'](_0x4329fc,_0x4f8c4c,_0x3de692),_0x3de692++);}}['renderForw'+'ardPrepare'+'Materials'](_0x5929df,_0x1ba02f,_0x519f02,_0x2978c8,_0x48801d,_0x1b5752){const _0x4178e7=_0x5929df['fogParams']??this['scene']['fog'],_0x26e20b=_0x5929df['shaderPara'+'ms'];_0x26e20b['fog']=_0x4178e7['type'],_0x26e20b['srgbRender'+'Target']=(_0x1ba02f==null?void(0x2*0x97a+-0x20be+0xdca):_0x1ba02f['isColorBuf'+'ferSrgb'](-0x2565+0x25b2+-0x7*0xb))??!(0x1f37+0x13b8+-0x32ee*0x1);const _0x31ecb3=(_0x20d9d6,_0x10e557,_0x402edf,_0x2b972e)=>{Nr['drawCalls']['push'](_0x20d9d6),Nr['shaderInst'+'ances']['push'](_0x10e557),Nr['isNewMater'+'ial']['push'](_0x402edf),Nr['lightMaskC'+'hanged']['push'](_0x2b972e);};Nr['clear']();const _0x78d890=this['device'],_0x199b0d=this['scene'],_0x5206ae=_0x199b0d['clusteredL'+'ightingEna'+'bled'],_0x495294=(_0x48801d==null?void(-0x26d6+0x5e0+0x20f6):_0x48801d['getLightHa'+'sh'](_0x5206ae))??-0x2b*-0x34+0x1*-0x1772+0xeb6*0x1;let _0x55cce1=null,_0x3c1405,_0x377004;const _0x1924e6=_0x519f02['length'];for(let _0x539076=-0x19*-0x128+0x3*0x52e+-0x2c72;_0x539076<_0x1924e6;_0x539076++){const _0x5e0b65=_0x519f02[_0x539076];if(_0x5929df===Ni['skipRender'+'Camera']){if(Ni['_skipRende'+'rCounter']>=Ni['skipRender'+'After'])continue;Ni['_skipRende'+'rCounter']++;}if(_0x48801d){if(_0x48801d['_skipRende'+'rCounter']>=_0x48801d['skipRender'+'After'])continue;_0x48801d['_skipRende'+'rCounter']++;}const _0x50ec5a=_0x5e0b65['instancing'+'Data'];if(_0x50ec5a&&_0x50ec5a['count']<=0xf*-0x121+0x6*-0x5c9+0x33a5)continue;_0x5e0b65['ensureMate'+'rial'](_0x78d890);const _0x49b0d5=_0x5e0b65['material'],_0xad0cae=_0x5e0b65['_shaderDef'+'s'],_0x4a5165=_0x5e0b65['mask'];_0x49b0d5&&_0x49b0d5===_0x55cce1&&_0xad0cae!==_0x3c1405&&(_0x55cce1=null),_0x49b0d5!==_0x55cce1&&(this['_materialS'+'witches']++,_0x49b0d5['_scene']=_0x199b0d,_0x49b0d5['dirty']&&(Q['pushGpuMar'+'ker'](_0x78d890,'Node:\x20'+_0x5e0b65['node']['name']+(',\x20Material'+':\x20')+_0x49b0d5['name']),_0x49b0d5['updateUnif'+'orms'](_0x78d890,_0x199b0d),_0x49b0d5['dirty']=!(-0x1438+0x21a8+0xd6f*-0x1),Q['popGpuMark'+'er'](_0x78d890)));const _0x4ae8dc=_0x5e0b65['getShaderI'+'nstance'](_0x1b5752,_0x495294,_0x199b0d,_0x26e20b,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x2978c8);_0x31ecb3(_0x5e0b65,_0x4ae8dc,_0x49b0d5!==_0x55cce1,!_0x55cce1||_0x4a5165!==_0x377004),_0x55cce1=_0x49b0d5,_0x3c1405=_0xad0cae,_0x377004=_0x4a5165;}return Nr;}['renderForw'+'ardInterna'+'l'](_0x4c2b1e,_0x5ad429,_0x3932ca,_0x5112e4,_0x32248b,_0x48c1b9,_0x40553a){var _0x677975,_0x3408f0;const _0x48f42b=this['device'],_0x6b1c0b=this['scene'],_0xb7ca01=-0x2b*0x7+-0x18cf+0x19fd<<_0x5112e4,_0x3fd4ae=_0x48c1b9?-(-0x25d4+-0x11c8+0x379d*0x1):-0x163*0x7+-0x2036+0x14f6*0x2,_0x2b6ca5=_0x6b1c0b['clusteredL'+'ightingEna'+'bled'],_0xd577fc=(_0x677975=_0x4c2b1e['xr'])!=null&&_0x677975['session']&&_0x4c2b1e['xr']['views']['list']['length']?_0x4c2b1e['xr']['views']['list']:null,_0x2733af=_0x5ad429['drawCalls']['length'];for(let _0x431de7=-0x45*-0x6f+0xb6b+-0x3c2*0xb;_0x431de7<_0x2733af;_0x431de7++){const _0x4038f3=_0x5ad429['drawCalls'][_0x431de7],_0x3ccb85=_0x5ad429['isNewMater'+'ial'][_0x431de7],_0x36aa35=_0x5ad429['lightMaskC'+'hanged'][_0x431de7],_0x38486a=_0x5ad429['shaderInst'+'ances'][_0x431de7],_0x25e45d=_0x4038f3['material'],_0x3cab89=_0x4038f3['mask'];if(_0x38486a['shader']['failed'])continue;if(_0x3ccb85){if(_0x48f42b['setShader'](_0x38486a['shader'],!(-0x19*0x100+-0xc3*-0x31+-0xa6*0x13)),_0x25e45d['setParamet'+'ers'](_0x48f42b),_0x36aa35){const _0x3db5e9=this['dispatchDi'+'rectLights'](_0x3932ca[ve],_0x3cab89,_0x4c2b1e);_0x2b6ca5||this['dispatchLo'+'calLights'](_0x3932ca,_0x3cab89,_0x3db5e9);}this['alphaTestI'+'d']['setValue'](_0x25e45d['alphaTest']),_0x48f42b['setBlendSt'+'ate'](_0x25e45d['blendState']),_0x48f42b['setDepthSt'+'ate'](_0x25e45d['depthState']),_0x48f42b['setAlphaTo'+'Coverage'](_0x25e45d['alphaToCov'+'erage']);}Q['pushGpuMar'+'ker'](_0x48f42b,'Node:\x20'+_0x4038f3['node']['name']+(',\x20Material'+':\x20')+_0x25e45d['name']),this['setupCullM'+'ode'](_0x4c2b1e['_cullFaces'],_0x3fd4ae,_0x4038f3);const _0x126dad=_0x4038f3['stencilFro'+'nt']??_0x25e45d['stencilFro'+'nt'],_0x4c993b=_0x4038f3['stencilBac'+'k']??_0x25e45d['stencilBac'+'k'];_0x48f42b['setStencil'+'State'](_0x126dad,_0x4c993b),_0x4038f3['setParamet'+'ers'](_0x48f42b,_0xb7ca01),_0x48f42b['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x4038f3['id']);const _0x57b3b0=_0x4038f3['mesh'];this['setVertexB'+'uffers'](_0x48f42b,_0x57b3b0),this['setMorphin'+'g'](_0x48f42b,_0x4038f3['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x48f42b,_0x4038f3);const _0x10b810=_0x4038f3['instancing'+'Data'];_0x10b810&&_0x48f42b['setVertexB'+'uffer'](_0x10b810['vertexBuff'+'er']),this['setMeshIns'+'tanceMatri'+'ces'](_0x4038f3,!(-0x1fb2+-0x9c5+0x2977)),this['setupMeshU'+'niformBuff'+'ers'](_0x38486a);const _0x27c24b=_0x4038f3['renderStyl'+'e'],_0xddf7e3=_0x57b3b0['indexBuffe'+'r'][_0x27c24b];_0x32248b==null||_0x32248b(_0x4038f3,_0x431de7);const _0x15f070=(_0x3408f0=_0x4038f3['indirectDa'+'ta'])==null?void(0x3*-0x667+0x185e+-0x529):_0x3408f0['get'](_0x4c2b1e);if(_0xd577fc)for(let _0x3556f1=-0x2db+0x22e5+-0x200a;_0x3556f1<_0xd577fc['length'];_0x3556f1++){const _0x26c1f1=_0xd577fc[_0x3556f1];if(_0x48f42b['setViewpor'+'t'](_0x26c1f1['viewport']['x'],_0x26c1f1['viewport']['y'],_0x26c1f1['viewport']['z'],_0x26c1f1['viewport']['w']),_0x48f42b['supportsUn'+'iformBuffe'+'rs']){const _0x418868=_0x40553a[_0x3556f1];_0x48f42b['setBindGro'+'up'](rl,_0x418868);}else this['setupViewU'+'niforms'](_0x26c1f1,_0x3556f1);const _0x40ec69=_0x3556f1===-0x227a+-0xd*0x163+0x3481,_0x3a695f=_0x3556f1===_0xd577fc['length']-(-0x1e4c+-0xbcc+-0x2a19*-0x1);_0x48f42b['draw'](_0x57b3b0['primitive'][_0x27c24b],_0xddf7e3,_0x10b810==null?void(0x16da*-0x1+0x17b*-0x17+0x1*0x38e7):_0x10b810['count'],_0x15f070,_0x40ec69,_0x3a695f),this['_forwardDr'+'awCalls']++,_0x4038f3['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;}else _0x48f42b['draw'](_0x57b3b0['primitive'][_0x27c24b],_0xddf7e3,_0x10b810==null?void(0x1*0x1e25+0x543*-0x7+0x6b0):_0x10b810['count'],_0x15f070),this['_forwardDr'+'awCalls']++,_0x4038f3['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;_0x431de7<_0x2733af-(0x23d*-0x7+0x1*0x23f3+-0x1447)&&!_0x5ad429['isNewMater'+'ial'][_0x431de7+(-0xd95*0x2+0x1f22+-0x3f7)]&&_0x25e45d['setParamet'+'ers'](_0x48f42b,_0x4038f3['parameters']),Q['popGpuMark'+'er'](_0x48f42b);}}['renderForw'+'ard'](_0x137ea2,_0x127651,_0x8a9567,_0x2c3f4b,_0x478102,_0x1a3bf2,_0xd4c5c6,_0x148d23,_0x476fd6){const _0x489370=de(),_0x21e058=this['renderForw'+'ardPrepare'+'Materials'](_0x137ea2,_0x127651,_0x8a9567,_0x2c3f4b,_0xd4c5c6,_0x478102);this['renderForw'+'ardInterna'+'l'](_0x137ea2,_0x21e058,_0x2c3f4b,_0x478102,_0x1a3bf2,_0x148d23,_0x476fd6),Nr['clear'](),this['_forwardTi'+'me']+=de()-_0x489370;}['renderForw'+'ardLayer'](_0x16e6d6,_0x2321ae,_0x4e769e,_0x52b273,_0x47b3d3,_0x31a225,_0x5434e6={}){const {scene:_0x3c209b,device:_0x1a9e6c}=this,_0x4ff1f0=_0x3c209b['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x16e6d6,_0x2321ae);let _0x6336e8,_0x6ec360;if(_0x4e769e){const _0xa5641e=de();_0x4e769e['sortVisibl'+'e'](_0x16e6d6,_0x52b273),this['_sortTime']+=de()-_0xa5641e;const _0x1e3a0a=_0x4e769e['getCulledI'+'nstances'](_0x16e6d6);_0x6336e8=_0x52b273?_0x1e3a0a['transparen'+'t']:_0x1e3a0a['opaque'],_0x3c209b['immediate']['onPreRende'+'rLayer'](_0x4e769e,_0x6336e8,_0x52b273),_0x4e769e['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x3c209b['ambientLig'+'ht'],_0x4e769e['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x6ec360=_0x4e769e['splitLight'+'s'];}else _0x6336e8=_0x5434e6['meshInstan'+'ces'],_0x6ec360=_0x5434e6['splitLight'+'s']??Qb;if(w['assert'](_0x6336e8,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x4ff1f0){const _0x5191d4=_0x5434e6['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x5191d4['activate'](),_0x4e769e&&!this['clustersDe'+'bugRendere'+'d']&&_0x3c209b['lighting']['debugLayer']===_0x4e769e['id']&&(this['clustersDe'+'bugRendere'+'d']=!(0xbd*-0x3+0x3*0x4cf+-0xc36),hu['render'](_0x5191d4,this['scene']));}_0x3c209b['_activeCam'+'era']=_0x16e6d6;const _0x5b2fbc=_0x16e6d6['fogParams']??this['scene']['fog'];this['setFogCons'+'tants'](_0x5b2fbc);const _0x5be67c=this['setCameraU'+'niforms'](_0x16e6d6,_0x2321ae);_0x1a9e6c['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x31a225,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x5be67c);const _0x2b8db5=_0x5434e6['clearColor']??!(0xe0f*-0x2+0x2*0x45d+-0x677*-0x3),_0x4b5e96=_0x5434e6['clearDepth']??!(0xb2*0xe+-0x26b*0x2+0xb3*-0x7),_0x1eb27c=_0x5434e6['clearStenc'+'il']??!(0x127*-0x1e+0x634*0x4+-0x11*-0x93);(_0x2b8db5||_0x4b5e96||_0x1eb27c)&&this['clear'](_0x16e6d6,_0x2b8db5,_0x4b5e96,_0x1eb27c);const _0x27a722=!!(_0x16e6d6['_flipFaces']^(_0x2321ae==null?void(-0x1367+-0x2*-0x684+0x7*0xe9):_0x2321ae['flipY'])),_0x231adb=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x16e6d6,_0x2321ae,_0x6336e8,_0x6ec360,_0x47b3d3,null,_0x4e769e,_0x27a722,_0x31a225),_0x4e769e&&(_0x4e769e['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x231adb);}['setFogCons'+'tants'](_0x1cb496){if(_0x1cb496['type']!==Kn){or['linear'](_0x1cb496['color']);const _0x688601=this['fogColor'];_0x688601[0x1288*0x2+0x1b54+-0x4064]=or['r'],_0x688601[0x1*-0x89b+0x1*-0x18af+0x214b]=or['g'],_0x688601[0x23d8+-0x23ac+0x7*-0x6]=or['b'],this['fogColorId']['setValue'](_0x688601),_0x1cb496['type']===Iw?(this['fogStartId']['setValue'](_0x1cb496['start']),this['fogEndId']['setValue'](_0x1cb496['end'])):this['fogDensity'+'Id']['setValue'](_0x1cb496['density']);}}['setSceneCo'+'nstants'](){const _0x3bac8d=this['scene'];this['dispatchGl'+'obalLights'](_0x3bac8d);const _0x2ffc8f=this['device'];this['_screenSiz'+'e'][-0xd*-0x2ad+0x77f*-0x1+-0x1b4a]=_0x2ffc8f['width'],this['_screenSiz'+'e'][0x1039+0x1934+-0x296c]=_0x2ffc8f['height'],this['_screenSiz'+'e'][0x2110+0x2080+-0x418e]=(-0x8b9+-0x6f0+0x5*0x322)/_0x2ffc8f['width'],this['_screenSiz'+'e'][0x1b72+0x1937+-0x34a6]=(-0x2593+-0xde7*-0x1+0x17ad)/_0x2ffc8f['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x55905f,_0x2b474d){const _0x147d52=this['scene'];if(_0x55905f['reset'](),_0x147d52['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x58ef09,cookiesEnabled:_0x3043c2}=_0x147d52['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x55905f,_0x58ef09,_0x3043c2,this['lights'],this['localLight'+'s']),_0x55905f['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x55905f,this['localLight'+'s']);let _0x1a6f44=0x23*0x4a+0x22bf+-0x2cdd,_0x300527=!(0xcce+-0x39*-0x15+-0x117b),_0x1dd505=null;const _0x446f7a=_0x2b474d['_renderAct'+'ions'];for(let _0x502847=_0x1a6f44;_0x502847<_0x446f7a['length'];_0x502847++){const _0x164403=_0x446f7a[_0x502847],{layer:_0x2e5ef2,camera:_0x24a1d4}=_0x164403;if(_0x164403['useCameraP'+'asses'])w['call'](()=>{_0x24a1d4['postEffect'+'s']['effects']['length']>-0x518+-0x1e24+0x1c3*0x14&&w['warnOnce']('Camera\x20\x27'+_0x24a1d4['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x24a1d4['camera']['renderPass'+'es']['forEach'](_0x36700b=>{_0x55905f['addRenderP'+'ass'](_0x36700b);});else{const _0x3c8f4d=_0x2e5ef2['id']===ps,_0x53e472=_0x3c8f4d&&(_0x24a1d4['renderScen'+'eColorMap']||_0x24a1d4['renderScen'+'eDepthMap']);_0x300527&&(_0x300527=!(0x25ba+0xc*-0x22d+-0xb9d),_0x1a6f44=_0x502847,_0x1dd505=_0x164403['renderTarg'+'et']);const _0x56c42d=_0x446f7a[_0x502847+(0xb40+0x1168*0x2+-0x2e0f*0x1)],_0x40a7f3=(_0x56c42d?!_0x56c42d['useCameraP'+'asses']&&_0x56c42d['layer']['id']===ps:!(-0x1312+-0x4*0x518+0x1*0x2773))&&(_0x24a1d4['renderScen'+'eColorMap']||_0x24a1d4['renderScen'+'eDepthMap']),_0x425129=_0x56c42d?_0x56c42d['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x56c42d['camera']['camera']):!(0x13f4*0x1+-0x2f4+0x10ff*-0x1);if(!_0x56c42d||_0x56c42d['renderTarg'+'et']!==_0x1dd505||_0x425129||_0x40a7f3||_0x53e472){if(_0x3c8f4d&&_0x1a6f44===_0x502847||this['addMainRen'+'derPass'](_0x55905f,_0x2b474d,_0x1dd505,_0x1a6f44,_0x502847),_0x3c8f4d){if(_0x24a1d4['renderScen'+'eColorMap']){const _0x6eb9e1=_0x24a1d4['camera']['renderPass'+'ColorGrab'];_0x6eb9e1['source']=_0x24a1d4['renderTarg'+'et'],_0x55905f['addRenderP'+'ass'](_0x6eb9e1);}_0x24a1d4['renderScen'+'eDepthMap']&&_0x55905f['addRenderP'+'ass'](_0x24a1d4['camera']['renderPass'+'DepthGrab']);}if(_0x164403['triggerPos'+'tprocess']&&(_0x24a1d4!=null&&_0x24a1d4['onPostproc'+'essing'])){const _0x57f089=new Zb(this['device'],this,_0x164403);_0x55905f['addRenderP'+'ass'](_0x57f089);}_0x300527=!(0x1c9*-0x15+-0x239*0x4+0x2e61);}}}}['addMainRen'+'derPass'](_0x150275,_0x1c1c8e,_0x3af338,_0x3c74d1,_0x4f07f1){const _0x3a2e6f=new Kb(this['device'],_0x1c1c8e,this['scene'],this);_0x3a2e6f['init'](_0x3af338);const _0x1cb543=_0x1c1c8e['_renderAct'+'ions'];for(let _0x1936e5=_0x3c74d1;_0x1936e5<=_0x4f07f1;_0x1936e5++)_0x3a2e6f['addRenderA'+'ction'](_0x1cb543[_0x1936e5]);_0x150275['addRenderP'+'ass'](_0x3a2e6f);}['update'](_0x4b5e26){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x4b5e26),this['collectLig'+'hts'](_0x4b5e26),this['beginFrame'](_0x4b5e26),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x4b5e26),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};h(Ni,'skipRender'+'Camera',null),h(Ni,'_skipRende'+'rCounter',0x1392+-0x4*0x4ca+0x1*-0x6a),h(Ni,'skipRender'+'After',-0x1941+-0x2*0xecb+0x36d7);let fl=Ni,uf=-0x21e9+-0x3*-0xc70+-0x367;const co=[],hc=new Set();function tA(_0x1d0f50,_0x4f7662){return _0x1d0f50['drawOrder']-_0x4f7662['drawOrder'];}function sA(_0x419df4,_0x70be92){const _0x34fc88=_0x419df4['_sortKeyFo'+'rward'],_0x4fb590=_0x70be92['_sortKeyFo'+'rward'];return _0x34fc88===_0x4fb590?_0x70be92['mesh']['id']-_0x419df4['mesh']['id']:_0x4fb590-_0x34fc88;}function iA(_0x2ba09b,_0x3adb3a){return _0x3adb3a['_sortKeyDy'+'namic']-_0x2ba09b['_sortKeyDy'+'namic'];}function rA(_0x3c3e16,_0x35d051){return _0x3c3e16['_sortKeyDy'+'namic']-_0x35d051['_sortKeyDy'+'namic'];}const aA=[null,tA,sA,iA,rA];class nA{constructor(){h(this,'opaque',[]),h(this,'transparen'+'t',[]);}}class Ot{constructor(_0x5dbf96={}){h(this,'meshInstan'+'ces',[]),h(this,'meshInstan'+'cesSet',new Set()),h(this,'shadowCast'+'ers',[]),h(this,'shadowCast'+'ersSet',new Set()),h(this,'_visibleIn'+'stances',new WeakMap()),h(this,'_lights',[]),h(this,'_lightsSet',new Set()),h(this,'_clustered'+'LightsSet',new Set()),h(this,'_splitLigh'+'ts',[[],[],[]]),h(this,'_splitLigh'+'tsDirty',!(0x138+0x1df2+-0x1f2a)),h(this,'requiresLi'+'ghtCube',!(-0x12af+0x143b+-0x5*0x4f)),h(this,'cameras',[]),h(this,'camerasSet',new Set()),h(this,'_dirtyComp'+'osition',!(0x7*0xf9+-0x202d+0x195f)),(_0x5dbf96['id']!==void(0x25de+0xa0f*-0x1+-0x1bcf)?(this['id']=_0x5dbf96['id'],uf=Math['max'](this['id']+(-0x60b+0x2060+0x1*-0x1a54),uf)):this['id']=uf++,this['name']=_0x5dbf96['name'],this['_enabled']=_0x5dbf96['enabled']??!(0x41*-0xa+-0x2*-0x315+-0x8*0x74),this['_refCounte'+'r']=this['_enabled']?0x207f+-0x1166+-0xf18:-0x82b*-0x3+0x16ab+0x4*-0xbcb,this['opaqueSort'+'Mode']=_0x5dbf96['opaqueSort'+'Mode']??Yw,this['transparen'+'tSortMode']=_0x5dbf96['transparen'+'tSortMode']??m_,_0x5dbf96['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x5dbf96['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x5dbf96['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x5dbf96['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x5dbf96['clearStenc'+'ilBuffer'],this['onEnable']=_0x5dbf96['onEnable'],this['onDisable']=_0x5dbf96['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=0x1*0x123+0x20cc+-0x21ef,this['_lightHash'+'Dirty']=!(-0x93*0x1f+0x3*-0x78d+-0x1*-0x2875),this['_lightIdHa'+'sh']=0x11be+-0x5*-0xd4+-0x15e2,this['_lightIdHa'+'shDirty']=!(-0x155f+0x2e*0x9b+-0x67a),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=0xe76+0x6c2+-0x7*0x308,this['_renderTim'+'e']=0x7*-0x25+-0x1*-0x1e4f+-0x1d4c,this['_forwardDr'+'awCalls']=-0x1dbc+-0xa8b+0x2847,this['_shadowDra'+'wCalls']=0x2671+0xcf*-0x5+-0x1133*0x2,this['_shaderVer'+'sion']=-(-0xbe5+0x849*-0x2+-0x2*-0xe3c));}set['enabled'](_0x29ff51){_0x29ff51!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(0x371+-0x9*-0x3a5+-0x121f*0x2),this['_enabled']=_0x29ff51,_0x29ff51?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x3db5e6){this['_clearColo'+'rBuffer']=_0x3db5e6,this['_dirtyComp'+'osition']=!(-0x2190+0x22c1*-0x1+-0x1*-0x4451);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x408048){this['_clearDept'+'hBuffer']=_0x408048,this['_dirtyComp'+'osition']=!(-0x1*-0x11d6+-0x191f+0x749);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x194363){this['_clearSten'+'cilBuffer']=_0x194363,this['_dirtyComp'+'osition']=!(0x5b*-0x2b+0x143b*-0x1+-0x11c2*-0x2);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>-0x1*0x2225+-0x2a1*0xb+-0x1f88*-0x2;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===-0x235f+0xdd7*-0x1+0x3136&&(this['_enabled']=!(0x3*-0xa0d+0x429+0x19fe),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===-0x1091+-0x44*-0x41+-0xb2)this['_enabled']=!(0xb0b+-0x190f+-0xe05*-0x1),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===0x18ce+-0x25b8+0x39*0x3a){w['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x3a28e3,_0xbabb68){const _0x2895ca=this['meshInstan'+'ces'],_0x1bafa2=this['meshInstan'+'cesSet'];for(let _0x15eb99=0x23ba+-0x771*-0x5+-0x48ef;_0x15eb99<_0x3a28e3['length'];_0x15eb99++){const _0x3b7798=_0x3a28e3[_0x15eb99];_0x1bafa2['has'](_0x3b7798)||(_0x2895ca['push'](_0x3b7798),_0x1bafa2['add'](_0x3b7798),hc['add'](_0x3b7798['material']));}if(_0xbabb68||this['addShadowC'+'asters'](_0x3a28e3),hc['size']>-0x1e2c*-0x1+0x4b*0x28+0x1*-0x29e4){const _0x59fdf4=this['_shaderVer'+'sion'];hc['forEach'](_0x55273a=>{_0x59fdf4>=-0x7ed*-0x1+-0x1*0x776+-0x77&&_0x55273a['_shaderVer'+'sion']!==_0x59fdf4&&(_0x55273a['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant']&&_0x55273a['clearVaria'+'nts'](),_0x55273a['_shaderVer'+'sion']=_0x59fdf4);}),hc['clear']();}}['removeMesh'+'Instances'](_0x449e7c,_0x8ea19f){const _0x4a58a1=this['meshInstan'+'ces'],_0x5e4c06=this['meshInstan'+'cesSet'];for(let _0x347145=0xdd8+-0x2407+-0x9*-0x277;_0x347145<_0x449e7c['length'];_0x347145++){const _0x4251ea=_0x449e7c[_0x347145];if(_0x5e4c06['has'](_0x4251ea)){_0x5e4c06['delete'](_0x4251ea);const _0x1aba16=_0x4a58a1['indexOf'](_0x4251ea);_0x1aba16>=0x6e3*-0x4+0x11*0x1+0x43*0x69&&_0x4a58a1['splice'](_0x1aba16,-0x212f+-0x181a+0x394a);}}_0x8ea19f||this['removeShad'+'owCasters'](_0x449e7c);}['addShadowC'+'asters'](_0x524a80){const _0x7464bb=this['shadowCast'+'ers'],_0x36777e=this['shadowCast'+'ersSet'];for(let _0x121877=0x69d*-0x3+0x83*-0x1+0x145a;_0x121877<_0x524a80['length'];_0x121877++){const _0x5212c2=_0x524a80[_0x121877];_0x5212c2['castShadow']&&!_0x36777e['has'](_0x5212c2)&&(_0x36777e['add'](_0x5212c2),_0x7464bb['push'](_0x5212c2));}}['removeShad'+'owCasters'](_0x3b0f88){const _0x417633=this['shadowCast'+'ers'],_0x1b07b5=this['shadowCast'+'ersSet'];for(let _0x458ab1=0x14f*-0xe+-0x1c94+-0x1773*-0x2;_0x458ab1<_0x3b0f88['length'];_0x458ab1++){const _0x355434=_0x3b0f88[_0x458ab1];if(_0x1b07b5['has'](_0x355434)){_0x1b07b5['delete'](_0x355434);const _0x246079=_0x417633['indexOf'](_0x355434);_0x246079>=-0x152*0xb+-0x20d8+0x2f5e&&_0x417633['splice'](_0x246079,-0xd*-0xbb+0x1*-0x158f+-0xc11*-0x1);}}}['clearMeshI'+'nstances'](_0x44397e=!(0x8ed*-0x1+-0x1*0xbd9+-0x3*-0x6ed)){this['meshInstan'+'ces']['length']=-0x1b58+0x6b*0x20+0xdf8,this['meshInstan'+'cesSet']['clear'](),_0x44397e||(this['shadowCast'+'ers']['length']=0x1adf+-0x9*0x315+0xde,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(-0x1*0x246f+0xe*0x2a5+-0x97*0x1),this['_lightIdHa'+'shDirty']=!(0x17dd+-0x1036+-0x7a7),this['_splitLigh'+'tsDirty']=!(0x9*-0x59+-0x24aa+-0xa7*-0x3d);}['hasLight'](_0x17c80c){return this['_lightsSet']['has'](_0x17c80c);}['addLight'](_0x5db0a4){const _0x211579=_0x5db0a4['light'];this['_lightsSet']['has'](_0x211579)||(this['_lightsSet']['add'](_0x211579),this['_lights']['push'](_0x211579),this['markLights'+'Dirty']()),_0x211579['type']!==ve&&this['_clustered'+'LightsSet']['add'](_0x211579);}['removeLigh'+'t'](_0x43f551){const _0x1ee4df=_0x43f551['light'];this['_lightsSet']['has'](_0x1ee4df)&&(this['_lightsSet']['delete'](_0x1ee4df),this['_lights']['splice'](this['_lights']['indexOf'](_0x1ee4df),0x61f*-0x5+0x260d*-0x1+0x44a9),this['markLights'+'Dirty']()),_0x1ee4df['type']!==ve&&this['_clustered'+'LightsSet']['delete'](_0x1ee4df);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x1c0116=>_0x1c0116['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=0x1915*0x1+-0xffb+-0x2*0x48d,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(-0x2bb+-0x235b+-0x2617*-0x1);const _0x21a205=this['_splitLigh'+'ts'];for(let _0x189253=-0x1e43+0x92*-0xd+0x25ad;_0x189253<_0x21a205['length'];_0x189253++)_0x21a205[_0x189253]['length']=0x20a5+-0x2*-0x743+-0xa1*0x4b;const _0x1872ca=this['_lights'];for(let _0x35cfd1=0x1742*0x1+0x5c*-0x2e+-0x6ba;_0x35cfd1<_0x1872ca['length'];_0x35cfd1++){const _0x39b4e9=_0x1872ca[_0x35cfd1];_0x39b4e9['enabled']&&_0x21a205[_0x39b4e9['_type']]['push'](_0x39b4e9);}for(let _0x389945=-0x1c77+0xa*0x32d+-0x34b;_0x389945<_0x21a205['length'];_0x389945++)_0x21a205[_0x389945]['sort']((_0x3ae0f9,_0x415a4b)=>_0x3ae0f9['key']-_0x415a4b['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x53342c,_0x44feb3,_0x5c30cb){let _0x4ee2c6=-0xa*-0x250+0x9d*0x17+-0x253b;const _0x379e50=this['_lights'];for(let _0x43cb77=-0x139*-0x1+0x39c*-0x7+0x180b;_0x43cb77<_0x379e50['length'];_0x43cb77++){const _0x2c4246=_0x379e50[_0x43cb77]['type']!==ve;(_0x53342c&&_0x2c4246||_0x44feb3&&!_0x2c4246)&&co['push'](_0x5c30cb?_0x379e50[_0x43cb77]['id']:_0x379e50[_0x43cb77]['key']);}return co['length']>-0xe40+0xc68+0x1d8&&(co['sort'](),_0x4ee2c6=By(co),co['length']=-0x5e5*-0x1+0x437*0x3+-0x128a),_0x4ee2c6;}['getLightHa'+'sh'](_0x1cdcf6){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(-0x212e+-0x9ef+-0x158f*-0x2),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x1cdcf6,!(-0x16f7+-0x1*-0x166f+0x8*0x11),!(-0x2250+0x10bb*-0x1+0x330c))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(-0x9f7+0xdc+-0x2c*-0x35),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(-0x12c0+0x1*0x17f7+-0x1*0x537),!(-0xb*-0x37d+-0x182e+-0x2*0x718),!(-0xa9*-0x11+-0x60c+-0x52d))),this['_lightIdHa'+'sh'];}['addCamera'](_0x303dd5){this['camerasSet']['has'](_0x303dd5['camera'])||(this['camerasSet']['add'](_0x303dd5['camera']),this['cameras']['push'](_0x303dd5),this['_dirtyComp'+'osition']=!(0x1558*-0x1+-0x9*0x2b0+-0xbc*-0x3e));}['removeCame'+'ra'](_0x90b924){if(this['camerasSet']['has'](_0x90b924['camera'])){this['camerasSet']['delete'](_0x90b924['camera']);const _0x4bd09e=this['cameras']['indexOf'](_0x90b924);this['cameras']['splice'](_0x4bd09e,0x1f9c+0x7e2*-0x1+-0x17b9),this['_dirtyComp'+'osition']=!(0x95*0x13+-0x32b*-0x6+-0x1e11);}}['clearCamer'+'as'](){this['cameras']['length']=0x1d33+0x6fa+-0x242d,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(0x49d*0x1+0x4f*-0x3+-0x3b0);}['_calculate'+'SortDistan'+'ces'](_0x4818a5,_0x123615,_0x2c5225){const _0x3953d9=_0x4818a5['length'],{x:_0x24361d,y:_0x4e6bb2,z:_0x2c937b}=_0x123615,{x:_0xa7f304,y:_0x2a90e3,z:_0x3f7cca}=_0x2c5225;for(let _0x2d528d=-0x2597*-0x1+0x1c46+-0x1*0x41dd;_0x2d528d<_0x3953d9;_0x2d528d++){const _0x3a00bd=_0x4818a5[_0x2d528d];let _0x41c891;if(_0x3a00bd['calculateS'+'ortDistanc'+'e'])_0x41c891=_0x3a00bd['calculateS'+'ortDistanc'+'e'](_0x3a00bd,_0x123615,_0x2c5225);else{const _0x4fadfe=_0x3a00bd['aabb']['center'];_0x41c891=(_0x4fadfe['x']-_0x24361d)*_0xa7f304+(_0x4fadfe['y']-_0x4e6bb2)*_0x2a90e3+(_0x4fadfe['z']-_0x2c937b)*_0x3f7cca;}const _0x362ace=_0x3a00bd['_drawBucke'+'t']*(-0x32b*0x7a059+0xfae3949*0x3+0x24b91818);_0x3a00bd['_sortKeyDy'+'namic']=_0x362ace+_0x41c891;}}['getCulledI'+'nstances'](_0x624053){let _0x4482a8=this['_visibleIn'+'stances']['get'](_0x624053);return _0x4482a8||(_0x4482a8=new nA(),this['_visibleIn'+'stances']['set'](_0x624053,_0x4482a8)),_0x4482a8;}['sortVisibl'+'e'](_0x645d4a,_0x691619){const _0x2b78a1=_0x691619?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x2b78a1===Yc)return;const _0x5be933=this['getCulledI'+'nstances'](_0x645d4a),_0x325211=_0x691619?_0x5be933['transparen'+'t']:_0x5be933['opaque'],_0x57847f=_0x645d4a['node'];if(_0x2b78a1===Zw){const _0x3af9af=_0x57847f['getPositio'+'n'](),_0x559425=_0x57847f['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x325211,_0x325211['length'],_0x3af9af,_0x559425),this['customSort'+'Callback']&&_0x325211['sort'](this['customSort'+'Callback']);}else{if(_0x2b78a1===m_||_0x2b78a1===Kw){const _0x315546=_0x57847f['getPositio'+'n'](),_0x4437d0=_0x57847f['forward'];this['_calculate'+'SortDistan'+'ces'](_0x325211,_0x315546,_0x4437d0);}_0x325211['sort'](aA[_0x2b78a1]);}}}const oA=(_0x3c9333,_0x2281cb)=>_0x3c9333['priority']-_0x2281cb['priority'],ul=_0x58e60b=>_0x58e60b['sort'](oA);class du extends me{constructor(_0xa87674='Untitled'){super(),h(this,'layerList',[]),h(this,'layerIdMap',new Map()),h(this,'layerNameM'+'ap',new Map()),h(this,'layerOpaqu'+'eIndexMap',new Map()),h(this,'layerTrans'+'parentInde'+'xMap',new Map()),h(this,'subLayerLi'+'st',[]),h(this,'subLayerEn'+'abled',[]),h(this,'cameras',[]),h(this,'_renderAct'+'ions',[]),h(this,'_dirty',!(-0x752+-0x11bb+0x190e)),(this['name']=_0xa87674,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x2a51a1=>_0x2a51a1['destroy']()),this['_renderAct'+'ions']['length']=0x74f*-0x5+0xe*0x10+0x23ab*0x1;}['markDirty'](){this['_dirty']=!(-0x12*-0x2b+0x5*0x81+-0x58b);}['_update'](){const _0x211431=this['layerList']['length'];if(!this['_dirty']){for(let _0x13116f=0x269f+0x210a*0x1+-0x47a9;_0x13116f<_0x211431;_0x13116f++)if(this['layerList'][_0x13116f]['_dirtyComp'+'osition']){this['_dirty']=!(0x9e2+-0x1*0x10a5+-0x241*-0x3);break;}}if(this['_dirty']){this['_dirty']=!(-0x60e+-0x37*-0x1+-0x11*-0x58),this['cameras']['length']=0x8*-0xd7+-0x21b2+0x7*0x5c6;for(let _0x140548=0x15e5*-0x1+0x235e+-0xd79;_0x140548<_0x211431;_0x140548++){const _0x5955cc=this['layerList'][_0x140548];_0x5955cc['_dirtyComp'+'osition']=!(-0x4f4+-0xfba+0x3*0x6e5);for(let _0x486e85=-0x259d+0x1b35+-0x534*-0x2;_0x486e85<_0x5955cc['cameras']['length'];_0x486e85++){const _0x2ca0fb=_0x5955cc['cameras'][_0x486e85];this['cameras']['indexOf'](_0x2ca0fb)<0x4b7*0x5+-0x1*-0x1de9+-0x357c&&this['cameras']['push'](_0x2ca0fb);}}this['cameras']['length']>0x1751+0x1*-0x1009+0x747*-0x1&&ul(this['cameras']);let _0x5ca926=-0x25c3+0x226d+0x2*0x1ab;this['destroyRen'+'derActions']();for(let _0x135849=0x1de5+-0x35*0x1d+-0x17e4;_0x135849<this['cameras']['length'];_0x135849++){const _0x3a4f84=this['cameras'][_0x135849];if(_0x3a4f84['camera']['renderPass'+'es']['length']>-0x1860+0xcbb*-0x2+0x31d6){this['addDummyRe'+'nderAction'](_0x5ca926,_0x3a4f84),_0x5ca926++;continue;}let _0x28aaaa=!(0x6a9*0x3+0x7*-0x123+-0xc06);const _0x5b20ac=_0x5ca926;let _0x5210a6=null,_0x24f80c=!(-0x1bc9+0x13b8+0x812);for(let _0x11c76a=-0x1*-0x195b+-0x1781+0x4f*-0x6;_0x11c76a<_0x211431;_0x11c76a++){const _0x1e3a7e=this['layerList'][_0x11c76a];if(_0x1e3a7e['enabled']&&this['subLayerEn'+'abled'][_0x11c76a]&&_0x1e3a7e['cameras']['length']>0x61a+-0x9*0x7f+-0x1a3&&_0x3a4f84['layers']['indexOf'](_0x1e3a7e['id'])>=-0x4*0x808+0x5*0x62e+0x1*0x13a){!_0x24f80c&&_0x1e3a7e['id']===_0x3a4f84['disablePos'+'tEffectsLa'+'yer']&&(_0x24f80c=!(-0x1*0x481+-0xfd6+0x1457),_0x5210a6&&(_0x5210a6['triggerPos'+'tprocess']=!(0x211c+0x1718*-0x1+-0xa04)));const _0xbc76aa=this['subLayerLi'+'st'][_0x11c76a];_0x5210a6=this['addRenderA'+'ction'](_0x5ca926,_0x1e3a7e,_0xbc76aa,_0x3a4f84,_0x28aaaa,_0x24f80c),_0x5ca926++,_0x28aaaa=!(-0x13f6+0x4ba*0x5+0x1*-0x3ab);}}_0x5b20ac<_0x5ca926&&(_0x5210a6['lastCamera'+'Use']=!(0x1539+-0x1072+-0x4c7*0x1)),!_0x24f80c&&_0x5210a6&&(_0x5210a6['triggerPos'+'tprocess']=!(-0xb8c+-0xeae*0x2+0x4d*0x88)),_0x3a4f84['renderTarg'+'et']&&_0x3a4f84['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x5b20ac-(0xc2c+-0x2409+0x1*0x17de),_0x3a4f84);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x2319bc){w['assert'](this['_renderAct'+'ions']['length']===_0x2319bc);const _0x281afd=new Pv();return this['_renderAct'+'ions']['push'](_0x281afd),_0x281afd;}['addDummyRe'+'nderAction'](_0x228e55,_0x4509fa){const _0x241cf6=this['getNextRen'+'derAction'](_0x228e55);_0x241cf6['camera']=_0x4509fa,_0x241cf6['useCameraP'+'asses']=!(0x11*0x111+-0x45e*0x5+-0x3b5*-0x1);}['addRenderA'+'ction'](_0x922d7c,_0xb49cab,_0x3f6c49,_0x16019e,_0x1296fb,_0x446e30){let _0x514199=_0xb49cab['id']!==ps?_0x16019e['renderTarg'+'et']:null,_0x34cf0f=!(-0xa93*-0x1+-0x1446+0x9b4);const _0x2f3d28=this['_renderAct'+'ions'];for(let _0x34233c=_0x922d7c-(-0x2378+0xb41*-0x3+0x453c);_0x34233c>=0x1a5*-0x11+0x18*-0x81+0x280d*0x1;_0x34233c--)if(_0x2f3d28[_0x34233c]['camera']===_0x16019e&&_0x2f3d28[_0x34233c]['renderTarg'+'et']===_0x514199){_0x34cf0f=!(-0xb05+0x72c+-0xc5*-0x5);break;}_0x446e30&&_0x16019e['postEffect'+'sEnabled']&&(_0x514199=null);const _0x51441e=this['getNextRen'+'derAction'](_0x922d7c);_0x51441e['triggerPos'+'tprocess']=!(0x1470*-0x1+0x31*-0xc2+0x3993),_0x51441e['layer']=_0xb49cab,_0x51441e['transparen'+'t']=_0x3f6c49,_0x51441e['camera']=_0x16019e,_0x51441e['renderTarg'+'et']=_0x514199,_0x51441e['firstCamer'+'aUse']=_0x1296fb,_0x51441e['lastCamera'+'Use']=!(-0xec3*-0x2+-0x1*0xfb3+0x1*-0xdd2);const _0x32186e=_0x1296fb||!_0x34cf0f,_0x2988ed=_0xb49cab['clearColor'+'Buffer']||_0xb49cab['clearDepth'+'Buffer']||_0xb49cab['clearStenc'+'ilBuffer'];return(_0x32186e||_0x2988ed)&&_0x51441e['setupClear'+'s'](_0x32186e?_0x16019e:void(0x95e+-0x5e0+-0x12a*0x3),_0xb49cab),_0x51441e;}['propagateR'+'enderTarge'+'t'](_0x13a189,_0x1dd998){for(let _0x24cbd2=_0x13a189;_0x24cbd2>=-0x1*0x6d5+0x4*0x4c+-0x5*-0x121;_0x24cbd2--){const _0x24f9ed=this['_renderAct'+'ions'][_0x24cbd2],_0x2ad82c=_0x24f9ed['layer'];if(_0x24f9ed['renderTarg'+'et']&&_0x2ad82c['id']!==ps)break;if(_0x2ad82c['id']===ps)continue;if(_0x24f9ed['useCameraP'+'asses'])break;const _0x2a258c=_0x24f9ed==null?void(0x234b+0x2581*-0x1+0x236):_0x24f9ed['camera']['camera'];if(_0x2a258c&&(!_0x1dd998['camera']['rect']['equals'](_0x2a258c['rect'])||!_0x1dd998['camera']['scissorRec'+'t']['equals'](_0x2a258c['scissorRec'+'t'])))break;_0x24f9ed['renderTarg'+'et']=_0x1dd998['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(mi['get'](Vl)){w['trace'](Vl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x23a353=-0xd07+0x9b0+0x357*0x1;_0x23a353<this['_renderAct'+'ions']['length'];_0x23a353++){const _0x5619e0=this['_renderAct'+'ions'][_0x23a353],_0x12b8eb=_0x5619e0['camera'];if(_0x5619e0['useCameraP'+'asses'])w['trace'](Vl,_0x23a353+('CustomPass'+'es\x20Cam:\x20')+(_0x12b8eb?_0x12b8eb['entity']['name']:'-'));else{const _0x5ad515=_0x5619e0['layer'],_0x38bd4c=_0x5ad515['enabled']&&this['isEnabled'](_0x5ad515,_0x5619e0['transparen'+'t']),_0x3c14d2=(_0x5619e0['clearColor']?'Color\x20':'.....\x20')+(_0x5619e0['clearDepth']?'Depth\x20':'.....\x20')+(_0x5619e0['clearStenc'+'il']?'Stencil':'.......');w['trace'](Vl,_0x23a353+('\x20Cam:\x20'+(_0x12b8eb?_0x12b8eb['entity']['name']:'-'))['padEnd'](0x892+0x141e+-0x1c9a,'\x20')+('\x20Lay:\x20'+_0x5ad515['name'])['padEnd'](0x1da7+-0x1*-0x1295+-0x3026,'\x20')+(_0x5619e0['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x38bd4c?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x5619e0['renderTarg'+'et']?_0x5619e0['renderTarg'+'et']['name']:'-'))['padEnd'](0x141e+-0x1*-0x896+-0x1c96,'\x20')+'\x20Clear:\x20'+_0x3c14d2+(_0x5619e0['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x5619e0['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x5619e0['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x33fca1){const _0xa3d5b9=this['layerIdMap']['get'](_0x33fca1['id'])===_0x33fca1;return w['assert'](!_0xa3d5b9,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x33fca1['name']),_0xa3d5b9;}['_isSublaye'+'rAdded'](_0x1b5a6b,_0x1f1d9c){return(_0x1f1d9c?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x1b5a6b)!==void(-0x2*0x1271+-0xc08+0x1*0x30ea)?(w['error']('Sublayer\x20'+_0x1b5a6b['name']+(',\x20transpar'+'ent:\x20')+_0x1f1d9c+('\x20is\x20alread'+'y\x20added.')),!(-0x3e7+0x2044+0x89*-0x35)):!(0x55d*-0x3+0x7c9+0x84f);}['push'](_0x312fdd){this['_isLayerAd'+'ded'](_0x312fdd)||(this['layerList']['push'](_0x312fdd),this['layerList']['push'](_0x312fdd),this['_opaqueOrd'+'er'][_0x312fdd['id']]=this['subLayerLi'+'st']['push'](!(-0x726+0xfec*-0x2+0x26ff))-(0x1*0x1fed+-0x3a*0xa7+0x5ea),this['_transpare'+'ntOrder'][_0x312fdd['id']]=this['subLayerLi'+'st']['push'](!(0x188b+0x1*0x6de+-0x1*0x1f69))-(-0xa48+0x1657+-0x1*0xc0e),this['subLayerEn'+'abled']['push'](!(0x2*0x976+-0xa*-0x2bb+-0x2e3a)),this['subLayerEn'+'abled']['push'](!(0x25f5+0x1ae7+-0x40dc)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x431*0x2+0x1*0xd67+-0x505),this['fire']('add',_0x312fdd));}['insert'](_0x3dbb23,_0x4edec3){if(this['_isLayerAd'+'ded'](_0x3dbb23))return;this['layerList']['splice'](_0x4edec3,0x1b95*0x1+0x6a5+-0x1*0x223a,_0x3dbb23,_0x3dbb23),this['subLayerLi'+'st']['splice'](_0x4edec3,-0x8*0x266+0x56c*0x1+0x1*0xdc4,!(-0x1*0x23a+0x1*0x182a+-0x15ef*0x1),!(0x8d5+0x2*-0xec3+0x14b1));const _0x1b5304=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x4edec3,_0x1b5304-(-0x3*-0x8d+0x9f6+-0xb9c)),this['_updateTra'+'nsparentOr'+'der'](_0x4edec3,_0x1b5304-(0x24fb+0xb*0x2bd+-0x4319)),this['subLayerEn'+'abled']['splice'](_0x4edec3,0xb00+-0x2*0x769+-0x3d2*-0x1,!(-0x218d+-0x1625+-0x1bd9*-0x2),!(-0x2178+0x1c78+0x500)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x26e1+-0x9c2+0x69*-0x47),this['fire']('add',_0x3dbb23);}['remove'](_0x37ec7f){let _0x2b21a8=this['layerList']['indexOf'](_0x37ec7f);for(delete this['_opaqueOrd'+'er'][_0x2b21a8],delete this['_transpare'+'ntOrder'][_0x2b21a8];_0x2b21a8>=-0x166e+0xbc5+-0x1*-0xaa9;)this['layerList']['splice'](_0x2b21a8,-0x38b*-0x1+-0x692*0x1+0x1*0x308),this['subLayerLi'+'st']['splice'](_0x2b21a8,0x79d*-0x2+-0xc1+0xffc),this['subLayerEn'+'abled']['splice'](_0x2b21a8,-0x5c*0x3+-0x1*-0x2a3+0x18e*-0x1),_0x2b21a8=this['layerList']['indexOf'](_0x37ec7f),this['_dirty']=!(-0x3d*0x43+0x7*-0x261+0x209e),this['fire']('remove',_0x37ec7f);const _0x4b982c=this['layerList']['length'];this['_updateOpa'+'queOrder'](-0x2b*-0x3+0x1c82+-0x1d03*0x1,_0x4b982c-(-0x30f+-0x1053+-0x2c5*-0x7)),this['_updateTra'+'nsparentOr'+'der'](-0x248f+-0xca3*-0x1+-0x4*-0x5fb,_0x4b982c-(0x1*0x1012+-0x1ded+0xddc)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x11bcab){this['_isSublaye'+'rAdded'](_0x11bcab,!(-0x1989*-0x1+0x2b3+0x291*-0xb))||(this['layerList']['push'](_0x11bcab),this['_opaqueOrd'+'er'][_0x11bcab['id']]=this['subLayerLi'+'st']['push'](!(0xe21*0x1+0x19*-0x167+0x17*0xe9))-(-0x262e+0x128+0x1*0x2507),this['subLayerEn'+'abled']['push'](!(-0x1*0x13a0+0x1d3*-0xd+0x13d*0x23)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1461+-0x2*-0xa58+0x2911*-0x1),this['fire']('add',_0x11bcab));}['insertOpaq'+'ue'](_0x1c1c91,_0x56ebb5){if(this['_isSublaye'+'rAdded'](_0x1c1c91,!(0x307*0xb+-0x29*-0xf1+-0x47e5)))return;this['layerList']['splice'](_0x56ebb5,-0x1e86+0x1*-0x1246+0x30cc,_0x1c1c91),this['subLayerLi'+'st']['splice'](_0x56ebb5,0x143c+0x1*0x38f+0x17cb*-0x1,!(0x1f*-0x13a+0x172*0x7+-0x1be9*-0x1));const _0x369f47=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x56ebb5,_0x369f47-(0x23fa+0x1e*0x127+-0x468b)),this['subLayerEn'+'abled']['splice'](_0x56ebb5,-0x1dfd+0x7*-0x1fa+0x35f*0xd,!(-0xe3*0x10+0x1*0xc5f+0x1d1)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0xa32+0xb58+-0x3*0x72e),this['fire']('add',_0x1c1c91);}['removeOpaq'+'ue'](_0x26c834){for(let _0x4b0383=0x674+0xa*0x1a5+-0x16e6,_0x413a9f=this['layerList']['length'];_0x4b0383<_0x413a9f;_0x4b0383++)if(this['layerList'][_0x4b0383]===_0x26c834&&!this['subLayerLi'+'st'][_0x4b0383]){this['layerList']['splice'](_0x4b0383,0x16c5+0x1815+-0x2ed9),this['subLayerLi'+'st']['splice'](_0x4b0383,-0x2*-0x30b+-0x115c+0xb47),_0x413a9f--,this['_updateOpa'+'queOrder'](_0x4b0383,_0x413a9f-(0xc1+-0x3*-0xc4c+-0x4*0x969)),this['subLayerEn'+'abled']['splice'](_0x4b0383,-0x1573+0xc74*0x2+-0x374),this['_dirty']=!(0x186b+0x1ca*-0x10+0x435),this['layerList']['indexOf'](_0x26c834)<0x2*-0xccd+0x18cf+0xcb&&this['fire']('remove',_0x26c834);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x4bc9fd){this['_isSublaye'+'rAdded'](_0x4bc9fd,!(0x27*-0x7f+-0x95f*0x1+-0x4*-0x72e))||(this['layerList']['push'](_0x4bc9fd),this['_transpare'+'ntOrder'][_0x4bc9fd['id']]=this['subLayerLi'+'st']['push'](!(0x973+-0x2*-0x125b+0x12f*-0x27))-(-0x4e0+-0x1a6a+-0x1*-0x1f4b),this['subLayerEn'+'abled']['push'](!(-0x214d+0xf46+0x1207)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1d1d+0x1af4+0x229*0x1),this['fire']('add',_0x4bc9fd));}['insertTran'+'sparent'](_0x55f798,_0x38246e){if(this['_isSublaye'+'rAdded'](_0x55f798,!(-0xac6+0x2*-0xb5d+0x2180)))return;this['layerList']['splice'](_0x38246e,0x9a*0x1e+0x1*-0xead+-0x35f*0x1,_0x55f798),this['subLayerLi'+'st']['splice'](_0x38246e,0x1*0xa8b+-0x1b70+0xad*0x19,!(0xe8+-0x205d+0x1f75));const _0x2fb62d=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x38246e,_0x2fb62d-(0x1010+-0x455+-0x2*0x5dd)),this['subLayerEn'+'abled']['splice'](_0x38246e,0x154+-0x14dd+0x3*0x683,!(-0x1a45+0x136f+-0x36b*-0x2)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x24e5+-0x9*-0x14e+0x1*0x1927),this['fire']('add',_0x55f798);}['removeTran'+'sparent'](_0x51bea5){for(let _0x5f2dc7=0x2*0x1235+-0x1*-0x2337+0x47a1*-0x1,_0x327f58=this['layerList']['length'];_0x5f2dc7<_0x327f58;_0x5f2dc7++)if(this['layerList'][_0x5f2dc7]===_0x51bea5&&this['subLayerLi'+'st'][_0x5f2dc7]){this['layerList']['splice'](_0x5f2dc7,0x1f8e+0x51d+-0x24aa),this['subLayerLi'+'st']['splice'](_0x5f2dc7,0xe14+-0x1ddc+0x3*0x543),_0x327f58--,this['_updateTra'+'nsparentOr'+'der'](_0x5f2dc7,_0x327f58-(0x24ee+-0x4b0*0x6+-0x3*0x2ef)),this['subLayerEn'+'abled']['splice'](_0x5f2dc7,-0x3d*-0x85+-0x1be*0x2+-0x1c34),this['_dirty']=!(-0x96a+-0x31f+0xc89*0x1),this['layerList']['indexOf'](_0x51bea5)<0x1*0x1279+0x1*0x18c1+-0x2b3a&&this['fire']('remove',_0x51bea5);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0xacd152){return this['layerOpaqu'+'eIndexMap']['get'](_0xacd152)??-(-0x2*-0x1161+-0x3*0xb03+-0x1b8);}['getTranspa'+'rentIndex'](_0x384028){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x384028)??-(-0x95b+-0x1*-0x877+-0xe5*-0x1);}['isEnabled'](_0x6c8c3,_0x43d585){if(_0x6c8c3['enabled']){const _0x5d6843=_0x43d585?this['getTranspa'+'rentIndex'](_0x6c8c3):this['getOpaqueI'+'ndex'](_0x6c8c3);if(_0x5d6843>=0x16a7+0x13*-0xb+0x1*-0x15d6)return this['subLayerEn'+'abled'][_0x5d6843];}return!(-0x43c*-0x1+-0xe6e*0x1+0xa33);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x55cd51=-0xf*-0xc1+0x1*-0x902+-0x13*0x1f;_0x55cd51<this['layerList']['length'];_0x55cd51++){const _0x370e07=this['layerList'][_0x55cd51];this['layerIdMap']['set'](_0x370e07['id'],_0x370e07),this['layerNameM'+'ap']['set'](_0x370e07['name'],_0x370e07),(this['subLayerLi'+'st'][_0x55cd51]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x370e07,_0x55cd51);}}['getLayerBy'+'Id'](_0x5ae352){return this['layerIdMap']['get'](_0x5ae352)??null;}['getLayerBy'+'Name'](_0x574e3a){return this['layerNameM'+'ap']['get'](_0x574e3a)??null;}['_updateOpa'+'queOrder'](_0x5b27de,_0x99c149){for(let _0x4f4a69=_0x5b27de;_0x4f4a69<=_0x99c149;_0x4f4a69++)this['subLayerLi'+'st'][_0x4f4a69]===!(0x1*0x125f+-0x2f*0x12+0x8*-0x1e2)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x4f4a69]['id']]=_0x4f4a69);}['_updateTra'+'nsparentOr'+'der'](_0x3b15ce,_0x3ed588){for(let _0x27136c=_0x3b15ce;_0x27136c<=_0x3ed588;_0x27136c++)this['subLayerLi'+'st'][_0x27136c]===!(-0x702+0x1989+0x1*-0x1287)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x27136c]['id']]=_0x27136c);}['_sortLayer'+'sDescendin'+'g'](_0x10403f,_0x55a223,_0x4a6864){let _0x16d817=-(-0x1fce*0x1+-0x5e2*0x6+0x431b),_0x3cef5c=-(0x182*-0x2+0x229+0x2*0x6e);for(let _0x1fbf8a=0x2*0x77e+-0xc6*-0x30+-0x341c,_0xa63369=_0x10403f['length'];_0x1fbf8a<_0xa63369;_0x1fbf8a++){const _0x620276=_0x10403f[_0x1fbf8a];_0x4a6864['hasOwnProp'+'erty'](_0x620276)&&(_0x16d817=Math['max'](_0x16d817,_0x4a6864[_0x620276]));}for(let _0x1df515=0x1515+0x1961+-0x13*0x272,_0x48a7a6=_0x55a223['length'];_0x1df515<_0x48a7a6;_0x1df515++){const _0x1bd2c1=_0x55a223[_0x1df515];_0x4a6864['hasOwnProp'+'erty'](_0x1bd2c1)&&(_0x3cef5c=Math['max'](_0x3cef5c,_0x4a6864[_0x1bd2c1]));}return _0x16d817===-(-0x18a3+0x12*0x16b+0x71*-0x2)&&_0x3cef5c!==-(-0xea9+-0x3fa*-0x3+0x2bc)?-0x4d1*0x7+0x1*0x2e3+0x1ed5*0x1:_0x3cef5c===-(-0x2c*-0x95+-0x3*-0x51+-0x1*0x1a8e)&&_0x16d817!==-(-0x7a3+-0xf08+0xb56*0x2)?-(-0x1621+-0x85*-0x45+0xdb7*-0x1):_0x3cef5c-_0x16d817;}['sortTransp'+'arentLayer'+'s'](_0xd36940,_0x93c390){return this['_sortLayer'+'sDescendin'+'g'](_0xd36940,_0x93c390,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x562352,_0x24f654){return this['_sortLayer'+'sDescendin'+'g'](_0x562352,_0x24f654,this['_opaqueOrd'+'er']);}}const dc=new D(),wi={'bias':0x0,'normalBias':0x0},ho=new ie(),pf={'r':0x0,'g':0x1,'b':0x2,'a':0x3},fu={'directional':ve,'omni':Ke,'point':Ke,'spot':Ze},lA=[[new re(0x3*-0x87d+-0x8fe*-0x4+0x1*-0xa81,0x1721+-0x2f1+-0x1430,-0x15ae+0x92c+0xc83,0x72*-0x51+-0xa67*0x1+0x295*0x12)],[new re(-0x7*-0x153+0x71*-0x3+-0x7f2,-0x1527+0x19e8+0x1*-0x4c1,-0x771+-0x5*0x5b3+0x10*0x23f+0.5,-0x73*0x19+-0x2471+-0x2fac*-0x1+0.5),new re(-0x1*-0xea2+-0x1*0x2122+-0x40*-0x4a,-0x773*0x2+-0x1d5*0x1+0x10bb*0x1+0.5,0x3*0xab9+0xc89+0x1*-0x2cb4+0.5,-0x1*0xddb+-0x1f92+-0x191*-0x1d+0.5)],[new re(-0x23de+-0x3*-0x3b9+0x1*0x18b3,0x664*0x4+-0xf0d+-0x3*0x381,-0x16*0x19a+-0x6*0x505+0x415a+0.5,-0x1843+-0x1164+0x29a7*0x1+0.5),new re(0x1668+0x5d5*0x1+0x1c3d*-0x1,0x1850*0x1+0x3*0xc2e+-0x3cda+0.5,0x1918+-0x2346+-0x2*-0x517+0.5,-0xabf*0x3+0x2c8*0x8+0x9fd*0x1+0.5),new re(-0x4a5*-0x5+-0xf9d+-0x1*0x79c+0.5,0x1a4+-0x1f29+-0x1*-0x1d85,-0x2d5*-0x5+-0x2fe+-0xb2b+0.5,-0x500*0x5+-0x1*0xf8+0x19f8+0.5)],[new re(0x86e*0x1+-0x1826+0xfb8,-0x259c+0x7*-0x57b+0x9*0x871,-0x1c9f+-0x24b+0x1eea+0.5,-0x1*0x2362+0x1741+-0xc21*-0x1+0.5),new re(-0xfe*-0x4+0x4ed+-0x2f7*0x3,-0x1*-0x131f+0x633+-0x1952+0.5,-0xd2f+0x215a+-0x142b+0.5,-0x5ba+0x10a9*-0x1+0x1663+0.5),new re(0x664*0x4+-0x4f*0x55+-0x1*-0xab+0.5,-0x3*-0xbab+0xf62+-0x1*0x3263,-0x17*0x95+0x1*0x9d5+0x38e+0.5,0x42*0x6d+-0x185*0xe+-0x6d4+0.5),new re(-0x54b*0x1+0x171*0x1+-0x3a*-0x11+0.5,-0x23ce+0x1*0x210e+-0x160*-0x2+0.5,0x192d+-0x23db+-0x2*-0x557+0.5,-0x70e+0x12d9+0xbcb*-0x1+0.5)]],cA={'rrr':0x1,'ggg':0x2,'bbb':0x4,'aaa':0x8,'rgb':0x7};let hA=-0x536+0x1326+0xdf0*-0x1;class dA{constructor(_0x3d5481,_0x325568,_0x482e9f){this['light']=_0x482e9f,this['camera']=_0x3d5481,this['shadowCame'+'ra']=Cv['createShad'+'owCamera'](_0x482e9f['_shadowTyp'+'e'],_0x482e9f['_type'],_0x325568),this['shadowMatr'+'ix']=new te(),this['shadowView'+'port']=new re(0x26bd+0xf*-0x217+-0x764,-0x2*-0xa13+0xab1+-0x1ed7,0xf2d+0x23f3+0x1*-0x331f,0xb5a+-0xc1*0x1e+0x5*0x241),this['shadowScis'+'sor']=new re(0x6df*-0x3+-0x350+0x31*0x7d,-0xffd+-0x18bd+0x28ba,0x1*0x2399+0x522+-0x28ba,0x9*-0x112+0x1*-0x2291+0x7b*0x5c),this['projection'+'Compensati'+'on']=-0x9fc+-0x36e+-0x11*-0xca,this['face']=_0x325568,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x140a2b=>{_0x140a2b['defaultUni'+'formBuffer']['destroy'](),_0x140a2b['destroy']();}),this['viewBindGr'+'oups']['length']=0x1a39+0xef8+-0x2931;}get['shadowBuff'+'er'](){const _0x501dbc=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x501dbc?this['light']['_isPcf']?_0x501dbc['depthBuffe'+'r']:_0x501dbc['colorBuffe'+'r']:null;}}class pl{constructor(_0x3dc8f3,_0x3fd5b4){h(this,'layers',new Set()),h(this,'clusteredL'+'ighting'),h(this,'shadowDept'+'hState',Yt['DEFAULT']['clone']()),h(this,'clusteredF'+'lags',0x1b8a+0x13*0x161+-0x35bd*0x1),h(this,'clusteredD'+'ata',new Uint32Array(-0x1834+-0x49*-0x53+0x7*0x14)),h(this,'clusteredD'+'ata16',new Uint16Array(this['clusteredD'+'ata']['buffer'])),h(this,'_evtDevice'+'Restored',null),(this['device']=_0x3dc8f3,this['clusteredL'+'ighting']=_0x3fd5b4,this['id']=hA++,this['_evtDevice'+'Restored']=_0x3dc8f3['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this),this['_type']=ve,this['_color']=new ie(0x4*-0x62f+-0x2011+0x38cd+0.8,0x86*0x49+0x74e+0x3cb*-0xc+0.8,-0x2f7+-0x10be+0x13b5+0.8),this['_intensity']=-0x137*0xd+-0x15fe+0x25ca,this['_affectSpe'+'cularity']=!(-0x2688+-0x1541+0x3bc9),this['_luminance']=0xee*0x1f+0x224f+-0x3*0x150b,this['_castShado'+'ws']=!(-0xc1*0x22+0x2622*0x1+-0x7*0x1c9),this['_enabled']=!(-0x4b6+0x20b2+-0x1bfb),this['_mask']=Ss,this['isStatic']=!(-0xa5e+0x18be+0x1*-0xe5f),this['key']=0x13*-0xc2+-0x1*0x23a5+0x320b,this['bakeDir']=!(-0x1f0d*-0x1+0x1d90+0x3b*-0x107),this['bakeNumSam'+'ples']=0x7fa+-0x4*-0x5e7+-0x1f95,this['bakeArea']=0x13cc+0x18dd+-0x2ca9,this['attenuatio'+'nStart']=-0x102e+-0x12f9+0x2331,this['attenuatio'+'nEnd']=0x803*0x3+0x1*0x14cf+-0x172*0x1f,this['_falloffMo'+'de']=Qp,this['_shadowTyp'+'e']=$s,this['_vsmBlurSi'+'ze']=-0x67*-0x56+-0x5c*0x1a+-0x1*0x1937,this['vsmBlurMod'+'e']=em,this['vsmBias']=(-0xd76*0x1+0x54e+0x828+0.01)*(0xf41+-0x9d9+-0x568+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=0xc5+-0x1337*-0x1+-0xf*0x155,this['_cookieFal'+'loff']=!(0x233a+-0x1d30+-0x60a),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(-0x12a1+0xc7*-0x1d+0x2930),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(0x1dca+-0xd*-0xbf+-0x277b),this['_cookieTra'+'nsformSet']=!(-0x3*0x99b+0x1a*-0x16d+-0x20f2*-0x2),this['_cookieOff'+'setSet']=!(0x22f4+0x2010+-0x4303),this['_innerCone'+'Angle']=0x1107+0xab3+0x1*-0x1b92,this['_outerCone'+'Angle']=-0x1ce7*0x1+0x890+0x1484,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=0x45*0x65+0x9ae+-0x24e6,this['_cascadeBl'+'end']=0x22e7+0x1080+-0x3367,this['cascadeDis'+'tribution']=-0x3*-0xbbd+0x1*-0x1767+-0xbd0+0.5,this['_shape']=Ys,this['_colorLine'+'ar']=new Float32Array(-0x1*0x1b27+0x511*0x2+0x1108),this['_updateLin'+'earColor'](),this['_position']=new D(0xb65*-0x1+0x2681+0x2*-0xd8e,0x66*-0x4a+0x204b*-0x1+-0x5*-0xc5b,0x22cf+0x101*-0x21+-0x1ae),this['_direction']=new D(0x599*0x1+0x1d6*-0x14+0x1f*0x101,0x1525+0x126*0x17+-0x2f8f,-0x19f+0x3*-0x988+0x1c7*0x11),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(-0x1690+-0x22*0xae+0x2e60)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(-0x26cb+0xe0b+0x18c0),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=-0x51b*-0x7+0x885*-0x2+0x1*-0x128b,this['_shadowRes'+'olution']=0x7dc+0x6*0x3b9+-0x1*0x1a32,this['_shadowBia'+'s']=-(0x1520+0xf06+-0x2426+0.0005),this['_shadowInt'+'ensity']=-0x1c*-0x49+-0x1*0x19ff+0x1204,this['_normalOff'+'setBias']=-0x18d9+-0x1d47+0x4*0xd88,this['shadowUpda'+'teMode']=lm,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(-0xad8+-0x1b59+0x2*0x1319),this['_isPcf']=!(-0x534+0x1439*-0x1+0x196d),this['_softShado'+'wParams']=new Float32Array(-0x1*0x1c12+0x2241+-0x1*0x62b),this['shadowSamp'+'les']=0x26e1+-0xc7*0x17+0x430*-0x5,this['shadowBloc'+'kerSamples']=-0x26e5+-0x8f4+-0x37*-0xdf,this['penumbraSi'+'ze']=0x4ab*0x5+0x234d*0x1+-0x3aa3,this['penumbraFa'+'lloff']=-0x31c+0x1b6c+-0x379*0x7,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x1a49+-0x3c3+0x1e0d),this['atlasVersi'+'on']=0x7c3*0x5+-0x59*0x7+0x610*-0x6,this['atlasSlotI'+'ndex']=0x2*-0xdc9+0xbf*-0x25+0xb09*0x5,this['atlasSlotU'+'pdated']=!(-0xf75+0x2*-0xe0b+-0xae3*-0x4),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(0x45*-0x75+-0x12fd*0x2+-0x172c*-0x3),this['maxScreenS'+'ize']=0x2*-0xa39+-0x1*-0x4eb+0xf87,this['_updateSha'+'dowBias']());}['destroy'](){var _0x589559;(_0x589559=this['_evtDevice'+'Restored'])==null||_0x589559['off'](),this['_evtDevice'+'Restored']=null,this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['onDeviceRe'+'stored'](){this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr);}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x53577a=0x349*0x1+0x7f0+-0x11*0xa9;_0x53577a<this['_renderDat'+'a']['length'];_0x53577a++)this['_renderDat'+'a'][_0x53577a]['destroy']();this['_renderDat'+'a']['length']=-0x3*0xc24+0xfc9+0x14a3;}}['addLayer'](_0x146308){this['layers']['add'](_0x146308);}['removeLaye'+'r'](_0x43fd41){this['layers']['delete'](_0x43fd41);}set['shadowSamp'+'les'](_0xb0cf07){this['_softShado'+'wParams'][0x997*-0x2+-0x308+0xb1b*0x2]=_0xb0cf07;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][-0x1db7+-0x46f+-0x2f*-0xba];}set['shadowBloc'+'kerSamples'](_0x366a5b){this['_softShado'+'wParams'][-0x1*-0x23ae+-0xb4f+-0x185e]=_0x366a5b;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][-0x12ad*-0x2+-0x1*0x10c5+0x36e*-0x6];}set['shadowBias'](_0x378388){this['_shadowBia'+'s']!==_0x378388&&(this['_shadowBia'+'s']=_0x378388,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x496f16){(!this['cascades']||this['numCascade'+'s']!==_0x496f16)&&(this['cascades']=lA[_0x496f16-(0x19*-0x14f+0x1075*-0x1+0x312d)],this['_shadowMat'+'rixPalette']=new Float32Array(0x1383+0x409*-0x3+0xe5*-0x8),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(-0x8b3+-0x1507+-0x3*-0x9ea),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x2faf04){this['_cascadeBl'+'end']!==_0x2faf04&&(this['_cascadeBl'+'end']=_0x2faf04,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x589295){this['_shadowMap']!==_0x589295&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x589295);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x7cadd8){this['_mask']!==_0x7cadd8&&(this['_mask']=_0x7cadd8,this['updateKey'](),this['updateClus'+'teredFlags']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x2b4049=this['_type'];return _0x2b4049===ve?this['numCascade'+'s']:_0x2b4049===Ke?-0x14a+-0x175d+0x18ad:-0x5c6*0x1+-0x1463+0x1a2a;}set['type'](_0x3d14b8){if(this['_type']===_0x3d14b8)return;this['_type']=_0x3d14b8,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x383bb7=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x383bb7;}get['type'](){return this['_type'];}set['shape'](_0x4525ae){if(this['_shape']===_0x4525ae)return;this['_shape']=_0x4525ae,this['_destroySh'+'adowMap'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x42e4a2=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x42e4a2;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x148793){this['_usePhysic'+'alUnits']!==_0x148793&&(this['_usePhysic'+'alUnits']=_0x148793,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x150abd){if(this['_shadowTyp'+'e']===_0x150abd)return;let _0x1a2844=qi['get'](_0x150abd);_0x1a2844||(_0x150abd=$s);const _0x3c4be4=this['device'];_0x150abd===al&&!_0x3c4be4['textureFlo'+'atRenderab'+'le']&&!_0x3c4be4['textureHal'+'fFloatRend'+'erable']&&(_0x150abd=$s),this['_type']===Ke&&_0x150abd!==tv&&_0x150abd!==$s&&_0x150abd!==sv&&_0x150abd!==iv&&_0x150abd!==al&&(_0x150abd=$s),_0x150abd===Jp&&(!_0x3c4be4['textureFlo'+'atRenderab'+'le']||!_0x3c4be4['textureFlo'+'atFilterab'+'le'])&&(_0x150abd=au),_0x150abd===au&&!_0x3c4be4['textureHal'+'fFloatRend'+'erable']&&(_0x150abd=$s),_0x1a2844=qi['get'](_0x150abd),this['_isVsm']=(_0x1a2844==null?void(0x238*-0x2+0x1d7e+-0x190e):_0x1a2844['vsm'])??!(-0xa*0x1+-0x45e+0x1*0x469),this['_isPcf']=(_0x1a2844==null?void(0x11*0x15+0x181a+-0x6b*0x3d):_0x1a2844['pcf'])??!(0x17c*0x7+-0x5c*-0x59+-0x1*0x2a5f),this['_shadowTyp'+'e']=_0x150abd,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x430f91){this['_enabled']!==_0x430f91&&(this['_enabled']=_0x430f91,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x1b6f7e){this['_castShado'+'ws']!==_0x1b6f7e&&(this['_castShado'+'ws']=_0x1b6f7e,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==fi&&this['_mask']!==0x5aa+0x66b*-0x3+0xd97;}set['shadowInte'+'nsity'](_0x3a1ae1){this['_shadowInt'+'ensity']!==_0x3a1ae1&&(this['_shadowInt'+'ensity']=_0x3a1ae1,this['updateKey']());}get['shadowInte'+'nsity'](){return this['_shadowInt'+'ensity'];}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===fi;}set['shadowReso'+'lution'](_0x41bacd){this['_shadowRes'+'olution']!==_0x41bacd&&(this['_type']===Ke?_0x41bacd=Math['min'](_0x41bacd,this['device']['maxCubeMap'+'Size']):_0x41bacd=Math['min'](_0x41bacd,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x41bacd,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0xe73718){this['_vsmBlurSi'+'ze']!==_0xe73718&&(_0xe73718%(-0x1*-0xe95+0x1701+0x172*-0x1a)===-0x225a+-0x3*0xa31+-0x40ed*-0x1&&_0xe73718++,this['_vsmBlurSi'+'ze']=_0xe73718);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x119d33){if(this['_normalOff'+'setBias']!==_0x119d33){const _0xa9b9f7=!this['_normalOff'+'setBias']&&_0x119d33||this['_normalOff'+'setBias']&&!_0x119d33;this['_normalOff'+'setBias']=_0x119d33,_0xa9b9f7&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0xdf7d90){this['_falloffMo'+'de']!==_0xdf7d90&&(this['_falloffMo'+'de']=_0xdf7d90,this['updateKey'](),this['updateClus'+'teredFlags']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x189422){this['_innerCone'+'Angle']!==_0x189422&&(this['_innerCone'+'Angle']=_0x189422,this['_innerCone'+'AngleCos']=Math['cos'](_0x189422*Math['PI']/(0x12b2+0x99d+-0x1*0x1b9b)),this['updateClus'+'terData'](!(0x493*0x4+-0xe3e+-0x40d),!(-0xff8*-0x1+-0x46*-0x68+0x58d*-0x8)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x6db9ec){this['_outerCone'+'Angle']!==_0x6db9ec&&(this['_outerCone'+'Angle']=_0x6db9ec,this['_updateOut'+'erAngle'](_0x6db9ec),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x2ef91f){this['_penumbraS'+'ize']=_0x2ef91f,this['_softShado'+'wParams'][0x8e*0x1f+-0x95*0x22+0x6f*0x6]=_0x2ef91f;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x5027f7){this['_softShado'+'wParams'][-0xc69+0x1a*0x3b+-0x337*-0x2]=_0x5027f7;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][0x8d9*0x1+-0x13*0x2f+0x559*-0x1];}['_updateOut'+'erAngle'](_0x4479bc){const _0x1eb844=_0x4479bc*Math['PI']/(0x1acb+0x3*-0x9bb+0x31a);this['_outerCone'+'AngleCos']=Math['cos'](_0x1eb844),this['_outerCone'+'AngleSin']=Math['sin'](_0x1eb844),this['updateClus'+'terData'](!(0x248d+0xf7f+0x1159*-0x3),!(0x6c6+0x181b+-0x1f*0xff));}set['intensity'](_0x45de7a){this['_intensity']!==_0x45de7a&&(this['_intensity']=_0x45de7a,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x104275){this['_type']===ve&&(this['_affectSpe'+'cularity']=_0x104275,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x9efa5f){this['_luminance']!==_0x9efa5f&&(this['_luminance']=_0x9efa5f,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new te()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new re(-0x1d7e+-0x2676*-0x1+-0x8f8,-0x4d*-0x23+0xb3f*0x1+-0x15c6,0x1*-0x256b+-0x4b8+0x2a24,0x2*-0x5a2+0x5ea*-0x4+0x1*0x22ed)),this['_atlasView'+'port'];}set['cookie'](_0x3fd7bb){this['_cookie']!==_0x3fd7bb&&(this['_cookie']=_0x3fd7bb,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x2a1155){this['_cookieFal'+'loff']!==_0x2a1155&&(this['_cookieFal'+'loff']=_0x2a1155,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x108646){if(this['_cookieCha'+'nnel']!==_0x108646){if(_0x108646['length']<0x496+-0xa41+0x5ae*0x1){const _0x52ae86=_0x108646['charAt'](_0x108646['length']-(-0x20ff+0xc8c+-0x176*-0xe)),_0x4f430f=0x6*-0x1ad+-0xe96+0x18a7-_0x108646['length'];for(let _0x43be16=0x495+-0x71*0x30+0x109b;_0x43be16<_0x4f430f;_0x43be16++)_0x108646+=_0x52ae86;}this['_cookieCha'+'nnel']=_0x108646,this['updateKey'](),this['updateClus'+'teredFlags']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x26eee4){this['_cookieTra'+'nsform']!==_0x26eee4&&(this['_cookieTra'+'nsform']=_0x26eee4,this['_cookieTra'+'nsformSet']=!!_0x26eee4,_0x26eee4&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new J(),this['_cookieOff'+'setSet']=!(-0x971*-0x2+0x2481+-0x3762)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x1e32dd){if(this['_cookieOff'+'set']===_0x1e32dd)return;!!(this['_cookieTra'+'nsformSet']||_0x1e32dd)&&!_0x1e32dd&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](-0x10b1*0x2+0x4*-0x388+0x2f82,0x1267*0x1+0x11cc+-0x2433):this['_cookieOff'+'set']=_0x1e32dd,this['_cookieOff'+'setSet']=!!_0x1e32dd,_0x1e32dd&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new re(0x8*0x475+-0x126d+-0x1*0x113a,0xa*0x2dd+-0x16*0x1b1+0x895*0x1,0x2663+-0x5*0x295+-0x197a,-0x1*0xe74+-0xba4+0x1a18),this['_cookieTra'+'nsformSet']=!(-0x8b*0x2a+-0x451+0x1b20)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===ve&&this['_enabled'],this['maxScreenS'+'ize']=0xea7*0x2+-0x2c3+-0x1a8b,this['atlasViewp'+'ortAllocat'+'ed']=!(-0xd*0x1e8+0x1b1d+-0x254*0x1),this['atlasSlotU'+'pdated']=!(-0x1d9d+0x8*0xe+0xa*0x2eb);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr),this['shadowUpda'+'teOverride'+'s']){for(let _0x53962c=0x253f+0x1*-0x9fb+0x1*-0x1b44;_0x53962c<this['shadowUpda'+'teOverride'+'s']['length'];_0x53962c++)this['shadowUpda'+'teOverride'+'s'][_0x53962c]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x53962c]=xr);}}['getRenderD'+'ata'](_0x52996f,_0x5bd341){for(let _0x42ee63=0x25d1+-0xa34+-0x1b9d;_0x42ee63<this['_renderDat'+'a']['length'];_0x42ee63++){const _0x8957b8=this['_renderDat'+'a'][_0x42ee63];if(_0x8957b8['camera']===_0x52996f&&_0x8957b8['face']===_0x5bd341)return _0x8957b8;}const _0x625dc5=new dA(_0x52996f,_0x5bd341,this);return this['_renderDat'+'a']['push'](_0x625dc5),_0x625dc5;}['clone'](){const _0x5accd6=new pl(this['device'],this['clusteredL'+'ighting']);return _0x5accd6['type']=this['_type'],_0x5accd6['setColor'](this['_color']),_0x5accd6['intensity']=this['_intensity'],_0x5accd6['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x5accd6['luminance']=this['_luminance'],_0x5accd6['castShadow'+'s']=this['castShadow'+'s'],_0x5accd6['_enabled']=this['_enabled'],_0x5accd6['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x5accd6['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x5accd6['falloffMod'+'e']=this['_falloffMo'+'de'],_0x5accd6['shadowType']=this['_shadowTyp'+'e'],_0x5accd6['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x5accd6['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x5accd6['vsmBias']=this['vsmBias'],_0x5accd6['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x5accd6['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x5accd6['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x5accd6['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x5accd6['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x5accd6['numCascade'+'s']=this['numCascade'+'s'],_0x5accd6['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x5accd6['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x5accd6['shape']=this['_shape'],_0x5accd6['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x5accd6['shadowBias']=this['shadowBias'],_0x5accd6['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x5accd6['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x5accd6['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x5accd6['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x5accd6['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x5accd6['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x5accd6['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x5accd6['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x5accd6;}static['getLightUn'+'itConversi'+'on'](_0x45a2a1,_0x1983dd=Math['PI']/(-0xa2a*0x1+0x1dc8+-0x139a),_0x4326ae=0x1723+0x1*-0x24b8+0xd95){switch(_0x45a2a1){case Ze:{const _0x47aaf0=Math['cos'](_0x1983dd),_0x262239=Math['cos'](_0x4326ae);return(0x1dcb+0x21a3+-0x3f6c)*Math['PI']*(0xf9f*0x1+0x291*0xd+-0x30fb-_0x262239+(_0x262239-_0x47aaf0)/(-0x51*-0xe+-0x1*-0x1aff+-0x1f6b));}case Ke:return(-0x2433+0xb58+0x18df)*Math['PI'];case ve:return-0xf8b*-0x2+-0x566+-0x19*0x107;}}['_getUnifor'+'mBiasValue'+'s'](_0x3f5e87){const _0x2f5cb9=_0x3f5e87['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Ke:wi['bias']=this['shadowBias'],wi['normalBias']=this['_normalOff'+'setBias'];break;case Ze:this['_isVsm']?wi['bias']=-(-0x2*-0x525+0x5d4*0x2+-0x15f2*0x1+0.00001)*(-0xc0a+-0x16cb+0x22e9):wi['bias']=this['shadowBias']*(-0x1*-0x6ec+0x1*-0xe45+0x76d),wi['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(0xddd+-0x1*-0x791+0x1567*-0x1)):this['_normalOff'+'setBias'];break;case ve:this['_isVsm']?wi['bias']=-(-0x1ff0+-0xd13*0x1+0x3*0xf01+0.00001)*(-0x1*0x1c8f+0x25a3+-0x900):wi['bias']=this['shadowBias']/_0x2f5cb9*(-0x1*0x24cb+0xf*0x283+-0x7e),wi['normalBias']=this['_isVsm']?this['vsmBias']/(_0x2f5cb9/(-0xbe8+-0x69+0x1*0xc58)):this['_normalOff'+'setBias'];break;}return wi;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0xbc30da){if(this['_type']===Ze){const _0x334e17=this['attenuatio'+'nEnd'],_0x3ad839=this['_outerCone'+'Angle'],_0x39dd08=this['_outerCone'+'AngleCos'],_0xe79f17=this['_node'];dc['copy'](_0xe79f17['up']),_0x3ad839>0xe16+0x6*0x5a3+0x1*-0x2fbb?(_0xbc30da['radius']=_0x334e17*this['_outerCone'+'AngleSin'],dc['mulScalar'](-_0x334e17*_0x39dd08)):(_0xbc30da['radius']=_0x334e17/((-0x16cd*0x1+0x1e2c+-0x75d)*_0x39dd08),dc['mulScalar'](-_0xbc30da['radius'])),_0xbc30da['center']['add2'](_0xe79f17['getPositio'+'n'](),dc);}else this['_type']===Ke&&(_0xbc30da['center']=this['_node']['getPositio'+'n'](),_0xbc30da['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x17e08e){if(this['_type']===Ze){const _0x1d1f40=this['attenuatio'+'nEnd'],_0x49417c=this['_outerCone'+'Angle'],_0x82915a=this['_node'],_0x40aabf=Math['abs'](Math['sin'](_0x49417c*Y['DEG_TO_RAD'])*_0x1d1f40);_0x17e08e['center']['set'](-0x1*-0x15b9+-0xa36+-0x1*0xb83,-_0x1d1f40*(-0x1387*-0x1+0x2db*0x5+-0x21ce+0.5),0x83*0x25+-0x1b9b+-0x25*-0x3c),_0x17e08e['halfExtent'+'s']['set'](_0x40aabf,_0x1d1f40*(-0x1*-0x1365+0x2591+0x13d*-0x2e+0.5),_0x40aabf),_0x17e08e['setFromTra'+'nsformedAa'+'bb'](_0x17e08e,_0x82915a['getWorldTr'+'ansform'](),!(-0x62b*-0x1+-0x1e00+0x17d5));}else this['_type']===Ke&&(_0x17e08e['center']['copy'](this['_node']['getPositio'+'n']()),_0x17e08e['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Ke&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=-0x947+0x1dac+-0xe3*0x17,this['shadowDept'+'hState']['depthBiasS'+'lope']=-0x1*-0x397+0x1cf3+-0x208a;else{const _0x5189bf=this['shadowBias']*-(0x610+0x23cd+-0x25f5);this['shadowDept'+'hState']['depthBias']=_0x5189bf,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x5189bf;}}['_updateLin'+'earColor'](){let _0x4b1e18=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x4b1e18=this['_luminance']/pl['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*Y['DEG_TO_RAD'],this['_innerCone'+'Angle']*Y['DEG_TO_RAD']));const _0x49c918=this['_color'],_0x4d9c11=this['_colorLine'+'ar'];_0x4b1e18>=0x147+0xb*-0x167+-0x1*-0xe27?ho['linear'](_0x49c918)['mulScalar'](_0x4b1e18):ho['copy'](_0x49c918)['mulScalar'](_0x4b1e18)['linear'](),_0x4d9c11[0x1de7+-0xbb5*0x1+0x89*-0x22]=ho['r'],_0x4d9c11[0x4*0x89c+-0x21f+0x2*-0x1028]=ho['g'],_0x4d9c11[-0x1d6c+0x12e3*0x1+-0x1*-0xa8b]=ho['b'],this['updateClus'+'terData'](!(-0x19*0x119+0xacd+0xc*0x163));}['setColor'](){arguments['length']===0xe7b+-0x10f*-0x3+0x11a7*-0x1?this['_color']['set'](arguments[-0x6da*-0x2+-0x3c*0x8b+0x12e0]['r'],arguments[0x7*-0x13f+-0x2*-0xc67+0x1015*-0x1]['g'],arguments[0xb2a+0x1dc1+0x19*-0x1a3]['b']):arguments['length']===-0xa70+-0x1e4e+-0x28c1*-0x1&&this['_color']['set'](arguments[0xa3a*0x2+0x204*0x10+-0x34b4],arguments[0xd62+0x12*-0x4a+-0x82d],arguments[0x11*0x185+0x107a+-0x2a4d]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x1df559=>{_0x1df559['hasLight'](this)&&_0x1df559['markLights'+'Dirty']();});}['updateKey'](){let _0xf85554=this['_type']<<0x2195+-0x1*-0x1051+-0x5*0x9f5|this['_shadowTyp'+'e']<<0x2*0xda6+0x3*0x5d9+-0x2cbe|this['_falloffMo'+'de']<<-0xce2+-0x785+0x147e|(this['_normalOff'+'setBias']!==0x1a23+-0x2dd+0x12*-0x14b?-0x170d+0xbf7+-0x11*-0xa7:-0xc64+-0x21d6+-0xc2*-0x3d)<<-0x12ae*-0x1+0x17d2+0x59*-0x7a|(this['_cookie']?0x3*-0x51+-0x7d5+0x8c9*0x1:0x18*0x161+0x7cf*0x3+0x111*-0x35)<<0x18b3+0x3*-0xa67+0x697|(this['_cookieFal'+'loff']?0x5d2+-0x1*0x9a1+-0x3d*-0x10:0x4f4+-0x21f1*-0x1+-0x26e5)<<-0x889+-0x1*-0x21d7+-0x2*0xc9d|pf[this['_cookieCha'+'nnel']['charAt'](-0x7af+-0x1516+0x1*0x1cc5)]<<0x70d+-0x1e83+0x2f1*0x8|(this['_cookieTra'+'nsform']?0x1999*-0x1+-0x176d+0x3107:-0xa67+-0x2*0x765+-0x1931*-0x1)<<-0x1*0x16f9+0x1d*-0x19+0x19da|this['_shape']<<0x4f4*0x5+-0x8*0x109+-0x1072|(this['numCascade'+'s']>0x1d*0x71+-0x1e1f*0x1+-0x5c6*-0x3?0xb*-0x12f+-0x20ee+0x2df4:-0x222f+-0x226a+0x4499)<<-0x17e8+0x1119*-0x1+-0xce*-0x33|(this['_cascadeBl'+'end']>-0x1cd*-0xa+0xcfc+-0x1efe?0x179*0x17+0x3f3+-0x25d1:-0x364+0x525*0x1+-0x1c1)<<-0x1b53+-0x8*-0x123+0x11*0x113|(this['affectSpec'+'ularity']?0x25*-0xa3+-0x11*-0xee+-0x14b*-0x6:0x454+-0x1c1d+-0x17c9*-0x1)<<0x7*-0x2e3+-0x1523+0x5e9*0x7|this['mask']<<0x6d*0xe+0x41f+0x1*-0xa0f|(this['_castShado'+'ws']?-0x10c3+-0x1781*-0x1+-0x6bd:-0x1ddb+-0x1613+0x121*0x2e)<<0x1*0x905+0x1f8c+0x166*-0x1d;this['_cookieCha'+'nnel']['length']===-0xa2b+0x16c*-0x10+0x20ee&&(_0xf85554|=pf[this['_cookieCha'+'nnel']['charAt'](0x1*0x5d7+-0x56*0x3+-0x6*0xce)]<<0xa*-0x3d5+0x26d3+-0x71,_0xf85554|=pf[this['_cookieCha'+'nnel']['charAt'](-0x9*0x2d5+0x1c44+0x2c5*-0x1)]<<-0x1ce9+-0xbef+0x28e6),_0xf85554!==this['key']&&this['layersDirt'+'y'](),this['key']=_0xf85554;}['updateClus'+'teredFlags'](){const _0x1850f5=!!(this['mask']&Ss),_0x5442b7=!!(this['mask']&di);this['clusteredF'+'lags']=(this['type']===Ze?0x3c*0x29+0x22af+0x1625*-0x2:-0x351*-0x9+-0x1aab+-0x4a*0xb)<<-0x1a65+0xbd7+-0x3*-0x4e4|(this['_shape']&-0xeab+-0x17*-0x13d+-0xdcd)<<0x104c+-0x5e*0x8+-0x2*0x6a0|(this['_falloffMo'+'de']&-0x23*-0x67+0x117b+-0x1f8f)<<0x1*-0x2a9+-0x1923+0x1be7*0x1|(cA[this['_cookieCha'+'nnel']]??-0x22ed+-0xbbe+0x2eab*0x1)<<0x1*-0x789+0x2f2*-0xd+0x2dea|(_0x1850f5?-0x123a*-0x2+-0x1af4+-0xb*0xdd:0x5d4+0x719+-0xced)<<-0xaa1+-0x19b9+0x2470|(_0x5442b7?-0x188b+-0x18ef+0x35*0xef:0x2362+0x2706+-0x4a68)<<-0x10bb*-0x1+-0x16ed+-0x1*-0x647;}['getCluster'+'edFlags'](_0x2683f8,_0x4dde35){return this['clusteredF'+'lags']|((_0x2683f8?Math['floor'](this['shadowInte'+'nsity']*(-0x41e+0x1ec7+0x447*-0x6)):0x2105+0x2*0x363+-0x27cb)&-0x24a8+-0x1*-0x259d+0x5*0x2)<<-0x15db+0x1*-0x2076+0x3651|((_0x4dde35?Math['floor'](this['cookieInte'+'nsity']*(0x3*-0x236+0x17a1+-0x1000*0x1)):-0xf0d+0x880+0x68d)&-0x4*-0x932+0x1f*0x3b+0x1*-0x2aee)<<0x1625+-0xbdd+0x148*-0x8;}['updateClus'+'terData'](_0x5930f3,_0x5a3bec){const {clusteredData16:_0x4750bb}=this,_0x20c07b=Mn['float2Half'];_0x5930f3&&(_0x4750bb[-0xda9*-0x1+-0x18bd+0x58a*0x2]=_0x20c07b(Y['clamp'](this['_colorLine'+'ar'][0x35d+-0x20e7*0x1+0x1*0x1d8a]/$c,-0x1188+-0xd*0x1a1+0x26b5,0x3*-0x2669+-0x7cc1*-0x2+-0x1*-0x7999)),_0x4750bb[0x15d7+-0x204c+0xa76]=_0x20c07b(Y['clamp'](this['_colorLine'+'ar'][0x4*0x87c+0x1a76+-0x3c65]/$c,0x1*0x1247+-0x211d+0xed6,0x1*-0x1d05f+-0xc100+0x3913f)),_0x4750bb[-0x1*0x24d5+-0xf92+0x3469]=_0x20c07b(Y['clamp'](this['_colorLine'+'ar'][-0xe72*-0x1+0x89b+-0x15b*0x11]/$c,-0x13b*-0xf+-0x20af+-0x71d*-0x2,-0x1*-0xd89a+0xab8d+-0x8447*0x1))),_0x5a3bec&&(_0x4750bb[-0xf35+-0x1b*0xed+-0x35a*-0xc]=_0x20c07b(this['_innerCone'+'AngleCos']),_0x4750bb[0x7*-0x174+-0x8f*-0xd+0x2ee]=_0x20c07b(this['_outerCone'+'AngleCos']));}}class Mv{constructor(_0xc91549,_0xa79e39,_0x4abf04){h(this,'_areaLight'+'sEnabled',!(0x1553+-0xca7+-0x7*0x13d)),h(this,'_cells',new D(-0x26*-0x2b+-0x6ff+0xa7*0x1,0xb4b+-0x7*-0x21d+-0x1a13,0xa76+0xafb+0x1*-0x1567)),h(this,'_maxLights'+'PerCell',0x1*0x1346+-0xc4+0x1183*-0x1),h(this,'_shadowsEn'+'abled',!(-0x70b+0x3c*-0x24+0xf7b)),h(this,'_shadowTyp'+'e',$s),h(this,'_shadowAtl'+'asResoluti'+'on',-0xb*-0xd8+-0x1*0xb81+-0x1*-0xa39),h(this,'_cookiesEn'+'abled',!(-0x376*-0x2+0x23df+0x2*-0x1565)),h(this,'_cookieAtl'+'asResoluti'+'on',-0x443+0x2*0x25c+-0x78b*-0x1),h(this,'debugLayer'),h(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0xc91549,this['_maxTextur'+'eSize']=_0xa79e39,this['_dirtyLigh'+'tsFnc']=_0x4abf04);}['applySetti'+'ngs'](_0x203166){this['shadowsEna'+'bled']=_0x203166['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x203166['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x203166['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x203166['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x203166['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x203166['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x203166['lightingSh'+'adowType']??this['shadowType'],_0x203166['lightingCe'+'lls']&&(this['cells']=new D(_0x203166['lightingCe'+'lls']));}set['cells'](_0xa3d07a){this['_cells']['copy'](_0xa3d07a);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x4f93c9){this['_maxLights'+'PerCell']=Y['clamp'](_0x4f93c9,-0xfe6+0xdf3+0x1f4,0x136d*0x2+0x6fb*0x5+-0x48c2);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x3a1e58){this['_cookieAtl'+'asResoluti'+'on']=Y['clamp'](_0x3a1e58,-0x9cb+-0xa0+-0xa8b*-0x1,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x2591fd){this['_shadowAtl'+'asResoluti'+'on']=Y['clamp'](_0x2591fd,-0x26a4*-0x1+0x44*0x16+-0x2c5c,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x5c4ff3){this['_shadowTyp'+'e']!==_0x5c4ff3&&(this['_shadowTyp'+'e']=_0x5c4ff3,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x1ad1b7){this['_cookiesEn'+'abled']!==_0x1ad1b7&&(this['_cookiesEn'+'abled']=_0x1ad1b7,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x277078){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x277078&&(this['_areaLight'+'sEnabled']=_0x277078,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x18dab9){this['_shadowsEn'+'abled']!==_0x18dab9&&(this['_shadowsEn'+'abled']=_0x18dab9,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}class xa{constructor(_0x58f9b9){this['morph']=_0x58f9b9,_0x58f9b9['incRefCoun'+'t'](),this['device']=_0x58f9b9['device'];const _0x1d2a5b=_0x58f9b9['_targets']['length'];this['shader']=this['_createSha'+'der'](_0x1d2a5b),this['_weights']=[],this['_weightMap']=new Map();for(let _0x567529=-0xa89+0x3*-0xbdb+0xe*0x34b;_0x567529<_0x58f9b9['_targets']['length'];_0x567529++){const _0x4d5344=_0x58f9b9['_targets'][_0x567529];_0x4d5344['name']&&this['_weightMap']['set'](_0x4d5344['name'],_0x567529),this['setWeight'](_0x567529,_0x4d5344['defaultWei'+'ght']);}this['_shaderMor'+'phWeights']=new Float32Array(_0x1d2a5b),this['_shaderMor'+'phIndex']=new Uint32Array(_0x1d2a5b);const _0x2d6728=(_0x5b88dc,_0x20ac97)=>(this[_0x20ac97]=_0x58f9b9['_createTex'+'ture'](_0x5b88dc,_0x58f9b9['_renderTex'+'tureFormat']),new gt({'colorBuffer':this[_0x20ac97],'depth':!(-0x1e29+0x1092+0xd98)}));_0x58f9b9['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x2d6728('MorphRTPos','texturePos'+'itions')),_0x58f9b9['morphNorma'+'ls']&&(this['rtNormals']=_0x2d6728('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x58f9b9['morphTextu'+'reWidth'],_0x58f9b9['morphTextu'+'reHeight']]);const _0x13db87=_0x58f9b9['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x13db87['x']*(0x1858+-0x1af4+-0x1c*-0x18),_0x13db87['y']*(-0x47*-0x3e+-0x15e3+0x4b5),_0x13db87['z']*(0x62*0x40+-0x7f9+-0x1083)]);const _0x424cf7=_0x58f9b9['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x424cf7['x']*(0x766*0x1+-0xe1f*-0x1+-0x1583),_0x424cf7['y']*(-0x1*0x4d+0xab+0x2*-0x2e),_0x424cf7['z']*(-0xcac*0x1+-0x116*0x14+0x2266)]),this['_aabbNrmSi'+'ze']=new Float32Array([0x2*0xaa9+-0xad4*-0x1+0x809*-0x4,0x2070+0x1e*-0xeb+-0x4e4,-0x8d+0x886+-0x7f7*0x1]),this['_aabbNrmMi'+'n']=new Float32Array([-(0x2064+0x132c+-0x338f*0x1),-(0x4b3*-0x7+0x13*0x75+-0x1*-0x1837),-(0x27d*0x1+0x677+-0x4f*0x1d)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin'),this['morphTextu'+'reId']=this['device']['scope']['resolve']('morphTextu'+'re'),this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['morphIndex']=this['device']['scope']['resolve']('morphIndex'+'[0]'),this['countId']=this['device']['scope']['resolve']('count'),this['zeroTextur'+'es']=!(0x4d2*-0x2+0x1254+-0x1*0x8af);}['destroy'](){var _0x18ba43,_0x4c3152,_0x126462,_0x3c30f6;this['shader']=null;const _0x15aa1a=this['morph'];_0x15aa1a&&(this['morph']=null,_0x15aa1a['decRefCoun'+'t'](),_0x15aa1a['refCount']<-0x7*-0x209+0x204e*-0x1+0x484*0x4&&_0x15aa1a['destroy']()),(_0x18ba43=this['rtPosition'+'s'])==null||_0x18ba43['destroy'](),this['rtPosition'+'s']=null,(_0x4c3152=this['texturePos'+'itions'])==null||_0x4c3152['destroy'](),this['texturePos'+'itions']=null,(_0x126462=this['rtNormals'])==null||_0x126462['destroy'](),this['rtNormals']=null,(_0x3c30f6=this['textureNor'+'mals'])==null||_0x3c30f6['destroy'](),this['textureNor'+'mals']=null;}['clone'](){return new xa(this['morph']);}['_getWeight'+'Index'](_0x192ea1){if(typeof _0x192ea1=='string'){const _0x4ab22f=this['_weightMap']['get'](_0x192ea1);return _0x4ab22f===void(0xc5b*-0x3+0x2681+0x2*-0xb8)&&w['errorOnce']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x192ea1+'.'),_0x4ab22f;}return _0x192ea1;}['getWeight'](_0x18b195){const _0x524d30=this['_getWeight'+'Index'](_0x18b195);return this['_weights'][_0x524d30];}['setWeight'](_0x3ca691,_0x5d9cd2){const _0x1f78ba=this['_getWeight'+'Index'](_0x3ca691);w['assert'](_0x1f78ba>=0x2b6*-0x9+0x1bbe+-0x6b*0x8&&_0x1f78ba<this['morph']['_targets']['length']),this['_weights'][_0x1f78ba]=_0x5d9cd2,this['_dirty']=!(0xb65+0x170+-0xdb*0xf);}['_createSha'+'der'](_0x1baac2){const _0x7915b6=new Map();_0x7915b6['set']('{MORPH_TEX'+'TURE_MAX_C'+'OUNT}',_0x1baac2),this['morph']['intRenderF'+'ormat']&&_0x7915b6['set']('MORPH_INT','');const _0x2d0378=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';return $t['createShad'+'er'](this['device'],{'uniqueName':'TextureMor'+'phShader_'+_0x1baac2+'-'+(this['morph']['intRenderF'+'ormat']?'int':'float'),'attributes':{'vertex_position':Me},'vertexChunk':'morphVS','fragmentChunk':'morphPS','fragmentDefines':_0x7915b6,'fragmentOutputTypes':[_0x2d0378]});}['_updateTex'+'tureRender'+'Target'](_0x4ca6bb,_0x2d7f30,_0x442a75){const {morph:_0x12d8f1,device:_0x4128d3}=this;this['setAabbUni'+'forms'](_0x442a75),this['morphTextu'+'reId']['setValue'](_0x442a75?_0x12d8f1['targetsTex'+'turePositi'+'ons']:_0x12d8f1['targetsTex'+'tureNormal'+'s']),_0x4128d3['setBlendSt'+'ate'](pt['NOBLEND']),this['countId']['setValue'](_0x2d7f30),this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),this['morphIndex']['setValue'](this['_shaderMor'+'phIndex']),Ar(_0x4128d3,_0x4ca6bb,this['shader']);}['_updateTex'+'tureMorph'](_0x5af5c0){const _0x15b8df=this['device'];Q['pushGpuMar'+'ker'](_0x15b8df,'MorphUpdat'+'e'),(_0x5af5c0>-0x1*0xd15+-0x1*0xc07+-0x4*-0x647||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],_0x5af5c0,!(-0x9*-0x192+0x1afe+-0x2920)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],_0x5af5c0,!(-0x1c87+0x9ed+0x129b)),this['zeroTextur'+'es']=_0x5af5c0===0x2b*-0x9e+0x3*-0xac1+-0x1*-0x3acd),Q['popGpuMark'+'er'](_0x15b8df);}['setAabbUni'+'forms'](_0x145c3d=!(0x2240+0x11*-0x1e+-0x1021*0x2)){this['aabbSizeId']['setValue'](_0x145c3d?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x145c3d?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x575cc3){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(-0x680+-0x2b2+0x933);const _0x12106e=this['morph']['_targets'],_0x49974a=0x1c7c+-0x8cb+-0x13b1+0.00001,_0x20546a=this['_shaderMor'+'phWeights'],_0x329746=this['_shaderMor'+'phIndex'];let _0x4205a7=0xcb8+-0x3*-0x5f+-0xdd5;for(let _0x415f8b=-0x71*0x47+-0x1e94+0x3deb;_0x415f8b<_0x12106e['length'];_0x415f8b++)Math['abs'](this['getWeight'](_0x415f8b))>_0x49974a&&(_0x20546a[_0x4205a7]=this['getWeight'](_0x415f8b),_0x329746[_0x4205a7]=_0x415f8b,_0x4205a7++);this['_updateTex'+'tureMorph'](_0x4205a7);}}class sr{constructor(){h(this,'graph',null),h(this,'meshInstan'+'ces',[]),h(this,'skinInstan'+'ces',[]),h(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=0x9cd+-0x3*0xa61+-0x2*-0xaab,this['_immutable']=!(0x828+0xb*-0x113+0x3aa));}['getGraph'](){return this['graph'];}['setGraph'](_0x22525b){this['graph']=_0x22525b;}['getCameras'](){return this['cameras'];}['setCameras'](_0x440b72){this['cameras']=_0x440b72;}['getLights'](){return this['lights'];}['setLights'](_0x3c6b29){this['lights']=_0x3c6b29;}['getMateria'+'ls'](){const _0x5db74e=[];for(let _0x1a9e8b=-0x7*0x34d+0x125*0x4+0x1287;_0x1a9e8b<this['meshInstan'+'ces']['length'];_0x1a9e8b++){const _0x4b844f=this['meshInstan'+'ces'][_0x1a9e8b];_0x5db74e['indexOf'](_0x4b844f['material'])===-(-0x80*-0x36+-0x78b*0x4+0x32d)&&_0x5db74e['push'](_0x4b844f['material']);}return _0x5db74e;}['clone'](){const _0x112914=[],_0x4691a9=[],_0x12289b=function(_0x5f0f35){const _0x167eab=_0x5f0f35['clone']();_0x112914['push'](_0x5f0f35),_0x4691a9['push'](_0x167eab);for(let _0x27a4a0=0x59d+-0x13b0+0x1*0xe13;_0x27a4a0<_0x5f0f35['_children']['length'];_0x27a4a0++)_0x167eab['addChild'](_0x12289b(_0x5f0f35['_children'][_0x27a4a0]));return _0x167eab;},_0xbc5935=_0x12289b(this['graph']),_0x2f9a64=[],_0x45842b=[],_0x1c6791=[];for(let _0x4a7f4f=0x3a9*0x4+-0xd22+-0x182;_0x4a7f4f<this['skinInstan'+'ces']['length'];_0x4a7f4f++){const _0x25c066=this['skinInstan'+'ces'][_0x4a7f4f]['skin'],_0x4f7579=new Ol(_0x25c066),_0x554d34=[];for(let _0x414407=-0x1eab+-0x26fd+0x45a8;_0x414407<_0x25c066['boneNames']['length'];_0x414407++){const _0x3ffde0=_0x25c066['boneNames'][_0x414407],_0x178743=_0xbc5935['findByName'](_0x3ffde0);_0x554d34['push'](_0x178743);}_0x4f7579['bones']=_0x554d34,_0x45842b['push'](_0x4f7579);}for(let _0x2f769c=-0x1235+-0xd73+0x1fa8;_0x2f769c<this['morphInsta'+'nces']['length'];_0x2f769c++){const _0x512205=this['morphInsta'+'nces'][_0x2f769c]['morph'],_0x3ac57a=new xa(_0x512205);_0x1c6791['push'](_0x3ac57a);}for(let _0x5ce2f4=-0x758*0x1+0x25cf*0x1+-0x1e77;_0x5ce2f4<this['meshInstan'+'ces']['length'];_0x5ce2f4++){const _0x4f818e=this['meshInstan'+'ces'][_0x5ce2f4],_0x52967b=_0x112914['indexOf'](_0x4f818e['node']),_0xc4b209=new He(_0x4f818e['mesh'],_0x4f818e['material'],_0x4691a9[_0x52967b]);if(_0x4f818e['skinInstan'+'ce']){const _0x43fd2f=this['skinInstan'+'ces']['indexOf'](_0x4f818e['skinInstan'+'ce']);_0xc4b209['skinInstan'+'ce']=_0x45842b[_0x43fd2f];}if(_0x4f818e['morphInsta'+'nce']){const _0x4da34f=this['morphInsta'+'nces']['indexOf'](_0x4f818e['morphInsta'+'nce']);_0xc4b209['morphInsta'+'nce']=_0x1c6791[_0x4da34f];}_0x2f9a64['push'](_0xc4b209);}const _0x38c770=new sr();return _0x38c770['graph']=_0xbc5935,_0x38c770['meshInstan'+'ces']=_0x2f9a64,_0x38c770['skinInstan'+'ces']=_0x45842b,_0x38c770['morphInsta'+'nces']=_0x1c6791,_0x38c770['getGraph']()['syncHierar'+'chy'](),_0x38c770;}['destroy'](){const _0x3aeef8=this['meshInstan'+'ces'];for(let _0x50ff73=-0x2*-0x9d9+-0x1f04+0xe*0xcf;_0x50ff73<_0x3aeef8['length'];_0x50ff73++)_0x3aeef8[_0x50ff73]['destroy']();this['meshInstan'+'ces']['length']=0xcb6+-0x172e+0xa78;}['generateWi'+'reframe'](){He['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],$r);}}class mm extends wd{constructor(_0x4a5eac,_0x425ecd,{preferHighPrecision:_0x3a2ff8=!(0x2*0xd3f+0x1*0x23b1+-0x3e2e)}={}){super(),h(this,'_aabb'),h(this,'preferHigh'+'Precision'),(w['assert'](_0x425ecd,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x425ecd);const _0x47b379=_0x425ecd;this['preferHigh'+'Precision']=_0x3a2ff8,w['assert'](_0x4a5eac['every'](_0x6854b6=>!_0x6854b6['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x4a5eac['slice']();const _0xedadaf=_0x47b379['textureHal'+'fFloatRend'+'erable']?nt:void(-0xa99+0x25c7+-0x1b2e),_0x40891a=_0x47b379['textureFlo'+'atRenderab'+'le']?Xt:void(-0x190e+0x772+0x8ce*0x2);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x40891a??_0xedadaf:_0xedadaf??_0x40891a,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??nd,this['intRenderF'+'ormat']=dn(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Xt:nt,this['_init'](),this['_updateMor'+'phFlags']();}['destroy'](){var _0x41d081,_0x1cffd8,_0x4e0b65;(_0x41d081=this['vertexBuff'+'erIds'])==null||_0x41d081['destroy'](),this['vertexBuff'+'erIds']=null,(_0x1cffd8=this['targetsTex'+'turePositi'+'ons'])==null||_0x1cffd8['destroy'](),this['targetsTex'+'turePositi'+'ons']=null,(_0x4e0b65=this['targetsTex'+'tureNormal'+'s'])==null||_0x4e0b65['destroy'](),this['targetsTex'+'tureNormal'+'s']=null;}get['aabb'](){if(!this['_aabb']){const _0x49b332=new D(),_0x150a1a=new D();for(let _0x43c215=-0x375*-0x5+-0x1b54+-0xa0b*-0x1;_0x43c215<this['_targets']['length'];_0x43c215++){const _0x2230fd=this['_targets'][_0x43c215]['aabb'];_0x49b332['min'](_0x2230fd['getMin']()),_0x150a1a['max'](_0x2230fd['getMax']());}this['_aabb']=new De(),this['_aabb']['setMinMax'](_0x49b332,_0x150a1a);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x188418=0x114b+-0x20ec+0xfa1;_0x188418<this['_targets']['length'];_0x188418++)this['_targets'][_0x188418]['_postInit']();}['_findSpars'+'eSet'](_0x5b6ebe,_0x47df7e,_0x141cfb){let _0x478447=-0x22c8+0x27d+0x6a*0x4e;const _0xf9996b=_0x5b6ebe[0x17ae+0x20ee+0x1c4e*-0x2]['length'];for(let _0x8ec563=0x1*0x49b+0x2277+-0x2712;_0x8ec563<_0xf9996b;_0x8ec563+=0xd0+-0x2*-0x301+-0x6cf){let _0x318ddf=!(-0x2*0x577+0x2b2+0x83d);for(let _0x56de9e=0x246d*0x1+-0x1aa2+0x6d*-0x17;_0x56de9e<_0x5b6ebe['length'];_0x56de9e++){const _0x261ebb=_0x5b6ebe[_0x56de9e];if(_0x261ebb[_0x8ec563]!==0xe+0x1*-0x19e7+0x19d9||_0x261ebb[_0x8ec563+(-0x14d9*0x1+-0xa*0x14b+0x21c8)]!==-0x565*0x3+0x20*-0x46+-0x1eb*-0xd||_0x261ebb[_0x8ec563+(0x1b09*-0x1+-0x2511+0x401c)]!==-0x6ef*-0x1+0x2559*-0x1+0x1e6a){_0x318ddf=!(-0x3a1*-0x4+-0x3a8+0x8b*-0x14);break;}}_0x318ddf?(_0x47df7e['push'](_0x478447),_0x141cfb['push'](_0x8ec563/(-0x14f0+-0x487*-0x2+0x261*0x5)),_0x478447++):_0x47df7e['push'](-0x6cd+0x1*0x1d76+0x16a9*-0x1);}return _0x478447;}['_initTextu'+'reBased'](){const _0x488451=[],_0x145f52=[],_0x1d3d00=this['_targets'];for(let _0x31b9aa=-0x1b1*0x5+0x679+0x1fc;_0x31b9aa<_0x1d3d00['length'];_0x31b9aa++){const _0x40d748=_0x1d3d00[_0x31b9aa];_0x40d748['options']['deltaPosit'+'ions']&&(_0x488451['push'](_0x40d748['options']['deltaPosit'+'ions']),_0x145f52['push'](!(0x125c+0x9*-0x3e7+0x10c3))),_0x40d748['options']['deltaNorma'+'ls']&&(_0x488451['push'](_0x40d748['options']['deltaNorma'+'ls']),_0x145f52['push'](!(0xbda*0x1+0x473+-0x254*0x7)));}const _0x29e87b=[],_0x943c9=[],_0x40764b=this['_findSpars'+'eSet'](_0x488451,_0x29e87b,_0x943c9),_0x3f57cc=this['device']['maxTexture'+'Size'];let _0x5ebaee=Math['ceil'](Math['sqrt'](_0x40764b));_0x5ebaee=Math['min'](_0x5ebaee,_0x3f57cc);const _0x53e4ce=Math['ceil'](_0x40764b/_0x5ebaee);if(_0x53e4ce>_0x3f57cc){w['warnOnce']('Morph\x20targ'+'et\x20data\x20is'+'\x20too\x20large'+'\x20to\x20fit\x20in'+'to\x20a\x20textu'+'re\x20array.\x20'+'Required\x20t'+'exture\x20siz'+'e:\x20'+_0x5ebaee+'x'+_0x53e4ce+(',\x20max\x20text'+'ure\x20size:\x20')+_0x3f57cc+'x'+_0x3f57cc+'.');return;}this['morphTextu'+'reWidth']=_0x5ebaee,this['morphTextu'+'reHeight']=_0x53e4ce;let _0x13063e=!(-0xc5b*0x2+-0x7e1+0x2098);const _0x178b41=Mn['float2Half'];this['_textureFo'+'rmat']===nt&&(_0x13063e=!(0x1683+-0x22a1+0x40a*0x3));const _0x4292b8=[],_0xebf65f=[],_0x257960=_0x5ebaee*_0x53e4ce*(0x1982+0x8d1*0x2+-0x2b20);for(let _0x4b29bb=-0x207d*0x1+-0x1edd+-0x9f*-0x66;_0x4b29bb<_0x488451['length'];_0x4b29bb++){const _0xe797e7=_0x488451[_0x4b29bb],_0x2177ba=this['_textureFo'+'rmat']===nt?new Uint16Array(_0x257960):new Float32Array(_0x257960);if((_0x145f52[_0x4b29bb]?_0x4292b8:_0xebf65f)['push'](_0x2177ba),_0x13063e)for(let _0x19e621=0x1507+-0x1c7d*0x1+0x776;_0x19e621<_0x943c9['length'];_0x19e621++){const _0x4a6954=_0x943c9[_0x19e621]*(-0x43f+-0x8e4*-0x4+-0x1f4e),_0x4d6c2b=_0x19e621*(0x2f*-0xc2+-0x228f+0x4631)+(-0xb*-0x2d4+-0x3cb*0x1+-0x1b4d);_0x2177ba[_0x4d6c2b]=_0x178b41(_0xe797e7[_0x4a6954]),_0x2177ba[_0x4d6c2b+(0x1885+-0x20b1+0x7*0x12b)]=_0x178b41(_0xe797e7[_0x4a6954+(0x1d01+-0x1517*-0x1+-0x3217)]),_0x2177ba[_0x4d6c2b+(0x5fb*-0x2+0x130d*0x1+-0x1*0x715)]=_0x178b41(_0xe797e7[_0x4a6954+(-0x15*-0x105+0x54c+-0x1ab3*0x1)]);}else for(let _0x17e604=0x1ea9+0xe43*0x2+-0x3b2f;_0x17e604<_0x943c9['length'];_0x17e604++){const _0x160581=_0x943c9[_0x17e604]*(0x1*0x137d+0x1d23+-0x309d),_0xcfa783=_0x17e604*(-0x24a0+0x794+0x1d10)+(0x1*0x889+0x2444+-0x2cc9);_0x2177ba[_0xcfa783]=_0xe797e7[_0x160581],_0x2177ba[_0xcfa783+(0xd5a+-0xa15+-0x344)]=_0xe797e7[_0x160581+(0x4d5*0x2+0x1e22+-0x27cb)],_0x2177ba[_0xcfa783+(0x1ba6+-0x24db+0x937*0x1)]=_0xe797e7[_0x160581+(-0x1e92+-0x12cd+-0x1*-0x3161)];}}_0x4292b8['length']>0x1be1+0x1a12+-0x7b5*0x7&&(this['targetsTex'+'turePositi'+'ons']=this['_createTex'+'ture']('MorphPosit'+'ionsTextur'+'e',this['_textureFo'+'rmat'],_0x1d3d00['length'],[_0x4292b8]),this['targetsTex'+'turePositi'+'ons']['upload']()),_0xebf65f['length']>0x1a92+-0x1*-0x163f+-0x30d1&&(this['targetsTex'+'tureNormal'+'s']=this['_createTex'+'ture']('MorphNorma'+'lsTexture',this['_textureFo'+'rmat'],_0x1d3d00['length'],[_0xebf65f]),this['targetsTex'+'tureNormal'+'s']['upload']());const _0x3a2567=[{'semantic':Ln,'components':0x1,'type':el,'asInt':!(-0x129d+-0x854+-0xd1*-0x21)}];return this['vertexBuff'+'erIds']=new Is(this['device'],new kt(this['device'],_0x3a2567,_0x29e87b['length']),_0x29e87b['length'],{'data':new Uint32Array(_0x29e87b)}),!(0x1354*-0x2+0x18d3+0xdd5*0x1);}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(0x6ce+0xb*-0x1d9+0x3*0x482),this['_morphNorm'+'als']=!(-0x26e9+0x6*-0x610+-0x1*-0x4b4a);for(let _0x2f6f09=0x1c7*0xc+-0x1f*0x2f+-0xfa3;_0x2f6f09<this['_targets']['length'];_0x2f6f09++){const _0xfb44e3=this['_targets'][_0x2f6f09];_0xfb44e3['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(-0x2032+0x1775+-0x1*-0x8bd)),_0xfb44e3['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(-0x3*0x8e4+-0x29a+0x1d46));}}['_createTex'+'ture'](_0x5ed0eb,_0x364f97,_0x28cc10,_0x3012fa){return new _e(this['device'],{'levels':_0x3012fa,'arrayLength':_0x28cc10,'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x364f97,'cubemap':!(0x1*0x8a5+0x1*-0x1253+-0x43*-0x25),'mipmaps':!(-0x1f7*0xd+-0x1*-0xc2d+0xd5f),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x5ed0eb});}}class Md{constructor(_0x37bbc5){h(this,'used',!(-0x1*-0x157+-0x2382+0x222c)),(w['assert'](arguments['length']===0x251c+0x2*-0x167+-0x224d),this['options']=_0x37bbc5,this['_name']=_0x37bbc5['name'],this['_defaultWe'+'ight']=_0x37bbc5['defaultWei'+'ght']||-0x2093+0x104+0x1f8f,this['_aabb']=_0x37bbc5['aabb'],this['deltaPosit'+'ions']=_0x37bbc5['deltaPosit'+'ions'],this['morphPosit'+'ions']=!!_0x37bbc5['deltaPosit'+'ions'],this['morphNorma'+'ls']=!!_0x37bbc5['deltaNorma'+'ls']);}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new De(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}['clone'](){return w['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Md(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(0x923+-0xcdb*0x3+0x1*0x1d6e);}}let Ei,Z_=0x301*-0x3+-0xcdf*0x3+-0x1*-0x2fa1;const ce=0xad3+0x1def+-0x28be,mf=new te(),_f=new te(),ti=new D(),tt=new D(),Ns=new D(),Na=new D(),ns=new D(),_t=new D(),ka=new D(),Ua=new D(),fo=new D(),Q_=new D(),zt=new D(),fc=new D(),kr=new D();function pn(_0x3abbe0){return _0x3abbe0-Math['floor'](_0x3abbe0);}function fA(_0x59a2b8){return Math['max'](Math['min'](_0x59a2b8,0xed4+0x1c54+0x2b27*-0x1),0xa1d+-0xcd*0x1+-0x950);}function gf(_0x17b244,_0x2c8270){return _0x17b244-_0x2c8270*Math['floor'](_0x17b244/_0x2c8270);}function uA(_0x28b484){let _0x320552=pn(_0x28b484),_0xf28bdb=pn((0x5b*-0xb+0x6bf+-0x1d7)*_0x28b484),_0x20b8ab=pn((-0x189f5+0x1f5bd*-0x1+0x47db3)*_0x28b484),_0x4f7dd7=pn((0x78af32b+-0xa5b2c41+-0x1da17f*-0x6b)*_0x28b484);return _0x320552-=_0xf28bdb/(-0x48d*0x7+0xb19+0x1*0x15c1),_0xf28bdb-=_0x20b8ab/(-0x136f+-0x15a6+-0x2*-0x150a),_0x20b8ab-=_0x4f7dd7/(-0x464+-0x67b+0x7*0x1b2),_0x4f7dd7-=_0x4f7dd7/(-0x189c+0x1*-0xd9a+0x2735),[_0x320552,_0xf28bdb,_0x20b8ab,_0x4f7dd7];}function uc(_0x2b924b){let _0x4b061e=pn(_0x2b924b),_0x38bbd6=pn((0xc8a+0x1*-0xe82+0x2f7)*_0x2b924b);return _0x4b061e-=_0x38bbd6/(-0xa65*0x1+-0x1748+-0x2*-0x1156),_0x38bbd6-=_0x38bbd6/(-0x1*-0x15e2+-0xb18+-0x9cb),[_0x4b061e,_0x38bbd6];}class pA{constructor(_0x2b9974){this['_emitter']=_0x2b9974;}['calcSpawnP'+'osition'](_0x540a4a,_0x49b1fc,_0x4f8fb9,_0x59c605,_0x42ae5a){const _0x15c15f=this['_emitter'],_0x513b8f=Math['random'](),_0x37cd01=Math['random'](),_0x1f6178=Math['random'](),_0x1d0170=Math['random']();if(_0x15c15f['useCpu']&&(_0x540a4a[_0x42ae5a*ce+(-0xbf*-0x1c+0xf3*-0xc+-0x980)+_0x15c15f['numParticl'+'esPot']*(-0x1615+0x24ed+-0xed6)*ce]=_0x513b8f,_0x540a4a[_0x42ae5a*ce+(0x8d*0x6+-0x2*0x12d3+0x2259)+_0x15c15f['numParticl'+'esPot']*(-0x2275+-0x86a+0x2ae1)*ce]=_0x37cd01,_0x540a4a[_0x42ae5a*ce+(0x1*0x885+0x23c9+0x2a*-0x10e)+_0x15c15f['numParticl'+'esPot']*(-0x6*0x49+0x1649*0x1+-0x27*0x87)*ce]=_0x1f6178),tt['x']=_0x513b8f-(-0x251c+0x2076+-0x1*-0x4a6+0.5),tt['y']=_0x37cd01-(-0x2549*-0x1+-0xd*0xd2+-0x1a9f+0.5),tt['z']=_0x1f6178-(-0x1*0x1a9c+-0xe53+0x28ef+0.5),_0x15c15f['emitterSha'+'pe']===ai){const _0x3b4c09=Math['max'](Math['abs'](tt['x']),Math['max'](Math['abs'](tt['y']),Math['abs'](tt['z']))),_0x2da458=_0x3b4c09+(-0x1*-0x359+0x81c*0x4+-0x23c9+0.5-_0x3b4c09)*_0x4f8fb9[0x20d0+-0xe65+-0x126b*0x1],_0x152dde=_0x3b4c09+(-0xfe8+-0x1bdb+0x2bc3+0.5-_0x3b4c09)*_0x4f8fb9[-0x4*0x731+-0x27*0x21+0x21cc],_0x2d027f=_0x3b4c09+(-0x1972+0x2078+-0x706+0.5-_0x3b4c09)*_0x4f8fb9[0x1ef2+0x1262+-0x3152];tt['x']=_0x2da458*(_0x3b4c09===Math['abs'](tt['x'])?Math['sign'](tt['x']):(0x229e+-0x2*0x859+-0x11ea)*tt['x']),tt['y']=_0x152dde*(_0x3b4c09===Math['abs'](tt['y'])?Math['sign'](tt['y']):(-0x2e*0xb3+-0x1f51+0x3f7d)*tt['y']),tt['z']=_0x2d027f*(_0x3b4c09===Math['abs'](tt['z'])?Math['sign'](tt['z']):(-0x1b1*0xd+0x1*-0xfd1+0x25d0)*tt['z']),_0x15c15f['localSpace']?ti['copy'](_0x49b1fc['transformP'+'oint'](tt)):ti['copy'](_0x59c605)['add'](_0x49b1fc['transformP'+'oint'](tt));}else{tt['normalize']();const _0x207ef4=_0x15c15f['emitterRad'+'ius']===0x1855*0x1+0x1488+-0x5*0x8f9?0x1d5d+0x1566+-0x32c3:_0x15c15f['emitterRad'+'iusInner']/_0x15c15f['emitterRad'+'ius'],_0x33584b=_0x1d0170*(-0x2014+0x203a+-0x1*0x25-_0x207ef4)+_0x207ef4;_0x15c15f['localSpace']?ti['copy'](tt['mulScalar'](_0x33584b*_0x15c15f['emitterRad'+'ius'])):ti['copy'](_0x59c605)['add'](tt['mulScalar'](_0x33584b*_0x15c15f['emitterRad'+'ius']));}let _0x4af52c=-Y['lerp'](_0x15c15f['rate'],_0x15c15f['rate2'],_0x513b8f)*_0x42ae5a;if(_0x15c15f['pack8']){const _0x3b741c=(ti['x']-_0x15c15f['worldBound'+'s']['center']['x'])/_0x15c15f['worldBound'+'sSize']['x']+(0x237d+-0x1c79*-0x1+-0x6*0xaa9+0.5),_0x5439b9=(ti['y']-_0x15c15f['worldBound'+'s']['center']['y'])/_0x15c15f['worldBound'+'sSize']['y']+(-0xa*-0x232+0x223c+0x74*-0x7c+0.5),_0x23c6af=(ti['z']-_0x15c15f['worldBound'+'s']['center']['z'])/_0x15c15f['worldBound'+'sSize']['z']+(-0x1534+-0x13c3+0x28f7*0x1+0.5);let _0xdb7f7e=Y['lerp'](_0x15c15f['startAngle']*Y['DEG_TO_RAD'],_0x15c15f['startAngle'+'2']*Y['DEG_TO_RAD'],_0x513b8f);_0xdb7f7e=_0xdb7f7e%(Math['PI']*(-0xac2*-0x3+-0x1539+0x101*-0xb))/(Math['PI']*(-0x1474+0xf74+0x1*0x502));const _0x1a32af=uc(_0x3b741c);_0x540a4a[_0x42ae5a*ce]=_0x1a32af[0x26b3+0x6a*0x55+0x49e5*-0x1],_0x540a4a[_0x42ae5a*ce+(0x3*0x59f+-0xa81+0x65b*-0x1)]=_0x1a32af[0x9a1+0x1*0x7c1+-0x5cb*0x3];const _0x1e0f01=uc(_0x5439b9);_0x540a4a[_0x42ae5a*ce+(-0x2c0+-0x1*-0x240b+-0x2149)]=_0x1e0f01[0xb*-0x2a2+-0x475+0x216b],_0x540a4a[_0x42ae5a*ce+(0x24d2+0x7d4+-0x1*0x2ca3)]=_0x1e0f01[-0x494*0x1+-0x270d+-0x1*-0x2ba2];const _0x1188dc=uc(_0x23c6af);_0x540a4a[_0x42ae5a*ce+(-0x44e+-0xc4+0x16*0x3b)+_0x15c15f['numParticl'+'esPot']*ce]=_0x1188dc[0x4b*-0x1d+-0x1c91*0x1+0x2510],_0x540a4a[_0x42ae5a*ce+(-0x1*0x1f+0x9cd*0x1+0x9ad*-0x1)+_0x15c15f['numParticl'+'esPot']*ce]=_0x1188dc[-0xe9*-0xd+0xa45+-0x1*0x1619];const _0x186e20=uc(_0xdb7f7e);_0x540a4a[_0x42ae5a*ce+(0x1de*-0x7+0x118+-0xec*-0xd)+_0x15c15f['numParticl'+'esPot']*ce]=_0x186e20[0x1818+0x154f+-0x2d67],_0x540a4a[_0x42ae5a*ce+(0x791*0x4+-0x4*-0x811+-0x3e85)+_0x15c15f['numParticl'+'esPot']*ce]=_0x186e20[-0x1b13+0x1*-0x137d+-0x83*-0x5b];const _0x4d5374=-0x1af*0x16+-0x2*0x3b9+0x2c7d;_0x540a4a[_0x42ae5a*ce+(0x1268+-0x1*0x7b1+-0xab4)+_0x15c15f['numParticl'+'esPot']*ce*(0x1f68+0x6e1+-0xef*0x29)]=_0x4d5374;const _0x460b51=Math['max'](_0x15c15f['lifetime'],(_0x15c15f['numParticl'+'es']-(-0x1f95+0x1a87+0x50f))*Math['max'](_0x15c15f['rate'],_0x15c15f['rate2'])),_0x4869d4=_0x15c15f['lifetime']+(-0xf98+0x1bf4+-0xc5b*0x1);_0x4af52c=(_0x4af52c+_0x460b51)/(_0x460b51+_0x4869d4);const _0x56cd86=uA(_0x4af52c);_0x540a4a[_0x42ae5a*ce+(0x2ab*-0x1+-0x120b+-0xa5b*-0x2)+_0x15c15f['numParticl'+'esPot']*ce*(0x29b+0x1efc+-0x2194)]=_0x56cd86[-0x191*0x17+0x1bfa+0x80d],_0x540a4a[_0x42ae5a*ce+(0x466+0x7*-0x3d+0x1*-0x2ba)+_0x15c15f['numParticl'+'esPot']*ce*(-0x10bb+0x1*0xc2f+0x48f)]=_0x56cd86[-0x61*0x35+0x225*-0x9+-0x3*-0xd21],_0x540a4a[_0x42ae5a*ce+(0x985*-0x4+0xb*-0x113+0x31e7)+_0x15c15f['numParticl'+'esPot']*ce*(-0x1006+0x21*-0x43+0x2*0xc56)]=_0x56cd86[-0x4*0x4a1+0x193c+0x1*-0x6b6],_0x540a4a[_0x42ae5a*ce+(-0x16c2+0x26*0x4a+0xbc9)+_0x15c15f['numParticl'+'esPot']*ce*(-0xd8f+0x132f+-0x59d)]=_0x56cd86[0xe77+-0x50d+-0x1d*0x53];}else _0x540a4a[_0x42ae5a*ce]=ti['x'],_0x540a4a[_0x42ae5a*ce+(-0xa*-0x30f+0x1ff8+-0x3e8d)]=ti['y'],_0x540a4a[_0x42ae5a*ce+(0x162b+0x347*-0x3+0x41c*-0x3)]=ti['z'],_0x540a4a[_0x42ae5a*ce+(-0x1*0x21fe+-0x79e*0x3+0x38db)]=Y['lerp'](_0x15c15f['startAngle']*Y['DEG_TO_RAD'],_0x15c15f['startAngle'+'2']*Y['DEG_TO_RAD'],_0x513b8f),_0x540a4a[_0x42ae5a*ce+(0x1987+0x11c+0x1aa0*-0x1)+_0x15c15f['numParticl'+'esPot']*ce]=_0x4af52c;}['update'](_0xdfeea8,_0x1fec5a,_0x405bdf,_0x21f7c7,_0x467512,_0x1c80ae,_0x4f41a3,_0xa27c8){let _0x5a1391,_0x23cf7e,_0x1a6aef;const _0x22d9a1=this['_emitter'];if(_0x22d9a1['meshInstan'+'ce']['node']){const _0x1b8e5f=_0x22d9a1['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x5b8ec5=0x175b+0x19b6+-0x3111;_0x5b8ec5<0x1df9+-0x47*-0x49+0x1ee*-0x1a;_0x5b8ec5++)mf['data'][_0x5b8ec5]=_0x1b8e5f['data'][_0x5b8ec5];_f['copy'](mf),_f['invert'](),Ei=_0x22d9a1['meshInstan'+'ce']['node']['localScale'],Z_=Math['max'](Math['max'](Ei['x'],Ei['y']),Ei['z']);}_0x1c80ae=_0x22d9a1['meshInstan'+'ce']['node']===null||_0x22d9a1['localSpace']?D['ZERO']:_0x22d9a1['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x153cb5=_0x22d9a1['camera']?_0x22d9a1['camera']['_node']['getPositio'+'n']():D['ZERO'],_0x160147=_0x22d9a1['useMesh']?0x74f+0x1*-0x18fe+0x40*0x47:0x123f*0x1+0x2253+0x3*-0x1181;let _0x24fb06,_0x422968,_0x1e3e33,_0x5a13e8,_0x4ec196,_0x487f7f,_0x5b6f2a,_0x214348,_0x4331e0;const _0x3fc6da=_0x22d9a1['precision']-(-0x8*0x46c+-0x28d*-0x2+-0x1*-0x1e47);for(let _0x3d3d09=-0x14c*-0x1+0x23*0x17+-0x17b*0x3;_0x3d3d09<_0x22d9a1['numParticl'+'es'];_0x3d3d09++){const _0x43abd7=Math['floor'](_0x22d9a1['vbCPU'][_0x3d3d09*_0x22d9a1['numParticl'+'eVerts']*(_0x22d9a1['useMesh']?0x1177+0x2016+0x199*-0x1f:0x2*0x80b+0x1de5+-0x2df7)+(-0x19aa+0x1*-0x9b1+0x235e)]),_0x4e3297=_0x405bdf[_0x43abd7*ce+(-0x25b0+-0x1afd+0x40ad*0x1)+_0x22d9a1['numParticl'+'esPot']*(-0x10ba*-0x1+-0x9e*-0x1c+-0x80*0x44)*ce];Ns['x']=_0x4e3297,Ns['y']=_0x405bdf[_0x43abd7*ce+(-0x25b9+-0x26ed+0x4ca7)+_0x22d9a1['numParticl'+'esPot']*(-0x1dcd*0x1+-0x139f+-0x3*-0x107a)*ce],Ns['z']=_0x405bdf[_0x43abd7*ce+(-0x2*-0x22d+-0x36*-0x9a+-0x24d4*0x1)+_0x22d9a1['numParticl'+'esPot']*(-0x1e5+-0xdde+0xfc5)*ce];const _0x46be86=_0x22d9a1['rate']+(_0x22d9a1['rate2']-_0x22d9a1['rate'])*_0x4e3297,_0x401904=_0x22d9a1['lifetime'];let _0x3a5a16=_0x405bdf[_0x43abd7*ce+(-0x14f6+-0x3*0x547+-0x7*-0x542)+_0x22d9a1['numParticl'+'esPot']*ce]+_0x4f41a3;const _0x42623a=fA(_0x3a5a16/_0x401904);let _0x5c9961=-0x6d8+-0x10e8+0x8*0x2f8,_0x100b32=0x2521*0x1+0x1d*0xfd+0x15ee*-0x3;const _0x4810ec=-0x3*-0x557+0x143c+-0x1*0x2441;(_0x3a5a16-_0x4f41a3<=-0x120a+-0x17a8+0x3*0xde6||_0x3a5a16>=_0x401904)&&this['calcSpawnP'+'osition'](_0x405bdf,_0x21f7c7,_0x467512,_0x1c80ae,_0x43abd7);let _0x5bdbd7=_0x3a5a16>-0x1c9f+0x1b*0x30+0x178f&&_0x3a5a16<_0x401904;_0x5bdbd7&&(_0x1a6aef=_0x42623a*_0x3fc6da,_0x24fb06=Math['floor'](_0x1a6aef),_0x422968=Math['ceil'](_0x1a6aef),_0x1a6aef%=-0x9*0x31d+-0xf3a+0x2b40,_0x5a1391=_0x22d9a1['qRotSpeed'][_0x24fb06],_0x23cf7e=_0x22d9a1['qRotSpeed'][_0x422968],_0x1e3e33=_0x5a1391+(_0x23cf7e-_0x5a1391)*_0x1a6aef,_0x5a1391=_0x22d9a1['qRotSpeed2'][_0x24fb06],_0x23cf7e=_0x22d9a1['qRotSpeed2'][_0x422968],_0x5a13e8=_0x5a1391+(_0x23cf7e-_0x5a1391)*_0x1a6aef,_0x5a1391=_0x22d9a1['qScale'][_0x24fb06],_0x23cf7e=_0x22d9a1['qScale'][_0x422968],_0x5c9961=_0x5a1391+(_0x23cf7e-_0x5a1391)*_0x1a6aef,_0x5a1391=_0x22d9a1['qScale2'][_0x24fb06],_0x23cf7e=_0x22d9a1['qScale2'][_0x422968],_0x4ec196=_0x5a1391+(_0x23cf7e-_0x5a1391)*_0x1a6aef,_0x5a1391=_0x22d9a1['qAlpha'][_0x24fb06],_0x23cf7e=_0x22d9a1['qAlpha'][_0x422968],_0x487f7f=_0x5a1391+(_0x23cf7e-_0x5a1391)*_0x1a6aef,_0x5a1391=_0x22d9a1['qAlpha2'][_0x24fb06],_0x23cf7e=_0x22d9a1['qAlpha2'][_0x422968],_0x5b6f2a=_0x5a1391+(_0x23cf7e-_0x5a1391)*_0x1a6aef,_0x5a1391=_0x22d9a1['qRadialSpe'+'ed'][_0x24fb06],_0x23cf7e=_0x22d9a1['qRadialSpe'+'ed'][_0x422968],_0x214348=_0x5a1391+(_0x23cf7e-_0x5a1391)*_0x1a6aef,_0x5a1391=_0x22d9a1['qRadialSpe'+'ed2'][_0x24fb06],_0x23cf7e=_0x22d9a1['qRadialSpe'+'ed2'][_0x422968],_0x4331e0=_0x5a1391+(_0x23cf7e-_0x5a1391)*_0x1a6aef,_0x214348+=(_0x4331e0-_0x214348)*(_0x4e3297*(-0x2323+0xe8*-0xf+0x311f)%(0x6*-0x26+-0x1995+0xd3d*0x2)),Na['x']=_0x405bdf[_0x43abd7*ce],Na['y']=_0x405bdf[_0x43abd7*ce+(0x8c5*-0x3+0x1d15+-0x2c5*0x1)],Na['z']=_0x405bdf[_0x43abd7*ce+(0x8*0x25f+-0x3*0x63a+-0x48)],_0x22d9a1['localSpace']?fo['copy'](Na):fo['copy'](Na)['sub'](_0x1c80ae),fo['normalize']()['mulScalar'](_0x214348),_0x24fb06*=-0x52*0x4e+-0x239a*-0x1+0x389*-0x3,_0x422968*=-0x157a+0x7*-0x3cd+0x3018,_0x5a1391=_0x22d9a1['qLocalVelo'+'city'][_0x24fb06],_0x23cf7e=_0x22d9a1['qLocalVelo'+'city'][_0x422968],_t['x']=_0x5a1391+(_0x23cf7e-_0x5a1391)*_0x1a6aef,_0x5a1391=_0x22d9a1['qLocalVelo'+'city'][_0x24fb06+(-0xd0*-0x1b+0x12ed+-0x28dc)],_0x23cf7e=_0x22d9a1['qLocalVelo'+'city'][_0x422968+(0x1bbb+0x1be+-0x1d78)],_t['y']=_0x5a1391+(_0x23cf7e-_0x5a1391)*_0x1a6aef,_0x5a1391=_0x22d9a1['qLocalVelo'+'city'][_0x24fb06+(0x21*0x1+-0x2359+0x233a)],_0x23cf7e=_0x22d9a1['qLocalVelo'+'city'][_0x422968+(-0x219b+-0x7*-0x382+-0x3*-0x305)],_t['z']=_0x5a1391+(_0x23cf7e-_0x5a1391)*_0x1a6aef,_0x5a1391=_0x22d9a1['qLocalVelo'+'city2'][_0x24fb06],_0x23cf7e=_0x22d9a1['qLocalVelo'+'city2'][_0x422968],Ua['x']=_0x5a1391+(_0x23cf7e-_0x5a1391)*_0x1a6aef,_0x5a1391=_0x22d9a1['qLocalVelo'+'city2'][_0x24fb06+(-0x2e*-0x7a+0x4b*0x73+-0x379c)],_0x23cf7e=_0x22d9a1['qLocalVelo'+'city2'][_0x422968+(-0x3eb*0x5+-0x1bb0+0x2f48)],Ua['y']=_0x5a1391+(_0x23cf7e-_0x5a1391)*_0x1a6aef,_0x5a1391=_0x22d9a1['qLocalVelo'+'city2'][_0x24fb06+(-0xaf3+-0x11b0+0x1ca5)],_0x23cf7e=_0x22d9a1['qLocalVelo'+'city2'][_0x422968+(-0x1*-0xcf5+0x1f99+-0x2c8c)],Ua['z']=_0x5a1391+(_0x23cf7e-_0x5a1391)*_0x1a6aef,_0x5a1391=_0x22d9a1['qVelocity'][_0x24fb06],_0x23cf7e=_0x22d9a1['qVelocity'][_0x422968],ns['x']=_0x5a1391+(_0x23cf7e-_0x5a1391)*_0x1a6aef,_0x5a1391=_0x22d9a1['qVelocity'][_0x24fb06+(0x5*-0x61+-0xbc9+-0xdaf*-0x1)],_0x23cf7e=_0x22d9a1['qVelocity'][_0x422968+(0x1de+0x1*-0x21b8+0xe9*0x23)],ns['y']=_0x5a1391+(_0x23cf7e-_0x5a1391)*_0x1a6aef,_0x5a1391=_0x22d9a1['qVelocity'][_0x24fb06+(0x9*-0xa9+0x23c7+-0x1dd4)],_0x23cf7e=_0x22d9a1['qVelocity'][_0x422968+(-0x3ac*0x2+0x1ea4+-0x174a*0x1)],ns['z']=_0x5a1391+(_0x23cf7e-_0x5a1391)*_0x1a6aef,_0x5a1391=_0x22d9a1['qVelocity2'][_0x24fb06],_0x23cf7e=_0x22d9a1['qVelocity2'][_0x422968],ka['x']=_0x5a1391+(_0x23cf7e-_0x5a1391)*_0x1a6aef,_0x5a1391=_0x22d9a1['qVelocity2'][_0x24fb06+(-0x26d2*-0x1+-0x644*-0x1+-0x2d15)],_0x23cf7e=_0x22d9a1['qVelocity2'][_0x422968+(0x123b+0x93+-0x12cd)],ka['y']=_0x5a1391+(_0x23cf7e-_0x5a1391)*_0x1a6aef,_0x5a1391=_0x22d9a1['qVelocity2'][_0x24fb06+(0x47c+0x158a+0x25*-0xb4)],_0x23cf7e=_0x22d9a1['qVelocity2'][_0x422968+(-0x12b0+-0xbf*0x11+-0x1d*-0x115)],ka['z']=_0x5a1391+(_0x23cf7e-_0x5a1391)*_0x1a6aef,_t['x']+=(Ua['x']-_t['x'])*Ns['x'],_t['y']+=(Ua['y']-_t['y'])*Ns['y'],_t['z']+=(Ua['z']-_t['z'])*Ns['z'],_0x22d9a1['initialVel'+'ocity']>-0x1c4e+-0x3*0x287+0x1*0x23e3&&(_0x22d9a1['emitterSha'+'pe']===zw?(tt['copy'](Ns)['mulScalar'](-0x32*-0x9+0x9*-0x43b+0x2453)['sub'](D['ONE'])['normalize'](),_t['add'](tt['mulScalar'](_0x22d9a1['initialVel'+'ocity']))):_t['add'](D['FORWARD']['mulScalar'](_0x22d9a1['initialVel'+'ocity']))),ns['x']+=(ka['x']-ns['x'])*Ns['x'],ns['y']+=(ka['y']-ns['y'])*Ns['y'],ns['z']+=(ka['z']-ns['z'])*Ns['z'],_0x1e3e33+=(_0x5a13e8-_0x1e3e33)*Ns['y'],_0x5c9961=(_0x5c9961+(_0x4ec196-_0x5c9961)*(_0x4e3297*(-0x29f7+0x2ff5+0x2112)%(0xda*-0x23+0xa6f+-0x4d8*-0x4)))*Z_,_0x100b32=(_0x5b6f2a-_0x487f7f)*(_0x4e3297*(-0x13af+0x533*-0x2+0x21fd)%(-0x1ac*0x5+-0x92a+0x7*0x281)),_0x22d9a1['meshInstan'+'ce']['node']&&(_0x22d9a1['localSpace']?(_t['x']/=Ei['x'],_t['y']/=Ei['y'],_t['z']/=Ei['z']):mf['transformP'+'oint'](_t,_t)),_0x22d9a1['localSpace']?(_f['transformP'+'oint'](ns,ns),_t['add'](ns)['add'](fo)):(_t['add'](ns['mul'](Ei)),_t['add'](fo['mul'](Ei))),fc['copy'](_t),Q_['copy'](Na)['add'](_t['mulScalar'](_0x4f41a3)),zt['copy'](Q_),_0x405bdf[_0x43abd7*ce]=zt['x'],_0x405bdf[_0x43abd7*ce+(0x50e*0x6+0x8b*-0x3e+0x5*0xab)]=zt['y'],_0x405bdf[_0x43abd7*ce+(0x9b4+-0x7a2+-0x16*0x18)]=zt['z'],_0x405bdf[_0x43abd7*ce+(-0x1*-0x12ca+-0xc2*-0x2e+0x35a3*-0x1)]+=_0x1e3e33*_0x4f41a3,_0x22d9a1['wrap']&&_0x22d9a1['wrapBounds']&&(_0x22d9a1['localSpace']||zt['sub'](_0x1c80ae),zt['x']=gf(zt['x'],_0x22d9a1['wrapBounds']['x'])-_0x22d9a1['wrapBounds']['x']*(0x98b+-0xdfd+-0x1*-0x472+0.5),zt['y']=gf(zt['y'],_0x22d9a1['wrapBounds']['y'])-_0x22d9a1['wrapBounds']['y']*(0x2*-0x1109+0x5f2+-0x168*-0x14+0.5),zt['z']=gf(zt['z'],_0x22d9a1['wrapBounds']['z'])-_0x22d9a1['wrapBounds']['z']*(-0x18df+-0xfd8+0x28b7+0.5),_0x22d9a1['localSpace']||zt['add'](_0x1c80ae)),_0x22d9a1['sort']>0x192e*0x1+0x17*-0x61+-0x1077&&(_0x22d9a1['sort']===-0x4a7+-0x1643+-0x3*-0x8f9?(kr['copy'](zt)['sub'](_0x153cb5),_0x22d9a1['particleDi'+'stance'][_0x43abd7]=-(kr['x']*kr['x']+kr['y']*kr['y']+kr['z']*kr['z'])):_0x22d9a1['sort']===0x5*-0x298+0x2439+0x1*-0x173f?_0x22d9a1['particleDi'+'stance'][_0x43abd7]=_0x3a5a16:_0x22d9a1['sort']===0x1ef1*0x1+-0x32*-0x51+-0x2ec0&&(_0x22d9a1['particleDi'+'stance'][_0x43abd7]=-_0x3a5a16))),_0xa27c8?_0x3a5a16<-0x2d*-0x3e+0x15c5+-0x20ab&&(_0x405bdf[_0x43abd7*ce+(0x262d+0xa7f*-0x2+-0x9d*0x1c)+_0x22d9a1['numParticl'+'esPot']*(-0x2*0x46f+-0x2dc*0x4+0x1450)*ce]=-(-0x5e5+0x8e7+0x1*-0x301)):(_0x3a5a16>=_0x401904&&(_0x3a5a16-=Math['max'](_0x401904,(_0x22d9a1['numParticl'+'es']-(-0x4b2*0x7+-0xb*0x2a5+0x9a*0x67))*_0x46be86),_0x405bdf[_0x43abd7*ce+(0x8*0x481+-0x89e*-0x1+0xee1*-0x3)+_0x22d9a1['numParticl'+'esPot']*(0x17*-0x95+0x1e0b+-0x10a6)*ce]=_0x22d9a1['loop']?-0x2ed*0x7+0x21fe+-0xd82:-(0x1*0x442+0x65d*-0x1+-0x12*-0x1e)),_0x3a5a16<-0x3f5*-0x2+0x2182+-0x296c&&_0x22d9a1['loop']&&(_0x405bdf[_0x43abd7*ce+(0x2236+0x4c6+-0x26f9)+_0x22d9a1['numParticl'+'esPot']*(-0x202+0xa4f*-0x1+-0x5*-0x277)*ce]=0x9d*-0x22+0x2*0x137b+0x67*-0x2d)),_0x405bdf[_0x43abd7*ce+(-0xe4a+-0x66e+0x14bb)+_0x22d9a1['numParticl'+'esPot']*(-0x2*0x48+-0x4*-0x231+-0x832)*ce]<-0x2683+0x117d+0x19e*0xd&&(_0x5bdbd7=!(0x22*-0xec+0x2270+0x317*-0x1)),_0x405bdf[_0x43abd7*ce+(0x141d+-0xe24+0x5f6*-0x1)+_0x22d9a1['numParticl'+'esPot']*ce]=_0x3a5a16;for(let _0x421789=0x1788+-0x1d21+0x599*0x1;_0x421789<_0x22d9a1['numParticl'+'eVerts'];_0x421789++){const _0x4b3667=(_0x3d3d09*_0x22d9a1['numParticl'+'eVerts']+_0x421789)*(_0x22d9a1['useMesh']?-0x184*-0x1+0x1c89+-0x1e07:0xe19+0xb1b+-0x2*0xc98);let _0x353005=_0x22d9a1['vbCPU'][_0x4b3667],_0x195663=_0x22d9a1['vbCPU'][_0x4b3667+(-0x147d*-0x1+0x1*0x4f5+-0x1971)],_0x171cde=_0x22d9a1['vbCPU'][_0x4b3667+(-0x2394+-0x22ce+-0x6a*-0xaa)];_0x5bdbd7||(_0x353005=_0x195663=_0x171cde=-0x78d+0x9cb*-0x3+-0x1277*-0x2);const _0x4647e4=_0x3d3d09*_0x22d9a1['numParticl'+'eVerts']*_0x160147+_0x421789*_0x160147;_0xdfeea8[_0x4647e4]=zt['x'],_0xdfeea8[_0x4647e4+(-0x3*-0xba7+0x2*0x128b+-0x480a)]=zt['y'],_0xdfeea8[_0x4647e4+(0x16fd+0x6d6+0x1*-0x1dd1)]=zt['z'],_0xdfeea8[_0x4647e4+(-0x2*0x2cf+-0x1*0x2590+0x2b31)]=_0x42623a,_0xdfeea8[_0x4647e4+(-0x2142+-0x6cb+0x2811)]=_0x22d9a1['alignToMot'+'ion']?_0x4810ec:_0x405bdf[_0x43abd7*ce+(0x28a+0x1*-0x5a3+0x31c)],_0xdfeea8[_0x4647e4+(-0x5*-0x9d+-0x8cc*0x1+-0x5c*-0x10)]=_0x5c9961,_0xdfeea8[_0x4647e4+(-0x56c+-0x235a+0x28cc)]=_0x100b32,_0xdfeea8[_0x4647e4+(-0x57b*0x5+-0x1b1d+-0x1*-0x368b)]=fc['x'],_0xdfeea8[_0x4647e4+(-0x1351+0x6*0x42b+0x15*-0x45)]=_0x353005,_0xdfeea8[_0x4647e4+(-0x1d33+-0xe9c+0x2bd8)]=_0x195663,_0xdfeea8[_0x4647e4+(-0x78d+0x2304+-0x1b6d)]=_0x171cde,_0xdfeea8[_0x4647e4+(0xa75*-0x1+-0x1367+0x1de7*0x1)]=fc['y'],_0xdfeea8[_0x4647e4+(-0x1a5c+-0x249f+-0x901*-0x7)]=_0x43abd7,_0xdfeea8[_0x4647e4+(-0x73a+-0x127d*0x2+0x2c41)]=fc['z'],_0xdfeea8[_0x4647e4+(0x22aa+0x1f12+-0x41ae)]=_0x22d9a1['vbCPU'][_0x4b3667+(0x1*0x17b3+-0x1243+-0x1cf*0x3)],_0x22d9a1['useMesh']&&(_0xdfeea8[_0x4647e4+(-0x228+-0x2*-0x11bd+-0x1*0x2143)]=_0x22d9a1['vbCPU'][_0x4b3667+(-0x9*-0xeb+-0x1503+0xcc4*0x1)],_0xdfeea8[_0x4647e4+(0xfe6*-0x1+0x2303+-0x130d)]=_0x22d9a1['vbCPU'][_0x4b3667+(-0x4fa+0xcb9*-0x2+0x1e71)]);}}if(_0x22d9a1['sort']>nu&&_0x22d9a1['camera']){const _0x548fee=_0x22d9a1['useMesh']?0xeb3+-0x142d+0x580:0x1aff+-0xd84+-0xd77,_0x488c5a=_0x22d9a1['particleDi'+'stance'];for(let _0x278e77=-0x20a8+-0xf0b+0x2fb3;_0x278e77<_0x22d9a1['numParticl'+'es'];_0x278e77++)_0x1fec5a[_0x278e77][-0x1d*-0x65+-0x1adb+0xf6a]=_0x278e77,_0x1fec5a[_0x278e77][-0xc84+-0x2328+0x2fad]=_0x488c5a[Math['floor'](_0x22d9a1['vbCPU'][_0x278e77*_0x22d9a1['numParticl'+'eVerts']*_0x548fee+(0x3d*0x1+-0xf91+0xf57)])];_0x22d9a1['vbOld']['set'](_0x22d9a1['vbCPU']),_0x1fec5a['sort']((_0xec5f0e,_0x12264c)=>_0xec5f0e[-0xce6+-0x1319+0x4*0x800]-_0x12264c[0x23b5+0x3b*0x4d+-0x11d1*0x3]);for(let _0x37d96c=0xac1+0x53*0x22+-0x15c7;_0x37d96c<_0x22d9a1['numParticl'+'es'];_0x37d96c++){const _0x4e0623=_0x1fec5a[_0x37d96c][0x13fa+0x207d*0x1+-0x3477]*_0x22d9a1['numParticl'+'eVerts']*_0x548fee,_0x183cb8=_0x37d96c*_0x22d9a1['numParticl'+'eVerts']*_0x548fee;for(let _0x426c1d=0x2ec+0x12ed+-0x15d9;_0x426c1d<_0x22d9a1['numParticl'+'eVerts']*_0x548fee;_0x426c1d++)_0x22d9a1['vbCPU'][_0x183cb8+_0x426c1d]=_0x22d9a1['vbOld'][_0x4e0623+_0x426c1d];}}}}const J_=new _i(),eg=new _i(),tg=new _i();class mA{constructor(_0x13e8d7,_0x3dc044){this['_emitter']=_0x13e8d7,this['frameRando'+'mUniform']=new Float32Array(0x23*0x105+0x35a+-0x2706),this['emitterPos'+'Uniform']=new Float32Array(-0x1373+-0x16b4*-0x1+-0x33e),this['emitterSca'+'leUniform']=new Float32Array([-0x2565+0x1e1a+0x2*0x3a6,0x1*-0x1ee0+-0x1cc3+0x3ba4,0x1561+-0x606+-0xf5a]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(0x23af+-0x13ee+-0xfbe),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(-0xd2d*0x1+0xd18+0x18),this['inBoundsSi'+'zeUniform']=new Float32Array(0x1ad7+0x3*-0x6d+0x1f*-0xd3),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(0x1df0+0x1541+-0x332e),this['constantPa'+'rticleTexI'+'N']=_0x3dc044['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x3dc044['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x3dc044['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x3dc044['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x3dc044['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x3dc044['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x3dc044['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x3dc044['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x3dc044['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x3dc044['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x3dc044['scope']['resolve']('delta'),this['constantRa'+'te']=_0x3dc044['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x3dc044['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x3dc044['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x3dc044['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x3dc044['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x3dc044['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x3dc044['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x3dc044['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x3dc044['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x3dc044['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x3dc044['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x3dc044['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x3dc044['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x3dc044['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x3dc044['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x3dc044['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x3dc044['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x3dc044['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x3dc044['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x3dc044['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x3dc044['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x3dc044['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x3dc044['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x3dc044['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x3dc044['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x3dc044['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][-0x1c8e+0x1*-0x1c4b+-0x1b9*-0x21]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][-0x124*-0x3+-0x31*-0x26+-0xa1*0x11]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][0x241e+0x16f9+-0x79*0x7d]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][0x2*0x106b+0x1719+0x637*-0x9]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][0x579*-0x3+-0x5*-0x675+-0xfdd]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][0x1*0xd42+0x174a+-0x248a]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][-0xb4f+0xe*0x1af+0x2b*-0x49]=Math['random'](),this['frameRando'+'mUniform'][-0xea5+0x263e+0x28*-0x97]=Math['random'](),this['frameRando'+'mUniform'][-0x1*-0x1a5d+0x1*-0x127e+0x3d*-0x21]=Math['random']();}['update'](_0x4dcdd2,_0x23f5c7,_0x183274,_0x26f997,_0x23d52e){Q['pushGpuMar'+'ker'](_0x4dcdd2,'ParticleGP'+'U');const _0x1cffcd=this['_emitter'];_0x4dcdd2['setBlendSt'+'ate'](pt['NOBLEND']),_0x4dcdd2['setDepthSt'+'ate'](Yt['NODEPTH']),_0x4dcdd2['setCullMod'+'e'](bt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((0x3bb+0x2709+-0x2ac3)/_0x1cffcd['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x1cffcd['precision']),this['constantNu'+'mParticles']['setValue'](_0x1cffcd['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x1cffcd['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x1cffcd['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x1cffcd['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x1cffcd['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x1cffcd['internalTe'+'x3']);const _0x2949d2=_0x1cffcd['meshInstan'+'ce']['node'],_0x49e986=_0x2949d2===null?D['ONE']:_0x2949d2['localScale'];if(_0x1cffcd['pack8']){this['worldBound'+'sMulUnifor'+'m'][0x2408+-0x245c+-0x3*-0x1c]=_0x1cffcd['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][-0xe04+0x1b97+-0xd92]=_0x1cffcd['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][0x695*-0x3+0x1246+-0x17b*-0x1]=_0x1cffcd['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][-0xde0*-0x2+0x10*-0xa+0x38*-0x7c]=_0x1cffcd['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][-0x2362+0x1051*0x1+0x1*0x1312]=_0x1cffcd['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][-0x79*0x3+-0x2*0x3f5+0x957]=_0x1cffcd['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x2e5994=_0x1cffcd['maxVel']*Math['max'](Math['max'](_0x49e986['x'],_0x49e986['y']),_0x49e986['z']);_0x2e5994=Math['max'](_0x2e5994,0x37d*-0x7+0x1*0x1e1f+-0x5b3),this['constantMa'+'xVel']['setValue'](_0x2e5994);}const _0x3d0083=_0x2949d2===null||_0x1cffcd['localSpace']?D['ZERO']:_0x2949d2['getPositio'+'n'](),_0x2b7587=_0x2949d2===null?te['IDENTITY']:_0x2949d2['getWorldTr'+'ansform']();_0x1cffcd['emitterSha'+'pe']===ai?(J_['setFromMat'+'4'](_0x23f5c7),this['constantSp'+'awnBounds']['setValue'](J_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x183274)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x1cffcd['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x1cffcd['emitterRad'+'ius']===0x515*-0x2+-0x97*-0x3b+-0x18a3?0x358*-0x1+-0x1e3b+0x2193:_0x1cffcd['emitterRad'+'iusInner']/_0x1cffcd['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x1cffcd['initialVel'+'ocity']),eg['setFromMat'+'4'](_0x2b7587),tg['invertMat4'](_0x2b7587),this['emitterPos'+'Uniform'][0x1ad*0x2+-0x5*-0x1db+-0x3d*0x35]=_0x3d0083['x'],this['emitterPos'+'Uniform'][-0x1c3f+-0x13*-0x89+-0x1215*-0x1]=_0x3d0083['y'],this['emitterPos'+'Uniform'][-0x15b*-0xe+-0xa0f+-0x8e9]=_0x3d0083['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x26f997),this['constantRa'+'te']['setValue'](_0x1cffcd['rate']),this['constantRa'+'teDiv']['setValue'](_0x1cffcd['rate2']-_0x1cffcd['rate']),this['constantSt'+'artAngle']['setValue'](_0x1cffcd['startAngle']*Y['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x1cffcd['startAngle'+'2']*Y['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x1cffcd['seed']),this['constantLi'+'fetime']['setValue'](_0x1cffcd['lifetime']),this['emitterSca'+'leUniform'][-0x79d+-0x1edb+0x2678]=_0x49e986['x'],this['emitterSca'+'leUniform'][0x61f*-0x5+-0x7*-0x43+0x1cc7]=_0x49e986['y'],this['emitterSca'+'leUniform'][-0x14*0x1f+0x153a*-0x1+0x17a8]=_0x49e986['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](eg['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](tg['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x1cffcd['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x1cffcd['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x1cffcd['rotSpeedUM'+'ax'][0x6c7+0x1312+-0x19d9]);let _0x13f1c3=_0x1cffcd['swapTex']?_0x1cffcd['particleTe'+'xOUT']:_0x1cffcd['particleTe'+'xIN'];_0x13f1c3=_0x1cffcd['beenReset']?_0x1cffcd['particleTe'+'xStart']:_0x13f1c3;const _0xc71bf1=_0x1cffcd['swapTex']?_0x1cffcd['particleTe'+'xIN']:_0x1cffcd['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x13f1c3),Ar(_0x4dcdd2,_0x1cffcd['swapTex']?_0x1cffcd['rtParticle'+'TexIN']:_0x1cffcd['rtParticle'+'TexOUT'],_0x23d52e?_0x1cffcd['shaderPart'+'icleUpdate'+'OnStop']:_0x1cffcd['loop']?_0x1cffcd['shaderPart'+'icleUpdate'+'Respawn']:_0x1cffcd['shaderPart'+'icleUpdate'+'NoRespawn']),_0x1cffcd['material']['setParamet'+'er']('particleTe'+'xOUT',_0x13f1c3),_0x1cffcd['material']['setParamet'+'er']('particleTe'+'xIN',_0xc71bf1),_0x1cffcd['beenReset']=!(0x15eb+-0xd22*0x1+-0x8*0x119),_0x1cffcd['swapTex']=!_0x1cffcd['swapTex'],_0x1cffcd['prevWorldB'+'oundsSize']['copy'](_0x1cffcd['worldBound'+'sSize']),_0x1cffcd['prevWorldB'+'oundsCente'+'r']['copy'](_0x1cffcd['worldBound'+'s']['center']),_0x1cffcd['pack8']&&this['_setInputB'+'ounds'](),Q['popGpuMark'+'er'](_0x4dcdd2);}}const sg=['NONE','VERTEX','MAP'];class _A extends ya{['generateKe'+'y'](_0x1773b9){let _0x46b1fd='particle_'+ya['definesHas'+'h'](_0x1773b9['defines'])+'_';for(const _0x1ecb11 in _0x1773b9)_0x1773b9['hasOwnProp'+'erty'](_0x1ecb11)&&(_0x46b1fd+=_0x1773b9[_0x1ecb11]);return _0x46b1fd;}['createVert'+'exDefines'](_0x291fe5,_0x43a7c8){const _0x3bb74b=new Map(_0x291fe5['defines']);return _0x291fe5['mesh']&&_0x3bb74b['set']('USE_MESH',''),_0x291fe5['meshUv']&&_0x3bb74b['set']('USE_MESH_U'+'V',''),_0x291fe5['localSpace']&&_0x3bb74b['set']('LOCAL_SPAC'+'E',''),_0x291fe5['screenSpac'+'e']&&_0x3bb74b['set']('SCREEN_SPA'+'CE',''),_0x291fe5['animTex']&&_0x3bb74b['set']('ANIMTEX',''),_0x291fe5['soft']>-0x1747+-0x11e3+0x292a&&_0x3bb74b['set']('SOFT',''),_0x291fe5['stretch']>0x1*0x2243+0x26*0x4f+-0xc1*0x3d&&_0x3bb74b['set']('STRETCH',''),_0x291fe5['customFace']&&_0x3bb74b['set']('CUSTOM_FAC'+'E',''),_0x291fe5['pack8']&&_0x3bb74b['set']('PACK8',''),_0x291fe5['localSpace']&&_0x3bb74b['set']('LOCAL_SPAC'+'E',''),_0x291fe5['animTexLoo'+'p']&&_0x3bb74b['set']('ANIMTEX_LO'+'OP',''),_0x291fe5['wrap']&&_0x3bb74b['set']('WRAP',''),_0x291fe5['alignToMot'+'ion']&&_0x3bb74b['set']('ALIGN_TO_M'+'OTION',''),_0x3bb74b['set']('NORMAL',sg[_0x291fe5['normal']]),_0x43a7c8['particle_v'+'ertexData']=Me,_0x291fe5['mesh']&&_0x291fe5['meshUv']&&(_0x43a7c8['particle_u'+'v']=is),_0x291fe5['useCpu']&&(_0x43a7c8['particle_v'+'ertexData2']=uh,_0x43a7c8['particle_v'+'ertexData3']=Ap,_0x43a7c8['particle_v'+'ertexData4']=Cp,_0x43a7c8['particle_v'+'ertexData5']=Pp),_0x3bb74b;}['createFrag'+'mentDefine'+'s'](_0x6b788e){const _0x561bae=new Map(_0x6b788e['defines']);return _0x6b788e['soft']>-0x19e4*-0x1+-0xb82+-0xe62&&_0x561bae['set']('SOFT',''),_0x6b788e['halflamber'+'t']&&_0x561bae['set']('HALF_LAMBE'+'RT',''),_0x561bae['set']('NORMAL',sg[_0x6b788e['normal']]),_0x561bae['set']('BLEND',Yy[_0x6b788e['blend']]),_0x561bae;}['createShad'+'erDefiniti'+'on'](_0x38f620,_0x377445){const _0x6881fd=_0x38f620['isWebGPU']?it:Fe,_0x32461d=Pe['get'](_0x38f620,_0x6881fd),_0x3069bb={},_0x483987=this['createVert'+'exDefines'](_0x377445,_0x3069bb),_0x3cbd75=this['createFrag'+'mentDefine'+'s'](_0x377445),_0x98338f='PARTICLE_'+(_0x377445['useCpu']?'CPU':'GPU')+'\x0a';_0x483987['set'](_0x98338f,''),_0x3cbd75['set'](_0x98338f,'');const _0x12652d=new Map(_0x32461d);return Jt['createDefi'+'nition'](_0x38f620,{'name':'ParticleSh'+'ader','shaderLanguage':_0x6881fd,'attributes':_0x3069bb,'vertexCode':_0x32461d['get']('particle_s'+'haderVS'),'fragmentCode':_0x32461d['get']('particle_s'+'haderPS'),'fragmentDefines':_0x3cbd75,'fragmentIncludes':_0x12652d,'vertexIncludes':_0x12652d,'vertexDefines':_0x483987});}}const gA=new _A();class SA extends tr{constructor(_0x5d0771){super(),h(this,'emitter',null),(this['emitter']=_0x5d0771,w['assert'](_0x5d0771));}['getShaderV'+'ariant'](_0x5677c4){const {device:_0x4b4078,scene:_0x55edbb,cameraShaderParams:_0x5d08ee,objDefs:_0xc5b7b5}=_0x5677c4,{emitter:_0x57f5d6}=this,_0x430ccd={'defines':$t['getCoreDef'+'ines'](this,_0x5677c4),'pass':Aa,'useCpu':this['emitter']['useCpu'],'normal':_0x57f5d6['lighting']?_0x57f5d6['normalMap']!==null?0x22*-0x72+0x26*-0x23+0x4*0x516:0x1206+-0x1*-0x19a9+-0x2bae:-0x2*0x10e1+0x2*0x114a+-0xd2,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'meshUv':_0xc5b7b5&nm,'gamma':(_0x5d08ee==null?void(-0x3*0xc11+0x1ead*-0x1+0xa0*0x6b):_0x5d08ee['shaderOutp'+'utGamma'])??Ll,'toneMap':(_0x5d08ee==null?void(0x2535+0x21de+-0x4bd*0xf):_0x5d08ee['toneMappin'+'g'])??sm,'fog':_0x55edbb&&!this['emitter']['noFog']?_0x55edbb['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x57f5d6['inTools']?!(0x1132+0x3*0xe3+-0x13da):this['emitter']['screenSpac'+'e'],'blend':this['emitter']['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==yh},_0xdcdc2=new Ad(_0x5677c4['viewUnifor'+'mFormat'],_0x5677c4['viewBindGr'+'oupFormat'],_0x5677c4['vertexForm'+'at']),_0x467232=Hn(_0x4b4078);return _0x467232['register']('particle',gA),_0x467232['getProgram']('particle',_0x430ccd,_0xdcdc2,this['userId']);}}const ig=[[-(-0x1*0x20b9+-0x86d*0x1+0x2927),-(-0x4*0x8bf+0xc91*-0x2+-0x1*-0x3c1f)],[0x5f*-0x29+-0x25a3+-0x7*-0x78d,-(-0x2263*-0x1+-0x7aa+-0x1*0x1ab8)],[0x15be+-0x95*0x29+0x220,-0x16d2+-0x18e8+0xfe9*0x3],[-(-0x12fe+-0x10f3*0x1+-0xd6*-0x2b),-0x2453*0x1+0x1e7*-0xe+0x1*0x3ef6]];function xs(_0x18f908,_0x29a9d3,_0x5635b2,_0x59681f,_0xe886fc=Xt,_0x3396f9,_0x2456db){let _0x1ece2e=Te;_0x2456db&&(_0xe886fc===Ne||_0xe886fc===_s)&&(_0x1ece2e=vt);const _0x28c861=new _e(_0x18f908,{'width':_0x29a9d3,'height':_0x5635b2,'format':_0xe886fc,'cubemap':!(-0xc36+0x8c6*-0x2+0x1dc3),'mipmaps':!(-0xbfc+-0x20c0+0x2cbd),'minFilter':_0x1ece2e,'magFilter':_0x1ece2e,'addressU':ue,'addressV':ue,'name':'ParticleSy'+'stemTextur'+'e'}),_0x23fedd=_0x28c861['lock']();if(_0xe886fc===Ne||_0xe886fc===_s){const _0xfa40ff=new Uint8Array(_0x59681f['length']);for(let _0x12cf14=0x7b*0x35+0x1f0a*-0x1+0x593;_0x12cf14<_0x59681f['length'];_0x12cf14++)_0xfa40ff[_0x12cf14]=_0x59681f[_0x12cf14]*_0x3396f9*(-0x7d*0x19+0x17ae+-0x37e*0x3);_0x59681f=_0xfa40ff;}return _0x23fedd['set'](_0x59681f),_0x28c861['unlock'](),_0x28c861;}function rg(_0x16cd31){return Math['max'](Math['min'](_0x16cd31,-0x149d+0x5*0x491+-0x237),0x655*0x6+0xa*0xe2+-0x2ed2);}const ag=new qs([-0x3*-0x7b0+0x1*0x1066+-0x2776,-0x136d*0x2+0x1*-0x1235+0x1b*0x21d,0x2172+0x1*-0x1f93+-0x1de,-0x580+-0xdf*-0x29+-0x1e37]),ng=new qs([-0x10ea+-0x2334*-0x1+-0x124a*0x1,-0x1989+-0x179*0x1+-0x901*-0x3,-0x20c1+0x1c5c+0x466,-0x5*0x81+-0xbeb+0xe71]),og=new na([-0x11*0x1b0+-0x113d+0x2ded,0xa17+0x213a*0x1+-0x1*0x2b51,0x1e8c+-0x2*0x856+-0xddf,-0x1*-0x18ac+0x303+0x1baf*-0x1],[0xc*-0x32d+-0x197d+0x3*0x1533,0x8c9+-0x1b1+-0x718,0x4*-0x1f7+-0x189a+0x2077,0x265*-0x1+-0x1*-0x1b47+-0x18e2],[0x1864+0x3*0x997+-0x3529,-0xe2*0x13+-0x581+0x1647,0x1172*-0x1+-0x1*-0x261e+-0x14ab,0x7b5+0x527*-0x7+0xe2e*0x2]),yA=new na([0x12c5+-0x1*-0x2561+-0x3826,-0x1e4b+0x1*-0xc21+0x2a6d*0x1,0xd58*-0x2+0xd3*-0x17+0x2*0x16d3,-0x1*0x1694+0x27*-0x21+0x72*0x3e],[-0x1c3a+0x2*0x243+0x17b4,0x27a+-0x1*0x24af+0x3a*0x97,0x138a+0x1e*-0x3f+-0x3*0x40d,-0x4d*0x61+-0x1666+0x3394],[-0x2ba*0xa+-0x67*0x4a+0x1c85*0x2,0x23b+0x1*0x118d+-0x1*0x13c7,-0x9b5*0x3+-0x5c*0x17+0x4*0x959,-0xa*-0x92+-0x1*-0x2325+-0x28d8]);let bi=-0x1cbd*-0x1+0xc0*-0x2f+0x685;const pc=-0x14a6+-0x361*-0x9+-0x9bf,Ai=new Float32Array(-0x1fa5*0x1+0x120*-0x11+-0x32c8*-0x1),Ur=new te(),lg=new D(),mc=new D(),_c=new D();let uu,Zc;function he(_0x58f795,_0x4caec5){Zc[_0x58f795]!==void(0x8c9+0x2*-0xf89+-0x1*-0x1649)&&Zc[_0x58f795]!==null?uu[_0x58f795]=Zc[_0x58f795]:uu[_0x58f795]=_0x4caec5;}function Dv(_0x3828cc,_0x121910,_0xacbac9){return(_0x3828cc*(-0xe18+0x1b97+-0x80*0x19)<<-0x109b+-0x219+-0x962*-0x2|_0x121910*(0x2*0xce6+-0x160f+-0x2be)<<-0x67*-0x18+-0x379+-0x4b*0x15|_0xacbac9*(-0x13f9+0x1e9d+0x3*-0x337))/(-0x79+-0x6f*-0x3a+-0x18ac<<0x478+0x32*0x22+-0xb04);}function cg(_0x359517,_0x2a2402){const _0x128205=_0x359517['length']/(-0x24b*0x8+-0x2704+0x395f),_0x3981ec=new Array(_0x128205*(-0x259c+0xbd4+0x19cc));for(let _0x46435a=-0xd01+0x5a0+0x761*0x1;_0x46435a<_0x128205;_0x46435a++)_0x3981ec[_0x46435a*(0x378*-0xb+0x21*-0x26+0x2b12)]=_0x359517[_0x46435a*(0x13*0x87+-0x23dc+0x89e*0x3)],_0x3981ec[_0x46435a*(0xa3e+-0xb3*0x2f+0x131*0x13)+(-0x1*-0x48f+0x1fcd+-0x29*0xe3)]=_0x359517[_0x46435a*(-0x15b*-0x1+0x50d+-0x665)+(-0xdb5+-0x1*-0x683+-0x61*-0x13)],_0x3981ec[_0x46435a*(0x475*-0x1+-0x2ac*0xd+0x2735)+(0x1c12*0x1+-0x563+0x489*-0x5)]=_0x359517[_0x46435a*(-0x505+-0x379*0x7+0x1*0x1d57)+(-0x1a83+0x1*0x1ad2+-0x4d)],_0x3981ec[_0x46435a*(0x11*0xe+-0xd25*-0x1+-0x1*0xe0f)+(-0x10db*-0x1+0x3*-0x959+0xb33*0x1)]=Dv(_0x2a2402[_0x46435a*(0x9ad*0x2+0x6e+-0x13c5)],_0x2a2402[_0x46435a*(-0x1b19*0x1+0x13c6*-0x1+0x161*0x22)+(0x359*0x7+-0x1d5*0xd+0x63)],_0x2a2402[_0x46435a*(0x1710+-0x1*-0x22b2+-0x39bf)+(-0x9e5*-0x2+-0xc13+0x1*-0x7b5)]);return _0x3981ec;}function vA(_0x5e159a,_0x298d39){const _0x4673df=new Array(_0x298d39['length']*(0x2493+-0xa00*0x1+-0x1a8f));for(let _0x59bbba=0x1*-0x194+0x11*0x5c+-0xa*0x74;_0x59bbba<_0x298d39['length'];_0x59bbba++)_0x4673df[_0x59bbba*(-0x18e6+-0x4*-0xd4+0x159a)]=_0x5e159a[_0x59bbba*(-0xa3*0x9+0xf11+-0x953)],_0x4673df[_0x59bbba*(-0x5f*0x35+-0xa34*0x3+0x324b)+(0x26e0+0x2168+-0x4847)]=_0x5e159a[_0x59bbba*(-0x5*0x69b+0x1*-0x1309+0x1*0x3413)+(0x1cda+0x44+-0x1d1d)],_0x4673df[_0x59bbba*(-0x1ed6+-0x17*-0xa+0x1df4)+(0xc3b+0x1*0x2113+-0x2*0x16a6)]=_0x5e159a[_0x59bbba*(0x89e*0x1+-0x25b7*-0x1+-0x436*0xb)+(-0x1465*0x1+-0x1a51*-0x1+-0x5ea)],_0x4673df[_0x59bbba*(0xb04+-0x509*0x3+-0x1*-0x41b)+(0x172f+0xcfd+-0x2429)]=_0x298d39[_0x59bbba];return _0x4673df;}function xA(_0x4ed3b3,_0x4951c1,_0x1aba46,_0x29839c,_0x44e96a){const _0x22bf1d=new Array(_0x4ed3b3['length']*(0x1*0xb56+-0xb7d*0x3+-0x7b7*-0x3));for(let _0x410b87=0x22*0xb5+0xfe9+-0x7*0x5b5;_0x410b87<_0x4ed3b3['length'];_0x410b87++)_0x22bf1d[_0x410b87*(0x1dff+0xb*-0x2af+-0x76)]=_0x4ed3b3[_0x410b87],_0x22bf1d[_0x410b87*(-0x1978+-0x9*0x12a+-0x23f6*-0x1)+(-0xc54+-0x193e+-0x2593*-0x1)]=_0x4951c1[_0x410b87],_0x22bf1d[_0x410b87*(-0x3a4*-0x9+0x19f2+0x1d59*-0x2)+(-0x21dd+0xd31*0x1+0x14ae)]=-0xaa9*-0x1+-0x22*0x3+-0xa43,_0x22bf1d[_0x410b87*(0x244d*0x1+-0x3d5+-0x86*0x3e)+(-0x146*-0x1b+-0x194e+0xb*-0xd3)]=Dv(_0x1aba46[_0x410b87],_0x29839c[_0x410b87],_0x44e96a[_0x410b87]);return _0x22bf1d;}function TA(_0x26e6a5,_0x1e8058){const _0x5e60cd=new Array(_0x26e6a5['length']*(-0x1*-0x15c1+-0x1480+-0x13d));for(let _0x152afa=-0x1444+0x1*0x13d7+0x6d*0x1;_0x152afa<_0x26e6a5['length'];_0x152afa++)_0x5e60cd[_0x152afa*(0x1*0x3e3+0xdf*0x5+-0x83a)]=_0x26e6a5[_0x152afa],_0x5e60cd[_0x152afa*(0x6*-0x44c+-0x9b0+0x237c)+(-0x1fe7+0x113d*-0x2+0x4262*0x1)]=_0x1e8058[_0x152afa],_0x5e60cd[_0x152afa*(-0x5db*0x2+0x104*0x1e+-0x12be)+(-0x1*0x1886+-0x46*-0x15+0x2*0x965)]=-0x1745+0x14a4+0x2a1*0x1,_0x5e60cd[_0x152afa*(0x121+-0x1268+0x114b*0x1)+(0x25b7+0xa48+-0x2ffc)]=0xc*-0x8+0x1*-0x431+0x491;return _0x5e60cd;}function wA(_0x5bb3de){const _0x476ba4=Math['max'](_0x5bb3de['rate'],_0x5bb3de['rate2'])*_0x5bb3de['numParticl'+'es']+_0x5bb3de['lifetime'];return Date['now']()+_0x476ba4*(0xd*-0x125+-0x24fe*-0x1+-0x3b*0x4f);}function EA(_0x43d444,_0x54f9ea){const _0x147a7f=new Float32Array(_0x43d444['length']);for(let _0x22eb7b=0x9d+-0x1711*0x1+0x1674;_0x22eb7b<_0x43d444['length'];_0x22eb7b++)_0x147a7f[_0x22eb7b]=_0x43d444[_0x22eb7b]-_0x54f9ea[_0x22eb7b];return _0x147a7f;}function Xr(_0xc69509,_0x1e0c32){const _0x4c0164=_0x1e0c32['length'],_0x2bb3c5=_0xc69509['length']/_0x4c0164;for(let _0x255214=0x1*0x1c1d+-0x1a9a+-0x81*0x3;_0x255214<_0x2bb3c5;_0x255214++)for(let _0x54349d=-0x1ce8+-0x1b12+0x37fa;_0x54349d<_0x4c0164;_0x54349d++){const _0x340534=Math['abs'](_0xc69509[_0x255214*_0x4c0164+_0x54349d]);_0x1e0c32[_0x54349d]=Math['max'](_0x1e0c32[_0x54349d],_0x340534);}}function bA(_0x4f5319,_0x56aa91){const _0x3e3c3f=_0x56aa91['length'],_0x255840=_0x4f5319['length']/_0x3e3c3f;for(let _0x57cfbb=-0x5e+0x5ad+-0x54f;_0x57cfbb<_0x255840;_0x57cfbb++)for(let _0x24d0b1=0x1fba+-0x9*0x3fa+0x410;_0x24d0b1<_0x3e3c3f;_0x24d0b1++)_0x4f5319[_0x57cfbb*_0x3e3c3f+_0x24d0b1]/=_0x56aa91[_0x24d0b1]===-0x2419*0x1+0x21a7*0x1+0x139*0x2?0x5*0x3+0x1*-0x1be6+-0x8*-0x37b:_0x56aa91[_0x24d0b1],_0x4f5319[_0x57cfbb*_0x3e3c3f+_0x24d0b1]*=-0x2*-0x832+-0x1594+0x530+0.5,_0x4f5319[_0x57cfbb*_0x3e3c3f+_0x24d0b1]+=0xac8*-0x1+-0x16a7+0x13d*0x1b+0.5;}function Br(_0x34c385,_0x3ed55f,_0x1b0051){const _0x163ba2=EA(_0x3ed55f,_0x34c385);return Xr(_0x163ba2,_0x1b0051),bA(_0x163ba2,_0x1b0051),_0x163ba2;}const AA=new Kt();class CA{constructor(_0x232b65,_0x3505c2){h(this,'material',null),h(this,'internalTe'+'x0',null),h(this,'internalTe'+'x1',null),h(this,'internalTe'+'x2',null),h(this,'colorParam',null),this['graphicsDe'+'vice']=_0x232b65;const _0x178629=_0x232b65,_0x936be2=-0x21*0x59+-0x1*-0x27f+-0x48d*-0x2;this['precision']=_0x936be2,this['_addTimeTi'+'me']=0x1c2c+0x10f2+0x21*-0x15e,uu=this,Zc=_0x3505c2,he('numParticl'+'es',0x1f90+-0x1a41+-0x54e),this['numParticl'+'es']>_0x232b65['maxTexture'+'Size']&&(w['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x232b65['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x232b65['maxTexture'+'Size']),he('rate',-0x20b8+-0x2*-0x61f+0x147b*0x1),he('rate2',this['rate']),he('lifetime',-0x1926+0x1651+0x5*0x9b),he('emitterExt'+'ents',new D(0x1*-0x1d36+-0x1bb*0x10+0x38e6,0x4d0+-0x1b00+0x1630*0x1,-0x1d49+-0x3*0xb99+0x4014)),he('emitterExt'+'entsInner',new D(-0x2a4*0xe+0x1*-0x162f+0x3b27,-0x9c9*0x2+0x42*0x18+0x23b*0x6,0x1*-0x1c3a+-0x23a0+0x3fda)),he('emitterRad'+'ius',0x24ae+-0x16b0+-0xdfe*0x1),he('emitterRad'+'iusInner',0x1*0x95f+0x23ba+0x905*-0x5),he('emitterSha'+'pe',ai),he('initialVel'+'ocity',0x1622+-0x119*0x1d+0xc*0xcf),he('wrap',!(0xbab+-0x4*0x53+0x2*-0x52f)),he('localSpace',!(-0x187*-0x15+-0x2e*0x80+-0x912)),he('screenSpac'+'e',!(-0x11f7*-0x1+-0xdd5*-0x2+0x16d0*-0x2)),he('wrapBounds',null),he('colorMap',this['defaultPar'+'amTexture']),he('normalMap',null),he('loop',!(-0xd2e+0xa*-0x65+0x1120)),he('preWarm',!(0x5*0x64b+-0x2349*-0x1+-0x42bf)),he('sort',nu),he('mode',rv),he('scene',null),he('lighting',!(-0xc0b*0x3+-0x255e+0xa8*0x70)),he('halfLamber'+'t',!(0x6cd+-0xc8f+-0x1*-0x5c3)),he('intensity',-0x1e6f+-0x1d*0x102+0x886*0x7),he('stretch',-0x1c18+-0x99*-0x19+-0xd27*-0x1),he('alignToMot'+'ion',!(-0x1b22+0x2d2+0x1851)),he('depthSofte'+'ning',0x121*0x3+-0x3b3+-0x4*-0x14),he('mesh',null),he('particleNo'+'rmal',new D(0xa61+-0xe+0x371*-0x3,-0xa*0x39d+0x1*0x4ff+0x1f24,-0x1239+-0x318+-0x71b*-0x3)),he('orientatio'+'n',yh),he('depthWrite',!(0x2470+0x1*-0xa0f+-0x1a60)),he('noFog',!(0x1*0xe3d+0xd23+-0x5b*0x4d)),he('blendType',Zs),he('node',null),he('startAngle',0x22d9*-0x1+0x3*-0x9e3+0x4082),he('startAngle'+'2',this['startAngle']),he('animTilesX',0x98c+0x1597+-0x31d*0xa),he('animTilesY',0x83d*-0x2+-0x7*-0x3e6+-0xacf),he('animStartF'+'rame',-0x282+-0x7a2*0x1+-0xb*-0xec),he('animNumFra'+'mes',-0x792+0x634*0x2+0x1*-0x4d5),he('animNumAni'+'mations',0x30*-0xbe+-0x596+0x2937),he('animIndex',0x25a6*-0x1+-0x281*0xa+-0x3b0*-0x11),he('randomizeA'+'nimIndex',!(-0x1*0xad+0x22b9+-0x220b)),he('animSpeed',0x1074+-0x1628+0x5b5),he('animLoop',!(0x1e08+0x260*-0xe+0x1*0x338)),this['_gpuUpdate'+'r']=new mA(this,_0x178629),this['_cpuUpdate'+'r']=new pA(this),this['emitterPos'+'Uniform']=new Float32Array(0x26eb+-0x175a+-0xf8e),this['wrapBounds'+'Uniform']=new Float32Array(-0x14a*0x12+-0x1ffa+0x3731),this['emitterSca'+'leUniform']=new Float32Array([-0x17*-0x6+0x2497*-0x1+0x47*0x82,0x3a*-0x12+-0x26d0+0x2ae5,0x2*0x11a1+-0x1cf7+-0x64a]),he('colorGraph',yA),he('colorGraph'+'2',this['colorGraph']),he('scaleGraph',ng),he('scaleGraph'+'2',this['scaleGraph']),he('alphaGraph',ng),he('alphaGraph'+'2',this['alphaGraph']),he('localVeloc'+'ityGraph',og),he('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),he('velocityGr'+'aph',og),he('velocityGr'+'aph2',this['velocityGr'+'aph']),he('rotationSp'+'eedGraph',ag),he('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),he('radialSpee'+'dGraph',ag),he('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(-0x2*-0x128f+0x1*0x1aa7+-0x3*0x1541),this['animParams']=new Float32Array(-0x1*-0x1826+-0x2297+-0xa75*-0x1),this['animIndexP'+'arams']=new Float32Array(0x815*0x3+-0x68a+-0x11b3),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(-0x12d*0x20+-0x20*0x91+0x37c1),this['useMesh']=!(0x26b6+-0x150*0x17+-0x1*0x886),this['useCpu']=!_0x232b65['supportsGp'+'uParticles'],this['pack8']=!(-0x1*-0x10a5+-0x407+0x26*-0x55),this['localBound'+'s']=new De(),this['worldBound'+'sNoTrail']=new De(),this['worldBound'+'sTrail']=[new De(),new De()],this['worldBound'+'s']=new De(),this['worldBound'+'sSize']=new D(),this['prevWorldB'+'oundsSize']=new D(),this['prevWorldB'+'oundsCente'+'r']=new D(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new D(),this['worldBound'+'sAdd']=new D(),this['timeToSwit'+'chBounds']=0xf32+0x2429+-0x335b,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=0x1267+-0x1eb4+-0x1*-0xc4d,this['numParticl'+'eIndices']=0xcfd+0x1c5f+-0x295c,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=0xbbf+-0x82*-0x48+-0x1*0x304f,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(-0x15a5+-0x101*0x3+-0x1*-0x18a9)/(-0xbe*-0x2a+-0x403+-0x1aed),this['maxSubStep'+'s']=-0x1*-0x1f8d+0xfe5*0x1+-0x17b4*0x2,this['simTime']=0xd28*0x1+-0x1*-0xdca+-0x1af2,this['simTimeTot'+'al']=0x2*-0x793+0x1*0xc9f+0x287,this['beenReset']=!(-0xb1d*0x3+-0x1*-0x2702+-0x5aa),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return w['assert'](this['graphicsDe'+'vice']),AA['get'](this['graphicsDe'+'vice'],()=>{const _0x4d9ff0=new Float32Array(-0x158b+-0xdd9+0x2764);for(let _0x808092=0x825+-0x19c6+0x11a1*0x1;_0x808092<-0x194+-0x1*0x905+0x1*0xaa9;_0x808092++)for(let _0x44bbb8=-0x1cf*-0x14+-0x2*-0x1b1+-0x2*0x13c7;_0x44bbb8<0x9*-0x215+0xfde+0x2ef;_0x44bbb8++){const _0x37b95c=_0x44bbb8+(-0xd65+0xb4e*-0x2+0x2402)-(0x441+0x37*-0x17+0xb8*0x1+0.5),_0x4f48f7=_0x808092+(0x471*0x5+0x1*0x19ca+-0x2ffe)-(-0x226b+-0x2072*-0x1+0xab*0x3+0.5),_0x5f5477=rg(0x8dd+-0x2*-0x29+0x497*-0x2-rg(Math['sqrt'](_0x37b95c*_0x37b95c+_0x4f48f7*_0x4f48f7)/(-0xed*-0x13+-0x990+-0x1*0x7f7))-(-0x3*-0x407+-0x1*0xd30+0x11b+0.5)),_0x401eda=_0x808092*(-0xb27*0x1+-0x839+0x1370)+_0x44bbb8;_0x4d9ff0[_0x401eda*(0xa9b+-0xb7*-0xd+-0x13e2*0x1)]=0x140e+0x1325+-0xad*0x3a,_0x4d9ff0[_0x401eda*(-0x1fcb+0xa47+0xac4*0x2)+(0x1c05+-0x2524+0x920)]=-0x21b3+-0x9*-0x307+0x675,_0x4d9ff0[_0x401eda*(0x1a6+0x105*-0x3+-0x16d*-0x1)+(0x21eb+0x13ed+0x11f2*-0x3)]=0xf*0x1d+0x8dc+-0xa8e,_0x4d9ff0[_0x401eda*(0x1dd5+0xcd5+-0x2aa6*0x1)+(-0xf2e+-0x4c1*0x5+-0x137b*-0x2)]=_0x5f5477;}const _0x2f699a=xs(this['graphicsDe'+'vice'],0x178f*0x1+-0x17fa+0x7b,0x9e8+0x26*0x56+0x2*-0xb4e,_0x4d9ff0,_s,-0xaf7*0x1+-0x182c+0x2324,!(-0x1e4+0x1*-0xa7+-0x7*-0x5d));return _0x2f699a['minFilter']=vt,_0x2f699a['magFilter']=vt,_0x2f699a;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(-0x9*-0x449+0x26cf+0x1d*-0x2ab)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(0x2cd*-0x6+-0x49b+0x156a)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(-0x1d6*0x11+-0x1f3e+0x3b*0x10f)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(-0x2ac+-0x1329+0x15d6)),this['worldBound'+'sAdd']['x']+=-0x1610+-0x96c+0xd*0x26c+0.5,this['worldBound'+'sAdd']['y']+=0x38+-0x7ff+0x7c7+0.5,this['worldBound'+'sAdd']['z']+=-0x13*-0x1c2+0x17*-0x45+-0x1b33+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x2a8a98=!(-0x1212+0x1ba0+-0x98d);this['emitterSha'+'pe']===ai?_0x2a8a98=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x2a8a98=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x2a8a98&&this['calculateL'+'ocalBounds']();}const _0xb0ac1d=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0xb0ac1d),this['worldBound'+'sTrail'][0x1134+-0x11*0x176+0x7a2]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x129f+0x1*0xb29+0xd*0x93]['add'](this['worldBound'+'sNoTrail']);const _0x50c2a1=this['simTimeTot'+'al'];_0x50c2a1>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][-0xf6a+-0x1*0xf32+0x1e9c]['copy'](this['worldBound'+'sTrail'][0x1*0x1f79+0xdaf*-0x1+-0x11c9]),this['worldBound'+'sTrail'][-0xb*0xbf+0xe9b*0x1+-0x665*0x1]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x50c2a1+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x1bc5*-0x1+0x2538+-0x973]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0xa30*0x2+-0x9fe+0x1e60),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0xb0ac1d),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0xb0ac1d)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=-0x168e+-0x62c+0x1cbb-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x1e3e*0x1+-0x18c*0x15+-0x25*-0x1b2]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x1*0x192a+0x4*-0x5f3+-0x15d]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x59d+-0x1cce+0x7bb*0x3]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0xb63+-0x1*0x1ab1+-0x4b*-0x82),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=0x36d*-0x4+0x1*0x1ff+0xbb5,this['timeToSwit'+'chBounds']=-0xb7b+0x1*-0x680+0x11fb*0x1);}['calculateL'+'ocalBounds'](){let _0x2ab80a=Number['MAX_VALUE'],_0x1054bb=Number['MAX_VALUE'],_0x4577ec=Number['MAX_VALUE'],_0xa201c8=-Number['MAX_VALUE'],_0x2b66d4=-Number['MAX_VALUE'],_0x5c7c96=-Number['MAX_VALUE'],_0x50c0bf=-0x1336+0xf13*-0x2+0xc57*0x4,_0x370090=-0x786+0x1bb2+-0x142c;const _0x386e14=this['lifetime']/this['precision'],_0xfb59a4=[this['qVelocity'],this['qVelocity2']],_0x3f44df=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x1b9bb2=[0x5*-0x24b+0x1054+-0x4dd,-0x17b*-0xe+0x7bf*0x3+0x2bf7*-0x1],_0x3b9a66=[-0xc61+0x5b*0x4d+0xefe*-0x1,0x1*0x1af9+0x99b+-0x2494],_0x10d8fd=[-0x6f6+0x2f*-0x67+0x1*0x19df,-0x5*0x53d+0x1e75+0x34*-0x15],_0x5345d5=[-0x3*-0xa85+0x13e8+0x20f*-0x19,-0x1*-0x19e1+-0x13cc*-0x1+-0x2dad],_0x5d2ae3=[0x1638+0x1b49+-0x3181,0x1671*-0x1+-0xa*0x1ca+0x2855];let _0x1aedd7,_0x44ba52,_0x199b2;for(let _0x171c48=0x35*0xb1+-0x15*-0xdf+-0x36f0*0x1;_0x171c48<this['precision']+(-0x5b*-0x45+0x51b*0x5+-0x320d);_0x171c48++){const _0x139e5b=Math['min'](_0x171c48,this['precision']-(-0x277*0xb+0x2*0xdad+-0x3c));for(let _0x1d5b56=0x7*-0x245+-0xb29+0x1b0c;_0x1d5b56<-0xf31+0x7*-0xf1+0x15ca;_0x1d5b56++)_0x1aedd7=_0x3f44df[_0x1d5b56][_0x139e5b*(-0x20a3+-0x2*-0x11da+-0x30e*0x1)+(-0x65*-0x13+-0x6*0x85+-0x461)]*_0x386e14+_0x1b9bb2[_0x1d5b56],_0x44ba52=_0x3f44df[_0x1d5b56][_0x139e5b*(-0x6*-0x80+-0x83*-0x2f+-0x1*0x1b0a)+(0x1*-0xbcf+0xa5e+-0xa*-0x25)]*_0x386e14+_0x3b9a66[_0x1d5b56],_0x199b2=_0x3f44df[_0x1d5b56][_0x139e5b*(0xa18*0x2+0x1e55+-0x3282)+(0x1fb6+0x115*-0x1+-0x1e9f)]*_0x386e14+_0x10d8fd[_0x1d5b56],_0x2ab80a=Math['min'](_0x1aedd7,_0x2ab80a),_0x1054bb=Math['min'](_0x44ba52,_0x1054bb),_0x4577ec=Math['min'](_0x199b2,_0x4577ec),_0xa201c8=Math['max'](_0x1aedd7,_0xa201c8),_0x2b66d4=Math['max'](_0x44ba52,_0x2b66d4),_0x5c7c96=Math['max'](_0x199b2,_0x5c7c96),_0x1b9bb2[_0x1d5b56]=_0x1aedd7,_0x3b9a66[_0x1d5b56]=_0x44ba52,_0x10d8fd[_0x1d5b56]=_0x199b2;for(let _0x18251e=-0x32*0x64+0x203*0x5+-0x61*-0x19;_0x18251e<0xe8b*0x1+-0x1*0x18a2+0xa19;_0x18251e++)_0x5d2ae3[_0x18251e]+=_0x386e14*Math['sqrt'](_0xfb59a4[_0x18251e][_0x139e5b*(0xca3*0x1+-0x10f9+-0x173*-0x3)+(0x12d3+0x17b5*-0x1+0xa*0x7d)]*_0xfb59a4[_0x18251e][_0x139e5b*(0x1*0x1ee8+0xb*-0x16d+-0x76*0x21)+(-0xe80+0x900+-0x16*-0x40)]+_0xfb59a4[_0x18251e][_0x139e5b*(0x1*-0x1493+0xb*-0x38+0x16fe)+(-0x184f+0x131*-0x16+0x1be*0x1d)]*_0xfb59a4[_0x18251e][_0x139e5b*(-0x1cd*-0x5+-0x8*-0x293+0x43a*-0x7)+(0x939+-0x2682+0x2e*0xa3)]+_0xfb59a4[_0x18251e][_0x139e5b*(0x2388+0x1*0x4f6+-0x287b)+(0x13*-0xb0+-0x65*0x52+-0xab*-0x44)]*_0xfb59a4[_0x18251e][_0x139e5b*(0xb1*-0x33+-0x854*0x2+0x33ee)+(-0x3ae+-0x1*0x15e9+0x1999)]);_0x5345d5[0xecd+0x3d*0x1b+-0xa9e*0x2]+=this['qRadialSpe'+'ed'][_0x139e5b]*_0x386e14,_0x5345d5[0x2*0xdda+-0x1e68+0x2b5]+=this['qRadialSpe'+'ed2'][_0x139e5b]*_0x386e14,_0x50c0bf=Math['max'](_0x50c0bf,Math['max'](Math['abs'](_0x5345d5[-0xc93+0x35*-0x35+0x178c]),Math['abs'](_0x5345d5[0x2*-0x5a+-0xaf7*-0x2+-0x1*0x1539]))),_0x370090=Math['max'](_0x370090,this['qScale'][_0x139e5b]);}this['emitterSha'+'pe']===ai?(_0x1aedd7=this['emitterExt'+'ents']['x']*(-0x23f0+-0x57d*-0x3+0x3e5*0x5+0.5),_0x44ba52=this['emitterExt'+'ents']['y']*(-0xbb5+0x6d1*0x2+0x11*-0x1d+0.5),_0x199b2=this['emitterExt'+'ents']['z']*(0x1fde+-0x209a+0xbc+0.5)):(_0x1aedd7=this['emitterRad'+'ius'],_0x44ba52=this['emitterRad'+'ius'],_0x199b2=this['emitterRad'+'ius']);const _0xf36c69=Math['max'](_0x5d2ae3[0x52f*0x1+0x359*0x7+-0x1c9e],_0x5d2ae3[-0x25*-0x6a+-0x1*-0x116f+-0x830*0x4]);mc['x']=_0x2ab80a-_0x370090-_0x1aedd7-_0x50c0bf-_0xf36c69,mc['y']=_0x1054bb-_0x370090-_0x44ba52-_0x50c0bf-_0xf36c69,mc['z']=_0x4577ec-_0x370090-_0x199b2-_0x50c0bf-_0xf36c69,_c['x']=_0xa201c8+_0x370090+_0x1aedd7+_0x50c0bf+_0xf36c69,_c['y']=_0x2b66d4+_0x370090+_0x44ba52+_0x50c0bf+_0xf36c69,_c['z']=_0x5c7c96+_0x370090+_0x199b2+_0x50c0bf+_0xf36c69,this['localBound'+'s']['setMinMax'](mc,_c);}['rebuild'](){const _0x3c3f44=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===ai?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>nu||_0x3c3f44['maxVertexT'+'extures']<=0x21d+-0xb*0xa3+0x4e5*0x1||_0x3c3f44['fragmentUn'+'iformsCoun'+'t']<-0x36d*-0x1+-0x1058+-0x1*-0xd2b||_0x3c3f44['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x3c3f44['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],bi=this['useCpu']||this['pack8']?-0x2*0x262+0x15cf+-0x1107:0xe39+0x94d+-0x1ae*0xe,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=Y['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x1b2f+0x1*-0x479+-0x26*0x99]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][-0x3a6+0x15a+-0x1f*-0x13]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x57f+0x24*0x108+-0x2a9d*0x1),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x52b0fc=0x3*-0x6ee+0x3b0+-0x16*-0xc7;_0x52b0fc<this['numParticl'+'es'];_0x52b0fc++)this['vbToSort'][_0x52b0fc]=[-0x48c*0x3+-0x1990+0x2734,0x1cf+0x1e96+-0x2065*0x1];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*bi*pc);const _0x2810d8=this['node']===null||this['localSpace']?D['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===ai&&(this['node']===null||this['localSpace']?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['spawnBound'+'s']):Ur['setTRS'](D['ZERO'],this['node']['getRotatio'+'n'](),lg['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),Ai[-0x3*-0x8a5+-0x1874*-0x1+0x1*-0x3263]=this['emitterExt'+'ents']['x']!==-0x156e+-0x1d58+-0x43*-0xc2?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x26e7*0x1+0x11+-0x3a*0xac,Ai[-0x192f*-0x1+0x1*-0x5db+-0x1353]=this['emitterExt'+'ents']['y']!==-0x16c9+-0x1*-0x2135+-0xa6c*0x1?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x85b+0xe13+-0x5b8,Ai[0x2364+-0x3*-0xac6+-0x2*0x21da]=this['emitterExt'+'ents']['z']!==0x97a+0x1*-0x22c3+0x1949?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x33*-0x83+0x17f6+0x223);for(let _0x584f9d=0x1df9+0xf7*-0x10+-0xe89;_0x584f9d<this['numParticl'+'es'];_0x584f9d++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Ur,Ai,_0x2810d8,_0x584f9d),this['useCpu']&&(this['particleTe'+'x'][_0x584f9d*pc+(0x1*0x1d+-0x148d+0x1473*0x1)+this['numParticl'+'esPot']*(0xe36*-0x1+0x3bf*-0xa+-0xbd*-0x46)*pc]=0xef7+0x13d8+-0x22ce);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*bi*pc);for(let _0xca9a3c=-0x2299*-0x1+-0x2*-0x52b+-0x2cef;_0xca9a3c<this['particleTe'+'xStart']['length'];_0xca9a3c++)this['particleTe'+'xStart'][_0xca9a3c]=this['particleTe'+'x'][_0xca9a3c];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=xs(_0x3c3f44,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,-0x2*-0xbad+-0xa79*0x1+-0xce*0x10,!(-0x26b*-0x5+-0x7*-0x40+0x142*-0xb)),this['particleTe'+'xOUT']=xs(_0x3c3f44,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,0x1ae+-0x71*0x16+-0xbb*-0xb,!(-0x194*0x1+0x4d+0x148)),this['particleTe'+'xStart']=xs(_0x3c3f44,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'],Ne,0x1a5b+0x540+0x652*-0x5,!(-0x61f+0x10d*-0xc+-0x4af*-0x4))):(this['particleTe'+'xIN']=xs(_0x3c3f44,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xOUT']=xs(_0x3c3f44,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xStart']=xs(_0x3c3f44,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new gt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(0x19*0x163+-0x2*0x266+-0x1dde)}),this['rtParticle'+'TexOUT']=new gt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(-0xb91+0xed6*-0x1+-0x1a*-0x104)}),this['swapTex']=!(0x34d+-0x785*-0x1+-0xad1));const _0x47f860=new Map();this['localSpace']&&_0x47f860['set']('LOCAL_SPAC'+'E',''),this['pack8']&&_0x47f860['set']('PACK8',''),this['emitterSha'+'pe']===ai&&_0x47f860['set']('EMITTERSHA'+'PE_BOX','');const _0xe9baa1='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'],_0x219550=Pe['get'](_0x3c3f44,_0x3c3f44['isWebGPU']?it:Fe),_0x2f4c27=new Map(_0x219550),_0x3c2063={'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'particle_s'+'imulationP'+'S','fragmentDefines':_0x47f860,'fragmentIncludes':_0x2f4c27};_0x3c2063['uniqueName']='ParticleUp'+'dateRespaw'+'n-'+_0xe9baa1,_0x47f860['set']('RESPAWN',''),this['shaderPart'+'icleUpdate'+'Respawn']=$t['createShad'+'er'](_0x3c3f44,_0x3c2063),_0x47f860['delete']('RESPAWN'),_0x3c2063['uniqueName']='ParticleUp'+'dateNoResp'+'awn-'+_0xe9baa1,_0x47f860['set']('NO_RESPAWN',''),this['shaderPart'+'icleUpdate'+'NoRespawn']=$t['createShad'+'er'](_0x3c3f44,_0x3c2063),_0x47f860['delete']('NO_RESPAWN'),_0x3c2063['uniqueName']='ParticleUp'+'dateStop-'+_0xe9baa1,_0x47f860['set']('ON_STOP',''),this['shaderPart'+'icleUpdate'+'OnStop']=$t['createShad'+'er'](_0x3c3f44,_0x3c2063),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:-0x1d6e+-0x256a+0x42dc,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][-0x1b*-0x96+0x2387+-0x1*0x3359]['numIndices']:0x2ba+0x143*0x1+-0x23*0x1d,this['_allocate'](this['numParticl'+'es']);const _0x5ca6c3=new Ge(_0x3c3f44);_0x5ca6c3['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x5ca6c3['indexBuffe'+'r'][-0x6d*-0x1d+-0x19b8+0xd5f]=this['indexBuffe'+'r'],_0x5ca6c3['primitive'][-0x9da+-0x887+-0x3ad*-0x5]['type']=js,_0x5ca6c3['primitive'][-0x22*-0x10f+-0x1*0x2513+0x115]['base']=0x16af*0x1+0x32+0x16e1*-0x1,_0x5ca6c3['primitive'][0x211d+-0x141*-0x12+-0x37af]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x5ca6c3['primitive'][0xb3*-0x23+-0x4f3*0x5+0x3138]['indexed']=!(-0x2363+0x1756+0xc0d),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x4ece2c=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(0x1029+0x1823+0x284c*-0x1);this['meshInstan'+'ce']=new He(_0x5ca6c3,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(-0x1*0x337+0x17b4+-0x36a*0x6),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(-0x836*-0x3+0x49*-0x3d+-0x73d),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(-0x1e7+-0x117*0x13+-0x1*-0x169d),this['meshInstan'+'ce']['visible']=_0x4ece2c,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](0x11ca+0x354+-0x151e,!(0x23c4+-0x4*0x2ff+-0x17c7*0x1)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=0x174e+0xbb7+-0x2304&&(this['animTilesX']>0xbe5+0x2a1*0x2+-0x1126||this['animTilesY']>0xe1*-0x7+0x71*-0x44+0x4*0x90b)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x3a5dbc=this['precision'],_0x33d16a=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x3a5dbc),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x3a5dbc),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x3a5dbc,-0x335*0x9+0xd3e+0xf9f,-0x1595+-0x1ff2+0x3588),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x3a5dbc),this['qScale']=this['scaleGraph']['quantize'](_0x3a5dbc),this['qAlpha']=this['alphaGraph']['quantize'](_0x3a5dbc),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x3a5dbc),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x3a5dbc),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x3a5dbc),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x3a5dbc,0xd*0x22d+0x53f+-0x2188,0x97c+0x21dc+-0x2b57*0x1),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x3a5dbc),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x3a5dbc),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x3a5dbc),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x3a5dbc);for(let _0xb88c85=-0x137*0x4+-0x12d4*-0x1+-0xdf8;_0xb88c85<_0x3a5dbc;_0xb88c85++)this['qRotSpeed'][_0xb88c85]*=Y['DEG_TO_RAD'],this['qRotSpeed2'][_0xb88c85]*=Y['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(-0x53*-0x59+0x6b*0x45+-0x39af),this['velocityUM'+'ax']=new Float32Array(-0x49*-0x2e+-0x125c+0x10d*0x5),this['colorUMax']=new Float32Array(-0x906+0x1f78+-0x1*0x166f),this['rotSpeedUM'+'ax']=[0x10e3*0x2+0x87*-0x4a+0x1c0*0x3],this['scaleUMax']=[-0x674+-0x181*-0x1+0x4f3],this['alphaUMax']=[0x162a+0x2*-0x265+-0x1160],this['radialSpee'+'dUMax']=[-0x23a4+-0x2046+0x43ea],this['qLocalVelo'+'cityDiv']=Br(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Br(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Br(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Br(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Br(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Br(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Br(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x348260=[-0x10*0x238+-0x23e6+-0x4766*-0x1,0x547+0x175b+0x1ca2*-0x1,-0x1c21+-0x2e4*-0x1+0x193d];Xr(this['qVelocity'],_0x348260);const _0x1009f2=[0xe6a+0x30e+-0x68*0x2b,0x40d+0x265e+-0x2a6b*0x1,0xebb+0x15d2+0x1*-0x248d];Xr(this['qVelocity2'],_0x1009f2);const _0x6bf3ba=[-0x1*-0x455+-0x3*-0x829+-0x1cd0,0x1a*0x57+0x17bf+-0x2095,-0x2*-0x1063+0x3*0xc84+-0x4652];Xr(this['qLocalVelo'+'city'],_0x6bf3ba);const _0x2f8f3a=[0x136*0x3+0x176d+-0x3*0x905,0x1*-0x266f+-0x2182*0x1+0x47f1,0x265*0x7+-0x9d5+-0x6ee*0x1];Xr(this['qLocalVelo'+'city2'],_0x2f8f3a);const _0x15b780=[0x5a1*0x4+-0x22a7+0x1*0xc23];Xr(this['qRadialSpe'+'ed'],_0x15b780);const _0x19d713=[-0x1a49+0x1bb9+-0x170];Xr(this['qRadialSpe'+'ed2'],_0x19d713);let _0x39cd50=Math['max'](_0x348260[-0x1*0x13f4+-0x2ce*-0x9+-0x2*0x2a5],_0x1009f2[-0x112e+-0xfd1+-0x20ff*-0x1]);_0x39cd50=Math['max'](_0x39cd50,_0x348260[0x2d5+-0xc2*-0x14+-0x11fc]),_0x39cd50=Math['max'](_0x39cd50,_0x1009f2[0x21*0xfe+0xfc1+0x6*-0x815]),_0x39cd50=Math['max'](_0x39cd50,_0x348260[-0x21*0x6f+0xebb+-0x6a]),_0x39cd50=Math['max'](_0x39cd50,_0x1009f2[0x10f0+-0x6a*-0x19+-0x1b48]);let _0x50a93f=Math['max'](_0x6bf3ba[-0x1183+0xc29*0x1+0x55a],_0x2f8f3a[-0x11*0x6a+-0x24fc+0x2c06]);_0x50a93f=Math['max'](_0x50a93f,_0x6bf3ba[0x22e0+0x210*0xb+0x7*-0x839]),_0x50a93f=Math['max'](_0x50a93f,_0x2f8f3a[0x1903+0x10b1*0x1+-0x29b3]),_0x50a93f=Math['max'](_0x50a93f,_0x6bf3ba[-0xe5e*-0x1+-0x1*-0x574+-0x13d0]),_0x50a93f=Math['max'](_0x50a93f,_0x2f8f3a[0x198b+0xfa2+0x493*-0x9]);const _0x4ae5bc=Math['max'](_0x15b780[-0x1857+-0x22*-0x112+-0xc0d],_0x19d713[0x1dde*0x1+-0x11*-0x207+-0x4055]);this['maxVel']=_0x39cd50+_0x50a93f+_0x4ae5bc;}this['useCpu']||(this['internalTe'+'x0']=xs(_0x33d16a,_0x3a5dbc,0x566+-0xe01+0x89c,cg(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=xs(_0x33d16a,_0x3a5dbc,-0x1*0x167+-0xe51+-0x5*-0x325,cg(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=xs(_0x33d16a,_0x3a5dbc,-0xf*-0x259+-0x1764+-0xbd2,xA(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=xs(_0x33d16a,_0x3a5dbc,0x42*-0x67+0x1*0x395+0x16fa,TA(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=xs(_0x33d16a,_0x3a5dbc,0x221b*0x1+0x25c7+-0x47e1,vA(this['qColor'],this['qAlpha']),_s,-0x11*-0x203+0x15*-0xe2+-0xfa8,!(-0x11f8+0x1183*-0x1+0x237b));}['_setMateri'+'alTextures'](){this['colorMap']&&(w['call'](()=>{py(this['colorMap']['format'])&&w['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x428dab=new SA(this);return _0x428dab['name']='EmitterMat'+'erial:'+this['node']['name'],_0x428dab['cull']=bt,_0x428dab['alphaWrite']=!(0x14e7*-0x1+-0xd3*-0x27+-0xb3d),_0x428dab['blendType']=this['blendType'],_0x428dab['depthWrite']=this['depthWrite'],_0x428dab;}['resetMater'+'ial'](){const _0x392d18=this['material'];_0x392d18['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x392d18['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x392d18['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x392d18['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x392d18['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x392d18['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x392d18['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x392d18['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x392d18['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x392d18['setParamet'+'er']('colorParam',this['colorParam']),_0x392d18['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x392d18['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x392d18['setParamet'+'er']('lifetime',this['lifetime']),_0x392d18['setParamet'+'er']('rate',this['rate']),_0x392d18['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x392d18['setParamet'+'er']('seed',this['seed']),_0x392d18['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][0x1d03+0xf32+0x2c35*-0x1]),_0x392d18['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][-0x23*-0x4c+0x1*-0x2452+0x2*0xcf7]),_0x392d18['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][-0x51f+0x1a75+-0x1556]),_0x392d18['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x392d18['setParamet'+'er']('graphSampl'+'eSize',(-0x16e*0x12+0x13a4+-0xdf*-0x7)/this['precision']),_0x392d18['setParamet'+'er']('emitterSca'+'le',new Float32Array([-0x1b72+-0x242d+-0x7f4*-0x8,0x12a2+-0xb54+-0x7*0x10b,0x1393+-0xb81+-0x811])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x392d18['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x392d18['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x392d18['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][0x5ab*-0x3+0xb*0x75+0xbfa]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][0x632+-0x1*0xf1+-0x540]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][0x1f8d+-0x10d8+0x47*-0x35]=this['wrapBounds']['z'],_0x392d18['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>0x15f8+0x1*-0x276+-0x1382&&_0x392d18['setParamet'+'er']('softening',(-0xc+-0x9dd+0x2f*0x36)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(-0x164f+0xfee+-0x1*-0x6c5))),this['stretch']>0x1d94+-0x80*0x43+-0x4*-0xfb&&(_0x392d18['cull']=bt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x3d8939,_0xfad131;if(this['orientatio'+'n']===yh)_0x3d8939=new Float32Array([-0x1ce0+0xac3+0x90f*0x2,0x58d+0x11+-0x59e,0x107*0x5+-0x373*-0x6+-0x19d5]),_0xfad131=new Float32Array([0xf14+0xe0b+-0x69*0x47,0x31d*0x9+0xc98*0x2+-0x3535,-0xe4*0x1a+0x4c*-0x2b+0x23ed*0x1]);else{let _0x181743;this['orientatio'+'n']===Vw?_0x181743=this['particleNo'+'rmal']['normalize']():_0x181743=(this['node']===null?te['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x17c400=new D(0x1c48+-0x1*-0x25ab+0x17*-0x2de,0xc+-0xa1c*0x3+0x1e48,0x121*-0xd+-0x1*0x93d+-0x2*-0xbf5);Math['abs'](_0x17c400['dot'](_0x181743))===0x1*-0x22f7+-0x1650+0x3948&&_0x17c400['set'](0x1558+-0x908+-0xc50,0xfd*-0x6+0x3ac+0x242,-0x13ba+0x1d*-0x115+0x331c);const _0x1d4457=new D()['cross'](_0x181743,_0x17c400)['normalize']();_0x17c400['cross'](_0x1d4457,_0x181743)['normalize'](),_0x3d8939=new Float32Array([_0x17c400['x'],_0x17c400['y'],_0x17c400['z']]),_0xfad131=new Float32Array([_0x1d4457['x'],_0x1d4457['y'],_0x1d4457['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x3d8939),this['material']['setParamet'+'er']('faceBinorm',_0xfad131);}['getVertexI'+'nfo'](){const _0x4379d0=[];return this['useCpu']?_0x4379d0['push']({'semantic':Jf,'components':0x4,'type':Ve},{'semantic':uh,'components':0x4,'type':Ve},{'semantic':Ap,'components':0x4,'type':Ve},{'semantic':Cp,'components':0x1,'type':Ve},{'semantic':Pp,'components':this['useMesh']?-0x2d*0x65+-0xc93+0x1e58:-0x305*0x9+0x1501+-0x71*-0xe,'type':Ve}):(_0x4379d0['push']({'semantic':Jf,'components':0x4,'type':Ve}),this['useMesh']&&_0x4379d0['push']({'semantic':uh,'components':0x2,'type':Ve})),_0x4379d0;}['_allocate'](_0x5082cc){const _0x296f0e=_0x5082cc*this['numParticl'+'eVerts'],_0x3815ae=_0x5082cc*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(0x80c+-0x24cb+0x1cbf)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x296f0e){const _0x5c5638=this['getVertexI'+'nfo'](),_0x26aa34=new kt(this['graphicsDe'+'vice'],_0x5c5638);this['vertexBuff'+'er']=new Is(this['graphicsDe'+'vice'],_0x26aa34,_0x296f0e,{'usage':lh}),this['indexBuffe'+'r']=new br(this['graphicsDe'+'vice'],wr,_0x3815ae);const _0xc6052c=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x3a478a,_0x222c89,_0x4dc51e;if(this['useMesh']){_0x3a478a=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x222c89=_0x3a478a['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x3b4052=-0x255+0x212f+0x1*-0x1eda;_0x3b4052<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x3b4052++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x3b4052]['name']===is){_0x4dc51e=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x3b4052]['offset']/(-0x1eb*0x14+0x1707+0xf59);break;}}for(let _0x4e7dfe=-0x15ac+-0x9d3+0x1*0x1f7f;_0x4e7dfe<_0x296f0e;_0x4e7dfe++){const _0x2c89b0=Math['floor'](_0x4e7dfe/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x2cc187=_0x4e7dfe%this['numParticl'+'eVerts'];_0xc6052c[_0x4e7dfe*(0x210e+0x1b5a+-0x106*0x3b)]=_0x3a478a[_0x2cc187*_0x222c89],_0xc6052c[_0x4e7dfe*(0x1*-0xcf5+-0x977*0x1+-0x1a*-0xdd)+(-0x487+0x120e*-0x1+0xb4b*0x2)]=_0x3a478a[_0x2cc187*_0x222c89+(0xff1+0x37+-0x1027)],_0xc6052c[_0x4e7dfe*(-0x59*0x5f+0xbfa+0x41*0x53)+(0x1c86+-0x18b9+-0x3cb)]=_0x3a478a[_0x2cc187*_0x222c89+(0xda2+0x5c0+-0x7c*0x28)],_0xc6052c[_0x4e7dfe*(0x2164*-0x1+0x118c+0x6*0x2a5)+(-0x16*0xb8+-0x2*-0xa77+-0x51b*0x1)]=_0x2c89b0,_0xc6052c[_0x4e7dfe*(-0x349+-0x1*0x1f1b+0x1135*0x2)+(0x1bf1*0x1+-0x21*0xb4+-0x4b9)]=_0x3a478a[_0x2cc187*_0x222c89+_0x4dc51e+(-0x2706+-0xb97+-0x73b*-0x7)],_0xc6052c[_0x4e7dfe*(-0xfd7*0x1+-0x28d*-0x7+0x6*-0x55)+(0xa17+-0x33*0xb2+-0x104*-0x19)]=-0x1df*-0x11+0x2187+-0x4155-_0x3a478a[_0x2cc187*_0x222c89+_0x4dc51e+(-0x1e46+0x22d8+-0x7*0xa7)];}else{const _0x39ec37=_0x4e7dfe%(0x1*0x21c9+-0xb5*0x11+-0x15c0);_0xc6052c[_0x4e7dfe*(-0xa2*-0x2a+-0x1a*-0x14b+-0x3c2e)]=ig[_0x39ec37][-0x13ea+0xc29+0x1*0x7c1],_0xc6052c[_0x4e7dfe*(0x4*-0x72f+-0x4f*0x31+0x2bdf)+(0x1ccc*-0x1+0x19c*0x9+0xe51)]=ig[_0x39ec37][0x47*0x4a+0x4*0xad+-0x29*0x91],_0xc6052c[_0x4e7dfe*(0x1*0x2549+0x10cb+-0x3610)+(0x47*-0x1f+0x2*0x6d9+-0x517)]=-0xfcd+0x7*-0x1cf+-0x2*-0xe3b,_0xc6052c[_0x4e7dfe*(-0x1*0x1c9b+0x51*0x6a+-0x1*0x4eb)+(-0x24f6+-0x20fd+-0x2d*-0x18e)]=_0x2c89b0;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0xc6052c),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x287338=-0x22b4+0xbad*0x3+-0x53*0x1;const _0x11d02f=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x36ee28=this['mesh']['indexBuffe'+'r'][-0x572+0x1010+-0xa9e];_0x3a478a=new Sh[_0x36ee28['format']](_0x36ee28['lock']());}for(let _0xd27d50=-0xa*-0x2cf+-0xacd+-0x1*0x1149;_0xd27d50<_0x5082cc;_0xd27d50++)if(this['useMesh']){for(let _0x57fd27=0xc09+0x1135+0x18a*-0x13;_0x57fd27<this['numParticl'+'eIndices'];_0x57fd27++)_0x11d02f[_0xd27d50*this['numParticl'+'eIndices']+_0x57fd27]=_0x3a478a[_0x57fd27]+_0xd27d50*this['numParticl'+'eVerts'];}else{const _0x410409=_0xd27d50*(0x16a6+0x1e7*-0x2+-0xa*0x1e2);_0x11d02f[_0x287338++]=_0x410409,_0x11d02f[_0x287338++]=_0x410409+(-0x8bf+-0x35e*0x4+0xc*0x1da),_0x11d02f[_0x287338++]=_0x410409+(0x1d9b+-0x1*0x1a16+-0x383),_0x11d02f[_0x287338++]=_0x410409,_0x11d02f[_0x287338++]=_0x410409+(-0x75b*0x2+0x4b*-0x3e+-0x2*-0x1071),_0x11d02f[_0x287338++]=_0x410409+(0x1eb3+-0x77e*0x5+0x6c6);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][0x1f52+0x102b+-0x2f7d*0x1]['unlock']();}}['reset'](){if(this['beenReset']=!(0x22c4+0x1*0x1391+-0x3655),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x47daa6=-0x1*0x12a5+0x26eb+-0x1446;_0x47daa6<this['particleTe'+'xStart']['length'];_0x47daa6++)this['particleTe'+'x'][_0x47daa6]=this['particleTe'+'xStart'][_0x47daa6];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x53babd=this['loop'];this['loop']=!(-0x2019+0x1271+0xda8),this['addTime'](0x1*-0xc31+0x25b4+-0x3a5*0x7,!(0x3*-0x8df+-0xc0*0x13+0x28de*0x1)),this['loop']=_0x53babd,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x2e6e7f){const _0x4049b7=_0x2e6e7f/this['lifetime'],_0x1326d7=Math['min'](Math['floor'](_0x4049b7*this['precision']),this['precision']),_0xe868f7=_0x2e6e7f/_0x1326d7;for(let _0x555755=0x6d5+-0x9d8*-0x2+-0x1a85;_0x555755<_0x1326d7;_0x555755++)this['addTime'](_0xe868f7,!(-0x1*0x3a3+-0xe70+0x1214*0x1));}['resetTime'](){this['endTime']=wA(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x2df904,_0xa740cb){const _0x1893df=this['graphicsDe'+'vice'],_0x47b3fc=de();if(this['simTimeTot'+'al']+=_0x2df904,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x4ebbd5=this['animTilesP'+'arams'];_0x4ebbd5[-0x162e+-0x2*0x241+0x1ab0]=(-0xe*0x82+0xe46+-0x729)/this['animTilesX'],_0x4ebbd5[0x3*-0x1b0+-0x2*0x105+-0x6b*-0x11]=(-0x1e09+-0x26de+0xdc8*0x5)/this['animTilesY'];const _0x1835a9=this['animParams'];_0x1835a9[-0xf5*0x1b+0x2*-0x114e+0x26b*0x19]=this['animStartF'+'rame'],_0x1835a9[-0x1e38+0x108d+0xdac]=this['animNumFra'+'mes']*this['animSpeed'],_0x1835a9[-0xf*-0xe+0x3*-0x55c+0x3d1*0x4]=this['animNumFra'+'mes']-(-0x2182+-0x5*-0x7c1+-0x2*0x2a1),_0x1835a9[-0x108a+0x378+0xd15]=this['animNumAni'+'mations']-(0x18c9+0x1*0x89c+-0x2164);const _0xf274f2=this['animIndexP'+'arams'];_0xf274f2[0x2c9+0x104e*0x1+-0x21f*0x9]=this['animIndex'],_0xf274f2[0x1439+-0xe81*0x2+-0x1*-0x8ca]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===ai&&(Ai[-0x945+-0x11a*0xa+0x1*0x1449]=this['emitterExt'+'ents']['x']!==-0x34*-0xac+0x21*0x88+-0x1*0x3478?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x539*0x4+0x77*0x1f+0x67b,Ai[-0x1*0x19c6+-0x1*0x222a+0x3bf1*0x1]=this['emitterExt'+'ents']['y']!==0x83d+0x21d4+-0x2a11?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0x8*0x9c+0x156d+-0x1a4d*0x1,Ai[-0x1328+-0x8a9+0x1bd3]=this['emitterExt'+'ents']['z']!==-0x10*0xec+0x1baa+-0x1d*0x72?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x1b66+0x8*-0x1c1+0x296e,this['meshInstan'+'ce']['node']===null?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['emitterExt'+'ents']):Ur['setTRS'](D['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),lg['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x6f0b46;const _0x11e3ea=this['meshInstan'+'ce']['node']===null?D['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][-0x1897+-0x1004*0x2+-0x389f*-0x1]=_0x11e3ea['x'],this['emitterSca'+'leUniform'][0x8*-0x29d+-0x118c+0x1*0x2675]=_0x11e3ea['y'],this['emitterSca'+'leUniform'][0xc41+-0xfee+0x3af]=_0x11e3ea['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x6f0b46=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][-0x1da5*-0x1+0x2060+-0x1*0x3e05]=_0x6f0b46['x'],this['emitterPos'+'Uniform'][0x2*-0x9bd+0x1*-0x885+0x1c00]=_0x6f0b46['y'],this['emitterPos'+'Uniform'][-0x1283+-0x1a07+0x2c8c]=_0x6f0b46['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x1893df,Ur,Ai,_0x2df904,_0xa740cb);else{const _0x4e8218=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x4e8218,this['vbToSort'],this['particleTe'+'x'],Ur,Ai,_0x6f0b46,_0x2df904,_0xa740cb);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(-0x8e3+0x6b*0x57+-0x1*0x1b79)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=de()-_0x47b3fc;}['_destroyRe'+'sources'](){var _0x36dc78,_0x5cecec,_0x4b8c84,_0x4e3ca7,_0x1d3b53,_0x228341,_0x2e1dc6,_0x2dffaf,_0x1a00c8,_0x3138ce,_0x2ee497,_0x5bfd08;(_0x36dc78=this['particleTe'+'xIN'])==null||_0x36dc78['destroy'](),this['particleTe'+'xIN']=null,(_0x5cecec=this['particleTe'+'xOUT'])==null||_0x5cecec['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x4b8c84=this['rtParticle'+'TexIN'])==null||_0x4b8c84['destroy'](),this['rtParticle'+'TexIN']=null,(_0x4e3ca7=this['rtParticle'+'TexOUT'])==null||_0x4e3ca7['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x1d3b53=this['internalTe'+'x0'])==null||_0x1d3b53['destroy'](),this['internalTe'+'x0']=null,(_0x228341=this['internalTe'+'x1'])==null||_0x228341['destroy'](),this['internalTe'+'x1']=null,(_0x2e1dc6=this['internalTe'+'x2'])==null||_0x2e1dc6['destroy'](),this['internalTe'+'x2']=null,(_0x2dffaf=this['internalTe'+'x3'])==null||_0x2dffaf['destroy'](),this['internalTe'+'x3']=null,(_0x1a00c8=this['colorParam'])==null||_0x1a00c8['destroy'](),this['colorParam']=null,(_0x3138ce=this['vertexBuff'+'er'])==null||_0x3138ce['destroy'](),this['vertexBuff'+'er']=void(-0xaa7+-0x362*0x2+0x7*0x27d),(_0x2ee497=this['indexBuffe'+'r'])==null||_0x2ee497['destroy'](),this['indexBuffe'+'r']=void(-0x3*0x6ee+0x207f+-0xbb5*0x1),(_0x5bfd08=this['material'])==null||_0x5bfd08['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class PA extends ya{['generateKe'+'y'](_0x4f37b0){var _0x34dade;const _0x541e86=_0x4f37b0['shaderDesc'],_0x5a39b1=_0x541e86['vertexGLSL']?hi(_0x541e86['vertexGLSL']):0x1179+0x1*0x2e7+-0x1460,_0x2f053d=_0x541e86['fragmentGL'+'SL']?hi(_0x541e86['fragmentGL'+'SL']):-0x1ffc+-0x1ff4+0xb0*0x5d,_0x1233be=_0x541e86['vertexWGSL']?hi(_0x541e86['vertexWGSL']):0x1*-0xa90+0x1*0xd3d+0x2ad*-0x1,_0x5686b8=_0x541e86['fragmentWG'+'SL']?hi(_0x541e86['fragmentWG'+'SL']):0x245*0x7+-0x1d6c+0xd89,_0x14dc1b=ya['definesHas'+'h'](_0x4f37b0['defines']),_0xc11b52=((_0x34dade=_0x4f37b0['shaderChun'+'ks'])==null?void(-0x1070+-0x11*-0x1d+-0x5*-0x2e7):_0x34dade['key'])??'';let _0x1f4653=_0x541e86['uniqueName']+'_'+_0x14dc1b+'_'+_0x5a39b1+'_'+_0x2f053d+'_'+_0x1233be+'_'+_0x5686b8+'_'+_0xc11b52;return _0x4f37b0['skin']&&(_0x1f4653+='_skin'),_0x4f37b0['useInstanc'+'ing']&&(_0x1f4653+='_inst'),_0x4f37b0['useMorphPo'+'sition']&&(_0x1f4653+='_morphp'),_0x4f37b0['useMorphNo'+'rmal']&&(_0x1f4653+='_morphn'),_0x4f37b0['useMorphTe'+'xtureBased'+'Int']&&(_0x1f4653+='_morphi'),_0x1f4653;}['createAttr'+'ibutesDefi'+'nition'](_0x5be231,_0x5ade92){const _0x11b79a=_0x5ade92['shaderDesc']['attributes'],_0x276b78=_0x11b79a?{..._0x11b79a}:void(0x1897*-0x1+-0x1*-0x128e+0x3*0x203);_0x5ade92['skin']&&(_0x276b78['vertex_bon'+'eWeights']=gi,_0x276b78['vertex_bon'+'eIndices']=us),(_0x5ade92['useMorphPo'+'sition']||_0x5ade92['useMorphNo'+'rmal'])&&(_0x276b78['morph_vert'+'ex_id']=Ln),_0x5be231['attributes']=_0x276b78;}['createVert'+'exDefiniti'+'on'](_0x22eb04,_0x227ca3,_0x494ae0,_0x1fb2c3){const _0xce9a35=_0x227ca3['shaderDesc'],_0x21215b=new Map(_0x494ae0);_0x21215b['set']('transformI'+'nstancingV'+'S','');const _0x279eec=new Map(_0x227ca3['defines']);_0x227ca3['skin']&&_0x279eec['set']('SKIN',!(0x1*-0x1a23+-0x3*0xc19+0x3e6e)),_0x227ca3['useInstanc'+'ing']&&_0x279eec['set']('INSTANCING',!(0x1f51+-0x7*0x2d7+-0xb70)),(_0x227ca3['useMorphPo'+'sition']||_0x227ca3['useMorphNo'+'rmal'])&&(_0x279eec['set']('MORPHING',!(-0xa7*0x1d+-0x1d*-0x10d+-0xb8e)),_0x227ca3['useMorphTe'+'xtureBased'+'Int']&&_0x279eec['set']('MORPHING_I'+'NT',!(0x1*0x8f4+-0x16c1+-0x1*-0xdcd)),_0x227ca3['useMorphPo'+'sition']&&_0x279eec['set']('MORPHING_P'+'OSITION',!(0x1526*-0x1+-0x1*0x727+0x5a9*0x5)),_0x227ca3['useMorphNo'+'rmal']&&_0x279eec['set']('MORPHING_N'+'ORMAL',!(-0x2*0xaa+0x335*-0x1+0x489))),_0x22eb04['vertexCode']=_0x1fb2c3?_0xce9a35['vertexWGSL']:_0xce9a35['vertexGLSL'],_0x22eb04['vertexIncl'+'udes']=_0x21215b,_0x22eb04['vertexDefi'+'nes']=_0x279eec;}['createFrag'+'mentDefini'+'tion'](_0x226e2e,_0x221895,_0x17fc0e,_0x435da0){const _0x283f2a=_0x221895['shaderDesc'],_0x5d8531=new Map(_0x17fc0e),_0x3ece1b=new Map(_0x221895['defines']);_0x226e2e['fragmentCo'+'de']=_0x435da0?_0x283f2a['fragmentWG'+'SL']:_0x283f2a['fragmentGL'+'SL'],_0x226e2e['fragmentIn'+'cludes']=_0x5d8531,_0x226e2e['fragmentDe'+'fines']=_0x3ece1b;}['createShad'+'erDefiniti'+'on'](_0x509ee6,_0x3bb66c){var _0x1c60b6;const _0x500d58=_0x3bb66c['shaderDesc'],_0x1053a6=_0x509ee6['isWebGPU']&&!!_0x500d58['vertexWGSL']&&!!_0x500d58['fragmentWG'+'SL']&&(((_0x1c60b6=_0x3bb66c['shaderChun'+'ks'])==null?void(0x22*0xce+0x5*-0x565+0x1*-0x63):_0x1c60b6['useWGSL'])??!(-0x12d5+-0x22ef+0x35c4)),_0x3a0358={'name':'ShaderMate'+'rial-'+_0x500d58['uniqueName'],'shaderLanguage':_0x1053a6?it:Fe,'fragmentOutputTypes':_0x500d58['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x500d58['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x500d58['meshBindGr'+'oupFormat']},_0x311a18=_0x1053a6?it:Fe,_0x5ea679=bh['merge'](Pe['get'](_0x509ee6,_0x311a18),_0x3bb66c['shaderChun'+'ks'][_0x311a18]);return this['createAttr'+'ibutesDefi'+'nition'](_0x3a0358,_0x3bb66c),this['createVert'+'exDefiniti'+'on'](_0x3a0358,_0x3bb66c,_0x5ea679,_0x1053a6),this['createFrag'+'mentDefini'+'tion'](_0x3a0358,_0x3bb66c,_0x5ea679,_0x1053a6),Jt['createDefi'+'nition'](_0x509ee6,_0x3a0358);}}const MA=new PA();class Xn extends tr{constructor(_0x10818b){super(),h(this,'_shaderDes'+'c'),this['shaderDesc']=_0x10818b;}set['shaderDesc'](_0x416797){if(this['_shaderDes'+'c']=void(-0x1c3+0x25ca+-0x17*0x191),_0x416797&&(this['_shaderDes'+'c']={'uniqueName':_0x416797['uniqueName'],'attributes':_0x416797['attributes'],'fragmentOutputTypes':_0x416797['fragmentOu'+'tputTypes'],'vertexGLSL':_0x416797['vertexGLSL'],'fragmentGLSL':_0x416797['fragmentGL'+'SL'],'vertexWGSL':_0x416797['vertexWGSL'],'fragmentWGSL':_0x416797['fragmentWG'+'SL']},_0x416797['vertexCode']||_0x416797['fragmentCo'+'de']||_0x416797['shaderLang'+'uage'])){w['deprecated']('ShaderMate'+'rial\x20['+_0x416797['uniqueName']+(']:\x20vertexC'+'ode,\x20fragm'+'entCode\x20an'+'d\x20shaderLa'+'nguage\x20pro'+'perties\x20of'+'\x20ShaderDes'+'c\x20is\x20depre'+'cated.\x20Use'+'\x20vertexGLS'+'L,\x20fragmen'+'tGLSL,\x20ver'+'texWGSL\x20or'+'\x20fragmentW'+'GSL\x20instea'+'d.'));const _0x41d67f=_0x416797['shaderLang'+'uage']??Fe;_0x41d67f===Fe?(this['_shaderDes'+'c']['vertexGLSL']=_0x416797['vertexCode'],this['_shaderDes'+'c']['fragmentGL'+'SL']=_0x416797['fragmentCo'+'de']):_0x41d67f===it&&(this['_shaderDes'+'c']['vertexWGSL']=_0x416797['vertexCode'],this['_shaderDes'+'c']['fragmentWG'+'SL']=_0x416797['fragmentCo'+'de']);}this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x29b8f4){return super['copy'](_0x29b8f4),this['shaderDesc']=_0x29b8f4['shaderDesc'],this;}['getShaderV'+'ariant'](_0x1c1d41){const {objDefs:_0x305125}=_0x1c1d41,_0x3fed1d={'defines':$t['getCoreDef'+'ines'](this,_0x1c1d41),'skin':(_0x305125&nl)!==-0xaab*0x1+-0x3a8+0xe53*0x1,'useInstancing':(_0x305125&ol)!==-0x1c74+0xd82+0xef2,'useMorphPosition':(_0x305125&ll)!==0x1a*-0xe+-0x11b8+0x1324,'useMorphNormal':(_0x305125&cl)!==0x22db+0x24be+-0x4799,'useMorphTextureBasedInt':(_0x305125&hl)!==-0x11*0x1f1+0x236d+-0x26c,'pass':_0x1c1d41['pass'],'gamma':_0x1c1d41['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x1c1d41['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x1c1d41['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'shaderChunks':this['shaderChun'+'ks']},_0xc07317=new Ad(_0x1c1d41['viewUnifor'+'mFormat'],_0x1c1d41['viewBindGr'+'oupFormat'],_0x1c1d41['vertexForm'+'at']),_0x49f42b=Hn(_0x1c1d41['device']);return _0x49f42b['register']('shader-mat'+'erial',MA),_0x49f42b['getProgram']('shader-mat'+'erial',_0x3fed1d,_0xc07317,this['userId']);}}const Iv=(_0x5a0bf6,_0x31788a)=>{const _0x1c3e81=_0x31788a['length']/(-0x40f*-0x1+0x1463*-0x1+0x1057),_0x5a5011=_0x5a0bf6['length']/(-0x962*-0x2+0xa81+-0x1d42),_0x2126ea=new D(),_0x208675=new D(),_0x4b88c3=new D(),_0x1fd50a=new D(),_0x51a8da=new D(),_0x2e1c66=new D(),_0x3d1c79=[];for(let _0x31007b=0xbfa+-0x11*-0x13a+-0x1*0x20d4;_0x31007b<_0x5a0bf6['length'];_0x31007b++)_0x3d1c79[_0x31007b]=-0x2a2*0x9+0x177d*-0x1+0x2f2f;for(let _0x23f4aa=-0x452+-0x24d7+0x2929;_0x23f4aa<_0x1c3e81;_0x23f4aa++){const _0x81bf87=_0x31788a[_0x23f4aa*(0xa4a+0x158f+-0x32f*0xa)],_0x29f6c6=_0x31788a[_0x23f4aa*(0x5c5*-0x5+-0x1278+0x3a4*0xd)+(0x12e2*-0x1+-0x694+0x1977)],_0x908484=_0x31788a[_0x23f4aa*(0x1*-0x1369+-0xebc+0x2228)+(-0x108+-0x2*-0x1245+-0x2380)];_0x2126ea['set'](_0x5a0bf6[_0x81bf87*(-0xca8+-0x1*0x1978+0x2623)],_0x5a0bf6[_0x81bf87*(-0xa3*0x29+0x22e6+-0x8c8)+(-0x1286+-0x3*0xc03+0x3690)],_0x5a0bf6[_0x81bf87*(0x1d8*0x13+0x12*0xcd+-0x9e3*0x5)+(0x2590+-0x92f*-0x3+-0x411b)]),_0x208675['set'](_0x5a0bf6[_0x29f6c6*(0xd31*-0x1+0x3a5*-0x8+0xa97*0x4)],_0x5a0bf6[_0x29f6c6*(0x192f+-0x9b+-0x14b*0x13)+(0x1da7+0x101*0x18+-0x3*0x11ea)],_0x5a0bf6[_0x29f6c6*(0x237b+0x1b5b*-0x1+-0x43*0x1f)+(0x132e+0xcb8+-0x1fe4)]),_0x4b88c3['set'](_0x5a0bf6[_0x908484*(0xd*0x21a+0x1df*-0xe+-0x11d)],_0x5a0bf6[_0x908484*(-0x1*-0x71f+0x159*-0x1b+-0x1d47*-0x1)+(0x12*-0x9+0x9df*-0x2+0x1461)],_0x5a0bf6[_0x908484*(-0xc7*-0x29+0x169c+-0x6*0x914)+(-0x17b3+-0x1599+0x2d4e)]),_0x1fd50a['sub2'](_0x208675,_0x2126ea),_0x51a8da['sub2'](_0x4b88c3,_0x2126ea),_0x2e1c66['cross'](_0x1fd50a,_0x51a8da)['normalize'](),_0x3d1c79[_0x81bf87*(-0x1ba7*0x1+0x69*-0x4e+0x3ba8)]+=_0x2e1c66['x'],_0x3d1c79[_0x81bf87*(-0x20f0+0xf62*0x1+0x1191)+(0x1b7*-0x1+-0x1*-0x2221+0x1*-0x2069)]+=_0x2e1c66['y'],_0x3d1c79[_0x81bf87*(0x7*0x8e+0x31*-0x13+-0x3c)+(0xe8+0x25fe+-0x26e4)]+=_0x2e1c66['z'],_0x3d1c79[_0x29f6c6*(0x2047*0x1+0x217d+-0x41c1)]+=_0x2e1c66['x'],_0x3d1c79[_0x29f6c6*(-0x1a29*-0x1+-0x2167+-0x741*-0x1)+(0x2464+-0x1a0b+-0xa58*0x1)]+=_0x2e1c66['y'],_0x3d1c79[_0x29f6c6*(-0x2198+-0x1*-0x15c5+-0x65*-0x1e)+(-0x1bf*0xb+0x83*0x13+0x97e)]+=_0x2e1c66['z'],_0x3d1c79[_0x908484*(-0x1b10+0x4fd*-0x7+0x3dfe)]+=_0x2e1c66['x'],_0x3d1c79[_0x908484*(0x1751+-0x1*0x27f+-0x14cf)+(-0x17ea+0x997+0xe54)]+=_0x2e1c66['y'],_0x3d1c79[_0x908484*(-0x2113+-0x898+0x14d7*0x2)+(-0xb*-0x362+0x1d*-0x79+0xf*-0x191)]+=_0x2e1c66['z'];}for(let _0x15cf8a=0xe8b+0x23c6+-0x493*0xb;_0x15cf8a<_0x5a5011;_0x15cf8a++){const _0x26848e=_0x3d1c79[_0x15cf8a*(-0x588*0x6+0x239a+-0x267)],_0x446dd6=_0x3d1c79[_0x15cf8a*(-0x1558+0x26dc+-0x1181)+(0x9fe+0xc3b+-0x1638)],_0x5561c7=_0x3d1c79[_0x15cf8a*(0x47e+-0x15f0+0x1175)+(-0x2043+-0x1460+0x34a5*0x1)],_0x39cbe7=(0xd53*0x1+0x1*0x1e67+-0x2bb9)/Math['sqrt'](_0x26848e*_0x26848e+_0x446dd6*_0x446dd6+_0x5561c7*_0x5561c7);_0x3d1c79[_0x15cf8a*(-0x1*0x237b+0xc9f+0x16df)]*=_0x39cbe7,_0x3d1c79[_0x15cf8a*(-0x36+0xb0a*-0x1+-0x3*-0x3c1)+(-0x3de*-0xa+-0x8*-0x427+-0x47e3)]*=_0x39cbe7,_0x3d1c79[_0x15cf8a*(-0xded*-0x1+-0x8c7+-0x1*0x523)+(0xa7*0xd+0xd*0x71+-0xe36)]*=_0x39cbe7;}return _0x3d1c79;},Mr=(_0x31e4fc,_0x3b3e42,_0x299d5a,_0x2b1fa5)=>{const _0x250901=_0x2b1fa5['length']/(-0xa51+0x3e*-0x63+0x224e),_0x1bc3d5=_0x31e4fc['length']/(-0xb64+-0x72*0xb+-0x1*-0x104d),_0x230d09=new D(),_0x27f296=new D(),_0x5b4fd2=new D(),_0x3ba0e0=new J(),_0xdedd0d=new J(),_0x1aeb83=new J(),_0x2e09b3=new D(),_0x1d967d=new D(),_0x23fec7=new Float32Array(_0x1bc3d5*(0x1e9b+-0x1*0x20b4+0x9*0x3c)),_0xef9484=new Float32Array(_0x1bc3d5*(-0x58e+-0x996+0xf27)),_0x5dddf6=[];for(let _0x380cfe=-0x5*0x731+-0x19*0x5f+-0xf*-0x304;_0x380cfe<_0x250901;_0x380cfe++){const _0x1b617e=_0x2b1fa5[_0x380cfe*(0x1*-0xe61+-0x2f3*0x1+0x1157)],_0x4af455=_0x2b1fa5[_0x380cfe*(-0x11ff+-0x8e7*-0x1+0x91b)+(0x1d27+0x1857+-0x357d)],_0xce7cbc=_0x2b1fa5[_0x380cfe*(-0x14d*0x3+-0x1daf+0x2199)+(0x10bf+0x19c+0xb*-0x1ab)];_0x230d09['set'](_0x31e4fc[_0x1b617e*(0xb2d*-0x2+0x8*-0x38a+0x32ad)],_0x31e4fc[_0x1b617e*(0xf3d+0xaa5+-0x19df*0x1)+(-0x219e*0x1+0x1e77+0x328)],_0x31e4fc[_0x1b617e*(-0x26ef+0x1*-0x1147+-0x3839*-0x1)+(0x1052+-0x1acd*-0x1+-0x2b1d)]),_0x27f296['set'](_0x31e4fc[_0x4af455*(0x984+0x158e+-0x1f0f)],_0x31e4fc[_0x4af455*(-0xe*0x5d+0x7*0x28f+-0xcd0)+(0x9a1+-0x2*-0x812+-0x19c4)],_0x31e4fc[_0x4af455*(-0x698+0x2*-0x12ee+0x2c77)+(0x9e*0x3a+0x1*0x5af+-0xdd3*0x3)]),_0x5b4fd2['set'](_0x31e4fc[_0xce7cbc*(-0x12*-0x4c+0x1a96+-0x1feb)],_0x31e4fc[_0xce7cbc*(0x152a+-0xb2+-0x1*0x1475)+(-0x11*0x79+-0x1581+0x1d8b)],_0x31e4fc[_0xce7cbc*(-0x132a+0xf65*0x1+0x3c8)+(-0x1a67+-0x2653*0x1+0x40bc)]),_0x3ba0e0['set'](_0x299d5a[_0x1b617e*(0x5aa+0x1*0x124f+-0x17f7*0x1)],_0x299d5a[_0x1b617e*(0x3*0xcfd+0x47f+-0xadd*0x4)+(-0x20f*-0xe+0x1c98+-0x9*0x661)]),_0xdedd0d['set'](_0x299d5a[_0x4af455*(-0x7dd+0x929+-0x1*0x14a)],_0x299d5a[_0x4af455*(0x1459+0x23d9+0x383*-0x10)+(0x25f7+-0x675*0x3+0x1*-0x1297)]),_0x1aeb83['set'](_0x299d5a[_0xce7cbc*(0x1315+0x3*-0xc9a+0x89*0x23)],_0x299d5a[_0xce7cbc*(-0x147e*-0x1+0x1*0x13d+-0x15b9)+(-0x2a1*-0x5+0x1e1c+-0x2b40)]);const _0xac6d33=_0x27f296['x']-_0x230d09['x'],_0x6cae87=_0x5b4fd2['x']-_0x230d09['x'],_0x9ba341=_0x27f296['y']-_0x230d09['y'],_0x922d1e=_0x5b4fd2['y']-_0x230d09['y'],_0x412a11=_0x27f296['z']-_0x230d09['z'],_0x39281f=_0x5b4fd2['z']-_0x230d09['z'],_0x49a3e7=_0xdedd0d['x']-_0x3ba0e0['x'],_0x5ce3ab=_0x1aeb83['x']-_0x3ba0e0['x'],_0x86cb5e=_0xdedd0d['y']-_0x3ba0e0['y'],_0x1fd0ef=_0x1aeb83['y']-_0x3ba0e0['y'],_0x23ab9b=_0x49a3e7*_0x1fd0ef-_0x5ce3ab*_0x86cb5e;if(_0x23ab9b===0x1*-0x1b16+-0x259c+-0x93e*-0x7)_0x2e09b3['set'](0x1d58+-0x1*-0x26cf+-0x4427,0x1*0x1f93+-0x50b*0x7+0xbf*0x5,0x2417+-0x48c+0x11*-0x1db),_0x1d967d['set'](-0x1*-0xed4+-0x1*0x1083+0x1b0,0xfe*0x9+0xf97+-0x1885,0x3b8*-0x1+0x243c+-0x2084);else{const _0x105736=(0x7c0+-0x1469+0x655*0x2)/_0x23ab9b;_0x2e09b3['set']((_0x1fd0ef*_0xac6d33-_0x86cb5e*_0x6cae87)*_0x105736,(_0x1fd0ef*_0x9ba341-_0x86cb5e*_0x922d1e)*_0x105736,(_0x1fd0ef*_0x412a11-_0x86cb5e*_0x39281f)*_0x105736),_0x1d967d['set']((_0x49a3e7*_0x6cae87-_0x5ce3ab*_0xac6d33)*_0x105736,(_0x49a3e7*_0x922d1e-_0x5ce3ab*_0x9ba341)*_0x105736,(_0x49a3e7*_0x39281f-_0x5ce3ab*_0x412a11)*_0x105736);}_0x23fec7[_0x1b617e*(-0x31c+0x47*0x45+-0x1004)+(0x1ff2+-0x144c+0x15*-0x8e)]+=_0x2e09b3['x'],_0x23fec7[_0x1b617e*(0x37c*-0x3+-0x1*-0x263f+-0x1bc8)+(-0x1b91+-0x256d+-0x949*-0x7)]+=_0x2e09b3['y'],_0x23fec7[_0x1b617e*(0x1*-0xb9c+-0x199*0xb+0x2*0xe99)+(0x84f+0xc*0x26e+-0x2575)]+=_0x2e09b3['z'],_0x23fec7[_0x4af455*(0x6fb+-0x25c9+0x1ed1)+(0x1*0x210d+0x11d6+-0x745*0x7)]+=_0x2e09b3['x'],_0x23fec7[_0x4af455*(-0x45a+-0xef0+-0x3*-0x66f)+(0x2c4*0xe+-0x23c8+-0x2ef*0x1)]+=_0x2e09b3['y'],_0x23fec7[_0x4af455*(0x1*-0x29d+0x9*-0x36d+0x2175)+(0x1221+-0x1cfa*0x1+0xadb)]+=_0x2e09b3['z'],_0x23fec7[_0xce7cbc*(0x1*-0x26c9+0xd*-0x27f+0x473f)+(-0x1f03+0xfbc*0x2+0x9*-0xd)]+=_0x2e09b3['x'],_0x23fec7[_0xce7cbc*(0x14f5+0x170e+-0xb*0x400)+(0x8*-0xb5+0xdd5*0x1+-0x82c)]+=_0x2e09b3['y'],_0x23fec7[_0xce7cbc*(0x395*-0x7+-0xb5a*-0x1+-0xdbc*-0x1)+(0x1*-0x2bf+-0x14*-0xe9+-0xf73)]+=_0x2e09b3['z'],_0xef9484[_0x1b617e*(0x121f*0x1+0x2033*-0x1+0xe17)+(0xc40+-0x2*-0x12a+-0xe94)]+=_0x1d967d['x'],_0xef9484[_0x1b617e*(-0x62f*-0x4+-0x1a2e*-0x1+0x9d*-0x53)+(0xa98+-0xe*-0x2+-0x3*0x391)]+=_0x1d967d['y'],_0xef9484[_0x1b617e*(0x185*0x7+0x1184+-0x1c24)+(-0x215b+0xf02+0x125b)]+=_0x1d967d['z'],_0xef9484[_0x4af455*(0xa81+-0x22cf+0x1851)+(0x2b*0xd7+0x135d+-0x377a)]+=_0x1d967d['x'],_0xef9484[_0x4af455*(0xe3*0x6+-0x315*0x2+0xdb)+(-0x1ae9*0x1+0x162e*0x1+-0x6*-0xca)]+=_0x1d967d['y'],_0xef9484[_0x4af455*(0x12ab+0x1aed+-0x2d95)+(0x1aa5+0xfcb*-0x1+-0x2*0x56c)]+=_0x1d967d['z'],_0xef9484[_0xce7cbc*(0x1739+-0xac6+-0xc70)+(0x138c+-0x1fcd*0x1+0xc41*0x1)]+=_0x1d967d['x'],_0xef9484[_0xce7cbc*(-0x6d*-0x50+-0x101*-0x1+-0x7*0x502)+(-0x82*-0x12+-0x1b99*-0x1+-0x92f*0x4)]+=_0x1d967d['y'],_0xef9484[_0xce7cbc*(0x5d*-0x2f+0x1a6*-0xd+0x2684)+(0xc76+-0x74*0x7+-0x252*0x4)]+=_0x1d967d['z'];}const _0x33b42d=new D(),_0x41aeba=new D(),_0x36f8fd=new D(),_0x11bd18=new D();for(let _0x206715=-0x1*-0x1741+-0x8d1+0x210*-0x7;_0x206715<_0x1bc3d5;_0x206715++){_0x36f8fd['set'](_0x3b3e42[_0x206715*(-0x70a+-0x7b6+-0xec3*-0x1)],_0x3b3e42[_0x206715*(0x6f4+-0x2018+0x1927)+(0xc2d*-0x1+-0x88c+0x1*0x14ba)],_0x3b3e42[_0x206715*(-0x1*0x13eb+0x14f9+-0x10b)+(-0x511*-0x5+-0x1cf*-0xd+-0x30d6)]),_0x33b42d['set'](_0x23fec7[_0x206715*(-0x1729+-0x13*-0x1cd+-0xb0b)],_0x23fec7[_0x206715*(-0x1f01+-0xc1*-0x21+0x623)+(0x77*0x7+0xd3a*0x2+0x2*-0xeda)],_0x23fec7[_0x206715*(-0xc3a+0x1*0x199+0xaa4)+(-0x359+-0x49*-0x39+-0xce6)]),_0x41aeba['set'](_0xef9484[_0x206715*(0x8b0*0x3+0x217*-0x1+-0x17f6)],_0xef9484[_0x206715*(0x9b*-0x33+0x7*0xb2+-0xd03*-0x2)+(0x2655+0x7b1*0x3+-0x3d67)],_0xef9484[_0x206715*(-0x2*0x98e+0xe9*0x1+0x1236)+(-0x1*-0x923+0x39*-0x29+0x0)]);const _0x2ca6c9=_0x36f8fd['dot'](_0x33b42d);_0x11bd18['copy'](_0x36f8fd)['mulScalar'](_0x2ca6c9),_0x11bd18['sub2'](_0x33b42d,_0x11bd18)['normalize'](),_0x5dddf6[_0x206715*(0x1f9+0x1017+-0xc*0x181)]=_0x11bd18['x'],_0x5dddf6[_0x206715*(-0x1dbf+0x1f1c+-0xf*0x17)+(-0x13*0xe2+-0xf55+0x201c)]=_0x11bd18['y'],_0x5dddf6[_0x206715*(-0xc6f+-0xa6*-0x2b+-0xf6f)+(-0x9b8+0x3a*0x1+0x980)]=_0x11bd18['z'],_0x11bd18['cross'](_0x36f8fd,_0x33b42d),_0x5dddf6[_0x206715*(-0x5c1*0x2+0xb90+0x1*-0xa)+(0x2*0x657+0xdf2+-0x1a9d)]=_0x11bd18['dot'](_0x41aeba)<-0xefc*-0x1+0x419*0x4+-0x1f60?-(-0x2015+-0x101f*-0x1+0x43*0x3d):-0x17c*0x6+-0x9*0x29b+0x205c*0x1;}return _0x5dddf6;};class Ta{constructor(){h(this,'positions'),h(this,'normals'),h(this,'colors'),h(this,'uvs'),h(this,'uvs1'),h(this,'blendIndic'+'es'),h(this,'blendWeigh'+'ts'),h(this,'tangents'),h(this,'indices');}['calculateN'+'ormals'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=Iv(this['positions'],this['indices']);}['calculateT'+'angents'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),w['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const pu=(0xf20+-0xc69*-0x1+-0x1b85)/(0x56*0x3d+-0x167*0xe+-0x4*0x27),hg=-0x548+-0x1*0x1ea6+0x23ef-pu*(0x1f49+-0x8da+-0x1*0x166d);class mu extends Ta{constructor(_0xe95aad={}){super();const _0x3248b4=_0xe95aad['halfExtent'+'s']??new D(0xd74+0x15e+-0xed2+0.5,-0x608+-0x105*0x24+-0x88c*-0x5+0.5,-0x8*0x28d+-0x260b*0x1+0x3a73+0.5),_0x19418e=_0xe95aad['widthSegme'+'nts']??-0x1*-0x21bf+-0x1cd1*0x1+0x61*-0xd,_0x46db89=_0xe95aad['lengthSegm'+'ents']??-0x56*0x2f+0x2*0x4b2+0x667,_0x26a7ae=_0xe95aad['heightSegm'+'ents']??0xbcc+0xaa*0x9+-0x11c5,_0x4bf7d8=_0xe95aad['yOffset']??-0x9*0x449+0x1*0x29+0x2668,_0x260969=-_0x3248b4['y']+_0x4bf7d8,_0x3ebac4=_0x3248b4['y']+_0x4bf7d8,_0x4cb9c2=[new D(-_0x3248b4['x'],_0x260969,_0x3248b4['z']),new D(_0x3248b4['x'],_0x260969,_0x3248b4['z']),new D(_0x3248b4['x'],_0x3ebac4,_0x3248b4['z']),new D(-_0x3248b4['x'],_0x3ebac4,_0x3248b4['z']),new D(_0x3248b4['x'],_0x260969,-_0x3248b4['z']),new D(-_0x3248b4['x'],_0x260969,-_0x3248b4['z']),new D(-_0x3248b4['x'],_0x3ebac4,-_0x3248b4['z']),new D(_0x3248b4['x'],_0x3ebac4,-_0x3248b4['z'])],_0x53ad33=[[0x54b+0x29*0x21+-0xa94,0x22+-0x1*0x4b7+0x496,0x5cd+0x64f+-0xc19],[0xdfc+-0x78+-0xd80,-0xc42+-0x11cf*-0x1+-0x588,0x3*-0x66b+-0xa9*-0x5+0xffb],[0x2f*-0x47+-0x92d+0x1639*0x1,0x34*-0xa4+-0x7ce+-0xbc*-0x38,0xa98+-0x10*-0x66+-0x879*0x2],[-0x8c9+-0xd95+0x165f,-0x1ef8+-0x26e2+0x45da,-0x3e1*-0xa+0x1ded+-0x44b3],[0x2*-0x653+-0x403*-0x8+-0x1371,-0x11df+-0x3*-0xaa1+0x20*-0x70,-0x671+-0x32*-0xb1+0x17*-0x139],[-0x1db9*0x1+-0x87*-0x3b+0x9*-0x27,-0x1c1d+-0x4*0x783+0x15*0x2c5,-0x26d5+-0x1fe0+-0x3b9*-0x13]],_0x4a50fb=[[0x3*-0x949+-0x1d79+-0x4*-0xe55,-0x3*0xb3b+-0x1*0x1627+0x37d8,-0xf81+-0xf*-0x22a+0x1b2*-0xa],[0x2322+0x832*-0x1+-0x2*0xd78,0x18d*-0x13+-0x17f5+-0x20e*-0x1a,-(0x2bf+0x1c80+0xba*-0x2b)],[-0x9*0x63+0x20b4+0x1d39*-0x1,0x39*0x48+-0x1644+0x63d,0x7e2+-0x473+-0x36f],[0xb1b+0x37f+-0xe9a,-(0x9fe+0x729+0x36e*-0x5),-0x1*0x7be+0x1f*0x9d+-0xb45],[0xb7f+0x13a2+-0xa60*0x3,-0x1d*0x122+-0x3*-0x893+-0x16d*-0x5,-0x14c7*0x1+-0x1ec+-0x16b3*-0x1],[-(0xc19+-0x751*-0x1+-0x1369),-0x6c5*-0x1+-0x3a1*0x2+0x7d,-0x2194+0x24*-0x26+0x4*0x9bb]],_0x25f91c={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x4f26ee=[],_0x528c10=[],_0x90a6aa=[],_0x21d472=[];let _0x16418a=0x1fb4+-0xae9+-0x14cb*0x1;const _0x368a2a=(_0x278646,_0x5b8f47,_0x2de15e)=>{const _0x1201c9=new D(),_0x3dd36c=new D(),_0x9ff5c4=new D(),_0x21db7f=new D();for(let _0x406eef=0x2548+-0xf*-0x289+-0x4b4f;_0x406eef<=_0x5b8f47;_0x406eef++)for(let _0x165e68=0x1*0xf5f+-0x25e1+0x1682;_0x165e68<=_0x2de15e;_0x165e68++){_0x1201c9['lerp'](_0x4cb9c2[_0x53ad33[_0x278646][0xeed*-0x1+0xe4b+0xa2]],_0x4cb9c2[_0x53ad33[_0x278646][0x1c1f+0x261d+-0x423b]],_0x406eef/_0x5b8f47),_0x3dd36c['lerp'](_0x4cb9c2[_0x53ad33[_0x278646][-0x245c+0x2b*0xdf+-0x119]],_0x4cb9c2[_0x53ad33[_0x278646][0x2094+0x24cf+-0x4561]],_0x165e68/_0x2de15e),_0x9ff5c4['sub2'](_0x3dd36c,_0x4cb9c2[_0x53ad33[_0x278646][0x1922+0x73c+0xaca*-0x3]]),_0x21db7f['add2'](_0x1201c9,_0x9ff5c4);let _0x5ee98e=_0x406eef/_0x5b8f47,_0x3bec43=_0x165e68/_0x2de15e;_0x4f26ee['push'](_0x21db7f['x'],_0x21db7f['y'],_0x21db7f['z']),_0x528c10['push'](_0x4a50fb[_0x278646][-0x19cb+-0x3*0x682+0x2d51],_0x4a50fb[_0x278646][-0x6*0x43a+-0x31*0xb5+-0x1e01*-0x2],_0x4a50fb[_0x278646][-0x2*0xef8+0x651+0x17a1]),_0x90a6aa['push'](_0x5ee98e,0x165d+0x3*-0x2e1+-0xdb9-_0x3bec43),_0x5ee98e=_0x5ee98e*hg+pu,_0x3bec43=_0x3bec43*hg+pu,_0x5ee98e/=-0x3*-0x2+0x68b+-0x347*0x2,_0x3bec43/=-0x1253*-0x1+-0x5d2+-0xc7e,_0x5ee98e+=_0x278646%(0x1d8c+0xf2e+-0x2cb7)/(-0x8*0x121+0x31b+0x5f0),_0x3bec43+=Math['floor'](_0x278646/(0x4d1*0x1+-0x956*0x4+0x208a))/(0x13a7+0x1*0xf90+0x3*-0xbbc),_0x406eef<_0x5b8f47&&_0x165e68<_0x2de15e&&(_0x21d472['push'](_0x16418a+_0x2de15e+(-0x2112+-0xaef+0x2c02),_0x16418a+(0xbfa+0x1f31*0x1+0x2*-0x1595),_0x16418a),_0x21d472['push'](_0x16418a+_0x2de15e+(0xb6d+-0xd*-0x5b+-0x559*0x3),_0x16418a+_0x2de15e+(0x1b46*-0x1+-0x1e5d+0x1*0x39a5),_0x16418a+(-0x1d36+0x79d*-0x2+0x1f*0x16f))),_0x16418a++;}};_0x368a2a(_0x25f91c['FRONT'],_0x19418e,_0x26a7ae),_0x368a2a(_0x25f91c['BACK'],_0x19418e,_0x26a7ae),_0x368a2a(_0x25f91c['TOP'],_0x19418e,_0x46db89),_0x368a2a(_0x25f91c['BOTTOM'],_0x19418e,_0x46db89),_0x368a2a(_0x25f91c['RIGHT'],_0x46db89,_0x26a7ae),_0x368a2a(_0x25f91c['LEFT'],_0x46db89,_0x26a7ae),this['positions']=_0x4f26ee,this['normals']=_0x528c10,this['uvs']=_0x90a6aa,this['uvs1']=_0x90a6aa,this['indices']=_0x21d472,_0xe95aad['calculateT'+'angents']&&(this['tangents']=Mr(_0x4f26ee,_0x528c10,_0x90a6aa,_0x21d472));}}class _m extends Ta{constructor(_0x3b558f={}){super();const _0x28e929=_0x3b558f['radius']??-0x1*-0x1db7+0x1b4a*-0x1+0x1b*-0x17+0.5,_0x3a54d6=_0x3b558f['latitudeBa'+'nds']??0x1*-0x8f1+-0x5d*0x3e+0x1f87,_0x2cce85=_0x3b558f['longitudeB'+'ands']??-0x9d*-0x34+0x14d+-0x2121,_0x534e89=[],_0x4723d6=[],_0xd6df8c=[],_0x15cd51=[];for(let _0x72edde=0xd79*-0x1+-0xaae+0x1827;_0x72edde<=_0x3a54d6;_0x72edde++){const _0x52a2dd=_0x72edde*Math['PI']/_0x3a54d6,_0xe49b16=Math['sin'](_0x52a2dd),_0x4cc62f=Math['cos'](_0x52a2dd);for(let _0x5bde26=0x2*-0x1003+0xda5+-0x3ad*-0x5;_0x5bde26<=_0x2cce85;_0x5bde26++){const _0x3d074b=_0x5bde26*(0x1f3*0x1+0x10f4+-0x12e5)*Math['PI']/_0x2cce85-Math['PI']/(-0x1d13+-0xb5e+0x1*0x2873),_0x397c23=Math['sin'](_0x3d074b),_0x473c19=Math['cos'](_0x3d074b)*_0xe49b16,_0x5e3cc2=_0x4cc62f,_0x33ec23=_0x397c23*_0xe49b16,_0x3657e7=-0x7*-0x3c1+-0x1393*-0x1+0x42b*-0xb-_0x5bde26/_0x2cce85,_0x3c442a=0xb3f+-0x161b+0x39f*0x3-_0x72edde/_0x3a54d6;_0x534e89['push'](_0x473c19*_0x28e929,_0x5e3cc2*_0x28e929,_0x33ec23*_0x28e929),_0x4723d6['push'](_0x473c19,_0x5e3cc2,_0x33ec23),_0xd6df8c['push'](_0x3657e7,-0x7db+0x1c*-0xa3+0x19b0-_0x3c442a);}}for(let _0x5bd329=0x4b5+0x14a7+0xc*-0x21d;_0x5bd329<_0x3a54d6;++_0x5bd329)for(let _0x18966c=0xfdf+-0x121b+0x23c;_0x18966c<_0x2cce85;++_0x18966c){const _0x306382=_0x5bd329*(_0x2cce85+(-0x2b*-0x16+-0x1*0x1e67+-0x1*-0x1ab6))+_0x18966c,_0x2c518a=_0x306382+_0x2cce85+(-0x462+-0x1b02+0x1f65);_0x15cd51['push'](_0x306382+(0xc*-0x2e3+0x85*0x39+-0x7*-0xb8),_0x2c518a,_0x306382),_0x15cd51['push'](_0x306382+(-0xd4*-0x25+0x25ca*0x1+-0x16cf*0x3),_0x2c518a+(-0x5*0x22d+0x1c22+-0x1140),_0x2c518a);}this['positions']=_0x534e89,this['normals']=_0x4723d6,this['uvs']=_0xd6df8c,this['uvs1']=_0xd6df8c,this['indices']=_0x15cd51,_0x3b558f['calculateT'+'angents']&&(this['tangents']=Mr(_0x534e89,_0x4723d6,_0xd6df8c,_0x15cd51));}}class DA extends _m{constructor(_0x5ca61b={}){const _0x2cd817=_0x5ca61b['latitudeBa'+'nds']??0xcd*0x25+-0x2*-0x602+-0x2995,_0x45c7bf=_0x5ca61b['longitudeB'+'ands']??-0x164+-0x1*-0x434+-0x2c0;super({'radius':0.5,'latitudeBands':_0x2cd817,'longitudeBands':_0x45c7bf});const _0x9cfab1=0x269*-0x3+-0x1081+0x17bc+0.1,_0xaa9ed3=0x2*0x82c+-0x13c*-0xa+-0x1cb0+0.95,_0x4b3661=_0xaa9ed3*_0xaa9ed3,_0x52f4ee=this['positions'];for(let _0x1fee05=0x119f+-0x1ac3+0x924;_0x1fee05<_0x52f4ee['length'];_0x1fee05+=-0x1*-0x1ea1+-0x1eb7+0x19){const _0x30b8b2=_0x52f4ee[_0x1fee05]/(0x116*0x9+-0x120b+-0x845*-0x1+0.5);let _0x5287ec=_0x52f4ee[_0x1fee05+(-0xbf7+0x7*-0x2d3+0x1*0x1fbd)]/(-0x1*0x10c+0xc2a+0x1*-0xb1e+0.5);const _0x4a88e9=_0x52f4ee[_0x1fee05+(-0x19a3+0x97d*-0x2+0x2c9f)]/(0x1e14+-0x10d*0x2+0x1bfa*-0x1+0.5);_0x5287ec<0x4*-0x879+-0xbf*0x1+0x22a3&&(_0x5287ec*=-0xc41*0x1+-0x74*0x24+0x1c91+0.3,_0x30b8b2*_0x30b8b2+_0x4a88e9*_0x4a88e9<_0x4b3661&&(_0x5287ec=-_0x9cfab1)),_0x5287ec+=_0x9cfab1,_0x5287ec*=-0x9*0x373+0x1669+0x8a2+0.5,_0x52f4ee[_0x1fee05+(0x19*-0x96+-0x1*0x139f+0x1123*0x2)]=_0x5287ec;}}}class zo{static['create'](_0x10888c,_0x2e5d2f){switch(_0x2e5d2f){case Qw:return zo['box'](_0x10888c);case Jw:return zo['dome'](_0x10888c);}return w['assert'](_0x2e5d2f===Bo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x2e5d2f),zo['infinite'](_0x10888c);}static['infinite'](_0x25b8ad){return Ge['fromGeomet'+'ry'](_0x25b8ad,new mu(_0x25b8ad));}static['box'](_0x56b8c3){return Ge['fromGeomet'+'ry'](_0x56b8c3,new mu({'yOffset':0.5}));}static['dome'](_0x429ec2){const _0x3cfe01=new DA({'latitudeBands':0x32,'longitudeBands':0x32});return _0x3cfe01['normals']=void(0x2*-0x1159+0x1471+0xe41),_0x3cfe01['uvs']=void(-0xcea+0x11e6+-0xb*0x74),Ge['fromGeomet'+'ry'](_0x429ec2,_0x3cfe01);}}class IA{constructor(_0x147d7b,_0x89cdf1,_0x24b05c,_0x11cfe0,_0x3d3ac3){h(this,'meshInstan'+'ce',null),h(this,'_depthWrit'+'e',!(0x154*-0x2+0x71*-0x45+0x211e));const _0x4ed241=new Xn({'uniqueName':'SkyMateria'+'l','vertexGLSL':Pe['get'](_0x147d7b,Fe)['get']('skyboxVS'),'fragmentGLSL':Pe['get'](_0x147d7b,Fe)['get']('skyboxPS'),'vertexWGSL':Pe['get'](_0x147d7b,it)['get']('skyboxVS'),'fragmentWGSL':Pe['get'](_0x147d7b,it)['get']('skyboxPS'),'attributes':{'aPosition':Me}});_0x4ed241['setDefine']('{SKYBOX_DE'+'CODE_FNC}',Tr['decodeFunc'](_0x11cfe0['encoding'])),_0x3d3ac3!==Bo&&_0x4ed241['setDefine']('SKYMESH',''),_0x11cfe0['cubemap']&&_0x4ed241['setDefine']('SKY_CUBEMA'+'P',''),_0x4ed241['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x89cdf1['skyboxHigh'+'lightMulti'+'plier']),_0x11cfe0['cubemap']?_0x4ed241['setParamet'+'er']('texture_cu'+'beMap',_0x11cfe0):(_0x4ed241['setParamet'+'er']('texture_en'+'vAtlas',_0x11cfe0),_0x4ed241['setParamet'+'er']('mipLevel',_0x89cdf1['skyboxMip'])),_0x4ed241['cull']=Fo,_0x4ed241['depthWrite']=this['_depthWrit'+'e'];const _0x537ccf=_0x89cdf1['layers']['getLayerBy'+'Id'](Kp);if(_0x537ccf){const _0x409314=zo['create'](_0x147d7b,_0x3d3ac3),_0x5171a2=new He(_0x409314,_0x4ed241,_0x24b05c);this['meshInstan'+'ce']=_0x5171a2,_0x5171a2['cull']=!(-0x1f64*-0x1+0x1fe5+0xa8c*-0x6),_0x5171a2['pick']=!(0x254+-0x9a3*0x1+0x750),_0x537ccf['addMeshIns'+'tances']([_0x5171a2]),this['skyLayer']=_0x537ccf;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}set['depthWrite'](_0x5979a7){this['_depthWrit'+'e']=_0x5979a7,this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']['depthWrite']=_0x5979a7);}get['depthWrite'](){return this['_depthWrit'+'e'];}}class LA{constructor(_0x14da83){h(this,'_type',Bo),h(this,'_center',new D(0x1*-0x153c+0xf07+0x7*0xe3,0x103e+-0x5*0x473+0x602,-0x178f+0x2*0x92b+0xbf*0x7)),h(this,'skyMesh',null),h(this,'_depthWrit'+'e',!(-0x3c*0x4c+0x152+-0x67*-0x29)),h(this,'node',new Ie('SkyMeshNod'+'e')),(this['device']=_0x14da83['device'],this['scene']=_0x14da83,this['center']=new D(-0x7*0x5+-0x1*0x1835+0x1858,-0x14*0xbf+-0x1134+0x2021,0x689+0x228f*0x1+0x14*-0x20e),this['centerArra'+'y']=new Float32Array(0x215f+0x24c+-0x23a8),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x362fdb){this['type']=_0x362fdb['skyType']??Bo,this['node']['setLocalPo'+'sition'](new D(_0x362fdb['skyMeshPos'+'ition']??[0x517*-0x4+0x21a7*0x1+-0xd4b,-0x9*0xdf+-0x41d*0x9+0x2cdc,-0x2524+-0x31*-0xa9+0x4cb])),this['node']['setLocalEu'+'lerAngles'](new D(_0x362fdb['skyMeshRot'+'ation']??[0x1650+-0x2*0x107+0x1442*-0x1,-0x18de+0x1a*0xe5+0x19c,-0xf59+-0x2*0x1191+0x327b])),this['node']['setLocalSc'+'ale'](new D(_0x362fdb['skyMeshSca'+'le']??[-0x1ff9+-0x5*0x122+-0xdb*-0x2c,0x1ab*-0x8+0x37*-0x5e+0x218b,-0x1b8e+-0xec2+0x2a51])),_0x362fdb['skyCenter']&&(this['_center']=new D(_0x362fdb['skyCenter']));}set['type'](_0x1ec03d){this['_type']!==_0x1ec03d&&(this['_type']=_0x1ec03d,this['scene']['updateShad'+'ers']=!(0xe1*-0x7+0x1828*0x1+-0x1201),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x474bfb){this['_center']['copy'](_0x474bfb);}get['center'](){return this['_center'];}set['depthWrite'](_0x3c5313){this['_depthWrit'+'e']!==_0x3c5313&&(this['_depthWrit'+'e']=_0x3c5313,this['skyMesh']&&(this['skyMesh']['depthWrite']=_0x3c5313));}get['depthWrite'](){return this['_depthWrit'+'e'];}['updateSkyM'+'esh'](){const _0x4fa268=this['scene']['_getSkybox'+'Tex']();_0x4fa268&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new IA(this['device'],this['scene'],this['node'],_0x4fa268,this['type']),this['skyMesh']['depthWrite']=this['_depthWrit'+'e'],this['scene']['fire']('set:skybox',_0x4fa268));}['resetSkyMe'+'sh'](){var _0x2bba3a;(_0x2bba3a=this['skyMesh'])==null||_0x2bba3a['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==Bo){const {center:_0x5a4c98,centerArray:_0x26da6e}=this,_0x283086=new D();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x5a4c98,_0x283086),_0x26da6e[-0x1c7d+0x65*-0x21+-0x1fa*-0x15]=_0x283086['x'],_0x26da6e[-0x1e4e+-0x15c2+-0x5c9*-0x9]=_0x283086['y'],_0x26da6e[0x3*-0x423+0x199c+-0xd31]=_0x283086['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x26da6e);}}}const Ch=new Ie();Ch['worldTrans'+'form']=te['IDENTITY'],Ch['_dirtyWorl'+'d']=Ch['_dirtyNorm'+'al']=!(0x1ae+0x1e4a*-0x1+0x1c9d);class RA{constructor(_0x4ca81a,_0x195dbe,_0x3329c6){this['material']=_0x195dbe,this['layer']=_0x3329c6,this['positions']=[],this['colors']=[],this['mesh']=new Ge(_0x4ca81a),this['meshInstan'+'ce']=null;}['addLines'](_0x2bd9f,_0x736611){const _0x1c0f8c=this['positions'],_0x42e3be=_0x2bd9f['length'];for(let _0x4ffdf8=0x1534+-0x242+-0x12f2;_0x4ffdf8<_0x42e3be;_0x4ffdf8++){const _0x5cd388=_0x2bd9f[_0x4ffdf8];_0x1c0f8c['push'](_0x5cd388['x'],_0x5cd388['y'],_0x5cd388['z']);}const _0x162b38=this['colors'];if(_0x736611['length'])for(let _0x33a59e=-0x1d76+-0x353*0x7+-0x34bb*-0x1;_0x33a59e<_0x42e3be;_0x33a59e++){const _0x2bc064=_0x736611[_0x33a59e];_0x162b38['push'](_0x2bc064['r'],_0x2bc064['g'],_0x2bc064['b'],_0x2bc064['a']);}else{for(let _0x2293a7=0x2652+0xee7+-0x3539;_0x2293a7<_0x42e3be;_0x2293a7++)_0x162b38['push'](_0x736611['r'],_0x736611['g'],_0x736611['b'],_0x736611['a']);}}['addLinesAr'+'rays'](_0x2ef47a,_0x57467f){const _0x39627d=this['positions'];for(let _0x27c60b=-0x1*0x647+-0x3*-0x35f+-0x3d6;_0x27c60b<_0x2ef47a['length'];_0x27c60b+=-0xbfc+-0x70d+0x130c)_0x39627d['push'](_0x2ef47a[_0x27c60b],_0x2ef47a[_0x27c60b+(-0x1fd2+-0x120c*0x1+0x1*0x31df)],_0x2ef47a[_0x27c60b+(0xbba+0xeae+-0x1*0x1a66)]);const _0x8ade32=this['colors'];if(_0x57467f['length']){for(let _0x5c4959=0x1*0x3eb+-0xe63*-0x1+-0x124e;_0x5c4959<_0x57467f['length'];_0x5c4959+=-0x234a+-0x3b9+-0x61*-0x67)_0x8ade32['push'](_0x57467f[_0x5c4959],_0x57467f[_0x5c4959+(-0x159e+0x1c1b+-0x67c)],_0x57467f[_0x5c4959+(0x562+-0x56f+0x1*0xf)],_0x57467f[_0x5c4959+(0x4*-0x587+-0x367+0x1986)]);}else{const _0x1e765e=_0x2ef47a['length']/(0x1759+-0xce3+-0xa73);for(let _0x3540c0=-0x131a*0x1+-0x253a+0x406*0xe;_0x3540c0<_0x1e765e;_0x3540c0++)_0x8ade32['push'](_0x57467f['r'],_0x57467f['g'],_0x57467f['b'],_0x57467f['a']);}}['onPreRende'+'r'](_0x7b24d6,_0x3f7751){this['positions']['length']>0x1359*-0x1+0xd69*0x2+0x1*-0x779&&this['material']['transparen'+'t']===_0x3f7751&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](hd,!(0x58*-0x1+-0x23bd+0x2416)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new He(this['mesh'],this['material'],Ch)),_0x7b24d6['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=0xf*-0x19b+0x17*0x127+-0x136*0x2,this['colors']['length']=0xa3*-0x5+0x18c6+0x1597*-0x1;}}class OA{constructor(_0x57b499){this['device']=_0x57b499,this['map']=new Map();}['getBatch'](_0x35193d,_0x28ed89){let _0x4c0517=this['map']['get'](_0x35193d);return _0x4c0517||(_0x4c0517=new RA(this['device'],_0x35193d,_0x28ed89),this['map']['set'](_0x35193d,_0x4c0517)),_0x4c0517;}['onPreRende'+'r'](_0x2d433b,_0x15c93c){this['map']['forEach'](_0x518f19=>{_0x518f19['onPreRende'+'r'](_0x2d433b,_0x15c93c);});}['clear'](){this['map']['forEach'](_0x564528=>_0x564528['clear']());}}const Ts=[],Ba=new D();class FA{constructor(_0x2dfb3c){h(this,'shaderDesc'+'s',new Map()),(this['device']=_0x2dfb3c,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x3a8921){const _0x5376f4=new Xn({'uniqueName':'ImmediateL'+'ine','vertexGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'ineVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'inePS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'ineVS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'inePS'),'attributes':{'vertex_position':Me,'vertex_color':Wt}});return _0x5376f4['blendType']=Zs,_0x5376f4['depthTest']=_0x3a8921,_0x5376f4['update'](),_0x5376f4;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(-0x10fd*-0x2+-0x437*-0x6+-0x3b44))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(-0x2c8*-0x4+0x11*0xc8+-0x1867))),this['_materialN'+'oDepth'];}['getBatch'](_0x197125,_0x8e304e){let _0x1c78ab=this['batchesMap']['get'](_0x197125);_0x1c78ab||(_0x1c78ab=new OA(this['device']),this['batchesMap']['set'](_0x197125,_0x1c78ab)),this['allBatches']['add'](_0x1c78ab);const _0x17c456=_0x8e304e?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x1c78ab['getBatch'](_0x17c456,_0x197125);}['getShaderD'+'esc'](_0x364761,_0x32cdf7,_0x186d73){return this['shaderDesc'+'s']['has'](_0x364761)||this['shaderDesc'+'s']['set'](_0x364761,{'uniqueName':'DebugShade'+'r:'+_0x364761,'vertexGLSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ve'+'c2\x20uv0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uv0\x20=\x20ve'+'rtex_posit'+'ion.xy\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20','vertexWGSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20@ver'+'tex\x20fn\x20ver'+'texMain(in'+'put:\x20Verte'+'xInput)\x20->'+'\x20VertexOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20un'+'iform.matr'+'ix_model\x20*'+'\x20vec4f(inp'+'ut.vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.uv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20+\x20vec2f'+'(0.5);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20','fragmentGLSL':_0x32cdf7,'fragmentWGSL':_0x186d73,'attributes':{'vertex_position':Me}}),this['shaderDesc'+'s']['get'](_0x364761);}['getTexture'+'ShaderDesc'](_0xbb25e9){const _0x4632df=Tr['decodeFunc'](_0xbb25e9);return this['getShaderD'+'esc']('textureSha'+'der-'+_0xbb25e9,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x4632df+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20colorMa'+'pSampler:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20@fragment'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output:\x20Fr'+'agmentOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20sample'+'dTex\x20=\x20tex'+'tureSample'+'(colorMap,'+'\x20colorMapS'+'ampler,\x20in'+'put.uv0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'linearColo'+'r:\x20vec3f\x20='+'\x20'+_0x4632df+('(sampledTe'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(gammaCorr'+'ectOutput('+'linearColo'+'r),\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<uff>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20@'+'fragment\x20f'+'n\x20fragment'+'Main(input'+'\x20:\x20Fragmen'+'tInput)\x20->'+'\x20FragmentO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'nput.uv0\x20*'+'\x20vec2f(tex'+'tureDimens'+'ions(color'+'Map,\x200)));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20fetchedCo'+'lor\x20:\x20vec4'+'f\x20=\x20textur'+'eLoad(colo'+'rMap,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(fetchedCo'+'lor.xyz,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20void\x20main'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x20getLi'+'nearScreen'+'Depth(getI'+'mageEffect'+'UV(uv0))\x20*'+'\x20camera_pa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(vec3(de'+'pth)),\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20u'+'v0:\x20vec2f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20@fragme'+'nt\x20fn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20depth'+':\x20f32\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(inpu'+'t.uv0))\x20*\x20'+'uniform.ca'+'mera_param'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(vec3f(dep'+'th)),\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ge(this['device']),this['quadMesh']['setPositio'+'ns']([-(0xecc+-0x1559+0x68d+0.5),-(0x1040+0x19e6+-0x1*0x2a26+0.5),0x3*-0xc1b+-0x757+0x2ba8,0x1*-0x17d5+0x2266+0x21d*-0x5+0.5,-(-0x5f7+0x1dad+-0x17b6+0.5),0x1*0x6ca+0xa*-0x182+0x84a,-(-0xe11+0x9*-0x445+0x2*0x1a3f+0.5),-0x757+-0x2*-0x1253+0x9c5*-0x3+0.5,0x13*-0x95+0x1fbf+-0xa58*0x2,-0x20ca+0x1bff+0x4cb+0.5,-0x2622+-0xf56+0x3578+0.5,0x1bc6+-0x1422+-0x7a4]),this['quadMesh']['update'](Er)),this['quadMesh'];}['drawMesh'](_0x3a50a9,_0x4675a4,_0x33bba1,_0x2107e7,_0xa3188b){if(!_0x2107e7){const _0x490760=this['getGraphNo'+'de'](_0x4675a4);_0x2107e7=new He(_0x33bba1,_0x3a50a9,_0x490760);}let _0x33b480=this['layerMeshI'+'nstances']['get'](_0xa3188b);_0x33b480||(_0x33b480=[],this['layerMeshI'+'nstances']['set'](_0xa3188b,_0x33b480)),_0x33b480['push'](_0x2107e7);}['drawWireAl'+'ignedBox'](_0x3cd334,_0x46a3f6,_0x361415,_0x148974,_0xe0bbee,_0x5c2753){if(_0x5c2753){const _0x3d3bb0=(_0xd45b77,_0x493b69,_0x2959c6)=>{Ba['set'](_0xd45b77,_0x493b69,_0x2959c6),_0x5c2753['transformP'+'oint'](Ba,Ba),Ts['push'](Ba['x'],Ba['y'],Ba['z']);};_0x3d3bb0(_0x3cd334['x'],_0x3cd334['y'],_0x3cd334['z']),_0x3d3bb0(_0x3cd334['x'],_0x46a3f6['y'],_0x3cd334['z']),_0x3d3bb0(_0x3cd334['x'],_0x46a3f6['y'],_0x3cd334['z']),_0x3d3bb0(_0x46a3f6['x'],_0x46a3f6['y'],_0x3cd334['z']),_0x3d3bb0(_0x46a3f6['x'],_0x46a3f6['y'],_0x3cd334['z']),_0x3d3bb0(_0x46a3f6['x'],_0x3cd334['y'],_0x3cd334['z']),_0x3d3bb0(_0x46a3f6['x'],_0x3cd334['y'],_0x3cd334['z']),_0x3d3bb0(_0x3cd334['x'],_0x3cd334['y'],_0x3cd334['z']),_0x3d3bb0(_0x3cd334['x'],_0x3cd334['y'],_0x46a3f6['z']),_0x3d3bb0(_0x3cd334['x'],_0x46a3f6['y'],_0x46a3f6['z']),_0x3d3bb0(_0x3cd334['x'],_0x46a3f6['y'],_0x46a3f6['z']),_0x3d3bb0(_0x46a3f6['x'],_0x46a3f6['y'],_0x46a3f6['z']),_0x3d3bb0(_0x46a3f6['x'],_0x46a3f6['y'],_0x46a3f6['z']),_0x3d3bb0(_0x46a3f6['x'],_0x3cd334['y'],_0x46a3f6['z']),_0x3d3bb0(_0x46a3f6['x'],_0x3cd334['y'],_0x46a3f6['z']),_0x3d3bb0(_0x3cd334['x'],_0x3cd334['y'],_0x46a3f6['z']),_0x3d3bb0(_0x3cd334['x'],_0x3cd334['y'],_0x3cd334['z']),_0x3d3bb0(_0x3cd334['x'],_0x3cd334['y'],_0x46a3f6['z']),_0x3d3bb0(_0x3cd334['x'],_0x46a3f6['y'],_0x3cd334['z']),_0x3d3bb0(_0x3cd334['x'],_0x46a3f6['y'],_0x46a3f6['z']),_0x3d3bb0(_0x46a3f6['x'],_0x46a3f6['y'],_0x3cd334['z']),_0x3d3bb0(_0x46a3f6['x'],_0x46a3f6['y'],_0x46a3f6['z']),_0x3d3bb0(_0x46a3f6['x'],_0x3cd334['y'],_0x3cd334['z']),_0x3d3bb0(_0x46a3f6['x'],_0x3cd334['y'],_0x46a3f6['z']);}else Ts['push'](_0x3cd334['x'],_0x3cd334['y'],_0x3cd334['z'],_0x3cd334['x'],_0x46a3f6['y'],_0x3cd334['z'],_0x3cd334['x'],_0x46a3f6['y'],_0x3cd334['z'],_0x46a3f6['x'],_0x46a3f6['y'],_0x3cd334['z'],_0x46a3f6['x'],_0x46a3f6['y'],_0x3cd334['z'],_0x46a3f6['x'],_0x3cd334['y'],_0x3cd334['z'],_0x46a3f6['x'],_0x3cd334['y'],_0x3cd334['z'],_0x3cd334['x'],_0x3cd334['y'],_0x3cd334['z'],_0x3cd334['x'],_0x3cd334['y'],_0x46a3f6['z'],_0x3cd334['x'],_0x46a3f6['y'],_0x46a3f6['z'],_0x3cd334['x'],_0x46a3f6['y'],_0x46a3f6['z'],_0x46a3f6['x'],_0x46a3f6['y'],_0x46a3f6['z'],_0x46a3f6['x'],_0x46a3f6['y'],_0x46a3f6['z'],_0x46a3f6['x'],_0x3cd334['y'],_0x46a3f6['z'],_0x46a3f6['x'],_0x3cd334['y'],_0x46a3f6['z'],_0x3cd334['x'],_0x3cd334['y'],_0x46a3f6['z'],_0x3cd334['x'],_0x3cd334['y'],_0x3cd334['z'],_0x3cd334['x'],_0x3cd334['y'],_0x46a3f6['z'],_0x3cd334['x'],_0x46a3f6['y'],_0x3cd334['z'],_0x3cd334['x'],_0x46a3f6['y'],_0x46a3f6['z'],_0x46a3f6['x'],_0x46a3f6['y'],_0x3cd334['z'],_0x46a3f6['x'],_0x46a3f6['y'],_0x46a3f6['z'],_0x46a3f6['x'],_0x3cd334['y'],_0x3cd334['z'],_0x46a3f6['x'],_0x3cd334['y'],_0x46a3f6['z']);this['getBatch'](_0xe0bbee,_0x148974)['addLinesAr'+'rays'](Ts,_0x361415),Ts['length']=0x19f6+0x99d+0x2393*-0x1;}['drawWireSp'+'here'](_0x38bdad,_0x381a55,_0x576d3c,_0x3cbf09,_0xddb366,_0x21cf68){const _0x2b1371=(-0x191*-0x14+0x20e*-0xa+-0xac6)*Math['PI']/_0x3cbf09;let _0x4996b9=-0x1dd5*-0x1+-0x22bd+-0x2*-0x274;for(let _0x8997a2=-0x1*0x11b+0x694+-0x579;_0x8997a2<_0x3cbf09;_0x8997a2++){const _0x2a1cc3=Math['sin'](_0x4996b9),_0x1f91cc=Math['cos'](_0x4996b9);_0x4996b9+=_0x2b1371;const _0x4beadc=Math['sin'](_0x4996b9),_0x29df71=Math['cos'](_0x4996b9);Ts['push'](_0x38bdad['x']+_0x381a55*_0x2a1cc3,_0x38bdad['y'],_0x38bdad['z']+_0x381a55*_0x1f91cc),Ts['push'](_0x38bdad['x']+_0x381a55*_0x4beadc,_0x38bdad['y'],_0x38bdad['z']+_0x381a55*_0x29df71),Ts['push'](_0x38bdad['x']+_0x381a55*_0x2a1cc3,_0x38bdad['y']+_0x381a55*_0x1f91cc,_0x38bdad['z']),Ts['push'](_0x38bdad['x']+_0x381a55*_0x4beadc,_0x38bdad['y']+_0x381a55*_0x29df71,_0x38bdad['z']),Ts['push'](_0x38bdad['x'],_0x38bdad['y']+_0x381a55*_0x2a1cc3,_0x38bdad['z']+_0x381a55*_0x1f91cc),Ts['push'](_0x38bdad['x'],_0x38bdad['y']+_0x381a55*_0x4beadc,_0x38bdad['z']+_0x381a55*_0x29df71);}this['getBatch'](_0x21cf68,_0xddb366)['addLinesAr'+'rays'](Ts,_0x576d3c),Ts['length']=0x5*-0x2d+0x132c+0x15*-0xdf;}['getGraphNo'+'de'](_0x5539b2){const _0x2b7d31=new Ie('ImmediateD'+'ebug');return _0x2b7d31['worldTrans'+'form']=_0x5539b2,_0x2b7d31['_dirtyWorl'+'d']=_0x2b7d31['_dirtyNorm'+'al']=!(0x69d*-0x1+0x2*0x1c+0xe*0x75),_0x2b7d31;}['onPreRende'+'rLayer'](_0x15cc8f,_0xc3946c,_0x125524){if(this['batchesMap']['forEach']((_0xa46a3f,_0x1b1447)=>{_0x1b1447===_0x15cc8f&&_0xa46a3f['onPreRende'+'r'](_0xc3946c,_0x125524);}),!this['updatedLay'+'ers']['has'](_0x15cc8f)){this['updatedLay'+'ers']['add'](_0x15cc8f);const _0x5dcb83=this['layerMeshI'+'nstances']['get'](_0x15cc8f);if(_0x5dcb83){for(let _0x2de510=0x241*-0xa+-0x1b2d+-0x3d3*-0xd;_0x2de510<_0x5dcb83['length'];_0x2de510++)_0xc3946c['push'](_0x5dcb83[_0x2de510]);_0x5dcb83['length']=0x1b22+0x6*0x1fa+-0x7*0x592;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x78de3d=>_0x78de3d['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class NA{constructor(){h(this,'type',Kn),h(this,'color',new ie(-0x1*0x8d5+0xd1d+-0x8*0x89,0x399+0x366+-0x6ff,0x47*0x3+0x1b*0x7e+-0xe1f)),h(this,'density',-0xfbc+-0x1551+-0x7*-0x54b),h(this,'start',0x3*-0x8e4+-0x268f+0x343*0x14),h(this,'end',0x197+0x21fe+-0x9*0x385);}}class Et extends me{constructor(_0x239e08){super(),h(this,'ambientBak'+'e',!(-0x12d1+0x1f68+-0xc96)),h(this,'ambientBak'+'eOcclusion'+'Brightness',0xcc5+-0x7b1+0x104*-0x5),h(this,'ambientBak'+'eOcclusion'+'Contrast',0xd9b+0xab*0x2d+-0x2baa),h(this,'ambientLig'+'ht',new ie(0x109c*0x2+0x170f+-0x3847*0x1,0xbdd*0x2+-0x6*-0x22e+0xe*-0x2a1,0x1536+-0x660+0xd3*-0x12)),h(this,'ambientLum'+'inance',-0xf8c+-0x947+0x18d3),h(this,'exposure',0x1b60+0x201c*0x1+-0x3b7b),h(this,'lightmapSi'+'zeMultipli'+'er',-0x459+0x6f3+-0x85*0x5),h(this,'lightmapMa'+'xResolutio'+'n',-0x1f4b+0xd01*0x2+0x13*0xb3),h(this,'lightmapMo'+'de',jc),h(this,'lightmapFi'+'lterEnable'+'d',!(-0x1*0x1241+0x2*0xe12+-0x9e2*0x1)),h(this,'lightmapHD'+'R',!(0x34e*0x1+0x24fe+-0x1*0x284b)),h(this,'root',null),h(this,'physicalUn'+'its',!(0x1dd0+0x20eb+-0x3eba)),h(this,'_envAtlas',null),h(this,'_skyboxCub'+'eMap',null),h(this,'_fogParams',new NA()),h(this,'forcePassT'+'hroughSpec'+'ular',!(-0x1*0x4a1+-0x2594+0x2*0x151b)),(w['assert'](_0x239e08,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x239e08,this['_gravity']=new D(-0x1*0x402+-0x139*-0x10+-0xf8e,-(0x1eec+-0x124a+-0x3*0x433+0.8000000000000007),-0x207*-0x9+-0x4da+-0x477*0x3),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=0x61f*0x1+-0x1a2c+0x140e,this['_skyboxLum'+'inance']=-0x1bb*0xf+-0xceb*-0x1+0xd0a,this['_skyboxMip']=-0x1f*0xfb+0x83f+-0x3*-0x762,this['_skyboxHig'+'hlightMult'+'iplier']=0x572+0x1628+0x3*-0x933,this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x10d8*0x2+0x15f8+0xbb9),this['_skyboxRot'+'ation']=new le(),this['_skyboxRot'+'ationMat3']=new _i(),this['_skyboxRot'+'ationMat4']=new te(),this['_ambientBa'+'keNumSampl'+'es']=0x2214+-0x6f8+-0x3*0x909,this['_ambientBa'+'keSpherePa'+'rt']=0x265*0x2+0x2068+-0x3*0xc66+0.4,this['_lightmapF'+'ilterRange']=0xe67+-0x19*0x6a+0x403*-0x1,this['_lightmapF'+'ilterSmoot'+'hness']=0xabe+0x2396+-0x2e54+0.2,this['_clustered'+'LightingEn'+'abled']=!(0x598+-0x22e7+0x3*0x9c5),this['_lightingP'+'arams']=new Mv(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(-0x161f+-0xa*0x278+-0x2ecf*-0x1);}),this['_sky']=new LA(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0x1*-0x94+-0x13bf+0x2bd*0x7),this['_shaderVer'+'sion']=-0x997*-0x2+0xe*0x6+-0x1382*0x1,this['immediate']=new FA(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](Zp);}set['ambientBak'+'eNumSample'+'s'](_0x42e811){this['_ambientBa'+'keNumSampl'+'es']=Y['clamp'](Math['floor'](_0x42e811),0x77e*0x3+0x264+0x43*-0x5f,-0x1717+0x1d*-0xb5+0x2c97);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0xee763f){this['_ambientBa'+'keSpherePa'+'rt']=Y['clamp'](_0xee763f,-0x343+0x16c3+-0x1380+0.001,-0x651*0x2+-0x123e+0x33*0x9b);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x51c88c){if(this['device']['isWebGPU']&&!_0x51c88c){w['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x51c88c){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x51c88c;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x4ca4fa){_0x4ca4fa!==this['_envAtlas']&&(this['_envAtlas']=_0x4ca4fa,_0x4ca4fa&&(_0x4ca4fa['addressU']=ue,_0x4ca4fa['addressV']=ue,_0x4ca4fa['minFilter']=vt,_0x4ca4fa['magFilter']=vt,_0x4ca4fa['mipmaps']=!(0xf9e*-0x1+0x100c+-0x6d)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x31d4f7){const _0x7c6c2b=this['_layers'];this['_layers']=_0x31d4f7,this['fire']('set:layers',_0x7c6c2b,_0x31d4f7);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x4ebed1){this['_lightmapF'+'ilterRange']=Math['max'](_0x4ebed1,0x2027*0x1+-0x56a+0x1abd*-0x1+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x3e1d96){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x3e1d96,-0x1d0e+-0x215e+-0xf9b*-0x4+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0xb9811){_0xb9811=_0xb9811||[];const _0x10501c=this['_prefilter'+'edCubemaps'];(_0x10501c['length']!==_0xb9811['length']||_0x10501c['some']((_0x4d5209,_0x14a4e1)=>_0x4d5209!==_0xb9811[_0x14a4e1]))&&(_0xb9811['length']===-0x21a*-0x10+0xd6*-0x25+-0x2ac&&_0xb9811['every'](_0x52619e=>!!_0x52619e)?(this['_internalE'+'nvAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0xb9811,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0xb9811['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x232398){_0x232398!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x232398,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x437e15){_0x437e15!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x437e15,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x5d2f3c){_0x5d2f3c!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x5d2f3c,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x3784d5){_0x3784d5!==this['_skyboxMip']&&(this['_skyboxMip']=_0x3784d5,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x8e5b5){_0x8e5b5!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x8e5b5,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x3091de){if(!this['_skyboxRot'+'ation']['equals'](_0x3091de)){const _0x5bd6a5=_0x3091de['equals'](le['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x3091de),_0x5bd6a5?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](D['ZERO'],_0x3091de,D['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x5bd6a5&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x266a+0x15*-0xff+0x3b55),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x1df3fa,_0x3689b8,_0x4f8261=ie['WHITE'],_0xc3aec5=!(0x175*0x14+0xa18+-0x273c),_0x2a340f=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x2a340f,_0xc3aec5)['addLines']([_0x1df3fa,_0x3689b8],[_0x4f8261,_0x4f8261]);}['drawLines'](_0x3731d1,_0x4c09d6,_0x168445=!(0x1030+-0x811+0x9*-0xe7),_0x31e1bd=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x31e1bd,_0x168445)['addLines'](_0x3731d1,_0x4c09d6);}['drawLineAr'+'rays'](_0xd60efc,_0x5d6a51,_0x18af9d=!(-0xbe+0x18a7+-0x17e9),_0x5f1de7=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x5f1de7,_0x18af9d)['addLinesAr'+'rays'](_0xd60efc,_0x5d6a51);}['applySetti'+'ngs'](_0x49e579){const _0x5a33df=_0x49e579['physics'],_0x49e874=_0x49e579['render'];this['_gravity']['set'](_0x5a33df['gravity'][-0xa98+0x19c0+0x1*-0xf28],_0x5a33df['gravity'][-0x569+0xf76+-0xa0c],_0x5a33df['gravity'][-0xe85+-0x60*-0x53+-0x25f*0x7]),this['ambientLig'+'ht']['set'](_0x49e874['global_amb'+'ient'][-0x219e+0x46*-0x2+0x222a],_0x49e874['global_amb'+'ient'][-0x4*0x512+0x11*-0xed+0x2406],_0x49e874['global_amb'+'ient'][0x1*-0x2591+0xad4+0x1abf*0x1]),this['ambientLum'+'inance']=_0x49e874['ambientLum'+'inance'],this['fog']['type']=_0x49e874['fog'],this['fog']['color']['set'](_0x49e874['fog_color'][-0x2339+0x3d9*0x2+-0xf3*-0x1d],_0x49e874['fog_color'][0x104e+0x1*0x217+-0x4*0x499],_0x49e874['fog_color'][0xacf*0x1+0x1227*0x1+-0x4*0x73d]),this['fog']['start']=_0x49e874['fog_start'],this['fog']['end']=_0x49e874['fog_end'],this['fog']['density']=_0x49e874['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x49e874['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x49e874['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x49e874['lightmapMo'+'de'],this['exposure']=_0x49e874['exposure'],this['_skyboxInt'+'ensity']=_0x49e874['skyboxInte'+'nsity']??0x1188+-0x12af+0x128,this['_skyboxLum'+'inance']=_0x49e874['skyboxLumi'+'nance']??0x4b41+0x3b7a+-0x389b,this['_skyboxMip']=_0x49e874['skyboxMip']??0x490+0x1301+-0x1791,_0x49e874['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new le()['setFromEul'+'erAngles'](_0x49e874['skyboxRota'+'tion'][-0xb75+-0x636+0x11ab],_0x49e874['skyboxRota'+'tion'][-0x748+-0x2*-0xbc2+0x569*-0x3],_0x49e874['skyboxRota'+'tion'][0x46*0x66+-0x4c*0x7d+0x93a])),this['sky']['applySetti'+'ngs'](_0x49e874),this['clusteredL'+'ightingEna'+'bled']=_0x49e874['clusteredL'+'ightingEna'+'bled']??!(0x1917+0xce*-0x23+0x2*0x18a),this['lighting']['applySetti'+'ngs'](_0x49e874),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x4947fd=>{_0x49e874['hasOwnProp'+'erty'](_0x4947fd)&&(this[_0x4947fd]=_0x49e874[_0x4947fd]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x1d7489=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x1d7489[[-0x1*-0x1ae7+0x17e*-0x1+-0x1969,-0x348+0x1816+-0x5*0x429,0x1*-0x1a80+0x1*-0xcf1+0x2*0x13ba,-0x18ae+0x1646+0x26c,0x10*-0x97+-0x1f2f+0x28a4,-0x2188+-0x1cf9+-0x1*-0x3e87][this['_skyboxMip']]]||this['_envAtlas']||_0x1d7489[0x3b*0x27+-0x27*0x27+-0x30c]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x1d7489[-0x12*-0x11f+-0x986+-0x2aa*0x4]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(-0x1*0x139d+-0x1fd*0xf+-0x1c4*-0x1c);}['setSkybox'](_0x2eca5c){_0x2eca5c?(this['skybox']=_0x2eca5c[-0x794+0x1*-0x926+0x1*0x10ba]||null,_0x2eca5c[0x1d67+0x3*-0xc81+0x81d]&&!_0x2eca5c[-0xf5a+-0xea9+0x1e04]['cubemap']?this['envAtlas']=_0x2eca5c[0x11d0+0x1*0x117b+0x2*-0x11a5]:this['prefiltere'+'dCubemaps']=_0x2eca5c['slice'](-0x1944+0x71a+0x1*0x122b)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Ne;}}h(Et,'EVENT_SETL'+'AYERS','set:layers'),h(Et,'EVENT_SETS'+'KYBOX','set:skybox'),h(Et,'EVENT_PRER'+'ENDER','prerender'),h(Et,'EVENT_POST'+'RENDER','postrender'),h(Et,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),h(Et,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),h(Et,'EVENT_PREC'+'ULL','precull'),h(Et,'EVENT_POST'+'CULL','postcull');class Lv{constructor(_0x3dbb48,_0x25e09d,_0x31cd47){this['device']=_0x3dbb48,this['inverseBin'+'dPose']=_0x25e09d,this['boneNames']=_0x31cd47;}}const kA=[0x143d+-0xd*-0x2cf+-0x38c0,-0xa42+-0x1608+0x204a,0x22a6+-0x28*0xc+-0x20c5,-0x1*-0x26c2+0xefa+-0x35bc,0x1a58+-0x772+-0x12e6,0x1487+0x23df+-0x3865,-0x21*-0xda+-0x1af8*0x1+-0x122,-0x1*0x1ddb+-0x19ac+-0x1*-0x3787,-0x123e+0x43+0x11fc,-0x1854+-0x26*-0xa+0x16d8,-0x4*0x94+0x1844+-0xafa*0x2,0x482*-0x2+-0x1396+0x1c9b],UA=[0x14e3+0xa1*0x2c+-0x308f,0x28*0x77+-0x10*0x184+0x9*0xa1,0x6b*-0x11+0xe95+-0x777,-0x3*0xbb1+-0x257e*-0x1+0x269*-0x1,-0x7d3*0x1+-0xe60+0x1636,0xcab+0x6e*-0x1b+-0x110];class BA extends me{constructor(_0x13bdda,_0xdee985){super(),this['_device']=_0x13bdda,this['_pixelsPer'+'Unit']=_0xdee985&&_0xdee985['pixelsPerU'+'nit']!==void(0x1982+-0xeaa+0x4*-0x2b6)?_0xdee985['pixelsPerU'+'nit']:0x567*-0x2+-0xc77*-0x3+0x2*-0xd4b,this['_renderMod'+'e']=_0xdee985&&_0xdee985['renderMode']!==void(-0x2099*-0x1+-0xf41+0x8*-0x22b)?_0xdee985['renderMode']:ci,this['_atlas']=_0xdee985&&_0xdee985['atlas']!==void(-0xe*0x56+-0x1905+0x1db9)?_0xdee985['atlas']:null,this['_frameKeys']=_0xdee985&&_0xdee985['frameKeys']!==void(0xf4c+-0xd79*-0x1+0x1eb*-0xf)?_0xdee985['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(0x1c16+0x234+-0x1e49),this['_meshesDir'+'ty']=!(0x3a*-0x8b+-0xc3c+-0x1*-0x2bbb),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x5d54fd){this['_frameKeys']=_0x5d54fd,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1ddd+0x1243*0x1+0xb9a):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x5d54fd);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x58fc72){_0x58fc72!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x58fc72,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0xf98+-0x1d59+0xdc1):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x58fc72));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x3b121f){this['_pixelsPer'+'Unit']!==_0x3b121f&&(this['_pixelsPer'+'Unit']=_0x3b121f,this['fire']('set:pixels'+'PerUnit',_0x3b121f),this['_atlas']&&this['_frameKeys']&&this['renderMode']===ci&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x1*-0x6da+0x50a+0x1d0):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x3d04c8){if(this['_renderMod'+'e']===_0x3d04c8)return;const _0x3ef90c=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x3d04c8,this['fire']('set:render'+'Mode',_0x3d04c8),(_0x3ef90c===ci||_0x3d04c8===ci)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x3*0x863+-0xa34*0x2+0x1*-0x4c1):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x24e44a=this['_meshes']['length'];for(let _0x3ffee5=-0x1*0x157d+0x2*-0x63+-0x1643*-0x1;_0x3ffee5<_0x24e44a;_0x3ffee5++){const _0x1ecc1d=this['_meshes'][_0x3ffee5];_0x1ecc1d&&_0x1ecc1d['destroy']();}const _0x3ceab5=this['_frameKeys']['length'];this['_meshes']=new Array(_0x3ceab5);const _0x34589c=this['renderMode']===Pt||this['_renderMod'+'e']===Mt?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x5de5eb=-0xc9e+0xbf8*0x1+-0x1*-0xa6;_0x5de5eb<_0x3ceab5;_0x5de5eb++){const _0x8a5ba6=this['_atlas']['frames'][this['_frameKeys'][_0x5de5eb]];this['_meshes'][_0x5de5eb]=_0x8a5ba6?_0x34589c['call'](this,_0x8a5ba6):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0xc55d4e){const _0x27b651=_0xc55d4e['rect'],_0xe04130=this['_atlas']['texture']['width'],_0x52ad03=this['_atlas']['texture']['height'],_0x29349c=_0x27b651['z']/this['_pixelsPer'+'Unit'],_0x5b7a7c=_0x27b651['w']/this['_pixelsPer'+'Unit'],_0x593cd8=_0xc55d4e['pivot']['x'],_0x19b2b5=_0xc55d4e['pivot']['y'],_0x59e876=[-_0x593cd8*_0x29349c,-_0x19b2b5*_0x5b7a7c,0x11*0x6b+0x214*0x6+-0x1393*0x1,(0x123a+-0x55*0x67+0xffa-_0x593cd8)*_0x29349c,-_0x19b2b5*_0x5b7a7c,0x461+0xf4d+-0x16*0xe5,(0x99f*0x4+-0x1423+0x1*-0x1258-_0x593cd8)*_0x29349c,(-0x3c6+-0x2e9*0x9+0x1c*0x112-_0x19b2b5)*_0x5b7a7c,-0x4ee+0x1*-0x111e+-0xa6*-0x22,-_0x593cd8*_0x29349c,(-0x1*-0x26ec+0x1*-0xf31+-0x2*0xbdd-_0x19b2b5)*_0x5b7a7c,-0x11a4+0xa3d+0x767],_0x361b9a=_0x27b651['x']/_0xe04130,_0x525944=-0x2363*0x1+-0x9c1+-0x7*-0x673-_0x27b651['y']/_0x52ad03,_0x1e3c81=(_0x27b651['x']+_0x27b651['z'])/_0xe04130,_0x53c706=0x18d+-0x15b3+0x1427-(_0x27b651['y']+_0x27b651['w'])/_0x52ad03,_0x2d60dd=[_0x361b9a,_0x525944,_0x1e3c81,_0x525944,_0x1e3c81,_0x53c706,_0x361b9a,_0x53c706],_0x5ca4cb=new Ta();return _0x5ca4cb['positions']=_0x59e876,_0x5ca4cb['normals']=kA,_0x5ca4cb['uvs']=_0x2d60dd,_0x5ca4cb['indices']=UA,Ge['fromGeomet'+'ry'](this['_device'],_0x5ca4cb);}['_create9Sl'+'iceMesh'](){const _0x2e01eb=J['ONE'],_0x3f3bfb=0x825+0x2059+-0x287b,_0x17ae93=0x53*-0x65+-0x2*0x88c+0x31da,_0x440930=[],_0x44c2c5=[],_0x297969=[],_0x322bdd=[];let _0x3e9373=-0xfa1+-0xbdb+0x1b7c;for(let _0x464b08=-0x1*-0x1f96+-0xa3b*-0x1+-0x29d1;_0x464b08<=_0x3f3bfb;_0x464b08++){const _0x475421=_0x464b08===0x1*-0x1849+-0x463*-0x2+0xf83||_0x464b08===_0x3f3bfb?-0x1a4*-0x2+-0x193*-0xf+-0x55*0x51:0x1*-0x73+-0x4a5+-0x5*-0x105;for(let _0x55c4e9=0xb15+0x1*-0x7f6+-0x31f;_0x55c4e9<=_0x17ae93;_0x55c4e9++){const _0x1aba9a=-_0x2e01eb['x']+(0x13d4+0x23cf+0x8d*-0x65)*_0x2e01eb['x']*(_0x464b08<=0x2566+0x24cd+-0x4a32?-0x3cd+0x2562+-0x2195:0x8c4+0x1*-0xa54+0x193)/_0x3f3bfb,_0x21613e=0x1b09+-0x1bf5+0xec,_0x144a92=-(-_0x2e01eb['y']+(-0x161*-0x9+-0x116d+0x506)*_0x2e01eb['y']*(_0x55c4e9<=-0x1e*-0x112+-0xd99*-0x1+-0x28a*0x12?-0x2aa+0x2333+-0x2089:0x143*-0x19+-0x2*0x6b6+0x2cfa)/_0x17ae93),_0x1782a6=_0x55c4e9===-0xcc7*-0x1+-0x4*-0x892+-0x2f0f||_0x55c4e9===_0x17ae93?0x1e8f+-0x1*0x23b+0x94*-0x31:0x1*-0x2066+-0x7*-0x1a3+0x14f2;_0x440930['push'](-_0x1aba9a,_0x21613e,_0x144a92),_0x44c2c5['push'](0x1578+-0x1*-0x634+-0x1bac,-0x269b+-0x2379*-0x1+0x323,-0x24a2+0x1*0x2471+0x31),_0x297969['push'](_0x475421,_0x1782a6),_0x464b08<_0x3f3bfb&&_0x55c4e9<_0x17ae93&&(_0x322bdd['push'](_0x3e9373+_0x17ae93+(0x20f8+0x2d7*-0x2+-0x1b49),_0x3e9373+(-0x1d5b*0x1+-0x1898+-0x6*-0x8fe),_0x3e9373),_0x322bdd['push'](_0x3e9373+_0x17ae93+(-0x1ed6+-0xb39*-0x3+0xb5*-0x4),_0x3e9373+_0x17ae93+(-0xb8f+0x1e08+-0x1277*0x1),_0x3e9373+(0x7f4*0x2+-0x1a8b+-0x552*-0x2))),_0x3e9373++;}}const _0x43796e=new Ta();return _0x43796e['positions']=_0x440930,_0x43796e['normals']=_0x44c2c5,_0x43796e['uvs']=_0x297969,_0x43796e['indices']=_0x322bdd,Ge['fromGeomet'+'ry'](this['_device'],_0x43796e);}['_onSetFram'+'es'](_0x5d6907){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x26+-0x25c8+0x25ee):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x5cecd9,_0xb0d66e){const _0x98f255=this['_frameKeys']['indexOf'](_0x5cecd9);_0x98f255<-0x2468+-0x2b0+0x2718||(_0xb0d66e?this['renderMode']===ci&&(this['_meshes'][_0x98f255]=this['_createSim'+'pleMesh'](_0xb0d66e)):this['_meshes'][_0x98f255]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x578c06){const _0x19b253=this['_frameKeys']['indexOf'](_0x578c06);_0x19b253<0x25a1+-0x1ad8+0xac9*-0x1||(this['_meshes'][_0x19b253]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(0x1*0x380+-0x24e6*0x1+0x2166),this['_meshesDir'+'ty']=!(-0x2479+0x4de*-0x4+0x37f2);}['endUpdate'](){this['_updatingP'+'roperties']=!(0xa4c+-0x1291+0x846),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(-0x2*0x3cd+0x239f+0xe02*-0x2);}['destroy'](){for(const _0x3255a8 of this['_meshes'])_0x3255a8&&_0x3255a8['destroy']();this['_meshes']['length']=-0x2*-0x4+-0xb5f*0x1+0xb57;}}class zA extends me{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x59dbe9){this['_texture']=_0x59dbe9,this['fire']('set:textur'+'e',_0x59dbe9);}get['texture'](){return this['_texture'];}set['frames'](_0x334da8){this['_frames']=_0x334da8,this['fire']('set:frames',_0x334da8);}get['frames'](){return this['_frames'];}['setFrame'](_0x59d365,_0x45ed1e){let _0x4d0907=this['_frames'][_0x59d365];_0x4d0907?(_0x4d0907['rect']['copy'](_0x45ed1e['rect']),_0x4d0907['pivot']['copy'](_0x45ed1e['pivot']),_0x4d0907['border']['copy'](_0x45ed1e['border'])):(_0x4d0907={'rect':_0x45ed1e['rect']['clone'](),'pivot':_0x45ed1e['pivot']['clone'](),'border':_0x45ed1e['border']['clone']()},this['_frames'][_0x59d365]=_0x4d0907),this['fire']('set:frame',_0x59d365['toString'](),_0x4d0907);}['removeFram'+'e'](_0xe5125e){const _0x59b07b=this['_frames'][_0xe5125e];_0x59b07b&&(delete this['_frames'][_0xe5125e],this['fire']('remove:fra'+'me',_0xe5125e['toString'](),_0x59b07b));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class dg{constructor(_0x24b908,_0x4f771b,_0x458ee9,_0x1efb31){this['time']=_0x24b908,this['position']=_0x4f771b,this['rotation']=_0x458ee9,this['scale']=_0x1efb31;}}class fg{constructor(){this['_name']='',this['_keys']=[];}}class ug{constructor(){h(this,'name',''),h(this,'duration',-0x2e*0xa0+0x83*0x19+-0x13*-0xd7),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x4fd40d){return this['_nodeDict'][_0x4fd40d];}['addNode'](_0x103ab3){this['_nodes']['push'](_0x103ab3),this['_nodeDict'][_0x103ab3['_name']]=_0x103ab3;}get['nodes'](){return this['_nodes'];}}class VA{constructor(){this['_written']=!(-0xe10+-0x3e8+0x11f9),this['_name']='',this['_keyFrames']=[],this['_quat']=new le(),this['_pos']=new D(),this['_scale']=new D(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x508195){this['_targetNod'+'e']=_0x508195;}}class Sf{constructor(_0x3a6286){h(this,'looping',!(0x220b+0x6*0x531+-0x1*0x4131)),(this['_animation']=null,this['_time']=0xb8f+0x6cd*-0x1+0x1d*-0x2a,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x10b23a=_0x34c41a=>{const _0x51afb1=new VA();_0x51afb1['_name']=_0x34c41a['name'],this['_interpola'+'tedKeys']['push'](_0x51afb1),this['_interpola'+'tedKeyDict'][_0x34c41a['name']]=_0x51afb1,this['_currKeyIn'+'dices'][_0x34c41a['name']]=0x1726+0x1288+-0x29ae;for(let _0x437829=-0x211d+-0x7*-0x191+-0xb13*-0x2;_0x437829<_0x34c41a['_children']['length'];_0x437829++)_0x10b23a(_0x34c41a['_children'][_0x437829]);};_0x10b23a(_0x3a6286);}set['animation'](_0x24afbe){this['_animation']=_0x24afbe,this['currentTim'+'e']=-0x1d9b+-0x8*-0xc7+-0x1763*-0x1;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x6d8d90){this['_time']=_0x6d8d90;const _0xadd064=this['_interpola'+'tedKeys']['length'];for(let _0x5a0010=-0xbbf*-0x2+0x14ab*-0x1+-0x2d3;_0x5a0010<_0xadd064;_0x5a0010++){const _0x1d6d95=this['_interpola'+'tedKeys'][_0x5a0010]['_name'];this['_currKeyIn'+'dices'][_0x1d6d95]=0x3*-0x466+0x3f4*0x6+-0x382*0x3;}this['addTime'](0x1b65+0x1ce1*0x1+-0x12c2*0x3),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x66adfe){if(this['_animation']!==null){const _0x4088eb=this['_animation']['_nodes'],_0x2e59a9=this['_animation']['duration'];if(this['_time']===_0x2e59a9&&!this['looping'])return;if(this['_time']+=_0x66adfe,this['_time']>_0x2e59a9){this['_time']=this['looping']?-0x2*0x883+-0x6a*0x38+-0x141b*-0x2:_0x2e59a9;for(let _0xab1283=-0x727+0x4fd+0x22a;_0xab1283<_0x4088eb['length'];_0xab1283++){const _0x4d1eae=_0x4088eb[_0xab1283]['_name'];this['_currKeyIn'+'dices'][_0x4d1eae]=0x1583*-0x1+0x535*-0x1+0x6ae*0x4;}}else{if(this['_time']<0x2232+0xaab+-0x2cdd){this['_time']=this['looping']?_0x2e59a9:0x23dd*0x1+0x1508+-0x38e5;for(let _0x782946=-0x1d88+-0xfd5+0x93*0x4f;_0x782946<_0x4088eb['length'];_0x782946++){const _0x34c47d=_0x4088eb[_0x782946],_0x5cc3d3=_0x34c47d['_name'];this['_currKeyIn'+'dices'][_0x5cc3d3]=_0x34c47d['_keys']['length']-(-0x138e*-0x1+0x26c9+0x3a55*-0x1);}}}const _0x1248aa=_0x66adfe>=0x29f+-0x1195+-0x1*-0xef6?0x17f*0xf+0x1*-0x665+-0x100b:-(0x17*0x1ab+-0x757*-0x4+-0x314*0x16);for(let _0x3d500b=0x1*-0x2525+0x2d1+-0x1a*-0x152;_0x3d500b<_0x4088eb['length'];_0x3d500b++){const _0x13f6b4=_0x4088eb[_0x3d500b],_0x2c28b2=_0x13f6b4['_name'],_0x566540=_0x13f6b4['_keys'],_0xe29069=this['_interpola'+'tedKeyDict'][_0x2c28b2];if(_0xe29069===void(0x1*-0x14a7+-0x12c1*-0x1+0x1e6)){w['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x2c28b2);continue;}let _0x3fca94=!(-0x2*0xd7f+-0x1f99*0x1+0x3a98);if(_0x566540['length']!==-0x1*0x2437+-0x22cc+0x1*0x4704)for(let _0x38290e=this['_currKeyIn'+'dices'][_0x2c28b2];_0x38290e<_0x566540['length']-(0x2*0xc46+0x2d*0x7+-0xce3*0x2)&&_0x38290e>=-0x1*0x145+0x16ca+-0x1585;_0x38290e+=_0x1248aa){const _0x320221=_0x566540[_0x38290e],_0xba9df=_0x566540[_0x38290e+(0x205*-0xa+0x78f+0xca4*0x1)];if(_0x320221['time']<=this['_time']&&_0xba9df['time']>=this['_time']){const _0x36f270=(this['_time']-_0x320221['time'])/(_0xba9df['time']-_0x320221['time']);_0xe29069['_pos']['lerp'](_0x320221['position'],_0xba9df['position'],_0x36f270),_0xe29069['_quat']['slerp'](_0x320221['rotation'],_0xba9df['rotation'],_0x36f270),_0xe29069['_scale']['lerp'](_0x320221['scale'],_0xba9df['scale'],_0x36f270),_0xe29069['_written']=!(-0x863+-0x3c5+-0x30a*-0x4),this['_currKeyIn'+'dices'][_0x2c28b2]=_0x38290e,_0x3fca94=!(0x817*-0x1+-0x211d+0x12*0x24a);break;}}(_0x566540['length']===0x1a75*0x1+-0xd*-0x90+0x21c4*-0x1||!_0x3fca94&&this['_time']===-0x2039+0x467*-0x4+0x1*0x31d5&&this['looping'])&&(_0xe29069['_pos']['copy'](_0x566540[-0x2655+0x21+0x2634]['position']),_0xe29069['_quat']['copy'](_0x566540[-0x140b+-0x5f4+0x19ff]['rotation']),_0xe29069['_scale']['copy'](_0x566540[0x129e+-0x25e+-0x1040]['scale']),_0xe29069['_written']=!(-0x62*0x1+0x39*0x4c+-0x108a*0x1));}}}['blend'](_0x395bd8,_0x5a42d1,_0x5636d1){const _0x403075=this['_interpola'+'tedKeys']['length'];for(let _0x4ec28b=-0xcae+-0xe7*-0x7+-0xb5*-0x9;_0x4ec28b<_0x403075;_0x4ec28b++){const _0x320d4a=_0x395bd8['_interpola'+'tedKeys'][_0x4ec28b],_0x359508=_0x5a42d1['_interpola'+'tedKeys'][_0x4ec28b],_0x23f7ed=this['_interpola'+'tedKeys'][_0x4ec28b];_0x320d4a['_written']&&_0x359508['_written']?(_0x23f7ed['_quat']['slerp'](_0x320d4a['_quat'],_0x5a42d1['_interpola'+'tedKeys'][_0x4ec28b]['_quat'],_0x5636d1),_0x23f7ed['_pos']['lerp'](_0x320d4a['_pos'],_0x5a42d1['_interpola'+'tedKeys'][_0x4ec28b]['_pos'],_0x5636d1),_0x23f7ed['_scale']['lerp'](_0x320d4a['_scale'],_0x359508['_scale'],_0x5636d1),_0x23f7ed['_written']=!(0x1876+0x175+-0x19eb)):_0x320d4a['_written']?(_0x23f7ed['_quat']['copy'](_0x320d4a['_quat']),_0x23f7ed['_pos']['copy'](_0x320d4a['_pos']),_0x23f7ed['_scale']['copy'](_0x320d4a['_scale']),_0x23f7ed['_written']=!(-0x21d4+0x1e53+0x381)):_0x359508['_written']&&(_0x23f7ed['_quat']['copy'](_0x359508['_quat']),_0x23f7ed['_pos']['copy'](_0x359508['_pos']),_0x23f7ed['_scale']['copy'](_0x359508['_scale']),_0x23f7ed['_written']=!(-0x3a2+0x2384+-0x1fe2));}}['setGraph'](_0x207459){if(this['graph']=_0x207459,_0x207459)for(let _0x3ceac7=0x1ff1+0xcc9+-0x479*0xa;_0x3ceac7<this['_interpola'+'tedKeys']['length'];_0x3ceac7++){const _0x5a10b2=this['_interpola'+'tedKeys'][_0x3ceac7],_0x22f61c=_0x207459['findByName'](_0x5a10b2['_name']);this['_interpola'+'tedKeys'][_0x3ceac7]['setTarget'](_0x22f61c);}else{for(let _0x2de4eb=-0x1a71+0x1ce2+-0x1*0x271;_0x2de4eb<this['_interpola'+'tedKeys']['length'];_0x2de4eb++)this['_interpola'+'tedKeys'][_0x2de4eb]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x4c189c=0xaed*0x2+0x27a+-0xad*0x24;_0x4c189c<this['_interpola'+'tedKeys']['length'];_0x4c189c++){const _0x35094c=this['_interpola'+'tedKeys'][_0x4c189c];if(_0x35094c['_written']){const _0xc5af80=_0x35094c['getTarget']();_0xc5af80['localPosit'+'ion']['copy'](_0x35094c['_pos']),_0xc5af80['localRotat'+'ion']['copy'](_0x35094c['_quat']),_0xc5af80['localScale']['copy'](_0x35094c['_scale']),_0xc5af80['_dirtyLoca'+'l']||_0xc5af80['_dirtifyLo'+'cal'](),_0x35094c['_written']=!(0x184b+0xa94*0x1+-0x1*0x22de);}}}}const zs=(-0x172a*-0x1+-0x1279*-0x1+0x1*-0x299f)/(-0x1*0x69+-0x840+-0x8e9*-0x1),si=0x5c*0x24+-0x9d*0xb+-0x630-zs*(0x11ac+-0x12ab+0x101*0x1);class gm extends Ta{constructor(_0x2ece7b,_0x129aeb,_0x1ce1dc,_0x53f813,_0x1281f0,_0x1736f5){super();const _0x1c0516=new D(),_0xc9c8d1=new D(),_0x5bb80f=new D(),_0x59d6bb=new D(),_0x3896b6=new D(),_0x444ca3=new D(),_0x52297b=[],_0x5acd94=[],_0x57bfa5=[],_0x557aeb=[],_0x282183=[];let _0x55c6e7;if(_0x1ce1dc>0x128+0x97*0x25+-0x16fb){for(let _0x4baa4e=-0xe*-0x39+-0x4*0x174+0x2b2;_0x4baa4e<=_0x53f813;_0x4baa4e++)for(let _0x2d6175=-0xaf7+-0x4*-0x2c0+-0x9;_0x2d6175<=_0x1281f0;_0x2d6175++){const _0x139b16=_0x2d6175/_0x1281f0*(-0x132a+-0xb53+0x1e7f)*Math['PI']-Math['PI'],_0x4d267d=Math['sin'](_0x139b16),_0x280bb5=Math['cos'](_0x139b16);_0x3896b6['set'](_0x4d267d*_0x2ece7b,-_0x1ce1dc/(-0x66e*0x6+0x368*0x2+0xe*0x245),_0x280bb5*_0x2ece7b),_0x59d6bb['set'](_0x4d267d*_0x129aeb,_0x1ce1dc/(-0xcdc+-0x2b3*-0xb+0x1*-0x10d3),_0x280bb5*_0x129aeb),_0x1c0516['lerp'](_0x3896b6,_0x59d6bb,_0x4baa4e/_0x53f813),_0xc9c8d1['sub2'](_0x59d6bb,_0x3896b6)['normalize'](),_0x444ca3['set'](_0x280bb5,-0xb*-0x17b+0xdf6+-0x59*0x57,-_0x4d267d),_0x5bb80f['cross'](_0x444ca3,_0xc9c8d1)['normalize'](),_0x52297b['push'](_0x1c0516['x'],_0x1c0516['y'],_0x1c0516['z']),_0x5acd94['push'](_0x5bb80f['x'],_0x5bb80f['y'],_0x5bb80f['z']);let _0x44e01c=_0x2d6175/_0x1281f0,_0x5d778d=_0x4baa4e/_0x53f813;_0x57bfa5['push'](_0x44e01c,-0x1*0x962+0x20de+-0x177b-_0x5d778d);const _0x2ab671=_0x5d778d;if(_0x5d778d=_0x44e01c,_0x44e01c=_0x2ab671,_0x44e01c=_0x44e01c*si+zs,_0x5d778d=_0x5d778d*si+zs,_0x44e01c/=0x264f+0x1*0xe87+-0x34d3,_0x557aeb['push'](_0x44e01c,-0x257f+-0x931+0x2eb1-_0x5d778d),_0x4baa4e<_0x53f813&&_0x2d6175<_0x1281f0){const _0x339aad=_0x4baa4e*(_0x1281f0+(-0x1fd*-0xf+0x2*0x1297+-0x430*0x10))+_0x2d6175,_0x21a148=_0x4baa4e*(_0x1281f0+(0x1f61+0x24a2+-0x5*0xd9a))+(_0x2d6175+(0x3*-0x933+0x1e7*0xf+-0xef)),_0x11dd93=(_0x4baa4e+(-0x23db*-0x1+0x215*0xd+-0x3eeb))*(_0x1281f0+(-0xbaa*-0x2+-0x1caa+0x1*0x557))+_0x2d6175,_0x48fc06=(_0x4baa4e+(0x17*0xad+-0x1d*0x115+-0x5*-0x32b))*(_0x1281f0+(-0x976+-0xc97+0x3*0x75a))+(_0x2d6175+(-0x2*0x191+-0xcc0*0x1+0xfe3));_0x282183['push'](_0x339aad,_0x21a148,_0x11dd93),_0x282183['push'](_0x21a148,_0x48fc06,_0x11dd93);}}}if(_0x1736f5){const _0x2ea020=Math['floor'](_0x1281f0/(0x960+-0x1*-0x6e9+0x1*-0x1047)),_0x2e50e4=_0x1281f0,_0x3bbe3e=_0x1ce1dc/(-0x5*-0x46c+-0x1e5c+-0x7*-0x12e);for(let _0x8424e8=0x1596+-0x15e5+0x4f;_0x8424e8<=_0x2ea020;_0x8424e8++){const _0x54ab3d=_0x8424e8*Math['PI']*(0xaa6+-0x6a+0x2*-0x51e+0.5)/_0x2ea020,_0x2e9a35=Math['sin'](_0x54ab3d),_0x1eaccc=Math['cos'](_0x54ab3d);for(let _0x26484a=-0x1cd1+0x187f*0x1+-0x7*-0x9e;_0x26484a<=_0x2e50e4;_0x26484a++){const _0x50487b=_0x26484a*(0x2*-0x10d4+0x1a0f*0x1+0x79b)*Math['PI']/_0x2e50e4-Math['PI']/(0xf1*-0xa+-0xdb1+0x171d),_0x39a97d=Math['sin'](_0x50487b),_0x56525f=Math['cos'](_0x50487b)*_0x2e9a35,_0x56848e=_0x1eaccc,_0x548d57=_0x39a97d*_0x2e9a35;let _0x5e9de4=-0x3*0xb19+-0x1bc3+0x8b9*0x7-_0x26484a/_0x2e50e4,_0x28bba2=0x1*0x1ed5+0x1e83+-0x3d57-_0x8424e8/_0x2ea020;_0x52297b['push'](_0x56525f*_0x129aeb,_0x56848e*_0x129aeb+_0x3bbe3e,_0x548d57*_0x129aeb),_0x5acd94['push'](_0x56525f,_0x56848e,_0x548d57),_0x57bfa5['push'](_0x5e9de4,-0x119d+0x2e6*-0x8+0x6*0x6cd-_0x28bba2),_0x5e9de4=_0x5e9de4*si+zs,_0x28bba2=_0x28bba2*si+zs,_0x5e9de4/=0x1c67+-0x199+-0x13*0x169,_0x28bba2/=-0x1503+0x14a5+0x61,_0x5e9de4+=(0x1*-0x13ca+0x3*-0xcd3+-0x21*-0x1c4)/(-0x1471*-0x1+-0x1*-0x11cd+-0x263b),_0x557aeb['push'](_0x5e9de4,0x2303+0x2*-0x9c5+-0xf78-_0x28bba2);}}_0x55c6e7=(_0x53f813+(-0x3f5*0x1+-0x2*0xdc0+0x1f76))*(_0x1281f0+(0x1deb+-0x1c00+-0x7*0x46));for(let _0x5ef811=0x2*-0xa15+-0x1de9+-0x3*-0x10b1;_0x5ef811<_0x2ea020;++_0x5ef811)for(let _0x4aa3f1=0x105+0x209b+-0x21a0;_0x4aa3f1<_0x2e50e4;++_0x4aa3f1){const _0x16c2d3=_0x5ef811*(_0x2e50e4+(-0x1a4d+0x15*0x1c2+0x7*-0x184))+_0x4aa3f1,_0x432176=_0x16c2d3+_0x2e50e4+(-0x47*-0x3d+-0xe7d+-0x26d);_0x282183['push'](_0x55c6e7+_0x16c2d3+(0x11c3+-0x308*-0x2+-0x17d2*0x1),_0x55c6e7+_0x432176,_0x55c6e7+_0x16c2d3),_0x282183['push'](_0x55c6e7+_0x16c2d3+(-0x23ed*-0x1+0x4cc*-0x2+-0x1a54),_0x55c6e7+_0x432176+(-0x1a18+0x4*0x97b+0x1*-0xbd3),_0x55c6e7+_0x432176);}for(let _0x113735=-0x25a*0x1+-0x1e40+0x2*0x104d;_0x113735<=_0x2ea020;_0x113735++){const _0x4948db=Math['PI']*(0x1*0x1852+0x113e+-0x2990*0x1+0.5)+_0x113735*Math['PI']*(0x449+-0x7*-0xf0+-0xad9+0.5)/_0x2ea020,_0x52d049=Math['sin'](_0x4948db),_0x23da7c=Math['cos'](_0x4948db);for(let _0x114760=0x1*-0x201b+0x1*0xa40+0x15db;_0x114760<=_0x2e50e4;_0x114760++){const _0x2efb3d=_0x114760*(-0x67+-0xf68+0xfd1)*Math['PI']/_0x2e50e4-Math['PI']/(-0x6d*-0x25+-0x19ab+0x9ec),_0x5d8107=Math['sin'](_0x2efb3d),_0x51d24a=Math['cos'](_0x2efb3d)*_0x52d049,_0x5ad547=_0x23da7c,_0x3500d3=_0x5d8107*_0x52d049;let _0x8f6de9=0x17*-0x170+0x1*-0x2696+0x47a7-_0x114760/_0x2e50e4,_0x106e65=0x1f52+-0x228+-0x5d5*0x5-_0x113735/_0x2ea020;_0x52297b['push'](_0x51d24a*_0x129aeb,_0x5ad547*_0x129aeb-_0x3bbe3e,_0x3500d3*_0x129aeb),_0x5acd94['push'](_0x51d24a,_0x5ad547,_0x3500d3),_0x57bfa5['push'](_0x8f6de9,0x1f81+-0x853*-0x1+-0x27d3-_0x106e65),_0x8f6de9=_0x8f6de9*si+zs,_0x106e65=_0x106e65*si+zs,_0x8f6de9/=0x2d5*0xc+0x14db+-0x1b6a*0x2,_0x106e65/=0x1a0e+0x1600+-0x300b,_0x8f6de9+=(0xf9e+-0x2e0+-0xcbc)/(0x11cb*0x1+0x2*-0xa4b+0x2ce),_0x557aeb['push'](_0x8f6de9,0x138a+0x347+0x5*-0x490-_0x106e65);}}_0x55c6e7=(_0x53f813+(-0xdc3+0x3*-0xc6d+0x330b))*(_0x1281f0+(0xca7+0x1bd*0x7+-0x18d1))+(_0x2e50e4+(-0x1*0x1dcc+-0x11f1+0x2fbe))*(_0x2ea020+(-0x1c4c*0x1+-0x53+-0x8*-0x394));for(let _0x4ee79a=0x26*0x4b+-0x2279+-0x1*-0x1757;_0x4ee79a<_0x2ea020;++_0x4ee79a)for(let _0xf5d76d=-0x140e+-0x1696+-0x1552*-0x2;_0xf5d76d<_0x2e50e4;++_0xf5d76d){const _0x3ac027=_0x4ee79a*(_0x2e50e4+(0x29*0x8b+-0x2450+0x7*0x202))+_0xf5d76d,_0x8dc6be=_0x3ac027+_0x2e50e4+(0x144b*0x1+-0xf3b+-0x50f*0x1);_0x282183['push'](_0x55c6e7+_0x3ac027+(-0xe*0x103+0x58c+-0x89f*-0x1),_0x55c6e7+_0x8dc6be,_0x55c6e7+_0x3ac027),_0x282183['push'](_0x55c6e7+_0x3ac027+(-0xb*-0x2e4+0x86*0x15+-0x2ac9),_0x55c6e7+_0x8dc6be+(-0x235*0xe+-0x126d+0x3154),_0x55c6e7+_0x8dc6be);}}else{if(_0x55c6e7=(_0x53f813+(-0x1ba7*-0x1+-0x1628+0x4a*-0x13))*(_0x1281f0+(0x2160+-0x26a0+0x10d*0x5)),_0x2ece7b>0x8e2+-0x1*-0x1d53+-0x2635)for(let _0x285f7e=-0x1*-0xf92+0x1b4f+-0x2ae1;_0x285f7e<_0x1281f0;_0x285f7e++){const _0x113ce5=_0x285f7e/_0x1281f0*(-0x1*-0x5d5+0x1*0xbab+-0x117e)*Math['PI'],_0x5b7773=Math['sin'](_0x113ce5),_0x504039=-_0x1ce1dc/(0x1c1+0x1c85+-0x1e44),_0x2704ea=Math['cos'](_0x113ce5);let _0x4a2268=-0x937*-0x1+0xb92+-0x14c8-(_0x5b7773+(0x7d1+0x1e57+0x2627*-0x1))/(-0x16db*-0x1+0x797+-0x1e70),_0x588523=(_0x2704ea+(0x1374+-0x79c+-0xbd7*0x1))/(-0x1*0x4dd+-0x263a+-0x3eb*-0xb);_0x52297b['push'](_0x5b7773*_0x2ece7b,_0x504039,_0x2704ea*_0x2ece7b),_0x5acd94['push'](0xc16+0x79c+-0x13b2,-(-0x9e*0x3d+-0x1b2e+-0x40d5*-0x1),0x683*-0x5+0x1fdf+0x8*0x16),_0x57bfa5['push'](_0x4a2268,0x1*0x18e2+-0x1665+0x6*-0x6a-_0x588523),_0x4a2268=_0x4a2268*si+zs,_0x588523=_0x588523*si+zs,_0x4a2268/=-0x83c+-0x13*0x137+-0x1*-0x1f54,_0x588523/=0x10e*-0x16+-0xc82+0x127*0x1f,_0x4a2268+=(0x2216+-0x1d7c+-0x499)/(0x2*0xa3+-0x5*-0x76f+-0x266e),_0x557aeb['push'](_0x4a2268,0xa51+0x1*0x228d+-0x2cdd-_0x588523),_0x285f7e>-0xbb*0x2e+-0x2004+0x419f&&_0x282183['push'](_0x55c6e7,_0x55c6e7+_0x285f7e,_0x55c6e7+_0x285f7e-(-0x1786*-0x1+-0x96c+-0xe19));}if(_0x55c6e7+=_0x1281f0,_0x129aeb>0xc41+0x69e*-0x4+0xe37)for(let _0x5e5f7f=-0x1a87*0x1+-0xc96+0x1f*0x143;_0x5e5f7f<_0x1281f0;_0x5e5f7f++){const _0x3196f4=_0x5e5f7f/_0x1281f0*(0x1cc9*-0x1+-0x24a3*-0x1+-0x7d8)*Math['PI'],_0x7701f8=Math['sin'](_0x3196f4),_0x4eccfe=_0x1ce1dc/(-0xcd0+0x1101+-0x15*0x33),_0x180cd1=Math['cos'](_0x3196f4);let _0x353a73=0x1*-0x82e+-0x5*0x533+0xa*0x36b-(_0x7701f8+(0x1f2a+-0xe6c+-0x10bd*0x1))/(0x14fc*0x1+0x434*-0x3+-0x33*0x2a),_0x1caede=(_0x180cd1+(0x539+-0x2*-0xb0f+0x2*-0xdab))/(0x3*0x4de+-0xf54+0x4*0x2f);_0x52297b['push'](_0x7701f8*_0x129aeb,_0x4eccfe,_0x180cd1*_0x129aeb),_0x5acd94['push'](0xd*-0x1d+-0x3*-0xaee+-0x1f51,0xa12+0xdbd+-0x17ce,0x60a+-0x1f6+0x1d*-0x24),_0x57bfa5['push'](_0x353a73,0x2008+0x1583+0x7*-0x7a6-_0x1caede),_0x353a73=_0x353a73*si+zs,_0x1caede=_0x1caede*si+zs,_0x353a73/=-0x1b7c+0x1097+0xae8,_0x1caede/=0x22f9+-0x3*-0x795+-0x39b5,_0x353a73+=(0x2702+0xe15+0x1*-0x3515)/(0x17*-0x4d+0x2*0xe20+-0x1552),_0x557aeb['push'](_0x353a73,0x13f*0x1f+-0x48d+-0x2213-_0x1caede),_0x5e5f7f>-0xb29*-0x2+0x3*0x446+-0x2323&&_0x282183['push'](_0x55c6e7,_0x55c6e7+_0x5e5f7f-(0x9*0x3f1+0x1*-0x880+0x6be*-0x4),_0x55c6e7+_0x5e5f7f);}}this['positions']=_0x52297b,this['normals']=_0x5acd94,this['uvs']=_0x57bfa5,this['uvs1']=_0x557aeb,this['indices']=_0x282183;}}class GA extends gm{constructor(_0x26e6e5={}){const _0x494e33=_0x26e6e5['radius']??-0x70f+-0x11df*-0x2+0x1caf*-0x1+0.3,_0x4c0b8d=_0x26e6e5['height']??-0x259c+-0x11*0x1c2+0x437f,_0x41beb1=_0x26e6e5['heightSegm'+'ents']??0x966*0x2+-0x23fe+0x1133,_0x3415ec=_0x26e6e5['sides']??-0x1b23+-0x110c*0x1+0x2c43;super(_0x494e33,_0x494e33,_0x4c0b8d-(-0x17*-0x46+0x2281+-0x28c9*0x1)*_0x494e33,_0x41beb1,_0x3415ec,!(0x127*-0x1+-0x6f1*0x5+0x23dc)),_0x26e6e5['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class HA extends gm{constructor(_0x29517b={}){const _0x5048b7=_0x29517b['baseRadius']??-0x1fd5+-0xfa1+0x1e6*0x19+0.5,_0x295f67=_0x29517b['peakRadius']??0x1047+-0x1a48+0xa01,_0x56a772=_0x29517b['height']??-0x2205*-0x1+-0x927+-0x18dd,_0x45c010=_0x29517b['heightSegm'+'ents']??0x499+0x1084*-0x1+0xbf0,_0x9634b=_0x29517b['capSegment'+'s']??0x304*0x2+0x1c0b*-0x1+0x1615;super(_0x5048b7,_0x295f67,_0x56a772,_0x45c010,_0x9634b,!(-0x1*0x143b+-0x160d+0x1b1*0x19)),_0x29517b['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class WA extends gm{constructor(_0x4efb87={}){const _0x26b8c3=_0x4efb87['radius']??-0xbf4+0x90*-0x1d+0x1c44+0.5,_0x49aeaa=_0x4efb87['height']??-0x1938+-0x8*0xf1+-0x20c1*-0x1,_0x5a9e3d=_0x4efb87['heightSegm'+'ents']??0xe61+0x3b*0x44+-0x1e08,_0x73046d=_0x4efb87['capSegment'+'s']??0x367+-0x22ed+0x1f9a*0x1;super(_0x26b8c3,_0x26b8c3,_0x49aeaa,_0x5a9e3d,_0x73046d,!(-0x2137+-0x135e+0x3496)),_0x4efb87['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class $A extends Ta{constructor(_0x4fa0e5={}){super();const _0x5abfa3=_0x4fa0e5['halfExtent'+'s']??new J(0x13f9+0x1188+-0x2581+0.5,-0x1f68+0xb3f+0x1429*0x1+0.5),_0x8b6aa=_0x4fa0e5['widthSegme'+'nts']??-0xb52+0x25f*0x3+-0x43a*-0x1,_0xd55e43=_0x4fa0e5['lengthSegm'+'ents']??-0x22ca+0xa5*0x20+0xe2f*0x1,_0x431eae=[],_0x47416b=[],_0x30a4d9=[],_0x4c88ca=[];let _0x529848=-0x3*-0x1dc+0x407*-0x1+0x1*-0x18d;for(let _0x1d9df8=-0x18e7+-0xb5*-0x1d+0x233*0x2;_0x1d9df8<=_0x8b6aa;_0x1d9df8++)for(let _0x845d0b=-0x2427+-0xb29+0x17a8*0x2;_0x845d0b<=_0xd55e43;_0x845d0b++){const _0x21267f=-_0x5abfa3['x']+(-0x1*0x1dda+-0x264f+0x442b)*_0x5abfa3['x']*_0x1d9df8/_0x8b6aa,_0x4b139f=-0x1*0x1884+-0x1*-0x1fb3+-0x1*0x72f,_0x1e581d=-(-_0x5abfa3['y']+(-0x1ecf*0x1+0xb*-0x24d+0x3820)*_0x5abfa3['y']*_0x845d0b/_0xd55e43),_0x8c0628=_0x1d9df8/_0x8b6aa,_0xec8a61=_0x845d0b/_0xd55e43;_0x431eae['push'](_0x21267f,_0x4b139f,_0x1e581d),_0x47416b['push'](-0x18c8+-0x279+0x1b41,-0x1*-0x36f+-0x1*0x1231+-0x1*-0xec3,-0x1cf4+-0x20ad+0x3da1),_0x30a4d9['push'](_0x8c0628,-0x6*0xe8+0x2170+0x1*-0x1bff-_0xec8a61),_0x1d9df8<_0x8b6aa&&_0x845d0b<_0xd55e43&&(_0x4c88ca['push'](_0x529848+_0xd55e43+(0x2038+-0x39d*-0x5+-0x2*0x1924),_0x529848+(0x23a3+-0x58d*0x2+-0x1888),_0x529848),_0x4c88ca['push'](_0x529848+_0xd55e43+(-0x215c+0x1bce+-0x1*-0x58f),_0x529848+_0xd55e43+(0x1dd7+0x1dcc+0x1*-0x3ba1),_0x529848+(0xb9d+0x15*-0x17+0x13*-0x83))),_0x529848++;}this['positions']=_0x431eae,this['normals']=_0x47416b,this['uvs']=_0x30a4d9,this['uvs1']=_0x30a4d9,this['indices']=_0x4c88ca,_0x4fa0e5['calculateT'+'angents']&&(this['tangents']=Mr(_0x431eae,_0x47416b,_0x30a4d9,_0x4c88ca));}}class XA extends Ta{constructor(_0x13f4d0={}){super();const _0x4d362f=_0x13f4d0['tubeRadius']??-0x3*0x958+-0x5*-0x13d+0x15d7+0.2,_0x34a20c=_0x13f4d0['ringRadius']??-0x12a4+-0x17c9+0x2a6d+0.3,_0x5c64ad=(_0x13f4d0['sectorAngl'+'e']??-0x16cd+0x4ff*-0x1+0x1d34)*Y['DEG_TO_RAD'],_0x5f1522=_0x13f4d0['segments']??-0x1c70*-0x1+0xd89+-0x1*0x29db,_0x34bc9f=_0x13f4d0['sides']??0x3*-0x6d5+-0x1569+0x4*0xa7f,_0x303805=[],_0x397bf2=[],_0x22e6e9=[],_0x4bbe8b=[];for(let _0x318040=-0x1*-0x2146+0x250*0xe+-0x41a6;_0x318040<=_0x34bc9f;_0x318040++)for(let _0x5c4ba8=0x241+0xc41*0x2+-0x1ac3;_0x5c4ba8<=_0x5f1522;_0x5c4ba8++){const _0x1368b0=Math['cos'](_0x5c64ad*_0x5c4ba8/_0x5f1522)*(_0x34a20c+_0x4d362f*Math['cos']((-0x19f5+-0x5e*-0x24+0xcbf)*Math['PI']*_0x318040/_0x34bc9f)),_0x357a70=Math['sin']((-0xfba+0x1*0xca1+0x31b)*Math['PI']*_0x318040/_0x34bc9f)*_0x4d362f,_0x2bec19=Math['sin'](_0x5c64ad*_0x5c4ba8/_0x5f1522)*(_0x34a20c+_0x4d362f*Math['cos']((-0x2e*0x19+-0x84e*0x2+0x547*0x4)*Math['PI']*_0x318040/_0x34bc9f)),_0x39b817=Math['cos'](_0x5c64ad*_0x5c4ba8/_0x5f1522)*Math['cos']((-0xe56+0x1f3e+-0x10e6)*Math['PI']*_0x318040/_0x34bc9f),_0x4606b4=Math['sin']((-0x1*0x98b+0x3c3*-0x7+-0x6*-0x5fb)*Math['PI']*_0x318040/_0x34bc9f),_0x2c2dfa=Math['sin'](_0x5c64ad*_0x5c4ba8/_0x5f1522)*Math['cos']((-0xa34+-0x2b3+0xce9)*Math['PI']*_0x318040/_0x34bc9f),_0x63ebc=_0x318040/_0x34bc9f,_0x159555=0xb47*0x1+0x129c+-0x1de2-_0x5c4ba8/_0x5f1522;if(_0x303805['push'](_0x1368b0,_0x357a70,_0x2bec19),_0x397bf2['push'](_0x39b817,_0x4606b4,_0x2c2dfa),_0x22e6e9['push'](_0x63ebc,-0x4df+0x225c*-0x1+0x174*0x1b-_0x159555),_0x318040<_0x34bc9f&&_0x5c4ba8<_0x5f1522){const _0x191bfa=_0x318040*(_0x5f1522+(-0x1331+0x84*0x38+-0x9ae))+_0x5c4ba8,_0x1c752f=(_0x318040+(-0x16*0x18e+-0x3*0x3c9+0x3*0xf30))*(_0x5f1522+(-0x1313+-0x20f4+0x3408))+_0x5c4ba8,_0x1bed25=_0x318040*(_0x5f1522+(0x5*0x65f+0x17f*0x1+-0x2159*0x1))+(_0x5c4ba8+(-0x750+-0x6ef*0x2+0x152f)),_0x34158a=(_0x318040+(0x15d*0x8+-0x1*0x25ea+0x1b03))*(_0x5f1522+(-0x1b83+-0x14e7+0x306b))+(_0x5c4ba8+(0x2455+-0x64*-0x25+0x208*-0x19));_0x4bbe8b['push'](_0x191bfa,_0x1c752f,_0x1bed25),_0x4bbe8b['push'](_0x1c752f,_0x34158a,_0x1bed25);}}this['positions']=_0x303805,this['normals']=_0x397bf2,this['uvs']=_0x22e6e9,this['uvs1']=_0x22e6e9,this['indices']=_0x4bbe8b,_0x13f4d0['calculateT'+'angents']&&(this['tangents']=Mr(_0x303805,_0x397bf2,_0x22e6e9,_0x4bbe8b));}}class qA{constructor(_0xb1ce3f,_0x59f30b){h(this,'processedC'+'ache',new Map()),h(this,'definition'+'sCache',new Map()),h(this,'_generator'+'s',new Map()),(this['_device']=_0xb1ce3f,this['_isClearin'+'gCache']=!(-0x2*-0x472+-0x5*-0x718+-0x2c5b),this['_precached']=!(-0x1*0x1f76+-0x35*-0x2f+-0x15bc*-0x1),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new dl(),this['_defaultSt'+'dMatOption'+'Min']=new dl());const _0x5562b1=new vv();_0x59f30b['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x5562b1,_0x59f30b,null,[],Aa,null),_0x59f30b['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x59f30b,null,cm,null),_0xb1ce3f['on']('destroy:sh'+'ader',_0x2d1356=>{this['removeFrom'+'Cache'](_0x2d1356);});}['destroy'](){this['clearCache']();}['register'](_0x3e8f8b,_0x92e1d6){this['_generator'+'s']['has'](_0x3e8f8b)||this['_generator'+'s']['set'](_0x3e8f8b,_0x92e1d6);}['unregister'](_0x505ce8){this['_generator'+'s']['has'](_0x505ce8)&&this['_generator'+'s']['delete'](_0x505ce8);}['isRegister'+'ed'](_0x5b0477){return this['_generator'+'s']['has'](_0x5b0477);}['generateSh'+'aderDefini'+'tion'](_0x252054,_0x570836,_0x55446a,_0x52972d){var _0x4c23a7,_0x4ced48;let _0x368c30=this['definition'+'sCache']['get'](_0x55446a);if(!_0x368c30){let _0x3637a6;(_0x4c23a7=_0x52972d['litOptions'])!=null&&_0x4c23a7['lights']&&(_0x3637a6=_0x52972d['litOptions']['lights'],_0x52972d['litOptions']['lights']=_0x3637a6['map'](_0x459f1a=>{const _0x44da50=_0x459f1a['clone']?_0x459f1a['clone']():_0x459f1a;return _0x44da50['key']=_0x459f1a['key'],_0x44da50;})),this['storeNewPr'+'ogram'](_0x570836,_0x52972d),(_0x4ced48=_0x52972d['litOptions'])!=null&&_0x4ced48['lights']&&(_0x52972d['litOptions']['lights']=_0x3637a6),this['_precached']&&w['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x570836+'\x20key\x20'+_0x55446a+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x4dc382=this['_device'];_0x368c30=_0x252054['createShad'+'erDefiniti'+'on'](_0x4dc382,_0x52972d),_0x368c30['name']=_0x368c30['name']??(_0x52972d['pass']?_0x570836+'-pass:'+_0x52972d['pass']:_0x570836),this['definition'+'sCache']['set'](_0x55446a,_0x368c30);}return _0x368c30;}['getCachedS'+'hader'](_0x11d9f7){return this['processedC'+'ache']['get'](_0x11d9f7);}['setCachedS'+'hader'](_0x1a9224,_0x1a48ce){this['processedC'+'ache']['set'](_0x1a9224,_0x1a48ce);}['getProgram'](_0x4aa91a,_0x13d45f,_0x4a4ee0,_0x3b3e35){const _0x26d41a=this['_generator'+'s']['get'](_0x4aa91a);if(!_0x26d41a)return w['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x4aa91a),null;const _0x74088c=_0x26d41a['generateKe'+'y'](_0x13d45f),_0x3df00c=hi(_0x74088c),_0x5d588b=_0x4a4ee0['generateKe'+'y'](this['_device']),_0x2171be=hi(_0x5d588b),_0x334b19=_0x3df00c+'#'+_0x2171be;let _0x573c6c=this['getCachedS'+'hader'](_0x334b19);if(!_0x573c6c){const _0x2f1d75=this['generateSh'+'aderDefini'+'tion'](_0x26d41a,_0x4aa91a,_0x3df00c,_0x13d45f);w['assert'](_0x2f1d75);let _0x329e4c='',_0x42499f;_0x13d45f['pass']!==void(-0x2451+0x1958+0xaf9)&&(_0x42499f=Si['get'](this['_device'])['getByIndex'](_0x13d45f['pass']),_0x329e4c='-'+_0x42499f['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x3b3e35,'shaderPassInfo':_0x42499f,'definition':_0x2f1d75});const _0x59b7cd={'name':''+_0x2f1d75['name']+_0x329e4c+'-proc','attributes':_0x2f1d75['attributes'],'vshader':_0x2f1d75['vshader'],'vincludes':_0x2f1d75['vincludes'],'fincludes':_0x2f1d75['fincludes'],'fshader':_0x2f1d75['fshader'],'processingOptions':_0x4a4ee0,'shaderLanguage':_0x2f1d75['shaderLang'+'uage'],'meshUniformBufferFormat':_0x2f1d75['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x2f1d75['meshBindGr'+'oupFormat']};_0x573c6c=new qy(this['_device'],_0x59b7cd),w['call'](()=>{_0x573c6c['_generatio'+'nKey']=_0x74088c,_0x573c6c['_processin'+'gKey']=_0x5d588b;}),this['setCachedS'+'hader'](_0x334b19,_0x573c6c);}return _0x573c6c;}['storeNewPr'+'ogram'](_0x11688e,_0x2fb807){let _0x571be3={};if(_0x11688e==='standard'){const _0x57f2c1=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x2fb807['pass']);for(const _0x4c6150 in _0x2fb807)(_0x2fb807['hasOwnProp'+'erty'](_0x4c6150)&&_0x57f2c1[_0x4c6150]!==_0x2fb807[_0x4c6150]||_0x4c6150==='pass')&&(_0x571be3[_0x4c6150]=_0x2fb807[_0x4c6150]);for(const _0x2c09be in _0x2fb807['litOptions'])_0x571be3[_0x2c09be]=_0x2fb807['litOptions'][_0x2c09be];}else _0x571be3=_0x2fb807;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x11688e,'options':_0x571be3}));}['dumpProgra'+'ms'](){let _0x3383dd='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x3383dd+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][0x158f+-0x1601+0x6*0x13]&&(_0x3383dd+='\x0a\x09'+this['_programsC'+'ollection'][-0x17*0xc1+0x2420+0x1*-0x12c9]);for(let _0x570160=-0x1*0x110+0xfb3+-0xea2*0x1;_0x570160<this['_programsC'+'ollection']['length'];++_0x570160)_0x3383dd+=',\x0a\x09'+this['_programsC'+'ollection'][_0x570160];_0x3383dd+='\x0a];\x0a',_0x3383dd+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x3383dd+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+hn+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+$S+'\x22)\x0a',_0x3383dd+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x3fc1dd=document['createElem'+'ent']('a');_0x3fc1dd['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x3383dd)),_0x3fc1dd['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x3fc1dd['style']['display']='none',document['body']['appendChil'+'d'](_0x3fc1dd),_0x3fc1dd['click'](),document['body']['removeChil'+'d'](_0x3fc1dd);}['clearCache'](){this['_isClearin'+'gCache']=!(-0x119e+0x1*0x1f42+-0xda4),this['processedC'+'ache']['forEach'](_0x1b36da=>{_0x1b36da['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(-0x110*-0x10+-0x5c6+-0x1*0xb39);}['removeFrom'+'Cache'](_0x2614f2){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x494fa4,_0x44ed43)=>{_0x2614f2===_0x494fa4&&this['processedC'+'ache']['delete'](_0x44ed43);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x244a39){const _0x394618=Si['get'](this['_device'])['getByIndex'](_0x244a39);return _0x244a39===Zn||_0x244a39===Rl||_0x394618['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x137aab){if(_0x137aab){const _0x5ba6ba=new Array(_0x137aab['length']);for(let _0x1aecbc=0xd54+-0x25ce+0x187a;_0x1aecbc<_0x137aab['length'];_0x1aecbc++){if(_0x137aab[_0x1aecbc]['name']==='standard'){const _0x4a64a4=_0x137aab[_0x1aecbc]['options'],_0x3c4ddd=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x4a64a4['pass']);for(const _0x1bcaf6 in _0x3c4ddd)_0x3c4ddd['hasOwnProp'+'erty'](_0x1bcaf6)&&_0x4a64a4[_0x1bcaf6]===void(0x6*-0x36+-0x1995+0x1ad9*0x1)&&(_0x4a64a4[_0x1bcaf6]=_0x3c4ddd[_0x1bcaf6]);}_0x5ba6ba[_0x1aecbc]=this['getProgram'](_0x137aab[_0x1aecbc]['name'],_0x137aab[_0x1aecbc]['options']);}}this['_precached']=!(0x1*-0x1a8d+0x2525+-0xa98);}}async function jA(){const _0x48d5a3=new Float32Array(0x1a35+-0x6ad*0x1+-0x1387),_0x29c273=new Int32Array(_0x48d5a3['buffer']);let _0x103e4c=-0x26c0+0xf*0x12e+0x150e,_0x15183={};self['onmessage']=async _0x5c8734=>{const {data:_0x52ab2f}=_0x5c8734;switch(_0x52ab2f['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x451d2b(_0x52ab2f['properties'],_0x52ab2f['timeIndex'],_0x52ab2f['timeOption']);break;case'releaseSeq'+'Data':_0x44ef46(_0x52ab2f['index']);break;case'releaseAll'+'SeqData':_0x45f0c6();break;case'destroyWor'+'ker':_0x3ed800();break;}};class _0x34550c{constructor(_0x5b15aa=-0x1d*-0x59+0x17f*0xd+0x24*-0xd2,_0x19741=0x1*-0x215e+-0x6bc+0x281a,_0x59e18e=0x2*-0x62f+-0xd02+0x1960,_0xbf7dde=0x25*-0xb5+0x20b7+-0x68d){this['x']=_0x5b15aa,this['y']=_0x19741,this['z']=_0x59e18e,this['w']=_0xbf7dde;}['set'](_0x487428,_0x347a59,_0x2af948,_0x53a502){return this['x']=_0x487428,this['y']=_0x347a59,this['z']=_0x2af948,this['w']=_0x53a502,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x13745c=this){let _0x4604c9=_0x13745c['length']();return _0x4604c9===-0xf+-0x1235+-0x922*-0x2?(this['x']=this['y']=this['z']=0xced+0x23a6+-0x5*0x9b7,this['w']=0x2*0x49d+0x18d8+-0x2211):(_0x4604c9=(-0x2d*-0xd9+-0x77d+0x1ea7*-0x1)/_0x4604c9,this['x']=_0x13745c['x']*_0x4604c9,this['y']=_0x13745c['y']*_0x4604c9,this['z']=_0x13745c['z']*_0x4604c9,this['w']=_0x13745c['w']*_0x4604c9),this;}['mulScalar'](_0x1d5191,_0x233b8b=this){return this['x']=_0x233b8b['x']*_0x1d5191,this['y']=_0x233b8b['y']*_0x1d5191,this['z']=_0x233b8b['z']*_0x1d5191,this['w']=_0x233b8b['w']*_0x1d5191,this;}}const _0x29dd5e=_0x516be8=>{_0x48d5a3[0x12e7*0x1+-0x121*0x5+-0xd42]=_0x516be8;const _0x305ae1=_0x29c273[-0x1d8b+-0x1ae*-0x15+0x5bb*-0x1];let _0x454781=_0x305ae1>>-0x1aa5+-0x25f3+-0x1*-0x40a8&0x9c08+-0xc981+0xad79,_0x1226a1=_0x305ae1>>-0x1d05+-0x71f+-0x2*-0x1218&0x180*0x11+-0x2*0x7ed+0x3*-0x8d;const _0x44d5fc=_0x305ae1>>-0x12*0x25+0x4b5*0x1+-0x204&0x3*0x9b2+-0x1*0x168d+0x2c5*-0x2;return _0x44d5fc<0x1*-0x1df9+-0x1a00+-0x16*-0x290?_0x454781:_0x44d5fc>0x26e5*-0x1+0x7*-0x3ed+0x2*0x2177?(_0x454781|=0xb443*-0x1+0x4292*-0x3+0x1f7f9,_0x454781|=(_0x44d5fc===0x1af*-0x8+-0x666+-0x2fb*-0x7?0x2328+-0x349*0x6+-0xf72:0x1ef7+-0x1*0x1edd+-0x19*0x1)&&_0x305ae1&-0xbcdee+-0x5*-0x1b5ac5+-0x1840a*-0x2,_0x454781):_0x44d5fc<-0x5*0x769+-0x7*0x272+-0xa*-0x576?(_0x1226a1|=0x116c+-0xc98+0x32c,_0x454781|=(_0x1226a1>>0x6*0x245+-0xe11+0xe5-_0x44d5fc)+(_0x1226a1>>-0x1683+0x14f1*0x1+0x203*0x1-_0x44d5fc&0x1218+0x439*0x4+-0x22fb*0x1),_0x454781):(_0x454781|=_0x44d5fc-(0x5d*-0x5e+0x19fe*-0x1+0x1*0x3c94)<<0x7cf*0x1+0x2b*-0x76+0xc0d|_0x1226a1>>-0x266d+0x146a*-0x1+0xe*0x434,_0x454781+=_0x1226a1&0x1708*0x1+0x4*0x977+-0x3ce3,_0x454781);},_0x4fd5b2=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x50d1c9=-0xc*-0x2ce+0xd*0x6d+0x4f*-0x7f;_0x50d1c9<0x1*0xb93+0x11*0x22c+-0x5*0x9aa;++_0x50d1c9)if(!_0x15183['f_rest_'+_0x50d1c9])return _0x50d1c9;return-0x26*0x19+0xc5*0x5+0xa;})())]??0x2192+0x146f*0x1+-0x3601),_0x451d2b=(_0x5528c3,_0x76ed9b,_0xe11cb3)=>{const _0x209b84=!!_0x5528c3['time_index'];_0x209b84||(_0x5528c3['time_index']=new Float32Array(-0x6*0x409+-0x207e+0x38b4)),_0x103e4c+=_0x5528c3['x']['length']??0x1*0x58f+0x7af+0x6*-0x235;const _0x5eba51=Object['keys'](_0x5528c3);for(let _0x1e5f2b=-0xc9d+0x1d21+-0x1084;_0x1e5f2b<_0x5eba51['length'];_0x1e5f2b++){const _0xd811e9=_0x5eba51[_0x1e5f2b],_0x3e839f=_0x5528c3[_0xd811e9],_0x1f3275=_0x15183[_0xd811e9]??new Float32Array(-0xa68+-0x29a+0xd02);if(!_0x209b84&&_0xd811e9==='time_index'){const _0x3c2b2b=new Float32Array(_0x103e4c);_0x3c2b2b['fill'](_0x76ed9b),_0x3c2b2b['set'](_0x1f3275,-0x2078+-0x1140+0x56*0x94),_0x15183[_0xd811e9]=_0x3c2b2b;}else{if(!_0x209b84&&_0x3e839f&&_0xd811e9==='t'){const _0x3f3c64=new Float32Array(_0x103e4c);if(_0x3f3c64['set'](_0x1f3275,-0x1*-0x1edf+-0x1*-0x25e+-0x213d*0x1),_0xe11cb3){for(let _0x2402bf=_0x1f3275['length'];_0x2402bf<_0x103e4c;_0x2402bf++)_0x3e839f[_0x2402bf-_0x1f3275['length']]>-(-0x1b76+-0x136+0x1cb1)?_0x3f3c64[_0x2402bf]=_0x3e839f[_0x2402bf-_0x1f3275['length']]+_0xe11cb3[(-0x29c*0x7+-0x1a83+-0x8f5*-0x5)*_0x76ed9b]:_0x3f3c64[_0x2402bf]=_0x3e839f[_0x2402bf-_0x1f3275['length']];}_0x15183[_0xd811e9]=_0x3f3c64;}else{if(_0x3e839f){const _0x1836fa=new Float32Array(_0x103e4c);_0x1836fa['set'](_0x1f3275,0xb09+0x1*0x527+-0x1030),_0x1836fa['set'](_0x3e839f,_0x1f3275['length']),_0x15183[_0xd811e9]=_0x1836fa;}}}}const _0x55c1f5={};Object['keys'](_0x15183)['forEach'](_0x4ff779=>{_0x55c1f5[_0x4ff779]=new Float32Array(_0x15183[_0x4ff779]['buffer']['slice']());});const _0x46ad88=Object['keys'](_0x55c1f5)['map'](_0x12877b=>_0x55c1f5[_0x12877b]['buffer']),_0x3fd225=_0x4f2703(),_0x3d936c=Object['keys'](_0x3fd225)['map'](_0x1cbd7b=>_0x3fd225[_0x1cbd7b]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x55c1f5,'transformData':_0x3fd225},_0x46ad88['concat'](_0x3d936c));},_0x4f2703=()=>{const _0x18ec25=_0x15183['x']['length'],_0x1b036c=_0x15183['x'],_0x192104=_0x15183['y'],_0x5118a0=_0x15183['z'],_0x325da9=_0x15183['scale_0'],_0x2375d1=_0x15183['scale_1'],_0x3cfff5=_0x15183['scale_2'],_0x2ce603=_0x15183['rot_1'],_0x3077a5=_0x15183['rot_2'],_0x16d93a=_0x15183['rot_3'],_0x3092c6=_0x15183['rot_0'],_0x48faa3=_0x15183['motion_0'],_0x55c3f3=_0x15183['motion_1'],_0xa9b95e=_0x15183['motion_2'],_0x2b1fde=_0x15183['t'],_0x4211db=_0x15183['t_scale'],_0x4622f6=_0x15183['time_index'],_0x5d0150=_0x15183['f_dc_0'],_0x3ae7da=_0x15183['f_dc_1'],_0x2fe0eb=_0x15183['f_dc_2'],_0x156e60=_0x15183['opacity'],_0x218908=(_0x2b1fde==null?void(0x10ab*0x1+-0x1496+0x3eb):_0x2b1fde['length'])>-0x84*-0x22+0x266+0x9f7*-0x2,_0x4a5a58=new Float32Array(_0x18ec25*(-0x184c+-0x37e*0x9+0x2ef*0x13)),_0x2c4a15=new Float32Array(_0x18ec25*(0x6a1+0x1*-0xad3+0x1*0x435)),_0x3c21a7=new Uint16Array(_0x18ec25*(0x1bf7+-0x44f*0x1+-0x17a5*0x1)),_0x545af3=new Float32Array(_0x18ec25*(-0x1*-0x373+-0x1*0xfe0+0xc70));let _0x29e8b5=null,_0xe00eb2=null,_0x16e4ff=null,_0x541c4e=null;_0x218908&&(_0x29e8b5=new Float32Array(_0x18ec25*(-0x1b*0xdb+-0xece+0x25ea)),_0xe00eb2=new Float32Array(_0x18ec25*(0x1864*0x1+0x1e2e+-0x368f)),_0x16e4ff=new Float32Array(_0x18ec25*(-0x1701+-0x2545+0x29f*0x17)),_0x541c4e=new Float32Array(_0x18ec25));const _0x1a47a5=new _0x34550c(0x251a+-0x5b6+-0x1f64,0x18*0x194+0x219e+-0x2*0x23bf,-0x1879+-0xf99*-0x1+0x8e0,-0x228f+-0x3*0xab1+0x42a2);let _0x1f11b1=0x1dce+-0xc68+-0x2*0x8b3,_0x50398e=0x1*-0x14dd+-0x640+-0x277*-0xb,_0x22787=0x31*-0x41+0x21*-0x19+0xfaa,_0x2b3754=0x213+-0x1ad2*0x1+0x18bf,_0x10cfd3=-0x1178+0x1bf2+0x95*-0x12,_0x63458d=0x24be+-0x1128+-0x1396,_0x3e585c=!(0x166*-0x1+-0x1*-0xaae+-0x948);const _0x21e09c=new Float32Array(-0xa6d+0xbc2+-0x152*0x1),_0x445ab0=new Float32Array(-0x255c+-0xc74*-0x2+0xc77),_0x297631=new Uint16Array(_0x18ec25*(-0x20b2+0xccd+0x1*0x13e9)),_0x4cade6=-0x1*-0xfe9+-0x2679+0x13*0x130+0.28209479177387814;for(let _0x2d6991=-0x7dd+0xcbc*-0x2+0x2155;_0x2d6991<_0x18ec25;++_0x2d6991){const _0xb9eea5=_0x5d0150[_0x2d6991]*_0x4cade6+(0xb45*0x1+0x1295*-0x1+0x75*0x10+0.5),_0x21c460=_0x3ae7da[_0x2d6991]*_0x4cade6+(0x185*0x13+-0x1*-0x765+0x911*-0x4+0.5),_0x4b000b=_0x2fe0eb[_0x2d6991]*_0x4cade6+(0x1a42+-0x1067*-0x1+-0x2aa9+0.5),_0x17aa9b=_0x156e60[_0x2d6991];_0x297631[_0x2d6991*(0x1*0xb+-0x5*0x78d+0x25ba)+(0x3*0x58e+0x971+-0x1a1b)]=_0x29dd5e(_0xb9eea5),_0x297631[_0x2d6991*(0x140b+0x1543+-0x294a)+(0x2655*-0x1+0x5*-0x2fd+0x3547)]=_0x29dd5e(_0x21c460),_0x297631[_0x2d6991*(-0x32d*-0x1+0x39*-0xa1+0x20b0)+(-0x15b+-0x4a*-0x4f+-0xef*0x17)]=_0x29dd5e(_0x4b000b),_0x297631[_0x2d6991*(-0x56*-0xb+0x17db+0x173*-0x13)+(0xe75*-0x1+0x1f*-0x1+0xe97)]=_0x29dd5e(_0x17aa9b);const _0x1377fa=_0x1b036c[_0x2d6991],_0x2b3529=_0x192104[_0x2d6991],_0x1b59fc=_0x5118a0[_0x2d6991],_0x529fe4=Math['max'](_0x325da9[_0x2d6991],_0x2375d1[_0x2d6991],_0x3cfff5[_0x2d6991]);if(isFinite(_0x1377fa)&&isFinite(_0x2b3529)&&isFinite(_0x1b59fc)&&isFinite(_0x529fe4)){const _0x3122c7=(0x20e*0x8+0x29a+0xe*-0x15c)*Math['exp'](_0x529fe4);_0x3e585c?(_0x3e585c=!(-0x9f5+-0x1*0x485+0x1*0xe7b),_0x1f11b1=_0x1377fa-_0x3122c7,_0x50398e=_0x2b3529-_0x3122c7,_0x22787=_0x1b59fc-_0x3122c7,_0x2b3754=_0x1377fa+_0x3122c7,_0x10cfd3=_0x2b3529+_0x3122c7,_0x63458d=_0x1b59fc+_0x3122c7):(_0x1f11b1=Math['min'](_0x1f11b1,_0x1377fa-_0x3122c7),_0x50398e=Math['min'](_0x50398e,_0x2b3529-_0x3122c7),_0x22787=Math['min'](_0x22787,_0x1b59fc-_0x3122c7),_0x2b3754=Math['max'](_0x2b3754,_0x1377fa+_0x3122c7),_0x10cfd3=Math['max'](_0x10cfd3,_0x2b3529+_0x3122c7),_0x63458d=Math['max'](_0x63458d,_0x1b59fc+_0x3122c7));}_0x1a47a5['set'](_0x2ce603[_0x2d6991],_0x3077a5[_0x2d6991],_0x16d93a[_0x2d6991],_0x3092c6[_0x2d6991]),_0x1a47a5['normalize'](),_0x1a47a5['w']<0xdeb+-0xa9*-0x13+-0x1a76&&_0x1a47a5['mulScalar'](-(-0x1463+0x43*-0x65+0x1*0x2ed3)),_0x2c4a15[_0x2d6991*(-0x25*0x105+0x1157+0x1465)+(-0x15ae+-0xef0+0x249e)]=_0x1b036c[_0x2d6991],_0x2c4a15[_0x2d6991*(0xd5+0x2*0x2e9+-0x1*0x6a4)+(0x5*-0x39b+0x1f43+-0x469*0x3)]=_0x192104[_0x2d6991],_0x2c4a15[_0x2d6991*(0x7*0x33a+-0x1*0xbf3+-0x22*0x50)+(-0x153+0x14bd*0x1+-0xd8*0x17)]=_0x5118a0[_0x2d6991],_0x4a5a58[_0x2d6991*(-0x90e+0x4*-0x598+0x1f71)+(0xfb6*-0x1+0xb07+-0x6d*-0xb)]=_0x1b036c[_0x2d6991],_0x4a5a58[_0x2d6991*(0xac4+0x2*-0x1145+-0x17c9*-0x1)+(0x11ba*-0x2+0x9e*0x12+-0x17*-0x10f)]=_0x192104[_0x2d6991],_0x4a5a58[_0x2d6991*(-0x234d+-0x3e*0x9+0x257e)+(0x4f*-0x6b+0xd*-0x287+0x41e2)]=_0x5118a0[_0x2d6991],_0x3c21a7[_0x2d6991*(0x1b6d+0x24ba+-0x4024)+(-0xf93*0x1+0x1c70+0x1*-0xcdd)]=_0x29dd5e(Math['exp'](_0x325da9[_0x2d6991])),_0x3c21a7[_0x2d6991*(0xfb*-0x7+-0x1c12+0x22f2)+(-0x30b*0x1+-0x1*0x13a1+0x3*0x78f)]=_0x29dd5e(Math['exp'](_0x2375d1[_0x2d6991])),_0x3c21a7[_0x2d6991*(-0x581*0x5+0x168a+0x4fe)+(0x224*0xd+0x320+-0x11*0x1d2)]=_0x29dd5e(Math['exp'](_0x3cfff5[_0x2d6991])),_0x545af3[_0x2d6991*(0x239d+0x2*0xc5b+-0x2*0x1e28)+(0x1cf*-0x3+0x15*-0x157+0x2*0x10c8)]=_0x1a47a5['x'],_0x545af3[_0x2d6991*(0x1*-0x446+-0x1aac+0x1ef5)+(0x10cf*0x2+0x2588+-0x1d3*0x27)]=_0x1a47a5['y'],_0x545af3[_0x2d6991*(-0x2d7*-0xd+-0xa7d+-0x1a6b)+(0x1648+-0x2569+0xf23)]=_0x1a47a5['z'],_0x218908&&_0x29e8b5&&_0xe00eb2&&_0x16e4ff&&_0x541c4e&&(_0x29e8b5[_0x2d6991*(0x1*0x53b+0x4e0+-0xa18)+(0xdc8+-0x1831+-0x29*-0x41)]=_0x48faa3[_0x2d6991],_0x29e8b5[_0x2d6991*(0x190e+-0x9f*0x37+0x91e)+(-0x1*-0x1e2c+0x5e6+0x527*-0x7)]=_0x55c3f3[_0x2d6991],_0x29e8b5[_0x2d6991*(0x7f5+-0x3e*-0x25+-0x8*0x21d)+(-0x4*0x68+-0x1c*0xa1+0x3*0x66a)]=_0xa9b95e[_0x2d6991],_0x16e4ff[_0x2d6991*(-0x2453*-0x1+-0xd*0x22c+-0x1*0x814)+(-0x76f+0x1*-0x1f63+0x26d2)]=_0x48faa3[_0x2d6991],_0x16e4ff[_0x2d6991*(-0x1a95+0x1aee+-0x1*0x56)+(-0x1*-0x1af3+0xab3+-0x25a5)]=_0x55c3f3[_0x2d6991],_0x16e4ff[_0x2d6991*(-0x1187+0x1ca*0x14+-0x123e)+(0x82b*-0x2+0x1f0f+0xeb7*-0x1)]=_0xa9b95e[_0x2d6991],_0x541c4e[_0x2d6991]=_0x4211db?Math['exp'](_0x4211db[_0x2d6991]):-0x209f+0x1c0c+0x493,_0xe00eb2[_0x2d6991*(0x97*0x1+-0x1*0x160f+-0x3*-0x729)+(-0x3f*-0x6a+0xe68+0x49*-0x8e)]=_0x2b1fde?_0x2b1fde[_0x2d6991]:0xcb2+-0x85*0x3f+0x17*0xdf,_0xe00eb2[_0x2d6991*(0x173*0x8+0x261d+-0x31b2)+(0x1340+0x1*0xec+-0x142b)]=_0x541c4e[_0x2d6991]);}_0x3e585c||(_0x21e09c[-0x148+0x2147+-0x1fff]=(_0x1f11b1+_0x2b3754)*(0x156a+-0x1*-0x9b8+-0x5*0x63a+0.5),_0x21e09c[0x1*-0x1783+0x146b*0x1+0x319]=(_0x50398e+_0x10cfd3)*(0x1932+-0x1*-0x182+-0x2*0xd5a+0.5),_0x21e09c[-0x37*-0x5+-0xb*0x332+0x2215]=(_0x22787+_0x63458d)*(-0x1647*0x1+0x43b+0x2*0x906+0.5),_0x445ab0[-0x178e+-0x3*0x6e1+0x2c31]=(_0x2b3754-_0x1f11b1)*(-0x1a87+0x233f*0x1+-0x8b8+0.5),_0x445ab0[-0x14ae*0x1+0x3*-0x56+0x15b1]=(_0x10cfd3-_0x50398e)*(-0x1028+0xbe7*-0x2+0xba*0x37+0.5),_0x445ab0[0x1*-0x147a+0x88b+0xbf1]=(_0x63458d-_0x22787)*(0x2af*0xa+0x228e+-0x3d64+0.5));const _0x3e203f=_0x39e8ee();let _0x387fe9={'dataColor':_0x297631,'center':_0x21e09c,'halfExtents':_0x445ab0,'dataCenters':_0x4a5a58,'dataPosition':_0x2c4a15,'dataScale':_0x3c21a7,'dataRotation':_0x545af3,..._0x3e203f};return _0x218908&&(_0x387fe9={..._0x387fe9,'dataMotion':_0x29e8b5,'dataTime':_0xe00eb2,'motion':_0x16e4ff,'tScaleArray':_0x541c4e,'muT':new Float32Array(_0x2b1fde),'timeIndex':new Float32Array(_0x4622f6)}),_0x387fe9;},_0x164aab=_0x2883bb=>{const _0x407938=[];for(let _0x61ddd9=0xbe3+0x187b+-0x31*0xbe;_0x61ddd9<_0x2883bb;++_0x61ddd9)_0x407938['push'](_0x15183['f_rest_'+_0x61ddd9]);return _0x407938;},_0x39e8ee=()=>{const _0x467938=_0x4fd5b2();if(_0x467938<=-0x6*-0x277+0x3b1*-0xa+0x1620)return{};const _0x2c29b2=_0x15183['x']['length'],_0x183ae9=new Uint32Array(_0x2c29b2*(0x1ddb+-0x1290+-0xb47*0x1)),_0x4fa93b=new Uint32Array(_0x2c29b2*(-0x1398+0xe*-0x293+0x37a6)),_0x22e23f=new Uint32Array(_0x2c29b2*(0x2*-0x12a1+0xbe6+0xe8*0x1c)),_0x462ad8=new Uint32Array(_0x2c29b2*(0x13*-0x119+0x817*-0x1+0x1cf6)),_0x8a96e1={0x1:0x3,0x2:0x8,0x3:0xf}[_0x467938],_0x393b7b=_0x164aab(_0x8a96e1*(0xeba+0x21de+-0x1*0x3095)),_0x1c53f8=-0x6e+-0x1*-0x16de+-0xe71,_0x43d749=-0x1f0e+0x6*0x55d+0x2df,_0x89fc0d=new Float32Array(-0xd31+0x193+0xb9f),_0x4a4a49=new Uint32Array(_0x89fc0d['buffer']),_0x10aa95=new Array(_0x8a96e1*(-0x1100+-0x15f0+0x26f3))['fill'](0x1*-0x7c3+-0xeba+0x167d);for(let _0x529c4a=0x11f8+0x19*-0x23+-0xe8d;_0x529c4a<_0x2c29b2;++_0x529c4a){for(let _0x5cb3a8=0x2*0x1352+0xc43+-0x53*0x9d;_0x5cb3a8<_0x8a96e1;++_0x5cb3a8)_0x10aa95[_0x5cb3a8*(0x17f+0x10d*-0xe+0xd3a)]=_0x393b7b[_0x5cb3a8][_0x529c4a],_0x10aa95[_0x5cb3a8*(-0x1519+-0x783+0x1c9f)+(0x2*0xef8+0x1b6e+-0x395d)]=_0x393b7b[_0x5cb3a8+_0x8a96e1][_0x529c4a],_0x10aa95[_0x5cb3a8*(-0x1*-0xaef+0x2*0xf5b+-0x29a2)+(0xaf*0x2+0x19ea+-0x1b46*0x1)]=_0x393b7b[_0x5cb3a8+_0x8a96e1*(0x12b5+-0xb7*-0x20+-0x2993*0x1)][_0x529c4a];let _0x3eaf52=_0x10aa95[0x19ad+-0x140f+-0x59e];for(let _0x308a56=0x1341+0x1321*0x1+-0x2661;_0x308a56<_0x8a96e1*(0x1*-0xb38+-0x1*0x24a3+-0x17ef*-0x2);++_0x308a56)_0x3eaf52=Math['max'](_0x3eaf52,Math['abs'](_0x10aa95[_0x308a56]));if(_0x3eaf52!==0x129e+-0x1e8a+0xbec){for(let _0x3487c3=-0x16*-0x9d+-0x12dc*0x2+0x183a;_0x3487c3<_0x8a96e1;++_0x3487c3)_0x10aa95[_0x3487c3*(-0x30e*-0x6+-0x1*-0xeef+-0x2140)+(-0x1d44+-0x22de+0x2*0x2011)]=Math['max'](-0x10a5+-0x1001+0xe*0x255,Math['min'](_0x1c53f8,Math['floor']((_0x10aa95[_0x3487c3*(0x1d77+0xa18+-0x278c)+(-0xd*0x1bb+-0x137*-0x11+-0x2*-0xec)]/_0x3eaf52*(0x2*0x813+-0xe*0x22f+0xe6c+0.5)+(-0x99d+-0xeb4+0x81b*0x3+0.5))*_0x1c53f8+(-0xf7*-0x1d+0x3*-0x302+-0x1*0x12f5+0.5)))),_0x10aa95[_0x3487c3*(0x4*-0x20+0x1eeb+0x4*-0x79a)+(0x694+-0x27c+0x3*-0x15d)]=Math['max'](0x15e8+-0x21f0+-0x14*-0x9a,Math['min'](_0x43d749,Math['floor']((_0x10aa95[_0x3487c3*(0x1792+-0x7cf+-0x70*0x24)+(-0x54a*0x1+-0x174c+0x1c97)]/_0x3eaf52*(-0xe37+0x1*0x108e+-0x257+0.5)+(-0x233b+-0x4*0x1ad+0x29ef+0.5))*_0x43d749+(-0x1080+-0xe3d+-0x3d*-0x81+0.5)))),_0x10aa95[_0x3487c3*(-0xd*0xa3+-0xfc1*0x1+-0x1*-0x180b)+(0x22d0+-0x662+-0x1c6c)]=Math['max'](0x1e75+0x7bb*0x3+0x12*-0x2fb,Math['min'](_0x1c53f8,Math['floor']((_0x10aa95[_0x3487c3*(-0x4*0x966+0x160+-0x35*-0xaf)+(-0x3b6*0x1+0x1c8+0x8*0x3e)]/_0x3eaf52*(0x1f8c+-0x163c+-0x950+0.5)+(0x1381+-0x2*0xe8f+0x17*0x6b+0.5))*_0x1c53f8+(-0x4df*-0x1+0x1408+-0x11*0x177+0.5))));_0x89fc0d[0x15ed+-0x121b+0x2*-0x1e9]=_0x3eaf52,_0x183ae9[_0x529c4a*(-0xc*-0xc+0x1b2b+-0x1d9*0xf)+(0x1b9b*0x1+0x163*-0x15+0x184)]=_0x4a4a49[-0x1*0xb55+-0xeaf+0x1a04],_0x183ae9[_0x529c4a*(-0x223c+0x32f+0x21*0xf1)+(0x16d1+0x4ff*-0x3+-0x7d3)]=_0x10aa95[0x30d+-0x718*0x5+0x206b]<<0x1560+0x1d9b+0x1973*-0x2|_0x10aa95[-0x1*-0x19+-0x935+-0x91d*-0x1]<<-0xea4+0xe92+-0x1*-0x1d|_0x10aa95[0x89*0x48+0x3f+-0x26c5],_0x183ae9[_0x529c4a*(-0x21c2+0x11f1+0x3*0x547)+(0x6*0xbc+-0x799+0x333)]=_0x10aa95[0x1262+-0xb8c+-0x6d3*0x1]<<-0x1526+-0x6db+-0xa*-0x2cf|_0x10aa95[0x134b+-0x3*-0x791+-0xc7*0x36]<<0x1b9a+-0x11f1+0x4cf*-0x2|_0x10aa95[0x1546+0x2445+-0x3986],_0x183ae9[_0x529c4a*(-0xe7b+0xa57+-0x1*-0x428)+(0x391+0x180e+-0x1*0x1b9c)]=_0x10aa95[0x22fd*-0x1+0x15db+-0x34a*-0x4]<<-0x1*-0x25b3+-0x25*0x75+-0x14b5|_0x10aa95[-0xe*0x97+-0x76*0x45+-0xb*-0x3a5]<<0x18d*-0x1+-0x1368+0x1500|_0x10aa95[0x1*0x213a+0x1bd9+0x3*-0x1459],_0x467938>0x1*-0xa9a+-0x5*0x675+0x225*0x14&&(_0x4fa93b[_0x529c4a*(-0x69a+-0xbf*0x13+0x14cb)+(-0x16db+0x44b*-0x3+0x23bc)]=_0x10aa95[0x58+0x1*0x1a25+-0x1*0x1a74]<<0x226f+-0x199a+-0x1*0x8c0|_0x10aa95[0x4c1*-0x1+-0x1f68+0x2433]<<0x15fa+-0x10e0+-0x50f|_0x10aa95[-0x1bdb+-0x1f0+-0x39*-0x86],_0x4fa93b[_0x529c4a*(-0x82c+-0xa27*-0x1+-0x1f7*0x1)+(-0x12a8+-0x1673+0x291c)]=_0x10aa95[0x2*-0x602+0x17c7+-0xbb7]<<-0x1*-0x268c+0x8a8+-0x1*0x2f1f|_0x10aa95[0x1*0xa01+0x10e6+-0x1ada]<<-0x1*-0x4a3+0x1*0x144d+0x18e5*-0x1|_0x10aa95[-0x4*-0x837+-0x987+0x3b*-0x65],_0x4fa93b[_0x529c4a*(-0x9d5+0x1d6+0x803)+(0x219f+-0x9ff*-0x3+-0x1*0x3f9a)]=_0x10aa95[0x18a3+-0x37*0x45+-0x9c1*0x1]<<-0x2*-0x3bd+0x7c6+-0xf2b|_0x10aa95[-0x1ecb+-0x786+0x3*0xccb]<<-0x3*-0x8e2+0x99*-0x3+-0x18d0|_0x10aa95[0x1*0xf4f+0x4f7*0x2+-0x192c],_0x4fa93b[_0x529c4a*(0x5*-0x1+0x377*-0x1+0x38*0x10)+(-0x7*-0x2d1+0x11*0x77+-0x1b9b)]=_0x10aa95[-0x1*0x10af+0x12f*-0x13+-0x139f*-0x2]<<0x120*-0x2+0x2*0x1096+-0x1*0x1ed7|_0x10aa95[0x4c*-0x47+-0x1578+-0x2a9f*-0x1]<<0x1d3b*0x1+0x9b9+0x1*-0x26e9|_0x10aa95[-0x2*0x3e8+0x22*0x8d+-0x2*0x56b],_0x467938>-0x5*0x285+0x2*-0x72e+0x1af7?(_0x22e23f[_0x529c4a*(0x1*-0x245b+-0x17*0x5c+0x125*0x27)+(-0x531*0x6+-0x24c1+-0x1*-0x43e7)]=_0x10aa95[0x1e35+0xa5a+-0x3*0xd7e]<<-0x1a*0x3d+-0xec7+0x150e|_0x10aa95[0x211+0x1b*0x9d+-0x128a]<<-0x77f+0x3a*-0x65+0x4*0x79b|_0x10aa95[-0x1d*0x40+-0x2170+0x28c7],_0x22e23f[_0x529c4a*(0x17c0+-0x1267+-0x555)+(-0x19b2+0x1*-0x1539+0x2eec)]=_0x10aa95[0x253d+0xa09+-0x53e*0x9]<<0x2341+0x18c5+-0x3bf1|_0x10aa95[0x7e1+-0x4*0x26d+0x1ec]<<0x44c+0x17*-0x6b+0x55c|_0x10aa95[-0x710+-0xac6+0x11f0],_0x22e23f[_0x529c4a*(0xff*-0x9+0x1cac+0x47*-0x47)+(0x14*0x1bd+0x111b*-0x1+0x11a7*-0x1)]=_0x10aa95[0x101e+0xa3f*-0x1+-0x5c4]<<-0x3*0x959+0xd01+-0x229*-0x7|_0x10aa95[-0x1*0x1f99+-0x1f93+0x3f48]<<0x1*0xbf+-0xe*-0xa+0x10*-0x14|_0x10aa95[0x20*0x32+0x933+0x7ab*-0x2],_0x22e23f[_0x529c4a*(-0x442*0x2+-0x1*-0x198e+-0x2*0x883)+(-0x1696+-0xf26+0x25bf)]=_0x10aa95[-0xf3*-0x4+0x26e*0x4+-0xd66]<<-0x23a4+-0x13d*0x10+0x3789*0x1|_0x10aa95[0xd*0x297+0x1c3a+0x3dc6*-0x1]<<-0x2*-0xb38+-0xc5*-0xe+-0x212b|_0x10aa95[-0x6ce+0x2521*-0x1+0x2c0f],_0x462ad8[_0x529c4a*(0x3*-0x694+0x264c+0x1*-0x128c)+(-0x1c36+0x1831+0x405)]=_0x10aa95[0x49*0x69+-0x4ac*-0x4+-0x3080]<<0xfb*-0xd+0x8d6+-0x49*-0xe|_0x10aa95[0x1611+0x1d54+0x3343*-0x1]<<-0x142d+0x3*-0x511+0x236b|_0x10aa95[0x1fd7+0x1*0x2605+0x45b9*-0x1],_0x462ad8[_0x529c4a*(0xfd*0x6+0x1eb8+-0x209*0x12)+(0x4*0x765+0xa8+0x47*-0x6d)]=_0x10aa95[-0x1003*-0x1+-0x1124*0x2+0x1*0x1269]<<-0x211b+-0x1*0x1889+-0x83f*-0x7|_0x10aa95[-0x761+-0x236*-0x1+0x550]<<-0x1652+0x8d0+0xd8d|_0x10aa95[-0x18a*-0x2+-0x8aa*0x4+-0x83*-0x3e],_0x462ad8[_0x529c4a*(-0x98*-0xa+0x190d*0x1+-0x1ef9)+(-0x12c8+0x2561+-0x1*0x1297)]=_0x10aa95[0x15e8+0xe3a+0x23fb*-0x1]<<0x1239+0x1b0f+-0x2d33|_0x10aa95[-0x1*-0x20d8+0x152f*0x1+-0x1*0x35df]<<-0x7*0x1b1+-0x2*-0x143+0x95c|_0x10aa95[0xaa7+-0x11db+0x75d],_0x462ad8[_0x529c4a*(0x712+-0xcea*-0x2+-0x20e2)+(-0x75*0x7+-0x2e7*0x6+0x14a0)]=_0x10aa95[0x11ce+0x534+0x4*-0x5b6]<<-0x67*0x3+0x1148+-0xffe|_0x10aa95[0x1894+-0x6*-0x2e7+-0x53*0x81]<<-0x1dca+0x1*-0x84a+0x261f*0x1|_0x10aa95[0xaf3*-0x3+0xd*-0x92+-0x286f*-0x1]):_0x22e23f[_0x529c4a]=_0x10aa95[0xc*-0x99+-0x74*0x23+0x171d]<<0x89*-0x17+0x1cd*0x14+-0x30*0x7e|_0x10aa95[-0x1fa2*-0x1+-0xa3c+-0x2*0xaa8]<<0x1*-0x15b5+-0x3*-0xa93+-0x9f9|_0x10aa95[0x26e0+-0x1717+-0xfb2]);}}return{'sh1to3Data':_0x183ae9,'sh4to7Data':_0x4fa93b,'sh8to11Data':_0x22e23f,'sh12to15Data':_0x462ad8};},_0x44ef46=_0x2464cb=>{if(!_0x15183['time_index'])return;const _0x1b8a31=_0x15183['time_index']['findIndex'](_0x295d94=>_0x295d94===_0x2464cb);let _0x468914=_0x15183['time_index']['findIndex']((_0x2121b7,_0x2ac451)=>_0x2121b7!==_0x2464cb&&_0x2ac451>_0x1b8a31);if(_0x468914===-(0xaf1*0x1+-0x2235+0x1745)&&_0x1b8a31===-(-0x3*0x642+0x8fb*-0x2+0x24bd))return;_0x468914===-(-0x6a*0x2d+-0x19c5+0x2c68)&&_0x1b8a31!==-(0x2*-0x119b+0x5df*-0x2+0x2ef5)&&(_0x468914=_0x15183['time_index']['length']),_0x103e4c-=_0x468914-_0x1b8a31;const _0x30b1fc=Object['keys'](_0x15183);for(let _0x4efa74=-0x1347+-0x170+0x14b7*0x1;_0x4efa74<_0x30b1fc['length'];_0x4efa74++){const _0x202839=_0x30b1fc[_0x4efa74],_0xe93949=_0x15183[_0x202839];if(_0xe93949){const _0x49ec6a=new Float32Array(_0x103e4c);_0x1b8a31>0x1981*-0x1+-0x197e+0x32ff?(_0x49ec6a['set'](_0xe93949['subarray'](0xb3e*-0x1+-0x1f8c+0x2aca*0x1,_0x1b8a31),-0x1*0xcfb+-0x25e1+0x43d*0xc),_0x49ec6a['set'](_0xe93949['subarray'](_0x468914),_0x1b8a31)):_0x49ec6a['set'](_0xe93949['subarray'](_0x468914),-0x2e*0xb6+-0x1*-0x156a+0xb4a),_0x15183[_0x202839]=_0x49ec6a;}}},_0x45f0c6=()=>{const _0xa0def7=Object['keys'](_0x15183);for(let _0x504e9b=-0x6a4+0x60e+0x96;_0x504e9b<_0xa0def7['length'];_0x504e9b++){const _0xdffb66=_0xa0def7[_0x504e9b];_0x15183[_0xdffb66]&&(_0x15183[_0xdffb66]=[]);}},_0x3ed800=()=>{_0x15183={},_0x103e4c=-0x2597+-0x1183+0x371a;};}class YA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+jA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x48791d,_0x355022,_0x31acb2,_0x6bb159=!(0xd88*-0x1+-0x2626+0x33af)){var _0x50c116,_0x597664;const _0x280c19={};return _0x48791d['elements'][0xbc6+-0x2527*0x1+0x1961]['properties']['forEach'](_0x2492df=>{_0x280c19[_0x2492df['name']]=_0x2492df['storage'];}),_0x6bb159?(_0x50c116=this['worker'])==null||_0x50c116['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x280c19,'timeIndex':_0x355022,'timeOption':_0x31acb2},_0x48791d['elements'][-0x1655+-0x2*-0x1ca+0x12c1]['properties']['map'](_0x53047c=>_0x53047c['storage']['buffer'])):(_0x597664=this['worker'])==null||_0x597664['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x280c19,'timeIndex':_0x355022,'timeOption':_0x31acb2}),new Promise(_0x5ec185=>{this['worker']['onmessage']=_0x3f4e29=>{if(!this['worker'])return;const {data:_0x23474b}=_0x3f4e29;_0x23474b['type']==='newAppendD'+'ata'&&_0x5ec185(_0x23474b);};});}async['releaseSeq'+'Data'](_0x563d86){var _0x1c4293;(_0x1c4293=this['worker'])==null||_0x1c4293['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x563d86});}async['releaseAll'+'SeqData'](){var _0x4a82cc;(_0x4a82cc=this['worker'])==null||_0x4a82cc['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x35da42;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x35da42=this['worker'])==null||_0x35da42['terminate'](),this['worker']=null);}}const za=new te(),pg=new le(),yf=new De(),mg=new De(),KA=new ie(-0x6d0+-0x2*-0xf71+-0x1811,0x1*-0x1267+0x1c05+-0x99d,0x24e8+-0x2607+-0x1*-0x11f,0x1*-0x1433+-0x17b*-0xd+0x3d*0x4+0.4),vf=0x1955+-0x107f+-0x57*0x1a+0.28209479177387814,xf=0x1*-0x2049b+0x1*0x4739+0x4caa2;let ZA=class{constructor(_0x5155d1,_0x47b176,_0x2ce0df,_0x301a7e,_0x451f3d,_0x31c3fa){const _0x10861f=_0x5155d1['getProp']('x'),_0x1d3158=_0x5155d1['getProp']('y'),_0x2f869e=_0x5155d1['getProp']('z'),_0xe5cc79=_0x5155d1['getProp']('rot_1'),_0x336b77=_0x5155d1['getProp']('rot_2'),_0x5410f0=_0x5155d1['getProp']('rot_3'),_0x63605b=_0x5155d1['getProp']('rot_0'),_0x927239=_0x5155d1['getProp']('motion_0'),_0x236465=_0x5155d1['getProp']('motion_1'),_0x582cdc=_0x5155d1['getProp']('motion_2'),_0x4e42c4=_0x5155d1['getProp']('scale_0'),_0x5c39af=_0x5155d1['getProp']('scale_1'),_0x49d7b2=_0x5155d1['getProp']('scale_2'),_0xa51154=_0x5155d1['getProp']('f_dc_0'),_0x5577be=_0x5155d1['getProp']('f_dc_1'),_0x696032=_0x5155d1['getProp']('f_dc_2'),_0x1b0fd9=_0x5155d1['getProp']('opacity');this['read']=_0x12593d=>{_0x47b176&&(_0x47b176['x']=_0x10861f[_0x12593d],_0x47b176['y']=_0x1d3158[_0x12593d],_0x47b176['z']=_0x2f869e[_0x12593d]),_0x2ce0df&&_0x2ce0df['set'](_0xe5cc79[_0x12593d],_0x336b77[_0x12593d],_0x5410f0[_0x12593d],_0x63605b[_0x12593d]),_0x301a7e&&_0x301a7e['set'](Math['exp'](_0x4e42c4[_0x12593d]),Math['exp'](_0x5c39af[_0x12593d]),Math['exp'](_0x49d7b2[_0x12593d])),_0x31c3fa&&_0x927239&&_0x31c3fa['set'](_0x927239[_0x12593d],_0x236465[_0x12593d],_0x582cdc[_0x12593d]),_0x451f3d&&_0x451f3d['set'](0xbc3+-0x7e9*0x2+-0x1*-0x40f+0.5+_0xa51154[_0x12593d]*vf,0x12cf*-0x1+-0xac6+0x1d95*0x1+0.5+_0x5577be[_0x12593d]*vf,0xe09+0x10e+0xf17*-0x1+0.5+_0x696032[_0x12593d]*vf,_0x1b0fd9[_0x12593d]);};}};const _g=(_0x589344,_0x538e1c,_0x362171)=>{pg['set'](_0x362171['x'],_0x362171['y'],_0x362171['z'],_0x362171['w'])['normalize'](),_0x589344['setTRS'](_0x538e1c,pg,D['ONE']);};class qn{constructor(_0x5acb51,_0x24bd93=[]){h(this,'elements'),h(this,'numSplats',-0x1dd0+-0x73*0x1f+0x2bbd),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x1d7ef3;(_0x1d7ef3=this['dataWorker'])==null||_0x1d7ef3['destroy'](),this['dataWorker']=null;});var _0x32d0c1,_0xdf8d3e,_0x2906aa;this['elements']=_0x5acb51,this['numSplats']=((_0x32d0c1=this['getElement']('vertex'))==null?void(-0x79*-0xd+0xcd*-0x8+0x43):_0x32d0c1['count'])??-0x8b0*-0x3+0x21dd+0x1*-0x3bed,this['comments']=_0x24bd93,this['is4D']=!!((_0x2906aa=(_0xdf8d3e=this['getElement']('vertex'))==null?void(-0x22ea+-0xd78+-0x1*-0x3062):_0xdf8d3e['properties']['find'](_0x2ec439=>_0x2ec439['name']==='t'))!=null&&_0x2906aa['storage']);}async['appendGSpl'+'atData'](_0x371223,_0x5a74d2,_0x508b8c){var _0x16f8db;let _0x3724c2=0x19d3+-0x96b*-0x1+-0x233e;for(let _0x33b0eb=-0x1bd8+-0x5*-0x3a+0x1ab6;_0x33b0eb<_0x508b8c['length']&&_0x5a74d2>_0x508b8c[_0x33b0eb];_0x33b0eb+=-0x2258+0x742+-0x66*-0x44)_0x3724c2=_0x33b0eb/(0x3f6+-0x3e4*-0x7+-0x8*0x3e6);console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData',_0x3724c2),this['dataWorker']||(this['dataWorker']=new YA(),await this['dataWorker']['appendGSpl'+'atData'](this,-0x2*-0x7b7+0x16*0xc3+-0x10*0x203,_0x508b8c));const _0x1b2df3=this['getElement']('vertex');_0x1b2df3&&(_0x1b2df3['count']=this['numSplats']);const _0x267b96=await this['dataWorker']['appendGSpl'+'atData'](_0x371223,_0x3724c2,_0x508b8c,!(0x26e0+0xa3*0xd+0x2f27*-0x1)),_0x1190b0=_0x267b96['properties'],_0x591f10=((_0x16f8db=this['getElement']('vertex'))==null?void(-0x25c3+0x2*-0xccb+-0x1*-0x3f59):_0x16f8db['properties'])??[];for(const _0x19f8c8 in _0x1190b0){const _0x10841=_0x591f10['find'](_0xd88bde=>_0xd88bde['name']===_0x19f8c8);_0x10841?_0x10841['storage']=_0x1190b0[_0x19f8c8]:_0x591f10['push']({'type':'float','name':_0x19f8c8,'storage':_0x1190b0[_0x19f8c8],'byteSize':0x4});}this['transformD'+'ata']=_0x267b96['transformD'+'ata'],this['numSplats']=_0x1190b0['x']['length'],console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData\x20nu'+'mSplats',this['numSplats']);}async['releaseSeq'+'Data'](_0x24e0e4){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20releaseSe'+'qData',_0x24e0e4),this['dataWorker']['releaseSeq'+'Data'](_0x24e0e4),this;}async['releaseAll'+'SeqData'](){var _0x4bd66e;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20release\x20a'+'ll\x20SeqData'),(_0x4bd66e=this['dataWorker'])==null||_0x4bd66e['releaseAll'+'SeqData'](),this;}static['calcSplatA'+'abb'](_0x469d68,_0x1e97a5,_0x189ebc,_0x4632b7){_g(za,_0x1e97a5,_0x189ebc),yf['center']['set'](-0x19c+-0x1*-0x134b+-0x11af,-0x4*0x761+0x853*0x1+-0x7*-0x307,0x58d+0xadd+-0x106a),yf['halfExtent'+'s']['set'](_0x4632b7['x']*(-0x3a1+-0x1*0x611+0x9b4),_0x4632b7['y']*(-0x200d*0x1+-0xb60*0x2+0x36cf),_0x4632b7['z']*(0x12f*0x2+0x8*0x26b+-0x2*0xada)),_0x469d68['setFromTra'+'nsformedAa'+'bb'](yf,za);}['getProp'](_0x2166c9,_0x539593='vertex'){var _0x2f81a8,_0x1a5e99;return(_0x1a5e99=(_0x2f81a8=this['getElement'](_0x539593))==null?void(-0x2634+0x1*0xe4b+0x17e9):_0x2f81a8['properties']['find'](_0x52eb17=>_0x52eb17['name']===_0x2166c9))==null?void(0x4e4*0x1+-0x6f*-0x3d+-0x71*0x47):_0x1a5e99['storage'];}['getElement'](_0x98c0fb){return this['elements']['find'](_0x3fd3b0=>_0x3fd3b0['name']===_0x98c0fb);}['addProp'](_0x58d85b,_0x731a23){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x58d85b,'storage':_0x731a23,'byteSize':0x4});}['createIter'](_0x3a95e3,_0x30bdb5,_0x218b62,_0x1173ad,_0x366dff){return new ZA(this,_0x3a95e3,_0x30bdb5,_0x218b62,_0x1173ad,_0x366dff);}async['calcAabbAs'+'ync'](_0x16930b,_0x35073a){var _0x566417,_0x3bcd32;if((_0x566417=this['transformD'+'ata'])!=null&&_0x566417['center']&&((_0x3bcd32=this['transformD'+'ata'])!=null&&_0x3bcd32['halfExtent'+'s'])){_0x16930b['center']['set'](this['transformD'+'ata']['center'][-0x1*0xf3f+0x64d*0x1+0x8f2*0x1],this['transformD'+'ata']['center'][-0x131f+-0x1*0xce5+-0x493*-0x7],this['transformD'+'ata']['center'][-0x1073+0x1dc6+0x1*-0xd51]),_0x16930b['halfExtent'+'s']['set'](this['transformD'+'ata']['halfExtent'+'s'][0x1212+-0x974+-0x89e],this['transformD'+'ata']['halfExtent'+'s'][0x6b1+0xa7e*0x2+-0x1bac],this['transformD'+'ata']['halfExtent'+'s'][0x1106*-0x2+-0x1*0x19b5+0x3bc3*0x1]);return;}const _0x1a841a=this['getProp']('x'),_0x49eb43=this['getProp']('y'),_0x3b4d80=this['getProp']('z'),_0x3477a5=this['getProp']('scale_0'),_0x2d2a74=this['getProp']('scale_1'),_0x389c6f=this['getProp']('scale_2'),_0xa59536=await(_0x35073a==null?void(0xfd9*0x1+-0x1b2e*-0x1+-0x5*0x89b):_0x35073a['calcAabb'](this['numSplats'],_0x1a841a,_0x49eb43,_0x3b4d80,_0x3477a5,_0x2d2a74,_0x389c6f));_0x16930b['center']['set'](_0xa59536['center'][-0x125+-0x2124+0x2249],_0xa59536['center'][0x34*-0x53+0x122*-0xb+0x1*0x1d53],_0xa59536['center'][0xee2+-0x17f*0x3+0xa63*-0x1]),_0x16930b['halfExtent'+'s']['set'](_0xa59536['halfExtent'+'s'][0x153*-0x7+0x1b80+-0x123b],_0xa59536['halfExtent'+'s'][0x220c+-0x877+0x1*-0x1994],_0xa59536['halfExtent'+'s'][-0x107+-0x8ed*0x4+0x24bd]);}['calcAabb'](_0x53fefa,_0x2b7944){let _0x1c9a1a,_0x9e5a62,_0x305979,_0x4c36d7,_0x335aad,_0x279af7,_0x25be8b=!(0x17c7+-0x1634+0x193*-0x1);const _0x1f83f9=this['getProp']('x'),_0x36a389=this['getProp']('y'),_0x1b592e=this['getProp']('z'),_0x27df26=this['getProp']('scale_0'),_0x3be342=this['getProp']('scale_1'),_0x25ae75=this['getProp']('scale_2');for(let _0x1a3f9e=0x1*-0x7c3+-0x1d29*0x1+0x24ec;_0x1a3f9e<this['numSplats'];++_0x1a3f9e){if(_0x2b7944&&!_0x2b7944(_0x1a3f9e))continue;const _0x1dee47=_0x1f83f9[_0x1a3f9e],_0x5370ea=_0x36a389[_0x1a3f9e],_0x25b329=_0x1b592e[_0x1a3f9e],_0x220e98=Math['max'](_0x27df26[_0x1a3f9e],_0x3be342[_0x1a3f9e],_0x25ae75[_0x1a3f9e]);if(!isFinite(_0x1dee47)||!isFinite(_0x5370ea)||!isFinite(_0x25b329)||!isFinite(_0x220e98))continue;const _0x401f13=(-0x149f+-0x11ba+0x265b)*Math['exp'](_0x220e98);_0x25be8b?(_0x25be8b=!(-0x1*-0x99b+-0x817*0x1+-0x183*0x1),_0x1c9a1a=_0x1dee47-_0x401f13,_0x9e5a62=_0x5370ea-_0x401f13,_0x305979=_0x25b329-_0x401f13,_0x4c36d7=_0x1dee47+_0x401f13,_0x335aad=_0x5370ea+_0x401f13,_0x279af7=_0x25b329+_0x401f13):(_0x1c9a1a=Math['min'](_0x1c9a1a,_0x1dee47-_0x401f13),_0x9e5a62=Math['min'](_0x9e5a62,_0x5370ea-_0x401f13),_0x305979=Math['min'](_0x305979,_0x25b329-_0x401f13),_0x4c36d7=Math['max'](_0x4c36d7,_0x1dee47+_0x401f13),_0x335aad=Math['max'](_0x335aad,_0x5370ea+_0x401f13),_0x279af7=Math['max'](_0x279af7,_0x25b329+_0x401f13));}return _0x25be8b||(_0x53fefa['center']['set']((_0x1c9a1a+_0x4c36d7)*(0x2c2+-0x1*-0x321+-0x5e3+0.5),(_0x9e5a62+_0x335aad)*(0xa4b+-0x2*0x7b4+0x7*0xbb+0.5),(_0x305979+_0x279af7)*(0x3*-0x8c5+-0x3b*-0xd+0x1*0x1750+0.5)),_0x53fefa['halfExtent'+'s']['set']((_0x4c36d7-_0x1c9a1a)*(0x1b*0xf9+-0x1c59+0x216+0.5),(_0x335aad-_0x9e5a62)*(0xbf5*0x2+0x17*-0xef+-0x271+0.5),(_0x279af7-_0x305979)*(0x457+-0x2264+0x1e0d+0.5))),!_0x25be8b;}['yieldToMai'+'n'](){var _0x69a9ae;return(_0x69a9ae=globalThis['scheduler'])!=null&&_0x69a9ae['yield']?globalThis['scheduler']['yield']():new Promise(_0x33756e=>{setTimeout(_0x33756e,-0x1b45+0x255+0x1c8*0xe);});}['calcAabbEx'+'act'](_0x4e3f41,_0x1472b5){const _0x4f8740=new D(),_0x7d90c7=new le(),_0x50c535=new D(),_0x47b046=this['createIter'](_0x4f8740,_0x7d90c7,_0x50c535);let _0x8f4a2b=!(-0x22*-0x7b+0x21*0x9+-0x117f);for(let _0x554db4=0x1*0x18e9+-0x1186+-0x763;_0x554db4<this['numSplats'];++_0x554db4)_0x1472b5&&!_0x1472b5(_0x554db4)||(_0x47b046['read'](_0x554db4),_0x8f4a2b?(_0x8f4a2b=!(-0x3*-0xfd+-0x20f7+0x1e01),qn['calcSplatA'+'abb'](_0x4e3f41,_0x4f8740,_0x7d90c7,_0x50c535)):(qn['calcSplatA'+'abb'](mg,_0x4f8740,_0x7d90c7,_0x50c535),_0x4e3f41['add'](mg)));return!_0x8f4a2b;}async['getCenters'](_0x1a74c7){const _0x2d3216=this['getProp']('x'),_0x502ddc=this['getProp']('y'),_0x3bdc83=this['getProp']('z');for(let _0x524604=-0x23*-0x106+-0x5a3*0x3+-0x12e9*0x1;_0x524604<this['numSplats'];++_0x524604)_0x1a74c7[_0x524604*(0xea+0x9*0x269+-0x8*0x2d3)+(0x257e+-0x1325*0x1+-0x1259)]=_0x2d3216[_0x524604],_0x1a74c7[_0x524604*(0x1f*-0x17+-0x10d2+0x139e)+(-0xcb5*0x1+-0x1216+0x1ecc)]=_0x502ddc[_0x524604],_0x1a74c7[_0x524604*(0x1*-0x1ae9+-0x4c4+-0x10*-0x1fb)+(0x3*0x871+0x1d3+-0x182*0x12)]=_0x3bdc83[_0x524604],_0x524604%xf===-0x20*-0x56+-0x3f*0x10+-0x6d0&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x415aaa;if((_0x415aaa=this['transformD'+'ata'])!=null&&_0x415aaa['muT'])return this['transformD'+'ata']['muT'];const _0x3946d7=this['getProp']('t');return _0x3946d7?new Float32Array(_0x3946d7):void(0xe7f+-0x26d0+0x3*0x81b);}async['getTScale'](){const _0x3cbdec=this['getProp']('t_scale');if(!_0x3cbdec)return;const _0xe8b6ab=new Float32Array(this['numSplats']);for(let _0xfd0ea6=-0x300+-0x537*0x2+0x9*0x17e;_0xfd0ea6<this['numSplats'];++_0xfd0ea6)_0xe8b6ab[_0xfd0ea6]=Math['exp'](_0x3cbdec[_0xfd0ea6]),_0xfd0ea6%xf===0x1*0x885+-0x4c1*-0x2+-0x1207*0x1&&await this['yieldToMai'+'n']();return _0xe8b6ab;}async['getMotion'](_0x403038){const _0x5f2618=this['getProp']('motion_0'),_0x23049e=this['getProp']('motion_1'),_0x57055e=this['getProp']('motion_2');if(!(!_0x5f2618||!_0x23049e||!_0x57055e)){for(let _0x5cdd52=-0x1bdb+-0x123c+-0x13*-0x26d;_0x5cdd52<this['numSplats'];++_0x5cdd52)_0x403038[_0x5cdd52*(0x4*0xc5+-0x25f*0x1+-0xb2)+(-0x1*-0x625+-0x1ef4+0x845*0x3)]=_0x5f2618[_0x5cdd52],_0x403038[_0x5cdd52*(0x180c+-0x1589+-0x280)+(0x3fd+-0x18*-0xef+-0x3*0x8cc)]=_0x23049e[_0x5cdd52],_0x403038[_0x5cdd52*(0xa6b+-0x6fd+0x1*-0x36b)+(0x3*0x127+0x2446+0x1*-0x27b9)]=_0x57055e[_0x5cdd52],_0x5cdd52%xf===0x218d+-0x1018+0x6d*-0x29&&await this['yieldToMai'+'n']();}}['getTimeInd'+'ex'](){var _0xb74cfe;if((_0xb74cfe=this['transformD'+'ata'])!=null&&_0xb74cfe['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x5d03fb=this['getProp']('time_index');if(_0x5d03fb)return new Float32Array(_0x5d03fb);}['calcFocalP'+'oint'](_0x2ca162,_0x394262){const _0x28b2e9=this['getProp']('x'),_0x2c5c01=this['getProp']('y'),_0x5c4ffd=this['getProp']('z'),_0x38cd56=this['getProp']('scale_0'),_0x9a9778=this['getProp']('scale_1'),_0x5e532e=this['getProp']('scale_2');_0x2ca162['x']=-0xc2*0x11+-0x39*-0x39+0x31,_0x2ca162['y']=0xbe2+0x31a*-0xb+0x1*0x163c,_0x2ca162['z']=-0x7f1*0x2+0xaee+0x4f4;let _0x16fc8e=0x14ae+-0xf15+0x1*-0x599;for(let _0x3b4081=0xdfd+0xa5d*-0x1+0x8*-0x74;_0x3b4081<this['numSplats'];++_0x3b4081){if(_0x394262&&!_0x394262(_0x3b4081))continue;const _0x15a062=_0x28b2e9[_0x3b4081],_0x5d2e1f=_0x2c5c01[_0x3b4081],_0x18391d=_0x5c4ffd[_0x3b4081];if(!isFinite(_0x15a062)||!isFinite(_0x5d2e1f)||!isFinite(_0x18391d))continue;const _0x4ff58d=(0x5f3*-0x1+0x4ee*-0x5+0x1e9a)/(0x660+-0x91a+-0xe9*-0x3+Math['exp'](Math['max'](_0x38cd56[_0x3b4081],_0x9a9778[_0x3b4081],_0x5e532e[_0x3b4081])));_0x2ca162['x']+=_0x15a062*_0x4ff58d,_0x2ca162['y']+=_0x5d2e1f*_0x4ff58d,_0x2ca162['z']+=_0x18391d*_0x4ff58d,_0x16fc8e+=_0x4ff58d;}_0x2ca162['mulScalar']((0x1*-0x1292+-0xa11+0x1ca4)/_0x16fc8e);}['renderWire'+'frameBound'+'s'](_0xbd24e8,_0x317a83){const _0x147106=new D(),_0x870767=new le(),_0x27ddfa=new D(),_0x2cdb9a=new D(),_0x1ea38c=new D(),_0x497126=this['createIter'](_0x147106,_0x870767,_0x27ddfa);for(let _0x325e2f=-0x181+0x4*0x1f3+0xb3*-0x9;_0x325e2f<this['numSplats'];++_0x325e2f)_0x497126['read'](_0x325e2f),_g(za,_0x147106,_0x870767),za['mul2'](_0x317a83,za),_0x2cdb9a['set'](_0x27ddfa['x']*-(0x1f2e+-0x3e*-0x2e+0x54a*-0x8),_0x27ddfa['y']*-(-0xb*0x9d+-0x4*0x511+-0x1b05*-0x1),_0x27ddfa['z']*-(-0x1b68+-0x1a3f*-0x1+0x17*0xd)),_0x1ea38c['set'](_0x27ddfa['x']*(0x2c6+-0x1352+0x108e),_0x27ddfa['y']*(0x8f9+-0x1e3d*-0x1+-0x2734),_0x27ddfa['z']*(0xf07+0x51*0x75+-0x340a)),_0xbd24e8['immediate']['drawWireAl'+'ignedBox'](_0x2cdb9a,_0x1ea38c,KA,!(-0x137a*0x2+-0x3d3*-0x1+-0x1*-0x2321),_0xbd24e8['defaultDra'+'wLayer'],za);}get['isCompress'+'ed'](){return!(0x4*-0x812+0x357+-0x11d*-0x1a);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x172622=-0x8c3*-0x1+-0xa*0x95+0x3*-0xfb;_0x172622<-0x2*0x8ef+0x1*0x165a+-0x44f;++_0x172622)if(!this['getProp']('f_rest_'+_0x172622))return _0x172622;return 0x1499+0x4e3+-0x155*0x13;})())]??-0x2710+0x17ec+0x72*0x22;}['calcMorton'+'Order'](){const _0x5607ce=_0x2600d3=>{let _0x5ec65b=_0x2600d3[-0x25cb*-0x1+-0x823+-0x1da8],_0x5afb3e=_0x2600d3[-0x1e6d+-0x3*0x1a1+0x2350];for(let _0x231d08=0xad5+-0x19f+0x1*-0x935;_0x231d08<_0x2600d3['length'];_0x231d08++)_0x2600d3[_0x231d08]<_0x5ec65b&&(_0x5ec65b=_0x2600d3[_0x231d08]),_0x2600d3[_0x231d08]>_0x5afb3e&&(_0x5afb3e=_0x2600d3[_0x231d08]);return{'min':_0x5ec65b,'max':_0x5afb3e};},_0x2fe5d8=(_0x356eff,_0x4a94e9,_0x442dbf)=>{const _0x4e01d5=_0x2d3823=>(_0x2d3823&=0x4a0+-0x18d8+0x1837,_0x2d3823=(_0x2d3823^_0x2d3823<<0x12b4+-0xe*-0x218+-0x2ff4)&0x180fa67aa+-0x5*-0x5451b5cf+-0x22792f3b6,_0x2d3823=(_0x2d3823^_0x2d3823<<-0x2*0x8d2+-0x1081*0x1+-0x2a1*-0xd)&0x26ff4da+0x7827cb*0x5+0x4e6aa*-0x5d,_0x2d3823=(_0x2d3823^_0x2d3823<<-0x1a*-0x5e+0x2*-0x2cf+-0x3ea)&0x25cb4fb+0x5d61bce+-0x526a006,_0x2d3823=(_0x2d3823^_0x2d3823<<-0x1e1*-0xd+0x23d5*-0x1+0x1e7*0x6)&0x108ef644+-0xb5d32*0x139+0xb92b*0x8f5,_0x2d3823);return(_0x4e01d5(_0x442dbf)<<0x1927+0x3*0xa21+-0x3788)+(_0x4e01d5(_0x4a94e9)<<-0x1387*-0x1+-0x1b40+0x7ba*0x1)+_0x4e01d5(_0x356eff);},_0x4cb6d5=this['getProp']('x'),_0x4b01c9=this['getProp']('y'),_0x2b5b13=this['getProp']('z'),{min:_0x258c2e,max:_0xc6ec60}=_0x5607ce(_0x4cb6d5),{min:_0x13d316,max:_0x3a12b8}=_0x5607ce(_0x4b01c9),{min:_0x43e000,max:_0x39f878}=_0x5607ce(_0x2b5b13),_0x37c3ca=_0x258c2e===_0xc6ec60?-0x2704+0x1857+0xead:(0x1ba+-0x1837*0x1+0x1a7d)/(_0xc6ec60-_0x258c2e),_0x365e34=_0x13d316===_0x3a12b8?-0x1*0x49+-0x174b+-0x3*-0x7dc:(-0xa*-0x377+0x13*0x13d+0x25b*-0x17)/(_0x3a12b8-_0x13d316),_0x5dc0bb=_0x43e000===_0x39f878?-0xb72+0x22a8+-0x2*0xb9b:(0x3*0x7ab+-0xec3+-0x43e)/(_0x39f878-_0x43e000),_0x1ac06b=new Map();for(let _0x1650ef=-0x1a87+-0x3c+0x193*0x11;_0x1650ef<this['numSplats'];_0x1650ef++){const _0x1cae03=Math['min'](0x16a0+-0x837*-0x2+-0x703*0x5,Math['floor']((_0x4cb6d5[_0x1650ef]-_0x258c2e)*_0x37c3ca)),_0x687b23=Math['min'](-0x3*-0x386+-0x5*-0x2c5+0x2*-0xa36,Math['floor']((_0x4b01c9[_0x1650ef]-_0x13d316)*_0x365e34)),_0x43bc23=Math['min'](0x613*0x6+0xe3*0x19+0x369e*-0x1,Math['floor']((_0x2b5b13[_0x1650ef]-_0x43e000)*_0x5dc0bb)),_0x1b1c0c=_0x2fe5d8(_0x1cae03,_0x687b23,_0x43bc23),_0x9d316f=_0x1ac06b['get'](_0x1b1c0c);_0x9d316f?_0x9d316f['push'](_0x1650ef):_0x1ac06b['set'](_0x1b1c0c,[_0x1650ef]);}const _0x11f1f5=Array['from'](_0x1ac06b['keys']())['sort']((_0x38b2f5,_0x3c92a0)=>_0x38b2f5-_0x3c92a0),_0x249bf9=new Uint32Array(this['numSplats']);let _0x1c1eb5=0x1066*-0x2+-0x6ba+0x2786;for(let _0x2c6fbf=0x325+0x3*-0xc91+0x228e*0x1;_0x2c6fbf<_0x11f1f5['length'];++_0x2c6fbf){const _0xc14c05=_0x1ac06b['get'](_0x11f1f5[_0x2c6fbf]);for(let _0xd7a0b7=0xb1*-0x33+-0x151*-0xe+-0x1f*-0x8b;_0xd7a0b7<_0xc14c05['length'];++_0xd7a0b7)_0x249bf9[_0x1c1eb5++]=_0xc14c05[_0xd7a0b7];}return _0x249bf9;}['reorder'](_0x5c35c0){const _0x24b86b=new Map(),_0x4acd68=_0x5ac28a=>{if(_0x24b86b['has'](_0x5ac28a)){const _0x550de6=_0x24b86b['get'](_0x5ac28a);return _0x24b86b['delete'](_0x5ac28a),_0x550de6;}return new ArrayBuffer(_0x5ac28a);},_0xf8aacb=_0x5049ac=>{_0x24b86b['set'](_0x5049ac['byteLength'],_0x5049ac);},_0x27948a=_0x3b5ff4=>{const _0x59301c=new _0x3b5ff4['constructo'+'r'](_0x4acd68(_0x3b5ff4['byteLength']));for(let _0xb76903=-0x139a*-0x1+-0x1494+0x2*0x7d;_0xb76903<_0x5c35c0['length'];_0xb76903++)_0x59301c[_0xb76903]=_0x3b5ff4[_0x5c35c0[_0xb76903]];return _0xf8aacb(_0x3b5ff4['buffer']),_0x59301c;};this['elements']['forEach'](_0x5da88b=>{_0x5da88b['properties']['forEach'](_0x499b56=>{_0x499b56['storage']&&(_0x499b56['storage']=_0x27948a(_0x499b56['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}async function QA(){const _0x595205=new Float32Array(-0x1dc3+-0x73+0x7*0x451);new Int32Array(_0x595205['buffer']);let _0x1ad8cd=0x743+-0x1*-0x1227+-0x196a,_0x2e0bdc={};self['onmessage']=async _0x1b7182=>{const {data:_0xa3a397}=_0x1b7182;switch(_0xa3a397['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x18bf45(_0xa3a397['properties'],_0xa3a397['timeIndex'],_0xa3a397['timeOption']);break;case'releaseSeq'+'Data':_0x50597c(_0xa3a397['index']);break;case'releaseAll'+'SeqData':_0x328e64();break;case'destroyWor'+'ker':_0x4e86c9();break;}};const _0x378494=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x4ebad3=0xd46+0x2050+0x6*-0x799;_0x4ebad3<0xcf7+-0x5*-0x2ba+-0x1a6c;++_0x4ebad3)if(!_0x2e0bdc['f_rest_'+_0x4ebad3])return _0x4ebad3;return-0x176d+-0x9e+0x1838;})())]??-0x7*-0x16f+0x41e+-0xe27),_0x18bf45=(_0x4eb79a,_0x486933,_0x8bc135)=>{var _0x54d7da,_0x31071f;_0x1ad8cd+=(((_0x54d7da=_0x4eb79a['position'])==null?void(-0xc5c+0x1d21+-0x10c5):_0x54d7da['length'])??0x1c31+-0x1196*-0x1+-0x2dc7)/(-0x1c11+0x1f6+0x1a1e),console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20append'+'GSplatData'+'\x20numSplats',_0x1ad8cd,(((_0x31071f=_0x4eb79a['position'])==null?void(-0x1c68+-0x986+0x25ee):_0x31071f['length'])??-0xfc2*-0x2+0x1*0x2273+0xd*-0x513)/(0x1e97+-0x6ad*0x3+0x49*-0x25));const _0x2bb4b2=Object['keys'](_0x4eb79a);for(let _0x3249ac=0x174e+-0x586+-0x11c8;_0x3249ac<_0x2bb4b2['length'];_0x3249ac++){const _0x10754e=_0x2bb4b2[_0x3249ac],_0x22d0d2=_0x4eb79a[_0x10754e],_0x39c52e=_0x2e0bdc[_0x10754e]??new Float32Array(0xfd*-0x17+0x28*-0x1a+0x169*0x13);if(_0x22d0d2){let _0x9893a5=null;switch(_0x10754e){case'position':_0x9893a5=new Float32Array(_0x1ad8cd*(0x1a11+-0x6b7*0x5+0x785));break;case'color_opac'+'ity':_0x9893a5=new Uint16Array(_0x1ad8cd*(-0x22f7+0x69a+0x5ad*0x5));break;case'scale':_0x9893a5=new Uint16Array(_0x1ad8cd*(0x272+0x1c31+0x20*-0xf5));break;case'motion':_0x9893a5=new Float32Array(_0x1ad8cd*(-0xa02+-0x1*-0x91b+-0x1*-0xea));break;case'rotation':_0x9893a5=new Float32Array(_0x1ad8cd*(-0x562+-0x2b*-0x5f+0x2*-0x548));break;default:_0x9893a5=new Float32Array(_0x1ad8cd);break;}_0x9893a5['set'](_0x39c52e,0x121+0x79f*-0x5+-0x24fa*-0x1),_0x9893a5['set'](_0x22d0d2,_0x39c52e['length']),_0x2e0bdc[_0x10754e]=_0x9893a5;}}const _0x454c0f={};Object['keys'](_0x2e0bdc)['forEach'](_0xeeb719=>{_0xeeb719==='scale'||_0xeeb719==='color_opac'+'ity'?_0x454c0f[_0xeeb719]=new Uint16Array(_0x2e0bdc[_0xeeb719]['buffer']['slice']()):_0x454c0f[_0xeeb719]=new Float32Array(_0x2e0bdc[_0xeeb719]['buffer']['slice']());});const _0x2ec3b7=Object['keys'](_0x454c0f)['map'](_0x1bc577=>_0x454c0f[_0x1bc577]['buffer']),_0x29ba15=_0x4b77b2(),_0x2d2042=Object['keys'](_0x29ba15)['map'](_0x331247=>_0x29ba15[_0x331247]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x454c0f,'transformData':_0x29ba15},_0x2ec3b7['concat'](_0x2d2042));},_0x4b77b2=()=>{const _0x5bea54=_0x2e0bdc['position']['length']/(0x3*0x44a+-0x1*0x2ea+-0x9f1),_0xecc539=_0x2e0bdc['position'],_0x19124d=_0x2e0bdc['scale'],_0x448ea7=_0x2e0bdc['rotation'],_0x221528=_0x2e0bdc['motion'],_0x5c11f0=_0x2e0bdc['t'],_0x19fe98=_0x2e0bdc['t_scale'],_0x31b575=_0x2e0bdc['time_index'],_0x5e994a=_0x2e0bdc['color_opac'+'ity'],_0x43aba4=(_0x5c11f0==null?void(-0x1f24+-0x2637+0x14f*0x35):_0x5c11f0['length'])>0x461*0x3+0x243f*-0x1+0x171c;let _0x3c9933=null,_0x2f8c45=null,_0x49065b=null,_0x3b54a5=null;_0x43aba4&&(_0x2f8c45=new Float32Array(_0x5bea54*(-0x2*0x1223+0x142b+-0x2*-0x80f)),_0x3b54a5=new Float32Array(_0x5bea54),_0x3c9933=new Float32Array(_0x221528['buffer']['slice']()),_0x49065b=new Float32Array(_0x221528['buffer']['slice']()));const _0x44c61e=new Float32Array(_0xecc539['buffer']['slice']()),_0x20c92d=new Float32Array(_0xecc539['buffer']['slice']()),_0x2c95d2=new Uint16Array(_0x5e994a['buffer']['slice']()),_0x14e20c=new Uint16Array(_0x19124d['buffer']['slice']()),_0x1ea2c1=new Float32Array(_0x448ea7['buffer']['slice']());for(let _0x4fd5ae=-0x25*-0x1d+0x40*0x52+-0x18b1;_0x4fd5ae<_0x5bea54;++_0x4fd5ae)_0x43aba4&&_0x2f8c45&&_0x3b54a5&&(_0x3b54a5[_0x4fd5ae]=_0x19fe98?Math['exp'](_0x19fe98[_0x4fd5ae]):0x64b+-0x372+-0x3*0xf3,_0x2f8c45[_0x4fd5ae*(0x1*0xb3f+-0x63d*0x1+0x4ff*-0x1)+(0x118f+-0x22*0x4f+-0x711)]=_0x5c11f0?_0x5c11f0[_0x4fd5ae]:0x18aa+0x186c+-0x67*0x7a,_0x2f8c45[_0x4fd5ae*(-0x4*-0x38c+0x19ce*-0x1+0xba1)+(-0x1cb3*-0x1+-0x83d+-0x1475)]=_0x3b54a5[_0x4fd5ae]);const _0x178b4e=_0xc02791();let _0x4c5bc5={'dataColor':_0x2c95d2,'dataCenters':_0x20c92d,'dataPosition':_0x44c61e,'dataScale':_0x14e20c,'dataRotation':_0x1ea2c1,..._0x178b4e};return _0x43aba4&&(_0x4c5bc5={..._0x4c5bc5,'dataMotion':_0x3c9933,'dataTime':_0x2f8c45,'motion':_0x49065b,'tScaleArray':_0x3b54a5,'muT':new Float32Array(_0x5c11f0),'timeIndex':new Float32Array(_0x31b575)}),_0x4c5bc5;},_0x25e94e=_0x1a6b20=>{const _0x5c7af4=[];for(let _0x21142c=-0x3*0xce9+-0x486+0x2b41;_0x21142c<_0x1a6b20;++_0x21142c)_0x5c7af4['push'](_0x2e0bdc['f_rest_'+_0x21142c]);return _0x5c7af4;},_0xc02791=()=>{const _0x4076cb=_0x378494();if(_0x4076cb<=-0x1cf7*-0x1+0x145b+-0x3152)return{};const _0x75abcc=_0x2e0bdc['x']['length'],_0x40a183=new Uint32Array(_0x75abcc*(0x1a93*0x1+-0x647*0x2+-0xe01)),_0x56b82d=new Uint32Array(_0x75abcc*(-0x1db5+-0x20b0+0x3e69)),_0x3dbc52=new Uint32Array(_0x75abcc*(0x32d+0x1edb+-0x2204)),_0x191380=new Uint32Array(_0x75abcc*(0x3ce+-0x1ca+-0x10*0x20)),_0x57b369={0x1:0x3,0x2:0x8,0x3:0xf}[_0x4076cb],_0x26b473=_0x25e94e(_0x57b369*(0x77b+0x3*-0x1a3+-0x28f)),_0x3d7900=-0x10e2*-0x1+0x2*-0x1147+0x19ab*0x1,_0x313de0=-0x6de*0x2+0x2bf*-0xb+0x2ff0,_0x20e52e=new Float32Array(0xb29*-0x1+-0xba8+0x2*0xb69),_0x161f56=new Uint32Array(_0x20e52e['buffer']),_0x510852=new Array(_0x57b369*(0x5*-0x67f+-0xaf8+0x2b76*0x1))['fill'](0x5f*0xa+-0x202f+0x1c79);for(let _0x4dc76f=0x29*0xa2+-0xc2*-0x28+-0x3842;_0x4dc76f<_0x75abcc;++_0x4dc76f){for(let _0x1b7697=0x2b4+-0xd3a+0xa86;_0x1b7697<_0x57b369;++_0x1b7697)_0x510852[_0x1b7697*(0x26b5+0x1017+0xaf5*-0x5)]=_0x26b473[_0x1b7697][_0x4dc76f],_0x510852[_0x1b7697*(-0x1bf*0x4+0x2*-0xb0f+0x1d1d*0x1)+(-0x59*-0x8+0x1ffe+0x22c5*-0x1)]=_0x26b473[_0x1b7697+_0x57b369][_0x4dc76f],_0x510852[_0x1b7697*(-0x10b8+0x25*-0xf6+0x3449)+(-0xc9d+0x2*0x819+-0x393)]=_0x26b473[_0x1b7697+_0x57b369*(0x3a5+0x101e*0x1+-0x1*0x13c1)][_0x4dc76f];let _0x410d12=_0x510852[-0x20c+-0x3*0x85b+0x1b1d];for(let _0x40b238=0x167*0x15+-0xe0a+-0xf68;_0x40b238<_0x57b369*(0x62d+0x1bc3*0x1+-0x21ed);++_0x40b238)_0x410d12=Math['max'](_0x410d12,Math['abs'](_0x510852[_0x40b238]));if(_0x410d12!==-0x1542*-0x1+0x1c07+-0x3149){for(let _0x593f42=0x9*-0xfb+0x1d*-0xbd+0x1e3c;_0x593f42<_0x57b369;++_0x593f42)_0x510852[_0x593f42*(-0x22fc+0x229+0x12*0x1d3)+(0x1*0x518+0x441+-0x959)]=Math['max'](-0xd*-0x1b4+-0xc7*-0x12+-0x2422,Math['min'](_0x3d7900,Math['floor']((_0x510852[_0x593f42*(0x18c6+0x2191+0x2*-0x1d2a)+(-0x2*-0x1132+-0x16c8+0x2e7*-0x4)]/_0x410d12*(0x11b6*-0x1+-0x246b+0x1bf*0x1f+0.5)+(-0x55*0x7+0x1bd8+-0x1985+0.5))*_0x3d7900+(-0x12d7+-0x1*0x2498+0x17*0x269+0.5)))),_0x510852[_0x593f42*(0x7a5*-0x4+-0x18cd+0x3764)+(-0x21*0xc1+-0x3b0+0x1c92)]=Math['max'](0x1f38+0x1af2+-0x3a2a,Math['min'](_0x313de0,Math['floor']((_0x510852[_0x593f42*(0x2325+0x8*0x317+-0x3bda)+(-0x1c3d*0x1+0x24*-0xc7+0x383a)]/_0x410d12*(0x14bb+-0x43*0x71+0x8d8+0.5)+(-0x732+-0x1aa2+0x21d4+0.5))*_0x313de0+(0x1*0x5+-0x1c*0x40+0x6fb+0.5)))),_0x510852[_0x593f42*(-0x2*0x788+0x1e40+0x22b*-0x7)+(0x3*-0x703+0x2377+0x8e*-0x1a)]=Math['max'](-0x1172+-0x467*0x3+0x1ea7,Math['min'](_0x3d7900,Math['floor']((_0x510852[_0x593f42*(-0x95a+-0x23e3+-0x5a8*-0x8)+(0xc8f*0x3+-0x2254+0xab*-0x5)]/_0x410d12*(0x4f1*-0x5+0x6ac*0x3+0x4b1+0.5)+(-0x80c+-0xb03*-0x3+-0x18fd*0x1+0.5))*_0x3d7900+(-0x1752+0x2317+0x17*-0x83+0.5))));_0x20e52e[-0x5*-0x27c+-0x1*0x1d9c+-0xb0*-0x19]=_0x410d12,_0x40a183[_0x4dc76f*(-0x18ce+-0xb3b+0x240d)+(0x6f*0x1b+-0x17b*-0xd+-0x2*0xf7a)]=_0x161f56[-0x1*-0x1a53+-0x1d51*-0x1+-0x37a4],_0x40a183[_0x4dc76f*(-0x41*-0x74+0x12d*-0x13+0x1*-0x719)+(-0x19ad+0x57*0x3+0x6b*0x3b)]=_0x510852[0x230e+0x423+-0x2731]<<-0x1*-0x982+-0x19*-0x17a+0x1*-0x2e57|_0x510852[-0x70*0x1a+0xec0+-0x35f]<<0x686*-0x2+0x114+0x19*0x7b|_0x510852[0x8d*-0x11+0xb45*0x1+-0x1e6],_0x40a183[_0x4dc76f*(-0x8*0x2a9+-0x1125*0x2+0x58f*0xa)+(-0x1d1a+-0x362*0x4+0x1552*0x2)]=_0x510852[0xa1c*-0x3+0x26bf+-0x868]<<-0x12cc*-0x1+-0x51*0x20+-0x897|_0x510852[-0x10b4+-0xacb+0x1b83]<<-0x1983+0x35f*0xa+-0x828|_0x510852[-0xf85+-0x10b8+0x2042],_0x40a183[_0x4dc76f*(-0x1*0x220f+-0x1ac*-0xb+0xfaf)+(0x13*0xe8+-0x2616+-0x14e1*-0x1)]=_0x510852[0x3*0x69e+-0x1731*0x1+0x3*0x11f]<<-0x1d*0x4+-0xb12+0x1*0xb9b|_0x510852[-0x1*0x2318+-0x260+0x257f]<<-0x1bfb*0x1+-0x4b2*-0x7+-0x7c*0xa|_0x510852[0x137*-0x3+0x94f+-0xe*0x67],_0x4076cb>0x1e6a+0x1117*-0x1+0x155*-0xa&&(_0x56b82d[_0x4dc76f*(0x338*-0x7+-0x8*0x1e7+0x25c4)+(-0x8*-0x9a+-0x1*-0x3fb+-0x8cb)]=_0x510852[0x1ca2+0x7c9*-0x1+-0x30*0x6f]<<-0xdd5+-0x1628+0xa2*0x39|_0x510852[0x161d+-0x2551+0x79f*0x2]<<0xba8+-0xa*0x24b+0xb51|_0x510852[0x1*0x3fa+0xe51*0x1+-0x1240],_0x56b82d[_0x4dc76f*(0x20*-0x22+0x1*0x1589+-0x1145)+(0x1*-0x217b+-0x2*-0x11de+-0x240)]=_0x510852[0x47*0x3d+-0xa92+-0x1*0x64d]<<-0x1043+-0x1*0x19ed+0x2a45|_0x510852[0x1e03+-0x1265+-0xb91]<<0x2133+0x1036*-0x1+-0x12*0xf1|_0x510852[-0x1898+-0x24d0+0x3d76],_0x56b82d[_0x4dc76f*(-0x1433+-0xc7*0xf+0x1fe0)+(0x3*0x643+-0x37*-0x43+-0x212c)]=_0x510852[0x1549+-0x4*0x24a+-0x6*0x203]<<0x5*0x79f+-0xbe9*-0x1+-0x31ef*0x1|_0x510852[0x4a*0x1b+-0x1352+0x3dc*0x3]<<-0x1b45+0x112b+0x31*0x35|_0x510852[0xa31+0x228a+-0x2caa],_0x56b82d[_0x4dc76f*(-0x69+0x1360+-0x1b9*0xb)+(0x10b1+-0x2b3*-0x7+-0x2393)]=_0x510852[-0xcc*0x9+-0x2584+0x2cc2]<<0x23a4+-0x9fa+0x3*-0x887|_0x510852[-0x1126+-0x11b+0x1254]<<-0x1741+0x72*-0x2a+0x2a00|_0x510852[0x4df*0x7+0x2262+-0x4467],_0x4076cb>-0x2038+0xb6*-0xc+-0x8d*-0x4a?(_0x3dbc52[_0x4dc76f*(0x4f7+-0xe65+0x972)+(-0x1e64+-0x181a+-0x4b*-0xba)]=_0x510852[-0x23e2+-0x2*0x584+0xe3*0x35]<<-0xb*-0x10f+-0xb7b+-0x15|_0x510852[-0x2*0xc97+0x21f9+-0x1*0x8b5]<<-0x1c15+-0x1*0x19fd+-0x361d*-0x1|_0x510852[-0xd7f+0x454+0x942],_0x3dbc52[_0x4dc76f*(0x2*-0x509+0x6f6+0xa*0x50)+(0x6bd*-0x1+-0x46b+-0x1*-0xb29)]=_0x510852[-0x2274+0x18e4+-0x2*-0x4d4]<<-0xd0f+0x1775+-0xa51|_0x510852[-0x18e7+-0x2047*0x1+0x1f*0x1d9]<<0x1bae+-0x3*-0x8ab+-0x35a4|_0x510852[-0xc97*-0x1+0x1*-0x26af+0x1a32],_0x3dbc52[_0x4dc76f*(-0xf9d+-0xeed*0x2+0x2d7b)+(0x1*-0x177b+-0x6e9+0x1e66)]=_0x510852[0x1*-0x2149+0x396+0x1dce]<<0x8e4+-0xaf7+0x17*0x18|_0x510852[-0x1*-0x269f+-0xaf9+0x2*-0xdc5]<<0x2277+0x23cd+-0x4639|_0x510852[-0x1*-0x25d9+0x2385+0x3*-0x186b],_0x3dbc52[_0x4dc76f*(-0xa*0x17+-0x92c+0x2*0x50b)+(-0x259*0x7+0x9*-0x7+0x10b1*0x1)]=_0x510852[0x1690+-0x1*0x8c8+-0xdaa]<<-0x1f62+-0x171b+0x3692|_0x510852[-0xed3+0x2139*0x1+-0x1247]<<0x7c5+0x1351*0x1+-0x1b0b|_0x510852[0x4c9+0xd3*0x8+-0x43*0x2b],_0x191380[_0x4dc76f*(0x161*-0xb+0x25d4+-0x16a5)+(0x837+-0x15af+0xd78)]=_0x510852[-0xcde+-0x1d03+0x2a02]<<-0x26*0x1f+0x31c*0x1+-0x193*-0x1|_0x510852[-0x13*-0x37+-0x2523+0x24*0xec]<<0x1b12+0x1*0x14c6+0x1*-0x2fcd|_0x510852[-0x225e+0xdf5+0x148c],_0x191380[_0x4dc76f*(-0x2*0xfcd+0xf59*-0x1+0x2ef7)+(-0x41d*-0x9+-0x3f*-0x35+-0x320f)]=_0x510852[-0x2*-0x4+-0x347*-0x3+-0x9b9]<<-0xf*0x153+-0x13*-0x12f+-0x15*0x1f|_0x510852[-0x1f2c+0xddc+-0x29*-0x6d]<<0x82b+0xaa1*-0x1+0x281|_0x510852[-0x111f+0xc8a+0x4bb],_0x191380[_0x4dc76f*(0x9e*0x3b+0x18a*0x4+-0x2a8e)+(-0x1cf5+0x1ff8+-0x301)]=_0x510852[-0x1f43+0xbe*-0x13+0x2d84]<<-0xf43+-0xeb4+0x1e0c|_0x510852[-0x647+0x1d32+0x1*-0x16c3]<<-0x3f3*0x4+0x1a1*-0x3+0x14ba|_0x510852[-0x12c8+0x1*-0x33d+0x162e],_0x191380[_0x4dc76f*(-0xb9b*0x3+0xa3a+0x189b)+(0x69*-0x29+0x1745+-0x671)]=_0x510852[-0x1*-0x181+-0x2137+0x1fe0]<<-0x3a8+0x141+-0x3*-0xd4|_0x510852[0x8b9+-0x1498+0xc0a]<<0x9bf*0x1+-0x16c*-0x9+-0x1680|_0x510852[0x1661+0x2134+-0x3769]):_0x3dbc52[_0x4dc76f]=_0x510852[0x441+0x21bd+-0x25e9]<<0xb7*0x2b+-0x124c+-0xc5c|_0x510852[0x8+-0x32c*0x5+0xfea*0x1]<<0x1*0x7cf+0x1*-0x16c6+0x781*0x2|_0x510852[0x1c78+-0x2*0x10cb+0x535*0x1]);}}return{'sh1to3Data':_0x40a183,'sh4to7Data':_0x56b82d,'sh8to11Data':_0x3dbc52,'sh12to15Data':_0x191380};},_0x50597c=_0x3579d0=>{if(!_0x2e0bdc['time_index'])return;const _0x17400c=_0x2e0bdc['time_index']['findIndex'](_0x46b19d=>_0x46b19d===_0x3579d0);let _0x2ec28c=_0x2e0bdc['time_index']['findIndex']((_0x10b5b7,_0x577073)=>_0x10b5b7!==_0x3579d0&&_0x577073>_0x17400c);if(_0x2ec28c===-(0x4*-0x485+0x12ca+-0xb5)&&_0x17400c===-(-0xc9f+-0x272*0xb+0x13c3*0x2))return;_0x2ec28c===-(0x7*-0x336+0x8b3+0x6*0x24c)&&_0x17400c!==-(-0xf8c+-0x479*-0x5+0x2*-0x368)&&(_0x2ec28c=_0x2e0bdc['time_index']['length']),_0x1ad8cd-=_0x2ec28c-_0x17400c,console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20releas'+'eSeqData\x20n'+'umSplats',_0x1ad8cd,_0x2ec28c-_0x17400c);const _0x17a6c4=Object['keys'](_0x2e0bdc);for(let _0x9db5ea=-0x2*0xa0c+0x25ac+-0x1194;_0x9db5ea<_0x17a6c4['length'];_0x9db5ea++){const _0x5815c4=_0x17a6c4[_0x9db5ea],_0x596d71=_0x2e0bdc[_0x5815c4];if(_0x596d71){let _0x56d48f=0x11fa+0x1c64+-0x2e5d;switch(_0x5815c4){case'position':_0x56d48f=-0xbb4+-0x648*-0x2+-0xd9;break;case'color_opac'+'ity':_0x56d48f=0xad6*0x1+-0x26c2+0x1bf*0x10;break;case'scale':_0x56d48f=0x353+0x1cb4+-0x2004;break;case'motion':_0x56d48f=0x127c+0x3*-0xa4a+0xc65;break;case'rotation':_0x56d48f=0x6a1+0x200a+-0x26a8;break;default:_0x56d48f=0x361*0x6+0xc47*-0x1+-0x7fe;break;}const _0x459c93=new Float32Array(_0x1ad8cd*_0x56d48f);_0x17400c>0x193e*0x1+0x1d86*-0x1+0x8*0x89?(_0x459c93['set'](_0x596d71['subarray'](0x20*-0x43+-0x325+0xb85,_0x17400c*_0x56d48f),-0x1b78+0x65*0x49+0xb*-0x1f),_0x459c93['set'](_0x596d71['subarray'](_0x2ec28c*_0x56d48f),_0x17400c*_0x56d48f)):_0x459c93['set'](_0x596d71['subarray'](_0x2ec28c*_0x56d48f),-0x3*-0x2b+-0x2159+0x20d8),_0x2e0bdc[_0x5815c4]=_0x459c93;}}},_0x328e64=()=>{const _0x4e0bc2=Object['keys'](_0x2e0bdc);for(let _0x46fb1a=0x1fc5+-0x1*-0xc3f+-0x2c04*0x1;_0x46fb1a<_0x4e0bc2['length'];_0x46fb1a++){const _0x405848=_0x4e0bc2[_0x46fb1a];_0x2e0bdc[_0x405848]&&(_0x2e0bdc[_0x405848]=[]);}},_0x4e86c9=()=>{_0x2e0bdc={},_0x1ad8cd=-0xc8e*0x2+-0xe7a+0x2*0x13cb;};}class JA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+QA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x450c9a,_0x465c4f,_0x945c9,_0x31d722=!(0x4f1+0x2*0x20+-0x530)){var _0x478223,_0x55a66e;const _0x19ab29={};return _0x450c9a['elements'][0xdb7*0x2+-0xa4a*-0x2+-0x99a*0x5]['properties']['forEach'](_0x2a907a=>{_0x19ab29[_0x2a907a['name']]=_0x2a907a['storage'];}),_0x31d722?(_0x478223=this['worker'])==null||_0x478223['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x19ab29,'timeIndex':_0x465c4f,'timeOption':_0x945c9},_0x450c9a['elements'][-0x1db9*0x1+-0x2690+0x3*0x16c3]['properties']['map'](_0x480265=>_0x480265['storage']['buffer'])):(_0x55a66e=this['worker'])==null||_0x55a66e['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x19ab29,'timeIndex':_0x465c4f,'timeOption':_0x945c9}),new Promise(_0x23f56a=>{this['worker']['onmessage']=_0x3c5446=>{if(!this['worker'])return;const {data:_0xb030bb}=_0x3c5446;_0xb030bb['type']==='newAppendD'+'ata'&&_0x23f56a(_0xb030bb);};});}async['releaseSeq'+'Data'](_0x88a833){var _0x3e1151;(_0x3e1151=this['worker'])==null||_0x3e1151['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x88a833});}async['releaseAll'+'SeqData'](){var _0x2abe5f;(_0x2abe5f=this['worker'])==null||_0x2abe5f['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x15869f;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x15869f=this['worker'])==null||_0x15869f['terminate'](),this['worker']=null);}}const gc=new te(),gg=new le(),eC=new ie(-0x184+0x36e*-0xa+0x23d1,-0xf38*-0x1+-0x7fb*0x1+-0x1*0x73c,-0xee+-0x2631+0x271f,0x17*0x16d+-0x1058+-0x1*0x1073+0.4),Sg=0x3fe36+0x22e67+-0x31f5d;class tC{constructor(_0x3db68d,_0x17961,_0x5995bc,_0x4494a7,_0x224144,_0x4f0345){const _0x4fa8ad=_0x3db68d['getProp']('position'),_0x41a58c=_0x3db68d['getProp']('color_opac'+'ity'),_0x405c75=_0x3db68d['getProp']('scale'),_0x32d065=_0x3db68d['getProp']('motion'),_0x16ff85=_0x3db68d['getProp']('rotation');this['read']=_0x5c50d6=>{_0x17961&&_0x17961['set'](_0x4fa8ad[_0x5c50d6*(0x188a+0x2*0x45d+-0x2141*0x1)+(0x348+-0x9ef*0x1+-0xd*-0x83)],_0x4fa8ad[_0x5c50d6*(0x77e+-0x2247+0x3d4*0x7)+(0xed7+0x2c5*0xd+-0x32d7)],_0x4fa8ad[_0x5c50d6*(0x1fdf+0x3*0x511+-0x7*0x6b9)+(-0xdf*0x25+-0x2508+0x4545)]),_0x5995bc&&_0x5995bc['set'](_0x16ff85[_0x5c50d6*(0x146+0x1*0x2324+-0x2467)+(0x590+-0xc34*0x3+0x1f0c)],_0x16ff85[_0x5c50d6*(0x1c0+-0x1*0x224d+0x2090)+(0x733*-0x5+-0x1858+-0x2*-0x1e2c)],_0x16ff85[_0x5c50d6*(-0x6*0x425+-0x423+0x1d04)+(0x1*-0xb07+0x22c6+-0x17bd)]),_0x4494a7&&_0x4494a7['set'](_0x405c75[_0x5c50d6*(0x9eb*-0x2+0x5*0xd6+-0x23d*-0x7)+(-0x22b1+0x852+0x1a5f)],_0x405c75[_0x5c50d6*(0x95*0x31+-0x201f*0x1+0x39d*0x1)+(0x132f*-0x1+0x245*0x5+-0x29d*-0x3)],_0x405c75[_0x5c50d6*(-0x79*0x3b+0x1*-0x1906+-0x34ec*-0x1)+(-0x1*-0xd82+0xc26+-0x19a6)]),_0x4f0345&&_0x32d065&&_0x4f0345['set'](_0x32d065[_0x5c50d6*(0x2129+0x25*-0x1e+-0x1cd0)+(-0xa16*-0x1+0x19e6+-0x23fc)],_0x32d065[_0x5c50d6*(0xdd5+-0x2274+0x14a2)+(-0x1*-0x1f1b+-0x761*-0x1+-0x1*0x267b)],_0x32d065[_0x5c50d6*(0x8*-0x277+0x1*-0x2380+0x373b*0x1)+(0xeb*-0x1+-0x604*0x1+0x6f1)]),_0x224144&&_0x224144['set'](_0x41a58c[_0x5c50d6*(-0xd68+0x14ef+-0x783)+(-0x2153+0x10a0+0x1db*0x9)],_0x41a58c[_0x5c50d6*(-0xc3d*0x3+-0x35*-0x19+-0x2*-0xfc7)+(-0x7bc*-0x5+0x22ea*0x1+-0x4995)],_0x41a58c[_0x5c50d6*(-0x1*-0x209e+0x2*-0x6cb+-0x1304)+(0x11*0x1cd+0x62*-0x62+0x6e9)],_0x41a58c[_0x5c50d6*(0x13*0xb3+0x539+-0x127e)+(-0x8*-0x16f+0x9a8*-0x4+-0x217*-0xd)]);};}}const sC=(_0x55a510,_0x266c34,_0x30029a)=>{gg['set'](_0x30029a['x'],_0x30029a['y'],_0x30029a['z'],_0x30029a['w'])['normalize'](),_0x55a510['setTRS'](_0x266c34,gg,D['ONE']);};class iC{constructor(_0x2d1b0b,_0x26cbaa=[],_0x426242=[]){h(this,'elements'),h(this,'properties'),h(this,'numSplats',-0x2148+-0x1*-0x11b5+0xf93),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x4faedc;(_0x4faedc=this['dataWorker'])==null||_0x4faedc['destroy'](),this['dataWorker']=null;});var _0x5163f1,_0x128ad8,_0x50f73f;this['elements']=_0x2d1b0b,this['properties']=_0x426242,this['numSplats']=((_0x5163f1=this['getElement']('vertex'))==null?void(-0xb15+-0x2051+0x457*0xa):_0x5163f1['count'])??0xce1*0x3+-0x14e6+0x11bd*-0x1,this['comments']=_0x26cbaa,this['is4D']=!!((_0x50f73f=(_0x128ad8=this['getElement']('vertex'))==null?void(0x26ab+0x1*-0x1a84+-0xc27):_0x128ad8['properties']['find'](_0x1c3462=>_0x1c3462['name']==='t'))!=null&&_0x50f73f['storage']);}async['appendGSpl'+'atData'](_0x3a38e0,_0x349488,_0x2d8a2a){var _0xbde86d;let _0x2ee659=-0x11*0x209+-0xb0e*0x2+0x38b5;for(let _0x2a73f8=0x203f+0x2453+0x1*-0x4492;_0x2a73f8<_0x2d8a2a['length']&&_0x349488>_0x2d8a2a[_0x2a73f8];_0x2a73f8+=0x1*-0xdc7+-0x2*-0xd70+-0xd17)_0x2ee659=_0x2a73f8/(-0x30c*0x1+-0x1b*0x27+0x72b);this['dataWorker']||(this['dataWorker']=new JA(),await this['dataWorker']['appendGSpl'+'atData'](this,-0x1a1*0x3+-0x1e5d+0x20*0x11a,_0x2d8a2a));const _0x294108=this['getElement']('vertex');_0x294108&&(_0x294108['count']=this['numSplats']);const _0x5be4ac=await this['dataWorker']['appendGSpl'+'atData'](_0x3a38e0,_0x2ee659,_0x2d8a2a,!(-0x1ffa+0x1a45+0x5b5*0x1)),_0x2a7802=_0x5be4ac['properties'],_0x5ad919=((_0xbde86d=this['getElement']('vertex'))==null?void(-0xa39+-0x25ed+0x3026):_0xbde86d['properties'])??[];for(const _0xd7ef2e in _0x2a7802){const _0x45763b=_0x5ad919['find'](_0x4f5a56=>_0x4f5a56['name']===_0xd7ef2e);_0x45763b?_0x45763b['storage']=_0x2a7802[_0xd7ef2e]:_0x5ad919['push']({'type':'float','name':_0xd7ef2e,'storage':_0x2a7802[_0xd7ef2e],'byteSize':0x4});}this['transformD'+'ata']=_0x5be4ac['transformD'+'ata'],this['numSplats']=_0x2a7802['position']['length']/(0xf53+-0x115e+-0x107*-0x2);}async['releaseSeq'+'Data'](_0x46c60b){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'leaseSeqDa'+'ta',_0x46c60b),this['dataWorker']['releaseSeq'+'Data'](_0x46c60b),this;}async['releaseAll'+'SeqData'](){var _0x55f7d2;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'lease\x20all\x20'+'SeqData'),(_0x55f7d2=this['dataWorker'])==null||_0x55f7d2['releaseAll'+'SeqData'](),this;}['getProp'](_0x3da6ef,_0x129f59='vertex'){var _0x364a46,_0x45cd49;return(_0x45cd49=(_0x364a46=this['getElement'](_0x129f59))==null?void(-0x135e+0x1c6*0x2+0xfd2):_0x364a46['properties']['find'](_0x4f5b4e=>_0x4f5b4e['name']===_0x3da6ef))==null?void(0x597+-0x377*-0x1+-0x487*0x2):_0x45cd49['storage'];}['getElement'](_0x3dd2a6){return this['elements']['find'](_0x476de8=>_0x476de8['name']===_0x3dd2a6);}['createIter'](_0x4ec884,_0x151b88,_0x4795a2,_0x41cf73,_0x4e6450){return new tC(this,_0x4ec884,_0x151b88,_0x4795a2,_0x41cf73,_0x4e6450);}['calcAabb'](_0x1b59aa,_0x3588eb){let _0xe30dbc=-0x4cf*0x6+0x17f3*0x1+-0x5*-0xfb,_0x5838cd=-0xe*0x12d+0x19a2+-0x92c,_0x522140=-0x1f3*-0x14+0x8bf+-0x2fbb,_0x12e4d6=-0x9*0x269+-0x26*-0x44+0xb99*0x1,_0x237e6f=0xca2+-0x1c64+0x2*0x7e1,_0x30f5b3=0x54d+0x35d+-0x8aa,_0x182765=!(-0x297+-0x2158+0x23ef);const _0xe0868c=this['getProp']('position'),_0x57f3fe=this['getProp']('scale');for(let _0x7c2727=-0x6a1*-0x2+-0x18e0+0x1*0xb9e;_0x7c2727<this['numSplats'];++_0x7c2727){if(_0x3588eb&&!_0x3588eb(_0x7c2727))continue;const _0x53912f=_0xe0868c[_0x7c2727*(0x1711+0x948+-0x2056)+(-0x226d+-0x12e3+0x3550)],_0x243d98=_0xe0868c[_0x7c2727*(-0x66a+0x2163+0x22*-0xcb)+(0xbb9*-0x1+-0x8f0+0x14aa)],_0x2864e5=_0xe0868c[_0x7c2727*(-0xfd2+0x1fd*-0x7+0x1*0x1dc0)+(0x20dc+-0x1454+-0xc86)],_0x59a21f=Math['max'](_0x57f3fe[_0x7c2727*(-0x895+0x209*-0x7+-0x79d*-0x3)+(-0xe85+-0x7ed+0x1672)],_0x57f3fe[_0x7c2727*(-0x2663*-0x1+-0x5c5*-0x1+0x2c25*-0x1)+(-0xfd6+-0x246d+0x3444)],_0x57f3fe[_0x7c2727*(0x38b*0x3+0x151a+0x196*-0x14)+(-0xb19+0x74f+0x3cc)]);if(!isFinite(_0x53912f)||!isFinite(_0x243d98)||!isFinite(_0x2864e5)||!isFinite(_0x59a21f))continue;const _0x5db84c=(-0x1*0x24c9+-0x91*0x16+0x3141)*Math['exp'](_0x59a21f);_0x182765?(_0x182765=!(-0x120a+0x1*0x2472+-0x1267),_0xe30dbc=_0x53912f-_0x5db84c,_0x5838cd=_0x243d98-_0x5db84c,_0x522140=_0x2864e5-_0x5db84c,_0x12e4d6=_0x53912f+_0x5db84c,_0x237e6f=_0x243d98+_0x5db84c,_0x30f5b3=_0x2864e5+_0x5db84c):(_0xe30dbc=Math['min'](_0xe30dbc,_0x53912f-_0x5db84c),_0x5838cd=Math['min'](_0x5838cd,_0x243d98-_0x5db84c),_0x522140=Math['min'](_0x522140,_0x2864e5-_0x5db84c),_0x12e4d6=Math['max'](_0x12e4d6,_0x53912f+_0x5db84c),_0x237e6f=Math['max'](_0x237e6f,_0x243d98+_0x5db84c),_0x30f5b3=Math['max'](_0x30f5b3,_0x2864e5+_0x5db84c));}return _0x182765||(_0x1b59aa['center']['set']((_0xe30dbc+_0x12e4d6)*(-0x1325+0x277+0x7a*0x23+0.5),(_0x5838cd+_0x237e6f)*(0x775*0x4+0xbd8+-0x29ac+0.5),(_0x522140+_0x30f5b3)*(-0x617+-0x1*0x4d6+0x1*0xaed+0.5)),_0x1b59aa['halfExtent'+'s']['set']((_0x12e4d6-_0xe30dbc)*(0x272*0x5+-0x3*0xa97+0x138b+0.5),(_0x237e6f-_0x5838cd)*(-0x128c+0x30d*0x6+-0x1f*-0x2+0.5),(_0x30f5b3-_0x522140)*(-0x1*-0xa+0x1*0x473+-0x47d+0.5))),!_0x182765;}['yieldToMai'+'n'](){var _0x29eab8;return(_0x29eab8=globalThis['scheduler'])!=null&&_0x29eab8['yield']?globalThis['scheduler']['yield']():new Promise(_0x1a2d76=>{setTimeout(_0x1a2d76,-0x13bd+-0x1459+0x2816*0x1);});}async['getCenters'](_0x35abc8){const _0x44d2ed=this['getProp']('x'),_0x3d71af=this['getProp']('y'),_0x4b0684=this['getProp']('z');for(let _0xf9b0b1=-0x1dbb+0xce2+0x10d9;_0xf9b0b1<this['numSplats'];++_0xf9b0b1)_0x35abc8[_0xf9b0b1*(0xad7+-0x2664*-0x1+-0xb4*0x46)+(-0x674+-0x140*-0xd+-0x9cc)]=_0x44d2ed[_0xf9b0b1],_0x35abc8[_0xf9b0b1*(-0xa8e+-0x1*0x2045+0x2ad6*0x1)+(0xb2f+0xb*0x163+-0x1a6f)]=_0x3d71af[_0xf9b0b1],_0x35abc8[_0xf9b0b1*(0x835+-0x26fd+0x1ecb)+(-0x5*0x293+-0xd1c+0x19fd)]=_0x4b0684[_0xf9b0b1],_0xf9b0b1%Sg===-0x1*-0x1dd2+0x188*-0x4+-0x9*0x2a2&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x163f0a;if((_0x163f0a=this['transformD'+'ata'])!=null&&_0x163f0a['muT'])return this['transformD'+'ata']['muT'];const _0x1efdd6=this['getProp']('t');return _0x1efdd6?new Float32Array(_0x1efdd6):void(0x14ab+0x9c4+-0x1e6f);}async['getTScale'](){const _0x23328e=this['getProp']('t_scale');if(!_0x23328e)return;const _0x540a73=new Float32Array(this['numSplats']);for(let _0x473ab3=0x22d1*0x1+0x5e5+-0x3*0xd92;_0x473ab3<this['numSplats'];++_0x473ab3)_0x540a73[_0x473ab3]=Math['exp'](_0x23328e[_0x473ab3]),_0x473ab3%Sg===-0x4*-0x75e+-0xb19+-0x125f*0x1&&await this['yieldToMai'+'n']();return _0x540a73;}['getMotion'](_0x533ef5){const _0x5e808f=this['getProp']('motion');_0x5e808f&&new Float32Array(_0x5e808f['buffer']['slice']());}['getTimeInd'+'ex'](){var _0x41f004;if((_0x41f004=this['transformD'+'ata'])!=null&&_0x41f004['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x3d7f63=this['getProp']('time_index');if(_0x3d7f63)return new Float32Array(_0x3d7f63);}['calcFocalP'+'oint'](_0x524d00,_0x3d2adb){const _0x3f3695=this['getProp']('position'),_0x1b7e4a=this['getProp']('scale');_0x524d00['x']=-0x15b6+0x1b*-0x5a+0xf9a*0x2,_0x524d00['y']=-0x14e5+0x1539+-0x54,_0x524d00['z']=-0x7a*-0x15+0x1*-0x2d4+-0x72e;let _0x1d096a=0x223d+-0x2635+-0x2*-0x1fc;for(let _0x4a158a=0x2030+-0xd5+0x17*-0x15d;_0x4a158a<this['numSplats'];++_0x4a158a){if(_0x3d2adb&&!_0x3d2adb(_0x4a158a))continue;const _0x4bac15=_0x3f3695[_0x4a158a*(0x696*0x3+0xe29+-0x364*0xa)+(0xbbf+-0x2091+-0x1*-0x14d2)],_0x5f5c73=_0x3f3695[_0x4a158a*(-0x425+0x1bd3+-0x53*0x49)+(-0x4*-0x205+0x10*0x79+0x1*-0xfa3)],_0x3a1b8e=_0x3f3695[_0x4a158a*(-0x216d+-0x118*-0x1d+-0x2c*-0xa)+(0xaeb+-0x3*0x6b+-0x2*0x4d4)];if(!isFinite(_0x4bac15)||!isFinite(_0x5f5c73)||!isFinite(_0x3a1b8e))continue;const _0x43edd7=(-0x827*-0x1+-0x1*0x1927+0x1101)/(-0x26*0xab+-0x174f+-0x2e*-0x10f+Math['max'](_0x1b7e4a[_0x4a158a*(0x1bf*0xf+0x1e01+-0x382f)+(-0x605*-0x5+0x77*-0x4d+-0x36*-0x1b)],_0x1b7e4a[_0x4a158a*(0x2510+0x1*-0x3fd+-0x2110)+(-0x163*0x16+-0x14f9+0x337c)],_0x1b7e4a[_0x4a158a*(-0x171*0x14+0x1db5+-0xde)+(-0xc7*0x1+0x751+-0x688)]));_0x524d00['x']+=_0x4bac15*_0x43edd7,_0x524d00['y']+=_0x5f5c73*_0x43edd7,_0x524d00['z']+=_0x3a1b8e*_0x43edd7,_0x1d096a+=_0x43edd7;}_0x524d00['mulScalar']((0x3a9*0x1+0x14a0+0x2*-0xc24)/_0x1d096a);}['renderWire'+'frameBound'+'s'](_0x23518c,_0x2f5af3){const _0x13939e=new D(),_0x209bc0=new le(),_0x2bfc2f=new D(),_0x209e62=new D(),_0x2bfea8=new D(),_0x318439=this['createIter'](_0x13939e,_0x209bc0,_0x2bfc2f);for(let _0x29e060=-0x3*-0x203+0x50b*-0x2+0x40d;_0x29e060<this['numSplats'];++_0x29e060)_0x318439['read'](_0x29e060),sC(gc,_0x13939e,_0x209bc0),gc['mul2'](_0x2f5af3,gc),_0x209e62['set'](_0x2bfc2f['x']*-(0x604*-0x3+-0x1*-0x32d+-0xee1*-0x1),_0x2bfc2f['y']*-(-0x24eb+-0xd22+0x320f),_0x2bfc2f['z']*-(0x1*-0x254f+0x5*-0x29d+-0x2*-0x1931)),_0x2bfea8['set'](_0x2bfc2f['x']*(-0x1b73+0x32*0x3+-0x1adf*-0x1),_0x2bfc2f['y']*(-0x1f*-0x73+0xc5f*-0x3+0x1732),_0x2bfc2f['z']*(0x1f*0x70+-0x1c1+-0x13*0x9f)),_0x23518c['immediate']['drawWireAl'+'ignedBox'](_0x209e62,_0x2bfea8,eC,!(-0x1582+0x1c9*0x5+0xc95),_0x23518c['defaultDra'+'wLayer'],gc);}get['isCompress'+'ed'](){return!(0x16*0xf8+-0x11fe+0x351*-0x1);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x3c5cf6=-0x3*0x367+0x1829+-0xdf4;_0x3c5cf6<0x17f2+0x213+-0x19d8;++_0x3c5cf6)if(!this['getProp']('f_rest_'+_0x3c5cf6))return _0x3c5cf6;return-0xc37+0x2245+-0x15e1;})())]??-0x1ea*0x14+0x25bf+0x89;}['calcMorton'+'Order'](){const _0x228674=_0x17df38=>{let _0x1441a3=_0x17df38[-0x2700+-0x2*0xcdd+0x40ba],_0x2f833c=_0x17df38[-0x125*-0x16+0x209+-0x1b37*0x1];for(let _0x49f10a=0x790+0x13d9*0x1+-0x1b68;_0x49f10a<_0x17df38['length'];_0x49f10a++)_0x17df38[_0x49f10a]<_0x1441a3&&(_0x1441a3=_0x17df38[_0x49f10a]),_0x17df38[_0x49f10a]>_0x2f833c&&(_0x2f833c=_0x17df38[_0x49f10a]);return{'min':_0x1441a3,'max':_0x2f833c};},_0x234228=(_0x16fc47,_0x1397ca,_0x462058)=>{const _0x3ab508=_0x38e07f=>(_0x38e07f&=0x1740+-0xddc+0x565*-0x1,_0x38e07f=(_0x38e07f^_0x38e07f<<0x18cf+-0x385*-0x2+-0x1fc9)&-0x232*0xc7764b+0x1c3889883+0x3b02*0x41711,_0x38e07f=(_0x38e07f^_0x38e07f<<-0x18a*-0x5+-0x1bef*0x1+0x1445)&0x16fb38+0x18abdba+-0x15f371d*-0x1,_0x38e07f=(_0x38e07f^_0x38e07f<<0x17ad+-0x21e1+0xa38)&-0x373e*0x17c1+0x5823fb2+0x1b155*0x193,_0x38e07f=(_0x38e07f^_0x38e07f<<0xc0b*-0x1+-0xfe*-0x9+-0x11*-0x2f)&0x1*-0x65768e1+0x1*-0x5d8c7f9+0x5*0x4442707,_0x38e07f);return(_0x3ab508(_0x462058)<<0x12c5+-0x15b*-0x10+-0x2873)+(_0x3ab508(_0x1397ca)<<-0x3fb+-0xeed*-0x1+0xaf1*-0x1)+_0x3ab508(_0x16fc47);},_0x5caf3c=this['getProp']('x'),_0xb6d000=this['getProp']('y'),_0x1c3639=this['getProp']('z'),{min:_0x358b16,max:_0x5ca113}=_0x228674(_0x5caf3c),{min:_0x1e6187,max:_0x5aeee9}=_0x228674(_0xb6d000),{min:_0x26dc80,max:_0x1a3305}=_0x228674(_0x1c3639),_0x5d9bbb=_0x358b16===_0x5ca113?-0x1a*0xb5+-0x1*-0x237d+-0x1d*0x97:(0x1*-0x24f5+0x1d75*0x1+0xb8*0x10)/(_0x5ca113-_0x358b16),_0x4466e5=_0x1e6187===_0x5aeee9?-0xfc3+0x1d62+-0xd9f:(0x367*0x6+-0x1307+-0x29d*-0x1)/(_0x5aeee9-_0x1e6187),_0x4aacd8=_0x26dc80===_0x1a3305?-0x3*0x78e+0x8d8+0xdd2:(-0x1602+0x579+0x1489)/(_0x1a3305-_0x26dc80),_0x289200=new Map();for(let _0x17b75a=-0x674+-0x205d+0x26d1;_0x17b75a<this['numSplats'];_0x17b75a++){const _0x4ee032=Math['min'](0x1*-0x1a8d+0x2f*0x35+0x14d1*0x1,Math['floor']((_0x5caf3c[_0x17b75a]-_0x358b16)*_0x5d9bbb)),_0x28ddff=Math['min'](-0x7*-0xa7+-0xd*-0x17f+-0x1405,Math['floor']((_0xb6d000[_0x17b75a]-_0x1e6187)*_0x4466e5)),_0x5ae732=Math['min'](-0x231d+0x2302+0x41a,Math['floor']((_0x1c3639[_0x17b75a]-_0x26dc80)*_0x4aacd8)),_0x2c55f7=_0x234228(_0x4ee032,_0x28ddff,_0x5ae732),_0x4f4453=_0x289200['get'](_0x2c55f7);_0x4f4453?_0x4f4453['push'](_0x17b75a):_0x289200['set'](_0x2c55f7,[_0x17b75a]);}const _0x51b8d7=Array['from'](_0x289200['keys']())['sort']((_0xdfbf5,_0xc7f885)=>_0xdfbf5-_0xc7f885),_0x5e96e4=new Uint32Array(this['numSplats']);let _0x10d4ae=-0xd08*-0x1+0x493+-0x1*0x119b;for(let _0x2b5c8e=0xd0a+0x16ed+0xbfd*-0x3;_0x2b5c8e<_0x51b8d7['length'];++_0x2b5c8e){const _0x441b8f=_0x289200['get'](_0x51b8d7[_0x2b5c8e]);for(let _0x357aed=-0x146c*-0x1+0x47*-0x83+0xfe9;_0x357aed<_0x441b8f['length'];++_0x357aed)_0x5e96e4[_0x10d4ae++]=_0x441b8f[_0x357aed];}return _0x5e96e4;}['reorder'](_0x4952be){const _0x53b307=new Map(),_0x14d354=_0x18fdd9=>{if(_0x53b307['has'](_0x18fdd9)){const _0x496142=_0x53b307['get'](_0x18fdd9);return _0x53b307['delete'](_0x18fdd9),_0x496142;}return new ArrayBuffer(_0x18fdd9);},_0x5176de=_0x338f72=>{_0x53b307['set'](_0x338f72['byteLength'],_0x338f72);},_0x19c714=_0x42f435=>{const _0xc109b9=new _0x42f435['constructo'+'r'](_0x14d354(_0x42f435['byteLength']));for(let _0x3c5bb5=-0x19*-0x1b+-0x12d3+-0x206*-0x8;_0x3c5bb5<_0x4952be['length'];_0x3c5bb5++)_0xc109b9[_0x3c5bb5]=_0x42f435[_0x4952be[_0x3c5bb5]];return _0x5176de(_0x42f435['buffer']),_0xc109b9;};this['elements']['forEach'](_0x15f223=>{_0x15f223['properties']['forEach'](_0x3bc22a=>{_0x3bc22a['storage']&&(_0x3bc22a['storage']=_0x19c714(_0x3bc22a['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const rC='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20void\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.0,\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a',aC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'vec4\x20packR'+'gb(vec3\x20v)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uvec3\x20vb\x20'+'=\x20uvec3(cl'+'amp(v,\x20vec'+'3(0.0),\x20ve'+'c3(1.0))\x20*'+'\x20vec3(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uint\x20bits\x20'+'=\x20(vb.x\x20<<'+'\x2021)\x20|\x20(vb'+'.y\x20<<\x2010)\x20'+'|\x20vb.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4((u'+'vec4(bits)'+'\x20>>\x20uvec4('+'24,\x2016,\x208,'+'\x200))\x20&\x20uve'+'c4(0xff))\x20'+'/\x20vec4(255'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20vec3\x20dir'+';\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20sampler2'+'D\x20centroid'+'s;\x0a\x20\x20\x20\x20uni'+'form\x20mediu'+'mp\x20float\x20s'+'hN_mins;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20f'+'loat\x20shN_m'+'axs;\x0a\x0a\x20\x20\x20\x20'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ivec'+'2\x20uv\x20=\x20ive'+'c2(gl_Frag'+'Coord.xy)\x20'+'*\x20ivec2(SH'+'_COEFFS,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20mediump\x20v'+'ec3\x20coeffi'+'cients[SH_'+'COEFFS];\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(int\x20i\x20=\x20'+'0;\x20i\x20<\x20SH_'+'COEFFS;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20s\x20=\x20texe'+'lFetch(cen'+'troids,\x20iv'+'ec2(uv.x\x20+'+'\x20i,\x20uv.y),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20coefficie'+'nts[i]\x20=\x20m'+'ix(vec3(sh'+'N_mins),\x20v'+'ec3(shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20packRgb'+'(evalSH(co'+'efficients'+',\x20dir)\x20*\x200'+('.25\x20+\x200.5)'+';\x0a\x20\x20\x20\x20}\x0a'),nC='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput:\x20Vert'+'exInput)\x20-'+'>\x20VertexOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Ver'+'texOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a',oC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'fn\x20packRgb'+'(v:\x20vec3f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vb\x20=\x20v'+'ec3u(clamp'+'(v,\x20vec3f('+'0.0),\x20vec3'+'f(1.0))\x20*\x20'+'vec3f(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20bits\x20='+'\x20dot(vb,\x20v'+'ec3u(1\x20<<\x20'+'21,\x201\x20<<\x201'+'0,\x201));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(('+'vec4u(bits'+')\x20>>\x20vec4u'+'(24,\x2016,\x208'+',\x200))\x20&\x20ve'+'c4u(0xff))'+'\x20/\x20vec4f(2'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20un'+'iform\x20dir:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'shN_mins:\x20'+'f32;\x0a\x20\x20\x20\x20u'+'niform\x20shN'+'_maxs:\x20f32'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20centroids'+':\x20texture_'+'2d<f32>;\x0a\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input:'+'\x20FragmentI'+'nput)\x20->\x20F'+'ragmentOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20uv\x20=\x20'+'vec2i(inpu'+'t.position'+'.xy)\x20*\x20vec'+'2i(SH_COEF'+'FS,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'coefficien'+'ts:\x20array<'+'vec3f,\x20SH_'+'COEFFS>;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x200;\x20i\x20'+'<\x20SH_COEFF'+'S;\x20i++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s:\x20v'+'ec3f\x20=\x20tex'+'tureLoad(c'+'entroids,\x20'+'vec2i(uv.x'+'\x20+\x20i,\x20uv.y'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20coeffic'+'ients[i]\x20='+'\x20mix(vec3f'+'(uniform.s'+'hN_mins),\x20'+'vec3f(unif'+('orm.shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20packRgb'+'(evalSH(&c'+'oefficient'+'s,\x20uniform'+'.dir)\x20*\x200.'+'25\x20+\x200.5);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20}'+'\x0a'),lC='\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20sampler2D'+'\x20sh0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x20\x20\x20\x20u'+'niform\x20med'+'iump\x20sampl'+'er2D\x20sh_re'+'sult;\x0a\x0a\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20sh0_mi'+'ns;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20sh0_maxs;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20SH_C0\x20=\x20'+'0.28209479'+'177387814;'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'npack\x2011,\x20'+'11,\x2010\x20nor'+'malized\x20va'+'lue\x20from\x20r'+'gba8\x20textu'+'re\x20sample\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackRgb(v'+'ec4\x20v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uve'+'c4\x20uv\x20=\x20uv'+'ec4(v\x20*\x2025'+'5.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uint\x20b'+'its\x20=\x20(uv.'+'x\x20<<\x2024)\x20|'+'\x20(uv.y\x20<<\x20'+'16)\x20|\x20(uv.'+'z\x20<<\x208)\x20|\x20'+'uv.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uvec3\x20'+'vb\x20=\x20(uvec'+'3(bits)\x20>>'+'\x20uvec3(21,'+'\x2010,\x200))\x20&'+'\x20uvec3(0x7'+'ffu,\x200x7ff'+'u,\x200x3ffu)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3(vb)\x20/\x20ve'+'c3(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20baseSampl'+'e\x20=\x20mix(sh'+'0_mins,\x20sh'+'0_maxs,\x20te'+'xelFetch(s'+'h0,\x20source'+'.uv,\x200));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20resolve\x20'+'base\x20color'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4\x20base\x20='+'\x20vec4(vec3'+'(0.5)\x20+\x20ba'+'seSample.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'baseSample'+'.w)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'xtract\x20sph'+'erical\x20har'+'monics\x20pal'+'ette\x20index'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20label'+'Sample\x20=\x20i'+'vec2(texel'+'Fetch(sh_l'+'abels,\x20sou'+'rce.uv,\x200)'+'.xy\x20*\x20255.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20int\x20n\x20=\x20'+('labelSampl'+'e.x\x20+\x20labe'+'lSample.y\x20'+'*\x20256;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shSample\x20'+'=\x20texelFet'+'ch(sh_resu'+'lt,\x20ivec2('+'n\x20%\x2064,\x20n\x20'+'/\x2064),\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20sh\x20=\x20('+'unpackRgb('+'shSample)\x20'+'-\x20vec3(0.5'+'))\x20*\x204.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'(base.xyz\x20'+'+\x20sh,\x20base'+'.w);\x0a\x20\x20\x20\x20}'+'\x0a'),cC='\x0a\x20\x20\x20\x20var\x20s'+'h0:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'h_labels:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20sh_re'+'sult:\x20text'+'ure_2d<f32'+'>;\x0a\x0a\x20\x20\x20\x20un'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20sh0_m'+'axs:\x20vec4f'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20SH_C0:\x20'+'f32\x20=\x200.28'+'2094791773'+'87814;\x0a\x0a\x20\x20'+'\x20\x20//\x20unpac'+'k\x2011,\x2011,\x20'+'10\x20normali'+'zed\x20value\x20'+'from\x20rgba8'+'\x20texture\x20s'+'ample\x0a\x20\x20\x20\x20'+'fn\x20unpackR'+'gb(v:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20bits'+'\x20=\x20dot(vec'+'4u(v\x20*\x20255'+'.0),\x20vec4u'+'(1u\x20<<\x2024,'+'\x201u\x20<<\x2016,'+'\x201u\x20<<\x208,\x20'+'1u));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20vb'+'\x20=\x20(vec3u('+'bits)\x20>>\x20v'+'ec3u(21,\x201'+'0,\x200))\x20&\x20v'+'ec3u(0x7ff'+'u,\x200x7ffu,'+'\x200x3ffu);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec3f'+'(vb)\x20/\x20vec'+'3f(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20f'+'n\x20readColo'+'r(source:\x20'+'ptr<functi'+'on,\x20SplatS'+'ource>)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'baseSample'+':\x20vec4f\x20=\x20'+'mix(unifor'+'m.sh0_mins'+',\x20uniform.'+'sh0_maxs,\x20'+'textureLoa'+'d(sh0,\x20sou'+'rce.uv,\x200)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20base\x20'+'=\x20vec4f(ve'+'c3f(0.5)\x20+'+'\x20baseSampl'+'e.xyz\x20*\x20SH'+'_C0,\x201.0\x20/'+'\x20(1.0\x20+\x20ex'+'p(-baseSam'+'ple.w)));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20extract\x20'+'spherical\x20'+'harmonics\x20'+'palette\x20in'+'dex\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20labe'+'lSample:\x20v'+'ec2i\x20=\x20vec'+'2i(texture'+'Load(sh_la'+'bels,\x20sour'+'ce.uv,\x200).'+'xy\x20*\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20n\x20=\x20l'+('abelSample'+'.x\x20+\x20label'+'Sample.y\x20*'+'\x20256;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hSample:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(s'+'h_result,\x20'+'vec2i(n\x20%\x20'+'64,\x20n\x20/\x2064'+'),\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'h:\x20vec3f\x20='+'\x20(unpackRg'+'b(shSample'+')\x20-\x20vec3f('+'0.5))\x20*\x204.'+'0;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(base.'+'xyz\x20+\x20sh,\x20'+'base.w);\x0a\x20'+'\x20\x20\x20}\x0a'),hC=(_0x2fedfc,_0x29fc1e)=>{for(const _0x1a49d9 in _0x29fc1e)_0x2fedfc['resolve'](_0x1a49d9)['setValue'](_0x29fc1e[_0x1a49d9]);};class dC extends ys{constructor(){super(...arguments),h(this,'executeCal'+'lback',null);}['execute'](){var _0x99af2f;(_0x99af2f=this['executeCal'+'lback'])==null||_0x99af2f['call'](this);}}const yg=new te(),uo=new D();class fC{constructor(_0x6544fe,_0x1d931d){h(this,'prevDir',new D()),h(this,'updateMode','enable'),(this['device']=_0x6544fe,this['gsplatInst'+'ance']=_0x1d931d);const {resource:_0x556158}=_0x1d931d,_0x1704ec=new Map(Pe['get'](_0x6544fe,_0x6544fe['isWebGPU']?'wgsl':'glsl'));this['shader']=$t['createShad'+'er'](_0x6544fe,{'uniqueName':'gsplatReso'+'lveSH','vertexGLSL':rC,'fragmentGLSL':aC,'vertexWGSL':nC,'fragmentWGSL':oC,'vertexIncludes':_0x1704ec,'fragmentIncludes':_0x1704ec,'fragmentDefines':new Map([['SH_BANDS',_0x556158['gsplatData']['shBands']['toString']()]]),'attributes':{'vertex_position':Me}}),this['texture']=_0x556158['createText'+'ure']('centroids',Ne,new J(-0x208+-0xd*-0x15d+-0xf71,-0x1acf*0x1+-0x3e1+0x22b0)),this['renderTarg'+'et']=new gt({'colorBuffer':this['texture'],'depth':!(0x4d1+0x159+-0x629)}),this['renderPass']=new dC(_0x6544fe),this['renderPass']['init'](this['renderTarg'+'et'],{}),this['renderPass']['colorOps']['clear']=!(0x1967+0x2*-0x11e7+0xa67),this['quadRender']=new Ah(this['shader']);const {material:_0x21af84}=_0x1d931d;_0x21af84['setDefine']('SH_BANDS','0');const {shaderChunks:_0x205443}=_0x21af84;_0x205443['glsl']['set']('gsplatSogs'+'ColorVS',lC),_0x205443['wgsl']['set']('gsplatSogs'+'ColorVS',cC),_0x21af84['update'](),_0x6544fe['scope']['resolve']('sh_result')['setValue'](this['texture']);}['destroy'](){const {gsplatInstance:_0x622b1}=this,{material:_0x209178}=_0x622b1;_0x209178['setDefine']('SH_BANDS',_0x622b1['resource']['gsplatData']['shBands']['toString']());const {shaderChunks:_0xe9bd33}=_0x209178;_0xe9bd33['glsl']['delete']('gsplatSogs'+'ColorVS'),_0xe9bd33['wgsl']['delete']('gsplatSogs'+'ColorVS'),_0x209178['update'](),this['quadRender']['destroy'](),this['renderPass']['destroy'](),this['renderTarg'+'et']['destroy'](),this['texture']['destroy'](),this['shader']['destroy']();}['render'](_0x16aee4,_0x3f89fb){const {prevDir:_0x556d80,updateMode:_0x4a450c}=this;if(_0x4a450c==='disable'||(yg['invert'](_0x3f89fb),yg['transformV'+'ector'](_0x16aee4['forward'],uo),uo['normalize'](),_0x4a450c==='enable'&&uo['equalsAppr'+'ox'](_0x556d80,0x218b+0x2595*-0x1+-0xb*-0x5e+0.001)))return;_0x556d80['copy'](uo);const _0x47a653=()=>{const {device:_0x42d467}=this,{sh_centroids:_0x6ab300,meta:_0x4d1e0a}=this['gsplatInst'+'ance']['resource']['gsplatData'];hC(_0x42d467['scope'],{'dir':uo['toArray'](),'centroids':_0x6ab300,'shN_mins':_0x4d1e0a['shN']['mins'],'shN_maxs':_0x4d1e0a['shN']['maxs']}),_0x42d467['setCullMod'+'e'](bt),_0x42d467['setDepthSt'+'ate'](Yt['NODEPTH']),_0x42d467['setStencil'+'State'](null,null),_0x42d467['setBlendSt'+'ate'](pt['NOBLEND']),this['quadRender']['render']();};this['renderPass']['executeCal'+'lback']=_0x47a653,this['renderPass']['render']();}}const uC='\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20means_l'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20means_'+'u;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20quats'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20scales'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20uint\x20n'+'umSplats;\x0a'+'\x0a\x20\x20\x20\x20uint\x20'+'packU32(ve'+'c4\x20v)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20uint(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u\x20|\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20uint('+'v.y\x20*\x20255.'+'0)\x20<<\x2016u\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uin'+'t(v.z\x20*\x2025'+'5.0)\x20<<\x208u'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(v.w\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20uv'+'ec4\x20packU3'+'2(vec4\x20a,\x20'+'vec4\x20b,\x20ve'+'c4\x20c,\x20vec4'+'\x20d)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uvec4(pac'+'kU32(a),\x20p'+'ackU32(b),'+'\x20packU32(c'+'),\x20packU32'+'(d));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20w\x20='+'\x20int(textu'+'reSize(mea'+'ns_l,\x200).x'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ivec2\x20uv\x20'+'=\x20ivec2(gl'+'_FragCoord'+'.xy);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(ui'+'nt(uv.x\x20+\x20'+'uv.y\x20*\x20w)\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansLSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_l,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansUSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_u,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20quatsSamp'+'le\x20=\x20texel'+'Fetch(quat'+'s,\x20uv,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20scales'+'Sample\x20=\x20t'+'exelFetch('+'scales,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shLabel'+'sSample\x20=\x20'+'texelFetch'+'(sh_labels'+',\x20uv,\x200).x'+('y;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20pcFragCo'+'lor0\x20=\x20pac'+'kU32(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansLS'+'ample,\x20shL'+'abelsSampl'+'e.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansUS'+'ample,\x20shL'+'abelsSampl'+'e.y),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(quatsSa'+'mple),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4(scales'+'Sample,\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20}\x0a'),pC='\x0a\x20\x20\x20\x20var\x20m'+'eans_l:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20means_u'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20qua'+'ts:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'cales:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sh_label'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20numSpla'+'ts:\x20u32;\x0a\x0a'+'\x20\x20\x20\x20fn\x20pac'+'kU32(v:\x20ve'+'c4<f32>)\x20-'+'>\x20u32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(u32(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(u3'+'2(v.y\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20\x20|\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(u32(v.z\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20u32(v.w'+'\x20*\x20255.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20packU'+'Vec32(a:\x20v'+'ec4<f32>,\x20'+'b:\x20vec4<f3'+'2>,\x20c:\x20vec'+'4<f32>,\x20d:'+'\x20vec4<f32>'+')\x20->\x20vec4<'+'u32>\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4<u32'+'>(packU32('+'a),\x20packU3'+'2(b),\x20pack'+'U32(c),\x20pa'+'ckU32(d));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20@fragmen'+'t\x0a\x20\x20\x20\x20fn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20w:\x20u32\x20'+'=\x20textureD'+'imensions('+'means_l,\x200'+').x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2<u32>'+'\x20=\x20vec2<u3'+'2>(pcPosit'+'ion.xy);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv.x\x20+\x20uv'+'.y\x20*\x20w\x20>=\x20'+'uniform.nu'+'mSplats)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20fetch\x20the'+'\x20source\x20in'+'dex\x20and\x20ca'+'lculate\x20so'+'urce\x20uv\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'meansLSamp'+'le:\x20vec3<f'+('32>\x20=\x20text'+'ureLoad(me'+'ans_l,\x20uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20meansUSam'+'ple:\x20vec3<'+'f32>\x20=\x20tex'+'tureLoad(m'+'eans_u,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20quatsSam'+'ple:\x20vec4<'+'f32>\x20=\x20tex'+'tureLoad(q'+'uats,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20scal'+'esSample:\x20'+'vec3<f32>\x20'+'=\x20textureL'+'oad(scales'+',\x20uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shLa'+'belsSample'+':\x20vec2<f32'+'>\x20=\x20textur'+'eLoad(sh_l'+'abels,\x20uv,'+'\x200).xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20packUVec'+'32(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansLSam'+'ple,\x20shLab'+'elsSample.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansUSam'+'ple,\x20shLab'+'elsSample.'+'y),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(quatsSamp'+'le),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4(scalesSa'+'mple,\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a'),An=0x25c9+0x95a+-0x1*0x2f23+0.28209479177387814,Ci=_0x199911=>_0x199911['read'](-0x5*-0xd3+-0x12d*0x11+0x3*0x54a,0x16ae*-0x1+-0x5d3+-0x1*-0x1c81,_0x199911['width'],_0x199911['height'],{'mipLevel':0x0,'face':0x0,'immediate':!(0x3*0x412+0x204a+-0x2c80)}),mC=(_0x30fdd4,_0x5ec7ab)=>{for(const _0x229d96 in _0x5ec7ab)_0x30fdd4['resolve'](_0x229d96)['setValue'](_0x5ec7ab[_0x229d96]);};class _C{constructor(_0x4cea88,_0x39437b,_0xd13bec,_0x3b6c99,_0x3f64fc,_0x316d56){const _0x240770=(_0x213622,_0x5531bf,_0x1d1aab)=>_0x213622*(0x1403+-0x551*0x7+-0x371*-0x5-_0x1d1aab)+_0x5531bf*_0x1d1aab,{meta:_0x519e74}=_0x4cea88,{means:_0x1eaf0c,scales:_0x1b344b,sh0:_0x25ce6f,shN:_0x1f2226}=_0x519e74,_0x1d8baa=_0x39437b&&_0x4cea88['means_l']['_levels'][-0x5*-0x4d6+0x1*0x4bd+-0x1ceb],_0x5e59de=_0x39437b&&_0x4cea88['means_u']['_levels'][-0x20d3+0x263c*0x1+0x569*-0x1],_0x2bb7fb=_0xd13bec&&_0x4cea88['quats']['_levels'][0x2*0xb23+0x1*0x3a9+-0x19ef],_0x5ea685=_0x3b6c99&&_0x4cea88['scales']['_levels'][0x252d+-0x1fd7+-0x556],_0x1bd6de=_0x3f64fc&&_0x4cea88['sh0']['_levels'][-0x1e0e+-0x1df6+0xa7*0x5c],_0x40c37f=_0x316d56&&_0x4cea88['sh_labels']['_levels'][0xacd+0xfeb*0x2+-0x2aa3],_0x1cd7a2=_0x316d56&&_0x4cea88['sh_centroi'+'ds']['_levels'][0x4*-0x7a6+0x65*0x45+0x35f],_0x41699a=(0x1*-0x21b7+0x35*0x69+0xbfc)/Math['sqrt'](-0x1af3*0x1+0x727+0x13ce);this['read']=_0x589182=>{if(_0x39437b){const _0x5de461=_0x240770(_0x1eaf0c['mins'][0xdf*0x1+0x17ae+-0x188d],_0x1eaf0c['maxs'][0x11bf+0x6e+-0x122d],((_0x5e59de[_0x589182*(0x254d+0x762+-0x1*0x2cab)+(-0x1*0x1fa5+-0x2*0x1304+-0x45ad*-0x1)]<<-0xa41+0x2*-0x1099+0x2b7b)+_0x1d8baa[_0x589182*(-0x3b6+0x6d+-0x5*-0xa9)+(-0xe3b+-0x2086+0x2ec1*0x1)])/(-0x11c5c*0x1+-0x1*-0x6cc5+0x1af96)),_0x5caa05=_0x240770(_0x1eaf0c['mins'][0x4*-0x97d+0x37+0x25be],_0x1eaf0c['maxs'][0x107f+-0x1ff+0xe7f*-0x1],((_0x5e59de[_0x589182*(0x242c+0xd93+-0x31bb)+(-0x391*0x7+0x6b3+0x3*0x617)]<<0x185e+-0x1943+-0x3*-0x4f)+_0x1d8baa[_0x589182*(0x125a+-0x2*-0x8a9+-0x23a8)+(-0x125*0x1c+-0x91d+0x292a*0x1)])/(-0xec15+-0x469a+-0x1*-0x232ae)),_0x21705e=_0x240770(_0x1eaf0c['mins'][-0x6*-0x79+0x177e+-0x1a52],_0x1eaf0c['maxs'][-0x1*-0x1dc+0x6c8+-0xd*0xaa],((_0x5e59de[_0x589182*(-0x7d0+0x25d9+-0x1e05*0x1)+(-0x2*-0x95f+-0xa35+0x25*-0x3b)]<<-0x1823+0x525*-0x5+0x19c*0x1f)+_0x1d8baa[_0x589182*(-0xc2c+-0x1*-0x25b9+-0x3*0x883)+(0xb*0x278+-0x1b1e*-0x1+-0x2*0x1b22)])/(-0x1452c+-0x5d79+0x2a2a4));_0x39437b['x']=Math['sign'](_0x5de461)*(Math['exp'](Math['abs'](_0x5de461))-(-0x191*0xe+-0x22df*0x1+0x38ce)),_0x39437b['y']=Math['sign'](_0x5caa05)*(Math['exp'](Math['abs'](_0x5caa05))-(-0x11*0xe5+0xb24*0x3+-0xde*0x15)),_0x39437b['z']=Math['sign'](_0x21705e)*(Math['exp'](Math['abs'](_0x21705e))-(-0x1a60+0x305+-0x1*-0x175c));}if(_0xd13bec){const _0xdd0b2b=(_0x2bb7fb[_0x589182*(0x2686+-0x2526+-0x6*0x3a)+(-0x3*0x60d+-0xac1*-0x3+-0xe1c)]/(0xeab+0x1*-0xde9+0x3d)-(-0x1*0xc77+-0x6ea+0xb*0x1c3+0.5))*_0x41699a,_0x524014=(_0x2bb7fb[_0x589182*(-0xa54+0x1424+-0x9cc)+(0x2446*-0x1+-0xf4f+0x6*0x899)]/(-0x468+-0x647*0x2+-0x11f5*-0x1)-(0x23e3+-0x83a+0x61*-0x49+0.5))*_0x41699a,_0x1801a8=(_0x2bb7fb[_0x589182*(-0x1bb7+0x2091+-0x4d6)+(-0x558+0x198a+-0x286*0x8)]/(-0xbaf*-0x3+-0x4f+-0x21bf)-(-0x2059+-0x2533+0x1163*0x4+0.5))*_0x41699a,_0x2f8658=Math['sqrt'](Math['max'](0xd11+0x1cd+0xede*-0x1,-0x8a1+-0x13f9+0x1*0x1c9b-(_0xdd0b2b*_0xdd0b2b+_0x524014*_0x524014+_0x1801a8*_0x1801a8)));switch(_0x2bb7fb[_0x589182*(-0x1ac1+-0x1d33*0x1+-0x1bfc*-0x2)+(0x3*0x4cf+0xc7*0x1f+-0x2683)]-(0x1ccb+0x2f6+-0x1ec5*0x1)){case 0xa14+0x890+-0x12a4:_0xd13bec['set'](_0xdd0b2b,_0x524014,_0x1801a8,_0x2f8658);break;case-0xab8+0x3*-0x6bb+0x1*0x1eea:_0xd13bec['set'](_0x2f8658,_0x524014,_0x1801a8,_0xdd0b2b);break;case 0x291*-0x5+-0x1*-0x100b+-0x334:_0xd13bec['set'](_0x524014,_0x2f8658,_0x1801a8,_0xdd0b2b);break;case 0x102+-0x38*0x84+0x319*0x9:_0xd13bec['set'](_0x524014,_0x1801a8,_0x2f8658,_0xdd0b2b);break;}}if(_0x3b6c99){const _0x24bfab=_0x240770(_0x1b344b['mins'][-0xe19*0x2+-0x3d7+0x2009],_0x1b344b['maxs'][0x1*-0xb31+0x15*-0x131+0x121b*0x2],_0x5ea685[_0x589182*(-0x6e1*-0x2+-0xe47+0x89)+(0x1b6a+0x797*0x1+-0x57*0x67)]/(0x45+-0x65+-0x1*-0x11f)),_0x1f7611=_0x240770(_0x1b344b['mins'][-0xad*-0x1d+0x2a1*0x4+-0x1e1c],_0x1b344b['maxs'][-0x241+-0x80a+-0x1*-0xa4c],_0x5ea685[_0x589182*(-0x3e*-0x70+0x1234+0x10*-0x2d5)+(-0x1*-0x1591+-0x1486+-0x13*0xe)]/(-0x26fb+0xe11+0x1*0x19e9)),_0x3939f2=_0x240770(_0x1b344b['mins'][0x10a8+0x1*-0x35e+-0xd48],_0x1b344b['maxs'][0xccd+0x16*0x20+-0xf8b],_0x5ea685[_0x589182*(-0x60a+-0xaf*-0x32+-0x1c20)+(0x169*0x6+0x769+-0xfdd*0x1)]/(0x1e64+0x1d31+-0x3a96));_0x3b6c99['set'](_0x24bfab,_0x1f7611,_0x3939f2);}if(_0x3f64fc){const _0x4fbd19=_0x240770(_0x25ce6f['mins'][-0x164a+-0x13*0x1eb+0x3abb],_0x25ce6f['maxs'][0x71f+-0x11c6+0xaa7],_0x1bd6de[_0x589182*(0x10cd+-0xec2+-0x207)+(-0x23e2+-0xa49+-0x35*-0xdf)]/(0x26c*0x6+-0x125a+0x4d1)),_0x160af1=_0x240770(_0x25ce6f['mins'][0x141+0x96*0xd+0x8de*-0x1],_0x25ce6f['maxs'][0x443*-0x5+0x1b22+-0x5d2],_0x1bd6de[_0x589182*(-0xcfb*-0x2+-0x751+-0x12a1)+(0x6*0x53d+-0x7*0x4b3+-0x8*-0x2f)]/(0x1f17+-0x8bf*-0x3+0x39*-0xfd)),_0x477255=_0x240770(_0x25ce6f['mins'][0x7e1+-0xd6*-0x13+-0x17c1],_0x25ce6f['maxs'][0x2cf*-0x4+-0x1*0x1b4c+0x1*0x268a],_0x1bd6de[_0x589182*(0x5*0x44c+-0x3ba+0x6*-0x2f5)+(0xbd1*-0x1+-0x1886+0x2459)]/(-0x16ab+-0x24a9+0x3c53)),_0xa14b1b=_0x240770(_0x25ce6f['mins'][-0x14*-0x5d+-0x330+-0x411],_0x25ce6f['maxs'][0x1f*0x35+-0x18*-0xd0+-0x19e8],_0x1bd6de[_0x589182*(-0x188d+-0x260e+0x29*0x187)+(0xcb9+0x11*0x85+-0x158b)]/(0x868+0xb79+-0x12e2));_0x3f64fc['set'](0x726+-0x1c2c+0x3*0x702+0.5+_0x4fbd19*An,-0x14b7*0x1+-0x18b0+0x2d67+0.5+_0x160af1*An,0x2127+-0x21ca+0xa3+0.5+_0x477255*An,(-0xd09*-0x2+0x182b+-0x4*0xc8f)/(-0x1bd7+0x88*0x6+0x4*0x62a+Math['exp'](-_0xa14b1b)));}if(_0x316d56){const _0xe7a466=_0x40c37f[_0x589182*(-0x2e6*0x1+-0x2310+0x25fa)+(-0xed*0x2+0x1030+-0xe56)]+(_0x40c37f[_0x589182*(0x1*0x51c+-0x7*-0x1b1+-0x363*0x5)+(0x90f*-0x4+-0x151c+0x3959)]<<-0x1*0x1de5+-0x26be+0x44ab),_0x5b165a=_0xe7a466%(0x243a+0x1435*-0x1+-0xfc5)*(0x1ad5+0x15fb+0x6f7*-0x7),_0x570bcb=Math['floor'](_0xe7a466/(-0x1fdb+0x1*0x25b2+-0x1dd*0x3));for(let _0x4358bf=0x2205+0xa20+-0x2c25;_0x4358bf<-0xa*-0x235+0x5fe+-0x1c0d*0x1;++_0x4358bf)for(let _0x473894=0x1b7b+0x1*0x1811+-0x4*0xce3;_0x473894<0x49f*0x2+0x1*-0x19ed+0x10be;++_0x473894)_0x316d56[_0x4358bf*(0x1*-0x21af+0x1*0x5d5+0x1be9)+_0x473894]=_0x240770(_0x1f2226['mins'],_0x1f2226['maxs'],_0x1cd7a2[(_0x5b165a+_0x473894)*(-0xd*-0x255+0x1d5c+-0x3ba9)+_0x4358bf+_0x570bcb*_0x4cea88['sh_centroi'+'ds']['width']*(0xd*0x21d+-0x1a0a+-0x21*0xb)]/(0x1197+0x1*-0x19e9+0x5*0x1dd));}};}}class gC{constructor(){h(this,'meta'),h(this,'numSplats'),h(this,'means_l'),h(this,'means_u'),h(this,'quats'),h(this,'scales'),h(this,'sh0'),h(this,'sh_centroi'+'ds'),h(this,'sh_labels'),h(this,'packedText'+'ure');}['destroy'](){var _0x37bb7d,_0x4fc5fa,_0x4a93bd,_0x4b03ca,_0x1295ff,_0x12e3c3,_0x26fdc7,_0x486c38;(_0x37bb7d=this['means_l'])==null||_0x37bb7d['destroy'](),(_0x4fc5fa=this['means_u'])==null||_0x4fc5fa['destroy'](),(_0x4a93bd=this['quats'])==null||_0x4a93bd['destroy'](),(_0x4b03ca=this['scales'])==null||_0x4b03ca['destroy'](),(_0x1295ff=this['sh0'])==null||_0x1295ff['destroy'](),(_0x12e3c3=this['sh_centroi'+'ds'])==null||_0x12e3c3['destroy'](),(_0x26fdc7=this['sh_labels'])==null||_0x26fdc7['destroy'](),(_0x486c38=this['packedText'+'ure'])==null||_0x486c38['destroy']();}['createIter'](_0x79379e,_0x13bb33,_0x1f2409,_0x7887c8,_0x569dc1){return new _C(this,_0x79379e,_0x13bb33,_0x1f2409,_0x7887c8,_0x569dc1);}['calcAabb'](_0x201796){const {mins:_0xe4f323,maxs:_0x5b4a82}=this['meta']['means'],_0x4fd7e2=_0x1219eb=>Math['sign'](_0x1219eb)*(Math['exp'](Math['abs'](_0x1219eb))-(-0x790+0x1d09+-0x1578));_0x201796['center']['set']((_0x4fd7e2(_0xe4f323[0xc88+0x7ca+-0x1452])+_0x4fd7e2(_0x5b4a82[-0x1*0xe7f+-0x4*-0x38c+0x4f]))*(0x1983+-0x57*0x43+-0x2be+0.5),(_0x4fd7e2(_0xe4f323[0xc43*-0x1+-0x301+0xf45])+_0x4fd7e2(_0x5b4a82[-0x3fd*-0x9+0x1c27*-0x1+-0x7bd]))*(0x41*-0x6+0x1ca3+-0xb*0x277+0.5),(_0x4fd7e2(_0xe4f323[-0x2da+0xdc3+-0xae7*0x1])+_0x4fd7e2(_0x5b4a82[0x7a5+-0x1da4+0x1601]))*(-0x29*0x2b+-0x3b9*-0x1+0xf*0x36+0.5)),_0x201796['halfExtent'+'s']['set']((_0x4fd7e2(_0x5b4a82[-0x10a7*0x1+-0x1521+-0x6*-0x64c])-_0x4fd7e2(_0xe4f323[0xd*0x1d+-0x25be+0x2445]))*(-0xe51+0x82b+0x626+0.5),(_0x4fd7e2(_0x5b4a82[-0x943+0x1433+-0xaef])-_0x4fd7e2(_0xe4f323[0xa*0x43+0x728+-0x9c5]))*(-0x1f1a*-0x1+0x437*0x2+-0xa*0x3f4+0.5),(_0x4fd7e2(_0x5b4a82[-0x1b8e+0x3*-0x7e7+0x3345])-_0x4fd7e2(_0xe4f323[0x1d6b+0x385*-0x8+0x3*-0x6b]))*(0x7d5*-0x2+0x16bf+-0x715+0.5));}['getCenters'](_0x4c2ecd){const {meta:_0x3c45a5,means_l:_0x26b9b0,means_u:_0x3b292b,numSplats:_0x1066a1}=this,{means:_0x1495ff}=_0x3c45a5,_0x33c576=new Uint32Array(_0x3b292b['_levels'][-0x7*-0x245+0x369+-0xa*0x1ee]['buffer']),_0x40c827=new Uint32Array(_0x26b9b0['_levels'][0x6ab+0x2194+-0x283f]['buffer']),_0x94ae85=_0x1495ff['mins'][-0x16cc+0x12b3+0x1*0x419]/(-0x3560+0x11*-0x1db9+0xc7*0x418),_0x478575=_0x1495ff['mins'][-0x258e+0x1596*0x1+-0x2f*-0x57]/(0x56bb+-0x1*-0x87c2+-0x2*-0x10c1),_0xfa54a2=_0x1495ff['mins'][-0x63d*0x1+-0xa1c+0x105b]/(-0x615f+-0x185*0x9e+0x25174),_0x292167=_0x1495ff['maxs'][-0x1*0x1c6+-0x256f+0x2735]/(-0x13c4c+-0x1c80c+-0x5*-0xcdab),_0x2535a0=_0x1495ff['maxs'][0xf*-0x37+0x1314+-0xfda*0x1]/(-0x2*0xcb17+-0xdab7+0x370e4),_0x317df4=_0x1495ff['maxs'][-0x524+0x1*0x214f+0x963*-0x3]/(-0x6*0x16c0+-0x627b+0x1eafa);for(let _0xe060f7=-0x63*-0x51+-0x25d7*-0x1+-0x2*0x2295;_0xe060f7<_0x1066a1;_0xe060f7++){const _0x3a0757=_0xe060f7,_0x7e3779=_0x33c576[_0x3a0757],_0x43021e=_0x40c827[_0x3a0757],_0x3b2884=_0x7e3779<<0x5*-0x746+0x2*-0xd2a+0x3eba&-0x7e3f+-0x19f52+-0x1*-0x31c91|_0x43021e&0xff2+-0x12f*0x10+0x1*0x3fd,_0x4ab29f=_0x7e3779&-0x41*0x389+-0x1e13f+0x8*0x78c1|_0x43021e>>>-0x2*-0x11b9+-0x7*0x13f+-0x1ab1&0x1077+-0x14db+0x563,_0x3b6c36=_0x7e3779>>>0x899+-0x32*-0x6e+-0x1e0d&0x1da*0x65+-0x1*0x4f77+-0x1*-0x9375|_0x43021e>>>-0x17c9+0x4*-0x909+0x3bfd&-0x52*0x5c+0x261b+-0x7a4,_0x21fadc=_0x94ae85*(-0x78*-0x120+-0x1ee3c+0x2673b-_0x3b2884)+_0x292167*_0x3b2884,_0x3c0577=_0x478575*(0x5ad*-0x31+-0xd99*-0x19+0x15*0x93f-_0x4ab29f)+_0x2535a0*_0x4ab29f,_0x16e282=_0xfa54a2*(-0x140bd*-0x1+0x1b256+0x57c*-0x5b-_0x3b6c36)+_0x317df4*_0x3b6c36,_0x113667=_0x21fadc<-0x263*-0x1+-0x1631+-0x3*-0x69a?-_0x21fadc:_0x21fadc,_0x3fb380=_0x3c0577<0x1885+-0x659+-0x122c*0x1?-_0x3c0577:_0x3c0577,_0x56a63b=_0x16e282<-0x1d09*0x1+-0x3*0x2f5+0x25e8?-_0x16e282:_0x16e282;_0x4c2ecd[_0xe060f7*(-0x10a0+-0x854+-0x7*-0x391)]=(_0x21fadc<0x6a*0x1f+-0x1528+0xf*0x8e?-(-0x197f+-0x26d4+-0x166*-0x2e):0x3f2*0x2+-0xa97+-0x2b4*-0x1)*(Math['exp'](_0x113667)-(0x1a*-0x1d+0x1*0x85+0x26e)),_0x4c2ecd[_0xe060f7*(-0x186c+0x147c+0x3*0x151)+(0x2*-0x8ed+0xcb*0x1f+-0x6ba)]=(_0x3c0577<-0x2b0+0x1*-0x1297+-0x1*-0x1547?-(-0x1f*-0x107+0x301*0x3+0x1*-0x28db):0x1*0xc5b+-0x1*-0x1953+-0x283*0xf)*(Math['exp'](_0x3fb380)-(-0x2*0x8b+0x3*0x464+0x407*-0x3)),_0x4c2ecd[_0xe060f7*(-0x1e2*0x5+0x61*-0x3d+-0x1045*-0x2)+(0x1*-0x25af+-0x1*-0x4c7+-0x1*-0x20ea)]=(_0x16e282<-0x446+-0x119+0x55f?-(0x19cc+0x1f64+0x1*-0x392f):0x599*-0x3+-0x2c*-0x34+-0x4*-0x1f7)*(Math['exp'](_0x56a63b)-(-0x1c*0x132+-0x14f9+0x3672));}}['calcFocalP'+'oint'](_0x1247ee,_0x4cc05b){_0x1247ee['set'](0x447*0x8+-0x1e7a+-0x3be,-0x18*-0x8e+-0x1fff*-0x1+-0x2d4f,-0x11*0x23+0x1ae*0xa+-0xe79);}get['isSogs'](){return!(-0x404+0xa*0x95+-0xe7*0x2);}get['shBands'](){var _0x529f65;return{0xc0:0x1,0x200:0x2,0x3c0:0x3}[(_0x529f65=this['sh_centroi'+'ds'])==null?void(0x24f9+-0x1*-0x2458+-0x4951):_0x529f65['width']]??0x4*-0x388+-0x2e*0x5d+-0x1ed6*-0x1;}async['decompress'](){const _0x15c302=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3'],{shBands:_0x2bc27f}=this,{means_l:_0x472705,means_u:_0x1b773b,quats:_0x88da66,scales:_0x1bfaad,sh0:_0x118a7c,sh_labels:_0x3ecdbf,sh_centroids:_0x4fc26a}=this;if(_0x472705['_levels'][-0x3*0x319+0x268c+-0x1d41]=await Ci(_0x472705),_0x1b773b['_levels'][-0x1e4+-0xb*0x206+0x1826]=await Ci(_0x1b773b),_0x88da66['_levels'][-0x22bd+-0x1*-0x1dba+0x503]=await Ci(_0x88da66),_0x1bfaad['_levels'][0x5cd+0x241f*0x1+-0x29ec]=await Ci(_0x1bfaad),_0x118a7c['_levels'][-0x242a+0x157f*0x1+-0x2ef*-0x5]=await Ci(_0x118a7c),_0x2bc27f>0x1f34+0x1d*-0x9e+-0x1a*0x83){_0x3ecdbf['_levels'][0x2c5+0x309+-0x2e7*0x2]=await Ci(_0x3ecdbf),_0x4fc26a['_levels'][0x22*0x96+-0xc49+0x7a3*-0x1]=await Ci(_0x4fc26a);const _0x2aa6ed=[];for(let _0x158775=0x100*0x4+0x1*-0x1db3+0x19b3;_0x158775<0x1594+-0x13d2+-0xf*0x1b;++_0x158775)_0x2aa6ed['push']('f_rest_'+_0x158775);_0x15c302['splice'](_0x15c302['indexOf']('f_dc_0')+(-0x261*-0x7+0x241c*0x1+-0x34c2),0xfb0+0x2*-0x62f+-0x352,..._0x2aa6ed);}const _0x45afa0={};_0x15c302['forEach'](_0x4d9f6c=>{_0x45afa0[_0x4d9f6c]=new Float32Array(this['numSplats']);});const _0x49894f=new D(),_0x4eda0d=new le(),_0x1a6886=new D(),_0x484c69=new re(),_0x5461f3=_0x2bc27f>-0xb95*0x1+0x1*-0x25e7+0x317c?new Float32Array(-0x199c+0x7c1+-0x8*-0x241):null,_0x3018f6=this['createIter'](_0x49894f,_0x4eda0d,_0x1a6886,_0x484c69,_0x5461f3);for(let _0x3f0fcb=0x5*0x2fb+0x18d5*-0x1+0x52*0x1f;_0x3f0fcb<this['numSplats'];++_0x3f0fcb)if(_0x3018f6['read'](_0x3f0fcb),_0x45afa0['x'][_0x3f0fcb]=_0x49894f['x'],_0x45afa0['y'][_0x3f0fcb]=_0x49894f['y'],_0x45afa0['z'][_0x3f0fcb]=_0x49894f['z'],_0x45afa0['rot_1'][_0x3f0fcb]=_0x4eda0d['x'],_0x45afa0['rot_2'][_0x3f0fcb]=_0x4eda0d['y'],_0x45afa0['rot_3'][_0x3f0fcb]=_0x4eda0d['z'],_0x45afa0['rot_0'][_0x3f0fcb]=_0x4eda0d['w'],_0x45afa0['scale_0'][_0x3f0fcb]=_0x1a6886['x'],_0x45afa0['scale_1'][_0x3f0fcb]=_0x1a6886['y'],_0x45afa0['scale_2'][_0x3f0fcb]=_0x1a6886['z'],_0x45afa0['f_dc_0'][_0x3f0fcb]=(_0x484c69['x']-(-0x38a+-0x5d1*0x2+-0x796*-0x2+0.5))/An,_0x45afa0['f_dc_1'][_0x3f0fcb]=(_0x484c69['y']-(-0x5*0x677+-0x9*0x2dd+-0x16*-0x2a4+0.5))/An,_0x45afa0['f_dc_2'][_0x3f0fcb]=(_0x484c69['z']-(-0x10*-0xec+0xa5d+-0x191d+0.5))/An,_0x45afa0['opacity'][_0x3f0fcb]=_0x484c69['w']<=-0x2522+-0x14f0+0x1*0x3a12?-(-0x3*0x287+0x1c6*-0x1+0x5*0x1e7):_0x484c69['w']>=0x1e12+-0x16f*-0x9+-0x2af8?-0xc07*0x2+-0x1*-0x113c+0x6fa:-Math['log']((-0x1119*-0x2+0x6*-0x327+-0x1*0xf47)/_0x484c69['w']-(0x1799+0x176a+-0x2f02)),_0x5461f3){for(let _0x2505ae=-0x226d+-0x40f+0x267c;_0x2505ae<0x6bf+0xa2*-0x33+-0x149*-0x14;++_0x2505ae)_0x45afa0['f_rest_'+_0x2505ae][_0x3f0fcb]=_0x5461f3[_0x2505ae];}return new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x15c302['map'](_0x58225d=>({'name':_0x58225d,'type':'float','byteSize':0x4,'storage':_0x45afa0[_0x58225d]}))}]);}['packGpuMem'+'ory'](){const {means_l:_0x5b067b,means_u:_0x15ae30,quats:_0x4e4a8f,scales:_0x2da6eb,sh_labels:_0x30f6c2,numSplats:_0x29c01d}=this,{device:_0x284670}=_0x5b067b,{scope:_0x59fc20}=_0x284670,_0x35fd5e=$t['createShad'+'er'](_0x284670,{'uniqueName':'GsplatSogs'+'ReorderSha'+'der','attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentGLSL':uC,'fragmentWGSL':pC,'fragmentOutputTypes':['uvec4']}),_0x4b735e=new gt({'colorBuffer':this['packedText'+'ure'],'depth':!(0xa93*0x1+0x22d1+0xf21*-0x3),'mipLevel':0x0});_0x284670['setCullMod'+'e'](bt),_0x284670['setBlendSt'+'ate'](pt['NOBLEND']),_0x284670['setDepthSt'+'ate'](Yt['NODEPTH']),mC(_0x59fc20,{'means_l':_0x5b067b,'means_u':_0x15ae30,'quats':_0x4e4a8f,'scales':_0x2da6eb,'sh_labels':_0x30f6c2??_0x5b067b,'numSplats':_0x29c01d}),Ar(_0x284670,_0x4b735e,_0x35fd5e),_0x4b735e['destroy'](),_0x35fd5e['destroy']();}async['prepareGpu'+'Data'](){const {device:_0x2fbbc3,height:_0x578993,width:_0x3c4420}=this['means_l'];this['means_l']['_levels'][-0x1*0x2176+0x1b8+0x1fbe*0x1]=await Ci(this['means_l']),this['means_u']['_levels'][-0x26e4+-0x14e8*-0x1+0x11fc]=await Ci(this['means_u']),this['packedText'+'ure']=new _e(_0x2fbbc3,{'name':'sogsPacked'+'Texture','width':_0x3c4420,'height':_0x578993,'format':Ue,'mipmaps':!(0x91*-0x39+0x7*0x341+-0x1e7*-0x5)}),_0x2fbbc3['on']('devicerest'+'ored',()=>{this['packGpuMem'+'ory']();}),this['packGpuMem'+'ory']();}['reorderDat'+'a'](){return this['prepareGpu'+'Data']();}}async function SC(){let _0x306103=null,_0x38973a=null,_0x3bbe8a=null,_0x277eea=null,_0x21fa51=null,_0x5ed7f2=null,_0x42c87a=null,_0x5258f6=null,_0x56e7e9=null,_0x4483c7=null,_0x31baea=null,_0x475ce0=null,_0x48d774=null,_0x1fe1c5=null,_0x440da9=null,_0x5634c5=null,_0x5c423f=null,_0x3f8107=null,_0x44d9a0=null,_0x5bf33c=null,_0x329dba=null,_0x7d7527=null,_0x30dbe0=null,_0x3e6269=null,_0xb6350c=Float32Array['BYTES_PER_'+'ELEMENT'],_0x1c3241=Uint32Array['BYTES_PER_'+'ELEMENT'],_0xe25b3d=-0x91c+-0xf63*0x2+-0x13f1*-0x2,_0x1096d8=!(0x1082+-0xe25+-0x25d),_0x5ea293,_0x4ade4c,_0x109718={'x':0x0,'y':0x0,'z':0x0},_0x41e88c={'x':0x0,'y':0x0,'z':0x0},_0x3d70bf=!(-0x1*-0x154f+0x6db*-0x1+-0xe74),_0x20efff=!(0x6*0x229+-0x21d4+0x14de),_0x1156f2=!(-0xc48+-0xd68+0x19b1),_0x46aa87=!(0x145e*0x1+0x41*0x25+-0x24a*0xd),_0x5af779=-0x26*0x4c+-0x1*-0x1cb5+-0x116d,_0x53cd8a=0x1*0x48a+0x52f+-0x9b9,_0x3e0b4b=!(-0x2165*0x1+0x77d+0x2e1*0x9),_0x340bdf=null,_0x15ebe0=!(0x245d+-0x258d+0x5*0x3d),_0x58b0b7=-0x7*0xde+-0x3*-0x3cd+-0x555,_0x5c5074=0xff7+-0x21c+0x1*-0xddb,_0x533d8d={'x':0x0,'y':0x0,'z':0x0},_0xebe536={'x':0x0,'y':0x0,'z':0x0},_0x1a62c0,_0x5c86bd;self['onmessage']=async _0x5da034=>{const {data:_0x2755d6}=_0x5da034;switch(_0x2755d6['type']){case'initWorker':await _0x2bc279(_0x2755d6['sortWasmUr'+'l']),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0xe25b3d=_0x2755d6['centers']['length']/(-0x452+0x17*0x13d+0xc13*-0x2),_0xe25b3d<=-0x2465+-0x12ea*-0x1+-0x5*-0x37f||!_0x38973a)return;_0x3995e0(),_0x1096d8=_0x2755d6['is4d'],_0x1a62c0=_0x2755d6['id'];const _0x552163=_0x1bd3b1(_0xe25b3d);if(_0x58a3ea(_0x552163),_0x3bbe8a[-0x1*-0x1a2a+0x1ce1*0x1+-0x370b]=_0x533d8d['x'],_0x3bbe8a[0x266c*-0x1+-0x32f*-0xa+-0x697*-0x1]=_0x533d8d['y'],_0x3bbe8a[0x1097+0x7*0x38e+-0x2977]=_0x533d8d['z'],_0x277eea[0x148d*-0x1+0x28*-0xdc+-0x36ed*-0x1]=_0xebe536['x'],_0x277eea[-0x1ab7+0x101f*0x1+0x1*0xa99]=_0xebe536['y'],_0x277eea[-0x1*0x260b+0x12db+0x1332]=_0xebe536['z'],_0x5ed7f2&&_0x2755d6['centers']&&_0x5ed7f2['length']===_0x2755d6['centers']['length']){const _0x2ef388=new Float32Array(_0x2755d6['centers']);_0x5ed7f2['set'](_0x2ef388);}if(_0x5258f6&&_0x2755d6['timeIndex']&&_0x5258f6['length']===_0x2755d6['timeIndex']['length']){const _0x52ebc6=new Uint32Array(_0x2755d6['timeIndex']);_0x5258f6['set'](_0x52ebc6);}if(_0x31baea&&_0x2755d6['motion']&&_0x31baea['length']===_0x2755d6['motion']['length']){const _0x8a6366=new Float32Array(_0x2755d6['motion']);_0x31baea['set'](_0x8a6366);}if(_0x1096d8&&_0x56e7e9&&_0x4483c7&&_0x2755d6['muT']&&_0x2755d6['tScale']&&_0x56e7e9['length']===_0x2755d6['muT']['length']&&_0x4483c7['length']===_0x2755d6['tScale']['length']&&(_0x56e7e9['set'](_0x2755d6['muT']),_0x4483c7['set'](_0x2755d6['tScale'])),_0x42c87a){for(let _0x2b7386=-0x2427+0x206+0x2221*0x1;_0x2b7386<_0x42c87a['length'];++_0x2b7386)_0x42c87a[_0x2b7386]=_0x2b7386;}_0x21fa51&&_0x2755d6['timeOption']&&_0x21fa51['set'](_0x2755d6['timeOption']),_0x23eb88(),_0x15ebe0=!(-0x1786*0x1+-0x6a*-0x59+-0x355*0x4),_0x1156f2=!(-0x1*-0x1487+-0x1*-0xceb+-0x2172),_0x4b1f3c();break;case'setTime':_0x5ea293=_0x2755d6['time'],_0x4b1f3c();break;case'setUseTemp'+'oralSort':_0x3d70bf=_0x2755d6['useTempora'+'lSort'];break;case'setUseDyna'+'micSort':_0x20efff=_0x2755d6['useDynamic'+'Sort'];break;case'sort':if(!_0x3bbe8a)return;_0x3bbe8a[-0xa64+-0x1d*-0x97+-0x6b7]=_0x2755d6['cameraPosi'+'tion']['x'],_0x3bbe8a[0x27*0x9d+0xc6a+-0x2454]=_0x2755d6['cameraPosi'+'tion']['y'],_0x3bbe8a[-0x709+-0x24df+0x15f5*0x2]=_0x2755d6['cameraPosi'+'tion']['z'],_0x277eea[-0xe23+0x94*-0x3b+-0x1015*-0x3]=_0x2755d6['cameraDire'+'ction']['x'],_0x277eea[0xd7*-0x2b+0xabe+-0x3a*-0x70]=_0x2755d6['cameraDire'+'ction']['y'],_0x277eea[0x1b0+-0x13ff+0x1251]=_0x2755d6['cameraDire'+'ction']['z'],_0x533d8d['x']=_0x2755d6['cameraPosi'+'tion']['x'],_0x533d8d['y']=_0x2755d6['cameraPosi'+'tion']['y'],_0x533d8d['z']=_0x2755d6['cameraPosi'+'tion']['z'],_0xebe536['x']=_0x2755d6['cameraDire'+'ction']['x'],_0xebe536['y']=_0x2755d6['cameraDire'+'ction']['y'],_0xebe536['z']=_0x2755d6['cameraDire'+'ction']['z'],_0x4b1f3c();break;}};const _0x3995e0=()=>{_0x53cd8a=Math['max'](0x107*0xf+0xc81*0x1+-0x1be0,Math['min'](-0x389+-0x5b1+0x31a*0x3,Math['round'](Math['log2'](_0xe25b3d/(-0x1*0x59+0x3*-0x7b3+0x1776))))),_0x5af779=(-0x1008+0x1f9f*-0x1+0x7*0x6cf)**_0x53cd8a+(-0x19c7+-0x244f+0x3e17);},_0x58a3ea=_0x2d2616=>{_0x475ce0=-0x2*-0x6b5+0x16*-0x56+0x202*-0x3,_0x48d774=_0x475ce0+_0xe25b3d*_0xb6350c*(-0x1*-0x2429+0x2569+-0x498f),_0x3f8107=_0x48d774+(0x5*-0x7cc+-0x1a71+0x41d1)*_0xb6350c*(0x1709+0xa75*0x1+-0x2*0x10be),_0x44d9a0=_0x3f8107+_0xe25b3d*_0x1c3241,_0x5bf33c=_0x44d9a0+(0x410+0xe8f*0x1+-0x129c)*_0xb6350c,_0x329dba=_0x5bf33c+(-0x1dee*-0x1+0x1ecf+-0x3cba)*_0xb6350c,_0x7d7527=_0x329dba+(-0x311+-0x64*-0x2+0x24c)*_0xb6350c,_0x30dbe0=_0x7d7527+(0x1*0xd03+0x4c3+0x1*-0x11c3)*_0xb6350c,_0x3e6269=_0x30dbe0+_0xe25b3d*_0x1c3241,_0x5ed7f2=new Float32Array(_0x2d2616,_0x475ce0,_0xe25b3d*(-0x1*0x16f6+-0x45*0x2f+0x23a4)),_0x21fa51=new Float32Array(_0x2d2616,_0x48d774,0x9e8+-0x1b5*-0xf+-0x22bb),_0x42c87a=new Uint32Array(_0x2d2616,_0x3f8107,_0xe25b3d),_0x3bbe8a=new Float32Array(_0x2d2616,_0x44d9a0,0xb7*-0x13+-0x1*0x842+0x1*0x15da),_0x277eea=new Float32Array(_0x2d2616,_0x5bf33c,-0x4dd*0x1+-0xb83+0x1*0x1063),_0x1096d8&&(_0x5634c5=_0x3e6269+_0x5af779*_0x1c3241,_0x5c423f=_0x5634c5+_0xe25b3d*_0xb6350c,_0x440da9=_0x5c423f+_0xe25b3d*_0xb6350c,_0x1fe1c5=_0x440da9+_0xe25b3d*(0x25af+0xc39*-0x2+-0xd3a)*_0xb6350c,_0x56e7e9=new Float32Array(_0x2d2616,_0x5634c5,_0xe25b3d),_0x4483c7=new Float32Array(_0x2d2616,_0x5c423f,_0xe25b3d),_0x31baea=new Float32Array(_0x2d2616,_0x440da9,_0xe25b3d*(-0x14eb+0x1d1d+0x1a3*-0x5)),_0x5258f6=new Uint32Array(_0x2d2616,_0x1fe1c5,_0xe25b3d));},_0x2bc279=async _0x1d4daa=>{_0x58b0b7=0x63d*-0x1+0x963+-0x325;const _0x145c36={'env':{'memory':new WebAssembly['Memory']({'initial':_0x58b0b7}),'pthread_self':function(){return 0xf7a+0x221b+-0x3195*0x1;},'emscripten_builtin_memalign':function(){return 0x83a+-0x12d9+0xa9f;},'loggerVec3':(_0x162af2,_0x35f058,_0x2d104b,_0x21940c)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x162af2+']\x200:'+_0x35f058+'\x201:'+_0x2d104b+'\x202:'+_0x21940c);},'loggerFloat':(_0x1f63e1,_0x59910e)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x1f63e1+']\x20a:'+_0x59910e);},'loggerValue':(_0x4bcde2,_0xd34fe5,_0x3cd1be,_0x27cdd4,_0x4fdfd7)=>{console['log']('C++\x20logger'+'Value\x20['+_0x4bcde2+']\x20minDist:'+_0xd34fe5+'\x20maxDist:'+_0x3cd1be+'\x20range:'+_0x27cdd4+'\x20divider:'+_0x4fdfd7);},'loggerCamera':(_0x316f35,_0x36d40e,_0x3e810e,_0x4ff5ab,_0xca3da0,_0xcc341a,_0x52efc2)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x316f35+']\x20x:'+_0x36d40e+'\x20y:'+_0x3e810e+'\x20z:'+_0x4ff5ab+'\x20dx:'+_0xca3da0+'\x20dy:'+_0xcc341a+'\x20dz:'+_0x52efc2);},'loggerBound':(_0x57592d,_0x10583b,_0x45754f,_0x378e18,_0x108c4d,_0x43912b)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x57592d+'\x20minY:'+_0x10583b+'\x20minZ:'+_0x45754f+'\x20maxX:'+_0x378e18+'\x20maxY:'+_0x108c4d+'\x20maxZ:'+_0x43912b);},'loggerDebug':_0x274387=>{console['log']('C++\x20logger'+'Debug\x20['+_0x274387+']');}}};try{const _0x2023d5=await(await fetch(_0x1d4daa))['arrayBuffe'+'r']();return _0x306103=(await WebAssembly['instantiat'+'e'](_0x2023d5,_0x145c36))['instance'],_0x38973a=_0x145c36['env']['memory'],_0x306103;}catch(_0x477154){throw console['error']('WASM'+':',_0x477154),_0x477154;}},_0x15ac90=_0x567cce=>{if(_0x567cce<=-0x1*-0xf4f+-0x239d+0x144e)return 0x24a0+0x1*-0x42+-0x245d;let _0x2eeb5f=_0x567cce*_0xb6350c*(0x64f+-0x208b+0x1a3f);_0x2eeb5f+=_0x567cce*_0x1c3241,_0x2eeb5f+=(-0xa34+-0x18a4+0x22db)*_0xb6350c,_0x2eeb5f+=(-0x1e95+-0x21fe+-0x1*-0x4096)*_0xb6350c,_0x2eeb5f+=(0x1332+-0x255+-0x3*0x59e)*_0xb6350c,_0x2eeb5f+=(0x1*0x2c+0x10c4+-0x10ed)*_0xb6350c,_0x2eeb5f+=_0x567cce*_0xb6350c,_0x2eeb5f+=_0x5af779*_0x1c3241,_0x2eeb5f+=(0x16d0*-0x1+0x1f85+-0x851)*_0xb6350c*(0x163b+-0x9*-0x225+-0x427*0xa),_0x2eeb5f+=_0x567cce*_0x1c3241,_0x1096d8&&(_0x2eeb5f+=_0x567cce*_0xb6350c,_0x2eeb5f+=_0x567cce*_0xb6350c,_0x2eeb5f+=_0x567cce*_0xb6350c*(-0x1*0x139+-0x39*-0x4c+0x1f6*-0x8));const _0x39dbe9=(0x158c+-0x25*0xdd+0x5*0x221)*(-0x7f*0x47+0x1*0x3d+-0x1f3*-0x14);return Math['ceil'](_0x2eeb5f/_0x39dbe9);},_0x1bd3b1=_0x2a9728=>{const _0x460fc4=_0x15ac90(_0x2a9728);return _0x460fc4>_0x58b0b7?(_0x38973a['grow'](_0x460fc4-_0x58b0b7),_0x58b0b7=_0x460fc4):_0x38973a['grow'](-0x1ee6+-0x87b*0x1+0x2761),_0x38973a['buffer'];},_0x23eb88=()=>{if(!_0x306103)return;const {calcAABB:_0x13ede2}=_0x306103['exports'];_0x13ede2(_0x475ce0,_0x329dba,_0x7d7527,_0xe25b3d);},_0x4b1f3c=()=>{_0x340bdf&&clearTimeout(_0x340bdf),_0x340bdf=setTimeout(()=>{_0x340bdf=null,_0x6cb061();},-0x2*0x796+0x211+0x131*0xb);},_0x6cb061=()=>{if(!_0x306103||!_0x15ebe0||_0x42c87a['length']!==_0xe25b3d||_0x3f8107===null||_0x475ce0===null||_0x44d9a0===null||_0x5bf33c===null||_0x329dba===null||_0x7d7527===null)return;const _0x2077f5=_0x3bbe8a[-0x464+0xb5*-0x19+0x1611],_0x198859=_0x3bbe8a[0x1*-0x170c+0x6f7*0x5+-0xbc6],_0xb44e57=_0x3bbe8a[-0x1*0x197b+0x66*0x11+0x12b7],_0x26c383=_0x277eea[0x2aa+-0x1e*-0x68+0xeda*-0x1],_0x1d7c77=_0x277eea[0x3*0x751+-0x1bfa+0x608],_0x5626b9=_0x277eea[-0x2f*0x69+-0xd*0x59+0x17ce],_0x325811=0x157f+0x1c7c+-0x10a9*0x3+0.001;if(!_0x1156f2&&Math['abs'](_0x2077f5-_0x109718['x'])<_0x325811&&Math['abs'](_0x198859-_0x109718['y'])<_0x325811&&Math['abs'](_0xb44e57-_0x109718['z'])<_0x325811&&Math['abs'](_0x26c383-_0x41e88c['x'])<_0x325811&&Math['abs'](_0x1d7c77-_0x41e88c['y'])<_0x325811&&Math['abs'](_0x5626b9-_0x41e88c['z'])<_0x325811&&Math['abs'](_0x5ea293-_0x4ade4c)<0xf0*-0x1f+0x3*0x59+0x1*0x1c05+0.01)return;if(_0x46aa87){_0x3e0b4b=!(0xe69+0x1ef7*0x1+-0x2d60);return;}_0x46aa87=!(0x26ab+-0x20e9+-0x5c2),_0x1156f2=!(0x4*0x728+0x1ebc+0xf*-0x3f5),_0x4ade4c=_0x5ea293,_0x109718['x']=_0x2077f5,_0x109718['y']=_0x198859,_0x109718['z']=_0xb44e57,_0x41e88c['x']=_0x26c383,_0x41e88c['y']=_0x1d7c77,_0x41e88c['z']=_0x5626b9,_0x3e0b4b=!(0x1238+0x2698+0x1*-0x38cf);const {sortIndexes:_0x268106}=_0x306103['exports'];try{const _0x1a6482=_0x268106(_0x3f8107,_0x475ce0,_0x440da9,_0x5634c5,_0x5c423f,_0x44d9a0,_0x5bf33c,_0x329dba,_0x7d7527,_0x30dbe0,_0x3e6269,_0x5ea293||0x1f04+-0x28*-0x5f+0x2*-0x16ee,_0x3d70bf,_0x20efff,_0x1096d8,_0xe25b3d,_0x5af779,_0x53cd8a,_0x48d774,_0x1fe1c5),_0x1e35c5=new Uint32Array(_0x42c87a);if(_0x1a6482===-0x75*-0x27+-0x29*-0x59+-0x2014*0x1){debugger;console['log']('____\x20ENGIN'+'E','Indexes\x20co'+'unt\x20===\x20',_0x1a6482);}const _0x2fc6f2=_0xe25b3d!==_0x5c5074||_0x5c86bd!==_0x1a62c0;self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x1a6482,'order':_0x1e35c5,'isNewOrder':_0x2fc6f2},[_0x1e35c5['buffer']]),_0x5c5074=_0xe25b3d,_0x5c86bd=_0x1a62c0;}catch(_0x5ecfd1){console['error'](':',_0x5ecfd1),self['postMessag'+'e']({'type':'error','error':_0x5ecfd1['message']});}_0x46aa87=!(-0x4d3+0xaa9*0x2+-0x107e),_0x3e0b4b&&_0x4b1f3c();};}class yC extends me{constructor(){super(),h(this,'worker',null),h(this,'numSplats',-0xf*0xad+-0x2689*-0x1+0x1*-0x1c66),h(this,'is4d',!(-0x2583*-0x1+-0x18df*-0x1+-0x3e62)),h(this,'sortStartT'+'ime',-0x1ef1+-0xbde+0x27*0x119),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'data',{}),(this['orderTextu'+'re']=null,this['backOrderT'+'exture']=null,this['worker']=null,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+SC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x3ecb76=>{var _0x49b183;if(!this['worker'])return;const {data:_0x4c740d}=_0x3ecb76;switch(_0x4c740d['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':_0x4c740d['order']&&(_0x4c740d['isNewOrder']&&(this['orderTextu'+'re']=this['backOrderT'+'exture']),(_0x49b183=this['orderTextu'+'re'])==null||_0x49b183['write'](0x151*0x6+-0x12f3+0x3*0x3af,-0x9aa+-0x1cad+0x2657,this['orderTextu'+'re']['width'],this['orderTextu'+'re']['height']-(0x1f58+-0x19d5+-0x2f*0x1e),_0x4c740d['order']));let _0x3043bf=0x160a+-0x2*0x1189+0x3*0x458;this['sortStartT'+'ime']!==0x2132+-0x1433+-0xcff&&(_0x3043bf=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x3ecb76['data']['count'],_0x3043bf,_0x4c740d['isNewOrder']),this['sortStartT'+'ime']=-0x1f65+-0x2*0xc7b+0x9*0x643;break;case'error':console['error']('Worker:',_0x4c740d['error']),this['fire']('error',_0x4c740d['error']);break;}},this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/sorter-t'+'railing.wa'+'sm'});}['initData'](_0xf3088,_0x8c3489,_0x5466f9,_0x1cff65,_0x453d5f,_0x428536,_0x273c58,_0x2d6511){var _0xf3737f;this['is4d']=_0x2d6511,this['numSplats']=_0x8c3489['length']/(0x1cb+0xe9*-0x5+-0x1*-0x2c5),(!_0x273c58||_0x273c58['length']===0x5*-0x2fe+-0x17b4+0x26aa)&&(_0x273c58=[0x106d+-0x290+0x15*-0xa9,-0x2e1*-0x1+-0x2*0x971+0x103d]),this['orderTextu'+'re']||(this['orderTextu'+'re']=_0xf3088),this['backOrderT'+'exture']=_0xf3088;const _0x43dec9=new Date()['getTime']();(_0xf3737f=this['worker'])==null||_0xf3737f['postMessag'+'e']({'type':'initData','centers':_0x8c3489,'muT':_0x5466f9,'tScale':_0x1cff65,'motion':_0x453d5f,'timeIndex':_0x428536,'timeOption':_0x273c58,'is4d':_0x2d6511,'id':_0x43dec9});}['setCamera'](_0x59909b,_0xda4a4e){this['worker']&&(!_0x59909b||!_0xda4a4e||(this['data']['cameraPosi'+'tion']={'x':_0x59909b['x'],'y':_0x59909b['y'],'z':_0x59909b['z']},this['data']['cameraDire'+'ction']={'x':_0xda4a4e['x'],'y':_0xda4a4e['y'],'z':_0xda4a4e['z']},this['sortStartT'+'ime']===-0x9*-0x4a+-0xf03*-0x2+-0x414*0x8&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x59909b['x'],'y':_0x59909b['y'],'z':_0x59909b['z']},'cameraDirection':{'x':_0xda4a4e['x'],'y':_0xda4a4e['y'],'z':_0xda4a4e['z']}})));}['setCurrent'+'Time'](_0x43dda7){this['worker']&&(this['data']['time']=_0x43dda7,this['sortStartT'+'ime']===0x625+0x5bf*-0x1+-0x66&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x43dda7}));}['setUseTemp'+'oralSort'](_0x30b01f){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x30b01f});}['setUseDyna'+'micSort'](_0xd1f07f){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseDyna'+'micSort','useDynamicSort':_0xd1f07f});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const vC=new te(),Va=new D(),Ga=new D(),Sc=[0x57c+0x146f+0x1*-0x19eb,0x2147+-0x2a9+0xf4f*-0x2];class xC{constructor(_0x4ac88b,_0x3194d7={}){h(this,'resource'),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'_material'),h(this,'meshInstan'+'ce'),h(this,'options',{}),h(this,'sorter',null),h(this,'time',0x53*0x71+-0x1175+0x132e*-0x1),h(this,'lastCamera'+'Position',new D()),h(this,'lastCamera'+'Direction',new D()),h(this,'resolveSH',null),h(this,'cameras',[]),h(this,'forceUpDat'+'eSorterTim'+'e',(_0x1558b0,_0x17be76=void(-0x298*0x2+-0x11b5+0x16e5))=>{(_0x17be76||_0x17be76===0x1777*-0x1+0x2534+-0xdbd)&&(this['material']['setParamet'+'er']('uTime',_0x17be76),this['updateTime'](_0x17be76)),this['sort'](_0x1558b0);}),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x4ac88b['numSplats']),this['resource']=_0x4ac88b,this['orderTextu'+'re']=this['resource']['createText'+'ure']('splatOrder',Ki,this['resource']['evalTextur'+'eSize'](this['resource']['numSplats'])),this['backOrderT'+'exture']=null,_0x3194d7['material']?(this['_material']=_0x3194d7['material'],this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])):(this['_material']=new Xn({'uniqueName':'SplatMater'+'ial','vertexGLSL':'#include\x20\x22'+'gsplatVS\x22','fragmentGLSL':'#include\x20\x22'+'gsplatPS\x22','vertexWGSL':'#include\x20\x22'+'gsplatVS\x22','fragmentWGSL':'#include\x20\x22'+'gsplatPS\x22','attributes':{'vertex_position':Me,'vertex_id_attrib':ph}}),this['configureM'+'aterial'](this['_material']),this['_material']['update']()),this['meshInstan'+'ce']=new He(this['resource']['mesh'],this['_material']),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(-0x927+-0x990+0x12b7)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=0xcc9+-0x8ec*0x3+0xdfb,this['sorter']=new yC(),this['sorter']['on']('initialize'+'d',()=>{var _0x5adcbe,_0x21ca89,_0x477ffa,_0x55b02e,_0x2d44fa,_0x419edd,_0x5331ee,_0x1bfe4d,_0x29b7f2,_0x20ede0,_0x316cbe;const _0x53c69b=new Float32Array(this['resource']['centers']['buffer']['slice']()),_0x29e91e=new Float32Array(((_0x21ca89=(_0x5adcbe=this['resource']['muT'])==null?void(-0x1523*-0x1+-0xb*0x26f+0x5a2):_0x5adcbe['buffer'])==null?void(0xd3*0x13+0x723+-0x16cc):_0x21ca89['slice']())??new Float32Array()),_0x3248cd=new Float32Array(((_0x55b02e=(_0x477ffa=this['resource']['tScale'])==null?void(-0x1d08+0x174a+0x3*0x1ea):_0x477ffa['buffer'])==null?void(-0x1*0x21e3+-0x1219+-0x1154*-0x3):_0x55b02e['slice']())??new Float32Array()),_0xf18ac9=new Float32Array(((_0x419edd=(_0x2d44fa=this['resource']['motion'])==null?void(0x163+0x1ff4+0x5*-0x6ab):_0x2d44fa['buffer'])==null?void(-0x34*0xad+0x32d*-0x1+0x241*0x11):_0x419edd['slice']())??new Float32Array()),_0x534d77=new Float32Array(((_0x1bfe4d=(_0x5331ee=this['resource']['timeIndex'])==null?void(0x2313+0x16*-0x6e+-0x199f):_0x5331ee['buffer'])==null?void(0x1ced+0x9+-0x1cf6):_0x1bfe4d['slice']())??new Float32Array(-0x1f65+0x16f5+-0x3c*-0x24)),_0x3e70bd=new Float32Array(((_0x20ede0=(_0x29b7f2=this['resource']['timeOption'])==null?void(0x104d+0x142b+0x8*-0x48f):_0x29b7f2['buffer'])==null?void(0x1012+-0x8*0x17d+-0x42a):_0x20ede0['slice']())??new Float32Array());(_0x316cbe=this['sorter'])==null||_0x316cbe['initData'](this['orderTextu'+'re'],_0x53c69b,_0x29e91e,_0x3248cd,_0xf18ac9,_0x534d77,_0x3e70bd,this['resource']['is4D']);}),this['sorter']['on']('updated',async(_0x169cf0,_0xef75f5,_0x1ce94d)=>{var _0x475815;this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x169cf0/this['resource']['instanceSi'+'ze']),_0x1ce94d&&this['backOrderT'+'exture']&&(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatInst'+'ance\x20updat'+'ed'),[this['orderTextu'+'re'],this['backOrderT'+'exture']]=[this['backOrderT'+'exture'],this['orderTextu'+'re']],await this['resource']['updateText'+'ure'](),this['resource']['configureM'+'aterial'](this['_material']),this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])),_0x1ce94d&&((_0x475815=this['resource'])==null||_0x475815['fireAssets'+'ManagerTim'+'eIndex']()),this['material']['setParamet'+'er']('numSplats',_0x169cf0);}),this['setHighQua'+'litySH'](_0x3194d7['highQualit'+'ySH']??!(-0x477+0x174c+-0x12d4)));}async['updateInst'+'anceData'](_0x464656){var _0x35c138,_0x13bd89;console['log']('____\x20ENGIN'+'E\x20IVAN','updateInst'+'anceData\x20A'+'SSETS\x20GSpl'+'atInstance',_0x464656['numSplats']),this['resource']=_0x464656;const _0x698dfe=this['resource']['evalTextur'+'eSize'](_0x464656['centers']['length']/(0x1*-0x2159+-0x60*0x19+0x2abc));return(_0x35c138=this['backOrderT'+'exture'])==null||_0x35c138['destroy'](),this['backOrderT'+'exture']=this['resource']['createText'+'ure']('splatOrder'+'2',Ki,_0x698dfe),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(-0xd53*0x1+0x1*-0x1b1+0x3c1*0x4)),(_0x13bd89=this['sorter'])==null||_0x13bd89['initData'](this['backOrderT'+'exture'],_0x464656['centers'],_0x464656['muT'],_0x464656['tScale'],_0x464656['motion'],_0x464656['timeIndex'],_0x464656['timeOption'],_0x464656['is4D']),new Promise(_0x251d0d=>{var _0x24b3da;const _0x571a09=(_0x5e804f,_0x5685ca,_0x5e5f71)=>{var _0x345ab7;_0x5e5f71&&((_0x345ab7=this['sorter'])==null||_0x345ab7['off']('updated',_0x571a09),_0x251d0d(!(0x1291+-0x79+-0x1218)));};(_0x24b3da=this['sorter'])==null||_0x24b3da['on']('updated',_0x571a09);});}['destroy'](){var _0xd3439,_0x3e372f,_0x58df95,_0x833e95,_0xb2f9dd,_0x2e56ae;(_0xd3439=this['resolveSH'])==null||_0xd3439['destroy'](),(_0x3e372f=this['material'])==null||_0x3e372f['destroy'](),(_0x58df95=this['meshInstan'+'ce'])==null||_0x58df95['destroy'](),(_0x833e95=this['sorter'])==null||_0x833e95['destroy'](),(_0xb2f9dd=this['orderTextu'+'re'])==null||_0xb2f9dd['destroy'](),(_0x2e56ae=this['backOrderT'+'exture'])==null||_0x2e56ae['destroy']();}set['material'](_0x3f11ae){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.set\x20'+'material'),this['_material']!==_0x3f11ae&&(this['_material']=_0x3f11ae,this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x3f11ae));}get['material'](){return this['_material'];}['configureM'+'aterial'](_0x588d44,_0x1b2325={}){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.conf'+'igureMater'+'ial'),this['resource']['configureM'+'aterial'](_0x588d44),_0x588d44['setParamet'+'er']('numSplats',0x1c01+-0xd*0x14f+-0x86*0x15),_0x588d44['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),_0x588d44['setParamet'+'er']('alphaClip',-0x22*-0x9+-0xd7d+0xc4b+0.3),_0x588d44['setDefine']('DITHER_'+(_0x1b2325['dither']?'BLUENOISE':'NONE'),''),_0x588d44['cull']=bt,_0x588d44['blendType']=_0x1b2325['dither']?Cs:Zs,_0x588d44['depthWrite']=!!_0x1b2325['dither'];}['updateView'+'port'](_0x633e54){var _0x144e05;const _0x2fbc8c=_0x633e54==null?void(-0x2ba*0x5+-0x1814+0x25b6):_0x633e54['camera'],_0x3c28fb=_0x2fbc8c==null?void(-0x8d0*-0x4+0x72*-0x30+-0xde0):_0x2fbc8c['renderTarg'+'et'],{width:_0x8de26f,height:_0x25626b}=_0x3c28fb??this['resource']['device'];Sc[-0x37*0x29+0x634*-0x2+0x1537]=_0x8de26f,Sc[-0xb*-0x11f+-0x5*0x692+0x1486]=_0x25626b;const _0x57ae6f=(_0x144e05=_0x2fbc8c==null?void(0x1279+0x1d4f+-0x2fc8):_0x2fbc8c['camera'])==null?void(0x1*0x1387+-0x897*0x2+0x259*-0x1):_0x144e05['xr'];_0x57ae6f!=null&&_0x57ae6f['active']&&_0x57ae6f['views']['list']['length']===-0x1*0x1fa6+-0x1078+-0x8*-0x604&&(Sc[-0x7f4*-0x4+0xb60+-0x2b30]*=-0xb5f+0x2*0xeda+-0x1255+0.5),this['material']['setParamet'+'er']('viewport',Sc);}['sort'](_0x2f74a9){if(this['sorter']){const _0x5f161e=_0x2f74a9['getWorldTr'+'ansform']();_0x5f161e['getTransla'+'tion'](Va),_0x5f161e['getZ'](Ga);const _0x43f5ef=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x25f40f=vC['invert'](_0x43f5ef);_0x25f40f['transformP'+'oint'](Va,Va),_0x25f40f['transformV'+'ector'](Ga,Ga),(!Va['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!Ga['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](Va),this['lastCamera'+'Direction']['copy'](Ga),this['sorter']['setCamera'](Va,Ga)),this['sorter']['setCurrent'+'Time'](this['time']);}this['updateView'+'port'](_0x2f74a9);}['update'](){var _0x459eed;if(this['cameras']['length']>0x14c*-0x14+0x68d+-0x1363*-0x1){const _0x4e790d=this['cameras'][0x3*-0x8d1+-0x417+0x3*0xa2e];this['sort'](_0x4e790d['_node']),(_0x459eed=this['resolveSH'])==null||_0x459eed['render'](_0x4e790d['_node'],this['meshInstan'+'ce']['node']['getWorldTr'+'ansform']()),this['cameras']['length']=0x2269+0x802+-0x2a6b;}}['setHighQua'+'litySH'](_0x50e500){const {resource:_0x5cefec}=this,{gsplatData:_0x3a18df}=_0x5cefec;_0x3a18df instanceof gC&&_0x3a18df['shBands']>-0x2030+-0x3dd*-0x6+0x902&&_0x50e500===!!this['resolveSH']&&(this['resolveSH']?(this['resolveSH']['destroy'](),this['resolveSH']=null):this['resolveSH']=new fC(_0x5cefec['device'],this));}['updateTime'](_0x5c7adb){this['time']=_0x5c7adb;}}class Rv{constructor(_0x2236f6,_0x2e75c7){h(this,'sceneInfo',{}),h(this,'isDestroye'+'d',!(0x1c47+-0x1c65+-0x2*-0xf)),h(this,'device'),h(this,'gsplatData'),h(this,'centers'),h(this,'aabb'),h(this,'mesh'),h(this,'instanceIn'+'dices'),h(this,'gsplatInst'+'ance'),(this['device']=_0x2236f6,this['gsplatData']=_0x2e75c7,this['isDestroye'+'d']=!(0xabf+0xd*0x2+-0xad8));const _0x5a9f35=-0x779*0x1+-0x1*0x2677+0x2e70,_0x4fc12f=Math['ceil'](_0x2e75c7['numSplats']/_0x5a9f35)*_0x5a9f35/_0x5a9f35,_0x584f90=new Uint32Array(_0x4fc12f);for(let _0x5dc384=0x755*-0x1+0x26bb+-0x1f66;_0x5dc384<_0x4fc12f;++_0x5dc384)_0x584f90[_0x5dc384]=_0x5dc384*_0x5a9f35;const _0x22c14f=new kt(_0x2236f6,[{'semantic':ph,'components':0x1,'type':el,'asInt':!(-0x75+-0x1bd7*-0x1+-0x1b62)}]),_0x4a5b08=new Float32Array((0x1a30+-0xed9*-0x2+-0x1*0x37d6)*_0x5a9f35),_0x237692=new Uint32Array((0x2221*0x1+0xa65+-0x2c80)*_0x5a9f35);for(let _0x259498=-0xb95*0x2+0x193a*0x1+-0x42*0x8;_0x259498<_0x5a9f35;++_0x259498){_0x4a5b08['set']([-(0x2122+0x1f16+-0x4037),-(-0x3b5+0x1*0x15d7+-0x7*0x297),_0x259498,-0x17a5+0x392*-0xa+0xd6*0x47,-(-0x1201+-0x2*0x27c+0x16fa),_0x259498,-0x7*-0x95+0xba1*-0x2+-0x8*-0x266,-0x133e+-0xe9*0x13+-0x3*-0xc2e,_0x259498,-(-0x1*-0x1dc5+0x1884+-0x48*0xc1),0x2638+0x287*-0x2+0xd*-0x28d,_0x259498],_0x259498*(-0xf72+-0x13*-0x19d+-0xf29));const _0x58809f=_0x259498*(0x7d3+-0xdf*-0x15+-0x1a1a);_0x237692['set']([0x2525+0x1*0x25f1+-0x4b16+_0x58809f,-0x1*0x7b2+0x49f+0x314+_0x58809f,-0x504+0x1aa5+-0x159f+_0x58809f,0x146e+-0x10*-0x233+-0x379e+_0x58809f,0xca9*0x3+0x105*-0x7+0x1ed6*-0x1+_0x58809f,-0x7*0x36f+-0x202*-0x9+0x5fa+_0x58809f],_0x259498*(0x190c+-0x78d*-0x1+-0x2093));}this['mesh']=new Ge(_0x2236f6),this['mesh']['setPositio'+'ns'](_0x4a5b08,-0x2353*-0x1+-0x1fbb+0x83*-0x7),this['mesh']['setIndices'](_0x237692),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),this['instanceIn'+'dices']=new Is(_0x2236f6,_0x22c14f,_0x4fc12f,{'usage':ms,'data':_0x584f90['buffer']});}['updateData'](){var _0x51088c;const _0x1ad7d0=this['gsplatData'];if(!_0x1ad7d0)return;const _0xc2c0d1=-0x1eea+0xfc1+0xfa9,_0x4d92ab=Math['ceil'](_0x1ad7d0['numSplats']/_0xc2c0d1)*_0xc2c0d1/_0xc2c0d1,_0x299807=new Uint32Array(_0x4d92ab);for(let _0x269761=-0xc49+-0xc4d+-0x832*-0x3;_0x269761<_0x4d92ab;++_0x269761)_0x299807[_0x269761]=_0x269761*_0xc2c0d1;const _0x17b2cc=new kt(this['device'],[{'semantic':ph,'components':0x1,'type':el,'asInt':!(-0xf76+-0x1031+0x1fa7)}]),_0x411674=new Float32Array((0xf7a+-0xa*0x14f+-0x258)*_0xc2c0d1),_0x206a0c=new Uint32Array((0x1ba2+0x1b00+-0x369c)*_0xc2c0d1);for(let _0x5c71ed=0x2*0xd4+0xf88*0x1+-0x1130;_0x5c71ed<_0xc2c0d1;++_0x5c71ed){_0x411674['set']([-(0x1*0x18af+-0x23ad*-0x1+-0x3c5b),-(-0x1b12+-0x1013*-0x2+-0x513),_0x5c71ed,-0x45*-0x7d+0x1a9d+0x1*-0x3c4d,-(-0xce*0x10+0x33b*0x7+-0x9bc),_0x5c71ed,-0x4*0x31b+-0x1840+0x24ad,0x7e*-0x5+-0x1*0xc32+0xea9,_0x5c71ed,-(0x121b+0x125*0x8+-0x1b42),-0x340+0x1*0x4af+0x16e*-0x1,_0x5c71ed],_0x5c71ed*(0x367*-0x3+0x1981+-0xf40));const _0x3a6ee7=_0x5c71ed*(0x5*-0x68f+0x1bba+-0x515*-0x1);_0x206a0c['set']([-0x120e*0x1+-0x10f*0xb+0x1db3*0x1+_0x3a6ee7,0x12d3+0xe48+-0x211a+_0x3a6ee7,0x1696+-0x3*-0x625+-0x2903+_0x3a6ee7,0xb*-0x31a+0x21e6+0x38+_0x3a6ee7,-0x351+-0x122e+-0x3*-0x72b+_0x3a6ee7,0x81d*-0x3+-0x7*-0x379+-0xb*-0x1+_0x3a6ee7],_0x5c71ed*(-0x195c+-0x2*-0x1ba+0x322*0x7));}this['mesh']['setPositio'+'ns'](_0x411674,-0x256c+-0x1696*-0x1+-0x21f*-0x7),this['mesh']['setIndices'](_0x206a0c),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),(_0x51088c=this['instanceIn'+'dices'])==null||_0x51088c['destroy'](),this['instanceIn'+'dices']=new Is(this['device'],_0x17b2cc,_0x4d92ab,{'usage':ms,'data':_0x299807['buffer']});}['updateText'+'ure'](){}['destroy'](){var _0x4f5193,_0x38cb15,_0x4a5c9e,_0x374d35;(_0x4f5193=this['mesh'])==null||_0x4f5193['destroy'](),(_0x38cb15=this['instanceIn'+'dices'])==null||_0x38cb15['destroy'](),(_0x4a5c9e=this['gsplatData'])==null||_0x4a5c9e['destroy'](),this['gsplatData']=null,(_0x374d35=this['gsplatInst'+'ance'])==null||_0x374d35['destroy'](),this['gsplatInst'+'ance']=void(0xa16+0x21f*0xd+-0x25a9),this['isDestroye'+'d']=!(0x1b49+0x30b*0x5+0x1*-0x2a80),this['mesh']=null;}get['instanceSi'+'ze'](){return 0x17b9*0x1+0x22*-0x8e+-0x45d;}get['numSplats'](){var _0x4a98cf;return(_0x4a98cf=this['gsplatData'])==null?void(-0x29d+-0x10b9+-0x96*-0x21):_0x4a98cf['numSplats'];}['setSceneIn'+'fo'](_0x5cbdd0){}['configureM'+'aterial'](_0x101336){}['evalTextur'+'eSize'](_0x4e4959){return J['ZERO'];}['appendGSpl'+'atResource'](_0x42c4a6,_0x318825,_0x8249ba,_0x1ad098,_0x48c9bd){}['fireAssets'+'ManagerTim'+'eIndex'](){}['createText'+'ure'](_0x3b54f3,_0x39c277,_0x436ac6,_0x567679){return new _e(this['device'],{'name':_0x3b54f3,'width':_0x436ac6['x'],'height':_0x436ac6['y'],'format':_0x39c277,'cubemap':!(-0x3d*-0x4c+0x1*-0x1d44+0x1*0xb29),'mipmaps':!(0x1775*0x1+-0x2403+0x283*0x5),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,..._0x567679?{'levels':[_0x567679]}:{}});}['instantiat'+'e'](){w['removed']('GSplatReso'+'urce.insta'+'ntiate\x20is\x20'+'removed.\x20U'+'se\x20gsplat\x20'+'component\x20'+'instead');}['createInst'+'ance'](_0x4e3875,_0x27c41f){return this['gsplatInst'+'ance']=new xC(_0x4e3875,_0x27c41f),this['gsplatInst'+'ance'];}}async function TC(){const _0x1952e0=new Float32Array(-0x1d7b+0x1a40+0x33c),_0x3eb660=new Int32Array(_0x1952e0['buffer']);let _0x5673a8=null,_0x5ec38f=null,_0x3b55f2=null,_0x4d649e=null,_0x18ae33=null,_0x258c64=null,_0x16f0e7=null,_0x49fe47=null;self['onmessage']=async _0x490c87=>{const {data:_0x2ed6fc}=_0x490c87;switch(_0x2ed6fc['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0xdb0b04(_0x2ed6fc['numSplats'],_0x2ed6fc['shBands'],_0x2ed6fc['SHData']);break;case'updateColo'+'rData':_0x52affe(_0x2ed6fc['numSplats'],_0x2ed6fc['cr'],_0x2ed6fc['cg'],_0x2ed6fc['cb'],_0x2ed6fc['ca']);break;case'updateTran'+'sformData':_0x133e85(_0x2ed6fc['numSplats'],_0x2ed6fc['is4D'],_0x2ed6fc['x'],_0x2ed6fc['y'],_0x2ed6fc['z'],_0x2ed6fc['rx'],_0x2ed6fc['ry'],_0x2ed6fc['rz'],_0x2ed6fc['rw'],_0x2ed6fc['mx'],_0x2ed6fc['my'],_0x2ed6fc['mz'],_0x2ed6fc['sx'],_0x2ed6fc['sy'],_0x2ed6fc['sz'],_0x2ed6fc['muT'],_0x2ed6fc['tScale']);break;case'calcAabb':_0x224c23(_0x2ed6fc['numSplats'],_0x2ed6fc['x'],_0x2ed6fc['y'],_0x2ed6fc['z'],_0x2ed6fc['sx'],_0x2ed6fc['sy'],_0x2ed6fc['sz']);break;case'destroyWor'+'ker':_0x3499eb();break;}};class _0x488ac2{constructor(_0x59f0de=-0x237d+0x3*-0x351+0x10*0x2d7,_0x121031=0x11db+0x145*-0x17+-0x42*-0x2c,_0x50e418=-0xa*-0x343+0x146b*0x1+-0x3509,_0x5a9e9b=-0xc*-0x1f6+0x1059+-0x3a*0xb0){this['x']=_0x59f0de,this['y']=_0x121031,this['z']=_0x50e418,this['w']=_0x5a9e9b;}['set'](_0x16cee8,_0x3bca0d,_0x2e276b,_0x4aa520){return this['x']=_0x16cee8,this['y']=_0x3bca0d,this['z']=_0x2e276b,this['w']=_0x4aa520,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x66d2e7=this){let _0x3f16f4=_0x66d2e7['length']();return _0x3f16f4===-0x26d1*-0x1+0x443*-0x2+-0x1e4b?(this['x']=this['y']=this['z']=-0x1*0x965+-0x25d7+0x2f3c,this['w']=-0xc11+0x1c54+-0x1042):(_0x3f16f4=(-0x2*0x6d+0x1*-0xcc7+-0x2*-0x6d1)/_0x3f16f4,this['x']=_0x66d2e7['x']*_0x3f16f4,this['y']=_0x66d2e7['y']*_0x3f16f4,this['z']=_0x66d2e7['z']*_0x3f16f4,this['w']=_0x66d2e7['w']*_0x3f16f4),this;}['mulScalar'](_0x4f484e,_0x21eac1=this){return this['x']=_0x21eac1['x']*_0x4f484e,this['y']=_0x21eac1['y']*_0x4f484e,this['z']=_0x21eac1['z']*_0x4f484e,this['w']=_0x21eac1['w']*_0x4f484e,this;}}const _0x55a5ac=_0x1cbec6=>{_0x1952e0[-0x10f7+0x269*-0x7+-0x2*-0x10eb]=_0x1cbec6;const _0x359d31=_0x3eb660[-0x1b*-0xeb+0x5ac+-0x1*0x1e75];let _0x4cebfb=_0x359d31>>-0x1*0xd09+0x118d+-0xc*0x5f&0x47*-0x1c1+0x56b4+0xa5d3,_0x1acccc=_0x359d31>>0xa5*0x33+0x1*0x874+-0x2947&-0x1990+0x16f0+0xa9f;const _0x4f82e2=_0x359d31>>0x94*-0x1+-0x3b*0x91+0x2216&0x1bb*-0x5+0x21a1+-0x17fb;return _0x4f82e2<0x23a5+0x1b6*0x12+-0x420a?_0x4cebfb:_0x4f82e2>0x106*0x23+-0x1372+-0xfd2?(_0x4cebfb|=0x1470*-0x8+-0x9011+0x1af91,_0x4cebfb|=(_0x4f82e2===-0x1759+0x1444*0x1+0x414?-0x189*-0x1+0xf25*0x1+-0x10ae:0x1371+-0xcaa*0x2+-0x1d*-0x34)&&_0x359d31&0x1*-0x990aa2+-0x1f5*0xe27+0x134bcf4,_0x4cebfb):_0x4f82e2<-0x7dc+0x3d*-0x55+0x1c8e?(_0x1acccc|=0x79*-0x11+-0x4b7*0x4+0x22e5,_0x4cebfb|=(_0x1acccc>>0x1eb*-0x2+0x1f74+-0x2*0xd96-_0x4f82e2)+(_0x1acccc>>-0x111+0x1ea6+-0x1d24-_0x4f82e2&0x140c+0x2149*0x1+-0x3554),_0x4cebfb):(_0x4cebfb|=_0x4f82e2-(0x2471+0x5*-0x6bd+-0x8*0x4a)<<0x3e8+-0x8*0x33+0x2*-0x123|_0x1acccc>>-0x26*-0x94+-0xdd3*-0x1+-0x23ca,_0x4cebfb+=_0x1acccc&0x1372+0x3*-0x4c3+-0x37*0x18,_0x4cebfb);},_0x224c23=(_0x5845a1,_0x275b86,_0x24711c,_0x1e4ce5,_0x594a92,_0x750e16,_0x5bfda2)=>{let _0x524774=-0xe9c+-0x35*0xa+-0x7a*-0x23,_0x24ef1c=0xbe0+0x7c3*0x5+0x19*-0x207,_0x36b632=-0x6fe*0x1+-0x2299+0x2997,_0x2a548b=-0x1bbc+0x1*-0x2703+0x42bf,_0x463cda=-0x1*-0x19a3+-0x6a*-0x13+-0x2181,_0x244af9=0x1544+0x2628+-0x2*0x1db6,_0x353b72=!(-0x89f+-0x1e2f*-0x1+-0x5c*0x3c);const _0x124deb=new Float32Array(0x22bb+-0x9*-0x391+-0x1*0x42d1),_0x501685=new Float32Array(-0xd*-0x164+0x1*-0x1949+0x3*0x268);for(let _0x24962b=0x7bc+0x1567*0x1+-0x1d23;_0x24962b<_0x5845a1;++_0x24962b){const _0x1878f6=_0x275b86[_0x24962b],_0x2429b2=_0x24711c[_0x24962b],_0x4b2735=_0x1e4ce5[_0x24962b],_0x4b2c=Math['max'](_0x594a92[_0x24962b],_0x750e16[_0x24962b],_0x5bfda2[_0x24962b]);if(!isFinite(_0x1878f6)||!isFinite(_0x2429b2)||!isFinite(_0x4b2735)||!isFinite(_0x4b2c))continue;const _0x46ac26=(-0x12a3+0xca+0x11db)*Math['exp'](_0x4b2c);_0x353b72?(_0x353b72=!(-0x5c4+0x16dc+-0x1117),_0x524774=_0x1878f6-_0x46ac26,_0x24ef1c=_0x2429b2-_0x46ac26,_0x36b632=_0x4b2735-_0x46ac26,_0x2a548b=_0x1878f6+_0x46ac26,_0x463cda=_0x2429b2+_0x46ac26,_0x244af9=_0x4b2735+_0x46ac26):(_0x524774=Math['min'](_0x524774,_0x1878f6-_0x46ac26),_0x24ef1c=Math['min'](_0x24ef1c,_0x2429b2-_0x46ac26),_0x36b632=Math['min'](_0x36b632,_0x4b2735-_0x46ac26),_0x2a548b=Math['max'](_0x2a548b,_0x1878f6+_0x46ac26),_0x463cda=Math['max'](_0x463cda,_0x2429b2+_0x46ac26),_0x244af9=Math['max'](_0x244af9,_0x4b2735+_0x46ac26));}_0x353b72||(_0x124deb[-0x10a8+0x14*-0x9e+0x740*0x4]=(_0x524774+_0x2a548b)*(-0x36e+0x1a56*-0x1+0x1dc4+0.5),_0x124deb[0x269b*-0x1+0x274*0x2+-0xc*-0x2cf]=(_0x24ef1c+_0x463cda)*(-0xc*-0x20+0x121*-0x2+-0x61*-0x2+0.5),_0x124deb[-0x5*0x1f+-0x5f4*0x1+-0x691*-0x1]=(_0x36b632+_0x244af9)*(0x17e3*0x1+-0x101*-0xd+0x8*-0x49e+0.5),_0x501685[-0x2cf*0x8+0x1a2f*0x1+-0x3b7]=(_0x2a548b-_0x524774)*(0x1ec2+-0x1c7+0x9a9*-0x3+0.5),_0x501685[-0x25c*-0x2+-0xd43+0x88c]=(_0x463cda-_0x24ef1c)*(-0xaf3+0xd3a+-0x247+0.5),_0x501685[-0x756+-0x437*0x6+0x1*0x20a2]=(_0x244af9-_0x36b632)*(-0x5*-0xdf+0xb4*0x9+0x1*-0xaaf+0.5)),self['postMessag'+'e']({'type':'updatedAab'+'bData','center':_0x124deb,'halfExtents':_0x501685});},_0x133e85=(_0xd87b19,_0x1f0822,_0xed4649,_0x7a38ba,_0x15f3c9,_0x2cf145,_0x152fe0,_0x114c73,_0x57936a,_0x189629,_0x5b4479,_0x26648c,_0x1e63db,_0x1a27f8,_0x1750bc,_0x208962,_0x233e48)=>{_0x3499eb(),_0x5673a8=new Float32Array(_0xd87b19*(0x2*-0xfd6+-0x1754*0x1+0x3703)),_0x4d649e=new Float32Array(_0xd87b19*(-0x3*0x65d+0x736+0xbe4*0x1)),_0x258c64=new Uint16Array(_0xd87b19*(-0xa98+0x4*-0x6b8+-0x13*-0x1f9)),_0x3b55f2=new Float32Array(_0xd87b19*(0x1a9d+-0x581*-0x5+0x55*-0xa3)),_0x1f0822&&(_0x18ae33=new Float32Array(_0xd87b19*(0x6d*0x43+0x249a+-0x411e)),_0x5ec38f=new Float32Array(_0xd87b19*(-0x1419+-0x1*-0x55f+0xebd)),_0x16f0e7=new Float32Array(_0xd87b19*(0x26c4+0x148a+0x161*-0x2b)),_0x49fe47=new Float32Array(_0xd87b19));const _0x2be693=new _0x488ac2(-0x1*0x1f9e+0x9*-0x3c8+0x41a6,-0x996+0x1c3b+-0x12a5,-0x7*-0x3b3+0x4*0x1de+-0x215d,0x1*0x1479+0xe*0x2c+-0x16e1);for(let _0x279265=0xe*-0x107+0x39f*0x1+0xac3;_0x279265<_0xd87b19;_0x279265++)_0x2be693['set'](_0x2cf145[_0x279265],_0x152fe0[_0x279265],_0x114c73[_0x279265],_0x57936a[_0x279265]),_0x2be693['normalize'](),_0x2be693['w']<-0x157*0x4+-0x1b21+0x1*0x207d&&_0x2be693['mulScalar'](-(-0x1e2f+-0x1d3f+-0xbe3*-0x5)),_0x4d649e[_0x279265*(-0x89f*0x4+0x1*0x14bd+-0x6*-0x24b)+(0x36a*-0x5+0x9c2+0x750)]=_0xed4649[_0x279265],_0x4d649e[_0x279265*(0x1c0+0xaa5+-0xc62)+(-0x20c1+0x1*0x12b5+0xe0d)]=_0x7a38ba[_0x279265],_0x4d649e[_0x279265*(-0xcca*-0x1+0x271*-0x5+0x1*-0x92)+(-0x151*0x1d+-0x1d00+-0x7*-0x999)]=_0x15f3c9[_0x279265],_0x5673a8[_0x279265*(-0xa86*-0x3+0x2*-0x2da+-0x19db)+(-0x3d*0x38+-0x1441+0x2199)]=_0xed4649[_0x279265],_0x5673a8[_0x279265*(0x109*0x14+0x2*0x11a4+0x17*-0x26f)+(0xfa*-0x6+0x1*0x1af1+-0x1514)]=_0x7a38ba[_0x279265],_0x5673a8[_0x279265*(0xd69*0x1+-0x6+-0xd60)+(0x21fb*0x1+-0x1a6a+-0x78f)]=_0x15f3c9[_0x279265],_0x258c64[_0x279265*(0x235d+0xe58+-0x31b2)+(0x24db+-0xb8*-0x14+0x3d*-0xd7)]=_0x55a5ac(Math['exp'](_0x1e63db[_0x279265])),_0x258c64[_0x279265*(-0x173e+-0x103*-0x1+0x163e)+(-0x24bf+0x323+0x219d*0x1)]=_0x55a5ac(Math['exp'](_0x1a27f8[_0x279265])),_0x258c64[_0x279265*(-0x1390+-0x2389+-0xdc7*-0x4)+(-0x1416+-0x2ab*-0x5+-0x85*-0xd)]=_0x55a5ac(Math['exp'](_0x1750bc[_0x279265])),_0x3b55f2[_0x279265*(-0x3b*0xa7+-0x26b6+0x269b*0x2)+(0x4*-0x487+0x2*0x199+0x2*0x775)]=_0x2be693['x'],_0x3b55f2[_0x279265*(-0x147f*0x1+-0xd42+-0x21c4*-0x1)+(0x1*-0x593+0x1c70*0x1+-0x16*0x10a)]=_0x2be693['y'],_0x3b55f2[_0x279265*(-0xfd3+0x1a9d+-0xac7)+(-0xc25*-0x1+0x2000+0x1*-0x2c23)]=_0x2be693['z'],_0x1f0822&&_0x18ae33&&_0x5ec38f&&(_0x18ae33[_0x279265*(0xb9f+-0xb7*0x1a+-0x37d*-0x2)+(0x3b3*0x4+-0xe59+-0x73)]=_0x189629[_0x279265],_0x18ae33[_0x279265*(-0x467+0x161*-0x1+0x1*0x5cb)+(-0x7*-0x57b+-0x1946+0x43*-0x32)]=_0x5b4479[_0x279265],_0x18ae33[_0x279265*(0xb1*-0x36+0x703+-0x2*-0xf2b)+(-0x1*-0x2640+-0xe*0xdb+-0xd22*0x2)]=_0x26648c[_0x279265],_0x16f0e7[_0x279265*(0x3df*-0x4+-0xc07+0x1b86)+(-0xbb3+-0x2*-0x11ed+-0x1827)]=_0x189629[_0x279265],_0x16f0e7[_0x279265*(-0x1f4b+-0x2584+0x44d2)+(0xd88*0x1+-0xb26+0x3*-0xcb)]=_0x5b4479[_0x279265],_0x16f0e7[_0x279265*(0x47*-0x2+-0x1ff8+-0x2089*-0x1)+(-0x5b0+-0x2215+-0x11*-0x257)]=_0x26648c[_0x279265],_0x49fe47[_0x279265]=_0x233e48?Math['exp'](_0x233e48[_0x279265]):0xa3*-0x37+0xef6+0x140f,_0x5ec38f[_0x279265*(0x25a7+0x1788+-0x3d2c)+(0xd0c+-0x17*-0x93+-0x1a41)]=_0x208962?_0x208962[_0x279265]:-0x2344+-0x22bd+0x4601*0x1,_0x5ec38f[_0x279265*(-0xd61+0x2*-0x1ea+0x1138)+(-0x1b15+0x3ce+0x1748)]=_0x49fe47[_0x279265]);const _0x5bec9d=[_0x5673a8['buffer'],_0x4d649e['buffer'],_0x258c64['buffer'],_0x3b55f2['buffer']];_0x1f0822&&_0x5bec9d['push'](_0x18ae33['buffer'],_0x5ec38f['buffer'],_0x16f0e7['buffer'],_0x49fe47['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x5673a8,'dataPosition':_0x4d649e,'dataScale':_0x258c64,'dataRotation':_0x3b55f2,'dataMotion':_0x18ae33,'dataTime':_0x5ec38f,'motion':_0x16f0e7,'tScaleArray':_0x49fe47},_0x5bec9d);},_0x52affe=(_0x354b20,_0x1abe56,_0x13faaa,_0x857184,_0x4940a5)=>{const _0x319ad8=new Uint16Array(_0x354b20*(0x26f6+0xaf3*-0x1+-0x1bff)),_0x4f020d=-0xb*-0x2ba+-0x2b9*0x9+-0x57d+0.28209479177387814;for(let _0x19c821=-0xa75+0x1c2c+-0x11b7;_0x19c821<_0x354b20;++_0x19c821){const _0x378fcd=_0x1abe56[_0x19c821]*_0x4f020d+(-0x210a+-0x1218*0x1+0x37*0xee+0.5),_0x35627b=_0x13faaa[_0x19c821]*_0x4f020d+(-0x7bf+-0x3*0x32a+0x3*0x5bf+0.5),_0x5cf46d=_0x857184[_0x19c821]*_0x4f020d+(-0x21*-0x37+0x12c5+-0x19dc+0.5),_0x516b4e=_0x4940a5[_0x19c821];_0x319ad8[_0x19c821*(0x103b*0x1+-0x266+0x189*-0x9)+(-0x359+-0x301+0x65a)]=_0x55a5ac(_0x378fcd),_0x319ad8[_0x19c821*(-0xa*-0x21a+-0x19fe+-0x1aa*-0x3)+(-0x1180+0x3*-0x72f+-0x1387*-0x2)]=_0x55a5ac(_0x35627b),_0x319ad8[_0x19c821*(-0x2386+0x1*-0x1a51+0x1*0x3ddb)+(0xd25+-0x4*0x84a+0x1405*0x1)]=_0x55a5ac(_0x5cf46d),_0x319ad8[_0x19c821*(0x938+0x1e65*0x1+-0x2799)+(0x1*0x23f1+0x9e1+0x2dcf*-0x1)]=_0x55a5ac(_0x516b4e);}self['postMessag'+'e']({'type':'updatedCol'+'orData','data':_0x319ad8});},_0xdb0b04=(_0x24ac94,_0x3c163d,_0x3d593e)=>{const _0x5dc376=new Uint32Array(_0x24ac94*(0x2*-0x9f+0x1d40+-0x1bfe)),_0x59be84=new Uint32Array(_0x24ac94*(0x1bbd+-0x102*0x23+0x78d)),_0x131b96=new Uint32Array(_0x24ac94*(-0x2fc+-0x641+-0x1*-0x941)),_0x34645d=new Uint32Array(_0x24ac94*(0xe*-0xe2+-0x10f7*0x1+0x7*0x431)),_0x25ef65={0x1:0x3,0x2:0x8,0x3:0xf}[_0x3c163d],_0x1eee3f=_0x3d593e,_0x505e71=0xf*0x5+-0x2493*0x1+0x2c47,_0x3986ba=0x11*0x115+0x18bd+-0x2b*0xe9,_0x2dc9f4=new Float32Array(0x1*0x6d0+-0x80*-0x48+0x34b*-0xd),_0x1a00ba=new Uint32Array(_0x2dc9f4['buffer']),_0xb797e9=new Array(_0x25ef65*(0x24da+0xe3b*-0x1+-0x2*0xb4e))['fill'](-0x15*-0x19f+-0x2a*0x97+-0x317*0x3);for(let _0x1a8635=-0x1cd*0x13+0x15c9+0xc6e;_0x1a8635<_0x24ac94;++_0x1a8635){for(let _0x1372ca=-0x1644+-0xe8e+0x1*0x24d2;_0x1372ca<_0x25ef65;++_0x1372ca)_0xb797e9[_0x1372ca*(-0x7*0x149+0x2471+-0x1b6f)]=_0x1eee3f[_0x1372ca][_0x1a8635],_0xb797e9[_0x1372ca*(-0x3b*0x3d+0x1*0x52a+-0xe4*-0xa)+(-0xb2d+-0x1*0x24b8+0x2fe6)]=_0x1eee3f[_0x1372ca+_0x25ef65][_0x1a8635],_0xb797e9[_0x1372ca*(0x25b6+-0xa69*-0x2+-0x47*0xd3)+(0x21c3+0x254f+0xc*-0x5ec)]=_0x1eee3f[_0x1372ca+_0x25ef65*(0x1705+0x5d*-0x31+0x3a*-0x17)][_0x1a8635];let _0x19c0d7=_0xb797e9[-0x5*0x3cf+-0x500+-0x4cf*-0x5];for(let _0x279278=-0x14bd+0x6*-0x5b9+0x2*0x1b8a;_0x279278<_0x25ef65*(0x8*-0x41b+0x165+0x1f76);++_0x279278)_0x19c0d7=Math['max'](_0x19c0d7,Math['abs'](_0xb797e9[_0x279278]));if(_0x19c0d7!==0xd63+-0x351+-0x2*0x509){for(let _0x32de64=0x2*-0x740+0x1e9d*-0x1+-0x2d1d*-0x1;_0x32de64<_0x25ef65;++_0x32de64)_0xb797e9[_0x32de64*(0x860+0x1*-0x557+-0x306)+(0x27*0xd3+-0x25*-0x71+-0x307a)]=Math['max'](-0x13a5*0x1+0x778+0xc2d,Math['min'](_0x505e71,Math['floor']((_0xb797e9[_0x32de64*(0x4d6*0x1+-0x7a5+-0x1*-0x2d2)+(-0xb24+-0x18a7+-0xbb*-0x31)]/_0x19c0d7*(-0x19d9+0x1b2e+-0x155+0.5)+(0x1*-0x1421+-0x13*-0x16f+-0x5*0x16c+0.5))*_0x505e71+(0xb87+-0x75a*0x2+0x32d+0.5)))),_0xb797e9[_0x32de64*(-0x55d*-0x1+-0x1*0x26b+0x2ef*-0x1)+(-0x212f+-0x577+0x1*0x26a7)]=Math['max'](0xfeb+0x1291+-0x227c*0x1,Math['min'](_0x3986ba,Math['floor']((_0xb797e9[_0x32de64*(0xd8b*0x2+-0x357*-0x3+0x2*-0x128c)+(0x2*-0x89b+-0x7d7+-0x6*-0x42d)]/_0x19c0d7*(0x10f3*0x1+0x3a4+-0x1497+0.5)+(-0x1*0x146c+-0x2093+0x1*0x34ff+0.5))*_0x3986ba+(0x1*0x163d+0x2494*0x1+-0x3ad1+0.5)))),_0xb797e9[_0x32de64*(-0x1665+0x73c+0xf2c)+(-0x284*0xb+0x18e2+0x2cc)]=Math['max'](-0x1a*-0xfb+0x2498+-0x3e16,Math['min'](_0x505e71,Math['floor']((_0xb797e9[_0x32de64*(0x87*-0xd+-0x2*-0xd40+-0x13a2)+(-0xb8*0x1e+0x5*0xb2+0x8*0x243)]/_0x19c0d7*(-0x1*-0x2b+-0xc1*0x25+0xb6*0x27+0.5)+(-0x1d91+-0x13*-0x20b+-0x940+0.5))*_0x505e71+(-0x32a+-0xfe1+0x3cf*0x5+0.5))));_0x2dc9f4[0xfb6*0x2+-0x24b*0xb+-0x45*0x17]=_0x19c0d7,_0x5dc376[_0x1a8635*(0x12b*0x7+-0x12d3*0x2+0x1*0x1d7d)+(-0xe21*0x1+-0x1a1+0xfc2*0x1)]=_0x1a00ba[-0x9+0xc4b*-0x1+0x20e*0x6],_0x5dc376[_0x1a8635*(0x25*0x17+0x1f7f+-0x22ce)+(0x7*0x3a5+0x1e83+-0x3805)]=_0xb797e9[-0x2*-0xfc1+-0x15d9+0x1*-0x9a9]<<-0x2429+-0x16a*-0x2+0x5b*0x5e|_0xb797e9[0x1dce+-0xcb9*-0x2+-0x373f*0x1]<<0x4*-0x345+-0xe5f*-0x1+-0x140|_0xb797e9[-0x1*0xad2+0xaf0+-0x7*0x4],_0x5dc376[_0x1a8635*(0x19e2+-0x19db+-0x3*0x1)+(-0xf*0x15b+-0x29b*0xb+0x8*0x620)]=_0xb797e9[-0x19*0x2f+-0x396*-0x6+-0x10ea]<<0x7*-0x89+0x2382+-0x1fae|_0xb797e9[-0x126f+0xf9a+-0x2d9*-0x1]<<0x1730+-0x2129*0x1+0xa04|_0xb797e9[-0x206e+-0x7*-0x3de+-0x561*-0x1],_0x5dc376[_0x1a8635*(-0x1704*-0x1+0x2*0xd6e+-0x31dc)+(0x21fc+-0x1e2b+0x2*-0x1e7)]=_0xb797e9[0x7*-0x130+-0x4ab+0xd01]<<-0x61*0x41+-0x3d*0x22+0x20d0|_0xb797e9[-0x4ff*-0x1+0x55*0x2f+0xe5*-0x17]<<-0x9*-0x209+0x12c5+-0x250b|_0xb797e9[0x1*0x1561+-0x97f+-0xbda],_0x3c163d>0xf3c+0x1a96+0x5*-0x85d&&(_0x59be84[_0x1a8635*(-0x63c*0x5+0x363+0x1bcd)+(-0x8c4+0x2e*0x4+-0x1*-0x80c)]=_0xb797e9[0x258e+0x6d9+0x1*-0x2c5e]<<0x7bc+-0x1f23*-0x1+-0x2*0x1365|_0xb797e9[0x64d*-0x4+0x18c1*-0x1+0x31ff]<<-0x1add+-0x16f*-0xe+-0x7d*-0xe|_0xb797e9[0x1*0x2518+0xc25*0x3+-0x497c],_0x59be84[_0x1a8635*(-0x1e4d+-0x31e+0x216f)+(0x21b5+0x1*-0x8c2+-0x18f2*0x1)]=_0xb797e9[-0x4*0x60d+-0x1*-0x1f9+0x3*0x76d]<<-0x251*-0xd+-0xd3*-0x1a+-0x3376|_0xb797e9[-0x22*-0xe+-0x19a4+0x17d5]<<-0x140e*-0x1+-0x30*-0x78+0x1*-0x2a83|_0xb797e9[-0x1383+0xd55+0x18f*0x4],_0x59be84[_0x1a8635*(0x1*-0x2683+0x12ec*-0x1+0xb*0x539)+(-0x2218+0x77*0x23+0x11d5)]=_0xb797e9[0x234f+0x2cd*-0x5+-0x715*0x3]<<-0x562*-0x6+0x23cf*-0x1+0x398*0x1|_0xb797e9[-0x13*-0x1a7+-0x177+0x1*-0x1dde]<<0x855*0x1+0x3*0x503+0x1*-0x1753|_0xb797e9[0x456*-0x3+0x3d*0xb+0xa74],_0x59be84[_0x1a8635*(-0x2b*0x68+-0x53*-0x42+-0x6*0xa7)+(-0x255e+0x1eea+-0x5*-0x14b)]=_0xb797e9[-0xeb1*0x1+-0x241*-0xc+-0x25*0x55]<<-0x41b*0x8+-0x14e+0x223b|_0xb797e9[0x1*0xc22+-0x3ae*0x4+-0x1*-0x2a9]<<0x2344*0x1+0x1f31+-0x426a|_0xb797e9[0x4*-0x31a+-0x1*0x2328+0x2fa4],_0x3c163d>0x77d+0x2c7*0x2+-0xd09?(_0x131b96[_0x1a8635*(0x1f86+-0x2*0xbaf+-0x824)+(-0x1b25+0x20b9+-0x594)]=_0xb797e9[-0x354+0x2*-0x4a9+0xcbb]<<-0x1637+0x1821+0x43*-0x7|_0xb797e9[-0x1b7c*-0x1+-0x23*0xb9+-0x21b]<<-0x1d32+-0x20*-0xe0+-0x1*-0x13d|_0xb797e9[-0x1ae7+0x26be+-0xbc0],_0x131b96[_0x1a8635*(-0x179*-0x2+-0x1d*0xe1+0x339*0x7)+(0xeb7*0x2+-0x2*-0x1343+0x7*-0x9b5)]=_0xb797e9[0x11*-0x5+0x2393+-0x2326]<<-0x11e1*0x2+0x79*-0x1f+0x327e|_0xb797e9[-0x2200+0x17f3+-0x3*-0x362]<<0x92d+-0x26b6+0x1d94|_0xb797e9[0x1*-0x1c13+0x108e+0xb9f],_0x131b96[_0x1a8635*(0x2*0xee9+0x2e1*-0x3+-0x1*0x152b)+(-0xff9+0x31*0xa+0xd*0x115)]=_0xb797e9[0x2*0x47b+-0xb73*-0x1+-0x144e]<<-0x833*0x4+0x91a*-0x4+-0x4549*-0x1|_0xb797e9[-0x2153+0xdb*-0x13+0x50*0x9f]<<0x16ca+0x786+0x7b*-0x3f|_0xb797e9[0x22d5+0x1ccf+-0x4e3*0xd],_0x131b96[_0x1a8635*(-0x1d37+-0x9e+0x3*0x9f3)+(-0x1faf+-0x70a+0x26bc)]=_0xb797e9[-0xa32+-0x4e3+0xf33]<<-0x280*0x3+-0x1fa0+-0x2735*-0x1|_0xb797e9[0x4*0x81+0x21ec+-0x23d1]<<-0x5f7+-0x1ebb*0x1+0xa5*0x39|_0xb797e9[0x1*0x1b7d+0x18c7*-0x1+-0x296],_0x34645d[_0x1a8635*(-0x15f2*-0x1+0x7*-0xf0+-0xf5e)+(-0x48*-0xf+0xd*-0x6a+0x12a)]=_0xb797e9[-0x32*-0x6b+0x1d20+0x31e5*-0x1]<<0x1*-0x14ef+-0x183b*0x1+0x27*0x129|_0xb797e9[0x779+0xce5+-0x143c]<<-0xcfa+0x8cd+-0x2d*-0x18|_0xb797e9[0x11bb+0xdce+-0x1f66],_0x34645d[_0x1a8635*(0x4*0x40f+-0xfcd+-0x6b)+(-0x7fa+0x2*0x865+-0x8cf*0x1)]=_0xb797e9[-0x67*0x59+-0x3*0x583+0x2*0x1a3e]<<0x2*0xced+0x7b7*-0x3+0xa8*-0x4|_0xb797e9[-0xa0d+0x129*0x8+-0x27*-0x6]<<0x1*-0x13c6+0x1ce9+-0x918|_0xb797e9[0x7a4+0x1616+-0x277*0xc],_0x34645d[_0x1a8635*(0x2347+0x165b*0x1+-0x3b*0xfa)+(-0xb73+0x7cf*-0x2+0x1d*0xef)]=_0xb797e9[0x303+-0xb34+-0x6*-0x164]<<0xe23+-0x9a9*0x2+0x544|_0xb797e9[-0x43*0x3e+0x11*0x4+0x101e]<<0x2244+0x10e3+-0x331c|_0xb797e9[-0x7*-0x22c+0xe80+0x9d9*-0x3],_0x34645d[_0x1a8635*(0x983+-0x18b4+0xf35)+(0x26ca+0x2162+-0x4829)]=_0xb797e9[-0x10b1+0x2564+0x1489*-0x1]<<-0x2f*-0xac+-0x1f25+-0x2d*0x2|_0xb797e9[0x1*-0x2189+-0x1*-0x14ba+0xcfa]<<-0x4*-0x730+0x2*0x687+-0x29c3|_0xb797e9[0x154a+-0x146a+0x2*-0x5a]):_0x131b96[_0x1a8635]=_0xb797e9[-0xe3b+-0x20a6+0x2ef6]<<0xdc*0x7+0x215+-0x804|_0xb797e9[0xe93+-0x1f*-0xe9+-0x2ab4]<<-0x1*0x34+-0xd62+0xda1*0x1|_0xb797e9[-0x228e*0x1+0x83b*-0x3+-0x43d*-0xe]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x5dc376,'sh4to7Data':_0x59be84,'sh8to11Data':_0x131b96,'sh12to15Data':_0x34645d}},[_0x5dc376['buffer'],_0x59be84['buffer'],_0x131b96['buffer'],_0x34645d['buffer']]);},_0x3499eb=()=>{_0x5673a8=null,_0x5ec38f=null,_0x3b55f2=null,_0x4d649e=null,_0x18ae33=null,_0x258c64=null,_0x16f0e7=null,_0x49fe47=null;};}let wC=class extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+TC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x5d88cd,_0x36e60f,_0x2a8109){_0x5d88cd['onmessage']=_0x1b536d=>{if(!this['worker'])return;const {data:_0x3c5e78}=_0x1b536d;if(_0x3c5e78['type']===_0x36e60f)switch(_0x36e60f){case'updatedSHD'+'ata1':_0x2a8109(_0x3c5e78['data']);break;case'updatedCol'+'orData':_0x2a8109(_0x3c5e78['data']);break;case'updatedTra'+'nsformData':_0x2a8109(_0x3c5e78);break;case'updatedAab'+'bData':_0x2a8109(_0x3c5e78);break;}};}['updateSHDa'+'ta1'](_0x339450,_0x260861,_0x4975c0){var _0x374150;return(_0x374150=this['worker'])==null||_0x374150['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x339450,'shBands':_0x260861,'SHData':_0x4975c0}),new Promise(_0x2b0f36=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x1bf90e=>{_0x2b0f36(_0x1bf90e);});});}async['updateColo'+'rData'](_0x9c58c6,_0x4ff220,_0x39ba45,_0x275bcb,_0x18884a){var _0x339734;return(_0x339734=this['worker'])==null||_0x339734['postMessag'+'e']({'type':'updateColo'+'rData','numSplats':_0x9c58c6,'cr':_0x4ff220,'cg':_0x39ba45,'cb':_0x275bcb,'ca':_0x18884a}),new Promise(_0x4927b2=>{this['workerMess'+'ageFn'](this['worker'],'updatedCol'+'orData',_0x37ee8b=>{_0x4927b2(_0x37ee8b);});});}async['calcAabb'](_0x59cdec,_0x516fca,_0x160301,_0x2f361a,_0x3077d2,_0x5ee14d,_0x55f495){var _0x5828e9;const _0xcf4fe4=new Float32Array(_0x516fca),_0x22d6d5=new Float32Array(_0x160301),_0x77ea3d=new Float32Array(_0x2f361a),_0x1b6412=new Float32Array(_0x3077d2),_0x35e633=new Float32Array(_0x5ee14d),_0x2c1541=new Float32Array(_0x55f495);return(_0x5828e9=this['worker'])==null||_0x5828e9['postMessag'+'e']({'type':'calcAabb','numSplats':_0x59cdec,'x':_0xcf4fe4,'y':_0x22d6d5,'z':_0x77ea3d,'sx':_0x1b6412,'sy':_0x35e633,'sz':_0x2c1541},[_0xcf4fe4['buffer'],_0x22d6d5['buffer'],_0x77ea3d['buffer'],_0x1b6412['buffer'],_0x35e633['buffer'],_0x2c1541['buffer']]),new Promise(_0x466164=>{this['workerMess'+'ageFn'](this['worker'],'updatedAab'+'bData',_0x12587d=>{_0x466164(_0x12587d);});});}async['updateTran'+'sData'](_0xef471d,_0x12680a,_0x1962c4,_0x310135,_0x537828,_0x2a642e,_0x31c735,_0x38fcc0,_0x1a9c13,_0x5da232,_0x343666,_0x33ef18,_0x1a444f,_0xe13445,_0x17511e,_0x2ed31e,_0x483ac0){var _0x4646e8;return(_0x4646e8=this['worker'])==null||_0x4646e8['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0xef471d,'is4D':_0x12680a,'x':_0x1962c4,'y':_0x310135,'z':_0x537828,'rx':_0x2a642e,'ry':_0x31c735,'rz':_0x38fcc0,'rw':_0x1a9c13,'mx':_0x5da232,'my':_0x343666,'mz':_0x33ef18,'sx':_0x1a444f,'sy':_0xe13445,'sz':_0x17511e,'muT':_0x2ed31e,'tScale':_0x483ac0}),new Promise(_0x45afff=>{const _0x3fe524=_0x42af5e=>{_0x45afff(_0x42af5e);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x3fe524);});}['destroy'](){var _0x55a9c9;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x55a9c9=this['worker'])==null||_0x55a9c9['terminate'](),this['worker']=null);}};const vg=(_0x2ff833,_0x2542a7)=>{const _0x177fc3=[];for(let _0x30efd1=0xf73*0x2+-0xa*-0x226+0x6*-0x8bb;_0x30efd1<_0x2542a7;++_0x30efd1)_0x177fc3['push'](_0x2ff833['getProp']('f_rest_'+_0x30efd1));return _0x177fc3;};class EC extends Rv{constructor(_0x1f5648,_0x4ee74c){console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),super(_0x1f5648,_0x4ee74c),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(-0xda6+0x815+0x592)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new wC(),this['assetsMana'+'gerLoadedT'+'ime']=-0x1526+0x2135+-0xc0a);}async['updateData'](){var _0x103e1f,_0x5064f3,_0x4fcfc0,_0x184a9c,_0x42d677,_0x413cea,_0x3398b7,_0x55fc2f,_0x12d07c,_0x46cbf0,_0x1f0831;console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Data'),await super['updateData']();const _0xc4d6b6=this['gsplatData'];if(!_0xc4d6b6)return;this['is4D']=_0xc4d6b6['is4D'];const _0x165962=await this['getTransfo'+'rmDataByWo'+'rker'](_0xc4d6b6);this['aabb']=new De(),await _0xc4d6b6['calcAabbAs'+'ync'](this['aabb'],this['updateData'+'Worker']),this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x165962['centers'],this['motion']=_0x165962['motion'],this['tScale']=_0x165962['tScaleArra'+'y'],this['muT']=await _0xc4d6b6['getMuT'](),this['timeIndex']=await _0xc4d6b6['getTimeInd'+'ex']();const _0x542969=this['evalTextur'+'eSize'](_0xc4d6b6['numSplats']);this['colorTextu'+'re']?((_0x103e1f=this['colorTextu'+'re2'])==null||_0x103e1f['destroy'](),(_0x5064f3=this['transformA'+'Texture2'])==null||_0x5064f3['destroy'](),(_0x4fcfc0=this['transformB'+'Texture2'])==null||_0x4fcfc0['destroy'](),(_0x184a9c=this['transformR'+'Texture2'])==null||_0x184a9c['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x542969),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x542969),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x542969),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x542969),this['is4D']&&((_0x42d677=this['transformM'+'otionTextu'+'re2'])==null||_0x42d677['destroy'](),(_0x413cea=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x413cea['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x542969),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x542969))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x542969),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x542969),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x542969),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x542969),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x542969),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x542969),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x542969),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x542969),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x542969),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x542969),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x542969),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x542969))),await this['updateColo'+'rData'](_0xc4d6b6),await this['updateTran'+'sformFromD'+'ata'](_0x165962),this['shBands']=_0xc4d6b6['shBands'],this['shBands']>-0x1*0x215d+-0x3cf+-0xf4*-0x27&&(this['sh1to3Text'+'ure']?((_0x3398b7=this['sh1to3Text'+'ure2'])==null||_0x3398b7['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x542969),this['shBands']>-0x1*0x511+0xdbd+0x7*-0x13d&&((_0x55fc2f=this['sh4to7Text'+'ure2'])==null||_0x55fc2f['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x542969),this['shBands']>0x1da2*0x1+0x1*-0x1407+-0x999?((_0x12d07c=this['sh8to11Tex'+'ture2'])==null||_0x12d07c['destroy'](),(_0x46cbf0=this['sh12to15Te'+'xture2'])==null||_0x46cbf0['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x542969),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x542969)):((_0x1f0831=this['sh8to11Tex'+'ture2'])==null||_0x1f0831['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x542969)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x542969),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x542969),this['shBands']>0xc19+0x87a+-0x1492&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x542969),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x542969),this['shBands']>0x526+-0x18bc+-0x39*-0x58?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x542969),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x542969),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x542969),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x542969)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x542969),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x542969)))),await this['updateSHDa'+'taByWorker'](_0xc4d6b6));}['updateText'+'ure'](){console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Texture'),!this['isDestroye'+'d']&&(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x487812){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x487812}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20releas'+'eSeqGSplat'+'\x20all'),this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x9d3d4a,_0x2577d9,_0x53aee4,_0x5b991c,_0x3d61ea){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x9d3d4a,'timeOption':_0x2577d9,'loadedTime':_0x53aee4,'asset':_0x5b991c,'events':_0x3d61ea}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(0x1d*0x3a+-0xb31+-0xd*-0x5b);try{for(;this['appendQueu'+'e']['length']>-0x2446+0x1*0x5ae+0x1e98;){const _0x3c2a22=this['appendQueu'+'e']['shift']();_0x3c2a22['type']==='append'?await this['processApp'+'endTask'](_0x3c2a22['data']):_0x3c2a22['type']==='release'&&await this['processRel'+'easeTask'](_0x3c2a22['data']);}}finally{this['isProcessi'+'ngQueue']=!(-0x1327+-0x1af4+-0xe3*-0x34);}}}async['processRel'+'easeTask'](_0x58dae9){const {index:_0x3a174e}=_0x58dae9;console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.relea'+'seGSplatRe'+'source',_0x3a174e),!this['isDestroye'+'d']&&await this['gsplatData']['releaseSeq'+'Data'](_0x3a174e);}async['processApp'+'endTask'](_0x50cfdd){var _0x3b0375;const {gsplatData:_0x48a95a,timeOption:_0x5410ce,loadedTime:_0x5623e8,asset:_0x503c08,events:_0x21f46b}=_0x50cfdd;!this['gsplatData']||this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatRes'+'ource'),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x5410ce,await this['gsplatData']['appendGSpl'+'atData'](_0x48a95a,_0x5623e8,_0x5410ce),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20gspla'+'tData.appe'+'ndGSplatDa'+'ta',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x413*-0x8+0xb*-0x185+-0xfdf),_0x48a95a['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x48a95a['numSplats'])['toFixed'](0x20c3+-0x15b*0xf+-0xb*0x121)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20this.'+'updateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x2557+-0x106f*0x1+-0xa*0x217),_0x48a95a['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),(_0x3b0375=this['gsplatInst'+'ance'])==null||_0x3b0375['updateInst'+'anceData'](this),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20updat'+'eInstanceD'+'ata',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x3*0xb65+0x214*0xb+0x3c7*0x3),_0x48a95a['numSplats']),this['asset']=_0x503c08,this['assetsMana'+'gerLoadedT'+'ime']=_0x5623e8,this['events']=_0x21f46b);}['fireAssets'+'ManagerTim'+'eIndex'](){var _0xf744fe;const _0x3e138c=this['assetsMana'+'gerLoadedT'+'ime'];console['log']('____\x20ENGIN'+'E\x20IVAN','fireAssets'+'ManagerTim'+'eIndex',_0x3e138c),(_0xf744fe=this['asset'])==null||_0xf744fe['fire']('setAssetsL'+'oaded',_0x3e138c);}['destroy'](){var _0x520def,_0x534639,_0x102ffc,_0x3899ea,_0x4852f0,_0x16d6d5,_0x3bb672,_0xba3918,_0x357d27,_0xf58574,_0x11745b,_0xcdd014,_0x4157c0,_0xd82ce9,_0x3765d6,_0x403270,_0x932766,_0x2b86fe,_0x316a7f,_0x376be1,_0x2246b6;(_0x520def=this['updateData'+'Worker'])==null||_0x520def['destroy'](),this['updateData'+'Worker']=void(-0x1e2d+0x1c24+0x1*0x209),(_0x534639=this['colorTextu'+'re'])==null||_0x534639['destroy'](),(_0x102ffc=this['transformA'+'Texture'])==null||_0x102ffc['destroy'](),(_0x3899ea=this['transformB'+'Texture'])==null||_0x3899ea['destroy'](),(_0x4852f0=this['transformR'+'Texture'])==null||_0x4852f0['destroy'](),(_0x16d6d5=this['transformM'+'otionTextu'+'re'])==null||_0x16d6d5['destroy'](),(_0x3bb672=this['transformL'+'ifecycleTe'+'xture'])==null||_0x3bb672['destroy'](),(_0xba3918=this['sh1to3Text'+'ure'])==null||_0xba3918['destroy'](),(_0x357d27=this['sh4to7Text'+'ure'])==null||_0x357d27['destroy'](),(_0xf58574=this['sh8to11Tex'+'ture'])==null||_0xf58574['destroy'](),(_0x11745b=this['sh12to15Te'+'xture'])==null||_0x11745b['destroy'](),(_0xcdd014=this['colorTextu'+'re2'])==null||_0xcdd014['destroy'](),(_0x4157c0=this['transformA'+'Texture2'])==null||_0x4157c0['destroy'](),(_0xd82ce9=this['transformB'+'Texture2'])==null||_0xd82ce9['destroy'](),(_0x3765d6=this['transformR'+'Texture2'])==null||_0x3765d6['destroy'](),(_0x403270=this['transformM'+'otionTextu'+'re2'])==null||_0x403270['destroy'](),(_0x932766=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x932766['destroy'](),(_0x2b86fe=this['sh1to3Text'+'ure2'])==null||_0x2b86fe['destroy'](),(_0x316a7f=this['sh4to7Text'+'ure2'])==null||_0x316a7f['destroy'](),(_0x376be1=this['sh8to11Tex'+'ture2'])==null||_0x376be1['destroy'](),(_0x2246b6=this['sh12to15Te'+'xture2'])==null||_0x2246b6['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x55059d){var _0x1e7f95,_0x5d4e2c,_0x8f4885,_0x4bcf00,_0x4678c4,_0x43787b,_0x3fea0f,_0x16dc6c,_0x5cc5de,_0x55876e,_0x1a7b52,_0x140598,_0x147669;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x2604e1=((_0x1e7f95=_0x55059d['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(-0x269d+0x417+0x2286):_0x1e7f95['data'])??-0x1e5+-0x2555+-0x273a*-0x1,_0x30092f=((_0x5d4e2c=_0x55059d['getParamet'+'er']('uSplatScal'+'e'))==null?void(0x12c8+0x269b+-0xf9*0x3b):_0x5d4e2c['data'])??0xebf+-0x19f1*-0x1+0x5*-0x823,_0x3563d4=((_0x8f4885=_0x55059d['getParamet'+'er']('uSaturatio'+'n'))==null?void(-0x10c6+0x8*0xd6+0xa16*0x1):_0x8f4885['data'])??-0x6c*0x1b+-0x395+-0x9*-0x1aa,_0x44e560=((_0x4bcf00=_0x55059d['getParamet'+'er']('uHueOffset'))==null?void(0x17*0x3a+0x1886*-0x1+0x2*0x9a8):_0x4bcf00['data'])??0x105a+0xa97+0x16b*-0x13,_0x344e98=((_0x4678c4=_0x55059d['getParamet'+'er']('uInvertOpa'+'city'))==null?void(0x956+-0x87d+-0xd9):_0x4678c4['data'])??-0x3f8+0x1c24+0x34*-0x77,_0x196219=((_0x43787b=_0x55059d['getParamet'+'er']('uOpacity'))==null?void(0x17*-0xda+-0x1*-0x115f+0xbd*0x3):_0x43787b['data'])??-0x43*-0x26+0x6a+-0xa5b,_0x1a898a=((_0x3fea0f=_0x55059d['getParamet'+'er']('clrOffset'))==null?void(0x13*-0x4a+-0xb89*-0x1+0x5b*-0x11):_0x3fea0f['data'])??[-0x1d63+-0x24c7+0x12*0x3ad,0x4*0x346+-0x19b1+-0x19*-0x81,-0x937+0xe2f+-0x27c*0x2,-0x2*-0xf6a+-0x7ab*0x5+-0x34*-0x25],_0x25a12d=((_0x16dc6c=_0x55059d['getParamet'+'er']('clrScale'))==null?void(0x1bd*0x1+-0x23be+-0x1*-0x2201):_0x16dc6c['data'])??[0x1d22+0x29d+-0x1fbe,-0x8*0x31c+-0x594+0x1e75,-0x6e0+-0x2*-0x995+-0xc49,0x4*0x14b+-0x1*-0x1ad5+-0x1*0x2000],_0x2545cc=((_0x5cc5de=_0x55059d['getParamet'+'er']('uShapeN'))==null?void(0x4*-0x2b2+-0x2069+-0x2b31*-0x1):_0x5cc5de['data'])??-0x65*-0x15+-0x1576+0xd2d,_0x39546c=((_0x55876e=_0x55059d['getParamet'+'er']('mode'))==null?void(-0x5a*-0x6+0x2*0xd7e+-0x1d18):_0x55876e['data'])??0x9cb+-0x6*-0x11f+-0x1085*0x1,_0x345d89=((_0x1a7b52=_0x55059d['getParamet'+'er']('ringSize'))==null?void(-0x1d89+0x2063*0x1+-0x2da):_0x1a7b52['data'])??0x610+-0x1da4+-0x5e5*-0x4,_0x3ccbcd=((_0x140598=_0x55059d['defines'])==null?void(0x8f+-0x29*-0x4f+-0x1*0xd36):_0x140598['get']('uOpenAnim'))??'0',_0x65459d=((_0x147669=_0x55059d['defines'])==null?void(-0x162e+0x87a+0xdb4):_0x147669['get']('uControlCo'+'lorMode'))??'0';_0x55059d['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x55059d['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x55059d['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x55059d['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x55059d['setParamet'+'er']('uSplatScal'+'e',_0x30092f),_0x55059d['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x2604e1),_0x55059d['setParamet'+'er']('uSaturatio'+'n',_0x3563d4),_0x55059d['setParamet'+'er']('uHueOffset',_0x44e560),_0x55059d['setParamet'+'er']('uInvertOpa'+'city',_0x344e98),_0x55059d['setParamet'+'er']('uOpacity',_0x196219),_0x55059d['setParamet'+'er']('clrOffset',_0x1a898a),_0x55059d['setParamet'+'er']('clrScale',_0x25a12d),_0x55059d['setParamet'+'er']('uShapeN',_0x2545cc),_0x55059d['setParamet'+'er']('mode',_0x39546c),_0x55059d['setParamet'+'er']('ringSize',_0x345d89),_0x55059d['setParamet'+'er']('prerenderC'+'Time',-0x76*-0x28+0x182*0x15+-0x2*0x190d),_0x55059d['setParamet'+'er']('renderSpac'+'e',0x782+0x2a*-0x50+-0x2d4*-0x2),_0x55059d['setParamet'+'er']('endSpace',0x4ed+-0x1*-0x503+-0x9e6),_0x55059d['setDefine']('uOpenAnim',_0x3ccbcd),_0x55059d['setDefine']('uControlCo'+'lorMode',_0x65459d),this['transformM'+'otionTextu'+'re']&&_0x55059d['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x55059d['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x55059d['setDefine']('SH_BANDS',this['shBands']),_0x55059d['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x55059d['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x55059d['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x55059d['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x55059d['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x3df82a){const _0x596086=Math['ceil'](Math['sqrt'](_0x3df82a)),_0xb3eadc=Math['ceil'](_0x3df82a/_0x596086);return new J(_0x596086,_0xb3eadc);}async['updateColo'+'rData'](_0x6656dd){var _0x3ff67e;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x5ea1fb=this['colorTextu'+'re2'];if(!_0x5ea1fb||this['isDestroye'+'d'])return;const _0x4cbfcd=_0x6656dd['getProp']('f_dc_0'),_0xe48afc=_0x6656dd['getProp']('f_dc_1'),_0x569e65=_0x6656dd['getProp']('f_dc_2'),_0x28a0aa=_0x6656dd['getProp']('opacity');let _0x3da0c2=(_0x3ff67e=_0x6656dd['transformD'+'ata'])==null?void(-0x182f+0xed7+0x958):_0x3ff67e['dataColor'];_0x3da0c2||(_0x3da0c2=await this['updateData'+'Worker']['updateColo'+'rData'](_0x6656dd['numSplats'],_0x4cbfcd,_0xe48afc,_0x569e65,_0x28a0aa)),await this['idleUpdate'+'TexturePro'+'mise'](_0x5ea1fb,_0x3da0c2);}async['getTransfo'+'rmDataByWo'+'rker'](_0x5f50a4){var _0x1aecda;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x1aecda=_0x5f50a4['transformD'+'ata'])!=null&&_0x1aecda['dataCenter'+'s'])return{'centers':_0x5f50a4['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x5f50a4['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x5f50a4['transformD'+'ata']['dataScale'],'dataRotation':_0x5f50a4['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x5f50a4['transformD'+'ata']['dataMotion'],'dataTime':_0x5f50a4['transformD'+'ata']['dataTime'],'motion':_0x5f50a4['transformD'+'ata']['motion'],'tScaleArray':_0x5f50a4['transformD'+'ata']['tScaleArra'+'y']};const _0x52a235=_0x5f50a4['getProp']('x'),_0x22ab3f=_0x5f50a4['getProp']('y'),_0x240a5f=_0x5f50a4['getProp']('z'),_0x31e4fe=_0x5f50a4['getProp']('rot_1'),_0x236486=_0x5f50a4['getProp']('rot_2'),_0x52f99c=_0x5f50a4['getProp']('rot_3'),_0x5dfe35=_0x5f50a4['getProp']('rot_0'),_0x2ca15e=_0x5f50a4['getProp']('motion_0'),_0x24c8ca=_0x5f50a4['getProp']('motion_1'),_0x386466=_0x5f50a4['getProp']('motion_2'),_0x287e5f=_0x5f50a4['getProp']('scale_0'),_0x8d279e=_0x5f50a4['getProp']('scale_1'),_0x230337=_0x5f50a4['getProp']('scale_2'),_0x2621d5=_0x5f50a4['getProp']('t'),_0x26d6fc=_0x5f50a4['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x5f50a4['numSplats'],this['is4D'],_0x52a235,_0x22ab3f,_0x240a5f,_0x31e4fe,_0x236486,_0x52f99c,_0x5dfe35,_0x2ca15e,_0x24c8ca,_0x386466,_0x287e5f,_0x8d279e,_0x230337,_0x2621d5,_0x26d6fc);}async['updateTran'+'sformFromD'+'ata'](_0x1911ea){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x1911ea['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x1911ea['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x1911ea['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x1911ea['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x1911ea['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x3d4ba1,_0xfb9c93){if(!this['isDestroye'+'d'])return new Promise(_0x288ab7=>{requestIdleCallback(()=>{const _0x5c6552=_0x3d4ba1['lock']();_0x5c6552==null||_0x5c6552['set'](_0xfb9c93),_0x3d4ba1['unlock'](),_0x288ab7(!(0x48*-0x78+-0x2541+0x4701));},{'timeout':0x12c});});}async['updateTran'+'sformData'](_0x432d88){var _0x4a4ea5,_0x3bd303,_0xe8d6fb,_0x55dac3;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData'),this['isDestroye'+'d'])return;const _0x593df3=Mn['float2Half'];if(!this['transformA'+'Texture'])return;const _0x1f7eba=this['transformA'+'Texture']['lock'](),_0x17095d=this['transformR'+'Texture']['lock'](),_0x423984=this['transformB'+'Texture']['lock'](),_0x3e9893=(_0x4a4ea5=this['transformM'+'otionTextu'+'re'])==null?void(0x2+-0x8df*-0x3+-0x1a9f):_0x4a4ea5['lock'](),_0x43c53e=(_0x3bd303=this['transformL'+'ifecycleTe'+'xture'])==null?void(0x2cf*0xd+-0x9c4+-0x1abf):_0x3bd303['lock'](),_0x1bc01f=new D(),_0x760850=new le(),_0x525282=new D(),_0x527d8d=new D(),_0xa1997e=_0x432d88['createIter'](_0x1bc01f,_0x760850,_0x525282,null,_0x527d8d),_0x514d26=_0x432d88['getProp']('t'),_0x2ac7bc=_0x432d88['getProp']('t_scale');for(let _0x286b5e=0x8*-0x29+-0x2485*-0x1+0x1f*-0x123;_0x286b5e<_0x432d88['numSplats'];_0x286b5e++)_0xa1997e['read'](_0x286b5e),_0x760850['normalize'](),_0x760850['w']<0xbf3*-0x1+-0x6b*0x3e+0x25dd&&_0x760850['mulScalar'](-(0x3*-0xe6+-0xd*-0x2eb+-0x233c)),_0x1f7eba[_0x286b5e*(-0x3*-0x99d+-0x1acb+-0x1*0x209)+(-0x2cf*0x7+-0x1*0x20a1+0xc2*0x45)]=_0x1bc01f['x'],_0x1f7eba[_0x286b5e*(-0x25e*0x5+0x15*-0x51+0x20e*0x9)+(-0x1a3a+0xda8+0x1d*0x6f)]=_0x1bc01f['y'],_0x1f7eba[_0x286b5e*(0x61*-0x57+0x1*0x3be+-0x2*-0xe9e)+(0x743*-0x1+-0x1ab+0x8f0)]=_0x1bc01f['z'],_0x423984[_0x286b5e*(0x1a9b+-0xb2*0x11+0x1f*-0x7a)+(0x4*-0x33b+-0x1cee+-0x3ce*-0xb)]=_0x593df3(_0x525282['x']),_0x423984[_0x286b5e*(-0x168c+-0x2*0x819+-0x26c1*-0x1)+(0x19d7+0xb3+-0x1a89)]=_0x593df3(_0x525282['y']),_0x423984[_0x286b5e*(-0x51+-0x3*-0xc62+-0x1*0x24d2)+(-0x1440+0x61a+0xe28)]=_0x593df3(_0x525282['z']),_0x17095d[_0x286b5e*(0x21c6+-0x169*-0x2+0x1*-0x2495)+(0x1a00+-0xf21+-0x1*0xadf)]=_0x760850['x'],_0x17095d[_0x286b5e*(0x283*0x1+0x2c5*-0xc+0x1ebc)+(0x1*-0x12bb+-0x2502+-0x1bdf*-0x2)]=_0x760850['y'],_0x17095d[_0x286b5e*(-0x4*-0x16a+-0x111c+0xb77*0x1)+(0x15*-0x17f+0xb64+0x1409)]=_0x760850['z'],this['is4D']&&_0x3e9893&&_0x43c53e&&(_0x3e9893[_0x286b5e*(-0xc38+0x18bd+-0xc82)+(-0x8ba*0x1+-0x10fa*0x2+0x2aae)]=_0x527d8d['x'],_0x3e9893[_0x286b5e*(0x362*-0x7+0x3*-0xb53+0x39aa)+(-0x15*-0xd+-0x5a0+0x490)]=_0x527d8d['y'],_0x3e9893[_0x286b5e*(0x1782+-0x1b5c+0x3dd)+(-0x11*-0x199+-0x62*0x1+-0x1ac5)]=_0x527d8d['z'],_0x43c53e[_0x286b5e*(0xd80+0x77*-0x4a+0x14e9)+(0x7*-0x3a4+0x4b2*0x5+0x202)]=_0x514d26?_0x514d26[_0x286b5e]:0x5b+-0x55f+0x504,_0x43c53e[_0x286b5e*(-0x1ddb+0x1*-0x8ad+0x268b)+(-0x1676+0x19bd*-0x1+-0x269*-0x14)]=_0x2ac7bc?Math['exp'](_0x2ac7bc[_0x286b5e]):-0xc5*0x2b+-0x21b6+0x42cd);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0xe8d6fb=this['transformM'+'otionTextu'+'re'])==null||_0xe8d6fb['unlock'](),(_0x55dac3=this['transformL'+'ifecycleTe'+'xture'])==null||_0x55dac3['unlock']();}async['updateSHDa'+'ta'](_0x275b46){var _0x1a14bc,_0xe8ea17,_0x3852d7,_0x64d9fb,_0x384f38,_0x3401a5,_0x4d6ef0,_0x22caee;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0xba9927=(_0x1a14bc=this['sh1to3Text'+'ure2'])==null?void(0x47b*-0x4+-0x166d+0x21*0x139):_0x1a14bc['lock'](),_0x54b184=(_0xe8ea17=this['sh4to7Text'+'ure2'])==null?void(0xf95*-0x1+-0x1d2a+0x8f3*0x5):_0xe8ea17['lock'](),_0x1aa165=(_0x3852d7=this['sh8to11Tex'+'ture2'])==null?void(-0x1964+-0x7bb*0x1+0x211f):_0x3852d7['lock'](),_0x44b72b=(_0x64d9fb=this['sh12to15Te'+'xture2'])==null?void(-0x986+0xf91+-0xdd*0x7):_0x64d9fb['lock'](),_0x55de4c={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x550022=vg(_0x275b46,_0x55de4c*(-0x3*0x8b6+-0x781+0x21a6)),_0x4c056a=-0xbf*0x3+0x4*-0x43+0xb48,_0x6fd688=-0x1b93+-0x1ceb+0x13*0x32f,_0x318111=new Float32Array(0xb71+0x1*0x11fc+-0x1d6c),_0x26fec4=new Uint32Array(_0x318111['buffer']),_0x820305=new Array(_0x55de4c*(0x687*-0x1+0x137*0x5+-0x1*-0x77))['fill'](0x1*-0x260b+-0x1b4e+0x4159);for(let _0x24c64f=-0x116d+0x1460+0x97*-0x5;_0x24c64f<_0x275b46['numSplats'];++_0x24c64f){for(let _0x1a54ef=-0x15df+-0xa43*0x2+-0x1*-0x2a65;_0x1a54ef<_0x55de4c;++_0x1a54ef)_0x820305[_0x1a54ef*(-0x31*-0xad+0x1a*-0x151+0x120)]=_0x550022[_0x1a54ef][_0x24c64f],_0x820305[_0x1a54ef*(0x114c+-0x258c+0x1443)+(0xfe*0x20+0x1d3c+-0x3cfb)]=_0x550022[_0x1a54ef+_0x55de4c][_0x24c64f],_0x820305[_0x1a54ef*(0x1b*0x5a+0xa63*0x1+-0x13de)+(-0x19f0+0x1ef+0x1803)]=_0x550022[_0x1a54ef+_0x55de4c*(-0x195*-0x14+0x7*0x457+-0x3e03)][_0x24c64f];let _0x40510d=_0x820305[0x1305*0x1+0x1235+-0x253a];for(let _0x4eb130=-0x1*0x1cc1+0x22b8+-0x5f6;_0x4eb130<_0x55de4c*(-0x1675*-0x1+0x702+0x4*-0x75d);++_0x4eb130)_0x40510d=Math['max'](_0x40510d,Math['abs'](_0x820305[_0x4eb130]));if(_0x40510d!==0x9ef*0x1+0xa89*0x3+-0x298a){for(let _0x3b59f1=-0x56d*-0x6+-0x97a+-0x1714;_0x3b59f1<_0x55de4c;++_0x3b59f1)_0x820305[_0x3b59f1*(-0x1def*-0x1+-0x20a4+0x2b8)+(0x261a+-0xccd*-0x1+0x32e7*-0x1)]=Math['max'](-0x102a+0x3e*-0x95+0x3440,Math['min'](_0x4c056a,Math['floor']((_0x820305[_0x3b59f1*(0x1626+-0x970+-0xcb3)+(-0x7*0x3f1+0x3*-0x11f+0x1ef4)]/_0x40510d*(0x4*-0x449+0x841*0x2+0xa2+0.5)+(0x17*0x4+-0x6d*-0x2f+0x145f*-0x1+0.5))*_0x4c056a+(-0x9cc+0xc91*-0x1+0x165d*0x1+0.5)))),_0x820305[_0x3b59f1*(-0x521+0x219c+-0x1c78)+(-0xb43+0x1f*0x69+-0x173)]=Math['max'](0xbb*-0x25+-0x1a57+0x355e,Math['min'](_0x6fd688,Math['floor']((_0x820305[_0x3b59f1*(0x1*-0x14f6+-0x1c12+0x195*0x1f)+(-0x1354*0x2+-0x77d+0x2e26)]/_0x40510d*(0x1*-0x10bb+-0x2*0x1f7+0x2b*0x7b+0.5)+(0x5c7+-0xbc1+0x5fa+0.5))*_0x6fd688+(-0x2*0x5fd+-0x13*-0x172+0x1*-0xf7c+0.5)))),_0x820305[_0x3b59f1*(-0xd*0x19d+0x41*-0x90+0x398c)+(-0xb3c+-0x19*-0x133+-0x29*0x75)]=Math['max'](0x8e4+-0x1*0x60d+-0x2d7,Math['min'](_0x4c056a,Math['floor']((_0x820305[_0x3b59f1*(-0x1da6+-0xa*0x18b+0x2d17)+(-0x6d5+-0xa4b*-0x2+-0x45*0x33)]/_0x40510d*(0x1*0x1d37+0x141*0x1a+-0x3dd1+0.5)+(-0x4f6+-0x1d37+0x222d+0.5))*_0x4c056a+(0x1*0x19e2+-0x1da5*0x1+-0x6b*-0x9+0.5))));_0x318111[0x24e3+0x4bd+0x534*-0x8]=_0x40510d,_0xba9927[_0x24c64f*(-0x1b55+0x1a6*-0x1+-0x23b*-0xd)+(0x3bd+0x1d55+-0x2112)]=_0x26fec4[-0x1*-0x9fa+-0xae5*-0x1+0x27*-0x89],_0xba9927[_0x24c64f*(-0x1*-0x2593+-0x362+-0x1*0x222d)+(0x47*-0x40+-0x4*0x893+0x401*0xd)]=_0x820305[0x2236+-0x1*-0x25f7+-0x3*0x180f]<<-0x925*0x3+-0x29*-0x7a+-0x3fd*-0x2|_0x820305[0x21b4+0x5*-0xff+-0x1cb8*0x1]<<-0x158*0x10+-0x2*-0x7a5+0x641|_0x820305[-0x194e+0x1*-0xea4+-0x2*-0x13fa],_0xba9927[_0x24c64f*(0x1077*0x1+-0x254d+0x14da)+(0x2011*0x1+-0x1*-0x11ef+-0x9e*0x51)]=_0x820305[-0x73*-0x9+0x547+-0x94f]<<0x25d2+0x116e+-0x372b|_0x820305[-0xc08+-0xe99+0x167*0x13]<<-0xd40*-0x1+-0x2164+0x142f*0x1|_0x820305[0xfc8+-0x359*-0x8+-0x2a8b*0x1],_0xba9927[_0x24c64f*(-0x1*-0xaab+-0x528+0x1*-0x57f)+(-0x1f3b+-0x4b4+0x56*0x6b)]=_0x820305[0xb31+-0x1*0x75b+-0x3d0]<<0x122*-0x8+-0x2*-0x7ed+-0x6b5|_0x820305[0x165d+0x4*-0x50d+0x2*-0x111]<<-0x74e+0x1bae+0x5*-0x411|_0x820305[-0x2f6+0x12d*-0x1+0x42b],this['shBands']>-0x10*0x88+-0x2*-0x22f+-0x3*-0x161&&(_0x54b184[_0x24c64f*(-0x26a7+0x229a*0x1+-0x411*-0x1)+(0x23*0xa7+0x1*0x5e4+-0x81*0x39)]=_0x820305[-0x1004+-0x1d1b*-0x1+-0x22d*0x6]<<-0x1*0xfbb+-0x16*-0x6d+0x42*0x19|_0x820305[0x5eb+-0x205*-0x8+-0x1609*0x1]<<0x1*-0x1a5f+0xe1a+-0x2*-0x628|_0x820305[-0x17d6+0xbdd+0x1*0xc04],_0x54b184[_0x24c64f*(0x1*-0x2135+0x1*0x1bef+-0x2*-0x2a5)+(0x1165+-0x92*0x7+-0xd66)]=_0x820305[-0x2410+0x5e1+0x1e3b]<<0x1e38+0x161*-0x18+-0x2f5*-0x1|_0x820305[0x10b*-0x7+-0x11*0x22+0x99c]<<-0x1bf*-0x3+-0xe55+0x923|_0x820305[0x1db7+-0x1545+-0x864],_0x54b184[_0x24c64f*(0x1645*-0x1+-0xcab+-0x117a*-0x2)+(-0x1*-0x2429+-0xc7f+-0x17a8)]=_0x820305[0xcd4*-0x2+-0xd*-0x185+0x5f6]<<-0x2013+0x613*0x6+-0x1*0x44a|_0x820305[0xbb3*-0x2+0x2311+-0xb9b]<<-0x19d1+-0x2593+0x3f6f|_0x820305[-0x15fc+-0xcd+0x28a*0x9],_0x54b184[_0x24c64f*(-0x1370+-0x20e0*-0x1+-0xd6c)+(-0x8db*-0x3+0x2231+0x3cbf*-0x1)]=_0x820305[-0x20*-0x4a+-0x1912+0xfe4]<<-0x20b3+-0x198+-0x113*-0x20|_0x820305[0x5d*0x53+-0x9d*-0x12+-0x291e]<<-0x4c+0x23*-0x7b+0x1128|_0x820305[-0x59b+0x324*-0xa+-0xc5d*-0x3],this['shBands']>-0x1ccb+-0xaf6+0x27*0x105?(_0x1aa165[_0x24c64f*(-0x611*0x2+-0x1*0x1cbb+0x28e1)+(0x1755*0x1+-0x1*-0x4f7+-0x1c4c)]=_0x820305[-0x77*-0x4+0x26bc+-0x2883*0x1]<<0x2*-0xd4c+-0x1d26+0x37d3|_0x820305[-0x22a3*0x1+-0x616+0x1*0x28cf]<<-0x2114+0x434+-0x1*-0x1ceb|_0x820305[0x417+-0x409*0x8+0x1c48],_0x1aa165[_0x24c64f*(0x258f+0x1d5f+-0x42ea*0x1)+(0x1*0x1c1+0x13e5+-0x3*0x737)]=_0x820305[-0x39*-0xad+-0x7b1*0x4+-0x7a9]<<0x13*0x16a+-0x1a4e+-0x29*0x3|_0x820305[-0x1061*-0x1+0x1e*0x107+-0x2f1a]<<0x2268+0x19d5+-0x3c32|_0x820305[0xfff+0x5*-0x5ab+0xc72],_0x1aa165[_0x24c64f*(0x2025+0x1d3b+0x176*-0x2a)+(-0x1dc3+-0x1746+0x16f*0x25)]=_0x820305[0x2*-0xaba+-0x232a+0x38b9]<<-0x5*-0x18b+-0x2079+-0x18d7*-0x1|_0x820305[0x13*0xd4+-0x1661+0x1*0x6c1]<<0x26b0*-0x1+-0xa51+0x310c|_0x820305[-0x1d5a+-0x1057*0x1+0x2dce],_0x1aa165[_0x24c64f*(0x1cec+-0x3b*0x6e+0x23*-0x1a)+(0x43*0x1+-0x1e3f+0x1dff)]=_0x820305[-0x2386+-0x1*-0x89e+-0x1*-0x1b06]<<0x7db*-0x1+0x235f+-0x3*0x925|_0x820305[0x3*-0xa97+-0xcdf*-0x3+-0x6b9]<<0x13*0x1f7+0x1*0x787+-0x2cd1|_0x820305[0x1091*0x1+0x112c+-0x219d],_0x44b72b[_0x24c64f*(0x4fd+0xbe+0x13*-0x4d)+(-0x1702+-0x22c8+0x39ca)]=_0x820305[0x1*-0x21bd+-0x2b3*-0x4+0x1712]<<0x1ddd+0x103+-0x1ecb|_0x820305[0xcae+-0x18ec+-0xb*-0x120]<<0x19f0+0x222c+0x3c11*-0x1|_0x820305[0x616+-0x4a3*0x5+-0x89e*-0x2],_0x44b72b[_0x24c64f*(0xb*0x22d+-0x9f9+-0xdf2)+(-0x10c3*0x1+-0x796+0x185a)]=_0x820305[0x26ff*0x1+0x5*-0x154+0xabd*-0x3]<<0x1ad1+0x2f*-0x51+-0xbdd|_0x820305[-0x2271+-0x62e+-0x1462*-0x2]<<0xb20+-0x7*-0x4cf+-0x2cbe|_0x820305[-0xddc+0xa39*0x1+0x33*0x13],_0x44b72b[_0x24c64f*(0x69d*-0x1+-0x2064+0x593*0x7)+(0x12dc+0x529*0x6+-0x8*0x63a)]=_0x820305[-0x1a8c+0x3*-0x2ef+-0x4*-0x8e0]<<-0x9*-0x21d+0x1fbc+-0x32ac|_0x820305[-0x13a5+0xc*-0x23f+-0x1*-0x2ec1]<<-0x7*-0x38f+-0x2127+0x849|_0x820305[-0x145f+-0x35*0xb5+0x3a01],_0x44b72b[_0x24c64f*(0x1a9d+0x1109+0x15d1*-0x2)+(-0x651+0x3d7+0x27d)]=_0x820305[-0x213+-0x44*-0xe+-0x17b]<<-0x1656*0x1+-0x935*0x3+0x320a|_0x820305[0xa*-0x1af+-0x3*-0x242+0xa3b*0x1]<<-0x2000+0x1*0x6e9+0x1922|_0x820305[0x1*0x944+-0x61b*0x1+-0x2fd]):_0x1aa165[_0x24c64f]=_0x820305[-0x2173*0x1+-0x27d*-0x9+0xb23]<<-0x1991+-0x4*0xbc+-0x1c96*-0x1|_0x820305[0x18b0+0x10dd+0x37*-0xc1]<<0x1*0x165c+0x25*0xad+-0x2*0x17a9|_0x820305[-0x2355+-0x5e9+0x2955]);}}(_0x384f38=this['sh1to3Text'+'ure2'])==null||_0x384f38['unlock'](),(_0x3401a5=this['sh4to7Text'+'ure2'])==null||_0x3401a5['unlock'](),(_0x4d6ef0=this['sh8to11Tex'+'ture2'])==null||_0x4d6ef0['unlock'](),(_0x22caee=this['sh12to15Te'+'xture2'])==null||_0x22caee['unlock']();}async['updateSHDa'+'taByWorker'](_0x4cc04c){var _0x3ffabc,_0x12ee7e,_0x18d086,_0x516438,_0x51c4ae;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x5e94a9={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x1b364b,_0x31ae17,_0x19922b,_0x19d216;if((_0x3ffabc=_0x4cc04c['transformD'+'ata'])!=null&&_0x3ffabc['sh1to3Data'])_0x1b364b=(_0x12ee7e=_0x4cc04c['transformD'+'ata'])==null?void(-0x1437+0x252b+-0x10f4):_0x12ee7e['sh1to3Data'],_0x31ae17=(_0x18d086=_0x4cc04c['transformD'+'ata'])==null?void(-0x10ac+-0x118a*0x1+0x2*0x111b):_0x18d086['sh4to7Data'],_0x19922b=(_0x516438=_0x4cc04c['transformD'+'ata'])==null?void(-0xe0a+0x125*-0x1+0xf2f):_0x516438['sh8to11Dat'+'a'],_0x19d216=(_0x51c4ae=_0x4cc04c['transformD'+'ata'])==null?void(-0x24a6*0x1+0x1840+0xc66):_0x51c4ae['sh12to15Da'+'ta'];else{const _0x1c8ef8=vg(_0x4cc04c,_0x5e94a9*(0xb6b+-0x1f6d*0x1+0x1405)),_0x542180=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x4cc04c['numSplats'],this['shBands'],_0x1c8ef8);_0x1b364b=_0x542180['sh1to3Data'],_0x31ae17=_0x542180['sh4to7Data'],_0x19922b=_0x542180['sh8to11Dat'+'a'],_0x19d216=_0x542180['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x1b364b),this['shBands']>-0x1*0x109+0x10aa+-0xfa0&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x31ae17),this['shBands']>0x18d1+0x9e8*0x1+-0x22b7?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x19922b),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x19d216)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x19922b));}}async function bC(){const _0x3c553c=new Float32Array(-0x705*0x3+-0x51*0x15+-0xad*-0x29);new Int32Array(_0x3c553c['buffer']);let _0x4e330f=null,_0x2fd0ef=null,_0xe85d17=null,_0x1ec5d2=null,_0x76fe03=null,_0x27a037=null,_0x15ebc8=null,_0x1efaf8=null;self['onmessage']=async _0x57909d=>{const {data:_0x11f113}=_0x57909d;switch(_0x11f113['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x184d15(_0x11f113['numSplats'],_0x11f113['shBands'],_0x11f113['SHData']);break;case'updateTran'+'sformData':_0xb08b8e(_0x11f113['numSplats'],_0x11f113['is4D'],_0x11f113['position'],_0x11f113['rotation'],_0x11f113['motion'],_0x11f113['scale'],_0x11f113['muT'],_0x11f113['tScale']);break;case'destroyWor'+'ker':_0x4934a1();break;}};const _0xb08b8e=(_0x35d79a,_0x582a5a,_0x3b5875,_0x1dfaa7,_0x1fbaa6,_0x1cb892,_0xf378e4,_0x1c5acc)=>{_0x4934a1(),_0x582a5a&&(_0x2fd0ef=new Float32Array(_0x35d79a*(-0x1763+0x437*-0x1+0x1b9d)),_0x1efaf8=new Float32Array(_0x35d79a),_0x76fe03=new Float32Array(_0x1fbaa6['buffer']['slice']()),_0x15ebc8=new Float32Array(_0x1fbaa6['buffer']['slice']())),_0x1ec5d2=new Float32Array(_0x3b5875['buffer']['slice']()),_0x4e330f=new Float32Array(_0x3b5875['buffer']['slice']()),_0x27a037=new Uint16Array(_0x1cb892['buffer']['slice']()),_0xe85d17=new Float32Array(_0x1dfaa7['buffer']['slice']());for(let _0x29d084=0x2132+0x498*-0x5+-0xa3a;_0x29d084<_0x35d79a;_0x29d084++)_0x582a5a&&_0x2fd0ef&&(_0x1efaf8[_0x29d084]=_0x1c5acc?Math['exp'](_0x1c5acc[_0x29d084]):0x409+0x1*0x1251+-0x165a*0x1,_0x2fd0ef[_0x29d084*(0x10e7+0x521*0x2+0x1*-0x1b26)+(-0x183b+0x2*0x132d+-0xe1f)]=_0xf378e4?_0xf378e4[_0x29d084]:0x3*-0x54b+-0x4*0x16d+-0x55*-0x41,_0x2fd0ef[_0x29d084*(0x7a6+0x12*0x2c+-0xabb)+(-0xdaa+0x1327+-0x57c)]=_0x1efaf8[_0x29d084]);const _0x451d06=[_0x4e330f['buffer'],_0x1ec5d2['buffer'],_0x27a037['buffer'],_0xe85d17['buffer']];_0x582a5a&&_0x451d06['push'](_0x76fe03['buffer'],_0x2fd0ef['buffer'],_0x15ebc8['buffer'],_0x1efaf8['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x4e330f,'dataPosition':_0x1ec5d2,'dataScale':_0x27a037,'dataRotation':_0xe85d17,'dataMotion':_0x76fe03,'dataTime':_0x2fd0ef,'motion':_0x15ebc8,'tScaleArray':_0x1efaf8},_0x451d06);},_0x184d15=(_0x5a4428,_0x558e6b,_0x34261d)=>{const _0x42c595=new Uint32Array(_0x5a4428*(0x2*-0xcb3+0x241*0x1+0xb*0x21b)),_0x16ba1b=new Uint32Array(_0x5a4428*(0x268*-0x3+-0x20ef+0x5b*0x71)),_0x24ab85=new Uint32Array(_0x5a4428*(0x427*-0x3+0x1f1e+0x2b*-0x6f)),_0x5be809=new Uint32Array(_0x5a4428*(0x1e26+-0x1*0x1d09+-0x119)),_0xc3e26={0x1:0x3,0x2:0x8,0x3:0xf}[_0x558e6b],_0x2665a8=_0x34261d,_0x4145c8=0x16b3+-0x1fbe+0x110a,_0x4a751a=-0x3*0x959+0x4d*0x7+0x1def,_0x85f062=new Float32Array(0x10*-0x167+0x7ab+0xec6),_0x47d76a=new Uint32Array(_0x85f062['buffer']),_0x34fc04=new Array(_0xc3e26*(0x367*-0xb+-0x2097+-0xa01*-0x7))['fill'](-0x1821+0x22c*-0x1+0x1a4d*0x1);for(let _0xa1855c=0x2*0x9+-0x782+0x770;_0xa1855c<_0x5a4428;++_0xa1855c){for(let _0x9932f=-0x53*0x13+-0x2096+0x26bf;_0x9932f<_0xc3e26;++_0x9932f)_0x34fc04[_0x9932f*(-0xc9*0x2b+0x5d*0xf+0x1c53)]=_0x2665a8[_0x9932f][_0xa1855c],_0x34fc04[_0x9932f*(0x14a7*0x1+-0x1b7f*0x1+-0x3*-0x249)+(-0x1*0x21+0x3*-0x88f+-0x19cf*-0x1)]=_0x2665a8[_0x9932f+_0xc3e26][_0xa1855c],_0x34fc04[_0x9932f*(0x4b4+0x215e+0x260f*-0x1)+(-0xb*-0x59+-0xff1+0xc20)]=_0x2665a8[_0x9932f+_0xc3e26*(0x1b5e+0x1*-0x2570+-0x3*-0x35c)][_0xa1855c];let _0x4fc603=_0x34fc04[-0x1746+-0xc0b*-0x2+-0xd0];for(let _0x4565ab=-0x2216+-0x1*0x1939+-0x124*-0x34;_0x4565ab<_0xc3e26*(0x757*-0x2+-0x1*0x1147+-0x21*-0xf8);++_0x4565ab)_0x4fc603=Math['max'](_0x4fc603,Math['abs'](_0x34fc04[_0x4565ab]));if(_0x4fc603!==0x24dc+-0x100+0x1e*-0x132){for(let _0x2a546c=0x1408+-0x14cc+0x62*0x2;_0x2a546c<_0xc3e26;++_0x2a546c)_0x34fc04[_0x2a546c*(-0xf96+-0x3*-0xc1+-0x1*-0xd56)+(-0x177c+-0x752*0x1+0x1ece*0x1)]=Math['max'](-0x362*-0x1+-0xf47+0xbe5*0x1,Math['min'](_0x4145c8,Math['floor']((_0x34fc04[_0x2a546c*(0x59*-0x29+0x1*0x8bd+0x587)+(0x6fc+0x7b5*-0x1+0xb9)]/_0x4fc603*(0x584+0x7c*0xd+-0x90*0x15+0.5)+(0xee8+0x485+-0x136d+0.5))*_0x4145c8+(0x12*-0x212+0x1618+-0x3cb*-0x4+0.5)))),_0x34fc04[_0x2a546c*(0x9*-0x1fc+-0x2534+0x265*0x17)+(-0x49*0x59+0x19*0x25+0x1*0x15c5)]=Math['max'](-0x10bf+0x92f+0x790,Math['min'](_0x4a751a,Math['floor']((_0x34fc04[_0x2a546c*(-0x2*0x9b9+-0x44e*0x3+0x1*0x205f)+(-0xe54+0x1d58+-0x7*0x225)]/_0x4fc603*(-0x66a+0x1ba3+-0x1539+0.5)+(0x1*-0x12b6+-0x1d87*-0x1+0x1*-0xad1+0.5))*_0x4a751a+(0x260a+-0x91c+-0x1cee+0.5)))),_0x34fc04[_0x2a546c*(-0x6*-0x59e+-0x164c*-0x1+0xb*-0x517)+(0x1e84+-0x1f33+0xb1)]=Math['max'](-0x1*0x1517+-0x575*-0x6+0x1*-0xba7,Math['min'](_0x4145c8,Math['floor']((_0x34fc04[_0x2a546c*(0x23*0xff+0xb3b+-0xfb*0x2f)+(-0x1285+0xa8a+0x7fd)]/_0x4fc603*(0x9a5*-0x2+0x28d+0x359*0x5+0.5)+(-0x744+0x1*-0x1256+0x199a+0.5))*_0x4145c8+(0x1c*0xb5+-0x1bd*-0x2+-0x1746+0.5))));_0x85f062[0x163e+-0x1*0xa6f+0x1*-0xbcf]=_0x4fc603,_0x42c595[_0xa1855c*(0x1075+0x1a*0x57+0x86d*-0x3)+(-0x2ca*0x5+-0x36*-0x39+0x2*0xf6)]=_0x47d76a[0x161+0x1*0x10d3+0x1d2*-0xa],_0x42c595[_0xa1855c*(0x2f*0x46+0xf54+0xe*-0x203)+(0x157f+-0xb03*-0x1+-0x2081)]=_0x34fc04[0x766+0xc77+-0x13dd*0x1]<<-0x9f0+-0x1caa*0x1+0x26af|_0x34fc04[0x10e9+-0x44*0x14+-0x5cc*0x2]<<0x9*0x18+-0x1e47+0x1d7a|_0x34fc04[-0x7*-0x530+-0x16cc+-0xd82],_0x42c595[_0xa1855c*(0x177f+0x1a5c+-0x31d7)+(0x18f4+-0xe9d+-0xa55)]=_0x34fc04[0x1*0x419+0x6bb*0x4+-0x1f02]<<-0xb*-0x362+0x20a3*-0x1+-0x47e|_0x34fc04[0x245*-0xc+0x1e8d+-0x1*0x34d]<<0xcd6+-0x455+0x169*-0x6|_0x34fc04[0x148e+-0xcd*-0x7+-0x1a24],_0x42c595[_0xa1855c*(-0x285*0x1+-0xb0b+-0x1*-0xd94)+(0x619+0x26c1+-0x2cd7)]=_0x34fc04[-0x67*-0x47+-0xefd*-0x2+-0x3a85]<<0xc8*0x2a+-0x1*-0x24fa+-0xdf1*0x5|_0x34fc04[0xb5*-0xf+0x9fd*-0x1+0x149f*0x1]<<-0xfcd+-0x201+-0x1*-0x11d9|_0x34fc04[0x25f5+-0xf3*0x19+-0xe32],_0x558e6b>-0xfad+-0x1*0x1aab+0x2a59&&(_0x16ba1b[_0xa1855c*(0x935+0x1*0xa5f+-0x1*0x1390)+(0x296+0x95*-0x7+-0x1*-0x17d)]=_0x34fc04[-0xb*-0x58+0x3d7*0x9+-0x264e]<<0x11dd+-0x211a+-0x25*-0x6a|_0x34fc04[-0x1*0x383+0x159b+-0x907*0x2]<<0x455+-0x89*-0x1+-0x41*0x13|_0x34fc04[0xd*-0x2e1+-0x152+-0xf*-0x296],_0x16ba1b[_0xa1855c*(0x19a8+0x15c4+-0x2f68)+(0x1b61+-0x1e09*0x1+0x2a9)]=_0x34fc04[-0x42a+-0x4*0x5c5+0x1b4a]<<-0x1132+-0x1346*-0x1+0x7*-0x49|_0x34fc04[-0xac*0x25+-0x7a8+0x1*0x2091]<<0x2426+-0x67*-0x11+0x2*-0x1579|_0x34fc04[0x8fc*-0x1+0x17f3+-0x1*0xee9],_0x16ba1b[_0xa1855c*(-0x2*0x565+-0xc3*0x31+-0x559*-0x9)+(0x19cb+0x1c31+-0x149*0x2a)]=_0x34fc04[-0x5*-0x648+0x14e0+-0x3439]<<0x2*-0x59d+-0xdf*0x29+0x1*0x2f06|_0x34fc04[0x5aa+-0x1*0xb0f+-0x1*-0x575]<<-0x20a8+0x1d85*0x1+0x32e|_0x34fc04[0x4ea+0x1ccd+-0x1*0x21a6],_0x16ba1b[_0xa1855c*(0x10ef+0x1*-0x5df+-0xb0c)+(-0x1*0x22ed+0x1c*0x9d+0x3*0x5ec)]=_0x34fc04[-0x36d*0x1+-0x189c+-0x59f*-0x5]<<0x3*-0x538+-0xd15+0xe69*0x2|_0x34fc04[0x48e+0x1*0x1c30+-0x20ab*0x1]<<-0x17*0x175+0x33+-0x1*-0x215b|_0x34fc04[-0x77+-0x10ed*0x1+-0x22f*-0x8],_0x558e6b>0x1720+0x1cd0+-0x187*0x22?(_0x24ab85[_0xa1855c*(0x1be9+0x1*-0xefa+-0xceb*0x1)+(-0x1*0x2027+0x2008+-0x1*-0x1f)]=_0x34fc04[0x34*-0x1b+0xf00+-0x45*0x23]<<0x7c6+-0x16*-0x154+-0xb*0x35b|_0x34fc04[-0x2069+0x24d1+-0x452]<<0x263*-0x1+-0x169e+-0x1*-0x190c|_0x34fc04[0x23ca+-0x6*0x4e1+-0x66d],_0x24ab85[_0xa1855c*(0x532+-0x3*0x91d+0x1629)+(-0x3f*0x63+-0x5*0x43f+0x2d99)]=_0x34fc04[0x11ab*-0x1+0x20ac+0x15b*-0xb]<<0x25ca+0x305*-0xa+-0x281*0x3|_0x34fc04[0xb3e+0x2*-0xf7f+-0x1*-0x13d9]<<-0x3e*-0x40+-0x1273*-0x2+-0x345b|_0x34fc04[0x20b8+-0x791+0x1*-0x190d],_0x24ab85[_0xa1855c*(0x169*-0x14+-0x1*-0x1d43+0x10b*-0x1)+(0x24b9+0x5*0x12d+-0x2a98)]=_0x34fc04[-0x2ab*0x7+0x1cab+-0x9e3]<<-0x1b1c+0x1217+0x91a|_0x34fc04[0x476*0x5+0x74b*0x1+-0x1d7d]<<0x1553+0x7*0x3da+-0x82*0x5f|_0x34fc04[0x2a*0xd8+-0x19c0*0x1+-0x13*0x81],_0x24ab85[_0xa1855c*(0x150a*0x1+-0x636*0x1+0x1*-0xed0)+(-0x440+0x5*-0x4cd+0x1c44)]=_0x34fc04[-0x4*-0x8b7+-0x1*0x23bf+-0x101*-0x1]<<-0xcda+-0x65*-0x2f+0x2*-0x2ce|_0x34fc04[-0x1*-0x1ae3+-0x2a1+0xa7*-0x25]<<0x9cc+0x1d70+-0x2731|_0x34fc04[-0x11*0x5f+-0x163b+-0x6*-0x4c7],_0x5be809[_0xa1855c*(-0xdd*-0x1b+0x2b6*0x4+0x1*-0x2223)+(-0x587*0x7+0xb65+-0x2*-0xda6)]=_0x34fc04[0x36f+-0xbff+-0x19*-0x59]<<0x33*0x51+0x88*0x48+-0x364e|_0x34fc04[0x227*-0xd+0x6*-0x89+0x1f53]<<0x1b61*0x1+0x208e+-0x3be4|_0x34fc04[0x26f8+-0x1*0x1c27+0x557*-0x2],_0x5be809[_0xa1855c*(-0x1c9f+0xd73*-0x1+0x2a16)+(0x35*-0x7b+-0x1*0x4d5+0x1e4d)]=_0x34fc04[0x22a4+-0x22*-0xc+-0x2418]<<-0x217c*0x1+0x23b0+0x21f*-0x1|_0x34fc04[-0xbe1+-0x10b5*0x2+0x2d70]<<-0x16fc*0x1+-0xfdf+-0x2*-0x1373|_0x34fc04[-0xbd6+0xd80+-0x184],_0x5be809[_0xa1855c*(0xd22+-0x47*0x5f+-0x469*-0x3)+(-0xaef+0x166*-0x15+0x284f)]=_0x34fc04[-0xeb8+0x194c+-0xa6d]<<0x530+0x1*0x2276+-0x2791|_0x34fc04[0x1*0x1095+0x57d+-0x15ea]<<0x1e38+-0xc76+-0x11b7|_0x34fc04[0x1*-0x1597+0x1b08+-0xd*0x68],_0x5be809[_0xa1855c*(0x1cf4*-0x1+0x49*-0x85+0x42e5)+(-0x12aa*0x1+0x2582+-0x12d5)]=_0x34fc04[-0x3ff+0x3*0x7b+0x2b8]<<0x613*0x6+-0x65b+-0x1e02|_0x34fc04[-0x2268*-0x1+-0x2159*-0x1+-0x4396]<<-0x1e*0x2f+0x841+-0x2b4|_0x34fc04[-0x12f*-0xf+0x71c+-0x18b1]):_0x24ab85[_0xa1855c]=_0x34fc04[-0xed3+-0x965+-0x1*-0x184d]<<0x7c2+0x4f3+-0x65*0x20|_0x34fc04[0x1f0a+-0x23ac+0x97*0x8]<<0x1448+-0xc2b+-0x812|_0x34fc04[-0x13*0xc5+0x1*-0x259d+0x3453]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x42c595,'sh4to7Data':_0x16ba1b,'sh8to11Data':_0x24ab85,'sh12to15Data':_0x5be809}},[_0x42c595['buffer'],_0x16ba1b['buffer'],_0x24ab85['buffer'],_0x5be809['buffer']]);},_0x4934a1=()=>{_0x4e330f=null,_0x2fd0ef=null,_0xe85d17=null,_0x1ec5d2=null,_0x76fe03=null,_0x27a037=null,_0x15ebc8=null,_0x1efaf8=null;};}class AC extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+bC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x528ed7,_0x3e7244,_0xa696f1){_0x528ed7['onmessage']=_0x3c1b8a=>{if(!this['worker'])return;const {data:_0xa3edd8}=_0x3c1b8a;if(_0xa3edd8['type']===_0x3e7244)switch(_0x3e7244){case'updatedSHD'+'ata1':_0xa696f1(_0xa3edd8['data']);break;case'updatedCol'+'orData':_0xa696f1(_0xa3edd8['data']);break;case'updatedTra'+'nsformData':_0xa696f1(_0xa3edd8);break;}};}['updateSHDa'+'ta1'](_0xddbd3c,_0x43cf91,_0x2f685c){var _0x45c2fa;return(_0x45c2fa=this['worker'])==null||_0x45c2fa['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0xddbd3c,'shBands':_0x43cf91,'SHData':_0x2f685c}),new Promise(_0x3f1226=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x142e73=>{_0x3f1226(_0x142e73);});});}async['updateTran'+'sData'](_0x4be1d3,_0x34793a,_0x2391b7,_0x4ec5d2,_0x56ecf8,_0x4a6678,_0x1a3d68,_0x4be2b7){var _0xc065d7;return(_0xc065d7=this['worker'])==null||_0xc065d7['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x4be1d3,'is4D':_0x34793a,'position':_0x2391b7,'rotation':_0x4ec5d2,'motion':_0x56ecf8,'scale':_0x4a6678,'muT':_0x1a3d68,'tScale':_0x4be2b7}),new Promise(_0x41c77a=>{const _0x3dd1fc=_0x36985c=>{_0x41c77a(_0x36985c);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x3dd1fc);});}['destroy'](){var _0x43d25d;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x43d25d=this['worker'])==null||_0x43d25d['terminate'](),this['worker']=null);}}const xg=(_0x15d87d,_0x3518bd)=>{const _0x46201d=[];for(let _0x2e1022=-0x1d7b*0x1+-0x478+0x21f3*0x1;_0x2e1022<_0x3518bd;++_0x2e1022)_0x46201d['push'](_0x15d87d['getProp']('f_rest_'+_0x2e1022));return _0x46201d;};class CC extends Rv{constructor(_0x5b3a56,_0x55eaec){super(_0x5b3a56,_0x55eaec),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(-0x1e4+0x231d+0x2*-0x109c)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new AC(),this['assetsMana'+'gerLoadedT'+'ime']=0x2*0x721+-0x636+-0x19b*0x5);}['setSceneIn'+'fo'](_0x49c4e6){this['sceneInfo']['duration']=_0x49c4e6['duration'],this['sceneInfo']['fps']=_0x49c4e6['fps'],this['sceneInfo']['totalGauss'+'ians']=_0x49c4e6['totalGauss'+'ians'],this['sceneInfo']['globalBoun'+'dingBoxMin']=new D(_0x49c4e6['globalBoun'+'dingBox']['min'][0x3e+0x152e+-0x156c],_0x49c4e6['globalBoun'+'dingBox']['min'][0x901+-0x2d*-0x25+0xf81*-0x1],_0x49c4e6['globalBoun'+'dingBox']['min'][0xc73*0x3+-0x15f2+0x1*-0xf65]),this['sceneInfo']['globalBoun'+'dingBoxMax']=new D(_0x49c4e6['globalBoun'+'dingBox']['max'][-0x244+-0x1c7*-0xd+-0x37*0x61],_0x49c4e6['globalBoun'+'dingBox']['max'][0xe3b+0xe*0x21b+-0x2bb4],_0x49c4e6['globalBoun'+'dingBox']['max'][0x530*-0x4+0x7*0x8b+0x10f5]);const _0x4e190b=_0x49c4e6['globalBoun'+'dingBox']['min'][0x8*-0x16b+0x5*0x277+-0xfb],_0x2b6585=_0x49c4e6['globalBoun'+'dingBox']['min'][-0x20*-0xf1+-0x45*-0x33+-0x2bde],_0x3fef27=_0x49c4e6['globalBoun'+'dingBox']['min'][-0xdd3+0x13b5+-0x5e0],_0x188667=_0x49c4e6['globalBoun'+'dingBox']['max'][0x1*-0x11ab+0x7f0+0x9bb*0x1],_0x63ae27=_0x49c4e6['globalBoun'+'dingBox']['max'][0x1eb9+-0x21*0xb5+0x1*-0x763],_0x3bfa57=_0x49c4e6['globalBoun'+'dingBox']['max'][-0x1446+-0x6f+0x14b7],_0x4c7bc8=new D((_0x4e190b+_0x188667)*(0x1ca7+0x7*0x25f+0x8*-0x5a8+0.5),(_0x2b6585+_0x63ae27)*(0x10fa+0x1*-0x1c4a+0xb50+0.5),(_0x3fef27+_0x3bfa57)*(0x1*0x204a+0x66*0x56+-0x2147*0x2+0.5)),_0x969f4d=new D((_0x188667-_0x4e190b)*(0x7*-0x32e+-0x1*0x268f+0x3cd1+0.5),(_0x63ae27-_0x2b6585)*(0x1b9d*0x1+0x9b8+-0x2555+0.5),(_0x3bfa57-_0x3fef27)*(0xb01+0x28*0x9d+0xb*-0x33b+0.5)),_0x3f4782=new De(_0x4c7bc8,_0x969f4d);this['sceneInfo']['globalBoun'+'dingBox']=_0x3f4782,this['aabb']=_0x3f4782;}async['updateData'](){var _0xa57403,_0x4a73b4,_0x99bcf7,_0x12835d,_0x47be36,_0x24e21f,_0x23c1c6,_0x8c74aa,_0x80b31d,_0x4f05d1,_0x2deaaa;await super['updateData']();const _0x2b5843=this['gsplatData'];if(!_0x2b5843)return;this['is4D']=_0x2b5843['is4D'];const _0xa0733b=await this['getTransfo'+'rmDataByWo'+'rker'](_0x2b5843);this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0xa0733b['centers'],this['motion']=_0xa0733b['motion'],this['tScale']=_0xa0733b['tScaleArra'+'y'],this['muT']=await _0x2b5843['getMuT'](),this['timeIndex']=await _0x2b5843['getTimeInd'+'ex']();const _0x18b494=this['evalTextur'+'eSize'](_0x2b5843['numSplats']);this['colorTextu'+'re']?((_0xa57403=this['colorTextu'+'re2'])==null||_0xa57403['destroy'](),(_0x4a73b4=this['transformA'+'Texture2'])==null||_0x4a73b4['destroy'](),(_0x99bcf7=this['transformB'+'Texture2'])==null||_0x99bcf7['destroy'](),(_0x12835d=this['transformR'+'Texture2'])==null||_0x12835d['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x18b494),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x18b494),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x18b494),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x18b494),this['is4D']&&((_0x47be36=this['transformM'+'otionTextu'+'re2'])==null||_0x47be36['destroy'](),(_0x24e21f=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x24e21f['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x18b494),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x18b494))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x18b494),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x18b494),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x18b494),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x18b494),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x18b494),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x18b494),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x18b494),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x18b494),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x18b494),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x18b494),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x18b494),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x18b494))),await this['updateColo'+'rData'](_0x2b5843),await this['updateTran'+'sformFromD'+'ata'](_0xa0733b),this['shBands']=_0x2b5843['shBands'],this['shBands']>0x1*-0x883+0x1*-0x2518+0x2d9b&&(this['sh1to3Text'+'ure']?((_0x23c1c6=this['sh1to3Text'+'ure2'])==null||_0x23c1c6['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x18b494),this['shBands']>-0x2*0x328+-0x13c*-0xe+-0xaf7&&((_0x8c74aa=this['sh4to7Text'+'ure2'])==null||_0x8c74aa['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x18b494),this['shBands']>0x1*0x2606+-0x11e5+-0x141f?((_0x80b31d=this['sh8to11Tex'+'ture2'])==null||_0x80b31d['destroy'](),(_0x4f05d1=this['sh12to15Te'+'xture2'])==null||_0x4f05d1['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x18b494),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x18b494)):((_0x2deaaa=this['sh8to11Tex'+'ture2'])==null||_0x2deaaa['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x18b494)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x18b494),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x18b494),this['shBands']>0xe3*-0x1+0x74*-0x50+0x2524&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x18b494),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x18b494),this['shBands']>-0xded*0x1+0x215a+0x1*-0x136b?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x18b494),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x18b494),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x18b494),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x18b494)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x18b494),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x18b494)))),await this['updateSHDa'+'taByWorker'](_0x2b5843));}['updateText'+'ure'](){this['isDestroye'+'d']||(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x3311a6){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x3311a6}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x5a2fe9,_0xbf0462,_0x20157e,_0x432420,_0x4609e4,_0x174055){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x5a2fe9,'timeOption':_0xbf0462,'loadedTime':_0x20157e,'asset':_0x432420,'events':_0x4609e4,'seekCB':_0x174055}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(-0xa*0x130+0x15*-0x9+0xc9d*0x1);try{for(;this['appendQueu'+'e']['length']>0x528+-0x1533+0x100b;){const _0x39d726=this['appendQueu'+'e']['shift']();_0x39d726['type']==='append'?await this['processApp'+'endTask'](_0x39d726['data']):_0x39d726['type']==='release'&&await this['processRel'+'easeTask'](_0x39d726['data']);}}finally{this['isProcessi'+'ngQueue']=!(0xf*0xd3+0x1762+0x96*-0x3d);}}}async['processRel'+'easeTask'](_0x3c3b1d){const {index:_0x7c260d}=_0x3c3b1d;this['isDestroye'+'d']||await this['gsplatData']['releaseSeq'+'Data'](_0x7c260d);}async['processApp'+'endTask'](_0x1455cc){var _0x638b83;const {gsplatData:_0x1d9067,timeOption:_0x3f7ddd,loadedTime:_0x40e00c,asset:_0x56b766,events:_0x315025,seekCB:_0x314d6b}=_0x1455cc;!this['gsplatData']||this['isDestroye'+'d']||(globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x3f7ddd,this['asset']=_0x56b766,this['assetsMana'+'gerLoadedT'+'ime']=_0x40e00c,this['events']=_0x315025,await this['gsplatData']['appendGSpl'+'atData'](_0x1d9067,_0x40e00c,_0x3f7ddd),console['log']('loadTime__'+'__','gsplatDeco'+'dedResourc'+'e\x20gsplatDa'+'ta.appendG'+'SplatData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x445+0x7*-0x89+0x806),_0x1d9067['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x1d9067['numSplats'])['toFixed'](-0x25*-0x8e+0x26*-0x34+-0xccb*0x1)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20this.upd'+'ateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x24e5+0xd65+-0x3248),_0x1d9067['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await((_0x638b83=this['gsplatInst'+'ance'])==null?void(-0x1122+0x70e*0x3+-0x408):_0x638b83['updateInst'+'anceData'](this,_0x40e00c,_0x314d6b)),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20updateIn'+'stanceData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x1*0x2451+-0x16fb+0x3b4e*0x1),_0x1d9067['numSplats']));}['fireAssets'+'ManagerTim'+'eIndex'](_0x48ea05,_0x369383){var _0x11d20e;const _0x5f504a=_0x48ea05||this['assetsMana'+'gerLoadedT'+'ime'];(_0x11d20e=this['asset'])==null||_0x11d20e['fire']('setAssetsL'+'oaded',_0x5f504a,_0x369383);}['destroy'](){var _0x301c07,_0x35c940,_0x993924,_0x3985e2,_0xc5c814,_0x19aa3c,_0x4a97a2,_0x1740ca,_0x36d767,_0x300caf,_0x4208e3,_0xf8c4dc,_0x305b0d,_0x558aa9,_0xc02fee,_0x110f9e,_0x2f9f7c,_0x422826,_0x36376e,_0x268f8b,_0x4391b1;(_0x301c07=this['updateData'+'Worker'])==null||_0x301c07['destroy'](),this['updateData'+'Worker']=void(-0x1*0x12f1+-0x640+-0x1931*-0x1),(_0x35c940=this['colorTextu'+'re'])==null||_0x35c940['destroy'](),(_0x993924=this['transformA'+'Texture'])==null||_0x993924['destroy'](),(_0x3985e2=this['transformB'+'Texture'])==null||_0x3985e2['destroy'](),(_0xc5c814=this['transformR'+'Texture'])==null||_0xc5c814['destroy'](),(_0x19aa3c=this['transformM'+'otionTextu'+'re'])==null||_0x19aa3c['destroy'](),(_0x4a97a2=this['transformL'+'ifecycleTe'+'xture'])==null||_0x4a97a2['destroy'](),(_0x1740ca=this['sh1to3Text'+'ure'])==null||_0x1740ca['destroy'](),(_0x36d767=this['sh4to7Text'+'ure'])==null||_0x36d767['destroy'](),(_0x300caf=this['sh8to11Tex'+'ture'])==null||_0x300caf['destroy'](),(_0x4208e3=this['sh12to15Te'+'xture'])==null||_0x4208e3['destroy'](),(_0xf8c4dc=this['colorTextu'+'re2'])==null||_0xf8c4dc['destroy'](),(_0x305b0d=this['transformA'+'Texture2'])==null||_0x305b0d['destroy'](),(_0x558aa9=this['transformB'+'Texture2'])==null||_0x558aa9['destroy'](),(_0xc02fee=this['transformR'+'Texture2'])==null||_0xc02fee['destroy'](),(_0x110f9e=this['transformM'+'otionTextu'+'re2'])==null||_0x110f9e['destroy'](),(_0x2f9f7c=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x2f9f7c['destroy'](),(_0x422826=this['sh1to3Text'+'ure2'])==null||_0x422826['destroy'](),(_0x36376e=this['sh4to7Text'+'ure2'])==null||_0x36376e['destroy'](),(_0x268f8b=this['sh8to11Tex'+'ture2'])==null||_0x268f8b['destroy'](),(_0x4391b1=this['sh12to15Te'+'xture2'])==null||_0x4391b1['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x531ef2){var _0x391920,_0x33d7fb,_0x47d4d5,_0x4d1ade,_0x52fc2b,_0x56a42b,_0xaf212f,_0x33c6bd,_0x3aa9d4,_0x18109c,_0x4e1b21,_0x36fd1f,_0x5d86d8;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x33e795=((_0x391920=_0x531ef2['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(-0x11*0x161+-0x14bd+0x82*0x57):_0x391920['data'])??0xd1d+0x322+-0x1*0x103f,_0x3e6f83=((_0x33d7fb=_0x531ef2['getParamet'+'er']('uSplatScal'+'e'))==null?void(-0x7*0x38e+-0x1fa7*0x1+0x3889):_0x33d7fb['data'])??0x17ca+-0x1a29+0x260,_0x43a160=((_0x47d4d5=_0x531ef2['getParamet'+'er']('uSaturatio'+'n'))==null?void(0x1*-0x1807+-0xa99+0x22a0):_0x47d4d5['data'])??0xcbb+0x203a+-0x2cf4,_0x116796=((_0x4d1ade=_0x531ef2['getParamet'+'er']('uHueOffset'))==null?void(-0x22c2+0x2*-0xefd+0x40bc):_0x4d1ade['data'])??-0x159+0x1410+0x1*-0x12b7,_0x89bba7=((_0x52fc2b=_0x531ef2['getParamet'+'er']('uInvertOpa'+'city'))==null?void(0x1b3b+0x728+-0x2263*0x1):_0x52fc2b['data'])??-0x1*-0x1eb+0x9c2*0x3+-0x5*0x63d,_0x583616=((_0x56a42b=_0x531ef2['getParamet'+'er']('uOpacity'))==null?void(-0x1*0xbb9+0xa*0x338+-0xa9*0x1f):_0x56a42b['data'])??0xb23*0x3+0x1efa+-0x4062,_0x1dea06=((_0xaf212f=_0x531ef2['getParamet'+'er']('clrOffset'))==null?void(0x49*0x47+0x103c+0x21*-0x11b):_0xaf212f['data'])??[-0x1560*-0x1+-0x24f*-0x1+0x2f*-0x81,0xad8+0x1a*0xad+-0x1c6a,-0x4b2*0x6+0x3*0x509+0x5*0x29d,-0x14b4+0x1684+-0x1cf],_0x239f89=((_0x33c6bd=_0x531ef2['getParamet'+'er']('clrScale'))==null?void(-0x165d+0xeb2+-0x1*-0x7ab):_0x33c6bd['data'])??[0x1a9a+-0x1439+-0x660,-0xedb+0x3*-0x679+0x2247,-0x2a*0xa8+-0x497*0x4+0x1*0x2ded,-0x1b5d+0xb3f*-0x1+0xcdf*0x3],_0x14bc9d=((_0x3aa9d4=_0x531ef2['getParamet'+'er']('uShapeN'))==null?void(0xd*-0x24d+-0x21ab+0x2*0x1fca):_0x3aa9d4['data'])??-0x12*-0x25+0x698+-0xd6*0xb,_0xfa9f35=((_0x18109c=_0x531ef2['getParamet'+'er']('mode'))==null?void(-0x49f+-0xb12+0xfb1):_0x18109c['data'])??0x2381+0x1*0x15c5+0x1ca3*-0x2,_0x2f920d=((_0x4e1b21=_0x531ef2['getParamet'+'er']('ringSize'))==null?void(0x8*-0x34c+-0x26f6+0x4156):_0x4e1b21['data'])??0x1fc9+0x33d*0x2+-0x2643*0x1,_0x1cae6a=((_0x36fd1f=_0x531ef2['defines'])==null?void(0x5*0x3d3+-0x5*0x7c3+0x13b0):_0x36fd1f['get']('uOpenAnim'))??'0',_0x4efb24=((_0x5d86d8=_0x531ef2['defines'])==null?void(0x192d+-0x31f+0x160e*-0x1):_0x5d86d8['get']('uControlCo'+'lorMode'))??'0';_0x531ef2['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x531ef2['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x531ef2['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x531ef2['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x531ef2['setParamet'+'er']('uSplatScal'+'e',_0x3e6f83),_0x531ef2['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x33e795),_0x531ef2['setParamet'+'er']('uSaturatio'+'n',_0x43a160),_0x531ef2['setParamet'+'er']('uHueOffset',_0x116796),_0x531ef2['setParamet'+'er']('uInvertOpa'+'city',_0x89bba7),_0x531ef2['setParamet'+'er']('uOpacity',_0x583616),_0x531ef2['setParamet'+'er']('clrOffset',_0x1dea06),_0x531ef2['setParamet'+'er']('clrScale',_0x239f89),_0x531ef2['setParamet'+'er']('uShapeN',_0x14bc9d),_0x531ef2['setParamet'+'er']('mode',_0xfa9f35),_0x531ef2['setParamet'+'er']('ringSize',_0x2f920d),_0x531ef2['setParamet'+'er']('prerenderC'+'Time',-0x302*0x5+0x1012+-0x58*0x3),_0x531ef2['setParamet'+'er']('renderSpac'+'e',0xd40+-0xb8a+-0x1ac*0x1),_0x531ef2['setParamet'+'er']('endSpace',0x1d29+-0xce8*0x1+-0x1*0x1037),_0x531ef2['setDefine']('uOpenAnim',_0x1cae6a),_0x531ef2['setDefine']('uControlCo'+'lorMode',_0x4efb24),this['transformM'+'otionTextu'+'re']&&_0x531ef2['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x531ef2['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x531ef2['setDefine']('SH_BANDS',this['shBands']),_0x531ef2['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x531ef2['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x531ef2['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x531ef2['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x531ef2['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x165d3f){const _0x1af278=Math['ceil'](Math['sqrt'](_0x165d3f)),_0xda27b3=Math['ceil'](_0x165d3f/_0x1af278);return new J(_0x1af278,_0xda27b3);}async['updateColo'+'rData'](_0x2d72ba){var _0x19f133;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x1d4bc6=this['colorTextu'+'re2'];if(!_0x1d4bc6||this['isDestroye'+'d'])return;let _0x49e7c0=(_0x19f133=_0x2d72ba['transformD'+'ata'])==null?void(-0x1c22*0x1+-0x24d7+0x40f9):_0x19f133['dataColor'];if(!_0x49e7c0){const _0x50425b=_0x2d72ba['getProp']('color_opac'+'ity');_0x49e7c0=new Uint16Array(_0x50425b['buffer']['slice']());}await this['idleUpdate'+'TexturePro'+'mise'](_0x1d4bc6,_0x49e7c0);}async['getTransfo'+'rmDataByWo'+'rker'](_0x32f5b){var _0x243776;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x243776=_0x32f5b['transformD'+'ata'])!=null&&_0x243776['dataCenter'+'s'])return{'centers':_0x32f5b['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x32f5b['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x32f5b['transformD'+'ata']['dataScale'],'dataRotation':_0x32f5b['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x32f5b['transformD'+'ata']['dataMotion'],'dataTime':_0x32f5b['transformD'+'ata']['dataTime'],'motion':_0x32f5b['transformD'+'ata']['motion'],'tScaleArray':_0x32f5b['transformD'+'ata']['tScaleArra'+'y']};const _0x1c2280=_0x32f5b['getProp']('position'),_0x2f30b1=_0x32f5b['getProp']('motion'),_0x43683e=_0x32f5b['getProp']('rotation'),_0x3a174f=_0x32f5b['getProp']('scale'),_0x18c589=_0x32f5b['getProp']('t'),_0xb27470=_0x32f5b['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x32f5b['numSplats'],this['is4D'],_0x1c2280,_0x43683e,_0x2f30b1,_0x3a174f,_0x18c589,_0xb27470);}async['updateTran'+'sformFromD'+'ata'](_0x4e596f){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x4e596f['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x4e596f['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x4e596f['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x4e596f['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x4e596f['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x4f4844,_0x44ae63){if(!this['isDestroye'+'d'])return new Promise(_0x30a384=>{requestIdleCallback(()=>{const _0x11752f=_0x4f4844['lock']();_0x11752f==null||_0x11752f['set'](_0x44ae63),_0x4f4844['unlock'](),_0x30a384(!(-0x1*-0x1ffa+0xfb2*-0x2+-0x96));},{'timeout':0x12c});});}async['updateSHDa'+'ta'](_0x285aa0){var _0x291444,_0x45b906,_0x3fb169,_0x2e2e4a,_0x1bc01b,_0x588e79,_0x466f2a,_0xd3c3fe;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x40b1f6=(_0x291444=this['sh1to3Text'+'ure2'])==null?void(0x49*0x22+0x2627+0x3*-0xff3):_0x291444['lock'](),_0x3e6087=(_0x45b906=this['sh4to7Text'+'ure2'])==null?void(-0xa54*0x1+-0x246f+0x2ec3*0x1):_0x45b906['lock'](),_0x109a16=(_0x3fb169=this['sh8to11Tex'+'ture2'])==null?void(-0x972+-0xad8*0x1+0x144a):_0x3fb169['lock'](),_0x1b7f93=(_0x2e2e4a=this['sh12to15Te'+'xture2'])==null?void(0x1*-0x23c9+-0x6b6*0x4+0x3ea1):_0x2e2e4a['lock'](),_0x39e8d8={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x558cfc=xg(_0x285aa0,_0x39e8d8*(-0x6de*-0x3+0x1619*0x1+-0x1558*0x2)),_0x30321b=-0x13b6+0x100b+0x5d5*0x2,_0x40ee3d=-0x6*0x299+-0x4b+0x13e0,_0x553801=new Float32Array(-0x13d8+0x229*0x7+-0xf2*-0x5),_0x3d5758=new Uint32Array(_0x553801['buffer']),_0x48f90a=new Array(_0x39e8d8*(0x1b49*-0x1+0x6f+-0x1add*-0x1))['fill'](-0x3*0x871+-0x1*0x54c+0x1e9f);for(let _0x1ff3c2=-0x5af+0x1680+0x29*-0x69;_0x1ff3c2<_0x285aa0['numSplats'];++_0x1ff3c2){for(let _0x527472=0x1d8c+-0x23c*-0x4+0xcd4*-0x3;_0x527472<_0x39e8d8;++_0x527472)_0x48f90a[_0x527472*(0xc8e+0x1cef+-0x297a)]=_0x558cfc[_0x527472][_0x1ff3c2],_0x48f90a[_0x527472*(0x3*0x21f+-0xac1*-0x1+-0x111b)+(0x238+-0x14f5+0x95f*0x2)]=_0x558cfc[_0x527472+_0x39e8d8][_0x1ff3c2],_0x48f90a[_0x527472*(-0x196e+-0x689+0x1ffa)+(0xdd9+-0x6be*0x1+0x4f*-0x17)]=_0x558cfc[_0x527472+_0x39e8d8*(-0x246a+0x1711+-0x107*-0xd)][_0x1ff3c2];let _0x369743=_0x48f90a[0x2331+-0x87a+0x1ab7*-0x1];for(let _0x1c4b2d=-0x4*-0x26b+-0xa91+0xe6;_0x1c4b2d<_0x39e8d8*(0xe*0x1af+0x22b1+-0x3a40);++_0x1c4b2d)_0x369743=Math['max'](_0x369743,Math['abs'](_0x48f90a[_0x1c4b2d]));if(_0x369743!==0x1*-0x7bd+0x1441+-0xc84*0x1){for(let _0x4bada8=0x4*-0x20a+-0x28c+0x89*0x14;_0x4bada8<_0x39e8d8;++_0x4bada8)_0x48f90a[_0x4bada8*(0x1b*-0xc9+0x5ea+0x59*0x2c)+(0x1f81+0x22f2+-0x1*0x4273)]=Math['max'](0x4*-0x20c+-0x1ce4+-0x3*-0xc5c,Math['min'](_0x30321b,Math['floor']((_0x48f90a[_0x4bada8*(0xa*0x21+-0x4*0x49f+-0x1*-0x1135)+(-0x83*-0x29+0xc25+-0x350*0xa)]/_0x369743*(-0x16a9+0x201f+-0x976*0x1+0.5)+(0x286+-0x5f1+0x23*0x19+0.5))*_0x30321b+(0x7*-0x105+-0x23b+0x95e+0.5)))),_0x48f90a[_0x4bada8*(-0xbc3+-0xb43+0x1709)+(0x14fc*0x1+0x1ef+-0x7*0x346)]=Math['max'](-0x2506+0x1f9+-0x9*-0x3e5,Math['min'](_0x40ee3d,Math['floor']((_0x48f90a[_0x4bada8*(0xe3f+0xfeb+-0x53*0x5d)+(0xfcf*-0x2+-0x34*0x3b+-0x3*-0xe89)]/_0x369743*(-0x1366+-0x2290+0x2*0x1afb+0.5)+(-0x8f0+-0x8d6+0x11c6+0.5))*_0x40ee3d+(0x7*0x151+0x136f*-0x2+0x1da7+0.5)))),_0x48f90a[_0x4bada8*(-0xe04+-0x2*-0xc87+0xb07*-0x1)+(-0x12c4+-0x176*0x17+0x1a30*0x2)]=Math['max'](0x193a+-0xbbd+-0xd7d,Math['min'](_0x30321b,Math['floor']((_0x48f90a[_0x4bada8*(-0x3*0x5dd+0x607+0xb93)+(-0x1ec6+0x1b25+0x3a3*0x1)]/_0x369743*(0x5cb+0x1a41+-0x200c+0.5)+(-0x1e0f+0x184*0x15+-0x1c5+0.5))*_0x30321b+(-0xe0f+0x3*-0x187+0x12a4+0.5))));_0x553801[0x1734+-0x1630+-0x104]=_0x369743,_0x40b1f6[_0x1ff3c2*(-0x574*0x6+0x2079+0x1*0x43)+(-0x1b7a+-0x5*-0x2ae+0xe14)]=_0x3d5758[0x1541+0x56*0x6a+0x1*-0x38dd],_0x40b1f6[_0x1ff3c2*(0x1*0x5e+0x14f6+-0x1550)+(-0xc9*0x3+0x1dfb+-0x1*0x1b9f)]=_0x48f90a[-0x2*0xd9a+0x21eb+-0x23d*0x3]<<-0x3d*-0x76+0x21ca+-0x143*0x31|_0x48f90a[-0x49d*0x1+-0x3*-0x99b+-0x375*0x7]<<-0x4*0xe3+0xf12*-0x2+0x21bb|_0x48f90a[-0x223c+0x104d*0x1+0x11f1],_0x40b1f6[_0x1ff3c2*(0x1044+0x3*0x35e+0x1a5a*-0x1)+(0x353*0x1+-0x2319+-0x1fc8*-0x1)]=_0x48f90a[-0xbf5*0x2+-0x26c7+0x3eb4]<<0x64b*0x1+0x1*0x8fb+-0xf31*0x1|_0x48f90a[0x172b+-0x45*0x4d+-0x266]<<-0x2208+0x1*-0x1c4e+0x3e61|_0x48f90a[0x102d+-0x6a*-0x7+-0x130e],_0x40b1f6[_0x1ff3c2*(0x10f1*0x1+0x1477+-0x2564)+(-0x2*-0xae5+0x10b4+-0x1*0x267b)]=_0x48f90a[0x1f74+-0x16*0xdb+-0x64e*0x2]<<-0x977*0x3+0x177e+0x74*0xb|_0x48f90a[0x8bf+-0x1363+-0x1*-0xaab]<<0x821*0x3+-0x131e+-0x53a|_0x48f90a[-0x2*0x92b+0x2701+-0x14a3],this['shBands']>0x105+0x1*-0x60d+0x509&&(_0x3e6087[_0x1ff3c2*(0x197f+0xb*-0x1f9+0x79*-0x8)+(0x1565+-0x10a3+-0xe*0x57)]=_0x48f90a[0x174e*-0x1+0x1edf+-0x788]<<0xc14+0x2*0xa3c+-0x1*0x2077|_0x48f90a[-0x1*0x1ad2+-0x11*-0x1b5+-0x229]<<0x20c9*-0x1+-0x2285+-0x15*-0x335|_0x48f90a[0x1b3+0x1761+-0x1d*0xdd],_0x3e6087[_0x1ff3c2*(0x148c+-0x77*-0x29+-0x2797)+(-0x5*-0x13a+-0x3df*0x1+-0x1*0x242)]=_0x48f90a[-0x23a6+0x1d94+0x61e]<<-0x5b5*0x2+0xd6b+-0x1ec|_0x48f90a[-0x17*0xb8+-0x25c2+0x3657]<<-0x33+0x82e+-0x3f8*0x2|_0x48f90a[0x21d6+-0xe*0x6b+-0x1bee],_0x3e6087[_0x1ff3c2*(0x11*0x198+0x223a+-0x3d4e)+(-0x1*-0xd7d+0xa*0x19f+-0x1db1*0x1)]=_0x48f90a[0x12e+-0x1c7*0x15+0x4*0x90d]<<0x12df*-0x2+-0x1a81+0x5c*0xb3|_0x48f90a[0x1*0x17c3+0xfb*0x1c+-0x1e5*0x1b]<<-0x6*0x464+-0x913*-0x1+-0x8*-0x22a|_0x48f90a[0x1e0e+-0x2152+0x355],_0x3e6087[_0x1ff3c2*(0x2b1*-0x4+-0x286*-0x9+-0xbee)+(-0x687*0x5+0x22d*0x6+0x21*0x98)]=_0x48f90a[0x4*-0x74b+-0x98+-0x1dd6*-0x1]<<-0x15a7*-0x1+0x1b09+-0x309b|_0x48f90a[-0x560+0x5e*0x32+0x1*-0xce9]<<0x1a75+0x32*-0xe+-0x362*0x7|_0x48f90a[0x1646*0x1+0x34*-0x4e+-0x6*0x10f],this['shBands']>0x1687+-0xd5*0x7+-0x859*0x2?(_0x109a16[_0x1ff3c2*(-0x4f*0x7d+0x627+0xad0*0x3)+(-0x1ba3+0x1ab9*0x1+0xea)]=_0x48f90a[-0x8b*0x27+0x11b9+-0x5*-0xb5]<<0x2f6*-0x2+0x3e5+-0x3*-0xb4|_0x48f90a[0x1e5c+-0x94*-0x28+0x1ab3*-0x2]<<-0x6*0xbe+-0x1c5d+0x20dc|_0x48f90a[-0x589+-0x93e+-0x2*-0x76f],_0x109a16[_0x1ff3c2*(0x1*0x25c7+-0xf33*-0x1+-0x34f6*0x1)+(-0x8*-0x1ab+-0x1c35+0xede)]=_0x48f90a[-0x1*-0x2669+-0x10de+-0x1573]<<-0x1*0x130a+0x2707+-0x13e8|_0x48f90a[0x1d7*0x15+0x1cab+-0x4335]<<0x18ad+-0x21b9+0x917|_0x48f90a[-0x81*0x49+0x1*0xf9a+0x1549],_0x109a16[_0x1ff3c2*(-0x127a+0x1f*0x17+-0xfb5*-0x1)+(-0x138b*0x1+0x811*0x2+-0x19*-0x23)]=_0x48f90a[0x1973+-0x1*0xb7b+-0xddd]<<0xeb9+-0x8b5+-0x1f*0x31|_0x48f90a[0x137f+-0x1*-0x1613+-0xae*0x3d]<<0x3e5*-0x1+-0x19c*-0xa+-0xc28|_0x48f90a[0x162d+0xd*0x185+-0x29d1],_0x109a16[_0x1ff3c2*(0x2672*0x1+0x1*0x1543+-0x887*0x7)+(0x26c3*0x1+0x121*0xd+-0x356d)]=_0x48f90a[-0x18*-0xeb+0x1796+-0xb6*0x40]<<0xe87+-0xb89*-0x1+-0x19fb|_0x48f90a[0xcc3+-0x22*0x3e+-0x468]<<-0x2*0x137f+0x24ec+-0x1*-0x21d|_0x48f90a[-0x1*0x19a9+-0x1c55+0x361e],_0x1b7f93[_0x1ff3c2*(-0x22a8+0x9*0x114+0x18f8)+(-0x5df*-0x4+0x190+-0x190c)]=_0x48f90a[0x11*-0x29+0xb37*0x2+0x4e5*-0x4]<<0x26b7+-0xa06*0x1+0x727*-0x4|_0x48f90a[-0x1685+0x116f*0x1+-0x29c*-0x2]<<-0x2b0*-0x8+-0x1*-0xc9d+-0x31*0xb2|_0x48f90a[0x1f23+0xacd+-0x29cd],_0x1b7f93[_0x1ff3c2*(0x11d6+0x209+0x11*-0x12b)+(0x16*0x53+-0x2*-0x10bb+-0x2897*0x1)]=_0x48f90a[-0xe30+0x2*0x535+0x3ea]<<-0x22*-0x22+0x1*0x2267+-0x26d6|_0x48f90a[-0x5c*0x11+0x1e9+-0x8b*-0x8]<<-0x18b*-0xe+-0x166f+0x20*0x7|_0x48f90a[0x827*-0x1+-0x12*-0xd+0x3d*0x1f],_0x1b7f93[_0x1ff3c2*(0x8e0+0x5*-0x1b1+-0x67*0x1)+(-0x1d1*0x4+0x2033+-0x18ed)]=_0x48f90a[0x4f8+0x1*0x85d+-0xf1*0xe]<<0x414+0x1*0x1c96+-0x2095|_0x48f90a[0x78f+-0x1*0x1409+0xca2]<<-0x7*0x1c+0x20c9+0xffd*-0x2|_0x48f90a[0x1064+0x1808+-0x2843],_0x1b7f93[_0x1ff3c2*(-0x188c+-0x1*-0x15ff+-0x3*-0xdb)+(-0x1611+-0x2*0xcfd+0x300e)]=_0x48f90a[0xfd9+-0x1e07+-0x33*-0x48]<<0x2134+-0x1084+-0x109b|_0x48f90a[-0x97*-0x23+-0xcf6+-0x784]<<0x1e80+-0x1f70+0xfb|_0x48f90a[0x971+-0x2*0x12e6+0x1*0x1c87]):_0x109a16[_0x1ff3c2]=_0x48f90a[0x2400+0x17e5*-0x1+-0xc06]<<-0x523+0x2514+0x2*-0xfee|_0x48f90a[0x528+0x1*-0x3c5+0x6f*-0x3]<<0xb21+-0x1ddc+0x12c6|_0x48f90a[-0xad+-0xc33+0xcf7]);}}(_0x1bc01b=this['sh1to3Text'+'ure2'])==null||_0x1bc01b['unlock'](),(_0x588e79=this['sh4to7Text'+'ure2'])==null||_0x588e79['unlock'](),(_0x466f2a=this['sh8to11Tex'+'ture2'])==null||_0x466f2a['unlock'](),(_0xd3c3fe=this['sh12to15Te'+'xture2'])==null||_0xd3c3fe['unlock']();}async['updateSHDa'+'taByWorker'](_0x21dd51){var _0x237fdf,_0x203b51,_0x2a5e87,_0x1866ff,_0x3561ff;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x969afc={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0xab0b60,_0x1272c0,_0x51137c,_0x1922ee;if((_0x237fdf=_0x21dd51['transformD'+'ata'])!=null&&_0x237fdf['sh1to3Data'])_0xab0b60=(_0x203b51=_0x21dd51['transformD'+'ata'])==null?void(-0x1fea+-0x15ad*-0x1+0xa3d):_0x203b51['sh1to3Data'],_0x1272c0=(_0x2a5e87=_0x21dd51['transformD'+'ata'])==null?void(0x1f7a+-0x1fd8+-0x2f*-0x2):_0x2a5e87['sh4to7Data'],_0x51137c=(_0x1866ff=_0x21dd51['transformD'+'ata'])==null?void(0x9*-0x413+0x133f+0x116c):_0x1866ff['sh8to11Dat'+'a'],_0x1922ee=(_0x3561ff=_0x21dd51['transformD'+'ata'])==null?void(-0x2519+0x188f*-0x1+0x1ed4*0x2):_0x3561ff['sh12to15Da'+'ta'];else{const _0x452b7f=xg(_0x21dd51,_0x969afc*(-0x326*-0x1+-0x1bcc+0x18a9)),_0x187d54=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x21dd51['numSplats'],this['shBands'],_0x452b7f);_0xab0b60=_0x187d54['sh1to3Data'],_0x1272c0=_0x187d54['sh4to7Data'],_0x51137c=_0x187d54['sh8to11Dat'+'a'],_0x1922ee=_0x187d54['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0xab0b60),this['shBands']>-0x2404+-0x11e4+0x35e9*0x1&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x1272c0),this['shBands']>0x1612+0x5*-0x71f+0xd8b?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x51137c),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x1922ee)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x51137c));}}const PC='FILL_WINDO'+'W',Tg='KEEP_ASPEC'+'T',wg='AUTO',MC='FIXED';let Ov;function Ms(){return Ov;}function _u(_0x5cb1e6){Ov=_0x5cb1e6;}class DC{constructor(){h(this,'renderPass'+'es',[]),h(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x5df4e4){w['assert'](_0x5df4e4),_0x5df4e4['frameUpdat'+'e']();const _0x453849=_0x5df4e4['beforePass'+'es'];for(let _0x5e4d6c=0x874+-0x133*0x1d+0x1a53;_0x5e4d6c<_0x453849['length'];_0x5e4d6c++){const _0x1bbdbb=_0x453849[_0x5e4d6c];_0x1bbdbb['enabled']&&this['addRenderP'+'ass'](_0x1bbdbb);}_0x5df4e4['enabled']&&this['renderPass'+'es']['push'](_0x5df4e4);const _0x325a2b=_0x5df4e4['afterPasse'+'s'];for(let _0x30df2a=0x1d8+-0x25a1+0x23c9*0x1;_0x30df2a<_0x325a2b['length'];_0x30df2a++){const _0x432ccb=_0x325a2b[_0x30df2a];_0x432ccb['enabled']&&this['addRenderP'+'ass'](_0x432ccb);}}['reset'](){this['renderPass'+'es']['length']=-0xea3*-0x2+-0x1*0x235d+0x617;}['compile'](){const _0x248549=this['renderTarg'+'etMap'],_0x1856e4=this['renderPass'+'es'];for(let _0x4af1cc=0x4fd+-0x17*-0x155+0x260*-0xf;_0x4af1cc<_0x1856e4['length'];_0x4af1cc++){const _0x2f6a15=_0x1856e4[_0x4af1cc],_0x535e97=_0x2f6a15['renderTarg'+'et'];if(_0x535e97!==void(0xe12+-0x3*-0x3e1+-0x19b5)){const _0x32f12b=_0x248549['get'](_0x535e97);if(_0x32f12b){const _0x1ff378=_0x2f6a15['colorArray'+'Ops']['length'];for(let _0x2588c5=0x11*0x1de+0x878*0x2+-0x6*0x81d;_0x2588c5<_0x1ff378;_0x2588c5++)_0x2f6a15['colorArray'+'Ops'][_0x2588c5]['clear']||(_0x32f12b['colorArray'+'Ops'][_0x2588c5]['store']=!(-0xb67*-0x3+-0xe02+-0x1433));_0x2f6a15['depthStenc'+'ilOps']['clearDepth']||(_0x32f12b['depthStenc'+'ilOps']['storeDepth']=!(0x1acb+0x1ce9+-0x37b4)),_0x2f6a15['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x32f12b['depthStenc'+'ilOps']['storeStenc'+'il']=!(0x1aee+-0x5db+-0x1513*0x1));}_0x248549['set'](_0x535e97,_0x2f6a15);}}for(let _0x3f0abb=-0x1e85+0x47*0x1a+-0xdd*-0x1b;_0x3f0abb<_0x1856e4['length']-(-0x2417+0x1d6f+0x6a9);_0x3f0abb++){const _0x42358d=_0x1856e4[_0x3f0abb],_0x4094e8=_0x42358d['renderTarg'+'et'],_0x3e611=_0x1856e4[_0x3f0abb+(0x28*0xe2+-0x1f*-0x133+0x2*-0x243e)],_0x5c96c2=_0x3e611['renderTarg'+'et'];_0x4094e8!==_0x5c96c2||_0x4094e8===void(0x72*-0x1+0x27f*0xa+-0x3*0x82c)||_0x3e611['depthStenc'+'ilOps']['clearDepth']||_0x3e611['depthStenc'+'ilOps']['clearStenc'+'il']||_0x3e611['colorArray'+'Ops']['some'](_0x25b6c9=>_0x25b6c9['clear'])||_0x42358d['afterPasse'+'s']['length']>0x1*-0x146f+0xb94*0x2+-0x2b9||_0x3e611['beforePass'+'es']['length']>-0xb*-0x2fd+0x26eb+0x9*-0x7fa||(_0x42358d['_skipEnd']=!(-0x2*-0x395+0x275+-0x99f*0x1),_0x3e611['_skipStart']=!(0x347*-0x9+-0x1d99+0x3b18));}let _0xb1de17=null,_0x1faf69=null;for(let _0x541060=0x191a+0x2203+-0x3b1d;_0x541060<_0x1856e4['length'];_0x541060++){const _0xf1f96e=_0x1856e4[_0x541060],_0x3adc8c=_0xf1f96e['renderTarg'+'et'],_0x164c37=_0x3adc8c==null?void(-0x2*-0x106+-0xcac+0xaa0):_0x3adc8c['colorBuffe'+'r'];if(_0x164c37!=null&&_0x164c37['cubemap']){if(_0xb1de17===_0x164c37){const _0x4736f7=_0x1faf69['colorArray'+'Ops']['length'];for(let _0x5d82f7=0x1*-0xb27+-0x693*0x5+0x62*0x73;_0x5d82f7<_0x4736f7;_0x5d82f7++)_0x1faf69['colorArray'+'Ops'][_0x5d82f7]['mipmaps']=!(0xe66+0x148*-0x1+-0xd1d);}_0xb1de17=_0x3adc8c['colorBuffe'+'r'],_0x1faf69=_0xf1f96e;}else _0xf1f96e['requiresCu'+'bemaps']&&(_0xb1de17=null,_0x1faf69=null);}_0x248549['clear']();}['render'](_0x4fcbf5){this['compile']();const _0x8386e0=this['renderPass'+'es'];for(let _0x22d98b=-0x5a7+0x3b7+0x1f0;_0x22d98b<_0x8386e0['length'];_0x22d98b++)_0x8386e0[_0x22d98b]['render']();}}class IC{constructor(_0xb11cb0,_0x158ab2){this['texture0']=_0xb11cb0,this['texture1']=_0x158ab2;}['destroy'](){var _0x219b96,_0x3d3466;(_0x219b96=this['texture0'])==null||_0x219b96['destroy'](),(_0x3d3466=this['texture1'])==null||_0x3d3466['destroy']();}}const Eg=new Kt();class ia{static['createText'+'ure'](_0x1ad1ef,_0x2eec2e,_0x4b41eb,_0x3f9a68=''){return new _e(_0x1ad1ef,{'name':'AreaLightL'+'UT'+_0x3f9a68,'width':_0x4b41eb,'height':_0x4b41eb,'format':_0x2eec2e,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':vt,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(-0x2276+0xdd1*0x2+0x35*0x21)});}static['applyTextu'+'res'](_0x5620a3,_0xc58b8,_0x4d8bb4){Eg['remove'](_0x5620a3),Eg['get'](_0x5620a3,()=>new IC(_0xc58b8,_0xc58b8===_0x4d8bb4?null:_0x4d8bb4)),_0x5620a3['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0xc58b8),_0x5620a3['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x4d8bb4);}static['createPlac'+'eholder'](_0x2bc4b3){const _0x547179=ia['createText'+'ure'](_0x2bc4b3,nt,0x576+0xc32+0x2*-0x8d3,'placeholde'+'r');_0x547179['lock']()['fill'](-0xacc+-0x25f7+0x30c3),_0x547179['unlock'](),ia['applyTextu'+'res'](_0x2bc4b3,_0x547179,_0x547179);}static['set'](_0x2a1614,_0x333fcf,_0x22915d){function _0x4adaa8(_0x244b84,_0x849da9,_0xf283d5){const _0x2fe636=ia['createText'+'ure'](_0x244b84,_0xf283d5,-0x201e+0x2e3*-0x7+0x3493);return _0x2fe636['lock']()['set'](_0x849da9),_0x2fe636['unlock'](),_0x2fe636;}function _0x1300c1(_0x37705b){const _0x1cd973=_0x37705b['length'],_0x1b2e34=new Uint16Array(_0x1cd973),_0x7fac50=Mn['float2Half'];for(let _0x3bb683=0x29*-0xd3+-0xdc4+0x19*0x1e7;_0x3bb683<_0x1cd973;_0x3bb683++)_0x1b2e34[_0x3bb683]=_0x7fac50(_0x37705b[_0x3bb683]);return _0x1b2e34;}const _0x24d7a1=_0x333fcf,_0x96d9ec=_0x22915d,_0x2d9c51=_0x1300c1(_0x24d7a1),_0x5a5fbb=_0x1300c1(_0x96d9ec),_0x5a64ae=_0x4adaa8(_0x2a1614,_0x2d9c51,nt),_0x42a280=_0x4adaa8(_0x2a1614,_0x5a5fbb,nt);ia['applyTextu'+'res'](_0x2a1614,_0x5a64ae,_0x42a280);}}const Ph='en-US',Mh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},Sm={};function Dr(_0x319d9f,_0x594edf){for(let _0x151dad=0x10cc+0xd1a+-0x1de6,_0x3f00f1=_0x319d9f['length'];_0x151dad<_0x3f00f1;_0x151dad++)Sm[_0x319d9f[_0x151dad]]=_0x594edf;}function Oi(_0x2b1fdc){const _0x15783f=_0x2b1fdc['indexOf']('-');return _0x15783f!==-(-0x16*-0x15a+0x2*0xaab+-0x11*0x301)?_0x2b1fdc['substring'](0x1*-0x199+0x9ec*0x1+-0x853*0x1,_0x15783f):_0x2b1fdc;}function LC(_0x44aa4f,_0x33ca78){const _0x2951e2=_0x44aa4f['indexOf']('-');return _0x2951e2!==-(0xdb9*0x1+0x169*0x1+-0x1*0xf21)?_0x33ca78+_0x44aa4f['substring'](_0x2951e2):_0x33ca78;}function Fv(_0x5f035a,_0x1a259d){if(_0x1a259d[_0x5f035a])return _0x5f035a;let _0x5b9546=Mh[_0x5f035a];if(_0x5b9546&&_0x1a259d[_0x5b9546])return _0x5b9546;const _0x390184=Oi(_0x5f035a);return _0x5b9546=Mh[_0x390184],_0x1a259d[_0x5b9546]?_0x5b9546:_0x1a259d[_0x390184]?_0x390184:Ph;}Dr(['ja','ko','th','vi','zh','id'],_0x47278f=>-0x1c9*0x3+-0x7d1+0xd2c),Dr(['fa','hi'],_0x29849d=>_0x29849d>=-0x1a1*-0x1+0x1c87+0x5*-0x608&&_0x29849d<=-0x2190+-0x2*-0x111+0x1f6f?0x6a3+0x1*-0x1229+0xb86:-0x1b82+-0x1027+-0x2e*-0xf3),Dr(['fr','pt'],_0x18f056=>_0x18f056>=0x98f*0x4+0x1fdc+-0x230c*0x2&&_0x18f056<-0xb7e+-0x771+0x12f1?-0x1*-0x21f1+-0x1*-0x15e6+-0x129d*0x3:0x1dca+-0x1263+-0xb66),Dr(['da'],_0x3ef851=>_0x3ef851===0x138f*0x1+0x10ac+-0x1*0x243a||!Number['isInteger'](_0x3ef851)&&_0x3ef851>=0x160*0x1+-0x209*-0x6+0x2*-0x6cb&&_0x3ef851<=0x1*-0x1601+-0x1466+0x2a68?0xd*0xe5+0x23f3+-0x8c*0x57:-0x21ee+0xb8f*-0x1+0x2d7e),Dr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x572695=>_0x572695===-0x1b3a+-0x3a*0x69+-0x3305*-0x1?-0x14e6+0x5c9*-0x3+0x2641:0xdbe+-0x21b0+0x13f3),Dr(['ru','uk'],_0xa609ab=>{if(Number['isInteger'](_0xa609ab)){const _0x2fe9d1=_0xa609ab%(-0x135a+-0x685*0x1+0x19e9),_0x57fadf=_0xa609ab%(0x21f*0xe+-0x9f+-0x1caf);if(_0x2fe9d1===-0x325*0x1+0x18c0*0x1+-0x1*0x159a&&_0x57fadf!==0x209a+-0x1*-0x66a+-0x26f9)return-0x1015+-0x1a57+0x16a*0x1e;if(_0x2fe9d1>=-0x14*-0x1f1+-0x10b0+-0x2*0xb11&&_0x2fe9d1<=-0x10d+0x1*0x1a60+0x24d*-0xb&&(_0x57fadf<-0x501*0x1+-0x3*0x6df+0x19aa||_0x57fadf>0x22bc+-0x684+0x67*-0x46))return 0xab2+-0x185a+0x10d*0xd;if(_0x2fe9d1===0x4*-0x398+0xd8+0xd88||_0x2fe9d1>=0x801+-0x6*0x386+-0x8*-0x1a5&&_0x2fe9d1<=-0x23cf+-0x18d*0x13+0x15c5*0x3||_0x57fadf>=0x35*0xae+-0x12d9*0x2+-0x1b7*-0x1&&_0x57fadf<=0xc*-0x28e+-0x1e0+0x2096)return-0x2625+-0x1be*-0x12+-0x25*-0x2f;}return 0x1da+0x785*-0x3+-0x1a*-0xcc;}),Dr(['pl'],_0x2e24bd=>{if(Number['isInteger'](_0x2e24bd)){if(_0x2e24bd===-0xa1*0x17+0xc01+0x277)return-0x2*0x62f+-0x1a05+0x2663;const _0x2e8703=_0x2e24bd%(-0x1a74*0x1+0xb*-0x159+0x2951),_0x5051b5=_0x2e24bd%(-0xa6d*0x1+0x2042*-0x1+0x2b13);if(_0x2e8703>=-0x4*-0x611+0x196a+-0x31ac&&_0x2e8703<=0xa6b+-0x1902+-0x1*-0xe9b&&(_0x5051b5<0x250d+0x1572+-0x47f*0xd||_0x5051b5>0x3b2+0x10b2+-0x1456))return 0x139e+0xd4+0x1*-0x1471;if(_0x2e8703>=-0x5*0x53b+-0x16de*-0x1+0x1*0x349&&_0x2e8703<=0x3*-0x241+-0x26*0x11+0x52*0x1d||_0x2e8703>=-0x23f1+0x1*-0x1fee+-0x4f*-0xdc&&_0x2e8703<=-0x1bde+-0x2*0x26f+0x20c5||_0x5051b5>=-0x1749+-0xa6+0x17fb&&_0x5051b5<=-0x11b*-0x11+-0x47*0x7+-0x10cc)return 0x2e+-0x24ae+0x2482;}return 0x53*-0x4f+-0x1a26+0x33c6;}),Dr(['ar'],_0xd33fe9=>{if(_0xd33fe9===-0x2*0x1340+0x17bf+0xec1)return-0x38f*0x1+-0x1*0x262d+-0x14de*-0x2;if(_0xd33fe9===-0x34f+0x2471+-0x2121)return 0x2*0x2a4+0x19eb+-0x1f32;if(_0xd33fe9===-0x1262+0x96+0x11ce)return-0x225d+0x1df*0x1+0x2080;if(Number['isInteger'](_0xd33fe9)){const _0x144bc0=_0xd33fe9%(-0x1d3e*-0x1+0x1261+-0x2f3b);if(_0x144bc0>=-0x10f9+0x1*0x45e+0x5*0x286&&_0x144bc0<=0x1*0x5e2+-0x3*0x14b+-0x1f7)return 0x3d*-0x91+-0x556*-0x5+-0x2*-0x3f1;if(_0x144bc0>=-0x1*0x1387+0x1efb+0x7f*-0x17&&_0x144bc0<=-0x76e+-0x75c+0xf2d)return-0xead+-0xad*-0x2+0xd57*0x1;}return-0x72e+0x4bf*0x3+-0x70a;});const RC=Sm[Oi(Ph)];function Tf(_0x58cf14){return Sm[_0x58cf14]||RC;}const jn=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class OC{constructor(_0xb4c9bc='',_0x179bae='',_0x1ecf93=null,_0x28e8de=null,_0xd2d2dd=null,_0x58b034=null){this['url']=_0xb4c9bc,this['filename']=_0x179bae,this['hash']=_0x1ecf93,this['size']=_0x28e8de,this['opt']=_0xd2d2dd,this['contents']=_0x58b034;}['equals'](_0x4c3543){return this['url']===_0x4c3543['url']&&this['filename']===_0x4c3543['filename']&&this['hash']===_0x4c3543['hash']&&this['size']===_0x4c3543['size']&&this['opt']===_0x4c3543['opt']&&this['contents']===_0x4c3543['contents'];}}let FC=-(-0x71+-0x4e0+0x552);const NC={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},bg=['pvr','dxt','etc2','etc1','basis'];class pe extends me{constructor(_0x269dd2,_0x451264,_0x31200c,_0x353c3b={},_0x4b37fb={}){super(),h(this,'_file',null),h(this,'_i18n',{}),h(this,'_preload',!(-0x1*-0x33d+0x2237*0x1+-0x2573)),h(this,'_resources',[]),h(this,'id',FC--),h(this,'loaded',!(0x79*0xb+0xc34+0x22*-0x83)),h(this,'loading',!(0x39f*-0xa+-0x7b3*-0x4+-0x49*-0x13)),h(this,'options',{}),h(this,'registry',null),h(this,'tags',new Oo(this)),h(this,'type'),h(this,'urlObject',null),(this['_name']=_0x269dd2||'',this['type']=_0x451264,this['_data']=_0x353c3b||{},this['options']=_0x4b37fb||{},_0x31200c&&(this['file']=_0x31200c));}set['name'](_0x2849bb){if(this['_name']===_0x2849bb)return;const _0x3db9f1=this['_name'];this['_name']=_0x2849bb,this['fire']('name',this,this['_name'],_0x3db9f1);}get['name'](){return this['_name'];}set['file'](_0x4e2413){var _0x4f6c48,_0x180563;if(_0x4e2413&&_0x4e2413['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(0x29f*0xd+-0x61*0x1+-0x21b1)){const _0x125ac4=((_0x180563=(_0x4f6c48=this['registry'])==null?void(-0x1cd2+-0x62b+-0x1*-0x22fd):_0x4f6c48['_loader'])==null?void(-0x1*0x292+0x8a*-0x3a+0x10eb*0x2):_0x180563['_app'])||Ms(),_0x104bfd=_0x125ac4==null?void(0x1c6a+-0x6*0x32a+0x22*-0x47):_0x125ac4['graphicsDe'+'vice'];if(_0x104bfd)for(let _0x218d27=0x802+0x1*0x1b65+-0x13*0x1dd,_0x2a4fd4=bg['length'];_0x218d27<_0x2a4fd4;_0x218d27++){const _0x331164=bg[_0x218d27];if(_0x4e2413['variants'][_0x331164]&&_0x104bfd[NC[_0x331164]]){_0x4e2413=_0x4e2413['variants'][_0x331164];break;}if(_0x125ac4['enableBund'+'les']){const _0x2ae4aa=_0x125ac4['bundles']['listBundle'+'sForAsset'](this);if(_0x2ae4aa&&_0x2ae4aa['find'](_0x2b3e73=>{var _0x1f397b;return(_0x1f397b=_0x2b3e73==null?void(-0xa9a+0x245f+0x2dd*-0x9):_0x2b3e73['file'])==null?void(0x17*-0x101+-0x555+0x11*0x1ac):_0x1f397b['variants'][_0x331164];}))break;}}}const _0x39ff92=this['_file'],_0x2e302d=_0x4e2413?new OC(_0x4e2413['url'],_0x4e2413['filename'],_0x4e2413['hash'],_0x4e2413['size'],_0x4e2413['opt'],_0x4e2413['contents']):null;(!!_0x2e302d!=!!_0x39ff92||_0x2e302d&&!_0x2e302d['equals'](_0x39ff92))&&(this['_file']=_0x2e302d,this['fire']('change',this,'file',_0x2e302d,_0x39ff92),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x3e4e85){const _0x224f4c=this['_data'];this['_data']=_0x3e4e85,_0x3e4e85!==_0x224f4c&&(this['fire']('change',this,'data',_0x3e4e85,_0x224f4c),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x21c6bd){const _0x2f2f38=this['_resources'][0x7*-0x12d+0xf87+-0x74c];this['_resources'][0x1ece+0x1b71+-0x3a3f]=_0x21c6bd,this['fire']('change',this,'resource',_0x21c6bd,_0x2f2f38);}get['resource'](){return this['_resources'][-0x2283+-0x243a+0x46bd];}set['resources'](_0x161834){const _0x50eb15=this['_resources'];this['_resources']=_0x161834,this['fire']('change',this,'resources',_0x161834,_0x50eb15);}get['resources'](){return this['_resources'];}set['preload'](_0x3d5964){_0x3d5964=!!_0x3d5964,this['_preload']!==_0x3d5964&&(this['_preload']=_0x3d5964,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0xcbc7e9){_0xcbc7e9=!!_0xcbc7e9,(!this['hasOwnProp'+'erty']('_loadFaces')||_0xcbc7e9!==this['_loadFaces'])&&(this['_loadFaces']=_0xcbc7e9,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x11bc78=this['file'];if(!_0x11bc78||!_0x11bc78['url'])return null;let _0x292f69=_0x11bc78['url'];if(this['registry']&&this['registry']['prefix']&&!jn['test'](_0x292f69)&&(_0x292f69=this['registry']['prefix']+_0x292f69),this['type']!=='script'&&_0x11bc78['hash']){const _0x47776b=_0x292f69['indexOf']('?')!==-(0x1739+0x2b*-0x8d+0x77)?'&':'?';_0x292f69+=_0x47776b+'t='+_0x11bc78['hash'];}return _0x292f69;}['getAbsolut'+'eUrl'](_0x2a2440){if(_0x2a2440['startsWith']('blob:')||_0x2a2440['startsWith']('data:'))return _0x2a2440;const _0x1cf048=xe['getDirecto'+'ry'](this['file']['url']);return xe['join'](_0x1cf048,_0x2a2440);}['getLocaliz'+'edAssetId'](_0x379d0b){return _0x379d0b=Fv(_0x379d0b,this['_i18n']),this['_i18n'][_0x379d0b]||null;}['addLocaliz'+'edAssetId'](_0x4ba5f1,_0x3a7703){this['_i18n'][_0x4ba5f1]=_0x3a7703,this['fire']('add:locali'+'zed',_0x4ba5f1,_0x3a7703);}['removeLoca'+'lizedAsset'+'Id'](_0xa27b10){const _0x1ac0f4=this['_i18n'][_0xa27b10];_0x1ac0f4&&(delete this['_i18n'][_0xa27b10],this['fire']('remove:loc'+'alized',_0xa27b10,_0x1ac0f4));}['ready'](_0x4253ce,_0x5898fc){_0x5898fc=_0x5898fc||this,this['loaded']?_0x4253ce['call'](_0x5898fc,this):this['once']('load',_0x252ff0=>{_0x4253ce['call'](_0x5898fc,_0x252ff0);});}['reload'](){this['loaded']&&(this['loaded']=!(-0xecb+0x2d9+0xbf3),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===0xeea*-0x1+0x8e*0x1+0xe5c)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x3bea7b=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(0x2*-0xb3+0x1*0xe3+0x84),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x7763bc=-0x1eca+0x8c8+-0x6*-0x3ab;_0x7763bc<_0x3bea7b['length'];++_0x7763bc){const _0x424aaa=_0x3bea7b[_0x7763bc];_0x424aaa&&_0x424aaa['destroy']&&_0x424aaa['destroy']();}}static['fetchArray'+'Buffer'](_0x8c3318,_0x14105c,_0x10c960,_0x4693c0=0x1*0x891+-0xbb6+0x325){var _0x53f8b0;(_0x53f8b0=_0x10c960==null?void(0x245f+0x2128+-0x4587):_0x10c960['file'])!=null&&_0x53f8b0['contents']?setTimeout(()=>{_0x14105c(null,_0x10c960['file']['contents']);}):ot['get'](_0x8c3318,{'cache':!(0x1913+0x13bf+-0x2*0x1669),'responseType':'arraybuffe'+'r','retry':_0x4693c0>-0x2065*-0x1+0x14*-0xfa+0x25*-0x59,'maxRetries':_0x4693c0},_0x14105c);}}h(pe,'EVENT_LOAD','load'),h(pe,'EVENT_UNLO'+'AD','unload'),h(pe,'EVENT_REMO'+'VE','remove'),h(pe,'EVENT_ERRO'+'R','error'),h(pe,'EVENT_CHAN'+'GE','change'),h(pe,'EVENT_PROG'+'RESS','progress'),h(pe,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),h(pe,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class kC{constructor(_0xf161b8=null){h(this,'_index',{}),h(this,'_key'),this['_key']=_0xf161b8;}['addItem'](_0x11c1d9){const _0x2f13a1=_0x11c1d9['tags']['_list'];for(const _0x55fb54 of _0x2f13a1)this['add'](_0x55fb54,_0x11c1d9);}['removeItem'](_0x468033){const _0x2ea080=_0x468033['tags']['_list'];for(const _0x251d94 of _0x2ea080)this['remove'](_0x251d94,_0x468033);}['add'](_0x17d97f,_0x3d5a1a){this['_index'][_0x17d97f]&&this['_index'][_0x17d97f]['list']['indexOf'](_0x3d5a1a)!==-(-0x12d+-0x195e+-0x1a8c*-0x1)||(this['_index'][_0x17d97f]||(this['_index'][_0x17d97f]={'list':[]},this['_key']&&(this['_index'][_0x17d97f]['keys']={})),this['_index'][_0x17d97f]['list']['push'](_0x3d5a1a),this['_key']&&(this['_index'][_0x17d97f]['keys'][_0x3d5a1a[this['_key']]]=_0x3d5a1a));}['remove'](_0xb71ac,_0x1488be){if(!this['_index'][_0xb71ac]||this['_key']&&!this['_index'][_0xb71ac]['keys'][_0x1488be[this['_key']]])return;const _0x10e67d=this['_index'][_0xb71ac]['list']['indexOf'](_0x1488be);_0x10e67d!==-(0x8f*0x40+-0x165d+-0xd62)&&(this['_index'][_0xb71ac]['list']['splice'](_0x10e67d,0x8ad*-0x2+0x3*-0x66b+0x84*0x47),this['_key']&&delete this['_index'][_0xb71ac]['keys'][_0x1488be[this['_key']]],this['_index'][_0xb71ac]['list']['length']===-0x1ac8+0x17a0+-0x1*-0x328&&delete this['_index'][_0xb71ac]);}['find'](_0x49ae2a){const _0x18fcf5={},_0x2bcfe2=[];let _0x2c6711,_0x3ae215,_0x8926af,_0x10f587,_0xa2c7e4;const _0x161b4e=(_0x1e6d98,_0x59a69b)=>this['_index'][_0x1e6d98]['list']['length']-this['_index'][_0x59a69b]['list']['length'];for(let _0x35752f=-0x1f14+-0x3*-0x4a4+0x1128;_0x35752f<_0x49ae2a['length'];_0x35752f++){if(_0x3ae215=_0x49ae2a[_0x35752f],_0x3ae215 instanceof Array){if(_0x3ae215['length']===-0x2*-0xc7a+-0x2515+0xc21)continue;if(_0x3ae215['length']===0xf30+-0x1103+0x1d4)_0x3ae215=_0x3ae215[-0x87e+-0x1*0x1d4b+0x25c9];else{_0xa2c7e4=!(0xdb3*-0x2+-0x12e3+0x2e4a);for(let _0x2c9942=0x1ab5+0xf7*0x1f+-0x1c4f*0x2;_0x2c9942<_0x3ae215['length'];_0x2c9942++)if(!this['_index'][_0x3ae215[_0x2c9942]]){_0xa2c7e4=!(0x4*-0x86a+-0x1*0x1d10+0x4*0xfae);break;}if(_0xa2c7e4)continue;_0x8926af=_0x3ae215['slice'](0x1*-0x1ff6+-0x1*0x19ca+0x39c0)['sort'](_0x161b4e),_0x10f587=_0x8926af['slice'](0xf1a*0x1+0x22c7+-0x31e0),_0x10f587['length']===-0x39*0x4f+0x1*0xc10+0x588&&(_0x10f587=_0x10f587[0x5*-0x89+-0x1db7+0x2064]);for(let _0x9a5aee=-0xba9+-0x22*0x62+0x18ad;_0x9a5aee<this['_index'][_0x8926af[0x15*0xbd+-0x451+-0x10*0xb3]]['list']['length'];_0x9a5aee++)_0x2c6711=this['_index'][_0x8926af[-0x1*0x10b2+-0x6*-0x35e+-0x382]]['list'][_0x9a5aee],(this['_key']?!_0x18fcf5[_0x2c6711[this['_key']]]:_0x2bcfe2['indexOf'](_0x2c6711)===-(0x1a30+0x2220+-0x3c4f))&&_0x2c6711['tags']['has'](_0x10f587)&&(this['_key']&&(_0x18fcf5[_0x2c6711[this['_key']]]=!(0x1229*0x2+-0x1a7c+-0x9d6)),_0x2bcfe2['push'](_0x2c6711));continue;}}if(_0x3ae215&&typeof _0x3ae215=='string'&&this['_index'][_0x3ae215]){for(let _0x1ca5cc=0x1*0x1591+0x1bb6+-0x5*0x9db;_0x1ca5cc<this['_index'][_0x3ae215]['list']['length'];_0x1ca5cc++)_0x2c6711=this['_index'][_0x3ae215]['list'][_0x1ca5cc],this['_key']?_0x18fcf5[_0x2c6711[this['_key']]]||(_0x18fcf5[_0x2c6711[this['_key']]]=!(0x1e*0x107+0x18fe*0x1+-0x37d0),_0x2bcfe2['push'](_0x2c6711)):_0x2bcfe2['indexOf'](_0x2c6711)===-(0x4*-0x476+0x2170+-0x133*0xd)&&_0x2bcfe2['push'](_0x2c6711);}}return _0x2bcfe2;}}class mn extends me{constructor(_0x3b3d61){super(),h(this,'_assets',new Set()),h(this,'_loader'),h(this,'_idToAsset',new Map()),h(this,'_urlToAsse'+'t',new Map()),h(this,'_nameToAss'+'et',new Map()),h(this,'_tags',new kC('id')),h(this,'prefix',null),h(this,'bundles',null),this['_loader']=_0x3b3d61;}['list'](_0x5185a7={}){const _0x15fff2=Array['from'](this['_assets']);return _0x5185a7['preload']!==void(-0x773+-0x2196+0x2909)?_0x15fff2['filter'](_0x38beed=>_0x38beed['preload']===_0x5185a7['preload']):_0x15fff2;}['add'](_0x3e679c){var _0x259f18,_0x3c4e83;this['_assets']['has'](_0x3e679c)||(this['_assets']['add'](_0x3e679c),this['_idToAsset']['set'](_0x3e679c['id'],_0x3e679c),(_0x259f18=_0x3e679c['file'])!=null&&_0x259f18['url']&&this['_urlToAsse'+'t']['set'](_0x3e679c['file']['url'],_0x3e679c),this['_nameToAss'+'et']['has'](_0x3e679c['name'])||this['_nameToAss'+'et']['set'](_0x3e679c['name'],new Set()),this['_nameToAss'+'et']['get'](_0x3e679c['name'])['add'](_0x3e679c),_0x3e679c['on']('name',this['_onNameCha'+'nge'],this),_0x3e679c['registry']=this,this['_tags']['addItem'](_0x3e679c),_0x3e679c['tags']['on']('add',this['_onTagAdd'],this),_0x3e679c['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x3e679c),this['fire']('add:'+_0x3e679c['id'],_0x3e679c),(_0x3c4e83=_0x3e679c['file'])!=null&&_0x3c4e83['url']&&this['fire']('add:url:'+_0x3e679c['file']['url'],_0x3e679c),_0x3e679c['preload']&&this['load'](_0x3e679c));}['remove'](_0x2bb80e){var _0x583d45,_0x1731a9;if(!this['_assets']['has'](_0x2bb80e))return!(0x18b8+-0x23f0+0xb39);if(this['_assets']['delete'](_0x2bb80e),this['_idToAsset']['delete'](_0x2bb80e['id']),(_0x583d45=_0x2bb80e['file'])!=null&&_0x583d45['url']&&this['_urlToAsse'+'t']['delete'](_0x2bb80e['file']['url']),_0x2bb80e['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x2bb80e['name'])){const _0x2b1144=this['_nameToAss'+'et']['get'](_0x2bb80e['name']);_0x2b1144['delete'](_0x2bb80e),_0x2b1144['size']===-0x3a4*-0x4+-0xd2f+-0x161&&this['_nameToAss'+'et']['delete'](_0x2bb80e['name']);}return this['_tags']['removeItem'](_0x2bb80e),_0x2bb80e['tags']['off']('add',this['_onTagAdd'],this),_0x2bb80e['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x2bb80e['fire']('remove',_0x2bb80e),this['fire']('remove',_0x2bb80e),this['fire']('remove:'+_0x2bb80e['id'],_0x2bb80e),(_0x1731a9=_0x2bb80e['file'])!=null&&_0x1731a9['url']&&this['fire']('remove:url'+':'+_0x2bb80e['file']['url'],_0x2bb80e),!(-0xdbb+0x190+-0x26f*-0x5);}['get'](_0x2a31aa){return this['_idToAsset']['get'](Number(_0x2a31aa));}['getByUrl'](_0x13a32d){return this['_urlToAsse'+'t']['get'](_0x13a32d);}['load'](_0x57020e,_0x7f7175){if((_0x57020e['loading']||_0x57020e['loaded'])&&!(_0x7f7175!=null&&_0x7f7175['force']))return;const _0x214831=_0x57020e['file'],_0x3fae3e=()=>{this['fire']('load',_0x57020e),this['fire']('load:'+_0x57020e['id'],_0x57020e),_0x214831&&_0x214831['url']&&this['fire']('load:url:'+_0x214831['url'],_0x57020e),_0x57020e['fire']('load',_0x57020e);},_0x1e727f=_0x5ca744=>{if(_0x5ca744 instanceof Array?_0x57020e['resources']=_0x5ca744:_0x57020e['resource']=_0x5ca744,this['_loader']['patch'](_0x57020e,this),_0x57020e['type']==='bundle'){const _0x23591b=_0x57020e['data']['assets'];for(let _0x54ed96=-0x2505*0x1+-0x23aa+0x48af;_0x54ed96<_0x23591b['length'];_0x54ed96++){const _0x9c14ad=this['_idToAsset']['get'](_0x23591b[_0x54ed96]);_0x9c14ad&&!_0x9c14ad['loaded']&&this['load'](_0x9c14ad,{'force':!(-0x922+0xd87+-0x465)});}_0x57020e['resource']['loaded']?_0x3fae3e():(this['fire']('load:start',_0x57020e),this['fire']('load:start'+':'+_0x57020e['id'],_0x57020e),_0x214831&&_0x214831['url']&&this['fire']('load:start'+':url:'+_0x214831['url'],_0x57020e),_0x57020e['fire']('load:start',_0x57020e),_0x57020e['resource']['on']('load',_0x3fae3e));}else _0x3fae3e();},_0x2408f2=(_0x468b75,_0x3b1f17,_0x30d04c)=>{if(_0x57020e['loaded']=!(0x425*0x8+0x339*-0x3+-0x177d),_0x57020e['loading']=!(0x3c7+0x7*-0x1a3+0x7af),_0x468b75)this['fire']('error',_0x468b75,_0x57020e),this['fire']('error:'+_0x57020e['id'],_0x468b75,_0x57020e),_0x57020e['fire']('error',_0x468b75,_0x57020e);else{if(_0x57020e['type']==='script'){const _0x133446=this['_loader']['getHandler']('script');_0x133446['_cache'][_0x57020e['id']]&&_0x133446['_cache'][_0x57020e['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x133446['_cache'][_0x57020e['id']]),_0x133446['_cache'][_0x57020e['id']]=_0x30d04c;}_0x1e727f(_0x3b1f17);}};if(_0x214831||_0x57020e['type']==='cubemap'){this['fire']('load:start',_0x57020e),this['fire']('load:'+_0x57020e['id']+':start',_0x57020e),_0x57020e['loading']=!(0x23fe+-0x10bf+0xd*-0x17b);const _0x579014=_0x57020e['getFileUrl']();if(_0x57020e['type']==='bundle'){const _0x2e2857=_0x57020e['data']['assets'];for(let _0x3a1db6=-0xe7a+0x1d0+-0xcaa*-0x1;_0x3a1db6<_0x2e2857['length'];_0x3a1db6++){const _0x4f67b7=this['_idToAsset']['get'](_0x2e2857[_0x3a1db6]);_0x4f67b7&&(_0x4f67b7['loaded']||_0x4f67b7['resource']||_0x4f67b7['loading']||(_0x4f67b7['loading']=!(0x1d*0x95+0x246f+-0x3550)));}}this['_loader']['load'](_0x579014,_0x57020e['type'],_0x2408f2,_0x57020e,_0x7f7175);}else{const _0x2ddc66=this['_loader']['open'](_0x57020e['type'],_0x57020e['data']);_0x57020e['loaded']=!(-0x1*-0xb61+-0x1a*-0x5f+0x7*-0x301),_0x1e727f(_0x2ddc66);}}['reloadInde'+'x'](_0x3c372b,_0xea0485,_0x134ec1){const _0x1c3f5c=(_0x46310b,_0x958f8e,_0x226384)=>{_0xea0485['loaded']=!(0x1ee9+-0x14cf+-0x2*0x50d),_0xea0485['loading']=!(0xe85+-0x2025+0x11a1);};return this['_loader']['load'](_0x3c372b,_0xea0485['type'],_0x1c3f5c,_0xea0485,_0x134ec1),_0xea0485;}['loadFromUr'+'l'](_0x38d860,_0x1add91,_0x2b6b3d){this['loadFromUr'+'lAndFilena'+'me'](_0x38d860,null,_0x1add91,_0x2b6b3d);}['loadFromUr'+'lAndFilena'+'me'](_0x2636df,_0x3af329,_0x1b6308,_0x1d8626){const _0x3f0a89=xe['getBasenam'+'e'](_0x3af329||_0x2636df),_0x30ab54={'filename':_0x3af329||_0x3f0a89,'url':_0x2636df};let _0x1a92d3=this['getByUrl'](_0x2636df);if(!_0x1a92d3)_0x1a92d3=new pe(_0x3f0a89,_0x1b6308,_0x30ab54),this['add'](_0x1a92d3);else{if(_0x1a92d3['loaded']){_0x1d8626(_0x1a92d3['loadFromUr'+'lError']||null,_0x1a92d3);return;}}const _0x152053=_0x1c87d6=>{_0x1c87d6['once']('load',_0xd1575e=>{_0x1b6308==='material'?this['_loadTextu'+'res'](_0xd1575e,(_0x46a179,_0x37d452)=>{_0x1d8626(_0x46a179,_0xd1575e);}):_0x1d8626(null,_0xd1575e);}),_0x1c87d6['once']('error',_0x1a4596=>{_0x1a4596&&(this['loadFromUr'+'lError']=_0x1a4596),_0x1d8626(_0x1a4596,_0x1c87d6);}),this['load'](_0x1c87d6);};_0x1a92d3['resource']?_0x1d8626(null,_0x1a92d3):_0x1b6308==='model'?this['_loadModel'](_0x1a92d3,_0x152053):_0x152053(_0x1a92d3);}['_loadModel'](_0x3e4d10,_0x1b3660){const _0x294adb=_0x3e4d10['getFileUrl'](),_0x52c320=xe['getExtensi'+'on'](_0x294adb);if(_0x52c320==='.json'||_0x52c320==='.glb'){const _0x43c042=xe['getDirecto'+'ry'](_0x294adb),_0x413c76=xe['getBasenam'+'e'](_0x294adb),_0x14cc89=xe['join'](_0x43c042,_0x413c76['replace'](_0x52c320,'.mapping.j'+'son'));this['_loader']['load'](_0x14cc89,'json',(_0x21aaef,_0x423c0c)=>{_0x21aaef?(_0x3e4d10['data']={'mapping':[]},_0x1b3660(_0x3e4d10)):this['_loadMater'+'ials'](_0x3e4d10,_0x423c0c,(_0x2384d7,_0x4054d5)=>{_0x3e4d10['data']=_0x423c0c,_0x1b3660(_0x3e4d10);});});}else _0x1b3660(_0x3e4d10);}['_loadMater'+'ials'](_0x31246d,_0x26e509,_0x5d53de){const _0x2953cc=[];let _0x4a5fbb=0x20b4+-0x11b9+-0xefb;const _0x35ca87=(_0x374cfb,_0x1c5092)=>{this['_loadTextu'+'res'](_0x1c5092,(_0x18f2e6,_0x4236bc)=>{_0x2953cc['push'](_0x1c5092),_0x2953cc['length']===_0x4a5fbb&&_0x5d53de(null,_0x2953cc);});};for(let _0x1a357a=0x157b+0x4bd*-0x1+-0x10be;_0x1a357a<_0x26e509['mapping']['length'];_0x1a357a++){const _0x33c611=_0x26e509['mapping'][_0x1a357a]['path'];if(_0x33c611){_0x4a5fbb++;const _0x29fb3c=_0x31246d['getAbsolut'+'eUrl'](_0x33c611);this['loadFromUr'+'l'](_0x29fb3c,'material',_0x35ca87);}}_0x4a5fbb===0x2235+-0x10b*0x24+0x357*0x1&&_0x5d53de(null,_0x2953cc);}['_loadTextu'+'res'](_0x3ae264,_0x447970){const _0x4ceb49=[];let _0xc45607=0x505+0x1*0x1e2f+-0x2334;const _0x325702=_0x3ae264['data'];if(_0x325702['mappingFor'+'mat']!=='path'){w['warn']('Skipping:\x20'+_0x3ae264['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x447970(null,_0x4ceb49);return;}const _0x5a9b36=(_0x2f3665,_0x46a14f)=>{_0x2f3665&&console['error'](_0x2f3665),_0x4ceb49['push'](_0x46a14f),_0x4ceb49['length']===_0xc45607&&_0x447970(null,_0x4ceb49);},_0x3aaefb=Cd;for(let _0xc8d2ef=-0x2*-0x12ce+-0x2182*0x1+-0x69*0xa;_0xc8d2ef<_0x3aaefb['length'];_0xc8d2ef++){const _0x48d2a4=_0x325702[_0x3aaefb[_0xc8d2ef]];if(_0x48d2a4&&typeof _0x48d2a4=='string'){_0xc45607++;const _0x24d151=_0x3ae264['getAbsolut'+'eUrl'](_0x48d2a4);this['loadFromUr'+'l'](_0x24d151,'texture',_0x5a9b36);}}_0xc45607===0x2cf*-0x3+0x710+0x15d*0x1&&_0x447970(null,_0x4ceb49);}['_onTagAdd'](_0x3d7c90,_0x3d30a8){this['_tags']['add'](_0x3d7c90,_0x3d30a8);}['_onTagRemo'+'ve'](_0xed78c5,_0x4deed5){this['_tags']['remove'](_0xed78c5,_0x4deed5);}['_onNameCha'+'nge'](_0x16ef2d,_0x5b2fc1,_0x14bcab){if(this['_nameToAss'+'et']['has'](_0x14bcab)){const _0x3c9299=this['_nameToAss'+'et']['get'](_0x14bcab);_0x3c9299['delete'](_0x16ef2d),_0x3c9299['size']===-0x159*-0x3+0x716*0x5+-0x2779*0x1&&this['_nameToAss'+'et']['delete'](_0x14bcab);}this['_nameToAss'+'et']['has'](_0x16ef2d['name'])||this['_nameToAss'+'et']['set'](_0x16ef2d['name'],new Set()),this['_nameToAss'+'et']['get'](_0x16ef2d['name'])['add'](_0x16ef2d);}['findByTag'](..._0x46ea5b){return this['_tags']['find'](_0x46ea5b);}['filter'](_0x484837){return Array['from'](this['_assets'])['filter'](_0x56f263=>_0x484837(_0x56f263));}['find'](_0x4bbf24,_0x42d688){const _0x286e64=this['_nameToAss'+'et']['get'](_0x4bbf24);if(!_0x286e64)return null;for(const _0x21b2e4 of _0x286e64)if(!_0x42d688||_0x21b2e4['type']===_0x42d688)return _0x21b2e4;return null;}['findAll'](_0x1a8c86,_0x49915d){const _0x24c8d7=this['_nameToAss'+'et']['get'](_0x1a8c86);if(!_0x24c8d7)return[];const _0x4d9ff2=Array['from'](_0x24c8d7);return _0x49915d?_0x4d9ff2['filter'](_0x20b8a3=>_0x20b8a3['type']===_0x49915d):_0x4d9ff2;}}h(mn,'EVENT_LOAD','load'),h(mn,'EVENT_ADD','add'),h(mn,'EVENT_REMO'+'VE','remove'),h(mn,'EVENT_ERRO'+'R','error');class UC{constructor(_0x4b91e9){h(this,'_idToBundl'+'e',new Map()),h(this,'_assetToBu'+'ndles',new Map()),h(this,'_urlsToBun'+'dles',new Map()),h(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x4b91e9,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x5b794){if(_0x5b794['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x5b794['id'],_0x5b794),this['_assets']['on']('load:start'+':'+_0x5b794['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x5b794['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x5b794['id'],this['_onBundleE'+'rror'],this);const _0x102b0d=_0x5b794['data']['assets'];for(let _0x1dccd6=-0x2304+-0x4fa*0x1+0x1*0x27fe;_0x1dccd6<_0x102b0d['length'];_0x1dccd6++)this['_indexAsse'+'tInBundle'](_0x102b0d[_0x1dccd6],_0x5b794);}else this['_assetToBu'+'ndles']['has'](_0x5b794['id'])&&this['_indexAsse'+'tFileUrls'](_0x5b794);}['_unbindAss'+'etEvents'](_0xf5e57b){this['_assets']['off']('load:start'+':'+_0xf5e57b,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0xf5e57b,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0xf5e57b,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x3f4dea,_0x25a7b9){let _0xeb1edd=this['_assetToBu'+'ndles']['get'](_0x3f4dea);_0xeb1edd||(_0xeb1edd=new Set(),this['_assetToBu'+'ndles']['set'](_0x3f4dea,_0xeb1edd)),_0xeb1edd['add'](_0x25a7b9);const _0x4aa58b=this['_assets']['get'](_0x3f4dea);_0x4aa58b&&this['_indexAsse'+'tFileUrls'](_0x4aa58b);}['_indexAsse'+'tFileUrls'](_0x4215f1){const _0x5b3634=this['_getAssetF'+'ileUrls'](_0x4215f1);if(_0x5b3634)for(let _0x3674a9=0x419*0x2+0x15ee*-0x1+0xdbc;_0x3674a9<_0x5b3634['length'];_0x3674a9++){const _0xb0989c=this['_assetToBu'+'ndles']['get'](_0x4215f1['id']);_0xb0989c&&this['_urlsToBun'+'dles']['set'](_0x5b3634[_0x3674a9],_0xb0989c);}}['_getAssetF'+'ileUrls'](_0xf9e3de){let _0x58c9bd=_0xf9e3de['getFileUrl']();if(!_0x58c9bd)return null;_0x58c9bd=_0x58c9bd['split']('?')[-0x480+0x1*0x1217+-0x7*0x1f1];const _0x25018d=[_0x58c9bd];if(_0xf9e3de['type']==='font'){const _0x51d8fc=_0xf9e3de['data']['info']['maps']['length'];for(let _0x332e60=-0x5*-0x1d9+-0x615+-0x327;_0x332e60<_0x51d8fc;_0x332e60++)_0x25018d['push'](_0x58c9bd['replace']('.png',_0x332e60+'.png'));}return _0x25018d;}['_onAssetRe'+'move'](_0x21c560){if(_0x21c560['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x21c560['id']),this['_unbindAss'+'etEvents'](_0x21c560['id']);const _0x4a0b22=_0x21c560['data']['assets'];for(let _0x62aec5=-0x101*-0x5+-0x166f+0x116a;_0x62aec5<_0x4a0b22['length'];_0x62aec5++){const _0x3a757d=this['_assetToBu'+'ndles']['get'](_0x4a0b22[_0x62aec5]);if(_0x3a757d&&(_0x3a757d['delete'](_0x21c560),_0x3a757d['size']===-0x1406+0xe6b*0x1+0x59b)){this['_assetToBu'+'ndles']['delete'](_0x4a0b22[_0x62aec5]);for(const [_0x3f1207,_0x299d82]of this['_urlsToBun'+'dles'])_0x299d82===_0x3a757d&&this['_urlsToBun'+'dles']['delete'](_0x3f1207);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x21c560['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x21c560['id']))return;this['_assetToBu'+'ndles']['delete'](_0x21c560['id']);const _0x1563c5=this['_getAssetF'+'ileUrls'](_0x21c560);if(!_0x1563c5)return;for(let _0xd49414=0x1*-0x1709+-0x353*-0x8+-0x38f;_0xd49414<_0x1563c5['length'];_0xd49414++)this['_urlsToBun'+'dles']['delete'](_0x1563c5[_0xd49414]);}}['_onBundleL'+'oadStart'](_0x51c050){_0x51c050['resource']['on']('add',(_0x19ca22,_0x3d2b2d)=>{const _0x4b82d8=this['_fileReque'+'sts']['get'](_0x19ca22);if(_0x4b82d8){for(let _0x1c2fc3=0x1019+0x1935+0x294e*-0x1;_0x1c2fc3<_0x4b82d8['length'];_0x1c2fc3++)_0x4b82d8[_0x1c2fc3](null,_0x3d2b2d);this['_fileReque'+'sts']['delete'](_0x19ca22);}});}['_onBundleL'+'oad'](_0x48f4a2){if(!_0x48f4a2['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x48f4a2['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x59aa2a,_0x24895b]of this['_fileReque'+'sts']){const _0x1b0d94=this['_urlsToBun'+'dles']['get'](_0x59aa2a);if(!_0x1b0d94||!_0x1b0d94['has'](_0x48f4a2))continue;const _0x4ec895=decodeURIComponent(_0x59aa2a);let _0x2b066f,_0x3a7a27;if(_0x48f4a2['resource']['has'](_0x4ec895))_0x3a7a27=_0x48f4a2['resource']['get'](_0x4ec895);else{if(_0x48f4a2['resource']['loaded'])_0x2b066f='Bundle\x20'+_0x48f4a2['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x59aa2a;else continue;}for(let _0x797044=0xd*0x164+0xb25*0x3+-0x1*0x3383;_0x797044<_0x24895b['length'];_0x797044++)_0x24895b[_0x797044](_0x2b066f,_0x2b066f||_0x3a7a27);this['_fileReque'+'sts']['delete'](_0x59aa2a);}}['_onBundleE'+'rror'](_0x59bf9e){for(const [_0x3e4d44,_0x17391a]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x3e4d44)){for(let _0x4eacba=0x4d*0x7+0xd9d*-0x1+0x3d6*0x3;_0x4eacba<_0x17391a['length'];_0x4eacba++)_0x17391a[_0x4eacba](_0x59bf9e);this['_fileReque'+'sts']['delete'](_0x3e4d44);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x1c47ef){const _0x41262a=this['_urlsToBun'+'dles']['get'](_0x1c47ef);if(!_0x41262a)return null;let _0x4c321a=null;for(const _0x3e12be of _0x41262a){if(_0x3e12be['loaded']&&_0x3e12be['resource'])return _0x3e12be;_0x3e12be['loading']&&(_0x4c321a=_0x3e12be);}return _0x4c321a;}['listBundle'+'sForAsset'](_0x475ea0){const _0x2e09aa=this['_assetToBu'+'ndles']['get'](_0x475ea0['id']);return _0x2e09aa?Array['from'](_0x2e09aa):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x4c3f96){return this['_urlsToBun'+'dles']['has'](_0x4c3f96);}['urlIsLoade'+'dOrLoading'](_0x40d5ba){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x40d5ba);}['loadUrl'](_0x47f7da,_0x579cd7){const _0x1af274=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x47f7da);if(!_0x1af274){_0x579cd7('URL\x20'+_0x47f7da+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x1af274['loaded']){const _0xb15690=decodeURIComponent(_0x47f7da);if(_0x1af274['resource']['has'](_0xb15690)){_0x579cd7(null,_0x1af274['resource']['get'](_0xb15690));return;}else{if(_0x1af274['resource']['loaded']){_0x579cd7('Bundle\x20'+_0x1af274['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x47f7da);return;}}}let _0x4435a3=this['_fileReque'+'sts']['get'](_0x47f7da);_0x4435a3||(_0x4435a3=[],this['_fileReque'+'sts']['set'](_0x47f7da,_0x4435a3)),_0x4435a3['push'](_0x579cd7);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x562a7f of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x562a7f);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class BC extends me{constructor(){super(),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'joint'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'zone'),this['list']=[];}['add'](_0x4f7c75){const _0xecab09=_0x4f7c75['id'];if(this[_0xecab09])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0xecab09+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0xecab09]=_0x4f7c75,this['list']['push'](_0x4f7c75);}['remove'](_0x8f5592){const _0xf6d668=_0x8f5592['id'];if(!this[_0xf6d668])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0xf6d668+('\x27\x20register'+'ed'));delete this[_0xf6d668];const _0x36640f=this['list']['indexOf'](this[_0xf6d668]);_0x36640f!==-(-0x95a+0x3*0x3f7+-0x28a)&&this['list']['splice'](_0x36640f,-0x1406+0x1*-0x2cb+0x16d2);}['destroy'](){this['off']();for(let _0x2239e6=0x13fb+0x2415+-0x4e*0xb8;_0x2239e6<this['list']['length'];_0x2239e6++)this['list'][_0x2239e6]['destroy']();}}class gu extends me{constructor(){super(...arguments),h(this,'_index',new Map()),h(this,'_loaded',!(0x90e*-0x3+0x1814+0x317*0x1));}['addFile'](_0x4bdd51,_0x3483e9){this['_index']['has'](_0x4bdd51)||(this['_index']['set'](_0x4bdd51,_0x3483e9),this['fire']('add',_0x4bdd51,_0x3483e9));}['has'](_0x1cf331){return this['_index']['has'](_0x1cf331);}['get'](_0x50884c){return this['_index']['get'](_0x50884c)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x25688f){!_0x25688f||this['_loaded']||(this['_loaded']=!(0x5*-0x18d+-0x1*-0x773+0x2*0x27),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}h(gu,'EVENT_ADD','add'),h(gu,'EVENT_LOAD','load');class zC extends me{constructor(_0x5823db,_0x45bd8d=''){super(),h(this,'headerSize',0x1*0x207a+-0x5*-0x4dd+-0x36cb),h(this,'paddingSiz'+'e',-0x1d3e*0x1+0x18c9+0x675),h(this,'bytesRead',0x113e+-0xca*-0x8+-0x9*0x29e),h(this,'bytesRecei'+'ved',-0x13*-0x20e+0xe90*-0x1+0x1e2*-0xd),h(this,'headerRead',!(0x255d+-0x976+0x1*-0x1be6)),h(this,'reader',null),h(this,'data',new Uint8Array(-0x2466+-0x250a+0x4970)),h(this,'decoder',null),h(this,'prefix',''),h(this,'fileName',''),h(this,'fileSize',0x3f*0x9a+-0x832*0x3+-0x4*0x354),h(this,'fileType',''),h(this,'ustarForma'+'t',''),(this['prefix']=_0x45bd8d||'',this['reader']=_0x5823db['body']['getReader'](),this['reader']['read']()['then'](_0x49911a=>{this['pump'](_0x49911a['done'],_0x49911a['value']);})['catch'](_0xaec06b=>{this['fire']('error',_0xaec06b);}));}['pump'](_0x284fc5,_0x3868c8){if(_0x284fc5)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x3868c8['byteLength'];const _0x2456d9=new Uint8Array(this['data']['length']+_0x3868c8['length']);for(_0x2456d9['set'](this['data']),_0x2456d9['set'](_0x3868c8,this['data']['length']),this['data']=_0x2456d9;this['readFile'](););return this['reader']['read']()['then'](_0x19f437=>{this['pump'](_0x19f437['done'],_0x19f437['value']);})['catch'](_0x27481e=>{this['fire']('error',_0x27481e);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(0x24e2+0x1*0x205f+-0x4541);const _0x3ddaf6=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x266b65=this['decoder']['decode'](_0x3ddaf6);if(this['fileName']=_0x266b65['substring'](-0x151b+-0x42d*0x1+0x1948,0x1bbe+0x210b+-0x3c65)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x266b65['substring'](-0x356*-0x9+-0x191b*0x1+0x5*-0xe3,0x1992+-0x2a*-0x10+-0x1*0x1baa),-0x1*0x30a+0x5*0x124+0x2*-0x151),this['fileType']=_0x266b65['substring'](-0x3*0xc0e+0x1a74+0x1*0xa52,0x335*0xb+0x821+0x61d*-0x7),this['ustarForma'+'t']=_0x266b65['substring'](-0x9ca+-0x796+0x5*0x3ad,0x209d+0x1*-0x112c+-0xe6a),this['ustarForma'+'t']['indexOf']('ustar')!==-(0x2*0xd7f+0x1aaa+-0x35a7)){const _0x359dc0=_0x266b65['substring'](0x9*0xb5+0x2*0x1eb+-0x8da,0x106d*0x1+0x3*0x18d+-0x1320)['replace'](/\0/g,'');_0x359dc0['length']>-0x1a3a+-0x23a6+0x3de0&&(this['fileName']=_0x359dc0['trim']()+this['fileName']['trim']());}this['bytesRead']+=0xab7+-0xc15+-0x1af*-0x2;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(0x14f1+-0x4d*-0x47+0x1b*-0x191);if(this['fileType']===''||this['fileType']==='0'){const _0x5f5af0=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x4d5958={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x5f5af0};this['fire']('file',_0x4d5958);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(0x5c*0x36+-0xb15+-0x852);const _0x263888=this['bytesRead']%this['paddingSiz'+'e'];return _0x263888!==0x2693+0x617+-0x2caa&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x263888),!(0x1*0x20e+0x1991+-0x1b9f);}return!(0x2*0x1229+0x91*0x2e+-0x7*0x8e9);}}class Qe{constructor(_0x377d94,_0x15ffe1){h(this,'handlerTyp'+'e',''),h(this,'_app'),h(this,'_maxRetrie'+'s',0x1f39+-0x127a+-0xcbf),(this['_app']=_0x377d94,this['handlerTyp'+'e']=_0x15ffe1);}set['maxRetries'](_0x259fb5){this['_maxRetrie'+'s']=_0x259fb5;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x373515,_0x4f1d21,_0x586a2b){}['open'](_0x3c4c8e,_0x2db5b1,_0x36af9e){return _0x2db5b1;}['patch'](_0xd5e96c,_0x4f3423){}}class VC extends Qe{constructor(_0x44cbc1){super(_0x44cbc1,'bundle'),this['_assets']=_0x44cbc1['assets'];}['_fetchRetr'+'ies'](_0xb43432,_0x1e0dc2,_0xb202a4=-0x49a+0x1*0xdc9+-0x92f){return new Promise((_0x223a0b,_0x55c26b)=>{const _0x11e97c=()=>{fetch(_0xb43432,_0x1e0dc2)['then'](_0x223a0b)['catch'](_0x2b46b6=>{_0xb202a4++,_0xb202a4<this['maxRetries']?(w['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0xb202a4),_0x11e97c()):_0x55c26b(_0x2b46b6);});};_0x11e97c();});}['load'](_0x3ab555,_0x5640d0){typeof _0x3ab555=='string'&&(_0x3ab555={'load':_0x3ab555,'original':_0x3ab555}),this['_fetchRetr'+'ies'](_0x3ab555['load'],{'mode':'cors'},this['maxRetries'])['then'](_0x7a078=>{const _0x5e2b96=new gu();_0x5640d0(null,_0x5e2b96);const _0x571b7a=new zC(_0x7a078,this['_assets']['prefix']);_0x571b7a['on']('file',_0x4d7ae5=>{_0x5e2b96['addFile'](_0x4d7ae5['name'],_0x4d7ae5['data']);}),_0x571b7a['on']('done',()=>{_0x5e2b96['loaded']=!(0x21f9+0xd97+-0x2f90);}),_0x571b7a['on']('error',_0x2affab=>{w['error'](_0x2affab),_0x5640d0(_0x2affab);});})['catch'](_0x1631e0=>{w['error'](_0x1631e0),_0x5640d0(_0x1631e0);});}['open'](_0x47341a,_0x2f8d0b){return _0x2f8d0b;}}class Cn{constructor(_0x5f3600){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x5f3600;}['addHandler'](_0xf22b1c,_0x492666){this['_handlers'][_0xf22b1c]=_0x492666,_0x492666['_loader']=this;}['removeHand'+'ler'](_0x4135a6){delete this['_handlers'][_0x4135a6];}['getHandler'](_0x325ab4){return this['_handlers'][_0x325ab4];}static['makeKey'](_0x30f526,_0xb7e32a){return _0x30f526+'-'+_0xb7e32a;}['load'](_0x1c91d8,_0x38465e,_0x259453,_0x2b7f2b,_0x3c2193){var _0x4803a3;const _0x389e02=this['_handlers'][_0x38465e];if(!_0x389e02){const _0x506ea3='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x38465e+('\x27\x20when\x20loa'+'ding\x20[')+_0x1c91d8+']';w['errorOnce'](_0x506ea3),_0x259453(_0x506ea3);return;}if(!_0x1c91d8){this['_loadNull'](_0x389e02,_0x259453,_0x2b7f2b);return;}const _0x32ed36=Cn['makeKey'](_0x1c91d8,_0x38465e);if(this['_requests'][_0x32ed36])this['_requests'][_0x32ed36]['push'](_0x259453);else{this['_requests'][_0x32ed36]=[_0x259453];const _0x4c0406=this,_0x5e2e5c=function(_0x15784d,_0x500737){if(_0x15784d){_0x4c0406['_onFailure'](_0x32ed36,_0x15784d);return;}if(_0x500737['load']instanceof DataView){if(_0x389e02['openBinary']){if(!_0x4c0406['_requests'][_0x32ed36])return;try{const _0x234941=_0x389e02['openBinary'](_0x500737['load']);_0x4c0406['_onSuccess'](_0x32ed36,_0x234941);}catch(_0x5f157b){_0x4c0406['_onFailure'](_0x32ed36,_0x5f157b);}return;}_0x500737['load']=URL['createObje'+'ctURL'](new Blob([_0x500737['load']])),_0x2b7f2b&&(_0x2b7f2b['urlObject']&&URL['revokeObje'+'ctURL'](_0x2b7f2b['urlObject']),_0x2b7f2b['urlObject']=_0x500737['load']);}_0x389e02['load'](_0x500737,(_0x37d6bf,_0x2b0a33,_0x5a7d30)=>{if(_0x4c0406['_requests'][_0x32ed36]){if(_0x37d6bf){_0x4c0406['_onFailure'](_0x32ed36,_0x37d6bf);return;}try{_0x4c0406['_onSuccess'](_0x32ed36,_0x389e02['open'](_0x500737['original'],_0x2b0a33,_0x2b7f2b),_0x5a7d30);}catch(_0x4a57b9){_0x4c0406['_onFailure'](_0x32ed36,_0x4a57b9);}}},_0x2b7f2b);},_0x4501f1=_0x1c91d8['split']('?')[-0x13ab+0x1415*0x1+-0x6a];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x4501f1)&&!(_0x3c2193&&_0x3c2193['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x4501f1)){const _0x21cf31=this['_app']['bundles']['listBundle'+'sForAsset'](_0x2b7f2b);let _0x6d4a6d;_0x3c2193&&_0x3c2193['bundlesFil'+'ter']&&(_0x6d4a6d=_0x3c2193['bundlesFil'+'ter'](_0x21cf31)),_0x6d4a6d||(_0x21cf31==null||_0x21cf31['sort']((_0x17a78f,_0x28b903)=>_0x17a78f['file']['size']-_0x28b903['file']['size']),_0x6d4a6d=_0x21cf31==null?void(0x1262+0x8be*0x1+-0x1b20):_0x21cf31[-0xa7d+-0x1*0x1e06+0x2883]),_0x6d4a6d&&((_0x4803a3=this['_app']['assets'])==null||_0x4803a3['load'](_0x6d4a6d));}this['_app']['bundles']['loadUrl'](_0x4501f1,(_0x431b40,_0x406244)=>{_0x5e2e5c(_0x431b40,{'load':_0x406244,'original':_0x4501f1});});}else _0x5e2e5c(null,{'load':_0x1c91d8,'original':_0x2b7f2b&&_0x2b7f2b['file']['filename']||_0x1c91d8});}}['_loadNull'](_0x30c20c,_0x4feff7,_0x56b494){const _0xc9c852=function(_0x3ce983,_0x211f2d,_0x49cf3b){if(_0x3ce983)_0x4feff7(_0x3ce983);else try{_0x4feff7(null,_0x30c20c['open'](null,_0x211f2d,_0x56b494),_0x49cf3b);}catch(_0x4bc03d){_0x4feff7(_0x4bc03d);}};_0x30c20c['load'](null,_0xc9c852,_0x56b494);}['_onSuccess'](_0x4dfcf2,_0xb3f6cb,_0x3b5fcf){for(let _0x394f76=-0x1e69+0x1c9c+-0x1*-0x1cd;_0x394f76<this['_requests'][_0x4dfcf2]['length'];_0x394f76++)this['_requests'][_0x4dfcf2][_0x394f76](null,_0xb3f6cb,_0x3b5fcf);delete this['_requests'][_0x4dfcf2];}['_onFailure'](_0x430fb1,_0x276bbc){if(console['error'](_0x276bbc),this['_requests'][_0x430fb1]){for(let _0x95c324=-0x1b75+0x1849+0x7*0x74;_0x95c324<this['_requests'][_0x430fb1]['length'];_0x95c324++)this['_requests'][_0x430fb1][_0x95c324](_0x276bbc);delete this['_requests'][_0x430fb1];}}['open'](_0x418c75,_0x5db574){const _0x4341b9=this['_handlers'][_0x418c75];return _0x4341b9?_0x4341b9['open'](null,_0x5db574):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x418c75),_0x5db574);}['patch'](_0x1fa79a,_0x14cd94){const _0x2c1a42=this['_handlers'][_0x1fa79a['type']];if(!_0x2c1a42){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x1fa79a['type']);return;}_0x2c1a42['patch']&&_0x2c1a42['patch'](_0x1fa79a,_0x14cd94);}['clearCache'](_0x29004f,_0x439832){const _0x251c28=Cn['makeKey'](_0x29004f,_0x439832);delete this['_cache'][_0x251c28];}['getFromCac'+'he'](_0x4259be,_0x1138c5){const _0x1b203c=Cn['makeKey'](_0x4259be,_0x1138c5);if(this['_cache'][_0x1b203c])return this['_cache'][_0x1b203c];}['enableRetr'+'y'](_0x2c68a8=0x20*0x32+0x220c+-0x2847){_0x2c68a8=Math['max'](0x2267*-0x1+0x1e2f+0x2*0x21c,_0x2c68a8)||-0x2570*-0x1+0xfa*0x8+-0x2d40;for(const _0x100c32 in this['_handlers'])this['_handlers'][_0x100c32]['maxRetries']=_0x2c68a8;}['disableRet'+'ry'](){for(const _0x12e093 in this['_handlers'])this['_handlers'][_0x12e093]['maxRetries']=0x27c*-0x2+-0x1607+0x1aff;}['destroyReq'+'uests'](){this['_requests']={};}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class GC{['_validate'](_0x66c42f){if(!_0x66c42f['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x66c42f['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x66c42f['header']['version']!==-0x1e7c+-0x18a6+-0x1261*-0x3)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x66c42f['data']){if(!Array['isArray'](_0x66c42f['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x319866=0x20e1+-0x1223*-0x2+-0x3*0x170d,_0x3d504b=_0x66c42f['data']['length'];_0x319866<_0x3d504b;_0x319866++){const _0x383bbf=_0x66c42f['data'][_0x319866];if(!_0x383bbf['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x319866+('].info\x22\x20fi'+'eld'));if(!_0x383bbf['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x319866+('].info.loc'+'ale\x22\x20field'));if(typeof _0x383bbf['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x319866+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x383bbf['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x319866+('].messages'+'\x22\x20field'));}}['parse'](_0x3b53c6){return this['_validate'](_0x3b53c6),_0x3b53c6['data'];}}const Gh=class Gh extends me{constructor(_0x37c3ba){super(),this['locale']=Ph,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x37c3ba,this['_assets']=[],this['_parser']=new GC();}set['assets'](_0x223d6a){const _0x404996={};for(let _0x42a0ab=0x2d1+0x1a97+0x1*-0x1d68,_0xdefb08=_0x223d6a['length'];_0x42a0ab<_0xdefb08;_0x42a0ab++){const _0x451760=_0x223d6a[_0x42a0ab]instanceof pe?_0x223d6a[_0x42a0ab]['id']:_0x223d6a[_0x42a0ab];_0x404996[_0x451760]=!(-0xe6b*-0x1+0x239*0xc+-0x2917*0x1);}let _0x150cde=this['_assets']['length'];for(;_0x150cde--;){const _0x22a3c4=this['_assets'][_0x150cde];if(!_0x404996[_0x22a3c4]){this['_app']['assets']['off']('add:'+_0x22a3c4,this['_onAssetAd'+'d'],this);const _0x5ac7fa=this['_app']['assets']['get'](_0x22a3c4);_0x5ac7fa&&this['_onAssetRe'+'move'](_0x5ac7fa),this['_assets']['splice'](_0x150cde,-0x10a4+-0x2136+0x31db);}}for(const _0x2f27b5 in _0x404996){const _0x3e9608=parseInt(_0x2f27b5,0x158a+0x91d*0x1+-0x1e9d);if(this['_assets']['indexOf'](_0x3e9608)!==-(-0x7*0x2e0+-0x9b*-0x26+0x1*-0x2e1))continue;this['_assets']['push'](_0x3e9608);const _0x29af50=this['_app']['assets']['get'](_0x3e9608);_0x29af50?this['_onAssetAd'+'d'](_0x29af50):this['_app']['assets']['once']('add:'+_0x3e9608,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x3c52dd){if(this['_locale']===_0x3c52dd)return;let _0xd93400=Oi(_0x3c52dd);if(_0xd93400==='in'&&(_0xd93400='id',_0x3c52dd=LC(_0x3c52dd,_0xd93400),this['_locale']===_0x3c52dd))return;const _0x5c5bdf=this['_locale'];this['_locale']=_0x3c52dd,this['_lang']=_0xd93400,this['_pluralFn']=Tf(this['_lang']),this['fire'](Gh['EVENT_CHAN'+'GE'],_0x3c52dd,_0x5c5bdf);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x18f861,_0x108992){return Fv(_0x18f861,_0x108992);}['findAvaila'+'bleLocale'](_0x158d4){if(this['_translati'+'ons'][_0x158d4])return _0x158d4;const _0x1bc4f=Oi(_0x158d4);return this['_findFallb'+'ackLocale'](_0x158d4,_0x1bc4f);}['getText'](_0x432a20,_0x42d1d4){let _0x51fa3b=_0x432a20,_0x5d762e;_0x42d1d4||(_0x42d1d4=this['_locale'],_0x5d762e=this['_lang']);let _0x521fa0=this['_translati'+'ons'][_0x42d1d4];return _0x521fa0||(_0x5d762e||(_0x5d762e=Oi(_0x42d1d4)),_0x42d1d4=this['_findFallb'+'ackLocale'](_0x42d1d4,_0x5d762e),_0x521fa0=this['_translati'+'ons'][_0x42d1d4]),_0x521fa0&&_0x521fa0['hasOwnProp'+'erty'](_0x432a20)&&(_0x51fa3b=_0x521fa0[_0x432a20],Array['isArray'](_0x51fa3b)&&(_0x51fa3b=_0x51fa3b[0x3*-0x32b+-0x2*0x7db+-0x5*-0x50b]),_0x51fa3b==null&&(_0x51fa3b=_0x432a20)),_0x51fa3b;}['getPluralT'+'ext'](_0x4f8c5e,_0x22d485,_0x3a7004){let _0x28d808=_0x4f8c5e,_0x52e59d,_0x4d1508;_0x3a7004?(_0x52e59d=Oi(_0x3a7004),_0x4d1508=Tf(_0x52e59d)):(_0x3a7004=this['_locale'],_0x52e59d=this['_lang'],_0x4d1508=this['_pluralFn']);let _0x13d98f=this['_translati'+'ons'][_0x3a7004];if(_0x13d98f||(_0x3a7004=this['_findFallb'+'ackLocale'](_0x3a7004,_0x52e59d),_0x52e59d=Oi(_0x3a7004),_0x4d1508=Tf(_0x52e59d),_0x13d98f=this['_translati'+'ons'][_0x3a7004]),_0x13d98f&&_0x13d98f[_0x4f8c5e]&&_0x4d1508){const _0x144f72=_0x4d1508(_0x22d485);_0x28d808=_0x13d98f[_0x4f8c5e][_0x144f72],_0x28d808==null&&(_0x28d808=_0x4f8c5e);}return _0x28d808;}['addData'](_0x19ba29){let _0x400f2e;try{_0x400f2e=this['_parser']['parse'](_0x19ba29);}catch(_0x321f97){console['error'](_0x321f97);return;}for(let _0x59db2f=0xc56+-0x3*-0xaa1+0x2c39*-0x1,_0x2800a5=_0x400f2e['length'];_0x59db2f<_0x2800a5;_0x59db2f++){const _0x3764b4=_0x400f2e[_0x59db2f],_0x24ac5d=_0x3764b4['info']['locale'],_0x519b9c=_0x3764b4['messages'];if(!this['_translati'+'ons'][_0x24ac5d]){this['_translati'+'ons'][_0x24ac5d]={};const _0x162edc=Oi(_0x24ac5d);this['_available'+'Langs'][_0x162edc]||(this['_available'+'Langs'][_0x162edc]=_0x24ac5d);}Object['assign'](this['_translati'+'ons'][_0x24ac5d],_0x519b9c),this['fire']('data:add',_0x24ac5d,_0x519b9c);}}['removeData'](_0x3dabcc){let _0x453c03;try{_0x453c03=this['_parser']['parse'](_0x3dabcc);}catch(_0x1ce723){console['error'](_0x1ce723);return;}for(let _0x15e991=0x1de7*0x1+-0x1b1+-0x1c36,_0xdae20d=_0x453c03['length'];_0x15e991<_0xdae20d;_0x15e991++){const _0x5591d3=_0x453c03[_0x15e991],_0x19324a=_0x5591d3['info']['locale'],_0x20f052=this['_translati'+'ons'][_0x19324a];if(!_0x20f052)continue;const _0x34460e=_0x5591d3['messages'];for(const _0x2c21a4 in _0x34460e)delete _0x20f052[_0x2c21a4];Object['keys'](_0x20f052)['length']===-0x5*0x6e7+-0x3a9*0x9+0x4374&&(delete this['_translati'+'ons'][_0x19324a],delete this['_available'+'Langs'][Oi(_0x19324a)]),this['fire']('data:remov'+'e',_0x19324a,_0x34460e);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x131342,_0x520c63){let _0x194743=Mh[_0x131342];return _0x194743&&this['_translati'+'ons'][_0x194743]||(_0x194743=Mh[_0x520c63],_0x194743&&this['_translati'+'ons'][_0x194743])||(_0x194743=this['_available'+'Langs'][_0x520c63],_0x194743&&this['_translati'+'ons'][_0x194743])?_0x194743:Ph;}['_onAssetAd'+'d'](_0x4d3af6){_0x4d3af6['on']('load',this['_onAssetLo'+'ad'],this),_0x4d3af6['on']('change',this['_onAssetCh'+'ange'],this),_0x4d3af6['on']('remove',this['_onAssetRe'+'move'],this),_0x4d3af6['on']('unload',this['_onAssetUn'+'load'],this),_0x4d3af6['resource']&&this['_onAssetLo'+'ad'](_0x4d3af6);}['_onAssetLo'+'ad'](_0x187e9f){this['addData'](_0x187e9f['resource']);}['_onAssetCh'+'ange'](_0x5d9be0){_0x5d9be0['resource']&&this['addData'](_0x5d9be0['resource']);}['_onAssetRe'+'move'](_0x4d43d8){_0x4d43d8['off']('load',this['_onAssetLo'+'ad'],this),_0x4d43d8['off']('change',this['_onAssetCh'+'ange'],this),_0x4d43d8['off']('remove',this['_onAssetRe'+'move'],this),_0x4d43d8['off']('unload',this['_onAssetUn'+'load'],this),_0x4d43d8['resource']&&this['removeData'](_0x4d43d8['resource']),this['_app']['assets']['once']('add:'+_0x4d43d8['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x2d50e1){_0x2d50e1['resource']&&this['removeData'](_0x2d50e1['resource']);}};h(Gh,'EVENT_CHAN'+'GE','change');let wa=Gh;class HC extends me{constructor(_0x4b9379){super(),h(this,'_scripts',{}),h(this,'_list',[]),h(this,'_scriptSch'+'emas',new Map()),this['app']=_0x4b9379;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x1bd762,_0x108654){_0x108654&&this['_scriptSch'+'emas']['set'](_0x1bd762,_0x108654);}['getSchema'](_0x27ddbe){return this['_scriptSch'+'emas']['get'](_0x27ddbe);}['add'](_0x47dd1d){const _0x5c6ff1=_0x47dd1d['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x5c6ff1)?(setTimeout(()=>{if(_0x47dd1d['prototype']['swap']){const _0x432931=this['_scripts'][_0x5c6ff1],_0x3faf5f=this['_list']['indexOf'](_0x432931);this['_list'][_0x3faf5f]=_0x47dd1d,this['_scripts'][_0x5c6ff1]=_0x47dd1d,this['fire']('swap',_0x5c6ff1,_0x47dd1d),this['fire']('swap:'+_0x5c6ff1,_0x47dd1d);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x5c6ff1+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(0x15*-0xc9+-0x277*0xb+0x1*0x2b9b)):(this['_scripts'][_0x5c6ff1]=_0x47dd1d,this['_list']['push'](_0x47dd1d),this['fire']('add',_0x5c6ff1,_0x47dd1d),this['fire']('add:'+_0x5c6ff1,_0x47dd1d),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x5c6ff1)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x4b9220=this['app']['systems']['script']['_component'+'s'];let _0x5529fd;const _0x1585a9=[],_0x493234=[];for(_0x4b9220['loopIndex']=-0x108a+0x1*-0x16bd+-0x1*-0x2747;_0x4b9220['loopIndex']<_0x4b9220['length'];_0x4b9220['loopIndex']++){const _0x5771c7=_0x4b9220['items'][_0x4b9220['loopIndex']];if(_0x5771c7['_scriptsIn'+'dex'][_0x5c6ff1]&&_0x5771c7['_scriptsIn'+'dex'][_0x5c6ff1]['awaiting']){_0x5771c7['_scriptsDa'+'ta']&&_0x5771c7['_scriptsDa'+'ta'][_0x5c6ff1]&&(_0x5529fd=_0x5771c7['_scriptsDa'+'ta'][_0x5c6ff1]['attributes']);const _0x547554=_0x5771c7['create'](_0x5c6ff1,{'preloading':!(0x9ce*-0x3+-0x156e+0x196c*0x2),'ind':_0x5771c7['_scriptsIn'+'dex'][_0x5c6ff1]['ind'],'attributes':_0x5529fd});_0x547554&&_0x1585a9['push'](_0x547554);for(const _0x5252bb of _0x5771c7['scripts'])_0x5771c7['initialize'+'Attributes'](_0x5252bb);}}for(let _0x2aefdd=-0x6*0x657+-0x1712+0x3d1c;_0x2aefdd<_0x1585a9['length'];_0x2aefdd++)_0x1585a9[_0x2aefdd]['enabled']&&(_0x1585a9[_0x2aefdd]['_initializ'+'ed']=!(0x1184*-0x1+-0x154*-0xd+0x40),_0x493234['push'](_0x1585a9[_0x2aefdd]),_0x1585a9[_0x2aefdd]['initialize']&&_0x1585a9[_0x2aefdd]['initialize']());for(let _0x1fa450=0x127e*-0x2+-0x1ac*0x10+-0x3fbc*-0x1;_0x1fa450<_0x493234['length'];_0x1fa450++)!_0x493234[_0x1fa450]['enabled']||_0x493234[_0x1fa450]['_postIniti'+'alized']||(_0x493234[_0x1fa450]['_postIniti'+'alized']=!(0x19*-0x145+-0x5*-0x6b3+-0x1c2),_0x493234[_0x1fa450]['postInitia'+'lize']&&_0x493234[_0x1fa450]['postInitia'+'lize']());}),!(0x1*-0x12e+0xd96+0x1*-0xc68));}['remove'](_0x105f25){let _0x58cd1f=_0x105f25,_0x399f37=_0x105f25;if(typeof _0x399f37!='string'?_0x399f37=_0x58cd1f['__name']:_0x58cd1f=this['get'](_0x399f37),this['get'](_0x399f37)!==_0x58cd1f)return!(0xb06*-0x2+-0x128*0x17+-0x251*-0x15);delete this['_scripts'][_0x399f37];const _0x5687a4=this['_list']['indexOf'](_0x58cd1f);return this['_list']['splice'](_0x5687a4,0x1cca+-0x15f*0x16+0x161),this['fire']('remove',_0x399f37,_0x58cd1f),this['fire']('remove:'+_0x399f37,_0x58cd1f),!(-0x24ca+-0x2593+0x4a5d);}['get'](_0x5e3c1a){return this['_scripts'][_0x5e3c1a]||null;}['has'](_0x393aec){if(typeof _0x393aec=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x393aec);if(!_0x393aec)return!(-0xafb+-0x2*-0x641+-0x186);const _0x28f2ad=_0x393aec['__name'];return this['_scripts'][_0x28f2ad]===_0x393aec;}['list'](){return this['_list'];}}const WC=(_0x3a0d2b,_0x31d54e)=>_0x3a0d2b['constructo'+'r']['order']-_0x31d54e['constructo'+'r']['order'],$C=_0x23d916=>_0x23d916['sort'](WC),po=[],Nv=[],XC=()=>Nv['pop']()??[],Ag=_0xbc2df4=>{_0xbc2df4['length']=-0x13c9+-0x2309+-0x1246*-0x3,Nv['push'](_0xbc2df4);},Hh=class Hh extends Ie{constructor(_0x8f2698,_0x4e6b39=Ms()){super(_0x8f2698),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'gsplat'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'c',{}),h(this,'_app'),h(this,'_destroyin'+'g',!(-0x1f*-0x19+0xbd3+0x7*-0x21f)),h(this,'_guid',null),h(this,'_template',!(-0x25ea+0x1*-0x3fb+0x29e6)),(w['assert'](_0x4e6b39,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x4e6b39);}['addCompone'+'nt'](_0x817f2e,_0xe0f82f){const _0x43a45a=this['_app']['systems'][_0x817f2e];return _0x43a45a?this['c'][_0x817f2e]?(w['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x817f2e+('\x27\x20componen'+'t')),null):_0x43a45a['addCompone'+'nt'](this,_0xe0f82f):(w['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x817f2e+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x363542){const _0x1803a4=this['_app']['systems'][_0x363542];if(!_0x1803a4){w['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x363542+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x363542]){w['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x363542+('\x27\x20componen'+'t'));return;}_0x1803a4['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x101b8d){const _0x15c38e=this['findOne'](_0x5454ac=>{var _0x1c70ea;return(_0x1c70ea=_0x5454ac['c'])==null?void(-0x270d*0x1+0xb*-0x23b+0x3f96):_0x1c70ea[_0x101b8d];});return _0x15c38e&&_0x15c38e['c'][_0x101b8d];}['findCompon'+'ents'](_0x3683c7){return this['find'](_0x4a891b=>{var _0x4569d4;return(_0x4569d4=_0x4a891b['c'])==null?void(0x157b+-0xb70+-0xa0b):_0x4569d4[_0x3683c7];})['map'](_0x24089a=>_0x24089a['c'][_0x3683c7]);}['findScript'](_0x52f2f8){const _0x53c250=this['findOne'](_0x42b6f8=>{var _0x493b11,_0x349c41;return(_0x349c41=(_0x493b11=_0x42b6f8['c'])==null?void(-0x11*0xc7+-0x2*-0xbfb+-0x7*0x189):_0x493b11['script'])==null?void(0x1b3c+-0xf*-0x166+0x42*-0xbb):_0x349c41['has'](_0x52f2f8);});return _0x53c250==null?void(0x647+-0x1d8*0x1+-0x46f):_0x53c250['c']['script']['get'](_0x52f2f8);}['findScript'+'s'](_0x3dc385){return this['find'](_0x3641e7=>{var _0x56cc3b,_0x2764ed;return(_0x2764ed=(_0x56cc3b=_0x3641e7['c'])==null?void(-0x11d9+0x15*0x122+-0x5f1):_0x56cc3b['script'])==null?void(-0x4*0x439+0x11f1*-0x2+0x23*0x182):_0x2764ed['has'](_0x3dc385);})['map'](_0x55d2df=>_0x55d2df['c']['script']['get'](_0x3dc385));}['getGuid'](){return this['_guid']||this['setGuid'](Q0['create']()),this['_guid'];}['setGuid'](_0x12f0ee){const _0x4a381b=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x4a381b[this['_guid']],this['_guid']=_0x12f0ee,_0x4a381b[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x50f706,_0x4fddb8){let _0xdf6bc1=!(-0x2b9*0x1+0x148*-0x10+0xb9d*0x2);_0x50f706===this&&po['length']===-0x765+0x3e2+0x383&&(_0xdf6bc1=!(-0x3d*-0x71+-0x6a5+-0xec*0x16)),_0x50f706['_beingEnab'+'led']=!(-0x2*-0xf34+0x1f1a+-0x1ec1*0x2),_0x50f706['_onHierarc'+'hyStateCha'+'nged'](_0x4fddb8),_0x50f706['_onHierarc'+'hyStatePos'+'tChanged']&&po['push'](_0x50f706);const _0x3a1988=_0x50f706['_children'];for(let _0x2b309f=0x15*0xc1+-0x4*0x6e2+-0xbb3*-0x1,_0x5d48bd=_0x3a1988['length'];_0x2b309f<_0x5d48bd;_0x2b309f++)_0x3a1988[_0x2b309f]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x3a1988[_0x2b309f],_0x4fddb8);if(_0x50f706['_beingEnab'+'led']=!(-0xf*0x1b+-0x8f2+0xa88),_0xdf6bc1){for(let _0x7322ad=0x1f4e*0x1+-0x103*-0x1f+-0x3eab;_0x7322ad<po['length'];_0x7322ad++)po[_0x7322ad]['_onHierarc'+'hyStatePos'+'tChanged']();po['length']=0x5*0x62e+-0x12*-0x1b9+0x11b*-0x38;}}['_onHierarc'+'hyStateCha'+'nged'](_0x291920){super['_onHierarc'+'hyStateCha'+'nged'](_0x291920);const _0x5aea99=this['_getSorted'+'Components']();for(let _0xc3d469=-0x1*-0x9e1+0x3*0xa21+-0xc*0x35b;_0xc3d469<_0x5aea99['length'];_0xc3d469++){const _0x535597=_0x5aea99[_0xc3d469];_0x535597['enabled']&&(_0x291920?_0x535597['onEnable']():_0x535597['onDisable']());}Ag(_0x5aea99);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x3b11eb=this['_getSorted'+'Components']();for(let _0x44a309=0x106b+-0x36b+-0xd00;_0x44a309<_0x3b11eb['length'];_0x44a309++)_0x3b11eb[_0x44a309]['onPostStat'+'eChange']();Ag(_0x3b11eb);}['findByGuid'](_0x4a1d1a){if(this['_guid']===_0x4a1d1a)return this;const _0x5b40e0=this['_app']['_entityInd'+'ex'][_0x4a1d1a];return _0x5b40e0&&(_0x5b40e0===this||_0x5b40e0['isDescenda'+'ntOf'](this))?_0x5b40e0:null;}['destroy'](){this['_destroyin'+'g']=!(0x1*-0x17b+-0x19f8+0x1b73*0x1);for(const _0x4d0451 in this['c'])this['c'][_0x4d0451]['enabled']=!(-0x1c45+-0x1050+-0x1a*-0x1b7);for(const _0x5db9f3 in this['c'])this['c'][_0x5db9f3]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(-0x12ea*0x1+-0x2670+-0x1*-0x395b);}['clone'](){const _0x489602={},_0x4962da=this['_cloneRecu'+'rsively'](_0x489602);return _0x489602[this['getGuid']()]=_0x4962da,kv(this,this,_0x4962da,_0x489602),_0x4962da;}['_getSorted'+'Components'](){const _0x5677c6=this['c'],_0x5c56ac=XC();let _0x2ff6ea=0x201e+-0x1*-0x28d+-0x22ab;for(const _0x278d50 in _0x5677c6)if(_0x5677c6['hasOwnProp'+'erty'](_0x278d50)){const _0x325f95=_0x5677c6[_0x278d50];_0x2ff6ea|=_0x325f95['constructo'+'r']['order']!==0x91f+-0x2*-0x709+-0x1731,_0x5c56ac['push'](_0x325f95);}return _0x2ff6ea&&_0x5c56ac['length']>0x4*0x3e+0x7*-0x2dd+0x42*0x4a&&$C(_0x5c56ac),_0x5c56ac;}['_cloneRecu'+'rsively'](_0x52bb37){const _0x236dc8=new this['constructo'+'r'](void(-0x244b+0x2384+0x1*0xc7),this['_app']);super['_cloneInte'+'rnal'](_0x236dc8);for(const _0x4888a0 in this['c'])this['c'][_0x4888a0]['system']['cloneCompo'+'nent'](this,_0x236dc8);for(let _0x19a284=0xe66+-0x9b9*-0x1+-0x181f;_0x19a284<this['_children']['length'];_0x19a284++){const _0x36552e=this['_children'][_0x19a284];if(_0x36552e instanceof Hh){const _0x38a063=_0x36552e['_cloneRecu'+'rsively'](_0x52bb37);_0x236dc8['addChild'](_0x38a063),_0x52bb37[_0x36552e['getGuid']()]=_0x38a063;}}return _0x236dc8;}};h(Hh,'EVENT_DEST'+'ROY','destroy');let lt=Hh;function kv(_0x163924,_0x2e74e6,_0x337a0a,_0x51d497){if(_0x2e74e6 instanceof lt){const _0x5dd736=_0x2e74e6['c'];for(const _0x4f5c60 in _0x5dd736){const _0x429400=_0x5dd736[_0x4f5c60],_0x436f38=_0x429400['system']['getPropert'+'iesOfType']('entity');for(let _0x44f579=-0xaf*-0x2b+0x413+-0x2178,_0x1345c8=_0x436f38['length'];_0x44f579<_0x1345c8;_0x44f579++){const _0x3cff77=_0x436f38[_0x44f579]['name'],_0x54f966=_0x429400[_0x3cff77];if(!!_0x163924['findByGuid'](_0x54f966)){const _0x2358e7=_0x51d497[_0x54f966]['getGuid']();_0x2358e7?_0x337a0a['c'][_0x4f5c60][_0x3cff77]=_0x2358e7:w['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x5dd736['script']&&_0x337a0a['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5dd736['script'],_0x51d497),_0x5dd736['render']&&_0x337a0a['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5dd736['render'],_0x51d497),_0x5dd736['button']&&_0x337a0a['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5dd736['button'],_0x51d497),_0x5dd736['scrollview']&&_0x337a0a['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5dd736['scrollview'],_0x51d497),_0x5dd736['scrollbar']&&_0x337a0a['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5dd736['scrollbar'],_0x51d497),_0x5dd736['anim']&&_0x337a0a['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5dd736['anim'],_0x51d497);const _0x445ebd=_0x2e74e6['children']['filter'](_0x513a8e=>_0x513a8e instanceof lt),_0x48cfda=_0x337a0a['children']['filter'](_0x482523=>_0x482523 instanceof lt);for(let _0x1e013f=-0x1b33+-0xe7f+0x29b2,_0x45face=_0x445ebd['length'];_0x1e013f<_0x45face;_0x1e013f++)kv(_0x163924,_0x445ebd[_0x1e013f],_0x48cfda[_0x1e013f],_0x51d497);}}class Cg{constructor(_0x56ce92,_0x13b067){h(this,'name'),h(this,'url'),h(this,'data',null),h(this,'_loading',!(-0x2*0x88b+0x4*-0x3fb+0x3*0xb01)),h(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x56ce92,this['url']=_0x13b067);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class qC{constructor(_0x465973){h(this,'_app'),h(this,'_list',[]),h(this,'_index',{}),h(this,'_urlIndex',{}),this['_app']=_0x465973;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x45a5d7,_0x45603a){if(this['_index']['hasOwnProp'+'erty'](_0x45a5d7))return w['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x45a5d7),!(0x982*0x2+-0xbd+0x2*-0x923);const _0x1c6388=new Cg(_0x45a5d7,_0x45603a),_0x5ea1ce=this['_list']['push'](_0x1c6388);return this['_index'][_0x1c6388['name']]=_0x5ea1ce-(0xc63+0x4cd*-0x6+-0x106c*-0x1),this['_urlIndex'][_0x1c6388['url']]=_0x5ea1ce-(-0x5a*0x16+0x13e8+-0xc2b),!(0x134+0x11d*0x22+-0x1387*0x2);}['find'](_0x2a3779){return this['_index']['hasOwnProp'+'erty'](_0x2a3779)?this['_list'][this['_index'][_0x2a3779]]:null;}['findByUrl'](_0x3982a2){return this['_urlIndex']['hasOwnProp'+'erty'](_0x3982a2)?this['_list'][this['_urlIndex'][_0x3982a2]]:null;}['remove'](_0x387a40){if(this['_index']['hasOwnProp'+'erty'](_0x387a40)){const _0x2d53e2=this['_index'][_0x387a40];let _0x5f0db3=this['_list'][_0x2d53e2];delete this['_urlIndex'][_0x5f0db3['url']],delete this['_index'][_0x387a40],this['_list']['splice'](_0x2d53e2,-0x186b*-0x1+-0x2*-0xd81+-0x336c);for(let _0x186c67=-0x7c9*-0x1+0x1e72+0x263b*-0x1;_0x186c67<this['_list']['length'];_0x186c67++)_0x5f0db3=this['_list'][_0x186c67],this['_index'][_0x5f0db3['name']]=_0x186c67,this['_urlIndex'][_0x5f0db3['url']]=_0x186c67;}}['_loadScene'+'Data'](_0xdc59e0,_0x628bad,_0x470418){const _0x350164=this['_app'];let _0x2714f5=_0xdc59e0;if(typeof _0xdc59e0=='string'&&(_0xdc59e0=this['findByUrl'](_0x2714f5)||this['find'](_0x2714f5)||new Cg('Untitled',_0x2714f5)),_0x2714f5=_0xdc59e0['url'],!_0x2714f5){_0x470418('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0xdc59e0['loaded']){_0x470418(null,_0xdc59e0);return;}_0x350164['assets']&&_0x350164['assets']['prefix']&&!jn['test'](_0x2714f5)&&(_0x2714f5=xe['join'](_0x350164['assets']['prefix'],_0x2714f5)),_0xdc59e0['_onLoadedC'+'allbacks']['push'](_0x470418),_0xdc59e0['_loading']||_0x350164['loader']['getHandler']('hierarchy')['load'](_0x2714f5,(_0x57f4a1,_0x25423f)=>{_0xdc59e0['data']=_0x25423f,_0xdc59e0['_loading']=!(-0x1fa5+-0x250+-0x17*-0x17a);for(let _0x494203=-0xa16+-0x431+-0xd7*-0x11;_0x494203<_0xdc59e0['_onLoadedC'+'allbacks']['length'];_0x494203++)_0xdc59e0['_onLoadedC'+'allbacks'][_0x494203](_0x57f4a1,_0xdc59e0);_0x628bad||(_0xdc59e0['data']=null),_0xdc59e0['_onLoadedC'+'allbacks']['length']=0x530*0x6+-0x1*-0x153d+-0x5*0xa79;}),_0xdc59e0['_loading']=!(-0x2229+-0x22d*-0xe+0x1*0x3b3);}['loadSceneD'+'ata'](_0x560530,_0x141497){this['_loadScene'+'Data'](_0x560530,!(-0x2*0x90a+0x5c1+0xc53),_0x141497);}['unloadScen'+'eData'](_0x1485f5){typeof _0x1485f5=='string'&&(_0x1485f5=this['findByUrl'](_0x1485f5)),_0x1485f5&&(_0x1485f5['data']=null);}['_loadScene'+'Hierarchy'](_0x74e4b3,_0x2d0c4e,_0x5614e9){this['_loadScene'+'Data'](_0x74e4b3,!(-0x1116+0x2359*-0x1+0x3470),(_0x5a7217,_0x10f1f0)=>{if(_0x5a7217){_0x5614e9&&_0x5614e9(_0x5a7217);return;}_0x2d0c4e&&_0x2d0c4e(_0x10f1f0);const _0x122050=this['_app'],_0x1eb275=()=>{const _0x500f4b=_0x122050['loader']['getHandler']('hierarchy');_0x122050['systems']['script']['preloading']=!(0xdb4+-0x1*-0x15e2+-0x2396);const _0x240c2e=_0x500f4b['open'](_0x10f1f0['url'],_0x10f1f0['data']);_0x122050['systems']['script']['preloading']=!(0x1*-0x1fa8+-0xc0*0x10+0x2ba9*0x1),_0x122050['loader']['clearCache'](_0x10f1f0['url'],'hierarchy'),_0x122050['root']['addChild'](_0x240c2e),_0x122050['systems']['fire']('initialize',_0x240c2e),_0x122050['systems']['fire']('postInitia'+'lize',_0x240c2e),_0x122050['systems']['fire']('postPostIn'+'itialize',_0x240c2e),_0x5614e9&&_0x5614e9(null,_0x240c2e);};_0x122050['_preloadSc'+'ripts'](_0x10f1f0['data'],_0x1eb275);});}['loadSceneH'+'ierarchy'](_0x12f366,_0x30f71a){this['_loadScene'+'Hierarchy'](_0x12f366,null,_0x30f71a);}['loadSceneS'+'ettings'](_0x537024,_0x58736e){this['_loadScene'+'Data'](_0x537024,!(-0x21e+0x17c2+-0x15a3),(_0x5c4db4,_0x221566)=>{_0x5c4db4?_0x58736e&&_0x58736e(_0x5c4db4):(this['_app']['applyScene'+'Settings'](_0x221566['data']['settings']),_0x58736e&&_0x58736e(null));});}['changeScen'+'e'](_0x41d12e,_0x7b7f92){const _0x153e0b=this['_app'],_0x263b1f=_0x129ae8=>{const {children:_0x48de87}=_0x153e0b['root'];for(;_0x48de87['length'];)_0x48de87[-0x125*0x3+-0x103f*0x1+0x9d7*0x2]['destroy']();_0x153e0b['applyScene'+'Settings'](_0x129ae8['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x41d12e,_0x263b1f,_0x7b7f92);}['loadScene'](_0xc15e10,_0x5a2c75){const _0x259d44=this['_app'],_0x385535=_0x259d44['loader']['getHandler']('scene');_0x259d44['assets']&&_0x259d44['assets']['prefix']&&!jn['test'](_0xc15e10)&&(_0xc15e10=xe['join'](_0x259d44['assets']['prefix'],_0xc15e10)),_0x385535['load'](_0xc15e10,(_0x3ff482,_0xa0b7aa)=>{if(_0x3ff482)_0x5a2c75&&_0x5a2c75(_0x3ff482);else{const _0xda1ecd=()=>{_0x259d44['systems']['script']['preloading']=!(-0x235d+-0x2656+0x1891*0x3);const _0x44ca61=_0x385535['open'](_0xc15e10,_0xa0b7aa),_0x301014=this['findByUrl'](_0xc15e10);_0x301014&&!_0x301014['loaded']&&(_0x301014['data']=_0xa0b7aa),_0x259d44['systems']['script']['preloading']=!(0x1e*-0xf1+0x9e4+0x125b),_0x259d44['loader']['clearCache'](_0xc15e10,'scene'),_0x259d44['loader']['patch']({'resource':_0x44ca61,'type':'scene'},_0x259d44['assets']),_0x259d44['root']['addChild'](_0x44ca61['root']),_0x259d44['systems']['rigidbody']&&typeof Ammo<'u'&&_0x259d44['systems']['rigidbody']['gravity']['set'](_0x44ca61['_gravity']['x'],_0x44ca61['_gravity']['y'],_0x44ca61['_gravity']['z']),_0x5a2c75&&_0x5a2c75(null,_0x44ca61);};_0x259d44['_preloadSc'+'ripts'](_0xa0b7aa,_0xda1ecd);}});}}class jC{constructor(_0xb7d9c0){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0xb7d9c0['_shaderSta'+'ts'],this['vram']=_0xb7d9c0['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return Ms()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x219ea1;return(_0x219ea1=Ms()['lightmappe'+'r'])==null?void(0x7a9+0x1b8e+-0x2337*0x1):_0x219ea1['stats'];}get['batcher'](){const _0x2f06da=Ms()['_batcher'];return _0x2f06da?_0x2f06da['_stats']:null;}}const YC='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',KC='\x0a\x0a#ifdef\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+'\x20AMBIENTSH'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20am'+'bientSH[9]'+';\x0a#endif\x0a\x0a'+'#if\x20LIT_AM'+'BIENT_SOUR'+'CE\x20==\x20ENVA'+'LATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fndef\x20ENV_'+'ATLAS\x0a\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_envAtlas'+';\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'AMBIENTSH\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20c'+'olor\x20=\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[0'+']\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[1]\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[2'+']\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[3]\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[4]\x20*\x20'+'n.x\x20*\x20n.z\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[5]\x20*\x20n'+'.z\x20*\x20n.y\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[6]\x20*\x20n.'+'y\x20*\x20n.x\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[7]\x20*\x20(3.'+'0\x20*\x20n.z\x20*\x20'+'n.z\x20-\x201.0)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[8]\x20*\x20'+'(n.x\x20*\x20n.x'+'\x20-\x20n.y\x20*\x20n'+'.y);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20processEn'+'vironment('+'max(color,'+'\x20vec3(0.0)'+'));\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_A'+'MBIENT_SOU'+'RCE\x20==\x20ENV'+'ALATLAS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dir\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+('28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw\x20=\x20tex'+'ture2D(tex'+'ture_envAt'+'las,\x20uv);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20linear\x20'+'=\x20{ambient'+'Decode}(ra'+'w);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'CONSTANT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20light'+'_globalAmb'+'ient;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),ZC='\x0a\x0a#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opyIntensi'+'ty;\x0a\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20material_'+'anisotropy'+'Rotation;\x0a'+'#endif\x0a\x0avo'+'id\x20getAnis'+'otropy()\x20{'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x200'+'.0;\x0a\x20\x20\x20\x20dA'+'nisotropyR'+'otation\x20=\x20'+'vec2(1.0,\x20'+'0.0);\x0a\x0a#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20m'+'aterial_an'+'isotropyIn'+'tensity;\x0a\x20'+'\x20\x20\x20dAnisot'+'ropyRotati'+'on\x20=\x20mater'+'ial_anisot'+'ropyRotati'+'on;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_ANI'+'SOTROPY_TE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropyTex\x20='+'\x20texture2D'+'Bias({STD_'+'ANISOTROPY'+'_TEXTURE_N'+'AME},\x20{STD'+'_ANISOTROP'+'Y_TEXTURE_'+'UV},\x20textu'+'reBias).rg'+'b;\x0a\x20\x20\x20\x20dAn'+'isotropy\x20*'+'=\x20anisotro'+'pyTex.b;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20a'+'nisotropyR'+'otationFro'+'mTex\x20=\x20ani'+'sotropyTex'+'.rg\x20*\x202.0\x20'+'-\x20vec2(1.0'+');\x0a\x20\x20\x20\x20mat'+'2\x20rotation'+'Matrix\x20=\x20m'+'at2(dAniso'+'tropyRotat'+'ion.x,\x20dAn'+'isotropyRo'+'tation.y,\x20'+'-dAnisotro'+'pyRotation'+'.y,\x20dAniso'+'tropyRotat'+'ion.x);\x0a\x20\x20'+'\x20\x20dAnisotr'+'opyRotatio'+'n\x20=\x20rotati'+'onMatrix\x20*'+'\x20anisotrop'+'yRotationF'+'romTex;\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20dA'+'nisotropy\x20'+'=\x20clamp(dA'+'nisotropy,'+'\x200.0,\x201.0)'+';\x0a}\x0a',QC='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_aoInten'+'sity;\x0a#end'+'if\x0a\x0a#ifdef'+'\x20STD_AODET'+'AIL_TEXTUR'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22deta'+'ilModesPS\x22'+'\x0a#endif\x0a\x0av'+'oid\x20getAO('+')\x20{\x0a\x20\x20\x20\x20dA'+'o\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'aoBase\x20=\x20t'+'exture2DBi'+'as({STD_AO'+'_TEXTURE_N'+'AME},\x20{STD'+'_AO_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_AO_TE'+'XTURE_CHAN'+'NEL};\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20aoDetail\x20'+'=\x20texture2'+'DBias({STD'+'_AODETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'AODETAIL_T'+'EXTURE_UV}'+',\x20textureB'+'ias).{STD_'+'AODETAIL_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'oBase\x20=\x20de'+'tailMode_{'+'STD_AODETA'+'IL_DETAILM'+'ODE}(vec3('+'aoBase),\x20v'+'ec3(aoDeta'+'il)).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_AO_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(STD_A'+'O_TEXTURE)'+'\x20||\x20define'+'d(STD_AO_V'+'ERTEX)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAo\x20='+'\x20mix(1.0,\x20'+'dAo,\x20mater'+'ial_aoInte'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',JC='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',e1='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0av'+'oid\x20occlud'+'eSpecular('+'float\x20glos'+'s,\x20float\x20a'+'o,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir)\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'AO\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_OCCLUDE_'+'SPECULAR_F'+'LOAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20specOcc'+'\x20=\x20mix(1.0'+',\x20ao,\x20mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20specOc'+'c\x20=\x20ao;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_OCC'+'LUDE_SPECU'+'LAR\x20==\x20GLO'+'SSDEPENDEN'+'T\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20approx'+'imated\x20spe'+'cular\x20occl'+'usion\x20from'+'\x20AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20http:'+'//research'+'.tri-ace.c'+'om/Data/ce'+'dec2011_Re'+'altimePBR_'+'Implementa'+'tion_e.ppt'+'x\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01\x20'+'*\x20specPow)'+'\x20-\x201.0\x20+\x20a'+'o);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20sp'+'ecOcc,\x20mat'+'erial_occl'+'udeSpecula'+'rIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20*=\x20specO'+'cc;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sReflecti'+'on\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a'),t1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001\x20'+'?\x20(1.0/255'+'.0)\x20:\x200.0)'+';\x0a\x20\x20\x20\x20}\x0a',s1='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'ambientBak'+'eOcclusion'+'Contrast\x20+'+'\x201.0,\x200.0)'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'vec3(ambie'+'ntBakeOccl'+'usionBrigh'+'tness);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20sa'+'turate(dDi'+'ffuseLight'+');\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20dAmbie'+'ntLight;\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHTM'+'AP_RGBM\x0a\x20\x20'+'\x20\x20//\x20encod'+'e\x20to\x20RGBM\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20dDiffus'+'eLight;\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor.rgb\x20='+'\x20pow(gl_Fr'+'agColor.rg'+'b,\x20vec3(0.'+'5));\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20/=\x208'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.a\x20=\x20clamp'+'(\x20max(\x20max'+'(\x20gl_FragC'+'olor.r,\x20gl'+'_FragColor'+'.g\x20),\x20max('+'\x20gl_FragCo'+'lor.b,\x201.0'+'\x20/\x20255.0\x20)'+'\x20),\x200.0,1.'+'0\x20);\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.a\x20=\x20ceil'+'(gl_FragCo'+'lor.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20/=\x20gl'+'_FragColor'+'.a;\x0a#else\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(dDiffu'+'seLight,\x201'+'.0);\x0a#endi'+'f\x0a',i1='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',r1='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',a1='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',n1='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',o1='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20weigh'+'t[{SAMPLES'+'}];\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20m'+'oments\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vUv0\x20-'+'\x20pixelOffs'+'et\x20*\x20(floa'+'t({SAMPLES'+'})\x20*\x200.5);'+'\x0a\x20\x20\x20\x20for\x20('+'int\x20i\x20=\x200;'+'\x20i\x20<\x20{SAMP'+'LES};\x20i++)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20c\x20=\x20'+'texture2D('+'source,\x20uv'+'\x20+\x20pixelOf'+'fset\x20*\x20flo'+'at(i));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20GAUSS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20moments\x20'+'+=\x20c.xyz\x20*'+'\x20weight[i]'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'ments\x20+=\x20c'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20*=\x201.0\x20/'+'\x20float({SA'+'MPLES});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(momen'+'ts.x,\x20mome'+'nts.y,\x20mom'+'ents.z,\x201.'+'0);\x0a}\x0a',l1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oat;\x0a\x0avoid'+'\x20getClearC'+'oat()\x20{\x0a\x20\x20'+'\x20\x20ccSpecul'+'arity\x20=\x20ma'+'terial_cle'+'arCoat;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_CLEARC'+'OAT_TEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias({ST'+'D_CLEARCOA'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_CL'+'EARCOAT_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20*=\x20satu'+'rate(vVert'+'exColor.{S'+'TD_CLEARCO'+'AT_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',c1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oatGloss;\x0a'+'\x0avoid\x20getC'+'learCoatGl'+'ossiness()'+'\x20{\x0a\x20\x20\x20\x20ccG'+'lossiness\x20'+'=\x20material'+'_clearCoat'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_CLEAR'+'COATGLOSS_'+'TEXTURE_NA'+'ME},\x20{STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_CLEAR'+'COATGLOSS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_CLEAR'+'COATGLOSS_'+'INVERT\x0a\x20\x20\x20'+'\x20ccGlossin'+'ess\x20=\x201.0\x20'+'-\x20ccGlossi'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',h1='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0aunif'+'orm\x20float\x20'+'material_c'+'learCoatBu'+'mpiness;\x0a#'+'endif\x0a\x0avoi'+'d\x20getClear'+'CoatNormal'+'()\x20{\x0a#ifde'+'f\x20STD_CLEA'+'RCOATNORMA'+'L_TEXTURE\x0a'+'\x20\x20\x20\x20vec3\x20n'+'ormalMap\x20='+'\x20{STD_CLEA'+'RCOATNORMA'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_UV}'+',\x20textureB'+'ias));\x0a\x20\x20\x20'+'\x20normalMap'+'\x20=\x20mix(vec'+'3(0.0,\x200.0'+',\x201.0),\x20no'+'rmalMap,\x20m'+'aterial_cl'+'earCoatBum'+'piness);\x0a\x20'+'\x20\x20\x20ccNorma'+'lW\x20=\x20norma'+'lize(dTBN\x20'+'*\x20normalMa'+'p);\x0a#else\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20dVer'+'texNormalW'+';\x0a#endif\x0a}'+'\x0a',d1='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.x\x20=\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20t'+'ileOffset.'+'y\x20=\x20dir.z\x20'+'<\x200.0\x20?\x201.'+'0\x20:\x200.0;\x0a\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if(vAbs.y'+'\x20>=\x20vAbs.x'+')\x20{\x20\x20//\x20to'+'p\x20index\x202,'+'\x20bottom\x20in'+'dex\x203\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.y\x20<\x200.0\x20?'+'\x203.0\x20:\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x,\x20dir.y\x20'+'<\x200.0\x20?\x20-d'+'ir.z\x20:\x20dir'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.x\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.y\x20=\x20dir.'+'y\x20<\x200.0\x20?\x20'+'1.0\x20:\x200.0;'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'\x20=\x200.5\x20/\x20v'+'Abs.x;\x0a\x20\x20\x20'+('\x20\x20\x20\x20\x20uv\x20=\x20'+'vec2(dir.x'+'\x20<\x200.0\x20?\x20d'+'ir.z\x20:\x20-di'+'r.z,\x20-dir.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20uv'+'\x20*\x20ma\x20+\x200.'+'5;\x0a}\x0a\x0a//\x20c'+'onverts\x20un'+'normalized'+'\x20direction'+'\x20vector\x20to'+'\x20a\x20texture'+'\x20coordinat'+'e\x20for\x20a\x20cu'+'bemap\x20face'+'\x20stored\x20wi'+'thin\x20textu'+'re\x20atlas\x20d'+'escribed\x20b'+'y\x20the\x20view'+'port\x0avec2\x20'+'getCubemap'+'AtlasCoord'+'inates(con'+'st\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+'dgePixels,'+'\x20float\x20sha'+'dowTexture'+'Resolution'+',\x20const\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20faceIndex'+';\x0a\x20\x20\x20\x20vec2'+'\x20tileOffse'+'t;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapFac'+'eCoordinat'+'es(dir,\x20fa'+'ceIndex,\x20t'+'ileOffset)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'move\x20uv\x20co'+'ordinates\x20'+'inwards\x20in'+'side\x20to\x20co'+'mpensate\x20f'+'or\x20larger\x20'+'fov\x20when\x20r'+'endering\x20s'+'hadow\x20into'+'\x20atlas\x0a\x20\x20\x20'+'\x20float\x20atl'+'asFaceSize'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20tileSi'+'ze\x20=\x20shado'+'wTextureRe'+'solution\x20*'+'\x20atlasFace'+'Size;\x0a\x20\x20\x20\x20'+'float\x20offs'+'et\x20=\x20shado'+'wEdgePixel'+'s\x20/\x20tileSi'+'ze;\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv\x20*\x20ve'+'c2(1.0\x20-\x20o'+'ffset\x20*\x202.'+'0)\x20+\x20vec2('+'offset\x20*\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20*'+'=\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20fac'+'e\x20of\x20the\x20a')+('tlas\x20(3x3\x20'+'grid)\x0a\x20\x20\x20\x20'+'uv\x20+=\x20tile'+'Offset\x20*\x20a'+'tlasFaceSi'+'ze;\x0a\x0a\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nto\x20the\x20at'+'las\x20viewpo'+'rt\x0a\x20\x20\x20\x20uv\x20'+'+=\x20omniAtl'+'asViewport'+'.xy;\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a'),f1='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20vec4\x20co'+'okieChanne'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20mix(vec4'+'(1.0),\x20tex'+'ture2DLod('+'tex,\x20uv,\x200'+'.0),\x20inten'+'sity);\x0a\x20\x20\x20'+'\x20bool\x20isRg'+'b\x20=\x20dot(co'+'okieChanne'+'l.rgb,\x20vec'+'3(1.0))\x20=='+'\x203.0;\x0a\x20\x20\x20\x20'+'return\x20isR'+'gb\x20?\x20pixel'+'.rgb\x20:\x20vec'+'3(dot(pixe'+'l,\x20cookieC'+'hannel));\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0ave'+'c3\x20getCook'+'ie2DCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20mat4\x20'+'transform,'+'\x20vec3\x20worl'+'dPosition,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieC'+'hannel)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20p'+'rojPos\x20=\x20t'+'ransform\x20*'+'\x20vec4(worl'+'dPosition,'+'\x201.0);\x0a\x20\x20\x20'+'\x20return\x20_g'+'etCookieCl'+'ustered(TE'+'XTURE_PASS'+'(tex),\x20pro'+'jPos.xy\x20/\x20'+'projPos.w,'+'\x20intensity'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20vec4\x20coo'+'kieChannel'+',\x20float\x20sh'+'adowTextur'+'eResolutio'+'n,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20omniAtla'+'sViewport)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+('tureResolu'+'tion,\x20dir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getCoo'+'kieCluster'+'ed(TEXTURE'+'_PASS(tex)'+',\x20uv,\x20inte'+'nsity,\x20coo'+'kieChannel'+');\x0a}\x0a'),u1='\x0a\x0avec3\x20_ge'+'tShadowCoo'+'rdPerspZbu'+'ffer(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20wP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20shado'+'wMatrix\x20*\x20'+'vec4(wPos,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'yz\x20/=\x20proj'+'Pos.w;\x0a\x20\x20\x20'+'\x20return\x20pr'+'ojPos.xyz;'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20bias\x20i'+'s\x20already\x20'+'applied\x20on'+'\x20render\x0a}\x0a'+'\x0avec3\x20getS'+'hadowCoord'+'PerspZbuff'+'erNormalOf'+'fset(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20wPo'+'s\x20=\x20vPosit'+'ionW\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm,\x20vec3'+'\x20normal)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20distScale'+'\x20=\x20length('+'lightDir);'+'\x0a\x20\x20\x20\x20vec3\x20'+'wPos\x20=\x20vPo'+'sitionW\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x20/'+'/0.02\x0a\x20\x20\x20\x20'+'vec3\x20dir\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0afloa'+'t\x20getShado'+'wOmniClust'+'eredPCF1(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20omniAtla'+'sViewport,'+'\x20float\x20sha'+'dowEdgePix'+'els,\x20vec3\x20'+'lightDir)\x20'+'{\x0a\x0a\x20\x20\x20\x20flo'+'at\x20shadowT'+('extureReso'+'lution\x20=\x20s'+'hadowParam'+'s.x;\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+'lution,\x20li'+'ghtDir);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'shadowZ\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(uv,\x20sha'+'dowZ));\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF3'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF3'+'x3(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF5'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s')+('hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF5'+'x5(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a/'+'/\x20Clustere'+'d\x20Spot\x20Sam'+'pling\x20usin'+'g\x20atlas\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF1)\x0a\x0afl'+'oat\x20getSha'+'dowSpotClu'+'steredPCF1'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSha'+'dow(shadow'+'Map,\x20shado'+'wCoord);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x0af'+'loat\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF3x3'+'(SHADOWMAP'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a}\x0a\x0a#'+'endif\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x0afloa'+'t\x20getShado'+'wSpotClust'+'eredPCF5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC')+('oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a}'+'\x0a#endif\x0a'),p1='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20clu'+'sterWorldT'+'exture;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20lightsTe'+'xture;\x0a\x0a#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x20\x20\x20\x20//\x20TO'+'DO:\x20when\x20V'+'SM\x20shadow\x20'+'is\x20support'+'ed,\x20it\x20nee'+'ds\x20to\x20use\x20'+'sampler2D\x20'+'in\x20webgl2\x0a'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'DShadow\x20sh'+'adowAtlasT'+'exture;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20CLUSTER'+'_COOKIES\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20cookieAtl'+'asTexture;'+'\x0a#endif\x0a\x0au'+'niform\x20int'+'\x20clusterMa'+'xCells;\x0a\x0a/'+'/\x201.0\x20if\x20c'+'lustered\x20l'+'ighting\x20ca'+'n\x20be\x20skipp'+'ed\x20(0\x20ligh'+'ts\x20in\x20the\x20'+'clusters)\x0a'+'uniform\x20fl'+'oat\x20cluste'+'rSkip;\x0a\x0aun'+'iform\x20vec3'+'\x20clusterCe'+'llsCountBy'+'BoundsSize'+';\x0auniform\x20'+'vec3\x20clust'+'erTextureS'+'ize;\x0aunifo'+'rm\x20vec3\x20cl'+'usterBound'+'sMin;\x0aunif'+'orm\x20vec3\x20c'+'lusterBoun'+'dsDelta;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsDot;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsMax;\x0au'+'niform\x20vec'+'2\x20shadowAt'+'lasParams;'+'\x0a\x0a//\x20struc'+'ture\x20stori'+'ng\x20light\x20p'+'roperties\x20'+'of\x20a\x20clust'+'ered\x20light'+'\x0a//\x20it\x27s\x20s'+('orted\x20to\x20h'+'ave\x20all\x20ve'+'ctors\x20alig'+'ned\x20to\x204\x20f'+'loats\x20to\x20l'+'imit\x20paddi'+'ng\x0astruct\x20'+'ClusterLig'+'htData\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x2032b'+'it\x20of\x20flag'+'s\x0a\x20\x20\x20\x20uint'+'\x20flags;\x0a\x0a\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20siz'+'es\x20/\x20orien'+'tation\x0a\x20\x20\x20'+'\x20vec3\x20half'+'Width;\x0a\x0a\x20\x20'+'\x20\x20bool\x20isS'+'pot;\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20sizes\x20'+'/\x20orientat'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20halfHei'+'ght;\x0a\x0a\x20\x20\x20\x20'+'//\x20light\x20i'+'ndex\x0a\x20\x20\x20\x20i'+'nt\x20lightIn'+'dex;\x0a\x0a\x20\x20\x20\x20'+'//\x20world\x20s'+'pace\x20posit'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20positio'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20uint\x20sha'+'pe;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20direct'+'ion\x20(spot\x20'+'light\x20only'+')\x0a\x20\x20\x20\x20vec3'+'\x20direction'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20foll'+'ow\x20mode\x0a\x20\x20'+'\x20\x20bool\x20fal'+'loffModeLi'+'near;\x0a\x0a\x20\x20\x20'+'\x20//\x20color\x0a'+'\x20\x20\x20\x20vec3\x20c'+'olor;\x0a\x0a\x20\x20\x20'+'\x20//\x200.0\x20if'+'\x20the\x20light'+'\x20doesn\x27t\x20c'+'ast\x20shadow'+'s\x0a\x20\x20\x20\x20floa'+'t\x20shadowIn'+'tensity;\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20vec3\x20om'+'niAtlasVie'+'wport;\x0a\x0a\x20\x20'+'\x20\x20//\x20range'+'\x20of\x20the\x20li'+'ght\x0a\x20\x20\x20\x20fl'+'oat\x20range;'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'hannel\x20mas'+'k\x20-\x20one\x20of'+'\x20the\x20chann'+'els\x20has\x201,'+'\x20the\x20other'+'s\x20are\x200\x0a\x20\x20'+'\x20\x20vec4\x20coo'+'kieChannel'+'Mask;\x0a\x0a\x20\x20\x20'+'\x20//\x20compre'+'ssed\x20biase'+'s,\x20two\x20haf'+'-floats\x20st'+'ored\x20in\x20a\x20'+'float\x0a\x20\x20\x20\x20'+'float\x20bias'+'esData;\x0a\x0a\x20')+('\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20f'+'loat\x20angle'+'sData;\x0a\x0a\x20\x20'+'\x20\x20//\x20spot\x20'+'light\x20inne'+'r\x20and\x20oute'+'r\x20angle\x20co'+'sine\x0a\x20\x20\x20\x20f'+'loat\x20inner'+'ConeAngleC'+'os;\x0a\x20\x20\x20\x20fl'+'oat\x20outerC'+'oneAngleCo'+'s;\x0a\x0a\x20\x20\x20\x20//'+'\x20intensity'+'\x20of\x20the\x20co'+'okie\x0a\x20\x20\x20\x20f'+'loat\x20cooki'+'eIntensity'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20//flo'+'at\x20mask;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Dynamic;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Lightmappe'+'d;\x0a};\x0a\x0a//\x20'+'Note:\x20on\x20s'+'ome\x20device'+'s\x20(tested\x20'+'on\x20Pixel\x203'+'A\x20XL),\x20thi'+'s\x20matrix\x20w'+'hen\x20stored'+'\x20inside\x20th'+'e\x20light\x20st'+'ruct\x20has\x20l'+'ower\x20preci'+'sion\x20compa'+'red\x20to\x0a//\x20'+'when\x20store'+'d\x20outside,'+'\x20so\x20we\x20sto'+'re\x20it\x20outs'+'ide\x20to\x20avo'+'id\x20spot\x20sh'+'adow\x20flick'+'ering.\x20Thi'+'s\x20might\x20ne'+'ed\x20to\x20be\x20d'+'one\x20to\x20oth'+'er\x20/\x20all\x20m'+'embers\x0a//\x20'+'of\x20the\x20str'+'ucture\x20if\x20'+'further\x20si'+'milar\x20issu'+'es\x20are\x20obs'+'erved.\x0a\x0a//'+'\x20shadow\x20(s'+'pot\x20light\x20'+'only)\x20/\x20co'+'okie\x20proje'+'ction\x20matr'+'ix\x0amat4\x20li'+'ghtProject'+'ionMatrix;'+'\x0a\x0avec4\x20sam'+'pleLightTe'+'xtureF(con'+'st\x20Cluster'+'LightData\x20'+'clusterLig'+'htData,\x20in'+'t\x20index)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(lightsT'+'exture,\x20iv'+'ec2(index,'+'\x20clusterLi'+'ghtData.li'+'ghtIndex),'+'\x200);\x0a}\x0a\x0avo'+'id\x20decodeC'+'lusterLigh')+('tCore(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20flo'+'at\x20lightIn'+'dex)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20index\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.li'+'ghtIndex\x20='+'\x20int(light'+'Index);\x0a\x0a\x20'+'\x20\x20\x20//\x20samp'+'le\x20data\x20en'+'coding\x20hal'+'f-float\x20va'+'lues\x20into\x20'+'32bit\x20uint'+'s\x0a\x20\x20\x20\x20vec4'+'\x20halfData\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_COL'+'OR_ANGLES_'+'BIAS});\x0a\x0a\x20'+'\x20\x20\x20//\x20stor'+'e\x20floats\x20w'+'e\x20decode\x20l'+'ater\x20as\x20ne'+'eded\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.angl'+'esData\x20=\x20h'+'alfData.z;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.biasesDa'+'ta\x20=\x20halfD'+'ata.w;\x0a\x0a\x20\x20'+'\x20\x20//\x20decom'+'press\x20colo'+'r\x20half-flo'+'ats\x0a\x20\x20\x20\x20ve'+'c2\x20colorRG'+'\x20=\x20unpackH'+'alf2x16(fl'+'oatBitsToU'+'int(halfDa'+'ta.x));\x0a\x20\x20'+'\x20\x20vec2\x20col'+'orB_\x20=\x20unp'+'ackHalf2x1'+'6(floatBit'+'sToUint(ha'+'lfData.y))'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.color\x20='+'\x20vec3(colo'+'rRG,\x20color'+'B_.x)\x20*\x20{L'+'IGHT_COLOR'+'_DIVIDER};'+'\x0a\x0a\x20\x20\x20\x20//\x20p'+'osition\x20an'+'d\x20range,\x20f'+'ull\x20floats'+'\x0a\x20\x20\x20\x20vec4\x20'+'lightPosRa'+'nge\x20=\x20samp'+'leLightTex'+'tureF(clus'+'terLightDa'+'ta,\x20{CLUST'+'ER_TEXTURE'+'_POSITION_'+'RANGE});\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'position\x20='+'\x20lightPosR'+'ange.xyz;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.range\x20=\x20l'+'ightPosRan'+'ge.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20d'+'irection\x20&'+'\x20flags\x20dat'+'a\x0a\x20\x20\x20\x20vec4'+'\x20lightDir_'+'Flags\x20=\x20sa'+'mpleLightT'+'extureF(cl')+('usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_DIRECTI'+'ON_FLAGS})'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20direction'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.directio'+'n\x20=\x20lightD'+'ir_Flags.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x2032bit\x20fl'+'ags\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20floatBi'+'tsToUint(l'+'ightDir_Fl'+'ags.w);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sSpot\x20=\x20(c'+'lusterLigh'+'tData.flag'+'s\x20&\x20(1u\x20<<'+'\x2030u))\x20!=\x20'+'0u;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.shape'+'\x20=\x20(cluste'+'rLightData'+'.flags\x20>>\x20'+'28u)\x20&\x200x3'+'u;\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.fallof'+'fModeLinea'+'r\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2027u'+'))\x20==\x200u;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.shadowInt'+'ensity\x20=\x20f'+'loat((clus'+'terLightDa'+'ta.flags\x20>'+'>\x200u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eIntensity'+'\x20=\x20float(('+'clusterLig'+'htData.fla'+'gs\x20>>\x208u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sDynamic\x20='+'\x20(clusterL'+'ightData.f'+'lags\x20&\x20(1u'+'\x20<<\x2022u))\x20'+'!=\x200u;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.is'+'Lightmappe'+'d\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2021u'+'))\x20!=\x200u;\x0a'+'}\x0a\x0avoid\x20de'+'codeCluste'+'rLightSpot'+'(inout\x20Clu'+'sterLightD'+'ata\x20cluste'+'rLightData'+')\x20{\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20cos\x20ang'+'les\x0a\x20\x20\x20\x20ve'+'c2\x20angles\x20'+'=\x20unpackHa'+'lf2x16(flo'+'atBitsToUi'+'nt(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight')+('Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20{CLUSTER'+'_TEXTURE_P'+'ROJ_MAT_0}'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_AREA_DA'+'TA_WIDTH})'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20{C'+'LUSTER_TEX'+'TURE_AREA_'+'DATA_HEIGH'+'T}).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20{CL'+'USTER_TEXT'+'URE_PROJ_M'+'AT_0});\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_PRO'+'J_MAT_1});'+'\x0a\x20\x20\x20\x20vec4\x20'+'m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20{CLUSTE'+'R_TEXTURE_'+'PROJ_MAT_2'+'});\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight')+('Data,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'2\x20biases\x20='+'\x20unpackHal'+'f2x16(floa'+'tBitsToUin'+'t(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20extra'+'ct\x20channel'+'\x20mask\x20from'+'\x20flags\x0a\x20\x20\x20'+'\x20uint\x20cook'+'ieFlags\x20=\x20'+'(clusterLi'+'ghtData.fl'+'ags\x20>>\x2023u'+')\x20&\x200x0Fu;'+'\x20\x20//\x204bits'+',\x20each\x20bit'+'\x20enables\x20a'+'\x20channel\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'cookieChan'+'nelMask\x20=\x20'+'vec4(uvec4'+'(cookieFla'+'gs)\x20&\x20uvec'+'4(1u,\x202u,\x20'+'4u,\x208u));\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.cookieCha'+'nnelMask\x20='+'\x20step(1.0,'+'\x20clusterLi'+'ghtData.co'+'okieChanne'+'lMask);\x20\x20/'+'/\x20Normaliz'+'e\x20to\x200.0\x20o'+'r\x201.0\x0a}\x0a\x0av'+'oid\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20Cluster'+'LightData\x20'+'light,\x20\x0a\x20\x20'+'\x20\x20vec3\x20wor'+'ldNormal,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'viewDir,\x20\x0a'+'\x20\x20\x20\x20vec3\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20')+('\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20vec'+'3(1.0);\x0a\x20\x20'+'\x20\x20float\x20di'+'ffuseAtten'+'uation\x20=\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20fallof'+'fAttenuati'+'on\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20omn'+'i\x20part\x20of\x20'+'the\x20light\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ightDirW\x20='+'\x20evalOmniL'+'ight(light'+'.position)'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'ormW\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20')+('else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20=\x20get'+'FalloffLin'+'ear(light.'+'range,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20getFa'+'lloffInvSq'+'uared(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_AREALIGH'+'TS\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shape\x20!='+'\x20{LIGHTSHA'+'PE_PUNCTUA'+'L})\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20hand'+'le\x20light\x20s'+'hape\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getRec'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirW,\x20lig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'DISK})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getD'+'iskLightDi'+'ffuse(worl'+'dNormal,\x20v'+'iewDir,\x20li'+'ghtDirW,\x20l'+'ightDirNor'+'mW)\x20*\x2016.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20g'+'etLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+');\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spot'+'\x20light\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20lightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_COOK'+'IES)\x20||\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x20/\x20cookie\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shadowIn'+'tensity\x20>\x20'+'0.0\x20||\x20lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'ared\x20shado'+'w\x20/\x20cookie'+'\x20data\x20depe'+'nds\x20on\x20lig'+'ht\x20type\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightOmniAt'+'lasViewpor'+'t(light);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowAtlasPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowEdge'+'Pixels\x20=\x20s'+'hadowAtlas'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_COOKIES\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'cookie\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightCook'+'ieData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.isSp'+'ot)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookie2'+'DClustered'+'(TEXTURE_P'+'ASS(cookie'+'AtlasTextu'+'re),\x20light'+'Projection'+'Matrix,\x20vP'+'ositionW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20cookieAt'+'tenuation\x20'+'=\x20getCooki'+'eCubeClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightDirW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask,\x20sh'+'adowTextur'+'eResolutio'+'n,\x20shadowE'+'dgePixels,'+'\x20light.omn'+'iAtlasView'+'port);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20shadow\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shadow'+'Intensity\x20'+'>\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d')+('ecodeClust'+'erLightSha'+'dowData(li'+'ght);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20shadowPa'+'rams\x20=\x20vec'+'4(shadowTe'+'xtureResol'+'ution,\x20lig'+'ht.shadowN'+'ormalBias,'+'\x20light.sha'+'dowBias,\x201'+'.0\x20/\x20light'+'.range);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'isSpot)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ot\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat'+'rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F1)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CF1(SHADOW'+'MAP_PASS(s'+'hadowAtlas'+'Texture),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20de'+'fined(CLUS'+'TER_SHADOW'+'_TYPE_PCF3'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_PASS(sha'+'dowAtlasTe'+'xture),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#elif\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF5('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owCoord,\x20s'+'hadowParam')+('s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCSS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCSS(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20m'+'ix(1.0,\x20sh'+'adow,\x20ligh'+'t.shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20om'+'ni\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20d'+'ir\x20=\x20norma'+'lOffsetPoi'+'ntShadow(s'+'hadowParam'+'s,\x20light.p'+'osition,\x20l'+'ightDirW,\x20'+'lightDirNo'+'rmW,\x20geome'+'tricNormal'+');\x20\x20//\x20nor'+'malBias\x20ad'+'justed\x20for'+'\x20distance\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F1(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF3)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF3(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,')+('\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wOmniClust'+'eredPCF5(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20*=\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20areaDi'+'ffuse\x20=\x20(d'+'iffuseAtte'+'nuation\x20*\x20'+'falloffAtt'+'enuation)\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaDiffuse\x20'+'=\x20mix(area'+'Diffuse,\x20v'+'ec3(0),\x20dL'+'TCSpecFres'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20dif'+'fuse\x20-\x20it\x20'+'does\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20')+('into\x20specu'+'lar\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20a'+'reaDiffuse'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20specular'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20areaLig'+'htSpecular'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'RECT})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecular\x20=\x20g'+'etRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20area'+'LightSpecu'+'lar\x20=\x20getD'+'iskLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x20//\x20sp'+'here\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getSp'+'hereLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp'+'ecFres\x20*\x20a'+'reaLightSp'+'ecular\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x20clear'+'\x20coat\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20areaLigh'+'tSpecularC')+('C;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shape\x20'+'==\x20{LIGHTS'+'HAPE_RECT}'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getRectLig'+'htSpecular'+'(clearcoat'+'_worldNorm'+'al,\x20viewDi'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(light'+'.shape\x20==\x20'+'{LIGHTSHAP'+'E_DISK})\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'arCC\x20=\x20get'+'DiskLightS'+'pecular(cl'+'earcoat_wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x20'+'//\x20sphere\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'rCC\x20=\x20getS'+'phereLight'+'Specular(c'+'learcoat_w'+'orldNormal'+',\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20ccLTCS'+'pecFres\x20*\x20'+'areaLightS'+'pecularCC\x20'+'*\x20falloffA'+'ttenuation'+'\x20*\x20light.c'+'olor\x20\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20{\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'unctualDif'+'fuse\x20=\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'CLUSTER_AR'+'EALIGHTS)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20punctual')+('Diffuse\x20=\x20'+'mix(punctu'+'alDiffuse,'+'\x20vec3(0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20punctu'+'alDiffuse;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20and\x20cle'+'ar\x20coat\x20ar'+'e\x20material'+'\x20settings\x20'+'and\x20get\x20in'+'cluded\x20by\x20'+'a\x20define\x20b'+'ased\x20on\x20th'+'e\x20material'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20halfD'+'ir\x20=\x20norma'+'lize(-ligh'+'tDirNormW\x20'+'+\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htSpecular'+'(halfDir,\x20'+'reflection'+'Dir,\x20world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'halfDir,\x20c'+'learcoatRe'+'flectionDi'+'r,\x20clearco'+'at_worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'clearcoat_'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20g'+'etFresnelC'+'C(dot(view'+'Dir,\x20halfD'+'ir));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20getLi'+'ghtSpecula'+'r(halfDir,'+'\x20clearcoat'+'Reflection'+'Dir,\x20clear'+'coat_world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec')+('ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNormW,'+'\x20sheen_glo'+'ss)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20Wri'+'te\x20to\x20glob'+'al\x20attenua'+'tion\x20value'+'s\x20(for\x20lig'+'htmapper)\x0a'+'\x20\x20\x20\x20dAtten'+'\x20=\x20falloff'+'Attenuatio'+'n;\x0a\x20\x20\x20\x20dLi'+'ghtDirNorm'+'W\x20=\x20lightD'+'irNormW;\x0a}'+'\x0a\x0avoid\x20eva'+'luateClust'+'erLight(\x0a\x20'+'\x20\x20\x20float\x20l'+'ightIndex,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20worldNorm'+'al,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20viewDi'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20reflect'+'ionDir,\x20\x0a#'+'if\x20defined'+'(LIT_CLEAR'+'COAT)\x0a\x20\x20\x20\x20'+'vec3\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'float\x20glos'+'s,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20vec3\x20geom'+'etricNorma'+'l,\x20\x0a\x20\x20\x20\x20ma'+'t3\x20tbn,\x20\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20ve'+'c3\x20clearco'+'at_worldNo'+'rmal,\x0a\x20\x20\x20\x20'+'float\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20flo'+'at\x20sheen_g'+'loss,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escence_in'+'tensity\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'decode\x20cor'+'e\x20light\x20da'+'ta\x20from\x20te'+'xtures\x0a\x20\x20\x20'+'\x20ClusterLi'+'ghtData\x20cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(cluster'+'LightData,'+'\x20lightInde'+'x);\x0a\x0a\x20\x20\x20\x20/'+'/\x20evaluate'+'\x20light\x20if\x20'+'it\x20uses\x20ac'+'cepted\x20lig'+'ht\x20mask\x0a\x20\x20'+'\x20\x20#ifdef\x20C')+('LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20bool\x20'+'acceptLigh'+'tMask\x20=\x20cl'+'usterLight'+'Data.isDyn'+'amic;\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bool\x20a'+'cceptLight'+'Mask\x20=\x20clu'+'sterLightD'+'ata.isLigh'+'tmapped;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20if\x20(a'+'cceptLight'+'Mask)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a#end')+('if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l'+'ightCellIn')+('dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20r'+'ed\x20channel'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20l'+'ightIndex\x20'+'=\x20texelFet'+'ch(cluster'+'WorldTextu'+'re,\x20ivec2('+'int(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20clusterV'+'),\x200).x;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'tIndex\x20<=\x20'+'0.0)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20break;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20evaluateC'+'lusterLigh'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightIndex\x20'+'*\x20255.0,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel,\x0a#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cl'+'earcoat_gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sheen_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),m1='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion)\x20*\x20cl'+'earcoatSpe'+'cularity;\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20r'+'et;\x0a}\x0a',_1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}\x0a',g1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}\x0a',S1='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}\x0a',y1='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),v1='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20envBoxM'+'in;\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20envBoxMax'+';\x0a#endif\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_CUB'+'EMAP_PROJE'+'CTION\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20c'+'ubeMapRota'+'te(nrdir);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20LIT_CUBEM'+'AP_PROJECT'+'ION\x20==\x20BOX'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'nrdir\x20=\x20cu'+'beMapRotat'+'e(nrdir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20rbmax\x20'+'=\x20(envBoxM'+'ax\x20-\x20vPosi'+'tionW)\x20/\x20n'+'rdir;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20rbmin'+'max\x20=\x20mix('+'rbmin,\x20rbm'+'ax,\x20vec3(g'+'reaterThan'+'(nrdir,\x20ve'+'c3(0.0))))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20fa\x20='+'\x20min(min(r'+'bminmax.x,'+'\x20rbminmax.'+'y),\x20rbminm'+'ax.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20posonbox\x20'+'=\x20vPositio'+'nW\x20+\x20nrdir'+'\x20*\x20fa;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envBoxPos\x20'+'=\x20(envBoxM'+'in\x20+\x20envBo'+'xMax)\x20*\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20no'+'rmalize(po'+'sonbox\x20-\x20e'+'nvBoxPos);'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',x1='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',T1='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',w1='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',E1='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'Z(vec4\x20nma'+'p)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20nmap'+'.xyz\x20*\x202.0'+'\x20-\x201.0;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'(vec4\x20nmap'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20normal;'+'\x0a\x20\x20\x20\x20norma'+'l.xy\x20=\x20nma'+'p.wy\x20*\x202.0'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20normal.z'+'\x20=\x20sqrt(1.'+'0\x20-\x20clamp('+'dot(normal'+'.xy,\x20norma'+'l.xy),\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20return\x20'+'normal;\x0a}\x0a'+'\x0a#endif\x0a',b1='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0avec3\x20'+'detailMode'+'_mul(vec3\x20'+'c1,\x20vec3\x20c'+'2)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20c1\x20*'+'\x20c2;\x0a}\x0a\x0ave'+'c3\x20detailM'+'ode_add(ve'+'c3\x20c1,\x20vec'+'3\x20c2)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'1\x20+\x20c2;\x0a}\x0a'+'\x0a//\x20https:'+'//en.wikip'+'edia.org/w'+'iki/Blend_'+'modes#Scre'+'en\x0avec3\x20de'+'tailMode_s'+'creen(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x201.0'+'\x20-\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2);\x0a}\x0a\x0a/'+'/\x20https://'+'en.wikiped'+'ia.org/wik'+'i/Blend_mo'+'des#Overla'+'y\x0avec3\x20det'+'ailMode_ov'+'erlay(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(1.0\x20-\x202.0'+'\x20*\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2),\x202.0\x20'+'*\x20c1\x20*\x20c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a\x0a'+'#endif\x0a',A1='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0a#ifdef\x20'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'detailMode'+'sPS\x22\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_DIFFUS'+'E_TEXTURE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20albedoT'+'exture\x20=\x20{'+'STD_DIFFUS'+'E_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_DIF'+'FUSE_TEXTU'+'RE_NAME},\x20'+'{STD_DIFFU'+'SE_TEXTURE'+'_UV},\x20text'+'ureBias)).'+'{STD_DIFFU'+'SE_TEXTURE'+'_CHANNEL};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSEDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'albedoDeta'+'il\x20=\x20{STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_DECODE}('+'texture2DB'+'ias({STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'DETAIL_TEX'+'TURE_UV},\x20'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20*=\x20albe'+'doTexture;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSE_VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAlbedo\x20*'+'=\x20gammaCor'+'rectInput('+'saturate(v'+'VertexColo'+'r.{STD_DIF'+'FUSE_VERTE'+'X_CHANNEL}'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',C1='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_TEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20{STD_EMIS'+'SIVE_TEXTU'+'RE_DECODE}'+'(texture2D'+'Bias({STD_'+'EMISSIVE_T'+'EXTURE_NAM'+'E},\x20{STD_E'+'MISSIVE_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'EMISSIVE_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_EMISSI'+'VE_VERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.{ST'+'D_EMISSIVE'+'_VERTEX_CH'+'ANNEL}));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',P1='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),M1='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',D1='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20floa'+'t\x20atlasSiz'+'e\x20=\x20512.0;'+'\x0aconst\x20flo'+'at\x20seamSiz'+'e\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0avec2\x20ma'+'pUv(vec2\x20u'+'v,\x20vec4\x20re'+'ct)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(mix(rect'+'.x\x20+\x20seamS'+'ize,\x20rect.'+'x\x20+\x20rect.z'+'\x20-\x20seamSiz'+'e,\x20uv.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mix('+'rect.y\x20+\x20s'+'eamSize,\x20r'+'ect.y\x20+\x20re'+'ct.w\x20-\x20sea'+'mSize,\x20uv.'+'y));\x0a}\x0a\x0a//'+'\x20map\x20a\x20nor'+'malized\x20eq'+'uirect\x20UV\x20'+'and\x20roughn'+'ess\x20level\x20'+'to\x20the\x20cor'+'rect\x20atlas'+'\x20rect.\x0avec'+'2\x20mapRough'+'nessUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'0,\x201.0\x20-\x20t'+',\x20t,\x20t\x20*\x200'+'.5));\x0a}\x0a\x0a/'+'/\x20map\x20shin'+'y\x20level\x20UV'+'\x0avec2\x20mapS'+'hinyUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'1.0\x20-\x20t,\x201'+'.0\x20-\x20t,\x20t,'+'\x20t\x20*\x200.5))'+';\x0a}\x0a\x0a#endi'+'f\x0a',I1='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20float\x20sky'+'boxIntensi'+'ty;\x0a#endif'+'\x0a\x0avec3\x20pro'+'cessEnviro'+'nment(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20skybo'+'xIntensity'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',L1='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(satura'+'te(1.0\x20-\x20s'+'quare(sqrD'+'ist\x20*\x20squa'+'re(invRadi'+'us))));\x0a}\x0a'+'\x0afloat\x20get'+'FalloffInv'+'Squared(fl'+'oat\x20lightR'+'adius,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20sqrDis'+'t\x20=\x20dot(li'+'ghtDir,\x20li'+'ghtDir);\x0a\x20'+'\x20\x20\x20float\x20f'+'alloff\x20=\x201'+'.0\x20/\x20(sqrD'+'ist\x20+\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20invRadiu'+'s\x20=\x201.0\x20/\x20'+'lightRadiu'+'s;\x0a\x0a\x20\x20\x20\x20fa'+'lloff\x20*=\x201'+'6.0;\x0a\x20\x20\x20\x20f'+'alloff\x20*=\x20'+'square(sat'+'urate(1.0\x20'+'-\x20square(s'+'qrDist\x20*\x20s'+'quare(invR'+'adius))));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20falloff'+';\x0a}\x0a',R1='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',O1='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0av'+'ec4\x20float2'+'vec4(float'+'\x20value)\x20{\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(CAPS'+'_TEXTURE_F'+'LOAT_RENDE'+'RABLE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4(val'+'ue,\x201.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20float'+'2uint(valu'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0a#e'+'ndif\x20//\x20FL'+'OAT_AS_UIN'+'T\x0a',F1='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',N1='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20saturate'+'(cosTheta)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20satu'+'rate(cosTh'+'eta),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',k1='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x200.5;\x0a}\x0a',U1='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',B1='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_GLO'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_GLOSS_'+'TEXTURE\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20*=\x20tex'+'ture2DBias'+'({STD_GLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_GLOSS_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_G'+'LOSS_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_INVE'+'RT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x201.0\x20-\x20dGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20+='+'\x200.0000001'+';\x0a}\x0a',z1='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20#'+'if\x20WEBGPU\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ce'+'nterProj.z'+'\x20=\x20clamp(c'+'enterProj.'+'z,\x200,\x20abs('+'centerProj'+'.w));\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20center'+'Proj.z\x20=\x20c'+'lamp(cente'+'rProj.z,\x20-'+'abs(center'+'Proj.w),\x20a'+'bs(centerP'+'roj.w));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20cente'+'r.view\x20=\x20c'+'enterView.'+'xyz\x20/\x20cent'+'erView.w;\x0a'+'\x20\x20\x20\x20center'+'.proj\x20=\x20ce'+'nterProj;\x0a'+'\x20\x20\x20\x20center'+'.projMat00'+'\x20=\x20matrix_'+'projection'+'[0][0];\x0a\x20\x20'+'\x20\x20center.m'+'odelView\x20='+'\x20modelView'+';\x0a\x20\x20\x20\x20retu'+'rn\x20true;\x0a}'+'\x0a',V1='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0a//\x20:\x200'+'.0\x20~\x201.0\x20'+'\x0afl'+'oat\x20comput'+'eAlpha(flo'+'at\x20muT,\x20fl'+'oat\x20uTime,'+'\x20float\x20uFa'+'deSpeed,\x20f'+'loat\x20life)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20age\x20=\x20('+'uTime\x20-\x20mu'+'T)\x20*\x202.0;\x20'+'//\x20'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'muT\x20>\x20uTim'+'e)\x20return\x20'+'0.0;\x0a\x0a\x20\x20\x20\x20'+'//\x20---\x20'+'\x20life\x20'+'---\x0a\x20\x20\x20\x20fl'+'oat\x20linear'+'Fade\x20=\x201.0'+'\x20-\x20age\x20/\x20l'+'ife;\x0a\x20\x20\x20\x20/'+'/\x20---\x20'+'\x20uFadeS'+'peed\x20---\x0a\x20'+'\x20\x20\x20float\x20e'+'xpFade\x20=\x20e'+'xp(-age\x20*\x20'+'uFadeSpeed'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20cl'+'amp(linear'+'Fade,\x200.0,'+'\x201.0);\x20\x0a\x20\x20'+'\x20\x20return\x20c'+'lamp(expFa'+'de,\x200.0,\x201'+'.0);\x0a}\x0a\x0a\x0av'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20uTime,\x20'+'bool\x20plusA'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'color\x20=\x20te'+'xelFetch(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a\x20\x20\x20\x20'+'#ifdef\x20IS_'+'4D\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20tDat'+'a\x20=\x20texelF'+'etch(trans'+'formLifecy'+'cle,\x20sourc'+'e.uv,\x200).x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20muT'+'\x20=\x20tData.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20saveA'+'\x20=\x20pointCl'+'oudModeEna'+'bled\x20==\x201\x20'+'?\x201.0\x20:\x20co'+'lor.a;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20alpha\x20=\x20s'+'aveA;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(uOp'+'enAnim\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20alp'+'ha\x20=\x20alpha'+'\x20*\x20(muT\x20-\x20'+'uTime\x20+\x200.'+'05);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20age\x20=\x20u'+'Time\x20-\x20muT'+';\x20\x20\x20\x20//\x20'+'\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20uFad'+'eSpeed\x20=\x202'+('.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20life\x20=\x200'+'.1;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20alph'+'a\x20=\x20comput'+'eAlpha(muT'+',\x20uTime,\x20u'+'FadeSpeed,'+'\x20life);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'alpha\x20*=\x20a'+'lpha;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor.a\x20=\x20p'+'lusA\x20?\x20alp'+'ha\x20:\x20saveA'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20ret'+'urn\x20color;'+'\x0a}\x0a\x0a'),G1='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ement\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20aaF'+'actor;\x20//\x20'+'for\x20scenes'+'\x20generated'+'\x20with\x20anti'+'aliasing\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20vec2\x20'+'v;\x0a\x20\x20\x20\x20flo'+'at\x20dlen;\x0a\x20'+'\x20\x20\x20vec2\x20cS'+'ize;\x0a\x20\x20\x20\x20v'+'ec2\x20cUV;\x0a}'+';\x0a\x0a#includ'+'e\x20\x22gsplatE'+'valSHVS\x22\x0a#'+'include\x20\x22g'+'splatQuatT'+'oMat3VS\x22\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+('D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_COEFFS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x20='+'=\x20true\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22gsplatSog'+'sDataVS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSo'+'gsSHVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0avoi'+'d\x20clipCorn'+'er(inout\x20S'+'platCorner'+'\x20corner,\x20f'+'loat\x20alpha'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20clip\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20255.'+'0\x20/\x20alpha)'+')\x20/\x202.0);\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20*='+'\x20clip;\x0a\x20\x20\x20'+'\x20corner.uv'+'\x20*=\x20clip;\x0a'+'}\x0a'),H1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{')+('\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec'+'3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat')+('a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex'+'ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu')+('nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),W1='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),$1='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20S'+'H_COEFFS\x203'+'\x0a\x20\x20\x20\x20#elif'+'\x20SH_BANDS\x20'+'==\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20SH_COEFFS'+'\x208\x0a\x20\x20\x20\x20#el'+'if\x20SH_BAND'+'S\x20==\x203\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20SH_COEF'+'FS\x2015\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20SH_COEFF'+'S\x200\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x200\x0a\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20SH_C1\x20'+'=\x200.488602'+'5119029199'+'f;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x201\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20f'+'loat\x20SH_C2'+'_0\x20=\x201.092'+'5484305920'+'792f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'2_1\x20=\x20-1.0'+'9254843059'+'20792f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C2_2\x20=\x200.'+'3153915652'+'5252005f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C2_3\x20=\x20'+'-1.0925484'+'305920792f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'const\x20floa'+'t\x20SH_C2_4\x20'+'=\x200.546274'+'2152960396'+'f;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x202\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'3_0\x20=\x20-0.5'+'9004358992'+'66435f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_1\x20=\x202.'+'8906114426'+'40554f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_2\x20=\x20-0'+'.457045799'+'4644658f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C3_3\x20=\x20'+'0.37317633'+'25901154f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20float'+'\x20SH_C3_4\x20='+'\x20-0.457045'+'7994644658'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_5'+'\x20=\x201.44530'+'5721320277'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_6'+'\x20=\x20-0.5900'+'4358992664'+'35f;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+('ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'\x20\x20\x20\x20vec3\x20e'+'valSH(in\x20v'+'ec3\x20sh[SH_'+'COEFFS],\x20i'+'n\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20dir.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20y\x20=\x20dir'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201st\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20resul'+'t\x20=\x20SH_C1\x20'+'*\x20(-sh[0]\x20'+'*\x20y\x20+\x20sh[1'+']\x20*\x20z\x20-\x20sh'+'[2]\x20*\x20x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x201\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x202nd\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xx\x20=\x20x\x20*\x20x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'zz\x20=\x20z\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yz\x20=\x20y\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xz\x20=\x20x\x20*\x20z'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[3]\x20*\x20('+'SH_C2_0\x20*\x20'+'xy)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[4]\x20*\x20'+'(SH_C2_1\x20*'+'\x20yz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[5]\x20*'+'\x20(SH_C2_2\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x20xx\x20-\x20y'+'y))\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[6]\x20*\x20'+'(SH_C2_3\x20*'+'\x20xz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20*'+'\x20(SH_C2_4\x20'+'*\x20(xx\x20-\x20yy'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'+=\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20')+('xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20#endif\x0a'),X1='\x0amat3\x20quat'+'ToMat3(vec'+'4\x20R)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20R2\x20='+'\x20R\x20+\x20R;\x0a\x20\x20'+'\x20\x20float\x20X\x20'+'=\x20R2.x\x20*\x20R'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20Y\x20\x20=\x20R2'+'.y\x20*\x20R;\x0a\x20\x20'+'\x20\x20vec4\x20Z\x20\x20'+'=\x20R2.z\x20*\x20R'+';\x0a\x20\x20\x20\x20floa'+'t\x20W\x20=\x20R2.w'+'\x20*\x20R.w;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x201.0\x20-\x20'+'Z.z\x20-\x20W,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20Y.z\x20+\x20X'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20Y.z\x20-\x20X,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x201.'+'0\x20-\x20Y.y\x20-\x20'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20+\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20Y.w\x20+\x20Z.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20-\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',q1='\x0auniform\x20m'+'ediump\x20sam'+'pler2D\x20sh0'+';\x0a\x0auniform'+'\x20vec4\x20sh0_'+'mins;\x0aunif'+'orm\x20vec4\x20s'+'h0_maxs;\x0a\x0a'+'float\x20SH_C'+'0\x20=\x200.2820'+'9479177387'+'814;\x0a\x0avec4'+'\x20readColor'+'(in\x20SplatS'+'ource\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20clr\x20='+'\x20mix(sh0_m'+'ins,\x20sh0_m'+'axs,\x20texel'+'Fetch(sh0,'+'\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(vec3(0.'+'5)\x20+\x20clr.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'clr.w)));\x0a'+'}\x0a',j1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0a\x0auniform\x20'+'vec3\x20means'+'_mins;\x0auni'+'form\x20vec3\x20'+'means_maxs'+';\x0a\x0auniform'+'\x20vec3\x20scal'+'es_mins;\x0au'+'niform\x20vec'+'3\x20scales_m'+'axs;\x0a\x0avec4'+'\x20unpackU32'+'(uint\x20v)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((v\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((v\x20>>'+'\x2016u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float((v'+'\x20>>\x208u)\x20&\x20'+'0xFFu)\x20/\x202'+'55.0,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float('+'v\x20&\x200xFFu)'+'\x20/\x20255.0\x0a\x20'+'\x20\x20\x20);\x0a}\x0a\x0au'+'vec4\x20packe'+'dSample;\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20th'+'e\x20packed\x20t'+'exture\x20sam'+'ple\x0a\x20\x20\x20\x20pa'+'ckedSample'+'\x20=\x20texelFe'+'tch(packed'+'Texture,\x20s'+'ource.uv,\x20'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20l\x20=\x20un'+'packU32(pa'+'ckedSample'+'.x).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20u\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20n\x20=\x20(l\x20*'+'\x20255.0\x20+\x20u'+'\x20*\x20255.0\x20*'+'\x20256.0)\x20/\x20'+'65535.0;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20mix(mean'+'s_mins,\x20me'+'ans_maxs,\x20'+'n);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20sign'+'(v)\x20*\x20(exp'+'(abs(v))\x20-'+'\x201.0);\x0a}\x0a\x0a'+'const\x20floa'+'t\x20norm\x20=\x202'+'.0\x20/\x20sqrt('+'2.0);\x0a\x0a//\x20'+'sample\x20cov'+'ariance\x20ve'+'ctors\x0avoid'+'\x20readCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'qdata\x20=\x20un'+'packU32(pa'+'ckedSample'+'.z);\x0a\x20\x20\x20\x20v'+'ec3\x20sdata\x20'+('=\x20unpackU3'+'2(packedSa'+'mple.w).xy'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20abc\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20f'+'loat\x20d\x20=\x20s'+'qrt(max(0.'+'0,\x201.0\x20-\x20d'+'ot(abc,\x20ab'+'c)));\x0a\x0a\x20\x20\x20'+'\x20uint\x20mode'+'\x20=\x20uint(qd'+'ata.w\x20*\x2025'+'5.0\x20+\x200.5)'+'\x20-\x20252u;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20q'+'uat\x20=\x20(mod'+'e\x20==\x200u)\x20?'+'\x20vec4(d,\x20a'+'bc)\x20:\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20((mode\x20='+'=\x201u)\x20?\x20ve'+'c4(abc.x,\x20'+'d,\x20abc.yz)'+'\x20:\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'(mode\x20==\x202'+'u)\x20?\x20vec4('+'abc.xy,\x20d,'+'\x20abc.z)\x20:\x20'+'vec4(abc,\x20'+'d)));\x0a\x0a\x20\x20\x20'+'\x20mat3\x20rot\x20'+'=\x20quatToMa'+'t3(quat);\x0a'+'\x20\x20\x20\x20vec3\x20s'+'cale\x20=\x20exp'+'(mix(scale'+'s_mins,\x20sc'+'ales_maxs,'+'\x20sdata));\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a'),Y1='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20sh_ce'+'ntroids;\x0a\x0a'+'uniform\x20fl'+'oat\x20shN_mi'+'ns;\x0aunifor'+'m\x20float\x20sh'+'N_maxs;\x0a\x0a/'+'/\x20To\x20suppo'+'rt\x20each\x20SH'+'\x20degree,\x20r'+'eadSHData\x20'+'is\x20overloa'+'ded\x20based\x20'+'on\x20the\x20SH\x20'+'vector\x20dep'+'th\x20\x0a\x0avoid\x20'+'readSHData'+'(in\x20SplatS'+'ource\x20sour'+'ce,\x20out\x20ve'+'c3\x20sh[SH_C'+'OEFFS],\x20ou'+'t\x20float\x20sc'+'ale)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'ivec2\x20t\x20=\x20'+'ivec2(pack'+'edSample.x'+'\x20&\x20255u,\x20p'+'ackedSampl'+'e.y\x20&\x20255u'+');\x0a\x20\x20\x20\x20int'+'\x20n\x20=\x20t.x\x20+'+'\x20t.y\x20*\x20256'+';\x0a\x20\x20\x20\x20int\x20'+'u\x20=\x20(n\x20%\x206'+'4)\x20*\x20SH_CO'+'EFFS;\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20n\x20'+'/\x2064;\x0a\x0a\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20offset'+'\x20into\x20the\x20'+'centroids\x20'+'texture\x20an'+'d\x20read\x20con'+'secutive\x20t'+'exels\x0a\x20\x20\x20\x20'+'for\x20(int\x20i'+'\x20=\x200;\x20i\x20<\x20'+'SH_COEFFS;'+'\x20i++)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[i'+']\x20=\x20mix(ve'+'c3(shN_min'+'s),\x20vec3(s'+'hN_maxs),\x20'+'texelFetch'+'(sh_centro'+'ids,\x20ivec2'+'(u\x20+\x20i,\x20v)'+',\x200).xyz);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20scale\x20=\x20'+'1.0;\x0a}\x0a',K1='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0auniform\x20'+'float\x20rend'+'erSpace;\x0au'+'niform\x20flo'+'at\x20endSpac'+'e;\x0auniform'+'\x20int\x20uShap'+'eN;\x0a\x0a//\x20ca'+'lculate\x20th'+'e\x20clip-spa'+'ce\x20offset\x20'+'from\x20the\x20c'+'enter\x20for\x20'+'this\x20gauss'+'ian\x0abool\x20i'+'nitCorner('+'SplatSourc'+'e\x20source,\x20'+'SplatCente'+'r\x20center,\x20'+'out\x20SplatC'+'orner\x20corn'+'er,\x20int\x20po'+'intCloudMo'+'deEnabled)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'get\x20covari'+'ance\x0a\x20\x20\x20\x20v'+'ec3\x20covA,\x20'+'covB;\x0a\x20\x20\x20\x20'+'readCovari'+'ance(sourc'+'e,\x20covA,\x20c'+'ovB);\x0a\x0a\x20\x20\x20'+'\x20mat3\x20Vrk\x20'+'=\x20mat3(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.x,\x20covA.y'+',\x20covA.z,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.y,\x20covB'+'.x,\x20covB.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'covA.z,\x20co'+'vB.y,\x20covB'+'.z\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20focal\x20=\x20v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'v\x20=\x20camera'+'_params.w\x20'+'==\x201.0\x20?\x20v'+'ec3(0.0,\x200'+'.0,\x201.0)\x20:'+'\x20center.vi'+'ew.xyz;\x0a\x20\x20'+'\x20\x20float\x20J1'+'\x20=\x20focal\x20/'+'\x20v.z;\x0a\x20\x20\x20\x20'+'vec2\x20J2\x20=\x20'+'-J1\x20/\x20v.z\x20'+'*\x20v.xy;\x0a\x20\x20'+'\x20\x20mat3\x20J\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20J1,\x200'+'.0,\x20J2.x,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x200.'+'0,\x20J1,\x20J2.'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.0,\x200.0,'+'\x200.0\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20mat'+'3\x20W\x20=\x20tran'+'spose(mat3'+'(center.mo'+'delView));'+'\x0a\x20\x20\x20\x20mat3\x20'+'T\x20=\x20W\x20*\x20J;'+'\x0a\x20\x20\x20\x20mat3\x20'+'cov\x20=\x20tran'+'spose(T)\x20*'+('\x20Vrk\x20*\x20T;\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'calculate\x20'+'AA\x20factor\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20detOri'+'g\x20=\x20cov[0]'+'[0]\x20*\x20cov['+'1][1]\x20-\x20co'+'v[0][1]\x20*\x20'+'cov[0][1];'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20detBl'+'ur\x20=\x20(cov['+'0][0]\x20+\x200.'+'3)\x20*\x20(cov['+'1][1]\x20+\x200.'+'3)\x20-\x20cov[0'+'][1]\x20*\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20corn'+'er.aaFacto'+'r\x20=\x20sqrt(m'+'ax(detOrig'+'\x20/\x20detBlur'+',\x200.0));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20diagonal1'+'\x20=\x20cov[0]['+'0]\x20+\x200.3;\x0a'+'\x20\x20\x20\x20float\x20'+'offDiagona'+'l\x20=\x20cov[0]'+'[1];\x0a\x20\x20\x20\x20f'+'loat\x20diago'+'nal2\x20=\x20cov'+'[1][1]\x20+\x200'+'.3;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mid\x20='+'\x200.5\x20*\x20(di'+'agonal1\x20+\x20'+'diagonal2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20radius\x20='+'\x20length(ve'+'c2((diagon'+'al1\x20-\x20diag'+'onal2)\x20/\x202'+'.0,\x20offDia'+'gonal));\x0a\x20'+'\x20\x20\x20float\x20l'+'ambda1\x20=\x20m'+'id\x20+\x20radiu'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20lambda2'+'\x20=\x20max(mid'+'\x20-\x20radius,'+'\x200.1);\x0a\x20\x20\x20'+'\x20if\x20(point'+'CloudModeE'+'nabled\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20l'+'ambda1\x20=\x20l'+'ambda2\x20=\x202'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Us'+'e\x20the\x20smal'+'ler\x20viewpo'+'rt\x20dimensi'+'on\x20to\x20limi'+'t\x20the\x20kern'+'el\x20size\x20re'+'lative\x20to\x20'+'the\x20screen'+'\x20resolutio'+'n.\x0a\x20\x20\x20\x20flo'+'at\x20vmin\x20=\x20'+'min(1024.0'+',\x20min(view'+'port.x,\x20vi'+'ewport.y))'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20l1\x20=\x202.'+'0\x20*\x20min(sq'+'rt(2.0\x20*\x20l'+'ambda1),\x20v'+'min);\x0a\x20\x20\x20\x20'+'float\x20l2\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda2)'+',\x20vmin);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20')+('\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec2\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'viewport;\x0a'+'\x0a\x20\x20\x20\x20//\x20cu'+'ll\x20against'+'\x20frustum\x20x'+'/y\x20axes\x0a\x20\x20'+'\x20\x20if\x20(any('+'greaterTha'+'n(abs(cent'+'er.proj.xy'+')\x20-\x20vec2(m'+'ax(l1,\x20l2)'+')\x20*\x20c,\x20cen'+'ter.proj.w'+'w)))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20false;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec2\x20diago'+'nalVector\x20'+'=\x20normaliz'+'e(vec2(off'+'Diagonal,\x20'+'lambda1\x20-\x20'+'diagonal1)'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20bool\x20inRe'+'nderSpace\x20'+'=\x20(center.'+'view.x\x20>=\x20'+'-renderSpa'+'ce\x20&&\x20cent'+'er.view.x\x20'+'<=\x20renderS'+'pace)\x20&&\x20('+'center.vie'+'w.y\x20>=\x20-re'+'nderSpace\x20'+'&&\x20center.'+'view.y\x20<=\x20'+'renderSpac'+'e);\x0a\x20\x20\x20\x20bo'+'ol\x20openRen'+'derAnim\x20=\x20'+'renderSpac'+'e\x20<\x20endSpa'+'ce;\x0a\x20\x20\x20\x20bo'+'ol\x20inRende'+'r\x20=\x20render'+'Space\x20>=\x20e'+'ndSpace\x20||'+'\x20inRenderS'+'pace\x20||\x20po'+'intCloudMo'+'deEnabled\x20'+'==\x201;\x0a\x20\x20\x20\x20'+'if(!openRe'+'nderAnim\x20&'+'&\x20uSplatSc'+'ale\x20>\x200.0\x20'+'&&\x20uSplatS'+'cale\x20<=\x205.'+'0){\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale\x20=\x20'+'uSplatScal'+'e;\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(in'+'Render){\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(openR'+'enderAnim)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'scale\x20=\x20in'+'RenderSpac'+'e\x20?\x20uSplat'+'Scale\x20:\x200.'+'1;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20vec2\x20v1'+'\x20=\x20scale\x20*'+'\x20l1\x20*\x20diag'+'onalVector'+';\x0a\x20\x20\x20\x20vec2'+'\x20v2\x20=\x20scal'+'e\x20*\x20l2\x20*\x20v'+'ec2(diagon'+'alVector.y'+',\x20-diagona'+'lVector.x)')+(';\x0a\x0a\x20\x20\x20\x20cor'+'ner.offset'+'\x20=\x20(source'+'.cornerUV.'+'x\x20*\x20v1\x20+\x20s'+'ource.corn'+'erUV.y\x20*\x20v'+'2)\x20*\x20c;\x0a\x20\x20'+'\x20\x20//\x20corne'+'r.uv\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20if\x20(uSh'+'apeN\x20<\x203)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'corner.uv\x20'+'=\x20source.c'+'ornerUV;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'corner.cSi'+'ze\x20=\x20(v1\x20+'+'\x20v2)\x20*\x20c;\x0a'+'\x20\x20\x20\x20corner'+'.cUV\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),Z1='\x0a\x0auniform\x20'+'highp\x20samp'+'ler2D\x20tran'+'sformA;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20transfor'+'mB;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformR;\x0a'+'\x0a#ifdef\x20IS'+'_4D\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformMot'+'ion;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformLi'+'fecycle;\x0a#'+'endif\x0a\x0a//\x20'+'work\x20value'+'s\x0a//\x20uint\x20'+'tAw;\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20retu'+'rn\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a}\x0a\x0ama'+'t3\x20quatToM'+'at3v2(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.w;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(vec3\x20pack'+'ed)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(packed.x'+'yz,\x20sqrt(m'+'ax(0.0,\x201.'+'0\x20-\x20dot(pa'+'cked,\x20pack'+'ed))));\x0a}\x0a'+'\x0a//\x20sample'+'\x20covarianc'+'e\x20vectors\x0a'+'void\x20readC'+'ovariance('+'in\x20SplatSo'+'urce\x20sourc'+'e,\x20out\x20vec'+'3\x20covA,\x20ou'+'t\x20vec3\x20cov'+'B)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3v'+'2(unpackRo'+'tation(tR)'+');\x0a\x20\x20\x20\x20vec'+'3\x20scale\x20=\x20'+'tB.xyz;\x0a\x0a\x20'+'\x20\x20\x20//\x20M\x20=\x20'+'S\x20*\x20R\x0a\x20\x20\x20\x20'+'mat3\x20M\x20=\x20t'+'ranspose(m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.x'+'\x20*\x20rot[0],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.y\x20*\x20r'+'ot[1],\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.z\x20*\x20rot[2'+']\x0a\x20\x20\x20\x20));\x0a'+'\x0a\x20\x20\x20\x20covA\x20'+'=\x20vec3(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20covB\x20=\x20'+'vec3(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a\x0a'+'//\x20sample\x20'+'4D\x20covaria'+'nce\x20vector'+'s\x0avoid\x20rea'+'dFTGSCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB,ou'+'t\x20vec4\x20cov'+'ariance4D)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tB\x20=\x20tex'+'elFetch(tr'+'ansformB,\x20'+'source.uv,')+('\x200);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20tR\x20=\x20'+'texelFetch'+'(transform'+'R,\x20source.'+'uv,\x200).xyz'+';\x0a\x20\x20\x20\x20mat3'+'\x20rot\x20=\x20qua'+'tToMat3v2('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormLifecyc'+'le,\x20source'+'.uv,\x200).xy'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'muT\x20=\x20tDat'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20t'+'Scale\x20=\x20tD'+'ata.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20margi'+'nal\x20=\x20comp'+'uteMargina'+'lT(time,\x20m'+'uT,\x20tScale'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20re'+'turn\x20margi'+'nal;\x0a}\x0a\x0ave'+'c3\x20readCen'+'ter4D(Spla'+'tSource\x20so'+'urce,\x20floa'+'t\x20time)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20if(m'+'uT\x20>\x20-5.0)'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20movin'+'gSpeed\x20=\x20t')+('exelFetch('+'transformM'+'otion,\x20sou'+'rce.uv,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'platOffset'+'\x20=\x20movingS'+'peed\x20*\x20(ti'+'me\x20-\x20muT);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'platCenter'+'\x20+=\x20splatO'+'ffset;\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20spla'+'tCenter;\x0a}'+'\x0a'),Q1='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',J1='\x0auniform\x20i'+'nt\x20mode;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x200:\x20c'+'enters,\x201:'+'\x20rings\x0auni'+'form\x20float'+'\x20ringSize;'+'\x0auniform\x20i'+'nt\x20uShapeN'+';\x0a\x0a#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bay'+'erPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'opacityDit'+'herPS\x22\x0a\x20\x20\x20'+'\x20varying\x20f'+'loat\x20id;\x0a#'+'endif\x0a\x0a#if'+'def\x20PICK_P'+'ASS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pi'+'ckPS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20alphaC'+'lip;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20vLinearDe'+'pth;\x0a\x20\x20\x20\x20#'+'include\x20\x22f'+'loatAsUint'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20Fast\x20'+'approximat'+'e\x20e^x\x20base'+'d\x20on\x20https'+'://nic.sch'+'raudolph.o'+'rg/pubs/Sc'+'hraudolph9'+'9.pdf\x0acons'+'t\x20float\x20\x20E'+'XP_A\x20\x20\x20\x20\x20\x20'+'=\x2012102203'+'.0;\x20\x20\x20//\x20'+'\x202^23\x20/\x20ln'+'(2)\x0aconst\x20'+'int\x20\x20\x20\x20EXP'+'_BC_RMS\x20=\x20'+'1064866808'+';\x20\x20\x20//\x20(12'+'7\x20<<\x2023)\x20-'+'\x2060801\x20*\x208'+'\x0afloat\x20fas'+'tExp(float'+'\x20x)\x20{\x0a\x20\x20\x20\x20'+'int\x20i\x20=\x20in'+'t(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20in'+'tBitsToFlo'+'at(i);\x0a}\x0a\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianU'+'V;\x0avarying'+'\x20mediump\x20v'+'ec4\x20gaussi'+'anColor;\x0av'+'arying\x20med'+'iump\x20vec2\x20'+'gaussianSi'+'ze;\x0avaryin'+'g\x20mediump\x20'+'vec2\x20gauss'+'ianCUV;\x0ava'+'rying\x20medi'+'ump\x20float\x20'+'saveMargin'+'al;\x0a\x0a//\x20'+'\x20p\x20\x20N'+'\x20\x0a//\x20p:'+'\x20\x20(UV\x20'+')\x0a//'+'\x20N:\x20\x0a//\x20'+'r:\x20'+('1\x0a/'+'/\x20center:\x20'+'\x0abool\x20'+'insideRegu'+'larPolygon'+'(vec2\x20p,\x20i'+'nt\x20N,\x20floa'+'t\x20r,\x20vec2\x20'+'center)\x20{\x0a'+'\x20\x20\x20\x20//\x20'+'\x0a\x20'+'\x20\x20\x20vec2\x20d\x20'+'=\x20p\x20-\x20cent'+'er;\x0a\x20\x20\x20\x20fl'+'oat\x20theta\x20'+'=\x20atan(d.y'+',\x20d.x);\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20flo'+'at\x20len\x20=\x20l'+'ength(d);\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20float'+'\x20anglePerS'+'ide\x20=\x202.0\x20'+'*\x203.141592'+'65\x20/\x20float'+'(N);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x200\x20~'+'\x20anglePerS'+'ide\x20\x0a\x20\x20\x20'+'\x20float\x20loc'+'alAngle\x20=\x20'+'mod(theta,'+'\x20anglePerS'+'ide);\x0a\x0a\x20\x20\x20'+'\x20//\x20'+'\x20'+'N\x20\x0a\x20\x20'+'\x20\x20float\x20ma'+'xR\x20=\x20r\x20*\x20c'+'os(anglePe'+'rSide\x20/\x202.'+'0)\x20/\x20cos(l'+'ocalAngle\x20'+'-\x20anglePer'+'Side\x20/\x202.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20len\x20<'+'=\x20maxR;\x0a}\x0a'+'\x0a//\x20'+'N\x20soft\x20'+'mask\x0afloat'+'\x20polygonSo'+'ftMask(vec'+'2\x20p,\x20int\x20N'+',\x20float\x20ra'+'dius,\x20floa'+'t\x20edgeSoft'+'ness)\x20{\x0a\x20\x20'+'\x20\x20float\x20an'+'gle\x20=\x20atan'+'(p.y,\x20p.x)'+';\x0a\x20\x20\x20\x20floa'+'t\x20sector\x20='+'\x206.2831853'+'\x20/\x20float(N'+');\x20\x20//\x20'+'\x0a\x20\x20\x20\x20//'+'\x20\x20['+'-sector/2,'+'\x20sector/2]'+'\x0a\x20\x20\x20\x20float'+'\x20halfSecto'+'r\x20=\x20sector'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20float\x20lo'+'calAngle\x20='+'\x20mod(angle'+'\x20+\x20halfSec'+'tor,\x20secto'+'r)\x20-\x20halfS'+'ector;\x0a\x0a\x20\x20'+'\x20\x20//\x20'+'\x0a'+'\x20\x20\x20\x20float\x20'+'boundary\x20='+'\x20radius\x20*\x20'+'cos(halfSe'+'ctor)\x20/\x20co'+'s(localAng'+'le);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20=\x20'+'\x0a\x20\x20\x20\x20'+'float\x20dist'+'\x20=\x20boundar'+'y\x20-\x20length'+'(p);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20smoot')+('hstep\x20'+'\x20(edgeSof'+'tness\x20'+')\x0a\x20\x20\x20\x20'+'float\x20alph'+'a\x20=\x20smooth'+'step(0.0,\x20'+'edgeSoftne'+'ss,\x20dist);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20alpha;\x20'+'//\x200~1\x0a}\x0a\x0a'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20mediump\x20'+'float\x20A\x20=\x20'+'dot(gaussi'+'anUV,\x20gaus'+'sianUV);\x0a\x20'+'\x20\x20\x20if\x20(A\x20>'+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'valuate\x20al'+'pha\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20alpha\x20=\x20'+'fastExp(-A'+'\x20*\x204.0)\x20*\x20'+'gaussianCo'+'lor.a;\x0a\x20\x20\x20'+'\x20//\x20TODO\x20u'+'ShapeN\x20alp'+'ha\x0a\x20\x20\x20\x20//\x20'+'float\x20dx\x20='+'\x20abs(gauss'+'ianCUV.x)\x20'+'/\x20gaussian'+'Size.x;\x0a\x20\x20'+'\x20\x20//\x20float'+'\x20dy\x20=\x20abs('+'gaussianCU'+'V.y)\x20/\x20gau'+'ssianSize.'+'y;\x0a\x20\x20\x20\x20//\x20'+'float\x20B\x20=\x20'+'max(dx,\x20dy'+');\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20'+'\x0a\x20\x20\x20\x20//\x20'+'mediump\x20fl'+'oat\x20alpha\x20'+'=\x20exp(-pow'+'(B,\x202.0)\x20*'+'\x204.0)\x20*\x20ga'+'ussianColo'+'r.a;\x0a\x0a\x20\x20\x20\x20'+'bool\x20openR'+'ingMode\x20=\x20'+'ringSize\x20>'+'\x200.0\x20&&\x20mo'+'de\x20==\x201;\x20/'+'/\x20&&\x20uCont'+'rolMode\x20=='+'\x201;\x20\x0a\x20\x20\x20\x20i'+'f\x20(openRin'+'gMode\x20&&\x20s'+'aveMargina'+'l\x20>=\x200.05)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(A\x20<\x201'+'.0\x20-\x20ringS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'lpha\x20=\x20max'+'(0.05,\x20alp'+'ha);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alpha\x20'+'=\x200.6;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20bool\x20ope'+'nShapeMode'+'\x20=\x20uShapeN'+'\x20>\x202;\x20//\x20&'+'&\x20uControl'+'Mode\x20==\x201;'+'\x0a\x20\x20\x20\x20if\x20(o'+'penShapeMo'+'de)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20gaussi'+'anCUV\x20*\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20rad'+'ius\x20=\x201.0;')+('\x20//\x201.0\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20edgeSoft'+'ness\x20=\x200.0'+'5;\x20//\x200.05'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v\x20*=\x201.0;/'+'/0.9;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20c'+'enter\x20=\x20ve'+'c2(0.0,\x200.'+'0);\x20\x20\x20//\x20'+''+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20alpha\x20'+'=\x20polygonS'+'oftMask(uv'+',\x20uShapeN,'+'\x20radius,\x20e'+'dgeSoftnes'+'s);\x20//\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(!insideR'+'egularPoly'+'gon(uv,\x20uS'+'hapeN,\x20rad'+'ius,\x20cente'+'r))\x20{\x20//'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20defined(S'+'HADOW_PASS'+')\x20||\x20defin'+'ed(PICK_PA'+'SS)\x20||\x20def'+'ined(PREPA'+'SS_PASS)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20a'+'lphaClip)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'getPickOut'+'put();\x0a\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'ADOW_PASS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(0'+'.0,\x200.0,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#elif'+'\x20PREPASS_P'+'ASS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2vec4(v'+'LinearDept'+'h);\x0a\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x201.0\x20/'+'\x20255.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20DI'+'THER_NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(alph'+'a,\x20id\x20*\x200.'+'013);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'gaussianCo'+'lor.xyz,\x20a'+'lpha);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),eP='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),tP='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',sP='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0aunifor'+'m\x20float\x20pr'+'erenderCTi'+'me;\x0aunifor'+'m\x20float\x20uS'+'aturation;'+'\x20//\x200.0-2.'+'01.0\x20'+'\x0auniform'+'\x20float\x20uHu'+'eOffset;\x20\x20'+'//\x20'+'360'+'\x0auniform\x20v'+'ec3\x20clrOff'+'set;\x0aunifo'+'rm\x20vec4\x20cl'+'rScale;\x0aun'+'iform\x20floa'+'t\x20uOpacity'+';\x0auniform\x20'+'int\x20uInver'+'tOpacity;\x0a'+'\x0avarying\x20m'+'ediump\x20vec'+'2\x20gaussian'+'UV;\x0avaryin'+'g\x20mediump\x20'+'vec4\x20gauss'+'ianColor;\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianS'+'ize;\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianCUV;\x0av'+'arying\x20med'+'iump\x20float'+'\x20saveMargi'+'nal;\x0a\x0a//\x20='+'====\x20\x20H'+'SV/RGB\x20\x20'+'=====\x0ahigh'+'p\x20vec3\x20rgb'+'2hsv(highp'+'\x20vec3\x20c)\x20{'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20cMa'+'x\x20=\x20max(ma'+'x(c.r,\x20c.g'+'),\x20c.b);\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20cMin\x20'+'=\x20min(min('+'c.r,\x20c.g),'+'\x20c.b);\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20delta\x20='+'\x20cMax\x20-\x20cM'+'in\x20+\x201e-10'+';\x20//\x200\x0a'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20h\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'if\x20(delta\x20'+'>\x201e-6)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(cMax\x20==\x20'+'c.r)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20=\x20mod((c.'+'g\x20-\x20c.b)\x20/'+'\x20delta,\x206.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(cMax\x20=='+'\x20c.g)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.b\x20-'+'\x20c.r)\x20/\x20de'+'lta\x20+\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.r\x20-'+'\x20c.g)\x20/\x20de'+'lta\x20+\x204.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20/=\x206.0;\x20/'+'/\x20\x20[0,1]'+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(h\x20<\x200.0'+')\x20h\x20+=\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20s\x20=\x20('+'cMax\x20<\x201e-'+'6)\x20?\x200.0\x20:'+'\x20delta\x20/\x20c'+'Max;\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20v\x20=\x20cMax;'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec3(h,\x20'+'s,\x20v);\x0a}\x0a\x0a'+'highp\x20vec3'+'\x20hsv2rgb(h'+'ighp\x20vec3\x20'+'c)\x20{\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20h\x20=\x20c.x\x20*'+'\x206.0;\x20//\x200'+'-6\x0a\x20\x20\x20\x20hig'+'hp\x20float\x20s'+'\x20=\x20c.y;\x0a\x20\x20'+'\x20\x20highp\x20fl'+'oat\x20v\x20=\x20c.'+'z;\x0a\x0a\x20\x20\x20\x20hi'+'ghp\x20int\x20i\x20'+'=\x20int(floo'+'r(h));\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20f\x20=\x20h\x20-'+'\x20float(i);'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20p\x20='+'\x20v\x20*\x20(1.0\x20'+'-\x20s);\x0a\x20\x20\x20\x20'+'highp\x20floa'+'t\x20q\x20=\x20v\x20*\x20'+'(1.0\x20-\x20s\x20*'+'\x20f);\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20t\x20=\x20v\x20*\x20('+'1.0\x20-\x20s\x20*\x20'+'(1.0\x20-\x20f))'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(i\x20==\x200)\x20r'+'eturn\x20vec3'+'(v,\x20t,\x20p);'+'\x0a\x20\x20\x20\x20else\x20'+'if\x20(i\x20==\x201'+')\x20return\x20v'+'ec3(q,\x20v,\x20'+'p);\x0a\x20\x20\x20\x20el'+'se\x20if\x20(i\x20='+'=\x202)\x20retur'+'n\x20vec3(p,\x20'+'v,\x20t);\x0a\x20\x20\x20'+'\x20else\x20if\x20('+'i\x20==\x203)\x20re'+'turn\x20vec3('+'p,\x20q,\x20v);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(i\x20==\x204)'+'\x20return\x20ve'+'c3(t,\x20p,\x20v'+');\x0a\x20\x20\x20\x20els'+'e\x20return\x20v'+'ec3(v,\x20p,\x20'+'q);\x20//\x20i=='+'5\x0a}\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0a#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20varying\x20'+'float\x20vLin'+'earDepth;\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20')+('=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20saveMargi'+'nal\x20=\x20getM'+'arginalT(s'+'ource,\x20uTi'+'me);\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'marginal\x20='+'\x20uOpenAnim'+'\x20==\x201\x20?\x201.'+'0\x20:\x20saveMa'+'rginal;\x0a\x20\x20'+'\x20\x20if\x20(marg'+'inal\x20<\x200.0'+'5)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20dis'+'cardVec;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20modelCent'+'er;\x0a\x20\x20\x20\x20bo'+'ol\x20isCente'+'r4D\x20=\x20save'+'Marginal\x20>'+'=\x200.05;\x0a\x20\x20'+'\x20\x20if\x20(isCe'+'nter4D)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'delCenter\x20'+'=\x20readCent'+'er4D(sourc'+'e,\x20uTime);'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20modelCen'+'ter\x20=\x20read'+'Center(sou'+'rce);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20Spl'+'atCenter\x20c'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'center))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return;'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20int\x20'+'showCloud\x20'+'=\x20pointClo'+'udModeEnab'+'led;\x0a\x20\x20\x20\x20i'+'f\x20(prerend'+'erCTime\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(prer'+'enderCTime'+'\x20>=\x201.0\x20&&'+'\x20prerender'+'CTime\x20<\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20showClo'+'ud\x20=\x201;\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(prerend'+'erCTime\x20>='+'\x202.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20proje'+'ct\x20center\x20'+'to\x20screen\x20'+'space\x0a\x20\x20\x20\x20'+'SplatCorne'+'r\x20corner;\x0a'+'\x20\x20\x20\x20if\x20(!i'+'nitCorner('+'source,\x20ce'+'nter,\x20corn'+'er,\x20showCl'+'oud))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20')+('discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20vec'+'4\x20clr\x20=\x20re'+'adColor(so'+'urce,\x20uTim'+'e,\x20!isCent'+'er4D,\x20poin'+'tCloudMode'+'Enabled);\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'apply\x20AA\x20c'+'ompensatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.a\x20*=\x20c'+'orner.aaFa'+'ctor;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20if(margi'+'nal\x20>\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.w\x20*=\x20'+'marginal;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20\x0a\x20'+'\x20\x20\x20if\x20(uCo'+'ntrolColor'+'Mode\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'tint/brigh'+'tness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr\x20=\x20'+'clr\x20*\x20clrS'+'cale\x20+\x20vec'+'4(clrOffse'+'t,\x200.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(uInvertO'+'pacity\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20clr'+'.a\x20=\x201.0\x20-'+'\x20clr.a;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20don\x27t\x20'+'allow\x20out-'+'of-range\x20a'+'lpha\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20clr\x20=\x20c'+'lamp(clr,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20spheri'+'cal\x20harmon'+'ics\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20the\x20'+'model-spac'+'e\x20view\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20norm'+'alize(cent'+'er.view\x20*\x20'+'mat3(cente'+'r.modelVie'+'w));\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20rea'+'d\x20sh\x20coeff'+'icients\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sh[SH_COE'+'FFS];\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20readS'+'HData(sour'+'ce,\x20sh,\x20sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.x'+'yz\x20+=\x20eval'+'SH(sh,\x20dir'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(co'+'rner,\x20clr.'+'w);\x0a\x0a\x20\x20\x20\x20/')+('/\x20pointClo'+'udMode\x0a\x20\x20\x20'+'\x20//\x20if\x20(po'+'intCloudMo'+'deEnabled\x20'+'==\x201)\x20{\x0a\x20\x20'+'\x20\x20//\x20\x20\x20\x20\x20c'+'lr.a\x20=\x201.0'+';\x0a\x20\x20\x20\x20//\x20}'+'\x0a\x20\x20\x20\x20highp'+'\x20vec3\x20colo'+'r\x20=\x20max(cl'+'r.xyz,\x200.0'+');\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20\x0a'+'\x20\x20\x20\x20if\x20(uC'+'ontrolColo'+'rMode\x20==\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20\x20HSV'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'ighp\x20vec3\x20'+'hsv\x20=\x20rgb2'+'hsv(color)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20hsv.'+'y\x20*=\x20uSatu'+'ration;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20hsv.x\x20=\x20f'+'ract(hsv.x'+'\x20+\x20uHueOff'+'set\x20/\x20360.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20\x20RGB'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor\x20=\x20hsv'+'2rgb(hsv);'+'\x20\x20\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wri'+'te\x20output\x0a'+'\x20\x20\x20\x20gl_Pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4(cor'+'ner.offset'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20gaussia'+'nUV\x20=\x20corn'+'er.uv;\x0a\x20\x20\x20'+'\x20gaussianC'+'UV\x20=\x20corne'+'r.cUV;\x0a\x20\x20\x20'+'\x20gaussianS'+'ize\x20=\x20corn'+'er.cSize;\x0a'+'\x20\x20\x20\x20gaussi'+'anColor\x20=\x20'+'vec4(prepa'+'reOutputFr'+'omGamma(co'+'lor),\x20clr.'+'w);\x0a\x20\x20\x20\x20ga'+'ussianColo'+'r\x20=\x20clamp('+'gaussianCo'+'lor,\x200.0,\x20'+'1.0);\x0a\x0a\x20\x20\x20'+'\x20#ifndef\x20D'+'ITHER_NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'d\x20=\x20float('+'source.id)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vLin'+'earDepth\x20='+'\x20-center.v'+'iew.z;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),iP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'aPosition;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x0a\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(aPos'+'ition,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20getImage'+'EffectUV(('+'aPosition.'+'xy\x20+\x201.0)\x20'+'*\x200.5);\x0a\x20\x20'+'\x20\x20}\x0a',rP='\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a',aP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec4\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec4\x20vert'+'ex_color;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20v'+'oid\x20main(v'+'oid)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20=\x20vertex_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20matrix_'+'model\x20*\x20ve'+'rtex_posit'+'ion;\x0a\x20\x20\x20\x20}'+'\x0a',nP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0afloat\x20i'+'ridescence'+'_iorToFres'+'nel(float\x20'+'transmitte'+'dIor,\x20floa'+'t\x20incident'+'Ior)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'incidentIo'+'r)\x20/\x20(tran'+'smittedIor'+'\x20+\x20inciden'+'tIor),\x202.0'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_iorToFr'+'esnel(vec3'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20vec3(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3(incid'+'entIor)),\x20'+'vec3(2.0))'+';\x0a}\x0a\x0avec3\x20'+'iridescenc'+'e_fresnelT'+'oIor(vec3\x20'+'f0)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20sqrtF'+'0\x20=\x20sqrt(f'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20(vec3'+'(1.0)\x20+\x20sq'+'rtF0)\x20/\x20(v'+'ec3(1.0)\x20-'+'\x20sqrtF0);\x0a'+'}\x0a\x0avec3\x20ir'+'idescence_'+'sensitivit'+'y(float\x20op'+'d,\x20vec3\x20sh'+'ift)\x20{\x0a\x20\x20\x20'+'\x20float\x20PI\x20'+'=\x203.141592'+'653589793;'+'\x0a\x20\x20\x20\x20float'+'\x20phase\x20=\x202'+'.0\x20*\x20PI\x20*\x20'+'opd\x20*\x201.0e'+'-9;\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20v'+'al\x20=\x20vec3('+'5.4856e-13'+',\x204.4201e-'+'13,\x205.2481'+'e-13);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20pos\x20=\x20ve'+'c3(1.6810e'+'+06,\x201.795'+'3e+06,\x202.2'+'084e+06);\x0a'+'\x20\x20\x20\x20const\x20'+'vec3\x20var\x20='+'\x20vec3(4.32'+'78e+09,\x209.'+'3046e+09,\x20'+'6.6121e+09'+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20xyz\x20=\x20v'+'al\x20*\x20sqrt('+'2.0\x20*\x20PI\x20*'+'\x20var)\x20*\x20co'+'s(pos\x20*\x20ph'+'ase\x20+\x20shif'+'t)\x20*\x20exp(-'+'pow(phase,'+'\x202.0)\x20*\x20va'+'r);\x0a\x20\x20\x20\x20xy'+'z.x\x20+=\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+('cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20/=\x20vec3(1'+'.0685e-07)'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20mat3\x20XY'+'Z_TO_REC70'+'9\x20=\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x203.'+'2404542,\x20-'+'0.9692660,'+'\x20\x200.055643'+'4,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-1.5371385'+',\x20\x201.87601'+'08,\x20-0.204'+'0259,\x0a\x20\x20\x20\x20'+'\x20\x20\x20-0.4985'+'314,\x20\x200.04'+'15560,\x20\x201.'+'0572252\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'return\x20XYZ'+'_TO_REC709'+'\x20*\x20xyz;\x0a}\x0a'+'\x0afloat\x20iri'+'descence_f'+'resnel(flo'+'at\x20cosThet'+'a,\x20float\x20f'+'0)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20x\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x2\x20=\x20x\x20*'+'\x20x;\x0a\x20\x20\x20\x20fl'+'oat\x20x5\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x20\x0a\x0av'+'ec3\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'vec3\x20f0)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20clamp'+'(1.0\x20-\x20cos'+'Theta,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20float\x20x2'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'x5\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x20\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(vec3'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0avec3\x20calc'+'Iridescenc'+'e(float\x20ou'+'tsideIor,\x20'+'float\x20cosT'+'heta,\x20vec3'+'\x20base_f0,\x20'+'float\x20irid'+'escenceThi'+'ckness)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceIor\x20'+'=\x20mix(outs'+'ideIor,\x20ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20float'+'\x20sinTheta2'+'Sq\x20=\x20pow(o'+'utsideIor\x20'+'/\x20iridesce')+('nceIor,\x202.'+'0)\x20*\x20(1.0\x20'+'-\x20pow(cosT'+'heta,\x202.0)'+');\x0a\x20\x20\x20\x20flo'+'at\x20cosThet'+'a2Sq\x20=\x201.0'+'\x20-\x20sinThet'+'a2Sq;\x0a\x0a\x20\x20\x20'+'\x20if\x20(cosTh'+'eta2Sq\x20<\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec3(1.0)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20c'+'osTheta2\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20r0\x20=\x20irid'+'escence_io'+'rToFresnel'+'(iridescen'+'ceIor,\x20out'+'sideIor);\x0a'+'\x20\x20\x20\x20float\x20'+'r12\x20=\x20irid'+'escence_fr'+'esnel(cosT'+'heta,\x20r0);'+'\x0a\x20\x20\x20\x20float'+'\x20r21\x20=\x20r12'+';\x0a\x20\x20\x20\x20floa'+'t\x20t121\x20=\x201'+'.0\x20-\x20r12;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20phi12\x20=\x20i'+'ridescence'+'Ior\x20<\x20outs'+'ideIor\x20?\x20P'+'I\x20:\x200.0;\x0a\x20'+'\x20\x20\x20float\x20p'+'hi21\x20=\x20PI\x20'+'-\x20phi12;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20b'+'aseIor\x20=\x20i'+'ridescence'+'_fresnelTo'+'Ior(base_f'+'0\x20+\x20vec3(0'+'.0001));\x0a\x20'+'\x20\x20\x20vec3\x20r1'+'\x20=\x20iridesc'+'ence_iorTo'+'Fresnel(ba'+'seIor,\x20iri'+'descenceIo'+'r);\x0a\x20\x20\x20\x20ve'+'c3\x20r23\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta2,\x20'+'r1);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20phi23'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20if'+'\x20(baseIor['+'0]\x20<\x20iride'+'scenceIor)'+'\x20phi23[0]\x20'+'=\x20PI;\x0a\x20\x20\x20\x20'+'if\x20(baseIo'+'r[1]\x20<\x20iri'+'descenceIo'+'r)\x20phi23[1'+']\x20=\x20PI;\x0a\x20\x20'+'\x20\x20if\x20(base'+'Ior[2]\x20<\x20i'+'ridescence'+'Ior)\x20phi23'+'[2]\x20=\x20PI;\x0a'+'\x20\x20\x20\x20float\x20'+'opd\x20=\x202.0\x20'+'*\x20iridesce'+'nceIor\x20*\x20i'+'ridescence'+'Thickness\x20'+'*\x20cosTheta'+'2;\x0a\x20\x20\x20\x20vec'+'3\x20phi\x20=\x20ve'+'c3(phi21)\x20'+'+\x20phi23;\x20\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123Sq\x20=\x20c'+'lamp(r12\x20*'+'\x20r23,\x201e-5'+',\x200.9999);'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123\x20=\x20sqr')+('t(r123Sq);'+'\x0a\x20\x20\x20\x20vec3\x20'+'rs\x20=\x20pow(t'+'121,\x202.0)\x20'+'*\x20r23\x20/\x20(1'+'.0\x20-\x20r123S'+'q);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20c0\x20=\x20r'+'12\x20+\x20rs;\x0a\x20'+'\x20\x20\x20vec3\x20i\x20'+'=\x20c0;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cm\x20='+'\x20rs\x20-\x20t121'+';\x0a\x20\x20\x20\x20for\x20'+'(int\x20m\x20=\x201'+';\x20m\x20<=\x202;\x20'+'m++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20cm\x20*='+'\x20r123;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'sm\x20=\x202.0\x20*'+'\x20iridescen'+'ce_sensiti'+'vity(float'+'(m)\x20*\x20opd,'+'\x20float(m)\x20'+'*\x20phi);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20i\x20+='+'\x20cm\x20*\x20sm;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20max'+'(i,\x20vec3(0'+'.0));\x0a}\x0a\x0av'+'ec3\x20getIri'+'descence(f'+'loat\x20cosTh'+'eta,\x20vec3\x20'+'specularit'+'y,\x20float\x20i'+'ridescence'+'Thickness)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),oP='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_irid'+'escence;\x0a#'+'endif\x0a\x0avoi'+'d\x20getIride'+'scence()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_IRID'+'ESCENCE_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20iridescen'+'ce\x20*=\x20mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20textur'+'e2DBias({S'+'TD_IRIDESC'+'ENCE_TEXTU'+'RE_NAME},\x20'+'{STD_IRIDE'+'SCENCE_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCE_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scence\x20=\x20i'+'ridescence'+';\x20\x0a}\x0a',lP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_iridesc'+'enceThickn'+'essMin;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'end\x20=\x20text'+'ure2DBias('+'{STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE_NAME},'+'\x20{STD_IRID'+'ESCENCETHI'+'CKNESS_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCET'+'HICKNESS_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20iridescen'+'ceThicknes'+'s\x20=\x20mix(ma'+'terial_iri'+'descenceTh'+'icknessMin'+',\x20material'+'_iridescen'+'ceThicknes'+'sMax,\x20blen'+'d);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',cP='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'fractionIn'+'dex;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tIor()\x20{\x0a#'+'ifdef\x20STD_'+'IOR_CONSTA'+'NT\x0a\x20\x20\x20\x20dIo'+'r\x20=\x20materi'+'al_refract'+'ionIndex;\x0a'+'#else\x0a\x20\x20\x20\x20'+'dIor\x20=\x201.0'+'\x20/\x201.5;\x0a#e'+'ndif\x0a}\x0a',hP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20light{i}_'+'color;\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec3\x20light'+'{i}_direct'+'ion;\x0a\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20LIT_CODE'+'_LIGHTS_PO'+'INT\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20point\x20l'+'ights\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_pos'+'ition;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_ra'+'dius;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20SPOT\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20spot\x20ligh'+'ts\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20l'+'ight{i}_di'+'rection;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20light'+'{i}_innerC'+'oneAngle;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_outer'+'ConeAngle;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'3\x20light{i}'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20vec3\x20lig'+'ht{i}_half'+'Width;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_hal'+'fHeight;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'FALLOFF\x20=='+'\x20LINEAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+('T_CODE_FAL'+'LOFF_LINEA'+'R\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20linear\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}FALLOFF\x20'+'==\x20INVERSE'+'SQUARED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ca'+'sting\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'CASTSHADOW'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20light{'+'i}_shadowM'+'atrix;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_sh'+'adowIntens'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec4\x20ligh'+'t{i}_shado'+'wParams;\x20/'+'/\x20width,\x20h'+'eight,\x20bia'+'s,\x20radius\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_s'+'hadowSearc'+'hArea;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20light{i}'+'_cameraPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_sof'+'tShadowPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20direction'+'al\x20(cascad'+'ed)\x20shadow'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrixPa'+'lette[4];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec4\x20light'+'{i}_shadow'+'CascadeDis'+'tances;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20in'+'t\x20light{i}'+'_shadowCas')+('cadeCount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_shad'+'owCascadeB'+'lend;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'SHADOW_PCF'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2DShado'+'w\x20light{i}'+'_shadowMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_shadowM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'okie\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIGHT{i}C'+'OOKIE)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_COOKIE\x20'+'//\x20include'+'\x20functiona'+'lity\x20for\x20c'+'ookies\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20light{i'+'}_cookie;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_cooki'+'eIntensity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d'+'efined(LIG'+'HT{i}CASTS'+'HADOW)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20ligh'+'t{i}_shado'+'wMatrix;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20SPOT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20lig')+('ht{i}_cook'+'ie;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_c'+'ookieInten'+'sity;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIGHT{i}C'+'ASTSHADOW)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'light{i}_s'+'hadowMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIGH'+'T{i}COOKIE'+'_TRANSFORM'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20light{i}_'+'cookieMatr'+'ix;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c2\x20light{i'+'}_cookieOf'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),dP='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',fP='\x0avec3\x20eval'+'OmniLight('+'vec3\x20light'+'PosW)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'PositionW\x20'+'-\x20lightPos'+'W;\x0a}\x0a',uP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',pP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0avoid\x20e'+'valuateLig'+'ht{i}(\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20iridesc'+'enceFresne'+'l\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20color\x0a\x20\x20\x20'+'\x20vec3\x20ligh'+'tColor\x20=\x20l'+'ight{i}_co'+'lor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x20&&\x20!defi'+'ned(LIT_SH'+'ADOW_CATCH'+'ER)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20return\x20if'+'\x20the\x20light'+'\x20color\x20is\x20'+'black\x20(use'+'d\x20by\x20shado'+'w\x20catcher\x20'+'-\x20this\x20way'+'\x20this\x20ligh'+'t\x20is\x20very\x20'+'cheap)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(a'+'ll(equal(l'+'ightColor,'+'\x20vec3(0.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20dir'+'ectional\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light{i}_'+'direction;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20omn'+'i\x20or\x20spot\x20'+'light\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtDirW\x20=\x20'+'evalOmniLi'+'ght(light{'+'i}_positio'+'n);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightDi'+'rNormW\x20=\x20n'+'ormalize(l'+'ightDirW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20cookie\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'COOKIE)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_FALLOF'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_TRANSF'+'ORM\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2DXform('+('light{i}_c'+'ookie,\x20lig'+'ht{i}_shad'+'owMatrix,\x20'+'light{i}_c'+'ookieInten'+'sity,\x20ligh'+'t{i}_cooki'+'eMatrix,\x20l'+'ight{i}_co'+'okieOffset'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2D(light'+'{i}_cookie'+',\x20light{i}'+'_shadowMat'+'rix,\x20light'+'{i}_cookie'+'Intensity)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}COOKIE_TR'+'ANSFORM\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'Cookie2DCl'+'ipXform(li'+'ght{i}_coo'+'kie,\x20light'+'{i}_shadow'+'Matrix,\x20li'+'ght{i}_coo'+'kieIntensi'+'ty,\x20light{'+'i}_cookieM'+'atrix,\x20lig'+'ht{i}_cook'+'ieOffset).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20cookieAtt'+'enuation\x20='+'\x20getCookie'+'2DClip(lig'+'ht{i}_cook'+'ie,\x20light{'+'i}_shadowM'+'atrix,\x20lig'+'ht{i}_cook'+'ieIntensit'+'y).{LIGHT{'+'i}COOKIE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20OMNI\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'CookieCube'+'(light{i}_'+'cookie,\x20li'+'ght{i}_sha')+('dowMatrix,'+'\x20light{i}_'+'cookieInte'+'nsity).{LI'+'GHT{i}COOK'+'IE_CHANNEL'+'};\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'ltiply\x20lig'+'ht\x20color\x20b'+'y\x20the\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lig'+'htColor\x20*='+'\x20cookieAtt'+'enuation;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20di'+'stance\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20==\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}FAL'+'LOFF\x20==\x20LI'+'NEAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Linear(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20=\x20g'+'etFalloffI'+'nvSquared('+'light{i}_r'+'adius,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20non'+'\x20punctual\x20'+'lights\x20onl'+'y\x20gets\x20the'+'\x20range\x20win'+'dow\x20here\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Window(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20angle\x20'+'falloff\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20SPOT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20!de'+'fined(LIGH'+'T{i}COOKIE'+')\x20||\x20defin'+'ed(LIGHT{i'+'}COOKIE_FA'+'LLOFF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dAtten\x20'+'*=\x20getSpot'+'Effect(lig'+'ht{i}_dire'+'ction,\x20lig'+'ht{i}_inne'+'rConeAngle'+',\x20light{i}'+'_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20if\x20(dA'+'tten\x20<\x200.0')+('0001)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20are'+'a\x20light\x20va'+'lues\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcR'+'ectLightVa'+'lues(light'+'{i}_positi'+'on,\x20light{'+'i}_halfWid'+'th,\x20light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20calcDi'+'skLightVal'+'ues(light{'+'i}_positio'+'n,\x20light{i'+'}_halfWidt'+'h,\x20light{i'+'}_halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcS'+'phereLight'+'Values(lig'+'ht{i}_posi'+'tion,\x20ligh'+'t{i}_halfW'+'idth,\x20ligh'+'t{i}_halfH'+'eight);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'lighting\x20-'+'\x20LTC\x20light'+'s\x20do\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20'+'into\x20atten'+'uation\x20tha'+'t\x20affects\x20'+'specular\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20atten'+'Diffuse\x20-\x20'+'separate\x20d'+'iffuse\x20att'+'enuation\x20f'+'or\x20non-pun'+'ctual\x20ligh'+'t\x20sources\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20NB:\x20'+'A\x20better\x20a'+'pproximati'+'on\x20perhaps'+'\x20using\x20wra'+'p\x20lighting'+'\x20could\x20be\x20'+'implemente'+'d\x20here\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20atten'+'Diffuse\x20=\x20'+'getLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dL'+'ightDirNor'+'mW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x2016.0\x20i'+'s\x20a\x20consta'+'nt\x20that\x20is'+'\x20in\x20getFal'+'loffInvSqu'+'ared()\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20==\x20'+'RECT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getRectL'+'ightDiffus'+'e(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20lightD'+'irW,\x20dLigh'+'tDirNormW)'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20attenDiff'+'use\x20=\x20getD'+'iskLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20li'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getSpher'+'eLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20ligh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20one\x20'+'parameter\x20'+'is\x20unused\x20'+'for\x20punctu'+'al\x20lights\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20*=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20vec3('+'0.0),\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20apply\x20th'+'e\x20shadow\x20a'+'ttenuation'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'CASTSHADOW'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadow{i'+'}(vec3(0.0'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adow{i}(li'+'ghtDirW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20App')+('ly\x20shadow\x20'+'intensity\x20'+'to\x20the\x20sha'+'dow\x20value\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20=\x20mix'+'(1.0,\x20shad'+'ow,\x20light{'+'i}_shadowI'+'ntensity);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20*=\x20'+'shadow;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_SHADOW_'+'CATCHER)\x20&'+'&\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20accum'+'ulate\x20shad'+'ows\x20for\x20di'+'rectional\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ShadowCatc'+'her\x20*=\x20sha'+'dow;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20-\x20they\x20do'+'\x20not\x20mix\x20d'+'iffuse\x20lig'+'hting\x20into'+'\x20specular\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20('+'(attenDiff'+'use\x20*\x20dAtt'+'en)\x20*\x20ligh'+'tColor)\x20*\x20'+'(1.0\x20-\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(atte'+'nDiffuse\x20*'+'\x20dAtten)\x20*'+'\x20lightColo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20punctua'+'l\x20light\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(AR'+'EA_LIGHTS)'+'\x20&&\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(dAtt'+'en\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20litA'+'rgs_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20spec'+'ular\x20light'+'ing\x0a\x20\x20\x20\x20#i'+'fdef\x20LIGHT')+('{i}AFFECT_'+'SPECULARIT'+'Y\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x20//\x20area\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccSpecula'+'rLight\x20+=\x20'+'ccLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_clear'+'coat_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20ccLTC'+'SpecFres\x20*'+'\x20getDiskLi'+'ghtSpecula'+'r(litArgs_'+'clearcoat_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ge'+'tSphereLig'+'htSpecular'+'(litArgs_c'+'learcoat_w'+'orldNormal'+',\x20dViewDir'+'W)\x20*\x20dAtte'+'n\x20*\x20lightC'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20dLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp')+('ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20SPHERE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20d'+'LTCSpecFre'+'s\x20*\x20getSph'+'ereLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20punctual'+'\x20light\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20is\x20fres'+'nel\x20needed'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20LI'+'T_FRESNEL_'+'MODEL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'GHT{i}FRES'+'NEL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20hal'+'fDirW\x20=\x20no'+'rmalize(-d'+'LightDirNo'+'rmW\x20+\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20if\x20LTC\x20'+'lights\x20are'+'\x20present,\x20'+'specular\x20m'+'ust\x20be\x20acc'+'umulated\x20w'+'ith\x20specul'+'arity\x20(spe'+'cularity\x20i'+'s\x20pre\x20mult'+'iplied\x20by\x20'+'punctual\x20l'+'ight\x20fresn'+'el)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtspecula'+'rCC\x20=\x20getL'+'ightSpecul'+'ar(halfDir'+'W,\x20ccReflD'+'irW,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_clearcoat'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tspecularC'+'C\x20*=\x20getFr'+'esnelCC(do'+'t(dViewDir'+'W,\x20halfDir'+'W));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20lightsp'+'ecularCC;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20lightSpec'+'ular\x20=\x20get'+'LightSpecu'+'lar(halfDi'+'rW,\x20dReflD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightSpecu'+'lar\x20*=\x20get'+'Fresnel(do'+'t(dViewDir'+'W,\x20halfDir'+'W),\x20litArg'+'s_gloss,\x20l'+'itArgs_spe'+'cularity,\x20'+'iridescenc'+'eFresnel,\x20'+'litArgs_ir'+'idescence_'+'intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20*=\x20g'+'etFresnel('+'dot(dViewD'+'irW,\x20halfD'+'irW),\x20litA'+'rgs_gloss,'+'\x20litArgs_s')+('pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20lightSp'+'ecular\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20+=\x20light'+'Specular;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a#en'+'dif\x0a'),mP='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20vec3\x20'+'getShadowS'+'ampleCoord'+'{i}(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'urfacePosi'+'tion\x20=\x20wor'+'ldPosition'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT{i}_SHA'+'DOW_SAMPLE'+'_POINT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20len'+'gth(lightD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightDir'+'\x20=\x20surface'+'Position\x20-'+'\x20lightPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_S'+'OURCE_ZBUF'+'FER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+('NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20distScal'+'e\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20abs'+'(dot(vPosi'+'tionW\x20-\x20li'+'ghtPos,\x20li'+'ghtDirNorm'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20posi'+'tionInShad'+'owSpace\x20=\x20'+'shadowTran'+'sform\x20*\x20ve'+'c4(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM'+'PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.')+('w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20posit'+'ionInShado'+'wSpace.xy\x20'+'/=\x20positio'+'nInShadowS'+'pace.w;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20po'+'sitionInSh'+'adowSpace.'+'z\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20thi'+'s\x20is\x20curre'+'ntly\x20unuse'+'d\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SHADOW_SA'+'MPLE_Z_BIA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20positionI'+'nShadowSpa'+'ce.z\x20+=\x20ge'+'tShadowBia'+'s(shadowPa'+'rams.x,\x20sh'+'adowParams'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20positi'+'onInShadow'+'Space.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20surfaceP'+'osition;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'evaluation'+'\x20function\x0a'+'\x20\x20\x20\x20float\x20'+'getShadow{'+'i}(vec3\x20li'+'ghtDirW)\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20shado'+'w\x20cascades'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_CASCADES'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20sel'+'ect\x20shadow'+'\x20cascade\x20m'+'atrix\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'t\x20cascadeI'+'ndex\x20=\x20get'+'ShadowCasc'+'adeIndex(l'+'ight{i}_sh'+'adowCascad'+'eDistances'+',\x20light{i}'+'_shadowCas'+'cadeCount)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'_SHADOW_CA'+'SCADE_BLEN'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'scadeIndex'+'\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex'+',\x20light{i}'+'_shadowCas'+'cadeDistan'+'ces,\x20light')+('{i}_shadow'+'CascadeCou'+'nt,\x20light{'+'i}_shadowC'+'ascadeBlen'+'d);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mat4'+'\x20shadowMat'+'rix\x20=\x20ligh'+'t{i}_shado'+'wMatrixPal'+'ette[casca'+'deIndex];\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t4\x20shadowM'+'atrix\x20=\x20li'+'ght{i}_sha'+'dowMatrix;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20DIRE'+'CTIONAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20light'+'\x20does\x20not\x20'+'have\x20a\x20pos'+'ition\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20light'+'{i}_shadow'+'Params,\x20vP'+'ositionW,\x20'+'vec3(0.0),'+'\x20lightDirW'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20shad'+'owCoord\x20=\x20'+'getShadowS'+'ampleCoord'+'{i}(shadow'+'Matrix,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20vPosition'+'W,\x20light{i'+'}_position'+',\x20lightDir'+'W,\x20dLightD'+'irNormW,\x20d'+'VertexNorm'+'alW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Fade\x20di'+'rectional\x20'+'shadow\x20at\x20'+'the\x20far\x20di'+'stance\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadowCoord'+'\x20=\x20fadeSha'+'dow(shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owCascadeD'+'istances);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20--'+'---\x20sample'+'\x20the\x20shado'+'w\x20-----\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x20/'+'/\x20-----\x20di'+'rectional\x20'+'light\x20----')+('-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wVSM16(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x205'+'.54);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20VSM_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowVSM32('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x2015.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCS'+'S_32F\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sh'+'adowSearch'+'Area\x20=\x20vec'+'2(length(l'+'ight{i}_ha'+'lfWidth),\x20'+'length(lig'+'ht{i}_half'+'Height))\x20*'+'\x20light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCSS(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20light{i}_'+'cameraPara'+'ms,\x20shadow'+'SearchArea'+',\x20lightDir'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20light{i}'+'_softShado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF1_16'+'F\x20||\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'1_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF3'+'_16F\x20||\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCF3x3(SH'+'ADOWMAP_PA'+'SS(light{i'+'}_shadowMa'+'p),\x20shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF5_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF5_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(SHADOWMAP'+'_PASS(ligh'+'t{i}_shado'+'wMap),\x20sha'+'dowCoord,\x20'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20S'+'POT\x20//\x20---'+'--\x20spot\x20li'+'ght\x20-----\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20V'+'SM_16F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potVSM16(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x205.54,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowSpo')+('tVSM32(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x201'+'5.0,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20shad'+'owSearchAr'+'ea\x20=\x20vec2('+'length(lig'+'ht{i}_half'+'Width),\x20le'+'ngth(light'+'{i}_halfHe'+'ight))\x20*\x20l'+'ight{i}_sh'+'adowSearch'+'Area;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(lig'+'ht{i}_shad'+'owSearchAr'+'ea);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotPCSS('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x20light{i}'+'_cameraPar'+'ams,\x20shado'+'wSearchAre'+'a,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF1_1'+'6F\x20||\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA')+('DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F5_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_PASS(l'+'ight{i}_sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20light{i'+'}_shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x20//\x20'+'-----\x20omni'+'\x20light\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCSS_32F'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P'+'UNCTUAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(len'+'gth(light{'+'i}_halfWid'+'th),\x20lengt'+'h(light{i}'+'_halfHeigh'+'t))\x20*\x20ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2(light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20shadowSe'+'archArea,\x20'+'lightDirW)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_')+('32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF3_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF3_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowOmniPC'+'F3x3(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),_P='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20areaLight'+'sLutTex2;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCSSPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22shadow'+'SoftPS\x22\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(SH'+'ADOW_KIND_'+'VSM)\x0a\x20\x20\x20\x20#'+'include\x20\x22s'+('hadowEVSMP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_LINEA'+'R\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fall'+'offLinearP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22fal'+'loffInvSqu'+'aredPS\x22\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20LIT_COD'+'E_LIGHTS_P'+'OINT\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'ightDirPoi'+'ntPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22spot'+'PS\x22\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_CODE_CO'+'OKIE\x0a\x20\x20\x20\x20#'+'include\x20\x22c'+'ookiePS\x22\x0a#'+'endif\x0a\x0a//\x20'+'clustered\x20'+'lighting\x0a#'+'ifdef\x20LIT_'+'CLUSTERED_'+'LIGHTS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22clustered'+'LightPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHT_'+'COUNT\x20>\x200\x0a'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20genera'+'te\x20shadow\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionSha'+'dowPS,\x20LIG'+'HT_COUNT\x22\x0a'+'\x0a\x20\x20\x20\x20//\x20LO'+'OP\x20-\x20gener'+'ate\x20light\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionLig'+'htPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a'),gP='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'rectional\x20'+'lightmap\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x20&'+'&\x20defined('+'LIT_DIR_LI'+'GHTMAP)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dot(dir,\x20'+'dir)\x20<\x200.0'+'001)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'lightmap;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20vligh'+'t\x20=\x20satura'+'te(dot(dir'+',\x20-vertexN'+'ormal));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fli'+'ght\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20nl'+'ight\x20=\x20(fl'+'ight\x20/\x20max'+'(vlight,\x200'+'.01))\x20*\x200.'+'5;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p\x20*\x20nlight'+'\x20*\x202.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20half'+'Dir\x20=\x20norm'+'alize(-dir'+'\x20+\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'specularLi'+'ght\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20getFre'+'snel(dot(v'+'iewDir,\x20ha'+'lfDir),\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceInt'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20non-dire'+'ctional\x20li'+'ghtmap\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),SP='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'vec3\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_d'+'irLightMap'+';\x0a#endif\x0a\x0a'+'void\x20getLi'+'ghtMap()\x20{'+'\x0a\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_LIGHT'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dLi'+'ghtmap\x20*=\x20'+'{STD_LIGHT'+'_TEXTURE_D'+'ECODE}(tex'+'ture2DBias'+'({STD_LIGH'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'LIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_LIGHTM'+'AP_DIR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dir\x20=\x20'+'texture2DB'+'ias(textur'+'e_dirLight'+'Map,\x20{STD_'+'LIGHT_TEXT'+'URE_UV},\x20t'+'extureBias'+').xyz\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dir'+'Dot\x20=\x20dot('+'dir,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightm'+'apDir\x20=\x20(d'+'irDot\x20>\x200.'+'001)\x20?\x20dir'+'\x20/\x20sqrt(di'+'rDot)\x20:\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_LIGHT_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_LIGHT_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a',yP='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20alp'+'haRoughnes'+'s\x20=\x20roughn'+'ess\x20*\x20roug'+'hness;\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'dAnisotrop'+'y;\x0a\x20\x20\x20\x20vec'+'2\x20directio'+'n\x20=\x20dAniso'+'tropyRotat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'float\x20at\x20='+'\x20mix(alpha'+'Roughness,'+'\x201.0,\x20anis'+'otropy\x20*\x20a'+'nisotropy)'+';\x0a\x20\x20\x20\x20floa'+'t\x20ab\x20=\x20cla'+'mp(alphaRo'+'ughness,\x200'+'.001,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20anisotro'+'picT\x20=\x20nor'+'malize(tbn'+'\x20*\x20vec3(di'+'rection,\x200'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicB\x20=\x20'+'normalize('+'cross(tbn['+'2],\x20anisot'+'ropicT));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20NoH\x20=\x20dot'+'(worldNorm'+'al,\x20h);\x0a\x20\x20'+'\x20\x20float\x20To'+'H\x20=\x20dot(an'+'isotropicT'+',\x20h);\x0a\x20\x20\x20\x20'+'float\x20BoH\x20'+'=\x20dot(anis'+'otropicB,\x20'+'h);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20a2\x20=\x20'+'at\x20*\x20ab;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20vec3(ab\x20'+'*\x20ToH,\x20at\x20'+'*\x20BoH,\x20a2\x20'+'*\x20NoH);\x0a\x20\x20'+'\x20\x20float\x20v2'+'\x20=\x20dot(v,\x20'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20w2\x20=\x20a'+'2\x20/\x20v2;\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'ToV\x20=\x20dot('+'anisotropi'+'cT,\x20viewDi'+'r);\x0a\x20\x20\x20\x20fl'+'oat\x20BoV\x20=\x20'+'dot(anisot'+'ropicB,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20float\x20To'+'L\x20=\x20dot(an'+'isotropicT'+(',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20Bo'+'L\x20=\x20dot(an'+'isotropicB'+',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20No'+'V\x20=\x20dot(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20float'+'\x20NoL\x20=\x20dot'+'(worldNorm'+'al,\x20-light'+'DirNorm);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20lambdaV\x20='+'\x20NoL\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToV,\x20a'+'b\x20*\x20BoV,\x20N'+'oV));\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daL\x20=\x20NoV\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oL,\x20ab\x20*\x20B'+'oL,\x20NoL));'+'\x0a\x20\x20\x20\x20float'+'\x20G\x20=\x200.5\x20/'+'\x20(lambdaV\x20'+'+\x20lambdaL)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20D\x20*\x20G;'+'\x0a}\x0a\x0afloat\x20'+'getLightSp'+'ecular(vec'+'3\x20h,\x20vec3\x20'+'reflDir,\x20v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'float\x20glos'+'s,\x20mat3\x20tb'+'n)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'LightSpecu'+'lar(gloss,'+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20h,\x20ligh'+'tDirNorm,\x20'+'tbn);\x0a}\x0a'),vP='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',xP='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20PI\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',TP='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'hWithParam'+'s(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec4\x20ca'+'mera_param'+'s;\x20//\x20x:\x201'+'\x20/\x20camera_'+'far,\x20\x20\x20\x20\x20\x20'+'y:\x20camera_'+'far,\x20\x20\x20\x20\x20z'+':\x20camera_n'+'ear,\x20\x20\x20\x20\x20\x20'+'\x20\x20w:\x20is_or'+'tho\x0a#endif'+'\x0a\x0afloat\x20li'+'nearizeDep'+'th(float\x20z'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20linea'+'rizeDepthW'+'ithParams('+'z,\x20camera_'+'params);\x0a}'+'\x0a#endif\x0a',wP='\x0avoid\x20eval'+'uateBacken'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'SSAO\x20durin'+'g\x20lighting'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_SSAO'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ao\x20'+'*=\x20texture'+'2DLod(ssao'+'Texture,\x20g'+'l_FragCoor'+'d.xy\x20*\x20ssa'+'oTextureSi'+'zeInv,\x200.0'+').r;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20transf'+'orm\x20tangen'+'t\x20space\x20no'+'rmals\x20to\x20w'+'orld\x20space'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_NEED'+'S_NORMAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etReflDir('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20litArgs_'+'gloss,\x20dTB'+'N);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W\x20=\x20normal'+'ize(-refle'+'ct(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR_OR'+'_REFLECTIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20f'+'0\x20=\x201.0\x20/\x20'+'litArgs_io'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20f0\x20=\x20'+'(f0\x20-\x201.0)'+'\x20/\x20(f0\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20f0\x20'+'*=\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+('ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'mbient\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20addAmbie'+'nt(litArgs'+'_worldNorm'+'al);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20dDiffuse'+'Light\x20*\x20(1'+'.0\x20-\x20litAr'+'gs_specula'+'rity);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20move\x20a'+'mbient\x20col'+'or\x20out\x20of\x20'+'diffuse\x20(u'+'sed\x20by\x20Lig'+'htmapper,\x20'+'to\x20multipl'+'y\x20ambient\x20'+'color\x20by\x20a'+'ccumulated'+'\x20AO)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SEPARA'+'TE_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dA'+'mbientLigh'+'t\x20=\x20dDiffu'+'seLight;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_O'+'LD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20*=\x20mate'+'rial_ambie'+'nt;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OCCLUD'+'E_DIRECT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20occludeDi'+'ffuse(litA'+'rgs_ao);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTMAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'dLightMap('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_lightmap'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dViewDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dRef'+'lDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dTBN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTING\x20'+'||\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tionCC(ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_glo'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_FRESNE'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccFresne'+'l\x20=\x20getFre'+'snelCC(dot'+'(dViewDirW'+',\x20litArgs_'+'clearcoat_'+'worldNorma'+'l));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccRef'+'lection\x20*='+'\x20ccFresnel'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20*=\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'addReflect'+'ionSheen(l'+'itArgs_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20litArgs_s'+'heen_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Fr')+('esnel\x20has\x20'+'to\x20be\x20appl'+'ied\x20to\x20ref'+'lections\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tion(dRefl'+'DirW,\x20litA'+'rgs_gloss)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_FRES'+'NEL_MODEL\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dRe'+'flection.r'+'gb\x20*=\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.rgb\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n.rgb\x20*=\x20l'+'itArgs_spe'+'cularityFa'+'ctor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20ARE'+'A_LIGHTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20has\x20to\x20'+'be\x20accumul'+'ated\x20diffe'+'rently\x20if\x20'+'we\x20want\x20ar'+'ea\x20lights\x20'+'to\x20look\x20co'+'rrect\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dS'+'pecularLig'+'ht\x20*=\x20litA'+'rgs_specul'+'arity;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'valuate\x20ma'+'terial\x20bas'+'ed\x20area\x20li'+'ghts\x20data,')+('\x20shared\x20by'+'\x20all\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcLTC'+'LightValue'+'s(litArgs_'+'gloss,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_gl'+'oss,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20LOOP\x20-\x20e'+'valuate\x20al'+'l\x20non-clus'+'tered\x20ligh'+'ts\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT_COUNT\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tEvaluatio'+'nPS,\x20LIGHT'+'_COUNT\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clust'+'ered\x20light'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addClust'+'eredLights'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dReflDi'+'rW,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_CLEA'+'RCOAT)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20litAr'+'gs_specula'+'rity,\x20dVer'+'texNormalW'+',\x20dTBN,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_gloss,'+'\x20litArgs_s'+'heen_gloss'+',\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20AR'+'EA_LIGHTS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x20=\x20ve'+'c3(1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'thickness,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_albe'+'do,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_t'+'ransmissio'+'n,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_disp'+'ersion\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_iridesc'+'ence_inten'+'sity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20ambient'+'\x20occlusion'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_OC')+('CLUDE_DIRE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20occlu'+'deDiffuse('+'litArgs_ao'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIT_OCCLU'+'DE_SPECULA'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeS'+'pecular(li'+'tArgs_glos'+'s,\x20litArgs'+'_ao,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULARIT'+'Y_FACTOR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20litAr'+'gs_specula'+'rityFactor'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIT_OPACI'+'TY_FADES_S'+'PECULAR)\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIT_BLEN'+'D_TYPE\x20==\x20'+'NORMAL\x20||\x20'+'LIT_BLEND_'+'TYPE\x20==\x20PR'+'EMULTIPLIE'+'D\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20specLum\x20='+'\x20dot((dSpe'+'cularLight'+'\x20+\x20dReflec'+'tion.rgb\x20*'+'\x20dReflecti'+'on.a),\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecLum\x20+=\x20'+'dot(ccSpec'+'ularLight\x20'+'*\x20litArgs_'+'clearcoat_'+'specularit'+'y\x20+\x20ccRefl'+'ection\x20*\x20l'+'itArgs_cle'+'arcoat_spe'+'cularity,\x20'+'vec3(\x200.21'+'26,\x200.7152'+',\x200.0722\x20)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_opacity\x20'+'=\x20clamp(li'+'tArgs_opac'+'ity\x20+\x20gamm'+'aCorrectIn'+'put(specLu'+'m),\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;\x0a\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nd\x20chunks\x20'+'-\x20when\x20bak'+'ing\x20lightm'+'ap\x0a\x20\x20\x20\x20#if'+'def\x20LIT_LI')+('GHTMAP_BAK'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22bak'+'eLmEndPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_LIGHTM'+'AP_BAKING_'+'DIR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22bake'+'DirLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20en'+'d\x20chunks\x20-'+'\x20in\x20all\x20ot'+'her\x20cases\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22en'+'dPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22outputA'+'lphaPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_MSDF\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20applyMs'+'df(gl_Frag'+'Color);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22output'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22de'+'bugOutputP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HADOW_CATC'+'HER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20when\x20the'+'\x20shadow\x20ca'+'tcher\x20is\x20e'+'nabled\x20-\x20a'+'ccumulated'+'\x20shadows\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20=\x20vec3'+'(dShadowCa'+'tcher);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a'),EP='\x0a\x0a//\x20globa'+'ls\x0avec3\x20sR'+'eflection;'+'\x0avec3\x20dVer'+'texNormalW'+';\x0avec3\x20dTa'+'ngentW;\x0ave'+'c3\x20dBinorm'+'alW;\x0avec3\x20'+'dViewDirW;'+'\x0avec3\x20dRef'+'lDirW;\x0avec'+'3\x20ccReflDi'+'rW;\x0a\x0a//\x20Pe'+'r-light\x20te'+'mporaries\x0a'+'vec3\x20dLigh'+'tDirNormW;'+'\x0afloat\x20dAt'+'ten;\x0a\x0a//\x20O'+'utputs\x0amat'+'3\x20dTBN;\x0ave'+'c4\x20dReflec'+'tion;\x0avec3'+'\x20dDiffuseL'+'ight;\x0avec3'+'\x20dSpecular'+'Light;\x0aflo'+'at\x20ccFresn'+'el;\x0avec3\x20c'+'cReflectio'+'n;\x0avec3\x20cc'+'SpecularLi'+'ght;\x0afloat'+'\x20ccSpecula'+'rityNoFres'+';\x0avec3\x20sSp'+'ecularLigh'+'t;\x0a\x0a//\x20FRA'+'GMENT\x20SHAD'+'ER\x20INPUTS:'+'\x20UNIFORMS\x0a'+'\x0a#ifdef\x20LI'+'T_DISPERSI'+'ON\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'dispersion'+';\x0a#endif\x0a\x0a'+'#ifndef\x20LI'+'T_OPACITY_'+'FADES_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_alphaFad'+'e;\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_SSAO\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20unif'+'orm\x20vec2\x20s'+'saoTexture'+'SizeInv;\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20a'+'nd\x20shadowi'+'ng\x20declara'+'tions\x0a\x0a#if'+'def\x20LIT_SH'+'ADOW_CATCH'+'ER\x0a\x20\x20\x20\x20//\x20'+'a\x20variable'+'\x20to\x20accumu'+'late\x20shado'+'ws\x20for\x20sha'+'dow\x20catche'+'r\x20material'+'s\x0a\x20\x20\x20\x20floa'+'t\x20dShadowC'+'atcher\x20=\x201'+'.0;\x0a#endif'+'\x0a\x0a//\x20LOOP\x20'+'-\x20uniform\x20'+'declaratio'+'ns\x20for\x20all'+'\x20non-clust'+'ered\x20light'+'s\x0a#if\x20LIGH'+'T_COUNT\x20>\x20'+'0\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDeclarati'+'onPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+('\x20#if\x20LIT_F'+'RESNEL_MOD'+'EL\x20==\x20NONE'+'\x20&&\x20!defin'+'ed(LIT_REF'+'LECTIONS)\x20'+'&&\x20!define'+'d(LIT_DIFF'+'USE_MAP)\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a//\x20lightm'+'ap\x20baking\x0a'+'#ifdef\x20STD'+'_LIGHTMAP_'+'DIR\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20bakeDir;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_L'+'IGHTMAP_BA'+'KING_ADD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20ambie'+'ntBakeOccl'+'usionContr'+'ast;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20ambient'+'BakeOcclus'+'ionBrightn'+'ess;\x0a#endi'+'f\x0a'),bP='\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4(0'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ccS'+'pecularLig'+'ht\x20=\x20vec3('+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'NONE_SLICE'+'_MODE\x20==\x20S'+'LICED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22startN'+'ineSlicedP'+'S\x22\x0a\x20\x20\x20\x20#el'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20TILE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'startNineS'+'licedTiled'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_NEEDS_NOR'+'MAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW\x20=\x20n'+'ormalize(v'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'TANGENTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_HEI'+'GHTS)\x20||\x20d'+'efined(LIT'+'_USE_NORMA'+'LS)\x20||\x20def'+'ined(LIT_U'+'SE_CLEARCO'+'AT_NORMALS'+')\x20||\x20defin'+'ed(LIT_GGX'+'_SPECULAR)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dTa'+'ngentW\x20=\x20v'+'TangentW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dBin'+'ormalW\x20=\x20v'+'BinormalW;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20getVie'+'wDir();\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_TB'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_TWO_S'+'IDED_LIGHT'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'handleTwoS'+'idedLighti'+'ng();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20i'+'nvoke\x20fron'+'tend\x20funct'+'ions\x0a\x20\x20\x20\x20e'+'valuateFro'+'ntend();\x0a\x0a'+('\x20\x20\x20\x20#inclu'+'de\x20\x22debugP'+'rocessFron'+'tendPS\x22\x0a\x0a\x20'+'\x20\x20\x20evaluat'+'eBackend()'+';\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a'),AP='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20vec3\x20mate'+'rial_ambie'+'nt;\x0a\x0a#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTING\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightSp'+'ecularAnis'+'oGGXPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightS'+'pecularBli'+'nnPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'combinePS\x22'+'\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tmapAddPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'ADD_AMBIEN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ambi'+'entPS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIT_MSDF'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22msdfP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'include\x20\x22v'+'iewDirPS\x22\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flDirAniso'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a//\x20li'+'ghting\x20fun'+'ctionality')+('\x0a#include\x20'+'\x22lightingP'+'S\x22\x0a\x0a'),CP='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',PP='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',MP='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec4\x20ve'+'rtex_color'+';\x0a#endif\x0a\x0a'+'#ifdef\x20NIN'+'ESLICED\x0a\x0a\x20'+'\x20\x20\x20varying'+'\x20vec2\x20vMas'+'k;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'vTiledUv;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20v'+'ec2\x20outerS'+'cale;\x0a\x20\x20\x20\x20'+'uniform\x20me'+'diump\x20vec4'+'\x20atlasRect'+';\x0a\x0a#endif\x0a'+'\x0avec3\x20dPos'+'itionW;\x0ama'+'t4\x20dModelM'+'atrix;\x0a\x0a#i'+'nclude\x20\x22tr'+'ansformCor'+'eVS\x22\x0a\x0a#ifd'+'ef\x20UV0\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'c2\x20vertex_'+'texCoord1;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22uv1VS'+'\x22\x0a#endif\x0a\x0a'+'\x0a#ifdef\x20LI'+'NEAR_DEPTH'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20#d'+'efine\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'transformV'+'S\x22\x0a\x0a#ifdef'+'\x20NORMALS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22normalC'+'oreVS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22normalVS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20TANG'+'ENTS\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_tangent;\x0a'+'#endif\x0a\x0a//'+'\x20expand\x20un'+'iforms\x20for'+'\x20uv\x20transf'+'orms\x0a#incl'+'ude\x20\x22uvTra'+'nsformUnif'+'ormsPS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'#ifdef\x20MSD'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22msdf'+'VS\x22\x0a#endif'+'\x0a\x0a#include'+'\x20\x20\x22litUser'+'CodeVS\x22\x0a\x0av'+'oid\x20main(v'+'oid)\x20{\x0a\x0a\x20\x20'+'\x20\x20#include'+('\x20\x22litUserM'+'ainStartVS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'default\x20po'+'int\x20size\x20t'+'o\x201\x20in\x20cas'+'e\x20the\x20shad'+'er\x20is\x20used'+'\x20with\x20poin'+'ts\x0a\x20\x20\x20\x20gl_'+'PointSize\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20getP'+'osition();'+'\x0a\x20\x20\x20\x20vPosi'+'tionW\x20=\x20ge'+'tWorldPosi'+'tion();\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'NORMALS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vNor'+'malW\x20=\x20get'+'Normal();\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20TANGENT'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vTangentW\x20'+'=\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vBi'+'normalW\x20=\x20'+'cross(vNor'+'malW,\x20vTan'+'gentW)\x20*\x20v'+'ertex_tang'+'ent.w;\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(GGX_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3(0,\x201'+',\x200));\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV0\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv0'+'\x20=\x20getUv0('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20UV'+'0_UNMODIFI'+'ED\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv1\x20=\x20ge'+'tUv1();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20UV1_UNM'+'ODIFIED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vUv1\x20=\x20uv1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20expa'+'nd\x20code\x20fo'+'r\x20uv\x20trans'+'forms\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'uvTransfor'+'mVS,\x20UV_TR'+'ANSFORMS_C'+'OUNT\x22\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20VE'+'RTEX_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition')+(',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vPosi'+'tionW,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'SDF\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20unpackMs'+'dfParams()'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tUserMainE'+'ndVS\x22\x0a}\x0a'),DP='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20g'+'etPickOutp'+'ut();\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'REPASS_PAS'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20float'+'2vec4(vLin'+'earDepth);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a',IP='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LP='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20te'+'xtureBias\x20'+'=\x20-1000.0;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20texture'+'Bias;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litShade'+'rArgsPS\x22\x0a',RP='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20vec3\x20v'+'iew_positi'+'on;\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20light_ra'+'dius;\x0a#end'+'if\x0a\x0a#if\x20SH'+'ADOW_TYPE\x20'+'==\x20PCSS_32'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22line'+'arizeDepth'+'PS\x22\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'evaluateFr'+'ontend();\x0a'+'\x0a\x20\x20\x20\x20//\x20us'+'ing\x20non-st'+'andard\x20dep'+'th,\x20i.e\x20gl'+'_FragCoord'+'.z\x0a\x20\x20\x20\x20#if'+'def\x20PERSPE'+'CTIVE_DEPT'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20gl_Fra'+'gCoord.z;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SHADOW_'+'TYPE\x20==\x20PC'+'SS_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot/omn'+'i\x20shadows\x20'+'currently\x20'+'use\x20linear'+'\x20depth.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20TODO:\x20u'+'se\x20perspec'+'tive\x20depth'+'\x20for\x20spot/'+'omni\x20the\x20s'+'ame\x20way\x20as'+'\x20direction'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT_TYPE\x20'+'!=\x20DIRECTI'+'ONAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20depth\x20=\x20l'+'inearizeDe'+'pthWithPar'+'ams(depth,'+'\x20camera_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20min(di'+'stance(vie'+'w_position'+',\x20vPositio'+'nW)\x20/\x20ligh'+'t_radius,\x20'+'0.99999);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20MODI'+'FIED_DEPTH'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20VSM_'+'16F\x20||\x20SHA'+'DOW_TYPE\x20='+'=\x20VSM_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20exponen'+'t\x20=\x2015.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+('t\x20exponent'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20depth\x20=\x20'+'2.0\x20*\x20dept'+'h\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dep'+'th\x20=\x20\x20exp('+'exponent\x20*'+'\x20depth);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(dep'+'th,\x20depth*'+'depth,\x201.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'SHADOW_TYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'tore\x20depth'+'\x20into\x20R32\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.r\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ODIFIED_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20If\x20we\x20e'+'nd\x20up\x20usin'+'g\x20modified'+'\x20depth,\x20it'+'\x20needs\x20to\x20'+'be\x20explici'+'tly\x20writte'+'n\x20to\x20gl_Fr'+'agDepth\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20just\x20the\x20'+'simplest\x20c'+'ode,\x20color'+'\x20is\x20not\x20wr'+'itten\x20anyw'+'ay\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'}\x0a'),OP='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20vec2'+'\x20ccLTCUV;\x0a'+'#endif\x0a\x0ave'+'c2\x20getLTCL'+'ightUV(flo'+'at\x20gloss,\x20'+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x0a{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20max('+'(1.0\x20-\x20glo'+'ss)\x20*\x20(1.0'+'\x20-\x20gloss),'+'\x200.001);\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Uv(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'roughness\x20'+');\x0a}\x0a\x0a//\x20u'+'sed\x20for\x20en'+'ergy\x20conse'+'rvation\x20an'+'d\x20to\x20modul'+'ate\x20specul'+'ar\x0avec3\x20dL'+'TCSpecFres'+';\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20vec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0a\x0avec3\x20'+'getLTCLigh')+('tSpecFres('+'vec2\x20uv,\x20v'+'ec3\x20specul'+'arity)\x0a{\x0a\x20'+'\x20\x20\x20vec4\x20t2'+'\x20=\x20texture'+'2DLod(area'+'LightsLutT'+'ex2,\x20uv,\x200'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20spec'+'ularity\x20*\x20'+'t2.x\x20+\x20(\x20v'+'ec3(\x201.0\x20)'+'\x20-\x20specula'+'rity)\x20*\x20t2'+'.y;\x0a}\x0a\x0avoi'+'d\x20calcLTCL'+'ightValues'+'(float\x20glo'+'ss,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20speculari'+'ty,\x20float\x20'+'clearcoatG'+'loss,\x20vec3'+'\x20clearcoat'+'WorldNorma'+'l,\x20float\x20c'+'learcoatSp'+'ecularity)'+'\x0a{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x20\x0a\x0a#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20cc'+'LTCUV\x20=\x20ge'+'tLTCLightU'+'V(clearcoa'+'tGloss,\x20cl'+'earcoatWor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20ccLTCS'+'pecFres\x20=\x20'+'getLTCLigh'+'tSpecFres('+'ccLTCUV,\x20v'+'ec3(clearc'+'oatSpecula'+'rity));\x0a#e'+'ndif\x0a}\x0a\x0avo'+'id\x20calcRec'+'tLightValu'+'es(vec3\x20li'+'ghtPos,\x20ve'+'c3\x20halfWid'+'th,\x20vec3\x20h'+'alfHeight)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0avoid\x20c'+'alcDiskLig'+'htValues(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight)\x20{\x0a\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0av'+'oid\x20calcSp'+'hereLightV'+'alues(vec3'+'\x20lightPos,'+'\x20vec3\x20half'+'Width,\x20vec'+'3\x20halfHeig'+'ht)\x20{\x0a\x20\x20\x20\x20')+('dLTCCoords'+'\x20=\x20getSphe'+'reLightCoo'+'rds(lightP'+'os,\x20halfWi'+'dth,\x20halfH'+'eight);\x0a}\x0a'+'\x0a//\x20An\x20ext'+'ended\x20vers'+'ion\x20of\x20the'+'\x20implement'+'ation\x20from'+'\x20\x22How\x20to\x20s'+'olve\x20a\x20cub'+'ic\x20equatio'+'n,\x20revisit'+'ed\x22\x0a//\x20htt'+'p://moment'+'singraphic'+'s.de/?p=10'+'5\x0avec3\x20Sol'+'veCubic(ve'+'c4\x20Coeffic'+'ient)\x0a{\x0a\x20\x20'+'\x20\x20float\x20pi'+'\x20=\x203.14159'+';\x0a\x20\x20\x20\x20//\x20N'+'ormalize\x20t'+'he\x20polynom'+'ial\x0a\x20\x20\x20\x20Co'+'efficient.'+'xyz\x20/=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20//\x20D'+'ivide\x20midd'+'le\x20coeffic'+'ients\x20by\x20t'+'hree\x0a\x20\x20\x20\x20C'+'oefficient'+'.yz\x20/=\x203.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20A\x20=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20floa'+'t\x20B\x20=\x20Coef'+'ficient.z;'+'\x0a\x20\x20\x20\x20float'+'\x20C\x20=\x20Coeff'+'icient.y;\x0a'+'\x20\x20\x20\x20float\x20'+'D\x20=\x20Coeffi'+'cient.x;\x0a\x0a'+'\x20\x20\x20\x20//\x20Com'+'pute\x20the\x20H'+'essian\x20and'+'\x20the\x20discr'+'iminant\x0a\x20\x20'+'\x20\x20vec3\x20Del'+'ta\x20=\x20vec3('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20-'+'Coefficien'+'t.z\x20*\x20Coef'+'ficient.z\x20'+'+\x20Coeffici'+'ent.y,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20-Coef'+'ficient.y\x20'+'*\x20Coeffici'+'ent.z\x20+\x20Co'+'efficient.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dot(vec2('+'Coefficien'+'t.z,\x20-Coef'+'ficient.y)'+',\x20Coeffici'+'ent.xy)\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'float\x20Disc'+'riminant\x20='+'\x20dot(vec2('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xlc'+',\x20xsc;\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20A\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20C_a\x20=\x20De'+'lta.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20D_a\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(sqr'+'t(Discrimi'+'nant),\x20-D_'+'a)\x20/\x203.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_1a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20x_3'+'a\x20=\x202.0\x20*\x20'+'sqrt(-C_a)'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20((x_1a'+'\x20+\x20x_3a)\x20>'+'\x202.0\x20*\x20B)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xl\x20=\x20x_1'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'\x20=\x20x_3a;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'c\x20=\x20vec2(x'+'l\x20-\x20B,\x20A);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20D\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_d'+'\x20=\x20D;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_d\x20=\x20Delt'+'a.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_d\x20=\x20-D\x20*\x20'+'Delta.y\x20+\x20'+'2.0\x20*\x20C\x20*\x20'+'Delta.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20Take\x20the\x20'+'cubic\x20root'+'\x20of\x20a\x20norm'+'alized\x20com'+'plex\x20numbe'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20Thet'+'a\x20=\x20atan(D'+'\x20*\x20sqrt(Di'+'scriminant'+'),\x20-D_d)\x20/'+'\x203.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_1d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_3d\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_d)\x20*\x20c'+'os(Theta\x20+'+'\x20(2.0\x20/\x203.'+'0)\x20*\x20pi);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20xs;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(x_1d\x20+\x20x_'+'3d\x20<\x202.0\x20*'+'\x20C)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xs\x20='+'\x20x_1d;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xs\x20=\x20x_3'+'d;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20xsc\x20=\x20ve'+'c2(-D,\x20xs\x20'+'+\x20C);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20flo'+'at\x20E\x20=\x20\x20xl'+'c.y\x20*\x20xsc.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20F\x20=\x20-xl'+'c.x\x20*\x20xsc.'+'y\x20-\x20xlc.y\x20')+('*\x20xsc.x;\x0a\x20'+'\x20\x20\x20float\x20G'+'\x20=\x20\x20xlc.x\x20'+'*\x20xsc.x;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20x'+'mc\x20=\x20vec2('+'C\x20*\x20F\x20-\x20B\x20'+'*\x20G,\x20-B\x20*\x20'+'F\x20+\x20C\x20*\x20E)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20Root\x20=\x20v'+'ec3(xsc.x\x20'+'/\x20xsc.y,\x20x'+'mc.x\x20/\x20xmc'+'.y,\x20xlc.x\x20'+'/\x20xlc.y);\x0a'+'\x0a\x20\x20\x20\x20if\x20(R'+'oot.x\x20<\x20Ro'+'ot.y\x20&&\x20Ro'+'ot.x\x20<\x20Roo'+'t.z)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root.xy'+'z\x20=\x20Root.y'+'xz;\x0a\x20\x20\x20\x20el'+'se\x20if\x20(Roo'+'t.z\x20<\x20Root'+'.x\x20&&\x20Root'+'.z\x20<\x20Root.'+'y)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.xzy'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20Root;\x0a'+'}\x0a\x0afloat\x20L'+'TC_Evaluat'+'eDisk(vec3'+'\x20N,\x20vec3\x20V'+',\x20vec3\x20P,\x20'+'mat3\x20Minv,'+'\x20Coords\x20po'+'ints)\x0a{\x0a\x20\x20'+'\x20\x20//\x20const'+'ruct\x20ortho'+'normal\x20bas'+'is\x20around\x20'+'N\x0a\x20\x20\x20\x20vec3'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'vec3\x20T2\x20=\x20'+'cross(N,\x20T'+'1);\x0a\x0a\x20\x20\x20\x20/'+'/\x20rotate\x20a'+'rea\x20light\x20'+'in\x20(T1,\x20T2'+',\x20N)\x20basis'+'\x0a\x20\x20\x20\x20//mat'+'3\x20R\x20=\x20tran'+'spose(mat3'+'(T1,\x20T2,\x20N'+'));\x0a\x20\x20\x20\x20ma'+'t3\x20R\x20=\x20tra'+'nsposeMat3'+'(\x20mat3(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'polygon\x20(a'+'llocate\x205\x20'+'vertices\x20f'+'or\x20clippin'+'g)\x0a\x20\x20\x20\x20vec'+'3\x20L_[\x203\x20];'+'\x0a\x20\x20\x20\x20L_[\x200'+'\x20]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[\x20'+'1\x20]\x20=\x20R\x20*\x20'+'(\x20points.c'+'oord1\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20L_['+'\x202\x20]\x20=\x20R\x20*'+'\x20(\x20points.'+'coord2\x20-\x20P'+'\x20);\x0a\x0a\x20\x20\x20\x20/'+'/\x20init\x20ell'+'ipse\x0a\x20\x20\x20\x20v'+'ec3\x20C\x20\x20=\x200'+'.5\x20*\x20(L_[0'+']\x20+\x20L_[2])'+';\x0a\x20\x20\x20\x20vec3'+'\x20V1\x20=\x200.5\x20'+'*\x20(L_[1]\x20-'+'\x20L_[2]);\x0a\x20'+'\x20\x20\x20vec3\x20V2'+'\x20=\x200.5\x20*\x20('+'L_[1]\x20-\x20L_'+'[0]);\x0a\x0a\x20\x20\x20'+'\x20C\x20\x20=\x20Minv')+('\x20*\x20C;\x0a\x20\x20\x20\x20'+'V1\x20=\x20Minv\x20'+'*\x20V1;\x0a\x20\x20\x20\x20'+'V2\x20=\x20Minv\x20'+'*\x20V2;\x0a\x0a\x20\x20\x20'+'\x20//if(dot('+'cross(V1,\x20'+'V2),\x20C)\x20>\x20'+'0.0)\x0a\x20\x20\x20\x20/'+'/\x20\x20\x20\x20retur'+'n\x200.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20compu'+'te\x20eigenve'+'ctors\x20of\x20e'+'llipse\x0a\x20\x20\x20'+'\x20float\x20a,\x20'+'b;\x0a\x20\x20\x20\x20flo'+'at\x20d11\x20=\x20d'+'ot(V1,\x20V1)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d22\x20=\x20do'+'t(V2,\x20V2);'+'\x0a\x20\x20\x20\x20float'+'\x20d12\x20=\x20dot'+'(V1,\x20V2);\x0a'+'\x20\x20\x20\x20if\x20(ab'+'s(d12)\x20/\x20s'+'qrt(d11\x20*\x20'+'d22)\x20>\x200.0'+'001)\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20tr\x20=\x20'+'d11\x20+\x20d22;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20det\x20='+'\x20-d12\x20*\x20d1'+'2\x20+\x20d11\x20*\x20'+'d22;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20use'+'\x20sqrt\x20matr'+'ix\x20to\x20solv'+'e\x20for\x20eige'+'nvalues\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20det\x20'+'=\x20sqrt(det'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20u\x20='+'\x200.5\x20*\x20sqr'+'t(tr\x20-\x202.0'+'\x20*\x20det);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20v\x20=\x200.5'+'\x20*\x20sqrt(tr'+'\x20+\x202.0\x20*\x20d'+'et);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20e'+'_max\x20=\x20(u\x20'+'+\x20v)\x20*\x20(u\x20'+'+\x20v);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_min\x20=\x20(u'+'\x20-\x20v)\x20*\x20(u'+'\x20-\x20v);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20V1_,\x20V2_;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(d11\x20>\x20'+'d22)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20V2_\x20'+'=\x20d12\x20*\x20V1'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12*V2'+'\x20+\x20(e_max\x20'+'-\x20d22)*V1;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20V2_\x20=\x20d'+'12*V2\x20+\x20(e'+'_min\x20-\x20d22'+')*V1;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20e_max'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'b\x20=\x201.0\x20/\x20'+'e_min;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V1\x20=\x20'+'normalize('+'V1_);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20V2\x20=\x20n'+'ormalize(V'+'2_);\x0a\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20dot(V1'+',\x20V1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20b\x20=\x201'+'.0\x20/\x20dot(V'+'2,\x20V2);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20*'+'=\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20*=\x20sqrt('+'b);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'V3\x20=\x20norma'+'lize(cross'+'(V1,\x20V2));'+'\x0a\x20\x20\x20\x20if\x20(d'+'ot(C,\x20V3)\x20'+'<\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V3\x20*='+'\x20-1.0;\x0a\x0a\x20\x20'+'\x20\x20float\x20L\x20'+'\x20=\x20dot(V3,'+'\x20C);\x0a\x20\x20\x20\x20f'+'loat\x20x0\x20=\x20'+'dot(V1,\x20C)'+'\x20/\x20L;\x0a\x20\x20\x20\x20'+'float\x20y0\x20='+'\x20dot(V2,\x20C'+')\x20/\x20L;\x0a\x0a\x20\x20'+'\x20\x20float\x20E1'+'\x20=\x20inverse'+'sqrt(a);\x0a\x20'+'\x20\x20\x20float\x20E'+'2\x20=\x20invers'+'esqrt(b);\x0a'+'\x0a\x20\x20\x20\x20a\x20*=\x20'+'L\x20*\x20L;\x0a\x20\x20\x20'+'\x20b\x20*=\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20c0\x20=\x20a'+'\x20*\x20b;\x0a\x20\x20\x20\x20'+'float\x20c1\x20='+'\x20a\x20*\x20b\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0\x20+\x20y0\x20*'+'\x20y0)\x20-\x20a\x20-'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20c2\x20=\x201'+'.0\x20-\x20a\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0)\x20-\x20b\x20*'+'\x20(1.0\x20+\x20y0'+'\x20*\x20y0);\x0a\x20\x20'+'\x20\x20float\x20c3'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ro'+'ots\x20=\x20Solv'+'eCubic(vec'+'4(c0,\x20c1,\x20'+'c2,\x20c3));\x0a'+'\x20\x20\x20\x20float\x20'+'e1\x20=\x20roots'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20e2\x20=\x20r'+'oots.y;\x0a\x20\x20'+'\x20\x20float\x20e3'+'\x20=\x20roots.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20avgDir\x20='+'\x20vec3(a\x20*\x20'+'x0\x20/\x20(a\x20-\x20'+'e2),\x20b\x20*\x20y'+'0\x20/\x20(b\x20-\x20e'+'2),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'rotate\x20=\x20m'+'at3(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20L1\x20=\x20sqrt'+'(-e2\x20/\x20e3)'+';\x0a\x20\x20\x20\x20floa'+'t\x20L2\x20=\x20sqr'+'t(-e2\x20/\x20e1'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20formFa'+'ctor\x20=\x20max'+'(0.0,\x20L1\x20*'+'\x20L2\x20*\x20inve')+('rsesqrt((1'+'.0\x20+\x20L1\x20*\x20'+'L1)\x20*\x20(1.0'+'\x20+\x20L2\x20*\x20L2'+')));\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20const\x20'+'float\x20LUT_'+'SIZE\x20=\x2064.'+'0;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_SCALE\x20='+'\x20(\x20LUT_SIZ'+'E\x20-\x201.0\x20)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20float\x20LU'+'T_BIAS\x20=\x200'+'.5\x20/\x20LUT_S'+'IZE;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20tab'+'ulated\x20hor'+'izon-clipp'+'ed\x20sphere\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vec2(a'+'vgDir.z\x20*\x20'+'0.5\x20+\x200.5,'+'\x20formFacto'+'r);\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv*LUT_'+'SCALE\x20+\x20LU'+'T_BIAS;\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'cale\x20=\x20tex'+'ture2DLod('+'areaLights'+'LutTex2,\x20u'+'v,\x200.0).w;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20formFac'+'tor*scale;'+'\x0a}\x0a\x0a//\x20LTC'+'_EvaluateD'+'isk\x20in\x20som'+'e\x20rare\x20cas'+'es\x20generea'+'tes\x20NaN\x20va'+'lues\x20in\x20a\x20'+'or\x20b,\x20just'+'\x20before\x20\x27f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x27\x0a//'+'\x20Get\x20rid\x20o'+'f\x20those\x20Na'+'n\x20values\x20b'+'efore\x20they'+'\x20propagate'+'\x20further,\x20'+'as\x20in\x20case'+'\x20of\x20bloom\x20'+'/\x20DOF\x20blur'+'s\x20they\x0a//\x20'+'propagate\x20'+'to\x20large\x20a'+'reas.\x20I\x20di'+'dn\x27t\x20find\x20'+'the\x20actual'+'\x20reason\x20wh'+'ere\x20those\x20'+'come\x20from,'+'\x20so\x20that\x20i'+'s\x20still\x20TO'+'DO.\x0a//\x20Not'+'e\x20that\x20onl'+'y\x20disk/sph'+'ere\x20lights'+'\x20are\x20causi'+'ng\x20it,\x20so\x20'+'only\x20handl'+'e\x20those.\x0af'+'loat\x20FixNa'+'n(float\x20va'+'lue)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'value\x20!=\x20v'+'alue\x20?\x200.0'+'\x20:\x20value;\x20'+'\x20//\x20isnan\x20'+'does\x20not\x20t'+'ranspile\x20c'+'orrectly,\x20'+'use\x20a\x20work'+'around\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20isnan(va'+'lue)\x20?\x200.0'+'\x20:\x20value;\x0a')+('\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afloat\x20'+'getRectLig'+'htDiffuse('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm)\x20{\x0a\x20\x20'+'\x20\x20return\x20L'+'TC_Evaluat'+'eRect(\x20wor'+'ldNormal,\x20'+'viewDir,\x20v'+'PositionW,'+'\x20mat3(\x201.0'+'\x20),\x20dLTCCo'+'ords\x20);\x0a}\x0a'+'\x0afloat\x20get'+'DiskLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20FixN'+'an(LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mat3('+'\x201.0\x20),\x20dL'+'TCCoords\x20)'+');\x0a}\x0a\x0afloa'+'t\x20getSpher'+'eLightDiff'+'use(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm)\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20float\x20fa'+'lloff\x20=\x20dS'+'phereRadiu'+'s\x20/\x20(dot(l'+'ightDir,\x20l'+'ightDir)\x20+'+'\x20dSphereRa'+'dius);\x0a\x20\x20\x20'+'\x20return\x20Fi'+'xNan(getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNorm)\x20*\x20f'+'alloff);\x0a}'+'\x0a\x0amat3\x20get'+'LTCLightIn'+'vMat(vec2\x20'+'uv)\x0a{\x0a\x20\x20\x20\x20'+'vec4\x20t1\x20=\x20'+'texture2DL'+'od(areaLig'+'htsLutTex1'+',\x20uv,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3(\x20t1.x,\x20'+'0,\x20t1.y\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3(\x20\x20\x20\x200,'+'\x201,\x20\x20\x20\x200\x20)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3(\x20t1.z'+',\x200,\x20t1.w\x20'+')\x0a\x20\x20\x20\x20);\x0a}'+'\x0a\x0afloat\x20ca'+'lcRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir')+(',\x20vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20mat'+'3\x20mInv\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afl'+'oat\x20getRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'calcRectLi'+'ghtSpecula'+'r(worldNor'+'mal,\x20viewD'+'ir,\x20dLTCUV'+');\x0a}\x0a\x0afloa'+'t\x20calcDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20mInv'+'\x20=\x20getLTCL'+'ightInvMat'+'(uv);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'Inv,\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a\x0a'+'float\x20getS'+'phereLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a'),FP='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_metaln'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tMetalness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20metal'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20materi'+'al_metalne'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_METAL'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_METAL'+'NESS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_META'+'LNESS_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_VERTEX\x0a\x20\x20'+'\x20\x20metalnes'+'s\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_METALNES'+'S_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dMet'+'alness\x20=\x20m'+'etalness;\x0a'+'}\x0a',NP='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifndef'+'\x20LIT_MSDF_'+'TEXT_ATTRI'+'BUTE\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20shadow_co'+'lor;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20shadow_o'+'ffset;\x0a#el'+'se\x0a\x20\x20\x20\x20var'+'ying\x20vec4\x20'+'outline_co'+'lor;\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20outline'+'_thickness'+';\x0a\x20\x20\x20\x20vary'+'ing\x20vec4\x20s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'shadow_off'+'set;\x0a#endi'+'f\x0a\x0avec4\x20ap'+'plyMsdf(ve'+'c4\x20color)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Convert\x20to'+'\x20linear\x20sp'+'ace\x20before'+'\x20processin'+'g\x0a\x20\x20\x20\x20//\x20T'+'ODO:\x20ideal'+'ly\x20this\x20wo'+'uld\x20receiv'+'e\x20the\x20colo'+'r\x20in\x20linea'+'r\x20space,\x20b'+'ut\x20that\x20wo'+'uld\x20requir'+'e\x20larger\x20c'+'hanges\x0a\x20\x20\x20'+('\x20//\x20on\x20the'+'\x20engine\x20si'+'de,\x20with\x20t'+'he\x20way\x20pre'+'multiplied'+'\x20alpha\x20is\x20'+'handled\x20as'+'\x20well.\x0a\x20\x20\x20'+'\x20color.rgb'+'\x20=\x20gammaCo'+'rrectInput'+'(color.rgb'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20sample\x20th'+'e\x20field\x0a\x20\x20'+'\x20\x20vec3\x20tsa'+'mple\x20=\x20tex'+'ture2D(tex'+'ture_msdfM'+'ap,\x20vUv0).'+'rgb;\x0a\x20\x20\x20\x20v'+'ec2\x20uvShdw'+'\x20=\x20vUv0\x20-\x20'+'shadow_off'+'set;\x0a\x20\x20\x20\x20v'+'ec3\x20ssampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20uvShdw).r'+'gb;\x0a\x0a\x20\x20\x20\x20/'+'/\x20get\x20the\x20'+'signed\x20dis'+'tance\x20valu'+'e\x0a\x20\x20\x20\x20floa'+'t\x20sigDist\x20'+'=\x20median(t'+'sample.r,\x20'+'tsample.g,'+'\x20tsample.b'+');\x0a\x20\x20\x20\x20flo'+'at\x20sigDist'+'Shdw\x20=\x20med'+'ian(ssampl'+'e.r,\x20ssamp'+'le.g,\x20ssam'+'ple.b);\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20limi'+'t\x20-\x20smalle'+'r\x20value\x20ma'+'kes\x20for\x20sh'+'arper\x20but\x20'+'more\x20alias'+'ed\x20text,\x20e'+'specially\x20'+'on\x20angles\x0a'+'\x20\x20\x20\x20//\x20too'+'\x20large\x20val'+'ue\x20(0.5)\x20c'+'reates\x20a\x20d'+'ark\x20glow\x20a'+'round\x20the\x20'+'letters\x0a\x20\x20'+'\x20\x20float\x20sm'+'oothingMax'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20vec'+'2\x20w\x20=\x20fwid'+'th(vUv0);\x0a'+'\x20\x20\x20\x20float\x20'+'smoothing\x20'+'=\x20clamp(w.'+'x\x20*\x20font_t'+'extureWidt'+'h\x20/\x20font_p'+'xrange,\x200.'+'0,\x20smoothi'+'ngMax);\x0a\x0a\x20'+'\x20\x20\x20float\x20m'+'apMin\x20=\x200.'+'05;\x0a\x20\x20\x20\x20fl'+'oat\x20mapMax'+'\x20=\x20clamp(1'+'.0\x20-\x20font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20float\x20')+('sigDistInn'+'er\x20=\x20map(m'+'apMin,\x20map'+'Max,\x20sigDi'+'st);\x0a\x20\x20\x20\x20f'+'loat\x20sigDi'+'stOutline\x20'+'=\x20map(mapM'+'in,\x20mapMax'+',\x20sigDist\x20'+'+\x20outline_'+'thickness)'+';\x0a\x20\x20\x20\x20sigD'+'istShdw\x20=\x20'+'map(mapMin'+',\x20mapMax,\x20'+'sigDistShd'+'w\x20+\x20outlin'+'e_thicknes'+'s);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20cente'+'r\x20=\x200.5;\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20smoo'+'thing\x20and\x20'+'use\x20to\x20gen'+'erate\x20opac'+'ity\x0a\x20\x20\x20\x20fl'+'oat\x20inside'+'\x20=\x20smooths'+'tep(center'+'-smoothing'+',\x20center+s'+'moothing,\x20'+'sigDistInn'+'er);\x0a\x20\x20\x20\x20f'+'loat\x20outli'+'ne\x20=\x20smoot'+'hstep(cent'+'er-smoothi'+'ng,\x20center'+'+smoothing'+',\x20sigDistO'+'utline);\x0a\x20'+'\x20\x20\x20float\x20s'+'hadow\x20=\x20sm'+'oothstep(c'+'enter-smoo'+'thing,\x20cen'+'ter+smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20vec4\x20t'+'color\x20=\x20(o'+'utline\x20>\x20i'+'nside)\x20?\x20o'+'utline\x20*\x20v'+'ec4(outlin'+'e_color.a\x20'+'*\x20outline_'+'color.rgb,'+'\x20outline_c'+'olor.a)\x20:\x20'+'vec4(0.0);'+'\x0a\x20\x20\x20\x20tcolo'+'r\x20=\x20mix(tc'+'olor,\x20colo'+'r,\x20inside)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20scolor\x20='+'\x20(shadow\x20>'+'\x20outline)\x20'+'?\x20shadow\x20*'+'\x20vec4(shad'+'ow_color.a'+'\x20*\x20shadow_'+'color.rgb,'+'\x20shadow_co'+'lor.a)\x20:\x20t'+'color;\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(scolor'+',\x20tcolor,\x20'+'outline);\x0a'+'\x0a\x20\x20\x20\x20//\x20Co'+'nvert\x20back'+'\x20to\x20gamma\x20'+'space\x20befo'+'re\x20returni'+'ng\x0a\x20\x20\x20\x20tco'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctOutput(t'+'color.rgb)'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20return\x20tc'+'olor;\x0a}\x0a'),kP='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',UP='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20vec2\x20u'+'v0;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2DArra'+'y\x20morphTex'+'ture;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r[{MORPH_T'+'EXTURE_MAX'+'_COUNT}];\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20ui'+'nt\x20morphIn'+'dex[{MORPH'+'_TEXTURE_M'+'AX_COUNT}]'+';\x0a\x20\x20\x20\x20unif'+'orm\x20int\x20co'+'unt;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PH_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20aa'+'bbSize;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20highp\x20vec'+'3\x20color\x20=\x20'+'vec3(0,\x200,'+'\x200);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'pixelCoord'+'s\x20=\x20ivec2('+'uv0\x20*\x20vec2'+'(textureSi'+'ze(morphTe'+'xture,\x200).'+'xy));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20count;\x20'+'i++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20textur'+'eIndex\x20=\x20m'+'orphIndex['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20delta\x20=\x20t'+'exelFetch('+'morphTextu'+'re,\x20ivec3('+'pixelCoord'+'s,\x20int(tex'+'tureIndex)'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20+'+'=\x20morphFac'+'tor[i]\x20*\x20d'+'elta;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20MORPH_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20color\x20'+'=\x20(color\x20-'+'\x20aabbMin)\x20'+'/\x20aabbSize'+'\x20*\x2065535.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20u'+'vec4(color'+',\x201u);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(color,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a',BP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a',zP='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',VP='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',GP='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0a\x0a#ifdef\x20M'+'ORPHING_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20morphNor'+'malTex;\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'morphNorma'+'lTex;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0avec3\x20'+'getLocalNo'+'rmal(vec3\x20'+'vertexNorm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lNormal\x20=\x20'+'vertex_nor'+'mal;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_NORM'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphNormal'+'\x20=\x20vec3(te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz)\x20/'+'\x2065535.0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphNo'+'rmal\x20=\x20tex'+'elFetch(mo'+'rphNormalT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20localNor'+'mal\x20+=\x20mor'+'phNormal;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20localN'+'ormal;\x0a}\x0a\x0a'+'#if\x20define'+'d(SKIN)\x20||'+'\x20defined(B'+'ATCH)\x0a\x20\x20\x20\x20'+'mat3\x20getNo'+'rmalMatrix'+'(mat4\x20mode'+'lMatrix)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mat3'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20ma'+'t3\x20getNorm'+'alMatrix(m'+'at4\x20modelM'+'atrix)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20mat3(m'+'odelMatrix'+'[0].xyz,\x20m'+('odelMatrix'+'[1].xyz,\x20m'+'odelMatrix'+'[2].xyz);\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20mat3'+'\x20getNormal'+'Matrix(mat'+'4\x20modelMat'+'rix)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_n'+'ormal;\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'),HP='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_bumpin'+'ess;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_NORMAL'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20bl'+'endNormals'+'(vec3\x20n1,\x20'+'vec3\x20n2)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20https://'+'blog.selfs'+'hadow.com/'+'publicatio'+'ns/blendin'+'g-in-detai'+'l/#detail-'+'oriented\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20n1\x20'+'+=\x20vec3(0,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20n2\x20*'+'=\x20vec3(-1,'+'\x20-1,\x201);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20getNorm'+'al()\x20{\x0a#if'+'def\x20STD_NO'+'RMAL_TEXTU'+'RE\x0a\x20\x20\x20\x20vec'+'3\x20normalMa'+'p\x20=\x20{STD_N'+'ORMAL_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_NORMAL_TE'+'XTURE_NAME'+'},\x20{STD_NO'+'RMAL_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+');\x0a\x20\x20\x20\x20nor'+'malMap\x20=\x20m'+'ix(vec3(0.'+'0,\x200.0,\x201.'+'0),\x20normal'+'Map,\x20mater'+'ial_bumpin'+'ess);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMALDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20norm'+'alDetailMa'+'p\x20=\x20{STD_N'+'ORMALDETAI'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_NOR'+'MALDETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'NORMALDETA'+'IL_TEXTURE'+'_UV},\x20text'+'ureBias));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20blend'+'Normals(no'+'rmalMap,\x20n'+('ormalDetai'+'lMap);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20normalMap'+');\x0a#else\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20dVerte'+'xNormalW;\x0a'+'#endif\x0a}\x0a'),WP='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_OPACITY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20dAlpha\x20*='+'\x20texture2D'+'Bias({STD_'+'OPACITY_TE'+'XTURE_NAME'+'},\x20{STD_OP'+'ACITY_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20*=\x20c'+'lamp(vVert'+'exColor.{S'+'TD_OPACITY'+'_VERTEX_CH'+'ANNEL},\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',$P='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20vec4\x20b'+'lueNoiseJi'+'tter;\x0a\x0a#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BLUENOI'+'SE\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blueN'+'oiseTex32;'+'\x0a#endif\x0a\x0av'+'oid\x20opacit'+'yDither(fl'+'oat\x20alpha,'+'\x20float\x20id)'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BAYER8\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20bayer8('+'floor(mod('+'gl_FragCoo'+'rd.xy\x20+\x20bl'+'ueNoiseJit'+'ter.xy\x20+\x20i'+'d,\x208.0)))\x20'+'/\x2064.0;\x0a\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20==\x20'+'IGNNOISE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20based\x20'+'on\x20https:/'+'/www.iryok'+'u.com/next'+'-generatio'+'n-post-pro'+'cessing-in'+'-call-of-d'+'uty-advanc'+'ed-warfare'+'/\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'agic\x20=\x20vec'+'3(0.067110'+'56,\x200.0058'+'3715,\x2052.9'+'829189);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20fract'+'(magic.z\x20*'+'\x20fract(dot'+'(gl_FragCo'+'ord.xy\x20+\x20b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id,\x20magic.'+'xy)));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20convert\x20'+'the\x20noise\x20'+'to\x20linear\x20'+'space,\x20as\x20'+'that\x20is\x20sp'+'ecified\x20in'+('\x20sRGB\x20spac'+'e\x20(stores\x20'+'perceptual'+'\x20values)\x0a\x20'+'\x20\x20\x20noise\x20='+'\x20pow(noise'+',\x202.2);\x0a\x0a\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x20noise'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a}'+'\x0a'),XP='\x0a',qP='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20litArgs_'+'opacity;\x0a\x0a'+'#elif\x20LIT_'+'BLEND_TYPE'+'\x20==\x20PREMUL'+'TIPLIED\x0a\x0a\x20'+'\x20\x20\x20gl_Frag'+'Color.rgb\x20'+'*=\x20litArgs'+'_opacity;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.a\x20='+'\x20litArgs_o'+'pacity;\x0a\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x201.0'+';\x0a\x0a#endif\x0a',jP='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',YP='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEEN_'+'TEXTURE\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20{STD'+'_SHEEN_TEX'+'TURE_DECOD'+'E}(texture'+'2DBias({ST'+'D_SHEEN_TE'+'XTURE_NAME'+'},\x20{STD_SH'+'EEN_TEXTUR'+'E_UV},\x20tex'+'tureBias))'+'.{STD_SHEE'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_VERTEX\x0a'+'\x20\x20\x20\x20sheenC'+'olor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sSpec'+'ularity\x20=\x20'+'sheenColor'+';\x0a}\x0a',KP='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20*'+'=\x20texture2'+'DBias({STD'+'_SHEENGLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_SHEENGLO'+'SS_TEXTURE'+'_UV},\x20text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20*='+'\x20saturate('+'vVertexCol'+'or.{STD_SH'+'EENGLOSS_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_INVER'+'T\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x201.0\x20-\x20'+'sheenGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20sGlossi'+'ness\x20=\x20she'+'enGlossine'+'ss\x20+\x200.000'+'0001;\x0a}\x0a',ZP='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_H'+'EIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20he'+'ight\x20=\x20hei'+'ght\x20*\x20para'+'llaxScale\x20'+'-\x20parallax'+'Scale\x20*\x200.'+'5;\x0a\x20\x20\x20\x20vec'+'3\x20viewDirT'+'\x20=\x20dViewDi'+'rW\x20*\x20dTBN;'+'\x0a\x0a\x20\x20\x20\x20view'+'DirT.z\x20+=\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',QP='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20co'+'nst\x20uvec4\x20'+'shifts\x20=\x20u'+'vec4(16,\x208'+',\x200,\x2024);\x0a'+'\x20\x20\x20\x20uvec4\x20'+'col\x20=\x20(uve'+'c4(meshIns'+'tanceId)\x20>'+'>\x20shifts)\x20'+'&\x20uvec4(0x'+'ff);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'(col)\x20*\x20in'+'v;\x0a}\x0a',JP='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',e2='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x0a\x20\x20\x20\x20'+'vec2\x20direc'+'tion\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicT\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3(directi'+'on,\x200.0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cB\x20=\x20norma'+'lize(cross'+'(tbn[2],\x20a'+'nisotropic'+'T));\x0a\x0a\x20\x20\x20\x20'+'float\x20anis'+'otropy\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20vec3'+'\x20anisotrop'+'icDirectio'+'n\x20=\x20anisot'+'ropicB;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicTa'+'ngent\x20=\x20cr'+'oss(anisot'+'ropicDirec'+'tion,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicNorm'+'al\x20=\x20cross'+'(anisotrop'+'icTangent,'+'\x20anisotrop'+'icDirectio'+'n);\x0a\x20\x20\x20\x20fl'+'oat\x20bendFa'+'ctor\x20=\x201.0'+'\x20-\x20anisotr'+'opy\x20*\x20(1.0'+'\x20-\x20roughne'+'ss);\x0a\x20\x20\x20\x20f'+'loat\x20bendF'+'actor4\x20=\x20b'+'endFactor\x20'+'*\x20bendFact'+'or\x20*\x20bendF'+'actor\x20*\x20be'+'ndFactor;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'entNormal\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}\x0a',t2='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',s2='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20{re'+'flectionDe'+'code}(text'+'ureCube(te'+'xture_cube'+'Map,\x20looku'+'pVec));\x0a}\x0a'+'\x0avoid\x20addR'+'eflection('+'vec3\x20reflD'+'ir,\x20float\x20'+'gloss)\x20{\x20\x20'+'\x20\x0a\x20\x20\x20\x20dRef'+'lection\x20+='+'\x20vec4(calc'+'Reflection'+'(reflDir,\x20'+'gloss),\x20ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',i2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_envAtlas;'+'\x0a#endif\x0aun'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'flectivity'+';\x0a\x0avec3\x20ca'+'lcReflecti'+'on(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20cub'+'eMapProjec'+'t(reflDir)'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'Uv(dir);\x0a\x0a'+'\x20\x20\x20\x20//\x20cal'+'culate\x20rou'+'ghness\x20lev'+'el\x0a\x20\x20\x20\x20flo'+'at\x20level\x20='+'\x20saturate('+'1.0\x20-\x20glos'+'s)\x20*\x205.0;\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel\x20=\x20f'+'loor(level'+');\x0a\x20\x20\x20\x20flo'+'at\x20flevel\x20'+'=\x20level\x20-\x20'+'ilevel;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'arp\x20=\x20{ref'+'lectionCub'+'emapDecode'+'}(textureC'+'ube(textur'+'e_cubeMap,'+'\x20dir));\x0a\x20\x20'+'\x20\x20vec3\x20rou'+'ghA\x20=\x20{ref'+'lectionDec'+'ode}(textu'+'re2D(textu'+'re_envAtla'+'s,\x20mapRoug'+'hnessUv(uv'+',\x20ilevel))'+');\x0a\x20\x20\x20\x20vec'+'3\x20roughB\x20='+'\x20{reflecti'+'onDecode}('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',r2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_env'+'Atlas;\x0a#en'+'dif\x0aunifor'+'m\x20float\x20ma'+'terial_ref'+'lectivity;'+'\x0a\x0a//\x20calcu'+'late\x20mip\x20l'+'evel\x20for\x20s'+'hiny\x20refle'+'ction\x20give'+'n\x20equirect'+'\x20coords\x20uv'+'.\x0afloat\x20sh'+'inyMipLeve'+'l(vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20dx\x20=\x20dFd'+'x(uv);\x0a\x20\x20\x20'+'\x20vec2\x20dy\x20='+'\x20dFdy(uv);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20s'+'econd\x20dF\x20a'+'t\x20180\x20degr'+'ees\x0a\x20\x20\x20\x20ve'+'c2\x20uv2\x20=\x20v'+'ec2(fract('+'uv.x\x20+\x200.5'+'),\x20uv.y);\x0a'+'\x20\x20\x20\x20vec2\x20d'+'x2\x20=\x20dFdx('+'uv2);\x0a\x20\x20\x20\x20'+'vec2\x20dy2\x20='+'\x20dFdy(uv2)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'min\x20of\x20bot'+'h\x20sets\x20of\x20'+'dF\x20to\x20hand'+'le\x20discont'+'inuity\x20at\x20'+'the\x20azim\x20e'+'dge\x0a\x20\x20\x20\x20fl'+'oat\x20maxd\x20='+'\x20min(max(d'+'ot(dx,\x20dx)'+',\x20dot(dy,\x20'+'dy)),\x20max('+'dot(dx2,\x20d'+'x2),\x20dot(d'+'y2,\x20dy2)))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'0.5\x20*\x20log2'+'(maxd)\x20-\x201'+'.0\x20+\x20textu'+'reBias,\x200.'+'0,\x205.0);\x0a}'+'\x0a\x0avec3\x20cal'+'cReflectio'+'n(vec3\x20ref'+'lDir,\x20floa'+'t\x20gloss)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3(-1.'+'0,\x201.0,\x201.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20to'+'SphericalU'+'v(dir);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20roug'+'hness\x20leve'+'l\x0a\x20\x20\x20\x20floa'+'t\x20level\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20float\x20i'+'level\x20=\x20fl'+'oor(level)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'accessing\x20'+'the\x20shiny\x20'+'(top\x20level'+')\x20reflecti'+'on\x20-\x20perfo'+'rm\x20manual\x20'+'mipmap\x20loo'+'kup\x0a\x20\x20\x20\x20fl'+('oat\x20level2'+'\x20=\x20shinyMi'+'pLevel(uv\x20'+'*\x20atlasSiz'+'e);\x0a\x20\x20\x20\x20fl'+'oat\x20ilevel'+'2\x20=\x20floor('+'level2);\x0a\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v0,\x20uv1;\x0a\x20'+'\x20\x20\x20float\x20w'+'eight;\x0a\x20\x20\x20'+'\x20if\x20(ileve'+'l\x20==\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20mapS'+'hinyUv(uv,'+'\x20ilevel2);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v1\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x20level2\x20'+'-\x20ilevel2;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20acces'+'sing\x20rough'+'\x20reflectio'+'n\x20-\x20just\x20s'+'ample\x20the\x20'+'same\x20part\x20'+'twice\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'uv1\x20=\x20mapR'+'oughnessUv'+'(uv,\x20ileve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20weight\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'3\x20linearA\x20'+'=\x20{reflect'+'ionDecode}'+'(texture2D'+'(texture_e'+'nvAtlas,\x20u'+'v0));\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'rB\x20=\x20{refl'+'ectionDeco'+'de}(textur'+'e2D(textur'+'e_envAtlas'+',\x20uv1));\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near0\x20=\x20mi'+'x(linearA,'+'\x20linearB,\x20'+'weight);\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near1\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(line'+'ar0,\x20linea'+'r1,\x20level\x20'+'-\x20ilevel))'+';\x0a}\x0a\x0avoid\x20'+'addReflect'+'ion(vec3\x20r'+'eflDir,\x20fl'+'oat\x20gloss)'+'\x20{\x20\x20\x20\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20+=\x20vec4('+'calcReflec'+'tion(reflD'+'ir,\x20gloss)'+',\x20material'+'_reflectiv'+'ity);\x0a}\x0a'),a2='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'uniform\x20sa'+'mpler2D\x20te'+'xture_sphe'+'reMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20reflDir'+'V\x20=\x20(mat3('+'matrix_vie'+'w)\x20*\x20reflD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20m\x20=\x20'+'2.0\x20*\x20sqrt'+'(dot(reflD'+'irV.xy,\x20re'+'flDirV.xy)'+'\x20+\x20(reflDi'+'rV.z\x20+\x201.0'+')\x20*\x20(reflD'+'irV.z\x20+\x201.'+'0));\x0a\x20\x20\x20\x20v'+'ec2\x20sphere'+'MapUv\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(texture2'+'D(texture_'+'sphereMap,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0av'+'oid\x20addRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x20\x20\x20\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20+=\x20v'+'ec4(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20mate'+'rial_refle'+'ctivity);\x0a'+'}\x0a',n2='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',o2='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',l2='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bas'+'ed\x20on\x20the\x20'+'dispersion'+'\x20material\x20'+'property,\x20'+'calculate\x20'+'modified\x20r'+'efraction\x20'+'index\x20valu'+'es\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20for\x20R\x20'+'and\x20B\x20chan'+'nels\x20and\x20e'+'valuate\x20th'+'e\x20refracti'+'on\x20color\x20f'+'or\x20them.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20halfSpr'+'ead\x20=\x20(1.0'+'\x20/\x20refract'+'ionIndex\x20-')+('\x201.0)\x20*\x200.'+'025\x20*\x20disp'+'ersion;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20refract'+'ionIndexR\x20'+'=\x20refracti'+'onIndex\x20-\x20'+'halfSpread'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'refraction'+'Vector\x20=\x20n'+'ormalize(r'+'efract(-vi'+'ewDir,\x20wor'+'ldNormal,\x20'+'refraction'+'IndexR))\x20*'+'\x20scale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'action.r\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'xR).r;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20refracti'+'onIndexB\x20='+'\x20refractio'+'nIndex\x20+\x20h'+'alfSpread;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efractionV'+'ector\x20=\x20no'+'rmalize(re'+'fract(-vie'+'wDir,\x20worl'+'dNormal,\x20r'+'efractionI'+'ndexB))\x20*\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ction.b\x20=\x20'+'evalRefrac'+'tionColor('+'refraction'+'Vector,\x20gl'+'oss,\x20refra'+'ctionIndex'+'B).b;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Trans'+'mittance\x20i'+'s\x20our\x20fina'+'l\x20refracti'+'on\x20color\x0a\x20'+'\x20\x20\x20vec3\x20tr'+'ansmittanc'+'e;\x0a\x20\x20\x20\x20if\x20'+'(material_'+'invAttenua'+'tionDistan'+'ce\x20!=\x200.0)'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'attenuatio'+'n\x20=\x20-log(m'+'aterial_at'+'tenuation)'+'\x20*\x20materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans'+'mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20vec3'+'\x20fresnel\x20='+'\x20vec3(1.0)'+'\x20-\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot(')+('viewDir,\x20w'+'orldNormal'+'),\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20ref'+'raction\x20*\x20'+'transmitta'+'nce\x20*\x20fres'+'nel,\x20trans'+'mission);\x0a'+'}\x0a'),c2='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0a//\x20sourc'+'e\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20so'+'urceCube;\x0a'+'#else\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20so'+'urceTex;\x0a#'+'endif\x0a\x0a#if'+'def\x20USE_SA'+'MPLES_TEX\x0a'+'\x20\x20\x20\x20//\x20sam'+'ples\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20sam'+'plesTex;\x0a\x20'+'\x20\x20\x20uniform'+'\x20vec2\x20samp'+'lesTexInve'+'rseSize;\x0a#'+'endif\x0a\x0a//\x20'+'params:\x0a//'+'\x20x\x20-\x20targe'+'t\x20cubemap\x20'+'face\x200..6\x0a'+'//\x20y\x20-\x20tar'+'get\x20image\x20'+'total\x20pixe'+'ls\x0a//\x20z\x20-\x20'+'source\x20cub'+'emap\x20size\x0a'+'uniform\x20ve'+'c3\x20params;'+'\x0a\x0afloat\x20ta'+'rgetFace()'+'\x20{\x20return\x20'+'params.x;\x20'+'}\x0afloat\x20ta'+'rgetTotalP'+'ixels()\x20{\x20'+'return\x20par'+'ams.y;\x20}\x0af'+'loat\x20sourc'+'eTotalPixe'+'ls()\x20{\x20ret'+'urn\x20params'+'.z;\x20}\x0a\x0aflo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0a#i'+'nclude\x20\x22de'+'codePS\x22\x0a#i'+'nclude\x20\x22en'+'codePS\x22\x0a\x0a/'+'/--\x20suppor'+'ted\x20projec'+'tions\x0a\x0avec'+'3\x20modifySe'+'ams(vec3\x20d'+'ir,\x20float\x20'+'scale)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20ad'+'ir\x20=\x20abs(d'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20M\x20=\x20m'+'ax(max(adi'+'r.x,\x20adir.'+'y),\x20adir.z'+');\x0a\x20\x20\x20\x20ret'+'urn\x20dir\x20/\x20'+'M\x20*\x20vec3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.x\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20adir.y\x20'+'==\x20M\x20?\x201.0'+'\x20:\x20scale,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.z\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+('\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec3\x20f'+'romSpheric'+'al(vec2\x20uv'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec3('+'cos(uv.y)\x20'+'*\x20sin(uv.x'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'in(uv.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cos('+'uv.y)\x20*\x20co'+'s(uv.x));\x0a'+'}\x0a\x0avec3\x20ge'+'tDirection'+'Equirect()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20fromSp'+'herical((v'+'ec2(vUv0.x'+',\x201.0\x20-\x20vU'+'v0.y)\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20vec2(PI,\x20'+'PI\x20*\x200.5))'+';\x0a}\x0a\x0a//\x20oc'+'tahedral\x20c'+'ode,\x20based'+'\x20on\x20https:'+'//jcgt.org'+'/published'+'/0003/02/0'+'1/\x0a//\x20\x22Sur'+'vey\x20of\x20Eff'+'icient\x20Rep'+'resentatio'+'ns\x20for\x20Ind'+'ependent\x20U'+'nit\x20Vector'+'s\x22\x20by\x20Cigo'+'lle,\x20Donow'+',\x20Evangela'+'kos,\x20Mara,'+'\x20McGuire,\x20'+'Meyer\x0a\x0aflo'+'at\x20signNot'+'Zero(float'+'\x20k){\x0a\x20\x20\x20\x20r'+'eturn(k\x20>='+'\x200.0)\x20?\x201.'+'0\x20:\x20-1.0;\x0a'+'}\x0a\x0avec2\x20si'+'gnNotZero('+'vec2\x20v)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec2(sign'+'NotZero(v.'+'x),\x20signNo'+'tZero(v.y)'+');\x0a}\x0a\x0a//\x20R'+'eturns\x20a\x20u'+'nit\x20vector'+'.\x20Argument'+'\x20o\x20is\x20an\x20o'+'ctahedral\x20'+'vector\x20pac'+'ked\x20via\x20oc'+'tEncode,\x20o'+'n\x20the\x20[-1,'+'\x20+1]\x20squar'+'e\x0avec3\x20oct'+'Decode(vec'+'2\x20o)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20v\x20=\x20'+'vec3(o.x,\x20'+'1.0\x20-\x20abs('+'o.x)\x20-\x20abs'+'(o.y),\x20o.y'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20v.xz\x20=\x20('+'1.0\x20-\x20abs('+'v.zx))\x20*\x20s'+'ignNotZero'+'(v.xz);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lize(v);\x0a}'+'\x0a\x0avec3\x20get'+'DirectionO'+'ctahedral('+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20octDe'+'code(vec2(')+('vUv0.x,\x201.'+'0\x20-\x20vUv0.y'+')\x20*\x202.0\x20-\x20'+'1.0);\x0a}\x0a\x0a/'+'/\x20Assumes\x20'+'that\x20v\x20is\x20'+'a\x20unit\x20vec'+'tor.\x20The\x20r'+'esult\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'on\x20the\x20[-1'+',\x20+1]\x20squa'+'re\x0avec2\x20oc'+'tEncode(in'+'\x20vec3\x20v)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20vec2'+'\x20result\x20=\x20'+'v.xz\x20*\x20(1.'+'0\x20/\x20l1norm'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20result\x20='+'\x20(1.0\x20-\x20ab'+'s(result.y'+'x))\x20*\x20sign'+'NotZero(re'+'sult.xy);\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20res'+'ult;\x0a}\x0a\x0a//'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'///////\x0a\x0a#'+'ifdef\x20CUBE'+'MAP_SOURCE'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleCube'+'map(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureCu'+'be(sourceC'+'ube,\x20modif'+'ySeams(dir'+',\x201.0));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eCubemap(v'+'ec2\x20sph)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leCubemap('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleCubemap'+'(vec3\x20dir,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCubeLod(s'+'ourceCube,'+'\x20modifySea'+'ms(dir,\x201.'+'0),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleCub'+'emap(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleCubema'+'p(fromSphe'+'rical(sph)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eEquirect('+'vec2\x20sph)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'sph\x20/\x20vec2'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleEqu'+'irect(toSp'+'herical(di'+'r));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleEqu'+'irect(vec2'+'\x20sph,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20sph\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2DLo'+'d(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20sampleEq'+'uirect(toS'+'pherical(d'+'ir),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20o'+'ctEncode(d'+'ir)\x20*\x200.5\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Octahedral'+'(vec2\x20sph)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20octEn'+'code(dir)\x20'+'*\x200.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20te'+'xture2DLod'+'(sourceTex'+',\x20vec2(uv.'+'x,\x201.0\x20-\x20u'+'v.y),\x20mipL'+'evel);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20sampleO'+'ctahedral('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph),\x20')+('mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0avec3'+'\x20getDirect'+'ionCubemap'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20st\x20=\x20v'+'Uv0\x20*\x202.0\x20'+'-\x201.0;\x0a\x20\x20\x20'+'\x20float\x20fac'+'e\x20=\x20target'+'Face();\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ve'+'c;\x0a\x20\x20\x20\x20if\x20'+'(face\x20==\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(1,\x20-s'+'t.y,\x20-st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3(-1,\x20-st.'+'y,\x20st.x);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x202.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x201,\x20st'+'.y);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x203.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'-1,\x20-st.y)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(fac'+'e\x20==\x204.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec\x20=\x20vec3'+'(st.x,\x20-st'+'.y,\x201);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'-st.x,\x20-st'+'.y,\x20-1);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(mod'+'ifySeams(v'+'ec,\x201.0));'+'\x0a}\x0a\x0amat3\x20m'+'atrixFromV'+'ector(vec3'+'\x20n)\x20{\x20//\x20f'+'risvad\x0a\x20\x20\x20'+'\x20float\x20a\x20='+'\x201.0\x20/\x20(1.'+'0\x20+\x20n.z);\x0a'+'\x20\x20\x20\x20float\x20'+'b\x20=\x20-n.x\x20*'+'\x20n.y\x20*\x20a;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'1\x20=\x20vec3(1'+'.0\x20-\x20n.x\x20*'+'\x20n.x\x20*\x20a,\x20'+'b,\x20-n.x);\x0a'+'\x20\x20\x20\x20vec3\x20b'+'2\x20=\x20vec3(b'+',\x201.0\x20-\x20n.'+'y\x20*\x20n.y\x20*\x20'+'a,\x20-n.y);\x0a'+'\x20\x20\x20\x20return'+'\x20mat3(b1,\x20'+'b2,\x20n);\x0a}\x0a'+'\x0amat3\x20matr'+'ixFromVect'+'orSlow(vec'+'3\x20n)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20up\x20='+'\x20(1.0\x20-\x20ab'+'s(n.y)\x20<=\x20'+'0.0000001)'+'\x20?\x20vec3(0.'+'0,\x200.0,\x20n.'+'y\x20>\x200.0\x20?\x20'+'1.0\x20:\x20-1.0'+')\x20:\x20vec3(0'+'.0,\x201.0,\x200'+'.0);\x0a\x20\x20\x20\x20v'+'ec3\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20vec'+'3\x20y\x20=\x20cros')+('s(n,\x20x);\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(x,\x20y,'+'\x20n);\x0a}\x0a\x0ave'+'c4\x20reproje'+'ct()\x20{\x0a\x20\x20\x20'+'\x20if\x20({NUM_'+'SAMPLES}\x20<'+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20si'+'ngle\x20sampl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20{EN'+'CODE_FUNC}'+'({DECODE_F'+'UNC}({SOUR'+'CE_FUNC}({'+'TARGET_FUN'+'C}())));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multi\x20s'+'ample\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20t'+'\x20=\x20{TARGET'+'_FUNC}();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tu\x20=\x20dF'+'dx(t);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'tv\x20=\x20dFdy('+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(float\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'++u)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'v\x20=\x200.0;\x20v'+'\x20<\x20{NUM_SA'+'MPLES_SQRT'+'};\x20++v)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20{DEC'+'ODE_FUNC}('+'{SOURCE_FU'+'NC}(normal'+'ize(t\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20tu'+'\x20*\x20(u\x20/\x20{N'+'UM_SAMPLES'+'_SQRT}\x20-\x200'+'.5)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20tv\x20*'+'\x20(v\x20/\x20{NUM'+'_SAMPLES_S'+'QRT}\x20-\x200.5'+'))));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20({'+'NUM_SAMPLE'+'S_SQRT}\x20*\x20'+'{NUM_SAMPL'+'ES_SQRT}))'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0avec4\x20unpa'+'ckFloat\x20=\x20'+'vec4(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20void\x20'+'unpackSamp'+'le(int\x20i,\x20'+'out\x20vec3\x20L'+',\x20out\x20floa')+('t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x20(float(i'+'\x20*\x204)\x20+\x200.'+'5)\x20*\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x20(f'+'loor(u)\x20+\x20'+'0.5)\x20*\x20sam'+'plesTexInv'+'erseSize.y'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20raw;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.x\x20=\x20dot'+'(texture2D'+'(samplesTe'+'x,\x20vec2(u,'+'\x20v)),\x20unpa'+'ckFloat);\x20'+'u\x20+=\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'texture2D('+'samplesTex'+',\x20vec2(u,\x20'+'v)),\x20unpac'+'kFloat);\x20u'+'\x20+=\x20sample'+'sTexInvers'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.z\x20=\x20dot(t'+'exture2D(s'+'amplesTex,'+'\x20vec2(u,\x20v'+')),\x20unpack'+'Float);\x20u\x20'+'+=\x20samples'+'TexInverse'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20raw.'+'w\x20=\x20dot(te'+'xture2D(sa'+'mplesTex,\x20'+'vec2(u,\x20v)'+'),\x20unpackF'+'loat);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20L.xy'+'z\x20=\x20raw.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mipLeve'+'l\x20=\x20raw.w\x20'+'*\x208.0;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20convolve\x20'+'an\x20environ'+'ment\x20given'+'\x20pre-gener'+'ated\x20sampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamples()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L')+(',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level))\x20*\x20'+'L.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tot'+'alWeight\x20+'+'=\x20L.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20{ENCODE'+'_FUNC}(res'+'ult\x20/\x20tota'+'lWeight);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20unweig'+'hted\x20versi'+'on\x20of\x20pref'+'ilterSampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamplesUn'+'weighted()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20fl'+'oat({NUM_S'+'AMPLES}));'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20{PROCESS'+'_FUNC}();\x0a'+'}\x0a'),h2='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0auniform'+'\x20vec4\x20uvMo'+'d;\x0avarying'+'\x20vec2\x20vUv0'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(vertex_po'+'sition.xy\x20'+'*\x200.5\x20+\x200.'+'5)\x20*\x20uvMod'+'.xy\x20+\x20uvMo'+'d.zw);\x0a}\x0a',d2='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SCREENS'+'IZE\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#ifndef'+'\x20CAMERAPLA'+'NES\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20camera'+'_params;\x20/'+'/\x20x:\x201\x20/\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20\x20y:\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20z:\x20ca'+'mera_near,'+'\x20\x20\x20\x20\x20\x20\x20\x20w:'+'\x20is_ortho\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20lineariz'+'eDepth(flo'+'at\x20z)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'camera_par'+'ams.w\x20==\x200'+'.0)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(camera'+'_params.z\x20'+'*\x20camera_p'+'arams.y)\x20/'+'\x20(camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(camer'+'a_params.z'+'\x20-\x20camera_'+'params.y))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20camera'+'_params.z\x20'+'+\x20z\x20*\x20(cam'+'era_params'+'.y\x20-\x20camer'+'a_params.z'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0aflo'+'at\x20delinea'+'rizeDepth('+'float\x20line'+'arDepth)\x20{'+'\x0a\x20\x20\x20\x20if\x20(c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'(camera_pa'+'rams.y\x20*\x20('+'camera_par'+'ams.z\x20-\x20li'+'nearDepth)'+')\x20/\x20(linea'+'rDepth\x20*\x20('+'camera_par'+'ams.z\x20-\x20ca'+'mera_param'+'s.y));\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(line'+'arDepth\x20-\x20'+'camera_par'+'ams.z)\x20/\x20('+('camera_par'+'ams.y\x20-\x20ca'+'mera_param'+'s.z);\x0a\x20\x20\x20\x20'+'}\x0a}\x0a\x0a//\x20Re'+'trieves\x20re'+'ndered\x20lin'+'ear\x20camera'+'\x20depth\x20by\x20'+'UV\x0afloat\x20g'+'etLinearSc'+'reenDepth('+'vec2\x20uv)\x20{'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SCENE_DE'+'PTHMAP_LIN'+'EAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_FLOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2D(u'+'SceneDepth'+'Map,\x20uv).r'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20textu'+'reSize\x20=\x20t'+'extureSize'+'(uSceneDep'+'thMap,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20t'+'exel\x20=\x20ive'+'c2(uv\x20*\x20ve'+'c2(texture'+'Size));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20data\x20'+'=\x20texelFet'+'ch(uSceneD'+'epthMap,\x20t'+'exel,\x200);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(data.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(uint(d'+'ata.g\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20|\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.b\x20*\x20255.'+'0)\x20<<\x208u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(data.a\x20'+'*\x20255.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uintBitsTo'+'Float(intB'+'its);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20line'+'arizeDepth'+'(texture2D'+'(uSceneDep'+'thMap,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20float\x20'+'getLinearS'+'creenDepth'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20uv'+'\x20=\x20gl_Frag'+'Coord.xy\x20*'+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afloat\x20'+'getLinearD'+'epth(vec3\x20'+'pos)\x20{\x0a\x20\x20\x20'+'\x20return\x20-('+'matrix_vie'+'w\x20*\x20vec4(p'+'os,\x201.0)).'+'z;\x0a}\x0a'),f2='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avec3\x20'+'fadeShadow'+'(vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'CascadeDis'+'tances)\x20{\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20if\x20th'+'e\x20pixel\x20is'+'\x20past\x20the\x20'+'shadow\x20dis'+'tance,\x20rem'+'ove\x20shadow'+'\x0a\x20\x20\x20\x20//\x20th'+'is\x20enforce'+'s\x20straight'+'\x20line\x20inst'+'ead\x20of\x20cor'+'ner\x20of\x20sha'+'dow\x20which\x20'+'moves\x20when'+'\x20camera\x20ro'+'tates\x20\x20\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x20\x20'+'\x20\x20if\x20(dept'+'h\x20>\x20shadow'+'CascadeDis'+'tances.w)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'shadowCoor'+'d.z\x20=\x20-999'+'9999.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20shad'+'owCoord;\x0a}'+'\x0a'),u2='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+('\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a\x0a//\x20'+'------\x20VSM'+'\x2016\x20------'+'\x0a\x0afloat\x20VS'+'M16(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec2\x20'+'texCoords,'+'\x20float\x20res'+'olution,\x20f'+'loat\x20Z,\x20fl'+'oat\x20vsmBia'+'s,\x20float\x20e'+'xponent)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'moments\x20=\x20'+'texture2DL'+'od(tex,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM16('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM16(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM16(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20VSM16('+'TEXTURE_PA'+'SS(shadowM'+'ap),\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----')+('--\x0a\x0afloat\x20'+'VSM32(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20texCoord'+'s,\x20float\x20r'+'esolution,'+'\x20float\x20Z,\x20'+'float\x20vsmB'+'ias,\x20float'+'\x20exponent)'+'\x20{\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20CAPS_'+'TEXTURE_FL'+'OAT_FILTER'+'ABLE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2DLod'+'(tex,\x20texC'+'oords,\x200.0'+').xyz;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ma'+'nual\x20bilin'+'ear\x20filter'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pi'+'xelSize\x20=\x20'+'1.0\x20/\x20reso'+'lution;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20texC'+'oords\x20-=\x20v'+'ec2(pixelS'+'ize);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'00\x20=\x20textu'+'re2DLod(te'+'x,\x20texCoor'+'ds,\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20s10'+'\x20=\x20texture'+'2DLod(tex,'+'\x20texCoords'+'\x20+\x20vec2(pi'+'xelSize,\x200'+'),\x200.0).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20s01\x20'+'=\x20texture2'+'DLod(tex,\x20'+'texCoords\x20'+'+\x20vec2(0,\x20'+'pixelSize)'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20s11\x20='+'\x20texture2D'+'Lod(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20fr\x20=\x20frac'+'t(texCoord'+'s\x20*\x20resolu'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'h0\x20=\x20mix(s'+'00,\x20s10,\x20f'+'r.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20h'+'1\x20=\x20mix(s0'+'1,\x20s11,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20mi'+'x(h0,\x20h1,\x20'+'fr.y);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM32('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM32(T')+('EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM32(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20Z\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd.xy,\x20sha'+'dowParams.'+'x,\x20Z,\x20shad'+'owParams.y'+',\x20exponent'+');\x0a}\x0a'),p2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20textur'+'eShadow(sh'+'adowMap,\x20s'+'hadowCoord'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wSpotPCF1x'+'1(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSh'+'adow(shado'+'wMap,\x20shad'+'owCoord);\x0a'+'}\x0a\x0a//\x20----'+'-\x20Omni\x20Sam'+'pling\x20----'+'-\x0a\x0a#ifndef'+'\x20WEBGPU\x0a\x0af'+'loat\x20getSh'+'adowOmniPC'+'F1x1(sampl'+'erCubeShad'+'ow\x20shadowM'+'ap,\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20return'+'\x20texture(s'+'hadowMap,\x20'+'vec4(light'+'Dir,\x20shado'+'wZ));\x0a}\x0a\x0a#'+'endif\x0a',m2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x20\x0a\x20\x20'+'\x20\x20base_uv\x20'+'-=\x20vec2(0.'+'5);\x0a\x20\x20\x20\x20ba'+'se_uv\x20*=\x20s'+'hadowMapSi'+'zeInv;\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'uw0\x20=\x20(3.0'+'\x20-\x202.0\x20*\x20s'+');\x0a\x20\x20\x20\x20flo'+'at\x20uw1\x20=\x20('+'1.0\x20+\x202.0\x20'+'*\x20s);\x0a\x0a\x20\x20\x20'+'\x20float\x20u0\x20'+'=\x20(2.0\x20-\x20s'+')\x20/\x20uw0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20f'+'loat\x20u1\x20=\x20'+'s\x20/\x20uw1\x20+\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(3.0\x20-\x202'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20t)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20v0\x20=\x20(2'+'.0\x20-\x20t)\x20/\x20'+'vw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20v1\x20=\x20t\x20/\x20'+'vw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20u0\x20='+'\x20u0\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v0\x20=\x20v0\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u1\x20=\x20'+'u1\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'1\x20=\x20v1\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+('sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw0\x20*\x20v'+'w1\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u0,\x20v'+'1,\x20z));\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w1\x20*\x20vw1\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u1,\x20v1,\x20z'+'));\x0a\x0a\x20\x20\x20\x20s'+'um\x20*=\x201.0f'+'\x20/\x2016.0;\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF3x3('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'3x3(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0a//\x20-----'+'\x20Omni\x20Samp'+'ling\x20-----'+'\x0a\x0a#ifndef\x20'+'WEBGPU\x0a\x0afl'+'oat\x20getSha'+'dowOmniPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict')+('\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wOmniPCF3x'+'3(samplerC'+'ubeShadow\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowOmniP'+'CF3x3(shad'+'owMap,\x20sha'+'dowParams,'+'\x20lightDir)'+';\x0a}\x0a\x0a#endi'+'f\x0a'),_2='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20saturate'+'(sum);\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF5x5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F5x5(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado')+('wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF5'+'x5(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'),g2='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epthWithPa'+'rams(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20const\x20f'+'loat\x20PI\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa')+('dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam'+'pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec')+('4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow'+'Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowOm'+'niPCSS(sam'+'plerCube\x20s'+'hadowMap,\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'4\x20cameraPa'+'rams,\x20vec2'+'\x20shadowSea'+'rchArea,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SCube(shad'+'owMap,\x20sha'+'dowParams,'+'\x20shadowCoo'+'rd,\x20camera'+'Params,\x20sh'+'adowSearch'+'Area.x,\x20li'+'ghtDir);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'float\x20getS'+'hadowSpotP'+'CSS(TEXTUR'+'E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SS(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20cameraPar'+'ams,\x20shado'+'wSearchAre'+'a);\x0a}\x0a\x0a'),S2='\x0a\x0ahighp\x20fl'+'oat\x20fractS'+'inRand(con'+'st\x20in\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x20\x20\x20'+'\x20const\x20hig'+'hp\x20float\x20a'+'\x20=\x2012.9898'+',\x20b\x20=\x2078.2'+'33,\x20c\x20=\x2043'+'758.5453;\x0a'+'\x20\x20\x20\x20highp\x20'+'float\x20dt\x20='+'\x20dot(uv.xy'+',\x20vec2(a,\x20'+'b)),\x20sn\x20=\x20'+'mod(dt,\x20PI'+');\x0a\x20\x20\x20\x20ret'+'urn\x20fract('+'sin(sn)\x20*\x20'+'c);\x0a}\x0a\x0a//\x20'+'struct\x20to\x20'+'hold\x20preco'+'mputed\x20con'+'stants\x20and'+'\x20current\x20s'+'tate\x0astruc'+'t\x20VogelDis'+'kData\x20{\x0a\x20\x20'+'\x20\x20float\x20in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20initial'+'Angle;\x0a\x20\x20\x20'+'\x20float\x20cur'+'rentPointI'+'d;\x0a};\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'void\x20prepa'+'reDiskCons'+'tants(out\x20'+'VogelDiskD'+'ata\x20data,\x20'+'int\x20sample'+'Count,\x20flo'+'at\x20randomS'+'eed)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20pi2\x20=\x206'+'.283185307'+'18;\x0a\x20\x20\x20\x20da'+'ta.invNumS'+'amples\x20=\x201'+'.0\x20/\x20float'+'(sampleCou'+'nt);\x0a\x20\x20\x20\x20d'+'ata.initia'+'lAngle\x20=\x20r'+'andomSeed\x20'+'*\x20pi2;\x0a\x20\x20\x20'+'\x20data.curr'+'entPointId'+'\x20=\x200.0;\x0a}\x0a'+'\x0a\x0avec2\x20gen'+'erateDiskS'+'ample(inou'+'t\x20VogelDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'GOLDEN_ANG'+'LE\x20=\x202.399'+'963;\x0a\x20\x20\x20\x20f'+'loat\x20r\x20=\x20s'+'qrt((data.'+'currentPoi'+'ntId\x20+\x200.5'+')\x20*\x20data.i'+'nvNumSampl'+'es);\x0a\x20\x20\x20\x20f'+'loat\x20theta'+'\x20=\x20data.cu'+'rrentPoint'+'Id\x20*\x20GOLDE'+'N_ANGLE\x20+\x20'+'data.initi'+'alAngle;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20o'+'ffset\x20=\x20ve'+('c2(cos(the'+'ta),\x20sin(t'+'heta))\x20*\x20p'+'ow(r,\x201.33'+');\x0a\x0a\x20\x20\x20\x20da'+'ta.current'+'PointId\x20+='+'\x201.0;\x0a\x20\x20\x20\x20'+'return\x20off'+'set;\x0a}\x0a\x0avo'+'id\x20PCSSFin'+'dBlocker(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20out\x20'+'float\x20avgB'+'lockerDept'+'h,\x20out\x20int'+'\x20numBlocke'+'rs,\x0a\x20\x20\x20\x20ve'+'c2\x20shadowC'+'oords,\x20flo'+'at\x20z,\x20int\x20'+'shadowBloc'+'kerSamples'+',\x20float\x20pe'+'numbraSize'+',\x20float\x20in'+'vShadowMap'+'Size,\x20floa'+'t\x20randomSe'+'ed)\x20{\x0a\x0a\x20\x20\x20'+'\x20VogelDisk'+'Data\x20diskD'+'ata;\x0a\x20\x20\x20\x20p'+'repareDisk'+'Constants('+'diskData,\x20'+'shadowBloc'+'kerSamples'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'float\x20sear'+'chWidth\x20=\x20'+'penumbraSi'+'ze\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x20\x20\x20\x20flo'+'at\x20blocker'+'Sum\x20=\x200.0;'+'\x0a\x20\x20\x20\x20numBl'+'ockers\x20=\x200'+';\x0a\x0a\x20\x20\x20\x20for'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowBlocker'+'Samples;\x20+'+'+i\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'diskUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20sampleUV'+'\x20=\x20shadowC'+'oords\x20+\x20di'+'skUV\x20*\x20sea'+'rchWidth;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'MapDepth\x20='+'\x20texture2D'+'Lod(shadow'+'Map,\x20sampl'+'eUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(\x20shad'+'owMapDepth'+'\x20<\x20z\x20)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20blockerSu'+'m\x20+=\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers++;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20av'+'gBlockerDe'+'pth\x20=\x20bloc'+'kerSum\x20/\x20f'+'loat(numBl'+'ockers);\x0a}'+'\x0a\x0afloat\x20PC'+'SSFilter(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20uv,\x20float')+('\x20receiverD'+'epth,\x20int\x20'+'shadowSamp'+'les,\x20float'+'\x20filterRad'+'ius,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'VogelDiskD'+'ata\x20diskDa'+'ta;\x0a\x20\x20\x20\x20pr'+'epareDiskC'+'onstants(d'+'iskData,\x20s'+'hadowSampl'+'es,\x20random'+'Seed);\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20shadowS'+'amples;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20of'+'fsetUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x20text'+'ure2DLod(s'+'hadowMap,\x20'+'uv\x20+\x20offse'+'tUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sum\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20retu'+'rn\x20sum\x20/\x20f'+'loat(shado'+'wSamples);'+'\x0a}\x0a\x0afloat\x20'+'getPenumbr'+'a(float\x20db'+'locker,\x20fl'+'oat\x20drecei'+'ver,\x20float'+'\x20penumbraS'+'ize,\x20float'+'\x20penumbraF'+'alloff)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'dist\x20=\x20dre'+'ceiver\x20-\x20d'+'blocker;\x0a\x20'+'\x20\x20\x20float\x20p'+'enumbra\x20=\x20'+'1.0\x20-\x20pow('+'1.0\x20-\x20dist'+',\x20penumbra'+'Falloff);\x0a'+'\x20\x20\x20\x20return'+'\x20penumbra\x20'+'*\x20penumbra'+'Size;\x0a}\x0a\x0af'+'loat\x20PCSSD'+'irectional'+'(TEXTURE_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20vec4'+'\x20softShado'+'wParams)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20receiver'+'Depth\x20=\x20sh'+'adowCoords'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20random'+'Seed\x20=\x20fra'+'ctSinRand('+'gl_FragCoo'+'rd.xy);\x0a\x20\x20'+'\x20\x20int\x20shad'+'owSamples\x20'+'=\x20int(soft'+'ShadowPara'+'ms.x);\x0a\x20\x20\x20'+'\x20int\x20shado'+'wBlockerSa'+'mples\x20=\x20in'+'t(softShad')+('owParams.y'+');\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'aSize\x20=\x20so'+'ftShadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20float\x20pe'+'numbraFall'+'off\x20=\x20soft'+'ShadowPara'+'ms.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20normal'+'ized\x20inver'+'se\x20shadow\x20'+'map\x20size\x20t'+'o\x20preserve'+'\x20the\x20shado'+'w\x20softness'+'\x20regardles'+'s\x20of\x20the\x20s'+'hadow\x20reso'+'lution\x0a\x20\x20\x20'+'\x20int\x20shado'+'wMapSize\x20='+'\x20textureSi'+'ze(shadowM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20float\x20'+'invShadowM'+'apSize\x20=\x201'+'.0\x20/\x20float'+'(shadowMap'+'Size);\x0a\x20\x20\x20'+'\x20invShadow'+'MapSize\x20*='+'\x20float(sha'+'dowMapSize'+')\x20/\x202048.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'a;\x0a\x0a\x20\x20\x20\x20//'+'\x20contact\x20h'+'ardening\x20p'+'ath\x0a\x20\x20\x20\x20if'+'\x20(shadowBl'+'ockerSampl'+'es\x20>\x200)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20find\x20ave'+'rage\x20block'+'er\x20depth\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20avgBloc'+'kerDepth\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20nu'+'mBlockers\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20avgBlo'+'ckerDepth,'+'\x20numBlocke'+'rs,\x20shadow'+'Coords.xy,'+'\x20receiverD'+'epth,\x20shad'+'owBlockerS'+'amples,\x20pe'+'numbraSize'+',\x20invShado'+'wMapSize,\x20'+'randomSeed'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20out\x20when\x20'+'no\x20blocker'+'s\x20are\x20pres'+'ent\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(numB'+'lockers\x20<\x20'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x201.0f;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'penumbra\x20s'+'ize\x20is\x20bas'+'ed\x20on\x20the\x20'+'blocker\x20de'+'pth\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20penumbra'+'\x20=\x20getPenu'+'mbra(avgBl'+'ockerDepth'+',\x20shadowCo'+'ords.z,\x20pe'+'numbraSize'+',\x20penumbra')+('Falloff);\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'tant\x20filte'+'r\x20size,\x20no'+'\x20contact\x20h'+'ardening\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pen'+'umbra\x20=\x20pe'+'numbraSize'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ilterRadiu'+'s\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoords'+'.xy,\x20recei'+'verDepth,\x20'+'shadowSamp'+'les,\x20filte'+'rRadius,\x20r'+'andomSeed)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSSDirecti'+'onal(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20cameraP'+'arams,\x20sof'+'tShadowPar'+'ams);\x0a}\x0a\x0a'),y2='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0a\x0a'+'mat4\x20getBo'+'neMatrix(c'+'onst\x20in\x20fl'+'oat\x20indexF'+'loat)\x20{\x0a\x0a\x20'+'\x20\x20\x20int\x20wid'+'th\x20=\x20textu'+'reSize(tex'+'ture_poseM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20int\x20in'+'dex\x20=\x20int('+'indexFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x20\x20\x20\x20int'+'\x20iy\x20=\x20inde'+'x\x20/\x20width;'+'\x0a\x20\x20\x20\x20int\x20i'+'x\x20=\x20index\x20'+'%\x20width;\x0a\x0a'+'\x20\x20\x20\x20//\x20rea'+'d\x20elements'+'\x20of\x204x3\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20v1\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x200,'+'\x20iy),\x200);\x0a'+'\x20\x20\x20\x20vec4\x20v'+'2\x20=\x20texelF'+'etch(textu'+'re_poseMap'+',\x20ivec2(ix'+'\x20+\x201,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20v'+'ec4\x20v3\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x202,'+'\x20iy),\x200);\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',v2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0a\x0avoid\x20'+'getBoneMat'+'rix(const\x20'+'in\x20int\x20wid'+'th,\x20const\x20'+'in\x20int\x20ind'+'ex,\x20out\x20ve'+'c4\x20v1,\x20out'+'\x20vec4\x20v2,\x20'+'out\x20vec4\x20v'+'3)\x20{\x0a\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20in'+'dex\x20/\x20widt'+'h;\x0a\x20\x20\x20\x20int'+'\x20u\x20=\x20index'+'\x20%\x20width;\x0a'+'\x0a\x20\x20\x20\x20v1\x20=\x20'+'texelFetch'+'(texture_p'+'oseMap,\x20iv'+'ec2(u\x20+\x200,'+'\x20v),\x200);\x0a\x20'+'\x20\x20\x20v2\x20=\x20te'+'xelFetch(t'+'exture_pos'+'eMap,\x20ivec'+'2(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20v3\x20=\x20texe'+'lFetch(tex'+'ture_poseM'+'ap,\x20ivec2('+'u\x20+\x202,\x20v),'+'\x200);\x0a}\x0a\x0ama'+'t4\x20getSkin'+'Matrix(con'+'st\x20in\x20vec4'+'\x20indicesFl'+'oat,\x20const'+'\x20in\x20vec4\x20w'+'eights)\x20{\x0a'+'\x0a\x20\x20\x20\x20int\x20w'+'idth\x20=\x20tex'+'tureSize(t'+'exture_pos'+'eMap,\x200).x'+';\x0a\x20\x20\x20\x20ivec'+'4\x20indices\x20'+'=\x20ivec4(in'+'dicesFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20get\x204\x20bon'+'e\x20matrices'+'\x0a\x20\x20\x20\x20vec4\x20'+'a1,\x20a2,\x20a3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.x,\x20a1'+',\x20a2,\x20a3);'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20b1,\x20b2,\x20b'+'3;\x0a\x20\x20\x20\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y,\x20b'+'1,\x20b2,\x20b3)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20c1,\x20c2,\x20'+'c3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.z,\x20'+'c1,\x20c2,\x20c3'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20d1,\x20d2,'+'\x20d3;\x0a\x20\x20\x20\x20g'+'etBoneMatr'+'ix(width,\x20'+'indices.w,'+'\x20d1,\x20d2,\x20d'+'3);\x0a\x0a\x20\x20\x20\x20/'+'/\x20multiply'+'\x20them\x20by\x20w'+'eights\x20and'+'\x20add\x20up\x20to'+'\x20get\x20final'+'\x204x3\x20matri'+('x\x0a\x20\x20\x20\x20vec4'+'\x20v1\x20=\x20a1\x20*'+'\x20weights.x'+'\x20+\x20b1\x20*\x20we'+'ights.y\x20+\x20'+'c1\x20*\x20weigh'+'ts.z\x20+\x20d1\x20'+'*\x20weights.'+'w;\x0a\x20\x20\x20\x20vec'+'4\x20v2\x20=\x20a2\x20'+'*\x20weights.'+'x\x20+\x20b2\x20*\x20w'+'eights.y\x20+'+'\x20c2\x20*\x20weig'+'hts.z\x20+\x20d2'+'\x20*\x20weights'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20v3\x20=\x20a3'+'\x20*\x20weights'+'.x\x20+\x20b3\x20*\x20'+'weights.y\x20'+'+\x20c3\x20*\x20wei'+'ghts.z\x20+\x20d'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20add\x20up\x20'+'weights\x0a\x20\x20'+'\x20\x20float\x20on'+'e\x20=\x20dot(we'+'ights,\x20vec'+'4(1.0));\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.x'+',\x20v2.x,\x20v3'+'.x,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.y,'+'\x20v2.y,\x20v3.'+'y,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.z,\x20'+'v2.z,\x20v3.z'+',\x200,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20v1.w,\x20v'+'2.w,\x20v3.w,'+'\x20one\x0a\x20\x20\x20\x20)'+';\x0a}\x0a'),x2='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20float\x20v'+'LinearDept'+'h;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22floatAsUi'+'ntPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec3\x20vView'+'Dir;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20skyboxH'+'ighlightMu'+'ltiplier;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SKY_CUBE'+'MAP\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20texture'+'_cubeMap;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec3\x20v'+'WorldPos;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20project'+'edSkydomeC'+'enter;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#el'+'se\x20//\x20env-'+'atlas\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22spher'+'icalPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22envA'+'tlasPS\x22\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mipLe'+'vel;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20linear\x20d'+'epth\x20durin'+'g\x20prepass\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20flo'+'at2vec4(vL'+'inearDepth'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SK'+'Y_CUBEMAP\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SKYMES'+'H\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+('\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envDir\x20=\x20n'+'ormalize(v'+'WorldPos\x20-'+'\x20projected'+'SkydomeCen'+'ter);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20env'+'Dir\x20*\x20cube'+'MapRotatio'+'nMatrix;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20vViewD'+'ir;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir.x'+'\x20*=\x20-1.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20linear\x20=\x20'+'{SKYBOX_DE'+'CODE_FNC}('+'textureCub'+'e(texture_'+'cubeMap,\x20d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20vVie'+'wDir\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20toSph'+'ericalUv(n'+'ormalize(d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20mipLev'+'el)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20our\x20HDR'+'\x20encodes\x20v'+'alues\x20up\x20t'+'o\x2064,\x20so\x20a'+'llow\x20extra'+'\x20brightnes'+'s\x20for\x20the\x20'+'clipped\x20va'+'lues\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(any(great'+'erThanEqua'+'l(linear,\x20'+'vec3(64.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20skyboxHi'+'ghlightMul'+'tiplier;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(toneM'+'ap(process'+'Environmen'+'t(linear))'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20}'+'\x0a'),T2='\x0aattribute'+'\x20vec4\x20aPos'+'ition;\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tionSkybox'+';\x0auniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x0av'+'arying\x20vec'+'3\x20vViewDir'+';\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20//\x20'+'when\x20skydo'+'me\x20renders'+'\x20depth\x20dur'+'ing\x20prepas'+'s,\x20generat'+'e\x20linear\x20d'+'epth\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20vLinear'+'Depth;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20SKYMESH\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec3\x20vW'+'orldPos;\x0a#'+'endif\x0a\x0avoi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'mat4\x20view\x20'+'=\x20matrix_v'+'iew;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'MESH\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec4\x20w'+'orldPos\x20=\x20'+'matrix_mod'+'el\x20*\x20aPosi'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vWorld'+'Pos\x20=\x20worl'+'dPos.xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20PREPASS'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20linear\x20de'+'pth\x20from\x20t'+'he\x20worldPo'+'sition,\x20se'+'e\x20getLinea'+'rDepth\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vWorl'+'dPos,\x201.0)'+').z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20(view\x20*\x20'+'aPosition)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vViewDir\x20='+'\x20aPosition'+'.xyz\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20//\x20for\x20in'+'finite\x20sky'+'box,\x20use\x20n'+'egative\x20gl'+'_Position.'+'w\x20to\x20get\x20p'+'ositive\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vLinear'+'Depth\x20=\x20-g'+'l_Position'+'.w;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20Fo'+'rce\x20skybox'+'\x20to\x20far\x20Z,'+'\x20regardles'+'s\x20of\x20the\x20c'+'lip\x20planes'+'\x20on\x20the\x20ca'+'mera\x0a\x20\x20\x20\x20/'+'/\x20Subtract'+'\x20a\x20tiny\x20fu'+'dge\x20factor'+'\x20to\x20ensure'+'\x20floating\x20'+'point\x20erro'+'rs\x20don\x27t\x0a\x20'+'\x20\x20\x20//\x20stil'+'l\x20push\x20pix'+'els\x20beyond'+'\x20far\x20Z.\x20Se'+'e:\x0a\x20\x20\x20\x20//\x20'+'https://co'+'mmunity.kh'+'ronos.org/'+'t/skybox-p'+'roblem/618'+'57\x0a\x0a\x20\x20\x20\x20gl'+'_Position.'+'z\x20=\x20gl_Pos'+'ition.w\x20-\x20'+'1.0e-7;\x0a}\x0a'),w2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0auniform\x20v'+'ec3\x20materi'+'al_specula'+'r;\x0a#endif\x0a'+'\x0avoid\x20getS'+'pecularity'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20specul'+'arColor\x20=\x20'+'vec3(1,1,1'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20specularC'+'olor\x20*=\x20ma'+'terial_spe'+'cular;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'AR_TEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_SPECULAR_'+'TEXTURE_NA'+'ME},\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20textureB'+'ias)).{STD'+'_SPECULAR_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SPECU'+'LAR_VERTEX'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_S'+'PECULAR_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20spe'+'cularColor'+';\x0a}\x0a',E2='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'2\x20toSpheri'+'calUv(vec3'+'\x20dir)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PI\x20=\x203'+'.141592653'+'589793;\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20toSpheri'+'cal(dir)\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+';\x0a}\x0a',b2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_specula'+'rityFactor'+';\x0a#endif\x0a\x0a'+'void\x20getSp'+'ecularityF'+'actor()\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'specularit'+'yFactor\x20=\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULARI'+'TYFACTOR_C'+'ONSTANT\x0a\x20\x20'+'\x20\x20specular'+'ityFactor\x20'+'*=\x20materia'+'l_specular'+'ityFactor;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20t'+'exture2DBi'+'as({STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE_NAME},'+'\x20{STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_VERT'+'EX\x0a\x20\x20\x20\x20spe'+'cularityFa'+'ctor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SPECU'+'LARITYFACT'+'OR_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dSp'+'ecularityF'+'actor\x20=\x20sp'+'ecularityF'+'actor;\x0a}\x0a',A2='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',C2='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2(vUv0.'+'x,\x201.0\x20-\x20v'+'Uv0.y);\x0a',P2='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',M2='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20float\x20dAl'+'pha\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_o'+'pacityMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20global'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dAlbe'+'do;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dSpeculari'+'ty\x20=\x20vec3('+'0.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dGlossines'+'s\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20dT'+'ransmissio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dThicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SC'+'ENE_COLOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'uSceneColo'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SCREEN_SI'+'ZE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20uS'+'creenSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_TRAN'+'SFORMS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20matrix_v'+'iewProject'+'ion;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_mod'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20parallax\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20dUv'+'Offset;\x0a\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_he'+'ightMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20diffu'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20tex'+'ture_diffu'+'seMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_diffuseDe'+'tailMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_normal'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'NORMALDETA'+'IL_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_no'+'rmalDetail'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20refracti'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_THICKNES'+'S_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_thi'+'cknessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_REFRA'+'CTION_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_refractio'+'nMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20iridesc'+'ence\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_IRIDES'+'CENCE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20dIride'+'scence;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dIri'+'descenceTh')+('ickness;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_irides'+'cenceThick'+'nessMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_iridesce'+'nceMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20ccNorm'+'alW;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dAnisotro'+'py;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20&\x20glossin'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_OR_REFLE'+'CTION\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20sheen\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20sGloss'+'iness;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SHEEN'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_sheenM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_sh'+'eenGlossMa')+('p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20metalness'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dMet'+'alness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dIor;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_met'+'alnessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20dSpecula'+'rityFactor'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_speculari'+'tyFactorMa'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20specular\x20'+'color\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_specula'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20gloss\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_gl'+'ossMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dAo'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_aoM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_aoDeta'+'ilMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dEmis'+'sion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_EMISS'+'IVE_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_e'+'missiveMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'learcoat\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'EARCOAT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatG'+'lossMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'NORMAL_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_clea'+'rCoatNorma'+'lMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'anisotropy'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde')+('f\x20STD_ANIS'+'OTROPY_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_anis'+'otropyMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dLightma'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_LIGH'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_lightMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20front\x20'+'end\x20output'+'s\x20to\x20lit\x20s'+'hader\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'litShaderC'+'orePS\x22\x0a'),D2='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20voi'+'d\x20getSpecu'+'larity()\x20{'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20vec'+'3(1);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20g'+'loss\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22glo'+'ssPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20ao\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'aoPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'emissivePS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO')+('AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22clear'+'CoatPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatG'+'lossPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatN'+'ormalPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20anis'+'otropy\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ani'+'sotropyPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(STD'+'_LIGHTMAP)'+'\x20||\x20define'+'d(STD_LIGH'+'T_VERTEX_C'+'OLOR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20void\x20eval'+'uateFronte'+'nd()\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIT'+'_BLEND_TYP'+'E\x20!=\x20NONE\x20'+'||\x20defined'+'(LIT_ALPHA'+'_TEST)\x20||\x20'+'defined(LI'+'T_ALPHA_TO'+'_COVERAGE)'+'\x20||\x20STD_OP'+'ACITY_DITH'+'ER\x20!=\x20NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getOpac'+'ity();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_ALPH'+'A_TEST)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alphaT'+'est(dAlpha'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(dAlp'+'ha,\x200.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'opacity\x20=\x20'+'dAlpha;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20pa'+'rallax\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'HEIGHT_MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Parallax()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Albedo();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20d'+'Albedo;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20normal'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getNorm'+'al();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'worldNorma'+'l\x20=\x20dNorma'+'lW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_REFRACT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getRefract'+'ion();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_transmiss'+'ion\x20=\x20dTra'+'nsmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tThickness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_th'+'ickness\x20=\x20'+'dThickness'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_d'+'ispersion\x20'+'=\x20material'+'_dispersio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20iridescen'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_IRID'+'ESCENCE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getIri'+'descence()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tIridescen'+'ceThicknes'+'s();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_i'+'ridescence'+'_intensity'+'\x20=\x20dIrides'+'cence;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_iridescen'+'ce_thickne'+'ss\x20=\x20dIrid'+'escenceThi'+'ckness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('//\x20specula'+'rity\x20&\x20glo'+'ssiness\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR_'+'OR_REFLECT'+'ION\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getShee'+'n();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_sheen_s'+'pecularity'+'\x20=\x20sSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'SheenGloss'+'iness();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_she'+'en_gloss\x20='+'\x20sGlossine'+'ss;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20met'+'alness\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getMet'+'alness();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_me'+'talness\x20=\x20'+'dMetalness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getIor()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior\x20=\x20dIor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20specu'+'larity\x20fac'+'tor\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rityFactor'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ityFactor\x20'+'=\x20dSpecula'+'rityFactor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20gloss'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rity();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20dSpe'+'cularity;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss\x20'+'=\x20dGlossin')+('ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getAO'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ao'+'\x20=\x20dAo;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getEmi'+'ssion();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_e'+'mission\x20=\x20'+'dEmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cle'+'arcoat\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getC'+'learCoat()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tClearCoat'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getClearCo'+'atNormal()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20=\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_g'+'loss\x20=\x20ccG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_clear'+'coat_world'+'Normal\x20=\x20c'+'cNormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20aniso'+'tropy\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x20&&\x20def'+'ined(LIT_L'+'IGHTING)\x20&'+'&\x20defined('+'LIT_GGX_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getAni'+'sotropy();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20ligh'+'tmap\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(S'+'TD_LIGHTMA'+'P)\x20||\x20defi'+'ned(STD_LI'+'GHT_VERTEX'+'_COLOR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htMap();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_lightma'+'p\x20=\x20dLight'+'map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_lightm'+'apDir\x20=\x20dL'+'ightmapDir'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a'),I2='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20tbnBasis'+';\x0a#endif\x0a\x0a'+'void\x20getTB'+'N(vec3\x20tan'+'gent,\x20vec3'+'\x20binormal,'+'\x20vec3\x20norm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TB'+'N_TANGENTS'+'\x20//\x20tangen'+'ts\x20/\x20binor'+'mals\x20based'+'\x20TBN\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(tang'+'ent),\x20norm'+'alize(bino'+'rmal),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(TBN_'+'DERIVATIVE'+'S)\x20//\x20deri'+'vatives\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20{li'+'ghtingUv};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20get\x20edg'+'e\x20vectors\x20'+'of\x20the\x20pix'+'el\x20triangl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dp1\x20='+'\x20dFdx(\x20vPo'+'sitionW\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dp2\x20=\x20'+'dFdy(\x20vPos'+'itionW\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20duv2\x20'+'=\x20dFdy(\x20uv'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20solv'+'e\x20the\x20line'+'ar\x20system\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20dp2perp'+'\x20=\x20cross(\x20'+'dp2,\x20norma'+'l\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dp'+'1perp\x20=\x20cr'+'oss(\x20norma'+'l,\x20dp1\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+'dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+('ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'nom\x20=\x20max('+'\x20dot(T,T),'+'\x20dot(B,B)\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20inv'+'max\x20=\x20(den'+'om\x20==\x200.0)'+'\x20?\x200.0\x20:\x20t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20object'+'\x20space\x20TBN'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20B\x20=\x20c'+'ross(norma'+'l,\x20vObject'+'SpaceUpW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20T\x20=\x20cr'+'oss(normal'+',\x20B);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(d'+'ot(B,B)==0'+'.0)\x20//\x20dea'+'l\x20with\x20cas'+'e\x20when\x20vOb'+'jectSpaceU'+'pW\x20normal\x20'+'are\x20parall'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20major=max'+'(max(norma'+'l.x,\x20norma'+'l.y),\x20norm'+'al.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(normal'+'.x\x20==\x20majo'+'r)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20B\x20=\x20cro'+'ss(normal,'+'\x20vec3(0,1,'+'0));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20T\x20=\x20cross'+'(normal,\x20B'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x20if\x20(no'+'rmal.y\x20==\x20'+'major)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B\x20='+'\x20cross(nor'+'mal,\x20vec3('+'0,0,1));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20if'+'\x20(normal.z'+'\x20==\x20major)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20B\x20=\x20cross'+'(normal,\x20v'+'ec3(1,0,0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(T),\x20'+'normalize('+'B),\x20normal'+'ize(normal'+'));\x0a\x0a\x20\x20\x20\x20#')+'endif\x0a}\x0a',L2='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_thickn'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tThickness'+'()\x20{\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_THICKNE'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dThi'+'ckness\x20*=\x20'+'material_t'+'hickness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_THI'+'CKNESS_TEX'+'TURE\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20texture'+'2DBias({ST'+'D_THICKNES'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_THICKNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_TH'+'ICKNESS_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',R2='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',O2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',F2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',N2='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',k2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',U2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',B2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',z2='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',V2='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sc'+'reenPos\x20=\x20'+'vec4(verte'+'x_texCoord'+'1.xy\x20*\x202.0'+'\x20-\x201.0,\x200.'+'5,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20WEBGPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20SCREENSP'+'ACE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.y\x20*='+'\x20projectio'+'nFlipY;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PIX'+'ELSNAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20snap\x20ver'+'tex\x20to\x20a\x20p'+'ixel\x20bound'+'ary\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x200.5'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.xy\x20*=\x20uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'ScreenSize'+'.zw;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x202.'+'0)\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}')+('\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),G2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifdef\x20MORP'+'HING\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20morph_te'+'x_params;\x0a'+'\x20\x20\x20\x20attrib'+'ute\x20uint\x20m'+'orph_verte'+'x_id;\x0a\x0a\x20\x20\x20'+'\x20ivec2\x20get'+'TextureMor'+'phCoords()'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20turn\x20'+'morph_vert'+'ex_id\x20into'+'\x20int\x20grid\x20'+'coordinate'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ivec2\x20text'+'ureSize\x20=\x20'+'ivec2(morp'+'h_tex_para'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20mor'+'phGridV\x20=\x20'+'int(morph_'+'vertex_id)'+'\x20/\x20texture'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'morphGridU'+'\x20=\x20int(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20flipY\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20morphGrid'+'V\x20=\x20textur'+'eSize.y\x20-\x20'+'morphGridV'+'\x20-\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ivec'+'2(morphGri'+'dU,\x20morphG'+'ridV);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec3\x20aabb'+'Size;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'usampler2D'+'\x20morphPosi'+'tionTex;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20highp\x20s'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a#ifdef\x20de'+'fined(BATC'+'H)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ski'+'nBatchVS\x22\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getBon'+'eMatrix(ve'+'rtex_boneI'+'ndices);\x0a\x20'+'\x20\x20\x20}\x0a\x0a#eli'+'f\x20defined('+'SKIN)\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20get'+'SkinMatrix'+'(vertex_bo'+'neIndices,'+'\x20vertex_bo'+'neWeights)'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'elif\x20defin'+'ed(INSTANC'+'ING)\x0a\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'transformI'+'nstancingV'+'S\x22\x0a\x0a#else\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20matrix'+'_model;\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tLocalPosi'+'tion(vec3\x20'+'vertexPosi'+'tion)\x20{\x0a\x0a\x20'+'\x20\x20\x20vec3\x20lo'+'calPos\x20=\x20v'+'ertexPosit'+'ion;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'morphUV\x20=\x20'+'getTexture'+'MorphCoord'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPHING_'+'INT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20vec3(tex'+'elFetch(mo'+'rphPositio'+'nTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x20aabbSize'+'\x20+\x20aabbMin'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphPo'+'s\x20=\x20texelF'+'etch(morph'+'PositionTe'+'x,\x20ivec2(m'+'orphUV),\x200'+').xyz;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20localPos\x20'+'+=\x20morphPo'+'s;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20loc'+'alPos;\x0a}\x0a\x0a'),H2='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',W2='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_refr'+'action;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getRefrac'+'tion()\x20{\x0a\x20'+'\x20\x20\x20float\x20r'+'efraction\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_RE'+'FRACTION_T'+'EXTURE\x0a\x20\x20\x20'+'\x20refractio'+'n\x20*=\x20textu'+'re2DBias({'+'STD_REFRAC'+'TION_TEXTU'+'RE_NAME},\x20'+'{STD_REFRA'+'CTION_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_REF'+'RACTION_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_VERTEX'+'\x0a\x20\x20\x20\x20refra'+'ction\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_REFR'+'ACTION_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dTransmis'+'sion\x20=\x20ref'+'raction;\x0a}'+'\x0a',$2='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',X2='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20vec2\x20ge'+'tUv0()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20ver'+'tex_positi'+'on.xz;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20o'+'ffset\x20inne'+'r\x20vertices'+'\x20inside\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20('+'original\x20v'+'ertices\x20mu'+'st\x20be\x20in\x20['+'-1;1]\x20rang'+'e)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20n'+'egativeUni'+'tOffset\x20=\x20'+'clamp(-ver'+'tex_positi'+'on.xz,\x20vec'+'2(0.0),\x20ve'+'c2(1.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20-0.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20atlasRe'+'ct.zw\x20+\x20at'+'lasRect.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uv;\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20vec2'+'\x20getUv0()\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a',q2='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',j2='\x0avUV{TRANS'+'FORM_UV_{i'+'}}_{TRANSF'+'ORM_ID_{i}'+'}\x20=\x20vec2(\x0a'+'\x20\x20\x20\x20dot(ve'+'c3(uv{TRAN'+'SFORM_UV_{'+'i}},\x201),\x20{'+'TRANSFORM_'+'NAME_{i}}0'+'),\x0a\x20\x20\x20\x20dot'+'(vec3(uv{T'+'RANSFORM_U'+'V_{i}},\x201)'+',\x20{TRANSFO'+'RM_NAME_{i'+'}}1)\x0a);\x0a',Y2='\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}0;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}1;'+'\x0a',K2='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',Z2={'alphaTestPS':YC,'ambientPS':KC,'anisotropyPS':ZC,'aoPS':QC,'aoDiffuseOccPS':JC,'aoSpecOccPS':e1,'bakeDirLmEndPS':t1,'bakeLmEndPS':s1,'basePS':i1,'baseNineSlicedPS':r1,'baseNineSlicedTiledPS':a1,'bayerPS':n1,'blurVSMPS':o1,'clearCoatPS':l1,'clearCoatGlossPS':c1,'clearCoatNormalPS':h1,'clusteredLightCookiesPS':f1,'clusteredLightShadowsPS':u1,'clusteredLightUtilsPS':d1,'clusteredLightPS':p1,'combinePS':m1,'cookieBlit2DPS':_1,'cookieBlitCubePS':g1,'cookieBlitVS':S1,'cookiePS':y1,'cubeMapProjectPS':v1,'cubeMapRotatePS':x1,'debugOutputPS':T1,'debugProcessFrontendPS':w1,'detailModesPS':b1,'diffusePS':A1,'decodePS':E1,'emissivePS':C1,'encodePS':P1,'endPS':M1,'envAtlasPS':D1,'envProcPS':I1,'falloffInvSquaredPS':L1,'falloffLinearPS':R1,'floatAsUintPS':O1,'fogPS':F1,'fresnelSchlickPS':N1,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':k1,'gammaPS':U1,'gles3PS':Vy,'gles3VS':Gy,'glossPS':B1,'gsplatCenterVS':z1,'gsplatCornerVS':K1,'gsplatColorVS':V1,'gsplatCommonVS':G1,'gsplatCompressedDataVS':H1,'gsplatCompressedSHVS':W1,'gsplatEvalSHVS':$1,'gsplatQuatToMat3VS':X1,'gsplatSogsColorVS':q1,'gsplatSogsDataVS':j1,'gsplatSogsSHVS':Y1,'gsplatDataVS':Z1,'gsplatOutputVS':Q1,'gsplatPS':J1,'gsplatSHVS':eP,'gsplatSourceVS':tP,'gsplatVS':sP,'quadVS':iP,'immediateLinePS':rP,'immediateLineVS':aP,'iridescenceDiffractionPS':nP,'iridescencePS':oP,'iridescenceThicknessPS':lP,'iorPS':cP,'lightDeclarationPS':hP,'lightDiffuseLambertPS':dP,'lightDirPointPS':fP,'lightEvaluationPS':uP,'lightFunctionLightPS':pP,'lightFunctionShadowPS':mP,'lightingPS':_P,'lightmapAddPS':gP,'lightmapPS':SP,'lightSpecularAnisoGGXPS':yP,'lightSpecularBlinnPS':vP,'lightSheenPS':xP,'linearizeDepthPS':TP,'litForwardBackendPS':wP,'litForwardDeclarationPS':EP,'litForwardMainPS':bP,'litForwardPostCodePS':AP,'litForwardPreCodePS':CP,'litMainPS':PP,'litMainVS':MP,'litOtherMainPS':DP,'litShaderArgsPS':IP,'litShaderCorePS':LP,'litShadowMainPS':RP,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':OP,'metalnessPS':FP,'metalnessModulatePS':kP,'morphPS':UP,'morphVS':BP,'msdfPS':NP,'msdfVS':zP,'normalVS':VP,'normalCoreVS':GP,'normalMapPS':HP,'opacityPS':WP,'opacityDitherPS':$P,'outputPS':XP,'outputAlphaPS':qP,'outputTex2DPS':jP,'sheenPS':YP,'sheenGlossPS':KP,'parallaxPS':ZP,'pickPS':QP,'reflDirPS':JP,'reflDirAnisoPS':e2,'reflectionCCPS':t2,'reflectionCubePS':s2,'reflectionEnvHQPS':i2,'reflectionEnvPS':r2,'reflectionSpherePS':a2,'reflectionSheenPS':n2,'refractionCubePS':o2,'refractionDynamicPS':l2,'reprojectPS':c2,'reprojectVS':h2,'screenDepthPS':d2,'shadowCascadesPS':f2,'shadowEVSMPS':u2,'shadowPCF1PS':p2,'shadowPCF3PS':m2,'shadowPCF5PS':_2,'shadowPCSSPS':g2,'shadowSoftPS':S2,'skinBatchVS':y2,'skinVS':v2,'skyboxPS':x2,'skyboxVS':T2,'specularPS':w2,'sphericalPS':E2,'specularityFactorPS':b2,'spotPS':A2,'startNineSlicedPS':C2,'startNineSlicedTiledPS':P2,'stdDeclarationPS':M2,'stdFrontEndPS':D2,'TBNPS':I2,'thicknessPS':L2,'tonemappingPS':R2,'tonemappingAcesPS':O2,'tonemappingAces2PS':F2,'tonemappingFilmicPS':N2,'tonemappingHejlPS':k2,'tonemappingLinearPS':U2,'tonemappingNeutralPS':B2,'tonemappingNonePS':z2,'transformVS':V2,'transformCoreVS':G2,'transformInstancingVS':H2,'transmissionPS':W2,'twoSidedLightingPS':$2,'uv0VS':X2,'uv1VS':q2,'uvTransformVS':j2,'uvTransformUniformsPS':Y2,'viewDirPS':K2,'webgpuPS':Hy,'webgpuVS':Wy},Q2='\x0auniform\x20a'+'lpha_ref:\x20'+'f32;\x0a\x0afn\x20a'+'lphaTest(a'+':\x20f32)\x20{\x0a\x20'+'\x20\x20\x20if\x20(a\x20<'+'\x20uniform.a'+'lpha_ref)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',J2='\x0a\x0a#if\x20LIT_'+'AMBIENT_SO'+'URCE\x20==\x20AM'+'BIENTSH\x0a\x20\x20'+'\x20\x20uniform\x20'+'ambientSH:'+'\x20array<vec'+'3f,\x209>;\x0a#e'+'ndif\x0a\x0a#if\x20'+'LIT_AMBIEN'+'T_SOURCE\x20='+'=\x20ENVALATL'+'AS\x0a\x20\x20\x20\x20#in'+'clude\x20\x22env'+'AtlasPS\x22\x0a\x0a'+'\x20\x20\x20\x20#ifnde'+'f\x20ENV_ATLA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_en'+'vAtlas:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_envAt'+'lasSampler'+':\x20sampler;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'fn\x20addAmbi'+'ent(worldN'+'ormal:\x20vec'+'3f)\x20{\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20A'+'MBIENTSH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20n:\x20vec3f'+'\x20=\x20cubeMap'+'Rotate(wor'+'ldNormal);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20color:\x20'+'vec3f\x20=\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[0]'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[1]\x20*\x20n.'+'x\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm.ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form.ambie'+'ntSH[3]\x20*\x20'+'n.z\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform.ambi'+'entSH[4]\x20*'+'\x20n.x\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[5]\x20*\x20n.'+'z\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform.'+'ambientSH['+'6]\x20*\x20n.y\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform.amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[8]'+'\x20*\x20(n.x\x20*\x20'+'n.x\x20-\x20n.y\x20'+'*\x20n.y);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20proces'+'sEnvironme'+'nt(max(col'+'or,\x20vec3f('+'0.0)));\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+('\x20ENVALATLA'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3f(-1.0,\x201'+'.0,\x201.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20mapUv'+'(toSpheric'+'alUv(dir),'+'\x20vec4f(128'+'.0,\x20256.0\x20'+'+\x20128.0,\x206'+'4.0,\x2032.0)'+'\x20/\x20atlasSi'+'ze);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20ra'+'w:\x20vec4f\x20='+'\x20textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20uv'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20linea'+'r:\x20vec3f\x20='+'\x20{ambientD'+'ecode}(raw'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(lin'+'ear);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20C'+'ONSTANT\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20unifor'+'m.light_gl'+'obalAmbien'+'t;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),eM='\x0a#ifdef\x20LI'+'T_GGX_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_anis'+'otropyInte'+'nsity:\x20f32'+';\x0a\x20\x20\x20\x20unif'+'orm\x20materi'+'al_anisotr'+'opyRotatio'+'n:\x20vec2f;\x0a'+'#endif\x0a\x0afn'+'\x20getAnisot'+'ropy()\x20{\x0a\x20'+'\x20\x20\x20dAnisot'+'ropy\x20=\x200.0'+';\x0a\x20\x20\x20\x20dAni'+'sotropyRot'+'ation\x20=\x20ve'+'c2f(1.0,\x200'+'.0);\x0a\x0a#ifd'+'ef\x20LIT_GGX'+'_SPECULAR\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20=\x20un'+'iform.mate'+'rial_aniso'+'tropyInten'+'sity;\x0a\x20\x20\x20\x20'+'dAnisotrop'+'yRotation\x20'+'=\x20uniform.'+'material_a'+'nisotropyR'+'otation;\x0a#'+'endif\x0a\x0a#if'+'def\x20STD_AN'+'ISOTROPY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyTex:\x20'+'vec3f\x20=\x20te'+'xtureSampl'+'eBias({STD'+'_ANISOTROP'+'Y_TEXTURE_'+'NAME},\x20{ST'+'D_ANISOTRO'+'PY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'ANISOTROPY'+'_TEXTURE_U'+'V},\x20unifor'+'m.textureB'+'ias).rgb;\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20*=\x20a'+'nisotropyT'+'ex.b;\x0a\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyRotat'+'ionFromTex'+':\x20vec2f\x20=\x20'+'anisotropy'+'Tex.rg\x20*\x202'+'.0\x20-\x20vec2f'+'(1.0);\x0a\x20\x20\x20'+'\x20let\x20rotat'+'ionMatrix:'+'\x20mat2x2f\x20='+'\x20mat2x2f(d'+'Anisotropy'+'Rotation.x'+',\x20dAnisotr'+'opyRotatio'+'n.y,\x20-dAni'+'sotropyRot'+'ation.y,\x20d'+'Anisotropy'+'Rotation.x'+');\x0a\x20\x20\x20\x20dAn'+'isotropyRo'+'tation\x20=\x20r'+'otationMat'+'rix\x20*\x20anis'+'otropyRota'+'tionFromTe'+'x;\x0a#endif\x0a'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20c'+'lamp(dAnis'+'otropy,\x200.'+'0,\x201.0);\x0a}'+'\x0a',tM='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_aoI'+'ntensity:\x20'+'f32;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_AODETA'+'IL_TEXTURE'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22detai'+'lModesPS\x22\x0a'+'#endif\x0a\x0afn'+'\x20getAO()\x20{'+'\x0a\x20\x20\x20\x20dAo\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20aoBas'+'e:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_AO_TEXTU'+'RE_NAME},\x20'+'{STD_AO_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AO_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_AO_'+'TEXTURE_CH'+'ANNEL};\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_AO'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20aoDetail:'+'\x20f32\x20=\x20tex'+'tureSample'+'Bias({STD_'+'AODETAIL_T'+'EXTURE_NAM'+'E},\x20{STD_A'+'ODETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AODET'+'AIL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_AODETAI'+'L_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20aoBase\x20='+'\x20detailMod'+'e_{STD_AOD'+'ETAIL_DETA'+'ILMODE}(ve'+'c3f(aoBase'+'),\x20vec3f(a'+'oDetail)).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dAo'+'\x20=\x20dAo\x20*\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20=\x20dA'+'o\x20*\x20satura'+'te(vVertex'+'Color.{STD'+'_AO_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'STD_AO_TEX'+'TURE)\x20||\x20d'+'efined(STD'+'_AO_VERTEX'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'uniform.ma'+'terial_aoI'+'ntensity);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',sM='\x0afn\x20occlud'+'eDiffuse(a'+'o:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20ao;\x0a'+'}\x0a',iM='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'aterial_oc'+'cludeSpecu'+'larIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0afn'+'\x20occludeSp'+'ecular(glo'+'ss:\x20f32,\x20a'+'o:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f)\x20{\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20==\x20A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_OCCLUDE_S'+'PECULAR_FL'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'specOcc:\x20f'+'32\x20=\x20mix(1'+'.0,\x20ao,\x20un'+'iform.mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specOcc:'+'\x20f32\x20=\x20ao;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'GLOSSDEPEN'+'DENT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'roximated\x20'+'specular\x20o'+'cclusion\x20f'+'rom\x20AO\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ht'+'tp://resea'+'rch.tri-ac'+'e.com/Data'+'/cedec2011'+'_RealtimeP'+'BR_Impleme'+'ntation_e.'+'pptx\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20spe'+'cPow:\x20f32\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20specOc'+'c:\x20f32\x20=\x20s'+'aturate(po'+'w(dot(worl'+'dNormal,\x20v'+'iewDir)\x20+\x20'+'ao,\x200.01\x20*'+'\x20specPow)\x20'+'-\x201.0\x20+\x20ao'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_OCCLUDE'+'_SPECULAR_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecOcc\x20=\x20mi'+'x(1.0,\x20spe'+'cOcc,\x20unif'+'orm.materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20*\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20dRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'*\x20specOcc;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sReflec'+'tion\x20=\x20sRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a'),rM='\x0a\x20\x20\x20\x20let\x20d'+'irLm\x20=\x20tex'+'tureSample'+'(texture_d'+'irLightMap'+',\x20texture_'+'dirLightMa'+'pSampler,\x20'+'vUv1);\x0a\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.bakeDi'+'r\x20>\x200.5)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(dAtten\x20'+'>\x200.00001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'npacked_di'+'r\x20=\x20dirLm.'+'xyz\x20*\x202.0\x20'+'-\x20vec3f(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x20clamp'+'(dAtten,\x200'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20comb'+'ined_dir\x20='+'\x20dLightDir'+'NormW.xyz\x20'+'*\x20dAtten\x20+'+'\x20unpacked_'+'dir\x20*\x20dirL'+'m.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20finalRgb\x20'+'=\x20normaliz'+'e(combined'+'_dir)\x20*\x200.'+'5\x20+\x20vec3f('+'0.5);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20finalA\x20='+'\x20max(dirLm'+'.w\x20+\x20dAtte'+'n,\x201.0\x20/\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalRgb,\x20'+'finalA);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20dirLm;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20alpha'+'_min\x20=\x20sel'+'ect(0.0,\x201'+'.0\x20/\x20255.0'+',\x20dAtten\x20>'+'\x200.00001);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20finalA\x20'+'=\x20max(dirL'+'m.w,\x20alpha'+'_min);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(dirL'+'m.rgb,\x20fin'+'alA);\x0a\x20\x20\x20\x20'+'}\x0a',aM='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'uniform.am'+'bientBakeO'+'cclusionCo'+'ntrast\x20+\x201'+'.0,\x200.0))\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20vec3f(u'+'niform.amb'+'ientBakeOc'+'clusionBri'+'ghtness);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'saturate3('+'dDiffuseLi'+'ght);\x0a\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20=\x20dDif'+'fuseLight\x20'+'*\x20dAmbient'+'Light;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIGHTMAP'+'_RGBM\x0a\x20\x20\x20\x20'+'//\x20encode\x20'+'to\x20RGBM\x0a\x20\x20'+'\x20\x20var\x20temp'+'_color_rgb'+'m\x20=\x20vec4f('+'dDiffuseLi'+'ght,\x201.0);'+'\x0a\x20\x20\x20\x20temp_'+'color_rgbm'+'\x20=\x20vec4f(p'+'ow(temp_co'+'lor_rgbm.r'+'gb,\x20vec3f('+'0.5)),\x20tem'+'p_color_rg'+'bm.a);\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+'color_rgbm'+'.rgb\x20/\x208.0'+',\x20temp_col'+'or_rgbm.a)'+';\x0a\x20\x20\x20\x20let\x20'+'max_g_b\x20=\x20'+'max(temp_c'+'olor_rgbm.'+'g,\x20max(tem'+'p_color_rg'+'bm.b,\x201.0\x20'+'/\x20255.0));'+'\x0a\x20\x20\x20\x20let\x20m'+'ax_rgb\x20=\x20m'+'ax(temp_co'+'lor_rgbm.r'+',\x20max_g_b)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20ceil'+'(temp_colo'+'r_rgbm.a\x20*'+'\x20255.0)\x20/\x20'+'255.0;\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+('color_rgbm'+'.rgb\x20/\x20tem'+'p_color_rg'+'bm.a,\x20temp'+'_color_rgb'+'m.a);\x0a\x20\x20\x20\x20'+'output.col'+'or\x20=\x20temp_'+'color_rgbm'+';\x0a#else\x0a\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20vec'+'4f(dDiffus'+'eLight,\x201.'+'0);\x0a#endif'+'\x0a'),nM='\x0auniform\x20v'+'iew_positi'+'on:\x20vec3f;'+'\x0a\x0auniform\x20'+'light_glob'+'alAmbient:'+'\x20vec3f;\x0a\x0af'+'n\x20square(x'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20x*x'+';\x0a}\x0a\x0afn\x20sa'+'turate(x:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0afn'+'\x20saturate3'+'(x:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3f(0.'+'0),\x20vec3f('+'1.0));\x0a}\x0a',oM='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'Mask:\x20vec2'+'f;\x0avarying'+'\x20vTiledUv:'+'\x20vec2f;\x0a\x0au'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0auni'+'form\x20outer'+'Scale:\x20vec'+'2f;\x0aunifor'+'m\x20atlasRec'+'t:\x20vec4f;\x0a'+'\x0avar<priva'+'te>\x20nineSl'+'icedUv:\x20ve'+'c2f;\x0a',lM='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vMask:\x20v'+'ec2f;\x0avary'+'ing\x20vTiled'+'Uv:\x20vec2f;'+'\x0a\x0auniform\x20'+'innerOffse'+'t:\x20vec4f;\x0a'+'uniform\x20ou'+'terScale:\x20'+'vec2f;\x0auni'+'form\x20atlas'+'Rect:\x20vec4'+'f;\x0a\x0avar<pr'+'ivate>\x20nin'+'eSlicedUv:'+'\x20vec2f;\x0a',cM='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afn\x20bay'+'er2(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(2.0\x20*'+'\x20p.y\x20+\x20p.x'+'\x20+\x201.0)\x20%\x20'+'4.0;\x0a}\x0a\x0a//'+'\x204x4\x20matri'+'x,\x20p\x20-\x20pix'+'el\x20coordin'+'ate\x0afn\x20bay'+'er4(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20p1:\x20vec2f'+'\x20=\x20p\x20%\x20vec'+'2f(2.0);\x0a\x20'+'\x20\x20\x20let\x20p2:'+'\x20vec2f\x20=\x20f'+'loor(0.5\x20*'+'\x20(p\x20%\x20vec2'+'f(4.0)));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afn\x20bayer8'+'(p:\x20vec2f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20p1'+':\x20vec2f\x20=\x20'+'p\x20%\x20vec2f('+'2.0);\x0a\x20\x20\x20\x20'+'let\x20p2:\x20ve'+'c2f\x20=\x20floo'+'r(0.5\x20*\x20(p'+'\x20%\x20vec2f(4'+'.0)));\x0a\x20\x20\x20'+'\x20let\x20p4:\x20v'+'ec2f\x20=\x20flo'+'or(0.25\x20*\x20'+'(p\x20%\x20vec2f'+'(8.0)));\x0a\x20'+'\x20\x20\x20return\x20'+'4.0\x20*\x20(4.0'+'\x20*\x20bayer2('+'p1)\x20+\x20baye'+'r2(p2))\x20+\x20'+'bayer2(p4)'+';\x0a}\x0a',hM='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20sou'+'rce:\x20textu'+'re_2d<f32>'+';\x0avar\x20sour'+'ceSampler:'+'\x20sampler;\x0a'+'\x0a#ifdef\x20GA'+'USS\x0a\x20\x20\x20\x20un'+'iform\x20weig'+'ht:\x20array<'+'f32,\x20{SAMP'+'LES}>;\x0a#en'+'dif\x0aunifor'+'m\x20pixelOff'+'set:\x20vec2f'+';\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20var'+'\x20moments:\x20'+'vec3f\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20let\x20uv'+':\x20vec2f\x20=\x20'+'input.vUv0'+'\x20-\x20uniform'+'.pixelOffs'+'et\x20*\x20(f32('+'{SAMPLES})'+'\x20*\x200.5);\x0a\x0a'+'\x20\x20\x20\x20for\x20(v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20{'+'SAMPLES};\x20'+'i\x20=\x20i\x20+\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20c:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'source,\x20so'+'urceSample'+'r,\x20uv\x20+\x20un'+'iform.pixe'+'lOffset\x20*\x20'+'f32(i));\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20moments'+'\x20=\x20moments'+'\x20+\x20c.xyz\x20*'+'\x20uniform.w'+'eight[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20=\x20moment'+'s\x20+\x20c.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'oments\x20=\x20m'+'oments\x20*\x20('+'1.0\x20/\x20f32('+'{SAMPLES})'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'moments,\x201'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a',dM='\x0auniform\x20m'+'aterial_cl'+'earCoat:\x20f'+'32;\x0a\x0afn\x20ge'+'tClearCoat'+'()\x20{\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20=\x20unifo'+'rm.materia'+'l_clearCoa'+'t;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_C'+'LEARCOAT_T'+'EXTURE\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20=\x20ccS'+'pecularity'+'\x20*\x20texture'+'SampleBias'+'({STD_CLEA'+'RCOAT_TEXT'+'URE_NAME},'+'\x20{STD_CLEA'+'RCOAT_TEXT'+'URE_NAME}S'+'ampler,\x20{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_CLE'+'ARCOAT_VER'+'TEX\x0a\x20\x20\x20\x20cc'+'Specularit'+'y\x20=\x20ccSpec'+'ularity\x20*\x20'+'saturate(v'+'VertexColo'+'r.{STD_CLE'+'ARCOAT_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a',fM='\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_clearCoa'+'tGloss:\x20f3'+'2;\x0a\x0afn\x20get'+'ClearCoatG'+'lossiness('+')\x20{\x0a\x20\x20\x20\x20cc'+'Glossiness'+'\x20=\x20uniform'+'.material_'+'clearCoatG'+'loss;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE_NAME}'+',\x20{STD_CLE'+'ARCOATGLOS'+'S_TEXTURE_'+'NAME}Sampl'+'er,\x20{STD_C'+'LEARCOATGL'+'OSS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_CLEA'+'RCOATGLOSS'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_INVERT\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20=\x201.0'+'\x20-\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20ccGloss'+'iness\x20+=\x200'+'.0000001;\x0a'+'}\x0a',uM='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_cle'+'arCoatBump'+'iness:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getClea'+'rCoatNorma'+'l()\x20{\x0a#ifd'+'ef\x20STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'\x0a\x20\x20\x20\x20var\x20n'+'ormalMap:\x20'+'vec3f\x20=\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_DEC'+'ODE}(textu'+'reSampleBi'+'as({STD_CL'+'EARCOATNOR'+'MAL_TEXTUR'+'E_NAME},\x20{'+'STD_CLEARC'+'OATNORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias));\x0a\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20mix(v'+'ec3f(0.0,\x20'+'0.0,\x201.0),'+'\x20normalMap'+',\x20uniform.'+'material_c'+'learCoatBu'+'mpiness);\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20norm'+'alize(dTBN'+'\x20*\x20normalM'+'ap);\x0a#else'+'\x0a\x20\x20\x20\x20ccNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a',pM='\x0astruct\x20Fa'+'ceCoords\x20{'+'\x0a\x20\x20\x20\x20uv:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Or'+'iginal\x20ret'+'urn\x20value\x0a'+'\x20\x20\x20\x20faceIn'+'dex:\x20f32,\x20'+'\x20\x20\x20//\x20Was\x20'+'out\x20parame'+'ter\x0a\x20\x20\x20\x20ti'+'leOffset:\x20'+'vec2f,\x20//\x20'+'Was\x20out\x20pa'+'rameter\x0a}\x0a'+'\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0afn\x20getC'+'ubemapFace'+'Coordinate'+'s(dir:\x20vec'+'3f)\x20->\x20Fac'+'eCoords\x20{\x0a'+'\x20\x20\x20\x20var\x20fa'+'ceIndex:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20tileOffs'+'et:\x20vec2f;'+'\x0a\x20\x20\x20\x20var\x20u'+'v:\x20vec2f;\x20'+'//\x20This\x20is'+'\x20the\x20face\x20'+'UV\x20[0..1]\x0a'+'\x20\x20\x20\x20let\x20vA'+'bs:\x20vec3f\x20'+'=\x20abs(dir)'+';\x0a\x20\x20\x20\x20var\x20'+'ma:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20if\x20(vA'+'bs.z\x20>=\x20vA'+'bs.x\x20&&\x20vA'+'bs.z\x20>=\x20vA'+'bs.y)\x20{\x20\x20\x20'+'//\x20front\x20/'+'\x20back\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20i'+'s_neg_z\x20=\x20'+'dir.z\x20<\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20faceIndex'+'\x20=\x20select('+'4.0,\x205.0,\x20'+'is_neg_z);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'a\x20=\x200.5\x20/\x20'+'vAbs.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv\x20='+'\x20vec2f(sel'+'ect(dir.x,'+'\x20-dir.x,\x20i'+'s_neg_z),\x20'+'-dir.y);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20til'+'eOffset\x20=\x20'+'vec2f(2.0,'+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_z));\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(vAbs'+'.y\x20>=\x20vAbs'+'.x)\x20{\x20\x20//\x20'+'top\x20index\x20'+'2,\x20bottom\x20'+'index\x203\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20is_neg_y\x20'+'=\x20dir.y\x20<\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20selec'+('t(2.0,\x203.0'+',\x20is_neg_y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2f(d'+'ir.x,\x20sele'+'ct(dir.z,\x20'+'-dir.z,\x20is'+'_neg_y));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ti'+'leOffset\x20='+'\x20vec2f(1.0'+',\x20select(0'+'.0,\x201.0,\x20i'+'s_neg_y));'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20is_'+'neg_x\x20=\x20di'+'r.x\x20<\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'aceIndex\x20='+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_x);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2f(selec'+'t(-dir.z,\x20'+'dir.z,\x20is_'+'neg_x),\x20-d'+'ir.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset\x20=\x20ve'+'c2f(0.0,\x20s'+'elect(0.0,'+'\x201.0,\x20is_n'+'eg_x));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv\x20*\x20m'+'a\x20+\x200.5;\x0a\x20'+'\x20\x20\x20return\x20'+'FaceCoords'+'(uv,\x20faceI'+'ndex,\x20tile'+'Offset);\x0a}'+'\x0a\x0a//\x20conve'+'rts\x20unnorm'+'alized\x20dir'+'ection\x20vec'+'tor\x20to\x20a\x20t'+'exture\x20coo'+'rdinate\x20fo'+'r\x20a\x20cubema'+'p\x20face\x20sto'+'red\x20within'+'\x20texture\x20a'+'tlas\x20descr'+'ibed\x20by\x20th'+'e\x20viewport'+'\x0afn\x20getCub'+'emapAtlasC'+'oordinates'+'(omniAtlas'+'Viewport:\x20'+'vec3f,\x20sha'+'dowEdgePix'+'els:\x20f32,\x20'+'shadowText'+'ureResolut'+'ion:\x20f32,\x20'+'dir:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20faceData'+':\x20FaceCoor'+'ds\x20=\x20getCu'+'bemapFaceC'+'oordinates'+'(dir);\x0a\x20\x20\x20'+'\x20var\x20uv:\x20v'+'ec2f\x20=\x20fac'+'eData.uv;\x0a'+'\x20\x20\x20\x20let\x20ti'+'leOffset:\x20'+'vec2f\x20=\x20fa'+'ceData.til'+'eOffset;\x0a\x0a'+'\x20\x20\x20\x20//\x20mov'+'e\x20uv\x20coord'+'inates\x20inw'+'ards\x20insid'+'e\x20to\x20compe'+'nsate\x20for\x20')+('larger\x20fov'+'\x20when\x20rend'+'ering\x20shad'+'ow\x20into\x20at'+'las\x0a\x20\x20\x20\x20le'+'t\x20atlasFac'+'eSize:\x20f32'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20le'+'t\x20tileSize'+':\x20f32\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20var\x20off'+'set:\x20f32\x20='+'\x20shadowEdg'+'ePixels\x20/\x20'+'tileSize;\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20*\x20(1.0\x20-'+'\x20offset\x20*\x20'+'2.0)\x20+\x20off'+'set;\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20='+'\x20uv\x20*\x20atla'+'sFaceSize;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x20into'+'\x20face\x20of\x20t'+'he\x20atlas\x20('+'3x3\x20grid)\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20+\x20tileOf'+'fset\x20*\x20atl'+'asFaceSize'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'offset\x20int'+'o\x20the\x20atla'+'s\x20viewport'+'\x0a\x20\x20\x20\x20uv\x20=\x20'+'uv\x20+\x20omniA'+'tlasViewpo'+'rt.xy;\x0a\x0a\x20\x20'+'\x20\x20return\x20u'+'v;\x0a}\x0a'),mM='\x0afn\x20_getCo'+'okieCluste'+'red(tex:\x20t'+'exture_2d<'+'f32>,\x20texS'+'ampler:\x20sa'+'mpler,\x20uv:'+'\x20vec2f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20pixel'+':\x20vec4f\x20=\x20'+'mix(vec4f('+'1.0),\x20text'+'ureSampleL'+'evel(tex,\x20'+'texSampler'+',\x20uv,\x200.0)'+',\x20intensit'+'y);\x0a\x20\x20\x20\x20le'+'t\x20isRgb:\x20b'+'ool\x20=\x20dot('+'cookieChan'+'nel.rgb,\x20v'+'ec3f(1.0))'+'\x20==\x203.0;\x0a\x20'+'\x20\x20\x20return\x20'+'select(vec'+'3f(dot(pix'+'el,\x20cookie'+'Channel)),'+'\x20pixel.rgb'+',\x20isRgb);\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0afn'+'\x20getCookie'+'2DClustere'+'d(tex:\x20tex'+'ture_2d<f3'+'2>,\x20texSam'+'pler:\x20samp'+'ler,\x20trans'+'form:\x20mat4'+'x4f,\x20world'+'Position:\x20'+'vec3f,\x20int'+'ensity:\x20f3'+'2,\x20cookieC'+'hannel:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20projPo'+'s:\x20vec4f\x20='+'\x20transform'+'\x20*\x20vec4f(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(tex,\x20texS'+'ampler,\x20pr'+'ojPos.xy\x20/'+'\x20projPos.w'+',\x20intensit'+'y,\x20cookieC'+'hannel);\x0a}'+'\x0a\x0a//\x20getCo'+'okie\x20for\x20c'+'lustered\x20o'+'mni\x20light\x20'+'with\x20the\x20c'+'ookie\x20text'+'ure\x20being\x20'+'stored\x20in\x20'+'the\x20cookie'+'\x20atlas\x0afn\x20'+'getCookieC'+'ubeCluster'+'ed(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20dir:'+'\x20vec3f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f,\x20shad'+'owTextureR'+'esolution:'+'\x20f32,\x20shad'+('owEdgePixe'+'ls:\x20f32,\x20o'+'mniAtlasVi'+'ewport:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20dir);'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getCook'+'ieClustere'+'d(tex,\x20tex'+'Sampler,\x20u'+'v,\x20intensi'+'ty,\x20cookie'+'Channel);\x0a'+'}\x0a'),_M='\x0a\x0afn\x20_getS'+'hadowCoord'+'PerspZbuff'+'er(shadowM'+'atrix:\x20mat'+'4x4f,\x20shad'+'owParams:\x20'+'vec4f,\x20wPo'+'s:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20p'+'rojPos\x20=\x20s'+'hadowMatri'+'x\x20*\x20vec4f('+'wPos,\x201.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20projPos'+'.xyz\x20/\x20pro'+'jPos.w;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0afn'+'\x20getShadow'+'CoordPersp'+'ZbufferNor'+'malOffset('+'shadowMatr'+'ix:\x20mat4x4'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20normal'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20wP'+'os:\x20vec3f\x20'+'=\x20vPositio'+'nW\x20+\x20norma'+'l\x20*\x20shadow'+'Params.y;\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wCoordPers'+'pZbuffer(s'+'hadowMatri'+'x,\x20shadowP'+'arams,\x20wPo'+'s);\x0a}\x0a\x0afn\x20'+'normalOffs'+'etPointSha'+'dow(shadow'+'Params:\x20ve'+'c4f,\x20light'+'Pos:\x20vec3f'+',\x20lightDir'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'normal:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20let\x20wPo'+'s:\x20vec3f\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y\x20*\x20'+'clamp(1.0\x20'+'-\x20dot(norm'+'al,\x20-light'+'DirNorm),\x20'+'0.0,\x201.0)\x20'+'*\x20distScal'+'e;\x20//0.02\x0a'+'\x20\x20\x20\x20let\x20di'+'r:\x20vec3f\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0a\x20\x20\x20\x20'+'fn\x20getShad'+'owOmniClus'+'teredPCF1('+'shadowMap:'+'\x20texture_d'+'epth_2d,\x20s'+'hadowMapSa'+'mpler:\x20sam'+'pler_compa'+'rison,\x20sha'+'dowParams:'+('\x20vec4f,\x20om'+'niAtlasVie'+'wport:\x20vec'+'3f,\x20shadow'+'EdgePixels'+':\x20f32,\x20lig'+'htDir:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shad'+'owTextureR'+'esolution:'+'\x20f32\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowZ:\x20f'+'32\x20=\x20lengt'+'h(lightDir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv,'+'\x20shadowZ);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'wOmniClust'+'eredPCF3(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owParams:\x20'+'vec4f,\x20omn'+'iAtlasView'+'port:\x20vec3'+'f,\x20shadowE'+'dgePixels:'+'\x20f32,\x20ligh'+'tDir:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wTextureRe'+'solution:\x20'+'f32\x20=\x20shad'+'owParams.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20light'+'Dir);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadowZ:\x20f3'+'2\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w\x20+\x20'+'shadowPara'+'ms.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowCoord:'+'\x20vec3f\x20=\x20v'+'ec3f(uv,\x20s'+'hadowZ);\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF3x3('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowOmn'+'iClustered'+'PCF5(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20omniAtl'+'asViewport'+':\x20vec3f,\x20s'+'hadowEdgeP'+'ixels:\x20f32'+',\x20lightDir'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadowTex'+'tureResolu'+'tion:\x20f32\x20'+'=\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'uv:\x20vec2f\x20'+'=\x20getCubem'+'apAtlasCoo'+'rdinates(o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20shad'+'owTextureR'+'esolution,'+'\x20lightDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20vec3f'+'(uv,\x20shado'+'wZ);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CF5x5(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'#endif\x0a\x0a//'+'\x20Clustered'+'\x20Spot\x20Samp'+'ling\x20using'+'\x20atlas\x0a\x0a#i'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF1)\x0a\x0a\x20\x20\x20'+'\x20fn\x20getSha'+'dowSpotClu'+'steredPCF1'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu')+('rn\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Coord.z);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0a\x20\x20'+'\x20\x20fn\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'3x3(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF5)\x0a\x0a\x20'+'\x20\x20\x20fn\x20getS'+'hadowSpotC'+'lusteredPC'+'F5(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),gM='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0avar\x20clu'+'sterWorldT'+'exture:\x20te'+'xture_2d<f'+'32>;\x0avar\x20l'+'ightsTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x0a#ifdef\x20C'+'LUSTER_SHA'+'DOWS\x0a\x20\x20\x20\x20/'+'/\x20TODO:\x20wh'+'en\x20VSM\x20sha'+'dow\x20is\x20sup'+'ported,\x20it'+'\x20needs\x20to\x20'+'use\x20sample'+'r2D\x20in\x20web'+'gl2\x0a\x20\x20\x20\x20va'+'r\x20shadowAt'+'lasTexture'+':\x20texture_'+'depth_2d;\x0a'+'\x20\x20\x20\x20var\x20sh'+'adowAtlasT'+'extureSamp'+'ler:\x20sampl'+'er_compari'+'son;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'var\x20cookie'+'AtlasTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20c'+'ookieAtlas'+'TextureSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0auniform'+'\x20clusterMa'+'xCells:\x20i3'+'2;\x0a\x0a//\x201.0'+'\x20if\x20cluste'+'red\x20lighti'+'ng\x20can\x20be\x20'+'skipped\x20(0'+'\x20lights\x20in'+'\x20the\x20clust'+'ers)\x0aunifo'+'rm\x20cluster'+'Skip:\x20f32;'+'\x0a\x0auniform\x20'+'clusterCel'+'lsCountByB'+'oundsSize:'+'\x20vec3f;\x0aun'+'iform\x20clus'+'terTexture'+'Size:\x20vec3'+'f;\x0auniform'+'\x20clusterBo'+'undsMin:\x20v'+'ec3f;\x0aunif'+'orm\x20cluste'+'rBoundsDel'+'ta:\x20vec3f;'+'\x0auniform\x20c'+'lusterCell'+'sDot:\x20vec3'+'f;\x0auniform'+'\x20clusterCe'+'llsMax:\x20ve'+('c3f;\x0aunifo'+'rm\x20shadowA'+'tlasParams'+':\x20vec2f;\x0a\x0a'+'//\x20structu'+'re\x20storing'+'\x20light\x20pro'+'perties\x20of'+'\x20a\x20cluster'+'ed\x20light\x0a/'+'/\x20it\x27s\x20sor'+'ted\x20to\x20hav'+'e\x20all\x20vect'+'ors\x20aligne'+'d\x20to\x204\x20flo'+'ats\x20to\x20lim'+'it\x20padding'+'\x0astruct\x20Cl'+'usterLight'+'Data\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x2032bit'+'\x20of\x20flags\x0a'+'\x20\x20\x20\x20flags:'+'\x20u32,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfWidth:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20isSpot:\x20'+'bool,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfHeight:'+'\x20vec3f,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20index\x0a\x20\x20'+'\x20\x20lightInd'+'ex:\x20i32,\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x0a\x20\x20'+'\x20\x20position'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20sh'+'ape:\x20u32,\x0a'+'\x0a\x20\x20\x20\x20//\x20wo'+'rld\x20space\x20'+'direction\x20'+'(spot\x20ligh'+'t\x20only)\x0a\x20\x20'+'\x20\x20directio'+'n:\x20vec3f,\x0a'+'\x0a\x20\x20\x20\x20//\x20li'+'ght\x20follow'+'\x20mode\x0a\x20\x20\x20\x20'+'falloffMod'+'eLinear:\x20b'+'ool,\x0a\x0a\x20\x20\x20\x20'+'//\x20color\x0a\x20'+'\x20\x20\x20color:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20//\x200.0\x20i'+'f\x20the\x20ligh'+'t\x20doesn\x27t\x20'+'cast\x20shado'+'ws\x0a\x20\x20\x20\x20sha'+'dowIntensi'+'ty:\x20f32,\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20omniAtl'+'asViewport'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'range:\x20f32'+',\x0a\x0a\x20\x20\x20\x20//\x20'+'channel\x20ma'+'sk\x20-\x20one\x20o'+'f\x20the\x20chan'+'nels\x20has\x201'+',\x20the\x20othe')+('rs\x20are\x200\x0a\x20'+'\x20\x20\x20cookieC'+'hannelMask'+':\x20vec4f,\x0a\x0a'+'\x20\x20\x20\x20//\x20com'+'pressed\x20bi'+'ases,\x20two\x20'+'haf-floats'+'\x20stored\x20in'+'\x20a\x20float\x0a\x20'+'\x20\x20\x20biasesD'+'ata:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20bias\x20'+'values\x0a\x20\x20\x20'+'\x20shadowBia'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20shadowNo'+'rmalBias:\x20'+'f32,\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20a'+'nglesData:'+'\x20f32,\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20inner'+'\x20and\x20outer'+'\x20angle\x20cos'+'ine\x0a\x20\x20\x20\x20in'+'nerConeAng'+'leCos:\x20f32'+',\x0a\x20\x20\x20\x20oute'+'rConeAngle'+'Cos:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'tensity\x20of'+'\x20the\x20cooki'+'e\x0a\x20\x20\x20\x20cook'+'ieIntensit'+'y:\x20f32,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20mask\x0a\x20\x20\x20'+'\x20//float\x20m'+'ask;\x0a\x20\x20\x20\x20i'+'sDynamic:\x20'+'bool,\x0a\x20\x20\x20\x20'+'isLightmap'+'ped:\x20bool\x0a'+'}\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0av'+'ar<private'+'>\x20lightPro'+'jectionMat'+'rix:\x20mat4x'+'4f;\x0a\x0afn\x20sa'+'mpleLightT'+'extureF(li'+'ghtIndex:\x20'+'i32,\x20index'+':\x20i32)\x20->\x20')+('vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureLoad'+'(lightsTex'+'ture,\x20vec2'+'<i32>(inde'+'x,\x20lightIn'+'dex),\x200);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightCore(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>,\x20'+'lightIndex'+':\x20f32)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20index\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'lightIndex'+'\x20=\x20i32(lig'+'htIndex);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20data\x20'+'encoding\x20h'+'alf-float\x20'+'values\x20int'+'o\x2032bit\x20ui'+'nts\x0a\x20\x20\x20\x20le'+'t\x20halfData'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_COLO'+'R_ANGLES_B'+'IAS});\x0a\x0a\x20\x20'+'\x20\x20//\x20store'+'\x20floats\x20we'+'\x20decode\x20la'+'ter\x20as\x20nee'+'ded\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.angle'+'sData\x20=\x20ha'+'lfData.z;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.biasesDat'+'a\x20=\x20halfDa'+'ta.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20decomp'+'ress\x20color'+'\x20half-floa'+'ts\x0a\x20\x20\x20\x20let'+'\x20colorRG:\x20'+'vec2f\x20=\x20un'+'pack2x16fl'+'oat(bitcas'+'t<u32>(hal'+'fData.x));'+'\x0a\x20\x20\x20\x20let\x20c'+'olorB_:\x20ve'+'c2f\x20=\x20unpa'+'ck2x16floa'+'t(bitcast<'+'u32>(halfD'+'ata.y));\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'color\x20=\x20ve'+'c3f(colorR'+'G,\x20colorB_'+'.x)\x20*\x20{LIG'+'HT_COLOR_D'+'IVIDER};\x0a\x0a'+'\x20\x20\x20\x20//\x20pos'+'ition\x20and\x20'+'range,\x20ful'+'l\x20floats\x0a\x20'+'\x20\x20\x20let\x20lig'+'htPosRange'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_POSI'+'TION_RANGE'+'});\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.posit')+('ion\x20=\x20ligh'+'tPosRange.'+'xyz;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.rang'+'e\x20=\x20lightP'+'osRange.w;'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'pot\x20direct'+'ion\x20&\x20flag'+'s\x20data\x0a\x20\x20\x20'+'\x20let\x20light'+'Dir_Flags:'+'\x20vec4f\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData.ligh'+'tIndex,\x20{C'+'LUSTER_TEX'+'TURE_DIREC'+'TION_FLAGS'+'});\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20directi'+'on\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.direct'+'ion\x20=\x20ligh'+'tDir_Flags'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x2032bit\x20'+'flags\x0a\x20\x20\x20\x20'+'let\x20flags_'+'uint:\x20u32\x20'+'=\x20bitcast<'+'u32>(light'+'Dir_Flags.'+'w);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20flags_u'+'int;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.isSp'+'ot\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2030u)'+')\x20!=\x200u;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'shape\x20=\x20(f'+'lags_uint\x20'+'>>\x2028u)\x20&\x20'+'0x3u;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.fal'+'loffModeLi'+'near\x20=\x20(fl'+'ags_uint\x20&'+'\x20(1u\x20<<\x2027'+'u))\x20==\x200u;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.shadowIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x200'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x208'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.isDynami'+'c\x20=\x20(flags'+'_uint\x20&\x20(1'+'u\x20<<\x2022u))'+'\x20!=\x200u;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sLightmapp'+'ed\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2021u)'+')\x20!=\x200u;\x0a}'+'\x0a\x0afn\x20decod'+'eClusterLi'+'ghtSpot(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{')+('\x0a\x20\x20\x20\x20//\x20sp'+'ot\x20light\x20c'+'os\x20angles\x0a'+'\x20\x20\x20\x20let\x20an'+'gles:\x20vec2'+'f\x20=\x20unpack'+'2x16float('+'bitcast<u3'+'2>(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'OmniAtlasV'+'iewport(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.omniAtla'+'sViewport\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData.l'+'ightIndex,'+'\x20{CLUSTER_'+'TEXTURE_PR'+'OJ_MAT_0})'+'.xyz;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'AreaData(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>)\x20'+'{\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.halfWid'+'th\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a.lightInd'+'ex,\x20{CLUST'+'ER_TEXTURE'+'_AREA_DATA'+'_WIDTH}).x'+'yz;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.halfH'+'eight\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data.light'+'Index,\x20{CL'+'USTER_TEXT'+'URE_AREA_D'+'ATA_HEIGHT'+'}).xyz;\x0a}\x0a'+'\x0afn\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(cluster'+'LightData:'+'\x20ptr<funct'+'ion,\x20Clust'+'erLightDat'+'a>)\x20{\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'matrix\x0a\x20\x20\x20'+'\x20let\x20m0:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_0});\x0a\x20\x20\x20'+'\x20let\x20m1:\x20v')+('ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_1});\x0a\x20\x20\x20'+'\x20let\x20m2:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_2});\x0a\x20\x20\x20'+'\x20let\x20m3:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4x'+'4f(m0,\x20m1,'+'\x20m2,\x20m3);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightShadow'+'Data(clust'+'erLightDat'+'a:\x20ptr<fun'+'ction,\x20Clu'+'sterLightD'+'ata>)\x20{\x0a\x20\x20'+'\x20\x20//\x20shado'+'w\x20biases\x0a\x20'+'\x20\x20\x20let\x20bia'+'ses:\x20vec2f'+'\x20=\x20unpack2'+'x16float(b'+'itcast<u32'+'>(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'fn\x20decodeC'+'lusterLigh'+'tCookieDat'+'a(clusterL'+'ightData:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20extract'+'\x20channel\x20m'+'ask\x20from\x20f'+'lags\x0a\x20\x20\x20\x20l'+'et\x20cookieF'+'lags:\x20u32\x20'+'=\x20(cluster'+'LightData.'+'flags\x20>>\x202'+'3u)\x20&\x200x0F'+'u;\x20\x20//\x204bi'+'ts,\x20each\x20b'+'it\x20enables'+'\x20a\x20channel'+'\x0a\x20\x20\x20\x20let\x20m'+'ask_uvec:\x20'+'vec4<u32>\x20'+'=\x20vec4<u32'+'>(cookieFl'+'ags)\x20&\x20vec'+'4<u32>(1u,'+'\x202u,\x204u,\x208'+'u);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eChannelMa'+'sk\x20=\x20step('+'vec4f(1.0)')+(',\x20vec4f(ma'+'sk_uvec));'+'\x20//\x20Normal'+'ize\x20to\x200.0'+'\x20or\x201.0\x0a}\x0a'+'\x0afn\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20light:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>,\x0a\x20\x20\x20\x20wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20reflectio'+'nDir:\x20vec3'+'f,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20clearc'+'oatReflect'+'ionDir:\x20ve'+'c3f,\x0a#endi'+'f\x0a\x20\x20\x20\x20glos'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20specular'+'ity:\x20vec3f'+',\x0a\x20\x20\x20\x20geom'+'etricNorma'+'l:\x20vec3f,\x0a'+'\x20\x20\x20\x20tbn:\x20m'+'at3x3f,\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a#e'+'ndif\x0a\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20clearco'+'at_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20s'+'heen_gloss'+':\x20f32,\x0a\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty:\x20f32\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ve'+'c3f(1.0);\x0a'+'\x20\x20\x20\x20var\x20di'+'ffuseAtten'+'uation:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20var\x20fal'+'loffAttenu'+'ation:\x20f32'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20omni\x20'+'part\x20of\x20th'+'e\x20light\x0a\x20\x20'+'\x20\x20let\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(l'+'ight.posit'+'ion);\x0a\x20\x20\x20\x20'+'let\x20lightD'+'irNormW:\x20v'+'ec3f\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20')+('handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffL'+'inear(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20='+'\x20getFallof'+'fInvSquare'+'d(light.ra'+'nge,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20if'+'\x20(falloffA'+'ttenuation'+'\x20>\x200.00001'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_AR'+'EALIGHTS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20!=\x20{LI'+'GHTSHAPE_P'+'UNCTUAL})\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20='+'=\x20{LIGHTSH'+'APE_RECT})'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getRectLig'+'htDiffuse('+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'W,\x20lightDi'+'rNormW)\x20*\x20'+'16.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20diffuseAt'+'tenuation\x20'+'=\x20getDiskL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x20/'+'/\x20sphere\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getS'+'phereLight'+'Diffuse(wo'+'rldNormal,'+'\x20viewDir,\x20'+'lightDirW,'+'\x20lightDirN'+'ormW)\x20*\x2016'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNormW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.is'+'Spot)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'decodeClus'+'terLightSp'+'ot(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getSp'+'otEffect(l'+'ight.direc'+'tion,\x20ligh'+'t.innerCon'+'eAngleCos,'+'\x20light.out'+'erConeAngl'+'eCos,\x20ligh'+'tDirNormW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_COOKIES)\x20'+'||\x20defined'+'(CLUSTER_S'+'HADOWS)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'hadow\x20/\x20co')+('okie\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'dowIntensi'+'ty\x20>\x200.0\x20|'+'|\x20light.co'+'okieIntens'+'ity\x20>\x200.0)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20shared\x20'+'shadow\x20/\x20c'+'ookie\x20data'+'\x20depends\x20o'+'n\x20light\x20ty'+'pe\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.i'+'sSpot)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ecodeClust'+'erLightPro'+'jectionMat'+'rixData(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightO'+'mniAtlasVi'+'ewport(lig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'TextureRes'+'olution:\x20f'+'32\x20=\x20unifo'+'rm.shadowA'+'tlasParams'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'EdgePixels'+':\x20f32\x20=\x20un'+'iform.shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'cookieInte'+'nsity\x20>\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(light)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'!!!!!!!!!!'+'!\x20TEXTURE_'+'PASS\x20likel'+'y\x20needs\x20sa'+'mpler.\x20Ass'+'uming\x20cook'+'ieAtlasTex'+'tureSample'+'r\x20exists.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(cooki'+'eAtlasText'+'ure,\x20cooki'+'eAtlasText'+'ureSampler'+',\x20lightPro'+'jectionMat'+'rix,\x20vPosi'+'tionW,\x20lig')+('ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20!!!!!!!!'+'!!!\x20TEXTUR'+'E_PASS\x20lik'+'ely\x20needs\x20'+'sampler.\x20A'+'ssuming\x20co'+'okieAtlasT'+'extureSamp'+'ler\x20exists'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cook'+'ieAttenuat'+'ion\x20=\x20getC'+'ookieCubeC'+'lustered(c'+'ookieAtlas'+'Texture,\x20c'+'ookieAtlas'+'TextureSam'+'pler,\x20ligh'+'tDirW,\x20lig'+'ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask,\x20shado'+'wTextureRe'+'solution,\x20'+'shadowEdge'+'Pixels,\x20li'+'ght.omniAt'+'lasViewpor'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20CLUSTER_'+'SHADOWS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(light'+'.shadowInt'+'ensity\x20>\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightShadow'+'Data(light'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowParams'+':\x20vec4f\x20=\x20'+'vec4f(shad'+'owTextureR'+'esolution,'+'\x20light.sha'+'dowNormalB'+'ias,\x20light'+'.shadowBia'+'s,\x201.0\x20/\x20l'+'ight.range'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20shadowCo'+'ord:\x20vec3f'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat')+('rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20!!!!!'+'!!!!!!\x20SHA'+'DOWMAP_PAS'+'S\x20needs\x20te'+'xture\x20and\x20'+'sampler_co'+'mparison.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20!!!'+'!!!!!!!!\x20S'+'hadow\x20func'+'tions\x20need'+'\x20update\x20fo'+'r\x20WGSL\x20tex'+'tureSample'+'Compare\x20et'+'c.\x20Assumin'+'g\x20these\x20ar'+'e\x20handled\x20'+'in\x20include'+'s.\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'SpotCluste'+'redPCF1(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadow:\x20f32'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF3('+'shadowAtla'+'sTexture,\x20'+'shadowAtla'+'sTextureSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadow:\x20f'+'32\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'5(shadowAt'+'lasTexture'+',\x20shadowAt'+'lasTexture'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCSS)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l')+('et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CSS(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20mix('+'1.0,\x20shado'+'w,\x20light.s'+'hadowInten'+'sity);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20omni\x20'+'shadow\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalOffset'+'PointShado'+'w(shadowPa'+'rams,\x20ligh'+'t.position'+',\x20lightDir'+'W,\x20lightDi'+'rNormW,\x20ge'+'ometricNor'+'mal);\x20\x20//\x20'+'normalBias'+'\x20adjusted\x20'+'for\x20distan'+'ce\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20!!!!!!!!!'+'!!\x20SHADOWM'+'AP_PASS\x20ne'+'eds\x20textur'+'e\x20and\x20samp'+'ler_compar'+'ison.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20!!!!!!!'+'!!!!\x20Shado'+'w\x20function'+'s\x20need\x20upd'+'ate\x20for\x20WG'+'SL\x20texture'+'SampleComp'+'are\x20etc.\x20A'+'ssuming\x20th'+'ese\x20are\x20ha'+'ndled\x20in\x20i'+'ncludes.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowOmni'+'ClusteredP'+'CF1(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowPar'+'ams,\x20light'+'.omniAtlas'+'Viewport,\x20'+'shadowEdge'+'Pixels,\x20di'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20getSha'+'dowOmniClu'+'steredPCF3'+'(shadowAtl'+'asTexture,'+'\x20shadowAtl'+'asTextureS'+'ampler,\x20sh'+'adowParams'+',\x20light.om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'OmniCluste'+'redPCF5(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20areaDif'+'fuse:\x20vec3'+'f\x20=\x20(diffu'+'seAttenuat'+'ion\x20*\x20fall'+'offAttenua'+'tion)\x20*\x20li')+('ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaDi'+'ffuse\x20=\x20mi'+'x(areaDiff'+'use,\x20vec3f'+'(0.0),\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20diff'+'use\x20-\x20it\x20d'+'oes\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20areaDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20areaL'+'ightSpecul'+'ar:\x20f32;\x20/'+'/\x20Use\x20var\x20'+'because\x20as'+'signed\x20in\x20'+'if/else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_RECT'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getRe'+'ctLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(ligh'+'t.shape\x20=='+'\x20{LIGHTSHA'+'PE_DISK})\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getDiskL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x20//\x20sphere'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'Specular\x20='+'\x20getSphere'+'LightSpecu')+('lar(worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20dLTC'+'SpecFres\x20*'+'\x20areaLight'+'Specular\x20*'+'\x20falloffAt'+'tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sp'+'ecular\x20cle'+'ar\x20coat\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20areaLigh'+'tSpecularC'+'C:\x20f32;\x20//'+'\x20Use\x20var\x20b'+'ecause\x20ass'+'igned\x20in\x20i'+'f/else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20==\x20{LI'+'GHTSHAPE_R'+'ECT})\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getRec'+'tLightSpec'+'ular(clear'+'coat_world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecularCC\x20='+'\x20getDiskLi'+'ghtSpecula'+'r(clearcoa'+'t_worldNor'+'mal,\x20viewD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20{\x20//\x20sph'+'ere\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getSphereL'+'ightSpecul'+'ar(clearco'+'at_worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'cSpecularL'+'ight\x20=\x20ccS'+'pecularLig'+'ht\x20+\x20ccLTC'+'SpecFres\x20*'+'\x20areaLight'+'SpecularCC'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20\x20*\x20c'+'ookieAtten')+('uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20punctual'+'\x20light\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20p'+'unctualDif'+'fuse:\x20vec3'+'f\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_AREAL'+'IGHTS)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'unctualDif'+'fuse\x20=\x20mix'+'(punctualD'+'iffuse,\x20ve'+'c3f(0.0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20dDiffus'+'eLight\x20+\x20p'+'unctualDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Dir:\x20vec3f'+'\x20=\x20normali'+'ze(-lightD'+'irNormW\x20+\x20'+'viewDir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR_FRESN'+'EL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20=\x20'+'dSpecularL'+'ight\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD')+('ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20halfD'+'ir),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'=\x20ccSpecul'+'arLight\x20+\x20'+'getLightSp'+'ecular(hal'+'fDir,\x20clea'+'rcoatRefle'+'ctionDir,\x20'+'clearcoat_'+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'NormW,\x20cle'+'arcoat_glo'+'ss,\x20tbn)\x20*'+'\x20falloffAt')+('tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion\x20*\x20getF'+'resnelCC(d'+'ot(viewDir'+',\x20halfDir)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20='+'\x20ccSpecula'+'rLight\x20+\x20g'+'etLightSpe'+'cular(half'+'Dir,\x20clear'+'coatReflec'+'tionDir,\x20c'+'learcoat_w'+'orldNormal'+',\x20viewDir,'+'\x20lightDirN'+'ormW,\x20clea'+'rcoat_glos'+'s,\x20tbn)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'+\x20getLight'+'SpecularSh'+'een(halfDi'+'r,\x20worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'sheen_glos'+'s)\x20*\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20'+'cookieAtte'+'nuation;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20Writ'+'e\x20to\x20globa'+'l\x20attenuat'+'ion\x20values'+'\x20(for\x20ligh'+'tmapper)\x0a\x20'+'\x20\x20\x20dAtten\x20'+'=\x20falloffA'+'ttenuation'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20lightDi'+'rNormW;\x0a}\x0a'+'\x0a\x0afn\x20evalu'+'ateCluster'+'Light(\x0a\x20\x20\x20'+'\x20lightInde'+'x:\x20f32,\x0a\x20\x20'+'\x20\x20worldNor'+'mal:\x20vec3f'+',\x0a\x20\x20\x20\x20view'+'Dir:\x20vec3f'+',\x0a\x20\x20\x20\x20refl'+'ectionDir:'+'\x20vec3f,\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20c'+'learcoatRe'+'flectionDi'+'r:\x20vec3f,\x0a'+'#endif\x0a\x20\x20\x20')+('\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20geometric'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20t'+'bn:\x20mat3x3'+'f,\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20clearc'+'oat_worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20cl'+'earcoat_gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20sheen_'+'gloss:\x20f32'+',\x0a\x20\x20\x20\x20irid'+'escence_in'+'tensity:\x20f'+'32\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr'+'om\x20texture'+'s\x0a\x20\x20\x20\x20var\x20'+'clusterLig'+'htData:\x20Cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(&cluste'+'rLightData'+',\x20lightInd'+'ex);\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20light\x20if'+'\x20it\x20uses\x20a'+'ccepted\x20li'+'ght\x20mask\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'acceptLigh'+'tMask:\x20boo'+'l\x20=\x20cluste'+'rLightData'+'.isDynamic'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20accept'+'LightMask:'+'\x20bool\x20=\x20cl'+'usterLight'+'Data.isLig'+'htmapped;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'acceptLigh'+'tMask)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20eva'+'luateLight'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20&clust'+'erLightDat'+'a,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'viewDir,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20reflectio'+'nDir,\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20geometri'+'cNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20tbn,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE')+('NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'sheen_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a\x0a\x0afn'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20world'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20v'+'iewDir:\x20ve'+'c3f,\x0a\x20\x20\x20\x20r'+'eflectionD'+'ir:\x20vec3f,'+'\x0a#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20clearcoa'+'tReflectio'+'nDir:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'specularit'+'y:\x20vec3f,\x0a'+'\x20\x20\x20\x20geomet'+'ricNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20tbn:\x20mat'+'3x3f,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a#end'+'if\x0a\x20\x20\x20\x20cle'+'arcoat_wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20clearcoat'+'_gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20she'+'en_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20i'+'ridescence'+'_intensity'+':\x20f32\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20sk'+'ip\x20lights\x20'+'if\x20no\x20ligh'+'ts\x20at\x20all\x0a'+'\x20\x20\x20\x20if\x20(un'+'iform.clus'+'terSkip\x20>\x20'+'0.5)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x20to'+'\x203d\x20intege'+'r\x20cell\x20cor'+'dinates\x20in'+'\x20the\x20clust'+'er\x20structu'+'re\x0a\x20\x20\x20\x20let'+'\x20cellCoord'+'s:\x20vec3f\x20='+'\x20floor((vP'+'ositionW\x20-'+'\x20uniform.c'+'lusterBoun'+'dsMin)\x20*\x20u'+'niform.clu'+'sterCellsC'+'ountByBoun'+'dsSize);\x0a\x0a'+'\x20\x20\x20\x20//\x20no\x20'+'lighting\x20w'+'hen\x20cell\x20c'+'oordinate\x20'+'is\x20out\x20of\x20'+'range\x0a\x20\x20\x20\x20'+'if\x20(!(any('+'cellCoords')+('\x20<\x20vec3f(0'+'.0))\x20||\x20an'+'y(cellCoor'+'ds\x20>=\x20unif'+'orm.cluste'+'rCellsMax)'+'))\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cel'+'l\x20index\x20(m'+'apping\x20fro'+'m\x203d\x20cell\x20'+'coordinate'+'s\x20to\x20linea'+'r\x20memory)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20cellInde'+'x:\x20f32\x20=\x20d'+'ot(uniform'+'.clusterCe'+'llsDot,\x20ce'+'llCoords);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20convert'+'\x20cell\x20inde'+'x\x20to\x20uv\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20clusterV'+':\x20f32\x20=\x20fl'+'oor(cellIn'+'dex\x20*\x20unif'+'orm.cluste'+'rTextureSi'+'ze.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20c'+'lusterU:\x20f'+'32\x20=\x20cellI'+'ndex\x20-\x20(cl'+'usterV\x20*\x20u'+'niform.clu'+'sterTextur'+'eSize.x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20loop\x20ove'+'r\x20maximum\x20'+'number\x20of\x20'+'light\x20cell'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(var\x20l'+'ightCellIn'+'dex:\x20i32\x20='+'\x200;\x20lightC'+'ellIndex\x20<'+'\x20uniform.c'+'lusterMaxC'+'ells;\x20ligh'+'tCellIndex'+'\x20=\x20lightCe'+'llIndex\x20+\x20'+'1)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20using\x20a\x20s'+'ingle\x20chan'+'nel\x20textur'+'e\x20with\x20dat'+'a\x20in\x20red\x20c'+'hannel\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20lightIn'+'dexPacked:'+'\x20f32\x20=\x20tex'+'tureLoad(c'+'lusterWorl'+'dTexture,\x20'+'vec2<i32>('+'i32(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20i32(clus'+'terV)),\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(lightInde'+'xPacked\x20<='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20break;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndexPack'+'ed\x20*\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20vie'+'wDir,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'eometricNo'+'rmal,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20clearc'+'oat_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a}'),SM='\x0afn\x20combin'+'eColor(alb'+'edo:\x20vec3f'+',\x20sheenSpe'+'cularity:\x20'+'vec3f,\x20cle'+'arcoatSpec'+'ularity:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20ret:\x20ve'+'c3f\x20=\x20vec3'+'f(0.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ret\x20=\x20'+'ret\x20+\x20((dD'+'iffuseLigh'+'t\x20-\x20unifor'+'m.light_gl'+'obalAmbien'+'t)\x20*\x20albed'+'o\x20+\x20unifor'+'m.material'+'_ambient\x20*'+'\x20uniform.l'+'ight_globa'+'lAmbient);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(albedo\x20*'+'\x20dDiffuseL'+'ight);\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_OLD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20dSpecular'+'Light;\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(dReflect'+'ion.rgb\x20*\x20'+'dReflectio'+'n.a);\x0a\x20\x20\x20\x20'+'#endif\x20//\x20'+'LIT_REFLEC'+'TIONS\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'sheenScali'+'ng:\x20f32\x20=\x20'+'1.0\x20-\x20max('+'max(sheenS'+'pecularity'+'.r,\x20sheenS'+'pecularity'+'.g),\x20sheen'+'Specularit'+'y.b)\x20*\x200.1'+'57;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20sheenS'+'caling\x20+\x20('+'sSpecularL'+'ight\x20+\x20sRe'+'flection.r'+'gb)\x20*\x20shee'+'nSpeculari'+'ty;\x0a\x20\x20\x20\x20#e'+'ndif\x20//\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20clear'+'CoatScalin'+'g:\x20f32\x20=\x201'+'.0\x20-\x20ccFre'+'snel\x20*\x20cle'+'arcoatSpec'+'ularity;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'\x20=\x20ret\x20*\x20c'+'learCoatSc'+'aling\x20+\x20(c'+'cSpecularL'+'ight\x20+\x20ccR'+'eflection)'+('\x20*\x20clearco'+'atSpecular'+'ity;\x0a\x20\x20\x20\x20#'+'endif\x20//\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20re'+'turn\x20ret;\x0a'+'}\x0a'),yM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x0a\x20\x20\x20\x20'+'var\x20blitTe'+'xture:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20blitText'+'ureSampler'+'\x20:\x20sampler'+';\x0a\x0a\x20\x20\x20\x20@fr'+'agment\x0a\x20\x20\x20'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20t'+'extureSamp'+'le(blitTex'+'ture,\x20blit'+'TextureSam'+'pler,\x20inpu'+'t.uv0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20}\x0a',vM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20u'+'niform\x20inv'+'ViewProj:\x20'+'mat4x4<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'re:\x20textur'+'e_cube<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'reSampler\x20'+':\x20sampler;'+'\x0a\x0a\x20\x20\x20\x20@fra'+'gment\x0a\x20\x20\x20\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20pro'+'jPos\x20=\x20vec'+'4f(input.u'+'v0\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20w'+'orldPos\x20=\x20'+'uniform.in'+'vViewProj\x20'+'*\x20projPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20textur'+'eSample(bl'+'itTexture,'+'\x20blitTextu'+'reSampler,'+'\x20worldPos.'+'xyz);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20}\x0a',xM='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.uv0.y'+'\x20=\x201.0\x20-\x20o'+'utput.uv0.'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',TM='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMin:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMax:\x20v'+'ec3f;\x0a#end'+'if\x0a\x0afn\x20cub'+'eMapProjec'+'t(nrdir:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20cubeMapR'+'otate(nrdi'+'r);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIT_CU'+'BEMAP_PROJ'+'ECTION\x20==\x20'+'BOX\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20nrd'+'ir_rotated'+':\x20vec3f\x20=\x20'+'cubeMapRot'+'ate(nrdir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20rbmax'+':\x20vec3f\x20=\x20'+'(uniform.e'+'nvBoxMax\x20-'+'\x20vPosition'+'W)\x20/\x20nrdir'+'_rotated;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20rbmin:\x20v'+'ec3f\x20=\x20(un'+'iform.envB'+'oxMin\x20-\x20vP'+'ositionW)\x20'+'/\x20nrdir_ro'+'tated;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'rbminmax:\x20'+'vec3f\x20=\x20se'+'lect(rbmin'+',\x20rbmax,\x20n'+'rdir_rotat'+'ed\x20>\x20vec3f'+'(0.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'fa:\x20f32\x20=\x20'+'min(min(rb'+'minmax.x,\x20'+'rbminmax.y'+'),\x20rbminma'+'x.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20p'+'osonbox:\x20v'+'ec3f\x20=\x20vPo'+'sitionW\x20+\x20'+'nrdir_rota'+'ted\x20*\x20fa;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20envBoxPo'+'s:\x20vec3f\x20='+'\x20(uniform.'+'envBoxMin\x20'+'+\x20uniform.'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20normali'+'ze(posonbo'+'x\x20-\x20envBox'+'Pos);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',wM='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20cubeMap'+'RotationMa'+'trix:\x20mat3'+'x3f;\x0a#endi'+'f\x0a\x0afn\x20cube'+'MapRotate('+'refDir:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a#ifd'+'ef\x20CUBEMAP'+'_ROTATION\x0a'+'\x20\x20\x20\x20return'+'\x20refDir\x20*\x20'+'uniform.cu'+'beMapRotat'+'ionMatrix;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir;\x0a#end'+'if\x0a}\x0a',EM='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0aoutp'+'ut.color\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0aoutput.co'+'lor\x20=\x20vec4'+'f(litArgs_'+'albedo\x20,\x201'+'.0);\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'DEBUG_WORL'+'D_NORMAL_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(litAr'+'gs_worldNo'+'rmal\x20*\x200.5'+'\x20+\x200.5,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_OPACI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_opacity'+')\x20,\x201.0);\x0a'+'#endif\x0a\x0a#i'+'fdef\x20DEBUG'+'_SPECULARI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(l'+'itArgs_spe'+'cularity,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_GLO'+'SS_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_gloss)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_M'+'ETALNESS_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(vec3f'+'(litArgs_m'+'etalness)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_A'+'O_PASS\x0aout'+'put.color\x20'+'=\x20vec4f(ve'+'c3f(litArg'+'s_ao)\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_EMISS'+'ION_PASS\x0ao'+'utput.colo'+'r\x20=\x20vec4f('+'gammaCorre'+'ctOutput(l'+'itArgs_emi'+'ssion),\x201.'+'0);\x0a#endif'+'\x0a',bM='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0a\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20v'+'ec3f(0.5);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0a#ifdef\x20VA'+'RYING_VUV0'+'\x0a\x20\x20\x20\x20litAr'+'gs_albedo\x20'+'=\x20vec3f(vU'+'v0,\x200.0);\x0a'+'#else\x0a\x20\x20\x20\x20'+'litArgs_al'+'bedo\x20=\x20vec'+'3f(0.0);\x0a#'+'endif\x0a#end'+'if\x0a',AM='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0afn\x20de'+'codeLinear'+'(raw:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20raw.r'+'gb;\x0a}\x0a\x0afn\x20'+'decodeGamm'+'aFloat(raw'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20pow'+'(raw,\x202.2)'+';\x0a}\x0a\x0afn\x20de'+'codeGamma3'+'(raw:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(r'+'aw,\x20vec3f('+'2.2));\x0a}\x0a\x0a'+'fn\x20decodeG'+'amma(raw:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow(raw.xyz'+',\x20vec3f(2.'+'2));\x0a}\x0a\x0afn'+'\x20decodeRGB'+'M(raw:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20color\x20='+'\x20(8.0\x20*\x20ra'+'w.a)\x20*\x20raw'+'.rgb;\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0afn\x20de'+'codeRGBP(r'+'aw:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20ra'+'w.rgb\x20*\x20(-'+'raw.a\x20*\x207.'+'0\x20+\x208.0);\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0af'+'n\x20decodeRG'+'BE(raw:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(vec3f('+'0.0),\x20raw.'+'xyz\x20*\x20pow('+'2.0,\x20raw.w'+'\x20*\x20255.0\x20-'+'\x20128.0),\x20r'+'aw.a\x20!=\x200.'+'0);\x0a}\x0a\x0afn\x20'+'passThroug'+'h(raw:\x20vec'+'4f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw;'+'\x0a}\x0a\x0afn\x20unp'+'ackNormalX'+'YZ(nmap:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20nm'+'ap.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'}\x0a\x0afn\x20unpa'+'ckNormalXY'+'(nmap:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20xy\x20=\x20nm'+'ap.wy\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'vec3f(xy,\x20'+'sqrt(1.0\x20-'+'\x20clamp(dot'+'(xy,\x20xy),\x20'+'0.0,\x201.0))'+');\x0a}\x0a\x0a#end'+'if\x0a',CM='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0afn\x20de'+'tailMode_m'+'ul(c1:\x20vec'+'3f,\x20c2:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20c1\x20'+'*\x20c2;\x0a}\x0a\x0af'+'n\x20detailMo'+'de_add(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20c1\x20+\x20c2;\x0a'+'}\x0a\x0a//\x20http'+'s://en.wik'+'ipedia.org'+'/wiki/Blen'+'d_modes#Sc'+'reen\x0afn\x20de'+'tailMode_s'+'creen(c1:\x20'+'vec3f,\x20c2:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'1.0\x20-\x20(1.0'+'\x20-\x20c1)*(1.'+'0\x20-\x20c2);\x0a}'+'\x0a\x0a//\x20https'+'://en.wiki'+'pedia.org/'+'wiki/Blend'+'_modes#Ove'+'rlay\x0afn\x20de'+'tailMode_o'+'verlay(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20mix(1.0\x20-'+'\x202.0\x20*\x20(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0\x20*\x20c1\x20*'+'\x20c2,\x20step('+'c1,\x20vec3f('+'0.5)));\x0a}\x0a'+'\x0afn\x20detail'+'Mode_min(c'+'1:\x20vec3f,\x20'+'c2:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20min(c1,'+'\x20c2);\x0a}\x0a\x0af'+'n\x20detailMo'+'de_max(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(c1,\x20c'+'2);\x0a}\x0a\x0a#en'+'dif\x0a',PM='\x0auniform\x20m'+'aterial_di'+'ffuse:\x20vec'+'3f;\x0a\x0a#ifde'+'f\x20STD_DIFF'+'USEDETAIL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22detailMo'+'desPS\x22\x0a#en'+'dif\x0a\x0afn\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20unif'+'orm.materi'+'al_diffuse'+'.rgb;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoText'+'ure:\x20vec3f'+'\x20=\x20{STD_DI'+'FFUSE_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_DIFFU'+'SE_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'_TEXTURE_N'+'AME}Sample'+'r,\x20{STD_DI'+'FFUSE_TEXT'+'URE_UV},\x20u'+'niform.tex'+'tureBias))'+'.{STD_DIFF'+'USE_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoDeta'+'il:\x20vec3f\x20'+'=\x20{STD_DIF'+'FUSEDETAIL'+'_TEXTURE_D'+'ECODE}(tex'+'tureSample'+'Bias({STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_NAME},\x20{'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_DIFFU'+'SEDETAIL_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20=\x20dAlbe'+'do\x20*\x20albed'+'oTexture;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_DIF'+'FUSE_VERTE'+'X\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAlbedo\x20=\x20'+'dAlbedo\x20*\x20'+'gammaCorre'+'ctInputVec'+'3(saturate'+'3(vVertexC'+'olor.{STD_'+('DIFFUSE_VE'+'RTEX_CHANN'+'EL}));\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),MM='\x0auniform\x20m'+'aterial_em'+'issive:\x20ve'+'c3f;\x0aunifo'+'rm\x20materia'+'l_emissive'+'Intensity:'+'\x20f32;\x0a\x0afn\x20'+'getEmissio'+'n()\x20{\x0a\x20\x20\x20\x20'+'dEmission\x20'+'=\x20uniform.'+'material_e'+'missive\x20*\x20'+'uniform.ma'+'terial_emi'+'ssiveInten'+'sity;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_EMISSIVE'+'_TEXTURE\x0a\x20'+'\x20\x20\x20dEmissi'+'on\x20*=\x20{STD'+'_EMISSIVE_'+'TEXTURE_DE'+'CODE}(text'+'ureSampleB'+'ias({STD_E'+'MISSIVE_TE'+'XTURE_NAME'+'},\x20{STD_EM'+'ISSIVE_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_EMISSI'+'VE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias)).{S'+'TD_EMISSIV'+'E_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_VERT'+'EX\x0a\x20\x20\x20\x20dEm'+'ission\x20=\x20d'+'Emission\x20*'+'\x20gammaCorr'+'ectInputVe'+'c3(saturat'+'e3(vVertex'+'Color.{STD'+'_EMISSIVE_'+'VERTEX_CHA'+'NNEL}));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',DM='\x0afn\x20encode'+'Linear(sou'+'rce:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'source,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeGamm'+'a(source:\x20'+'vec3f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4f(pow(s'+'ource\x20+\x20ve'+'c3f(0.0000'+'001),\x20vec3'+'f(1.0\x20/\x202.'+'2)),\x201.0);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBM(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+'r\x20color:\x20v'+'ec3f\x20=\x20pow'+'(source,\x20v'+'ec3f(0.5))'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x201.0\x20/'+'\x208.0;\x0a\x0a\x20\x20\x20'+'\x20var\x20a:\x20f3'+'2\x20=\x20satura'+'te(max(max'+'(color.r,\x20'+'color.g),\x20'+'max(color.'+'b,\x201.0\x20/\x202'+'55.0)));\x0a\x20'+'\x20\x20\x20a\x20=\x20cei'+'l(a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20col'+'or\x20/=\x20a;\x0a\x20'+'\x20\x20\x20return\x20'+'vec4f(colo'+'r,\x20a);\x0a}\x0a\x0a'+'fn\x20encodeR'+'GBP(source'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20//\x20con'+'vert\x20incom'+'ing\x20linear'+'\x20to\x20gamma('+'ish)\x0a\x20\x20\x20\x20v'+'ar\x20gamma:\x20'+'vec3f\x20=\x20po'+'w(source,\x20'+'vec3f(0.5)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20the\x20maxim'+'um\x20compone'+'nt\x20clamped'+'\x20to\x201..8\x0a\x20'+'\x20\x20\x20var\x20max'+'Val:\x20f32\x20='+'\x20min(8.0,\x20'+'max(1.0,\x20m'+'ax(gamma.x'+',\x20max(gamm'+'a.y,\x20gamma'+'.z))));\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20stor'+'age\x20factor'+'\x0a\x20\x20\x20\x20var\x20v'+':\x20f32\x20=\x201.'+'0\x20-\x20((maxV'+'al\x20-\x201.0)\x20'+'/\x207.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20roun'+'d\x20the\x20valu'+'e\x20for\x20stor'+'age\x20in\x208bi'+'t\x20channel\x0a'+'\x20\x20\x20\x20v\x20=\x20ce'+'il(v\x20*\x20255'+'.0)\x20/\x20255.'+'0;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(gamma\x20/\x20('+'-v\x20*\x207.0\x20+'+'\x208.0),\x20v);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBE(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+('r\x20maxVal:\x20'+'f32\x20=\x20max('+'source.x,\x20'+'max(source'+'.y,\x20source'+'.z));\x0a\x20\x20\x20\x20'+'if\x20(maxVal'+'\x20<\x201e-32)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+':\x20f32\x20=\x20ce'+'il(log2(ma'+'xVal));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(s'+'ource\x20/\x20po'+'w(2.0,\x20e),'+'\x20(e\x20+\x20128.'+'0)\x20/\x20255.0'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a'),IM='\x0a\x20\x20\x20\x20var\x20f'+'inalRgb:\x20v'+'ec3f\x20=\x20com'+'bineColor('+'litArgs_al'+'bedo,\x20litA'+'rgs_sheen_'+'specularit'+'y,\x20litArgs'+'_clearcoat'+'_speculari'+'ty);\x0a\x0a\x20\x20\x20\x20'+'finalRgb\x20='+'\x20finalRgb\x20'+'+\x20litArgs_'+'emission;\x0a'+'\x20\x20\x20\x20finalR'+'gb\x20=\x20addFo'+'g(finalRgb'+');\x0a\x20\x20\x20\x20fin'+'alRgb\x20=\x20to'+'neMap(fina'+'lRgb);\x0a\x20\x20\x20'+'\x20finalRgb\x20'+'=\x20gammaCor'+'rectOutput'+'(finalRgb)'+';\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(fin'+'alRgb,\x20out'+'put.color.'+'a);\x0a',LM='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20atla'+'sSize\x20:\x20f3'+'2\x20=\x20512.0;'+'\x0aconst\x20sea'+'mSize\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0afn\x20mapU'+'v(uv\x20:\x20vec'+'2f,\x20rect\x20:'+'\x20vec4f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec2f(mix('+'rect.x\x20+\x20s'+'eamSize,\x20r'+'ect.x\x20+\x20re'+'ct.z\x20-\x20sea'+'mSize,\x20uv.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20mix(rect.'+'y\x20+\x20seamSi'+'ze,\x20rect.y'+'\x20+\x20rect.w\x20'+'-\x20seamSize'+',\x20uv.y));\x0a'+'}\x0a\x0a//\x20map\x20'+'a\x20normaliz'+'ed\x20equirec'+'t\x20UV\x20and\x20r'+'oughness\x20l'+'evel\x20to\x20th'+'e\x20correct\x20'+'atlas\x20rect'+'.\x0afn\x20mapRo'+'ughnessUv('+'uv\x20:\x20vec2f'+',\x20level\x20:\x20'+'f32)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20t\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'exp2(level'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mapUv('+'uv,\x20vec4f('+'0.0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0afn\x20mapS'+'hinyUv(uv\x20'+':\x20vec2f,\x20l'+'evel\x20:\x20f32'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20t\x20:\x20f32\x20='+'\x201.0\x20/\x20exp'+'2(level);\x0a'+'\x20\x20\x20\x20return'+'\x20mapUv(uv,'+'\x20vec4f(1.0'+'\x20-\x20t,\x201.0\x20'+'-\x20t,\x20t,\x20t\x20'+'*\x200.5));\x0a}'+'\x0a\x0a#endif\x0a',RM='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20skyboxInt'+'ensity\x20:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20proce'+'ssEnvironm'+'ent(color\x20'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20unifo'+'rm.skyboxI'+'ntensity;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',OM='\x0afn\x20getFal'+'loffWindow'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20sqrDist'+':\x20f32\x20=\x20do'+'t(lightDir'+',\x20lightDir'+');\x0a\x20\x20\x20\x20let'+'\x20invRadius'+':\x20f32\x20=\x201.'+'0\x20/\x20lightR'+'adius;\x0a\x20\x20\x20'+'\x20return\x20sq'+'uare(satur'+'ate(1.0\x20-\x20'+'square(sqr'+'Dist\x20*\x20squ'+'are(invRad'+'ius))));\x0a}'+'\x0a\x0afn\x20getFa'+'lloffInvSq'+'uared(ligh'+'tRadius:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20sq'+'rDist:\x20f32'+'\x20=\x20dot(lig'+'htDir,\x20lig'+'htDir);\x0a\x20\x20'+'\x20\x20var\x20fall'+'off:\x20f32\x20='+'\x201.0\x20/\x20(sq'+'rDist\x20+\x201.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20invRadiu'+'s:\x20f32\x20=\x201'+'.0\x20/\x20light'+'Radius;\x0a\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x20square('+'saturate(1'+'.0\x20-\x20squar'+'e(sqrDist\x20'+'*\x20square(i'+'nvRadius))'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20fall'+'off;\x0a}\x0a',FM='\x0afn\x20getFal'+'loffLinear'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20length(l'+'ightDir);\x0a'+'\x20\x20\x20\x20return'+'\x20max(((lig'+'htRadius\x20-'+'\x20d)\x20/\x20ligh'+'tRadius),\x20'+'0.0);\x0a}\x0a',NM='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x20re'+'presentati'+'on\x20(0.0-1.'+'0\x20range)\x0af'+'n\x20float2ui'+'nt(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20intBit'+'s\x20=\x20bitcas'+'t<u32>(val'+'ue);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20f32((intB'+'its\x20>>\x2024u'+')\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((intBi'+'ts\x20>>\x2016u)'+'\x20&\x200xffu),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((intBit'+'s\x20>>\x208u)\x20&'+'\x200xffu),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20f32'+'(intBits\x20&'+'\x200xffu)\x0a\x20\x20'+'\x20\x20)\x20/\x20255.'+'0;\x0a}\x0a\x0a//\x20d'+'ecode\x20RGBA'+'8\x20value\x20to'+'\x20float\x0afn\x20'+'uint2float'+'(value:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20rgba_u32'+'\x20=\x20vec4<u3'+'2>(value\x20*'+'\x20255.0);\x0a\x20'+'\x20\x20\x20let\x20int'+'Bits:\x20u32\x20'+'=\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'r\x20<<\x2024u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'g\x20<<\x2016u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'b\x20<<\x208u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20rgba_u32.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20bitcas'+'t<f32>(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0af'+'n\x20float2ve'+'c4(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CAPS_TEX'+'TURE_FLOAT'+'_RENDERABL'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(value,'+'\x201.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20float2ui'+'nt(value);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#endi'+'f\x20//\x20FLOAT'+'_AS_UINT\x0a',kM='\x0a\x0avar<priv'+'ate>\x20dBlen'+'dModeFogFa'+'ctor\x20:\x20f32'+'\x20=\x201.0;\x0a\x0a#'+'if\x20(FOG\x20!='+'\x20NONE)\x0a\x20\x20\x20'+'\x20uniform\x20f'+'og_color\x20:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20fog_sta'+'rt\x20:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20fog_'+'end\x20:\x20f32;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20fog'+'_density\x20:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afn\x20ge'+'tFogFactor'+'()\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20depth\x20=\x20p'+'cPosition.'+'z\x20/\x20pcPosi'+'tion.w;\x0a\x0a\x20'+'\x20\x20\x20var\x20fog'+'Factor\x20:\x20f'+'32\x20=\x200.0;\x0a'+'\x0a\x20\x20\x20\x20#if\x20('+'FOG\x20==\x20LIN'+'EAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20(unif'+'orm.fog_en'+'d\x20-\x20depth)'+'\x20/\x20(unifor'+'m.fog_end\x20'+'-\x20uniform.'+'fog_start)'+';\x0a\x20\x20\x20\x20#eli'+'f\x20(FOG\x20==\x20'+'EXP)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20exp(-'+'depth\x20*\x20un'+'iform.fog_'+'density);\x0a'+'\x20\x20\x20\x20#elif\x20'+'(FOG\x20==\x20EX'+'P2)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fogFacto'+'r\x20=\x20exp(-d'+'epth\x20*\x20dep'+'th\x20*\x20unifo'+'rm.fog_den'+'sity\x20*\x20uni'+'form.fog_d'+'ensity);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(fo'+'gFactor,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0afn\x20addF'+'og(color\x20:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'uniform.fo'+'g_color\x20*\x20'+'dBlendMode'+'FogFactor,'+'\x20color,\x20ge'+'tFogFactor'+'());\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'color;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',UM='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0afn'+'\x20getFresne'+'l(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20cosTheta:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y:\x20f32\x0a\x20\x20\x20'+'\x20#endif\x0a)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20f'+'resnel:\x20f3'+'2\x20=\x20pow(1.'+'0\x20-\x20satura'+'te(cosThet'+'a),\x205.0);\x0a'+'\x20\x20\x20\x20let\x20gl'+'ossSq:\x20f32'+'\x20=\x20gloss\x20*'+'\x20gloss;\x0a\x20\x20'+'\x20\x20let\x20ret:'+'\x20vec3f\x20=\x20s'+'pecularity'+'\x20+\x20(max(ve'+'c3f(glossS'+'q),\x20specul'+'arity)\x20-\x20s'+'pecularity'+')\x20*\x20fresne'+'l;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20mix(ret,'+'\x20iridescen'+'ceFresnel,'+'\x20iridescen'+'ceIntensit'+'y);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20r'+'et;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0afn'+'\x20getFresne'+'lCC(cosThe'+'ta:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20fres'+'nel:\x20f32\x20='+'\x20pow(1.0\x20-'+'\x20saturate('+'cosTheta),'+'\x205.0);\x0a\x20\x20\x20'+'\x20return\x200.'+'04\x20+\x20(1.0\x20'+'-\x200.04)\x20*\x20'+'fresnel;\x0a}',BM='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x0avary'+'ing\x20vUv0:\x20'+'vec2f;\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4f(inpu'+'t.vertex_p'+'osition,\x200'+'.5,\x201.0);\x0a'+'\x20\x20\x20\x20output'+'.vUv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x20vec2f(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',zM='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInput(c'+'olor:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGammaFloa'+'t(color);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20fn\x20gammaC'+'orrectInpu'+'tVec3(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20deco'+'deGamma3(c'+'olor);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInputVe'+'c4(color:\x20'+'vec4f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(d'+'ecodeGamma'+'3(color.xy'+'z),\x20color.'+'w);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Output(col'+'or:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20pow'+'(color\x20+\x200'+'.0000001,\x20'+'vec3f(1.0\x20'+'/\x202.2));\x0a\x20'+'\x20\x20\x20}\x0a\x0a#els'+'e\x20//\x20NONE\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Input(colo'+'r:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20gammaCo'+'rrectInput'+'Vec3(color'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20gamm'+'aCorrectIn'+'putVec4(co'+'lor:\x20vec4f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20g'+'ammaCorrec'+'tOutput(co'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a',VM='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_gl'+'oss:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getGlossi'+'ness()\x20{\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_GL'+'OSS_CONSTA'+'NT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20unifo'+'rm.materia'+'l_gloss;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_GLOS'+'S_TEXTURE\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x20dG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_GLOSS'+'_TEXTURE_N'+'AME},\x20{STD'+'_GLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_GLOSS_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_GLOSS_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_I'+'NVERT\x0a\x20\x20\x20\x20'+'dGlossines'+'s\x20=\x201.0\x20-\x20'+'dGlossines'+'s;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20d'+'Glossiness'+'\x20=\x20dGlossi'+'ness\x20+\x200.0'+'000001;\x0a}\x0a',GM='\x0auniform\x20m'+'atrix_mode'+'l:\x20mat4x4f'+';\x0auniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0auniform\x20'+'matrix_pro'+'jection:\x20m'+'at4x4f;\x0a\x0a/'+'/\x20project\x20'+'the\x20model\x20'+'space\x20gaus'+'sian\x20cente'+'r\x20to\x20view\x20'+'and\x20clip\x20s'+'pace\x0afn\x20in'+'itCenter(m'+'odelCenter'+':\x20vec3f,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>)\x20->\x20bo'+'ol\x20{\x0a\x20\x20\x20\x20l'+'et\x20modelVi'+'ew:\x20mat4x4'+'f\x20=\x20unifor'+'m.matrix_v'+'iew\x20*\x20unif'+'orm.matrix'+'_model;\x0a\x20\x20'+'\x20\x20let\x20cent'+'erView:\x20ve'+'c4f\x20=\x20mode'+'lView\x20*\x20ve'+'c4f(modelC'+'enter,\x201.0'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20if\x20splat\x20'+'is\x20behind\x20'+'the\x20camera'+'\x0a\x20\x20\x20\x20if\x20(c'+'enterView.'+'z\x20>\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20ce'+'nterProj:\x20'+'vec4f\x20=\x20un'+'iform.matr'+'ix_project'+'ion\x20*\x20cent'+'erView;\x0a\x0a\x20'+'\x20\x20\x20//\x20ensu'+'re\x20gaussia'+'ns\x20are\x20not'+'\x20clipped\x20b'+'y\x20camera\x20n'+'ear\x20and\x20fa'+'r\x0a\x20\x20\x20\x20cent'+'erProj.z\x20='+'\x20clamp(cen'+'terProj.z,'+'\x200.0,\x20abs('+'centerProj'+'.w));\x0a\x0a\x20\x20\x20'+'\x20center.vi'+'ew\x20=\x20cente'+'rView.xyz\x20'+'/\x20centerVi'+'ew.w;\x0a\x20\x20\x20\x20'+'center.pro'+'j\x20=\x20center'+'Proj;\x0a\x20\x20\x20\x20'+'center.pro'+'jMat00\x20=\x20u'+'niform.mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',HM='\x0a\x0avar\x20spla'+'tColor:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20r'+'eadColor(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20tex'+'tureLoad(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a}\x0a',WM='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20order:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20id:\x20u3'+'2,\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'uv:\x20vec2<i'+'32>,\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20corn'+'erUV:\x20vec2'+'f,\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a}\x0a\x0a'+'//\x20stores\x20'+'the\x20camera'+'\x20and\x20clip\x20'+'space\x20posi'+'tion\x20of\x20th'+'e\x20gaussian'+'\x20center\x0ast'+'ruct\x20Splat'+'Center\x20{\x0a\x20'+'\x20\x20\x20view:\x20v'+'ec3f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20vi'+'ew\x20space\x0a\x20'+'\x20\x20\x20proj:\x20v'+'ec4f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20cl'+'ip\x20space\x0a\x20'+'\x20\x20\x20modelVi'+'ew:\x20mat4x4'+'f,\x20\x20\x20//\x20mo'+'del-view\x20m'+'atrix\x0a\x20\x20\x20\x20'+'projMat00:'+'\x20f32,\x20\x20\x20\x20\x20'+'\x20\x20//\x20eleme'+'mt\x20[0][0]\x20'+'of\x20the\x20pro'+'jection\x20ma'+'trix\x0a}\x0a\x0a//'+'\x20stores\x20th'+'e\x20offset\x20f'+'rom\x20center'+'\x20for\x20the\x20c'+'urrent\x20gau'+'ssian\x0astru'+'ct\x20SplatCo'+'rner\x20{\x0a\x20\x20\x20'+'\x20offset:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20corn'+'er\x20offset\x20'+'from\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'uv:\x20vec2f,'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20aaFactor:'+'\x20f32,\x20//\x20f'+'or\x20scenes\x20'+'generated\x20'+'with\x20antia'+'liasing\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0a#include'+'\x20\x22gsplatEv'+'alSHVS\x22\x0a#i'+'nclude\x20\x22gs'+'platQuatTo'+'Mat3VS\x22\x0a\x0a#'+'if\x20GSPLAT_'+'COMPRESSED'+'_DATA\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatComp'+'ressedData'+'VS\x22\x0a\x20\x20\x20\x20#i'+('f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsDataVS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tSogsColor'+'VS\x22\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsSHVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#else\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatData'+'VS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22gs'+'platColorV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0afn\x20'+'clipCorner'+'(corner:\x20p'+'tr<functio'+'n,\x20SplatCo'+'rner>,\x20alp'+'ha:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'lip:\x20f32\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20(255'+'.0\x20*\x20alpha'+')))\x20/\x202.0)'+';\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20corner.o'+'ffset\x20*\x20cl'+'ip;\x0a\x20\x20\x20\x20co'+'rner.uv\x20=\x20'+'corner.uv\x20'+'*\x20clip;\x0a}\x0a'+'\x0a'),$M='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0avar'+'\x20chunkText'+'ure:\x20textu'+'re_2d<f32>'+';\x0a\x0a//\x20work'+'\x20values\x0ava'+'r<private>'+'\x20chunkData'+'A:\x20vec4f;\x20'+'\x20\x20\x20//\x20x:\x20m'+'in_x,\x20y:\x20m'+'in_y,\x20z:\x20m'+'in_z,\x20w:\x20m'+'ax_x\x0avar<p'+'rivate>\x20ch'+'unkDataB:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20max_'+'y,\x20y:\x20max_'+'z,\x20z:\x20scal'+'e_min_x,\x20w'+':\x20scale_mi'+'n_y\x0avar<pr'+'ivate>\x20chu'+'nkDataC:\x20v'+'ec4f;\x20\x20\x20\x20/'+'/\x20x:\x20scale'+'_min_z,\x20y:'+'\x20scale_max'+'_x,\x20z:\x20sca'+'le_max_y,\x20'+'w:\x20scale_m'+'ax_z\x0avar<p'+'rivate>\x20ch'+'unkDataD:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20min_'+'r,\x20y:\x20min_'+'g,\x20z:\x20min_'+'b,\x20w:\x20max_'+'r\x0avar<priv'+'ate>\x20chunk'+'DataE:\x20vec'+'4f;\x20\x20\x20\x20//\x20'+'x:\x20max_g,\x20'+'y:\x20max_b,\x20'+'z:\x20unused,'+'\x20w:\x20unused'+'\x0avar<priva'+'te>\x20packed'+'Data:\x20vec4'+'u;\x20\x20\x20\x20//\x20x'+':\x20position'+'\x20bits,\x20y:\x20'+'rotation\x20b'+'its,\x20z:\x20sc'+'ale\x20bits,\x20'+'w:\x20color\x20b'+'its\x0a\x0afn\x20un'+'pack111011'+'(bits:\x20u32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(vec3f'+'((vec3<u32'+'>(bits)\x20>>'+'\x20vec3<u32>'+'(21u,\x2011u,'+'\x200u))\x20&\x20ve'+'c3<u32>(0x'+'7ffu,\x200x3f'+'fu,\x200x7ffu'+')))\x20/\x20vec3'+'f(2047.0,\x20'+'1023.0,\x2020'+'47.0);\x0a}\x0a\x0a'+'fn\x20unpack8'+'888(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20f32((bit'+'s\x20>>\x2024u)\x20'+'&\x200xffu),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((bits\x20>>'+'\x2016u)\x20&\x200x'+'ffu),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20f32((b'+'its\x20>>\x208u)'+'\x20\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(bits\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20&\x200'+'xffu)\x0a\x20\x20\x20\x20'+')\x20/\x20255.0;'+('\x0a}\x0a\x0aconst\x20'+'norm_const'+':\x20f32\x20=\x201.'+'0\x20/\x20(sqrt('+'2.0)\x20*\x200.5'+');\x0a\x0afn\x20unp'+'ackRotatio'+'n(bits:\x20u3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x20(f32'+'((bits\x20>>\x20'+'20u)\x20&\x200x3'+'ffu)\x20/\x20102'+'3.0\x20-\x200.5)'+'\x20*\x20norm_co'+'nst;\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20(f3'+'2((bits\x20>>'+'\x2010u)\x20&\x200x'+'3ffu)\x20/\x2010'+'23.0\x20-\x200.5'+')\x20*\x20norm_c'+'onst;\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20(f'+'32(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+'_const;\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'sqrt(1.0\x20-'+'\x20(a\x20*\x20a\x20+\x20'+'b\x20*\x20b\x20+\x20c\x20'+'*\x20c));\x0a\x0a\x20\x20'+'\x20\x20let\x20mode'+'\x20=\x20bits\x20>>'+'\x2030u;\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x200u)\x20{\x20re'+'turn\x20vec4f'+'(m,\x20a,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20m,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x202u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20b,\x20m,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(a,\x20b,\x20c'+',\x20m);\x0a}\x0a\x0a/'+'/\x20read\x20cen'+'ter\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex_siz'+'e_u\x20=\x20text'+'ureDimensi'+'ons(chunkT'+'exture,\x200)'+';\x0a\x20\x20\x20\x20let\x20'+'w:\x20u32\x20=\x20t'+'ex_size_u.'+'x\x20/\x205u;\x0a\x20\x20'+'\x20\x20let\x20chun'+'kId:\x20u32\x20='+'\x20source.id'+'\x20/\x20256u;\x0a\x20'+'\x20\x20\x20let\x20chu'+'nkUV:\x20vec2'+'<i32>\x20=\x20ve'+'c2<i32>(i3'+'2((chunkId'+'\x20%\x20w)\x20*\x205u'+'),\x20i32(chu'+'nkId\x20/\x20w))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'read\x20chunk'+'\x20and\x20packe'+'d\x20compress'+'ed\x20data\x0a\x20\x20'+'\x20\x20chunkDat'+'aA\x20=\x20textu'+'reLoad(chu'+'nkTexture,'+'\x20chunkUV\x20+'+'\x20vec2<i32>'+'(0,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataB\x20=\x20t'+'extureLoad')+('(chunkText'+'ure,\x20chunk'+'UV\x20+\x20vec2<'+'i32>(1,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataC'+'\x20=\x20texture'+'Load(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20v'+'ec2<i32>(2'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataD\x20=\x20tex'+'tureLoad(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20vec2<i3'+'2>(3,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataE\x20='+'\x20textureLo'+'ad(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20vec'+'2<i32>(4,\x20'+'0),\x200);\x0a\x20\x20'+'\x20\x20packedDa'+'ta\x20=\x20textu'+'reLoad(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(chunkDa'+'taA.xyz,\x20v'+'ec3f(chunk'+'DataA.w,\x20c'+'hunkDataB.'+'xy),\x20unpac'+'k111011(pa'+'ckedData.x'+'));\x0a}\x0a\x0afn\x20'+'readColor('+'source:\x20pt'+'r<function'+',\x20SplatSou'+'rce>)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20let\x20r\x20=\x20u'+'npack8888('+'packedData'+'.w);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(mix(chun'+'kDataD.xyz'+',\x20vec3f(ch'+'unkDataD.w'+',\x20chunkDat'+'aE.xy),\x20r.'+'rgb),\x20r.w)'+';\x0a}\x0a\x0afn\x20ge'+'tRotation('+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20unpack'+'Rotation(p'+'ackedData.'+'y);\x0a}\x0a\x0afn\x20'+'getScale()'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20exp(mix'+'(vec3f(chu'+'nkDataB.zw'+',\x20chunkDat'+'aC.x),\x20chu'+'nkDataC.yz'+'w,\x20unpack1'+'11011(pack'+'edData.z))'+');\x0a}\x0a\x0a//\x20g'+'iven\x20a\x20rot'+'ation\x20matr'+'ix\x20and\x20sca'+'le\x20vector,'+'\x20compute\x203'+'d\x20covarian'+'ce\x20A\x20and\x20B'+'\x0afn\x20readCo'+'variance(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>,\x20covA_'+'ptr:\x20ptr<f'+'unction,\x20v'+'ec3f>,\x20cov'+'B_ptr:\x20ptr'+'<function,')+('\x20vec3f>)\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'ot\x20=\x20quatT'+'oMat3(getR'+'otation())'+';\x0a\x20\x20\x20\x20let\x20'+'scale\x20=\x20ge'+'tScale();\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20let\x20M\x20=\x20'+'transpose('+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.x\x20*\x20rot'+'[0],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.y'+'\x20*\x20rot[1],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.z\x20*\x20r'+'ot[2]\x0a\x20\x20\x20\x20'+'));\x0a\x0a\x20\x20\x20\x20*'+'covA_ptr\x20='+'\x20vec3f(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20*covB_p'+'tr\x20=\x20vec3f'+'(dot(M[1],'+'\x20M[1]),\x20do'+'t(M[1],\x20M['+'2]),\x20dot(M'+'[2],\x20M[2])'+');\x0a}\x0a'),XM='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0av'+'ar\x20shTextu'+'re0:\x20textu'+'re_2d<u32>'+';\x0avar\x20shTe'+'xture1:\x20te'+'xture_2d<u'+'32>;\x0avar\x20s'+'hTexture2:'+'\x20texture_2'+'d<u32>;\x0a\x0af'+'n\x20unpack88'+'88s(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20unpack'+'ed_u\x20=\x20(ve'+'c4<u32>(bi'+'ts)\x20>>\x20vec'+'4<u32>(0u,'+'\x208u,\x2016u,\x20'+'24u))\x20&\x20ve'+'c4<u32>(0x'+'ffu);\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(unpacke'+'d_u)\x20*\x20(8.'+'0\x20/\x20255.0)'+'\x20-\x204.0;\x0a}\x0a'+'\x0afn\x20readSH'+'Data(sourc'+'e:\x20ptr<fun'+'ction,\x20Spl'+'atSource>,'+'\x20sh:\x20ptr<f'+'unction,\x20a'+'rray<vec3f'+',\x2015>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20read\x20t'+'he\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20let\x20shD'+'ata0:\x20vec4'+'<u32>\x20=\x20te'+'xtureLoad('+'shTexture0'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20let\x20shDat'+'a1:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(sh'+'Texture1,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20shData2'+':\x20vec4<u32'+'>\x20=\x20textur'+'eLoad(shTe'+'xture2,\x20so'+'urce.uv,\x200'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20r0\x20=\x20unp'+'ack8888s(s'+'hData0.x);'+'\x0a\x20\x20\x20\x20let\x20r'+'1\x20=\x20unpack'+'8888s(shDa'+'ta0.y);\x0a\x20\x20'+'\x20\x20let\x20r2\x20='+'\x20unpack888'+'8s(shData0'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20r3\x20=\x20un'+'pack8888s('+'shData0.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20g0\x20=\x20unpa'+'ck8888s(sh'+'Data1.x);\x0a'+'\x20\x20\x20\x20let\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20let\x20g2\x20=\x20'+'unpack8888'+'s(shData1.'+'z);\x0a\x20\x20\x20\x20le'+'t\x20g3\x20=\x20unp'+'ack8888s(s'+'hData1.w);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'b0\x20=\x20unpac'+'k8888s(shD'+'ata2.x);\x0a\x20'+'\x20\x20\x20let\x20b1\x20'+('=\x20unpack88'+'88s(shData'+'2.y);\x0a\x20\x20\x20\x20'+'let\x20b2\x20=\x20u'+'npack8888s'+'(shData2.z'+');\x0a\x20\x20\x20\x20let'+'\x20b3\x20=\x20unpa'+'ck8888s(sh'+'Data2.w);\x0a'+'\x0a\x20\x20\x20\x20sh[0]'+'\x20=\x20\x20vec3f('+'r0.x,\x20g0.x'+',\x20b0.x);\x0a\x20'+'\x20\x20\x20sh[1]\x20='+'\x20\x20vec3f(r0'+'.y,\x20g0.y,\x20'+'b0.y);\x0a\x20\x20\x20'+'\x20sh[2]\x20=\x20\x20'+'vec3f(r0.z'+',\x20g0.z,\x20b0'+'.z);\x0a\x20\x20\x20\x20s'+'h[3]\x20=\x20\x20ve'+'c3f(r0.w,\x20'+'g0.w,\x20b0.w'+');\x0a\x20\x20\x20\x20sh['+'4]\x20=\x20\x20vec3'+'f(r1.x,\x20g1'+'.x,\x20b1.x);'+'\x0a\x20\x20\x20\x20sh[5]'+'\x20=\x20\x20vec3f('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3f(r1'+'.z,\x20g1.z,\x20'+'b1.z);\x0a\x20\x20\x20'+'\x20sh[7]\x20=\x20\x20'+'vec3f(r1.w'+',\x20g1.w,\x20b1'+'.w);\x0a\x20\x20\x20\x20s'+'h[8]\x20=\x20\x20ve'+'c3f(r2.x,\x20'+'g2.x,\x20b2.x'+');\x0a\x20\x20\x20\x20sh['+'9]\x20=\x20\x20vec3'+'f(r2.y,\x20g2'+'.y,\x20b2.y);'+'\x0a\x20\x20\x20\x20sh[10'+']\x20=\x20vec3f('+'r2.z,\x20g2.z'+',\x20b2.z);\x0a\x20'+'\x20\x20\x20sh[11]\x20'+'=\x20vec3f(r2'+'.w,\x20g2.w,\x20'+'b2.w);\x0a\x20\x20\x20'+'\x20sh[12]\x20=\x20'+'vec3f(r3.x'+',\x20g3.x,\x20b3'+'.x);\x0a\x20\x20\x20\x20s'+'h[13]\x20=\x20ve'+'c3f(r3.y,\x20'+'g3.y,\x20b3.y'+');\x0a\x20\x20\x20\x20sh['+'14]\x20=\x20vec3'+'f(r3.z,\x20g3'+'.z,\x20b3.z);'+'\x0a\x0a\x20\x20\x20\x20*sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),qM='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'COEFFS:\x20i3'+'2\x20=\x203;\x0a\x20\x20\x20'+'\x20#elif\x20SH_'+'BANDS\x20==\x202'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20SH_CO'+'EFFS:\x20i32\x20'+'=\x208;\x0a\x20\x20\x20\x20#'+'elif\x20SH_BA'+'NDS\x20==\x203\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20con'+'st\x20SH_COEF'+'FS:\x20i32\x20=\x20'+'15;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20const\x20SH'+'_COEFFS:\x20i'+'32\x20=\x200;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20SH'+'_BANDS\x20>\x200'+'\x0a\x0a\x20\x20\x20\x20cons'+'t\x20SH_C1:\x20f'+'32\x20=\x200.488'+'6025119029'+'199;\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x201\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20const'+'\x20SH_C2_0:\x20'+'f32\x20=\x201.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_1:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_2:\x20f'+'32\x20=\x200.315'+'3915652525'+'2005;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_3:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_4:\x20f'+'32\x20=\x200.546'+'2742152960'+'396;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SH_BA'+'NDS\x20>\x202\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_0:'+'\x20f32\x20=\x20-0.'+'5900435899'+'266435;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_1:'+'\x20f32\x20=\x202.8'+'9061144264'+'0554;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_2:\x20f'+'32\x20=\x20-0.45'+'7045799464'+'4658;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_3:\x20f'+'32\x20=\x200.373'+'1763325901'+'154;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_4:\x20f3'+'2\x20=\x20-0.457'+'0457994644'+'658;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_5:\x20f3'+'2\x20=\x201.4453'+'0572132027'+'7;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'C3_6:\x20f32\x20'+'=\x20-0.59004'+'3589926643'+'5;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20see\x20http'+'s://github'+'.com/graph'+'deco-inria'+('/gaussian-'+'splatting/'+'blob/main/'+'utils/sh_u'+'tils.py\x0a\x20\x20'+'\x20\x20fn\x20evalS'+'H(sh:\x20ptr<'+'function,\x20'+'array<vec3'+'f,\x20SH_COEF'+'FS>>,\x20dir:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x\x20=\x20dir.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20y\x20=\x20di'+'r.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20z\x20='+'\x20dir.z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'1st\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20result\x20'+'=\x20SH_C1\x20*\x20'+'(-sh[0]\x20*\x20'+'y\x20+\x20sh[1]\x20'+'*\x20z\x20-\x20sh[2'+']\x20*\x20x);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x201\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x202'+'nd\x20degree\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xx\x20='+'\x20x\x20*\x20x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20yy\x20=\x20y'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20yz'+'\x20=\x20y\x20*\x20z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xz\x20='+'\x20x\x20*\x20z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'result\x20+\x20('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'3]\x20*\x20(SH_C'+'2_0\x20*\x20xy)\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[4]\x20*\x20(SH_'+'C2_1\x20*\x20yz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[5]\x20*\x20(SH'+'_C2_2\x20*\x20(2'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[6]\x20*\x20(SH_'+'C2_3\x20*\x20xz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[7]\x20*\x20(SH'+'_C2_4\x20*\x20(x'+'x\x20-\x20yy))\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'=\x20result\x20+'+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20re'+'sult;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20#end'+'if\x0a'),jM='\x0afn\x20quatTo'+'Mat3(R:\x20ve'+'c4<f32>)\x20-'+'>\x20mat3x3<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'let\x20R2:\x20ve'+'c4<f32>\x20=\x20'+'R\x20+\x20R;\x0a\x20\x20\x20'+'\x20let\x20X:\x20f3'+'2\x20\x20\x20\x20\x20\x20\x20=\x20'+'R2.x\x20*\x20R.w'+';\x0a\x20\x20\x20\x20let\x20'+'Y:\x20vec4<f3'+'2>\x20=\x20R2.y\x20'+'*\x20R;\x0a\x20\x20\x20\x20l'+'et\x20Z:\x20vec4'+'<f32>\x20=\x20R2'+'.z\x20*\x20R;\x0a\x20\x20'+'\x20\x20let\x20W:\x20f'+'32\x20\x20\x20\x20\x20\x20\x20='+'\x20R2.w\x20*\x20R.'+'w;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20mat3x'+'3<f32>(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Z.z\x20-\x20W,'+'\x20\x20Y.z\x20+\x20X,'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.z\x20-'+'\x20X,\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x20Y.y'+'\x20-\x20W,\x20Z.w\x20'+'+\x20Y.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.w\x20+'+'\x20Z.x,\x20\x20\x20\x20\x20'+'\x20Z.w\x20-\x20Y.x'+',\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',YM='\x0avar\x20sh0:\x20'+'texture_2d'+'<f32>;\x0a\x0aun'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0auniform'+'\x20sh0_maxs:'+'\x20vec4f;\x0a\x0ac'+'onst\x20SH_C0'+':\x20f32\x20=\x200.'+'2820947917'+'7387814;\x0a\x0a'+'fn\x20readCol'+'or(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20let\x20cl'+'r:\x20vec4f\x20='+'\x20mix(unifo'+'rm.sh0_min'+'s,\x20uniform'+'.sh0_maxs,'+'\x20textureLo'+'ad(sh0,\x20so'+'urce.uv,\x200'+'));\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(vec3f(0.5'+')\x20+\x20clr.xy'+'z\x20*\x20SH_C0,'+'\x201.0\x20/\x20(1.'+'0\x20+\x20exp(-c'+'lr.w)));\x0a}'+'\x0a',KM='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0a\x0aun'+'iform\x20mean'+'s_mins:\x20ve'+'c3f;\x0aunifo'+'rm\x20means_m'+'axs:\x20vec3f'+';\x0a\x0auniform'+'\x20scales_mi'+'ns:\x20vec3f;'+'\x0auniform\x20s'+'cales_maxs'+':\x20vec3f;\x0a\x0a'+'fn\x20unpackU'+'32(u:\x20u32)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20vec4f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((u\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((u\x20>>\x201'+'6u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((u\x20>>\x20'+'8u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(u\x20&\x200x'+'FFu)\x20/\x20255'+'.0\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avar<pri'+'vate>\x20pack'+'edSample:\x20'+'vec4<u32>;'+'\x0a\x0a//\x20read\x20'+'the\x20model-'+'space\x20cent'+'er\x20of\x20the\x20'+'gaussian\x0af'+'n\x20readCent'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec3f\x20{\x0a'+'\x0a\x20\x20\x20\x20packe'+'dSample\x20=\x20'+'textureLoa'+'d(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20l:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.x).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20u:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20n:\x20vec3f\x20'+'=\x20(l\x20*\x20255'+'.0\x20+\x20u\x20*\x202'+'55.0\x20*\x20256'+'.0)\x20/\x206553'+'5.0;\x0a\x20\x20\x20\x20l'+'et\x20v:\x20vec3'+'f\x20=\x20mix(un'+'iform.mean'+'s_mins,\x20un'+'iform.mean'+'s_maxs,\x20n)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20sign(v'+')\x20*\x20(exp(a'+'bs(v))\x20-\x201'+'.0);\x0a}\x0a\x0aco'+'nst\x20norm:\x20'+'f32\x20=\x202.0\x20'+'/\x20sqrt(2.0'+');\x0a\x0a//\x20sam'+'ple\x20covari'+'ance\x20vecto'+'rs\x0afn\x20read'+'Covariance'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>,\x20cov'+'A_ptr:\x20ptr'+'<function,'+'\x20vec3f>,\x20c'+('ovB_ptr:\x20p'+'tr<functio'+'n,\x20vec3f>)'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20qdata:\x20ve'+'c4f\x20=\x20unpa'+'ckU32(pack'+'edSample.z'+');\x0a\x20\x20\x20\x20let'+'\x20sdata:\x20ve'+'c3f\x20=\x20unpa'+'ckU32(pack'+'edSample.w'+').xyz;\x0a\x0a\x20\x20'+'\x20\x20let\x20abc:'+'\x20vec3f\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(abc,'+'\x20abc)));\x0a\x0a'+'\x20\x20\x20\x20let\x20mo'+'de:\x20u32\x20=\x20'+'u32(qdata.'+'w\x20*\x20255.0\x20'+'+\x200.5)\x20-\x202'+'52u;\x0a\x0a\x20\x20\x20\x20'+'var\x20quat:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20if\x20(mode\x20'+'==\x200u)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20qua'+'t\x20=\x20vec4f('+'d,\x20abc);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20quat'+'\x20=\x20vec4f(a'+'bc.x,\x20d,\x20a'+'bc.y,\x20abc.'+'z);\x0a\x20\x20\x20\x20}\x20'+'else\x20if\x20(m'+'ode\x20==\x202u)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20quat\x20=\x20ve'+'c4f(abc.x,'+'\x20abc.y,\x20d,'+'\x20abc.z);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'quat\x20=\x20vec'+'4f(abc.x,\x20'+'abc.y,\x20abc'+'.z,\x20d);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x0a\x20\x20\x20\x20'+'let\x20rot:\x20m'+'at3x3f\x20=\x20q'+'uatToMat3('+'quat);\x0a\x20\x20\x20'+'\x20let\x20scale'+':\x20vec3f\x20=\x20'+'exp(mix(un'+'iform.scal'+'es_mins,\x20u'+'niform.sca'+'les_maxs,\x20'+'sdata));\x0a\x0a'+'\x20\x20\x20\x20//\x20M\x20='+'\x20S\x20*\x20R\x0a\x20\x20\x20'+'\x20let\x20M:\x20ma'+'t3x3f\x20=\x20tr'+'anspose(ma'+'t3x3f(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20*co'+'vA_ptr\x20=\x20v'+'ec3f(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20*covB_ptr'+'\x20=\x20vec3f(d'+'ot(M[1],\x20M'+'[1]),\x20dot('+'M[1],\x20M[2]'+'),\x20dot(M[2'+'],\x20M[2]));')+'\x0a}\x0a',ZM='\x0avar\x20sh_ce'+'ntroids:\x20t'+'exture_2d<'+'f32>;\x0a\x0auni'+'form\x20shN_m'+'ins:\x20f32;\x0a'+'uniform\x20sh'+'N_maxs:\x20f3'+'2;\x0a\x0afn\x20rea'+'dSHData(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>,\x20sh:\x20pt'+'r<function'+',\x20array<ve'+'c3f,\x20SH_CO'+'EFFS>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'let\x20t:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'32(packedS'+'ample.x\x20&\x20'+'255u),\x20i32'+'(packedSam'+'ple.y\x20&\x2025'+'5u));\x0a\x20\x20\x20\x20'+'let\x20n:\x20i32'+'\x20=\x20t.x\x20+\x20t'+'.y\x20*\x20256;\x0a'+'\x20\x20\x20\x20let\x20u:'+'\x20i32\x20=\x20(n\x20'+'%\x2064)\x20*\x20SH'+'_COEFFS;\x0a\x20'+'\x20\x20\x20let\x20v:\x20'+'i32\x20=\x20n\x20/\x20'+'64;\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20offset\x20i'+'nto\x20the\x20ce'+'ntroids\x20te'+'xture\x20and\x20'+'read\x20conse'+'cutive\x20tex'+'els\x0a\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'i32\x20=\x200;\x20i'+'\x20<\x20SH_COEF'+'FS;\x20i\x20=\x20i\x20'+'+\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[i]'+'\x20=\x20mix(vec'+'3f(uniform'+'.shN_mins)'+',\x20vec3f(un'+'iform.shN_'+'maxs),\x20tex'+'tureLoad(s'+'h_centroid'+'s,\x20vec2<i3'+'2>(u\x20+\x20i,\x20'+'v),\x200).xyz'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20*scale'+'\x20=\x201.0;\x0a}\x0a',QM='\x0auniform\x20v'+'iewport:\x20v'+'ec2f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20view'+'port\x20dimen'+'sions\x0aunif'+'orm\x20camera'+'_params:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201\x20/\x20far,\x20'+'far,\x20near,'+'\x20isOrtho\x0a\x0a'+'//\x20calcula'+'te\x20the\x20cli'+'p-space\x20of'+'fset\x20from\x20'+'the\x20center'+'\x20for\x20this\x20'+'gaussian\x0af'+'n\x20initCorn'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>,\x20corne'+'r:\x20ptr<fun'+'ction,\x20Spl'+'atCorner>)'+'\x20->\x20bool\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20var'+'\x20covA:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20covB:\x20ve'+'c3f;\x0a\x20\x20\x20\x20r'+'eadCovaria'+'nce(source'+',\x20&covA,\x20&'+'covB);\x0a\x0a\x20\x20'+'\x20\x20let\x20Vrk\x20'+'=\x20mat3x3f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(covA.'+'x,\x20covA.y,'+'\x20covA.z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(covA.y'+',\x20covB.x,\x20'+'covB.y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(covA.z,'+'\x20covB.y,\x20c'+'ovB.z)\x0a\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20l'+'et\x20focal\x20='+'\x20uniform.v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20let\x20v'+'\x20=\x20select('+'center.vie'+'w.xyz,\x20vec'+'3f(0.0,\x200.'+'0,\x201.0),\x20u'+'niform.cam'+'era_params'+'.w\x20==\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'J1\x20=\x20focal'+'\x20/\x20v.z;\x0a\x20\x20'+'\x20\x20let\x20J2\x20='+'\x20-J1\x20/\x20v.z'+'\x20*\x20v.xy;\x0a\x20'+'\x20\x20\x20let\x20J\x20='+'\x20mat3x3f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(J1,\x200.'+'0,\x20J2.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x20J'+'1,\x20J2.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x200'+'.0,\x200.0)\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20W\x20=\x20t'+'ranspose(m'+'at3x3f(cen'+'ter.modelV'+'iew[0].xyz'+',\x20center.m'+'odelView[1'+'].xyz,\x20cen'+('ter.modelV'+'iew[2].xyz'+'));\x0a\x20\x20\x20\x20le'+'t\x20T\x20=\x20W\x20*\x20'+'J;\x0a\x20\x20\x20\x20let'+'\x20cov\x20=\x20tra'+'nspose(T)\x20'+'*\x20Vrk\x20*\x20T;'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'GSPLAT_AA\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20calculate'+'\x20AA\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20detOrig'+'\x20=\x20cov[0]['+'0]\x20*\x20cov[1'+'][1]\x20-\x20cov'+'[0][1]\x20*\x20c'+'ov[1][0];\x20'+'//\x20Using\x20['+'0][1]\x20*\x20[1'+'][0]\x20as\x20ma'+'trix\x20might'+'\x20not\x20be\x20pe'+'rfectly\x20sy'+'mmetric\x20nu'+'merically\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20detBlur\x20'+'=\x20(cov[0]['+'0]\x20+\x200.3)\x20'+'*\x20(cov[1]['+'1]\x20+\x200.3)\x20'+'-\x20cov[0][1'+']\x20*\x20cov[1]'+'[0];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20corner.'+'aaFactor\x20='+'\x20sqrt(detO'+'rig\x20/\x20detB'+'lur);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal1\x20=\x20co'+'v[0][0]\x20+\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20offDiag'+'onal\x20=\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal2\x20=\x20co'+'v[1][1]\x20+\x20'+'0.3;\x0a\x0a\x20\x20\x20\x20'+'let\x20mid\x20=\x20'+'0.5\x20*\x20(dia'+'gonal1\x20+\x20d'+'iagonal2);'+'\x0a\x20\x20\x20\x20let\x20r'+'adius\x20=\x20le'+'ngth(vec2f'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20let\x20lambd'+'a1\x20=\x20mid\x20+'+'\x20radius;\x0a\x20'+'\x20\x20\x20let\x20lam'+'bda2\x20=\x20max'+'(mid\x20-\x20rad'+'ius,\x200.1);'+'\x0a\x0a\x20\x20\x20\x20//\x20U'+'se\x20the\x20sma'+'ller\x20viewp'+'ort\x20dimens'+'ion\x20to\x20lim'+'it\x20the\x20ker'+'nel\x20size\x20r'+'elative\x20to'+'\x20the\x20scree'+'n\x20resoluti'+'on.\x0a\x20\x20\x20\x20le'+'t\x20vmin\x20=\x20m'+'in(1024.0,'+'\x20min(unifo'+'rm.viewpor'+'t.x,\x20unifo'+'rm.viewpor'+'t.y));\x0a\x0a\x20\x20'+'\x20\x20let\x20l1\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda1)'+',\x20vmin);\x0a\x20'+'\x20\x20\x20let\x20l2\x20'+'=\x202.0\x20*\x20mi'+'n(sqrt(2.0'+'\x20*\x20lambda2')+('),\x20vmin);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly-out\x20ga'+'ussians\x20sm'+'aller\x20than'+'\x202\x20pixels\x0a'+'\x20\x20\x20\x20if\x20(l1'+'\x20<\x202.0\x20&&\x20'+'l2\x20<\x202.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20fal'+'se;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'uniform.vi'+'ewport;\x0a\x0a\x20'+'\x20\x20\x20//\x20cull'+'\x20against\x20f'+'rustum\x20x/y'+'\x20axes\x0a\x20\x20\x20\x20'+'if\x20(any((a'+'bs(center.'+'proj.xy)\x20-'+'\x20vec2f(max'+'(l1,\x20l2))\x20'+'*\x20c)\x20>\x20cen'+'ter.proj.w'+'w))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20diagona'+'lVector\x20=\x20'+'normalize('+'vec2f(offD'+'iagonal,\x20l'+'ambda1\x20-\x20d'+'iagonal1))'+';\x0a\x20\x20\x20\x20let\x20'+'v1\x20=\x20l1\x20*\x20'+'diagonalVe'+'ctor;\x0a\x20\x20\x20\x20'+'let\x20v2\x20=\x20l'+'2\x20*\x20vec2f('+'diagonalVe'+'ctor.y,\x20-d'+'iagonalVec'+'tor.x);\x20//'+'\x20Swizzle\x0a\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20=\x20'+'(source.co'+'rnerUV.x\x20*'+'\x20v1\x20+\x20sour'+'ce.cornerU'+'V.y\x20*\x20v2)\x20'+'*\x20c;\x0a\x20\x20\x20\x20c'+'orner.uv\x20='+'\x20source.co'+'rnerUV;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),JM='\x0avar\x20trans'+'formA:\x20tex'+'ture_2d<u3'+'2>;\x0avar\x20tr'+'ansformB:\x20'+'texture_2d'+'<f32>;\x0a\x0a//'+'\x20work\x20valu'+'es\x0avar<pri'+'vate>\x20tAw:'+'\x20u32;\x0a\x0a//\x20'+'read\x20the\x20m'+'odel-space'+'\x20center\x20of'+'\x20the\x20gauss'+'ian\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20let\x20'+'tA:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20t'+'Aw\x20=\x20tA.w;'+'\x0a\x20\x20\x20\x20retur'+'n\x20bitcast<'+'vec3f>(tA.'+'xyz);\x0a}\x0a\x0af'+'n\x20unpackRo'+'tation(pac'+'ked:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'packed.xyz'+',\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(pack'+'ed,\x20packed'+'))));\x0a}\x0a\x0a/'+'/\x20sample\x20c'+'ovariance\x20'+'vectors\x0afn'+'\x20readCovar'+'iance(sour'+'ce:\x20ptr<fu'+'nction,\x20Sp'+'latSource>'+',\x20covA_ptr'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20covB_p'+'tr:\x20ptr<fu'+'nction,\x20ve'+'c3f>)\x20{\x0a\x20\x20'+'\x20\x20let\x20tB:\x20'+'vec4f\x20=\x20te'+'xtureLoad('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20let\x20rot:'+'\x20mat3x3f\x20='+'\x20quatToMat'+'3(unpackRo'+'tation(vec'+'3f(unpack2'+'x16float(b'+'itcast<u32'+'>(tAw)),\x20t'+'B.w)).wxyz'+');\x0a\x20\x20\x20\x20let'+'\x20scale:\x20ve'+'c3f\x20=\x20tB.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x20M\x20=\x20S\x20*\x20'+'R\x0a\x20\x20\x20\x20let\x20'+'M\x20=\x20transp'+'ose(mat3x3'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20*covA_p'+'tr\x20=\x20vec3f'+'(dot(M[0],'+'\x20M[0]),\x20do'+('t(M[0],\x20M['+'1]),\x20dot(M'+'[0],\x20M[2])'+');\x0a\x20\x20\x20\x20*co'+'vB_ptr\x20=\x20v'+'ec3f(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a'),eD='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0afn\x20'+'prepareOut'+'putFromGam'+'ma(gammaCo'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20TONEMAP\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20G'+'AMMA\x20==\x20NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nvert\x20to\x20l'+'inear\x20spac'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20decodeGam'+'ma3(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20gamma\x20'+'space\x20colo'+'r\x20directly'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'gammaColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ap'+'ply\x20tonema'+'pping\x20in\x20l'+'inear\x20spac'+'e\x20and\x20outp'+'ut\x20to\x20line'+'ar\x20or\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20gam'+'ma\x20(which\x20'+'is\x20handled'+'\x20by\x20gammaC'+'orrectOutp'+'ut)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaCorrec'+'tOutput(to'+'neMap(deco'+'deGamma3(g'+'ammaColor)'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',tD='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20PICK_PAS'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22pick'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_PASS)\x20||\x20'+'defined(PI'+'CK_PASS)\x20|'+'|\x20defined('+'PREPASS_PA'+'SS)\x0a\x20\x20\x20\x20un'+'iform\x20alph'+'aClip:\x20f32'+';\x0a#endif\x0a\x0a'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vLinearD'+'epth:\x20f32;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22float'+'AsUintPS\x22\x0a'+'#endif\x0a\x0a//'+'\x20Fast\x20appr'+'oximate\x20e^'+'x\x20based\x20on'+'\x20https://n'+'ic.schraud'+'olph.org/p'+'ubs/Schrau'+'dolph99.pd'+'f\x0aconst\x20EX'+'P_A:\x20f32\x20\x20'+'\x20\x20\x20\x20=\x201210'+'2203.0;\x20\x20\x20'+'//\x20\x202^23\x20'+'/\x20ln(2)\x0aco'+'nst\x20EXP_BC'+'_RMS:\x20i32\x20'+'=\x2010648668'+'08;\x20\x20\x20//\x20('+'127\x20<<\x2023)'+'\x20-\x2060801\x20*'+'\x208\x0afn\x20fast'+'Exp(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20var\x20i'+':\x20i32\x20=\x20i3'+'2(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20bi'+'tcast<f32>'+'(i);\x0a}\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x0a\x20\x20\x20'+'\x20let\x20A:\x20f3'+'2\x20=\x20dot(ga'+'ussianUV,\x20'+'gaussianUV'+');\x0a\x20\x20\x20\x20if\x20'+'(A\x20>\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20alpha'+'\x0a\x20\x20\x20\x20var\x20a'+'lpha:\x20f32\x20'+'=\x20fastExp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+('Color.a;\x0a\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(al'+'pha\x20<\x20unif'+'orm.alphaC'+'lip)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20PI'+'CK_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20getPickO'+'utput();\x0a\x0a'+'\x20\x20\x20\x20#elif\x20'+'SHADOW_PAS'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(0.0,\x200.0'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20PREPAS'+'S_PASS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20float2vec'+'4(vLinearD'+'epth);\x0a\x0a\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20('+'1.0\x20/\x20255.'+'0))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20opaci'+'tyDither(&'+'alpha,\x20id\x20'+'*\x200.013);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(input'+'.gaussianC'+'olor.xyz,\x20'+'alpha);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'),sD='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0afn\x20unpack'+'111011s(bi'+'ts:\x20u32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20(vec3f((v'+'ec3<u32>(b'+'its)\x20>>\x20ve'+'c3<u32>(21'+'u,\x2011u,\x200u'+'))\x20&\x20vec3<'+'u32>(0x7ff'+'u,\x200x3ffu,'+'\x200x7ffu))\x20'+'/\x20vec3f(20'+'47.0,\x201023'+'.0,\x202047.0'+'))\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0as'+'truct\x20Scal'+'eAndSH\x20{\x0a\x20'+'\x20\x20\x20scale:\x20'+'f32,\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f\x0a};\x0a\x0a'+'//\x20fetch\x20q'+'uantized\x20s'+'pherical\x20h'+'armonic\x20co'+'efficients'+'\x0afn\x20fetchS'+'cale(t_in:'+'\x20vec4<u32>'+')\x20->\x20Scale'+'AndSH\x20{\x0a\x20\x20'+'\x20\x20var\x20resu'+'lt:\x20ScaleA'+'ndSH;\x0a\x20\x20\x20\x20'+'result.sca'+'le\x20=\x20bitca'+'st<f32>(t_'+'in.x);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20unpack11'+'1011s(t_in'+'.y);\x0a\x20\x20\x20\x20r'+'esult.b\x20=\x20'+'unpack1110'+'11s(t_in.z'+');\x0a\x20\x20\x20\x20res'+'ult.c\x20=\x20un'+'pack111011'+'s(t_in.w);'+'\x0a\x20\x20\x20\x20retur'+'n\x20result;\x0a'+'}\x0a\x0astruct\x20'+'SH\x20{\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20d:\x20vec3f\x0a'+'};\x0a\x0a//\x20fet'+'ch\x20quantiz'+'ed\x20spheric'+'al\x20harmoni'+'c\x20coeffici'+'ents\x0afn\x20fe'+'tch4(t_in:'+'\x20vec4<u32>'+')\x20->\x20SH\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'sult:\x20SH;\x0a'+'\x20\x20\x20\x20result'+'.a\x20=\x20unpac'+'k111011s(t'+'_in.x);\x0a\x20\x20'+'\x20\x20result.b'+'\x20=\x20unpack1'+'11011s(t_i'+'n.y);\x0a\x20\x20\x20\x20'+'result.c\x20='+'\x20unpack111'+'011s(t_in.'+'z);\x0a\x20\x20\x20\x20re'+'sult.d\x20=\x20u'+'npack11101'+'1s(t_in.w)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20result;'+'\x0a}\x0a\x0afn\x20fet'+'ch1(t_in:\x20'+'u32)\x20->\x20ve'+('c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20unp'+'ack111011s'+'(t_in);\x0a}\x0a'+'\x0a#if\x20SH_BA'+'NDS\x20==\x201\x0a\x20'+'\x20\x20\x20var\x20spl'+'atSH_1to3:'+'\x20texture_2'+'d<u32>;\x0a\x0a\x20'+'\x20\x20\x20fn\x20read'+'SHData(sou'+'rce:\x20ptr<f'+'unction,\x20S'+'platSource'+'>,\x20sh:\x20ptr'+'<function,'+'\x20array<vec'+'3f,\x203>>,\x20s'+'cale:\x20ptr<'+'function,\x20'+'f32>)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'result\x20=\x20f'+'etchScale('+'textureLoa'+'d(splatSH_'+'1to3,\x20sour'+'ce.uv,\x200))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'*scale\x20=\x20r'+'esult.scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[0]\x20=\x20r'+'esult.a;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'1]\x20=\x20resul'+'t.b;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[2]\x20='+'\x20result.c;'+'\x0a\x20\x20\x20\x20}\x0a#el'+'if\x20SH_BAND'+'S\x20==\x202\x0a\x20\x20\x20'+'\x20var\x20splat'+'SH_1to3:\x20t'+'exture_2d<'+'u32>;\x0a\x20\x20\x20\x20'+'var\x20splatS'+'H_4to7:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_8to11:\x20te'+'xture_2d<u'+'32>;\x0a\x0a\x20\x20\x20\x20'+'fn\x20readSHD'+'ata(source'+':\x20ptr<func'+'tion,\x20Spla'+'tSource>,\x20'+'sh:\x20ptr<fu'+'nction,\x20ar'+'ray<vec3f,'+'\x208>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se')+('cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20='+'\x20fetch1(te'+'xtureLoad('+'splatSH_8t'+'o11,\x20sourc'+'e.uv,\x200).x'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_1to3:\x20tex'+'ture_2d<u3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20splatSH_'+'4to7:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_8'+'to11:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_1'+'2to15:\x20tex'+'ture_2d<u3'+'2>;\x0a\x0a\x20\x20\x20\x20f'+'n\x20readSHDa'+'ta(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20s'+'h:\x20ptr<fun'+'ction,\x20arr'+'ay<vec3f,\x20'+'15>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se'+'cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20thi'+'rd:\x20SH\x20=\x20f'+'etch4(text'+'ureLoad(sp'+'latSH_8to1'+'1,\x20source.'+'uv,\x200));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'7]\x20=\x20third'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20=\x20'+'third.b;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'9]\x20=\x20third'+'.c;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[10]\x20='+'\x20third.d;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20fourth:'+'\x20SH\x20=\x20fetc'+'h4(texture'+'Load(splat'+'SH_12to15,')+('\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[11'+']\x20=\x20fourth'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[12]\x20='+'\x20fourth.b;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[13]\x20=\x20fo'+'urth.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20=\x20fourt'+'h.d;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a\x0a#'+'endif\x0a'),iD='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c3f;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20xy:\x20'+'cornerUV,\x20'+'z:\x20render\x20'+'order\x20offs'+'et\x0aattribu'+'te\x20vertex_'+'id_attrib:'+'\x20u32;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'nder\x20order'+'\x20base\x0a\x0auni'+'form\x20numSp'+'lats:\x20u32;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20total\x20nu'+'mber\x20of\x20sp'+'lats\x0avar\x20s'+'platOrder:'+'\x20texture_2'+'d<u32>;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'per-splat\x20'+'index\x20to\x20s'+'ource\x20gaus'+'sian\x0a\x0a//\x20i'+'nitialize\x20'+'the\x20splat\x20'+'source\x20str'+'ucture\x0afn\x20'+'initSource'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20let\x20w:\x20u3'+'2\x20=\x20textur'+'eDimension'+'s(splatOrd'+'er,\x200).x;\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20u3'+'2(vertex_p'+'osition.z)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'return\x20if\x20'+'out\x20of\x20ran'+'ge\x20(since\x20'+'the\x20last\x20b'+'lock\x20of\x20sp'+'lats\x20may\x20b'+'e\x20partiall'+'y\x20full)\x0a\x20\x20'+'\x20\x20if\x20(sour'+'ce.order\x20>'+'=\x20uniform.'+'numSplats)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20fa'+'lse;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'orderUV\x20=\x20'+'vec2i(vec2'+'u(source.o'+'rder\x20%\x20w,\x20'+'source.ord'+'er\x20/\x20w));\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20splat\x20i'+'d\x0a\x20\x20\x20\x20sour'+'ce.id\x20=\x20te'+'xtureLoad('+'splatOrder'+',\x20orderUV,'+'\x200).r;\x0a\x0a\x20\x20'+'\x20\x20//\x20map\x20i'+'d\x20to\x20uv\x0a\x20\x20'+'\x20\x20source.u'+'v\x20=\x20vec2i('+'vec2u(sour'+'ce.id\x20%\x20w,'+'\x20source.id'+'\x20/\x20w));\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+('turn\x20true;'+'\x0a}\x0a'),rD='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a#ifn'+'def\x20DITHER'+'_NONE\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0aconst'+'\x20discardVe'+'c:\x20vec4f\x20='+'\x20vec4f(0.0'+',\x200.0,\x202.0'+',\x201.0);\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20varying'+'\x20vLinearDe'+'pth:\x20f32;\x0a'+'#endif\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20gaussian\x20'+'details\x0a\x20\x20'+'\x20\x20var\x20sour'+'ce:\x20SplatS'+'ource;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Source(&so'+'urce))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.positi'+'on\x20=\x20disca'+'rdVec;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20let\x20model'+'Center:\x20ve'+'c3f\x20=\x20read'+'Center(&so'+'urce);\x0a\x0a\x20\x20'+'\x20\x20var\x20cent'+'er:\x20SplatC'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'&center))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20di'+'scardVec;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20pro'+'ject\x20cente'+'r\x20to\x20scree'+'n\x20space\x0a\x20\x20'+'\x20\x20var\x20corn'+'er:\x20SplatC'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(&so'+'urce,\x20&cen'+'ter,\x20&corn'+'er))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20clr:\x20vec4'+'f\x20=\x20readCo'+'lor(&sourc'+'e);\x0a\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'AA\x20compens'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr.a\x20'+('=\x20clr.a\x20*\x20'+'corner.aaF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20spher'+'ical\x20harmo'+'nics\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cal'+'culate\x20the'+'\x20model-spa'+'ce\x20view\x20di'+'rection\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'modelView3'+'x3\x20=\x20mat3x'+'3f(center.'+'modelView['+'0].xyz,\x20ce'+'nter.model'+'View[1].xy'+'z,\x20center.'+'modelView['+'2].xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dir\x20=\x20nor'+'malize(mod'+'elView3x3\x20'+'*\x20center.v'+'iew);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20sh:\x20array'+'<vec3f,\x20SH'+'_COEFFS>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20scale:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20readSHDa'+'ta(&source'+',\x20&sh,\x20&sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr\x20='+'\x20vec4f(clr'+'.xyz\x20+\x20eva'+'lSH(&sh,\x20d'+'ir)\x20*\x20scal'+'e,\x20clr.a);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(&c'+'orner,\x20clr'+'.w);\x0a\x0a\x20\x20\x20\x20'+'//\x20write\x20o'+'utput\x0a\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4f(co'+'rner.offse'+'t,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20ou'+'tput.gauss'+'ianUV\x20=\x20co'+'rner.uv;\x0a\x20'+'\x20\x20\x20output.'+'gaussianCo'+'lor\x20=\x20vec4'+'f(prepareO'+'utputFromG'+'amma(max(c'+'lr.xyz,\x20ve'+'c3f(0.0)))'+',\x20clr.w);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'id\x20=\x20f32(s'+'ource.id);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vLinearD'+'epth\x20=\x20-ce'+'nter.view.'+'z;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),aD='\x0a\x20\x20\x20\x20attri'+'bute\x20aPosi'+'tion:\x20vec2'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20uv0:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20@vertex\x20f'+'n\x20vertexMa'+'in(input:\x20'+'VertexInpu'+'t)\x20->\x20Vert'+'exOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20vec4f(inp'+'ut.aPositi'+'on,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'uv0\x20=\x20getI'+'mageEffect'+'UV((input.'+'aPosition\x20'+'+\x201.0)\x20*\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a',nD='\x0a//\x20Indire'+'ct\x20indexed'+'\x20draw\x20call'+'\x20parameter'+'s\x0astruct\x20D'+'rawIndexed'+'IndirectAr'+'gs\x20{\x0a\x20\x20\x20\x20i'+'ndexCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Numb'+'er\x20of\x20indi'+'ces\x20to\x20dra'+'w\x0a\x20\x20\x20\x20inst'+'anceCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20instanc'+'es\x20to\x20draw'+'\x0a\x20\x20\x20\x20first'+'Index:\x20u32'+',\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Index\x20of'+'\x20the\x20first'+'\x20index\x20in\x20'+'the\x20index\x20'+'buffer\x0a\x20\x20\x20'+'\x20baseVerte'+'x:\x20i32,\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Of'+'fset\x20added'+'\x20to\x20each\x20i'+'ndex\x20befor'+'e\x20fetching'+'\x20vertex\x0a\x20\x20'+'\x20\x20firstIns'+'tance:\x20u32'+'\x20\x20\x20\x20\x20\x20//\x20F'+'irst\x20insta'+'nce\x20ID\x0a};\x0a'+'\x0a//\x20Indire'+'ct\x20non-ind'+'exed\x20draw\x20'+'call\x20param'+'eters\x0astru'+'ct\x20DrawInd'+'irectArgs\x20'+'{\x0a\x20\x20\x20\x20vert'+'exCount:\x20u'+'32,\x20\x20\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20vertice'+'s\x20to\x20draw\x0a'+'\x20\x20\x20\x20instan'+'ceCount:\x20u'+'32,\x20\x20\x20\x20\x20//'+'\x20Number\x20of'+'\x20instances'+'\x20to\x20draw\x0a\x20'+'\x20\x20\x20firstVe'+'rtex:\x20u32,'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Index\x20of\x20t'+'he\x20first\x20v'+'ertex\x0a\x20\x20\x20\x20'+'firstInsta'+'nce:\x20u32,\x20'+'\x20\x20\x20\x20//\x20Fir'+'st\x20instanc'+'e\x20ID\x0a\x20\x20\x20\x20_'+'pad:\x20u32\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Padd'+'ing\x20to\x20mat'+'ch\x20indexed'+'\x20size\x20(unu'+'sed)\x0a};\x0a',oD='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gamma'+'PS\x22\x0a\x20\x20\x20\x20va'+'rying\x20colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(decodeGam'+'ma3(input.'+'color.rgb)'+'),\x20input.c'+'olor.a);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a',lD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20matr'+'ix_model:\x20'+'mat4x4f;\x0a\x20'+'\x20\x20\x20uniform'+'\x20matrix_vi'+'ewProjecti'+'on:\x20mat4x4'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output\x20:\x20V'+'ertexOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20inpu'+'t.vertex_c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20unifor'+'m.matrix_m'+'odel\x20*\x20inp'+'ut.vertex_'+'position;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',cD='\x0auniform\x20m'+'aterial_ir'+'idescenceR'+'efractionI'+'ndex:\x20f32;'+'\x0a\x0afn\x20iride'+'scence_ior'+'ToFresnelS'+'calar(tran'+'smittedIor'+':\x20f32,\x20inc'+'identIor:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(('+'transmitte'+'dIor\x20-\x20inc'+'identIor)\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'incidentIo'+'r),\x202.0);\x0a'+'}\x0a\x0afn\x20irid'+'escence_io'+'rToFresnel'+'Vec3(trans'+'mittedIor:'+'\x20vec3f,\x20in'+'cidentIor:'+'\x20f32)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'vec3f(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3f(inci'+'dentIor)),'+'\x20vec3f(2.0'+'));\x0a}\x0a\x0afn\x20'+'iridescenc'+'e_fresnelT'+'oIor(f0:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20sqrtF'+'0:\x20vec3f\x20='+'\x20sqrt(f0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20(vec3f(1'+'.0)\x20+\x20sqrt'+'F0)\x20/\x20(vec'+'3f(1.0)\x20-\x20'+'sqrtF0);\x0a}'+'\x0a\x0aconst\x20XY'+'Z_TO_REC70'+'9:\x20mat3x3f'+'\x20=\x20mat3x3f'+'(\x0a\x20\x20\x20\x20vec3'+'f(3.240454'+'2,\x20-1.5371'+'385,\x20-0.49'+'85314),\x0a\x20\x20'+'\x20\x20vec3f(-0'+'.9692660,\x20'+'\x201.8760108'+',\x20\x200.04155'+'60),\x0a\x20\x20\x20\x20v'+'ec3f(0.055'+'6434,\x20-0.2'+'040259,\x20\x201'+'.0572252)\x0a'+');\x0a\x0afn\x20iri'+'descence_s'+'ensitivity'+'(opd:\x20f32,'+'\x20shift:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x20\x20\x20\x20let'+'\x20phase:\x20f3'+'2\x20=\x202.0\x20*\x20'+'PI\x20*\x20opd\x20*'+'\x201.0e-9;\x0a\x20'+'\x20\x20\x20const\x20v'+'al:\x20vec3f\x20'+'=\x20vec3f(5.'+'4856e-13,\x20'+'4.4201e-13'+',\x205.2481e-'+'13);\x0a\x20\x20\x20\x20c'+'onst\x20pos:\x20'+'vec3f\x20=\x20ve'+'c3f(1.6810'+'e+06,\x201.79'+('53e+06,\x202.'+'2084e+06);'+'\x0a\x20\x20\x20\x20const'+'\x20var_:\x20vec'+'3f\x20=\x20vec3f'+'(4.3278e+0'+'9,\x209.3046e'+'+09,\x206.612'+'1e+09);\x0a\x0a\x20'+'\x20\x20\x20var\x20xyz'+':\x20vec3f\x20=\x20'+'val\x20*\x20sqrt'+'(2.0\x20*\x20PI\x20'+'*\x20var_)\x20*\x20'+'cos(pos\x20*\x20'+'phase\x20+\x20sh'+'ift)\x20*\x20exp'+'(-pow(phas'+'e,\x202.0)\x20*\x20'+'var_);\x0a\x20\x20\x20'+'\x20xyz.x\x20=\x20x'+'yz.x\x20+\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+'cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20=\x20xyz\x20/\x20v'+'ec3f(1.068'+'5e-07);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'XYZ_TO_REC'+'709\x20*\x20xyz;'+'\x0a}\x0a\x0afn\x20iri'+'descence_f'+'resnelScal'+'ar(cosThet'+'a:\x20f32,\x20f0'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20x:\x20f32'+'\x20=\x20clamp(1'+'.0\x20-\x20cosTh'+'eta,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'let\x20x2:\x20f3'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20let\x20x'+'5:\x20f32\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0afn'+'\x20iridescen'+'ce_fresnel'+'Vec3(cosTh'+'eta:\x20f32,\x20'+'f0:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'x:\x20f32\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'x2:\x20f32\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20let\x20x5:\x20f'+'32\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x0a\x20\x20'+'\x20\x20return\x20f'+'0\x20+\x20(vec3f'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0afn\x20calcIr'+'idescence('+'outsideIor'+':\x20f32,\x20cos'+'Theta:\x20f32'+',\x20base_f0:'+'\x20vec3f,\x20ir'+'idescenceT'+'hickness:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0a\x20\x20\x20\x20le'+'t\x20iridesce'+'nceIor:\x20f3'+'2\x20=\x20mix(ou')+('tsideIor,\x20'+'uniform.ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20let\x20s'+'inTheta2Sq'+':\x20f32\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c'+'osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2Sq:\x20f32'+'\x20=\x201.0\x20-\x20s'+'inTheta2Sq'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(cosTheta2'+'Sq\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3f(1.0);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2:\x20f32\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20let\x20r'+'0:\x20f32\x20=\x20i'+'ridescence'+'_iorToFres'+'nelScalar('+'iridescenc'+'eIor,\x20outs'+'ideIor);\x0a\x20'+'\x20\x20\x20let\x20r12'+':\x20f32\x20=\x20ir'+'idescence_'+'fresnelSca'+'lar(cosThe'+'ta,\x20r0);\x0a\x20'+'\x20\x20\x20let\x20r21'+':\x20f32\x20=\x20r1'+'2;\x0a\x20\x20\x20\x20let'+'\x20t121:\x20f32'+'\x20=\x201.0\x20-\x20r'+'12;\x0a\x0a\x20\x20\x20\x20l'+'et\x20phi12:\x20'+'f32\x20=\x20sele'+'ct(0.0,\x20PI'+',\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor)'+';\x0a\x20\x20\x20\x20let\x20'+'phi21:\x20f32'+'\x20=\x20PI\x20-\x20ph'+'i12;\x0a\x0a\x20\x20\x20\x20'+'let\x20baseIo'+'r:\x20vec3f\x20='+'\x20iridescen'+'ce_fresnel'+'ToIor(base'+'_f0\x20+\x20vec3'+'f(0.0001))'+';\x0a\x20\x20\x20\x20let\x20'+'r1:\x20vec3f\x20'+'=\x20iridesce'+'nce_iorToF'+'resnelVec3'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20let\x20r23:\x20'+'vec3f\x20=\x20ir'+'idescence_'+'fresnelVec'+'3(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20let\x20phi'+'23:\x20vec3f\x20'+'=\x20select(v'+'ec3f(0.0),'+'\x20vec3f(PI)'+',\x20baseIor\x20'+'<\x20vec3f(ir'+'idescenceI'+'or));\x0a\x20\x20\x20\x20'+'let\x20opd:\x20f'+'32\x20=\x202.0\x20*'+'\x20iridescen'+'ceIor\x20*\x20ir'+'idescenceT')+('hickness\x20*'+'\x20cosTheta2'+';\x0a\x20\x20\x20\x20let\x20'+'phi:\x20vec3f'+'\x20=\x20vec3f(p'+'hi21)\x20+\x20ph'+'i23;\x20//\x20Pr'+'omote\x20scal'+'ar\x20phi21\x20t'+'o\x20vec3f\x0a\x0a\x20'+'\x20\x20\x20let\x20r12'+'3Sq:\x20vec3f'+'\x20=\x20clamp(v'+'ec3f(r12)\x20'+'*\x20r23,\x20vec'+'3f(1e-5),\x20'+'vec3f(0.99'+'99));\x0a\x20\x20\x20\x20'+'let\x20r123:\x20'+'vec3f\x20=\x20sq'+'rt(r123Sq)'+';\x0a\x20\x20\x20\x20let\x20'+'rs:\x20vec3f\x20'+'=\x20pow(vec3'+'f(t121),\x20v'+'ec3f(2.0))'+'\x20*\x20r23\x20/\x20('+'vec3f(1.0)'+'\x20-\x20r123Sq)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20c0:\x20vec3f'+'\x20=\x20vec3f(r'+'12)\x20+\x20rs;\x0a'+'\x20\x20\x20\x20var\x20i_'+'irid:\x20vec3'+'f\x20=\x20c0;\x0a\x0a\x20'+'\x20\x20\x20var\x20cm:'+'\x20vec3f\x20=\x20r'+'s\x20-\x20vec3f('+'t121);\x0a\x0a\x20\x20'+'\x20\x20cm\x20=\x20cm\x20'+'*\x20r123;\x0a\x20\x20'+'\x20\x20let\x20sm1:'+'\x20vec3f\x20=\x202'+'.0\x20*\x20iride'+'scence_sen'+'sitivity(1'+'.0\x20*\x20opd,\x20'+'1.0\x20*\x20phi)'+';\x0a\x20\x20\x20\x20i_ir'+'id\x20=\x20i_iri'+'d\x20+\x20cm\x20*\x20s'+'m1;\x0a\x0a\x20\x20\x20\x20c'+'m\x20=\x20cm\x20*\x20r'+'123;\x0a\x20\x20\x20\x20l'+'et\x20sm2:\x20ve'+'c3f\x20=\x202.0\x20'+'*\x20iridesce'+'nce_sensit'+'ivity(2.0\x20'+'*\x20opd,\x202.0'+'\x20*\x20phi);\x0a\x20'+'\x20\x20\x20i_irid\x20'+'=\x20i_irid\x20+'+'\x20cm\x20*\x20sm2;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20max(i_i'+'rid,\x20vec3f'+'(0.0));\x0a}\x0a'+'\x0afn\x20getIri'+'descenceDi'+'ffraction('+'cosTheta:\x20'+'f32,\x20specu'+'larity:\x20ve'+'c3f,\x20iride'+'scenceThic'+'kness:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),hD='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_irides'+'cence:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getIrid'+'escence()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'iridescenc'+'e\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_CON'+'STANT\x0a\x20\x20\x20\x20'+'iridescenc'+'e\x20=\x20irides'+'cence\x20*\x20un'+'iform.mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20=\x20iridesc'+'ence\x20*\x20tex'+'tureSample'+'Bias({STD_'+'IRIDESCENC'+'E_TEXTURE_'+'NAME},\x20{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_CHANNEL}'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dI'+'ridescence'+'\x20=\x20iridesc'+'ence;\x20\x0a}\x0a',dD='\x0auniform\x20m'+'aterial_ir'+'idescenceT'+'hicknessMa'+'x:\x20f32;\x0a\x0a#'+'ifdef\x20STD_'+'IRIDESCENC'+'ETHICKNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20uniform'+'\x20material_'+'iridescenc'+'eThickness'+'Min:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20blen'+'d:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_IRIDESCE'+'NCETHICKNE'+'SS_TEXTURE'+'_NAME},\x20{S'+'TD_IRIDESC'+'ENCETHICKN'+'ESS_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20iridesce'+'nceThickne'+'ss:\x20f32\x20=\x20'+'mix(unifor'+'m.material'+'_iridescen'+'ceThicknes'+'sMin,\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax,\x20bl'+'end);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceT'+'hickness:\x20'+'f32\x20=\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scenceThic'+'kness\x20=\x20ir'+'idescenceT'+'hickness;\x20'+'\x0a}\x0a',fD='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_refr'+'actionInde'+'x:\x20f32;\x0a#e'+'ndif\x0a\x0afn\x20g'+'etIor()\x20{\x0a'+'#ifdef\x20STD'+'_IOR_CONST'+'ANT\x0a\x20\x20\x20\x20dI'+'or\x20=\x20unifo'+'rm.materia'+'l_refracti'+'onIndex;\x0a#'+'else\x0a\x20\x20\x20\x20d'+'Ior\x20=\x201.0\x20'+'/\x201.5;\x0a#en'+'dif\x0a}\x0a',uD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_color'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_direction'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_POINT\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20poi'+'nt\x20lights\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20lig'+'ht{i}_posi'+'tion:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ra'+'dius:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'SPOT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_SPOT\x20//\x20'+'include\x20fu'+'nctionalit'+'y\x20for\x20spot'+'\x20lights\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_di'+'rection:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_inner'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_outer'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_FALLOFF_'+'SQUARED\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20inv'+'erse\x20squar'+'ed\x20falloff'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_position:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ha'+'lfWidth:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_halfHeigh'+'t:\x20vec3f;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}FALLOFF\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_LINE'+'AR\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20linear\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}FALLOFF'+'\x20==\x20INVERS'+'ESQUARED\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_SQUA'+'RED\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20inverse'+'\x20squared\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20shadow\x20c'+'asting\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowMatri'+'x:\x20mat4x4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20li'+'ght{i}_sha'+'dowIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'{i}_shadow'+'Params:\x20ve'+'c4f;\x20//\x20wi'+'dth,\x20heigh'+'t,\x20bias,\x20r'+'adius\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowSearc'+'hArea:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_cameraPar'+'ams:\x20vec4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'oftShadowP'+'arams:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'directiona'+'l\x20(cascade'+'d)\x20shadows'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20light{i}_'+'shadowMatr'+'ixPalette:'+'\x20array<mat'+'4x4f,\x204>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deDistance'+'s:\x20vec4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deCount:\x20i'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20light{'+'i}_shadowC'+'ascadeBlen'+'d:\x20f32;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20N'+'OT\x20SUPPORT'+'ED\x0a/*\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIG'+'HT{i}SHADO'+'W_PCF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMap:\x20tex'+'ture_depth'+'_2d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'{i}_shadow'+'MapSampler'+':\x20sampler_'+'comparison'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'light{i}_s'+'hadowMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMapSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIGHT{i}CO'+'OKIE)\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_COOKIE\x20/'+'/\x20include\x20'+'functional'+'ity\x20for\x20co'+'okies\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20OMNI\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20NOT\x20SUPP'+'ORTED\x0a/*\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'plerCube\x20l'+'ight{i}_co'+'okie;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un')+('iform\x20floa'+'t\x20light{i}'+'_cookieInt'+'ensity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20!defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20light{i}'+'_shadowMat'+'rix;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20NO'+'T\x20SUPPORTE'+'D\x0a/*\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_cookie;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_cook'+'ieIntensit'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20!'+'defined(LI'+'GHT{i}CAST'+'SHADOW)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrix;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}COOKIE_TR'+'ANSFORM)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_coo'+'kieMatrix;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'light{i}_c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a*/\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),pD='\x0afn\x20getLig'+'htDiffuse('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',mD='\x0afn\x20evalOm'+'niLight(li'+'ghtPosW:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a}\x0a',_D='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',gD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0afn\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x20\x20\x20'+'\x20//\x20light\x20'+'color\x0a\x20\x20\x20\x20'+'var\x20lightC'+'olor:\x20vec3'+'f\x20=\x20unifor'+'m.light{i}'+'_color;\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20!d'+'efined(LIT'+'_SHADOW_CA'+'TCHER)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ea'+'rly\x20return'+'\x20if\x20the\x20li'+'ght\x20color\x20'+'is\x20black\x20('+'used\x20by\x20sh'+'adow\x20catch'+'er\x20-\x20this\x20'+'way\x20this\x20l'+'ight\x20is\x20ve'+'ry\x20cheap)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(all(ligh'+'tColor\x20==\x20'+'vec3f(0.0,'+'\x200.0,\x200.0)'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20DIRECTION'+'AL\x20//\x20dire'+'ctional\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightD'+'irNormW\x20=\x20'+'uniform.li'+'ght{i}_dir'+'ection;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20omni\x20o'+'r\x20spot\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(u'+'niform.lig'+'ht{i}_posi'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tDirNormW\x20'+'=\x20normaliz'+'e(lightDir'+'W);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIGHT'+'{i}COOKIE)'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20SPOT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_FAL'+'LOFF\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+('eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DXform(u'+'niform.lig'+'ht{i}_cook'+'ie,\x20unifor'+'m.light{i}'+'_shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_cookieIn'+'tensity,\x20u'+'niform.lig'+'ht{i}_cook'+'ieMatrix,\x20'+'uniform.li'+'ght{i}_coo'+'kieOffset)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookie2D('+'uniform.li'+'ght{i}_coo'+'kie,\x20unifo'+'rm.light{i'+'}_shadowMa'+'trix,\x20unif'+'orm.light{'+'i}_cookieI'+'ntensity).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClipXfo'+'rm(uniform'+'.light{i}_'+'cookie,\x20un'+'iform.ligh'+'t{i}_shado'+'wMatrix,\x20u'+'niform.lig'+'ht{i}_cook'+'ieIntensit'+'y,\x20uniform'+'.light{i}_'+'cookieMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieOff'+'set).{LIGH'+'T{i}COOKIE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClip(un'+'iform.ligh'+'t{i}_cooki'+'e,\x20uniform'+'.light{i}_'+'shadowMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieInt'+'ensity).{L'+'IGHT{i}COO'+'KIE_CHANNE'+'L};\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookieCub'+'e(uniform.'+'light{i}_c'+'ookie,\x20uni'+'form.light'+'{i}_shadow'+'Matrix,\x20un'+'iform.ligh'+'t{i}_cooki'+'eIntensity'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multipl'+'y\x20light\x20co'+'lor\x20by\x20the'+'\x20cookie\x20at'+'tenuation\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightCol'+'or\x20=\x20light'+'Color\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dista'+'nce\x20fallof'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20PUNCTUAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}FALLOF'+'F\x20==\x20LINEA'+'R\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20=\x20get'+'FalloffLin'+'ear(unifor'+'m.light{i}'+'_radius,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20getFal'+'loffInvSqu'+'ared(unifo'+'rm.light{i'+'}_radius,\x20'+'lightDirW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'non\x20punctu'+'al\x20lights\x20'+'only\x20gets\x20'+'the\x20range\x20'+'window\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'uniform.li'+'ght{i}_rad'+'ius,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20angle'+'\x20falloff\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20SPO'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d')+('efined(LIG'+'HT{i}COOKI'+'E)\x20||\x20defi'+'ned(LIGHT{'+'i}COOKIE_F'+'ALLOFF)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20dAtten\x20'+'*\x20getSpotE'+'ffect(unif'+'orm.light{'+'i}_directi'+'on,\x20unifor'+'m.light{i}'+'_innerCone'+'Angle,\x20uni'+'form.light'+'{i}_outerC'+'oneAngle,\x20'+'dLightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20if\x20'+'(dAtten\x20<\x20'+'0.00001)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20evaluate\x20'+'area\x20light'+'\x20values\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20RECT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcRectLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20calcDiskL'+'ightValues'+'(uniform.l'+'ight{i}_po'+'sition,\x20un'+'iform.ligh'+'t{i}_halfW'+'idth,\x20unif'+'orm.light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20SPH'+'ERE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20calc'+'SphereLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20dif'+'fuse\x20light'+'ing\x20-\x20LTC\x20'+'lights\x20do\x20'+'not\x20mix\x20di'+'ffuse\x20ligh'+'ting\x20into\x20'+'attenuatio'+'n\x20that\x20aff'+'ects\x20specu'+'lar\x0a\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P')+('UNCTUAL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'attenDiffu'+'se\x20-\x20separ'+'ate\x20diffus'+'e\x20attenuat'+'ion\x20for\x20no'+'n-punctual'+'\x20light\x20sou'+'rces\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20NB:\x20A\x20bet'+'ter\x20approx'+'imation\x20pe'+'rhaps\x20usin'+'g\x20wrap\x20lig'+'hting\x20coul'+'d\x20be\x20imple'+'mented\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20at'+'tenDiffuse'+':\x20f32\x20=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x2016.0\x20is\x20'+'a\x20constant'+'\x20that\x20is\x20i'+'n\x20getFallo'+'ffInvSquar'+'ed()\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20attenDi'+'ffuse:\x20f32'+'\x20=\x20getRect'+'LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20light'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20DISK\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'attenDiffu'+'se:\x20f32\x20=\x20'+'getDiskLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20lightDir'+'W,\x20dLightD'+'irNormW)\x20*'+'\x2016.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20LIGHT'+'{i}SHAPE\x20='+'=\x20SPHERE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20a'+'ttenDiffus'+'e:\x20f32\x20=\x20g'+'etSphereLi'+'ghtDiffuse'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20lightDi'+'rW,\x20dLight'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20one\x20par'+'ameter\x20is\x20'+'unused\x20for')+('\x20punctual\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20dAtten'+'\x20*\x20getLigh'+'tDiffuse(l'+'itArgs_wor'+'ldNormal,\x20'+'vec3(0.0),'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20the\x20sha'+'dow\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}CASTS'+'HADOW\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20shadow:'+'\x20f32\x20=\x20get'+'Shadow{i}('+'vec3(0.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20shadow:\x20'+'f32\x20=\x20getS'+'hadow{i}(l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Ap'+'ply\x20shadow'+'\x20intensity'+'\x20to\x20the\x20sh'+'adow\x20value'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadow\x20=\x20mi'+'x(1.0,\x20sha'+'dow,\x20unifo'+'rm.light{i'+'}_shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20dA'+'tten\x20*\x20sha'+'dow;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SHADOW_CAT'+'CHER)\x20&&\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20accumula'+'te\x20shadows'+'\x20for\x20direc'+'tional\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSha'+'dowCatcher'+'\x20=\x20dShadow'+'Catcher\x20*\x20'+'shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20-\x20they'+'\x20do\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((('+'attenDiffu'+'se\x20*\x20dAtte'+'n)\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20dLTC'+'SpecFres))')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'((attenDif'+'fuse\x20*\x20dAt'+'ten)\x20*\x20lig'+'htColor);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(AREA_'+'LIGHTS)\x20&&'+'\x20defined(L'+'IT_SPECULA'+'R)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((d'+'Atten\x20*\x20li'+'ghtColor)\x20'+'*\x20(1.0\x20-\x20l'+'itArgs_spe'+'cularity))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'(dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20spe'+'cular\x20ligh'+'ting\x0a\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}AFFECT'+'_SPECULARI'+'TY\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20==\x20REC'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getRe'+'ctLightSpe'+'cular(litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20dVi'+'ewDirW)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20ccSpec'+'ularLight\x20'+'+\x20(ccLTCSp'+'ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20SPHER'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_clea'+'rcoat_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20=\x20dS'+'pecularLig'+'ht\x20+\x20(dLTC'+'SpecFres\x20*'+'\x20getRectLi'+'ghtSpecula'+'r(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20(dLT'+'CSpecFres\x20'+'*\x20getDiskL'+'ightSpecul'+'ar(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW)\x20*\x20dAt'+'ten\x20*\x20ligh'+'tColor);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'=\x20dSpecula'+'rLight\x20+\x20('+'dLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20//\x20punctu'+'al\x20light\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20is\x20fr'+'esnel\x20need'+'ed\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC')+('TIONAL\x20&&\x20'+'LIT_FRESNE'+'L_MODEL\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ha'+'lfDirW:\x20ve'+'c3f\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20if\x20LTC\x20li'+'ghts\x20are\x20p'+'resent,\x20sp'+'ecular\x20mus'+'t\x20be\x20accum'+'ulated\x20wit'+'h\x20specular'+'ity\x20(specu'+'larity\x20is\x20'+'pre\x20multip'+'lied\x20by\x20pu'+'nctual\x20lig'+'ht\x20fresnel'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'specularCC'+':\x20vec3f\x20=\x20'+'getLightSp'+'ecular(hal'+'fDirW,\x20ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20dLightDir'+'NormW,\x20lit'+'Args_clear'+'coat_gloss'+',\x20dTBN)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightspecu'+'larCC\x20=\x20li'+'ghtspecula'+'rCC\x20*\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20halfDi'+'rW));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20=\x20ccSpecu'+'larLight\x20+'+'\x20lightspec'+'ularCC;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sSpecul'+'arLight\x20=\x20'+'sSpecularL'+'ight\x20+\x20(ge'+'tLightSpec'+'ularSheen('+'halfDirW,\x20'+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi')+('rNormW,\x20li'+'tArgs_shee'+'n_gloss)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tSpecular:'+'\x20vec3f\x20=\x20g'+'etLightSpe'+'cular(half'+'DirW,\x20dRef'+'lDirW,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20d'+'LightDirNo'+'rmW,\x20litAr'+'gs_gloss,\x20'+'dTBN)\x20*\x20dA'+'tten\x20*\x20lig'+'htColor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'FRESNEL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20=\x20li'+'ghtSpecula'+'r\x20*\x20getFre'+'snel(dot(d'+'ViewDirW,\x20'+'halfDirW),'+'\x20litArgs_g'+'loss,\x20litA'+'rgs_specul'+'arity,\x20iri'+'descenceFr'+'esnel,\x20lit'+'Args_iride'+'scence_int'+'ensity);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightSpecul'+'ar\x20=\x20light'+'Specular\x20*'+'\x20getFresne'+'l(dot(dVie'+'wDirW,\x20hal'+'fDirW),\x20li'+'tArgs_glos'+'s,\x20litArgs'+'_speculari'+'ty);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20light'+'Specular\x20='+'\x20lightSpec'+'ular\x20*\x20lit'+'Args_specu'+'larity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20+\x20li'+'ghtSpecula'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'#endif\x0a'),SD='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowSam'+'pleCoord{i'+'}(shadowTr'+'ansform:\x20m'+'at4x4f,\x20sh'+'adowParams'+':\x20vec4f,\x20w'+'orldPositi'+'on:\x20vec3f,'+'\x20lightPos:'+'\x20vec3f,\x20li'+'ghtDir:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'lightDirNo'+'rm:\x20vec3f,'+'\x20normal:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'surfacePos'+'ition\x20=\x20wo'+'rldPositio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_POINT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(*l'+'ightDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y\x20*\x20cl'+'amp(1.0\x20-\x20'+'dot(normal'+',\x20-lightDi'+'rNorm),\x200.'+'0,\x201.0)\x20*\x20'+'distScale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20*li'+'ghtDir\x20=\x20s'+'urfacePosi'+'tion\x20-\x20lig'+'htPos;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'*lightDir;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}_SHADOW_'+'SAMPLE_NOR'+'MAL_OFFSET'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_SAMP'+'LE_ORTHO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dis'+'tScale:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20distSca'+'le:\x20f32\x20=\x20'+'abs(dot(vP'+'ositionW\x20-'+'\x20lightPos,'+'\x20lightDirN'+'orm));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Use'+'\x20var\x20for\x20m'+'odificatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20po'+'sitionInSh'+'adowSpace:'+'\x20vec4f\x20=\x20s'+'hadowTrans'+'form\x20*\x20vec'+'4f(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM')+('PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20=\x20pos'+'itionInSha'+'dowSpace.x'+'yz\x20/\x20posit'+'ionInShado'+'wSpace.w;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.xy\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/\x20posi'+'tionInShad'+'owSpace.w;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20positionI'+'nShadowSpa'+'ce.z\x20=\x20len'+'gth(*light'+'Dir)\x20*\x20sha'+'dowParams.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20this\x20is\x20c'+'urrently\x20u'+'nused\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_Z'+'_BIAS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20posit'+'ionInShado'+'wSpace.z\x20+'+'=\x20getShado'+'wBias(shad'+'owParams.x'+',\x20shadowPa'+'rams.z);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sur'+'facePositi'+'on;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20evalu'+'ation\x20func'+'tion\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'w{i}(light'+'DirW_in:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20s'+'hadow\x20casc'+'ades\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_CASC'+'ADES\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20select\x20sh'+'adow\x20casca'+'de\x20matrix\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20casc'+'adeIndex:\x20'+'i32\x20=\x20getS'+'hadowCasca'+'deIndex(un'+'iform.ligh'+'t{i}_shado'+'wCascadeDi'+'stances,\x20u'+'niform.lig'+'ht{i}_shad')+('owCascadeC'+'ount);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_CASCADE'+'_BLEND\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20cascade'+'Index\x20=\x20di'+'therShadow'+'CascadeInd'+'ex(cascade'+'Index,\x20uni'+'form.light'+'{i}_shadow'+'CascadeDis'+'tances,\x20un'+'iform.ligh'+'t{i}_shado'+'wCascadeCo'+'unt,\x20unifo'+'rm.light{i'+'}_shadowCa'+'scadeBlend'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowMatri'+'x:\x20mat4x4f'+'\x20=\x20uniform'+'.light{i}_'+'shadowMatr'+'ixPalette['+'cascadeInd'+'ex];\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20sha'+'dowMatrix:'+'\x20mat4x4f\x20='+'\x20uniform.l'+'ight{i}_sh'+'adowMatrix'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20lightDirA'+'rg\x20=\x20light'+'DirW_in;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20direc'+'tional\x20lig'+'ht\x20does\x20no'+'t\x20have\x20a\x20p'+'osition\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20getSh'+'adowSample'+'Coord{i}(s'+'hadowMatri'+'x,\x20uniform'+'.light{i}_'+'shadowPara'+'ms,\x20vPosit'+'ionW,\x20vec3'+'f(0.0),\x20&l'+'ightDirArg'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owCoord:\x20v'+'ec3f\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_shadowPa'+'rams,\x20vPos'+'itionW,\x20un'+'iform.ligh'+'t{i}_posit'+'ion,\x20&ligh'+'tDirArg,\x20d'+'LightDirNo'+'rmW,\x20dVert'+'exNormalW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('#endif\x0a\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Fade\x20direc'+'tional\x20sha'+'dow\x20at\x20the'+'\x20far\x20dista'+'nce\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'owCoord\x20=\x20'+'fadeShadow'+'(shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowCas'+'cadeDistan'+'ces);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20-----\x20s'+'ample\x20the\x20'+'shadow\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20---'+'--\x20directi'+'onal\x20light'+'\x20-----\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20VSM_'+'16F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowVSM1'+'6(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s,\x205.54);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20VS'+'M_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowVS'+'M32(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x2015.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2f(lengt'+'h(uniform.'+'light{i}_h'+'alfWidth),'+'\x20length(un'+'iform.ligh'+'t{i}_halfH'+'eight))\x20*\x20'+'uniform.li'+'ght{i}_sha'+'dowSearchA'+'rea;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCSS(ligh'+'t{i}_shado'+'wMap,\x20ligh'+'t{i}_shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20unif'+'orm.light{'+'i}_shadowP'+'arams,\x20uni'+'form.light'+'{i}_camera'+'Params,\x20sh'+'adowSearch'+'Area,\x20ligh'+'tDirW_in);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CSS(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x20unifo'+'rm.light{i'+'}_cameraPa'+'rams,\x20unif'+'orm.light{'+'i}_softSha'+'dowParams,'+'\x20lightDirW'+'_in);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF1_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF1x1('+'light{i}_s'+'hadowMap,\x20'+'light{i}_s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'uniform.li'+'ght{i}_sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_16F\x20|'+'|\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF3_3'+'2F\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowPCF3x'+'3(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_16F'+'\x20||\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF5')+('_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x20//\x20-'+'----\x20spot\x20'+'light\x20----'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM16'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x205.54,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM32'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x2015.0,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20!=\x20PU'+'NCTUAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f\x20=\x20vec'+'2f(length('+'uniform.li'+'ght{i}_hal'+'fWidth),\x20l'+'ength(unif'+'orm.light{'+'i}_halfHei'+'ght))\x20*\x20un'+'iform.ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowSearc'+'hArea:\x20vec')+('2f\x20=\x20vec2f'+'(uniform.l'+'ight{i}_sh'+'adowSearch'+'Area);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCSS'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x20uniform.'+'light{i}_c'+'ameraParam'+'s,\x20shadowS'+'earchArea,'+'\x20lightDirW'+'_in);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'16F\x20||\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF1_32F\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF1x1'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'5_16F\x20||\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF5_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCF5'+'x5(light{i'+'}_shadowMa'+'p,\x20light{i'+'}_shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20uniform'+'.light{i}_'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20')+('\x20\x20\x20#endif\x0a'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x20//\x20--'+'---\x20omni\x20l'+'ight\x20-----'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f;\x20//\x20U'+'se\x20var\x20bec'+'ause\x20assig'+'ned\x20in\x20if/'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owSearchAr'+'ea:\x20vec2f\x20'+'=\x20vec2f(le'+'ngth(unifo'+'rm.light{i'+'}_halfWidt'+'h),\x20length'+'(uniform.l'+'ight{i}_ha'+'lfHeight))'+'\x20*\x20uniform'+'.light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'SearchArea'+':\x20vec2f\x20=\x20'+'vec2f(unif'+'orm.light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20un'+'iform.ligh'+'t{i}_camer'+'aParams,\x20s'+'hadowSearc'+'hArea,\x20lig'+'htDirW_in)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in')+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),yD='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'var\x20areaLi'+'ghtsLutTex'+'1:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20areaLight'+'sLutTex2:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20areaL'+'ightsLutTe'+'x2Sampler:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'omni\x20/\x20spo'+'t\x20PCSS\x20is\x20'+('not\x20suppor'+'ted\x20on\x20Web'+'GPU\x20curren'+'tly,\x20as\x20th'+'is\x20is\x20only'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0a\x20\x20\x20\x20'+'//\x20#includ'+'e\x20\x22shadowP'+'CSSPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22shadowSof'+'tPS\x22\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(SHADO'+'W_KIND_VSM'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owEVSMPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22falloff'+'LinearPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_SQUARED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fallof'+'fInvSquare'+'dPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_CODE_L'+'IGHTS_POIN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDirPointP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22spotPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'CODE_COOKI'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22cook'+'iePS\x22\x0a#end'+'if\x0a\x0a//\x20clu'+'stered\x20lig'+'hting\x0a#ifd'+'ef\x20LIT_CLU'+'STERED_LIG'+'HTS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22cl'+'usteredLig'+'htPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIGHT_COU'+'NT\x20>\x200\x0a\x20\x20\x20'+'\x20//\x20LOOP\x20-'+'\x20generate\x20'+'shadow\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionShadow'+'PS,\x20LIGHT_'+'COUNT\x22\x0a\x0a\x20\x20'+'\x20\x20//\x20LOOP\x20'+'-\x20generate'+'\x20light\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionLightP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a'),vD='\x0afn\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20lightmap:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20dir:\x20vec'+'3f,\x0a\x20\x20\x20\x20wo'+'rldNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20viewDir:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20reflecti'+'onDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20ve'+'rtexNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20tbn:\x20ma'+'t3x3f\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20iridesce'+'nceIntensi'+'ty:\x20f32\x0a#e'+'ndif\x0a)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x20&&'+'\x20defined(L'+'IT_DIR_LIG'+'HTMAP)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'dot(dir,\x20d'+'ir)\x20<\x200.00'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20dD'+'iffuseLigh'+'t\x20+\x20lightm'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20vli'+'ght:\x20f32\x20='+'\x20saturate('+'dot(dir,\x20-'+'vertexNorm'+'al));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20flight:\x20'+'f32\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20nlig'+'ht:\x20f32\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20=\x20dDiff'+'useLight\x20+'+'\x20lightmap\x20'+'*\x20nlight\x20*'+'\x202.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20halfDir'+':\x20vec3f\x20=\x20'+'normalize('+'-dir\x20+\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20specula'+'rLight:\x20ve'+'c3f\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+('_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'=\x20specular'+'Light\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(d'+'ot(viewDir'+',\x20halfDir)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20,\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20specularL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'non-direct'+'ional\x20ligh'+'tmap\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20+\x20ligh'+'tmap;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),xD='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'var<privat'+'e>\x20dLightm'+'apDir:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'dirLightMa'+'p:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_dirL'+'ightMapSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0afn\x20getL'+'ightMap()\x20'+'{\x0a\x0a\x20\x20\x20\x20dLi'+'ghtmap\x20=\x20v'+'ec3f(1.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_TEXTURE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Lightmap\x20='+'\x20dLightmap'+'\x20*\x20{STD_LI'+'GHT_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_LIGHT_T'+'EXTURE_NAM'+'E},\x20{STD_L'+'IGHT_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+')).{STD_LI'+'GHT_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_LIGHTMAP'+'_DIR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20dir:\x20vec3'+'f\x20=\x20textur'+'eSampleBia'+'s(texture_'+'dirLightMa'+'p,\x20texture'+'_dirLightM'+'apSampler,'+'\x20{STD_LIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).xyz\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20d'+'irDot\x20=\x20do'+'t(dir,\x20dir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tmapDir\x20=\x20'+'select(vec'+'3(0.0),\x20di'+'r\x20/\x20sqrt(d'+'irDot),\x20di'+'rDot\x20>\x200.0'+'01);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dL'+'ightmap\x20=\x20'+'dLightmap\x20'+'*\x20saturate'+'(vVertexCo'+'lor.{STD_L'+'IGHT_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',TD='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'fn\x20calcLig'+'htSpecular'+'(gloss:\x20f3'+'2,\x20worldNo'+'rmal:\x20vec3'+'f,\x20viewDir'+':\x20vec3f,\x20h'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'tbn:\x20mat3x'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20PI:\x20f32\x20='+'\x203.1415926'+'53589793;\x0a'+'\x20\x20\x20\x20let\x20ro'+'ughness:\x20f'+'32\x20=\x20max(('+'1.0\x20-\x20glos'+'s)\x20*\x20(1.0\x20'+'-\x20gloss),\x20'+'0.001);\x0a\x20\x20'+'\x20\x20let\x20alph'+'aRoughness'+':\x20f32\x20=\x20ro'+'ughness\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20let\x20a'+'nisotropy:'+'\x20f32\x20=\x20dAn'+'isotropy;\x0a'+'\x20\x20\x20\x20let\x20di'+'rection:\x20v'+'ec2f\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x0a\x20'+'\x20\x20\x20let\x20at:'+'\x20f32\x20=\x20mix'+'(alphaRoug'+'hness,\x201.0'+',\x20anisotro'+'py\x20*\x20aniso'+'tropy);\x0a\x20\x20'+'\x20\x20let\x20ab:\x20'+'f32\x20=\x20clam'+'p(alphaRou'+'ghness,\x200.'+'001,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20NoH:\x20f32\x20'+'=\x20dot(worl'+'dNormal,\x20h'+');\x0a\x20\x20\x20\x20let'+'\x20ToH:\x20f32\x20'+'=\x20dot(anis'+'otropicT,\x20'+'h);\x0a\x20\x20\x20\x20le'+'t\x20BoH:\x20f32'+'\x20=\x20dot(ani'+'sotropicB,'+'\x20h);\x0a\x0a\x20\x20\x20\x20'+'let\x20a2:\x20f3'+'2\x20=\x20at\x20*\x20a'+'b;\x0a\x20\x20\x20\x20let'+'\x20v:\x20vec3f\x20'+'=\x20vec3f(ab'+'\x20*\x20ToH,\x20at'+'\x20*\x20BoH,\x20a2'+'\x20*\x20NoH);\x0a\x20'+'\x20\x20\x20let\x20v2:'+'\x20f32\x20=\x20dot'+'(v,\x20v);\x0a\x20\x20'+'\x20\x20let\x20w2:\x20'+'f32\x20=\x20a2\x20/'+'\x20v2;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20let\x20To'+'V:\x20f32\x20=\x20d'+'ot(anisotr'+'opicT,\x20vie'+('wDir);\x0a\x20\x20\x20'+'\x20let\x20BoV:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20viewDi'+'r);\x0a\x20\x20\x20\x20le'+'t\x20ToL:\x20f32'+'\x20=\x20dot(ani'+'sotropicT,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20let\x20BoL:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20let\x20No'+'V:\x20f32\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'let\x20NoL:\x20f'+'32\x20=\x20dot(w'+'orldNormal'+',\x20-lightDi'+'rNorm);\x0a\x0a\x20'+'\x20\x20\x20let\x20lam'+'bdaV:\x20f32\x20'+'=\x20NoL\x20*\x20le'+'ngth(vec3f'+'(at\x20*\x20ToV,'+'\x20ab\x20*\x20BoV,'+'\x20NoV));\x0a\x20\x20'+'\x20\x20let\x20lamb'+'daL:\x20f32\x20='+'\x20NoV\x20*\x20len'+'gth(vec3f('+'at\x20*\x20ToL,\x20'+'ab\x20*\x20BoL,\x20'+'NoL));\x0a\x20\x20\x20'+'\x20let\x20G:\x20f3'+'2\x20=\x200.5\x20/\x20'+'(lambdaV\x20+'+'\x20lambdaL);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20D\x20*\x20G;\x0a'+'}\x0a\x0afn\x20getL'+'ightSpecul'+'ar(h:\x20vec3'+'f,\x20reflDir'+':\x20vec3f,\x20w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'DirNorm:\x20v'+'ec3f,\x20glos'+'s:\x20f32,\x20tb'+'n:\x20mat3x3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20calcLigh'+'tSpecular('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir,\x20h'+',\x20lightDir'+'Norm,\x20tbn)'+';\x0a}\x0a'),wD='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afn\x20c'+'alcLightSp'+'ecular(glo'+'ss:\x20f32,\x20w'+'orldNormal'+':\x20vec3f,\x20h'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20nh:\x20'+'f32\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'specPow:\x20f'+'32\x20=\x20exp2('+'gloss\x20*\x2011'+'.0);\x20//\x20gl'+'ossiness\x20i'+'s\x20linear,\x20'+'power\x20is\x20n'+'ot;\x200\x20-\x2020'+'48\x0a\x0a\x20\x20\x20\x20//'+'\x20Hack:\x20On\x20'+'Mac\x20OS\x20X,\x20'+'calling\x20po'+'w\x20with\x20zer'+'o\x20for\x20the\x20'+'exponent\x20g'+'enerates\x20h'+'ideous\x20art'+'ifacts\x20so\x20'+'bias\x20up\x20a\x20'+'little\x0a\x20\x20\x20'+'\x20specPow\x20='+'\x20max(specP'+'ow,\x200.0001'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20pow(n'+'h,\x20specPow'+')\x20*\x20(specP'+'ow\x20+\x202.0)\x20'+'/\x208.0;\x0a}\x0a\x0a'+'fn\x20getLigh'+'tSpecular('+'h:\x20vec3f,\x20'+'reflDir:\x20v'+'ec3f,\x20worl'+'dNormal:\x20v'+'ec3f,\x20view'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20tbn:\x20'+'mat3x3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',ED='\x0a\x0afn\x20sheen'+'D(normal:\x20'+'vec3f,\x20h:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'PI:\x20f32\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20let\x20inv'+'R:\x20f32\x20=\x201'+'.0\x20/\x20(roug'+'hness\x20*\x20ro'+'ughness);\x0a'+'\x20\x20\x20\x20var\x20co'+'s2h:\x20f32\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20=\x20c'+'os2h\x20*\x20cos'+'2h;\x0a\x20\x20\x20\x20le'+'t\x20sin2h:\x20f'+'32\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'fn\x20sheenV('+'normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20light:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20max(dot'+'(normal,\x20v'+'iewDir),\x200'+'.000001);\x0a'+'\x20\x20\x20\x20let\x20No'+'L:\x20f32\x20=\x20m'+'ax(dot(nor'+'mal,\x20light'+'),\x200.00000'+'1);\x0a\x20\x20\x20\x20re'+'turn\x201.0\x20/'+'\x20(4.0\x20*\x20(N'+'oL\x20+\x20NoV\x20-'+'\x20NoL\x20*\x20NoV'+'));\x0a}\x0a\x0afn\x20'+'getLightSp'+'ecularShee'+'n(h:\x20vec3f'+',\x20worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f,\x20li'+'ghtDirNorm'+':\x20vec3f,\x20s'+'heenGloss:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20let\x20V:\x20f'+'32\x20=\x20sheen'+'V(worldNor'+'mal,\x20viewD'+'ir,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20return'+'\x20D\x20*\x20V;\x0a}',bD='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afn\x20linear'+'izeDepthWi'+'thParams(z'+':\x20f32,\x20cam'+'eraParams:'+'\x20vec4f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'aParams.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(came'+'raParams.z'+'\x20*\x20cameraP'+'arams.y)\x20/'+'\x20(cameraPa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'Params.z\x20-'+'\x20cameraPar'+'ams.y));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20cam'+'eraParams.'+'z\x20+\x20z\x20*\x20(c'+'ameraParam'+'s.y\x20-\x20came'+'raParams.z'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0a#ifndef\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20#de'+'fine\x20CAMER'+'APLANES\x0a\x20\x20'+'\x20\x20uniform\x20'+'camera_par'+'ams:\x20vec4f'+';\x20\x20\x20//\x20x:\x20'+'1\x20/\x20camera'+'_far,\x20\x20\x20\x20\x20'+'\x20y:\x20camera'+'_far,\x20\x20\x20\x20\x20'+'z:\x20camera_'+'near,\x20\x20\x20\x20\x20'+'\x20\x20\x20w:\x20is_o'+'rtho\x0a#endi'+'f\x0a\x0afn\x20line'+'arizeDepth'+'(z:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pthWithPar'+'ams(z,\x20uni'+'form.camer'+'a_params);'+'\x0a}\x0a#endif\x20'+'//\x20LINEARI'+'ZE_DEPTH\x0a',AD='\x0afn\x20evalua'+'teBackend('+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'//\x20apply\x20S'+'SAO\x20during'+'\x20lighting\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SSAO\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ao\x20='+'\x20litArgs_a'+'o\x20*\x20textur'+'eSampleLev'+'el(ssaoTex'+'ture,\x20ssao'+'TextureSam'+'pler,\x20pcPo'+'sition.xy\x20'+'*\x20uniform.'+'ssaoTextur'+'eSizeInv,\x20'+'0.0).r;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nsform\x20tan'+'gent\x20space'+'\x20normals\x20t'+'o\x20world\x20sp'+'ace\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_N'+'EEDS_NORMA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getReflD'+'ir(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_gloss,\x20'+'dTBN);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'f0:\x20f32\x20=\x20'+'1.0\x20/\x20litA'+'rgs_ior;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20f0\x20=\x20(f0\x20'+'-\x201.0)\x20/\x20('+'f0\x20+\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20f0\x20=\x20f0'+'\x20*\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+('ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceF'+'resnel:\x20ve'+'c3f\x20=\x20getI'+'ridescence'+'Diffractio'+'n(saturate'+'(dot(dView'+'DirW,\x20litA'+'rgs_worldN'+'ormal)),\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_ir'+'idescence_'+'thickness)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20ambi'+'ent\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddAmbient('+'litArgs_wo'+'rldNormal)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20move\x20ambi'+'ent\x20color\x20'+'out\x20of\x20dif'+'fuse\x20(used'+'\x20by\x20Lightm'+'apper,\x20to\x20'+'multiply\x20a'+'mbient\x20col'+'or\x20by\x20accu'+'mulated\x20AO'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SEPARATE_'+'AMBIENT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20dAmbie'+'ntLight:\x20v'+'ec3f\x20=\x20dDi'+'ffuseLight'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20unif'+'orm.materi'+'al_ambient'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20LI'+'T_OCCLUDE_'+'DIRECT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeDiff'+'use(litArg'+'s_ao);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTMAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20litArgs_l'+'ightmap,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmapDi'+'r,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dViewDirW,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dReflD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'BN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_irides'+'cence_inte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTING\x20||'+'\x20LIT_REFLE'+'CTIONS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddReflecti'+'onCC(ccRef'+'lDirW,\x20lit'+'Args_clear'+'coat_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'ccFresnel\x20'+'=\x20getFresn'+'elCC(dot(d'+'ViewDirW,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccRefle'+'ction\x20=\x20cc'+'Reflection'+'\x20*\x20ccFresn'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccFr'+'esnel\x20=\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'ection\x20=\x20c'+'cReflectio'+'n\x20*\x20litArg'+'s_specular'+'ityFactor;')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20addR'+'eflectionS'+'heen(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_sheen'+'_gloss);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20Fresne'+'l\x20has\x20to\x20b'+'e\x20applied\x20'+'to\x20reflect'+'ions\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'Reflection'+'(dReflDirW'+',\x20litArgs_'+'gloss);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_FRESNEL_'+'MODEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'dReflectio'+'n.rgb\x20*\x20li'+'tArgs_spec'+'ularity,\x20d'+'Reflection'+'.a);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve')+('c4f(dRefle'+'ction.rgb\x20'+'*\x20litArgs_'+'specularit'+'yFactor,\x20d'+'Reflection'+'.a);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20AREA'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20*'+'\x20litArgs_s'+'pecularity'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20evalua'+'te\x20materia'+'l\x20based\x20ar'+'ea\x20lights\x20'+'data,\x20shar'+'ed\x20by\x20all\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcLTCLight'+'Values(lit'+'Args_gloss'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20litArg'+'s_specular'+'ity,\x20litAr'+'gs_clearco'+'at_gloss,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20evalua'+'te\x20all\x20non'+'-clustered'+'\x20lights\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22lightEval'+'uationPS,\x20'+'LIGHT_COUN'+'T\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'USTERED_LI'+'GHTS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'ClusteredL'+'ights(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_CLEARCOAT'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20ccRe'+'flDirW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'litArgs_sp'+'ecularity,'+'\x20dVertexNo'+'rmalW,\x20dTB'+'N,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_sheen_'+'gloss,\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20AREA_LI'+'GHTS\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x20has'+'\x20to\x20be\x20acc'+'umulated\x20d'+'ifferently'+'\x20if\x20we\x20wan'+'t\x20area\x20lig'+'hts\x20to\x20loo'+'k\x20correct\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_clearc'+'oat_specul'+'arity\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20vec3(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addRefra'+'ction(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dViewDirW'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_specu'+'larity,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr')+('gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_tran'+'smission,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_ior,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_dispers'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'ambient\x20oc'+'clusion\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_OCCLU'+'DE_DIRECT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeD'+'iffuse(lit'+'Args_ao);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeSpec'+'ular(litAr'+'gs_gloss,\x20'+'litArgs_ao'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20*\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20!defi'+'ned(LIT_OP'+'ACITY_FADE'+'S_SPECULAR'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'==\x20NORMAL\x20'+'||\x20LIT_BLE'+'ND_TYPE\x20=='+'\x20PREMULTIP'+'LIED\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specLum:'+'\x20f32\x20=\x20dot'+'((dSpecula'+'rLight\x20+\x20d'+'Reflection'+'.rgb\x20*\x20dRe'+'flection.a'+'),\x20vec3f(\x20'+'0.2126,\x200.'+'7152,\x200.07'+'22\x20));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'Lum\x20=\x20spec'+'Lum\x20+\x20dot('+'ccSpecular'+'Light\x20*\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20+\x20'+'ccReflecti'+'on\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity,\x20vec3'+'f(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20c'+'lamp(litAr'+'gs_opacity'+'\x20+\x20gammaCo'+'rrectInput'+'(specLum),'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_opaci'+'ty\x20=\x20litAr'+'gs_opacity'+'\x20*\x20uniform'+'.material_'+'alphaFade;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20end\x20chunk'+'s\x20-\x20when\x20b'+'aking\x20ligh'+'tmap\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTMAP_B'+'AKING\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_COLOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22b'+'akeLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_LIGH'+'TMAP_BAKIN'+'G_DIR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22ba'+'keDirLmEnd'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'end\x20chunks'+'\x20-\x20in\x20all\x20'+'other\x20case'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'endPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22outpu'+'tAlphaPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_MSD'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20apply'+'Msdf(outpu'+'t.color);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22outp'+'utPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'debugOutpu'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHADOW_CA'+'TCHER\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20when\x20t'+'he\x20shadow\x20'+'catcher\x20is'+'\x20enabled\x20-'+'\x20accumulat'+'ed\x20shadows')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'vec3f(dSha'+'dowCatcher'+'),\x20output.'+'color.a);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),CD='\x0a\x0a//\x20globa'+'ls\x0avar<pri'+'vate>\x20sRef'+'lection:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'VertexNorm'+'alW:\x20vec3f'+';\x0avar<priv'+'ate>\x20dTang'+'entW:\x20vec3'+'f;\x0avar<pri'+'vate>\x20dBin'+'ormalW:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dV'+'iewDirW:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'ReflDirW:\x20'+'vec3f;\x0avar'+'<private>\x20'+'ccReflDirW'+':\x20vec3f;\x0a\x0a'+'//\x20Per-lig'+'ht\x20tempora'+'ries\x0avar<p'+'rivate>\x20dL'+'ightDirNor'+'mW:\x20vec3f;'+'\x0avar<priva'+'te>\x20dAtten'+':\x20f32;\x0a\x0a//'+'\x20Outputs\x0av'+'ar<private'+'>\x20dTBN:\x20ma'+'t3x3f;\x0avar'+'<private>\x20'+'dReflectio'+'n:\x20vec4f;\x0a'+'var<privat'+'e>\x20dDiffus'+'eLight:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccFres'+'nel:\x20f32;\x0a'+'var<privat'+'e>\x20ccRefle'+'ction:\x20vec'+'3f;\x0avar<pr'+'ivate>\x20ccS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccSpec'+'ularityNoF'+'res:\x20f32;\x0a'+'var<privat'+'e>\x20sSpecul'+'arLight:\x20v'+'ec3f;\x0a\x0a//\x20'+'FRAGMENT\x20S'+'HADER\x20INPU'+'TS:\x20UNIFOR'+'MS\x0a\x0a#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_dis'+'persion:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_al'+'phaFade:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_SSAO\x0a\x20\x20'+'\x20\x20var\x20ssao'+'Texture\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20ssaoT'+'extureSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20u'+'niform\x20ssa'+'oTextureSi'+'zeInv:\x20vec'+'2f;\x0a#endif'+'\x0a\x0a//\x20light'+'ing\x20and\x20sh'+'adowing\x20de'+('clarations'+'\x0a\x0a#ifdef\x20L'+'IT_SHADOW_'+'CATCHER\x0a\x20\x20'+'\x20\x20//\x20a\x20var'+'iable\x20to\x20a'+'ccumulate\x20'+'shadows\x20fo'+'r\x20shadow\x20c'+'atcher\x20mat'+'erials\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dShado'+'wCatcher:\x20'+'f32\x20=\x201.0;'+'\x0a#endif\x0a\x0a/'+'/\x20LOOP\x20-\x20u'+'niform\x20dec'+'larations\x20'+'for\x20all\x20no'+'n-clustere'+'d\x20lights\x0a#'+'if\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightDe'+'clarationP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'f\x20LIT_FRES'+'NEL_MODEL\x20'+'==\x20NONE\x20&&'+'\x20!defined('+'LIT_REFLEC'+'TIONS)\x20&&\x20'+'!defined(L'+'IT_DIFFUSE'+'_MAP)\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_OLD'+'_AMBIENT\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0a//'+'\x20lightmap\x20'+'baking\x0a#if'+'def\x20STD_LI'+'GHTMAP_DIR'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20bakeDir'+':\x20f32;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_ADD_AMBIE'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20ambie'+'ntBakeOccl'+'usionContr'+'ast:\x20f32;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20ambientB'+'akeOcclusi'+'onBrightne'+'ss:\x20f32;\x0a#'+'endif\x0a'),PD='\x0a\x0a@fragmen'+'t\x0afn\x20fragm'+'entMain(in'+'put:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ccSpecular'+'Light\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'Reflection'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_N'+'ONE_SLICE_'+'MODE\x20==\x20SL'+'ICED\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22startNi'+'neSlicedPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20LIT_NONE'+'_SLICE_MOD'+'E\x20==\x20TILED'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'tartNineSl'+'icedTiledP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'NEEDS_NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dVertexNo'+'rmalW\x20=\x20no'+'rmalize(vN'+'ormalW);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_T'+'ANGENTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_HEIG'+'HTS)\x20||\x20de'+'fined(LIT_'+'USE_NORMAL'+'S)\x20||\x20defi'+'ned(LIT_US'+'E_CLEARCOA'+'T_NORMALS)'+'\x20||\x20define'+'d(LIT_GGX_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dTan'+'gentW\x20=\x20vT'+'angentW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dBino'+'rmalW\x20=\x20vB'+'inormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20getView'+'Dir();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_TBN'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getTBN('+'dTangentW,'+'\x20dBinormal'+'W,\x20dVertex'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'andleTwoSi'+'dedLightin'+'g();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+('\x0a\x20\x20\x20\x20//\x20in'+'voke\x20front'+'end\x20functi'+'ons\x0a\x20\x20\x20\x20ev'+'aluateFron'+'tend();\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22debugPr'+'ocessFront'+'endPS\x22\x0a\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput\x20='+'\x20evaluateB'+'ackend();\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainEndP'+'S\x22\x0a\x0a\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a}\x0a'),MD='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20material_'+'ambient:\x20v'+'ec3f;\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_LIGHTING'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22light'+'SpecularAn'+'isoGGXPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tSpecularB'+'linnPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0a#include'+'\x20\x22combineP'+'S\x22\x0a\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapAddP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22am'+'bientPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_MS'+'DF\x0a\x20\x20\x20\x20#in'+'clude\x20\x22msd'+'fPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22viewDirPS'+'\x22\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_GGX_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirAni'+'soPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22reflDirP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20f'+'unctionali')+('ty\x0a#includ'+'e\x20\x22lightin'+'gPS\x22\x0a\x0a'),DD='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',ID='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',LD='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a#endif'+'\x0a\x0a#ifdef\x20N'+'INESLICED\x0a'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vMask:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20varying\x20v'+'TiledUv:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dMaskG'+'lobal:\x20vec'+'2f;\x0a\x20\x20\x20\x20va'+'r<private>'+'\x20dTiledUvG'+'lobal:\x20vec'+'2f;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'uterScale:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'atlasRect:'+'\x20vec4f;\x0a\x0a#'+'endif\x0a\x0avar'+'<private>\x20'+'dPositionW'+':\x20vec3f;\x0av'+'ar<private'+'>\x20dModelMa'+'trix:\x20mat4'+'x4f;\x0a\x0a#inc'+'lude\x20\x22tran'+'sformCoreV'+'S\x22\x0a\x0a#ifdef'+'\x20UV0\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ertex_texC'+'oord0:\x20vec'+'2f;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'rtex_texCo'+'ord1:\x20vec2'+'f;\x0a\x20\x20\x20\x20#in'+'clude\x20\x22uv1'+'VS\x22\x0a#endif'+'\x0a\x0a\x0a#ifdef\x20'+'LINEAR_DEP'+'TH\x0a\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'#define\x20VI'+'EWMATRIX\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22tran'+'sformVS\x22\x0a\x0a'+'#ifdef\x20NOR'+'MALS\x0a\x20\x20\x20\x20#'+'include\x20\x22n'+'ormalCoreV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malVS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20TANGENTS'+'\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_tangent:'+'\x20vec4f;\x0a#e'+'ndif\x0a\x0a//\x20e'+'xpand\x20unif'+'orms\x20for\x20u'+'v\x20transfor'+'ms\x0a#includ'+'e\x20\x22uvTrans'+'formUnifor'+'msPS,\x20UV_T'+'RANSFORMS_'+('COUNT\x22\x0a\x0a#i'+'fdef\x20MSDF\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22msdfVS'+'\x22\x0a#endif\x0a\x0a'+'#include\x20\x20'+'\x22litUserCo'+'deVS\x22\x0a\x0a@ve'+'rtex\x0afn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'MainStartV'+'S\x22\x0a\x0a\x20\x20\x20\x20va'+'r\x20output\x20:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20get'+'Position()'+';\x0a\x20\x20\x20\x20outp'+'ut.vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20NO'+'RMALS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vNormalW\x20'+'=\x20getNorma'+'l();\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TA'+'NGENTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vTangent'+'W\x20=\x20normal'+'ize(dNorma'+'lMatrix\x20*\x20'+'vertex_tan'+'gent.xyz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vBin'+'ormalW\x20=\x20c'+'ross(outpu'+'t.vNormalW'+',\x20output.v'+'TangentW)\x20'+'*\x20vertex_t'+'angent.w;\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(GG'+'X_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20UV0'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f\x20=\x20getU'+'v0();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20UV0_UNMOD'+'IFIED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20uv1:\x20vec2'+'f\x20=\x20getUv1'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20U'+'V1_UNMODIF'+'IED\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.vUv1\x20=\x20'+'uv1;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'xpand\x20code'+'\x20for\x20uv\x20tr'+'ansforms\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22uvTrans')+('formVS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20VERTEX_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition'+',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-(uniform'+'.matrix_vi'+'ew\x20*\x20vec4f'+'(output.vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MSDF\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unpac'+'kMsdfParam'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.outline_c'+'olor\x20=\x20dOu'+'tlineColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.out'+'line_thick'+'ness\x20=\x20dOu'+'tlineThick'+'ness;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.shadow_co'+'lor\x20=\x20dSha'+'dowColor;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.shado'+'w_offset\x20='+'\x20dShadowOf'+'fset;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vMask'+'\x20=\x20dMaskGl'+'obal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vTiledUv\x20'+'=\x20dTiledUv'+'Global;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndVS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),RD='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20evaluateF'+'rontend();'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20getP'+'ickOutput('+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20float2ve'+'c4(vLinear'+'Depth);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndPS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',OD='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avar<priva'+'te>\x20litArg'+'s_albedo:\x20'+'vec3f;\x0a\x0a//'+'\x20Transpare'+'ncy\x0avar<pr'+'ivate>\x20lit'+'Args_opaci'+'ty:\x20f32;\x0a\x0a'+'//\x20Emissio'+'n\x20color\x0ava'+'r<private>'+'\x20litArgs_e'+'mission:\x20v'+'ec3f;\x0a\x0a//\x20'+'Normal\x20dir'+'ection\x20in\x20'+'world\x20spac'+'e\x0avar<priv'+'ate>\x20litAr'+'gs_worldNo'+'rmal:\x20vec3'+'f;\x0a\x0a//\x20Amb'+'ient\x20occlu'+'sion\x20amoun'+'t,\x20range\x20['+'0..1]\x0avar<'+'private>\x20l'+'itArgs_ao:'+'\x20f32;\x0a\x0a//\x20'+'Light\x20map\x20'+'color\x0avar<'+'private>\x20l'+'itArgs_lig'+'htmap:\x20vec'+'3f;\x0a\x0a//\x20Li'+'ght\x20map\x20di'+'rection\x0ava'+'r<private>'+'\x20litArgs_l'+'ightmapDir'+':\x20vec3f;\x0a\x0a'+'//\x20Surface'+'\x20metalness'+'\x20factor,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_metalne'+'ss:\x20f32;\x0a\x0a'+'//\x20The\x20f0\x20'+'specularit'+'y\x20factor\x0av'+'ar<private'+'>\x20litArgs_'+'specularit'+'y:\x20vec3f;\x0a'+'\x0a//\x20Specul'+'arity\x20inte'+'nsity\x20fact'+'or,\x20range\x20'+'[0..1]\x0avar'+'<private>\x20'+'litArgs_sp'+'ecularityF'+'actor:\x20f32'+';\x0a\x0a//\x20The\x20'+'microfacet'+'\x20glossines'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0avar<pri'+'vate>\x20litA'+'rgs_gloss:'+'\x20f32;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_sheen'+'_gloss:\x20f3'+'2;\x0a\x0a//\x20The'+'\x20color\x20of\x20'+'the\x20f0\x20spe'+'cularity\x20f'+'actor\x20for\x20'+'the\x20sheen\x20'+'layer\x0avar<'+'private>\x20l'+'itArgs_she'+'en_specula'+'rity:\x20vec3'+'f;\x0a\x0a//\x20Tra'+'nsmission\x20'+'factor\x20(re'+('fraction),'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_trans'+'mission:\x20f'+'32;\x0a\x0a//\x20Un'+'iform\x20thic'+'kness\x20of\x20m'+'edium,\x20use'+'d\x20by\x20trans'+'mission,\x20r'+'ange\x20[0..i'+'nf]\x0avar<pr'+'ivate>\x20lit'+'Args_thick'+'ness:\x20f32;'+'\x0a\x0a//\x20Index'+'\x20of\x20refrac'+'tion\x0avar<p'+'rivate>\x20li'+'tArgs_ior:'+'\x20f32;\x0a\x0a//\x20'+'Dispersion'+',\x20range\x20[0'+'..1]\x20typic'+'ally,\x20but\x20'+'can\x20be\x20hig'+'her\x0avar<pr'+'ivate>\x20lit'+'Args_dispe'+'rsion:\x20f32'+';\x0a\x0a//\x20Irid'+'escence\x20ef'+'fect\x20inten'+'sity,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'iridescenc'+'e_intensit'+'y:\x20f32;\x0a\x0a/'+'/\x20Thicknes'+'s\x20of\x20the\x20i'+'ridescent\x20'+'microfilm\x20'+'layer,\x20val'+'ue\x20is\x20in\x20n'+'anometers,'+'\x20range\x20[0.'+'.1000]\x0avar'+'<private>\x20'+'litArgs_ir'+'idescence_'+'thickness:'+'\x20f32;\x0a\x0a//\x20'+'The\x20normal'+'\x20used\x20for\x20'+'the\x20clearc'+'oat\x20layer\x0a'+'var<privat'+'e>\x20litArgs'+'_clearcoat'+'_worldNorm'+'al:\x20vec3f;'+'\x0a\x0a//\x20Inten'+'sity\x20of\x20th'+'e\x20clearcoa'+'t\x20layer,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_clearco'+'at_specula'+'rity:\x20f32;'+'\x0a\x0a//\x20Gloss'+'iness\x20of\x20c'+'learcoat\x20l'+'ayer,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'clearcoat_'+'gloss:\x20f32'+';\x0a\x0a'),FD='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20t'+'extureBias'+':\x20f32\x20=\x20-1'+'000.0;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20texture'+'Bias:\x20f32;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ShaderArgs'+'PS\x22\x0a',ND='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20view_p'+'osition:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20li'+'ght_radius'+':\x20f32;\x0a#en'+'dif\x0a\x0a#if\x20S'+'HADOW_TYPE'+'\x20==\x20PCSS_3'+'2F\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lin'+'earizeDept'+'hPS\x22\x0a#endi'+'f\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serMainSta'+'rtPS\x22\x0a\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20/'+'/\x20using\x20no'+'n-standard'+'\x20depth,\x20i.'+'e\x20gl_FragC'+'oord.z\x0a\x20\x20\x20'+'\x20#ifdef\x20PE'+'RSPECTIVE_'+'DEPTH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20de'+'pth:\x20f32\x20='+'\x20input.pos'+'ition.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20PCS'+'S_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot/omni'+'\x20shadows\x20c'+'urrently\x20u'+'se\x20linear\x20'+'depth.\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20TODO:\x20us'+'e\x20perspect'+'ive\x20depth\x20'+'for\x20spot/o'+'mni\x20the\x20sa'+'me\x20way\x20as\x20'+'directiona'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT_TYPE\x20!'+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'depth\x20=\x20li'+'nearizeDep'+'thWithPara'+'ms(depth,\x20'+'camera_par'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20depth:\x20'+'f32\x20=\x20min('+'distance(u'+'niform.vie'+'w_position'+',\x20input.vP'+'ositionW)\x20'+'/\x20uniform.'+'light_radi'+'us,\x200.9999'+'9);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'MODIFIED_D'+'EPTH\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SHADO'+'W_TYPE\x20==\x20'+'VSM_16F\x20||'+'\x20SHADOW_TY'+('PE\x20==\x20VSM_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20SHAD'+'OW_TYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20expon'+'ent:\x20f32\x20='+'\x2015.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20exp'+'onent:\x20f32'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dep'+'th_vsm\x20=\x202'+'.0\x20*\x20depth'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dept'+'h_vsm\x20=\x20ex'+'p(exponent'+'\x20*\x20depth_v'+'sm);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(depth_'+'vsm,\x20depth'+'_vsm\x20*\x20dep'+'th_vsm,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20PCSS'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(de'+'pth,\x200.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MODIFI'+'ED_DEPTH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20If'+'\x20we\x20end\x20up'+'\x20using\x20mod'+'ified\x20dept'+'h,\x20it\x20need'+'s\x20to\x20be\x20ex'+'plicitly\x20w'+'ritten\x20to\x20'+'gl_FragDep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.frag'+'Depth\x20=\x20de'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'just\x20the\x20s'+'implest\x20co'+'de,\x20color\x20'+'is\x20not\x20wri'+'tten\x20anywa'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),kD='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0afn\x20'+'LTC_Uv(N:\x20'+'vec3f,\x20V:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20co'+'nst\x20LUT_SI'+'ZE:\x20f32\x20=\x20'+'64.0;\x0a\x20\x20\x20\x20'+'const\x20LUT_'+'SCALE:\x20f32'+'\x20=\x20(LUT_SI'+'ZE\x20-\x201.0)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_BIAS'+':\x20f32\x20=\x200.'+'5\x20/\x20LUT_SI'+'ZE;\x0a\x20\x20\x20\x20le'+'t\x20dotNV:\x20f'+'32\x20=\x20satur'+'ate(dot(\x20N'+',\x20V\x20));\x0a\x20\x20'+'\x20\x20//\x20textu'+'re\x20paramet'+'erized\x20by\x20'+'sqrt(\x20GGX\x20'+'alpha\x20)\x20an'+'d\x20sqrt(\x201\x20'+'-\x20cos(\x20the'+'ta\x20)\x20)\x0a\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20vec'+'2f(\x20roughn'+'ess,\x20sqrt('+'\x201.0\x20-\x20dot'+'NV\x20)\x20);\x0a\x20\x20'+'\x20\x20return\x20u'+'v\x20*\x20LUT_SC'+'ALE\x20+\x20LUT_'+'BIAS;\x0a}\x0a\x0af'+'n\x20LTC_Clip'+'pedSphereF'+'ormFactor('+'\x20f:\x20vec3f\x20'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20//\x20Re'+'al-Time\x20Ar'+'ea\x20Lightin'+'g:\x20a\x20Journ'+'ey\x20from\x20Re'+'search\x20to\x20'+'Production'+'\x20(p.102)\x0a\x20'+'\x20\x20\x20//\x20An\x20a'+'pproximati'+'on\x20of\x20the\x20'+'form\x20facto'+'r\x20of\x20a\x20hor'+'izon-clipp'+'ed\x20rectang'+'le.\x0a\x20\x20\x20\x20le'+'t\x20l:\x20f32\x20='+'\x20length(\x20f'+'\x20);\x0a\x20\x20\x20\x20re'+'turn\x20max(\x20'+'(\x20l\x20*\x20l\x20+\x20'+'f.z\x20)\x20/\x20(\x20'+'l\x20+\x201.0\x20),'+'\x200.0\x20);\x0a}\x0a'+'\x0afn\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'v1:\x20vec3f,'+'\x20v2:\x20vec3f'+'\x20)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20x:\x20f32\x20='+'\x20dot(\x20v1,\x20'+'v2\x20);\x0a\x20\x20\x20\x20'+'let\x20y:\x20f32'+('\x20=\x20abs(\x20x\x20'+');\x0a\x20\x20\x20\x20//\x20'+'rational\x20p'+'olynomial\x20'+'approximat'+'ion\x20to\x20the'+'ta\x20/\x20sin(\x20'+'theta\x20)\x20/\x20'+'2PI\x0a\x20\x20\x20\x20le'+'t\x20a:\x20f32\x20='+'\x200.8543985'+'\x20+\x20(\x200.496'+'5155\x20+\x200.0'+'145206\x20*\x20y'+'\x20)\x20*\x20y;\x0a\x20\x20'+'\x20\x20let\x20b:\x20f'+'32\x20=\x203.417'+'5940\x20+\x20(\x204'+'.1616724\x20+'+'\x20y\x20)\x20*\x20y;\x0a'+'\x20\x20\x20\x20let\x20v:'+'\x20f32\x20=\x20a\x20/'+'\x20b;\x0a\x20\x20\x20\x20le'+'t\x20inv_sqrt'+'_term\x20=\x20in'+'verseSqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7f\x20)\x20);\x0a'+'\x20\x20\x20\x20let\x20th'+'eta_sinthe'+'ta:\x20f32\x20=\x20'+'select(\x20(0'+'.5\x20*\x20inv_s'+'qrt_term\x20-'+'\x20v),\x20v,\x20x\x20'+'>\x200.0\x20);\x0a\x20'+'\x20\x20\x20return\x20'+'cross(\x20v1,'+'\x20v2\x20)\x20*\x20th'+'eta_sinthe'+'ta;\x0a}\x0a\x0astr'+'uct\x20Coords'+'\x20{\x0a\x20\x20\x20\x20coo'+'rd0:\x20vec3f'+',\x0a\x20\x20\x20\x20coor'+'d1:\x20vec3f,'+'\x0a\x20\x20\x20\x20coord'+'2:\x20vec3f,\x0a'+'\x20\x20\x20\x20coord3'+':\x20vec3f,\x0a}'+'\x0a\x0afn\x20LTC_E'+'valuateRec'+'t(\x20N:\x20vec3'+'f,\x20V:\x20vec3'+'f,\x20P:\x20vec3'+'f,\x20mInv:\x20m'+'at3x3f,\x20re'+'ctCoords:\x20'+'Coords)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20//\x20bail\x20i'+'f\x20point\x20is'+'\x20on\x20back\x20s'+'ide\x20of\x20pla'+'ne\x20of\x20ligh'+'t\x0a\x20\x20\x20\x20//\x20a'+'ssumes\x20ccw'+'\x20winding\x20o'+'rder\x20of\x20li'+'ght\x20vertic'+'es\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec3f'+'\x20=\x20rectCoo'+'rds.coord1'+'\x20-\x20rectCoo'+'rds.coord0'+';\x0a\x20\x20\x20\x20let\x20'+'v2:\x20vec3f\x20'+'=\x20rectCoor'+'ds.coord3\x20'+'-\x20rectCoor'+'ds.coord0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'lightNorma'+'l:\x20vec3f\x20='+'\x20cross(\x20v1'+',\x20v2\x20);\x0a\x20\x20'+'\x20\x20let\x20fact'+'or:\x20f32\x20=\x20'+'sign(-dot('+'\x20lightNorm'+'al,\x20P\x20-\x20re'+'ctCoords.c'+'oord0\x20));\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'nstruct\x20or'+'thonormal\x20'+'basis\x20arou'+'nd\x20N\x0a\x20\x20\x20\x20l')+('et\x20T1:\x20vec'+'3f\x20=\x20norma'+'lize(\x20V\x20-\x20'+'N\x20*\x20dot(\x20V'+',\x20N\x20)\x20);\x0a\x20'+'\x20\x20\x20let\x20T2:'+'\x20vec3f\x20=\x20f'+'actor\x20*\x20cr'+'oss(\x20N,\x20T1'+'\x20);\x20//\x20neg'+'ated\x20from\x20'+'paper;\x20pos'+'sibly\x20due\x20'+'to\x20a\x20diffe'+'rent\x20hande'+'dness\x20of\x20w'+'orld\x20coord'+'inate\x20syst'+'em\x0a\x20\x20\x20\x20//\x20'+'compute\x20tr'+'ansform\x0a\x20\x20'+'\x20\x20let\x20mat:'+'\x20mat3x3f\x20='+'\x20mInv\x20*\x20tr'+'anspose(\x20m'+'at3x3f(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'transform\x20'+'rect\x0a\x20\x20\x20\x20v'+'ar\x20coords:'+'\x20array<vec'+'3f,\x204>;\x0a\x20\x20'+'\x20\x20coords[0'+']\x20=\x20mat\x20*\x20'+'(\x20rectCoor'+'ds.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20coords[1]'+'\x20=\x20mat\x20*\x20('+'\x20rectCoord'+'s.coord1\x20-'+'\x20P\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20mat\x20*\x20(\x20'+'rectCoords'+'.coord2\x20-\x20'+'P\x20);\x0a\x20\x20\x20\x20c'+'oords[3]\x20='+'\x20mat\x20*\x20(\x20r'+'ectCoords.'+'coord3\x20-\x20P'+'\x20);\x0a\x20\x20\x20\x20//'+'\x20project\x20r'+'ect\x20onto\x20s'+'phere\x0a\x20\x20\x20\x20'+'coords[0]\x20'+'=\x20normaliz'+'e(\x20coords['+'0]\x20);\x0a\x20\x20\x20\x20'+'coords[1]\x20'+'=\x20normaliz'+'e(\x20coords['+'1]\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20normaliz'+'e(\x20coords['+'2]\x20);\x0a\x20\x20\x20\x20'+'coords[3]\x20'+'=\x20normaliz'+'e(\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20vector\x20'+'form\x20facto'+'r\x0a\x20\x20\x20\x20var\x20'+'vectorForm'+'Factor:\x20ve'+'c3f\x20=\x20vec3'+'f(\x200.0\x20);\x0a'+'\x20\x20\x20\x20vector'+'FormFactor'+'\x20=\x20vectorF'+'ormFactor\x20'+'+\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[0],\x20c'+'oords[1]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20=\x20vecto'+'rFormFacto'+'r\x20+\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'coords[1],'+'\x20coords[2]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa')+('ctor\x20=\x20vec'+'torFormFac'+'tor\x20+\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[2'+'],\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20=\x20v'+'ectorFormF'+'actor\x20+\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[3],\x20coord'+'s[0]\x20);\x0a\x20\x20'+'\x20\x20//\x20adjus'+'t\x20for\x20hori'+'zon\x20clippi'+'ng\x0a\x20\x20\x20\x20let'+'\x20result:\x20f'+'32\x20=\x20LTC_C'+'lippedSphe'+'reFormFact'+'or(\x20vector'+'FormFactor'+'\x20);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20resu'+'lt;\x0a}\x0a\x0avar'+'<private>\x20'+'dLTCCoords'+':\x20Coords;\x0a'+'fn\x20getLTCL'+'ightCoords'+'(lightPos:'+'\x20vec3f,\x20ha'+'lfWidth:\x20v'+'ec3f,\x20half'+'Height:\x20ve'+'c3f)\x20->\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20var\x20coord'+'s:\x20Coords;'+'\x0a\x20\x20\x20\x20coord'+'s.coord0\x20='+'\x20lightPos\x20'+'+\x20halfWidt'+'h\x20-\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd1\x20=\x20ligh'+'tPos\x20-\x20hal'+'fWidth\x20-\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20coord'+'s.coord2\x20='+'\x20lightPos\x20'+'-\x20halfWidt'+'h\x20+\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd3\x20=\x20ligh'+'tPos\x20+\x20hal'+'fWidth\x20+\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20retur'+'n\x20coords;\x0a'+'}\x0a\x0avar<pri'+'vate>\x20dSph'+'ereRadius:'+'\x20f32;\x0afn\x20g'+'etSphereLi'+'ghtCoords('+'lightPos:\x20'+'vec3f,\x20hal'+'fWidth:\x20ve'+'c3f,\x20halfH'+'eight:\x20vec'+'3f)\x20->\x20Coo'+'rds\x20{\x0a\x20\x20\x20\x20'+'//\x20used\x20fo'+'r\x20simple\x20s'+'phere\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20//\x20als'+'o,\x20the\x20cod'+'e\x20only\x20han'+'dles\x20a\x20sph'+'erical\x20lig'+'ht,\x20it\x20can'+'not\x20be\x20non'+'-uniformly'+'\x20scaled\x20in'+'\x20world\x20spa'+'ce,\x20and\x20so'+'\x20we\x20enforc'+'e\x20it\x20here\x0a'+'\x20\x20\x20\x20dSpher'+'eRadius\x20=\x20')+('max(length'+'(halfWidth'+'),\x20length('+'halfHeight'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20Billboar'+'d\x20the\x202d\x20l'+'ight\x20quad\x20'+'to\x20reflect'+'ion\x20vector'+',\x20as\x20it\x27s\x20'+'used\x20for\x20s'+'pecular.\x20T'+'his\x20allows'+'\x20us\x20to\x20use'+'\x20disk\x20math'+'\x20for\x20the\x20s'+'phere.\x0a\x20\x20\x20'+'\x20let\x20f:\x20ve'+'c3f\x20=\x20refl'+'ect(normal'+'ize(lightP'+'os\x20-\x20unifo'+'rm.view_po'+'sition),\x20v'+'NormalW);\x0a'+'\x20\x20\x20\x20let\x20w:'+'\x20vec3f\x20=\x20n'+'ormalize(c'+'ross(f,\x20ha'+'lfHeight))'+';\x0a\x20\x20\x20\x20let\x20'+'h:\x20vec3f\x20='+'\x20normalize'+'(cross(f,\x20'+'w));\x0a\x0a\x20\x20\x20\x20'+'return\x20get'+'LTCLightCo'+'ords(light'+'Pos,\x20w\x20*\x20d'+'SphereRadi'+'us,\x20h\x20*\x20dS'+'phereRadiu'+'s);\x0a}\x0a\x0a//\x20'+'used\x20for\x20L'+'TC\x20LUT\x20tex'+'ture\x20looku'+'p\x0avar<priv'+'ate>\x20dLTCU'+'V:\x20vec2f;\x0a'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20var<p'+'rivate>\x20cc'+'LTCUV:\x20vec'+'2f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightUV(g'+'loss:\x20f32,'+'\x20worldNorm'+'al:\x20vec3f,'+'\x20viewDir:\x20'+'vec3f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20roug'+'hness:\x20f32'+'\x20=\x20max((1.'+'0\x20-\x20gloss)'+'\x20*\x20(1.0\x20-\x20'+'gloss),\x200.'+'001);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_Uv(\x20world'+'Normal,\x20vi'+'ewDir,\x20rou'+'ghness\x20);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20energ'+'y\x20conserva'+'tion\x20and\x20t'+'o\x20modulate'+'\x20specular\x0a'+'var<privat'+'e>\x20dLTCSpe'+'cFres:\x20vec'+'3f;\x0a#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20v'+'ar<private'+'>\x20ccLTCSpe'+'cFres:\x20vec'+'3f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightSpec'+'Fres(uv:\x20v'+'ec2f,\x20spec'+'ularity:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20t2:\x20v')+('ec4f\x20=\x20tex'+'tureSample'+'Level(area'+'LightsLutT'+'ex2,\x20areaL'+'ightsLutTe'+'x2Sampler,'+'\x20uv,\x200.0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20specular'+'ity\x20*\x20t2.x'+'\x20+\x20(\x20vec3f'+'(\x201.0\x20)\x20-\x20'+'specularit'+'y)\x20*\x20t2.y;'+'\x0a}\x0a\x0afn\x20cal'+'cLTCLightV'+'alues(glos'+'s:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f,\x20specul'+'arity:\x20vec'+'3f,\x20clearc'+'oatGloss:\x20'+'f32,\x20clear'+'coatWorldN'+'ormal:\x20vec'+'3f,\x20clearc'+'oatSpecula'+'rity:\x20f32)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'UV\x20=\x20getLT'+'CLightUV(c'+'learcoatGl'+'oss,\x20clear'+'coatWorldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'SpecFres\x20='+'\x20getLTCLig'+'htSpecFres'+'(ccLTCUV,\x20'+'vec3f(clea'+'rcoatSpecu'+'larity));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0afn\x20cal'+'cDiskLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20cal'+'cRectLight'+'Values(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0afn\x20calc'+'SphereLigh'+'tValues(li'+'ghtPos:\x20ve'+'c3f,\x20halfW'+'idth:\x20vec3'+'f,\x20halfHei')+('ght:\x20vec3f'+')\x20{\x0a\x20\x20\x20\x20dL'+'TCCoords\x20='+'\x20getSphere'+'LightCoord'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0a\x0a/'+'/\x20An\x20exten'+'ded\x20versio'+'n\x20of\x20the\x20i'+'mplementat'+'ion\x20from\x20\x22'+'How\x20to\x20sol'+'ve\x20a\x20cubic'+'\x20equation,'+'\x20revisited'+'\x22\x0a//\x20http:'+'//momentsi'+'ngraphics.'+'de/?p=105\x0a'+'fn\x20SolveCu'+'bic(Coeffi'+'cient_in:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20pi:\x20'+'f32\x20=\x203.14'+'159;\x0a\x20\x20\x20\x20v'+'ar\x20Coeffic'+'ient\x20=\x20Coe'+'fficient_i'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t\x20=\x20vec4f('+'Coefficien'+'t.xyz\x20/\x20Co'+'efficient.'+'w,\x20Coeffic'+'ient.w);\x0a\x0a'+'\x20\x20\x20\x20//\x20Div'+'ide\x20middle'+'\x20coefficie'+'nts\x20by\x20thr'+'ee\x0a\x20\x20\x20\x20let'+'\x20new_yz:\x20v'+'ec2f\x20=\x20Coe'+'fficient.y'+'z\x20/\x203.0;\x0a\x20'+'\x20\x20\x20Coeffic'+'ient\x20=\x20vec'+'4f(Coeffic'+'ient.x,\x20ne'+'w_yz.x,\x20ne'+'w_yz.y,\x20Co'+'efficient.'+'w);\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20let\x20A:\x20'+'f32\x20=\x20Coef'+'ficient.w;'+'\x0a\x20\x20\x20\x20let\x20B'+':\x20f32\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20let'+'\x20C:\x20f32\x20=\x20'+'Coefficien'+'t.y;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20Coeffici'+'ent.x;\x0a\x0a\x20\x20'+'\x20\x20//\x20Compu'+'te\x20the\x20Hes'+'sian\x20and\x20t'+'he\x20discrim'+'inant\x0a\x20\x20\x20\x20'+'let\x20Delta:'+'\x20vec3f\x20=\x20v'+'ec3f(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20-Coeff'+'icient.z\x20*'+'\x20Coefficie'+'nt.z\x20+\x20Coe'+'fficient.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'-Coefficie'+'nt.y\x20*\x20Coe'+'fficient.z'+'\x20+\x20Coeffic'+'ient.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'vec2f(Coef'+'ficient.z,'+'\x20-Coeffici'+'ent.y),\x20Co'+'efficient.'+'xy)\x0a\x20\x20\x20\x20);')+('\x0a\x0a\x20\x20\x20\x20let\x20'+'Discrimina'+'nt:\x20f32\x20=\x20'+'dot(vec2f('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20var\x20xlc:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20var\x20xsc:'+'\x20vec2f;\x0a\x0a\x20'+'\x20\x20\x20//\x20Algo'+'rithm\x20A\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20A_a:'+'\x20f32\x20=\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_a:\x20f'+'32\x20=\x20Delta'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_a:'+'\x20f32\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20Theta:\x20f'+'32\x20=\x20atan2'+'(sqrt(Disc'+'riminant),'+'\x20-D_a)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sqr'+'t_neg_Ca\x20='+'\x20sqrt(-C_a'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20x_1a:'+'\x20f32\x20=\x202.0'+'\x20*\x20sqrt_ne'+'g_Ca\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x_3a:\x20f32'+'\x20=\x202.0\x20*\x20s'+'qrt_neg_Ca'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20xl:'+'\x20f32\x20=\x20sel'+'ect(x_3a,\x20'+'x_1a,\x20(x_1'+'a\x20+\x20x_3a)\x20'+'>\x202.0\x20*\x20B)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xlc\x20=\x20vec2'+'f(xl\x20-\x20B,\x20'+'A);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Al'+'gorithm\x20D\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20A_'+'d:\x20f32\x20=\x20D'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_d:\x20f'+'32\x20=\x20Delta'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_d:'+'\x20f32\x20=\x20-D\x20'+'*\x20Delta.y\x20'+'+\x202.0\x20*\x20C\x20'+'*\x20Delta.z;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Take\x20th'+'e\x20cubic\x20ro'+'ot\x20of\x20a\x20no'+'rmalized\x20c'+'omplex\x20num'+'ber\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20Thet'+'a:\x20f32\x20=\x20a'+'tan2(D\x20*\x20s'+'qrt(Discri'+'minant),\x20-'+'D_d)\x20/\x203.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20sqrt_'+'neg_Cd\x20=\x20s'+'qrt(-C_d);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20x_1d:\x20f'+'32\x20=\x202.0\x20*')+('\x20sqrt_neg_'+'Cd\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20x'+'_3d:\x20f32\x20='+'\x202.0\x20*\x20sqr'+'t_neg_Cd\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20xs:\x20f'+'32\x20=\x20selec'+'t(x_3d,\x20x_'+'1d,\x20x_1d\x20+'+'\x20x_3d\x20<\x202.'+'0\x20*\x20C);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xsc\x20'+'=\x20vec2f(-D'+',\x20xs\x20+\x20C);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20let\x20E:\x20f'+'32\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20let\x20F'+':\x20f32\x20=\x20-x'+'lc.x\x20*\x20xsc'+'.y\x20-\x20xlc.y'+'\x20*\x20xsc.x;\x0a'+'\x20\x20\x20\x20let\x20G:'+'\x20f32\x20=\x20\x20xl'+'c.x\x20*\x20xsc.'+'x;\x0a\x0a\x20\x20\x20\x20le'+'t\x20xmc:\x20vec'+'2f\x20=\x20vec2f'+'(C\x20*\x20F\x20-\x20B'+'\x20*\x20G,\x20-B\x20*'+'\x20F\x20+\x20C\x20*\x20E'+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20Root:\x20ve'+'c3f\x20=\x20vec3'+'f(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root\x20=\x20'+'Root.yxz;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root\x20=\x20Ro'+'ot.xzy;\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20Root;'+'\x0a}\x0a\x0afn\x20LTC'+'_EvaluateD'+'isk(N:\x20vec'+'3f,\x20V:\x20vec'+'3f,\x20P:\x20vec'+'3f,\x20Minv:\x20'+'mat3x3f,\x20p'+'oints:\x20Coo'+'rds)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20let\x20T1:\x20'+'vec3f\x20=\x20no'+'rmalize(V\x20'+'-\x20N\x20*\x20dot('+'V,\x20N));\x0a\x20\x20'+'\x20\x20let\x20T2:\x20'+'vec3f\x20=\x20cr'+'oss(N,\x20T1)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'rotate\x20are'+'a\x20light\x20in'+'\x20(T1,\x20T2,\x20'+'N)\x20basis\x0a\x20'+'\x20\x20\x20let\x20R:\x20'+'mat3x3f\x20=\x20'+'transpose('+'\x20mat3x3f(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20polygon\x20'+'(allocate\x20'+'5\x20vertices'+'\x20for\x20clipp')+('ing\x0a\x20\x20\x20\x20va'+'r\x20L_:\x20arra'+'y<vec3f,\x203'+'>;\x0a\x20\x20\x20\x20L_['+'0]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[1'+']\x20=\x20R\x20*\x20(\x20'+'points.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20L_[2]'+'\x20=\x20R\x20*\x20(\x20p'+'oints.coor'+'d2\x20-\x20P\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'it\x20ellipse'+'\x0a\x20\x20\x20\x20let\x20C'+':\x20vec3f\x20\x20='+'\x200.5\x20*\x20(L_'+'[0]\x20+\x20L_[2'+']);\x0a\x20\x20\x20\x20va'+'r\x20V1:\x20vec3'+'f\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[2]);\x0a\x20\x20\x20'+'\x20var\x20V2:\x20v'+'ec3f\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[0]);\x0a'+'\x0a\x20\x20\x20\x20let\x20C'+'_Minv:\x20vec'+'3f\x20\x20=\x20Minv'+'\x20*\x20C;\x0a\x20\x20\x20\x20'+'let\x20V1_Min'+'v:\x20vec3f\x20='+'\x20Minv\x20*\x20V1'+';\x0a\x20\x20\x20\x20let\x20'+'V2_Minv:\x20v'+'ec3f\x20=\x20Min'+'v\x20*\x20V2;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20var\x20a:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20b:\x20f32;\x0a'+'\x20\x20\x20\x20let\x20d1'+'1:\x20f32\x20=\x20d'+'ot(V1_Minv'+',\x20V1_Minv)'+';\x0a\x20\x20\x20\x20let\x20'+'d22:\x20f32\x20='+'\x20dot(V2_Mi'+'nv,\x20V2_Min'+'v);\x0a\x20\x20\x20\x20le'+'t\x20d12:\x20f32'+'\x20=\x20dot(V1_'+'Minv,\x20V2_M'+'inv);\x0a\x20\x20\x20\x20'+'if\x20(abs(d1'+'2)\x20/\x20sqrt('+'d11\x20*\x20d22)'+'\x20>\x200.0001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20tr:\x20f'+'32\x20=\x20d11\x20+'+'\x20d22;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'t_inner:\x20f'+'32\x20=\x20-d12\x20'+'*\x20d12\x20+\x20d1'+'1\x20*\x20d22;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20det:\x20f32\x20'+'=\x20sqrt(det'+'_inner);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20u:\x20f32\x20=\x20'+'0.5\x20*\x20sqrt'+'(tr\x20-\x202.0\x20'+'*\x20det);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'v:\x20f32\x20=\x200'+'.5\x20*\x20sqrt('+'tr\x20+\x202.0\x20*'+'\x20det);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20e'+'_max:\x20f32\x20'+'=\x20(u\x20+\x20v)\x20'+'*\x20(u\x20+\x20v);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20e_min:\x20'+'f32\x20=\x20(u\x20-'+'\x20v)\x20*\x20(u\x20-'+'\x20v);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20V1'+'_:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va')+('r\x20V2_:\x20vec'+'3f;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(d11'+'\x20>\x20d22)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V1_\x20=\x20d1'+'2\x20*\x20V1_Min'+'v\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2_Minv;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20V2_\x20=\x20d12'+'\x20*\x20V1_Minv'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2_Minv;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12*V2_'+'Minv\x20+\x20(e_'+'max\x20-\x20d22)'+'*V1_Minv;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V2_\x20=\x20d1'+'2*V2_Minv\x20'+'+\x20(e_min\x20-'+'\x20d22)*V1_M'+'inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20e_max;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20b'+'\x20=\x201.0\x20/\x20e'+'_min;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20V1\x20=\x20n'+'ormalize(V'+'1_);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20V2\x20=\x20no'+'rmalize(V2'+'_);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1_Minv,\x20V1'+'_Minv);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2_Minv,\x20V'+'2_Minv);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'=\x20V1_Minv\x20'+'*\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20=\x20V2_Min'+'v\x20*\x20sqrt(b'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20V3'+':\x20vec3f\x20=\x20'+'normalize('+'cross(V1,\x20'+'V2));\x0a\x20\x20\x20\x20'+'if\x20(dot(C_'+'Minv,\x20V3)\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V3\x20'+'=\x20V3\x20*\x20-1.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20let\x20L:'+'\x20f32\x20\x20=\x20do'+'t(V3,\x20C_Mi'+'nv);\x0a\x20\x20\x20\x20l'+'et\x20x0:\x20f32'+'\x20=\x20dot(V1,'+'\x20C_Minv)\x20/'+'\x20L;\x0a\x20\x20\x20\x20le'+'t\x20y0:\x20f32\x20'+'=\x20dot(V2,\x20'+'C_Minv)\x20/\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20E1:\x20f32\x20'+'=\x20inverseS'+'qrt(a);\x0a\x20\x20'+'\x20\x20let\x20E2:\x20'+'f32\x20=\x20inve'+'rseSqrt(b)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20a_scaled\x20'+'=\x20a\x20*\x20L\x20*\x20'+'L;\x0a\x20\x20\x20\x20let'+'\x20b_scaled\x20'+'=\x20b\x20*\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20c0:\x20f32\x20'+'=\x20a_scaled'+'\x20*\x20b_scale'+'d;\x0a\x20\x20\x20\x20let'+'\x20c1:\x20f32\x20='+'\x20a_scaled\x20'+'*\x20b_scaled')+('\x20*\x20(1.0\x20+\x20'+'x0\x20*\x20x0\x20+\x20'+'y0\x20*\x20y0)\x20-'+'\x20a_scaled\x20'+'-\x20b_scaled'+';\x0a\x20\x20\x20\x20let\x20'+'c2:\x20f32\x20=\x20'+'1.0\x20-\x20a_sc'+'aled\x20*\x20(1.'+'0\x20+\x20x0\x20*\x20x'+'0)\x20-\x20b_sca'+'led\x20*\x20(1.0'+'\x20+\x20y0\x20*\x20y0'+');\x0a\x20\x20\x20\x20let'+'\x20c3:\x20f32\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20let\x20roots'+':\x20vec3f\x20=\x20'+'SolveCubic'+'(vec4f(c0,'+'\x20c1,\x20c2,\x20c'+'3));\x0a\x20\x20\x20\x20l'+'et\x20e1:\x20f32'+'\x20=\x20roots.x'+';\x0a\x20\x20\x20\x20let\x20'+'e2:\x20f32\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20let\x20e3:'+'\x20f32\x20=\x20roo'+'ts.z;\x0a\x0a\x20\x20\x20'+'\x20var\x20avgDi'+'r:\x20vec3f\x20='+'\x20vec3f(a_s'+'caled\x20*\x20x0'+'\x20/\x20(a_scal'+'ed\x20-\x20e2),\x20'+'b_scaled\x20*'+'\x20y0\x20/\x20(b_s'+'caled\x20-\x20e2'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20let\x20ro'+'tate:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20let\x20L'+'1:\x20f32\x20=\x20s'+'qrt(-e2\x20/\x20'+'e3);\x0a\x20\x20\x20\x20l'+'et\x20L2:\x20f32'+'\x20=\x20sqrt(-e'+'2\x20/\x20e1);\x0a\x0a'+'\x20\x20\x20\x20let\x20fo'+'rmFactor:\x20'+'f32\x20=\x20max('+'0.0,\x20L1\x20*\x20'+'L2\x20*\x20inver'+'seSqrt((1.'+'0\x20+\x20L1\x20*\x20L'+'1)\x20*\x20(1.0\x20'+'+\x20L2\x20*\x20L2)'+'));\x0a\x0a\x20\x20\x20\x20c'+'onst\x20LUT_S'+'IZE_disk:\x20'+'f32\x20=\x2064.0'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_SCAL'+'E_disk:\x20f3'+'2\x20=\x20(\x20LUT_'+'SIZE_disk\x20'+'-\x201.0\x20)\x20/\x20'+'LUT_SIZE_d'+'isk;\x0a\x20\x20\x20\x20c'+'onst\x20LUT_B'+'IAS_disk:\x20'+'f32\x20=\x200.5\x20'+'/\x20LUT_SIZE'+'_disk;\x0a\x0a\x20\x20'+'\x20\x20//\x20use\x20t'+'abulated\x20h'+'orizon-cli'+'pped\x20spher'+'e\x0a\x20\x20\x20\x20var\x20'+'uv:\x20vec2f\x20'+'=\x20vec2f(av'+'gDir.z\x20*\x200'+'.5\x20+\x200.5,\x20'+'formFactor'+');\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20LUT'+'_SCALE_dis'+'k\x20+\x20LUT_BI'+'AS_disk;\x0a\x0a'+'\x20\x20\x20\x20let\x20sc')+('ale:\x20f32\x20='+'\x20textureSa'+'mpleLevel('+'areaLights'+'LutTex2,\x20a'+'reaLightsL'+'utTex2Samp'+'ler,\x20uv,\x200'+'.0).w;\x0a\x0a\x20\x20'+'\x20\x20return\x20f'+'ormFactor\x20'+'*\x20scale;\x0a}'+'\x0a\x0a//\x20LTC_E'+'valuateDis'+'k\x20in\x20some\x20'+'rare\x20cases'+'\x20genereate'+'s\x20NaN\x20valu'+'es\x20in\x20a\x20or'+'\x20b,\x20just\x20b'+'efore\x20\x27flo'+'at\x20c0\x20=\x20a\x20'+'*\x20b;\x27\x0a//\x20G'+'et\x20rid\x20of\x20'+'those\x20Nan\x20'+'values\x20bef'+'ore\x20they\x20p'+'ropagate\x20f'+'urther,\x20as'+'\x20in\x20case\x20o'+'f\x20bloom\x20/\x20'+'DOF\x20blurs\x20'+'they\x0a//\x20pr'+'opagate\x20to'+'\x20large\x20are'+'as.\x20I\x20didn'+'\x27t\x20find\x20th'+'e\x20actual\x20r'+'eason\x20wher'+'e\x20those\x20co'+'me\x20from,\x20s'+'o\x20that\x20is\x20'+'still\x20TODO'+'.\x0a//\x20Note\x20'+'that\x20only\x20'+'disk/spher'+'e\x20lights\x20a'+'re\x20causing'+'\x20it,\x20so\x20on'+'ly\x20handle\x20'+'those.\x0afn\x20'+'FixNan(val'+'ue:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20v'+'alue\x20!=\x20va'+'lue\x20check\x20'+'for\x20NaN\x20as'+'\x20isnan()\x20i'+'s\x20not\x20avai'+'lable\x20in\x20W'+'GSL\x0a\x20\x20\x20\x20re'+'turn\x20selec'+'t(value,\x200'+'.0,\x20value\x20'+'!=\x20value);'+'\x0a}\x0a\x0afn\x20get'+'RectLightD'+'iffuse(wor'+'ldNormal:\x20'+'vec3f,\x20vie'+'wDir:\x20vec3'+'f,\x20lightDi'+'r:\x20vec3f,\x20'+'lightDirNo'+'rm:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20id'+'entityMat\x20'+'=\x20mat3x3f('+'vec3f(1.0,'+'\x200.0,\x200.0)'+',\x20vec3f(0.'+'0,\x201.0,\x200.'+'0),\x20vec3f('+'0.0,\x200.0,\x20'+'1.0));\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'identityMa'+'t,\x20dLTCCoo'+'rds\x20);\x0a}\x0a\x0a'+'fn\x20getDisk'+'LightDiffu'+'se(worldNo'+'rmal:\x20vec3')+('f,\x20viewDir'+':\x20vec3f,\x20l'+'ightDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20identi'+'tyMat\x20=\x20ma'+'t3x3f(vec3'+'f(1.0,\x200.0'+',\x200.0),\x20ve'+'c3f(0.0,\x201'+'.0,\x200.0),\x20'+'vec3f(0.0,'+'\x200.0,\x201.0)'+');\x0a\x20\x20\x20\x20ret'+'urn\x20FixNan'+'(LTC_Evalu'+'ateDisk(\x20w'+'orldNormal'+',\x20viewDir,'+'\x20vPosition'+'W,\x20identit'+'yMat,\x20dLTC'+'Coords\x20));'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tDiffuse(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20let\x20fall'+'off:\x20f32\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20FixNan(ge'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNorm)\x20'+'*\x20falloff)'+';\x0a}\x0a\x0afn\x20ge'+'tLTCLightI'+'nvMat(uv:\x20'+'vec2f)\x20->\x20'+'mat3x3f\x20{\x0a'+'\x20\x20\x20\x20let\x20t1'+':\x20vec4f\x20=\x20'+'textureSam'+'pleLevel(a'+'reaLightsL'+'utTex1,\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er,\x20uv,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(\x20'+'t1.x,\x200.0,'+'\x20t1.y\x20),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(\x200.0,\x201'+'.0,\x200.0\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(\x20t1.z'+',\x200.0,\x20t1.'+'w\x20)\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight')+('InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getRectLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20cal'+'cDiskLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getDiskLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcDiskLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tSpecular('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'DiskLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir,\x20'+'dLTCUV);\x0a}'+'\x0a'),UD='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_me'+'talness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getMe'+'talness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'metalness:'+'\x20f32\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20metal'+'ness\x20=\x20met'+'alness\x20*\x20u'+'niform.mat'+'erial_meta'+'lness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'metalness\x20'+'=\x20metalnes'+'s\x20*\x20textur'+'eSampleBia'+'s({STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+',\x20{STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_METALN'+'ESS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_METALNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_VE'+'RTEX\x0a\x20\x20\x20\x20m'+'etalness\x20='+'\x20metalness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'METALNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dMetal'+'ness\x20=\x20met'+'alness;\x0a}\x0a',BD='\x0avar\x20textu'+'re_msdfMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20texture'+'_msdfMapSa'+'mpler:\x20sam'+'pler;\x0a\x0afn\x20'+'median(r:\x20'+'f32,\x20g:\x20f3'+'2,\x20b:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(min(r'+',\x20g),\x20min('+'max(r,\x20g),'+'\x20b));\x0a}\x0a\x0af'+'n\x20map(min:'+'\x20f32,\x20max:'+'\x20f32,\x20v:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(v\x20-\x20m'+'in)\x20/\x20(max'+'\x20-\x20min);\x0a}'+'\x0a\x0auniform\x20'+'font_sdfIn'+'tensity:\x20f'+'32;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20font_px'+'range:\x20f32'+';\x20\x20\x20\x20\x20\x20//\x20'+'the\x20number'+'\x20of\x20pixels'+'\x20between\x20i'+'nside\x20and\x20'+'outside\x20th'+'e\x20font\x20in\x20'+'SDF\x0aunifor'+'m\x20font_tex'+'tureWidth:'+'\x20f32;\x20//\x20t'+'he\x20width\x20o'+'f\x20the\x20text'+'ure\x20atlas\x0a'+'\x0a#ifndef\x20L'+'IT_MSDF_TE'+'XT_ATTRIBU'+'TE\x0a\x20\x20\x20\x20uni'+'form\x20outli'+'ne_color:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'utline_thi'+'ckness:\x20f3'+'2;\x0a\x20\x20\x20\x20uni'+'form\x20shado'+'w_color:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'uniform\x20sh'+'adow_offse'+'t:\x20vec2f;\x0a'+'#else\x0a\x20\x20\x20\x20'+'varying\x20ou'+'tline_colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20outline_'+'thickness:'+'\x20f32;\x0a\x20\x20\x20\x20'+'varying\x20sh'+'adow_color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20varying'+'\x20shadow_of'+'fset:\x20vec2'+'f;\x0a#endif\x0a'+'\x0afn\x20applyM'+'sdf(color_'+'in:\x20vec4f)'+'\x20->\x20vec4f\x20'+'{\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_M'+'SDF_TEXT_A'+'TTRIBUTE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20uniform.'+'outline_co'+'lor;\x0a\x20\x20\x20\x20\x20'+('\x20\x20\x20var\x20out'+'line_thick'+'nessValue\x20'+'=\x20uniform.'+'outline_th'+'ickness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_co'+'lorValue\x20='+'\x20uniform.s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_offsetVa'+'lue\x20=\x20unif'+'orm.shadow'+'_offset;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utline_thi'+'cknessValu'+'e\x20=\x20outlin'+'e_thicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_colorVal'+'ue\x20=\x20shado'+'w_color;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_of'+'fsetValue\x20'+'=\x20shadow_o'+'ffset;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20Conv'+'ert\x20to\x20lin'+'ear\x20space\x20'+'before\x20pro'+'cessing\x0a\x20\x20'+'\x20\x20//\x20TODO:'+'\x20ideally\x20t'+'his\x20would\x20'+'receive\x20th'+'e\x20color\x20in'+'\x20linear\x20sp'+'ace,\x20but\x20t'+'hat\x20would\x20'+'require\x20la'+'rger\x20chang'+'es\x0a\x20\x20\x20\x20//\x20'+'on\x20the\x20eng'+'ine\x20side,\x20'+'with\x20the\x20w'+'ay\x20premult'+'iplied\x20alp'+'ha\x20is\x20hand'+'led\x20as\x20wel'+'l.\x0a\x20\x20\x20\x20var'+'\x20color\x20=\x20v'+'ec4f(gamma'+'CorrectInp'+'utVec3(col'+'or_in.rgb)'+',\x20color_in'+'.a);\x0a\x0a\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20field\x0a'+'\x20\x20\x20\x20let\x20ts'+'ample:\x20vec'+'3f\x20=\x20textu'+'reSample(t'+'exture_msd'+'fMap,\x20text'+'ure_msdfMa'+'pSampler,\x20'+'vUv0).rgb;'+'\x0a\x20\x20\x20\x20let\x20u'+'vShdw:\x20vec'+'2f\x20=\x20vUv0\x20'+'-\x20shadow_o'+'ffsetValue'+';\x0a\x20\x20\x20\x20let\x20'+'ssample:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'(texture_m'+'sdfMap,\x20te'+'xture_msdf'+'MapSampler'+',\x20uvShdw).'+'rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20get\x20the'+'\x20signed\x20di'+'stance\x20val'+'ue\x0a\x20\x20\x20\x20let')+('\x20sigDist:\x20'+'f32\x20=\x20medi'+'an(tsample'+'.r,\x20tsampl'+'e.g,\x20tsamp'+'le.b);\x0a\x20\x20\x20'+'\x20var\x20sigDi'+'stShdw:\x20f3'+'2\x20=\x20median'+'(ssample.r'+',\x20ssample.'+'g,\x20ssample'+'.b);\x0a\x0a\x20\x20\x20\x20'+'//\x20smoothi'+'ng\x20limit\x20-'+'\x20smaller\x20v'+'alue\x20makes'+'\x20for\x20sharp'+'er\x20but\x20mor'+'e\x20aliased\x20'+'text,\x20espe'+'cially\x20on\x20'+'angles\x0a\x20\x20\x20'+'\x20//\x20too\x20la'+'rge\x20value\x20'+'(0.5)\x20crea'+'tes\x20a\x20dark'+'\x20glow\x20arou'+'nd\x20the\x20let'+'ters\x0a\x20\x20\x20\x20l'+'et\x20smoothi'+'ngMax:\x20f32'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20let'+'\x20w:\x20vec2f\x20'+'=\x20abs(dpdx'+'(vUv0))\x20+\x20'+'abs(dpdy(v'+'Uv0));\x0a\x20\x20\x20'+'\x20let\x20smoot'+'hing:\x20f32\x20'+'=\x20clamp(w.'+'x\x20*\x20unifor'+'m.font_tex'+'tureWidth\x20'+'/\x20uniform.'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20l'+'et\x20mapMin:'+'\x20f32\x20=\x200.0'+'5;\x0a\x20\x20\x20\x20let'+'\x20mapMax:\x20f'+'32\x20=\x20clamp'+'(1.0\x20-\x20uni'+'form.font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20let\x20si'+'gDistInner'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist);\x0a\x20\x20'+'\x20\x20let\x20sigD'+'istOutline'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'knessValue'+');\x0a\x20\x20\x20\x20sig'+'DistShdw\x20='+'\x20map(mapMi'+'n,\x20mapMax,'+'\x20sigDistSh'+'dw\x20+\x20outli'+'ne_thickne'+'ssValue);\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'enter:\x20f32'+'\x20=\x200.5;\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20smoot'+'hing\x20and\x20u'+'se\x20to\x20gene')+('rate\x20opaci'+'ty\x0a\x20\x20\x20\x20let'+'\x20inside:\x20f'+'32\x20=\x20smoot'+'hstep(cent'+'er\x20-\x20smoot'+'hing,\x20cent'+'er\x20+\x20smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20let\x20o'+'utline:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stOutline)'+';\x0a\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20let\x20tc'+'olor_outli'+'ne:\x20vec4f\x20'+'=\x20outline\x20'+'*\x20vec4f(ou'+'tline_colo'+'rValue.a\x20*'+'\x20outline_c'+'olorValue.'+'rgb,\x20outli'+'ne_colorVa'+'lue.a);\x0a\x20\x20'+'\x20\x20var\x20tcol'+'or:\x20vec4f\x20'+'=\x20select(v'+'ec4f(0.0),'+'\x20tcolor_ou'+'tline,\x20out'+'line\x20>\x20ins'+'ide);\x0a\x20\x20\x20\x20'+'tcolor\x20=\x20m'+'ix(tcolor,'+'\x20color,\x20in'+'side);\x0a\x0a\x20\x20'+'\x20\x20let\x20scol'+'or_shadow:'+'\x20vec4f\x20=\x20s'+'hadow\x20*\x20ve'+'c4f(shadow'+'_colorValu'+'e.a\x20*\x20shad'+'ow_colorVa'+'lue.rgb,\x20s'+'hadow_colo'+'rValue.a);'+'\x0a\x20\x20\x20\x20let\x20s'+'color:\x20vec'+'4f\x20=\x20selec'+'t(tcolor,\x20'+'scolor_sha'+'dow,\x20shado'+'w\x20>\x20outlin'+'e);\x0a\x20\x20\x20\x20tc'+'olor\x20=\x20mix'+'(scolor,\x20t'+'color,\x20out'+'line);\x0a\x0a\x20\x20'+'\x20\x20//\x20Conve'+'rt\x20back\x20to'+'\x20gamma\x20spa'+'ce\x20before\x20'+'returning\x0a'+'\x20\x20\x20\x20tcolor'+'\x20=\x20vec4f(g'+'ammaCorrec'+'tOutput(tc'+'olor.rgb),'+'\x20tcolor.a)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),zD='\x0a\x0afn\x20getSp'+'ecularModu'+'late(specu'+'larity:\x20ve'+'c3f,\x20albed'+'o:\x20vec3f,\x20'+'metalness:'+'\x20f32,\x20f0:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20dielec'+'tricF0:\x20ve'+'c3f\x20=\x20f0\x20*'+'\x20speculari'+'ty;\x0a\x20\x20\x20\x20re'+'turn\x20mix(d'+'ielectricF'+'0,\x20albedo,'+'\x20metalness'+');\x0a}\x0a\x0afn\x20g'+'etAlbedoMo'+'dulate(alb'+'edo:\x20vec3f'+',\x20metalnes'+'s:\x20f32)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'albedo\x20*\x20('+'1.0\x20-\x20meta'+'lness);\x0a}\x0a',VD='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var\x20morph'+'Texture:\x20t'+'exture_2d_'+'array<f32>'+';\x0a\x20\x20\x20\x20unif'+'orm\x20morphF'+'actor:\x20arr'+'ay<f32,\x20{M'+'ORPH_TEXTU'+'RE_MAX_COU'+'NT}>;\x0a\x20\x20\x20\x20'+'uniform\x20mo'+'rphIndex:\x20'+'array<u32,'+'\x20{MORPH_TE'+'XTURE_MAX_'+'COUNT}>;\x0a\x20'+'\x20\x20\x20uniform'+'\x20count:\x20u3'+'2;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x0a\x20\x20'+'\x20\x20fn\x20fragm'+'entMain(in'+'put\x20:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20color\x20='+'\x20vec3f(0,\x20'+'0,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20t'+'extureDims'+'\x20=\x20texture'+'Dimensions'+'(morphText'+'ure);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20pi'+'xelCoords\x20'+'=\x20vec2i(in'+'put.uv0\x20*\x20'+'vec2f(text'+'ureDims));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'u32\x20=\x200;\x20i'+'\x20<\x20uniform'+'.count;\x20i\x20'+'=\x20i\x20+\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'tureIndex:'+'\x20u32\x20=\x20uni'+'form.morph'+'Index[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20delta\x20'+'=\x20textureL'+'oad(morphT'+'exture,\x20pi'+'xelCoords,'+'\x20textureIn'+'dex,\x200).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20+=\x20unifor'+'m.morphFac'+'tor[i].ele'+'ment\x20*\x20del'+'ta;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'color,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',GD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',HD='\x0aattribute'+'\x20vertex_ou'+'tlineParam'+'eters:\x20vec'+'3f;\x0aattrib'+'ute\x20vertex'+'_shadowPar'+'ameters:\x20v'+'ec3f;\x0a\x0avar'+'ying\x20outli'+'ne_color:\x20'+'vec4f;\x0avar'+'ying\x20outli'+'ne_thickne'+'ss:\x20f32;\x0av'+'arying\x20sha'+'dow_color:'+'\x20vec4f;\x0ava'+'rying\x20shad'+'ow_offset:'+'\x20vec2f;\x0a\x0av'+'ar<private'+'>\x20dOutline'+'Color:\x20vec'+'4f;\x0avar<pr'+'ivate>\x20dOu'+'tlineThick'+'ness:\x20f32;'+'\x0avar<priva'+'te>\x20dShado'+'wColor:\x20ve'+'c4f;\x0avar<p'+'rivate>\x20dS'+'hadowOffse'+'t:\x20vec2f;\x0a'+'\x0afn\x20unpack'+'MsdfParams'+'()\x20{\x0a\x20\x20\x20\x20l'+'et\x20little:'+'\x20vec3f\x20=\x20v'+'ertex_outl'+'ineParamet'+'ers\x20%\x20vec3'+'f(256.0);\x0a'+'\x20\x20\x20\x20let\x20bi'+'g:\x20vec3f\x20='+'\x20(vertex_o'+'utlinePara'+'meters\x20-\x20l'+'ittle)\x20/\x202'+'56.0;\x0a\x0a\x20\x20\x20'+'\x20dOutlineC'+'olor\x20=\x20vec'+'4f(little.'+'x,\x20big.x,\x20'+'little.y,\x20'+'big.y)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20//\x20_outli'+'neThicknes'+'sScale\x20==='+'\x200.2\x0a\x20\x20\x20\x20d'+'OutlineThi'+'ckness\x20=\x20l'+'ittle.z\x20/\x20'+'255.0\x20*\x200.'+'2;\x0a\x0a\x20\x20\x20\x20le'+'t\x20little_s'+'hadow\x20=\x20ve'+'rtex_shado'+'wParameter'+'s\x20%\x20vec3f('+'256.0);\x0a\x20\x20'+'\x20\x20let\x20big_'+'shadow\x20=\x20('+'vertex_sha'+'dowParamet'+'ers\x20-\x20litt'+'le_shadow)'+'\x20/\x20256.0;\x0a'+'\x0a\x20\x20\x20\x20dShad'+'owColor\x20=\x20'+'vec4f(litt'+'le_shadow.'+'x,\x20big_sha'+'dow.x,\x20lit'+'tle_shadow'+'.y,\x20big_sh'+'adow.y)\x20/\x20'+'255.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+('ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20dShad'+'owOffset\x20='+'\x20(vec2f(li'+'ttle_shado'+'w.z,\x20big_s'+'hadow.z)\x20/'+'\x20127.0\x20-\x201'+'.0)\x20*\x200.00'+'5;\x0a}\x0a'),WD='\x0avar<priva'+'te>\x20dNorma'+'lMatrix:\x20m'+'at3x3f;\x0a\x0af'+'n\x20getNorma'+'l()\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20d'+'NormalMatr'+'ix\x20=\x20getNo'+'rmalMatrix'+'(dModelMat'+'rix);\x0a\x20\x20\x20\x20'+'let\x20localN'+'ormal:\x20vec'+'3f\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}',$D='\x0a\x0aattribut'+'e\x20vertex_n'+'ormal:\x20vec'+'3f;\x0a\x0aunifo'+'rm\x20matrix_'+'normal:\x20ma'+'t3x3f;\x0a\x0a#i'+'fdef\x20MORPH'+'ING_NORMAL'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MORPHING'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20mor'+'phNormalTe'+'x:\x20texture'+'_2d<u32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphNor'+'malTexSamp'+'ler:\x20sampl'+'er;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hNormalTex'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20morphNorm'+'alTexSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0afn\x20getLo'+'calNormal('+'vertexNorm'+'al:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20localNorm'+'al:\x20vec3f\x20'+'=\x20vertexNo'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20mor'+'phUV:\x20vec2'+'i\x20=\x20getTex'+'tureMorphC'+'oords();\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_INT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20morphN'+'ormalInt:\x20'+'vec4u\x20=\x20te'+'xtureLoad('+'morphNorma'+'lTex,\x20morp'+'hUV,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20morph'+'NormalF:\x20v'+'ec3f\x20=\x20vec'+'3f(morphNo'+'rmalInt.xy'+'z)\x20/\x2065535'+'.0\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormalF;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'morphNorma'+'l:\x20vec3f\x20='+'\x20textureLo'+'ad(morphNo'+'rmalTex,\x20m'+'orphUV,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormal;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20lo'+'calNormal;'+'\x0a}\x0a\x0a#if\x20de'+'fined(SKIN'+')\x20||\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20fn\x20get'+('NormalMatr'+'ix(modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ma'+'t3x3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3x3f'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20fn'+'\x20getNormal'+'Matrix(mod'+'elMatrix:\x20'+'mat4x4f)\x20-'+'>\x20mat3x3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20mat'+'3x3f(model'+'Matrix[0].'+'xyz,\x20model'+'Matrix[1].'+'xyz,\x20model'+'Matrix[2].'+'xyz);\x0a\x20\x20\x20\x20'+'}\x0a#else\x0a\x20\x20'+'\x20\x20fn\x20getNo'+'rmalMatrix'+'(modelMatr'+'ix:\x20mat4x4'+'f)\x20->\x20mat3'+'x3f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),XD='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_bu'+'mpiness:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20un'+'iform\x20mate'+'rial_norma'+'lDetailMap'+'Bumpiness:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20fn\x20bl'+'endNormals'+'(inN1:\x20vec'+'3f,\x20inN2:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'n1:\x20vec3f\x20'+'=\x20inN1\x20+\x20v'+'ec3f(0.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20n2:\x20vec'+'3f\x20=\x20inN2\x20'+'*\x20vec3f(-1'+'.0,\x20-1.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20n1\x20*\x20dot('+'n1,\x20n2)\x20/\x20'+'n1.z\x20-\x20n2;'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0afn\x20ge'+'tNormal()\x20'+'{\x0a#ifdef\x20S'+'TD_NORMAL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20var\x20norm'+'alMap:\x20vec'+'3f\x20=\x20{STD_'+'NORMAL_TEX'+'TURE_DECOD'+'E}(texture'+'SampleBias'+'({STD_NORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_NORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_NOR'+'MAL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias));\x0a'+'\x20\x20\x20\x20normal'+'Map\x20=\x20mix('+'vec3f(0.0,'+'\x200.0,\x201.0)'+',\x20normalMa'+'p,\x20uniform'+'.material_'+'bumpiness)'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_NO'+'RMALDETAIL'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20normalDet'+'ailMap:\x20ve'+'c3f\x20=\x20{STD'+'_NORMALDET'+'AIL_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE_NAME},'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_NAM'+'E}Sampler,'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_UV}'+(',\x20uniform.'+'textureBia'+'s));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalD'+'etailMap\x20='+'\x20mix(vec3f'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malDetailM'+'ap,\x20unifor'+'m.material'+'_normalDet'+'ailMapBump'+'iness);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20norm'+'alMap\x20=\x20bl'+'endNormals'+'(normalMap'+',\x20normalDe'+'tailMap);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20nor'+'malize(dTB'+'N\x20*\x20normal'+'Map);\x0a#els'+'e\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a'),qD='\x0auniform\x20m'+'aterial_op'+'acity:\x20f32'+';\x0a\x0afn\x20getO'+'pacity()\x20{'+'\x0a\x20\x20\x20\x20dAlph'+'a\x20=\x20unifor'+'m.material'+'_opacity;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E\x0a\x20\x20\x20\x20dAlp'+'ha\x20=\x20dAlph'+'a\x20*\x20textur'+'eSampleBia'+'s({STD_OPA'+'CITY_TEXTU'+'RE_NAME},\x20'+'{STD_OPACI'+'TY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'OPACITY_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20=\x20dA'+'lpha\x20*\x20cla'+'mp(vVertex'+'Color.{STD'+'_OPACITY_V'+'ERTEX_CHAN'+'NEL},\x200.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',jD='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20blueNo'+'iseJitter:'+'\x20vec4f;\x0a\x0a#'+'if\x20STD_OPA'+'CITY_DITHE'+'R\x20==\x20BLUEN'+'OISE\x0a\x20\x20\x20\x20v'+'ar\x20blueNoi'+'seTex32\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20blueN'+'oiseTex32S'+'ampler\x20:\x20s'+'ampler;\x0a#e'+'ndif\x0a\x0afn\x20o'+'pacityDith'+'er(alpha:\x20'+'f32,\x20id:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'#if\x20STD_OP'+'ACITY_DITH'+'ER\x20==\x20BAYE'+'R8\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20nois'+'e:\x20f32\x20=\x20b'+'ayer8(floo'+'r((pcPosit'+'ion.xy\x20+\x20u'+'niform.blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+')\x20%\x20vec2f('+'8.0)))\x20/\x206'+'4.0;\x0a\x0a\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20=='+'\x20BLUENOISE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uv\x20'+'=\x20fract(pc'+'Position.x'+'y\x20/\x2032.0\x20+'+'\x20uniform.b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20noise:\x20f3'+'2\x20=\x20textur'+'eSampleLev'+'el(blueNoi'+'seTex32,\x20b'+'lueNoiseTe'+'x32Sampler'+',\x20uv,\x200.0)'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20IGNNOI'+'SE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ba'+'sed\x20on\x20htt'+'ps://www.i'+'ryoku.com/'+'next-gener'+'ation-post'+'-processin'+'g-in-call-'+'of-duty-ad'+'vanced-war'+'fare/\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20magic\x20=\x20'+'vec3f(0.06'+'711056,\x200.'+'00583715,\x20'+'52.9829189'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'oise:\x20f32\x20'+'=\x20fract(ma'+'gic.z\x20*\x20fr'+'act(dot(pc'+'Position.x'+'y\x20+\x20unifor'+'m.blueNois'+'eJitter.xy'+'\x20+\x20id,\x20mag'+('ic.xy)));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20conve'+'rt\x20the\x20noi'+'se\x20to\x20line'+'ar\x20space,\x20'+'as\x20that\x20is'+'\x20specified'+'\x20in\x20sRGB\x20s'+'pace\x20(stor'+'es\x20percept'+'ual\x20values'+')\x0a\x20\x20\x20\x20nois'+'e\x20=\x20pow(no'+'ise,\x202.2);'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'alpha\x20<\x20no'+'ise)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),YD='\x0a',KD='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(outp'+'ut.color.r'+'gb,\x20litArg'+'s_opacity)'+';\x0a\x0a#elif\x20L'+'IT_BLEND_T'+'YPE\x20==\x20PRE'+'MULTIPLIED'+'\x0a\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(out'+'put.color.'+'rgb\x20*\x20litA'+'rgs_opacit'+'y,\x20litArgs'+'_opacity);'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(output'+'.color.rgb'+',\x201.0);\x0a\x0a#'+'endif\x0a',ZD='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0avar\x20sour'+'ce:\x20textur'+'e_2d<f32>;'+'\x0avar\x20sourc'+'eSampler:\x20'+'sampler;\x0a\x0a'+'@fragment\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'textureSam'+'ple(source'+',\x20sourceSa'+'mpler,\x20inp'+'ut.vUv0);\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'+'\x0a',QD='\x0a\x0auniform\x20'+'material_s'+'heen:\x20vec3'+'f;\x0a\x0afn\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20var\x20sh'+'eenColor\x20='+'\x20uniform.m'+'aterial_sh'+'een;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_TEX'+'TURE\x0a\x20\x20\x20\x20s'+'heenColor\x20'+'=\x20sheenCol'+'or\x20*\x20{STD_'+'SHEEN_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SHEEN'+'_TEXTURE_N'+'AME},\x20{STD'+'_SHEEN_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEEN_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as)).{STD_'+'SHEEN_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_VER'+'TEX\x0a\x20\x20\x20\x20sh'+'eenColor\x20='+'\x20sheenColo'+'r\x20*\x20satura'+'te3(vVerte'+'xColor.{ST'+'D_SHEEN_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20sSpecula'+'rity\x20=\x20she'+'enColor;\x0a}'+'\x0a',JD='\x0auniform\x20m'+'aterial_sh'+'eenGloss:\x20'+'f32;\x0a\x0afn\x20g'+'etSheenGlo'+'ssiness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'sheenGloss'+'iness\x20=\x20un'+'iform.mate'+'rial_sheen'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SHEENGL'+'OSS_TEXTUR'+'E\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_SHEEN'+'GLOSS_TEXT'+'URE_NAME},'+'\x20{STD_SHEE'+'NGLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_UV},\x20un'+'iform.text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20=\x20'+'sheenGloss'+'iness\x20*\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'GLOSS_VERT'+'EX_CHANNEL'+'});\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEENGLOS'+'S_INVERT\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20='+'\x201.0\x20-\x20she'+'enGlossine'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'+\x200.000000'+'1;\x0a}\x0a',eI='\x0auniform\x20m'+'aterial_he'+'ightMapFac'+'tor:\x20f32;\x0a'+'\x0afn\x20getPar'+'allax()\x20{\x0a'+'\x20\x20\x20\x20var\x20pa'+'rallaxScal'+'e\x20=\x20unifor'+'m.material'+'_heightMap'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20var\x20hei'+'ght:\x20f32\x20='+'\x20textureSa'+'mpleBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_HEIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_HEIGHT_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'height\x20=\x20h'+'eight\x20*\x20pa'+'rallaxScal'+'e\x20-\x20parall'+'axScale\x20*\x20'+'0.5;\x0a\x20\x20\x20\x20v'+'ar\x20viewDir'+'T:\x20vec3f\x20='+'\x20dViewDirW'+'\x20*\x20dTBN;\x0a\x0a'+'\x20\x20\x20\x20viewDi'+'rT.z\x20=\x20vie'+'wDirT.z\x20+\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',tI='\x0auniform\x20m'+'eshInstanc'+'eId:\x20u32;\x0a'+'\x0afn\x20getPic'+'kOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20let\x20i'+'nv:\x20vec4f\x20'+'=\x20vec4f(1.'+'0\x20/\x20255.0)'+';\x0a\x20\x20\x20\x20let\x20'+'shifts:\x20ve'+'c4u\x20=\x20vec4'+'u(16u,\x208u,'+'\x200u,\x2024u);'+'\x0a\x20\x20\x20\x20let\x20c'+'ol:\x20vec4u\x20'+'=\x20(vec4u(u'+'niform.mes'+'hInstanceI'+'d)\x20>>\x20shif'+'ts)\x20&\x20vec4'+'u(0xffu);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4f(col'+')\x20*\x20inv;\x0a}',sI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20dReflDi'+'rW\x20=\x20norma'+'lize(-refl'+'ect(viewDi'+'r,\x20worldNo'+'rmal));\x0a}\x0a',iI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20rou'+'ghness:\x20f3'+'2\x20=\x20sqrt(1'+'.0\x20-\x20min(g'+'loss,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20directio'+'n:\x20vec2f\x20='+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20anisotrop'+'y:\x20f32\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cDirection'+':\x20vec3f\x20=\x20'+'anisotropi'+'cB;\x0a\x20\x20\x20\x20le'+'t\x20anisotro'+'picTangent'+':\x20vec3f\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20let\x20anis'+'otropicNor'+'mal:\x20vec3f'+'\x20=\x20cross(a'+'nisotropic'+'Tangent,\x20a'+'nisotropic'+'Direction)'+';\x0a\x20\x20\x20\x20let\x20'+'bendFactor'+':\x20f32\x20=\x201.'+'0\x20-\x20anisot'+'ropy\x20*\x20(1.'+'0\x20-\x20roughn'+'ess);\x0a\x20\x20\x20\x20'+'let\x20bendFa'+'ctor4:\x20f32'+'\x20=\x20bendFac'+'tor\x20*\x20bend'+'Factor\x20*\x20b'+'endFactor\x20'+'*\x20bendFact'+'or;\x0a\x20\x20\x20\x20le'+'t\x20bentNorm'+'al:\x20vec3f\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}',rI='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0afn\x20addRe'+'flectionCC'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20ccRef'+'lection\x20=\x20'+'ccReflecti'+'on\x20+\x20calcR'+'eflection('+'reflDir,\x20g'+'loss);\x0a}\x0a#'+'endif\x0a',aI='\x0avar\x20textu'+'re_cubeMap'+':\x20texture_'+'cube<f32>;'+'\x0avar\x20textu'+'re_cubeMap'+'Sampler:\x20s'+'ampler;\x0aun'+'iform\x20mate'+'rial_refle'+'ctivity:\x20f'+'32;\x0a\x0afn\x20ca'+'lcReflecti'+'on(reflDir'+':\x20vec3f,\x20g'+'loss:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'lookupVec:'+'\x20vec3f\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r);\x0a\x20\x20\x20\x20lo'+'okupVec.x\x20'+'=\x20lookupVe'+'c.x\x20*\x20-1.0'+';\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_cubeMa'+'p,\x20texture'+'_cubeMapSa'+'mpler,\x20loo'+'kupVec));\x0a'+'}\x0a\x0afn\x20addR'+'eflection('+'reflDir:\x20v'+'ec3f,\x20glos'+'s:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20dR'+'eflection\x20'+'+\x20vec4f(ca'+'lcReflecti'+'on(reflDir'+',\x20gloss),\x20'+'uniform.ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',nI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20var\x20t'+'exture_env'+'Atlas:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'envAtlasSa'+'mpler:\x20sam'+'pler;\x0a#end'+'if\x0a\x0avar\x20te'+'xture_cube'+'Map:\x20textu'+'re_cube<f3'+'2>;\x0avar\x20te'+'xture_cube'+'MapSampler'+':\x20sampler;'+'\x0auniform\x20m'+'aterial_re'+'flectivity'+':\x20f32;\x0a\x0afn'+'\x20calcRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20dir:\x20ve'+'c3f\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20toSph'+'ericalUv(d'+'ir);\x0a\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20roughne'+'ss\x20level\x0a\x20'+'\x20\x20\x20let\x20lev'+'el:\x20f32\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20let\x20ile'+'vel:\x20f32\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20l'+'et\x20flevel:'+'\x20f32\x20=\x20lev'+'el\x20-\x20ileve'+'l;\x0a\x0a\x20\x20\x20\x20le'+'t\x20sharp:\x20v'+'ec3f\x20=\x20{re'+'flectionCu'+'bemapDecod'+'e}(texture'+'Sample(tex'+'ture_cubeM'+'ap,\x20textur'+'e_cubeMapS'+'ampler,\x20di'+'r));\x0a\x20\x20\x20\x20l'+'et\x20roughA:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+')));\x0a\x20\x20\x20\x20l'+'et\x20roughB:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(shar'+'p,\x20mix(rou'+('ghA,\x20rough'+'B,\x20flevel)'+',\x20min(leve'+'l,\x201.0)));'+'\x0a}\x0a\x0afn\x20add'+'Reflection'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20=\x20d'+'Reflection'+'\x20+\x20vec4f(c'+'alcReflect'+'ion(reflDi'+'r,\x20gloss),'+'\x20uniform.m'+'aterial_re'+'flectivity'+');\x0a}\x0a'),oI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_envA'+'tlasSample'+'r:\x20sampler'+';\x0a#endif\x0au'+'niform\x20mat'+'erial_refl'+'ectivity:\x20'+'f32;\x0a\x0a//\x20c'+'alculate\x20m'+'ip\x20level\x20f'+'or\x20shiny\x20r'+'eflection\x20'+'given\x20equi'+'rect\x20coord'+'s\x20uv.\x0afn\x20s'+'hinyMipLev'+'el(uv:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20dx:\x20vec2f'+'\x20=\x20dpdx(uv'+');\x0a\x20\x20\x20\x20let'+'\x20dy:\x20vec2f'+'\x20=\x20dpdy(uv'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20second\x20dF'+'\x20at\x20180\x20de'+'grees\x0a\x20\x20\x20\x20'+'let\x20uv2:\x20v'+'ec2f\x20=\x20vec'+'2f(fract(u'+'v.x\x20+\x200.5)'+',\x20uv.y);\x0a\x20'+'\x20\x20\x20let\x20dx2'+':\x20vec2f\x20=\x20'+'dpdx(uv2);'+'\x0a\x20\x20\x20\x20let\x20d'+'y2:\x20vec2f\x20'+'=\x20dpdy(uv2'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20min\x20of\x20bo'+'th\x20sets\x20of'+'\x20dF\x20to\x20han'+'dle\x20discon'+'tinuity\x20at'+'\x20the\x20azim\x20'+'edge\x0a\x20\x20\x20\x20l'+'et\x20maxd:\x20f'+'32\x20=\x20min(m'+'ax(dot(dx,'+'\x20dx),\x20dot('+'dy,\x20dy)),\x20'+'max(dot(dx'+'2,\x20dx2),\x20d'+'ot(dy2,\x20dy'+'2)));\x0a\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(0.5\x20*\x20'+'log2(maxd)'+'\x20-\x201.0\x20+\x20u'+'niform.tex'+'tureBias,\x20'+'0.0,\x205.0);'+'\x0a}\x0a\x0afn\x20cal'+'cReflectio'+'n(reflDir:'+'\x20vec3f,\x20gl'+'oss:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20d'+'ir:\x20vec3f\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3f(-1.0,\x20'+'1.0,\x201.0);'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20l'+'et\x20level:\x20'+'f32\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20l'+('et\x20ilevel:'+'\x20f32\x20=\x20flo'+'or(level);'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ccessing\x20t'+'he\x20shiny\x20('+'top\x20level)'+'\x20reflectio'+'n\x20-\x20perfor'+'m\x20manual\x20m'+'ipmap\x20look'+'up\x0a\x20\x20\x20\x20let'+'\x20level2:\x20f'+'32\x20=\x20shiny'+'MipLevel(u'+'v\x20*\x20atlasS'+'ize);\x0a\x20\x20\x20\x20'+'let\x20ilevel'+'2:\x20f32\x20=\x20f'+'loor(level'+'2);\x0a\x0a\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20uv1:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20weight:'+'\x20f32;\x0a\x20\x20\x20\x20'+'if\x20(ilevel'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'1\x20=\x20mapShi'+'nyUv(uv,\x20i'+'level2\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20weight\x20'+'=\x20level2\x20-'+'\x20ilevel2;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20access'+'ing\x20rough\x20'+'reflection'+'\x20-\x20just\x20sa'+'mple\x20the\x20s'+'ame\x20part\x20t'+'wice\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv0\x20=\x20m'+'apRoughnes'+'sUv(uv,\x20il'+'evel);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20linearA'+':\x20vec3f\x20=\x20'+'{reflectio'+'nDecode}(t'+'extureSamp'+'le(texture'+'_envAtlas,'+'\x20texture_e'+'nvAtlasSam'+'pler,\x20uv0)'+');\x0a\x20\x20\x20\x20let'+'\x20linearB:\x20'+'vec3f\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'tureSample'+'(texture_e'+'nvAtlas,\x20t'+'exture_env'+'AtlasSampl'+'er,\x20uv1));'+'\x0a\x20\x20\x20\x20let\x20l'+'inear0:\x20ve'+'c3f\x20=\x20mix('+'linearA,\x20l'+'inearB,\x20we'+'ight);\x0a\x20\x20\x20'+'\x20let\x20linea'+'r1:\x20vec3f\x20'+'=\x20{reflect'+'ionDecode}'+'(textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r')+('eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0afn'+'\x20addReflec'+'tion(reflD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20=\x20dReflec'+'tion\x20+\x20vec'+'4f(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20unifo'+'rm.materia'+'l_reflecti'+'vity);\x0a}\x0a'),lI='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a#en'+'dif\x0a\x0avar\x20t'+'exture_sph'+'ereMap:\x20te'+'xture_2d<f'+'32>;\x0avar\x20t'+'exture_sph'+'ereMapSamp'+'ler:\x20sampl'+'er;\x0aunifor'+'m\x20material'+'_reflectiv'+'ity:\x20f32;\x0a'+'\x0afn\x20calcRe'+'flection(r'+'eflDir:\x20ve'+'c3f,\x20gloss'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20view'+'RotationMa'+'trix\x20=\x20mat'+'3x3f(unifo'+'rm.matrix_'+'view[0].xy'+'z,\x20uniform'+'.matrix_vi'+'ew[1].xyz,'+'\x20uniform.m'+'atrix_view'+'[2].xyz);\x0a'+'\x20\x20\x20\x20let\x20re'+'flDirV:\x20ve'+'c3f\x20=\x20view'+'RotationMa'+'trix\x20*\x20ref'+'lDir;\x0a\x0a\x20\x20\x20'+'\x20let\x20m:\x20f3'+'2\x20=\x202.0\x20*\x20'+'sqrt(dot(r'+'eflDirV.xy'+',\x20reflDirV'+'.xy)\x20+\x20(re'+'flDirV.z\x20+'+'\x201.0)\x20*\x20(r'+'eflDirV.z\x20'+'+\x201.0));\x0a\x20'+'\x20\x20\x20let\x20sph'+'ereMapUv:\x20'+'vec2f\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_sphere'+'Map,\x20textu'+'re_sphereM'+'apSampler,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0af'+'n\x20addRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20dRefle'+'ction\x20+\x20ve'+'c4f(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20unif'+'orm.materi'+'al_reflect'+'ivity);\x0a}\x0a',cI='\x0a\x0afn\x20addRe'+'flectionSh'+'een(worldN'+'ormal:\x20vec'+'3f,\x20viewDi'+'r:\x20vec3f,\x20'+'gloss:\x20f32'+')\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20dot(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20let\x20al'+'phaG:\x20f32\x20'+'=\x20gloss\x20*\x20'+'gloss;\x0a\x0a\x20\x20'+'\x20\x20//\x20Avoid'+'\x20using\x20a\x20L'+'UT\x20and\x20app'+'roximate\x20t'+'he\x20values\x20'+'analytical'+'ly\x0a\x20\x20\x20\x20let'+'\x20a:\x20f32\x20=\x20'+'select(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20-339.2\x20*'+'\x20alphaG\x20+\x20'+'161.4\x20*\x20gl'+'oss\x20-\x2025.9'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gloss\x20<\x200.'+'25\x0a\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20let\x20b:'+'\x20f32\x20=\x20sel'+'ect(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.97\x20*\x20'+'alphaG\x20-\x203'+'.27\x20*\x20glos'+'s\x20+\x200.72,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x2044'+'.0\x20*\x20alpha'+'G\x20-\x2023.7\x20*'+'\x20gloss\x20+\x203'+'.26,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss\x20<'+'\x200.25\x0a\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20let'+'\x20dg_add:\x20f'+'32\x20=\x20selec'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.1\x20*\x20(\x20g'+'loss\x20-\x200.2'+'5\x20),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x200.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s\x20<\x200.25\x0a\x20'+'\x20\x20\x20);\x0a\x20\x20\x20\x20'+'let\x20dg:\x20f3'+'2\x20=\x20exp(\x20a'+'\x20*\x20NoV\x20+\x20b'+'\x20)\x20+\x20dg_ad'+'d;\x0a\x20\x20\x20\x20sRe'+'flection\x20='+'\x20sReflecti'+'on\x20+\x20(calc'+'Reflection'+'(worldNorm'+'al,\x200.0)\x20*'+'\x20saturate('+'dg));\x0a}',hI='\x0afn\x20refrac'+'t2(viewVec'+':\x20vec3f,\x20n'+'ormal:\x20vec'+'3f,\x20IOR:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20vn:\x20f32'+'\x20=\x20dot(vie'+'wVec,\x20norm'+'al);\x0a\x20\x20\x20\x20l'+'et\x20k:\x20f32\x20'+'=\x201.0\x20-\x20IO'+'R\x20*\x20IOR\x20*\x20'+'(1.0\x20-\x20vn\x20'+'*\x20vn);\x0a\x20\x20\x20'+'\x20let\x20refrV'+'ec:\x20vec3f\x20'+'=\x20IOR\x20*\x20vi'+'ewVec\x20-\x20(I'+'OR\x20*\x20vn\x20+\x20'+'sqrt(k))\x20*'+'\x20normal;\x0a\x20'+'\x20\x20\x20return\x20'+'refrVec;\x0a}'+'\x0a\x0afn\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20vi'+'ewDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20th'+'ickness:\x20f'+'32,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20al'+'bedo:\x20vec3'+'f,\x0a\x20\x20\x20\x20tra'+'nsmission:'+'\x20f32,\x0a\x20\x20\x20\x20'+'refraction'+'Index:\x20f32'+',\x0a\x20\x20\x20\x20disp'+'ersion:\x20f3'+'2\x0a#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20,\x20iri'+'descenceFr'+'esnel:\x20vec'+'3f,\x0a\x20\x20\x20\x20ir'+'idescenceI'+'ntensity:\x20'+'f32\x0a#endif'+'\x0a)\x20{\x0a\x20\x20\x20\x20/'+'/\x20use\x20same'+'\x20reflectio'+'n\x20code\x20wit'+'h\x20refracti'+'on\x20vector\x0a'+'\x20\x20\x20\x20let\x20tm'+'pRefl:\x20vec'+'4f\x20=\x20dRefl'+'ection;\x0a\x20\x20'+'\x20\x20let\x20refl'+'ectionDir:'+'\x20vec3f\x20=\x20r'+'efract2(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndex);\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(0.0);\x0a\x20'+'\x20\x20\x20addRefl'+'ection(ref'+'lectionDir'+',\x20gloss);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'mix(dDiffu'+'seLight,\x20d'+'Reflection'+'.rgb\x20*\x20alb'+'edo,\x20trans'+'mission);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20tm'+'pRefl;\x0a}\x0a',dI='\x0auniform\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+':\x20f32;\x0auni'+'form\x20mater'+'ial_attenu'+'ation:\x20vec'+'3f;\x0a\x0afn\x20ev'+'alRefracti'+'onColor(re'+'fractionVe'+'ctor:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20refra'+'ctionIndex'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20The\x20'+'refraction'+'\x20point\x20is\x20'+'the\x20entry\x20'+'point\x20+\x20ve'+'ctor\x20to\x20ex'+'it\x20point\x0a\x20'+'\x20\x20\x20let\x20poi'+'ntOfRefrac'+'tion:\x20vec4'+'f\x20=\x20vec4f('+'vPositionW'+'\x20+\x20refract'+'ionVector,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20//\x20Proje'+'ct\x20to\x20text'+'ure\x20space\x20'+'so\x20we\x20can\x20'+'sample\x20it\x0a'+'\x20\x20\x20\x20let\x20pr'+'ojectionPo'+'int:\x20vec4f'+'\x20=\x20uniform'+'.matrix_vi'+'ewProjecti'+'on\x20*\x20point'+'OfRefracti'+'on;\x0a\x0a\x20\x20\x20\x20/'+'/\x20use\x20buil'+'t-in\x20getGr'+'abScreenPo'+'s\x20function'+'\x20to\x20conver'+'t\x20screen\x20p'+'osition\x20to'+'\x20grab\x20text'+'ure\x20uv\x20coo'+'rds\x0a\x20\x20\x20\x20le'+'t\x20uv:\x20vec2'+'f\x20=\x20getGra'+'bScreenPos'+'(projectio'+'nPoint);\x0a\x0a'+'\x20\x20\x20\x20//\x20Use'+'\x20IOR\x20and\x20r'+'oughness\x20t'+'o\x20select\x20m'+'ip\x0a\x20\x20\x20\x20let'+'\x20iorToRoug'+'hness:\x20f32'+'\x20=\x20(1.0\x20-\x20'+'gloss)\x20*\x20c'+'lamp((1.0\x20'+'/\x20refracti'+'onIndex)\x20*'+'\x202.0\x20-\x202.0'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20let'+'\x20refractio'+'nLod:\x20f32\x20'+'=\x20log2(uni'+'form.uScre'+'enSize.x)\x20'+'*\x20iorToRou'+'ghness;\x0a\x20\x20'+'\x20\x20let\x20refr'+'action:\x20ve'+'c3f\x20=\x20text'+'ureSampleL'+'evel(uScen'+'eColorMap,'+'\x20uSceneCol'+'orMapSampl'+'er,\x20uv,\x20re'+'fractionLo'+'d).rgb;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'refraction'+';\x0a}\x0a\x0afn\x20ad'+'dRefractio'+'n(\x0a\x20\x20\x20\x20wor'+('ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20thickness'+':\x20f32,\x0a\x20\x20\x20'+'\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20albedo:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'transmissi'+'on:\x20f32,\x0a\x20'+'\x20\x20\x20refract'+'ionIndex:\x20'+'f32,\x0a\x20\x20\x20\x20d'+'ispersion:'+'\x20f32,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'iridescenc'+'eIntensity'+':\x20f32\x0a#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20Extra'+'ct\x20scale\x20f'+'rom\x20the\x20mo'+'del\x20transf'+'orm\x0a\x20\x20\x20\x20va'+'r\x20modelSca'+'le:\x20vec3f;'+'\x0a\x20\x20\x20\x20model'+'Scale.x\x20=\x20'+'length(uni'+'form.matri'+'x_model[0]'+'.xyz);\x0a\x20\x20\x20'+'\x20modelScal'+'e.y\x20=\x20leng'+'th(uniform'+'.matrix_mo'+'del[1].xyz'+');\x0a\x20\x20\x20\x20mod'+'elScale.z\x20'+'=\x20length(u'+'niform.mat'+'rix_model['+'2].xyz);\x0a\x0a'+'\x20\x20\x20\x20//\x20Cal'+'culate\x20the'+'\x20refractio'+'n\x20vector,\x20'+'scaled\x20by\x20'+'the\x20thickn'+'ess\x20and\x20sc'+'ale\x20of\x20the'+'\x20object\x0a\x20\x20'+'\x20\x20let\x20scal'+'e:\x20vec3f\x20='+'\x20thickness'+'\x20*\x20modelSc'+'ale;\x0a\x20\x20\x20\x20v'+'ar\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndex))'+'\x20*\x20scale;\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'x);\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20the\x20dispe'+'rsion\x20mate'+'rial\x20prope'+'rty,\x20calcu'+'late\x20modif'+'ied\x20refrac'+'tion\x20index'+'\x20values\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20f'+'or\x20R\x20and\x20B'+'\x20channels\x20')+('and\x20evalua'+'te\x20the\x20ref'+'raction\x20co'+'lor\x20for\x20th'+'em.\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Spread:\x20f3'+'2\x20=\x20(1.0\x20/'+'\x20refractio'+'nIndex\x20-\x201'+'.0)\x20*\x200.02'+'5\x20*\x20disper'+'sion;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20r'+'efractionI'+'ndexR:\x20f32'+'\x20=\x20refract'+'ionIndex\x20-'+'\x20halfSprea'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'nVector\x20=\x20'+'normalize('+'refract(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndexR))\x20'+'*\x20scale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ref'+'raction.r\x20'+'=\x20evalRefr'+'actionColo'+'r(refracti'+'onVector,\x20'+'gloss,\x20ref'+'ractionInd'+'exR).r;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20refractio'+'nIndexB:\x20f'+'32\x20=\x20refra'+'ctionIndex'+'\x20+\x20halfSpr'+'ead;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndexB)'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efraction.'+'b\x20=\x20evalRe'+'fractionCo'+'lor(refrac'+'tionVector'+',\x20gloss,\x20r'+'efractionI'+'ndexB).b;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20T'+'ransmittan'+'ce\x20is\x20our\x20'+'final\x20refr'+'action\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20transmitt'+'ance:\x20vec3'+'f;\x0a\x20\x20\x20\x20if\x20'+'(uniform.m'+'aterial_in'+'vAttenuati'+'onDistance'+'\x20!=\x200.0)\x0a\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20att'+'enuation:\x20'+'vec3f\x20=\x20-l'+'og(uniform'+'.material_'+'attenuatio'+'n)\x20*\x20unifo'+'rm.materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans')+('mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20let\x20'+'fresnel:\x20v'+'ec3f\x20=\x20vec'+'3f(1.0)\x20-\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20world'+'Normal),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scenceInte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20mix(dDif'+'fuseLight,'+'\x20refractio'+'n\x20*\x20transm'+'ittance\x20*\x20'+'fresnel,\x20t'+'ransmissio'+'n);\x0a}\x0a'),fI='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0a#ifdef'+'\x20CUBEMAP_S'+'OURCE\x0a\x20\x20\x20\x20'+'var\x20source'+'Cube:\x20text'+'ure_cube<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20sourceC'+'ubeSampler'+'\x20:\x20sampler'+';\x0a#else\x0a\x20\x20'+'\x20\x20var\x20sour'+'ceTex:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sourceTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20//\x20sa'+'mples\x0a\x20\x20\x20\x20'+'var\x20sample'+'sTex:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20samplesTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplesT'+'exInverseS'+'ize:\x20vec2f'+';\x0a#endif\x0a\x0a'+'//\x20params:'+'\x0a//\x20x\x20-\x20ta'+'rget\x20cubem'+'ap\x20face\x200.'+'.6\x0a//\x20y\x20-\x20'+'target\x20ima'+'ge\x20total\x20p'+'ixels\x0a//\x20z'+'\x20-\x20source\x20'+'cubemap\x20si'+'ze\x0auniform'+'\x20params:\x20v'+'ec3f;\x0a\x0afn\x20'+'targetFace'+'()\x20->\x20f32\x20'+'{\x20return\x20u'+'niform.par'+'ams.x;\x20}\x0af'+'n\x20targetTo'+'talPixels('+')\x20->\x20f32\x20{'+'\x20return\x20un'+'iform.para'+'ms.y;\x20}\x0afn'+'\x20sourceTot'+'alPixels()'+'\x20->\x20f32\x20{\x20'+'return\x20uni'+'form.param'+'s.z;\x20}\x0a\x0aco'+'nst\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22enc'+'odePS\x22\x0a\x0a//'+'--\x20support'+'ed\x20project'+'ions\x0a\x0afn\x20m'+'odifySeams'+'(dir:\x20vec3'+'f,\x20scale:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20adir\x20='+'\x20abs(dir);'+'\x0a\x20\x20\x20\x20let\x20M'+'\x20=\x20max(max'+'(adir.x,\x20a'+'dir.y),\x20ad'+'ir.z);\x0a\x20\x20\x20'+'\x20return\x20di'+'r\x20/\x20M\x20*\x20ve'+'c3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20select('+('scale,\x201.0'+',\x20adir.x\x20='+'=\x20M),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20select'+'(scale,\x201.'+'0,\x20adir.y\x20'+'==\x20M),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20selec'+'t(scale,\x201'+'.0,\x20adir.z'+'\x20==\x20M)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0afn\x20'+'toSpherica'+'l(dir:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20l'+'et\x20nonZero'+'XZ\x20=\x20any(d'+'ir.xz\x20!=\x20v'+'ec2f(0.0,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2f(select'+'(0.0,\x20atan'+'2(dir.x,\x20d'+'ir.z),\x20non'+'ZeroXZ),\x20a'+'sin(dir.y)'+');\x0a}\x0a\x0afn\x20f'+'romSpheric'+'al(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20vec3'+'f(cos(uv.y'+')\x20*\x20sin(uv'+'.x),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sin(uv.y)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'s(uv.y)\x20*\x20'+'cos(uv.x))'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Equirect(u'+'v:\x20vec2f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20fromSphe'+'rical((vec'+'2f(uv.x,\x201'+'.0\x20-\x20uv.y)'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20vec2'+'f(PI,\x20PI\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20octahe'+'dral\x20code,'+'\x20based\x20on\x20'+'https://jc'+'gt.org/pub'+'lished/000'+'3/02/01/\x0a/'+'/\x20\x22Survey\x20'+'of\x20Efficie'+'nt\x20Represe'+'ntations\x20f'+'or\x20Indepen'+'dent\x20Unit\x20'+'Vectors\x22\x20b'+'y\x20Cigolle,'+'\x20Donow,\x20Ev'+'angelakos,'+'\x20Mara,\x20McG'+'uire,\x20Meye'+'r\x0a\x0afn\x20sign'+'NotZero(k:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20sele'+'ct(-1.0,\x201'+'.0,\x20k\x20>=\x200'+'.0);\x0a}\x0a\x0afn'+'\x20signNotZe'+'roVec2(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2f(signN'+'otZero(v.x'+'),\x20signNot'+'Zero(v.y))'+';\x0a}\x0a\x0a//\x20Re'+'turns\x20a\x20un'+'it\x20vector.'+'\x20Argument\x20'+'o\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20pack')+('ed\x20via\x20oct'+'Encode,\x20on'+'\x20the\x20[-1,\x20'+'+1]\x20square'+'\x0afn\x20octDec'+'ode(o:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20v\x20=\x20vec'+'3f(o.x,\x201.'+'0\x20-\x20abs(o.'+'x)\x20-\x20abs(o'+'.y),\x20o.y);'+'\x0a\x20\x20\x20\x20if\x20(v'+'.y\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20temp:\x20'+'vec2f\x20=\x20(1'+'.0\x20-\x20abs(v'+'.zx))\x20*\x20si'+'gnNotZeroV'+'ec2(v.xz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'\x20=\x20vec3f(t'+'emp.x,\x20v.y'+',\x20temp.y);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Octahedral'+'(uv:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20octDec'+'ode(vec2f('+'uv.x,\x201.0\x20'+'-\x20uv.y)\x20*\x20'+'2.0\x20-\x201.0)'+';\x0a}\x0a\x0a//\x20As'+'sumes\x20that'+'\x20v\x20is\x20a\x20un'+'it\x20vector.'+'\x20The\x20resul'+'t\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20on\x20t'+'he\x20[-1,\x20+1'+']\x20square\x0af'+'n\x20octEncod'+'e(v:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20var\x20'+'result\x20=\x20v'+'.xz\x20*\x20(1.0'+'\x20/\x20l1norm)'+';\x0a\x20\x20\x20\x20if\x20('+'v.y\x20<\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'(1.0\x20-\x20abs'+'(result.yx'+'))\x20*\x20signN'+'otZeroVec2'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20fn'+'\x20sampleCub'+'emapDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'sourceCube'+',\x20sourceCu'+'beSampler,'+'\x20modifySea'+'ms(dir,\x201.'+'0));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleCubem'+'apSph(sph:')+('\x20vec2f)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20sample'+'CubemapDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leCubemapD'+'irLod(dir:'+'\x20vec3f,\x20mi'+'pLevel:\x20f3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leLevel(so'+'urceCube,\x20'+'sourceCube'+'Sampler,\x20m'+'odifySeams'+'(dir,\x201.0)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleCubemap'+'SphLod(sph'+':\x20vec2f,\x20m'+'ipLevel:\x20f'+'32)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'sampleCube'+'mapDirLod('+'fromSpheri'+'cal(sph),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a#el'+'se\x0a\x0a\x20\x20\x20\x20fn'+'\x20sampleEqu'+'irectSph(s'+'ph:\x20vec2f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv\x20=\x20s'+'ph\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'(sourceTex'+',\x20sourceTe'+'xSampler,\x20'+'vec2f(uv.x'+',\x201.0\x20-\x20uv'+'.y));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20fn\x20'+'sampleEqui'+'rectDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'Sph(toSphe'+'rical(dir)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleEquirec'+'tSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20uv'+'\x20=\x20sph\x20/\x20v'+'ec2f(PI\x20*\x20'+'2.0,\x20PI)\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleLevel('+'sourceTex,'+'\x20sourceTex'+'Sampler,\x20v'+'ec2f(uv.x,'+'\x201.0\x20-\x20uv.'+'y),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleEquir'+'ectDirLod('+'dir:\x20vec3f'+',\x20mipLevel'+':\x20f32)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleE')+('quirectSph'+'Lod(toSphe'+'rical(dir)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleOctahed'+'ralDir(dir'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20=\x20oct'+'Encode(dir'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'textureSam'+'ple(source'+'Tex,\x20sourc'+'eTexSample'+'r,\x20vec2f(u'+'v.x,\x201.0\x20-'+'\x20uv.y));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20sampleO'+'ctahedralS'+'ph(sph:\x20ve'+'c2f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leOctahedr'+'alDirLod(d'+'ir:\x20vec3f,'+'\x20mipLevel:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'Level(sour'+'ceTex,\x20sou'+'rceTexSamp'+'ler,\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20sampl'+'eOctahedra'+'lSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'Lod(fromSp'+'herical(sp'+'h),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a\x0a'+'fn\x20getDire'+'ctionCubem'+'ap(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20st\x20=\x20uv'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20le'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20vec:\x20vec'+'3f;\x0a\x20\x20\x20\x20if'+'\x20(face\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(1,\x20'+'-st.y,\x20-st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3f(-1,\x20-'+'st.y,\x20st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x202.0)')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3f(st.x,\x201'+',\x20st.y);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(face\x20='+'=\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'\x20=\x20vec3f(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(st.'+'x,\x20-st.y,\x20'+'1);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(-st'+'.x,\x20-st.y,'+'\x20-1);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20normal'+'ize(modify'+'Seams(vec,'+'\x201.0));\x0a}\x0a'+'\x0afn\x20matrix'+'FromVector'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20-n.'+'x\x20*\x20n.y\x20*\x20'+'a;\x0a\x20\x20\x20\x20let'+'\x20b1\x20=\x20vec3'+'f(1.0\x20-\x20n.'+'x\x20*\x20n.x\x20*\x20'+'a,\x20b,\x20-n.x'+');\x0a\x20\x20\x20\x20let'+'\x20b2\x20=\x20vec3'+'f(b,\x201.0\x20-'+'\x20n.y\x20*\x20n.y'+'\x20*\x20a,\x20-n.y'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mat3x3'+'f(b1,\x20b2,\x20'+'n);\x0a}\x0a\x0afn\x20'+'matrixFrom'+'VectorSlow'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20up\x20=\x20sel'+'ect(vec3f('+'0.0,\x200.0,\x20'+'select(-1.'+'0,\x201.0,\x20n.'+'y\x20>\x200.0)),'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'),\x20abs(n.y'+')\x20>\x200.0000'+'001);\x0a\x20\x20\x20\x20'+'let\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20let'+'\x20y\x20=\x20cross'+'(n,\x20x);\x0a\x20\x20'+'\x20\x20return\x20m'+'at3x3f(x,\x20'+'y,\x20n);\x0a}\x0a\x0a'+'fn\x20reproje'+'ct(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20i'+'f\x20({NUM_SA'+'MPLES}\x20<=\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20sing'+'le\x20sample\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}({'+'DECODE_FUN'+'C}({SOURCE'+'_FUNC}Dir('+'{TARGET_FU'+'NC}(uv))))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mult'+'i\x20sample\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20t\x20=\x20{TARG')+('ET_FUNC}(u'+'v);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20tu\x20='+'\x20dpdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20tv\x20=\x20dpd'+'y(t);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'u\x20+=\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20for\x20(v'+'ar\x20v\x20=\x200.0'+';\x20v\x20<\x20{NUM'+'_SAMPLES_S'+'QRT};\x20v\x20+='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}Dir(norma'+'lize(t\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'u\x20*\x20(u\x20/\x20{'+'NUM_SAMPLE'+'S_SQRT}\x20-\x20'+'0.5)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tv\x20'+'*\x20(v\x20/\x20{NU'+'M_SAMPLES_'+'SQRT}\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20{ENC'+'ODE_FUNC}('+'result\x20/\x20('+'{NUM_SAMPL'+'ES_SQRT}\x20*'+'\x20{NUM_SAMP'+'LES_SQRT})'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0aconst\x20un'+'packFloat:'+'\x20vec4f\x20=\x20v'+'ec4f(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20fn\x20un'+'packSample'+'(i:\x20i32,\x20L'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20mipLev'+'el:\x20ptr<fu'+'nction,\x20f3'+'2>)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20u\x20'+'=\x20(f32(i\x20*'+'\x204)\x20+\x200.5)'+'\x20*\x20uniform'+'.samplesTe'+'xInverseSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20v\x20'+'=\x20(floor(u'+')\x20+\x200.5)\x20*'+'\x20uniform.s'+'amplesTexI'+'nverseSize'+'.y;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20raw'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.x\x20=\x20dot(t'+'extureSamp')+('le(samples'+'Tex,\x20sampl'+'esTexSampl'+'er,\x20vec2f('+'u,\x20v)),\x20un'+'packFloat)'+';\x20u\x20+=\x20uni'+'form.sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'textureSam'+'ple(sample'+'sTex,\x20samp'+'lesTexSamp'+'ler,\x20vec2f'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20un'+'iform.samp'+'lesTexInve'+'rseSize.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.z\x20=\x20dot'+'(textureSa'+'mple(sampl'+'esTex,\x20sam'+'plesTexSam'+'pler,\x20vec2'+'f(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20u'+'niform.sam'+'plesTexInv'+'erseSize.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'raw.w\x20=\x20do'+'t(textureS'+'ample(samp'+'lesTex,\x20sa'+'mplesTexSa'+'mpler,\x20vec'+'2f(u,\x20v)),'+'\x20unpackFlo'+'at);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20*L\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*m'+'ipLevel\x20=\x20'+'raw.w\x20*\x208.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20con'+'volve\x20an\x20e'+'nvironment'+'\x20given\x20pre'+'-generated'+'\x20samples\x0a\x20'+'\x20\x20\x20fn\x20pref'+'ilterSampl'+'es(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'truct\x20vect'+'or\x20space\x20g'+'iven\x20targe'+'t\x20directio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vecSpa'+'ce\x20=\x20matri'+'xFromVecto'+'rSlow({TAR'+'GET_FUNC}('+'uv));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20L'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20mipLevel:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(var\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20i\x20+=\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unpa'+'ckSample(i'+',\x20&L,\x20&mip'+'Level);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'result\x20+=\x20'+'{DECODE_FU')+('NC}({SOURC'+'E_FUNC}Dir'+'Lod(vecSpa'+'ce\x20*\x20L,\x20mi'+'pLevel))\x20*'+'\x20L.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20to'+'talWeight\x20'+'+=\x20L.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20{ENCOD'+'E_FUNC}(re'+'sult\x20/\x20tot'+'alWeight);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20unwei'+'ghted\x20vers'+'ion\x20of\x20pre'+'filterSamp'+'les\x0a\x20\x20\x20\x20fn'+'\x20prefilter'+'SamplesUnw'+'eighted(uv'+':\x20vec2f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20construct'+'\x20vector\x20sp'+'ace\x20given\x20'+'target\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20v'+'ecSpace\x20=\x20'+'matrixFrom'+'VectorSlow'+'({TARGET_F'+'UNC}(uv));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20L:\x20vec'+'3f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20mipL'+'evel:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20result'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(va'+'r\x20i\x20=\x200;\x20i'+'\x20<\x20{NUM_SA'+'MPLES};\x20i\x20'+'+=\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'unpackSamp'+'le(i,\x20&L,\x20'+'&mipLevel)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}DirLod(ve'+'cSpace\x20*\x20L'+',\x20mipLevel'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'{ENCODE_FU'+'NC}(result'+'\x20/\x20f32({NU'+'M_SAMPLES}'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20{P'+'ROCESS_FUN'+'C}(input.v'+'Uv0);\x0a\x20\x20\x20\x20'+'return\x20out'+'put;\x0a}\x0a'),uI='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0aunifo'+'rm\x20uvMod:\x20'+'vec4f;\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0a\x0a@'+'vertex\x0afn\x20'+'vertexMain'+'(input:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20var\x20outpu'+'t:\x20VertexO'+'utput;\x0a\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(input.v'+'ertex_posi'+'tion,\x200.5,'+'\x201.0);\x0a\x20\x20o'+'utput.vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(input.ver'+'tex_positi'+'on\x20*\x200.5\x20+'+'\x20vec2f(0.5'+',\x200.5))\x20*\x20'+'uniform.uv'+'Mod.xy\x20+\x20u'+'niform.uvM'+'od.zw);\x0a\x20\x20'+'return\x20out'+'put;\x0a}\x0a',pI='\x0a\x0avar\x20uSce'+'neDepthMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20uSceneD'+'epthMapSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifn'+'def\x20SCREEN'+'SIZE\x0a\x20\x20\x20\x20#'+'define\x20SCR'+'EENSIZE\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20#define\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20unifor'+'m\x20matrix_v'+'iew:\x20mat4x'+'4f;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20CAM'+'ERAPLANES\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20CAME'+'RAPLANES\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20camer'+'a_params:\x20'+'vec4f;\x20//\x20'+'x:\x201\x20/\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20\x20y:\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20z:\x20came'+'ra_near,\x20\x20'+'\x20\x20\x20\x20\x20\x20w:\x20i'+'s_ortho\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20fn\x20lin'+'earizeDept'+'h(z:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uniform.c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x20//\x20Pe'+'rspective\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20('+'uniform.ca'+'mera_param'+'s.z\x20*\x20unif'+'orm.camera'+'_params.y)'+'\x20/\x20(unifor'+'m.camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.z\x20-'+'\x20uniform.c'+'amera_para'+'ms.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20unifor'+'m.camera_p'+'arams.z\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'+'\x0afn\x20deline'+'arizeDepth'+'(linearDep'+'th:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.camera'+'_params.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(unif'+'orm.camera'+('_params.y\x20'+'*\x20(uniform'+'.camera_pa'+'rams.z\x20-\x20l'+'inearDepth'+'))\x20/\x20(line'+'arDepth\x20*\x20'+'(uniform.c'+'amera_para'+'ms.z\x20-\x20uni'+'form.camer'+'a_params.y'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(linearD'+'epth\x20-\x20uni'+'form.camer'+'a_params.z'+')\x20/\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20by'+'\x20UV\x0afn\x20get'+'LinearScre'+'enDepth(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_LINEAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SCEN'+'E_DEPTHMAP'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'uSceneDept'+'hMap,\x20uSce'+'neDepthMap'+'Sampler,\x20u'+'v).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20tex'+'tureSize\x20='+'\x20textureDi'+'mensions(u'+'SceneDepth'+'Map,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20texel'+':\x20vec2i\x20=\x20'+'vec2i(uv\x20*'+'\x20vec2f(tex'+'tureSize))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta:\x20vec4f\x20'+'=\x20textureL'+'oad(uScene'+'DepthMap,\x20'+'texel,\x200);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta_u32:\x20ve'+'c4u\x20=\x20vec4'+'u(data\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20intBits'+':\x20u32\x20=\x20(d'+'ata_u32.r\x20'+'<<\x2024u)\x20|\x20'+'(data_u32.'+'g\x20<<\x2016u)\x20'+'|\x20(data_u3'+'2.b\x20<<\x208u)'+'\x20|\x20data_u3'+'2.a;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20bitca'+'st<f32>(in'+'tBits);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pth(textur'+'eSample(uS'+'ceneDepthM')+('ap,\x20uScene'+'DepthMapSa'+'mpler,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20fn\x20get'+'LinearScre'+'enDepthFra'+'g()\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20pcP'+'osition.xy'+'\x20*\x20uniform'+'.uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afn\x20get'+'LinearDept'+'h(pos:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(unif'+'orm.matrix'+'_view\x20*\x20ve'+'c4f(pos,\x201'+'.0)).z;\x0a}\x0a'),mI='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x0afn'+'\x20getShadow'+'CascadeInd'+'ex(shadowC'+'ascadeDist'+'ances:\x20vec'+'4f,\x20shadow'+'CascadeCou'+'nt:\x20i32)\x20-'+'>\x20i32\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20dept'+'h\x20in\x200\x20..\x20'+'far\x20plane\x20'+'range\x0a\x20\x20\x20\x20'+'let\x20depth:'+'\x20f32\x20=\x201.0'+'\x20/\x20pcPosit'+'ion.w;\x0a\x0a\x20\x20'+'\x20\x20//\x201.0\x20i'+'f\x20depth\x20>='+'\x20distance,'+'\x200.0\x20other'+'wise\x0a\x20\x20\x20\x20l'+'et\x20compari'+'sons:\x20vec4'+'f\x20=\x20step(s'+'hadowCasca'+'deDistance'+'s,\x20vec4f(d'+'epth));\x0a\x0a\x20'+'\x20\x20\x20//\x20sum\x20'+'is\x20the\x20ind'+'ex\x0a\x20\x20\x20\x20let'+'\x20cascadeIn'+'dex:\x20i32\x20='+'\x20i32(dot(c'+'omparisons'+',\x20vec4f(1.'+'0)));\x0a\x0a\x20\x20\x20'+'\x20//\x20limit\x20'+'to\x20actual\x20'+'number\x20of\x20'+'used\x20casca'+'des\x0a\x20\x20\x20\x20re'+'turn\x20min(c'+'ascadeInde'+'x,\x20shadowC'+'ascadeCoun'+'t\x20-\x201);\x0a}\x0a'+'\x0a//\x20functi'+'on\x20which\x20m'+'odifies\x20ca'+'scade\x20inde'+'x\x20to\x20dithe'+'r\x20between\x20'+'cascades\x0af'+'n\x20ditherSh'+'adowCascad'+'eIndex(cas'+'cadeIndex_'+'in:\x20i32,\x20s'+'hadowCasca'+'deDistance'+'s:\x20vec4f,\x20'+'shadowCasc'+'adeCount:\x20'+'i32,\x20blend'+'Factor:\x20f3'+'2)\x20->\x20i32\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Use\x20var\x20as'+'\x20cascadeIn'+'dex\x20might\x20'+'be\x20modifie'+'d\x0a\x20\x20\x20\x20var\x20'+'cascadeInd'+'ex:\x20i32\x20=\x20'+'cascadeInd'+'ex_in;\x0a\x20\x20\x20'+'\x20if\x20(casca'+'deIndex\x20<\x20'+'shadowCasc'+'adeCount\x20-'+'\x201)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20cu'+'rrentRange'+'End:\x20f32\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+('\x20transitio'+'nStart:\x20f3'+'2\x20=\x20blendF'+'actor\x20*\x20cu'+'rrentRange'+'End;\x20//\x20St'+'art\x20overla'+'p\x20factor\x20a'+'way\x20from\x20t'+'he\x20end\x20dis'+'tance\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(depth\x20'+'>\x20transiti'+'onStart)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20a\x20tr'+'ansition\x20f'+'actor\x20(0.0'+'\x20to\x201.0)\x20w'+'ithin\x20the\x20'+'overlap\x20ra'+'nge\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'transition'+'Factor:\x20f3'+'2\x20=\x20smooth'+'step(trans'+'itionStart'+',\x20currentR'+'angeEnd,\x20d'+'epth);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Add\x20pse'+'udo-random'+'\x20dithering'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20TODO'+':\x20replace\x20'+'by\x20user\x20se'+'lectable\x20d'+'ithering\x20m'+'ethod\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20dither:\x20'+'f32\x20=\x20frac'+'t(sin(dot('+'pcPosition'+'.xy,\x20vec2f'+'(12.9898,\x20'+'78.233)))\x20'+'*\x2043758.54'+'53);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dither\x20<\x20'+'transition'+'Factor)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20casc'+'adeIndex\x20='+'\x20cascadeIn'+'dex\x20+\x201;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20cascadeIn'+'dex;\x0a}\x0a\x0afn'+'\x20fadeShado'+'w(shadowCo'+'ord_in:\x20ve'+'c3f,\x20shado'+'wCascadeDi'+'stances:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20//\x20if\x20the'+'\x20pixel\x20is\x20'+'past\x20the\x20s'+'hadow\x20dist'+'ance,\x20remo'+'ve\x20shadow\x0a'+'\x20\x20\x20\x20//\x20thi'+'s\x20enforces'+'\x20straight\x20'+'line\x20inste'+'ad\x20of\x20corn'+'er\x20of\x20shad'+'ow\x20which\x20m'+'oves\x20when\x20'+'camera\x20rot'+'ates\x0a\x20\x20\x20\x20v'+'ar\x20shadowC'+'oord:\x20vec3'+'f\x20=\x20shadow')+('Coord_in;\x0a'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x20\x20\x20\x20if\x20(d'+'epth\x20>\x20sha'+'dowCascade'+'Distances.'+'w)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20shadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'hadowCoord'+';\x0a}\x0a'),_I='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afn\x20linste'+'p(a:\x20f32,\x20'+'b:\x20f32,\x20v:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20/'+'/\x20WGSL\x20sat'+'urate\x20->\x20c'+'lamp\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p((v\x20-\x20a)\x20'+'/\x20(b\x20-\x20a),'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0afn\x20re'+'duceLightB'+'leeding(pM'+'ax:\x20f32,\x20a'+'mount:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'fn\x20chebysh'+'evUpperBou'+'nd(moments'+':\x20vec2f,\x20m'+'ean:\x20f32,\x20'+'minVarianc'+'e:\x20f32,\x20li'+'ghtBleedin'+'gReduction'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'//\x20Compute'+'\x20variance\x0a'+'\x20\x20\x20\x20var\x20va'+'riance:\x20f3'+'2\x20=\x20moment'+'s.y\x20-\x20(mom'+'ents.x\x20*\x20m'+'oments.x);'+'\x0a\x20\x20\x20\x20varia'+'nce\x20=\x20max('+'variance,\x20'+'minVarianc'+'e);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'probabilis'+'tic\x20upper\x20'+'bound\x0a\x20\x20\x20\x20'+'let\x20d:\x20f32'+'\x20=\x20mean\x20-\x20'+'moments.x;'+'\x0a\x20\x20\x20\x20var\x20p'+'Max:\x20f32\x20='+'\x20variance\x20'+'/\x20(varianc'+'e\x20+\x20(d\x20*\x20d'+'));\x0a\x0a\x20\x20\x20\x20p'+'Max\x20=\x20redu'+'ceLightBle'+'eding(pMax'+',\x20lightBle'+'edingReduc'+'tion);\x0a\x0a\x20\x20'+'\x20\x20//\x20One-t'+'ailed\x20Cheb'+'yshev\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(pMax,\x20'+'1.0,\x20mean\x20'+'<=\x20moments'+'.x);\x0a}\x0a\x0afn'+'\x20calculate'+'EVSM(momen'+'ts_in:\x20vec'+'3f,\x20Z_in:\x20'+'f32,\x20vsmBi'+'as:\x20f32,\x20e'+'xponent:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20Z:\x20f32\x20=\x20'+'2.0\x20*\x20Z_in'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20let\x20warp'+'edDepth:\x20f'+'32\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20l'+('et\x20moments'+':\x20vec2f\x20=\x20'+'moments_in'+'.xy\x20+\x20vec2'+'f(warpedDe'+'pth,\x20warpe'+'dDepth*war'+'pedDepth)\x20'+'*\x20(1.0\x20-\x20m'+'oments_in.'+'z);\x0a\x0a\x20\x20\x20\x20l'+'et\x20VSMBias'+':\x20f32\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20let\x20d'+'epthScale:'+'\x20f32\x20=\x20VSM'+'Bias\x20*\x20exp'+'onent\x20*\x20wa'+'rpedDepth;'+'\x0a\x20\x20\x20\x20let\x20m'+'inVariance'+'1:\x20f32\x20=\x20d'+'epthScale\x20'+'*\x20depthSca'+'le;\x0a\x20\x20\x20\x20re'+'turn\x20cheby'+'shevUpperB'+'ound(momen'+'ts,\x20warped'+'Depth,\x20min'+'Variance1,'+'\x200.1);\x0a}\x0a/'+'/\x20------\x20V'+'SM\x2016\x20----'+'--\x0a\x0afn\x20VSM'+'16(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords:\x20vec'+'2f,\x20resolu'+'tion:\x20f32,'+'\x20Z:\x20f32,\x20v'+'smBias:\x20f3'+'2,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20let\x20momen'+'ts:\x20vec3f\x20'+'=\x20textureS'+'ampleLevel'+'(tex,\x20texS'+'ampler,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'n\x20getShado'+'wVSM16(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M16(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord.xy,\x20s'+'hadowParam'+'s.x,\x20shado'+'wCoord.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotVSM1'+'6(shadowMa'+'p:\x20texture'+'_2d<f32>,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler,\x20sha'+'dowCoord:\x20'+'vec3f,\x20sha')+('dowParams:'+'\x20vec4f,\x20ex'+'ponent:\x20f3'+'2,\x20lightDi'+'r:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20Z:\x20'+'f32\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20V'+'SM16(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20Z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----'+'--\x0a\x0afn\x20VSM'+'32(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords_in:\x20'+'vec2f,\x20res'+'olution:\x20f'+'32,\x20Z:\x20f32'+',\x20vsmBias:'+'\x20f32,\x20expo'+'nent:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20CAPS_TEX'+'TURE_FLOAT'+'_FILTERABL'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20moment'+'s:\x20vec3f\x20='+'\x20textureSa'+'mpleLevel('+'tex,\x20texSa'+'mpler,\x20tex'+'Coords_in,'+'\x200.0).xyz;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20manual\x20b'+'ilinear\x20fi'+'ltering\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'pixelSize\x20'+':\x20f32\x20=\x201.'+'0\x20/\x20resolu'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20te'+'xCoords:\x20v'+'ec2f\x20=\x20tex'+'Coords_in\x20'+'-\x20vec2f(pi'+'xelSize);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20s00:\x20vec'+'3f\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20texCoords'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20s10:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20texCoor'+'ds\x20+\x20vec2f'+'(pixelSize'+',\x200.0),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'s01:\x20vec3f'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'exCoords\x20+'+'\x20vec2f(0.0'+',\x20pixelSiz'+'e),\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s11:')+('\x20vec3f\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20texCo'+'ords\x20+\x20vec'+'2f(pixelSi'+'ze),\x200.0).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fr:'+'\x20vec2f\x20=\x20f'+'ract(texCo'+'ords\x20*\x20res'+'olution);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20h0:\x20vec3'+'f\x20=\x20mix(s0'+'0,\x20s10,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20h1:'+'\x20vec3f\x20=\x20m'+'ix(s01,\x20s1'+'1,\x20fr.x);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20moments:'+'\x20vec3f\x20=\x20m'+'ix(h0,\x20h1,'+'\x20fr.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owVSM32(sh'+'adowMap:\x20t'+'exture_2d<'+'f32>,\x20shad'+'owMapSampl'+'er:\x20sample'+'r,\x20shadowC'+'oord:\x20vec3'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20expone'+'nt:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20V'+'SM32(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afn\x20getSha'+'dowSpotVSM'+'32(shadowM'+'ap:\x20textur'+'e_2d<f32>,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20e'+'xponent:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20Z:'+'\x20f32\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20Z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a'),gI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afn\x20getS'+'hadowPCF1x'+'1(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowCoo'+'rd.z);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotPCF1'+'x1(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20shad'+'owCoord.xy'+',\x20shadowCo'+'ord.z);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a//\x20Not\x20su'+'pported\x20on'+'\x20WebGPU\x20de'+'vice\x0a//\x20fn'+'\x20getShadow'+'OmniPCF1x1'+'(shadowMap'+':\x20texture_'+'depth_cube'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f,'+'\x20lightDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a//\x20'+'\x20\x20\x20\x20let\x20sh'+'adowZ:\x20f32'+'\x20=\x20length('+'lightDir)\x20'+'*\x20shadowPa'+'rams.w\x20+\x20s'+'hadowParam'+'s.z;\x0a//\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20lightD'+'ir,\x20shadow'+'Z);\x0a//\x20}\x0a',SI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0afn\x20_getS'+'hadowPCF3x'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20sum:\x20f3'+'2\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20let\x20uw'+'0:\x20f32\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20s);\x0a\x20\x20\x20\x20'+'let\x20uw1:\x20f'+'32\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20s)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20u0_offset'+':\x20f32\x20=\x20(2'+'.0\x20-\x20s)\x20/\x20'+'uw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20let\x20u'+'1_offset:\x20'+'f32\x20=\x20s\x20/\x20'+'uw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'vw0:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20let\x20vw1:'+'\x20f32\x20=\x20(1.'+'0\x20+\x202.0\x20*\x20'+'t);\x0a\x0a\x20\x20\x20\x20l'+'et\x20v0_offs'+'et:\x20f32\x20=\x20'+'(2.0\x20-\x20t)\x20'+'/\x20vw0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20let'+'\x20v1_offset'+':\x20f32\x20=\x20t\x20'+'/\x20vw1\x20+\x201.'+'0;\x0a\x0a\x20\x20\x20\x20le'+'t\x20u0:\x20f32\x20'+'=\x20u0_offse'+'t\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20v0:\x20f32\x20'+'=\x20v0_offse'+'t\x20*\x20shadow'+('MapSizeInv'+'\x20+\x20base_uv'+'.y;\x0a\x0a\x20\x20\x20\x20l'+'et\x20u1:\x20f32'+'\x20=\x20u1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20l'+'et\x20v1:\x20f32'+'\x20=\x20v1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'sum\x20=\x20sum\x20'+'+\x20uw0\x20*\x20vw'+'0\x20*\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20v'+'ec2f(u0,\x20v'+'0),\x20z);\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw1\x20*\x20'+'vw0\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u1,'+'\x20v0),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw0\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'0,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u1,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20*'+'\x20(1.0\x20/\x2016'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20sum;'+'\x0a}\x0a\x0afn\x20get'+'ShadowPCF3'+'x3(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wPCF3x3(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0afn\x20getSh'+'adowSpotPC'+'F3x3(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3(')+('shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams.xyz);'+'\x0a}\x0a\x0a//\x20---'+'--\x20Omni\x20Sa'+'mpling\x20---'+'--\x0a\x0a//\x20Not'+'\x20currently'+'\x20supported'+'\x20on\x20WebGPU'+'\x20device\x0a//'+'\x20fn\x20getSha'+'dowOmniPCF'+'3x3(shadow'+'Map:\x20textu'+'re_depth_c'+'ube,\x20shado'+'wMapSample'+'r:\x20sampler'+'_compariso'+'n,\x20shadowP'+'arams:\x20vec'+'4f,\x20dir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a//\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a//\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(dir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x0a//'+'\x20\x20\x20\x20\x20//\x20of'+'fset\x0a//\x20\x20\x20'+'\x20\x20let\x20texS'+'ize_i\x20=\x20te'+'xtureDimen'+'sions(shad'+'owMap,\x200);'+'\x0a//\x20\x20\x20\x20\x20le'+'t\x20z:\x20f32\x20='+'\x201.0\x20/\x20f32'+'(texSize_i'+'.x);\x0a//\x20\x20\x20'+'\x20\x20let\x20tc:\x20'+'vec3f\x20=\x20no'+'rmalize(di'+'r);\x0a\x0a//\x20\x20\x20'+'\x20\x20//\x20avera'+'ge\x204\x20sampl'+'es\x20-\x20not\x20a'+'\x20strict\x203x'+'3\x20PCF\x20but\x20'+'that\x27s\x20tri'+'cky\x20with\x20c'+'ubemaps\x0a//'+'\x20\x20\x20\x20\x20var\x20s'+'hadows:\x20ve'+'c4f;\x0a//\x20\x20\x20'+'\x20\x20shadows.'+'x\x20=\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20t'+'c\x20+\x20vec3f('+'\x20z,\x20\x20z,\x20\x20z'+'),\x20shadowZ'+');\x0a//\x20\x20\x20\x20\x20'+'shadows.y\x20'+'=\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20tc\x20'+'+\x20vec3f(-z'+',\x20-z,\x20\x20z),'+'\x20shadowZ);'+'\x0a//\x20\x20\x20\x20\x20sh'+'adows.z\x20=\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20tc\x20+\x20'+'vec3f(-z,\x20'+'\x20z,\x20-z),\x20s'+'hadowZ);\x0a/')+('/\x20\x20\x20\x20\x20shad'+'ows.w\x20=\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20tc\x20+\x20ve'+'c3f(\x20z,\x20-z'+',\x20-z),\x20sha'+'dowZ);\x0a\x0a//'+'\x20\x20\x20\x20\x20retur'+'n\x20dot(shad'+'ows,\x20vec4f'+'(0.25));\x0a/'+'/\x20}\x0a\x0a//\x20fn'+'\x20getShadow'+'OmniPCF3x3'+'_Wrapper(s'+'hadowMap:\x20'+'texture_de'+'pth_cube,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a//\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCF3x3(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowParams'+',\x20lightDir'+');\x0a//\x20}\x0a'),yI='\x0a//\x20http:/'+'/the-witne'+'ss.net/new'+'s/2013/09/'+'shadow-map'+'ping-summa'+'ry-part-1/'+'\x0afn\x20_getSh'+'adowPCF5x5'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20l'+'et\x20uw0:\x20f3'+'2\x20=\x20(4.0\x20-'+'\x203.0\x20*\x20s);'+'\x0a\x20\x20\x20\x20let\x20u'+'w1:\x20f32\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20l'+'et\x20uw2:\x20f3'+'2\x20=\x20(1.0\x20+'+'\x203.0\x20*\x20s);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'u0_offset:'+'\x20f32\x20=\x20(3.'+'0\x20-\x202.0\x20*\x20'+'s)\x20/\x20uw0\x20-'+'\x202.0;\x0a\x20\x20\x20\x20'+'let\x20u1_off'+'set:\x20f32\x20='+'\x20(3.0\x20+\x20s)'+'\x20/\x20uw1;\x0a\x20\x20'+'\x20\x20let\x20u2_o'+'ffset:\x20f32'+'\x20=\x20s\x20/\x20uw2'+'\x20+\x202.0;\x0a\x0a\x20'+'\x20\x20\x20let\x20vw0'+':\x20f32\x20=\x20(4'+'.0\x20-\x203.0\x20*'+'\x20t);\x0a\x20\x20\x20\x20l'+'et\x20vw1:\x20f3'+'2\x20=\x207.0;\x0a\x20'+'\x20\x20\x20let\x20vw2'+':\x20f32\x20=\x20(1'+'.0\x20+\x203.0\x20*'+'\x20t);\x0a\x0a\x20\x20\x20\x20'+'let\x20v0_off'+'set:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t)\x20/\x20v'+'w0\x20-\x202.0;\x0a'+'\x20\x20\x20\x20let\x20v1'+'_offset:\x20f'+'32\x20=\x20(3.0\x20'+('+\x20t)\x20/\x20vw1'+';\x0a\x20\x20\x20\x20let\x20'+'v2_offset:'+'\x20f32\x20=\x20t\x20/'+'\x20vw2\x20+\x202.0'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20sum:\x20f32\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20let\x20u0:\x20'+'f32\x20=\x20u0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.x;\x0a\x20\x20'+'\x20\x20let\x20v0:\x20'+'f32\x20=\x20v0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20u1:'+'\x20f32\x20=\x20u1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.x;\x0a\x20'+'\x20\x20\x20let\x20v1:'+'\x20f32\x20=\x20v1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20let\x20u2'+':\x20f32\x20=\x20u2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.x;\x0a'+'\x20\x20\x20\x20let\x20v2'+':\x20f32\x20=\x20v2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20sum\x20='+'\x20sum\x20+\x20uw0'+'\x20*\x20vw0\x20*\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20vec2f('+'u0,\x20v0),\x20z'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20sum\x20+\x20u'+'w1\x20*\x20vw0\x20*'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20vec2'+'f(u1,\x20v0),'+'\x20z);\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw2\x20*\x20vw0'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u2,\x20v0'+'),\x20z);\x0a\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw0\x20*\x20'+'vw1\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u0,'+'\x20v1),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'1,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'2\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare')+('Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u2,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw0\x20*\x20vw2'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u0,\x20v2'+'),\x20z);\x0a\x20\x20\x20'+'\x20sum\x20=\x20sum'+'\x20+\x20uw1\x20*\x20v'+'w2\x20*\x20textu'+'reSampleCo'+'mpareLevel'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'vec2f(u1,\x20'+'v2),\x20z);\x0a\x20'+'\x20\x20\x20sum\x20=\x20s'+'um\x20+\x20uw2\x20*'+'\x20vw2\x20*\x20tex'+'tureSample'+'CompareLev'+'el(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20vec2f(u2'+',\x20v2),\x20z);'+'\x0a\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20*\x20(1'+'.0\x20/\x20144.0'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afn'+'\x20getShadow'+'PCF5x5(sha'+'dowMap:\x20te'+'xture_dept'+'h_2d,\x20shad'+'owMapSampl'+'er:\x20sample'+'r_comparis'+'on,\x20shadow'+'Coord:\x20vec'+'3f,\x20shadow'+'Params:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20_getS'+'hadowPCF5x'+'5(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params.xyz'+');\x0a}\x0a\x0afn\x20g'+'etShadowSp'+'otPCF5x5(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owCoord:\x20v'+'ec3f,\x20shad'+'owParams:\x20'+'vec4f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20_ge'+'tShadowPCF'+'5x5(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a'),vI='\x0a\x0afn\x20fract'+'SinRand(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20PI:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20a:\x20f32\x20'+'=\x2012.9898;'+'\x20let\x20b:\x20f3'+'2\x20=\x2078.233'+';\x20let\x20c:\x20f'+'32\x20=\x2043758'+'.5453;\x0a\x20\x20\x20'+'\x20let\x20dt:\x20f'+'32\x20=\x20dot(u'+'v.xy,\x20vec2'+'f(a,\x20b));\x0a'+'\x20\x20\x20\x20let\x20sn'+':\x20f32\x20=\x20dt'+'\x20%\x20PI;\x0a\x20\x20\x20'+'\x20return\x20fr'+'act(sin(sn'+')\x20*\x20c);\x0a}\x0a'+'\x0a//\x20struct'+'\x20to\x20hold\x20p'+'recomputed'+'\x20constants'+'\x20and\x20curre'+'nt\x20state\x0as'+'truct\x20Voge'+'lDiskData\x20'+'{\x0a\x20\x20\x20\x20invN'+'umSamples:'+'\x20f32,\x0a\x20\x20\x20\x20'+'initialAng'+'le:\x20f32,\x0a\x20'+'\x20\x20\x20current'+'PointId:\x20f'+'32,\x0a}\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'fn\x20prepare'+'DiskConsta'+'nts(data:\x20'+'ptr<functi'+'on,\x20VogelD'+'iskData>,\x20'+'sampleCoun'+'t:\x20i32,\x20ra'+'ndomSeed:\x20'+'f32)\x20{\x0a\x20\x20\x20'+'\x20let\x20pi2:\x20'+'f32\x20=\x206.28'+'318530718;'+'\x0a\x20\x20\x20\x20data.'+'invNumSamp'+'les\x20=\x201.0\x20'+'/\x20f32(samp'+'leCount);\x0a'+'\x20\x20\x20\x20data.i'+'nitialAngl'+'e\x20=\x20random'+'Seed\x20*\x20pi2'+';\x0a\x20\x20\x20\x20data'+'.currentPo'+'intId\x20=\x200.'+'0;\x0a}\x0a\x0a\x0afn\x20'+'generateDi'+'skSample(d'+'ata:\x20ptr<f'+'unction,\x20V'+'ogelDiskDa'+'ta>)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20GOLDEN'+'_ANGLE:\x20f3'+'2\x20=\x202.3999'+'63;\x0a\x20\x20\x20\x20le'+'t\x20r:\x20f32\x20='+'\x20sqrt((dat'+'a.currentP'+'ointId\x20+\x200'+'.5)\x20*\x20data'+'.invNumSam'+'ples);\x0a\x20\x20\x20'+'\x20let\x20theta'+':\x20f32\x20=\x20da'+'ta.current'+'PointId\x20*\x20'+'GOLDEN_ANG'+'LE\x20+\x20data.'+'initialAng'+('le;\x0a\x0a\x20\x20\x20\x20l'+'et\x20offset:'+'\x20vec2f\x20=\x20v'+'ec2f(cos(t'+'heta),\x20sin'+'(theta))\x20*'+'\x20pow(r,\x201.'+'33);\x0a\x0a\x20\x20\x20\x20'+'data.curre'+'ntPointId\x20'+'=\x20data.cur'+'rentPointI'+'d\x20+\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'offset;\x0a}\x0a'+'\x0afn\x20PCSSFi'+'ndBlocker('+'shadowMap:'+'\x20texture_2'+'d<f32>,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler,\x20avgBl'+'ockerDepth'+':\x20ptr<func'+'tion,\x20f32>'+',\x20numBlock'+'ers:\x20ptr<f'+'unction,\x20i'+'32>,\x0a\x20\x20\x20\x20s'+'hadowCoord'+'s:\x20vec2f,\x20'+'z:\x20f32,\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32,\x20penum'+'braSize:\x20f'+'32,\x20invSha'+'dowMapSize'+':\x20f32,\x20ran'+'domSeed:\x20f'+'32)\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20diskD'+'ata:\x20Vogel'+'DiskData;\x0a'+'\x20\x20\x20\x20prepar'+'eDiskConst'+'ants(&disk'+'Data,\x20shad'+'owBlockerS'+'amples,\x20ra'+'ndomSeed);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'searchWidt'+'h:\x20f32\x20=\x20p'+'enumbraSiz'+'e\x20*\x20invSha'+'dowMapSize'+';\x0a\x20\x20\x20\x20var\x20'+'blockerSum'+':\x20f32\x20=\x200.'+'0;\x0a\x20\x20\x20\x20var'+'\x20numBlocke'+'rs_local:\x20'+'i32\x20=\x200;\x0a\x0a'+'\x20\x20\x20\x20for(\x20v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20s'+'hadowBlock'+'erSamples;'+'\x20i\x20=\x20i\x20+\x201'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20dis'+'kUV:\x20vec2f'+'\x20=\x20generat'+'eDiskSampl'+'e(&diskDat'+'a);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20samp'+'leUV:\x20vec2'+'f\x20=\x20shadow'+'Coords\x20+\x20d'+'iskUV\x20*\x20se'+'archWidth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadowM'+'apDepth:\x20f'+'32\x20=\x20textu'+'reSampleLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20sampleU'+'V,\x200.0).r;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(\x20shadow'+'MapDepth\x20<'+'\x20z\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20b'+'lockerSum\x20')+('=\x20blockerS'+'um\x20+\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers_local'+'\x20=\x20numBloc'+'kers_local'+'\x20+\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20*avg'+'BlockerDep'+'th\x20=\x20block'+'erSum\x20/\x20f3'+'2(numBlock'+'ers_local)'+';\x0a\x20\x20\x20\x20*num'+'Blockers\x20='+'\x20numBlocke'+'rs_local;\x0a'+'}\x0a\x0afn\x20PCSS'+'Filter(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20uv:\x20vec2'+'f,\x20receive'+'rDepth:\x20f3'+'2,\x20shadowS'+'amples:\x20i3'+'2,\x20filterR'+'adius:\x20f32'+',\x20randomSe'+'ed:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20var\x20dis'+'kData:\x20Vog'+'elDiskData'+';\x0a\x20\x20\x20\x20prep'+'areDiskCon'+'stants(&di'+'skData,\x20sh'+'adowSample'+'s,\x20randomS'+'eed);\x0a\x0a\x20\x20\x20'+'\x20var\x20sum:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20for\x20('+'var\x20i:\x20i32'+'\x20=\x200;\x20i\x20<\x20'+'shadowSamp'+'les;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'offsetUV:\x20'+'vec2f\x20=\x20ge'+'nerateDisk'+'Sample(&di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dept'+'h:\x20f32\x20=\x20t'+'extureSamp'+'leLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv\x20'+'+\x20offsetUV'+',\x200.0).r;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20su'+'m\x20=\x20sum\x20+\x20'+'step(recei'+'verDepth,\x20'+'depth);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20sum\x20/'+'\x20f32(shado'+'wSamples);'+'\x0a}\x0a\x0afn\x20get'+'Penumbra(d'+'blocker:\x20f'+'32,\x20drecei'+'ver:\x20f32,\x20'+'penumbraSi'+'ze:\x20f32,\x20p'+'enumbraFal'+'loff:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20di'+'st:\x20f32\x20=\x20'+'dreceiver\x20'+'-\x20dblocker'+';\x0a\x20\x20\x20\x20let\x20'+'penumbra:\x20'+'f32\x20=\x201.0\x20'+'-\x20pow(1.0\x20'+'-\x20dist,\x20pe')+('numbraFall'+'off);\x0a\x20\x20\x20\x20'+'return\x20pen'+'umbra\x20*\x20pe'+'numbraSize'+';\x0a}\x0a\x0afn\x20PC'+'SSDirectio'+'nal(shadow'+'Map:\x20textu'+'re_2d<f32>'+',\x20shadowMa'+'pSampler:\x20'+'sampler,\x20s'+'hadowCoord'+'s:\x20vec3f,\x20'+'cameraPara'+'ms:\x20vec4f,'+'\x20softShado'+'wParams:\x20v'+'ec4f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'let\x20receiv'+'erDepth:\x20f'+'32\x20=\x20shado'+'wCoords.z;'+'\x0a\x20\x20\x20\x20let\x20r'+'andomSeed:'+'\x20f32\x20=\x20fra'+'ctSinRand('+'pcPosition'+'.xy);\x0a\x20\x20\x20\x20'+'let\x20shadow'+'Samples:\x20i'+'32\x20=\x20i32(s'+'oftShadowP'+'arams.x);\x0a'+'\x20\x20\x20\x20let\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32\x20=\x20i32('+'softShadow'+'Params.y);'+'\x0a\x20\x20\x20\x20let\x20p'+'enumbraSiz'+'e:\x20f32\x20=\x20s'+'oftShadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20let\x20pen'+'umbraFallo'+'ff:\x20f32\x20=\x20'+'softShadow'+'Params.w;\x0a'+'\x0a\x20\x20\x20\x20let\x20s'+'hadowMapSi'+'ze:\x20i32\x20=\x20'+'i32(textur'+'eDimension'+'s(shadowMa'+'p,\x200).x);\x0a'+'\x20\x20\x20\x20var\x20in'+'vShadowMap'+'Size:\x20f32\x20'+'=\x201.0\x20/\x20f3'+'2(shadowMa'+'pSize);\x0a\x20\x20'+'\x20\x20invShado'+'wMapSize\x20='+'\x20invShadow'+'MapSize\x20*\x20'+'(f32(shado'+'wMapSize)\x20'+'/\x202048.0);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'penumbra:\x20'+'f32;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20avgBloc'+'kerDepth:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20numBloc'+'kers:\x20i32\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20&a'+'vgBlockerD'+'epth,\x20&num')+('Blockers,\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowBl'+'ockerSampl'+'es,\x20penumb'+'raSize,\x20in'+'vShadowMap'+'Size,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20when\x20no\x20b'+'lockers\x20ar'+'e\x20present\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(numBlock'+'ers\x20<\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20pen'+'umbra\x20size'+'\x20is\x20based\x20'+'on\x20the\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'getPenumbr'+'a(avgBlock'+'erDepth,\x20s'+'hadowCoord'+'s.z,\x20penum'+'braSize,\x20p'+'enumbraFal'+'loff);\x0a\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20constan'+'t\x20filter\x20s'+'ize,\x20no\x20co'+'ntact\x20hard'+'ening\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20penum'+'braSize;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20filter'+'Radius:\x20f3'+'2\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ords.xy,\x20r'+'eceiverDep'+'th,\x20shadow'+'Samples,\x20f'+'ilterRadiu'+'s,\x20randomS'+'eed);\x0a}\x0a\x0af'+'n\x20getShado'+'wPCSS(shad'+'owMap:\x20tex'+'ture_2d<f3'+'2>,\x20shadow'+'MapSampler'+':\x20sampler,'+'\x20shadowCoo'+'rd:\x20vec3f,'+'\x20shadowPar'+'ams:\x20vec4f'+',\x20cameraPa'+'rams:\x20vec4'+'f,\x20softSha'+'dowParams:'+'\x20vec4f,\x20li'+'ghtDir:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x20//\x20lig'+'htDir\x20unus'+'ed?\x20Kept\x20p'+'aram.\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SDirection'+'al(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP')+'arams);\x0a}\x0a',xI='\x0aattribute'+'\x20vertex_bo'+'neIndices:'+'\x20f32;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20g'+'etBoneMatr'+'ix(indexFl'+'oat:\x20f32)\x20'+'->\x20mat4x4f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20width\x20=\x20'+'i32(textur'+'eDimension'+'s(texture_'+'poseMap).x'+');\x0a\x20\x20\x20\x20let'+'\x20index:\x20i3'+'2\x20=\x20i32(in'+'dexFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x20\x20\x20\x20let\x20i'+'y:\x20i32\x20=\x20i'+'ndex\x20/\x20wid'+'th;\x0a\x20\x20\x20\x20le'+'t\x20ix:\x20i32\x20'+'=\x20index\x20%\x20'+'width;\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'elements\x20o'+'f\x204x3\x20matr'+'ix\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec4f'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(ix'+'\x20+\x200,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20v2:\x20vec'+'4f\x20=\x20textu'+'reLoad(tex'+'ture_poseM'+'ap,\x20vec2i('+'ix\x20+\x201,\x20iy'+'),\x200);\x0a\x20\x20\x20'+'\x20let\x20v3:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(ix\x20+\x202,\x20'+'iy),\x200);\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4x4f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.x,\x20v2.x,'+'\x20v3.x,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.y,\x20v2.y,\x20'+'v3.y,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'z,\x20v2.z,\x20v'+'3.z,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.w'+',\x20v2.w,\x20v3'+'.w,\x201.0\x0a\x20\x20'+'\x20\x20);\x0a}\x0a',TI='\x0a\x0aattribut'+'e\x20vertex_b'+'oneWeights'+':\x20vec4f;\x0aa'+'ttribute\x20v'+'ertex_bone'+'Indices:\x20v'+'ec4f;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0astru'+'ct\x20BoneMat'+'rix\x20{\x0a\x20\x20\x20\x20'+'v1:\x20vec4f,'+'\x0a\x20\x20\x20\x20v2:\x20v'+'ec4f,\x0a\x20\x20\x20\x20'+'v3:\x20vec4f,'+'\x0a}\x0a\x0afn\x20get'+'BoneMatrix'+'(width:\x20i3'+'2,\x20index:\x20'+'i32)\x20->\x20Bo'+'neMatrix\x20{'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'v\x20=\x20index\x20'+'/\x20width;\x0a\x20'+'\x20\x20\x20let\x20u\x20='+'\x20index\x20%\x20w'+'idth;\x0a\x0a\x20\x20\x20'+'\x20var\x20resul'+'t:\x20BoneMat'+'rix;\x0a\x20\x20\x20\x20r'+'esult.v1\x20='+'\x20textureLo'+'ad(texture'+'_poseMap,\x20'+'vec2i(u\x20+\x20'+'0,\x20v),\x200);'+'\x0a\x20\x20\x20\x20resul'+'t.v2\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20result.v3'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(u\x20'+'+\x202,\x20v),\x200'+');\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0afn\x20ge'+'tSkinMatri'+'x(indicesF'+'loat:\x20vec4'+'f,\x20weights'+':\x20vec4f)\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20width\x20=\x20i'+'32(texture'+'Dimensions'+'(texture_p'+'oseMap).x)'+';\x0a\x20\x20\x20\x20var\x20'+'indices\x20=\x20'+'vec4i(indi'+'cesFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'boneA\x20=\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.x);'+'\x0a\x20\x20\x20\x20let\x20b'+'oneB\x20=\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y);\x0a'+'\x20\x20\x20\x20let\x20bo'+'neC\x20=\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.z);\x0a\x20'+'\x20\x20\x20let\x20bon'+'eD\x20=\x20getBo'+'neMatrix(w'+'idth,\x20indi'+'ces.w);\x0a\x0a\x20'+'\x20\x20\x20//\x20...\x20'+'rest\x20of\x20ge'+'tSkinMatri'+'x\x20remains\x20'+'the\x20same\x20.'+'..\x0a\x20\x20\x20\x20let'+'\x20v1\x20=\x20bone'+'A.v1\x20*\x20wei'+('ghts.x\x20+\x20b'+'oneB.v1\x20*\x20'+'weights.y\x20'+'+\x20boneC.v1'+'\x20*\x20weights'+'.z\x20+\x20boneD'+'.v1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20let\x20v2\x20=\x20'+'boneA.v2\x20*'+'\x20weights.x'+'\x20+\x20boneB.v'+'2\x20*\x20weight'+'s.y\x20+\x20bone'+'C.v2\x20*\x20wei'+'ghts.z\x20+\x20b'+'oneD.v2\x20*\x20'+'weights.w;'+'\x0a\x20\x20\x20\x20let\x20v'+'3\x20=\x20boneA.'+'v3\x20*\x20weigh'+'ts.x\x20+\x20bon'+'eB.v3\x20*\x20we'+'ights.y\x20+\x20'+'boneC.v3\x20*'+'\x20weights.z'+'\x20+\x20boneD.v'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'let\x20one\x20=\x20'+'dot(weight'+'s,\x20vec4f(1'+'.0,\x201.0,\x201'+'.0,\x201.0));'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'ranspose\x20t'+'o\x204x4\x20matr'+'ix\x0a\x20\x20\x20\x20ret'+'urn\x20mat4x4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20v1.x,\x20v2.'+'x,\x20v3.x,\x200'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.y,\x20v2.y'+',\x20v3.y,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.z,\x20v2.z,'+'\x20v3.z,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.w,\x20v2.w,\x20'+'v3.w,\x20one\x0a'+'\x20\x20\x20\x20);\x0a}\x0a'),wI='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vLinear'+'Depth:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'floatAsUin'+'tPS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20Varyin'+'g\x20and\x20unif'+'orm\x20declar'+'ations\x0a\x20\x20\x20'+'\x20varying\x20v'+'ViewDir\x20:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20uniform\x20s'+'kyboxHighl'+'ightMultip'+'lier\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20SKY_CU'+'BEMAP\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cub'+'eMap\x20:\x20tex'+'ture_cube<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_cube'+'Map_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vWo'+'rldPos\x20:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20p'+'rojectedSk'+'ydomeCente'+'r\x20:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'env-atlas\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'phericalPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'envAtlasPS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_envAtlas_'+'sampler\x20:\x20'+'sampler;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20mipL'+'evel\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20@'+'fragment\x0a\x20'+'\x20\x20\x20fn\x20frag'+'mentMain(i'+'nput\x20:\x20Fra'+'gmentInput'+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20PREPA'+('SS_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20output'+'\x20linear\x20de'+'pth\x20during'+'\x20prepass\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20floa'+'t2vec4(vLi'+'nearDepth)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20linear'+'\x20:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20dir\x20'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KY_CUBEMAP'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+'\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+'nvDir\x20:\x20ve'+'c3f\x20=\x20norm'+'alize(inpu'+'t.vWorldPo'+'s\x20-\x20unifor'+'m.projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'\x20=\x20envDir\x20'+'*\x20uniform.'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir\x20='+'\x20input.vVi'+'ewDir;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'.x\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'tureSample'+'(texture_c'+'ubeMap,\x20te'+'xture_cube'+'Map_sample'+'r,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20env-atla'+'s\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ir\x20=\x20input'+'.vViewDir\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv\x20:\x20'+'vec2f\x20=\x20to'+'SphericalU'+'v(normaliz'+'e(dir));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20linea'+'r\x20=\x20{SKYBO'+'X_DECODE_F'+'NC}(textur'+'eSample(te'+'xture_envA'+'tlas,\x20text'+'ure_envAtl'+'as_sampler'+',\x20mapRough'+'nessUv(uv,')+('\x20uniform.m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ou'+'r\x20HDR\x20enco'+'des\x20values'+'\x20up\x20to\x2064,'+'\x20so\x20allow\x20'+'extra\x20brig'+'htness\x20for'+'\x20the\x20clipp'+'ed\x20values\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(any('+'linear\x20>=\x20'+'vec3f(64.0'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20uniform.'+'skyboxHigh'+'lightMulti'+'plier;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),EI='\x0a\x20\x20\x20\x20//\x20At'+'tribute\x0a\x20\x20'+'\x20\x20attribut'+'e\x20aPositio'+'n\x20:\x20vec4f;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20matrix'+'_view\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20uniform\x20m'+'atrix_proj'+'ectionSkyb'+'ox\x20:\x20mat4x'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vViewDir'+'\x20:\x20vec3f;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PREPASS_'+'PASS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20when'+'\x20skydome\x20r'+'enders\x20dep'+'th\x20during\x20'+'prepass,\x20g'+'enerate\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vLi'+'nearDepth:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vWorldP'+'os\x20:\x20vec3f'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input\x20'+':\x20VertexIn'+'put)\x20->\x20Ve'+'rtexOutput'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut\x20:\x20Verte'+'xOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20view\x20:\x20ma'+'t4x4f\x20=\x20un'+'iform.matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'worldPos\x20:'+'\x20vec4f\x20=\x20u'+'niform.mat'+'rix_model\x20'+'*\x20input.aP'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vW'+'orldPos\x20=\x20'+'worldPos.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'inear\x20dept'+'h\x20from\x20the'+'\x20worldPosi'+'tion,\x20see\x20'+'getLinearD'+'epth\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vL'+'inearDepth'+'\x20=\x20-(unifo'+('rm.matrix_'+'view\x20*\x20vec'+'4f(worldPo'+'s.xyz,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[0]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[1]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[2]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20uniform.m'+'atrix_proj'+'ectionSkyb'+'ox\x20*\x20(view'+'\x20*\x20input.a'+'Position);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'vViewDir\x20='+'\x20input.aPo'+'sition.xyz'+'\x20*\x20uniform'+'.cubeMapRo'+'tationMatr'+'ix;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20for\x20'+'infinite\x20s'+'kybox,\x20use'+'\x20negative\x20'+'gl_Positio'+'n.w\x20to\x20get'+'\x20positive\x20'+'linear\x20dep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-pcPositi'+'on.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Force\x20sk'+'ybox\x20to\x20fa'+'r\x20Z,\x20regar'+'dless\x20of\x20t'+'he\x20clip\x20pl'+'anes\x20on\x20th'+'e\x20camera\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Subtract\x20a'+'\x20tiny\x20fudg'+'e\x20factor\x20t'+'o\x20ensure\x20f'+'loating\x20po'+'int\x20errors'+'\x20don\x27t\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20st'+'ill\x20push\x20p'+'ixels\x20beyo'+'nd\x20far\x20Z.\x20'+'See:\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20http'+'s://commun'+'ity.khrono'+'s.org/t/sk'+'ybox-probl'+'em/61857\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.posit'+'ion.z\x20=\x20ou'+'tput.posit'+'ion.w\x20-\x201.'+'0e-7;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),bI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_specular'+':\x20vec3f;\x0a#'+'endif\x0a\x0afn\x20'+'getSpecula'+'rity()\x20{\x0a\x20'+'\x20\x20\x20var\x20spe'+'cularColor'+'\x20=\x20vec3f(1'+'.0,\x201.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'CONSTANT\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20unifo'+'rm.materia'+'l_specular'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_TE'+'XTURE\x0a\x20\x20\x20\x20'+'specularCo'+'lor\x20=\x20spec'+'ularColor\x20'+'*\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SPECU'+'LAR_TEXTUR'+'E_NAME},\x20{'+'STD_SPECUL'+'AR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_S'+'PECULAR_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SPECULA'+'R_VERTEX\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20satur'+'ate3(vVert'+'exColor.{S'+'TD_SPECULA'+'R_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dSpe'+'cularity\x20='+'\x20specularC'+'olor;\x0a}\x0a',AI='\x0a\x0afn\x20toSph'+'erical(dir'+':\x20vec3f)\x20-'+'>\x20vec2f\x20{\x0a'+'\x20\x20\x20\x20let\x20an'+'gle_xz\x20=\x20s'+'elect(0.0,'+'\x20atan2(dir'+'.x,\x20dir.z)'+',\x20any(dir.'+'xz\x20!=\x20vec2'+'f(0.0)));\x0a'+'\x20\x20\x20\x20return'+'\x20vec2f(ang'+'le_xz,\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0afn\x20toS'+'phericalUv'+'(dir\x20:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20c'+'onst\x20PI\x20:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20uv\x20:\x20ve'+'c2f\x20=\x20toSp'+'herical(di'+'r)\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x20vec'+'2f(0.5,\x200.'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y);\x0a'+'}\x0a',CI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'\x20\x20\x20\x20unifor'+'m\x20material'+'_speculari'+'tyFactor:\x20'+'f32;\x0a#endi'+'f\x0a\x0afn\x20getS'+'pecularity'+'Factor()\x20{'+'\x0a\x20\x20\x20\x20var\x20s'+'pecularity'+'Factor\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20speculari'+'tyFactor\x20='+'\x20speculari'+'tyFactor\x20*'+'\x20uniform.m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'ARITYFACTO'+'R_TEXTURE\x0a'+'\x20\x20\x20\x20specul'+'arityFacto'+'r\x20=\x20specul'+'arityFacto'+'r\x20*\x20textur'+'eSampleBia'+'s({STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_NAME},\x20'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_VE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_SPEC'+'ULARITYFAC'+'TOR_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dS'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor;\x0a}\x0a',PI='\x0afn\x20getSpo'+'tEffect(li'+'ghtSpotDir'+':\x20vec3f,\x20l'+'ightInnerC'+'oneAngle:\x20'+'f32,\x20light'+'OuterConeA'+'ngle:\x20f32,'+'\x20lightDirN'+'orm:\x20vec3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'osAngle:\x20f'+'32\x20=\x20dot(l'+'ightDirNor'+'m,\x20lightSp'+'otDir);\x0a\x20\x20'+'\x20\x20return\x20s'+'moothstep('+'lightOuter'+'ConeAngle,'+'\x20lightInne'+'rConeAngle'+',\x20cosAngle'+');\x0a}',MI='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2f(vUv0'+'.x,\x201.0\x20-\x20'+'vUv0.y);\x0a',DI='\x0a\x20\x20\x20\x20let\x20t'+'ileMask:\x20v'+'ec2f\x20=\x20ste'+'p(vMask,\x20v'+'ec2f(0.999'+'99));\x0a\x20\x20\x20\x20'+'let\x20tileSi'+'ze:\x20vec2f\x20'+'=\x200.5\x20*\x20(i'+'nnerOffset'+'.xy\x20+\x20inne'+'rOffset.zw'+');\x0a\x20\x20\x20\x20let'+'\x20tileScale'+':\x20vec2f\x20=\x20'+'vec2f(1.0)'+'\x20/\x20(vec2f('+'1.0)\x20-\x20til'+'eSize);\x0a\x20\x20'+'\x20\x20var\x20clam'+'pedUv:\x20vec'+'2f\x20=\x20mix(i'+'nnerOffset'+'.xy\x20*\x200.5,'+'\x20vec2f(1.0'+')\x20-\x20innerO'+'ffset.zw\x20*'+'\x200.5,\x20frac'+'t((vTiledU'+'v\x20-\x20tileSi'+'ze)\x20*\x20tile'+'Scale));\x0a\x20'+'\x20\x20\x20clamped'+'Uv\x20=\x20clamp'+'edUv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x20\x20\x20\x20'+'var\x20nineSl'+'icedUv:\x20ve'+'c2f\x20=\x20vUv0'+'\x20*\x20tileMas'+'k\x20+\x20clampe'+'dUv\x20*\x20(vec'+'2f(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x0a',II='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dAlpha'+':\x20f32\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20//'+'\x20all\x20passe'+'s\x20handle\x20o'+'pacity\x0a\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'!=\x20NONE\x20||'+'\x20defined(L'+'IT_ALPHA_T'+'EST)\x20||\x20de'+'fined(LIT_'+'ALPHA_TO_C'+'OVERAGE)\x20|'+'|\x20STD_OPAC'+'ITY_DITHER'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_OP'+'ACITY_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_opa'+'cityMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_opacityMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20globals'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dAlbedo:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'NormalW:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dSp'+'ecularity:'+'\x20vec3f\x20=\x20v'+'ec3f(0.0,\x20'+'0.0,\x200.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dGlossin'+'ess:\x20f32\x20='+'\x200.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_REFR'+'ACTION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dTransmi'+'ssion:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dTh'+'ickness:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'CENE_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SCREE'+'N_SIZE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20uSc'+'reenSize:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+('f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_TRANSFOR'+'MS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20ma'+'trix_viewP'+'rojection:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20matri'+'x_model:\x20m'+'at4x4f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20paral'+'lax\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_HEIGHT_'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'UvOffset:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'DIFFUSE_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_heightM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'heightMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'diffuseMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_diffus'+'eMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSEDETAI'+'L_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20norma'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_NORMAL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_normalMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20#ifdef'+'\x20STD_NORMA'+'LDETAIL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalDetai'+'lMap\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_no'+'rmalDetail'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_T'+'HICKNESS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'thicknessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_thic'+'knessMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_REFRACTIO'+'N_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_refract'+'ionMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'refraction'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20i'+'ridescence'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dIr'+'idescence:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20dIridesce'+'nceThickne'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'iridescenc'+'eThickness'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_iridescen'+'ceThicknes'+'sMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur')+('e_iridesce'+'nceMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_irides'+'cenceMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20ccSp'+'ecularity:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20ccGlossin'+'ess:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20ccNor'+'malW:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dAni'+'sotropy:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'Anisotropy'+'Rotation:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'arity\x20&\x20gl'+'ossiness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20she'+'en\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sSpecular'+'ity:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sGlossine'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'HEENGLOSS_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_s'+'heenGlossM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_sheenG'+'lossMapSam'+'pler\x20:\x20sam'+'pler;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_MET'+'ALNESS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dMet'+'alness:\x20f3'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dIor:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'metalnessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_metaln'+'essMapSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'rity\x20facto'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var<privat'+'e>\x20dSpecul'+'arityFacto'+'r:\x20f32;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rityFactor'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_specu'+'larityFact'+'orMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_SPECULAR'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_')+('specularMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20gloss\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_glossMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_glo'+'ssMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dAo:\x20f32;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_aoMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_AODETAIL_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoDet'+'ailMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_aoDeta'+'ilMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dEmission'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_EM'+'ISSIVE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_em'+'issiveMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_emissiv'+'eMapSample'+'r\x20:\x20sample')+('r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatG'+'lossMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_clear'+'CoatGlossM'+'apSampler\x20'+':\x20sampler;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_clearC'+'oatNormalM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatN'+'ormalMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20anisotr'+'opy\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_A'+'NISOTROPY_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aniso'+'tropyMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_anis'+'otropyMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20lightm'+'ap\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(STD_LIG'+'HTMAP)\x20||\x20')+('defined(ST'+'D_LIGHT_VE'+'RTEX_COLOR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dLi'+'ghtmap:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_LI'+'GHT_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_l'+'ightMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_light'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20front'+'\x20end\x20outpu'+'ts\x20to\x20lit\x20'+'shader\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22litShader'+'CorePS\x22\x0a'),LI='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fn\x20'+'getSpecula'+'rity()\x20{\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20vec3f'+'(1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'gloss\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22gl'+'ossPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22aoPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20emissi'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22emissiveP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clear'+'coat\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20')+('LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22clea'+'rCoatPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'GlossPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'NormalPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ani'+'sotropy\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x20&&\x20defin'+'ed(LIT_LIG'+'HTING)\x20&&\x20'+'defined(LI'+'T_GGX_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22an'+'isotropyPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(ST'+'D_LIGHTMAP'+')\x20||\x20defin'+'ed(STD_LIG'+'HT_VERTEX_'+'COLOR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22l'+'ightmapPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20fn\x20evalu'+'ateFronten'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20al'+'l\x20passes\x20h'+'andle\x20opac'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIT_'+'BLEND_TYPE'+'\x20!=\x20NONE\x20|'+'|\x20defined('+'LIT_ALPHA_'+'TEST)\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x20'+'||\x20STD_OPA'+'CITY_DITHE'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getOpaci'+'ty();\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_ALPHA'+'_TEST)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20alphaTe'+'st(dAlpha)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20opacityDi'+'ther(dAlph'+'a,\x200.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20d'+'Alpha;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20par')+('allax\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getP'+'arallax();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getA'+'lbedo();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_a'+'lbedo\x20=\x20dA'+'lbedo;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20normal\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getNorma'+'l();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_w'+'orldNormal'+'\x20=\x20dNormal'+'W;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'fraction\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etRefracti'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'transmissi'+'on\x20=\x20dTran'+'smission;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Thickness('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness\x20=\x20d'+'Thickness;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_D'+'ISPERSION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_di'+'spersion\x20='+'\x20uniform.m'+'aterial_di'+'spersion;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_IRIDESC'+'ENCE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getIrides'+'cence();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getIr'+'idescenceT'+'hickness()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x20=\x20'+'dIridescen'+'ce;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specularit'+'y\x20&\x20glossi'+'ness\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20sheen\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSheen()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'sheen_spec'+'ularity\x20=\x20'+'sSpeculari'+'ty;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getShe'+'enGlossine'+'ss();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_sheen_'+'gloss\x20=\x20sG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getMetaln'+'ess();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_metal'+'ness\x20=\x20dMe'+'talness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etIor();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+'\x20=\x20dIor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'ity\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULARITY_'+'FACTOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'yFactor();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'Factor\x20=\x20d'+'Specularit'+'yFactor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20gloss\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'y();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20dSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs')+('_gloss\x20=\x20d'+'Glossiness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ao\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getAO();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_ao\x20=\x20'+'dAo;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getEmissi'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_emis'+'sion\x20=\x20dEm'+'ission;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getClea'+'rCoat();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getCl'+'earCoatGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'ClearCoatN'+'ormal();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20=\x20ccS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_glos'+'s\x20=\x20ccGlos'+'siness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal\x20=\x20ccNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20anisotro'+'py\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getAnisot'+'ropy();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightM'+'ap();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmap\x20='+'\x20dLightmap'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_')+('LIGHTMAP_D'+'IR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmapD'+'ir\x20=\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a'),RI='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20tbnB'+'asis:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getTBN(t'+'angent:\x20ve'+'c3f,\x20binor'+'mal:\x20vec3f'+',\x20normal:\x20'+'vec3f)\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20TBN_TANGE'+'NTS\x20//\x20tan'+'gents\x20/\x20bi'+'normals\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dTB'+'N\x20=\x20mat3x3'+'f(normaliz'+'e(tangent)'+',\x20normaliz'+'e(binormal'+'),\x20normali'+'ze(normal)'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20define'+'d(TBN_DERI'+'VATIVES)\x20/'+'/\x20derivati'+'ves\x20based\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2f\x20=\x20{'+'lightingUv'+'};\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dp1:'+'\x20vec3f\x20=\x20d'+'pdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dp2:\x20vec3'+'f\x20=\x20dpdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20duv1'+':\x20vec2f\x20=\x20'+'dpdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20duv2:\x20'+'vec2f\x20=\x20dp'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20solve\x20th'+'e\x20linear\x20s'+'ystem\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20dp'+'2perp:\x20vec'+'3f\x20=\x20cross'+'(\x20dp2,\x20nor'+'mal\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20d'+'p1perp:\x20ve'+'c3f\x20=\x20cros'+'s(\x20normal,'+'\x20dp1\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'T:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.x\x20+\x20'+'dp1perp\x20*\x20'+'duv2.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'B:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+('dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+'ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20deno'+'m:\x20f32\x20=\x20m'+'ax(\x20dot(T,'+'\x20T),\x20dot(B'+',\x20B)\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'invmax:\x20f3'+'2\x20=\x20select'+'(uniform.t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20),\x200.0,\x20'+'denom\x20==\x200'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3x3f(T\x20'+'*\x20invmax,\x20'+'-B\x20*\x20invma'+'x,\x20normal\x20'+');\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20obj'+'ect\x20space\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20B:\x20'+'vec3f\x20=\x20cr'+'oss(normal'+',\x20vObjectS'+'paceUpW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20T:\x20vec3f'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dot(B,'+'B)\x20==\x200.0)'+'\x20//\x20deal\x20w'+'ith\x20case\x20w'+'hen\x20vObjec'+'tSpaceUpW\x20'+'normal\x20are'+'\x20parallel\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20majo'+'r:\x20f32\x20=\x20m'+'ax(max(nor'+'mal.x,\x20nor'+'mal.y),\x20no'+'rmal.z);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20B\x20=\x20c'+'ross(norma'+'l,\x20vec3f(0'+'.0,\x201.0,\x200'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x20if\x20(n'+'ormal.y\x20=='+'\x20major)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20B\x20'+'=\x20cross(no'+'rmal,\x20vec3'+'f(0.0,\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20//'+'\x20removed\x20\x22'+'if\x20(normal'+'.z\x20==\x20majo'+'r)\x22\x20assumi'+'ng\x20it\x27s\x20th'+'e\x20only\x20rem'+'aining\x20cas'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20B\x20=\x20cros'+'s(normal,\x20'+'vec3f(1.0,'+'\x200.0,\x200.0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3x3f(n'+'ormalize(T'+'),\x20normali'+'ze(B),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a}'),OI='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_th'+'ickness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getTh'+'ickness()\x20'+'{\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'THICKNESS_'+'CONSTANT\x0a\x20'+'\x20\x20\x20dThickn'+'ess\x20=\x20dThi'+'ckness\x20*\x20u'+'niform.mat'+'erial_thic'+'kness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_THICKN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x20d'+'Thickness\x20'+'*\x20textureS'+'ampleBias('+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_THICKNESS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_THIC'+'KNESS_VERT'+'EX\x0a\x20\x20\x20\x20dTh'+'ickness\x20=\x20'+'dThickness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',FI='\x0a#if\x20(TONE'+'MAP\x20==\x20NON'+'E)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingNo'+'nePS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20FILMIC\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingFilmi'+'cPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22tonemap'+'pingLinear'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20HEJL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gHejlPS\x22\x0a#'+'elif\x20TONEM'+'AP\x20==\x20ACES'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingAces'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20ACES2\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngAces2PS\x22'+'\x0a#elif\x20TON'+'EMAP\x20==\x20NE'+'UTRAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gNeutralPS'+'\x22\x0a#endif\x0a',NI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20t'+'A:\x20f32\x20=\x202'+'.51;\x0a\x20\x20\x20\x20l'+'et\x20tB:\x20f32'+'\x20=\x200.03;\x0a\x20'+'\x20\x20\x20let\x20tC:'+'\x20f32\x20=\x202.4'+'3;\x0a\x20\x20\x20\x20let'+'\x20tD:\x20f32\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20let\x20tE:\x20f'+'32\x20=\x200.14;'+'\x0a\x20\x20\x20\x20let\x20x'+':\x20vec3f\x20=\x20'+'color\x20*\x20un'+'iform.expo'+'sure;\x0a\x20\x20\x20\x20'+'return\x20(x\x20'+'*\x20(tA\x20*\x20x\x20'+'+\x20tB))\x20/\x20('+'x\x20*\x20(tC\x20*\x20'+'x\x20+\x20tD)\x20+\x20'+'tE);\x0a}\x0a',kI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0a//\x20AC'+'ES\x20approxi'+'mation\x20by\x20'+'Stephen\x20Hi'+'ll\x0a\x0a//\x20sRG'+'B\x20=>\x20XYZ\x20='+'>\x20D65_2_D6'+'0\x20=>\x20AP1\x20='+'>\x20RRT_SAT\x0a'+'const\x20ACES'+'InputMat:\x20'+'mat3x3f\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20vec3f(0'+'.59719,\x200.'+'35458,\x200.0'+'4823),\x0a\x20\x20\x20'+'\x20vec3f(0.0'+'7600,\x200.90'+'834,\x200.015'+'66),\x0a\x20\x20\x20\x20v'+'ec3f(0.028'+'40,\x200.1338'+'3,\x200.83777'+')\x0a);\x0a\x0a//\x20O'+'DT_SAT\x20=>\x20'+'XYZ\x20=>\x20D60'+'_2_D65\x20=>\x20'+'sRGB\x0aconst'+'\x20ACESOutpu'+'tMat:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20v'+'ec3f(\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367),\x0a\x20\x20\x20\x20'+'vec3f(-0.1'+'0208,\x20\x201.1'+'0813,\x20-0.0'+'0605),\x0a\x20\x20\x20'+'\x20vec3f(-0.'+'00327,\x20-0.'+'07276,\x20\x201.'+'07602)\x0a);\x0a'+'\x0afn\x20RRTAnd'+'ODTFit(v:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20a:\x20v'+'ec3f\x20=\x20v\x20*'+'\x20(v\x20+\x20vec3'+'f(0.024578'+'6))\x20-\x20vec3'+'f(0.000090'+'537);\x0a\x20\x20\x20\x20'+'let\x20b:\x20vec'+'3f\x20=\x20v\x20*\x20('+'vec3f(0.98'+'3729)\x20*\x20v\x20'+'+\x20vec3f(0.'+'4329510))\x20'+'+\x20vec3f(0.'+'238081);\x0a\x20'+'\x20\x20\x20return\x20'+'a\x20/\x20b;\x0a}\x0a\x0a'+'fn\x20toneMap'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'var\x20c:\x20vec'+'3f\x20=\x20color'+'\x20*\x20(unifor'+'m.exposure'+'\x20/\x200.6);\x0a\x20'+'\x20\x20\x20c\x20=\x20c\x20*'+'\x20ACESInput'+'Mat;\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20R'+'RT\x20and\x20ODT'+'\x0a\x20\x20\x20\x20c\x20=\x20R'+'RTAndODTFi'+'t(c);\x0a\x20\x20\x20\x20'+'c\x20=\x20c\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(c,\x20vec'+'3f(0.0),\x20v'+'ec3f(1.0))'+';\x0a}\x0a',UI='\x0aconst\x20A:\x20'+'f32\x20=\x200.15'+';\x0aconst\x20B:'+'\x20f32\x20=\x200.5'+'0;\x0aconst\x20C'+':\x20f32\x20=\x200.'+'10;\x0aconst\x20'+'D:\x20f32\x20=\x200'+'.20;\x0aconst'+'\x20E:\x20f32\x20=\x20'+'0.02;\x0acons'+'t\x20F:\x20f32\x20='+'\x200.30;\x0acon'+'st\x20W:\x20f32\x20'+'=\x2011.2;\x0a\x0au'+'niform\x20exp'+'osure:\x20f32'+';\x0a\x0afn\x20unch'+'arted2Tone'+'map(x:\x20vec'+'3f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20((x\x20'+'*\x20(A\x20*\x20x\x20+'+'\x20C\x20*\x20B)\x20+\x20'+'D\x20*\x20E)\x20/\x20('+'x\x20*\x20(A\x20*\x20x'+'\x20+\x20B)\x20+\x20D\x20'+'*\x20F))\x20-\x20ve'+'c3f(E\x20/\x20F)'+';\x0a}\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20c'+':\x20vec3f\x20=\x20'+'uncharted2'+'Tonemap(co'+'lor\x20*\x20unif'+'orm.exposu'+'re);\x0a\x20\x20\x20\x20l'+'et\x20whiteSc'+'ale:\x20vec3f'+'\x20=\x20vec3f(1'+'.0)\x20/\x20unch'+'arted2Tone'+'map(vec3f('+'W,\x20W,\x20W));'+'\x0a\x20\x20\x20\x20c\x20*=\x20'+'whiteScale'+';\x0a\x20\x20\x20\x20retu'+'rn\x20c;\x0a}\x0a',BI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20A'+':\x20f32\x20=\x200.'+'22;\x0a\x20\x20\x20\x20le'+'t\x20B:\x20f32\x20='+'\x200.3;\x0a\x20\x20\x20\x20'+'let\x20C:\x20f32'+'\x20=\x200.1;\x0a\x20\x20'+'\x20\x20let\x20D:\x20f'+'32\x20=\x200.2;\x0a'+'\x20\x20\x20\x20let\x20E:'+'\x20f32\x20=\x200.0'+'1;\x0a\x20\x20\x20\x20let'+'\x20F:\x20f32\x20=\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20Scl:\x20f3'+'2\x20=\x201.25;\x0a'+'\x0a\x20\x20\x20\x20let\x20a'+'djusted_co'+'lor\x20=\x20colo'+'r\x20*\x20unifor'+'m.exposure'+';\x0a\x20\x20\x20\x20let\x20'+'h\x20=\x20max(ve'+'c3f(0.0),\x20'+'adjusted_c'+'olor\x20-\x20vec'+'3f(0.004))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20(h\x20*\x20('+'(Scl\x20*\x20A)\x20'+'*\x20h\x20+\x20Scl\x20'+'*\x20vec3f(C\x20'+'*\x20B))\x20+\x20Sc'+'l\x20*\x20vec3f('+'D\x20*\x20E))\x20/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(h\x20*\x20(A\x20*'+'\x20h\x20+\x20vec3f'+'(B))\x20+\x20vec'+'3f(D\x20*\x20F))'+'\x20-\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20Scl\x20*\x20'+'vec3f(E\x20/\x20'+'F);\x0a}\x0a',zI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'uniform.ex'+'posure;\x0a}\x0a',VI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(col:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20var\x20col'+'or\x20=\x20col\x20*'+'\x20uniform.e'+'xposure;\x0a\x0a'+'\x20\x20\x20\x20let\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20let\x20des'+'aturation\x20'+'=\x200.15;\x0a\x0a\x20'+'\x20\x20\x20let\x20x\x20='+'\x20min(color'+'.r,\x20min(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20let\x20offs'+'et\x20=\x20selec'+'t(0.04,\x20x\x20'+'-\x206.25\x20*\x20x'+'\x20*\x20x,\x20x\x20<\x20'+'0.08);\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'vec3f(offs'+'et);\x0a\x0a\x20\x20\x20\x20'+'let\x20peak\x20='+'\x20max(color'+'.r,\x20max(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20if\x20(peak'+'\x20<\x20startCo'+'mpression)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'d\x20=\x201.0\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20let\x20newP'+'eak\x20=\x201.0\x20'+'-\x20d\x20*\x20d\x20/\x20'+'(peak\x20+\x20d\x20'+'-\x20startCom'+'pression);'+'\x0a\x20\x20\x20\x20color'+'\x20*=\x20newPea'+'k\x20/\x20peak;\x0a'+'\x0a\x20\x20\x20\x20let\x20g'+'\x20=\x201.0\x20-\x201'+'.0\x20/\x20(desa'+'turation\x20*'+'\x20(peak\x20-\x20n'+'ewPeak)\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ve'+'c3f(newPea'+'k),\x20vec3f('+'g));\x0a}\x0a',GI='\x0afn\x20toneMa'+'p(color:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a}\x0a',HI='\x0a#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20SCREE'+'NSPACE\x0a\x20\x20\x20'+'\x20uniform\x20p'+'rojectionF'+'lipY:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20evalWorl'+'dPosition('+'vertexPosi'+'tion:\x20vec3'+'f,\x20modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ve'+'c4f\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20local'+'Pos:\x20vec3f'+'\x20=\x20getLoca'+'lPosition('+'vertexPosi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20outer\x20and'+'\x20inner\x20ver'+'tices\x20are\x20'+'at\x20the\x20sam'+'e\x20position'+',\x20scale\x20bo'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20local'+'PosXZ:\x20vec'+'2f\x20=\x20local'+'Pos.xz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20loca'+'lPosXZ\x20=\x20l'+'ocalPosXZ\x20'+'*\x20uniform.'+'outerScale'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20offset'+'\x20inner\x20ver'+'tices\x20insi'+'de\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20(origi'+'nal\x20vertic'+'es\x20must\x20be'+'\x20in\x20[-1;1]'+'\x20range)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'positiveUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(vertex'+'Position.x'+'z,\x20vec2f(0'+'.0),\x20vec2f'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(-verte'+'xPosition.'+'xz,\x20vec2f('+'0.0),\x20vec2'+'f(1.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20loc'+'alPosXZ\x20=\x20'+'localPosXZ'+'\x20+\x20(-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy\x20+'+'\x20negativeU'+'nitOffset\x20'+'*\x20uniform.'+'innerOffse'+'t.zw)\x20*\x20ve'+'rtex_texCo'+'ord0.xy;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'iledUvGlob'+'al\x20=\x20(loca'+'lPosXZ\x20-\x20u'+'niform.out'+'erScale\x20+\x20'+'uniform.in'+'nerOffset.'+'xy)\x20*\x20-0.5'+'\x20+\x201.0;\x20//'+'\x20uv\x20=\x20loca'+'l\x20pos\x20-\x20in'+('ner\x20corner'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPosXZ'+'\x20=\x20localPo'+'sXZ\x20*\x20-0.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20='+'\x20vec3f(loc'+'alPosXZ.x,'+'\x20localPosX'+'Z.y,\x20local'+'Pos.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20var\x20po'+'sW:\x20vec4f\x20'+'=\x20modelMat'+'rix\x20*\x20vec4'+'f(localPos'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'posW\x20=\x20vec'+'4f(posW.xy'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20posW'+';\x0a}\x0a\x0afn\x20ge'+'tPosition('+')\x20->\x20vec4f'+'\x20{\x0a\x0a\x20\x20\x20\x20dM'+'odelMatrix'+'\x20=\x20getMode'+'lMatrix();'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'posW:\x20vec4'+'f\x20=\x20evalWo'+'rldPositio'+'n(vertex_p'+'osition.xy'+'z,\x20dModelM'+'atrix);\x0a\x20\x20'+'\x20\x20dPositio'+'nW\x20=\x20posW.'+'xyz;\x0a\x0a\x20\x20\x20\x20'+'var\x20screen'+'Pos:\x20vec4f'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20UV1LAYO'+'UT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20vec4f(v'+'ertex_texC'+'oord1.xy\x20*'+'\x202.0\x20-\x201.0'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SCR'+'EENSPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20posW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20unif'+'orm.projec'+'tionFlipY;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos\x20=\x20u'+'niform.mat'+'rix_viewPr'+'ojection\x20*'+'\x20posW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20snap\x20ve'+'rtex\x20to\x20a\x20'+'pixel\x20boun'+'dary\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x200.'+'5)\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20screenPo'+'s.xy\x20*=\x20un'+'iforms.uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'niforms.uS'+'creenSize.'+'zw;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x202.0'+')\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20scr'+'eenPos;\x0a}\x0a'+'\x0afn\x20getWor'+'ldPosition'+'()\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20dPosi'+'tionW;\x0a}\x0a'),WI='\x0a\x0a\x20\x20\x20\x20attr'+'ibute\x20vert'+'ex_positio'+'n:\x20vec4f;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'rix_model:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20morph_te'+'x_params:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20attri'+'bute\x20morph'+'_vertex_id'+':\x20u32;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etTextureM'+'orphCoords'+'()\x20->\x20vec2'+'i\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'turn\x20morph'+'_vertex_id'+'\x20into\x20int\x20'+'grid\x20coord'+'inates\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'Size:\x20vec2'+'i\x20=\x20vec2i('+'uniform.mo'+'rph_tex_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphGr'+'idV:\x20i32\x20='+'\x20i32(morph'+'_vertex_id'+')\x20/\x20textur'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20morph'+'GridU:\x20i32'+'\x20=\x20i32(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'rphGridV\x20='+'\x20textureSi'+'ze.y\x20-\x20mor'+'phGridV\x20-\x20'+'1;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec2i(mo'+'rphGridU,\x20'+'morphGridV'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_PO'+'SITION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20aabbSiz'+'e:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20aabbMi'+'n:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'morphPosit'+'ionTex:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'sitionTex:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+('if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inBatchVS\x22'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fn\x20getMode'+'lMatrix()\x20'+'->\x20mat4x4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(SKIN'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etModelMat'+'rix()\x20->\x20m'+'at4x4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20un'+'iform.matr'+'ix_model\x20*'+'\x20getSkinMa'+'trix(verte'+'x_boneIndi'+'ces,\x20verte'+'x_boneWeig'+'hts);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(INSTA'+'NCING)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22tran'+'sformInsta'+'ncingVS\x22\x0a\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'n\x20getModel'+'Matrix()\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'fn\x20getLoca'+'lPosition('+'vertexPosi'+'tion:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20loc'+'alPos:\x20vec'+'3f\x20=\x20verte'+'xPosition;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphUV:'+'\x20vec2i\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MORPHI'+'NG_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Use\x20'+'textureLoa'+'d\x20instead\x20'+'of\x20texelFe'+'tch.\x20Coord'+'inates\x20mus'+'t\x20be\x20integ'+'er\x20type\x20(v'+'ec2i).\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20WGSL'+'\x20requires\x20'+'explicit\x20t'+'ype\x20conver'+'sion\x20for\x20v'+'ectors.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Div'+'ision\x20by\x20f'+'loat\x20liter')+('al\x20ensures'+'\x20floating\x20'+'point\x20divi'+'sion.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hPos:\x20vec3'+'f\x20=\x20vec3f('+'textureLoa'+'d(morphPos'+'itionTex,\x20'+'morphUV,\x200'+').xyz)\x20/\x206'+'5535.0\x20*\x20u'+'niform.aab'+'bSize\x20+\x20un'+'iform.aabb'+'Min;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Use\x20text'+'ureLoad\x20in'+'stead\x20of\x20t'+'exelFetch.'+'\x20Coordinat'+'es\x20must\x20be'+'\x20integer\x20t'+'ype\x20(vec2i'+').\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'s:\x20vec3f\x20='+'\x20textureLo'+'ad(morphPo'+'sitionTex,'+'\x20morphUV,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20+'+'=\x20morphPos'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20localP'+'os;\x0a\x20\x20\x20\x20}\x0a'),$I='\x0a\x0aattribut'+'e\x20instance'+'_line1:\x20ve'+'c4f;\x0aattri'+'bute\x20insta'+'nce_line2:'+'\x20vec4f;\x0aat'+'tribute\x20in'+'stance_lin'+'e3:\x20vec4f;'+'\x0aattribute'+'\x20instance_'+'line4:\x20vec'+'4f;\x0a\x0afn\x20ge'+'tModelMatr'+'ix()\x20->\x20ma'+'t4x4f\x20{\x0a\x20\x20'+'\x20\x20return\x20u'+'niform.mat'+'rix_model\x20'+'*\x20mat4x4f('+'instance_l'+'ine1,\x20inst'+'ance_line2'+',\x20instance'+'_line3,\x20in'+'stance_lin'+'e4);\x0a}\x0a',XI='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_refrac'+'tion:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getRefra'+'ction()\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction:\x20'+'f32\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20refractio'+'n\x20=\x20unifor'+'m.material'+'_refractio'+'n;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'REFRACTION'+'_TEXTURE\x0a\x20'+'\x20\x20\x20refract'+'ion\x20=\x20refr'+'action\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_REFRACTI'+'ON_TEXTURE'+'_NAME},\x20{S'+'TD_REFRACT'+'ION_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_REFRACTIO'+'N_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_REFRACTIO'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_VE'+'RTEX\x0a\x20\x20\x20\x20r'+'efraction\x20'+'=\x20refracti'+'on\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_REFRACTI'+'ON_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dTr'+'ansmission'+'\x20=\x20refract'+'ion;\x0a}\x0a',qI='\x0auniform\x20t'+'woSidedLig'+'htingNegSc'+'aleFactor:'+'\x20f32;\x0a\x0afn\x20'+'handleTwoS'+'idedLighti'+'ng()\x20{\x0a\x20\x20\x20'+'\x20dTBN[2]\x20='+'\x20dTBN[2]\x20*'+'\x20select(-u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20p'+'cFrontFaci'+'ng);\x0a}\x0a',jI='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20fn\x20getU'+'v0()\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20uv'+'\x20=\x20vertex_'+'position.x'+'z;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20offse'+'t\x20inner\x20ve'+'rtices\x20ins'+'ide\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2f(0'+'.0,\x200.0),\x20'+'vec2f(1.0,'+'\x201.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset\x20='+'\x20clamp(-ve'+'rtex_posit'+'ion.xz,\x20ve'+'c2f(0.0,\x200'+'.0),\x20vec2f'+'(1.0,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uv\x20=\x20uv\x20'+'+\x20((-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy)\x20'+'+\x20(negativ'+'eUnitOffse'+'t\x20*\x20unifor'+'m.innerOff'+'set.zw))\x20*'+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x20ve'+'c2f(0.5,\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20uniform'+'.atlasRect'+'.zw\x20+\x20unif'+'orm.atlasR'+'ect.xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dMa'+'skGlobal\x20='+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20uv'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20fn'+'\x20getUv0()\x20'+'->\x20vec2f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a',YI='\x0afn\x20getUv1'+'()\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20verte'+'x_texCoord'+'1;\x0a}\x0a',KI='\x0aoutput.vU'+'V{TRANSFOR'+'M_UV_{i}}_'+'{TRANSFORM'+'_ID_{i}}\x20='+'\x20vec2f(\x0a\x20\x20'+'\x20\x20dot(vec3'+'f(uv{TRANS'+'FORM_UV_{i'+'}},\x201),\x20un'+'iform.{TRA'+'NSFORM_NAM'+'E_{i}}0),\x0a'+'\x20\x20\x20\x20dot(ve'+'c3f(uv{TRA'+'NSFORM_UV_'+'{i}},\x201),\x20'+'uniform.{T'+'RANSFORM_N'+'AME_{i}}1)'+'\x0a);\x0a',ZI='\x0a\x20\x20\x20\x20unifo'+'rm\x20{TRANSF'+'ORM_NAME_{'+'i}}0:\x20vec3'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20{TRAN'+'SFORM_NAME'+'_{i}}1:\x20ve'+'c3f;\x0a',QI='\x0afn\x20getVie'+'wDir()\x20{\x0a\x20'+'\x20\x20\x20dViewDi'+'rW\x20=\x20norma'+'lize(unifo'+'rm.view_po'+'sition\x20-\x20v'+'PositionW)'+';\x0a}\x0a',JI={'alphaTestPS':Q2,'ambientPS':J2,'anisotropyPS':eM,'aoPS':tM,'aoDiffuseOccPS':sM,'aoSpecOccPS':iM,'bakeDirLmEndPS':rM,'bakeLmEndPS':aM,'basePS':nM,'baseNineSlicedPS':oM,'baseNineSlicedTiledPS':lM,'bayerPS':cM,'blurVSMPS':hM,'clearCoatPS':dM,'clearCoatGlossPS':fM,'clearCoatNormalPS':uM,'clusteredLightCookiesPS':mM,'clusteredLightShadowsPS':_M,'clusteredLightUtilsPS':pM,'clusteredLightPS':gM,'combinePS':SM,'cookieBlit2DPS':yM,'cookieBlitCubePS':vM,'cookieBlitVS':xM,'cubeMapProjectPS':TM,'cubeMapRotatePS':wM,'debugOutputPS':EM,'debugProcessFrontendPS':bM,'detailModesPS':CM,'diffusePS':PM,'decodePS':AM,'emissivePS':MM,'encodePS':DM,'endPS':IM,'envAtlasPS':LM,'envProcPS':RM,'falloffInvSquaredPS':OM,'falloffLinearPS':FM,'floatAsUintPS':NM,'fogPS':kM,'fresnelSchlickPS':UM,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':BM,'gammaPS':zM,'glossPS':VM,'gsplatCenterVS':GM,'gsplatCornerVS':QM,'gsplatColorVS':HM,'gsplatCommonVS':WM,'gsplatCompressedDataVS':$M,'gsplatCompressedSHVS':XM,'gsplatEvalSHVS':qM,'gsplatQuatToMat3VS':jM,'gsplatSogsColorVS':YM,'gsplatSogsDataVS':KM,'gsplatSogsSHVS':ZM,'gsplatDataVS':JM,'gsplatOutputVS':eD,'gsplatPS':tD,'gsplatSHVS':sD,'gsplatSourceVS':iD,'gsplatVS':rD,'quadVS':aD,'indirectCoreCS':nD,'immediateLinePS':oD,'immediateLineVS':lD,'iridescenceDiffractionPS':cD,'iridescencePS':hD,'iridescenceThicknessPS':dD,'iorPS':fD,'lightDeclarationPS':uD,'lightDiffuseLambertPS':pD,'lightDirPointPS':mD,'lightEvaluationPS':_D,'lightFunctionLightPS':gD,'lightFunctionShadowPS':SD,'lightingPS':yD,'lightmapAddPS':vD,'lightmapPS':xD,'lightSpecularAnisoGGXPS':TD,'lightSpecularBlinnPS':wD,'lightSheenPS':ED,'linearizeDepthPS':bD,'litForwardBackendPS':AD,'litForwardDeclarationPS':CD,'litForwardMainPS':PD,'litForwardPostCodePS':MD,'litForwardPreCodePS':DD,'litMainPS':ID,'litMainVS':LD,'litOtherMainPS':RD,'litShaderArgsPS':OD,'litShaderCorePS':FD,'litShadowMainPS':ND,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':kD,'metalnessPS':UD,'metalnessModulatePS':zD,'morphPS':VD,'morphVS':GD,'msdfPS':BD,'msdfVS':HD,'normalVS':WD,'normalCoreVS':$D,'normalMapPS':XD,'opacityPS':qD,'opacityDitherPS':jD,'outputPS':YD,'outputAlphaPS':KD,'outputTex2DPS':ZD,'sheenPS':QD,'sheenGlossPS':JD,'parallaxPS':eI,'pickPS':tI,'reflDirPS':sI,'reflDirAnisoPS':iI,'reflectionCCPS':rI,'reflectionCubePS':aI,'reflectionEnvHQPS':nI,'reflectionEnvPS':oI,'reflectionSpherePS':lI,'reflectionSheenPS':cI,'refractionCubePS':hI,'refractionDynamicPS':dI,'reprojectPS':fI,'reprojectVS':uI,'screenDepthPS':pI,'shadowCascadesPS':mI,'shadowEVSMPS':_I,'shadowPCF1PS':gI,'shadowPCF3PS':SI,'shadowPCF5PS':yI,'shadowSoftPS':vI,'skinBatchVS':xI,'skinVS':TI,'skyboxPS':wI,'skyboxVS':EI,'specularPS':bI,'sphericalPS':AI,'specularityFactorPS':CI,'spotPS':PI,'startNineSlicedPS':MI,'startNineSlicedTiledPS':DI,'stdDeclarationPS':II,'stdFrontEndPS':LI,'TBNPS':RI,'thicknessPS':OI,'tonemappingPS':FI,'tonemappingAcesPS':NI,'tonemappingAces2PS':kI,'tonemappingFilmicPS':UI,'tonemappingHejlPS':BI,'tonemappingLinearPS':zI,'tonemappingNeutralPS':VI,'tonemappingNonePS':GI,'transformVS':HI,'transformCoreVS':WI,'transformInstancingVS':$I,'transmissionPS':XI,'twoSidedLightingPS':qI,'uv0VS':jI,'uv1VS':YI,'uvTransformVS':KI,'uvTransformUniformsPS':ZI,'viewDirPS':QI,'webgpuPS':$y,'webgpuVS':Xy},ea=class ea extends me{constructor(_0x5c2229){super(),h(this,'_batcher',null),h(this,'_destroyRe'+'quested',!(-0xa51+0xc5*0x9+-0xb*-0x4f)),h(this,'_inFrameUp'+'date',!(-0x15d*-0x19+0x4*-0x335+-0x40*0x55)),h(this,'_libraries'+'Loaded',!(-0x4*-0x836+-0xa*0x71+-0x1c6d)),h(this,'_fillMode',Tg),h(this,'_resolutio'+'nMode',MC),h(this,'_allowResi'+'ze',!(0x59b+0x45e+-0x9f9)),h(this,'_skyboxAss'+'et',null),h(this,'_soundMana'+'ger'),h(this,'_visibilit'+'yChangeHan'+'dler'),h(this,'_entityInd'+'ex',{}),h(this,'_inTools',!(0xcd*0x2e+0x1d6+-0x26ab)),h(this,'_scriptPre'+'fix',''),h(this,'_time',0x705*0x2+0x401*-0x5+-0x1*-0x5fb),h(this,'enableBund'+'les',typeof TextDecoder<'u'),h(this,'frameReque'+'stId'),h(this,'timeScale',-0x1dc4+0x447*0x5+0x1d*0x4a),h(this,'maxDeltaTi'+'me',-0x803+0x1*0x5d9+0x1*0x22a+0.1),h(this,'frame',0x1961+0xd66+-0x26c7),h(this,'frameGraph',new DC()),h(this,'renderer'),h(this,'scriptsOrd'+'er',[]),h(this,'stats'),h(this,'autoRender',!(-0x2683*0x1+0x2c6*-0x8+0x3cb3)),h(this,'renderNext'+'Frame',!(0x2*-0xa4+0x7e2+-0x3*0x233)),h(this,'graphicsDe'+'vice'),h(this,'root'),h(this,'scene'),h(this,'lightmappe'+'r',null),h(this,'loader',new Cn(this)),h(this,'assets'),h(this,'bundles'),h(this,'scenes',new qC(this)),h(this,'scripts',new HC(this)),h(this,'systems',new BC()),h(this,'i18n',new wa(this)),h(this,'keyboard',null),h(this,'mouse',null),h(this,'touch',null),h(this,'gamepads',null),h(this,'elementInp'+'ut',null),h(this,'xr',null),((hn==null?void(-0x4*0x11b+-0x1fbf+0x242b):hn['indexOf']('$'))<-0x8d2*0x2+0x23ba*-0x1+0x355e&&w['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+hn+'\x20'+$S),ea['_applicati'+'ons'][_0x5c2229['id']]=this,_u(this),this['root']=new lt(),this['root']['_enabledIn'+'Hierarchy']=!(-0x1a2c+0xc*-0x21d+-0xce2*-0x4));}['init'](_0x492278){const {assetPrefix:_0xf68220,batchManager:_0x3201d0,componentSystems:_0xace88,elementInput:_0x1fb045,gamepads:_0x4942b3,graphicsDevice:_0x1f4036,keyboard:_0x2246af,lightmapper:_0x21d310,mouse:_0x50ebd9,resourceHandlers:_0x4b155f,scriptsOrder:_0x1acf22,scriptPrefix:_0x397c48,soundManager:_0x50d34c,touch:_0x20073a,xr:_0x3db55a}=_0x492278;w['assert'](_0x1f4036,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x1f4036,Pe['get'](_0x1f4036,Fe)['add'](Z2),Pe['get'](_0x1f4036,it)['add'](JI),this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new jC(_0x1f4036),this['_soundMana'+'ger']=_0x50d34c,this['scene']=new Et(_0x1f4036),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new mn(this['loader']),_0xf68220&&(this['assets']['prefix']=_0xf68220),this['bundles']=new UC(this['assets']),this['scriptsOrd'+'er']=_0x1acf22||[],this['defaultLay'+'erWorld']=new Ot({'name':'World','id':er}),this['defaultLay'+'erDepth']=new Ot({'name':'Depth','id':ps,'enabled':!(-0x19a4*0x1+0x41*-0x6b+0x34d0),'opaqueSortMode':Yc}),this['defaultLay'+'erSkybox']=new Ot({'name':'Skybox','id':Kp,'opaqueSortMode':Yc}),this['defaultLay'+'erUi']=new Ot({'name':'UI','id':Il,'transparentSortMode':jw}),this['defaultLay'+'erImmediat'+'e']=new Ot({'name':'Immediate','id':Zp,'opaqueSortMode':Yc});const _0x23e328=new du('default');_0x23e328['pushOpaque'](this['defaultLay'+'erWorld']),_0x23e328['pushOpaque'](this['defaultLay'+'erDepth']),_0x23e328['pushOpaque'](this['defaultLay'+'erSkybox']),_0x23e328['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x23e328['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x23e328['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x23e328['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x23e328,ia['createPlac'+'eholder'](_0x1f4036),this['renderer']=new fl(_0x1f4036),this['renderer']['scene']=this['scene'],_0x21d310&&(this['lightmappe'+'r']=new _0x21d310(_0x1f4036,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x3201d0&&(this['_batcher']=new _0x3201d0(_0x1f4036,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x2246af||null,this['mouse']=_0x50ebd9||null,this['touch']=_0x20073a||null,this['gamepads']=_0x4942b3||null,_0x1fb045&&(this['elementInp'+'ut']=_0x1fb045,this['elementInp'+'ut']['app']=this),this['xr']=_0x3db55a?new _0x3db55a(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x397c48||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new VC(this)),_0x4b155f['forEach'](_0x1109ac=>{const _0xb65f07=new _0x1109ac(this);this['loader']['addHandler'](_0xb65f07['handlerTyp'+'e'],_0xb65f07);}),_0xace88['forEach'](_0x1b5c22=>{this['systems']['add'](new _0x1b5c22(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(-0x254f*-0x1+-0x469*-0x1+-0x29b8)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x55c*0x1+0x1d00+-0x225b*0x1))):document['mozHidden']!==void(0x171c+-0x1*-0x1fdb+-0x36f7*0x1)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1d86+-0xb82+-0x1203))):document['msHidden']!==void(-0x60d*-0x5+-0x17a4*-0x1+-0x7b3*0x7)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1*0xa3c+0x237*0x6+-0x30d))):document['webkitHidd'+'en']!==void(-0x1e*-0x4b+-0x19d4+0x110a)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1*-0xc41+0x1*0x132d+-0x1*0x1f6d)))),this['tick']=eL(this);}static['getApplica'+'tion'](_0x689fc5){return _0x689fc5?ea['_applicati'+'ons'][_0x689fc5]:Ms();}['_initDefau'+'ltMaterial'](){const _0x4bfd35=new Ut();_0x4bfd35['name']='Default\x20Ma'+'terial',xE(this['graphicsDe'+'vice'],_0x4bfd35);}['_initProgr'+'amLibrary'](){const _0x2a1d34=new qA(this['graphicsDe'+'vice'],new Ut());cE(this['graphicsDe'+'vice'],_0x2a1d34);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return w['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x51560d,_0x2daf34){ot['get'](_0x51560d,(_0x539b96,_0x203f57)=>{if(_0x539b96){_0x2daf34(_0x539b96);return;}const _0x4f7a59=_0x203f57['applicatio'+'n_properti'+'es'],_0x37efef=_0x203f57['scenes'],_0x1048de=_0x203f57['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x4f7a59,_0x3bf7d2=>{this['_parseScen'+'es'](_0x37efef),this['_parseAsse'+'ts'](_0x1048de),_0x2daf34(_0x3bf7d2||null);});});}['preload'](_0x13e124){this['fire']('preload:st'+'art');const _0x5d5e5d=this['assets']['list']({'preload':!(0x350*-0x1+-0x1f*0x99+0x15d7*0x1)});if(_0x5d5e5d['length']===0x1afa+-0x1*-0xe3e+-0x149c*0x2){this['fire']('preload:en'+'d'),_0x13e124();return;}let _0x21f0b6=0x18e8+-0xafb+0x73*-0x1f;const _0x427636=()=>{_0x21f0b6++,this['fire']('preload:pr'+'ogress',_0x21f0b6/_0x5d5e5d['length']),_0x21f0b6===_0x5d5e5d['length']&&(this['fire']('preload:en'+'d'),_0x13e124());};_0x5d5e5d['forEach'](_0x1b2c31=>{_0x1b2c31['loaded']?_0x427636():(_0x1b2c31['once']('load',_0x427636),_0x1b2c31['once']('error',_0x427636),this['assets']['load'](_0x1b2c31));});}['_preloadSc'+'ripts'](_0xbd4bd1,_0x1d137e){_0x1d137e();}['_parseAppl'+'icationPro'+'perties'](_0x404862,_0xc90b5){if(typeof _0x404862['maxAssetRe'+'tries']=='number'&&_0x404862['maxAssetRe'+'tries']>-0x1d85+-0x14a+0x1ecf&&this['loader']['enableRetr'+'y'](_0x404862['maxAssetRe'+'tries']),_0x404862['useDeviceP'+'ixelRatio']||(_0x404862['useDeviceP'+'ixelRatio']=_0x404862['use_device'+'_pixel_rat'+'io']),_0x404862['resolution'+'Mode']||(_0x404862['resolution'+'Mode']=_0x404862['resolution'+'_mode']),_0x404862['fillMode']||(_0x404862['fillMode']=_0x404862['fill_mode']),this['_width']=_0x404862['width'],this['_height']=_0x404862['height'],_0x404862['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x404862['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x404862['fillMode'],this['_width'],this['_height']),_0x404862['layers']&&_0x404862['layerOrder']){const _0x594c4d=new du('applicatio'+'n'),_0x34c241={};for(const _0x206066 in _0x404862['layers']){const _0x5276d1=_0x404862['layers'][_0x206066];_0x5276d1['id']=parseInt(_0x206066,0x27*0xb+-0x7e*0xd+-0x17*-0x35),_0x5276d1['enabled']=_0x5276d1['id']!==ps,_0x34c241[_0x206066]=new Ot(_0x5276d1);}for(let _0x37c44d=-0x17*-0xe6+-0x8*-0x329+-0x2df2,_0x352442=_0x404862['layerOrder']['length'];_0x37c44d<_0x352442;_0x37c44d++){const _0xddda09=_0x404862['layerOrder'][_0x37c44d],_0x5adf6c=_0x34c241[_0xddda09['layer']];_0x5adf6c&&(_0xddda09['transparen'+'t']?_0x594c4d['pushTransp'+'arent'](_0x5adf6c):_0x594c4d['pushOpaque'](_0x5adf6c),_0x594c4d['subLayerEn'+'abled'][_0x37c44d]=_0xddda09['enabled']);}this['scene']['layers']=_0x594c4d;}if(_0x404862['batchGroup'+'s']){const _0x5bbb11=this['batcher'];if(_0x5bbb11)for(let _0x54fa06=-0x4*-0x34c+0x2168+0x15*-0x238,_0x1b85c2=_0x404862['batchGroup'+'s']['length'];_0x54fa06<_0x1b85c2;_0x54fa06++){const _0x40090a=_0x404862['batchGroup'+'s'][_0x54fa06];_0x5bbb11['addGroup'](_0x40090a['name'],_0x40090a['dynamic'],_0x40090a['maxAabbSiz'+'e'],_0x40090a['id'],_0x40090a['layers']);}}_0x404862['i18nAssets']&&(this['i18n']['assets']=_0x404862['i18nAssets']),this['_loadLibra'+'ries'](_0x404862['libraries'],_0xc90b5);}['_loadLibra'+'ries'](_0x130291,_0x2818ae){const _0xea74c=_0x130291['length'];let _0x334b4d=_0xea74c;const _0x2b5f5c=/^https?:\/\//;if(_0xea74c){const _0x1a66a6=(_0x4a6362,_0x58a0c9)=>{_0x334b4d--,_0x4a6362?_0x2818ae(_0x4a6362):_0x334b4d===-0x9d0+-0x1b53+-0x2523*-0x1&&(this['onLibrarie'+'sLoaded'](),_0x2818ae(null));};for(let _0xd918fe=0x182*-0x18+0x1b4e+0x471*0x2;_0xd918fe<_0xea74c;++_0xd918fe){let _0x4dd8d3=_0x130291[_0xd918fe];!_0x2b5f5c['test'](_0x4dd8d3['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x4dd8d3=xe['join'](this['_scriptPre'+'fix'],_0x4dd8d3)),this['loader']['load'](_0x4dd8d3,'script',_0x1a66a6);}}else this['onLibrarie'+'sLoaded'](),_0x2818ae(null);}['_parseScen'+'es'](_0x59f2e1){if(_0x59f2e1){for(let _0x41a944=0x9*-0x267+0xa1d+-0x5c1*-0x2;_0x41a944<_0x59f2e1['length'];_0x41a944++)this['scenes']['add'](_0x59f2e1[_0x41a944]['name'],_0x59f2e1[_0x41a944]['url']);}}['_parseAsse'+'ts'](_0x30d163){const _0x5d991b=[],_0x1873c3={},_0x1ff0a6={};for(let _0x89e148=-0x189f+0x173*-0x3+0x8*0x39f;_0x89e148<this['scriptsOrd'+'er']['length'];_0x89e148++){const _0x48ec16=this['scriptsOrd'+'er'][_0x89e148];_0x30d163[_0x48ec16]&&(_0x1873c3[_0x48ec16]=!(-0x1f97+0x2ab*-0x1+-0x2242*-0x1),_0x5d991b['push'](_0x30d163[_0x48ec16]));}if(this['enableBund'+'les']){for(const _0x570f43 in _0x30d163)_0x30d163[_0x570f43]['type']==='bundle'&&(_0x1ff0a6[_0x570f43]=!(-0x96b*-0x2+0xdac+-0x2082),_0x5d991b['push'](_0x30d163[_0x570f43]));}for(const _0xe80702 in _0x30d163)_0x1873c3[_0xe80702]||_0x1ff0a6[_0xe80702]||_0x5d991b['push'](_0x30d163[_0xe80702]);for(let _0x478e97=-0x2078+-0x7d2*-0x1+0x5*0x4ee;_0x478e97<_0x5d991b['length'];_0x478e97++){const _0xffd93d=_0x5d991b[_0x478e97],_0x5b4a4a=new pe(_0xffd93d['name'],_0xffd93d['type'],_0xffd93d['file'],_0xffd93d['data']);if(_0x5b4a4a['id']=parseInt(_0xffd93d['id'],-0x144f+0xa7b*-0x3+0x33ca*0x1),_0x5b4a4a['preload']=_0xffd93d['preload']?_0xffd93d['preload']:!(-0x96b+-0x21d9*-0x1+-0x186d),_0x5b4a4a['loaded']=_0xffd93d['type']==='script'&&_0xffd93d['data']&&_0xffd93d['data']['loadingTyp'+'e']>-0x2*0x681+-0x30a*-0x2+0x6ee,_0x5b4a4a['tags']['add'](_0xffd93d['tags']),_0xffd93d['i18n']){for(const _0xaaa9ee in _0xffd93d['i18n'])_0x5b4a4a['addLocaliz'+'edAssetId'](_0xaaa9ee,_0xffd93d['i18n'][_0xaaa9ee]);}this['assets']['add'](_0x5b4a4a);}}['start'](){w['call'](()=>{w['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(0x567*-0x1+0x233a+0x9f1*-0x3);}),this['frame']=-0x5a8*0x2+-0x536+0x1086,this['fire']('start',{'timestamp':de(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x13895b){this['controller']&&this['controller']['update'](_0x13895b),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x384cf5){this['frame']++,this['graphicsDe'+'vice']['update'](),this['stats']['frame']['updateStar'+'t']=de(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x384cf5),this['systems']['fire']('animationU'+'pdate',_0x384cf5),this['systems']['fire']('postUpdate',_0x384cf5),this['fire']('update',_0x384cf5),this['inputUpdat'+'e'](_0x384cf5),this['stats']['frame']['updateTime']=de()-this['stats']['frame']['updateStar'+'t'];}['render'](){this['updateCanv'+'asSize'](),this['graphicsDe'+'vice']['frameStart'](),this['stats']['frame']['renderStar'+'t']=de(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),fl['_skipRende'+'rCounter']=0x4a+0x1*-0x1413+0x13c9,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=de()-this['stats']['frame']['renderStar'+'t'],this['graphicsDe'+'vice']['frameEnd']();}['renderComp'+'osition'](_0x3fd417){Q['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x3fd417),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x3fd417),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x4250db,_0x18dbd0,_0x3228cc){const _0x87d8e8=this['stats']['frame'];_0x87d8e8['dt']=_0x18dbd0,_0x87d8e8['ms']=_0x3228cc,_0x4250db>_0x87d8e8['_timeToCou'+'ntFrames']?(_0x87d8e8['fps']=_0x87d8e8['_fpsAccum'],_0x87d8e8['_fpsAccum']=-0x1684+0x2607+-0xf83,_0x87d8e8['_timeToCou'+'ntFrames']=_0x4250db+(-0x9c4+0x1*0x26c3+0x3*-0x85d)):_0x87d8e8['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=-0x1*0x53+-0x1868+0x18bb;}['_fillFrame'+'Stats'](){let _0xb2445a=this['stats']['frame'];_0xb2445a['cameras']=this['renderer']['_camerasRe'+'ndered'],_0xb2445a['materials']=this['renderer']['_materialS'+'witches'],_0xb2445a['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0xb2445a['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0xb2445a['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0xb2445a['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0xb2445a['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x252980=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0xb2445a['triangles']=_0x252980[js]/(-0x2547*-0x1+-0x6*-0x581+0xbb7*-0x6)+Math['max'](_0x252980[Er]-(-0x1ea3+0x98*-0x26+-0x101*-0x35),0xb84*0x2+0x22+-0x172a*0x1)+Math['max'](_0x252980[oa]-(-0x1*-0xdb+-0x1d6c*0x1+-0x5*-0x5b7),0x103d*0x1+0x767*0x5+-0x3*0x11c0),_0xb2445a['cullTime']=this['renderer']['_cullTime'],_0xb2445a['sortTime']=this['renderer']['_sortTime'],_0xb2445a['skinTime']=this['renderer']['_skinTime'],_0xb2445a['morphTime']=this['renderer']['_morphTime'],_0xb2445a['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0xb2445a['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0xb2445a['otherPrimi'+'tives']=0x1a82+-0x101*-0x1+0x1*-0x1b83;for(let _0xea5500=-0x2543+0x34e*0xb+0xe9;_0xea5500<_0x252980['length'];_0xea5500++)_0xea5500<js&&(_0xb2445a['otherPrimi'+'tives']+=_0x252980[_0xea5500]),_0x252980[_0xea5500]=0x416+-0x1*-0x24f1+-0xdad*0x3;this['renderer']['_camerasRe'+'ndered']=0x1018+-0x1*-0x153d+-0x2555,this['renderer']['_materialS'+'witches']=0x3*-0x7b3+0x2ab+0x146e,this['renderer']['_shadowMap'+'Updates']=0xb9*0x17+0x126f+-0x230e,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=0x2*0x1163+-0x187+-0x1*0x213f,this['renderer']['_cullTime']=-0x1747+0x1908+0x1c1*-0x1,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=-0x6*0x337+0x5*0x23c+0x81e,this['renderer']['_lightClus'+'tersTime']=-0x19ed*0x1+0x35*0x17+0x152a,this['renderer']['_sortTime']=0x2*0x6c5+0x925+0x1*-0x16af,this['renderer']['_skinTime']=0x695*0x3+0x2*0xcc3+-0x2d45*0x1,this['renderer']['_morphTime']=-0x37*0x5d+0x1c4f*0x1+-0x854*0x1,this['renderer']['_shadowMap'+'Time']=0x132d+0xe4d+0x1*-0x217a,this['renderer']['_depthMapT'+'ime']=-0x6e9*0x1+0x16f*0x1+0x57a,this['renderer']['_forwardTi'+'me']=-0x56b*0x1+0x2290+-0x1d25,_0xb2445a=this['stats']['drawCalls'],_0xb2445a['forward']=this['renderer']['_forwardDr'+'awCalls'],_0xb2445a['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0xb2445a['depth']=-0x389*0x7+-0x1691+0x2f50*0x1,_0xb2445a['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0xb2445a['skinned']=this['renderer']['_skinDrawC'+'alls'],_0xb2445a['immediate']=0x47*-0x6b+-0x22e+-0x1*-0x1fdb,_0xb2445a['instanced']=0x1*0x23e3+-0xbe9+-0x17fa,_0xb2445a['removedByI'+'nstancing']=-0x1716+0xa07+0x1*0xd0f,_0xb2445a['misc']=_0xb2445a['total']-(_0xb2445a['forward']+_0xb2445a['shadow']),this['renderer']['_depthDraw'+'Calls']=0x40*-0x12+-0x176f+0x1bef*0x1,this['renderer']['_shadowDra'+'wCalls']=-0x1*-0x190e+-0x1c0f+0x301,this['renderer']['_forwardDr'+'awCalls']=0x62+0xdab+0x4af*-0x3,this['renderer']['_numDrawCa'+'llsCulled']=0x160c+0x13*-0x65+-0x2e9*0x5,this['renderer']['_skinDrawC'+'alls']=0x8ba+0x2332+0x2*-0x15f6,this['renderer']['_immediate'+'Rendered']=0x2387+-0x81*0x19+-0x16ee,this['renderer']['_instanced'+'DrawCalls']=0x752+-0x1719+0xfc7,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0xb2445a=this['stats']['particles'],_0xb2445a['updatesPer'+'Frame']=_0xb2445a['_updatesPe'+'rFrame'],_0xb2445a['frameTime']=_0xb2445a['_frameTime'],_0xb2445a['_updatesPe'+'rFrame']=-0x4*-0x469+0x1ed4+-0x3078,_0xb2445a['_frameTime']=0x1afd+0x1a8+-0x1ca5;}['setCanvasF'+'illMode'](_0x25297d,_0x4b2048,_0x546540){this['_fillMode']=_0x25297d,this['resizeCanv'+'as'](_0x4b2048,_0x546540);}['setCanvasR'+'esolution'](_0x58cdf4,_0x1ddfde,_0x54b2b6){this['_resolutio'+'nMode']=_0x58cdf4,_0x58cdf4===wg&&_0x1ddfde===void(-0x15ed*0x1+-0x1*0x8ee+-0xa49*-0x3)&&(_0x1ddfde=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x54b2b6=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x1ddfde,_0x54b2b6);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x1995b8,_0x26a3f7){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x15f7a7=window['innerWidth'],_0x1f47f1=window['innerHeigh'+'t'];if(this['_fillMode']===Tg){const _0x23ea55=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x28ab30=_0x15f7a7/_0x1f47f1;_0x23ea55>_0x28ab30?(_0x1995b8=_0x15f7a7,_0x26a3f7=_0x1995b8/_0x23ea55):(_0x26a3f7=_0x1f47f1,_0x1995b8=_0x26a3f7*_0x23ea55);}else this['_fillMode']===PC&&(_0x1995b8=_0x15f7a7,_0x26a3f7=_0x1f47f1);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x1995b8+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x26a3f7+'px',this['updateCanv'+'asSize'](),{'width':_0x1995b8,'height':_0x26a3f7};}['updateCanv'+'asSize'](){var _0x59aebe;if(!(!this['_allowResi'+'ze']||(_0x59aebe=this['xr'])!=null&&_0x59aebe['active'])&&this['_resolutio'+'nMode']===wg){const _0x55bb7f=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x55bb7f['clientWidt'+'h'],_0x55bb7f['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(0x6aa+-0xfcd+0x923),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x3adbb3){let _0x54f7ae;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x4c9c6b,_0x50aa23,_0x5455f6]=_0x3adbb3['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x4c9c6b,_0x50aa23,_0x5455f6);}this['scene']['applySetti'+'ngs'](_0x3adbb3),_0x3adbb3['render']['hasOwnProp'+'erty']('skybox')&&(_0x3adbb3['render']['skybox']?(_0x54f7ae=this['assets']['get'](_0x3adbb3['render']['skybox']),_0x54f7ae?this['setSkybox'](_0x54f7ae):this['assets']['once']('add:'+_0x3adbb3['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x1cd40d,_0x3a3153){_0x1cd40d&&_0x3a3153?ia['set'](this['graphicsDe'+'vice'],_0x1cd40d,_0x3a3153):w['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x21ce24){if(_0x21ce24!==this['_skyboxAss'+'et']){const _0x2f4949=()=>{this['setSkybox'](null);},_0x26a86f=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x26a86f,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x2f4949,this),this['_skyboxAss'+'et']['off']('change',_0x26a86f,this)),this['_skyboxAss'+'et']=_0x21ce24,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x26a86f,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x2f4949,this),this['_skyboxAss'+'et']['on']('change',_0x26a86f,this),this['scene']['skyboxMip']===0x3f*0x49+0x497+-0x168e&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(0x14fe+0x1816*0x1+-0x2d14)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x26a86f();}}['_firstBake'](){var _0x526689;(_0x526689=this['lightmappe'+'r'])==null||_0x526689['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x59d01b;(_0x59d01b=this['batcher'])==null||_0x59d01b['generate']();}['_processTi'+'mestamp'](_0x4976f0){return _0x4976f0;}['drawLine'](_0x1d30c8,_0x41ed76,_0x2314ff,_0x2004fc,_0x5b6bf1){this['scene']['drawLine'](_0x1d30c8,_0x41ed76,_0x2314ff,_0x2004fc,_0x5b6bf1);}['drawLines'](_0x280327,_0x42cc36,_0x2f23c7=!(-0x1be1+-0xea3*-0x2+-0x165),_0x36b184=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x280327,_0x42cc36,_0x2f23c7,_0x36b184);}['drawLineAr'+'rays'](_0x98a2ac,_0x5e4c04,_0x5634c4=!(-0xd9*-0x9+0x11bf*0x1+-0x1960),_0x3df5a3=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x98a2ac,_0x5e4c04,_0x5634c4,_0x3df5a3);}['drawWireSp'+'here'](_0xfce8d,_0x253ebe,_0x489420=ie['WHITE'],_0x168845=0x19c8+-0x2350+0x99c,_0x468b24=!(-0x86c+0x20c*-0x10+-0x7c*-0x55),_0x1200c1=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0xfce8d,_0x253ebe,_0x489420,_0x168845,_0x468b24,_0x1200c1);}['drawWireAl'+'ignedBox'](_0x18e851,_0x45359f,_0x24133f=ie['WHITE'],_0x2c33b2=!(-0x1694+0xf9*-0xe+0x2432),_0x3409df=this['scene']['defaultDra'+'wLayer'],_0x2a0676){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x18e851,_0x45359f,_0x24133f,_0x2c33b2,_0x3409df,_0x2a0676);}['drawMeshIn'+'stance'](_0x59c65c,_0x269beb=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x59c65c,_0x269beb);}['drawMesh'](_0x4f759d,_0x2c94bf,_0x278558,_0x52626b=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x2c94bf,_0x278558,_0x4f759d,null,_0x52626b);}['drawQuad'](_0x2686a8,_0x15fb36,_0x521b1b=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x15fb36,_0x2686a8,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x521b1b);}['drawTextur'+'e'](_0x164296,_0x2d3d07,_0x560191,_0x423e1d,_0x26bafd,_0x44145e,_0x1396d3=this['scene']['defaultDra'+'wLayer'],_0x213638=!(0x1*0x14e7+-0x2*-0xc77+0xf47*-0x3)){if(_0x213638===!(-0x81*0x14+0xb*0x15b+-0x4d4)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x4dcd7e=new te();_0x4dcd7e['setTRS'](new D(_0x164296,_0x2d3d07,0x19*0xef+-0x43*-0x59+-0x2ea2),le['IDENTITY'],new D(_0x560191,-_0x423e1d,-0x1a1b+-0xcfb*0x2+0x3411)),_0x44145e||(_0x44145e=new Xn(),_0x44145e['cull']=bt,_0x44145e['setParamet'+'er']('colorMap',_0x26bafd),_0x44145e['shaderDesc']=_0x213638?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x26bafd['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x44145e['update']()),this['drawQuad'](_0x4dcd7e,_0x44145e,_0x1396d3);}['drawDepthT'+'exture'](_0x104c03,_0x4c9487,_0x543735,_0x340699,_0x410f6a=this['scene']['defaultDra'+'wLayer']){const _0x2b075e=new Xn();_0x2b075e['cull']=bt,_0x2b075e['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x2b075e['update'](),this['drawTextur'+'e'](_0x104c03,_0x4c9487,_0x543735,_0x340699,null,_0x2b075e,_0x410f6a);}['destroy'](){var _0x1f9fa5,_0x570d63,_0x5d6db6,_0x2558f8;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(-0x4a*0x3+-0x1db*-0x13+-0x2263);return;}const _0x2c575d=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1c66+-0x2632+-0x1633*-0x3)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0xabf+0x853+-0x1311)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1b*-0x170+-0x718+0x1*-0x1fb7)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x5*0x26b+0x10*-0x21+0xe28))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0xadbcb9=this['assets']['list']();for(let _0x207030=-0xf29+0x15f*0xb+0x14;_0x207030<_0xadbcb9['length'];_0x207030++)_0xadbcb9[_0x207030]['unload'](),_0xadbcb9[_0x207030]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x2ee91a=this['loader']['getHandler']('script');_0x2ee91a==null||_0x2ee91a['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x1f9fa5=this['lightmappe'+'r'])==null||_0x1f9fa5['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x570d63=this['xr'])==null||_0x570d63['end'](),(_0x5d6db6=this['xr'])==null||_0x5d6db6['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x2558f8=this['_soundMana'+'ger'])==null||_0x2558f8['destroy'](),this['_soundMana'+'ger']=null,ea['_applicati'+'ons'][_0x2c575d]=null,Ms()===this&&_u(null),ea['cancelTick'](this);}static['cancelTick'](_0x4df7dc){_0x4df7dc['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x4df7dc['frameReque'+'stId']),_0x4df7dc['frameReque'+'stId']=void(0x22d0*0x1+-0x16d9+-0xbf7));}['getEntityF'+'romIndex'](_0x441d62){return this['_entityInd'+'ex'][_0x441d62];}['_registerS'+'ceneImmedi'+'ate'](_0x1ff7af){this['on']('postrender',_0x1ff7af['immediate']['onPostRend'+'er'],_0x1ff7af['immediate']);}};h(ea,'_applicati'+'ons',{});let Ks=ea;const eL=function(_0x16c7f1){const _0x4869d8=_0x16c7f1;return function(_0x210701,_0x3e6bed){var _0x269891,_0x39bb97,_0x4230dd,_0x4b2c53;if(!_0x4869d8['graphicsDe'+'vice'])return;_0x4869d8['frameReque'+'stId']&&((_0x39bb97=(_0x269891=_0x4869d8['xr'])==null?void(-0x19bb+-0x17dd+-0x17*-0x228):_0x269891['session'])==null||_0x39bb97['cancelAnim'+'ationFrame'](_0x4869d8['frameReque'+'stId']),cancelAnimationFrame(_0x4869d8['frameReque'+'stId']),_0x4869d8['frameReque'+'stId']=null),_0x4869d8['_inFrameUp'+'date']=!(-0x193a+-0x679*-0x2+-0x8*-0x189),_u(_0x4869d8);const _0x27585b=_0x4869d8['_processTi'+'mestamp'](_0x210701)||de(),_0x34b1fc=_0x27585b-(_0x4869d8['_time']||_0x27585b);let _0x4d06f9=_0x34b1fc/(0x1c9*-0xa+0x1e70+0x65*-0x16);if(_0x4d06f9=Y['clamp'](_0x4d06f9,-0x2061+0x97a*-0x1+0x29db,_0x4869d8['maxDeltaTi'+'me']),_0x4d06f9*=_0x4869d8['timeScale'],_0x4869d8['_time']=_0x27585b,(_0x4230dd=_0x4869d8['xr'])!=null&&_0x4230dd['session']?_0x4869d8['frameReque'+'stId']=_0x4869d8['xr']['session']['requestAni'+'mationFram'+'e'](_0x4869d8['tick']):_0x4869d8['frameReque'+'stId']=Ae['browser']||Ae['worker']?requestAnimationFrame(_0x4869d8['tick']):null,_0x4869d8['graphicsDe'+'vice']['contextLos'+'t'])return;_0x4869d8['_fillFrame'+'StatsBasic'](_0x27585b,_0x4d06f9,_0x34b1fc),_0x4869d8['_fillFrame'+'Stats'](),_0x4869d8['fire']('frameupdat'+'e',_0x34b1fc);let _0x1b92c2=!(-0x1*-0x1a72+-0x905*-0x4+-0x3e85);_0x3e6bed?(_0x1b92c2=!((_0x4b2c53=_0x4869d8['xr'])!=null&&_0x4b2c53['update'](_0x3e6bed)),_0x4869d8['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x3e6bed['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x4869d8['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,!_0x1b92c2&&!_0x4869d8['stopSort']&&(w['trace'](W0,'----\x20Frame'+'\x20'+_0x4869d8['frame']),w['trace'](Ld,'--\x20UpdateS'+'tart\x20'+de()['toFixed'](0x1cf5+-0x169f*0x1+0x6c*-0xf)+'ms'),_0x4869d8['update'](_0x4d06f9),_0x4869d8['fire']('framerende'+'r'),(_0x4869d8['autoRender']||_0x4869d8['renderNext'+'Frame'])&&(w['trace'](Ld,'--\x20RenderS'+'tart\x20'+de()['toFixed'](-0x183*0xf+-0x184*0x18+0x3b0f)+'ms'),_0x4869d8['render'](),_0x4869d8['renderNext'+'Frame']=!(0x1*0x102b+0x233d+0x3367*-0x1),w['trace'](Ld,'--\x20RenderE'+'nd\x20'+de()['toFixed'](-0xb8a+0x3*-0x53f+-0x7f*-0x37)+'ms')),_0x4869d8['fire']('frameend')),_0x4869d8['_inFrameUp'+'date']=!(0x2661*-0x1+-0x18a4+0x3f06),_0x4869d8['_destroyRe'+'quested']&&_0x4869d8['destroy']();};};class tL{constructor(){h(this,'elementInp'+'ut'),h(this,'keyboard'),h(this,'mouse'),h(this,'touch'),h(this,'gamepads'),h(this,'scriptPref'+'ix'),h(this,'assetPrefi'+'x'),h(this,'scriptsOrd'+'er'),h(this,'soundManag'+'er'),h(this,'graphicsDe'+'vice'),h(this,'lightmappe'+'r'),h(this,'batchManag'+'er'),h(this,'xr'),h(this,'componentS'+'ystems',[]),h(this,'resourceHa'+'ndlers',[]);}}const mo=new sp();class Uv{constructor(_0x37f678,_0x19ccd9,_0x193560){this['scene']=_0x37f678,this['light']=_0x19ccd9,this['store'](),_0x19ccd9['numCascade'+'s']=-0x346*-0x4+0x953+-0x166a*0x1,this['scene']['clusteredL'+'ightingEna'+'bled']&&!_0x193560['shadowsEna'+'bled']&&(_0x19ccd9['castShadow'+'s']=!(0x2*0x977+0xc5d+-0x1f4a)),_0x19ccd9['type']!==ve&&(_0x19ccd9['_node']['getWorldTr'+'ansform'](),_0x19ccd9['getBoundin'+'gSphere'](mo),this['lightBound'+'s']=new De(),this['lightBound'+'s']['center']['copy'](mo['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](mo['radius'],mo['radius'],mo['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x2b6b7c=this['light'];_0x2b6b7c['mask']=this['mask'],_0x2b6b7c['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x2b6b7c['enabled']=this['enabled'],_0x2b6b7c['intensity']=this['intensity'],_0x2b6b7c['_node']['setLocalRo'+'tation'](this['rotation']),_0x2b6b7c['numCascade'+'s']=this['numCascade'+'s'],_0x2b6b7c['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(0x2593*-0x1+-0x1*-0xc7e+0x1915),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x17d05){const _0x41f2c2=this['light'];_0x41f2c2['enabled']=!(-0xa2c+0x1c91+-0x1264),_0x41f2c2['shadowMap']&&(_0x41f2c2['shadowMap']['cached']&&_0x17d05['add'](_0x41f2c2,_0x41f2c2['shadowMap']),_0x41f2c2['shadowMap']=null);}}const yc=new J();class sL extends Uv{constructor(_0xaf14ca,_0x44e71b){super(_0xaf14ca['scene'],_0x44e71b,_0xaf14ca['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===ve?this['light']['bakeNumSam'+'ples']:-0xfe*-0x11+0x1ac8+-0x2ba5;}['prepareVir'+'tualLight'](_0x15bbd6,_0x37186f){const _0x17245e=this['light'];if(_0x17245e['_node']['setLocalRo'+'tation'](this['rotation']),_0x15bbd6>0x3*-0x5d9+-0x35*-0x50+0x1*0xfb){const _0x4860be=_0x17245e['bakeArea'];Nl['circlePoin'+'tDetermini'+'stic'](yc,_0x15bbd6,_0x37186f),yc['mulScalar'](_0x4860be*(-0x2d2+-0x1914+-0x1be6*-0x1+0.5)),_0x17245e['_node']['rotateLoca'+'l'](yc['x'],0x175+0x36*0x50+-0x1255,yc['y']);}_0x17245e['_node']['getWorldTr'+'ansform']();const _0x2ea709=0x179d+0x220a+-0x39a5+0.20000000000000018,_0x476eab=Math['pow'](this['intensity'],_0x2ea709);_0x17245e['intensity']=Math['pow'](_0x476eab/_0x37186f,(0x3*-0x55b+0x1112+-0x100)/_0x2ea709);}}const Pg=new D();class Mg extends Uv{constructor(_0x353101){const _0x1ea035=_0x353101['scene'],_0x5d4fd0=new lt('AmbientLig'+'ht');_0x5d4fd0['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(0x173c+0x9a9+0x1*-0x20e5),'affectLightmapped':!(-0x1892*0x1+0xf85+0x90e),'bake':!(-0x42*-0xa+0x1*0x1c2b+0x1ebf*-0x1),'bakeNumSamples':_0x1ea035['ambientBak'+'eNumSample'+'s'],'castShadows':!(0x15*0x157+0x26c+-0x1e8f),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':$s,'color':ie['WHITE'],'intensity':0x1,'bakeDir':!(0x1*0x2537+0x461+0x27*-0x111)}),super(_0x1ea035,_0x5d4fd0['light']['light'],_0x353101['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x189fe4,_0x7e8d7a){Nl['spherePoin'+'tDetermini'+'stic'](Pg,_0x189fe4,_0x7e8d7a,0x46f*0x8+0x26*-0x4a+-0x187c,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](Pg['mulScalar'](-(-0x124c+-0x8*0x1e1+-0x2155*-0x1))),this['light']['_node']['rotateLoca'+'l'](0xcd+0x121e+-0x1291,0x1*0x2231+0xb1d*-0x1+-0x1714,0x171f+0x163a+-0x37d*0xd);const _0x8e7d9c=0x2318+0x4*-0x27d+0x1*-0x1922+0.20000000000000018,_0x4ba221=(-0x1237+0x1f64+0x1*-0xd2b)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x138cfa=Math['pow'](_0x4ba221,_0x8e7d9c);this['light']['intensity']=Math['pow'](_0x138cfa/_0x7e8d7a,(-0x875*-0x3+0x16*-0xdf+0x634*-0x1)/_0x8e7d9c);}}class vc{constructor(_0x1d1b9c,_0x5b4234=null){this['node']=_0x1d1b9c,this['component']=_0x1d1b9c['render']||_0x1d1b9c['model'],_0x5b4234=_0x5b4234||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x5b4234,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const iL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0aunifor'+'m\x20sampler2'+'D\x20source;\x0a'+'uniform\x20ve'+'c2\x20pixelOf'+'fset;\x0aunif'+'orm\x20vec2\x20s'+'igmas;\x0auni'+'form\x20float'+'\x20bZnorm;\x0au'+'niform\x20flo'+'at\x20kernel['+'{MSIZE}];\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20ve'+'c4\x20pixel\x20='+'\x20texture2D'+'Lod(source'+',\x20vUv0,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20lightmap'+'\x20specific\x20'+'optimizati'+'on\x20-\x20skip\x20'+'pixels\x20tha'+'t\x20were\x20not'+'\x20baked\x0a\x20\x20\x20'+'\x20//\x20this\x20a'+'lso\x20allows'+'\x20dilate\x20fi'+'lter\x20that\x20'+'work\x20on\x20th'+'e\x20output\x20o'+'f\x20this\x20to\x20'+'work\x20corre'+'ctly,\x20as\x20i'+'t\x20depends\x20'+'on\x20.a\x20bein'+'g\x20zero\x0a\x20\x20\x20'+'\x20//\x20to\x20dil'+'ate,\x20which'+'\x20the\x20follo'+'wing\x20blur\x20'+'filter\x20wou'+'ld\x20otherwi'+'se\x20modify\x0a')+('\x20\x20\x20\x20if\x20(!i'+'sUsed(pixe'+'l))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20p'+'ixel;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20sigma\x20-'+'\x20controls\x20'+'blurriness'+'\x20based\x20on\x20'+'a\x20pixel\x20di'+'stance\x0a\x20\x20\x20'+'\x20float\x20sig'+'ma\x20=\x20sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'float\x20bSig'+'ma\x20=\x20sigma'+'s.y;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20pixel'+'Hdr\x20=\x20deco'+'de(pixel);'+'\x0a\x20\x20\x20\x20vec3\x20'+'accumulate'+'dHdr\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20float\x20ac'+'cumulatedF'+'actor\x20=\x200.'+'000001;\x20\x20/'+'/\x20avoid\x20di'+'vision\x20by\x20'+'zero\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20ou'+'t\x20the\x20texe'+'ls\x0a\x20\x20\x20\x20con'+'st\x20int\x20kSi'+'ze\x20=\x20({MSI'+'ZE}\x20-\x201)\x20/'+'\x202;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x20-kSize;\x20i'+'\x20<=\x20kSize;'+'\x20++i)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20j\x20=\x20-'+'kSize;\x20j\x20<'+'=\x20kSize;\x20+'+'+j)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sample'+'\x20the\x20pixel'+'\x20with\x20offs'+'et\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'coord\x20=\x20vU'+'v0\x20+\x20vec2('+'float(i),\x20'+'float(j))\x20'+'*\x20pixelOff'+'set;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20pix\x20=\x20te'+'xture2DLod'+'(source,\x20c'+'oord,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x20-\x20o'+'nly\x20use\x20ba'+'ked\x20pixels'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isU'+'sed(pix))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20hdr\x20=\x20d'+'ecode(pix)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20bilatera'+'l\x20factors\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20factor\x20='+'\x20kernel[kS'+'ize\x20+\x20j]\x20*'+'\x20kernel[kS')+('ize\x20+\x20i];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fact'+'or\x20*=\x20norm'+'pdf3(hdr\x20-'+'\x20pixelHdr,'+'\x20bSigma)\x20*'+'\x20bZnorm;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ccumulate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20accu'+'mulatedHdr'+'\x20+=\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20+=\x20facto'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20finalHD'+'R\x20=\x20accumu'+'latedHdr\x20/'+'\x20accumulat'+'edFactor;\x0a'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(finalHDR,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'encodeRGBM'+'(finalHDR)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a'),rL='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',aL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afn'+'\x20normpdf3('+'v:\x20vec3f,\x20'+'sigma:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x200.39894\x20'+'*\x20exp(-0.5'+'\x20*\x20dot(v,\x20'+'v)\x20/\x20(sigm'+'a\x20*\x20sigma)'+')\x20/\x20sigma;'+'\x0a}\x0a\x0afn\x20dec'+'odeRGBM(rg'+'bm:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20(8'+'.0\x20*\x20rgbm.'+'a)\x20*\x20rgbm.'+'rgb;\x0a\x20\x20\x20\x20r'+'eturn\x20colo'+'r\x20*\x20color;'+'\x0a}\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeRGBM'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'var\x20encode'+'d:\x20vec4f;\x0a'+'\x20\x20\x20\x20let\x20rg'+'b_processe'+('d\x20=\x20pow(co'+'lor.rgb,\x20v'+'ec3f(0.5))'+'\x20*\x20(1.0\x20/\x20'+'8.0);\x0a\x20\x20\x20\x20'+'encoded\x20=\x20'+'vec4f(rgb_'+'processed,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20let\x20max_'+'g_b\x20=\x20max('+'\x20encoded.g'+',\x20max(\x20enc'+'oded.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20);\x0a\x20\x20\x20\x20l'+'et\x20max_rgb'+'\x20=\x20max(\x20en'+'coded.r,\x20m'+'ax_g_b\x20);\x0a'+'\x20\x20\x20\x20encode'+'d.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20enco'+'ded.a\x20=\x20ce'+'il(encoded'+'.a\x20*\x20255.0'+')\x20/\x20255.0;'+'\x0a\x0a\x20\x20\x20\x20enco'+'ded\x20=\x20vec4'+'f(encoded.'+'rgb\x20/\x20enco'+'ded.a,\x20enc'+'oded.a);\x0a\x20'+'\x20\x20\x20return\x20'+'encoded;\x0a}'+'\x0a\x0afn\x20decod'+'e(pixel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20pixel.'+'rgb;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'decodeRGBM'+'(pixel);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a\x0afn\x20isUs'+'ed(pixel:\x20'+'vec4f)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0ava'+'r\x20source:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20sourceSam'+'pler:\x20samp'+'ler;\x0aunifo'+'rm\x20kernel:'+'\x20array<f32'+',\x20{MSIZE}>'+';\x0auniform\x20'+'pixelOffse'+'t:\x20vec2f;\x0a'+'uniform\x20si'+'gmas:\x20vec2'+'f;\x0auniform'+'\x20bZnorm:\x20f'+'32;\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20pixel\x20'+'=\x20textureS'+'ampleLevel'+'(source,\x20s'+'ourceSampl'+'er,\x20input.')+('vUv0,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'lightmap\x20s'+'pecific\x20op'+'timization'+'\x20-\x20skip\x20pi'+'xels\x20that\x20'+'were\x20not\x20b'+'aked\x0a\x20\x20\x20\x20/'+'/\x20this\x20als'+'o\x20allows\x20d'+'ilate\x20filt'+'er\x20that\x20wo'+'rk\x20on\x20the\x20'+'output\x20of\x20'+'this\x20to\x20wo'+'rk\x20correct'+'ly,\x20as\x20it\x20'+'depends\x20on'+'\x20.a\x20being\x20'+'zero\x0a\x20\x20\x20\x20/'+'/\x20to\x20dilat'+'e,\x20which\x20t'+'he\x20followi'+'ng\x20blur\x20fi'+'lter\x20would'+'\x20otherwise'+'\x20modify\x0a\x20\x20'+'\x20\x20if\x20(!isU'+'sed(pixel)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20pix'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20range\x20sig'+'ma\x20-\x20contr'+'ols\x20blurri'+'ness\x20based'+'\x20on\x20a\x20pixe'+'l\x20distance'+'\x0a\x20\x20\x20\x20let\x20s'+'igma\x20=\x20uni'+'form.sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'let\x20bSigma'+'\x20=\x20uniform'+'.sigmas.y;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'pixelHdr\x20='+'\x20decode(pi'+'xel);\x0a\x20\x20\x20\x20'+'var\x20accumu'+'latedHdr\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20var'+'\x20accumulat'+'edFactor\x20='+'\x200.000001;'+'\x20\x20//\x20avoid'+'\x20division\x20'+'by\x20zero\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20out\x20the\x20t'+'exels\x0a\x20\x20\x20\x20'+'const\x20kSiz'+'e\x20=\x20({MSIZ'+'E}\x20-\x201)\x20/\x20'+'2;\x0a\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x20-kSiz'+'e;\x20i\x20<=\x20kS'+'ize;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(var\x20j:\x20i3'+'2\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20j\x20=\x20j\x20'+'+\x201)\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20pixel\x20'+'with\x20offse'+'t\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20co'+'ord\x20=\x20inpu'+'t.vUv0\x20+\x20v'+'ec2f(f32(i')+('),\x20f32(j))'+'\x20*\x20uniform'+'.pixelOffs'+'et;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'pix\x20=\x20text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20co'+'ord,\x200.0);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x20-\x20on'+'ly\x20use\x20bak'+'ed\x20pixels\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isUs'+'ed(pix))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20hdr\x20=\x20dec'+'ode(pix);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'bilateral\x20'+'factors\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20fa'+'ctor\x20=\x20uni'+'form.kerne'+'l[u32(kSiz'+'e\x20+\x20j)].el'+'ement\x20*\x20un'+'iform.kern'+'el[u32(kSi'+'ze\x20+\x20i)].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20factor'+'\x20=\x20factor\x20'+'*\x20normpdf3'+'(hdr\x20-\x20pix'+'elHdr,\x20bSi'+'gma)\x20*\x20uni'+'form.bZnor'+'m;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20accumul'+'ate\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'accumulate'+'dHdr\x20=\x20acc'+'umulatedHd'+'r\x20+\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20=\x20accumu'+'latedFacto'+'r\x20+\x20factor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20let'+'\x20finalHDR\x20'+'=\x20accumula'+'tedHdr\x20/\x20a'+'ccumulated'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20#if\x20HDR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalHDR,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20e'+'ncodeRGBM('+'finalHDR);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),nL='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0avar\x20so'+'urce:\x20text'+'ure_2d<f32'+'>;\x0avar\x20sou'+'rceSampler'+':\x20sampler;'+'\x0auniform\x20p'+'ixelOffset'+':\x20vec2f;\x0a\x0a'+'fn\x20isUsed('+'pixel:\x20vec'+'4f)\x20->\x20boo'+'l\x20{\x0a\x20\x20\x20\x20#i'+'fdef\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0a@fr'+'agment\x0afn\x20'+'fragmentMa'+'in(input:\x20'+'FragmentIn'+'put)\x20->\x20Fr'+'agmentOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20c:\x20vec4'+'f\x20=\x20textur'+'eSampleLev'+'el(source,'+'\x20sourceSam'+'pler,\x20inpu'+'t.vUv0,\x200.'+'0);\x0a\x20\x20\x20\x20c\x20'+'=\x20select(t'+'extureSamp'+'leLevel(so'+'urce,\x20sour'+'ceSampler,'+'\x20input.vUv'+'0\x20-\x20unifor'+'m.pixelOff'+'set,\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20-un'+'iform.pixe'+'lOffset.y)'+',\x200.0),\x20c,'+'\x20isUsed(c)'+');\x0a\x20\x20\x20\x20c\x20='+'\x20select(te'+'xtureSampl'+'eLevel(sou'+'rce,\x20sourc'+'eSampler,\x20'+'input.vUv0'+'\x20+\x20vec2f(u'+'niform.pix'+'elOffset.x'+',\x20-uniform'+'.pixelOffs'+'et.y),\x200.0'+'),\x20c,\x20isUs'+'ed(c));\x0a\x20\x20'+'\x20\x20c\x20=\x20sele'+'ct(texture'+'SampleLeve'+'l(source,\x20'+'sourceSamp'+'ler,\x20input'+'.vUv0\x20+\x20ve'+'c2f(-unifo'+'rm.pixelOf'+'fset.x,\x200.'+'0),\x200.0),\x20'+'c,\x20isUsed('+'c));\x0a\x20\x20\x20\x20c'+'\x20=\x20select('+'textureSam'+'pleLevel(s'+'ource,\x20sou'+'rceSampler'+',\x20input.vU'+'v0\x20+\x20vec2f'+'(uniform.p'+('ixelOffset'+'.x,\x200.0),\x20'+'0.0),\x20c,\x20i'+'sUsed(c));'+'\x0a\x20\x20\x20\x20c\x20=\x20s'+'elect(text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20in'+'put.vUv0\x20+'+'\x20vec2f(-un'+'iform.pixe'+'lOffset.x,'+'\x20uniform.p'+'ixelOffset'+'.y),\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20uni'+'form.pixel'+'Offset.y),'+'\x200.0),\x20c,\x20'+'isUsed(c))'+';\x0a\x20\x20\x20\x20c\x20=\x20'+'select(tex'+'tureSample'+'Level(sour'+'ce,\x20source'+'Sampler,\x20i'+'nput.vUv0\x20'+'+\x20uniform.'+'pixelOffse'+'t,\x200.0),\x20c'+',\x20isUsed(c'+'));\x0a\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20FragmentO'+'utput;\x0a\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20c;\x0a\x20'+'\x20\x20\x20return\x20'+'output;\x0a}\x0a'),Dg=-0x63*0x3a+0x22bb+-0xc3e,oL={'glslBilateralDeNoisePS':iL,'glslDilatePS':rL},lL={'wgslBilateralDeNoisePS':aL,'wgslDilatePS':nL};class cL{constructor(_0x5020ad){h(this,'shaderDila'+'te',[]),h(this,'shaderDeno'+'ise',[]),(this['device']=_0x5020ad,Pe['get'](this['device'],Fe)['add'](oL),Pe['get'](this['device'],it)['add'](lL),this['constantTe'+'xSource']=_0x5020ad['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x5020ad['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(-0x380+0x91d*-0x1+0x3*0x435),this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null);}['setSourceT'+'exture'](_0x1e3125){this['constantTe'+'xSource']['setValue'](_0x1e3125);}['prepare'](_0x2aaa51,_0x5b9bdf){this['pixelOffse'+'t'][0x242*0xf+-0x1*0x655+0x35*-0x85]=(-0x241a+-0x109*-0x2+0x1*0x2209)/_0x2aaa51,this['pixelOffse'+'t'][0x115c+-0x24f2+-0x127*-0x11]=(0x17b*0x12+0x1*-0x2624+0xb7f)/_0x5b9bdf,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x21442a,_0xccb578,_0x49549e){const _0x269678=_0x49549e?-0xaaf+-0xf*0x1ea+0x2765:0x266f+-0x63e*-0x4+-0x3f66;if(!this['shaderDeno'+'ise'][_0x269678]){const _0x4e84d7=new Map();_0x4e84d7['set']('{MSIZE}',0x20cb+-0x100c+0x30*-0x59),_0x49549e&&_0x4e84d7['set']('HDR',''),this['shaderDeno'+'ise'][_0x269678]=$t['createShad'+'er'](this['device'],{'uniqueName':'lmBilatera'+'lDeNoise-'+(_0x49549e?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('glslBilate'+'ralDeNoise'+'PS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('wgslBilate'+'ralDeNoise'+'PS'),'fragmentDefines':_0x4e84d7}),this['sigmas']=new Float32Array(0x10f*0x1f+-0x4b6*0x2+0x1*-0x1763),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][-0x2135*0x1+0x2b*-0x74+0x7*0x787]=_0x21442a,this['sigmas'][-0x223c+-0x698+0x28d5*0x1]=_0xccb578,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x21442a,_0xccb578);}['getDenoise'](_0x3b69d4){const _0x1ca441=_0x3b69d4?-0xa90+-0x1*-0x24c3+-0x161*0x13:-0x7ac+0x2069+-0x18bc;return this['shaderDeno'+'ise'][_0x1ca441];}['getDilate'](_0x53e23a,_0x4a5fb4){const _0x451ef5=_0x4a5fb4?-0x468+0xe62*-0x1+0x12ca:-0x2647+-0xcfb*0x3+-0x1*-0x4d39;if(!this['shaderDila'+'te'][_0x451ef5]){const _0x1870c6=_0x4a5fb4?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x451ef5]=$t['createShad'+'er'](_0x53e23a,{'uniqueName':'lmDilate-'+(_0x4a5fb4?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':_0x1870c6+Pe['get'](this['device'],Fe)['get']('glslDilate'+'PS'),'fragmentWGSL':_0x1870c6+Pe['get'](this['device'],it)['get']('wgslDilate'+'PS')});}return this['shaderDila'+'te'][_0x451ef5];}['evaluateDe'+'noiseUnifo'+'rms'](_0x41d954,_0x58a8f6){function _0x5947f8(_0x3db10e,_0x7453ee){return(0x1b1*-0xb+-0x2182*-0x1+-0x7*0x221+0.39894)*Math['exp'](-(0x1a89+0x1df*0x13+-0x3e16+0.5)*_0x3db10e*_0x3db10e/(_0x7453ee*_0x7453ee))/_0x7453ee;}this['kernel']=this['kernel']||new Float32Array(Dg);const _0x158683=this['kernel'],_0x117cdb=Math['floor']((Dg-(0x41*0x9+0x173c+-0x17*0x11c))/(-0x173d*-0x1+0x4ad+-0x4*0x6fa));for(let _0x6ed9e7=-0x15a6+-0x13d1+-0xb*-0x3c5;_0x6ed9e7<=_0x117cdb;++_0x6ed9e7){const _0x58de86=_0x5947f8(_0x6ed9e7,_0x41d954);_0x158683[_0x117cdb+_0x6ed9e7]=_0x58de86,_0x158683[_0x117cdb-_0x6ed9e7]=_0x58de86;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x5dea3c=(-0x1b8d+-0x1a32+0x50*0xac)/_0x5947f8(0x2*0xcff+-0x1*-0xe29+-0x2827,_0x58a8f6);this['bZnorm']['setValue'](_0x5dea3c);}}class hL extends ys{constructor(_0x3700b1,_0x108190,_0x3fbbcd,_0x44a016,_0xdf15b7,_0x153f80){super(_0x3700b1),h(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x108190,this['camera']=_0x3fbbcd,this['worldClust'+'ers']=_0x44a016,this['receivers']=_0xdf15b7,this['lightArray']=_0x153f80);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x1dc6d4=>{_0x1dc6d4['defaultUni'+'formBuffer']['destroy'](),_0x1dc6d4['destroy']();}),this['viewBindGr'+'oups']['length']=0x1fae+0x1c+-0x1fca;}['execute'](){const _0x4ff145=this['device'];Q['pushGpuMar'+'ker'](_0x4ff145,'Lightmappe'+'r');const {renderer:_0x104d37,camera:_0x2c594c,receivers:_0x38f19a,renderTarget:_0x19dcfc,worldClusters:_0x35935f,lightArray:_0x33a765}=this;_0x104d37['renderForw'+'ardLayer'](_0x2c594c,_0x19dcfc,null,void(-0x2141*-0x1+-0xb*-0x377+0x9*-0x7ee),Aa,this['viewBindGr'+'oups'],{'meshInstances':_0x38f19a,'splitLights':_0x33a765,'lightClusters':_0x35935f}),Q['popGpuMark'+'er'](_0x4ff145);}}const dL=-0x5c*-0x27+0x241f+-0x2a23,fL=0x9a6+0x55*-0x2+-0xe6*0xa,uL=0x1e8+-0x151+0x1*-0x96,xc=new D();class pL{constructor(_0x3e5753,_0xcce06,_0x3b6a01,_0x9bd005,_0x5e9cfc){this['device']=_0x3e5753,this['root']=_0xcce06,this['scene']=_0x3b6a01,this['renderer']=_0x9bd005,this['assets']=_0x5e9cfc,this['shadowMapC'+'ache']=_0x9bd005['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0x389*0x1+0x1296+0x1*-0x161e),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new ie(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x41fc68;zi['decRef'](this['blackTex']),this['blackTex']=null,zi['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x41fc68=this['camera'])==null||_0x41fc68['destroy'](),this['camera']=null;}['initBake'](_0x462758){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Ne,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(-0x19a*0xa+-0x1955+-0x91*-0x49),this['lightmapFi'+'lters']=new cL(_0x462758),this['constantBa'+'keDir']=_0x462758['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new _e(this['device'],{'width':0x4,'height':0x4,'format':Ne,'type':Zi,'name':'lightmapBl'+'ack'}),zi['incRef'](this['blackTex']);const _0x2f5680=new Fl();_0x2f5680['clearColor']['set'](-0x5*-0x40f+0x1f93+-0x8a5*0x6,0x2*-0xda1+-0xe57+0x1*0x2999,-0x2656+-0x2*-0x12df+0x98,0x17b*0x11+0x1487+-0x16d9*0x2),_0x2f5680['clearColor'+'Buffer']=!(-0x1916+-0x245c+-0x11e*-0x37),_0x2f5680['clearDepth'+'Buffer']=!(0x2*0x3df+0x1a5*0xf+0x8*-0x40d),_0x2f5680['clearStenc'+'ilBuffer']=!(-0x89*-0xa+-0x1*0x6e6+0x18d),_0x2f5680['frustumCul'+'ling']=!(0x1a77*0x1+0x15e3+-0x3059*0x1),_0x2f5680['projection']=En,_0x2f5680['aspectRati'+'o']=-0xd3b*0x1+0x1072+0x6*-0x89,_0x2f5680['node']=new Ie(),this['camera']=_0x2f5680,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=Ll,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=sm;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x40c16c=new Mv(_0x462758['supportsAr'+'eaLights'],_0x462758['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x40c16c;const _0xcc8a09=this['scene']['lighting'];_0x40c16c['shadowsEna'+'bled']=_0xcc8a09['shadowsEna'+'bled'],_0x40c16c['shadowAtla'+'sResolutio'+'n']=_0xcc8a09['shadowAtla'+'sResolutio'+'n'],_0x40c16c['cookiesEna'+'bled']=_0xcc8a09['cookiesEna'+'bled'],_0x40c16c['cookieAtla'+'sResolutio'+'n']=_0xcc8a09['cookieAtla'+'sResolutio'+'n'],_0x40c16c['areaLights'+'Enabled']=_0xcc8a09['areaLights'+'Enabled'],_0x40c16c['cells']=new D(0x5b*0x4e+-0x40*-0x78+-0x39b7,-0x2580+0x1ce6*0x1+0x3f*0x23,-0xfc0+0x153e+-0x57b),_0x40c16c['maxLightsP'+'erCell']=-0x121d*0x2+0x3*0x6d3+0xfc5,this['worldClust'+'ers']=new cu(_0x462758),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x1fd254){this['materials']=[];function _0x2e4046(_0x2d28c0){zi['decRef'](_0x2d28c0['colorBuffe'+'r']),_0x2d28c0['destroy']();}this['renderTarg'+'ets']['forEach'](_0x3eec2e=>{_0x2e4046(_0x3eec2e);}),this['renderTarg'+'ets']['clear'](),_0x1fd254['forEach'](_0x2ee25f=>{_0x2ee25f['renderTarg'+'ets']['forEach'](_0x14a8b9=>{_0x2e4046(_0x14a8b9);}),_0x2ee25f['renderTarg'+'ets']['length']=0x26b5+-0xe*0xc6+-0xd*0x225;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x49e73a,_0x54de38,_0x3de003){const _0x3c816a=new Ut();return _0x3c816a['name']='lmMaterial'+'-pass:'+_0x54de38+'-ambient:'+_0x3de003,_0x3c816a['setDefine']('UV1LAYOUT',''),_0x3c816a['setDefine']('LIT_LIGHTM'+'AP_BAKING',''),_0x54de38===fL?(_0x3c816a['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'COLOR',''),_0x3de003?_0x3c816a['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'ADD_AMBIEN'+'T',''):_0x3c816a['ambient']=new ie(-0x1302+0x4c6*0x2+0x976,0x11f1*-0x2+0x1*-0x236b+0x474d,0x96c+-0x83*0xf+-0x1bf*0x1),this['bakeHDR']||_0x3c816a['setDefine']('LIGHTMAP_R'+'GBM',''),_0x3c816a['lightMap']=this['blackTex']):(_0x3c816a['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'DIR',''),_0x3c816a['setDefine']('STD_LIGHTM'+'AP_DIR','')),_0x3c816a['cull']=bt,_0x3c816a['forceUv1']=!(-0x6a9+0x1*-0x7d5+0xe7e*0x1),_0x3c816a['update'](),_0x3c816a;}['createMate'+'rials'](_0x354c3e,_0x3f1bec,_0x3990f3){for(let _0x59213e=-0x9b*-0x3e+0x5f2+0x1*-0x2b7c;_0x59213e<_0x3990f3;_0x59213e++)this['passMateri'+'als'][_0x59213e]||(this['passMateri'+'als'][_0x59213e]=this['createMate'+'rialForPas'+'s'](_0x3f1bec,_0x59213e,!(-0x26f5*0x1+0x477*0x2+0x1e08)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x3f1bec,0x1114*0x2+0x12bb*0x2+0x23cf*-0x2,!(-0x41*-0x3a+0xfa9+-0xa21*0x3)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x196f6d){return _0x196f6d['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x52b+0x1*-0x136+-0x3f5*0x1),_0x196f6d['litOptions']['separateAm'+'bient']=!(0x1202+0x2*-0x136+-0xf96),_0x196f6d;});}['createText'+'ure'](_0x3530fa,_0x5b65df){return new _e(this['device'],{'profilerHint':vy,'width':_0x3530fa,'height':_0x3530fa,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(0x3*-0xa4e+0x1*0x12b5+-0x6*-0x209),'type':this['bakeHDR']?Ds:Zi,'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x5b65df});}['collectMod'+'els'](_0x669a4a,_0x4a2d9e,_0x46c436){var _0x3bde04,_0x398989,_0x2df5c4;if(!_0x669a4a['enabled'])return;let _0x2b692a;if((_0x3bde04=_0x669a4a['model'])!=null&&_0x3bde04['model']&&((_0x398989=_0x669a4a['model'])!=null&&_0x398989['enabled'])&&(_0x46c436&&_0x46c436['push'](new vc(_0x669a4a)),_0x669a4a['model']['lightmappe'+'d']&&_0x4a2d9e&&(_0x2b692a=_0x669a4a['model']['model']['meshInstan'+'ces'])),(_0x2df5c4=_0x669a4a['render'])!=null&&_0x2df5c4['enabled']&&(_0x46c436&&_0x46c436['push'](new vc(_0x669a4a)),_0x669a4a['render']['lightmappe'+'d']&&_0x4a2d9e&&(_0x2b692a=_0x669a4a['render']['meshInstan'+'ces'])),_0x2b692a){let _0x4bc31e=!(-0x753*-0x2+-0x1a5a+0xbb4);for(let _0x504e5f=-0x578+-0x1373+-0x18eb*-0x1;_0x504e5f<_0x2b692a['length'];_0x504e5f++)if(!_0x2b692a[_0x504e5f]['mesh']['vertexBuff'+'er']['format']['hasUv1']){w['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x669a4a['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x4bc31e=!(0x317+0x1993*0x1+-0x29b*0xb);break;}if(_0x4bc31e){const _0x3758ce=[];for(let _0x29a10e=0x1143*-0x1+-0x311*-0x6+-0x123;_0x29a10e<_0x2b692a['length'];_0x29a10e++){const _0xef4e94=_0x2b692a[_0x29a10e]['mesh'];this['_tempSet']['has'](_0xef4e94)?_0x4a2d9e['push'](new vc(_0x669a4a,[_0x2b692a[_0x29a10e]])):_0x3758ce['push'](_0x2b692a[_0x29a10e]),this['_tempSet']['add'](_0xef4e94);}this['_tempSet']['clear'](),_0x3758ce['length']>-0x98f+-0x4f2*0x2+0x1373&&_0x4a2d9e['push'](new vc(_0x669a4a,_0x3758ce));}}for(let _0x26f226=0x1*-0x2585+0x361+0x2224;_0x26f226<_0x669a4a['_children']['length'];_0x26f226++)this['collectMod'+'els'](_0x669a4a['_children'][_0x26f226],_0x4a2d9e,_0x46c436);}['prepareSha'+'dowCasters'](_0x128cf1){const _0x1d7758=[];for(let _0x7cc232=-0x2*0x40e+-0xde*0x29+0x2baa;_0x7cc232<_0x128cf1['length'];_0x7cc232++){const _0x53f71a=_0x128cf1[_0x7cc232]['component'];if(_0x53f71a['castShadow'+'s']=_0x53f71a['castShadow'+'sLightmap'],_0x53f71a['castShadow'+'sLightmap']){const _0x114671=_0x128cf1[_0x7cc232]['meshInstan'+'ces'];for(let _0x4f9bf8=0xa6*0x1d+-0x5fc+-0x3*0x446;_0x4f9bf8<_0x114671['length'];_0x4f9bf8++)_0x114671[_0x4f9bf8]['visibleThi'+'sFrame']=!(0x165+-0xa7*-0xd+-0x9e0),_0x1d7758['push'](_0x114671[_0x4f9bf8]);}}return _0x1d7758;}['updateTran'+'sforms'](_0x21eaf1){for(let _0x47ed8b=-0x3*-0x38+0x1243+-0x12eb;_0x47ed8b<_0x21eaf1['length'];_0x47ed8b++){const _0x1578c9=_0x21eaf1[_0x47ed8b]['meshInstan'+'ces'];for(let _0x2977d3=0xab*0x6+-0x2266*-0x1+-0x2668;_0x2977d3<_0x1578c9['length'];_0x2977d3++)_0x1578c9[_0x2977d3]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0xd103d0){let _0x179c88;const _0x47d0ba=this['scene']['lightmapSi'+'zeMultipli'+'er']||-0x2494+-0x10*-0x133+0x4*0x45d,_0x24ea61=xc;let _0x516788,_0x145ebc;_0xd103d0['model']?(_0x145ebc=_0xd103d0['model']['lightmapSi'+'zeMultipli'+'er'],_0xd103d0['model']['asset']?(_0x179c88=this['assets']['get'](_0xd103d0['model']['asset'])['data'],_0x179c88['area']&&(_0x516788=_0x179c88['area'])):_0xd103d0['model']['_area']&&(_0x179c88=_0xd103d0['model'],_0x179c88['_area']&&(_0x516788=_0x179c88['_area']))):_0xd103d0['render']&&(_0x145ebc=_0xd103d0['render']['lightmapSi'+'zeMultipli'+'er'],_0xd103d0['render']['type']!=='asset'&&_0xd103d0['render']['_area']&&(_0x179c88=_0xd103d0['render'],_0x179c88['_area']&&(_0x516788=_0x179c88['_area'])));const _0x400098={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x516788&&(_0x400098['x']=_0x516788['x'],_0x400098['y']=_0x516788['y'],_0x400098['z']=_0x516788['z'],_0x400098['uv']=_0x516788['uv']);const _0x571121=_0x145ebc||0x1*0x883+0x116e+-0x10*0x19f;_0x400098['x']*=_0x571121,_0x400098['y']*=_0x571121,_0x400098['z']*=_0x571121;const _0x54fdc9=_0xd103d0['render']||_0xd103d0['model'],_0x16d436=this['computeNod'+'eBounds'](_0x54fdc9['meshInstan'+'ces']);_0x24ea61['copy'](_0x16d436['halfExtent'+'s']);let _0x16bb07=_0x400098['x']*_0x24ea61['y']*_0x24ea61['z']+_0x400098['y']*_0x24ea61['x']*_0x24ea61['z']+_0x400098['z']*_0x24ea61['x']*_0x24ea61['y'];return _0x16bb07/=_0x400098['uv'],_0x16bb07=Math['sqrt'](_0x16bb07),Math['min'](Y['nextPowerO'+'fTwo'](_0x16bb07*_0x47d0ba),this['scene']['lightmapMa'+'xResolutio'+'n']||dL);}['setLightma'+'pping'](_0x2bfbee,_0x2b20b3,_0x4f0aab,_0x31aacd){for(let _0x4ddedd=0x1814+0x18d9+-0x19*0x1f5;_0x4ddedd<_0x2bfbee['length'];_0x4ddedd++){const _0x4444fd=_0x2bfbee[_0x4ddedd],_0xe9e50a=_0x4444fd['meshInstan'+'ces'];for(let _0x5245b9=0x221f+0x24f7+0x12*-0x3f3;_0x5245b9<_0xe9e50a['length'];_0x5245b9++){const _0x35c6b4=_0xe9e50a[_0x5245b9];if(_0x35c6b4['setLightma'+'pped'](_0x2b20b3),_0x2b20b3){_0x31aacd&&(_0x35c6b4['_shaderDef'+'s']|=_0x31aacd),_0x35c6b4['mask']=di;for(let _0x341bfd=-0x3f1*-0x7+-0x7d2+-0x2d3*0x7;_0x341bfd<_0x4f0aab;_0x341bfd++){const _0x2865c0=_0x4444fd['renderTarg'+'ets'][_0x341bfd]['colorBuffe'+'r'];_0x2865c0['minFilter']=vt,_0x2865c0['magFilter']=vt,_0x35c6b4['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x341bfd],_0x2865c0);}}}}}['bake'](_0x25ac34,_0x2723a0=jc){const _0x2fe506=this['device'],_0x5e1cde=de();this['scene']['_updateSky'+'Mesh'](),_0x2fe506['fire']('lightmappe'+'r:start',{'timestamp':_0x5e1cde,'target':this}),this['stats']['renderPass'+'es']=-0x13*0x53+0x12db+-0xcb2,this['stats']['shadowMapT'+'ime']=-0x1*-0x1799+0xaf5*0x1+0x1147*-0x2,this['stats']['forwardTim'+'e']=0x1d73+0x7f6*-0x1+0x1*-0x157d;const _0x263c8c=_0x2fe506['_shaderSta'+'ts']['linked'],_0x1262c0=_0x2fe506['_renderTar'+'getCreatio'+'nTime'],_0x65de92=_0x2fe506['_shaderSta'+'ts']['compileTim'+'e'],_0x23e9ce=[],_0x207e1e=[];if(_0x25ac34){for(let _0x5c35c3=0x9a4+-0xf*-0x1eb+0x2669*-0x1;_0x5c35c3<_0x25ac34['length'];_0x5c35c3++)this['collectMod'+'els'](_0x25ac34[_0x5c35c3],_0x23e9ce,null);this['collectMod'+'els'](this['root'],null,_0x207e1e);}else this['collectMod'+'els'](this['root'],_0x23e9ce,_0x207e1e);if(Q['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x23e9ce['length']>0x154c+0x13d0*-0x1+-0x17c*0x1){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x156383=_0x2723a0===jc?0xd*-0x255+-0x294+-0x20e7*-0x1:0x11a7+-0x24d1+0x132b;this['setLightma'+'pping'](_0x23e9ce,!(-0x15f9+-0x1bba+0x31b4),_0x156383),this['initBake'](_0x2fe506),this['bakeIntern'+'al'](_0x156383,_0x23e9ce,_0x207e1e);let _0x5a0eec=ou;_0x2723a0===jc&&(_0x5a0eec|=uv),this['scene']['ambientBak'+'e']&&(_0x5a0eec|=pv),this['setLightma'+'pping'](_0x23e9ce,!(0x797+0x5*0x6fd+-0x2a88),_0x156383,_0x5a0eec),this['finishBake'](_0x23e9ce);}Q['popGpuMark'+'er'](this['device']);const _0x274cdc=de();this['stats']['totalRende'+'rTime']=_0x274cdc-_0x5e1cde,this['stats']['shadersLin'+'ked']=_0x2fe506['_shaderSta'+'ts']['linked']-_0x263c8c,this['stats']['compileTim'+'e']=_0x2fe506['_shaderSta'+'ts']['compileTim'+'e']-_0x65de92,this['stats']['fboTime']=_0x2fe506['_renderTar'+'getCreatio'+'nTime']-_0x1262c0,this['stats']['lightmapCo'+'unt']=_0x23e9ce['length'],_0x2fe506['fire']('lightmappe'+'r:end',{'timestamp':_0x274cdc,'target':this});}['allocateTe'+'xtures'](_0x5d0f74,_0x127aa3){for(let _0x5c1404=0x1c4*-0xa+-0x4*-0x539+-0x33c;_0x5c1404<_0x5d0f74['length'];_0x5c1404++){const _0x5c8f01=_0x5d0f74[_0x5c1404],_0x515107=this['calculateL'+'ightmapSiz'+'e'](_0x5c8f01['node']);for(let _0x153fe8=-0x2*-0xf8b+-0x1174+0xa*-0x15d;_0x153fe8<_0x127aa3;_0x153fe8++){const _0x1f9713=this['createText'+'ure'](_0x515107,'lightmappe'+'r_lightmap'+'_'+_0x5c1404);zi['incRef'](_0x1f9713),_0x5c8f01['renderTarg'+'ets'][_0x153fe8]=new gt({'colorBuffer':_0x1f9713,'depth':!(0x87e+-0x5ec+-0x291)});}if(!this['renderTarg'+'ets']['has'](_0x515107)){const _0x49ea7a=this['createText'+'ure'](_0x515107,'lightmappe'+'r_temp_lig'+'htmap_'+_0x515107);zi['incRef'](_0x49ea7a),this['renderTarg'+'ets']['set'](_0x515107,new gt({'colorBuffer':_0x49ea7a,'depth':!(0x25bb*-0x1+0xef8+0x16c4)}));}}}['prepareLig'+'htsToBake'](_0x45eb53,_0x482c82){if(this['scene']['ambientBak'+'e']){const _0x5bdd77=new Mg(this);_0x482c82['push'](_0x5bdd77);}const _0x4f9b24=this['renderer']['lights'];for(let _0x323e5a=-0x1*-0x109b+-0x1128+-0x8d*-0x1;_0x323e5a<_0x4f9b24['length'];_0x323e5a++){const _0x3b654a=_0x4f9b24[_0x323e5a],_0x1761f0=new sL(this,_0x3b654a);_0x45eb53['push'](_0x1761f0),_0x3b654a['enabled']&&(_0x3b654a['mask']&fi)!==0x1*-0x1205+-0x1*0x10c7+0x22cc&&(_0x3b654a['mask']=fi|di|Ss,_0x3b654a['shadowUpda'+'teMode']=_0x3b654a['type']===ve?lm:xr,_0x482c82['push'](_0x1761f0));}_0x482c82['sort']();}['restoreLig'+'hts'](_0x95b42){for(let _0x37496f=-0x978+0x13d5+-0xa5d;_0x37496f<_0x95b42['length'];_0x37496f++)_0x95b42[_0x37496f]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](0x7a8*-0x1+-0x1*0xe1d+0x15c5*0x1,-0x1d4a+-0x23e7+0x4131,-0x213b+0x15e1+-0x1*-0xb5a),this['renderer']['setSceneCo'+'nstants'](),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Contrast')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Contrast']),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Brightness')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Brightness']);}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x2faf2e){const _0xb6f3b6=new De();if(_0x2faf2e['length']>0xb0c+0x1382+-0x1e8e){_0xb6f3b6['copy'](_0x2faf2e[-0x244d+-0x1*-0xe68+0x15e5]['aabb']);for(let _0x54323c=-0xd*0x33+-0xa96+0x7*0x1e2;_0x54323c<_0x2faf2e['length'];_0x54323c++)_0xb6f3b6['add'](_0x2faf2e[_0x54323c]['aabb']);}return _0xb6f3b6;}['computeNod'+'esBounds'](_0x1bb751){for(let _0x40722d=0x20ab+-0x446+0x1c65*-0x1;_0x40722d<_0x1bb751['length'];_0x40722d++){const _0xcf61ef=_0x1bb751[_0x40722d]['meshInstan'+'ces'];_0x1bb751[_0x40722d]['bounds']=this['computeNod'+'eBounds'](_0xcf61ef);}}['computeBou'+'nds'](_0x17c81f){const _0x32f88f=new De();for(let _0x21d8a0=0xe09+-0x1e88+0x107f;_0x21d8a0<_0x17c81f['length'];_0x21d8a0++){_0x32f88f['copy'](_0x17c81f[-0x1*0x1e07+-0x1*0xd7+0x525*0x6]['aabb']);for(let _0x13eb6d=0x3*-0x54f+0x7*-0x16c+-0x19e2*-0x1;_0x13eb6d<_0x17c81f['length'];_0x13eb6d++)_0x32f88f['add'](_0x17c81f[_0x13eb6d]['aabb']);}return _0x32f88f;}['backupMate'+'rials'](_0x5ddc5f){for(let _0x246815=-0xe8+0x1463*0x1+-0x137b;_0x246815<_0x5ddc5f['length'];_0x246815++)this['materials'][_0x246815]=_0x5ddc5f[_0x246815]['material'];}['restoreMat'+'erials'](_0x3732f1){for(let _0x25aa27=0x2208+0x21b7+0x3*-0x1695;_0x25aa27<_0x3732f1['length'];_0x25aa27++)_0x3732f1[_0x25aa27]['material']=this['materials'][_0x25aa27];}['lightCamer'+'aPrepare'](_0x7ac112,_0x24c3c2){const _0x5a24ec=_0x24c3c2['light'];let _0x108c99;return _0x5a24ec['type']===Ze&&(_0x108c99=_0x5a24ec['getRenderD'+'ata'](null,0x1bd6+0x40+-0xe0b*0x2)['shadowCame'+'ra'],_0x108c99['_node']['setPositio'+'n'](_0x5a24ec['_node']['getPositio'+'n']()),_0x108c99['_node']['setRotatio'+'n'](_0x5a24ec['_node']['getRotatio'+'n']()),_0x108c99['_node']['rotateLoca'+'l'](-(0x1393*0x1+-0x1*-0x2ba+-0x1*0x15f3),-0xca4+0x7e6+0x2*0x25f,0x1fc3+0x19*-0x67+-0x15b4),_0x108c99['projection']=ni,_0x108c99['nearClip']=_0x5a24ec['attenuatio'+'nEnd']/(-0x1091+-0x685+0x1*0x1afe),_0x108c99['farClip']=_0x5a24ec['attenuatio'+'nEnd'],_0x108c99['aspectRati'+'o']=-0xee*0x1a+0x1*-0x1f1b+-0xf4*-0x3a,_0x108c99['fov']=_0x5a24ec['_outerCone'+'Angle']*(-0x7*-0x1f+0xb1d+-0xbf4),this['renderer']['updateCame'+'raFrustum'](_0x108c99)),_0x108c99;}['lightCamer'+'aPrepareAn'+'dCull'](_0x5d8fd6,_0xae298d,_0x5c014f,_0x47c4c3){const _0x53669e=_0x5d8fd6['light'];let _0x1da738=!(0xdb5+-0x35*0x22+0x6ab*-0x1);if(_0x53669e['type']===ve){xc['copy'](_0x47c4c3['center']),xc['y']+=_0x47c4c3['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](xc),this['camera']['node']['setEulerAn'+'gles'](-(0x1*-0x1c44+-0xdf8+-0xe32*-0x3),0x52c+0x3*-0xc43+0x1*0x1f9d,-0x22f5*-0x1+0x2*0x100+0x1*-0x24f5),this['camera']['nearClip']=0x49f+0x1*0x26a9+-0x115*0x28,this['camera']['farClip']=_0x47c4c3['halfExtent'+'s']['y']*(0x1*-0x202d+0x970+0x16bf);const _0x594d8d=Math['max'](_0x47c4c3['halfExtent'+'s']['x'],_0x47c4c3['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x594d8d;}else _0x5d8fd6['lightBound'+'s']['intersects'](_0xae298d['bounds'])||(_0x1da738=!(-0x5e1*0x4+-0x247a+-0x3bff*-0x1));if(_0x53669e['type']===Ze){let _0x3b6459=!(0x11e4+0x3*-0xa1a+0xc6b);const _0x267985=_0xae298d['meshInstan'+'ces'];for(let _0x263e36=0x1*0x101d+-0x1c7a+0xc5d;_0x263e36<_0x267985['length'];_0x263e36++)if(_0x267985[_0x263e36]['_isVisible'](_0x5c014f)){_0x3b6459=!(-0x163d+0x59*0x4c+0x11*-0x3f);break;}_0x3b6459||(_0x1da738=!(0x218+-0x144+-0xd3));}return _0x1da738;}['setupLight'+'Array'](_0x35b234,_0x4cc928){_0x35b234[ve]['length']=0x5f*-0x25+-0x2640+-0x7*-0x76d,_0x35b234[Ke]['length']=-0x1197+0x698+0xaff,_0x35b234[Ze]['length']=0x2a+0x1909+0x1*-0x1933,_0x35b234[_0x4cc928['type']][-0x24aa*0x1+0x26d2+-0x6*0x5c]=_0x4cc928,_0x4cc928['visibleThi'+'sFrame']=!(-0x2090+0x4*0x990+0x34*-0x1c);}['renderShad'+'owMap'](_0x52c8dc,_0x14d609,_0x3d8461,_0x219db3){const _0x33a6c1=_0x219db3['light'],_0x4a5ad6=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x63b2fe=_0x33a6c1['castShadow'+'s']&&(!_0x4a5ad6||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x14d609&&_0x63b2fe){if(!_0x33a6c1['shadowMap']&&!_0x4a5ad6&&(_0x33a6c1['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x33a6c1)),_0x33a6c1['type']===ve){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x33a6c1,_0x52c8dc,this['camera'],_0x3d8461);const _0x22b5b9=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x33a6c1,this['camera']);_0x22b5b9==null||_0x22b5b9['render']();}else{if(this['device']['isWebGPU'])return w['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(-0xb*-0xd7+-0x912+-0x2b*0x1);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x33a6c1,_0x52c8dc,_0x3d8461),this['renderer']['shadowRend'+'erer']['render'](_0x33a6c1,this['camera'],!(0x9be*-0x3+0x125b+-0x15c*-0x8));}}return!(-0x2398+0x122*0x2+0x2154);}['postproces'+'sTextures'](_0x22f148,_0x108ed0,_0x125684){const _0x25f4ff=this['lightmapFi'+'lters']['getDilate'](_0x22f148,this['bakeHDR']);let _0x3f0f8c;const _0x4f2cd9=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x4f2cd9&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x3f0f8c=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x22f148['setBlendSt'+'ate'](pt['NOBLEND']),_0x22f148['setDepthSt'+'ate'](Yt['NODEPTH']),_0x22f148['setStencil'+'State'](null,null);for(let _0x2d1810=-0x7*0x1d3+-0x292*0xf+0x3353;_0x2d1810<_0x108ed0['length'];_0x2d1810++){const _0x328963=_0x108ed0[_0x2d1810];Q['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x2d1810);for(let _0x475b21=-0x53+0x178c+-0x1739;_0x475b21<_0x125684;_0x475b21++){const _0x474212=_0x328963['renderTarg'+'ets'][_0x475b21],_0x13270c=_0x474212['colorBuffe'+'r'],_0x2b3e0d=this['renderTarg'+'ets']['get'](_0x13270c['width']),_0x392801=_0x2b3e0d['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x13270c['width'],_0x13270c['height']);for(let _0xa37a6e=0xd*-0x1f1+0x1216*-0x1+-0xe71*-0x3;_0xa37a6e<0x161+0xab0+-0xc10;_0xa37a6e++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x13270c),Ar(_0x22f148,_0x2b3e0d,_0x4f2cd9&&_0x475b21===0x447*0x2+-0x192c*-0x1+-0x21ba&&_0xa37a6e===0x1cfe+0x8c7+0x25c5*-0x1?_0x3f0f8c:_0x25f4ff),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x392801),Ar(_0x22f148,_0x474212,_0x25f4ff);}Q['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x5da171,_0x4c879f,_0x11fd2b){const _0x555949=this['scene'],_0x36e5f9=_0x555949['layers'],_0x490f75=this['device'],_0x356e59=_0x555949['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x490f75,_0x555949,_0x5da171),this['setupScene'](),_0x36e5f9['_update'](),this['computeNod'+'esBounds'](_0x4c879f),this['allocateTe'+'xtures'](_0x4c879f,_0x5da171),this['renderer']['collectLig'+'hts'](_0x36e5f9);const _0xc7e540=[],_0x1fd164=[];this['prepareLig'+'htsToBake'](_0xc7e540,_0x1fd164),this['updateTran'+'sforms'](_0x11fd2b);const _0x3ac8a4=this['prepareSha'+'dowCasters'](_0x11fd2b);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x3ac8a4),this['renderer']['gpuUpdate'](_0x3ac8a4);const _0x335c39=this['computeBou'+'nds'](_0x3ac8a4);let _0x356533,_0x1c547f,_0xf0c1e8,_0x1ce55e;for(_0x356533=0x3b*-0x6d+-0x1636+0x15*0x241;_0x356533<_0x4c879f['length'];_0x356533++)for(_0xf0c1e8=_0x4c879f[_0x356533]['meshInstan'+'ces'],_0x1c547f=0x1d8f+-0x10*0x169+-0x6ff*0x1;_0x1c547f<_0xf0c1e8['length'];_0x1c547f++)_0x1ce55e=_0xf0c1e8[_0x1c547f],_0x1ce55e['setLightma'+'pped'](!(-0x1e0+0x71e+-0x53d)),_0x1ce55e['mask']=fi,_0x1ce55e['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][0x15cb+0x22f4+-0x38bf],this['blackTex']),_0x1ce55e['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][0xb0e+0x1*-0x1a44+0x13*0xcd],this['blackTex']);for(_0x1c547f=-0x12*0xf+0x1*0x1da5+-0x1c97*0x1;_0x1c547f<_0x1fd164['length'];_0x1c547f++)_0x1fd164[_0x1c547f]['light']['enabled']=!(0xd*-0x77+-0x1499*0x1+0x1aa5);const _0x21f0fb=[[],[],[]];let _0x26cf1e,_0x2831d8,_0x4f4a42=!(0x3*0x7a6+-0x23a*0x2+0x1*-0x127d);for(_0x356533=0xabb+0xc6d*-0x1+-0xe*-0x1f;_0x356533<_0x1fd164['length'];_0x356533++){const _0x40a1cf=_0x1fd164[_0x356533],_0x33cb2d=_0x40a1cf instanceof Mg,_0x2f9787=_0x40a1cf['light']['type']===ve;let _0x331231=_0x40a1cf['numVirtual'+'Lights'];_0x5da171>0x1433+0x17f*-0x2+-0x1134&&_0x331231>0x230b+0x1bbe+-0x3ec8&&_0x40a1cf['light']['bakeDir']&&(_0x331231=0x1b16+-0xec2+0x1*-0xc53,w['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x44a0b2=0x22bc+0x2*-0x407+-0x5*0x556;_0x44a0b2<_0x331231;_0x44a0b2++){Q['pushGpuMar'+'ker'](_0x490f75,'Light:'+_0x40a1cf['light']['_node']['name']+':'+_0x44a0b2),_0x331231>0x4cb*0x7+0x158*0x3+0x82*-0x4a&&_0x40a1cf['prepareVir'+'tualLight'](_0x44a0b2,_0x331231),_0x40a1cf['startBake']();let _0x56c963=!(0x1359+0x1*-0x13eb+0x3*0x31);const _0x4d2514=this['lightCamer'+'aPrepare'](_0x490f75,_0x40a1cf);for(_0x2831d8=-0x19cc+0x1*0xdfd+0xbcf;_0x2831d8<_0x4c879f['length'];_0x2831d8++){const _0x2535b7=_0x4c879f[_0x2831d8];if(_0xf0c1e8=_0x2535b7['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x40a1cf,_0x2535b7,_0x4d2514,_0x335c39))continue;this['setupLight'+'Array'](_0x21f0fb,_0x40a1cf['light']);const _0x57c6f2=_0x2f9787?[]:[_0x40a1cf['light']];for(_0x356e59&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x57c6f2,this['lightingPa'+'rams']),_0x56c963=this['renderShad'+'owMap'](_0x36e5f9,_0x56c963,_0x3ac8a4,_0x40a1cf),_0x356e59&&this['worldClust'+'ers']['update'](_0x57c6f2,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0xf0c1e8),_0x26cf1e=0x106+0x8b7+-0x33f*0x3;_0x26cf1e<_0x5da171&&!(_0x26cf1e>-0x33*0xb+0x8d9+0x2*-0x354&&_0x44a0b2>0x20d3+-0xb2+-0x5*0x66d||_0x33cb2d&&_0x26cf1e>-0x361*0x5+0xb5*-0x1d+0x2566);_0x26cf1e++){Q['pushGpuMar'+'ker'](_0x490f75,'LMPass:'+_0x26cf1e);const _0x270bc8=_0x2535b7['renderTarg'+'ets'][_0x26cf1e],_0x38718e=_0x2535b7['renderTarg'+'ets'][_0x26cf1e]['colorBuffe'+'r']['width'],_0x44259d=this['renderTarg'+'ets']['get'](_0x38718e),_0x53dc82=_0x44259d['colorBuffe'+'r'];_0x26cf1e===-0x1968+-0xb0c+0x2474?_0x4f4a42=_0x555949['updateShad'+'ers']:_0x4f4a42&&(_0x555949['updateShad'+'ers']=!(0x2192+-0x14*0x1a6+0xb*-0xe));let _0x381349=this['passMateri'+'als'][_0x26cf1e];for(_0x33cb2d&&_0x44a0b2+(0x1*0x1983+-0x2283+0x901)===_0x331231&&_0x26cf1e===0x2*-0x636+0xd0e+0x12*-0x9&&(_0x381349=this['ambientAOM'+'aterial']),_0x1c547f=-0x5*0x2e7+-0xbc2+0x1a45;_0x1c547f<_0xf0c1e8['length'];_0x1c547f++)_0xf0c1e8[_0x1c547f]['material']=_0x381349;if(this['renderer']['updateShad'+'ers'](_0xf0c1e8),_0x26cf1e===uL&&this['constantBa'+'keDir']['setValue'](_0x40a1cf['light']['bakeDir']?-0x1daf*-0x1+-0x4cc+-0x18e2:0x1a2b+0x21ba*-0x1+0x78f),_0x490f75['isWebGPU']){const _0x5161fc=new hL(_0x490f75,this['renderer'],this['camera'],_0x356e59?this['worldClust'+'ers']:null,_0xf0c1e8,_0x21f0fb);_0x5161fc['init'](_0x44259d),_0x5161fc['render'](),_0x5161fc['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x44259d,!(-0x6*0x52a+0x16ec+0x810)),_0x356e59&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=-0x12d*-0x7+0x1d84+0x3*-0xc95,this['renderer']['_shadowMap'+'Time']=0x2*-0x131d+0x3d*-0x2c+-0x1*-0x30b6,this['renderer']['renderForw'+'ard'](this['camera'],_0x44259d,_0xf0c1e8,_0x21f0fb,Aa),_0x490f75['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x2535b7['renderTarg'+'ets'][_0x26cf1e]=_0x44259d,this['renderTarg'+'ets']['set'](_0x38718e,_0x270bc8),_0x1c547f=-0x1d37+0x49c+0x189b;_0x1c547f<_0xf0c1e8['length'];_0x1c547f++)_0x1ce55e=_0xf0c1e8[_0x1c547f],_0x1ce55e['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x26cf1e],_0x53dc82),_0x1ce55e['_shaderDef'+'s']|=ou;Q['popGpuMark'+'er'](_0x490f75);}this['restoreMat'+'erials'](_0xf0c1e8);}_0x40a1cf['endBake'](this['shadowMapC'+'ache']),Q['popGpuMark'+'er'](_0x490f75);}}for(this['postproces'+'sTextures'](_0x490f75,_0x4c879f,_0x5da171),_0x2831d8=-0x205+0x1*0x1579+-0xc*0x19f;_0x2831d8<_0x11fd2b['length'];_0x2831d8++)_0x11fd2b[_0x2831d8]['restore']();this['restoreLig'+'hts'](_0xc7e540),this['restoreSce'+'ne'](),_0x356e59||this['shadowMapC'+'ache']['clear']();}}const Wh=class Wh extends me{constructor(_0x381a6d,_0x292549){super(),h(this,'system'),h(this,'entity'),(this['system']=_0x381a6d,this['entity']=_0x292549,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x48dc37,_0xe52301,_0x5e9828){this['fire']('set_'+_0x48dc37,_0x48dc37,_0xe52301,_0x5e9828);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x3ba9b9,_0x1fd8e3){_0x1fd8e3['forEach'](_0xa620a=>{const _0x510c64=typeof _0xa620a=='object'?_0xa620a['name']:_0xa620a;Object['defineProp'+'erty'](_0x3ba9b9,_0x510c64,{'get':function(){return this['data'][_0x510c64];},'set':function(_0x1999ef){const _0x3b2f14=this['data'],_0x167210=_0x3b2f14[_0x510c64];_0x3b2f14[_0x510c64]=_0x1999ef,this['fire']('set',_0x510c64,_0x167210,_0x1999ef);},'configurable':!(0x1fa4+0x4b1*0x5+-0x3719)});}),_0x3ba9b9['_accessors'+'Built']=!(0x2317*-0x1+0x4f+0x22c8);}['buildAcces'+'sors'](_0x2ebfbc){Wh['_buildAcce'+'ssors'](this,_0x2ebfbc);}['onSetEnabl'+'ed'](_0x1beccc,_0x5c0768,_0x4cce0f){_0x5c0768!==_0x4cce0f&&this['entity']['enabled']&&(_0x4cce0f?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x5cda80=this['system']['store'][this['entity']['getGuid']()];return _0x5cda80?_0x5cda80['data']:null;}set['enabled'](_0x48081b){}get['enabled'](){return!(0x24d7+0xee4*0x1+0x30b*-0x11);}};h(Wh,'order',0x25*0x9b+0xfa8+-0x260f);let we=Wh;class ct extends me{constructor(_0x276235){super(),this['app']=_0x276235,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x5368d9,_0x1ff60a={}){const _0x4fce36=new this['ComponentT'+'ype'](this,_0x5368d9),_0x5f24ca=new this['DataType']();return this['store'][_0x5368d9['getGuid']()]={'entity':_0x5368d9,'data':_0x5f24ca},_0x5368d9[this['id']]=_0x4fce36,_0x5368d9['c'][this['id']]=_0x4fce36,this['initialize'+'ComponentD'+'ata'](_0x4fce36,_0x1ff60a,[]),this['fire']('add',_0x5368d9,_0x4fce36),_0x4fce36;}['removeComp'+'onent'](_0x39cbd2){const _0x45ba52=this['id'],_0x175e0b=this['store'][_0x39cbd2['getGuid']()],_0x2febc4=_0x39cbd2['c'][_0x45ba52];_0x2febc4['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x39cbd2,_0x2febc4),delete this['store'][_0x39cbd2['getGuid']()],_0x39cbd2[_0x45ba52]=void(-0x4*0x8a0+0x1084+0x11fc),delete _0x39cbd2['c'][_0x45ba52],this['fire']('remove',_0x39cbd2,_0x175e0b['data']);}['cloneCompo'+'nent'](_0x502964,_0x114694){const _0x3a1eee=this['store'][_0x502964['getGuid']()];return this['addCompone'+'nt'](_0x114694,_0x3a1eee['data']);}['initialize'+'ComponentD'+'ata'](_0x5a0aec,_0x365c90={},_0x24269f){for(let _0x4e9874=0x9af+0x1fb9+-0x2968,_0xdefac0=_0x24269f['length'];_0x4e9874<_0xdefac0;_0x4e9874++){const _0x3fcc08=_0x24269f[_0x4e9874];let _0x3062f0,_0x14778f;typeof _0x3fcc08=='object'?(_0x3062f0=_0x3fcc08['name'],_0x14778f=_0x3fcc08['type']):(_0x3062f0=_0x3fcc08,_0x14778f=void(0x6*0x43e+-0xb*0x10+-0x18c4));let _0x482019=_0x365c90[_0x3062f0];_0x482019!==void(0x12d4*0x2+0x17*-0x185+-0x2b5)?(_0x14778f!==void(0x99d+-0x144+-0x859)&&(_0x482019=mL(_0x482019,_0x14778f)),_0x5a0aec[_0x3062f0]=_0x482019):_0x5a0aec[_0x3062f0]=_0x5a0aec['data'][_0x3062f0];}_0x5a0aec['enabled']&&_0x5a0aec['entity']['enabled']&&_0x5a0aec['onEnable']();}['getPropert'+'iesOfType'](_0x5bd95e){const _0x1e1884=[];return(this['schema']||[])['forEach'](_0x536e60=>{_0x536e60&&typeof _0x536e60=='object'&&_0x536e60['type']===_0x5bd95e&&_0x1e1884['push'](_0x536e60);}),_0x1e1884;}['destroy'](){this['off']();}}function mL(_0x3ff9de,_0x3a3364){if(!_0x3ff9de)return _0x3ff9de;switch(_0x3a3364){case'rgb':return _0x3ff9de instanceof ie?_0x3ff9de['clone']():new ie(_0x3ff9de[-0x551*0x5+-0xa1e+0x757*0x5],_0x3ff9de[0x9*-0x335+-0x7*0x3c1+-0x13*-0x2e7],_0x3ff9de[0x1d4*-0x11+0x2069+-0x153]);case'rgba':return _0x3ff9de instanceof ie?_0x3ff9de['clone']():new ie(_0x3ff9de[0x4c9+-0x1a50+-0xb*-0x1f5],_0x3ff9de[-0x25e+0x177d+-0x151e],_0x3ff9de[0xcc0+-0x2575*0x1+0x25*0xab],_0x3ff9de[0x1*0x1226+-0xc75*0x1+0x2d7*-0x2]);case'vec2':return _0x3ff9de instanceof J?_0x3ff9de['clone']():new J(_0x3ff9de[0x1d5e+0xb72+0x4*-0xa34],_0x3ff9de[0x35f*-0x1+0x18*0xeb+0x1*-0x12a8]);case'vec3':return _0x3ff9de instanceof D?_0x3ff9de['clone']():new D(_0x3ff9de[-0xc2a+-0x1232+0x1e5c],_0x3ff9de[-0x21f*-0x5+0x1*0xb3e+-0x15d8],_0x3ff9de[-0x1c3*-0x1+0x13d3+-0x1594]);case'vec4':return _0x3ff9de instanceof re?_0x3ff9de['clone']():new re(_0x3ff9de[0x1*0x1fa5+0x14*-0x157+-0x11*0x49],_0x3ff9de[-0xa7b+0x4*-0x45d+0x1bf0],_0x3ff9de[0x3*0xab1+0xdff*-0x1+0x101*-0x12],_0x3ff9de[0x164+-0x1eb*-0x13+-0x25d2]);case'boolean':case'number':case'string':return _0x3ff9de;case'entity':return _0x3ff9de;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x3a3364);}}const Bv=0x218d+0x61*0x2b+-0x31d8,Su=0x4*0x869+-0x1*0x1aff+-0x6a4,yu=0x25b2+0x7*-0x2a1+0x1*-0x1349;class _L{constructor(){this['_left']=(0xe*-0x10d+-0x165c+0x2513)/(0x1a2a+-0xc90+-0xd9a),this['_right']=-(0x2a*-0x5f+0x1e66*-0x1+0x2dfd)/(0x2295*0x1+0x1b17+-0x3dac),this['_len']=0x610+0x22*-0x62+0x6f4,this['_recip']=0x648+0x2102+-0x274a,this['_p0']=0x11e1*-0x1+-0x594+0x1775,this['_p1']=-0x1*0x12cd+-0xfe*-0x26+-0x12e7*0x1,this['_t']=-0x1*0x515+0xa5e+-0x549,this['_hermite']={'valid':!(0x1643+-0x7*-0x127+-0x1e53),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x351a61,_0x195cb8){if(_0x351a61<this['_left']||_0x351a61>=this['_right']){const _0x27ad7b=_0x195cb8['length'];if(!_0x27ad7b)this['_left']=-(-0x2ce+-0x2598+0x1*0x2867)/(-0x65c+0x8d*-0x2b+0x1e0b),this['_right']=(0x1907+-0xddf+0x23b*-0x5)/(-0x1d63+0x12a*0x1+0x1c39),this['_len']=-0x1*-0x1e01+-0xc*-0x1a+-0x1f39,this['_recip']=0x25*-0x7f+-0x4c1*-0x5+-0x56a,this['_p0']=this['_p1']=0x211*-0x4+-0x1e77+0x1*0x26bb;else{if(_0x351a61<_0x195cb8[-0x1*-0x17b3+0x2233+-0x39e6])this['_left']=-(-0x4ef+-0xf09*0x1+0x13f9)/(-0x2446+0xcd*0x19+0x1041),this['_right']=_0x195cb8[0x5f3+-0x43*-0x5+-0x742],this['_len']=-0x1b24+-0x36*-0xd+0x1866,this['_recip']=-0x37*-0x1+-0x8e0*0x1+0x8a9,this['_p0']=this['_p1']=0x217*-0xf+0x2011+0x8*-0x17;else{if(_0x351a61>=_0x195cb8[_0x27ad7b-(-0x116f*0x2+0x3e*0x4+-0x1*-0x21e7)])this['_left']=_0x195cb8[_0x27ad7b-(0x2*-0x6af+-0x68*0x3c+0x25bf)],this['_right']=(0x24d9+0x3*0x98d+0x9*-0x747)/(-0x1934+0x3*0x79d+0x25d),this['_len']=-0x1906+0x5e6+-0x3*-0x660,this['_recip']=-0x20ec+-0x3a4*-0x6+0xb14,this['_p0']=this['_p1']=_0x27ad7b-(-0x1252+-0x2b6*-0x7+-0xa7);else{const _0x27fc46=this['_findKey'](_0x351a61,_0x195cb8);this['_left']=_0x195cb8[_0x27fc46],this['_right']=_0x195cb8[_0x27fc46+(-0x1*-0x2032+0x17c8+0x7*-0x7ff)],this['_len']=this['_right']-this['_left'];const _0x28bc8c=(-0x97c*0x1+-0x1d9+0x1*0xb56)/this['_len'];this['_recip']=isFinite(_0x28bc8c)?_0x28bc8c:-0x16c+0x35*-0x5+0x275,this['_p0']=_0x27fc46,this['_p1']=_0x27fc46+(0xb5*-0x4+-0x2173+0xc*0x306);}}}}this['_t']=this['_recip']===0x54f+-0x1fae+-0x9d*-0x2b?-0x345*-0x2+-0x139*-0x2+-0x8fc:(_0x351a61-this['_left'])*this['_recip'],this['_hermite']['valid']=!(0x12f+-0x2*-0xe57+-0x1ddc);}['_findKey'](_0x4ba98b,_0x101c35){let _0x591a83=0x234f+-0x19*-0xef+-0x1d53*0x2;for(;_0x4ba98b>=_0x101c35[_0x591a83+(-0x700+-0x17*0x149+0x2490)];)_0x591a83++;return _0x591a83;}['eval'](_0x37d6a7,_0x252d03,_0x6fb81f){const _0x4ff535=_0x6fb81f['_data'],_0x1626dc=_0x6fb81f['_component'+'s'],_0x1c1c07=this['_p0']*_0x1626dc;if(_0x252d03===Bv){for(let _0x293547=-0x1*-0xc98+-0x11b*-0x22+-0x1917*0x2;_0x293547<_0x1626dc;++_0x293547)_0x37d6a7[_0x293547]=_0x4ff535[_0x1c1c07+_0x293547];}else{const _0x296824=this['_t'],_0x55bad0=this['_p1']*_0x1626dc;switch(_0x252d03){case Su:for(let _0x14358f=0x26b0+-0xba0+-0x1b1*0x10;_0x14358f<_0x1626dc;++_0x14358f)_0x37d6a7[_0x14358f]=Y['lerp'](_0x4ff535[_0x1c1c07+_0x14358f],_0x4ff535[_0x55bad0+_0x14358f],_0x296824);break;case yu:{const _0x3162cd=this['_hermite'];if(!_0x3162cd['valid']){const _0x595e65=_0x296824*_0x296824,_0x4d34c6=_0x296824+_0x296824,_0x51e44f=0x1faf*0x1+-0x20e*-0x11+0x261*-0x1c-_0x296824,_0x230b85=_0x51e44f*_0x51e44f;_0x3162cd['valid']=!(-0xb39+-0x1af9+0x2632),_0x3162cd['p0']=(0x1d36+0x1*0x836+-0x1f*0x135+_0x4d34c6)*_0x230b85,_0x3162cd['m0']=_0x296824*_0x230b85,_0x3162cd['p1']=_0x595e65*(0x1c93+-0x1cf6+-0x1*-0x66-_0x4d34c6),_0x3162cd['m1']=_0x595e65*(_0x296824-(0x11a1+-0x1589+-0xb*-0x5b));}const _0x27b263=(this['_p0']*(0x1dcb+0x288+-0x8*0x40a)+(-0x2b*-0x2+0x1*0x115c+0x287*-0x7))*_0x1626dc,_0x38073a=(this['_p0']*(0xce2*-0x1+-0x1*0xdfb+-0xa*-0x2b0)+(-0x398*-0x4+0x4*0x19b+-0x14ca))*_0x1626dc,_0x5cc7cd=(this['_p1']*(-0x1f79+0x13c5+0xbb7)+(-0x484*0x1+-0x7*0x4d+0x6a0))*_0x1626dc,_0x445ac0=(this['_p1']*(-0x2244+0x15a1+0xca6)+(0xa5+0x14a1*-0x1+-0x1*-0x13fc))*_0x1626dc;for(let _0x24b091=0x2f*-0x65+0x1fc5+-0x1*0xd3a;_0x24b091<_0x1626dc;++_0x24b091)_0x37d6a7[_0x24b091]=_0x3162cd['p0']*_0x4ff535[_0x27b263+_0x24b091]+_0x3162cd['m0']*_0x4ff535[_0x38073a+_0x24b091]*this['_len']+_0x3162cd['p1']*_0x4ff535[_0x5cc7cd+_0x24b091]+_0x3162cd['m1']*_0x4ff535[_0x445ac0+_0x24b091]*this['_len'];break;}}}}}class Ig{constructor(_0x3dba87){this['_name']=_0x3dba87['name']+'Snapshot',this['_time']=-(-0x1819+-0xffb+0x2815),this['_cache']=[],this['_results']=[];for(let _0x4f68df=0x7f1*-0x1+-0x9e*0x5+-0x1*-0xb07;_0x4f68df<_0x3dba87['_inputs']['length'];++_0x4f68df)this['_cache'][_0x4f68df]=new _L();const _0x9125d4=_0x3dba87['_curves'],_0x2e4ee4=_0x3dba87['_outputs'];for(let _0x5960ec=-0x4c*-0x52+-0x13ee+-0x235*0x2;_0x5960ec<_0x9125d4['length'];++_0x5960ec){const _0x5de234=_0x9125d4[_0x5960ec],_0x4dc1ff=_0x2e4ee4[_0x5de234['_output']],_0x48c02b=[];for(let _0x4dd099=-0x5*0x2f1+0x1edf+-0x102a;_0x4dd099<_0x4dc1ff['_component'+'s'];++_0x4dd099)_0x48c02b[_0x4dd099]=0x1c44+-0x1f*-0x1a+-0x1f6a*0x1;this['_results'][_0x5960ec]=_0x48c02b;}}}const qo=class qo{constructor(_0x332fa8,_0x1d7d08,_0x4ae114,_0x8db32c,_0x1bf5e1,_0x56bfa8){this['_name']=_0x332fa8['name'],this['_track']=_0x332fa8,this['_snapshot']=new Ig(_0x332fa8),this['_playing']=_0x8db32c,this['_time']=_0x1d7d08,this['_speed']=_0x4ae114,this['_loop']=_0x1bf5e1,this['_blendWeig'+'ht']=0x1f03+-0x1*0x332+-0x4*0x6f4,this['_blendOrde'+'r']=-0xa10+-0x1d43+0x2753,this['_eventHand'+'ler']=_0x56bfa8,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x5be513){this['_name']=_0x5be513;}get['name'](){return this['_name'];}set['track'](_0x5446e4){this['_track']=_0x5446e4,this['_snapshot']=new Ig(_0x5446e4);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x1dcca8){this['_time']=_0x1dcca8,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x114483){const _0x691512=Math['sign'](_0x114483)!==Math['sign'](this['_speed']);this['_speed']=_0x114483,_0x691512&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x5a13e1){this['_loop']=_0x5a13e1;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x40aa8a){this['_blendWeig'+'ht']=_0x40aa8a;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x2ca2a5){this['_blendOrde'+'r']=_0x2ca2a5;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x106e78){this['_eventCurs'+'or']=_0x106e78;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?-0x104*0xa+-0x1*0xd81+-0x2a1*-0x9:this['_track']['events']['length']-(0x20*0xef+-0x43*0x38+-0xf37);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<0x13b5+0xfd0+-0x513*0x7;}['nextEventA'+'headOfTime'](_0x30b461){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x30b461:this['nextEvent']['time']>=_0x30b461:!(0x5ba*-0x6+-0x5*0x700+0x455d);}['nextEventB'+'ehindTime'](_0xebd09c){return this['nextEvent']?_0xebd09c===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0xebd09c:this['nextEvent']['time']<=_0xebd09c:this['isReverse']?this['nextEvent']['time']>_0xebd09c:this['nextEvent']['time']<_0xebd09c:!(-0x1*0xa4d+0x905+-0x1*-0x149);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(0x4a*-0x15+-0x1*-0x26dd+-0x20ca):0x88*0x2+-0x8fe+-0x7ee*-0x1;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(-0xfd2+-0x14ec+0x24bf):0x25ae+0x6*0x219+-0x3243,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=-0x1a6*0xe+0x3db+-0x1*-0x1339:this['_eventCurs'+'or']<-0xc5*0xf+0xfa2+0x15d*-0x3&&(this['_eventCurs'+'or']=this['track']['events']['length']-(0x4*0x87c+0x1*-0x2156+-0x99));}['clipFrameT'+'ime'](_0x11f6ea){const _0x13c0e7=qo['eventFrame'];_0x13c0e7['start']=0x1*0x164f+-0x1208+-0xf*0x49,_0x13c0e7['end']=_0x11f6ea,_0x13c0e7['residual']=-0x1023+0x135a+-0x337*0x1,this['isReverse']?_0x11f6ea<-0xad1*0x3+0x1*-0x234b+0x1a*0x29b&&(_0x13c0e7['start']=this['track']['duration'],_0x13c0e7['end']=0x1*0xb92+0x1*-0x179b+-0xed*-0xd,_0x13c0e7['residual']=_0x11f6ea+this['track']['duration']):_0x11f6ea>this['track']['duration']&&(_0x13c0e7['start']=0x831+-0x5*0x293+0x4ae,_0x13c0e7['end']=this['track']['duration'],_0x13c0e7['residual']=_0x11f6ea-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x4bc8ed,_0x39b673){return this['nextEventA'+'headOfTime'](_0x4bc8ed)&&this['nextEventB'+'ehindTime'](_0x39b673)?(this['fireNextEv'+'ent'](),!(0x2b*0xa7+-0x455*0x7+-0x61*-0x6)):!(-0x7ed*-0x3+-0x4*-0x6e1+-0x334a);}['activeEven'+'tsForFrame'](_0x55bc6f,_0x2e87b5){const _0x144d81=qo['eventFrame'];this['clipFrameT'+'ime'](_0x2e87b5);const _0x1fb88d=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x55bc6f,_0x144d81['end'])&&_0x1fb88d!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x144d81['residual'])>-0x503*-0x1+-0x3cd+-0xa*0x1f&&this['activeEven'+'tsForFrame'](_0x144d81['start'],_0x144d81['residual']);}['progressFo'+'rTime'](_0x54af18){return _0x54af18*this['_speed']/this['_track']['duration'];}['_update'](_0x3c185c){if(this['_playing']){let _0x9b858e=this['_time'];const _0x30ba11=this['_track']['duration'],_0x1c6c13=this['_speed'],_0x4a8c37=this['_loop'];this['_track']['events']['length']>0x142a+-0x1d19+0x8ef&&_0x30ba11>-0x11*-0x17+-0x1c72+0x1aeb&&this['activeEven'+'tsForFrame'](_0x9b858e,_0x9b858e+_0x1c6c13*_0x3c185c),_0x9b858e+=_0x1c6c13*_0x3c185c,_0x1c6c13>=0x14df+0x2*-0xdf+-0x1321?_0x9b858e>_0x30ba11&&(_0x4a8c37?_0x9b858e=_0x9b858e%_0x30ba11||-0x16f*-0x1+-0xee7+0xd78:(_0x9b858e=this['_track']['duration'],this['pause']())):_0x9b858e<0x1757+0x1686+0x2ddd*-0x1&&(_0x4a8c37?_0x9b858e=_0x30ba11+(_0x9b858e%_0x30ba11||0x185a+-0x1*-0x6bb+-0x1f15):(_0x9b858e=0x1*-0xe03+-0x4*-0x236+0x52b,this['pause']())),this['_time']=_0x9b858e;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(-0x2423+0x8ad+-0x5f*-0x4a),this['_time']=0x1*-0xd18+0x1737+-0xa1f;}['stop'](){this['_playing']=!(0x1*-0x26b0+-0x23bc+0x4a6d),this['_time']=0x6b*0x47+0x34*0x5e+0xe3*-0x37;}['pause'](){this['_playing']=!(-0x6a5+-0x1*0x1d85+0x1*0x242b);}['resume'](){this['_playing']=!(-0x1af8+-0x1*-0xb73+-0xf85*-0x1);}['reset'](){this['_time']=0x1e8a+-0xed*0x1+-0x1d9d;}};h(qo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Dh=qo;const zv='NONE',gL='PREV_STATE',SL='NEXT_STATE',yL='PREV_STATE'+'_NEXT_STAT'+'E',vL='NEXT_STATE'+'_PREV_STAT'+'E',xL='GREATER_TH'+'AN',TL='LESS_THAN',wL='GREATER_TH'+'AN_EQUAL_T'+'O',EL='LESS_THAN_'+'EQUAL_TO',bL='EQUAL_TO',AL='NOT_EQUAL_'+'TO',Lg='INTEGER',Rg='FLOAT',Og='BOOLEAN',Qc='TRIGGER',CL='1D',PL='2D_DIRECTI'+'ONAL',ML='2D_CARTESI'+'AN',DL='DIRECT',Co='START',vu='END',qr='ANY',Ih=[Co,vu,qr],Vv='OVERWRITE',IL='ADDITIVE';class Ht{static['dot'](_0x5badc0,_0x186f09){const _0x495347=_0x5badc0['length'];let _0x3ea58c=-0x1300*-0x1+-0x1312+0x12;for(let _0x4cfa41=-0xff2+-0x9b6+0x335*0x8;_0x4cfa41<_0x495347;++_0x4cfa41)_0x3ea58c+=_0x5badc0[_0x4cfa41]*_0x186f09[_0x4cfa41];return _0x3ea58c;}static['normalize'](_0x1d7a65){let _0x2f080e=Ht['dot'](_0x1d7a65,_0x1d7a65);if(_0x2f080e>-0x19c3+0x282+0x1741){_0x2f080e=(0x1*0x16ed+0x1*-0x2075+0x989)/Math['sqrt'](_0x2f080e);const _0x25eb32=_0x1d7a65['length'];for(let _0x23f49a=0xe85+0x1a83+-0x2908;_0x23f49a<_0x25eb32;++_0x23f49a)_0x1d7a65[_0x23f49a]*=_0x2f080e;}}static['set'](_0x319d0a,_0x2fa23b,_0x3b9980){const _0x5e9772=_0x319d0a['length'];if(_0x3b9980==='quaternion'){let _0x29a79a=Ht['dot'](_0x2fa23b,_0x2fa23b);_0x29a79a>0x2022+-0x38c+-0xe4b*0x2&&(_0x29a79a=(0x15d*-0x8+-0x11b*0x4+-0x19*-0x9d)/Math['sqrt'](_0x29a79a));for(let _0x5b1469=-0x1b07+-0x1*-0xb1e+0xfe9*0x1;_0x5b1469<_0x5e9772;++_0x5b1469)_0x319d0a[_0x5b1469]=_0x2fa23b[_0x5b1469]*_0x29a79a;}else{for(let _0x1694b6=-0x1c14*-0x1+-0x5*-0x2cf+-0x2a1f;_0x1694b6<_0x5e9772;++_0x1694b6)_0x319d0a[_0x1694b6]=_0x2fa23b[_0x1694b6];}}static['blendVec'](_0x583fba,_0x65f6d2,_0x52740f,_0x5756e6){const _0x3abc7c=_0x5756e6?0x1*-0x1357+-0x157b+0x5d5*0x7:-0x19d0+-0x7e*0x40+0x43*0xdb-_0x52740f,_0x430a00=_0x583fba['length'];for(let _0x15a78a=0x1a8+0x1*0x7f7+-0x99f;_0x15a78a<_0x430a00;++_0x15a78a)_0x583fba[_0x15a78a]=_0x583fba[_0x15a78a]*_0x3abc7c+_0x65f6d2[_0x15a78a]*_0x52740f;}static['blendQuat'](_0x24b6e7,_0x7bcf5d,_0x313dc2,_0x4cb503){const _0x1b4858=_0x24b6e7['length'],_0x2f1414=_0x4cb503?0xc68+0x1f36+-0x2b9d:-0x2fc*-0x9+0xf1b+-0x29f6-_0x313dc2;Ht['dot'](_0x24b6e7,_0x7bcf5d)<-0x1748+-0x154e+0x1b7*0x1a&&(_0x313dc2=-_0x313dc2);for(let _0x56728d=-0x1d84+-0x8ec+0x2670;_0x56728d<_0x1b4858;++_0x56728d)_0x24b6e7[_0x56728d]=_0x24b6e7[_0x56728d]*_0x2f1414+_0x7bcf5d[_0x56728d]*_0x313dc2;_0x4cb503||Ht['normalize'](_0x24b6e7);}static['blend'](_0x509f70,_0x4757f8,_0x3330ba,_0x46e870,_0x598f2b){_0x46e870==='quaternion'?Ht['blendQuat'](_0x509f70,_0x4757f8,_0x3330ba,_0x598f2b):Ht['blendVec'](_0x509f70,_0x4757f8,_0x3330ba,_0x598f2b);}static['stableSort'](_0x58a584,_0x54cb5c){const _0x3ea6ff=_0x58a584['length'];for(let _0x1ce5d2=-0xa73+0x100e+-0x23*0x29;_0x1ce5d2<_0x3ea6ff-(-0x1*-0x2597+0x1*0x2698+0x571*-0xe);++_0x1ce5d2)for(let _0x5ae40f=_0x1ce5d2+(0x173c+0x36*-0x87+0x4f*0x11);_0x5ae40f<_0x3ea6ff;++_0x5ae40f)if(_0x54cb5c(_0x58a584[_0x5ae40f],_0x58a584[_0x1ce5d2])){const _0x5998a8=_0x58a584[_0x1ce5d2];_0x58a584[_0x1ce5d2]=_0x58a584[_0x5ae40f],_0x58a584[_0x5ae40f]=_0x5998a8;}}}const st=class st{constructor(_0x147c27,_0x39ceae){this['_component']=_0x147c27,this['mask']=new Int8Array(_0x147c27['layers']['length']),this['weights']=new Float32Array(_0x147c27['layers']['length']),this['totalWeigh'+'t']=-0xc0e+-0x4cd*-0x7+0x1*-0x158d,this['counter']=0x6d*0xc+-0xb2*0x2d+0x3*0x8ba,this['layerCount'+'er']=0xfda+-0xb39+-0x4a1,this['valueType']=_0x39ceae,this['dirty']=!(-0xc*0x2c1+0x7d1+0x193b*0x1),this['value']=_0x39ceae===st['TYPE_QUAT']?[-0x13a9*0x1+-0x1*-0xeb9+0x4f0,-0x835*-0x1+-0x1*-0x9be+0x5*-0x397,-0x1*-0xd09+0xb*-0x185+0x3ae,0x1*0x1777+-0x152e+0x49*-0x8]:[-0x4f+0x2*-0x1349+0x26e1,-0xb*0x1b7+0x1315+-0x38,0x75*0x4b+-0x599*0x5+-0x64a],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x40fb0f){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===-0x1143*0x1+-0xa8b*-0x1+0x6b8||!this['mask'][_0x40fb0f]?0x6e0+-0x1baf+0x14cf:this['_normalize'+'Weights']?this['weights'][_0x40fb0f]/this['totalWeigh'+'t']:Y['clamp'](this['weights'][_0x40fb0f],0x1*-0x1e57+-0x262d+-0x2*-0x2242,-0x1e7*-0xd+-0x1e2a+-0xe8*-0x6);}['_layerBlen'+'dType'](_0x5f4023){return this['_component']['layers'][_0x5f4023]['blendType'];}['setMask'](_0x3ece99,_0x271826){this['mask'][_0x3ece99]=_0x271826,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x3ece99]['blendType']===Vv&&(this['mask']=this['mask']['fill'](0x7e3*0x4+0x1*0x670+-0x25fc,-0x1051+-0xc2b+0x1c7c,_0x3ece99)),this['dirty']=!(-0xc*-0x322+-0x17c+-0x241c));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0x45c+-0x1cc8+-0x2c3*-0xc;for(let _0x3522d3=0x2ae+-0x25b+-0x1*0x53;_0x3522d3<this['weights']['length'];_0x3522d3++)this['weights'][_0x3522d3]=this['_component']['layers'][_0x3522d3]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x3522d3]*this['weights'][_0x3522d3];this['dirty']=!(0x1*-0xf8f+-0x11*-0xf4+-0xa4);}['updateValu'+'e'](_0x2493a2,_0x316a36){if(this['counter']===-0x11e3+-0x1*-0x1121+-0xc2*-0x1&&(Ht['set'](this['value'],st['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Ht['blend'](this['value'],this['baseValue'],0x1d45+-0xd7d+-0xfc7,this['valueType'])),!(!this['mask'][_0x2493a2]||this['getWeight'](_0x2493a2)===-0x1c8e*0x1+-0x2*0x3c7+0x2*0x120e)){if(this['_layerBlen'+'dType'](_0x2493a2)===IL&&!this['_normalize'+'Weights']){if(this['valueType']===st['TYPE_QUAT']){const _0x3e750a=st['q1']['set'](this['value'][-0x1*0x1139+-0x99+0x11d2],this['value'][-0x1bae+-0x24f7+0x40a6],this['value'][0x755*0x1+-0x3*0xd3+0x3*-0x19e],this['value'][0xa1a+0x61e*-0x2+-0x3*-0xb7]),_0x40bb6a=st['q2']['set'](this['baseValue'][-0x16d3+-0x2fe*0x2+0x7d*0x3b],this['baseValue'][0x62*0x43+0x16cd+-0x6a*0x75],this['baseValue'][-0xc*0x2e+0x56*-0x8+0x26d*0x2],this['baseValue'][-0x2*-0xa94+0x1*0x2d2+-0x199*0xf]),_0x473be7=st['q3']['set'](_0x316a36[0x1*0x1dc1+-0x6dd+-0x5*0x494],_0x316a36[-0x21*0xf2+-0x44*0x86+-0x1*-0x42cb],_0x316a36[0x1a54+-0x322*-0x3+-0x23b8],_0x316a36[-0x3*-0x59f+0x1*0x542+-0x161c]),_0x56b70f=_0x40bb6a['invert']()['mul'](_0x473be7);_0x56b70f['slerp'](le['IDENTITY'],_0x56b70f,this['getWeight'](_0x2493a2)),_0x3e750a['mul'](_0x56b70f),st['quatArr'][-0xd73*-0x1+0x2623+-0x3396]=_0x3e750a['x'],st['quatArr'][0x1314+-0x1510+0x1fd]=_0x3e750a['y'],st['quatArr'][-0x1aea+-0x1be7*0x1+-0x1*-0x36d3]=_0x3e750a['z'],st['quatArr'][0x7ef+0x1bcf+-0x23bb*0x1]=_0x3e750a['w'],Ht['set'](this['value'],st['quatArr'],this['valueType']);}else st['vecArr'][-0x8*-0x9+0x15a8+-0x15f0]=_0x316a36[-0x981+-0x1f28+0x28a9]-this['baseValue'][0xa41+-0x1f31+0x430*0x5],st['vecArr'][0x3*0x359+-0x6ca+-0x340]=_0x316a36[0x15e9+0x93f+-0x1f27]-this['baseValue'][0x125a+0x1f59+-0x31b2],st['vecArr'][0x779+0xa*0x10c+-0x11ef]=_0x316a36[0x14b*-0x19+0x1a*-0x18+0x22c5]-this['baseValue'][-0x3a2+-0x605*0x6+0xe*0x2d7],Ht['blend'](this['value'],st['vecArr'],this['getWeight'](_0x2493a2),this['valueType'],!(0x794+0x1*-0x249d+0x1d09));}else Ht['blend'](this['value'],_0x316a36,this['getWeight'](_0x2493a2),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};h(st,'TYPE_QUAT','quaternion'),h(st,'TYPE_VEC3','vector3'),h(st,'q1',new le()),h(st,'q2',new le()),h(st,'q3',new le()),h(st,'quatArr',[0x1ec1*-0x1+0x4de+-0x8a1*-0x3,-0x16b*0x7+0x40*0x7c+-0x1513,0x22e0+-0x1508+0x1*-0xdd8,-0x97f*-0x2+-0xb89+-0xc*0x9f]),h(st,'vecArr',[-0xeec+-0x3*0x232+0x1582,-0x1317+0x2258+0x1*-0xf41,-0x1ff1+-0xd98+0x2d89]),h(st,'IDENTITY_Q'+'UAT_ARR',[0x2315*0x1+0x1553+-0x4*0xe1a,-0x1f73*0x1+0xd*0x6b+0x1a04,0x2*-0x985+-0x1db1+-0x1*-0x30bb,0xe53+-0x201a+-0x8*-0x239]);let Vo=st;class Gv{constructor(_0x864811){this['_binder']=_0x864811,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x43b3db){const _0x2512e8=this['_targets'],_0x4f58b8=this['_binder'],_0x261f5a=_0x43b3db['track']['curves'],_0x4eb1de=_0x43b3db['snapshot'],_0x3036eb=[],_0x3a7e6f=[];for(let _0x5279e7=-0x4*-0xf9+0x12bf*0x1+-0x16a3;_0x5279e7<_0x261f5a['length'];++_0x5279e7){const _0x4c06c8=_0x261f5a[_0x5279e7]['paths'];for(let _0x523a4b=0xfd6*-0x1+-0x2251+0x3227;_0x523a4b<_0x4c06c8['length'];++_0x523a4b){const _0x4c4378=_0x4c06c8[_0x523a4b],_0x2559ba=_0x4f58b8['resolve'](_0x4c4378);let _0x500bce=_0x2512e8[_0x2559ba&&_0x2559ba['targetPath']||null];if(!_0x500bce&&_0x2559ba){_0x500bce={'target':_0x2559ba,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x285a51=-0x8df*-0x3+-0x2*-0x68c+-0x27b5;_0x285a51<_0x500bce['target']['components'];++_0x285a51)_0x500bce['value']['push'](0x3*-0x85c+0x3*-0xcfc+-0x2*-0x2004);if(_0x2512e8[_0x2559ba['targetPath']]=_0x500bce,_0x4f58b8['animCompon'+'ent']){if(!_0x4f58b8['animCompon'+'ent']['targets'][_0x2559ba['targetPath']]){let _0x71e052;_0x2559ba['targetPath']['substring'](_0x2559ba['targetPath']['length']-(0xc53+-0x1*-0xb65+-0x49*0x53))==='localRotat'+'ion'?_0x71e052=Vo['TYPE_QUAT']:_0x71e052=Vo['TYPE_VEC3'],_0x4f58b8['animCompon'+'ent']['targets'][_0x2559ba['targetPath']]=new Vo(_0x4f58b8['animCompon'+'ent'],_0x71e052);}_0x4f58b8['animCompon'+'ent']['targets'][_0x2559ba['targetPath']]['layerCount'+'er']++,_0x4f58b8['animCompon'+'ent']['targets'][_0x2559ba['targetPath']]['setMask'](_0x4f58b8['layerIndex'],0x1e30+-0x2142+0x1*0x313);}}_0x500bce&&(_0x500bce['curves']++,_0x3036eb['push'](_0x4eb1de['_results'][_0x5279e7]),_0x3a7e6f['push'](_0x500bce));}}this['_clips']['push'](_0x43b3db),this['_inputs']['push'](_0x3036eb),this['_outputs']['push'](_0x3a7e6f);}['removeClip'](_0xfe08cf){const _0x58fcbb=this['_targets'],_0x2a9033=this['_binder'],_0x3ae979=this['_clips'],_0x30b314=_0x3ae979[_0xfe08cf]['track']['curves'];for(let _0x57e5f6=-0x1445+0xff3+0x229*0x2;_0x57e5f6<_0x30b314['length'];++_0x57e5f6){const _0x39d808=_0x30b314[_0x57e5f6]['paths'];for(let _0x4d7d75=0xf50+0x4b5*0x2+-0x18ba;_0x4d7d75<_0x39d808['length'];++_0x4d7d75){const _0x287b1e=_0x39d808[_0x4d7d75],_0x2ac6f8=this['_binder']['resolve'](_0x287b1e);_0x2ac6f8&&(_0x2ac6f8['curves']--,_0x2ac6f8['curves']===0x8*0x245+0x1407+0x17*-0x1a9&&(_0x2a9033['unresolve'](_0x287b1e),delete _0x58fcbb[_0x2ac6f8['targetPath']],_0x2a9033['animCompon'+'ent']&&_0x2a9033['animCompon'+'ent']['targets'][_0x2ac6f8['targetPath']]['layerCount'+'er']--));}}_0x3ae979['splice'](_0xfe08cf,0x2259+-0x11be+-0x109a),this['_inputs']['splice'](_0xfe08cf,0x77c+-0x1fa3+0x1828),this['_outputs']['splice'](_0xfe08cf,0xe8f+0x1418*0x1+-0x22a6);}['removeClip'+'s'](){for(;this['_clips']['length']>-0x2*0x23d+0x212+0x9a*0x4;)this['removeClip'](-0xf2b+-0xb*-0x1b7+-0x16*0x2b);}['updateClip'+'Track'](_0x286382,_0x46b176){this['_clips']['forEach'](_0x516f60=>{_0x516f60['name']['includes'](_0x286382)&&(_0x516f60['track']=_0x46b176);}),this['rebind']();}['findClip'](_0x196b0b){const _0x76949c=this['_clips'];for(let _0x252a33=-0x691*0x2+0x2*0xb1e+-0x91a;_0x252a33<_0x76949c['length'];++_0x252a33){const _0x229c80=_0x76949c[_0x252a33];if(_0x229c80['name']===_0x196b0b)return _0x229c80;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x4c1116=[...this['clips']];this['removeClip'+'s'](),_0x4c1116['forEach'](_0x379a6a=>{this['addClip'](_0x379a6a);});}['assignMask'](_0xc8e496){return this['_binder']['assignMask'](_0xc8e496);}['update'](_0x21982b,_0x234c01=!(-0x25ad+-0x8bf+0x2e6c)){const _0x1ac595=this['_clips'],_0xdfb6f4=_0x1ac595['map']((_0x55fda7,_0x4589b4)=>_0x4589b4);Ht['stableSort'](_0xdfb6f4,(_0x27d6ab,_0x1b54b5)=>_0x1ac595[_0x27d6ab]['blendOrder']<_0x1ac595[_0x1b54b5]['blendOrder']);for(let _0x11b80e=0x25dd+-0x1*-0x1fd+-0x27da;_0x11b80e<_0xdfb6f4['length'];++_0x11b80e){const _0x2ada4a=_0xdfb6f4[_0x11b80e],_0x12ac4d=_0x1ac595[_0x2ada4a],_0x43e6e3=this['_inputs'][_0x2ada4a],_0x3221d9=this['_outputs'][_0x2ada4a],_0x3f2bb7=_0x12ac4d['blendWeigh'+'t'];if(_0x3f2bb7>0x7*-0x1a3+-0x20f4+0x2c69&&_0x12ac4d['_update'](_0x21982b),!_0x234c01)break;let _0x592b4b,_0x22e290,_0x4c5b36;if(_0x3f2bb7>=0x62*0x25+0x94*0x3d+-0x316d){for(let _0x4bbd3b=0x144*0x1b+-0x12e9+-0xf43;_0x4bbd3b<_0x43e6e3['length'];++_0x4bbd3b)_0x592b4b=_0x43e6e3[_0x4bbd3b],_0x22e290=_0x3221d9[_0x4bbd3b],_0x4c5b36=_0x22e290['value'],Ht['set'](_0x4c5b36,_0x592b4b,_0x22e290['target']['type']),_0x22e290['blendCount'+'er']++;}else{if(_0x3f2bb7>-0x20f0+0x49d*-0x2+0x2a2a){for(let _0x590b1b=-0xe4a*-0x2+-0x11d0*0x2+0xa4*0xb;_0x590b1b<_0x43e6e3['length'];++_0x590b1b)_0x592b4b=_0x43e6e3[_0x590b1b],_0x22e290=_0x3221d9[_0x590b1b],_0x4c5b36=_0x22e290['value'],_0x22e290['blendCount'+'er']===-0x115*0xd+0x880+0x591?Ht['set'](_0x4c5b36,_0x592b4b,_0x22e290['target']['type']):Ht['blend'](_0x4c5b36,_0x592b4b,_0x3f2bb7,_0x22e290['target']['type']),_0x22e290['blendCount'+'er']++;}}}const _0xcc5bdb=this['_targets'],_0x3c6be2=this['_binder'];for(const _0x5c6f35 in _0xcc5bdb)if(_0xcc5bdb['hasOwnProp'+'erty'](_0x5c6f35)){const _0x98d668=_0xcc5bdb[_0x5c6f35];if(_0x3c6be2['animCompon'+'ent']&&_0x98d668['target']['isTransfor'+'m']){const _0x107579=_0x3c6be2['animCompon'+'ent']['targets'][_0x5c6f35];_0x107579['counter']===_0x107579['layerCount'+'er']&&(_0x107579['counter']=0x1dc5+-0x26f6+0x931),_0x107579['path']||(_0x107579['path']=_0x5c6f35,_0x107579['baseValue']=_0x98d668['target']['get'](),_0x107579['setter']=_0x98d668['target']['set']),_0x107579['updateValu'+'e'](_0x3c6be2['layerIndex'],_0x98d668['value']),_0x107579['counter']++;}else _0x98d668['target']['set'](_0x98d668['value']);_0x98d668['blendCount'+'er']=-0x1*-0x1e34+0x17*0x11+0x1*-0x1fbb;}this['_binder']['update'](_0x21982b);}}class Hv{constructor(_0x58453c){this['_events']=[..._0x58453c],this['_events']['sort']((_0x108956,_0x5927c0)=>_0x108956['time']-_0x5927c0['time']);}get['events'](){return this['_events'];}}const $h=class $h{constructor(_0x56802d,_0x4e4ae0,_0xd84ff7,_0xf6ce37,_0x4863f3,_0x3fd4d8=new Hv([])){this['_name']=_0x56802d,this['_duration']=_0x4e4ae0,this['_inputs']=_0xd84ff7,this['_outputs']=_0xf6ce37,this['_curves']=_0x4863f3,this['_animEvent'+'s']=_0x3fd4d8;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x1765b2){this['_animEvent'+'s']=_0x1765b2;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x58ff78,_0x4a16f8){_0x4a16f8['_time']=_0x58ff78;const _0xbe90b9=this['_inputs'],_0x5d3a78=this['_outputs'],_0x2a7e4f=this['_curves'],_0x13b064=_0x4a16f8['_cache'],_0x42cd22=_0x4a16f8['_results'];for(let _0xaf89d=-0x5a1+0x12e4+-0x1*0xd43;_0xaf89d<_0xbe90b9['length'];++_0xaf89d)_0x13b064[_0xaf89d]['update'](_0x58ff78,_0xbe90b9[_0xaf89d]['_data']);for(let _0x20bce6=0xd89+0x14b*0xa+-0x1a77;_0x20bce6<_0x2a7e4f['length'];++_0x20bce6){const _0x3069cf=_0x2a7e4f[_0x20bce6],_0x2e1a85=_0x5d3a78[_0x3069cf['_output']],_0xf17b17=_0x42cd22[_0x20bce6];_0x13b064[_0x3069cf['_input']]['eval'](_0xf17b17,_0x3069cf['_interpola'+'tion'],_0x2e1a85);}}};h($h,'EMPTY',Object['freeze'](new $h('empty',Number['MAX_VALUE'],[],[],[])));let Qi=$h;class ra{static['joinPath'](_0x72646b,_0x42e01b){_0x42e01b=_0x42e01b||'.';const _0x301bfb=function(_0x52a0c5){return _0x52a0c5['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x42e01b,'g'),'\x5c'+_0x42e01b);};return _0x72646b['map'](_0x301bfb)['join'](_0x42e01b);}static['splitPath'](_0x4169f7,_0x1d6dc3){_0x1d6dc3=_0x1d6dc3||'.';const _0x56b0bc=[];let _0x1cfdd2='',_0x2cc00e=0x1f*0x17+-0x1d73+0x1aaa;for(;_0x2cc00e<_0x4169f7['length'];){let _0x2179c5=_0x4169f7[_0x2cc00e++];_0x2179c5==='\x5c'&&_0x2cc00e<_0x4169f7['length']?(_0x2179c5=_0x4169f7[_0x2cc00e++],_0x2179c5==='\x5c'||_0x2179c5===_0x1d6dc3?_0x1cfdd2+=_0x2179c5:_0x1cfdd2+='\x5c'+_0x2179c5):_0x2179c5===_0x1d6dc3?(_0x56b0bc['push'](_0x1cfdd2),_0x1cfdd2=''):_0x1cfdd2+=_0x2179c5;}return _0x1cfdd2['length']>0x1bd1+0x235*-0x1+-0x199c&&_0x56b0bc['push'](_0x1cfdd2),_0x56b0bc;}static['encode'](_0x4c6161,_0x284cf1,_0x31996b){return(Array['isArray'](_0x4c6161)?_0x4c6161['join']('/'):_0x4c6161)+'/'+_0x284cf1+'/'+(Array['isArray'](_0x31996b)?_0x31996b['join']('/'):_0x31996b);}['resolve'](_0x2337a3){return null;}['unresolve'](_0x30aa27){}['update'](_0x1ff793){}}class xu{constructor(_0x187880,_0x8a4a08,_0x2bf698,_0x332277){_0x187880['set']?(this['_set']=_0x187880['set'],this['_get']=_0x187880['get']):this['_set']=_0x187880,this['_type']=_0x8a4a08,this['_component'+'s']=_0x2bf698,this['_targetPat'+'h']=_0x332277,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x448+0xf59*0x1+-0xb04))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x1*0xe3f+0x1da5+-0xf59*0x1))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x2*0x12e+-0x33*-0x4f+-0xd57))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Sr{constructor(_0x1793b5){h(this,'_isPathInM'+'ask',(_0x127189,_0x933318)=>{const _0x2ea85b=this['_mask'][_0x127189];if(_0x2ea85b){if(_0x2ea85b['children']||_0x933318&&_0x2ea85b['value']!==!(-0x7*0xeb+-0xe*-0xad+-0x184*0x2))return!(-0x18b1+-0x2*0x1002+0x38b5);}else return!(-0x99*0x2a+-0x127a+0x2b95);return!(-0x55*-0x34+0x2*-0x65b+-0x48d*0x1);});if(this['graph']=_0x1793b5,!_0x1793b5)return;this['_mask']=null;const _0x256954={},_0x2780d9=function(_0x14c83d){_0x256954[_0x14c83d['name']]=_0x14c83d;for(let _0x4cd4d4=-0x1fc6+0x56c+-0xd2d*-0x2;_0x4cd4d4<_0x14c83d['children']['length'];++_0x4cd4d4)_0x2780d9(_0x14c83d['children'][_0x4cd4d4]);};_0x2780d9(_0x1793b5),this['nodes']=_0x256954,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x3328fc=function(_0x17d5d4){let _0x3420c6=_0x17d5d4;for(;_0x3420c6&&!(_0x3420c6 instanceof lt);)_0x3420c6=_0x3420c6['parent'];let _0x2c3406;return _0x3420c6&&(_0x3420c6['render']?_0x2c3406=_0x3420c6['render']['meshInstan'+'ces']:_0x3420c6['model']&&(_0x2c3406=_0x3420c6['model']['meshInstan'+'ces'])),_0x2c3406;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x25d49d){const _0x2ba59e=_0x25d49d['localPosit'+'ion'],_0x160ee6=function(_0x5325cb){_0x2ba59e['set'](..._0x5325cb);};return Sr['createAnim'+'Target'](_0x160ee6,'vector',0x1*-0x659+0x17*-0x14f+0x2475,_0x25d49d,'localPosit'+'ion');},'localRotation':function(_0x1101ed){const _0x5d7dc8=_0x1101ed['localRotat'+'ion'],_0x468dd5=function(_0x3baf97){_0x5d7dc8['set'](..._0x3baf97);};return Sr['createAnim'+'Target'](_0x468dd5,'quaternion',-0x1*0x106b+-0x1daa*0x1+0x2e19*0x1,_0x1101ed,'localRotat'+'ion');},'localScale':function(_0x4e77f0){const _0x21c14a=_0x4e77f0['localScale'],_0x289210=function(_0x210283){_0x21c14a['set'](..._0x210283);};return Sr['createAnim'+'Target'](_0x289210,'vector',0x340*-0xa+-0x236*0xa+-0x3*-0x1235,_0x4e77f0,'localScale');},'weight':function(_0x247de8,_0xea64c){_0xea64c['indexOf']('name.')===-0xda3*-0x2+0x1a02+-0x3548?_0xea64c=_0xea64c['replace']('name.',''):_0xea64c=Number(_0xea64c);const _0x19b0db=_0x3328fc(_0x247de8);let _0x3fd3c4;if(_0x19b0db){for(let _0x19f045=0x15c3+0x253a+-0x1*0x3afd;_0x19f045<_0x19b0db['length'];++_0x19f045)if(_0x19b0db[_0x19f045]['node']['name']===_0x247de8['name']&&_0x19b0db[_0x19f045]['morphInsta'+'nce']){const _0x1304a2=_0x19b0db[_0x19f045]['morphInsta'+'nce'],_0x5541b2=_0x323430=>{_0x1304a2['setWeight'](_0xea64c,_0x323430[0x3*-0xef+0x1be6*0x1+-0x1919]);};_0x3fd3c4||(_0x3fd3c4=[]),_0x3fd3c4['push'](_0x5541b2);}}if(_0x3fd3c4){const _0x1557a0=_0x36e597=>{for(let _0x58b1e8=-0x3ba+-0x2c*-0x63+-0x1*0xd4a;_0x58b1e8<_0x3fd3c4['length'];++_0x58b1e8)_0x3fd3c4[_0x58b1e8](_0x36e597);};return Sr['createAnim'+'Target'](_0x1557a0,'number',-0x1d51+-0xc4b+-0x35*-0xc9,_0x247de8,'weight.'+_0xea64c);}return null;},'materialTexture':(_0x235bda,_0x5b6e2a)=>{const _0x5ded90=_0x3328fc(_0x235bda);if(_0x5ded90){let _0x4d173c;for(let _0x41b2e7=0x1*0x156b+-0x53*0x61+-0x6b*-0x18;_0x41b2e7<_0x5ded90['length'];++_0x41b2e7)if(_0x5ded90[_0x41b2e7]['node']['name']===_0x235bda['name']){_0x4d173c=_0x5ded90[_0x41b2e7];break;}if(_0x4d173c){const _0x41da63=_0x3285b7=>{const _0xbb89f7=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x3285b7[0x1*-0x1229+0x5*-0x4d2+-0x2a43*-0x1]);_0xbb89f7&&_0xbb89f7['resource']&&_0xbb89f7['type']==='texture'&&(_0x4d173c['material'][_0x5b6e2a]=_0xbb89f7['resource'],_0x4d173c['material']['update']());};return Sr['createAnim'+'Target'](_0x41da63,'vector',-0x162c+-0x12e2+0x290f,_0x235bda,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x149f81){if(!this['_mask'])return!(-0x20fa+0x16e*-0x16+0x406e);const _0x34bc6b=[_0x149f81['entityPath'][-0x25*0xb0+0xa*-0x182+-0x1*-0x2884],this['graph']['name']];for(let _0x72bfff=0x8c1+-0x1c07+0x1346;_0x72bfff<_0x34bc6b['length'];++_0x72bfff){let _0x1532ca=_0x34bc6b[_0x72bfff];if(this['_isPathInM'+'ask'](_0x1532ca,_0x149f81['entityPath']['length']===-0x4*-0x90b+-0x17d+-0x22ae))return!(0x12fd*0x1+0x1*0x403+0xb8*-0x20);for(let _0x2e870d=-0x1*-0x1381+-0x2fd*0x1+-0x3*0x581;_0x2e870d<_0x149f81['entityPath']['length'];_0x2e870d++)if(_0x1532ca+='/'+_0x149f81['entityPath'][_0x2e870d],this['_isPathInM'+'ask'](_0x1532ca,_0x2e870d===_0x149f81['entityPath']['length']-(-0x1*0x13ba+-0x4*-0x209+0xb97*0x1)))return!(-0x10*-0x151+0x6b*-0xa+-0x2*0x871);}return!(-0x4d1+-0x2443+0x2915);}['findNode'](_0x47fe67){if(!this['_isPathAct'+'ive'](_0x47fe67))return null;let _0x2ac95d;if(this['graph']&&(_0x2ac95d=this['graph']['findByPath'](_0x47fe67['entityPath']),_0x2ac95d||(_0x2ac95d=this['graph']['findByPath'](_0x47fe67['entityPath']['slice'](-0x16f9+-0x2621+0x3d1b)))),!_0x2ac95d){_0x2ac95d=this['nodes'][_0x47fe67['entityPath'][_0x47fe67['entityPath']['length']-(0x1485+0x689*0x1+-0x1b0d)]||''];const _0x904928=ra['encode'](_0x47fe67['entityPath'][_0x47fe67['entityPath']['length']-(0x107f+-0x52f*0x2+-0x620)]||'','graph',_0x47fe67['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x904928]===-0x2570+0x1*0x201d+-0x2c*-0x1f&&w['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x904928+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x904928])?this['visitedFal'+'lbackGraph'+'Paths'][_0x904928]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x904928]=0xda4+-0x1304+-0x560*-0x1;}return _0x2ac95d;}static['createAnim'+'Target'](_0x423954,_0x398a26,_0x4bc55b,_0x8bed94,_0x28f52a,_0x44528e){const _0xe9fffb=ra['encode'](_0x8bed94['path'],_0x44528e||'entity',_0x28f52a);return new xu(_0x423954,_0x398a26,_0x4bc55b,_0xe9fffb);}['resolve'](_0x4d05af){const _0x439921=ra['encode'](_0x4d05af['entityPath'],_0x4d05af['component'],_0x4d05af['propertyPa'+'th']);let _0x21c9ee=this['targetCach'+'e'][_0x439921];if(_0x21c9ee)return _0x21c9ee;const _0xec7e5a=this['findNode'](_0x4d05af);if(!_0xec7e5a)return null;const _0x5ad8e0=this['handlers'][_0x4d05af['propertyPa'+'th']];return!_0x5ad8e0||(_0x21c9ee=_0x5ad8e0(_0xec7e5a),!_0x21c9ee)?null:(this['targetCach'+'e'][_0x439921]=_0x21c9ee,this['nodeCounts'][_0xec7e5a['path']]?this['nodeCounts'][_0xec7e5a['path']]++:(this['activeNode'+'s']['push'](_0xec7e5a),this['nodeCounts'][_0xec7e5a['path']]=0x11*-0x1bb+0x11*-0x17f+0x36db),_0x21c9ee);}['unresolve'](_0xd8b4e4){if(_0xd8b4e4['component']!=='graph')return;const _0x104d20=this['nodes'][_0xd8b4e4['entityPath'][_0xd8b4e4['entityPath']['length']-(-0xbdc+0x3*-0x372+-0x1633*-0x1)]||''];if(this['nodeCounts'][_0x104d20['path']]--,this['nodeCounts'][_0x104d20['path']]===-0xd42+-0xa5c*0x1+0x179e){const _0x12cf94=this['activeNode'+'s'],_0x4e6098=_0x12cf94['indexOf'](_0x104d20['node']),_0x3bc89b=_0x12cf94['length'];_0x4e6098<_0x3bc89b-(-0x23ad*-0x1+-0x31*0x83+-0xa99)&&(_0x12cf94[_0x4e6098]=_0x12cf94[_0x3bc89b-(0x1e2d+-0x36d*-0x2+-0x2506)]),_0x12cf94['pop']();}}['update'](_0x1a187a){const _0x234dc2=this['activeNode'+'s'];for(let _0x16dac1=-0x220c+-0x16d7+-0x1*-0x38e3;_0x16dac1<_0x234dc2['length'];++_0x16dac1)_0x234dc2[_0x16dac1]['_dirtifyLo'+'cal']();}['assignMask'](_0x52f4d4){return _0x52f4d4!==this['_mask']?(this['_mask']=_0x52f4d4,!(0x419*-0x4+0x3*-0xb8f+0x3311)):!(-0x2*0xad8+0x18e*-0x3+0x1a5b);}}class Wv extends we{constructor(){super(...arguments),h(this,'_animation'+'s',{}),h(this,'_assets',[]),h(this,'_loop',!(-0x3*0xaff+0x2*-0x11f7+0x1*0x44eb)),h(this,'animEvalua'+'tor',null),h(this,'model',null),h(this,'skeleton',null),h(this,'fromSkel',null),h(this,'toSkel',null),h(this,'animations'+'Index',{}),h(this,'prevAnim',null),h(this,'currAnim',null),h(this,'blend',-0x799*-0x2+0x13*-0x161+0x9*0x139),h(this,'blending',!(-0x2*-0xdb+-0x1b17+0x1*0x1962)),h(this,'blendSpeed',-0xb51+0x4*-0x20c+0x1381),h(this,'activate',!(0x2bd+0xb*0x21d+-0x2*0xcfe)),h(this,'speed',-0x5*-0x130+0x70a+-0xcf9);}set['animations'](_0x160cc6){this['_animation'+'s']=_0x160cc6,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x2c1bd2){const _0x36a837=this['_assets'];if(_0x36a837&&_0x36a837['length']){for(let _0x1cc0f6=0x82*0x19+-0x11f7+0x545;_0x1cc0f6<_0x36a837['length'];_0x1cc0f6++)if(_0x36a837[_0x1cc0f6]){const _0x4f0148=this['system']['app']['assets']['get'](_0x36a837[_0x1cc0f6]);if(_0x4f0148){_0x4f0148['off']('change',this['onAssetCha'+'nged'],this),_0x4f0148['off']('remove',this['onAssetRem'+'oved'],this);const _0x4f9c18=this['animations'+'Index'][_0x4f0148['id']];this['currAnim']===_0x4f9c18&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x4f9c18],delete this['animations'+'Index'][_0x4f0148['id']];}}}this['_assets']=_0x2c1bd2;const _0x21b181=_0x2c1bd2['map'](_0x3739a1=>_0x3739a1 instanceof pe?_0x3739a1['id']:_0x3739a1);this['loadAnimat'+'ionAssets'](_0x21b181);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x3285d5){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x3285d5,this['skeleton']['addTime'](-0x1931*-0x1+-0x2*-0x875+-0x2a1b),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x2c098b=this['animEvalua'+'tor']['clips'];for(let _0x1aede9=-0x722+-0x1a4c+0x216e;_0x1aede9<_0x2c098b['length'];++_0x1aede9)_0x2c098b[_0x1aede9]['time']=_0x3285d5;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x4a13be=this['animEvalua'+'tor']['clips'];if(_0x4a13be['length']>0x202b+-0x6f*-0x2e+-0x341d*0x1)return _0x4a13be[_0x4a13be['length']-(0x934+0xb5*0x1+-0x9e8)]['time'];}return-0x2221*-0x1+-0x1470+-0xdb1;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(w['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),-0x21e0+0x739+0x1aa7*0x1);}set['loop'](_0x5598d5){if(this['_loop']=_0x5598d5,this['skeleton']&&(this['skeleton']['looping']=_0x5598d5),this['animEvalua'+'tor']){for(let _0x48b4c9=0x9f7+-0x625+-0x3d2;_0x48b4c9<this['animEvalua'+'tor']['clips']['length'];++_0x48b4c9)this['animEvalua'+'tor']['clips'][_0x48b4c9]['loop']=_0x5598d5;}}get['loop'](){return this['_loop'];}['play'](_0x549698,_0x4d45ea=0x23f*-0x2+-0x1a46+0x1ec4){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x549698]){w['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x549698+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x549698,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x3e4ff7=this['animations'][this['prevAnim']],_0x9e0671=this['animations'][this['currAnim']];if(this['blending']=_0x4d45ea>0x222a+-0x1022*-0x2+-0x426e&&!!this['prevAnim'],this['blending']&&(this['blend']=-0x1aa9+-0x1*0xf22+0x29cb,this['blendSpeed']=(0x1162*-0x2+-0x339*0xb+0x4638)/_0x4d45ea),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x3e4ff7,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x9e0671):this['skeleton']['animation']=_0x9e0671),this['animEvalua'+'tor']){const _0x33868f=this['animEvalua'+'tor'];if(this['blending']){for(;_0x33868f['clips']['length']>0x29*-0x1+-0x2349*0x1+-0xb*-0x339;)_0x33868f['removeClip'](0x1416+0x4d5+-0x18eb);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x47efd4=new Dh(this['animations'][this['currAnim']],-0x18f6+0x1*-0xeae+0x27a4,0x144*-0x5+-0x1*-0x2087+-0x1a32*0x1,!(-0x554*0x6+-0x4*0x562+0x3580),this['loop']);_0x47efd4['name']=this['currAnim'],_0x47efd4['blendWeigh'+'t']=this['blending']?-0x13*0x47+0x1*-0x1936+0x1e7b:0x45d+-0x1bd+-0x29f,_0x47efd4['reset'](),this['animEvalua'+'tor']['addClip'](_0x47efd4);}}this['playing']=!(0x16eb+0x23b7+0x4f*-0xbe);}}['getAnimati'+'on'](_0x13d76b){return this['animations'][_0x13d76b];}['setModel'](_0x3e3011){_0x3e3011!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x3e3011,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x477555=this['entity']['model'];if(_0x477555){const _0x111cab=_0x477555['model'];_0x111cab&&_0x111cab!==this['model']&&this['setModel'](_0x111cab);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x385022=Object['keys'](this['_animation'+'s']);_0x385022['length']>0xfb1*-0x2+-0x8e8+0x1b*0x17e&&this['play'](_0x385022[-0x1*-0x5ca+0x1ca*0x4+-0xcf2]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x4402f3=this['model'],_0x325a38=this['animations'];let _0x5f5803=!(-0x1*-0xd57+-0x240+-0xb16),_0x1a6d2d=!(0x1*0xc23+-0x3d7*-0x1+-0xff9);for(const _0x244c63 in _0x325a38)_0x325a38['hasOwnProp'+'erty'](_0x244c63)&&(_0x325a38[_0x244c63]['constructo'+'r']===Qi?_0x1a6d2d=!(0x108c+0xaf*-0xa+-0xe2*0xb):_0x5f5803=!(-0x78d*-0x1+0xbd3+-0x9b0*0x2));const _0x521547=_0x4402f3['getGraph']();_0x5f5803?(this['fromSkel']=new Sf(_0x521547),this['toSkel']=new Sf(_0x521547),this['skeleton']=new Sf(_0x521547),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x521547)):_0x1a6d2d&&(this['animEvalua'+'tor']=new Gv(new Sr(this['entity'])));}['loadAnimat'+'ionAssets'](_0x3e5345){if(!_0x3e5345||!_0x3e5345['length'])return;const _0x4450a0=this['system']['app']['assets'],_0xf317c2=_0x16d626=>{if(_0x16d626['resources']['length']>0x791+-0x21f8+0xa9*0x28){for(let _0x249c32=-0x2a*-0x9e+-0x2*0xfc2+-0x1*-0x598;_0x249c32<_0x16d626['resources']['length'];_0x249c32++)this['animations'][_0x16d626['resources'][_0x249c32]['name']]=_0x16d626['resources'][_0x249c32],this['animations'+'Index'][_0x16d626['id']]=_0x16d626['resources'][_0x249c32]['name'];}else this['animations'][_0x16d626['name']]=_0x16d626['resource'],this['animations'+'Index'][_0x16d626['id']]=_0x16d626['name'];this['animations']=this['animations'];},_0xed76d0=_0x536f19=>{_0x536f19['off']('change',this['onAssetCha'+'nged'],this),_0x536f19['on']('change',this['onAssetCha'+'nged'],this),_0x536f19['off']('remove',this['onAssetRem'+'oved'],this),_0x536f19['on']('remove',this['onAssetRem'+'oved'],this),_0x536f19['resource']?_0xf317c2(_0x536f19):(_0x536f19['once']('load',_0xf317c2,this),this['enabled']&&this['entity']['enabled']&&_0x4450a0['load'](_0x536f19));};for(let _0x84d52c=-0x1*-0x8b4+0x1a48+-0x22fc,_0x216d50=_0x3e5345['length'];_0x84d52c<_0x216d50;_0x84d52c++){const _0x3da9f0=_0x4450a0['get'](_0x3e5345[_0x84d52c]);_0x3da9f0?_0xed76d0(_0x3da9f0):_0x4450a0['on']('add:'+_0x3e5345[_0x84d52c],_0xed76d0);}}['onAssetCha'+'nged'](_0x2f3ff2,_0x14c39c,_0x43d88a,_0x505566){if(_0x14c39c==='resource'||_0x14c39c==='resources'){if(_0x14c39c==='resources'&&_0x43d88a&&_0x43d88a['length']===0x8*-0x363+-0x1*0xb7e+0x16*0x1c1&&(_0x43d88a=null),_0x43d88a){let _0x539aca=!(-0x17fb+-0x529+0x1d25);if(_0x43d88a['length']>-0x1da4*-0x1+0xbb6+-0x2959){if(_0x505566&&_0x505566['length']>0x6*-0x657+0xe31+-0x56*-0x47){for(let _0x2a8199=0x503+-0x152*0x11+0x116f;_0x2a8199<_0x505566['length'];_0x2a8199++)delete this['animations'][_0x505566[_0x2a8199]['name']];}else delete this['animations'][_0x2f3ff2['name']];_0x539aca=!(0xf65*0x1+-0x1ac4+0x20*0x5b);for(let _0x493997=0x1*0x1d3+0x1*0x1d71+-0x1f44;_0x493997<_0x43d88a['length'];_0x493997++)this['animations'][_0x43d88a[_0x493997]['name']]=_0x43d88a[_0x493997],!_0x539aca&&this['currAnim']===_0x43d88a[_0x493997]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x539aca=!(0x1bf6+-0x1209+-0x9ed),this['play'](_0x43d88a[_0x493997]['name']));_0x539aca||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x505566&&_0x505566['length']>-0x14e3+-0x17b3+0x2c97){for(let _0x41ba39=-0x1c86+0x1*-0x5a7+0x222d*0x1;_0x41ba39<_0x505566['length'];_0x41ba39++)delete this['animations'][_0x505566[_0x41ba39]['name']];}this['animations'][_0x2f3ff2['name']]=_0x43d88a[-0x63d+-0x79+-0x1*-0x6b6]||_0x43d88a,_0x539aca=!(-0x17af*0x1+0x1fc7+0x6d*-0x13),this['currAnim']===_0x2f3ff2['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x539aca=!(-0xc54+-0x20fa+-0x2*-0x16a7),this['play'](_0x2f3ff2['name'])),_0x539aca||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x2f3ff2['id']]=_0x2f3ff2['name'];}else{if(_0x505566['length']>0xc*-0x32b+0x106c+0x1599){for(let _0x51982a=-0x1c4f*0x1+0x2684+0x3*-0x367;_0x51982a<_0x505566['length'];_0x51982a++)delete this['animations'][_0x505566[_0x51982a]['name']],this['currAnim']===_0x505566[_0x51982a]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x2f3ff2['name']],this['currAnim']===_0x2f3ff2['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x2f3ff2['id']];}}}['onAssetRem'+'oved'](_0x229c14){if(_0x229c14['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x229c14['resources']['length']>0x9d9*-0x1+-0x78+0xa52){for(let _0x2db46e=0x81*-0x43+-0x1*-0x1a27+0x2*0x3ce;_0x2db46e<_0x229c14['resources']['length'];_0x2db46e++)delete this['animations'][_0x229c14['resources'][_0x2db46e]['name']],this['currAnim']===_0x229c14['resources'][_0x2db46e]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x229c14['name']],this['currAnim']===_0x229c14['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x229c14['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(0x27b+-0x344*-0x9+-0x1fde),this['skeleton']&&(this['skeleton']['currentTim'+'e']=0x11e9+-0x61*-0x52+-0x30fb,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x17dd56=0xd*-0x270+0x1dd4+0xee*0x2;_0x17dd56<this['animEvalua'+'tor']['clips']['length'];++_0x17dd56)this['animEvalua'+'tor']['clips'][_0x17dd56]['stop']();this['animEvalua'+'tor']['update'](-0x1844+0x1201*-0x2+0x3c46),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x5dc1d1=this['assets'],_0x2a4eab=this['system']['app']['assets'];if(_0x5dc1d1)for(let _0x39102d=0x12f2+0x1fc+-0x14ee,_0x1da705=_0x5dc1d1['length'];_0x39102d<_0x1da705;_0x39102d++){let _0x300b1b=_0x5dc1d1[_0x39102d];_0x300b1b instanceof pe||(_0x300b1b=_0x2a4eab['get'](_0x300b1b)),_0x300b1b&&!_0x300b1b['resource']&&_0x2a4eab['load'](_0x300b1b);}if(this['activate']&&!this['currAnim']){const _0x151a4d=Object['keys'](this['animations']);_0x151a4d['length']>0x28d*0x5+0x6a7+-0x1368&&this['play'](_0x151a4d[0x76*-0x9+0x1*-0xae7+0xf0d]);}}['onBeforeRe'+'move'](){for(let _0x33257a=-0x24bd+0x1f*0x43+0x1ca0;_0x33257a<this['assets']['length'];_0x33257a++){let _0x58e1d1=this['assets'][_0x33257a];typeof _0x58e1d1=='number'&&(_0x58e1d1=this['system']['app']['assets']['get'](_0x58e1d1)),_0x58e1d1&&(_0x58e1d1['off']('change',this['onAssetCha'+'nged'],this),_0x58e1d1['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x8d9e9f){if(this['blending']&&(this['blend']+=_0x8d9e9f*this['blendSpeed'],this['blend']>=-0x1ed9*-0x1+0xb16+0x14f7*-0x2&&(this['blend']=-0x8*0x310+0xbd*-0xe+-0x3*-0xb9d)),this['playing']){const _0xa74828=this['skeleton'];if(_0xa74828!==null&&this['model']!==null){if(this['blending'])_0xa74828['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x590ac6=_0x8d9e9f*this['speed'];_0xa74828['addTime'](_0x590ac6),this['speed']>0x3*0x189+-0xb4c+0x1*0x6b1&&_0xa74828['_time']===_0xa74828['animation']['duration']&&!this['loop']?this['playing']=!(-0xb87+0x92d*0x1+0x25b*0x1):this['speed']<0x4*0x7ba+0xd1a+0x2b*-0x106&&_0xa74828['_time']===-0x215f*0x1+0x116d+-0xd*-0x13a&&!this['loop']&&(this['playing']=!(-0xb72*-0x3+-0x353+-0x1f02));}this['blending']&&this['blend']===-0x1629+0x1069+0x5c1&&(_0xa74828['animation']=this['toSkel']['animation']),_0xa74828['updateGrap'+'h']();}}const _0x51ea72=this['animEvalua'+'tor'];if(_0x51ea72){for(let _0x87834b=0x3f1*-0x1+-0x1cad+0x209e;_0x87834b<_0x51ea72['clips']['length'];++_0x87834b){const _0x260a01=_0x51ea72['clips'][_0x87834b];_0x260a01['speed']=this['speed'],this['playing']?_0x260a01['resume']():_0x260a01['pause']();}this['blending']&&_0x51ea72['clips']['length']>0x17fc+-0x20a3+0x8a8&&(_0x51ea72['clips'][0x28*-0x86+0x1ea6+-0x9b5]['blendWeigh'+'t']=this['blend']),_0x51ea72['update'](_0x8d9e9f);}this['blending']&&this['blend']===0x1*0xfa1+0x362+-0x1302&&(this['blending']=!(-0x53*-0x59+-0x3e*-0x95+-0x40f0));}}class LL{constructor(){this['enabled']=!(-0x1380+0x201*-0x9+0x2589);}}const Tu=['enabled'];class RL extends ct{constructor(_0x1414d8){super(_0x1414d8),this['id']='animation',this['ComponentT'+'ype']=Wv,this['DataType']=LL,this['schema']=Tu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0xe6d7af,_0x40d8be,_0x1375d1){_0x1375d1=['activate','enabled','loop','speed','assets'];for(const _0x300892 of _0x1375d1)_0x40d8be['hasOwnProp'+'erty'](_0x300892)&&(_0xe6d7af[_0x300892]=_0x40d8be[_0x300892]);super['initialize'+'ComponentD'+'ata'](_0xe6d7af,_0x40d8be,Tu);}['cloneCompo'+'nent'](_0x269a67,_0x4e5d3c){this['addCompone'+'nt'](_0x4e5d3c,{}),_0x4e5d3c['animation']['assets']=_0x269a67['animation']['assets']['slice'](),_0x4e5d3c['animation']['speed']=_0x269a67['animation']['speed'],_0x4e5d3c['animation']['loop']=_0x269a67['animation']['loop'],_0x4e5d3c['animation']['activate']=_0x269a67['animation']['activate'],_0x4e5d3c['animation']['enabled']=_0x269a67['animation']['enabled'];const _0x71b002={},_0x2de5b5=_0x269a67['animation']['animations'];for(const _0x13f3fd in _0x2de5b5)_0x2de5b5['hasOwnProp'+'erty'](_0x13f3fd)&&(_0x71b002[_0x13f3fd]=_0x2de5b5[_0x13f3fd]);_0x4e5d3c['animation']['animations']=_0x71b002;const _0x411abd={},_0x3c9219=_0x269a67['animation']['animations'+'Index'];for(const _0x250cbc in _0x3c9219)_0x3c9219['hasOwnProp'+'erty'](_0x250cbc)&&(_0x411abd[_0x250cbc]=_0x3c9219[_0x250cbc]);return _0x4e5d3c['animation']['animations'+'Index']=_0x411abd,_0x4e5d3c['animation'];}['onBeforeRe'+'move'](_0x30abe1,_0x28b0c1){_0x28b0c1['onBeforeRe'+'move']();}['onUpdate'](_0x8a6f85){const _0x2b3fc1=this['store'];for(const _0x4a5199 in _0x2b3fc1)if(_0x2b3fc1['hasOwnProp'+'erty'](_0x4a5199)){const _0x45f715=_0x2b3fc1[_0x4a5199];_0x45f715['data']['enabled']&&_0x45f715['entity']['enabled']&&_0x45f715['entity']['animation']['update'](_0x8a6f85);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Wv['prototype'],Tu);class ml{constructor(_0x362de5,_0x2234c6,_0x1970cb,_0x26bfee,_0x14a8d9=-0x25d9+0xf87+0x1653){this['_state']=_0x362de5,this['_parent']=_0x2234c6,this['_name']=_0x1970cb,Array['isArray'](_0x26bfee)?(this['_point']=new J(_0x26bfee[0x3*-0x5e4+0x1b*0x2e+0xcd2],_0x26bfee[-0x2624+0x243d+0x1e8]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x26bfee,this['_pointLeng'+'th']=_0x26bfee),this['_speed']=_0x14a8d9,this['_weightedS'+'peed']=-0x1e5c+0x231e+-0x4c1,this['_weight']=0x25fd+0x1342+-0x393e,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x5b42d3){this['_weight']=_0x5b42d3;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x43a2e5=this['_state']['totalWeigh'+'t'];return _0x43a2e5===-0x41e+-0x4b1+-0x5*-0x1c3?0xe46+0x190c+-0xe*0x2cf:this['weight']/_0x43a2e5;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x37daee){this['_weightedS'+'peed']=_0x37daee;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x52d5a9){this['_animTrack']=_0x52d5a9;}get['animTrack'](){return this['_animTrack'];}}class Jn extends ml{constructor(_0x54aff9,_0x51a608,_0x154091,_0x589439,_0x4c3cc3,_0x182d6f,_0x4dcd86,_0x4878f8,_0x27d990){super(_0x54aff9,_0x51a608,_0x154091,_0x589439),this['_parameter'+'s']=_0x4c3cc3,this['_parameter'+'Values']=new Array(_0x4c3cc3['length']),this['_children']=[],this['_findParam'+'eter']=_0x27d990,this['_syncAnima'+'tions']=_0x4dcd86!==!(0x200b+-0xe0*-0x1f+0x1*-0x3b2a),this['_pointCach'+'e']={};for(let _0x36060c=-0x1c48+-0x1013+0x2c5b;_0x36060c<_0x182d6f['length'];_0x36060c++){const _0x357e0c=_0x182d6f[_0x36060c];_0x357e0c['children']?this['_children']['push'](_0x4878f8(_0x357e0c['type'],_0x54aff9,this,_0x357e0c['name'],-0x1355*-0x1+-0x6d*-0x52+-0x1*0x363e,_0x357e0c['parameter']?[_0x357e0c['parameter']]:_0x357e0c['parameters'],_0x357e0c['children'],_0x357e0c['syncAnimat'+'ions'],_0x4878f8,_0x27d990)):this['_children']['push'](new ml(_0x54aff9,this,_0x357e0c['name'],_0x357e0c['point'],_0x357e0c['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x2c5f83){for(let _0x242307=0x9*-0x14b+-0x104e+0x1bf1;_0x242307<this['_children']['length'];_0x242307++)if(this['_children'][_0x242307]['name']===_0x2c5f83)return this['_children'][_0x242307];return null;}['updatePara'+'meterValue'+'s'](){let _0x446243=!(0xe91+-0x301*-0x3+-0x1794);for(let _0xb1f9a=0x1a05*0x1+0x8*0x2a7+-0x2f3d;_0xb1f9a<this['_parameter'+'Values']['length'];_0xb1f9a++){const _0x25278d=this['_findParam'+'eter'](this['_parameter'+'s'][_0xb1f9a])['value'];this['_parameter'+'Values'][_0xb1f9a]!==_0x25278d&&(this['_parameter'+'Values'][_0xb1f9a]=_0x25278d,_0x446243=!(-0x8*0x257+0x122b+0x1*0x8e));}return _0x446243;}['getNodeWei'+'ghtedDurat'+'ion'](_0x1c84e6){return this['_children'][_0x1c84e6]['animTrack']['duration']/this['_children'][_0x1c84e6]['speedMulti'+'plier']*this['_children'][_0x1c84e6]['weight'];}['getNodeCou'+'nt'](){let _0x4c0e61=0x2*0x78+0x1*-0x2f1+-0x1*-0x201;for(let _0x845092=0x2b*0x2b+0x1b4e+-0x2287;_0x845092<this['_children']['length'];_0x845092++)this['_children'][_0x845092]['constructo'+'r']===Jn?_0x4c0e61+=this['_children'][_0x845092]['getNodeCou'+'nt']():_0x4c0e61++;return _0x4c0e61;}}class OL extends Jn{constructor(_0x520e32,_0x1aa976,_0xf00601,_0x137c77,_0x20b564,_0x485dce,_0x20ee75,_0x58b470,_0x598af9){_0x485dce['sort']((_0x463dd9,_0x333dd7)=>_0x463dd9['point']-_0x333dd7['point']),super(_0x520e32,_0x1aa976,_0xf00601,_0x137c77,_0x20b564,_0x485dce,_0x20ee75,_0x58b470,_0x598af9);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x5859e5=-0xb*-0x8b+-0x2424+0x1e2b*0x1;this['_children'][0x194+-0x7*-0x113+0x11*-0x89]['weight']=-0xf97*-0x1+-0x40a*0x2+0x1*-0x783;for(let _0x5426e6=0x11d1+-0xbba+-0x617;_0x5426e6<this['_children']['length'];_0x5426e6++){const _0x5cbcc0=this['_children'][_0x5426e6];if(_0x5426e6!==this['_children']['length']-(0x29*-0x19+-0x1d6b+-0x2b*-0xc7)){const _0x493d47=this['_children'][_0x5426e6+(-0x1537*-0x1+0x964+-0x1e9a*0x1)];if(_0x5cbcc0['point']===_0x493d47['point'])_0x5cbcc0['weight']=-0x21d4+0x3a7+0x1e2d+0.5,_0x493d47['weight']=0x17c+0x3fa+-0x576+0.5;else{if(Y['between'](this['_parameter'+'Values'][0x7*0x1f1+-0x1*0x925+0x1*-0x472],_0x5cbcc0['point'],_0x493d47['point'],!(-0x1ce4+-0x2285+0x90f*0x7))){const _0x15fd20=Math['abs'](_0x5cbcc0['point']-_0x493d47['point']),_0x587a70=Math['abs'](_0x5cbcc0['point']-this['_parameter'+'Values'][-0x63b+-0x11*0x151+0x727*0x4]),_0x4f6bf8=(_0x15fd20-_0x587a70)/_0x15fd20;_0x5cbcc0['weight']=_0x4f6bf8,_0x493d47['weight']=-0x237c+0x4db+0x6*0x51b-_0x4f6bf8;}else _0x493d47['weight']=0x11d9+-0xb2e+-0x3*0x239;}}this['_syncAnima'+'tions']&&(_0x5859e5+=_0x5cbcc0['animTrack']['duration']/_0x5cbcc0['absoluteSp'+'eed']*_0x5cbcc0['weight']);}if(this['_syncAnima'+'tions'])for(let _0x44929d=0x693+-0x95b*-0x4+0x7*-0x649;_0x44929d<this['_children']['length'];_0x44929d++){const _0x4c77d3=this['_children'][_0x44929d];_0x4c77d3['weightedSp'+'eed']=_0x4c77d3['animTrack']['duration']/_0x4c77d3['absoluteSp'+'eed']/_0x5859e5;}}}const ki=class ki extends Jn{['pointDista'+'nceCache'](_0x5dc71d,_0x5a491a){const _0x2165b8=''+_0x5dc71d+_0x5a491a;return this['_pointCach'+'e'][_0x2165b8]||(this['_pointCach'+'e'][_0x2165b8]=this['_children'][_0x5a491a]['point']['clone']()['sub'](this['_children'][_0x5dc71d]['point'])),this['_pointCach'+'e'][_0x2165b8];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x4d6c88,_0x16035e;ki['_p']['set'](...this['_parameter'+'Values']),_0x4d6c88=-0xb*0x14f+0x17d8+-0x973,_0x16035e=-0x1120+-0x24d1+0x1*0x35f1;for(let _0x27b680=0x1759*0x1+-0x1*-0x1495+0x2bee*-0x1;_0x27b680<this['_children']['length'];_0x27b680++){const _0x257ed5=this['_children'][_0x27b680],_0x192e89=_0x257ed5['point'];ki['_pip']['set'](ki['_p']['x'],ki['_p']['y'])['sub'](_0x192e89);let _0xf7ff5e=Number['MAX_VALUE'];for(let _0x5688e1=-0xa7c*0x1+-0x2*-0xfb8+-0x1*0x14f4;_0x5688e1<this['_children']['length'];_0x5688e1++){if(_0x27b680===_0x5688e1)continue;const _0x2bd37d=this['pointDista'+'nceCache'](_0x27b680,_0x5688e1),_0x263968=Y['clamp'](0x5*-0x38+0xb27*0x1+-0xa0e-ki['_pip']['dot'](_0x2bd37d)/_0x2bd37d['lengthSq'](),0xa48+0x2*-0xdf3+-0x2*-0x8cf,0x1*-0x169f+0x7*0x223+0x7ab);_0x263968<_0xf7ff5e&&(_0xf7ff5e=_0x263968);}_0x257ed5['weight']=_0xf7ff5e,_0x4d6c88+=_0xf7ff5e,this['_syncAnima'+'tions']&&(_0x16035e+=_0x257ed5['animTrack']['duration']/_0x257ed5['absoluteSp'+'eed']*_0x257ed5['weight']);}for(let _0x7828e7=-0x2644+-0x551*0x6+0x462a;_0x7828e7<this['_children']['length'];_0x7828e7++){const _0x2e314c=this['_children'][_0x7828e7];_0x2e314c['weight']=_0x2e314c['_weight']/_0x4d6c88,this['_syncAnima'+'tions']&&(_0x2e314c['weightedSp'+'eed']=_0x2e314c['animTrack']['duration']/_0x2e314c['absoluteSp'+'eed']/_0x16035e);}}};h(ki,'_p',new J()),h(ki,'_pip',new J());let wu=ki;const Ui=class Ui extends Jn{['pointCache'](_0x468c33,_0x4697f4){const _0x5084db=''+_0x468c33+_0x4697f4;return this['_pointCach'+'e'][_0x5084db]||(this['_pointCach'+'e'][_0x5084db]=new J((this['_children'][_0x4697f4]['pointLengt'+'h']-this['_children'][_0x468c33]['pointLengt'+'h'])/((this['_children'][_0x4697f4]['pointLengt'+'h']+this['_children'][_0x468c33]['pointLengt'+'h'])/(-0x184a+-0x821*0x1+0x206d)),J['angleRad'](this['_children'][_0x468c33]['point'],this['_children'][_0x4697f4]['point'])*(0x2*0x793+0x3e5+-0x1bb*0xb))),this['_pointCach'+'e'][_0x5084db];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x24aef7,_0x5e99d5;Ui['_p']['set'](...this['_parameter'+'Values']);const _0x496139=Ui['_p']['length']();_0x24aef7=-0x3*0x40c+-0x1723+0x2347,_0x5e99d5=-0x218a+-0x2*0x136d+0x2432*0x2;for(let _0x3a2dc1=0x4b*0x10+0x2*0x67d+-0x13*0xee;_0x3a2dc1<this['_children']['length'];_0x3a2dc1++){const _0x5b962e=this['_children'][_0x3a2dc1],_0x203f63=_0x5b962e['point'],_0x5bb205=_0x5b962e['pointLengt'+'h'];let _0x4cfc3f=Number['MAX_VALUE'];for(let _0x389dc4=0x25*0xad+-0x11b*-0x1a+0x1*-0x35bf;_0x389dc4<this['_children']['length'];_0x389dc4++){if(_0x3a2dc1===_0x389dc4)continue;const _0x4f3999=this['pointCache'](_0x3a2dc1,_0x389dc4),_0x3f992c=this['_children'][_0x389dc4]['pointLengt'+'h'];Ui['_pip']['set']((_0x496139-_0x5bb205)/((_0x3f992c+_0x5bb205)/(0x3cb*-0x9+0x31*0x53+0x1242)),J['angleRad'](_0x203f63,Ui['_p'])*(-0x15b*0xe+0xa8d+0x86f));const _0x4122dd=Y['clamp'](-0x3*-0x654+0x20b*-0xc+0x589*0x1-Math['abs'](Ui['_pip']['dot'](_0x4f3999)/_0x4f3999['lengthSq']()),-0x1*-0x4ed+-0x2*0x3be+0x28f,0x27f*-0x2+-0x9*0xd3+0xc6a);_0x4122dd<_0x4cfc3f&&(_0x4cfc3f=_0x4122dd);}_0x5b962e['weight']=_0x4cfc3f,_0x24aef7+=_0x4cfc3f,this['_syncAnima'+'tions']&&(_0x5e99d5+=_0x5b962e['animTrack']['duration']/_0x5b962e['absoluteSp'+'eed']*_0x5b962e['weight']);}for(let _0x43a209=0x12f1+0x17*-0x57+-0xb2*0x10;_0x43a209<this['_children']['length'];_0x43a209++){const _0x5663ee=this['_children'][_0x43a209];if(_0x5663ee['weight']=_0x5663ee['_weight']/_0x24aef7,this['_syncAnima'+'tions']){const _0x5a3180=_0x5663ee['animTrack']['duration']/_0x5e99d5*_0x24aef7;_0x5663ee['weightedSp'+'eed']=_0x5663ee['absoluteSp'+'eed']*_0x5a3180;}}}};h(Ui,'_p',new J()),h(Ui,'_pip',new J());let Eu=Ui;class FL extends Jn{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x83491=0xb8c*0x2+-0x8ef*-0x1+0xaad*-0x3,_0x3cb6da=-0x1d9*0x2+-0x2131+0x13*0x1f1;for(let _0x299aa4=0x157d+-0x1366+0x1*-0x217;_0x299aa4<this['_children']['length'];_0x299aa4++)if(_0x83491+=Math['max'](this['_parameter'+'Values'][_0x299aa4],-0x2*-0xa3d+0x1f7*0xa+0xd60*-0x3),this['_syncAnima'+'tions']){const _0x21a736=this['_children'][_0x299aa4];_0x3cb6da+=_0x21a736['animTrack']['duration']/_0x21a736['absoluteSp'+'eed']*_0x21a736['weight'];}for(let _0x2eb5f1=0x2*0xf6a+-0x1e7*-0x9+-0x2ff3*0x1;_0x2eb5f1<this['_children']['length'];_0x2eb5f1++){const _0x2861d2=this['_children'][_0x2eb5f1],_0xc1aa7a=Math['max'](this['_parameter'+'Values'][_0x2eb5f1],-0x20f4+-0x1217*0x1+-0x1*-0x330b);_0x83491?(_0x2861d2['weight']=_0xc1aa7a/_0x83491,this['_syncAnima'+'tions']&&(_0x2861d2['weightedSp'+'eed']=_0x2861d2['animTrack']['duration']/_0x2861d2['absoluteSp'+'eed']/_0x3cb6da)):(_0x2861d2['weight']=-0x5*-0x416+0x37*-0x27+-0xc0d,this['_syncAnima'+'tions']&&(_0x2861d2['weightedSp'+'eed']=-0x455+-0xd7*-0x17+-0xefc));}}}class Fg{constructor(_0x40791e,_0x84e21b,_0x4f927d=-0x2397+0x798+0x1c00,_0x5530f3=!(0x10e8+-0x25d3+0x14eb),_0x444f4e){h(this,'_animation'+'s',{}),h(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x40791e,this['_name']=_0x84e21b,this['_speed']=_0x4f927d,this['_loop']=_0x5530f3,this['_hasAnimat'+'ions']=!(-0x5*-0x523+0x7be+0x1f*-0x114),_0x444f4e?this['_blendTree']=this['_createTre'+'e'](_0x444f4e['type'],this,null,_0x84e21b,-0x1dda+-0x1b1d+0x38f8,_0x444f4e['parameter']?[_0x444f4e['parameter']]:_0x444f4e['parameters'],_0x444f4e['children'],_0x444f4e['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new ml(this,null,_0x84e21b,0x2450+0x22dd+0x472c*-0x1,_0x4f927d));}['_createTre'+'e'](_0x423d7c,_0x4707b1,_0x5de16c,_0x44b81c,_0x1c5b8a,_0x2a4906,_0x4428e0,_0x2cd17a,_0xce7638,_0x2cf753){switch(_0x423d7c){case CL:return new OL(_0x4707b1,_0x5de16c,_0x44b81c,_0x1c5b8a,_0x2a4906,_0x4428e0,_0x2cd17a,_0xce7638,_0x2cf753);case ML:return new wu(_0x4707b1,_0x5de16c,_0x44b81c,_0x1c5b8a,_0x2a4906,_0x4428e0,_0x2cd17a,_0xce7638,_0x2cf753);case PL:return new Eu(_0x4707b1,_0x5de16c,_0x44b81c,_0x1c5b8a,_0x2a4906,_0x4428e0,_0x2cd17a,_0xce7638,_0x2cf753);case DL:return new FL(_0x4707b1,_0x5de16c,_0x44b81c,_0x1c5b8a,_0x2a4906,_0x4428e0,_0x2cd17a,_0xce7638,_0x2cf753);}w['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x423d7c);}['_getNodeFr'+'omPath'](_0x311e74){let _0xf1d9d6=this['_blendTree'];for(let _0x146f9c=0xb91+0x585*0x1+-0x1*0x1115;_0x146f9c<_0x311e74['length'];_0x146f9c++)_0xf1d9d6=_0xf1d9d6['getChild'](_0x311e74[_0x146f9c]);return _0xf1d9d6;}['addAnimati'+'on'](_0x5dc263,_0x3c8107){const _0x570512=_0x5dc263['join']('.'),_0xfeb935=this['_animation'+'List']['findIndex'](_0x13f2f2=>_0x13f2f2['path']===_0x570512);if(_0xfeb935>=0x920+-0xc7d*0x3+0x1c57)this['_animation'+'List'][_0xfeb935]['animTrack']=_0x3c8107;else{const _0x24c732=this['_getNodeFr'+'omPath'](_0x5dc263);_0x24c732['animTrack']=_0x3c8107,this['_animation'+'List']['push'](_0x24c732);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>0x9cb+0x1e80+-0x284b&&this['_animation'+'List']['every'](_0x2d57c2=>_0x2d57c2['animTrack']&&_0x2d57c2['animTrack']!==Qi['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x4dca93){this['_animation'+'List']=_0x4dca93,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x1d1416){this['_speed']=_0x1d1416;}get['speed'](){return this['_speed'];}set['loop'](_0x53f178){this['_loop']=_0x53f178;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===ml?-0x5*-0x210+0x17a8+-0x21f7:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return Ih['indexOf'](this['name'])!==-(-0x732*-0x1+0xd*-0x1e2+0x1149)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>-0x25e9+-0x3*0x1f7+0x2bce){const _0x1b812b=this['name']+'.'+this['animations'][0x26f7*0x1+-0xcb5+-0x1a42]['animTrack']['name'],_0x1917ad=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x1b812b);if(_0x1917ad)return _0x1917ad['loop'];}return!(0x157*0x1a+0xd8e+-0x3063);}get['totalWeigh'+'t'](){let _0x2d893f=0x2412+-0x10a3*0x1+-0x136f;for(let _0x1cb5a4=-0x297+-0x12e*0x1f+-0x7d5*-0x5;_0x1cb5a4<this['animations']['length'];_0x1cb5a4++)_0x2d893f+=this['animations'][_0x1cb5a4]['weight'];return _0x2d893f;}get['timelineDu'+'ration'](){let _0x6e7dfa=0x1297+0x8fc+-0x1b93;for(let _0x12c170=0x12a7+0x243f*0x1+-0x36e6;_0x12c170<this['animations']['length'];_0x12c170++){const _0x41c026=this['animations'][_0x12c170];_0x41c026['animTrack']['duration']>_0x6e7dfa&&(_0x6e7dfa=_0x41c026['animTrack']['duration']);}return _0x6e7dfa;}}class Lh{constructor({from:_0x35d061,to:_0x19a0b2,time:_0x26a0eb=-0x557+-0x2533+0x2a8a,priority:_0x47ee0d=0x2*0x14c+0x2*-0x28d+0x282*0x1,conditions:_0x3232e0=[],exitTime:_0x5005c3=null,transitionOffset:_0x3dc435=null,interruptionSource:_0x28f600=zv}){this['_from']=_0x35d061,this['_to']=_0x19a0b2,this['_time']=_0x26a0eb,this['_priority']=_0x47ee0d,this['_condition'+'s']=_0x3232e0,this['_exitTime']=_0x5005c3,this['_transitio'+'nOffset']=_0x3dc435,this['_interrupt'+'ionSource']=_0x28f600;}get['from'](){return this['_from'];}set['to'](_0x5bb039){this['_to']=_0x5bb039;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class NL{constructor(_0x3e0381,_0x208fe8,_0x59d065,_0x29c8e3,_0x3580e0,_0x1df0c6,_0x2597b9){h(this,'_states',{}),h(this,'_stateName'+'s',[]),h(this,'_findTrans'+'itionsFrom'+'StateCache',{}),h(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),h(this,'_previousS'+'tateName',null),h(this,'_activeSta'+'teName',Co),h(this,'_activeSta'+'teDuration',0x2623+0xd6c*-0x1+-0x18b7),h(this,'_activeSta'+'teDuration'+'Dirty',!(0x2*-0x1219+0x157a+0x75c*0x2)),h(this,'_playing',!(-0x1*-0x19f+-0x8*0x455+0x210a)),h(this,'_activate'),h(this,'_transitio'+'ns'),h(this,'_currTrans'+'itionTime',-0x5*0xf3+-0x464*0x3+0x11ec),h(this,'_totalTran'+'sitionTime',-0x1*-0xf76+-0x1*0x138d+0x20c*0x2),h(this,'_isTransit'+'ioning',!(0x2*0xc2+0x1731+-0x33*0x7c)),h(this,'_transitio'+'nInterrupt'+'ionSource',zv),h(this,'_transitio'+'nPreviousS'+'tates',[]),h(this,'_timeInSta'+'te',0x4*-0x770+0x1*0x133+0x1*0x1c8d),h(this,'_timeInSta'+'teBefore',0xa94+-0x1*-0x17c3+-0x2257),h(this,'findParame'+'ter',_0x2c1d61=>this['_findParam'+'eter'](_0x2c1d61)),(this['_animEvalu'+'ator']=_0x3e0381,this['_eventHand'+'ler']=_0x3580e0,this['_findParam'+'eter']=_0x1df0c6,this['_consumeTr'+'igger']=_0x2597b9);for(let _0x10ab56=-0x1*0x5af+-0xe6a+-0x15*-0xf5;_0x10ab56<_0x208fe8['length'];_0x10ab56++)this['_states'][_0x208fe8[_0x10ab56]['name']]=new Fg(this,_0x208fe8[_0x10ab56]['name'],_0x208fe8[_0x10ab56]['speed'],_0x208fe8[_0x10ab56]['loop'],_0x208fe8[_0x10ab56]['blendTree']),this['_stateName'+'s']['push'](_0x208fe8[_0x10ab56]['name']);this['_transitio'+'ns']=_0x59d065['map'](_0x1be15b=>new Lh({..._0x1be15b})),this['_activate']=_0x29c8e3;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x5ebb25){this['_activeSta'+'teName']=_0x5ebb25;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x15e03b){this['_previousS'+'tateName']=_0x15e03b;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x54d358=!(-0x3*0x7a2+0x19eb+-0x305);for(let _0x2fccd9=-0x1b*-0x11e+0xa21*-0x3+0x1*0x39;_0x2fccd9<this['_stateName'+'s']['length'];_0x2fccd9++)this['_states'][this['_stateName'+'s'][_0x2fccd9]]['playable']||(_0x54d358=!(-0x13a*-0x5+-0xde*0x5+-0x1cb));return _0x54d358;}set['playing'](_0x770e55){this['_playing']=_0x770e55;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x17ab2d=-0x4*-0x3c1+-0x16d8+0x7d4;for(let _0x3e7084=-0x1bf6+-0x323+0x1f19;_0x3e7084<this['activeStat'+'eAnimation'+'s']['length'];_0x3e7084++){const _0x71d7f2=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x3e7084]['name']);_0x71d7f2&&(_0x17ab2d=Math['max'](_0x17ab2d,_0x71d7f2['track']['duration']));}this['_activeSta'+'teDuration']=_0x17ab2d,this['_activeSta'+'teDuration'+'Dirty']=!(0x797*-0x1+0x2662+-0x1eca);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0xb802cc){this['_timeInSta'+'teBefore']=_0xb802cc,this['_timeInSta'+'te']=_0xb802cc;for(let _0x33fec7=-0x6ef+0x3a6*-0x1+0xa95;_0x33fec7<this['activeStat'+'eAnimation'+'s']['length'];_0x33fec7++){const _0x18212a=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x33fec7]['name']);_0x18212a&&(_0x18212a['time']=_0xb802cc);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x4607fb){return this['_animEvalu'+'ator']['assignMask'](_0x4607fb);}['_findState'](_0x2e91d3){return this['_states'][_0x2e91d3];}['_getActive'+'StateProgr'+'essForTime'](_0x5a489d){if(this['activeStat'+'eName']===Co||this['activeStat'+'eName']===vu||this['activeStat'+'eName']===qr)return-0x1e*0xfe+-0x3*0x22+0x1e2b;const _0x4cc396=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][-0x17b*0x6+0x24c+-0x2*-0x34b]['name']);return _0x4cc396?_0x4cc396['progressFo'+'rTime'](_0x5a489d):null;}['_findTrans'+'itionsFrom'+'State'](_0x8d87b1){let _0x5e6e33=this['_findTrans'+'itionsFrom'+'StateCache'][_0x8d87b1];return _0x5e6e33||(_0x5e6e33=this['_transitio'+'ns']['filter'](_0x384c44=>_0x384c44['from']===_0x8d87b1),ul(_0x5e6e33),this['_findTrans'+'itionsFrom'+'StateCache'][_0x8d87b1]=_0x5e6e33),_0x5e6e33;}['_findTrans'+'itionsBetw'+'eenStates'](_0x313895,_0x2956f3){let _0x51f510=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x313895+'->'+_0x2956f3];return _0x51f510||(_0x51f510=this['_transitio'+'ns']['filter'](_0x375480=>_0x375480['from']===_0x313895&&_0x375480['to']===_0x2956f3),ul(_0x51f510),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x313895+'->'+_0x2956f3]=_0x51f510),_0x51f510;}['_transitio'+'nHasCondit'+'ionsMet'](_0x3c7e8b){const _0x5d0bc5=_0x3c7e8b['conditions'];for(let _0x2a6612=0x17e*-0x5+0x3a9*0x9+-0x197b;_0x2a6612<_0x5d0bc5['length'];_0x2a6612++){const _0x7c4095=_0x5d0bc5[_0x2a6612],_0x3284f6=this['_findParam'+'eter'](_0x7c4095['parameterN'+'ame']);switch(_0x7c4095['predicate']){case xL:if(!(_0x3284f6['value']>_0x7c4095['value']))return!(-0x66*-0x5+0x1042*0x1+-0x123f);break;case TL:if(!(_0x3284f6['value']<_0x7c4095['value']))return!(-0xeea+-0x25d9*-0x1+-0x16ee);break;case wL:if(!(_0x3284f6['value']>=_0x7c4095['value']))return!(-0x6*-0xfa+0x8e7+-0xec2*0x1);break;case EL:if(!(_0x3284f6['value']<=_0x7c4095['value']))return!(-0x4f*0x2c+0x2*0x835+-0x2d5);break;case bL:if(_0x3284f6['value']!==_0x7c4095['value'])return!(0xee4+-0x2*-0xbb9+-0xcc7*0x3);break;case AL:if(_0x3284f6['value']===_0x7c4095['value'])return!(0x29*0x49+-0x9ff*0x3+0x124d);break;}}return!(-0x20e*0x5+0x20d7+-0x1*0x1691);}['_findTrans'+'ition'](_0x3075d3,_0x18c859){let _0x368e44=[];if(_0x3075d3&&_0x18c859)_0x368e44=_0x368e44['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x3075d3,_0x18c859));else{if(!this['_isTransit'+'ioning'])_0x368e44=_0x368e44['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x368e44=_0x368e44['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case gL:_0x368e44=_0x368e44['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x368e44=_0x368e44['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case SL:_0x368e44=_0x368e44['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x368e44=_0x368e44['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case yL:_0x368e44=_0x368e44['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x368e44=_0x368e44['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x368e44=_0x368e44['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case vL:_0x368e44=_0x368e44['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x368e44=_0x368e44['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x368e44=_0x368e44['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;}}if(_0x368e44=_0x368e44['filter'](_0x6cffcb=>{if(_0x6cffcb['to']===this['activeStat'+'eName'])return!(-0x4c4+0xac*-0x6+0x3*0x2ef);if(_0x6cffcb['hasExitTim'+'e']){let _0x13bb5e=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x43d6d2=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x6cffcb['exitTime']<-0xa1*-0x35+-0x572+-0x1be2&&this['activeStat'+'e']['loop']&&(_0x13bb5e-=Math['floor'](_0x13bb5e),_0x43d6d2-=Math['floor'](_0x43d6d2)),_0x43d6d2===_0x13bb5e){if(_0x43d6d2!==_0x6cffcb['exitTime'])return null;}else{if(!(_0x6cffcb['exitTime']>_0x13bb5e&&_0x6cffcb['exitTime']<=_0x43d6d2))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x6cffcb);}),_0x368e44['length']>-0x10ff+0x86f+0x890){const _0x14c41a=_0x368e44[0x8f1*-0x2+0x1*0x17b7+-0x5d5];if(_0x14c41a['to']===vu){const _0x548268=this['_findTrans'+'itionsFrom'+'State'](Co)[0x1f90+-0x1663*-0x1+0x7b5*-0x7];_0x14c41a['to']=_0x548268['to'];}return _0x14c41a;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x1e2892){let _0x5bfa3f,_0x1ff2c0,_0x3e7258;this['previousSt'+'ate']=_0x1e2892['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x1e2892['to'],this['_activeSta'+'teDuration'+'Dirty']=!(0xb1e+-0xcca*-0x3+0x4*-0xc5f);for(let _0x5d0187=0x1c3d+0x1*0xa66+0x9*-0x44b;_0x5d0187<_0x1e2892['conditions']['length'];_0x5d0187++){const _0x470a8b=_0x1e2892['conditions'][_0x5d0187];this['_findParam'+'eter'](_0x470a8b['parameterN'+'ame'])['type']===Qc&&this['_consumeTr'+'igger'](_0x470a8b['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x1c9ea2=Math['min'](this['_totalTran'+'sitionTime']!==0x57*0x1+0x206+-0x25d?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x81*0x1+-0x1*-0x12e0+-0x1360,-0x2151+0x1289+0xec9*0x1);for(let _0x4ef367=0xd*0x247+0x4*0x2af+-0x1c1*0x17;_0x4ef367<this['_transitio'+'nPreviousS'+'tates']['length'];_0x4ef367++){this['_isTransit'+'ioning']?_0x4ef367!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x23fd+-0x1*0x240b+0x9*0x801)?this['_transitio'+'nPreviousS'+'tates'][_0x4ef367]['weight']*=-0xa7f*-0x3+0x13f1+-0x1*0x336d-_0x1c9ea2:this['_transitio'+'nPreviousS'+'tates'][_0x4ef367]['weight']=_0x1c9ea2:this['_transitio'+'nPreviousS'+'tates'][_0x4ef367]['weight']=-0x10*-0x1d+-0x1b48+0x1*0x1979,_0x5bfa3f=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x4ef367]['name']);for(let _0x18aa91=-0x1fb2+-0x2444+0x2*0x21fb;_0x18aa91<_0x5bfa3f['animations']['length'];_0x18aa91++)_0x1ff2c0=_0x5bfa3f['animations'][_0x18aa91],_0x3e7258=this['_animEvalu'+'ator']['findClip'](_0x1ff2c0['name']+'.previous.'+_0x4ef367),_0x3e7258||(_0x3e7258=this['_animEvalu'+'ator']['findClip'](_0x1ff2c0['name']),_0x3e7258['name']=_0x1ff2c0['name']+'.previous.'+_0x4ef367),_0x4ef367!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x80*0x18+-0xdf*0x1d+0x2544)&&_0x3e7258['pause']();}}this['_isTransit'+'ioning']=!(0x9a3*-0x1+0x1d0d+-0x136a),this['_totalTran'+'sitionTime']=_0x1e2892['time'],this['_currTrans'+'itionTime']=0x15e9+0x5c6+-0x175*0x13,this['_transitio'+'nInterrupt'+'ionSource']=_0x1e2892['interrupti'+'onSource'];const _0x5e02db=this['activeStat'+'e'],_0x2f0833=_0x1e2892['transition'+'Offset']&&_0x1e2892['transition'+'Offset']>-0x53*0x52+-0x2*-0x71b+0xc60*0x1&&_0x1e2892['transition'+'Offset']<-0x13d2+0x2373+-0xfa0;let _0x459845=-0x4*0x427+0x4*-0x2ef+-0x8*-0x38b,_0x219ead=0xd4b+0x1a00+-0x274b;if(_0x2f0833){const _0x532a65=_0x5e02db['timelineDu'+'ration']*_0x1e2892['transition'+'Offset'];_0x459845=_0x532a65,_0x219ead=_0x532a65;}this['_timeInSta'+'te']=_0x459845,this['_timeInSta'+'teBefore']=_0x219ead;for(let _0x500d7b=0x105b+-0x1b37+0xadc;_0x500d7b<_0x5e02db['animations']['length'];_0x500d7b++){if(_0x3e7258=this['_animEvalu'+'ator']['findClip'](_0x5e02db['animations'][_0x500d7b]['name']),_0x3e7258)_0x3e7258['reset']();else{const _0xf8a7b7=Number['isFinite'](_0x5e02db['animations'][_0x500d7b]['speed'])?_0x5e02db['animations'][_0x500d7b]['speed']:_0x5e02db['speed'];_0x3e7258=new Dh(_0x5e02db['animations'][_0x500d7b]['animTrack'],this['_timeInSta'+'te'],_0xf8a7b7,!(0x62f+-0x22db+-0x4*-0x72b),_0x5e02db['loop'],this['_eventHand'+'ler']),_0x3e7258['name']=_0x5e02db['animations'][_0x500d7b]['name'],this['_animEvalu'+'ator']['addClip'](_0x3e7258);}if(_0x1e2892['time']>-0x524*0x7+-0x1ed9+-0x3*-0x1647?_0x3e7258['blendWeigh'+'t']=0x55b*0x5+0x1bc6+-0x368d:_0x3e7258['blendWeigh'+'t']=_0x5e02db['animations'][_0x500d7b]['normalized'+'Weight'],_0x3e7258['play'](),_0x2f0833)_0x3e7258['time']=_0x5e02db['timelineDu'+'ration']*_0x1e2892['transition'+'Offset'];else{const _0x38036e=_0x5e02db['speed']>=0xbe1*0x3+0x53b+-0x28de*0x1?0x9*-0x360+-0x1ab7+0x3917:this['activeStat'+'eDuration'];_0x3e7258['time']=_0x38036e;}}}['_transitio'+'nToState'](_0x3d5200){if(!this['_findState'](_0x3d5200))return;let _0x10a528=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x3d5200);_0x10a528||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x10a528=new Lh({'from':null,'to':_0x3d5200})),this['updateStat'+'eFromTrans'+'ition'](_0x10a528);}['assignAnim'+'ation'](_0x34c852,_0x56f661,_0x143024,_0x175ac7){const _0x1ca93e=_0x34c852['split']('.');let _0x529b1e=this['_findState'](_0x1ca93e[-0x251+-0x4*0x977+-0x25d*-0x11]);_0x529b1e||(_0x529b1e=new Fg(this,_0x1ca93e[0x155f+0xd0b+-0x226a*0x1],_0x143024),this['_states'][_0x1ca93e[0x7d*-0x1c+-0x2f4*0xc+0x311c]]=_0x529b1e,this['_stateName'+'s']['push'](_0x1ca93e[-0x178b+0x4*-0x745+0x2c5*0x13])),_0x529b1e['addAnimati'+'on'](_0x1ca93e,_0x56f661),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x529b1e['name'],_0x56f661),_0x143024!==void(0x18ae*-0x1+0x4a6+-0xa04*-0x2)&&(_0x529b1e['speed']=_0x143024),_0x175ac7!==void(0x237e+-0x2*0x70+-0x229e)&&(_0x529b1e['loop']=_0x175ac7),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(0x1ab7+-0x1b59+0xa2);}['removeNode'+'Animations'](_0x23c311){if(Ih['indexOf'](_0x23c311)!==-(-0x1*-0x18d1+-0x9e8+-0x3*0x4f8))return!(-0x4a*0x3d+0x18ba+-0x717);const _0x3d9229=this['_findState'](_0x23c311);return _0x3d9229?(_0x3d9229['animations']=[],!(-0x1*0x2446+-0xabb*0x1+-0x2f01*-0x1)):(w['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x23c311),!(-0x1*0x21ce+0x2121+0xae));}['play'](_0x2fb63f){_0x2fb63f&&this['_transitio'+'nToState'](_0x2fb63f),this['_playing']=!(-0x1*0xfcb+-0x1848*0x1+-0x1*-0x2813);}['pause'](){this['_playing']=!(-0x16ea+0x1a*-0xc1+-0x137*-0x23);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=Co,this['_playing']=!(-0x1f83*0x1+0xe71+-0x8d*-0x1f),this['_currTrans'+'itionTime']=-0xa*0x3d7+0x109c+0x15cb,this['_totalTran'+'sitionTime']=-0x226a+0x1bdb+0x690,this['_isTransit'+'ioning']=!(-0x9b7*0x1+0x15*-0x18a+0x2a0a),this['_timeInSta'+'te']=0x1*-0x210d+0xf74*0x1+-0x55*-0x35,this['_timeInSta'+'teBefore']=-0x17e6+-0x93*-0x15+-0x7*-0x1b1,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0xddd796){if(!this['_playing'])return;let _0x303e1e,_0x50c5c6,_0x145242;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0xddd796*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0xddd796=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x2ef6a2=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x2ef6a2&&this['updateStat'+'eFromTrans'+'ition'](_0x2ef6a2),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0xddd796,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x1ad474=this['_totalTran'+'sitionTime']!==0x216d+0x1840+-0x39ad?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x2*0xfe8+0x171*0x19+-0x438;for(let _0x428e8f=0x12*0x71+0x1f15*-0x1+0x1723*0x1;_0x428e8f<this['_transitio'+'nPreviousS'+'tates']['length'];_0x428e8f++){_0x303e1e=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x428e8f]['name']);const _0x599357=this['_transitio'+'nPreviousS'+'tates'][_0x428e8f]['weight'];for(let _0x18bc27=0xaf0+0x44*-0x59+0xcb4;_0x18bc27<_0x303e1e['animations']['length'];_0x18bc27++)_0x50c5c6=_0x303e1e['animations'][_0x18bc27],_0x145242=this['_animEvalu'+'ator']['findClip'](_0x50c5c6['name']+'.previous.'+_0x428e8f),_0x145242&&(_0x145242['blendWeigh'+'t']=(-0x1053+0x6*-0xf6+0x2c3*0x8-_0x1ad474)*_0x50c5c6['normalized'+'Weight']*_0x599357);}_0x303e1e=this['activeStat'+'e'];for(let _0x654e4d=-0x64d*0x4+-0x14*0x85+-0x473*-0x8;_0x654e4d<_0x303e1e['animations']['length'];_0x654e4d++)_0x50c5c6=_0x303e1e['animations'][_0x654e4d],this['_animEvalu'+'ator']['findClip'](_0x50c5c6['name'])['blendWeigh'+'t']=_0x1ad474*_0x50c5c6['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(-0x1*-0x128b+-0x90e+-0x97c);const _0x142779=this['activeStat'+'eAnimation'+'s']['length'],_0x490787=this['_animEvalu'+'ator']['clips']['length'];for(let _0x46f9d5=-0x1a21+-0x7*0xb0+0x1ef1;_0x46f9d5<_0x490787-_0x142779;_0x46f9d5++)this['_animEvalu'+'ator']['removeClip'](-0x134d+-0x19c6+0x2d13);this['_transitio'+'nPreviousS'+'tates']=[],_0x303e1e=this['activeStat'+'e'];for(let _0x305f5d=-0x1*-0x169+-0x5*-0x6b6+-0x22f7*0x1;_0x305f5d<_0x303e1e['animations']['length'];_0x305f5d++)_0x50c5c6=_0x303e1e['animations'][_0x305f5d],_0x145242=this['_animEvalu'+'ator']['findClip'](_0x50c5c6['name']),_0x145242&&(_0x145242['blendWeigh'+'t']=_0x50c5c6['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==ml){_0x303e1e=this['activeStat'+'e'];for(let _0x3bfa55=-0x1*0x2cc+-0x612+-0xa*-0xe3;_0x3bfa55<_0x303e1e['animations']['length'];_0x3bfa55++)_0x50c5c6=_0x303e1e['animations'][_0x3bfa55],_0x145242=this['_animEvalu'+'ator']['findClip'](_0x50c5c6['name']),_0x145242&&(_0x145242['blendWeigh'+'t']=_0x50c5c6['normalized'+'Weight'],_0x50c5c6['parent']['syncAnimat'+'ions']&&(_0x145242['speed']=_0x50c5c6['speed']));}}this['_animEvalu'+'ator']['update'](_0xddd796,this['activeStat'+'e']['hasAnimati'+'ons']);}}const wf=new J(),Tc=new D(),_o=new re(),go=new ie(),So=new le();class Fi extends Sr{constructor(_0x57c1f0,_0x4afa0e,_0x52347f,_0xcea3b7,_0x1209e4){super(_0x4afa0e),this['animCompon'+'ent']=_0x57c1f0,this['_mask']=_0xcea3b7,this['layerName']=_0x52347f,this['layerIndex']=_0x1209e4;}static['_packFloat'](_0x5e14c5){return _0x5e14c5[0x2f+0x6*-0x81+0x2d7];}static['_packBoole'+'an'](_0x383a25){return!!_0x383a25[-0x16fb*-0x1+0x14c7+-0x2bc2];}static['_packVec2'](_0x6baf67){return wf['x']=_0x6baf67[-0x4*0x8c6+-0x9d3+0x2ceb],wf['y']=_0x6baf67[-0x1*0x158e+0x6*-0x415+0x2e0d],wf;}static['_packVec3'](_0x2de94c){return Tc['x']=_0x2de94c[0x2439*-0x1+-0x1*-0x2014+0x425],Tc['y']=_0x2de94c[-0x264b+-0x105b*0x1+-0x11*-0x337],Tc['z']=_0x2de94c[-0x218b*-0x1+0x1*0x221d+-0x43a6],Tc;}static['_packVec4'](_0x3468ad){return _o['x']=_0x3468ad[0x13bb+0x3f0+-0x17ab],_o['y']=_0x3468ad[-0x9*-0x3af+0x35*-0x79+-0x819*0x1],_o['z']=_0x3468ad[0x2675+0xb8f+0x2*-0x1901],_o['w']=_0x3468ad[-0x1*0x201b+-0x13a7+0x33c5],_o;}static['_packColor'](_0x466780){return go['r']=_0x466780[-0x830*-0x3+-0x1*0x7b5+-0x10db],go['g']=_0x466780[-0x1af8+-0x1803*0x1+0x1a*0x1f6],go['b']=_0x466780[0x2*-0xd79+-0x1864*-0x1+0x290],go['a']=_0x466780[-0xe20+-0x16b*0x14+0x1d9*0x17],go;}static['_packQuat'](_0x5a60ab){return So['x']=_0x5a60ab[-0x6d9*-0x4+-0x26f4+0x172*0x8],So['y']=_0x5a60ab[0x4*-0x654+0x2279+-0x928],So['z']=_0x5a60ab[0xb4d+0x14bc+0x3*-0xaad],So['w']=_0x5a60ab[-0x17c2+0x1b50+-0x38b*0x1],So;}['resolve'](_0x2ea6a6){const _0x4fee1b=ra['encode'](_0x2ea6a6['entityPath'],_0x2ea6a6['component'],_0x2ea6a6['propertyPa'+'th']);let _0x1a2869=this['targetCach'+'e'][_0x4fee1b];if(_0x1a2869)return _0x1a2869;let _0x54ab3a,_0x3f4bed,_0x1939c0;switch(_0x2ea6a6['component']){case'entity':_0x54ab3a=this['_getEntity'+'FromHierar'+'chy'](_0x2ea6a6['entityPath']),_0x1939c0=ra['encode'](_0x54ab3a['path'],'entity',_0x2ea6a6['propertyPa'+'th']),_0x3f4bed=_0x54ab3a;break;case'graph':if(_0x3f4bed=this['findNode'](_0x2ea6a6),!_0x3f4bed)return null;_0x1939c0=ra['encode'](_0x3f4bed['path'],'graph',_0x2ea6a6['propertyPa'+'th']);break;default:if(_0x54ab3a=this['_getEntity'+'FromHierar'+'chy'](_0x2ea6a6['entityPath']),_0x3f4bed=_0x54ab3a['findCompon'+'ent'](_0x2ea6a6['component']),!_0x3f4bed)return null;_0x1939c0=ra['encode'](_0x54ab3a['path'],_0x2ea6a6['component'],_0x2ea6a6['propertyPa'+'th']);break;}return _0x1a2869=this['_createAni'+'mTargetFor'+'Property'](_0x3f4bed,_0x2ea6a6['propertyPa'+'th'],_0x1939c0),this['targetCach'+'e'][_0x4fee1b]=_0x1a2869,_0x1a2869;}['update'](_0x503ef3){const _0x2c4d91=this['activeNode'+'s'];if(_0x2c4d91){for(let _0x4baaf7=-0x2b*-0xa+-0x1b6c+0x19be;_0x4baaf7<_0x2c4d91['length'];_0x4baaf7++)_0x2c4d91[_0x4baaf7]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0xacb2c1){if(!this['animCompon'+'ent']['entity']['name']===_0xacb2c1[0x3*-0xcc3+0x24*0xa1+-0x321*-0x5])return null;const _0x421104=this['animCompon'+'ent']['entity'];return _0xacb2c1['length']===-0x22ca+0x1*-0xa57+0xda*0x35?_0x421104:_0x421104['_parent']['findByPath'](_0xacb2c1);}['_resolvePa'+'th'](_0x2c01a3,_0xf574fe,_0x35aaf6){const _0x19b6bb=_0xf574fe['length']-(_0x35aaf6?0x214+0x1fcb+-0x17*0x179:-0x2cd*0xc+0x283*0xe+-0x18d);for(let _0x353c89=0x1cfe+-0x1c8f*-0x1+-0x398d*0x1;_0x353c89<_0x19b6bb;_0x353c89++)_0x2c01a3=_0x2c01a3[_0xf574fe[_0x353c89]];return _0x2c01a3;}['_setter'](_0x35bd07,_0x3ac49c,_0x323b90){const _0x598a2f=this['_resolvePa'+'th'](_0x35bd07,_0x3ac49c),_0x30fa51=_0x3ac49c[_0x3ac49c['length']-(0x28d*-0x1+-0x2217+0x9f*0x3b)],_0x4aa234='set'+_0x30fa51['substring'](-0x328*0xc+0x1eb*0x7+0x1873,0x1c0a+-0x2484*0x1+0x87b)['toUpperCas'+'e']()+_0x30fa51['substring'](0x1f34+0x2128+0xcdf*-0x5);if(_0x598a2f[_0x4aa234]){let _0x10fd5c=_0x598a2f['get'+_0x30fa51['substring'](-0x1*0xe1d+0xd58+0xc5,-0x1524+0x35*0x43+0x746)['toUpperCas'+'e']()+_0x30fa51['substring'](-0x1*-0x2629+-0x4*-0x699+0x1584*-0x3)]['bind'](_0x598a2f)();_0x10fd5c=[_0x10fd5c['x'],_0x10fd5c['y'],_0x10fd5c['z'],_0x10fd5c['w']];const _0x3113cf=_0x598a2f[_0x4aa234]['bind'](_0x598a2f);return{'set':_0x3a53b9=>{_0x3113cf(_0x323b90(_0x3a53b9));},'get':()=>_0x10fd5c};}const _0x2f1946=_0x598a2f[_0x30fa51];if(typeof _0x2f1946=='object'&&_0x2f1946['hasOwnProp'+'erty']('copy'))return function(_0xd2b21e){_0x2f1946['copy'](_0x323b90(_0xd2b21e));};if([J,D,re,ie,le]['indexOf'](_0x598a2f['constructo'+'r'])!==-(-0x7c2*0x3+0x6*-0x5bd+-0x53f*-0xb)&&_0x3ac49c['length']>0xae5+0x229d+-0x2d81){const _0x3d0857=_0x3ac49c['length']>0x2aa+0x1e4+-0x123*0x4?this['_resolvePa'+'th'](_0x35bd07,_0x3ac49c['slice'](-0x3*0x47d+0x1c3*0x5+0x254*0x2,-(0x2065*-0x1+0x1cf*0x6+-0xe*-0x18a))):_0x35bd07,_0x22c74b=_0x3ac49c[_0x3ac49c['length']-(-0x23e+-0x1c45*0x1+0x259*0xd)];return function(_0x259e36){_0x598a2f[_0x30fa51]=_0x323b90(_0x259e36),_0x3d0857[_0x22c74b]=_0x598a2f;};}return function(_0xa6f43e){_0x598a2f[_0x30fa51]=_0x323b90(_0xa6f43e);};}['_createAni'+'mTargetFor'+'Property'](_0x169a6b,_0xedc346,_0x4c88a9){if(this['handlers']&&_0xedc346[-0x1fc2+-0x63*0x2a+0xc00*0x4]['startsWith']('weight.'))return this['handlers']['weight'](_0x169a6b,_0xedc346[-0xdc0+-0x70+0xe30*0x1]['replace']('weight.',''));if(this['handlers']&&_0xedc346[-0x1bcc*0x1+-0xcda+0x28a6]==='material'&&_0xedc346['length']===-0xe06+0x469*-0x7+0x2ce7){const _0x1f338e=_0xedc346[-0x4ce+0x1*0x77+0x22c*0x2];if(_0x1f338e['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x169a6b,_0x1f338e);}const _0x2ff513=this['_resolvePa'+'th'](_0x169a6b,_0xedc346,!(0x47*-0x1d+-0x247*-0x3+0x136));if(typeof _0x2ff513>'u')return null;let _0x34b0e3,_0xb2f848,_0x57e753;if(typeof _0x2ff513=='number')_0x34b0e3=this['_setter'](_0x169a6b,_0xedc346,Fi['_packFloat']),_0xb2f848='vector',_0x57e753=-0x19a4+0xd3*0x23+-0x334;else{if(typeof _0x2ff513=='boolean')_0x34b0e3=this['_setter'](_0x169a6b,_0xedc346,Fi['_packBoole'+'an']),_0xb2f848='vector',_0x57e753=0x1f5f+-0x1244+0x27*-0x56;else{if(typeof _0x2ff513=='object')switch(_0x2ff513['constructo'+'r']){case J:_0x34b0e3=this['_setter'](_0x169a6b,_0xedc346,Fi['_packVec2']),_0xb2f848='vector',_0x57e753=-0x2174+-0x575+0x26eb;break;case D:_0x34b0e3=this['_setter'](_0x169a6b,_0xedc346,Fi['_packVec3']),_0xb2f848='vector',_0x57e753=0x62b*0x3+0x1*-0x46e+-0xc8*0x12;break;case re:_0x34b0e3=this['_setter'](_0x169a6b,_0xedc346,Fi['_packVec4']),_0xb2f848='vector',_0x57e753=0x1550+-0xb5*0xe+-0x2*0x5b3;break;case ie:_0x34b0e3=this['_setter'](_0x169a6b,_0xedc346,Fi['_packColor']),_0xb2f848='vector',_0x57e753=-0x1982+0x22b1+-0x92b;break;case le:_0x34b0e3=this['_setter'](_0x169a6b,_0xedc346,Fi['_packQuat']),_0xb2f848='quaternion',_0x57e753=-0x1259*-0x1+-0x1b67+-0x9*-0x102;break;default:return null;}}}return _0xedc346['indexOf']('material')!==-(-0x119e+-0x8ca+0x1a69)?new xu(_0x238f05=>{_0x34b0e3(_0x238f05),_0x169a6b['material']['update']();},_0xb2f848,_0x57e753,_0x4c88a9):new xu(_0x34b0e3,_0xb2f848,_0x57e753,_0x4c88a9);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x15ef78={},_0x58a773=function(_0x39d538){_0x15ef78[_0x39d538['name']]=_0x39d538;for(let _0x4be239=0x445+0xfa+-0x53f;_0x4be239<_0x39d538['children']['length'];++_0x4be239)_0x58a773(_0x39d538['children'][_0x4be239]);};_0x58a773(this['graph']),this['nodes']=_0x15ef78;}}class kL{constructor(_0x3b7e30,_0x5434db,_0x5b0520,_0x4b1c22=-0x3*-0x61b+-0x1758+0x508,_0x118afb=Vv){h(this,'_name'),h(this,'_controlle'+'r'),h(this,'_component'),h(this,'_weight'),h(this,'_blendType'),h(this,'_mask',null),h(this,'_blendTime',0x2350+-0x9d5+-0x197b),h(this,'_blendTime'+'Elapsed',-0x1f48+0xd21+0x1227),h(this,'_startingW'+'eight',0x21e7+0xb8b+-0x15*0x22a),h(this,'_targetWei'+'ght',0x2ef*0x1+0x12ab+-0x18b*0xe),(this['_name']=_0x3b7e30,this['_controlle'+'r']=_0x5434db,this['_component']=_0x5b0520,this['_weight']=_0x4b1c22,this['_blendType']=_0x118afb);}get['name'](){return this['_name'];}set['playing'](_0x28331c){this['_controlle'+'r']['playing']=_0x28331c;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x40cdb6){const _0x35ad94=this['_controlle'+'r'],_0x5da074=_0x35ad94['playing'];_0x35ad94['playing']=!(-0x1*-0x158e+0x1*0x1d5f+-0x32ed),_0x35ad94['activeStat'+'eCurrentTi'+'me']=_0x40cdb6,_0x5da074||_0x35ad94['update'](-0xb1*-0x15+0x3bd+-0x1242),_0x35ad94['playing']=_0x5da074;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x4b4461){this['_weight']=_0x4b4461,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x4eb343){_0x4eb343!==this['_blendType']&&(this['_blendType']=_0x4eb343,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x1e7d9e){this['_controlle'+'r']['assignMask'](_0x1e7d9e)&&this['_component']['rebind'](),this['_mask']=_0x1e7d9e;}get['mask'](){return this['_mask'];}['play'](_0x3cbafa){this['_controlle'+'r']['play'](_0x3cbafa);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x59b291){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=Y['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x59b291):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=-0x31*-0xb3+-0x137*-0x3+-0x25e8,this['_blendTime'+'Elapsed']=-0xb2b+-0x2b5+-0xde*-0x10,this['_startingW'+'eight']=-0xd0e+0x1b7d+-0xe6f,this['_targetWei'+'ght']=-0x51e+0x76f*-0x1+0x9*0x165)),this['_controlle'+'r']['update'](_0x59b291);}['blendToWei'+'ght'](_0x7922b1,_0x4b11e3){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x7922b1,this['_blendTime']=Math['max'](-0x16b0+-0x1b1*-0x11+-0x611,_0x4b11e3),this['_blendTime'+'Elapsed']=-0x1295+0x94*0x26+-0x1*0x363;}['assignAnim'+'ation'](_0x23509b,_0x4854ea,_0x360598,_0x533e94){if(!(_0x4854ea instanceof Qi)){w['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x23509b,_0x4854ea,_0x360598,_0x533e94),this['_controlle'+'r']['_transitio'+'ns']['length']===0x8*0x359+-0x1*0x3e+-0x1a8a&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Lh({'from':'START','to':_0x23509b})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(-0x511*0x4+-0x1*0x110b+0x254f));}['removeNode'+'Animations'](_0x1ea5d2){this['_controlle'+'r']['removeNode'+'Animations'](_0x1ea5d2)&&(this['_component']['playing']=!(-0x18*-0x32+0x3*-0xceb+0x2212));}['getAnimati'+'onAsset'](_0xf00aff){return this['_component']['animationA'+'ssets'][this['name']+':'+_0xf00aff];}['transition'](_0x2e51e3,_0x555819=-0x15c3+0x62b*-0x4+0x2e6f,_0x386844=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Lh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x2e51e3,'time':_0x555819,'transitionOffset':_0x386844}));}}class Jc{constructor(_0x8f7001){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x8f7001['layers']))this['_layers']=_0x8f7001['layers'];else for(const _0x2b7a33 in _0x8f7001['layers']){const _0x5d1e5d=_0x8f7001['layers'][_0x2b7a33],_0x34177a={'name':_0x5d1e5d['name'],'blendType':_0x5d1e5d['blendType'],'weight':_0x5d1e5d['weight'],'states':[],'transitions':[]};for(let _0x281528=0xc03+0x98c+-0x158f;_0x281528<_0x5d1e5d['states']['length'];_0x281528++)_0x34177a['states']['push'](_0x8f7001['states'][_0x5d1e5d['states'][_0x281528]]);for(let _0x113202=-0x1*0x4c1+0x455*-0x5+0x6*0x467;_0x113202<_0x5d1e5d['transition'+'s']['length'];_0x113202++){const _0x5606b8=_0x8f7001['transition'+'s'][_0x5d1e5d['transition'+'s'][_0x113202]];if(_0x5606b8['conditions']&&!Array['isArray'](_0x5606b8['conditions'])){const _0x5cd820=Object['keys'](_0x5606b8['conditions']),_0x222f4b=[];for(let _0x4bece4=-0x2*0xf54+-0x1*0x25b2+0x445a;_0x4bece4<_0x5cd820['length'];_0x4bece4++){const _0x2c2e63=_0x5606b8['conditions'][_0x5cd820[_0x4bece4]];_0x2c2e63['parameterN'+'ame']&&_0x222f4b['push'](_0x2c2e63);}_0x5606b8['conditions']=_0x222f4b;}Number['isInteger'](_0x5606b8['from'])&&(_0x5606b8['from']=_0x8f7001['states'][_0x5606b8['from']]['name']),Number['isInteger'](_0x5606b8['to'])&&(_0x5606b8['to']=_0x8f7001['states'][_0x5606b8['to']]['name']),_0x34177a['transition'+'s']['push'](_0x5606b8);}this['_layers']['push'](_0x34177a);}for(const _0x17e80a in _0x8f7001['parameters']){const _0x1be6f3=_0x8f7001['parameters'][_0x17e80a];this['_parameter'+'s'][_0x1be6f3['name']]={'type':_0x1be6f3['type'],'value':_0x1be6f3['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class $v extends we{constructor(){super(...arguments),h(this,'_stateGrap'+'hAsset',null),h(this,'_animation'+'Assets',{}),h(this,'_speed',0x5b4+0x1325*0x1+-0x18d8),h(this,'_activate',!(-0x1825*0x1+0x19b6+-0x191)),h(this,'_playing',!(-0x1f7e+0x2*-0x601+0x25*0x12d)),h(this,'_rootBone',null),h(this,'_stateGrap'+'h',null),h(this,'_layers',[]),h(this,'_layerIndi'+'ces',{}),h(this,'_parameter'+'s',{}),h(this,'_targets',{}),h(this,'_consumedT'+'riggers',new Set()),h(this,'_normalize'+'Weights',!(0xd77*-0x1+0x1*-0x2417+0x318f)),h(this,'findParame'+'ter',_0x1db754=>this['_parameter'+'s'][_0x1db754]),h(this,'consumeTri'+'gger',_0x2e6c15=>{this['_consumedT'+'riggers']['add'](_0x2e6c15);});}set['stateGraph'+'Asset'](_0x26a7b9){if(_0x26a7b9===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x423f9a,_0x57689e;_0x26a7b9 instanceof pe?(_0x423f9a=_0x26a7b9['id'],_0x57689e=this['system']['app']['assets']['get'](_0x423f9a),_0x57689e||(this['system']['app']['assets']['add'](_0x26a7b9),_0x57689e=this['system']['app']['assets']['get'](_0x423f9a))):(_0x423f9a=_0x26a7b9,_0x57689e=this['system']['app']['assets']['get'](_0x423f9a)),!(!_0x57689e||this['_stateGrap'+'hAsset']===_0x423f9a)&&(_0x57689e['resource']?(this['_stateGrap'+'h']=_0x57689e['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x57689e['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x57689e['once']('load',_0x344950=>{this['_stateGrap'+'h']=_0x344950['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x57689e['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x57689e)),this['_stateGrap'+'hAsset']=_0x423f9a);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x2bc7b4){this['_normalize'+'Weights']=_0x2bc7b4,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x3d8e00){this['_animation'+'Assets']=_0x3d8e00,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x190b24){this['_speed']=_0x190b24;}get['speed'](){return this['_speed'];}set['activate'](_0xec0cb){this['_activate']=_0xec0cb;}get['activate'](){return this['_activate'];}set['playing'](_0x412d76){this['_playing']=_0x412d76;}get['playing'](){return this['_playing'];}set['rootBone'](_0x5514be){if(typeof _0x5514be=='string'){const _0x140e2f=this['entity']['root']['findByGuid'](_0x5514be);w['assert'](_0x140e2f,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x5514be+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x140e2f;}else _0x5514be instanceof lt?this['_rootBone']=_0x5514be:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x175dc8){this['_stateGrap'+'h']=_0x175dc8;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x250288){this['_layerIndi'+'ces']=_0x250288;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x5823e2){this['_parameter'+'s']=_0x5823e2;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0xd66a92){this['_targets']=_0xd66a92;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x21805e=0x5c6*-0x1+0x3e5*-0x2+0xd90;_0x21805e<this['_layers']['length'];_0x21805e++)if(!this['_layers'][_0x21805e]['playable'])return!(0x1026+0x1*0x277+0x31a*-0x6);return!(-0x1*-0xc17+-0x235d*0x1+0x1746);}get['baseLayer'](){return this['_layers']['length']>0x1a80*0x1+-0x1*-0x1bb+-0x1c3b?this['_layers'][0x139f+0x217e+-0x351d]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x57ccaa){const _0x10799f=this['animationA'+'ssets'],_0x3b660a=this['layers']['map'](_0x112cef=>_0x112cef['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new Jc(_0x57ccaa['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x10799f,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x599143,_0x2238cb)=>{_0x599143['mask']=_0x3b660a[_0x2238cb];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x25a772=Object['values'](this['_targets']);for(let _0x2eebc2=-0x1230+-0x211f+0xb9*0x47;_0x2eebc2<_0x25a772['length'];_0x2eebc2++)_0x25a772[_0x2eebc2]['dirty']=!(-0x25e6+0x2*-0x683+0x32ec);}['_addLayer']({name:_0x456b24,states:_0x5d5ffb,transitions:_0x4b1561,weight:_0x3dae7d,mask:_0x166fe8,blendType:_0x433497}){let _0xf9a449;this['rootBone']?_0xf9a449=this['rootBone']:_0xf9a449=this['entity'];const _0x21f3a0=this['_layers']['length'],_0x56095d=new Fi(this,_0xf9a449,_0x456b24,_0x166fe8,_0x21f3a0),_0x8dd9be=new Gv(_0x56095d),_0x2e5ff5=new NL(_0x8dd9be,_0x5d5ffb,_0x4b1561,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new kL(_0x456b24,_0x2e5ff5,this,_0x3dae7d,_0x433497)),this['_layerIndi'+'ces'][_0x456b24]=_0x21f3a0,this['_layers'][_0x21f3a0];}['addLayer'](_0xbc92a1,_0x1a99f7,_0x28fcb4,_0x4c51a2){const _0x2fe785=this['findAnimat'+'ionLayer'](_0xbc92a1);if(_0x2fe785)return _0x2fe785;const _0x167984=[{'name':'START','speed':0x1}],_0x27ccfc=[];return this['_addLayer']({'name':_0xbc92a1,'states':_0x167984,'transitions':_0x27ccfc,'weight':_0x1a99f7,'mask':_0x28fcb4,'blendType':_0x4c51a2});}['_assignPar'+'ameters'](_0x29390f){this['_parameter'+'s']={};const _0x395782=Object['keys'](_0x29390f['parameters']);for(let _0x5e11aa=-0x105e*-0x2+0x1365+0x1*-0x3421;_0x5e11aa<_0x395782['length'];_0x5e11aa++){const _0x2717dc=_0x395782[_0x5e11aa];this['_parameter'+'s'][_0x2717dc]={'type':_0x29390f['parameters'][_0x2717dc]['type'],'value':_0x29390f['parameters'][_0x2717dc]['value']};}}['loadStateG'+'raph'](_0xdc3602){this['_stateGrap'+'h']=_0xdc3602,this['_assignPar'+'ameters'](_0xdc3602),this['_layers']=[];let _0x425217=!(-0x100e+0x1*-0xa49+0x1a58);for(let _0x10e3f6=-0x416*-0x1+0x1ada+-0x1ef0;_0x10e3f6<_0xdc3602['layers']['length'];_0x10e3f6++){const _0x458e0d=_0xdc3602['layers'][_0x10e3f6];this['_addLayer']({..._0x458e0d}),_0x458e0d['states']['some'](_0x1372af=>_0x1372af['blendTree'])&&(_0x425217=!(0x1dbf+0x1085+-0x1a7*0x1c));}_0x425217||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x1614b3=-0x1*0x161+0x12*-0x1eb+0x23e7;_0x1614b3<this['_layers']['length'];_0x1614b3++){const _0xaca473=this['_layers'][_0x1614b3],_0x53fe1d=_0xaca473['name'];for(let _0xf116f8=-0x19fa+-0x236*-0x7+0xa80;_0xf116f8<_0xaca473['states']['length'];_0xf116f8++){const _0x195a84=_0xaca473['states'][_0xf116f8];if(Ih['indexOf'](_0x195a84)===-(-0x883+0x63f+-0x1*-0x245)){const _0x116a84=_0x53fe1d+':'+_0x195a84;this['_animation'+'Assets'][_0x116a84]||(this['_animation'+'Assets'][_0x116a84]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x114be5=0x1a51+-0x169*-0xb+0x29d4*-0x1;_0x114be5<this['_layers']['length'];_0x114be5++){const _0xcc56ce=this['_layers'][_0x114be5];for(let _0x6c187b=-0x1d91+0x203*-0xe+0x39bb;_0x6c187b<_0xcc56ce['states']['length'];_0x6c187b++){const _0x3e74ab=_0xcc56ce['states'][_0x6c187b];if(Ih['indexOf'](_0x3e74ab)!==-(-0x28*-0xa9+0x3f7*-0x2+0x1*-0x1279))continue;const _0x21490b=this['_animation'+'Assets'][_0xcc56ce['name']+':'+_0x3e74ab];if(!_0x21490b||!_0x21490b['asset']){this['findAnimat'+'ionLayer'](_0xcc56ce['name'])['assignAnim'+'ation'](_0x3e74ab,Qi['EMPTY']);continue;}const _0x377144=_0x21490b['asset'],_0x5a00da=this['system']['app']['assets']['get'](_0x377144);_0x5a00da&&(_0x5a00da['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0xcc56ce['name'],_0x3e74ab,_0x5a00da):(_0x5a00da['once']('load',function(_0xcb7870,_0x3ce96d){return function(_0x43b2c8){this['onAnimatio'+'nAssetLoad'+'ed'](_0xcb7870,_0x3ce96d,_0x43b2c8);}['bind'](this);}['bind'](this)(_0xcc56ce['name'],_0x3e74ab)),this['system']['app']['assets']['load'](_0x5a00da)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x1c0515,_0x4fdd16,_0x2ce09e){this['findAnimat'+'ionLayer'](_0x1c0515)['assignAnim'+'ation'](_0x4fdd16,_0x2ce09e['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(0x9bc+0x71*0x17+-0x13e2),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x5b6a0b=0x71*0x35+0x712*0x5+-0x3abf;_0x5b6a0b<this['_layers']['length'];_0x5b6a0b++){const _0x5e3599=this['_layers'][_0x5b6a0b]['playing'];this['_layers'][_0x5b6a0b]['reset'](),this['_layers'][_0x5b6a0b]['playing']=_0x5e3599;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x325e57=>{this['_targets'][_0x325e57]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x333ff7=0x2466+0x23b1+-0xe6b*0x5;_0x333ff7<this['_layers']['length'];_0x333ff7++)this['_layers'][_0x333ff7]['rebind']();}['findAnimat'+'ionLayer'](_0x162baa){const _0x864e65=this['_layerIndi'+'ces'][_0x162baa];return this['_layers'][_0x864e65]||null;}['addAnimati'+'onState'](_0x28fc39,_0x39ec3c,_0xfae408=0xc3d+0x2*0xc09+-0x244e,_0x4a990c=!(0xdad+0x19f1+-0x279e),_0x5210ec='Base'){var _0x4028e0;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new Jc({'layers':[{'name':_0x5210ec,'states':[{'name':'START','speed':0x1},{'name':_0x28fc39,'speed':_0xfae408,'loop':_0x4a990c,'defaultState':!(0x1*0xe3b+-0x1*-0x1d86+-0x2bc1)}],'transitions':[{'from':'START','to':_0x28fc39}]}],'parameters':{}}));const _0x23160f=this['findAnimat'+'ionLayer'](_0x5210ec);_0x23160f?_0x23160f['assignAnim'+'ation'](_0x28fc39,_0x39ec3c,_0xfae408,_0x4a990c):(_0x4028e0=this['addLayer'](_0x5210ec))==null||_0x4028e0['assignAnim'+'ation'](_0x28fc39,_0x39ec3c,_0xfae408,_0x4a990c);}['assignAnim'+'ation'](_0x3f071c,_0x199a0d,_0x3518d9,_0x2067eb=0x741*-0x2+-0x24a8+0x332b,_0x3ddfcf=!(0x6c1+0x100d+-0xb67*0x2)){if(!this['_stateGrap'+'h']&&_0x3f071c['indexOf']('.')===-(-0x19c*-0x11+-0xb3f+-0x4*0x407)){this['loadStateG'+'raph'](new Jc({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x3f071c,'speed':_0x2067eb,'loop':_0x3ddfcf,'defaultState':!(-0x11*0xcb+0x1966+0x1b*-0x71)}],'transitions':[{'from':'START','to':_0x3f071c}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x3f071c,_0x199a0d);return;}const _0x535e4c=_0x3518d9?this['findAnimat'+'ionLayer'](_0x3518d9):this['baseLayer'];if(!_0x535e4c){w['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x535e4c['assignAnim'+'ation'](_0x3f071c,_0x199a0d,_0x2067eb,_0x3ddfcf);}['removeNode'+'Animations'](_0x316562,_0x25eeb7){const _0x15a16c=_0x25eeb7?this['findAnimat'+'ionLayer'](_0x25eeb7):this['baseLayer'];if(!_0x15a16c){w['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x15a16c['removeNode'+'Animations'](_0x316562);}['getParamet'+'erValue'](_0x3e33b9,_0x23f88b){const _0x313ebb=this['_parameter'+'s'][_0x3e33b9];if(_0x313ebb&&_0x313ebb['type']===_0x23f88b)return _0x313ebb['value'];w['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x3e33b9+('\x22\x20of\x20type\x20'+'\x22')+_0x23f88b+'\x22');}['setParamet'+'erValue'](_0x5b0625,_0x43c6da,_0x3f7bd6){const _0x4d43ea=this['_parameter'+'s'][_0x5b0625];if(_0x4d43ea&&_0x4d43ea['type']===_0x43c6da){_0x4d43ea['value']=_0x3f7bd6;return;}w['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x5b0625+('\x22\x20of\x20type\x20'+'\x22')+_0x43c6da+'\x22');}['getFloat'](_0x50ec6f){return this['getParamet'+'erValue'](_0x50ec6f,Rg);}['setFloat'](_0x353862,_0x590c47){this['setParamet'+'erValue'](_0x353862,Rg,_0x590c47);}['getInteger'](_0x4164cf){return this['getParamet'+'erValue'](_0x4164cf,Lg);}['setInteger'](_0x2b2bd0,_0x21d4fa){typeof _0x21d4fa=='number'&&_0x21d4fa%(0x1c7a+-0x1*-0x11c3+0x10d*-0x2c)===-0x1da4+-0x10cd+0x2e71?this['setParamet'+'erValue'](_0x2b2bd0,Lg,_0x21d4fa):w['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x2b2bd0,_0x21d4fa);}['getBoolean'](_0x5d677b){return this['getParamet'+'erValue'](_0x5d677b,Og);}['setBoolean'](_0xa8cc29,_0x128671){this['setParamet'+'erValue'](_0xa8cc29,Og,!!_0x128671);}['getTrigger'](_0x18d9fe){return this['getParamet'+'erValue'](_0x18d9fe,Qc);}['setTrigger'](_0x78fb4a,_0x4dd6d2=!(0x1c57+0xa*0x3ab+-0x3*0x15ac)){this['setParamet'+'erValue'](_0x78fb4a,Qc,!(-0x1d*-0xcb+0xb*-0x2d3+0x812)),_0x4dd6d2&&this['_consumedT'+'riggers']['add'](_0x78fb4a);}['resetTrigg'+'er'](_0x3cc636){this['setParamet'+'erValue'](_0x3cc636,Qc,!(-0x10bf+-0x9cc+0x1a8c));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x369c55){for(let _0x37bcf5=-0x108d+-0xd57+0x1de4;_0x37bcf5<this['layers']['length'];_0x37bcf5++)this['layers'][_0x37bcf5]['update'](_0x369c55*this['speed']);this['_consumedT'+'riggers']['forEach'](_0xd9b39=>{this['parameters'][_0xd9b39]['value']=!(-0x1*0x6d+-0x512+0x580);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x57371e,_0x47d0b9){_0x57371e['rootBone']&&_0x47d0b9[_0x57371e['rootBone']['getGuid']()]?this['rootBone']=_0x47d0b9[_0x57371e['rootBone']['getGuid']()]:this['rebind']();}}class UL{constructor(){this['enabled']=!(0x2*0xf3+-0x820*-0x4+-0x206*0x11);}}const bu=['enabled'];class BL extends ct{constructor(_0x1feda6){super(_0x1feda6),this['id']='anim',this['ComponentT'+'ype']=$v,this['DataType']=UL,this['schema']=bu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x36b85a,_0x3403aa,_0x5bad17){super['initialize'+'ComponentD'+'ata'](_0x36b85a,_0x3403aa,bu);const _0x526e44=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x3403aa)['forEach'](_0x1a3d45=>{_0x526e44['includes'](_0x1a3d45)||(_0x36b85a[_0x1a3d45]=_0x3403aa[_0x1a3d45]);}),_0x3403aa['stateGraph']&&(_0x36b85a['stateGraph']=_0x3403aa['stateGraph'],_0x36b85a['loadStateG'+'raph'](_0x36b85a['stateGraph'])),_0x3403aa['layers']&&_0x3403aa['layers']['forEach']((_0x3965b0,_0x1bbf46)=>{_0x3965b0['_controlle'+'r']['states']['forEach'](_0x11accd=>{_0x3965b0['_controlle'+'r']['_states'][_0x11accd]['_animation'+'List']['forEach'](_0x249c8a=>{if(!_0x249c8a['animTrack']||_0x249c8a['animTrack']===Qi['EMPTY']){const _0x58678b=this['app']['assets']['get'](_0x3965b0['_component']['_animation'+'Assets'][_0x3965b0['name']+':'+_0x249c8a['name']]['asset']);_0x58678b&&!_0x58678b['loaded']&&_0x58678b['once']('load',()=>{_0x36b85a['layers'][_0x1bbf46]['assignAnim'+'ation'](_0x249c8a['name'],_0x58678b['resource']);});}else _0x36b85a['layers'][_0x1bbf46]['assignAnim'+'ation'](_0x249c8a['name'],_0x249c8a['animTrack']);});});}),_0x3403aa['animationA'+'ssets']&&(_0x36b85a['animationA'+'ssets']=Object['assign'](_0x36b85a['animationA'+'ssets'],_0x3403aa['animationA'+'ssets'])),_0x3403aa['masks']&&Object['keys'](_0x3403aa['masks'])['forEach'](_0x22c5c3=>{if(_0x36b85a['layers'][_0x22c5c3]){const _0x370166=_0x3403aa['masks'][_0x22c5c3]['mask'],_0x338d52={};Object['keys'](_0x370166)['forEach'](_0x240e9f=>{_0x338d52[decodeURI(_0x240e9f)]=_0x370166[_0x240e9f];}),_0x36b85a['layers'][_0x22c5c3]['mask']=_0x338d52;}});}['onAnimatio'+'nUpdate'](_0x167b3b){const _0x361f01=this['store'];for(const _0x3e6c34 in _0x361f01)if(_0x361f01['hasOwnProp'+'erty'](_0x3e6c34)){const _0x263aeb=_0x361f01[_0x3e6c34]['entity']['anim'];_0x263aeb['data']['enabled']&&_0x263aeb['entity']['enabled']&&_0x263aeb['playing']&&_0x263aeb['update'](_0x167b3b);}}['cloneCompo'+'nent'](_0x9fa43f,_0x41e854){let _0x4065fc;(!_0x9fa43f['anim']['rootBone']||_0x9fa43f['anim']['rootBone']===_0x9fa43f)&&(_0x4065fc={},_0x9fa43f['anim']['layers']['forEach']((_0x5f2c23,_0x3b04ae)=>{if(_0x5f2c23['mask']){const _0x83ad28={};Object['keys'](_0x5f2c23['mask'])['forEach'](_0x18fcc5=>{const _0x436ad5=_0x18fcc5['split']('/');_0x436ad5['shift']();const _0x37b046=[_0x41e854['name'],..._0x436ad5]['join']('/');_0x83ad28[_0x37b046]=_0x5f2c23['mask'][_0x18fcc5];}),_0x4065fc[_0x3b04ae]={'mask':_0x83ad28};}}));const _0x4c8c44={'enabled':_0x9fa43f['anim']['enabled'],'stateGraphAsset':_0x9fa43f['anim']['stateGraph'+'Asset'],'animationAssets':_0x9fa43f['anim']['animationA'+'ssets'],'speed':_0x9fa43f['anim']['speed'],'activate':_0x9fa43f['anim']['activate'],'playing':_0x9fa43f['anim']['playing'],'rootBone':_0x9fa43f['anim']['rootBone'],'stateGraph':_0x9fa43f['anim']['stateGraph'],'layers':_0x9fa43f['anim']['layers'],'layerIndices':_0x9fa43f['anim']['layerIndic'+'es'],'parameters':_0x9fa43f['anim']['parameters'],'normalizeWeights':_0x9fa43f['anim']['normalizeW'+'eights'],'masks':_0x4065fc};return this['addCompone'+'nt'](_0x41e854,_0x4c8c44);}['onBeforeRe'+'move'](_0x10f728,_0x211a5a){_0x211a5a['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}we['_buildAcce'+'ssors']($v['prototype'],bu);class Xv extends we{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0xb49ae3=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0xb49ae3);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class zL{constructor(){this['enabled']=!(0x7a8+-0x1*-0x2260+-0x2a08);}}const qv=['enabled'];class VL extends ct{constructor(_0x32545b){super(_0x32545b),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Xv,this['DataType']=zL,this['schema']=qv,this['manager']=_0x32545b['soundManag'+'er'],w['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x103621,_0x4efac1,_0x54e91e){_0x54e91e=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x103621,_0x4efac1,_0x54e91e);}['onUpdate'](_0x5f47dd){if(this['current']){const _0x357a20=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x357a20);const _0x38e9ef=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x38e9ef);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Xv['prototype'],qv);const Au=-0x2193+0x2029+-0xb5*-0x2,Ng=-0xddb*-0x1+-0x1fbf+0x11e5,eh='group',Cu='image',jv='text',th='stretch',GL='contain',HL='cover',ft={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},kl={};kl[ft['DEFAULT']]='_defaultTi'+'nt',kl[ft['HOVER']]='hoverTint',kl[ft['PRESSED']]='pressedTin'+'t',kl[ft['INACTIVE']]='inactiveTi'+'nt';const Ul={};Ul[ft['DEFAULT']]='_defaultSp'+'riteAsset',Ul[ft['HOVER']]='hoverSprit'+'eAsset',Ul[ft['PRESSED']]='pressedSpr'+'iteAsset',Ul[ft['INACTIVE']]='inactiveSp'+'riteAsset';const Bl={};Bl[ft['DEFAULT']]='_defaultSp'+'riteFrame',Bl[ft['HOVER']]='hoverSprit'+'eFrame',Bl[ft['PRESSED']]='pressedSpr'+'iteFrame',Bl[ft['INACTIVE']]='inactiveSp'+'riteFrame';class It extends we{constructor(_0x7bced0,_0x586e26){super(_0x7bced0,_0x586e26),h(this,'_visualSta'+'te',ft['DEFAULT']),h(this,'_isHoverin'+'g',!(-0x1*0x2e1+-0x186*-0x9+-0xe7*0xc)),h(this,'_hoveringC'+'ounter',0x153b+0x250*0xb+-0x2eab),h(this,'_isPressed',!(0xa33+-0x365*-0x7+-0x21f5*0x1)),h(this,'_defaultTi'+'nt',new ie(-0x16eb+0xc27+0x397*0x3,-0x1259+-0xa88*-0x1+0x5b*0x16,0xb1c+-0x2*0x683+0x1eb,-0x1*-0x2bc+0x1060+-0x131b)),h(this,'_defaultSp'+'riteAsset',null),h(this,'_defaultSp'+'riteFrame',-0x2604+0x184*-0x13+-0x2168*-0x2),h(this,'_imageEnti'+'ty',null),h(this,'_evtElemen'+'tAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),h(this,'_evtImageE'+'ntityEleme'+'ntColor',null),h(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=ft['DEFAULT'],this['_isHoverin'+'g']=!(0xc34+-0x449+0x2*-0x3f5),this['_hoveringC'+'ounter']=0x6c1+-0x1*-0x1d2+-0x893,this['_isPressed']=!(0x1dd+0x1120+-0x12fc),this['_defaultTi'+'nt']=new ie(-0x16e3+-0x1cf*0x1+0x18b3,0x1fa0+-0x8*-0xff+-0x2797,0x264b+-0x8a5*-0x2+-0x3794,-0xab3+0x91a*0x1+-0x5*-0x52),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=-0x2240+-0x20a+0x244a,this['_toggleLif'+'ecycleList'+'eners']('on',_0x7bced0));}get['data'](){const _0x1c33d1=this['system']['store'][this['entity']['getGuid']()];return _0x1c33d1?_0x1c33d1['data']:null;}set['enabled'](_0x1ffb37){this['_setValue']('enabled',_0x1ffb37);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x4c989e){this['_setValue']('active',_0x4c989e);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x1e80d2){if(this['_imageEnti'+'ty']!==_0x1e80d2){const _0x1b672d=typeof _0x1e80d2=='string';if(this['_imageEnti'+'ty']&&_0x1b672d&&this['_imageEnti'+'ty']['getGuid']()===_0x1e80d2)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x1e80d2 instanceof Ie?this['_imageEnti'+'ty']=_0x1e80d2:_0x1b672d?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x1e80d2)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x1b672d&&_0x1e80d2&&(this['data']['imageEntit'+'y']=_0x1e80d2);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x42a617){this['_setValue']('hitPadding',_0x42a617);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x25bc74){this['_setValue']('transition'+'Mode',_0x25bc74);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x444675){this['_setValue']('hoverTint',_0x444675);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x6eb99d){this['_setValue']('pressedTin'+'t',_0x6eb99d);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x296a0f){this['_setValue']('inactiveTi'+'nt',_0x296a0f);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x32c7a8){this['_setValue']('fadeDurati'+'on',_0x32c7a8);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x57407d){this['_setValue']('hoverSprit'+'eAsset',_0x57407d);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x30209d){this['_setValue']('hoverSprit'+'eFrame',_0x30209d);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x2f53fe){this['_setValue']('pressedSpr'+'iteAsset',_0x2f53fe);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x3921da){this['_setValue']('pressedSpr'+'iteFrame',_0x3921da);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x4b1db0){this['_setValue']('inactiveSp'+'riteAsset',_0x4b1db0);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x48d5b4){this['_setValue']('inactiveSp'+'riteFrame',_0x48d5b4);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0xf71ec9,_0x3de6f6){const _0xe30484=this['data'],_0x4d4132=_0xe30484[_0xf71ec9];_0xe30484[_0xf71ec9]=_0x3de6f6,this['fire']('set',_0xf71ec9,_0x4d4132,_0x3de6f6);}['_toggleLif'+'ecycleList'+'eners'](_0x20b372,_0x17a3eb){var _0xa4c103;this[_0x20b372]('set_active',this['_onSetActi'+'ve'],this),this[_0x20b372]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x20b372]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x20b372]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x20b372]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x20b372]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x20b372]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x20b372]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x20b372]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x20b372]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x20b372]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x20b372==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0xa4c103=this['_evtElemen'+'tAdd'])==null||_0xa4c103['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x24c9a7,_0x59f65b,_0x35992b){_0x59f65b!==_0x35992b&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x359176,_0x34777c,_0x572e40){_0x34777c!==_0x572e40&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x34777c),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x4e7de5,_0x2505d3,_0x1a4dba){_0x2505d3!==_0x1a4dba&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x21463f,_0x4876e0;(_0x21463f=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x21463f['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x4876e0=this['_imageEnti'+'ty'])!=null&&_0x4876e0['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x23c391=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x23c391['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x23c391['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x23c391['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x23c391['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x23c391['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x106356,_0x29eb09,_0xbcf568,_0x571c67,_0x6361b9;(_0x106356=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x106356['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x29eb09=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x29eb09['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0xbcf568=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0xbcf568['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x571c67=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x571c67['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x6361b9=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x6361b9['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x155391){if(this['entity']['element']){const _0x5ba150=_0x155391==='on';if(_0x5ba150&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x155391]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x155391]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x155391]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x155391]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x155391]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x155391]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x155391]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x155391]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x155391]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x155391]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x155391]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x155391]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x155391]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x155391]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x5ba150;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x7952bf;const _0x3d8e9c=(_0x7952bf=this['_imageEnti'+'ty'])==null?void(0x6ad*-0x5+-0x1af3+0x1d4*0x21):_0x7952bf['element'];!_0x3d8e9c||_0x3d8e9c['type']===eh||(this['_storeDefa'+'ultColor'](_0x3d8e9c['color']),this['_storeDefa'+'ultOpacity'](_0x3d8e9c['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x3d8e9c['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x3d8e9c['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x12e9bd){this['_defaultTi'+'nt']['r']=_0x12e9bd['r'],this['_defaultTi'+'nt']['g']=_0x12e9bd['g'],this['_defaultTi'+'nt']['b']=_0x12e9bd['b'];}['_storeDefa'+'ultOpacity'](_0xeb98d1){this['_defaultTi'+'nt']['a']=_0xeb98d1;}['_storeDefa'+'ultSpriteA'+'sset'](_0x496f8f){this['_defaultSp'+'riteAsset']=_0x496f8f;}['_storeDefa'+'ultSpriteF'+'rame'](_0x367302){this['_defaultSp'+'riteFrame']=_0x367302;}['_onSetColo'+'r'](_0x1256cc){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x1256cc),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x8c426d){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x8c426d),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x4017a6){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x4017a6),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x21f2fd){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x21f2fd),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x317a2b){this['_isHoverin'+'g']=!(0x182d+-0xbb*0x1d+0x2fe*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x317a2b);}['_onMouseLe'+'ave'](_0xf532fd){this['_isHoverin'+'g']=!(-0x33*0x75+-0x5de*0x5+0x34a6),this['_isPressed']=!(0x14e9+-0x15d2+-0x75*-0x2),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0xf532fd);}['_onMouseDo'+'wn'](_0x108918){this['_isPressed']=!(0x1*0x3f3+0x4e*-0x47+0x5e5*0x3),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x108918);}['_onMouseUp'](_0x52e97b){this['_isPressed']=!(0x1c47+-0x167*0x8+0x2*-0x887),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x52e97b);}['_onTouchSt'+'art'](_0xf0183){this['_isPressed']=!(0x1f7*0xb+-0x658+-0xf45),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0xf0183);}['_onTouchEn'+'d'](_0x38d6c6){_0x38d6c6['event']['preventDef'+'ault'](),this['_isPressed']=!(-0x23de+-0x2b6*-0x1+0x2129),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x38d6c6);}['_onTouchLe'+'ave'](_0x27cb19){this['_isPressed']=!(0x1*-0x9a9+0x1d36+-0x138c),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x27cb19);}['_onTouchCa'+'ncel'](_0x2c1e7c){this['_isPressed']=!(0x2*0x17f+-0x19c7+0x16ca*0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x2c1e7c);}['_onSelectS'+'tart'](_0x1eca1d){this['_isPressed']=!(-0x2295+0xa*0x2a+0x20f1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x1eca1d);}['_onSelectE'+'nd'](_0x187ddf){this['_isPressed']=!(0xda8+0x35*0x7a+-0x26e9),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x187ddf);}['_onSelectE'+'nter'](_0x2489e0){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===0x134c+0xc0e+-0x645*0x5&&(this['_isHoverin'+'g']=!(-0xd93+-0x1*-0x1cae+-0xf1b),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x2489e0);}['_onSelectL'+'eave'](_0x55a47b){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===-0x15*-0x57+0xd79+0xa4e*-0x2&&(this['_isHoverin'+'g']=!(0x18ff+-0x5*0x6d8+-0x49d*-0x2),this['_isPressed']=!(-0x11*0xc7+-0xcd2*0x1+0x1a0a),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x55a47b);}['_onClick'](_0x1dae3b){this['_fireIfAct'+'ive']('click',_0x1dae3b);}['_fireIfAct'+'ive'](_0x5233a5,_0x1cf7b6){this['data']['active']&&this['fire'](_0x5233a5,_0x1cf7b6);}['_updateVis'+'ualState'](_0x152bd7){const _0x9e3d=this['_visualSta'+'te'],_0x24d269=this['_determine'+'VisualStat'+'e']();if((_0x9e3d!==_0x24d269||_0x152bd7)&&this['enabled'])switch(this['_visualSta'+'te']=_0x24d269,_0x9e3d===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x9e3d===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x24d269===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x24d269===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case Au:{const _0x18b02c=kl[this['_visualSta'+'te']],_0x34102f=this[_0x18b02c];this['_applyTint'](_0x34102f);break;}case Ng:{const _0x3d68ff=Ul[this['_visualSta'+'te']],_0xdd8bb7=Bl[this['_visualSta'+'te']],_0x54ea04=this[_0x3d68ff],_0x585f8e=this[_0xdd8bb7];this['_applySpri'+'te'](_0x54ea04,_0x585f8e);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(-0x22d2+-0x2555*0x1+0x1*0x4827));}['_resetToDe'+'faultVisua'+'lState'](_0x3f8641){var _0x426514;if((_0x426514=this['_imageEnti'+'ty'])!=null&&_0x426514['element'])switch(_0x3f8641){case Au:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case Ng:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return ft['PRESSED'];if(this['_isHoverin'+'g'])return ft['HOVER'];}else return ft['INACTIVE'];return ft['DEFAULT'];}['_applySpri'+'te'](_0x185b0d,_0x547e8b){var _0x39c187;const _0x40e3d0=(_0x39c187=this['_imageEnti'+'ty'])==null?void(0x3*0x2b0+-0x3a*-0x64+-0x1eb8):_0x39c187['element'];_0x40e3d0&&(_0x547e8b=_0x547e8b||0xd6*-0x25+-0x986+0x2874,this['_isApplyin'+'gSprite']=!(0x9*0xb6+-0x3*0x7bb+0x10cb),_0x40e3d0['spriteAsse'+'t']!==_0x185b0d&&(_0x40e3d0['spriteAsse'+'t']=_0x185b0d),_0x40e3d0['spriteFram'+'e']!==_0x547e8b&&(_0x40e3d0['spriteFram'+'e']=_0x547e8b),this['_isApplyin'+'gSprite']=!(0x31*-0xc9+0xf0d+0x176d));}['_applyTint'](_0x4ef480){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===-0x1408+0xcd+-0x3*-0x669?this['_applyTint'+'Immediatel'+'y'](_0x4ef480):this['_applyTint'+'WithTween'](_0x4ef480);}['_applyTint'+'Immediatel'+'y'](_0x4975e3){var _0x561d65;const _0x4530f8=(_0x561d65=this['_imageEnti'+'ty'])==null?void(0x33d*-0x2+-0x1b31+0x1fb*0x11):_0x561d65['element'];if(!_0x4975e3||!_0x4530f8||_0x4530f8['type']===eh)return;const _0x3c76b3=kg(_0x4975e3);this['_isApplyin'+'gTint']=!(-0x26c5+0x1910+0xb*0x13f),_0x3c76b3['equals'](_0x4530f8['color'])||(_0x4530f8['color']=_0x3c76b3),_0x4530f8['opacity']!==_0x4975e3['a']&&(_0x4530f8['opacity']=_0x4975e3['a']),this['_isApplyin'+'gTint']=!(0x2*0x7bb+-0x45d*-0x3+0xe46*-0x2);}['_applyTint'+'WithTween'](_0x1e2bc6){var _0x2fab29;const _0x1a334c=(_0x2fab29=this['_imageEnti'+'ty'])==null?void(-0x371*0xa+-0x3*-0x4f3+0x1391*0x1):_0x2fab29['element'];if(!_0x1e2bc6||!_0x1a334c||_0x1a334c['type']===eh)return;const _0x27456a=kg(_0x1e2bc6),_0x4f144e=_0x1a334c['color'],_0x1a36f7=_0x1a334c['opacity'];_0x27456a['equals'](_0x4f144e)&&_0x1e2bc6['a']===_0x1a36f7||(this['_tweenInfo']={'startTime':de(),'from':new ie(_0x4f144e['r'],_0x4f144e['g'],_0x4f144e['b'],_0x1a36f7),'to':_0x1e2bc6['clone'](),'lerpColor':new ie()});}['_updateTin'+'tTween'](){const _0x4236ec=de()-this['_tweenInfo']['startTime'];let _0x4f3dcc=this['fadeDurati'+'on']===-0x2*0xdd+-0x2270+0x607*0x6?0x47*0x41+-0xe05+-0x401:_0x4236ec/this['fadeDurati'+'on'];if(_0x4f3dcc=Y['clamp'](_0x4f3dcc,0x1208+0xa6+-0x12ae,-0x15fb+-0x3*-0x3a5+0xb0d),Math['abs'](_0x4f3dcc-(-0x2548+0x52a+0x201f))>0x51c*0x1+0x1234+-0x1*0x1750+0.00001){const _0x1e9ca0=this['_tweenInfo']['lerpColor'];_0x1e9ca0['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x4f3dcc),this['_applyTint'+'Immediatel'+'y'](new ie(_0x1e9ca0['r'],_0x1e9ca0['g'],_0x1e9ca0['b'],_0x1e9ca0['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(-0xb4f+0x6f*-0x24+0x4*0x6bb),this['_hoveringC'+'ounter']=-0x5e0*-0x2+0x1b62*0x1+-0x2722,this['_isPressed']=!(0x861+0x59*0x59+0xd1b*-0x3),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x8c4fa7,_0x43279c){_0x8c4fa7['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x43279c[_0x8c4fa7['imageEntit'+'y']['getGuid']()]);}}h(It,'EVENT_MOUS'+'EDOWN','mousedown'),h(It,'EVENT_MOUS'+'EUP','mouseup'),h(It,'EVENT_MOUS'+'EENTER','mouseenter'),h(It,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(It,'EVENT_CLIC'+'K','click'),h(It,'EVENT_TOUC'+'HSTART','touchstart'),h(It,'EVENT_TOUC'+'HEND','touchend'),h(It,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),h(It,'EVENT_TOUC'+'HLEAVE','touchleave'),h(It,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(It,'EVENT_SELE'+'CTEND','selectend'),h(It,'EVENT_SELE'+'CTENTER','selectente'+'r'),h(It,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),h(It,'EVENT_HOVE'+'RSTART','hoverstart'),h(It,'EVENT_HOVE'+'REND','hoverend'),h(It,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),h(It,'EVENT_PRES'+'SEDEND','pressedend');function kg(_0x499d0e){return new ie(_0x499d0e['r'],_0x499d0e['g'],_0x499d0e['b']);}class WL{constructor(){this['enabled']=!(-0x9*-0x2a6+-0x2513+0xd3d),this['active']=!(0x23cc+0x25*0xad+-0x5*0xc29),this['imageEntit'+'y']=null,this['hitPadding']=new re(),this['transition'+'Mode']=Au,this['hoverTint']=new ie(0x30a+0x282*0x1+-0x58c+0.75,0xa1f*0x1+0x101d+-0x49*0x5c+0.75,-0x1*0x20e7+-0x8*0x67+-0x241f*-0x1+0.75),this['pressedTin'+'t']=new ie(-0x2471+0x3*-0xae3+-0x1*-0x451a+0.5,0x5a5*-0x5+0x261c+-0x9e3+0.5,-0x1577+-0x66f+0xdf3*0x2+0.5),this['inactiveTi'+'nt']=new ie(0x21da+-0x16*0x15b+-0x8*0x81+0.25,-0x1229*0x1+0x1d*-0xb+0xb8*0x1b+0.25,0x175e+0x112a+0xa22*-0x4+0.25),this['fadeDurati'+'on']=-0x167*0x5+0xc10+-0x1*0x50d,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=0xdf3*0x1+-0x16eb+0x8f8,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=-0x1d4b+0x1844*0x1+0x507,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=0x2100+0x18*-0xb1+-0x1068;}}const Ug=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class $L extends ct{constructor(_0x20926b){super(_0x20926b),this['id']='button',this['ComponentT'+'ype']=It,this['DataType']=WL,this['schema']=Ug,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x56f40e,_0x9d09b1,_0x48153a){_0x56f40e['imageEntit'+'y']=_0x9d09b1['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x56f40e,_0x9d09b1,Ug);}['onUpdate'](_0x4f7a16){const _0x4fa2e8=this['store'];for(const _0x4910da in _0x4fa2e8){const _0x34164c=_0x4fa2e8[_0x4910da]['entity'],_0x23d2a3=_0x34164c['button'];_0x23d2a3['enabled']&&_0x34164c['enabled']&&_0x23d2a3['onUpdate']();}}['_onRemoveC'+'omponent'](_0x143a5c,_0x2b6fce){_0x2b6fce['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const Bg=new D(),zg=new le();class rn extends we{constructor(_0x3aa4d6,_0x123e6f){super(_0x3aa4d6,_0x123e6f),h(this,'_compoundP'+'arent',null),h(this,'_hasOffset',!(0x61*0x1f+0xe7c+0x12*-0x175)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x28bec3=this['system']['store'][this['entity']['getGuid']()];return _0x28bec3?_0x28bec3['data']:null;}set['enabled'](_0x5da74c){this['_setValue']('enabled',_0x5da74c);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x3f0f2d){this['_setValue']('type',_0x3f0f2d);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x53bbab){this['_setValue']('halfExtent'+'s',_0x53bbab);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x5c57c7){this['_setValue']('linearOffs'+'et',_0x5c57c7);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x59b20f){this['_setValue']('angularOff'+'set',_0x59b20f);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0xd6dfda){this['_setValue']('radius',_0xd6dfda);}get['radius'](){return this['data']['radius'];}set['axis'](_0x1bdb18){this['_setValue']('axis',_0x1bdb18);}get['axis'](){return this['data']['axis'];}set['height'](_0x36791b){this['_setValue']('height',_0x36791b);}get['height'](){return this['data']['height'];}set['asset'](_0x34737c){this['_setValue']('asset',_0x34737c);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x59c2f0){this['_setValue']('renderAsse'+'t',_0x59c2f0);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x379a81){this['_setValue']('convexHull',_0x379a81);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x3b4d6f){this['_setValue']('shape',_0x3b4d6f);}get['shape'](){return this['data']['shape'];}set['model'](_0x512d57){this['_setValue']('model',_0x512d57);}get['model'](){return this['data']['model'];}set['render'](_0x41031f){this['_setValue']('render',_0x41031f);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x2d8a7c){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x2d8a7c);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x5ca607,_0x4b3a6f){const _0x3b8bd7=this['data'],_0xcd202a=_0x3b8bd7[_0x5ca607];_0x3b8bd7[_0x5ca607]=_0x4b3a6f,this['fire']('set',_0x5ca607,_0xcd202a,_0x4b3a6f);}['onSetType'](_0x388579,_0x38e053,_0x55e317){_0x38e053!==_0x55e317&&this['system']['changeType'](this,_0x38e053,_0x55e317);}['onSetHalfE'+'xtents'](_0x2958dc,_0x34f219,_0x52cc00){const _0x1e9a6d=this['data']['type'];this['data']['initialize'+'d']&&_0x1e9a6d==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x2d6876,_0xe5d471,_0x36613b){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](D['ZERO'])||!this['data']['angularOff'+'set']['equals'](le['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x994700,_0x5e2bfb,_0x3dd7e1){const _0x2cc6e9=this['data']['type'];this['data']['initialize'+'d']&&(_0x2cc6e9==='sphere'||_0x2cc6e9==='capsule'||_0x2cc6e9==='cylinder'||_0x2cc6e9==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0xdfe57f,_0x995df0,_0x47c298){const _0x326734=this['data']['type'];this['data']['initialize'+'d']&&(_0x326734==='capsule'||_0x326734==='cylinder'||_0x326734==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x45c6bd,_0x231ff9,_0x25e4f1){const _0x32e709=this['data']['type'];this['data']['initialize'+'d']&&(_0x32e709==='capsule'||_0x32e709==='cylinder'||_0x32e709==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x2e4e6e,_0x28104e,_0x12ebff){const _0x24aaeb=this['system']['app']['assets'];if(_0x28104e){const _0x5ca274=_0x24aaeb['get'](_0x28104e);_0x5ca274&&_0x5ca274['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x12ebff){_0x12ebff instanceof pe&&(this['data']['asset']=_0x12ebff['id']);const _0x16f929=_0x24aaeb['get'](this['data']['asset']);_0x16f929&&(_0x16f929['off']('remove',this['onAssetRem'+'oved'],this),_0x16f929['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x12ebff||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x105259,_0x7cf992,_0x3884a1){const _0xb03798=this['system']['app']['assets'];if(_0x7cf992){const _0x3eb64e=_0xb03798['get'](_0x7cf992);_0x3eb64e&&_0x3eb64e['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x3884a1){_0x3884a1 instanceof pe&&(this['data']['renderAsse'+'t']=_0x3884a1['id']);const _0x1326d9=_0xb03798['get'](this['data']['renderAsse'+'t']);_0x1326d9&&(_0x1326d9['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x1326d9['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x3884a1||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x126cdf,_0x485836,_0x2d03be){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x2975c,_0x2469da,_0xe9f7e0){this['onSetModel'](_0x2975c,_0x2469da,_0xe9f7e0);}['onAssetRem'+'oved'](_0x34a54f){_0x34a54f['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x34a54f['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x2d945c){_0x2d945c['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x2d945c['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x5ef120){const _0x6cfbef=this['data']['shape'],_0x11fa25=_0x6cfbef['getNumChil'+'dShapes']();for(let _0x4de5ac=0xeb6+0x16d*0x7+-0x3*0x83b;_0x4de5ac<_0x11fa25;_0x4de5ac++){const _0x400dd5=_0x6cfbef['getChildSh'+'ape'](_0x4de5ac);if(Ammo['getPointer'](_0x400dd5)===Ammo['getPointer'](_0x5ef120))return _0x4de5ac;}return null;}['_onInsert'](_0x49249b){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x5740ef=this['entity']['parent'];for(;_0x5740ef;){if(_0x5740ef['collision']&&_0x5740ef['collision']['type']==='compound'){_0x5740ef['collision']['shape']['getNumChil'+'dShapes']()===0x2070+-0xb2+-0x1de*0x11?this['system']['recreatePh'+'ysicalShap'+'es'](_0x5740ef['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x5740ef=_0x5740ef['parent'];}}}}}['_updateCom'+'pound'](){const _0x361deb=this['entity'];if(_0x361deb['_dirtyWorl'+'d']){let _0x58b931=_0x361deb['_dirtyLoca'+'l'],_0x22627b=_0x361deb;for(;_0x22627b&&!_0x58b931&&!(_0x22627b['collision']&&_0x22627b['collision']===this['_compoundP'+'arent']);)_0x22627b['_dirtyLoca'+'l']&&(_0x58b931=!(0x188c+-0xef4+-0x998)),_0x22627b=_0x22627b['parent'];if(_0x58b931){_0x361deb['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x361deb);const _0x1cf07d=this['_compoundP'+'arent']['entity']['rigidbody'];_0x1cf07d&&_0x1cf07d['activate']();}}}['getShapePo'+'sition'](){const _0x536698=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x184e11=this['entity']['getRotatio'+'n'](),_0x32049e=this['data']['linearOffs'+'et'];return zg['copy'](_0x184e11)['transformV'+'ector'](_0x32049e,Bg),Bg['add'](_0x536698);}return _0x536698;}['getShapeRo'+'tation'](){const _0x5d4314=this['entity']['getRotatio'+'n']();return this['_hasOffset']?zg['copy'](_0x5d4314)['mul'](this['data']['angularOff'+'set']):_0x5d4314;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x4c9d95=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x4c9d95&&(!_0x4c9d95['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x2587*-0x1+-0x269+-0x231e)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0xfe2235=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0xfe2235,this['data']['shape']),Ammo['destroy'](_0xfe2235),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}h(rn,'EVENT_CONT'+'ACT','contact'),h(rn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(rn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(rn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(rn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class XL{constructor(){this['enabled']=!(-0x7ab*-0x5+-0x231*0xb+-0xe3c*0x1),this['type']='box',this['halfExtent'+'s']=new D(0x41*-0x73+0xd9a+0x533*0x3+0.5,-0x29f+-0x2*0x7b9+0x19*0xb9+0.5,0x10c*0xf+0x3a1*0x4+-0x1e38+0.5),this['linearOffs'+'et']=new D(),this['angularOff'+'set']=new le(),this['radius']=-0x19a9*-0x1+0x220f+-0x3bb8+0.5,this['axis']=0xb5*0x1e+-0x1de+-0x1357*0x1,this['height']=-0x138f+0x1*-0x8e7+0x1c78,this['convexHull']=!(-0x146b*0x1+0x1e9*0x2+0xfa*0x11),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(-0x1e0c+-0x19d0+0x37dc),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(-0x1c2c*-0x1+0x182d+0x10c*-0x32);}}const yo='static',ks='dynamic',Ha='kinematic',qL=-0x9d2*-0x1+-0x12f*0x4+-0x28a*0x2,Po=0xfd7+0x1*0x8de+0x15*-0x12d,Pu=0x20*0xb1+0x4d+-0x166c,Vg=0xab5+-0x988+-0x129,Yv=0x17*-0x8b+0x15da+-0x958,jL=0x6cf+0x1*-0x239e+0x1cd0,Gg=-0x2*-0x547+0xfc4+-0x1a50,YL=0xb4d+-0x11*-0x161+-0x5*0x6f2,Hg=-0xea1+0x5*-0x8+0xed9,Wg=0x179e6+0x6013+-0xd9fa,Mu=0x13c33*-0x1+-0x80e*0x3a+0x40f5c;let Us,zr,Wa;class Kv{constructor(_0x1991dd,_0x5cf0c8,_0xdc45a0){this['entity']=_0x5cf0c8['entity'],this['component']=_0x5cf0c8,this['app']=_0x1991dd,typeof Ammo<'u'&&!Us&&(Us=new Ammo['btVector3'](),zr=new Ammo['btQuaterni'+'on'](),Wa=new Ammo['btTransfor'+'m']()),this['initialize'](_0xdc45a0);}['initialize'](_0x329803){const _0x493f1a=this['entity'],_0x5b8787=_0x329803['shape'];if(_0x5b8787&&typeof Ammo<'u'){_0x493f1a['trigger']&&_0x493f1a['trigger']['destroy']();const _0x536ba2=-0x18f3+0x62a+0x12ca,_0x1ee832=this['component'];if(_0x1ee832){const _0x4c0b2f=_0x1ee832['getShapePo'+'sition'](),_0x18c27e=_0x1ee832['getShapeRo'+'tation']();Us['setValue'](_0x4c0b2f['x'],_0x4c0b2f['y'],_0x4c0b2f['z']),zr['setValue'](_0x18c27e['x'],_0x18c27e['y'],_0x18c27e['z'],_0x18c27e['w']);}else{const _0x18ec75=_0x493f1a['getPositio'+'n'](),_0x3971c3=_0x493f1a['getRotatio'+'n']();Us['setValue'](_0x18ec75['x'],_0x18ec75['y'],_0x18ec75['z']),zr['setValue'](_0x3971c3['x'],_0x3971c3['y'],_0x3971c3['z'],_0x3971c3['w']);}Wa['setOrigin'](Us),Wa['setRotatio'+'n'](zr);const _0x1c3eac=this['app']['systems']['rigidbody']['createBody'](_0x536ba2,_0x5b8787,Wa);_0x1c3eac['setRestitu'+'tion'](0x121*0x1f+-0x1*-0x2525+0x2ac*-0x1b),_0x1c3eac['setFrictio'+'n'](-0x1bee+-0x1*0x1237+-0x1*-0x2e25),_0x1c3eac['setDamping'](0x193*0x11+-0x2418+0x955,-0x6e2*0x2+-0x1*-0x107a+-0x2b6),Us['setValue'](0x36*0x2+-0x16*-0x16+0x128*-0x2,-0x1*0xdf3+0x1386+0x1*-0x593,-0x1cdb+0x24e8+0x2af*-0x3),_0x1c3eac['setLinearF'+'actor'](Us),_0x1c3eac['setAngular'+'Factor'](Us),_0x1c3eac['setCollisi'+'onFlags'](_0x1c3eac['getCollisi'+'onFlags']()|Po),_0x1c3eac['entity']=_0x493f1a,this['body']=_0x1c3eac,this['component']['enabled']&&_0x493f1a['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x189c5d){const _0x53a1cc=this['component'];if(_0x53a1cc){const _0x3a97d5=_0x53a1cc['getShapePo'+'sition'](),_0x22dac3=_0x53a1cc['getShapeRo'+'tation']();Us['setValue'](_0x3a97d5['x'],_0x3a97d5['y'],_0x3a97d5['z']),zr['setValue'](_0x22dac3['x'],_0x22dac3['y'],_0x22dac3['z'],_0x22dac3['w']);}else{const _0x5d75da=this['entity']['getPositio'+'n'](),_0x5cc1a5=this['entity']['getRotatio'+'n']();Us['setValue'](_0x5d75da['x'],_0x5d75da['y'],_0x5d75da['z']),zr['setValue'](_0x5cc1a5['x'],_0x5cc1a5['y'],_0x5cc1a5['z'],_0x5cc1a5['w']);}_0x189c5d['setOrigin'](Us),_0x189c5d['setRotatio'+'n'](zr);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Wa);const _0x2fe075=this['body'];_0x2fe075['setWorldTr'+'ansform'](Wa),_0x2fe075['activate']();}['enable'](){const _0x3031a0=this['body'];if(!_0x3031a0)return;const _0x325ffe=this['app']['systems']['rigidbody'];_0x325ffe['_triggers']['indexOf'](this)<0x101*0xc+-0x1*-0x16ff+-0x230b*0x1&&(_0x325ffe['addBody'](_0x3031a0,Hg,Mu^Hg),_0x325ffe['_triggers']['push'](this)),_0x3031a0['forceActiv'+'ationState'](Pu),this['updateTran'+'sform']();}['disable'](){const _0x288a85=this['body'];if(!_0x288a85)return;const _0x2c5d4f=this['app']['systems']['rigidbody'],_0x665a8=_0x2c5d4f['_triggers']['indexOf'](this);_0x665a8>-(0xb*-0x35d+-0x11*0x1b8+0x4238)&&(_0x2c5d4f['removeBody'](_0x288a85),_0x2c5d4f['_triggers']['splice'](_0x665a8,0x1*0x89b+-0x1*-0x10d5+0x196f*-0x1)),_0x288a85['forceActiv'+'ationState'](Yv);}}const wc=new te(),KL=new D(),ZL=new D(),Vr=new le(),$g=new Ie(),QL=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class Ca{constructor(_0xd84665){this['system']=_0xd84665;}['beforeInit'+'ialize'](_0x154233,_0x1b35b1){_0x1b35b1['shape']=null,_0x1b35b1['model']=new sr(),_0x1b35b1['model']['graph']=new Ie();}['afterIniti'+'alize'](_0x1d243e,_0x1ebe60){this['recreatePh'+'ysicalShap'+'es'](_0x1d243e),_0x1d243e['data']['initialize'+'d']=!(0x1816+0xd*0x39+-0x1afb);}['reset'](_0x26d7a6,_0x4ed1ed){this['beforeInit'+'ialize'](_0x26d7a6,_0x4ed1ed),this['afterIniti'+'alize'](_0x26d7a6,_0x4ed1ed);}['recreatePh'+'ysicalShap'+'es'](_0x4fc5be){const _0x423a6d=_0x4fc5be['entity'],_0x4bceb2=_0x4fc5be['data'];if(typeof Ammo<'u'){_0x423a6d['trigger']&&(_0x423a6d['trigger']['destroy'](),delete _0x423a6d['trigger']),_0x4bceb2['shape']&&(_0x4fc5be['_compoundP'+'arent']&&(_0x4fc5be!==_0x4fc5be['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x4fc5be['_compoundP'+'arent'],_0x4bceb2['shape']),_0x4fc5be['_compoundP'+'arent']['entity']['rigidbody']&&_0x4fc5be['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x4bceb2)),_0x4bceb2['shape']=this['createPhys'+'icalShape'](_0x4fc5be['entity'],_0x4bceb2);const _0x4aa918=!_0x4fc5be['_compoundP'+'arent'];if(_0x4bceb2['type']==='compound'&&(!_0x4fc5be['_compoundP'+'arent']||_0x4fc5be===_0x4fc5be['_compoundP'+'arent']))_0x4fc5be['_compoundP'+'arent']=_0x4fc5be,_0x423a6d['forEach'](this['_addEachDe'+'scendant'],_0x4fc5be);else{if(_0x4bceb2['type']!=='compound'&&!_0x4fc5be['rigidbody']){_0x4fc5be['_compoundP'+'arent']=null;let _0x5d39a6=_0x423a6d['parent'];for(;_0x5d39a6;){if(_0x5d39a6['collision']&&_0x5d39a6['collision']['type']==='compound'){_0x4fc5be['_compoundP'+'arent']=_0x5d39a6['collision'];break;}_0x5d39a6=_0x5d39a6['parent'];}}}_0x4fc5be['_compoundP'+'arent']&&_0x4fc5be!==_0x4fc5be['_compoundP'+'arent']&&(_0x4aa918&&_0x4fc5be['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x1202+-0x2a2+0x1ec*-0x8?this['system']['recreatePh'+'ysicalShap'+'es'](_0x4fc5be['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x423a6d,!(0x2120+0xca2+-0x1*0x2dc2)),_0x4fc5be['_compoundP'+'arent']['entity']['rigidbody']&&_0x4fc5be['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x423a6d['rigidbody']?(_0x423a6d['rigidbody']['disableSim'+'ulation'](),_0x423a6d['rigidbody']['createBody'](),_0x423a6d['enabled']&&_0x423a6d['rigidbody']['enabled']&&_0x423a6d['rigidbody']['enableSimu'+'lation']()):_0x4fc5be['_compoundP'+'arent']||(_0x423a6d['trigger']?_0x423a6d['trigger']['initialize'](_0x4bceb2):_0x423a6d['trigger']=new Kv(this['system']['app'],_0x4fc5be,_0x4bceb2));}}['createPhys'+'icalShape'](_0x37394c,_0xfd2f0a){}['updateTran'+'sform'](_0x37d259,_0xb3228c,_0x1cbe98,_0x5ba28c){_0x37d259['entity']['trigger']&&_0x37d259['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x2a6e8f){_0x2a6e8f['shape']&&(Ammo['destroy'](_0x2a6e8f['shape']),_0x2a6e8f['shape']=null);}['beforeRemo'+'ve'](_0x1cf006,_0x1064b5){_0x1064b5['data']['shape']&&(_0x1064b5['_compoundP'+'arent']&&!_0x1064b5['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x1064b5['_compoundP'+'arent'],_0x1064b5['data']['shape']),_0x1064b5['_compoundP'+'arent']['entity']['rigidbody']&&_0x1064b5['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x1064b5['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x1064b5['data']));}['remove'](_0x5bd4bb,_0x47fb6c){_0x5bd4bb['rigidbody']&&_0x5bd4bb['rigidbody']['body']&&_0x5bd4bb['rigidbody']['disableSim'+'ulation'](),_0x5bd4bb['trigger']&&(_0x5bd4bb['trigger']['destroy'](),delete _0x5bd4bb['trigger']);}['clone'](_0x3ba5fa,_0x29fca6){const _0x449ea5=this['system']['store'][_0x3ba5fa['getGuid']()],_0x5bb25b={'enabled':_0x449ea5['data']['enabled'],'type':_0x449ea5['data']['type'],'halfExtents':[_0x449ea5['data']['halfExtent'+'s']['x'],_0x449ea5['data']['halfExtent'+'s']['y'],_0x449ea5['data']['halfExtent'+'s']['z']],'linearOffset':[_0x449ea5['data']['linearOffs'+'et']['x'],_0x449ea5['data']['linearOffs'+'et']['y'],_0x449ea5['data']['linearOffs'+'et']['z']],'angularOffset':[_0x449ea5['data']['angularOff'+'set']['x'],_0x449ea5['data']['angularOff'+'set']['y'],_0x449ea5['data']['angularOff'+'set']['z'],_0x449ea5['data']['angularOff'+'set']['w']],'radius':_0x449ea5['data']['radius'],'axis':_0x449ea5['data']['axis'],'height':_0x449ea5['data']['height'],'convexHull':_0x449ea5['data']['convexHull'],'asset':_0x449ea5['data']['asset'],'renderAsset':_0x449ea5['data']['renderAsse'+'t'],'model':_0x449ea5['data']['model'],'render':_0x449ea5['data']['render'],'checkVertexDuplicates':_0x449ea5['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x29fca6,_0x5bb25b);}}class JL extends Ca{['createPhys'+'icalShape'](_0x2c367a,_0x11291d){if(typeof Ammo<'u'){const _0x320b52=_0x11291d['halfExtent'+'s'],_0x248ca4=new Ammo['btVector3'](_0x320b52?_0x320b52['x']:-0x2570+-0x4*0x904+0x4980+0.5,_0x320b52?_0x320b52['y']:0x3*-0x940+0x5fa+-0x3*-0x742+0.5,_0x320b52?_0x320b52['z']:-0x1ffe+0x31*0x7f+-0x7af*-0x1+0.5),_0x1b0459=new Ammo['btBoxShape'](_0x248ca4);return Ammo['destroy'](_0x248ca4),_0x1b0459;}}}class eR extends Ca{['createPhys'+'icalShape'](_0x3b9749,_0x3e4768){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x3e4768['radius']);}}class tR extends Ca{['createPhys'+'icalShape'](_0x1307a7,_0x2d41d1){const _0xc8f3b3=_0x2d41d1['axis']??0x56*-0x3d+0x95*0x37+0xb*-0x10c,_0x1ddc6c=_0x2d41d1['radius']??0x2d7+-0x742+-0x1d*-0x27+0.5,_0x102a3f=Math['max']((_0x2d41d1['height']??-0xd03+0x542*-0x2+0x1789)-(0xfc6+-0x1*0x22a3+0x12df)*_0x1ddc6c,0x127b+-0x13*-0x13b+-0x29dc);let _0x2c54b7=null;if(typeof Ammo<'u')switch(_0xc8f3b3){case 0x8f*0x40+-0x1f1b+0x29*-0x1d:_0x2c54b7=new Ammo['btCapsuleS'+'hapeX'](_0x1ddc6c,_0x102a3f);break;case-0xf54+0x174b*0x1+-0x7f6:_0x2c54b7=new Ammo['btCapsuleS'+'hape'](_0x1ddc6c,_0x102a3f);break;case-0x1842+0xdef+0xa55:_0x2c54b7=new Ammo['btCapsuleS'+'hapeZ'](_0x1ddc6c,_0x102a3f);break;}return _0x2c54b7;}}class sR extends Ca{['createPhys'+'icalShape'](_0x41fd25,_0x463ca4){const _0x1982ed=_0x463ca4['axis']??-0x2283+-0x3*0x233+-0x5*-0x839,_0x145df8=_0x463ca4['radius']??-0x2e+0x23*-0xf+0x23b*0x1+0.5,_0x5c13c6=_0x463ca4['height']??-0xd7*0x4+0x9f*0x2f+0xc*-0x227;let _0x701f6a=null,_0xbd1932=null;if(typeof Ammo<'u')switch(_0x1982ed){case 0x1621+0x7c7+-0x1de8:_0x701f6a=new Ammo['btVector3'](_0x5c13c6*(0xf97*0x1+0x272*0x9+0xaf*-0x37+0.5),_0x145df8,_0x145df8),_0xbd1932=new Ammo['btCylinder'+'ShapeX'](_0x701f6a);break;case-0x213f*-0x1+-0xa62+0x5b7*-0x4:_0x701f6a=new Ammo['btVector3'](_0x145df8,_0x5c13c6*(-0x1102*-0x1+-0x207b+0xf79+0.5),_0x145df8),_0xbd1932=new Ammo['btCylinder'+'Shape'](_0x701f6a);break;case 0x29c*0x2+0x463*-0x1+-0xd3*0x1:_0x701f6a=new Ammo['btVector3'](_0x145df8,_0x145df8,_0x5c13c6*(0xb4d*0x3+0x22db+-0x44c2+0.5)),_0xbd1932=new Ammo['btCylinder'+'ShapeZ'](_0x701f6a);break;}return _0x701f6a&&Ammo['destroy'](_0x701f6a),_0xbd1932;}}class iR extends Ca{['createPhys'+'icalShape'](_0xb85ea2,_0xad0d3){const _0x5db02e=_0xad0d3['axis']??-0x6*0x152+-0x1350+0x1b3d,_0x1e5b18=_0xad0d3['radius']??-0x1365+0x3*0xf1+0x1092+0.5,_0x47c2a7=_0xad0d3['height']??0xf17+-0x2*0x187+0x302*-0x4;let _0x4c74c9=null;if(typeof Ammo<'u')switch(_0x5db02e){case 0x2001+-0x52b+-0x1ad6:_0x4c74c9=new Ammo['btConeShap'+'eX'](_0x1e5b18,_0x47c2a7);break;case-0xcc9*0x2+0xae5+0xeae:_0x4c74c9=new Ammo['btConeShap'+'e'](_0x1e5b18,_0x47c2a7);break;case-0x1585+-0x1011+-0x12cc*-0x2:_0x4c74c9=new Ammo['btConeShap'+'eZ'](_0x1e5b18,_0x47c2a7);break;}return _0x4c74c9;}}class rR extends Ca{['beforeInit'+'ialize'](_0x1f9abd,_0x307fa1){}['createAmmo'+'Hull'](_0x529260,_0x345d00,_0x4184ec,_0x542185){const _0x395949=new Ammo['btConvexHu'+'llShape'](),_0x1629c7=new Ammo['btVector3'](),_0x5b1bb0=[];_0x529260['getPositio'+'ns'](_0x5b1bb0);for(let _0x1291a4=-0x191*0xd+0x1*0x5fd+0xe60;_0x1291a4<_0x5b1bb0['length'];_0x1291a4+=0x100d+-0xc93+-0x377)_0x1629c7['setValue'](_0x5b1bb0[_0x1291a4]*_0x542185['x'],_0x5b1bb0[_0x1291a4+(-0x616+0x4da+0x13d)]*_0x542185['y'],_0x5b1bb0[_0x1291a4+(0x3*-0x1dd+0x46*0x36+-0x92b)]*_0x542185['z']),_0x395949['addPoint'](_0x1629c7,!(0x683*0x2+-0x29*0x52+0x1d*0x1));Ammo['destroy'](_0x1629c7),_0x395949['recalcLoca'+'lAabb'](),_0x395949['setMargin'](-0x15f5+-0x1800+0x41*0xb5+0.01);const _0x11c060=this['system']['_getNodeTr'+'ansform'](_0x345d00);_0x4184ec['addChildSh'+'ape'](_0x11c060,_0x395949),Ammo['destroy'](_0x11c060);}['createAmmo'+'Mesh'](_0x3f6616,_0x479de3,_0x2f3f1e,_0x38ed44,_0x54d1ef=!(0x590*0x1+0x870+-0xe00)){const _0x450dcf=this['system'];let _0x42879f;if(_0x450dcf['_triMeshCa'+'che'][_0x3f6616['id']])_0x42879f=_0x450dcf['_triMeshCa'+'che'][_0x3f6616['id']];else{const _0x3e3688=_0x3f6616['vertexBuff'+'er'],_0x3669f7=_0x3e3688['getFormat']();let _0x25f637,_0x5a3ba2;for(let _0x2dc888=0x1*-0xba3+-0x9f*-0x2f+0x2ed*-0x6;_0x2dc888<_0x3669f7['elements']['length'];_0x2dc888++){const _0x4a4600=_0x3669f7['elements'][_0x2dc888];if(_0x4a4600['name']===Me){_0x5a3ba2=new Float32Array(_0x3e3688['lock'](),_0x4a4600['offset']),_0x25f637=_0x4a4600['stride']/(-0x2098+-0x43*0x9+0x22f7);break;}}const _0x30d4b1=[];_0x3f6616['getIndices'](_0x30d4b1);const _0xeb121f=_0x3f6616['primitive'][0xa81+-0x164*-0x4+-0x1011]['count']/(-0x1e05+0x565+0x385*0x7),_0x3c618d=new Ammo['btVector3']();let _0x2f6c85,_0x5d7a91,_0x486fd6;const _0x3dee39=_0x3f6616['primitive'][0x295*0x6+0x3*-0xec+0xb5*-0x12]['base'];_0x42879f=new Ammo['btTriangle'+'Mesh'](),_0x450dcf['_triMeshCa'+'che'][_0x3f6616['id']]=_0x42879f;const _0x4c5069=new Map();w['assert'](typeof _0x42879f['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x535cb9=_0x42879f['getIndexed'+'MeshArray']();_0x535cb9['at'](0x7bf*-0x3+0x2c*-0x83+0x2dc1)['m_numTrian'+'gles']=_0xeb121f;const _0x5aa932=_0x38ed44?_0x38ed44['x']:0x874*-0x4+0x1ea9+0x328,_0x28084b=_0x38ed44?_0x38ed44['y']:0x205e+0x127b+0x32d8*-0x1,_0x2a61d2=_0x38ed44?_0x38ed44['z']:0xe2e+-0x1908+-0x7*-0x18d,_0x9eb392=_0x2dfb80=>{const _0x1e4fdd=_0x5a3ba2[_0x2dfb80*_0x25f637]*_0x5aa932,_0x482c9d=_0x5a3ba2[_0x2dfb80*_0x25f637+(-0x11ff+-0x190e+0x2b0e)]*_0x28084b,_0x2fee48=_0x5a3ba2[_0x2dfb80*_0x25f637+(0x1389*-0x1+0x18f7+0x1*-0x56c)]*_0x2a61d2;let _0xb09f8f;if(_0x54d1ef){const _0xab6b9c=_0x1e4fdd+':'+_0x482c9d+':'+_0x2fee48;if(_0xb09f8f=_0x4c5069['get'](_0xab6b9c),_0xb09f8f!==void(-0x1ea9+-0x62*-0x62+-0x6db*0x1))return _0xb09f8f;_0x3c618d['setValue'](_0x1e4fdd,_0x482c9d,_0x2fee48),_0xb09f8f=_0x42879f['findOrAddV'+'ertex'](_0x3c618d,!(0x3*0xceb+0x1003+0x3*-0x1241)),_0x4c5069['set'](_0xab6b9c,_0xb09f8f);}else _0x3c618d['setValue'](_0x1e4fdd,_0x482c9d,_0x2fee48),_0xb09f8f=_0x42879f['findOrAddV'+'ertex'](_0x3c618d,!(0x1a24+-0x29*-0x53+-0x276e));return _0xb09f8f;};for(let _0x53ae74=-0x7*-0x6a+0x217+-0x4fd;_0x53ae74<_0xeb121f;_0x53ae74++)_0x2f6c85=_0x9eb392(_0x30d4b1[_0x3dee39+_0x53ae74*(0x1321+0x7*-0x38f+0x1*0x5cb)]),_0x5d7a91=_0x9eb392(_0x30d4b1[_0x3dee39+_0x53ae74*(0x25c5+-0x1*-0x15bb+0x3b7d*-0x1)+(-0x2610+0x3*0x6d5+0xd*0x15a)]),_0x486fd6=_0x9eb392(_0x30d4b1[_0x3dee39+_0x53ae74*(0x2422+0x2593+-0x49b2)+(0x72c*0x1+-0x311+-0x419)]),_0x42879f['addIndex'](_0x2f6c85),_0x42879f['addIndex'](_0x5d7a91),_0x42879f['addIndex'](_0x486fd6);Ammo['destroy'](_0x3c618d);}const _0x583b60=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x42879f,!(0xbc3+0x1e1d+-0x29e0));if(!_0x38ed44){const _0x55d4c8=_0x450dcf['_getNodeSc'+'aling'](_0x479de3);_0x583b60['setLocalSc'+'aling'](_0x55d4c8),Ammo['destroy'](_0x55d4c8);}const _0x5161f7=_0x450dcf['_getNodeTr'+'ansform'](_0x479de3);_0x2f3f1e['addChildSh'+'ape'](_0x5161f7,_0x583b60),Ammo['destroy'](_0x5161f7);}['createPhys'+'icalShape'](_0x52ee5b,_0x2ab7d3){if(!(typeof Ammo>'u')&&(_0x2ab7d3['model']||_0x2ab7d3['render'])){const _0x299b17=new Ammo['btCompound'+'Shape'](),_0xb83f3=_0x52ee5b['getWorldTr'+'ansform']()['getScale']();if(_0x2ab7d3['render']){const _0x187391=_0x2ab7d3['render']['meshes'];for(let _0x399033=0x264d+0x8*-0x4ca+0x3;_0x399033<_0x187391['length'];_0x399033++)_0x2ab7d3['convexHull']?this['createAmmo'+'Hull'](_0x187391[_0x399033],$g,_0x299b17,_0xb83f3):this['createAmmo'+'Mesh'](_0x187391[_0x399033],$g,_0x299b17,_0xb83f3,_0x2ab7d3['checkVerte'+'xDuplicate'+'s']);}else{if(_0x2ab7d3['model']){const _0x2dd721=_0x2ab7d3['model']['meshInstan'+'ces'];for(let _0x2bf431=0x2d2+-0x35*0xa+-0xc0;_0x2bf431<_0x2dd721['length'];_0x2bf431++)this['createAmmo'+'Mesh'](_0x2dd721[_0x2bf431]['mesh'],_0x2dd721[_0x2bf431]['node'],_0x299b17,null,_0x2ab7d3['checkVerte'+'xDuplicate'+'s']);const _0xa25277=new Ammo['btVector3'](_0xb83f3['x'],_0xb83f3['y'],_0xb83f3['z']);_0x299b17['setLocalSc'+'aling'](_0xa25277),Ammo['destroy'](_0xa25277);}}return _0x299b17;}}['recreatePh'+'ysicalShap'+'es'](_0x9d789){const _0x503fe4=_0x9d789['data'];if((_0x503fe4['renderAsse'+'t']||_0x503fe4['asset'])&&_0x9d789['enabled']&&_0x9d789['entity']['enabled']){this['loadAsset'](_0x9d789,_0x503fe4['renderAsse'+'t']||_0x503fe4['asset'],_0x503fe4['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x9d789);}['loadAsset'](_0x8bcda8,_0x492663,_0x29bde7){const _0x2bd3f4=_0x8bcda8['data'],_0x37f001=this['system']['app']['assets'],_0x45f806=_0x2bd3f4[_0x29bde7],_0x5e4a3f=_0x8dd596=>{_0x2bd3f4[_0x29bde7]===_0x45f806&&(_0x2bd3f4[_0x29bde7]=_0x8dd596['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x8bcda8));},_0x58bfcd=_0x5be076=>{_0x5be076['ready'](_0x3778b2=>{if(_0x3778b2['data']['containerA'+'sset']){const _0x321ed=_0x37f001['get'](_0x3778b2['data']['containerA'+'sset']);_0x321ed['loaded']?_0x5e4a3f(_0x3778b2):(_0x321ed['ready'](()=>{_0x5e4a3f(_0x3778b2);}),_0x37f001['load'](_0x321ed));}else _0x5e4a3f(_0x3778b2);}),_0x37f001['load'](_0x5be076);},_0x51da6a=_0x37f001['get'](_0x492663);_0x51da6a?_0x58bfcd(_0x51da6a):_0x37f001['once']('add:'+_0x492663,_0x58bfcd);}['doRecreate'+'PhysicalSh'+'ape'](_0x3d0902){const _0x128896=_0x3d0902['entity'],_0x276a02=_0x3d0902['data'];_0x276a02['model']||_0x276a02['render']?(this['destroySha'+'pe'](_0x276a02),_0x276a02['shape']=this['createPhys'+'icalShape'](_0x128896,_0x276a02),_0x128896['rigidbody']?(_0x128896['rigidbody']['disableSim'+'ulation'](),_0x128896['rigidbody']['createBody'](),_0x128896['enabled']&&_0x128896['rigidbody']['enabled']&&_0x128896['rigidbody']['enableSimu'+'lation']()):_0x128896['trigger']?_0x128896['trigger']['initialize'](_0x276a02):_0x128896['trigger']=new Kv(this['system']['app'],_0x3d0902,_0x276a02)):(this['beforeRemo'+'ve'](_0x128896,_0x3d0902),this['remove'](_0x128896,_0x276a02));}['updateTran'+'sform'](_0x4d3dfd,_0x3b373f,_0x4862e7,_0x107a66){if(_0x4d3dfd['shape']){const _0x46c2de=_0x4d3dfd['entity']['getWorldTr'+'ansform']()['getScale'](),_0x2f5935=_0x4d3dfd['shape']['getLocalSc'+'aling']();(_0x46c2de['x']!==_0x2f5935['x']()||_0x46c2de['y']!==_0x2f5935['y']()||_0x46c2de['z']!==_0x2f5935['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x4d3dfd);}super['updateTran'+'sform'](_0x4d3dfd,_0x3b373f,_0x4862e7,_0x107a66);}['destroySha'+'pe'](_0x3ce37b){if(!_0x3ce37b['shape'])return;const _0x2af7f5=_0x3ce37b['shape']['getNumChil'+'dShapes']();for(let _0x4e614c=0xb2d+-0xe0+0x9*-0x125;_0x4e614c<_0x2af7f5;_0x4e614c++){const _0x23f0f0=_0x3ce37b['shape']['getChildSh'+'ape'](_0x4e614c);Ammo['destroy'](_0x23f0f0);}Ammo['destroy'](_0x3ce37b['shape']),_0x3ce37b['shape']=null;}}class aR extends Ca{['createPhys'+'icalShape'](_0x4c98ca,_0x5650da){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x209af9){!_0x209af9['collision']||_0x209af9['rigidbody']||(_0x209af9['collision']['_compoundP'+'arent']=this,_0x209af9!==this['entity']&&_0x209af9['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x209af9['collision']));}['_updateEac'+'hDescendan'+'t'](_0x1cd465){_0x1cd465['collision']&&_0x1cd465['collision']['_compoundP'+'arent']===this&&(_0x1cd465['collision']['_compoundP'+'arent']=null,_0x1cd465!==this['entity']&&!_0x1cd465['rigidbody']&&_0x1cd465['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x1cd465['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x2fe350){!_0x2fe350['collision']||_0x2fe350['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x2fe350,!(-0x1ef3+-0x121*-0x9+0x14cb*0x1));}}class nR extends ct{constructor(_0x7c4d00){super(_0x7c4d00),this['id']='collision',this['ComponentT'+'ype']=rn,this['DataType']=XL,this['schema']=QL,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x53d257,_0xf0153f,_0x49175f){_0x49175f=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x604b5c={};for(let _0x561228=-0x128e+-0x955+0x79*0x3b,_0x10d413=_0x49175f['length'];_0x561228<_0x10d413;_0x561228++){const _0x47bb79=_0x49175f[_0x561228];_0x604b5c[_0x47bb79]=_0xf0153f[_0x47bb79];}let _0x59b2ab;if(_0xf0153f['hasOwnProp'+'erty']('asset')?(_0x59b2ab=_0x49175f['indexOf']('model'),_0x59b2ab!==-(0x1*0xe59+0x5bc*0x4+-0x8*0x4a9)&&_0x49175f['splice'](_0x59b2ab,0x2*0x33b+0x1ede+-0x2553),_0x59b2ab=_0x49175f['indexOf']('render'),_0x59b2ab!==-(-0x232+-0xc89*-0x1+0x31*-0x36)&&_0x49175f['splice'](_0x59b2ab,-0x1ffa*-0x1+0x907+-0x2900*0x1)):_0xf0153f['hasOwnProp'+'erty']('model')&&(_0x59b2ab=_0x49175f['indexOf']('asset'),_0x59b2ab!==-(-0x1f92+-0x527*0x1+0x24ba)&&_0x49175f['splice'](_0x59b2ab,0x5*-0x208+-0xa07+0x1430)),_0x604b5c['type']||(_0x604b5c['type']=_0x53d257['data']['type']),_0x53d257['data']['type']=_0x604b5c['type'],Array['isArray'](_0x604b5c['halfExtent'+'s'])&&(_0x604b5c['halfExtent'+'s']=new D(_0x604b5c['halfExtent'+'s'])),Array['isArray'](_0x604b5c['linearOffs'+'et'])&&(_0x604b5c['linearOffs'+'et']=new D(_0x604b5c['linearOffs'+'et'])),Array['isArray'](_0x604b5c['angularOff'+'set'])){const _0x273800=_0x604b5c['angularOff'+'set'];_0x273800['length']===0x1db8+0x86b+0x988*-0x4?_0x604b5c['angularOff'+'set']=new le()['setFromEul'+'erAngles'](_0x273800[0x5*-0x1f5+-0x1e*-0x135+-0x1c3*0xf],_0x273800[-0xd*0x2dd+0x15b8+0xf82],_0x273800[0xeda+-0x1224+-0xd3*-0x4]):_0x604b5c['angularOff'+'set']=new le(_0x604b5c['angularOff'+'set']);}const _0x22f801=this['_createImp'+'lementatio'+'n'](_0x604b5c['type']);_0x22f801['beforeInit'+'ialize'](_0x53d257,_0x604b5c),super['initialize'+'ComponentD'+'ata'](_0x53d257,_0x604b5c,_0x49175f),_0x22f801['afterIniti'+'alize'](_0x53d257,_0x604b5c);}['_createImp'+'lementatio'+'n'](_0x121b39){if(this['implementa'+'tions'][_0x121b39]===void(0xe*0x21f+-0x11*-0x83+0x2665*-0x1)){let _0x14953c;switch(_0x121b39){case'box':_0x14953c=new JL(this);break;case'sphere':_0x14953c=new eR(this);break;case'capsule':_0x14953c=new tR(this);break;case'cylinder':_0x14953c=new sR(this);break;case'cone':_0x14953c=new iR(this);break;case'mesh':_0x14953c=new rR(this);break;case'compound':_0x14953c=new aR(this);break;default:w['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x121b39);}this['implementa'+'tions'][_0x121b39]=_0x14953c;}return this['implementa'+'tions'][_0x121b39];}['_getImplem'+'entation'](_0x23ad84){return this['implementa'+'tions'][_0x23ad84['collision']['data']['type']];}['cloneCompo'+'nent'](_0x4a0ad3,_0xd5e89b){return this['_getImplem'+'entation'](_0x4a0ad3)['clone'](_0x4a0ad3,_0xd5e89b);}['onBeforeRe'+'move'](_0x16f583,_0x5c2d6c){this['implementa'+'tions'][_0x5c2d6c['data']['type']]['beforeRemo'+'ve'](_0x16f583,_0x5c2d6c),_0x5c2d6c['onBeforeRe'+'move']();}['onRemove'](_0x330542,_0x54a114){this['implementa'+'tions'][_0x54a114['type']]['remove'](_0x330542,_0x54a114);}['updateComp'+'oundChildT'+'ransform'](_0x58dbef,_0x155c4f){const _0x58d5aa=_0x58dbef['collision']['_compoundP'+'arent'];if(_0x58d5aa!==_0x58dbef['collision']&&_0x58dbef['enabled']&&_0x58dbef['collision']['enabled']&&(_0x58dbef['_dirtyLoca'+'l']||_0x155c4f)){const _0x3150b7=this['_getNodeTr'+'ansform'](_0x58dbef,_0x58d5aa['entity']),_0x534093=_0x58d5aa['getCompoun'+'dChildShap'+'eIndex'](_0x58dbef['collision']['shape']);_0x534093===null?_0x58d5aa['shape']['addChildSh'+'ape'](_0x3150b7,_0x58dbef['collision']['data']['shape']):_0x58d5aa['shape']['updateChil'+'dTransform'](_0x534093,_0x3150b7,!(-0x1e*-0x68+0x2*0x11c3+-0x17db*0x2)),Ammo['destroy'](_0x3150b7);}}['_removeCom'+'poundChild'](_0x560d05,_0x133582){if(_0x560d05['shape']['getNumChil'+'dShapes']()!==0x18*-0xfc+-0x1*0x16ed+0x2e8d){if(_0x560d05['shape']['removeChil'+'dShape'])_0x560d05['shape']['removeChil'+'dShape'](_0x133582);else{const _0x38c105=_0x560d05['getCompoun'+'dChildShap'+'eIndex'](_0x133582);_0x38c105!==null&&_0x560d05['shape']['removeChil'+'dShapeByIn'+'dex'](_0x38c105);}}}['onTransfor'+'mChanged'](_0x3c04a9,_0x57dd3d,_0x50a5be,_0x46049f){this['implementa'+'tions'][_0x3c04a9['data']['type']]['updateTran'+'sform'](_0x3c04a9,_0x57dd3d,_0x50a5be,_0x46049f);}['changeType'](_0x1b74b5,_0x443f8e,_0x44ac93){this['implementa'+'tions'][_0x443f8e]['beforeRemo'+'ve'](_0x1b74b5['entity'],_0x1b74b5),this['implementa'+'tions'][_0x443f8e]['remove'](_0x1b74b5['entity'],_0x1b74b5['data']),this['_createImp'+'lementatio'+'n'](_0x44ac93)['reset'](_0x1b74b5,_0x1b74b5['data']);}['recreatePh'+'ysicalShap'+'es'](_0x1fa065){this['implementa'+'tions'][_0x1fa065['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x1fa065);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x205faa,_0x3056e0){if(_0x205faa===_0x3056e0){const _0x18bffd=_0x205faa['getWorldTr'+'ansform']()['getScale']();wc['setScale'](_0x18bffd['x'],_0x18bffd['y'],_0x18bffd['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x205faa['parent'],_0x3056e0),wc['mul'](_0x205faa['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x19828e){const _0x3c12eb=_0x19828e['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x3c12eb['x'],_0x3c12eb['y'],_0x3c12eb['z']);}['_getNodeTr'+'ansform'](_0xee92e3,_0x3c85ab){let _0x40d227,_0x421ec0;_0x3c85ab?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0xee92e3,_0x3c85ab),_0x40d227=KL,_0x421ec0=Vr,wc['getTransla'+'tion'](_0x40d227),_0x421ec0['setFromMat'+'4'](wc)):(_0x40d227=_0xee92e3['getPositio'+'n'](),_0x421ec0=_0xee92e3['getRotatio'+'n']());const _0x261bd0=new Ammo['btQuaterni'+'on'](),_0x5f5686=new Ammo['btTransfor'+'m']();_0x5f5686['setIdentit'+'y']();const _0x152923=_0x5f5686['getOrigin'](),_0x5411a4=_0xee92e3['collision'];if(_0x5411a4&&_0x5411a4['_hasOffset']){const _0x14353a=_0x5411a4['data']['linearOffs'+'et'],_0x4b3ae8=_0x5411a4['data']['angularOff'+'set'],_0xcf7634=ZL;Vr['copy'](_0x421ec0)['transformV'+'ector'](_0x14353a,_0xcf7634),_0xcf7634['add'](_0x40d227),Vr['copy'](_0x421ec0)['mul'](_0x4b3ae8),_0x152923['setValue'](_0xcf7634['x'],_0xcf7634['y'],_0xcf7634['z']),_0x261bd0['setValue'](Vr['x'],Vr['y'],Vr['z'],Vr['w']);}else _0x152923['setValue'](_0x40d227['x'],_0x40d227['y'],_0x40d227['z']),_0x261bd0['setValue'](_0x421ec0['x'],_0x421ec0['y'],_0x421ec0['z'],_0x421ec0['w']);return _0x5f5686['setRotatio'+'n'](_0x261bd0),Ammo['destroy'](_0x261bd0),_0x5f5686;}['destroy'](){for(const _0x117d23 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x117d23]);this['_triMeshCa'+'che']=null,super['destroy']();}}const Ec=new ie(),oR=new Kt();class lR{constructor(_0x3f5780,_0x37ba8a,_0x1776d2){this['_entity']=_0x3f5780,this['_element']=_0x3f5780['element'],this['model']=new sr(),this['node']=new Ie(),this['model']['graph']=this['node'],this['mesh']=_0x37ba8a,this['meshInstan'+'ce']=new He(this['mesh'],_0x1776d2,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x3f5780['name'],this['meshInstan'+'ce']['castShadow']=!(-0x2*0x124+-0x21c7+0x4*0x904),this['meshInstan'+'ce']['receiveSha'+'dow']=!(0x2*0x90a+-0x1*-0x116+-0x1329),this['_meshDirty']=!(0x1*-0xcc9+0x26cd+-0x1a03*0x1),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x2bc860,_0x41e11d;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x2bc860=this['meshInstan'+'ce'])==null||_0x2bc860['destroy'](),this['meshInstan'+'ce']=null,(_0x41e11d=this['unmaskMesh'+'Instance'])==null||_0x41e11d['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x468a9a){this['meshInstan'+'ce']&&(this['mesh']=_0x468a9a,this['meshInstan'+'ce']['mesh']=_0x468a9a,this['meshInstan'+'ce']['visible']=!!_0x468a9a,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x468a9a),this['forceUpdat'+'eAabb']());}['setMask'](_0x5a6c08){var _0xc07a95;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x5a6c08){this['unmaskMesh'+'Instance']=new He(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(-0x3*0xf9+0x45*-0x7c+0x2458),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(-0x24a*-0x1+-0x141d+0x28c*0x7),this['unmaskMesh'+'Instance']['pick']=!(0x137d+0x3*0xaee+-0x1a23*0x2),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x13224e in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x13224e,this['meshInstan'+'ce']['parameters'][_0x13224e]['data']);}else{const _0x5212d4=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x5212d4>=0x2*0x50b+0x1*-0x18e9+-0x2f7*-0x5&&this['model']['meshInstan'+'ces']['splice'](_0x5212d4,-0x1441+-0x5a2+0x19e4);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x5a6c08||((_0xc07a95=this['unmaskMesh'+'Instance'])==null||_0xc07a95['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x27135e){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x27135e,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x27135e));}['setParamet'+'er'](_0x455514,_0x107859){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x455514,_0x107859),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x455514,_0x107859));}['deletePara'+'meter'](_0x201725){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x201725),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x201725));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x3664a6=function(_0x13a763){let _0x1d6d99;const _0x57bbe6=_0x13a763['children'],_0x408dc3=_0x57bbe6['length'];if(_0x408dc3){for(let _0x279343=-0x1*-0x1e54+-0x11e7+0x1*-0xc6d;_0x279343<_0x408dc3;_0x279343++)_0x57bbe6[_0x279343]['element']&&(_0x1d6d99=_0x57bbe6[_0x279343]);if(!_0x1d6d99)return null;const _0x596cce=_0x3664a6(_0x1d6d99);return _0x596cce||_0x1d6d99;}return null;};if(this['unmaskMesh'+'Instance']){const _0x32dd8c=_0x3664a6(this['_entity']);_0x32dd8c&&_0x32dd8c['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x32dd8c['element']['drawOrder']+_0x32dd8c['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),w['trace'](Vs,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x3cf59c){this['meshInstan'+'ce']&&(w['trace'](Vs,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x3cf59c),this['meshInstan'+'ce']['drawOrder']=_0x3cf59c);}['setCull'](_0xb3418b){if(!this['meshInstan'+'ce'])return;const _0x1ffe5a=this['_element'];let _0x29d422=null;_0xb3418b&&_0x1ffe5a['_isScreenS'+'pace']()&&(_0x29d422=function(_0x46e076){return _0x1ffe5a['isVisibleF'+'orCamera'](_0x46e076);}),this['meshInstan'+'ce']['cull']=_0xb3418b,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x29d422,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0xb3418b,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x29d422);}['setScreenS'+'pace'](_0x5c5b49){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x5c5b49,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x5c5b49));}['setLayer'](_0x40e99e){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x40e99e,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x40e99e));}['forceUpdat'+'eAabb'](_0x25ad1c){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(0x206d+0x76e*-0x3+-0xa22),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(0x158+0x886+0x5*-0x1f9)));}['setAabbFun'+'c'](_0x3504ab){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x3504ab,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x3504ab));}}class cR{constructor(_0x58a3b8){h(this,'_evtSetMes'+'hes',null),(this['_element']=_0x58a3b8,this['_entity']=_0x58a3b8['entity'],this['_system']=_0x58a3b8['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0x1c9e+0x25c0+-0x922,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(0x73*-0x2f+0x1a96+0x1c*-0x32),this['_rect']=new re(-0x26a3+0x1f0+0x24b3,-0x1f*0x3b+0x1*-0x21d5+0x419*0xa,0xfbb*0x1+-0x8b4+-0x706,-0x1*-0x263f+-0x240b*0x1+-0x233),this['_mask']=!(-0x823*-0x1+0x20da+-0x28fc),this['_maskRef']=-0x1f11+0xf1*-0x19+0x1e2*0x1d,this['_outerScal'+'e']=new J(),this['_outerScal'+'eUniform']=new Float32Array(0x53*0x71+0x1e9f*-0x1+-0x1*0x602),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(0x24d2+-0x1*-0x2006+-0x2*0x226a),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(-0x96*-0x2d+0xb26+-0x2580),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new lR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new ie(0x104+0x1*0x11b6+-0x12b9*0x1,0x2*0x311+0x3b9*-0x6+0x1*0x1035,-0x259a+0x2*-0x29b+0x2ad1,0x2*-0x86a+-0x1915+0x29ea),this['_colorUnif'+'orm']=new Float32Array([0x1cb9+0xbf*-0x1+0xb*-0x28b,-0xc58*0x2+-0x2117+0x1*0x39c8,0x48c+-0x1780+0x12f5]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',0xd*-0x14d+-0x1d22+0x2e0c),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x4055f0){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x4ced01){this['_updateMat'+'erial'](_0x4ced01);}['_onScreenC'+'hange'](_0xe83600,_0x3ba580){_0xe83600?this['_updateMat'+'erial'](_0xe83600['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0xfb*0x5+-0x2*0xb10+-0x372*-0x5));}['_onDrawOrd'+'erChange'](_0x2305cc){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x2305cc),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(0x1741*0x1+0x8ab+-0x1feb);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt);}['_updateMat'+'erial'](_0x29d34f){const _0x1ef6b0=!!this['_mask'],_0x1b31e4=!!(this['sprite']&&this['sprite']['renderMode']===Pt),_0x4b33f5=!!(this['sprite']&&this['sprite']['renderMode']===Mt);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x29d34f,_0x1ef6b0,_0x1b31e4,_0x4b33f5)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x29d34f),this['_renderabl'+'e']['setLayer'](_0x29d34f?Ow:Ky));}['_createMes'+'h'](){const _0x12c49c=this['_element'],_0x35e7e2=_0x12c49c['calculated'+'Width'],_0x537f95=_0x12c49c['calculated'+'Height'],_0xcdab23=this['_rect'],_0x137a44=this['_system']['app']['graphicsDe'+'vice'],_0x127ff4=new Float32Array([_0x35e7e2,-0xedc+0xec9+0x13,0x1*0x1fdd+0x5*-0x5a7+-0x39a,0x271+-0x95*0x42+0x23f9,-0x1d73+0x165+0x1c0e,-0xa78+-0x2445+0x2ebe,_0xcdab23['x']+_0xcdab23['z'],0x3*0x29+0x2*-0x29b+0x6*0xca-_0xcdab23['y'],_0x35e7e2,_0x537f95,0xbf6*0x1+-0x15f2*0x1+0x12*0x8e,-0x1698+0x39e*-0x8+0x3388,0x2045+0x56f*-0x1+-0x1ad6,0xe2c*-0x1+-0x1138+0x1a7*0x13,_0xcdab23['x']+_0xcdab23['z'],0x1865+0x18e1+-0x3145*0x1-(_0xcdab23['y']+_0xcdab23['w']),-0x371*-0x9+0x16e5+-0x35de,-0x20ef*-0x1+0xea1+-0x4*0xbe4,-0x1989+0x1c99*-0x1+0x3622,-0x14dd+-0x6bf+0x1b9c,0x24a3*-0x1+0xe12*-0x1+0x32b5,0xb9f+0xadc+-0x19b*0xe,_0xcdab23['x'],-0x23eb+-0x448+0x2834-_0xcdab23['y'],0x103e+0x12bc+-0x22fa,_0x537f95,-0x542*-0x2+-0x2*0x901+-0x89*-0xe,-0x4*0x2ea+-0x8*0x1d0+0x1a28,-0x3*0x1a+0xe2d+-0xddf,-0x77c*-0x1+-0x72d+-0x4e,_0xcdab23['x'],-0x2*-0x3e1+-0x1*-0x545+-0xd06-(_0xcdab23['y']+_0xcdab23['w'])]),_0x467100=oR['get'](_0x137a44,()=>new kt(_0x137a44,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':gs,'components':0x3,'type':Ve},{'semantic':is,'components':0x2,'type':Ve}])),_0x13473d=new Is(_0x137a44,_0x467100,-0x357*0xb+-0x17a3+0x3c64,{'data':_0x127ff4['buffer']}),_0x497db8=new Ge(_0x137a44);return _0x497db8['vertexBuff'+'er']=_0x13473d,_0x497db8['primitive'][0x1997+0x1c24+0x3*-0x11e9]['type']=Er,_0x497db8['primitive'][0x5f0+0x110b+-0x25*0x9f]['base']=-0x8*0xa1+0x19b*0x3+-0x1*-0x37,_0x497db8['primitive'][-0xafb+0xcee+-0x1*0x1f3]['count']=-0x1af*0x17+-0x12f5+0xb8a*0x5,_0x497db8['primitive'][0x2*-0x940+0xa6*0x1d+-0x4e]['indexed']=!(0x1211+0x2417+-0x3627),_0x497db8['aabb']['setMinMax'](D['ZERO'],new D(_0x35e7e2,_0x537f95,0x1*0x153e+-0x1b2f+-0xd*-0x75)),this['_updateMes'+'h'](_0x497db8),_0x497db8;}['_updateMes'+'h'](_0x418b57){const _0x29b4ad=this['_element'];let _0x14ade8=_0x29b4ad['calculated'+'Width'],_0x3864d4=_0x29b4ad['calculated'+'Height'];if(_0x29b4ad['fitMode']!==th&&this['_targetAsp'+'ectRatio']>-0x3*0x4d9+-0x1*-0xf29+-0x1*0x9e){const _0x4663a4=_0x29b4ad['calculated'+'Width']/_0x29b4ad['calculated'+'Height'];_0x29b4ad['fitMode']===GL&&_0x4663a4>this['_targetAsp'+'ectRatio']||_0x29b4ad['fitMode']===HL&&_0x4663a4<this['_targetAsp'+'ectRatio']?_0x14ade8=_0x29b4ad['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x3864d4=_0x29b4ad['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x93bea9=_0x29b4ad['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x93bea9),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){const _0x3dfaa6=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x4bca8f=(-0x22c*0x7+0x184f+-0x89*0x11)/_0x3dfaa6['rect']['z'],_0x5309c7=(0x16*0xc6+-0x12cd*0x2+0x1498)/_0x3dfaa6['rect']['w'];this['_innerOffs'+'et']['set'](_0x3dfaa6['border']['x']*_0x4bca8f,_0x3dfaa6['border']['y']*_0x5309c7,_0x3dfaa6['border']['z']*_0x4bca8f,_0x3dfaa6['border']['w']*_0x5309c7);const _0x30d866=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x3dfaa6['rect']['x']/_0x30d866['width'],_0x3dfaa6['rect']['y']/_0x30d866['height'],_0x3dfaa6['rect']['z']/_0x30d866['width'],_0x3dfaa6['rect']['w']/_0x30d866['height']);const _0x91db8f=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x1aa3e5=_0x3dfaa6['rect']['z']/_0x91db8f,_0x8af2d4=_0x3dfaa6['rect']['w']/_0x91db8f;this['_outerScal'+'e']['set'](Math['max'](_0x14ade8,this['_innerOffs'+'et']['x']*_0x1aa3e5),Math['max'](_0x3864d4,this['_innerOffs'+'et']['y']*_0x8af2d4));let _0x379bec=_0x1aa3e5,_0x1c188b=_0x8af2d4;this['_outerScal'+'e']['x']/=_0x1aa3e5,this['_outerScal'+'e']['y']/=_0x8af2d4,_0x379bec*=Y['clamp'](_0x14ade8/(this['_innerOffs'+'et']['x']*_0x1aa3e5),-0xbb0+-0x1af5+-0x1*-0x26a5+0.0001,0x109+0x29*-0x12+0x1da),_0x1c188b*=Y['clamp'](_0x3864d4/(this['_innerOffs'+'et']['y']*_0x8af2d4),0x1dd+-0x3ae*0x2+0x57f+0.0001,-0x117e*0x2+0x7e5+-0x88*-0x33),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][-0xdc+0x367+0x15*-0x1f]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x8df+0x2*-0x157+-0x630]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x11ed+-0x1622+0x437]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x262b+0x1*-0xda3+0x33d1]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x19ac+0x51*-0x17+0x20f3]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0xdc4+0x3*-0x7ac+-0x941*-0x1]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x150d+0x1*-0xd0d+-0x1*0x7fe]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x1853+-0x3*0xada+0x38e4]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][-0x3a*0x38+-0x21bf*0x1+0x2e6f*0x1]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0xb41+0x3*0x24+0xad6]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x379bec,_0x1c188b,0xfee*0x1+0x1e8e+-0x2e7b),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((0xc43+-0x75f*0x3+0x9da+0.5-_0x29b4ad['pivot']['x'])*_0x14ade8,(0xfec+0x257f+-0x356b+0.5-_0x29b4ad['pivot']['y'])*_0x3864d4,-0x25c7+-0x1f6f+0x4536));}else{const _0x277fed=_0x418b57['vertexBuff'+'er'],_0x16cab5=new Float32Array(_0x277fed['lock']()),_0xf92418=_0x29b4ad['pivot']['x'],_0x5bc821=_0x29b4ad['pivot']['y'];_0x16cab5[-0x2*0xc31+-0x68*-0xe+0x12b2]=_0x14ade8-_0xf92418*_0x14ade8,_0x16cab5[0x26d8+-0x13a*-0xc+-0x358f]=0xb36*-0x1+0x597+0x59f-_0x5bc821*_0x3864d4,_0x16cab5[0x1*-0x158d+-0x1738+0x2ccd]=_0x14ade8-_0xf92418*_0x14ade8,_0x16cab5[0x7d4*0x3+0x1c85+0x19fc*-0x2]=_0x3864d4-_0x5bc821*_0x3864d4,_0x16cab5[0x232b+-0x6c*0x3d+-0x1*0x95f]=0x63*0x51+0xa82+-0x29d5-_0xf92418*_0x14ade8,_0x16cab5[-0x9*0x1a9+0x336*-0x3+-0xc52*-0x2]=0xcd0+0xa8e+-0x175e-_0x5bc821*_0x3864d4,_0x16cab5[-0x11*-0x229+0x1b7c+-0x401d]=0x1*0x61f+0x283*0x5+-0x12ae-_0xf92418*_0x14ade8,_0x16cab5[-0x3a*-0x4f+-0x3d+-0x1190]=_0x3864d4-_0x5bc821*_0x3864d4;let _0x264978=-0x18e3+-0xac+0x1990,_0x4b7651=0x1796+0x158c+0x2d21*-0x1,_0x41c554=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x4e57c7=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x4e57c7&&(_0x41c554=_0x4e57c7['rect'],_0x264978=this['_sprite']['atlas']['texture']['width'],_0x4b7651=this['_sprite']['atlas']['texture']['height']);}_0x16cab5[0x736+-0x22ca+-0xdcd*-0x2]=(_0x41c554['x']+_0x41c554['z'])/_0x264978,_0x16cab5[0x7af*-0x1+-0x1441+-0x1bf7*-0x1]=0x320+-0x1d4b+0x32*0x86-_0x41c554['y']/_0x4b7651,_0x16cab5[-0xa2*-0x20+-0x2*-0xd97+0x17b*-0x20]=(_0x41c554['x']+_0x41c554['z'])/_0x264978,_0x16cab5[-0x2396+0x3*0x751+0xdb2]=0x46e+0x2456+-0x28c3-(_0x41c554['y']+_0x41c554['w'])/_0x4b7651,_0x16cab5[0x21de+-0x466*-0x2+-0x2a94]=_0x41c554['x']/_0x264978,_0x16cab5[0x1*-0x112a+-0x1*-0x1c4b+-0xb0a]=-0x1153*-0x1+-0x1831*0x1+0x6df-_0x41c554['y']/_0x4b7651,_0x16cab5[0x18da*-0x1+-0x25a8+0x3ea0]=_0x41c554['x']/_0x264978,_0x16cab5[0xb58+0x2ce+-0xab*0x15]=0x1db*-0xf+0xef2+0xce4-(_0x41c554['y']+_0x41c554['w'])/_0x4b7651,_0x277fed['unlock']();const _0x67a84e=new D(-0xa5c+0x161e+0x2b*-0x46-_0xf92418*_0x14ade8,0x1235+0x256f+-0x1bd2*0x2-_0x5bc821*_0x3864d4,0x13b4+0x16a*-0x19+-0x7d3*-0x2),_0x25006c=new D(_0x14ade8-_0xf92418*_0x14ade8,_0x3864d4-_0x5bc821*_0x3864d4,-0x922*0x3+0x4*0x4cd+0x832);_0x418b57['aabb']['setMinMax'](_0x67a84e,_0x25006c),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](-0x162d+0x15df+0x4f,0x11*0x23b+0xf50*-0x2+-0x74a,-0x108e+-0xe*0xbb+0x1ac9),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](0xd*0x279+-0x2263+0x23e,0xaec+-0x110*0x1f+0x1604,0x1c*-0xa2+-0x50c+-0xb62*-0x2),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(-0x92*-0x2b+0x1989*0x1+-0x320e);}['_updateSpr'+'ite'](){let _0xd5ad01=!(0xf75*0x1+-0x1*0x1c55+-0xce1*-0x1),_0x124b27=null;if(this['_targetAsp'+'ectRatio']=-(-0x3*-0x51a+-0x199+-0xdb4),this['_sprite']&&this['_sprite']['atlas']){_0x124b27=this['_sprite']['meshes'][this['spriteFram'+'e']],_0xd5ad01=this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt;const _0x151609=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x151609==null?void(0x1315+-0x1*-0x3a1+-0x16b6):_0x151609['rect']['w'])>0x3*-0x731+0x1b18+-0x585&&(this['_targetAsp'+'ectRatio']=_0x151609['rect']['z']/_0x151609['rect']['w']);}this['mesh']=_0xd5ad01?_0x124b27:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x4*-0x2+-0x50+0x8*0xb):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x17fbee){return _0x17fbee['center']['set'](-0x1b84+-0x5d*0x6+0x1db2,0x1*-0x5b3+-0xf07*-0x1+-0x954,-0x26df+-0x16*-0xbb+0x1*0x16cd),_0x17fbee['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x1*0x145a+0xcd*0x2c+-0xee2+0.5),this['_outerScal'+'e']['y']*(0x1332+-0x14a5+0x173+0.5),-0x571+-0x1*0xf4f+0x14c0+0.001),_0x17fbee['setFromTra'+'nsformedAa'+'bb'](_0x17fbee,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x17fbee;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x107404=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x107404),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x23b1cb){this['material']=_0x23b1cb['resource'];}['_onMateria'+'lAdded'](_0x17299e){this['_system']['app']['assets']['off']('add:'+_0x17299e['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x17299e['id']&&this['_bindMater'+'ialAsset'](_0x17299e);}['_bindMater'+'ialAsset'](_0x7cf3d7){this['_entity']['enabled']&&(_0x7cf3d7['on']('load',this['_onMateria'+'lLoad'],this),_0x7cf3d7['on']('change',this['_onMateria'+'lChange'],this),_0x7cf3d7['on']('remove',this['_onMateria'+'lRemove'],this),_0x7cf3d7['resource']?this['_onMateria'+'lLoad'](_0x7cf3d7):this['_system']['app']['assets']['load'](_0x7cf3d7));}['_unbindMat'+'erialAsset'](_0x14189d){_0x14189d['off']('load',this['_onMateria'+'lLoad'],this),_0x14189d['off']('change',this['_onMateria'+'lChange'],this),_0x14189d['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x2a9096){this['_system']['app']['assets']['off']('add:'+_0x2a9096['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x2a9096['id']&&this['_bindTextu'+'reAsset'](_0x2a9096);}['_bindTextu'+'reAsset'](_0x4056d9){this['_entity']['enabled']&&(_0x4056d9['on']('load',this['_onTexture'+'Load'],this),_0x4056d9['on']('change',this['_onTexture'+'Change'],this),_0x4056d9['on']('remove',this['_onTexture'+'Remove'],this),_0x4056d9['resource']?this['_onTexture'+'Load'](_0x4056d9):this['_system']['app']['assets']['load'](_0x4056d9));}['_unbindTex'+'tureAsset'](_0x24c06c){_0x24c06c['off']('load',this['_onTexture'+'Load'],this),_0x24c06c['off']('change',this['_onTexture'+'Change'],this),_0x24c06c['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x2cb84f){this['texture']=_0x2cb84f['resource'];}['_onTexture'+'Change'](_0x4d8ed3){}['_onTexture'+'Remove'](_0x2058bb){}['_onSpriteA'+'ssetAdded'](_0x591367){this['_system']['app']['assets']['off']('add:'+_0x591367['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x591367['id']&&this['_bindSprit'+'eAsset'](_0x591367);}['_bindSprit'+'eAsset'](_0xa68263){this['_entity']['enabled']&&(_0xa68263['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0xa68263['on']('change',this['_onSpriteA'+'ssetChange'],this),_0xa68263['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0xa68263['resource']?this['_onSpriteA'+'ssetLoad'](_0xa68263):this['_system']['app']['assets']['load'](_0xa68263));}['_unbindSpr'+'iteAsset'](_0x5d6728){_0x5d6728['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x5d6728['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x5d6728['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x5d6728['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x5d6728['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x297ab0){if(!_0x297ab0||!_0x297ab0['resource'])this['sprite']=null;else{if(_0x297ab0['resource']['atlas'])this['sprite']=_0x297ab0['resource'];else{const _0x5f3296=_0x297ab0['data']['textureAtl'+'asAsset'];if(_0x5f3296){const _0x1b5189=this['_system']['app']['assets'];_0x1b5189['off']('load:'+_0x5f3296,this['_onTexture'+'AtlasLoad'],this),_0x1b5189['once']('load:'+_0x5f3296,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x33be4a){this['_onSpriteA'+'ssetLoad'](_0x33be4a);}['_onSpriteA'+'ssetRemove'](_0x40ac1a){}['_bindSprit'+'e'](_0x38718f){this['_evtSetMes'+'hes']=_0x38718f['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x38718f['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x38718f['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x38718f['atlas']&&_0x38718f['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x2979ba){var _0x4bdcd2;(_0x4bdcd2=this['_evtSetMes'+'hes'])==null||_0x4bdcd2['off'](),this['_evtSetMes'+'hes']=null,_0x2979ba['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x2979ba['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x2979ba['atlas']&&_0x2979ba['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],-0x2523+0x10d3+0x514*0x4,this['_sprite']['frameKeys']['length']-(0x3*0x60d+-0xe16+0x34*-0x14))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==ci&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x2a507b){const _0x4d7361=this['_spriteAss'+'et'];_0x4d7361 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x4d7361):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x4d7361));}['onEnable'](){if(this['_materialA'+'sset']){const _0x27fa95=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x27fa95&&_0x27fa95['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x27fa95);}if(this['_textureAs'+'set']){const _0x2ba0e9=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x2ba0e9&&_0x2ba0e9['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x2ba0e9);}if(this['_spriteAss'+'et']){const _0x1582c0=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x1582c0&&_0x1582c0['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x1582c0);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x5716ae){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x5716ae,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x5716ae;let _0x110e90=-0xab3+-0x3f5+0x1*0xea8;if(this['_element']['maskedBy']&&(_0x110e90=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x132905=new pi({'ref':_0x110e90+(0x2335+-0x2555+0x221),'func':dh,'zpass':Bx});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x132905,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x132905;}}['_updateRen'+'derableEmi'+'ssive'](){Ec['linear'](this['_color']),this['_colorUnif'+'orm'][0x2*-0x1118+-0xb19+0x2d49]=Ec['r'],this['_colorUnif'+'orm'][0x441+-0x24b*-0x8+0x5a6*-0x4]=Ec['g'],this['_colorUnif'+'orm'][-0x6bb+0x20ac+0x19ef*-0x1]=Ec['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x355862){this['_color']===_0x355862&&w['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x56b639,g:_0x46d774,b:_0x360f0d}=_0x355862;(this['_color']['r']!==_0x56b639||this['_color']['g']!==_0x46d774||this['_color']['b']!==_0x360f0d)&&(this['_color']['r']=_0x56b639,this['_color']['g']=_0x46d774,this['_color']['b']=_0x360f0d,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x508c29){_0x508c29!==this['_color']['a']&&(this['_color']['a']=_0x508c29,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x508c29)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x508c29);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x25c5e9){this['_rect']===_0x25c5e9&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x45e326,_0xd67f5d,_0x5909fe,_0x237152;_0x25c5e9 instanceof re?(_0x45e326=_0x25c5e9['x'],_0xd67f5d=_0x25c5e9['y'],_0x5909fe=_0x25c5e9['z'],_0x237152=_0x25c5e9['w']):(_0x45e326=_0x25c5e9[0x11*-0x179+-0x31a*-0x4+0x1*0xca1],_0xd67f5d=_0x25c5e9[0xee*-0x25+-0x1adf+0x3d46],_0x5909fe=_0x25c5e9[-0x12cd*0x1+0x2561+0x1*-0x1292],_0x237152=_0x25c5e9[0x1a7a+-0x2369+0x8f2]),!(_0x45e326===this['_rect']['x']&&_0xd67f5d===this['_rect']['y']&&_0x5909fe===this['_rect']['z']&&_0x237152===this['_rect']['w'])&&(this['_rect']['set'](_0x45e326,_0xd67f5d,_0x5909fe,_0x237152),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x5*0x37f+-0x6*0x4b8+0x2dcb):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x1991af=this['_system']['app']['assets'];_0x1991af['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x682a84=_0x1991af['get'](this['_materialA'+'sset']);_0x682a84&&(_0x682a84['off']('load',this['_onMateria'+'lLoad'],this),_0x682a84['off']('change',this['_onMateria'+'lChange'],this),_0x682a84['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x168d61){if(this['_material']!==_0x168d61){if(!_0x168d61){const _0x493a6b=this['_element']['_isScreenS'+'pace']();this['mask']?_0x168d61=_0x493a6b?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x168d61=_0x493a6b?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x168d61,this['_materialA'+'sset']){const _0xc3fb70=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0xc3fb70||_0xc3fb70['resource']!==_0x168d61)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x168d61&&(this['_renderabl'+'e']['setMateria'+'l'](_0x168d61),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x39f48e){const _0x128052=this['_system']['app']['assets'];let _0x365485=_0x39f48e;if(_0x39f48e instanceof pe&&(_0x365485=_0x39f48e['id']),this['_materialA'+'sset']!==_0x365485){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x365485,this['_materialA'+'sset']){const _0x1f2661=_0x128052['get'](this['_materialA'+'sset']);_0x1f2661?this['_bindMater'+'ialAsset'](_0x1f2661):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x365485,_0x128052['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x365485;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0xb66734){if(this['_texture']!==_0xb66734){if(this['_textureAs'+'set']){const _0x78d42c=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x78d42c&&_0x78d42c['resource']!==_0xb66734&&(this['textureAss'+'et']=null);}if(this['_texture']=_0xb66734,_0xb66734){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x337ea2=this['_texture']['width']/this['_texture']['height'];_0x337ea2!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x337ea2,this['_element']['fitMode']!==th&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(0x1025*0x1+-0x1*-0x1559+-0x257d),this['_element']['fitMode']!==th&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x5d358d){const _0xed8d1=this['_system']['app']['assets'];let _0x3d1680=_0x5d358d;if(_0x5d358d instanceof pe&&(_0x3d1680=_0x5d358d['id']),this['_textureAs'+'set']!==_0x3d1680){if(this['_textureAs'+'set']){_0xed8d1['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x38c69d=_0xed8d1['get'](this['_textureAs'+'set']);_0x38c69d&&(_0x38c69d['off']('load',this['_onTexture'+'Load'],this),_0x38c69d['off']('change',this['_onTexture'+'Change'],this),_0x38c69d['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x3d1680,this['_textureAs'+'set']){const _0x3190c1=_0xed8d1['get'](this['_textureAs'+'set']);_0x3190c1?this['_bindTextu'+'reAsset'](_0x3190c1):(this['texture']=null,_0xed8d1['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x454ca3){const _0x33f5e7=this['_system']['app']['assets'];let _0x5cd5c6=_0x454ca3;if(_0x454ca3 instanceof pe&&(_0x5cd5c6=_0x454ca3['id']),this['_spriteAss'+'et']!==_0x5cd5c6){if(this['_spriteAss'+'et']){_0x33f5e7['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x399f17=_0x33f5e7['get'](this['_spriteAss'+'et']);_0x399f17&&this['_unbindSpr'+'iteAsset'](_0x399f17);}if(this['_spriteAss'+'et']=_0x5cd5c6,this['_spriteAss'+'et']){const _0x342314=_0x33f5e7['get'](this['_spriteAss'+'et']);_0x342314?this['_bindSprit'+'eAsset'](_0x342314):(this['sprite']=null,_0x33f5e7['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x5cd5c6);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x136b52){if(this['_sprite']!==_0x136b52){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x31e015=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x31e015&&_0x31e015['resource']!==_0x136b52&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x136b52,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],0x1*0x13e1+-0x1*0xd2a+-0x6b7,this['_sprite']['frameKeys']['length']-(-0x24cc+0x4*0xa3+-0x4f*-0x6f))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x4f1b13){const _0x528a3b=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=Y['clamp'](_0x4f1b13,-0x1370+0x12*-0x202+-0x4*-0xde5,this['_sprite']['frameKeys']['length']-(-0x1*-0xbb5+0x1137+-0x1ceb)):this['_spriteFra'+'me']=_0x4f1b13,this['_spriteFra'+'me']!==_0x528a3b&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x4f1b13);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x21f7da){this['_renderabl'+'e']['setMesh'](_0x21f7da),this['_defaultMe'+'sh']===_0x21f7da?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x17c20f){this['_mask']!==_0x17c20f&&(this['_mask']=_0x17c20f,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0xd52bd3){this['_pixelsPer'+'Unit']!==_0xd52bd3&&(this['_pixelsPer'+'Unit']=_0xd52bd3,this['_sprite']&&(this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class hR extends me{constructor(_0x1b8235){super(),this['_app']=_0x1b8235,_0x1b8235['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['_autoLoad']=!(0x2350+-0x1fcc+0x1f*-0x1d),this['_disableLo'+'calization']=!(-0x1*0x221b+-0x3*0x469+0x2f57),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x1d1567){const _0x4cf6b4=_0x1d1567 instanceof pe?_0x1d1567['id']:_0x1d1567;this['_defaultAs'+'set']!==_0x4cf6b4&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x4cf6b4,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x42d365){const _0x54c403=_0x42d365 instanceof pe?_0x42d365['id']:_0x42d365;this['_localized'+'Asset']!==_0x54c403&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x54c403,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x12ad08){this['_autoLoad']!==_0x12ad08&&(this['_autoLoad']=_0x12ad08,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x5f5d45){this['_disableLo'+'calization']!==_0x5f5d45&&(this['_disableLo'+'calization']=_0x5f5d45,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x2bb8d2=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x2bb8d2?this['_onDefault'+'AssetAdd'](_0x2bb8d2):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x31d76d=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x31d76d&&(_0x31d76d['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x31d76d['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x31d76d['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x148966){this['_defaultAs'+'set']===_0x148966['id']&&(_0x148966['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x148966['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x148966['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x290dc2){this['_defaultAs'+'set']===_0x290dc2['id']&&(_0x290dc2['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x290dc2['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x1d42bf=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x1d42bf&&(_0x1d42bf['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x1d42bf['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x1d42bf['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x1d42bf['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x1d42bf):this['_app']['assets']['load'](_0x1d42bf));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x1dfcd4=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x1dfcd4&&(_0x1dfcd4['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x1dfcd4['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x1dfcd4['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x4f66fc){this['_localized'+'Asset']===_0x4f66fc['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x6c866a){this['fire']('load',_0x6c866a);}['_onLocaliz'+'edAssetCha'+'nge'](_0x6f27b9,_0x47b684,_0x40cde4,_0x31ee97){this['fire']('change',_0x6f27b9,_0x47b684,_0x40cde4,_0x31ee97);}['_onLocaliz'+'edAssetRem'+'ove'](_0x877783){this['_localized'+'Asset']===_0x877783['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x877783);}['_onLocaleA'+'dd'](_0x36141a,_0x3c3a25){this['_app']['i18n']['locale']===_0x36141a&&this['_onSetLoca'+'le'](_0x36141a);}['_onLocaleR'+'emove'](_0x303ae1,_0x1c212c){this['_app']['i18n']['locale']===_0x303ae1&&this['_onSetLoca'+'le'](_0x303ae1);}['_onSetLoca'+'le'](_0x2c7358){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x296b38=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x296b38||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x54da80=_0x296b38['getLocaliz'+'edAssetId'](_0x2c7358);if(!_0x54da80){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x54da80;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['off']();}}const Rh='msdf',dR='bitmap',Mo=0x2f2+0xfd*-0x25+-0x1c5*-0x13,an=0x2672+-0x1fbb+-0x35b*0x2,Du=-0x1016+-0x6d2+0x16ea,Zv=-0x703*0x1+0x2383*0x1+-0x97f*0x3,Iu=-0x796*0x1+0x2*0x45e+-0x122,Lu=-0x49a*-0x5+-0x4*0x982+0xf0b,Ru=-0x8*0x31e+-0x9dd*0x2+0x478*0xa,Ou=-0x2*-0x18e+-0x20ff+0x1dea,Xg=0x485+-0x4*0x2db+0x6ef,fR='\x20\x09\x0a\x0d\x0b\x0c',uR=/[\w|/]/;class pR{constructor(_0x1b8e3d){this['_symbols']=_0x1b8e3d,this['_index']=0x248*0x8+0x1402+-0x76*0x53,this['_last']=-0xdd*0x5+0x48*-0x34+-0x175*-0xd,this['_cur']=this['_symbols']['length']>0x15b0+0x53d+-0x1aed?this['_symbols'][-0xc69+-0x1e4a+-0x11*-0x283]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x34669f=this['_read']();for(;_0x34669f===Xg;)_0x34669f=this['_read']();return _0x34669f!==Mo&&_0x34669f!==an&&(this['_last']=this['_index']),_0x34669f;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x1ab41f=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x2bcce0=this['read'](),_0x2cfee8='';for(;_0x2cfee8+=(_0x2cfee8['length']>-0x9d6+0x17f*0x2+0xdb*0x8?'\x0a':'')+_0x1ab41f[_0x2bcce0]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x2bcce0===Mo||_0x2bcce0===an);)_0x2bcce0=this['read']();return _0x2cfee8;}['_read'](){return this['_buf']=[],this['_eof']()?Mo:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>0x1d3c+-0x260d+-0x8d1*-0x1?Du:Mo;case'[':return this['_mode']='tag',this['_buf']['length']>-0x1475+-0x19bc+-0x2b*-0x113?Du:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',an;case'[':return this['_store'](),Zv;case']':return this['_store'](),this['_mode']='text',Iu;case'=':return this['_store'](),Lu;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',an);}}['_whitespac'+'e'](){for(this['_store']();fR['indexOf'](this['_cur'])!==-(-0x69e+0x196+0x509);)this['_store']();return Xg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',an;case'\x22':return this['_next'](),Ru;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return Ou;}['_isIdentif'+'ierSymbol'](_0x1b078b){return _0x1b078b['length']===-0xffb+-0x1df*-0x5+0x6a1&&_0x1b078b['match'](uR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x1092de){this['_buf']['push'](_0x1092de);}}class mR{constructor(_0x416d60){this['_scanner']=new pR(_0x416d60),this['_error']=null;}['parse'](_0x3f8be1,_0x38fda9){for(;;)switch(this['_scanner']['read']()){case Mo:return!(0x34*-0x7c+-0xbc*-0x33+-0x13a*0xa);case an:return!(-0x65d+-0x1*0x207b+0x26d9);case Du:Array['prototype']['push']['apply'](_0x3f8be1,this['_scanner']['buf']());break;case Zv:if(!this['_parseTag'](_0x3f8be1,_0x38fda9))return!(0x607*0x4+0xfbd*0x1+-0x27d8);break;default:return!(0x62a*-0x1+0x26b8+-0x208d*0x1);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x532bcc,_0x517b3d){let _0x56697c=this['_scanner']['read']();if(_0x56697c!==Ou)return this['_error']='expected\x20i'+'dentifier',!(0x1*0x11c4+0x2*-0xf06+0xc49);const _0x2a7365=this['_scanner']['buf']()['join']('');if(_0x2a7365[-0xfc8+-0x109b+0x2063]==='/'){for(let _0x410e00=_0x517b3d['length']-(0x1*0x112f+-0x20a0+-0x1*-0xf72);_0x410e00>=0x92+-0x46e*0x5+0x1594;--_0x410e00)if(_0x2a7365==='/'+_0x517b3d[_0x410e00]['name']&&_0x517b3d[_0x410e00]['end']===null)return _0x517b3d[_0x410e00]['end']=_0x532bcc['length'],_0x56697c=this['_scanner']['read'](),_0x56697c!==Iu?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0x802+-0xe*-0x5+0x7bd)):!(-0xaed*-0x3+-0xc7e+-0x241*0x9);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(0x1c20+-0x1*-0x1982+-0x35a1);}const _0x2fb283={'name':_0x2a7365,'value':null,'attributes':{},'start':_0x532bcc['length'],'end':null};if(_0x56697c=this['_scanner']['read'](),_0x56697c===Lu){if(_0x56697c=this['_scanner']['read'](),_0x56697c!==Ru)return this['_error']='expected\x20s'+'tring',!(0x87f+0x17b*-0x12+0x1228);_0x2fb283['value']=this['_scanner']['buf']()['join'](''),_0x56697c=this['_scanner']['read']();}for(;;){switch(_0x56697c){case Iu:return _0x517b3d['push'](_0x2fb283),!(-0x117*0x10+0x1f*0x8b+0x9b);case Ou:{const _0x4fc608=this['_scanner']['buf']()['join']('');if(_0x56697c=this['_scanner']['read'](),_0x56697c!==Lu)return this['_error']='expected\x20e'+'quals',!(0x1*0x95+-0x18bb+0x1827);if(_0x56697c=this['_scanner']['read'](),_0x56697c!==Ru)return this['_error']='expected\x20s'+'tring',!(0x6a8+0xa98+-0x113f);const _0x31dc4e=this['_scanner']['buf']()['join']('');_0x2fb283['attributes'][_0x4fc608]=_0x31dc4e;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(-0xb8e+0x1bf2+-0x1063);}_0x56697c=this['_scanner']['read']();}}}function Qv(_0x2cbbe1,_0x373912){for(const _0xecbaec in _0x373912){if(!_0x373912['hasOwnProp'+'erty'](_0xecbaec))continue;const _0x5d3235=_0x373912[_0xecbaec];_0x5d3235 instanceof Object?(_0x2cbbe1['hasOwnProp'+'erty'](_0xecbaec)||(_0x2cbbe1[_0xecbaec]={}),Qv(_0x2cbbe1[_0xecbaec],_0x373912[_0xecbaec])):_0x2cbbe1[_0xecbaec]=_0x5d3235;}}function _R(_0x39e822){if(_0x39e822['length']===0x143e*-0x1+-0x17*-0x73+0x9e9)return null;const _0x1cf603={};for(let _0x1ee69f=0x8a1+0x2079+-0x291a;_0x1ee69f<_0x39e822['length'];++_0x1ee69f){const _0x48aafc=_0x39e822[_0x1ee69f],_0x3aa4ac={};_0x3aa4ac[_0x48aafc['name']]={'value':_0x48aafc['value'],'attributes':_0x48aafc['attributes']},Qv(_0x1cf603,_0x3aa4ac);}return _0x1cf603;}function gR(_0x30632c,_0x7cda6){if(_0x30632c['length']===-0x5*-0x32b+-0x1665+0x68e*0x1)return null;const _0x3bd9fe={};for(let _0xc6287c=0x1a6*0x2+-0x1b5b+0x1*0x180f;_0xc6287c<_0x30632c['length'];++_0xc6287c){const _0x1ed1c5=_0x30632c[_0xc6287c];_0x3bd9fe['hasOwnProp'+'erty'](_0x1ed1c5['start'])?_0x3bd9fe[_0x1ed1c5['start']]['open']===null?_0x3bd9fe[_0x1ed1c5['start']]['open']=[_0x1ed1c5]:_0x3bd9fe[_0x1ed1c5['start']]['open']['push'](_0x1ed1c5):_0x3bd9fe[_0x1ed1c5['start']]={'open':[_0x1ed1c5],'close':null},_0x3bd9fe['hasOwnProp'+'erty'](_0x1ed1c5['end'])?_0x3bd9fe[_0x1ed1c5['end']]['close']===null?_0x3bd9fe[_0x1ed1c5['end']]['close']=[_0x1ed1c5]:_0x3bd9fe[_0x1ed1c5['end']]['close']['push'](_0x1ed1c5):_0x3bd9fe[_0x1ed1c5['end']]={'open':null,'close':[_0x1ed1c5]};}let _0x3b90f7=[];function _0x1bbb69(_0x5296c9){_0x3b90f7=_0x3b90f7['filter'](_0x709f48=>_0x5296c9['find'](_0x42ea8f=>_0x42ea8f===_0x709f48)===void(-0xe04+0x14b*0x5+0x78d));}function _0x48bd10(_0x32e324){for(let _0x3c22d7=-0x1739+0x3*-0xabd+0x1*0x3770;_0x3c22d7<_0x32e324['length'];++_0x3c22d7)_0x3b90f7['push'](_0x32e324[_0x3c22d7]);}const _0x216c02=Object['keys'](_0x3bd9fe)['sort']((_0xe7df61,_0x1c7bb7)=>_0xe7df61-_0x1c7bb7),_0x51ec17=[];for(let _0x583471=0x523+0x1*0x327+-0x1*0x84a;_0x583471<_0x216c02['length'];++_0x583471){const _0x3c5c97=_0x3bd9fe[_0x216c02[_0x583471]];_0x3c5c97['close']!==null&&_0x1bbb69(_0x3c5c97['close']),_0x3c5c97['open']!==null&&_0x48bd10(_0x3c5c97['open']),_0x51ec17['push']({'start':_0x216c02[_0x583471],'tags':_R(_0x3b90f7)});}const _0xb43d20=[];let _0x3aaec0=null;for(let _0x3fc8e4=0x8e8+0x1a3*0x10+-0x2318;_0x3fc8e4<_0x51ec17['length'];++_0x3fc8e4){const _0x227fe1=_0x51ec17[_0x3fc8e4];for(;_0xb43d20['length']<_0x227fe1['start'];)_0xb43d20['push'](_0x3aaec0?_0x3aaec0['tags']:null);_0x3aaec0=_0x227fe1;}for(;_0xb43d20['length']<_0x7cda6;)_0xb43d20['push'](null);return _0xb43d20;}function SR(_0x47f987){const _0x55b202=new mR(_0x47f987),_0x4154a4=[],_0x3d2c53=[];if(!_0x55b202['parse'](_0x4154a4,_0x3d2c53))return console['warn'](_0x55b202['error']()),{'symbols':_0x47f987,'tags':null};const _0x39623d=_0x3d2c53['find'](_0x368f3b=>_0x368f3b['end']===null);if(_0x39623d)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x39623d['name']+'\x27'),{'symbols':_0x47f987,'tags':null};const _0x4c7ccd=gR(_0x3d2c53,_0x4154a4['length']);return{'symbols':_0x4154a4,'tags':_0x4c7ccd};}class yR{static['evaluate'](_0x1042c4){return SR(_0x1042c4);}}class vR{constructor(){this['count']=-0x1693+-0xeb4+-0x3*-0xc6d,this['quad']=0x60c+0x416+-0xa22,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function xR(_0x51ed56,_0xd395e9){const _0x3c5424=new Ge(_0x51ed56);return _0x3c5424['setPositio'+'ns'](_0xd395e9['positions']),_0x3c5424['setNormals'](_0xd395e9['normals']),_0x3c5424['setColors3'+'2'](_0xd395e9['colors']),_0x3c5424['setUvs'](-0x185*-0xa+0x26dd+0x1*-0x360f,_0xd395e9['uvs']),_0x3c5424['setIndices'](_0xd395e9['indices']),_0x3c5424['setVertexS'+'tream'](Ko,_0xd395e9['outlines'],-0xe*0xf5+0x258d*0x1+-0x1824,void(-0x1*0x6bb+0x1ea9+-0x17ee*0x1),Ve,!(-0x16c4+-0x1549+0x2*0x1607)),_0x3c5424['setVertexS'+'tream'](Zo,_0xd395e9['shadows'],-0x729+0x1*-0x2159+-0x1c3*-0x17,void(0x24d6+-0x1*0x21c7+-0x30f),Ve,!(0x18cd+0xef*0x17+-0x2e45)),_0x3c5424['update'](),_0x3c5424;}const qg=/^[\r\n]$/,TR=/^[ \t]$/,jg=/^[ \t\-]|\u200b$/,wR=/^[a-z0-9]$/i,Yg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,ER=/^[]$/,bR=['','','','','','','','','','','','',''],AR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},Kg=new ie(),CR=new J(),We=new ie();class PR{constructor(_0x5cf3b6){this['_element']=_0x5cf3b6,this['_system']=_0x5cf3b6['system'],this['_entity']=_0x5cf3b6['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new hR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(0xb09+-0x12e7+0x7de),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new ie(0x141f+-0x10*0x1ca+-0x2d6*-0x3,0x9*-0x382+-0x1975+0x3908,-0xc4+-0xe14+0xed9,-0x1708+0xd5e+0x9ab),this['_colorUnif'+'orm']=new Float32Array(-0x1e7a+-0x1*0x1871+0x9e*0x59),this['_spacing']=0x251*0xf+0x159c+-0x385a,this['_fontSize']=0x86*0x37+-0x1*-0x150d+-0x31b7,this['_fontMinY']=-0xe08+0x1*-0x1dc+0xfe4*0x1,this['_fontMaxY']=-0x83f*0x1+0x7*0x38f+-0x10aa,this['_originalF'+'ontSize']=0x1867+-0x1b3e+0x2f7,this['_maxFontSi'+'ze']=-0x2476+0x6c5*0x1+-0x1dd1*-0x1,this['_minFontSi'+'ze']=-0x1*-0x8b+-0x1eec*0x1+0xf*0x207,this['_autoFitWi'+'dth']=!(-0x3a0+-0x1*0x19cf+0x1d70),this['_autoFitHe'+'ight']=!(0xfee+0xdc9*0x1+-0x1db6),this['_maxLines']=-(0x7*-0x28d+-0x228+-0x1c*-0xb7),this['_lineHeigh'+'t']=-0x7*0x481+0x1c45*-0x1+0x3bec,this['_scaledLin'+'eHeight']=-0x1ff4+-0x17a5*-0x1+0x86f,this['_wrapLines']=!(0x1271+-0x1454+0x1e4),this['_drawOrder']=-0x3b*-0x28+-0x2*-0xf16+0x4*-0x9d9,this['_alignment']=new J(-0x1096*0x1+-0x14f4+0x258a+0.5,-0x109*0x17+0x22a5+-0x1*0xad6+0.5),this['_autoWidth']=!(0x65e*-0x5+0x126e+0xd68),this['_autoHeigh'+'t']=!(0x1ca+0x11*-0xe5+0x3*0x479),this['width']=0x1*0x2315+-0x1*0x1779+-0xb9c,this['height']=0x2*0x4c1+0x1181+0xf*-0x1cd,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(-0x3f*0x5e+-0x1c0a+0x332c),this['_aabb']=new De(),this['_noResize']=!(-0xb*-0x2d0+-0x1*0x67b+-0x1874),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(-0x1d7a+-0x17*0x29+0x212a),this['_unicodeCo'+'nverter']=!(0x19ec+-0xd03+-0xce8),this['_rtl']=!(-0x1d0d+0x313*-0xc+0x41f2),this['_outlineCo'+'lor']=new ie(-0x1*-0x216d+0x24f0+-0x465d,0xab9+0x1*-0x467+-0x652,0x12a*0x20+-0x7*0x9b+-0x2103,-0x236c+-0xca5+0x3012),this['_outlineCo'+'lorUniform']=new Float32Array(-0x6*-0x52f+0x1*-0x8e5+0x1631*-0x1),this['_outlineTh'+'icknessSca'+'le']=0x266e*0x1+0x1*-0x2036+-0x638+0.2,this['_outlineTh'+'ickness']=-0x1cee+-0x2*-0xa98+-0x7be*-0x1,this['_shadowCol'+'or']=new ie(0x2*0x9bd+0x159*0x1b+-0x37dd,0x2448+0x6b*0x44+0x194*-0x29,0x149*-0xe+-0x6*0x529+-0x1e2*-0x1a,0x25*0xdf+-0x8ce+0xbb6*-0x2),this['_shadowCol'+'orUniform']=new Float32Array(-0x205+0x1372+-0x1169),this['_shadowOff'+'setScale']=0x2*0xe44+-0x2b9*0x9+0x407*-0x1+0.005,this['_shadowOff'+'set']=new J(-0x2*-0xf51+0x84b+-0x26ed,0x2*0xc83+-0x1cfb+0x3f5),this['_shadowOff'+'setUniform']=new Float32Array(0x23*0x10a+-0x2302+-0x15a),this['_enableMar'+'kup']=!(-0x80a+0x8c1*0x4+-0x1af9),this['_onScreenC'+'hange'](this['_element']['screen']),_0x5cf3b6['on']('resize',this['_onParentR'+'esize'],this),_0x5cf3b6['on']('set:screen',this['_onScreenC'+'hange'],this),_0x5cf3b6['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x5cf3b6['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x5cf3b6['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=0x2116+0x1*-0x2201+0xeb,this['_rangeEnd']=0xc8a*-0x3+0x1cce+0x2*0x468;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x5206ea,_0x1e7bb1){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x3613c2){_0x3613c2?this['_updateMat'+'erial'](_0x3613c2['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x366+0x1*-0x26b+-0xfa));}['_onScreenS'+'paceChange'](_0xcdb9eb){this['_updateMat'+'erial'](_0xcdb9eb);}['_onDrawOrd'+'erChange'](_0x264177){if(this['_drawOrder']=_0x264177,this['_model']){for(let _0x548462=-0x10d5+-0xe51*0x1+0xf93*0x2,_0xeab7ea=this['_model']['meshInstan'+'ces']['length'];_0x548462<_0xeab7ea;_0x548462++)this['_model']['meshInstan'+'ces'][_0x548462]['drawOrder']=_0x264177;}}['_onPivotCh'+'ange'](_0x1f698d){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x1526ba){if(this['_i18nKey']){if(this['fontAsset']){const _0x5ba0d2=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x5ba0d2||!_0x5ba0d2['resource']||_0x5ba0d2['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x43096b,_0xb9f8cd){this['_i18nKey']&&_0xb9f8cd[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x4a5428){if(this['unicodeCon'+'verter']){const _0x5468f0=this['_system']['getUnicode'+'Converter']();_0x5468f0?_0x4a5428=_0x5468f0(_0x4a5428):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x4a5428&&(this['_font']&&this['_updateTex'+'t'](_0x4a5428),this['_text']=_0x4a5428);}['_updateTex'+'t'](_0x21bb1e){let _0x5aca0a;if(_0x21bb1e===void(-0x1412*0x1+-0x5*-0x564+0x371*-0x2)&&(_0x21bb1e=this['_text']),this['_symbols']=Hc['getSymbols'](_0x21bb1e['normalize']?_0x21bb1e['normalize']('NFC'):_0x21bb1e),this['_symbols']['length']===-0x576*0x7+0x18*-0xf6+0x1*0x3d4a&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x3dc71f=yR['evaluate'](this['_symbols']);this['_symbols']=_0x3dc71f['symbols'],_0x5aca0a=_0x3dc71f['tags']||[];}if(this['_rtlReorde'+'r']){const _0xbca18e=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0xbca18e){const _0x3da918=_0xbca18e(this['_symbols']);this['_rtl']=_0x3da918['rtl'],this['_symbols']=_0x3da918['mapping']['map'](function(_0x4b21e9){return this['_symbols'][_0x4b21e9];},this),_0x5aca0a&&(_0x5aca0a=_0x3da918['mapping']['map'](_0x263c11=>_0x5aca0a[_0x263c11]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(-0x1196*0x2+0x114e+0x5f5*0x3);const _0x47f3b3=(_0x4a12da,_0x191b0e)=>_0x4a12da['toString'](!(-0x202e*0x1+-0x1a77+-0x1*-0x3aa5))['toLowerCas'+'e']()+':'+_0x191b0e['toFixed'](0x285*-0x1+0xd67+0xae*-0x10),_0x30601c=(_0x40bef4,_0x122aa8)=>_0x40bef4['toString'](!(-0x2*-0x1bf+0x216c+-0x69*0x5a))['toLowerCas'+'e']()+':'+_0x122aa8['x']['toFixed'](-0x1a69+0x6*0x366+0x607)+':'+_0x122aa8['y']['toFixed'](-0xcc0+0x1170+-0x257*0x2);if(_0x5aca0a){const _0x177b3f={},_0x36e064={},_0x29937d={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(-0x7ee+0x1ded+-0x1500)),Math['round'](this['_color']['g']*(-0x1ed2+0x2dd*0x2+-0x1a17*-0x1)),Math['round'](this['_color']['b']*(-0x52*-0x16+0x1724+0x9f*-0x2f))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(-0x1e07+0x12bd*0x2+-0xe*0x76)),Math['round'](this['_outlineCo'+'lor']['g']*(0x1c41*-0x1+0x5*-0x51b+0x17b*0x25)),Math['round'](this['_outlineCo'+'lor']['b']*(0x599*-0x2+0xa1f*-0x3+-0x1*-0x2a8e)),Math['round'](this['_outlineCo'+'lor']['a']*(-0xac8+-0x1b4e+0x2715)),Math['round'](this['_outlineTh'+'ickness']*(-0x1e33+-0x2520+0x4452))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(0x133c+0x226a+-0x34a7)),Math['round'](this['_shadowCol'+'or']['g']*(-0x22bc+0xe74+0x1547)),Math['round'](this['_shadowCol'+'or']['b']*(0x305+-0x103d+-0x3*-0x4bd)),Math['round'](this['_shadowCol'+'or']['a']*(0x1*0x12b5+0x1f7b*0x1+-0x707*0x7)),Math['round'](this['_shadowOff'+'set']['x']*(-0x2b3*0xb+0x1baf+0x281)),Math['round'](this['_shadowOff'+'set']['y']*(0x299*-0xb+0x1*0x73+0x1af*0x11))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x177b3f[this['_color']['toString'](!(0x150a+0x24a5+-0x39ae))['toLowerCas'+'e']()]=-0x247a+-0x1305+0x377f,_0x36e064[_0x47f3b3(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0x1*-0x1150+-0x8a*-0x9+-0x1*-0xc76,_0x29937d[_0x30601c(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=0x2176+-0xc9b+-0x14db;for(let _0xe40c=-0xce5*-0x2+0xebb+0xb*-0x3af,_0x6ea752=this['_symbols']['length'];_0xe40c<_0x6ea752;++_0xe40c){const _0x39baf8=_0x5aca0a[_0xe40c];let _0x38dc52=0x2*-0xaed+-0xc7*0x16+0x26f4;if(_0x39baf8&&_0x39baf8['color']&&_0x39baf8['color']['value']){const _0x351f93=_0x39baf8['color']['value'];if(_0x351f93['length']===0x1823+-0x247e+-0xa*-0x13d&&_0x351f93[0x140*-0x17+0x1ecf+-0x20f]==='#'){const _0x4a10db=_0x351f93['substring'](0xfb2+-0x1*-0x782+0x1*-0x1733)['toLowerCas'+'e']();_0x177b3f['hasOwnProp'+'erty'](_0x4a10db)?_0x38dc52=_0x177b3f[_0x4a10db]:/^[0-9a-f]{6}$/['test'](_0x4a10db)&&(_0x38dc52=this['_colorPale'+'tte']['length']/(0x185*-0x10+0x64*0x62+-0xdf5),_0x177b3f[_0x4a10db]=_0x38dc52,this['_colorPale'+'tte']['push'](parseInt(_0x4a10db['substring'](-0x2*-0x4a2+-0x730+0x10a*-0x2,-0x1ec1*0x1+0x4ea*-0x1+-0x1*-0x23ad),-0x4dc+-0x2eb+0x7d7)),this['_colorPale'+'tte']['push'](parseInt(_0x4a10db['substring'](0x151b*0x1+-0x10a7*0x1+-0x472,-0x190f*0x1+-0x1645+0x2f58),-0x15a4+0xcb8+0x8fc)),this['_colorPale'+'tte']['push'](parseInt(_0x4a10db['substring'](-0x1*0x2287+0x1*-0xa81+0x2d0c,0x4*-0x2a7+-0x9*-0x436+-0x14*0x15d),0x1e95+0x833+-0x26b8)));}}this['_symbolCol'+'ors']['push'](_0x38dc52);let _0x51ed58=-0x25e5+-0x14f2+0x3ad7;if(_0x39baf8&&_0x39baf8['outline']&&(_0x39baf8['outline']['attributes']['color']||_0x39baf8['outline']['attributes']['thickness'])){let _0x2cb642=_0x39baf8['outline']['attributes']['color']?Kg['fromString'](_0x39baf8['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x33d1ba=Number(_0x39baf8['outline']['attributes']['thickness']);(Number['isNaN'](_0x2cb642['r'])||Number['isNaN'](_0x2cb642['g'])||Number['isNaN'](_0x2cb642['b'])||Number['isNaN'](_0x2cb642['a']))&&(_0x2cb642=this['_outlineCo'+'lor']),Number['isNaN'](_0x33d1ba)&&(_0x33d1ba=this['_outlineTh'+'ickness']);const _0x3af756=_0x47f3b3(_0x2cb642,_0x33d1ba);_0x36e064['hasOwnProp'+'erty'](_0x3af756)?_0x51ed58=_0x36e064[_0x3af756]:(_0x51ed58=this['_outlinePa'+'lette']['length']/(0x1c9*0x1+-0x2648+0x2484),_0x36e064[_0x3af756]=_0x51ed58,this['_outlinePa'+'lette']['push'](Math['round'](_0x2cb642['r']*(0x1bd7+-0x182+0x2e*-0x8d)),Math['round'](_0x2cb642['g']*(0x1c32+0x8c5*0x1+0x23f8*-0x1)),Math['round'](_0x2cb642['b']*(-0x2*-0x749+0x9a9*0x1+0xb9e*-0x2)),Math['round'](_0x2cb642['a']*(-0x1c80+-0x1*0x144d+-0xc73*-0x4)),Math['round'](_0x33d1ba*(-0xed1+0x1f8f+-0xfbf))));}this['_symbolOut'+'lineParams']['push'](_0x51ed58);let _0x391975=-0x115c+-0x2615+0x9*0x629;if(_0x39baf8&&_0x39baf8['shadow']&&(_0x39baf8['shadow']['attributes']['color']||_0x39baf8['shadow']['attributes']['offset']||_0x39baf8['shadow']['attributes']['offsetX']||_0x39baf8['shadow']['attributes']['offsetY'])){let _0x407e2f=_0x39baf8['shadow']['attributes']['color']?Kg['fromString'](_0x39baf8['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x131272=Number(_0x39baf8['shadow']['attributes']['offset']),_0x4968f5=Number(_0x39baf8['shadow']['attributes']['offsetX']),_0x3f03b3=Number(_0x39baf8['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x407e2f['r'])||Number['isNaN'](_0x407e2f['g'])||Number['isNaN'](_0x407e2f['b'])||Number['isNaN'](_0x407e2f['a']))&&(_0x407e2f=this['_shadowCol'+'or']);const _0x28bbce=CR['set'](Number['isNaN'](_0x4968f5)?Number['isNaN'](_0x131272)?this['_shadowOff'+'set']['x']:_0x131272:_0x4968f5,Number['isNaN'](_0x3f03b3)?Number['isNaN'](_0x131272)?this['_shadowOff'+'set']['y']:_0x131272:_0x3f03b3),_0x1debe7=_0x30601c(_0x407e2f,_0x28bbce);_0x29937d['hasOwnProp'+'erty'](_0x1debe7)?_0x391975=_0x29937d[_0x1debe7]:(_0x391975=this['_shadowPal'+'ette']['length']/(0x16dc+-0x15*0x109+-0x1*0x119),_0x29937d[_0x1debe7]=_0x391975,this['_shadowPal'+'ette']['push'](Math['round'](_0x407e2f['r']*(-0x1*0x1f4d+0x1227+-0x47*-0x33)),Math['round'](_0x407e2f['g']*(0x2*-0x511+-0xc*0xf7+-0x16b5*-0x1)),Math['round'](_0x407e2f['b']*(0x628*0x1+0x2a*0xe0+-0x29e9)),Math['round'](_0x407e2f['a']*(-0xae7+-0x1*-0x18bd+-0xcd7)),Math['round'](_0x28bbce['x']*(0x61d*-0x2+-0x1338+0x1ff1)),Math['round'](_0x28bbce['y']*(-0x4cb+0x928+-0x3de))));}this['_symbolSha'+'dowParams']['push'](_0x391975);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x274211=this['_calculate'+'CharsPerTe'+'xture']();let _0x180f0a=!(-0x264+-0x7*-0x22f+-0xce4);const _0x10319d=this['_element'],_0xae052b=_0x10319d['_isScreenS'+'pace'](),_0x5df61a=_0x10319d['_isScreenC'+'ulled'](),_0x2510a6=function(_0x3987c4){return _0x10319d['isVisibleF'+'orCamera'](_0x3987c4);};for(let _0x4e900a=0xcce*-0x1+0x2*-0xd97+0x27fc,_0x4b061f=this['_meshInfo']['length'];_0x4e900a<_0x4b061f;_0x4e900a++){const _0x2dc381=_0x274211[_0x4e900a]||-0x932+0x1c0b+-0x12d9,_0x747445=this['_meshInfo'][_0x4e900a];if(_0x747445['count']!==_0x2dc381){if(_0x180f0a||(_0x10319d['removeMode'+'lFromLayer'+'s'](this['_model']),_0x180f0a=!(0x20a5+0x4e9*0x7+0x4*-0x10c1)),_0x747445['count']=_0x2dc381,_0x747445['positions']['length']=_0x747445['normals']['length']=_0x2dc381*(0x1b13+-0x1bbb*0x1+0xab)*(0x640+0x1*-0x128e+-0x13*-0xa6),_0x747445['indices']['length']=_0x2dc381*(-0x75d+0x1*-0x1257+-0xe3*-0x1d)*(-0xb2*-0x31+0x1480+-0x3690),_0x747445['uvs']['length']=_0x2dc381*(-0x18*0x12e+0x1*0x1b7d+0xd5)*(0x1*-0x170a+-0xf53*-0x2+-0x8*0xf3),_0x747445['colors']['length']=_0x2dc381*(-0xbc8*0x1+-0x2655+0x3221)*(0x1a7a+0x1*0x287+-0xb5*0x29),_0x747445['outlines']['length']=_0x2dc381*(0x107*-0x20+0xf92*-0x1+0x2*0x183b)*(-0x16b7+-0x68c+0x1d46),_0x747445['shadows']['length']=_0x2dc381*(-0x2*0xfbf+0x477*-0x6+0x7*0x854)*(-0x1bc7+-0xaf1+0x26bb),_0x747445['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x747445['meshInstan'+'ce']),_0x2dc381===-0x119*0x1+-0x4cb*-0x4+-0x1*0x1213){_0x747445['meshInstan'+'ce']=null;continue;}for(let _0x2ce35f=0x8f6*0x1+0x1*0xba+-0x9b0;_0x2ce35f<_0x2dc381;_0x2ce35f++)_0x747445['indices'][_0x2ce35f*(0x1825+0xbb*0xd+0x21a1*-0x1)*(0x856+-0x342+-0x1*0x512)+(-0x1*0x1a5+0xf6+0x7*0x19)]=_0x2ce35f*(0xe61*0x2+-0x6c*-0x1+-0x1d2a),_0x747445['indices'][_0x2ce35f*(-0x4dc+-0xffb*-0x1+-0xb1c)*(0x1a*-0xe2+0x139b+-0x1*-0x35b)+(-0x8d9+0x256e+0x1*-0x1c94)]=_0x2ce35f*(0x1*0x1715+0x6e4+-0x1df5)+(0x1b16+0xcfa+-0x125*0x23),_0x747445['indices'][_0x2ce35f*(-0x2b6+0x7fa+0x5*-0x10d)*(-0xdbf+0x2342+-0x3*0x72b)+(0xd*0x273+0x1249+-0x321e)]=_0x2ce35f*(-0x2b*0x59+0x1beb+-0xcf4)+(0x105f+0x6f*-0x17+-0x663),_0x747445['indices'][_0x2ce35f*(-0x2603*0x1+-0x10f*-0xb+0x1a61)*(-0x683*0x2+0x1689+-0x32b*0x3)+(0x9*-0x21c+0x1c2f+0x1*-0x930)]=_0x2ce35f*(0x2378+0x2b*0x81+-0x391f)+(-0x7fd*-0x1+0xbb4*-0x1+0x1*0x3b9),_0x747445['indices'][_0x2ce35f*(-0x3*-0xa37+-0x1*-0x3f1+-0x2293)*(0x162f+0x1*0x2641+-0x3c6e)+(-0x4*-0x70a+0x26b8+0x2*-0x216e)]=_0x2ce35f*(0x23ed+0x1b93+-0x3f7c*0x1)+(-0x72*0x12+0x13*0x14+0x68b),_0x747445['indices'][_0x2ce35f*(-0xa45*0x2+-0x55d*-0x1+0xf30)*(0x1*-0x53f+0x1*0x1343+-0xe02)+(0x1*0x104d+-0x1ead+-0xe65*-0x1)]=_0x2ce35f*(0xc57+-0x1763+0x8*0x162)+(0x1fb2+-0x1838+0x1*-0x779),_0x747445['normals'][_0x2ce35f*(0x1432*-0x1+0x1*-0xa19+0x1e4f)*(-0x25f1+-0x218*0xb+0x2*0x1e7e)+(-0xa43*0x2+0x1*-0x1d0d+0x3193)]=-0x1dc8+0x17f3*-0x1+0x35bb,_0x747445['normals'][_0x2ce35f*(-0x1be+-0x61*0x2e+0x1330)*(-0x1ee7+0x4*-0x4c3+0x31f6)+(0x32*0x11+-0x10f*0x22+0x20ad)]=0x418+-0x623+0x20b*0x1,_0x747445['normals'][_0x2ce35f*(0xd90+-0x1*-0x2443+-0x31cf)*(0xe*-0x7d+-0x1*-0x1a25+-0x134c)+(0xb5*-0x31+0x1053+0x1254)]=-(0xc93+0x5*-0x67d+0x13df),_0x747445['normals'][_0x2ce35f*(0x213*0x5+0xb*0x37d+-0x30ba)*(0x10d2+0x3*0x2af+-0x94*0x2b)+(-0x26f6+-0x20d1+0x47ca)]=0x19c*-0xa+0x295*-0xa+0x29ea,_0x747445['normals'][_0x2ce35f*(-0x1*-0x71a+0x1*-0x819+-0x25*-0x7)*(0x89*0x5+0x1bdf+-0x1e89)+(-0x1dc*-0x10+-0x17aa+-0x612*0x1)]=-0x3a*0x1+-0x22f4+0x5dd*0x6,_0x747445['normals'][_0x2ce35f*(-0x2026+-0x14d+0x2177)*(-0xb1e+0x16f3+-0xbd2)+(0x1641+-0xf1*0x7+0x5*-0x321)]=-(0x12e3*-0x2+-0x2d*-0x89+0xdb2),_0x747445['normals'][_0x2ce35f*(0x139*0x1b+0x7*-0x380+0x1b3*-0x5)*(-0x19*0x25+-0x1387+0x1727*0x1)+(-0x81*0x45+-0x2e*-0x1e+0x1d67*0x1)]=0x1*-0x1feb+-0x6a*-0xe+0x3*0x8b5,_0x747445['normals'][_0x2ce35f*(0xaf9*0x2+0x20c3*-0x1+0xad5)*(-0x7*-0x329+0x928+-0x1f44)+(-0x7e3+0x1*0x1085+-0x89b)]=0x5*0x425+0x91d+-0x1dd6,_0x747445['normals'][_0x2ce35f*(-0x2063+-0x1a1e+0x3a85*0x1)*(-0x7*0x355+0x12e2+0x474)+(-0x2381+-0x1*0x120e+-0x10d*-0x33)]=-(-0x1a24+-0x3*-0x835+0x186),_0x747445['normals'][_0x2ce35f*(-0x5*-0x2d5+-0x186f+0xa4a*0x1)*(-0x1a6e+0x8f*-0x26+-0x1*-0x2fab)+(-0x27f*-0x1+-0x16*-0x6e+-0xbea)]=0x1930+0x347*0xb+-0x3d3d,_0x747445['normals'][_0x2ce35f*(-0x12f8+0x1*0xa35+-0x3*-0x2ed)*(0x2548+0x1183*0x2+-0x484b)+(-0x698+-0x161d+-0xdf*-0x21)]=-0x15a*-0x2+-0x1ccb+0x1a17*0x1,_0x747445['normals'][_0x2ce35f*(0x2*-0x36c+0xb79+-0x1*0x49d)*(0x2261+-0xab0+-0x17ae)+(-0x1d26+-0x1fba+0x3ceb)]=-(-0x6df*0x5+0x423*0x1+0x1*0x1e39);const _0x31df60=xR(this['_system']['app']['graphicsDe'+'vice'],_0x747445),_0x2aeadb=new He(_0x31df60,this['_material'],this['_node']);if(_0x2aeadb['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x2aeadb['castShadow']=!(-0xbc*0xa+-0x9*0x227+0x1ab8),_0x2aeadb['receiveSha'+'dow']=!(-0x2ee+0x110d+-0xe1e),_0x2aeadb['cull']=!_0xae052b,_0x2aeadb['screenSpac'+'e']=_0xae052b,_0x2aeadb['drawOrder']=this['_drawOrder'],_0x5df61a&&(_0x2aeadb['cull']=!(-0x718+-0x75a+0x2b*0x56),_0x2aeadb['isVisibleF'+'unc']=_0x2510a6),this['_setTextur'+'eParams'](_0x2aeadb,this['_font']['textures'][_0x4e900a]),_0x2aeadb['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x2aeadb['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x2aeadb['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x2aeadb['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x2aeadb['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x4e900a]['width']),_0x2aeadb['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x2aeadb['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x2aeadb['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][-0x1021+-0x1*-0x60a+-0x15*-0x7b]=0x1c15+0x140f+-0x3024,this['_shadowOff'+'setUniform'][-0x22b5+0x1*-0xd64+0x301a]=0x1b26+0x1189+-0x29*0x117;else{const _0x251f53=-this['_font']['data']['info']['maps'][_0x4e900a]['width']/this['_font']['data']['info']['maps'][_0x4e900a]['height'];this['_shadowOff'+'setUniform'][-0xb4a+-0x2*-0x827+-0x6b*0xc]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x44f*-0x5+0x3*-0xc74+0x3ae8]=_0x251f53*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x2aeadb['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x747445['meshInstan'+'ce']=_0x2aeadb,this['_model']['meshInstan'+'ces']['push'](_0x2aeadb);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x180f0a&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=0x547+-0xf38+0x9f1,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x5333e6){_0x5333e6['destroy']();const _0x8aae97=this['_model']['meshInstan'+'ces']['indexOf'](_0x5333e6);_0x8aae97!==-(0x2310+-0x1d41+0x2*-0x2e7)&&this['_model']['meshInstan'+'ces']['splice'](_0x8aae97,-0x1e94+0x15*-0x78+0x286d);}['_setMateri'+'al'](_0xe4a199){if(this['_material']=_0xe4a199,this['_model'])for(let _0x45a5e9=0x1fce+-0x1a21+-0x5ad,_0x4fbcce=this['_model']['meshInstan'+'ces']['length'];_0x45a5e9<_0x4fbcce;_0x45a5e9++){const _0x489585=this['_model']['meshInstan'+'ces'][_0x45a5e9];_0x489585['material']=_0xe4a199;}}['_updateMat'+'erial'](_0x5f3574){const _0x5d6dc3=this['_element'],_0x5cf485=_0x5d6dc3['_isScreenC'+'ulled'](),_0x4480c7=function(_0x28e252){return _0x5d6dc3['isVisibleF'+'orCamera'](_0x28e252);},_0x12f847=this['_font']&&this['_font']['type']===Rh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x5f3574,_0x12f847,this['_enableMar'+'kup']),this['_model'])for(let _0x53fdc1=-0x1f01+-0xc3e*0x2+0x377d,_0xf65ab=this['_model']['meshInstan'+'ces']['length'];_0x53fdc1<_0xf65ab;_0x53fdc1++){const _0x3b2938=this['_model']['meshInstan'+'ces'][_0x53fdc1];_0x3b2938['cull']=!_0x5f3574,_0x3b2938['material']=this['_material'],_0x3b2938['screenSpac'+'e']=_0x5f3574,_0x5cf485?(_0x3b2938['cull']=!(-0x1315+0x19c3*0x1+0x1*-0x6ae),_0x3b2938['isVisibleF'+'unc']=_0x4480c7):_0x3b2938['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][0x1*-0x13c1+0x1d1a+-0x959*0x1]=0x545*0x7+-0xd57*0x2+-0xa34,this['_colorUnif'+'orm'][-0x1*-0x19af+0x193*-0x16+0x1*0x8f4]=-0x123f+0xb1*0x2d+0xcdd*-0x1,this['_colorUnif'+'orm'][0x13cd+-0x2276+0xeab]=-0x1*0x24cb+0x863+0x1*0x1c69):(We['linear'](this['_color']),this['_colorUnif'+'orm'][-0x3d*-0x4c+-0x1986+0x76a]=We['r'],this['_colorUnif'+'orm'][-0xeb7+-0x1cce+0x2b86]=We['g'],this['_colorUnif'+'orm'][-0x1*0x1d20+0x2271+-0x54f*0x1]=We['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][0x18c8+0x6*0x4c1+-0x354e]=-0x11*0x93+0xc3c*0x1+-0x279,this['_outlineCo'+'lorUniform'][0x1b*-0xd1+-0x1586+0x2b92]=0x16e*0xb+-0x2140+0x1186,this['_outlineCo'+'lorUniform'][-0x15a9+0x16fb+0x1*-0x150]=0xc2*-0x1d+0x1e5*-0x5+-0x61*-0x53,this['_outlineCo'+'lorUniform'][0x251*-0x2+0xafb*0x1+-0x656]=0x243+-0x2f*-0x1d+0x287*-0x3):(We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x1b*0x96+-0xd78+0x1d4a]=We['r'],this['_outlineCo'+'lorUniform'][-0x16ae+-0x29*-0xd3+-0x6*0x1da]=We['g'],this['_outlineCo'+'lorUniform'][0x1d88+-0x23cd+0x647]=We['b'],this['_outlineCo'+'lorUniform'][-0x7*0x2c1+0x1*-0x245f+-0x1*-0x37a9]=We['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][-0x5*-0x5dd+-0x45*0x7f+0x22*0x25]=0x16c6+-0x31d*-0x5+0x5*-0x7ab,this['_shadowCol'+'orUniform'][-0x1*0x893+0x3f*0x32+-0x3ba]=0x30*-0x74+-0xe*0xd2+0x213c,this['_shadowCol'+'orUniform'][0x1085+-0x20f+0x4*-0x39d]=0x2*-0xead+-0x1*-0x16e7+0x673,this['_shadowCol'+'orUniform'][0xd72+-0x49*0x49+0x762]=-0xfa0+0x6d7+0x8c9):(We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x17c0+-0x1*0x17a5+0x1b*-0x1]=We['r'],this['_shadowCol'+'orUniform'][0x21e0+0x26c3*-0x1+0x4e4]=We['g'],this['_shadowCol'+'orUniform'][-0xd3f+-0x1b6e*0x1+0x28af]=We['b'],this['_shadowCol'+'orUniform'][0x1024+-0x1*0x11fd+0x4*0x77]=We['a']);}['_isWordBou'+'ndary'](_0x4ef292){return jg['test'](_0x4ef292);}['_isValidNe'+'xtChar'](_0x549c8d){return _0x549c8d!==null&&!ER['test'](_0x549c8d);}['_isNextCJK'+'Boundary'](_0xc2f2c5,_0x504de7){return Yg['test'](_0xc2f2c5)&&(jg['test'](_0x504de7)||wR['test'](_0x504de7));}['_isNextCJK'+'WholeWord'](_0x1d4ef3){return Yg['test'](_0x1d4ef3);}['_updateMes'+'hes'](){const _0x3637e3=this['_font']['data'],_0x4d811d=this,_0x41a8d4=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x4394bc=this['_maxFontSi'+'ze'],_0x53140a=this['_shouldAut'+'oFit']();_0x53140a&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x132ae0=-0x1*-0x2590+0x1380+-0x38f0,_0x487755=this['_symbols']['length'];let _0x571f72=-0x7a5+0x263f+0x1*-0x1e9a,_0x337615=-0x5e2+0x36d*0xb+-0x1fcd,_0xfd409e=0x1914+-0x2152+-0x2*-0x41f,_0x17b41d=-0x1*-0x4a5+-0x17a*0x11+0x1475*0x1,_0x480068=-0x2194+-0x18d+0x2322,_0x42f24b=-0x8b*0x47+0x2150+-0x3*-0x1bf,_0x2eab17=-0x2681+-0xb*0xd+0x2710,_0xb30977=-0x218*-0x7+-0x3*0x952+0xd4e,_0x1df3fe=-0x53c+-0x12b2*0x1+0xbf7*0x2,_0x2636b9=-0x1e87*-0x1+0x85d+-0x26e4,_0x598e0f=-0x2360+0x1*0x4f+0x1*0x2311;const _0x38ec08=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=-0xb6+0x985*0x3+-0x1bd9+0.0001;let _0x330954=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x38ec08||!this['_wrapLines'])&&(_0x330954=Number['POSITIVE_I'+'NFINITY']);let _0x488a65=0x1e11*-0x1+-0x4ae+0x22bf,_0x393885=-0x1a8f+0x40d+-0x43*-0x56,_0x462d01,_0x539ba5,_0x2dbb15,_0x5a48aa;function _0x5c5c27(_0xaff3cb,_0x1fdc7c,_0xc92def){_0x4d811d['_lineWidth'+'s']['push'](Math['abs'](_0xc92def));const _0x591b6d=_0xb30977>_0x1fdc7c?_0x1fdc7c+(0xac1*0x1+-0x7b6+-0x30a*0x1):_0xb30977,_0x3f2ae1=_0xb30977>_0x1fdc7c?_0xb30977+(0x30b*-0x7+-0x2358+-0x2*-0x1c53):_0x1fdc7c,_0x2350b4=_0xaff3cb['slice'](_0x591b6d,_0x3f2ae1);if(_0x598e0f){let _0x45c2ee=_0x2350b4['length'];for(;_0x45c2ee--&&_0x598e0f>-0x78+0x254+-0x7*0x44;)qg['test'](_0x2350b4[_0x45c2ee])&&(_0x2350b4['splice'](_0x45c2ee,0xf54+0x4*0x1c9+-0x1677),_0x598e0f--);}_0x4d811d['_lineConte'+'nts']['push'](_0x2350b4['join']('')),_0x571f72=0x1664+-0x8a6+-0xdbe,_0x337615-=_0x4d811d['_scaledLin'+'eHeight'],_0x480068++,_0x1df3fe=-0x1e70+-0x58b+0x3d*0x97,_0x2636b9=-0x2304+-0x5d*-0x3d+0x3*0x449,_0x598e0f=-0x2614+-0x1bb9+-0x5*-0xd29,_0x42f24b=0x102d*0x1+0x6f5*0x2+-0x1e17,_0xb30977=_0x1fdc7c;}let _0x5ce859=!(-0x1*-0x1d71+-0x1b0f+-0x262);for(;_0x5ce859;){_0x5ce859=!(0xb1+0x1f*-0x7+0x29),_0x53140a?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||-0x1*-0x23ad+0x1*-0x2f5+-0x82e*0x4+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=0x10f2+-0x1d*0xad+-0x1*-0x2a7,this['height']=-0x265c+-0x935+0x2f91,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x571f72=-0xdd*-0x1b+-0x1a2*-0x12+0x9*-0x5db,_0x337615=-0x1*-0x62f+-0x3e*-0x80+0xc65*-0x3,_0xfd409e=0x17b3*0x1+0x1*-0x67+-0x174c,_0x17b41d=0x1*-0x1dd3+-0x729*0x1+0x24fc,_0x480068=-0x1fdd+-0x217b+-0x4159*-0x1,_0x42f24b=0x268*0xf+0x10b9+-0x34d1,_0x2eab17=-0x1*-0x1591+-0x97d+-0xc14,_0xb30977=0xa19+0x31*0x31+0x9*-0x22a,_0x1df3fe=-0x16ce+-0x38b*-0x9+-0x915,_0x2636b9=-0x1236+-0x16*0x65+0x1ae4,_0x598e0f=0x105a*-0x1+-0x1349*-0x1+-0x2ef;const _0x3456b9=this['_fontSize']/_0x132ae0;_0x488a65=this['_fontMinY']*_0x3456b9,_0x393885=this['_fontMaxY']*_0x3456b9;for(let _0x3808ab=0x3cd*0x1+-0x1*-0x1201+-0x15ce;_0x3808ab<this['_meshInfo']['length'];_0x3808ab++)this['_meshInfo'][_0x3808ab]['quad']=0x7*0x570+0x177*-0x19+-0x1*0x171,this['_meshInfo'][_0x3808ab]['lines']={};let _0x29fccf=-0x1f43*0x1+-0xd85*-0x1+0x12bd,_0x493b2b=0xeeb+-0xc8*-0x24+-0x2a0c,_0x401a96=0x25*0xb9+0x21fb+-0x3bb9*0x1,_0x6d596d=-0xbc*-0x23+-0x3d*0x26+-0xfa7+(-0x1*0x17a3+0x23ae+-0xb0c)*(0x1*0x12cb+0x80d+-0x19d8),_0x2cbfbc=0x15e5+-0x4*0x3f5+-0x512+(0x1*0x9a8+-0x137*-0x4+0xd85*-0x1)*(-0x2fb+0xb3c+-0x3*0x26b),_0x448ee8=-0x2*0x926+0x2*0x12b5+-0x131e,_0x2e3550=-0x882+-0x1*-0x11f2+0x871*-0x1+(0x4f*0x29+-0x1*0x1953+-0xdab*-0x1)*(0x1*0x1e16+-0x162*-0x1c+-0x43ce),_0x3850ff=0x99a*-0x2+-0x4a5+0x18d8+(-0x652*0x1+-0x274*-0x1+0x4dd)*(-0x818+0x8c5*-0x1+0x11dd),_0x4e9422=0x1bea+0xa3*0x29+-0x3586+(0x416+0x1002+0x1*-0x1399)*(-0xb39*0x2+-0x1bde+0x3350);for(let _0x2f243a=-0x2*-0xbec+0x1271*-0x1+-0x1*0x567;_0x2f243a<_0x487755;_0x2f243a++){if(_0x462d01=this['_symbols'][_0x2f243a],_0x5a48aa=_0x2f243a+(-0xea1+-0x5*-0x101+0x1*0x99d)>=_0x487755?null:this['_symbols'][_0x2f243a+(-0x5*-0x3f1+-0x2143*0x1+0xd8f)],qg['test'](_0x462d01)){_0x598e0f++,(!this['_wrapLines']||this['_maxLines']<0x59*-0x23+0x96e+0x1*0x2bd||_0x480068<this['_maxLines'])&&(_0x5c5c27(this['_symbols'],_0x2f243a,_0x17b41d),_0x2eab17=_0x2f243a+(0x30a*0x2+0x2139+-0x3ee*0xa),_0xb30977=_0x2f243a+(0x1f93*0x1+0x284+-0x110b*0x2));continue;}let _0x30da2d=0x2599+0x92*-0x1d+-0x150f,_0x5a4bd1=-0xbac+-0x10c3+0x1c6f,_0x2d0fcb=-0x1509+-0x13d0+-0x1*-0x28d9,_0x1e768f=0x2590+-0x1*0x115+-0x247a*0x1,_0x5a3eef,_0x26c5c9;if(_0x539ba5=_0x3637e3['chars'][_0x462d01],!_0x539ba5){if(bR['indexOf'](_0x462d01)!==-(0xe*-0x287+-0xf6b+0x32ce))_0x539ba5=AR;else{if(_0x3637e3['chars']['\x20'])_0x539ba5=_0x3637e3['chars']['\x20'];else for(const _0xbbd6ef in _0x3637e3['chars']){_0x539ba5=_0x3637e3['chars'][_0xbbd6ef];break;}_0x3637e3['missingCha'+'rs']||(_0x3637e3['missingCha'+'rs']=new Set()),_0x3637e3['missingCha'+'rs']['has'](_0x462d01)||(console['warn']('Character\x20'+'\x27'+_0x462d01+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x3637e3['info']['face']),_0x3637e3['missingCha'+'rs']['add'](_0x462d01));}}if(_0x539ba5){let _0xb8d43a=0x7*0x1cc+0xe55+0x1*-0x1ae9;if(_0x2636b9>-0x1*0x247b+0x188f*0x1+-0x1b4*-0x7){const _0x4261f4=this['_font']['data']['kerning'];if(_0x4261f4){const _0xf940d9=_0x4261f4[Hc['getCodePoi'+'nt'](this['_symbols'][_0x2f243a-(0x72+-0xaa5+0xa34)])||-0xb54+-0x22d*0x7+0x1a8f];_0xf940d9&&(_0xb8d43a=_0xf940d9[Hc['getCodePoi'+'nt'](this['_symbols'][_0x2f243a])||0x838+-0x16ff+0xec7]||0x1*-0xbf0+-0xad1*0x1+0x16c1*0x1);}}_0x5a3eef=_0x539ba5['scale']||0x6*-0x455+0x130+0x18cf,_0x26c5c9=(_0x539ba5['width']+_0x539ba5['height'])/(-0xc1*-0xd+0x4e*-0x16+-0x71*0x7),_0x1e768f=_0x3456b9*_0x26c5c9/_0x5a3eef,_0x2d0fcb=(_0x539ba5['xadvance']+_0xb8d43a)*_0x3456b9,_0x30da2d=(_0x539ba5['xoffset']-_0xb8d43a)*_0x3456b9,_0x5a4bd1=_0x539ba5['yoffset']*_0x3456b9;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x462d01+'\x27');const _0x1bbdcf=TR['test'](_0x462d01),_0xfc2285=_0x539ba5&&_0x539ba5['map']||0x151f*0x1+-0x1dd3+-0x4*-0x22d,_0x1a52be=-this['_font']['data']['info']['maps'][_0xfc2285]['width']/this['_font']['data']['info']['maps'][_0xfc2285]['height'],_0xc8c960=this['_meshInfo'][_0xfc2285],_0x4ae267=_0x571f72+this['_spacing']*_0x2d0fcb;if(_0x4ae267>_0x330954&&_0x2636b9>-0x5*0x5c3+-0x17f1+0x698*0x8&&!_0x1bbdcf&&(this['_maxLines']<-0x1*-0xe09+0x2694+-0x349d*0x1||_0x480068<this['_maxLines'])){if(_0x1df3fe===0x1fb+-0x10df+0xee4)_0x2eab17=_0x2f243a,_0x5c5c27(this['_symbols'],_0x2f243a,_0x17b41d);else{const _0x548d3d=Math['max'](_0x2f243a-_0x2eab17,0x1d*-0xfd+-0x1d7b+0x3a24);if(this['_meshInfo']['length']<=-0x182+-0x5*0x57b+0x1cea)_0xc8c960['lines'][_0x480068-(-0xdff*-0x2+0x70a+0x2307*-0x1)]-=_0x548d3d,_0xc8c960['quad']-=_0x548d3d;else{const _0x2f2255=_0x2eab17,_0x35fae0=_0x2f243a;for(let _0x5d0365=_0x2f2255;_0x5d0365<_0x35fae0;_0x5d0365++){const _0x4c477d=this['_symbols'][_0x5d0365],_0x972622=_0x3637e3['chars'][_0x4c477d],_0x1db8a6=this['_meshInfo'][_0x972622&&_0x972622['map']||0x5*-0x34f+0x3*-0xbe3+-0x3434*-0x1];_0x1db8a6['lines'][_0x480068-(0x3*0x11e+0x96d*0x2+-0x1633)]-=-0x1*-0x1b91+0x1478+0x1804*-0x2,_0x1db8a6['quad']-=-0x2623+-0x2*0x859+0x36d6*0x1;}}_0x2f243a-=_0x548d3d+(0x1*-0x2672+-0x1cb4+0x4327),_0x5c5c27(this['_symbols'],_0x2eab17,_0x42f24b);continue;}}_0x2dbb15=_0xc8c960['quad'],_0xc8c960['lines'][_0x480068-(-0x107*0x24+-0x1*0x2506+0x4a03)]=_0x2dbb15;let _0x435d0d=_0x571f72-_0x30da2d,_0x2cbbd3=_0x435d0d+_0x1e768f;const _0x34ae62=_0x337615-_0x5a4bd1,_0x43366a=_0x34ae62+_0x1e768f;if(this['_rtl']){const _0x3e8422=_0x1e768f-_0x30da2d-this['_spacing']*_0x2d0fcb-_0x30da2d;_0x435d0d-=_0x3e8422,_0x2cbbd3-=_0x3e8422;}_0xc8c960['positions'][_0x2dbb15*(0x1*-0xe7d+-0x1933*-0x1+0x25*-0x4a)*(-0x9a+-0x790+-0xd*-0xa1)+(-0x1321+-0x2483+0x37a4)]=_0x435d0d,_0xc8c960['positions'][_0x2dbb15*(-0x1*-0x23a7+0x2709+-0x4*0x12ab)*(-0x5*-0x2d4+0x913*0x1+-0x1734)+(0x1*-0x1465+-0x165*0x4+-0x32*-0x85)]=_0x34ae62,_0xc8c960['positions'][_0x2dbb15*(-0x27d*-0x4+0x362+-0xd52)*(0x5db*0x4+-0x3*0xbaa+0x1*0xb95)+(-0x1*0x12af+0x3e*-0x7a+0x303d)]=_0xfd409e,_0xc8c960['positions'][_0x2dbb15*(-0x63f+-0x1*0x1ff+-0x842*-0x1)*(-0xa8e+-0x693*0x2+0x17b7)+(-0x505+-0x539*-0x1+0x31*-0x1)]=_0x2cbbd3,_0xc8c960['positions'][_0x2dbb15*(0x16dd+0x40*-0x49+0x1*-0x499)*(-0xaec+0xe85*-0x1+0x1974)+(-0x844+0x1*-0x821+-0x1069*-0x1)]=_0x34ae62,_0xc8c960['positions'][_0x2dbb15*(0x9d6+-0x1c49+0x1277)*(-0x1*0x15f7+0x18dc+-0x2e2)+(-0x11a0+-0x2101+0x32a6)]=_0xfd409e,_0xc8c960['positions'][_0x2dbb15*(-0x1*0xf4+-0x351+0x449)*(0x1746*-0x1+0x2aa*0xd+-0xb59*0x1)+(0x1*0x768+0x6a3*0x5+-0x2891)]=_0x2cbbd3,_0xc8c960['positions'][_0x2dbb15*(-0xdf0+0x1529+0xf*-0x7b)*(-0x2b*-0x33+0x1f2e+0x1*-0x27bc)+(-0xa5a+0xefe+-0x49d)]=_0x43366a,_0xc8c960['positions'][_0x2dbb15*(0xc7*-0x8+-0x35*-0xb1+-0x1e69)*(-0x71a+0x23b*-0x6+0x147f)+(-0x2e7*-0x3+-0x8d5*0x4+-0x1aa7*-0x1)]=_0xfd409e,_0xc8c960['positions'][_0x2dbb15*(-0xe34+-0x1d44+0x2c*0xfd)*(0xcd6+0x1d65+0x2*-0x151c)+(0x129a+-0xe*-0x21a+-0x2ffd)]=_0x435d0d,_0xc8c960['positions'][_0x2dbb15*(0x542*-0x2+0x87*-0xd+0x1163*0x1)*(-0x1412*0x1+-0x1*-0x1805+-0x3f0)+(-0x1e18+-0xd4c+0x28e*0x11)]=_0x43366a,_0xc8c960['positions'][_0x2dbb15*(-0xff+0x12df+-0x11dc)*(-0x871*0x3+0xc2e*0x1+0x694*0x2)+(0xd87+-0x249b+0x171f)]=_0xfd409e,this['width']=Math['max'](this['width'],_0x4ae267);let _0x497e24;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x497e24=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||-0x236a+0x1240+0x112a+0.0001)),_0x497e24=Y['clamp'](_0x497e24,_0x41a8d4,_0x4394bc),_0x497e24!==this['_element']['fontSize'])){this['_fontSize']=_0x497e24,_0x5ce859=!(0x736+-0x3*0x5d5+-0x1*-0xa49);break;}if(this['height']=Math['max'](this['height'],_0x393885-(_0x337615+_0x488a65)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x497e24=Y['clamp'](this['_fontSize']-(-0x1cbc+0x1be5*0x1+-0x48*-0x3),_0x41a8d4,_0x4394bc),_0x497e24!==this['_element']['fontSize'])){this['_fontSize']=_0x497e24,_0x5ce859=!(0xe51+-0xabf*0x1+0x2*-0x1c9);break;}_0x571f72+=this['_spacing']*_0x2d0fcb,_0x1bbdcf||(_0x17b41d=_0x571f72),(this['_isWordBou'+'ndary'](_0x462d01)||this['_isValidNe'+'xtChar'](_0x5a48aa)&&(this['_isNextCJK'+'Boundary'](_0x462d01,_0x5a48aa)||this['_isNextCJK'+'WholeWord'](_0x5a48aa)))&&(_0x1df3fe++,_0x42f24b=_0x17b41d,_0x2eab17=_0x2f243a+(0x1*0x16ae+0x1*-0x1709+0x5c)),_0x2636b9++;const _0x813109=this['_getUv'](_0x462d01);if(_0xc8c960['uvs'][_0x2dbb15*(-0x796*-0x1+-0x2*0x12ee+0x1e4a)*(-0x3f9+-0x223*0x6+-0xb*-0x187)+(-0x1*0xa9f+-0xd4*-0x9+0x32b)]=_0x813109[0x221b+-0x1db2+0x469*-0x1],_0xc8c960['uvs'][_0x2dbb15*(0x1e7d+-0x2352+-0x49*-0x11)*(0xb86+0x123f+-0x1dc3)+(-0x2df+-0xd3*0x19+0x177b)]=-0x5*0x6f5+0x66+0x2264*0x1-_0x813109[-0x13ff+0xf*0x11b+0x36b],_0xc8c960['uvs'][_0x2dbb15*(-0x2*-0x84b+0x215a*0x1+-0x2d*0x11c)*(0x221d+0x35e*-0x5+0x1145*-0x1)+(0x2ff*0x2+-0x1791*-0x1+-0x55*0x59)]=_0x813109[-0x4e4*-0x4+-0x14d3+0x145],_0xc8c960['uvs'][_0x2dbb15*(0x12ef+0xca3+-0x1f8e)*(-0x10*0x8c+0xd26+-0x1*0x464)+(0x4e+0xb7b+-0xbc6)]=0x8*0x1cf+0x3*0x1bf+-0x13b4-_0x813109[-0x7*-0x59+0x1*0x287+0x4f5*-0x1],_0xc8c960['uvs'][_0x2dbb15*(0x23d9+-0x28*-0x52+0x7*-0x6f3)*(0xa*0x2fe+-0x1cf*0x5+-0x14df)+(-0x1709*-0x1+0x14d1*0x1+-0x2bd6)]=_0x813109[0x249f+0x1b5a+-0x3ff7],_0xc8c960['uvs'][_0x2dbb15*(0x19a3+-0x22b2*0x1+0x913)*(0x361*-0x1+-0x1*0xd55+0x4*0x42e)+(0x26c6+-0x17*0xd6+-0x1387)]=-0x103e+-0x1101+0x2140-_0x813109[-0xe72*0x1+-0x68*-0x23+0x3d],_0xc8c960['uvs'][_0x2dbb15*(-0x15d*-0x6+-0x74*-0x34+0x1*-0x1fba)*(-0x16af+0x97*-0x16+0x23ab)+(0x35*0x6b+0xb1*0x1+-0xb69*0x2)]=_0x813109[-0x7*-0x16d+0x1c4e+-0xb*0x37b],_0xc8c960['uvs'][_0x2dbb15*(-0x1c89+-0x1eb+0x34*0x96)*(-0x1c*-0x92+0xcb5+0x1cab*-0x1)+(0x1*0x755+-0x9f+0x1d*-0x3b)]=-0x44d*0x1+-0x24fc+0x294a-_0x813109[0x1*0x13f9+0x1ee*0x6+-0x1f8a*0x1],this['_symbolCol'+'ors']){const _0xd2c20c=this['_symbolCol'+'ors'][_0x2f243a]*(-0x155c+-0x7d9*-0x1+0x6c3*0x2);_0x29fccf=this['_colorPale'+'tte'][_0xd2c20c],_0x493b2b=this['_colorPale'+'tte'][_0xd2c20c+(-0x917+-0x13b6+0x1cce)],_0x401a96=this['_colorPale'+'tte'][_0xd2c20c+(-0x1*-0x3fd+-0xf1*0x5+0x1f*0x6)];}if(_0xc8c960['colors'][_0x2dbb15*(-0x3*-0x995+-0x115*0x4+0x1867*-0x1)*(0x118c+0x6*0xb4+-0x15c0)+(0x1025*0x1+0x1216+-0x223b)]=_0x29fccf,_0xc8c960['colors'][_0x2dbb15*(-0x127*0x1f+0x1196+0x1227)*(-0x2062+0xa2f+0x1637)+(0x18b2+-0x2093+0x2*0x3f1)]=_0x493b2b,_0xc8c960['colors'][_0x2dbb15*(-0x20b1+-0x2a5+0x235a)*(0x227a+0x82c*-0x4+-0x1c6)+(-0x30*0x83+-0x26df+0x3f71)]=_0x401a96,_0xc8c960['colors'][_0x2dbb15*(-0x18cf+-0x7*0x447+0x36c4)*(0x9*-0x305+0x56*0x4a+0x255)+(-0x1dbf+-0x1ee+0x4*0x7ec)]=-0x3*0x8f5+-0x3f8+-0x65e*-0x5,_0xc8c960['colors'][_0x2dbb15*(0x1*0x45d+-0x64*-0x1+-0x4bd)*(0x1c33+0x2061+0x143*-0x30)+(-0xa61*0x3+-0xcfb*0x2+-0x1*-0x391d)]=_0x29fccf,_0xc8c960['colors'][_0x2dbb15*(0x1b3*0x11+0x258d+-0x426c)*(-0x27*-0x17+-0xf93*0x1+0x1ba*0x7)+(-0x128f+0x3b1+-0xee3*-0x1)]=_0x493b2b,_0xc8c960['colors'][_0x2dbb15*(-0x12e0+-0x3*-0x911+-0x84f)*(0xd4e+0x6*-0x27a+0xc9*0x2)+(0x2217+-0xeb4*0x2+-0x4a9)]=_0x401a96,_0xc8c960['colors'][_0x2dbb15*(0x1bd+-0x1fb2+0x1df9)*(-0x4*0x309+-0x932+-0x2*-0xaad)+(-0x4b1*-0x1+-0x2309*0x1+0x19*0x137)]=-0x1f75*0x1+-0xfbd+0x3031,_0xc8c960['colors'][_0x2dbb15*(-0x1d10+0x1fd3+-0x2bf)*(-0x1b19*-0x1+0x1*0x515+-0x202a*0x1)+(0x2*0x10d+0x25cf+0x1*-0x27e1)]=_0x29fccf,_0xc8c960['colors'][_0x2dbb15*(0x57*0x5d+0x1de9+-0x520*0xc)*(-0xf44+-0x8*0x26a+0xc*0x2e2)+(-0x24f8+0x10b4+-0x1*-0x144d)]=_0x493b2b,_0xc8c960['colors'][_0x2dbb15*(0x5a8+0x2653+-0x2bf7)*(-0xbed+0xb42+0x1*0xaf)+(-0x2200+0x514*0x5+0x8a6)]=_0x401a96,_0xc8c960['colors'][_0x2dbb15*(-0x3*-0x262+-0x1*0x181d+0x10fb)*(0x403*0x8+0xa*-0x26b+-0x7e6)+(-0xc26+-0x6f8+0x1329*0x1)]=0x95*-0x12+0x1*-0x240e+0x2f87,_0xc8c960['colors'][_0x2dbb15*(0x1d2d+0x1d1d+0x2*-0x1d23)*(0x1195+0x25ba+0x5*-0xb0f)+(0x1f04+0xa*0x86+-0x2434)]=_0x29fccf,_0xc8c960['colors'][_0x2dbb15*(-0x7f7+0x4*-0x28+0x89b)*(-0x111d+0x28f+0xe92)+(-0x371+0x1*0x263c+0x22be*-0x1)]=_0x493b2b,_0xc8c960['colors'][_0x2dbb15*(0x1*-0x119d+0x27a+-0x3*-0x50d)*(-0x2e6*0x1+0xe27+-0xb3d)+(-0x1405+0x1*0x18ef+-0x4dc)]=_0x401a96,_0xc8c960['colors'][_0x2dbb15*(0x1a*-0x167+0x1*0x1acf+-0xb*-0xe1)*(-0x1332+-0x22*-0xed+-0xc44)+(0x2707+-0x189e+-0xe5a)]=0x1*0x7f+0x2471+-0xbfb*0x3,this['_symbolOut'+'lineParams']){const _0x4e85a3=this['_symbolOut'+'lineParams'][_0x2f243a]*(0x1*-0xc95+-0xd56+0x14c*0x14);_0x6d596d=this['_outlinePa'+'lette'][_0x4e85a3]+this['_outlinePa'+'lette'][_0x4e85a3+(0x1cdb+0x604*0x5+0x2*-0x1d77)]*(0x2*0x107+0x2222+-0x2330),_0x2cbfbc=this['_outlinePa'+'lette'][_0x4e85a3+(-0x11c8+-0x329*-0x7+-0x455)]+this['_outlinePa'+'lette'][_0x4e85a3+(0x3*0x10b+-0x1d58+0x9*0x2ea)]*(0x737+-0xcc8+0x691*0x1),_0x448ee8=this['_outlinePa'+'lette'][_0x4e85a3+(-0x1865+-0x1527+0x2d90)];}if(_0xc8c960['outlines'][_0x2dbb15*(-0xa73+-0x1*0x16d+-0x2*-0x5f2)*(0x25f*0x9+-0x2423+0x1*0xecf)+(-0x21d*-0x7+0x68+0x1*-0xf33)]=_0x6d596d,_0xc8c960['outlines'][_0x2dbb15*(0x847*0x1+0x3*0xa31+-0x26d6)*(0x115*-0x1+0x1e4e+0x2*-0xe9b)+(-0x18ba+-0x19bc+0x1*0x3277)]=_0x2cbfbc,_0xc8c960['outlines'][_0x2dbb15*(-0x96a+0x1*-0x1507+-0x153*-0x17)*(-0xc3*0x26+-0x266*-0x2+-0x5*-0x4d5)+(0x1602+0x8b9+0x1eb9*-0x1)]=_0x448ee8,_0xc8c960['outlines'][_0x2dbb15*(0x1*-0xe38+0xb47+0x2f5)*(-0x1093*0x1+-0x1bf4+0x2c8a)+(-0x5*0x31f+-0x193f+0x28dd)]=_0x6d596d,_0xc8c960['outlines'][_0x2dbb15*(0x1af5*0x1+0x377*-0x5+-0x99e)*(-0x16e7*0x1+-0xa4*0x18+-0x3a*-0xa9)+(0x3*0x815+0x9a6*0x4+-0x3ed3)]=_0x2cbfbc,_0xc8c960['outlines'][_0x2dbb15*(0x2*-0xa75+-0x1*0x2ff+0x4c9*0x5)*(0x64e+0xf37+0x1582*-0x1)+(-0x4*-0x6cb+0x5*-0x3+-0x1b18)]=_0x448ee8,_0xc8c960['outlines'][_0x2dbb15*(0x855+-0xf5*0x14+-0x1*-0xad3)*(0x11ec+-0x2*-0x61+-0x3b*0x51)+(0x114+0x1cb3+-0x1dc1)]=_0x6d596d,_0xc8c960['outlines'][_0x2dbb15*(-0x7*-0x2a1+0x18b*0x1+0x2*-0x9f7)*(-0x3*-0xb6f+0x48b*-0x1+0x1dbf*-0x1)+(-0xca7+-0x3*0x87d+0x2625)]=_0x2cbfbc,_0xc8c960['outlines'][_0x2dbb15*(-0x15e0+0x1e8d+0x1*-0x8a9)*(0x6b*0x5b+0x1e*-0xaf+-0x1184)+(0x94f+-0xba8+0x261)]=_0x448ee8,_0xc8c960['outlines'][_0x2dbb15*(-0x217e+-0x15d+-0x4f*-0x71)*(-0x2538+0x199d+0xb9e)+(0x191*0x5+0x3*-0x823+0x109d)]=_0x6d596d,_0xc8c960['outlines'][_0x2dbb15*(0x29*-0x25+0x69d*-0x1+-0x1*-0xc8e)*(-0x805+-0xfc1*-0x1+-0x7b9)+(0x626*-0x1+-0x20b0+0x26e0)]=_0x2cbfbc,_0xc8c960['outlines'][_0x2dbb15*(-0xa53*0x3+0x1a*0x76+-0x7*-0x2b7)*(-0x4*0xbf+-0x35f+0x65e)+(0x223a+-0x1*-0x1b4f+-0x3d7e)]=_0x448ee8,this['_symbolSha'+'dowParams']){const _0x436b77=this['_symbolSha'+'dowParams'][_0x2f243a]*(-0x250f+-0x98+0x25ad);_0x2e3550=this['_shadowPal'+'ette'][_0x436b77]+this['_shadowPal'+'ette'][_0x436b77+(-0x45b+-0xbe8+0x1044)]*(0x13*-0x10f+-0x1bad*-0x1+-0x690),_0x3850ff=this['_shadowPal'+'ette'][_0x436b77+(0x17*0x1ad+-0x1*0x1757+-0xf32)]+this['_shadowPal'+'ette'][_0x436b77+(0x1c*0xa3+0x25+0xf2*-0x13)]*(-0xa72+0x8*-0x340+-0x12b9*-0x2),_0x4e9422=this['_shadowPal'+'ette'][_0x436b77+(-0x1242+-0x1e54+-0x309a*-0x1)]+(0x298*-0xc+-0x6b7*-0x3+0xb7a)+Math['round'](_0x1a52be*this['_shadowPal'+'ette'][_0x436b77+(0x1*0x1ebb+0x1*0xde9+-0x2c9f)]+(0x1*-0x166f+-0xc2a+-0x8*-0x463))*(-0xa00+0x81*-0x2f+0x22af);}_0xc8c960['shadows'][_0x2dbb15*(0x24b0+0x1*-0x1bce+0x46f*-0x2)*(0x1f97+-0x2708+0x774)+(-0x20a1*0x1+0x1978+0x729)]=_0x2e3550,_0xc8c960['shadows'][_0x2dbb15*(0x19b8+0x2*-0x445+0x2*-0x895)*(-0x17cd+0xcba*-0x1+0x248a)+(0x7*-0x2cd+-0xac9*0x1+0x1e65*0x1)]=_0x3850ff,_0xc8c960['shadows'][_0x2dbb15*(-0x1*0x1f0d+0x2383+-0x472)*(-0xb*-0x30e+0x1e68+-0x17d*0x2b)+(0x2*-0x127b+0x657*0x2+0x184a)]=_0x4e9422,_0xc8c960['shadows'][_0x2dbb15*(-0x120+0xc73*-0x1+0x1*0xd97)*(-0x2f*-0xbb+-0x1880+-0x9d2)+(-0x704+-0x43+0x137*0x6)]=_0x2e3550,_0xc8c960['shadows'][_0x2dbb15*(0x1*-0x1a9e+0x1f9a+-0x4f8)*(-0x1ad2*-0x1+-0x1851+-0x27e)+(-0x19d*0xb+-0x1bf*0x2+0x1*0x1541)]=_0x3850ff,_0xc8c960['shadows'][_0x2dbb15*(0x1b0+0x10*-0x114+0xf94)*(0x22c*-0x4+0x1a8d+-0x11da)+(-0x9*-0x361+0x4*0x4c1+0x2e8*-0x11)]=_0x4e9422,_0xc8c960['shadows'][_0x2dbb15*(-0x1d71+0x1*0x21f1+0x2*-0x23e)*(0x443+0x11b6+-0x1*0x15f6)+(0x4*0x80c+-0x1*-0x1337+-0x3361)]=_0x2e3550,_0xc8c960['shadows'][_0x2dbb15*(-0x141b+0x96*0x2f+0x1*-0x76b)*(0x2b1*-0x2+0x1181*0x1+-0x32*0x3e)+(0x1*0x24a8+0x2*0x722+-0x32e5)]=_0x3850ff,_0xc8c960['shadows'][_0x2dbb15*(0x18c4+-0x100a+-0x1be*0x5)*(0xd8b+0x8ec+-0x1674)+(0x2167+-0x1*0x1085+-0x10da)]=_0x4e9422,_0xc8c960['shadows'][_0x2dbb15*(-0xfe9+-0x25c2+0x35af)*(0x1017+0x1d0d+0xf0b*-0x3)+(-0x9b2+-0x1*-0x180d+-0x2f*0x4e)]=_0x2e3550,_0xc8c960['shadows'][_0x2dbb15*(-0x37*-0x1b+0x7c*0x1f+-0x5*0x429)*(-0x9*-0x3f1+0x2350*0x1+-0x2363*0x2)+(0x270e+-0x11aa+-0xaad*0x2)]=_0x3850ff,_0xc8c960['shadows'][_0x2dbb15*(-0x18db+0x505*0x7+0x24*-0x49)*(-0x239d+-0x13b6+0x3756)+(-0x7f*0x4d+-0xcf1*-0x2+0xc5c)]=_0x4e9422,_0xc8c960['quad']++;}_0x5ce859||_0xb30977<_0x487755&&_0x5c5c27(this['_symbols'],_0x487755,_0x571f72);}this['_noResize']=!(-0x215*0x8+0x1*0x1bb8+-0xb10),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(0x2*0x2db+-0x1*-0x24cd+-0x2a82);const _0x21b2db=this['_element']['pivot']['x'],_0x2b43a1=this['_element']['pivot']['y'],_0x42b32f=this['_alignment']['x'],_0x526bfe=this['_alignment']['y'];for(let _0x8497c=0x22c8+0x1d19+-0x3fe1;_0x8497c<this['_meshInfo']['length'];_0x8497c++){if(this['_meshInfo'][_0x8497c]['count']===-0x311+-0x450*-0x7+0x83*-0x35)continue;let _0x367144=-0x17*-0x147+-0x11ba+-0xba7;for(const _0x4a944b in this['_meshInfo'][_0x8497c]['lines']){const _0x776aa2=this['_meshInfo'][_0x8497c]['lines'][_0x4a944b],_0x28fb99=this['_lineWidth'+'s'][parseInt(_0x4a944b,0x21eb+-0x13eb*0x1+-0xdf6)],_0x200af1=-_0x21b2db*this['_element']['calculated'+'Width']+_0x42b32f*(this['_element']['calculated'+'Width']-_0x28fb99)*(this['_rtl']?-(0x32b+0x1821+-0x11*0x19b):0x3*-0xa9f+0x1*-0xb77+0x2b55),_0x4978ae=(0x156b+0x42d*0x2+-0x1dc4-_0x2b43a1)*this['_element']['calculated'+'Height']-_0x393885-(0xfef*-0x1+0xb7*-0x11+0x1a7*0x11-_0x526bfe)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x87090f=_0x367144;_0x87090f<=_0x776aa2;_0x87090f++)this['_meshInfo'][_0x8497c]['positions'][_0x87090f*(-0x17b8+0x1*0x71e+0x109e)*(-0x17*0xef+-0x1*-0x19f+-0x1*-0x13dd)]+=_0x200af1,this['_meshInfo'][_0x8497c]['positions'][_0x87090f*(-0x1*0x241+0x1e60+-0x1c1b)*(-0x13ae+0x1*0xc85+0x72c)+(0x2d*0x6c+0x1c75+-0x2f6e)]+=_0x200af1,this['_meshInfo'][_0x8497c]['positions'][_0x87090f*(0x1*-0x1960+-0xda0+0x2c*0xe3)*(-0x601+-0x8*-0x12f+-0x374)+(-0x5*0x4d5+0x3c*-0x1c+-0x1cf*-0x11)]+=_0x200af1,this['_meshInfo'][_0x8497c]['positions'][_0x87090f*(-0x30e+0x5*-0x65e+-0x22e8*-0x1)*(-0x814+0x22db*-0x1+0x2af2)+(0x4*-0x12e+0x16*-0x2+0xd*0x61)]+=_0x200af1,this['_meshInfo'][_0x8497c]['positions'][_0x87090f*(0x29*0x59+0x21*0x9d+0x1*-0x227a)*(-0x42*-0xf+-0x67*0x56+0x1ebf)+(-0x1a0b+0x14*-0x175+0x3730)]+=_0x4978ae,this['_meshInfo'][_0x8497c]['positions'][_0x87090f*(-0xde1+0x245c+-0x1677)*(0x159b*-0x1+-0xd6+0x4*0x59d)+(-0xea5+0x1d69*0x1+-0xec0)]+=_0x4978ae,this['_meshInfo'][_0x8497c]['positions'][_0x87090f*(-0x15fd+0x1104+0x4fd)*(0xddc+0xf42+0x1d1b*-0x1)+(-0x6d*0x1d+-0xf70+0x1bd0)]+=_0x4978ae,this['_meshInfo'][_0x8497c]['positions'][_0x87090f*(0x820*-0x2+0x24a9*0x1+-0x1*0x1465)*(0x34d+-0x147b+0x1131)+(-0xb*-0x14b+-0x1d76+-0xf47*-0x1)]+=_0x4978ae;if(this['_rtl'])for(let _0x1eb325=_0x367144;_0x1eb325<=_0x776aa2;_0x1eb325++){const _0x305331=_0x1eb325*(0x23c+0x221*0x1+-0x459)*(0xb*0x8f+0x11b*0xf+0x5*-0x48b);for(let _0x24fb4e=0x9*-0x114+0x1820+-0x34*0x47;_0x24fb4e<-0x1*-0x8a5+-0x3*0x579+0x7ca;++_0x24fb4e)this['_meshInfo'][_0x8497c]['positions'][_0x305331+_0x24fb4e*(0x1459+0xf1*0x1+0x1*-0x1547)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x8497c]['positions'][_0x305331+_0x24fb4e*(-0x1b0f+-0x17ae+0x32c0)]+_0x200af1*(0x116c+0x677*-0x5+0xee9);const _0x52ab68=this['_meshInfo'][_0x8497c]['positions'][_0x305331+(-0xd9e*-0x1+-0x1e3b+-0x38*-0x4c)],_0x24bbe7=this['_meshInfo'][_0x8497c]['positions'][_0x305331+(0x1*0x1405+-0xb*-0x2+-0x1*0x1415)];this['_meshInfo'][_0x8497c]['positions'][_0x305331+(0x16*-0xf9+-0x3*-0xcdb+0xf4*-0x12)]=this['_meshInfo'][_0x8497c]['positions'][_0x305331+(-0x79*-0x1+0xa3*-0x12+0xafd)],this['_meshInfo'][_0x8497c]['positions'][_0x305331+(0x2*-0x102a+-0x2*0x1361+0x471c)]=this['_meshInfo'][_0x8497c]['positions'][_0x305331+(-0x239a+0x23bd+-0x1*0x1a)],this['_meshInfo'][_0x8497c]['positions'][_0x305331+(-0x1bc8+0x159e+0x62a)]=_0x52ab68,this['_meshInfo'][_0x8497c]['positions'][_0x305331+(-0xe*0xc3+0x115*-0x17+0x2396)]=_0x24bbe7;}_0x367144=_0x776aa2+(0xad*-0x18+0x13c7+-0x38e);}const _0x1fe771=this['_meshInfo'][_0x8497c]['count']*(0xb80+0x1b5+-0xd31),_0x117c11=this['_meshInfo'][_0x8497c]['quad']*(0x2*0x38b+0x1*0x14cb+-0x1bdd),_0x39dc68=new Uo(this['_meshInfo'][_0x8497c]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0xa2ea7c=0x107*-0xa+0x1b35+-0x10ef;_0xa2ea7c<_0x1fe771;_0xa2ea7c++)_0xa2ea7c>=_0x117c11?(_0x39dc68['element'][Me]['set'](-0x139*-0x1e+0x5fb*0x3+-0x369f,0x1*0xb57+-0xa97*-0x3+-0x2b1c,-0xf9*0x13+-0x1*-0x1d4d+-0x115*0xa),_0x39dc68['element'][is]['set'](-0x19d5+0x472+0x1563,0x23ee+-0x1955+-0xa99),_0x39dc68['element'][Wt]['set'](0x1*0x26c3+0x1*0x1069+-0x1ac*0x21,0x1cf8+0x211c+0x224*-0x1d,0x19ec+0x13*0x21+0x975*-0x3,-0x11c3*0x1+0x304+0xebf),_0x39dc68['element'][Ko]['set'](0x7*0x4fb+0xf4c+0x1*-0x3229,-0x10*-0xb2+-0x4a5+-0x229*0x3,0x6*0x279+-0x61*-0x51+-0x2d87,-0x544*0x4+-0x1633*0x1+0x2b43),_0x39dc68['element'][Zo]['set'](0x243a+-0x1f8+-0x2242,0x1*0x25b3+-0x1b*-0x71+-0x319e,-0x2d1*-0x7+0x2*-0xd30+-0x37*-0x1f,0x1*0x1981+0x1511+-0x2e92)):(_0x39dc68['element'][Me]['set'](this['_meshInfo'][_0x8497c]['positions'][_0xa2ea7c*(-0x19ae+-0x2292+0x3c43*0x1)+(0x2089+0x2*0x1ee+-0x2465)],this['_meshInfo'][_0x8497c]['positions'][_0xa2ea7c*(0x1607+-0x2*-0xf6f+-0x34e2)+(-0x1*-0x1a29+-0x1b*-0xbf+0x1b7*-0x1b)],this['_meshInfo'][_0x8497c]['positions'][_0xa2ea7c*(-0x25*0xf8+-0x1698+0x3a73)+(0x8ab*0x2+-0x1ca8+0xb54)]),_0x39dc68['element'][is]['set'](this['_meshInfo'][_0x8497c]['uvs'][_0xa2ea7c*(0x1f29*-0x1+-0x68*0x47+-0x239*-0x1b)+(-0xfb4*-0x1+-0x1dcf+-0xe1b*-0x1)],this['_meshInfo'][_0x8497c]['uvs'][_0xa2ea7c*(-0xea*0x1b+-0x1*0xab3+0x2363*0x1)+(0x1*-0xffb+0x1273*0x1+0x277*-0x1)]),_0x39dc68['element'][Wt]['set'](this['_meshInfo'][_0x8497c]['colors'][_0xa2ea7c*(0x78*0x43+-0x1*0x1d8d+-0x9d*0x3)+(0x111+-0x1*-0x1e09+0x1f1a*-0x1)],this['_meshInfo'][_0x8497c]['colors'][_0xa2ea7c*(-0x1276+0xf77+0x303)+(0x94*-0x2+0x97*0x1d+0x2*-0x7f9)],this['_meshInfo'][_0x8497c]['colors'][_0xa2ea7c*(-0xe*-0x104+-0x101+-0xd33)+(0x19f7*0x1+-0x53*0x1d+-0x108e)],this['_meshInfo'][_0x8497c]['colors'][_0xa2ea7c*(0x393+0x4f5+-0x442*0x2)+(-0x6a*0x11+-0x1*-0x16e+0x59f)]),_0x39dc68['element'][Ko]['set'](this['_meshInfo'][_0x8497c]['outlines'][_0xa2ea7c*(-0x8ef+-0x163e+0x1f30)+(-0x1d69+0x24dd*-0x1+0x4246)],this['_meshInfo'][_0x8497c]['outlines'][_0xa2ea7c*(0x1b74+-0xd36+0xe3b*-0x1)+(-0x21*-0x117+0x1d92*-0x1+-0x1*0x664)],this['_meshInfo'][_0x8497c]['outlines'][_0xa2ea7c*(-0x282+-0x1*0x932+0xbb7*0x1)+(0x1ef9+0x126d+-0x3164)]),_0x39dc68['element'][Zo]['set'](this['_meshInfo'][_0x8497c]['shadows'][_0xa2ea7c*(-0x261f+-0x1bba+0x2*0x20ee)+(0xa08+-0x1*0x26e4+0x1cdc*0x1)],this['_meshInfo'][_0x8497c]['shadows'][_0xa2ea7c*(-0x2cd*0x2+-0x1cf*-0x4+0x1*-0x19f)+(0xc44*-0x2+0x1*0x23f6+-0xb6d)],this['_meshInfo'][_0x8497c]['shadows'][_0xa2ea7c*(0xa9b+0x14f9+-0x1f91)+(0x197*-0x14+-0x22bd+-0x1*-0x428b)])),_0x39dc68['next']();_0x39dc68['end'](),this['_meshInfo'][_0x8497c]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x8497c]['positions']),this['_meshInfo'][_0x8497c]['meshInstan'+'ce']['_aabbVer']=-(-0x25e7+0x24cf+0x119);}this['_aabbDirty']=!(-0x1194+0x4*-0x707+-0xb6c*-0x4);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x181438){this['font']!==_0x181438['resource']&&(this['font']=_0x181438['resource']);}['_onFontCha'+'nge'](_0xef348,_0x449c26,_0x327680,_0x315ea4){if(_0x449c26==='data'){this['_font']['data']=_0x327680;const _0x351183=this['_font']['data']['info']['maps']['length'];for(let _0x3b8ba9=0x48*-0x12+-0x12ec+0x133*0x14;_0x3b8ba9<_0x351183;_0x3b8ba9++){if(!this['_meshInfo'][_0x3b8ba9])continue;const _0x4f11f3=this['_meshInfo'][_0x3b8ba9]['meshInstan'+'ce'];_0x4f11f3&&(_0x4f11f3['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x4f11f3['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x4f11f3['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x3b8ba9]['width']));}}}['_onFontRem'+'ove'](_0x5e9e6d){}['_setTextur'+'eParams'](_0x3c03cb,_0x5f49a5){this['_font']&&(this['_font']['type']===Rh?(_0x3c03cb['deletePara'+'meter']('texture_em'+'issiveMap'),_0x3c03cb['deletePara'+'meter']('texture_op'+'acityMap'),_0x3c03cb['setParamet'+'er']('texture_ms'+'dfMap',_0x5f49a5)):this['_font']['type']===dR&&(_0x3c03cb['deletePara'+'meter']('texture_ms'+'dfMap'),_0x3c03cb['setParamet'+'er']('texture_em'+'issiveMap',_0x5f49a5),_0x3c03cb['setParamet'+'er']('texture_op'+'acityMap',_0x5f49a5)));}['_getPxRang'+'e'](_0x86698){const _0x43844a=Object['keys'](this['_font']['data']['chars']);for(let _0x48b9ae=-0x1ad5*0x1+0xe35*-0x2+0x1*0x373f;_0x48b9ae<_0x43844a['length'];_0x48b9ae++){const _0x25591a=this['_font']['data']['chars'][_0x43844a[_0x48b9ae]];if(_0x25591a['range'])return(_0x25591a['scale']||0x18a5+-0x2*-0xb23+-0x2eea)*_0x25591a['range'];}return 0x2*-0xe59+0xf50+0xd64;}['_getUv'](_0x14a30c){const _0xdc645c=this['_font']['data'];if(!_0xdc645c['chars'][_0x14a30c])return _0xdc645c['chars']['\x20']?this['_getUv']('\x20'):[-0x1668+-0x281*-0x7+0x4e1,-0x1661+0x88*0x3+0x139*0x11,0x4*0x227+-0x1*0x5e2+-0x2ba,0x1f1b*0x1+0x193f+-0x385a];const _0x1bc665=_0xdc645c['chars'][_0x14a30c]['map'],_0x4bf3d0=_0xdc645c['info']['maps'][_0x1bc665]['width'],_0x2753d1=_0xdc645c['info']['maps'][_0x1bc665]['height'],_0x3493b7=_0xdc645c['chars'][_0x14a30c]['x'],_0xcf871e=_0xdc645c['chars'][_0x14a30c]['y'],_0x1ee47c=_0x3493b7,_0x1bfbda=_0xcf871e,_0x4958f2=_0x3493b7+_0xdc645c['chars'][_0x14a30c]['width'],_0x2b0de3=_0xcf871e-_0xdc645c['chars'][_0x14a30c]['height'],_0x2e4ab3=-0x1d7d+0x1a15+0x369-_0xdc645c['chars'][_0x14a30c]['height']/_0x2753d1;return[_0x1ee47c/_0x4bf3d0,_0x2e4ab3-_0x1bfbda/_0x2753d1,_0x4958f2/_0x4bf3d0,_0x2e4ab3-_0x2b0de3/_0x2753d1];}['onEnable'](){this['_fontAsset']['autoLoad']=!(-0x14d3*-0x1+0x132d*0x1+-0x2800),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(-0x1f23+0x397*-0xa+0x430a),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x282f5d){if(this['_model']){const _0x5f2d44=this['_model']['meshInstan'+'ces'];for(let _0x5ce08a=-0x2*-0x758+0x10d5+-0x1f85;_0x5ce08a<_0x5f2d44['length'];_0x5ce08a++)_0x5f2d44[_0x5ce08a]['stencilFro'+'nt']=_0x282f5d,_0x5f2d44[_0x5ce08a]['stencilBac'+'k']=_0x282f5d;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x505a9b){const _0x3b4985={};_0x505a9b===void(-0x202*-0xc+0x20dd+-0x38f5*0x1)&&(_0x505a9b=this['_symbols']['length']);for(let _0x22a70b=0x1*-0x1c1d+-0x24c+-0xad*-0x2d,_0x923f1=_0x505a9b;_0x22a70b<_0x923f1;_0x22a70b++){const _0x3b994d=this['_symbols'][_0x22a70b];let _0x177888=this['_font']['data']['chars'][_0x3b994d];_0x177888||(_0x177888=this['_font']['data']['chars']['\x20'],_0x177888||(_0x177888=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[0x11f8+0xd*0x15d+-0x1*0x23b1]]));const _0xcdba3c=_0x177888['map'];_0x3b4985[_0xcdba3c]?_0x3b4985[_0xcdba3c]++:_0x3b4985[_0xcdba3c]=-0x21f*0x9+0x180+0x1198;}return _0x3b4985;}['_updateRen'+'derRange'](){const _0x274165=this['_rangeStar'+'t']===0x24*-0x17+-0x125b*0x2+0x27f2?0x701*0x1+-0x359*-0x5+-0x2*0xbdf:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x6fff31=this['_rangeEnd']===-0x76b+-0x49d+0xc08?-0x16*-0x89+-0x1*0x5c3+0x1b*-0x39:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x5cab8a=-0xbb1+-0x3*-0x465+-0x17e,_0x839b79=this['_meshInfo']['length'];_0x5cab8a<_0x839b79;_0x5cab8a++){const _0x1b9f8a=_0x274165[_0x5cab8a]||-0x8d*0x3c+0x17bf+0x94d,_0x2ace13=_0x6fff31[_0x5cab8a]||-0x1abf+0x217+-0x41c*-0x6,_0x36537d=this['_meshInfo'][_0x5cab8a]['meshInstan'+'ce'];if(_0x36537d){const _0x2c40b6=_0x36537d['mesh'];_0x2c40b6&&(_0x2c40b6['primitive'][-0x2*-0xc3a+0xb7+-0x192b*0x1]['base']=_0x1b9f8a*(0x25cd+0x1bb9+0x21d*-0x1f)*(-0x1*0x2b+-0x7d2*0x1+0x7ff),_0x2c40b6['primitive'][-0x15b*0x13+0x249b+-0xada]['count']=(_0x2ace13-_0x1b9f8a)*(-0x57e*0x1+0x2c7+0x2*0x15d)*(0x2a2*-0x4+-0x7ff+0x1289*0x1));}}}set['text'](_0x430d7b){this['_i18nKey']=null;const _0x58569d=_0x430d7b!=null&&_0x430d7b['toString']()||'';this['_setText'](_0x58569d);}get['text'](){return this['_text'];}set['key'](_0x3771bb){const _0xab1a17=_0x3771bb!==null?_0x3771bb['toString']():null;this['_i18nKey']!==_0xab1a17&&(this['_i18nKey']=_0xab1a17,_0xab1a17?(this['_fontAsset']['disableLoc'+'alization']=!(0x1*0x1f0b+0x1*0x2126+0x1a*-0x278),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(0x17*0x71+-0x5*0x3d3+0x8f8));}get['key'](){return this['_i18nKey'];}set['color'](_0x2aa646){const _0x493b6f=_0x2aa646['r'],_0x55353e=_0x2aa646['g'],_0x3187a2=_0x2aa646['b'];if(this['_color']===_0x2aa646&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x493b6f&&this['_color']['g']===_0x55353e&&this['_color']['b']===_0x3187a2)&&(this['_color']['r']=_0x493b6f,this['_color']['g']=_0x55353e,this['_color']['b']=_0x3187a2,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_color']),this['_colorUnif'+'orm'][0x10*-0x17a+0x1de2+-0x10b*0x6]=We['r'],this['_colorUnif'+'orm'][-0x1212+0x4c2+0xd51]=We['g'],this['_colorUnif'+'orm'][-0x31f+-0x9bc+0x1*0xcdd]=We['b'];for(let _0x4cef17=0x1b8f+0x3*0x353+-0x2588,_0x12eeb8=this['_model']['meshInstan'+'ces']['length'];_0x4cef17<_0x12eeb8;_0x4cef17++)this['_model']['meshInstan'+'ces'][_0x4cef17]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x3600a1){if(this['_color']['a']!==_0x3600a1&&(this['_color']['a']=_0x3600a1,this['_model'])){for(let _0x31969f=0xb83*0x1+0x1962+0x1*-0x24e5,_0x448f85=this['_model']['meshInstan'+'ces']['length'];_0x31969f<_0x448f85;_0x31969f++)this['_model']['meshInstan'+'ces'][_0x31969f]['setParamet'+'er']('material_o'+'pacity',_0x3600a1);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x3600a1);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x478487){const _0xaf5b1=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x478487,this['_scaledLin'+'eHeight']=_0x478487,_0xaf5b1!==_0x478487&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x38811b){const _0x503d1c=this['_wrapLines'];this['_wrapLines']=_0x38811b,_0x503d1c!==_0x38811b&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x207f09){const _0x554488=this['_spacing'];this['_spacing']=_0x207f09,_0x554488!==_0x207f09&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x593050){const _0x2d37ab=this['_fontSize'];this['_fontSize']=_0x593050,this['_originalF'+'ontSize']=_0x593050,_0x2d37ab!==_0x593050&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x387f4c){this['_fontAsset']['defaultAss'+'et']=_0x387f4c;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x42609c){let _0x4d025e;if(this['_font']&&(_0x4d025e=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x42609c,this['_fontMinY']=0x21ea+0x84*-0xe+-0x33*0x86,this['_fontMaxY']=-0xcad+0x2*0xd39+-0xdc5,!_0x42609c)return;const _0x29e593=this['_font']['data'];for(const _0x2947e6 in _0x29e593['chars']){const _0x14db15=_0x29e593['chars'][_0x2947e6];_0x14db15['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x14db15['bounds'][-0x8*-0x12e+0x1d8c+-0x26fb]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x14db15['bounds'][0x1250+-0x1335+0xe8]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x42609c['type']!==_0x4d025e){const _0x21a34e=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x21a34e);}for(let _0x50377c=0xb65+-0x1e69+0x1304,_0x13d50c=this['_font']['textures']['length'];_0x50377c<_0x13d50c;_0x50377c++)if(!this['_meshInfo'][_0x50377c])this['_meshInfo'][_0x50377c]=new vR();else{const _0x2bdeae=this['_meshInfo'][_0x50377c]['meshInstan'+'ce'];_0x2bdeae&&(_0x2bdeae['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x2bdeae['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x2bdeae['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x50377c]['width']),this['_setTextur'+'eParams'](_0x2bdeae,this['_font']['textures'][_0x50377c]));}let _0x23eb95=!(-0x22c3+0x4bd*-0x1+0x2781);for(let _0x1fed7d=this['_font']['textures']['length'];_0x1fed7d<this['_meshInfo']['length'];_0x1fed7d++)this['_meshInfo'][_0x1fed7d]['meshInstan'+'ce']&&(_0x23eb95||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x23eb95=!(0x3e3+0x1520+-0x1903)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x1fed7d]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x20fd41){_0x20fd41 instanceof J?this['_alignment']['set'](_0x20fd41['x'],_0x20fd41['y']):this['_alignment']['set'](_0x20fd41[-0xfb0+0x1*-0x10ea+0x209a],_0x20fd41[0x26e1+0x7a8+0x1744*-0x2]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x5a3b9c){const _0x187293=this['_autoWidth'];if(this['_autoWidth']=_0x5a3b9c,_0x5a3b9c&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<0x16d9*-0x1+-0x17*0x7+-0x4b2*-0x5+0.0001&&(this['_element']['width']=this['width']),_0x187293!==_0x5a3b9c){const _0x27db70=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x27db70!==this['_fontSize']&&(this['_fontSize']=_0x27db70,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x587aed){const _0x2dcfc6=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x587aed,_0x587aed&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0x25d2+-0x7*-0x413+-0x4257+0.0001&&(this['_element']['height']=this['height']),_0x2dcfc6!==_0x587aed){const _0x157e2b=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x157e2b!==this['_fontSize']&&(this['_fontSize']=_0x157e2b,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x4d7149){this['_rtlReorde'+'r']!==_0x4d7149&&(this['_rtlReorde'+'r']=_0x4d7149,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x197d58){this['_unicodeCo'+'nverter']!==_0x197d58&&(this['_unicodeCo'+'nverter']=_0x197d58,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x12ded0=!(0x1*0x1804+0x4*0x3fb+-0x27ef);for(let _0x4bc0b9=0x1011+0x1a68+-0x2a79;_0x4bc0b9<this['_meshInfo']['length'];_0x4bc0b9++)this['_meshInfo'][_0x4bc0b9]['meshInstan'+'ce']&&(_0x12ded0?this['_aabb']['add'](this['_meshInfo'][_0x4bc0b9]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x4bc0b9]['meshInstan'+'ce']['aabb']),_0x12ded0=!(-0x1b0a+0xa11*0x1+0x10f9)));this['_aabbDirty']=!(-0x498+0x46*0x1+-0x453*-0x1);}return this['_aabb'];}set['outlineCol'+'or'](_0x2b28da){const _0x3e6012=_0x2b28da instanceof ie?_0x2b28da['r']:_0x2b28da[-0xd*0x297+0x219b+-0x10*-0x1],_0x1fe2b1=_0x2b28da instanceof ie?_0x2b28da['g']:_0x2b28da[0x1*-0x12c8+0x108b+0x23e],_0x412594=_0x2b28da instanceof ie?_0x2b28da['b']:_0x2b28da[-0x2*0x1091+-0x4*0x6a3+0x3bb0],_0x557f1b=_0x2b28da instanceof ie?_0x2b28da['a']:_0x2b28da[0xf40+-0x551*-0x7+0x4*-0xd1d];if(this['_outlineCo'+'lor']===_0x2b28da&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x3e6012&&this['_outlineCo'+'lor']['g']===_0x1fe2b1&&this['_outlineCo'+'lor']['b']===_0x412594&&this['_outlineCo'+'lor']['a']===_0x557f1b)&&(this['_outlineCo'+'lor']['r']=_0x3e6012,this['_outlineCo'+'lor']['g']=_0x1fe2b1,this['_outlineCo'+'lor']['b']=_0x412594,this['_outlineCo'+'lor']['a']=_0x557f1b,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x10*-0x124+0x1*-0x11cb+0x240b]=We['r'],this['_outlineCo'+'lorUniform'][-0x10b8+-0x159b*0x1+0x2654]=We['g'],this['_outlineCo'+'lorUniform'][-0x61f+0x19dd*-0x1+0x69*0x4e]=We['b'],this['_outlineCo'+'lorUniform'][0x27*0x5d+0xe1*0x19+-0x3*0xc0b]=We['a'];for(let _0x2cf92c=-0x12*0x185+-0x2282+0x1ac*0x25,_0x3b6fec=this['_model']['meshInstan'+'ces']['length'];_0x2cf92c<_0x3b6fec;_0x2cf92c++)this['_model']['meshInstan'+'ces'][_0x2cf92c]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x364067){const _0x166e85=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x364067,_0x166e85!==_0x364067&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x39b8e0=0x1*0x16ff+-0x1*-0x23e3+-0x3ae2,_0x48134a=this['_model']['meshInstan'+'ces']['length'];_0x39b8e0<_0x48134a;_0x39b8e0++)this['_model']['meshInstan'+'ces'][_0x39b8e0]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x38643c){const _0x2dd2c3=_0x38643c instanceof ie?_0x38643c['r']:_0x38643c[-0x55*0x19+0x7fc+0x51],_0x1e72c1=_0x38643c instanceof ie?_0x38643c['g']:_0x38643c[0xaff+-0xfb*0x22+-0x2c*-0x82],_0x573a5b=_0x38643c instanceof ie?_0x38643c['b']:_0x38643c[0x25*0x71+0x1e5b+0x2eae*-0x1],_0x4e560b=_0x38643c instanceof ie?_0x38643c['a']:_0x38643c[0x2c9+-0x444+0x1*0x17e];if(this['_shadowCol'+'or']===_0x38643c&&w['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x2dd2c3&&this['_shadowCol'+'or']['g']===_0x1e72c1&&this['_shadowCol'+'or']['b']===_0x573a5b&&this['_shadowCol'+'or']['a']===_0x4e560b)&&(this['_shadowCol'+'or']['r']=_0x2dd2c3,this['_shadowCol'+'or']['g']=_0x1e72c1,this['_shadowCol'+'or']['b']=_0x573a5b,this['_shadowCol'+'or']['a']=_0x4e560b,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0xc70+-0x1649+0x22b9]=We['r'],this['_shadowCol'+'orUniform'][0x58*-0x2b+-0x1e9+0x10b2]=We['g'],this['_shadowCol'+'orUniform'][-0x1c*0x64+0x22*0x119+-0x1*0x1a60]=We['b'],this['_shadowCol'+'orUniform'][0xb4+-0x1731*0x1+-0x3c0*-0x6]=We['a'];for(let _0x45f7ac=0x1*0x41b+-0x254*0xd+0xb5*0x25,_0x449394=this['_model']['meshInstan'+'ces']['length'];_0x45f7ac<_0x449394;_0x45f7ac++)this['_model']['meshInstan'+'ces'][_0x45f7ac]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0xbe6023){const _0x12d662=_0xbe6023 instanceof J?_0xbe6023['x']:_0xbe6023[-0xe7*0x1+-0x1*0x3b9+-0x4a*-0x10],_0x5942b0=_0xbe6023 instanceof J?_0xbe6023['y']:_0xbe6023[-0x5f2*0x1+-0xd0d+0x1300];if(!(this['_shadowOff'+'set']['x']===_0x12d662&&this['_shadowOff'+'set']['y']===_0x5942b0)&&(this['_shadowOff'+'set']['set'](_0x12d662,_0x5942b0),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x20e482=-0xdc4+0x9*0x13+-0xd19*-0x1,_0x2d9830=this['_model']['meshInstan'+'ces']['length'];_0x20e482<_0x2d9830;_0x20e482++){const _0x4cf4c1=-this['_font']['data']['info']['maps'][_0x20e482]['width']/this['_font']['data']['info']['maps'][_0x20e482]['height'];this['_shadowOff'+'setUniform'][-0x1*-0xbcf+0x1*-0x1283+-0x21*-0x34]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x2185*-0x1+-0xe6*-0x1c+0x9*0xee]=_0x4cf4c1*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x20e482]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x908f4c){this['_minFontSi'+'ze']!==_0x908f4c&&(this['_minFontSi'+'ze']=_0x908f4c,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0xb08cd2){this['_maxFontSi'+'ze']!==_0xb08cd2&&(this['_maxFontSi'+'ze']=_0xb08cd2,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x4eb479){this['_autoFitWi'+'dth']!==_0x4eb479&&(this['_autoFitWi'+'dth']=_0x4eb479,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x45fd3c){this['_autoFitHe'+'ight']!==_0x45fd3c&&(this['_autoFitHe'+'ight']=_0x45fd3c,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x597d0d){this['_maxLines']!==_0x597d0d&&(_0x597d0d===null&&this['_maxLines']===-(0x2264+0x1*-0x24bc+-0x1*-0x259)||(this['_maxLines']=_0x597d0d===null?-(-0x4b7*-0x3+-0xd*0xae+-0x54e):_0x597d0d,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x1532e3){if(_0x1532e3=!!_0x1532e3,this['_enableMar'+'kup']===_0x1532e3)return;this['_enableMar'+'kup']=_0x1532e3,this['font']&&this['_updateTex'+'t']();const _0x451430=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x451430);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x58f661){return this['_colorPale'+'tte']['slice'](_0x58f661*(-0xd13*-0x2+-0xaaf+-0xf74),_0x58f661*(-0xb*-0x78+-0x2*0xeb4+0x1843)+(-0xd*0x73+0x18b0+-0x12d6));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0xc83b40){return this['_outlinePa'+'lette']['slice'](_0xc83b40*(0x4*-0x74b+-0x1*0x23e7+-0x1*-0x4118),_0xc83b40*(-0xe*0xdf+0x11*0x161+0x1*-0xb3a)+(-0x118d+-0xc24+0x1db6));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x1b3e10){return this['_shadowPal'+'ette']['slice'](_0x1b3e10*(0x9de+-0x9db+-0x3*-0x1),_0x1b3e10*(0x25*0x1+-0x1d*0xa2+0x167*0xd)+(0x1c52+0x1e17+-0x3a63));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x30a8ea){_0x30a8ea=Math['max'](0xcf*0x3+-0x5a1*-0x2+-0x1*0xdaf,Math['min'](_0x30a8ea,this['_symbols']['length'])),_0x30a8ea!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x30a8ea,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x102b70){_0x102b70=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x102b70,this['_symbols']['length'])),_0x102b70!==this['_rangeEnd']&&(this['_rangeEnd']=_0x102b70,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Ef=new D(),Zg=new te(),Pi=new D(),MR=new D(),ws=new te(),bc=new te(),Ac=new te(),$a=new te();class hs extends we{constructor(_0x45f2cc,_0x5131c2){super(_0x45f2cc,_0x5131c2),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(0x13*0x19f+0xfd1+-0x2e9d*0x1),this['_anchor']=new re(),this['_localAnch'+'or']=new re(),this['_pivot']=new J(),this['_width']=this['_calculate'+'dWidth']=0x127f+0x17*-0x194+-0x11ed*-0x1,this['_height']=this['_calculate'+'dHeight']=-0x16f7*-0x1+0x1f2+0x9*-0x2c1,this['_margin']=new re(0x584+0x1*-0x2677+-0x23*-0xf1,-0x2196+-0x1*0x2277+0x1*0x440d,-(-0x24fb+-0x2028+0x4543),-(0x5*0xed+-0x23bb+-0x7*-0x476)),this['_modelTran'+'sform']=new te(),this['_screenToW'+'orld']=new te(),this['_anchorTra'+'nsform']=new te(),this['_anchorDir'+'ty']=!(-0x229f*0x1+-0xba7+0x2e46),this['_parentWor'+'ldTransfor'+'m']=new te(),this['_screenTra'+'nsform']=new te(),this['_screenCor'+'ners']=[new D(),new D(),new D(),new D()],this['_canvasCor'+'ners']=[new J(),new J(),new J(),new J()],this['_worldCorn'+'ers']=[new D(),new D(),new D(),new D()],this['_cornersDi'+'rty']=!(-0x7c7*-0x2+-0x18a7+0x919),this['_canvasCor'+'nersDirty']=!(0xea5+-0x14a3+-0x76*-0xd),this['_worldCorn'+'ersDirty']=!(-0x1c3d+-0x1ab+0x1de8),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=eh,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=-0x20f6+0x1ae2+-0x2*-0x30a,this['_fitMode']=th,this['_useInput']=!(0x8f9+0x1e2f+0x3*-0xd0d),this['_layers']=[Il],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(0x69d+-0x613*0x2+-0x1*-0x58a),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=-0x1824+-0x16b9*0x1+-0x81*-0x5d,this['_maskOffse'+'t']=0x1af0+-0x1d*0x17+0x1*-0x1855+0.5,this['_maskedBy']=null);}get['data'](){const _0x5aa1d3=this['system']['store'][this['entity']['getGuid']()];return _0x5aa1d3?_0x5aa1d3['data']:null;}set['enabled'](_0x5d5c00){const _0x1f5acb=this['data'],_0x50c824=_0x1f5acb['enabled'];_0x1f5acb['enabled']=_0x5d5c00,this['fire']('set','enabled',_0x50c824,_0x5d5c00);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>0x1a6*0x13+0x1*0x14d1+-0x3423+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>0x2*0x131f+-0x55*0x5f+-0x6b3+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x33e18e){_0x33e18e instanceof re?this['_anchor']['copy'](_0x33e18e):this['_anchor']['set'](..._0x33e18e),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(-0x1*-0x22b+-0x21e4+-0xa93*-0x3),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x28c3bc){var _0x40d129,_0x4ac2be;this['_batchGrou'+'pId']!==_0x28c3bc&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x1abd+-0x1*-0x1069+0xe62*-0x3&&((_0x40d129=this['system']['app']['batcher'])==null||_0x40d129['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x28c3bc>=-0x1b86+0x1dd6+-0x4*0x94&&((_0x4ac2be=this['system']['app']['batcher'])==null||_0x4ac2be['insert'](St['ELEMENT'],_0x28c3bc,this['entity'])),_0x28c3bc<0x342+-0x20e*0x1+-0x1*0x134&&this['_batchGrou'+'pId']>=0x127c+0x189a+-0x2b16&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x28c3bc);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x3e0d70){this['_margin']['y']=_0x3e0d70;const _0x5bad18=this['entity']['getLocalPo'+'sition'](),_0x4019f8=this['_absTop'],_0x224e7a=this['_localAnch'+'or']['y']+_0x3e0d70;this['_setHeight'](_0x4019f8-_0x224e7a),_0x5bad18['y']=_0x3e0d70+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x5bad18);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0xf8bca){this['_setCalcul'+'atedWidth'](_0xf8bca,!(0xf*-0x34+-0x26*0x1c+0x39a*0x2));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x2ec87d){this['_setCalcul'+'atedHeight'](_0x2ec87d,!(0x262b+-0x1*-0x214f+0x2*-0x23bd));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x2e447f=this['system']['app']['graphicsDe'+'vice'],_0x3b893d=this['screenCorn'+'ers'],_0x6fce4c=_0x2e447f['canvas']['clientWidt'+'h']/_0x2e447f['width'],_0x4eba95=_0x2e447f['canvas']['clientHeig'+'ht']/_0x2e447f['height'];for(let _0x585e32=0x1*0x2691+-0x189*0x17+0x342*-0x1;_0x585e32<-0x1a56+-0x2*-0xfad+-0x500;_0x585e32++)this['_canvasCor'+'ners'][_0x585e32]['set'](_0x3b893d[_0x585e32]['x']*_0x6fce4c,(_0x2e447f['height']-_0x3b893d[_0x585e32]['y'])*_0x4eba95);return this['_canvasCor'+'nersDirty']=!(-0x543+0x293*0x1+0x35*0xd),this['_canvasCor'+'ners'];}set['drawOrder'](_0x32f48c){let _0x3e6dd2=0x1*-0x1e0b+-0x2*-0x136e+-0x8d1;this['screen']&&(_0x3e6dd2=this['screen']['screen']['priority']),_0x32f48c>0x4c8e34+0x919388*0x1+0x21de43*0x1&&(w['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x32f48c=-0x7da7*-0x199+0x571*-0x38d5+-0x1a639*-0xdd),this['_drawOrder']=(_0x3e6dd2<<-0x33*-0x22+-0x1901*-0x1+0x1faf*-0x1)+_0x32f48c,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x48a0c2){this['_height']=_0x48a0c2,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x48a0c2,!(0x1*0x4e5+-0x1e28+0xdf*0x1d)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x4b7886){if(this['_addedMode'+'ls']['length'])for(let _0x5a8b11=-0x1007+-0x1c0f+0x2c16;_0x5a8b11<this['_layers']['length'];_0x5a8b11++){const _0x23f589=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x5a8b11]);if(_0x23f589){for(let _0x4a4a0a=0x3*-0x913+-0x15*0x59+-0xb82*-0x3;_0x4a4a0a<this['_addedMode'+'ls']['length'];_0x4a4a0a++)_0x23f589['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x4a4a0a]['meshInstan'+'ces']);}}if(this['_layers']=_0x4b7886,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x1bca9f=-0x1cfc+-0x1a9e+0x379a;_0x1bca9f<this['_layers']['length'];_0x1bca9f++){const _0x163d09=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x1bca9f]);if(_0x163d09){for(let _0x264ccc=0x200f+0x7*-0x2e3+0x1*-0xbda;_0x264ccc<this['_addedMode'+'ls']['length'];_0x264ccc++)_0x163d09['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x264ccc]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x472b8a){this['_margin']['x']=_0x472b8a;const _0x4777ad=this['entity']['getLocalPo'+'sition'](),_0x4a5034=this['_absRight'],_0x2f6a67=this['_localAnch'+'or']['x']+_0x472b8a;this['_setWidth'](_0x4a5034-_0x2f6a67),_0x4777ad['x']=_0x472b8a+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x4777ad);}get['left'](){return this['_margin']['x'];}set['margin'](_0x5ea3ac){this['_margin']['copy'](_0x5ea3ac),this['_calculate'+'Size'](!(-0x1*-0x1a00+-0x25f9+0xbf9),!(0xd51*0x2+0x1a*0xc+0x3e*-0x73)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x139a96){const {pivot:_0x3da2a8,margin:_0x3e03ba}=this,_0x15904d=_0x3da2a8['x'],_0xd2bd6c=_0x3da2a8['y'];_0x139a96 instanceof J?_0x3da2a8['copy'](_0x139a96):_0x3da2a8['set'](..._0x139a96);const _0x2031b2=_0x3e03ba['x']+_0x3e03ba['z'],_0x5e58f0=_0x3da2a8['x']-_0x15904d;_0x3e03ba['x']+=_0x2031b2*_0x5e58f0,_0x3e03ba['z']-=_0x2031b2*_0x5e58f0;const _0x4a2999=_0x3e03ba['y']+_0x3e03ba['w'],_0x55cdd9=_0x3da2a8['y']-_0xd2bd6c;_0x3e03ba['y']+=_0x4a2999*_0x55cdd9,_0x3e03ba['w']-=_0x4a2999*_0x55cdd9,this['_anchorDir'+'ty']=!(-0x411+0x252d+-0x211c),this['_cornersDi'+'rty']=!(-0xe34+-0x140c+0x89*0x40),this['_worldCorn'+'ersDirty']=!(-0x1f26+0x141+-0x1de5*-0x1),this['_calculate'+'Size'](!(-0x1e*0x13f+-0x1d5f+0x42c2),!(-0x4f*0x56+0x6ff*0x1+0x138c)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x3da2a8);}get['pivot'](){return this['_pivot'];}set['right'](_0x27e9d0){this['_margin']['z']=_0x27e9d0;const _0x3fa391=this['entity']['getLocalPo'+'sition'](),_0x39fc71=this['_absLeft'],_0xc8d34e=this['_localAnch'+'or']['z']-_0x27e9d0;this['_setWidth'](_0xc8d34e-_0x39fc71),_0x3fa391['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x27e9d0-this['_calculate'+'dWidth']*(0x2*0x755+-0xf24+0x7b*0x1-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x3fa391);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x4a0727=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][0x238d+-0x2308+-0x13*0x7];this['_screenCor'+'ners'][-0x1*-0xb03+0x73*0x3d+-0x1*0x266a]['set'](this['_absLeft'],this['_absBottom'],-0x5d3+0x2341+-0x1d6e*0x1),this['_screenCor'+'ners'][-0x1cc3+0x15*-0x19+0x1ed1]['set'](this['_absRight'],this['_absBottom'],0x2*0x90e+-0x736+-0xae6),this['_screenCor'+'ners'][0x13c*0x6+0x23b*-0xa+-0x4*-0x3ba]['set'](this['_absRight'],this['_absTop'],0x22fe+0x2412+-0x4710),this['_screenCor'+'ners'][-0x26e2+-0x1*0x4eb+0x2bd0]['set'](this['_absLeft'],this['_absTop'],0x1727+0x11*0x32+-0x3*0x8d3);const _0x1e4343=this['screen']['screen']['screenSpac'+'e'];for(let _0x2a0f8b=-0x17b7+-0x1b39+0x32f0;_0x2a0f8b<-0x1270+0x1*-0x1fde+0x3252;_0x2a0f8b++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x2a0f8b],this['_screenCor'+'ners'][_0x2a0f8b]),_0x1e4343&&this['_screenCor'+'ners'][_0x2a0f8b]['mulScalar'](this['screen']['screen']['scale']),_0x4a0727&&this['_screenCor'+'ners'][_0x2a0f8b]['add'](_0x4a0727);return this['_cornersDi'+'rty']=!(0x1bf*-0xb+-0x1723+-0x125*-0x25),this['_canvasCor'+'nersDirty']=!(-0x24f2+-0x287+-0x2f*-0xd7),this['_worldCorn'+'ersDirty']=!(-0x1418+-0x1b70+-0x1d4*-0x1a),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:0x39e+0x23fb+0x3*-0xd33;}get['textHeight'](){return this['_text']?this['_text']['height']:0x6*0xb5+-0xec5+0xa87;}set['top'](_0x9dad78){this['_margin']['w']=_0x9dad78;const _0x3b02e4=this['entity']['getLocalPo'+'sition'](),_0x49beba=this['_absBottom'],_0x3d45f9=this['_localAnch'+'or']['w']-_0x9dad78;this['_setHeight'](_0x3d45f9-_0x49beba),_0x3b02e4['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x9dad78-this['_calculate'+'dHeight']*(-0x2e*0x67+0x11e1+0x36*0x3-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x3b02e4);}get['top'](){return this['_margin']['w'];}set['type'](_0x132f3c){_0x132f3c!==this['_type']&&(this['_type']=_0x132f3c,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x132f3c===Cu?this['_image']=new cR(this):_0x132f3c===jv&&(this['_text']=new PR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x3c8077){this['_useInput']!==_0x3c8077&&(this['_useInput']=_0x3c8077,this['system']['app']['elementInp'+'ut']?_0x3c8077?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(-0x26*-0x3e+-0x16e5+-0x2bd*-0x5)&&w['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x3c8077));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x435c98){this['_fitMode']=_0x435c98,this['_calculate'+'Size'](!(0x247a+0x1714+-0x2d6*0x15),!(-0x9*-0x3eb+-0x1ba4+-0x79f)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x5b0c56){this['_width']=_0x5b0c56,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x5b0c56,!(-0x8a9+-0x566*0x7+0x2e73)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x365006=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){ws['copy'](this['screen']['screen']['_screenMat'+'rix']),ws['data'][0xdd2+0x1*0x19c5+-0x278a]=-ws['data'][0x5*0x43+0x1*0xe36+-0xf78],ws['mul2'](this['screen']['getWorldTr'+'ansform'](),ws);for(let _0x598f89=-0x746+0xe35+-0x6ef;_0x598f89<-0x1*-0x187d+0x299+-0x1b12;_0x598f89++)ws['transformP'+'oint'](_0x365006[_0x598f89],this['_worldCorn'+'ers'][_0x598f89]);}}else{const _0x420b4c=this['entity']['getLocalPo'+'sition']();ws['setTransla'+'te'](-_0x420b4c['x'],-_0x420b4c['y'],-_0x420b4c['z']),bc['setTRS'](D['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x420b4c['x'],_0x420b4c['y'],_0x420b4c['z']);const _0x36effe=this['entity']['parent']?this['entity']['parent']:this['entity'];$a['copy'](_0x36effe['getWorldTr'+'ansform']()),$a['mul'](Ac)['mul'](bc)['mul'](ws),Pi['set'](_0x420b4c['x']-this['pivot']['x']*this['calculated'+'Width'],_0x420b4c['y']-this['pivot']['y']*this['calculated'+'Height'],_0x420b4c['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x45*0x25+-0x2*-0x33d+0x37f]),Pi['set'](_0x420b4c['x']+(-0xc5*-0xa+0x570+-0xd21*0x1-this['pivot']['x'])*this['calculated'+'Width'],_0x420b4c['y']-this['pivot']['y']*this['calculated'+'Height'],_0x420b4c['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x1*-0x1969+-0xb5*-0x8+0x2*0x9e1]),Pi['set'](_0x420b4c['x']+(0xc*-0x85+-0x1d*-0x9c+-0xb6f-this['pivot']['x'])*this['calculated'+'Width'],_0x420b4c['y']+(-0x1a54+0x7c7+0x128e-this['pivot']['y'])*this['calculated'+'Height'],_0x420b4c['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x1*0x1387+0x177a*0x1+-0x3f1*0x1]),Pi['set'](_0x420b4c['x']-this['pivot']['x']*this['calculated'+'Width'],_0x420b4c['y']+(-0x1*0x1dbb+0xa87+0x1335-this['pivot']['y'])*this['calculated'+'Height'],_0x420b4c['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x248c+0x3ad+0x20e2]);}return this['_worldCorn'+'ersDirty']=!(-0x1f*0x61+0x1*0x1d8e+0x8e7*-0x2),this['_worldCorn'+'ers'];}set['fontSize'](_0x2c33a5){this['_setValue']('fontSize',_0x2c33a5);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x32b86b){this['_setValue']('minFontSiz'+'e',_0x32b86b);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x5c3c1c){this['_setValue']('maxFontSiz'+'e',_0x5c3c1c);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x5f4022){this['_setValue']('maxLines',_0x5f4022);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x56eb04){this['_setValue']('autoFitWid'+'th',_0x56eb04);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x29d378){this['_setValue']('autoFitHei'+'ght',_0x29d378);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x343bc0){this['_setValue']('color',_0x343bc0);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x4adc34){this['_setValue']('font',_0x4adc34);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x5661b1){this['_setValue']('fontAsset',_0x5661b1);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x502f83){this['_setValue']('spacing',_0x502f83);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x1c0d66){this['_setValue']('lineHeight',_0x1c0d66);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x59775f){this['_setValue']('wrapLines',_0x59775f);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x4eea26){this['_setValue']('lines',_0x4eea26);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x2e59ea){this['_setValue']('alignment',_0x2e59ea);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x1d8cd3){this['_setValue']('autoWidth',_0x1d8cd3);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x292227){this['_setValue']('autoHeight',_0x292227);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x438508){this['_setValue']('rtlReorder',_0x438508);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x39ba96){this['_setValue']('unicodeCon'+'verter',_0x39ba96);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x5655bd){this['_setValue']('text',_0x5655bd);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x5b1d7c){this['_setValue']('key',_0x5b1d7c);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x145820){this['_setValue']('texture',_0x145820);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x4dd54d){this['_setValue']('textureAss'+'et',_0x4dd54d);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x3be08e){this['_setValue']('material',_0x3be08e);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x78b5ec){this['_setValue']('materialAs'+'set',_0x78b5ec);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x5901fd){this['_setValue']('sprite',_0x5901fd);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x9e4c59){this['_setValue']('spriteAsse'+'t',_0x9e4c59);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x2f1913){this['_setValue']('spriteFram'+'e',_0x2f1913);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x15c087){this['_setValue']('pixelsPerU'+'nit',_0x15c087);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x303cc3){this['_setValue']('opacity',_0x303cc3);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x278683){this['_setValue']('rect',_0x278683);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x45b205){this['_setValue']('mask',_0x45b205);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x167e7d){this['_setValue']('outlineCol'+'or',_0x167e7d);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x324dd5){this['_setValue']('outlineThi'+'ckness',_0x324dd5);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x243181){this['_setValue']('shadowColo'+'r',_0x243181);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x26b026){this['_setValue']('shadowOffs'+'et',_0x26b026);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x37d248){this['_setValue']('enableMark'+'up',_0x37d248);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x233f69){this['_setValue']('rangeStart',_0x233f69);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x3d1d93){this['_setValue']('rangeEnd',_0x3d1d93);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x5beadf,_0x43ec54){this['_text']?(this['_text'][_0x5beadf]!==_0x43ec54&&this['_dirtyBatc'+'h'](),this['_text'][_0x5beadf]=_0x43ec54):this['_image']&&(this['_image'][_0x5beadf]!==_0x43ec54&&this['_dirtyBatc'+'h'](),this['_image'][_0x5beadf]=_0x43ec54);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=lt['prototype']['_sync'],this['entity']['setPositio'+'n']=lt['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=lt['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x587856,_0x1fcf77,_0x273ac5){if(!this['element']['screen']){lt['prototype']['setPositio'+'n']['call'](this,_0x587856,_0x1fcf77,_0x273ac5);return;}_0x587856 instanceof D?Ef['copy'](_0x587856):Ef['set'](_0x587856,_0x1fcf77,_0x273ac5),this['getWorldTr'+'ansform'](),Zg['copy'](this['element']['_screenToW'+'orld'])['invert'](),Zg['transformP'+'oint'](Ef,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0xc846c1,_0x4449b4,_0x52f9f9){_0xc846c1 instanceof D?this['localPosit'+'ion']['copy'](_0xc846c1):this['localPosit'+'ion']['set'](_0xc846c1,_0x4449b4,_0x52f9f9);const _0x4cd3a5=this['element'],_0x4a756c=this['localPosit'+'ion'],_0x48d4a5=_0x4cd3a5['_pivot'];_0x4cd3a5['_margin']['x']=_0x4a756c['x']-_0x4cd3a5['_calculate'+'dWidth']*_0x48d4a5['x'],_0x4cd3a5['_margin']['z']=_0x4cd3a5['_localAnch'+'or']['z']-_0x4cd3a5['_localAnch'+'or']['x']-_0x4cd3a5['_calculate'+'dWidth']-_0x4cd3a5['_margin']['x'],_0x4cd3a5['_margin']['y']=_0x4a756c['y']-_0x4cd3a5['_calculate'+'dHeight']*_0x48d4a5['y'],_0x4cd3a5['_margin']['w']=_0x4cd3a5['_localAnch'+'or']['w']-_0x4cd3a5['_localAnch'+'or']['y']-_0x4cd3a5['_calculate'+'dHeight']-_0x4cd3a5['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x38f9b7=this['element'],_0x417a83=_0x38f9b7['screen'];if(_0x417a83){if(_0x38f9b7['_anchorDir'+'ty']){let _0x5dfadb=-0x51*-0x5+0x455*0x1+-0x1*0x5ea,_0x986917=0xbf*0x19+-0x4c+-0x1*0x125b,_0x4aa44e=0x1bc*-0xf+0x1960+0x2*0x52,_0x3091f3=0x35*0x50+-0x7*-0x4cd+-0x322a;if(this['_parent']&&this['_parent']['element'])_0x5dfadb=this['_parent']['element']['calculated'+'Width'],_0x986917=this['_parent']['element']['calculated'+'Height'],_0x4aa44e=this['_parent']['element']['pivot']['x'],_0x3091f3=this['_parent']['element']['pivot']['y'];else{const _0x5da2c2=_0x417a83['screen']['resolution'];_0x5dfadb=_0x5da2c2['x']/_0x417a83['screen']['scale'],_0x986917=_0x5da2c2['y']/_0x417a83['screen']['scale'];}_0x38f9b7['_anchorTra'+'nsform']['setTransla'+'te'](_0x5dfadb*(_0x38f9b7['anchor']['x']-_0x4aa44e),-(_0x986917*(_0x3091f3-_0x38f9b7['anchor']['y'])),0x2*-0x12e7+-0x13ff*0x1+0x39cd),_0x38f9b7['_anchorDir'+'ty']=!(0x39f+-0x1ec7*-0x1+0x24b*-0xf),_0x38f9b7['_calculate'+'LocalAncho'+'rs']();}_0x38f9b7['_sizeDirty']&&_0x38f9b7['_calculate'+'Size'](!(-0x1ac0+-0xec9+0x332*0xd),!(-0x67*-0xa+0x7eb+-0xbf0));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x1f0e6d=this['localPosit'+'ion'],_0x17f1cf=_0x38f9b7['_pivot'];_0x38f9b7['_margin']['x']=_0x1f0e6d['x']-_0x38f9b7['_calculate'+'dWidth']*_0x17f1cf['x'],_0x38f9b7['_margin']['z']=_0x38f9b7['_localAnch'+'or']['z']-_0x38f9b7['_localAnch'+'or']['x']-_0x38f9b7['_calculate'+'dWidth']-_0x38f9b7['_margin']['x'],_0x38f9b7['_margin']['y']=_0x1f0e6d['y']-_0x38f9b7['_calculate'+'dHeight']*_0x17f1cf['y'],_0x38f9b7['_margin']['w']=_0x38f9b7['_localAnch'+'or']['w']-_0x38f9b7['_localAnch'+'or']['y']-_0x38f9b7['_calculate'+'dHeight']-_0x38f9b7['_margin']['y'],this['_dirtyLoca'+'l']=!(-0x1b3f+-0x1eec*0x1+0x3a2c);}if(!_0x417a83){this['_dirtyWorl'+'d']&&(_0x38f9b7['_cornersDi'+'rty']=!(0x8b1+-0x3*-0x2e+-0x93b),_0x38f9b7['_canvasCor'+'nersDirty']=!(0xe78*-0x1+0x880+-0x8*-0xbf),_0x38f9b7['_worldCorn'+'ersDirty']=!(-0x1*0x94+-0x13d3+0x1467*0x1)),lt['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x38f9b7['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x38f9b7['_anchorTra'+'nsform']):_0x38f9b7['_screenToW'+'orld']['copy'](_0x38f9b7['_anchorTra'+'nsform']),_0x38f9b7['_modelTran'+'sform']['mul2'](_0x38f9b7['_screenToW'+'orld'],this['localTrans'+'form']),_0x417a83){_0x38f9b7['_screenToW'+'orld']['mul2'](_0x417a83['screen']['_screenMat'+'rix'],_0x38f9b7['_screenToW'+'orld']),_0x417a83['screen']['screenSpac'+'e']||_0x38f9b7['_screenToW'+'orld']['mul2'](_0x417a83['worldTrans'+'form'],_0x38f9b7['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x38f9b7['_screenToW'+'orld'],this['localTrans'+'form']);const _0x749767=_0x38f9b7['_parentWor'+'ldTransfor'+'m'];_0x749767['setIdentit'+'y']();const _0x37f22f=this['_parent'];_0x37f22f&&_0x37f22f['element']&&_0x37f22f!==_0x417a83&&(ws['setTRS'](D['ZERO'],_0x37f22f['getLocalRo'+'tation'](),_0x37f22f['getLocalSc'+'ale']()),_0x749767['mul2'](_0x37f22f['element']['_parentWor'+'ldTransfor'+'m'],ws));const _0x1f122a=Pi;_0x1f122a['set'](0xa4b*-0x1+-0x55c+0xfa7,0x13*0x187+0x8b2+-0x25b7,this['localPosit'+'ion']['z']);const _0x5ab2d0=MR;_0x5ab2d0['set'](_0x38f9b7['_absLeft']+_0x38f9b7['_pivot']['x']*_0x38f9b7['calculated'+'Width'],_0x38f9b7['_absBottom']+_0x38f9b7['_pivot']['y']*_0x38f9b7['calculated'+'Height'],0x1*0xa1+0x25c7+-0x1*0x2668),ws['setTransla'+'te'](-_0x5ab2d0['x'],-_0x5ab2d0['y'],-_0x5ab2d0['z']),bc['setTRS'](_0x1f122a,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x5ab2d0['x'],_0x5ab2d0['y'],_0x5ab2d0['z']),_0x38f9b7['_screenTra'+'nsform']['mul2'](_0x38f9b7['_parentWor'+'ldTransfor'+'m'],Ac)['mul'](bc)['mul'](ws),_0x38f9b7['_cornersDi'+'rty']=!(-0xa43*-0x1+0x1c63+-0x26a6),_0x38f9b7['_canvasCor'+'nersDirty']=!(-0x48*-0x7b+0x5ec*-0x4+0x1*-0xae8),_0x38f9b7['_worldCorn'+'ersDirty']=!(-0x3d*0x7e+-0x1ae4+0x38ea);}else this['worldTrans'+'form']['copy'](_0x38f9b7['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(0x1782+-0x18c5+0x4*0x51);}}['_onInsert'](_0x2c10f4){const _0x248904=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x248904['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x38cdfa=this['entity'];for(;_0x38cdfa;){const _0x1dd276=_0x38cdfa['parent'];if((_0x1dd276===null||_0x1dd276['screen'])&&_0x38cdfa['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),w['trace'](Vs,'register\x20p'+'rerender'));const _0x2cf51d=this['system']['_prerender']['indexOf'](this['entity']);_0x2cf51d>=0x1785+0x58*0x2e+-0x2755&&this['system']['_prerender']['splice'](_0x2cf51d,0xeb0+0x193*-0xe+0x75b),this['system']['_prerender']['indexOf'](_0x38cdfa)<-0x17*-0x26+-0xa66+0x6fc&&this['system']['_prerender']['push'](_0x38cdfa),w['trace'](Vs,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x38cdfa['name']);}_0x38cdfa=_0x1dd276;}}['_onPrerend'+'er'](){for(let _0x1efcf6=-0xe*0x298+-0x1*-0x1ff3+-0x1*-0x45d;_0x1efcf6<this['system']['_prerender']['length'];_0x1efcf6++){const _0x42d1ef=this['system']['_prerender'][_0x1efcf6];w['trace'](Vs,'prerender\x20'+'from:\x20'+_0x42d1ef['name']),_0x42d1ef['element']&&_0x42d1ef['element']['syncMask'](0xa61+-0x7*0x15+-0xc1*0xd);}this['system']['_prerender']['length']=0x21b*0x1+0xb*-0x113+0x9b6;}['_bindScree'+'n'](_0x5f332c){_0x5f332c['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x488e22){_0x488e22['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x2e60a1){this['screen']&&this['screen']!==_0x2e60a1&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x4de786=this['screen'];this['screen']=_0x2e60a1,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x4de786),this['_anchorDir'+'ty']=!(0xa99*-0x1+0x185b+0x3*-0x496);const _0x17245d=this['entity']['children'];for(let _0x167898=0x1686+-0xe59+-0x82d,_0x47737b=_0x17245d['length'];_0x167898<_0x47737b;_0x167898++)_0x17245d[_0x167898]['element']&&_0x17245d[_0x167898]['element']['_updateScr'+'een'](_0x2e60a1);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x3591a9){const _0x5ca241=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x5ca241['mask'],_0x3591a9);}['_setMasked'+'By'](_0x2be030){const _0x1b2e85=this['_image']||this['_text'];if(_0x2be030){const _0x91eb7d=_0x2be030['element']['_image']['_maskRef'];w['trace'](Vs,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x91eb7d),_0x1b2e85==null||_0x1b2e85['_setStenci'+'l'](new pi({'ref':_0x91eb7d,'func':dh})),this['_maskedBy']=_0x2be030;}else w['trace'](Vs,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x1b2e85==null||_0x1b2e85['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x303b56,_0x424f2a){var _0x50cae1,_0x4073ea;if(_0x303b56){if(this['_setMasked'+'By'](_0x303b56),this['mask']){const _0x437d44=_0x303b56['element']['_image']['_maskRef'],_0x143e20=new pi({'ref':_0x437d44,'func':dh,'zpass':Ux});this['_image']['_setStenci'+'l'](_0x143e20),this['_image']['_maskRef']=_0x424f2a,_0x424f2a++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x143e20['ref']+(-0xace+0x1*0x2092+-0x15c3))),w['trace'](Vs,'depth++\x20to'+':\x20',_0x424f2a),_0x303b56=this['entity'];}const _0x1cc3f4=this['entity']['children'];for(let _0x170fb6=0x185*-0x19+0x1470+0x1*0x118d,_0x182e2a=_0x1cc3f4['length'];_0x170fb6<_0x182e2a;_0x170fb6++)(_0x50cae1=_0x1cc3f4[_0x170fb6]['element'])==null||_0x50cae1['_updateMas'+'k'](_0x303b56,_0x424f2a);this['mask']&&_0x424f2a--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x30362b=new pi({'ref':_0x424f2a,'func':Wi,'zpass':kx});this['_image']['_setStenci'+'l'](_0x30362b),this['_image']['_maskRef']=_0x424f2a,_0x424f2a++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x30362b['ref']),w['trace'](Vs,'depth++\x20to'+':\x20',_0x424f2a),_0x303b56=this['entity'];}const _0x477297=this['entity']['children'];for(let _0x2e7e4=0x318*-0xa+-0x8f5*-0x2+0x2*0x683,_0x3b417b=_0x477297['length'];_0x2e7e4<_0x3b417b;_0x2e7e4++)(_0x4073ea=_0x477297[_0x2e7e4]['element'])==null||_0x4073ea['_updateMas'+'k'](_0x303b56,_0x424f2a);this['mask']&&_0x424f2a--;}}['_parseUpTo'+'Screen'](){const _0x301ddb={'screen':null,'mask':null};let _0xb7aec6=this['entity']['_parent'];for(;_0xb7aec6&&!_0xb7aec6['screen'];)_0xb7aec6['element']&&_0xb7aec6['element']['mask']&&(_0x301ddb['mask']||(_0x301ddb['mask']=_0xb7aec6)),_0xb7aec6=_0xb7aec6['parent'];return _0xb7aec6&&_0xb7aec6['screen']&&(_0x301ddb['screen']=_0xb7aec6),_0x301ddb;}['_onScreenR'+'esize'](_0x3bb4c8){this['_anchorDir'+'ty']=!(0x1689+-0x1201+-0x28*0x1d),this['_cornersDi'+'rty']=!(0x84+0xad*-0x33+0x21f3),this['_worldCorn'+'ersDirty']=!(0x709+0xca1+-0x13aa),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x3bb4c8);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x28de05=-0xeab+-0x2463+0x36f6,_0x2af898=-0x1a7d+0x1a51+-0x9*-0x74;const _0x2b09a3=this['entity']['_parent'];if(_0x2b09a3&&_0x2b09a3['element'])_0x28de05=_0x2b09a3['element']['calculated'+'Width'],_0x2af898=_0x2b09a3['element']['calculated'+'Height'];else{if(this['screen']){const _0x1e510b=this['screen']['screen']['resolution'],_0x3378cf=this['screen']['screen']['scale'];_0x28de05=_0x1e510b['x']/_0x3378cf,_0x2af898=_0x1e510b['y']/_0x3378cf;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x28de05,this['_anchor']['y']*_0x2af898,this['_anchor']['z']*_0x28de05,this['_anchor']['w']*_0x2af898);}['getOffsetP'+'osition'](_0x5d0b97,_0x47338d){const _0x56f76f=this['entity']['getLocalPo'+'sition']()['clone']();return _0x56f76f['x']+=_0x5d0b97,_0x56f76f['y']+=_0x47338d,this['_screenToW'+'orld']['transformP'+'oint'](_0x56f76f,_0x56f76f),_0x56f76f;}['onLayersCh'+'anged'](_0x44f1d0,_0x116622){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x44f1d0['off']('add',this['onLayerAdd'+'ed'],this),_0x44f1d0['off']('remove',this['onLayerRem'+'oved'],this),_0x116622['on']('add',this['onLayerAdd'+'ed'],this),_0x116622['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x755eb6){this['layers']['indexOf'](_0x755eb6['id'])<0x1*-0x1b2e+0xf95+0x1*0xb99||(this['_image']?_0x755eb6['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x755eb6['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x5b1011){this['layers']['indexOf'](_0x5b1011['id'])<0x1c1e+-0x1*0x901+0x2bb*-0x7||(this['_image']?_0x5b1011['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x5b1011['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x37a656;const _0x325ebf=this['system']['app']['scene'],_0x2f4ff7=_0x325ebf['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x325ebf['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2f4ff7&&(this['_evtLayerA'+'dded']=_0x2f4ff7['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x2f4ff7['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=-0x109*0x8+-0xe*-0x15d+-0xace&&((_0x37a656=this['system']['app']['batcher'])==null||_0x37a656['insert'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0xa638e4,_0x530fbc,_0x55cb9b,_0x46c67b;const _0x337467=this['system']['app']['scene']['layers'];(_0xa638e4=this['_evtLayers'+'Changed'])==null||_0xa638e4['off'](),this['_evtLayers'+'Changed']=null,_0x337467&&((_0x530fbc=this['_evtLayerA'+'dded'])==null||_0x530fbc['off'](),this['_evtLayerA'+'dded']=null,(_0x55cb9b=this['_evtLayerR'+'emoved'])==null||_0x55cb9b['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=-0x17*-0xa9+0x1b61+-0x2a90&&((_0x46c67b=this['system']['app']['batcher'])==null||_0x46c67b['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x4e5c65,_0x340838){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x49f271=this['_absRight']-this['_absLeft'],_0x571900=this['_absTop']-this['_absBottom'];_0x4e5c65?this['_setWidth'](_0x49f271):this['_setCalcul'+'atedWidth'](_0x49f271,!(-0x1ce1+0x23fd+-0x71b)),_0x340838?this['_setHeight'](_0x571900):this['_setCalcul'+'atedHeight'](_0x571900,!(-0x3a*0x15+-0x41*0x59+0x1b5c));const _0x1148f3=this['entity']['getLocalPo'+'sition']();_0x1148f3['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x1148f3['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x1148f3),this['_sizeDirty']=!(0x109d+0x1e8d+-0x2f29);}['_setWidth'](_0x436318){this['_width']=_0x436318,this['_setCalcul'+'atedWidth'](_0x436318,!(-0x1867*0x1+-0x1*-0x10b1+-0x5*-0x18b)),this['fire']('set:width',this['_width']);}['_setHeight'](_0xf749ae){this['_height']=_0xf749ae,this['_setCalcul'+'atedHeight'](_0xf749ae,!(0xb47+0x955+-0x149b)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x15af19,_0x46f99f){if(!(Math['abs'](_0x15af19-this['_calculate'+'dWidth'])<=-0x4cf*0x2+0x25f5+-0x1c57+0.0001)){if(this['_calculate'+'dWidth']=_0x15af19,this['entity']['_dirtifyLo'+'cal'](),_0x46f99f){const _0x1a117c=this['entity']['getLocalPo'+'sition'](),_0x13edca=this['_pivot'];this['_margin']['x']=_0x1a117c['x']-this['_calculate'+'dWidth']*_0x13edca['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x5ef1e6,_0x33299f){if(!(Math['abs'](_0x5ef1e6-this['_calculate'+'dHeight'])<=0x101f+0x5e5*0x3+-0x21ce+0.0001)){if(this['_calculate'+'dHeight']=_0x5ef1e6,this['entity']['_dirtifyLo'+'cal'](),_0x33299f){const _0x1ec7c4=this['entity']['getLocalPo'+'sition'](),_0x5d46b7=this['_pivot'];this['_margin']['y']=_0x1ec7c4['y']-this['_calculate'+'dHeight']*_0x5d46b7['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x14c289=this['entity']['_children'];for(let _0x514e19=-0x1f55+0x1133+0xe22,_0x226704=_0x14c289['length'];_0x514e19<_0x226704;_0x514e19++)_0x14c289[_0x514e19]['element']&&(_0x14c289[_0x514e19]['element']['_anchorDir'+'ty']=!(-0xf3b+-0x8ab*0x1+-0x142*-0x13),_0x14c289[_0x514e19]['element']['_sizeDirty']=!(-0x21cd*0x1+-0x12d5*-0x1+0xef8));}['addModelTo'+'Layers'](_0x555808){this['_addedMode'+'ls']['push'](_0x555808);for(let _0x5dd3ef=-0x1445*0x1+0x1b07+-0x6c2;_0x5dd3ef<this['layers']['length'];_0x5dd3ef++){const _0x78c542=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5dd3ef]);_0x78c542&&_0x78c542['addMeshIns'+'tances'](_0x555808['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x6280cf){const _0x5342b4=this['_addedMode'+'ls']['indexOf'](_0x6280cf);_0x5342b4>=0x1676+-0x1608*-0x1+-0x2c7e&&this['_addedMode'+'ls']['splice'](_0x5342b4,0x2a5*-0xd+-0x41f*-0x8+0x16a);for(let _0x4e60e1=0x1*-0x2703+0x1de8+-0x91b*-0x1;_0x4e60e1<this['layers']['length'];_0x4e60e1++){const _0x5d2a6f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x4e60e1]);_0x5d2a6f&&_0x5d2a6f['removeMesh'+'Instances'](_0x6280cf['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x1cf964=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x1cf964&&(this['_maskOffse'+'t']=0x1c9a+0x7b*-0x41+0x2a1+0.5,this['_offsetRea'+'dAt']=_0x1cf964);const _0x3ae13a=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=0x803*-0x1+0xd2f+-0x52c+0.001,_0x3ae13a;}['isVisibleF'+'orCamera'](_0x26ac74){let _0x2c6c24,_0x1a1fac,_0x27e36c,_0x885aed;if(this['maskedBy']){const _0x1b1206=this['maskedBy']['element']['screenCorn'+'ers'];_0x2c6c24=Math['min'](Math['min'](_0x1b1206[0x114*-0x4+-0x2426+0x2876]['x'],_0x1b1206[-0x2184+0x1ee6+0x29f]['x']),Math['min'](_0x1b1206[-0x1af1+0xbce*-0x3+-0x1f*-0x203]['x'],_0x1b1206[0x1efd*0x1+0x1*-0x1837+-0x6c3]['x'])),_0x1a1fac=Math['max'](Math['max'](_0x1b1206[-0x19df+0x89e*-0x4+0x3c57]['x'],_0x1b1206[0x1cb2+-0x803+0x14ae*-0x1]['x']),Math['max'](_0x1b1206[-0x5*0x203+-0x8*0x193+0x16a9]['x'],_0x1b1206[0xaf9*0x1+0x15a5*-0x1+0xaaf]['x'])),_0x885aed=Math['min'](Math['min'](_0x1b1206[0x3*0xc95+0x1451+-0x2*0x1d08]['y'],_0x1b1206[0x9db+0xe69+0x1*-0x1843]['y']),Math['min'](_0x1b1206[0x30e+-0xf2b*-0x1+-0x1237]['y'],_0x1b1206[0x7+-0x10f1*-0x1+-0x10f5]['y'])),_0x27e36c=Math['max'](Math['max'](_0x1b1206[0x3d3+0x42a*0x9+-0x294d]['y'],_0x1b1206[0x42d*-0x5+-0x3*0x9c7+0x3237]['y']),Math['max'](_0x1b1206[-0x25dd+0x1d4f+0x890]['y'],_0x1b1206[-0x1*-0x23a7+-0x6*-0x607+-0x47ce]['y']));}else{const _0x49674b=this['system']['app']['graphicsDe'+'vice']['width'],_0x4384b0=this['system']['app']['graphicsDe'+'vice']['height'],_0x3b74b9=_0x26ac74['_rect']['z']*_0x49674b,_0x2a86ec=_0x26ac74['_rect']['w']*_0x4384b0;_0x2c6c24=_0x26ac74['_rect']['x']*_0x49674b,_0x1a1fac=_0x2c6c24+_0x3b74b9,_0x27e36c=(-0xe7f+0x1*-0x19a1+0x2821-_0x26ac74['_rect']['y'])*_0x4384b0,_0x885aed=_0x27e36c-_0x2a86ec;}const _0x5d0645=this['screenCorn'+'ers'],_0x488886=Math['min'](Math['min'](_0x5d0645[-0x19e5+-0x6ad*0x3+0x2dec]['x'],_0x5d0645[-0x2*-0xa3+0x18db+-0x26*0xb0]['x']),Math['min'](_0x5d0645[-0xa79+0x653*0x3+0x2*-0x43f]['x'],_0x5d0645[0x1e+0x508+-0x523]['x'])),_0x664305=Math['max'](Math['max'](_0x5d0645[-0x910+0x9d4+0xe*-0xe]['x'],_0x5d0645[0x136c+-0x25ed+-0x1282*-0x1]['x']),Math['max'](_0x5d0645[0x54*-0x3c+0xf43+-0x1*-0x46f]['x'],_0x5d0645[0x167*0x1b+-0x3*-0x1c1+0x1*-0x2b1d]['x'])),_0x5a7b32=Math['min'](Math['min'](_0x5d0645[-0x248f+0x84d+0x1*0x1c42]['y'],_0x5d0645[0x13*-0xc1+-0x18c*-0x13+-0xf10]['y']),Math['min'](_0x5d0645[-0x147+-0x5bd*-0x1+-0xa*0x72]['y'],_0x5d0645[0x1*-0x232+0x1107+-0xe*0x10f]['y'])),_0x44ccac=Math['max'](Math['max'](_0x5d0645[0x1*0x1a84+0x290*-0x4+-0x1044]['y'],_0x5d0645[0x20e6+-0x198a+-0x1*0x75b]['y']),Math['max'](_0x5d0645[-0x24af+0x12e2+0x2f*0x61]['y'],_0x5d0645[-0x1523+0x94b*-0x1+0x1e71]['y']));return!(_0x664305<_0x2c6c24||_0x488886>_0x1a1fac||_0x5a7b32>_0x27e36c||_0x44ccac<_0x885aed);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(-0x2e*-0x4a+0xe32*-0x2+0xf19);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(-0x1*-0x753+0x1173+-0x1*0x18c5);}['_dirtyBatc'+'h'](){var _0x1cb944;this['batchGroup'+'Id']!==-(-0x3*-0x766+-0xf*0x1e+-0x146f*0x1)&&((_0x1cb944=this['system']['app']['batcher'])==null||_0x1cb944['markGroupD'+'irty'](this['batchGroup'+'Id']));}}h(hs,'EVENT_MOUS'+'EDOWN','mousedown'),h(hs,'EVENT_MOUS'+'EUP','mouseup'),h(hs,'EVENT_MOUS'+'EENTER','mouseenter'),h(hs,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(hs,'EVENT_MOUS'+'EMOVE','mousemove'),h(hs,'EVENT_MOUS'+'EWHEEL','mousewheel'),h(hs,'EVENT_CLIC'+'K','click'),h(hs,'EVENT_TOUC'+'HSTART','touchstart'),h(hs,'EVENT_TOUC'+'HEND','touchend'),h(hs,'EVENT_TOUC'+'HMOVE','touchmove'),h(hs,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class DR{constructor(){this['enabled']=!(-0x1*-0x85f+0x7a9+0x98*-0x1b);}}const IR=['enabled'];class LR extends ct{constructor(_0x36624d){super(_0x36624d),this['id']='element',this['ComponentT'+'ype']=hs,this['DataType']=DR,this['schema']=IR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new _e(_0x36624d['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'element-sy'+'stem'});const _0x428af7=this['_defaultTe'+'xture']['lock'](),_0xff0bbd=new Uint8Array(0x5*-0x76d+-0x1*0x11ec+0x3711);_0xff0bbd[0x2138*-0x1+-0x25f6+-0x2*-0x2397]=0x15d*0x9+0x1d77+0x28bd*-0x1,_0xff0bbd[-0x2*0x266+-0x1d63+-0x2*-0x1118]=0x137d+-0x1995+0x79*0xf,_0xff0bbd[-0x24ac+0x1a5b+-0x1*-0xa53]=0x1e86+0x212f+-0x3eb6,_0xff0bbd[-0x3ea+-0x2707+0x2af4]=-0x1*-0x255b+0x31*0x39+0x1*-0x2f45,_0x428af7['set'](_0xff0bbd),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x21526b,_0x162359,_0x49668d){_0x21526b['_beingInit'+'ialized']=!(0x23*0xa9+0x639+0x755*-0x4),_0x162359['anchor']!==void(0x2645+0x1*-0xe91+-0x52*0x4a)&&(_0x162359['anchor']instanceof re?_0x21526b['anchor']['copy'](_0x162359['anchor']):_0x21526b['anchor']['set'](_0x162359['anchor'][-0xf92+-0x130c+0x229e],_0x162359['anchor'][0x263d+-0x1ad0+-0xb6c],_0x162359['anchor'][-0x1*0x22b4+0x10a3+0x295*0x7],_0x162359['anchor'][0x35*0xac+0x1f*0x91+0x18*-0x237])),_0x162359['pivot']!==void(0xa1e+-0xf9a+0x57c)&&(_0x162359['pivot']instanceof J?_0x21526b['pivot']['copy'](_0x162359['pivot']):_0x21526b['pivot']['set'](_0x162359['pivot'][-0x1a31+0x255+-0x7f4*-0x3],_0x162359['pivot'][0x5d1+-0x1*0xbce+0x5fe]));const _0x2c33f1=Math['abs'](_0x21526b['anchor']['x']-_0x21526b['anchor']['z'])>-0x1d2f+0x20df+-0x3b0+0.001,_0x4b50e5=Math['abs'](_0x21526b['anchor']['y']-_0x21526b['anchor']['w'])>0x1f17+-0x8*0x202+0x1*-0xf07+0.001;let _0x49a795=!(0x2*0x6bc+-0xda5+0x2e),_0x5a553;_0x162359['margin']!==void(0xf38+0x377*-0x1+0x1*-0xbc1)&&(_0x162359['margin']instanceof re?_0x21526b['margin']['copy'](_0x162359['margin']):_0x21526b['_margin']['set'](_0x162359['margin'][-0x25e7+-0x709*0x2+-0x377*-0xf],_0x162359['margin'][0x1afe*0x1+-0x4*-0x809+-0x3b21*0x1],_0x162359['margin'][0xd05+-0x146a+0x767],_0x162359['margin'][0xf99+-0x110+-0xd*0x11e]),_0x49a795=!(-0x1849*-0x1+0xd51+-0x259a)),_0x162359['left']!==void(-0x20b0+0x224e+-0x19e)&&(_0x21526b['_margin']['x']=_0x162359['left'],_0x49a795=!(0x3*0x4b1+-0x1*0xaa1+-0x372)),_0x162359['bottom']!==void(-0x2317+-0x2524+-0x691*-0xb)&&(_0x21526b['_margin']['y']=_0x162359['bottom'],_0x49a795=!(-0x35*0x1a+0x8cc+0x26*-0x17)),_0x162359['right']!==void(0x8a*0x3d+-0x5*0x243+-0x107*0x15)&&(_0x21526b['_margin']['z']=_0x162359['right'],_0x49a795=!(-0x1007+0x141c+-0x415*0x1)),_0x162359['top']!==void(0x255d+0x6b9*0x2+0x32cf*-0x1)&&(_0x21526b['_margin']['w']=_0x162359['top'],_0x49a795=!(-0x1cc3+-0x2453+0x15b2*0x3)),_0x49a795&&(_0x21526b['margin']=_0x21526b['_margin']);let _0x2531c7=!(-0x4e7+0x7b5+-0x2cd*0x1);_0x162359['width']!==void(-0xd12*0x2+-0x1*0x1c87+-0x2d*-0x137)&&!_0x2c33f1?_0x21526b['width']=_0x162359['width']:_0x2c33f1&&(_0x2531c7=!(0x1*0x2525+-0x1b08+-0xa1d)),_0x162359['height']!==void(0x61d*-0x2+0x23d9+-0x179f*0x1)&&!_0x4b50e5?_0x21526b['height']=_0x162359['height']:_0x4b50e5&&(_0x2531c7=!(-0x62+-0x85b*0x4+-0x21ce*-0x1)),_0x2531c7&&(_0x21526b['anchor']=_0x21526b['anchor']),_0x162359['enabled']!==void(0x12c1+-0x1810+0x54f)&&(_0x21526b['enabled']=_0x162359['enabled']),_0x162359['useInput']!==void(-0x1*0x1e1d+0x1*-0xd85+0x45d*0xa)&&(_0x21526b['useInput']=_0x162359['useInput']),_0x162359['fitMode']!==void(0xb19+-0x1d6a+0x1251)&&(_0x21526b['fitMode']=_0x162359['fitMode']),_0x21526b['batchGroup'+'Id']=_0x162359['batchGroup'+'Id']===void(0x2*0x43+0x50d+-0x593*0x1)||_0x162359['batchGroup'+'Id']===null?-(0x25a2+0x1a*0x27+0x27*-0x111):_0x162359['batchGroup'+'Id'],_0x162359['layers']&&Array['isArray'](_0x162359['layers'])&&(_0x21526b['layers']=_0x162359['layers']['slice'](-0xbcb+-0x3da+0xfa5)),_0x162359['type']!==void(0x2*0x8b5+0x3b*0x4f+0x239f*-0x1)&&(_0x21526b['type']=_0x162359['type']),_0x21526b['type']===Cu?(_0x162359['rect']!==void(-0x6e8+0x1a*0xc7+-0x106*0xd)&&(_0x21526b['rect']=_0x162359['rect']),_0x162359['color']!==void(-0x1c90+0x120b+0xa85)&&(_0x5a553=_0x162359['color'],_0x5a553 instanceof ie||(_0x5a553=new ie(_0x162359['color'][-0x23c1+0xa1*0x2f+0x1a*0x3d],_0x162359['color'][-0x1f8+-0x2321+-0x1*-0x251a],_0x162359['color'][-0x97f+0x2*-0x34d+0x101b])),_0x21526b['color']=_0x5a553),_0x162359['opacity']!==void(0x949+-0x4f6+-0x3*0x171)&&(_0x21526b['opacity']=_0x162359['opacity']),_0x162359['textureAss'+'et']!==void(-0x1d74+0x6*0x5+0x1d56)&&(_0x21526b['textureAss'+'et']=_0x162359['textureAss'+'et']),_0x162359['texture']&&(_0x21526b['texture']=_0x162359['texture']),_0x162359['spriteAsse'+'t']!==void(0x6*0x3a5+-0x11fe+-0x4*0xf8)&&(_0x21526b['spriteAsse'+'t']=_0x162359['spriteAsse'+'t']),_0x162359['sprite']&&(_0x21526b['sprite']=_0x162359['sprite']),_0x162359['spriteFram'+'e']!==void(-0x4*-0x47+0x9cb+-0xae7)&&(_0x21526b['spriteFram'+'e']=_0x162359['spriteFram'+'e']),_0x162359['pixelsPerU'+'nit']!==void(0x278+-0x17f*0x7+-0x3*-0x2ab)&&_0x162359['pixelsPerU'+'nit']!==null&&(_0x21526b['pixelsPerU'+'nit']=_0x162359['pixelsPerU'+'nit']),_0x162359['materialAs'+'set']!==void(0xd9*0xe+0x9ff+-0x15dd)&&(_0x21526b['materialAs'+'set']=_0x162359['materialAs'+'set']),_0x162359['material']&&(_0x21526b['material']=_0x162359['material']),_0x162359['mask']!==void(-0x1*0x911+0xe*0xc+-0x869*-0x1)&&(_0x21526b['mask']=_0x162359['mask'])):_0x21526b['type']===jv&&(_0x162359['autoWidth']!==void(0xb42+-0x11*-0x223+0x1*-0x2f95)&&(_0x21526b['autoWidth']=_0x162359['autoWidth']),_0x162359['autoHeight']!==void(0x1*-0xab7+0x441+-0x33b*-0x2)&&(_0x21526b['autoHeight']=_0x162359['autoHeight']),_0x162359['rtlReorder']!==void(-0x1413+0x1df*0x4+0x125*0xb)&&(_0x21526b['rtlReorder']=_0x162359['rtlReorder']),_0x162359['unicodeCon'+'verter']!==void(-0x1ff*0x6+-0x20a2+0x2c9c)&&(_0x21526b['unicodeCon'+'verter']=_0x162359['unicodeCon'+'verter']),_0x162359['text']!==null&&_0x162359['text']!==void(0x23e2+-0x2534+0xa9*0x2)?_0x21526b['text']=_0x162359['text']:_0x162359['key']!==null&&_0x162359['key']!==void(0xd2c*0x2+0x159c+-0xba*0x42)&&(_0x21526b['key']=_0x162359['key']),_0x162359['color']!==void(0x6b8+-0x5*-0x28+0x40*-0x1e)&&(_0x5a553=_0x162359['color'],_0x5a553 instanceof ie||(_0x5a553=new ie(_0x5a553[0x62*0x62+-0x2071+-0x513],_0x5a553[0xd60+-0x5f6+-0x769],_0x5a553[-0x1eb7*-0x1+0x2063+0x1*-0x3f18])),_0x21526b['color']=_0x5a553),_0x162359['opacity']!==void(0xeb4+-0x2590*0x1+0x4c*0x4d)&&(_0x21526b['opacity']=_0x162359['opacity']),_0x162359['spacing']!==void(-0x1*0x22f9+-0x8ee*-0x4+-0xbf)&&(_0x21526b['spacing']=_0x162359['spacing']),_0x162359['fontSize']!==void(0x2*-0xb29+0x43f*-0x9+0x3c89)&&(_0x21526b['fontSize']=_0x162359['fontSize'],_0x162359['lineHeight']||(_0x21526b['lineHeight']=_0x162359['fontSize'])),_0x162359['lineHeight']!==void(0x728*-0x2+-0x675+0x1*0x14c5)&&(_0x21526b['lineHeight']=_0x162359['lineHeight']),_0x162359['maxLines']!==void(-0x1*-0x7a5+-0x2034+-0x188f*-0x1)&&(_0x21526b['maxLines']=_0x162359['maxLines']),_0x162359['wrapLines']!==void(0x3e5+-0x234e+0x1f69)&&(_0x21526b['wrapLines']=_0x162359['wrapLines']),_0x162359['minFontSiz'+'e']!==void(-0x2*0xe26+-0x1*-0x8ad+0x1*0x139f)&&(_0x21526b['minFontSiz'+'e']=_0x162359['minFontSiz'+'e']),_0x162359['maxFontSiz'+'e']!==void(0x1814+-0x1*-0x1486+-0x2c9a)&&(_0x21526b['maxFontSiz'+'e']=_0x162359['maxFontSiz'+'e']),_0x162359['autoFitWid'+'th']&&(_0x21526b['autoFitWid'+'th']=_0x162359['autoFitWid'+'th']),_0x162359['autoFitHei'+'ght']&&(_0x21526b['autoFitHei'+'ght']=_0x162359['autoFitHei'+'ght']),_0x162359['fontAsset']!==void(-0x8f2+-0x11b*0x4+0xd5e)&&(_0x21526b['fontAsset']=_0x162359['fontAsset']),_0x162359['font']!==void(-0x1fd3+-0x228d+0x4260)&&(_0x21526b['font']=_0x162359['font']),_0x162359['alignment']!==void(0x27f*0xc+0xd41+-0x2b35)&&(_0x21526b['alignment']=_0x162359['alignment']),_0x162359['outlineCol'+'or']!==void(0x74b+-0x2349+0x1bfe)&&(_0x21526b['outlineCol'+'or']=_0x162359['outlineCol'+'or']),_0x162359['outlineThi'+'ckness']!==void(0xd0f+-0x11fc+-0x1*-0x4ed)&&(_0x21526b['outlineThi'+'ckness']=_0x162359['outlineThi'+'ckness']),_0x162359['shadowColo'+'r']!==void(0x1*0x3f2+0x1*-0x205c+-0x1c6a*-0x1)&&(_0x21526b['shadowColo'+'r']=_0x162359['shadowColo'+'r']),_0x162359['shadowOffs'+'et']!==void(-0x2*0x21f+-0xee8+0x1326)&&(_0x21526b['shadowOffs'+'et']=_0x162359['shadowOffs'+'et']),_0x162359['enableMark'+'up']!==void(0xb80*-0x2+-0x189a*-0x1+0xcd*-0x2)&&(_0x21526b['enableMark'+'up']=_0x162359['enableMark'+'up']));const _0x4f5146=_0x21526b['_parseUpTo'+'Screen']();_0x4f5146['screen']&&_0x21526b['_updateScr'+'een'](_0x4f5146['screen']),super['initialize'+'ComponentD'+'ata'](_0x21526b,_0x162359,_0x49668d),_0x21526b['_beingInit'+'ialized']=!(0x71*-0x3e+-0x1118*0x1+0x2c77*0x1),_0x21526b['type']===Cu&&_0x21526b['_image']['_meshDirty']&&_0x21526b['_image']['_updateMes'+'h'](_0x21526b['_image']['mesh']);}['onAddCompo'+'nent'](_0x1692c8,_0x50fd39){_0x1692c8['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0xf6e49d,_0x489082){_0x489082['onRemove']();}['cloneCompo'+'nent'](_0x51a965,_0x1727a6){const _0x3ed3fd=_0x51a965['element'],_0x2884d6={'enabled':_0x3ed3fd['enabled'],'width':_0x3ed3fd['width'],'height':_0x3ed3fd['height'],'anchor':_0x3ed3fd['anchor']['clone'](),'pivot':_0x3ed3fd['pivot']['clone'](),'margin':_0x3ed3fd['margin']['clone'](),'alignment':_0x3ed3fd['alignment']&&_0x3ed3fd['alignment']['clone']()||_0x3ed3fd['alignment'],'autoWidth':_0x3ed3fd['autoWidth'],'autoHeight':_0x3ed3fd['autoHeight'],'type':_0x3ed3fd['type'],'rect':_0x3ed3fd['rect']&&_0x3ed3fd['rect']['clone']()||_0x3ed3fd['rect'],'rtlReorder':_0x3ed3fd['rtlReorder'],'unicodeConverter':_0x3ed3fd['unicodeCon'+'verter'],'materialAsset':_0x3ed3fd['materialAs'+'set'],'material':_0x3ed3fd['material'],'color':_0x3ed3fd['color']&&_0x3ed3fd['color']['clone']()||_0x3ed3fd['color'],'opacity':_0x3ed3fd['opacity'],'textureAsset':_0x3ed3fd['textureAss'+'et'],'texture':_0x3ed3fd['texture'],'spriteAsset':_0x3ed3fd['spriteAsse'+'t'],'sprite':_0x3ed3fd['sprite'],'spriteFrame':_0x3ed3fd['spriteFram'+'e'],'pixelsPerUnit':_0x3ed3fd['pixelsPerU'+'nit'],'spacing':_0x3ed3fd['spacing'],'lineHeight':_0x3ed3fd['lineHeight'],'wrapLines':_0x3ed3fd['wrapLines'],'layers':_0x3ed3fd['layers'],'fontSize':_0x3ed3fd['fontSize'],'minFontSize':_0x3ed3fd['minFontSiz'+'e'],'maxFontSize':_0x3ed3fd['maxFontSiz'+'e'],'autoFitWidth':_0x3ed3fd['autoFitWid'+'th'],'autoFitHeight':_0x3ed3fd['autoFitHei'+'ght'],'maxLines':_0x3ed3fd['maxLines'],'fontAsset':_0x3ed3fd['fontAsset'],'font':_0x3ed3fd['font'],'useInput':_0x3ed3fd['useInput'],'fitMode':_0x3ed3fd['fitMode'],'batchGroupId':_0x3ed3fd['batchGroup'+'Id'],'mask':_0x3ed3fd['mask'],'outlineColor':_0x3ed3fd['outlineCol'+'or']&&_0x3ed3fd['outlineCol'+'or']['clone']()||_0x3ed3fd['outlineCol'+'or'],'outlineThickness':_0x3ed3fd['outlineThi'+'ckness'],'shadowColor':_0x3ed3fd['shadowColo'+'r']&&_0x3ed3fd['shadowColo'+'r']['clone']()||_0x3ed3fd['shadowColo'+'r'],'shadowOffset':_0x3ed3fd['shadowOffs'+'et']&&_0x3ed3fd['shadowOffs'+'et']['clone']()||_0x3ed3fd['shadowOffs'+'et'],'enableMarkup':_0x3ed3fd['enableMark'+'up']};return _0x3ed3fd['key']!==void(0x184b+-0x1101+-0x3a5*0x2)&&_0x3ed3fd['key']!==null?_0x2884d6['key']=_0x3ed3fd['key']:_0x2884d6['text']=_0x3ed3fd['text'],this['addCompone'+'nt'](_0x1727a6,_0x2884d6);}['getTextEle'+'mentMateri'+'al'](_0x1e47df,_0x1074ab,_0x22ef85){const _0x57221e=(_0x1e47df&&-0x1*-0x187d+-0xe11+-0xa6b)|(_0x1074ab&&-0x1b52+0x1*-0x1af5+0x3649)|(_0x22ef85&&-0xa9d*-0x1+0x1*0x1f76+0x25*-0x123);let _0xa04df8=this['_defaultTe'+'xtMaterial'+'s'][_0x57221e];if(_0xa04df8)return _0xa04df8;let _0x36bc28='TextMateri'+'al';return _0xa04df8=new Ut(),_0x1074ab?(_0xa04df8['msdfMap']=this['_defaultTe'+'xture'],_0xa04df8['msdfTextAt'+'tribute']=_0x22ef85,_0xa04df8['emissive']['set'](0x1deb+-0x7*0x243+-0xe15,0x13e6+0x3cd*-0x5+-0x3*0x4c,0xcba+0x1*0x767+-0x1420)):(_0x36bc28='Bitmap'+_0x36bc28,_0xa04df8['emissive']['set'](0xea4*0x1+-0x538+-0x96b,-0x1*0x2536+-0x2291+0x47c8,-0xefa+0x6*0x14d+0xb*0xa7),_0xa04df8['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0xa04df8['opacityMap']=this['_defaultTe'+'xture'],_0xa04df8['opacityMap'+'Channel']='a'),_0x1e47df&&(_0x36bc28='ScreenSpac'+'e'+_0x36bc28,_0xa04df8['depthTest']=!(-0x1*-0x2504+-0x12df*-0x1+0x26e*-0x17)),_0xa04df8['name']='default'+_0x36bc28,_0xa04df8['useLightin'+'g']=!(-0x1*0x1ffc+0xf13*-0x1+0x18*0x1f6),_0xa04df8['useTonemap']=!(-0x11*-0x1d3+0x1e31+-0x3d33),_0xa04df8['useFog']=!(0x22*-0x6d+-0x25de+0x3459),_0xa04df8['useSkybox']=!(-0x19a8*0x1+-0x174*-0x7+0xf7d),_0xa04df8['diffuse']['set'](0x1c31+-0xdd+0x9f*-0x2c,-0x17db+0xcce*-0x3+-0x1*-0x3e45,-0x193a+0x4*0x749+0x2*-0x1f5),_0xa04df8['opacity']=0x2f*0x16+0x12bf*0x1+-0x16c9+0.5,_0xa04df8['blendType']=Gn,_0xa04df8['depthWrite']=!(-0xc64*0x2+-0x1bf0+0x21*0x199),_0xa04df8['emissiveVe'+'rtexColor']=!(-0x1*0x1b1f+-0x7*-0x1dd+0xd4*0x11),_0xa04df8['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x57221e]=_0xa04df8,_0xa04df8;}['_createBas'+'eImageMate'+'rial'](){const _0x3c6d21=new Ut();return _0x3c6d21['diffuse']['set'](0x62d+-0x12e7+-0x12*-0xb5,0xa4d+0x3b9*0x2+0x1*-0x11bf,-0xc+-0x1caf*-0x1+-0x1ca3),_0x3c6d21['emissive']['set'](0x1*0x217f+0x8*-0xca+-0x7*0x3e2,0x20f9+0xc7+-0x21bf,-0x7c*0x38+0x1f81*-0x1+0x3aa2),_0x3c6d21['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x3c6d21['opacityMap']=this['_defaultTe'+'xture'],_0x3c6d21['opacityMap'+'Channel']='a',_0x3c6d21['useLightin'+'g']=!(-0x2f*0x29+-0x26f*0xc+0x24bc),_0x3c6d21['useTonemap']=!(-0x1*0x1844+0x800*0x1+0x5*0x341),_0x3c6d21['useFog']=!(0x1d50+-0x70*-0xe+-0x236f),_0x3c6d21['useSkybox']=!(-0xe9f*-0x1+-0x487*-0x5+-0x2541),_0x3c6d21['blendType']=Gn,_0x3c6d21['depthWrite']=!(0x1f22+0x247b+-0x439c),_0x3c6d21;}['getImageEl'+'ementMater'+'ial'](_0x4f0c91,_0x2edfe8,_0x2b82ac,_0x12fa4b){return _0x4f0c91?_0x2edfe8?_0x2b82ac?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(0x2f6*0x5+0xc41*0x3+-0x96*0x58),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=-0x15f9+-0x1846+-0x50*-0x94,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0x6b6*-0x5+0x1*0x1196+-0x3323),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(0x75*-0xd+-0xe4c+0x143e),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(-0x10c+-0x76b+0x878),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(0x6af+0x126a+-0x58*0x49),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x12fa4b?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(0x22f7+-0x25c7+0x2d1),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=-0x147f+0x2*-0xb5c+0x2b38,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(0x1*-0xf9a+-0xf8*0x1+0x1093*0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(-0x9*-0x227+-0x1967+0x609),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(0x72f+0x2705+-0x1*0x2e33),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(0x4*-0xa8+-0x1bbf+-0x1b*-0x120),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(-0x721+-0x6*0x38b+0x2e*0x9e),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=0xa3d*-0x1+-0x724+0x1162,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(-0x809*0x2+-0x1457+-0x1*-0x246a),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(0x2294*0x1+-0x10bd+-0x11d6),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(0x1457+0x800+-0x9*0x326),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(0xeee+0x1245+-0x2132),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x2b82ac?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(0x1431+-0x22ed+0xebd),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x12fa4b?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(0x1*0x224f+0x2143+-0x4391),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(0x346*0x3+-0x6*-0x3c5+-0x206f),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x2edfe8?_0x2b82ac?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=0xb8c+-0x7cd*-0x1+-0x1358,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(-0x469+-0x388*0x8+0xe2*0x25),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(-0x355+0x1c51*0x1+-0x5*0x4ff),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(0x1*0x871+-0x4*-0x3d0+-0x17b0),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(-0x95c*-0x3+0xf8b+-0x2b9e),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x12fa4b?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=0x1c*0xf7+0x1*-0x12c1+-0x7*0x12e,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(-0x5*-0x6b9+0x12b5+0xe3*-0x3b),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(0x1fca+0x1363+-0x332c),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(-0x1eb8+0x4*0x6ed+0x305),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(0xf53*-0x1+0x2527*-0x1+0x347b*0x1),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=-0x8*0x224+0x1291+-0x170,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(-0x1bf3+0x162e+0x5c6),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(-0xdc3+0x20e*0x13+-0x1946),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(0x91e+-0x295+-0x688),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(0x3ee*-0x5+0x1113+0x294),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x2b82ac?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x12fa4b?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x282430){this['_unicodeCo'+'nverter']=_0x282430;}['registerRt'+'lReorder'](_0x265bdc){this['_rtlReorde'+'r']=_0x265bdc;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Xa='free',qa='limited',ja='locked',RR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class ym extends we{constructor(_0x50189b,_0x201a85){super(_0x50189b,_0x201a85),w['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(-0x16d1+-0x98*-0x25+0xd9*0x1),this['_linearMot'+'ionX']=ja,this['_linearLim'+'itsX']=new J(0xe1c*-0x1+0x17a3+-0x9*0x10f,0x24b0+-0x2033+-0x47d),this['_linearSpr'+'ingX']=!(-0x465+-0x10be+0x21*0xa4),this['_linearSti'+'ffnessX']=0x1c4b*-0x1+0x7d7+0x1474,this['_linearDam'+'pingX']=0x188f*-0x1+0x2d*0xdb+-0x3*0x4a5,this['_linearEqu'+'ilibriumX']=0x3fb*-0x7+-0x3*0x748+-0x19*-0x1fd,this['_linearMot'+'ionY']=ja,this['_linearLim'+'itsY']=new J(0x2225+0x2519+-0x2*0x239f,0x4c*0x67+0xa2d+-0x28c1),this['_linearSpr'+'ingY']=!(-0x226c*0x1+0x5b2*-0x2+0x1*0x2dd1),this['_linearSti'+'ffnessY']=0x1*0xb92+0x2464*0x1+-0x2ff6,this['_linearDam'+'pingY']=-0x362+-0x1*0xb42+0xea5,this['_linearEqu'+'ilibriumY']=0x1410+0xdf*-0x23+-0x1*-0xa6d,this['_linearMot'+'ionZ']=ja,this['_linearLim'+'itsZ']=new J(-0x1d4+0x8a3+-0x6cf,0xf13+0x228b+-0x319e),this['_linearSpr'+'ingZ']=!(0x12*-0x115+-0x6f+-0x9f5*-0x2),this['_linearSti'+'ffnessZ']=-0x26ac+-0x16b9+0x3d65,this['_linearDam'+'pingZ']=-0x4*0xd4+-0x216*0x7+0x11eb,this['_linearEqu'+'ilibriumZ']=-0x1cd3+-0x56c*-0x1+0x1767,this['_angularMo'+'tionX']=ja,this['_angularLi'+'mitsX']=new J(0x12c1*0x1+0x829*0x2+-0x49*0x7b,0x91e+-0x1f7*0x1+-0x1*0x727),this['_angularSp'+'ringX']=!(-0x318+-0x1d46+0x1*0x205f),this['_angularSt'+'iffnessX']=-0x1093*0x1+0xc6b+0x1*0x428,this['_angularDa'+'mpingX']=-0xf7b+-0x21bd+0x3139,this['_angularEq'+'uilibriumX']=0x1b28+0x2574+-0xa*0x676,this['_angularMo'+'tionY']=ja,this['_angularLi'+'mitsY']=new J(0x2*-0x12af+-0x16ee+0x3c4c,-0x22fe+0x1627+-0xad*-0x13),this['_angularSp'+'ringY']=!(0x35a+-0x4*-0x921+0x27dd*-0x1),this['_angularSt'+'iffnessY']=0x9f1+0x1*0x1891+-0x2282,this['_angularDa'+'mpingY']=-0x88f*0x3+0xaab+0x7*0x225,this['_angularEq'+'uilibriumY']=-0x1976*0x1+-0x2c*-0x2b+0x1212,this['_angularMo'+'tionZ']=ja,this['_angularLi'+'mitsZ']=new J(0x2159+-0x4*0x17e+-0x1b61,-0x200*-0x2+-0x1df3+0x19f3),this['_angularSp'+'ringZ']=!(0xa50+-0x2395+0x1*0x1946),this['_angularEq'+'uilibriumZ']=-0x250b+-0x902+0x2e0d,this['_angularDa'+'mpingZ']=0x14f0+0xe51+0x468*-0x8,this['_angularSt'+'iffnessZ']=-0x1b08+0x19ff*-0x1+-0xa9b*-0x5,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x5da3ac){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x5da3ac,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0xa828ba){this['_destroyCo'+'nstraint'](),this['_entityB']=_0xa828ba,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x3799d7){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x3799d7&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x3799d7),this['_breakForc'+'e']=_0x3799d7);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x13f367){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x13f367,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x51e51d){this['_angularLi'+'mitsX']['equals'](_0x51e51d)||(this['_angularLi'+'mitsX']['copy'](_0x51e51d),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x2d1000){this['_angularMo'+'tionX']!==_0x2d1000&&(this['_angularMo'+'tionX']=_0x2d1000,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x1248d6){this['_angularLi'+'mitsY']['equals'](_0x1248d6)||(this['_angularLi'+'mitsY']['copy'](_0x1248d6),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x48c4f5){this['_angularMo'+'tionY']!==_0x48c4f5&&(this['_angularMo'+'tionY']=_0x48c4f5,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x359142){this['_angularLi'+'mitsZ']['equals'](_0x359142)||(this['_angularLi'+'mitsZ']['copy'](_0x359142),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x35aa4e){this['_angularMo'+'tionZ']!==_0x35aa4e&&(this['_angularMo'+'tionZ']=_0x35aa4e,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x436b26){this['_linearLim'+'itsX']['equals'](_0x436b26)||(this['_linearLim'+'itsX']['copy'](_0x436b26),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x39b43e){this['_linearMot'+'ionX']!==_0x39b43e&&(this['_linearMot'+'ionX']=_0x39b43e,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x208ba3){this['_linearLim'+'itsY']['equals'](_0x208ba3)||(this['_linearLim'+'itsY']['copy'](_0x208ba3),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x2ee396){this['_linearMot'+'ionY']!==_0x2ee396&&(this['_linearMot'+'ionY']=_0x2ee396,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x877e63){this['_linearLim'+'itsZ']['equals'](_0x877e63)||(this['_linearLim'+'itsZ']['copy'](_0x877e63),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0xf37f32){this['_linearMot'+'ionZ']!==_0xf37f32&&(this['_linearMot'+'ionZ']=_0xf37f32,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x7b5656,_0x12dd4e){const _0x13433d=_0x7b5656['getTransla'+'tion'](),_0x448738=new le();_0x448738['setFromMat'+'4'](_0x7b5656);const _0x4ffc4f=new Ammo['btVector3'](_0x13433d['x'],_0x13433d['y'],_0x13433d['z']),_0xbdafa0=new Ammo['btQuaterni'+'on'](_0x448738['x'],_0x448738['y'],_0x448738['z'],_0x448738['w']);_0x12dd4e['setOrigin'](_0x4ffc4f),_0x12dd4e['setRotatio'+'n'](_0xbdafa0),Ammo['destroy'](_0x4ffc4f),Ammo['destroy'](_0xbdafa0);}['_updateAng'+'ularLimits'](){const _0x811151=this['_constrain'+'t'];if(_0x811151){let _0x97b736,_0xe7bafe,_0x1c2d76,_0x2d8730,_0x31a555,_0x3ac547;this['_angularMo'+'tionX']===qa?(_0x97b736=this['_angularLi'+'mitsX']['x']*Y['DEG_TO_RAD'],_0x2d8730=this['_angularLi'+'mitsX']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionX']===Xa?(_0x97b736=0x6d3+-0x1*0x2573+0x1ea1,_0x2d8730=0x15de+0x1ea*-0xf+0xdb*0x8):_0x97b736=_0x2d8730=-0x2*0x5ec+-0x15cd+-0x21*-0x105,this['_angularMo'+'tionY']===qa?(_0xe7bafe=this['_angularLi'+'mitsY']['x']*Y['DEG_TO_RAD'],_0x31a555=this['_angularLi'+'mitsY']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionY']===Xa?(_0xe7bafe=0x6ea+0xb*-0x13e+0x6c1,_0x31a555=0x1a74+0x1*-0x683+-0x1*0x13f1):_0xe7bafe=_0x31a555=0x1a38+-0x1d3*-0x1+0x1*-0x1c0b,this['_angularMo'+'tionZ']===qa?(_0x1c2d76=this['_angularLi'+'mitsZ']['x']*Y['DEG_TO_RAD'],_0x3ac547=this['_angularLi'+'mitsZ']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Xa?(_0x1c2d76=-0x41*0x7a+-0x10a8+0x2fa3,_0x3ac547=-0xf46+0x23c8+-0x41a*0x5):_0x1c2d76=_0x3ac547=0x17*0x9a+-0xd*-0x1ff+-0x23*0x123;const _0x5d4318=new Ammo['btVector3'](_0x97b736,_0xe7bafe,_0x1c2d76);_0x811151['setAngular'+'LowerLimit'](_0x5d4318),_0x5d4318['setValue'](_0x2d8730,_0x31a555,_0x3ac547),_0x811151['setAngular'+'UpperLimit'](_0x5d4318),Ammo['destroy'](_0x5d4318);}}['_updateLin'+'earLimits'](){const _0x5c2edd=this['_constrain'+'t'];if(_0x5c2edd){let _0x1f54e0,_0x4063aa,_0x351839,_0x5a3d6c,_0x4def3e,_0x955673;this['_linearMot'+'ionX']===qa?(_0x1f54e0=this['_linearLim'+'itsX']['x'],_0x5a3d6c=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Xa?(_0x1f54e0=0xb4d+0x11*-0x223+-0x2b*-0x95,_0x5a3d6c=0x2131+0x1bd9+-0x3d0a):_0x1f54e0=_0x5a3d6c=0x166b+-0x635*-0x6+0x3*-0x13e3,this['_linearMot'+'ionY']===qa?(_0x4063aa=this['_linearLim'+'itsY']['x'],_0x4def3e=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Xa?(_0x4063aa=0x4cf*0x2+-0x8*-0x90+-0x1*0xe1d,_0x4def3e=-0xc1*-0x5+-0x1fd*-0x1+-0x5c2):_0x4063aa=_0x4def3e=0xe*-0x5e+0x385+0x19f,this['_linearMot'+'ionZ']===qa?(_0x351839=this['_linearLim'+'itsZ']['x'],_0x955673=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Xa?(_0x351839=-0x29*-0xcb+0x1ff5+-0x3*0x157d,_0x955673=-0xc73*-0x1+-0x21*-0xa9+-0x223c):_0x351839=_0x955673=0x49*-0xb+0x167+0x94*0x3;const _0x554804=new Ammo['btVector3'](_0x1f54e0,_0x4063aa,_0x351839);_0x5c2edd['setLinearL'+'owerLimit'](_0x554804),_0x554804['setValue'](_0x5a3d6c,_0x4def3e,_0x955673),_0x5c2edd['setLinearU'+'pperLimit'](_0x554804),Ammo['destroy'](_0x554804);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x39abe1=new te(),_0x239ff6=this['_entityA']['rigidbody']['body'];_0x239ff6['activate']();const _0x2f0703=this['entity']['getWorldTr'+'ansform'](),_0x5c635a=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x39abe1['mul2'](_0x5c635a,_0x2f0703);const _0x31aa29=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x39abe1,_0x31aa29),this['_entityB']&&this['_entityB']['rigidbody']){const _0x2e3f82=this['_entityB']['rigidbody']['body'];_0x2e3f82['activate']();const _0x3ac6e7=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x39abe1['mul2'](_0x3ac6e7,_0x2f0703);const _0x1654ba=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x39abe1,_0x1654ba),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x239ff6,_0x2e3f82,_0x31aa29,_0x1654ba,!this['_enableCol'+'lision']),Ammo['destroy'](_0x1654ba);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x239ff6,_0x31aa29,!this['_enableCol'+'lision']);Ammo['destroy'](_0x31aa29);const _0x479f6d=['X','Y','Z','X','Y','Z'];for(let _0x1be4c6=0x66*0x7+0x17e*-0x5+0x4ac;_0x1be4c6<-0x76*-0x53+-0x20c5*0x1+-0x577;_0x1be4c6++){const _0x4e076f=_0x1be4c6<-0x14*-0x1d+0x452*-0x2+-0x663*-0x1?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x1be4c6,this[_0x4e076f+'Spring'+_0x479f6d[_0x1be4c6]]),this['_constrain'+'t']['setDamping'](_0x1be4c6,this[_0x4e076f+'Damping'+_0x479f6d[_0x1be4c6]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x1be4c6,this[_0x4e076f+('Equilibriu'+'m')+_0x479f6d[_0x1be4c6]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x1be4c6,this[_0x4e076f+'Stiffness'+_0x479f6d[_0x1be4c6]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x39b6ab){for(const _0x54dc15 of RR)_0x39b6ab['hasOwnProp'+'erty'](_0x54dc15)&&(_0x39b6ab[_0x54dc15]instanceof J?this['_'+_0x54dc15]['copy'](_0x39b6ab[_0x54dc15]):this['_'+_0x54dc15]=_0x39b6ab[_0x54dc15]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x11dde1,_0x26afb7,_0x199a28){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const OR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x49e81b=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x5010ee=>{['X','Y','Z']['forEach'](_0x1d64e6=>{const _0x226a9b=_0x49e81b+_0x5010ee+_0x1d64e6,_0x5e70d3='_'+_0x226a9b;let _0x113364=_0x49e81b==='linear'?-0xa44+0x1c2b*0x1+-0x11e7:0xf08+0x1*-0x231d+-0x2*-0xa0c;_0x1d64e6==='Y'&&(_0x113364+=0x22b4+-0x13b2*-0x1+-0x3665*0x1),_0x1d64e6==='Z'&&(_0x113364+=-0x1*-0x427+0x102e+0x1453*-0x1),Object['defineProp'+'erty'](ym['prototype'],_0x226a9b,{'get':function(){return this[_0x5e70d3];},'set':function(_0xa19114){this[_0x5e70d3]!==_0xa19114&&(this[_0x5e70d3]=_0xa19114,this['_constrain'+'t'][OR[_0x5010ee]](_0x113364,_0xa19114));}});});});});class FR{constructor(){this['enabled']=!(-0x3*-0xbbd+-0x1967+-0x9d0);}}const Fu=['enabled'];class NR extends ct{constructor(_0x2590b4){super(_0x2590b4),this['id']='joint',this['app']=_0x2590b4,this['ComponentT'+'ype']=ym,this['DataType']=FR,this['schema']=Fu;}['initialize'+'ComponentD'+'ata'](_0x4f59cd,_0x20f6a8,_0x84958a){_0x4f59cd['initFromDa'+'ta'](_0x20f6a8),super['initialize'+'ComponentD'+'ata'](_0x4f59cd,_0x20f6a8,Fu);}}we['_buildAcce'+'ssors'](ym['prototype'],Fu);class Jv extends we{constructor(){super(...arguments),h(this,'_minWidth',-0xb*0x322+-0x683+0x28f9*0x1),h(this,'_minHeight',-0x21d6+0x1*0x6a6+0x1b30),h(this,'_maxWidth',null),h(this,'_maxHeight',null),h(this,'_fitWidthP'+'roportion',0xf0e*0x1+-0x9*0x2b+-0xd8b),h(this,'_fitHeight'+'Proportion',-0x4*-0x761+0xa6*0x2+-0x1ed0),h(this,'_excludeFr'+'omLayout',!(0x5*-0x4d5+0x9b4+0x1*0xe76));}set['minWidth'](_0x455f1b){_0x455f1b!==this['_minWidth']&&(this['_minWidth']=_0x455f1b,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x52d5b4){_0x52d5b4!==this['_minHeight']&&(this['_minHeight']=_0x52d5b4,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x2f4319){_0x2f4319!==this['_maxWidth']&&(this['_maxWidth']=_0x2f4319,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x218224){_0x218224!==this['_maxHeight']&&(this['_maxHeight']=_0x218224,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x2ef693){_0x2ef693!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x2ef693,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x5ac60e){_0x5ac60e!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x5ac60e,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x2f8757){_0x2f8757!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x2f8757,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class kR{constructor(){this['enabled']=!(-0x91d*0x3+0x447*-0x9+0x41d6);}}const e0=['enabled'];class UR extends ct{constructor(_0x3d2334){super(_0x3d2334),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=Jv,this['DataType']=kR,this['schema']=e0;}['initialize'+'ComponentD'+'ata'](_0x56b9b7,_0x5b5b04,_0x10d669){_0x5b5b04['enabled']!==void(0xe78+-0x4b9+0x5*-0x1f3)&&(_0x56b9b7['enabled']=_0x5b5b04['enabled']),_0x5b5b04['minWidth']!==void(-0x9a5+-0xa40+0x13e5)&&(_0x56b9b7['minWidth']=_0x5b5b04['minWidth']),_0x5b5b04['minHeight']!==void(0x13c*-0x15+-0x102f+0x2a1b)&&(_0x56b9b7['minHeight']=_0x5b5b04['minHeight']),_0x5b5b04['maxWidth']!==void(0x804+-0x1f7d+0x1779)&&(_0x56b9b7['maxWidth']=_0x5b5b04['maxWidth']),_0x5b5b04['maxHeight']!==void(-0xafa+0x3b*0x10+0x137*0x6)&&(_0x56b9b7['maxHeight']=_0x5b5b04['maxHeight']),_0x5b5b04['fitWidthPr'+'oportion']!==void(0x1f7d*-0x1+0x1be6+-0x397*-0x1)&&(_0x56b9b7['fitWidthPr'+'oportion']=_0x5b5b04['fitWidthPr'+'oportion']),_0x5b5b04['fitHeightP'+'roportion']!==void(0x14c4+0x803+-0x1cc7)&&(_0x56b9b7['fitHeightP'+'roportion']=_0x5b5b04['fitHeightP'+'roportion']),_0x5b5b04['excludeFro'+'mLayout']!==void(-0x2*0x9a9+-0x1b*0x34+0x18ce)&&(_0x56b9b7['excludeFro'+'mLayout']=_0x5b5b04['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x56b9b7,_0x5b5b04,_0x10d669);}['cloneCompo'+'nent'](_0x44fcff,_0x5a431a){const _0x103645=_0x44fcff['layoutchil'+'d'];return this['addCompone'+'nt'](_0x5a431a,{'enabled':_0x103645['enabled'],'minWidth':_0x103645['minWidth'],'minHeight':_0x103645['minHeight'],'maxWidth':_0x103645['maxWidth'],'maxHeight':_0x103645['maxHeight'],'fitWidthProportion':_0x103645['fitWidthPr'+'oportion'],'fitHeightProportion':_0x103645['fitHeightP'+'roportion'],'excludeFromLayout':_0x103645['excludeFro'+'mLayout']});}}we['_buildAcce'+'ssors'](Jv['prototype'],e0);const Nu=-0x1fb+-0x44b*0x2+-0x1*-0xa91,BR=0x545*-0x2+-0xfd1*-0x1+0x1e*-0x2d,Qg=0x4b5*-0x2+-0x5*-0x575+-0x10d*0x11,zR=-0x134+-0x40b*-0x1+-0xb5*0x4,Oh={};Oh[Ce]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Oh[je]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const vm={};vm[Ce]=je,vm[je]=Ce;const VR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},os={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},ls=new J();function t0(_0x66cfa7){let _0x47a6aa;const _0x499d3a=Oh[_0x66cfa7],_0x4da8ba=Oh[vm[_0x66cfa7]];function _0x6f5334(_0x34eb8b,_0x1f8213){return-_0x1f8213[_0x499d3a['size']]*_0x34eb8b['pivot'][_0x499d3a['axis']];}function _0xaac78b(_0x1c2afb,_0x67b87e){return-_0x67b87e[_0x4da8ba['size']]*_0x1c2afb['pivot'][_0x4da8ba['axis']];}function _0x2afae9(_0x3515ba,_0x5f3435){return _0x5f3435[_0x499d3a['size']]*(0x1bce+0xd*-0x11+-0x1af0-_0x3515ba['pivot'][_0x499d3a['axis']]);}function _0x2b1252(_0x1fbba9,_0x17c1b3){_0x1fbba9=_0x1fbba9['filter'](_0x134b5e),_0x47a6aa=_0x17c1b3,ls['x']=_0x47a6aa['containerS'+'ize']['x']-_0x47a6aa['padding']['x']-_0x47a6aa['padding']['z'],ls['y']=_0x47a6aa['containerS'+'ize']['y']-_0x47a6aa['padding']['y']-_0x47a6aa['padding']['w'],_0x3c8a5a(_0x1fbba9);const _0x2426c2=_0x2e550e(_0x2f79dc(_0x1fbba9)),_0xfb3f25=_0x143761(_0x2426c2,_0x2e3a38(_0x2426c2)),_0x2df8c1=_0x5f1ce0(_0x2426c2,_0xfb3f25);return _0x28a359(_0x2426c2,_0xfb3f25,_0x2df8c1),_0x512f2a(_0x2426c2,_0xfb3f25,_0x2df8c1),_0x5e42b1(_0x2426c2);}function _0x134b5e(_0x2072b9){const _0x24df9c=_0x2072b9['entity']['layoutchil'+'d'];return!_0x24df9c||!_0x24df9c['enabled']||!_0x24df9c['excludeFro'+'mLayout'];}function _0x3c8a5a(_0x1f87a3){for(let _0xb7487b=-0xa1*-0x13+-0x1b43+0x1*0xf50;_0xb7487b<_0x1f87a3['length'];++_0xb7487b){const _0x847540=_0x1f87a3[_0xb7487b],_0x4440af=_0x847540['anchor'];(_0x4440af['x']!==-0x9a+-0x2*0x61+0x15c||_0x4440af['y']!==0x5fa+-0x1437+0x1*0xe3d||_0x4440af['z']!==0x1883+0x1*0xf6a+-0x27ed||_0x4440af['w']!==-0x1fb5*-0x1+0xd53*0x1+-0x2d08)&&(_0x847540['anchor']=re['ZERO']);}}function _0x2f79dc(_0x5026b0){if(!_0x47a6aa['wrap'])return[_0x5026b0];const _0x227da5=[[]],_0x229039=_0xb4aa7b(_0x5026b0);let _0x574ca4=0x2686+-0x61c+0x39a*-0x9;const _0x20ee7d=_0x47a6aa[_0x499d3a['fitting']]===Qg;for(let _0x175104=-0x25*-0x7f+0x2519*-0x1+0x12be;_0x175104<_0x5026b0['length'];++_0x175104){_0x227da5[_0x227da5['length']-(0x10*0xfe+0x1*0x38b+-0x163*0xe)]['length']>-0x19d6+0x1873+0x163&&(_0x574ca4+=_0x47a6aa['spacing'][_0x499d3a['axis']]);const _0x73a6e0=_0x229039[_0x175104][_0x499d3a['size']];_0x574ca4+=_0x73a6e0,!_0x20ee7d&&_0x574ca4>ls[_0x499d3a['axis']]&&_0x227da5[_0x227da5['length']-(-0x2692*-0x1+-0x1bde*-0x1+-0x426f)]['length']!==-0x18e5+-0x1*0x6a1+0x6*0x541&&(_0x574ca4=_0x73a6e0,_0x227da5['push']([])),_0x227da5[_0x227da5['length']-(-0x1*0x226c+0x7*0x34c+0x7*0x19f)]['push'](_0x5026b0[_0x175104]),_0x20ee7d&&_0x574ca4>ls[_0x499d3a['axis']]&&_0x175104!==_0x5026b0['length']-(-0x943*-0x2+-0x1a98+0x813)&&(_0x574ca4=-0x33*-0x6d+0x138*0x1d+-0x21d*0x1b,_0x227da5['push']([]));}return _0x227da5;}function _0x2e550e(_0x3d3403){const _0x159278=_0x47a6aa['orientatio'+'n']===Ce&&_0x47a6aa['reverseX']||_0x47a6aa['orientatio'+'n']===je&&_0x47a6aa['reverseY'],_0x1df3cd=_0x47a6aa['orientatio'+'n']===Ce&&_0x47a6aa['reverseY']||_0x47a6aa['orientatio'+'n']===je&&_0x47a6aa['reverseX'];if(_0x159278){for(let _0x4fcd08=0x2361+-0xed6+-0x148b*0x1;_0x4fcd08<_0x3d3403['length'];++_0x4fcd08)_0x159278&&_0x3d3403[_0x4fcd08]['reverse']();}return _0x1df3cd&&_0x3d3403['reverse'](),_0x3d3403;}function _0x2e3a38(_0x5dd71b){const _0x2cbf80=[];for(let _0x1a20bf=0x4*0x67d+0x1dc2+-0x37b6;_0x1a20bf<_0x5dd71b['length'];++_0x1a20bf){const _0x3e72e=_0x5dd71b[_0x1a20bf],_0x5082a2=_0xb4aa7b(_0x3e72e),_0x489dab=_0x2c5870(_0x5082a2,_0x499d3a),_0x56a5a2=_0x380015(_0x47a6aa[_0x499d3a['fitting']],_0x489dab,ls[_0x499d3a['axis']]);_0x56a5a2===os['APPLY_STRE'+'TCHING']?_0x111dba(_0x5082a2,_0x489dab,_0x499d3a):_0x56a5a2===os['APPLY_SHRI'+'NKING']&&_0x3ca24e(_0x5082a2,_0x489dab,_0x499d3a),_0x2cbf80['push'](_0x5082a2);}return _0x2cbf80;}function _0x143761(_0xdf433c,_0x47edd1){const _0x1b236b=[],_0x56164d=[];for(let _0x50f154=-0x197c+0x34*0x3f+0xcb0;_0x50f154<_0xdf433c['length'];++_0x50f154){const _0x2f06bd=_0xdf433c[_0x50f154];_0x2f06bd['largestEle'+'ment']=null,_0x2f06bd['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0xc5539d=-0x74f*-0x4+-0x649*-0x5+0x125*-0x35;_0xc5539d<_0x2f06bd['length'];++_0xc5539d){const _0x4114b8=_0x47edd1[_0x50f154][_0xc5539d];_0x4114b8[_0x4da8ba['size']]>_0x2f06bd['largestSiz'+'e'][_0x4da8ba['size']]&&(_0x2f06bd['largestEle'+'ment']=_0x2f06bd[_0xc5539d],_0x2f06bd['largestSiz'+'e']=_0x4114b8);}_0x1b236b['push'](_0x2f06bd['largestEle'+'ment']),_0x56164d['push'](_0x2f06bd['largestSiz'+'e']);}const _0x11c0a4=_0x2c5870(_0x56164d,_0x4da8ba),_0x60c1f5=_0x380015(_0x47a6aa[_0x4da8ba['fitting']],_0x11c0a4,ls[_0x4da8ba['axis']]);_0x60c1f5===os['APPLY_STRE'+'TCHING']?_0x111dba(_0x56164d,_0x11c0a4,_0x4da8ba):_0x60c1f5===os['APPLY_SHRI'+'NKING']&&_0x3ca24e(_0x56164d,_0x11c0a4,_0x4da8ba);for(let _0x210fae=-0xf43+-0x1f74+0x1*0x2eb7;_0x210fae<_0xdf433c['length'];++_0x210fae){const _0xf52cbe=_0xdf433c[_0x210fae];for(let _0x528900=0x1a65*-0x1+-0x3*0x303+0x236e;_0x528900<_0xf52cbe['length'];++_0x528900){const _0x38f919=_0x47edd1[_0x210fae][_0x528900],_0xfd20c6=_0x38f919[_0x4da8ba['size']],_0x597629=_0xdf433c['length']===-0x1*-0x2453+0x2*-0xeb1+-0x6f0?ls[_0x4da8ba['axis']]:_0xf52cbe['largestSiz'+'e'][_0x4da8ba['size']],_0x502455=_0x380015(_0x47a6aa[_0x4da8ba['fitting']],_0xfd20c6,_0x597629);_0x502455===os['APPLY_STRE'+'TCHING']?_0x38f919[_0x4da8ba['size']]=Math['min'](_0x597629,_0x38f919[_0x4da8ba['maxSize']]):_0x502455===os['APPLY_SHRI'+'NKING']&&(_0x38f919[_0x4da8ba['size']]=Math['max'](_0x597629,_0x38f919[_0x4da8ba['minSize']]));}}return _0x47edd1;}function _0x380015(_0x2c8556,_0x225268,_0x4f649d){switch(_0x2c8556){case Nu:return os['NONE'];case BR:return _0x225268<_0x4f649d?os['APPLY_STRE'+'TCHING']:os['NONE'];case Qg:return _0x225268>=_0x4f649d?os['APPLY_SHRI'+'NKING']:os['NONE'];case zR:return _0x225268<_0x4f649d?os['APPLY_STRE'+'TCHING']:os['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x2c8556);}}function _0x2c5870(_0x3cc2c3,_0x3307ba){const _0x30e5bc=_0x23acae(_0x3cc2c3,_0x3307ba['size']),_0x309b62=(_0x3cc2c3['length']-(0x13eb*-0x1+0xb22+0x2*0x465))*_0x47a6aa['spacing'][_0x3307ba['axis']];return _0x30e5bc+_0x309b62;}function _0x111dba(_0xf64a86,_0x57854d,_0x4a8291){const _0x23529c=_0x26e5ad(_0xf64a86,_0x4a8291['maxSize']),_0xced50a=_0x4ad679(_0xf64a86,_0x4a8291['fittingPro'+'portion']),_0x24f077=_0x250ca3(_0xced50a,_0x23529c);let _0x4bd861=ls[_0x4a8291['axis']]-_0x57854d;for(let _0xf3d30b=0x3*0x6bf+0x3*0x772+0x207*-0x15;_0xf3d30b<_0xf64a86['length'];++_0xf3d30b){const _0x309fec=_0x23529c[_0xf3d30b],_0x2be28f=_0x603b9a(_0x309fec,_0x4bd861,_0xced50a,_0x24f077),_0x27bb27=_0xf64a86[_0x309fec][_0x4a8291['size']]+_0x2be28f,_0x11767e=_0xf64a86[_0x309fec][_0x4a8291['maxSize']],_0x4d7eb8=Math['min'](_0x27bb27,_0x11767e);_0xf64a86[_0x309fec][_0x4a8291['size']]=_0x4d7eb8;const _0x8c1eb8=Math['max'](_0x27bb27-_0x4d7eb8,-0x9*-0x1ed+0x3*-0x4eb+0x84*-0x5),_0x297011=_0x2be28f-_0x8c1eb8;_0x4bd861-=_0x297011;}}function _0x3ca24e(_0x58ccbb,_0x4fad2a,_0x340c74){const _0x29d4ea=_0x26e5ad(_0x58ccbb,_0x340c74['minSize'],!(-0x5ec*-0x6+-0x1*-0x209c+0x9bc*-0x7)),_0x1013a6=_0x4ad679(_0x58ccbb,_0x340c74['fittingPro'+'portion']),_0x3fd10f=_0x244f2d(_0x1013a6),_0x18ba0b=_0x250ca3(_0x3fd10f,_0x29d4ea);let _0x14b452=_0x4fad2a-ls[_0x340c74['axis']];for(let _0xe38c09=-0x149c+-0x1*-0x254c+0x1*-0x10b0;_0xe38c09<_0x58ccbb['length'];++_0xe38c09){const _0x3498e3=_0x29d4ea[_0xe38c09],_0x2d290f=_0x603b9a(_0x3498e3,_0x14b452,_0x3fd10f,_0x18ba0b),_0x234140=_0x58ccbb[_0x3498e3][_0x340c74['size']]-_0x2d290f,_0x2dceb6=_0x58ccbb[_0x3498e3][_0x340c74['minSize']],_0xba3768=Math['max'](_0x234140,_0x2dceb6);_0x58ccbb[_0x3498e3][_0x340c74['size']]=_0xba3768;const _0x3ced96=Math['max'](_0xba3768-_0x234140,-0x1*-0x116f+-0x28b+0x1*-0xee4),_0x2a2b6d=_0x2d290f-_0x3ced96;_0x14b452-=_0x2a2b6d;}}function _0x603b9a(_0x176a47,_0x57bdd2,_0x3444a0,_0x3c7b23){const _0x33de02=_0x3444a0[_0x176a47],_0x73cf5a=_0x3c7b23[_0x176a47];return Math['abs'](_0x33de02)<-0x16*-0x110+-0x1741+0x1*-0x1f+0.00001&&Math['abs'](_0x73cf5a)<-0x2572+0x2209+0x9*0x61+0.00001?_0x57bdd2:_0x57bdd2*_0x33de02/_0x73cf5a;}function _0x5f1ce0(_0x5397b0,_0x18e0cf){const _0x384ad9={};_0x384ad9[_0x499d3a['axis']]=0x2*0x112+0x20*0x10+-0x424,_0x384ad9[_0x4da8ba['axis']]=0x509+0x4*0x83f+-0x2605,_0x5397b0[_0x499d3a['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x252001=[];for(let _0x4508a0=-0x5a*-0x58+-0x2041+0x151;_0x4508a0<_0x5397b0['length'];++_0x4508a0){const _0x486f85=_0x5397b0[_0x4508a0];if(_0x486f85['length']===0x1*0x170b+0x1*-0x1c06+0x4fb){_0x252001['push']([]);continue;}const _0x31566=[],_0x751d31=_0x18e0cf[_0x4508a0];for(let _0x35547d=0x6da+-0x1a6f+0x22d*0x9;_0x35547d<_0x486f85['length'];++_0x35547d){const _0x2d18eb=_0x486f85[_0x35547d],_0x5ea1a2=_0x751d31[_0x35547d];_0x384ad9[_0x4da8ba['axis']]-=_0xaac78b(_0x2d18eb,_0x5ea1a2),_0x384ad9[_0x499d3a['axis']]-=_0x6f5334(_0x2d18eb,_0x5ea1a2),_0x31566[_0x35547d]={},_0x31566[_0x35547d][_0x499d3a['axis']]=_0x384ad9[_0x499d3a['axis']],_0x31566[_0x35547d][_0x4da8ba['axis']]=_0x384ad9[_0x4da8ba['axis']],_0x384ad9[_0x4da8ba['axis']]+=_0xaac78b(_0x2d18eb,_0x5ea1a2),_0x384ad9[_0x499d3a['axis']]+=_0x2afae9(_0x2d18eb,_0x5ea1a2)+_0x47a6aa['spacing'][_0x499d3a['axis']];}_0x486f85[_0x499d3a['size']]=_0x384ad9[_0x499d3a['axis']]-_0x47a6aa['spacing'][_0x499d3a['axis']],_0x486f85[_0x4da8ba['size']]=_0x486f85['largestSiz'+'e'][_0x4da8ba['size']],_0x5397b0[_0x499d3a['size']]=Math['max'](_0x5397b0[_0x499d3a['size']],_0x486f85[_0x499d3a['size']]),_0x384ad9[_0x499d3a['axis']]=-0xeb*0xb+0x25*0xf+0xe*0x91,_0x384ad9[_0x4da8ba['axis']]+=_0x486f85[_0x4da8ba['size']]+_0x47a6aa['spacing'][_0x4da8ba['axis']],_0x252001['push'](_0x31566);}return _0x5397b0[_0x4da8ba['size']]=_0x384ad9[_0x4da8ba['axis']]-_0x47a6aa['spacing'][_0x4da8ba['axis']],_0x252001;}function _0x28a359(_0x35dedd,_0x1748e3,_0x2e71b5){const _0x2580a0=_0x47a6aa['alignment'][_0x499d3a['axis']],_0xaefca9=_0x47a6aa['alignment'][_0x4da8ba['axis']],_0x438c96=_0x47a6aa['padding'][_0x499d3a['axis']],_0x463cd6=_0x47a6aa['padding'][_0x4da8ba['axis']];for(let _0x29c3b6=0x1523+0x1*-0x1c09+-0x2*-0x373;_0x29c3b6<_0x35dedd['length'];++_0x29c3b6){const _0x622624=_0x35dedd[_0x29c3b6],_0x44e187=_0x1748e3[_0x29c3b6],_0x4c8eea=_0x2e71b5[_0x29c3b6],_0x3d17c4=(ls[_0x499d3a['axis']]-_0x622624[_0x499d3a['size']])*_0x2580a0+_0x438c96,_0x5af963=(ls[_0x4da8ba['axis']]-_0x35dedd[_0x4da8ba['size']])*_0xaefca9+_0x463cd6;for(let _0x4bcc09=-0x1*0xa4a+-0x90*-0x1a+-0x456;_0x4bcc09<_0x622624['length'];++_0x4bcc09){const _0x2d81f0=(_0x622624[_0x4da8ba['size']]-_0x44e187[_0x4bcc09][_0x4da8ba['size']])*_0x47a6aa['alignment'][_0x4da8ba['axis']];_0x4c8eea[_0x4bcc09][_0x499d3a['axis']]+=_0x3d17c4,_0x4c8eea[_0x4bcc09][_0x4da8ba['axis']]+=_0x5af963+_0x2d81f0;}}}function _0x512f2a(_0x5d6b3c,_0x127b5a,_0x181fce){for(let _0x2276b1=-0x1358+0x2*-0x184+0x1660;_0x2276b1<_0x5d6b3c['length'];++_0x2276b1){const _0x2aba28=_0x5d6b3c[_0x2276b1],_0x2d92a2=_0x127b5a[_0x2276b1],_0x5dece6=_0x181fce[_0x2276b1];for(let _0x79210f=0x1e4e+-0x12e+-0x1d20;_0x79210f<_0x2aba28['length'];++_0x79210f){const _0x21d55b=_0x2aba28[_0x79210f];_0x21d55b[_0x499d3a['calculated'+'Size']]=_0x2d92a2[_0x79210f][_0x499d3a['size']],_0x21d55b[_0x4da8ba['calculated'+'Size']]=_0x2d92a2[_0x79210f][_0x4da8ba['size']],_0x47a6aa['orientatio'+'n']===Ce?_0x21d55b['entity']['setLocalPo'+'sition'](_0x5dece6[_0x79210f][_0x499d3a['axis']],_0x5dece6[_0x79210f][_0x4da8ba['axis']],_0x21d55b['entity']['getLocalPo'+'sition']()['z']):_0x21d55b['entity']['setLocalPo'+'sition'](_0x5dece6[_0x79210f][_0x4da8ba['axis']],_0x5dece6[_0x79210f][_0x499d3a['axis']],_0x21d55b['entity']['getLocalPo'+'sition']()['z']);}}}function _0x5e42b1(_0x14010b){const _0x43c415=_0x14010b['width'],_0x10640f=_0x14010b['height'],_0x3f8197=(ls['x']-_0x43c415)*_0x47a6aa['alignment']['x']+_0x47a6aa['padding']['x'],_0x1ccbcb=(ls['y']-_0x10640f)*_0x47a6aa['alignment']['y']+_0x47a6aa['padding']['y'];return{'bounds':new re(_0x3f8197,_0x1ccbcb,_0x43c415,_0x10640f)};}function _0xb4aa7b(_0x1d0a20){const _0x30cc2b=[];for(let _0x3cef7d=0x7*0x44f+0x2*0x823+-0x2e6f*0x1;_0x3cef7d<_0x1d0a20['length'];++_0x3cef7d){const _0xb0c70=_0x1d0a20[_0x3cef7d],_0x58bf6c=Math['max'](_0x218126(_0xb0c70,'minWidth'),0x1ffa+-0x1c3b+-0x3bf*0x1),_0x292265=Math['max'](_0x218126(_0xb0c70,'minHeight'),-0x2142+-0x27*0x33+0x1*0x2907),_0x3f0d32=Math['max'](_0x218126(_0xb0c70,'maxWidth'),_0x58bf6c),_0x52df25=Math['max'](_0x218126(_0xb0c70,'maxHeight'),_0x292265),_0x4687bf=_0xc64adb(_0x218126(_0xb0c70,'width'),_0x58bf6c,_0x3f0d32),_0x239db5=_0xc64adb(_0x218126(_0xb0c70,'height'),_0x292265,_0x52df25),_0x53616b=_0x218126(_0xb0c70,'fitWidthPr'+'oportion'),_0x4ff050=_0x218126(_0xb0c70,'fitHeightP'+'roportion');_0x30cc2b['push']({'minWidth':_0x58bf6c,'minHeight':_0x292265,'maxWidth':_0x3f0d32,'maxHeight':_0x52df25,'width':_0x4687bf,'height':_0x239db5,'fitWidthProportion':_0x53616b,'fitHeightProportion':_0x4ff050});}return _0x30cc2b;}function _0x218126(_0x4e4ec2,_0x475f59){const _0x560952=_0x4e4ec2['entity']['layoutchil'+'d'];return _0x560952&&_0x560952['enabled']&&_0x560952[_0x475f59]!==void(-0x1+0x1967+-0x1966)&&_0x560952[_0x475f59]!==null?_0x560952[_0x475f59]:_0x4e4ec2[_0x475f59]!==void(-0xdb*-0x17+0x23ef*0x1+0x2*-0x1bce)?_0x4e4ec2[_0x475f59]:VR[_0x475f59];}function _0xc64adb(_0x1a6668,_0x2633a8,_0xe67366){return Math['min'](Math['max'](_0x1a6668,_0x2633a8),_0xe67366);}function _0x23acae(_0x468946,_0x1bf789){return _0x468946['reduce']((_0x3e054a,_0x1c3d87)=>_0x3e054a+_0x1c3d87[_0x1bf789],-0x13*0xd2+0x24e7+0x1*-0x1551);}function _0x4ad679(_0x481394,_0x58eec0){const _0x3b2c3e=_0x23acae(_0x481394,_0x58eec0),_0x129517=[],_0x4530ec=_0x481394['length'];if(_0x3b2c3e===-0x210b+0x23*-0x6f+0x3038){for(let _0x8571fd=0x1eb8+-0x318+-0x1ba0;_0x8571fd<_0x4530ec;++_0x8571fd)_0x129517['push']((-0x1af9+0x38*-0x72+0x33ea)/_0x4530ec);}else{for(let _0x467593=-0xc7*0x2b+-0x1*0x697+0x2804;_0x467593<_0x4530ec;++_0x467593)_0x129517['push'](_0x481394[_0x467593][_0x58eec0]/_0x3b2c3e);}return _0x129517;}function _0x244f2d(_0x22b23){if(_0x22b23['length']===0x1c3a+-0x6f7+0x38b*-0x6)return[-0x11*-0x44+0x2184+-0x1*0x2607];const _0x32f3ab=[],_0x1bee28=_0x22b23['length'];for(let _0x2a9ed0=0x12cb+0x25f7+-0x2*0x1c61;_0x2a9ed0<_0x1bee28;++_0x2a9ed0)_0x32f3ab['push']((-0xda2+0x2*-0xfca+0x2d37-_0x22b23[_0x2a9ed0])/(_0x1bee28-(-0x1456+0x2*-0x272+0x193b)));return _0x32f3ab;}function _0x26e5ad(_0x4606cf,_0x42af2e,_0x203f86){return _0x4606cf['forEach'](_0x370934),_0x4606cf['slice']()['sort']((_0x45354d,_0x3e7607)=>_0x203f86?_0x3e7607[_0x42af2e]-_0x45354d[_0x42af2e]:_0x45354d[_0x42af2e]-_0x3e7607[_0x42af2e])['map'](_0x54b2a7);}function _0x370934(_0x54ec2d,_0x1f77b4){_0x54ec2d['index']=_0x1f77b4;}function _0x54b2a7(_0x5f2028){return _0x5f2028['index'];}function _0x250ca3(_0x4dd955,_0x49c76a){const _0x69e902=[];_0x69e902[_0x49c76a[_0x4dd955['length']-(-0x1681+0x686+-0x2c*-0x5d)]]=_0x4dd955[_0x49c76a[_0x4dd955['length']-(-0x514+0x3*-0xa2d+0x239c)]];for(let _0x42110d=_0x4dd955['length']-(-0x6f9+0x1ed9+0x1d6*-0xd);_0x42110d>=0x76c*0x2+-0x173a+-0x2*-0x431;--_0x42110d)_0x69e902[_0x49c76a[_0x42110d]]=_0x69e902[_0x49c76a[_0x42110d+(-0x3c8*-0x8+0x4dc*-0x1+-0x1963)]]+_0x4dd955[_0x49c76a[_0x42110d]];return _0x69e902;}return _0x2b1252;}const xm={};xm[Ce]=t0(Ce),xm[je]=t0(je);class GR{['calculateL'+'ayout'](_0x4a1b1e,_0x49e181){const _0x5dbf6d=xm[_0x49e181['orientatio'+'n']];if(_0x5dbf6d)return _0x5dbf6d(_0x4a1b1e,_0x49e181);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x49e181['orientatio'+'n']);}}function Jg(_0x5201ed){return _0x5201ed['element'];}function HR(_0x1831b0){return _0x1831b0['enabled']&&_0x1831b0['element']&&_0x1831b0['element']['enabled'];}class s0 extends we{constructor(_0x366e8e,_0x4ebe71){super(_0x366e8e,_0x4ebe71),h(this,'_orientati'+'on',Ce),h(this,'_reverseX',!(0x179c+-0x16b*-0xb+-0x2734)),h(this,'_reverseY',!(-0x634+0x1a3d*0x1+-0x1409)),h(this,'_alignment',new J(-0x1abb+-0x146*0x1+0x1c01*0x1,0x407+0x15*0x31+-0x80b)),h(this,'_padding',new re()),h(this,'_spacing',new J()),h(this,'_widthFitt'+'ing',Nu),h(this,'_heightFit'+'ting',Nu),h(this,'_wrap',!(-0x97*0x35+0x24e7+-0x5a3)),h(this,'_layoutCal'+'culator',new GR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x129125=>{this['_listenFor'+'ReflowEven'+'ts'](_0x129125,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),w['assert'](_0x366e8e['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x366e8e['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x366e8e['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),w['assert'](_0x366e8e['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x366e8e['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x366e8e['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x37b486){_0x37b486!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x37b486,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x80b76c){_0x80b76c!==this['_reverseX']&&(this['_reverseX']=_0x80b76c,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x3e9ab4){_0x3e9ab4!==this['_reverseY']&&(this['_reverseY']=_0x3e9ab4,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x42401b){_0x42401b['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x42401b),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x7d72bb){_0x7d72bb['equals'](this['_padding'])||(this['_padding']['copy'](_0x7d72bb),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0xd34806){_0xd34806['equals'](this['_spacing'])||(this['_spacing']['copy'](_0xd34806),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x4ebf26){_0x4ebf26!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x4ebf26,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x4a6109){_0x4a6109!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x4a6109,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x22995c){_0x22995c!==this['_wrap']&&(this['_wrap']=_0x22995c,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x2a5660){return _0x2a5660===this['entity']||this['entity']['children']['indexOf'](_0x2a5660)!==-(0xa88+-0x13*0x13+-0x185*0x6);}['_listenFor'+'ReflowEven'+'ts'](_0x7bf023,_0x4d1925){_0x7bf023['element']&&(_0x7bf023['element'][_0x4d1925]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x7bf023['element'][_0x4d1925]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x7bf023['element'][_0x4d1925]('resize',this['_scheduleR'+'eflow'],this),_0x7bf023['element'][_0x4d1925]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x7bf023['layoutchil'+'d']&&(_0x7bf023['layoutchil'+'d'][_0x4d1925]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x7bf023['layoutchil'+'d'][_0x4d1925]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x22d856){this['_isSelfOrC'+'hild'](_0x22d856)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x22d856,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x2549f6){this['_isSelfOrC'+'hild'](_0x2549f6)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x2549f6,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x43a95c){this['_listenFor'+'ReflowEven'+'ts'](_0x43a95c,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x4dd88b){this['_listenFor'+'ReflowEven'+'ts'](_0x4dd88b,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x21b57d=Jg(this['entity']),_0x1153c7=this['entity']['children']['filter'](HR)['map'](Jg);if(!_0x21b57d||_0x1153c7['length']===-0x3fa+-0x1f96+0x10*0x239)return;const _0x4ef0a0=Math['max'](_0x21b57d['calculated'+'Width'],0x12ff+-0x211+0x18a*-0xb),_0x4f4e47=Math['max'](_0x21b57d['calculated'+'Height'],-0x4*-0x980+0x130a*-0x2+0xa*0x2),_0x513839={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new J(_0x4ef0a0,_0x4f4e47)};this['_isPerform'+'ingReflow']=!(-0x58f+-0x2196*-0x1+-0x1c07);const _0xd008a0=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x1153c7,_0x513839);this['_isPerform'+'ingReflow']=!(0x916+0x1ee1+-0x27f6),this['fire']('reflow',_0xd008a0);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x88f63=>{this['_listenFor'+'ReflowEven'+'ts'](_0x88f63,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class WR{constructor(){this['enabled']=!(0x1ad5*0x1+-0x1ebc+0x3*0x14d);}}const i0=['enabled'],$R=-0xa*0x301+-0x239*0x1+0x283*0xd;class XR extends ct{constructor(_0x1212d1){super(_0x1212d1),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=s0,this['DataType']=WR,this['schema']=i0,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x280a11,_0x3336db,_0x9ea5b9){_0x3336db['enabled']!==void(0x2*-0xc75+-0xf7b*-0x1+0x96f)&&(_0x280a11['enabled']=_0x3336db['enabled']),_0x3336db['orientatio'+'n']!==void(-0x3*-0x9a3+-0x148c*-0x1+-0x1*0x3175)&&(_0x280a11['orientatio'+'n']=_0x3336db['orientatio'+'n']),_0x3336db['reverseX']!==void(0x1*-0x19d1+0x59*0x6a+-0xb09)&&(_0x280a11['reverseX']=_0x3336db['reverseX']),_0x3336db['reverseY']!==void(-0x2049+-0x2b5+0x22fe)&&(_0x280a11['reverseY']=_0x3336db['reverseY']),_0x3336db['alignment']!==void(0x7*0x33+0xe72+0x1*-0xfd7)&&(_0x280a11['alignment']=Array['isArray'](_0x3336db['alignment'])?new J(_0x3336db['alignment']):_0x3336db['alignment']),_0x3336db['padding']!==void(-0x3*0x7fb+-0x151a+-0x377*-0xd)&&(_0x280a11['padding']=Array['isArray'](_0x3336db['padding'])?new re(_0x3336db['padding']):_0x3336db['padding']),_0x3336db['spacing']!==void(0xbf*-0x5+-0x1b10+0x1ecb)&&(_0x280a11['spacing']=Array['isArray'](_0x3336db['spacing'])?new J(_0x3336db['spacing']):_0x3336db['spacing']),_0x3336db['widthFitti'+'ng']!==void(-0xf17*0x1+-0x1*-0x1ae9+0x11*-0xb2)&&(_0x280a11['widthFitti'+'ng']=_0x3336db['widthFitti'+'ng']),_0x3336db['heightFitt'+'ing']!==void(-0x1*-0xdc1+-0x1285+0x262*0x2)&&(_0x280a11['heightFitt'+'ing']=_0x3336db['heightFitt'+'ing']),_0x3336db['wrap']!==void(-0x1c08+0xb*0x349+-0x19*0x53)&&(_0x280a11['wrap']=_0x3336db['wrap']),super['initialize'+'ComponentD'+'ata'](_0x280a11,_0x3336db,_0x9ea5b9);}['cloneCompo'+'nent'](_0x2cb9f5,_0x59f3d5){const _0x197bd6=_0x2cb9f5['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x59f3d5,{'enabled':_0x197bd6['enabled'],'orientation':_0x197bd6['orientatio'+'n'],'reverseX':_0x197bd6['reverseX'],'reverseY':_0x197bd6['reverseY'],'alignment':_0x197bd6['alignment'],'padding':_0x197bd6['padding'],'spacing':_0x197bd6['spacing'],'widthFitting':_0x197bd6['widthFitti'+'ng'],'heightFitting':_0x197bd6['heightFitt'+'ing'],'wrap':_0x197bd6['wrap']});}['scheduleRe'+'flow'](_0x104d1d){this['_reflowQue'+'ue']['indexOf'](_0x104d1d)===-(0x2018+0x1cd5+-0x3cec)&&this['_reflowQue'+'ue']['push'](_0x104d1d);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===-0x8de+-0x1f81*0x1+-0x5*-0x813)return;let _0x396775=-0x1467+-0x2ab+-0xb89*-0x2;for(;this['_reflowQue'+'ue']['length']>0x1bb4+-0x1109*-0x1+-0xd*0x371;){const _0x3ab5d8=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=0x2*-0xfc5+-0x1177*-0x1+0x4b1*0x3,_0x3ab5d8['sort']((_0x24e2a7,_0x2c4814)=>_0x24e2a7['entity']['graphDepth']-_0x2c4814['entity']['graphDepth']);for(let _0x44929e=-0x19e9+-0xb6c+-0x13*-0x1f7;_0x44929e<_0x3ab5d8['length'];++_0x44929e)_0x3ab5d8[_0x44929e]['reflow']();if(++_0x396775>=$R){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x4d9713,_0x226f60){_0x226f60['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}we['_buildAcce'+'ssors'](s0['prototype'],i0);class qR{constructor(){h(this,'map',new Map());}['destroy'](_0xc62d74){this['map']['forEach'](_0x1423f2=>_0x1423f2['mesh']['destroy']());}}const jR=new Kt(),r0=(_0x29c33e,_0x1b21cc)=>{const _0x24ce5a=jR['get'](_0x29c33e,()=>new qR());let _0x4bfdc6=_0x24ce5a['map']['get'](_0x1b21cc);if(!_0x4bfdc6){let _0x5c63b9,_0x5012d6;switch(_0x1b21cc){case'box':_0x5c63b9=Ge['fromGeomet'+'ry'](_0x29c33e,new mu()),_0x5012d6={'x':0x2,'y':0x2,'z':0x2,'uv':(-0x4f9+-0x35*0x1+0x298*0x2)/(0x231a+-0xa7f*0x2+0x9*-0x191)};break;case'capsule':_0x5c63b9=Ge['fromGeomet'+'ry'](_0x29c33e,new GA({'radius':0.5,'height':0x2})),_0x5012d6={'x':Math['PI']*(-0x17d3+0x6*-0x7d+0x193*0x11),'y':Math['PI'],'z':Math['PI']*(0x559*0x3+0xc5*-0x29+0xf84),'uv':(0x5c3+0x1018+-0x15da)/(0x224b*-0x1+-0x26dc*-0x1+-0x48e)+(-0x1*0x557+-0x1845+0x1d9d)/(0x1b06+-0x724*0x1+-0x13df*0x1)/(0x1213+-0x53f+0xcd1*-0x1)*(0xae7*0x2+-0x52b+-0x10a1)};break;case'cone':_0x5c63b9=Ge['fromGeomet'+'ry'](_0x29c33e,new HA({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x5012d6={'x':2.54,'y':2.54,'z':2.54,'uv':(0x1*0xcc9+-0x17e9+0xb21)/(-0x118f*-0x1+0x1c81*0x1+-0x2e0d)+(0x83c+-0x20f3+0x317*0x8)/(-0x38f*0x6+0x1*0xf73+-0x2*-0x2f5)/(0x7f2+-0x1ead+-0x1*-0x16be)};break;case'cylinder':_0x5c63b9=Ge['fromGeomet'+'ry'](_0x29c33e,new WA({'radius':0.5,'height':0x1})),_0x5012d6={'x':Math['PI'],'y':(-0xe55+-0x17e3*0x1+0x2*0x131c+0.79)*(-0xca+-0x1f3f+0x200b),'z':Math['PI'],'uv':(-0x4*0x7db+0x1*0x2281+-0x314)/(-0x2437+-0xa7*0x35+0x46cd)+(-0x1*0x22c0+-0x1eed+-0x2*-0x20d7)/(0x5a7*-0x5+-0x1*0xad2+-0x4*-0x9c6)/(0x156e+-0x14f*0xd+-0x468)*(0x1d81+0x1*-0x901+0x2*-0xa3f)};break;case'plane':_0x5c63b9=Ge['fromGeomet'+'ry'](_0x29c33e,new $A({'halfExtents':new J(-0xf8*0x1a+0xae8+0x1*0xe48+0.5,-0xa29+-0x1165+0x1b8e+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x5012d6={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x5c63b9=Ge['fromGeomet'+'ry'](_0x29c33e,new _m({'radius':0.5})),_0x5012d6={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x5c63b9=Ge['fromGeomet'+'ry'](_0x29c33e,new XA({'tubeRadius':0.2,'ringRadius':0.3})),_0x5012d6={'x':Math['PI']*(-0x9aa*-0x2+0x4*0x4bb+-0x12*0x220+0.5)*(-0x169c*0x1+0xb1b*-0x1+0x3f*0x89+0.5)-Math['PI']*(0x1b5*0xb+-0x8*-0x1d7+0x4c9*-0x7+0.1)*(-0x367+0x4ff*-0x1+0x19*0x56+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x1b21cc);}_0x5c63b9['incRefCoun'+'t'](),_0x4bfdc6={'mesh':_0x5c63b9,'area':_0x5012d6},_0x24ce5a['map']['set'](_0x1b21cc,_0x4bfdc6);}return _0x4bfdc6;};class Tm extends we{constructor(_0x420bae,_0x523944){super(_0x420bae,_0x523944),h(this,'_type','asset'),h(this,'_asset',null),h(this,'_model',null),h(this,'_mapping',{}),h(this,'_castShado'+'ws',!(-0x851+-0x2397*-0x1+-0x1*0x1b46)),h(this,'_receiveSh'+'adows',!(0xaa5+-0x256*0x2+-0xb*0x8b)),h(this,'_materialA'+'sset',null),h(this,'_material'),h(this,'_castShado'+'wsLightmap',!(-0x151*-0x8+-0x577*0x1+-0x511)),h(this,'_lightmapp'+'ed',!(-0x568+-0xaa3*0x1+0x100c)),h(this,'_lightmapS'+'izeMultipl'+'ier',-0x244+-0x15*-0x97+-0xa1e),h(this,'isStatic',!(-0x1*-0xc5+0x1728+0x5fb*-0x4)),h(this,'_layers',[er]),h(this,'_batchGrou'+'pId',-(0x1e69+-0x1289+-0xbdf)),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_materialE'+'vents',null),h(this,'_clonedMod'+'el',!(-0xb81*-0x1+-0x1bed+0x5*0x349)),h(this,'_batchGrou'+'p',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x420bae['defaultMat'+'erial'],_0x523944['on']('remove',this['onRemoveCh'+'ild'],this),_0x523944['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x523944['on']('insert',this['onInsertCh'+'ild'],this),_0x523944['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x4aa945){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x4aa945);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x50e0ee){if(this['_customAab'+'b']=_0x50e0ee,this['_model']){const _0x2bfd40=this['_model']['meshInstan'+'ces'];if(_0x2bfd40){for(let _0x3ecc25=-0x1f1e+0x230b+0x43*-0xf;_0x3ecc25<_0x2bfd40['length'];_0x3ecc25++)_0x2bfd40[_0x3ecc25]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x45139d){if(this['_type']!==_0x45139d){if(this['_area']=null,this['_type']=_0x45139d,_0x45139d==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x3c6848=r0(this['system']['app']['graphicsDe'+'vice'],_0x45139d);this['_area']=_0x3c6848['area'];const _0x617536=_0x3c6848['mesh'],_0x226257=new Ie(),_0x57a7c1=new sr();_0x57a7c1['graph']=_0x226257,_0x57a7c1['meshInstan'+'ces']=[new He(_0x617536,this['_material'],_0x226257)],this['model']=_0x57a7c1,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x345e83){const _0x13201a=this['system']['app']['assets'];let _0x1839e0=_0x345e83;if(_0x345e83 instanceof pe&&(_0x1839e0=_0x345e83['id']),this['_asset']!==_0x1839e0){if(this['_asset']){_0x13201a['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x556eb3=_0x13201a['get'](this['_asset']);_0x556eb3&&this['_unbindMod'+'elAsset'](_0x556eb3);}if(this['_asset']=_0x1839e0,this['_asset']){const _0x28254d=_0x13201a['get'](this['_asset']);_0x28254d?this['_bindModel'+'Asset'](_0x28254d):(this['model']=null,_0x13201a['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x7fb654){if(this['_model']!==_0x7fb654){if(_0x7fb654&&_0x7fb654['_immutable']){w['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(0x1bac+-0x1*-0x123e+-0x49*0xa1),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(-0x9ce+-0xa*-0x2c3+-0x11cf))),this['_model']=_0x7fb654,this['_model']){this['_model']['_immutable']=!(-0x1636+0xa*0x7d+0x1154);const _0x111866=this['_model']['meshInstan'+'ces'];for(let _0x44655b=-0xb8*-0x20+-0x2494+0xd94;_0x44655b<_0x111866['length'];_0x44655b++)_0x111866[_0x44655b]['castShadow']=this['_castShado'+'ws'],_0x111866[_0x44655b]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x111866[_0x44655b]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x5479f3){if(_0x5479f3!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x5479f3,this['_model'])){const _0x3c9f2e=this['_model']['meshInstan'+'ces'];for(let _0x1024d9=0x1*-0x599+0x1cc+-0x1*-0x3cd;_0x1024d9<_0x3c9f2e['length'];_0x1024d9++)_0x3c9f2e[_0x1024d9]['setLightma'+'pped'](_0x5479f3);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x56958d){if(this['_castShado'+'ws']===_0x56958d)return;const _0x241e93=this['_model'];if(_0x241e93){const _0x100ae0=this['layers'],_0x361d53=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x56958d)for(let _0x23e2eb=0x18*0x9e+0x1*0x1c58+-0x2b28;_0x23e2eb<_0x100ae0['length'];_0x23e2eb++){const _0xf5ea79=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x23e2eb]);_0xf5ea79&&_0xf5ea79['removeShad'+'owCasters'](_0x241e93['meshInstan'+'ces']);}const _0x1a849e=_0x241e93['meshInstan'+'ces'];for(let _0x5824bc=-0x23c5+0x2469+0x2*-0x52;_0x5824bc<_0x1a849e['length'];_0x5824bc++)_0x1a849e[_0x5824bc]['castShadow']=_0x56958d;if(!this['_castShado'+'ws']&&_0x56958d)for(let _0x28b853=0x1da0+0xf97*-0x2+0xc7*0x2;_0x28b853<_0x100ae0['length'];_0x28b853++){const _0xab3927=_0x361d53['layers']['getLayerBy'+'Id'](_0x100ae0[_0x28b853]);_0xab3927&&_0xab3927['addShadowC'+'asters'](_0x241e93['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x56958d;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x33532e){if(this['_receiveSh'+'adows']!==_0x33532e&&(this['_receiveSh'+'adows']=_0x33532e,this['_model'])){const _0x5b78d1=this['_model']['meshInstan'+'ces'];for(let _0xcd9d0c=0xbc7+-0x119*-0x1d+0x15ce*-0x2,_0x3dc9aa=_0x5b78d1['length'];_0xcd9d0c<_0x3dc9aa;_0xcd9d0c++)_0x5b78d1[_0xcd9d0c]['receiveSha'+'dow']=_0x33532e;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x5a6f88){this['_castShado'+'wsLightmap']=_0x5a6f88;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x5ba3bd){this['_lightmapS'+'izeMultipl'+'ier']=_0x5ba3bd;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x588119){const _0x17fa01=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x1ec4ad=-0x4af*-0x3+0x1d50+-0x2b5d;_0x1ec4ad<this['_layers']['length'];_0x1ec4ad++){const _0x69570a=_0x17fa01['getLayerBy'+'Id'](this['_layers'][_0x1ec4ad]);_0x69570a&&_0x69570a['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=0x5*0x759+-0x16*0xa4+-0x1f*0xbb;for(let _0x1c5c4c=-0xbb3+0x95f*-0x1+-0x57*-0x3e;_0x1c5c4c<_0x588119['length'];_0x1c5c4c++)this['_layers'][_0x1c5c4c]=_0x588119[_0x1c5c4c];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x1e6a71=0x1ae9+0x11c5+0x13*-0x25a;_0x1e6a71<this['_layers']['length'];_0x1e6a71++){const _0x35cc9d=_0x17fa01['getLayerBy'+'Id'](this['_layers'][_0x1e6a71]);_0x35cc9d&&_0x35cc9d['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x452700){var _0x3f7624,_0x2a4def;this['_batchGrou'+'pId']!==_0x452700&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x1*-0x1729+0x2*0x10f+0x150b*0x1&&((_0x3f7624=this['system']['app']['batcher'])==null||_0x3f7624['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x452700>=-0xe38+0x5e*-0x2b+0x1e02&&((_0x2a4def=this['system']['app']['batcher'])==null||_0x2a4def['insert'](St['MODEL'],_0x452700,this['entity'])),_0x452700<-0xef*-0x13+0xbb1*0x1+-0x1d6e&&this['_batchGrou'+'pId']>=0x100f*0x2+-0x1f34+-0x3*0x4e&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x452700);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x530931){let _0x26c976=_0x530931;_0x530931 instanceof pe&&(_0x26c976=_0x530931['id']);const _0x1a33c1=this['system']['app']['assets'];if(_0x26c976!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x1a33c1['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x32e0af=_0x1a33c1['get'](this['_materialA'+'sset']);_0x32e0af&&this['_unbindMat'+'erialAsset'](_0x32e0af);}if(this['_materialA'+'sset']=_0x26c976,this['_materialA'+'sset']){const _0xae4fad=_0x1a33c1['get'](this['_materialA'+'sset']);_0xae4fad?this['_bindMater'+'ialAsset'](_0xae4fad):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x1a33c1['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x556732){this['_material']!==_0x556732&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x556732));}get['material'](){return this['_material'];}set['mapping'](_0x529a4a){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x529a4a||(_0x529a4a={}),this['_mapping']=_0x529a4a,!this['_model']))return;const _0x478479=this['_model']['meshInstan'+'ces'],_0x4e3064=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x16f52f=_0x4e3064?_0x4e3064['data']['mapping']:null;let _0x44e3a7=null;for(let _0x4595a4=-0x3*0x869+0x42a+0x1511,_0x42319a=_0x478479['length'];_0x4595a4<_0x42319a;_0x4595a4++)if(_0x529a4a[_0x4595a4]!==void(-0x1122+-0x1f3*0x13+0x362b))_0x529a4a[_0x4595a4]?(_0x44e3a7=this['system']['app']['assets']['get'](_0x529a4a[_0x4595a4]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x44e3a7,_0x478479[_0x4595a4],_0x4595a4)):_0x478479[_0x4595a4]['material']=this['system']['defaultMat'+'erial'];else{if(_0x16f52f){if(_0x16f52f[_0x4595a4]&&(_0x16f52f[_0x4595a4]['material']||_0x16f52f[_0x4595a4]['path'])){if(_0x16f52f[_0x4595a4]['material']!==void(-0x2e*0xc5+0x2*-0x514+0x2d8e))_0x44e3a7=this['system']['app']['assets']['get'](_0x16f52f[_0x4595a4]['material']);else{if(_0x16f52f[_0x4595a4]['path']!==void(-0x1e6*-0x13+-0xb75*0x2+-0xd28)){const _0x3c052b=this['_getMateri'+'alAssetUrl'](_0x16f52f[_0x4595a4]['path']);_0x3c052b&&(_0x44e3a7=this['system']['app']['assets']['getByUrl'](_0x3c052b));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x44e3a7,_0x478479[_0x4595a4],_0x4595a4);}else _0x478479[_0x4595a4]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x46e020=this['system']['app']['scene']['layers'];for(let _0x50464f=0x2f7+0x249b*0x1+-0x5*0x7ea;_0x50464f<this['_layers']['length'];_0x50464f++){const _0x27ecd7=_0x46e020['getLayerBy'+'Id'](this['_layers'][_0x50464f]);_0x27ecd7&&_0x27ecd7['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x4bae38=this['system']['app']['scene']['layers'];for(let _0x404c13=-0x1c56+0x3e0+0x1876*0x1;_0x404c13<this['_layers']['length'];_0x404c13++){const _0x38e719=_0x4bae38['getLayerBy'+'Id'](this['_layers'][_0x404c13]);_0x38e719&&_0x38e719['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x42dff9,_0x336f13){this['addModelTo'+'Layers'](),_0x42dff9['off']('add',this['onLayerAdd'+'ed'],this),_0x42dff9['off']('remove',this['onLayerRem'+'oved'],this),_0x336f13['on']('add',this['onLayerAdd'+'ed'],this),_0x336f13['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x117c40){this['layers']['indexOf'](_0x117c40['id'])<-0x8*0x44b+0x4*0x743+0x54c||_0x117c40['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x248642){this['layers']['indexOf'](_0x248642['id'])<-0x25bb+-0xce*-0x1+0x24ed||_0x248642['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x1ad5e5,_0x58b183,_0x2a06d4,_0x11d24d){const _0x4b9058=_0x58b183+':'+_0x2a06d4;this['system']['app']['assets']['on'](_0x4b9058,_0x11d24d,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x1ad5e5]||(this['_materialE'+'vents'][_0x1ad5e5]={}),this['_materialE'+'vents'][_0x1ad5e5][_0x4b9058]={'id':_0x2a06d4,'handler':_0x11d24d};}['_unsetMate'+'rialEvents'](){const _0x1944d2=this['system']['app']['assets'],_0x58a055=this['_materialE'+'vents'];if(_0x58a055){for(let _0x4b1598=0x4*-0x6c5+0x1*-0x1c3f+0x3753,_0x2ed8b4=_0x58a055['length'];_0x4b1598<_0x2ed8b4;_0x4b1598++){if(!_0x58a055[_0x4b1598])continue;const _0x4aa669=_0x58a055[_0x4b1598];for(const _0x2d5d82 in _0x4aa669)_0x1944d2['off'](_0x2d5d82,_0x4aa669[_0x2d5d82]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0xfd3dbb){let _0x1e3f8e=null;if(!isNaN(parseInt(_0xfd3dbb,0x17fc+-0x17ab+-0x47)))_0x1e3f8e=this['system']['app']['assets']['get'](_0xfd3dbb);else{if(this['asset']){const _0x2bc265=this['_getMateri'+'alAssetUrl'](_0xfd3dbb);_0x2bc265&&(_0x1e3f8e=this['system']['app']['assets']['getByUrl'](_0x2bc265));}}return _0x1e3f8e;}['_getMateri'+'alAssetUrl'](_0x2d0093){if(!this['asset'])return null;const _0x2b50ae=this['system']['app']['assets']['get'](this['asset']);return _0x2b50ae?_0x2b50ae['getAbsolut'+'eUrl'](_0x2d0093):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x5d282d,_0x1b5309,_0x276ef5){const _0x255b90=this['system']['app']['assets'];_0x5d282d&&(_0x5d282d['resource']?(_0x1b5309['material']=_0x5d282d['resource'],this['_setMateri'+'alEvent'](_0x276ef5,'remove',_0x5d282d['id'],function(){_0x1b5309['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x276ef5,'load',_0x5d282d['id'],function(_0x374d01){_0x1b5309['material']=_0x374d01['resource'],this['_setMateri'+'alEvent'](_0x276ef5,'remove',_0x5d282d['id'],function(){_0x1b5309['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x255b90['load'](_0x5d282d)));}['onEnable'](){var _0x58e4fa;const _0x4a4815=this['system']['app'],_0x5040bf=_0x4a4815['scene'],_0x2bae83=_0x5040bf==null?void(0x1d95+-0x369*0x7+-0x5b6*0x1):_0x5040bf['layers'];this['_evtLayers'+'Changed']=_0x5040bf['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2bae83&&(this['_evtLayerA'+'dded']=_0x2bae83['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x2bae83['on']('remove',this['onLayerRem'+'oved'],this));const _0x30b802=this['_type']==='asset';let _0xc7f754;if(this['_model']?this['addModelTo'+'Layers']():_0x30b802&&this['_asset']&&(_0xc7f754=_0x4a4815['assets']['get'](this['_asset']),_0xc7f754&&_0xc7f754['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0xc7f754)),this['_materialA'+'sset']&&(_0xc7f754=_0x4a4815['assets']['get'](this['_materialA'+'sset']),_0xc7f754&&_0xc7f754['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0xc7f754)),_0x30b802&&this['_mapping']){for(const _0x33dab9 in this['_mapping'])this['_mapping'][_0x33dab9]&&(_0xc7f754=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x33dab9]),_0xc7f754&&!_0xc7f754['resource']&&_0x4a4815['assets']['load'](_0xc7f754));}this['_batchGrou'+'pId']>=-0x7fb+0x1a4d+0x2*-0x929&&((_0x58e4fa=_0x4a4815['batcher'])==null||_0x58e4fa['insert'](St['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x18063f,_0x3bf79d,_0x3cae4a,_0x2966e0;const _0x4a35d9=this['system']['app'],_0x1f3fb3=_0x4a35d9['scene']['layers'];(_0x18063f=this['_evtLayers'+'Changed'])==null||_0x18063f['off'](),this['_evtLayers'+'Changed']=null,_0x1f3fb3&&((_0x3bf79d=this['_evtLayerA'+'dded'])==null||_0x3bf79d['off'](),this['_evtLayerA'+'dded']=null,(_0x3cae4a=this['_evtLayerR'+'emoved'])==null||_0x3cae4a['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x4ce*0x8+0x17b+-0x27eb&&((_0x2966e0=_0x4a35d9['batcher'])==null||_0x2966e0['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x1d8df5=this['_model']['meshInstan'+'ces'];for(let _0x40a583=-0x30d*-0x9+-0x1a37+-0x35*0x6,_0x1beb43=_0x1d8df5['length'];_0x40a583<_0x1beb43;_0x40a583++)_0x1d8df5[_0x40a583]['visible']=!(0x5e9*-0x5+-0x1*0xa0d+0x279b);}}['show'](){if(this['_model']){const _0x24295f=this['_model']['meshInstan'+'ces'];for(let _0x5be207=0x2157+-0x14c*0x1+-0x200b,_0x16d0d7=_0x24295f['length'];_0x5be207<_0x16d0d7;_0x5be207++)_0x24295f[_0x5be207]['visible']=!(0x148e+0x4*-0x1e5+-0xcfa);}}['_bindMater'+'ialAsset'](_0x2eba11){if(_0x2eba11['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x2eba11['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x2eba11['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x2eba11['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x2eba11['resource'])this['_onMateria'+'lAssetLoad'](_0x2eba11);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x2eba11);}}['_unbindMat'+'erialAsset'](_0x13a8dd){_0x13a8dd['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x13a8dd['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x13a8dd['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x13a8dd['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x2ac61c){this['system']['app']['assets']['off']('add:'+_0x2ac61c['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x2ac61c['id']&&this['_bindMater'+'ialAsset'](_0x2ac61c);}['_onMateria'+'lAssetLoad'](_0x6ea882){this['_setMateri'+'al'](_0x6ea882['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x437ee0){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x39b689){this['_onMateria'+'lAssetUnlo'+'ad'](_0x39b689);}['_onMateria'+'lAssetChan'+'ge'](_0x5ad8a3){}['_bindModel'+'Asset'](_0x28ab29){if(this['_unbindMod'+'elAsset'](_0x28ab29),_0x28ab29['on']('load',this['_onModelAs'+'setLoad'],this),_0x28ab29['on']('unload',this['_onModelAs'+'setUnload'],this),_0x28ab29['on']('change',this['_onModelAs'+'setChange'],this),_0x28ab29['on']('remove',this['_onModelAs'+'setRemove'],this),_0x28ab29['resource'])this['_onModelAs'+'setLoad'](_0x28ab29);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x28ab29);}}['_unbindMod'+'elAsset'](_0x115169){_0x115169['off']('load',this['_onModelAs'+'setLoad'],this),_0x115169['off']('unload',this['_onModelAs'+'setUnload'],this),_0x115169['off']('change',this['_onModelAs'+'setChange'],this),_0x115169['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x4aa9fa){this['system']['app']['assets']['off']('add:'+_0x4aa9fa['id'],this['_onModelAs'+'setAdded'],this),_0x4aa9fa['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x4aa9fa);}['_onModelAs'+'setLoad'](_0x59614f){this['model']=_0x59614f['resource']['clone'](),this['_clonedMod'+'el']=!(-0xd9*-0x17+-0x5ce*0x5+-0x987*-0x1);}['_onModelAs'+'setUnload'](_0x5ea790){this['model']=null;}['_onModelAs'+'setChange'](_0x409df8,_0xb989cd,_0x46c636,_0x4b6a2a){_0xb989cd==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x4d8ff2){this['model']=null;}['_setMateri'+'al'](_0x2f0841){if(this['_material']===_0x2f0841)return;this['_material']=_0x2f0841;const _0x4db498=this['_model'];if(_0x4db498&&this['_type']!=='asset'){const _0x3e594a=_0x4db498['meshInstan'+'ces'];for(let _0x4c4e7b=-0x3f*0x8e+0x134a+0xfa8,_0x48df98=_0x3e594a['length'];_0x4c4e7b<_0x48df98;_0x4c4e7b++)_0x3e594a[_0x4c4e7b]['material']=_0x2f0841;}}}class YR{constructor(){this['enabled']=!(0x1*-0x17c9+0x158f*0x1+0x23a);}}const a0=['enabled'];class KR extends ct{constructor(_0x9cbd7c){super(_0x9cbd7c),this['id']='model',this['ComponentT'+'ype']=Tm,this['DataType']=YR,this['schema']=a0,this['defaultMat'+'erial']=Qn(_0x9cbd7c['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x36b5d0,_0x543c70,_0xba4cce){_0xba4cce=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x543c70['batchGroup'+'Id']===null||_0x543c70['batchGroup'+'Id']===void(0xb0c*-0x1+-0x1*0xc8b+0x1797))&&(_0x543c70['batchGroup'+'Id']=-(0x1f46+-0x1*-0x2501+0x4446*-0x1)),_0x543c70['layers']&&_0x543c70['layers']['length']&&(_0x543c70['layers']=_0x543c70['layers']['slice'](0x62*-0x44+0xe5*0x1c+-0x12*-0xe));for(let _0x311f11=0x739+-0x1c3*0xd+0x2*0x7d7;_0x311f11<_0xba4cce['length'];_0x311f11++)_0x543c70['hasOwnProp'+'erty'](_0xba4cce[_0x311f11])&&(_0x36b5d0[_0xba4cce[_0x311f11]]=_0x543c70[_0xba4cce[_0x311f11]]);_0x543c70['aabbCenter']&&_0x543c70['aabbHalfEx'+'tents']&&(_0x36b5d0['customAabb']=new De(new D(_0x543c70['aabbCenter']),new D(_0x543c70['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x36b5d0,_0x543c70,['enabled']);}['cloneCompo'+'nent'](_0x86bc9,_0x7ef9d1){const _0x185f41={'type':_0x86bc9['model']['type'],'asset':_0x86bc9['model']['asset'],'castShadows':_0x86bc9['model']['castShadow'+'s'],'receiveShadows':_0x86bc9['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x86bc9['model']['castShadow'+'sLightmap'],'lightmapped':_0x86bc9['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x86bc9['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x86bc9['model']['isStatic'],'enabled':_0x86bc9['model']['enabled'],'layers':_0x86bc9['model']['layers'],'batchGroupId':_0x86bc9['model']['batchGroup'+'Id'],'mapping':ah({},_0x86bc9['model']['mapping'])};let _0x4b8478=_0x86bc9['model']['materialAs'+'set'];!(_0x4b8478 instanceof pe)&&_0x4b8478!=null&&(_0x4b8478=this['app']['assets']['get'](_0x4b8478));const _0x4444f2=_0x86bc9['model']['material'];(!_0x4444f2||_0x4444f2===this['defaultMat'+'erial']||!_0x4b8478||_0x4444f2===_0x4b8478['resource'])&&(_0x185f41['materialAs'+'set']=_0x4b8478);const _0x29ab8b=this['addCompone'+'nt'](_0x7ef9d1,_0x185f41);if(_0x86bc9['model']['model']&&_0x86bc9['model']['type']==='asset'&&!_0x86bc9['model']['asset']&&(_0x29ab8b['model']=_0x86bc9['model']['model']['clone'](),_0x29ab8b['_clonedMod'+'el']=!(-0x111*0x5+0x1*0x7a+0x71*0xb)),_0x185f41['materialAs'+'set']||(_0x29ab8b['material']=_0x4444f2),_0x86bc9['model']['model']){const _0x521d45=_0x86bc9['model']['model']['meshInstan'+'ces'],_0x318ac6=_0x29ab8b['model']['meshInstan'+'ces'];for(let _0x4bb16f=-0x1e3d*0x1+0x12eb+0xb52;_0x4bb16f<_0x521d45['length'];_0x4bb16f++)_0x318ac6[_0x4bb16f]['mask']=_0x521d45[_0x4bb16f]['mask'],_0x318ac6[_0x4bb16f]['material']=_0x521d45[_0x4bb16f]['material'],_0x318ac6[_0x4bb16f]['layer']=_0x521d45[_0x4bb16f]['layer'],_0x318ac6[_0x4bb16f]['receiveSha'+'dow']=_0x521d45[_0x4bb16f]['receiveSha'+'dow'];}return _0x86bc9['model']['customAabb']&&(_0x29ab8b['customAabb']=_0x86bc9['model']['customAabb']['clone']()),_0x29ab8b;}['onRemove'](_0x428e46,_0x2ae3e5){_0x2ae3e5['onRemove']();}}we['_buildAcce'+'ssors'](Tm['prototype'],a0);const ZR=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],QR=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],JR=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Cc=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Ya;class e3 extends we{constructor(_0x49d054,_0x53a03d){super(_0x49d054,_0x53a03d),h(this,'_requested'+'Depth',!(-0x6*-0x55d+0x1*-0x9fb+-0x1632)),h(this,'_drawOrder',0x2541+-0x11a1+-0x9d0*0x2),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),ZR['forEach'](_0x22d05c=>{this['on']('set_'+_0x22d05c,this['onSetSimpl'+'eProperty'],this);}),QR['forEach'](_0x3a04b1=>{this['on']('set_'+_0x3a04b1,this['onSetCompl'+'exProperty'],this);}),JR['forEach'](_0x4bb3ac=>{this['on']('set_'+_0x4bb3ac,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x3e8663=this['system']['store'][this['entity']['getGuid']()];return _0x3e8663?_0x3e8663['data']:null;}set['enabled'](_0xeb1fb4){this['_setValue']('enabled',_0xeb1fb4);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x28fbc4){this['_setValue']('autoPlay',_0x28fbc4);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x430a92){this['_setValue']('numParticl'+'es',_0x430a92);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x4147e1){this['_setValue']('lifetime',_0x4147e1);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x3015c3){this['_setValue']('rate',_0x3015c3);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x21b24b){this['_setValue']('rate2',_0x21b24b);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x121488){this['_setValue']('startAngle',_0x121488);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x4ef63a){this['_setValue']('startAngle'+'2',_0x4ef63a);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x5143a8){this['_setValue']('loop',_0x5143a8);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x13e10b){this['_setValue']('preWarm',_0x13e10b);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0xa87027){this['_setValue']('lighting',_0xa87027);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x35a52a){this['_setValue']('halfLamber'+'t',_0x35a52a);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x37f0fb){this['_setValue']('intensity',_0x37f0fb);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x547fbf){this['_setValue']('depthWrite',_0x547fbf);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x4eb61f){this['_setValue']('noFog',_0x4eb61f);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x1bdcb8){this['_setValue']('depthSofte'+'ning',_0x1bdcb8);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x38cc53){this['_setValue']('sort',_0x38cc53);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x5086c6){this['_setValue']('blendType',_0x5086c6);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0xa37e9d){this['_setValue']('stretch',_0xa37e9d);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x40336f){this['_setValue']('alignToMot'+'ion',_0x40336f);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x3e155b){this['_setValue']('emitterSha'+'pe',_0x3e155b);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0xcb756b){this['_setValue']('emitterExt'+'ents',_0xcb756b);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x2ac9a3){this['_setValue']('emitterExt'+'entsInner',_0x2ac9a3);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x1f3884){this['_setValue']('emitterRad'+'ius',_0x1f3884);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0xc8e009){this['_setValue']('emitterRad'+'iusInner',_0xc8e009);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x32e91e){this['_setValue']('initialVel'+'ocity',_0x32e91e);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x1e95a8){this['_setValue']('wrap',_0x1e95a8);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x316f11){this['_setValue']('wrapBounds',_0x316f11);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x4ffd51){this['_setValue']('localSpace',_0x4ffd51);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x4952ea){this['_setValue']('screenSpac'+'e',_0x4952ea);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x5402d6){this['_setValue']('colorMapAs'+'set',_0x5402d6);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x53af80){this['_setValue']('normalMapA'+'sset',_0x53af80);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x1d3d2d){this['_setValue']('mesh',_0x1d3d2d);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x54e848){this['_setValue']('meshAsset',_0x54e848);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x4dc440){this['_setValue']('renderAsse'+'t',_0x4dc440);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x4d0502){this['_setValue']('orientatio'+'n',_0x4d0502);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x367bca){this['_setValue']('particleNo'+'rmal',_0x367bca);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x10308b){this['_setValue']('localVeloc'+'ityGraph',_0x10308b);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x176a5e){this['_setValue']('localVeloc'+'ityGraph2',_0x176a5e);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x5bfba1){this['_setValue']('velocityGr'+'aph',_0x5bfba1);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x1be3ec){this['_setValue']('velocityGr'+'aph2',_0x1be3ec);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x57d532){this['_setValue']('rotationSp'+'eedGraph',_0x57d532);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x56db16){this['_setValue']('rotationSp'+'eedGraph2',_0x56db16);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x18d59d){this['_setValue']('radialSpee'+'dGraph',_0x18d59d);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x4656ed){this['_setValue']('radialSpee'+'dGraph2',_0x4656ed);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x3a857f){this['_setValue']('scaleGraph',_0x3a857f);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x5e2877){this['_setValue']('scaleGraph'+'2',_0x5e2877);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x319366){this['_setValue']('colorGraph',_0x319366);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x50cb4c){this['_setValue']('colorGraph'+'2',_0x50cb4c);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x162d4a){this['_setValue']('alphaGraph',_0x162d4a);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x326066){this['_setValue']('alphaGraph'+'2',_0x326066);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x207e9a){this['_setValue']('colorMap',_0x207e9a);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x537439){this['_setValue']('normalMap',_0x537439);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0xbba0ee){this['_setValue']('animTilesX',_0xbba0ee);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x5da42d){this['_setValue']('animTilesY',_0x5da42d);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x86a02b){this['_setValue']('animStartF'+'rame',_0x86a02b);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x5c5e2d){this['_setValue']('animNumFra'+'mes',_0x5c5e2d);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x4cb6a5){this['_setValue']('animNumAni'+'mations',_0x4cb6a5);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0xc87a21){this['_setValue']('animIndex',_0xc87a21);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x4c1dc1){this['_setValue']('randomizeA'+'nimIndex',_0x4c1dc1);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x34bc3f){this['_setValue']('animSpeed',_0x34bc3f);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x51a7c5){this['_setValue']('animLoop',_0x51a7c5);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x11ee67){this['_setValue']('layers',_0x11ee67);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x7b74fd){this['_drawOrder']=_0x7b74fd,this['emitter']&&(this['emitter']['drawOrder']=_0x7b74fd);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x51357f,_0x65465){const _0x55e297=this['data'],_0x496350=_0x55e297[_0x51357f];_0x55e297[_0x51357f]=_0x65465,this['fire']('set',_0x51357f,_0x496350,_0x65465);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x97f008=0xa85*-0x2+-0x2480+-0x1*-0x398a;_0x97f008<this['layers']['length'];_0x97f008++){const _0x10578f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x97f008]);_0x10578f&&(_0x10578f['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x10578f);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x16b712=-0x3*-0x4e5+-0x6a2*0x1+-0x80d;_0x16b712<this['layers']['length'];_0x16b712++){const _0x2323d7=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x16b712]);_0x2323d7&&_0x2323d7['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x43d3fb,_0x28f34d,_0x1c9920){if(this['emitter']){for(let _0x448cc7=0x15be+-0x1197+-0x427*0x1;_0x448cc7<_0x28f34d['length'];_0x448cc7++){const _0x25c857=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x28f34d[_0x448cc7]);_0x25c857&&_0x25c857['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x29afe5=0x567+-0x170a+0x11a3;_0x29afe5<_0x1c9920['length'];_0x29afe5++){const _0x34e78e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x1c9920[_0x29afe5]);_0x34e78e&&_0x34e78e['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x21bc51,_0x172218){this['addMeshIns'+'tanceToLay'+'ers'](),_0x21bc51['off']('add',this['onLayerAdd'+'ed'],this),_0x21bc51['off']('remove',this['onLayerRem'+'oved'],this),_0x172218['on']('add',this['onLayerAdd'+'ed'],this),_0x172218['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5a1a6c){!this['emitter']||this['layers']['indexOf'](_0x5a1a6c['id'])<-0x1*-0xd09+0x25*0x8c+-0x2145||_0x5a1a6c['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x1d22ae){!this['emitter']||this['layers']['indexOf'](_0x1d22ae['id'])<-0x1bf1*-0x1+-0x24d6+0x21*0x45||_0x1d22ae['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x241739){if(_0x241739['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x241739['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x241739['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x241739['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x241739['resource'])this['_onColorMa'+'pAssetLoad'](_0x241739);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x241739);}}['_unbindCol'+'orMapAsset'](_0xd45c05){_0xd45c05['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0xd45c05['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0xd45c05['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0xd45c05['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x328fe4){this['colorMap']=_0x328fe4['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x4674ce){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x32560c){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x32560c);}['_onColorMa'+'pAssetChan'+'ge'](_0x5caa19){}['onSetColor'+'MapAsset'](_0x467d78,_0x13dd87,_0x215948){const _0x5ada05=this['system']['app']['assets'];if(_0x13dd87){const _0xc4b4ab=_0x5ada05['get'](_0x13dd87);_0xc4b4ab&&this['_unbindCol'+'orMapAsset'](_0xc4b4ab);}if(_0x215948){_0x215948 instanceof pe&&(this['data']['colorMapAs'+'set']=_0x215948['id'],_0x215948=_0x215948['id']);const _0x244d4d=_0x5ada05['get'](_0x215948);_0x244d4d?this['_bindColor'+'MapAsset'](_0x244d4d):_0x5ada05['once']('add:'+_0x215948,_0x134905=>{this['_bindColor'+'MapAsset'](_0x134905);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x5ad8a4){if(_0x5ad8a4['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x5ad8a4['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x5ad8a4['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x5ad8a4['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x5ad8a4['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x5ad8a4);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x5ad8a4);}}['_unbindNor'+'malMapAsse'+'t'](_0x3f2c15){_0x3f2c15['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x3f2c15['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x3f2c15['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x3f2c15['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x5d8296){this['normalMap']=_0x5d8296['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x437971){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x431240){this['_onNormalM'+'apAssetUnl'+'oad'](_0x431240);}['_onNormalM'+'apAssetCha'+'nge'](_0x4933db){}['onSetNorma'+'lMapAsset'](_0x3a15c2,_0xb2c7a9,_0x496f6a){const _0xcc8c80=this['system']['app']['assets'];if(_0xb2c7a9){const _0x2c98d3=_0xcc8c80['get'](_0xb2c7a9);_0x2c98d3&&this['_unbindNor'+'malMapAsse'+'t'](_0x2c98d3);}if(_0x496f6a){_0x496f6a instanceof pe&&(this['data']['normalMapA'+'sset']=_0x496f6a['id'],_0x496f6a=_0x496f6a['id']);const _0x1222cc=_0xcc8c80['get'](_0x496f6a);_0x1222cc?this['_bindNorma'+'lMapAsset'](_0x1222cc):_0xcc8c80['once']('add:'+_0x496f6a,_0xdef748=>{this['_bindNorma'+'lMapAsset'](_0xdef748);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x9e8b73){if(_0x9e8b73['on']('load',this['_onMeshAss'+'etLoad'],this),_0x9e8b73['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x9e8b73['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x9e8b73['on']('change',this['_onMeshAss'+'etChange'],this),_0x9e8b73['resource'])this['_onMeshAss'+'etLoad'](_0x9e8b73);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x9e8b73);}}['_unbindMes'+'hAsset'](_0x23c70a){_0x23c70a['off']('load',this['_onMeshAss'+'etLoad'],this),_0x23c70a['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x23c70a['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x23c70a['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x4e281a){this['_onMeshCha'+'nged'](_0x4e281a['resource']);}['_onMeshAss'+'etUnload'](_0x6cb020){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x406de5){this['_onMeshAss'+'etUnload'](_0x406de5);}['_onMeshAss'+'etChange'](_0x354236){}['onSetMeshA'+'sset'](_0x41ea69,_0x33d575,_0x5dba59){const _0x48078c=this['system']['app']['assets'];if(_0x33d575){const _0x353db4=_0x48078c['get'](_0x33d575);_0x353db4&&this['_unbindMes'+'hAsset'](_0x353db4);}if(_0x5dba59){_0x5dba59 instanceof pe&&(this['data']['meshAsset']=_0x5dba59['id'],_0x5dba59=_0x5dba59['id']);const _0x14fcb5=_0x48078c['get'](_0x5dba59);_0x14fcb5&&this['_bindMeshA'+'sset'](_0x14fcb5);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x4a7490,_0x5c8030,_0x4e5ce0){!_0x4e5ce0||_0x4e5ce0 instanceof pe||typeof _0x4e5ce0=='number'?this['meshAsset']=_0x4e5ce0:this['_onMeshCha'+'nged'](_0x4e5ce0);}['_onMeshCha'+'nged'](_0xc0f9f3){_0xc0f9f3&&!(_0xc0f9f3 instanceof Ge)&&(_0xc0f9f3['meshInstan'+'ces'][-0x31*-0x27+-0x18a+-0x5ed]?_0xc0f9f3=_0xc0f9f3['meshInstan'+'ces'][-0x25e*0xd+-0x15d*-0x13+0x4df]['mesh']:_0xc0f9f3=null),this['data']['mesh']=_0xc0f9f3,this['emitter']&&(this['emitter']['mesh']=_0xc0f9f3,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x17bc3f,_0x377239,_0x377c31){const _0x28f118=this['system']['app']['assets'];if(_0x377239){const _0xef58ed=_0x28f118['get'](_0x377239);_0xef58ed&&this['_unbindRen'+'derAsset'](_0xef58ed);}if(_0x377c31){_0x377c31 instanceof pe&&(this['data']['renderAsse'+'t']=_0x377c31['id'],_0x377c31=_0x377c31['id']);const _0x81e693=_0x28f118['get'](_0x377c31);_0x81e693&&this['_bindRende'+'rAsset'](_0x81e693);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x45d355){if(_0x45d355['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x45d355['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x45d355['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x45d355['resource'])this['_onRenderA'+'ssetLoad'](_0x45d355);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x45d355);}}['_unbindRen'+'derAsset'](_0x5df22b){var _0x3cf539;_0x5df22b['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x5df22b['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x5df22b['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x3cf539=this['_evtSetMes'+'hes'])==null||_0x3cf539['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x20da5a){this['_onRenderC'+'hanged'](_0x20da5a['resource']);}['_onRenderA'+'ssetUnload'](_0x34b017){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x328814){this['_onRenderA'+'ssetUnload'](_0x328814);}['_onRenderC'+'hanged'](_0x2a4a78){var _0x594430;if(!_0x2a4a78){this['_onMeshCha'+'nged'](null);return;}(_0x594430=this['_evtSetMes'+'hes'])==null||_0x594430['off'](),this['_evtSetMes'+'hes']=_0x2a4a78['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x2a4a78['meshes']&&this['_onRenderS'+'etMeshes'](_0x2a4a78['meshes']);}['_onRenderS'+'etMeshes'](_0x13fe40){this['_onMeshCha'+'nged'](_0x13fe40&&_0x13fe40[0x1400+0x1157+0x79*-0x4f]);}['onSetLoop'](_0x5e86c1,_0x100d7d,_0x4c5a92){this['emitter']&&(this['emitter'][_0x5e86c1]=_0x4c5a92,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x1af120,_0x126494,_0x4637fa){this['emitter']&&(this['emitter'][_0x1af120]=_0x4637fa,this['emitter']['material']['blendType']=_0x4637fa,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Ya||(Ya=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps)),Ya&&(Ya['incrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x3*-0xc1+-0x60*0x51+0x1c1d)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Ya&&(Ya['decrementC'+'ounter'](),this['_requested'+'Depth']=!(0x1ed9+0x1*-0x1bb+-0x1d1d));}['onSetDepth'+'Softening'](_0x569da7,_0x1fe7dd,_0x57ae56){_0x1fe7dd!==_0x57ae56&&(_0x57ae56?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x569da7]=_0x57ae56)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x569da7]=_0x57ae56)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x517003,_0x1343b4,_0x431b9a){this['emitter']&&(this['emitter'][_0x517003]=_0x431b9a,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x2d702f,_0x40adea,_0x4d978e){this['emitter']&&(this['emitter'][_0x2d702f]=_0x4d978e,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0xa8e00a,_0x581559,_0x3f02a6){this['emitter']&&(this['emitter'][_0xa8e00a]=_0x3f02a6,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x3a3c02=this['system']['app']['scene'],_0x33773d=_0x3a3c02['layers'],_0x38e950=this['data'];for(let _0x52512e=0x1233*-0x1+-0x1e4f+0x7*0x6ee,_0x439cd1=Cc['length'];_0x52512e<_0x439cd1;_0x52512e++){let _0x17abc6=_0x38e950[Cc[_0x52512e]];if(_0x17abc6){if(!(_0x17abc6 instanceof pe)){if(parseInt(_0x17abc6,-0x1cce+-0x26b*0x6+0x15ad*0x2)>=0x1664+0x18a3+-0x2f07)_0x17abc6=this['system']['app']['assets']['get'](_0x17abc6);else continue;}_0x17abc6&&!_0x17abc6['resource']&&this['system']['app']['assets']['load'](_0x17abc6);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x167845=_0x38e950['mesh'];_0x167845 instanceof Ge||(_0x167845=null),this['emitter']=new CA(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x38e950['numParticl'+'es'],'emitterExtents':_0x38e950['emitterExt'+'ents'],'emitterExtentsInner':_0x38e950['emitterExt'+'entsInner'],'emitterRadius':_0x38e950['emitterRad'+'ius'],'emitterRadiusInner':_0x38e950['emitterRad'+'iusInner'],'emitterShape':_0x38e950['emitterSha'+'pe'],'initialVelocity':_0x38e950['initialVel'+'ocity'],'wrap':_0x38e950['wrap'],'localSpace':_0x38e950['localSpace'],'screenSpace':_0x38e950['screenSpac'+'e'],'wrapBounds':_0x38e950['wrapBounds'],'lifetime':_0x38e950['lifetime'],'rate':_0x38e950['rate'],'rate2':_0x38e950['rate2'],'orientation':_0x38e950['orientatio'+'n'],'particleNormal':_0x38e950['particleNo'+'rmal'],'animTilesX':_0x38e950['animTilesX'],'animTilesY':_0x38e950['animTilesY'],'animStartFrame':_0x38e950['animStartF'+'rame'],'animNumFrames':_0x38e950['animNumFra'+'mes'],'animNumAnimations':_0x38e950['animNumAni'+'mations'],'animIndex':_0x38e950['animIndex'],'randomizeAnimIndex':_0x38e950['randomizeA'+'nimIndex'],'animSpeed':_0x38e950['animSpeed'],'animLoop':_0x38e950['animLoop'],'startAngle':_0x38e950['startAngle'],'startAngle2':_0x38e950['startAngle'+'2'],'scaleGraph':_0x38e950['scaleGraph'],'scaleGraph2':_0x38e950['scaleGraph'+'2'],'colorGraph':_0x38e950['colorGraph'],'colorGraph2':_0x38e950['colorGraph'+'2'],'alphaGraph':_0x38e950['alphaGraph'],'alphaGraph2':_0x38e950['alphaGraph'+'2'],'localVelocityGraph':_0x38e950['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x38e950['localVeloc'+'ityGraph2'],'velocityGraph':_0x38e950['velocityGr'+'aph'],'velocityGraph2':_0x38e950['velocityGr'+'aph2'],'rotationSpeedGraph':_0x38e950['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x38e950['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x38e950['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x38e950['radialSpee'+'dGraph2'],'colorMap':_0x38e950['colorMap'],'normalMap':_0x38e950['normalMap'],'loop':_0x38e950['loop'],'preWarm':_0x38e950['preWarm'],'sort':_0x38e950['sort'],'stretch':_0x38e950['stretch'],'alignToMotion':_0x38e950['alignToMot'+'ion'],'lighting':_0x38e950['lighting'],'halfLambert':_0x38e950['halfLamber'+'t'],'intensity':_0x38e950['intensity'],'depthSoftening':_0x38e950['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x167845,'depthWrite':_0x38e950['depthWrite'],'noFog':_0x38e950['noFog'],'node':this['entity'],'blendType':_0x38e950['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x38e950['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(0x1*-0x347+0x1*0x125f+-0xf17));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x3a3c02['on']('set:layers',this['onLayersCh'+'anged'],this),_0x33773d&&(this['_evtLayerA'+'dded']=_0x33773d['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x33773d['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x38e950['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x57b06b,_0x54929f,_0x4a9b39;const _0x16556e=this['system']['app']['scene']['layers'];(_0x57b06b=this['_evtLayers'+'Changed'])==null||_0x57b06b['off'](),this['_evtLayers'+'Changed']=null,_0x16556e&&((_0x54929f=this['_evtLayerA'+'dded'])==null||_0x54929f['off'](),this['_evtLayerA'+'dded']=null,(_0x4a9b39=this['_evtLayerR'+'emoved'])==null||_0x4a9b39['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(-0x374+0x1*-0x2074+0x23e9)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0xe96dd8=0x2d*-0x83+-0x1*-0x13d9+0x32e;_0xe96dd8<Cc['length'];_0xe96dd8++){const _0x4d610f=Cc[_0xe96dd8];this['data'][_0x4d610f]&&(this[_0x4d610f]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(0x12f8+0x255*-0x5+-0x22*0x37),this['emitter']['resetTime'](),this['emitter']['addTime'](0x1*0xfad+-0x1*0x1e75+0x158*0xb,!(0x1*0x1357+-0x662+-0xcf5)));}['pause'](){this['data']['paused']=!(0x1b02+-0x23eb+-0x8e9*-0x1);}['unpause'](){this['data']['paused']=!(0xc73+-0xa1a+0xa*-0x3c);}['play'](){this['data']['paused']=!(-0x1257+-0x20c6+0x1*0x331e),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(-0xa*0x3e0+-0x371+0x2a31),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(0x194c+-0x64a+-0x1301):this['emitter']&&this['emitter']['loop']?!(-0x1cef+0x7*0x22a+0xdc9):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x36c7c5}=this;_0x36c7c5&&!_0x36c7c5['inTools']&&(_0x36c7c5['inTools']=!(-0x25*0x4a+-0x1ba9+-0x443*-0x9),this['rebuild']());}['rebuild'](){const _0x5785cc=this['enabled'];this['enabled']=!(-0x2364+0x2271+0x7a*0x2),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x5785cc;}}class t3{constructor(){this['numParticl'+'es']=-0x1*0x52a+-0x1*0xb89+0x10b4,this['rate']=0x16e6+0x40*0x7c+0x7b3*-0x7,this['rate2']=null,this['startAngle']=0x2221*0x1+0x17*0x34+-0x21*0x12d,this['startAngle'+'2']=null,this['lifetime']=-0xd*-0xbf+-0xde0+0x45f,this['emitterExt'+'ents']=new D(),this['emitterExt'+'entsInner']=new D(),this['emitterRad'+'ius']=-0x1673*0x1+-0x36c+0x19df,this['emitterRad'+'iusInner']=-0xb0d+-0x15*0x7a+0x150f,this['emitterSha'+'pe']=ai,this['initialVel'+'ocity']=-0x255b+0x2*0x841+0x14d9,this['wrap']=!(-0x73*-0x53+0x24fa*-0x1+-0x4e),this['wrapBounds']=new D(),this['localSpace']=!(-0x2125+0x467*-0x5+0x3729),this['screenSpac'+'e']=!(0x71+-0x188b+0x181b),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(-0x223a+0xb0*-0x22+0x399a),this['preWarm']=!(0x2*0x25c+-0x5*-0x649+-0x2424),this['sort']=0x9*-0x2ca+0x30e*0x1+-0x583*-0x4,this['mode']=rv,this['scene']=null,this['lighting']=!(-0x31*-0x6b+-0x18d0+-0x1*-0x456),this['halfLamber'+'t']=!(0x655*0x1+0x1*0x22ed+-0x3b*0xb3),this['intensity']=0x672+-0x21a*-0xb+-0x1d8f,this['stretch']=-0x4ed*0x1+-0x1b96*0x1+0x29*0xcb,this['alignToMot'+'ion']=!(-0x1cbb*0x1+-0x1059+0x3*0xf07),this['depthSofte'+'ning']=-0x30*0x6a+0x22b6*-0x1+0x3696,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(0x1ad1+0xdcc+-0x71*0x5c),this['noFog']=!(0xed*0x1f+-0x1468+-0x84a),this['orientatio'+'n']=yh,this['particleNo'+'rmal']=new D(-0x209*-0xd+-0x9be+-0x10b7,-0x1e1f*-0x1+-0x75a*-0x5+0x6b0*-0xa,0x1609+0xd4f+0x8d6*-0x4),this['animTilesX']=-0xf69+-0x161f+0x3*0xc83,this['animTilesY']=0x1*-0x1ab9+-0x26c3+0x5*0xd19,this['animStartF'+'rame']=0x29*0x3d+-0x53*0x4d+-0x5*-0x30a,this['animNumFra'+'mes']=0xa53+0x21fe+-0x2c50,this['animNumAni'+'mations']=0xd4a+0x14ed*0x1+-0x2236,this['animIndex']=-0x206d*-0x1+-0x4*0x977+0x56f,this['randomizeA'+'nimIndex']=!(-0x19b*-0x13+0x4d*0x71+-0x407d),this['animSpeed']=-0x188c+0x25eb+-0xd5e,this['animLoop']=!(0x15c8+-0x4*0x2ec+-0xa18),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Zs,this['enabled']=!(-0x3*-0x9eb+-0xf13*-0x1+-0x2cd4*0x1),this['paused']=!(-0x1*0x5e7+-0x126e+-0x37a*-0x7),this['autoPlay']=!(0x1131+-0x5*0x252+-0x597),this['layers']=[er];}}const s3='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0auniform\x20'+'float\x20soft'+'ening;\x0auni'+'form\x20float'+'\x20colorMult'+';\x0a\x0afloat\x20s'+'aturate(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex\x20\x20=\x20tex'+'ture2D(col'+'orMap,\x20vec'+'2(texCoord'+'sAlphaLife'+'.x,\x201.0\x20-\x20'+'texCoordsA'+'lphaLife.y'+'));\x0a\x20\x20\x20\x20ve'+'c4\x20ramp\x20=\x20'+'texture2D('+'colorParam'+',\x20vec2(tex'+'CoordsAlph'+'aLife.w,\x200'+'.0));\x0a\x20\x20\x20\x20'+'ramp.rgb\x20*'+'=\x20colorMul'+'t;\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20+=\x20te'+'xCoordsAlp'+'haLife.z;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'rgb\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'float\x20a\x20\x20='+'\x20tex.a\x20*\x20r'+'amp.a;\x0a',i3='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20meshLoca'+'lPos\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20vec2\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20nlife\x20='+'\x20clamp(inL'+'ife\x20/\x20part'+'icleLifeti'+'me,\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20param'+'Div;\x0a\x20\x20\x20\x20v'+'ec4\x20params'+'\x20=\x20tex1Dlo'+'d_lerp(TEX'+'TURE_PASS('+'internalTe'+'x2),\x20vec2('+'nlife,\x200),'+'\x20paramDiv)'+';\x0a\x20\x20\x20\x20floa'+'t\x20scale\x20=\x20'+'params.y;\x0a'+'\x20\x20\x20\x20float\x20'+'scaleDiv\x20='+'\x20paramDiv.'+'x;\x0a\x20\x20\x20\x20flo'+'at\x20alphaDi'+'v\x20=\x20paramD'+'iv.z;\x0a\x0a\x20\x20\x20'+'\x20scale\x20+=\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20scale'+'DivMult\x20*\x20'+'fract(rndF'+'actor*1000'+'0.0);\x0a\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(quadXY'+'\x20*\x20-0.5\x20+\x20'+'0.5,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'alphaDivMu'+'lt\x20*\x20fract'+'(rndFactor'+'*1000.0),\x20'+'nlife);\x0a#e'+'lse\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_uv,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePos\x20='+'\x20inPos;\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePosMo'+'ved\x20=\x20vec3'+'(0.0);\x0a\x0a\x20\x20'+'\x20\x20mat2\x20rot'+'Matrix;\x0a'),r3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',a3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',n3='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',o3='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',l3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y\x20*\x20('+'1.0\x20/\x20255.'+'0)\x20+\x20rg.x;'+'\x0a}\x0a\x0afloat\x20'+'decodeFloa'+'tRGBA(\x20vec'+'4\x20rgba\x20)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(rgba'+',\x20vec4(1.0'+',\x201.0\x20/\x2025'+'5.0,\x201.0\x20/'+'\x2065025.0,\x20'+'1.0\x20/\x201605'+'81375.0));'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+('rticles\x20-\x20'+'1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),c3='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',h3='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),d3='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',f3='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',u3='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',p3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',m3='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',_3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',g3='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',S3='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),y3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',v3='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',x3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',T3='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',w3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec2\x20pa'+'rticle_ver'+'texData5;\x0a'+'#else\x0a\x20\x20\x20\x20'+'attribute\x20'+'vec4\x20parti'+'cle_vertex'+'Data5;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifndef\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a#endif\x0a\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20lifetim'+'e;\x0auniform'+'\x20float\x20str'+'etch;\x0aunif'+'orm\x20float\x20'+'seed;\x0aunif'+'orm\x20vec3\x20w'+'rapBounds;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rScale;\x0aun'+('iform\x20vec3'+'\x20faceTange'+'nt;\x0aunifor'+'m\x20vec3\x20fac'+'eBinorm;\x0a\x0a'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex0'+';\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x1;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex2;\x0a#end'+'if\x0auniform'+'\x20vec3\x20emit'+'terPos;\x0a\x0av'+'arying\x20vec'+'4\x20texCoord'+'sAlphaLife'+';\x0a\x0avec2\x20ro'+'tate(vec2\x20'+'quadXY,\x20fl'+'oat\x20pRotat'+'ion,\x20out\x20m'+'at2\x20rotMat'+'rix)\x0a{\x0a\x20\x20\x20'+'\x20float\x20c\x20='+'\x20cos(pRota'+'tion);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20sin(pRota'+'tion);\x0a\x20\x20\x20'+'\x20//vec4\x20ro'+'tationMatr'+'ix\x20=\x20vec4('+'c,\x20-s,\x20s,\x20'+'c);\x0a\x0a\x20\x20\x20\x20m'+'at2\x20m\x20=\x20ma'+'t2(c,\x20-s,\x20'+'s,\x20c);\x0a\x20\x20\x20'+'\x20rotMatrix'+'\x20=\x20m;\x0a\x0a\x20\x20\x20'+'\x20return\x20m\x20'+'*\x20quadXY;\x0a'+'}\x0a\x0avec3\x20bi'+'llboard(ve'+'c3\x20Instanc'+'eCoords,\x20v'+'ec2\x20quadXY'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20return\x20p'+'os;\x0a}\x0a\x0avec'+'3\x20customFa'+'ce(vec3\x20In'+'stanceCoor'+'ds,\x20vec2\x20q'+'uadXY)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20po'+'s\x20=\x20faceTa'+'ngent\x20*\x20qu'+'adXY.x\x20+\x20f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avoid\x20main'+'(void)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20pa'+'rticlePos\x20'+'=\x20particle'+'_vertexDat'+'a.xyz;\x0a\x20\x20\x20'+'\x20vec3\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20vec3\x20vert'+'Pos\x20=\x20part'+'icle_verte'+'xData3.xyz'+';\x0a\x20\x20\x20\x20vec3'+'\x20inVel\x20=\x20v'+'ec3(partic'+'le_vertexD'+'ata2.w,\x20pa')+('rticle_ver'+'texData3.w'+',\x20particle'+'_vertexDat'+'a5.x);\x0a\x0a\x20\x20'+'\x20\x20float\x20id'+'\x20=\x20floor(p'+'article_ve'+'rtexData4)'+';\x0a\x20\x20\x20\x20floa'+'t\x20rndFacto'+'r\x20=\x20fract('+'sin(id\x20+\x201'+'.0\x20+\x20seed)'+');\x0a\x20\x20\x20\x20vec'+'3\x20rndFacto'+'r3\x20=\x20vec3('+'rndFactor,'+'\x20fract(rnd'+'Factor*10.'+'0),\x20fract('+'rndFactor*'+'100.0));\x0a\x0a'+'#ifdef\x20LOC'+'AL_SPACE\x0a\x20'+'\x20\x20\x20inVel\x20='+'\x20mat3(matr'+'ix_model)\x20'+'*\x20inVel;\x0a#'+'endif\x0a\x20\x20\x20\x20'+'vec2\x20veloc'+'ityV\x20=\x20nor'+'malize((ma'+'t3(matrix_'+'view)\x20*\x20in'+'Vel).xy);\x20'+'//\x20should\x20'+'be\x20removed'+'\x20by\x20compil'+'er\x20if\x20alig'+'n/stretch\x20'+'is\x20not\x20use'+'d\x0a\x0a\x20\x20\x20\x20vec'+'2\x20quadXY\x20='+'\x20vertPos.x'+'y;\x0a\x0a#ifdef'+'\x20USE_MESH\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe\x20=\x20vec4('+'particle_v'+'ertexData5'+'.zw,\x20parti'+'cle_vertex'+'Data2.z,\x20p'+'article_ve'+'rtexData.w'+');\x0a#else\x0a\x20'+'\x20\x20\x20texCoor'+'dsAlphaLif'+'e\x20=\x20vec4(q'+'uadXY\x20*\x20-0'+'.5\x20+\x200.5,\x20'+'particle_v'+'ertexData2'+'.z,\x20partic'+'le_vertexD'+'ata.w);\x0a#e'+'ndif\x0a\x20\x20\x20\x20m'+'at2\x20rotMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'float\x20inAn'+'gle\x20=\x20part'+'icle_verte'+'xData2.x;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20vec3\x20me'+'shLocalPos'+'\x20=\x20particl'+'e_vertexDa'+'ta3.xyz;\x0a'),E3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',b3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',A3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',C3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',P3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20vec3'+'\x20posNormal'+'\x20=\x20-normal'+'\x20*\x200.5\x20+\x200'+'.5;\x0a\x20\x20\x20\x20ne'+'gNormal\x20*='+'\x20negNormal'+';\x0a\x20\x20\x20\x20posN'+'ormal\x20*=\x20p'+'osNormal;\x0a',M3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a\x0a#i'+'f\x20defined('+'USE_MESH)\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(USE_'+'MESH_UV)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20particle'+'_uv;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mesh'+'\x20UV\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20par'+'ticle_uv\x20='+'\x20vec2(0.0,'+'\x200.0);\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+'Projection'+';\x0auniform\x20'+'mat4\x20matri'+'x_model;\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20numPart'+'iclesPot;\x0a'+'uniform\x20fl'+'oat\x20graphS'+'ampleSize;'+'\x0auniform\x20f'+'loat\x20graph'+'NumSamples'+';\x0auniform\x20'+'float\x20stre'+'tch;\x0aunifo'+'rm\x20vec3\x20wr'+'apBounds;\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Scale;\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0auniform\x20'+'vec3\x20faceT'+'angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0auniform'+'\x20float\x20rat'+'e;\x0auniform'+'\x20float\x20rat'+'eDiv;\x0aunif'+'orm\x20float\x20'+'lifetime;\x0a'+'uniform\x20fl'+'oat\x20deltaR'+'andomnessS'+'tatic;\x0auni'+'form\x20float'+'\x20scaleDivM'+'ult;\x0aunifo'+'rm\x20float\x20a'+'lphaDivMul'+'t;\x0auniform'+'\x20float\x20see'+'d;\x0auniform'+'\x20float\x20del'+'ta;\x0aunifor'+'m\x20sampler2'+'D\x20particle'+'TexOUT;\x0aun'+'iform\x20samp'+('ler2D\x20part'+'icleTexIN;'+'\x0a\x0a#ifdef\x20P'+'ARTICLE_GP'+'U\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x0;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex2;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0avarying\x20'+'vec4\x20texCo'+'ordsAlphaL'+'ife;\x0a\x0avec3'+'\x20inPos;\x0ave'+'c3\x20inVel;\x0a'+'float\x20inAn'+'gle;\x0abool\x20'+'inShow;\x0afl'+'oat\x20inLife'+';\x0a'),D3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',I3='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',L3='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',R3='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',O3='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',F3='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',N3='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan(veloci'+'tyV.x,\x20vel'+'ocityV.y);'+'\x0a\x0a',k3='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',U3='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec3\x20No'+'rmal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20lightCu'+'be[6];\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20float\x20vDe'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fogP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'f\x20NORMAL\x20='+'=\x20MAP\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20normalMa'+'p;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22p'+'articlePS\x22'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_softP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20normal\x20'+'=\x20Normal;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalMap'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20HALF_L'+'AMBERT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_ha'+'lflambertP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_la'+'mbertPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_lighting'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20BLEND\x20'+'==\x20NORMAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndNormalPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+('\x20ADDITIVE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndAddPS\x22\x0a\x20'+'\x20\x20\x20#elif\x20B'+'LEND\x20==\x20MU'+'LTIPLICATI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendMulti'+'plyPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endPS\x22\x0a'),B3='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20animTexTi'+'lesParams;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20animTexP'+'arams;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec2\x20an'+'imTexIndex'+'Params;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20NO'+'RMAL\x20==\x20MA'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20Normal'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20SOFT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20floa'+'t\x20vDepth;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_initVS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PA'+'CK8\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleInputR'+'gba8PS\x22\x20\x20\x20'+'\x20\x20//\x20why\x20a'+'re\x20these\x20P'+'S\x20and\x20not\x20'+'VS?\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x20'+'\x22particleI'+'nputFloatP'+'S\x22\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'OFT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22scre'+'enDepthPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleVS\x22\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20PARTICLE_'+'CPU\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22scr'+'eenDepthPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_cpuVS'+'\x22\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_local'+'ShiftVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20ANIMT'+'EX_LOOP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('#include\x20\x22'+'particleAn'+'imFrameLoo'+'pVS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particleA'+'nimFrameCl'+'ampVS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleAn'+'imTexVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20wr'+'ap\x20is\x20not\x20'+'used\x20on\x20CP'+'U,\x20it\x20was\x20'+'commented\x20'+'out.\x20TODO:'+'\x20investiga'+'te\x20why\x0a\x20\x20\x20'+'\x20#ifdef\x20PA'+'RTICLE_GPU'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20WRAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_wrapVS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20AL'+'IGN_TO_MOT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_pointAlon'+'gVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20US'+'E_MESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_meshVS'+'\x22\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20CUS'+'TOM_FACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'customFace'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_b'+'illboardVS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalVS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_TBNVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STRETCH\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_str'+'etchVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endVS\x22\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20PARTICLE'+'_CPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_cpu_endV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#')+('ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_so'+'ftVS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20}\x0a'),z3='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',V3='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',G3='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',H3='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',W3='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',$3={'particlePS':s3,'particleVS':i3,'particleAnimFrameClampVS':r3,'particleAnimFrameLoopVS':a3,'particleAnimTexVS':n3,'particleInputFloatPS':o3,'particleInputRgba8PS':l3,'particleOutputFloatPS':c3,'particleOutputRgba8PS':h3,'particleUpdaterAABBPS':d3,'particleUpdaterEndPS':f3,'particleUpdaterInitPS':u3,'particleUpdaterNoRespawnPS':p3,'particleUpdaterOnStopPS':m3,'particleUpdaterRespawnPS':_3,'particleUpdaterSpherePS':g3,'particleUpdaterStartPS':S3,'particle_billboardVS':y3,'particle_blendAddPS':v3,'particle_blendMultiplyPS':x3,'particle_blendNormalPS':T3,'particle_cpuVS':w3,'particle_cpu_endVS':E3,'particle_customFaceVS':b3,'particle_endPS':A3,'particle_endVS':C3,'particle_halflambertPS':P3,'particle_initVS':M3,'particle_lambertPS':D3,'particle_lightingPS':I3,'particle_localShiftVS':L3,'particle_meshVS':R3,'particle_normalVS':O3,'particle_normalMapPS':F3,'particle_pointAlongVS':N3,'particle_simulationPS':k3,'particle_shaderPS':U3,'particle_shaderVS':B3,'particle_softPS':z3,'particle_softVS':V3,'particle_stretchVS':G3,'particle_TBNVS':H3,'particle_wrapVS':W3},X3='\x0avarying\x20t'+'exCoordsAl'+'phaLife:\x20v'+'ec4f;\x0a\x0avar'+'\x20colorMap:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20colorMap'+'Sampler:\x20s'+'ampler;\x0ava'+'r\x20colorPar'+'am:\x20textur'+'e_2d<f32>;'+'\x0avar\x20color'+'ParamSampl'+'er:\x20sample'+'r;\x0a\x0aunifor'+'m\x20graphSam'+'pleSize:\x20f'+'32;\x0aunifor'+'m\x20graphNum'+'Samples:\x20f'+'32;\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0auniform'+'\x20softening'+':\x20f32;\x0auni'+'form\x20color'+'Mult:\x20f32;'+'\x0a\x0afn\x20satur'+'ate(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20tex:\x20v'+'ec4f\x20\x20=\x20te'+'xtureSampl'+'e(colorMap'+',\x20colorMap'+'Sampler,\x20v'+'ec2f(input'+'.texCoords'+'AlphaLife.'+'x,\x201.0\x20-\x20i'+'nput.texCo'+'ordsAlphaL'+'ife.y));\x0a\x20'+'\x20\x20\x20var\x20ram'+'p:\x20vec4f\x20='+'\x20textureSa'+'mple(color'+'Param,\x20col'+'orParamSam'+'pler,\x20vec2'+'f(input.te'+'xCoordsAlp'+'haLife.w,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20ramp\x20=\x20ve'+'c4f(ramp.r'+'gb\x20*\x20unifo'+'rm.colorMu'+'lt,\x20ramp.a'+');\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20=\x20ram'+'p.a\x20+\x20inpu'+'t.texCoord'+'sAlphaLife'+'.z;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20rgb:\x20ve'+'c3f\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'var\x20a:\x20f32'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',q3='\x0afn\x20unpack'+'3NFloats(s'+'rc:\x20f32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20r\x20'+'=\x20fract(sr'+'c);\x0a\x20\x20\x20\x20le'+'t\x20g\x20=\x20frac'+'t(src\x20*\x2025'+'6.0);\x0a\x20\x20\x20\x20'+'let\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3f(r,\x20'+'g,\x20b);\x0a}\x0a\x0a'+'fn\x20saturat'+'e(x:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0astruct\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20resu'+'lt:\x20vec4f,'+'\x0a\x20\x20\x20\x20unpac'+'ked:\x20vec3f'+'\x0a}\x0a\x0afn\x20tex'+'1Dlod_lerp'+'_simple(te'+'x:\x20texture'+'_2d<f32>,\x20'+'texSampler'+':\x20sampler,'+'\x20tc:\x20vec2f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20tc_next\x20='+'\x20tc\x20+\x20vec2'+'f(uniform.'+'graphSampl'+'eSize);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(\x20textur'+'eSample(te'+'x,\x20texSamp'+'ler,\x20tc),\x20'+'textureSam'+'ple(tex,\x20t'+'exSampler,'+'\x20tc_next),'+'\x20fract(tc.'+'x\x20*\x20unifor'+'m.graphNum'+'Samples)\x20)'+';\x0a}\x0a\x0afn\x20te'+'x1Dlod_ler'+'p_unpack(t'+'ex:\x20textur'+'e_2d<f32>,'+'\x20texSample'+'r:\x20sampler'+',\x20tc:\x20vec2'+'f)\x20->\x20TexL'+'erpUnpackR'+'esult\x20{\x0a\x20\x20'+'\x20\x20let\x20tc_n'+'ext\x20=\x20tc\x20+'+'\x20vec2f(uni'+'form.graph'+'SampleSize'+');\x0a\x20\x20\x20\x20let'+'\x20a\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20tc,\x200.0);'+'\x0a\x20\x20\x20\x20let\x20b'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'c_next,\x200.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20u'+'niform.gra'+'phNumSampl'+'es);\x0a\x20\x20\x20\x20l'+'et\x20unpacke'+'dA\x20=\x20unpac'+'k3NFloats('+'a.w);\x0a\x20\x20\x20\x20'+'let\x20unpack'+'edB\x20=\x20unpa'+'ck3NFloats'+'(b.w);\x0a\x20\x20\x20'+'\x20let\x20w_out'+('\x20=\x20mix(unp'+'ackedA,\x20un'+'packedB,\x20c'+');\x0a\x20\x20\x20\x20ret'+'urn\x20TexLer'+'pUnpackRes'+'ult(mix(a,'+'\x20b,\x20c),\x20w_'+'out);\x0a}\x0a\x0as'+'truct\x20Rota'+'teResult\x20{'+'\x0a\x20\x20\x20\x20rotat'+'edVec:\x20vec'+'2f,\x0a\x20\x20\x20\x20ma'+'trix:\x20mat2'+'x2f\x0a}\x0a\x0afn\x20'+'rotateWith'+'Matrix(qua'+'dXY:\x20vec2f'+',\x20pRotatio'+'n:\x20f32)\x20->'+'\x20RotateRes'+'ult\x20{\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20co'+'s(pRotatio'+'n);\x0a\x20\x20\x20\x20le'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x20\x20\x20\x20let\x20'+'m\x20=\x20mat2x2'+'f(vec2f(c,'+'\x20s),\x20vec2f'+'(-s,\x20c));\x0a'+'\x20\x20\x20\x20return'+'\x20RotateRes'+'ult(m\x20*\x20qu'+'adXY,\x20m);\x0a'+'}\x0a\x0afn\x20bill'+'board(Inst'+'anceCoords'+':\x20vec3f,\x20q'+'uadXY:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20pos:\x20ve'+'c3f;\x0a\x20\x20\x20\x20#'+'ifdef\x20SCRE'+'EN_SPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pos'+'\x20=\x20vec3f(-'+'1.0,\x200.0,\x20'+'0.0)\x20*\x20qua'+'dXY.x\x20+\x20ve'+'c3f(0.0,\x20-'+'1.0,\x200.0)\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20custom'+'Face(Insta'+'nceCoords:'+'\x20vec3f,\x20qu'+'adXY:\x20vec2'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20pos\x20=\x20un'+'iform.face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20uniform.f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20safeNo'+'rmalize(v:'+'\x20vec2f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20let\x20l\x20='+'\x20length(v)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20select('+'v,\x20v\x20/\x20l,\x20'+'l\x20>\x201e-06)'+';\x0a}\x0a\x0a@vert'+'ex\x0afn\x20vert'+'exMain(inp')+('ut:\x20Vertex'+'Input)\x20->\x20'+'VertexOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20meshLo'+'calPos_in\x20'+'=\x20input.pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20id\x20=\x20floo'+'r(input.pa'+'rticle_ver'+'texData.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20rndFactor'+'\x20=\x20fract(s'+'in(id\x20+\x201.'+'0\x20+\x20unifor'+'m.seed));\x0a'+'\x20\x20\x20\x20let\x20rn'+'dFactor3\x20='+'\x20vec3f(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20let\x20uv\x20=\x20'+'id\x20/\x20unifo'+'rm.numPart'+'iclesPot;\x0a'+'\x20\x20\x20\x20readIn'+'put(uv);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20model'+'Rotation\x20='+'\x20mat3x3f(u'+'niform.mat'+'rix_model['+'0].xyz,\x20un'+'iform.matr'+'ix_model[1'+'].xyz,\x20uni'+'form.matri'+'x_model[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20inVel'+'\x20=\x20modelRo'+'tation\x20*\x20i'+'nVel;\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20let\x20viewR'+'otation\x20=\x20'+'mat3x3f(un'+'iform.matr'+'ix_view[0]'+'.xyz,\x20unif'+'orm.matrix'+'_view[1].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[2].xyz'+');\x0a\x20\x20\x20\x20let'+'\x20velocityV'+'\x20=\x20safeNor'+'malize((vi'+'ewRotation'+'\x20*\x20inVel).'+'xy);\x0a\x0a\x20\x20\x20\x20'+'let\x20partic'+'leLifetime'+'\x20=\x20uniform'+'.lifetime;'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'meshLocalP'+'os\x20=\x20meshL'+'ocalPos_in'+';\x0a\x20\x20\x20\x20if\x20('+'inLife\x20<=\x20'+'0.0\x20||\x20inL'+'ife\x20>\x20part'+'icleLifeti'+'me\x20||\x20!inS'+'how)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mesh'+'LocalPos\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20let\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20let'+'\x20nlife\x20=\x20c')+('lamp(inLif'+'e\x20/\x20partic'+'leLifetime'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20lerp_res'+'ult\x20=\x20tex1'+'Dlod_lerp_'+'unpack(int'+'ernalTex2,'+'\x20internalT'+'ex2Sampler'+',\x20vec2f(nl'+'ife,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'params\x20=\x20l'+'erp_result'+'.result;\x0a\x20'+'\x20\x20\x20let\x20par'+'amDiv\x20=\x20le'+'rp_result.'+'unpacked;\x0a'+'\x0a\x20\x20\x20\x20var\x20s'+'cale\x20=\x20par'+'ams.y;\x0a\x20\x20\x20'+'\x20let\x20scale'+'Div\x20=\x20para'+'mDiv.x;\x0a\x20\x20'+'\x20\x20let\x20alph'+'aDiv\x20=\x20par'+'amDiv.z;\x0a\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20scale\x20+\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20unifo'+'rm.scaleDi'+'vMult\x20*\x20fr'+'act(rndFac'+'tor*10000.'+'0);\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.texCoords'+'AlphaLife\x20'+'=\x20vec4f(qu'+'adXY\x20*\x20-0.'+'5\x20+\x200.5,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20unifor'+'m.alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife\x20=\x20vec4'+'f(particle'+'_uv,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'uniform.al'+'phaDivMult'+'\x20*\x20fract(r'+'ndFactor*1'+'000.0),\x20nl'+'ife);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20var\x20part'+'iclePos\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20var\x20parti'+'clePosMove'+'d\x20=\x20vec3f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20var\x20rotMa'+'trix:\x20mat2'+'x2f;\x0a'),j3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20min('+'floor(inpu'+'t.texCoord'+'sAlphaLife'+'.w\x20*\x20unifo'+'rm.animTex'+'Params.y)\x20'+'+\x20uniform.'+'animTexPar'+'ams.x,\x20uni'+'form.animT'+'exParams.z'+');\x0a',Y3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20floo'+'r((output.'+'texCoordsA'+'lphaLife.w'+'\x20*\x20uniform'+'.animTexPa'+'rams.y\x20+\x20u'+'niform.ani'+'mTexParams'+'.x)\x20%\x20(uni'+'form.animT'+'exParams.z'+'\x20+\x201.0));\x20'+'\x20\x20\x20\x0a',K3='\x0a\x20\x20\x20\x20var\x20a'+'nimationIn'+'dex:\x20f32;\x0a'+'\x0a\x20\x20\x20\x20if\x20(u'+'niform.ani'+'mTexIndexP'+'arams.y\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20floor(('+'uniform.an'+'imTexParam'+'s.w\x20+\x201.0)'+'\x20*\x20rndFact'+'or3.z)\x20*\x20('+'uniform.an'+'imTexParam'+'s.z\x20+\x201.0)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20animati'+'onIndex\x20=\x20'+'uniform.an'+'imTexIndex'+'Params.x\x20*'+'\x20(uniform.'+'animTexPar'+'ams.z\x20+\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20var\x20a'+'tlasX:\x20f32'+'\x20=\x20(animat'+'ionIndex\x20+'+'\x20animFrame'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20atlasY:\x20'+'f32\x20=\x201.0\x20'+'-\x20floor(at'+'lasX\x20+\x201.0'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.y;\x0a\x20\x20\x20\x20at'+'lasX\x20=\x20fra'+'ct(atlasX)'+';\x20//\x20Reass'+'ign\x20atlasX'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'current_tc'+'al_xy\x20=\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.xy;\x0a\x20\x20'+'\x20\x20let\x20scal'+'ed_tcal_xy'+'\x20=\x20current'+'_tcal_xy\x20*'+'\x20uniform.a'+'nimTexTile'+'sParams.xy'+';\x0a\x20\x20\x20\x20let\x20'+'final_tcal'+'_xy\x20=\x20scal'+'ed_tcal_xy'+'\x20+\x20vec2f(a'+'tlasX,\x20atl'+'asY);\x0a\x20\x20\x20\x20'+'output.tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4f(final_'+'tcal_xy,\x20o'+'utput.texC'+'oordsAlpha'+'Life.z,\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.w);\x0a',Z3='\x0afn\x20readIn'+'put(uv:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex:\x20ve'+'c4f\x20=\x20text'+'ureSampleL'+'evel(parti'+'cleTexIN,\x20'+'particleTe'+'xINSampler'+',\x20vec2f(uv'+',\x200.25),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex2:\x20v'+'ec4f\x20=\x20tex'+'tureSample'+'Level(part'+'icleTexIN,'+'\x20particleT'+'exINSample'+'r,\x20vec2f(u'+'v,\x200.75),\x20'+'0.0);\x0a\x0a\x20\x20\x20'+'\x20inPos\x20=\x20t'+'ex.xyz;\x0a\x20\x20'+'\x20\x20inVel\x20=\x20'+'tex2.xyz;\x0a'+'\x20\x20\x20\x20inAngl'+'e\x20=\x20abs(te'+'x.w)\x20-\x20100'+'0.0;\x0a\x20\x20\x20\x20i'+'nShow\x20=\x20te'+'x.w\x20>=\x200.0'+';\x0a\x20\x20\x20\x20inLi'+'fe\x20=\x20tex2.'+'w;\x0a}\x0a',Q3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0ac'+'onst\x20PI2:\x20'+'f32\x20=\x206.28'+'3185307179'+'586;\x0a\x0aunif'+'orm\x20inBoun'+'dsSize:\x20ve'+'c3f;\x0aunifo'+'rm\x20inBound'+'sCenter:\x20v'+'ec3f;\x0a\x0auni'+'form\x20maxVe'+'l:\x20f32;\x0a\x0af'+'n\x20decodeFl'+'oatRG(rg:\x20'+'vec2f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20rg.'+'y\x20*\x20(1.0\x20/'+'\x20255.0)\x20+\x20'+'rg.x;\x0a}\x0a\x0af'+'n\x20decodeFl'+'oatRGBA(\x20r'+'gba:\x20vec4f'+'\x20)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(rgb'+'a,\x20vec4f(1'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x2065025.0'+',\x201.0\x20/\x2016'+'0581375.0)'+');\x0a}\x0a\x0afn\x20r'+'eadInput(u'+'v:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20let\x20te'+'x0\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.125),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex1\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.37'+'5),\x200.0);\x0a'+'\x20\x20\x20\x20let\x20te'+'x2\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.625),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex3\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.87'+'5),\x200.0);\x0a'+'\x0a\x20\x20\x20\x20inPos'+'\x20=\x20vec3f(d'+'ecodeFloat'+'RG(tex0.rg'+'),\x20decodeF'+'loatRG(tex'+'0.ba),\x20dec'+'odeFloatRG'+'(tex1.rg))'+';\x0a\x20\x20\x20\x20inPo'+'s\x20=\x20(inPos'+'\x20-\x20vec3f(0'+'.5))\x20*\x20uni'+'form.inBou'+'ndsSize\x20+\x20'+'uniform.in'+'BoundsCent'+'er;\x0a\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inVel\x20=\x20('+('inVel\x20-\x20ve'+'c3f(0.5))\x20'+'*\x20uniform.'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20let\x20l'+'ife_decode'+'d\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20let\x20maxNe'+'gLife\x20=\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20(uniform.'+'rate\x20+\x20uni'+'form.rateD'+'iv));\x0a\x20\x20\x20\x20'+'let\x20maxPos'+'Life\x20=\x20uni'+'form.lifet'+'ime\x20+\x201.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20life_d'+'ecoded\x20*\x20('+'maxNegLife'+'\x20+\x20maxPosL'+'ife)\x20-\x20max'+'NegLife;\x0a}'),J3='\x0afn\x20getOut'+'put()\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20if\x20(pcPos'+'ition.y\x20<\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4f(ou'+'tPos,\x20(out'+'Angle\x20+\x2010'+'00.0)\x20*\x20vi'+'sMode);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(outVel,\x20'+'outLife);\x0a'+'\x20\x20\x20\x20}\x0a}\x0a',eO='\x0auniform\x20o'+'utBoundsMu'+'l:\x20vec3f;\x0a'+'uniform\x20ou'+'tBoundsAdd'+':\x20vec3f;\x0a\x0a'+'fn\x20encodeF'+'loatRG(\x20v:'+'\x20f32\x20)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20var\x20enc:'+'\x20vec2f\x20=\x20v'+'ec2f(1.0,\x20'+'255.0)\x20*\x20v'+';\x0a\x20\x20\x20\x20enc\x20'+'=\x20fract(en'+'c);\x0a\x20\x20\x20\x20en'+'c\x20=\x20enc\x20-\x20'+'enc.yy\x20*\x20('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20enc;\x0a'+'}\x0a\x0afn\x20enco'+'deFloatRGB'+'A(\x20v:\x20f32\x20'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20factors\x20='+'\x20vec4f(1.0'+',\x20255.0,\x206'+'5025.0,\x2016'+'0581375.0)'+';\x0a\x20\x20\x20\x20var\x20'+'enc:\x20vec4f'+'\x20=\x20factors'+'\x20*\x20v;\x0a\x20\x20\x20\x20'+'enc\x20=\x20frac'+'t(enc);\x0a\x20\x20'+'\x20\x20enc\x20=\x20en'+'c\x20-\x20enc.yz'+'ww\x20*\x20vec4f'+'(1.0\x20/\x20255'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x20255.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'return\x20enc'+';\x0a}\x0a\x0afn\x20ge'+'tOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20outPo'+'s\x20=\x20outPos'+'\x20*\x20uniform'+'.outBounds'+'Mul\x20+\x20unif'+'orm.outBou'+'ndsAdd;\x0a\x20\x20'+'\x20\x20outAngle'+'\x20=\x20fract(o'+'utAngle\x20/\x20'+'PI2);\x0a\x0a\x20\x20\x20'+'\x20outVel\x20=\x20'+'(outVel\x20/\x20'+'uniform.ma'+'xVel)\x20+\x20ve'+'c3f(0.5);\x20'+'//\x20TODO:\x20m'+'ul\x0a\x0a\x20\x20\x20\x20le'+'t\x20maxNegLi'+'fe\x20=\x20max(u'+'niform.lif'+'etime,\x20(un'+'iform.numP'+'articles\x20-'+'\x201.0)\x20*\x20(u'+'niform.rat'+'e\x20+\x20unifor'+'m.rateDiv)'+');\x0a\x20\x20\x20\x20let'+'\x20maxPosLif'+'e\x20=\x20unifor'+'m.lifetime'+'\x20+\x201.0;\x0a\x20\x20'+'\x20\x20outLife\x20'+'=\x20(outLife'+'\x20+\x20maxNegL'+'ife)\x20/\x20(ma'+'xNegLife\x20+'+'\x20maxPosLif'+'e);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(pcPosit'+'ion.y\x20<\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'vec4f(enco'+'deFloatRG('+'outPos.x),'+'\x20encodeFlo'+'atRG(outPo'+'s.y));\x0a\x20\x20\x20'+('\x20}\x20else\x20if'+'\x20(pcPositi'+'on.y\x20<\x202.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(encod'+'eFloatRG(o'+'utPos.z),\x20'+'encodeFloa'+'tRG(outAng'+'le));\x0a\x20\x20\x20\x20'+'}\x20else\x20if\x20'+'(pcPositio'+'n.y\x20<\x203.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(outVel'+',\x20visMode\x20'+'*\x200.5\x20+\x200.'+'5);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20encodeFl'+'oatRGBA(ou'+'tLife);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),tO='\x0auniform\x20s'+'pawnBounds'+':\x20mat3x3f;'+'\x0auniform\x20s'+'pawnPosInn'+'erRatio:\x20v'+'ec3f;\x0a\x0afn\x20'+'calcSpawnP'+'osition(in'+'Bounds:\x20ve'+'c3f,\x20rndFa'+'ctor:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'pos\x20=\x20inBo'+'unds\x20-\x20vec'+'3f(0.5);\x0a\x0a'+'\x20\x20\x20\x20let\x20po'+'sAbs\x20=\x20abs'+'(pos);\x0a\x20\x20\x20'+'\x20let\x20maxCo'+'mp\x20=\x20max(p'+'osAbs.x,\x20m'+'ax(posAbs.'+'y,\x20posAbs.'+'z));\x0a\x20\x20\x20\x20l'+'et\x20maxPos\x20'+'=\x20vec3f(ma'+'xComp);\x0a\x0a\x20'+'\x20\x20\x20let\x20edg'+'e\x20=\x20maxPos'+'\x20+\x20(vec3f('+'0.5)\x20-\x20max'+'Pos)\x20*\x20uni'+'form.spawn'+'PosInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'pos.x\x20=\x20ed'+'ge.x\x20*\x20sel'+'ect(2.0\x20*\x20'+'pos.x,\x20sig'+'n(pos.x),\x20'+'maxPos.x\x20='+'=\x20posAbs.x'+');\x0a\x20\x20\x20\x20pos'+'.y\x20=\x20edge.'+'y\x20*\x20select'+'(2.0\x20*\x20pos'+'.y,\x20sign(p'+'os.y),\x20max'+'Pos.y\x20==\x20p'+'osAbs.y);\x0a'+'\x20\x20\x20\x20pos.z\x20'+'=\x20edge.z\x20*'+'\x20select(2.'+'0\x20*\x20pos.z,'+'\x20sign(pos.'+'z),\x20maxPos'+'.z\x20==\x20posA'+'bs.z);\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20uni'+'form.emitt'+'erPos\x20+\x20un'+'iform.spaw'+'nBounds\x20*\x20'+'pos;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uniform.sp'+'awnBounds\x20'+'*\x20pos;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20*localV'+'elocity\x20=\x20'+'*localVelo'+'city\x20-\x20vec'+'3f(0.0,\x200.'+'0,\x20uniform'+'.initialVe'+'locity);\x0a}'+'\x0a',sO='\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'getOutput('+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',iO='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20par'+'ticleTexIN'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20particl'+'eTexINSamp'+'ler:\x20sampl'+'er;\x0avar\x20in'+'ternalTex0'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0avar\x20int'+'ernalTex1:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20internal'+'Tex1Sample'+'r:\x20sampler'+';\x0avar\x20inte'+'rnalTex2:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20internalT'+'ex2Sampler'+':\x20sampler;'+'\x0avar\x20inter'+'nalTex3:\x20t'+'exture_2d<'+'f32>;\x0avar\x20'+'internalTe'+'x3Sampler:'+'\x20sampler;\x0a'+'\x0auniform\x20e'+'mitterMatr'+'ix:\x20mat3x3'+'f;\x0auniform'+'\x20emitterMa'+'trixInv:\x20m'+'at3x3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0a\x0aun'+'iform\x20emit'+'terPos:\x20ve'+'c3f;\x0aunifo'+'rm\x20frameRa'+'ndom:\x20vec3'+'f;\x0auniform'+'\x20localVelo'+'cityDivMul'+'t:\x20vec3f;\x0a'+'uniform\x20ve'+'locityDivM'+'ult:\x20vec3f'+';\x0auniform\x20'+'delta:\x20f32'+';\x0auniform\x20'+'rate:\x20f32;'+'\x0auniform\x20r'+'ateDiv:\x20f3'+'2;\x0auniform'+'\x20lifetime:'+'\x20f32;\x0aunif'+'orm\x20numPar'+'ticles:\x20f3'+'2;\x0auniform'+'\x20rotSpeedD'+'ivMult:\x20f3'+'2;\x0auniform'+'\x20radialSpe'+'edDivMult:'+'\x20f32;\x0aunif'+'orm\x20seed:\x20'+'f32;\x0aunifo'+'rm\x20startAn'+'gle:\x20f32;\x0a'+'uniform\x20st'+'artAngle2:'+'\x20f32;\x0aunif'+'orm\x20initia'+'lVelocity:'+'\x20f32;\x0a\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0a\x0ava'+'r<private>'+'\x20inPos:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20in'+'Vel:\x20vec3f'+';\x0avar<priv'+'ate>\x20inAng'+('le:\x20f32;\x0av'+'ar<private'+'>\x20inShow:\x20'+'bool;\x0avar<'+'private>\x20i'+'nLife:\x20f32'+';\x0avar<priv'+'ate>\x20visMo'+'de:\x20f32;\x0a\x0a'+'var<privat'+'e>\x20outPos:'+'\x20vec3f;\x0ava'+'r<private>'+'\x20outVel:\x20v'+'ec3f;\x0avar<'+'private>\x20o'+'utAngle:\x20f'+'32;\x0avar<pr'+'ivate>\x20out'+'Show:\x20bool'+';\x0avar<priv'+'ate>\x20outLi'+'fe:\x20f32;\x0a'),rO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tLife\x20=\x20ou'+'tLife\x20-\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20particleR'+'ate);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20visMod'+'e\x20=\x20-1.0;\x0a'+'\x20\x20\x20\x20}\x0a',aO='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20selec'+'t(visMode,'+'\x20-1.0,\x20out'+'Life\x20<\x200.0'+');\x0a',nO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20subtract'+'Amount\x20=\x20m'+'ax(uniform'+'.lifetime,'+'\x20(uniform.'+'numParticl'+'es\x20-\x201.0)\x20'+'*\x20particle'+'Rate);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outLi'+'fe\x20=\x20outLi'+'fe\x20-\x20subtr'+'actAmount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'isMode\x20=\x201'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20visMod'+'e\x20=\x20select'+'(visMode,\x20'+'1.0,\x20outLi'+'fe\x20<\x200.0);'+'\x0a',oO='\x0auniform\x20s'+'pawnBounds'+'Sphere:\x20f3'+'2;\x0auniform'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio:\x20'+'f32;\x0a\x0afn\x20c'+'alcSpawnPo'+'sition(inB'+'ounds:\x20vec'+'3f,\x20rndFac'+'tor:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'nd4:\x20f32\x20='+'\x20fract(rnd'+'Factor\x20*\x201'+'000.0);\x0a\x20\x20'+'\x20\x20let\x20norm'+':\x20vec3f\x20=\x20'+'normalize('+'inBounds.x'+'yz\x20-\x20vec3f'+'(0.5));\x0a\x20\x20'+'\x20\x20let\x20r:\x20f'+'32\x20=\x20rnd4\x20'+'*\x20(1.0\x20-\x20u'+'niform.spa'+'wnBoundsSp'+'hereInnerR'+'atio)\x20+\x20un'+'iform.spaw'+'nBoundsSph'+'ereInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20unifo'+'rm.emitter'+'Pos\x20+\x20norm'+'\x20*\x20r\x20*\x20uni'+'form.spawn'+'BoundsSphe'+'re;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20n'+'orm\x20*\x20r\x20*\x20'+'uniform.sp'+'awnBoundsS'+'phere;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20ini'+'tialVelOff'+'set:\x20vec3f'+'\x20=\x20normali'+'ze(inBound'+'s\x20-\x20vec3f('+'0.5))\x20*\x20un'+'iform.init'+'ialVelocit'+'y;\x0a\x20\x20\x20\x20*lo'+'calVelocit'+'y\x20=\x20*local'+'Velocity\x20+'+'\x20initialVe'+'lOffset;\x0a}'+'\x0a',lO='\x0afn\x20satura'+'te(x:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0afn\x20unp'+'ack3NFloat'+'s(src:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20r\x20=\x20fract'+'(src);\x0a\x20\x20\x20'+'\x20let\x20g\x20=\x20f'+'ract(src\x20*'+'\x20256.0);\x0a\x20'+'\x20\x20\x20let\x20b\x20='+'\x20fract(src'+'\x20*\x2065536.0'+');\x0a\x20\x20\x20\x20ret'+'urn\x20vec3f('+'r,\x20g,\x20b);\x0a'+'}\x0a\x0a//\x20Stru'+'ct\x20to\x20hand'+'le\x20multipl'+'e\x20return\x20v'+'alues\x20from'+'\x20tex1Dlod_'+'lerp\x0astruc'+'t\x20TexLerpU'+'npackResul'+'t\x20{\x0a\x20\x20\x20\x20re'+'sult:\x20vec3'+'f,\x0a\x20\x20\x20\x20unp'+'acked:\x20vec'+'3f\x0a}\x0a\x0afn\x20t'+'ex1Dlod_le'+'rp(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20tc:\x20'+'vec2f)\x20->\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'tc_next\x20=\x20'+'tc\x20+\x20vec2f'+'(uniform.g'+'raphSample'+'Size);\x0a\x20\x20\x20'+'\x20let\x20a\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20tc,\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20tc_next'+',\x200.0);\x0a\x20\x20'+'\x20\x20let\x20c\x20=\x20'+'fract(tc.x'+'\x20*\x20uniform'+'.graphNumS'+'amples);\x0a\x0a'+'\x20\x20\x20\x20let\x20un'+'packedA\x20=\x20'+'unpack3NFl'+'oats(a.w);'+'\x0a\x20\x20\x20\x20let\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20let\x20'+'w_out\x20=\x20mi'+'x(unpacked'+'A,\x20unpacke'+'dB,\x20c);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'TexLerpUnp'+'ackResult('+'mix(a.xyz,'+'\x20b.xyz,\x20c)'+',\x20w_out);\x0a'+'}\x0a\x0aconst\x20H'+'ASHSCALE4:'+'\x20vec4f\x20=\x20v'+'ec4f(1031.'+'0,\x200.1030,'+'\x200.0973,\x200'+'.1099);\x0afn'+'\x20hash41(p:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20var\x20p4\x20=\x20'+'fract(vec4'+'f(p)\x20*\x20HAS'+('HSCALE4);\x0a'+'\x20\x20\x20\x20p4\x20=\x20p'+'4\x20+\x20dot(p4'+',\x20p4.wzxy\x20'+'+\x2019.19);\x0a'+'\x20\x20\x20\x20return'+'\x20fract(vec'+'4f((p4.x\x20+'+'\x20p4.y)*p4.'+'z,\x20(p4.x\x20+'+'\x20p4.z)*p4.'+'y,\x20(p4.y\x20+'+'\x20p4.z)*p4.'+'w,\x20(p4.z\x20+'+'\x20p4.w)*p4.'+'x));\x0a}\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20if\x20(pc'+'Position.x'+'\x20>\x20uniform'+'.numPartic'+'les)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20re'+'adInput(in'+'put.vUv0.x'+');\x0a\x20\x20\x20\x20vis'+'Mode\x20=\x20sel'+'ect(-1.0,\x20'+'1.0,\x20inSho'+'w);\x0a\x0a\x20\x20\x20\x20l'+'et\x20rndFact'+'or\x20=\x20hash4'+'1(pcPositi'+'on.x\x20+\x20uni'+'form.seed)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20particleR'+'ate\x20=\x20unif'+'orm.rate\x20+'+'\x20uniform.r'+'ateDiv\x20*\x20r'+'ndFactor.x'+';\x0a\x0a\x20\x20\x20\x20out'+'Life\x20=\x20inL'+'ife\x20+\x20unif'+'orm.delta;'+'\x0a\x20\x20\x20\x20let\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20uniform'+'.lifetime,'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t0\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'0,\x20interna'+'lTex0Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20va'+'r\x20localVel'+'ocity\x20=\x20le'+'rpResult0.'+'result;\x0a\x20\x20'+'\x20\x20let\x20loca'+'lVelocityD'+'iv\x20=\x20lerpR'+'esult0.unp'+'acked;\x0a\x0a\x20\x20'+'\x20\x20let\x20lerp'+'Result1\x20=\x20'+'tex1Dlod_l'+'erp(intern'+'alTex1,\x20in'+'ternalTex1'+'Sampler,\x20v'+'ec2f(nlife'+',\x200.0));\x0a\x20'+'\x20\x20\x20var\x20vel'+'ocity\x20=\x20le'+'rpResult1.'+'result;\x0a\x20\x20'+'\x20\x20let\x20velo'+'cityDiv\x20=\x20'+'lerpResult')+('1.unpacked'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t2\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'2,\x20interna'+'lTex2Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20le'+'t\x20params\x20='+'\x20lerpResul'+'t2.result;'+'\x0a\x20\x20\x20\x20let\x20p'+'aramDiv\x20=\x20'+'lerpResult'+'2.unpacked'+';\x0a\x20\x20\x20\x20var\x20'+'rotSpeed\x20='+'\x20params.x;'+'\x0a\x20\x20\x20\x20let\x20r'+'otSpeedDiv'+'\x20=\x20paramDi'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'let\x20lerpRe'+'sult3\x20=\x20te'+'x1Dlod_ler'+'p(internal'+'Tex3,\x20inte'+'rnalTex3Sa'+'mpler,\x20vec'+'2f(nlife,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20let\x20radia'+'lParams\x20=\x20'+'lerpResult'+'3.result;\x0a'+'\x20\x20\x20\x20let\x20ra'+'dialParamD'+'iv\x20=\x20lerpR'+'esult3.unp'+'acked;\x0a\x20\x20\x20'+'\x20let\x20radia'+'lSpeed\x20=\x20r'+'adialParam'+'s.x;\x0a\x20\x20\x20\x20l'+'et\x20radialS'+'peedDiv\x20=\x20'+'radialPara'+'mDiv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20res'+'pawn\x20=\x20inL'+'ife\x20<=\x200.0'+'\x20||\x20outLif'+'e\x20>=\x20unifo'+'rm.lifetim'+'e;\x0a\x20\x20\x20\x20inP'+'os\x20=\x20selec'+'t(inPos,\x20c'+'alcSpawnPo'+'sition(rnd'+'Factor.xyz'+',\x20rndFacto'+'r.x),\x20resp'+'awn);\x0a\x20\x20\x20\x20'+'inAngle\x20=\x20'+'select(inA'+'ngle,\x20mix('+'uniform.st'+'artAngle,\x20'+'uniform.st'+'artAngle2,'+'\x20rndFactor'+'.x),\x20respa'+'wn);\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20radialVe'+'l:\x20vec3f\x20='+'\x20inPos\x20-\x20u'+'niform.emi'+'tterPos;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20radialVel'+':\x20vec3f\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20=\x20select'+'(vec3f(0.0'+'),\x20radialS'+'peed\x20*\x20nor'+'malize(rad'+'ialVel),\x20d'+'ot(radialV'+'el,\x20radial'+'Vel)\x20>\x201.0')+('E-8);\x0a\x20\x20\x20\x20'+'radialVel\x20'+'=\x20radialVe'+'l\x20+\x20(radia'+'lSpeedDiv\x20'+'*\x20vec3f(2.'+'0)\x20-\x20vec3f'+'(1.0))\x20*\x20u'+'niform.rad'+'ialSpeedDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20=\x20localV'+'elocity\x20+\x20'+'(localVelo'+'cityDiv\x20*\x20'+'vec3f(2.0)'+'\x20-\x20vec3f(1'+'.0))\x20*\x20uni'+'form.local'+'VelocityDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x20\x20\x20\x20vel'+'ocity\x20=\x20ve'+'locity\x20+\x20('+'velocityDi'+'v\x20*\x20vec3f('+'2.0)\x20-\x20vec'+'3f(1.0))\x20*'+'\x20uniform.v'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20rotS'+'peed\x20=\x20rot'+'Speed\x20+\x20(r'+'otSpeedDiv'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20unif'+'orm.rotSpe'+'edDivMult\x20'+'*\x20rndFacto'+'r.y;\x0a\x0a\x20\x20\x20\x20'+'addInitial'+'Velocity(&'+'localVeloc'+'ity,\x20rndFa'+'ctor.xyz);'+'\x0a\x0a\x20\x20\x20\x20#ifn'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20outVel'+'\x20=\x20uniform'+'.emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tVel\x20=\x20(lo'+'calVelocit'+'y\x20+\x20radial'+'Vel)\x20/\x20uni'+'form.emitt'+'erScale\x20+\x20'+'uniform.em'+'itterMatri'+'xInv\x20*\x20vel'+'ocity;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20outPos\x20'+'=\x20inPos\x20+\x20'+'outVel\x20*\x20u'+'niform.del'+'ta;\x0a\x20\x20\x20\x20ou'+'tAngle\x20=\x20i'+'nAngle\x20+\x20r'+'otSpeed\x20*\x20'+'uniform.de'+'lta;\x0a'),cO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20rotated'+'QuadXY);\x0a',hO='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20sa'+'turate(gam'+'maCorrectI'+'nput(max(a'+',\x200.0)));\x0a'+'\x20\x20\x20\x20if\x20((r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+')\x20<\x200.0000'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20}\x20\x20'+'\x20\x20\x0a',dO='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3f'+'(1.0),\x20rgb'+',\x20a);\x0a\x20\x20\x20\x20'+'if\x20((rgb.r'+'\x20+\x20rgb.g\x20+'+'\x20rgb.b)\x20>\x20'+'2.99)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a',fO='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20}\x0a',uO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20\x20'+'\x20//\x20XYZ\x20=\x20'+'world\x20pos,'+'\x20W\x20=\x20life\x0a'+'attribute\x20'+'particle_v'+'ertexData2'+':\x20vec4f;\x20\x20'+'//\x20X\x20=\x20ang'+'le,\x20Y\x20=\x20sc'+'ale,\x20Z\x20=\x20a'+'lpha,\x20W\x20=\x20'+'velocity.x'+'\x0aattribute'+'\x20particle_'+'vertexData'+'3:\x20vec4f;\x20'+'\x20//\x20XYZ\x20=\x20'+'particle\x20l'+'ocal\x20pos,\x20'+'W\x20=\x20veloci'+'ty.y\x0aattri'+'bute\x20parti'+'cle_vertex'+'Data4:\x20f32'+';\x20\x20\x20\x20//\x20pa'+'rticle\x20id\x0a'+'\x0a//\x20type\x20d'+'epends\x20on\x20'+'useMesh\x20pr'+'operty.\x20St'+'art\x20with\x20X'+'\x20=\x20velocit'+'y.z,\x20Y\x20=\x20p'+'article\x20ID'+'\x20and\x20for\x20m'+'esh\x20partic'+'les\x20procee'+'ds\x20with\x20Z\x20'+'=\x20mesh\x20UV.'+'x,\x20W\x20=\x20mes'+'h\x20UV.y\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_ver'+'texData5:\x20'+'vec2f;\x0a#el'+'se\x0a\x20\x20\x20\x20att'+'ribute\x20par'+'ticle_vert'+'exData5:\x20v'+'ec4f;\x0a#end'+'if\x0a\x0aunifor'+'m\x20matrix_v'+'iewProject'+'ion:\x20mat4x'+'4f;\x0aunifor'+'m\x20matrix_m'+'odel:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'trix_norma'+'l:\x20mat3x3f'+';\x0auniform\x20'+'matrix_vie'+'wInverse:\x20'+'mat4x4f;\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20lifet'+'ime:\x20f32;\x0a'+'uniform\x20st'+'retch:\x20f32'+';\x0auniform\x20'+'seed:\x20f32;'+'\x0auniform\x20w'+'rapBounds:'+'\x20vec3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0auni'+'form\x20faceT'+'angent:\x20ve'+'c3f;\x0aunifo'+'rm\x20faceBin'+'orm:\x20vec3f'+';\x0a\x0a#ifdef\x20'+('PARTICLE_G'+'PU\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex0:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x0Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex1'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex1S'+'ampler:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20var\x20inter'+'nalTex2:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex2Samp'+'ler:\x20sampl'+'er;\x0a#endif'+'\x0auniform\x20e'+'mitterPos:'+'\x20vec3f;\x0a\x0av'+'arying\x20tex'+'CoordsAlph'+'aLife:\x20vec'+'4f;\x0a\x0astruc'+'t\x20RotateRe'+'sult\x20{\x0a\x20\x20\x20'+'\x20rotatedVe'+'c:\x20vec2f,\x0a'+'\x20\x20\x20\x20matrix'+':\x20mat2x2f\x0a'+'}\x0a\x0afn\x20rota'+'teWithMatr'+'ix(quadXY:'+'\x20vec2f,\x20pR'+'otation:\x20f'+'32)\x20->\x20Rot'+'ateResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'c\x20=\x20cos(pR'+'otation);\x0a'+'\x20\x20\x20\x20let\x20s\x20'+'=\x20sin(pRot'+'ation);\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'mat2x2f(ve'+'c2f(c,\x20s),'+'\x20vec2f(-s,'+'\x20c));\x0a\x20\x20\x20\x20'+'return\x20Rot'+'ateResult('+'m\x20*\x20quadXY'+',\x20m);\x0a}\x0a\x0a\x0a'+'fn\x20billboa'+'rd(Instanc'+'eCoords:\x20v'+'ec3f,\x20quad'+'XY:\x20vec2f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20customF'+'ace(Instan'+'ceCoords:\x20'+'vec3f,\x20qua'+'dXY:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20pos\x20=\x20uni'+'form.faceT'+'angent\x20*\x20q'+'uadXY.x\x20+\x20'+'uniform.fa'+'ceBinorm\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20safeNor'+'malize(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20l\x20=\x20')+('length(v);'+'\x0a\x20\x20\x20\x20retur'+'n\x20select(v'+',\x20v\x20/\x20l,\x20l'+'\x20>\x201e-06);'+'\x0a}\x0a\x0a@verte'+'x\x0afn\x20verte'+'xMain(inpu'+'t:\x20VertexI'+'nput)\x20->\x20V'+'ertexOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'VertexOutp'+'ut;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20particl'+'ePos\x20=\x20inp'+'ut.particl'+'e_vertexDa'+'ta.xyz;\x0a\x20\x20'+'\x20\x20let\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20let\x20vertP'+'os\x20=\x20input'+'.particle_'+'vertexData'+'3.xyz;\x0a\x20\x20\x20'+'\x20var\x20inVel'+'\x20=\x20vec3f(i'+'nput.parti'+'cle_vertex'+'Data2.w,\x20i'+'nput.parti'+'cle_vertex'+'Data3.w,\x20i'+'nput.parti'+'cle_vertex'+'Data5.x);\x0a'+'\x0a\x20\x20\x20\x20let\x20i'+'d\x20=\x20floor('+'input.part'+'icle_verte'+'xData4);\x0a\x20'+'\x20\x20\x20let\x20rnd'+'Factor\x20=\x20f'+'ract(sin(i'+'d\x20+\x201.0\x20+\x20'+'uniform.se'+'ed));\x0a\x20\x20\x20\x20'+'let\x20rndFac'+'tor3\x20=\x20vec'+'3f(rndFact'+'or,\x20fract('+'rndFactor*'+'10.0),\x20fra'+'ct(rndFact'+'or*100.0))'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20mo'+'delRotatio'+'n\x20=\x20mat3x3'+'f(uniform.'+'matrix_mod'+'el[0].xyz,'+'\x20uniform.m'+'atrix_mode'+'l[1].xyz,\x20'+'uniform.ma'+'trix_model'+'[2].xyz);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'Vel\x20=\x20mode'+'lRotation\x20'+'*\x20inVel;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20let\x20ve'+'locityV\x20=\x20'+'safeNormal'+'ize((mat3x'+'3f(uniform'+'.matrix_vi'+'ew[0].xyz,'+'\x20uniform.m'+'atrix_view'+'[1].xyz,\x20u'+'niform.mat'+'rix_view[2'+'].xyz)\x20*\x20i'+'nVel).xy);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'quadXY\x20=\x20v'+'ertPos.xy;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20USE_MES'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.tex'+'CoordsAlph')+('aLife\x20=\x20ve'+'c4f(input.'+'particle_v'+'ertexData5'+'.zw,\x20input'+'.particle_'+'vertexData'+'2.z,\x20input'+'.particle_'+'vertexData'+'.w);\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'texCoordsA'+'lphaLife\x20='+'\x20vec4f(qua'+'dXY\x20*\x20-0.5'+'\x20+\x200.5,\x20in'+'put.partic'+'le_vertexD'+'ata2.z,\x20in'+'put.partic'+'le_vertexD'+'ata.w);\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20var\x20rot'+'Matrix:\x20ma'+'t2x2f;\x0a\x0a\x20\x20'+'\x20\x20var\x20inAn'+'gle\x20=\x20inpu'+'t.particle'+'_vertexDat'+'a2.x;\x0a\x20\x20\x20\x20'+'var\x20partic'+'lePosMoved'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20meshLoc'+'alPos\x20=\x20in'+'put.partic'+'le_vertexD'+'ata3.xyz;\x0a'),pO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20inp'+'ut.particl'+'e_vertexDa'+'ta2.y\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20localP'+'os\x20=\x20local'+'Pos\x20+\x20part'+'iclePos;\x0a\x0a'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20vec4f('+'localPos,\x20'+'1.0);\x0a',mO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20rotate'+'dQuadXY);\x0a',_O='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(rg'+'b,\x20a);\x0a\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a}\x0a',gO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20sca'+'le\x20*\x20unifo'+'rm.emitter'+'Scale;\x0a\x20\x20\x20'+'\x20localPos\x20'+'=\x20localPos'+'\x20+\x20particl'+'ePos;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'REEN_SPACE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(localPo'+'s.x,\x20local'+'Pos.y,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_v'+'iewProject'+'ion\x20*\x20vec4'+'f(localPos'+'.xyz,\x201.0)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a',SO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20no'+'rmal\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20var\x20posN'+'ormal:\x20vec'+'3f\x20=\x20-norm'+'al\x20*\x200.5\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'=\x20negNorma'+'l\x20*\x20negNor'+'mal;\x0a\x20\x20\x20\x20p'+'osNormal\x20='+'\x20posNormal'+'\x20*\x20posNorm'+'al;\x0a',yO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20/'+'/\x20XYZ\x20=\x20pa'+'rticle\x20pos'+'ition,\x20W\x20='+'\x20particle\x20'+'ID\x20+\x20rando'+'m\x20factor\x0a#'+'if\x20defined'+'(USE_MESH)'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(USE'+'_MESH_UV)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_uv:'+'\x20vec2f;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'esh\x20UV\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20pa'+'rticle_uv:'+'\x20vec2f\x20=\x20v'+'ec2f(0.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0aunifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0aunif'+'orm\x20matrix'+'_normal:\x20m'+'at3x3f;\x0aun'+'iform\x20matr'+'ix_viewInv'+'erse:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20numPa'+'rticlesPot'+':\x20f32;\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0auni'+'form\x20stret'+'ch:\x20f32;\x0au'+'niform\x20wra'+'pBounds:\x20v'+'ec3f;\x0aunif'+'orm\x20emitte'+'rScale:\x20ve'+'c3f;\x0aunifo'+'rm\x20emitter'+'Pos:\x20vec3f'+';\x0auniform\x20'+'faceTangen'+'t:\x20vec3f;\x0a'+'uniform\x20fa'+'ceBinorm:\x20'+'vec3f;\x0auni'+'form\x20rate:'+'\x20f32;\x0aunif'+'orm\x20rateDi'+'v:\x20f32;\x0aun'+'iform\x20life'+'time:\x20f32;'+'\x0auniform\x20d'+'eltaRandom'+'nessStatic'+':\x20f32;\x0auni'+'form\x20scale'+'DivMult:\x20f'+'32;\x0aunifor'+'m\x20alphaDiv'+'Mult:\x20f32;'+'\x0auniform\x20s'+'eed:\x20f32;\x0a'+'uniform\x20de'+'lta:\x20f32;\x0a'+'\x0avar\x20parti'+('cleTexOUT:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20particle'+'TexOUTSamp'+'ler:\x20sampl'+'er;\x0avar\x20pa'+'rticleTexI'+'N:\x20texture'+'_2d<f32>;\x0a'+'var\x20partic'+'leTexINSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex0:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex1:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x1Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex2'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex2S'+'ampler:\x20sa'+'mpler;\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0avarying'+'\x20texCoords'+'AlphaLife:'+'\x20vec4f;\x0a\x0av'+'ar<private'+'>\x20inPos:\x20v'+'ec3f;\x0avar<'+'private>\x20i'+'nVel:\x20vec3'+'f;\x0avar<pri'+'vate>\x20inAn'+'gle:\x20f32;\x0a'+'var<privat'+'e>\x20inShow:'+'\x20bool;\x0avar'+'<private>\x20'+'inLife:\x20f3'+'2;\x0a'),vO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20ma'+'x(normal,\x20'+'vec3(0.0))'+';\x0a\x20\x20\x20\x20var\x20'+'posNormal:'+'\x20vec3f\x20=\x20m'+'ax(-normal'+',\x20vec3(0.0'+'));\x0a',xO='\x0a\x20\x20\x20\x20let\x20l'+'ight:\x20vec3'+'f\x20=\x20negNor'+'mal.x\x20*\x20un'+'iform.ligh'+'tCube[0]\x20+'+'\x20posNormal'+'.x\x20*\x20unifo'+'rm.lightCu'+'be[1]\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20negNormal'+'.y\x20*\x20unifo'+'rm.lightCu'+'be[2]\x20+\x20po'+'sNormal.y\x20'+'*\x20uniform.'+'lightCube['+'3]\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ne'+'gNormal.z\x20'+'*\x20uniform.'+'lightCube['+'4]\x20+\x20posNo'+'rmal.z\x20*\x20u'+'niform.lig'+'htCube[5];'+'\x0a\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20li'+'ght;\x0a',TO='\x0aparticleP'+'os\x20=\x20(unif'+'orm.matrix'+'_model\x20*\x20v'+'ec4f(parti'+'clePos,\x201.'+'0)).xyz;\x0a',wO='\x0avar\x20local'+'Pos\x20=\x20mesh'+'LocalPos;\x0a'+'let\x20rotRes'+'ultXY\x20=\x20ro'+'tateWithMa'+'trix(local'+'Pos.xy,\x20in'+'Angle);\x0alo'+'calPos\x20=\x20v'+'ec3f(rotRe'+'sultXY.rot'+'atedVec,\x20l'+'ocalPos.z)'+';\x0arotMatri'+'x\x20=\x20rotRes'+'ultXY.matr'+'ix;\x0a\x0alet\x20r'+'otResultYZ'+'\x20=\x20rotateW'+'ithMatrix('+'localPos.y'+'z,\x20inAngle'+');\x0alocalPo'+'s\x20=\x20vec3f('+'localPos.x'+',\x20rotResul'+'tYZ.rotate'+'dVec);\x0arot'+'Matrix\x20=\x20r'+'otResultYZ'+'.matrix;\x0a\x0a'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',EO='\x0aoutput.No'+'rmal\x20=\x20nor'+'malize(loc'+'alPos\x20+\x20un'+'iform.matr'+'ix_viewInv'+'erse[2].xy'+'z);\x0a',bO='\x0a\x20\x20\x20\x20let\x20s'+'ampledNorm'+'al:\x20vec4f\x20'+'=\x20textureS'+'ample(norm'+'alMap,\x20nor'+'malMapSamp'+'ler,\x20vec2f'+'(input.tex'+'CoordsAlph'+'aLife.x,\x201'+'.0\x20-\x20input'+'.texCoords'+'AlphaLife.'+'y));\x0a\x20\x20\x20\x20l'+'et\x20normalM'+'ap:\x20vec3f\x20'+'=\x20normaliz'+'e(sampledN'+'ormal.xyz\x20'+'*\x202.0\x20-\x201.'+'0);\x0a\x0a\x20\x20\x20\x20l'+'et\x20Particl'+'eMat\x20=\x20mat'+'3x3<f32>(P'+'articleMat'+'0,\x20Particl'+'eMat1,\x20Par'+'ticleMat2)'+';\x0a\x20\x20\x20\x20let\x20'+'normal:\x20ve'+'c3f\x20=\x20Part'+'icleMat\x20*\x20'+'normalMap;'+'\x0a',AO='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan2(veloc'+'ityV.x,\x20ve'+'locityV.y)'+';\x0a',CO='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',PO='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20Normal:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20varying\x20'+'ParticleMa'+'t0:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Particle'+'Mat2:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'Cube:\x20arra'+'y<vec3f,\x206'+'>;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vDe'+'pth:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sc'+'reenDepthP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22fogPS\x22\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'ap:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'apSampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'iclePS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'VERTEX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'ormal:\x20vec'+'3f\x20=\x20Norma'+'l;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20MAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_normal'+'MapPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20!=\x20NON'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20HAL'+'F_LAMBERT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_halflambe'+'rtPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_lambertPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+('#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_light'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20BLE'+'ND\x20==\x20NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendNorma'+'lPS\x22\x0a\x20\x20\x20\x20#'+'elif\x20BLEND'+'\x20==\x20ADDITI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendAddPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+'\x20MULTIPLIC'+'ATIVE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_blendMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_endPS'+'\x22\x0a'),MO='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20anim'+'TexTilesPa'+'rams:\x20vec2'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20a'+'nimTexPara'+'ms:\x20vec4f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20ani'+'mTexIndexP'+'arams:\x20vec'+'2f;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20Partic'+'leMat0:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20Pa'+'rticleMat2'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20==\x20V'+'ERTEX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Normal:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vDepth:\x20f'+'32;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_in'+'itVS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20PACK8\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleIn'+'putRgba8PS'+'\x22\x20\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x20\x22parti'+'cleInputFl'+'oatPS\x22\x20\x20\x20\x20'+'//\x20why\x20are'+'\x20these\x20PS\x20'+'and\x20not\x20VS'+'?\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'screenDept'+'hPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'articleVS\x22'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x20//\x20PARTI'+'CLE_CPU\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SOFT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22screenDep'+'thPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_c'+'puVS\x22\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_l'+('ocalShiftV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20ANIM'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20A'+'NIMTEX_LOO'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimFram'+'eLoopVS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleAnimFra'+'meClampVS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimTexV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20wrap\x20is\x20'+'not\x20used\x20o'+'n\x20CPU,\x20it\x20'+'was\x20commen'+'ted\x20out.\x20T'+'ODO:\x20inves'+'tigate\x20why'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'WRAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_wrap'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ALIGN_TO'+'_MOTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_point'+'AlongVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20USE_MESH'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_me'+'shVS\x22\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CUSTOM_FA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_custom'+'FaceVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_billboa'+'rdVS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20VERTEX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_norma'+'lVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20NORMA'+'L\x20==\x20MAP\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_TBNV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STRE'+'TCH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_stretchVS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PART'+'ICLE_GPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_endV')+('S\x22\x0a\x20\x20\x20\x20#el'+'se\x20//\x20PART'+'ICLE_CPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_cpu_'+'endVS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softVS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),DO='\x0a\x20\x20\x20\x20var\x20d'+'epth:\x20f32\x20'+'=\x20getLinea'+'rScreenDep'+'thFrag();\x0a'+'\x20\x20\x20\x20var\x20pa'+'rticleDept'+'h:\x20f32\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20var\x20depth'+'Diff:\x20f32\x20'+'=\x20saturate'+'(abs(parti'+'cleDepth\x20-'+'\x20depth)\x20*\x20'+'uniform.so'+'ftening);\x0a'+'\x20\x20\x20\x20a\x20=\x20a\x20'+'*\x20depthDif'+'f;\x0a',IO='\x0a\x20\x20\x20\x20outpu'+'t.vDepth\x20='+'\x20getLinear'+'Depth(loca'+'lPos);\x0a',LO='\x0a\x20\x20\x20\x20let\x20m'+'oveDir:\x20ve'+'c3f\x20=\x20inVe'+'l\x20*\x20unifor'+'m.stretch;'+'\x0a\x20\x20\x20\x20var\x20p'+'osPrev:\x20ve'+'c3f\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20=\x20posPrev'+'\x20+\x20particl'+'ePosMoved;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'viewRotati'+'onTemp:\x20ma'+'t3x3f\x20=\x20ma'+'t3x3f(unif'+'orm.matrix'+'_view[0].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[1].xyz'+',\x20uniform.'+'matrix_vie'+'w[2].xyz);'+'\x0a\x20\x20\x20\x20let\x20c'+'enterToVer'+'texV:\x20vec2'+'f\x20=\x20normal'+'ize((viewR'+'otationTem'+'p\x20*\x20localP'+'os).xy);\x0a\x0a'+'\x20\x20\x20\x20let\x20in'+'terpolatio'+'n:\x20f32\x20=\x20d'+'ot(-veloci'+'tyV,\x20cente'+'rToVertexV'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x0a\x20\x20\x20\x20'+'particlePo'+'s\x20=\x20mix(pa'+'rticlePos,'+'\x20posPrev,\x20'+'interpolat'+'ion);\x0a',RO='\x0a\x20\x20\x20\x20let\x20r'+'ot3\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(r'+'otMatrix[0'+'][0],\x20rotM'+'atrix[1][0'+'],\x200.0),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(rotMatr'+'ix[0][1],\x20'+'rotMatrix['+'1][1],\x200.0'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3f(0.0'+',\x200.0,\x201.0'+')\x0a\x20\x20\x20\x20);\x0a\x0a'+'\x20\x20\x20\x20let\x20vi'+'ewBasis\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-un'+'iform.matr'+'ix_viewInv'+'erse[0].xy'+'z,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-uniform.'+'matrix_vie'+'wInverse[1'+'].xyz,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.matrix_'+'viewInvers'+'e[2].xyz\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20tempM'+'at\x20=\x20viewB'+'asis\x20*\x20rot'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20WGSL\x20does'+'\x20not\x20suppo'+'rt\x20matrix\x20'+'varyings,\x20'+'decompose\x20'+'it\x20to\x20vec3'+'s\x0a\x20\x20\x20\x20outp'+'ut.Particl'+'eMat0\x20=\x20te'+'mpMat[0];\x0a'+'\x20\x20\x20\x20output'+'.ParticleM'+'at1\x20=\x20temp'+'Mat[1];\x0a\x20\x20'+'\x20\x20output.P'+'articleMat'+'2\x20=\x20tempMa'+'t[2];\x0a',OO='\x0a\x20\x20\x20\x20let\x20o'+'rigParticl'+'ePos:\x20vec3'+'f\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20particleP'+'os\x20=\x20parti'+'clePos\x20-\x20u'+'niform.mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20=\x20(par'+'ticlePos\x20%'+'\x20uniform.w'+'rapBounds)'+'\x20-\x20uniform'+'.wrapBound'+'s\x20*\x200.5;\x0a\x20'+'\x20\x20\x20particl'+'ePos\x20=\x20par'+'ticlePos\x20+'+'\x20uniform.m'+'atrix_mode'+'l[3].xyz;\x0a'+'\x20\x20\x20\x20partic'+'lePosMoved'+'\x20=\x20particl'+'ePos\x20-\x20ori'+'gParticleP'+'os;\x0a',FO={'particlePS':X3,'particleVS':q3,'particleAnimFrameClampVS':j3,'particleAnimFrameLoopVS':Y3,'particleAnimTexVS':K3,'particleInputFloatPS':Z3,'particleInputRgba8PS':Q3,'particleOutputFloatPS':J3,'particleOutputRgba8PS':eO,'particleUpdaterAABBPS':tO,'particleUpdaterEndPS':sO,'particleUpdaterInitPS':iO,'particleUpdaterNoRespawnPS':rO,'particleUpdaterOnStopPS':aO,'particleUpdaterRespawnPS':nO,'particleUpdaterSpherePS':oO,'particleUpdaterStartPS':lO,'particle_billboardVS':cO,'particle_blendAddPS':hO,'particle_blendMultiplyPS':dO,'particle_blendNormalPS':fO,'particle_cpuVS':uO,'particle_cpu_endVS':pO,'particle_customFaceVS':mO,'particle_endPS':_O,'particle_endVS':gO,'particle_halflambertPS':SO,'particle_initVS':yO,'particle_lambertPS':vO,'particle_lightingPS':xO,'particle_localShiftVS':TO,'particle_meshVS':wO,'particle_normalVS':EO,'particle_normalMapPS':bO,'particle_pointAlongVS':AO,'particle_simulationPS':CO,'particle_shaderPS':PO,'particle_shaderVS':MO,'particle_softPS':DO,'particle_softVS':IO,'particle_stretchVS':LO,'particle_TBNVS':RO,'particle_wrapVS':OO},NO=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class kO extends ct{constructor(_0x454137){super(_0x454137),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=e3,this['DataType']=t3,this['schema']=NO,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this),Pe['get'](_0x454137['graphicsDe'+'vice'],Fe)['add']($3),Pe['get'](_0x454137['graphicsDe'+'vice'],it)['add'](FO);}['initialize'+'ComponentD'+'ata'](_0x4f0283,_0x4afe27,_0x4dcd0b){const _0x43c9e7={};_0x4dcd0b=[];const _0x39667f=this['propertyTy'+'pes'];(_0x4afe27['mesh']instanceof pe||typeof _0x4afe27['mesh']=='number')&&(_0x4afe27['meshAsset']=_0x4afe27['mesh'],delete _0x4afe27['mesh']);for(const _0x118053 in _0x4afe27){if(_0x4afe27['hasOwnProp'+'erty'](_0x118053)&&(_0x4dcd0b['push'](_0x118053),_0x43c9e7[_0x118053]=_0x4afe27[_0x118053]),_0x39667f[_0x118053]==='vec3')Array['isArray'](_0x43c9e7[_0x118053])&&(_0x43c9e7[_0x118053]=new D(_0x43c9e7[_0x118053][-0x5*0x82+0x3e*0x99+-0x2284],_0x43c9e7[_0x118053][-0x1*0x44b+0x61*0xb+0x1*0x21],_0x43c9e7[_0x118053][-0x2*-0xbaf+0x259*-0xd+0x3*0x263]));else{if(_0x39667f[_0x118053]==='curve'){if(!(_0x43c9e7[_0x118053]instanceof qs)){const _0x299203=_0x43c9e7[_0x118053]['type'];_0x43c9e7[_0x118053]=new qs(_0x43c9e7[_0x118053]['keys']),_0x43c9e7[_0x118053]['type']=_0x299203;}}else{if(_0x39667f[_0x118053]==='curveset'&&!(_0x43c9e7[_0x118053]instanceof na)){const _0x3bab84=_0x43c9e7[_0x118053]['type'];_0x43c9e7[_0x118053]=new na(_0x43c9e7[_0x118053]['keys']),_0x43c9e7[_0x118053]['type']=_0x3bab84;}}}_0x43c9e7['layers']&&Array['isArray'](_0x43c9e7['layers'])&&(_0x43c9e7['layers']=_0x43c9e7['layers']['slice'](-0x1*0x1877+0xbb1+0xcc6));}super['initialize'+'ComponentD'+'ata'](_0x4f0283,_0x43c9e7,_0x4dcd0b);}['cloneCompo'+'nent'](_0x51ba9d,_0x9534d6){const _0x83d3c9=_0x51ba9d['particlesy'+'stem']['data'],_0x4dbbab=this['schema'],_0x37bda6={};for(let _0x35171d=-0xb66+0x1d*-0x4f+0x1459,_0x493ec8=_0x4dbbab['length'];_0x35171d<_0x493ec8;_0x35171d++){const _0x40b632=_0x4dbbab[_0x35171d];let _0xffd005=_0x83d3c9[_0x40b632];_0xffd005 instanceof D||_0xffd005 instanceof qs||_0xffd005 instanceof na?(_0xffd005=_0xffd005['clone'](),_0x37bda6[_0x40b632]=_0xffd005):_0x40b632==='layers'?_0x37bda6['layers']=_0x83d3c9['layers']['slice'](0x646+0xed0+-0x1516):_0xffd005!=null&&(_0x37bda6[_0x40b632]=_0xffd005);}return this['addCompone'+'nt'](_0x9534d6,_0x37bda6);}['onUpdate'](_0x4ca9ee){const _0x5e261e=this['store'],_0x1ba9a0=this['app']['stats']['particles'],_0x66391c=this['app']['scene']['layers'];for(let _0x31c7da=0x26c7+-0x1*0xc57+-0x178*0x12;_0x31c7da<_0x66391c['layerList']['length'];_0x31c7da++)_0x66391c['layerList'][_0x31c7da]['requiresLi'+'ghtCube']=!(0x3ca*-0x2+-0x17bf+-0x191*-0x14);for(const _0x17b390 in _0x5e261e)if(_0x5e261e['hasOwnProp'+'erty'](_0x17b390)){const _0x4c3029=_0x5e261e[_0x17b390],_0x135c0b=_0x4c3029['entity'],_0x13a28d=_0x4c3029['data'];if(_0x13a28d['enabled']&&_0x135c0b['enabled']){const _0x173567=_0x135c0b['particlesy'+'stem']['emitter'];if(!(_0x173567!=null&&_0x173567['meshInstan'+'ce']['visible']))continue;if(_0x173567['lighting']){const _0x830fd9=_0x13a28d['layers'];for(let _0x4128bf=0x289+0x229*0x4+-0xb2d;_0x4128bf<_0x830fd9['length'];_0x4128bf++){const _0x557b24=_0x66391c['getLayerBy'+'Id'](_0x830fd9[_0x4128bf]);_0x557b24&&(_0x557b24['requiresLi'+'ghtCube']=!(-0x1c2d+0x218a+0x1*-0x55d));}}if(!_0x13a28d['paused']){let _0x296815=-0x83+-0x1b25*-0x1+-0x1aa2;if(_0x173567['simTime']+=_0x4ca9ee,_0x173567['simTime']>=_0x173567['fixedTimeS'+'tep']&&(_0x296815=Math['floor'](_0x173567['simTime']/_0x173567['fixedTimeS'+'tep']),_0x173567['simTime']-=_0x296815*_0x173567['fixedTimeS'+'tep']),_0x296815){_0x296815=Math['min'](_0x296815,_0x173567['maxSubStep'+'s']);for(let _0x55ee67=0x10*-0xe6+-0x3*0x9a1+0x1*0x2b43;_0x55ee67<_0x296815;_0x55ee67++)_0x173567['addTime'](_0x173567['fixedTimeS'+'tep'],!(-0xa9b+0x1776+0xcda*-0x1));_0x1ba9a0['_updatesPe'+'rFrame']+=_0x296815,_0x1ba9a0['_frameTime']+=_0x173567['_addTimeTi'+'me'],_0x173567['_addTimeTi'+'me']=-0x3*0x6f1+0x1593+-0xc0;}_0x173567['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x26a522,_0x5b1e19){_0x5b1e19['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class UO extends wd{constructor(_0x2edb91,_0x1c682c){super(),this['skin']=_0x2edb91,this['skinInstan'+'ce']=_0x1c682c;}}const Gs=class Gs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),Gs['_skinInsta'+'nceCache']['forEach']((_0x2770ea,_0x3cc188)=>{console['log'](_0x3cc188['name']+':\x20Array('+_0x2770ea['length']+')');for(let _0x57966b=0x781*0x5+-0x11bf+-0x13c6;_0x57966b<_0x2770ea['length'];_0x57966b++)console['log']('\x20\x20'+_0x57966b+(':\x20RefCount'+'\x20')+_0x2770ea[_0x57966b]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x860a92,_0x15adc9,_0x3f3881){let _0x5a1ea4=Gs['getCachedS'+'kinInstanc'+'e'](_0x860a92,_0x15adc9);return _0x5a1ea4||(_0x5a1ea4=new Ol(_0x860a92),_0x5a1ea4['resolve'](_0x15adc9,_0x3f3881),Gs['addCachedS'+'kinInstanc'+'e'](_0x860a92,_0x15adc9,_0x5a1ea4)),_0x5a1ea4;}static['getCachedS'+'kinInstanc'+'e'](_0x52c9f5,_0x21905a){let _0x197d12=null;const _0x8766e4=Gs['_skinInsta'+'nceCache']['get'](_0x21905a);if(_0x8766e4){const _0x365eb4=_0x8766e4['find'](_0x4f62cd=>_0x4f62cd['skin']===_0x52c9f5);_0x365eb4&&(_0x365eb4['incRefCoun'+'t'](),_0x197d12=_0x365eb4['skinInstan'+'ce']);}return _0x197d12;}static['addCachedS'+'kinInstanc'+'e'](_0x37ec6b,_0x1f17ad,_0x19000d){let _0x4a5438=Gs['_skinInsta'+'nceCache']['get'](_0x1f17ad);_0x4a5438||(_0x4a5438=[],Gs['_skinInsta'+'nceCache']['set'](_0x1f17ad,_0x4a5438));let _0x458916=_0x4a5438['find'](_0x4afef1=>_0x4afef1['skin']===_0x37ec6b);_0x458916||(_0x458916=new UO(_0x37ec6b,_0x19000d),_0x4a5438['push'](_0x458916)),_0x458916['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x4a07cb){if(_0x4a07cb){const _0x3c2316=_0x4a07cb['rootBone'];if(_0x3c2316){const _0x1917c6=Gs['_skinInsta'+'nceCache']['get'](_0x3c2316);if(_0x1917c6){const _0x11be70=_0x1917c6['findIndex'](_0x5ba2da=>_0x5ba2da['skinInstan'+'ce']===_0x4a07cb);if(_0x11be70>=-0x565*-0x7+0x4c9+-0x614*0x7){const _0xfb9125=_0x1917c6[_0x11be70];_0xfb9125['decRefCoun'+'t'](),_0xfb9125['refCount']===0xd*-0x6b+0xd3f+0x190*-0x5&&(_0x1917c6['splice'](_0x11be70,-0x17e8+-0x5d5*0x1+-0x1*-0x1dbe),_0x1917c6['length']||Gs['_skinInsta'+'nceCache']['delete'](_0x3c2316),_0x4a07cb&&(_0x4a07cb['destroy'](),_0xfb9125['skinInstan'+'ce']=null));}}}}}};h(Gs,'_skinInsta'+'nceCache',new Map());let _l=Gs;class gl{constructor(_0x25da8e,_0x228699,_0x46258e,_0x357f4a,_0x22b05f){h(this,'_evtLoadBy'+'Id',null),h(this,'_evtUnload'+'ById',null),h(this,'_evtAddByI'+'d',null),h(this,'_evtRemove'+'ById',null),h(this,'_evtLoadBy'+'Url',null),h(this,'_evtAddByU'+'rl',null),h(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x25da8e,this['parent']=_0x228699,this['_scope']=_0x22b05f,this['_registry']=_0x46258e,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x357f4a['load'],this['_onAssetAd'+'d']=_0x357f4a['add'],this['_onAssetRe'+'move']=_0x357f4a['remove'],this['_onAssetUn'+'load']=_0x357f4a['unload']);}set['id'](_0x58e015){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x58e015,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x4a0da6){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x4a0da6,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x1ccba7,_0xa84866,_0x5c5165,_0x11fda9,_0x4b9222,_0x5c6fba,_0x1cea1f;this['id']&&((_0x1ccba7=this['_evtLoadBy'+'Id'])==null||_0x1ccba7['off'](),this['_evtLoadBy'+'Id']=null,(_0xa84866=this['_evtAddByI'+'d'])==null||_0xa84866['off'](),this['_evtAddByI'+'d']=null,(_0x5c5165=this['_evtRemove'+'ById'])==null||_0x5c5165['off'](),this['_evtRemove'+'ById']=null,(_0x11fda9=this['_evtUnload'+'ById'])==null||_0x11fda9['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x4b9222=this['_evtLoadBy'+'Url'])==null||_0x4b9222['off'](),this['_evtLoadBy'+'Url']=null,(_0x5c6fba=this['_evtAddByU'+'rl'])==null||_0x5c6fba['off'](),this['_evtAddByU'+'rl']=null,(_0x1cea1f=this['_evtRemove'+'ByUrl'])==null||_0x1cea1f['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x4c0610){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x4c0610);}['_onAdd'](_0x25e7a1){this['asset']=_0x25e7a1,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x25e7a1);}['_onRemove'](_0x55b6f9){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x55b6f9),this['asset']=null;}['_onUnload'](_0x5035d4){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x5035d4);}}class n0 extends we{constructor(_0x5de728,_0x37dae7){super(_0x5de728,_0x37dae7),h(this,'_type','asset'),h(this,'_castShado'+'ws',!(0x2441+-0x1e*-0x106+0x3d*-0x119)),h(this,'_receiveSh'+'adows',!(-0x1d56+0x1*0x17a5+0x1f*0x2f)),h(this,'_castShado'+'wsLightmap',!(-0xcc2*-0x3+0x4f1+0x17*-0x1e1)),h(this,'_lightmapp'+'ed',!(0x566*-0x5+0x563+0x159c)),h(this,'_lightmapS'+'izeMultipl'+'ier',0x568*-0x7+-0x2443+0x4a1c),h(this,'isStatic',!(0x216c+0x18ca+0x3a35*-0x1)),h(this,'_batchGrou'+'pId',-(0xe9c+-0x1f*0x12b+0x452*0x5)),h(this,'_layers',[er]),h(this,'_renderSty'+'le',un),h(this,'_meshInsta'+'nces',[]),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_assetRefe'+'rence'),h(this,'_materialR'+'eferences',[]),h(this,'_material'),h(this,'_rootBone',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new gl('asset',this,_0x5de728['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x5de728['defaultMat'+'erial'],_0x37dae7['on']('remove',this['onRemoveCh'+'ild'],this),_0x37dae7['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x37dae7['on']('insert',this['onInsertCh'+'ild'],this),_0x37dae7['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x2e481a){this['_renderSty'+'le']!==_0x2e481a&&(this['_renderSty'+'le']=_0x2e481a,He['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x2e481a));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0xe09820){this['_customAab'+'b']=_0xe09820;const _0x476d48=this['_meshInsta'+'nces'];if(_0x476d48){for(let _0x4b33f8=0x1*0x15b0+-0x5*-0x7cf+-0x3cbb*0x1;_0x4b33f8<_0x476d48['length'];_0x4b33f8++)_0x476d48[_0x4b33f8]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x2707e2){if(this['_type']!==_0x2707e2&&(this['_area']=null,this['_type']=_0x2707e2,this['destroyMes'+'hInstances'](),_0x2707e2!=='asset')){let _0x2ca5dd=this['_material'];(!_0x2ca5dd||_0x2ca5dd===this['system']['defaultMat'+'erial'])&&(_0x2ca5dd=this['_materialR'+'eferences'][0x1423+-0x3fb*-0x1+-0x181e]&&this['_materialR'+'eferences'][-0x241a+-0x25f7+-0x1*-0x4a11]['asset']&&this['_materialR'+'eferences'][0x1*0x2105+-0x3*0x6fd+0x2*-0x607]['asset']['resource']);const _0x51127a=r0(this['system']['app']['graphicsDe'+'vice'],_0x2707e2);this['_area']=_0x51127a['area'],this['meshInstan'+'ces']=[new He(_0x51127a['mesh'],_0x2ca5dd||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x4ff1dc){if(w['assert'](Array['isArray'](_0x4ff1dc),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x4ff1dc,this['_meshInsta'+'nces']){const _0x199466=this['_meshInsta'+'nces'];for(let _0x5dd2bb=0x1ae7+-0x3*0x765+-0x4b8;_0x5dd2bb<_0x199466['length'];_0x5dd2bb++)_0x199466[_0x5dd2bb]['node']||(_0x199466[_0x5dd2bb]['node']=this['entity']),_0x199466[_0x5dd2bb]['castShadow']=this['_castShado'+'ws'],_0x199466[_0x5dd2bb]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x199466[_0x5dd2bb]['renderStyl'+'e']=this['_renderSty'+'le'],_0x199466[_0x5dd2bb]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x199466[_0x5dd2bb]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x5c3e2a){if(_0x5c3e2a!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x5c3e2a;const _0x444757=this['_meshInsta'+'nces'];if(_0x444757){for(let _0x25b56c=0x114c+-0x1a*-0x164+0x4*-0xd5d;_0x25b56c<_0x444757['length'];_0x25b56c++)_0x444757[_0x25b56c]['setLightma'+'pped'](_0x5c3e2a);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x33adba){if(this['_castShado'+'ws']!==_0x33adba){const _0x1e9fb5=this['_meshInsta'+'nces'];if(_0x1e9fb5){const _0x1f9e89=this['layers'],_0x11d779=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x33adba)for(let _0x41888c=-0x4f*-0x33+-0x373+-0xc4a;_0x41888c<_0x1f9e89['length'];_0x41888c++){const _0x177a63=_0x11d779['layers']['getLayerBy'+'Id'](this['layers'][_0x41888c]);_0x177a63&&_0x177a63['removeShad'+'owCasters'](_0x1e9fb5);}for(let _0x20c67c=-0x2*-0xeda+-0x2f0*-0x8+0xa*-0x552;_0x20c67c<_0x1e9fb5['length'];_0x20c67c++)_0x1e9fb5[_0x20c67c]['castShadow']=_0x33adba;if(!this['_castShado'+'ws']&&_0x33adba)for(let _0x7eb3b7=0x2200+-0x1c69+-0x597;_0x7eb3b7<_0x1f9e89['length'];_0x7eb3b7++){const _0x4481f7=_0x11d779['layers']['getLayerBy'+'Id'](_0x1f9e89[_0x7eb3b7]);_0x4481f7&&_0x4481f7['addShadowC'+'asters'](_0x1e9fb5);}}this['_castShado'+'ws']=_0x33adba;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x1d0da6){if(this['_receiveSh'+'adows']!==_0x1d0da6){this['_receiveSh'+'adows']=_0x1d0da6;const _0x52bbc0=this['_meshInsta'+'nces'];if(_0x52bbc0){for(let _0x3e1fdf=0x1465+0x32f+-0x1794;_0x3e1fdf<_0x52bbc0['length'];_0x3e1fdf++)_0x52bbc0[_0x3e1fdf]['receiveSha'+'dow']=_0x1d0da6;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x48ec6d){this['_castShado'+'wsLightmap']=_0x48ec6d;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x11dae3){this['_lightmapS'+'izeMultipl'+'ier']=_0x11dae3;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x3dcde4){const _0x110620=this['system']['app']['scene']['layers'];let _0x8cc0d;if(this['_meshInsta'+'nces']){for(let _0x42a33a=0x3fa+-0x54*-0x49+0xb*-0x28a;_0x42a33a<this['_layers']['length'];_0x42a33a++)_0x8cc0d=_0x110620['getLayerBy'+'Id'](this['_layers'][_0x42a33a]),_0x8cc0d&&_0x8cc0d['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=0x1fa1+-0x26*0x53+-0x1*0x134f;for(let _0x85cf10=0xb35+-0x24c5+-0x4*-0x664;_0x85cf10<_0x3dcde4['length'];_0x85cf10++)this['_layers'][_0x85cf10]=_0x3dcde4[_0x85cf10];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x396140=-0x924+0x1642+-0xd1e;_0x396140<this['_layers']['length'];_0x396140++)_0x8cc0d=_0x110620['getLayerBy'+'Id'](this['_layers'][_0x396140]),_0x8cc0d&&_0x8cc0d['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x234912){var _0x14f86b,_0x582aa5;this['_batchGrou'+'pId']!==_0x234912&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x26e1+-0xdc7*0x2+0xb53*-0x1&&((_0x14f86b=this['system']['app']['batcher'])==null||_0x14f86b['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x234912>=0x17*0x55+0x37+-0x7da&&((_0x582aa5=this['system']['app']['batcher'])==null||_0x582aa5['insert'](St['RENDER'],_0x234912,this['entity'])),_0x234912<0x1687+0x1*0x913+0xfcd*-0x2&&this['_batchGrou'+'pId']>=0x405*0x1+-0xf59+0xb54&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x234912);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x681416){if(this['_material']!==_0x681416&&(this['_material']=_0x681416,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x5a37f7=0x70c+-0x2635+0x1f29*0x1;_0x5a37f7<this['_meshInsta'+'nces']['length'];_0x5a37f7++)this['_meshInsta'+'nces'][_0x5a37f7]['material']=_0x681416;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x570da1=[]){if(this['_materialR'+'eferences']['length']>_0x570da1['length']){for(let _0x21cdcb=_0x570da1['length'];_0x21cdcb<this['_materialR'+'eferences']['length'];_0x21cdcb++)this['_materialR'+'eferences'][_0x21cdcb]['id']=null;this['_materialR'+'eferences']['length']=_0x570da1['length'];}for(let _0x557285=0xe04*-0x1+0xb*-0x86+0x13c6;_0x557285<_0x570da1['length'];_0x557285++)if(this['_materialR'+'eferences'][_0x557285]||this['_materialR'+'eferences']['push'](new gl(_0x557285,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x570da1[_0x557285]){const _0x20bc9c=_0x570da1[_0x557285]instanceof pe?_0x570da1[_0x557285]['id']:_0x570da1[_0x557285];this['_materialR'+'eferences'][_0x557285]['id']!==_0x20bc9c&&(this['_materialR'+'eferences'][_0x557285]['id']=_0x20bc9c),this['_materialR'+'eferences'][_0x557285]['asset']&&this['_onMateria'+'lAdded'](_0x557285,this,this['_materialR'+'eferences'][_0x557285]['asset']);}else this['_materialR'+'eferences'][_0x557285]['id']=null,this['_meshInsta'+'nces'][_0x557285]&&(this['_meshInsta'+'nces'][_0x557285]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x41e680=>_0x41e680['id']);}set['asset'](_0x1eb202){const _0x35ed7d=_0x1eb202 instanceof pe?_0x1eb202['id']:_0x1eb202;this['_assetRefe'+'rence']['id']!==_0x35ed7d&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x35ed7d,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x4626c0){const _0x425eca=_0x4626c0 instanceof pe?_0x4626c0['id']:_0x4626c0;this['_assetRefe'+'rence']['id']=_0x425eca;}set['rootBone'](_0xa19bd4){if(this['_rootBone']!==_0xa19bd4){const _0x493885=typeof _0xa19bd4=='string';if(this['_rootBone']&&_0x493885&&this['_rootBone']['getGuid']()===_0xa19bd4)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0xa19bd4 instanceof Ie?this['_rootBone']=_0xa19bd4:_0x493885?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0xa19bd4)||null,this['_rootBone']||w['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x2f6bd4=this['_meshInsta'+'nces'];if(_0x2f6bd4){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x276449=-0x1*0x4e5+0x1*0x16b5+-0x474*0x4;_0x276449<_0x2f6bd4['length'];_0x276449++)_0x2f6bd4[_0x276449]['destroy']();this['_meshInsta'+'nces']['length']=0x10bb*0x1+0xb51+-0x1c0c;}}['addToLayer'+'s'](){const _0x2b3568=this['system']['app']['scene']['layers'];for(let _0x271ab5=0x1*-0x149+-0x13*0x1fd+0x2710;_0x271ab5<this['_layers']['length'];_0x271ab5++){const _0xfab009=_0x2b3568['getLayerBy'+'Id'](this['_layers'][_0x271ab5]);_0xfab009&&_0xfab009['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0xce4a1a=this['system']['app']['scene']['layers'];for(let _0x321d49=0x1552+0xc8e+0x43c*-0x8;_0x321d49<this['_layers']['length'];_0x321d49++){const _0x4ca5ec=_0xce4a1a['getLayerBy'+'Id'](this['_layers'][_0x321d49]);_0x4ca5ec&&_0x4ca5ec['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x95b5d5=-0x56*-0x4c+0xa3*-0x3+-0x1*0x179f;_0x95b5d5<this['_materialR'+'eferences']['length'];_0x95b5d5++)this['_materialR'+'eferences'][_0x95b5d5]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x4a02f9,_0x5d6571){this['addToLayer'+'s'](),_0x4a02f9['off']('add',this['onLayerAdd'+'ed'],this),_0x4a02f9['off']('remove',this['onLayerRem'+'oved'],this),_0x5d6571['on']('add',this['onLayerAdd'+'ed'],this),_0x5d6571['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x325ebe){this['layers']['indexOf'](_0x325ebe['id'])<0x1835*0x1+-0xa7f+-0xdb6||_0x325ebe['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x3e98ae){this['layers']['indexOf'](_0x3e98ae['id'])<-0xb76+-0x1aa*-0xe+0xf*-0xca||_0x3e98ae['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x5a4f4a;const _0x3fc1ce=this['system']['app'],_0x302b96=_0x3fc1ce['scene'],_0x3bc0d0=_0x302b96['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x302b96['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3bc0d0&&(this['_evtLayerA'+'dded']=_0x3bc0d0['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x3bc0d0['on']('remove',this['onLayerRem'+'oved'],this));const _0x26469c=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x26469c&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x2aaeb8=-0x1*0x329+-0xa*-0x16e+-0xb23;_0x2aaeb8<this['_materialR'+'eferences']['length'];_0x2aaeb8++)this['_materialR'+'eferences'][_0x2aaeb8]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x2aaeb8]['asset']);this['_batchGrou'+'pId']>=-0x1428+-0x498+0x2*0xc60&&((_0x5a4f4a=_0x3fc1ce['batcher'])==null||_0x5a4f4a['insert'](St['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0xe5f3d8,_0x10dcb6,_0x208ba1,_0x45c87a;const _0x547f59=this['system']['app'],_0x5dcfe9=_0x547f59['scene']['layers'];(_0xe5f3d8=this['_evtLayers'+'Changed'])==null||_0xe5f3d8['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x5dcfe9&&((_0x10dcb6=this['_evtLayerA'+'dded'])==null||_0x10dcb6['off'](),this['_evtLayerA'+'dded']=null,(_0x208ba1=this['_evtLayerR'+'emoved'])==null||_0x208ba1['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x6b*0x26+-0x2355+0x1*0x3337&&((_0x45c87a=_0x547f59['batcher'])==null||_0x45c87a['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x53c083=-0x985+-0x108a+0x1a0f;_0x53c083<this['_meshInsta'+'nces']['length'];_0x53c083++)this['_meshInsta'+'nces'][_0x53c083]['visible']=!(0x1ad8+-0x44*-0x4a+-0x2e7f);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x5e54e6=-0x10a+-0x6a*-0x12+-0x66a*0x1;_0x5e54e6<this['_meshInsta'+'nces']['length'];_0x5e54e6++)this['_meshInsta'+'nces'][_0x5e54e6]['visible']=!(-0x1c16+-0x1571+0x3187);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x48a905;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x55b1b5=this['_assetRefe'+'rence']['asset']['resource'];(_0x48a905=this['_evtSetMes'+'hes'])==null||_0x48a905['off'](),this['_evtSetMes'+'hes']=_0x55b1b5['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x55b1b5['meshes']&&this['_onSetMesh'+'es'](_0x55b1b5['meshes']);}}['_onSetMesh'+'es'](_0x12d872){this['_cloneMesh'+'es'](_0x12d872);}['_clearSkin'+'Instances'](){for(let _0x5ca907=-0x1*-0x812+-0x4ed*-0x6+-0x25a0;_0x5ca907<this['_meshInsta'+'nces']['length'];_0x5ca907++){const _0x1807f0=this['_meshInsta'+'nces'][_0x5ca907];_l['removeCach'+'edSkinInst'+'ance'](_0x1807f0['skinInstan'+'ce']),_0x1807f0['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof Ie)for(let _0xcc2bb4=-0x1*-0x2214+0x23db+-0x1*0x45ef;_0xcc2bb4<this['_meshInsta'+'nces']['length'];_0xcc2bb4++){const _0x5ddd0f=this['_meshInsta'+'nces'][_0xcc2bb4],_0x2855db=_0x5ddd0f['mesh'];_0x2855db['skin']&&!_0x5ddd0f['skinInstan'+'ce']&&(_0x5ddd0f['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x2855db['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x5e8111){if(_0x5e8111&&_0x5e8111['length']){const _0x24acc8=[];for(let _0x1424f4=-0x116d+0x23b6*0x1+-0x1249;_0x1424f4<_0x5e8111['length'];_0x1424f4++){const _0x49363a=_0x5e8111[_0x1424f4],_0x491e20=this['_materialR'+'eferences'][_0x1424f4]&&this['_materialR'+'eferences'][_0x1424f4]['asset']&&this['_materialR'+'eferences'][_0x1424f4]['asset']['resource'],_0x4bf0f0=new He(_0x49363a,_0x491e20||this['system']['defaultMat'+'erial'],this['entity']);_0x24acc8['push'](_0x4bf0f0),_0x49363a['morph']&&(_0x4bf0f0['morphInsta'+'nce']=new xa(_0x49363a['morph']));}this['meshInstan'+'ces']=_0x24acc8,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0xd1aa65;(_0xd1aa65=this['_evtSetMes'+'hes'])==null||_0xd1aa65['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x2fbae1,_0xdcadd,_0x35f93c){_0x35f93c['resource']?this['_onMateria'+'lLoad'](_0x2fbae1,_0xdcadd,_0x35f93c):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x35f93c);}['_updateMai'+'nMaterial'](_0x50e899,_0x3e9ddb){_0x50e899===0xb1c+-0x1*-0xb94+-0x18*0xf2&&(this['material']=_0x3e9ddb);}['_onMateria'+'lLoad'](_0x1d2882,_0x5e935c,_0x1cc810){this['_meshInsta'+'nces'][_0x1d2882]&&(this['_meshInsta'+'nces'][_0x1d2882]['material']=_0x1cc810['resource']),this['_updateMai'+'nMaterial'](_0x1d2882,_0x1cc810['resource']);}['_onMateria'+'lRemove'](_0x28885f,_0x299c1d,_0x3556f5){this['_meshInsta'+'nces'][_0x28885f]&&(this['_meshInsta'+'nces'][_0x28885f]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x28885f,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x2c1996,_0x4c718e,_0x4c97ee){this['_meshInsta'+'nces'][_0x2c1996]&&(this['_meshInsta'+'nces'][_0x2c1996]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x2c1996,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2544e2,_0x426fea){_0x2544e2['rootBone']&&(this['rootBone']=_0x426fea[_0x2544e2['rootBone']['getGuid']()]);}}class BO{constructor(){this['enabled']=!(-0x1600+-0x262e+-0x2*-0x1e17);}}const ku=['enabled'],Gr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class zO extends ct{constructor(_0x251a9a){super(_0x251a9a),this['id']='render',this['ComponentT'+'ype']=n0,this['DataType']=BO,this['schema']=ku,this['defaultMat'+'erial']=Qn(_0x251a9a['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x171c4c,_0x176947,_0x5836e0){(_0x176947['batchGroup'+'Id']===null||_0x176947['batchGroup'+'Id']===void(-0x67*-0x11+-0x2*-0xf62+-0x259b))&&(_0x176947['batchGroup'+'Id']=-(0x142e+-0x355*0x2+-0x1*0xd83)),_0x176947['layers']&&_0x176947['layers']['length']&&(_0x176947['layers']=_0x176947['layers']['slice'](-0x215b*-0x1+0x1*0x9a5+-0x2b00));for(let _0x5e5d83=0x1c07+-0x2*0x8ed+0x5*-0x209;_0x5e5d83<Gr['length'];_0x5e5d83++)_0x176947['hasOwnProp'+'erty'](Gr[_0x5e5d83])&&(_0x171c4c[Gr[_0x5e5d83]]=_0x176947[Gr[_0x5e5d83]]);_0x176947['aabbCenter']&&_0x176947['aabbHalfEx'+'tents']&&(_0x171c4c['customAabb']=new De(new D(_0x176947['aabbCenter']),new D(_0x176947['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x171c4c,_0x176947,ku);}['cloneCompo'+'nent'](_0x564e55,_0x5a5a00){const _0x3e65c3={};for(let _0x12f0b0=-0x37*0x39+0x1*0x22d8+0x1*-0x1699;_0x12f0b0<Gr['length'];_0x12f0b0++)_0x3e65c3[Gr[_0x12f0b0]]=_0x564e55['render'][Gr[_0x12f0b0]];_0x3e65c3['enabled']=_0x564e55['render']['enabled'],delete _0x3e65c3['meshInstan'+'ces'];const _0x2c0a35=this['addCompone'+'nt'](_0x5a5a00,_0x3e65c3),_0x47c1c9=_0x564e55['render']['meshInstan'+'ces'],_0x2c75e5=_0x47c1c9['map'](_0x55142a=>_0x55142a['mesh']);_0x2c0a35['_onSetMesh'+'es'](_0x2c75e5);for(let _0x471561=-0x142*0x1a+-0x1c85*0x1+0x1*0x3d39;_0x471561<_0x47c1c9['length'];_0x471561++)_0x2c0a35['meshInstan'+'ces'][_0x471561]['material']=_0x47c1c9[_0x471561]['material'];return _0x564e55['render']['customAabb']&&(_0x2c0a35['customAabb']=_0x564e55['render']['customAabb']['clone']()),_0x2c0a35;}['onRemove'](_0x2c4175,_0x139fe){_0x139fe['onRemove']();}}we['_buildAcce'+'ssors'](n0['prototype'],ku);class bf{constructor(_0x269813,_0x55331e){h(this,'_construct'+'or'),h(this,'_pool',[]),h(this,'_count',-0x1319+0x54d*0x7+-0x1202),(this['_construct'+'or']=_0x269813,this['_resize'](_0x55331e));}['_resize'](_0x51eac7){if(_0x51eac7>this['_pool']['length']){for(let _0x9128dd=this['_pool']['length'];_0x9128dd<_0x51eac7;_0x9128dd++)this['_pool'][_0x9128dd]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(0x2cb+-0x4*-0x18e+-0x901)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=0x1*0x11ce+0x187*0x17+0x1*-0x34ef;}}let cs,Re,Bs,Ka;const VO=new le(),GO=new le(),Pc=new D();class bs extends we{constructor(){super(...arguments),h(this,'_angularDa'+'mping',-0x1*-0x1d9+-0x23c9*-0x1+-0x25a2),h(this,'_angularFa'+'ctor',new D(-0x82*-0x12+-0x12c1+0x4cf*0x2,-0x10bb+0x141b+0x35f*-0x1,-0x19e0+-0x1b1*-0xa+0x8f7)),h(this,'_angularVe'+'locity',new D()),h(this,'_body',null),h(this,'_friction',0x68*-0xb+-0x22d7*0x1+0x274f+0.5),h(this,'_group',Gg),h(this,'_linearDam'+'ping',0x20d2+0x9c+0x216e*-0x1),h(this,'_linearFac'+'tor',new D(0x1acb+0x13*0xa6+-0x2*0x138e,-0x4e0+-0x3a*0x44+0x3*0x6c3,-0x2*-0x11a1+-0xc8e+0x27*-0x95)),h(this,'_linearVel'+'ocity',new D()),h(this,'_mask',Mu),h(this,'_mass',-0x2705+0x241e+0x3e*0xc),h(this,'_restituti'+'on',0x14c5+-0x2071+-0x3e4*-0x3),h(this,'_rollingFr'+'iction',0x2*0xad+0x3*0x309+-0xa75),h(this,'_simulatio'+'nEnabled',!(-0xf53*0x1+-0x2684+0x35d8)),h(this,'_type',yo);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(cs=new Ammo['btTransfor'+'m'](),Re=new Ammo['btVector3'](),Bs=new Ammo['btVector3'](),Ka=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](cs),Ammo['destroy'](Re),Ammo['destroy'](Bs),Ammo['destroy'](Ka),cs=null,Re=null,Bs=null,Ka=null;}set['angularDam'+'ping'](_0xd829a9){this['_angularDa'+'mping']!==_0xd829a9&&(this['_angularDa'+'mping']=_0xd829a9,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0xd829a9));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x394505){this['_angularFa'+'ctor']['equals'](_0x394505)||(this['_angularFa'+'ctor']['copy'](_0x394505),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x394505['x'],_0x394505['y'],_0x394505['z']),this['_body']['setAngular'+'Factor'](Re)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x228155){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x228155['x'],_0x228155['y'],_0x228155['z']),this['_body']['setAngular'+'Velocity'](Re),this['_angularVe'+'locity']['copy'](_0x228155));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ks){const _0x1299f5=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x1299f5['x'](),_0x1299f5['y'](),_0x1299f5['z']());}return this['_angularVe'+'locity'];}set['body'](_0x579cc6){this['_body']!==_0x579cc6&&(this['_body']=_0x579cc6,_0x579cc6&&this['_simulatio'+'nEnabled']&&_0x579cc6['activate']());}get['body'](){return this['_body'];}set['friction'](_0x216177){this['_friction']!==_0x216177&&(this['_friction']=_0x216177,this['_body']&&this['_body']['setFrictio'+'n'](_0x216177));}get['friction'](){return this['_friction'];}set['group'](_0x5c4dbc){this['_group']!==_0x5c4dbc&&(this['_group']=_0x5c4dbc,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x1a0bf8){this['_linearDam'+'ping']!==_0x1a0bf8&&(this['_linearDam'+'ping']=_0x1a0bf8,this['_body']&&this['_body']['setDamping'](_0x1a0bf8,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x5a03c0){this['_linearFac'+'tor']['equals'](_0x5a03c0)||(this['_linearFac'+'tor']['copy'](_0x5a03c0),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x5a03c0['x'],_0x5a03c0['y'],_0x5a03c0['z']),this['_body']['setLinearF'+'actor'](Re)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x32a60a){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x32a60a['x'],_0x32a60a['y'],_0x32a60a['z']),this['_body']['setLinearV'+'elocity'](Re),this['_linearVel'+'ocity']['copy'](_0x32a60a));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ks){const _0x54c656=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x54c656['x'](),_0x54c656['y'](),_0x54c656['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x2c1b01){this['_mask']!==_0x2c1b01&&(this['_mask']=_0x2c1b01,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x4f8053){if(this['_mass']!==_0x4f8053&&(this['_mass']=_0x4f8053,this['_body']&&this['_type']===ks)){const _0x1655b4=this['enabled']&&this['entity']['enabled'];_0x1655b4&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x4f8053,Re),this['_body']['setMassPro'+'ps'](_0x4f8053,Re),this['_body']['updateIner'+'tiaTensor'](),_0x1655b4&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x277f9a){this['_restituti'+'on']!==_0x277f9a&&(this['_restituti'+'on']=_0x277f9a,this['_body']&&this['_body']['setRestitu'+'tion'](_0x277f9a));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x33c9f2){this['_rollingFr'+'iction']!==_0x33c9f2&&(this['_rollingFr'+'iction']=_0x33c9f2,this['_body']&&this['_body']['setRolling'+'Friction'](_0x33c9f2));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x27a05a){if(this['_type']!==_0x27a05a){switch(this['_type']=_0x27a05a,this['disableSim'+'ulation'](),_0x27a05a){case ks:this['_group']=jL,this['_mask']=Wg;break;case Ha:this['_group']=YL,this['_mask']=Wg;break;case yo:default:this['_group']=Gg,this['_mask']=Mu;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x58533e=this['entity'];let _0x41ec17;if(_0x58533e['collision']&&(_0x41ec17=_0x58533e['collision']['shape'],_0x58533e['trigger']&&(_0x58533e['trigger']['destroy'](),delete _0x58533e['trigger'])),_0x41ec17){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x5cd5aa=this['_type']===ks?this['_mass']:0x1f72+-0x161*-0xa+-0x2d3c;this['_getEntity'+'Transform'](cs);const _0x565cc2=this['system']['createBody'](_0x5cd5aa,_0x41ec17,cs);if(_0x565cc2['setRestitu'+'tion'](this['_restituti'+'on']),_0x565cc2['setFrictio'+'n'](this['_friction']),_0x565cc2['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x565cc2['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ks){const _0x42d571=this['_linearFac'+'tor'];Re['setValue'](_0x42d571['x'],_0x42d571['y'],_0x42d571['z']),_0x565cc2['setLinearF'+'actor'](Re);const _0x18dbcf=this['_angularFa'+'ctor'];Re['setValue'](_0x18dbcf['x'],_0x18dbcf['y'],_0x18dbcf['z']),_0x565cc2['setAngular'+'Factor'](Re);}else this['_type']===Ha&&(_0x565cc2['setCollisi'+'onFlags'](_0x565cc2['getCollisi'+'onFlags']()|qL),_0x565cc2['setActivat'+'ionState'](Vg));_0x565cc2['entity']=_0x58533e,this['body']=_0x565cc2,this['enabled']&&_0x58533e['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(-0x820+-0x2*-0x1294+0x3*-0x9ad);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x415e60=this['entity'];if(_0x415e60['collision']&&_0x415e60['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x44dc0d=this['_body'];if(_0x44dc0d){switch(this['system']['addBody'](_0x44dc0d,this['_group'],this['_mask']),this['_type']){case ks:this['system']['_dynamic']['push'](this),_0x44dc0d['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;case Ha:this['system']['_kinematic']['push'](this),_0x44dc0d['forceActiv'+'ationState'](Vg);break;case yo:_0x44dc0d['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;}_0x415e60['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x415e60['collision']),_0x44dc0d['activate'](),this['_simulatio'+'nEnabled']=!(0x17d1+0x8*0x389+0x3419*-0x1);}}}['disableSim'+'ulation'](){const _0x20bdb1=this['_body'];if(_0x20bdb1&&this['_simulatio'+'nEnabled']){const _0x316e2b=this['system'];let _0x2042f3=_0x316e2b['_compounds']['indexOf'](this['entity']['collision']);_0x2042f3>-(0x1dbb+0x1300+-0x30ba)&&_0x316e2b['_compounds']['splice'](_0x2042f3,-0x1a64+0x1b85+-0x48*0x4),_0x2042f3=_0x316e2b['_dynamic']['indexOf'](this),_0x2042f3>-(-0x1505*-0x1+-0x4*0x2ef+-0x18c*0x6)&&_0x316e2b['_dynamic']['splice'](_0x2042f3,0x2*0xc23+0x1d1f+-0x3564),_0x2042f3=_0x316e2b['_kinematic']['indexOf'](this),_0x2042f3>-(0x2536+0x270b+0x4c40*-0x1)&&_0x316e2b['_kinematic']['splice'](_0x2042f3,0x1*-0xd5+0x10c3+-0xfed),_0x316e2b['removeBody'](_0x20bdb1),_0x20bdb1['forceActiv'+'ationState'](Yv),this['_simulatio'+'nEnabled']=!(-0x1*-0x1505+0x8b*-0x1f+-0x11*0x3f);}}['applyForce'](_0x51b50c,_0x2e3129,_0x3d495c,_0x349df6,_0x285e32,_0x4f3fec){const _0x3e198d=this['_body'];_0x3e198d&&(_0x3e198d['activate'](),_0x51b50c instanceof D?Re['setValue'](_0x51b50c['x'],_0x51b50c['y'],_0x51b50c['z']):Re['setValue'](_0x51b50c,_0x2e3129,_0x3d495c),_0x2e3129 instanceof D?Bs['setValue'](_0x2e3129['x'],_0x2e3129['y'],_0x2e3129['z']):_0x349df6!==void(0x8db+-0x1de3+0x1508)?Bs['setValue'](_0x349df6,_0x285e32,_0x4f3fec):Bs['setValue'](-0x322*0x1+-0x124d+0x156f,0x1985+-0x178d*0x1+-0x7*0x48,0x93f+-0x264+-0xf*0x75),_0x3e198d['applyForce'](Re,Bs));}['applyTorqu'+'e'](_0x268991,_0x7426a1,_0x38e567){const _0x590d40=this['_body'];_0x590d40&&(_0x590d40['activate'](),_0x268991 instanceof D?Re['setValue'](_0x268991['x'],_0x268991['y'],_0x268991['z']):Re['setValue'](_0x268991,_0x7426a1,_0x38e567),_0x590d40['applyTorqu'+'e'](Re));}['applyImpul'+'se'](_0x5f2ef7,_0x2e808d,_0x257b00,_0x52422e,_0x1f4f11,_0x4e1679){const _0x3b15e8=this['_body'];_0x3b15e8&&(_0x3b15e8['activate'](),_0x5f2ef7 instanceof D?Re['setValue'](_0x5f2ef7['x'],_0x5f2ef7['y'],_0x5f2ef7['z']):Re['setValue'](_0x5f2ef7,_0x2e808d,_0x257b00),_0x2e808d instanceof D?Bs['setValue'](_0x2e808d['x'],_0x2e808d['y'],_0x2e808d['z']):_0x52422e!==void(-0x1e08+-0xce5+0x2aed)?Bs['setValue'](_0x52422e,_0x1f4f11,_0x4e1679):Bs['setValue'](-0x1b7e+-0x3dd*0x2+0x2338,0x1a*0x4c+0xe1e+-0x45e*0x5,-0x7be*-0x3+0x1*0x491+-0x1bcb),_0x3b15e8['applyImpul'+'se'](Re,Bs));}['applyTorqu'+'eImpulse'](_0x1eb689,_0x428c51,_0x23d711){const _0x284370=this['_body'];_0x284370&&(_0x284370['activate'](),_0x1eb689 instanceof D?Re['setValue'](_0x1eb689['x'],_0x1eb689['y'],_0x1eb689['z']):Re['setValue'](_0x1eb689,_0x428c51,_0x23d711),_0x284370['applyTorqu'+'eImpulse'](Re));}['isStatic'](){return this['_type']===yo;}['isStaticOr'+'Kinematic'](){return this['_type']===yo||this['_type']===Ha;}['isKinemati'+'c'](){return this['_type']===Ha;}['_getEntity'+'Transform'](_0x513ecc){const _0x4d9b5c=this['entity'],_0x143d8c=_0x4d9b5c['collision'];if(_0x143d8c){const _0x17f768=_0x143d8c['getShapePo'+'sition'](),_0x4b9acd=_0x143d8c['getShapeRo'+'tation']();Re['setValue'](_0x17f768['x'],_0x17f768['y'],_0x17f768['z']),Ka['setValue'](_0x4b9acd['x'],_0x4b9acd['y'],_0x4b9acd['z'],_0x4b9acd['w']);}else{const _0x436db1=_0x4d9b5c['getPositio'+'n'](),_0x499012=_0x4d9b5c['getRotatio'+'n']();Re['setValue'](_0x436db1['x'],_0x436db1['y'],_0x436db1['z']),Ka['setValue'](_0x499012['x'],_0x499012['y'],_0x499012['z'],_0x499012['w']);}_0x513ecc['setOrigin'](Re),_0x513ecc['setRotatio'+'n'](Ka);}['syncEntity'+'ToBody'](){const _0x13de7c=this['_body'];if(_0x13de7c){if(this['_getEntity'+'Transform'](cs),_0x13de7c['setWorldTr'+'ansform'](cs),this['_type']===Ha){const _0x2a8275=_0x13de7c['getMotionS'+'tate']();_0x2a8275&&_0x2a8275['setWorldTr'+'ansform'](cs);}_0x13de7c['activate']();}}['_updateDyn'+'amic'](){const _0x38f1cc=this['_body'];if(_0x38f1cc['isActive']()){const _0x44b52f=_0x38f1cc['getMotionS'+'tate']();if(_0x44b52f){const _0x212bc3=this['entity'];_0x44b52f['getWorldTr'+'ansform'](cs);const _0x5d2fc2=cs['getOrigin'](),_0x3e0f93=cs['getRotatio'+'n'](),_0x1b5675=_0x212bc3['collision'];if(_0x1b5675&&_0x1b5675['_hasOffset']){const _0x1d3159=_0x1b5675['data']['linearOffs'+'et'],_0x20ab6a=_0x1b5675['data']['angularOff'+'set'],_0x5f21f7=GO['copy'](_0x20ab6a)['invert'](),_0x356ed2=VO['set'](_0x3e0f93['x'](),_0x3e0f93['y'](),_0x3e0f93['z'](),_0x3e0f93['w']())['mul'](_0x5f21f7);_0x356ed2['transformV'+'ector'](_0x1d3159,Pc),_0x212bc3['setPositio'+'n'](_0x5d2fc2['x']()-Pc['x'],_0x5d2fc2['y']()-Pc['y'],_0x5d2fc2['z']()-Pc['z']),_0x212bc3['setRotatio'+'n'](_0x356ed2);}else _0x212bc3['setPositio'+'n'](_0x5d2fc2['x'](),_0x5d2fc2['y'](),_0x5d2fc2['z']()),_0x212bc3['setRotatio'+'n'](_0x3e0f93['x'](),_0x3e0f93['y'](),_0x3e0f93['z'](),_0x3e0f93['w']());}}}['_updateKin'+'ematic'](){const _0x549bca=this['_body']['getMotionS'+'tate']();_0x549bca&&(this['_getEntity'+'Transform'](cs),_0x549bca['setWorldTr'+'ansform'](cs));}['teleport'](_0x5f1a82,_0x3079db,_0x4b7bbf,_0x21a0e0,_0x23eb71,_0x1750c9){_0x5f1a82 instanceof D?this['entity']['setPositio'+'n'](_0x5f1a82):this['entity']['setPositio'+'n'](_0x5f1a82,_0x3079db,_0x4b7bbf),_0x3079db instanceof le?this['entity']['setRotatio'+'n'](_0x3079db):_0x3079db instanceof D?this['entity']['setEulerAn'+'gles'](_0x3079db):_0x21a0e0!==void(0x351*0x2+-0x1*-0xecb+-0x156d)&&this['entity']['setEulerAn'+'gles'](_0x21a0e0,_0x23eb71,_0x1750c9),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}h(bs,'EVENT_CONT'+'ACT','contact'),h(bs,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(bs,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(bs,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(bs,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),h(bs,'order',-(0x1*0x955+0x679*-0x3+0x171*0x7));class HO{constructor(){this['enabled']=!(-0x1*0x144d+-0x349+0x2*0xbcb);}}let Mi,Di;class eS{constructor(_0x5dc005,_0x406745,_0x2805fc,_0x355ef5){h(this,'entity'),h(this,'point'),h(this,'normal'),h(this,'hitFractio'+'n'),(this['entity']=_0x5dc005,this['point']=_0x406745,this['normal']=_0x2805fc,this['hitFractio'+'n']=_0x355ef5);}}class WO{constructor(_0x41a177,_0x5c9c1b,_0x33788a){h(this,'a'),h(this,'b'),h(this,'impulse'),h(this,'localPoint'+'A'),h(this,'localPoint'+'B'),h(this,'pointA'),h(this,'pointB'),h(this,'normal'),arguments['length']!==0x219b+0x1196+0xa3d*-0x5?(this['a']=_0x41a177,this['b']=_0x5c9c1b,this['impulse']=_0x33788a['impulse'],this['localPoint'+'A']=_0x33788a['localPoint'],this['localPoint'+'B']=_0x33788a['localPoint'+'Other'],this['pointA']=_0x33788a['point'],this['pointB']=_0x33788a['pointOther'],this['normal']=_0x33788a['normal']):(this['a']=null,this['b']=null,this['impulse']=0x532*-0x5+0x1*0x841+-0xd*-0x15d,this['localPoint'+'A']=new D(),this['localPoint'+'B']=new D(),this['pointA']=new D(),this['pointB']=new D(),this['normal']=new D());}}class $O{constructor(_0x531587=new D(),_0x3227ec=new D(),_0x303335=new D(),_0x4956da=new D(),_0x56bd7b=new D(),_0x49a752=-0xb1*-0xf+0x81*0x19+0xa*-0x24c){h(this,'localPoint'),h(this,'localPoint'+'Other'),h(this,'point'),h(this,'pointOther'),h(this,'normal'),h(this,'impulse'),(this['localPoint']=_0x531587,this['localPoint'+'Other']=_0x3227ec,this['point']=_0x303335,this['pointOther']=_0x4956da,this['normal']=_0x56bd7b,this['impulse']=_0x49a752);}}class XO{constructor(_0x27a78b,_0x45af89){h(this,'other'),h(this,'contacts'),(this['other']=_0x27a78b,this['contacts']=_0x45af89);}}const o0=['enabled'];class wm extends ct{constructor(_0x21c843){super(_0x21c843),h(this,'maxSubStep'+'s',-0x1*0xae5+-0x850+-0x1*-0x133f),h(this,'fixedTimeS'+'tep',(0x54b+0x1*0x40f+-0x959)/(-0xf7f+-0x2108+0x3*0x1041)),h(this,'gravity',new D(-0x151e+-0x19bf*0x1+0x117*0x2b,-(0xfda*-0x2+0x2440+-0x483*0x1+0.8100000000000005),0x19*0xc1+0x1527+-0x2800)),h(this,'_gravityFl'+'oat32',new Float32Array(-0x2300+-0x989*-0x4+-0x321)),h(this,'_dynamic',[]),h(this,'_kinematic',[]),h(this,'_triggers',[]),h(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x21c843['stats']['frame'],this['ComponentT'+'ype']=bs,this['DataType']=HO,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=o0,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x268943=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x268943);}else w['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');Mi=new Ammo['btVector3'](),Di=new Ammo['btVector3'](),bs['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new bf($O,0x243*0x5+-0x10b9*0x1+0x13*0x49),this['contactRes'+'ultPool']=new bf(XO,0x38c+0x19d9+-0x1d64),this['singleCont'+'actResultP'+'ool']=new bf(WO,0xc43+-0xce*-0x1+-0x26*0x58),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x2c9929,_0x392656,_0x5eb0a5){const _0x532369=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x320a6f of _0x532369)if(_0x392656['hasOwnProp'+'erty'](_0x320a6f)){const _0x214d23=_0x392656[_0x320a6f];Array['isArray'](_0x214d23)?_0x2c9929[_0x320a6f]=new D(_0x214d23[0x5*-0x31+-0x1*0xd88+0xe7d*0x1],_0x214d23[0x6fb*-0x4+-0x1f28+0x3b15],_0x214d23[-0x10d6+0x823*0x1+0x8b5]):_0x2c9929[_0x320a6f]=_0x214d23;}super['initialize'+'ComponentD'+'ata'](_0x2c9929,_0x392656,['enabled']);}['cloneCompo'+'nent'](_0x9f822,_0x4d1dd4){const _0x1f4b57=_0x9f822['rigidbody'],_0x529143={'enabled':_0x1f4b57['enabled'],'mass':_0x1f4b57['mass'],'linearDamping':_0x1f4b57['linearDamp'+'ing'],'angularDamping':_0x1f4b57['angularDam'+'ping'],'linearFactor':[_0x1f4b57['linearFact'+'or']['x'],_0x1f4b57['linearFact'+'or']['y'],_0x1f4b57['linearFact'+'or']['z']],'angularFactor':[_0x1f4b57['angularFac'+'tor']['x'],_0x1f4b57['angularFac'+'tor']['y'],_0x1f4b57['angularFac'+'tor']['z']],'friction':_0x1f4b57['friction'],'rollingFriction':_0x1f4b57['rollingFri'+'ction'],'restitution':_0x1f4b57['restitutio'+'n'],'type':_0x1f4b57['type'],'group':_0x1f4b57['group'],'mask':_0x1f4b57['mask']};return this['addCompone'+'nt'](_0x4d1dd4,_0x529143);}['onBeforeRe'+'move'](_0x1fe83f,_0x26626d){_0x26626d['enabled']&&(_0x26626d['enabled']=!(-0x208a+-0x11*-0xc7+-0x1*-0x1354)),_0x26626d['body']&&(this['destroyBod'+'y'](_0x26626d['body']),_0x26626d['body']=null);}['addBody'](_0x419968,_0x5987cc,_0x3b5c10){_0x5987cc!==void(-0x3*0x62f+0x26fd*-0x1+-0x3*-0x132e)&&_0x3b5c10!==void(0x2f5*0x4+-0x1cb1+0x1*0x10dd)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x419968,_0x5987cc,_0x3b5c10):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x419968);}['removeBody'](_0x2fa5ce){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x2fa5ce);}['createBody'](_0x1dc64c,_0x463e53,_0x3493dc){const _0x325e76=new Ammo['btVector3'](0x115+0x83d+-0x952*0x1,0x45b*0x5+-0xb82+-0x1*0xa45,-0x5ab*-0x1+0x2567+-0x25*0x12a);_0x1dc64c!==0xd0a*0x1+0xe8d*0x1+-0x1b97&&_0x463e53['calculateL'+'ocalInerti'+'a'](_0x1dc64c,_0x325e76);const _0x138361=new Ammo['btDefaultM'+'otionState'](_0x3493dc),_0x1b0681=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x1dc64c,_0x138361,_0x463e53,_0x325e76),_0x5088e6=new Ammo['btRigidBod'+'y'](_0x1b0681);return Ammo['destroy'](_0x1b0681),Ammo['destroy'](_0x325e76),_0x5088e6;}['destroyBod'+'y'](_0x35a647){const _0x5219dc=_0x35a647['getMotionS'+'tate']();_0x5219dc&&Ammo['destroy'](_0x5219dc),Ammo['destroy'](_0x35a647);}['raycastFir'+'st'](_0x5799a9,_0x3ed90e,_0x477182={}){if(_0x477182['filterTags']||_0x477182['filterCall'+'back'])return _0x477182['sort']=!(0x35*0x1c+0x1*0x1393+0x513*-0x5),this['raycastAll'](_0x5799a9,_0x3ed90e,_0x477182)[0x1dbd+0x2247+-0x4004]||null;let _0x2a5620=null;Mi['setValue'](_0x5799a9['x'],_0x5799a9['y'],_0x5799a9['z']),Di['setValue'](_0x3ed90e['x'],_0x3ed90e['y'],_0x3ed90e['z']);const _0x3a6a5b=new Ammo['ClosestRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x477182['filterColl'+'isionGroup']=='number'&&_0x3a6a5b['set_m_coll'+'isionFilte'+'rGroup'](_0x477182['filterColl'+'isionGroup']),typeof _0x477182['filterColl'+'isionMask']=='number'&&_0x3a6a5b['set_m_coll'+'isionFilte'+'rMask'](_0x477182['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x3a6a5b),_0x3a6a5b['hasHit']()){const _0x2d9df4=_0x3a6a5b['get_m_coll'+'isionObjec'+'t'](),_0x20ba75=Ammo['castObject'](_0x2d9df4,Ammo['btRigidBod'+'y']);if(_0x20ba75){const _0x599273=_0x3a6a5b['get_m_hitP'+'ointWorld'](),_0x323d46=_0x3a6a5b['get_m_hitN'+'ormalWorld']();_0x2a5620=new eS(_0x20ba75['entity'],new D(_0x599273['x'](),_0x599273['y'](),_0x599273['z']()),new D(_0x323d46['x'](),_0x323d46['y'](),_0x323d46['z']()),_0x3a6a5b['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x3a6a5b),_0x2a5620;}['raycastAll'](_0x5c8971,_0x20279c,_0x354d1a={}){w['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0xf7cf80=[];Mi['setValue'](_0x5c8971['x'],_0x5c8971['y'],_0x5c8971['z']),Di['setValue'](_0x20279c['x'],_0x20279c['y'],_0x20279c['z']);const _0x479618=new Ammo['AllHitsRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x354d1a['filterColl'+'isionGroup']=='number'&&_0x479618['set_m_coll'+'isionFilte'+'rGroup'](_0x354d1a['filterColl'+'isionGroup']),typeof _0x354d1a['filterColl'+'isionMask']=='number'&&_0x479618['set_m_coll'+'isionFilte'+'rMask'](_0x354d1a['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x479618),_0x479618['hasHit']()){const _0x38c0b0=_0x479618['get_m_coll'+'isionObjec'+'ts'](),_0x1c74bd=_0x479618['get_m_hitP'+'ointWorld'](),_0x31cdba=_0x479618['get_m_hitN'+'ormalWorld'](),_0x3316ef=_0x479618['get_m_hitF'+'ractions'](),_0x31c56e=_0x38c0b0['size']();for(let _0x37e90b=-0x169b+-0x1*-0x26f6+-0x105b;_0x37e90b<_0x31c56e;_0x37e90b++){const _0x9c8116=Ammo['castObject'](_0x38c0b0['at'](_0x37e90b),Ammo['btRigidBod'+'y']);if(_0x9c8116&&_0x9c8116['entity']){if(_0x354d1a['filterTags']&&!_0x9c8116['entity']['tags']['has'](..._0x354d1a['filterTags'])||_0x354d1a['filterCall'+'back']&&!_0x354d1a['filterCall'+'back'](_0x9c8116['entity']))continue;const _0xb7a9b2=_0x1c74bd['at'](_0x37e90b),_0xa56110=_0x31cdba['at'](_0x37e90b),_0x4917a7=new eS(_0x9c8116['entity'],new D(_0xb7a9b2['x'](),_0xb7a9b2['y'](),_0xb7a9b2['z']()),new D(_0xa56110['x'](),_0xa56110['y'](),_0xa56110['z']()),_0x3316ef['at'](_0x37e90b));_0xf7cf80['push'](_0x4917a7);}}_0x354d1a['sort']&&_0xf7cf80['sort']((_0x556480,_0x5e9ac0)=>_0x556480['hitFractio'+'n']-_0x5e9ac0['hitFractio'+'n']);}return Ammo['destroy'](_0x479618),_0xf7cf80;}['_storeColl'+'ision'](_0x4f50b,_0x263781){let _0xeabba4=!(0x20*0x64+0xb0f*-0x2+0x99f);const _0x4fcd17=_0x4f50b['getGuid']();return this['collisions'][_0x4fcd17]=this['collisions'][_0x4fcd17]||{'others':[],'entity':_0x4f50b},this['collisions'][_0x4fcd17]['others']['indexOf'](_0x263781)<-0x1bbe+0x435+0x1789&&(this['collisions'][_0x4fcd17]['others']['push'](_0x263781),_0xeabba4=!(-0x6*-0x2ab+0x60+0x9*-0x1d2)),this['frameColli'+'sions'][_0x4fcd17]=this['frameColli'+'sions'][_0x4fcd17]||{'others':[],'entity':_0x4f50b},this['frameColli'+'sions'][_0x4fcd17]['others']['push'](_0x263781),_0xeabba4;}['_createCon'+'tactPointF'+'romAmmo'](_0x267f38){const _0x23a260=_0x267f38['get_m_loca'+'lPointA'](),_0x401c4e=_0x267f38['get_m_loca'+'lPointB'](),_0x5820fc=_0x267f38['getPositio'+'nWorldOnA'](),_0x1b7f08=_0x267f38['getPositio'+'nWorldOnB'](),_0x478b7f=_0x267f38['get_m_norm'+'alWorldOnB'](),_0x5dadc4=this['contactPoi'+'ntPool']['allocate']();return _0x5dadc4['localPoint']['set'](_0x23a260['x'](),_0x23a260['y'](),_0x23a260['z']()),_0x5dadc4['localPoint'+'Other']['set'](_0x401c4e['x'](),_0x401c4e['y'](),_0x401c4e['z']()),_0x5dadc4['point']['set'](_0x5820fc['x'](),_0x5820fc['y'](),_0x5820fc['z']()),_0x5dadc4['pointOther']['set'](_0x1b7f08['x'](),_0x1b7f08['y'](),_0x1b7f08['z']()),_0x5dadc4['normal']['set'](_0x478b7f['x'](),_0x478b7f['y'](),_0x478b7f['z']()),_0x5dadc4['impulse']=_0x267f38['getApplied'+'Impulse'](),_0x5dadc4;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x3664b5){const _0x300985=_0x3664b5['get_m_loca'+'lPointA'](),_0x2a14d1=_0x3664b5['get_m_loca'+'lPointB'](),_0xa0362a=_0x3664b5['getPositio'+'nWorldOnA'](),_0x271c2b=_0x3664b5['getPositio'+'nWorldOnB'](),_0x5092bd=_0x3664b5['get_m_norm'+'alWorldOnB'](),_0x347d0b=this['contactPoi'+'ntPool']['allocate']();return _0x347d0b['localPoint'+'Other']['set'](_0x300985['x'](),_0x300985['y'](),_0x300985['z']()),_0x347d0b['localPoint']['set'](_0x2a14d1['x'](),_0x2a14d1['y'](),_0x2a14d1['z']()),_0x347d0b['pointOther']['set'](_0xa0362a['x'](),_0xa0362a['y'](),_0xa0362a['z']()),_0x347d0b['point']['set'](_0x271c2b['x'](),_0x271c2b['y'](),_0x271c2b['z']()),_0x347d0b['normal']['set'](_0x5092bd['x'](),_0x5092bd['y'](),_0x5092bd['z']()),_0x347d0b['impulse']=_0x3664b5['getApplied'+'Impulse'](),_0x347d0b;}['_createSin'+'gleContact'+'Result'](_0x427ca8,_0x23e3f7,_0x3cd9c5){const _0x1e716e=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x1e716e['a']=_0x427ca8,_0x1e716e['b']=_0x23e3f7,_0x1e716e['localPoint'+'A']=_0x3cd9c5['localPoint'],_0x1e716e['localPoint'+'B']=_0x3cd9c5['localPoint'+'Other'],_0x1e716e['pointA']=_0x3cd9c5['point'],_0x1e716e['pointB']=_0x3cd9c5['pointOther'],_0x1e716e['normal']=_0x3cd9c5['normal'],_0x1e716e['impulse']=_0x3cd9c5['impulse'],_0x1e716e;}['_createCon'+'tactResult'](_0x376d9b,_0x149a7e){const _0x2e9e82=this['contactRes'+'ultPool']['allocate']();return _0x2e9e82['other']=_0x376d9b,_0x2e9e82['contacts']=_0x149a7e,_0x2e9e82;}['_cleanOldC'+'ollisions'](){for(const _0x4975e4 in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x4975e4)){const _0xcf3b2d=this['frameColli'+'sions'][_0x4975e4],_0x9c06dd=this['collisions'][_0x4975e4],_0x27cb7d=_0x9c06dd['entity'],_0xba9697=_0x27cb7d['collision'],_0x340523=_0x27cb7d['rigidbody'],_0x2eacaa=_0x9c06dd['others'];let _0x2c454e=_0x2eacaa['length'];for(;_0x2c454e--;){const _0x512b12=_0x2eacaa[_0x2c454e];(!_0xcf3b2d||_0xcf3b2d['others']['indexOf'](_0x512b12)<0xc32*-0x3+-0x6d4+0x2b6a)&&(_0x2eacaa['splice'](_0x2c454e,-0x1652+0x1669+-0x16),_0x27cb7d['trigger']?(_0xba9697&&_0xba9697['fire']('triggerlea'+'ve',_0x512b12),_0x512b12['rigidbody']&&_0x512b12['rigidbody']['fire']('triggerlea'+'ve',_0x27cb7d)):_0x512b12['trigger']||(_0x340523&&_0x340523['fire']('collisione'+'nd',_0x512b12),_0xba9697&&_0xba9697['fire']('collisione'+'nd',_0x512b12)));}_0x2eacaa['length']===0x1f2a+0x122f*-0x2+0x24*0x25&&delete this['collisions'][_0x4975e4];}}['_hasContac'+'tEvent'](_0x589798){const _0x32995d=_0x589798['collision'];if(_0x32995d&&(_0x32995d['hasEvent']('collisions'+'tart')||_0x32995d['hasEvent']('collisione'+'nd')||_0x32995d['hasEvent']('contact')))return!(-0x1325+-0x3*0xcf1+-0x46*-0xd4);const _0x2f125a=_0x589798['rigidbody'];return _0x2f125a&&(_0x2f125a['hasEvent']('collisions'+'tart')||_0x2f125a['hasEvent']('collisione'+'nd')||_0x2f125a['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x4a0f52,_0x5e4667){const _0x45a655=Ammo['wrapPointe'+'r'](_0x4a0f52,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x40719b=_0x45a655['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x3184b5=-0xd37+0x171a+0x1*-0x9e3;_0x3184b5<_0x40719b;_0x3184b5++){const _0x150eb8=_0x45a655['getManifol'+'dByIndexIn'+'ternal'](_0x3184b5),_0x45bd0d=_0x150eb8['getBody0'](),_0x14549e=_0x150eb8['getBody1'](),_0x1be100=Ammo['castObject'](_0x45bd0d,Ammo['btRigidBod'+'y']),_0x2ca981=Ammo['castObject'](_0x14549e,Ammo['btRigidBod'+'y']),_0x465cea=_0x1be100['entity'],_0x5cda39=_0x2ca981['entity'];if(!_0x465cea||!_0x5cda39)continue;const _0x395e1f=_0x1be100['getCollisi'+'onFlags'](),_0x273b39=_0x2ca981['getCollisi'+'onFlags'](),_0x289409=_0x150eb8['getNumCont'+'acts'](),_0x515140=[],_0x31b5b5=[];let _0x12759a;if(_0x289409>0xaf3+0x1043*-0x1+0x10*0x55){if(_0x395e1f&Po||_0x273b39&Po){const _0x116395=_0x465cea['collision']&&(_0x465cea['collision']['hasEvent']('triggerent'+'er')||_0x465cea['collision']['hasEvent']('triggerlea'+'ve')),_0x271b4b=_0x5cda39['collision']&&(_0x5cda39['collision']['hasEvent']('triggerent'+'er')||_0x5cda39['collision']['hasEvent']('triggerlea'+'ve')),_0xe259c=_0x465cea['rigidbody']&&(_0x465cea['rigidbody']['hasEvent']('triggerent'+'er')||_0x465cea['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x2b5cba=_0x5cda39['rigidbody']&&(_0x5cda39['rigidbody']['hasEvent']('triggerent'+'er')||_0x5cda39['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x116395&&(_0x12759a=this['_storeColl'+'ision'](_0x465cea,_0x5cda39),_0x12759a&&!(_0x273b39&Po)&&_0x465cea['collision']['fire']('triggerent'+'er',_0x5cda39)),_0x271b4b&&(_0x12759a=this['_storeColl'+'ision'](_0x5cda39,_0x465cea),_0x12759a&&!(_0x395e1f&Po)&&_0x5cda39['collision']['fire']('triggerent'+'er',_0x465cea)),_0xe259c&&(_0x12759a||(_0x12759a=this['_storeColl'+'ision'](_0x5cda39,_0x465cea)),_0x12759a&&_0x465cea['rigidbody']['fire']('triggerent'+'er',_0x5cda39)),_0x2b5cba&&(_0x12759a||(_0x12759a=this['_storeColl'+'ision'](_0x465cea,_0x5cda39)),_0x12759a&&_0x5cda39['rigidbody']['fire']('triggerent'+'er',_0x465cea));}else{const _0x5371be=this['_hasContac'+'tEvent'](_0x465cea),_0x3c94c7=this['_hasContac'+'tEvent'](_0x5cda39),_0x30a365=this['hasEvent']('contact');if(_0x30a365||_0x5371be||_0x3c94c7){for(let _0x24332c=-0xf39+-0xa9b*-0x2+-0x49*0x15;_0x24332c<_0x289409;_0x24332c++){const _0x3e704b=_0x150eb8['getContact'+'Point'](_0x24332c),_0x33742d=this['_createCon'+'tactPointF'+'romAmmo'](_0x3e704b);if(_0x5371be||_0x3c94c7){_0x515140['push'](_0x33742d);const _0x5ddf41=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x3e704b);_0x31b5b5['push'](_0x5ddf41);}if(_0x30a365){const _0x3f6b88=this['_createSin'+'gleContact'+'Result'](_0x465cea,_0x5cda39,_0x33742d);this['fire']('contact',_0x3f6b88);}}if(_0x5371be){const _0x1447d6=this['_createCon'+'tactResult'](_0x5cda39,_0x515140);_0x12759a=this['_storeColl'+'ision'](_0x465cea,_0x5cda39),_0x465cea['collision']&&(_0x465cea['collision']['fire']('contact',_0x1447d6),_0x12759a&&_0x465cea['collision']['fire']('collisions'+'tart',_0x1447d6)),_0x465cea['rigidbody']&&(_0x465cea['rigidbody']['fire']('contact',_0x1447d6),_0x12759a&&_0x465cea['rigidbody']['fire']('collisions'+'tart',_0x1447d6));}if(_0x3c94c7){const _0xc8d9e4=this['_createCon'+'tactResult'](_0x465cea,_0x31b5b5);_0x12759a=this['_storeColl'+'ision'](_0x5cda39,_0x465cea),_0x5cda39['collision']&&(_0x5cda39['collision']['fire']('contact',_0xc8d9e4),_0x12759a&&_0x5cda39['collision']['fire']('collisions'+'tart',_0xc8d9e4)),_0x5cda39['rigidbody']&&(_0x5cda39['rigidbody']['fire']('contact',_0xc8d9e4),_0x12759a&&_0x5cda39['rigidbody']['fire']('collisions'+'tart',_0xc8d9e4));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x2c09ab){let _0x4610b8,_0x2f57ab;this['_stats']['physicsSta'+'rt']=de(),this['_gravityFl'+'oat32'][0x263d+0x1193+-0xdf4*0x4]=this['gravity']['x'],this['_gravityFl'+'oat32'][0x1a42+-0x1*-0x1e57+-0x3898]=this['gravity']['y'],this['_gravityFl'+'oat32'][0x123d+-0x213b+0xf00]=this['gravity']['z'];const _0x4ceb20=this['dynamicsWo'+'rld']['getGravity']();(_0x4ceb20['x']()!==this['_gravityFl'+'oat32'][0x9*0xb8+-0x1af5*0x1+0x147d]||_0x4ceb20['y']()!==this['_gravityFl'+'oat32'][-0x124a+-0x16*0x154+0x2f83]||_0x4ceb20['z']()!==this['_gravityFl'+'oat32'][-0xb*-0x27b+-0x1355+-0x7f2])&&(_0x4ceb20['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x4ceb20));const _0x23b1a8=this['_triggers'];for(_0x4610b8=-0x34*0x76+-0x1*-0x1a9f+-0x2a7,_0x2f57ab=_0x23b1a8['length'];_0x4610b8<_0x2f57ab;_0x4610b8++)_0x23b1a8[_0x4610b8]['updateTran'+'sform']();const _0x497dbe=this['_compounds'];for(_0x4610b8=0x220a+0x5*-0x7c0+0x4b6,_0x2f57ab=_0x497dbe['length'];_0x4610b8<_0x2f57ab;_0x4610b8++)_0x497dbe[_0x4610b8]['_updateCom'+'pound']();const _0x185243=this['_kinematic'];for(_0x4610b8=-0x2*0x1183+-0x24*0x45+0x1*0x2cba,_0x2f57ab=_0x185243['length'];_0x4610b8<_0x2f57ab;_0x4610b8++)_0x185243[_0x4610b8]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x2c09ab,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x3296b6=this['_dynamic'];for(_0x4610b8=0x5e1+-0xb45+0x564,_0x2f57ab=_0x3296b6['length'];_0x4610b8<_0x2f57ab;_0x4610b8++)_0x3296b6[_0x4610b8]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x2c09ab),this['_stats']['physicsTim'+'e']=de()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](Mi),Ammo['destroy'](Di),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,Mi=null,Di=null,bs['onAppDestr'+'oy']());}}h(wm,'EVENT_CONT'+'ACT','contact'),we['_buildAcce'+'ssors'](bs['prototype'],o0);const Za='none',qO='blend',tS=new te();class l0 extends we{constructor(_0x1b5a42,_0xa035e3){super(_0x1b5a42,_0xa035e3),this['_resolutio'+'n']=new J(0x1e9e*0x1+-0x1041+-0xbdd,-0x5*0xf0+-0x261e+0x2c0e*0x1),this['_reference'+'Resolution']=new J(0x260+0x1*-0x3c7+-0x3e7*-0x1,-0x19*-0x11a+0x1*-0x164b+-0x3ff*0x1),this['_scaleMode']=Za,this['scale']=-0x1*0x188+-0x18d*0xa+0x110b,this['_scaleBlen'+'d']=-0x1*0x69f+-0x1*0x16cf+0x1d6e+0.5,this['_priority']=-0x4e6*0x4+0x10a7+0x2f1,this['_screenSpa'+'ce']=!(0x5d9*-0x1+0xb29*0x3+0x1*-0x1ba1),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new te(),this['_elements']=new Set(),_0x1b5a42['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x495914,_0x29193e){var _0x1404ec;if(!(_0x495914 instanceof lt))return _0x29193e;if(_0x495914['element']){const _0x130e8f=_0x495914['element']['drawOrder'];_0x495914['element']['drawOrder']=_0x29193e++,_0x495914['element']['_batchGrou'+'pId']>=-0x19b2+-0x21f7+0x9*0x6a1&&_0x130e8f!==_0x495914['element']['drawOrder']&&((_0x1404ec=this['system']['app']['batcher'])==null||_0x1404ec['markGroupD'+'irty'](_0x495914['element']['_batchGrou'+'pId']));}_0x495914['particlesy'+'stem']&&(_0x495914['particlesy'+'stem']['drawOrder']=_0x29193e++);const _0x40672e=_0x495914['children'];for(let _0x2cb401=-0xbef+-0x2116+0x2d05;_0x2cb401<_0x40672e['length'];_0x2cb401++)_0x29193e=this['_recurseDr'+'awOrderSyn'+'c'](_0x40672e[_0x2cb401],_0x29193e);return _0x29193e;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],0x5*0x3cd+-0xec*0x3+-0x103c),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x4541ef=this['_resolutio'+'n']['x']/this['scale'],_0x464915=this['_resolutio'+'n']['y']/this['scale'],_0x281757=0x1fc+0x1d32+-0x266*0xd,_0x220f44=_0x4541ef,_0xcc69cf=-_0x464915;this['_screenMat'+'rix']['setOrtho'](_0x281757,_0x220f44,_0xcc69cf,-0x1f7b+-0x22*-0x1+0x1f59*0x1,-0x137*-0x19+0x10b9*0x2+-0x2*0x1fe8,-(0x268a*-0x1+0x139*-0x7+-0x2f1a*-0x1)),this['_screenSpa'+'ce']||(tS['setScale']((-0x14*0x63+0x14bb+-0xcff+0.5)*_0x4541ef,(0xc5d+-0xd3d*0x2+-0xe1d*-0x1+0.5)*_0x464915,-0x1716+0xf45+0x7d2),this['_screenMat'+'rix']['mul2'](tS,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x52595b,_0x5b6f07){const _0x33c211=Math['log2']((_0x52595b['x']||0xaa1*0x1+0x1*-0x255+-0x84b)/_0x5b6f07['x']),_0x5bcefb=Math['log2']((_0x52595b['y']||0x1*0x102b+-0x155f*0x1+-0x2b*-0x1f)/_0x5b6f07['y']);return Math['pow'](0x1d3a+0x1285+-0x2fbd,_0x33c211*(-0x6b9*0x2+-0x20ab+0x2e1e-this['_scaleBlen'+'d'])+_0x5bcefb*this['_scaleBlen'+'d']);}['_onResize'](_0x9669cd,_0x50f201){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x9669cd,_0x50f201),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x4430bb){this['_elements']['add'](_0x4430bb);}['_unbindEle'+'ment'](_0x4649f6){this['_elements']['delete'](_0x4649f6);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x57427e=>_0x57427e['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x1fd247){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x1fd247['x'],_0x1fd247['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x4fcdc1=>_0x4fcdc1['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x219d6a){this['_reference'+'Resolution']['set'](_0x219d6a['x'],_0x219d6a['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x499171=>_0x499171['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Za?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x2216cf){this['_screenSpa'+'ce']=_0x2216cf,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x559337=>_0x559337['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x45daf8){_0x45daf8!==Za&&_0x45daf8!==qO&&(_0x45daf8=Za),!this['_screenSpa'+'ce']&&_0x45daf8!==Za&&(_0x45daf8=Za),this['_scaleMode']=_0x45daf8,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x5cceb6){this['_scaleBlen'+'d']=_0x5cceb6,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x4d41eb=>_0x4d41eb['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x1b0f95){_0x1b0f95>-0x881+-0x3f1*0x4+0xc*0x21b&&(w['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x1b0f95+'\x20to\x20255'),_0x1b0f95=-0x1751*-0x1+-0x158+0x6fe*-0x3),this['_priority']!==_0x1b0f95&&(this['_priority']=_0x1b0f95,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class jO{constructor(){this['enabled']=!(-0x2547+0x1*-0xcab+-0x10a6*-0x3);}}const Uu=['enabled'];class YO extends ct{constructor(_0x11969c){super(_0x11969c),this['id']='screen',this['ComponentT'+'ype']=l0,this['DataType']=jO,this['schema']=Uu,this['windowReso'+'lution']=new J(),this['_drawOrder'+'SyncQueue']=new fx(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x2f8e1b,_0x4048bc,_0xe80649){_0x4048bc['priority']!==void(0x25c5*0x1+0x1*0x1989+-0x3f4e*0x1)&&(_0x2f8e1b['priority']=_0x4048bc['priority']),_0x4048bc['screenSpac'+'e']!==void(0x107c+-0x8*0x3a6+0x1*0xcb4)&&(_0x2f8e1b['screenSpac'+'e']=_0x4048bc['screenSpac'+'e']),_0x2f8e1b['cull']=_0x2f8e1b['screenSpac'+'e'],_0x4048bc['scaleMode']!==void(-0x118*0x9+0x219c*0x1+-0x17c4)&&(_0x2f8e1b['scaleMode']=_0x4048bc['scaleMode']),_0x4048bc['scaleBlend']!==void(0xeff+-0x3*-0x703+-0x2*0x1204)&&(_0x2f8e1b['scaleBlend']=_0x4048bc['scaleBlend']),_0x4048bc['resolution']!==void(-0x1*-0x1772+0xa84*-0x2+0x67*-0x6)&&(_0x4048bc['resolution']instanceof J?_0x2f8e1b['_resolutio'+'n']['copy'](_0x4048bc['resolution']):_0x2f8e1b['_resolutio'+'n']['set'](_0x4048bc['resolution'][-0x157f+-0x2528+0x3aa7],_0x4048bc['resolution'][-0xfff+0xc8c*0x1+0x374]),_0x2f8e1b['resolution']=_0x2f8e1b['_resolutio'+'n']),_0x4048bc['referenceR'+'esolution']!==void(-0x25ab+-0x6*-0x5cb+0x2e9)&&(_0x4048bc['referenceR'+'esolution']instanceof J?_0x2f8e1b['_reference'+'Resolution']['copy'](_0x4048bc['referenceR'+'esolution']):_0x2f8e1b['_reference'+'Resolution']['set'](_0x4048bc['referenceR'+'esolution'][-0xd*-0xf7+-0x7b5*0x3+0xa94*0x1],_0x4048bc['referenceR'+'esolution'][-0x6f*-0x17+0x228b+-0x2c83]),_0x2f8e1b['referenceR'+'esolution']=_0x2f8e1b['_reference'+'Resolution']),_0x2f8e1b['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x2f8e1b,_0x4048bc,Uu);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0xc584bd){const _0x5d6c94=this['store'];for(const _0xda9ab1 in _0x5d6c94)_0x5d6c94[_0xda9ab1]['entity']['screen']['update']&&_0x5d6c94[_0xda9ab1]['entity']['screen']['update'](_0xc584bd);}['_onResize'](_0x39f338,_0x47d10a){this['windowReso'+'lution']['x']=_0x39f338,this['windowReso'+'lution']['y']=_0x47d10a;}['cloneCompo'+'nent'](_0x2bce88,_0x2721ac){const _0x4793c2=_0x2bce88['screen'];return this['addCompone'+'nt'](_0x2721ac,{'enabled':_0x4793c2['enabled'],'screenSpace':_0x4793c2['screenSpac'+'e'],'scaleMode':_0x4793c2['scaleMode'],'resolution':_0x4793c2['resolution']['clone'](),'referenceResolution':_0x4793c2['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x51854f,_0x5f10cf){_0x5f10cf['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x1a226f=this['_drawOrder'+'SyncQueue']['list']();for(let _0x40e8f5=-0xd9a*-0x2+0x2365+-0x3e99;_0x40e8f5<_0x1a226f['length'];_0x40e8f5++){const _0x5a3457=_0x1a226f[_0x40e8f5];_0x5a3457['callback']['call'](_0x5a3457['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x9e85dc,_0x14d426,_0x20e58a){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x9e85dc)||this['_drawOrder'+'SyncQueue']['push'](_0x9e85dc,{'callback':_0x14d426,'scope':_0x20e58a});}}we['_buildAcce'+'ssors'](l0['prototype'],Uu);const lr=new J(),sS=new D(),Hr=new Dn(),iS=new QS(),rS=new D(),vo=new D(),KO=new le(),ZO={'x':'y','y':'x'};class Go extends me{constructor(_0xf32a67,_0x122514){if(super(),!_0xf32a67||!(_0xf32a67 instanceof hs))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x122514&&_0x122514!=='x'&&_0x122514!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x122514);this['_element']=_0xf32a67,this['_app']=_0xf32a67['system']['app'],this['_axis']=_0x122514||null,this['_enabled']=!(-0x5*-0x43+0x18ef+0x2*-0xd1f),this['_dragScale']=new D(),this['_dragStart'+'MousePosit'+'ion']=new D(),this['_dragStart'+'HandlePosi'+'tion']=new D(),this['_deltaMous'+'ePosition']=new D(),this['_deltaHand'+'lePosition']=new D(),this['_isDraggin'+'g']=!(0x1*-0x347+0x275*0x4+-0x1*0x68c),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x30b20e){this['_element'][_0x30b20e]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x30b20e]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x30b20e]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x5b85fe){const _0x266d28=_0x5b85fe==='on';this['_hasDragLi'+'steners']&&_0x266d28||(this['_app']['mouse']&&(this['_element'][_0x5b85fe]('mousemove',this['_onMove'],this),this['_element'][_0x5b85fe]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),Ae['touch']&&(this['_element'][_0x5b85fe]('touchmove',this['_onMove'],this),this['_element'][_0x5b85fe]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x5b85fe]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x5b85fe]('selectmove',this['_onMove'],this),this['_element'][_0x5b85fe]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x266d28);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x3b3b85){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x3b3b85['camera'],this['_calculate'+'DragScale']();const _0x59bd61=this['_screenToL'+'ocal'](_0x3b3b85);_0x59bd61&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(-0x1*-0x2149+-0x1*0x1c64+-0x7*0xb3),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x59bd61),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(-0x1bd3+0x2155+0x1*-0x581),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x2cd63a){return _0x2cd63a['inputSourc'+'e']?Hr['set'](_0x2cd63a['inputSourc'+'e']['getOrigin'](),_0x2cd63a['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x2cd63a),this['_chooseRay'+'OriginAndD'+'irection']()),rS['copy'](this['_element']['entity']['forward'])['mulScalar'](-(-0x1b55+-0x5*0x313+-0x2ab5*-0x1)),iS['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),rS),iS['intersects'+'Ray'](Hr,vo)?(KO['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](vo,vo),vo['mul'](this['_dragScale']),vo):null;}['_determine'+'InputPosit'+'ion'](_0x146fb3){const _0x4c8781=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x146fb3['x']<'u'&&typeof _0x146fb3['y']<'u'?(lr['x']=_0x146fb3['x']*_0x4c8781,lr['y']=_0x146fb3['y']*_0x4c8781):_0x146fb3['changedTou'+'ches']?(lr['x']=_0x146fb3['changedTou'+'ches'][0x3*-0xb9d+0xe3*-0x17+-0x1*-0x373c]['x']*_0x4c8781,lr['y']=_0x146fb3['changedTou'+'ches'][0x1*-0x1fc1+-0x31*-0x34+-0x1*-0x15cd]['y']*_0x4c8781):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Hr['origin']['set'](lr['x'],-lr['y'],0x3*0xae8+-0x23d6+0x31e),Hr['direction']['copy'](D['FORWARD'])):(sS['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](lr['x'],lr['y'],-0x1d*-0x121+0x525+-0x25e1)),Hr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Hr['direction']['copy'](sS)['sub'](Hr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0xdbac58=this['_element']['entity']['parent'];const _0x259616=this['_element']['screen']&&this['_element']['screen']['screen'],_0x2c9f0f=_0x259616&&_0x259616['screenSpac'+'e'],_0x207370=_0x2c9f0f?_0x259616['scale']:0x142a+0x353+-0x177c,_0x33ee4e=this['_dragScale'];for(_0x33ee4e['set'](_0x207370,_0x207370,_0x207370);_0xdbac58&&(_0x33ee4e['mul'](_0xdbac58['getLocalSc'+'ale']()),_0xdbac58=_0xdbac58['parent'],!(_0x2c9f0f&&_0xdbac58['screen'])););_0x33ee4e['x']=(-0x19*0x187+0xec1*-0x1+0x1*0x34f1)/_0x33ee4e['x'],_0x33ee4e['y']=(0xf72*0x1+0xd3e+-0x1caf)/_0x33ee4e['y'],_0x33ee4e['z']=-0x2b*0x8e+0x1482+-0x1*-0x358;}['_onMove'](_0x9c1993){const {_element:_0x17b945,_deltaMousePosition:_0x463de3,_deltaHandlePosition:_0x4cf79c,_axis:_0x1d1700}=this;if(_0x17b945&&this['_isDraggin'+'g']&&this['enabled']&&_0x17b945['enabled']&&_0x17b945['entity']['enabled']){const _0x195eb3=this['_screenToL'+'ocal'](_0x9c1993);if(_0x195eb3){if(_0x463de3['sub2'](_0x195eb3,this['_dragStart'+'MousePosit'+'ion']),_0x4cf79c['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x463de3),_0x1d1700){const _0x1b3cdc=_0x17b945['entity']['getLocalPo'+'sition'](),_0x549f18=ZO[_0x1d1700];_0x4cf79c[_0x549f18]=_0x1b3cdc[_0x549f18];}_0x17b945['entity']['setLocalPo'+'sition'](_0x4cf79c),this['fire']('drag:move',_0x4cf79c);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x2df8b2){this['_enabled']=_0x2df8b2;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}h(Go,'EVENT_DRAG'+'START','drag:start'),h(Go,'EVENT_DRAG'+'END','drag:end'),h(Go,'EVENT_DRAG'+'MOVE','drag:move');const QO=-0x1c66+0xb17*0x2+0x638,aS=-0x1697+0x2*0x6b9+0x2*0x493,JO=0x1131+0x26a8+-0x3b9*0xf,eF=0x55*-0x7+0xa98+-0x1d*0x49,tF=-0x38c+0x11*-0xca+-0x65*-0x2b,xo=new J();class c0 extends we{constructor(_0x4481be,_0x5d054e){super(_0x4481be,_0x5d054e),h(this,'_viewportE'+'ntity',null),h(this,'_contentEn'+'tity',null),h(this,'_horizonta'+'lScrollbar'+'Entity',null),h(this,'_verticalS'+'crollbarEn'+'tity',null),h(this,'_evtElemen'+'tRemove',null),h(this,'_evtViewpo'+'rtElementR'+'emove',null),h(this,'_evtViewpo'+'rtResize',null),h(this,'_evtConten'+'tEntityEle'+'mentAdd',null),h(this,'_evtConten'+'tElementRe'+'move',null),h(this,'_evtConten'+'tResize',null),h(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),h(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),h(this,'_evtHorizo'+'ntalScroll'+'barValue',null),h(this,'_evtVertic'+'alScrollba'+'rAdd',null),h(this,'_evtVertic'+'alScrollba'+'rRemove',null),h(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_scroll']=new J(),this['_velocity']=new D(),this['_dragStart'+'Position']=new D(),this['_disabledC'+'ontentInpu'+'t']=!(0x201e+0x184*-0xd+-0xc69),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x39fa07=this['system']['store'][this['entity']['getGuid']()];return _0x39fa07?_0x39fa07['data']:null;}set['enabled'](_0x2e114c){this['_setValue']('enabled',_0x2e114c);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0xb7f824){this['_setValue']('horizontal',_0xb7f824);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x23f3f3){this['_setValue']('vertical',_0x23f3f3);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x4d3be4){this['_setValue']('scrollMode',_0x4d3be4);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x1a3b8a){this['_setValue']('bounceAmou'+'nt',_0x1a3b8a);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x32c5f1){this['_setValue']('friction',_0x32c5f1);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x142d5c){this['_setValue']('dragThresh'+'old',_0x142d5c);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x5aceda){this['_setValue']('useMouseWh'+'eel',_0x5aceda);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x266558){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x266558);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x3f1593){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x3f1593);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x3262f4){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x3262f4);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x3acc8d){if(this['_viewportE'+'ntity']===_0x3acc8d)return;const _0x51ae1a=typeof _0x3acc8d=='string';this['_viewportE'+'ntity']&&_0x51ae1a&&this['_viewportE'+'ntity']['getGuid']()===_0x3acc8d||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x3acc8d instanceof Ie?this['_viewportE'+'ntity']=_0x3acc8d:_0x51ae1a?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x3acc8d)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x51ae1a&&_0x3acc8d&&(this['data']['viewportEn'+'tity']=_0x3acc8d));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x2cb55d){if(this['_contentEn'+'tity']===_0x2cb55d)return;const _0x54ac5e=typeof _0x2cb55d=='string';this['_contentEn'+'tity']&&_0x54ac5e&&this['_contentEn'+'tity']['getGuid']()===_0x2cb55d||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x2cb55d instanceof Ie?this['_contentEn'+'tity']=_0x2cb55d:_0x54ac5e?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x2cb55d)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x54ac5e&&_0x2cb55d&&(this['data']['contentEnt'+'ity']=_0x2cb55d));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x4b85d3){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x4b85d3)return;const _0x4e76a0=typeof _0x4b85d3=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x4e76a0&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x4b85d3||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x4b85d3 instanceof Ie?this['_horizonta'+'lScrollbar'+'Entity']=_0x4b85d3:_0x4e76a0?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x4b85d3)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][Ce]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x4e76a0&&_0x4b85d3&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x4b85d3));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x35fd1e){if(this['_verticalS'+'crollbarEn'+'tity']===_0x35fd1e)return;const _0x585a04=typeof _0x35fd1e=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x585a04&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x35fd1e||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x35fd1e instanceof Ie?this['_verticalS'+'crollbarEn'+'tity']=_0x35fd1e:_0x585a04?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x35fd1e)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][je]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x585a04&&_0x35fd1e&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x35fd1e));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0xad50b4){this['_onSetScro'+'ll'](_0xad50b4['x'],_0xad50b4['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x4010a9,_0x46e9b9){const _0xa6811=this['data'],_0x4525f1=_0xa6811[_0x4010a9];_0xa6811[_0x4010a9]=_0x46e9b9,this['fire']('set',_0x4010a9,_0x4525f1,_0x46e9b9);}['_toggleLif'+'ecycleList'+'eners'](_0xf1bb88){this[_0xf1bb88]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0xf1bb88]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0xf1bb88]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x59ffcd){if(this['entity']['element']){if(_0x59ffcd==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x59ffcd]('resize',this['_syncAll'],this),this['entity']['element'][_0x59ffcd]('mousewheel',this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x59ffcd==='on';}}['_onElement'+'ComponentA'+'dd'](_0x144e4e){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x409a94){var _0x13a96e;(_0x13a96e=this['_evtElemen'+'tRemove'])==null||_0x13a96e['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x4fc012,_0x2a09a4;(_0x4fc012=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x4fc012['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x2a09a4=this['_viewportE'+'ntity'])!=null&&_0x2a09a4['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x4d86ad=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x4d86ad['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x4d86ad['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x92cec3,_0x514e46;(_0x92cec3=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x92cec3['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x514e46=this['_evtViewpo'+'rtResize'])==null||_0x514e46['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x45c9ad,_0x280d84;(_0x45c9ad=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x45c9ad['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x280d84=this['_contentEn'+'tity'])!=null&&_0x280d84['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x1f9b78=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x1f9b78['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x1f9b78['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x5587a0,_0x275653;(_0x5587a0=this['_evtConten'+'tElementRe'+'move'])==null||_0x5587a0['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x275653=this['_evtConten'+'tResize'])==null||_0x275653['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new Go(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x5b327e){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(-0x1e18+0x1647+0x7d1),this['_setScroll'+'FromConten'+'tPosition'](_0x5b327e),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x5b327e),!this['_disabledC'+'ontentInpu'+'t'])){const _0x5d94df=_0x5b327e['x']-this['_dragStart'+'Position']['x'],_0x59274b=_0x5b327e['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x5d94df)>this['dragThresh'+'old']||Math['abs'](_0x59274b)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x133ace;(_0x133ace=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x133ace['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x526db8;(_0x526db8=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x526db8['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x310bb8){!this['_scrollbar'+'UpdateFlag'+'s'][Ce]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x310bb8,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x57ec99){!this['_scrollbar'+'UpdateFlag'+'s'][je]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x57ec99);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x1e54f1;const _0x15b48e=(_0x1e54f1=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(0x1*0x1fb4+-0x2*-0x7d+-0x20ae):_0x1e54f1['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x15b48e['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x15b48e['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarPositi'+'on'](Ce);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x1dd513;const _0x42e016=(_0x1dd513=this['_verticalS'+'crollbarEn'+'tity'])==null?void(0x23f8+-0x153c+-0xebc):_0x1dd513['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x42e016['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x42e016['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](je),this['_syncScrol'+'lbarPositi'+'on'](je);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x4cf9e2,_0x479b6e;(_0x4cf9e2=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x4cf9e2['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x479b6e=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x479b6e['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x59a7a9,_0x1427b4;(_0x59a7a9=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x59a7a9['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x1427b4=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x1427b4['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](Ce);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](je);}['_onSetScro'+'ll'](_0x595982,_0x497f20,_0x517b0b){_0x517b0b!==!(0x7*0x3eb+-0x230b+0x79f)&&this['_velocity']['set'](-0x1e2d*-0x1+-0x56d+0xc*-0x210,0x1c22+0x178d+-0x33af,-0x13c4+-0xcf*-0x1d+-0x1*0x3af);const _0x4f7323=this['_updateAxi'+'s'](_0x595982,'x',Ce),_0x235d4d=this['_updateAxi'+'s'](_0x497f20,'y',je);(_0x4f7323||_0x235d4d)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0xcfe62b,_0x3c3374,_0x493f6f){const _0x5f112a=_0xcfe62b!==null&&Math['abs'](_0xcfe62b-this['_scroll'][_0x3c3374])>-0x2355+-0x211e+0x4473+0.00001;return(_0x5f112a||this['_isDraggin'+'g']()||_0xcfe62b===0x2*-0x2ff+-0x1*-0x1ec2+0x4*-0x631)&&(this['_scroll'][_0x3c3374]=this['_determine'+'NewScrollV'+'alue'](_0xcfe62b,_0x3c3374,_0x493f6f),this['_syncConte'+'ntPosition'](_0x493f6f),this['_syncScrol'+'lbarPositi'+'on'](_0x493f6f)),_0x5f112a;}['_determine'+'NewScrollV'+'alue'](_0x2ccac9,_0x87fddb,_0xbb5225){if(!this['_getScroll'+'ingEnabled'](_0xbb5225))return this['_scroll'][_0x87fddb];switch(this['scrollMode']){case QO:return Y['clamp'](_0x2ccac9,-0xb98*-0x3+-0x1d63+-0x1*0x565,this['_getMaxScr'+'ollValue'](_0xbb5225));case aS:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x2ccac9,_0x87fddb,_0xbb5225),_0x2ccac9;case JO:return _0x2ccac9;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x2ccac9;}}['_syncAll'](){this['_syncConte'+'ntPosition'](Ce),this['_syncConte'+'ntPosition'](je),this['_syncScrol'+'lbarPositi'+'on'](Ce),this['_syncScrol'+'lbarPositi'+'on'](je),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je);}['_syncConte'+'ntPosition'](_0x5b7cbb){if(!this['_contentEn'+'tity'])return;const _0x59c32b=this['_getAxis'](_0x5b7cbb),_0x33eb03=this['_getSign'](_0x5b7cbb),_0x439926=this['_prevConte'+'ntSizes'][_0x5b7cbb],_0x170418=this['_getConten'+'tSize'](_0x5b7cbb);if(_0x439926!==null&&Math['abs'](_0x439926-_0x170418)>-0x6*-0x80+0x390+-0xc*0x8c+0.0001){const _0x290632=this['_getMaxOff'+'set'](_0x5b7cbb,_0x439926),_0x3b6156=this['_getMaxOff'+'set'](_0x5b7cbb,_0x170418);_0x3b6156===0x2a5+-0xadc+-0x2bd*-0x3?this['_scroll'][_0x59c32b]=-0x19*0x4c+0x1e0f+-0x16a2:this['_scroll'][_0x59c32b]=Y['clamp'](this['_scroll'][_0x59c32b]*_0x290632/_0x3b6156,0x171d+0x1*0x1555+-0x2c72,-0x523+-0x1bb9+0x20dd);}const _0x26132b=this['_scroll'][_0x59c32b]*this['_getMaxOff'+'set'](_0x5b7cbb),_0x53fe8b=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x53fe8b[_0x59c32b]=_0x26132b*_0x33eb03,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x53fe8b),this['_prevConte'+'ntSizes'][_0x5b7cbb]=_0x170418;}['_syncScrol'+'lbarPositi'+'on'](_0x340585){const _0x4c618e=this['_scrollbar'+'Entities'][_0x340585];if(!(_0x4c618e!=null&&_0x4c618e['scrollbar']))return;const _0x110991=this['_getAxis'](_0x340585);this['_scrollbar'+'UpdateFlag'+'s'][_0x340585]=!(0x1faf+-0x1d98+-0x217),_0x4c618e['scrollbar']['value']=this['_scroll'][_0x110991],_0x4c618e['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x110991,_0x340585),this['_scrollbar'+'UpdateFlag'+'s'][_0x340585]=!(-0x2443+-0x23b*0x11+0x4a2f);}['_syncScrol'+'lbarEnable'+'dState'](_0x361b9f){const _0x2fed4b=this['_scrollbar'+'Entities'][_0x361b9f];if(!_0x2fed4b)return;const _0x37f5e5=this['_getScroll'+'ingEnabled'](_0x361b9f),_0x5f3798=this['_getScroll'+'barVisibil'+'ity'](_0x361b9f);switch(_0x5f3798){case eF:_0x2fed4b['enabled']=_0x37f5e5;return;case tF:_0x2fed4b['enabled']=_0x37f5e5&&this['_contentIs'+'LargerThan'+'Viewport'](_0x361b9f);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x5f3798),_0x2fed4b['enabled']=_0x37f5e5;}}['_contentIs'+'LargerThan'+'Viewport'](_0x210086){return this['_getConten'+'tSize'](_0x210086)>this['_getViewpo'+'rtSize'](_0x210086);}['_contentPo'+'sitionToSc'+'rollValue'](_0x7367bc){const _0x17c88f=this['_getMaxOff'+'set'](Ce),_0x3d2f65=this['_getMaxOff'+'set'](je);return _0x17c88f===0x321+-0x6cd+-0x2f*-0x14?xo['x']=-0x72d+0x1431+-0xd04:xo['x']=_0x7367bc['x']/_0x17c88f,_0x3d2f65===-0xc32+0x2f9*0xa+-0x8c4*0x2?xo['y']=-0x1ca2+0x466*-0x7+0xedb*0x4:xo['y']=_0x7367bc['y']/-_0x3d2f65,xo;}['_getMaxOff'+'set'](_0x44be05,_0x11c9be){_0x11c9be=_0x11c9be===void(-0x1a02+-0x257e+0x3f80)?this['_getConten'+'tSize'](_0x44be05):_0x11c9be;const _0x398129=this['_getViewpo'+'rtSize'](_0x44be05);return _0x11c9be<_0x398129?-this['_getViewpo'+'rtSize'](_0x44be05):_0x398129-_0x11c9be;}['_getMaxScr'+'ollValue'](_0x528e96){return this['_contentIs'+'LargerThan'+'Viewport'](_0x528e96)?-0x43*0x8c+-0x55*0x57+0x2*0x20c4:0xd55+0xaa2+-0x7fd*0x3;}['_getScroll'+'barHandleS'+'ize'](_0x573670,_0x373a37){const _0x2336b4=this['_getViewpo'+'rtSize'](_0x373a37),_0x2820ac=this['_getConten'+'tSize'](_0x373a37);if(Math['abs'](_0x2820ac)<0x509+-0x1e9d+-0x2*-0xcca+0.001)return-0x125*-0x5+-0x1aff+-0x1*-0x1547;const _0x24a885=Math['min'](_0x2336b4/_0x2820ac,-0x7d*-0x8+-0x5b5*-0x4+-0x1abb),_0x289b95=this['_toOversho'+'ot'](this['_scroll'][_0x573670],_0x373a37);return _0x289b95===0x7bf+-0x131f+0xb60*0x1?_0x24a885:_0x24a885/(0x222+-0x2215+-0x4*-0x7fd+Math['abs'](_0x289b95));}['_getViewpo'+'rtSize'](_0x10290f){return this['_getSize'](_0x10290f,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x371bdb){return this['_getSize'](_0x371bdb,this['_contentEn'+'tity']);}['_getSize'](_0x5b7e13,_0x2ad722){return _0x2ad722!=null&&_0x2ad722['element']?_0x2ad722['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x5b7e13)]:0x1b*-0x2c+-0x21e2+0x2686;}['_getScroll'+'ingEnabled'](_0x23bf50){if(_0x23bf50===Ce)return this['horizontal'];if(_0x23bf50===je)return this['vertical'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x23bf50);}['_getScroll'+'barVisibil'+'ity'](_0xac0ef){if(_0xac0ef===Ce)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0xac0ef===je)return this['verticalSc'+'rollbarVis'+'ibility'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0xac0ef);}['_getSign'](_0x12faee){return _0x12faee===Ce?-0x9*-0x151+-0xf50+0x378:-(-0x1f6f+0x6*0x28b+0x102e);}['_getAxis'](_0x357b33){return _0x357b33===Ce?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x163012){return _0x163012===Ce?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===aS&&(this['_hasOversh'+'oot']('x',Ce)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',Ce),this['_hasOversh'+'oot']('y',je)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',je)),Math['abs'](this['_velocity']['x'])>-0x1*-0x23ed+0x6ab+-0x3a*0xbc+0.0001||Math['abs'](this['_velocity']['y'])>-0x16ed*0x1+-0x15d*-0x5+0x1*0x101c+0.0001){const _0x2d8d24=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x2d8d24['x']+=this['_velocity']['x'],_0x2d8d24['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x2d8d24),this['_setScroll'+'FromConten'+'tPosition'](_0x2d8d24);}this['_velocity']['x']*=0xdac+-0x2ce+-0xadd-this['friction'],this['_velocity']['y']*=-0x16f4+0x72e*-0x1+0x1e23*0x1-this['friction'];}}['_hasOversh'+'oot'](_0x5dc239,_0x9b7a7){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x5dc239],_0x9b7a7))>-0x13ec+0x134f*-0x2+-0x1*-0x3a8a+0.001;}['_toOversho'+'ot'](_0x143b38,_0x1ce6d1){const _0x264dd3=this['_getMaxScr'+'ollValue'](_0x1ce6d1);return _0x143b38<-0x17b5+0x90b+0xeaa?_0x143b38:_0x143b38>_0x264dd3?_0x143b38-_0x264dd3:-0x4f1*-0x1+-0x887*0x3+0x14a4;}['_setVeloci'+'tyFromOver'+'shoot'](_0x230e90,_0x2e6d7d,_0x5683fa){const _0x582112=this['_toOversho'+'ot'](_0x230e90,_0x5683fa)*this['_getMaxOff'+'set'](_0x5683fa)*this['_getSign'](_0x5683fa);Math['abs'](_0x582112)>-0x1c46+-0x1231+-0x131*-0x27&&(this['_velocity'][_0x2e6d7d]=-_0x582112/(this['bounceAmou'+'nt']*(-0x116*0x1f+-0x1482+0x365e)+(-0x335*-0xb+-0x2665*0x1+0x31f)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x1ac1e8){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x1ac1e8,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x1ac1e8)):(this['_velocity']['set'](0x1*0x21e5+0x466+-0x264b,-0x17e3+-0x1c47*-0x1+-0x2*0x232,0x1570+0x2457+-0x841*0x7),this['_prevConte'+'ntDragPosi'+'tion']=_0x1ac1e8['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x13f4bf){let _0x5675e2=this['_contentPo'+'sitionToSc'+'rollValue'](_0x13f4bf);this['_isDraggin'+'g']()&&(_0x5675e2=this['_applyScro'+'llValueTen'+'sion'](_0x5675e2)),this['_onSetScro'+'ll'](_0x5675e2['x'],_0x5675e2['y'],!(0x1790+0xfdf*0x2+-0x374d));}['_applyScro'+'llValueTen'+'sion'](_0x47e5bd){let _0x290059=this['_getMaxScr'+'ollValue'](Ce),_0x51c06a=this['_toOversho'+'ot'](_0x47e5bd['x'],Ce);return _0x51c06a>-0x2*0x3e2+0x7f6+-0x1*0x32?_0x47e5bd['x']=_0x290059+(-0x1316*-0x1+-0x1ba+-0x115b)*Math['log10'](0xfdd*0x2+-0xe2e+-0x118b+_0x51c06a):_0x51c06a<0x1fe4+-0x1438+-0xbac&&(_0x47e5bd['x']=-(0x8*-0x38+-0x1*-0xc25+-0xa64)*Math['log10'](0x227f+0x357+-0x25d5-_0x51c06a)),_0x290059=this['_getMaxScr'+'ollValue'](je),_0x51c06a=this['_toOversho'+'ot'](_0x47e5bd['y'],je),_0x51c06a>-0x3*-0xc67+0x1214+-0x3749?_0x47e5bd['y']=_0x290059+(0xe+0x154d*0x1+-0x71e*0x3)*Math['log10'](0x2f*0x52+-0x1922*-0x1+0x17d*-0x1b+_0x51c06a):_0x51c06a<-0x357+0x10c8+0xd71*-0x1&&(_0x47e5bd['y']=-(-0x1ae9*-0x1+-0xca6+-0x49*0x32)*Math['log10'](0xff6*-0x2+0x223d+0x10*-0x25-_0x51c06a)),_0x47e5bd;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x270284){var _0x39f3dd,_0x2d2980;(_0x39f3dd=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x39f3dd['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x270284),(_0x2d2980=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x2d2980['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x270284);}['_setConten'+'tDraggingE'+'nabled'](_0x38f590){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x38f590);}['_onMouseWh'+'eel'](_0x450457){var _0x5aadd8;if(!this['useMouseWh'+'eel']||!((_0x5aadd8=this['_contentEn'+'tity'])!=null&&_0x5aadd8['element']))return;const _0x28e7a3=_0x450457['event'],_0x74757c=_0x28e7a3['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x110b0b=_0x28e7a3['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x1873ba=Y['clamp'](this['_scroll']['x']+_0x74757c,0x850+0x16d*0x7+0x619*-0x3,this['_getMaxScr'+'ollValue'](Ce)),_0x384ccf=Y['clamp'](this['_scroll']['y']+_0x110b0b,-0x8f5+0x1*0x11fb+-0x906,this['_getMaxScr'+'ollValue'](je));this['scroll']=new J(_0x1873ba,_0x384ccf);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x11c870=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x11c870['element']&&(_0x11c870['element']['useInput']=!(-0x3f4*-0x2+-0x1*0x2393+-0x1bab*-0x1));}this['_disabledC'+'ontentInpu'+'t']=!(-0x1da3+0x1bdb+0x1c9);}['_disableCo'+'ntentInput'](){const _0x1fae8b=_0x21473f=>{_0x21473f['element']&&_0x21473f['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x21473f),_0x21473f['element']['useInput']=!(-0xd86+-0x1d56+0x2add));const _0x5ef354=_0x21473f['children'];for(let _0x4e1a39=-0x1*0x2413+0x1fa0+0x473,_0x433348=_0x5ef354['length'];_0x4e1a39<_0x433348;_0x4e1a39++)_0x1fae8b(_0x5ef354[_0x4e1a39]);};if(this['_contentEn'+'tity']){const _0x53c995=this['_contentEn'+'tity']['children'];for(let _0x58e6fa=-0x7df+-0x26c9*-0x1+0xa4e*-0x3,_0x27f756=_0x53c995['length'];_0x58e6fa<_0x27f756;_0x58e6fa++)_0x1fae8b(_0x53c995[_0x58e6fa]);}this['_disabledC'+'ontentInpu'+'t']=!(-0x14b1+0xd5e+-0xf*-0x7d);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x2*-0xfe+-0x1*-0x268a+-0x248e)),this['_setConten'+'tDraggingE'+'nabled'](!(0x1074*-0x1+-0xb*-0x283+0x1*-0xb2d)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x112b+-0xeb1+0x1fdd)),this['_setConten'+'tDraggingE'+'nabled'](!(0xa24+0x5c8+-0xfeb));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3d2d06,_0x253133){_0x3d2d06['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x253133[_0x3d2d06['viewportEn'+'tity']['getGuid']()]),_0x3d2d06['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x253133[_0x3d2d06['contentEnt'+'ity']['getGuid']()]),_0x3d2d06['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x253133[_0x3d2d06['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x3d2d06['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x253133[_0x3d2d06['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}h(c0,'EVENT_SETS'+'CROLL','set:scroll');const sF=-0x2506+-0x4*0x38f+-0xe*-0x3aa;class iF{constructor(){h(this,'enabled',!(0x1057*-0x1+-0x16de+-0x1*-0x2735)),h(this,'horizontal'),h(this,'vertical'),h(this,'scrollMode'),h(this,'bounceAmou'+'nt'),h(this,'friction'),h(this,'dragThresh'+'old',sF),h(this,'useMouseWh'+'eel',!(-0x83f*-0x3+-0x25e+0x165f*-0x1)),h(this,'mouseWheel'+'Sensitivit'+'y',new J(-0x1*0x21d1+0x1c8c+0x546,0x11cc+0x1645+-0x2810)),h(this,'horizontal'+'ScrollbarV'+'isibility',-0xb0*-0x23+0xcfb+-0x250b),h(this,'verticalSc'+'rollbarVis'+'ibility',-0x35f+0x1d0e+0x523*-0x5),h(this,'viewportEn'+'tity',null),h(this,'contentEnt'+'ity',null),h(this,'horizontal'+'ScrollbarE'+'ntity',null),h(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const nS=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],rF=0x6dd+0x1d*0xdb+-0x1fa2;class aF extends ct{constructor(_0x3ed7ce){super(_0x3ed7ce),this['id']='scrollview',this['ComponentT'+'ype']=c0,this['DataType']=iF,this['schema']=nS,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x17550a,_0x1d109e,_0x85ab34){_0x1d109e['dragThresh'+'old']===void(0x482+-0x15da+-0x1e*-0x94)&&(_0x1d109e['dragThresh'+'old']=rF),_0x1d109e['useMouseWh'+'eel']===void(-0x3e0+0x2188+-0x1da8*0x1)&&(_0x1d109e['useMouseWh'+'eel']=!(0x1*0x132f+-0x2707+0x14*0xfe)),_0x1d109e['mouseWheel'+'Sensitivit'+'y']===void(0x546+0x1*0x1df0+-0x2336)&&(_0x1d109e['mouseWheel'+'Sensitivit'+'y']=new J(-0x11b9+-0x1209+0x727*0x5,-0x4*0x741+-0x1e61+0x2*0x1db3)),super['initialize'+'ComponentD'+'ata'](_0x17550a,_0x1d109e,nS),_0x17550a['viewportEn'+'tity']=_0x1d109e['viewportEn'+'tity'],_0x17550a['contentEnt'+'ity']=_0x1d109e['contentEnt'+'ity'],_0x17550a['horizontal'+'ScrollbarE'+'ntity']=_0x1d109e['horizontal'+'ScrollbarE'+'ntity'],_0x17550a['verticalSc'+'rollbarEnt'+'ity']=_0x1d109e['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x229cd0){const _0x29a85f=this['store'];for(const _0x3bcc8d in _0x29a85f){const _0x147fb0=_0x29a85f[_0x3bcc8d]['entity'],_0x1253b7=_0x147fb0['scrollview'];_0x1253b7['enabled']&&_0x147fb0['enabled']&&_0x1253b7['onUpdate']();}}['_onRemoveC'+'omponent'](_0x54e7c5,_0x2500a9){_0x2500a9['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class h0 extends we{constructor(_0xabcd4a,_0x5be064){super(_0xabcd4a,_0x5be064),h(this,'_handleEnt'+'ity',null),h(this,'_evtHandle'+'EntityElem'+'entAdd',null),h(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x50a71e=this['system']['store'][this['entity']['getGuid']()];return _0x50a71e?_0x50a71e['data']:null;}set['enabled'](_0x24db35){this['_setValue']('enabled',_0x24db35);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x128734){this['_setValue']('orientatio'+'n',_0x128734);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x139e25){this['_setValue']('value',_0x139e25);}get['value'](){return this['data']['value'];}set['handleSize'](_0xed8b85){this['_setValue']('handleSize',_0xed8b85);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x2b7bc7){if(this['_handleEnt'+'ity']===_0x2b7bc7)return;const _0x38d057=typeof _0x2b7bc7=='string';this['_handleEnt'+'ity']&&_0x38d057&&this['_handleEnt'+'ity']['getGuid']()===_0x2b7bc7||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x2b7bc7 instanceof Ie?this['_handleEnt'+'ity']=_0x2b7bc7:_0x38d057?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x2b7bc7)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x38d057&&_0x2b7bc7&&(this['data']['handleEnti'+'ty']=_0x2b7bc7));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x564f3d,_0x50e66b){const _0x35cab1=this['data'],_0x2be802=_0x35cab1[_0x564f3d];_0x35cab1[_0x564f3d]=_0x50e66b,this['fire']('set',_0x564f3d,_0x2be802,_0x50e66b);}['_toggleLif'+'ecycleList'+'eners'](_0x423ab5){this[_0x423ab5]('set_value',this['_onSetValu'+'e'],this),this[_0x423ab5]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x423ab5]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x3d1839,_0x11687f;(_0x3d1839=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x3d1839['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x11687f=this['_handleEnt'+'ity'])!=null&&_0x11687f['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x5781fc=this['_handleEnt'+'ity']['element'],_0x27bb5d=this['_evtHandle'+'EntityChan'+'ges'];_0x27bb5d['push'](_0x5781fc['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x27bb5d['push'](_0x5781fc['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x27bb5d['push'](_0x5781fc['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x27bb5d['push'](_0x5781fc['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x2ff682=-0x7*-0x4b1+0x51*-0x3+-0x1fe4;_0x2ff682<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x2ff682++)this['_evtHandle'+'EntityChan'+'ges'][_0x2ff682]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=-0x9*0x35+-0x70*-0x2f+-0x12b3;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new Go(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x2b8dd0){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x2b8dd0[this['_getAxis']()]));}['_onSetValu'+'e'](_0x34070c,_0x16f538,_0x5c2b1a){Math['abs'](_0x5c2b1a-_0x16f538)>-0x10*-0x22e+-0x1d0*0xf+0x7b*-0x10+0.00001&&(this['data']['value']=Y['clamp'](_0x5c2b1a,0x389*-0xa+0x2*0x11a5+0x10,-0x2051+0x11*-0x22b+0x452d),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x4028a1,_0x150385,_0x29c93f){Math['abs'](_0x29c93f-_0x150385)>0x1c9c*-0x1+0x1*-0x1bdb+-0x19d*-0x23+0.00001&&(this['data']['handleSize']=Y['clamp'](_0x29c93f,0xd4+-0x2504+0x18*0x182,-0xb7d+0x19b8+-0xe3a),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x4f0329,_0x3946aa,_0x40529c){var _0x80bd17;_0x40529c!==_0x3946aa&&((_0x80bd17=this['_handleEnt'+'ity'])!=null&&_0x80bd17['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=0x157*0x1+-0x30c*0xa+0x1d21);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x4c0a56=this['_handleEnt'+'ity'],_0x1fa0fe=_0x4c0a56==null?void(0xdc*0x5+-0x5d0+-0x2*-0xc2):_0x4c0a56['element'];if(_0x4c0a56){const _0xb80324=_0x4c0a56['getLocalPo'+'sition']();_0xb80324[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x4c0a56['setLocalPo'+'sition'](_0xb80324);}_0x1fa0fe&&(_0x1fa0fe[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0xc05bbc){return _0xc05bbc*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x464ab9){return _0x464ab9*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),0x611+0x1*0xadb+-0x72*0x26+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===Ce?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:-0x32*0x15+0x3d0+0x4a;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===Ce?-0xe3a+0x4*0x95c+-0x1*0x1735:-(-0xf0a+0x67a+-0x891*-0x1);}['_getAxis'](){return this['orientatio'+'n']===Ce?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===Ce?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===Ce?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0xd254ba){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0xd254ba);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x2e*-0x73+0x1d7c+-0x395*0xe));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x173e+-0x11b*0x13+0x2c40));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x43c905,_0x153304){_0x43c905['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x153304[_0x43c905['handleEnti'+'ty']['getGuid']()]);}}h(h0,'EVENT_SETV'+'ALUE','set:value');class nF{constructor(){h(this,'enabled',!(0x20de+-0x9f0+-0x16ee)),h(this,'orientatio'+'n',Ce),h(this,'value',0x14cf+0xd0b+-0xe*0x26b),h(this,'handleSize',0x79f*0x4+0xe1e+-0x2c9a),h(this,'handleEnti'+'ty',null);}}const oS=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class oF extends ct{constructor(_0x399054){super(_0x399054),this['id']='scrollbar',this['ComponentT'+'ype']=h0,this['DataType']=nF,this['schema']=oS,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x2badf1,_0x85aa97,_0x200d0f){super['initialize'+'ComponentD'+'ata'](_0x2badf1,_0x85aa97,oS),_0x2badf1['handleEnti'+'ty']=_0x85aa97['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x52f853){_0x52f853['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x35cebc,_0x4c6fd0){_0x4c6fd0['onRemove']();}}const lF={'volume':0x0,'pitch':0x0,'loop':!(-0x745+0x343*0x1+0x403*0x1),'startTime':0x0,'duration':0x0,'position':new D(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class Gi extends me{constructor(_0x43e026,_0x1a27b9='Untitled',_0x4a8d63={}){super(),h(this,'name'),h(this,'instances',[]),(this['_component']=_0x43e026,this['_assets']=_0x43e026['system']['app']['assets'],this['_manager']=_0x43e026['system']['manager'],this['name']=_0x1a27b9,this['_volume']=_0x4a8d63['volume']!==void(0xa79+0x2c6+-0xd3f)?Y['clamp'](Number(_0x4a8d63['volume'])||0x181e+0x6df*-0x3+-0x1*0x381,-0x1*0x1073+-0x1ffb+-0x1*-0x306e,0x33*-0x17+-0x20e9+0x257f):-0x110+-0x1e7d*0x1+0x1f8e,this['_pitch']=_0x4a8d63['pitch']!==void(-0xcc7*-0x3+-0x1f86+-0x7*0xf9)?Math['max'](0x2*0x741+-0x1*0x225a+0x13d8+0.01,Number(_0x4a8d63['pitch'])||-0x1a1e*0x1+-0x1*0x1f3b+-0x115*-0x35):0x1a32*0x1+0x1e*0x6b+-0x26bb,this['_loop']=!!(_0x4a8d63['loop']!==void(-0x1*0x1859+-0x224*0x4+-0x5*-0x695)&&_0x4a8d63['loop']),this['_duration']=_0x4a8d63['duration']>0x1c55*0x1+-0x1*-0x1af3+-0xe8*0x3d?_0x4a8d63['duration']:null,this['_startTime']=Math['max'](0xc*0x1a+0x1*0xdc3+0x5*-0x2ff,Number(_0x4a8d63['startTime'])||0x874+0x24e7+-0x2d5b),this['_overlap']=!!_0x4a8d63['overlap'],this['_autoPlay']=!!_0x4a8d63['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x4a8d63['asset'],this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x48b99b){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){w['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x9a0d14=_0x48b99b;if(_0x9a0d14||(_0x9a0d14=this['_createIns'+'tance'](),this['instances']['push'](_0x9a0d14)),this['isLoaded'])_0x9a0d14['play']();else{const _0x186a1e=function(_0xc094a2){const _0x3e65ce=_0x9a0d14['_playWhenL'+'oaded'];_0x9a0d14['sound']=_0xc094a2,_0x3e65ce&&_0x9a0d14['play']();};this['off']('load',_0x186a1e),this['once']('load',_0x186a1e),this['load']();}return _0x9a0d14;}['pause'](){let _0x2bf476=!(0x1*0x20b1+0x2690+-0x5f*0xc0);const _0x852064=this['instances'];for(let _0xf93375=-0x1*-0x33e+0x1*0xaa4+0x1*-0xde2,_0x56442b=_0x852064['length'];_0xf93375<_0x56442b;_0xf93375++)_0x852064[_0xf93375]['pause']()&&(_0x2bf476=!(-0x220d+0x200e+-0x1ff*-0x1));return _0x2bf476;}['resume'](){let _0x576f71=!(-0x1*-0x1f79+-0x1*0x2217+0xb*0x3d);const _0x3d977d=this['instances'];for(let _0x4f4f61=0x2*0x1189+0x139d+0x1*-0x36af,_0x4baa07=_0x3d977d['length'];_0x4f4f61<_0x4baa07;_0x4f4f61++)_0x3d977d[_0x4f4f61]['resume']()&&(_0x576f71=!(0x22*0x60+0x9e8*0x3+-0x2a78));return _0x576f71;}['stop'](){let _0x2a2bcb=!(0x5*-0x7ab+0x7*-0x3be+-0x16*-0x2ef);const _0x373468=this['instances'];let _0x5bd24e=_0x373468['length'];for(;_0x5bd24e--;)_0x373468[_0x5bd24e]['stop'](),_0x2a2bcb=!(-0x2013+0x185*0x2+0x1d09);return _0x373468['length']=-0x1595+0x2*0x3e5+0xdcb,_0x2a2bcb;}['load'](){if(!this['_hasAsset']())return;const _0x552ac8=this['_assets']['get'](this['_asset']);if(!_0x552ac8){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x552ac8['off']('remove',this['_onAssetRe'+'moved'],this),_0x552ac8['on']('remove',this['_onAssetRe'+'moved'],this),!_0x552ac8['resource']){_0x552ac8['off']('load',this['_onAssetLo'+'ad'],this),_0x552ac8['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x552ac8);return;}this['fire']('load',_0x552ac8['resource']);}['setExterna'+'lNodes'](_0x3b8b3d,_0x2c3fd4){if(!_0x3b8b3d){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x2c3fd4||(_0x2c3fd4=_0x3b8b3d),this['_firstNode']=_0x3b8b3d,this['_lastNode']=_0x2c3fd4,!this['_overlap']){const _0x1ba321=this['instances'];for(let _0x166810=-0x1a*0x17a+0x42e+0x2236,_0x1cbdf0=_0x1ba321['length'];_0x166810<_0x1cbdf0;_0x166810++)_0x1ba321[_0x166810]['setExterna'+'lNodes'](_0x3b8b3d,_0x2c3fd4);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x9679de=this['instances'];for(let _0xb475fa=-0x91*0x13+0xed*-0x25+0x2d04,_0x401e04=_0x9679de['length'];_0xb475fa<_0x401e04;_0xb475fa++)_0x9679de[_0xb475fa]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x33cf64=null;const _0x44f75c=this['_component'];let _0x21f09b=null;if(this['_hasAsset']()){const _0x1a3097=this['_assets']['get'](this['_asset']);_0x1a3097&&(_0x21f09b=_0x1a3097['resource']);}const _0x4a7ed4=lF;return _0x4a7ed4['volume']=this['_volume']*_0x44f75c['volume'],_0x4a7ed4['pitch']=this['_pitch']*_0x44f75c['pitch'],_0x4a7ed4['loop']=this['_loop'],_0x4a7ed4['startTime']=this['_startTime'],_0x4a7ed4['duration']=this['_duration'],_0x4a7ed4['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x4a7ed4['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x4a7ed4['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x4a7ed4['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x4a7ed4['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x44f75c['positional']?(_0x4a7ed4['position']['copy'](_0x44f75c['entity']['getPositio'+'n']()),_0x4a7ed4['maxDistanc'+'e']=_0x44f75c['maxDistanc'+'e'],_0x4a7ed4['refDistanc'+'e']=_0x44f75c['refDistanc'+'e'],_0x4a7ed4['rollOffFac'+'tor']=_0x44f75c['rollOffFac'+'tor'],_0x4a7ed4['distanceMo'+'del']=_0x44f75c['distanceMo'+'del'],_0x33cf64=new sn(this['_manager'],_0x21f09b,_0x4a7ed4)):_0x33cf64=new As(this['_manager'],_0x21f09b,_0x4a7ed4),this['_firstNode']&&_0x33cf64['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x33cf64;}['_onInstanc'+'ePlay'](_0x785e7e){this['fire']('play',_0x785e7e),this['_component']['fire']('play',this,_0x785e7e);}['_onInstanc'+'ePause'](_0xb7bce7){this['fire']('pause',_0xb7bce7),this['_component']['fire']('pause',this,_0xb7bce7);}['_onInstanc'+'eResume'](_0x16dc91){this['fire']('resume',_0x16dc91),this['_component']['fire']('resume',this,_0x16dc91);}['_onInstanc'+'eStop'](_0x51bc13){const _0x5d20b0=this['instances']['indexOf'](_0x51bc13);_0x5d20b0!==-(0x1*-0x2456+-0xe*0x1f+-0x5b*-0x6b)&&this['instances']['splice'](_0x5d20b0,0x2572*0x1+-0x88*0x23+0x5*-0x3c5),this['fire']('stop',_0x51bc13),this['_component']['fire']('stop',this,_0x51bc13);}['_onInstanc'+'eEnd'](_0x1e8b22){const _0x1ab0dd=this['instances']['indexOf'](_0x1e8b22);_0x1ab0dd!==-(0x11f5+0x1667+-0x1*0x285b)&&this['instances']['splice'](_0x1ab0dd,0x9*-0xc5+-0x1*-0x71f+-0x31),this['fire']('end',_0x1e8b22),this['_component']['fire']('end',this,_0x1e8b22);}['_onAssetAd'+'d'](_0x6e360f){this['load']();}['_onAssetLo'+'ad'](_0x47624c){this['load']();}['_onAssetRe'+'moved'](_0x2e4d0f){_0x2e4d0f['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x2e4d0f['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x522b8f){const _0x18addc=this['instances'];for(let _0x599651=0x94*0x32+0x2*-0x9c5+0x16*-0x6d,_0xfbbb82=_0x18addc['length'];_0x599651<_0xfbbb82;_0x599651++)_0x18addc[_0x599651]['position']=_0x522b8f;}set['asset'](_0x3cd0df){const _0x412641=this['_asset'];if(_0x412641){this['_assets']['off']('add:'+_0x412641,this['_onAssetAd'+'d'],this);const _0xff4bfe=this['_assets']['get'](_0x412641);_0xff4bfe&&_0xff4bfe['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x3cd0df,this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x5878da){this['_autoPlay']=!!_0x5878da;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x5f3bf2){if(this['_duration']=Math['max'](0x322*-0x2+-0x18a7*-0x1+-0x621*0x3,Number(_0x5f3bf2)||-0x386+0x4*-0x9aa+0x2a2e*0x1)||null,!this['_overlap']){const _0x3b3882=this['instances'];for(let _0x28c36f=-0x42d*0x3+0x434*-0x4+0x1d57,_0x1c5d95=_0x3b3882['length'];_0x28c36f<_0x1c5d95;_0x28c36f++)_0x3b3882[_0x28c36f]['duration']=this['_duration'];}}get['duration'](){let _0x48182f=-0x3e5*-0x9+0xa97+0x17*-0x1fc;if(this['_hasAsset']()){const _0x5201d1=this['_assets']['get'](this['_asset']);_0x48182f=_0x5201d1!=null&&_0x5201d1['resource']?_0x5201d1['resource']['duration']:0x1614+0x1b96+-0x31aa;}return this['_duration']!=null?this['_duration']%(_0x48182f||0x1a5*0x2+0xb3a+0x5*-0x2e7):_0x48182f;}get['isLoaded'](){if(this['_hasAsset']()){const _0x531ca5=this['_assets']['get'](this['_asset']);if(_0x531ca5)return!!_0x531ca5['resource'];}return!(-0x1*0x531+0x29*0x94+0x67*-0x2e);}get['isPaused'](){const _0xa63c44=this['instances'],_0x22c24a=_0xa63c44['length'];if(_0x22c24a===0x2421+-0x3b*0x6a+-0xbb3)return!(-0x2d2+-0x2*0x9f5+-0x1*-0x16bd);for(let _0x84beb3=-0x517*0x6+-0x556*-0x6+-0x17a;_0x84beb3<_0x22c24a;_0x84beb3++)if(!_0xa63c44[_0x84beb3]['isPaused'])return!(-0xf89+0x40b*0x5+-0x4ad);return!(0x1f19*0x1+-0xc*-0x2b2+0x1*-0x3f71);}get['isPlaying'](){const _0x3a9d2f=this['instances'];for(let _0x2ee411=0x19c0+-0x1*0x1695+0x32b*-0x1,_0x271e64=_0x3a9d2f['length'];_0x2ee411<_0x271e64;_0x2ee411++)if(_0x3a9d2f[_0x2ee411]['isPlaying'])return!(-0x1bcb+0x24e+0x197d);return!(0x743+0x26ac+-0x2dee*0x1);}get['isStopped'](){const _0x28e118=this['instances'];for(let _0x32563f=-0x2486+0x1*-0x9fc+-0x2e82*-0x1,_0x2e2d25=_0x28e118['length'];_0x32563f<_0x2e2d25;_0x32563f++)if(!_0x28e118[_0x32563f]['isStopped'])return!(-0x2477+-0xdc0+0x3238);return!(0x272+-0x5c3*0x4+0x6*0x36f);}set['loop'](_0x314c8d){this['_loop']=!!_0x314c8d;const _0x46168d=this['instances'];for(let _0x480c0f=-0x99f+0x1a38+-0x1*0x1099,_0x280c02=_0x46168d['length'];_0x480c0f<_0x280c02;_0x480c0f++)_0x46168d[_0x480c0f]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x313a18){this['_overlap']=!!_0x313a18;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x462b65){if(this['_pitch']=Math['max'](Number(_0x462b65)||0x1*0x26dc+0x204b+-0x4727,-0x2304+0x118a+-0x8bd*-0x2+0.01),!this['_overlap']){const _0x10e814=this['instances'];for(let _0x44390d=0x1f32+0x1b96+0x84*-0x72,_0x256e28=_0x10e814['length'];_0x44390d<_0x256e28;_0x44390d++)_0x10e814[_0x44390d]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x45302b){if(this['_startTime']=Math['max'](0x5d4+0x1a6b+-0x203f,Number(_0x45302b)||0x7c0+0x1945*-0x1+-0xc3*-0x17),!this['_overlap']){const _0x3e6e12=this['instances'];for(let _0x1491ac=0x1*0x2593+-0xfdc+-0x15b7,_0x562f90=_0x3e6e12['length'];_0x1491ac<_0x562f90;_0x1491ac++)_0x3e6e12[_0x1491ac]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0xa6a417){if(this['_volume']=Y['clamp'](Number(_0xa6a417)||-0x2702+-0x1a9*-0x15+0x425,0x1*0x34b+-0xc85*-0x3+-0x12*0x245,0xb0f+-0xc74+0x166),!this['_overlap']){const _0x19e991=this['instances'];for(let _0x3dcd56=0x144*-0x13+0x127a+0x2*0x2c9,_0x1ed2ea=_0x19e991['length'];_0x3dcd56<_0x1ed2ea;_0x3dcd56++)_0x19e991[_0x3dcd56]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}h(Gi,'EVENT_PLAY','play'),h(Gi,'EVENT_PAUS'+'E','pause'),h(Gi,'EVENT_RESU'+'ME','resume'),h(Gi,'EVENT_STOP','stop'),h(Gi,'EVENT_END','end'),h(Gi,'EVENT_LOAD','load');class Kr extends we{constructor(){super(...arguments),h(this,'_volume',-0x1e27+0x511*-0x7+-0x419f*-0x1),h(this,'_pitch',0xde*-0x20+0x166+-0x1a5b*-0x1),h(this,'_positiona'+'l',!(-0xb60+0x1f06+-0x13a6)),h(this,'_refDistan'+'ce',-0x1be3+0x206e+-0x48a),h(this,'_maxDistan'+'ce',-0x1a75+0x1*0x424f+-0x65*0x2),h(this,'_rollOffFa'+'ctor',0x1ebc+0x4*0x444+-0x2fcb*0x1),h(this,'_distanceM'+'odel',Vp),h(this,'_slots',{}),h(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x3422f8,_0x2fca03,_0x16d466){const _0x3e522e=this['_slots'];for(const _0x51545f in _0x3e522e){const _0x31f369=_0x3e522e[_0x51545f];if(!_0x31f369['overlap']){const _0x4e4ef7=_0x31f369['instances'];for(let _0x2ffa5c=-0x106*-0x25+-0x136b*0x2+0xf8,_0x2bc7f0=_0x4e4ef7['length'];_0x2ffa5c<_0x2bc7f0;_0x2ffa5c++)_0x4e4ef7[_0x2ffa5c][_0x3422f8]=_0x16d466?_0x31f369[_0x3422f8]*_0x2fca03:_0x2fca03;}}}set['distanceMo'+'del'](_0x3a1a6a){this['_distanceM'+'odel']=_0x3a1a6a,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x3a1a6a,!(0x432*0x6+-0xcee+0xc3d*-0x1));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x149a4d){this['_maxDistan'+'ce']=_0x149a4d,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x149a4d,!(-0x650+-0x2ba+0x90b));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x5c7bcb){this['_refDistan'+'ce']=_0x5c7bcb,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x5c7bcb,!(-0xac6+0x89b+0x116*0x2));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x4f8a87){this['_rollOffFa'+'ctor']=_0x4f8a87,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x4f8a87,!(-0x3*-0x823+0x1c*-0x4f+-0x2*0x7e2));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x2e56e4){this['_pitch']=_0x2e56e4,this['_updateSou'+'ndInstance'+'s']('pitch',_0x2e56e4,!(0x7*-0x2e1+-0x1ecb+-0x2*-0x1979));}get['pitch'](){return this['_pitch'];}set['volume'](_0x4b033b){this['_volume']=_0x4b033b,this['_updateSou'+'ndInstance'+'s']('volume',_0x4b033b,!(0xaf+-0x1f0d+0x1e5e*0x1));}get['volume'](){return this['_volume'];}set['positional'](_0x3c9d1f){this['_positiona'+'l']=_0x3c9d1f;const _0xa567e5=this['_slots'];for(const _0x398f3a in _0xa567e5){const _0x3611eb=_0xa567e5[_0x398f3a];if(!_0x3611eb['overlap']){const _0x39d987=_0x3611eb['instances'],_0x38d964=_0x39d987['length'];for(let _0x36d917=_0x38d964-(-0x798+0x4f*-0xc+0x107*0xb);_0x36d917>=-0x902*-0x4+-0x1*0x135e+-0x10aa;_0x36d917--){const _0x576c55=_0x39d987[_0x36d917]['isPlaying']||_0x39d987[_0x36d917]['isSuspende'+'d'],_0x5910a4=_0x39d987[_0x36d917]['currentTim'+'e'];_0x576c55&&_0x39d987[_0x36d917]['stop']();const _0xff88c6=_0x3611eb['_createIns'+'tance']();_0x576c55&&(_0xff88c6['play'](),_0xff88c6['currentTim'+'e']=_0x5910a4),_0x39d987['push'](_0xff88c6);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x33f3cf){const _0x363a58=this['_slots'];if(_0x363a58){for(const _0x507bc9 in _0x363a58)_0x363a58[_0x507bc9]['stop']();}const _0x108f5b={};for(const _0x32e8a4 in _0x33f3cf)_0x33f3cf[_0x32e8a4]instanceof Gi?_0x108f5b[_0x33f3cf[_0x32e8a4]['name']]=_0x33f3cf[_0x32e8a4]:_0x33f3cf[_0x32e8a4]['name']&&(_0x108f5b[_0x33f3cf[_0x32e8a4]['name']]=new Gi(this,_0x33f3cf[_0x32e8a4]['name'],_0x33f3cf[_0x32e8a4]));this['_slots']=_0x108f5b,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x1d7ef5=this['_slots'],_0x2003fc=this['_playingBe'+'foreDisabl'+'e'];for(const _0x451d33 in _0x1d7ef5){const _0x41f487=_0x1d7ef5[_0x451d33];_0x41f487['autoPlay']&&_0x41f487['isStopped']?_0x41f487['play']():_0x2003fc[_0x451d33]?_0x41f487['resume']():_0x41f487['isLoaded']||_0x41f487['load']();}}['onDisable'](){const _0x4b88ed=this['_slots'],_0xeb6a64={};for(const _0x2d0b4e in _0x4b88ed)_0x4b88ed[_0x2d0b4e]['overlap']||_0x4b88ed[_0x2d0b4e]['isPlaying']&&(_0x4b88ed[_0x2d0b4e]['pause'](),_0xeb6a64[_0x2d0b4e]=!(-0x17*0x151+0x1*0xe59+0x7f7*0x2));this['_playingBe'+'foreDisabl'+'e']=_0xeb6a64;}['onRemove'](){this['off']();}['addSlot'](_0x517bb7,_0x23e2a6){const _0x4b6be9=this['_slots'];if(_0x4b6be9[_0x517bb7])return w['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x517bb7+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x2cb3bc=new Gi(this,_0x517bb7,_0x23e2a6);return _0x4b6be9[_0x517bb7]=_0x2cb3bc,_0x2cb3bc['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x2cb3bc['play'](),_0x2cb3bc;}['removeSlot'](_0x1ca18b){const _0x12f607=this['_slots'];_0x12f607[_0x1ca18b]&&(_0x12f607[_0x1ca18b]['stop'](),delete _0x12f607[_0x1ca18b]);}['slot'](_0x50588b){return this['_slots'][_0x50588b];}['_getSlotPr'+'operty'](_0x24f91a,_0x2f96b6){if(!this['enabled']||!this['entity']['enabled'])return;const _0x1b4dc7=this['_slots'][_0x24f91a];if(!_0x1b4dc7){w['warn']('Trying\x20to\x20'+'get\x20'+_0x2f96b6+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x24f91a+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x1b4dc7[_0x2f96b6];}['isPlaying'](_0x41d6cd){return this['_getSlotPr'+'operty'](_0x41d6cd,'isPlaying')||!(-0x1924+0x1a62+-0x13d);}['isLoaded'](_0x47899d){return this['_getSlotPr'+'operty'](_0x47899d,'isLoaded')||!(-0x37*-0x27+-0x1a73+0x1213*0x1);}['isPaused'](_0x300a62){return this['_getSlotPr'+'operty'](_0x300a62,'isPaused')||!(0x11b3+0x5*-0x5f5+0xc17);}['isStopped'](_0x30f4d0){return this['_getSlotPr'+'operty'](_0x30f4d0,'isStopped')||!(0x5af+-0x25c3+0xbf*0x2b);}['play'](_0x4eddc5){if(!this['enabled']||!this['entity']['enabled'])return null;const _0xb366b8=this['_slots'][_0x4eddc5];return _0xb366b8?_0xb366b8['play']():(w['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x4eddc5+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x38ac23){const _0x5e91fa=this['_slots'];if(_0x38ac23){const _0x2a7eae=_0x5e91fa[_0x38ac23];if(!_0x2a7eae){w['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x38ac23+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x2a7eae['pause']();}else{for(const _0x1a2112 in _0x5e91fa)_0x5e91fa[_0x1a2112]['pause']();}}['resume'](_0x29875e){const _0x55911c=this['_slots'];if(_0x29875e){const _0x234280=_0x55911c[_0x29875e];if(!_0x234280){w['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x29875e+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x234280['isPaused']&&_0x234280['resume']();}else{for(const _0x4e34f9 in _0x55911c)_0x55911c[_0x4e34f9]['resume']();}}['stop'](_0x1dc512){const _0x5b7094=this['_slots'];if(_0x1dc512){const _0x186e91=_0x5b7094[_0x1dc512];if(!_0x186e91){w['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x1dc512+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x186e91['stop']();}else{for(const _0x27417c in _0x5b7094)_0x5b7094[_0x27417c]['stop']();}}}h(Kr,'EVENT_PLAY','play'),h(Kr,'EVENT_PAUS'+'E','pause'),h(Kr,'EVENT_RESU'+'ME','resume'),h(Kr,'EVENT_STOP','stop'),h(Kr,'EVENT_END','end');class cF{constructor(){this['enabled']=!(-0x1f3f+0x14e8+-0x1*-0xa57);}}const d0=['enabled'];class hF extends ct{constructor(_0x48e42b){super(_0x48e42b),this['id']='sound',this['ComponentT'+'ype']=Kr,this['DataType']=cF,this['schema']=d0,this['manager']=_0x48e42b['soundManag'+'er'],w['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x4cff93){this['manager']['volume']=_0x4cff93;}get['volume'](){return this['manager']['volume'];}get['context'](){return Dl()?this['manager']['context']:(w['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x5d86ec,_0x497366,_0x56dd2e){_0x56dd2e=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x54eb81=-0x25b5+0x89d+-0x31*-0x98;_0x54eb81<_0x56dd2e['length'];_0x54eb81++)_0x497366['hasOwnProp'+'erty'](_0x56dd2e[_0x54eb81])&&(_0x5d86ec[_0x56dd2e[_0x54eb81]]=_0x497366[_0x56dd2e[_0x54eb81]]);super['initialize'+'ComponentD'+'ata'](_0x5d86ec,_0x497366,['enabled']);}['cloneCompo'+'nent'](_0x349f8f,_0x4974d3){const _0xf5cd64=_0x349f8f['sound'],_0x360964=_0xf5cd64['slots'],_0x3cb88a={};for(const _0xcd8bcb in _0x360964){const _0x1df2bb=_0x360964[_0xcd8bcb];_0x3cb88a[_0xcd8bcb]={'name':_0x1df2bb['name'],'volume':_0x1df2bb['volume'],'pitch':_0x1df2bb['pitch'],'loop':_0x1df2bb['loop'],'duration':_0x1df2bb['duration'],'startTime':_0x1df2bb['startTime'],'overlap':_0x1df2bb['overlap'],'autoPlay':_0x1df2bb['autoPlay'],'asset':_0x1df2bb['asset']};}const _0x2f4e13={'distanceModel':_0xf5cd64['distanceMo'+'del'],'enabled':_0xf5cd64['enabled'],'maxDistance':_0xf5cd64['maxDistanc'+'e'],'pitch':_0xf5cd64['pitch'],'positional':_0xf5cd64['positional'],'refDistance':_0xf5cd64['refDistanc'+'e'],'rollOffFactor':_0xf5cd64['rollOffFac'+'tor'],'slots':_0x3cb88a,'volume':_0xf5cd64['volume']};return this['addCompone'+'nt'](_0x4974d3,_0x2f4e13);}['onUpdate'](_0x344c24){const _0x554149=this['store'];for(const _0x441c2d in _0x554149)if(_0x554149['hasOwnProp'+'erty'](_0x441c2d)){const _0x18d683=_0x554149[_0x441c2d]['entity'];if(_0x18d683['enabled']){const _0x1e97d2=_0x18d683['sound'];if(_0x1e97d2['enabled']&&_0x1e97d2['positional']){const _0xcba42=_0x18d683['getPositio'+'n'](),_0x9f87cb=_0x1e97d2['slots'];for(const _0x1fd207 in _0x9f87cb)_0x9f87cb[_0x1fd207]['updatePosi'+'tion'](_0xcba42);}}}}['onBeforeRe'+'move'](_0xd53096,_0x1d408a){const _0x39c0e0=_0x1d408a['slots'];for(const _0x118e86 in _0x39c0e0)_0x39c0e0[_0x118e86]['overlap']||_0x39c0e0[_0x118e86]['stop']();_0x1d408a['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Kr['prototype'],d0);const lS='simple',cS='animated';class Hi extends me{constructor(_0x4beb44,_0x3b46b2){super(),h(this,'_evtSetMes'+'hes',null),(this['_component']=_0x4beb44,this['_frame']=0x1941+-0x395*0x5+0xeb*-0x8,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x3b46b2['spriteAsse'+'t'],this['name']=_0x3b46b2['name'],this['fps']=_0x3b46b2['fps']||0xb8f+-0x19a9+0xe1a,this['loop']=_0x3b46b2['loop']||!(0x1510+0x11ab+0x135d*-0x2),this['_playing']=!(-0x3*0xb8d+0x983+0x1*0x1925),this['_paused']=!(-0x1*0x2a5+-0x1ea5+0x214b),this['_time']=-0xd8a+-0x1*0x2696+0x3420);}get['duration'](){if(this['_sprite']){const _0x33ec33=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x33ec33);}return-0x4*-0x10d+0x170+-0x5a4;}set['frame'](_0x54b718){this['_setFrame'](_0x54b718);const _0x38fae4=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x38fae4);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0xd5c531){var _0x2d7d80;if(this['_sprite']&&((_0x2d7d80=this['_evtSetMes'+'hes'])==null||_0x2d7d80['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0xd5c531,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x31307c;!_0xd5c531||!_0xd5c531['atlas']?(_0x31307c=this['_component']['_meshInsta'+'nce'],_0x31307c&&(_0x31307c['deletePara'+'meter']('texture_em'+'issiveMap'),_0x31307c['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0xd5c531['atlas']['texture']&&(_0x31307c=this['_component']['_meshInsta'+'nce'],_0x31307c&&(_0x31307c['setParamet'+'er']('texture_em'+'issiveMap',_0xd5c531['atlas']['texture']),_0x31307c['setParamet'+'er']('texture_op'+'acityMap',_0xd5c531['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x3872fd){const _0x48dfda=this['_component']['system']['app']['assets'];let _0x159991=_0x3872fd;if(_0x3872fd instanceof pe&&(_0x159991=_0x3872fd['id']),this['_spriteAss'+'et']!==_0x159991){if(this['_spriteAss'+'et']){const _0x27d28d=_0x48dfda['get'](this['_spriteAss'+'et']);_0x27d28d&&this['_unbindSpr'+'iteAsset'](_0x27d28d);}if(this['_spriteAss'+'et']=_0x159991,this['_spriteAss'+'et']){const _0xf6f668=_0x48dfda['get'](this['_spriteAss'+'et']);_0xf6f668?this['_bindSprit'+'eAsset'](_0xf6f668):(this['sprite']=null,_0x48dfda['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x9733a7){this['_setTime'](_0x9733a7),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(0xca6+0x43a*0x2+-0x1519),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0x14ee+-0xc28+-0x8c6;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x107b29){this['_component']['system']['app']['assets']['off']('add:'+_0x107b29['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x107b29['id']&&this['_bindSprit'+'eAsset'](_0x107b29);}['_bindSprit'+'eAsset'](_0xbf11e5){_0xbf11e5['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0xbf11e5['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0xbf11e5['resource']?this['_onSpriteA'+'ssetLoad'](_0xbf11e5):this['_component']['system']['app']['assets']['load'](_0xbf11e5);}['_unbindSpr'+'iteAsset'](_0x2b713d){_0x2b713d&&(_0x2b713d['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x2b713d['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x2b713d['resource']&&!_0x2b713d['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x2b713d['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x267a96){if(!_0x267a96['resource'])this['sprite']=null;else{if(_0x267a96['resource']['atlas'])this['sprite']=_0x267a96['resource'];else{const _0x8a2cba=_0x267a96['data']['textureAtl'+'asAsset'],_0x1413b7=this['_component']['system']['app']['assets'];_0x1413b7['off']('load:'+_0x8a2cba,this['_onTexture'+'AtlasLoad'],this),_0x1413b7['once']('load:'+_0x8a2cba,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x34332a){const _0x5d4ee6=this['_spriteAss'+'et'];_0x5d4ee6 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x5d4ee6):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x5d4ee6));}['_onSpriteA'+'ssetRemove'](_0x56539a){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==ci&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x2ffd63){if(this['fps']===-0xc56*0x2+-0x139a+0x761*0x6||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x17c46c=this['fps']<-0xf67+0x41*0x4e+-0x467?-(0x201b+-0x1044+-0xfd6):-0x1*0x188c+-0x225e+0x3aeb,_0x33b4e1=this['_time']+_0x2ffd63*this['_component']['speed']*_0x17c46c,_0xc43f4a=this['duration'],_0x159fb0=_0x33b4e1>_0xc43f4a||_0x33b4e1<0xc36+-0x1fed+-0x1*-0x13b7;this['_setTime'](_0x33b4e1);let _0x140e82=this['frame'];this['_sprite']?_0x140e82=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0xc43f4a):_0x140e82=0xebd+0x1faa+-0x2e67,_0x140e82!==this['_frame']&&this['_setFrame'](_0x140e82),_0x159fb0&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(0x1833+-0x236*-0x1+-0x1a68),this['_paused']=!(0x1e96+0x6*0x47f+-0x398f*0x1),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x219fcc){this['_time']=_0x219fcc;const _0x31cfe8=this['duration'];this['_time']<-0xa2f+-0x9*0x31f+0x2e*0xd5?this['loop']?this['_time']=this['_time']%_0x31cfe8+_0x31cfe8:this['_time']=-0x1c0c+0x4*-0x69e+0x3684:this['_time']>_0x31cfe8&&(this['loop']?this['_time']%=_0x31cfe8:this['_time']=_0x31cfe8);}['_setFrame'](_0x225e22){this['_sprite']?this['_frame']=Y['clamp'](_0x225e22,0xf8*0xe+-0x18*0x12+-0xbe0,this['_sprite']['frameKeys']['length']-(-0x2f*-0x1a+0x1*-0x15+-0x28*0x1e)):this['_frame']=_0x225e22,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x233544=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x233544['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(0x117c+0x1828+-0x29a4),this['_paused']=!(0x1ada+0x1*-0x2c4+-0x1815),this['frame']=0x1*-0xfef+-0x27b+0x126a,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(0x87b*0x1+0x686+-0xf01),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(0x47*-0x5d+0x441+0x1*0x158b),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(0x1*-0x1241+0xc25+0x61d),this['_paused']=!(0x16d2+0x62+-0x1733*0x1),this['_time']=0xd4*0xb+-0x68e+-0x2*0x147,this['frame']=-0x4*-0x853+0x19*-0x15+-0x1f3f,this['fire']('stop'),this['_component']['fire']('stop',this));}}h(Hi,'EVENT_PLAY','play'),h(Hi,'EVENT_PAUS'+'E','pause'),h(Hi,'EVENT_RESU'+'ME','resume'),h(Hi,'EVENT_STOP','stop'),h(Hi,'EVENT_END','end'),h(Hi,'EVENT_LOOP','loop');const hS='texture_em'+'issiveMap',dS='texture_op'+'acityMap',fS='material_e'+'missive',uS='material_o'+'pacity',dF='innerOffse'+'t',fF='outerScale',uF='atlasRect';class ur extends we{constructor(_0x18ff11,_0x2879b4){super(_0x18ff11,_0x2879b4),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_type']=lS,this['_material']=_0x18ff11['defaultMat'+'erial'],this['_color']=new ie(0xe*0xe+0x2*0x1294+0x11*-0x23b,-0xd*0x259+0x1*-0x12b5+0x313b,-0x5*-0x3bb+-0xfd0+0xf2*-0x3,-0x1a41+-0x236d+0x3daf),this['_colorUnif'+'orm']=new Float32Array(0x6b2+0x1795+-0x1e44),this['_speed']=-0x1*0x1b78+-0x106f+0x2be8,this['_flipX']=!(0x267f+-0x1*0x10dd+-0x317*0x7),this['_flipY']=!(0x2650+-0x953+0xa*-0x2e6),this['_width']=0x881+-0x7cf*0x1+-0xb1,this['_height']=-0x2179+-0x3cc+0x2546,this['_drawOrder']=-0x212e+-0x86*0x1d+-0x182e*-0x2,this['_layers']=[er],this['_outerScal'+'e']=new J(0xdb3+-0x7*-0x165+-0x1775,0x1d7b*0x1+0x95f+0xdd*-0x2d),this['_outerScal'+'eUniform']=new Float32Array(0x1fe4*0x1+-0x4*0x242+0x3*-0x79e),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(-0x7c2*-0x4+0x601*0x3+-0x701*0x7),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(-0x4d5+0x9+0x4d0),this['_batchGrou'+'pId']=-(0x11c5+0x1*0xd01+-0x1*0x1ec5),this['_batchGrou'+'p']=null,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x2879b4['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x2879b4,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(0x210a+-0x1d56*-0x1+0x3e5f*-0x1),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new Hi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(-0x22f1+-0x27*-0x9a+0x3*0x3d4),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x302e70){this['_type']!==_0x302e70&&(this['_type']=_0x302e70,this['_type']===lS?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===cS&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x53073e){this['_currentCl'+'ip']['frame']=_0x53073e;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x591cb6){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x591cb6;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x2220c8){this['_currentCl'+'ip']['sprite']=_0x2220c8;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x4f0dda){this['_material']=_0x4f0dda,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x4f0dda);}get['material'](){return this['_material'];}set['color'](_0x385d66){this['_color']['r']=_0x385d66['r'],this['_color']['g']=_0x385d66['g'],this['_color']['b']=_0x385d66['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][0x1f03+0x1*-0x2069+0xb3*0x2]=this['_color']['r'],this['_colorUnif'+'orm'][0xf01+-0x2674+-0x9e*-0x26]=this['_color']['g'],this['_colorUnif'+'orm'][0x1*-0xe65+-0x1*0x13aa+-0x3c9*-0x9]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x3e835a){this['_color']['a']=_0x3e835a,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](uS,_0x3e835a);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x50c531){if(!_0x50c531){for(const _0x11d869 in this['_clips'])this['removeClip'](_0x11d869);return;}for(const _0x22223e in this['_clips']){let _0xe72d66=!(-0x1*0x1e9a+0x8e2+0x15b9);for(const _0x3e5e2c in _0x50c531)if(_0x50c531[_0x3e5e2c]['name']===_0x22223e){_0xe72d66=!(0x21bd+-0x2fe+-0x1ebf),this['_clips'][_0x22223e]['fps']=_0x50c531[_0x3e5e2c]['fps'],this['_clips'][_0x22223e]['loop']=_0x50c531[_0x3e5e2c]['loop'],_0x50c531[_0x3e5e2c]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x22223e]['sprite']=_0x50c531[_0x3e5e2c]['sprite']:_0x50c531[_0x3e5e2c]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x22223e]['spriteAsse'+'t']=_0x50c531[_0x3e5e2c]['spriteAsse'+'t']);break;}_0xe72d66||this['removeClip'](_0x22223e);}for(const _0x1923c5 in _0x50c531)this['_clips'][_0x50c531[_0x1923c5]['name']]||this['addClip'](_0x50c531[_0x1923c5]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0xdd7b16){this['_speed']=_0xdd7b16;}get['speed'](){return this['_speed'];}set['flipX'](_0x23789d){this['_flipX']!==_0x23789d&&(this['_flipX']=_0x23789d,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x1f0e43){this['_flipY']!==_0x1f0e43&&(this['_flipY']=_0x1f0e43,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x5f3a90){_0x5f3a90!==this['_width']&&(this['_width']=_0x5f3a90,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x2941e6){_0x2941e6!==this['_height']&&(this['_height']=_0x2941e6,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x25df13){var _0xfbf6b0,_0x5d2cfc;if(this['_batchGrou'+'pId']===_0x25df13)return;const _0xf793a2=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x25df13,this['entity']['enabled']&&_0xf793a2>=-0x48e*0x2+-0x247d+0x3*0xf33&&((_0xfbf6b0=this['system']['app']['batcher'])==null||_0xfbf6b0['remove'](St['SPRITE'],_0xf793a2,this['entity'])),this['entity']['enabled']&&_0x25df13>=-0x69*0x31+-0x15*0x38+0x18b1?(_0x5d2cfc=this['system']['app']['batcher'])==null||_0x5d2cfc['insert'](St['SPRITE'],_0x25df13,this['entity']):_0xf793a2>=0x22*0xdb+0x52*0x6f+0x18a*-0x2a&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x1563d3){this['_autoPlayC'+'lip']=_0x1563d3 instanceof Hi?_0x1563d3['name']:_0x1563d3,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x5855ea){this['_drawOrder']=_0x5855ea,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x5855ea);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x45bb66){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x45bb66,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x56528e;const _0x585b39=this['system']['app'],_0x2ce21e=_0x585b39['scene'],_0x58476c=_0x2ce21e['layers'];this['_evtLayers'+'Changed']=_0x2ce21e['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x58476c&&(this['_evtLayerA'+'dded']=_0x58476c['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x58476c['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=0x3c+-0x11*0x247+0x267b&&((_0x56528e=_0x585b39['batcher'])==null||_0x56528e['insert'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0xc50ef3,_0x1e57f7,_0x5a0573,_0x24061a;const _0x4b0ec1=this['system']['app'],_0x156cf7=_0x4b0ec1['scene']['layers'];(_0xc50ef3=this['_evtLayers'+'Changed'])==null||_0xc50ef3['off'](),this['_evtLayers'+'Changed']=null,_0x156cf7&&((_0x1e57f7=this['_evtLayerA'+'dded'])==null||_0x1e57f7['off'](),this['_evtLayerA'+'dded']=null,(_0x5a0573=this['_evtLayerR'+'emoved'])==null||_0x5a0573['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=-0x8*0xac+-0x1104*-0x2+-0x1*0x1ca8&&((_0x24061a=_0x4b0ec1['batcher'])==null||_0x24061a['remove'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x428faa;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0xed0c31 in this['_clips'])this['_clips'][_0xed0c31]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x428faa=this['_node'])==null||_0x428faa['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x53d3ff=[this['_meshInsta'+'nce']];for(let _0x58d0f8=-0x2451+-0x1abf*0x1+-0x1f88*-0x2,_0x131137=this['_layers']['length'];_0x58d0f8<_0x131137;_0x58d0f8++){const _0x508cb6=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x58d0f8]);_0x508cb6&&_0x508cb6['addMeshIns'+'tances'](_0x53d3ff);}this['_addedMode'+'l']=!(0x470+0x6a*-0x5c+-0x4*-0x86a);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0xe58690=[this['_meshInsta'+'nce']];for(let _0x86473c=0x2bb*-0xd+-0x1*-0xacf+0x18b*0x10,_0x51b0fa=this['_layers']['length'];_0x86473c<_0x51b0fa;_0x86473c++){const _0xc303a5=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x86473c]);_0xc303a5&&_0xc303a5['removeMesh'+'Instances'](_0xe58690);}this['_addedMode'+'l']=!(-0x1a29+0x3*0xb15+-0x715);}['_showFrame'](_0x1b574f){if(!this['sprite'])return;const _0x205737=this['sprite']['meshes'][_0x1b574f];if(!_0x205737){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(0xbd7+0x5f*-0xc+-0x3f*0x1e));return;}let _0x1cf548;if(this['sprite']['renderMode']===Pt?_0x1cf548=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Mt?_0x1cf548=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x1cf548=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new He(_0x205737,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(-0x15*-0x61+0x10c1+-0x18b5),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(0x1b81+-0x1a57+0x1b*-0xb),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][-0x10e3+0x10c3*0x1+-0x8*-0x4]=this['_color']['r'],this['_colorUnif'+'orm'][-0x197e+-0x2b*-0xe5+-0xcf8]=this['_color']['g'],this['_colorUnif'+'orm'][-0x109*0x1+-0x1*0x115e+-0x1269*-0x1]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](uS,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x1cf548&&(this['_meshInsta'+'nce']['material']=_0x1cf548),this['_meshInsta'+'nce']['mesh']!==_0x205737&&(this['_meshInsta'+'nce']['mesh']=_0x205737,this['_meshInsta'+'nce']['visible']=!(-0x2fd*0x4+-0x17e*-0x2+0x8f8),this['_meshInsta'+'nce']['_aabbVer']=-(0x23ff+0x19*-0x13b+0xd*-0x67)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](hS,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](dS,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](hS),this['_meshInsta'+'nce']['deletePara'+'meter'](dS)),this['sprite']['atlas']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x3aabac=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x1b574f]];if(_0x3aabac){const _0x4a5fd2=(0x16cc*0x1+0x25*0xde+-0x36e0)/_0x3aabac['rect']['z'],_0x879e26=(0x20f5+0x1e2c+-0x3f1f)/_0x3aabac['rect']['w'];this['_innerOffs'+'et']['set'](_0x3aabac['border']['x']*_0x4a5fd2,_0x3aabac['border']['y']*_0x879e26,_0x3aabac['border']['z']*_0x4a5fd2,_0x3aabac['border']['w']*_0x879e26);const _0x32429e=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x3aabac['rect']['x']/_0x32429e['width'],_0x3aabac['rect']['y']/_0x32429e['height'],_0x3aabac['rect']['z']/_0x32429e['width'],_0x3aabac['rect']['w']/_0x32429e['height']);}else this['_innerOffs'+'et']['set'](-0x16*-0x14+-0x3e6*0x4+0xde0,0x4*-0x33b+-0x4eb+0x11d7*0x1,-0x5f3+-0x624*0x4+0x49*0x6b,0xc71+-0x32a+0x1db*-0x5);this['_innerOffs'+'etUniform'][-0x264d+0x31f*0x5+-0x46*-0x53]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x1017+0xd67+0x1d7d*-0x1]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x1f01+-0x1fac+0x9*0x6f7]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x255c+-0x2631+0xd8]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](dF,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x169d+0x14e8+-0x2b85]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x1*0x24c5+-0x21a0*-0x1+-0x193*-0x2]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0xf95+-0x2*0x1097+0x30c5]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x8a6*-0x3+0x1*0x1d89+0x1ca*-0x2]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](uF,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x384deb=this['flipX']?-(0x1fbb*0x1+0x6a+-0x2024):0x305*0xc+0x3*0xa85+0x1*-0x43ca,_0x42a145=this['flipY']?-(0x1*0x16f+-0x9*0x3e+0xc0):-0x556*0x4+0x423*0x2+-0x1*-0xd13,_0x30c66c=0x31*-0xbe+-0x42d*0x6+0x3d6c,_0x9e7ff8=0x1*-0xbf5+0x14e1*-0x1+0x3a6*0x9;if(this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){let _0x55283b=0x2*-0xdf8+-0x2531*0x1+0x4122,_0x1c1417=0x7*-0xad+0xd75+-0xb*0xcb;if(this['sprite']['atlas']){const _0x4a185f=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x4a185f&&(_0x55283b=_0x4a185f['rect']['z'],_0x1c1417=_0x4a185f['rect']['w'],_0x30c66c=(0x133b*-0x1+0x5b4+0x1*0xd87+0.5-_0x4a185f['pivot']['x'])*this['_width'],_0x9e7ff8=(-0xcb1+-0x46+-0x1*-0xcf7+0.5-_0x4a185f['pivot']['y'])*this['_height']);}const _0x2296a6=_0x55283b/this['sprite']['pixelsPerU'+'nit'],_0x1dc64e=_0x1c1417/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x2296a6),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x1dc64e)),_0x384deb*=_0x2296a6,_0x42a145*=_0x1dc64e,this['_outerScal'+'e']['x']/=_0x2296a6,this['_outerScal'+'e']['y']/=_0x1dc64e,_0x384deb*=Y['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x2296a6),0x1403+-0xa1b+-0x9e8*0x1+0.0001,0x235d+0x1c82*-0x1+-0x6da),_0x42a145*=Y['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x1dc64e),-0x42e+0x5*0x12b+-0x1a9+0.0001,-0x71d*-0x1+-0x1518+0xdfc*0x1),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][-0x8f2+-0xbb3+0x14a5]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x275*-0xe+-0x3*-0xca7+-0x38e]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](fF,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x384deb,_0x42a145,-0x15c1+0x3*0x3d6+0xa4*0x10),this['_node']['setLocalPo'+'sition'](_0x30c66c,_0x9e7ff8,0x13c0+0x5d0+-0x1*0x1990);}['_updateAab'+'b'](_0xe1ba0b){return _0xe1ba0b['center']['set'](-0x9*-0x389+-0x15a7*0x1+-0xa2a*0x1,0x1*0x26d3+-0x2d1*0x4+-0x19f*0x11,0x311*-0x7+-0x94f*0x1+-0x1*-0x1ec6),_0xe1ba0b['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x18e6*-0x1+0xd*0x2a5+-0x3b47+0.5),this['_outerScal'+'e']['y']*(-0xc91*0x3+-0xb94+0x3147+0.5),0x61*-0x3d+0x17*-0x187+0x7*0x852+0.001),_0xe1ba0b['setFromTra'+'nsformedAa'+'bb'](_0xe1ba0b,this['_node']['getWorldTr'+'ansform']()),_0xe1ba0b;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==cS)return;const _0x3f2af1=this['_clips'][this['_autoPlayC'+'lip']];_0x3f2af1&&!_0x3f2af1['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x3f2af1['name']);}['_onLayersC'+'hanged'](_0x28b8b3,_0x4394c8){_0x28b8b3['off']('add',this['onLayerAdd'+'ed'],this),_0x28b8b3['off']('remove',this['onLayerRem'+'oved'],this),_0x4394c8['on']('add',this['onLayerAdd'+'ed'],this),_0x4394c8['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x1c2dd4){this['layers']['indexOf'](_0x1c2dd4['id'])<-0x1b*-0xb9+-0xab2*0x1+-0x8d1*0x1||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x1c2dd4['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x93f76a){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x93f76a['id'])<0x1d00+-0x109a+0x2e*-0x45||_0x93f76a['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x13f729=-0x7b2*-0x2+-0xd*-0x241+0x2cb1*-0x1;_0x13f729<this['layers']['length'];_0x13f729++){const _0x5d25b7=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x13f729]);_0x5d25b7&&_0x5d25b7['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x501bcd){const _0x1c7604=new Hi(this,{'name':_0x501bcd['name'],'fps':_0x501bcd['fps'],'loop':_0x501bcd['loop'],'spriteAsset':_0x501bcd['spriteAsse'+'t']});return this['_clips'][_0x501bcd['name']]=_0x1c7604,_0x1c7604['name']&&_0x1c7604['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x1c7604;}['removeClip'](_0x140a37){delete this['_clips'][_0x140a37];}['clip'](_0x36505f){return this['_clips'][_0x36505f];}['play'](_0x223126){const _0x119d4c=this['_clips'][_0x223126],_0x37a60e=this['_currentCl'+'ip'];return _0x37a60e&&_0x37a60e!==_0x119d4c&&(_0x37a60e['_playing']=!(-0x1886+-0x2244+0x3acb)),this['_currentCl'+'ip']=_0x119d4c,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x119d4c,this['_currentCl'+'ip']['play']()):w['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x223126+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x119d4c;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}h(ur,'EVENT_PLAY','play'),h(ur,'EVENT_PAUS'+'E','pause'),h(ur,'EVENT_RESU'+'ME','resume'),h(ur,'EVENT_STOP','stop'),h(ur,'EVENT_END','end'),h(ur,'EVENT_LOOP','loop');class pF{constructor(){this['enabled']=!(0x1a57+0x12de+-0x47*0xa3);}}const f0=['enabled'];class mF extends ct{constructor(_0x1d6a2e){super(_0x1d6a2e),this['id']='sprite',this['ComponentT'+'ype']=ur,this['DataType']=pF,this['schema']=f0,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x41f5b9){this['_defaultMa'+'terial']=_0x41f5b9;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x39db36=new _e(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'sprite'}),_0x445507=new Uint8Array(_0x39db36['lock']());_0x445507[0x20df+-0x2e*-0x1a+-0x258b]=_0x445507[-0x6*0x5fc+-0x1*-0x109a+-0x1*-0x134f]=_0x445507[-0x7*-0x2e7+0xf6*0x7+-0x1b09]=_0x445507[-0x5*-0x1fb+-0x2670+0x20a*0xe]=0x1145+0x4*-0x4af+0x2*0x13b,_0x39db36['unlock']();const _0x49ac4c=new Ut();_0x49ac4c['diffuse']['set'](0x1*0x1844+0x59*-0x5e+0x86a,0x2cb*0x7+-0x1962+0x5d5,-0x3*-0x770+-0x1*-0x2686+-0x3cd6),_0x49ac4c['emissive']['set'](0x1fd8+-0xf5f+-0x3e*0x44,0x1edc+0x1911+-0x37ec,-0x20a5+-0x732+0x27d8*0x1),_0x49ac4c['emissiveMa'+'p']=_0x39db36,_0x49ac4c['opacityMap']=_0x39db36,_0x49ac4c['opacityMap'+'Channel']='a',_0x49ac4c['useLightin'+'g']=!(-0x205c+-0x21*0x94+-0x3371*-0x1),_0x49ac4c['useTonemap']=!(-0x2240*-0x1+0xf84+-0x31c3),_0x49ac4c['useFog']=!(-0xcc5+-0x69*0x4c+0x2bf2),_0x49ac4c['useSkybox']=!(0x2430+-0xf0b+-0x1524),_0x49ac4c['blendType']=Gn,_0x49ac4c['depthWrite']=!(-0x66a*0x5+-0xcec+0x2cff),_0x49ac4c['pixelSnap']=!(0x1f04+0xf4*0x1+-0x1ff7),_0x49ac4c['cull']=bt,_0x49ac4c['update'](),this['_defaultTe'+'xture']=_0x39db36,this['_defaultMa'+'terial']=_0x49ac4c;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x4532e9){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x4532e9;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x348d99=this['defaultMat'+'erial']['clone']();_0x348d99['nineSliced'+'Mode']=Pt,_0x348d99['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x348d99;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x38313f){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x38313f;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x138eab=this['defaultMat'+'erial']['clone']();_0x138eab['nineSliced'+'Mode']=Mt,_0x138eab['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x138eab;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x1e453e,_0x2f4705,_0x98706f){if(_0x2f4705['enabled']!==void(-0x1e0b+0x1a5c+0x29*0x17)&&(_0x1e453e['enabled']=_0x2f4705['enabled']),_0x1e453e['type']=_0x2f4705['type'],_0x2f4705['layers']&&Array['isArray'](_0x2f4705['layers'])&&(_0x1e453e['layers']=_0x2f4705['layers']['slice'](0x1064+0xd47*0x1+-0x1dab)),_0x2f4705['drawOrder']!==void(-0x938+0xd*-0x2e1+0x2ea5)&&(_0x1e453e['drawOrder']=_0x2f4705['drawOrder']),_0x2f4705['color']!==void(-0x17*0x9d+0x1fde+-0x11c3*0x1)&&(_0x2f4705['color']instanceof ie?_0x1e453e['color']['set'](_0x2f4705['color']['r'],_0x2f4705['color']['g'],_0x2f4705['color']['b'],_0x2f4705['opacity']??0xa*-0x1af+0x723+0x9b4):_0x1e453e['color']['set'](_0x2f4705['color'][-0x2*-0xb56+0x1eb*0x12+-0x3932],_0x2f4705['color'][-0x1b18+-0x1105+0x2*0x160f],_0x2f4705['color'][-0x226d+0x619*0x4+0xa0b*0x1],_0x2f4705['opacity']??0x4b5*-0x4+0x107*0x4+-0xeb9*-0x1),_0x1e453e['color']=_0x1e453e['color']),_0x2f4705['opacity']!==void(0x12*-0x1ca+-0xe2f+0x2e63)&&(_0x1e453e['opacity']=_0x2f4705['opacity']),_0x2f4705['flipX']!==void(-0x1*0x1ab5+0xd3*-0x15+0x2c04)&&(_0x1e453e['flipX']=_0x2f4705['flipX']),_0x2f4705['flipY']!==void(-0x1b4a+-0x26*0x1c+0x1f72)&&(_0x1e453e['flipY']=_0x2f4705['flipY']),_0x2f4705['width']!==void(0x1597+0x1*0x275+0x1*-0x180c)&&(_0x1e453e['width']=_0x2f4705['width']),_0x2f4705['height']!==void(-0x1*-0x1e7d+0xc10+-0x2a8d)&&(_0x1e453e['height']=_0x2f4705['height']),_0x2f4705['spriteAsse'+'t']!==void(-0x1684+0x1*-0x19d5+0x3059)&&(_0x1e453e['spriteAsse'+'t']=_0x2f4705['spriteAsse'+'t']),_0x2f4705['sprite']&&(_0x1e453e['sprite']=_0x2f4705['sprite']),_0x2f4705['frame']!==void(0x3f0+-0x61f*-0x4+-0x6b*0x44)&&(_0x1e453e['frame']=_0x2f4705['frame']),_0x2f4705['clips']){for(const _0x5a9658 in _0x2f4705['clips'])_0x1e453e['addClip'](_0x2f4705['clips'][_0x5a9658]);}_0x2f4705['speed']!==void(0x23ae+0x697+0x2a45*-0x1)&&(_0x1e453e['speed']=_0x2f4705['speed']),_0x2f4705['autoPlayCl'+'ip']&&(_0x1e453e['autoPlayCl'+'ip']=_0x2f4705['autoPlayCl'+'ip']),_0x1e453e['batchGroup'+'Id']=_0x2f4705['batchGroup'+'Id']===void(-0x213d*-0x1+-0x1452+-0xceb)||_0x2f4705['batchGroup'+'Id']===null?-(0x1d0c+0x173*-0x7+-0x52*0x3b):_0x2f4705['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x1e453e,_0x2f4705,_0x98706f);}['cloneCompo'+'nent'](_0x17d07e,_0x35859f){const _0x162109=_0x17d07e['sprite'];return this['addCompone'+'nt'](_0x35859f,{'enabled':_0x162109['enabled'],'type':_0x162109['type'],'spriteAsset':_0x162109['spriteAsse'+'t'],'sprite':_0x162109['sprite'],'width':_0x162109['width'],'height':_0x162109['height'],'frame':_0x162109['frame'],'color':_0x162109['color']['clone'](),'opacity':_0x162109['opacity'],'flipX':_0x162109['flipX'],'flipY':_0x162109['flipY'],'speed':_0x162109['speed'],'clips':_0x162109['clips'],'autoPlayClip':_0x162109['autoPlayCl'+'ip'],'batchGroupId':_0x162109['batchGroup'+'Id'],'drawOrder':_0x162109['drawOrder'],'layers':_0x162109['layers']['slice'](-0x16f7+0x4fa+-0x3*-0x5ff)});}['onUpdate'](_0x264da5){const _0x22e29d=this['store'];for(const _0x3ff5e3 in _0x22e29d)if(_0x22e29d['hasOwnProp'+'erty'](_0x3ff5e3)){const _0xa7f5b7=_0x22e29d[_0x3ff5e3];if(_0xa7f5b7['data']['enabled']&&_0xa7f5b7['entity']['enabled']){const _0x5ed4ff=_0xa7f5b7['entity']['sprite'];_0x5ed4ff['_currentCl'+'ip']&&_0x5ed4ff['_currentCl'+'ip']['_update'](_0x264da5);}}}['onBeforeRe'+'move'](_0x3872f6,_0xd0afdd){_0xd0afdd['onDestroy']();}}we['_buildAcce'+'ssors'](ur['prototype'],f0);class _n extends we{constructor(_0x1b09b8,_0x3ebf6c){super(_0x1b09b8,_0x3ebf6c),this['_oldState']=!(0x14cd+-0x1cc2+0x7*0x123),this['_size']=new D(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x1dba44){_0x1dba44 instanceof D?this['_size']['copy'](_0x1dba44):_0x1dba44 instanceof Array&&_0x1dba44['length']>=-0x154+0x1*-0x189f+-0xcfb*-0x2&&this['size']['set'](_0x1dba44[0xb*0x87+-0x1a69+0x149c],_0x1dba44[0xa07*-0x3+0x2*-0xdba+0x398a],_0x1dba44[-0x1e50+0x1be7+0x26b*0x1]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x319e28,_0x287c85,_0x172ad7){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x30e708=this['enabled']&&this['entity']['enabled'];_0x30e708!==this['_oldState']&&(this['_oldState']=_0x30e708,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}h(_n,'EVENT_ENAB'+'LE','enable'),h(_n,'EVENT_DISA'+'BLE','disable'),h(_n,'EVENT_STAT'+'E','state'),h(_n,'EVENT_REMO'+'VE','remove');class _F{constructor(){this['enabled']=!(0x2237+-0xbe1+-0x6*0x3b9);}}const u0=['enabled'];class gF extends ct{constructor(_0x3322d0){super(_0x3322d0),this['id']='zone',this['ComponentT'+'ype']=_n,this['DataType']=_F,this['schema']=u0,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0xcfed4c,_0x3b35a6,_0x551179){_0xcfed4c['enabled']=_0x3b35a6['hasOwnProp'+'erty']('enabled')?!!_0x3b35a6['enabled']:!(-0x1*0x2312+0x1737+0x5*0x25f),_0x3b35a6['size']&&(_0x3b35a6['size']instanceof D?_0xcfed4c['size']['copy'](_0x3b35a6['size']):_0x3b35a6['size']instanceof Array&&_0x3b35a6['size']['length']>=-0x295*-0x5+-0x593*-0x3+-0x1d9f&&_0xcfed4c['size']['set'](_0x3b35a6['size'][0x1*-0xa1c+-0x1*0x21f6+0x2*0x1609],_0x3b35a6['size'][-0x44+0xba0+0x33*-0x39],_0x3b35a6['size'][-0x257d+-0xa06*-0x1+0xd*0x21d]));}['cloneCompo'+'nent'](_0x4224e8,_0xd64494){const _0x488389={'enabled':_0x4224e8['zone']['enabled'],'size':_0x4224e8['zone']['size']};return this['addCompone'+'nt'](_0xd64494,_0x488389);}['_onBeforeR'+'emove'](_0x394f9b,_0xfddd2b){_0xfddd2b['_onBeforeR'+'emove']();}}we['_buildAcce'+'ssors'](_n['prototype'],u0);class SF{constructor(_0x4747e8,_0xd1a4f1){this['effect']=_0x4747e8,this['inputTarge'+'t']=_0xd1a4f1,this['outputTarg'+'et']=null,this['name']=_0x4747e8['constructo'+'r']['name'];}}class yF{constructor(_0xd6644a,_0x4407cd){this['app']=_0xd6644a,this['camera']=_0x4407cd,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(-0x2493+0x11a6+-0x977*-0x2),this['depthTarge'+'t']=null,_0x4407cd['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x2cef98,_0x22141d){const _0x5d3da5=this['camera']['rect'],_0x1a4b66=this['destinatio'+'nRenderTar'+'get'],_0x1f471c=this['app']['graphicsDe'+'vice'],_0x33856f=Math['floor'](_0x5d3da5['z']*((_0x1a4b66==null?void(-0xd72*-0x1+-0x1*-0x199+-0xf0b):_0x1a4b66['width'])??_0x1f471c['width'])),_0x107c16=Math['floor'](_0x5d3da5['w']*((_0x1a4b66==null?void(0x1de8+-0x2*0xbd2+-0x644):_0x1a4b66['height'])??_0x1f471c['height']));return new _e(_0x1f471c,{'name':_0x22141d,'format':_0x2cef98,'width':_0x33856f,'height':_0x107c16,'mipmaps':!(-0x1ed*-0x11+0x2172+-0x422e),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});}['_createOff'+'screenTarg'+'et'](_0x275f5b,_0x4ce30d){const _0x1f9cac=this['app']['graphicsDe'+'vice'],_0x344e32=(this['destinatio'+'nRenderTar'+'get']??_0x1f9cac['backBuffer'])['isColorBuf'+'ferSrgb'](0xb*0x19+-0x332*-0x2+-0x777),_0x1c7822=(_0x4ce30d&&_0x1f9cac['getRendera'+'bleHdrForm'+'at']([nt,Xt],!(0xbe8+0x24ab+-0x3093)))??(_0x344e32?_s:Ne),_0x1b5072=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x1fd025=this['_allocateC'+'olorBuffer'](_0x1c7822,_0x1b5072);return new gt({'colorBuffer':_0x1fd025,'depth':_0x275f5b,'stencil':_0x275f5b&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x275f5b?_0x1f9cac['samples']:-0x2fe*-0x5+-0x1*-0x93+-0x1*0xf88});}['_resizeOff'+'screenTarg'+'et'](_0x5ec448){const _0x145bbf=_0x5ec448['colorBuffe'+'r']['format'],_0x49624f=_0x5ec448['colorBuffe'+'r']['name'];_0x5ec448['destroyFra'+'meBuffers'](),_0x5ec448['destroyTex'+'tureBuffer'+'s'](),_0x5ec448['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x145bbf,_0x49624f),_0x5ec448['_colorBuff'+'ers']=[_0x5ec448['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x4e2a44){_0x4e2a44['destroyTex'+'tureBuffer'+'s'](),_0x4e2a44['destroy']();}['addEffect'](_0x5acae0){const _0x489b24=this['effects'],_0x92aa8a=_0x489b24['length']===-0xb*0x1d1+0x1847+-0x2*0x226,_0x10741c=this['_createOff'+'screenTarg'+'et'](_0x92aa8a,_0x5acae0['hdr']),_0x57e31b=new SF(_0x5acae0,_0x10741c);_0x489b24['push'](_0x57e31b),this['_sourceTar'+'get']=_0x57e31b['inputTarge'+'t'],_0x489b24['length']>0x13*0x1df+-0xd*-0x189+-0x3781*0x1&&(_0x489b24[_0x489b24['length']-(-0x3f*-0x4d+0x827+0x6c6*-0x4)]['outputTarg'+'et']=_0x57e31b['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x5acae0,_0x5acae0['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(-0x3*0x593+-0x100c+0x20c5);}['removeEffe'+'ct'](_0x3d5064){let _0x4efa23=-(0x52*0x24+0xd*-0x133+0x410);for(let _0x43aa96=-0x257f+-0x26b3*-0x1+-0x134*0x1,_0x20cf82=this['effects']['length'];_0x43aa96<_0x20cf82;_0x43aa96++)if(this['effects'][_0x43aa96]['effect']===_0x3d5064){_0x4efa23=_0x43aa96;break;}_0x4efa23>=0x1*0xf6b+0x1*0x1886+-0x27f1&&(_0x4efa23>-0x173e+0xf27+0x13*0x6d?this['effects'][_0x4efa23-(0x42+-0x1a5*-0xd+-0x15a2)]['outputTarg'+'et']=_0x4efa23+(0x1d83+0x3b9*0x4+-0x2c66)<this['effects']['length']?this['effects'][_0x4efa23+(-0xe44+-0x215f+0x2fa4)]['inputTarge'+'t']:null:this['effects']['length']>-0x17e*0x5+0x3a1*0x1+0x3d6&&(this['effects'][-0x3*-0x801+-0x10*-0x139+0xe86*-0x3]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][-0xe0e+-0x13a4+0x21b3]['inputTarge'+'t']),this['effects'][0x13*0x11b+-0xc73+-0x88d]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(-0x2*-0x47+-0x19*0x9d+-0x61*-0x27),this['effects'][-0x227c*-0x1+-0x151a+-0x2ad*0x5]['hdr']),this['_sourceTar'+'get']=this['effects'][-0x25cf+-0x1cd1+-0x1cd*-0x25]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][-0x11c7+-0x2354+0x351c]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x4efa23]['inputTarge'+'t']),this['effects']['splice'](_0x4efa23,-0x2*-0x1229+0x121*-0x17+0x19*-0x6a)),this['enabled']&&_0x3d5064['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===-0x1644+-0x1be*0x7+0x191*0x16&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x3fdd96=-0x2f3*-0x1+-0x24*0x112+-0x2395*-0x1,_0x34671a=this['effects']['length'];_0x3fdd96<_0x34671a;_0x3fdd96++){const _0x56bee5=this['effects'][_0x3fdd96]['effect'];this['_newPostEf'+'fect']!==_0x56bee5&&_0x56bee5['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x16321d=-0x1ab1*-0x1+0x1*-0x2467+0x9b6,_0x108bcd=this['effects']['length'];_0x16321d<_0x108bcd;_0x16321d++)this['effects'][_0x16321d]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x521c45=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x521c45&&(_0x521c45['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x909+0xcdb*0x3+-0x2f9a)));}['_releaseDe'+'pthMap'](){const _0x1b2bc8=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x1b2bc8&&(_0x1b2bc8['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x2ab*-0xe+0xffd*-0x1+-0x1*0x155c)));}['destroy'](){for(let _0x426218=-0xb10*-0x2+-0x3*0x2a5+-0xe31,_0x39e428=this['effects']['length'];_0x426218<_0x39e428;_0x426218++)this['effects'][_0x426218]['inputTarge'+'t']['destroy']();this['effects']['length']=-0x1a01+0xe9c+0xb65,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(-0xd83+-0x1043*0x1+0x1dc6),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][0x704+0x26e8+0x1*-0x2dec]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x277159=null;const _0x439d01=this['effects']['length'];if(_0x439d01)for(let _0x2458bd=-0x1b62+-0x2*-0x149+0x18d0;_0x2458bd<_0x439d01;_0x2458bd++){const _0x5c75bf=this['effects'][_0x2458bd];let _0xa5264d=_0x5c75bf['outputTarg'+'et'];_0x2458bd===_0x439d01-(0x131a*-0x2+0x2*0x58d+0x1b1b)&&(_0x277159=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0xa5264d=this['destinatio'+'nRenderTar'+'get'])),Q['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x5c75bf['name']),_0x5c75bf['effect']['render'](_0x5c75bf['inputTarge'+'t'],_0xa5264d,_0x277159),Q['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(-0x1ca4+0x23f3*-0x1+0x4098),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x3d660d,_0x4d98c3){const _0x1df80a=this['camera']['rect'],_0x4ed0a4=this['destinatio'+'nRenderTar'+'get'];_0x3d660d=(_0x4ed0a4==null?void(0x15e8+0x134d+-0x2935):_0x4ed0a4['width'])??_0x3d660d,_0x4d98c3=(_0x4ed0a4==null?void(-0x1463+-0x959*0x1+-0x1dbc*-0x1):_0x4ed0a4['height'])??_0x4d98c3,this['camera']['camera']['aspectRati'+'o']=_0x3d660d*_0x1df80a['z']/(_0x4d98c3*_0x1df80a['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x55b47c=this['app']['graphicsDe'+'vice'],_0x39f9ab=this['destinatio'+'nRenderTar'+'get'],_0x5680f7=(_0x39f9ab==null?void(-0x22b4*-0x1+0x8fb*-0x4+0x3*0x68):_0x39f9ab['width'])??_0x55b47c['width'],_0x405671=(_0x39f9ab==null?void(-0x97*0x3e+-0x18f6+-0x2*-0x1ec4):_0x39f9ab['height'])??_0x55b47c['height'],_0x560022=this['camera']['rect'],_0x46e08b=Math['floor'](_0x560022['z']*_0x5680f7),_0x1880f2=Math['floor'](_0x560022['w']*_0x405671),_0x4a1cc1=this['effects'];for(let _0xb18c1b=0x109*0x13+-0x1ea5*-0x1+0x2e*-0x118,_0x30e530=_0x4a1cc1['length'];_0xb18c1b<_0x30e530;_0xb18c1b++){const _0x27f492=_0x4a1cc1[_0xb18c1b];(_0x27f492['inputTarge'+'t']['width']!==_0x46e08b||_0x27f492['inputTarge'+'t']['height']!==_0x1880f2)&&this['_resizeOff'+'screenTarg'+'et'](_0x27f492['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x363bdf,_0x5e9a1b,_0x1dd7d3){this['enabled']&&this['resizeRend'+'erTargets']();}}class Ir extends we{constructor(_0x491561,_0x397acf){super(_0x491561,_0x397acf),h(this,'onPostproc'+'essing',null),h(this,'_renderSce'+'neDepthMap',-0x11*0x15b+0x2557+-0x4*0x393),h(this,'_renderSce'+'neColorMap',0x2e*-0xa3+0xf3*-0x1d+0x5*0xb5d),h(this,'_sceneDept'+'hMapReques'+'ted',!(0x26ee+-0x2*-0x4a9+-0x303f)),h(this,'_sceneColo'+'rMapReques'+'ted',!(-0xe93+0xcf4*-0x2+0x287c)),h(this,'_priority',0x1*-0x96b+0x14e0+0x7*-0x1a3),h(this,'_disablePo'+'stEffectsL'+'ayer',Il),h(this,'_camera',new Fl()),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x397acf,this['_postEffec'+'ts']=new yF(_0x491561['app'],this));}['setShaderP'+'ass'](_0x5ba74e){const _0x65d598=Si['get'](this['system']['app']['graphicsDe'+'vice']),_0x352204=_0x5ba74e?_0x65d598['allocate'](_0x5ba74e,{'isForward':!(-0x2220+-0x1cd0+0x3ef0)}):null;return this['_camera']['shaderPass'+'Info']=_0x352204,_0x352204['index'];}['getShaderP'+'ass'](){var _0x155bbc;return(_0x155bbc=this['_camera']['shaderPass'+'Info'])==null?void(0x7*0x281+-0x136+0x1*-0x1051):_0x155bbc['name'];}set['renderPass'+'es'](_0x3b5cf5){this['_camera']['renderPass'+'es']=_0x3b5cf5||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(0xac+0x101*0x12+0x95f*-0x2);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x4db474){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x4db474;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x32f9e2){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x32f9e2;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x3ecc07){this['_camera']['fogParams']=_0x3ecc07;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x25c946){this['_camera']['aperture']=_0x25c946;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x5183c5){this['_camera']['aspectRati'+'o']=_0x5183c5;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x574d8c){this['_camera']['aspectRati'+'oMode']=_0x574d8c;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x37fcc2){this['_camera']['calculateP'+'rojection']=_0x37fcc2;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x254308){this['_camera']['calculateT'+'ransform']=_0x254308;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x31bf07){this['_camera']['clearColor']=_0x31bf07;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x433aa2){this['_camera']['clearColor'+'Buffer']=_0x433aa2,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x5f0ac1){this['_camera']['clearDepth'+'Buffer']=_0x5f0ac1,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x51da7a){this['_camera']['clearStenc'+'ilBuffer']=_0x51da7a,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x22547b){this['_camera']['cullFaces']=_0x22547b;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x280d6c){this['_disablePo'+'stEffectsL'+'ayer']=_0x280d6c,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x48fa51){this['_camera']['farClip']=_0x48fa51;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x455e26){this['_camera']['flipFaces']=_0x455e26;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x109357){this['_camera']['fov']=_0x109357;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x16ae72){this['_camera']['frustumCul'+'ling']=_0x16ae72;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x36f461){this['_camera']['horizontal'+'Fov']=_0x36f461;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x326e04){const _0x579828=this['_camera']['layers'],_0x28c8e3=this['system']['app']['scene'];_0x579828['forEach'](_0x111145=>{const _0x5f24ed=_0x28c8e3['layers']['getLayerBy'+'Id'](_0x111145);_0x5f24ed==null||_0x5f24ed['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x326e04,this['enabled']&&this['entity']['enabled']&&_0x326e04['forEach'](_0x9f0edf=>{const _0x312a69=_0x28c8e3['layers']['getLayerBy'+'Id'](_0x9f0edf);_0x312a69==null||_0x312a69['addCamera'](this);}),this['fire']('set:layers');}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x7def8c){this['_camera']['jitter']=_0x7def8c;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x541f83){this['_camera']['nearClip']=_0x541f83;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x3ac4a9){this['_camera']['orthoHeigh'+'t']=_0x3ac4a9;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0xefa260){this['_priority']=_0xefa260,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x71054a){this['_camera']['projection']=_0x71054a;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x1865c5){this['_camera']['rect']=_0x1865c5,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x42c952){_0x42c952&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(-0xf92+-0x11bf+0x2151)),this['_sceneColo'+'rMapReques'+'ted']=!(0xcbd+-0x1*-0x1d2f+-0x29ec)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(-0x25f1+0x230d+0x27*0x13)),this['_sceneColo'+'rMapReques'+'ted']=!(-0xd21*-0x1+-0xbdc*0x1+0x144*-0x1));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>-0xc*0x101+-0x1bb4+0x27c0;}set['renderScen'+'eDepthMap'](_0x30bc8b){_0x30bc8b&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0xcef+0x83f*-0x4+0x140d)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x1b2*0x7+-0x3*-0xb20+-0x1582)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(-0x2*-0x845+0x2317+-0x33a0)),this['_sceneDept'+'hMapReques'+'ted']=!(0x9*0xc6+-0x19e7+0xc2*0x19));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x1*0x851+0x7c0+-0x1011;}set['renderTarg'+'et'](_0xfd0ad3){w['call'](()=>{this['_camera']['renderPass'+'es']['length']>-0x1786*0x1+0xfb9+-0x7cd*-0x1&&w['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0xfd0ad3,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x4ca3b4){this['_camera']['scissorRec'+'t']=_0x4ca3b4;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x481b40){this['_camera']['sensitivit'+'y']=_0x481b40;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x29ba31){this['_camera']['shutter']=_0x29ba31;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x251aed){if(this['layers']['find'](_0x69b8d=>_0x69b8d===ps)){const _0x50c9aa=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x251aed?_0x50c9aa==null||_0x50c9aa['incrementC'+'ounter']():_0x50c9aa==null||_0x50c9aa['decrementC'+'ounter']();}else{if(_0x251aed)return!(-0x8d1*0x2+0x3*-0x14+-0x1*-0x11df);}return!(0x1a23+-0xc1b*-0x2+-0x3259);}['requestSce'+'neColorMap'](_0x5d652e){this['_renderSce'+'neColorMap']+=_0x5d652e?0x8*-0xfe+-0x84a*-0x2+0x1*-0x8a3:-(0x1f*0x101+0x11*0x72+-0x26b0),w['assert'](this['_renderSce'+'neColorMap']>=-0x9a3*0x2+-0x1*-0x8a2+0xaa4),this['_enableDep'+'thLayer'](_0x5d652e)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']),this['system']['app']['scene']['layers']['markDirty']();}['requestSce'+'neDepthMap'](_0x520359){this['_renderSce'+'neDepthMap']+=_0x520359?0xe3*-0x25+-0x1*-0x234a+-0x27a:-(-0xccd+0x2012*-0x1+0x2ce*0x10),w['assert'](this['_renderSce'+'neDepthMap']>=0x1d3b+0xb69*-0x1+-0x11d2),this['_enableDep'+'thLayer'](_0x520359)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']),this['system']['app']['scene']['layers']['markDirty']();}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x49e4d6=this['system']['app']['scene']['layers'];_0x49e4d6['_dirty']=!(0x20*0x61+-0x1*0x11de+0x5be);}['screenToWo'+'rld'](_0x7c498,_0x2841e2,_0x2087bf,_0x45c281){const _0x339e1a=this['system']['app']['graphicsDe'+'vice'],{width:_0x5c4cfb,height:_0x18b8fe}=_0x339e1a['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x7c498,_0x2841e2,_0x2087bf,_0x5c4cfb,_0x18b8fe,_0x45c281);}['worldToScr'+'een'](_0x1088f0,_0x2a0284){const _0x1e0c5c=this['system']['app']['graphicsDe'+'vice'],{width:_0x2f25c2,height:_0x2cfadb}=_0x1e0c5c['clientRect'];return this['_camera']['worldToScr'+'een'](_0x1088f0,_0x2f25c2,_0x2cfadb,_0x2a0284);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(0x991*-0x4+-0x11*0x29+0x28fd),this['_camera']['_viewProjM'+'atDirty']=!(0x89d*0x4+0x433+-0x26a7*0x1);}['addCameraT'+'oLayers'](){const _0x3bbaac=this['layers'];for(let _0x1995e8=0x36f+-0xb1c+-0x5*-0x189;_0x1995e8<_0x3bbaac['length'];_0x1995e8++){const _0x19133b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x3bbaac[_0x1995e8]);_0x19133b&&_0x19133b['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x35ee95=this['layers'];for(let _0x533a00=0x12c4+0x32*0x2+-0x4*0x4ca;_0x533a00<_0x35ee95['length'];_0x533a00++){const _0x5a5040=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x35ee95[_0x533a00]);_0x5a5040&&_0x5a5040['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0xc3c3fe,_0x581fff){this['addCameraT'+'oLayers'](),_0xc3c3fe['off']('add',this['onLayerAdd'+'ed'],this),_0xc3c3fe['off']('remove',this['onLayerRem'+'oved'],this),_0x581fff['on']('add',this['onLayerAdd'+'ed'],this),_0x581fff['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x220523){this['layers']['indexOf'](_0x220523['id'])<-0x7*0x5e+-0x5f*-0x1f+-0x8ef*0x1||_0x220523['addCamera'](this);}['onLayerRem'+'oved'](_0x177bb2){this['layers']['indexOf'](_0x177bb2['id'])<0x1*-0x2541+-0x179b*0x1+0x4*0xf37||_0x177bb2['removeCame'+'ra'](this);}['onEnable'](){var _0x4efc67,_0x4bf3e5,_0x1357be;const _0xdf2c11=this['system']['app']['scene'],_0x3d4e8a=_0xdf2c11['layers'];this['system']['addCamera'](this),(_0x4efc67=this['_evtLayers'+'Changed'])==null||_0x4efc67['off'](),this['_evtLayers'+'Changed']=_0xdf2c11['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3d4e8a&&((_0x4bf3e5=this['_evtLayerA'+'dded'])==null||_0x4bf3e5['off'](),this['_evtLayerA'+'dded']=_0x3d4e8a['on']('add',this['onLayerAdd'+'ed'],this),(_0x1357be=this['_evtLayerR'+'emoved'])==null||_0x1357be['off'](),this['_evtLayerR'+'emoved']=_0x3d4e8a['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x5995b3,_0x183d18,_0x1680c6;const _0x13cdf3=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x5995b3=this['_evtLayers'+'Changed'])==null||_0x5995b3['off'](),this['_evtLayers'+'Changed']=null,_0x13cdf3&&((_0x183d18=this['_evtLayerA'+'dded'])==null||_0x183d18['off'](),this['_evtLayerA'+'dded']=null,(_0x1680c6=this['_evtLayerR'+'emoved'])==null||_0x1680c6['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x4ef84e){const _0x1dc0c6=this['system']['app']['graphicsDe'+'vice'],_0x51849a=_0x4ef84e?_0x4ef84e['width']:_0x1dc0c6['width'],_0x3a9894=_0x4ef84e?_0x4ef84e['height']:_0x1dc0c6['height'];return _0x51849a*this['rect']['z']/(_0x3a9894*this['rect']['w']);}['frameUpdat'+'e'](_0x16fd87){this['aspectRati'+'oMode']===hm&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x16fd87));}['startXr'](_0x2116e1,_0x3ba014,_0x4ffcf0){this['system']['app']['xr']['start'](this,_0x2116e1,_0x3ba014,_0x4ffcf0);}['endXr'](_0x430768){if(!this['_camera']['xr']){_0x430768&&_0x430768(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x430768);}['copy'](_0xf30638){this['aperture']=_0xf30638['aperture'],this['aspectRati'+'o']=_0xf30638['aspectRati'+'o'],this['aspectRati'+'oMode']=_0xf30638['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0xf30638['calculateP'+'rojection'],this['calculateT'+'ransform']=_0xf30638['calculateT'+'ransform'],this['clearColor']=_0xf30638['clearColor'],this['clearColor'+'Buffer']=_0xf30638['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0xf30638['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0xf30638['clearStenc'+'ilBuffer'],this['cullFaces']=_0xf30638['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0xf30638['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0xf30638['farClip'],this['flipFaces']=_0xf30638['flipFaces'],this['fov']=_0xf30638['fov'],this['frustumCul'+'ling']=_0xf30638['frustumCul'+'ling'],this['horizontal'+'Fov']=_0xf30638['horizontal'+'Fov'],this['layers']=_0xf30638['layers'],this['nearClip']=_0xf30638['nearClip'],this['orthoHeigh'+'t']=_0xf30638['orthoHeigh'+'t'],this['priority']=_0xf30638['priority'],this['projection']=_0xf30638['projection'],this['rect']=_0xf30638['rect'],this['renderTarg'+'et']=_0xf30638['renderTarg'+'et'],this['scissorRec'+'t']=_0xf30638['scissorRec'+'t'],this['sensitivit'+'y']=_0xf30638['sensitivit'+'y'],this['shutter']=_0xf30638['shutter'];}}class vF{constructor(){this['enabled']=!(0x1514+-0x3ab+0x1*-0x1169);}}const p0=['enabled'];class xF extends ct{constructor(_0xbc16d6){super(_0xbc16d6),h(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=Ir,this['DataType']=vF,this['schema']=p0,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x4ce9c2,_0x570502,_0x5c55aa){_0x5c55aa=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fog','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x121dc6=-0x16*-0x163+-0x1*0xff2+-0x1d2*0x8;_0x121dc6<_0x5c55aa['length'];_0x121dc6++){const _0x2fa4d6=_0x5c55aa[_0x121dc6];if(_0x570502['hasOwnProp'+'erty'](_0x2fa4d6)){const _0x23f96f=_0x570502[_0x2fa4d6];switch(_0x2fa4d6){case'rect':case'scissorRec'+'t':Array['isArray'](_0x23f96f)?_0x4ce9c2[_0x2fa4d6]=new re(_0x23f96f[-0x207*0xc+0x13c3+0x7*0xa7],_0x23f96f[0x1dcd+0x13*-0x166+-0x2*0x19d],_0x23f96f[-0x310*-0x8+0x131e+0xae7*-0x4],_0x23f96f[-0xcdd*-0x2+-0x1*0xf0b+-0xaac]):_0x4ce9c2[_0x2fa4d6]=_0x23f96f;break;case'clearColor':Array['isArray'](_0x23f96f)?_0x4ce9c2[_0x2fa4d6]=new ie(_0x23f96f[-0x24b+0x1*-0x130f+0x155a],_0x23f96f[0x1*-0x1228+-0x156b+-0x2*-0x13ca],_0x23f96f[0x22cb*-0x1+0x1*0x4f6+0x1dd7],_0x23f96f[-0x13ad+0xe9b*-0x2+-0x16*-0x239]):_0x4ce9c2[_0x2fa4d6]=_0x23f96f;break;default:_0x4ce9c2[_0x2fa4d6]=_0x23f96f;break;}}}super['initialize'+'ComponentD'+'ata'](_0x4ce9c2,_0x570502,['enabled']);}['cloneCompo'+'nent'](_0x8adc0c,_0x1ef3af){const _0x4503ad=_0x8adc0c['camera'];return this['addCompone'+'nt'](_0x1ef3af,{'aspectRatio':_0x4503ad['aspectRati'+'o'],'aspectRatioMode':_0x4503ad['aspectRati'+'oMode'],'calculateProjection':_0x4503ad['calculateP'+'rojection'],'calculateTransform':_0x4503ad['calculateT'+'ransform'],'clearColor':_0x4503ad['clearColor'],'clearColorBuffer':_0x4503ad['clearColor'+'Buffer'],'clearDepthBuffer':_0x4503ad['clearDepth'+'Buffer'],'clearStencilBuffer':_0x4503ad['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x4503ad['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x4503ad['renderScen'+'eColorMap'],'cullFaces':_0x4503ad['cullFaces'],'enabled':_0x4503ad['enabled'],'farClip':_0x4503ad['farClip'],'flipFaces':_0x4503ad['flipFaces'],'fov':_0x4503ad['fov'],'frustumCulling':_0x4503ad['frustumCul'+'ling'],'horizontalFov':_0x4503ad['horizontal'+'Fov'],'layers':_0x4503ad['layers'],'renderTarget':_0x4503ad['renderTarg'+'et'],'nearClip':_0x4503ad['nearClip'],'orthoHeight':_0x4503ad['orthoHeigh'+'t'],'projection':_0x4503ad['projection'],'priority':_0x4503ad['priority'],'rect':_0x4503ad['rect'],'scissorRect':_0x4503ad['scissorRec'+'t'],'aperture':_0x4503ad['aperture'],'sensitivity':_0x4503ad['sensitivit'+'y'],'shutter':_0x4503ad['shutter'],'gammaCorrection':_0x4503ad['gammaCorre'+'ction'],'toneMapping':_0x4503ad['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x11239c,_0x18b4e6){this['removeCame'+'ra'](_0x18b4e6),_0x18b4e6['onRemove']();}['onAppPrere'+'nder'](){for(let _0x2541f7=-0xdfb+0xbea+0x211*0x1,_0xc93473=this['cameras']['length'];_0x2541f7<_0xc93473;_0x2541f7++)this['cameras'][_0x2541f7]['onAppPrere'+'nder']();}['addCamera'](_0x4f7cd4){this['cameras']['push'](_0x4f7cd4),ul(this['cameras']);}['removeCame'+'ra'](_0x2428af){const _0x457b13=this['cameras']['indexOf'](_0x2428af);_0x457b13>=-0x4*-0x367+0x4bf*0x2+-0x171a&&(this['cameras']['splice'](_0x457b13,-0x1638*0x1+0x8d5+0xd64),ul(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}we['_buildAcce'+'ssors'](Ir['prototype'],p0);class m0{constructor(){h(this,'enabled',!(-0xf2b+-0x1b*-0xd7+-0x782)),h(this,'light'),h(this,'type','directiona'+'l'),h(this,'color',new ie(-0x115a*0x1+-0x1593+-0x38a*-0xb,0x2d*0xb3+0x2301+-0x4277,-0x10de+0xfaf+0x130)),h(this,'intensity',-0x1d2*-0x2+-0x4*-0x2a3+-0x1*0xe2f),h(this,'luminance',0x11e6+-0xcfe+0x8*-0x9d),h(this,'shape',Ys),h(this,'affectSpec'+'ularity',!(0xa04+0x3b8+-0x24a*0x6)),h(this,'castShadow'+'s',!(0xf*0x17e+-0x1576+-0xeb)),h(this,'shadowDist'+'ance',-0x20ec+-0x23d1*-0x1+0x2bd*-0x1),h(this,'shadowInte'+'nsity',0xb4*0x1c+-0x28*0x4e+-0x77f),h(this,'shadowReso'+'lution',-0x1754+0xa12+0x1142),h(this,'shadowBias',0x1497+-0x12b3*0x1+0xf2*-0x2+0.05),h(this,'numCascade'+'s',-0x1b4c+-0x2562+0x1*0x40af),h(this,'cascadeBle'+'nd',0x1363*-0x1+0x61*0x9+0xffa),h(this,'bakeNumSam'+'ples',0x869+-0x1650+0xde8),h(this,'bakeArea',0x1*0x24dd+0x2630+-0x4b0d),h(this,'cascadeDis'+'tribution',0x1*-0x17dd+0x1*-0x13fd+0x74f*0x6+0.5),h(this,'normalOffs'+'etBias',0x24ae+0x158+0x1303*-0x2),h(this,'range',0x2182+0x1*-0x12b+-0x204d*0x1),h(this,'innerConeA'+'ngle',-0xb23+-0x296*-0xb+-0x1127),h(this,'outerConeA'+'ngle',0x1*-0x1835+-0xd45+0x25a7),h(this,'falloffMod'+'e',Qp),h(this,'shadowType',$s),h(this,'vsmBlurSiz'+'e',0x2*0xb+0x1*0x85b+0x5*-0x1ae),h(this,'vsmBlurMod'+'e',em),h(this,'vsmBias',(0x516+-0xd83*-0x1+0x45*-0x45+0.01)*(0x12a*-0x1a+-0xc7f+0x3*0xe41+0.25)),h(this,'cookieAsse'+'t',null),h(this,'cookie',null),h(this,'cookieInte'+'nsity',-0xb99+0x1045*-0x1+-0x1*-0x1bdf),h(this,'cookieFall'+'off',!(0x169*-0x5+-0x660+0x1eb*0x7)),h(this,'cookieChan'+'nel','rgb'),h(this,'cookieAngl'+'e',0x2163+0x1ec4*0x1+-0x1*0x4027),h(this,'cookieScal'+'e',null),h(this,'cookieOffs'+'et',null),h(this,'shadowUpda'+'teMode',lm),h(this,'mask',-0x23d+-0x159b+0x17d9),h(this,'affectDyna'+'mic',!(0x202e+-0x8d4+-0x175a)),h(this,'affectLigh'+'tmapped',!(0xa9+0x4d6*-0x3+-0x24f*-0x6)),h(this,'bake',!(0x1f*-0x53+0x9*-0x433+0x3*0xff3)),h(this,'bakeDir',!(0x34*-0x5b+0xee+0x118e)),h(this,'isStatic',!(-0x2313+0x655+0x1cbf)),h(this,'layers',[er]),h(this,'penumbraSi'+'ze',0x1d1a+-0x2*-0x62a+0x5*-0x849),h(this,'penumbraFa'+'lloff',0x935*-0x3+-0x1502*-0x1+0x69e),h(this,'shadowSamp'+'les',-0x18f5+0x58b+0x12*0x115),h(this,'shadowBloc'+'kerSamples',0x1*0x10c9+0x1433*0x1+0x116*-0x22);}}const Ho=Object['keys'](new m0());class TF extends we{constructor(){super(...arguments),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_cookieAss'+'et',null),h(this,'_cookieAss'+'etId',null),h(this,'_cookieAss'+'etAdd',!(0x20e2+-0x193*-0x1+0x2*-0x113a)),h(this,'_cookieMat'+'rix',null);}get['data'](){const _0x1f5fe0=this['system']['store'][this['entity']['getGuid']()];return _0x1f5fe0?_0x1f5fe0['data']:null;}set['enabled'](_0x30d7f0){this['_setValue']('enabled',_0x30d7f0,function(_0x64bf6e,_0x5e6d57){this['onSetEnabl'+'ed'](null,_0x5e6d57,_0x64bf6e);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x461486){this['_setValue']('light',_0x461486);}get['light'](){return this['data']['light'];}set['type'](_0x462124){this['_setValue']('type',_0x462124,function(_0x2858f1,_0xcaeb6e){this['system']['changeType'](this,_0xcaeb6e,_0x2858f1),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x52b20b){this['_setValue']('color',_0x52b20b,function(_0x2939b0,_0x2204eb){this['light']['setColor'](_0x2939b0);},!(-0xbac+-0x52*-0x74+0xe9*-0x1c));}get['color'](){return this['data']['color'];}set['intensity'](_0x19fc37){this['_setValue']('intensity',_0x19fc37,function(_0x36526c,_0x30dade){this['light']['intensity']=_0x36526c;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x9e56d9){this['_setValue']('luminance',_0x9e56d9,function(_0x74475a,_0xa9aa95){this['light']['luminance']=_0x74475a;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x5e35d1){this['_setValue']('shape',_0x5e35d1,function(_0x3cde12,_0x5a6a78){this['light']['shape']=_0x3cde12;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x2077f1){this['_setValue']('affectSpec'+'ularity',_0x2077f1,function(_0x15aacc,_0x581ef6){this['light']['affectSpec'+'ularity']=_0x15aacc;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x88e0c){this['_setValue']('castShadow'+'s',_0x88e0c,function(_0x108635,_0x1c35d8){this['light']['castShadow'+'s']=_0x108635;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0xf52d4b){this['_setValue']('shadowDist'+'ance',_0xf52d4b,function(_0x56749b,_0x3d9133){this['light']['shadowDist'+'ance']=_0x56749b;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x3556e3){this['_setValue']('shadowInte'+'nsity',_0x3556e3,function(_0x19257a,_0x397ba1){this['light']['shadowInte'+'nsity']=_0x19257a;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x29248b){this['_setValue']('shadowReso'+'lution',_0x29248b,function(_0x275dbb,_0x2a294b){this['light']['shadowReso'+'lution']=_0x275dbb;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x5ece62){this['_setValue']('shadowBias',_0x5ece62,function(_0x5bc2ff,_0x27cc2f){this['light']['shadowBias']=-(-0x12fd+-0x143d+0x273a+0.01)*Y['clamp'](_0x5bc2ff,0xd92+-0x324+-0xa6e,0x37c*0x2+-0xe*0x55+0x251*-0x1);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x316605){this['_setValue']('numCascade'+'s',_0x316605,function(_0x325b9f,_0x1721c8){this['light']['numCascade'+'s']=Y['clamp'](Math['floor'](_0x325b9f),-0xa63*-0x2+0x4f7*0x2+-0x1d*0x10f,0x17c5*-0x1+0x25d0+-0xe07);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x17156e){this['_setValue']('cascadeBle'+'nd',_0x17156e,function(_0x4d86aa,_0x25b7f0){this['light']['cascadeBle'+'nd']=Y['clamp'](_0x4d86aa,0x1*0x13+-0x430*-0x1+-0x443*0x1,-0xbb9+0x2*0x1015+-0xc*0x1b4);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x1f7623){this['_setValue']('bakeNumSam'+'ples',_0x1f7623,function(_0x8ac50d,_0x5eee47){this['light']['bakeNumSam'+'ples']=Y['clamp'](Math['floor'](_0x8ac50d),-0x18d6*0x1+0xc13+0x2b*0x4c,-0xe7*0x27+-0x18f1+-0x3d21*-0x1);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x51437d){this['_setValue']('bakeArea',_0x51437d,function(_0x482175,_0x239b7e){this['light']['bakeArea']=Y['clamp'](_0x482175,0x1*0x240f+0x2a0+-0x3*0xce5,-0x152*-0x13+0x13bb+0x2c1d*-0x1);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x15b3c7){this['_setValue']('cascadeDis'+'tribution',_0x15b3c7,function(_0x3f38f3,_0x2ae82f){this['light']['cascadeDis'+'tribution']=Y['clamp'](_0x3f38f3,0x1a65+0x2072*-0x1+0x60d,0x3a*0x5b+0xb*0x2e3+-0x345e*0x1);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x3cabfb){this['_setValue']('normalOffs'+'etBias',_0x3cabfb,function(_0x822199,_0x1d9b5a){this['light']['normalOffs'+'etBias']=Y['clamp'](_0x822199,0x4*-0x6c7+0x887*0x4+-0x700,-0x1*-0x115f+0x16c8+-0x476*0x9);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x802485){this['_setValue']('range',_0x802485,function(_0x5ee51f,_0x329c72){this['light']['attenuatio'+'nEnd']=_0x5ee51f;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x496a62){this['_setValue']('innerConeA'+'ngle',_0x496a62,function(_0x426199,_0x5f1b93){this['light']['innerConeA'+'ngle']=_0x426199;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x5ecdf0){this['_setValue']('outerConeA'+'ngle',_0x5ecdf0,function(_0x5cd4ae,_0x24c51b){this['light']['outerConeA'+'ngle']=_0x5cd4ae;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x51ea09){this['_setValue']('falloffMod'+'e',_0x51ea09,function(_0x3c0df4,_0x383e92){this['light']['falloffMod'+'e']=_0x3c0df4;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x51a86b){this['_setValue']('shadowType',_0x51a86b,function(_0x5a2c3a,_0x271a1b){this['light']['shadowType']=_0x5a2c3a;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x176f5d){this['_setValue']('vsmBlurSiz'+'e',_0x176f5d,function(_0x50dfd1,_0x5ac8ce){this['light']['vsmBlurSiz'+'e']=_0x50dfd1;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x3343af){this['_setValue']('vsmBlurMod'+'e',_0x3343af,function(_0x28f0f7,_0x6ab003){this['light']['vsmBlurMod'+'e']=_0x28f0f7;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x1e1187){this['_setValue']('vsmBias',_0x1e1187,function(_0x4b87d5,_0x4cb0ba){this['light']['vsmBias']=Y['clamp'](_0x4b87d5,-0x51c+-0x1837+0x1d53*0x1,0x1*-0x1431+-0x2*-0x1382+-0x969*0x2);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x3341a1){this['_setValue']('cookieAsse'+'t',_0x3341a1,function(_0x273825,_0x21f4a2){if(!(this['_cookieAss'+'etId']&&(_0x273825 instanceof pe&&_0x273825['id']===this['_cookieAss'+'etId']||_0x273825===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x273825 instanceof pe)this['data']['cookieAsse'+'t']=_0x273825['id'],this['_cookieAss'+'etId']=_0x273825['id'],this['onCookieAs'+'setAdd'](_0x273825);else{if(typeof _0x273825=='number'){this['_cookieAss'+'etId']=_0x273825;const _0xd61209=this['system']['app']['assets']['get'](_0x273825);_0xd61209?this['onCookieAs'+'setAdd'](_0xd61209):(this['_cookieAss'+'etAdd']=!(-0x9*0x24f+0x54*0x5c+-0x969),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0xe6d540){this['_setValue']('cookie',_0xe6d540,function(_0x14a551,_0x5aef81){this['light']['cookie']=_0x14a551;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x3abb69){this['_setValue']('cookieInte'+'nsity',_0x3abb69,function(_0x5f0947,_0x1ad05f){this['light']['cookieInte'+'nsity']=Y['clamp'](_0x5f0947,0x1939+0x1e2b+-0x3764,-0x1*0x199a+0x26f3+-0x1ab*0x8);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x439290){this['_setValue']('cookieFall'+'off',_0x439290,function(_0xffcc38,_0x49ae4d){this['light']['cookieFall'+'off']=_0xffcc38;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x215b85){this['_setValue']('cookieChan'+'nel',_0x215b85,function(_0x19a2dc,_0x31f92a){this['light']['cookieChan'+'nel']=_0x19a2dc;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x4169e7){this['_setValue']('cookieAngl'+'e',_0x4169e7,function(_0x179b54,_0x2e9d2c){if(_0x179b54!==0x1bba+0xf38+-0x2af2||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());let _0x5cef66=-0x2d*0x9+-0x2*0x7cd+0x1130,_0x1b8874=0x966+-0x1*-0x11a1+-0x1b06;this['cookieScal'+'e']&&(_0x5cef66=this['cookieScal'+'e']['x'],_0x1b8874=this['cookieScal'+'e']['y']);const _0x58d560=Math['cos'](_0x179b54*Y['DEG_TO_RAD']),_0x153fad=Math['sin'](_0x179b54*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x58d560/_0x5cef66,-_0x153fad/_0x5cef66,_0x153fad/_0x1b8874,_0x58d560/_0x1b8874),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x18e4da){this['_setValue']('cookieScal'+'e',_0x18e4da,function(_0x25134f,_0x5ce0d9){if(_0x25134f!==null||this['cookieAngl'+'e']!==0x483+0x86d*0x2+-0x155d){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());const _0x2fb51a=_0x25134f['x'],_0x2a9887=_0x25134f['y'],_0x110747=Math['cos'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']),_0x131581=Math['sin'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x110747/_0x2fb51a,-_0x131581/_0x2fb51a,_0x131581/_0x2a9887,_0x110747/_0x2a9887),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(0x504+0x3*0xbcc+-0xc*0x35e));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x499439){this['_setValue']('cookieOffs'+'et',_0x499439,function(_0x225f26,_0x3b458d){this['light']['cookieOffs'+'et']=_0x225f26;},!(-0x28*-0xf9+0x2546+-0x4c2e));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x186acd){this['_setValue']('shadowUpda'+'teMode',_0x186acd,function(_0x28baef,_0x13deb9){this['light']['shadowUpda'+'teMode']=_0x28baef;},!(0x691*-0x1+-0x7c9*-0x4+-0x1893));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x5a7726){this['_setValue']('mask',_0x5a7726,function(_0x453247,_0x99fa4e){this['light']['mask']=_0x453247;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x23a8e1){this['_setValue']('affectDyna'+'mic',_0x23a8e1,function(_0x5af8ec,_0x4ef51e){_0x5af8ec?this['light']['mask']|=Ss:this['light']['mask']&=~Ss,this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x586ef3){this['_setValue']('affectLigh'+'tmapped',_0x586ef3,function(_0x340b92,_0x3b3ed1){_0x340b92?(this['light']['mask']|=di,this['bake']&&(this['light']['mask']&=~fi)):(this['light']['mask']&=~di,this['bake']&&(this['light']['mask']|=fi));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x1984b0){this['_setValue']('bake',_0x1984b0,function(_0x54c718,_0x15d9eb){_0x54c718?(this['light']['mask']|=fi,this['affectLigh'+'tmapped']&&(this['light']['mask']&=~di)):(this['light']['mask']&=~fi,this['affectLigh'+'tmapped']&&(this['light']['mask']|=di)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x121e8b){this['_setValue']('bakeDir',_0x121e8b,function(_0x10f575,_0x58085b){this['light']['bakeDir']=_0x10f575;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x573f3d){this['_setValue']('isStatic',_0x573f3d,function(_0x2aed75,_0x4b3fc5){this['light']['isStatic']=_0x2aed75;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x469a81){this['_setValue']('layers',_0x469a81,function(_0x504b64,_0x18deb3){for(let _0x373551=-0x6f9+-0x1518+0x1*0x1c11;_0x373551<_0x18deb3['length'];_0x373551++){const _0x556357=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x18deb3[_0x373551]);_0x556357&&(_0x556357['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x556357));}for(let _0x548314=0x15*-0xbb+0x1aad+-0xb56;_0x548314<_0x504b64['length'];_0x548314++){const _0x23068a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x504b64[_0x548314]);_0x23068a&&this['enabled']&&this['entity']['enabled']&&(_0x23068a['addLight'](this),this['light']['addLayer'](_0x23068a));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x4af7f3){this['light']['shadowUpda'+'teOverride'+'s']=_0x4af7f3;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x4856d5){this['light']['shadowSamp'+'les']=_0x4856d5;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x427aad){this['light']['shadowBloc'+'kerSamples']=_0x427aad;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x8a37d0){this['light']['penumbraSi'+'ze']=_0x8a37d0;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x3c1119){this['light']['penumbraFa'+'lloff']=_0x3c1119;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x1482ec,_0x73e72a,_0x13fb01,_0x3efaf1){const _0x4cac32=this['data'],_0x59e685=_0x4cac32[_0x1482ec];!_0x3efaf1&&_0x59e685===_0x73e72a||(_0x4cac32[_0x1482ec]=_0x73e72a,_0x13fb01&&_0x13fb01['call'](this,_0x73e72a,_0x59e685));}['addLightTo'+'Layers'](){for(let _0x5f58ca=0x1ae*-0x3+0x40c+-0xfe*-0x1;_0x5f58ca<this['layers']['length'];_0x5f58ca++){const _0x4199df=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5f58ca]);_0x4199df&&(_0x4199df['addLight'](this),this['light']['addLayer'](_0x4199df));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x329818=-0x181f+-0x1*-0x705+-0x88d*-0x2;_0x329818<this['layers']['length'];_0x329818++){const _0x452784=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x329818]);_0x452784&&(_0x452784['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x452784));}}['onLayersCh'+'anged'](_0x5661e8,_0x541146){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x5661e8['off']('add',this['onLayerAdd'+'ed'],this),_0x5661e8['off']('remove',this['onLayerRem'+'oved'],this),_0x541146['on']('add',this['onLayerAdd'+'ed'],this),_0x541146['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0xa5fc4c){this['layers']['indexOf'](_0xa5fc4c['id'])>=0x86a+0x8*-0x3a8+0x14d6&&this['enabled']&&this['entity']['enabled']&&(_0xa5fc4c['addLight'](this),this['light']['addLayer'](_0xa5fc4c));}['onLayerRem'+'oved'](_0x35c7a4){this['layers']['indexOf'](_0x35c7a4['id'])>=-0x2467*-0x1+0xb9*-0x2f+-0x270&&(_0x35c7a4['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x35c7a4));}['refreshPro'+'perties'](){for(let _0xd53b0c=0x1ba6+-0x8*-0x1cf+-0x2a1e;_0xd53b0c<Ho['length'];_0xd53b0c++){const _0x8a4849=Ho[_0xd53b0c];this[_0x8a4849]=this[_0x8a4849];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x49ec71=!(0x2385+0xc6f+-0x2ff3);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(-0x1fc9*-0x1+-0x3c7+-0x1c02),_0x49ec71=!(-0x1e5*0xb+-0x7a7*-0x3+0x21e*-0x1)),(!this['_cookieAss'+'et']['resource']||_0x49ec71)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x34a07e){this['_cookieAss'+'etId']===_0x34a07e['id']&&(this['_cookieAss'+'et']=_0x34a07e,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(-0x12ee*0x1+-0x10e1*-0x1+-0x20e*-0x1)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x1e35eb=this['system']['app']['scene'],_0xd822a6=_0x1e35eb['layers'];this['light']['enabled']=!(-0x843+-0xa38*0x3+0x26eb),this['_evtLayers'+'Changed']=_0x1e35eb['on']('set:layers',this['onLayersCh'+'anged'],this),_0xd822a6&&(this['_evtLayerA'+'dded']=_0xd822a6['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0xd822a6['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x2e3187,_0x1a9ee7,_0x5247ef;const _0x2beee5=this['system']['app']['scene']['layers'];this['light']['enabled']=!(-0x1*-0x133+0x1684+-0x4be*0x5),(_0x2e3187=this['_evtLayers'+'Changed'])==null||_0x2e3187['off'](),this['_evtLayers'+'Changed']=null,_0x2beee5&&((_0x1a9ee7=this['_evtLayerA'+'dded'])==null||_0x1a9ee7['off'](),this['_evtLayerA'+'dded']=null,(_0x5247ef=this['_evtLayerR'+'emoved'])==null||_0x5247ef['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class wF extends ct{constructor(_0x4e84c0){super(_0x4e84c0),this['id']='light',this['ComponentT'+'ype']=TF,this['DataType']=m0,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x2e9f65,_0x40d668){const _0x5958cb={..._0x40d668};_0x5958cb['type']||(_0x5958cb['type']=_0x2e9f65['data']['type']),_0x2e9f65['data']['type']=_0x5958cb['type'],_0x5958cb['layers']&&Array['isArray'](_0x5958cb['layers'])&&(_0x5958cb['layers']=_0x5958cb['layers']['slice'](0x2*-0xbc+-0x56f+0x6e7)),_0x5958cb['color']&&Array['isArray'](_0x5958cb['color'])&&(_0x5958cb['color']=new ie(_0x5958cb['color'][0xeb5+-0x74b+0xd*-0x92],_0x5958cb['color'][-0x3*-0x9cf+0x1e9*0x5+-0x26f9],_0x5958cb['color'][-0x15f6*0x1+0x8da*-0x1+0x1*0x1ed2])),_0x5958cb['cookieOffs'+'et']&&_0x5958cb['cookieOffs'+'et']instanceof Array&&(_0x5958cb['cookieOffs'+'et']=new J(_0x5958cb['cookieOffs'+'et'][-0xa93*-0x1+0xcc1*0x3+-0x30d6],_0x5958cb['cookieOffs'+'et'][0xd8e+-0x67*-0x21+-0x1ad4])),_0x5958cb['cookieScal'+'e']&&_0x5958cb['cookieScal'+'e']instanceof Array&&(_0x5958cb['cookieScal'+'e']=new J(_0x5958cb['cookieScal'+'e'][-0x29+0x6d0+-0x6a7],_0x5958cb['cookieScal'+'e'][-0x1828+-0x133f+-0x1*-0x2b68])),_0x5958cb['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x5958cb['enabled']=_0x5958cb['enable']),_0x5958cb['shape']||(_0x5958cb['shape']=Ys);const _0x5538c5=new pl(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x5538c5['type']=fu[_0x5958cb['type']],_0x5538c5['_node']=_0x2e9f65['entity'],_0x2e9f65['data']['light']=_0x5538c5,super['initialize'+'ComponentD'+'ata'](_0x2e9f65,_0x5958cb,Ho);}['_onRemoveC'+'omponent'](_0x5e795c,_0x368125){_0x368125['onRemove']();}['cloneCompo'+'nent'](_0x5945e0,_0x4861c6){const _0x4dd9c6=_0x5945e0['light'],_0x4573dc=[];let _0x277183;for(let _0x1c28c6=0x1058*-0x1+-0xdf9+0x1e51;_0x1c28c6<Ho['length'];_0x1c28c6++)_0x277183=Ho[_0x1c28c6],_0x277183!=='light'&&(_0x4dd9c6[_0x277183]&&_0x4dd9c6[_0x277183]['clone']?_0x4573dc[_0x277183]=_0x4dd9c6[_0x277183]['clone']():_0x4573dc[_0x277183]=_0x4dd9c6[_0x277183]);return this['addCompone'+'nt'](_0x4861c6,_0x4573dc);}['changeType'](_0x65fbb5,_0x43e23d,_0x2aa738){_0x43e23d!==_0x2aa738&&(_0x65fbb5['light']['type']=fu[_0x2aa738]);}}const EF=['x','y','z','w'],bF=[void(-0x6d*-0x2d+-0x1a2e+0x705),void(-0x16*-0x1b6+0x2131+0x46d5*-0x1),J,D,re];function Yn(_0x2179b0,_0x3d9169,_0x3b86a1,_0x10e77b){switch(_0x3d9169['type']){case'boolean':return!!_0x3b86a1;case'number':if(typeof _0x3b86a1=='number')return _0x3b86a1;if(typeof _0x3b86a1=='string'){const _0x2f0e07=parseInt(_0x3b86a1,-0x4*-0x1ee+0x18f5+-0x687*0x5);return isNaN(_0x2f0e07)?null:_0x2f0e07;}else{if(typeof _0x3b86a1=='boolean')return-0x16f*-0x13+-0xd3f+-0xc7*0x12+_0x3b86a1;}return null;case'json':{const _0x1b09e3={};if(Array['isArray'](_0x3d9169['schema'])){(!_0x3b86a1||typeof _0x3b86a1!='object')&&(_0x3b86a1={});for(let _0xb1c795=0x9b6+0x15*0x134+-0x22fa*0x1;_0xb1c795<_0x3d9169['schema']['length'];_0xb1c795++){const _0x531f91=_0x3d9169['schema'][_0xb1c795];if(_0x531f91['name']){if(_0x531f91['array']){_0x1b09e3[_0x531f91['name']]=[];const _0xac9d1e=Array['isArray'](_0x3b86a1[_0x531f91['name']])?_0x3b86a1[_0x531f91['name']]:[];for(let _0x1df159=-0x167*0xd+-0x1*-0xb47+0x6f4;_0x1df159<_0xac9d1e['length'];_0x1df159++)_0x1b09e3[_0x531f91['name']]['push'](Yn(_0x2179b0,_0x531f91,_0xac9d1e[_0x1df159]));}else{const _0x4cf524=_0x3b86a1['hasOwnProp'+'erty'](_0x531f91['name'])?_0x3b86a1[_0x531f91['name']]:_0x531f91['default'];_0x1b09e3[_0x531f91['name']]=Yn(_0x2179b0,_0x531f91,_0x4cf524);}}}}return _0x1b09e3;}case'asset':return _0x3b86a1 instanceof pe?_0x3b86a1:typeof _0x3b86a1=='number'?_0x2179b0['assets']['get'](_0x3b86a1)||null:typeof _0x3b86a1=='string'&&_0x2179b0['assets']['get'](parseInt(_0x3b86a1,-0x58a+-0x1b5+0x749))||null;case'entity':return _0x3b86a1 instanceof Ie?_0x3b86a1:typeof _0x3b86a1=='string'?_0x2179b0['getEntityF'+'romIndex'](_0x3b86a1):null;case'rgb':case'rgba':if(_0x3b86a1 instanceof ie)return _0x10e77b instanceof ie?(_0x10e77b['copy'](_0x3b86a1),_0x10e77b):_0x3b86a1['clone']();if(_0x3b86a1 instanceof Array&&_0x3b86a1['length']>=-0x2471+-0x1*0xb93+0x3007&&_0x3b86a1['length']<=0xf40+0x1*0x7e3+-0x3*0x7b5){for(let _0x17bb73=-0x225c+-0xad6+0x2d32;_0x17bb73<_0x3b86a1['length'];_0x17bb73++)if(typeof _0x3b86a1[_0x17bb73]!='number')return null;return _0x10e77b||(_0x10e77b=new ie()),_0x10e77b['r']=_0x3b86a1[0x8e*0x43+-0x2c8+-0x2262],_0x10e77b['g']=_0x3b86a1[-0x140e+-0x14*-0x1f+0x11a3],_0x10e77b['b']=_0x3b86a1[0x1a0f*-0x1+0xf*-0x259+0x128*0x35],_0x10e77b['a']=_0x3b86a1['length']===0xfed+0x1d*0x143+0x3481*-0x1?0x1753+0x26+-0x1778:_0x3b86a1[0x5b*-0x22+-0x1*0x23a7+-0x8*-0x5f8],_0x10e77b;}else{if(typeof _0x3b86a1=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x3b86a1))return _0x10e77b||(_0x10e77b=new ie()),_0x10e77b['fromString'](_0x3b86a1),_0x10e77b;}return null;case'vec2':case'vec3':case'vec4':{const _0xeb714b=parseInt(_0x3d9169['type']['slice'](0x218c+-0x29*0x3e+-0x179b),-0x599*0x2+-0xddf+0x191b),_0x3bcfc2=bF[_0xeb714b];if(_0x3b86a1 instanceof _0x3bcfc2)return _0x10e77b instanceof _0x3bcfc2?(_0x10e77b['copy'](_0x3b86a1),_0x10e77b):_0x3b86a1['clone']();if(_0x3b86a1 instanceof Array&&_0x3b86a1['length']===_0xeb714b){for(let _0x5d8137=-0x2561+-0x1*-0x12ea+0x1277;_0x5d8137<_0x3b86a1['length'];_0x5d8137++)if(typeof _0x3b86a1[_0x5d8137]!='number')return null;_0x10e77b||(_0x10e77b=new _0x3bcfc2());for(let _0xac3a97=-0x2*-0x14e+-0x72b*0x1+0x48f;_0xac3a97<_0xeb714b;_0xac3a97++)_0x10e77b[EF[_0xac3a97]]=_0x3b86a1[_0xac3a97];return _0x10e77b;}return null;}case'curve':if(_0x3b86a1){let _0x2d50a9;if(_0x3b86a1 instanceof qs||_0x3b86a1 instanceof na)_0x2d50a9=_0x3b86a1['clone']();else{const _0x4c11c6=_0x3b86a1['keys'][0x11a7+0x1886+-0x2a2d]instanceof Array?na:qs;_0x2d50a9=new _0x4c11c6(_0x3b86a1['keys']),_0x2d50a9['type']=_0x3b86a1['type'];}return _0x2d50a9;}break;}return _0x3b86a1;}function _0(_0x2fea69,_0x917bd5,_0x5ed8b2,_0x51c19b){return _0x917bd5['array']?_0x5ed8b2['map']((_0xa7c9e5,_0xa40d28)=>Yn(_0x2fea69,_0x917bd5,_0xa7c9e5,_0x51c19b?_0x51c19b[_0xa40d28]:null)):Yn(_0x2fea69,_0x917bd5,_0x5ed8b2,_0x51c19b);}function g0(_0x1b7fa1,_0x2ec995,_0x2bef98,_0xce965){if(_0x2bef98)for(const _0x406f63 in _0x2ec995){const _0x31e425=_0x2ec995[_0x406f63],_0x4ef015=_0x2bef98[_0x406f63];_0x4ef015!==void(-0x26ae+0x14c*0x3+-0x1*-0x22ca)&&(_0xce965[_0x406f63]=_0(_0x1b7fa1,_0x31e425,_0x4ef015,_0xce965[_0x406f63]));}}const yn=class yn{constructor(_0xed92e5){this['scriptType']=_0xed92e5,this['index']={};}['add'](_0x1fcd9b,_0x5c2634){if(this['index'][_0x1fcd9b]){w['warn']('attribute\x20'+'\x27'+_0x1fcd9b+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(yn['reservedNa'+'mes']['has'](_0x1fcd9b)){w['warn']('attribute\x20'+'\x27'+_0x1fcd9b+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x1fcd9b]=_0x5c2634,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x1fcd9b,{'get':function(){return this['__attribut'+'es'][_0x1fcd9b];},'set':function(_0x17a7bc){const _0x15a3b='attr',_0x1abc3d='attr:'+_0x1fcd9b,_0x58752c=this['__attribut'+'es'][_0x1fcd9b];let _0x41f7df=_0x58752c;if(_0x58752c&&_0x5c2634['type']!=='json'&&_0x5c2634['type']!=='entity'&&_0x58752c['clone']&&(this['hasEvent'](_0x15a3b)||this['hasEvent'](_0x1abc3d))&&(_0x41f7df=_0x58752c['clone']()),_0x5c2634['array']){if(this['__attribut'+'es'][_0x1fcd9b]=[],_0x17a7bc){for(let _0x90b17b=0x2620+-0x39*0x3b+0x18fd*-0x1,_0x1c1e59=_0x17a7bc['length'];_0x90b17b<_0x1c1e59;_0x90b17b++)this['__attribut'+'es'][_0x1fcd9b]['push'](Yn(this['app'],_0x5c2634,_0x17a7bc[_0x90b17b],_0x58752c?_0x58752c[_0x90b17b]:null));}}else this['__attribut'+'es'][_0x1fcd9b]=Yn(this['app'],_0x5c2634,_0x17a7bc,_0x58752c);this['fire'](_0x15a3b,_0x1fcd9b,this['__attribut'+'es'][_0x1fcd9b],_0x41f7df),this['fire'](_0x1abc3d,this['__attribut'+'es'][_0x1fcd9b],_0x41f7df);}});}['remove'](_0x22a58f){return this['index'][_0x22a58f]?(delete this['index'][_0x22a58f],delete this['scriptType']['prototype'][_0x22a58f],!(0x99b*-0x1+-0x1*0x7bf+0x115a)):!(-0x1*-0x1ca1+0x7dc+0x1d3*-0x14);}['has'](_0xf0c456){return!!this['index'][_0xf0c456];}['get'](_0x5d0f9d){return this['index'][_0x5d0f9d]||null;}};h(yn,'assignAttr'+'ibutesToSc'+'ript',g0),h(yn,'attributeT'+'oValue',_0),h(yn,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Sl=yn;const Bu='initialize',zu='postInitia'+'lize',AF='update',CF='postUpdate',PF='swap';class ts extends me{constructor(_0x2623d8){super(),h(this,'app'),h(this,'entity'),h(this,'_enabled'),h(this,'_enabledOl'+'d'),h(this,'_initializ'+'ed'),h(this,'_postIniti'+'alized'),h(this,'__destroye'+'d'),h(this,'__scriptTy'+'pe'),h(this,'__executio'+'nOrder'),this['initScript'](_0x2623d8);}set['enabled'](_0xd01ee){this['_enabled']=!!_0xd01ee,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(0x2644+-0x1*0x80+-0x25c4),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,Bu)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(-0x1d7*0x4+-0x8d7*-0x2+-0x1*0xa52),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,zu)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x3055f7){const _0x1d995b=this['constructo'+'r'];w['assert'](_0x3055f7&&_0x3055f7['app']&&_0x3055f7['entity'],'script\x20['+_0x1d995b['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x3055f7['app'],this['entity']=_0x3055f7['entity'],this['_enabled']=typeof _0x3055f7['enabled']=='boolean'?_0x3055f7['enabled']:!(0x18a8+-0x1*-0x1433+-0x2cdb),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(-0xc95*0x3+0x7*0x2fb+0x10e3),this['__scriptTy'+'pe']=_0x1d995b,this['__executio'+'nOrder']=-(-0x2014+0x1cd9+-0xcf*-0x4);}static get['scriptName'](){return this['__name'];}}h(ts,'EVENT_ENAB'+'LE','enable'),h(ts,'EVENT_DISA'+'BLE','disable'),h(ts,'EVENT_STAT'+'E','state'),h(ts,'EVENT_DEST'+'ROY','destroy'),h(ts,'EVENT_ATTR','attr'),h(ts,'EVENT_ERRO'+'R','error'),h(ts,'__name',null),h(ts,'__getScrip'+'tName',S0);const MF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function S0(_0x64972c){if(typeof _0x64972c!='function')return;if(_0x64972c['scriptName'])return _0x64972c['scriptName'];if('name'in Function['prototype'])return _0x64972c['name'];if(_0x64972c===Function||_0x64972c===Function['prototype']['constructo'+'r'])return'Function';const _0x165825=(''+_0x64972c)['match'](MF);return _0x165825?_0x165825[0x1*0x2047+0x403*0x5+-0x3455]:void(-0x653+0x1a8c+-0x1439);}class Wo extends ts{constructor(_0x2567b9){super(_0x2567b9),h(this,'__attribut'+'es'),h(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x2567b9);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Sl(this)),this['__attribut'+'es'];}['initScript'](_0x5a9925){ts['prototype']['initScript']['call'](this,_0x5a9925),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x5a9925['attributes']||{};}['initScript'+'Type'](_0x3a78e3){this['initScript'](_0x3a78e3);}['__initiali'+'zeAttribut'+'es'](_0x2fbf9b){if(!(!_0x2fbf9b&&!this['__attribut'+'esRaw'])){for(const _0x44c594 in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x44c594)?this[_0x44c594]=this['__attribut'+'esRaw'][_0x44c594]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x44c594)||(this['__scriptTy'+'pe']['attributes']['index'][_0x44c594]['hasOwnProp'+'erty']('default')?this[_0x44c594]=this['__scriptTy'+'pe']['attributes']['index'][_0x44c594]['default']:this[_0x44c594]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x5aed62){for(const _0x181867 in _0x5aed62)_0x5aed62['hasOwnProp'+'erty'](_0x181867)&&(this['prototype'][_0x181867]=_0x5aed62[_0x181867]);}}const DF=_0x16f661=>_0x16f661[0x446*-0x4+-0x2fc+0x1414]['toLowerCas'+'e']()+_0x16f661['substring'](0x1094*-0x2+-0x83b+0x6e6*0x6);class Ii extends we{constructor(_0x56e67e,_0x1a48eb){super(_0x56e67e,_0x1a48eb),h(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new oh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new oh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(-0x447+-0x1*-0x2502+-0x20ba),this['_scriptsDa'+'ta']=null,this['_oldState']=!(0x1*0x1a09+0x4*-0x46d+0x1*-0x855),this['_enabled']=!(-0x1060+-0xd*-0x19+0xf1b),this['_beingEnab'+'led']=!(-0x237b+0x190d+0xa6f),this['_isLooping'+'ThroughScr'+'ipts']=!(-0x3b8*-0x8+0x1448*0x1+0x58f*-0x9),this['_execution'+'Order']=-(0x248+-0x6b*0x46+0x1*0x1afb),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x4ef0b0){this['_scriptsDa'+'ta']=_0x4ef0b0;for(const _0x6f3c34 in _0x4ef0b0){if(!_0x4ef0b0['hasOwnProp'+'erty'](_0x6f3c34))continue;const _0x8d9c5c=this['_scriptsIn'+'dex'][_0x6f3c34];if(_0x8d9c5c){if(typeof _0x4ef0b0[_0x6f3c34]['enabled']=='boolean'&&(_0x8d9c5c['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x8d9c5c);}),_0x8d9c5c['enabled']=!!_0x4ef0b0[_0x6f3c34]['enabled']),typeof _0x4ef0b0[_0x6f3c34]['attributes']=='object'){for(const _0x18725f in _0x4ef0b0[_0x6f3c34]['attributes'])if(!Sl['reservedNa'+'mes']['has'](_0x18725f)){if(!_0x8d9c5c['__attribut'+'es']['hasOwnProp'+'erty'](_0x18725f)){const _0x330a44=this['system']['app']['scripts']['get'](_0x6f3c34);_0x330a44&&_0x330a44['attributes']['add'](_0x18725f,{});}_0x8d9c5c[_0x18725f]=_0x4ef0b0[_0x6f3c34]['attributes'][_0x18725f];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x51d9d8){const _0x57e365=this['_enabled'];this['_enabled']=_0x51d9d8,this['fire']('set','enabled',_0x57e365,_0x51d9d8);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(-0x438+0x2*-0x709+0x124a),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(0xaa5+-0x1f*-0x26+-0xf3e);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x42d01a=this['_beginLoop'+'ing']();for(let _0x24d13e=0x1417+-0xaca+-0x1*0x94d,_0x22c78f=this['scripts']['length'];_0x24d13e<_0x22c78f;_0x24d13e++){const _0x1dd3f7=this['scripts'][_0x24d13e];_0x1dd3f7['_initializ'+'ed']&&!_0x1dd3f7['_postIniti'+'alized']&&_0x1dd3f7['enabled']&&(_0x1dd3f7['_postIniti'+'alized']=!(-0x1b4+0x134b+0x3*-0x5dd),_0x1dd3f7['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x1dd3f7,zu));}this['_endLoopin'+'g'](_0x42d01a);}['_beginLoop'+'ing'](){const _0x151014=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(-0x142a+-0x1*0xd45+0x216f),_0x151014;}['_endLoopin'+'g'](_0x3680a3){this['_isLooping'+'ThroughScr'+'ipts']=_0x3680a3,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0xf12eeb,_0x141189,_0x1140ce){this['_beingEnab'+'led']=!(0x1534*0x1+0x49*0x2f+-0x229b),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(-0x30e*0x2+0x1d2+-0x1*-0x44b);}['_checkStat'+'e'](){const _0xc6da2e=this['enabled']&&this['entity']['enabled'];if(_0xc6da2e===this['_oldState'])return;this['_oldState']=_0xc6da2e,this['fire'](_0xc6da2e?'enable':'disable'),this['fire']('state',_0xc6da2e),_0xc6da2e?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x4d61d3=this['_beginLoop'+'ing']();for(let _0x372706=0x51b+-0x84e*0x2+0xb81,_0x58537d=this['scripts']['length'];_0x372706<_0x58537d;_0x372706++){const _0x17441a=this['scripts'][_0x372706];_0x17441a['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x17441a);}),_0x17441a['enabled']=_0x17441a['_enabled'];}this['_endLoopin'+'g'](_0x4d61d3);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x298855=this['_beginLoop'+'ing']();for(let _0xf2ce39=-0x65*0xb+0x593*0x2+-0x6cf;_0xf2ce39<this['scripts']['length'];_0xf2ce39++){const _0x28d663=this['scripts'][_0xf2ce39];_0x28d663&&this['destroy'](_0x28d663['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x298855);}['_removeDes'+'troyedScri'+'pts'](){const _0x2ed3da=this['_destroyed'+'Scripts']['length'];if(_0x2ed3da){for(let _0x34d6e9=-0x4*-0x147+-0x1*0x1972+-0x13*-0x112;_0x34d6e9<_0x2ed3da;_0x34d6e9++){const _0x44e228=this['_destroyed'+'Scripts'][_0x34d6e9];this['_removeScr'+'iptInstanc'+'e'](_0x44e228);}this['_destroyed'+'Scripts']['length']=0x54e*-0x2+-0xcae+0x2*0xba5,this['_resetExec'+'utionOrder'](-0x164a+-0x5*-0x6de+-0xc0c,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x49cb56=-0x7*-0x276+-0x3*-0x573+-0x2193,_0x4a975a=this['scripts']['length'];_0x49cb56<_0x4a975a;_0x49cb56++){const _0x9e89c=this['scripts'][_0x49cb56];this['initialize'+'Attributes'](_0x9e89c);}}['initialize'+'Attributes'](_0x4bd154){var _0x58f357;if(_0x4bd154 instanceof Wo)_0x4bd154['__initiali'+'zeAttribut'+'es']();else{const _0x562862=_0x4bd154['__scriptTy'+'pe']['__name'],_0x574cdc=this['_attribute'+'DataMap']['get'](_0x562862);if(!_0x574cdc)return;const _0x1bc9d7=(_0x58f357=this['system']['app']['scripts'])==null?void(-0x1682+-0x234+-0x2*-0xc5b):_0x58f357['getSchema'](_0x562862);_0x1bc9d7||w['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x562862+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),g0(this['system']['app'],_0x1bc9d7['attributes'],_0x574cdc,_0x4bd154);}}['_scriptMet'+'hod'](_0xf4cc95,_0x5f40b6,_0x10f869){try{_0xf4cc95[_0x5f40b6](_0x10f869);}catch(_0x29a8b0){_0xf4cc95['enabled']=!(0x48e*0x2+-0x427*0x5+0xba8),_0xf4cc95['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x5f40b6+'\x22\x20for\x20\x22'+_0xf4cc95['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x29a8b0),console['error'](_0x29a8b0)),_0xf4cc95['fire']('error',_0x29a8b0,_0x5f40b6),this['fire']('error',_0xf4cc95,_0x29a8b0,_0x5f40b6);}}['_onInitial'+'ize'](){const _0x2fb558=this['_scripts'],_0x219057=this['_beginLoop'+'ing']();for(let _0x2fed6d=0x213c+-0x2027+0x1*-0x115,_0x10615c=_0x2fb558['length'];_0x2fed6d<_0x10615c;_0x2fed6d++){const _0x247eb6=_0x2fb558[_0x2fed6d];!_0x247eb6['_initializ'+'ed']&&_0x247eb6['enabled']&&(_0x247eb6['_initializ'+'ed']=!(-0x1e71+-0x1e8a+0x1*0x3cfb),_0x247eb6['initialize']&&this['_scriptMet'+'hod'](_0x247eb6,Bu));}this['_endLoopin'+'g'](_0x219057);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x4ac3c8){const _0xdbe7ac=this['_updateLis'+'t'];if(!_0xdbe7ac['length'])return;const _0x5e3753=this['_beginLoop'+'ing']();for(_0xdbe7ac['loopIndex']=0x641*0x1+0x2fd+-0x93e;_0xdbe7ac['loopIndex']<_0xdbe7ac['length'];_0xdbe7ac['loopIndex']++){const _0x44e035=_0xdbe7ac['items'][_0xdbe7ac['loopIndex']];_0x44e035['enabled']&&this['_scriptMet'+'hod'](_0x44e035,AF,_0x4ac3c8);}this['_endLoopin'+'g'](_0x5e3753);}['_onPostUpd'+'ate'](_0x2aa950){const _0x275925=this['_postUpdat'+'eList'];if(!_0x275925['length'])return;const _0x531e55=this['_beginLoop'+'ing']();for(_0x275925['loopIndex']=0x17*-0x167+-0x2*-0x831+0xef*0x11;_0x275925['loopIndex']<_0x275925['length'];_0x275925['loopIndex']++){const _0x2124e2=_0x275925['items'][_0x275925['loopIndex']];_0x2124e2['enabled']&&this['_scriptMet'+'hod'](_0x2124e2,CF,_0x2aa950);}this['_endLoopin'+'g'](_0x531e55);}['_insertScr'+'iptInstanc'+'e'](_0x504669,_0x14c300,_0x20cc97){_0x14c300===-(-0x1*-0xf39+0x1*0x1cf1+-0x13*0x253)?(this['_scripts']['push'](_0x504669),_0x504669['__executio'+'nOrder']=_0x20cc97,_0x504669['update']&&this['_updateLis'+'t']['append'](_0x504669),_0x504669['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x504669)):(this['_scripts']['splice'](_0x14c300,-0x25f*-0x7+0x1821+0x28ba*-0x1,_0x504669),_0x504669['__executio'+'nOrder']=_0x14c300,this['_resetExec'+'utionOrder'](_0x14c300+(-0xb2*0xe+0xae5*-0x3+0x712*0x6),_0x20cc97+(0x15ae+0x3e*0x6f+0x308f*-0x1)),_0x504669['update']&&this['_updateLis'+'t']['insert'](_0x504669),_0x504669['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x504669));}['_removeScr'+'iptInstanc'+'e'](_0x4d1487){const _0x2fd888=this['_scripts']['indexOf'](_0x4d1487);return _0x2fd888===-(-0x9*0x2d3+0x1a5a+0x77*-0x2)||(this['_scripts']['splice'](_0x2fd888,-0x27e+-0x1*0x1f57+0x21d6),_0x4d1487['update']&&this['_updateLis'+'t']['remove'](_0x4d1487),_0x4d1487['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x4d1487)),_0x2fd888;}['_resetExec'+'utionOrder'](_0x3816ba,_0x19764d){for(let _0x4bd93d=_0x3816ba;_0x4bd93d<_0x19764d;_0x4bd93d++)this['_scripts'][_0x4bd93d]['__executio'+'nOrder']=_0x4bd93d;}['_resolveEn'+'tityScript'+'Attribute'](_0x1a87d9,_0x282025,_0x93b467,_0x399fc2,_0x59842d,_0x549976){if(_0x1a87d9['array']){const _0x1cd782=_0x93b467['length'];if(!_0x1cd782)return;const _0x51f1c0=_0x93b467['slice']();for(let _0x55f010=-0x724+0x31*-0x59+0x182d;_0x55f010<_0x1cd782;_0x55f010++){const _0x685471=_0x51f1c0[_0x55f010]instanceof lt?_0x51f1c0[_0x55f010]['getGuid']():_0x51f1c0[_0x55f010];_0x549976[_0x685471]&&(_0x51f1c0[_0x55f010]=_0x399fc2?_0x549976[_0x685471]['getGuid']():_0x549976[_0x685471]);}_0x59842d[_0x282025]=_0x51f1c0;}else{if(_0x93b467 instanceof lt)_0x93b467=_0x93b467['getGuid']();else{if(typeof _0x93b467!='string')return;}_0x549976[_0x93b467]&&(_0x59842d[_0x282025]=_0x549976[_0x93b467]);}}['has'](_0x21f768){if(typeof _0x21f768=='string')return!!this['_scriptsIn'+'dex'][_0x21f768];if(!_0x21f768)return!(0x1617+0x397+-0x19ad);const _0x31d5ce=_0x21f768,_0x43f898=_0x31d5ce['__name'],_0x281a91=this['_scriptsIn'+'dex'][_0x43f898];return(_0x281a91&&_0x281a91['instance'])instanceof _0x31d5ce;}['get'](_0x572c27){if(typeof _0x572c27=='string'){const _0x48c20b=this['_scriptsIn'+'dex'][_0x572c27];return _0x48c20b?_0x48c20b['instance']:null;}if(!_0x572c27)return null;const _0x14af80=_0x572c27,_0x9d7147=_0x14af80['__name'],_0x46d87b=this['_scriptsIn'+'dex'][_0x9d7147],_0xe2587e=_0x46d87b&&_0x46d87b['instance'];return _0xe2587e instanceof _0x14af80?_0xe2587e:null;}['create'](_0x310bb4,_0x30b609={}){const _0x4b28d5=this;let _0x385cbe=_0x310bb4,_0x4e3e78=_0x310bb4;if(typeof _0x385cbe=='string')_0x385cbe=this['system']['app']['scripts']['get'](_0x385cbe);else{if(_0x385cbe){const _0x43f387=S0(_0x385cbe),_0xe6b932=DF(_0x43f387);!(_0x385cbe['prototype']instanceof Wo)&&!_0x385cbe['scriptName']&&w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x43f387+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x43f387+('.scriptNam'+'e\x20=\x20\x22')+_0xe6b932+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.')),_0x385cbe['__name']??(_0x385cbe['__name']=_0x385cbe['scriptName']??_0xe6b932),_0x4e3e78=_0x385cbe['__name'];}}if(_0x385cbe){if(!this['_scriptsIn'+'dex'][_0x4e3e78]||!this['_scriptsIn'+'dex'][_0x4e3e78]['instance']){const _0x53cf05=new _0x385cbe({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x30b609['hasOwnProp'+'erty']('enabled')?_0x30b609['enabled']:!(-0x252+-0x1847+0x1*0x1a99),'attributes':_0x30b609['attributes']||{}});_0x30b609['properties']&&typeof _0x30b609['properties']=='object'&&Object['assign'](_0x53cf05,_0x30b609['properties']),_0x53cf05 instanceof Wo||this['_attribute'+'DataMap']['set'](_0x4e3e78,_0x30b609['attributes']);const _0x4d6f06=this['_scripts']['length'];let _0xc726c6=-(-0x1d31+0x3e2+0x1950);return typeof _0x30b609['ind']=='number'&&_0x30b609['ind']!==-(0x985*-0x4+-0x1e73+0x4488)&&_0x4d6f06>_0x30b609['ind']&&(_0xc726c6=_0x30b609['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x53cf05,_0xc726c6,_0x4d6f06),this['_scriptsIn'+'dex'][_0x4e3e78]={'instance':_0x53cf05,'onSwap':function(){_0x4b28d5['swap'](_0x4e3e78);}},this[_0x4e3e78]=_0x53cf05,_0x30b609['preloading']||this['initialize'+'Attributes'](_0x53cf05),this['fire']('create',_0x4e3e78,_0x53cf05),this['fire']('create:'+_0x4e3e78,_0x53cf05),this['system']['app']['scripts']['on']('swap:'+_0x4e3e78,this['_scriptsIn'+'dex'][_0x4e3e78]['onSwap']),_0x30b609['preloading']||(_0x53cf05['enabled']&&!_0x53cf05['_initializ'+'ed']&&(_0x53cf05['_initializ'+'ed']=!(0x19d8+-0xe2d+-0xbab),_0x53cf05['initialize']&&this['_scriptMet'+'hod'](_0x53cf05,Bu)),_0x53cf05['enabled']&&!_0x53cf05['_postIniti'+'alized']&&(_0x53cf05['_postIniti'+'alized']=!(-0x139*-0x13+-0x15dd+-0x32*0x7),_0x53cf05['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x53cf05,zu))),_0x53cf05;}w['warn']('script\x20\x27'+_0x4e3e78+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x4e3e78]={'awaiting':!(-0xb*-0x329+0x1*0x7c5+-0x2a88),'ind':this['_scripts']['length']},w['warn']('script\x20\x27'+_0x4e3e78+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x5d1024){let _0x215778=_0x5d1024,_0x5a5ed7=_0x5d1024;typeof _0x5a5ed7=='string'?_0x5a5ed7=this['system']['app']['scripts']['get'](_0x5a5ed7):_0x5a5ed7&&(_0x215778=_0x5a5ed7['__name']);const _0xd3a570=this['_scriptsIn'+'dex'][_0x215778];if(delete this['_scriptsIn'+'dex'][_0x215778],!_0xd3a570)return!(-0x1*0x3c7+0x21c6+-0x16*0x15d);this['_attribute'+'DataMap']['delete'](_0x215778);const _0x3c50b9=_0xd3a570['instance'];if(_0x3c50b9&&!_0x3c50b9['_destroyed']){if(_0x3c50b9['enabled']=!(-0x148b+0x1a93*0x1+-0x607),_0x3c50b9['_destroyed']=!(0x98*0x6+0x3*-0xc30+0x2100),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x3c50b9);else{const _0x3db741=this['_removeScr'+'iptInstanc'+'e'](_0x3c50b9);_0x3db741>=0x1*0xb1+-0x41*0x8b+0x229a&&this['_resetExec'+'utionOrder'](_0x3db741,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x215778,_0xd3a570['onSwap']),delete this[_0x215778],this['fire']('destroy',_0x215778,_0x3c50b9||null),this['fire']('destroy:'+_0x215778,_0x3c50b9||null),_0x3c50b9&&_0x3c50b9['fire']('destroy'),!(-0x1*0x207a+0x2248+-0x1ce);}['swap'](_0x5c0962){let _0x5ba9e8=_0x5c0962,_0x24df7=_0x5c0962;typeof _0x24df7=='string'?_0x24df7=this['system']['app']['scripts']['get'](_0x24df7):_0x24df7&&(_0x5ba9e8=_0x24df7['__name']);const _0x514ba5=this['_scriptsIn'+'dex'][_0x5ba9e8];if(!_0x514ba5||!_0x514ba5['instance'])return!(0x1*-0x1c15+-0x869+0x247f);const _0x11820a=_0x514ba5['instance'],_0x49b795=this['_scripts']['indexOf'](_0x11820a),_0x59dfa1=new _0x24df7({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x11820a['enabled'],'attributes':_0x11820a['__attribut'+'es']});return _0x59dfa1['swap']?(this['initialize'+'Attributes'](_0x59dfa1),this['_scripts'][_0x49b795]=_0x59dfa1,this['_scriptsIn'+'dex'][_0x5ba9e8]['instance']=_0x59dfa1,this[_0x5ba9e8]=_0x59dfa1,_0x59dfa1['__executio'+'nOrder']=_0x49b795,_0x11820a['update']&&this['_updateLis'+'t']['remove'](_0x11820a),_0x11820a['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x11820a),_0x59dfa1['update']&&this['_updateLis'+'t']['insert'](_0x59dfa1),_0x59dfa1['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x59dfa1),this['_scriptMet'+'hod'](_0x59dfa1,PF,_0x11820a),this['fire']('swap',_0x5ba9e8,_0x59dfa1),this['fire']('swap:'+_0x5ba9e8,_0x59dfa1),!(0x254+0x241b+-0x266f)):!(0x2*-0xa39+0x1*-0x23bf+0x3832);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x20b43c,_0x34e930){var _0x5c00fe,_0x384526,_0x36dbaa;const _0x185bf6=this['entity']['script'];for(const _0x19d98f in _0x20b43c['_scriptsIn'+'dex']){const _0x1fad9b=this['system']['app']['scripts']['get'](_0x19d98f);if(!_0x1fad9b)continue;const _0xb323f4=_0x20b43c['_scriptsIn'+'dex'][_0x19d98f];if(!_0xb323f4||!_0xb323f4['instance'])continue;const _0x4ecf15=_0x185bf6[_0x19d98f]['__attribut'+'esRaw']??_0x185bf6['_attribute'+'DataMap']['get'](_0x19d98f),_0x578c39=_0x185bf6[_0x19d98f]['__attribut'+'es'];if(!_0x4ecf15&&!_0x578c39)continue;const _0x4ebf1f=!!_0x4ecf15,_0x54ccdc=_0xb323f4['instance']['__attribut'+'es']??_0x185bf6['_attribute'+'DataMap']['get'](_0x19d98f);for(const _0x2c6b45 in _0x54ccdc){if(!_0x54ccdc[_0x2c6b45])continue;const _0x12db95=((_0x5c00fe=_0x1fad9b['attributes'])==null?void(-0x1387+-0x5d*-0x3+0x1270):_0x5c00fe['get'](_0x2c6b45))??((_0x36dbaa=(_0x384526=this['system']['app']['scripts']['getSchema'](_0x19d98f))==null?void(-0x1fb3+0x14e6+0x5*0x229):_0x384526['attributes'])==null?void(-0x761*0x5+-0x4*-0x419+-0x1d*-0xb5):_0x36dbaa[_0x2c6b45]);if(_0x12db95){if(_0x12db95['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x12db95,_0x2c6b45,_0x54ccdc[_0x2c6b45],_0x4ebf1f,_0x4ecf15||_0x578c39,_0x34e930);else{if(_0x12db95['type']==='json'&&Array['isArray'](_0x12db95['schema'])){const _0x18fbca=_0x54ccdc[_0x2c6b45],_0x13f82d=_0x4ecf15?_0x4ecf15[_0x2c6b45]:_0x578c39[_0x2c6b45];for(let _0x12b584=-0xb9c+0x2bd*-0x1+-0x1*-0xe59;_0x12b584<_0x12db95['schema']['length'];_0x12b584++){const _0x31bbe2=_0x12db95['schema'][_0x12b584];if(_0x31bbe2['type']==='entity'){if(_0x12db95['array']){for(let _0x388372=-0x253c+-0x312*0x4+-0x1*-0x3184;_0x388372<_0x18fbca['length'];_0x388372++)this['_resolveEn'+'tityScript'+'Attribute'](_0x31bbe2,_0x31bbe2['name'],_0x18fbca[_0x388372][_0x31bbe2['name']],_0x4ebf1f,_0x13f82d[_0x388372],_0x34e930);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x31bbe2,_0x31bbe2['name'],_0x18fbca[_0x31bbe2['name']],_0x4ebf1f,_0x13f82d,_0x34e930);}}}}}}}}['move'](_0xaf77f5,_0x14f501){const _0x1719e8=this['_scripts']['length'];if(_0x14f501>=_0x1719e8||_0x14f501<0x15*0x101+0x45b*-0x7+-0xe*-0xac)return!(-0x20f5+-0x1fe4+0x40da);let _0x337f52=_0xaf77f5,_0x391d2b=_0xaf77f5;typeof _0x391d2b!='string'?_0x391d2b=_0xaf77f5['__name']:_0x337f52=null;const _0x2c261c=this['_scriptsIn'+'dex'][_0x391d2b];if(!_0x2c261c||!_0x2c261c['instance'])return!(-0x65*-0x55+-0x8e4+-0x18a4);const _0x540c81=_0x2c261c['instance'];if(_0x337f52&&!(_0x540c81 instanceof _0x337f52))return!(-0xa*0x33b+0x2398+-0x1*0x349);const _0x46ee8f=this['_scripts']['indexOf'](_0x540c81);return _0x46ee8f===-(-0x1*-0x187c+0x800+-0x5*0x67f)||_0x46ee8f===_0x14f501?!(0x44d*-0x3+0x2*0x65f+0x2a):(this['_scripts']['splice'](_0x14f501,0x6e8*0x4+0x1bb*-0x12+0xb*0x52,this['_scripts']['splice'](_0x46ee8f,-0x6f1*-0x3+-0x28e*0x4+0x17*-0x76)[0x79*0x1b+-0x133d+0x33d*0x2]),this['_resetExec'+'utionOrder'](-0x147*-0x11+-0x7*-0x567+0x6*-0x9ec,_0x1719e8),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x391d2b,_0x540c81,_0x14f501,_0x46ee8f),this['fire']('move:'+_0x391d2b,_0x540c81,_0x14f501,_0x46ee8f),!(0x914+0x1*-0x1021+0x13*0x5f));}}h(Ii,'EVENT_CREA'+'TE','create'),h(Ii,'EVENT_DEST'+'ROY','destroy'),h(Ii,'EVENT_ENAB'+'LE','enable'),h(Ii,'EVENT_DISA'+'BLE','disable'),h(Ii,'EVENT_REMO'+'VE','remove'),h(Ii,'EVENT_STAT'+'E','state'),h(Ii,'EVENT_MOVE','move'),h(Ii,'EVENT_ERRO'+'R','error');class IF{constructor(){this['enabled']=!(-0xc02+-0x8cf+0x14d1);}}const LF='_onInitial'+'izeAttribu'+'tes',RF='_onInitial'+'ize',OF='_onPostIni'+'tialize',FF='_onUpdate',NF='_onPostUpd'+'ate';let Mc=-0x3*-0x54+-0x674*-0x6+-0x27b4;class kF extends ct{constructor(_0x33a3f6){super(_0x33a3f6),this['id']='script',this['ComponentT'+'ype']=Ii,this['DataType']=IF,this['_component'+'s']=new oh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new oh({'sortBy':'_execution'+'Order'}),this['preloading']=!(0x11e1+-0x2396+0x3*0x5e7),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x5ce068,_0x36c261){if(_0x5ce068['_execution'+'Order']=Mc++,this['_component'+'s']['append'](_0x5ce068),Mc>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x5ce068['enabled']=_0x36c261['hasOwnProp'+'erty']('enabled')?!!_0x36c261['enabled']:!(-0x2*0xc13+-0x574*0x1+0x9*0x34a),_0x5ce068['enabled']&&_0x5ce068['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x5ce068),_0x36c261['hasOwnProp'+'erty']('order')&&_0x36c261['hasOwnProp'+'erty']('scripts')){_0x5ce068['_scriptsDa'+'ta']=_0x36c261['scripts'];for(let _0x1a3878=0x1*-0x1a77+0xac5+0x29*0x62;_0x1a3878<_0x36c261['order']['length'];_0x1a3878++)_0x5ce068['create'](_0x36c261['order'][_0x1a3878],{'enabled':_0x36c261['scripts'][_0x36c261['order'][_0x1a3878]]['enabled'],'attributes':_0x36c261['scripts'][_0x36c261['order'][_0x1a3878]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x382677,_0x38e580){var _0x4834af;const _0x42dbf6=[],_0x55bf89={};for(let _0x3bfc86=-0x1422+0x1700+-0x2de;_0x3bfc86<_0x382677['script']['_scripts']['length'];_0x3bfc86++){const _0x2e4d22=_0x382677['script']['_scripts'][_0x3bfc86],_0x1809db=_0x2e4d22['__scriptTy'+'pe']['__name'];_0x42dbf6['push'](_0x1809db);const _0x51d8ba=((_0x4834af=_0x382677['script']['_attribute'+'DataMap'])==null?void(-0x22e0+-0x20c7+0x43a7):_0x4834af['get'](_0x1809db))||{};for(const _0x2a6ded in _0x2e4d22['__attribut'+'es'])_0x51d8ba[_0x2a6ded]=_0x2e4d22['__attribut'+'es'][_0x2a6ded];_0x55bf89[_0x1809db]={'enabled':_0x2e4d22['_enabled'],'attributes':_0x51d8ba};}for(const _0x53a5ee in _0x382677['script']['_scriptsIn'+'dex'])_0x53a5ee['awaiting']&&_0x42dbf6['splice'](_0x53a5ee['ind'],-0x16*0x32+0x2523+-0x1*0x20d7,_0x53a5ee);const _0x35be1d={'enabled':_0x382677['script']['enabled'],'order':_0x42dbf6,'scripts':_0x55bf89};return this['addCompone'+'nt'](_0x38e580,_0x35be1d);}['_resetExec'+'utionOrder'](){Mc=0x26b9+0xd*-0x29d+0x8*-0x98;for(let _0x126047=-0xc07*-0x1+-0x1*0x13d8+0x57*0x17,_0x29ed35=this['_component'+'s']['length'];_0x126047<_0x29ed35;_0x126047++)this['_component'+'s']['items'][_0x126047]['_execution'+'Order']=Mc++;}['_callCompo'+'nentMethod'](_0x54f456,_0x50f889,_0x151523){for(_0x54f456['loopIndex']=0x81a+0x319+-0x1*0xb33;_0x54f456['loopIndex']<_0x54f456['length'];_0x54f456['loopIndex']++)_0x54f456['items'][_0x54f456['loopIndex']][_0x50f889](_0x151523);}['_onInitial'+'ize'](){this['preloading']=!(-0x223*0x12+0xeff+0x1778),this['_callCompo'+'nentMethod'](this['_component'+'s'],LF),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],RF);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],OF);}['_onUpdate'](_0x4d9656){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],FF,_0x4d9656);}['_onPostUpd'+'ate'](_0x36a269){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],NF,_0x36a269);}['_addCompon'+'entToEnabl'+'ed'](_0x7120d1){this['_enabledCo'+'mponents']['insert'](_0x7120d1);}['_removeCom'+'ponentFrom'+'Enabled'](_0x525917){this['_enabledCo'+'mponents']['remove'](_0x525917);}['_onBeforeR'+'emove'](_0x34a8bf,_0x16ae5c){this['_component'+'s']['items']['indexOf'](_0x16ae5c)>=-0xb6b+0x233+0x8*0x127&&_0x16ae5c['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x16ae5c),this['_component'+'s']['remove'](_0x16ae5c);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class y0 extends we{constructor(_0x3946a0,_0x5ca880){super(_0x3946a0,_0x5ca880),h(this,'_layers',[er]),h(this,'_instance',null),h(this,'_materialT'+'mp',null),h(this,'_highQuali'+'tySH',!(0x5*0x44f+0x51*-0x5c+0x1*0x791)),h(this,'_customAab'+'b',null),h(this,'_assetRefe'+'rence'),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_castShado'+'ws',!(-0x1201+0x3*-0x89d+-0x1*-0x2bd9)),(this['_assetRefe'+'rence']=new gl('asset',this,_0x3946a0['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x5ca880['on']('remove',this['onRemoveCh'+'ild'],this),_0x5ca880['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x5ca880['on']('insert',this['onInsertCh'+'ild'],this),_0x5ca880['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x343173){var _0x570f71,_0x10aa18;this['_customAab'+'b']=_0x343173,(_0x10aa18=(_0x570f71=this['_instance'])==null?void(0x1*0x1cc3+-0x149+-0xdbd*0x2):_0x570f71['meshInstan'+'ce'])==null||_0x10aa18['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x4c7513){if(this['destroyIns'+'tance'](),this['_instance']=_0x4c7513,this['_instance']){const _0x3b8eef=this['_instance']['meshInstan'+'ce'];_0x3b8eef['node']||(_0x3b8eef['node']=this['entity']),_0x3b8eef['castShadow']=this['_castShado'+'ws'],_0x3b8eef['setCustomA'+'abb'](this['_customAab'+'b']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['material'](_0x2be4d2){this['_instance']?this['_instance']['material']=_0x2be4d2:this['_materialT'+'mp']=_0x2be4d2;}get['material'](){var _0x14aa53;return((_0x14aa53=this['_instance'])==null?void(-0x11b6*-0x1+0x18f*-0x1+-0x1027):_0x14aa53['material'])??this['_materialT'+'mp']??null;}set['highQualit'+'ySH'](_0x5768e9){_0x5768e9!==this['_highQuali'+'tySH']&&(this['_highQuali'+'tySH']=_0x5768e9,this['_instance']&&this['_instance']['setHighQua'+'litySH'](_0x5768e9));}get['highQualit'+'ySH'](){return this['_highQuali'+'tySH'];}set['castShadow'+'s'](_0x1a6948){var _0x5d28dd;if(this['_castShado'+'ws']!==_0x1a6948){const _0x4599ed=(_0x5d28dd=this['instance'])==null?void(0x8f4+0xbc2+-0x1e2*0xb):_0x5d28dd['meshInstan'+'ce'];if(_0x4599ed){const _0x5162cb=this['layers'],_0x37617e=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x1a6948)for(let _0x2b4c62=0xe19+0xbbc+-0x19d5;_0x2b4c62<_0x5162cb['length'];_0x2b4c62++){const _0x2f388b=_0x37617e['layers']['getLayerBy'+'Id'](this['layers'][_0x2b4c62]);_0x2f388b&&_0x2f388b['removeShad'+'owCasters']([_0x4599ed]);}if(_0x4599ed['castShadow']=_0x1a6948,!this['_castShado'+'ws']&&_0x1a6948)for(let _0x3985a4=-0x18cf+-0x5*-0x48d+0x107*0x2;_0x3985a4<_0x5162cb['length'];_0x3985a4++){const _0xddf159=_0x37617e['layers']['getLayerBy'+'Id'](_0x5162cb[_0x3985a4]);_0xddf159&&_0xddf159['addShadowC'+'asters']([_0x4599ed]);}}this['_castShado'+'ws']=_0x1a6948;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['layers'](_0x5d3667){this['removeFrom'+'Layers'](),this['_layers']['length']=0x1735*0x1+-0x67a*0x4+-0x2b3*-0x1;for(let _0x2adc3d=-0x68e+-0x1*-0x3+-0x14f*-0x5;_0x2adc3d<_0x5d3667['length'];_0x2adc3d++)this['_layers'][_0x2adc3d]=_0x5d3667[_0x2adc3d];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x50187a){const _0x1628d0=_0x50187a instanceof pe?_0x50187a['id']:_0x50187a;this['_assetRefe'+'rence']['id']!==_0x1628d0&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x1628d0,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['destroyIns'+'tance'](){var _0x12a79d;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x12a79d=this['_instance'])==null||_0x12a79d['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x560c7a,_0x577343;const _0x1ebf3f=(_0x560c7a=this['instance'])==null?void(0x1f41+-0xca*-0x4+-0x1*0x2269):_0x560c7a['meshInstan'+'ce'];if(_0x1ebf3f){const _0x341cdc=this['system']['app']['scene']['layers'];for(let _0x5a6175=0x1*-0x9df+0x4*0x841+-0x1725;_0x5a6175<this['_layers']['length'];_0x5a6175++)(_0x577343=_0x341cdc['getLayerBy'+'Id'](this['_layers'][_0x5a6175]))==null||_0x577343['addMeshIns'+'tances']([_0x1ebf3f]);}}['removeFrom'+'Layers'](){var _0x435f83,_0x32faca;const _0x897bb0=(_0x435f83=this['instance'])==null?void(0xdbe*0x1+0x473+-0x1231):_0x435f83['meshInstan'+'ce'];if(_0x897bb0){const _0x3b12f7=this['system']['app']['scene']['layers'];for(let _0x1e3589=0x195d+0x1710+-0x306d;_0x1e3589<this['_layers']['length'];_0x1e3589++)(_0x32faca=_0x3b12f7['getLayerBy'+'Id'](this['_layers'][_0x1e3589]))==null||_0x32faca['removeMesh'+'Instances']([_0x897bb0]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x19d03b,_0x2ddc82){this['addToLayer'+'s'](),_0x19d03b['off']('add',this['onLayerAdd'+'ed'],this),_0x19d03b['off']('remove',this['onLayerRem'+'oved'],this),_0x2ddc82['on']('add',this['onLayerAdd'+'ed'],this),_0x2ddc82['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x4cb79b){this['layers']['indexOf'](_0x4cb79b['id'])<0x17*-0x11+0xdc5+0x61f*-0x2||this['_instance']&&_0x4cb79b['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x29fb0b){this['layers']['indexOf'](_0x29fb0b['id'])<-0xadc+0x5d*0xc+-0x2*-0x340||this['_instance']&&_0x29fb0b['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x23168d=this['system']['app']['scene'],_0x2b58ad=_0x23168d['layers'];this['_evtLayers'+'Changed']=_0x23168d['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2b58ad&&(this['_evtLayerA'+'dded']=_0x2b58ad['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x2b58ad['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x328ff6,_0x54be09,_0x47e940;const _0x420370=this['system']['app']['scene']['layers'];(_0x328ff6=this['_evtLayers'+'Changed'])==null||_0x328ff6['off'](),this['_evtLayers'+'Changed']=null,_0x420370&&((_0x54be09=this['_evtLayerA'+'dded'])==null||_0x54be09['off'](),this['_evtLayerA'+'dded']=null,(_0x47e940=this['_evtLayerR'+'emoved'])==null||_0x47e940['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x2*0xdb2+0x8*0x2e6+-0x3293));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x1252+0xf09+-0x215b));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x4b2814=this['_assetRefe'+'rence']['asset'];_0x4b2814&&(this['instance']=_0x4b2814['resource']['createInst'+'ance'](_0x4b2814['resource'],{'material':this['_materialT'+'mp'],'highQualitySH':this['_highQuali'+'tySH']}),this['_materialT'+'mp']=null,this['customAabb']=this['instance']['resource']['aabb']['clone']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class UF{constructor(){this['enabled']=!(-0x211b+-0x7a*0x5+-0x18b*-0x17);}}const Vu=['enabled'],To=['castShadow'+'s','material','highQualit'+'ySH','asset','layers'];class BF extends ct{constructor(_0x2e5355){super(_0x2e5355),this['id']='gsplat',this['ComponentT'+'ype']=y0,this['DataType']=UF,this['schema']=Vu,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x20e7f0,_0x339227,_0x3ae6b6){_0x339227['layers']&&_0x339227['layers']['length']&&(_0x339227['layers']=_0x339227['layers']['slice'](-0x413*-0x7+0x2f*0xaf+-0x3ca6));for(let _0x3a731e=0x214a+0x77*0x35+-0x39ed;_0x3a731e<To['length'];_0x3a731e++)_0x339227['hasOwnProp'+'erty'](To[_0x3a731e])&&(_0x20e7f0[To[_0x3a731e]]=_0x339227[To[_0x3a731e]]);_0x339227['aabbCenter']&&_0x339227['aabbHalfEx'+'tents']&&(_0x20e7f0['customAabb']=new De(new D(_0x339227['aabbCenter']),new D(_0x339227['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x20e7f0,_0x339227,Vu);}['cloneCompo'+'nent'](_0x569a6a,_0x147ec6){const _0x26491e=_0x569a6a['gsplat'],_0x4c388e={};To['forEach'](_0x229ebe=>{_0x229ebe==='material'?_0x4c388e[_0x229ebe]=_0x26491e[_0x229ebe]['clone']():_0x4c388e[_0x229ebe]=_0x26491e[_0x229ebe];}),_0x4c388e['enabled']=_0x26491e['enabled'];const _0x526f69=this['addCompone'+'nt'](_0x147ec6,_0x4c388e);return _0x26491e['customAabb']&&(_0x526f69['customAabb']=_0x26491e['customAabb']['clone']()),_0x526f69;}['onRemove'](_0x21dc12,_0x26852f){_0x26852f['onRemove']();}}we['_buildAcce'+'ssors'](y0['prototype'],Vu);class Em extends me{constructor(){super(...arguments),h(this,'_meshes',null);}set['meshes'](_0x4dd031){this['decRefMesh'+'es'](),this['_meshes']=_0x4dd031,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x4dd031);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x41ac8f;(_0x41ac8f=this['_meshes'])==null||_0x41ac8f['forEach']((_0x2cacbe,_0x164982)=>{_0x2cacbe&&(_0x2cacbe['decRefCoun'+'t'](),_0x2cacbe['refCount']<0x2b7*-0x1+0x53*0x1e+0x2*-0x381&&(_0x2cacbe['destroy'](),this['_meshes'][_0x164982]=null));});}['incRefMesh'+'es'](){var _0x31baa9;(_0x31baa9=this['_meshes'])==null||_0x31baa9['forEach'](_0xd9d798=>{_0xd9d798==null||_0xd9d798['incRefCoun'+'t']();});}}h(Em,'EVENT_SETM'+'ESHES','set:meshes');function sh(_0x2d5eb7){const _0x1a794a=this;if(!_0x1a794a['resource'])return;const _0x46a4aa=_0x2d5eb7['resource'],_0x5bfc1f=_0x46a4aa['renders']&&_0x46a4aa['renders'][_0x1a794a['data']['renderInde'+'x']];_0x5bfc1f&&(_0x1a794a['resource']['meshes']=_0x5bfc1f['resource']['meshes']);}function pS(_0x4173e8){const _0x444611=this;_0x444611['registry']['off']('load:'+_0x4173e8['id'],sh,_0x444611),_0x444611['registry']['on']('load:'+_0x4173e8['id'],sh,_0x444611),_0x444611['registry']['off']('remove:'+_0x4173e8['id'],mS,_0x444611),_0x444611['registry']['once']('remove:'+_0x4173e8['id'],mS,_0x444611),_0x4173e8['resource']?sh['call'](_0x444611,_0x4173e8):_0x444611['registry']['load'](_0x4173e8);}function mS(_0x4c1b35){const _0x8bb740=this;_0x8bb740['registry']['off']('load:'+_0x4c1b35['id'],sh,_0x8bb740),_0x8bb740['resource']&&_0x8bb740['resource']['destroy']();}class zF extends Qe{constructor(_0xc709cb){super(_0xc709cb,'render'),this['_registry']=_0xc709cb['assets'];}['open'](_0x38a1a0,_0x35f2b2){return new Em();}['patch'](_0x4c8f23,_0x29d0f5){if(!_0x4c8f23['data']['containerA'+'sset'])return;const _0x269fc7=_0x29d0f5['get'](_0x4c8f23['data']['containerA'+'sset']);if(!_0x269fc7){_0x29d0f5['once']('add:'+_0x4c8f23['data']['containerA'+'sset'],pS,_0x4c8f23);return;}pS['call'](_0x4c8f23,_0x269fc7);}}class v0{constructor(_0x3171db,_0xdd850a,_0x2d5448,_0x553943){this['_paths']=_0x3171db,this['_input']=_0xdd850a,this['_output']=_0x2d5448,this['_interpola'+'tion']=_0x553943;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Fh{constructor(_0x3ae3e9,_0xc8184d){this['_component'+'s']=_0x3ae3e9,this['_data']=_0xc8184d;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function VF(_0xc5549a,_0x192633){let _0x4dd196;const _0x1500dd=(_0x1d706d,_0x330e2f)=>{switch(_0x330e2f){case _0x4dd196['DT_INT8']:return new Int8Array(_0x1d706d['buffer'],_0x1d706d['byteOffset'],_0x1d706d['byteLength']);case _0x4dd196['DT_INT16']:return new Int16Array(_0x1d706d['buffer'],_0x1d706d['byteOffset'],_0x1d706d['byteLength']/(0x7a+-0x1b3*-0xb+-0x1*0x1329));case _0x4dd196['DT_INT32']:return new Int32Array(_0x1d706d['buffer'],_0x1d706d['byteOffset'],_0x1d706d['byteLength']/(0x1756+0x1b*0x3b+0x1d8b*-0x1));case _0x4dd196['DT_UINT8']:return new Uint8Array(_0x1d706d['buffer'],_0x1d706d['byteOffset'],_0x1d706d['byteLength']);case _0x4dd196['DT_UINT16']:return new Uint16Array(_0x1d706d['buffer'],_0x1d706d['byteOffset'],_0x1d706d['byteLength']/(0x978+0x416+0x44*-0x33));case _0x4dd196['DT_UINT32']:return new Uint32Array(_0x1d706d['buffer'],_0x1d706d['byteOffset'],_0x1d706d['byteLength']/(0x1473+0x1e4a+0x73f*-0x7));case _0x4dd196['DT_FLOAT32']:return new Float32Array(_0x1d706d['buffer'],_0x1d706d['byteOffset'],_0x1d706d['byteLength']/(0x7d*-0x1f+-0x1183+0x20aa));}return null;},_0xc3ac2f=_0x5b0695=>{switch(_0x5b0695){case _0x4dd196['DT_INT8']:return-0x289*-0xb+0x3*-0xbcd+0x785;case _0x4dd196['DT_INT16']:return-0xa9d+-0x27*-0x99+0x38*-0x3a;case _0x4dd196['DT_INT32']:return 0x11a4+0xadc+-0x1c7c;case _0x4dd196['DT_UINT8']:return-0x47a+-0xb*-0x225+-0x4c7*0x4;case _0x4dd196['DT_UINT16']:return-0x3e*0x9+0x13*0x1+0x21d;case _0x4dd196['DT_UINT32']:return 0x2039+0xe87+0x1*-0x2ebc;case _0x4dd196['DT_FLOAT32']:return 0x8f5+-0x6ac*-0x3+-0x1cf5;}return 0xa2a*0x2+-0x74f+-0x44*0x31;},_0x542e26=_0x4b66aa=>_0x4b66aa['num_compon'+'ents']()*_0xc3ac2f(_0x4b66aa['data_type']()),_0x561eda={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x3bc5b1=(_0x3533f5,_0x55af74)=>{const _0x2e1c01=(_0x4ca77e,_0x43efd6,_0x1fc9e9)=>{_0x4ca77e[-0x1ea5+-0x1703+0x35a8]=_0x43efd6[-0x1700+0x1*-0x5c+0x175c]-_0x1fc9e9[-0xd41*0x2+0xeac+0xbd6],_0x4ca77e[-0x162d*-0x1+0xf*0x44+-0x1a28]=_0x43efd6[0x35*0x6d+-0x2390+0xd00]-_0x1fc9e9[-0x5*0x42a+0xf2a*0x1+0x7*0xcf],_0x4ca77e[-0x1281+0xe3*0x17+-0x1e2]=_0x43efd6[-0xed*-0x29+-0x1ee4+-0x70f]-_0x1fc9e9[0x5*0x76f+0x2*0x7c7+-0x34b7];},_0x5ca75e=(_0x48dac0,_0x32bdf8,_0xad62fa)=>{_0x48dac0[0x2554+-0x1eb4+-0x6a0*0x1]=_0x32bdf8[0x16ea+-0x1*0x232d+-0x1*-0xc44]*_0xad62fa[-0xd7*-0x1d+0x478+-0x1cd1]-_0xad62fa[-0xb89*-0x1+-0x18ef+0xd67]*_0x32bdf8[-0x1cdc+0x72e+-0x4*-0x56c],_0x48dac0[0x11ec+-0x394+-0xe57]=_0x32bdf8[-0x2*0xf20+-0x33e+-0x2180*-0x1]*_0xad62fa[-0xb62+0x1356+-0x1*0x7f4]-_0xad62fa[0xb48+0x1*0xef3+-0x1a39]*_0x32bdf8[0x7*-0x352+0x87*0x8+0x1306],_0x48dac0[0xd8f+-0xab5*0x1+-0x2d8]=_0x32bdf8[-0x4*-0x44e+0x1*0xdd7+-0x1*0x1f0f]*_0xad62fa[0xa*0x31d+0xd*-0xd9+-0x141c]-_0xad62fa[0x19ad+0x46*0x7+-0x1*0x1b97]*_0x32bdf8[-0x29*-0x82+0x11bf+-0x2690];},_0x1096c0=(_0x576caf,_0x2a5870)=>{const _0x115e88=_0x576caf[_0x2a5870+(0x1*-0x4e7+-0x1147*-0x1+-0xc60)],_0x100d78=_0x576caf[_0x2a5870+(-0xa*0x3df+-0x1*-0x2151+0x2*0x2b3)],_0x5e14d0=_0x576caf[_0x2a5870+(0x1f76+0x39a+-0x230e)],_0x3184e5=(-0x439+-0x81*0x40+0x2*0x123d)/Math['sqrt'](_0x115e88*_0x115e88+_0x100d78*_0x100d78+_0x5e14d0*_0x5e14d0);_0x576caf[_0x2a5870+(0x7*-0x535+-0x2f3+0x6*0x691)]*=_0x3184e5,_0x576caf[_0x2a5870+(0x6d3*-0x1+0x685+0x4f*0x1)]*=_0x3184e5,_0x576caf[_0x2a5870+(-0xe*-0x26e+-0x54b*-0x5+-0x3c79)]*=_0x3184e5;},_0x52dde7=(_0x2893f6,_0x2d3197,_0x3bd449)=>{for(let _0x1afb2d=0x79e+-0x5*-0x37a+0x5*-0x500;_0x1afb2d<-0x206e+-0xa6c+0x2add*0x1;++_0x1afb2d)_0x2893f6[_0x1afb2d]=_0x2d3197[_0x3bd449+_0x1afb2d];},_0x4a398f=_0x55af74['length']/(-0x323*-0x2+-0x91f+-0x3*-0xf4),_0x19e2c4=_0x3533f5['length']/(-0x24d9*-0x1+0x11b0+0x7ca*-0x7),_0x3f5109=new Float32Array(_0x3533f5['length']),_0x5f40fd=[0x2*0x101c+-0x23c+-0x13*0x194,0x7*0x215+0x4aa+-0x133d,0x1460+0xcba+0x13*-0x1be],_0x56e07e=[-0x62b+-0x1fc5+-0x2*-0x12f8,-0xfa6*-0x2+0x549*-0x2+0x17b*-0xe,-0xa9*0x15+0xee*0x24+-0x689*0x3],_0x4858e7=[-0x227b+0x2*-0x10b1+0x43dd,0x1*0x8d7+0x9c7+-0x129e,0x25fd+0xc9*0x11+-0x19ab*0x2],_0x41d2e9=[-0x1*-0xd0d+-0x14d7+0x1*0x7ca,-0x238c+0x8f*-0x32+0x3f7a,-0x3e5*0x2+-0x16c1*-0x1+-0xef7],_0x274851=[-0x8*0x277+0x561*-0x3+0x23db,-0x1ce2+-0x3*-0x5e+0x1bc8,-0xc7*-0x20+-0x2334+0xa54*0x1],_0x3e9d15=[-0x1*0x1c25+0x17f1+0x434,0x4*0x9bb+0x1dfe+-0x44ea,-0x5*0x44b+0x296*0xe+0x31*-0x4d];for(let _0x1a823d=-0x22a1+0xdf*0x21+0x5e2;_0x1a823d<_0x4a398f;++_0x1a823d){const _0x54b8af=_0x55af74[_0x1a823d*(0x232*-0x1+-0x8*0x1f3+-0x11cd*-0x1)+(-0x21e*0x11+0x3*0x2ca+0x1ba0)]*(0x152*-0x12+-0x1*-0xbb9+-0xc0e*-0x1),_0x481492=_0x55af74[_0x1a823d*(0x24db+0x3*0x89+-0x1*0x2673)+(0x5de+-0xa9*0x6+0x1*-0x1e7)]*(-0xe8c+0x1c54+0xeb*-0xf),_0x113ebc=_0x55af74[_0x1a823d*(0xa66+-0x2*0x1f7+0x3*-0x227)+(0x192+0x23bc+-0x254c)]*(0x1500+-0x22d6*-0x1+-0x37d3);_0x52dde7(_0x5f40fd,_0x3533f5,_0x54b8af),_0x52dde7(_0x56e07e,_0x3533f5,_0x481492),_0x52dde7(_0x4858e7,_0x3533f5,_0x113ebc),_0x2e1c01(_0x41d2e9,_0x56e07e,_0x5f40fd),_0x2e1c01(_0x274851,_0x4858e7,_0x5f40fd),_0x5ca75e(_0x3e9d15,_0x41d2e9,_0x274851),_0x1096c0(_0x3e9d15,-0x6b2*-0x4+0xd*0x193+0x1*-0x2f3f);for(let _0x5ef83e=0x50b+-0x2*0x10fc+0x5c9*0x5;_0x5ef83e<-0x48d*-0x5+0x1f9d+-0x365b;++_0x5ef83e)_0x3f5109[_0x54b8af+_0x5ef83e]+=_0x3e9d15[_0x5ef83e],_0x3f5109[_0x481492+_0x5ef83e]+=_0x3e9d15[_0x5ef83e],_0x3f5109[_0x113ebc+_0x5ef83e]+=_0x3e9d15[_0x5ef83e];}for(let _0x438bfb=0x154d+0xa8*-0x1+-0x14a5;_0x438bfb<_0x19e2c4;++_0x438bfb)_0x1096c0(_0x3f5109,_0x438bfb*(-0xac*0x1d+0xb97+-0x1fa*-0x4));return new Uint8Array(_0x3f5109['buffer']);},_0x361abd=_0x3ef976=>{const _0x14b761={},_0x442514=new _0x4dd196['DecoderBuf'+'fer']();_0x442514['Init'](_0x3ef976,_0x3ef976['length']);const _0x249741=new _0x4dd196['Decoder']();if(_0x249741['GetEncoded'+'GeometryTy'+'pe'](_0x442514)!==_0x4dd196['TRIANGULAR'+'_MESH'])return _0x14b761['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x14b761;const _0x25220b=new _0x4dd196['Mesh'](),_0x1c35a5=_0x249741['DecodeBuff'+'erToMesh'](_0x442514,_0x25220b);if(!_0x1c35a5||!_0x1c35a5['ok']()||_0x4dd196['getPointer'](_0x25220b)===-0x9b1+0x45b*-0x2+0x1267)return _0x14b761['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x14b761;const _0x4c788a=_0x25220b['num_faces']()*(-0x1*-0xca1+-0x485+-0x2b3*0x3),_0xc13cb4=_0x25220b['num_points']()<=-0x2*-0xcf47+-0x1b9a2+-0x1*-0x11b13,_0xa41c59=_0x4c788a*(_0xc13cb4?-0x20ae*-0x1+0x1*0x1e31+0x7*-0x8fb:0xf*-0x65+0x1c90+-0x16a1*0x1),_0x6b974b=_0x4dd196['_malloc'](_0xa41c59);_0xc13cb4?(_0x249741['GetTriangl'+'esUInt16Ar'+'ray'](_0x25220b,_0xa41c59,_0x6b974b),_0x14b761['indices']=new Uint16Array(_0x4dd196['HEAPU16']['buffer'],_0x6b974b,_0x4c788a)['slice']()['buffer']):(_0x249741['GetTriangl'+'esUInt32Ar'+'ray'](_0x25220b,_0xa41c59,_0x6b974b),_0x14b761['indices']=new Uint32Array(_0x4dd196['HEAPU32']['buffer'],_0x6b974b,_0x4c788a)['slice']()['buffer']),_0x4dd196['_free'](_0x6b974b);const _0x33b8ab=[];for(let _0x373bf0=0x56+0x2b*0x40+0x21*-0x56;_0x373bf0<_0x25220b['num_attrib'+'utes']();++_0x373bf0)_0x33b8ab['push'](_0x249741['GetAttribu'+'te'](_0x25220b,_0x373bf0));_0x33b8ab['sort']((_0x364b41,_0x19235e)=>(_0x561eda[_0x364b41['attribute_'+'type']()]??_0x561eda['length'])-(_0x561eda[_0x19235e['attribute_'+'type']()]??_0x561eda['length'])),_0x14b761['attributes']=_0x33b8ab['map'](_0x548ca4=>_0x548ca4['unique_id']());let _0x2e7256=0xe2b+0x1*-0x17e5+0x1f2*0x5;const _0x256a65=_0x33b8ab['map'](_0x2e6b9c=>{const _0x35893c=_0x2e7256;return _0x2e7256+=Math['ceil'](_0x542e26(_0x2e6b9c)/(-0x12e*-0x4+0x2083*-0x1+0x1bcf))*(-0x61*-0x4+0x25d9+-0x2759),_0x35893c;}),_0x27cbe9=_0x33b8ab['some'](_0x1f1aa2=>_0x1f1aa2['attribute_'+'type']()===-0x2*-0x4de+0x14a0+0x13*-0x199),_0x2a50d3=_0x256a65[0x23db+-0xbff+-0xc5*0x1f];if(!_0x27cbe9){for(let _0x5b23f9=0x1b*0xad+-0x22*0x11a+0x1336;_0x5b23f9<_0x256a65['length'];++_0x5b23f9)_0x256a65[_0x5b23f9]+=-0x1198+0x1c68+-0xac4;_0x2e7256+=0x124d+-0x15fe+0x3bd;}_0x14b761['vertices']=new ArrayBuffer(_0x25220b['num_points']()*_0x2e7256);const _0x5cebbc=new Uint8Array(_0x14b761['vertices']);for(let _0x30f5fe=-0x1*-0x1173+-0x4f+-0x2*0x892;_0x30f5fe<_0x25220b['num_attrib'+'utes']();++_0x30f5fe){const _0x513efc=_0x33b8ab[_0x30f5fe],_0x52a0bf=_0x542e26(_0x513efc),_0x7522bc=_0x25220b['num_points']()*_0x52a0bf,_0x5b8716=_0x4dd196['_malloc'](_0x7522bc);_0x249741['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x25220b,_0x513efc,_0x513efc['data_type'](),_0x7522bc,_0x5b8716);const _0x319ded=new Uint8Array(_0x4dd196['HEAPU8']['buffer'],_0x5b8716,_0x7522bc);for(let _0x21d1bc=0x562+0x17ae+0x136*-0x18;_0x21d1bc<_0x25220b['num_points']();++_0x21d1bc)for(let _0x939fca=-0x160a+-0xf82+-0x4*-0x963;_0x939fca<_0x52a0bf;++_0x939fca)_0x5cebbc[_0x21d1bc*_0x2e7256+_0x256a65[_0x30f5fe]+_0x939fca]=_0x319ded[_0x21d1bc*_0x52a0bf+_0x939fca];if(!_0x27cbe9&&_0x513efc['attribute_'+'type']()===0xb9e+-0x65*-0x4d+0x33b*-0xd){const _0x4869e7=_0x3bc5b1(_0x1500dd(_0x319ded,_0x513efc['data_type']()),_0xc13cb4?new Uint16Array(_0x14b761['indices']):new Uint32Array(_0x14b761['indices']));for(let _0x49e76b=0x14d*0x2+0x722+-0x9bc;_0x49e76b<_0x25220b['num_points']();++_0x49e76b)for(let _0x58122f=0x67a+0x173d+0x1db7*-0x1;_0x58122f<-0x691*0x1+-0x4c6+0x247*0x5;++_0x58122f)_0x5cebbc[_0x49e76b*_0x2e7256+_0x2a50d3+_0x58122f]=_0x4869e7[_0x49e76b*(-0x25a5+-0x111b+0x2a*0x14e)+_0x58122f];}_0x4dd196['_free'](_0x5b8716);}return _0x4dd196['destroy'](_0x25220b),_0x4dd196['destroy'](_0x249741),_0x4dd196['destroy'](_0x442514),_0x14b761;},_0x52c63d=_0x1d317d=>{const _0x72f395=_0x361abd(new Uint8Array(_0x1d317d['buffer']));self['postMessag'+'e']({'jobId':_0x1d317d['jobId'],'error':_0x72f395['error'],'indices':_0x72f395['indices'],'vertices':_0x72f395['vertices'],'attributes':_0x72f395['attributes']},[_0x72f395['indices'],_0x72f395['vertices']]['filter'](_0x5dfdfa=>_0x5dfdfa!=null));},_0x2a9b43=[];self['onmessage']=_0x528478=>{const _0x6795c4=_0x528478['data'];switch(_0x6795c4['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x1daad7,_0x2d94d7)=>(WebAssembly['instantiat'+'e'](_0x6795c4['module'],_0x1daad7)['then'](_0x5f59ff=>_0x2d94d7(_0x5f59ff))['catch'](_0x52081e=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x52081e)),{})})['then'](_0x721597=>{_0x4dd196=_0x721597,_0x2a9b43['forEach'](_0x1d4161=>_0x52c63d(_0x1d4161));});break;case'decodeMesh':_0x4dd196?_0x52c63d(_0x6795c4):_0x2a9b43['push'](_0x6795c4);break;}};}const _S=0x76*0x53+-0x12*0x57+0x7*-0x497;class GF{constructor(){this['workers']=[[],[],[]],this['jobId']=0x2*0x779+-0x1bc7+0xcd5*0x1,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x4a11f4,_0x3ffbe4)=>{_0x4a11f4['postMessag'+'e']({'type':'decodeMesh','jobId':_0x3ffbe4['jobId'],'buffer':_0x3ffbe4['buffer']},[_0x3ffbe4['buffer']]);};}['init'](_0x5b3c05){for(_0x5b3c05['forEach'](_0x38f63e=>{_0x38f63e['addEventLi'+'stener']('message',_0xa6883a=>{const _0x150942=_0xa6883a['data'],_0x3969d8=this['jobCallbac'+'ks']['get'](_0x150942['jobId']);if(_0x3969d8&&_0x3969d8(_0x150942['error'],{'indices':_0x150942['indices'],'vertices':_0x150942['vertices'],'attributes':_0x150942['attributes']}),this['jobCallbac'+'ks']['delete'](_0x150942['jobId']),this['jobQueue']['length']>-0x3ad*0x6+-0x721+-0xf1*-0x1f){const _0x50ac6f=this['jobQueue']['shift']();this['run'](_0x38f63e,_0x50ac6f);}else{const _0x12e583=this['workers'][0x2f*-0x2f+-0x1*-0x1088+-0x7e5]['indexOf'](_0x38f63e);if(_0x12e583!==-(0x6b5+-0xb4d+0x499))this['workers'][0x14c*-0xd+-0x380+-0x365*-0x6]['splice'](_0x12e583,0x1f7*-0x1+0x1*0x2d7+0xdf*-0x1),this['workers'][-0x26c6+0x6*0x2df+-0x158d*-0x1]['push'](_0x38f63e);else{const _0x21f7a4=this['workers'][-0x1*0xa51+0x146e+0xa1c*-0x1]['indexOf'](_0x38f63e);_0x21f7a4!==-(0x421*0x9+-0x3b*0xa7+0x155)?(this['workers'][0x163d+0x117+-0x1753]['splice'](_0x21f7a4,-0x1*0x26f8+-0xef*0x13+-0x1c5b*-0x2),this['workers'][-0x2042+-0xbaf+0x2bf1]['push'](_0x38f63e)):w['error']('logical\x20er'+'ror');}}});}),this['workers'][0x32*0x16+-0x1600+0x11b4*0x1]=_0x5b3c05;this['jobQueue']['length']&&(this['workers'][0x6ed+0xe33+0xd0*-0x1a]['length']||this['workers'][-0x36b*-0x2+-0x2*-0x874+-0x17bd]['length']);){const _0x158692=this['jobQueue']['shift']();if(this['workers'][0xbc*0xe+-0x8*-0x17f+-0x2c8*0x8]['length']>-0x1e31+0x1160+-0x1*-0xcd1){const _0x1c0529=this['workers'][0x1a1*-0x3+0x28*-0x4f+0x113b*0x1]['shift']();this['workers'][-0x4d*-0x55+-0x1*0x136d+-0x623]['push'](_0x1c0529),this['run'](_0x1c0529,_0x158692);}else{const _0x50b24a=this['workers'][0x1*-0x727+0x64d*-0x5+0x1*0x26a9]['shift']();this['workers'][0x261a+-0x23bc+-0x25c]['push'](_0x50b24a),this['run'](_0x50b24a,_0x158692);}}}['enqueueJob'](_0x4861ac,_0xca5f1a){const _0x2ec6fc={'jobId':this['jobId']++,'buffer':_0x4861ac};if(this['jobCallbac'+'ks']['set'](_0x2ec6fc['jobId'],_0xca5f1a),this['workers'][0x1*0x240d+0xe0+-0x24ed]['length']>-0x4a*0x30+0xc87*0x1+-0x1*-0x159){const _0x21aeb5=this['workers'][-0x1*0x2b9+0x13ab+-0x10f2]['shift']();this['workers'][-0x142f+0x10ff+-0x2b*-0x13]['push'](_0x21aeb5),this['run'](_0x21aeb5,_0x2ec6fc);}else{if(this['workers'][0x1a70+0x2*0xdc7+0x35fd*-0x1]['length']>-0x20b6*0x1+0x11*0x3f+-0x1c87*-0x1){const _0x4290c9=this['workers'][0x1d06+0x24f3+-0x41f8]['shift']();this['workers'][-0x2e*0x1d+-0x6*-0x327+-0xdb2]['push'](_0x4290c9),this['run'](_0x4290c9,_0x2ec6fc);}else this['jobQueue']['push'](_0x2ec6fc);}}}const HF=_0x3bd181=>new Promise((_0x41f856,_0x58437c)=>{const _0xc8b86a={'cache':!(-0xb8d+-0x17f0+0x1*0x237d),'responseType':'text','retry':_S>0x63*0x55+-0x2460+0x381*0x1,'maxRetries':_S};ot['get'](_0x3bd181,_0xc8b86a,(_0x1d7179,_0x5a55bb)=>{_0x1d7179?_0x58437c(_0x1d7179):_0x41f856(_0x5a55bb);});}),WF=_0x6ea86d=>{const _0x4b572f=()=>fetch(_0x6ea86d)['then'](_0x303de5=>_0x303de5['arrayBuffe'+'r']())['then'](_0x19bfd9=>WebAssembly['compile'](_0x19bfd9)),_0x2b0724=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x6ea86d))['catch'](_0x343b59=>(w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x6ea86d+'\x20('+_0x343b59+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x4b572f()));return WebAssembly['compileStr'+'eaming']?_0x2b0724():_0x4b572f();},gS=-0x251d+-0x278+-0x12*-0x233;let ih;const $F=_0x579632=>{if(ih)return!(-0x7*-0x365+-0x1*-0x100+-0x18c3);if(!_0x579632){const _0x38ecac=YS['getConfig']('DracoDecod'+'erModule');_0x38ecac?_0x579632={'jsUrl':_0x38ecac['glueUrl'],'wasmUrl':_0x38ecac['wasmUrl'],'numWorkers':_0x38ecac['numWorkers']}:_0x579632={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':gS};}return!_0x579632['jsUrl']||!_0x579632['wasmUrl']?!(-0xc29+0x6*-0x475+-0x3e4*-0xa):(ih=new GF(),Promise['all']([HF(_0x579632['jsUrl']),WF(_0x579632['wasmUrl'])])['then'](([_0x2630a1,_0x39cd8c])=>{const _0x51c435=['/*\x20draco\x20*'+'/',_0x2630a1,'/*\x20worker\x20'+'*/','(\x0a'+VF['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x1356cd=new Blob([_0x51c435],{'type':'applicatio'+'n/javascri'+'pt'}),_0x286f13=URL['createObje'+'ctURL'](_0x1356cd),_0x27dc27=Math['max'](0x1b*-0x8+-0x164c+-0x1725*-0x1,Math['min'](-0x25b8+0x17e*0x12+-0xc*-0xe9,_0x579632['numWorkers']||gS)),_0x45826e=[];for(let _0x53e233=0x33+0xd03*-0x1+0xcd0;_0x53e233<_0x27dc27;++_0x53e233){const _0x512b13=new Worker(_0x286f13);_0x512b13['postMessag'+'e']({'type':'init','module':_0x39cd8c}),_0x45826e['push'](_0x512b13);}ih['init'](_0x45826e);}),!(-0x31*0x39+-0x156d+0x2056));},XF=(_0x53c3e0,_0x1084a3)=>$F()?(ih['enqueueJob'](_0x53c3e0,_0x1084a3),!(-0x1*0x48f+0x240+0x24f)):!(0x47*-0x35+0x1*-0x2123+0x2fd7);class qF{constructor(){h(this,'gltf'),h(this,'nodes'),h(this,'scenes'),h(this,'animations'),h(this,'textures'),h(this,'materials'),h(this,'variants'),h(this,'meshVarian'+'ts'),h(this,'meshDefaul'+'tMaterials'),h(this,'renders'),h(this,'skins'),h(this,'lights'),h(this,'cameras'),h(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x5fedd8=>{_0x5fedd8['meshes']=null;});}}const x0=_0x2072a6=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x2072a6),jF=_0xdcfaed=>_0xdcfaed['substring'](_0xdcfaed['indexOf'](':')+(0x15b8+-0x21aa+0xbf3),_0xdcfaed['indexOf'](';')),yl=_0x3fb109=>{switch(_0x3fb109){case'SCALAR':return-0x1*0x8aa+0x1*0x58b+0x320;case'VEC2':return-0x1693+0x93b+0xd5a;case'VEC3':return-0x1e*-0xb0+-0xee3*0x2+0x929;case'VEC4':return 0x244+0x1*0x2327+-0x1*0x2567;case'MAT2':return 0x99e+0x47c*-0x8+0x1a46;case'MAT3':return-0x1*-0x1f4d+-0x337+-0x1c0d;case'MAT4':return-0x1*0x15de+-0x1ffe+0x1dc*0x1d;default:return 0x20f9+0x22d6+-0x43cc;}},Dd=_0x51c135=>{switch(_0x51c135){case 0x207b+0x1324*0x2+-0x32c3:return dd;case-0x1340*-0x2+0x60f+-0x188e:return la;case 0x1b4b+0x219+-0x962:return fd;case 0x1*0x19f5+-0x1*0x37f+0xd1*-0x3:return Ml;case 0x24e1+-0x257d+-0x2c*-0x78:return Ty;case 0x132e+-0x1e9d+0x1f74:return el;case-0x1af*0xb+0x11f2+0x1499:return Ve;default:return-0xb68+0x3*0x34b+0x1*0x187;}},YF=_0x6889f3=>{switch(_0x6889f3){case-0x787*-0x1+-0x18bd+-0xb*-0x362:return 0x1c3b+0x1a67+-0x36a1;case 0x1ee0*0x1+-0xc77+0x198:return 0x2542+-0x22c8+0x3*-0xd3;case-0x19e0+0x181f+0x15c3:return-0x1473*0x1+0x4*0x14e+0x1*0xf3d;case-0x41c+-0xb*-0x10d+-0x86*-0x18:return-0x1*-0x2635+0x10*-0xa2+0x1c13*-0x1;case 0x101e+0xf89+-0xba3:return-0x641+0xa1*-0x1+0x6e6;case 0xf1*0x2+0x1c61*0x1+0x8a*-0x13:return 0x1*-0x335+-0x794+0x4f*0x23;case 0x5*-0x277+0x126a+0x29*0x57:return 0x1*-0x6a1+0x1a77+0x2b*-0x76;default:return-0xa36*0x3+0x361*-0xa+0xd9*0x4c;}},KF=_0x143456=>{switch(_0x143456){case 0x4e*-0x79+-0x87a+-0x8*-0x82b:return Int8Array;case 0x878+-0x960+0x1*0x14e9:return Uint8Array;case 0x1*0x2152+0x1*0x1515+-0xb77*0x3:return Int16Array;case 0x26a9+0x1115+-0x23bb:return Uint16Array;case 0x22e7+0x967+-0x184a:return Int32Array;case-0x1*-0x146c+-0x1121*0x2+0x3*0xb49:return Uint32Array;case 0x2*-0x74+-0xcae+-0xc*-0x2cd:return Float32Array;default:return null;}},Nh={'POSITION':Me,'NORMAL':gs,'TANGENT':yi,'COLOR_0':Wt,'JOINTS_0':us,'WEIGHTS_0':gi,'TEXCOORD_0':is,'TEXCOORD_1':ba,'TEXCOORD_2':wl,'TEXCOORD_3':El,'TEXCOORD_4':bl,'TEXCOORD_5':Al,'TEXCOORD_6':Cl,'TEXCOORD_7':Pl},SS={[Me]:-0x21d7+-0x387+0x255e,[gs]:-0x6ad*-0x2+0xcca*0x1+0x1a23*-0x1,[yi]:0x1eed+0x1*0x1139+-0x3024,[Wt]:0x1*0xfd1+0xc3*-0x1+-0x1*0xf0b,[us]:-0x1796+0x9*-0x17d+0x7*0x549,[gi]:0x167*0x6+-0x1*0xbcf+-0x2e*-0x13,[is]:-0x14*0xf4+0xa9*0x15+0x1*0x539,[ba]:-0x1*-0x25ab+0x1b82+-0x4126,[wl]:0x15*-0x1d2+0x263+0xbf5*0x3,[El]:0xd75+-0x380+0x4f6*-0x2,[bl]:-0x17d*-0x19+0x3*0x9c7+-0x4280,[Al]:-0x59*-0x2f+0x1*0x1be6+0x1*-0x2c32,[Cl]:0x1094+0x1009*-0x1+-0x7f*0x1,[Pl]:0xb*-0x25c+-0x1*-0xc9f+0x23b*0x6},ZF=_0x4cf78e=>{switch(_0x4cf78e){case dd:return _0x213b2a=>Math['max'](_0x213b2a/(-0xa08+-0xd1*-0x1c+-0xc55),-(-0x106*-0xf+0x192e*-0x1+0x9d5));case la:return _0x490971=>_0x490971/(0x1*-0x1a99+-0x15b5+0x106f*0x3);case fd:return _0x1415bc=>Math['max'](_0x1415bc/(0x2*0x1d58+0xb6*0x103+0x1*-0x72d3),-(-0x2*0x99d+-0x18f6+0x2c31));case Ml:return _0x295232=>_0x295232/(0x19dfd+0x1bb0f+0x97*-0x3fb);default:return _0x4de326=>_0x4de326;}},Gu=(_0x39b168,_0x33f753,_0x496993)=>{const _0x524442=ZF(_0x496993),_0xeb4938=_0x33f753['length'];for(let _0x6551c1=0x31*-0x2c+-0x2*0x1f7+0xc5a;_0x6551c1<_0xeb4938;++_0x6551c1)_0x39b168[_0x6551c1]=_0x524442(_0x33f753[_0x6551c1]);return _0x39b168;},ua=(_0x34bb65,_0x389d7d,_0x5f0c40=!(0xe11+0xdf*-0x9+-0x639))=>{const _0x296d2b=yl(_0x34bb65['type']),_0x2f3be9=KF(_0x34bb65['componentT'+'ype']);if(!_0x2f3be9)return null;let _0x12c6cd;if(_0x34bb65['sparse']){const _0x24c755=_0x34bb65['sparse'],_0x4dd300={'count':_0x24c755['count'],'type':'SCALAR'},_0x4307d6=ua(Object['assign'](_0x4dd300,_0x24c755['indices']),_0x389d7d,!(0x2238+0xce8+-0x1a*0x1d0)),_0x1922a5={'count':_0x24c755['count'],'type':_0x34bb65['type'],'componentType':_0x34bb65['componentT'+'ype']},_0x5d6368=ua(Object['assign'](_0x1922a5,_0x24c755['values']),_0x389d7d,!(-0xd7a+-0x41*0x49+-0x95*-0x37));if(_0x34bb65['hasOwnProp'+'erty']('bufferView')){const _0x2ed2f3={'bufferView':_0x34bb65['bufferView'],'byteOffset':_0x34bb65['byteOffset'],'componentType':_0x34bb65['componentT'+'ype'],'count':_0x34bb65['count'],'type':_0x34bb65['type']};_0x12c6cd=ua(_0x2ed2f3,_0x389d7d,!(-0x1767*-0x1+-0x2693+-0xf2c*-0x1))['slice']();}else _0x12c6cd=new _0x2f3be9(_0x34bb65['count']*_0x296d2b);for(let _0x25c7a7=-0x8a2*-0x3+0x20a5+-0x7*0x85d;_0x25c7a7<_0x24c755['count'];++_0x25c7a7){const _0x1b1353=_0x4307d6[_0x25c7a7];for(let _0x127383=-0x34*-0x4f+-0x1f2e+0xf22;_0x127383<_0x296d2b;++_0x127383)_0x12c6cd[_0x1b1353*_0x296d2b+_0x127383]=_0x5d6368[_0x25c7a7*_0x296d2b+_0x127383];}}else{if(_0x34bb65['hasOwnProp'+'erty']('bufferView')){const _0x1a3fe5=_0x389d7d[_0x34bb65['bufferView']];if(_0x5f0c40&&_0x1a3fe5['hasOwnProp'+'erty']('byteStride')){const _0x10fe76=_0x296d2b*_0x2f3be9['BYTES_PER_'+'ELEMENT'],_0x6d6f0f=new ArrayBuffer(_0x34bb65['count']*_0x10fe76),_0x28befa=new Uint8Array(_0x6d6f0f);let _0x55ced0=0x2081+0x217c+-0x41fd;for(let _0x4f06e7=-0x61*0xa+-0x128b*0x1+0x1655;_0x4f06e7<_0x34bb65['count'];++_0x4f06e7){let _0x2d5a98=(_0x34bb65['byteOffset']||0x2*0x120d+0x2*-0x664+0x18e*-0xf)+_0x4f06e7*_0x1a3fe5['byteStride'];for(let _0x2e9264=-0xdaf+-0x89*-0x1+0xd26;_0x2e9264<_0x10fe76;++_0x2e9264)_0x28befa[_0x55ced0++]=_0x1a3fe5[_0x2d5a98++];}_0x12c6cd=new _0x2f3be9(_0x6d6f0f);}else _0x12c6cd=new _0x2f3be9(_0x1a3fe5['buffer'],_0x1a3fe5['byteOffset']+(_0x34bb65['byteOffset']||-0x103c*-0x1+-0x1*-0x1dd2+-0x12*0x28f),_0x34bb65['count']*_0x296d2b);}else _0x12c6cd=new _0x2f3be9(_0x34bb65['count']*_0x296d2b);}return _0x12c6cd;},Pn=(_0x6f5d1b,_0x4b11cd)=>{const _0x401ce3=ua(_0x6f5d1b,_0x4b11cd,!(0x151*-0x18+0x64d*0x2+0x12fe));if(_0x401ce3 instanceof Float32Array||!_0x6f5d1b['normalized'])return _0x401ce3;const _0x20a1d5=new Float32Array(_0x401ce3['length']);return Gu(_0x20a1d5,_0x401ce3,Dd(_0x6f5d1b['componentT'+'ype'])),_0x20a1d5;},Hu=_0x37dfba=>{let _0x3f029a=_0x37dfba['min'],_0x2f39d2=_0x37dfba['max'];if(!_0x3f029a||!_0x2f39d2)return null;if(_0x37dfba['normalized']){const _0x251d15=Dd(_0x37dfba['componentT'+'ype']);_0x3f029a=Gu([],_0x3f029a,_0x251d15),_0x2f39d2=Gu([],_0x2f39d2,_0x251d15);}return new De(new D((_0x2f39d2[0x1*-0x1b57+0x1389*0x1+0x36*0x25]+_0x3f029a[0x212a+0xa*0x1f3+-0x34a8])*(-0x784*0x1+0x2*-0xc43+0x1005*0x2+0.5),(_0x2f39d2[-0xb14*-0x3+-0x23be+-0x283*-0x1]+_0x3f029a[0x753+-0x1d9a+0x4*0x592])*(-0x245e+-0x2367+0x47c5+0.5),(_0x2f39d2[0x1be*0x16+-0x32c+-0xb*0x332]+_0x3f029a[-0x13a4+0x2e9*-0x5+-0x11*-0x203])*(0x6ac+-0x1*0x745+0x33*0x3+0.5)),new D((_0x2f39d2[0x1ca9+-0x1030+-0xc79]-_0x3f029a[0x21aa+0x1c28+0x182*-0x29])*(0x185e+0xad*0x3+-0x1a65+0.5),(_0x2f39d2[0x739*-0x2+-0x2ff*-0x4+-0x1*-0x277]-_0x3f029a[-0x6df+-0x264f+0x2d2f*0x1])*(0x39*-0x9+-0x1e94+0x2095+0.5),(_0x2f39d2[0x1*-0xb27+-0x22*-0xfb+-0x162d]-_0x3f029a[-0x21e1*-0x1+-0x372+-0x1*0x1e6d])*(-0xc84*0x1+-0x644*-0x1+0x640+0.5)));},T0=_0x3a3ffa=>{if(!_0x3a3ffa['hasOwnProp'+'erty']('mode'))return js;switch(_0x3a3ffa['mode']){case 0x16be+-0x12db+-0x3e3:return cd;case 0x32b*-0x7+0x1463+-0x3*-0x99:return hd;case 0x11*-0x121+0x4*-0x580+0x1*0x2933:return _y;case-0x1fe8+-0x1d2e+0x3d19:return gy;case 0x1*0x2232+-0x2*-0x111f+0x446c*-0x1:return js;case 0x207c+0x6f8+0x7e3*-0x5:return Er;case-0x2e2*-0x8+-0x2337+0xc2d:return oa;default:return js;}},QF=_0x6b7163=>{const _0x16d17e=new Uint16Array(_0x6b7163);for(let _0x162078=0x2a1+0x2*-0x74b+0xbf5;_0x162078<_0x6b7163;_0x162078++)_0x16d17e[_0x162078]=_0x162078;return _0x16d17e;},JF=(_0x386ece,_0xfee5ef)=>{const _0x5bc12d=_0x386ece[Me];if(!_0x5bc12d||_0x5bc12d['components']!==0x57d+-0x11ca+0xc50)return;let _0x24efea;if(_0x5bc12d['size']!==_0x5bc12d['stride']){const _0x2b21b7=_0x5bc12d['stride']/No[_0x5bc12d['type']],_0x405879=new wn[_0x5bc12d['type']](_0x5bc12d['buffer'],_0x5bc12d['offset'],_0x5bc12d['count']*_0x2b21b7);_0x24efea=new wn[_0x5bc12d['type']](_0x5bc12d['count']*(-0x257f+0x117d+0x5*0x401));for(let _0x1760cf=-0x1081+0xba3*0x3+-0x8*0x24d;_0x1760cf<_0x5bc12d['count'];++_0x1760cf)_0x24efea[_0x1760cf*(0x1c8f+-0x1c25+-0x67)+(-0xafa*0x1+0x359*-0xb+-0x2fcd*-0x1)]=_0x405879[_0x1760cf*_0x2b21b7+(-0x59b+-0x1*-0x2464+-0x6f*0x47)],_0x24efea[_0x1760cf*(-0x1*-0x1321+-0x1a97+-0x779*-0x1)+(-0x1bb2+0x412*-0x1+0x1fc5)]=_0x405879[_0x1760cf*_0x2b21b7+(0x2b*-0x4+0x5d2+-0x525)],_0x24efea[_0x1760cf*(-0xf4+0xf55+0xe5e*-0x1)+(0x2*-0x18+0x1*0x50b+-0x4d9*0x1)]=_0x405879[_0x1760cf*_0x2b21b7+(0xc01+0x6f5+0x4*-0x4bd)];}else _0x24efea=new wn[_0x5bc12d['type']](_0x5bc12d['buffer'],_0x5bc12d['offset'],_0x5bc12d['count']*(-0x2bb*-0xa+-0x941+-0x120a));const _0x46fbb4=_0x5bc12d['count'];_0xfee5ef||(_0xfee5ef=QF(_0x46fbb4));const _0x53dd8a=Iv(_0x24efea,_0xfee5ef),_0x527404=new Float32Array(_0x53dd8a['length']);_0x527404['set'](_0x53dd8a),_0x386ece[gs]={'buffer':_0x527404['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x46fbb4,'components':0x3,'type':Ve};},eN=_0x10e9cd=>{const _0x3e0217=_0x4726e9=>{const _0x10a76b=[];for(let _0xc9704=-0x2*-0x329+-0xe61+0x80f;_0xc9704<_0x4726e9['_levels']['length'];++_0xc9704){let _0x463238=[];if(_0x4726e9['cubemap']){for(let _0x4afd2b=0x1*0xda1+-0x31*-0x3f+0x66c*-0x4;_0x4afd2b<0x1d79*0x1+0x11f1+0x151*-0x24;++_0x4afd2b)_0x463238['push'](_0x4726e9['_levels'][_0xc9704][_0x4afd2b]);}else _0x463238=_0x4726e9['_levels'][_0xc9704];_0x10a76b['push'](_0x463238);}return _0x10a76b;},_0x165513=new _e(_0x10e9cd['device'],_0x10e9cd);return _0x165513['_levels']=_0x3e0217(_0x10e9cd),_0x165513;},tN=_0x120197=>{const _0x11e6d2=new pe(_0x120197['name']+'_clone',_0x120197['type'],_0x120197['file'],_0x120197['data'],_0x120197['options']);return _0x11e6d2['loaded']=!(0x93*-0x11+-0x607*0x2+0x5*0x45d),_0x11e6d2['resource']=eN(_0x120197['resource']),_0x120197['registry']['add'](_0x11e6d2),_0x11e6d2;},sN=(_0xe59085,_0x139fe1)=>{const _0x87fce1=_0x139fe1[Me];if(!_0x87fce1)return null;const _0xaca599=_0x87fce1['count'],_0x5a6470=[];for(const _0x37f0e4 in _0x139fe1)if(_0x139fe1['hasOwnProp'+'erty'](_0x37f0e4)){const _0x2b9e0e={'semantic':_0x37f0e4,'components':_0x139fe1[_0x37f0e4]['components'],'type':_0x139fe1[_0x37f0e4]['type'],'normalize':!!_0x139fe1[_0x37f0e4]['normalize']};kt['isElementV'+'alid'](_0xe59085,_0x2b9e0e)||_0x2b9e0e['components']++,_0x5a6470['push'](_0x2b9e0e);}_0x5a6470['sort']((_0x3317f9,_0x5313e5)=>SS[_0x3317f9['semantic']]-SS[_0x5313e5['semantic']]);let _0x5a6644,_0x354072,_0x476154,_0x3a0e23,_0x1e0362,_0xc7e370;const _0x192a8e=new kt(_0xe59085,_0x5a6470);let _0x3ffadb=!(-0x1*0x1049+-0x3*0x863+-0x5*-0x84a);for(_0x5a6644=-0x76d*-0x3+0x2370+-0x3*0x133d;_0x5a6644<_0x192a8e['elements']['length'];++_0x5a6644)if(_0x1e0362=_0x192a8e['elements'][_0x5a6644],_0x3a0e23=_0x139fe1[_0x1e0362['name']],_0xc7e370=_0x3a0e23['offset']-_0x87fce1['offset'],_0x3a0e23['buffer']!==_0x87fce1['buffer']||_0x3a0e23['stride']!==_0x1e0362['stride']||_0x3a0e23['size']!==_0x1e0362['size']||_0xc7e370!==_0x1e0362['offset']){_0x3ffadb=!(-0xf25*0x1+-0x251e+0x3444);break;}const _0x54a3e9=new Is(_0xe59085,_0x192a8e,_0xaca599),_0x372ff4=_0x54a3e9['lock'](),_0x1e3e1a=new Uint32Array(_0x372ff4);let _0x2c27b3;if(_0x3ffadb)_0x2c27b3=new Uint32Array(_0x87fce1['buffer'],_0x87fce1['offset'],_0xaca599*_0x54a3e9['format']['size']/(0x1*0x2f9+0x1ca3+-0x1f98)),_0x1e3e1a['set'](_0x2c27b3);else{let _0x2af6f2,_0x48c153;for(_0x5a6644=-0x3*-0x33+0x1*0x331+-0x2*0x1e5;_0x5a6644<_0x54a3e9['format']['elements']['length'];++_0x5a6644){_0x1e0362=_0x54a3e9['format']['elements'][_0x5a6644],_0x2af6f2=_0x1e0362['stride']/(0xd3a+-0xc4f+-0xe7),_0x3a0e23=_0x139fe1[_0x1e0362['name']],_0x48c153=_0x3a0e23['stride']/(0x1d7e+0x15*0x12d+-0x362b),_0x2c27b3=new Uint32Array(_0x3a0e23['buffer'],_0x3a0e23['offset'],(_0x3a0e23['count']-(-0xa*0x3d7+-0x1423*0x1+0x3a8a))*_0x48c153+(_0x3a0e23['size']+(-0x261c+-0x1d9*0x1+0x27f8))/(0x2287+0x146d+0x36f0*-0x1));let _0x4bf5b9=-0x10bd+0xd5f*0x1+0x1*0x35e,_0x2a2ba3=_0x1e0362['offset']/(0x2*-0x11a8+0xcb3+0x16a1);const _0x4ae68e=Math['floor']((_0x3a0e23['size']+(-0x2172*-0x1+-0x6c1+-0x556*0x5))/(0x2*0xc5c+-0xb*-0x2b4+0xd0*-0x43));for(_0x354072=0x193+-0x1*0x303+0x170;_0x354072<_0xaca599;++_0x354072){for(_0x476154=-0x1*-0x24d3+0x22e5+-0x47b8;_0x476154<_0x4ae68e;++_0x476154)_0x1e3e1a[_0x2a2ba3+_0x476154]=_0x2c27b3[_0x4bf5b9+_0x476154];_0x4bf5b9+=_0x48c153,_0x2a2ba3+=_0x2af6f2;}}}return _0x54a3e9['unlock'](),_0x54a3e9;},iN=(_0x1c2211,_0x1edf41,_0x4d5536,_0x1adc03,_0x29a766,_0x54be96)=>{const _0x4d2e9c={},_0x468ab6=[];for(const _0x2600cd in _0x1edf41)_0x1edf41['hasOwnProp'+'erty'](_0x2600cd)&&Nh['hasOwnProp'+'erty'](_0x2600cd)&&(_0x4d2e9c[_0x2600cd]=_0x1edf41[_0x2600cd],_0x468ab6['push'](_0x2600cd+':'+_0x1edf41[_0x2600cd]));_0x468ab6['sort']();const _0x3fd1fc=_0x468ab6['join']();let _0x5ca883=_0x54be96[_0x3fd1fc];if(!_0x5ca883){const _0x2f07c5={};for(const _0x4de0cf in _0x4d2e9c){const _0x2a5cd5=_0x1adc03[_0x1edf41[_0x4de0cf]],_0xa55b29=ua(_0x2a5cd5,_0x29a766),_0x4f1c5e=_0x29a766[_0x2a5cd5['bufferView']],_0x4c51de=Nh[_0x4de0cf],_0x4c9cd0=yl(_0x2a5cd5['type'])*YF(_0x2a5cd5['componentT'+'ype']),_0x3eaaa0=_0x4f1c5e&&_0x4f1c5e['hasOwnProp'+'erty']('byteStride')?_0x4f1c5e['byteStride']:_0x4c9cd0;_0x2f07c5[_0x4c51de]={'buffer':_0xa55b29['buffer'],'size':_0x4c9cd0,'offset':_0xa55b29['byteOffset'],'stride':_0x3eaaa0,'count':_0x2a5cd5['count'],'components':yl(_0x2a5cd5['type']),'type':Dd(_0x2a5cd5['componentT'+'ype']),'normalize':_0x2a5cd5['normalized']};}_0x2f07c5['hasOwnProp'+'erty'](gs)||JF(_0x2f07c5,_0x4d5536),_0x5ca883=sN(_0x1c2211,_0x2f07c5),_0x54be96[_0x3fd1fc]=_0x5ca883;}return _0x5ca883;},rN=(_0x4dd5d5,_0x49c42e,_0x45edad,_0x25f526,_0xaf0c2,_0x56fc48)=>{let _0x1043aa,_0x5257d7,_0x173de7;const _0x9ba3d7=_0x49c42e['joints'],_0x1859e2=_0x9ba3d7['length'],_0x16b0bc=[];if(_0x49c42e['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x55c3ca=_0x49c42e['inverseBin'+'dMatrices'],_0x20c073=ua(_0x45edad[_0x55c3ca],_0x25f526,!(-0x1e85+-0x1ab9+0x1*0x393e)),_0x494711=[];for(_0x1043aa=-0xfb0+-0x1cba+-0xf*-0x2f6;_0x1043aa<_0x1859e2;_0x1043aa++){for(_0x5257d7=0x1163*0x2+0x6fb+0xdeb*-0x3;_0x5257d7<-0x2533+0x1*0x18d7+0xc6c;_0x5257d7++)_0x494711[_0x5257d7]=_0x20c073[_0x1043aa*(-0x81*-0x2b+0x1*0x26a5+0x40*-0xf1)+_0x5257d7];_0x173de7=new te(),_0x173de7['set'](_0x494711),_0x16b0bc['push'](_0x173de7);}}else{for(_0x1043aa=0xbe7+-0x2ed+0x3*-0x2fe;_0x1043aa<_0x1859e2;_0x1043aa++)_0x173de7=new te(),_0x16b0bc['push'](_0x173de7);}const _0x410211=[];for(_0x1043aa=0x14cb+-0x2005+0x1df*0x6;_0x1043aa<_0x1859e2;_0x1043aa++)_0x410211[_0x1043aa]=_0xaf0c2[_0x9ba3d7[_0x1043aa]]['name'];const _0x20876f=_0x410211['join']('#');let _0x27bef3=_0x56fc48['get'](_0x20876f);return _0x27bef3||(_0x27bef3=new Lv(_0x4dd5d5,_0x16b0bc,_0x410211),_0x56fc48['set'](_0x20876f,_0x27bef3)),_0x27bef3;},aN=(_0x2bab07,_0x4561fa,_0x491547,_0x3bbde5,_0x1721e7,_0x329da5,_0x175072)=>{var _0x43630c;const _0x1c6b02=new Ge(_0x2bab07);_0x1c6b02['aabb']=Hu(_0x491547[_0x4561fa['attributes']['POSITION']]);const _0x12d0c8=[];for(const [_0x500a12,_0x397bee]of Object['entries'](_0x4561fa['attributes'])){const _0x37c300=_0x491547[_0x397bee],_0x1f0ae5=Nh[_0x500a12],_0x4a1816=Dd(_0x37c300['componentT'+'ype']);_0x12d0c8['push']({'semantic':_0x1f0ae5,'components':yl(_0x37c300['type']),'type':_0x4a1816,'normalize':_0x37c300['normalized']??(_0x1f0ae5===Wt&&(_0x4a1816===la||_0x4a1816===Ml))});}if(_0x175072['push'](new Promise((_0x1057e1,_0xe86bfe)=>{const _0x383ae4=_0x4561fa['extensions']['KHR_draco_'+'mesh_compr'+'ession'];XF(_0x3bbde5[_0x383ae4['bufferView']]['slice']()['buffer'],(_0x20869c,_0x31fb6a)=>{var _0x4a981c;if(_0x20869c)console['log'](_0x20869c),_0xe86bfe(_0x20869c);else{const _0x592d3a={};for(const [_0x3f65d9,_0x29dd8b]of Object['entries'](_0x383ae4['attributes']))_0x592d3a[Nh[_0x3f65d9]]=_0x31fb6a['attributes']['indexOf'](_0x29dd8b);_0x12d0c8['sort']((_0x24e1d0,_0x28494f)=>_0x592d3a[_0x24e1d0['semantic']]-_0x592d3a[_0x28494f['semantic']]),(_0x4a981c=_0x4561fa['attributes'])!=null&&_0x4a981c['NORMAL']||_0x12d0c8['splice'](0x1a77*0x1+-0x2662+0xbec,0x1*-0x6aa+0x18a7+-0x11fd,{'semantic':'NORMAL','components':0x3,'type':Ve});const _0x2d381e=new kt(_0x2bab07,_0x12d0c8),_0x4d980c=_0x31fb6a['vertices']['byteLength']/_0x2d381e['size'],_0x8412fd=_0x4d980c<=0x1d6c9+-0xb5b+-0xcb6f?Yi:wr,_0x5578b1=_0x31fb6a['indices']['byteLength']/(_0x4d980c<=0x56*-0x1b1+-0x2cef*0x4+0x23*0x109b?0x1c35*0x1+-0x2*0xc7a+-0x33f*0x1:0x69e+-0x609*0x3+0xb81);w['call'](()=>{_0x4d980c!==_0x491547[_0x4561fa['attributes']['POSITION']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x5578b1!==_0x491547[_0x4561fa['indices']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x4fe26b=new Is(_0x2bab07,_0x2d381e,_0x4d980c,{'data':_0x31fb6a['vertices']}),_0x47150a=new br(_0x2bab07,_0x8412fd,_0x5578b1,ms,_0x31fb6a['indices']);_0x1c6b02['vertexBuff'+'er']=_0x4fe26b,_0x1c6b02['indexBuffe'+'r'][0x212b+-0xc9*-0x1b+-0x365e]=_0x47150a,_0x1c6b02['primitive'][0x155a+0x1b*0x21+-0x18d5]['type']=T0(_0x4561fa),_0x1c6b02['primitive'][-0x85*0xa+-0x1cab+-0x1*-0x21dd]['base']=0x27f*-0x7+0x225*0x3+0xb0a,_0x1c6b02['primitive'][-0x201e+0x17*0xb1+0x7*0x251]['count']=_0x47150a?_0x5578b1:_0x4d980c,_0x1c6b02['primitive'][-0x1*-0x2365+0x1f*0xf7+-0x20a7*0x2]['indexed']=!!_0x47150a,_0x1057e1();}});})),(_0x43630c=_0x4561fa==null?void(-0x103*0x2+0x22a7+-0x20a1*0x1):_0x4561fa['extensions'])!=null&&_0x43630c['KHR_materi'+'als_varian'+'ts']){const _0x44746a=_0x4561fa['extensions']['KHR_materi'+'als_varian'+'ts'],_0x274cd6={};_0x44746a['mappings']['forEach'](_0x47a3e8=>{_0x47a3e8['variants']['forEach'](_0xd54fb2=>{_0x274cd6[_0xd54fb2]=_0x47a3e8['material'];});}),_0x1721e7[_0x1c6b02['id']]=_0x274cd6;}return _0x329da5[_0x1c6b02['id']]=_0x4561fa['material'],_0x1c6b02;},nN=(_0x3169a9,_0x46b663,_0x2e7422,_0x432a90,_0x45b698,_0x303c2d,_0x30e6e2,_0x40771e,_0x1ce402)=>{const _0x5accef=[];return _0x46b663['primitives']['forEach'](_0x201504=>{var _0x1d29a8;if((_0x1d29a8=_0x201504['extensions'])!=null&&_0x1d29a8['KHR_draco_'+'mesh_compr'+'ession'])_0x5accef['push'](aN(_0x3169a9,_0x201504,_0x2e7422,_0x432a90,_0x303c2d,_0x30e6e2,_0x1ce402));else{let _0x476eee=_0x201504['hasOwnProp'+'erty']('indices')?ua(_0x2e7422[_0x201504['indices']],_0x432a90,!(-0x1aa1+-0x1*-0x201f+-0x57e)):null;const _0x10c221=iN(_0x3169a9,_0x201504['attributes'],_0x476eee,_0x2e7422,_0x432a90,_0x45b698),_0x1f6d8f=T0(_0x201504),_0x250902=new Ge(_0x3169a9);if(_0x250902['vertexBuff'+'er']=_0x10c221,_0x250902['primitive'][-0x1d43*-0x1+0x14*0x77+-0x268f*0x1]['type']=_0x1f6d8f,_0x250902['primitive'][-0xd2*-0x1e+0x1*0xf29+-0x27c5]['base']=-0x8ef+0x6fc+0x1f3*0x1,_0x250902['primitive'][0x18c6+0x148e+-0x2d54]['indexed']=_0x476eee!==null,_0x476eee!==null){let _0x12f9e3;_0x476eee instanceof Uint8Array?_0x12f9e3=$f:_0x476eee instanceof Uint16Array?_0x12f9e3=Yi:_0x12f9e3=wr,_0x12f9e3===$f&&_0x3169a9['isWebGPU']&&(_0x12f9e3=Yi,_0x476eee=new Uint16Array(_0x476eee));const _0x6206d5=new br(_0x3169a9,_0x12f9e3,_0x476eee['length'],ms,_0x476eee);_0x250902['indexBuffe'+'r'][0x14d2*0x1+0x1*0x17f+-0x1651]=_0x6206d5,_0x250902['primitive'][-0x223*-0xb+0x77c+-0x1efd]['count']=_0x476eee['length'];}else _0x250902['primitive'][0x1*-0x1232+0x2643+-0x1*0x1411]['count']=_0x10c221['numVertice'+'s'];if(_0x201504['hasOwnProp'+'erty']('extensions')&&_0x201504['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x1bdd7d=_0x201504['extensions']['KHR_materi'+'als_varian'+'ts'],_0x592fa8={};_0x1bdd7d['mappings']['forEach'](_0x2772bf=>{_0x2772bf['variants']['forEach'](_0x19f03d=>{_0x592fa8[_0x19f03d]=_0x2772bf['material'];});}),_0x303c2d[_0x250902['id']]=_0x592fa8;}_0x30e6e2[_0x250902['id']]=_0x201504['material'];let _0x3d1c34=_0x2e7422[_0x201504['attributes']['POSITION']];if(_0x250902['aabb']=Hu(_0x3d1c34),_0x201504['hasOwnProp'+'erty']('targets')){const _0x2507db=[];_0x201504['targets']['forEach']((_0x2a4947,_0x5affe0)=>{const _0x68e2d2={};_0x2a4947['hasOwnProp'+'erty']('POSITION')&&(_0x3d1c34=_0x2e7422[_0x2a4947['POSITION']],_0x68e2d2['deltaPosit'+'ions']=Pn(_0x3d1c34,_0x432a90),_0x68e2d2['aabb']=Hu(_0x3d1c34)),_0x2a4947['hasOwnProp'+'erty']('NORMAL')&&(_0x3d1c34=_0x2e7422[_0x2a4947['NORMAL']],_0x68e2d2['deltaNorma'+'ls']=Pn(_0x3d1c34,_0x432a90)),_0x46b663['hasOwnProp'+'erty']('extras')&&_0x46b663['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x68e2d2['name']=_0x46b663['extras']['targetName'+'s'][_0x5affe0]:_0x68e2d2['name']=_0x5affe0['toString'](0x1b5*-0x2+0x1e3a+-0x17*0x12a),_0x46b663['hasOwnProp'+'erty']('weights')&&(_0x68e2d2['defaultWei'+'ght']=_0x46b663['weights'][_0x5affe0]),_0x68e2d2['preserveDa'+'ta']=_0x40771e['morphPrese'+'rveData'],_0x2507db['push'](new Md(_0x68e2d2));}),_0x250902['morph']=new mm(_0x2507db,_0x3169a9,{'preferHighPrecision':_0x40771e['morphPrefe'+'rHighPreci'+'sion']});}_0x5accef['push'](_0x250902);}}),_0x5accef;},Dt=(_0x2bff4e,_0x400b79,_0x3fa8fa)=>{var _0x3b8c15;let _0x502d12;const _0x1d706c=_0x2bff4e['texCoord'];if(_0x1d706c){for(_0x502d12=0x696+-0x2*0x1b2+-0x199*0x2;_0x502d12<_0x3fa8fa['length'];++_0x502d12)_0x400b79[_0x3fa8fa[_0x502d12]+'MapUv']=_0x1d706c;}const _0x1b76d7=[-0x177f+0x193*0x17+-0xcb6,0x1b69*0x1+-0x9ca*0x1+-0x1*0x119f],_0x5d6eb5=[0x735+-0x983+0x24f*0x1,-0x2624*0x1+-0x189d*-0x1+0xd88],_0x27c486=(_0x3b8c15=_0x2bff4e['extensions'])==null?void(-0x252a+-0x2012+0x2*0x229e):_0x3b8c15['KHR_textur'+'e_transfor'+'m'];if(_0x27c486){const _0xc52dbf=_0x27c486['offset']||_0x1b76d7,_0x18868e=_0x27c486['scale']||_0x5d6eb5,_0x37abf8=_0x27c486['rotation']?-_0x27c486['rotation']*Y['RAD_TO_DEG']:-0x191e+-0x6*-0x18+-0x2*-0xc47,_0x35c449=new J(_0x18868e[-0x4*0x335+0xd0a+0x6*-0x9],_0x18868e[-0x7bb+0x1289+-0xacd]),_0x5bae58=new J(_0xc52dbf[-0x30b*0x5+-0x1b58+-0x1*-0x2a8f],-0x135d+0xe62+0x4fc-_0x18868e[0xa*-0x2bb+0x187c+0x2d3]-_0xc52dbf[-0x1713*-0x1+0x1*0x277+-0x1989]);for(_0x502d12=0x28b*-0xf+-0x40f*0x4+0x3661;_0x502d12<_0x3fa8fa['length'];++_0x502d12)_0x400b79[_0x3fa8fa[_0x502d12]+'MapTiling']=_0x35c449,_0x400b79[_0x3fa8fa[_0x502d12]+'MapOffset']=_0x5bae58,_0x400b79[_0x3fa8fa[_0x502d12]+('MapRotatio'+'n')]=_0x37abf8;}},oN=(_0x8ec44a,_0x279395,_0x580f49)=>{let _0x3c8b30,_0x50d37a;if(_0x8ec44a['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x3c8b30=_0x8ec44a['diffuseFac'+'tor'],_0x279395['diffuse']['set'](Math['pow'](_0x3c8b30[0x2*-0x1b1+-0x950+0xcb2],(0x1462+0x1*-0x1c2b+0x2*0x3e5)/(0x1df4+0x61d*0x2+-0x2a2c+0.20000000000000018)),Math['pow'](_0x3c8b30[0x18e1+-0x42*-0x88+-0x3bf0],(0x29e+0x1b64*-0x1+0x18c7*0x1)/(-0x1*0xa25+-0x1*0x2001+0x8*0x545+0.20000000000000018)),Math['pow'](_0x3c8b30[-0x98d*0x3+-0xa76+0x271f],(-0xdad*-0x1+0x20b0+-0x3dd*0xc)/(-0x17b7+-0x13c7+0x1d*0x180+0.20000000000000018))),_0x279395['opacity']=_0x3c8b30[0xa47*0x3+-0x7*-0x353+0x3d*-0xe3]):(_0x279395['diffuse']['set'](-0x24*-0xcc+0x1*-0x1413+-0x89c,0xc04+0x1*-0x24af+0x18ac,0x1e06+0x1ba+-0x1fbf),_0x279395['opacity']=-0x198e+-0x3b*-0x3a+-0x1*-0xc31),_0x8ec44a['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x3c0862=_0x8ec44a['diffuseTex'+'ture'];_0x50d37a=_0x580f49[_0x3c0862['index']],_0x279395['diffuseMap']=_0x50d37a,_0x279395['diffuseMap'+'Channel']='rgb',_0x279395['opacityMap']=_0x50d37a,_0x279395['opacityMap'+'Channel']='a',Dt(_0x3c0862,_0x279395,['diffuse','opacity']);}if(_0x279395['useMetalne'+'ss']=!(0x1463*0x1+-0x62c*-0x6+-0x396a),_0x8ec44a['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x3c8b30=_0x8ec44a['specularFa'+'ctor'],_0x279395['specular']['set'](Math['pow'](_0x3c8b30[-0x2*0x112a+0x1a32+0x822],(-0xc2f*0x2+-0xb*-0x2e6+-0x783*0x1)/(-0x1a5*0x7+-0xdf3*-0x2+-0x1061+0.20000000000000018)),Math['pow'](_0x3c8b30[0x267e+-0x1f23+0x75a*-0x1],(0xef*0x1e+0x264f+-0x1*0x4250)/(0xd3*-0x9+0x8af+-0x142+0.20000000000000018)),Math['pow'](_0x3c8b30[0x1fb5+0x1*-0x21f+-0x1d94],(-0x166*0x1b+-0xaff+0x30c2)/(-0x15*0x5d+-0x3*0x1e9+0xd5e+0.20000000000000018)))):_0x279395['specular']['set'](0x637+-0x1806+0x11d0,-0x173*-0xb+0x5*0x35e+-0xa*0x347,0x73c*-0x2+0x1a49+-0xbd0),_0x8ec44a['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x279395['gloss']=_0x8ec44a['glossiness'+'Factor']:_0x279395['gloss']=0x11ac+0x8c9+-0x1*0x1a74,_0x8ec44a['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x288094=_0x8ec44a['specularGl'+'ossinessTe'+'xture'];_0x279395['specularMa'+'p']=_0x279395['glossMap']=_0x580f49[_0x288094['index']],_0x279395['specularMa'+'pChannel']='rgb',_0x279395['glossMapCh'+'annel']='a',Dt(_0x288094,_0x279395,['gloss','metalness']);}},lN=(_0x3ed0e8,_0x1fe605,_0x5cb8e5)=>{if(_0x3ed0e8['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x1fe605['clearCoat']=_0x3ed0e8['clearcoatF'+'actor']*(0x6f*-0x59+0x6*-0x97+0x2a21+0.25):_0x1fe605['clearCoat']=-0x1757*-0x1+-0x6*0x1e7+-0xbed,_0x3ed0e8['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0xd88884=_0x3ed0e8['clearcoatT'+'exture'];_0x1fe605['clearCoatM'+'ap']=_0x5cb8e5[_0xd88884['index']],_0x1fe605['clearCoatM'+'apChannel']='r',Dt(_0xd88884,_0x1fe605,['clearCoat']);}if(_0x3ed0e8['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x1fe605['clearCoatG'+'loss']=_0x3ed0e8['clearcoatR'+'oughnessFa'+'ctor']:_0x1fe605['clearCoatG'+'loss']=0x1fe8+0xb*-0xf+0x35*-0x97,_0x3ed0e8['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0xc79fb0=_0x3ed0e8['clearcoatR'+'oughnessTe'+'xture'];_0x1fe605['clearCoatG'+'lossMap']=_0x5cb8e5[_0xc79fb0['index']],_0x1fe605['clearCoatG'+'lossMapCha'+'nnel']='g',Dt(_0xc79fb0,_0x1fe605,['clearCoatG'+'loss']);}if(_0x3ed0e8['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x1fa394=_0x3ed0e8['clearcoatN'+'ormalTextu'+'re'];_0x1fe605['clearCoatN'+'ormalMap']=_0x5cb8e5[_0x1fa394['index']],Dt(_0x1fa394,_0x1fe605,['clearCoatN'+'ormal']),_0x1fa394['hasOwnProp'+'erty']('scale')?_0x1fe605['clearCoatB'+'umpiness']=_0x1fa394['scale']:_0x1fe605['clearCoatB'+'umpiness']=0xb*0x34f+-0x1*0x821+0x1*-0x1c43;}_0x1fe605['clearCoatG'+'lossInvert']=!(0x4c8+-0xb3e+0x1*0x676);},cN=(_0x245d43,_0x8ad95f,_0x1e622d)=>{_0x8ad95f['useLightin'+'g']=!(-0x2*-0x130a+-0x5*-0x76f+-0x1*0x4b3e),_0x8ad95f['emissive']['copy'](_0x8ad95f['diffuse']),_0x8ad95f['emissiveMa'+'p']=_0x8ad95f['diffuseMap'],_0x8ad95f['emissiveMa'+'pUv']=_0x8ad95f['diffuseMap'+'Uv'],_0x8ad95f['emissiveMa'+'pTiling']['copy'](_0x8ad95f['diffuseMap'+'Tiling']),_0x8ad95f['emissiveMa'+'pOffset']['copy'](_0x8ad95f['diffuseMap'+'Offset']),_0x8ad95f['emissiveMa'+'pRotation']=_0x8ad95f['diffuseMap'+'Rotation'],_0x8ad95f['emissiveMa'+'pChannel']=_0x8ad95f['diffuseMap'+'Channel'],_0x8ad95f['emissiveVe'+'rtexColor']=_0x8ad95f['diffuseVer'+'texColor'],_0x8ad95f['emissiveVe'+'rtexColorC'+'hannel']=_0x8ad95f['diffuseVer'+'texColorCh'+'annel'],_0x8ad95f['useLightin'+'g']=!(0x1*-0x2611+-0x2010+0x4622),_0x8ad95f['useSkybox']=!(0x1a0c*-0x1+0x3*-0xbd3+0x3d86),_0x8ad95f['diffuse']['set'](0x23c4+-0x2228*0x1+-0x1*0x19b,0x3*-0x6e8+0x5*-0x2c9+-0x377*-0xa,-0x1a*-0xb+-0x7*-0x11b+-0xce*0xb),_0x8ad95f['diffuseMap']=null,_0x8ad95f['diffuseVer'+'texColor']=!(0x5b*-0x37+-0x13c5+0x2753);},hN=(_0x1e3bb4,_0x1dc99b,_0x366e43)=>{if(_0x1dc99b['useMetalne'+'ssSpecular'+'Color']=!(0x1cc1+-0x43*0x94+0x1ff*0x5),_0x1e3bb4['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x1dc99b['specularMa'+'p']=_0x366e43[_0x1e3bb4['specularCo'+'lorTexture']['index']],_0x1dc99b['specularMa'+'pChannel']='rgb',Dt(_0x1e3bb4['specularCo'+'lorTexture'],_0x1dc99b,['specular'])),_0x1e3bb4['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x49e3c0=_0x1e3bb4['specularCo'+'lorFactor'];_0x1dc99b['specular']['set'](Math['pow'](_0x49e3c0[-0x867*0x1+-0x320*0xa+-0x27a7*-0x1],(-0x34b+0x159+0x1f3)/(-0x246b+-0x1ef4+-0x4361*-0x1+0.20000000000000018)),Math['pow'](_0x49e3c0[0xa49*-0x1+-0x35*0x6a+0x203c],(0x205b+-0x1*0x1084+0xfd6*-0x1)/(-0x1c37+-0x1*0x183e+0x3477+0.20000000000000018)),Math['pow'](_0x49e3c0[-0x2192+-0x2606+0x479a],(-0x2*0x127f+0xe27+0x16d8)/(0x7f1*0x1+-0x1c0c*-0x1+-0x23fb+0.20000000000000018)));}else _0x1dc99b['specular']['set'](0x5c1+0xfbb*0x1+-0x157b,-0x1fc7+0xbf*0x17+0xe9f,0xab9+0x190e+-0x23c6);_0x1e3bb4['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x1dc99b['specularit'+'yFactor']=_0x1e3bb4['specularFa'+'ctor']:_0x1dc99b['specularit'+'yFactor']=-0x265+-0x2636+0x2*0x144e,_0x1e3bb4['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x1dc99b['specularit'+'yFactorMap'+'Channel']='a',_0x1dc99b['specularit'+'yFactorMap']=_0x366e43[_0x1e3bb4['specularTe'+'xture']['index']],Dt(_0x1e3bb4['specularTe'+'xture'],_0x1dc99b,['specularit'+'yFactor']));},dN=(_0xca5cfb,_0xec7b2d,_0x204820)=>{_0xca5cfb['hasOwnProp'+'erty']('ior')&&(_0xec7b2d['refraction'+'Index']=(0x80a+0x1ae4+-0x22ed)/_0xca5cfb['ior']);},fN=(_0x258472,_0x2668dd,_0x3f2174)=>{_0x258472['hasOwnProp'+'erty']('dispersion')&&(_0x2668dd['dispersion']=_0x258472['dispersion']);},uN=(_0x1617ac,_0xdef63c,_0x434825)=>{_0xdef63c['blendType']=Zs,_0xdef63c['useDynamic'+'Refraction']=!(-0x221a+-0x2045+0x425f),_0x1617ac['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0xdef63c['refraction']=_0x1617ac['transmissi'+'onFactor']),_0x1617ac['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0xdef63c['refraction'+'MapChannel']='r',_0xdef63c['refraction'+'Map']=_0x434825[_0x1617ac['transmissi'+'onTexture']['index']],Dt(_0x1617ac['transmissi'+'onTexture'],_0xdef63c,['refraction']));},pN=(_0x122834,_0x5afacb,_0x5f41d6)=>{if(_0x5afacb['useSheen']=!(0x1f*-0x6b+0x10cf+-0x2*0x1ed),_0x122834['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x149d38=_0x122834['sheenColor'+'Factor'];_0x5afacb['sheen']['set'](Math['pow'](_0x149d38[0x23cf+0x8a6+-0x2c75],(-0x26e9*-0x1+-0x1599+-0x114f)/(0x4*0x26e+-0x1bd3*0x1+-0x121d*-0x1+0.20000000000000018)),Math['pow'](_0x149d38[-0x5*0x1b1+0x3*-0x27+0x8eb],(0x1b6b+-0xf99+0x1*-0xbd1)/(0x115a+-0x180*-0x7+-0x1bd8+0.20000000000000018)),Math['pow'](_0x149d38[0x19f3+-0x49*0x4+-0x1*0x18cd],(-0x1235+0x87c+0x9ba)/(-0x1c2*0x1+0x1183+-0xfbf+0.20000000000000018)));}else _0x5afacb['sheen']['set'](0x18da+0x187c+0xad*-0x49,-0x1*-0x243f+-0x8*0x24a+0xa*-0x1cb,-0x19f8+0x101*0x5+0x14f4);_0x122834['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x5afacb['sheenMap']=_0x5f41d6[_0x122834['sheenColor'+'Texture']['index']],Dt(_0x122834['sheenColor'+'Texture'],_0x5afacb,['sheen'])),_0x5afacb['sheenGloss']=_0x122834['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x122834['sheenRough'+'nessFactor']:0x6b5*-0x1+0x1acc+-0x1417,_0x122834['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x5afacb['sheenGloss'+'Map']=_0x5f41d6[_0x122834['sheenRough'+'nessTextur'+'e']['index']],_0x5afacb['sheenGloss'+'MapChannel']='a',Dt(_0x122834['sheenRough'+'nessTextur'+'e'],_0x5afacb,['sheenGloss'])),_0x5afacb['sheenGloss'+'Invert']=!(0x1*0x2689+-0x18b*-0x9+-0x346c*0x1);},mN=(_0x2172a9,_0x367208,_0x385bf6)=>{if(_0x367208['blendType']=Zs,_0x367208['useDynamic'+'Refraction']=!(-0x2*-0x752+-0x1da1+0xefd),_0x2172a9['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x367208['thickness']=_0x2172a9['thicknessF'+'actor']),_0x2172a9['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x367208['thicknessM'+'ap']=_0x385bf6[_0x2172a9['thicknessT'+'exture']['index']],_0x367208['thicknessM'+'apChannel']='g',Dt(_0x2172a9['thicknessT'+'exture'],_0x367208,['thickness'])),_0x2172a9['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x367208['attenuatio'+'nDistance']=_0x2172a9['attenuatio'+'nDistance']),_0x2172a9['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x23016d=_0x2172a9['attenuatio'+'nColor'];_0x367208['attenuatio'+'n']['set'](Math['pow'](_0x23016d[0x5ad*-0x4+0x1*-0x23a+0x18ee],(-0x801+0x1f*-0xd9+0x2249*0x1)/(-0x19ab*-0x1+-0x407*-0x1+-0x1db0+0.20000000000000018)),Math['pow'](_0x23016d[-0x462+-0xd*-0x191+-0xa*0x199],(0x41+0x1*-0x76f+0x72f)/(0x1d9f+-0x8*-0x14f+-0x1f*0x14b+0.20000000000000018)),Math['pow'](_0x23016d[-0x22e0+-0x2225+0x4507],(0x5*-0x12a+-0xe78+0x40f*0x5)/(-0x8*-0x2b6+0x1600+-0x2bae+0.20000000000000018)));}},_N=(_0x29f79c,_0x46343d,_0x26ccb8)=>{_0x29f79c['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x46343d['emissiveIn'+'tensity']=_0x29f79c['emissiveSt'+'rength']);},gN=(_0x4dfdf1,_0x480052,_0x381b9e)=>{_0x480052['useIridesc'+'ence']=!(0xe26+-0x1d63*-0x1+-0x2b89),_0x4dfdf1['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x480052['iridescenc'+'e']=_0x4dfdf1['iridescenc'+'eFactor']),_0x4dfdf1['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x480052['iridescenc'+'eMapChanne'+'l']='r',_0x480052['iridescenc'+'eMap']=_0x381b9e[_0x4dfdf1['iridescenc'+'eTexture']['index']],Dt(_0x4dfdf1['iridescenc'+'eTexture'],_0x480052,['iridescenc'+'e'])),_0x4dfdf1['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x480052['iridescenc'+'eRefractio'+'nIndex']=_0x4dfdf1['iridescenc'+'eIor']),_0x4dfdf1['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x480052['iridescenc'+'eThickness'+'Min']=_0x4dfdf1['iridescenc'+'eThickness'+'Minimum']),_0x4dfdf1['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x480052['iridescenc'+'eThickness'+'Max']=_0x4dfdf1['iridescenc'+'eThickness'+'Maximum']),_0x4dfdf1['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x480052['iridescenc'+'eThickness'+'MapChannel']='g',_0x480052['iridescenc'+'eThickness'+'Map']=_0x381b9e[_0x4dfdf1['iridescenc'+'eThickness'+'Texture']['index']],Dt(_0x4dfdf1['iridescenc'+'eThickness'+'Texture'],_0x480052,['iridescenc'+'eThickness']));},SN=(_0x4ec325,_0x4684e7,_0xc988c2)=>{if(_0x4684e7['enableGGXS'+'pecular']=!(-0x2566+0x2*0x10dd+0x3ac),_0x4ec325['hasOwnProp'+'erty']('anisotropy'+'Strength')?_0x4684e7['anisotropy'+'Intensity']=_0x4ec325['anisotropy'+'Strength']:_0x4684e7['anisotropy'+'Intensity']=-0x1bf7+-0x1f96+-0x5*-0xbe9,_0x4ec325['hasOwnProp'+'erty']('anisotropy'+'Texture')){const _0x2b19cf=_0x4ec325['anisotropy'+'Texture'];_0x4684e7['anisotropy'+'Map']=_0xc988c2[_0x2b19cf['index']],Dt(_0x2b19cf,_0x4684e7,['anisotropy']);}_0x4ec325['hasOwnProp'+'erty']('anisotropy'+'Rotation')?_0x4684e7['anisotropy'+'Rotation']=_0x4ec325['anisotropy'+'Rotation']*Y['RAD_TO_DEG']:_0x4684e7['anisotropy'+'Rotation']=-0x1*0x1ddb+0x2*0x704+0x1*0xfd3;},w0=(_0x262fa0,_0x7e0650)=>{const _0x277db3=new Ut();_0x262fa0['hasOwnProp'+'erty']('name')&&(_0x277db3['name']=_0x262fa0['name']),_0x277db3['occludeSpe'+'cular']=bd,_0x277db3['diffuseVer'+'texColor']=!(0x5b4+0xaaf*0x2+-0x1b12),_0x277db3['specularTi'+'nt']=!(0x693+-0x1d4*0xb+0xd89),_0x277db3['specularVe'+'rtexColor']=!(-0x57*-0x6e+0x59*0x52+-0x41e4),_0x277db3['specular']['set'](0x3*0xc4d+0x9b*0x12+-0x17e6*0x2,0x1c5d+-0x1ae9*-0x1+-0x1*0x3745,0xa2e+0x232*-0x6+-0x1*-0x2ff),_0x277db3['gloss']=-0x8*-0x2d4+-0x13c7*0x1+-0x2d8,_0x277db3['glossInver'+'t']=!(0x1460+-0x349+0x36b*-0x5),_0x277db3['useMetalne'+'ss']=!(-0x136b*-0x1+-0x1*0x10d+0x125e*-0x1);let _0x3ada4f,_0x4e570f;if(_0x262fa0['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x34e276=_0x262fa0['pbrMetalli'+'cRoughness'];if(_0x34e276['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x3ada4f=_0x34e276['baseColorF'+'actor'],_0x277db3['diffuse']['set'](Math['pow'](_0x3ada4f[-0xa7c*-0x3+-0x412+-0x1b62],(0x71*-0x1f+-0x267+0x1017)/(0x10cb*0x2+-0x22f9*-0x1+-0x6d*0xa1+0.20000000000000018)),Math['pow'](_0x3ada4f[0x10f4+-0x1cae+0xbbb],(0x14e8+-0x3*-0x315+-0x1e26*0x1)/(-0x1*0x1685+0x1f9*-0xf+-0x2*-0x1a0f+0.20000000000000018)),Math['pow'](_0x3ada4f[-0x18bf+0x1f25+0x664*-0x1],(0x8bf*0x3+0x5d4*0x2+-0x25e4)/(-0x4ab+0x1*-0x1d3b+0x21e8+0.20000000000000018))),_0x277db3['opacity']=_0x3ada4f[-0x2*0x11bd+-0x13d1+0x374e*0x1]),_0x34e276['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x17ce01=_0x34e276['baseColorT'+'exture'];_0x4e570f=_0x7e0650[_0x17ce01['index']],_0x277db3['diffuseMap']=_0x4e570f,_0x277db3['diffuseMap'+'Channel']='rgb',_0x277db3['opacityMap']=_0x4e570f,_0x277db3['opacityMap'+'Channel']='a',Dt(_0x17ce01,_0x277db3,['diffuse','opacity']);}if(_0x34e276['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x277db3['metalness']=_0x34e276['metallicFa'+'ctor']),_0x34e276['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x277db3['gloss']=_0x34e276['roughnessF'+'actor']),_0x34e276['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x5853ee=_0x34e276['metallicRo'+'ughnessTex'+'ture'];_0x277db3['metalnessM'+'ap']=_0x277db3['glossMap']=_0x7e0650[_0x5853ee['index']],_0x277db3['metalnessM'+'apChannel']='b',_0x277db3['glossMapCh'+'annel']='g',Dt(_0x5853ee,_0x277db3,['gloss','metalness']);}}if(_0x262fa0['hasOwnProp'+'erty']('normalText'+'ure')){const _0x3071a4=_0x262fa0['normalText'+'ure'];_0x277db3['normalMap']=_0x7e0650[_0x3071a4['index']],Dt(_0x3071a4,_0x277db3,['normal']),_0x3071a4['hasOwnProp'+'erty']('scale')&&(_0x277db3['bumpiness']=_0x3071a4['scale']);}if(_0x262fa0['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x3304f6=_0x262fa0['occlusionT'+'exture'];_0x277db3['aoMap']=_0x7e0650[_0x3304f6['index']],_0x277db3['aoMapChann'+'el']='r',Dt(_0x3304f6,_0x277db3,['ao']);}if(_0x262fa0['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x3ada4f=_0x262fa0['emissiveFa'+'ctor'],_0x277db3['emissive']['set'](Math['pow'](_0x3ada4f[0x17d2+0x1bb0+0x26*-0x15b],(-0xf25+0xc2d+0x2f9)/(0x1835+0x2009+-0x383c+0.20000000000000018)),Math['pow'](_0x3ada4f[-0x11e3*0x2+-0x3*0xa21+0xb07*0x6],(0x109b+0x2481+0x1*-0x351b)/(-0xb*-0x213+0x626*-0x1+-0x10a9+0.20000000000000018)),Math['pow'](_0x3ada4f[0x1*-0x176f+0x1012+0x6f*0x11],(0xd08+-0x20*0x105+-0x1d*-0xad)/(-0x254d+0x1771*0x1+-0x5*-0x2c6+0.20000000000000018)))),_0x262fa0['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x542099=_0x262fa0['emissiveTe'+'xture'];_0x277db3['emissiveMa'+'p']=_0x7e0650[_0x542099['index']],Dt(_0x542099,_0x277db3,['emissive']);}if(_0x262fa0['hasOwnProp'+'erty']('alphaMode'))switch(_0x262fa0['alphaMode']){case'MASK':_0x277db3['blendType']=Cs,_0x262fa0['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x277db3['alphaTest']=_0x262fa0['alphaCutof'+'f']:_0x277db3['alphaTest']=-0x71*0x32+0x425*-0x8+0x373a*0x1+0.5;break;case'BLEND':_0x277db3['blendType']=Zs,_0x277db3['depthWrite']=!(0x235d+-0x2*0x8cd+-0x11c2);break;default:case'OPAQUE':_0x277db3['blendType']=Cs;break;}else _0x277db3['blendType']=Cs;_0x262fa0['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x277db3['twoSidedLi'+'ghting']=_0x262fa0['doubleSide'+'d'],_0x277db3['cull']=_0x262fa0['doubleSide'+'d']?bt:pa):(_0x277db3['twoSidedLi'+'ghting']=!(0x99f+-0x195b*0x1+-0xfbd*-0x1),_0x277db3['cull']=pa);const _0x224ba0={'KHR_materials_clearcoat':lN,'KHR_materials_emissive_strength':_N,'KHR_materials_ior':dN,'KHR_materials_dispersion':fN,'KHR_materials_iridescence':gN,'KHR_materials_pbrSpecularGlossiness':oN,'KHR_materials_sheen':pN,'KHR_materials_specular':hN,'KHR_materials_transmission':uN,'KHR_materials_unlit':cN,'KHR_materials_volume':mN,'KHR_materials_anisotropy':SN};if(_0x262fa0['hasOwnProp'+'erty']('extensions'))for(const _0x4952ce in _0x262fa0['extensions']){const _0x3cb275=_0x224ba0[_0x4952ce];_0x3cb275!==void(0x6df+0xc2f*-0x1+0x550)&&_0x3cb275(_0x262fa0['extensions'][_0x4952ce],_0x277db3,_0x7e0650);}return _0x277db3['update'](),_0x277db3;},yN=(_0x5da9c8,_0x5e3090,_0x3b32b0,_0x68e8ff,_0x40e52f,_0x5432f6,_0x192fe2)=>{const _0x58d541=_0x1cc9b1=>new Fh(yl(_0x1cc9b1['type']),Pn(_0x1cc9b1,_0x68e8ff)),_0x4c5333={'STEP':Bv,'LINEAR':Su,'CUBICSPLINE':yu},_0x55c1d2={},_0x2f4aff={},_0x14f505={};let _0x2cca51=0x24a1+-0x7db*-0x2+-0x3456,_0x4cea70;for(_0x4cea70=0x35*0x4a+0x5e5*-0x2+0x8*-0x71;_0x4cea70<_0x5da9c8['samplers']['length'];++_0x4cea70){const _0x1239c9=_0x5da9c8['samplers'][_0x4cea70];_0x55c1d2['hasOwnProp'+'erty'](_0x1239c9['input'])||(_0x55c1d2[_0x1239c9['input']]=_0x58d541(_0x3b32b0[_0x1239c9['input']])),_0x2f4aff['hasOwnProp'+'erty'](_0x1239c9['output'])||(_0x2f4aff[_0x1239c9['output']]=_0x58d541(_0x3b32b0[_0x1239c9['output']]));const _0x4569da=_0x1239c9['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x4c5333['hasOwnProp'+'erty'](_0x1239c9['interpolat'+'ion'])?_0x4c5333[_0x1239c9['interpolat'+'ion']]:Su,_0x545184={'paths':[],'input':_0x1239c9['input'],'output':_0x1239c9['output'],'interpolation':_0x4569da};_0x14f505[_0x4cea70]=_0x545184;}const _0x6c86e6=[],_0x1f441c={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x241e5b=_0x3decb4=>{const _0x50dcd8=[];for(;_0x3decb4;)_0x50dcd8['unshift'](_0x3decb4['name']),_0x3decb4=_0x3decb4['parent'];return _0x50dcd8;},_0x555229=(_0x4c08d8,_0x171d42,_0x282fde)=>{const _0x2f0234=_0x2f4aff[_0x4c08d8['output']];if(!_0x2f0234){w['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x282fde+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x25c0d8;if(_0x5432f6&&_0x5432f6[_0x171d42['mesh']]){const _0x7c85f4=_0x5432f6[_0x171d42['mesh']];_0x7c85f4['hasOwnProp'+'erty']('extras')&&_0x7c85f4['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x25c0d8=_0x7c85f4['extras']['targetName'+'s']);}const _0xd4705a=_0x2f0234['data'],_0x578914=_0xd4705a['length']/_0x55c1d2[_0x4c08d8['input']]['data']['length'],_0x385fb0=_0xd4705a['length']/_0x578914,_0x5f3890=_0x385fb0*(-0x1ff4+-0x20e4+0x40dc),_0x22fb4e=new ArrayBuffer(_0x5f3890*_0x578914);for(let _0xdcc0e=0x11eb+0x1*0x20e8+-0x3*0x10f1;_0xdcc0e<_0x578914;_0xdcc0e++){const _0x2cb66e=new Float32Array(_0x22fb4e,_0x5f3890*_0xdcc0e,_0x385fb0);for(let _0x30be60=-0x1*-0xb7b+-0x2*-0xa78+-0x206b;_0x30be60<_0x385fb0;_0x30be60++)_0x2cb66e[_0x30be60]=_0xd4705a[_0x30be60*_0x578914+_0xdcc0e];const _0x4c435a=new Fh(-0x36e*-0x8+-0x17a6+-0x3c9,_0x2cb66e),_0x5730f5=_0x25c0d8!=null&&_0x25c0d8[_0xdcc0e]?'name.'+_0x25c0d8[_0xdcc0e]:_0xdcc0e;_0x2f4aff[-_0x2cca51]=_0x4c435a;const _0x1ad1bc={'paths':[{'entityPath':_0x282fde,'component':'graph','propertyPath':['weight.'+_0x5730f5]}],'input':_0x4c08d8['input'],'output':-_0x2cca51,'interpolation':_0x4c08d8['interpolat'+'ion']};_0x2cca51++,_0x14f505['morphCurve'+'-'+_0x4cea70+'-'+_0xdcc0e]=_0x1ad1bc;}};for(_0x4cea70=-0x1038+0xad4+0x564;_0x4cea70<_0x5da9c8['channels']['length'];++_0x4cea70){const _0xa0331f=_0x5da9c8['channels'][_0x4cea70],_0x356253=_0xa0331f['target'],_0x45096b=_0x14f505[_0xa0331f['sampler']],_0x24e8cc=_0x40e52f[_0x356253['node']],_0x372d58=_0x192fe2[_0x356253['node']],_0x49768f=_0x241e5b(_0x24e8cc);_0x356253['path']['startsWith']('weights')?(_0x555229(_0x45096b,_0x372d58,_0x49768f),_0x14f505[_0xa0331f['sampler']]['morphCurve']=!(0x14e6+-0x2e0+0x6*-0x301)):_0x45096b['paths']['push']({'entityPath':_0x49768f,'component':'graph','propertyPath':[_0x1f441c[_0x356253['path']]]});}const _0x5399a9=[],_0x5b1ddd=[],_0x3d1b97=[];for(const _0x3c0a92 in _0x55c1d2)_0x5399a9['push'](_0x55c1d2[_0x3c0a92]),_0x55c1d2[_0x3c0a92]=_0x5399a9['length']-(0x3d*0x7a+-0x1403+-0x90e);for(const _0x172e7d in _0x2f4aff)_0x5b1ddd['push'](_0x2f4aff[_0x172e7d]),_0x2f4aff[_0x172e7d]=_0x5b1ddd['length']-(-0x4*-0x64e+-0x2189*-0x1+-0x3ac*0x10);for(const _0x597b08 in _0x14f505){const _0x1e2242=_0x14f505[_0x597b08];_0x1e2242['morphCurve']||(_0x3d1b97['push'](new v0(_0x1e2242['paths'],_0x55c1d2[_0x1e2242['input']],_0x2f4aff[_0x1e2242['output']],_0x1e2242['interpolat'+'ion'])),_0x1e2242['paths']['length']>-0x10b1+0x20fc*0x1+-0x104b&&_0x1e2242['paths'][0x4*-0x353+0xc42+-0x10a*-0x1]['propertyPa'+'th'][-0x6f2+0x2*0x3f8+-0x7f*0x2]==='localRotat'+'ion'&&_0x1e2242['interpolat'+'ion']!==yu&&_0x6c86e6['push'](_0x3d1b97[_0x3d1b97['length']-(0x1*-0x26dd+-0xca9*-0x3+0xe3)]['output']));}_0x6c86e6['sort']();let _0x2e591a=null,_0x20c477;for(_0x4cea70=0xc8+0x1b67+0xb9*-0x27;_0x4cea70<_0x6c86e6['length'];++_0x4cea70){const _0x2c66f3=_0x6c86e6[_0x4cea70];if(_0x4cea70===0xb1*0x32+0x464+-0x26f6*0x1||_0x2c66f3!==_0x2e591a){if(_0x20c477=_0x5b1ddd[_0x2c66f3],_0x20c477['components']===0x5cb*-0x5+0xc1d+0x10de){const _0xa91734=_0x20c477['data'],_0x15518b=_0xa91734['length']-(0x1d*0xa9+0xcd*-0x28+0xce7);for(let _0x524ba6=-0x1afd*-0x1+-0x6*0x4af+-0x13*-0xf;_0x524ba6<_0x15518b;_0x524ba6+=0x191*0x3+-0xc44*-0x2+0x1d37*-0x1)_0xa91734[_0x524ba6+(-0x2d1+0x1691+-0x13c0)]*_0xa91734[_0x524ba6+(0x28a+0x16aa+0xd0*-0x1f)]+_0xa91734[_0x524ba6+(0x3*0x9a3+0xfe*-0x25+-0xde*-0x9)]*_0xa91734[_0x524ba6+(0x1*0x2441+0x408+0x3*-0xd6c)]+_0xa91734[_0x524ba6+(0x2*0x10b2+0x1*-0xe7f+-0x3c7*0x5)]*_0xa91734[_0x524ba6+(-0x346+-0xa3*-0x17+-0x23*0x53)]+_0xa91734[_0x524ba6+(0x62c*0x3+0x1*-0x21a4+0xf23)]*_0xa91734[_0x524ba6+(0xfa9+0x8b9*0x4+-0x1943*0x2)]<-0x115a*0x2+0x1*-0x9b6+-0x1*-0x2c6a&&(_0xa91734[_0x524ba6+(0x241*-0xd+-0x4fe+0x224f)]*=-(-0x283*0x5+0xb*0x22c+0x4*-0x2d5),_0xa91734[_0x524ba6+(-0xde*-0x13+-0x1*0x731+-0x944)]*=-(-0x48*-0x1+-0x2312+0x3*0xb99),_0xa91734[_0x524ba6+(-0xf4*0x1a+-0x403+0x1cd1*0x1)]*=-(-0x135c+0xf1d+0x440),_0xa91734[_0x524ba6+(0x1*-0x1c47+0x2610+-0x9c2)]*=-(-0xd76*0x1+-0x90d+0x1684));}_0x2e591a=_0x2c66f3;}}let _0x48270d=0x10b6+0x20b5+-0x316b;for(_0x4cea70=0x1*-0xb72+-0x25aa+0x311c;_0x4cea70<_0x5399a9['length'];_0x4cea70++)_0x20c477=_0x5399a9[_0x4cea70]['_data'],_0x48270d=Math['max'](_0x48270d,_0x20c477['length']===0x1*-0x1ce9+-0x7f3*0x2+0x1*0x2ccf?-0x113+0x10*-0x95+0xa63:_0x20c477[_0x20c477['length']-(-0x425*-0x1+-0x1*-0x3a1+0xdd*-0x9)]);return new Qi(_0x5da9c8['hasOwnProp'+'erty']('name')?_0x5da9c8['name']:'animation_'+_0x5e3090,_0x48270d,_0x5399a9,_0x5b1ddd,_0x3d1b97);},Dc=new te(),Qa=new D(),vN=(_0x2549c0,_0x22e7dd,_0x19b979)=>{const _0x1abf76=new Ie();if(_0x2549c0['hasOwnProp'+'erty']('name')&&_0x2549c0['name']['length']>0x1de*-0x13+0x23f1+-0x77?_0x1abf76['name']=_0x2549c0['name']:_0x1abf76['name']='node_'+_0x22e7dd,_0x2549c0['hasOwnProp'+'erty']('matrix')&&(Dc['data']['set'](_0x2549c0['matrix']),Dc['getTransla'+'tion'](Qa),_0x1abf76['setLocalPo'+'sition'](Qa),Dc['getEulerAn'+'gles'](Qa),_0x1abf76['setLocalEu'+'lerAngles'](Qa),Dc['getScale'](Qa),_0x1abf76['setLocalSc'+'ale'](Qa)),_0x2549c0['hasOwnProp'+'erty']('rotation')){const _0x612341=_0x2549c0['rotation'];_0x1abf76['setLocalRo'+'tation'](_0x612341[0xebc+-0x6d*-0x1d+0x907*-0x3],_0x612341[0x1af1+0x2*0x349+0x10c1*-0x2],_0x612341[-0x1ce+-0x34*-0x4d+-0xdd4],_0x612341[-0x3c7*0xa+-0x1ca7+0x4270]);}if(_0x2549c0['hasOwnProp'+'erty']('translatio'+'n')){const _0x1bd3b5=_0x2549c0['translatio'+'n'];_0x1abf76['setLocalPo'+'sition'](_0x1bd3b5[0x8cc+0x49*0xd+-0x42b*0x3],_0x1bd3b5[0x208b*-0x1+-0x6af*0x4+-0x38*-0x10f],_0x1bd3b5[-0x2f*0x9f+-0x1c83+0x39b6*0x1]);}if(_0x2549c0['hasOwnProp'+'erty']('scale')){const _0x660fd3=_0x2549c0['scale'];_0x1abf76['setLocalSc'+'ale'](_0x660fd3[-0x1*-0x19f7+0x10c8+-0x2abf],_0x660fd3[0xe8f+0x1701+0x281*-0xf],_0x660fd3[-0xb*-0x385+0xe*0xe5+-0x333b]);}return _0x2549c0['hasOwnProp'+'erty']('extensions')&&_0x2549c0['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x19b979['set'](_0x2549c0,{'ext':_0x2549c0['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x1abf76;},xN=(_0x289c18,_0x4b253a)=>{const _0x1d0e4b=_0x289c18['type']==='orthograph'+'ic'?En:ni,_0x27f989=_0x1d0e4b===En?_0x289c18['orthograph'+'ic']:_0x289c18['perspectiv'+'e'],_0x67866c={'enabled':!(-0xcb4+0x63c+0x679),'projection':_0x1d0e4b,'nearClip':_0x27f989['znear'],'aspectRatioMode':hm};_0x27f989['zfar']&&(_0x67866c['farClip']=_0x27f989['zfar']),_0x1d0e4b===En?(_0x67866c['orthoHeigh'+'t']=(0xd4*0xd+0x258f+-0x8b*0x59+0.5)*_0x27f989['ymag'],_0x27f989['ymag']&&(_0x67866c['aspectRati'+'oMode']=lu,_0x67866c['aspectRati'+'o']=_0x27f989['xmag']/_0x27f989['ymag'])):(_0x67866c['fov']=_0x27f989['yfov']*Y['RAD_TO_DEG'],_0x27f989['aspectRati'+'o']&&(_0x67866c['aspectRati'+'oMode']=lu,_0x67866c['aspectRati'+'o']=_0x27f989['aspectRati'+'o']));const _0x438d10=new lt(_0x289c18['name']);return _0x438d10['addCompone'+'nt']('camera',_0x67866c),_0x438d10;},TN=(_0xdcbf0c,_0x360466)=>{const _0xb859d4={'enabled':!(0x2*0x311+0x1834+-0x5*0x611),'type':_0xdcbf0c['type']==='point'?'omni':_0xdcbf0c['type'],'color':_0xdcbf0c['hasOwnProp'+'erty']('color')?new ie(_0xdcbf0c['color']):ie['WHITE'],'range':_0xdcbf0c['hasOwnProp'+'erty']('range')?_0xdcbf0c['range']:0x3330+-0x2814+0x109*0x1b,'falloffMode':ev,'intensity':_0xdcbf0c['hasOwnProp'+'erty']('intensity')?Y['clamp'](_0xdcbf0c['intensity'],0x56*-0x13+0x805*0x4+-0xb*0x256,0x394+0x1*0x1d06+-0x2098):-0x18e4+-0xe9a+0x277f*0x1};_0xdcbf0c['hasOwnProp'+'erty']('spot')&&(_0xb859d4['innerConeA'+'ngle']=_0xdcbf0c['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0xdcbf0c['spot']['innerConeA'+'ngle']*Y['RAD_TO_DEG']:0xa*-0x245+0xa0*0x3b+-0xe2e,_0xb859d4['outerConeA'+'ngle']=_0xdcbf0c['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0xdcbf0c['spot']['outerConeA'+'ngle']*Y['RAD_TO_DEG']:Math['PI']/(0xc29+0x9b9*-0x1+-0x1*0x26c)),_0xdcbf0c['hasOwnProp'+'erty']('intensity')&&(_0xb859d4['luminance']=_0xdcbf0c['intensity']*pl['getLightUn'+'itConversi'+'on'](fu[_0xb859d4['type']],_0xb859d4['outerConeA'+'ngle'],_0xb859d4['innerConeA'+'ngle']));const _0x4c9e83=new lt(_0x360466['name']);return _0x4c9e83['rotateLoca'+'l'](0xe2c+0x2352+-0x154*0x25,-0xb2b+0x24ad+-0x1982,-0xc06+0xe27*0x1+0x221*-0x1),_0x4c9e83['addCompone'+'nt']('light',_0xb859d4),_0x4c9e83;},wN=(_0x67c47c,_0x31e330,_0x5aa849,_0x26696e)=>{if(!_0x31e330['hasOwnProp'+'erty']('skins')||_0x31e330['skins']['length']===0xf7c*0x2+0x1b37+-0x3a2f)return[];const _0x4bb34b=new Map();return _0x31e330['skins']['map'](_0x3d7106=>rN(_0x67c47c,_0x3d7106,_0x31e330['accessors'],_0x26696e,_0x5aa849,_0x4bb34b));},EN=(_0xd261ec,_0x4ffc2f,_0x419e97,_0x5a5c8b)=>{var _0x3e8e74,_0xdbbef8,_0x7102d1;const _0x10685a={},_0x3e33ea={},_0x4669cd={},_0xa621a2=[];return{'meshes':!_0x5a5c8b['skipMeshes']&&((_0x3e8e74=_0x4ffc2f==null?void(0xe78+0x10*-0x115+0x2d8):_0x4ffc2f['meshes'])==null?void(-0x1ffa*-0x1+-0x245b+0x461):_0x3e8e74['length'])&&((_0xdbbef8=_0x4ffc2f==null?void(0x1df8+0x1*0x188b+-0x3683*0x1):_0x4ffc2f['accessors'])==null?void(-0xd*0x1a7+0xd01+-0x1b2*-0x5):_0xdbbef8['length'])&&((_0x7102d1=_0x4ffc2f==null?void(-0xb3*-0x27+-0x11*-0x21e+-0x3f43):_0x4ffc2f['bufferView'+'s'])==null?void(0x117e+0x1*-0x4af+-0xccf):_0x7102d1['length'])?_0x4ffc2f['meshes']['map'](_0x30cb51=>nN(_0xd261ec,_0x30cb51,_0x4ffc2f['accessors'],_0x419e97,_0x10685a,_0x3e33ea,_0x4669cd,_0x5a5c8b,_0xa621a2)):[],'meshVariants':_0x3e33ea,'meshDefaultMaterials':_0x4669cd,'promises':_0xa621a2};},bN=(_0x57c12c,_0x55adbe,_0x178053)=>{var _0x3dd05b,_0xe3400f,_0x5f210d;if(!_0x57c12c['hasOwnProp'+'erty']('materials')||_0x57c12c['materials']['length']===-0x1*0xd6b+-0x50e*-0x6+-0x75*0x25)return[];const _0x2d1232=(_0x3dd05b=_0x178053==null?void(0x16a9+-0x12aa+-0x3ff):_0x178053['material'])==null?void(0x1744+0x16af*-0x1+-0x95):_0x3dd05b['preprocess'],_0x19fea2=((_0xe3400f=_0x178053==null?void(-0x259f+0x1b*0xd+0x8*0x488):_0x178053['material'])==null?void(0xb0b+0xaed*0x1+-0x15f8):_0xe3400f['process'])??w0,_0x16f74a=(_0x5f210d=_0x178053==null?void(0x2100+0x1be6+0x1*-0x3ce6):_0x178053['material'])==null?void(-0x218*-0x12+0xe*-0x236+-0x6bc):_0x5f210d['postproces'+'s'];return _0x57c12c['materials']['map'](_0x4f2ab3=>{_0x2d1232&&_0x2d1232(_0x4f2ab3);const _0x59fdcf=_0x19fea2(_0x4f2ab3,_0x55adbe);return _0x16f74a&&_0x16f74a(_0x4f2ab3,_0x59fdcf),_0x59fdcf;});},AN=_0x21f677=>{if(!_0x21f677['hasOwnProp'+'erty']('extensions')||!_0x21f677['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x27bf15=_0x21f677['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x582db7={};for(let _0x47bc2f=-0xd0+0x361*0x5+-0x1015;_0x47bc2f<_0x27bf15['length'];_0x47bc2f++)_0x582db7[_0x27bf15[_0x47bc2f]['name']]=_0x47bc2f;return _0x582db7;},CN=(_0x4f7f2f,_0x1d20fe,_0x587a10,_0x163c51)=>{var _0x4dbcd9,_0x16ae4b;if(!_0x4f7f2f['hasOwnProp'+'erty']('animations')||_0x4f7f2f['animations']['length']===0x2be+-0x5a5*0x5+0x197b)return[];const _0x278a65=(_0x4dbcd9=_0x163c51==null?void(-0x1acb*-0x1+0x1440+0x2f0b*-0x1):_0x163c51['animation'])==null?void(0xa*0x10b+-0x5*-0x49e+-0xb*0x30c):_0x4dbcd9['preprocess'],_0x11cce4=(_0x16ae4b=_0x163c51==null?void(0x1442+0x202*0x5+-0x1*0x1e4c):_0x163c51['animation'])==null?void(0xb4+0x521*-0x3+0xeaf):_0x16ae4b['postproces'+'s'];return _0x4f7f2f['animations']['map']((_0x4d1f68,_0x185bda)=>{_0x278a65&&_0x278a65(_0x4d1f68);const _0x529cca=yN(_0x4d1f68,_0x185bda,_0x4f7f2f['accessors'],_0x587a10,_0x1d20fe,_0x4f7f2f['meshes'],_0x4f7f2f['nodes']);return _0x11cce4&&_0x11cce4(_0x4d1f68,_0x529cca),_0x529cca;});},PN=(_0x5064ef,_0x2e4595,_0x16b997,_0x375fe1)=>{const _0x2f2e3b=_0x2e4595['accessors'];_0x16b997['forEach']((_0x56bb90,_0xf40278)=>{const _0x2b60ef=_0x56bb90['ext']['attributes'];let _0x7606b2;if(_0x2b60ef['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x273e0b=_0x2f2e3b[_0x2b60ef['TRANSLATIO'+'N']];_0x7606b2=Pn(_0x273e0b,_0x375fe1);}let _0x439a8f;if(_0x2b60ef['hasOwnProp'+'erty']('ROTATION')){const _0x3acaf8=_0x2f2e3b[_0x2b60ef['ROTATION']];_0x439a8f=Pn(_0x3acaf8,_0x375fe1);}let _0x195721;if(_0x2b60ef['hasOwnProp'+'erty']('SCALE')){const _0x1c4b75=_0x2f2e3b[_0x2b60ef['SCALE']];_0x195721=Pn(_0x1c4b75,_0x375fe1);}const _0x2bf4d0=(_0x7606b2?_0x7606b2['length']/(-0x1*0xeb6+-0xc*0xc7+0x180d):0x2*0xc38+0x5c3*0x6+-0xa6*0x5b)||(_0x439a8f?_0x439a8f['length']/(0x1e2b+-0xa4c+0x13db*-0x1):-0x9*0x2d9+0x215b+-0x7ba)||(_0x195721?_0x195721['length']/(-0x1*-0x12d5+0xcc3+0x483*-0x7):-0x257*0x1+0x1*-0x1031+-0x8*-0x251);if(_0x2bf4d0){const _0x450dd6=new Float32Array(_0x2bf4d0*(-0x1e9c+0x17af+0x6fd)),_0x55504a=new D(),_0x50a255=new le(),_0x2b4995=new D(-0x455*-0x5+-0x2be*-0xa+0x12*-0x2ba,-0x761*-0x5+-0x1b2e*-0x1+-0x4012,0x9c1*0x2+0x2f*-0xa3+-0x29b*-0x4),_0x113282=new te();let _0x1522b9=0x1e9b+-0x1386+-0xb15;for(let _0x5e503c=-0xbea*-0x3+-0xb*-0x33+0xf9*-0x27;_0x5e503c<_0x2bf4d0;_0x5e503c++){const _0x52e9d9=_0x5e503c*(0x13e7*-0x1+-0x1997*0x1+0x2d81);if(_0x7606b2&&_0x55504a['set'](_0x7606b2[_0x52e9d9],_0x7606b2[_0x52e9d9+(-0x1*0x138f+-0x2*0xfb7+0x32fe)],_0x7606b2[_0x52e9d9+(0xa*0x44+0x2512+-0xf8*0x29)]),_0x439a8f){const _0x567afc=_0x5e503c*(-0x2028+0xba7+0x1485);_0x50a255['set'](_0x439a8f[_0x567afc],_0x439a8f[_0x567afc+(-0x1f02+-0xe4a+0x1*0x2d4d)],_0x439a8f[_0x567afc+(-0x73*-0x3d+-0xa*-0x175+-0x29f7*0x1)],_0x439a8f[_0x567afc+(0x1109+0x1*-0x1a4d+0x947)]);}_0x195721&&_0x2b4995['set'](_0x195721[_0x52e9d9],_0x195721[_0x52e9d9+(-0x109*0x2+0xe74+-0xc61)],_0x195721[_0x52e9d9+(-0x1b8e+0x1*-0xe16+0x29a6)]),_0x113282['setTRS'](_0x55504a,_0x50a255,_0x2b4995);for(let _0x3e4d18=-0xfa5+0x1*0x31c+0xc89;_0x3e4d18<-0x1*-0x1fcb+-0x6d0*-0x1+0xcd9*-0x3;_0x3e4d18++)_0x450dd6[_0x1522b9++]=_0x113282['data'][_0x3e4d18];}_0x56bb90['matrices']=_0x450dd6;}});},MN=(_0x4ddaa8,_0x2ca75d,_0x45e2d0)=>{var _0xb221e4,_0x4813c8,_0x5b2ef4;if(!_0x4ddaa8['hasOwnProp'+'erty']('nodes')||_0x4ddaa8['nodes']['length']===0x963+0x1afa*-0x1+0x4f*0x39)return[];const _0x1fdfd6=(_0xb221e4=_0x2ca75d==null?void(0x5*-0x274+0x4*0x719+-0x1020):_0x2ca75d['node'])==null?void(0x13*0xcb+-0x1337+0x426):_0xb221e4['preprocess'],_0x285ae6=((_0x4813c8=_0x2ca75d==null?void(0x1d96+0x2fb*0x7+-0x3273):_0x2ca75d['node'])==null?void(0x241c+-0x1b0f+-0x90d):_0x4813c8['process'])??vN,_0x174e18=(_0x5b2ef4=_0x2ca75d==null?void(0x223+-0x182a+0x1607):_0x2ca75d['node'])==null?void(-0x593*-0x1+0x13*-0xc1+0xe0*0xa):_0x5b2ef4['postproces'+'s'],_0x27ac5e=_0x4ddaa8['nodes']['map']((_0x10d14c,_0x464959)=>{_0x1fdfd6&&_0x1fdfd6(_0x10d14c);const _0x120d5d=_0x285ae6(_0x10d14c,_0x464959,_0x45e2d0);return _0x174e18&&_0x174e18(_0x10d14c,_0x120d5d),_0x120d5d;});for(let _0x1a95a6=-0xb3*-0x2b+0x270e*-0x1+0x8fd;_0x1a95a6<_0x4ddaa8['nodes']['length'];++_0x1a95a6){const _0x5959ea=_0x4ddaa8['nodes'][_0x1a95a6];if(_0x5959ea['hasOwnProp'+'erty']('children')){const _0x532359=_0x27ac5e[_0x1a95a6],_0x25d888={};for(let _0x45b9dd=-0x2d1*-0x1+0xe3f+0x6*-0x2d8;_0x45b9dd<_0x5959ea['children']['length'];++_0x45b9dd){const _0x1067b6=_0x27ac5e[_0x5959ea['children'][_0x45b9dd]];_0x1067b6['parent']||(_0x25d888['hasOwnProp'+'erty'](_0x1067b6['name'])?_0x1067b6['name']+=_0x25d888[_0x1067b6['name']]++:_0x25d888[_0x1067b6['name']]=0x1*0xf07+-0x1be9+0xce3*0x1,_0x532359['addChild'](_0x1067b6));}}}return _0x27ac5e;},DN=(_0x5974d7,_0x132125)=>{var _0x1fc5d7;const _0x4772b6=[],_0x386c5c=_0x5974d7['scenes']['length'];if(_0x386c5c===0x232f*-0x1+-0x1*-0xf07+0x1429&&((_0x1fc5d7=_0x5974d7['scenes'][0x1*-0x85a+-0x1*-0x1507+-0xcad]['nodes'])==null?void(-0x2687+-0x222e+0x48b5):_0x1fc5d7['length'])===0xa2*-0x33+0x2157+-0x8*0x22){const _0x2f6af5=_0x5974d7['scenes'][-0x1a52+-0x20b9+-0x1*-0x3b0b]['nodes'][-0x495+0xb0f+-0x67a];_0x4772b6['push'](_0x132125[_0x2f6af5]);}else for(let _0x3ee0ec=-0x10b0+0x4*-0x581+0x4*0x9ad;_0x3ee0ec<_0x386c5c;_0x3ee0ec++){const _0x407a6e=_0x5974d7['scenes'][_0x3ee0ec];if(_0x407a6e['nodes']){const _0x40ba05=new Ie(_0x407a6e['name']);for(let _0x21679c=-0x1571*0x1+-0x18a0+0x2e11;_0x21679c<_0x407a6e['nodes']['length'];_0x21679c++){const _0x748f6e=_0x132125[_0x407a6e['nodes'][_0x21679c]];_0x40ba05['addChild'](_0x748f6e);}_0x4772b6['push'](_0x40ba05);}}return _0x4772b6;},IN=(_0x333cec,_0xe0cc97,_0x886a15)=>{var _0x471743,_0x1c2932,_0x41dbc0;let _0x47327f=null;if(_0x333cec['hasOwnProp'+'erty']('nodes')&&_0x333cec['hasOwnProp'+'erty']('cameras')&&_0x333cec['cameras']['length']>0x3*0x98f+0xb5a*-0x1+-0x1153*0x1){const _0x3f8c59=(_0x471743=_0x886a15==null?void(0x261a+-0xd*-0x2b6+-0x4958*0x1):_0x886a15['camera'])==null?void(0x62*0x1f+0x2208+0x16f3*-0x2):_0x471743['preprocess'],_0x360321=((_0x1c2932=_0x886a15==null?void(0x1cad+0x1*0x18b2+-0x355f):_0x886a15['camera'])==null?void(-0x19*-0xb+-0xad*0x31+0xaae*0x3):_0x1c2932['process'])??xN,_0x983350=(_0x41dbc0=_0x886a15==null?void(-0x54f*-0x5+-0x1e*-0x37+0x233*-0xf):_0x886a15['camera'])==null?void(-0x71f+-0xfbd*0x2+0x29*0xf1):_0x41dbc0['postproces'+'s'];_0x333cec['nodes']['forEach']((_0x24312b,_0x309b94)=>{if(_0x24312b['hasOwnProp'+'erty']('camera')){const _0x3c2be2=_0x333cec['cameras'][_0x24312b['camera']];if(_0x3c2be2){_0x3f8c59&&_0x3f8c59(_0x3c2be2);const _0x4bf3d3=_0x360321(_0x3c2be2,_0xe0cc97[_0x309b94]);_0x983350&&_0x983350(_0x3c2be2,_0x4bf3d3),_0x4bf3d3&&(_0x47327f||(_0x47327f=new Map()),_0x47327f['set'](_0x24312b,_0x4bf3d3));}}});}return _0x47327f;},LN=(_0x2248e0,_0x181314,_0x6816b8)=>{var _0x39f55c,_0x70b828,_0x8d709;let _0x3bcc3c=null;if(_0x2248e0['hasOwnProp'+'erty']('nodes')&&_0x2248e0['hasOwnProp'+'erty']('extensions')&&_0x2248e0['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x2248e0['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x1e4ca5=_0x2248e0['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x1e4ca5['length']){const _0x267e09=(_0x39f55c=_0x6816b8==null?void(-0x241a+-0x21c5+-0x1*-0x45df):_0x6816b8['light'])==null?void(0xc*-0x167+-0x197d+0x2a51):_0x39f55c['preprocess'],_0x1ab7f5=((_0x70b828=_0x6816b8==null?void(-0xa64*-0x2+0x1*0x21c7+0x368f*-0x1):_0x6816b8['light'])==null?void(-0xad1*0x1+0x5b5*-0x5+0x49*0x8a):_0x70b828['process'])??TN,_0x13e4bb=(_0x8d709=_0x6816b8==null?void(-0x3*0x887+-0xb56+0x24eb):_0x6816b8['light'])==null?void(-0x73c*0x3+-0x37b+-0x1*-0x192f):_0x8d709['postproces'+'s'];_0x2248e0['nodes']['forEach']((_0xf585d,_0x2ff9ec)=>{if(_0xf585d['hasOwnProp'+'erty']('extensions')&&_0xf585d['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0xf585d['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0xfefd9d=_0xf585d['extensions']['KHR_lights'+'_punctual']['light'],_0x4c7ce8=_0x1e4ca5[_0xfefd9d];if(_0x4c7ce8){_0x267e09&&_0x267e09(_0x4c7ce8);const _0x33b7eb=_0x1ab7f5(_0x4c7ce8,_0x181314[_0x2ff9ec]);_0x13e4bb&&_0x13e4bb(_0x4c7ce8,_0x33b7eb),_0x33b7eb&&(_0x3bcc3c||(_0x3bcc3c=new Map()),_0x3bcc3c['set'](_0xf585d,_0x33b7eb));}}});}}return _0x3bcc3c;},RN=(_0x49c2af,_0x4aa4db,_0x3f7c44)=>{_0x49c2af['nodes']['forEach'](_0x5cce7b=>{_0x5cce7b['hasOwnProp'+'erty']('mesh')&&_0x5cce7b['hasOwnProp'+'erty']('skin')&&_0x4aa4db[_0x5cce7b['mesh']]['meshes']['forEach'](_0x12e78b=>{_0x12e78b['skin']=_0x3f7c44[_0x5cce7b['skin']];});});},ON=async(_0x237e45,_0x288c25,_0x35d5a4,_0x4643ff,_0xccc7e4)=>{var _0x2d492a,_0xe60715;const _0x2e0100=(_0x2d492a=_0xccc7e4==null?void(0x1577+0x1077+-0x12f7*0x2):_0xccc7e4['global'])==null?void(0x2f9*-0x3+-0x2*-0x4f5+-0xff):_0x2d492a['preprocess'],_0x2eba27=(_0xe60715=_0xccc7e4==null?void(-0xf54+-0x1*0x1bd2+-0x2b26*-0x1):_0xccc7e4['global'])==null?void(0xf1c+0x1*-0x94a+-0x5d2):_0xe60715['postproces'+'s'];_0x2e0100&&_0x2e0100(_0x288c25),_0x288c25['asset']&&_0x288c25['asset']['generator']==='PlayCanvas'&&w['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x14b881=new Map(),_0x1d0147=MN(_0x288c25,_0xccc7e4,_0x14b881),_0x35f3cd=DN(_0x288c25,_0x1d0147),_0x31a36c=LN(_0x288c25,_0x1d0147,_0xccc7e4),_0x4989f3=IN(_0x288c25,_0x1d0147,_0xccc7e4),_0x3eaf7f=AN(_0x288c25),_0x3d7cb7=await Promise['all'](_0x35d5a4),{meshes:_0x51dc0c,meshVariants:_0x5efc9d,meshDefaultMaterials:_0x8e9858,promises:_0xc0963f}=EN(_0x237e45,_0x288c25,_0x3d7cb7,_0xccc7e4),_0x11641c=CN(_0x288c25,_0x1d0147,_0x3d7cb7,_0xccc7e4);PN(_0x237e45,_0x288c25,_0x14b881,_0x3d7cb7);const _0x1580d8=await Promise['all'](_0x4643ff),_0x43b41a=_0x1580d8['map'](_0x1748fa=>_0x1748fa['resource']),_0x379bab=bN(_0x288c25,_0x43b41a,_0xccc7e4),_0x7c4a52=wN(_0x237e45,_0x288c25,_0x1d0147,_0x3d7cb7),_0x2a95e1=[];for(let _0x4920de=-0x1b6a+-0x3a1*0x3+0x264d;_0x4920de<_0x51dc0c['length'];_0x4920de++)_0x2a95e1[_0x4920de]=new Em(),_0x2a95e1[_0x4920de]['meshes']=_0x51dc0c[_0x4920de];RN(_0x288c25,_0x2a95e1,_0x7c4a52);const _0x1f6031=new qF();return _0x1f6031['gltf']=_0x288c25,_0x1f6031['nodes']=_0x1d0147,_0x1f6031['scenes']=_0x35f3cd,_0x1f6031['animations']=_0x11641c,_0x1f6031['textures']=_0x1580d8,_0x1f6031['materials']=_0x379bab,_0x1f6031['variants']=_0x3eaf7f,_0x1f6031['meshVarian'+'ts']=_0x5efc9d,_0x1f6031['meshDefaul'+'tMaterials']=_0x8e9858,_0x1f6031['renders']=_0x2a95e1,_0x1f6031['skins']=_0x7c4a52,_0x1f6031['lights']=_0x31a36c,_0x1f6031['cameras']=_0x4989f3,_0x1f6031['nodeInstan'+'cingMap']=_0x14b881,_0x2eba27&&_0x2eba27(_0x288c25,_0x1f6031),await Promise['all'](_0xc0963f),_0x1f6031;},FN=(_0x56c339,_0x48146e)=>{const _0x31bde7=(_0x47e666,_0x51f234)=>{switch(_0x47e666){case-0x45d9*0x1+-0x34*-0xc5+0x73*0x97:return Te;case 0x2f*-0xc1+0xabd+0x3eb3:return vt;case-0x1*0x4b4+-0x1*-0x3235+-0xf*0x6f:return Kh;case-0x4297+-0x487a+-0xb212*-0x1:return Qh;case-0xfcf+0xe10+-0x28c1*-0x1:return Zh;case 0x240d+-0x3*-0x6e6+-0x11bc:return ma;default:return _0x51f234;}},_0x49d5be=(_0x1e98db,_0x3b0298)=>{switch(_0x1e98db){case-0xbc53*-0x1+0x56a1*0x1+-0x6f1*0x15:return ue;case-0x4ef4+-0x46a*-0x2e+0x758*0x1:return ip;case 0x1*-0x7be+0x3da1+0x11*-0xc2:return yt;default:return _0x3b0298;}};_0x56c339&&(_0x48146e=_0x48146e??{},_0x56c339['minFilter']=_0x31bde7(_0x48146e['minFilter'],ma),_0x56c339['magFilter']=_0x31bde7(_0x48146e['magFilter'],vt),_0x56c339['addressU']=_0x49d5be(_0x48146e['wrapS'],yt),_0x56c339['addressV']=_0x49d5be(_0x48146e['wrapT'],yt));};let NN=0x1122+0x1609+-0x272b;const nn=_0x3ad300=>{var _0x356178,_0x4e7328,_0x4c4f06,_0x37d292;return((_0x4e7328=(_0x356178=_0x3ad300['extensions'])==null?void(-0xab9+0xa*0x1eb+-0x1b1*0x5):_0x356178['KHR_textur'+'e_basisu'])==null?void(-0x2273+-0x3e6+0x2659):_0x4e7328['source'])??((_0x37d292=(_0x4c4f06=_0x3ad300['extensions'])==null?void(-0x9f*-0xd+0x10dd*-0x1+0x2*0x465):_0x4c4f06['EXT_textur'+'e_webp'])==null?void(0x5*0x746+-0x2b4+-0x21aa):_0x37d292['source'])??_0x3ad300['source'];},kN=(_0x56c73c,_0x18cc01,_0x4b741d,_0x42e54c,_0x443ab7)=>{var _0x304944,_0x483b05,_0x1c4cdc;if(!_0x56c73c['images']||_0x56c73c['images']['length']===-0x2*0x5e7+-0x10c1+0x1c8f)return[];const _0x4d6e6b=(_0x304944=_0x443ab7==null?void(-0x1c4*0xa+-0xf6d+-0xb07*-0x3):_0x443ab7['image'])==null?void(-0x1*0xb5b+0xc91*0x3+-0x1a58):_0x304944['preprocess'],_0x30b339=(_0x483b05=_0x443ab7==null?void(0x201d*-0x1+0x685*-0x2+0x3*0xf0d):_0x443ab7['image'])==null?void(0x84c+-0x21d*-0xb+-0x1f8b):_0x483b05['processAsy'+'nc'],_0x1ea8e3=(_0x1c4cdc=_0x443ab7==null?void(0x4*0x6d7+-0xf24+-0xc38):_0x443ab7['image'])==null?void(-0x1*0xfb3+-0x1a5*-0xb+-0x264):_0x1c4cdc['postproces'+'s'],_0x4a2fdb={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x3b4725=_0x10f3bf=>{const _0x5aaa7d=new Set();return _0x10f3bf['hasOwnProp'+'erty']('materials')&&_0x10f3bf['materials']['forEach'](_0x5bc713=>{if(_0x5bc713['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x542526=_0x5bc713['pbrMetalli'+'cRoughness'];if(_0x542526['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x3eb59d=_0x10f3bf['textures'][_0x542526['baseColorT'+'exture']['index']];_0x5aaa7d['add'](nn(_0x3eb59d));}}if(_0x5bc713['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x2ba0c1=_0x10f3bf['textures'][_0x5bc713['emissiveTe'+'xture']['index']];_0x5aaa7d['add'](nn(_0x2ba0c1));}if(_0x5bc713['hasOwnProp'+'erty']('extensions')){const _0x4764f0=_0x5bc713['extensions']['KHR_materi'+'als_sheen'];if(_0x4764f0&&_0x4764f0['hasOwnProp'+'erty']('sheenColor'+'Texture')){const _0x37ec75=_0x10f3bf['textures'][_0x4764f0['sheenColor'+'Texture']['index']];_0x5aaa7d['add'](nn(_0x37ec75));}const _0x240ea7=_0x5bc713['extensions']['KHR_materi'+'als_pbrSpe'+'cularGloss'+'iness'];if(_0x240ea7&&_0x240ea7['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x171afd=_0x10f3bf['textures'][_0x240ea7['specularGl'+'ossinessTe'+'xture']['index']];_0x5aaa7d['add'](nn(_0x171afd));}const _0x12eef0=_0x5bc713['extensions']['KHR_materi'+'als_specul'+'ar'];if(_0x12eef0&&_0x12eef0['hasOwnProp'+'erty']('specularCo'+'lorTexture')){const _0x2678e7=_0x10f3bf['textures'][_0x12eef0['specularCo'+'lorTexture']['index']];_0x5aaa7d['add'](nn(_0x2678e7));}}}),_0x5aaa7d;},_0x46af27=(_0x47f161,_0x5ef813,_0x4d9f60,_0x15c3d0,_0xd8277f,_0x3df5ab)=>new Promise((_0x5bd2b2,_0x4b321a)=>{const _0x50ed3e=_0x2a2c64=>{const _0x343c3b=(_0x47f161['name']||'gltf-textu'+'re')+'-'+NN++,_0x4afde3={'url':_0x5ef813||_0x343c3b};if(_0x2a2c64&&(_0x4afde3['contents']=_0x2a2c64['slice'](-0x43d+-0x1955*0x1+0x1d92)['buffer']),_0x15c3d0){const _0x4fe4ab=_0x4a2fdb[_0x15c3d0];_0x4fe4ab&&(_0x4afde3['filename']=_0x4afde3['url']+'.'+_0x4fe4ab);}const _0x2dcb19={'srgb':_0x3df5ab},_0x34fd35=new pe(_0x343c3b,'texture',_0x4afde3,_0x2dcb19,_0xd8277f);_0x34fd35['on']('load',_0x4dae00=>_0x5bd2b2(_0x4dae00)),_0x34fd35['on']('error',_0x150fc1=>_0x4b321a(_0x150fc1)),_0x42e54c['add'](_0x34fd35),_0x42e54c['load'](_0x34fd35);};_0x4d9f60?_0x4d9f60['then'](_0x9021c0=>_0x50ed3e(_0x9021c0)):_0x50ed3e(null);}),_0x6d970e=_0x3b4725(_0x56c73c);return _0x56c73c['images']['map']((_0x466adb,_0x1bf1d5)=>{_0x4d6e6b&&_0x4d6e6b(_0x466adb);let _0x1b95a4;return _0x30b339?_0x1b95a4=new Promise((_0x51c0f3,_0x5b93d8)=>{_0x30b339(_0x466adb,(_0x50f590,_0x4be080)=>{_0x50f590?_0x5b93d8(_0x50f590):_0x51c0f3(_0x4be080);});}):_0x1b95a4=new Promise(_0x2a53e9=>{_0x2a53e9(null);}),_0x1b95a4=_0x1b95a4['then'](_0x141592=>{const _0x1c303c=_0x6d970e['has'](_0x1bf1d5);return _0x141592||(_0x466adb['hasOwnProp'+'erty']('uri')?x0(_0x466adb['uri'])?_0x46af27(_0x466adb,_0x466adb['uri'],null,jF(_0x466adb['uri']),null,_0x1c303c):_0x46af27(_0x466adb,jn['test'](_0x466adb['uri'])?_0x466adb['uri']:xe['join'](_0x4b741d,_0x466adb['uri']),null,null,{'crossOrigin':'anonymous'},_0x1c303c):_0x466adb['hasOwnProp'+'erty']('bufferView')&&_0x466adb['hasOwnProp'+'erty']('mimeType')?_0x46af27(_0x466adb,null,_0x18cc01[_0x466adb['bufferView']],_0x466adb['mimeType'],null,_0x1c303c):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x1bf1d5)));}),_0x1ea8e3&&(_0x1b95a4=_0x1b95a4['then'](_0x4cff83=>(_0x1ea8e3(_0x466adb,_0x4cff83),_0x4cff83))),_0x1b95a4;});},UN=(_0x4e4e40,_0x3aa5e4,_0x57c890)=>{var _0x10ae4c,_0x2a2e0b,_0x477b0b,_0x16d29d,_0x1a1671;if(!((_0x10ae4c=_0x4e4e40==null?void(0x15ff+-0x9dd+-0x2*0x611):_0x4e4e40['images'])!=null&&_0x10ae4c['length'])||!((_0x2a2e0b=_0x4e4e40==null?void(-0x1ae*0x7+0x2081*0x1+-0x14bf):_0x4e4e40['textures'])!=null&&_0x2a2e0b['length']))return[];const _0x53b2eb=(_0x477b0b=_0x57c890==null?void(0x1*-0x2543+-0x20b5*-0x1+0x48e):_0x57c890['texture'])==null?void(0x88b+-0x1*-0x13d6+-0x1c61):_0x477b0b['preprocess'],_0xa2e6d6=(_0x16d29d=_0x57c890==null?void(-0x1*-0xf2e+0x3ce+-0x12fc):_0x57c890['texture'])==null?void(-0x125*-0x5+0x239b+0x211*-0x14):_0x16d29d['processAsy'+'nc'],_0x2af50c=(_0x1a1671=_0x57c890==null?void(-0x12*0x5b+-0x53d+0x14b*0x9):_0x57c890['texture'])==null?void(0x617+-0x1*-0x1f51+-0x2568):_0x1a1671['postproces'+'s'],_0x25f521=new Set();return _0x4e4e40['textures']['map'](_0x460648=>{_0x53b2eb&&_0x53b2eb(_0x460648);let _0xb6efb4;return _0xa2e6d6?_0xb6efb4=new Promise((_0x18a757,_0x18eea4)=>{_0xa2e6d6(_0x460648,_0x4e4e40['images'],(_0x346bae,_0x572f86)=>{_0x346bae?_0x18eea4(_0x346bae):_0x18a757(_0x572f86);});}):_0xb6efb4=new Promise(_0x2e2cf9=>{_0x2e2cf9(null);}),_0xb6efb4=_0xb6efb4['then'](_0x229a71=>{_0x229a71=_0x229a71??nn(_0x460648);const _0x446902=_0x25f521['has'](_0x229a71);return _0x25f521['add'](_0x229a71),_0x3aa5e4[_0x229a71]['then'](_0x44ace7=>{const _0x1a2e21=_0x446902?tN(_0x44ace7):_0x44ace7;return FN(_0x1a2e21['resource'],(_0x4e4e40['samplers']??[])[_0x460648['sampler']]),_0x1a2e21;});}),_0x2af50c&&(_0xb6efb4=_0xb6efb4['then'](_0x3f7d32=>(_0x2af50c(_0x460648,_0x3f7d32),_0x3f7d32))),_0xb6efb4;});},BN=(_0x109ae5,_0x1cac68,_0x6d151e,_0x3c3d98)=>{var _0x5eed30,_0x517069,_0x4e7964;if(!_0x109ae5['buffers']||_0x109ae5['buffers']['length']===0x332*-0xa+-0x2f1*-0xd+-0x649*0x1)return[];const _0x5d4b25=(_0x5eed30=_0x3c3d98==null?void(-0x1e32+-0x1*0x1ad7+0x3909):_0x3c3d98['buffer'])==null?void(0x1b75+-0x1751+-0x424):_0x5eed30['preprocess'],_0x29557c=(_0x517069=_0x3c3d98==null?void(-0xe*0x277+0x1*-0x2501+0x4783):_0x3c3d98['buffer'])==null?void(0x8+-0x1c34+0xe16*0x2):_0x517069['processAsy'+'nc'],_0x4d26f9=(_0x4e7964=_0x3c3d98==null?void(-0x13b5+0xe3b+0x57a):_0x3c3d98['buffer'])==null?void(-0x5c1*0x1+-0xd*-0x31+0x344):_0x4e7964['postproces'+'s'];return _0x109ae5['buffers']['map']((_0x757687,_0x28c8fc)=>{_0x5d4b25&&_0x5d4b25(_0x757687);let _0x37f45a;return _0x29557c?_0x37f45a=new Promise((_0x2ae61b,_0x2f0673)=>{_0x29557c(_0x757687,(_0x3e8545,_0x14fc77)=>{_0x3e8545?_0x2f0673(_0x3e8545):_0x2ae61b(_0x14fc77);});}):_0x37f45a=new Promise(_0x4b0c03=>{_0x4b0c03(null);}),_0x37f45a=_0x37f45a['then'](_0x5f0413=>{if(_0x5f0413)return _0x5f0413;if(_0x757687['hasOwnProp'+'erty']('uri')){if(x0(_0x757687['uri'])){const _0x53c48b=atob(_0x757687['uri']['split'](',')[0xff4+-0x1*-0x1e89+-0x2e7c]),_0x577313=new Uint8Array(_0x53c48b['length']);for(let _0x33ea52=-0x5*0x7c7+-0x4*-0x182+-0x287*-0xd;_0x33ea52<_0x53c48b['length'];_0x33ea52++)_0x577313[_0x33ea52]=_0x53c48b['charCodeAt'](_0x33ea52);return _0x577313;}return new Promise((_0x4ec191,_0x47a647)=>{ot['get'](jn['test'](_0x757687['uri'])?_0x757687['uri']:xe['join'](_0x6d151e,_0x757687['uri']),{'cache':!(-0x23*0xbe+0x246c+-0xa72),'responseType':'arraybuffe'+'r','retry':!(-0x8*0x414+0x1a33+0x66e)},(_0x1380b7,_0x1c06b3)=>{_0x1380b7?_0x47a647(_0x1380b7):_0x4ec191(new Uint8Array(_0x1c06b3));});});}return _0x1cac68;}),_0x4d26f9&&(_0x37f45a=_0x37f45a['then'](_0x33e02d=>(_0x4d26f9(_0x109ae5['buffers'][_0x28c8fc],_0x33e02d),_0x33e02d))),_0x37f45a;});},zN=(_0x17fc5b,_0x1fe2c4)=>{const _0x217079=JSON['parse']((_0x226dea=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x226dea);let _0x1c00c8='';for(let _0x156e81=0x1f3+0x4*0x132+-0x6bb;_0x156e81<_0x226dea['length'];_0x156e81++)_0x1c00c8+=String['fromCharCo'+'de'](_0x226dea[_0x156e81]);return decodeURIComponent(escape(_0x1c00c8));})(_0x17fc5b));if(_0x217079['asset']&&_0x217079['asset']['version']&&parseFloat(_0x217079['asset']['version'])<0x2*-0xf76+-0xde8+-0xef2*-0x3){_0x1fe2c4('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x217079['asset']['version']+'\x27.');return;}_0x1fe2c4(null,_0x217079);},VN=(_0x3d3442,_0x30091b)=>{const _0x49bd3a=_0x3d3442 instanceof ArrayBuffer?new DataView(_0x3d3442):new DataView(_0x3d3442['buffer'],_0x3d3442['byteOffset'],_0x3d3442['byteLength']),_0x22533e=_0x49bd3a['getUint32'](-0x1433+-0x1b77*0x1+0x2faa,!(-0x3*-0xa5d+-0x1d3c*0x1+-0x1db)),_0x2c526f=_0x49bd3a['getUint32'](0x6e2+0x20c0+-0x279e,!(0x13c1+-0x14*0x8a+-0x8f9)),_0x37847f=_0x49bd3a['getUint32'](-0x1b8*0xd+0x2677*-0x1+0x3cd7,!(0xd*0x17+0x2*-0x29b+0xcf*0x5));if(_0x22533e!==0x5*0x678d695+-0x53af4549+0x255*0x342aab){_0x30091b('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x22533e['toString'](-0x7b3+-0x1f*-0xb9+-0xea4));return;}if(_0x2c526f!==-0x1e65+-0x1809+0x3670){_0x30091b('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x2c526f);return;}if(_0x37847f<=0x18c5+-0x8f8+0x5*-0x329||_0x37847f>_0x49bd3a['byteLength']){_0x30091b('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x37847f);return;}const _0x526956=[];let _0x1b08fe=-0xb4d+-0x2417*0x1+0x2f70;for(;_0x1b08fe<_0x37847f;){const _0x256b9f=_0x49bd3a['getUint32'](_0x1b08fe,!(-0xa9f+-0x1d86+0x2825*0x1));_0x1b08fe+_0x256b9f+(0x1*0x1889+0xdf0*0x2+-0x3461*0x1)>_0x49bd3a['byteLength']&&_0x30091b('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x256b9f);const _0xdce77f=_0x49bd3a['getUint32'](_0x1b08fe+(-0x4*-0x35f+-0x4*0x74b+0x29e*0x6),!(-0x185*-0x7+0x171*-0x8+-0x1*-0xe5)),_0x5ed067=new Uint8Array(_0x49bd3a['buffer'],_0x49bd3a['byteOffset']+_0x1b08fe+(0x1*0x1c1d+-0xe26*-0x1+-0x2a3b),_0x256b9f);_0x526956['push']({'length':_0x256b9f,'type':_0xdce77f,'data':_0x5ed067}),_0x1b08fe+=_0x256b9f+(-0x9d2+-0x5*-0x3cb+-0x91d);}if(_0x526956['length']!==-0xb61+0x1def*-0x1+0x2951&&_0x526956['length']!==-0x59*0xf+-0x244c+0x2985){_0x30091b('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x526956[-0x2f7*-0x7+0xe5d+-0x706*0x5]['type']!==-0x3cc42*-0x3a1+-0x1e889*0x3025+0x9c676395){_0x30091b('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x526956[-0x697*-0x3+-0x1a*0x80+-0x1*0x6c5]['type']['toString'](0x23a5+0x68c*0x3+0x1*-0x3739));return;}if(_0x526956['length']>0x270c+0xe5*0x11+-0x364*0x10&&_0x526956[0x1a1+0x12b*-0x17+-0x39b*-0x7]['type']!==0x372b45+-0x17b*0x1df+0x19e322){_0x30091b('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x526956[-0x53*0x52+-0x119d+-0x114*-0x29]['type']['toString'](-0xf79+-0x2e*-0x99+-0xbf5));return;}_0x30091b(null,{'gltfChunk':_0x526956[-0x1972+-0x31*-0x91+-0x24f]['data'],'binaryChunk':_0x526956['length']===-0x22f2+-0x1ca5+0x3f99?_0x526956[-0x592+0xa7*-0x18+0x153b]['data']:null});},GN=(_0x3265c8,_0x5938dc,_0x744d28)=>{const _0x1b700f=()=>{const _0x23cb9b=new Uint8Array(_0x5938dc);return _0x23cb9b[-0x20c5+0x1*0xdc9+0x5a*0x36]===0x2*-0xa39+-0x1*-0x346+-0x199*-0xb&&_0x23cb9b[-0x88f*0x1+0x9f9+-0x169]===0x2*-0xe4b+0x1*0x1673+0x68f&&_0x23cb9b[0x13bf+-0x200a*0x1+0xc4d]===0x1ea*-0x2+-0x1*0x192a+0x1d52&&_0x23cb9b[0x3*0x239+-0x1*0xd3d+0x695]===0x2*0x5b4+0xeee+-0x10*0x1a1;};_0x3265c8&&_0x3265c8['toLowerCas'+'e']()['endsWith']('.glb')||_0x1b700f()?VN(_0x5938dc,_0x744d28):_0x744d28(null,{'gltfChunk':_0x5938dc,'binaryChunk':null});},HN=(_0x238c0e,_0x33a589,_0x5a695f)=>{var _0x1a561b,_0xa4b3f6,_0x13f3cd,_0x33bf1f;const _0x52b1ef=[],_0x3fbde4=(_0x1a561b=_0x5a695f==null?void(0xc73*0x1+-0x8fe*-0x3+-0x1*0x276d):_0x5a695f['bufferView'])==null?void(-0x1bd7*-0x1+0xb71+0x2748*-0x1):_0x1a561b['preprocess'],_0x4cc5e0=(_0xa4b3f6=_0x5a695f==null?void(0x1*0x38a+0x4*0x821+-0xd*0x2c6):_0x5a695f['bufferView'])==null?void(-0x1f*0x39+-0xf6d+0x1654):_0xa4b3f6['processAsy'+'nc'],_0x5bf627=(_0x13f3cd=_0x5a695f==null?void(-0x26*0x49+0x20+-0x3*-0x392):_0x5a695f['bufferView'])==null?void(0x9ea+0x914*0x2+0x2*-0xe09):_0x13f3cd['postproces'+'s'];if(!((_0x33bf1f=_0x238c0e['bufferView'+'s'])!=null&&_0x33bf1f['length']))return _0x52b1ef;for(let _0x209e2c=0x1b0b+0xf1c*0x2+-0x3943;_0x209e2c<_0x238c0e['bufferView'+'s']['length'];++_0x209e2c){const _0x58aafb=_0x238c0e['bufferView'+'s'][_0x209e2c];_0x3fbde4&&_0x3fbde4(_0x58aafb);let _0x3761d9;_0x4cc5e0?_0x3761d9=new Promise((_0x144617,_0x4e0890)=>{_0x4cc5e0(_0x58aafb,_0x33a589,(_0x43182a,_0x43ea06)=>{_0x43182a?_0x4e0890(_0x43182a):_0x144617(_0x43ea06);});}):_0x3761d9=new Promise(_0x11f247=>{_0x11f247(null);}),_0x3761d9=_0x3761d9['then'](_0x1ab89f=>_0x1ab89f||_0x33a589[_0x58aafb['buffer']]['then'](_0x24d1f2=>new Uint8Array(_0x24d1f2['buffer'],_0x24d1f2['byteOffset']+(_0x58aafb['byteOffset']||-0x13a5+0x19d+0x1208),_0x58aafb['byteLength']))),_0x58aafb['hasOwnProp'+'erty']('byteStride')&&(_0x3761d9=_0x3761d9['then'](_0x50bf78=>(_0x50bf78['byteStride']=_0x58aafb['byteStride'],_0x50bf78))),_0x5bf627&&(_0x3761d9=_0x3761d9['then'](_0xcb64c4=>(_0x5bf627(_0x58aafb,_0xcb64c4),_0xcb64c4))),_0x52b1ef['push'](_0x3761d9);}return _0x52b1ef;};class kh{static['parse'](_0x366a82,_0x113e70,_0x487ded,_0x541563,_0x21a24b,_0x348760,_0x3a1d08){GN(_0x366a82,_0x487ded,(_0x3826c4,_0x207efb)=>{if(_0x3826c4){_0x3a1d08(_0x3826c4);return;}zN(_0x207efb['gltfChunk'],(_0x1228e8,_0x209704)=>{if(_0x1228e8){_0x3a1d08(_0x1228e8);return;}const _0x290480=BN(_0x209704,_0x207efb['binaryChun'+'k'],_0x113e70,_0x348760),_0x435da3=HN(_0x209704,_0x290480,_0x348760),_0x3ed78f=kN(_0x209704,_0x435da3,_0x113e70,_0x21a24b,_0x348760),_0x548ed0=UN(_0x209704,_0x3ed78f,_0x348760);ON(_0x541563,_0x209704,_0x435da3,_0x548ed0,_0x348760)['then'](_0x429c72=>_0x3a1d08(null,_0x429c72))['catch'](_0xbd400c=>_0x3a1d08(_0xbd400c));});});}static['createDefa'+'ultMateria'+'l'](){return w0({'name':'defaultGlb'+'Material'},[]);}}class WN extends Qe{constructor(_0x364941){super(_0x364941,'animation'),this['device']=_0x364941['graphicsDe'+'vice'],this['assets']=_0x364941['assets'];}['load'](_0x5f2a73,_0x86bab4,_0x28fbfd){typeof _0x5f2a73=='string'&&(_0x5f2a73={'load':_0x5f2a73,'original':_0x5f2a73});const _0x28f845={'retry':this['maxRetries']>-0x359+0x11ab+-0xe52,'maxRetries':this['maxRetries']};(_0x5f2a73['load']['startsWith']('blob:')||_0x5f2a73['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x5f2a73['original'])['toLowerCas'+'e']()==='.glb'?_0x28f845['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x28f845['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x5f2a73['load'],_0x28f845,(_0x2f80a4,_0x59181f)=>{_0x2f80a4?_0x86bab4('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x5f2a73['original']+'\x20['+_0x2f80a4+']'):xe['getExtensi'+'on'](_0x5f2a73['original'])['toLowerCas'+'e']()==='.glb'?kh['parse']('filename.g'+'lb','',_0x59181f,this['device'],this['assets'],(_0x28fbfd==null?void(-0x22f1+-0x1b17+0x3e08):_0x28fbfd['options'])??{},(_0x440453,_0x20cac5)=>{var _0x575738;if(_0x440453)_0x86bab4(_0x440453);else{const _0x3431c8=_0x20cac5['animations'];if((_0x575738=_0x28fbfd==null?void(0x6ed+-0x967+0x27a):_0x28fbfd['data'])!=null&&_0x575738['events']){for(let _0x380a85=0x223c+-0x2*-0x11+-0x2*0x112f;_0x380a85<_0x3431c8['length'];_0x380a85++)_0x3431c8[_0x380a85]['events']=new Hv(Object['values'](_0x28fbfd['data']['events']));}_0x20cac5['destroy'](),_0x86bab4(null,_0x3431c8);}}):_0x86bab4(null,this['_parseAnim'+'ationV'+_0x59181f['animation']['version']](_0x59181f));});}['open'](_0x157fe9,_0x52f98d,_0x4542a5){return _0x52f98d;}['_parseAnim'+'ationV3'](_0x319a3d){const _0x30c70d=_0x319a3d['animation'],_0x2ce3fc=new ug();_0x2ce3fc['name']=_0x30c70d['name'],_0x2ce3fc['duration']=_0x30c70d['duration'];for(let _0x56062=-0x394*0x1+0x9*0x125+-0x1*0x6b9;_0x56062<_0x30c70d['nodes']['length'];_0x56062++){const _0xec03a6=new fg(),_0x21c7d3=_0x30c70d['nodes'][_0x56062];_0xec03a6['_name']=_0x21c7d3['name'];for(let _0x3141ec=-0x1*0x1bc2+0x1473*0x1+0x1*0x74f;_0x3141ec<_0x21c7d3['keys']['length'];_0x3141ec++){const _0x347362=_0x21c7d3['keys'][_0x3141ec],_0x2c452d=_0x347362['time'],_0x4b7fda=_0x347362['pos'],_0x380840=_0x347362['rot'],_0xf7e67a=_0x347362['scale'],_0x12b5ef=new D(_0x4b7fda[0x24a3*0x1+0x20*-0x86+-0x3*0x6a1],_0x4b7fda[0xe7e+0xb*0x345+-0x3274],_0x4b7fda[0x23b7+0x246c+-0x4821]),_0x47ed74=new le()['setFromEul'+'erAngles'](_0x380840[-0x2*-0x9a0+0x11c4+-0x2504],_0x380840[0xe3*0x4+0x14ac+0x1*-0x1837],_0x380840[-0x1752+0xb5*-0x35+0x3ccd]),_0x414ba7=new D(_0xf7e67a[-0x3b7*0x7+-0x136*-0x8+-0x1*-0x1051],_0xf7e67a[0x256c+-0x1*-0x1f29+-0x4d*0xe4],_0xf7e67a[0x1bb7*-0x1+-0xcc1+0x287a]),_0x23885b=new dg(_0x2c452d,_0x12b5ef,_0x47ed74,_0x414ba7);_0xec03a6['_keys']['push'](_0x23885b);}_0x2ce3fc['addNode'](_0xec03a6);}return _0x2ce3fc;}['_parseAnim'+'ationV4'](_0x37be32){const _0x1349ca=_0x37be32['animation'],_0x4a7435=new ug();_0x4a7435['name']=_0x1349ca['name'],_0x4a7435['duration']=_0x1349ca['duration'];for(let _0x5b0159=0x4a*-0x15+-0x3*-0xb19+0x17*-0x12f;_0x5b0159<_0x1349ca['nodes']['length'];_0x5b0159++){const _0x5c7b61=new fg(),_0xcb3a00=_0x1349ca['nodes'][_0x5b0159];_0x5c7b61['_name']=_0xcb3a00['name'];const _0x9b6d24=_0xcb3a00['defaults']['p'],_0x5265f8=_0xcb3a00['defaults']['r'],_0x4ebe8f=_0xcb3a00['defaults']['s'];for(let _0x4b6c7d=0x7*0x25e+-0xb9c+-0x7f*0xa;_0x4b6c7d<_0xcb3a00['keys']['length'];_0x4b6c7d++){const _0x4f617e=_0xcb3a00['keys'][_0x4b6c7d],_0x13e218=_0x4f617e['t'],_0x619ed9=_0x9b6d24||_0x4f617e['p'],_0x34a4fb=_0x5265f8||_0x4f617e['r'],_0x3addc5=_0x4ebe8f||_0x4f617e['s'],_0x155426=new D(_0x619ed9[-0x4*0x537+0x2bb*-0x8+0x2ab4],_0x619ed9[0x18b1+-0x3b*0x34+-0xcb4],_0x619ed9[0x2437+0x73b*0x3+0x39e6*-0x1]),_0x2cfd31=new le()['setFromEul'+'erAngles'](_0x34a4fb[-0x5*-0x716+0x1128+-0x3496],_0x34a4fb[0xa*-0x263+0x23ab+-0x2*0x5e6],_0x34a4fb[0x257+0x8dd+-0xb32]),_0x429485=new D(_0x3addc5[0x1efd+-0x84b*-0x1+-0x2748],_0x3addc5[0x1*-0x21b5+-0x1f70+0x1f*0x21a],_0x3addc5[0xb68+-0x51*0x65+-0x13*-0x115]),_0x5c897c=new dg(_0x13e218,_0x155426,_0x2cfd31,_0x429485);_0x5c7b61['_keys']['push'](_0x5c897c);}_0x4a7435['addNode'](_0x5c7b61);}return _0x4a7435;}}class $N extends Qe{constructor(_0x9dca5c){super(_0x9dca5c,'animclip');}['load'](_0xe84167,_0x4602fc){typeof _0xe84167=='string'&&(_0xe84167={'load':_0xe84167,'original':_0xe84167});const _0x371565={'retry':this['maxRetries']>0xffd*0x1+-0x1694+0x1*0x697,'maxRetries':this['maxRetries']};_0xe84167['load']['startsWith']('blob:')&&(_0x371565['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0xe84167['load'],_0x371565,(_0x2006b6,_0x5c9ddb)=>{_0x2006b6?_0x4602fc('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0xe84167['original']+'\x20['+_0x2006b6+']'):_0x4602fc(null,_0x5c9ddb);});}['open'](_0x23d53b,_0x44c57e){const _0x2ac38f=_0x44c57e['name'],_0x5b5bb7=_0x44c57e['duration'],_0x5a8569=_0x44c57e['inputs']['map'](_0x26361e=>new Fh(-0xd9a+0x1*0x143f+-0x6a4,_0x26361e)),_0x5ed555=_0x44c57e['outputs']['map'](_0x1e474a=>new Fh(_0x1e474a['components'],_0x1e474a['data'])),_0x51a89b=_0x44c57e['curves']['map'](_0x3b3326=>new v0([_0x3b3326['path']],_0x3b3326['inputIndex'],_0x3b3326['outputInde'+'x'],_0x3b3326['interpolat'+'ion']));return new Qi(_0x2ac38f,_0x5b5bb7,_0x5a8569,_0x5ed555,_0x51a89b);}}class XN extends Qe{constructor(_0x4707ff){super(_0x4707ff,'animstateg'+'raph');}['load'](_0x2ddc28,_0x4f564f){typeof _0x2ddc28=='string'&&(_0x2ddc28={'load':_0x2ddc28,'original':_0x2ddc28});const _0x3ad1a6={'retry':this['maxRetries']>-0x722*0x4+-0xa8c+0x2714,'maxRetries':this['maxRetries']};_0x2ddc28['load']['startsWith']('blob:')&&(_0x3ad1a6['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x2ddc28['load'],_0x3ad1a6,(_0x33d55a,_0x3b8847)=>{_0x33d55a?_0x4f564f('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x2ddc28['original']+'\x20['+_0x33d55a+']'):_0x4f564f(null,_0x3b8847);});}['open'](_0x523799,_0x4cad21){return new Jc(_0x4cad21);}}const Af=(function(){if(typeof window>'u')return!(0x1*-0x3d8+-0x2675+0x13*0x23a);const _0x3735c0=window['navigator']['userAgent'],_0x37d871=_0x3735c0['indexOf']('MSIE\x20');if(_0x37d871>0x1ce0+-0x30*0x49+-0xc*0x144)return parseInt(_0x3735c0['substring'](_0x37d871+(0x24a2+-0x1838+-0x1*0xc65),_0x3735c0['indexOf']('.',_0x37d871)),-0x1*-0xfc5+-0x22bb*0x1+0x1300);if(_0x3735c0['indexOf']('Trident/')>0x25a*-0x5+-0x4eb*-0x2+0x1ec){const _0xdf4db=_0x3735c0['indexOf']('rv:');return parseInt(_0x3735c0['substring'](_0xdf4db+(-0x1e72+-0xf3*-0x23+-0x2c4),_0x3735c0['indexOf']('.',_0xdf4db)),-0x3b6*-0x5+-0x257c+-0x1*-0x12f8);}return!(-0x1e4d*-0x1+-0x195e+0x1*-0x4ee);}()),qN=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class jN extends Qe{constructor(_0x537228){super(_0x537228,'audio'),this['manager']=_0x537228['soundManag'+'er'],w['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x3e2a4a){const _0x4b7c96=xe['getExtensi'+'on'](_0x3e2a4a);return qN['indexOf'](_0x4b7c96)>-(-0x2690+0x6b*0x1d+-0x1*-0x1a72)||_0x3e2a4a['startsWith']('blob:');}['load'](_0x3692ba,_0x23321b){typeof _0x3692ba=='string'&&(_0x3692ba={'load':_0x3692ba,'original':_0x3692ba});const _0x6f00a0=function(_0x59bbac){_0x23321b(null,new Mw(_0x59bbac));},_0x401f23=function(_0x31aca8){let _0x31e81d='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x3692ba['original'];_0x31aca8&&(_0x31e81d+=':\x20'+(_0x31aca8['message']||_0x31aca8)),console['warn'](_0x31e81d),_0x23321b(_0x31e81d);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x3692ba['original'])){_0x401f23('Audio\x20form'+'at\x20for\x20'+_0x3692ba['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x3692ba['load'],_0x6f00a0,_0x401f23);}else _0x401f23(null);}['_createSou'+'nd'](_0x10e2cf,_0xd642aa,_0xe1b026){if(Dl()){const _0x556e46=this['manager'];if(!_0x556e46['context']){_0xe1b026('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x43cb10={'retry':this['maxRetries']>-0x7e*0x47+-0x1b1f+-0x3e11*-0x1,'maxRetries':this['maxRetries']};(_0x10e2cf['startsWith']('blob:')||_0x10e2cf['startsWith']('data:'))&&(_0x43cb10['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),ot['get'](_0x10e2cf,_0x43cb10,(_0x43a5a8,_0x575ef5)=>{if(_0x43a5a8){_0xe1b026(_0x43a5a8);return;}_0x556e46['context']['decodeAudi'+'oData'](_0x575ef5,_0xd642aa,_0xe1b026);});}else{let _0x1848c6=null;try{_0x1848c6=new Audio();}catch{_0xe1b026('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Af&&document['body']['appendChil'+'d'](_0x1848c6);const _0x2a9db9=function(){_0x1848c6['removeEven'+'tListener']('canplaythr'+'ough',_0x2a9db9),Af&&document['body']['removeChil'+'d'](_0x1848c6),_0xd642aa(_0x1848c6);};_0x1848c6['onerror']=function(){_0x1848c6['onerror']=null,Af&&document['body']['removeChil'+'d'](_0x1848c6),_0xe1b026();},_0x1848c6['addEventLi'+'stener']('canplaythr'+'ough',_0x2a9db9),_0x1848c6['src']=_0x10e2cf;}}}class YN extends Qe{constructor(_0x17f4ef){super(_0x17f4ef,'binary');}['load'](_0x415ea1,_0x4ed7ee){typeof _0x415ea1=='string'&&(_0x415ea1={'load':_0x415ea1,'original':_0x415ea1}),ot['get'](_0x415ea1['load'],{'responseType':Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>-0x1270*0x1+0x8b*0x1d+-0xd*-0x35,'maxRetries':this['maxRetries']},(_0x349cef,_0x56958f)=>{_0x349cef?_0x4ed7ee('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x415ea1['original']+'\x20['+_0x349cef+']'):_0x4ed7ee(null,_0x56958f);});}['openBinary'](_0x271aca){return _0x271aca['buffer'];}}class yr{constructor(_0x5f53bc,_0x4178ea,_0x57c28b,_0x4552bc){const _0x262f33=function(_0x20a14e,_0x5e65b1,_0x42c041){const _0x40e058=yr['createAsse'+'t'](_0x4178ea['name'],_0x20a14e,_0x5e65b1,_0x42c041);return _0x57c28b['add'](_0x40e058),_0x40e058;},_0x14a94b=[];for(let _0x48ec9f=-0x15e4+-0x7f0+0x17*0x14c;_0x48ec9f<_0x5f53bc['renders']['length'];++_0x48ec9f)_0x14a94b['push'](_0x262f33('render',_0x5f53bc['renders'][_0x48ec9f],_0x48ec9f));const _0x31cce5=[];for(let _0x3b0606=0x8*0x3f5+0x2637+-0x241*0x1f;_0x3b0606<_0x5f53bc['materials']['length'];++_0x3b0606)_0x31cce5['push'](_0x262f33('material',_0x5f53bc['materials'][_0x3b0606],_0x3b0606));const _0x25d54d=[];for(let _0x38b108=-0x125*0x7+0x1d0e*0x1+0x1*-0x150b;_0x38b108<_0x5f53bc['animations']['length'];++_0x38b108)_0x25d54d['push'](_0x262f33('animation',_0x5f53bc['animations'][_0x38b108],_0x38b108));this['data']=_0x5f53bc,this['_model']=null,this['_assetName']=_0x4178ea['name'],this['_assets']=_0x57c28b,this['_defaultMa'+'terial']=_0x4552bc,this['renders']=_0x14a94b,this['materials']=_0x31cce5,this['textures']=_0x5f53bc['textures'],this['animations']=_0x25d54d;}get['model'](){if(!this['_model']){const _0x18b00c=yr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x3e921a=yr['createAsse'+'t'](this['_assetName'],'model',_0x18b00c,0x206e*0x1+0x1d13+-0x5*0xc4d);this['_assets']['add'](_0x3e921a),this['_model']=_0x3e921a;}return this['_model'];}static['createAsse'+'t'](_0x266ba5,_0x132839,_0x244e21,_0x5a6f72){const _0x2efe7a=new pe(_0x266ba5+'/'+_0x132839+'/'+_0x5a6f72,_0x132839,{'url':''});return _0x2efe7a['resource']=_0x244e21,_0x2efe7a['loaded']=!(-0xf37+-0x206f+0x2*0x17d3),_0x2efe7a;}['instantiat'+'eModelEnti'+'ty'](_0x4854f2){const _0x5ba14a=new lt(void(-0x1ce*-0xc+0xdd6+-0x237e),this['_assets']['_loader']['_app']);return _0x5ba14a['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x4854f2)),_0x5ba14a;}['instantiat'+'eRenderEnt'+'ity'](_0x52ce85){const _0x32f6e8=this['_defaultMa'+'terial'],_0x3fbd93=[],_0x1aeadd=function(_0xbfb2a1,_0x20b3d2,_0x285c93,_0x24feeb,_0x493cdd,_0x1930e6,_0x50e486,_0x21289d){const _0x47351d=_0x493cdd[_0x285c93['id']],_0x386ab8=_0x47351d===void(-0x1df3+-0x22e6+-0x4fd*-0xd)?_0x32f6e8:_0x24feeb[_0x47351d],_0x6336b=new He(_0x285c93,_0x386ab8);_0x285c93['morph']&&(_0x6336b['morphInsta'+'nce']=new xa(_0x285c93['morph'])),_0x50e486['hasOwnProp'+'erty']('skin')&&_0x3fbd93['push']({'meshInstance':_0x6336b,'rootBone':_0xbfb2a1,'entity':_0x20b3d2});const _0x385ed3=_0x21289d['get'](_0x50e486);if(_0x385ed3){const _0x2ce451=_0x385ed3['matrices'],_0x437add=kt['getDefault'+'Instancing'+'Format'](_0x285c93['device']),_0x2c0295=new Is(_0x285c93['device'],_0x437add,_0x2ce451['length']/(0x2f*0x2+-0x9c*-0x14+-0xf6*0xd),{'data':_0x2ce451});_0x6336b['setInstanc'+'ing'](_0x2c0295),_0x6336b['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(-0x2034+0x1*-0x1f7f+0x1*0x3fb3);}return _0x6336b;},_0x496379=(_0x26c770,_0x5ded22,_0x40a6a5)=>{const _0x5ed2f9=new lt(void(-0x18f8*-0x1+-0x2cf*-0x5+0xd01*-0x3),this['_assets']['_loader']['_app']);_0x5ded22['_cloneInte'+'rnal'](_0x5ed2f9),_0x26c770||(_0x26c770=_0x5ed2f9);let _0x27a3b4=null,_0x2cff76=null;for(let _0x2edf66=-0x1e1e+0x1b*-0x152+0x41c4;_0x2edf66<_0x40a6a5['nodes']['length'];_0x2edf66++)if(_0x40a6a5['nodes'][_0x2edf66]===_0x5ded22){const _0x425222=_0x40a6a5['gltf']['nodes'][_0x2edf66];if(_0x425222['hasOwnProp'+'erty']('mesh')){const _0x178bb2=_0x40a6a5['renders'][_0x425222['mesh']]['meshes'];_0x2cff76=this['renders'][_0x425222['mesh']];for(let _0x40b999=0x247b+-0xe6b*0x1+-0x1610;_0x40b999<_0x178bb2['length'];_0x40b999++){const _0x52bd8c=_0x178bb2[_0x40b999];if(_0x52bd8c){const _0x2c0599=_0x1aeadd(_0x26c770,_0x5ed2f9,_0x52bd8c,_0x40a6a5['materials'],_0x40a6a5['meshDefaul'+'tMaterials'],_0x40a6a5['skins'],_0x425222,_0x40a6a5['nodeInstan'+'cingMap']);_0x27a3b4||(_0x27a3b4=[]),_0x27a3b4['push'](_0x2c0599);}}}if(_0x40a6a5['lights']){const _0x18b622=_0x40a6a5['lights']['get'](_0x425222);_0x18b622&&_0x5ed2f9['addChild'](_0x18b622['clone']());}if(_0x40a6a5['cameras']){const _0x12ba58=_0x40a6a5['cameras']['get'](_0x425222);_0x12ba58&&_0x12ba58['camera']['system']['cloneCompo'+'nent'](_0x12ba58,_0x5ed2f9);}}_0x27a3b4&&(_0x5ed2f9['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x27a3b4},_0x52ce85)),_0x5ed2f9['render']['assignAsse'+'t'](_0x2cff76));const _0x48943f=_0x5ded22['children'];for(let _0x283de3=0x9c4+0x1*-0x872+-0x152;_0x283de3<_0x48943f['length'];_0x283de3++){const _0x266efc=_0x496379(_0x26c770,_0x48943f[_0x283de3],_0x40a6a5);_0x5ed2f9['addChild'](_0x266efc);}return _0x5ed2f9;},_0x14945d=[];for(const _0x4ef80a of this['data']['scenes'])_0x14945d['push'](_0x496379(null,_0x4ef80a,this['data']));return _0x3fbd93['forEach'](_0x4c5b17=>{_0x4c5b17['meshInstan'+'ce']['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x4c5b17['meshInstan'+'ce']['mesh']['skin'],_0x4c5b17['rootBone'],_0x4c5b17['entity']),_0x4c5b17['meshInstan'+'ce']['node']['render']['rootBone']=_0x4c5b17['rootBone'];}),yr['createScen'+'eHierarchy'](_0x14945d,lt);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x171145,_0x516870){const _0x3bf7ae=_0x516870?this['data']['variants'][_0x516870]:null;if(_0x3bf7ae===void(-0x37*-0xa+0x1f9d+-0x21c3)){w['warn']('No\x20variant'+'\x20named\x20'+_0x516870+('\x20exists\x20in'+'\x20resource'));return;}const _0xe618a1=_0x171145['findCompon'+'ents']('render');for(let _0x2f3aa6=-0x3*0x7cd+0x3f4+-0x1373*-0x1;_0x2f3aa6<_0xe618a1['length'];_0x2f3aa6++){const _0x1421b9=_0xe618a1[_0x2f3aa6];this['_applyMate'+'rialVarian'+'t'](_0x3bf7ae,_0x1421b9['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x2593a3,_0x104a68){const _0x3cdd41=_0x104a68?this['data']['variants'][_0x104a68]:null;if(_0x3cdd41===void(-0x124d+0xf43+0x30a)){w['warn']('No\x20variant'+'\x20named\x20'+_0x104a68+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x3cdd41,_0x2593a3);}['_applyMate'+'rialVarian'+'t'](_0x485c0d,_0x3a92ac){_0x3a92ac['forEach'](_0xbf18fc=>{if(_0x485c0d===null)_0xbf18fc['material']=this['_defaultMa'+'terial'];else{const _0xb5d8ba=this['data']['meshVarian'+'ts'][_0xbf18fc['mesh']['id']];_0xb5d8ba&&(_0xbf18fc['material']=this['data']['materials'][_0xb5d8ba[_0x485c0d]]);}w['assert'](_0xbf18fc['material']);});}static['createScen'+'eHierarchy'](_0x36de83,_0x209ee1){let _0x53053f=null;if(_0x36de83['length']===-0x4e*0xe+0x175c+-0x1317)_0x53053f=_0x36de83[-0x14da+-0x5*0x496+0x2bc8];else{_0x53053f=new _0x209ee1('SceneGroup');for(const _0x203cc9 of _0x36de83)_0x53053f['addChild'](_0x203cc9);}return _0x53053f;}static['createMode'+'l'](_0x3e96a5,_0x24000a){const _0x10ddee=function(_0x596c3c,_0x2f7bbf,_0x54ee4a,_0x10bc8e,_0xed3632,_0x118688,_0x386603){const _0xaf9909=_0x3e96a5['meshDefaul'+'tMaterials'][_0x2f7bbf['id']],_0x268779=_0xaf9909===void(0xd*-0x2a2+-0x1*-0xf97+0x1*0x12a3)?_0x24000a:_0xed3632[_0xaf9909],_0x1a1b25=new He(_0x2f7bbf,_0x268779,_0x118688);if(_0x2f7bbf['morph']){const _0x39f946=new xa(_0x2f7bbf['morph']);_0x1a1b25['morphInsta'+'nce']=_0x39f946,_0x596c3c['morphInsta'+'nces']['push'](_0x39f946);}if(_0x386603['hasOwnProp'+'erty']('skin')){const _0x594767=_0x386603['skin'],_0x1efcfd=_0x54ee4a[_0x594767];_0x2f7bbf['skin']=_0x1efcfd;const _0x24f2a9=_0x10bc8e[_0x594767];_0x1a1b25['skinInstan'+'ce']=_0x24f2a9,_0x596c3c['skinInstan'+'ces']['push'](_0x24f2a9);}_0x596c3c['meshInstan'+'ces']['push'](_0x1a1b25);},_0x51b5a4=new sr(),_0x44ef3f=[];for(const _0x26fd0e of _0x3e96a5['skins']){const _0x1fa98e=new Ol(_0x26fd0e);_0x1fa98e['bones']=_0x26fd0e['bones'],_0x44ef3f['push'](_0x1fa98e);}_0x51b5a4['graph']=yr['createScen'+'eHierarchy'](_0x3e96a5['scenes'],Ie);for(let _0x7b59b9=-0x1938+0x1af6*-0x1+-0x1a17*-0x2;_0x7b59b9<_0x3e96a5['nodes']['length'];_0x7b59b9++){const _0x108c1c=_0x3e96a5['nodes'][_0x7b59b9];if(_0x108c1c['root']===_0x51b5a4['graph']){const _0x501966=_0x3e96a5['gltf']['nodes'][_0x7b59b9];if(_0x501966['hasOwnProp'+'erty']('mesh')){const _0x70ebbe=_0x3e96a5['renders'][_0x501966['mesh']]['meshes'];for(let _0x3ab75a=-0x1065*0x1+-0x679*-0x2+0x373*0x1;_0x3ab75a<_0x70ebbe['length'];_0x3ab75a++){const _0xbaecbc=_0x70ebbe[_0x3ab75a];_0xbaecbc&&_0x10ddee(_0x51b5a4,_0xbaecbc,_0x3e96a5['skins'],_0x44ef3f,_0x3e96a5['materials'],_0x108c1c,_0x501966);}}}}return _0x51b5a4;}['destroy'](){const _0x19887c=this['_assets'],_0xa2bd01=function(_0x5ca8d7){_0x19887c['remove'](_0x5ca8d7),_0x5ca8d7['unload']();},_0x486666=function(_0x2f4ce8){_0x2f4ce8['forEach'](_0x17dc75=>{_0xa2bd01(_0x17dc75);});};this['animations']&&(_0x486666(this['animations']),this['animations']=null),this['textures']&&(_0x486666(this['textures']),this['textures']=null),this['materials']&&(_0x486666(this['materials']),this['materials']=null),this['renders']&&(_0x486666(this['renders']),this['renders']=null),this['_model']&&(_0xa2bd01(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class KN{constructor(_0x49f6d0,_0x4e52ad,_0x2ac301){this['_device']=_0x49f6d0,this['_assets']=_0x4e52ad,this['_defaultMa'+'terial']=kh['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x2ac301;}['_getUrlWit'+'houtParams'](_0x3b490c){return _0x3b490c['indexOf']('?')>=0x22ba+0x16cb+-0x3985?_0x3b490c['split']('?')[0x22fc+0x1*0x1024+-0x199*0x20]:_0x3b490c;}['load'](_0x4b2844,_0x1c2f4b,_0x3aecd1){pe['fetchArray'+'Buffer'](_0x4b2844['load'],(_0x262c01,_0x27a965)=>{_0x262c01?_0x1c2f4b(_0x262c01):kh['parse'](this['_getUrlWit'+'houtParams'](_0x4b2844['original']),xe['extractPat'+'h'](_0x4b2844['load']),_0x27a965,this['_device'],_0x3aecd1['registry'],_0x3aecd1['options'],(_0x3c5dfb,_0x440ceb)=>{_0x3c5dfb?_0x1c2f4b(_0x3c5dfb):_0x1c2f4b(null,new yr(_0x440ceb,_0x3aecd1,this['_assets'],this['_defaultMa'+'terial']));});},_0x3aecd1,this['maxRetries']);}['open'](_0xf5f1ea,_0x4dfbe1,_0x468dc0){return _0x4dfbe1;}['patch'](_0x2c27d2,_0x388030){}}class ZN extends Qe{constructor(_0x3f39c3){super(_0x3f39c3,'container'),this['glbContain'+'erParser']=new KN(_0x3f39c3['graphicsDe'+'vice'],_0x3f39c3['assets'],0x222f+-0x360+-0x1ecf),this['parsers']={};}set['maxRetries'](_0x30d2f3){this['glbContain'+'erParser']['maxRetries']=_0x30d2f3;for(const _0x5d95c9 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x5d95c9)&&(this['parsers'][_0x5d95c9]['maxRetries']=_0x30d2f3);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x48cdce){return _0x48cdce['indexOf']('?')>=0x819+-0x478*-0x6+-0x22e9*0x1?_0x48cdce['split']('?')[-0xac4+-0x2*0x38c+-0x477*-0x4]:_0x48cdce;}['_getParser'](_0xd1fb48){const _0x413d61=_0xd1fb48?xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0xd1fb48))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x413d61]||this['glbContain'+'erParser'];}['load'](_0x154e97,_0x36f433,_0xcc848c){typeof _0x154e97=='string'&&(_0x154e97={'load':_0x154e97,'original':_0x154e97}),this['_getParser'](_0x154e97['original'])['load'](_0x154e97,_0x36f433,_0xcc848c);}['open'](_0x2790d2,_0x75a140,_0x18af15){return this['_getParser'](_0x2790d2)['open'](_0x2790d2,_0x75a140,_0x18af15);}}class QN extends Qe{constructor(_0x14f1f2){super(_0x14f1f2,'css'),h(this,'decoder',null);}['load'](_0x1bc3e2,_0x4abd20){typeof _0x1bc3e2=='string'&&(_0x1bc3e2={'load':_0x1bc3e2,'original':_0x1bc3e2}),ot['get'](_0x1bc3e2['load'],{'retry':this['maxRetries']>0xc51+-0xd0d+0xbc,'maxRetries':this['maxRetries']},(_0x35dc96,_0x52ef30)=>{_0x35dc96?_0x4abd20('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x1bc3e2['original']+'\x20['+_0x35dc96+']'):_0x4abd20(null,_0x52ef30);});}['openBinary'](_0x2f2800){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x2f2800);}}class JN extends Qe{constructor(_0x185076){super(_0x185076,'cubemap'),this['_device']=_0x185076['graphicsDe'+'vice'],this['_registry']=_0x185076['assets'],this['_loader']=_0x185076['loader'];}['load'](_0x2cb275,_0x1fb006,_0x331a75){this['loadAssets'](_0x331a75,_0x1fb006);}['open'](_0x2c84b9,_0x4a7a27,_0x5c9ad9){return _0x5c9ad9?_0x5c9ad9['resource']:null;}['patch'](_0x1c118b,_0x46f1fd){this['loadAssets'](_0x1c118b,(_0x5219c1,_0x529e80)=>{_0x5219c1&&(_0x46f1fd['fire']('error',_0x1c118b),_0x46f1fd['fire']('error:'+_0x1c118b['id'],_0x5219c1,_0x1c118b),_0x1c118b['fire']('error',_0x1c118b));});}['getAssetId'+'s'](_0x180b9d){const _0x17affe=[];if(_0x17affe[-0x29*-0xa4+-0x1a5c+0x18]=_0x180b9d['file'],(_0x180b9d['loadFaces']||!_0x180b9d['file'])&&_0x180b9d['data']&&_0x180b9d['data']['textures']){for(let _0x14b08f=0x1*-0x97+-0xf*0x35+-0x1d9*-0x2;_0x14b08f<0xf4f*-0x1+-0x2*-0xa11+-0x4cd*0x1;++_0x14b08f)_0x17affe[_0x14b08f+(0x24f+0xfd7+-0x3a1*0x5)]=_0x180b9d['data']['textures'][_0x14b08f];}else _0x17affe[-0x3d*-0x7a+0x2069*-0x1+0x358]=_0x17affe[-0x61d+-0x1050*-0x1+-0xa31*0x1]=_0x17affe[0x1fee+0x1091+-0x183e*0x2]=_0x17affe[0x19b9+-0x4*-0x949+0x3*-0x14f3]=_0x17affe[-0x14b6*0x1+-0x26a9+0x3b64]=_0x17affe[0xf31+0x1*0x95d+-0x1888*0x1]=null;return _0x17affe;}['compareAss'+'etIds'](_0x2af48c,_0x4c099c){return _0x2af48c&&_0x4c099c?parseInt(_0x2af48c,0xc58*-0x3+0x1*0x24f5+0x1d)===_0x2af48c||typeof _0x2af48c=='string'?_0x2af48c===_0x4c099c:_0x2af48c['url']===_0x4c099c['url']:_0x2af48c!==null==(_0x4c099c!==null);}['update'](_0x145f37,_0x3451b7,_0x16c1f9){const _0x3a8be9=_0x145f37['data']||{},_0x4cd040=_0x145f37['_handlerSt'+'ate']['assets'],_0x482343=_0x145f37['_resources'];let _0x40b0b2,_0xfc027e,_0x1e30db;const _0x3f6205=[null,null,null,null,null,null,null],_0x2843dd=function(){return _0x3a8be9['hasOwnProp'+'erty']('type')?_0x3a8be9['type']:_0x3a8be9['hasOwnProp'+'erty']('rgbm')?_0x3a8be9['rgbm']?Zi:Ds:null;};if(!_0x145f37['loaded']||_0x16c1f9[0xdb4+-0x193e+0xb8a]!==_0x4cd040[0x10*-0x4e+-0xbb+0x59b]){if(_0x16c1f9[-0x3*0xd03+-0x1*0xa96+0x319f]){if(_0x40b0b2=_0x16c1f9[0x119*-0x16+0x31*0x95+-0x45f*0x1]['resource'],_0x40b0b2['cubemap']){for(_0x1e30db=-0x1abb*-0x1+-0xdc8+0x451*-0x3;_0x1e30db<0x1de0+-0x14d5+-0x905*0x1;++_0x1e30db)_0x3f6205[_0x1e30db+(-0xca4+-0x19ca+0x266f*0x1)]=new _e(this['_device'],{'name':_0x145f37['name']+('_prelitCub'+'emap')+(_0x40b0b2['width']>>_0x1e30db),'cubemap':!(0x1d2d+0x677+-0x4*0x8e9),'type':_0x2843dd()||_0x40b0b2['type'],'width':_0x40b0b2['width']>>_0x1e30db,'height':_0x40b0b2['height']>>_0x1e30db,'format':_0x40b0b2['format'],'levels':[_0x40b0b2['_levels'][_0x1e30db]],'addressU':ue,'addressV':ue,'mipmaps':_0x1e30db===-0x10ed+-0x2172+-0x325f*-0x1});}else _0x3f6205[-0xbef+-0x18bc+0x92b*0x4]=_0x40b0b2;}}else _0x3f6205[-0x2a2*0x1+0x3*-0x557+0x12a8]=_0x482343[0x2*0x557+-0x130c+0x85f]||null,_0x3f6205[-0x225+0x377+-0xc*0x1c]=_0x482343[-0x1bda+0x1021*0x1+0xbbb]||null,_0x3f6205[0x9d6*-0x1+0x8c8+0x111]=_0x482343[0x1d3*0x1+-0x3ca+-0x1*-0x1fa]||null,_0x3f6205[0x7a*0x27+0x29*0x78+-0x25ca]=_0x482343[-0xf32*-0x1+0x7*0x37d+-0x2799]||null,_0x3f6205[-0x1*0x1311+-0x77+0x1*0x138d]=_0x482343[-0x1*-0x1750+0x25be+-0x3d09]||null,_0x3f6205[0xb99+0x1e3+-0x1*0xd76]=_0x482343[-0x20*-0x132+0xf2a+-0x3564]||null;const _0x325c3e=_0x16c1f9['slice'](-0x23a9+-0x1407+0x37b1*0x1);if(!_0x145f37['loaded']||!this['cmpArrays'](_0x325c3e,_0x4cd040['slice'](-0x640+0x4ec+0x1f*0xb))){if(_0x325c3e['indexOf'](null)===-(0xb4b*0x1+0x21cf+0x2d19*-0x1)){const _0x1365bd=_0x325c3e['map'](_0x350619=>_0x350619['resource']),_0x1d78ab=[];for(_0xfc027e=-0x1a0a+0x228b+-0x881*0x1;_0xfc027e<_0x1365bd[-0x73e+0x2*0x533+-0x328]['_levels']['length'];++_0xfc027e)_0x1d78ab['push'](_0x1365bd['map'](_0x2ce907=>_0x2ce907['_levels'][_0xfc027e]));const _0x5aeaa4=_0x1365bd[-0x22a*0xb+-0x10*0x94+-0x1087*-0x2]['format'],_0xee4b22=new _e(this['_device'],{'name':_0x145f37['name']+'_faces','cubemap':!(-0x6ba+-0x16bd+-0x1*-0x1d77),'type':_0x2843dd()||_0x1365bd[-0x1c6b+-0x1df1+0x3a5c]['type'],'width':_0x1365bd[0x1c*-0xa+-0x1ba3+0x1cbb]['width'],'height':_0x1365bd[0xf9e*0x1+0x29*0xaa+-0x2ad8]['height'],'format':_0x5aeaa4===Cr?Ne:_0x5aeaa4,'mipmaps':_0x3a8be9['mipmaps']??!(-0x1391+-0x498*0x5+-0x2a89*-0x1),'levels':_0x1d78ab,'minFilter':_0x3a8be9['hasOwnProp'+'erty']('minFilter')?_0x3a8be9['minFilter']:_0x1365bd[0xc0d+-0x1bf4+0x3b*0x45]['minFilter'],'magFilter':_0x3a8be9['hasOwnProp'+'erty']('magFilter')?_0x3a8be9['magFilter']:_0x1365bd[0x75*-0x29+-0xb4f*-0x2+-0x3e1]['magFilter'],'anisotropy':_0x3a8be9['hasOwnProp'+'erty']('anisotropy')?_0x3a8be9['anisotropy']:-0x2*-0x8e9+0x256b+-0x373c,'addressU':ue,'addressV':ue});_0x3f6205[0x136+0x1*0x2638+-0x276e]=_0xee4b22;}}else _0x3f6205[0x1*-0x20b1+0x961+-0x1*-0x1750]=_0x482343[-0x853+-0x295+0xae8]||null;if(!this['cmpArrays'](_0x3f6205,_0x482343)){for(_0x145f37['resources']=_0x3f6205,_0x145f37['_handlerSt'+'ate']['assetIds']=_0x3451b7,_0x145f37['_handlerSt'+'ate']['assets']=_0x16c1f9,_0x1e30db=0x1b*-0xdd+-0x367*0x7+-0x3a*-0xd0;_0x1e30db<_0x482343['length'];++_0x1e30db)_0x482343[_0x1e30db]!==null&&_0x3f6205['indexOf'](_0x482343[_0x1e30db])===-(-0x28*0x30+0x16*0x193+-0x1*0x1b21)&&_0x482343[_0x1e30db]['destroy']();}for(_0x1e30db=-0x1c3+-0xcfa*0x1+0xebd;_0x1e30db<_0x4cd040['length'];++_0x1e30db)_0x4cd040[_0x1e30db]!==null&&_0x16c1f9['indexOf'](_0x4cd040[_0x1e30db])===-(-0x4d7*-0x4+0x1*-0x2122+-0x1*-0xdc7)&&_0x4cd040[_0x1e30db]['unload']();}['cmpArrays'](_0x417bc1,_0x1d9987){if(_0x417bc1['length']!==_0x1d9987['length'])return!(-0x2021+0x230d+-0x2eb);for(let _0x3b244d=-0x33f+0x405+-0xc6;_0x3b244d<_0x417bc1['length'];++_0x3b244d)if(_0x417bc1[_0x3b244d]!==_0x1d9987[_0x3b244d])return!(-0x9b1+-0x1b75+0x1*0x2527);return!(-0x1a*0x5e+0x1*-0x1b55+0x24e1);}['resolveId'](_0x51c0f2){const _0x1b312e=parseInt(_0x51c0f2,0xbc4+-0x23a3+0x17e9*0x1);return _0x1b312e===_0x51c0f2||_0x1b312e['toString']()===_0x51c0f2?_0x1b312e:_0x51c0f2;}['loadAssets'](_0x27c04b,_0x26bff3){_0x27c04b['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x27c04b['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x411f7c=this,_0x53a8c1=_0x411f7c['getAssetId'+'s'](_0x27c04b),_0x4d0a84=[null,null,null,null,null,null,null],_0x4c4b82=_0x27c04b['_handlerSt'+'ate']['assetIds'],_0x32a908=_0x27c04b['_handlerSt'+'ate']['assets'],_0x2fedd7=_0x411f7c['_registry'];let _0x5428c7=-0x20a9+-0xf5f+0x1005*0x3;const _0x5e76f7=function(_0x1bee8d,_0x331b95){_0x4d0a84[_0x1bee8d]=_0x331b95,_0x5428c7--,_0x5428c7===0xb20+-0xef7+0x3d7&&(_0x411f7c['update'](_0x27c04b,_0x53a8c1,_0x4d0a84),_0x26bff3(null,_0x27c04b['resources']));},_0x1e09c0=function(_0x5cb6e9,_0x53f9f5,_0x5318a1){_0x26bff3(_0x53f9f5);},_0x2f062b=function(_0x2765f4,_0x3cc134){_0x3cc134['loaded']?_0x5e76f7(_0x2765f4,_0x3cc134):(_0x2fedd7['once']('load:'+_0x3cc134['id'],_0x5e76f7['bind'](_0x411f7c,_0x2765f4)),_0x2fedd7['once']('error:'+_0x3cc134['id'],_0x1e09c0['bind'](_0x411f7c,_0x2765f4)),_0x3cc134['loading']||_0x2fedd7['load'](_0x3cc134));};let _0x5c3180;for(let _0x2ed91e=0xd*-0x139+-0x3c4+0x13a9;_0x2ed91e<-0x4a6*0x8+0x4db*-0x4+0x38a3;++_0x2ed91e){const _0x4bfcd5=this['resolveId'](_0x53a8c1[_0x2ed91e]);if(!_0x4bfcd5)_0x5e76f7(_0x2ed91e,null);else{if(_0x411f7c['compareAss'+'etIds'](_0x4bfcd5,_0x4c4b82[_0x2ed91e]))_0x2f062b(_0x2ed91e,_0x32a908[_0x2ed91e]);else{if(parseInt(_0x4bfcd5,0xb15*-0x1+0x1092+-0x573)===_0x4bfcd5)_0x5c3180=_0x2fedd7['get'](_0x4bfcd5),_0x5c3180?_0x2f062b(_0x2ed91e,_0x5c3180):setTimeout(((_0x3894b7,_0x455489)=>{const _0x4dbf03=_0x2fedd7['get'](_0x455489);_0x4dbf03?_0x2f062b(_0x3894b7,_0x4dbf03):_0x1e09c0(_0x3894b7,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x455489);})['bind'](null,_0x2ed91e,_0x4bfcd5));else{const _0xbb02dc=typeof _0x4bfcd5=='string'?{'url':_0x4bfcd5,'filename':_0x4bfcd5}:_0x4bfcd5,_0x527915=_0xbb02dc['url']['search']('.dds')===-(-0x261b+0x25ea+0x32)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(-0x7*0x223+-0xbe9*-0x2+0xa2*-0xe)}:null;_0x5c3180=new pe(_0x27c04b['name']+'_part_'+_0x2ed91e,'texture',_0xbb02dc,_0x527915),_0x2fedd7['add'](_0x5c3180),_0x2f062b(_0x2ed91e,_0x5c3180);}}}}}}class ek extends Qe{constructor(_0x4da86b){super(_0x4da86b,'folder');}['load'](_0x39e301,_0x5c5635){_0x5c5635(null,null);}}class yS{constructor(_0x551559,_0x45392c){this['type']=_0x45392c&&_0x45392c['type']||Rh,this['em']=-0x212e+0x1f2+0x1f3d,this['textures']=_0x551559,this['intensity']=0x105b+-0x1*0x16af+0x654,this['_data']=null,this['data']=_0x45392c;}set['data'](_0x24a3b6){if(this['_data']=_0x24a3b6,!!_0x24a3b6&&(this['_data']['intensity']!==void(0x2459*-0x1+-0x113e*-0x2+0x1dd)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<-0x3*-0x595+0x33d*-0x1+-0x6*0x240)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x1330e4 in this['_data']['chars'])this['_data']['chars'][_0x1330e4]['map']=-0x3*0xc2+0x4a8*-0x1+0x6ee;}}get['data'](){return this['_data'];}}function Cf(_0x3c9067){return _0x3c9067['version']<-0x15*-0x13f+0x1cd*0x15+0x1553*-0x3&&(_0x3c9067['version']<0x66d+0x26a3+0x9e*-0x49&&(_0x3c9067['info']['maps']=_0x3c9067['info']['maps']||[{'width':_0x3c9067['info']['width'],'height':_0x3c9067['info']['height']}]),_0x3c9067['chars']=Object['keys'](_0x3c9067['chars']||{})['reduce']((_0x1f8010,_0x2f4699)=>{const _0x1d9433=_0x3c9067['chars'][_0x2f4699],_0x24b480=_0x1d9433['letter']!==void(-0x1*0x44+-0xcf+0x113)?_0x1d9433['letter']:Hc['fromCodePo'+'int'](_0x2f4699);return _0x3c9067['version']<-0x8*-0x409+-0x5d4+0x1a72*-0x1&&(_0x1d9433['map']=_0x1d9433['map']||-0x10*-0x253+0xf*-0xde+0x4d6*-0x5),_0x1f8010[_0x24b480]=_0x1d9433,_0x1f8010;},{}),_0x3c9067['version']=-0x69d*-0x5+-0x20*0x123+0x32*0x11),_0x3c9067;}class tk extends Qe{constructor(_0x3293b5){super(_0x3293b5,'font'),this['_loader']=_0x3293b5['loader'],this['maxRetries']=-0x1*-0x47f+-0x2*0xc1b+-0x7*-0x2d1;}['load'](_0x2e177c,_0x101ef7,_0x57b885){typeof _0x2e177c=='string'&&(_0x2e177c={'load':_0x2e177c,'original':_0x2e177c});const _0x3ba7d1=this;xe['getExtensi'+'on'](_0x2e177c['original'])==='.json'?ot['get'](_0x2e177c['load'],{'retry':this['maxRetries']>0x215d*0x1+0x243f+-0xb4*0x63,'maxRetries':this['maxRetries']},(_0x138b85,_0x4defcf)=>{if(_0x138b85)_0x101ef7('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x2e177c['original']+'\x20['+_0x138b85+']');else{const _0x1d9c12=Cf(_0x4defcf);_0x3ba7d1['_loadTextu'+'res'](_0x2e177c['load']['replace']('.json','.png'),_0x1d9c12,(_0x57f3ac,_0x2b5262)=>{_0x57f3ac?_0x101ef7(_0x57f3ac):_0x101ef7(null,{'data':_0x1d9c12,'textures':_0x2b5262});});}}):(_0x57b885&&_0x57b885['data']&&(_0x57b885['data']=Cf(_0x57b885['data'])),this['_loadTextu'+'res'](_0x2e177c['load'],_0x57b885&&_0x57b885['data'],_0x101ef7));}['_loadTextu'+'res'](_0x762de1,_0x10e48c,_0x3b68ed){const _0x1670ca=_0x10e48c['info']['maps']['length'];let _0x56c6ca=-0x2*-0x135b+-0x5*-0x443+-0x3c05,_0x56d8a4=null;const _0xf63c34=new Array(_0x1670ca),_0x12d3a7=this['_loader'],_0x307b00=function(_0x3fbd02){const _0x30fb95=function(_0x58a0e6,_0xcd314f){if(!_0x56d8a4){if(_0x58a0e6){_0x56d8a4=_0x58a0e6,_0x3b68ed(_0x58a0e6);return;}_0xcd314f['upload'](),_0xf63c34[_0x3fbd02]=_0xcd314f,_0x56c6ca++,_0x56c6ca===_0x1670ca&&_0x3b68ed(null,_0xf63c34);}};_0x3fbd02===0x1*0x221f+-0x1e72+0x1*-0x3ad?_0x12d3a7['load'](_0x762de1,'texture',_0x30fb95):_0x12d3a7['load'](_0x762de1['replace']('.png',_0x3fbd02+'.png'),'texture',_0x30fb95);};for(let _0x486de9=0x1a6f+-0x1302*0x1+-0x1*0x76d;_0x486de9<_0x1670ca;_0x486de9++)_0x307b00(_0x486de9);}['open'](_0x39680f,_0x4d00a1,_0x1588d7){let _0x58ee24;return _0x4d00a1['textures']?_0x58ee24=new yS(_0x4d00a1['textures'],_0x4d00a1['data']):_0x58ee24=new yS(_0x4d00a1,null),_0x58ee24;}['patch'](_0x5262e7,_0x28b091){const _0x514958=_0x5262e7['resource'];!_0x514958['data']&&_0x5262e7['data']?_0x514958['data']=_0x5262e7['data']:!_0x5262e7['data']&&_0x514958['data']&&(_0x5262e7['data']=_0x514958['data']),_0x5262e7['data']&&(_0x5262e7['data']=Cf(_0x5262e7['data']));}}async function sk(){const _0x29f3e5=-0x534+0x1*-0xbb+0x5ef+0.28209479177387814;class _0x27e79b{constructor(_0x35e351,_0x169e25,_0x56207b){this['x']=_0x35e351,this['y']=_0x169e25,this['z']=_0x56207b;}}class _0x2fe76e{constructor(_0x488a1b,_0x455d81,_0x21d022,_0x1c3507){this['x']=_0x488a1b,this['y']=_0x455d81,this['z']=_0x21d022,this['w']=_0x1c3507;}}class _0x156cfc{constructor(_0x34012b,_0x17c493,_0x4dd970,_0x1d9c75){this['x']=_0x34012b,this['y']=_0x17c493,this['z']=_0x4dd970,this['w']=_0x1d9c75;}['set'](_0x4b2793,_0x302702,_0x210588,_0x193eec){this['x']=_0x4b2793,this['y']=_0x302702,this['z']=_0x210588,this['w']=_0x193eec;}}class _0x47671a{constructor(_0xa0640,_0x341581,_0x233797,_0x28d4ac,_0x54d418,_0x7a08fb,_0x1de208,_0x41806a,_0x5f1582,_0x370563,_0x5daaef,_0x274817,_0x1a66e8,_0x23a6aa){const _0x429f3d=(_0x159672,_0x31e6bd)=>{const _0x4e2a22=(0x7*0x4c3+0x4*-0x6d0+-0x614<<_0x31e6bd)-(0x6*-0x259+-0x234b+-0x2a*-0x12d);return(_0x159672&_0x4e2a22)/_0x4e2a22;},_0x5970a3=(_0x2aced6,_0x480f0f)=>{_0x2aced6['x']=_0x429f3d(_0x480f0f>>>-0x2*-0xed7+-0x1*0xdb9+-0xfe0,-0x226b+0x4*-0x24c+0x2ba6),_0x2aced6['y']=_0x429f3d(_0x480f0f>>>-0x126b+-0x20c8+0x333e,-0x1b4d*-0x1+-0xca6+-0xe9d),_0x2aced6['z']=_0x429f3d(_0x480f0f,-0xbcf*-0x3+0x3*-0x9d8+-0x5da*0x1);},_0x211269=(_0x133766,_0x3383)=>{_0x133766['x']=_0x429f3d(_0x3383>>>0x268c+0x4c8+-0x159e*0x2,0xd59+0x25*-0xd1+0x10e4),_0x133766['y']=_0x429f3d(_0x3383>>>-0x18*-0x32+-0x1931*-0x1+-0x1dd1,-0x4ac+-0x144e+-0xc2*-0x21),_0x133766['z']=_0x429f3d(_0x3383>>>0x39*-0x53+-0x1*-0xac7+0x7bc,-0x20fc*0x1+-0x15*-0x56+0x19f6),_0x133766['w']=_0x429f3d(_0x3383,-0x223f*-0x1+0x10cc*0x1+-0x3303);},_0x5c0256=(_0x4e9dbe,_0x38ed56)=>{const _0x2fee7d=(0x13d*-0x1b+-0x231a+0x448a)/(Math['sqrt'](0x1*0x1974+-0x1259+0x17*-0x4f)*(0x37*0x7d+0x1*-0x1a23+-0xb8+0.5)),_0x3034d5=(_0x429f3d(_0x38ed56>>>-0x115a*-0x1+0x16f*0xd+-0x23e9,-0x175*-0x7+-0x2*-0x1313+0x95*-0x53)-(0x116c+0x2*-0x3a4+-0x16*0x76+0.5))*_0x2fee7d,_0x12245e=(_0x429f3d(_0x38ed56>>>-0x1c4d+0x1906+-0x3*-0x11b,0xb*-0x2c9+0x133*-0x3+0x2246)-(-0x1e7a+-0x1671+0x34eb+0.5))*_0x2fee7d,_0x84109e=(_0x429f3d(_0x38ed56,-0x113e*0x2+-0xd6*-0x1f+0x89c)-(0xf25+-0x6a*0xb+-0xa97*0x1+0.5))*_0x2fee7d,_0x369080=Math['sqrt'](-0x653+-0x2*-0xf0d+-0xb3*0x22-(_0x3034d5*_0x3034d5+_0x12245e*_0x12245e+_0x84109e*_0x84109e));switch(_0x38ed56>>>-0x1721+-0xd02+0x2441){case 0x1f7d+0x1931+-0x38ae:_0x4e9dbe['set'](_0x3034d5,_0x12245e,_0x84109e,_0x369080);break;case 0x1180+-0x6cc+-0xab3:_0x4e9dbe['set'](_0x369080,_0x12245e,_0x84109e,_0x3034d5);break;case 0x7*-0x2ed+-0x1655+-0x105*-0x2a:_0x4e9dbe['set'](_0x12245e,_0x369080,_0x84109e,_0x3034d5);break;case-0x2ef*-0xd+0x1*0x2210+-0x120c*0x4:_0x4e9dbe['set'](_0x12245e,_0x84109e,_0x369080,_0x3034d5);break;}},_0x2eff65=(_0x4c32b2,_0x3c5c92,_0x1c8899)=>_0x4c32b2*(-0xc9*-0x11+-0x1f14+-0xa*-0x1c6-_0x1c8899)+_0x3c5c92*_0x1c8899,_0x17add3=[0xb*-0x24+-0x608*0x5+0x1fb7,-0x730+-0x41*-0xf+0x369,0x1*-0x258b+0x22*0xad+0xea0][_0x1de208-(-0x2*-0x9aa+-0x157b+-0xb8*-0x3)],_0x245762=-0x1*-0x1cc3+0x1736+-0x33f3;this['read']=_0x1452f2=>{const _0x102b7e=Math['floor'](_0x1452f2/(-0x1*-0xbf5+0x17ce+-0x22c3))*_0x341581;if(_0x41806a&&(_0x5970a3(_0x41806a,_0x233797[_0x1452f2*_0x245762+(0x259d+-0x13b8*-0x1+0x1*-0x3955)]),_0x41806a['x']=_0x2eff65(_0xa0640[_0x102b7e+(-0x1*0x633+0xfe7+-0x9b4)],_0xa0640[_0x102b7e+(0x16c1*0x1+-0x16ed+-0x2f*-0x1)],_0x41806a['x']),_0x41806a['y']=_0x2eff65(_0xa0640[_0x102b7e+(0x8f7+0x1b25+0xc09*-0x3)],_0xa0640[_0x102b7e+(-0x13a2+-0xf3e*0x2+-0x17*-0x22e)],_0x41806a['y']),_0x41806a['z']=_0x2eff65(_0xa0640[_0x102b7e+(-0x1e57+-0x3e*-0x3f+0xf17)],_0xa0640[_0x102b7e+(-0x1bb*-0x16+0x4d*-0x4e+0x3*-0x4dd)],_0x41806a['z'])),_0x5f1582&&_0x5c0256(_0x5f1582,_0x233797[_0x1452f2*_0x245762+(-0x2b6+-0x1c*0x11f+0x221b*0x1)]),_0x370563&&(_0x5970a3(_0x370563,_0x233797[_0x1452f2*_0x245762+(-0x1df2*0x1+-0xd4c+0x2b40)]),_0x370563['x']=_0x2eff65(_0xa0640[_0x102b7e+(-0x460*-0x8+0x8cb*0x4+-0x4626)],_0xa0640[_0x102b7e+(-0x1*-0xd21+-0x1d7c+0x1064)],_0x370563['x']),_0x370563['y']=_0x2eff65(_0xa0640[_0x102b7e+(-0x2*-0x178+0x248a+-0x2773)],_0xa0640[_0x102b7e+(0x24a4+0x1*0x12b5+0x374f*-0x1)],_0x370563['y']),_0x370563['z']=_0x2eff65(_0xa0640[_0x102b7e+(-0x34*-0x86+-0x1f*0x4+-0x1ab4)],_0xa0640[_0x102b7e+(-0x585+-0x29*0x25+-0xb7d*-0x1)],_0x370563['z'])),_0x5daaef&&(_0x211269(_0x5daaef,_0x233797[_0x1452f2*_0x245762+(-0xad9*0x2+-0xa9*-0xc+0xdc9)]),_0x341581>-0x6c6+-0xa3*0x20+-0x2*-0xd99&&(_0x5daaef['x']=_0x2eff65(_0xa0640[_0x102b7e+(0xaf*-0x21+0x1*-0x15d1+0x2c6c)],_0xa0640[_0x102b7e+(-0x1541+-0x90*0x17+0x2240)],_0x5daaef['x']),_0x5daaef['y']=_0x2eff65(_0xa0640[_0x102b7e+(0x99d+-0xf6*-0x2+-0xb7c)],_0xa0640[_0x102b7e+(0x174+-0x2b7*0x1+0x153)],_0x5daaef['y']),_0x5daaef['z']=_0x2eff65(_0xa0640[_0x102b7e+(0x17c8+0x1a03+-0x1*0x31bd)],_0xa0640[_0x102b7e+(-0x3d*-0x44+0x64b+0x9*-0x27e)],_0x5daaef['z']))),_0x274817&&(_0x5970a3(_0x274817,_0x233797[_0x1452f2*_0x245762+(-0x16*0x101+-0x26c*-0x2+0x2*0x8a1)]),_0x274817['x']=_0x2eff65(_0xa0640[_0x102b7e+(0x84+0x161b+-0x168d)],_0xa0640[_0x102b7e+(0x14d1+0x1934+0xe*-0x348)],_0x274817['x']),_0x274817['y']=_0x2eff65(_0xa0640[_0x102b7e+(-0x3f6*-0x6+-0x28*0x3+-0x1739)],_0xa0640[_0x102b7e+(-0x567*-0x6+-0x25b2+0x2af*0x2)],_0x274817['y']),_0x274817['z']=_0x2eff65(_0xa0640[_0x102b7e+(0x12ff+-0x813*-0x2+-0x2311)],_0xa0640[_0x102b7e+(-0x673+-0x86+0x710)],_0x274817['z'])),_0x1a66e8&&(_0x5970a3(_0x1a66e8,_0x233797[_0x1452f2*_0x245762+(0x1a1*-0x13+0x1e18+-0x7*-0x20)]),_0x1a66e8['x']=_0x2eff65(_0xa0640[_0x102b7e+(0x3f+0x1*0x1319+-0xe0*0x16)],_0xa0640[_0x102b7e+(-0xb*-0x178+0x343*0x2+-0x3*0x787)],_0x1a66e8['x']),_0x1a66e8['y']=_0x2eff65(_0xa0640[_0x102b7e+(-0x703+0x6b4+0x69)],_0xa0640[_0x102b7e+(-0x13*0x88+0x1ce+0x865)],_0x1a66e8['y'])),_0x23a6aa&&_0x1de208>-0x5ba+0x1f67*-0x1+0x2521){const _0x20efd2=[_0x28d4ac,_0x54d418,_0x7a08fb];for(let _0xcbb4b5=0x611*-0x5+-0xe47+0x2c9c;_0xcbb4b5<0xadf+0x12*-0x17+-0xb6*0xd;++_0xcbb4b5)for(let _0x28cf96=0x8c7+0x3e8*-0x5+0xac1;_0x28cf96<0x7*-0x1f6+0xfc3*-0x1+0x1d8c;++_0x28cf96)_0x23a6aa[_0xcbb4b5*(-0xfec*-0x1+0x2231+-0x320e)+_0x28cf96]=_0x28cf96<_0x17add3?_0x20efd2[_0xcbb4b5][_0x1452f2*(-0x125+0x13f7+-0x12c2)+_0x28cf96]*((0x147*-0x4+0x1103+0x3f5*-0x3)/(0x1a3*-0xf+0xd25+0xc67))-(-0x6*0x2eb+-0x2*0x3f1+0x1968):0x1016+-0x1b76+0xb60;}};}}self['onmessage']=async _0x3317e6=>{const {data:_0x46ae1a}=_0x3317e6;switch(_0x46ae1a['type']){case'initWorker':break;case'decompress':_0x14ecef(_0x46ae1a['numSplats'],_0x46ae1a['chunkData'],_0x46ae1a['chunkSize'],_0x46ae1a['vertexData'],_0x46ae1a['shData0'],_0x46ae1a['shData1'],_0x46ae1a['shData2'],_0x46ae1a['shBands']);break;}};const _0x14ecef=(_0x247aab,_0x2f036a,_0x2079da,_0x1f2c83,_0x48cee4,_0x2daed7,_0x1f19aa,_0x3da8d1)=>{const _0x5266f7=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x3da8d1>0x1400+0x2*0x317+0x3*-0x8ba){const _0x451178=[];for(let _0x1aa562=-0x9*-0x19f+0x5c*-0x5f+0x138d;_0x1aa562<0x1cc2+0x1bd*-0x3+-0x3e5*0x6;++_0x1aa562)_0x451178['push']('f_rest_'+_0x1aa562);_0x5266f7['splice'](_0x5266f7['indexOf']('f_dc_0')+(-0x16cf*0x1+-0xecf+-0x259f*-0x1),-0x4*0x991+0x18b*0x19+-0x4f,..._0x451178);}const _0x5f1fc9={};_0x5266f7['forEach'](_0x12ad8d=>{_0x5f1fc9[_0x12ad8d]=new Float32Array(_0x247aab);});const _0x2c282d=new _0x27e79b(),_0x44e576=new _0x156cfc(),_0x4e7628=new _0x27e79b(),_0x59742f=new _0x2fe76e(),_0x178659=new _0x27e79b(),_0x231390=new _0x27e79b(),_0x2d8eed=_0x3da8d1>0x1ecf+-0x384+-0x1b4b?new Float32Array(0x88e+-0xcb+-0x3cb*0x2):null,_0x75d73c=new _0x47671a(_0x2f036a,_0x2079da,_0x1f2c83,_0x48cee4,_0x2daed7,_0x1f19aa,_0x3da8d1,_0x2c282d,_0x44e576,_0x4e7628,_0x59742f,_0x178659,_0x231390,_0x2d8eed);for(let _0x47678b=-0x18fa*-0x1+-0x33*-0x91+-0x35dd;_0x47678b<_0x247aab;++_0x47678b)if(_0x75d73c['read'](_0x47678b),_0x5f1fc9['x'][_0x47678b]=_0x2c282d['x'],_0x5f1fc9['y'][_0x47678b]=_0x2c282d['y'],_0x5f1fc9['z'][_0x47678b]=_0x2c282d['z'],_0x5f1fc9['rot_1'][_0x47678b]=_0x44e576['x'],_0x5f1fc9['rot_2'][_0x47678b]=_0x44e576['y'],_0x5f1fc9['rot_3'][_0x47678b]=_0x44e576['z'],_0x5f1fc9['rot_0'][_0x47678b]=_0x44e576['w'],_0x5f1fc9['scale_0'][_0x47678b]=_0x4e7628['x'],_0x5f1fc9['scale_1'][_0x47678b]=_0x4e7628['y'],_0x5f1fc9['scale_2'][_0x47678b]=_0x4e7628['z'],_0x5f1fc9['motion_0'][_0x47678b]=_0x178659['x'],_0x5f1fc9['motion_1'][_0x47678b]=_0x178659['y'],_0x5f1fc9['motion_2'][_0x47678b]=_0x178659['z'],_0x5f1fc9['t_scale'][_0x47678b]=_0x231390['x'],_0x5f1fc9['t'][_0x47678b]=_0x231390['y'],_0x5f1fc9['f_dc_0'][_0x47678b]=(_0x59742f['x']-(-0x2591*-0x1+-0x1519+-0x1078+0.5))/_0x29f3e5,_0x5f1fc9['f_dc_1'][_0x47678b]=(_0x59742f['y']-(-0x131+0x1*0x100f+-0xb*0x15a+0.5))/_0x29f3e5,_0x5f1fc9['f_dc_2'][_0x47678b]=(_0x59742f['z']-(-0x295*-0xd+0x1475+0x901*-0x6+0.5))/_0x29f3e5,_0x5f1fc9['opacity'][_0x47678b]=_0x59742f['w']<=-0x1*-0x10c1+-0xb20+-0x5a1?-(-0xd*-0xa6+-0x2f*-0xc6+0x2*-0x1650):_0x59742f['w']>=0x1d*0x131+-0xa0d*0x2+-0xe72?-0xc17+0xd29+-0x2*0x75:-Math['log']((-0x736+-0x2*-0xd38+0x1*-0x1339)/_0x59742f['w']-(0x1845+0x4a3*-0x2+-0xefe)),_0x2d8eed){for(let _0x2b3d2f=0x1e41+-0x123*-0xd+0x16*-0x20c;_0x2b3d2f<-0x20*0x97+0xb*-0x339+0x6d*0x80;++_0x2b3d2f)_0x5f1fc9['f_rest_'+_0x2b3d2f][_0x47678b]=_0x2d8eed[_0x2b3d2f];}let _0x183b3={'x':_0x5f1fc9['x'],'y':_0x5f1fc9['y'],'z':_0x5f1fc9['z'],'rot_1':_0x5f1fc9['rot_1'],'rot_2':_0x5f1fc9['rot_2'],'rot_3':_0x5f1fc9['rot_3'],'rot_0':_0x5f1fc9['rot_0'],'scale_0':_0x5f1fc9['scale_0'],'scale_1':_0x5f1fc9['scale_1'],'scale_2':_0x5f1fc9['scale_2'],'motion_0':_0x5f1fc9['motion_0'],'motion_1':_0x5f1fc9['motion_1'],'motion_2':_0x5f1fc9['motion_2'],'t_scale':_0x5f1fc9['t_scale'],'t':_0x5f1fc9['t'],'f_dc_0':_0x5f1fc9['f_dc_0'],'f_dc_1':_0x5f1fc9['f_dc_1'],'f_dc_2':_0x5f1fc9['f_dc_2'],'opacity':_0x5f1fc9['opacity']};_0x2d8eed&&(_0x183b3={..._0x183b3,'f_rest_0':_0x5f1fc9['f_rest_0'],'f_rest_1':_0x5f1fc9['f_rest_1'],'f_rest_2':_0x5f1fc9['f_rest_2'],'f_rest_3':_0x5f1fc9['f_rest_3'],'f_rest_4':_0x5f1fc9['f_rest_4'],'f_rest_5':_0x5f1fc9['f_rest_5'],'f_rest_6':_0x5f1fc9['f_rest_6'],'f_rest_7':_0x5f1fc9['f_rest_7'],'f_rest_8':_0x5f1fc9['f_rest_8'],'f_rest_9':_0x5f1fc9['f_rest_9'],'f_rest_10':_0x5f1fc9['f_rest_10'],'f_rest_11':_0x5f1fc9['f_rest_11'],'f_rest_12':_0x5f1fc9['f_rest_12'],'f_rest_13':_0x5f1fc9['f_rest_13'],'f_rest_14':_0x5f1fc9['f_rest_14'],'f_rest_15':_0x5f1fc9['f_rest_15'],'f_rest_16':_0x5f1fc9['f_rest_16'],'f_rest_17':_0x5f1fc9['f_rest_17'],'f_rest_18':_0x5f1fc9['f_rest_18'],'f_rest_19':_0x5f1fc9['f_rest_19'],'f_rest_20':_0x5f1fc9['f_rest_20'],'f_rest_21':_0x5f1fc9['f_rest_21'],'f_rest_22':_0x5f1fc9['f_rest_22'],'f_rest_23':_0x5f1fc9['f_rest_23'],'f_rest_24':_0x5f1fc9['f_rest_24'],'f_rest_25':_0x5f1fc9['f_rest_25'],'f_rest_26':_0x5f1fc9['f_rest_26'],'f_rest_27':_0x5f1fc9['f_rest_27'],'f_rest_28':_0x5f1fc9['f_rest_28'],'f_rest_29':_0x5f1fc9['f_rest_29'],'f_rest_30':_0x5f1fc9['f_rest_30'],'f_rest_31':_0x5f1fc9['f_rest_31'],'f_rest_32':_0x5f1fc9['f_rest_32'],'f_rest_33':_0x5f1fc9['f_rest_33'],'f_rest_34':_0x5f1fc9['f_rest_34'],'f_rest_35':_0x5f1fc9['f_rest_35'],'f_rest_36':_0x5f1fc9['f_rest_36'],'f_rest_37':_0x5f1fc9['f_rest_37'],'f_rest_38':_0x5f1fc9['f_rest_38'],'f_rest_39':_0x5f1fc9['f_rest_39'],'f_rest_40':_0x5f1fc9['f_rest_40'],'f_rest_41':_0x5f1fc9['f_rest_41'],'f_rest_42':_0x5f1fc9['f_rest_42'],'f_rest_43':_0x5f1fc9['f_rest_43'],'f_rest_44':_0x5f1fc9['f_rest_44']});const _0x1de8e6=Object['values'](_0x183b3)['map'](_0x2fece3=>_0x2fece3['buffer']);self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x183b3},_0x1de8e6);};}class ik extends me{constructor(){super(),h(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+sk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0xdf91f0=>{if(!this['worker'])return;const {data:_0x1239da}=_0xdf91f0;switch(_0x1239da['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x1239da['data']);break;}};}['decompress'](_0x5e1fff,_0x3b48e2,_0x532f6c,_0x12d4cd,_0x4d3368,_0x2b41a2,_0x1b8ee1,_0x5c2d37){const _0x25fab8=[_0x3b48e2['buffer'],_0x12d4cd['buffer']];_0x4d3368&&_0x25fab8['push'](_0x4d3368['buffer']),_0x2b41a2&&_0x25fab8['push'](_0x2b41a2['buffer']),_0x1b8ee1&&_0x25fab8['push'](_0x1b8ee1['buffer']),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x5e1fff,'chunkData':_0x3b48e2,'chunkSize':_0x532f6c,'vertexData':_0x12d4cd,'shData0':_0x4d3368,'shData1':_0x2b41a2,'shData2':_0x1b8ee1,'shBands':_0x5c2d37},_0x25fab8);}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class rk{constructor(_0x5a1377,_0x13eb3d,_0x2deb1b,_0x427092,_0x2eea09,_0x39f4fc,_0x41b52c,_0x207213){const _0x4400c0=(_0x29aaa4,_0x1119eb)=>{const _0x490c7c=(-0x26af+0x4df*0x6+-0xe*-0xad<<_0x1119eb)-(0x2b*0xc1+0x1eb*-0x1+0x25*-0xd3);return(_0x29aaa4&_0x490c7c)/_0x490c7c;},_0x89ac12=(_0x3d8beb,_0x2baf6a)=>{_0x3d8beb['x']=_0x4400c0(_0x2baf6a>>>0x3d4+0x9*0x27+-0x83*0xa,0x844+-0x1271+0x1b4*0x6),_0x3d8beb['y']=_0x4400c0(_0x2baf6a>>>-0x347*-0x6+-0xc6e+0x731*-0x1,0x26f*-0xf+0x1f96+0x4f5),_0x3d8beb['z']=_0x4400c0(_0x2baf6a,0xb*-0x361+0xebf+-0x51*-0x47);},_0x13a87b=(_0x69e0be,_0x143da0)=>{_0x69e0be['x']=_0x4400c0(_0x143da0>>>-0x18e6+-0x264e+-0x2*-0x1fa6,0x1013+0x73c+-0x1747),_0x69e0be['y']=_0x4400c0(_0x143da0>>>0x1a*0x3b+0x21*-0x121+0x1f53,-0xff4+0xb73+-0x489*-0x1),_0x69e0be['z']=_0x4400c0(_0x143da0>>>-0x19*-0x161+-0x2353*-0x1+-0x45c4,0xce4+0xe6*0x1e+0x5b0*-0x7),_0x69e0be['w']=_0x4400c0(_0x143da0,0x7*-0x459+-0x1f14+0x3d8b);},_0x2902fb=(_0x1e8cea,_0x11dffb)=>{const _0x4541a3=(-0xa5b*0x1+0x742+-0x1*-0x31a)/(Math['sqrt'](-0x15*-0x14b+-0x2694+0xb6f)*(0x20bd*-0x1+-0x2379+0x4436+0.5)),_0x26dfbb=(_0x4400c0(_0x11dffb>>>-0x23*0xe3+0x3*-0x7a4+0x3609,-0xa0*0x19+0x1661+0x9*-0xbf)-(-0x3*0x86e+-0xfa*-0x20+-0x5f6+0.5))*_0x4541a3,_0x250a0c=(_0x4400c0(_0x11dffb>>>-0x1*0x1343+0x7cd*-0x1+0x1*0x1b1a,0x16c9+-0x11*0xdd+0x2*-0x409)-(0xe3a*0x2+-0x54f*0x4+-0x738+0.5))*_0x4541a3,_0x1677dc=(_0x4400c0(_0x11dffb,0xa*0x2f9+0x1c38+-0x39e8)-(-0x1dfc+0x1931+0x4cb+0.5))*_0x4541a3,_0xda3b30=Math['sqrt'](0x1456*0x1+0x2100+-0x25*0x171-(_0x26dfbb*_0x26dfbb+_0x250a0c*_0x250a0c+_0x1677dc*_0x1677dc));switch(_0x11dffb>>>-0x1e8f+-0x1d45+0x2*0x1df9){case 0x1885+0xec6+-0x274b:_0x1e8cea['set'](_0x26dfbb,_0x250a0c,_0x1677dc,_0xda3b30);break;case 0xd*0xd+-0x1795+-0x1*-0x16ed:_0x1e8cea['set'](_0xda3b30,_0x250a0c,_0x1677dc,_0x26dfbb);break;case 0x259e+0xff+-0x269b:_0x1e8cea['set'](_0x250a0c,_0xda3b30,_0x1677dc,_0x26dfbb);break;case 0x173d+0x1d11+-0x344b:_0x1e8cea['set'](_0x250a0c,_0x1677dc,_0xda3b30,_0x26dfbb);break;}},_0x3abe63=(_0x130a94,_0x183acb,_0x3abd55)=>_0x130a94*(0x1cab*-0x1+0xa7*0x3+0x1ab7-_0x3abd55)+_0x183acb*_0x3abd55,{chunkData:_0x121c90,chunkSize:_0x10afeb,vertexData:_0xcc3cec,shData0:_0x17e69d,shData1:_0x1f3a31,shData2:_0x1553ca,shBands:_0x24ac89}=_0x5a1377,_0x12b53f=[0x114b+-0x14fc+-0x9e*-0x6,0x1*-0x25a3+-0x2*-0xaa1+0x1069,-0x22f5+0xe4e*-0x1+0x3152][_0x24ac89-(-0x3b*-0x73+0x7f*0x1f+-0x97*0x47)],_0x3b71a1=-0x1975+0x1652+0x329*0x1;this['read']=_0x1b5c26=>{const _0x1ce36a=Math['floor'](_0x1b5c26/(-0x1*-0x1bb8+0x1aff+-0x1*0x35b7))*_0x10afeb;if(_0x13eb3d&&(_0x89ac12(_0x13eb3d,_0xcc3cec[_0x1b5c26*_0x3b71a1+(-0x27*-0xf+-0x7ae+0x565)]),_0x13eb3d['x']=_0x3abe63(_0x121c90[_0x1ce36a+(0x31*0x3b+0x111d+-0x6*0x4bc)],_0x121c90[_0x1ce36a+(-0x385+0xe54+-0xacc)],_0x13eb3d['x']),_0x13eb3d['y']=_0x3abe63(_0x121c90[_0x1ce36a+(-0x1*0x1a87+-0xae0+0x12b4*0x2)],_0x121c90[_0x1ce36a+(0x8ee+0x1*-0x1a4d+0x1*0x1163)],_0x13eb3d['y']),_0x13eb3d['z']=_0x3abe63(_0x121c90[_0x1ce36a+(-0x509*-0x7+-0x1*-0x1b7+-0x24f4)],_0x121c90[_0x1ce36a+(-0x1c+0x1454+-0x1433)],_0x13eb3d['z'])),_0x2deb1b&&_0x2902fb(_0x2deb1b,_0xcc3cec[_0x1b5c26*_0x3b71a1+(0xf3e+0x1181*0x1+0x105f*-0x2)]),_0x427092&&(_0x89ac12(_0x427092,_0xcc3cec[_0x1b5c26*_0x3b71a1+(-0x15d*0x14+0x646+0x1500)]),_0x427092['x']=_0x3abe63(_0x121c90[_0x1ce36a+(0xec8+-0x1eab+0x1*0xfe9)],_0x121c90[_0x1ce36a+(0x16f9*-0x1+0x17*-0x192+0x3b20)],_0x427092['x']),_0x427092['y']=_0x3abe63(_0x121c90[_0x1ce36a+(-0x1*-0xf6a+-0x455+-0xb0e)],_0x121c90[_0x1ce36a+(-0x240b+0xb9e*0x1+0x1*0x1877)],_0x427092['y']),_0x427092['z']=_0x3abe63(_0x121c90[_0x1ce36a+(-0x2601+0x5c*0x53+0x835)],_0x121c90[_0x1ce36a+(0x527*-0x5+0x1514+0x4ba)],_0x427092['z'])),_0x2eea09&&(_0x13a87b(_0x2eea09,_0xcc3cec[_0x1b5c26*_0x3b71a1+(-0x250b+0xc41*-0x3+-0x189b*-0x3)]),_0x10afeb>0x18ef+0x17d*-0x17+0x958&&(_0x2eea09['x']=_0x3abe63(_0x121c90[_0x1ce36a+(0x24a4+-0x2bf*-0x7+-0x37d1)],_0x121c90[_0x1ce36a+(-0x8cd+-0x742*-0x3+0x72*-0x1d)],_0x2eea09['x']),_0x2eea09['y']=_0x3abe63(_0x121c90[_0x1ce36a+(-0x8c9+-0x1783+0x2059)],_0x121c90[_0x1ce36a+(-0x2218+0xdf4+-0x4*-0x50d)],_0x2eea09['y']),_0x2eea09['z']=_0x3abe63(_0x121c90[_0x1ce36a+(-0x715*-0x4+-0x1*-0x1019+0x133*-0x25)],_0x121c90[_0x1ce36a+(-0x1ed9+-0x1085+-0x2f6f*-0x1)],_0x2eea09['z']))),_0x39f4fc&&(_0x89ac12(_0x39f4fc,_0xcc3cec[_0x1b5c26*_0x3b71a1+(0x5b2*0x2+-0x1*0x25b7+0x1a57)]),_0x39f4fc['x']=_0x3abe63(_0x121c90[_0x1ce36a+(0x1114+-0x2*-0x7b9+0x43*-0x7c)],_0x121c90[_0x1ce36a+(0x20e5+-0x200e+-0xc2)],_0x39f4fc['x']),_0x39f4fc['y']=_0x3abe63(_0x121c90[_0x1ce36a+(0x54b+0x4*0x926+-0x29d0)],_0x121c90[_0x1ce36a+(-0x13b6+0x895+0xb37)],_0x39f4fc['y']),_0x39f4fc['z']=_0x3abe63(_0x121c90[_0x1ce36a+(0x21e9*0x1+0x26c3+-0x4898)],_0x121c90[_0x1ce36a+(0x21d4+0x153d+-0x1c6*0x1f)],_0x39f4fc['z'])),_0x41b52c&&(_0x89ac12(_0x41b52c,_0xcc3cec[_0x1b5c26*_0x3b71a1+(-0x23f+0x1*0x1cf9+-0x1ab5)]),_0x41b52c['x']=_0x3abe63(_0x121c90[_0x1ce36a+(-0x5*0x4ff+0x1e91+-0x57e)],_0x121c90[_0x1ce36a+(-0xec6+0x3*-0x8c1+-0x75*-0x5a)],_0x41b52c['x']),_0x41b52c['y']=_0x3abe63(_0x121c90[_0x1ce36a+(-0x1c6f+0x249d+-0x814)],_0x121c90[_0x1ce36a+(-0x1472+-0xf2a+-0x29*-0xdf)],_0x41b52c['y'])),_0x207213&&_0x24ac89>-0xc79+0x15c1*-0x1+0x223a){const _0x13f3b6=[_0x17e69d,_0x1f3a31,_0x1553ca];for(let _0x475243=0x26dd*0x1+0xef5+-0x35d2;_0x475243<-0x1*-0x419+0x228b+-0x1*0x26a1;++_0x475243)for(let _0x2db678=-0x1105+0x1f41+-0xe3c;_0x2db678<0x6*-0x335+0x2ea+0x1*0x1063;++_0x2db678)_0x207213[_0x475243*(-0x1487+0x79*-0x13+-0x3*-0x9db)+_0x2db678]=_0x2db678<_0x12b53f?_0x13f3b6[_0x475243][_0x1b5c26*(0x21*0x42+0xbc*-0x10+0x1a7*0x2)+_0x2db678]*((0x1961+0x24d5+0x3*-0x14ba)/(-0x3d9*-0x1+-0xce5*0x2+0x16f0))-(-0x2012*0x1+-0x1aa1+-0x1*-0x3ab7):0xcb0+-0x131*-0xb+-0x19cb;}};}}class ak{constructor(){h(this,'numSplats'),h(this,'comments'),h(this,'chunkData'),h(this,'vertexData'),h(this,'is4D'),h(this,'shData0'),h(this,'shData1'),h(this,'shData2'),h(this,'shBands');}['createIter'](_0x3090c0,_0x7f2f76,_0x3f3559,_0x4b5394,_0x21c699,_0x56095a,_0x5b0946){return new rk(this,_0x3090c0,_0x7f2f76,_0x3f3559,_0x4b5394,_0x21c699,_0x56095a,_0x5b0946);}['calcAabb'](_0x266e55){const {chunkData:_0x3912a9,numChunks:_0x433f7b,chunkSize:_0x21a737}=this;let _0x1ccac2=Math['exp'](Math['max'](_0x3912a9[-0x215*-0xd+-0x103*-0x22+-0x3d6e],_0x3912a9[0xc7c+0x14c3+-0x2135],_0x3912a9[-0x17e1+0x1bc3+-0x3d7*0x1])),_0xafd8b5=_0x3912a9[-0x2376+-0x604+-0x14bd*-0x2]-_0x1ccac2,_0x5046ce=_0x3912a9[-0x1c62+0x4*0x7f9+-0x381]-_0x1ccac2,_0xf623ef=_0x3912a9[0x12cc+0xba0*-0x2+0x476]-_0x1ccac2,_0x20d1fc=_0x3912a9[0x188d+-0x32a+-0xab*0x20]+_0x1ccac2,_0x91f597=_0x3912a9[0x102c+-0xa*-0x2f3+-0x2*0x16d3]+_0x1ccac2,_0x1b1607=_0x3912a9[-0x2*-0xdcb+0x10e4+-0x2c75]+_0x1ccac2;for(let _0x3575f2=0x14*-0x119+0x513*-0x7+0x41b*0xe;_0x3575f2<_0x433f7b;++_0x3575f2){const _0x38b67f=_0x3575f2*_0x21a737;_0x1ccac2=Math['exp'](Math['max'](_0x3912a9[_0x38b67f+(-0x1460+-0x1*0x1794+0x2bfd*0x1)],_0x3912a9[_0x38b67f+(0xfaa*0x1+0x266*0x10+0x9*-0x600)],_0x3912a9[_0x38b67f+(-0x3b3*-0x2+-0x1d39+-0x26e*-0x9)])),_0xafd8b5=Math['min'](_0xafd8b5,_0x3912a9[_0x38b67f+(-0x21fb+0x1ddc+0x41f)]-_0x1ccac2),_0x5046ce=Math['min'](_0x5046ce,_0x3912a9[_0x38b67f+(-0x13c4+-0x1*-0x1a7b+0x35b*-0x2)]-_0x1ccac2),_0xf623ef=Math['min'](_0xf623ef,_0x3912a9[_0x38b67f+(-0xce0+-0xa3d*-0x1+0x2a5)]-_0x1ccac2),_0x20d1fc=Math['max'](_0x20d1fc,_0x3912a9[_0x38b67f+(0xc23+-0x1*0x1d+-0xc03)]+_0x1ccac2),_0x91f597=Math['max'](_0x91f597,_0x3912a9[_0x38b67f+(0xac8+0x1b2f+0x1d*-0x14f)]+_0x1ccac2),_0x1b1607=Math['max'](_0x1b1607,_0x3912a9[_0x38b67f+(-0x123f+0x2267+-0xf3*0x11)]+_0x1ccac2);}return _0x266e55['center']['set']((_0xafd8b5+_0x20d1fc)*(-0x2fe+0x3d*0x4f+-0xfd5+0.5),(_0x5046ce+_0x91f597)*(0x9d*0x11+-0x2593+0x1b26+0.5),(_0xf623ef+_0x1b1607)*(0xab5+0x1c97+0x274c*-0x1+0.5)),_0x266e55['halfExtent'+'s']['set']((_0x20d1fc-_0xafd8b5)*(-0x1*0x10af+-0x2*-0x1367+-0x161f+0.5),(_0x91f597-_0x5046ce)*(0x1*0xebd+-0x1cfc+0xe3f+0.5),(_0x1b1607-_0xf623ef)*(0x8*0x210+0xb17+-0x1b97+0.5)),!(-0x2b*-0x35+0x1*0x557+-0xe3e);}['getCenters'](_0x2cf9da){const {vertexData:_0x351cb9,chunkData:_0x506f08,numChunks:_0x5d1552,chunkSize:_0x10cebd}=this;let _0x1f7b0d,_0x99b370,_0x1a0c21,_0x1f95eb,_0x324080,_0x4ee78d;for(let _0x596ee2=-0x1db8+0x1d5f+0x1*0x59;_0x596ee2<_0x5d1552;++_0x596ee2){const _0xfd51ae=_0x596ee2*_0x10cebd;_0x1f7b0d=_0x506f08[_0xfd51ae+(-0x145c+-0x26f3+0x3b4f)],_0x99b370=_0x506f08[_0xfd51ae+(0x188*0xd+0x2*-0x1a9+-0x1095)],_0x1a0c21=_0x506f08[_0xfd51ae+(-0x7*0x4d2+0xf99+-0x60d*-0x3)],_0x1f95eb=_0x506f08[_0xfd51ae+(-0x113e+-0x101*-0xe+0x333)],_0x324080=_0x506f08[_0xfd51ae+(0x20de+0x469*-0x1+-0x1c71)],_0x4ee78d=_0x506f08[_0xfd51ae+(-0x9b9+-0x8ce+-0x946*-0x2)];const _0x10fc6d=Math['min'](this['numSplats'],(_0x596ee2+(0x20fb+0xb57*-0x1+-0x15a3*0x1))*(-0x1*0x119b+-0x38e+0x1*0x1629));for(let _0x5a975d=_0x596ee2*(-0x1384+0x4*0x1f3+0x65c*0x2);_0x5a975d<_0x10fc6d;++_0x5a975d){const _0x34c6ab=_0x351cb9[_0x5a975d*(0x4*-0x5fe+-0x440+0x1c3c)],_0x4d62e4=(_0x34c6ab>>>-0x157d+-0x602*0x1+0x1b94)/(0x2207+-0x11d7*-0x1+-0x1*0x2bdf),_0x5c9305=(_0x34c6ab>>>-0x6*0x36c+-0xd*0x21a+0x2fe5&0x691*-0x1+0x1e81+-0x1*0x13f1)/(0x1503*-0x1+-0x1baf+-0x7*-0x787),_0x450089=(_0x34c6ab&-0x1395+-0x1f8d+0x3b21)/(0x24f6+0x1*-0x11fd+-0xafa);_0x2cf9da[_0x5a975d*(-0x17d9+-0x246*0x3+0x1eae)+(-0x1cc+0x112a+-0xf5e)]=(-0x23c+0xf11+0xcd4*-0x1-_0x4d62e4)*_0x1f7b0d+_0x4d62e4*_0x1f95eb,_0x2cf9da[_0x5a975d*(-0xa9+-0x5*-0x4c+-0xd0)+(0x13*-0x1d4+-0x1433+0x36f*0x10)]=(0xb*-0x2ab+-0x395*-0xa+-0x678-_0x5c9305)*_0x99b370+_0x5c9305*_0x324080,_0x2cf9da[_0x5a975d*(0x4*-0x39b+0x2*-0x393+-0xdd*-0x19)+(0xd8e+-0x1*-0x67e+0x156*-0xf)]=(-0x14*-0x82+-0x449+-0x5de-_0x450089)*_0x1a0c21+_0x450089*_0x4ee78d;}}}['getChunks'](_0x56f7d2){const {chunkData:_0x34a9d0,numChunks:_0x5deb23,chunkSize:_0x56b72b}=this;let _0x2e3122,_0x32f977,_0x55432d,_0x473582,_0x24260c,_0x3932a9;for(let _0xf9ec3d=-0xa*-0xe2+0x2281+-0x2b55;_0xf9ec3d<_0x5deb23;++_0xf9ec3d){const _0x4f152c=_0xf9ec3d*_0x56b72b;_0x2e3122=_0x34a9d0[_0x4f152c+(-0x1*0x706+0x1d93+0x168d*-0x1)],_0x32f977=_0x34a9d0[_0x4f152c+(-0x1*-0x14fe+-0x2159+0xc5c)],_0x55432d=_0x34a9d0[_0x4f152c+(0x22b5+0x1286+-0x3539)],_0x473582=_0x34a9d0[_0x4f152c+(-0x11*-0x59+-0x2*0x5ae+-0x576*-0x1)],_0x24260c=_0x34a9d0[_0x4f152c+(-0x1d41+0x853*0x2+0xc9f*0x1)],_0x3932a9=_0x34a9d0[_0x4f152c+(0x2*-0xce3+-0x2*0x755+0x2875*0x1)],_0x56f7d2[_0xf9ec3d*(-0x1361+-0xcc1+0x2028)+(-0x3ad*-0x5+0x5*0x61b+-0x30e8)]=_0x2e3122,_0x56f7d2[_0xf9ec3d*(0x4*-0x101+0x22a4+-0x1e9a)+(-0x16*0x96+-0x1*0x1732+0x1*0x2417)]=_0x32f977,_0x56f7d2[_0xf9ec3d*(0xf33+-0x22b+-0xf*0xde)+(0x156b+-0x26e2+0x1179)]=_0x55432d,_0x56f7d2[_0xf9ec3d*(0x7*0x88+0x10eb*-0x1+0xd39)+(-0x76*-0x13+0x3*-0x8d5+0x11c0)]=_0x473582,_0x56f7d2[_0xf9ec3d*(-0x26ee+0x930+-0x27b*-0xc)+(-0x2*-0xb8d+-0x1*0x1b82+0x4*0x11b)]=_0x24260c,_0x56f7d2[_0xf9ec3d*(0x2439+-0x250*0x1+-0x5*0x6c7)+(-0x136*0x18+-0xd3*0x2+0x1ebb)]=_0x3932a9;}}['calcFocalP'+'oint'](_0x2cab0a){const {chunkData:_0x459b08,numChunks:_0x45bb48,chunkSize:_0xc46327}=this;_0x2cab0a['x']=-0x1072+-0x10bb+0x212d,_0x2cab0a['y']=0x1*-0xb11+-0x1*-0x12b5+0x6*-0x146,_0x2cab0a['z']=0x43*-0xe+0x1bfb+-0x5*0x4dd;for(let _0x1f8196=-0x2529+-0x993+0x3*0xf94;_0x1f8196<_0x45bb48;++_0x1f8196){const _0x2e9b0a=_0x1f8196*_0xc46327;_0x2cab0a['x']+=_0x459b08[_0x2e9b0a+(0x945*-0x3+-0x25*0x71+-0xb09*-0x4)]+_0x459b08[_0x2e9b0a+(0x1*-0x22a3+-0x98b+0x2c31)],_0x2cab0a['y']+=_0x459b08[_0x2e9b0a+(-0x259a+0x1c+0x1d*0x14b)]+_0x459b08[_0x2e9b0a+(-0x1f49*0x1+-0x607*0x3+0x3162)],_0x2cab0a['z']+=_0x459b08[_0x2e9b0a+(-0x2005+0x91f+0x4*0x5ba)]+_0x459b08[_0x2e9b0a+(0x97*-0x5+0x11*-0x22a+0x27c2)];}_0x2cab0a['mulScalar']((-0x408+0xfa*0x23+-0x2*0xf13+0.5)/_0x45bb48);}get['isCompress'+'ed'](){return!(0x155*0x7+0x19b0+-0x2303);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x139f+-0x2d*-0xd3+-0x1078));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}async['decompress'](){const _0x43beff=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x2c7d3c}=this;if(_0x2c7d3c>-0xc*0xb0+0x1*0x15fb+-0xdbb){const _0xe7f7a1=[];for(let _0x446a8d=0x1*-0xd2b+0x19cf+-0xca4*0x1;_0x446a8d<0x5d*-0x5b+0x81a*-0x1+0x2956;++_0x446a8d)_0xe7f7a1['push']('f_rest_'+_0x446a8d);_0x43beff['splice'](_0x43beff['indexOf']('f_dc_0')+(0x17*-0x7d+-0x1*0x94a+0x1486),-0x19b9+-0x238+-0x17*-0x137,..._0xe7f7a1);}const _0x2907fe=new ik();return _0x2907fe['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData0'],this['shData1'],this['shData2'],this['shBands']),new Promise((_0x4ff641,_0x1e4d2e)=>{_0x2907fe['on']('decompress'+'ed',_0x9daddd=>{_0x2907fe['destroy'](),_0x4ff641(new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x43beff['map'](_0x36832c=>({'type':'float','name':_0x36832c,'storage':_0x9daddd[_0x36832c],'byteSize':0x4}))}],this['comments']));});});}}async function nk(){const _0x5ac937='super4d-ca'+'che-v1',_0x616ab8={'maxAge':0x9a7ec800,'maxSize':0x280000000},_0x4ccdfd=new Uint8Array([-0xcc3+0x20c1+0x1*-0x138e,-0x1e2*0xd+0x8ee+0x1*0xff8,-0xc49*-0x3+-0x1*0x1f85+-0x4dd,0x1909+0x936+-0x3cd*0x9]),_0xae6eb1=new Uint8Array([0x1*-0x71e+0x29f*-0xd+0x293b,0x695+0x346+-0x976,0x81e*-0x1+-0x1825+0x20b1,0x2*-0x7d7+-0x2696+0x36a8,-0x1*0x16f9+0x21*-0x1f+-0x91d*-0x3,0x1e79+0x1*0xffd+0x1*-0x2e0e,0x1b72+0x2*-0x1231+0x955,-0x1d7c+-0x2089*-0x1+-0x2ac,0x118*0x2+-0x73c+0x570,0x2351+0x23d*0x11+-0xd*0x59d,0x18da*0x1+0x18ff+0x1*-0x3167,-0x1cd1+-0xba1+0x4*0xa1f]),_0xe1efe=0x70a+-0x1c4d+0x1543+0.28209479177387814,_0x48c7ad=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class _0x3d85ce{constructor(_0x5c99c4={}){this['options']={..._0x616ab8,..._0x5c99c4},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=0x1*-0x132d+0x1522+0xa7*-0x3,this['initialize'+'d']=!(-0x191e*-0x1+0x10b*0xb+-0x2496);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x5ac937);const _0x3f58f1=await this['cache']['keys'](),_0x2ca333=[];for(const _0x4c5967 of _0x3f58f1){const _0x33d3a6=_0x4c5967['url'],_0x1e6cea=await this['cache']['match'](_0x33d3a6);if(_0x1e6cea){const _0x1b3bb8=(await _0x1e6cea['blob']())['size'],_0x35b421=_0x1e6cea['headers']['get']('x-cache-ti'+'me');_0x35b421&&_0x2ca333['push']({'url':_0x33d3a6,'size':_0x1b3bb8,'cacheTime':parseInt(_0x35b421)});}}_0x2ca333['sort']((_0x48c2b6,_0x3bf937)=>_0x48c2b6['cacheTime']-_0x3bf937['cacheTime']);for(const _0xba6f45 of _0x2ca333)this['cacheSizes']['set'](_0xba6f45['url'],_0xba6f45['size']),this['currentSiz'+'e']+=_0xba6f45['size'],this['lruList']['push'](_0xba6f45['url']);}catch(_0x2978c9){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x2978c9);}this['initialize'+'d']=!(0x44*-0x24+-0x1b7d+0x769*0x5);}}async['get'](_0x40891b){if(await this['init'](),!this['cache'])return null;try{const _0x66bf82=await this['cache']['match'](_0x40891b);if(!_0x66bf82)return null;const _0x58e916=_0x66bf82['headers']['get']('x-cache-ti'+'me');return _0x58e916&&Date['now']()-parseInt(_0x58e916)>this['options']['maxAge']?(await this['delete'](_0x40891b),null):(this['updateLRU'](_0x40891b),_0x66bf82);}catch{return null;}}async['set'](_0x5ac97d,_0x50552d){if(!(!this['cache']||_0x5ac97d['startsWith']('blob:')))try{const _0x3d00f2=_0x50552d['clone'](),_0x1f00f0=await _0x3d00f2['blob'](),_0x38bc5f=_0x1f00f0['size'];this['currentSiz'+'e']+_0x38bc5f>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x38bc5f);const _0x143e44=new Headers(_0x3d00f2['headers']);_0x143e44['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x578978=new Response(_0x1f00f0,{'status':_0x3d00f2['status'],'statusText':_0x3d00f2['statusText'],'headers':_0x143e44});await this['cache']['put'](_0x5ac97d,_0x578978),this['cacheSizes']['set'](_0x5ac97d,_0x38bc5f),this['currentSiz'+'e']+=_0x38bc5f,this['updateLRU'](_0x5ac97d);}catch(_0x1ca25f){console['error']('Cache\x20set\x20'+'error:',_0x1ca25f);}}['updateLRU'](_0x364176){const _0x3d1b1a=this['lruList']['indexOf'](_0x364176);_0x3d1b1a>-(0x65b+0x180c+-0x6*0x511)&&this['lruList']['splice'](_0x3d1b1a,0x1*0x4a9+-0x3e9+-0xbf),this['lruList']['push'](_0x364176);}async['cleanupSpa'+'ce'](_0x58cea5){const _0x6f1509=this['options']['maxSize']*(-0xd8a+0xf49+0x95*-0x3+0.9);if(!(this['currentSiz'+'e']<=_0x6f1509))for(;this['lruList']['length']>-0x5d*0x1b+-0x359*0x1+0xd28*0x1&&this['currentSiz'+'e']>_0x6f1509;){const _0x3d0849=this['lruList']['shift']();_0x3d0849&&await this['delete'](_0x3d0849);}}async['delete'](_0x9c8b53){if(this['cache'])try{await this['cache']['delete'](_0x9c8b53);const _0x44f68e=this['cacheSizes']['get'](_0x9c8b53)||-0x1c02+0x1c51+-0x4f;this['currentSiz'+'e']-=_0x44f68e,this['cacheSizes']['delete'](_0x9c8b53);const _0x52af99=this['lruList']['indexOf'](_0x9c8b53);_0x52af99>-(0x2611+0x17b*-0xa+0x1a*-0xe5)&&this['lruList']['splice'](_0x52af99,0x9e8*0x2+0x1b7*-0x13+0x1*0xcc6);}catch(_0x430bc6){console['error']('Cache\x20dele'+'te\x20error:',_0x430bc6);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x30eb2d=>Promise['all'](_0x30eb2d['map'](_0x24e1cb=>{var _0x5272d0;return(_0x5272d0=this['cache'])==null?void(0x1*-0x7d2+0x1*0xfb8+-0x7e6):_0x5272d0['delete'](_0x24e1cb);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x145f+0x1ec3+0x11*-0x302;}catch(_0x5bd308){console['error']('Cache\x20clea'+'r\x20error:',_0x5bd308);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0xb13+0xa5*-0x2f+-0xa*-0x423;}}class _0x2fa8de{constructor(_0x201136=[],_0x28de8a={}){this['cacheManag'+'er']=new _0x3d85ce(_0x28de8a['cache']),this['retryCount']=_0x28de8a['retryCount']||0x195c+-0x2107+-0x2*-0x3d7,this['retryDelay']=_0x28de8a['retryDelay']||0x1*0x207+0x1*-0x4c3+-0x78*-0xa,this['maxConcurr'+'ency']=_0x28de8a['maxConcurr'+'ency']||-0x1*0x4a2+0x2ed*0xc+-0x1e78,this['downloadQu'+'eue']=_0x201136,this['isProcessi'+'ngDownload'+'Queue']=!(-0x138+-0x1af3+0x1c2c),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(-0x1891+-0x3*-0x6f7+0x3ac);this['downloadQu'+'eue']['length']>-0x8ef*0x4+0x1*-0x1e77+-0x975*-0x7;)try{const _0x3f2cd2=this['downloadQu'+'eue']['splice'](0x1fb6+0x1*-0x2327+0x1*0x371,this['maxConcurr'+'ency'])['map'](_0x50706f=>{if(!this['pendingRes'+'ponses']['has'](_0x50706f)){const _0x13097c=this['download'](_0x50706f);return this['pendingRes'+'ponses']['set'](_0x50706f,_0x13097c),_0x13097c['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x50706f);});}return Promise['resolve']();});await Promise['all'](_0x3f2cd2);}catch(_0x19f1f8){console['error']('Download\x20e'+'rror:',_0x19f1f8);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(-0x2684+0x1e2*-0x13+0xd1*0x5b);}}}async['fetch'](_0x2bb134,_0x44ec8b={}){if(this['pendingRes'+'ponses']['has'](_0x2bb134))return this['pendingRes'+'ponses']['get'](_0x2bb134);const {forceRefresh:_0x4f9318=!(0xcca+0x287*-0x1+-0xa42),..._0x42b541}=_0x44ec8b;this['pendingRes'+'ponses']['set'](_0x2bb134,this['download'](_0x2bb134,_0x42b541));const _0x37c87a=await this['pendingRes'+'ponses']['get'](_0x2bb134);return this['pendingRes'+'ponses']['delete'](_0x2bb134),_0x37c87a;}async['download'](_0x10cf1e,_0xd31886={}){var _0x1b5bec;await((_0x1b5bec=this['cacheManag'+'er'])==null?void(-0x9b1+-0x4b4*0x6+0x25e9):_0x1b5bec['init']());const {forceRefresh:_0x31d565=!(0x261c+-0x4f*0x35+-0x4*0x570),..._0x4ea91c}=_0xd31886;_0x31d565&&await this['cacheManag'+'er']['delete'](_0x10cf1e);const _0x513135=await this['cacheManag'+'er']['get'](_0x10cf1e);if(_0x513135)return _0x513135;let _0x2bfb3e;for(let _0x2fe3b3=0x244c+0x5a0+-0x4*0xa7b;_0x2fe3b3<this['retryCount'];_0x2fe3b3++)try{const _0x4cc1c3=await fetch(_0x10cf1e,_0x4ea91c);if(!_0x4cc1c3['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x4cc1c3['status']);return await this['cacheManag'+'er']['set'](_0x10cf1e,_0x4cc1c3),_0x4cc1c3;}catch(_0x47d70c){console['error']('Download\x20e'+'rror:',_0x47d70c),_0x2bfb3e=_0x47d70c,_0x2fe3b3<this['retryCount']-(0x29*-0xca+0x1f*-0x11b+-0x2*-0x2150)&&await new Promise(_0x446426=>setTimeout(_0x446426,this['retryDelay']*(_0x2fe3b3+(0x1dc7+-0x153a+-0x88c*0x1))));}throw _0x2bfb3e;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){this['cacheManag'+'er']['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(0x221a*-0x1+0x6d+0x21ae),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x4d45af{constructor(){this['numSplats']=0x455*0x5+0x23d*0x2+-0x1a23,this['comments']=[],this['chunkData']=new Float32Array(-0x1637+0x2641+-0x100a),this['vertexData']=new Uint32Array(-0x3b9*-0x7+0x241b+-0x3e2a),this['is4D']=!(-0x437*-0x9+0x188f*-0x1+-0x1ac*0x8),this['shBands']=-0xfc6+-0x1757+-0x1f*-0x143,this['shData0']=new Uint8Array(0x2*-0xc7b+-0x1f56+0x384c),this['shData1']=new Uint8Array(0xfa7+-0x1ffe+0x1057),this['shData2']=new Uint8Array(0x1874+-0x1929+0xb5),this['elements']=[],this['isCompress'+'ed']=!(-0x1d*-0x7f+-0x1205+-0x136*-0x3);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x2464+0x241c+0xa4*0x2));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}}class _0x299471{constructor(_0x2d1f5e,_0x25e290=[]){this['elements']=_0x2d1f5e,this['comments']=_0x25e290,this['isCompress'+'ed']=!(0x106*0x17+-0x20*0x4+-0x1709*0x1);}}class _0x42989a{constructor(_0x654f98,_0x23813b){this['reader']=_0x654f98,this['progressFu'+'nc']=_0x23813b,this['head']=0x3af*-0x4+0xb*-0x257+-0x31d*-0xd,this['tail']=0xe89+0x3*-0x552+0x5*0x49;}async['read'](){var _0x5dfd3d;const {value:_0x442668,done:_0x1be602}=await this['reader']['read']();if(_0x1be602)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x442668),(_0x5dfd3d=this['progressFu'+'nc'])==null||_0x5dfd3d['call'](this,_0x442668['byteLength']);}['push'](_0x1b79ea){if(!this['data'])this['data']=_0x1b79ea,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x1b79ea['length'];else{const _0x28ec88=this['tail']-this['head'],_0x56bff0=_0x28ec88+_0x1b79ea['length'];if(this['data']['length']>=_0x56bff0)this['head']>-0x4a7*0x7+-0x200d+0x409e?(this['data']['copyWithin'](-0x1448+-0x2513+-0x395b*-0x1,this['head'],this['tail']),this['data']['set'](_0x1b79ea,_0x28ec88),this['head']=-0xcf*-0xf+0x335*-0x1+0x23b*-0x4,this['tail']=_0x56bff0):(this['data']['set'](_0x1b79ea,this['tail']),this['tail']+=_0x1b79ea['length']);else{const _0x24e008=new Uint8Array(_0x56bff0);this['head']>0x197+0x1deb*0x1+-0x1f82||this['tail']<this['data']['length']?_0x24e008['set'](this['data']['subarray'](this['head'],this['tail']),-0x20db+-0x115*0x18+-0x1*-0x3ad3):_0x24e008['set'](this['data'],-0x1177+-0xe57*-0x1+0x20*0x19),_0x24e008['set'](_0x1b79ea,_0x28ec88),this['data']=_0x24e008,this['view']=new DataView(this['data']['buffer']),this['head']=0x1d92*0x1+-0xb18+-0xb*0x1ae,this['tail']=_0x56bff0;}}}['compact'](){this['head']>-0x241d+0x13a3+0x107a&&(this['data']['copyWithin'](0x1b7a+0xa0*-0x13+0xf9a*-0x1,this['head'],this['tail']),this['tail']-=this['head'],this['head']=-0x17e4+0xd05*-0x1+0x24e9);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x4417ae=this['view']['getInt8'](this['head']);return this['head']++,_0x4417ae;}['getUint8'](){const _0x2e06a8=this['view']['getUint8'](this['head']);return this['head']++,_0x2e06a8;}['getInt16'](){const _0x2d3b28=this['view']['getInt16'](this['head'],!(0x1228+-0x11ac+-0x7c));return this['head']+=0x14e*0x3+-0x826*0x2+0xc64*0x1,_0x2d3b28;}['getUint16'](){const _0x564b0e=this['view']['getUint16'](this['head'],!(0x1*0x845+-0x2*-0xab5+-0x1daf));return this['head']+=0xe9c+0x1*-0x905+0x1*-0x595,_0x564b0e;}['getInt32'](){const _0xd84664=this['view']['getInt32'](this['head'],!(0x13*0x180+-0x140a+-0x876));return this['head']+=-0x2d7+-0x24bb*-0x1+-0x21e0,_0xd84664;}['getUint32'](){const _0x12cc6e=this['view']['getUint32'](this['head'],!(-0xe*-0x220+-0x25c0+0x800));return this['head']+=0xe09*-0x2+-0x1591+-0x3*-0x108d,_0x12cc6e;}['getFloat32'](){const _0x6b66a=this['view']['getFloat32'](this['head'],!(-0x13d*-0x1+0x221*0xf+-0x212c));return this['head']+=0x80c+0xd86+-0x158e,_0x6b66a;}['getFloat64'](){const _0x47c1b0=this['view']['getFloat64'](this['head'],!(-0x26d*0x7+0x1750+0x1*-0x655));return this['head']+=0x14*-0x1b5+-0xd7*-0x9+-0x1a9d*-0x1,_0x47c1b0;}}class _0x12d471{constructor(_0x217127,_0x9c182d,_0x1b7669){this['x']=_0x217127,this['y']=_0x9c182d,this['z']=_0x1b7669;}}class _0xa90836{constructor(_0x44e47f,_0xb41e2b,_0x52498c,_0x5773d9){this['x']=_0x44e47f,this['y']=_0xb41e2b,this['z']=_0x52498c,this['w']=_0x5773d9;}}class _0x33ff2c{constructor(_0x283542,_0x46b318,_0x681d2e,_0x4b355a){this['x']=_0x283542,this['y']=_0x46b318,this['z']=_0x681d2e,this['w']=_0x4b355a;}['set'](_0x517b3f,_0x426865,_0x1630d6,_0x5e704c){this['x']=_0x517b3f,this['y']=_0x426865,this['z']=_0x1630d6,this['w']=_0x5e704c;}}class _0x3557ac{constructor(_0x1df0fe,_0x47f8fe,_0x3f8a17,_0x71da4e,_0x3c742b,_0x337be0,_0x31888f,_0x357a82,_0x10da91,_0x4912ed,_0xea9f9f,_0x5563be,_0x4bcd42,_0x76dbb7){const _0x2d0286=(_0xec4d9f,_0x207a19)=>{const _0x2b8ce1=(0x10e*0x1d+-0x14e6+-0x9af<<_0x207a19)-(-0x3b*-0x19+0xc8e+-0x1250);return(_0xec4d9f&_0x2b8ce1)/_0x2b8ce1;},_0x20de7f=(_0xf8c2a1,_0x20cb14)=>{_0xf8c2a1['x']=_0x2d0286(_0x20cb14>>>-0x497*0x5+0x3d*0x5b+0xf*0x17,-0x78b*0x5+0x238+0x238a),_0xf8c2a1['y']=_0x2d0286(_0x20cb14>>>-0x4*-0x4c7+-0x1f40+0xc2f,0x1be0+-0x1*-0x1085+-0x8df*0x5),_0xf8c2a1['z']=_0x2d0286(_0x20cb14,0x65a+-0xab2+0x1*0x463);},_0x51d531=(_0x355801,_0x27a3f6)=>{_0x355801['x']=_0x2d0286(_0x27a3f6>>>0xd1*0xf+-0x16f1+0xaca,0x205*-0x4+0x4c6+0xe*0x3d),_0x355801['y']=_0x2d0286(_0x27a3f6>>>-0x2523+0x34*-0xbb+0x4b2f,0x5f*0x5e+-0x5f+-0x227b),_0x355801['z']=_0x2d0286(_0x27a3f6>>>-0x1da5+0xde4+-0xfc9*-0x1,0x5*0x329+0x18da+-0x289f),_0x355801['w']=_0x2d0286(_0x27a3f6,-0xd*0xe1+0x10b4+-0x53f);},_0x161a5a=(_0x41502e,_0x3a15ef)=>{const _0x4ff948=(-0x9+-0x80c+-0x45*-0x1e)/(Math['sqrt'](0x1*-0x78d+0x7*0x39c+0x5e7*-0x3)*(-0x188*0xe+0x18f7+-0x81*0x7+0.5)),_0x4929d2=(_0x2d0286(_0x3a15ef>>>-0x1*-0x752+0x1*-0x124f+-0x1*-0xb11,-0xc59+-0x5c5*0x5+0x293c)-(0x8*0x149+0x254*-0x5+0x1d*0xc+0.5))*_0x4ff948,_0x1afa92=(_0x2d0286(_0x3a15ef>>>0xa06+0x54*-0x39+0x8b8,-0x100e*0x2+0x61b+0x71*0x3b)-(0x263a*0x1+-0x1865*-0x1+-0x3e9f+0.5))*_0x4ff948,_0x44626b=(_0x2d0286(_0x3a15ef,0x295*-0x9+-0x17bf+0x1a*0x1cf)-(-0xc*0x211+-0x4*-0x9b+0x1660+0.5))*_0x4ff948,_0x39b727=Math['sqrt'](0x13a4+0x1017+-0x22*0x10d-(_0x4929d2*_0x4929d2+_0x1afa92*_0x1afa92+_0x44626b*_0x44626b));switch(_0x3a15ef>>>0x1ede+0x1*-0x58d+-0x1*0x1933){case 0x207b+0xc95+-0x2d10:_0x41502e['set'](_0x4929d2,_0x1afa92,_0x44626b,_0x39b727);break;case-0x1133+0x7c7*-0x2+-0xe*-0x257:_0x41502e['set'](_0x39b727,_0x1afa92,_0x44626b,_0x4929d2);break;case 0x1055+0x156f+-0x25c2:_0x41502e['set'](_0x1afa92,_0x39b727,_0x44626b,_0x4929d2);break;case-0x16a5+-0xa7f+0x2127:_0x41502e['set'](_0x1afa92,_0x44626b,_0x39b727,_0x4929d2);break;}},_0x5eb122=(_0x46f418,_0x3e87c8,_0x52ae91)=>_0x46f418*(-0x7f6*-0x2+-0x24f7+0x382*0x6-_0x52ae91)+_0x3e87c8*_0x52ae91,_0xed0e04=[-0x8b4+-0xcd5+-0x1c*-0xc5,0x7df+-0x97*-0xd+-0xf82,-0xc99*0x1+-0x6d2+0x137a][_0x31888f-(0x1c67+0x1d0b+-0x3971)],_0x1e44bd=-0x21*0xf1+0x711*0x3+0x9e4;this['read']=_0x53e070=>{const _0x3a0e21=Math['floor'](_0x53e070/(0x4*0x76f+0x22c2*0x1+-0x3f7e))*_0x47f8fe;if(_0x357a82&&(_0x20de7f(_0x357a82,_0x3f8a17[_0x53e070*_0x1e44bd+(0x1*-0xfbb+0x1*-0x709+-0xbc*-0x1f)]),_0x357a82['x']=_0x5eb122(_0x1df0fe[_0x3a0e21+(0x18df+-0x20d+-0x17*0xfe)],_0x1df0fe[_0x3a0e21+(-0x1*0x1e36+0x5*0x252+0x129f)],_0x357a82['x']),_0x357a82['y']=_0x5eb122(_0x1df0fe[_0x3a0e21+(-0xd87+0x1*0x13b2+-0x2*0x315)],_0x1df0fe[_0x3a0e21+(0x1675+-0x270f+0x109e)],_0x357a82['y']),_0x357a82['z']=_0x5eb122(_0x1df0fe[_0x3a0e21+(0x26e4+0x87e*0x1+-0x2f60)],_0x1df0fe[_0x3a0e21+(-0x72*0x3d+0x10*0xd5+-0x43*-0x35)],_0x357a82['z'])),_0x10da91&&_0x161a5a(_0x10da91,_0x3f8a17[_0x53e070*_0x1e44bd+(0x1*0x1c19+-0x10*0x22b+-0x8*-0xd3)]),_0x4912ed&&(_0x20de7f(_0x4912ed,_0x3f8a17[_0x53e070*_0x1e44bd+(0x1*-0x159b+0x1bb2+-0x3*0x207)]),_0x4912ed['x']=_0x5eb122(_0x1df0fe[_0x3a0e21+(-0x1*-0x1157+0xb*-0xe9+-0xb*0xaa)],_0x1df0fe[_0x3a0e21+(0x5*-0x739+0x1*-0x18a2+0x3cc8)],_0x4912ed['x']),_0x4912ed['y']=_0x5eb122(_0x1df0fe[_0x3a0e21+(-0x322*0x7+0x785+0xe70)],_0x1df0fe[_0x3a0e21+(0x1303+0xd10+-0x2009)],_0x4912ed['y']),_0x4912ed['z']=_0x5eb122(_0x1df0fe[_0x3a0e21+(-0x653+0x1462+-0xe07)],_0x1df0fe[_0x3a0e21+(0x21ca+-0x188b+-0x934)],_0x4912ed['z'])),_0xea9f9f&&(_0x51d531(_0xea9f9f,_0x3f8a17[_0x53e070*_0x1e44bd+(-0x16b5*-0x1+-0x556+-0x115c)]),_0x47f8fe>-0x1e04+0x1172+0xc9e&&(_0xea9f9f['x']=_0x5eb122(_0x1df0fe[_0x3a0e21+(-0x3a5+0x8d3+-0x522)],_0x1df0fe[_0x3a0e21+(-0x7*-0x2ce+-0x1618*0x1+-0x2b*-0xf)],_0xea9f9f['x']),_0xea9f9f['y']=_0x5eb122(_0x1df0fe[_0x3a0e21+(0x7ba*-0x2+-0x998+0x1*0x1919)],_0x1df0fe[_0x3a0e21+(0xa56+0x232+0x4c*-0x2a)],_0xea9f9f['y']),_0xea9f9f['z']=_0x5eb122(_0x1df0fe[_0x3a0e21+(-0x1406+-0x78b*-0x2+0x4fe)],_0x1df0fe[_0x3a0e21+(0x1ec3+-0xabd+-0x13f5)],_0xea9f9f['z']))),_0x5563be&&(_0x20de7f(_0x5563be,_0x3f8a17[_0x53e070*_0x1e44bd+(-0xae9+-0x1442*0x1+0x1f2f)]),_0x5563be['x']=_0x5eb122(_0x1df0fe[_0x3a0e21+(-0x1e58+0xba*0x32+0x2*-0x2f5)],_0x1df0fe[_0x3a0e21+(0x1*-0x757+0x2*-0x104a+0x40*0xa0)],_0x5563be['x']),_0x5563be['y']=_0x5eb122(_0x1df0fe[_0x3a0e21+(0x198e*0x1+0x3b*-0x8b+0x347*0x2)],_0x1df0fe[_0x3a0e21+(-0x156c+-0x9d*0x1+-0x1*-0x161f)],_0x5563be['y']),_0x5563be['z']=_0x5eb122(_0x1df0fe[_0x3a0e21+(-0xad*-0x31+-0xbf4*-0x3+-0x44e5)],_0x1df0fe[_0x3a0e21+(0xaa+-0x1*-0xf53+-0x32e*0x5)],_0x5563be['z'])),_0x4bcd42&&(_0x20de7f(_0x4bcd42,_0x3f8a17[_0x53e070*_0x1e44bd+(0x149f*-0x1+-0x1*-0x1801+-0x35d)]),_0x4bcd42['x']=_0x5eb122(_0x1df0fe[_0x3a0e21+(-0x199c+0x2ac+-0x4*-0x5c2)],_0x1df0fe[_0x3a0e21+(-0x36c*-0x3+-0x25cd+0xdd1*0x2)],_0x4bcd42['x']),_0x4bcd42['y']=_0x5eb122(_0x1df0fe[_0x3a0e21+(-0x1*0x2551+-0x769+0x97*0x4c)],_0x1df0fe[_0x3a0e21+(0x2fc*0x2+0x1fa1+-0x257e)],_0x4bcd42['y'])),_0x76dbb7&&_0x31888f>0x3a*-0xab+0x1bf0+0xace){const _0x508ccb=[_0x71da4e,_0x3c742b,_0x337be0];for(let _0x1d2706=-0x1a63+-0x1910+0x3373;_0x1d2706<0x193*-0xb+0x20a8+-0xf54;++_0x1d2706)for(let _0x1c1c8b=0xd*0x236+-0xb6e+-0x1150;_0x1c1c8b<0xc22+-0xfc+-0xb17;++_0x1c1c8b)_0x76dbb7[_0x1d2706*(0x24ec+-0xa07*-0x1+0x2ee4*-0x1)+_0x1c1c8b]=_0x1c1c8b<_0xed0e04?_0x508ccb[_0x1d2706][_0x53e070*(0x1*0xd13+-0x171*-0x3+-0x8ab*0x2)+_0x1c1c8b]*((0x15f6+-0x1a6f*-0x1+-0x305d*0x1)/(0x1*0x446+-0xf5e+0xc17))-(0x20be+0x637*0x4+-0x3f*0xea):0xb61*0x3+0x1d20+-0x4f*0xcd;}};}}self['onmessage']=async _0x13bf5f=>{var _0x17484b,_0x591cc9,_0x30b57e;const {data:_0x3b2f84}=_0x13bf5f;switch(_0x3b2f84['type']){case'initWorker':globalThis['loadUrlLis'+'t']=_0x3b2f84['loadUrlLis'+'t'],globalThis['fetchWorke'+'r']=new _0x2fa8de(globalThis['loadUrlLis'+'t']);break;case'destroyWor'+'ker':(_0x17484b=globalThis['fetchWorke'+'r'])==null||_0x17484b['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['loadUrlLis'+'t']=[];break;case'loadPly':const {url:_0x4f1b82,decompress:_0x3deff6}=_0x3b2f84;try{globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x2fa8de(globalThis['loadUrlLis'+'t']));const _0x459c1b=await globalThis['fetchWorke'+'r']['fetch'](_0x4f1b82);if(!_0x459c1b||!_0x459c1b['body'])self['postMessag'+'e']({'type':'error','data':'Error\x20load'+'ing\x20resour'+'ce','url':_0x4f1b82});else{const _0x37ddf6=parseInt(_0x459c1b['headers']['get']('content-le'+'ngth')??'0',-0x4fd*0x1+-0x9c0+0x4ed*0x3);self['postMessag'+'e']({'type':'totalLengt'+'h','totalLength':_0x37ddf6,'bytes':0x0,'url':_0x4f1b82});let _0x26e10d=await _0x3b5b7b(_0x459c1b['body']['getReader'](),_0x449867=>{self['postMessag'+'e']({'type':'progress','bytes':_0x449867,'totalLength':_0x37ddf6,'url':_0x4f1b82});});if(_0x3deff6&&_0x26e10d['isCompress'+'ed']){const _0x2216c3=_0x2013fd(_0x26e10d),_0x553790=(_0x591cc9=_0x2216c3==null?void(0x29*0xb1+0x1f*0x5a+-0x273f):_0x2216c3['elements'][0x1*0xd25+0x1198+-0xb7*0x2b])==null?void(0x1*0x1dcd+0x100b+-0x2dd8):_0x591cc9['properties']['map'](_0x276ad4=>_0x276ad4['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x2216c3,'url':_0x4f1b82},_0x553790);}else{if(_0x26e10d['isCompress'+'ed']){const _0x70ee72=['chunkData','vertexData'];_0x26e10d['shData0']&&_0x70ee72['push']('shData0','shData1','shData2');const _0xcf37be=_0x70ee72['map'](_0x751fd6=>{var _0x30ea8e;return(_0x30ea8e=_0x26e10d[_0x751fd6])==null?void(-0x21f*-0x2+-0x2*0x189+0xc*-0x19):_0x30ea8e['buffer'];});self['postMessag'+'e']({'type':'splatData','data':_0x26e10d,'url':_0x4f1b82},_0xcf37be);}else{_0x26e10d=_0x5f1619(_0x26e10d);const _0x2513ab=(_0x30b57e=_0x26e10d==null?void(-0x1d37+-0xe3*0x29+0x4192):_0x26e10d['elements'][0x412+-0x1d*-0x61+0x101*-0xf])==null?void(-0x1f7+-0x2070+-0x2267*-0x1):_0x30b57e['properties']['map'](_0x3a9d58=>_0x3a9d58['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x26e10d,'url':_0x4f1b82},_0x2513ab);}}}}catch(_0x26d7db){self['postMessag'+'e']({'type':'error','data':_0x26d7db['message'],'url':_0x4f1b82});}break;}};const _0x5f1619=_0x30fce9=>{var _0xdaaec7;const _0x5f1a01=(_0xdaaec7=_0x30fce9==null?void(0x1*-0x1ec7+-0xfdf+0x2ea6):_0x30fce9['elements'][-0x14fc+-0xf*0x23+-0x1*-0x1709])==null?void(0x14a4+0x257f*-0x1+0x10db):_0xdaaec7['properties']['find'](_0x86ad0b=>_0x86ad0b['name']==='opacity');if(_0x5f1a01){for(let _0x32551b=-0x181*-0x9+-0x8a*-0x8+-0x11d9*0x1;_0x32551b<_0x5f1a01['storage']['length'];_0x32551b++)_0x5f1a01['storage'][_0x32551b]=(0x1371+0x227*0x12+-0x1*0x3a2e)/(-0x23ec+-0x11dd+0x35ca+Math['exp'](-_0x5f1a01['storage'][_0x32551b]));}return _0x30fce9;},_0x60d1c5=_0x2876fe=>{const _0x349bce=[],_0x2d1e02=[];let _0x4f19c1;for(let _0x38bf42=-0x1*0x8c5+0xfe3*0x1+-0x71d;_0x38bf42<_0x2876fe['length'];++_0x38bf42){const _0x1770f1=_0x2876fe[_0x38bf42]['split']('\x20');switch(_0x1770f1[-0x167d+-0x267a+0x3cf7]){case'comment':_0x2d1e02['push'](_0x1770f1['slice'](0x4*-0x1ff+-0x102e+0x182b)['join']('\x20'));break;case'format':_0x4f19c1=_0x1770f1[-0xd4f+0x44f*-0x1+0x15b*0xd];break;case'element':_0x349bce['push']({'name':_0x1770f1[-0x6d3+0x2268+-0x4*0x6e5],'count':parseInt(_0x1770f1[0x11a+-0xe5f+-0xb*-0x135],0x507+-0xd*-0x95+-0xc8e),'properties':[]});break;case'property':{if(!_0x48c7ad['has'](_0x1770f1[-0x40*-0x84+0xf79+0x21*-0x178]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x1770f1[0x1c5d+-0x22*-0xc9+-0x6*0x92d]+('\x27\x20in\x20ply\x20h'+'eader'));_0x349bce[_0x349bce['length']-(0x5f8+0x275+-0x86c)]['properties']['push']({'type':_0x1770f1[-0x827+-0x194f+0x2177],'name':_0x1770f1[0x1*0x1ac0+0x5*0x72b+-0x1*0x3e95],'storage':null,'byteSize':_0x48c7ad['get'](_0x1770f1[0x27*0x84+0x91e+-0x1d39])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x1770f1[-0x121b+-0x257d+0x3798]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x349bce,'format':_0x4f19c1,'comments':_0x2d1e02};},_0x29e390=_0x505bb6=>{const _0x331821=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x20792a=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x5415e3=new Array(-0x1*-0x8c9+0x933*-0x3+0x12fd)['fill']('')['map']((_0x3c5df0,_0x1fac4e)=>'f_rest_'+_0x1fac4e),_0x3245fd=()=>_0x505bb6[0x9d3*-0x3+0x214d+-0xa*0x62]['name']==='chunk'&&_0x505bb6[-0x4ff+-0x2*0x571+-0x32d*-0x5]['properties']['every']((_0x174927,_0x5bb95a)=>_0x174927['name']===_0x331821[_0x5bb95a]&&_0x174927['type']==='float')&&_0x505bb6[-0x4c0+-0x16*-0x94+-0x7f7]['name']==='vertex'&&_0x505bb6[0xbed*0x2+0x42b*-0x7+0x554]['properties']['every']((_0x4295da,_0x1384eb)=>_0x4295da['name']===_0x20792a[_0x1384eb]&&_0x4295da['type']==='uint'),_0x340417=()=>_0x505bb6[0x22e7+-0x19d1+0x2*-0x48a]['name']==='sh'&&[0x1*0x21cd+0x157*-0xa+-0x145e,-0xc1e*-0x1+0x922*0x1+-0x1528,-0x53*0x35+0x1d32+0x65*-0x1e]['indexOf'](_0x505bb6[0xf25*0x2+-0x2072+0x115*0x2]['properties']['length'])!==-(0x1c8e+-0x949*0x3+-0xb2)&&_0x505bb6[-0x1*0x1c7f+-0x1*0xfc7+0x2c48]['properties']['every']((_0x11b583,_0x4abd70)=>_0x11b583['name']===_0x5415e3[_0x4abd70]&&_0x11b583['type']==='uchar');return _0x505bb6['length']===-0x11a3+0x1*-0x1953+0x2af8&&_0x3245fd()||_0x505bb6['length']===0x1*-0x37+-0x412*0x1+0x44c&&_0x3245fd()&&_0x340417();},_0x3d86a1=_0x28cfda=>_0x28cfda['length']===-0x70a*0x1+-0x267+0x972&&_0x28cfda[0x3*-0x45+-0xb12*0x3+0x2205]['name']==='vertex'&&_0x28cfda[0x1cf2+-0x2615*-0x1+-0x4307]['properties']['every'](_0x3617fd=>_0x3617fd['type']==='float'),_0x181a19=async(_0x2d814b,_0x5ca221,_0x59e4f8)=>{const _0x13ed86=new _0x4d45af();_0x13ed86['comments']=_0x59e4f8;const _0x20cae1=_0x5ca221[0xf5f*0x1+0xb20+0x85*-0x33]['count'],_0x339d82=_0x5ca221[-0x621+0x320+-0x301*-0x1]['properties']['length'],_0x49d4d5=_0x5ca221[-0x8*-0x49d+0x2*0x5ce+-0x1*0x3083]['count'],_0x49d288=_0x5ca221[-0x4*-0x1+-0x918+0x915]['properties']['some'](_0x343909=>_0x343909['name']==='packed_tim'+'e'),_0x29c5a8=(_0x3fb6f2=>{const _0xc14af3=Math['ceil'](Math['sqrt'](_0x3fb6f2)),_0x1b49fd=Math['ceil'](_0x3fb6f2/_0xc14af3);return _0xc14af3*_0x1b49fd;})(_0x49d4d5);_0x13ed86['numSplats']=_0x49d4d5,_0x13ed86['is4D']=_0x49d288,_0x13ed86['chunkData']=new Float32Array(_0x20cae1*_0x339d82),_0x13ed86['vertexData']=new Uint32Array(_0x29c5a8*(0x1472+0x253a+0x39a6*-0x1));const _0x49938f=async(_0x3a8c02,_0xfc7361)=>{const _0x507eba=new Uint8Array(_0x3a8c02);let _0x5dadd7=0x2e2+-0x1188+0xea6;for(;_0x5dadd7<_0xfc7361;){for(;_0x2d814b['remaining']===-0x1c6b+-0x3*-0xab6+-0x3b7;)await _0x2d814b['read']();const _0x45db75=Math['min'](_0xfc7361-_0x5dadd7,_0x2d814b['remaining']),_0x1d5728=_0x2d814b['data'];for(let _0x437438=0x270+-0x7d8*0x1+0x568;_0x437438<_0x45db75;++_0x437438)_0x507eba[_0x5dadd7++]=_0x1d5728[_0x2d814b['head']++];}};if(await _0x49938f(_0x13ed86['chunkData']['buffer'],_0x20cae1*_0x339d82*(0x1b5+-0x50+-0x161)),await _0x49938f(_0x13ed86['vertexData']['buffer'],_0x49d4d5*(0xec8+-0x728+-0x79a)*(-0xd*0xa9+-0x1eef+0x8*0x4f1)),_0x5ca221['length']===0x4b3+0xa18+-0xec8){const _0xfcbf7d=_0x29c5a8*(-0x1365+-0x7c2*-0x1+0xbb3),_0x36504f=new Uint8Array(_0xfcbf7d),_0x5534f7=new Uint8Array(_0xfcbf7d),_0x34b15f=new Uint8Array(_0xfcbf7d),_0x3b91b2=-0x11*0x17e+-0x16ef+0x344d,_0xba6525=_0x5ca221[-0x7d4+0x249+0xcb*0x7]['properties']['length']/(0xce3+0xa1e+0xda*-0x1b),_0xb981ac=new Uint8Array(_0x3b91b2*_0xba6525*(-0xc78*-0x2+0x17b0+-0x9b9*0x5));for(let _0x4a62f2=0x1176+-0x4c*0x37+-0x2*0x91;_0x4a62f2<_0x13ed86['numSplats'];_0x4a62f2+=_0x3b91b2){const _0x268645=Math['min'](_0x3b91b2,_0x13ed86['numSplats']-_0x4a62f2);await _0x49938f(_0xb981ac['buffer'],_0x268645*_0xba6525*(-0x1*-0x2ab+0x1*-0x1ead+0x1c05));for(let _0x14d3d8=-0x245f*-0x1+0x1*-0x19e2+0xb3*-0xf;_0x14d3d8<_0x268645;++_0x14d3d8)for(let _0x4af044=-0x1d68+-0x397*0x2+0x2496;_0x4af044<0x2a2*0x8+0x2*0x8f2+-0x26e5;++_0x4af044){const _0x544180=(_0x4a62f2+_0x14d3d8)*(0x175*-0x1+0xfef*0x1+-0xe6a)+_0x4af044;_0x4af044<_0xba6525?(_0x36504f[_0x544180]=_0xb981ac[(_0x14d3d8*(0x4*-0x29+0x1*0x8dd+0x1*-0x836)+(-0x168a*0x1+0x2477+0xded*-0x1))*_0xba6525+_0x4af044],_0x5534f7[_0x544180]=_0xb981ac[(_0x14d3d8*(0x128e+-0x1*-0x1597+-0x2822)+(0x293*-0x1+0x2c5*0x1+-0x31))*_0xba6525+_0x4af044],_0x34b15f[_0x544180]=_0xb981ac[(_0x14d3d8*(-0xc*-0x35+0x1bf9+-0x1e72)+(0x1886+0x1f0c+-0x10*0x379))*_0xba6525+_0x4af044]):(_0x36504f[_0x544180]=0x6d*0x4c+-0x155*0x1+0x1*-0x1e88,_0x5534f7[_0x544180]=-0x2*0x10cb+-0x655+0x5c6*0x7,_0x34b15f[_0x544180]=-0xd*0x101+0x210+-0x46*-0x2a);}}_0x13ed86['shData0']=_0x36504f,_0x13ed86['shData1']=_0x5534f7,_0x13ed86['shData2']=_0x34b15f,_0x13ed86['shBands']={0x3:0x1,0x8:0x2,0xf:0x3}[_0xba6525];}else _0x13ed86['shBands']=-0xd87*0x1+-0x1e62+0x2be9;return _0x13ed86;},_0x291e9e=async(_0x4fbdb5,_0x4f603a,_0x53dcef)=>{const _0x293116=_0x4f603a[0x186b*0x1+0x1b0e*0x1+-0x3379*0x1],_0x502c4e=_0x293116['properties'],_0x1ae805=_0x502c4e['length'],_0x47e96c=_0x502c4e['map'](_0x4c187e=>_0x4c187e['storage']),_0x2cd8f5=_0x502c4e['reduce']((_0x257272,_0x171b25)=>_0x257272+_0x171b25['byteSize'],-0x8c0+-0x5*0x182+0x104a);let _0x5189ee=0x15ce*-0x1+0x152c+0xa2,_0x3e08b0;const _0xc9900b=()=>{const _0x53e451=_0x4fbdb5['data']['buffer'];(_0x3e08b0==null?void(-0x6c9+-0x1d9b+-0x919*-0x4):_0x3e08b0['buffer'])!==_0x53e451&&(_0x3e08b0=new Float32Array(_0x53e451,0x349*0x7+0xa49*0x1+-0x2148,_0x53e451['byteLength']/(0x17d7+-0x1*0x2049+0x876)));};for(_0xc9900b();_0x5189ee<_0x293116['count'];){for(;_0x4fbdb5['remaining']<_0x2cd8f5;)await _0x4fbdb5['read'](),_0xc9900b();const _0x19b204=Math['min'](_0x293116['count']-_0x5189ee,Math['floor'](_0x4fbdb5['remaining']/_0x2cd8f5));for(let _0x552df9=0x170b+0x605*-0x4+0x109;_0x552df9<_0x1ae805;++_0x552df9){const _0x7f174b=_0x47e96c[_0x552df9];for(let _0x5e265e=-0x1*-0x805+0x6a9+-0x757*0x2;_0x5e265e<_0x19b204;++_0x5e265e)_0x7f174b[_0x5e265e+_0x5189ee]=_0x3e08b0[_0x5e265e*_0x1ae805+_0x552df9];}_0x5189ee+=_0x19b204,_0x4fbdb5['head']+=_0x19b204*_0x2cd8f5;}return new _0x299471(_0x4f603a,_0x53dcef);},_0x34ba40=async(_0x3a754e,_0xef667f,_0x4325ff)=>{for(let _0x23f72a=-0x211*0xd+0x1df3+0xa*-0x4f;_0x23f72a<_0xef667f['length'];++_0x23f72a){const _0x9f70fc=_0xef667f[_0x23f72a],_0x29caf3=_0x9f70fc['properties']['reduce']((_0x313810,_0x23228f)=>_0x313810+_0x23228f['byteSize'],0x9dc+0xb2a+-0x1506),_0xe53d79=_0x9f70fc['properties']['map'](_0x2bdafc=>{if(_0x2bdafc['storage'])switch(_0x2bdafc['type']){case'char':return(_0x51af9d,_0x350b4a)=>{_0x2bdafc['storage'][_0x350b4a]=_0x51af9d['getInt8']();};case'uchar':return(_0x4a7c07,_0x54c119)=>{_0x2bdafc['storage'][_0x54c119]=_0x4a7c07['getUint8']();};case'short':return(_0x599e71,_0x531b2d)=>{_0x2bdafc['storage'][_0x531b2d]=_0x599e71['getInt16']();};case'ushort':return(_0x5c271e,_0x10fb28)=>{_0x2bdafc['storage'][_0x10fb28]=_0x5c271e['getUint16']();};case'int':return(_0x118294,_0x1c7899)=>{_0x2bdafc['storage'][_0x1c7899]=_0x118294['getInt32']();};case'uint':return(_0xd95c4,_0x3203db)=>{_0x2bdafc['storage'][_0x3203db]=_0xd95c4['getUint32']();};case'float':return(_0x4fae4d,_0x28ef4c)=>{_0x2bdafc['storage'][_0x28ef4c]=_0x4fae4d['getFloat32']();};case'double':return(_0x58791e,_0x55094f)=>{_0x2bdafc['storage'][_0x55094f]=_0x58791e['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x2bdafc['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x5ce519=>{_0x5ce519['head']+=_0x2bdafc['byteSize'];};});let _0x35ed7a=-0xa34*-0x3+0x7a0*0x1+-0x98f*0x4;for(;_0x35ed7a<_0x9f70fc['count'];){for(;_0x3a754e['remaining']<_0x29caf3;)await _0x3a754e['read']();const _0x58c6ac=Math['min'](_0x9f70fc['count']-_0x35ed7a,Math['floor'](_0x3a754e['remaining']/_0x29caf3));for(let _0x3dba5d=0x11f9+-0xc0*-0xb+-0x3bf*0x7;_0x3dba5d<_0x58c6ac;++_0x3dba5d){for(let _0x26f228=-0xb98+0x133c*-0x1+0x1ed4;_0x26f228<_0x9f70fc['properties']['length'];++_0x26f228)_0xe53d79[_0x26f228](_0x3a754e,_0x35ed7a);_0x35ed7a++;}}}return new _0x299471(_0xef667f,_0x4325ff);},_0x3b5b7b=async(_0x521636,_0x5c54c5=null)=>{const _0x4cf683=(_0x59709c,_0x580ea1)=>{const _0x75e044=_0x59709c['length']-_0x580ea1['length'];let _0xe44cd6,_0x25b09a;for(_0xe44cd6=0xf3a*0x1+0xaf5+-0x1a2f;_0xe44cd6<=_0x75e044;++_0xe44cd6){for(_0x25b09a=-0xf41+0x1c1b+-0xcda;_0x25b09a<_0x580ea1['length']&&_0x59709c[_0xe44cd6+_0x25b09a]===_0x580ea1[_0x25b09a];++_0x25b09a);if(_0x25b09a===_0x580ea1['length'])return _0xe44cd6;}return-(0x112b+0x3*-0xa8a+0xe74);},_0x32de39=(_0x54d5f5,_0x803da)=>{if(_0x54d5f5['length']<_0x803da['length'])return!(0x2329*-0x1+0x1*0x11da+0x1150);for(let _0x111595=-0x1044*0x1+0x43*0x3e+0xa;_0x111595<_0x803da['length'];++_0x111595)if(_0x54d5f5[_0x111595]!==_0x803da[_0x111595])return!(0x32*-0xd+0x4*-0x920+0x7cf*0x5);return!(-0x27*-0x3a+0x13d*-0xb+0x7*0xaf);},_0x4710ac=new _0x42989a(_0x521636,_0x5c54c5);let _0x32e557;for(;;){if(await _0x4710ac['read'](),_0x4710ac['tail']>=_0x4ccdfd['length']&&!_0x32de39(_0x4710ac['data'],_0x4ccdfd))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x32e557=_0x4cf683(_0x4710ac['data'],_0xae6eb1),_0x32e557!==-(0x1*0xde7+0x97+0xe7d*-0x1))break;}const _0x2ea0fa=new TextDecoder('ascii')['decode'](_0x4710ac['data']['subarray'](0x1bdd+-0x1af7+-0x17*0xa,_0x32e557))['split']('\x0a'),{elements:_0x5c2ff3,format:_0x51e988,comments:_0x565ce0}=_0x60d1c5(_0x2ea0fa);if(_0x51e988!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x4710ac['head']=_0x32e557+_0xae6eb1['length'],_0x4710ac['compact'](),await((async()=>_0x29e390(_0x5c2ff3)?await _0x181a19(_0x4710ac,_0x5c2ff3,_0x565ce0):(_0x5c2ff3['forEach'](_0xf62cfb=>{_0xf62cfb['properties']['forEach'](_0x5c2e80=>{const _0x33fe62=_0x48c7ad['get'](_0x5c2e80['type']);if(_0x33fe62){const _0x574a0c=new _0x33fe62(_0xf62cfb['count']);_0x5c2e80['storage']=_0x574a0c;}});}),_0x3d86a1(_0x5c2ff3)?await _0x291e9e(_0x4710ac,_0x5c2ff3,_0x565ce0):await _0x34ba40(_0x4710ac,_0x5c2ff3,_0x565ce0)))());},_0x2013fd=_0x3ff063=>{const {numSplats:_0x9940d7,chunkData:_0x2aab7f,chunkSize:_0x4d92b0,vertexData:_0x28a920,shData0:_0xd67c5c,shData1:_0x52d252,shData2:_0x11f742,shBands:_0x17e9cd,comments:_0x4ab82a,is4D:_0x26f17b}=_0x3ff063,_0x4ea9bc=['x','y','z','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','f_dc_0','f_dc_1','f_dc_2','opacity'];if(_0x26f17b&&_0x4ea9bc['push']('t','t_scale','motion_0','motion_1','motion_2'),_0x17e9cd>0x1b05*0x1+-0x2663+-0x3ca*-0x3){const _0x1e02c1=[];for(let _0x1a0871=0x2258+0xd37+-0x2f8f;_0x1a0871<0x152a+0x4a9*-0x7+0xba2;++_0x1a0871)_0x1e02c1['push']('f_rest_'+_0x1a0871);_0x4ea9bc['splice'](_0x4ea9bc['indexOf']('f_dc_0')+(-0x1ebe+-0x1c54+0x3b13),0x59*-0x58+-0x484*0x4+0x30a8,..._0x1e02c1);}const _0x5438b9={};_0x4ea9bc['forEach'](_0x3f1f14=>{_0x5438b9[_0x3f1f14]=new Float32Array(_0x9940d7);});const _0x3b1708=new _0x12d471(),_0x52b6d5=new _0x33ff2c(),_0x3661b7=new _0x12d471(),_0x2ae123=new _0xa90836(),_0x409640=new _0x12d471(),_0x3f5e19=new _0x12d471(),_0x5dbd09=_0x17e9cd>-0x1ddf+-0x1ebc+0x6b*0x91?new Float32Array(-0x694*0x4+0x1199+0x472*0x2):null,_0x4f3f8c=new _0x3557ac(_0x2aab7f,_0x4d92b0,_0x28a920,_0xd67c5c,_0x52d252,_0x11f742,_0x17e9cd,_0x3b1708,_0x52b6d5,_0x3661b7,_0x2ae123,_0x409640,_0x3f5e19,_0x5dbd09);for(let _0x758ac9=-0x8*0x4c1+0x916*0x4+0x1b0;_0x758ac9<_0x9940d7;++_0x758ac9){_0x4f3f8c['read'](_0x758ac9),_0x5438b9['x'][_0x758ac9]=_0x3b1708['x'],_0x5438b9['y'][_0x758ac9]=_0x3b1708['y'],_0x5438b9['z'][_0x758ac9]=_0x3b1708['z'],_0x5438b9['rot_1'][_0x758ac9]=_0x52b6d5['x'],_0x5438b9['rot_2'][_0x758ac9]=_0x52b6d5['y'],_0x5438b9['rot_3'][_0x758ac9]=_0x52b6d5['z'],_0x5438b9['rot_0'][_0x758ac9]=_0x52b6d5['w'],_0x5438b9['scale_0'][_0x758ac9]=_0x3661b7['x'],_0x5438b9['scale_1'][_0x758ac9]=_0x3661b7['y'],_0x5438b9['scale_2'][_0x758ac9]=_0x3661b7['z'],_0x5438b9['motion_0'][_0x758ac9]=_0x409640['x'],_0x5438b9['motion_1'][_0x758ac9]=_0x409640['y'],_0x5438b9['motion_2'][_0x758ac9]=_0x409640['z'],_0x5438b9['t_scale'][_0x758ac9]=_0x3f5e19['x'],_0x5438b9['t'][_0x758ac9]=_0x3f5e19['y'],_0x5438b9['f_dc_0'][_0x758ac9]=(_0x2ae123['x']-(0x22*0x8f+-0x1c6d*0x1+0x325*0x3+0.5))/_0xe1efe,_0x5438b9['f_dc_1'][_0x758ac9]=(_0x2ae123['y']-(-0x1f23+0x1664+-0x8bf*-0x1+0.5))/_0xe1efe,_0x5438b9['f_dc_2'][_0x758ac9]=(_0x2ae123['z']-(0x5f*0x46+0x149a+0x2e94*-0x1+0.5))/_0xe1efe;const _0x37d31a=_0x2ae123['w']<=-0xa9a*0x1+-0x2415+0x2eaf?-(-0x61*-0x21+-0x1b2e*0x1+0xed5):_0x2ae123['w']>=-0xf9a+0xa06+0x595?-0xb69+0x8cf*0x3+-0xedc:-Math['log']((0xc6d+0x9b7*-0x1+-0x1*0x2b5)/_0x2ae123['w']-(0xb*0x4b+0x30+0x1b4*-0x2));if(_0x5438b9['opacity'][_0x758ac9]=(0xc77+-0x5d1+-0x1b*0x3f)/(0x1fc+-0x9a*0x16+0xb41+Math['exp'](-_0x37d31a)),_0x5dbd09){for(let _0xf9a394=-0x1c87+0x11*0x46+0x17e1;_0xf9a394<0x20ea+-0x86a*0x1+-0x1df*0xd;++_0xf9a394)_0x5438b9['f_rest_'+_0xf9a394][_0x758ac9]=_0x5dbd09[_0xf9a394];}}const _0x292885=[{'count':_0x9940d7,'name':'vertex','properties':_0x4ea9bc['map'](_0x187c7e=>({'byteSize':0x4,'name':_0x187c7e,'type':'float','storage':_0x5438b9[_0x187c7e]}))}];return new _0x299471(_0x292885,_0x4ab82a);};}class ok extends me{constructor(_0x2b15ea){super(),h(this,'worker'),h(this,'loadUrlLis'+'t'),(this['loadUrlLis'+'t']=_0x2b15ea,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+nk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','loadUrlList':this['loadUrlLis'+'t']});}['loadPly'](_0x5e1eba,_0x48c586,_0x3585fe=(_0x1a3a69,_0x454512)=>{},_0xf7696d=(_0x3e5f09,_0x57a263,_0x29e9f6)=>{},_0x441d00=(_0x587c25,_0x4a7855)=>{}){var _0x170c27;return(_0x170c27=this['worker'])==null||_0x170c27['postMessag'+'e']({'type':'loadPly','url':_0x5e1eba,'decompress':_0x48c586}),new Promise((_0x5252fe,_0x38fe27)=>{if(!this['worker']){_0x38fe27(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x5782d8=>{if(!this['worker'])return;const {data:_0x21bc73}=_0x5782d8;if(_0x5e1eba===_0x21bc73['url'])switch(_0x21bc73['type']){case'totalLengt'+'h':_0x3585fe==null||_0x3585fe(_0x21bc73['totalLengt'+'h'],_0x21bc73['url']);break;case'progress':_0xf7696d==null||_0xf7696d(_0x21bc73['bytes'],_0x21bc73['totalLengt'+'h'],_0x21bc73['url']);break;case'splatData':_0x5252fe(_0x21bc73['data']);break;case'error':_0x441d00==null||_0x441d00(_0x21bc73['data'],_0x21bc73['url']);break;}};});}['destroy'](){this['loadUrl']='',this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(-0x1791+-0x1*0x11e7+0x2978));}}class lk{constructor(_0x3d6dab,_0x276490){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'readWorker'),(console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','Register\x20P'+'lyParser.c'+'onstructor'),this['app']=_0x3d6dab,this['maxRetries']=_0x276490,this['urlList']=[],this['gsplatReso'+'urce']=null,this['readWorker']=null,this['totalRecei'+'ved']=-0xe1*0x11+-0x245a+0x334b*0x1);}async['load'](_0x2288f8,_0x5c6fac,_0x1f092a){var _0x2ec968,_0xd83090,_0x5b8db4;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','PlyParser.'+'load'),this['urlList']=[],_0x2288f8['load']['includes'](',')?this['urlList']=_0x2288f8['load']['split'](','):this['urlList']['push'](_0x2288f8['load']);const _0xd6d460=_0x1f092a['data']['createTime']!==((_0xd83090=(_0x2ec968=this['onlyOneAss'+'et'])==null?void(-0xa1*-0xd+0x7dd+0x100a*-0x1):_0x2ec968['data'])==null?void(0x2053*-0x1+-0x17be+0x1f*0x1cf):_0xd83090['createTime']);(!this['readWorker']||_0xd6d460)&&((_0x5b8db4=this['readWorker'])==null||_0x5b8db4['destroy'](),this['readWorker']=new ok(this['urlList']));const _0x564945=_0x1f092a['data']['loadIndex']>=-0xca1+0x2*0x115d+0x1*-0x1619?_0x1f092a['data']['loadIndex']:0x20eb+-0x1ed4+-0x217,_0x377435=_0x1f092a['data']['loadMode']==='all'?this['urlList']['length']-_0x564945:_0x564945+(0x1*-0x1ea7+0xfb*-0x25+0x42ef),_0x35013e=_0x1f092a['data']['timeOption'],_0x4ae88c=_0x1f092a['data']['events'];for(let _0x272fe9=_0x564945;_0x272fe9<_0x377435;_0x272fe9++)await this['loadGsplat'+'Data'](this['urlList'],_0x5c6fac,_0x1f092a,_0x272fe9,_0x35013e,_0x4ae88c,_0x377435);_0x4ae88c['fire']('loadAllAss'+'etsDone');}async['loadGsplat'+'Data'](_0x38aa08,_0x1f6382,_0x177565,_0x4dc52a,_0x13cd7a,_0x3a048e,_0x117fee){var _0x2ead30,_0x3cbe35,_0x5e3053;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','loadGsplat'+'Data',_0x38aa08[_0x4dc52a]['trim'](),_0x4dc52a);const _0xff8378=_0x13cd7a[(0x4ce+0x1920+-0x1dec)*_0x4dc52a]+_0x13cd7a[(0xfa5+-0x1*-0x24f6+-0x3499)*_0x4dc52a+(-0x1*-0x1e7+0x4*-0x713+0xda*0x1f)],_0x170b99=_0x38aa08[_0x4dc52a]['trim']();globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('loadTime','=========='+'=========='+'=========='+'=========='+'=========='+'====='),console['log']('loadTime','start\x20load'+'\x20ply\x20data',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(0x1ef1*-0x1+-0x1d63*0x1+-0x434*-0x13))['toFixed'](0x25ca+0x76+0xa*-0x3d3));try{const _0x560502=await((_0x2ead30=this['readWorker'])==null?void(-0x1*-0x55+0x12f2+-0x1347):_0x2ead30['loadPly'](_0x170b99,_0x177565['data']['decompress'],()=>{this['totalRecei'+'ved']=-0x1b*0xf3+-0x2579+0x3f1a;},(_0x305bc9,_0x520fb0)=>{this['totalRecei'+'ved']+=_0x305bc9,_0x177565&&_0x3a048e['fire']('progress',_0x520fb0*_0x4dc52a/_0x117fee+this['totalRecei'+'ved']/_0x117fee,_0x520fb0);},(_0xf923c0,_0x28a577)=>{debugger;console['warn']('ERROE\x20Load'+'\x20Ply',_0x28a577,_0xf923c0);}));let _0x1a762c;console['log']('loadTime','load\x20ply\x20d'+'ata\x20done',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(-0x1ad8+0x487*0x1+0x29d9))['toFixed'](0x2483+-0x3e*0x71+-0x923*0x1)),_0x560502['isCompress'+'ed']?(_0x1a762c=new ak(),_0x1a762c['comments']=_0x560502['comments'],_0x1a762c['numSplats']=_0x560502['numSplats'],_0x1a762c['is4D']=_0x560502['is4D'],_0x1a762c['chunkData']=_0x560502['chunkData'],_0x1a762c['vertexData']=_0x560502['vertexData'],_0x1a762c['shData0']=_0x560502['shData0'],_0x1a762c['shData1']=_0x560502['shData1'],_0x1a762c['shData2']=_0x560502['shData2'],_0x1a762c['shBands']=_0x560502['shBands']):_0x1a762c=new qn(_0x560502['elements'],_0x560502['comments']),_0x177565['fire']('load:data',_0x1a762c),_0x1a762c['isCompress'+'ed']||_0x177565['data']['reorder'];const _0x3ed4dc=_0x177565['data']['createTime']!==((_0x5e3053=(_0x3cbe35=this['onlyOneAss'+'et'])==null?void(0x1b36+0x18*-0x1+0x10b*-0x1a):_0x3cbe35['data'])==null?void(-0x2*-0xdd5+-0x1b5+-0x19f5*0x1):_0x5e3053['createTime']);this['gsplatReso'+'urce']&&!_0x3ed4dc?this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x1a762c['isCompress'+'ed']?await _0x1a762c['decompress']():_0x1a762c,_0x13cd7a,_0xff8378,_0x177565,_0x3a048e):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new EC(this['app']['graphicsDe'+'vice'],_0x1a762c['isCompress'+'ed']?await _0x1a762c['decompress']():_0x1a762c),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x13cd7a,this['onlyOneAss'+'et']=_0x177565),_0x1f6382(null,this['gsplatReso'+'urce']);}catch(_0x587230){_0x1f6382(_0x587230,null);}}['open'](_0x245d0a,_0x56b805){return _0x56b805;}}async function ck(){const _0x194f0d='super4d-ca'+'che-v1',_0x4dac8e={'maxAge':0x202fbf000,'maxSize':0x280000000},_0x163264=0x2606+0xc85+-0x328b+0.28209479177387814;class _0xa034ce{constructor(_0x4f4928={}){this['options']={..._0x4dac8e,..._0x4f4928},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=-0x1a5*-0x13+0x1f65+-0x3ea4,this['initialize'+'d']=!(-0x16f7*0x1+0x5*-0xc8+-0x20*-0xd7);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x194f0d);const _0x114844=await this['cache']['keys'](),_0x1e0610=[];for(const _0x1798da of _0x114844){const _0x40c4f5=_0x1798da['url'],_0x3bf733=await this['cache']['match'](_0x40c4f5);if(_0x3bf733){const _0x4c1a0a=(await _0x3bf733['blob']())['size'],_0x571308=_0x3bf733['headers']['get']('x-cache-ti'+'me');_0x571308&&_0x1e0610['push']({'url':_0x40c4f5,'size':_0x4c1a0a,'cacheTime':parseInt(_0x571308)});}}_0x1e0610['sort']((_0x1a487b,_0x388536)=>_0x1a487b['cacheTime']-_0x388536['cacheTime']);for(const _0x20ecac of _0x1e0610)this['cacheSizes']['set'](_0x20ecac['url'],_0x20ecac['size']),this['currentSiz'+'e']+=_0x20ecac['size'],this['lruList']['push'](_0x20ecac['url']);}catch(_0x7905a0){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x7905a0);}this['initialize'+'d']=!(-0x2a7+0x187*-0x13+0xfd6*0x2);}}async['get'](_0x243c96){if(await this['init'](),!this['cache'])return null;try{const _0x366c0f=await this['cache']['match'](_0x243c96);if(!_0x366c0f)return null;const _0x32ade0=_0x366c0f['headers']['get']('x-cache-ti'+'me');return _0x32ade0&&Date['now']()-parseInt(_0x32ade0)>this['options']['maxAge']?(await this['delete'](_0x243c96),null):(this['updateLRU'](_0x243c96),_0x366c0f);}catch{return null;}}async['set'](_0x4b996a,_0x427f00){if(!(!this['cache']||_0x4b996a['startsWith']('blob:')))try{const _0x454896=_0x427f00['clone'](),_0x414b8b=await _0x454896['blob'](),_0x35e80a=_0x414b8b['size'];this['currentSiz'+'e']+_0x35e80a>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x35e80a);const _0x63e39a=new Headers(_0x454896['headers']);_0x63e39a['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x46073f=new Response(_0x414b8b,{'status':_0x454896['status'],'statusText':_0x454896['statusText'],'headers':_0x63e39a});await this['cache']['put'](_0x4b996a,_0x46073f),this['cacheSizes']['set'](_0x4b996a,_0x35e80a),this['currentSiz'+'e']+=_0x35e80a,this['updateLRU'](_0x4b996a);}catch(_0x5022c){console['error']('Cache\x20set\x20'+'error:',_0x5022c);}}['updateLRU'](_0x24f8b0){const _0x5e71d3=this['lruList']['indexOf'](_0x24f8b0);_0x5e71d3>-(-0x7*-0x157+0x185*0x12+-0x24ba)&&this['lruList']['splice'](_0x5e71d3,0x95*-0x7+0xc46+-0x1*0x832),this['lruList']['push'](_0x24f8b0);}async['cleanupSpa'+'ce'](_0x307c4b){const _0x4f75bc=this['options']['maxSize']*(-0x1b72+-0x178d+0x32ff+0.9);if(!(this['currentSiz'+'e']<=_0x4f75bc))for(;this['lruList']['length']>0x1e9b+0x22fa+-0x4195&&this['currentSiz'+'e']>_0x4f75bc;){const _0x1d2f5f=this['lruList']['shift']();_0x1d2f5f&&await this['delete'](_0x1d2f5f);}}async['delete'](_0x54e25c){if(this['cache'])try{await this['cache']['delete'](_0x54e25c);const _0x44ee69=this['cacheSizes']['get'](_0x54e25c)||-0x1102+0x1*0x2ef+-0x3*-0x4b1;this['currentSiz'+'e']-=_0x44ee69,this['cacheSizes']['delete'](_0x54e25c);const _0x53252d=this['lruList']['indexOf'](_0x54e25c);_0x53252d>-(-0x43*-0x35+-0x1acf+0x1*0xcf1)&&this['lruList']['splice'](_0x53252d,-0x10e2+0x10d4+0x3*0x5);}catch(_0x45468c){console['error']('Cache\x20dele'+'te\x20error:',_0x45468c);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x28fc5d=>Promise['all'](_0x28fc5d['map'](_0x4c9ff2=>{var _0x14c23f;return(_0x14c23f=this['cache'])==null?void(-0xed2+-0x6cb*0x5+0x30c9):_0x14c23f['delete'](_0x4c9ff2);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x1af3+0xe2f+0x1*-0x2922;}catch(_0x585982){console['error']('Cache\x20clea'+'r\x20error:',_0x585982);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x270f+0x169b*0x1+0x75*0x24;}}class _0x524c06{constructor(_0x2f73e4=[],_0x74f1de={}){this['cacheManag'+'er']=new _0xa034ce(_0x74f1de['cache']),this['retryCount']=_0x74f1de['retryCount']||0x19*0x55+0x1db6*0x1+0x1*-0x2600,this['retryDelay']=_0x74f1de['retryDelay']||-0x11*-0x38+0x1894*-0x1+0x49*0x50,this['maxConcurr'+'ency']=_0x74f1de['maxConcurr'+'ency']||0x119a+-0x9a3*0x1+-0x7f1,this['downloadQu'+'eue']=_0x2f73e4,this['isProcessi'+'ngDownload'+'Queue']=!(0x1*-0xa11+-0x1*-0x25c6+-0x1bb4),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(-0x989*-0x2+-0xd23+-0x5ef*0x1);this['downloadQu'+'eue']['length']>0x1*0xa26+-0x13d7+0x9b1*0x1;)try{const _0x2f9682=this['downloadQu'+'eue']['splice'](-0x1850+0x805*0x3+0x41,this['maxConcurr'+'ency'])['map'](_0x42183a=>{if(!this['pendingRes'+'ponses']['has'](_0x42183a)){const _0x303a66=this['download'](_0x42183a);return this['pendingRes'+'ponses']['set'](_0x42183a,_0x303a66),_0x303a66['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x42183a);});}return Promise['resolve']();});await Promise['all'](_0x2f9682);}catch(_0x23b4a3){console['error']('Download\x20e'+'rror:',_0x23b4a3);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(-0x26ca+-0x769+-0x2*-0x171a);}}}async['fetch'](_0x18d9ff,_0x2ddd4c={}){if(this['pendingRes'+'ponses']['has'](_0x18d9ff))return this['pendingRes'+'ponses']['get'](_0x18d9ff);const {forceRefresh:_0x45fba4=!(0x4f*0x5+-0x10c6*0x1+-0x79e*-0x2),..._0x4d4532}=_0x2ddd4c;this['pendingRes'+'ponses']['set'](_0x18d9ff,this['download'](_0x18d9ff,_0x4d4532));const _0x4b6969=await this['pendingRes'+'ponses']['get'](_0x18d9ff);return this['pendingRes'+'ponses']['delete'](_0x18d9ff),_0x4b6969;}async['download'](_0x2e7d1b,_0x3f4d6a={}){var _0x1b87bf;await((_0x1b87bf=this['cacheManag'+'er'])==null?void(0x23fa+0x1d7b+-0x4175):_0x1b87bf['init']());const {forceRefresh:_0x2d1999=!(-0x13e+-0x76e+0x8ad),..._0x45df00}=_0x3f4d6a;_0x2d1999&&await this['cacheManag'+'er']['delete'](_0x2e7d1b);const _0xdf1b4c=await this['cacheManag'+'er']['get'](_0x2e7d1b);if(_0xdf1b4c)return _0xdf1b4c;let _0x37a78c;for(let _0x44f27a=0x204c+-0x70b*0x3+-0x3b9*0x3;_0x44f27a<this['retryCount'];_0x44f27a++)try{const _0x4e3645=await fetch(_0x2e7d1b,_0x45df00);if(!_0x4e3645['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x4e3645['status']);return await this['cacheManag'+'er']['set'](_0x2e7d1b,_0x4e3645),_0x4e3645;}catch(_0x567925){console['error']('Download\x20e'+'rror:',_0x567925),_0x37a78c=_0x567925,_0x44f27a<this['retryCount']-(0x12b5+0x1*-0xb7b+-0x739)&&await new Promise(_0x44b4a4=>setTimeout(_0x44b4a4,this['retryDelay']*(_0x44f27a+(-0x2341+0xc0+0x2282))));}throw _0x37a78c;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){var _0x52d8ac;(_0x52d8ac=this['cacheManag'+'er'])==null||_0x52d8ac['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(0x270b*0x1+0x18df+-0x3fe9),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x261047{constructor(_0x69eeed,_0x17b209=[]){this['elements']=_0x69eeed,this['comments']=_0x17b209,this['isCompress'+'ed']=!(0xe38+0x47*-0x89+0x17c8);}}class _0x1b493a{constructor(_0x3bdf48){this['url']=_0x3bdf48;}async['readFragme'+'nt'](){globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x524c06(globalThis['downloadQu'+'eueUrlList']));const _0x13ad60=await globalThis['fetchWorke'+'r']['fetch'](this['url']);if(!_0x13ad60['ok'])throw new Error('Failed\x20to\x20'+'fetch\x20'+this['url']+':\x20'+_0x13ad60['statusText']);const _0x19829c=await _0x13ad60['arrayBuffe'+'r'](),_0x171cb9=new Uint8Array(_0x19829c);let _0x224afe=0x15*-0x1ab+0x1ed*0x5+0x1966,{size:_0x3ea5b0,type:_0x211a52}=this['_readBoxHe'+'ader'](_0x171cb9,_0x224afe);if(_0x211a52!=='moof')throw new Error('Not\x20a\x20moof');_0x224afe+=-0x14be+-0x2240+0x3706;const _0x4974e9=_0x224afe+_0x3ea5b0-(0x1*0xcd1+-0x92*-0x43+-0x32ff);let _0x2e0bf8=null;for(;_0x224afe<_0x4974e9;){const {size:_0x7ebae0,type:_0x55c332}=this['_readBoxHe'+'ader'](_0x171cb9,_0x224afe);_0x224afe+=0x1*-0xb24+0x1*-0x204b+0x2b77;const _0x49a801=_0x171cb9['slice'](_0x224afe,_0x224afe+_0x7ebae0-(-0x1d75+-0x1d3+0x1f50));_0x224afe+=_0x7ebae0-(-0x1*-0x649+-0x2*0xa84+0x1*0xec7),_0x55c332==='emsg'&&(_0x2e0bf8=this['_parseEmsg'](_0x49a801));}if(!_0x2e0bf8)throw new Error('Incomplete'+'\x20moof');const {size:_0x5c2afb,type:_0x5335ee}=this['_readBoxHe'+'ader'](_0x171cb9,_0x224afe);if(_0x5335ee!=='mdat')throw new Error('Expected\x20m'+'dat\x20box\x20af'+'ter\x20moof');_0x224afe+=-0x78a*0x3+0x1756+-0xb0;const _0x355e2f=_0x171cb9['slice'](_0x224afe,_0x224afe+(_0x5c2afb-(-0x49a*-0x1+-0xb11+-0x1*-0x67f)));return{'metadata':_0x2e0bf8,'segmentData':_0x355e2f};}['_readBoxHe'+'ader'](_0x55d749,_0x394ae9){if(_0x394ae9+(0x2*-0x626+0x201d+-0x1*0x13c9)>_0x55d749['length'])throw new Error('EOF');const _0x216c9f=_0x55d749[_0x394ae9]<<-0xb*-0x37e+-0x2d8*0x4+-0x1af2|_0x55d749[_0x394ae9+(0xf63+-0x1fff+0x109d)]<<0x9b7+-0x212a+-0xd*-0x1cf|_0x55d749[_0x394ae9+(0x1c1+-0x1e*0xbd+-0x1467*-0x1)]<<-0x501+-0x2*-0xfb3+0x1a5d*-0x1|_0x55d749[_0x394ae9+(-0x7*-0x475+-0x52*0x1a+-0x16dc)],_0x129da1=String['fromCharCo'+'de'](_0x55d749[_0x394ae9+(0x1038+0x3+-0x251*0x7)],_0x55d749[_0x394ae9+(-0x1*0x26ec+0x9e7+0x1d0a)],_0x55d749[_0x394ae9+(-0x1aab*0x1+0x219+-0x2*-0xc4c)],_0x55d749[_0x394ae9+(0x87*0x1d+-0xdde+-0x166*0x1)]);return{'size':_0x216c9f,'type':_0x129da1};}['_parseEmsg'](_0x2fcb62){let _0x984a1a=0x15f0+0x373*-0x9+0x9*0x103;_0x984a1a=_0x2fcb62['indexOf'](0x30*0x36+0x3*-0xc69+-0x1b1b*-0x1,_0x984a1a)+(-0xf24+0x2585+-0x1*0x1660),_0x984a1a=_0x2fcb62['indexOf'](-0x2354+0x13a6+0x9*0x1be,_0x984a1a)+(0xf*0xa9+0x1f83*0x1+-0x1*0x2969),_0x984a1a+=-0x1847+0x1584*-0x1+0x387*0xd;const _0xb91d22=_0x2fcb62['slice'](_0x984a1a);return globalThis['CBOR']['decode'](_0xb91d22);}}class _0x3a162f{constructor(_0x5ce0df=-0x2516*0x1+-0x6*0x1fd+0x3104*0x1,_0x2dd4b1=0x1b*-0x2+-0x5*0x271+0xc6b,_0x17d822=0x2588*0x1+-0x93*0xb+-0x1f37*0x1,_0x1cd3c9=0x207d+0x1*0x4cc+-0x2548){this['x']=_0x5ce0df,this['y']=_0x2dd4b1,this['z']=_0x17d822,this['w']=_0x1cd3c9;}['set'](_0x5d277e,_0xda6734,_0x52c14c,_0x2028be){return this['x']=_0x5d277e,this['y']=_0xda6734,this['z']=_0x52c14c,this['w']=_0x2028be,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x15d235=this){let _0x5b080c=_0x15d235['length']();return _0x5b080c===-0x1904+0x1*0x486+0x147e?(this['x']=this['y']=this['z']=0x2*-0xd29+0x2*-0x1358+0x2*0x2081,this['w']=-0x122b*-0x1+-0x4cb*-0x1+-0x9*0x28d):(_0x5b080c=(-0x7*-0x3d1+0x639+-0x20ef*0x1)/_0x5b080c,this['x']=_0x15d235['x']*_0x5b080c,this['y']=_0x15d235['y']*_0x5b080c,this['z']=_0x15d235['z']*_0x5b080c,this['w']=_0x15d235['w']*_0x5b080c),this;}['mulScalar'](_0x52531,_0x381b87=this){return this['x']=_0x381b87['x']*_0x52531,this['y']=_0x381b87['y']*_0x52531,this['z']=_0x381b87['z']*_0x52531,this['w']=_0x381b87['w']*_0x52531,this;}}self['onmessage']=async _0x32624b=>{var _0x2696ec,_0x59c524;const {data:_0x1f714f}=_0x32624b;switch(_0x1f714f['type']){case'initWorker':importScripts(_0x1f714f['cborXUrl']);break;case'destroyWor'+'ker':_0xda16af();break;case'loadGsdMan'+'ifest':const {manifestUrl:_0x28f906,loadRepresentation:_0x9f70ee}=_0x1f714f,_0x4c963c=await _0x19e6b5(_0x28f906,_0x9f70ee);globalThis['manifestUr'+'l']=_0x28f906,globalThis['manifest']=_0x4c963c,globalThis['resentatio'+'n']=_0x4c963c['representa'+'tion'],globalThis['downloadQu'+'eueUrlList']=_0x2892b9(),globalThis['fetchWorke'+'r']=new _0x524c06(globalThis['downloadQu'+'eueUrlList']),self['postMessag'+'e']({'type':'onloadMani'+'fest','data':_0x4c963c,'url':_0x28f906,'representation':_0x9f70ee});break;case'loadGsdSeg'+'ments':try{const _0x2d05c1=_0x3a7101(globalThis['manifest'],globalThis['resentatio'+'n']),_0x2218c1=await _0x44cfaa(globalThis['manifest'],_0x2d05c1),_0x9a102e=(_0x2696ec=_0x2218c1==null?void(0x7*-0xad+0xe19+-0x95e):_0x2218c1['elements'][0x1cc3+-0x1317*-0x1+-0x17ed*0x2])==null?void(-0xb*0x131+0x3*-0x7f+0x2*0x74c):_0x2696ec['properties']['map'](_0x58353a=>_0x58353a['storage']['buffer']);self['postMessag'+'e']({'type':'loadGsdSeg'+'mentsDone','data':_0x2218c1,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x9a102e);}catch(_0x36664e){console['error']('Error\x20load'+'ing\x20GSD:',_0x36664e),self['postMessag'+'e']({'type':'error','data':_0x36664e['message'],'url':globalThis['manifestUr'+'l']});}break;case'loadTimeli'+'neIndexSeg'+'ments':const {timelineIndexs:_0x59fa69}=_0x1f714f;try{const _0x4ad7a8=_0x3a7101(globalThis['manifest'],globalThis['resentatio'+'n']),_0x4b9b04=await _0x422861(globalThis['manifest'],_0x4ad7a8,_0x59fa69),_0x581087=(_0x59c524=_0x4b9b04==null?void(-0x2b*-0xd1+0xf52+-0x3*0x10cf):_0x4b9b04['elements'][-0x1e*-0x13d+0x2f*-0x35+0x1*-0x1b6b])==null?void(0x2395+0xa01+-0x2d96):_0x59c524['properties']['map'](_0x216184=>_0x216184['storage']['buffer']);self['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'mentsDone','data':_0x4b9b04,'timelineIndexs':_0x59fa69,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x581087);}catch(_0x3236b6){console['error']('Error\x20load'+'ing\x20GSD:',_0x3236b6),self['postMessag'+'e']({'type':'error','data':_0x3236b6['message'],'url':globalThis['manifestUr'+'l']});}break;}};const _0xda16af=()=>{var _0x3f0109;globalThis['manifestUr'+'l']=null,globalThis['manifest']=null,globalThis['resentatio'+'n']=null,(_0x3f0109=globalThis['fetchWorke'+'r'])==null||_0x3f0109['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['downloadQu'+'eueUrlList']=[],globalThis['loadedSegm'+'ents']=[],globalThis['currentLoa'+'dSg']=null;},_0x2892b9=()=>{const _0x3589c0=new Set(),_0x3dfdfe=_0x3a7101(globalThis['manifest'],globalThis['resentatio'+'n']),_0x3ed100=globalThis['manifest']['baseUrl'],_0x32de75=_0x3dfdfe['segmentTem'+'plate'][0x46e+0x2472+-0x28e0];for(const _0x2ea56f of _0x32de75['segmentTim'+'eline'])for(const _0x6acd11 of _0x2ea56f['nl']){const _0x458516=''+_0x3ed100+_0x32de75['media']['replace']('$SegGroupI'+'ndex$',String(_0x2ea56f['sg']))['replace']('$NodeIndex'+'$',String(_0x6acd11));_0x3589c0['add'](_0x458516);}return Array['from'](_0x3589c0);},_0x19e6b5=async(_0x17f0df,_0x2ac900)=>{const _0x351cdb=await(await fetch(_0x17f0df))['text'](),_0x538185=JSON['parse'](_0x351cdb);_0x538185['baseUrl']=_0x17f0df['replace'](/\/[^\/]*$/,'/');const {schemas:_0x203b8c,gsiUrl:_0x3eee1f,repId:_0x517d74}=await _0x45a36d(_0x538185,_0x2ac900);return _0x538185['schemas']=_0x203b8c,_0x538185['gsiUrl']=_0x3eee1f,_0x538185['representa'+'tion']=_0x517d74,_0x538185;},_0x45a36d=async(_0x1472e6,_0x270f55)=>{let _0x2bb7b9=null,_0x203d11=null;for(const _0x43542b of _0x1472e6['adaptation'+'Sets'])if(_0x43542b['contentTyp'+'e']==='4dgs'){_0x203d11=_0x43542b;for(const _0x3e742e of _0x43542b['representa'+'tions'])if(_0x3e742e['id']===_0x270f55){_0x2bb7b9=_0x3e742e;break;}break;}_0x2bb7b9||(_0x2bb7b9=_0x203d11['representa'+'tions'][0x1be6+-0x1163+-0x75*0x17],console['warn']('Representa'+'tion\x20\x27'+_0x270f55+('\x27\x20not\x20foun'+'d,\x20use\x20the'+'\x20first\x20rep'+'resentatio'+'n\x20instead')));const _0x2d5bbe=_0x2bb7b9['id'],_0x378f14=_0x1472e6['baseUrl']+_0x2d5bbe+('/init.gsi.'+'json'),_0x20d38d=await(await fetch(_0x378f14))['text'](),_0x59a37e=JSON['parse'](_0x20d38d),_0x4051c1={};return _0x4051c1[_0x2d5bbe]=_0x59a37e,{'schemas':_0x4051c1,'gsiUrl':_0x378f14,'repId':_0x2d5bbe};},_0x3a7101=(_0x263442,_0x90ec65='high-quant'+'ized')=>{let _0xa98e5f=null;for(const _0x18300f of _0x263442['adaptation'+'Sets'])if(_0x18300f['contentTyp'+'e']==='4dgs'){for(const _0x289035 of _0x18300f['representa'+'tions'])if(_0x289035['id']===_0x90ec65){_0xa98e5f=_0x289035;break;}break;}if(!_0xa98e5f)throw new Error('Representa'+'tion\x20\x27'+_0x90ec65+('\x27\x20not\x20foun'+'d'));return _0xa98e5f;},_0x44cfaa=async(_0x252f92,_0x54fb38)=>{const _0x43ea5a=_0x54fb38['id'],_0xb90e03=_0x252f92['schemas'][_0x43ea5a]['attributes'],_0x479cb3=_0x54fb38['segmentTem'+'plate'][-0x20cf*-0x1+0x3*0xcc5+-0x471e];globalThis['loadedSegm'+'ents']=[];const _0x557c93=[],_0x33a274=[];for(const _0x39d971 of _0x479cb3['segmentTim'+'eline'])for(const _0x19a6aa of _0x39d971['nl']){if(globalThis['loadedSegm'+'ents']['includes'](_0x39d971['sg']+'_'+_0x19a6aa))continue;globalThis['loadedSegm'+'ents']['push'](_0x39d971['sg']+'_'+_0x19a6aa);const _0xc66dfb=await _0x189a19(_0x252f92,_0x54fb38,_0xb90e03,_0x39d971['sg'],_0x19a6aa);_0x33a274['push'](_0xc66dfb['decoded']),_0x557c93['push'](_0xc66dfb['metadata']);}return _0x41d256(_0x33a274,_0xb90e03,_0x252f92['comments']);},_0x422861=async(_0x34f215,_0x3b6b8d,_0x2827fc)=>{if(!_0x2827fc||_0x2827fc['length']===0x1b1c+-0x1a64+0xb8*-0x1)return{'decoded':[],'metadata':[]};const _0x20b06f=_0x3b6b8d['id'],_0x35a2c9=_0x34f215['schemas'][_0x20b06f]['attributes'],_0x3ecff9=_0x3b6b8d['segmentTem'+'plate'][-0x10f+-0xd3*-0x29+-0x20bc];globalThis['loadedSegm'+'ents']||(globalThis['loadedSegm'+'ents']=[]);const _0x4addc0=_0x3ecff9['segmentTim'+'eline'][_0x2827fc[0x3*-0x99d+-0x521+0x21f8]];globalThis['currentLoa'+'dSg']!==_0x4addc0['sg']&&(globalThis['loadedSegm'+'ents']=globalThis['loadedSegm'+'ents']['filter'](_0x2883a9=>!_0x2883a9['startsWith'](globalThis['currentLoa'+'dSg'])),globalThis['currentLoa'+'dSg']=_0x4addc0['sg']);let _0x20d1a9;const _0x2ddfaf=[];for(const _0x31c06e of _0x2827fc){_0x20d1a9=_0x3ecff9['segmentTim'+'eline'][_0x31c06e];for(const _0x28fad9 of _0x20d1a9['nl'])globalThis['loadedSegm'+'ents']['includes'](_0x20d1a9['sg']+'_'+_0x28fad9)||(globalThis['loadedSegm'+'ents']['push'](_0x20d1a9['sg']+'_'+_0x28fad9),_0x2ddfaf['push'](_0x28fad9));}const _0x18b67a=await _0x189a19(_0x34f215,_0x3b6b8d,_0x35a2c9,_0x20d1a9['sg'],_0x2ddfaf);_0x18b67a['metadata'];const _0x464d0d=_0x18b67a['decoded'];return _0x41d256(_0x464d0d,_0x35a2c9,_0x34f215['comments']);},_0x189a19=async(_0x34fa9f,_0x4e7e07,_0x4e5ffa,_0x54e0e8,_0x428a48)=>{const _0x3d6404=_0x34fa9f['baseUrl'],_0x32315d=_0x4e7e07['segmentTem'+'plate'][0x148b*-0x1+-0x54a+0x19d5]['media'],_0x44f134=_0x428a48['map'](_0x5e6e87=>''+_0x3d6404+_0x32315d['replace']('$SegGroupI'+'ndex$',String(_0x54e0e8))['replace']('$NodeIndex'+'$',String(_0x5e6e87))),_0x4ca468=await Promise['all'](_0x44f134['map'](async _0x21b433=>{const _0x5e146b=await _0x3bf649(_0x21b433),_0x1e5437=_0x5e146b['metadata'],_0xa29328=_0x5e146b['segmentDat'+'a'],_0x4a6e2d=_0x1e5437['gaussianCo'+'unt'];console['log']('loadSegmen'+'t\x20'+_0x21b433),console['log']('loadSegmen'+'t\x20timeStar'+'t:',_0x1e5437['timeStart'],'segment\x20ti'+'meEnd:',_0x1e5437['timeEnd'],'segment\x20ga'+'ussianCoun'+'t:',_0x4a6e2d);let _0x1079e1;if(_0x4e7e07['id']['includes']('quantized')){const _0x2254d1=_0x1e5437['chunk_boun'+'ds'];_0x1079e1=_0x44acf2(_0xa29328,_0x4a6e2d,_0x4e5ffa,_0x54e0e8,_0x2254d1);}else _0x1079e1=_0x51ca34(_0xa29328,_0x4a6e2d,_0x4e5ffa,_0x54e0e8);return{'decoded':_0x1079e1,'metadata':_0x1e5437};})),_0x299e1a=_0x4ca468['map'](_0x260d68=>_0x260d68['decoded']),_0x4b33f1=_0x4ca468['map'](_0x2df8c0=>_0x2df8c0['metadata']);return{'decoded':_0x299e1a,'metadata':_0x4b33f1};},_0x41d256=(_0x3ef258,_0x26a81d,_0x1d2a14)=>{if(_0x3ef258['length']===-0x1a15*-0x1+-0x1*0x740+-0x12d5)return new _0x261047([{'name':'vertex','count':0x0,'properties':[{'name':'position','type':'float','storage':new Float32Array(0xae5*0x1+-0x166b+0x127*0xa),'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':new Uint16Array(0xadf+0xc5*0x29+-0x2a6c),'byteSize':0x2},{'name':'t','type':'float','storage':new Float32Array(0x793+-0x2*-0x2fb+0x3f*-0x37),'byteSize':0x4},{'name':'t_scale','type':'float','storage':new Float32Array(0x16b6+-0xbd*0x29+-0x9*-0xd7),'byteSize':0x4},{'name':'cutoff','type':'float','storage':new Float32Array(0x11d9+0xa27+0x700*-0x4),'byteSize':0x4},{'name':'motion','type':'float','storage':new Float32Array(0xda9*-0x1+0xb*-0x73+0x129a),'byteSize':0x4},{'name':'rotation','type':'float','storage':new Float32Array(-0x858+-0x1eb9*-0x1+-0x1661),'byteSize':0x4},{'name':'scale','type':'uint16','storage':new Uint16Array(-0x11*-0x15f+-0x1*-0x2185+-0x38d4),'byteSize':0x2},{'name':'time_index','type':'float','storage':new Float32Array(-0x2472+-0x1fb7+0x4429),'byteSize':0x4}]}],_0x1d2a14);const _0x59f6c7=_0x2ba1d8(_0x3ef258),[_0x346724,_0x139161,_0x1cfee8]=_0x28d774(_0x59f6c7['lifecycle'],-0x1*0x1954+0xf22+0xa35,Float32Array),_0x5c5046=_0x59f6c7['time_index'],_0x2fbeb0=_0x26a81d['find'](_0x20cc4d=>_0x20cc4d['name']==='feature_re'+'st'),_0x109a87=[];if(_0x2fbeb0&&_0x59f6c7['feature_re'+'st']){const _0x4219e0=_0x2fbeb0['dataType']['split'](',')[0x1f1a+0x3*0xc95+0x44d8*-0x1]['trim']()['replace']('>',''),_0x5279cd=_0x28d774(_0x59f6c7['feature_re'+'st'],0x22*0x11b+-0x1*0x7ed+-0x1da6,Float32Array);for(const _0x15ef03 of _0x5279cd){const _0x4d308c=_0x28d774(_0x15ef03,_0x4219e0/(0x62*0x11+-0x89*-0x3f+-0x1*0x2836),Float32Array);for(let _0x23cda4=-0x56a+0x6a*0x4e+-0x6f*0x3e;_0x23cda4<_0x4d308c['length'];_0x23cda4++)_0x109a87['push']({'name':'f_rest_'+_0x23cda4,'type':'float','storage':_0x4d308c[_0x23cda4],'byteSize':0x4});}}return new _0x261047([{'name':'vertex','count':_0x59f6c7['position']['length']/(0x14d5+0x1765+0x3*-0xebd),'properties':[{'name':'position','type':'float','storage':_0x59f6c7['position'],'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':_0x59f6c7['color_opac'+'ity'],'byteSize':0x2},{'name':'t','type':'float','storage':_0x139161,'byteSize':0x4},{'name':'t_scale','type':'float','storage':_0x346724,'byteSize':0x4},{'name':'cutoff','type':'float','storage':_0x1cfee8,'byteSize':0x4},{'name':'motion','type':'float','storage':_0x59f6c7['motion'],'byteSize':0x4},{'name':'rotation','type':'float','storage':_0x59f6c7['rotation'],'byteSize':0x4},{'name':'scale','type':'uint16','storage':_0x59f6c7['scale'],'byteSize':0x2},{'name':'time_index','type':'float','storage':_0x5c5046,'byteSize':0x4},..._0x109a87]}],_0x1d2a14);},_0x28d774=(_0x5ea6bb,_0x10d237,_0x3ba8fb)=>{const _0x7145eb=new Array(_0x10d237),_0x3a31f7=Math['floor'](_0x5ea6bb['length']/_0x10d237),_0x1029f6=_0x5ea6bb['length']%_0x10d237;for(let _0x5cfc9a=-0x127+-0x3*0xcfa+0x2815;_0x5cfc9a<_0x10d237;_0x5cfc9a++){const _0x1c4d8b=_0x5cfc9a<_0x1029f6?_0x3a31f7+(-0x204f+-0x3*0x439+0x2cfb):_0x3a31f7;_0x7145eb[_0x5cfc9a]=new _0x3ba8fb(_0x1c4d8b);}for(let _0x4de30d=0x1438*0x1+-0xb8*-0x4+-0x1718;_0x4de30d<_0x5ea6bb['length'];_0x4de30d++){const _0x1d54f8=_0x4de30d%_0x10d237,_0x2972ba=Math['floor'](_0x4de30d/_0x10d237);_0x7145eb[_0x1d54f8][_0x2972ba]=_0x5ea6bb[_0x4de30d];}return _0x7145eb;},_0x3bf649=async _0x26de99=>{const _0x433068=new _0x1b493a(_0x26de99),{metadata:_0x20c6ce,segmentData:_0x1df716}=await _0x433068['readFragme'+'nt']();return{'metadata':_0x20c6ce,'segmentData':_0x1df716};},_0x2a2dfd=(_0x3a9ad7,_0x260e2e)=>{let _0x1fec5e,_0x5e43a1,_0x471b54=-(0x21d7+0x25*0x89+-0x35a3);if(_0x3a9ad7['encoding']){const _0x5e2a3d=_0x3a9ad7['encoding']['storageTyp'+'e'];if(_0x5e2a3d==='uint32')_0x5e43a1=Uint32Array,_0x1fec5e=Uint32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x5e2a3d['startsWith']('array<ucha'+'r')){_0x5e43a1=Uint8Array;const _0x550420=_0x5e2a3d['split'](',')[0x15e2*0x1+-0x26dc+-0xbd*-0x17]['trim']()['replace']('>','');_0x471b54=parseInt(_0x550420),_0x1fec5e=_0x471b54*Uint8Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20storage\x20'+'type:\x20'+_0x5e2a3d);}}else{if(_0x5e43a1=Float32Array,_0x3a9ad7['dataType']==='vec3f')_0x1fec5e=(0x171e+0x11*0x119+0x6f6*-0x6)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x3a9ad7['dataType']==='vec4f')_0x1fec5e=(-0x15f1+0x172f+-0x2*0x9d)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x3a9ad7['dataType']==='vec2f')_0x1fec5e=(-0x23f*0xb+-0x1d5f+-0x2e*-0x12d)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x3a9ad7['dataType']['startsWith']('array<floa'+'t')){const _0x4b7ff6=_0x3a9ad7['dataType']['split'](',')[0x132e+-0x1*-0x1949+-0x2c76]['trim']()['replace']('>','');_0x471b54=parseInt(_0x4b7ff6),_0x1fec5e=_0x471b54*Float32Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x3a9ad7['dataType']);}}}}return{'dataSize':_0x260e2e*_0x1fec5e,'datatype':_0x5e43a1,'arraySize':_0x471b54};},_0x1669ee=(_0x149192,_0x511876)=>{const _0x4bddec=(-0x5*0x5a7+-0x1c77+0x38bb<<_0x511876)-(0xb4b+-0x9e*0x35+0x156c);return(_0x149192&_0x4bddec)/_0x4bddec;},_0x191067=_0xd59117=>{const _0x294cbf=new Float32Array(_0xd59117['length']*(0x1*-0x22fd+-0x7*-0x527+-0x111));for(let _0x187187=0x231c+0x1e2f*-0x1+-0x4ed;_0x187187<_0xd59117['length'];_0x187187++)_0x294cbf[_0x187187*(0x22ca+0x2*-0xb7e+0xbcb*-0x1)]=_0x1669ee(_0xd59117[_0x187187]>>>-0x1*0xefe+-0x1f5+0xa*0x1b4,0x2f*0x6d+-0x8*-0x443+0x50*-0xad),_0x294cbf[_0x187187*(0x5d*-0x2f+0x1*0x48d+0xc89)+(-0x240+0x449*0x7+-0x43*0x6a)]=_0x1669ee(_0xd59117[_0x187187]>>>-0xe*-0x41+0x1*0xa8f+-0xe12*0x1,0x14*-0x1c9+0x1793+0xc2b),_0x294cbf[_0x187187*(0x113f+0x21bb+0x32f7*-0x1)+(-0x3*-0x9cd+-0x2184+0x41f)]=_0x1669ee(_0xd59117[_0x187187],-0x8b2+0x1e33+0x52*-0x43);return _0x294cbf;},_0x5cc0b9=_0x2b46e6=>{const _0x56d4ef=new Float32Array(_0x2b46e6['length']*(-0xd31+-0x3*0x709+0x2250));for(let _0x104344=-0x9dc+0x1*0x2161+-0x1785;_0x104344<_0x2b46e6['length'];_0x104344++)_0x56d4ef[_0x104344*(-0x1836+-0x1fee+0x8*0x705)]=_0x1669ee(_0x2b46e6[_0x104344]>>>-0x2*-0x25c+0x25fe+0x5*-0x886,-0x1*-0x1645+-0xd51+-0x4*0x23b),_0x56d4ef[_0x104344*(0x1*0xb6b+-0x105b+-0x27a*-0x2)+(-0x86+-0x1b7c+-0x47*-0x65)]=_0x1669ee(_0x2b46e6[_0x104344]>>>0x1e1b+-0x6b*0x34+-0x3*0x2c5,0x24ca+0x54a*-0x2+-0x1a2e),_0x56d4ef[_0x104344*(0x638*0x5+0x16f4+-0x2*0x1b04)+(-0x1689+-0x12b+0x17b6)]=_0x1669ee(_0x2b46e6[_0x104344]>>>-0x1*0x22df+0x12f5+0xff2,-0x1f91*-0x1+0x3e8+-0x2371),_0x56d4ef[_0x104344*(0xf78+-0x409*0x1+-0xb6b)+(0x196f+-0x139a+0x1*-0x5d2)]=_0x1669ee(_0x2b46e6[_0x104344],-0x2513+0x4*0x277+0x1b3f);return _0x56d4ef;},_0x24fdff=_0x1d3378=>{const _0x511930=new Float32Array(_0x1d3378['length']*(-0x35*-0xbb+0xd73+0x4f*-0xa9)),_0x27baf5=(0x2f5*-0x7+0x3*-0x25f+-0x1bd1*-0x1)/(Math['sqrt'](0xab3+0x1ae5+0x236*-0x11)*(0xb8f*0x1+0x2013+-0x45d*0xa+0.5));for(let _0x5bb94b=0x1*-0x7eb+0x115a+0x73*-0x15;_0x5bb94b<_0x1d3378['length'];_0x5bb94b++){const _0x2ba47b=(_0x1669ee(_0x1d3378[_0x5bb94b]>>>-0x361*0x5+-0x183f+0x2938,-0xad4+0x9*0xb9+0x1*0x45d)-(-0x240d+-0x1c07+-0x4014*-0x1+0.5))*_0x27baf5,_0x2872c4=(_0x1669ee(_0x1d3378[_0x5bb94b]>>>0x3*0xa34+0xb53+-0x145*0x21,0x649*-0x1+0xc1*-0x15+0x1*0x1628)-(-0x2*0x615+0x22a5+-0x167b+0.5))*_0x27baf5,_0x10156b=(_0x1669ee(_0x1d3378[_0x5bb94b],0xfbd*-0x2+-0x6*-0x1f2+-0x27b*-0x8)-(-0x960+-0x2236+0x2b96*0x1+0.5))*_0x27baf5,_0x10611e=Math['sqrt'](0x139e+0xe6b*0x1+0xf2*-0x24-(_0x2ba47b*_0x2ba47b+_0x2872c4*_0x2872c4+_0x10156b*_0x10156b));let _0x283434=0x12a4+-0x19de+0x73a,_0x38cfb8=-0x75d+0x1c5b+-0x14fe,_0x311db3=0x1045*0x1+-0x5*0x69d+0x10cc,_0x2c6860=-0x20d2+-0xa04+-0x156b*-0x2;switch(_0x1d3378[_0x5bb94b]>>>-0xfb5+0x1aa9+-0xad6){case 0x1ed3+-0x23*0xf6+-0x1*-0x2cf:_0x283434=_0x10611e,_0x38cfb8=_0x2ba47b,_0x311db3=_0x2872c4,_0x2c6860=_0x10156b;break;case-0x3d7*0x7+0x31c+0x17c6:_0x283434=_0x10611e,_0x38cfb8=_0x2872c4,_0x311db3=_0x10156b,_0x2c6860=_0x2ba47b;break;case-0x7cf*-0x1+-0x1*0x1c45+0x5*0x418:_0x283434=_0x2872c4,_0x38cfb8=_0x10611e,_0x311db3=_0x10156b,_0x2c6860=_0x2ba47b;break;case 0xded+-0x10b0+-0x8e*-0x5:_0x283434=_0x2872c4,_0x38cfb8=_0x10156b,_0x311db3=_0x10611e,_0x2c6860=_0x2ba47b;break;}const _0x2a1307=_0x26c98f(_0x283434,_0x38cfb8,_0x311db3,_0x2c6860);_0x511930[_0x5bb94b*(-0x7*-0x4d+0x1d33+-0x1f4b*0x1)]=_0x2a1307['x'],_0x511930[_0x5bb94b*(-0x102b*-0x1+0x13a7+-0x23cf)+(-0x21d8+0x18*0xf5+0xae1)]=_0x2a1307['y'],_0x511930[_0x5bb94b*(-0x23c9*-0x1+0x468+-0x282e)+(-0x3*0x5a7+-0x17e*0x7+0x1b69)]=_0x2a1307['z'];}return _0x511930;},_0x1c49fc=(_0x4cbee5,_0x4b95fa,_0x423e0b)=>{const _0x3fc2a5=_0x423e0b-_0x4b95fa,_0x398e5b=new Float32Array(_0x4cbee5['length']);for(let _0x27eb28=0x18*0x82+0x2ba+-0xeea;_0x27eb28<_0x4cbee5['length'];_0x27eb28++)_0x398e5b[_0x27eb28]=_0x4cbee5[_0x27eb28]/(-0x3*-0xcd+-0x2362+0x1*0x21fa)*_0x3fc2a5+_0x4b95fa;return _0x398e5b;},_0x2a9bd5=new Float32Array(-0x1*-0xb14+0xcd7+-0x1*0x17ea),_0x42bf21=new Int32Array(_0x2a9bd5['buffer']),_0x7077ec=_0x536ddb=>{_0x2a9bd5[0x1*0xc3b+0x1250+-0x1e8b]=_0x536ddb;const _0x37de39=_0x42bf21[0x4e6+-0x4c1*0x7+-0x5ad*-0x5];let _0x40b22d=_0x37de39>>0xb08*-0x1+-0x1a68+0x32*0xc0&0x35f*-0x3d+0x5fd9*0x2+0xb3*0xcb,_0x11de25=_0x37de39>>0x13*-0x18b+-0x52c+0x2289&-0x2223+0x18ed+0x1135;const _0x55c9d5=_0x37de39>>0xc*0x281+0x1706+-0x34fb&0x923*0x3+-0x218*-0x4+-0x22ca;return _0x55c9d5<-0xd*-0x185+-0x3*-0x2b9+0x1*-0x1b85?_0x40b22d:_0x55c9d5>-0x15c*-0xe+0xc9*0x18+-0x2552?(_0x40b22d|=0x2040+0xd75e+-0x1*0x7b9e,_0x40b22d|=(_0x55c9d5===0x4*-0x886+0x1735+0xbe2?0x1a1*-0x1+-0x1*0x2195+0x2336:-0x1629+-0x83*-0x15+0xb6b*0x1)&&_0x37de39&0xd*0xef557+0x49a5*-0x2ab+-0x7*-0x12931d,_0x40b22d):_0x55c9d5<-0x1237+-0xc61+0x1f09*0x1?(_0x11de25|=0x3d*0x13+-0x1*0x307+0x10*0x68,_0x40b22d|=(_0x11de25>>-0x69c+0x1ba+-0x4*-0x155-_0x55c9d5)+(_0x11de25>>-0x826+-0x91c+0x1*0x11b3-_0x55c9d5&-0x1c37+0x2181+0x3*-0x1c3),_0x40b22d):(_0x40b22d|=_0x55c9d5-(-0xf7*0x1a+0x4b2+0x14d4)<<-0x2550+-0x1b*-0xb+0x2431|_0x11de25>>0x1*-0x20b1+-0x1*-0x125d+-0x3*-0x4c7,_0x40b22d+=_0x11de25&-0xda*-0x17+0x5d9*0x2+0x1f47*-0x1,_0x40b22d);},_0xb35103=_0x30e918=>{const _0xaa7657=new Uint16Array(_0x30e918['length']);for(let _0x36be0b=0x505+0x17ab+-0x1cb0;_0x36be0b<_0x30e918['length']/(-0x6bc*0x2+-0x11b3*-0x2+-0x15ea);++_0x36be0b)_0xaa7657[_0x36be0b*(-0x3a6+-0x2001+-0x1*-0x23ab)]=_0x7077ec(_0x30e918[_0x36be0b*(-0x147f+0x2*0xc2d+-0x1*0x3d7)]*_0x163264+(0x65*0x30+-0xfda+0x316*-0x1+0.5)),_0xaa7657[_0x36be0b*(-0x18f8+0x237e+0x541*-0x2)+(0x285+-0x499*0x7+0x9b*0x31)]=_0x7077ec(_0x30e918[_0x36be0b*(-0xbfe*0x2+-0x534*0x3+0x279c)+(-0x57*-0x19+-0xcbf+0x21*0x21)]*_0x163264+(-0x1ebc+0x92c*-0x1+0x9fa*0x4+0.5)),_0xaa7657[_0x36be0b*(-0x19e6+0x1427+0x19*0x3b)+(-0x7d6+0xecf+-0x6f7*0x1)]=_0x7077ec(_0x30e918[_0x36be0b*(-0x192e+-0x1*0x1+0x1933*0x1)+(0x1e25*0x1+0x3e*0x15+-0x2339)]*_0x163264+(-0xaa*-0x13+-0x101c+-0x3*-0x12a+0.5)),_0xaa7657[_0x36be0b*(0x80d+0x1*-0xaeb+0x3*0xf6)+(0xf56+-0x3*-0x549+-0x1a*0x133)]=_0x7077ec(_0x30e918[_0x36be0b*(0x1e9b*0x1+-0x2cf+-0x1bc8)+(-0x83f*0x1+-0x19*-0x4f+0x8b)]);return _0xaa7657;},_0x2434cf=new _0x3a162f(0x128a+-0x3f5*0x4+-0x2b6,0x29b*-0xd+-0x3a5*0xa+0x4651,-0xf13*-0x1+0x2ec*0x5+-0x1bf*0x11,-0x254e+-0x215+0x2763),_0x26c98f=(_0x5c8ae6,_0x5638c2,_0x34b58c,_0x120c7a)=>(_0x2434cf['set'](_0x5638c2,_0x34b58c,_0x120c7a,_0x5c8ae6),_0x2434cf['normalize'](),_0x2434cf['w']<-0x1dc1*0x1+0xcf0+0x10d1&&_0x2434cf['mulScalar'](-(0x1e5c+-0x806+-0x1655)),_0x2434cf);function _0x44acf2(_0x234d2b,_0x383527,_0x4b27d3,_0x4cb575,_0x4b3b28){const _0x18d3ca=_0x4b3b28[Object['keys'](_0x4b3b28)[-0x1393*0x1+-0x9e*-0x8+0xea3]]['length'],_0x50e7bb=-0x891+0x1dc5+0xa1a*-0x2;let _0x262817=[],_0x5ce724=_0x383527;for(let _0x4b0a97=0x1*-0xf91+0x1*-0x11dd+0x2*0x10b7;_0x4b0a97<_0x18d3ca;_0x4b0a97++){const _0x4927e2=Math['min'](_0x50e7bb,_0x5ce724);_0x262817['push'](_0x4927e2),_0x5ce724-=_0x4927e2;}let _0x2d5698=-0x1d9b+0x9ce*-0x1+-0x13*-0x213,_0x809335={};for(let _0x184a14 of _0x4b27d3){const _0x4f85ee=_0x184a14['name'],{dataSize:_0x402dbb,datatype:_0x246bcf}=_0x2a2dfd(_0x184a14,_0x383527);let _0x397901=_0x234d2b['buffer']['slice'](_0x2d5698,_0x2d5698+_0x402dbb),_0x5ec8eb=new _0x246bcf(_0x397901);_0x809335[_0x4f85ee]=_0x5ec8eb,_0x2d5698+=_0x402dbb;}let _0x45ed63=[],_0x22bba2=-0xfd*0x5+-0x101*-0x25+0x80d*-0x4;for(let _0x266ef7=-0x181a+-0x1ba*-0xa+0x6d6;_0x266ef7<_0x18d3ca;_0x266ef7++){const _0x418e6f=_0x58bc24(_0x809335,_0x4b3b28,_0x266ef7,_0x262817,_0x22bba2,_0x4b27d3),_0x298e6b=_0x418e6f['chunkDecom'+'pressed'];_0x45ed63['push'](_0x298e6b),_0x22bba2=_0x418e6f['chunkStart'+'Idx'];}let _0x485461={};for(let _0x1a07c9 of Object['keys'](_0x45ed63[0x17*0x21+0x2*-0xd57+-0x1d3*-0xd])){let _0x435f62=0x1*0x519+0x553*-0x2+0x31*0x1d;for(let _0xe0b2b3=0x16aa+0x1d8b+0x5*-0xa71;_0xe0b2b3<_0x45ed63['length'];_0xe0b2b3++)_0x435f62+=_0x45ed63[_0xe0b2b3][_0x1a07c9]['length'];_0x1a07c9==='color_opac'+'ity'||_0x1a07c9==='scale'?_0x485461[_0x1a07c9]=new Uint16Array(_0x435f62):_0x485461[_0x1a07c9]=new Float32Array(_0x435f62);let _0x6777a8=-0x1*-0x77f+0x595+-0xd14;for(let _0x526ec8=0x1*0xaed+0x698*-0x5+-0xab*-0x21;_0x526ec8<_0x45ed63['length'];_0x526ec8++)_0x485461[_0x1a07c9]['set'](_0x45ed63[_0x526ec8][_0x1a07c9],_0x6777a8),_0x6777a8+=_0x45ed63[_0x526ec8][_0x1a07c9]['length'];}return _0x4b27d3['some'](_0x26a92d=>_0x26a92d['name']==='feature_re'+'st')&&(_0x485461['feature_re'+'st']=_0x11a331(_0x809335,_0x4b27d3)),_0x485461['time_index']=new Float32Array(_0x383527),_0x485461['time_index']['fill'](_0x4cb575-(0x23d3+-0xb64*-0x1+0x2f36*-0x1)),_0x485461;}const _0x58bc24=(_0xf449fe,_0x4bb194,_0x3aeb51,_0x4c6447,_0x1f0dcc,_0x181982)=>{const _0x4715f0=_0x4c6447[_0x3aeb51],_0x188466=_0x1f0dcc+_0x4715f0,_0x79e536=(_0x12e45b,_0x40ed84,_0x4f2651)=>_0x12e45b*(-0x1*0x19e8+-0x11c*-0x12+0xa9*0x9-_0x4f2651)+_0x40ed84*_0x4f2651;let _0x1454ff={};for(let _0x40c53a of _0x181982){const _0x4c407b=_0x40c53a['name'],_0x3ab4de=_0x40c53a['encoding']['codec'],_0x321909=_0xf449fe[_0x4c407b]['slice'](_0x1f0dcc,_0x188466);if(_0x3ab4de==='pack_11_10'+'_11'){if(_0x4c407b==='scale'){const _0x1ef60f=_0x4bb194['min_scales'][_0x3aeb51],_0x4fe6aa=_0x4bb194['max_scales'][_0x3aeb51],_0x51defc=_0x191067(_0x321909),_0x17b681=_0x51defc['length'],_0x2c2e36=new Uint16Array(_0x17b681);for(let _0x33e337=-0x25*-0x6f+-0x4*-0x37b+-0x1df7;_0x33e337<_0x17b681;_0x33e337++)_0x2c2e36[_0x33e337]=_0x7077ec(Math['exp'](_0x79e536(_0x1ef60f[_0x33e337%(0x2*-0x942+-0x1*-0x1375+-0xee)],_0x4fe6aa[_0x33e337%(-0xbe2+0x606+0x5df)],_0x51defc[_0x33e337])));_0x1454ff[_0x4c407b]=_0x2c2e36;}else{const _0x387e65=_0x191067(_0x321909);let _0x367b10,_0x465cdd;if(_0x4c407b==='position')_0x367b10=_0x4bb194['min_means'][_0x3aeb51],_0x465cdd=_0x4bb194['max_means'][_0x3aeb51];else{if(_0x4c407b==='motion')_0x367b10=_0x4bb194['min_motion'][_0x3aeb51],_0x465cdd=_0x4bb194['max_motion'][_0x3aeb51];else{if(_0x4c407b==='lifecycle'){const _0x41e682=_0x4bb194['min_t_scal'+'e'][_0x3aeb51],_0x360355=_0x4bb194['max_t_scal'+'e'][_0x3aeb51],_0x1b257a=_0x4bb194['min_time'][_0x3aeb51],_0x3cb260=_0x4bb194['max_time'][_0x3aeb51],_0x42adc1=_0x4bb194['min_cutoff'][_0x3aeb51],_0x4c6a07=_0x4bb194['max_cutoff'][_0x3aeb51];_0x367b10=[_0x41e682[-0x4*0x62a+-0x1*0x939+0x21e1],_0x1b257a[-0x25e2+0x7ea*-0x1+0x3d1*0xc],_0x42adc1[0x35*0x11+0x22e9*0x1+-0x266e*0x1]],_0x465cdd=[_0x360355[0xf*0xfd+-0xf44+0x71],_0x3cb260[0x756+-0xb*-0xc9+-0xff9],_0x4c6a07[0x1*-0x18ea+0xceb+0xbff]];}else throw new Error('Unknown\x20at'+'tribute\x20fo'+'r\x20pack_11_'+'10_11:\x20'+_0x4c407b);}}for(let _0x12fd50=0x31*0x91+-0x3f3*-0x1+-0xfda*0x2;_0x12fd50<_0x387e65['length'];_0x12fd50++)_0x387e65[_0x12fd50]=_0x79e536(_0x367b10[_0x12fd50%(0x182*0x9+0x371*0x7+-0x25a6)],_0x465cdd[_0x12fd50%(0x850+-0x60+-0x7ed)],_0x387e65[_0x12fd50]);_0x1454ff[_0x4c407b]=_0x387e65;}}else{if(_0x3ab4de==='pack_8888'){let _0x2fc999=_0x5cc0b9(_0x321909);const _0x306f26=_0x4bb194['min_colors'][_0x3aeb51],_0x4eed5b=_0x4bb194['max_colors'][_0x3aeb51],_0x253ba8=new Uint16Array(_0x2fc999['length']);for(let _0x42ff93=0x5*0x241+-0x12*0x3d+0x1*-0x6fb;_0x42ff93<_0x2fc999['length'];_0x42ff93++){const _0x2223ed=_0x42ff93*(-0x6*-0x3ca+0x5*-0x241+-0xb73);_0x253ba8[_0x2223ed]=_0x7077ec(_0x79e536(_0x306f26[-0x1*0x72b+0x122*-0x19+0x237d],_0x4eed5b[0x1*-0x397+-0x13*0x148+0x1bef*0x1],_0x2fc999[_0x2223ed])),_0x253ba8[_0x2223ed+(0x470+0x2*-0x5e7+0x3*0x275)]=_0x7077ec(_0x79e536(_0x306f26[0x62a*0x4+-0x23cc+0xb25*0x1],_0x4eed5b[-0x25ec+-0x26e4+-0x45*-0x11d],_0x2fc999[_0x2223ed+(-0x1*-0x51d+-0xea9+0x98d)])),_0x253ba8[_0x2223ed+(-0x1*0x2507+-0x1fe6+0x44ef)]=_0x7077ec(_0x79e536(_0x306f26[0xe35+0xd85+-0x1bb8],_0x4eed5b[-0xacb+-0x1096+-0x1b63*-0x1],_0x2fc999[_0x2223ed+(0x1c1d+-0x15b8+-0x663)])),_0x253ba8[_0x2223ed+(-0x2351+-0x22e9+0x463d)]=_0x7077ec(_0x2fc999[_0x2223ed+(-0x1*0xb44+0x869*-0x2+0x1c19)]);}_0x1454ff[_0x4c407b]=_0x253ba8;}else{if(_0x3ab4de==='pack_rotat'+'ion_32'){const _0x401991=_0x24fdff(_0x321909);_0x1454ff[_0x4c407b]=_0x401991;}else{if(_0x3ab4de==='range_quan'+'t_u8'){if(_0x4c407b==='feature_re'+'st')continue;throw new Error('Unknown\x20co'+'dec:\x20'+_0x3ab4de);}}}}}return{'chunkDecompressed':_0x1454ff,'chunkStartIdx':_0x188466};},_0x11a331=(_0x1e5426,_0x3ad58c)=>{const _0x58a6c7='feature_re'+'st',_0x1663e0=_0x3ad58c['find'](_0x84f8db=>_0x84f8db['name']===_0x58a6c7);let _0x403aca;const _0x4c132c=_0x1663e0['encoding']['codec'],_0x5b02c3=_0x1e5426[_0x58a6c7];if(_0x4c132c==='range_quan'+'t_u8'){const [_0x3ccb67,_0x13728d]=_0x1663e0['encoding']['range'];_0x403aca=_0x1c49fc(_0x5b02c3,_0x3ccb67,_0x13728d);}else throw new Error('Unknown\x20co'+'dec:\x20'+_0x4c132c);return _0x403aca;},_0x51ca34=(_0x23c772,_0x41ab9f,_0x13ee47,_0x3ebcf0)=>{let _0x5c3d9e=-0xb5*0x3+0x2*-0x859+0x12d1;const _0x306c37={};for(const _0x3b8287 of _0x13ee47){const {dataSize:_0x3cd6e7}=_0x2a2dfd(_0x3b8287,_0x41ab9f);if(['vec3f','vec4f','vec2f']['includes'](_0x3b8287['dataType']))_0x306c37[_0x3b8287['name']]=new Float32Array(_0x23c772['buffer']['slice'](_0x5c3d9e,_0x5c3d9e+_0x3cd6e7));else{if(_0x3b8287['dataType']['startsWith']('array<floa'+'t'))_0x306c37[_0x3b8287['name']]=new Float32Array(_0x23c772['buffer']['slice'](_0x5c3d9e,_0x5c3d9e+_0x3cd6e7));else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x3b8287['dataType']);}_0x5c3d9e+=_0x3cd6e7;}const _0xc7ea0d=new Uint16Array(_0x306c37['scale']['length']);for(let _0xb89e12=0x26e1+-0x8*0x23b+0x3*-0x703;_0xb89e12<_0x306c37['scale']['length'];_0xb89e12++)_0xc7ea0d[_0xb89e12]=_0x7077ec(Math['exp'](_0x306c37['scale'][_0xb89e12]));_0x306c37['scale']=_0xc7ea0d;const _0x3a049d=_0x306c37['rotation']['length']/(-0xbf4+0x22*-0x13+0x46*0x35),_0x4d1088=new Float32Array(_0x3a049d*(-0x584+-0x1dbe+0x2345));for(let _0x2db27a=0x1a35*-0x1+0x6*0x218+0x1*0xda5;_0x2db27a<_0x3a049d;_0x2db27a++){const _0x2b60dc=_0x26c98f(_0x306c37['rotation'][_0x2db27a*(-0x1150+-0x265*0xe+-0x32da*-0x1)],_0x306c37['rotation'][_0x2db27a*(-0x863+-0x1d*0x2b+0x2*0x6a3)+(0x1036*-0x1+0xb15+0x522)],_0x306c37['rotation'][_0x2db27a*(0x2175+0x1382+0x1*-0x34f3)+(0x6be*0x5+-0x2595+0x14b*0x3)],_0x306c37['rotation'][_0x2db27a*(0x739*-0x3+-0x21f4+0x37a3)+(0x26d1+0xc6e+0x199e*-0x2)]);_0x4d1088[_0x2db27a*(-0x8ba+0x1178+-0x8bb)]=_0x2b60dc['x'],_0x4d1088[_0x2db27a*(-0x1c22+-0x53e+0x2163)+(-0x39*0x17+0x82d+-0x30d)]=_0x2b60dc['y'],_0x4d1088[_0x2db27a*(0x1f36+0x7ca+-0x26fd)+(0x2429*-0x1+0xa1*0x2b+0x920)]=_0x2b60dc['z'];}return _0x306c37['rotation']=_0x4d1088,_0x306c37['color_opac'+'ity']=_0xb35103(_0x306c37['color_opac'+'ity']),_0x306c37['time_index']=new Float32Array(_0x41ab9f),_0x306c37['time_index']['fill'](_0x3ebcf0-(0x122+0x2f*0x6+0x23b*-0x1)),_0x306c37;},_0x2ba1d8=(_0x16954e,_0xbaed99)=>{const _0x1b66fa={};if(_0x16954e['length']===0xe58+0x4dc+0x1*-0x1333)return _0x16954e[-0xf3+-0x1*0x59+-0xa6*-0x2];for(const _0x557c74 of Object['keys'](_0x16954e[0x22df+-0x1173+-0x45b*0x4]))if(_0x16954e[-0x1*0x118a+-0xa11+0xbf*0x25][_0x557c74]instanceof Float32Array||_0x16954e[0x1*0x1e91+-0x2b*0xb+-0x1cb8][_0x557c74]instanceof Uint16Array){const _0x3da47a=_0x16954e['reduce']((_0x461865,_0x9c2454)=>_0x461865+_0x9c2454[_0x557c74]['length'],0x2*0x1021+0x29*-0x1+0x2019*-0x1);let _0x3e668a;_0x16954e[-0x1*0x2386+-0x76*0x10+0x2ae6][_0x557c74]instanceof Uint16Array?_0x3e668a=new Uint16Array(_0x3da47a):_0x3e668a=new Float32Array(_0x3da47a);let _0x475259=0x1cf9+-0x1*-0x1c2b+0x5c*-0x9f;for(const _0x302a3c of _0x16954e)_0x3e668a['set'](_0x302a3c[_0x557c74],_0x475259),_0x475259+=_0x302a3c[_0x557c74]['length'];_0x1b66fa[_0x557c74]=_0x3e668a;}else Array['isArray'](_0x16954e[0xef7+0x20c4+-0x1*0x2fbb][_0x557c74])?_0x1b66fa[_0x557c74]=_0x16954e['flatMap'](_0x1ba517=>Array['from'](_0x1ba517[_0x557c74])):_0x1b66fa[_0x557c74]=_0x16954e['map'](_0x20b650=>_0x20b650[_0x557c74])['flat']();return _0x1b66fa;};}class hk extends me{constructor(_0x529c6a){super(),h(this,'manifestUr'+'l'),h(this,'worker'),(this['manifestUr'+'l']=_0x529c6a,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+ck['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','cborXUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/cbor-x@1'+'.6.0.min.j'+'s'});}['loadGsdMan'+'ifest'](_0x7541be){var _0x4e46a2;return(_0x4e46a2=this['worker'])==null||_0x4e46a2['postMessag'+'e']({'type':'loadGsdMan'+'ifest','manifestUrl':this['manifestUr'+'l'],'loadRepresentation':_0x7541be}),new Promise((_0x8a03bc,_0x5401d6)=>{if(!this['worker']){_0x5401d6(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x49ad46=>{if(!this['worker'])return;const {data:_0x342563}=_0x49ad46;if(this['manifestUr'+'l']===_0x342563['url'])switch(_0x342563['type']){case'onloadMani'+'fest':_0x8a03bc({'manifest':_0x342563['data'],'url':_0x342563['url'],'representation':_0x342563['representa'+'tion']});break;case'error':_0x5401d6(_0x342563['data']);break;}};});}['loadGsdSeg'+'ments'](_0x2ea9f9,_0x1990b0){var _0x17665a;return(_0x17665a=this['worker'])==null||_0x17665a['postMessag'+'e']({'type':'loadGsdSeg'+'ments'}),new Promise((_0x4e2f03,_0xdb16b3)=>{if(!this['worker']){_0xdb16b3(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x159964=>{if(!this['worker'])return;const {data:_0x224067}=_0x159964;if(this['manifestUr'+'l']===_0x224067['url'])switch(_0x224067['type']){case'progress':_0x2ea9f9==null||_0x2ea9f9(_0x224067['bytes'],_0x224067['totalLengt'+'h'],_0x224067['url']);break;case'loadGsdSeg'+'mentsDone':_0x4e2f03(_0x224067['data']);break;case'error':_0x1990b0==null||_0x1990b0(_0x224067['data'],_0x224067['url']);break;}};});}['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x13242b,_0x459cde,_0x186a83){var _0x3158bc;return(_0x3158bc=this['worker'])==null||_0x3158bc['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'ments','timelineIndexs':_0x13242b}),new Promise((_0x4fe563,_0x384b75)=>{if(!this['worker']){_0x384b75(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x2fe7fb=>{if(!this['worker'])return;const {data:_0xf8c138}=_0x2fe7fb;if(this['manifestUr'+'l']===_0xf8c138['url'])switch(_0xf8c138['type']){case'progress':_0x459cde==null||_0x459cde(_0xf8c138['bytes'],_0xf8c138['totalLengt'+'h'],_0xf8c138['url']);break;case'loadTimeli'+'neIndexSeg'+'mentsDone':_0x4fe563(_0xf8c138);break;case'error':_0x186a83==null||_0x186a83(_0xf8c138['data'],_0xf8c138['url']);break;}};});}['destroy'](){this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(-0xa73+-0x21*-0xf2+-0x14bf));}}const Xh=class Xh{constructor(_0xae2bc3,_0x222779,_0x2a705a){h(this,'lastLoadIn'+'dex',0x18d*0xb+-0x4*0x2e6+-0x1*0x577),h(this,'gsdAssetPa'+'rser'),(this['manifest']=_0xae2bc3,this['representa'+'tion']=_0x222779,this['gsdAssetPa'+'rser']=_0x2a705a,this['segmentTim'+'elines']=this['getSegment'+'Timeline'](_0xae2bc3,_0x222779));}['getSegment'+'Timeline'](_0xee52b7,_0x3cab88){let _0x1f2db0=null;for(const _0x3f3c65 of _0xee52b7['adaptation'+'Sets'])if(_0x3f3c65['contentTyp'+'e']==='4dgs'){for(const _0xefeda4 of _0x3f3c65['representa'+'tions'])if(_0xefeda4['id']===_0x3cab88){_0x1f2db0=_0xefeda4;break;}break;}if(!_0x1f2db0)throw new Error('Representa'+'tion\x20\x27'+_0x3cab88+('\x27\x20not\x20foun'+'d'));return _0x1f2db0['segmentTem'+'plate'][0xd83+-0x2665+-0x31*-0x82]['segmentTim'+'eline'];}['onTimeChan'+'ged'](_0x5a0dac){const _0x3e3b50=this['findSegmen'+'tTimeline'](_0x5a0dac);if(!_0x3e3b50)return;const _0x30d04d=_0x3e3b50['timelineIn'+'dex']<this['segmentTim'+'elines']['length']-(-0x1f4b*0x1+-0x621+0x256d)?_0x3e3b50['timelineIn'+'dex']+(-0x193f+0x2*-0xdd5+0x34ea):0x1632+-0x3*0x8b+-0x1491;this['lastLoadIn'+'dex']!==_0x30d04d&&(this['lastLoadIn'+'dex']=_0x30d04d,this['loadNextSe'+'gment'](_0x30d04d));}async['loadNextSe'+'gment'](_0x50e9ae){const _0x398dfc=[];for(let _0x19dd6c=0x4*0x61a+-0x7*0x3c3+0x1ed;_0x19dd6c<Xh['CACHE_COUN'+'T'];_0x19dd6c++)_0x398dfc['push']((_0x50e9ae+_0x19dd6c)%this['segmentTim'+'elines']['length']);const _0x4e6a8f=_0x398dfc[_0x398dfc['length']-(0x2402+-0x19ed*0x1+-0xa14)],_0x4d894e=this['segmentTim'+'elines'][_0x4e6a8f]['t']+this['segmentTim'+'elines'][_0x4e6a8f]['d'];this['gsdAssetPa'+'rser']['appendload'+'DataTask'](_0x398dfc,_0x4d894e);}['findSegmen'+'tTimeline'](_0x40d781){let _0xe88b6c=-0x2122+0x1*-0x23c5+0x44e7,_0x243b56=this['segmentTim'+'elines']['length']-(0x404+0x1da7+-0x21aa);for(;_0xe88b6c<=_0x243b56;){const _0x170a52=_0xe88b6c+_0x243b56>>-0xfc3+-0x198*-0x17+-0x14e4,{t:_0x3384ac,d:_0x616e2}=this['segmentTim'+'elines'][_0x170a52];if(_0x40d781<_0x3384ac)_0x243b56=_0x170a52-(-0x1d17+0x5*-0x64c+0x3c94);else{if(_0x40d781>=_0x3384ac+_0x616e2)_0xe88b6c=_0x170a52+(-0x2*0x593+-0x720+0x1*0x1247);else return{'timeline':this['segmentTim'+'elines'][_0x170a52],'timelineIndex':_0x170a52};}}return null;}};h(Xh,'CACHE_COUN'+'T',-0x77*-0x3+0x1*-0x1e75+0x1*0x1d16);let Wu=Xh;class dk{constructor(_0x1c0689,_0xd0de3e){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'manifest'),h(this,'schedule'),h(this,'readWorker'),h(this,'loadDataTa'+'skQueue',[]),h(this,'isProcessi'+'ngLoadTask'+'Queue',!(0x14b3+-0x20d5+0xef*0xd)),(console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','Register\x20G'+'sdParser.c'+'onstructor'),this['app']=_0x1c0689,this['maxRetries']=_0xd0de3e,this['urlList']=[],this['gsplatReso'+'urce']=null,this['totalRecei'+'ved']=-0x17*0x145+-0x2050+0x3d83,this['manifest']={});}async['load'](_0x5f0fe7,_0x46edcd,_0x16cb89){console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','GsdParser.'+'load',_0x5f0fe7['load']);const _0x45aa03=_0x16cb89['data']['events'];this['events']=_0x45aa03,this['asset']=_0x16cb89,this['callback']=_0x46edcd,this['timeOption']=_0x16cb89['data']['timeOption'];let _0x38ba93=_0x16cb89['data']['representa'+'tion']||'high-raw';this['readWorker']=new hk(_0x5f0fe7['load']);const _0x4a2134=await this['readWorker']['loadGsdMan'+'ifest'](_0x38ba93);this['manifest']=_0x4a2134['manifest'],_0x38ba93=_0x4a2134['manifest']['representa'+'tion']||_0x38ba93,this['schedule']=new Wu(this['manifest'],_0x38ba93,this),this['totalRecei'+'vedCount']=-0x2378+0x1679+0xcff;const _0xbe0be=this['getSegment'+'Timeline'](this['manifest'],_0x38ba93),_0x23313f=_0xbe0be[0x15bc+-0x2028+0x2e*0x3a]['t']+_0xbe0be[0xda6+-0x11a0+0x3fa]['d'];this['appendload'+'DataTask']([-0x5*0x69d+-0x8*0x26e+0x3481*0x1,0x1776+0x15ce*0x1+0x2d43*-0x1],_0x23313f),_0x45aa03['on']('timeChange'+'d',_0x28029c=>{var _0x253495;(_0x253495=this['schedule'])==null||_0x253495['onTimeChan'+'ged'](_0x28029c);});}['getSegment'+'Timeline'](_0x3c979c,_0x41d331){let _0x38147a=null;for(const _0x230dfd of _0x3c979c['adaptation'+'Sets'])if(_0x230dfd['contentTyp'+'e']==='4dgs'){for(const _0x3fb2f0 of _0x230dfd['representa'+'tions'])if(_0x3fb2f0['id']===_0x41d331){_0x38147a=_0x3fb2f0;break;}break;}if(!_0x38147a)throw new Error('Representa'+'tion\x20\x27'+_0x41d331+('\x27\x20not\x20foun'+'d'));return _0x38147a['segmentTem'+'plate'][-0xcb*0x26+0x2655*0x1+-0x833]['segmentTim'+'eline'];}['appendload'+'DataTask'](_0x361b3d,_0x4d7168){this['loadDataTa'+'skQueue']['push']({'segmentIndexs':_0x361b3d,'loadedTime':_0x4d7168}),this['isProcessi'+'ngLoadTask'+'Queue']||Promise['resolve']()['then'](()=>this['processLoa'+'dQueue']());}async['processLoa'+'dQueue'](){if(!this['isProcessi'+'ngLoadTask'+'Queue']){this['isProcessi'+'ngLoadTask'+'Queue']=!(0x10d6+0x1*0xb96+-0x1*0x1c6c);try{for(;this['loadDataTa'+'skQueue']['length']>-0xc*0x147+0x16d1+-0x9*0xd5;){const _0x3bd162=this['loadDataTa'+'skQueue']['shift']();await this['loadGsplat'+'Data'](_0x3bd162);}}finally{this['isProcessi'+'ngLoadTask'+'Queue']=!(0x253a+0x488+-0x29c1);}}}async['loadGsplat'+'Data'](_0x173dc5){var _0x127b59,_0x28b3d8;const {segmentIndexs:_0x6d5db3,loadedTime:_0x113904}=_0x173dc5,_0x1d01dc=this['events'],_0x23fb25=this['asset'],_0x555b8d=this['callback'],_0x401d0d=this['timeOption'];globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('____loadTi'+'me','gsd\x20======'+'=========='+'=========='+'=========='+'=========='+'========='),console['log']('____loadTi'+'me','gsd\x20start\x20'+'loadGsplat'+'Data',_0x6d5db3,(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](0x755*-0x1+0x7*0xe2+0x63*0x3));try{const _0x39b9a3=await this['readWorker']['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x6d5db3,(_0x12bf2b,_0xfebd8e)=>{this['totalRecei'+'ved']+=_0x12bf2b,_0x23fb25&&_0x1d01dc['fire']('progress',this['totalRecei'+'ved'],_0xfebd8e);},(_0x3d3f87,_0x3c0506)=>{debugger;console['warn']('ERROE\x20Load'+'\x20GSD',_0x3c0506,_0x3d3f87);});console['log']('____loadTi'+'me','gsd\x20end\x20lo'+'adGsplatDa'+'ta',(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](-0x36+-0x1f*-0x24+-0x424),_0x39b9a3['data']['elements'][-0xac3*0x2+-0x19*-0x16e+-0xe38]['count'],((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/_0x39b9a3['data']['elements'][0x1c*-0x85+0x1579+-0x6ed]['count']*(-0x74b+-0x1*0x43b7+0x7212))['toFixed'](-0xeb*0x3+-0x2361*0x1+0x2624));const _0x12bd6d=_0x39b9a3['data'];if(_0x12bd6d['elements'][0x31*-0x7e+0xe18+0xa06]['count']===0xcb+-0x8cf+0x804)return;this['totalRecei'+'vedCount']+=_0x12bd6d['elements'][0xc16+0x45*0x83+-0x2f65]['count'];const _0x1783a8=new iC(_0x12bd6d['elements'],_0x12bd6d['comments']);_0x23fb25['fire']('load:data',_0x1783a8);const _0x5782f9=_0x23fb25['data']['createTime']!==((_0x28b3d8=(_0x127b59=this['onlyOneAss'+'et'])==null?void(0x1*0x2629+-0xe7d*0x1+-0x17ac):_0x127b59['data'])==null?void(-0x18f4+0x25*-0xfb+0x39*0x113):_0x28b3d8['createTime']);this['gsplatReso'+'urce']&&!_0x5782f9?(console['log']('____\x20ENGIN'+'E\x20IVAN','appendGSpl'+'atDecodedR'+'esource'),this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x1783a8,_0x401d0d,_0x113904,_0x23fb25)):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'DecodedRes'+'ource'),this['gsplatReso'+'urce']=new CC(this['app']['graphicsDe'+'vice'],_0x1783a8),this['gsplatReso'+'urce']['setSceneIn'+'fo'](this['manifest']['sceneInfo']),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x401d0d,this['onlyOneAss'+'et']=_0x23fb25,_0x555b8d&&_0x555b8d(null,this['gsplatReso'+'urce']),_0x1d01dc['fire']('loadAllAss'+'etsDone'));}catch(_0x2b2e25){console['error']('loadGsplat'+'Data','error',_0x2b2e25),_0x555b8d&&_0x555b8d(_0x2b2e25,null);}}['open'](_0x39a9fe,_0x19b352){return _0x19b352;}}class fk extends Qe{constructor(_0x1ffbe4){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x1ffbe4,'gsplat'),this['parsers']={'ply':new lk(_0x1ffbe4,0x3e1*-0x9+0x1*-0x1c83+0x3f6f),'json':new dk(_0x1ffbe4,-0xd3b+-0x26f+0xfad)};}['_getUrlWit'+'houtParams'](_0x1bbd2f){return _0x1bbd2f['indexOf']('?')>=-0x4*0x736+-0xcc2+0x299a?_0x1bbd2f['split']('?')[-0x16d*0x10+-0xb77+0x2247]:_0x1bbd2f;}['_getParser'](_0x5dc5d8){const _0x56f900=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x5dc5d8))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x56f900]||this['parsers']['ply'];}['load'](_0x1f2348,_0x526fa6,_0x509f7d){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x1f2348=='string'&&(_0x1f2348={'load':_0x1f2348,'original':_0x1f2348}),this['_getParser'](_0x1f2348['original'])['load'](_0x1f2348,_0x526fa6,_0x509f7d);}['open'](_0x5b3050,_0x3a6957,_0x318391){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),_0x3a6957;}}class $u{static['setCompres'+'sedPRS'](_0x52226e,_0x3fa3aa,_0x4d008a){const _0x3d837e=_0x4d008a['singleVecs'];let _0x2fac5c,_0x4cd375;const _0x51d928=_0x3fa3aa['___1'];_0x51d928||(_0x2fac5c=_0x4d008a['tripleVecs'],_0x4cd375=_0x3fa3aa['___2']);let _0x3a307c=_0x51d928?_0x51d928[0x9*-0x206+0xa*-0x124+0x11*0x1be]:_0x2fac5c[_0x4cd375];_0x52226e['setLocalPo'+'sition'](_0x3d837e[_0x3a307c],_0x3d837e[_0x3a307c+(0x1*-0xd90+0x13ab+-0x61a)],_0x3d837e[_0x3a307c+(0x8*-0x31c+0x292+-0x70*-0x33)]),_0x3a307c=_0x51d928?_0x51d928[0x67*0x2b+-0x1191+0x45]:_0x2fac5c[_0x4cd375+(-0x3*0xc37+0x23ca+0xb*0x14)],_0x52226e['setLocalEu'+'lerAngles'](_0x3d837e[_0x3a307c],_0x3d837e[_0x3a307c+(-0x1*-0x1693+0x71*-0x52+0x368*0x4)],_0x3d837e[_0x3a307c+(-0x14a0+-0x1dec+-0x59e*-0x9)]),_0x3a307c=_0x51d928?_0x51d928[-0x21a3+-0xda4*0x2+-0x9*-0x6c5]:_0x2fac5c[_0x4cd375+(-0x538+-0x752*-0x4+0xc07*-0x2)],_0x52226e['setLocalSc'+'ale'](_0x3d837e[_0x3a307c],_0x3d837e[_0x3a307c+(0x1bf0+-0x612+-0x15dd)],_0x3d837e[_0x3a307c+(-0x53*0xd+-0xa9*-0x32+-0x1cc9)]);}static['oneCharToK'+'ey'](_0x1d9f4e,_0xc74e06){const _0xda563e=_0x1d9f4e['charCodeAt'](0x1969+-0x1b39+-0x1*-0x1d0)-_0xc74e06['fieldFirst'+'Code'];return _0xc74e06['fieldArray'][_0xda563e];}static['multCharTo'+'Key'](_0x18ac0c,_0x25489c){let _0x5d48db=-0x1*0x565+-0x16cb+0x1c30;for(let _0x50d7b8=0x53*0x3c+-0x1a50+0x6dc;_0x50d7b8<_0x18ac0c['length'];_0x50d7b8++)_0x5d48db=_0x5d48db*_0x25489c['fieldCodeB'+'ase']+_0x18ac0c['charCodeAt'](_0x50d7b8)-_0x25489c['fieldFirst'+'Code'];return _0x25489c['fieldArray'][_0x5d48db];}}class Uh{constructor(_0x220a16,_0x54c051){this['_node']=_0x220a16,this['_data']=_0x54c051;}['run'](){const _0x1f4888=Object['prototype']['toString']['call'](this['_node']);return _0x1f4888==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x1f4888==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x12e694){let _0x1f16b0=_0x12e694;const _0x2f9691=_0x12e694['length'];_0x2f9691===0x107+0x15d+0xd*-0x2f?_0x1f16b0=$u['oneCharToK'+'ey'](_0x12e694,this['_data']):_0x2f9691===0x1d3+0x1169+-0x133a&&(_0x1f16b0=$u['multCharTo'+'Key'](_0x12e694,this['_data'])),this['_result'][_0x1f16b0]=new Uh(this['_node'][_0x12e694],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x27c404){const _0xc39974=new Uh(_0x27c404,this['_data'])['run']();this['_result']['push'](_0xc39974);}}class bm{constructor(_0x337d90,_0xfa6aa5){this['_app']=_0x337d90,this['_isTemplat'+'e']=_0xfa6aa5;}['parse'](_0x18be1f){const _0x45cb14={};let _0x1062f5=null;const _0x34676f=_0x18be1f['compressed'+'Format'];_0x34676f&&!_0x18be1f['entDecompr'+'essed']&&(_0x18be1f['entDecompr'+'essed']=!(-0x2454+-0xbef+0x3043),_0x18be1f['entities']=new Uh(_0x18be1f['entities'],_0x34676f)['run']());for(const _0x50c0b4 in _0x18be1f['entities']){const _0xa350ad=_0x18be1f['entities'][_0x50c0b4],_0x5f3c96=this['_createEnt'+'ity'](_0xa350ad,_0x34676f);_0x45cb14[_0x50c0b4]=_0x5f3c96,_0xa350ad['parent']===null&&(_0x1062f5=_0x5f3c96);}for(const _0x1e7a38 in _0x18be1f['entities']){const _0x10ad43=_0x45cb14[_0x1e7a38],_0xe9572b=_0x18be1f['entities'][_0x1e7a38]['children'],_0x21c4b2=_0xe9572b['length'];for(let _0x48ea78=0x2193+-0x2141*0x1+-0x52;_0x48ea78<_0x21c4b2;_0x48ea78++){const _0x29263e=_0x45cb14[_0xe9572b[_0x48ea78]];_0x29263e&&_0x10ad43['addChild'](_0x29263e);}}return this['_openCompo'+'nentData'](_0x1062f5,_0x18be1f['entities']),_0x1062f5;}['_createEnt'+'ity'](_0x5f5381,_0x45a182){const _0xe0763b=new lt(_0x5f5381['name'],this['_app']);if(_0xe0763b['setGuid'](_0x5f5381['resource_i'+'d']),this['_setPosRot'+'Scale'](_0xe0763b,_0x5f5381,_0x45a182),_0xe0763b['_enabled']=_0x5f5381['enabled']??!(-0x6*-0x4e9+-0x121b*0x1+-0xb5b),this['_isTemplat'+'e']?_0xe0763b['_template']=!(0xe1c+-0x8*0x128+0x4*-0x137):_0xe0763b['_enabledIn'+'Hierarchy']=_0xe0763b['_enabled'],_0xe0763b['template']=_0x5f5381['template'],_0x5f5381['tags']){for(let _0x53e31c=-0x1*0x1bd1+0x1d54*0x1+-0x183;_0x53e31c<_0x5f5381['tags']['length'];_0x53e31c++)_0xe0763b['tags']['add'](_0x5f5381['tags'][_0x53e31c]);}return _0xe0763b;}['_setPosRot'+'Scale'](_0x49f497,_0x51ff9d,_0x26c107){if(_0x26c107)$u['setCompres'+'sedPRS'](_0x49f497,_0x51ff9d,_0x26c107);else{const _0x3cbdaa=_0x51ff9d['position'],_0x165026=_0x51ff9d['rotation'],_0xd7f6a1=_0x51ff9d['scale'];_0x49f497['setLocalPo'+'sition'](_0x3cbdaa[-0x1623+0x3f*0x37+0x16f*0x6],_0x3cbdaa[0x18ce+0x1d97*0x1+-0x3664],_0x3cbdaa[0x125c*-0x1+-0x107*-0x13+-0x127]),_0x49f497['setLocalEu'+'lerAngles'](_0x165026[0x1*-0x22d+-0x2114+0x1db*0x13],_0x165026[0x5*-0x236+0x556+0x5b9*0x1],_0x165026[-0x3*0x3e5+0x2226+-0x1675]),_0x49f497['setLocalSc'+'ale'](_0xd7f6a1[-0x63e+-0x6*-0x60c+-0xa*0x301],_0xd7f6a1[-0x13*0x98+0xc06+-0x1b*0x7],_0xd7f6a1[0x1d*-0x12d+-0x16d3+0x38ee]);}}['_openCompo'+'nentData'](_0x9e91ff,_0xc1a950){const _0x528d15=this['_app']['systems']['list'];let _0x2d84ae=_0x528d15['length'];const _0x4cedb5=_0xc1a950[_0x9e91ff['getGuid']()];for(let _0xc4d136=-0x748+-0x2*-0x40d+-0x15*0xa;_0xc4d136<_0x2d84ae;_0xc4d136++){const _0x12b227=_0x528d15[_0xc4d136],_0x432cea=_0x4cedb5['components'][_0x12b227['id']];_0x432cea&&_0x12b227['addCompone'+'nt'](_0x9e91ff,_0x432cea);}_0x2d84ae=_0x4cedb5['children']['length'];const _0x56aa2f=_0x9e91ff['_children'];for(let _0x53c3dc=-0x13d*-0x13+0x24+-0x17ab;_0x53c3dc<_0x2d84ae;_0x53c3dc++)_0x56aa2f[_0x53c3dc]?_0x56aa2f[_0x53c3dc]=this['_openCompo'+'nentData'](_0x56aa2f[_0x53c3dc],_0xc1a950):w['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x9e91ff['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x9e91ff;}}class E0{static['load'](_0x315820,_0x5f5d89,_0x3a835d){typeof _0x315820=='string'&&(_0x315820={'load':_0x315820,'original':_0x315820}),ot['get'](_0x315820['load'],{'retry':_0x5f5d89>0x232*0xd+0x1b4f+-0x37d9*0x1,'maxRetries':_0x5f5d89},(_0x2c0966,_0x244e70)=>{if(!_0x2c0966)_0x3a835d(_0x2c0966,_0x244e70);else{let _0x460c5e='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x315820['original'];_0x2c0966['message']?(_0x460c5e+=':\x20'+_0x2c0966['message'],_0x2c0966['stack']&&(_0x460c5e+='\x0a'+_0x2c0966['stack'])):_0x460c5e+=':\x20'+_0x2c0966,_0x3a835d(_0x460c5e);}});}}class uk extends Qe{constructor(_0x3db761){super(_0x3db761,'hierarchy');}['load'](_0x31ff84,_0x1eb7ec){E0['load'](_0x31ff84,this['maxRetries'],_0x1eb7ec);}['open'](_0x1f0fcd,_0x567b03){this['_app']['systems']['script']['preloading']=!(-0x1958+0x1094+0x1*0x8c4);const _0x166eb9=new bm(this['_app'],!(0x7c*-0x2b+0x20ee+-0xc19))['parse'](_0x567b03);return this['_app']['systems']['script']['preloading']=!(-0x1d85+0xcdc*0x2+-0x3ce*-0x1),_0x166eb9;}}class pk extends Qe{constructor(_0x235388){super(_0x235388,'html'),h(this,'decoder',null);}['load'](_0x1d180e,_0x8f4ba9){typeof _0x1d180e=='string'&&(_0x1d180e={'load':_0x1d180e,'original':_0x1d180e}),ot['get'](_0x1d180e['load'],{'retry':this['maxRetries']>0xa*0x16d+0x6ef+-0x1531,'maxRetries':this['maxRetries']},(_0x330669,_0x2112fe)=>{_0x330669?_0x8f4ba9('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x1d180e['original']+'\x20['+_0x330669+']'):_0x8f4ba9(null,_0x2112fe);});}['openBinary'](_0x363517){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x363517);}}class mk extends Qe{constructor(_0x3ca43c){super(_0x3ca43c,'json'),h(this,'decoder',null);}['load'](_0x67133c,_0x529009){typeof _0x67133c=='string'&&(_0x67133c={'load':_0x67133c,'original':_0x67133c});const _0x2f2920={'retry':this['maxRetries']>0x137+0x4*-0x284+0x2f3*0x3,'maxRetries':this['maxRetries']};_0x67133c['load']['startsWith']('blob:')&&(_0x2f2920['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x67133c['load'],_0x2f2920,(_0x4592cd,_0xe25371)=>{_0x4592cd?_0x529009('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x67133c['original']+'\x20['+_0x4592cd+']'):_0x529009(null,_0xe25371);});}['openBinary'](_0x59a2d7){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x59a2d7));}}class _k{constructor(){this['removeInva'+'lid']=!(0x5*-0x97+-0x2341*-0x1+-0x204e),this['valid']=!(0x5db*-0x5+0x21d*0x6+0x1099),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([lv,bd,cv]),'cull':this['_createEnu'+'mValidator']([bt,pa,Fo,Ax]),'blendType':this['_createEnu'+'mValidator']([Gp,Hp,Zs,Cs,Gn,Wp,Ed,$p,Xp,qp,jp]),'depthFunc':this['_createEnu'+'mValidator']([Cx,hh,dh,Wf,Px,Mx,Dx,Wi])};}['setInvalid'](_0x2ab901,_0x18005f){this['valid']=!(-0x2527+-0xb*0x11b+0x3151),w['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x2ab901,_0x18005f[_0x2ab901]),this['removeInva'+'lid']&&delete _0x18005f[_0x2ab901];}['validate'](_0x420ba3){const _0x18e3ed=$n,_0x57e674=gb,_0xacd115=_0x420ba3['mappingFor'+'mat']==='path';for(const _0x556f1f in _0x420ba3){const _0x6b870d=_0x18e3ed[_0x556f1f];if(!_0x6b870d){_0x57e674[_0x556f1f]?delete _0x420ba3[_0x556f1f]:(w['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x556f1f),this['valid']=!(0xd7f+-0x2cf*-0x7+-0x7b*0x45));continue;}if(_0x6b870d['startsWith']('enum')){const _0x319424=_0x6b870d['split'](':')[-0x48*0x81+0xd1b+0x172e];this['enumValida'+'tors'][_0x319424]&&(this['enumValida'+'tors'][_0x319424](_0x420ba3[_0x556f1f])||this['setInvalid'](_0x556f1f,_0x420ba3));}else{if(_0x6b870d==='number')typeof _0x420ba3[_0x556f1f]!='number'&&this['setInvalid'](_0x556f1f,_0x420ba3);else{if(_0x6b870d==='boolean')typeof _0x420ba3[_0x556f1f]!='boolean'&&this['setInvalid'](_0x556f1f,_0x420ba3);else{if(_0x6b870d==='string')typeof _0x420ba3[_0x556f1f]!='string'&&this['setInvalid'](_0x556f1f,_0x420ba3);else{if(_0x6b870d==='vec2')_0x420ba3[_0x556f1f]instanceof Array&&_0x420ba3[_0x556f1f]['length']===0xf9a+0x18d9+0x2871*-0x1||this['setInvalid'](_0x556f1f,_0x420ba3);else{if(_0x6b870d==='rgb')_0x420ba3[_0x556f1f]instanceof Array&&_0x420ba3[_0x556f1f]['length']===-0x1*0x188b+-0x1ba6+0x3434||this['setInvalid'](_0x556f1f,_0x420ba3);else{if(_0x6b870d==='texture')_0xacd115?typeof _0x420ba3[_0x556f1f]=='string'||_0x420ba3[_0x556f1f]===null||_0x420ba3[_0x556f1f]instanceof _e||this['setInvalid'](_0x556f1f,_0x420ba3):typeof _0x420ba3[_0x556f1f]=='number'||_0x420ba3[_0x556f1f]===null||_0x420ba3[_0x556f1f]instanceof _e||this['setInvalid'](_0x556f1f,_0x420ba3);else{if(_0x6b870d==='boundingbo'+'x')_0x420ba3[_0x556f1f]['center']&&_0x420ba3[_0x556f1f]['center']instanceof Array&&_0x420ba3[_0x556f1f]['center']['length']===0x19*0x8+-0x12f*0x3+-0x8*-0x59||this['setInvalid'](_0x556f1f,_0x420ba3),_0x420ba3[_0x556f1f]['halfExtent'+'s']&&_0x420ba3[_0x556f1f]['halfExtent'+'s']instanceof Array&&_0x420ba3[_0x556f1f]['halfExtent'+'s']['length']===-0x20ad+0xe71*-0x1+0x2f21||this['setInvalid'](_0x556f1f,_0x420ba3);else{if(_0x6b870d==='cubemap')typeof _0x420ba3[_0x556f1f]=='number'||_0x420ba3[_0x556f1f]===null||_0x420ba3[_0x556f1f]===void(0x24d2+-0x328*-0x4+-0x3172)||_0x420ba3[_0x556f1f]instanceof _e&&_0x420ba3[_0x556f1f]['cubemap']||this['setInvalid'](_0x556f1f,_0x420ba3);else{if(_0x6b870d==='chunks'){const _0x3ded69=Object['keys'](_0x420ba3[_0x556f1f]);for(let _0x29d85d=0x1*0xdcc+0x355*-0xb+0x16db*0x1;_0x29d85d<_0x3ded69['length'];_0x29d85d++)typeof _0x420ba3[_0x556f1f][_0x3ded69[_0x29d85d]]!='string'&&this['setInvalid'](_0x3ded69[_0x29d85d],_0x420ba3[_0x556f1f]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x6b870d);}}}}}}}}}}return _0x420ba3['validated']=!(-0x8b7*0x3+0x12a9+0x3be*0x2),this['valid'];}['_createEnu'+'mValidator'](_0xc1ce81){return function(_0x7c410a){return _0xc1ce81['indexOf'](_0x7c410a)>=-0x67*0x52+0x2d+0x10f*0x1f;};}}class gk{constructor(){this['_validator']=null;}['parse'](_0x8df20e){const _0x33786f=this['migrate'](_0x8df20e),_0x3c993e=this['_validate'](_0x33786f),_0x4a3613=new Ut();return this['initialize'](_0x4a3613,_0x3c993e),_0x4a3613;}['initialize'](_0x3a91af,_0x4c2535){if(_0x4c2535['validated']||(_0x4c2535=this['_validate'](_0x4c2535)),_0x4c2535['chunks']&&_0x4c2535['chunks']&&Object['keys'](_0x4c2535['chunks'])['length']>0xe07+0x1d92+-0x2b99){const _0x181f50=_0x3a91af['shaderChun'+'ks']['glsl'];Object['entries'](_0x4c2535['chunks'])['forEach'](([_0x295ef3,_0x510f63])=>_0x181f50['set'](_0x295ef3,_0x510f63));}for(const _0x882e49 in _0x4c2535){const _0x495bbd=$n[_0x882e49],_0x41aded=_0x4c2535[_0x882e49];if(_0x495bbd==='vec2')_0x3a91af[_0x882e49]=new J(_0x41aded[-0xe58+-0x1b41+0x2999],_0x41aded[0x87b*-0x1+0x2413*-0x1+-0x40d*-0xb]);else{if(_0x495bbd==='rgb')_0x3a91af[_0x882e49]=new ie(_0x41aded[-0xd*-0xb+-0x4b4+0x425*0x1],_0x41aded[0x25c3+0x1a7a+-0x403c],_0x41aded[-0x4e*0x4+-0x7*-0x10d+-0x621]);else{if(_0x495bbd==='texture')_0x41aded instanceof _e?_0x3a91af[_0x882e49]=_0x41aded:_0x3a91af[_0x882e49]instanceof _e&&typeof _0x41aded=='number'&&_0x41aded>-0x179*0x1+0x1c6a+0x273*-0xb||(_0x3a91af[_0x882e49]=null);else{if(_0x495bbd==='cubemap')_0x41aded instanceof _e?_0x3a91af[_0x882e49]=_0x41aded:_0x3a91af[_0x882e49]instanceof _e&&typeof _0x41aded=='number'&&_0x41aded>0x6d*-0x5a+0x1c*-0xfa+0x41aa||(_0x3a91af[_0x882e49]=null),_0x882e49==='cubeMap'&&!_0x41aded&&(_0x3a91af['prefiltere'+'dCubemaps']=null);else{if(_0x495bbd==='boundingbo'+'x'){const _0x3042e2=new D(_0x41aded['center'][0xa3*-0xa+0x838*-0x1+0xe96],_0x41aded['center'][-0x1*0x944+0x154a+0xc05*-0x1],_0x41aded['center'][-0x1768+0x87*-0x1a+0x2520]),_0x359f39=new D(_0x41aded['halfExtent'+'s'][0x2542+-0x1*0x296+0x13d*-0x1c],_0x41aded['halfExtent'+'s'][0x35a+-0x3*-0x22d+-0x278*0x4],_0x41aded['halfExtent'+'s'][-0x1*0x819+-0x6ea+0xf05]);_0x3a91af[_0x882e49]=new De(_0x3042e2,_0x359f39);}else _0x3a91af[_0x882e49]=_0x4c2535[_0x882e49];}}}}}_0x3a91af['update']();}['migrate'](_0x1ac6cd){_0x1ac6cd['shader']&&delete _0x1ac6cd['shader'],_0x1ac6cd['mapping_fo'+'rmat']&&(_0x1ac6cd['mappingFor'+'mat']=_0x1ac6cd['mapping_fo'+'rmat'],delete _0x1ac6cd['mapping_fo'+'rmat']);let _0x1a28bc;const _0x219397=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x1a28bc=0xc8b+-0x16c4+0xa39;_0x1a28bc<_0x219397['length'];_0x1a28bc++){const _0x46405e=_0x219397[_0x1a28bc][0x26f7+-0x19fa+-0xcfd],_0x40cf26=_0x219397[_0x1a28bc][-0x8a*0x38+-0x1*-0x11c+-0x5d1*-0x5];_0x1ac6cd[_0x46405e]!==void(-0x2652+-0x3b2*-0x9+0xd8*0x6)&&(_0x1ac6cd[_0x40cf26]===void(0x53*0x2+0x1*0x909+-0x1*0x9af)&&(_0x1ac6cd[_0x40cf26]=_0x1ac6cd[_0x46405e]),delete _0x1ac6cd[_0x46405e]);}const _0x3e6d5d=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x1a28bc=-0x1e1*0xf+0x1e7b+-0x24c;_0x1a28bc<_0x3e6d5d['length'];_0x1a28bc++){const _0x4a5ba8=_0x3e6d5d[_0x1a28bc];_0x1ac6cd['hasOwnProp'+'erty'](_0x4a5ba8)&&delete _0x1ac6cd[_0x4a5ba8];}return _0x1ac6cd;}['_validate'](_0x28f949){return _0x28f949['validated']||(this['_validator']||(this['_validator']=new _k()),this['_validator']['validate'](_0x28f949)),_0x28f949;}}const Sk={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black','anisotropyMap':'black'};class yk extends Qe{constructor(_0x5e8ec7){super(_0x5e8ec7,'material'),this['_assets']=_0x5e8ec7['assets'],this['_device']=_0x5e8ec7['graphicsDe'+'vice'],this['_parser']=new gk();}['load'](_0x2fd4dd,_0x232f81){typeof _0x2fd4dd=='string'&&(_0x2fd4dd={'load':_0x2fd4dd,'original':_0x2fd4dd}),ot['get'](_0x2fd4dd['load'],{'retry':this['maxRetries']>0x10*0x59+-0x1*0x673+0x1*0xe3,'maxRetries':this['maxRetries']},(_0x19af4c,_0x39509d)=>{_0x19af4c?_0x232f81&&_0x232f81('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x2fd4dd['original']+'\x20['+_0x19af4c+']'):_0x232f81&&(_0x39509d['_engine']=!(0xd08+-0x1*0x1d64+-0x2*-0x82e),_0x232f81(null,_0x39509d));});}['open'](_0x592c4c,_0x1f358e){const _0x5711bf=this['_parser']['parse'](_0x1f358e);return _0x1f358e['_engine']&&(_0x5711bf['_data']=_0x1f358e,delete _0x1f358e['_engine']),_0x5711bf;}['patch'](_0x57bd6d,_0x43e3bb){_0x57bd6d['resource']['_data']&&(_0x57bd6d['_data']=_0x57bd6d['resource']['_data'],delete _0x57bd6d['resource']['_data']),_0x57bd6d['data']['name']=_0x57bd6d['name'],_0x57bd6d['resource']['name']=_0x57bd6d['name'],this['_bindAndAs'+'signAssets'](_0x57bd6d,_0x43e3bb),_0x57bd6d['off']('unload',this['_onAssetUn'+'load'],this),_0x57bd6d['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x8f7152){delete _0x8f7152['data']['parameters'],delete _0x8f7152['data']['chunks'],delete _0x8f7152['data']['name'];}['_assignTex'+'ture'](_0x15f331,_0x26522b,_0xfd272f){_0x26522b['resource'][_0x15f331]=_0xfd272f;}['_getPlaceh'+'olderTextu'+'re'](_0x15c9bc){const _0x2f491c=Sk[_0x15c9bc];return w['assert'](_0x2f491c,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x15c9bc),fa(this['_device'],_0x2f491c);}['_assignPla'+'ceholderTe'+'xture'](_0x4236f0,_0x15e5a5){_0x15e5a5['resource'][_0x4236f0]=this['_getPlaceh'+'olderTextu'+'re'](_0x4236f0);}['_onTexture'+'Load'](_0x51161b,_0xb987d7,_0x2d8013){this['_assignTex'+'ture'](_0x51161b,_0xb987d7,_0x2d8013['resource']),_0xb987d7['resource']['update']();}['_onTexture'+'Add'](_0x7f6d7b,_0x4a9ce7,_0x1aa90b){this['_assets']['load'](_0x1aa90b);}['_onTexture'+'RemoveOrUn'+'load'](_0x5c9405,_0xc16670,_0x2ee39e){const _0x9849cd=_0xc16670['resource'];_0x9849cd&&_0xc16670['resource'][_0x5c9405]===_0x2ee39e['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x5c9405,_0xc16670),_0x9849cd['update']());}['_assignCub'+'emap'](_0x1d1078,_0x1f9fff,_0x373b69){if(_0x1f9fff['resource'][_0x1d1078]=_0x373b69[-0xb61+0x15bc+-0x1*0xa5b],_0x1d1078==='cubeMap'){const _0x24fd69=_0x373b69['slice'](0x16c2+-0x46c*0x4+0x511*-0x1);_0x24fd69['every'](_0x2e473d=>_0x2e473d)?_0x1f9fff['resource']['prefiltere'+'dCubemaps']=_0x24fd69:_0x24fd69[0x125*0x4+0x7e5+-0xc79]&&(_0x1f9fff['resource']['envAtlas']=_0x24fd69[-0x1e04+0x1dee+0x2*0xb]);}}['_onCubemap'+'Load'](_0x23b8c9,_0x5e0240,_0x3e4089){this['_assignCub'+'emap'](_0x23b8c9,_0x5e0240,_0x3e4089['resources']),this['_parser']['initialize'](_0x5e0240['resource'],_0x5e0240['data']);}['_onCubemap'+'Add'](_0x49e2e8,_0x149ecc,_0x347ee2){this['_assets']['load'](_0x347ee2);}['_onCubemap'+'RemoveOrUn'+'load'](_0x38f429,_0x431a6d,_0x488a3a){const _0x16bf27=_0x431a6d['resource'];_0x431a6d['data']['prefiltere'+'dCubeMap12'+'8']===_0x488a3a['resources'][-0xab7+-0xb*-0x2dd+0xc5*-0x1b]&&(this['_assignCub'+'emap'](_0x38f429,_0x431a6d,[null,null,null,null,null,null,null]),_0x16bf27['update']());}['_bindAndAs'+'signAssets'](_0x92a7f7,_0x2de6ac){const _0x4acb3d=this['_parser']['migrate'](_0x92a7f7['data']),_0x3298c8=_0x92a7f7['resource'],_0x2cc941=_0x4acb3d['mappingFor'+'mat']==='path',_0x1573f7=Cd;let _0x507551,_0xfb4ea,_0x346a68;for(_0x507551=0x623*0x1+-0x218b+0x1b68;_0x507551<_0x1573f7['length'];_0x507551++){_0xfb4ea=_0x1573f7[_0x507551],_0x346a68=_0x3298c8['_assetRefe'+'rences'][_0xfb4ea];const _0x2db4d0=_0x4acb3d[_0xfb4ea],_0x4044a8=_0x3298c8[_0xfb4ea],_0x4bc785=_0x4044a8===this['_getPlaceh'+'olderTextu'+'re'](_0xfb4ea),_0x4b8014=_0x4acb3d['validated'];_0x2db4d0&&(!_0x4044a8||!_0x4b8014||_0x4bc785)?(_0x346a68||(_0x346a68=new gl(_0xfb4ea,_0x92a7f7,_0x2de6ac,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x3298c8['_assetRefe'+'rences'][_0xfb4ea]=_0x346a68),_0x2cc941?_0x346a68['url']=_0x92a7f7['getAbsolut'+'eUrl'](_0x2db4d0):_0x346a68['id']=_0x2db4d0,_0x346a68['asset']&&(_0x346a68['asset']['resource']?this['_assignTex'+'ture'](_0xfb4ea,_0x92a7f7,_0x346a68['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0xfb4ea,_0x92a7f7),_0x2de6ac['load'](_0x346a68['asset']))):_0x346a68&&(_0x2cc941?_0x346a68['url']=null:_0x346a68['id']=null);}const _0x364bfb=fm;for(_0x507551=0x1ecb+-0x3*0xa81+0x1*0xb8;_0x507551<_0x364bfb['length'];_0x507551++)_0xfb4ea=_0x364bfb[_0x507551],_0x346a68=_0x3298c8['_assetRefe'+'rences'][_0xfb4ea],_0x4acb3d[_0xfb4ea]&&!_0x92a7f7['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x346a68||(_0x346a68=new gl(_0xfb4ea,_0x92a7f7,_0x2de6ac,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x3298c8['_assetRefe'+'rences'][_0xfb4ea]=_0x346a68),_0x2cc941?_0x346a68['url']=_0x4acb3d[_0xfb4ea]:_0x346a68['id']=_0x4acb3d[_0xfb4ea],_0x346a68['asset']&&(_0x346a68['asset']['loaded']&&this['_assignCub'+'emap'](_0xfb4ea,_0x92a7f7,_0x346a68['asset']['resources']),_0x2de6ac['load'](_0x346a68['asset'])));this['_parser']['initialize'](_0x3298c8,_0x4acb3d);}}class vk{constructor(_0x4ae8b5){this['_device']=_0x4ae8b5['device'],this['_defaultMa'+'terial']=_0x4ae8b5['defaultMat'+'erial'],this['_assets']=_0x4ae8b5['assets'];}['parse'](_0x3b7844,_0x70f3fa,_0x1a6ac3){kh['parse']('filename.g'+'lb','',_0x3b7844,this['_device'],this['_assets'],(_0x1a6ac3==null?void(0x1*-0x1d7b+-0x143*-0xe+-0x1*-0xbd1):_0x1a6ac3['options'])??{},(_0x528e1c,_0x23b131)=>{if(_0x528e1c)_0x70f3fa(_0x528e1c);else{const _0x306888=yr['createMode'+'l'](_0x23b131,this['_defaultMa'+'terial']);_0x23b131['destroy'](),_0x70f3fa(null,_0x306888);}});}}const xk={'points':cd,'lines':hd,'lineloop':_y,'linestrip':gy,'triangles':js,'trianglestrip':Er,'trianglefan':oa},Tk={'int8':dd,'uint8':la,'int16':fd,'uint16':Ml,'int32':Ty,'uint32':el,'float32':Ve};class wk{constructor(_0x21d2df){this['_device']=_0x21d2df['device'],this['_defaultMa'+'terial']=_0x21d2df['defaultMat'+'erial'];}['parse'](_0x2399b0,_0x383868){const _0x38c149=_0x2399b0['model'];if(!_0x38c149){_0x383868(null,null);return;}if(_0x38c149['version']<=-0x5e+0x1*0x2357+-0x22f8){_0x383868('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x2ff5ef=this['_parseNode'+'s'](_0x2399b0),_0x268db6=this['_parseSkin'+'s'](_0x2399b0,_0x2ff5ef),_0xc9ade7=this['_parseVert'+'exBuffers'](_0x2399b0),_0x237005=this['_parseInde'+'xBuffers'](_0x2399b0,_0xc9ade7),_0x7e4385=this['_parseMorp'+'hs'](_0x2399b0,_0x2ff5ef,_0xc9ade7),_0x185995=this['_parseMesh'+'es'](_0x2399b0,_0x268db6['skins'],_0x7e4385['morphs'],_0xc9ade7,_0x237005['buffer'],_0x237005['data']),_0x28bfb9=this['_parseMesh'+'Instances'](_0x2399b0,_0x2ff5ef,_0x185995,_0x268db6['skins'],_0x268db6['instances'],_0x7e4385['morphs'],_0x7e4385['instances']),_0x5bebc3=new sr();_0x5bebc3['graph']=_0x2ff5ef[-0x644*0x2+-0x1*-0xe59+-0x1d1],_0x5bebc3['meshInstan'+'ces']=_0x28bfb9,_0x5bebc3['skinInstan'+'ces']=_0x268db6['instances'],_0x5bebc3['morphInsta'+'nces']=_0x7e4385['instances'],_0x5bebc3['getGraph']()['syncHierar'+'chy'](),_0x383868(null,_0x5bebc3);}['_parseNode'+'s'](_0x26bacb){const _0x396161=_0x26bacb['model'],_0x474a1a=[];let _0x4e8dd4;for(_0x4e8dd4=-0x1098+-0x1656*-0x1+-0x5be;_0x4e8dd4<_0x396161['nodes']['length'];_0x4e8dd4++){const _0x96a2cd=_0x396161['nodes'][_0x4e8dd4],_0x1d1754=new Ie(_0x96a2cd['name']);_0x1d1754['setLocalPo'+'sition'](_0x96a2cd['position'][-0x1fd*-0xd+0xad*-0x23+-0x2*0x119],_0x96a2cd['position'][0xe48+-0xf9*-0x5+-0xf5*0x14],_0x96a2cd['position'][0x1b20+-0xe0c+-0xd12]),_0x1d1754['setLocalEu'+'lerAngles'](_0x96a2cd['rotation'][-0x25ef+-0x4*0x8e1+-0x4973*-0x1],_0x96a2cd['rotation'][0x3be+-0x1*-0xe17+-0x11d4],_0x96a2cd['rotation'][-0x5bb+0x1b2b+0xd*-0x1a6]),_0x1d1754['setLocalSc'+'ale'](_0x96a2cd['scale'][0x25*-0x3d+0x1cee+-0x13*0x10f],_0x96a2cd['scale'][-0xe*-0x2ab+-0x1*-0xc8f+-0xc7a*0x4],_0x96a2cd['scale'][-0x215e+-0x8fa*0x3+0x53*0xba]),_0x1d1754['scaleCompe'+'nsation']=!!_0x96a2cd['scaleCompe'+'nsation'],_0x474a1a['push'](_0x1d1754);}for(_0x4e8dd4=-0x23b6*0x1+-0xae0+0x2e97*0x1;_0x4e8dd4<_0x396161['parents']['length'];_0x4e8dd4++)_0x474a1a[_0x396161['parents'][_0x4e8dd4]]['addChild'](_0x474a1a[_0x4e8dd4]);return _0x474a1a;}['_parseSkin'+'s'](_0x12df4c,_0x2101f5){const _0x5bb68f=_0x12df4c['model'],_0x4b214b=[],_0xf0de51=[];let _0x3e8539,_0x10b4aa;for(_0x3e8539=-0x1*0x1f2d+-0x1f57+-0x4*-0xfa1;_0x3e8539<_0x5bb68f['skins']['length'];_0x3e8539++){const _0x5e4204=_0x5bb68f['skins'][_0x3e8539],_0x2aa034=[];for(_0x10b4aa=-0x1*0x185b+0x1b9e+-0x343;_0x10b4aa<_0x5e4204['inverseBin'+'dMatrices']['length'];_0x10b4aa++){const _0xaed3fb=_0x5e4204['inverseBin'+'dMatrices'][_0x10b4aa];_0x2aa034[_0x10b4aa]=new te()['set'](_0xaed3fb);}const _0xc9008d=new Lv(this['_device'],_0x2aa034,_0x5e4204['boneNames']);_0x4b214b['push'](_0xc9008d);const _0x5e20d0=new Ol(_0xc9008d),_0xb84f20=[];for(_0x10b4aa=0x5*0x53+0x6fd*-0x4+0x1a55;_0x10b4aa<_0xc9008d['boneNames']['length'];_0x10b4aa++){const _0x366594=_0xc9008d['boneNames'][_0x10b4aa],_0x412f3e=_0x2101f5[0x1fbd+0x153d*-0x1+0x2a*-0x40]['findByName'](_0x366594);_0xb84f20['push'](_0x412f3e);}_0x5e20d0['bones']=_0xb84f20,_0xf0de51['push'](_0x5e20d0);}return{'skins':_0x4b214b,'instances':_0xf0de51};}['_getMorphV'+'ertexCount'](_0xb85c4,_0x10ae3d,_0x3381f9){for(let _0x31f306=0x4d+-0x18be*0x1+0x1871;_0x31f306<_0xb85c4['meshes']['length'];_0x31f306++){const _0x36aaa8=_0xb85c4['meshes'][_0x31f306];if(_0x36aaa8['morph']===_0x10ae3d)return _0x3381f9[_0x36aaa8['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x461e71,_0x21462f,_0x4a282b){const _0x2050bc=_0x461e71['model'],_0x484f87=[],_0x1ca996=[];let _0x4c0f4b,_0xcc5bc7,_0x3b081e,_0x1f42df,_0x495428,_0x27eaac;if(_0x2050bc['morphs']){const _0x31e5ea=function(_0x4e52ce,_0x3f03ea,_0x1fb619){const _0x3cc462=new Float32Array(_0x1fb619*(-0x1*-0x215d+0x13dc+-0x3536));for(let _0x584550=0x1b25+0x241+0x1d66*-0x1;_0x584550<_0x3f03ea['length'];_0x584550++){const _0x2cdf12=_0x3f03ea[_0x584550]*(-0x2573+-0x258a+0x4*0x12c0);_0x3cc462[_0x2cdf12]=_0x4e52ce[_0x584550*(-0x251+0x88a+-0x1*0x636)],_0x3cc462[_0x2cdf12+(0x124*-0x15+0x3f+0x17b6)]=_0x4e52ce[_0x584550*(-0x2*-0x71d+0xbb*0x29+0x1*-0x2c2a)+(-0x25f1+-0xb5b+0x314d)],_0x3cc462[_0x2cdf12+(0xdea+0x19b4+-0x279c)]=_0x4e52ce[_0x584550*(-0x10*0x18d+-0x16e5+-0xbee*-0x4)+(-0x2*-0x8ed+-0x1*0x2067+0xe8f)];}return _0x3cc462;};for(_0x4c0f4b=-0x1aad+0xdb*0x2+-0x245*-0xb;_0x4c0f4b<_0x2050bc['morphs']['length'];_0x4c0f4b++){for(_0x1f42df=_0x2050bc['morphs'][_0x4c0f4b]['targets'],_0x27eaac=[],_0x3b081e=this['_getMorphV'+'ertexCount'](_0x2050bc,_0x4c0f4b,_0x4a282b),_0xcc5bc7=0x1*-0xb7e+0xe*0x22d+-0x25f*0x8;_0xcc5bc7<_0x1f42df['length'];_0xcc5bc7++){const _0x12af14=_0x1f42df[_0xcc5bc7]['aabb'],_0x21f9f9=_0x12af14['min'],_0x1cee50=_0x12af14['max'],_0x39e79c=new De(new D((_0x1cee50[-0x39e*0x7+-0xa7*-0x2+0x1804]+_0x21f9f9[0x1237*0x1+-0x8f0+0x5*-0x1db])*(-0x2*-0xf4e+0x142*0x11+0x1*-0x33fe+0.5),(_0x1cee50[-0x194c+-0x29*-0xc6+-0x669]+_0x21f9f9[-0x1506*0x1+0x4fa+0x100d])*(0x32*0x2+0xd43+-0xda7+0.5),(_0x1cee50[0x1a04+-0xa33*-0x1+-0x2435]+_0x21f9f9[0xb2d+0x1*-0x574+0x13*-0x4d])*(-0x230f+0x25*0xf7+-0xa4+0.5)),new D((_0x1cee50[0x208+0xd6d+-0xf75*0x1]-_0x21f9f9[0x89*-0x45+0x7af*-0x3+0x3bfa])*(0x17f5+-0x4+-0x3*0x7fb+0.5),(_0x1cee50[-0xc4d+-0xd86+0x227*0xc]-_0x21f9f9[0x17*-0x17f+-0x1a8a+-0x1*-0x3cf4])*(0x192b+0x5f*-0x26+-0xb11+0.5),(_0x1cee50[-0x1*0x315+0x16e2+-0x13cb]-_0x21f9f9[-0x2344+0x1*-0xe5d+0x31a3*0x1])*(-0x1201+-0x2594+0x1287*0x3+0.5))),_0x5e7378=_0x1f42df[_0xcc5bc7]['indices'];let _0x1f3b79=_0x1f42df[_0xcc5bc7]['deltaPosit'+'ions'],_0x4736c6=_0x1f42df[_0xcc5bc7]['deltaNorma'+'ls'];_0x5e7378&&(_0x1f3b79=_0x31e5ea(_0x1f3b79,_0x5e7378,_0x3b081e),_0x4736c6=_0x31e5ea(_0x4736c6,_0x5e7378,_0x3b081e)),_0x495428=new Md({'deltaPositions':_0x1f3b79,'deltaNormals':_0x4736c6,'name':_0x1f42df[_0xcc5bc7]['name'],'aabb':_0x39e79c}),_0x27eaac['push'](_0x495428);}const _0x191a5b=new mm(_0x27eaac,this['_device']);_0x484f87['push'](_0x191a5b);const _0x5ebe74=new xa(_0x191a5b);_0x1ca996['push'](_0x5ebe74);}}return{'morphs':_0x484f87,'instances':_0x1ca996};}['_parseVert'+'exBuffers'](_0x1fce02){const _0x3c5497=_0x1fce02['model'],_0x2d8322=[],_0x13328a={'position':Me,'normal':gs,'tangent':yi,'blendWeight':gi,'blendIndices':us,'color':Wt,'texCoord0':is,'texCoord1':ba,'texCoord2':wl,'texCoord3':El,'texCoord4':bl,'texCoord5':Al,'texCoord6':Cl,'texCoord7':Pl};for(let _0x79e18f=-0xc01+0xb40+-0xc1*-0x1;_0x79e18f<_0x3c5497['vertices']['length'];_0x79e18f++){const _0x3c04cd=_0x3c5497['vertices'][_0x79e18f],_0x332327=[];for(const _0x231f2a in _0x3c04cd){const _0x4d2c43=_0x3c04cd[_0x231f2a];_0x332327['push']({'semantic':_0x13328a[_0x231f2a],'components':_0x4d2c43['components'],'type':Tk[_0x4d2c43['type']],'normalize':_0x13328a[_0x231f2a]===Wt});}const _0x3dc8cf=new kt(this['_device'],_0x332327),_0x1dd737=_0x3c04cd['position']['data']['length']/_0x3c04cd['position']['components'],_0x14f72d=new Is(this['_device'],_0x3dc8cf,_0x1dd737),_0x1931f8=new Uo(_0x14f72d);for(let _0x230a06=0x20b8+0x809+-0x28c1;_0x230a06<_0x1dd737;_0x230a06++){for(const _0x2c5c88 in _0x3c04cd){const _0x5d3bf5=_0x3c04cd[_0x2c5c88];switch(_0x5d3bf5['components']){case-0xc15+-0x1a82*-0x1+0x4*-0x39b:_0x1931f8['element'][_0x13328a[_0x2c5c88]]['set'](_0x5d3bf5['data'][_0x230a06]);break;case 0x1e91+0x6d4+-0x2563:_0x1931f8['element'][_0x13328a[_0x2c5c88]]['set'](_0x5d3bf5['data'][_0x230a06*(-0xf53+-0x11b9+-0x1087*-0x2)],-0x1*-0x821+0x2*-0x833+0x846-_0x5d3bf5['data'][_0x230a06*(-0x387+0x37e+0xb*0x1)+(0xe*0x2aa+0x14f6+-0x3a41)]);break;case-0x1*-0xc15+0xb56+-0x1768:_0x1931f8['element'][_0x13328a[_0x2c5c88]]['set'](_0x5d3bf5['data'][_0x230a06*(0x739+-0x1*0x214+-0x522)],_0x5d3bf5['data'][_0x230a06*(0x15a7*0x1+-0x32*-0x17+-0x1a22)+(-0x2*0x116c+-0xfdd+-0x32b6*-0x1)],_0x5d3bf5['data'][_0x230a06*(0x1*-0x13e4+-0x1c09+0x68*0x76)+(-0x1774+0x332*-0x6+0x2aa2)]);break;case 0x22b*0x3+0xb26+-0x11a3:_0x1931f8['element'][_0x13328a[_0x2c5c88]]['set'](_0x5d3bf5['data'][_0x230a06*(-0x11df+0x2674+-0x1491)],_0x5d3bf5['data'][_0x230a06*(0x1aab+-0x16*0x128+-0x137)+(0x1*0x1ba1+-0x13de+-0x7c2)],_0x5d3bf5['data'][_0x230a06*(0xf06+-0x1*-0x1a4f+0x2951*-0x1)+(0x2*-0x10ac+-0x1e35+0x3f8f)],_0x5d3bf5['data'][_0x230a06*(-0x13*0x47+-0x1*-0x78b+-0x242)+(-0x137f+-0x180b*0x1+0x2b8d)]);break;}}_0x1931f8['next']();}_0x1931f8['end'](),_0x2d8322['push'](_0x14f72d);}return _0x2d8322;}['_parseInde'+'xBuffers'](_0x5560df,_0x5a67dc){const _0x53ef5e=_0x5560df['model'];let _0x394008=null,_0x15ac1c=null,_0x3c7ecb,_0x334f30=0x2e6+-0x1acb+0x17e5;for(_0x3c7ecb=0x1*0x16f7+-0x15cf+-0x128;_0x3c7ecb<_0x53ef5e['meshes']['length'];_0x3c7ecb++){const _0x3f7ba3=_0x53ef5e['meshes'][_0x3c7ecb];_0x3f7ba3['indices']!==void(0x2651+-0x1e80*-0x1+-0x44d1)&&(_0x334f30+=_0x3f7ba3['indices']['length']);}let _0x29f56c=-0x1*-0x1741+0x90*0x30+0x1*-0x3241;for(_0x3c7ecb=-0x1f48+0xa01+0x1547;_0x3c7ecb<_0x5a67dc['length'];_0x3c7ecb++)_0x29f56c=Math['max'](_0x29f56c,_0x5a67dc[_0x3c7ecb]['numVertice'+'s']);return _0x334f30>0x65*0x44+-0x6aa+0x3a*-0x59&&(_0x29f56c>0x3e*0x20b+0x1b72d+-0x135d8?(_0x394008=new br(this['_device'],wr,_0x334f30),_0x15ac1c=new Uint32Array(_0x394008['lock']())):(_0x394008=new br(this['_device'],Yi,_0x334f30),_0x15ac1c=new Uint16Array(_0x394008['lock']()))),{'buffer':_0x394008,'data':_0x15ac1c};}['_parseMesh'+'es'](_0xf78e72,_0x1e70a5,_0x57fd20,_0x3830be,_0x312638,_0x1c06fc){const _0x54744d=_0xf78e72['model'],_0x1cda75=[];let _0x276b6e=-0x25af+0x219c+0x1*0x413;for(let _0x5f4e9e=0x8b*0x12+-0x2085+0x16bf;_0x5f4e9e<_0x54744d['meshes']['length'];_0x5f4e9e++){const _0x87ad29=_0x54744d['meshes'][_0x5f4e9e],_0xe2546a=_0x87ad29['aabb'],_0x285c2f=_0xe2546a['min'],_0x814083=_0xe2546a['max'],_0x27967b=new De(new D((_0x814083[0xe16+-0x1f1*-0x8+-0x1d9e]+_0x285c2f[-0x3*-0x1fd+-0xc8b+-0x2*-0x34a])*(0xa94+-0xd39+0x2a5+0.5),(_0x814083[-0x40e*-0x3+-0x1490+0x867]+_0x285c2f[0x2098+-0x1*-0x16ff+-0x2*0x1bcb])*(0x1*0x95f+0x8b6+-0x1215+0.5),(_0x814083[-0x1492*-0x1+0x957+-0x1de7]+_0x285c2f[0x1a23+-0x22f*-0xb+0x106*-0x31])*(0x25b1*0x1+-0xd6*-0xf+-0x323b+0.5)),new D((_0x814083[0x1*0x7f+-0x3*-0x959+-0xe45*0x2]-_0x285c2f[-0xb0b+0xb23+-0x18])*(-0x1*-0x204d+-0x1366+-0xce7+0.5),(_0x814083[0x27*-0x5b+-0x49c+0x127a]-_0x285c2f[0x1*0x1e01+-0x1e7d+0x7d])*(-0x23d4+-0xfd9+0x33ad+0.5),(_0x814083[0x11d+-0x26*0xc+0xad]-_0x285c2f[-0x26d9+-0x2172+-0x53*-0xdf])*(-0x170d+-0x1e25+0x3532+0.5))),_0x1b3ebc=_0x87ad29['indices']!==void(0x2*-0x793+-0x46*-0x81+-0x10*0x142),_0x484af5=new Ge(this['_device']);_0x484af5['vertexBuff'+'er']=_0x3830be[_0x87ad29['vertices']],_0x484af5['indexBuffe'+'r'][0x4*0x29b+-0x1*-0xf47+-0x19b3]=_0x1b3ebc?_0x312638:null,_0x484af5['primitive'][-0x1da5+-0x1945+0x1aa*0x21]['type']=xk[_0x87ad29['type']],_0x484af5['primitive'][0x1*-0x73c+-0x32*-0xbd+0x1dae*-0x1]['base']=_0x1b3ebc?_0x87ad29['base']+_0x276b6e:_0x87ad29['base'],_0x484af5['primitive'][-0xa99*0x3+0x2*-0x43+0x2051]['count']=_0x87ad29['count'],_0x484af5['primitive'][-0x10e8+-0x11f*0x17+0x2ab1]['indexed']=_0x1b3ebc,_0x484af5['skin']=_0x87ad29['skin']!==void(0x4*-0x18+0x3d*-0x9b+0x254f)?_0x1e70a5[_0x87ad29['skin']]:null,_0x484af5['morph']=_0x87ad29['morph']!==void(-0x17f0+-0x1af7+-0x53*-0x9d)?_0x57fd20[_0x87ad29['morph']]:null,_0x484af5['aabb']=_0x27967b,_0x1b3ebc&&(_0x1c06fc['set'](_0x87ad29['indices'],_0x276b6e),_0x276b6e+=_0x87ad29['indices']['length']),_0x1cda75['push'](_0x484af5);}return _0x312638!==null&&_0x312638['unlock'](),_0x1cda75;}['_parseMesh'+'Instances'](_0x40d5c5,_0x2afbba,_0x412013,_0x34a1ba,_0x36b60d,_0x228cd9,_0x506f9a){const _0x3cb2a7=_0x40d5c5['model'],_0x1265d8=[];let _0x5c8014;for(_0x5c8014=-0x573+0x1619*-0x1+0x1b8c;_0x5c8014<_0x3cb2a7['meshInstan'+'ces']['length'];_0x5c8014++){const _0x2cbe6e=_0x3cb2a7['meshInstan'+'ces'][_0x5c8014],_0x597eef=_0x2afbba[_0x2cbe6e['node']],_0x185aa8=_0x412013[_0x2cbe6e['mesh']],_0x4aece6=new He(_0x185aa8,this['_defaultMa'+'terial'],_0x597eef);if(_0x185aa8['skin']){const _0x953e1=_0x34a1ba['indexOf'](_0x185aa8['skin']);if(_0x953e1===-(-0x115f+-0x1*0x3d3+0x1533))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x4aece6['skinInstan'+'ce']=_0x36b60d[_0x953e1];}if(_0x185aa8['morph']){const _0x29012d=_0x228cd9['indexOf'](_0x185aa8['morph']);if(_0x29012d===-(0x3*-0xa3+-0x1*0x21e9+0x23d3))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x4aece6['morphInsta'+'nce']=_0x506f9a[_0x29012d];}_0x1265d8['push'](_0x4aece6);}return _0x1265d8;}}class Ek extends Qe{constructor(_0x111e0b){super(_0x111e0b,'model'),this['_parsers']=[],this['device']=_0x111e0b['graphicsDe'+'vice'],this['assets']=_0x111e0b['assets'],this['defaultMat'+'erial']=Qn(this['device']),this['addParser'](new wk(this),(_0x2feed0,_0x43e6cd)=>xe['getExtensi'+'on'](_0x2feed0)==='.json'),this['addParser'](new vk(this),(_0x3f8bb7,_0x2b3c4d)=>xe['getExtensi'+'on'](_0x3f8bb7)==='.glb');}['load'](_0x1c9ab9,_0x4f5ecd,_0x589863){typeof _0x1c9ab9=='string'&&(_0x1c9ab9={'load':_0x1c9ab9,'original':_0x1c9ab9});const _0x3fdba4={'retry':this['maxRetries']>0x1*-0x303+-0x1*-0xd30+-0xa2d,'maxRetries':this['maxRetries']};(_0x1c9ab9['load']['startsWith']('blob:')||_0x1c9ab9['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x1c9ab9['original'])['toLowerCas'+'e']()==='.glb'?_0x3fdba4['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x3fdba4['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x1c9ab9['load'],_0x3fdba4,(_0x551807,_0x16c8db)=>{if(_0x4f5ecd){if(_0x551807)_0x4f5ecd('Error\x20load'+'ing\x20model:'+'\x20'+_0x1c9ab9['original']+'\x20['+_0x551807+']');else{for(let _0x4ec3ff=0x4bc*-0x3+0x164e+-0x81a;_0x4ec3ff<this['_parsers']['length'];_0x4ec3ff++){const _0x34746e=this['_parsers'][_0x4ec3ff];if(_0x34746e['decider'](_0x1c9ab9['original'],_0x16c8db)){_0x34746e['parser']['parse'](_0x16c8db,(_0xb12e4e,_0x17b7e8)=>{_0xb12e4e?_0x4f5ecd(_0xb12e4e):_0x4f5ecd(null,_0x17b7e8);},_0x589863);return;}}_0x4f5ecd('No\x20parsers'+'\x20found');}}});}['open'](_0x115c46,_0x50ebca){return _0x50ebca;}['patch'](_0x43445d,_0x3528b6){if(!_0x43445d['resource'])return;const _0x53a928=_0x43445d['data'],_0x521dbc=this;_0x43445d['resource']['meshInstan'+'ces']['forEach']((_0x4a29f1,_0x26a6c9)=>{if(_0x53a928['mapping']){const _0x3146ce=function(_0x3b2e3d){_0x3b2e3d['resource']?_0x4a29f1['material']=_0x3b2e3d['resource']:(_0x3b2e3d['once']('load',_0x3146ce),_0x3528b6['load'](_0x3b2e3d)),_0x3b2e3d['once']('remove',_0x4ade25=>{_0x4a29f1['material']===_0x4ade25['resource']&&(_0x4a29f1['material']=_0x521dbc['defaultMat'+'erial']);});};if(!_0x53a928['mapping'][_0x26a6c9]){_0x4a29f1['material']=_0x521dbc['defaultMat'+'erial'];return;}const _0x22c3ff=_0x53a928['mapping'][_0x26a6c9]['material'],_0x1fb48a=_0x53a928['mapping'][_0x26a6c9]['path'];let _0x19c169;if(_0x22c3ff!==void(0x627+0x857+-0xe7e))_0x22c3ff?(_0x19c169=_0x3528b6['get'](_0x22c3ff),_0x19c169?_0x3146ce(_0x19c169):_0x3528b6['once']('add:'+_0x22c3ff,_0x3146ce)):_0x4a29f1['material']=_0x521dbc['defaultMat'+'erial'];else{if(_0x1fb48a){const _0x2d7a96=_0x43445d['getAbsolut'+'eUrl'](_0x53a928['mapping'][_0x26a6c9]['path']);_0x19c169=_0x3528b6['getByUrl'](_0x2d7a96),_0x19c169?_0x3146ce(_0x19c169):_0x3528b6['once']('add:url:'+_0x2d7a96,_0x3146ce);}}}});}['addParser'](_0x3e2530,_0x458603){this['_parsers']['push']({'parser':_0x3e2530,'decider':_0x458603});}}class bk extends Qe{constructor(_0x4ecf84){super(_0x4ecf84,'scene');}['load'](_0x475f97,_0x3bb043){E0['load'](_0x475f97,this['maxRetries'],_0x3bb043);}['open'](_0x294253,_0x1de4d9){this['_app']['systems']['script']['preloading']=!(0x2c9+0x26b4+-0xf7*0x2b);const _0x258d35=new bm(this['_app'],!(0x2d*0xa1+0x203a+-0x1e43*0x2))['parse'](_0x1de4d9),_0x443239=this['_app']['scene'];return _0x443239['root']=_0x258d35,this['_app']['applyScene'+'Settings'](_0x1de4d9['settings']),this['_app']['systems']['script']['preloading']=!(0x41c*-0x6+-0x187+0x346*0x8),_0x443239;}}const qh=class qh{static['push'](_0x22c743){qh['_types']['push'](_0x22c743);}};h(qh,'_types',[]);let aa=qh;const Ak=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),Ck={};Sl['reservedNa'+'mes']['forEach']((_0xafcf66,_0x4a6135,_0x4711cd)=>{Ck[_0xafcf66]=-0x1880+0x327*0x6+0x597;});function Pk(_0x30e6e3,_0x884938,_0x2f589f){if(typeof _0x30e6e3!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x30e6e3+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x30e6e3['prototype']instanceof ts))throw new Error('script\x20cla'+'ss:\x20\x27'+Wo['__getScrip'+'tName'](_0x30e6e3)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x884938=_0x884938||_0x30e6e3['__name']||Wo['__getScrip'+'tName'](_0x30e6e3),Ak['has'](_0x884938))throw new Error('script\x20nam'+'e:\x20\x27'+_0x884938+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x30e6e3['__name']=_0x884938,Ks['getApplica'+'tion']()['scripts']['add'](_0x30e6e3),aa['push'](_0x30e6e3);}const Mk=_0x12fde8=>_0x12fde8[0x169a+-0xb65+-0x97*0x13]['toLowerCas'+'e']()+_0x12fde8['substring'](0xb5a+0x2*-0x92+-0x3*0x367);class Dk extends Qe{constructor(_0x5427f1){super(_0x5427f1,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x46d212 in this['_cache']){const _0x17f8ba=this['_cache'][_0x46d212],_0x1e3856=_0x17f8ba['parentNode'];_0x1e3856&&_0x1e3856['removeChil'+'d'](_0x17f8ba);}this['_cache']={};}['load'](_0xf86a2c,_0x350c1f){typeof _0xf86a2c=='string'&&(_0xf86a2c={'load':_0xf86a2c,'original':_0xf86a2c});const _0x4c1efc=this;this['_app'];const _0xfa79f8=(_0xf86a2c['load'],(_0x137bab,_0x492b29,_0x5713fa)=>{if(_0x137bab)_0x350c1f(_0x137bab);else{const _0x4a972c={};for(let _0xccbf59=0x25f6+-0x1a65+0x8d*-0x15;_0xccbf59<aa['_types']['length'];_0xccbf59++)_0x4a972c[aa['_types'][_0xccbf59]['name']]=aa['_types'][_0xccbf59];aa['_types']['length']=0x11d3+0x16*0xaf+-0x20dd,_0x350c1f(null,_0x4a972c,_0x5713fa);const _0x2cbeba=_0x492b29['split']('&hash=')[0x1507*0x1+-0x3a6*0x1+0x5cb*-0x3];delete _0x4c1efc['_loader']['_cache'][Cn['makeKey'](_0x2cbeba,'script')];}}),[_0x1012a5]=_0xf86a2c['load']['split']('?');_0x1012a5['endsWith']('.mjs')?this['_loadModul'+'e'](_0x1012a5,_0xfa79f8):this['_loadScrip'+'t'](_0xf86a2c['load'],_0xfa79f8);}['open'](_0x21fb6c,_0x5b8c17){return _0x5b8c17;}['patch'](_0x2c7803,_0x1eb4d7){}['_loadScrip'+'t'](_0x3a059a,_0x479541){const _0x3b1113=document['head'],_0x3f2d32=document['createElem'+'ent']('script');this['_cache'][_0x3a059a]=_0x3f2d32,_0x3f2d32['async']=!(-0x1d60+-0x6*0x432+0x368d),_0x3f2d32['addEventLi'+'stener']('error',_0x21d003=>{_0x479541('Script:\x20'+_0x21d003['target']['src']+('\x20failed\x20to'+'\x20load'));},!(-0x781*0x1+0x160a+0x3c*-0x3e));let _0x53069b=!(-0x2659+-0xb3e*0x1+-0x1088*-0x3);_0x3f2d32['onload']=_0x3f2d32['onreadysta'+'techange']=function(){!_0x53069b&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x53069b=!(0x53*-0x2d+0x32+0xe65),_0x479541(null,_0x3a059a,_0x3f2d32));},_0x3f2d32['src']=_0x3a059a,_0x3b1113['appendChil'+'d'](_0x3f2d32);}['_loadModul'+'e'](_0x479e50,_0x439735){const _0x483315=Ae['browser']&&window['location']['origin']!=='null'?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x38dbd6=new URL(_0x479e50,_0x483315);import(_0x38dbd6['toString']())['then'](_0x51b1ac=>{var _0x155c20,_0x167852;const _0x574894=_0x38dbd6['pathname']['split']('/')['pop'](),_0x32a6ec=(_0x167852=(_0x155c20=this['_app']['assets']['find'](_0x574894,'script'))==null?void(-0x3*0xcaf+0x1*-0x1dca+0x43d7):_0x155c20['data'])==null?void(-0x87f+0x1*-0xdf+0x95e):_0x167852['scripts'];for(const _0x15bd4e in _0x51b1ac){const _0xf3d040=_0x51b1ac[_0x15bd4e];if(_0xf3d040['prototype']instanceof ts){const _0x1c37ce=Mk(_0xf3d040['name']);_0xf3d040['scriptName']||w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0xf3d040['name']+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0xf3d040['name']+('.scriptNam'+'e\x20=\x20\x22')+_0x1c37ce+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.'));const _0x271acd=_0xf3d040['scriptName']??_0x1c37ce;Pk(_0xf3d040,_0x271acd),_0x32a6ec&&this['_app']['scripts']['addSchema'](_0x271acd,_0x32a6ec[_0x271acd]);}}_0x439735(null,_0x479e50,null);})['catch'](_0x4ca3c9=>{_0x439735(_0x4ca3c9);});}}class Ik extends Qe{constructor(_0x387526){super(_0x387526,'shader'),h(this,'decoder',null);}['load'](_0x4868a0,_0x349d4c){typeof _0x4868a0=='string'&&(_0x4868a0={'load':_0x4868a0,'original':_0x4868a0}),ot['get'](_0x4868a0['load'],{'retry':this['maxRetries']>0x230b+0x1a54*-0x1+0x1*-0x8b7,'maxRetries':this['maxRetries']},(_0x3ea95a,_0x38d42a)=>{_0x3ea95a?_0x349d4c('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x4868a0['original']+'\x20['+_0x3ea95a+']'):_0x349d4c(null,_0x38d42a);});}['openBinary'](_0x5a8091){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x5a8091);}}function Pf(_0x3d56f4){const _0x1f5c38=this;_0x1f5c38['resource']&&(_0x1f5c38['resource']['atlas']=_0x3d56f4['resource']);}function Mf(_0x1bbd20){this['registry']['load'](_0x1bbd20);}class Lk extends Qe{constructor(_0x3e87cb){super(_0x3e87cb,'sprite'),this['_assets']=_0x3e87cb['assets'],this['_device']=_0x3e87cb['graphicsDe'+'vice'];}['load'](_0x2356aa,_0x4af256){typeof _0x2356aa=='string'&&(_0x2356aa={'load':_0x2356aa,'original':_0x2356aa}),xe['getExtensi'+'on'](_0x2356aa['original'])==='.json'&&ot['get'](_0x2356aa['load'],{'retry':this['maxRetries']>-0x21cd*-0x1+0x1303+-0x34d0,'maxRetries':this['maxRetries']},(_0xce8fc8,_0x410b1a)=>{_0xce8fc8?_0x4af256(_0xce8fc8):_0x4af256(null,_0x410b1a);});}['open'](_0x36ad03,_0x4c6e7c){const _0x5f4652=new BA(this['_device']);return _0x36ad03&&(_0x5f4652['__data']=_0x4c6e7c),_0x5f4652;}['patch'](_0x46d90c,_0x56443f){const _0x57dad2=_0x46d90c['resource'];if(_0x57dad2['__data']&&(_0x46d90c['data']['pixelsPerU'+'nit']=_0x57dad2['__data']['pixelsPerU'+'nit'],_0x46d90c['data']['renderMode']=_0x57dad2['__data']['renderMode'],_0x46d90c['data']['frameKeys']=_0x57dad2['__data']['frameKeys'],_0x57dad2['__data']['textureAtl'+'asAsset'])){const _0x2b5b8f=_0x56443f['getByUrl'](_0x57dad2['__data']['textureAtl'+'asAsset']);_0x2b5b8f?_0x46d90c['data']['textureAtl'+'asAsset']=_0x2b5b8f['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x57dad2['__data']['textureAtl'+'asAsset']);}_0x57dad2['startUpdat'+'e'](),_0x57dad2['renderMode']=_0x46d90c['data']['renderMode'],_0x57dad2['pixelsPerU'+'nit']=_0x46d90c['data']['pixelsPerU'+'nit'],_0x57dad2['frameKeys']=_0x46d90c['data']['frameKeys'],this['_updateAtl'+'as'](_0x46d90c),_0x57dad2['endUpdate'](),_0x46d90c['off']('change',this['_onAssetCh'+'ange'],this),_0x46d90c['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x474a93){const _0x389516=_0x474a93['resource'];if(!_0x474a93['data']['textureAtl'+'asAsset']){_0x389516['atlas']=null;return;}this['_assets']['off']('load:'+_0x474a93['data']['textureAtl'+'asAsset'],Pf,_0x474a93),this['_assets']['on']('load:'+_0x474a93['data']['textureAtl'+'asAsset'],Pf,_0x474a93);const _0x4a0107=this['_assets']['get'](_0x474a93['data']['textureAtl'+'asAsset']);_0x4a0107&&_0x4a0107['resource']?_0x389516['atlas']=_0x4a0107['resource']:_0x4a0107?this['_assets']['load'](_0x4a0107):(this['_assets']['off']('add:'+_0x474a93['data']['textureAtl'+'asAsset'],Mf,_0x474a93),this['_assets']['on']('add:'+_0x474a93['data']['textureAtl'+'asAsset'],Mf,_0x474a93));}['_onAssetCh'+'ange'](_0x52813f,_0x4a4e3d,_0x1eae3c,_0x40c979){_0x4a4e3d==='data'&&_0x1eae3c&&_0x1eae3c['textureAtl'+'asAsset']&&_0x40c979&&_0x1eae3c['textureAtl'+'asAsset']!==_0x40c979['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x40c979['textureAtl'+'asAsset'],Pf,_0x52813f),this['_assets']['off']('add:'+_0x40c979['textureAtl'+'asAsset'],Mf,_0x52813f));}}class vS{constructor(_0x1746e0,_0x3f6c9c){h(this,'_app'),h(this,'_data'),h(this,'_templateR'+'oot',null),(this['_app']=_0x1746e0,this['_data']=_0x3f6c9c);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x25019a=new bm(this['_app'],!(-0xe39+0x3d*0x47+-0x2b2));this['_templateR'+'oot']=_0x25019a['parse'](this['_data']);}}class Rk extends Qe{constructor(_0x5c5ba9){super(_0x5c5ba9,'template'),h(this,'decoder',null);}['load'](_0x189dca,_0x1480af){typeof _0x189dca=='string'&&(_0x189dca={'load':_0x189dca,'original':_0x189dca});const _0x23934a={'retry':this['maxRetries']>-0x1dc*0x4+-0x1763*0x1+0x1ed3,'maxRetries':this['maxRetries']};ot['get'](_0x189dca['load'],_0x23934a,(_0x5eeb3d,_0x537305)=>{_0x5eeb3d?_0x1480af('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x189dca['original']):_0x1480af(_0x5eeb3d,_0x537305);});}['open'](_0x1944a4,_0x59de90){return new vS(this['_app'],_0x59de90);}['openBinary'](_0x2c857d){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new vS(this['_app'],JSON['parse'](this['decoder']['decode'](_0x2c857d)));}}class Ok extends Qe{constructor(_0x3f9bf0){super(_0x3f9bf0,'text'),h(this,'decoder',null);}['load'](_0x47750d,_0x20e926){typeof _0x47750d=='string'&&(_0x47750d={'load':_0x47750d,'original':_0x47750d}),ot['get'](_0x47750d['load'],{'retry':this['maxRetries']>-0x9e*0x19+-0x1e8c+0x2dfa,'maxRetries':this['maxRetries']},(_0x21b066,_0x388c0b)=>{_0x21b066?_0x20e926('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x47750d['original']+'\x20['+_0x21b066+']'):_0x20e926(null,_0x388c0b);});}['openBinary'](_0x452015){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x452015);}}const Ic={'repeat':yt,'clamp':ue,'mirror':ip},Lc={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},Fk=/^data\.frames\.(\d+)$/;class Nk extends Qe{constructor(_0x240f44){super(_0x240f44,'textureatl'+'as'),this['_loader']=_0x240f44['loader'];}['load'](_0x5f0ecd,_0x5b1401){typeof _0x5f0ecd=='string'&&(_0x5f0ecd={'load':_0x5f0ecd,'original':_0x5f0ecd});const _0x327d8b=this,_0x27d9cd=this['_loader']['getHandler']('texture');xe['getExtensi'+'on'](_0x5f0ecd['original'])==='.json'?ot['get'](_0x5f0ecd['load'],{'retry':this['maxRetries']>-0x2289+0x112c+0x379*0x5,'maxRetries':this['maxRetries']},(_0x162960,_0x565961)=>{if(_0x162960)_0x5b1401(_0x162960);else{const _0xf41661=_0x5f0ecd['original']['replace']('.json','.png');_0x327d8b['_loader']['load'](_0xf41661,'texture',(_0x4d0386,_0x112aae)=>{_0x4d0386?_0x5b1401(_0x4d0386):_0x5b1401(null,{'data':_0x565961,'texture':_0x112aae});});}}):_0x27d9cd['load'](_0x5f0ecd,_0x5b1401);}['open'](_0x30ad87,_0x468fb6,_0x508da7){const _0x5df486=new zA();if(_0x468fb6['texture']&&_0x468fb6['data'])_0x5df486['texture']=_0x468fb6['texture'],_0x5df486['__data']=_0x468fb6['data'];else{const _0x2220b2=this['_loader']['getHandler']('texture')['open'](_0x30ad87,_0x468fb6,_0x508da7);if(!_0x2220b2)return null;_0x5df486['texture']=_0x2220b2;}return _0x5df486;}['patch'](_0x52542f,_0x136bc9){if(!_0x52542f['resource'])return;_0x52542f['resource']['__data']&&(_0x52542f['resource']['__data']['minfilter']!==void(-0x5d4*-0x2+-0x1c5f+0x185*0xb)&&(_0x52542f['data']['minfilter']=_0x52542f['resource']['__data']['minfilter']),_0x52542f['resource']['__data']['magfilter']!==void(-0x17b1+0x3b*-0x19+-0x75d*-0x4)&&(_0x52542f['data']['magfilter']=_0x52542f['resource']['__data']['magfilter']),_0x52542f['resource']['__data']['addressu']!==void(0x26b0+0x2053+0x7*-0xa25)&&(_0x52542f['data']['addressu']=_0x52542f['resource']['__data']['addressu']),_0x52542f['resource']['__data']['addressv']!==void(-0x25*-0x2e+-0x9a4*0x4+0x1fea)&&(_0x52542f['data']['addressv']=_0x52542f['resource']['__data']['addressv']),_0x52542f['resource']['__data']['mipmaps']!==void(0x1a49+-0x1931*0x1+-0xe*0x14)&&(_0x52542f['data']['mipmaps']=_0x52542f['resource']['__data']['mipmaps']),_0x52542f['resource']['__data']['anisotropy']!==void(-0x2005*-0x1+0x1bc7+-0x3bcc)&&(_0x52542f['data']['anisotropy']=_0x52542f['resource']['__data']['anisotropy']),_0x52542f['resource']['__data']['rgbm']!==void(-0x51+0x110a+-0x10b9)&&(_0x52542f['data']['rgbm']=!!_0x52542f['resource']['__data']['rgbm']),_0x52542f['data']['frames']=_0x52542f['resource']['__data']['frames'],delete _0x52542f['resource']['__data']);const _0x5f125b=_0x52542f['resource']['texture'];if(_0x5f125b&&(_0x5f125b['name']=_0x52542f['name'],_0x52542f['data']['hasOwnProp'+'erty']('minfilter')&&_0x5f125b['minFilter']!==Lc[_0x52542f['data']['minfilter']]&&(_0x5f125b['minFilter']=Lc[_0x52542f['data']['minfilter']]),_0x52542f['data']['hasOwnProp'+'erty']('magfilter')&&_0x5f125b['magFilter']!==Lc[_0x52542f['data']['magfilter']]&&(_0x5f125b['magFilter']=Lc[_0x52542f['data']['magfilter']]),_0x52542f['data']['hasOwnProp'+'erty']('addressu')&&_0x5f125b['addressU']!==Ic[_0x52542f['data']['addressu']]&&(_0x5f125b['addressU']=Ic[_0x52542f['data']['addressu']]),_0x52542f['data']['hasOwnProp'+'erty']('addressv')&&_0x5f125b['addressV']!==Ic[_0x52542f['data']['addressv']]&&(_0x5f125b['addressV']=Ic[_0x52542f['data']['addressv']]),_0x52542f['data']['hasOwnProp'+'erty']('mipmaps')&&_0x5f125b['mipmaps']!==_0x52542f['data']['mipmaps']&&(_0x5f125b['mipmaps']=_0x52542f['data']['mipmaps']),_0x52542f['data']['hasOwnProp'+'erty']('anisotropy')&&_0x5f125b['anisotropy']!==_0x52542f['data']['anisotropy']&&(_0x5f125b['anisotropy']=_0x52542f['data']['anisotropy']),_0x52542f['data']['hasOwnProp'+'erty']('rgbm'))){const _0x574307=_0x52542f['data']['rgbm']?Zi:Ds;_0x5f125b['type']!==_0x574307&&(_0x5f125b['type']=_0x574307);}_0x52542f['resource']['texture']=_0x5f125b;const _0x3e0107={};for(const _0x1b4f75 in _0x52542f['data']['frames']){const _0x48d574=_0x52542f['data']['frames'][_0x1b4f75];_0x3e0107[_0x1b4f75]={'rect':new re(_0x48d574['rect']),'pivot':new J(_0x48d574['pivot']),'border':new re(_0x48d574['border'])};}_0x52542f['resource']['frames']=_0x3e0107,_0x52542f['off']('change',this['_onAssetCh'+'ange'],this),_0x52542f['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x1b4853,_0x248d87,_0x3fb4b2){let _0x3994ea;if(_0x248d87==='data'||_0x248d87==='data.frame'+'s'){const _0x49bbad={};for(const _0x372cb8 in _0x3fb4b2['frames'])_0x3994ea=_0x3fb4b2['frames'][_0x372cb8],_0x49bbad[_0x372cb8]={'rect':new re(_0x3994ea['rect']),'pivot':new J(_0x3994ea['pivot']),'border':new re(_0x3994ea['border'])};_0x1b4853['resource']['frames']=_0x49bbad;}else{const _0x1c8af1=_0x248d87['match'](Fk);if(_0x1c8af1){const _0x36d39b=_0x1c8af1[-0x11b*-0xb+0xe02*-0x1+0x2*0xed];_0x3fb4b2?(_0x1b4853['resource']['frames'][_0x36d39b]?(_0x3994ea=_0x1b4853['resource']['frames'][_0x36d39b],_0x3994ea['rect']['set'](_0x3fb4b2['rect'][-0x59*-0x49+0x2167+-0x3ac8],_0x3fb4b2['rect'][-0x202*-0x9+-0x2389+-0x1178*-0x1],_0x3fb4b2['rect'][-0x820+-0x3bd*-0x6+-0xe4c],_0x3fb4b2['rect'][-0x21d0*0x1+-0x8d0+0x2aa3]),_0x3994ea['pivot']['set'](_0x3fb4b2['pivot'][0x15*-0x1cf+0x18f9+0xd02],_0x3fb4b2['pivot'][-0x2*0x728+-0x57+-0x3aa*-0x4]),_0x3994ea['border']['set'](_0x3fb4b2['border'][-0x1c6a+-0x1aa9+0x265*0x17],_0x3fb4b2['border'][-0x23ab+0x1cdf+0x6cd],_0x3fb4b2['border'][-0x17*0x7a+-0x2*0x1326+0x3144],_0x3fb4b2['border'][-0x188e+0x1539+0x358])):_0x1b4853['resource']['frames'][_0x36d39b]={'rect':new re(_0x3fb4b2['rect']),'pivot':new J(_0x3fb4b2['pivot']),'border':new re(_0x3fb4b2['border'])},_0x1b4853['resource']['fire']('set:frame',_0x36d39b,_0x1b4853['resource']['frames'][_0x36d39b])):_0x1b4853['resource']['frames'][_0x36d39b]&&(delete _0x1b4853['resource']['frames'][_0x36d39b],_0x1b4853['resource']['fire']('remove:fra'+'me',_0x36d39b));}}}}function kk(){const _0x4734ae={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x54ce73={'astc':_0x4734ae['cTFASTC_4x'+'4'],'dxt':_0x4734ae['cTFBC1'],'etc1':_0x4734ae['cTFETC1'],'etc2':_0x4734ae['cTFETC1'],'pvr':_0x4734ae['cTFPVRTC1_'+'4_RGB'],'atc':_0x4734ae['cTFATC_RGB'],'none':_0x4734ae['cTFRGB565']},_0x536b98={'astc':_0x4734ae['cTFASTC_4x'+'4'],'dxt':_0x4734ae['cTFBC3'],'etc1':_0x4734ae['cTFRGBA444'+'4'],'etc2':_0x4734ae['cTFETC2'],'pvr':_0x4734ae['cTFPVRTC1_'+'4_RGBA'],'atc':_0x4734ae['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x4734ae['cTFRGBA444'+'4']},_0x5bfd9b={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x47a436=(_0x4f9bbc,_0x5de9cd)=>{switch(_0x4f9bbc){case _0x4734ae['cTFETC1']:return _0x5de9cd['formats']['etc2']?_0x5bfd9b['ETC2_RGB']:_0x5bfd9b['ETC1'];case _0x4734ae['cTFETC2']:return _0x5bfd9b['ETC2_RGBA'];case _0x4734ae['cTFBC1']:return _0x5bfd9b['DXT1'];case _0x4734ae['cTFBC3']:return _0x5bfd9b['DXT5'];case _0x4734ae['cTFPVRTC1_'+'4_RGB']:return _0x5bfd9b['PVRTC_4BPP'+'_RGB_1'];case _0x4734ae['cTFPVRTC1_'+'4_RGBA']:return _0x5bfd9b['PVRTC_4BPP'+'_RGBA_1'];case _0x4734ae['cTFASTC_4x'+'4']:return _0x5bfd9b['ASTC_4x4'];case _0x4734ae['cTFATC_RGB']:return _0x5bfd9b['ATC_RGB'];case _0x4734ae['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x5bfd9b['ATC_RGBA'];case _0x4734ae['cTFRGBA32']:return _0x5bfd9b['R8_G8_B8_A'+'8'];case _0x4734ae['cTFRGB565']:return _0x5bfd9b['R5_G6_B5'];case _0x4734ae['cTFRGBA444'+'4']:return _0x5bfd9b['R4_G4_B4_A'+'4'];}},_0x5d55f3=_0x30adbe=>{const _0x32f202=function(_0x4f92dd,_0x585431){const _0x4ece54=_0x4f92dd*(0x3fd+-0x52c*-0x7+-0x2831+0.00784313725490196)-(0xbc*-0xd+0x17db*0x1+-0xe4e*0x1),_0x3313e5=_0x585431*((0x1*0x18df+0x470*-0x7+0x633)/(-0x3*0x24c+0x10af+-0x8cc))-(0x2e7*-0x8+-0x14d5*0x1+0x1*0x2c0e),_0x5e380f=Math['sqrt'](-0x16aa+-0xe*-0x60+0xd*0x157-Math['min'](0x2348+0x3da+-0x1b*0x173,_0x4ece54*_0x4ece54+_0x3313e5*_0x3313e5));return Math['max'](0x22b7*0x1+-0x1*0x13d9+-0xad*0x16,Math['min'](0x2f*-0xa+-0x1799+0x18e*0x11,Math['floor']((_0x5e380f+(0x22e3+0x385*-0x4+-0x14ce))*(0x75e+0x2660+-0x2dbe+0.5)*(-0xafa+0x16*0x59+0x453))));};for(let _0x4abfd0=0x2055+0x1eb5+0x1*-0x3f0a;_0x4abfd0<_0x30adbe['length'];_0x4abfd0+=0x2*0xd2d+0x1155+-0x7*0x63d){const _0x568e62=_0x30adbe[_0x4abfd0+(-0x550*0x5+0x186c+0x1d*0x13)],_0x5ac73a=_0x30adbe[_0x4abfd0+(0x261c+0xec1+0x1a6e*-0x2)];_0x30adbe[_0x4abfd0+(-0x1fed+-0x181*0x1+0x216e)]=_0x568e62,_0x30adbe[_0x4abfd0+(-0xd51+0x1*-0x15b9+0x230c)]=_0x32f202(_0x568e62,_0x5ac73a),_0x30adbe[_0x4abfd0+(0x1*0x1a75+-0x1af*0x17+-0x1c1*-0x7)]=-0x13b+0xbb7+-0x97d;}return _0x30adbe;},_0xe650c7=_0x3e1ce8=>{const _0x81db40=new Uint16Array(_0x3e1ce8['length']/(0x3*0x54a+0x1*0x183b+0x1f*-0x14b));for(let _0x1474cf=0x1956+-0x1093*-0x1+-0x29e9;_0x1474cf<_0x3e1ce8['length'];_0x1474cf+=-0x1565+0x2649+-0x10e0){const _0x3d0d0e=_0x3e1ce8[_0x1474cf+(0x62*-0x2a+-0x16a6+0x26ba)],_0xdd5cd1=_0x3e1ce8[_0x1474cf+(-0x101+0x1*0x25d9+-0x1*0x24d7)],_0x195419=_0x3e1ce8[_0x1474cf+(0x90f*-0x3+-0x1d*-0x10f+-0x2*0x1c2)];_0x81db40[_0x1474cf/(-0x1dee+0xabd+0x1335)]=(_0x3d0d0e&-0x1c67+0x3e*0x2b+0x12f5)<<-0xb8b+0x649*0x3+0x1*-0x748|(_0xdd5cd1&0x1aa+-0x94a+-0x13*-0x74)<<0x255+0x1c51+-0x1ea3|_0x195419>>-0x6b*0x49+0x2b*-0x6b+0x307f;}return _0x81db40;},_0x55941e=(_0x38cb87,_0xbcf103)=>(_0x38cb87&_0x38cb87-(-0x1846+-0x3c1*-0x9+-0x982))===-0x3b+0x125*-0x2+0x285&&(_0xbcf103&_0xbcf103-(0x49f+-0x1bbd+0x171f))===-0x213d+0x1*-0x1720+0x385d,_0x233f8b=()=>typeof performance<'u'?performance['now']():0x159+0x3*-0xbcc+0x220b;let _0x4fcbf9,_0x5ae231,_0x2dd688;const _0x5734ec=(_0x45cca5,_0x77ba90,_0x4fd9b9)=>{if(_0x4fd9b9){if(_0x45cca5['formats']['astc'])return'astc';}else{if(_0x77ba90){if(_0x45cca5['formats']['etc2'])return'etc2';}else{if(_0x45cca5['formats']['etc2'])return'etc2';if(_0x45cca5['formats']['etc1'])return'etc1';}}return(_0x24b4ce=>{for(let _0x37e54b=-0x10a2+-0x68+0x110a*0x1;_0x37e54b<_0x24b4ce['length'];++_0x37e54b){const _0x25b5cb=_0x24b4ce[_0x37e54b];if(_0x45cca5['formats'][_0x25b5cb])return _0x25b5cb;}return'none';})(_0x77ba90?_0x2dd688:_0x5ae231);},_0x4f4c9d=(_0x9772a7,_0x4fcf91,_0x588b66)=>{switch(_0x588b66){case _0x4734ae['cTFETC1']:case _0x4734ae['cTFETC2']:return!(0x2355+0xd5+0xc0e*-0x3);case _0x4734ae['cTFBC1']:case _0x4734ae['cTFBC3']:return(_0x9772a7&-0x6*-0x542+0x8af*-0x1+-0x16da)===-0x8*-0x321+0x1931*0x1+-0x3dd*0xd&&(_0x4fcf91&-0x21c7+-0xbbd+0x2d87)===-0x1a0e+0x84*-0x4+0x1c1e;case _0x4734ae['cTFPVRTC1_'+'4_RGB']:case _0x4734ae['cTFPVRTC1_'+'4_RGBA']:return _0x55941e(_0x9772a7,_0x4fcf91);case _0x4734ae['cTFASTC_4x'+'4']:return!(-0x2*0xb2d+-0x2653+0x8ab*0x7);case _0x4734ae['cTFATC_RGB']:case _0x4734ae['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(0x6dd+-0x161a+0xf3d*0x1);}return!(-0x623*-0x2+0x9f2*-0x1+-0x253);},_0x2989ef=(_0x5d8c20,_0x5d4f4f,_0x468d47)=>{if(!_0x4fcbf9['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x140596=_0x233f8b(),_0x3a169b=new _0x4fcbf9['KTX2File'](new Uint8Array(_0x5d4f4f)),_0x4fe1e7=_0x3a169b['getWidth'](),_0x48911f=_0x3a169b['getHeight'](),_0x284edd=_0x3a169b['getLevels'](),_0x3fccef=!!_0x3a169b['getHasAlph'+'a'](),_0x458f99=_0x3a169b['isUASTC']&&_0x3a169b['isUASTC']();if(!_0x4fe1e7||!_0x48911f||!_0x284edd)throw _0x3a169b['close'](),_0x3a169b['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x5d8c20+'\x20width='+_0x4fe1e7+'\x20height='+_0x48911f+'\x20levels='+_0x284edd);const _0x597d78=_0x5734ec(_0x468d47['deviceDeta'+'ils'],_0x3fccef,_0x458f99),_0x4515bc=!!_0x468d47['isGGGR']&&_0x597d78==='pvr';let _0x446bb0;if(_0x4515bc?_0x446bb0=_0x4734ae['cTFRGBA32']:(_0x446bb0=_0x3fccef?_0x536b98[_0x597d78]:_0x54ce73[_0x597d78],_0x4f4c9d(_0x4fe1e7,_0x48911f,_0x446bb0)||(_0x446bb0=_0x3fccef?_0x4734ae['cTFRGBA32']:_0x4734ae['cTFRGB565'])),!_0x3a169b['startTrans'+'coding']())throw _0x3a169b['close'](),_0x3a169b['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x5d8c20);let _0x25156a;const _0x27d511=[];for(let _0x13bd43=-0x26ae+-0x387+0x2a35;_0x13bd43<_0x284edd;++_0x13bd43){const _0x5428b0=_0x3a169b['getImageTr'+'anscodedSi'+'zeInBytes'](_0x13bd43,0x1dbd+0x8ec+-0xce3*0x3,0x29*0x49+0x1e89+-0x2a3a,_0x446bb0),_0x15401b=new Uint8Array(_0x5428b0);if(!_0x3a169b['transcodeI'+'mage'](_0x15401b,_0x13bd43,-0x1a*-0x146+-0xee0*0x1+0x614*-0x3,-0x21d8*0x1+0x23bd+-0x1e5,_0x446bb0,-0x2b1+-0x3bf*0xa+0x2827,-(-0x1*0x1f42+0x1116+-0xbf*-0x13),-(0x18ef+-0x3fd*-0x7+-0x34d9)))throw _0x3a169b['close'](),_0x3a169b['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x5d8c20);const _0x5e70f8=_0x446bb0===_0x4734ae['cTFRGB565']||_0x446bb0===_0x4734ae['cTFRGBA444'+'4'];_0x27d511['push'](_0x5e70f8?new Uint16Array(_0x15401b['buffer']):_0x15401b);}if(_0x3a169b['close'](),_0x3a169b['delete'](),_0x4515bc){for(_0x446bb0=_0x4734ae['cTFRGB565'],_0x25156a=0x1ea4+0x2*-0x892+-0xd80;_0x25156a<_0x27d511['length'];++_0x25156a)_0x27d511[_0x25156a]=_0xe650c7(_0x5d55f3(_0x27d511[_0x25156a]));}return{'format':_0x47a436(_0x446bb0,_0x468d47['deviceDeta'+'ils']),'width':_0x4fe1e7,'height':_0x48911f,'levels':_0x27d511,'cubemap':!(-0x1a08+0x42b+0x15de),'transcodeTime':_0x233f8b()-_0x140596,'url':_0x5d8c20,'unswizzledGGGR':_0x4515bc};},_0x5348ba=(_0x24e852,_0x3c8953,_0x2023bc)=>{const _0x5d385c=_0x233f8b(),_0x11ad6a=new _0x4fcbf9['BasisFile'](new Uint8Array(_0x3c8953)),_0x3f8f6e=_0x11ad6a['getImageWi'+'dth'](0x58d*0x7+-0x5*-0x282+0xdf*-0x3b,-0x1*-0x1a6b+0xe7f+0x1475*-0x2),_0x134199=_0x11ad6a['getImageHe'+'ight'](0x117e+0xefd+0x5*-0x67f,-0x15d0+0x1*-0x1897+0x2e67),_0x25d70c=_0x11ad6a['getNumImag'+'es'](),_0x100a37=_0x11ad6a['getNumLeve'+'ls'](-0x1889+-0x2*-0x931+0x627),_0x231d1b=!!_0x11ad6a['getHasAlph'+'a'](),_0x2b8d05=_0x11ad6a['isUASTC']&&_0x11ad6a['isUASTC']();if(!_0x3f8f6e||!_0x134199||!_0x25d70c||!_0x100a37)throw _0x11ad6a['close'](),_0x11ad6a['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x24e852+'\x20width='+_0x3f8f6e+'\x20height='+_0x134199+'\x20images='+_0x25d70c+'\x20levels='+_0x100a37);const _0x54daf4=_0x5734ec(_0x2023bc['deviceDeta'+'ils'],_0x231d1b,_0x2b8d05),_0x248a67=!!_0x2023bc['isGGGR']&&_0x54daf4==='pvr';let _0x537369;if(_0x248a67?_0x537369=_0x4734ae['cTFRGBA32']:(_0x537369=_0x231d1b?_0x536b98[_0x54daf4]:_0x54ce73[_0x54daf4],_0x4f4c9d(_0x3f8f6e,_0x134199,_0x537369)||(_0x537369=_0x231d1b?_0x4734ae['cTFRGBA32']:_0x4734ae['cTFRGB565'])),!_0x11ad6a['startTrans'+'coding']())throw _0x11ad6a['close'](),_0x11ad6a['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x24e852);let _0x5a3e8a;const _0x5c0dca=[];for(let _0x2ae345=0xab7+0x2e4*-0xd+0x17*0x12b;_0x2ae345<_0x100a37;++_0x2ae345){const _0x2555fc=_0x11ad6a['getImageTr'+'anscodedSi'+'zeInBytes'](-0x1*0x1791+0xe*0x179+0x2f3,_0x2ae345,_0x537369),_0x4e3e71=new Uint8Array(_0x2555fc);if(!_0x11ad6a['transcodeI'+'mage'](_0x4e3e71,-0x23b3+0x3ec*0x7+0x83f,_0x2ae345,_0x537369,0x22f7+-0x1*0x25be+0x2c7,0x2f*-0x30+0x5*0x3f3+-0xaef)){if(_0x2ae345===_0x100a37-(-0x1f7e+-0x136f+0x29*0x13e)&&_0x2555fc===_0x5c0dca[_0x2ae345-(0x1ea1+-0x2636+0x3cb*0x2)]['buffer']['byteLength'])_0x4e3e71['set'](new Uint8Array(_0x5c0dca[_0x2ae345-(-0x5*0x7ad+0x4c7*-0x5+0x3e45)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x24e852);else throw _0x11ad6a['close'](),_0x11ad6a['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x24e852);}const _0x58e402=_0x537369===_0x4734ae['cTFRGB565']||_0x537369===_0x4734ae['cTFRGBA444'+'4'];_0x5c0dca['push'](_0x58e402?new Uint16Array(_0x4e3e71['buffer']):_0x4e3e71);}if(_0x11ad6a['close'](),_0x11ad6a['delete'](),_0x248a67){for(_0x537369=_0x4734ae['cTFRGB565'],_0x5a3e8a=0x22f9+0x1*0x1b79+-0x3e72;_0x5a3e8a<_0x5c0dca['length'];++_0x5a3e8a)_0x5c0dca[_0x5a3e8a]=_0xe650c7(_0x5d55f3(_0x5c0dca[_0x5a3e8a]));}return{'format':_0x47a436(_0x537369,_0x2023bc['deviceDeta'+'ils']),'width':_0x3f8f6e,'height':_0x134199,'levels':_0x5c0dca,'cubemap':!(-0x2488*0x1+0x279*0x7+0x133a),'transcodeTime':_0x233f8b()-_0x5d385c,'url':_0x24e852,'unswizzledGGGR':_0x248a67};},_0x33bdc4=(_0x450cff,_0x1e8715,_0x5f4d1b)=>_0x5f4d1b['isKTX2']?_0x2989ef(_0x450cff,_0x1e8715,_0x5f4d1b):_0x5348ba(_0x450cff,_0x1e8715,_0x5f4d1b),_0x794eb8=(_0x145da6,_0x52a7e7,_0x92f465)=>{try{const _0x9bb3b3=_0x33bdc4(_0x145da6,_0x52a7e7,_0x92f465);_0x9bb3b3['levels']=_0x9bb3b3['levels']['map'](_0x4634be=>_0x4634be['buffer']),self['postMessag'+'e']({'url':_0x145da6,'data':_0x9bb3b3},_0x9bb3b3['levels']);}catch(_0x23180e){self['postMessag'+'e']({'url':_0x145da6,'err':_0x23180e},null);}},_0x8048ed=(_0x11f14d,_0x27bef8)=>{const _0x149eb0=(_0x43ef62,_0x2dcace)=>(WebAssembly['instantiat'+'e'](_0x11f14d['module'],_0x43ef62)['then'](_0x5b24d4=>{_0x2dcace(_0x5b24d4);})['catch'](_0x39f3ae=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x39f3ae);}),{});self['BASIS'](_0x11f14d['module']?{'instantiateWasm':_0x149eb0}:null)['then'](_0x875779=>{_0x875779['initialize'+'Basis'](),_0x4fcbf9=_0x875779,_0x5ae231=_0x11f14d['rgbPriorit'+'y'],_0x2dd688=_0x11f14d['rgbaPriori'+'ty'],_0x27bef8(null);});},_0x3fb085=[];self['onmessage']=_0x3050f7=>{const _0x643b5b=_0x3050f7['data'];switch(_0x643b5b['type']){case'init':_0x8048ed(_0x643b5b['config'],()=>{for(let _0x45d46f=0x1626+-0x12af+-0x1*0x377;_0x45d46f<_0x3fb085['length'];++_0x45d46f)_0x794eb8(_0x3fb085[_0x45d46f]['url'],_0x3fb085[_0x45d46f]['data'],_0x3fb085[_0x45d46f]['options']);_0x3fb085['length']=-0x130c*-0x2+-0x704+-0x1f14;});break;case'transcode':_0x4fcbf9?_0x794eb8(_0x643b5b['url'],_0x643b5b['data'],_0x643b5b['options']):_0x3fb085['push'](_0x643b5b);break;}};}const Uk=_0x365046=>({'astc':!!_0x365046['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x365046['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x365046['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x365046['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x365046['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x365046['extCompres'+'sedTexture'+'PVRTC']}),Bk=(_0x1725f2,_0x396cf1)=>{const _0x1b14dd=_0x2ff606=>{const _0x407c8b=['/*\x20basis\x20*'+'/',_0x2ff606,'','('+kk['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x407c8b],{'type':'applicatio'+'n/javascri'+'pt'});},_0x368d41=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x266864=new WebAssembly['Module'](Uint8Array['of'](0x99a*-0x3+-0xa89+-0x45f*-0x9,0x7*0x19d+-0x2*-0x12aa+0x9a6*-0x5,-0x1cf4+-0x70f*0x3+0x3294,-0x14f6+-0x1d0+0x1*0x1733,-0x1183*0x1+-0x165+0x12e9,-0x1*-0x1309+0x142c+0x1*-0x2735,-0x527*-0x2+0x16f6+-0x2144,0x50*0x1a+-0x23ca+0x1baa));if(_0x266864 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x266864)instanceof WebAssembly['Instance'];}}catch{}return!(-0x21c3+-0x1*-0x23c7+-0x203);},_0x216922=(_0x23ca93,_0x2eae30)=>{_0x396cf1(null,{'workerUrl':URL['createObje'+'ctURL'](_0x1b14dd(_0x23ca93)),'module':_0x2eae30,'rgbPriority':_0x1725f2['rgbPriorit'+'y'],'rgbaPriority':_0x1725f2['rgbaPriori'+'ty']});},_0x2ba7c1={'cache':!(0x588+-0x154f+0xfc7),'responseType':'text','retry':_0x1725f2['maxRetries']>0x176c+0x10ce+-0x283a,'maxRetries':_0x1725f2['maxRetries']};if(_0x1725f2['glueUrl']&&_0x1725f2['wasmUrl']&&_0x368d41()){let _0x9172c=null,_0x549756=null;ot['get'](_0x1725f2['glueUrl'],_0x2ba7c1,(_0x49452d,_0x1d7b84)=>{_0x49452d?_0x396cf1(_0x49452d):_0x549756?_0x216922(_0x1d7b84,_0x549756):_0x9172c=_0x1d7b84;});const _0x47f80f=fetch(_0x1725f2['wasmUrl']),_0x105634=()=>{_0x47f80f['then'](_0x5210c2=>_0x5210c2['arrayBuffe'+'r']())['then'](_0x140402=>WebAssembly['compile'](_0x140402))['then'](_0x313401=>{_0x9172c?_0x216922(_0x9172c,_0x313401):_0x549756=_0x313401;})['catch'](_0x2bb464=>{_0x396cf1(_0x2bb464,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x47f80f)['then'](_0x3a928e=>{_0x9172c?_0x216922(_0x9172c,_0x3a928e):_0x549756=_0x3a928e;})['catch'](_0x1697d6=>{w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x1725f2['wasmUrl']+'\x20('+_0x1697d6+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x105634();}):_0x105634();}else ot['get'](_0x1725f2['fallbackUr'+'l'],_0x2ba7c1,(_0x3e0869,_0x5637f9)=>{_0x3e0869?_0x396cf1(_0x3e0869,null):_0x216922(_0x5637f9,null);});};class zk{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x7347b8,_0x5d9acb,_0x991973,_0x44c45c){if(this['callbacks']['hasOwnProp'+'erty'](_0x7347b8))this['callbacks'][_0x7347b8]['push'](_0x991973);else{this['callbacks'][_0x7347b8]=[_0x991973];const _0x70b01a={'url':_0x7347b8,'data':_0x5d9acb,'options':_0x44c45c};this['clients']['length']>-0x1*0x643+0x1e8+0x45b?this['clients']['shift']()['run'](_0x70b01a):this['queue']['push'](_0x70b01a);}}['enqueueCli'+'ent'](_0x469c05){this['queue']['length']>-0x2*-0xafd+0x1a6e*-0x1+0x474?_0x469c05['run'](this['queue']['shift']()):this['clients']['push'](_0x469c05);}['handleResp'+'onse'](_0x2b3a27,_0x2b1a35,_0x2f666c){const _0x569de9=this['callbacks'][_0x2b3a27];if(_0x2b1a35){for(let _0x5ddff7=0x3*0x6b1+-0x1fa8+-0x5*-0x251;_0x5ddff7<_0x569de9['length'];++_0x5ddff7)_0x569de9[_0x5ddff7](_0x2b1a35);}else{_0x2f666c['format']===Jh||_0x2f666c['format']===ed?_0x2f666c['levels']=_0x2f666c['levels']['map'](_0xcafa72=>new Uint16Array(_0xcafa72)):_0x2f666c['levels']=_0x2f666c['levels']['map'](_0x259909=>new Uint8Array(_0x259909));for(let _0xb1b07d=0x1d*-0x137+0x1c91*-0x1+0x3fcc;_0xb1b07d<_0x569de9['length'];++_0xb1b07d)_0x569de9[_0xb1b07d](null,_0x2f666c);}delete this['callbacks'][_0x2b3a27];}}class Vk{constructor(_0xfbef48,_0x329a04,_0x401b1e){this['queue']=_0xfbef48,this['worker']=new Worker(_0x329a04['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x53e062=>{const _0x513f64=_0x53e062['data'];this['queue']['handleResp'+'onse'](_0x513f64['url'],_0x513f64['err'],_0x513f64['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x329a04}),this['eager']=_0x401b1e;}['run'](_0xb049d6){const _0x354724=[];_0xb049d6['data']instanceof ArrayBuffer&&_0x354724['push'](_0xb049d6['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0xb049d6['url'],'format':_0xb049d6['format'],'data':_0xb049d6['data'],'options':_0xb049d6['options']},_0x354724),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const Gk=0x402+0x1d4d+-0x214e,Hk=['etc2','etc1','astc','dxt','pvr','atc'],Wk=['astc','dxt','etc2','pvr','atc'],$k=-0xf5a+0x2*0x878+0x1*-0x191,Xu=new zk();let xS=null,qu=!(-0x1*-0x1cf3+-0xdaa+-0xf48);function Xk(_0x2f6cd5){if(!qu){if(!_0x2f6cd5)_0x2f6cd5=xS||{};else{if(_0x2f6cd5['lazyInit']){xS=_0x2f6cd5;return;}}if(!_0x2f6cd5['glueUrl']||!_0x2f6cd5['wasmUrl']||!_0x2f6cd5['fallbackUr'+'l']){const _0x241638=YS['getConfig']('BASIS');_0x241638&&(_0x2f6cd5={'glueUrl':_0x241638['glueUrl'],'wasmUrl':_0x241638['wasmUrl'],'fallbackUrl':_0x241638['fallbackUr'+'l'],'numWorkers':_0x241638['numWorkers']});}if(_0x2f6cd5['glueUrl']||_0x2f6cd5['wasmUrl']||_0x2f6cd5['fallbackUr'+'l']){qu=!(0xba3+0x2674+-0x3217);const _0x1b46a1=Math['max'](0xb5*-0x2+0x24ce+-0x2363,Math['min'](-0xd*0x21a+0x180f+-0x25*-0x17,_0x2f6cd5['numWorkers']||Gk)),_0x3b29a6=_0x2f6cd5['numWorkers']===0xd39+-0x4d*0x77+0x1*0x1693||(_0x2f6cd5['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x2f6cd5['eagerWorke'+'rs']:!(0x197*0xb+0x39*0x5f+-0x26a4));_0x2f6cd5['rgbPriorit'+'y']=_0x2f6cd5['rgbPriorit'+'y']||Hk,_0x2f6cd5['rgbaPriori'+'ty']=_0x2f6cd5['rgbaPriori'+'ty']||Wk,_0x2f6cd5['maxRetries']=_0x2f6cd5['hasOwnProp'+'erty']('maxRetries')?_0x2f6cd5['maxRetries']:$k,Bk(_0x2f6cd5,(_0x29be76,_0x25db70)=>{if(_0x29be76)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x29be76);else{for(let _0x31f836=-0x2cc*-0xb+0x1*-0x2294+0x3d0;_0x31f836<_0x1b46a1;++_0x31f836)Xu['enqueueCli'+'ent'](new Vk(Xu,_0x25db70,_0x3b29a6));}});}}}let Df=null;function b0(_0x4f49ea,_0x4c2bda,_0x1035b3,_0x5ae33c,_0x4c05bf){return Xk(),Df||(Df={'formats':Uk(_0x4f49ea)}),Xu['enqueueJob'](_0x4c2bda,_0x1035b3,_0x5ae33c,{'deviceDetails':Df,'isGGGR':!!(_0x4c05bf!=null&&_0x4c05bf['isGGGR']),'isKTX2':!!(_0x4c05bf!=null&&_0x4c05bf['isKTX2'])}),qu;}class eo{['load'](_0x4852f2,_0x1a92d9,_0x305ddd){throw new Error('not\x20implem'+'ented');}['open'](_0x373757,_0x1c0f60,_0xeef75a){throw new Error('not\x20implem'+'ented');}}class qk extends eo{constructor(_0x3cca11,_0x3dfa13){super(),this['device']=_0x3dfa13,this['maxRetries']=-0x11ca+-0x1570+0x273a;}['load'](_0xb2214b,_0x1df87f,_0x4bba7c){const _0x5b6ad1=this['device'],_0x2b119a=_0x15e6cf=>{var _0x253ddc,_0x26c2b1,_0x33fffc;b0(_0x5b6ad1,_0xb2214b['load'],_0x15e6cf,_0x1df87f,{'isGGGR':(((_0x33fffc=(_0x26c2b1=(_0x253ddc=_0x4bba7c==null?void(0xa6*-0x1f+0x1*-0x202b+0x3445):_0x4bba7c['file'])==null?void(-0xe41*0x1+0x946+0x4fb):_0x253ddc['variants'])==null?void(0xf61+-0x1b8e+0xc2d*0x1):_0x26c2b1['basis'])==null?void(0x22*-0x19+0x1dc9+-0x1a77*0x1):_0x33fffc['opt'])&-0x1700+0x1*0x1e71+-0x1*0x769)!==0x46b+0x6*0x3c6+-0x1b0f})||_0x1df87f('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x4bba7c['name']+']('+_0x4bba7c['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};pe['fetchArray'+'Buffer'](_0xb2214b['load'],(_0x1f4b10,_0x4b54be)=>{_0x1f4b10?_0x1df87f(_0x1f4b10):_0x2b119a(_0x4b54be);},_0x4bba7c,this['maxRetries']);}['open'](_0x1ada6a,_0x82c07e,_0x86f77a,_0x4697f8={}){const _0xcdd505=_0x4697f8['srgb']?ld(_0x82c07e['format']):_0x82c07e['format'],_0x3f84bd=new _e(_0x86f77a,{'name':_0x1ada6a,'profilerHint':Pr,'addressU':_0x82c07e['cubemap']?ue:yt,'addressV':_0x82c07e['cubemap']?ue:yt,'width':_0x82c07e['width'],'height':_0x82c07e['height'],'format':_0xcdd505,'cubemap':_0x82c07e['cubemap'],'levels':_0x82c07e['levels'],..._0x4697f8});return _0x3f84bd['upload'](),_0x3f84bd;}}const A0=new Uint8Array([-0x139c+-0x384+-0x3*-0x7e3,0x131a+-0x26e0+-0xa0b*-0x2,-0xd*-0x2ef+0x19*-0x10f+-0xb5e,0x1d*0xd6+-0x1*-0x2045+-0x1c1e*0x2,-0x83b*-0x4+0x790+-0x286f,-0x1*-0x27a+-0x466+0x1f6,0xc81+0x11b9+-0x8*0x3c4,-0x1a03+0x14ad+0x560,-0x2207+0x509+0x4d5*0x6,-0x2501+-0x25d*0x1+0x275e,-0x251*0x3+-0x25f2+-0xef7*-0x3,-0x1*-0xa48+0xbd*0xc+-0x1317*0x1,0x17b6+0x11c7+-0x9*0x494,0x135*0x3+-0x505+0x1ae,-0x556*0x3+0x15*0x18a+-0x9e*0x1a,-0x224c+-0x432*0x9+0x4860,-0x9*-0xc6+-0x168f+0xf99,-0x39*-0x8+0x1f00+0x832*-0x4,-0x67a+0x4c7+0x1b3,0x207f+0x1*-0x143b+-0xc43,0x1*-0x1b69+0x565*-0x4+-0x1*-0x30fd,-0x3*-0x10f+0xf78+-0x12a5,0x23e7+-0x1*0x233+-0x21b4,-0xed*-0x25+0x8ed*0x1+-0x2b2d,0x1f43+0xfe3+0x1*-0x2f1e,0xc*0xb9+-0x6c*0xa+-0x15*0x36,-0x1d90+-0x1710+0x34a0,0x5*-0x4ef+0x1a3e+0x1f*-0xd,0x120+0x8d1*-0x1+0xb*0xb3,-0x2*0xa7+0xb35+0x2*-0x4e4,0x1141+0x1b8f+-0x2cbb,0x2085+-0x1ca*-0x10+-0x215*0x1d,-0x1*0xefd+-0x2688+-0x32e*-0x11,-0x1*-0x169+-0xa*-0x2b9+-0x1*0x1ca3,0x1*0x259d+0x28e*0x2+-0x2ab9,-0xb5d*0x2+0xd3e+0x97c,-0x11*0x125+-0x3eb+0x176d,0x97f+0xbb5+-0x14eb,-0x1953+-0x1*0x2009+-0x2*-0x1cd0,0x1347+-0x4f*0x23+-0x839,-0x3*0x692+0xa4*0x1b+-0x6*-0x75,0x1*0xbe3+-0x635*0x5+0x139e,0xf11*-0x2+0x1*0xe83+0x1079,-0x16be+-0x16ca+-0x2deb*-0x1,-0x2019+-0x1*-0x22d5+-0x258,0x38d*-0xb+0xf*0x17+0x261a,0x65*0x43+0x135*0x1+-0xda1*0x2,-0x4f7*-0x5+0x2430+-0x3c4d,-0x1c8f+0x4a2+0x17f4,-0x7a9+0x1*-0x14c2+-0x61*-0x4b,0x46e+0x24ac+-0x291a,0xfd5+0x4*-0x982+0x168c,0x10ca+-0x37e+-0xd4c,-0x212a+-0x2699+0x2405*0x2,-0x6d8+0x157a*-0x1+0x1c95,-0x42*0xd+-0xf78+0x1357,0x5fc*-0x2+-0x11a1*-0x1+-0x1*0x515,-0x262c+-0x1e64*-0x1+0x8b5,0x1*-0x3c2+0x1f*-0x134+0x290e,-0x971*-0x2+-0x1*0x1f49+0xc67,-0xcf7*-0x2+0x1d94+-0x3782,0x1197+0x213e+-0x32d5,0x21d2+0xe4c+0x991*-0x5,0x1a7a+0x1347+-0x2d7c,0x14c6+-0x6b9+-0xdbf,0x13*-0x78+-0x1e8d+0x27b9,-0x2fe*0x8+-0x1*-0x1f46+-0x6a8,0x30f+-0xbb6+0x8e9,-0x2*-0xe57+-0x17*-0x6d+-0x2619,-0x1b6+-0x348+-0xb0*-0x8]),C0=(_0x103f22,_0x59295a)=>{const _0x2d49a5=new _e(_0x103f22,{'width':0x1,'height':0x1,'format':Ne,'mipmaps':!(0xca6+0x6a*-0x19+-0x24b),'levels':[_0x59295a]}),_0x206158=new gt({'colorBuffer':_0x2d49a5,'depth':!(0x4bd+-0x1e98+0x19dc)});_0x103f22['setFramebu'+'ffer'](_0x206158['impl']['_glFrameBu'+'ffer']),_0x103f22['initRender'+'Target'](_0x206158);const _0x582c67=new Uint8ClampedArray(-0x171+0x84b+-0x6d6);return _0x103f22['gl']['readPixels'](-0x2265+0x377*0x4+0x1489,-0xd*-0x2e9+-0x1179*-0x2+-0x48c7*0x1,0x16f+0x1f2*-0xb+-0x6a8*-0x3,0x19a9*0x1+0x115*0x1e+0xad*-0x56,_0x103f22['gl']['RGBA'],_0x103f22['gl']['UNSIGNED_B'+'YTE'],_0x582c67),_0x206158['destroy'](),_0x2d49a5['destroy'](),_0x582c67[0x4e4*0x6+0x5*-0x10d+-0x1*0x1817]===-0x17f4+0x1df4+-0x5ff&&_0x582c67[-0x1*-0xb77+0xba2+-0x1718*0x1]===-0x5+-0x1*-0xeda+-0xed3&&_0x582c67[0x26c3+-0xf2a+-0x1797]===-0x154d+0x1*-0x1b2f+-0x3bb*-0xd&&_0x582c67[-0x2*0x50e+-0x2*-0x10f3+-0x17c7]===-0x29d+-0x16f1+0x19cd;},jk=_0x38cd04=>createImageBitmap(new Blob([A0],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x5fd455=>C0(_0x38cd04,_0x5fd455))['catch'](_0x1eef16=>!(0x1043*0x1+0xc54+-0x1*0x1c96)),Yk=_0x2872f9=>new Promise((_0x354d68,_0xb1e3ad)=>{const _0x361f67=new Image();_0x361f67['src']=URL['createObje'+'ctURL'](new Blob([A0])),_0x361f67['onload']=()=>{_0x354d68(C0(_0x2872f9,_0x361f67));};});class Kk{static['run'](_0x4f8bfd){jk(_0x4f8bfd)['then'](_0x56a8d8=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x56a8d8);}),Yk(_0x4f8bfd)['then'](_0x4ad038=>{console['log']('imgElement'+'IsCorrect='+_0x4ad038);});}}class Zk extends eo{constructor(_0x35087d,_0x17a1a3){super(),this['crossOrigi'+'n']=_0x35087d['prefix']?'anonymous':null,this['maxRetries']=-0x263b+-0x25d4+0x4c0f,this['device']=_0x17a1a3,mi['get']('IMG_ALPHA_'+'TEST')&&Kk['run'](this['device']);}['load'](_0x12d72b,_0x219675,_0x4528b3){var _0x3eae69;const _0x233717=!!((_0x3eae69=_0x4528b3==null?void(0x12*0x1be+-0x214d+0x1f1):_0x4528b3['file'])!=null&&_0x3eae69['contents']);if(_0x233717){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x4528b3['file']['contents']]),_0x219675);return;}_0x12d72b={'load':URL['createObje'+'ctURL'](new Blob([_0x4528b3['file']['contents']])),'original':_0x12d72b['original']};}const _0x43fc80=(_0x5ce19b,_0x52dda5)=>{_0x233717&&URL['revokeObje'+'ctURL'](_0x12d72b['load']),_0x219675(_0x5ce19b,_0x52dda5);};let _0x33dede;_0x4528b3&&_0x4528b3['options']&&_0x4528b3['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x33dede=_0x4528b3['options']['crossOrigi'+'n']:jn['test'](_0x12d72b['load'])&&(_0x33dede=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x12d72b['load'],_0x12d72b['original'],_0x33dede,_0x43fc80,_0x4528b3):this['_loadImage'](_0x12d72b['load'],_0x12d72b['original'],_0x33dede,_0x43fc80);}['open'](_0x17f45f,_0x1d5ea7,_0x2869ef,_0x2c01e1={}){const _0x2637b9=new _e(_0x2869ef,{'name':_0x17f45f,'profilerHint':Pr,'width':_0x1d5ea7['width'],'height':_0x1d5ea7['height'],'format':_0x2c01e1['srgb']?_s:Ne,..._0x2c01e1});return _0x2637b9['setSource'](_0x1d5ea7),_0x2637b9;}['_loadImage'](_0x1e2b05,_0x14faa8,_0x33fa37,_0x96b74b){const _0x4070a5=new Image();_0x33fa37&&(_0x4070a5['crossOrigi'+'n']=_0x33fa37);let _0x495645=-0x2438+-0xdc*-0xa+0x1ba0;const _0x427ca6=this['maxRetries'];let _0x552ed8;_0x4070a5['onload']=function(){_0x96b74b(null,_0x4070a5);},_0x4070a5['onerror']=function(){if(!_0x552ed8){if(_0x427ca6>0x1e0d+-0x1273+-0xb9a&&++_0x495645<=_0x427ca6){const _0x58e7b7=Math['pow'](-0x1d08*-0x1+-0x3ce+-0x1938,_0x495645)*(-0x1024+0x20c2+-0x103a);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x14faa8+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x58e7b7+'ms...');const _0x12973b=_0x1e2b05['indexOf']('?')>=-0x10*-0x167+-0x766+0x46*-0x37?'&':'?';_0x552ed8=setTimeout(()=>{_0x4070a5['src']=_0x1e2b05+_0x12973b+'retry='+Date['now'](),_0x552ed8=null;},_0x58e7b7);}else _0x96b74b('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x14faa8+'\x27');}},_0x4070a5['src']=_0x1e2b05;}['_loadImage'+'Bitmap'](_0x1e0027,_0x340a7a,_0x3175c9,_0x2622da,_0x317c4d){const _0xcd5331={'cache':!(-0x13d7+-0x241e+-0x37f5*-0x1),'responseType':'blob','retry':this['maxRetries']>0x7*-0x4af+0x7*-0x71+0x23e*0x10,'maxRetries':this['maxRetries'],'progress':_0x317c4d};ot['get'](_0x1e0027,_0xcd5331,(_0x1faef8,_0x785abd)=>{_0x1faef8?_0x2622da(_0x1faef8):this['_loadImage'+'BitmapFrom'+'Blob'](_0x785abd,_0x2622da);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x12beeb,_0x2c0a02){createImageBitmap(_0x12beeb,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x12e8ee=>_0x2c0a02(null,_0x12e8ee))['catch'](_0x5cf7b4=>_0x2c0a02(_0x5cf7b4));}}const If=[0x325ea*-0x2429+-0x614d116*-0x7+0x155*0x77d05f,0x44f427d1+-0xa374e28+0x80745777,-0x1583*-0xacab+0x5*0x215dc4c+-0xed5a5f0],Qk={0x83f0:td,0x83f2:op,0x83f3:vl,0x8d64:id,0x9274:cp,0x9278:hp,0x8c00:rd,0x8c01:xl,0x8c02:ad,0x8c03:Tl,0x8051:Cr,0x8058:Ne,0x8c41:lp,0x8c43:_s,0x8c3a:In,0x881b:ui,0x881a:nt};function Jk(_0xbc3bcd,_0x59afff,_0x4ac10b,_0x2a6296){return _0xbc3bcd===In?new Uint32Array(_0x59afff,_0x4ac10b,_0x2a6296/(0x3d*-0x92+-0x1e16+-0x4*-0x1039)):new Uint8Array(_0x59afff,_0x4ac10b,_0x2a6296);}class eU extends eo{constructor(_0x58b23f){super(),this['maxRetries']=-0x1*0x21e5+0x64a+0x1b9b;}['load'](_0x2571a9,_0x998c90,_0x4d4b5a){pe['fetchArray'+'Buffer'](_0x2571a9['load'],_0x998c90,_0x4d4b5a,this['maxRetries']);}['open'](_0x71b3f5,_0x10af87,_0x595aa7,_0x2e2950={}){const _0x5af3da=this['parse'](_0x10af87);if(!_0x5af3da)return null;const _0x15fce1=_0x2e2950['srgb']?ld(_0x5af3da['format']):_0x5af3da['format'],_0x190287=new _e(_0x595aa7,{'name':_0x71b3f5,'profilerHint':Pr,'addressU':_0x5af3da['cubemap']?ue:yt,'addressV':_0x5af3da['cubemap']?ue:yt,'width':_0x5af3da['width'],'height':_0x5af3da['height'],'format':_0x15fce1,'cubemap':_0x5af3da['cubemap'],'levels':_0x5af3da['levels'],..._0x2e2950});return _0x190287['upload'](),_0x190287;}['parse'](_0x3d4bf4){const _0x1550ea=new Uint32Array(_0x3d4bf4);if(If[-0x15f5+-0x203*0x6+0x1*0x2207]!==_0x1550ea[0xe8f*0x2+0xe3*0x14+-0x2*0x176d]||If[-0x1*-0x18b5+0x1420+-0x2cd4]!==_0x1550ea[-0x472+0x431*-0x2+-0x1*-0xcd5]||If[-0x220*-0xe+-0x1*0x2165+-0x11*-0x37]!==_0x1550ea[-0x17e2+-0x174d+0x1*0x2f31])return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x20c56f={'endianness':_0x1550ea[0x2143+-0x1*0x51a+0x6*-0x4b1],'glType':_0x1550ea[0x6*0x595+0x24e*-0x3+-0x55*0x50],'glTypeSize':_0x1550ea[0xe48+0x2546+-0x3389],'glFormat':_0x1550ea[0x18a3+-0x6b1+-0x4a*0x3e],'glInternalFormat':_0x1550ea[0xa21+0x1*-0x121e+-0xe4*-0x9],'glBaseInternalFormat':_0x1550ea[0xcc5*0x1+0x3*-0xa30+-0x15f*-0xd],'pixelWidth':_0x1550ea[0x3d8+0x16a*0xe+0x1*-0x179b],'pixelHeight':_0x1550ea[0x7*-0x4c3+0x1ac7+0x698],'pixelDepth':_0x1550ea[0xb*0x9c+0xf57+0x20*-0xb0],'numberOfArrayElements':_0x1550ea[0x174b+0x1f05+-0x3644],'numberOfFaces':_0x1550ea[0x1195+-0xdfa+-0x38e],'numberOfMipmapLevels':_0x1550ea[-0x97*-0x6+0x23b1*0x1+-0xd0f*0x3],'bytesOfKeyValueData':_0x1550ea[0xd41*-0x1+0x1355+0x43*-0x17]};if(_0x20c56f['pixelDepth']>-0x1d10+-0x139c+0x30ad*0x1)return w['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x20c56f['numberOfAr'+'rayElement'+'s']!==0xbeb+0x2319+-0x2f04)return w['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x112b15=Qk[_0x20c56f['glInternal'+'Format']];if(_0x112b15===void(-0x17cb*0x1+0x1d97+-0x35*0x1c))return w['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x20c56f['glInternal'+'Format']),null;let _0x5a30ce=-0x1d8d+0x1*-0x14ba+-0x3257*-0x1+_0x20c56f['bytesOfKey'+'ValueData']/(-0x1*-0x876+0x2*-0x60c+0x3a6);const _0x2b38c5=_0x20c56f['numberOfFa'+'ces']>0x20b3+0x442+-0xa*0x3b2,_0x21355c=[];for(let _0x545930=-0x9*0x265+0x3a9*0x1+-0xa*-0x1ca;_0x545930<(_0x20c56f['numberOfMi'+'pmapLevels']||-0x54f+0x145a*-0x1+0x19aa);_0x545930++){const _0x415534=_0x1550ea[_0x5a30ce++];_0x2b38c5&&_0x21355c['push']([]);const _0x130b00=_0x2b38c5?_0x21355c[_0x545930]:_0x21355c;for(let _0x30a47e=0x156f+-0x3*-0x1a7+-0x1a64;_0x30a47e<(_0x2b38c5?-0x355*-0xa+-0x13b*-0x8+-0x2b24:0xe36+0x2173+-0x2fa8);++_0x30a47e)_0x130b00['push'](Jk(_0x112b15,_0x3d4bf4,_0x5a30ce*(0xf24+0x11de+-0x20fe),_0x415534)),_0x5a30ce+=_0x415534+(-0x7*0x21a+-0x1aa5+0x295e)>>0x336*0x4+-0x157f*0x1+-0x3*-0x2e3;}return{'format':_0x112b15,'width':_0x20c56f['pixelWidth'],'height':_0x20c56f['pixelHeigh'+'t'],'levels':_0x21355c,'cubemap':_0x2b38c5};}}const tU={'KHR_DF_MODEL_UASTC':0xa6};class sU extends eo{constructor(_0x23fa63,_0x412f6d){super(),this['maxRetries']=-0xeb0+-0x31*0x7+-0x1*-0x1007,this['device']=_0x412f6d;}['load'](_0x1b20a1,_0x27346f,_0x2125cb){pe['fetchArray'+'Buffer'](_0x1b20a1['load'],(_0x44a1ab,_0x5f2ba1)=>{_0x44a1ab?_0x27346f(_0x44a1ab,_0x5f2ba1):this['parse'](_0x5f2ba1,_0x1b20a1,_0x27346f,_0x2125cb);},_0x2125cb,this['maxRetries']);}['open'](_0x320a61,_0x7cacc3,_0x55ada0,_0x59950b={}){const _0x3789a5=_0x59950b['srgb']?ld(_0x7cacc3['format']):_0x7cacc3['format'],_0x11463f=new _e(_0x55ada0,{'name':_0x320a61,'profilerHint':Pr,'addressU':_0x7cacc3['cubemap']?ue:yt,'addressV':_0x7cacc3['cubemap']?ue:yt,'width':_0x7cacc3['width'],'height':_0x7cacc3['height'],'format':_0x3789a5,'cubemap':_0x7cacc3['cubemap'],'levels':_0x7cacc3['levels'],..._0x59950b});return _0x11463f['upload'](),_0x11463f;}['parse'](_0x4d5844,_0x280b25,_0x25d2f4,_0x15c2cf){var _0x337088,_0x5cb405,_0x52769c;const _0x23d48e=new KS(_0x4d5844),_0x4b5a98=[_0x23d48e['readU32be'](),_0x23d48e['readU32be'](),_0x23d48e['readU32be']()];if(_0x4b5a98[0xe*0x265+-0xf1d*0x1+-0x1269]!==-0x52cf52b1+0x5f40a8bf+0x9ed9fe4a||_0x4b5a98[0xf7*0x13+-0x25d1+0x137d*0x1]!==-0x6*0x19cc799+0x311e239*0x11+-0xa512778*0x1||_0x4b5a98[-0x1*-0x208e+0x4*0x6bb+-0x3b78]!==0x130172b0+0x110eed*0xf1+-0x160665c3)return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x3cb807={'vkFormat':_0x23d48e['readU32'](),'typeSize':_0x23d48e['readU32'](),'pixelWidth':_0x23d48e['readU32'](),'pixelHeight':_0x23d48e['readU32'](),'pixelDepth':_0x23d48e['readU32'](),'layerCount':_0x23d48e['readU32'](),'faceCount':_0x23d48e['readU32'](),'levelCount':_0x23d48e['readU32'](),'supercompressionScheme':_0x23d48e['readU32']()},_0x167757={'dfdByteOffset':_0x23d48e['readU32'](),'dfdByteLength':_0x23d48e['readU32'](),'kvdByteOffset':_0x23d48e['readU32'](),'kvdByteLength':_0x23d48e['readU32'](),'sgdByteOffset':_0x23d48e['readU64'](),'sgdByteLength':_0x23d48e['readU64']()},_0x7273ac=[];for(let _0x3a185d=0x5*-0x4b1+-0x1c41*-0x1+-0x4cc;_0x3a185d<Math['max'](-0x1*-0x86a+-0x157b+0xd12,_0x3cb807['levelCount']);++_0x3a185d)_0x7273ac['push']({'byteOffset':_0x23d48e['readU64'](),'byteLength':_0x23d48e['readU64'](),'uncompressedByteLength':_0x23d48e['readU64']()});if(_0x23d48e['readU32']()!==_0x167757['kvdByteOff'+'set']-_0x167757['dfdByteOff'+'set'])return w['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x23d48e['skip'](0x22*0x68+-0x1*-0x248b+-0x3253);const _0x5c5948=_0x23d48e['readU8']();_0x23d48e['skip'](_0x167757['dfdByteLen'+'gth']-(-0x2f*0xc7+-0x757*-0x1+0x1d3b*0x1)),_0x23d48e['skip'](_0x167757['kvdByteLen'+'gth']),_0x3cb807['supercompr'+'essionSche'+'me']===-0x1*-0x176c+0xb*0xb9+-0x1f5e||_0x5c5948===tU['KHR_DF_MOD'+'EL_UASTC']?b0(this['device'],_0x280b25['load'],_0x4d5844,_0x25d2f4,{'isGGGR':(((_0x52769c=(_0x5cb405=(_0x337088=_0x15c2cf==null?void(-0x1*-0xfb8+0x1e53+-0x2e0b):_0x15c2cf['file'])==null?void(0x841*0x1+0x745*0x2+0x3*-0x799):_0x337088['variants'])==null?void(-0x1bc9+0x1*0xee3+0xce6):_0x5cb405['basis'])==null?void(0x11fc*-0x1+-0x1b1e+0x168d*0x2):_0x52769c['opt'])&-0x8f0+-0xe61+0x1759)!==-0x6*-0x212+-0xbf*-0x2b+-0x2c81,'isKTX2':!(0x1e5c+0x6d*0x2e+-0x31f2)})||_0x25d2f4('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x15c2cf['name']+']('+_0x15c2cf['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x25d2f4('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class iU extends eo{constructor(_0xc84f17){super(),this['maxRetries']=0xc28*-0x1+-0x1bbf+0x27e7;}['load'](_0x29d49e,_0x32ae65,_0x35ea27){pe['fetchArray'+'Buffer'](_0x29d49e['load'],_0x32ae65,_0x35ea27,this['maxRetries']);}['open'](_0x2a81a6,_0x20e217,_0x109b69,_0x471cbf={}){const _0x4aa6a5=new Uint32Array(_0x20e217,0x1808+0x293*0x9+-0x2f33,-0x381*0x2+-0x21ff+0x2921),_0x288022=_0x4aa6a5[0x266+-0xcb9+0xa57],_0x115907=_0x4aa6a5[0x10da+0x12fa+-0x35*0xad],_0x57ace0=Math['max'](_0x4aa6a5[0x226e+0xff8+-0xa13*0x5],-0x13dd+0x5*-0x64d+0x335f),_0x2abdcb=_0x4aa6a5[-0x1*0x225e+-0x1261+0x34d3*0x1]===-0x1e2*-0x5+-0x25c9+0x1c63,_0x8af2b9=_0x4aa6a5[0xca1+0x12c3+0x23*-0xe5],_0x103917=_0x4aa6a5[0x2053+0x7*0x4ff+0x7*-0x99a],_0x5a7a49=_0x4aa6a5[-0x21cd+0x1*-0x41e+0xf*0x289]===-0x1*-0x1ab56+-0x3b*-0x381+-0x17c11,_0x5a6c5d=-0x32fddc8a+0xcdd014+0x638464ba,_0x5a5a1b=0x1*0x3ea8d9ec+-0x51747af+-0x43d39f9,_0x34d934=0x1ca1*0x1+0x2309*-0x1+-0x6d9*-0x1,_0x4afacf=0x3*-0x386+-0x10dc+0x1be2,_0x2f8b12=-0x30970b*-0xf6+-0x1c7c4a88+0x1f0e7a3b,_0x56a5b3=-0x1a62606c+0x58ef4130+-0xd59ae74,_0xfa585=0x591c0275+0x3180e*-0x1acd+-0x1*-0x2b03df11,_0x3a8047=-0x44931949+-0xd*-0x9cca03+-0x36e805b9*-0x2,_0x472181=-0x7*0xb3a3a43+0x54d9541c+0x2af27809;let _0x44171e=!(0x1*-0x1efb+-0xf7f+0x2e7b),_0x5e496e=!(0x1*0x1b82+-0x1*0x8cb+0x1*-0x12b6),_0x25b433=!(-0xf0e+0x662+-0x1*-0x8ad),_0x30d4b3=!(0x188f+0x7e7+-0x7*0x4a3),_0x39a86c=null,_0x1af371=-0x610+0x1b2c+0x3*-0x709,_0xf2b555;if(_0x2abdcb?_0x8af2b9===_0x5a6c5d?(_0x39a86c=td,_0x44171e=!(-0x54*-0x5+-0xf*-0x11b+-0x3a5*0x5)):_0x8af2b9===_0x5a5a1b?(_0x39a86c=vl,_0x44171e=!(0xc0f*0x2+0x97f+-0x219d)):_0x8af2b9===_0x34d934?(_0x39a86c=nt,_0x1af371=-0xa*-0xe8+-0x1692+0xd84):_0x8af2b9===_0x4afacf?(_0x39a86c=Xt,_0x1af371=0x38b*-0x9+0x1f5f+-0x11*-0x8):_0x8af2b9===_0x2f8b12?(_0x39a86c=id,_0x44171e=!(-0x111c+-0x2*0xd16+0x2b48),_0x5e496e=!(0x1a9*-0xe+0x2071+0x5*-0x1d7)):_0x8af2b9===_0x56a5b3||_0x8af2b9===_0xfa585?(_0x39a86c=_0x8af2b9===_0x56a5b3?xl:Tl,_0x44171e=!(0xb11+-0x2215+0x1eb*0xc),_0x25b433=!(-0x2608+-0x2b*0x37+0x2f45)):(_0x8af2b9===_0x3a8047||_0x8af2b9===_0x472181)&&(_0x39a86c=_0x8af2b9===_0x3a8047?rd:ad,_0x44171e=!(0x149b+0x1*0x2063+-0x34fe),_0x30d4b3=!(0x108c+0xdd2*-0x1+0x1*-0x2ba)):_0x103917===0x781+0x94f+-0x10b0&&(_0x39a86c=Ne),!_0x39a86c)return w['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x2a81a6+'.'),_0xf2b555=new _e(_0x109b69,{'width':0x4,'height':0x4,'format':Cr,'name':'dds-legacy'+'-empty'}),_0xf2b555;_0xf2b555=new _e(_0x109b69,{'name':_0x2a81a6,'profilerHint':Pr,'addressU':_0x5a7a49?ue:yt,'addressV':_0x5a7a49?ue:yt,'width':_0x288022,'height':_0x115907,'format':_0x39a86c,'cubemap':_0x5a7a49,'mipmaps':_0x57ace0>0x23f9+0x338+-0x2730,..._0x471cbf});let _0x130dea=0xef*-0x10+-0x1495+0x2405;const _0x2c4e6b=_0x5a7a49?0x186c+0x73b+0x1*-0x1fa1:-0x2437*0x1+-0x4f*-0x4a+0xd62;let _0x27a739;const _0x28d176=-0x1a40+0x2129+-0x6e5,_0xb6f8dc=-0x1*0x106c+0x1341+-0x2d1,_0x2bdbde=_0x8af2b9===_0x5a6c5d?0x1ef4+-0x1c8a+-0x262:-0x515*0x4+-0x2089+0x1*0x34ed;let _0x46c30f,_0x32b4d9,_0x548686;for(let _0x169bfe=0x1b*-0x3b+0x2*-0xe9d+0x2373;_0x169bfe<_0x2c4e6b;_0x169bfe++){let _0x3d770e=_0x288022,_0x1dc72f=_0x115907;for(let _0xf2e7=-0x1*0x1349+0x48+0x1301;_0xf2e7<_0x57ace0;_0xf2e7++){_0x44171e?_0x5e496e?_0x27a739=Math['floor']((_0x3d770e+(0x49+-0x1d4e+0xe84*0x2))/(0x250a+0x1cd*0x3+0x1*-0x2a6d))*Math['floor']((_0x1dc72f+(-0x43b*-0x9+-0x6ce*-0x1+-0x1*0x2cde))/(0x1b34+-0xd7b+-0xdb5))*(0x6d8+0x24e1+-0x5*0x8bd):_0x25b433?_0x27a739=Math['max'](_0x3d770e,-0x1*-0x1953+0x48+-0x198b)*Math['max'](_0x1dc72f,-0x1c69+0xf29+0xd48)/(0x1*-0x1c5e+-0x1*-0x1b16+0x14c):_0x30d4b3?_0x27a739=Math['max'](_0x3d770e,-0x174c+-0x332+-0x46*-0x61)*Math['max'](_0x1dc72f,-0x1*0x18cb+0x7+0x211*0xc)/(-0x542+-0x1*-0x5e5+0x17*-0x7):(_0x46c30f=Math['floor']((_0x3d770e+_0x28d176-(0x479*0x5+-0xa4a+-0xc12))/_0x28d176),_0x32b4d9=Math['floor']((_0x1dc72f+_0xb6f8dc-(0x9*-0x43e+0x1*-0x13af+0x39de))/_0xb6f8dc),_0x548686=_0x46c30f*_0x32b4d9,_0x27a739=_0x548686*_0x2bdbde):_0x27a739=_0x3d770e*_0x1dc72f*(-0x6eb+-0x2693+0x2d82);const _0x1c5bc2=_0x39a86c===Xt?new Float32Array(_0x20e217,_0x130dea,_0x27a739):_0x39a86c===nt?new Uint16Array(_0x20e217,_0x130dea,_0x27a739):new Uint8Array(_0x20e217,_0x130dea,_0x27a739);_0x5a7a49?(_0xf2b555['_levels'][_0xf2e7]||(_0xf2b555['_levels'][_0xf2e7]=[]),_0xf2b555['_levels'][_0xf2e7][_0x169bfe]=_0x1c5bc2):_0xf2b555['_levels'][_0xf2e7]=_0x1c5bc2,_0x130dea+=_0x27a739*_0x1af371,_0x3d770e=Math['max'](_0x3d770e*(0x531+0x2294+-0x27c5+0.5),-0x22d2*-0x1+-0x149b+-0x6b*0x22),_0x1dc72f=Math['max'](_0x1dc72f*(-0x1440+0x6f*0x33+0x35*-0x9+0.5),0xd4b+-0x3*-0x9da+-0x2ad8);}}return _0xf2b555['upload'](),_0xf2b555;}}class rU extends eo{constructor(_0x58f28f){super(),this['maxRetries']=0x9ad*0x1+0x4e3+-0xe90*0x1;}['load'](_0x5495a3,_0x15f133,_0x2a2d37){pe['fetchArray'+'Buffer'](_0x5495a3['load'],_0x15f133,_0x2a2d37,this['maxRetries']),_0x2a2d37['data']&&!_0x2a2d37['data']['type']&&(_0x2a2d37['data']['type']=mh);}['open'](_0x58b7b1,_0x29867b,_0x464e14,_0x4c1c69={}){const _0x27f660=this['parse'](_0x29867b);if(!_0x27f660)return null;const _0x12fecf=new _e(_0x464e14,{'name':_0x58b7b1,'profilerHint':Pr,'addressU':yt,'addressV':ue,'minFilter':Te,'magFilter':Te,'width':_0x27f660['width'],'height':_0x27f660['height'],'levels':_0x27f660['levels'],'format':Ne,'type':mh,'mipmaps':!(0x1f5d+0x1696+-0x35f2),..._0x4c1c69});return _0x12fecf['upload'](),_0x12fecf;}['parse'](_0x289329){const _0x370c82=new KS(_0x289329);if(!_0x370c82['readLine']()['startsWith']('#?RADIANCE'))return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x2f591c={};for(;;){const _0x49ca87=_0x370c82['readLine']();if(_0x49ca87['length']===0x14f7+-0x3ec+-0x110b*0x1)break;{const _0xbfa65b=_0x49ca87['split']('=');_0xbfa65b['length']===-0x153*-0x1+0x21db+-0x232c&&(_0x2f591c[_0xbfa65b[0x2e*0x8f+0x246b+0x1*-0x3e1d]]=_0xbfa65b[0x866+-0x26a1+-0x1e*-0x102]);}}if(!_0x2f591c['hasOwnProp'+'erty']('FORMAT'))return w['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x2bd849=_0x370c82['readLine']()['split']('\x20');if(_0x2bd849['length']!==-0x265a+0x13df*0x1+0x127f)return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0xe10f2d=parseInt(_0x2bd849[0xc2c+-0x6eb+-0x540],0xa10+-0x2103*-0x1+-0x2b09),_0x4cdf97=parseInt(_0x2bd849[-0x25e0+-0x23cb*-0x1+0x218*0x1],-0x13ad+-0x360+0x1*0x1717),_0xf63f53=this['_readPixel'+'s'](_0x370c82,_0x4cdf97,_0xe10f2d,_0x2bd849[0xac0+0x41+-0x3*0x3ab]==='-Y');return _0xf63f53?{'width':_0x4cdf97,'height':_0xe10f2d,'levels':[_0xf63f53]}:null;}['_readPixel'+'s'](_0x17fff5,_0x389204,_0x499cae,_0x4e09a7){if(_0x389204<-0x231d+-0xcae+0x459*0xb||_0x389204>0x43ff+0x3136*-0x2+0x1*0x9e6c)return this['_readPixel'+'sFlat'](_0x17fff5,_0x389204,_0x499cae);const _0x2ddf2b=[-0x218e+-0x2253+-0x1*-0x43e1,0xdc3+0x1531+-0x22f4,0xf8f*0x1+0x425+0xc2*-0x1a,-0x15*-0x1a6+-0x1*-0x1d71+-0x400f];if(_0x17fff5['readArray'](_0x2ddf2b),_0x2ddf2b[0xee7+-0x233e+0x1457]!==0x1*-0x110b+0x928*-0x1+-0x1a35*-0x1||_0x2ddf2b[0x8d*0x2d+-0x248a+0xbc2]!==-0xa25+0x33a+0x6ed||(_0x2ddf2b[0x9b5+0xea+-0xa9d]&-0x1f0f+0x1c0e+-0xd*-0x45)!==0x246d+-0x2299+-0x1d4)return _0x17fff5['skip'](-(0x166a+-0x2475*-0x1+0xd*-0x487)),this['_readPixel'+'sFlat'](_0x17fff5,_0x389204,_0x499cae);const _0x420b22=new ArrayBuffer(_0x389204*_0x499cae*(-0x261f+-0x9a1+0x2fc4)),_0x14cbc6=new Uint8Array(_0x420b22);let _0x327fd0=_0x4e09a7?0x20*-0x6a+0x32d+0xa13:_0x389204*(-0x1*-0x2123+0x1377+-0x1*0x3496)*(_0x499cae-(0x18d*0x15+0xde2+-0x2e72)),_0xe3f453,_0x160e6e,_0xac62d5,_0x2206fc,_0x52b9f6,_0x4c14f4;for(_0x160e6e=-0x2ec+-0x18e4+0xa*0x2c8;_0x160e6e<_0x499cae;++_0x160e6e){if(_0x160e6e&&_0x17fff5['readArray'](_0x2ddf2b),(_0x2ddf2b[-0x10+-0x3a2+0x3b4]<<0x2*-0xbc3+-0x36f*0x1+0x1afd)+_0x2ddf2b[-0x41*0x30+-0x2478+0x30ab]!==_0x389204)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x2206fc=-0x260d+0x723+-0x2*-0xf75;_0x2206fc<-0x1791+-0xa2a+-0x21bf*-0x1;++_0x2206fc)for(_0xe3f453=-0x1e30+0x36*0x1f+-0x2*-0xbd3;_0xe3f453<_0x389204;)if(_0x52b9f6=_0x17fff5['readU8'](),_0x52b9f6>0x229b*-0x1+0x1576+0xda5){if(_0x52b9f6-=-0xdf*0x1f+0x153*0x14+0x105,_0xe3f453+_0x52b9f6>_0x389204)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x4c14f4=_0x17fff5['readU8'](),_0xac62d5=0x1*-0x19a8+-0x2571+-0x22d*-0x1d;_0xac62d5<_0x52b9f6;++_0xac62d5)_0x14cbc6[_0x327fd0+_0x2206fc+(-0xfc1*-0x1+0x894+-0x5*0x4dd)*_0xe3f453++]=_0x4c14f4;}else{if(_0x52b9f6===-0xc88+-0x4fd+0x1185||_0xe3f453+_0x52b9f6>_0x389204)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0xac62d5=0x881+0x9*-0x31b+0x1372*0x1;_0xac62d5<_0x52b9f6;++_0xac62d5)_0x14cbc6[_0x327fd0+_0x2206fc+(-0x1*-0x2345+0xca+-0x240b*0x1)*_0xe3f453++]=_0x17fff5['readU8']();}_0x327fd0+=_0x389204*(-0x2*0x1154+-0x1061*0x1+0x330d*0x1)*(_0x4e09a7?0x3*-0xda+-0x1d5f+0x1fee:-(-0x9ad*0x2+-0x156c+0x28c7));}return _0x14cbc6;}['_readPixel'+'sFlat'](_0x4718f5,_0x228707,_0x1ba2cb){return _0x4718f5['remainingB'+'ytes']===_0x228707*_0x1ba2cb*(-0x1a45+-0xd*-0x1e3+0x1c2)?new Uint8Array(_0x4718f5['arraybuffe'+'r'],_0x4718f5['offset']):null;}}const TS={'repeat':yt,'clamp':ue,'mirror':ip},wS={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},aU={'default':Ds,'rgbm':Zi,'rgbe':mh,'rgbp':Qo,'swizzleGGGR':Jo},nU=function(_0x4e605e){const _0x32fe77=Xi['calcMipLev'+'elsCount'](_0x4e605e['_width'],_0x4e605e['_height']),_0x17a36e=function(_0x13e98b){return _0x13e98b instanceof HTMLCanvasElement||_0x13e98b instanceof HTMLImageElement||_0x13e98b instanceof HTMLVideoElement;};if(!(_0x4e605e['_format']===Ne||_0x4e605e['_format']===Xt)||_0x4e605e['_volume']||_0x4e605e['_compresse'+'d']||_0x4e605e['_levels']['length']===-0x8a9*0x3+-0xb*0x137+0x2759||_0x4e605e['_levels']['length']===_0x32fe77||_0x17a36e(_0x4e605e['_cubemap']?_0x4e605e['_levels'][0x1d21+0x108*0x5+-0x83*0x43][0x2f*-0xc2+-0x1541*-0x1+0xe5d]:_0x4e605e['_levels'][-0x1*-0x576+0x1062+-0x576*0x4]))return;const _0x17197c=function(_0x4d4056,_0x5990df,_0x10f719){const _0x4d0feb=Math['max'](0x1bd5+0x1*-0x18b9+-0x109*0x3,_0x4d4056>>0x1171+0x282*0x5+-0x1dfa),_0x42c0ff=Math['max'](-0xa1*0x2e+0x1ad4+-0x1*-0x21b,_0x5990df>>-0x17c9+0x6f2+-0x86c*-0x2),_0x22b72f=new _0x10f719['constructo'+'r'](_0x4d0feb*_0x42c0ff*(-0xe93+-0x2*0x3a+0xf0b)),_0x110efb=Math['floor'](_0x4d4056/_0x4d0feb),_0x4c4bec=Math['floor'](_0x5990df/_0x42c0ff),_0x50c3f4=_0x110efb*_0x4c4bec;for(let _0x27dab7=0x1d68+0x1b0+0xc7*-0x28;_0x27dab7<_0x42c0ff;++_0x27dab7)for(let _0x23ce25=-0x7e*-0x13+-0x4*-0x447+0x1a76*-0x1;_0x23ce25<_0x4d0feb;++_0x23ce25)for(let _0x2d2a82=0x5fc+0x2d1*0x1+-0x8cd*0x1;_0x2d2a82<0x1a3c+-0xde4+0x41c*-0x3;++_0x2d2a82){let _0x2ca6cf=0x179a+0x912+-0x20ac;for(let _0x349663=-0x5a4+-0xc*0x11a+0x4*0x4b7;_0x349663<_0x4c4bec;++_0x349663)for(let _0x48f730=0x1*0x218a+0x2*-0x5ab+-0x1634;_0x48f730<_0x110efb;++_0x48f730)_0x2ca6cf+=_0x10f719[(_0x23ce25*_0x110efb+_0x48f730+(_0x27dab7*_0x4c4bec+_0x349663)*_0x4d4056)*(-0x1a52+0x11e5+0x871)+_0x2d2a82];_0x22b72f[(_0x23ce25+_0x27dab7*_0x4d0feb)*(-0x1*0x1346+0x1efb+-0xbb1)+_0x2d2a82]=_0x2ca6cf/_0x50c3f4;}return _0x22b72f;};for(let _0x4f2537=_0x4e605e['_levels']['length'];_0x4f2537<_0x32fe77;++_0x4f2537){const _0x46c7bf=Math['max'](-0x8*-0x209+0x222d+0x3274*-0x1,_0x4e605e['_width']>>_0x4f2537-(-0x1*0xb33+0x1ec1+-0x138d)),_0x3ed00e=Math['max'](0x1dc2+-0x4*-0x137+-0x229d,_0x4e605e['_height']>>_0x4f2537-(-0x7*-0xf1+0x22fe+-0x2994));if(_0x4e605e['_cubemap']){const _0x46d874=[];for(let _0x1c0f7a=-0x12fd+-0xebc+0x21b9*0x1;_0x1c0f7a<0x1424+0x15b8+-0xff*0x2a;++_0x1c0f7a)_0x46d874['push'](_0x17197c(_0x46c7bf,_0x3ed00e,_0x4e605e['_levels'][_0x4f2537-(-0x1b0*0x4+0x1b7d+0x14bc*-0x1)][_0x1c0f7a]));_0x4e605e['_levels']['push'](_0x46d874);}else _0x4e605e['_levels']['push'](_0x17197c(_0x46c7bf,_0x3ed00e,_0x4e605e['_levels'][_0x4f2537-(0x12*-0xbc+0x80b*-0x3+0x556*0x7)]));}_0x4e605e['_levelsUpd'+'ated']=_0x4e605e['_cubemap']?[[!(0x1d*0x5b+-0x18b+-0x8c4),!(0xf13+-0xd3e+0x7*-0x43),!(0x41*-0x55+0x151*-0xa+-0x5*-0x6f3),!(-0x15e9+-0x1188+0x2771),!(-0xb*0xe5+0x22b1+0xc6d*-0x2),!(-0x1a15+0x25b0+-0xb9b*0x1)]]:[!(-0xcef+-0x3*-0xa45+-0x11e0)];};class oU extends Qe{constructor(_0x523132){super(_0x523132,'texture');const _0x30021d=_0x523132['assets'],_0x55870e=_0x523132['graphicsDe'+'vice'];this['_device']=_0x55870e,this['_assets']=_0x30021d,this['imgParser']=new Zk(_0x30021d,_0x55870e),this['parsers']={'dds':new iU(_0x30021d),'ktx':new eU(_0x30021d),'ktx2':new sU(_0x30021d,_0x55870e),'basis':new qk(_0x30021d,_0x55870e),'hdr':new rU(_0x30021d)};}set['crossOrigi'+'n'](_0x478366){this['imgParser']['crossOrigi'+'n']=_0x478366;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x196d26){this['imgParser']['maxRetries']=_0x196d26;for(const _0x34ed42 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x34ed42)&&(this['parsers'][_0x34ed42]['maxRetries']=_0x196d26);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x3e16d4){return _0x3e16d4['indexOf']('?')>=-0x3*0x293+-0x86*-0x33+-0x12f9?_0x3e16d4['split']('?')[0x1c6*0x3+-0x268e+-0x1*-0x213c]:_0x3e16d4;}['_getParser'](_0x3df9a2){const _0x3ba6b5=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x3df9a2))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x3ba6b5]||this['imgParser'];}['_getTextur'+'eOptions'](_0x336579){var _0x1f91f0;const _0x2be366={'profilerHint':Pr};if(_0x336579){((_0x1f91f0=_0x336579['name'])==null?void(0x2009+0x2*0x779+-0x2efb):_0x1f91f0['length'])>-0x13f*-0xb+0x5b1*-0x4+0x90f&&(_0x2be366['name']=_0x336579['name']);const _0x15ed36=_0x336579['data'];_0x15ed36['hasOwnProp'+'erty']('minfilter')&&(_0x2be366['minFilter']=wS[_0x15ed36['minfilter']]),_0x15ed36['hasOwnProp'+'erty']('magfilter')&&(_0x2be366['magFilter']=wS[_0x15ed36['magfilter']]),_0x15ed36['hasOwnProp'+'erty']('addressu')&&(_0x2be366['addressU']=TS[_0x15ed36['addressu']]),_0x15ed36['hasOwnProp'+'erty']('addressv')&&(_0x2be366['addressV']=TS[_0x15ed36['addressv']]),_0x15ed36['hasOwnProp'+'erty']('mipmaps')&&(_0x2be366['mipmaps']=_0x15ed36['mipmaps']),_0x15ed36['hasOwnProp'+'erty']('anisotropy')&&(_0x2be366['anisotropy']=_0x15ed36['anisotropy']),_0x15ed36['hasOwnProp'+'erty']('flipY')&&(_0x2be366['flipY']=!!_0x15ed36['flipY']),_0x15ed36['hasOwnProp'+'erty']('srgb')&&(_0x2be366['srgb']=!!_0x15ed36['srgb']),_0x2be366['type']=Ds,_0x15ed36['hasOwnProp'+'erty']('type')?_0x2be366['type']=aU[_0x15ed36['type']]:_0x15ed36['hasOwnProp'+'erty']('rgbm')&&_0x15ed36['rgbm']?_0x2be366['type']=Zi:_0x336579['file']&&(_0x336579['file']['opt']&-0x751*-0x4+-0x2*-0xd8a+-0x3850)!==0x13*0xfd+-0x10ba*-0x1+-0x2381&&(_0x2be366['type']=Jo);}return _0x2be366;}['load'](_0x58eb6a,_0x2edb73,_0x441146){typeof _0x58eb6a=='string'&&(_0x58eb6a={'load':_0x58eb6a,'original':_0x58eb6a}),this['_getParser'](_0x58eb6a['original'])['load'](_0x58eb6a,_0x2edb73,_0x441146);}['open'](_0x1f9e22,_0x444031,_0xc3e8e1){if(!_0x1f9e22)return;const _0x2088c2=this['_getTextur'+'eOptions'](_0xc3e8e1);let _0x6152b5=this['_getParser'](_0x1f9e22)['open'](_0x1f9e22,_0x444031,this['_device'],_0x2088c2);return _0x6152b5===null?_0x6152b5=new _e(this['_device'],{'width':0x4,'height':0x4,'format':Cr}):(nU(_0x6152b5),_0x444031['unswizzled'+'GGGR']&&(_0xc3e8e1['file']['variants']['basis']['opt']&=-(-0x3e*0x89+-0xcf5*-0x1+0x1442))),_0x6152b5;}['patch'](_0x265a3c,_0x4a91c2){const _0x349f0a=_0x265a3c['resource'];if(!_0x349f0a)return;const _0x5e50f9=this['_getTextur'+'eOptions'](_0x265a3c);for(const _0x10f96e of Object['keys'](_0x5e50f9))_0x349f0a[_0x10f96e]=_0x5e50f9[_0x10f96e];}}const lU='inline',cU='immersive-'+'vr',$o='immersive-'+'ar',ES='viewer',hU='left',dU='cpu-optimi'+'zed',P0='gpu-optimi'+'zed',M0='luminance-'+'alpha',D0='unsigned-s'+'hort',I0='float32';class fU{constructor(_0x2af37d){h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRDOMOverl'+'ayState']),h(this,'_root',null),this['_manager']=_0x2af37d;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x243e20){!this['_supported']||this['_manager']['active']||(this['_root']=_0x243e20);}get['root'](){return this['_root'];}}const Rc=[],bS=[];class ju extends me{constructor(_0x2baa11,_0x46a932,_0x291884,_0x23b37d=null){super(),h(this,'manager'),h(this,'_xrHitTest'+'Source'),h(this,'_transient'),h(this,'_inputSour'+'ce'),(this['manager']=_0x2baa11,this['_xrHitTest'+'Source']=_0x46a932,this['_transient']=_0x291884,this['_inputSour'+'ce']=_0x23b37d);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x15d535=this['manager']['hitTest']['sources'],_0x40c146=_0x15d535['indexOf'](this);_0x40c146!==-(-0x2632+0x1331+0x1302)&&_0x15d535['splice'](_0x40c146,-0x24f2+0x16*0x22+0x2207),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x961d2){if(this['_transient']){const _0xcf14e6=_0x961d2['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x47f87a=-0x708+-0xd7*-0x11+-0x73f;_0x47f87a<_0xcf14e6['length'];_0x47f87a++){const _0x32522d=_0xcf14e6[_0x47f87a];if(!_0x32522d['results']['length'])continue;let _0x2afc53;_0x32522d['inputSourc'+'e']&&(_0x2afc53=this['manager']['input']['_getByInpu'+'tSource'](_0x32522d['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x32522d['results'],_0x2afc53);}}else{const _0x4aacb4=_0x961d2['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x4aacb4['length'])return;this['updateHitR'+'esults'](_0x4aacb4);}}['updateHitR'+'esults'](_0x5081c5,_0xcce827){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0xcce827)return;const _0x351356=Rc['pop']()??new D();_0xcce827?_0x351356['copy'](_0xcce827['getOrigin']()):_0x351356['copy'](this['manager']['camera']['getPositio'+'n']());let _0x2d51a7=(0x2*0x6ab+-0x85b+-0x1a*0x31)/(0x7ae*-0x4+0x7b5+0x1703),_0x2b5ad9=null;const _0x4f96cd=Rc['pop']()??new D(),_0x437ba3=bS['pop']()??new le();for(let _0x6ee432=-0x1054+0xbef+0x465;_0x6ee432<_0x5081c5['length'];_0x6ee432++){const _0x1a0a68=_0x5081c5[_0x6ee432]['getPose'](this['manager']['_reference'+'Space']),_0x4cc30f=_0x351356['distance'](_0x1a0a68['transform']['position']);_0x4cc30f>=_0x2d51a7||(_0x2d51a7=_0x4cc30f,_0x2b5ad9=_0x5081c5[_0x6ee432],_0x4f96cd['copy'](_0x1a0a68['transform']['position']),_0x437ba3['copy'](_0x1a0a68['transform']['orientatio'+'n']));}this['fire']('result',_0x4f96cd,_0x437ba3,_0xcce827||this['_inputSour'+'ce'],_0x2b5ad9),this['manager']['hitTest']['fire']('result',this,_0x4f96cd,_0x437ba3,_0xcce827||this['_inputSour'+'ce'],_0x2b5ad9),Rc['push'](_0x351356),Rc['push'](_0x4f96cd),bS['push'](_0x437ba3);}}h(ju,'EVENT_REMO'+'VE','remove'),h(ju,'EVENT_RESU'+'LT','result');class jr extends me{constructor(_0x2c8ec4){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),h(this,'_available',!(-0x17*0x11b+0x216+0x1758)),h(this,'_checkingA'+'vailabilit'+'y',!(0x10bb*-0x2+-0x1*-0x318+0x1e5f)),h(this,'sources',[]),(this['manager']=_0x2c8ec4,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x29e151=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(0x8ad*0x3+0x101*0x19+-0x331f);if(!_0x29e151)return;this['_available']=_0x29e151,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(-0x13fc+-0x11a7+-0x5*-0x787),this['manager']['session']['requestRef'+'erenceSpac'+'e'](ES)['then'](_0x3d2f54=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x3d2f54})['then'](_0x28524e=>{_0x28524e['cancel'](),this['manager']['active']&&(this['_available']=!(-0x359+-0x2*0x118c+-0x1*-0x2671),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x20d9+0x1016+0x1*-0x30ee);for(let _0x29de41=0x24ad*0x1+0x1*-0x1ba4+-0x909;_0x29de41<this['sources']['length'];_0x29de41++)this['sources'][_0x29de41]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x47b809={}){var _0xadaa7,_0x46693d;if(!this['_supported']){(_0xadaa7=_0x47b809['callback'])==null||_0xadaa7['call'](_0x47b809,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x46693d=_0x47b809['callback'])==null||_0x46693d['call'](_0x47b809,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x47b809['profile']&&!_0x47b809['spaceType']&&(_0x47b809['spaceType']=ES);let _0x52da21;const _0x3c2781=_0x47b809['offsetRay'];if(_0x3c2781){const _0x4f6c98=new DOMPoint(_0x3c2781['origin']['x'],_0x3c2781['origin']['y'],_0x3c2781['origin']['z'],0xd*0x5e+-0x37*0x92+0x1*0x1a99),_0x4ce456=new DOMPoint(_0x3c2781['direction']['x'],_0x3c2781['direction']['y'],_0x3c2781['direction']['z'],0xb*0x2ef+0xd*-0x2dd+-0x1*-0x4f4);_0x52da21=new XRRay(_0x4f6c98,_0x4ce456);}const _0x47b1a3=_0x47b809['callback'];_0x47b809['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x47b809['spaceType'])['then'](_0x33c945=>{if(!this['manager']['session']){const _0x2bd3ac=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x47b1a3&&_0x47b1a3(_0x2bd3ac),this['fire']('error',_0x2bd3ac);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x33c945,'entityTypes':_0x47b809['entityType'+'s']||void(0x1*-0x362+-0xf*0xdd+0x1055),'offsetRay':_0x52da21})['then'](_0x862f28=>{this['_onHitTest'+'Source'](_0x862f28,!(0x1b25*0x1+-0x549*-0x2+-0x25b6),_0x47b809['inputSourc'+'e'],_0x47b1a3);})['catch'](_0x48bd50=>{_0x47b1a3&&_0x47b1a3(_0x48bd50),this['fire']('error',_0x48bd50);});})['catch'](_0x31405e=>{_0x47b1a3&&_0x47b1a3(_0x31405e),this['fire']('error',_0x31405e);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x47b809['profile'],'entityTypes':_0x47b809['entityType'+'s']||void(-0x49*-0x52+-0x1*0x20c7+0x965*0x1),'offsetRay':_0x52da21})['then'](_0xfa4a2=>{this['_onHitTest'+'Source'](_0xfa4a2,!(0x3*-0x9d9+-0x6b6+0x2441),_0x47b809['inputSourc'+'e'],_0x47b1a3);})['catch'](_0xfa864d=>{_0x47b1a3&&_0x47b1a3(_0xfa864d),this['fire']('error',_0xfa864d);});}['_onHitTest'+'Source'](_0x1f7bb0,_0x5945a5,_0x411ad1,_0x1a6a1d){if(!this['manager']['session']){_0x1f7bb0['cancel']();const _0xfabc0f=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x1a6a1d&&_0x1a6a1d(_0xfabc0f),this['fire']('error',_0xfabc0f);return;}const _0x7f49f5=new ju(this['manager'],_0x1f7bb0,_0x5945a5,_0x411ad1??null);this['sources']['push'](_0x7f49f5),_0x1a6a1d&&_0x1a6a1d(null,_0x7f49f5),this['fire']('add',_0x7f49f5);}['update'](_0x57a21b){if(this['_available']){for(let _0x5a50bf=-0x1733+0x144d+0x2e6;_0x5a50bf<this['sources']['length'];_0x5a50bf++)this['sources'][_0x5a50bf]['update'](_0x57a21b);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}h(jr,'EVENT_AVAI'+'LABLE','available'),h(jr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(jr,'EVENT_ADD','add'),h(jr,'EVENT_REMO'+'VE','remove'),h(jr,'EVENT_RESU'+'LT','result'),h(jr,'EVENT_ERRO'+'R','error');class Yu extends me{constructor(_0x5a99af,_0x19247e){super(),h(this,'_image'),h(this,'_width'),h(this,'_bitmap',null),h(this,'_measuredW'+'idth',0x234e*-0x1+-0x246*-0x8+0x272*0x7),h(this,'_trackable',!(-0x9c+-0x121b+0x12b8)),h(this,'_tracking',!(-0x9a3*0x3+0x1df2*-0x1+0x1d6e*0x2)),h(this,'_emulated',!(0x1*0x836+0x2426+-0x2c5b)),h(this,'_pose',null),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_image']=_0x5a99af,this['_width']=_0x19247e);}get['image'](){return this['_image'];}set['width'](_0x321c8d){this['_width']=_0x321c8d;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x2430b3=>(this['_bitmap']=_0x2430b3,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}h(Yu,'EVENT_TRAC'+'KED','tracked'),h(Yu,'EVENT_UNTR'+'ACKED','untracked');class L0 extends me{constructor(_0x16a7cf){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),h(this,'_available',!(-0x940*-0x1+0xb*-0x71+-0x464)),h(this,'_images',[]),(this['_manager']=_0x16a7cf,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x2074d4,_0x1dcb90){if(!this['_supported']||this['_manager']['active'])return null;const _0x2d4896=new Yu(_0x2074d4,_0x1dcb90);return this['_images']['push'](_0x2d4896),_0x2d4896;}['remove'](_0x4cd8a0){if(this['_manager']['active'])return;const _0x18e8bc=this['_images']['indexOf'](_0x4cd8a0);_0x18e8bc!==-(0xfe0+-0xcba+0x23*-0x17)&&(_0x4cd8a0['destroy'](),this['_images']['splice'](_0x18e8bc,0xe6f+-0x1527+-0x1*-0x6b9));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x317336=>{this['_available']=!(-0x18ec+0x1786+0x166);for(let _0xab2593=-0x28*-0x28+-0x4e3+0x15d*-0x1;_0xab2593<_0x317336['length'];_0xab2593++)this['_images'][_0xab2593]['_trackable']=_0x317336[_0xab2593]==='trackable';})['catch'](_0x547c44=>{this['_available']=!(0xa8a+0x592*-0x3+-0x1*-0x62d),this['fire']('error',_0x547c44);});}['_onSession'+'End'](){this['_available']=!(-0x56*-0x32+0x6dd+-0x17a8);for(let _0xa67461=0x59f+-0x221f+-0x60*-0x4c;_0xa67461<this['_images']['length'];_0xa67461++){const _0x523571=this['_images'][_0xa67461];_0x523571['_pose']=null,_0x523571['_measuredW'+'idth']=0x2591*0x1+0x1a83*-0x1+-0xb0e,_0x523571['_tracking']&&(_0x523571['_tracking']=!(-0x16*0xc7+-0x2d5+0x13f0),_0x523571['fire']('untracked'));}}['prepareIma'+'ges'](_0x32305f){this['_images']['length']?Promise['all'](this['_images']['map'](_0x2e42f2=>_0x2e42f2['prepare']()))['then'](_0x9a9f0b=>{_0x32305f(null,_0x9a9f0b);})['catch'](_0xce1b64=>{_0x32305f(_0xce1b64,null);}):_0x32305f(null,null);}['update'](_0x540c90){if(!this['_available'])return;const _0x2195c9=_0x540c90['getImageTr'+'ackingResu'+'lts'](),_0x122d1b={};for(let _0x36e650=-0x243d+-0x1*0x36d+0x1*0x27aa;_0x36e650<_0x2195c9['length'];_0x36e650++){_0x122d1b[_0x2195c9[_0x36e650]['index']]=_0x2195c9[_0x36e650];const _0x13bbd3=this['_images'][_0x2195c9[_0x36e650]['index']];_0x13bbd3['_emulated']=_0x2195c9[_0x36e650]['trackingSt'+'ate']==='emulated',_0x13bbd3['_measuredW'+'idth']=_0x2195c9[_0x36e650]['measuredWi'+'dthInMeter'+'s'],_0x13bbd3['_pose']=_0x540c90['getPose'](_0x2195c9[_0x36e650]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0xf8478c=-0x1cd8+0x25a9*-0x1+-0xe3*-0x4b;_0xf8478c<this['_images']['length'];_0xf8478c++)this['_images'][_0xf8478c]['_tracking']&&!_0x122d1b[_0xf8478c]?(this['_images'][_0xf8478c]['_tracking']=!(-0x1*0x989+-0x25be+0x2f48),this['_images'][_0xf8478c]['fire']('untracked')):!this['_images'][_0xf8478c]['_tracking']&&_0x122d1b[_0xf8478c]&&(this['_images'][_0xf8478c]['_tracking']=!(0x12c0+-0xdba+-0x506*0x1),this['_images'][_0xf8478c]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}h(L0,'EVENT_ERRO'+'R','error');class uU{constructor(_0x5d5bc5,_0x1ec34f){h(this,'_index'),h(this,'_hand'),h(this,'_joints',[]),h(this,'_tip',null),(this['_index']=_0x5d5bc5,this['_hand']=_0x1ec34f,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const AS=Ae['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],R0={};for(let l=0x1e96+-0x18c6+-0x5d0;l<AS['length'];l++)R0[AS[l]]=!(-0x957*-0x3+-0x2518+0x913);class CS{constructor(_0x3999fb,_0x4e7557,_0x4c0fb8,_0x494826=null){h(this,'_index'),h(this,'_id'),h(this,'_hand'),h(this,'_finger'),h(this,'_wrist'),h(this,'_tip'),h(this,'_radius',null),h(this,'_localTran'+'sform',new te()),h(this,'_worldTran'+'sform',new te()),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_dirtyLoca'+'l',!(-0x1a75*0x1+0xa22+-0x3*-0x571)),(this['_index']=_0x3999fb,this['_id']=_0x4e7557,this['_hand']=_0x4c0fb8,this['_finger']=_0x494826,this['_wrist']=_0x4e7557==='wrist',this['_tip']=this['_finger']&&!!R0[_0x4e7557]);}['update'](_0x303979){this['_dirtyLoca'+'l']=!(0x504*-0x4+-0x209*0x1+0x1619),this['_radius']=_0x303979['radius'],this['_localPosi'+'tion']['copy'](_0x303979['transform']['position']),this['_localRota'+'tion']['copy'](_0x303979['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x13aa+-0x111c+0x23*0x10d),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x4983ff=this['_hand']['_manager']['camera']['parent'];_0x4983ff?this['_worldTran'+'sform']['mul2'](_0x4983ff['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||0xfd2+-0x170b+0x739*0x1+0.005;}}let rh=[];const Wr=new D(),Oc=new D(),PS=new D();Ae['browser']&&window['XRHand']&&(rh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Ku extends me{constructor(_0x447410){super(),h(this,'_manager'),h(this,'_inputSour'+'ce'),h(this,'_tracking',!(-0x21f6+0x3ce*0x4+0x12bf*0x1)),h(this,'_fingers',[]),h(this,'_joints',[]),h(this,'_jointsByI'+'d',{}),h(this,'_tips',[]),h(this,'_wrist',null);const _0x2f09b8=_0x447410['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x447410['_manager'],this['_inputSour'+'ce']=_0x447410,_0x2f09b8['get']('wrist')){const _0xc6922=new CS(0x21cb+0xe0*-0x24+-0x24b*0x1,'wrist',this,null);this['_wrist']=_0xc6922,this['_joints']['push'](_0xc6922),this['_jointsByI'+'d']['wrist']=_0xc6922;}for(let _0x15b2ef=-0x6eb*-0x3+-0x6ae+-0xe13;_0x15b2ef<rh['length'];_0x15b2ef++){const _0x2363fc=new uU(_0x15b2ef,this);for(let _0x4c0404=-0x1241*0x2+-0x13cc+0x384e*0x1;_0x4c0404<rh[_0x15b2ef]['length'];_0x4c0404++){const _0x1ae766=rh[_0x15b2ef][_0x4c0404];if(!_0x2f09b8['get'](_0x1ae766))continue;const _0x102015=new CS(_0x4c0404,_0x1ae766,this,_0x2363fc);this['_joints']['push'](_0x102015),this['_jointsByI'+'d'][_0x1ae766]=_0x102015,_0x102015['tip']&&(this['_tips']['push'](_0x102015),_0x2363fc['_tip']=_0x102015),_0x2363fc['_joints']['push'](_0x102015);}}}['update'](_0xe03e8f){const _0x5cdbec=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x63ce7a=0x18b*0x8+-0x1*-0x256d+-0x31c5;_0x63ce7a<this['_joints']['length'];_0x63ce7a++){const _0xf6fbef=this['_joints'][_0x63ce7a],_0x2b83bd=_0x5cdbec['hand']['get'](_0xf6fbef['_id']);if(_0x2b83bd){let _0x190dbf;if(_0xe03e8f['session']['visibility'+'State']!=='hidden'&&(_0x190dbf=_0xe03e8f['getJointPo'+'se'](_0x2b83bd,this['_manager']['_reference'+'Space'])),_0x190dbf)_0xf6fbef['update'](_0x190dbf),_0xf6fbef['wrist']&&!this['_tracking']&&(this['_tracking']=!(-0xd0*0x27+-0x1*-0x23de+-0x42e),this['fire']('tracking'));else{if(_0xf6fbef['wrist']){this['_tracking']&&(this['_tracking']=!(0x13*-0x14b+0x19ac+0x2f*-0x6),this['fire']('trackinglo'+'st'));break;}}}}const _0x163c3f=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x22d737=this['_jointsByI'+'d']['thumb-tip'],_0x2aa243=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x2b46c3=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x47999b=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x100ccd=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x163c3f&&_0x22d737&&_0x2aa243&&_0x2b46c3&&_0x47999b&&_0x100ccd){this['_inputSour'+'ce']['_dirtyRay']=!(-0x27*0x3+-0xa27*0x3+-0xa4e*-0x3),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x22d737['_localPosi'+'tion'],_0x2b46c3['_localPosi'+'tion'],-0x221b+-0xe29+-0x1822*-0x2+0.5);let _0x1f463d=_0x163c3f,_0x5e9d72=_0x100ccd;if(this['_inputSour'+'ce']['handedness']===hU){const _0x1edc0e=_0x1f463d;_0x1f463d=_0x5e9d72,_0x5e9d72=_0x1edc0e;}Wr['sub2'](_0x1f463d['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Oc['sub2'](_0x5e9d72['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),PS['cross'](Wr,Oc)['normalize'](),Wr['lerp'](_0x2aa243['_localPosi'+'tion'],_0x47999b['_localPosi'+'tion'],0x1d07*0x1+0x6bb*0x1+0x11e1*-0x2+0.5),Wr['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](PS,Wr,0xcc4+-0x3*0x5bb+0x46d+0.5)['normalize']();}this['_fingerIsC'+'losed'](0xe58+0x2036+-0x11*0x2bd)&&this['_fingerIsC'+'losed'](-0x1109+0xe50+0x2bb)&&this['_fingerIsC'+'losed'](0xc*-0xa0+-0x3*0x4eb+0x1644)&&this['_fingerIsC'+'losed'](-0xe2*-0x3+-0x1034+-0x6*-0x243)?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(-0x13ea+0x2137+-0x46f*0x3),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(-0x2127+-0x57f+0x26a7),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingerIsC'+'losed'](_0x31d64a){const _0x24e46f=this['_fingers'][_0x31d64a];return Wr['sub2'](_0x24e46f['joints'][-0x752+-0x9e+-0x3f8*-0x2]['_localPosi'+'tion'],_0x24e46f['joints'][0x27*-0xf7+0xa1f*0x2+-0x1c*-0x9f]['_localPosi'+'tion'])['normalize'](),Oc['sub2'](_0x24e46f['joints'][-0x1d1*-0x9+0x16ad+-0x2704]['_localPosi'+'tion'],_0x24e46f['joints'][0x450+0x6f*-0xa+0x9]['_localPosi'+'tion'])['normalize'](),Wr['dot'](Oc)<-(-0x47*0x2e+-0x6*-0x17f+0x3c8+0.8);}['getJointBy'+'Id'](_0x2f0b54){return this['_jointsByI'+'d'][_0x2f0b54]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}h(Ku,'EVENT_TRAC'+'KING','tracking'),h(Ku,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const MS=new D(),DS=new le();let pU=0xd00+0x2180+-0x2e80;class Qt extends me{constructor(_0xe9d30f,_0x2a9032){super(),h(this,'_id'),h(this,'_manager'),h(this,'_xrInputSo'+'urce'),h(this,'_ray',new Dn()),h(this,'_rayLocal',new Dn()),h(this,'_grip',!(0xb*0x299+0x3*0x4+0x1*-0x1c9e)),h(this,'_hand',null),h(this,'_velocitie'+'sAvailable',!(-0x11de+-0x147d+0x265c)),h(this,'_velocitie'+'sTimestamp',de()),h(this,'_localTran'+'sform',null),h(this,'_worldTran'+'sform',null),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_localPosi'+'tion',null),h(this,'_localPosi'+'tionLast',null),h(this,'_localRota'+'tion',null),h(this,'_linearVel'+'ocity',null),h(this,'_dirtyLoca'+'l',!(0x8bb+-0x63*0x47+0x12ba)),h(this,'_dirtyRay',!(-0x1*0xdd8+0x747+0x692)),h(this,'_selecting',!(-0x2710+-0x212a+0x29*0x1c3)),h(this,'_squeezing',!(0x62f*-0x6+-0x9*0x43d+0x8*0x968)),h(this,'_elementIn'+'put',!(-0x1082+0x1*0x1d99+0x3*-0x45d)),h(this,'_elementEn'+'tity',null),h(this,'_hitTestSo'+'urces',[]),(this['_id']=++pU,this['_manager']=_0xe9d30f,this['_xrInputSo'+'urce']=_0x2a9032,_0x2a9032['hand']&&(this['_hand']=new Ku(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x435f37){this['_elementIn'+'put']!==_0x435f37&&(this['_elementIn'+'put']=_0x435f37,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x1b5541){if(this['_hand'])this['_hand']['update'](_0x1b5541);else{const _0xa3815=this['_xrInputSo'+'urce']['gripSpace'];if(_0xa3815){const _0x5b84d0=_0x1b5541['getPose'](_0xa3815,this['_manager']['_reference'+'Space']);if(_0x5b84d0){this['_grip']||(this['_grip']=!(0x3f5+0x1136*0x1+-0x152b),this['_localTran'+'sform']=new te(),this['_worldTran'+'sform']=new te(),this['_localPosi'+'tionLast']=new D(),this['_localPosi'+'tion']=new D(),this['_localRota'+'tion']=new le(),this['_linearVel'+'ocity']=new D());const _0x14e5d5=de(),_0x3401e7=(_0x14e5d5-this['_velocitie'+'sTimestamp'])/(0x2619+0x691*0x5+0x17*-0x2ea);this['_velocitie'+'sTimestamp']=_0x14e5d5,this['_dirtyLoca'+'l']=!(0x1f*0xa9+-0x1682+0x1*0x20b),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x5b84d0['transform']['position']),this['_localRota'+'tion']['copy'](_0x5b84d0['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(-0x165e+-0x19ed*0x1+0x304b),this['_manager']['input']['velocities'+'Supported']&&_0x5b84d0['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x5b84d0['linearVelo'+'city']):_0x3401e7>-0x156f+0x49*0x9+-0xe6*-0x15&&(MS['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x3401e7),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],MS,0xa35*-0x1+0x1aa0+-0x106b+0.15));}else this['_velocitie'+'sAvailable']=!(-0x270e*0x1+0x2f9*-0x6+0x38e5);}const _0x2f8ec3=_0x1b5541['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x2f8ec3&&(this['_dirtyRay']=!(-0x2178+-0x268a+-0x1*-0x4802),this['_rayLocal']['origin']['copy'](_0x2f8ec3['transform']['position']),this['_rayLocal']['direction']['set'](0x3*-0xa1f+0x63*0x42+0x4d7,-0x18c3*-0x1+0xd77*-0x1+-0xb4c,-(-0x91a+0x1*0x107+-0x814*-0x1)),DS['copy'](_0x2f8ec3['transform']['orientatio'+'n']),DS['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x95*-0x1+0x1*0x97+-0xd*0x17),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x48d8c6=this['_manager']['camera']['parent'];_0x48d8c6?this['_worldTran'+'sform']['mul2'](_0x48d8c6['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x558812=this['_dirtyRay'];if(this['_dirtyRay']=!(-0x395*0x7+0x8*-0x314+0x31b4),this['_manager']['camera']['parent']){const _0x3d2b83=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x3d2b83['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x3d2b83),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x558812&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x3a72f6={}){_0x3a72f6['inputSourc'+'e']=this,_0x3a72f6['profile']=this['_xrInputSo'+'urce']['profiles'][-0x341+-0xde7*-0x1+-0xaa6];const _0x224983=_0x3a72f6['callback'];_0x3a72f6['callback']=(_0x474a85,_0x159714)=>{_0x159714&&this['onHitTestS'+'ourceAdd'](_0x159714),_0x224983&&_0x224983(_0x474a85,_0x159714);},this['_manager']['hitTest']['start'](_0x3a72f6);}['onHitTestS'+'ourceAdd'](_0x209420){this['_hitTestSo'+'urces']['push'](_0x209420),this['fire']('hittest:ad'+'d',_0x209420),_0x209420['on']('result',(_0x174971,_0x1e2460,_0x3d3511,_0x520849)=>{_0x3d3511===this&&this['fire']('hittest:re'+'sult',_0x209420,_0x174971,_0x1e2460,_0x520849);}),_0x209420['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x209420),this['fire']('hittest:re'+'move',_0x209420);});}['onHitTestS'+'ourceRemov'+'e'](_0x20cdae){const _0x4b199f=this['_hitTestSo'+'urces']['indexOf'](_0x20cdae);_0x4b199f!==-(0x1137+0xeb3+-0x185*0x15)&&this['_hitTestSo'+'urces']['splice'](_0x4b199f,-0x258c+0xb9*-0x17+0x362c);}}h(Qt,'EVENT_REMO'+'VE','remove'),h(Qt,'EVENT_SELE'+'CT','select'),h(Qt,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Qt,'EVENT_SELE'+'CTEND','selectend'),h(Qt,'EVENT_SQUE'+'EZE','squeeze'),h(Qt,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Qt,'EVENT_SQUE'+'EZEEND','squeezeend'),h(Qt,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),h(Qt,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),h(Qt,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class Li extends me{constructor(_0x3849ab){var _0xf56efd,_0xa33994;super(),h(this,'manager'),h(this,'_inputSour'+'ces',[]),h(this,'_onInputSo'+'urcesChang'+'eEvt'),h(this,'velocities'+'Supported',!(-0x1*0x8b1+-0x5*0x269+0x71*0x2f)),(this['manager']=_0x3849ab,this['velocities'+'Supported']=!!(Ae['browser']&&((_0xa33994=(_0xf56efd=window['XRPose'])==null?void(0x16ce+0x134f+0x2a1d*-0x1):_0xf56efd['prototype'])!=null&&_0xa33994['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x895c52=>{this['_onInputSo'+'urcesChang'+'e'](_0x895c52);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x582ec4=this['manager']['session'];_0x582ec4['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x582ec4['addEventLi'+'stener']('select',_0x35d0f6=>{const _0x455056=this['_getByInpu'+'tSource'](_0x35d0f6['inputSourc'+'e']);_0x455056['update'](_0x35d0f6['frame']),_0x455056['fire']('select',_0x35d0f6),this['fire']('select',_0x455056,_0x35d0f6);}),_0x582ec4['addEventLi'+'stener']('selectstar'+'t',_0x4e59e9=>{const _0x33772f=this['_getByInpu'+'tSource'](_0x4e59e9['inputSourc'+'e']);_0x33772f['_selecting']||(_0x33772f['update'](_0x4e59e9['frame']),_0x33772f['_selecting']=!(0x14e4+0x4c*0x13+-0x1a88),_0x33772f['fire']('selectstar'+'t',_0x4e59e9),this['fire']('selectstar'+'t',_0x33772f,_0x4e59e9));}),_0x582ec4['addEventLi'+'stener']('selectend',_0x54e532=>{const _0x149c38=this['_getByInpu'+'tSource'](_0x54e532['inputSourc'+'e']);_0x149c38['update'](_0x54e532['frame']),_0x149c38['_selecting']=!(-0x5b7+-0x117+0x15*0x53),_0x149c38['fire']('selectend',_0x54e532),this['fire']('selectend',_0x149c38,_0x54e532);}),_0x582ec4['addEventLi'+'stener']('squeeze',_0x1b2fad=>{const _0x889f2=this['_getByInpu'+'tSource'](_0x1b2fad['inputSourc'+'e']);_0x889f2['update'](_0x1b2fad['frame']),_0x889f2['fire']('squeeze',_0x1b2fad),this['fire']('squeeze',_0x889f2,_0x1b2fad);}),_0x582ec4['addEventLi'+'stener']('squeezesta'+'rt',_0x1a0f09=>{const _0x222b53=this['_getByInpu'+'tSource'](_0x1a0f09['inputSourc'+'e']);_0x222b53['update'](_0x1a0f09['frame']),_0x222b53['_squeezing']=!(0x2*-0x6ec+0x1*0xfa3+-0x1cb),_0x222b53['fire']('squeezesta'+'rt',_0x1a0f09),this['fire']('squeezesta'+'rt',_0x222b53,_0x1a0f09);}),_0x582ec4['addEventLi'+'stener']('squeezeend',_0x52811e=>{const _0x3fad63=this['_getByInpu'+'tSource'](_0x52811e['inputSourc'+'e']);_0x3fad63['update'](_0x52811e['frame']),_0x3fad63['_squeezing']=!(0x211e+0x3bc+-0x24d9*0x1),_0x3fad63['fire']('squeezeend',_0x52811e),this['fire']('squeezeend',_0x3fad63,_0x52811e);});const _0x4f5c7a=_0x582ec4['inputSourc'+'es'];for(let _0x111116=0x1f9b+0x224b*0x1+-0x7*0x96a;_0x111116<_0x4f5c7a['length'];_0x111116++)this['_addInputS'+'ource'](_0x4f5c7a[_0x111116]);}['_onSession'+'End'](){let _0x4ea829=this['_inputSour'+'ces']['length'];for(;_0x4ea829--;){const _0x1411e9=this['_inputSour'+'ces'][_0x4ea829];this['_inputSour'+'ces']['splice'](_0x4ea829,-0x7*0x559+-0x17*-0x4f+0x1e57),_0x1411e9['fire']('remove'),this['fire']('remove',_0x1411e9);}this['fire']('removeall'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x111967){for(let _0x17fc4a=0x595+0x153a+0x1*-0x1acf;_0x17fc4a<_0x111967['removed']['length'];_0x17fc4a++)this['_removeInp'+'utSource'](_0x111967['removed'][_0x17fc4a]);for(let _0x169890=0xf7*-0x8+-0x731+-0x1*-0xee9;_0x169890<_0x111967['added']['length'];_0x169890++)this['_addInputS'+'ource'](_0x111967['added'][_0x169890]);}['_getByInpu'+'tSource'](_0x4e81d7){for(let _0x30a5fe=-0x25e8+-0x10*-0x1c+0x1214*0x2;_0x30a5fe<this['_inputSour'+'ces']['length'];_0x30a5fe++)if(this['_inputSour'+'ces'][_0x30a5fe]['inputSourc'+'e']===_0x4e81d7)return this['_inputSour'+'ces'][_0x30a5fe];return null;}['_removeApp'+'Entity'](_0x429ed3){const _0x374ddd=this['manager']['app']['root']['findByName']('Armature_'+_0x429ed3);_0x374ddd&&this['manager']['app']['root']['removeChil'+'d'](_0x374ddd);}['_addInputS'+'ource'](_0x11df56){if(this['_removeApp'+'Entity'](_0x11df56['handedness']),this['_getByInpu'+'tSource'](_0x11df56))return;const _0x1f03a9=new Qt(this['manager'],_0x11df56);this['_inputSour'+'ces']['push'](_0x1f03a9),this['fire']('add',_0x1f03a9);}['_removeInp'+'utSource'](_0x4ef0b9){for(let _0x299dc5=-0x6*-0x4f5+0x496*-0x2+0x1*-0x1492;_0x299dc5<this['_inputSour'+'ces']['length'];_0x299dc5++){if(this['_inputSour'+'ces'][_0x299dc5]['inputSourc'+'e']!==_0x4ef0b9)continue;const _0xcfefbc=this['_inputSour'+'ces'][_0x299dc5];this['_inputSour'+'ces']['splice'](_0x299dc5,0x2297+0x8c9+-0x2b5f);let _0x178cb0=_0xcfefbc['hitTestSou'+'rces']['length'];for(;_0x178cb0--;)_0xcfefbc['hitTestSou'+'rces'][_0x178cb0]['remove']();this['_removeApp'+'Entity'](_0xcfefbc['handedness']),_0xcfefbc['fire']('remove'),this['fire']('remove',_0xcfefbc);return;}}['update'](_0x5deedd){for(let _0x54e7d7=0x202a+0xb70+0x2b9a*-0x1;_0x54e7d7<this['_inputSour'+'ces']['length'];_0x54e7d7++)this['_inputSour'+'ces'][_0x54e7d7]['update'](_0x5deedd);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}h(Li,'EVENT_ADD','add'),h(Li,'EVENT_REMO'+'VE','remove'),h(Li,'EVENT_SELE'+'CT','select'),h(Li,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Li,'EVENT_SELE'+'CTEND','selectend'),h(Li,'EVENT_SQUE'+'EZE','squeeze'),h(Li,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Li,'EVENT_SQUE'+'EZEEND','squeezeend');const Ja=new D(),IS=new D(),Lf=new te(),LS=new te();class Zu extends me{constructor(_0x516267){super(),h(this,'_manager'),h(this,'_supported',!(0x1026+-0xbe4+-0x441)),h(this,'_available',!(0x4*0x1e5+0x196a*0x1+-0x20fd)),h(this,'_lightProb'+'eRequested',!(0x24b7+-0x72a+0x3e*-0x7a)),h(this,'_lightProb'+'e',null),h(this,'_intensity',-0x1d7d*0x1+-0x1*-0xec7+0x75b*0x2),h(this,'_rotation',new le()),h(this,'_color',new ie()),h(this,'_spherical'+'Harmonics',new Float32Array(-0x1a84+-0x2b*-0xb0+-0x2f1)),(this['_manager']=_0x516267,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(-0x5db+-0x5b3*0x2+0x1141));}['_onSession'+'End'](){this['_supported']=!(0x681+-0x1*-0xd87+-0x1407),this['_available']=!(-0xbef+0x652+0x59e),this['_lightProb'+'eRequested']=!(0x1d91+-0x1d*-0x12a+-0x3f52),this['_lightProb'+'e']=null;}['start'](){let _0x46b271;if(this['_manager']['session']||(_0x46b271=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x46b271&&this['_manager']['type']!==$o&&(_0x46b271=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x46b271&&!this['_supported']&&(_0x46b271=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x46b271&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x46b271=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x46b271){this['fire']('error',_0x46b271);return;}this['_lightProb'+'eRequested']=!(-0x22df+-0x1ce2+0x3fc1),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x6ea180=>{const _0x1f467d=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0x5*0x54e+-0xa*-0x1c9+-0x2c5f),this['_manager']['active']?_0x1f467d&&(this['_lightProb'+'e']=_0x6ea180):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x1867bd=>{this['_lightProb'+'eRequested']=!(-0x29*0x61+-0x2416+0x33a0),this['fire']('error',_0x1867bd);});}['end'](){this['_lightProb'+'eRequested']=!(0x3*0x79c+0x305*0x9+-0xc8*0x40),this['_lightProb'+'e']=null,this['_available']=!(-0x2a7*0x8+0xb4c*-0x3+0x1*0x371d);}['update'](_0x5c8b2b){if(!this['_lightProb'+'e'])return;const _0x10d6b6=_0x5c8b2b['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x10d6b6)return;this['_available']||(this['_available']=!(-0x2*-0x101f+-0xca2+-0x139c),this['fire']('available'));const _0x3e82f7=_0x10d6b6['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](0x25b3+0x5eb+-0x2b9d,Math['max'](_0x3e82f7['x'],Math['max'](_0x3e82f7['y'],_0x3e82f7['z']))),Ja['copy'](_0x3e82f7)['mulScalar']((-0x1*-0xa3a+-0x2*-0xfdd+0x1*-0x29f3)/this['_intensity']),this['_color']['set'](Ja['x'],Ja['y'],Ja['z']),Ja['set'](-0x13*0x107+0x8bf*-0x2+0x2503,0x3*-0x7db+-0xa*-0xb1+0x93*0x1d,-0x1*-0xe9b+0x4*-0x929+-0x1609*-0x1),IS['copy'](_0x10d6b6['primaryLig'+'htDirectio'+'n']),Lf['setLookAt'](IS,Ja,D['UP']),LS['setFromAxi'+'sAngle'](D['RIGHT'],-0x20*-0x2f+-0x14b*0xd+0xb49),Lf['mul'](LS),this['_rotation']['setFromMat'+'4'](Lf),this['_spherical'+'Harmonics']['set'](_0x10d6b6['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}h(Zu,'EVENT_AVAI'+'LABLE','available'),h(Zu,'EVENT_ERRO'+'R','error');let mU=0x24a9+-0x1923+0x32*-0x3b;class Qu extends me{constructor(_0x2512f3,_0x3b11e2){super(),h(this,'_id'),h(this,'_planeDete'+'ction'),h(this,'_xrPlane'),h(this,'_lastChang'+'edTime'),h(this,'_orientati'+'on'),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_id']=++mU,this['_planeDete'+'ction']=_0x2512f3,this['_xrPlane']=_0x3b11e2,this['_lastChang'+'edTime']=_0x3b11e2['lastChange'+'dTime'],this['_orientati'+'on']=_0x3b11e2['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x16c7ed){const _0x5c8187=this['_planeDete'+'ction']['_manager'],_0x1e6051=_0x16c7ed['getPose'](this['_xrPlane']['planeSpace'],_0x5c8187['_reference'+'Space']);_0x1e6051&&(this['_position']['copy'](_0x1e6051['transform']['position']),this['_rotation']['copy'](_0x1e6051['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}h(Qu,'EVENT_REMO'+'VE','remove'),h(Qu,'EVENT_CHAN'+'GE','change');class Do extends me{constructor(_0x2c5c5f){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRPlane']),h(this,'_available',!(-0xd7e+0x1*-0xbc9+0x1948)),h(this,'_planesInd'+'ex',new Map()),h(this,'_planes',[]),(this['_manager']=_0x2c5c5f,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(-0x1633*0x1+-0x1*0x10f1+0x1*0x2725)&&(this['_available']=!(-0xce*-0x24+-0x1b31+-0x1c7),this['fire']('available'));}['_onSession'+'End'](){for(let _0x4d7b9f=0x1*-0xbcb+-0x1fd2+0x2b9d;_0x4d7b9f<this['_planes']['length'];_0x4d7b9f++)this['_planes'][_0x4d7b9f]['destroy'](),this['fire']('remove',this['_planes'][_0x4d7b9f]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=-0x14d9*0x1+0x27*0x35+0xcc6,this['_available']&&(this['_available']=!(-0x1609+-0x79c+-0x45*-0x6e),this['fire']('unavailabl'+'e'));}['update'](_0xef3553){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0xef3553['detectedPl'+'anes']['size'])this['_available']=!(-0x1da5+-0x1*-0x1b9a+-0x20b*-0x1),this['fire']('available');else return;}const _0x4b1f30=_0xef3553['detectedPl'+'anes'];for(const [_0x4500f8,_0x5cb2b5]of this['_planesInd'+'ex'])_0x4b1f30['has'](_0x4500f8)||(this['_planesInd'+'ex']['delete'](_0x4500f8),this['_planes']['splice'](this['_planes']['indexOf'](_0x5cb2b5),0x209+0x1b1*0x5+-0xa7d),_0x5cb2b5['destroy'](),this['fire']('remove',_0x5cb2b5));for(const _0x3281b4 of _0x4b1f30){let _0x1f044e=this['_planesInd'+'ex']['get'](_0x3281b4);_0x1f044e?_0x1f044e['update'](_0xef3553):(_0x1f044e=new Qu(this,_0x3281b4),this['_planesInd'+'ex']['set'](_0x3281b4,_0x1f044e),this['_planes']['push'](_0x1f044e),_0x1f044e['update'](_0xef3553),this['fire']('add',_0x1f044e));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}h(Do,'EVENT_AVAI'+'LABLE','available'),h(Do,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Do,'EVENT_ADD','add'),h(Do,'EVENT_REMO'+'VE','remove');class Io extends me{constructor(_0x19f49d,_0x2568fc,_0x1e3f6c=null){super(),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_uuid',null),h(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x19f49d,this['_xrAnchor']=_0x2568fc,this['_uuid']=_0x1e3f6c);}['destroy'](){if(!this['_xrAnchor'])return;const _0xc44659=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0xc44659,this);}['update'](_0x956283){if(!this['_xrAnchor'])return;const _0x1bcf92=_0x956283['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x1bcf92){if(this['_position']['equals'](_0x1bcf92['transform']['position'])&&this['_rotation']['equals'](_0x1bcf92['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x1bcf92['transform']['position']),this['_rotation']['copy'](_0x1bcf92['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x12f18c){if(!this['_anchors']['persistenc'+'e']){_0x12f18c==null||_0x12f18c(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x12f18c==null||_0x12f18c(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x12f18c&&this['_uuidReque'+'sts']['push'](_0x12f18c);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0xe4cb7e=>{this['_uuid']=_0xe4cb7e,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x12f18c==null||_0x12f18c(null,_0xe4cb7e);for(const _0x11510e of this['_uuidReque'+'sts'])_0x11510e(null,_0xe4cb7e);this['_uuidReque'+'sts']=null,this['fire']('persist',_0xe4cb7e);})['catch'](_0x115e47=>{_0x12f18c==null||_0x12f18c(_0x115e47,null);for(const _0x341836 of this['_uuidReque'+'sts'])_0x341836(_0x115e47,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x4e6900){if(!this['_uuid']){_0x4e6900==null||_0x4e6900(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x5e30da=>{this['_uuid']=null,_0x4e6900==null||_0x4e6900(_0x5e30da),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}h(Io,'EVENT_DEST'+'ROY','destroy'),h(Io,'EVENT_CHAN'+'GE','change'),h(Io,'EVENT_PERS'+'IST','persist'),h(Io,'EVENT_FORG'+'ET','forget');var VS;class on extends me{constructor(_0x4b25c2){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!window['XRAnchor']),h(this,'_available',!(0x62*0x33+0x4d6+0x185b*-0x1)),h(this,'_checkingA'+'vailabilit'+'y',!(-0x23a+-0x8*0x13d+0xc23)),h(this,'_persisten'+'ce',Ae['browser']&&!!((VS=window==null?void(0x2*-0x985+0x232b+-0x1021):window['XRSession'])!=null&&VS['prototype']['restorePer'+'sistentAnc'+'hor'])),h(this,'_creationQ'+'ueue',[]),h(this,'_index',new Map()),h(this,'_indexByUu'+'id',new Map()),h(this,'_list',[]),h(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x4b25c2,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){var _0x6c2b4e;const _0x5ec152=((_0x6c2b4e=this['manager']['session']['enabledFea'+'tures'])==null?void(0x1*0x1dbd+-0xac1*0x1+0xf3*-0x14):_0x6c2b4e['indexOf']('anchors'))>=-0x1*0x10ff+0x1944+-0x845*0x1;_0x5ec152&&(this['_available']=_0x5ec152,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(-0x1*0x13c2+0xca5+-0x2*-0x38f);for(let _0x42eaad=-0x4*-0x490+-0xdb1+-0x48f;_0x42eaad<this['_creationQ'+'ueue']['length'];_0x42eaad++)this['_creationQ'+'ueue'][_0x42eaad]['callback']&&this['_creationQ'+'ueue'][_0x42eaad]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=0x10b9+-0x2*-0x47a+-0x1*0x19ad,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x3f56fd=this['_list']['length'];for(;_0x3f56fd--;)this['_list'][_0x3f56fd]['destroy']();this['_list']['length']=0x24*-0x42+0xec7+-0x57f*0x1,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x303c28,_0x4b2e29=null){const _0x5c370d=new Io(this,_0x303c28,_0x4b2e29);return this['_index']['set'](_0x303c28,_0x5c370d),_0x4b2e29&&this['_indexByUu'+'id']['set'](_0x4b2e29,_0x5c370d),this['_list']['push'](_0x5c370d),_0x5c370d['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x5c370d;}['_onAnchorD'+'estroy'](_0x4c7496,_0x5c1b2a){this['_index']['delete'](_0x4c7496),_0x5c1b2a['uuid']&&this['_indexByUu'+'id']['delete'](_0x5c1b2a['uuid']);const _0x144dba=this['_list']['indexOf'](_0x5c1b2a);_0x144dba!==-(0x7*-0x2af+-0x672+0x286*0xa)&&this['_list']['splice'](_0x144dba,0x1eb0+0x1529*0x1+-0xcf6*0x4),this['fire']('destroy',_0x5c1b2a);}['create'](_0x53705b,_0x46ad0a,_0x2f2915){if(!this['_available']){_0x2f2915==null||_0x2f2915(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x53705b instanceof XRHitTestResult){const _0xf68065=_0x53705b;if(_0x2f2915=_0x46ad0a,!this['_supported']){_0x2f2915==null||_0x2f2915(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0xf68065['createAnch'+'or']){_0x2f2915==null||_0x2f2915(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0xf68065['createAnch'+'or']()['then'](_0x1a2cd7=>{const _0x460e87=this['_createAnc'+'hor'](_0x1a2cd7);_0x2f2915==null||_0x2f2915(null,_0x460e87),this['fire']('add',_0x460e87);})['catch'](_0x362033=>{_0x2f2915==null||_0x2f2915(_0x362033,null),this['fire']('error',_0x362033);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x53705b,_0x46ad0a),'callback':_0x2f2915});}['restore'](_0x16b911,_0x21f5a4){if(!this['_available']){_0x21f5a4==null||_0x21f5a4(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x21f5a4==null||_0x21f5a4(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x21f5a4==null||_0x21f5a4(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x16b911)['then'](_0x47e3b4=>{const _0x52cc3e=this['_createAnc'+'hor'](_0x47e3b4,_0x16b911);_0x21f5a4==null||_0x21f5a4(null,_0x52cc3e),this['fire']('add',_0x52cc3e);})['catch'](_0x5ebda2=>{_0x21f5a4==null||_0x21f5a4(_0x5ebda2,null),this['fire']('error',_0x5ebda2);});}['forget'](_0x380fa3,_0x3064b3){if(!this['_available']){_0x3064b3==null||_0x3064b3(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x3064b3==null||_0x3064b3(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x3064b3==null||_0x3064b3(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x380fa3)['then'](()=>{_0x3064b3==null||_0x3064b3(null);})['catch'](_0x535ba5=>{_0x3064b3==null||_0x3064b3(_0x535ba5),this['fire']('error',_0x535ba5);});}['update'](_0x10155e){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(-0x1a11+0x1de8+-0x1*0x3d7),_0x10155e['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x5a3fc8=>{_0x5a3fc8['delete'](),this['manager']['active']&&(this['_available']=!(0x6d+0x205b+-0x20c8),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x5503c0=-0x176d*-0x1+0x18c+-0x18f9;_0x5503c0<this['_creationQ'+'ueue']['length'];_0x5503c0++){const _0x57a1d4=this['_creationQ'+'ueue'][_0x5503c0];_0x10155e['createAnch'+'or'](_0x57a1d4['transform'],this['manager']['_reference'+'Space'])['then'](_0x51c75d=>{_0x57a1d4['callback']&&this['_callbacks'+'Anchors']['set'](_0x51c75d,_0x57a1d4['callback']);})['catch'](_0x3d87a6=>{_0x57a1d4['callback']&&_0x57a1d4['callback'](_0x3d87a6,null),this['fire']('error',_0x3d87a6);});}this['_creationQ'+'ueue']['length']=-0x140e+0x443+0xfcb*0x1;}for(const [_0x4dc988,_0xcf4785]of this['_index'])_0x10155e['trackedAnc'+'hors']['has'](_0x4dc988)||(this['_index']['delete'](_0x4dc988),_0xcf4785['destroy']());for(let _0x433c49=0x1a*-0x4c+-0x6*0x33b+-0xd8d*-0x2;_0x433c49<this['_list']['length'];_0x433c49++)this['_list'][_0x433c49]['update'](_0x10155e);for(const _0x411ced of _0x10155e['trackedAnc'+'hors']){if(this['_index']['has'](_0x411ced))continue;try{const _0x182e4a=_0x411ced['anchorSpac'+'e'];}catch{continue;}const _0xf9ec4d=this['_createAnc'+'hor'](_0x411ced);_0xf9ec4d['update'](_0x10155e);const _0xe6c9d3=this['_callbacks'+'Anchors']['get'](_0x411ced);_0xe6c9d3&&(this['_callbacks'+'Anchors']['delete'](_0x411ced),_0xe6c9d3(null,_0xf9ec4d)),this['fire']('add',_0xf9ec4d);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}h(on,'EVENT_AVAI'+'LABLE','available'),h(on,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(on,'EVENT_ERRO'+'R','error'),h(on,'EVENT_ADD','add'),h(on,'EVENT_DEST'+'ROY','destroy');class Ju extends me{constructor(_0xf65bd8,_0x535d55){super(),h(this,'_meshDetec'+'tion'),h(this,'_xrMesh'),h(this,'_lastChang'+'ed',-0xd63+0x53f*-0x3+0xe90*0x2),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_meshDetec'+'tion']=_0xf65bd8,this['_xrMesh']=_0x535d55,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x427ce4){const _0x4d2aa9=this['_meshDetec'+'tion']['_manager'],_0x24ecbd=_0x427ce4['getPose'](this['_xrMesh']['meshSpace'],_0x4d2aa9['_reference'+'Space']);_0x24ecbd&&(this['_position']['copy'](_0x24ecbd['transform']['position']),this['_rotation']['copy'](_0x24ecbd['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}h(Ju,'EVENT_REMO'+'VE','remove'),h(Ju,'EVENT_CHAN'+'GE','change');class Lo extends me{constructor(_0x220976){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRMesh']),h(this,'_available',!(0x1*-0x29+0x89*-0x9+0x5*0xff)),h(this,'_index',new Map()),h(this,'_list',[]),(this['_manager']=_0x220976,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x4d59d8){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x4d59d8['detectedMe'+'shes']['size'])this['_available']=!(-0x39*0x76+-0xb00+-0x2de*-0xd),this['fire']('available');else return;}for(const _0x54fa4e of _0x4d59d8['detectedMe'+'shes']){let _0x51f602=this['_index']['get'](_0x54fa4e);_0x51f602?_0x51f602['update'](_0x4d59d8):(_0x51f602=new Ju(this,_0x54fa4e),this['_index']['set'](_0x54fa4e,_0x51f602),this['_list']['push'](_0x51f602),_0x51f602['update'](_0x4d59d8),this['fire']('add',_0x51f602));}for(const _0x42e5ee of this['_index']['values']())_0x4d59d8['detectedMe'+'shes']['has'](_0x42e5ee['xrMesh'])||this['_removeMes'+'h'](_0x42e5ee);}['_removeMes'+'h'](_0x2dddc0){this['_index']['delete'](_0x2dddc0['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x2dddc0),0x1421+0x1a05+-0x2e25),_0x2dddc0['destroy'](),this['fire']('remove',_0x2dddc0);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x58b1a5=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(0x1*0x115+-0x4*0x23c+-0x7dc*-0x1);if(!_0x58b1a5)return;this['_available']=_0x58b1a5,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x2fd+-0x43a*0x4+0xdec);for(const _0x6d8dc4 of this['_index']['values']())this['_removeMes'+'h'](_0x6d8dc4);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}h(Lo,'EVENT_AVAI'+'LABLE','available'),h(Lo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Lo,'EVENT_ADD','add'),h(Lo,'EVENT_REMO'+'VE','remove');class O0 extends me{constructor(_0x3f9b0e,_0x424e9f,_0x5934b1){super(),h(this,'_manager'),h(this,'_xrView'),h(this,'_positionD'+'ata',new Float32Array(-0xbae+0x2*0xf17+-0x127d)),h(this,'_viewport',new re()),h(this,'_projMat',new te()),h(this,'_projViewO'+'ffMat',new te()),h(this,'_viewMat',new te()),h(this,'_viewOffMa'+'t',new te()),h(this,'_viewMat3',new _i()),h(this,'_viewInvMa'+'t',new te()),h(this,'_viewInvOf'+'fMat',new te()),h(this,'_xrCamera',null),h(this,'_textureCo'+'lor',null),h(this,'_textureDe'+'pth',null),h(this,'_depthInfo',null),h(this,'_emptyDept'+'hBuffer',new Uint8Array(0x2483+-0xd55+0x1*-0x170e)),h(this,'_depthMatr'+'ix',new te()),(this['_manager']=_0x3f9b0e,this['_xrView']=_0x424e9f);const _0x4b7656=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new _e(_0x4b7656,{'format':Cr,'mipmaps':!(-0x2b*0xc7+-0x1*0x1958+0x1*0x3ac6),'addressU':ue,'addressV':ue,'minFilter':vt,'magFilter':vt,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x996eff=this['_manager']['views']['depthGpuOp'+'timized']?Te:vt;this['_textureDe'+'pth']=new _e(_0x4b7656,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x5934b1===-0x53a+-0x10*0x100+0x153b?0xf77+0xb22+0x1a99*-0x1:_0x5934b1,'mipmaps':!(-0x2b0+-0x2276+-0x1*-0x2527),'addressU':ue,'addressV':ue,'minFilter':_0x996eff,'magFilter':_0x996eff,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x4bd495=-0x75c+0x14b5+-0xd59;_0x4bd495<this['_textureDe'+'pth']['_levels']['length'];_0x4bd495++)this['_textureDe'+'pth']['_levels'][_0x4bd495]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x4b7656['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x3b0df1;return((_0x3b0df1=this['_depthInfo'])==null?void(0x191b*0x1+0x15f1+-0x2f0c):_0x3b0df1['rawValueTo'+'Meters'])||-0x1*-0x73f+0x1417+-0x1b56;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x4f26a3,_0x4ed34e){this['_xrView']=_0x4ed34e,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x6d6af0=_0x4f26a3['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x6d6af0['x'],this['_viewport']['y']=_0x6d6af0['y'],this['_viewport']['z']=_0x6d6af0['width'],this['_viewport']['w']=_0x6d6af0['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x4f26a3);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x2e43bf=this['_manager']['webglBindi'+'ng'];if(!_0x2e43bf)return;const _0x49cb33=_0x2e43bf['getCameraI'+'mage'](this['_xrCamera']);if(!_0x49cb33)return;const _0x2fd8a9=this['_manager']['app']['graphicsDe'+'vice'],_0x1cc6cb=_0x2fd8a9['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x1cc6cb['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x1cc6cb['createFram'+'ebuffer']();else{const _0x4c52aa=_0x1cc6cb['COLOR_ATTA'+'CHMENT0'],_0x55a584=this['_xrCamera']['width'],_0x5eea0b=this['_xrCamera']['height'];_0x2fd8a9['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x1cc6cb['framebuffe'+'rTexture2D'](_0x1cc6cb['FRAMEBUFFE'+'R'],_0x4c52aa,_0x1cc6cb['TEXTURE_2D'],_0x49cb33,0xc6d*-0x1+0x124+0xb49),_0x2fd8a9['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x1cc6cb['framebuffe'+'rTexture2D'](_0x1cc6cb['FRAMEBUFFE'+'R'],_0x4c52aa,_0x1cc6cb['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],-0x11f3*0x1+0x2260+-0x106d),_0x1cc6cb['bindFrameb'+'uffer'](_0x1cc6cb['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x1cc6cb['bindFrameb'+'uffer'](_0x1cc6cb['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x1cc6cb['blitFrameb'+'uffer'](0x1*0xf+0x1eab+-0x1eba,_0x5eea0b,_0x55a584,-0x1897*0x1+-0x1d9b*0x1+0x3632*0x1,0x11*0x72+0x1b02*-0x1+-0x4dc*-0x4,0x17ff*0x1+0x156+-0x1955*0x1,_0x55a584,_0x5eea0b,_0x1cc6cb['COLOR_BUFF'+'ER_BIT'],_0x1cc6cb['NEAREST']);}}['_updateDep'+'th'](_0x558786){var _0x171804,_0x53a98b;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x335f96=this['_manager']['views']['depthGpuOp'+'timized'],_0x3fa2cf=_0x335f96?this['_manager']['webglBindi'+'ng']:_0x558786;if(!_0x3fa2cf){this['_depthInfo']=null;return;}const _0x4aa8ad=_0x3fa2cf['getDepthIn'+'formation'](this['_xrView']);if(!_0x4aa8ad){this['_depthInfo']=null;return;}let _0x8be107=!this['_depthInfo']!=!_0x4aa8ad;this['_depthInfo']=_0x4aa8ad;const _0x546ae7=((_0x171804=this['_depthInfo'])==null?void(0x4*-0x6fa+0x1412+0x7d6):_0x171804['width'])||-0x1*0xf40+-0x1a07+-0x155*-0x1f,_0x1e2515=((_0x53a98b=this['_depthInfo'])==null?void(0x47*-0x6+-0x3c1*-0x1+-0x217):_0x53a98b['height'])||-0x1787*0x1+-0x1*-0x20a9+0x3*-0x30a;let _0x59e0bf=!(-0xcf+-0x15e3+-0x1*-0x16b3);if((this['_textureDe'+'pth']['width']!==_0x546ae7||this['_textureDe'+'pth']['height']!==_0x1e2515)&&(this['_textureDe'+'pth']['_width']=_0x546ae7,this['_textureDe'+'pth']['_height']=_0x1e2515,_0x8be107=!(0x1136+-0x1dcc+0xc96),_0x59e0bf=!(-0x5*0x435+-0x1b21+0x302a)),_0x8be107&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x335f96){if(this['_depthInfo']['texture']){const _0x583e5d=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x583e5d['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x583e5d['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ji:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x583e5d['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x583e5d['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x583e5d['RED'];break;case $i:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x583e5d['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x583e5d['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x583e5d['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(0x115*0x1f+0x1d*0x9a+-0x3*0x10ff);}}else this['_textureDe'+'pth']['_levels'][0x2345+0x1*-0x1b99+-0x7ac]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][-0xf65+-0x1d8b+0x2cf0]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x59e0bf&&this['fire']('depth:resi'+'ze',_0x546ae7,_0x1e2515);}['updateTran'+'sforms'](_0x20d825){_0x20d825?(this['_viewInvOf'+'fMat']['mul2'](_0x20d825,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][0x105+-0xfaf+-0x2*-0x755]=this['_viewInvOf'+'fMat']['data'][-0x1*0x1d3+-0x1af5+0x1cd4],this['_positionD'+'ata'][0x10f2+0x1147*0x2+-0x337f]=this['_viewInvOf'+'fMat']['data'][-0x2267+0x1a65+0x1*0x80f],this['_positionD'+'ata'][0x6*0x213+0x3*0x2d6+-0x14f2]=this['_viewInvOf'+'fMat']['data'][-0x1d5d+0xd*-0x1b6+0x33a9];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x563e7c,_0x1b3496){var _0x25bfd0;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x25bfd0=this['_depthInfo'])==null?void(-0x13e5+-0x1f*-0xa8+-0x73):_0x25bfd0['getDepthIn'+'Meters'](_0x563e7c,_0x1b3496))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0xad3e88=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0xad3e88['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0xad3e88['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}h(O0,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class Bh extends me{constructor(_0xcba4b5){super(),h(this,'_manager'),h(this,'_index',new Map()),h(this,'_indexTmp',new Map()),h(this,'_list',[]),h(this,'_supported'+'Color',Ae['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),h(this,'_supported'+'Depth',Ae['browser']&&!!window['XRDepthInf'+'ormation']),h(this,'_available'+'Color',!(0x18cc+0x112*0x13+-0x2d21)),h(this,'_available'+'Depth',!(0x8e2+0x1*-0x727+-0x1ba)),h(this,'_depthUsag'+'e',''),h(this,'_depthForm'+'at',''),h(this,'_depthForm'+'ats',{[M0]:ap,[D0]:$i,[I0]:Ji}),(this['_manager']=_0xcba4b5,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===P0;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x1111b6,_0x3c72e4){for(let _0x4ce1ff=-0x1*-0x305+-0x883*0x3+-0x106*-0x16;_0x4ce1ff<_0x3c72e4['length'];_0x4ce1ff++)this['_indexTmp']['set'](_0x3c72e4[_0x4ce1ff]['eye'],_0x3c72e4[_0x4ce1ff]);for(const [_0x36da2c,_0x4ca805]of this['_indexTmp']){let _0x29dd7c=this['_index']['get'](_0x36da2c);_0x29dd7c?_0x29dd7c['update'](_0x1111b6,_0x4ca805):(_0x29dd7c=new O0(this['_manager'],_0x4ca805,_0x3c72e4['length']),this['_index']['set'](_0x36da2c,_0x29dd7c),this['_list']['push'](_0x29dd7c),_0x29dd7c['update'](_0x1111b6,_0x4ca805),this['fire']('add',_0x29dd7c));}for(const [_0x30b319,_0x3908a3]of this['_index']){if(this['_indexTmp']['has'](_0x30b319))continue;_0x3908a3['destroy'](),this['_index']['delete'](_0x30b319);const _0x194f08=this['_list']['indexOf'](_0x3908a3);_0x194f08!==-(-0x2a1+-0x1*0x22b1+0x2553)&&this['_list']['splice'](_0x194f08,0x1c*-0x4d+0x1*-0x1972+-0x179*-0x17),this['fire']('remove',_0x3908a3);}this['_indexTmp']['clear']();}['get'](_0x108c0d){return this['_index']['get'](_0x108c0d)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===$o&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(0xa88+0x26ce+0x3155*-0x1),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(0x1a*0x146+0x244d*-0x1+0x332*0x1),this['_available'+'Depth'])){const _0xc1eb7f=this['_manager']['session'];this['_depthUsag'+'e']=_0xc1eb7f['depthUsage'],this['_depthForm'+'at']=_0xc1eb7f['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x3e78a0 of this['_index']['values']())_0x3e78a0['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(-0x26ec+-0x1*0x17+0x2704),this['_available'+'Depth']=!(-0x1a05*-0x1+-0x1*-0x14fb+-0x35*0xe3),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=-0x100b*-0x1+-0x2380*-0x1+-0x5*0xa4f;}}h(Bh,'EVENT_ADD','add'),h(Bh,'EVENT_REMO'+'VE','remove');class ln extends me{constructor(_0x37c306){super(),h(this,'app'),h(this,'_supported',Ae['browser']&&!!navigator['xr']),h(this,'_available',{}),h(this,'_type',null),h(this,'_spaceType',null),h(this,'_session',null),h(this,'_baseLayer',null),h(this,'webglBindi'+'ng',null),h(this,'_reference'+'Space',null),h(this,'domOverlay'),h(this,'hitTest'),h(this,'imageTrack'+'ing'),h(this,'planeDetec'+'tion'),h(this,'meshDetect'+'ion'),h(this,'input'),h(this,'lightEstim'+'ation'),h(this,'views'),h(this,'anchors'),h(this,'_camera',null),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_depthNear',0xf*-0xca+0x3*-0xcb9+0x1*0x3201+0.1),h(this,'_depthFar',-0x323+-0x3b9*-0xa+-0x1*0x1e2f),h(this,'_supported'+'FrameRates',null),h(this,'_width',-0x1162+-0x1*0x26b9+0x381b),h(this,'_height',-0x24ca+-0x7cc*-0x1+0x1cfe),h(this,'_framebuff'+'erScaleFac'+'tor',-0x5dd+-0x1c9*-0x6+-0x4d8),(this['app']=_0x37c306,this['_available'][lU]=!(-0x9c2*0x2+0x183f+-0x4ba),this['_available'][cU]=!(-0x1b13+0x45+0x1acf),this['_available'][$o]=!(0x1*0x1a26+-0x34d+-0x16d8),this['views']=new Bh(this),this['domOverlay']=new fU(this),this['hitTest']=new jr(this),this['imageTrack'+'ing']=new L0(this),this['planeDetec'+'tion']=new Do(this),this['meshDetect'+'ion']=new Lo(this),this['input']=new Li(this),this['lightEstim'+'ation']=new Zu(this),this['anchors']=new on(this),this['views']=new Bh(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)),this['isPC']=z0());}['destroy'](){}['start'](_0x19c3f4,_0x435e09,_0x105810,_0x3f0820){let _0x11aa8c=_0x3f0820;if(typeof _0x3f0820=='object'&&(_0x11aa8c=_0x3f0820['callback']),!this['_available'][_0x435e09]){_0x11aa8c&&_0x11aa8c(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x11aa8c&&_0x11aa8c(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x19c3f4,this['_camera']['camera']['xr']=this,this['_type']=_0x435e09,this['_spaceType']=_0x105810,this['_framebuff'+'erScaleFac'+'tor']=(_0x3f0820==null?void(0x1c1e+-0x6*0x21a+-0xf82):_0x3f0820['framebuffe'+'rScaleFact'+'or'])??-0x2034+-0x22ae+0x42e3,this['_setClipPl'+'anes'](_0x19c3f4['nearClip'],_0x19c3f4['farClip']);const _0x482654={'requiredFeatures':[_0x105810],'optionalFeatures':[]},_0x56e35d=this['app']['graphicsDe'+'vice'];_0x56e35d!=null&&_0x56e35d['isWebGPU']&&_0x482654['requiredFe'+'atures']['push']('webgpu');const _0x550fda=_0x56e35d==null?void(-0x1bd*-0x4+-0x2572*0x1+0x3*0xa2a):_0x56e35d['isWebGL2'];if(_0x435e09===$o){if(_0x482654['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x482654['optionalFe'+'atures']['push']('hit-test'),_0x3f0820&&(_0x3f0820['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x482654['optionalFe'+'atures']['push']('image-trac'+'king'),_0x3f0820['planeDetec'+'tion']&&_0x482654['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x3f0820['meshDetect'+'ion']&&_0x482654['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x482654['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x482654['domOverlay']={'root':this['domOverlay']['root']}),_0x3f0820&&_0x3f0820['anchors']&&this['anchors']['supported']&&_0x482654['optionalFe'+'atures']['push']('anchors'),_0x3f0820&&_0x3f0820['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x482654['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x35f2fb=[],_0x493022=[];if(_0x35f2fb['push'](P0,dU),_0x493022['push'](I0,M0,D0),_0x3f0820['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x4e7c15=_0x35f2fb['indexOf'](_0x3f0820['depthSensi'+'ng']['usagePrefe'+'rence']);_0x4e7c15!==-(-0x177b+-0xbf6*-0x2+-0x70)&&_0x35f2fb['splice'](_0x4e7c15,-0x6f6+0x27*0x7+-0x2*-0x2f3),_0x35f2fb['unshift'](_0x3f0820['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x3f0820['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x177d6a=_0x493022['indexOf'](_0x3f0820['depthSensi'+'ng']['dataFormat'+'Preference']);_0x177d6a!==-(0x425+0x14c7+-0x18eb)&&_0x493022['splice'](_0x177d6a,-0x15+-0x584*0x5+0x1baa),_0x493022['unshift'](_0x3f0820['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x482654['depthSensi'+'ng']={'usagePreference':_0x35f2fb,'dataFormatPreference':_0x493022};}_0x550fda&&_0x3f0820&&_0x3f0820['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x482654['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x482654['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x3f0820&&_0x3f0820['optionalFe'+'atures']&&(_0x482654['optionalFe'+'atures']=_0x482654['optionalFe'+'atures']['concat'](_0x3f0820['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x14fcfb,_0x522324)=>{if(_0x14fcfb){_0x11aa8c&&_0x11aa8c(_0x14fcfb),this['fire']('error',_0x14fcfb);return;}_0x522324!==null&&(_0x482654['trackedIma'+'ges']=_0x522324),this['_onStartOp'+'tionsReady'](_0x435e09,_0x105810,_0x482654,_0x11aa8c);}):this['_onStartOp'+'tionsReady'](_0x435e09,_0x105810,_0x482654,_0x11aa8c);}['_onStartOp'+'tionsReady'](_0x33d892,_0x2c98cb,_0x12bc9c,_0x50c9d3){const _0x43f673=this['isPC']?{'requiredFeatures':['local-floo'+'r']}:_0x12bc9c;navigator['xr']['requestSes'+'sion'](_0x33d892,_0x43f673)['then'](_0x2d2924=>{this['_onSession'+'Start'](_0x2d2924,_0x2c98cb,_0x50c9d3);})['catch'](_0x414995=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x50c9d3&&_0x50c9d3(_0x414995),this['fire']('error',_0x414995);});}['end'](_0x5ae990){if(!this['_session']){_0x5ae990&&_0x5ae990(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x5ae990&&this['once']('end',_0x5ae990),this['_session']['end']();}['isAvailabl'+'e'](_0x3de8b1){return this['_available'][_0x3de8b1];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x5e0377 in this['_available'])this['_sessionSu'+'pportCheck'](_0x5e0377);}['initiateRo'+'omCapture'](_0xf75ed8){if(!this['_session']){_0xf75ed8(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0xf75ed8(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0xf75ed8&&_0xf75ed8(null);})['catch'](_0x216565=>{_0xf75ed8&&_0xf75ed8(_0x216565);});}['updateTarg'+'etFrameRat'+'e'](_0x162502,_0xe9a4d0){var _0x12620f;if(!((_0x12620f=this['_session'])!=null&&_0x12620f['updateTarg'+'etFrameRat'+'e'])){_0xe9a4d0==null||_0xe9a4d0(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x162502)['then'](()=>{_0xe9a4d0==null||_0xe9a4d0();})['catch'](_0x23d4c3=>{_0xe9a4d0==null||_0xe9a4d0(_0x23d4c3);});}['_sessionSu'+'pportCheck'](_0x3f436d){navigator['xr']['isSessionS'+'upported'](_0x3f436d)['then'](_0x210846=>{this['_available'][_0x3f436d]!==_0x210846&&(this['_available'][_0x3f436d]=_0x210846,this['fire']('available',_0x3f436d,_0x210846),this['fire']('available:'+_0x3f436d,_0x210846));})['catch'](_0x976faa=>{this['fire']('error',_0x976faa);});}['_onSession'+'Start'](_0x3c0c28,_0x2dac44,_0x29fa1d){let _0x3ed890=!(0x1192+0x243c+0x1*-0x35cd);this['_session']=_0x3c0c28;const _0x2ecb71=()=>{this['fire']('visibility'+':change',_0x3c0c28['visibility'+'State']);},_0x1e4307=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x119add=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x1e4307),this['_camera']['off']('set_farCli'+'p',_0x1e4307),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x3c0c28['removeEven'+'tListener']('end',_0x119add),_0x3c0c28['removeEven'+'tListener']('visibility'+'change',_0x2ecb71),_0x3ed890||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=0xdfd*0x1+0x79*-0x23+0x2*0x147,this['_height']=0x11e6+0x3*-0x3ee+-0x61c,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x3c0c28['addEventLi'+'stener']('end',_0x119add),_0x3c0c28['addEventLi'+'stener']('visibility'+'change',_0x2ecb71),this['_camera']['on']('set_nearCl'+'ip',_0x1e4307),this['_camera']['on']('set_farCli'+'p',_0x1e4307),w['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x3603e5;this['fire']('frameratec'+'hange',(_0x3603e5=this['_session'])==null?void(-0x1e5e+0x2*0xa0c+-0xa46*-0x1):_0x3603e5['frameRate']);}),_0x3c0c28['requestRef'+'erenceSpac'+'e'](_0x2dac44)['then'](_0x4e5d26=>{this['_reference'+'Space']=_0x4e5d26,this['app']['tick'](),_0x29fa1d&&_0x29fa1d(null),this['fire']('start');})['catch'](_0x4e8d0a=>{_0x3ed890=!(0x5*0x457+-0x18a*0x4+0xf8b*-0x1),_0x3c0c28['end'](),_0x29fa1d&&_0x29fa1d(_0x4e8d0a),this['fire']('error',_0x4e8d0a);});}['_setClipPl'+'anes'](_0x42c700,_0x3ce6ec){this['_depthNear']===_0x42c700&&this['_depthFar']===_0x3ce6ec||(this['_depthNear']=_0x42c700,this['_depthFar']=_0x3ce6ec,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x9b403e=this['app']['graphicsDe'+'vice'],_0x12c84b=_0x9b403e['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x9b403e['gl'],{'alpha':!(0xa7f*-0x3+0x6d*0x47+-0x142*-0x1),'depth':!(-0x2615*-0x1+-0x2523+-0xf2),'stencil':!(0x25*-0xc1+0xa9f*-0x2+-0x7*-0x705),'framebufferScaleFactor':_0x12c84b,'antialias':!(0x2*-0xaf3+0x2*-0x166+0x18b3*0x1)}),_0x9b403e!=null&&_0x9b403e['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x9b403e['gl']);}catch(_0x497a55){this['fire']('error',_0x497a55);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0xfcd74d=>{this['fire']('error',_0xfcd74d);});},0x469*-0x1+0x13a0+-0x5*0x30b);}['update'](_0x4da1af){if(!this['_session'])return!(-0x1682*0x1+0x13d*0x15+-0x37e);const _0x23c679=_0x4da1af['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x102866=_0x4da1af['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x23c679||this['_height']!==_0x102866)&&(this['_width']=_0x23c679,this['_height']=_0x102866,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x23c679,_0x102866));const _0x463a49=_0x4da1af['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x463a49)return!(0x23d6+-0xf63*-0x2+-0x3eb*0x11);const _0x55d9eb=this['views']['list']['length'];this['views']['update'](_0x4da1af,_0x463a49['views']);const _0x114999=_0x463a49['transform']['position'],_0x5ad21a=_0x463a49['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x114999['x'],_0x114999['y'],_0x114999['z']),this['_localRota'+'tion']['set'](_0x5ad21a['x'],_0x5ad21a['y'],_0x5ad21a['z'],_0x5ad21a['w']),_0x55d9eb===-0xfdd+-0x2*0x6d3+0x5e7*0x5&&this['views']['list']['length']>-0x2353*-0x1+-0x1*0x1606+-0xf*0xe3){const _0xce2e98=new te(),_0x407944=this['views']['list'][0x5f*0x5f+-0x9d7+0x1*-0x196a];_0xce2e98['copy'](_0x407944['projMat']);const _0x34557e=_0xce2e98['data'],_0x409248=(0x4ad+-0x8*-0x1b1+-0x3*0x611)*Math['atan']((-0x1205+-0xefd+0x3*0xb01)/_0x34557e[0xf49+-0x47d*-0x3+0x5*-0x5bf])*(-0x4ef*0x1+-0x196c+-0x1f0f*-0x1)/Math['PI'],_0x28e4f4=_0x34557e[0x1*0x1d5c+-0x25ca+0x15*0x67]/_0x34557e[0x9*-0x2e2+-0x1be1+0x35d3],_0x34fe4f=_0x34557e[0x1d02+0x2040+-0x3d34]/(_0x34557e[0x2b8+-0x104e+-0x2*-0x6d0]+(0xc7e+-0x1f64+0x1*0x12e7)),_0x51fcb8=_0x34557e[0x3*-0x2e7+0x9fe+-0x3*0x69]/(_0x34557e[-0x47f*-0x2+0x130+-0xa24]-(-0x1f8+-0x2*0x269+0x1*0x6cb));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x28e4f4,'farClip':_0x34fe4f,'fov':_0x409248,'horizontalFov':!(0x544+-0x167*-0x7+-0xf14),'nearClip':_0x51fcb8});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x4da1af),this['_type']===$o&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x4da1af),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x4da1af),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x4da1af),this['anchors']['supported']&&this['anchors']['update'](_0x4da1af),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x4da1af),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x4da1af)),this['fire']('update',_0x4da1af),!(0x5e5+-0x1b58+0x1573);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x8b8834;return((_0x8b8834=this['_session'])==null?void(0x1357+0x1a*-0x5a+-0xa33):_0x8b8834['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x3509ee){var _0x51365f;(((_0x51365f=this['_baseLayer'])==null?void(0x181+0x2*-0xfce+0x1e1b*0x1):_0x51365f['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>-0xc76+-0x1*-0x21bf+0x6*-0x38c&&w['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x3509ee);}get['fixedFovea'+'tion'](){var _0xd59bd8;return((_0xd59bd8=this['_baseLayer'])==null?void(0x1de*0x2+0x88d*0x2+0xa6b*-0x2):_0xd59bd8['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}h(ln,'EVENT_AVAI'+'LABLE','available'),h(ln,'EVENT_STAR'+'T','start'),h(ln,'EVENT_END','end'),h(ln,'EVENT_UPDA'+'TE','update'),h(ln,'EVENT_ERRO'+'R','error');class $U extends Ks{constructor(_0x537214,_0x34e1c7={}){super(_0x537214);const _0x1024c7=new tL();_0x1024c7['graphicsDe'+'vice']=_0x34e1c7['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x537214,_0x34e1c7),this['addCompone'+'ntSystems'](_0x1024c7),this['addResourc'+'eHandles'](_0x1024c7),_0x1024c7['elementInp'+'ut']=_0x34e1c7['elementInp'+'ut'],_0x1024c7['keyboard']=_0x34e1c7['keyboard'],_0x1024c7['mouse']=_0x34e1c7['mouse'],_0x1024c7['touch']=_0x34e1c7['touch'],_0x1024c7['gamepads']=_0x34e1c7['gamepads'],_0x1024c7['scriptPref'+'ix']=_0x34e1c7['scriptPref'+'ix'],_0x1024c7['assetPrefi'+'x']=_0x34e1c7['assetPrefi'+'x'],_0x1024c7['scriptsOrd'+'er']=_0x34e1c7['scriptsOrd'+'er'],_0x1024c7['soundManag'+'er']=new Pw(),_0x1024c7['lightmappe'+'r']=pL,_0x1024c7['batchManag'+'er']=IE,_0x1024c7['xr']=ln,this['init'](_0x1024c7);}['createDevi'+'ce'](_0x417185,_0x41b8bb){return _0x41b8bb['graphicsDe'+'viceOption'+'s']||(_0x41b8bb['graphicsDe'+'viceOption'+'s']={}),Ae['browser']&&navigator['xr']&&(_0x41b8bb['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(0x806*0x4+-0x1263+0x79*-0x1d)),_0x41b8bb['graphicsDe'+'viceOption'+'s']['alpha']=_0x41b8bb['graphicsDe'+'viceOption'+'s']['alpha']||!(0x1a0f+0x3*-0xb+-0x19ed),new aw(_0x417185,_0x41b8bb['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x33800f){_0x33800f['componentS'+'ystems']=[wm,nR,NR,RL,BL,KR,zO,xF,wF,kF,hF,VL,kO,YO,LR,$L,aF,oF,mF,XR,UR,gF,BF];}['addResourc'+'eHandles'](_0x1df4d2){_0x1df4d2['resourceHa'+'ndlers']=[zF,WN,$N,XN,Ek,yk,oU,Ok,mk,jN,Dk,bk,JN,pk,QN,Ik,uk,ek,tk,YN,Nk,Lk,Rk,ZN,fk];}}class XU extends me{constructor(_0x2023cb,_0x530884){super(),h(this,'_assets',new Set()),h(this,'_loadingAs'+'sets',new Set()),h(this,'_waitingAs'+'sets',new Set()),h(this,'_loading',!(0x1d47+-0x15d*0x5+0x1*-0x1675)),h(this,'_loaded',!(0xd85+-0xc5c+-0x128)),h(this,'_failed',[]),(this['_registry']=_0x530884,_0x2023cb['forEach'](_0x2e50a0=>{if(_0x2e50a0 instanceof pe)_0x2e50a0['registry']||(_0x2e50a0['registry']=_0x530884),this['_assets']['add'](_0x2e50a0);else{const _0x32e847=_0x530884['get'](_0x2e50a0);_0x32e847?this['_assets']['add'](_0x32e847):this['_waitForAs'+'set'](_0x2e50a0);}}));}['destroy'](){this['_registry']['off']('load',this['_onLoad']),this['_registry']['off']('error',this['_onError']),this['_waitingAs'+'sets']['forEach'](_0x50bce6=>{this['_registry']['off']('add:'+_0x50bce6,this['_onAddAsse'+'t']);}),this['off']('progress'),this['off']('load');}['_assetHasD'+'ependencie'+'s'](_0xa751dd){var _0x9d2182;return _0xa751dd['type']==='model'&&((_0x9d2182=_0xa751dd['file'])==null?void(-0x1dc3*0x1+-0xd6b+0x2b2e):_0x9d2182['url'])&&_0xa751dd['file']['url']&&_0xa751dd['file']['url']['match'](/.json$/g);}['load'](_0x57290f,_0x16934a){if(this['_loading']){console['debug']('AssetListL'+'oader:\x20Loa'+'d\x20function'+'\x20called\x20mu'+'ltiple\x20tim'+'es.');return;}this['_loading']=!(0x1f9f+-0x1d*-0x83+-0x2e76),this['_callback']=_0x57290f,this['_scope']=_0x16934a,this['_registry']['on']('load',this['_onLoad'],this),this['_registry']['on']('error',this['_onError'],this);let _0x53a413=!(0x1*-0xb2b+-0x1*-0x2673+-0x1b47);this['_assets']['forEach'](_0x58a69b=>{_0x58a69b['loaded']||(_0x53a413=!(-0x127+0x8d3*-0x3+0x4*0x6e8),this['_assetHasD'+'ependencie'+'s'](_0x58a69b)&&this['_registry']['loadFromUr'+'l'](_0x58a69b['file']['url'],_0x58a69b['type'],(_0x5b4c00,_0x17814f)=>{if(_0x5b4c00){this['_onError'](_0x5b4c00,_0x58a69b);return;}this['_onLoad'](_0x58a69b);}),this['_loadingAs'+'sets']['add'](_0x58a69b),this['_registry']['add'](_0x58a69b));}),this['_loadingAs'+'sets']['forEach'](_0x46f9d4=>{this['_assetHasD'+'ependencie'+'s'](_0x46f9d4)||this['_registry']['load'](_0x46f9d4);}),!_0x53a413&&this['_waitingAs'+'sets']['size']===0x20a3+0x98*-0x1+0x1*-0x200b&&this['_loadingCo'+'mplete']();}['ready'](_0x22ad9f,_0xd1b458=this){this['_loaded']?_0x22ad9f['call'](_0xd1b458,Array['from'](this['_assets'])):this['once']('load',_0x4a9ef5=>{_0x22ad9f['call'](_0xd1b458,_0x4a9ef5);});}['_loadingCo'+'mplete'](){this['_loaded']||(this['_loaded']=!(0xb81+-0x1b0d+0xa*0x18e),this['_registry']['off']('load',this['_onLoad'],this),this['_registry']['off']('error',this['_onError'],this),this['_failed']['length']?(this['_callback']&&this['_callback']['call'](this['_scope'],'Failed\x20to\x20'+'load\x20some\x20'+'assets',this['_failed']),this['fire']('error',this['_failed'])):(this['_callback']&&this['_callback']['call'](this['_scope']),this['fire']('load',Array['from'](this['_assets']))));}['_onLoad'](_0x4aa4e0){this['_loadingAs'+'sets']['has'](_0x4aa4e0)&&(this['fire']('progress',_0x4aa4e0),this['_loadingAs'+'sets']['delete'](_0x4aa4e0)),this['_loadingAs'+'sets']['size']===-0x1f23+0x1*-0x17f0+0x3713&&setTimeout(()=>{this['_loadingCo'+'mplete']();},0x1*0x1c76+-0x1*-0x1a2+-0x1e18);}['_onError'](_0x436a8e,_0xcef715){this['_loadingAs'+'sets']['has'](_0xcef715)&&(this['_failed']['push'](_0xcef715),this['_loadingAs'+'sets']['delete'](_0xcef715)),this['_loadingAs'+'sets']['size']===0x8f8*-0x1+0x3c*-0x8+0xad8&&setTimeout(()=>{this['_loadingCo'+'mplete']();},-0x361*0x7+0xb5*-0x5+-0xf0*-0x1d);}['_onAddAsse'+'t'](_0xa7fe04){this['_waitingAs'+'sets']['delete'](_0xa7fe04),this['_assets']['add'](_0xa7fe04),_0xa7fe04['loaded']||(this['_loadingAs'+'sets']['add'](_0xa7fe04),this['_registry']['load'](_0xa7fe04));}['_waitForAs'+'set'](_0x4cbfc0){this['_waitingAs'+'sets']['add'](_0x4cbfc0),this['_registry']['once']('add:'+_0x4cbfc0,this['_onAddAsse'+'t'],this);}}const Fc=[],_U=[[],[],[]];class gU extends ys{constructor(_0x4b68a8,_0x173cdf){super(_0x4b68a8),h(this,'viewBindGr'+'oups',[]),this['renderer']=_0x173cdf;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x2a9db1=>{_0x2a9db1['defaultUni'+'formBuffer']['destroy'](),_0x2a9db1['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1b9c+-0x2016+0x6a2*0x9;}['update'](_0x2ef32f,_0x372445,_0x260ab2,_0x4f3f04){this['camera']=_0x2ef32f,this['scene']=_0x372445,this['layers']=_0x260ab2,this['mapping']=_0x4f3f04;}['execute'](){const _0x13e72b=this['device'],{renderer:_0x457a22,camera:_0x588f19,scene:_0x29db96,layers:_0x1a072b,mapping:_0x12d2d0,renderTarget:_0x4382ca}=this,_0x109703=_0x29db96['layers']['layerList'],_0x539c71=_0x29db96['layers']['subLayerEn'+'abled'],_0x4b8cac=_0x29db96['layers']['subLayerLi'+'st'];for(let _0x1a15d8=-0x1579+-0x7*0x1a5+0x20fc;_0x1a15d8<_0x109703['length'];_0x1a15d8++){const _0x3a316b=_0x109703[_0x1a15d8];if(!(_0x1a072b&&_0x1a072b['indexOf'](_0x3a316b)<-0xd*0x223+-0xc*-0x311+-0x1*0x905)&&_0x3a316b['enabled']&&_0x539c71[_0x1a15d8]&&_0x3a316b['camerasSet']['has'](_0x588f19['camera'])){const _0x4aa470=_0x4b8cac[_0x1a15d8];Q['pushGpuMar'+'ker'](_0x13e72b,_0x3a316b['name']+'('+(_0x4aa470?'TRANSP':'OPAQUE')+')'),_0x3a316b['_clearDept'+'hBuffer']&&_0x457a22['clear'](_0x588f19['camera'],!(-0x13d9+-0x1*0x2399+0x3773),!(0xb75+-0xddd+-0x1c*-0x16),!(0x2c8+-0x2*0x435+0x5a3));const _0x53d9d1=_0x3a316b['meshInstan'+'ces'];for(let _0x592b94=0xf*-0x228+0x1408*-0x1+0x3460;_0x592b94<_0x53d9d1['length'];_0x592b94++){const _0x4f7621=_0x53d9d1[_0x592b94];_0x4f7621['pick']&&_0x4f7621['transparen'+'t']===_0x4aa470&&(Fc['push'](_0x4f7621),_0x12d2d0['set'](_0x4f7621['id'],_0x4f7621));}Fc['length']>-0x1257+0xb99+0x6be&&(_0x29db96['clusteredL'+'ightingEna'+'bled']&&_0x457a22['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x457a22['setCameraU'+'niforms'](_0x588f19['camera'],_0x4382ca),_0x13e72b['supportsUn'+'iformBuffe'+'rs']&&_0x457a22['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x457a22['viewUnifor'+'mFormat'],_0x457a22['viewBindGr'+'oupFormat'],null),_0x457a22['renderForw'+'ard'](_0x588f19['camera'],_0x4382ca,Fc,_U,Zn,_0x2d41f0=>{_0x13e72b['setBlendSt'+'ate'](pt['NOBLEND']);}),Fc['length']=-0x652*-0x2+0x2f6*-0xb+0x9f7*0x2),Q['popGpuMark'+'er'](_0x13e72b);}}}}const Rf=new Set(),SU=new re();let qU=class{constructor(_0x5c48a7,_0x29da14,_0x36b590){h(this,'renderTarg'+'et',null),h(this,'mapping',new Map()),h(this,'deviceVali'+'d',!(0x962+-0x1529+0xbc7)),(w['assert'](_0x5c48a7),this['renderer']=_0x5c48a7['renderer'],this['device']=_0x5c48a7['graphicsDe'+'vice'],this['renderPass']=new gU(this['device'],_0x5c48a7['renderer']),this['width']=-0x178*-0x6+0x2aa*0x9+-0x3*0xaee,this['height']=-0x61d*-0x5+0x6b5+-0x2546,this['resize'](_0x29da14,_0x36b590),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(0x829*-0x2+0xf41+-0x112*-0x1);}));}['getSelecti'+'on'](_0x4ceab5,_0x2270b3,_0x17b487=0x30b+-0x7*0x3e5+0x813*0x3,_0x2e7aae=0x1*-0x210f+0x8f9+0x1817){const _0x56f677=this['device'];if(_0x56f677['isWebGPU'])return w['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];w['assert'](typeof _0x4ceab5!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x2270b3=this['renderTarg'+'et']['height']-(_0x2270b3+_0x2e7aae);const _0x406c2f=this['sanitizeRe'+'ct'](_0x4ceab5,_0x2270b3,_0x17b487,_0x2e7aae);_0x56f677['setRenderT'+'arget'](this['renderTarg'+'et']),_0x56f677['updateBegi'+'n']();const _0x2f1009=new Uint8Array((0x16a*0x4+-0x1c05+0x11*0x151)*_0x406c2f['z']*_0x406c2f['w']);return _0x56f677['readPixels'](_0x406c2f['x'],_0x406c2f['y'],_0x406c2f['z'],_0x406c2f['w'],_0x2f1009),_0x56f677['updateEnd'](),this['decodePixe'+'ls'](_0x2f1009,this['mapping']);}['getSelecti'+'onAsync'](_0xefc1ee,_0x205630,_0x13e1a5=0x17a5+-0x12*-0x1bf+-0x3712,_0x316af0=-0x1292+-0x1deb+0x307e){var _0x290720;(_0x290720=this['device'])!=null&&_0x290720['isWebGL2']&&(_0x205630=this['renderTarg'+'et']['height']-(_0x205630+_0x316af0));const _0x56dfe7=this['sanitizeRe'+'ct'](_0xefc1ee,_0x205630,_0x13e1a5,_0x316af0);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x56dfe7['x'],_0x56dfe7['y'],_0x56dfe7['z'],_0x56dfe7['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(-0x2453+0x17dc+0xc77*0x1)})['then'](_0x2a8490=>this['decodePixe'+'ls'](_0x2a8490,this['mapping']));}['sanitizeRe'+'ct'](_0x5e8450,_0x1ad1e8,_0x1f0be4,_0x235c29){const _0x24d57e=this['renderTarg'+'et']['width'],_0x3a44b5=this['renderTarg'+'et']['height'];return _0x5e8450=Y['clamp'](Math['floor'](_0x5e8450),-0x1767+0x19b9*0x1+0xc6*-0x3,_0x24d57e-(0x19fe+0x1fdb+0x73b*-0x8)),_0x1ad1e8=Y['clamp'](Math['floor'](_0x1ad1e8),-0x1a0e*0x1+0x4f4+0x1*0x151a,_0x3a44b5-(0x85*-0x3e+0x1c9*-0xe+0x3935*0x1)),_0x1f0be4=Math['floor'](Math['max'](_0x1f0be4,-0x1a12+0x1e5c+-0x449*0x1)),_0x1f0be4=Math['min'](_0x1f0be4,_0x24d57e-_0x5e8450),_0x235c29=Math['floor'](Math['max'](_0x235c29,-0x1734+0x1*0x1e1+0xaaa*0x2)),_0x235c29=Math['min'](_0x235c29,_0x3a44b5-_0x1ad1e8),SU['set'](_0x5e8450,_0x1ad1e8,_0x1f0be4,_0x235c29);}['decodePixe'+'ls'](_0x165dac,_0x7e5097){const _0x41ee3c=[];if(this['deviceVali'+'d']){const _0xabab69=_0x165dac['length'];for(let _0x46a11b=0x7b7+0x112c+-0x18e3;_0x46a11b<_0xabab69;_0x46a11b+=0x2b4*0x8+-0x17*0x19a+0xf3a){const _0x376604=_0x165dac[_0x46a11b+(-0x7*0x24b+0x1bc+-0x1*-0xe51)],_0x16389d=_0x165dac[_0x46a11b+(-0x2*-0xb7+-0x343*0x2+0x519)],_0x1108ad=_0x165dac[_0x46a11b+(0x1691+0x23e*-0x2+-0x295*0x7)],_0x2cf5a1=(_0x165dac[_0x46a11b+(-0x1*0xca0+0x2*-0x196+0x1*0xfcf)]<<-0x24d1*-0x1+-0x143a+0x29*-0x67|_0x376604<<-0xcb2*0x2+-0x23*-0x10f+-0x1*0xb99|_0x16389d<<0x134*0x3+0xed9+-0x126d|_0x1108ad)>>>-0x1c5+0x1ac1+-0x18fc;_0x2cf5a1!==-0x2841a611*-0x4+0x15c6edf1b+-0xfd757760&&Rf['add'](_0x7e5097['get'](_0x2cf5a1));}Rf['forEach'](_0x3e15fa=>{_0x3e15fa&&_0x41ee3c['push'](_0x3e15fa);}),Rf['clear']();}return _0x41ee3c;}['allocateRe'+'nderTarget'](){const _0x5d4bc5=new _e(this['device'],{'format':Ne,'width':this['width'],'height':this['height'],'mipmaps':!(0x1eca+-0x1885*0x1+-0x644*0x1),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':'pick'});this['renderTarg'+'et']=new gt({'colorBuffer':_0x5d4bc5,'depth':!(0x49*-0x61+0x1e2a+-0x281)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x1746e5,_0x26f71d,_0x525749){_0x525749 instanceof Ot&&(_0x525749=[_0x525749]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x4a13e0=this['renderPass'];_0x4a13e0['init'](this['renderTarg'+'et']),_0x4a13e0['colorOps']['clearValue']=ie['WHITE'],_0x4a13e0['colorOps']['clear']=!(-0x331*-0x4+0x1*0x26c3+-0x3387),_0x4a13e0['depthStenc'+'ilOps']['clearDepth']=!(-0xc32+-0x25d1*-0x1+-0x199f),_0x4a13e0['update'](_0x1746e5,_0x26f71d,_0x525749,this['mapping']),_0x4a13e0['render']();}['resize'](_0x415e1f,_0x2f5fc1){this['width']=Math['floor'](_0x415e1f),this['height']=Math['floor'](_0x2f5fc1);}},cr,hr;const Of=new D(),RS=new D(),Ri=new Dn(),Ro=new Dn(),ep=new Dn();Ri['end']=new D(),Ro['end']=new D(),ep['end']=new D();const en=new D(),Nc=new D(),Ff=new D(),OS=new D(),Nf=new D(),kc=new D(),Uc=new D(),Bc=new D(),zc=new D(),kf=new D(),yU=new D(),tn=new D(),wo=new D(),Vc=new D(),Gc=new D(),Eo=new D(),FS=new D(),NS=new D(),kS=new D(),US=new D(),vU=new re();function BS(_0x5b20b7,_0x2256bf,_0x2c8adb){return yU['cross'](_0x5b20b7,_0x2256bf)['dot'](_0x2c8adb);}function xU(_0x5abf77,_0x27ea39,_0x4e5626){en['sub2'](_0x27ea39,_0x5abf77),Nc['sub2'](_0x4e5626[-0x1fdc+-0x37*-0x59+-0x1*-0xcbd],_0x5abf77),Ff['sub2'](_0x4e5626[0x8*-0x2db+-0x5d0+0x1ca9],_0x5abf77),OS['sub2'](_0x4e5626[0x1*0x87d+-0x1d03+0x1488],_0x5abf77),kc['cross'](OS,en);let _0x4c2dcc=Nc['dot'](kc),_0x394d9b,_0x3f305e;if(_0x4c2dcc>=0x13*-0x95+0xd2a*-0x2+-0x1*-0x2563){if(_0x394d9b=-Ff['dot'](kc),_0x394d9b<0x34b+-0x189f+0x41*0x54||(_0x3f305e=BS(en,Ff,Nc),_0x3f305e<-0x94c+0x5*0x6a1+0x5*-0x4c5))return-(-0x2351+0xb0e+0x1844);const _0x3fc509=(-0x5*-0x18d+0xd*0x270+-0x2770)/(_0x394d9b+_0x4c2dcc+_0x3f305e);Uc['copy'](_0x4e5626[-0x781*-0x1+0x188a+0x277*-0xd])['mulScalar'](_0x394d9b*_0x3fc509),Bc['copy'](_0x4e5626[-0xa4e+0x2671+-0x1c22])['mulScalar'](_0x4c2dcc*_0x3fc509),zc['copy'](_0x4e5626[-0x41f*-0x4+-0x1375+0x2fb*0x1])['mulScalar'](_0x3f305e*_0x3fc509),kf['copy'](Uc)['add'](Bc)['add'](zc);}else{if(Nf['sub2'](_0x4e5626[0x3*0xa74+-0x2f*-0x6b+-0x1*0x32fe],_0x5abf77),_0x394d9b=Nf['dot'](kc),_0x394d9b<-0x1208+-0xc4d*0x3+0x36ef||(_0x3f305e=BS(en,Nc,Nf),_0x3f305e<-0x1*0x94f+0x21fb+-0x18ac))return-(0x2*-0xe80+-0x55d+0x225e);_0x4c2dcc=-_0x4c2dcc;const _0x218dbc=(-0x58+-0x141f+0x1478)/(_0x394d9b+_0x4c2dcc+_0x3f305e);Uc['copy'](_0x4e5626[0x20ed*0x1+-0x2023+-0xca])['mulScalar'](_0x394d9b*_0x218dbc),Bc['copy'](_0x4e5626[-0x7*0xd3+0x71*-0x50+0x2918])['mulScalar'](_0x4c2dcc*_0x218dbc),zc['copy'](_0x4e5626[-0xe16+-0x1c5*-0x11+-0xffd])['mulScalar'](_0x3f305e*_0x218dbc),kf['copy'](Uc)['add'](Bc)['add'](zc);}return en['sub2'](_0x4e5626[-0x880+0x2*-0x29f+0xdbe*0x1],_0x4e5626[0x265e+0x1*0xa34+0x818*-0x6])['lengthSq']()<(-0x2531+0x147+0x23ea+0.0001)*(0x26*-0x35+0x1e8*-0x5+0x1166+0.0001)||en['sub2'](_0x4e5626[0xb*-0xd8+-0x79*0x2+0x61*0x1b],_0x4e5626[0x204e+-0x508*-0x5+0x7*-0x835])['lengthSq']()<(0x1*0x26f1+-0x3*-0x8c9+-0x414c+0.0001)*(-0xe0d+-0x1841+-0x264e*-0x1+0.0001)?-(-0x1235+0xa*-0x265+0x2a28):kf['sub'](_0x5abf77)['lengthSq']();}class Am{constructor(_0x4e254f,_0x19158b,_0x3d448d){this['event']=_0x4e254f,this['element']=_0x19158b,this['camera']=_0x3d448d,this['_stopPropa'+'gation']=!(-0x163a+-0x2336*-0x1+-0xcfb*0x1);}['stopPropag'+'ation'](){this['_stopPropa'+'gation']=!(0x1e4d+-0xe27*-0x1+-0x2c74),this['event']&&(this['event']['stopImmedi'+'atePropaga'+'tion'](),this['event']['stopPropag'+'ation']());}}class bo extends Am{constructor(_0x3beaef,_0x224b0b,_0x38b28a,_0x209040,_0x5d08ec,_0x2f2328,_0xd403e6){super(_0x3beaef,_0x224b0b,_0x38b28a),this['x']=_0x209040,this['y']=_0x5d08ec,this['ctrlKey']=_0x3beaef['ctrlKey']||!(-0x15f1*-0x1+0x241a*-0x1+0x715*0x2),this['altKey']=_0x3beaef['altKey']||!(0x740+-0x1*-0x18e6+0xd3*-0x27),this['shiftKey']=_0x3beaef['shiftKey']||!(0x60a+0x1*0x1ef0+-0x5*0x765),this['metaKey']=_0x3beaef['metaKey']||!(-0x6d3*-0x1+-0x2*0xc0b+-0x41*-0x44),this['button']=_0x3beaef['button'],sa['isPointerL'+'ocked']()?(this['dx']=_0x3beaef['movementX']||_0x3beaef['webkitMove'+'mentX']||_0x3beaef['mozMovemen'+'tX']||-0x211f+-0x7*0x3e+0x22d1*0x1,this['dy']=_0x3beaef['movementY']||_0x3beaef['webkitMove'+'mentY']||_0x3beaef['mozMovemen'+'tY']||-0x132a+0x54+0x12d6):(this['dx']=_0x209040-_0x2f2328,this['dy']=_0x5d08ec-_0xd403e6),this['wheelDelta']=0x3b7*0x8+-0xa2+-0x1d16,_0x3beaef['type']==='wheel'&&(_0x3beaef['deltaY']>-0x1cde*-0x1+0x6*0x568+-0x3d4e?this['wheelDelta']=0x2295+-0x2*0xe26+0x1*-0x648:_0x3beaef['deltaY']<0xef9*-0x1+-0x1e0b+-0x2d04*-0x1&&(this['wheelDelta']=-(0x2*-0x2f1+0x7*-0x38f+0x1ecc)));}}class Ao extends Am{constructor(_0x13cc3c,_0x41008f,_0x3bfdcd,_0x43016a,_0x301a0c,_0x2c0a39){super(_0x13cc3c,_0x41008f,_0x3bfdcd),this['touches']=_0x13cc3c['touches'],this['changedTou'+'ches']=_0x13cc3c['changedTou'+'ches'],this['x']=_0x43016a,this['y']=_0x301a0c,this['touch']=_0x2c0a39;}}class dr extends Am{constructor(_0x574552,_0x2c4ddd,_0x2f3c19,_0x6271ea){super(_0x574552,_0x2c4ddd,_0x2f3c19),this['inputSourc'+'e']=_0x6271ea;}}class Xo{constructor(_0x74d7c3,_0x5567df){this['_app']=null,this['_attached']=!(0x20de+0xb44*0x3+-0x42a9),this['_target']=null,this['_enabled']=!(-0x1daa*-0x1+-0xdda+-0xfd0),this['_lastX']=0xb38*0x1+-0x1264+0x72c,this['_lastY']=-0xf2a+-0x12a4+0x10e7*0x2,this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_touchstar'+'tHandler']=this['_handleTou'+'chStart']['bind'](this),this['_touchendH'+'andler']=this['_handleTou'+'chEnd']['bind'](this),this['_touchcanc'+'elHandler']=this['_touchendH'+'andler'],this['_touchmove'+'Handler']=this['_handleTou'+'chMove']['bind'](this),this['_sortHandl'+'er']=this['_sortEleme'+'nts']['bind'](this),this['_elements']=[],this['_hoveredEl'+'ement']=null,this['_pressedEl'+'ement']=null,this['_touchedEl'+'ements']={},this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired']={},this['_selectedE'+'lements']={},this['_selectedP'+'ressedElem'+'ents']={},this['_useMouse']=!_0x5567df||_0x5567df['useMouse']!==!(-0x1960+0x10*-0x21a+0x3b01),this['_useTouch']=!_0x5567df||_0x5567df['useTouch']!==!(0xdda+0x1b57+-0x2930),this['_useXr']=!_0x5567df||_0x5567df['useXr']!==!(0x19+-0x1a17+0x25d*0xb),this['_selectEve'+'ntsAttache'+'d']=!(-0x4*-0x185+-0x21ea*0x1+0x1bd7),Ae['touch']&&(this['_clickedEn'+'tities']={}),this['attach'](_0x74d7c3);}set['enabled'](_0xf32713){this['_enabled']=_0xf32713;}get['enabled'](){return this['_enabled'];}set['app'](_0x585d76){this['_app']=_0x585d76;}get['app'](){return this['_app']||Ms();}['attach'](_0xa1dc6b){this['_attached']&&(this['_attached']=!(0x9e1+0x1a1b+-0x23fb),this['detach']()),this['_target']=_0xa1dc6b,this['_attached']=!(0x9b*0x13+0xcc4+0x3*-0x817);const _0x22260a=Ae['passiveEve'+'nts']?{'passive':!(-0x1569+0x22d6+-0xd6d)}:!(-0x1*0x167+-0xa07+0x1*0xb6f);this['_useMouse']&&(window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x22260a),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x22260a),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x22260a),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x22260a)),this['_useTouch']&&Ae['touch']&&(this['_target']['addEventLi'+'stener']('touchstart',this['_touchstar'+'tHandler'],_0x22260a),this['_target']['addEventLi'+'stener']('touchend',this['_touchendH'+'andler'],!(-0xc25*0x3+0x1384*-0x1+-0xdfd*-0x4)),this['_target']['addEventLi'+'stener']('touchmove',this['_touchmove'+'Handler'],!(0xb12+-0x1*0xad5+-0x2*0x1e)),this['_target']['addEventLi'+'stener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(0x2358+-0x193+-0x21c4))),this['attachSele'+'ctEvents']();}['attachSele'+'ctEvents'](){!this['_selectEve'+'ntsAttache'+'d']&&this['_useXr']&&this['app']&&this['app']['xr']&&this['app']['xr']['supported']&&(this['_clickedEn'+'tities']||(this['_clickedEn'+'tities']={}),this['_selectEve'+'ntsAttache'+'d']=!(0x1332+-0x301*-0x8+-0xb*0x3ee),this['app']['xr']['on']('start',this['_onXrStart'],this));}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x1*0x1e29+0x1*0x21df+-0x3b5);const _0x85b799=Ae['passiveEve'+'nts']?{'passive':!(0xb*0x23f+0x84*-0x27+-0x499)}:!(0x1642*0x1+0x77*-0x47+-0x560*-0x2);this['_useMouse']&&(window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x85b799),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x85b799),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x85b799),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x85b799)),this['_useTouch']&&(this['_target']['removeEven'+'tListener']('touchstart',this['_touchstar'+'tHandler'],_0x85b799),this['_target']['removeEven'+'tListener']('touchend',this['_touchendH'+'andler'],!(0x1*0x1f79+-0x92f*-0x1+-0xd8d*0x3)),this['_target']['removeEven'+'tListener']('touchmove',this['_touchmove'+'Handler'],!(-0x303+-0x2*0xb5b+0x19ba)),this['_target']['removeEven'+'tListener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(0x69f+0xe77*0x1+-0x1515))),this['_selectEve'+'ntsAttache'+'d']&&(this['_selectEve'+'ntsAttache'+'d']=!(0xe48+-0x1642+0x7fb),this['app']['xr']['off']('start',this['_onXrStart'],this),this['app']['xr']['off']('end',this['_onXrEnd'],this),this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this)),this['_target']=null;}['addElement'](_0x335078){this['_elements']['indexOf'](_0x335078)===-(-0x34*0xad+-0x71c*0x3+0x4f*0xb7)&&this['_elements']['push'](_0x335078);}['removeElem'+'ent'](_0x36edb9){const _0x29382f=this['_elements']['indexOf'](_0x36edb9);_0x29382f!==-(-0x14f7+-0x92c*0x1+-0xc*-0x283)&&this['_elements']['splice'](_0x29382f,-0x5ec*-0x3+-0x3c*0x96+-0x1*-0x1165);}['_handleUp'](_0x206537){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x206537),this['_onElement'+'MouseEvent']('mouseup',_0x206537)));}['_handleDow'+'n'](_0x368db2){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x368db2),this['_onElement'+'MouseEvent']('mousedown',_0x368db2)));}['_handleMov'+'e'](_0x42712c){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x42712c),this['_onElement'+'MouseEvent']('mousemove',_0x42712c),this['_lastX']=cr,this['_lastY']=hr);}['_handleWhe'+'el'](_0x294a21){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x294a21),this['_onElement'+'MouseEvent']('mousewheel',_0x294a21));}['_determine'+'TouchedEle'+'ments'](_0x560134){const _0x4ed8cd={},_0x3c838e=this['app']['systems']['camera']['cameras'];for(let _0x3dbc09=_0x3c838e['length']-(-0x1b6d*-0x1+-0x750+-0x141c);_0x3dbc09>=0x127b+-0x25a2+0x1327;_0x3dbc09--){const _0x35f26f=_0x3c838e[_0x3dbc09];let _0x760900=0x7b*0x9+-0x1385*0x2+0x22b7;const _0x59a7a8=_0x560134['changedTou'+'ches']['length'];for(let _0x263a02=0x1*0xaf1+0x7eb*0x2+0xf*-0x1c9;_0x263a02<_0x59a7a8;_0x263a02++){if(_0x4ed8cd[_0x560134['changedTou'+'ches'][_0x263a02]['identifier']]){_0x760900++;continue;}const _0x2ac778=Wc(_0x560134['changedTou'+'ches'][_0x263a02]),_0xc20f2f=this['_getTarget'+'ElementByC'+'oords'](_0x35f26f,_0x2ac778['x'],_0x2ac778['y']);_0xc20f2f&&(_0x760900++,_0x4ed8cd[_0x560134['changedTou'+'ches'][_0x263a02]['identifier']]={'element':_0xc20f2f,'camera':_0x35f26f,'x':_0x2ac778['x'],'y':_0x2ac778['y']});}if(_0x760900===_0x59a7a8)break;}return _0x4ed8cd;}['_handleTou'+'chStart'](_0x341c59){if(!this['_enabled'])return;const _0x16936d=this['_determine'+'TouchedEle'+'ments'](_0x341c59);for(let _0xf4dad2=0x1db0+-0x21b8+0x204*0x2,_0x47a732=_0x341c59['changedTou'+'ches']['length'];_0xf4dad2<_0x47a732;_0xf4dad2++){const _0x4dfe2e=_0x341c59['changedTou'+'ches'][_0xf4dad2],_0x514cd2=_0x16936d[_0x4dfe2e['identifier']],_0x4181dc=this['_touchedEl'+'ements'][_0x4dfe2e['identifier']];_0x514cd2&&(!_0x4181dc||_0x514cd2['element']!==_0x4181dc['element'])&&(this['_fireEvent'](_0x341c59['type'],new Ao(_0x341c59,_0x514cd2['element'],_0x514cd2['camera'],_0x514cd2['x'],_0x514cd2['y'],_0x4dfe2e)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x4dfe2e['identifier']]=!(-0x5*-0x555+0xb*0xb1+0x7*-0x4e5));}for(const _0x4f33a4 in _0x16936d)this['_touchedEl'+'ements'][_0x4f33a4]=_0x16936d[_0x4f33a4];}['_handleTou'+'chEnd'](_0x5e4d34){if(!this['_enabled'])return;const _0x2fc905=this['app']['systems']['camera']['cameras'];for(const _0x15aec4 in this['_clickedEn'+'tities'])delete this['_clickedEn'+'tities'][_0x15aec4];for(let _0x3b05f7=-0x1c8+-0x3*0x283+0x35*0x2d,_0x30324d=_0x5e4d34['changedTou'+'ches']['length'];_0x3b05f7<_0x30324d;_0x3b05f7++){const _0x979ffc=_0x5e4d34['changedTou'+'ches'][_0x3b05f7],_0x59481f=this['_touchedEl'+'ements'][_0x979ffc['identifier']];if(!_0x59481f)continue;const _0x47877b=_0x59481f['element'],_0x2a3c12=_0x59481f['camera'],_0x532ec7=_0x59481f['x'],_0x4e5906=_0x59481f['y'];delete this['_touchedEl'+'ements'][_0x979ffc['identifier']],delete this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x979ffc['identifier']];const _0x333a8e=Wc(_0x979ffc);for(let _0x59caa4=_0x2fc905['length']-(-0xf05+0x1cb4+0x1*-0xdae);_0x59caa4>=0x1*0x78a+0xd4d+-0x14d7;_0x59caa4--)this['_getTarget'+'ElementByC'+'oords'](_0x2fc905[_0x59caa4],_0x333a8e['x'],_0x333a8e['y'])===_0x47877b&&(this['_clickedEn'+'tities'][_0x47877b['entity']['getGuid']()]||(this['_fireEvent']('click',new Ao(_0x5e4d34,_0x47877b,_0x2a3c12,_0x532ec7,_0x4e5906,_0x979ffc)),this['_clickedEn'+'tities'][_0x47877b['entity']['getGuid']()]=Date['now']()));this['_fireEvent'](_0x5e4d34['type'],new Ao(_0x5e4d34,_0x47877b,_0x2a3c12,_0x532ec7,_0x4e5906,_0x979ffc));}}['_handleTou'+'chMove'](_0x405408){if(_0x405408['preventDef'+'ault'](),!this['_enabled'])return;const _0x35d687=this['_determine'+'TouchedEle'+'ments'](_0x405408);for(let _0x5b4615=-0xa*-0x1b7+-0x1ea3+0xd7d*0x1,_0x1c96b3=_0x405408['changedTou'+'ches']['length'];_0x5b4615<_0x1c96b3;_0x5b4615++){const _0x5dafdf=_0x405408['changedTou'+'ches'][_0x5b4615],_0x3c8b36=_0x35d687[_0x5dafdf['identifier']],_0x488720=this['_touchedEl'+'ements'][_0x5dafdf['identifier']];if(_0x488720){const _0x150c41=Wc(_0x5dafdf);(!_0x3c8b36||_0x3c8b36['element']!==_0x488720['element'])&&!this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x5dafdf['identifier']]&&(this['_fireEvent']('touchleave',new Ao(_0x405408,_0x488720['element'],_0x488720['camera'],_0x150c41['x'],_0x150c41['y'],_0x5dafdf)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x5dafdf['identifier']]=!(-0x13ae+-0x16c6+0x153a*0x2)),this['_fireEvent']('touchmove',new Ao(_0x405408,_0x488720['element'],_0x488720['camera'],_0x150c41['x'],_0x150c41['y'],_0x5dafdf));}}}['_onElement'+'MouseEvent'](_0x1ffa7e,_0x36a55b){let _0x4b774f=null;const _0x17e7e9=this['_hoveredEl'+'ement'];this['_hoveredEl'+'ement']=null;const _0x20af02=this['app']['systems']['camera']['cameras'];let _0x583475;for(let _0x1c1fb3=_0x20af02['length']-(0xeb+0x211c+-0xa*0x367);_0x1c1fb3>=0x2*0xb75+-0x3c6+0x1c*-0xaf&&(_0x583475=_0x20af02[_0x1c1fb3],_0x4b774f=this['_getTarget'+'ElementByC'+'oords'](_0x583475,cr,hr),!_0x4b774f);_0x1c1fb3--);if(this['_hoveredEl'+'ement']=_0x4b774f,(_0x1ffa7e==='mousemove'||_0x1ffa7e==='mouseup')&&this['_pressedEl'+'ement']?this['_fireEvent'](_0x1ffa7e,new bo(_0x36a55b,this['_pressedEl'+'ement'],_0x583475,cr,hr,this['_lastX'],this['_lastY'])):_0x4b774f&&(this['_fireEvent'](_0x1ffa7e,new bo(_0x36a55b,_0x4b774f,_0x583475,cr,hr,this['_lastX'],this['_lastY'])),_0x1ffa7e==='mousedown'&&(this['_pressedEl'+'ement']=_0x4b774f)),_0x17e7e9!==this['_hoveredEl'+'ement']&&(_0x17e7e9&&this['_fireEvent']('mouseleave',new bo(_0x36a55b,_0x17e7e9,_0x583475,cr,hr,this['_lastX'],this['_lastY'])),this['_hoveredEl'+'ement']&&this['_fireEvent']('mouseenter',new bo(_0x36a55b,this['_hoveredEl'+'ement'],_0x583475,cr,hr,this['_lastX'],this['_lastY']))),_0x1ffa7e==='mouseup'&&this['_pressedEl'+'ement']){if(this['_pressedEl'+'ement']===this['_hoveredEl'+'ement']){const _0x42740b=this['_hoveredEl'+'ement']['entity']['getGuid']();let _0x55a0f0=!this['_clickedEn'+'tities'];if(this['_clickedEn'+'tities']){const _0x52a8d8=this['_clickedEn'+'tities'][_0x42740b]||0x1cda+-0xe3c+-0xe9e;_0x55a0f0=Date['now']()-_0x52a8d8>-0x91a*-0x1+0x9ad+-0x1*0x119b,delete this['_clickedEn'+'tities'][_0x42740b];}_0x55a0f0&&this['_fireEvent']('click',new bo(_0x36a55b,this['_hoveredEl'+'ement'],_0x583475,cr,hr,this['_lastX'],this['_lastY']));}this['_pressedEl'+'ement']=null;}}['_onXrStart'](){this['app']['xr']['on']('end',this['_onXrEnd'],this),this['app']['xr']['on']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['on']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['on']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['on']('remove',this['_onXrInput'+'Remove'],this);}['_onXrEnd'](){this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this);}['_onXrUpdat'+'e'](){if(!this['_enabled'])return;const _0x5d4286=this['app']['xr']['input']['inputSourc'+'es'];for(let _0x3221f5=-0xa*0xc7+0x232e*-0x1+0x2af4;_0x3221f5<_0x5d4286['length'];_0x3221f5++)this['_onElement'+'SelectEven'+'t']('selectmove',_0x5d4286[_0x3221f5],null);}['_onXrInput'+'Remove'](_0x455411){const _0x1c847e=this['_selectedE'+'lements'][_0x455411['id']];_0x1c847e&&(_0x455411['_elementEn'+'tity']=null,this['_fireEvent']('selectleav'+'e',new dr(null,_0x1c847e,null,_0x455411))),delete this['_selectedE'+'lements'][_0x455411['id']],delete this['_selectedP'+'ressedElem'+'ents'][_0x455411['id']];}['_onSelectS'+'tart'](_0x22ef71,_0x446dc6){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectstar'+'t',_0x22ef71,_0x446dc6);}['_onSelectE'+'nd'](_0x3b93f9,_0x34249c){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectend',_0x3b93f9,_0x34249c);}['_onElement'+'SelectEven'+'t'](_0x354947,_0x1e9559,_0x3addda){let _0x34b4f7;const _0x180394=this['_selectedE'+'lements'][_0x1e9559['id']];let _0x202d8c;const _0x3de373=this['app']['systems']['camera']['cameras'];let _0x14f408;if(_0x1e9559['elementInp'+'ut']){ep['set'](_0x1e9559['getOrigin'](),_0x1e9559['getDirecti'+'on']());for(let _0xdb78fb=_0x3de373['length']-(0x2081+0x254c+-0x45cc);_0xdb78fb>=0x3d*0x8e+0x1046+0x190e*-0x2&&(_0x14f408=_0x3de373[_0xdb78fb],_0x34b4f7=this['_getTarget'+'ElementByR'+'ay'](ep,_0x14f408),!_0x34b4f7);_0xdb78fb--);}_0x1e9559['_elementEn'+'tity']=_0x34b4f7||null,_0x34b4f7?(this['_selectedE'+'lements'][_0x1e9559['id']]=_0x34b4f7,_0x202d8c=_0x34b4f7):delete this['_selectedE'+'lements'][_0x1e9559['id']],_0x180394!==_0x202d8c&&(_0x180394&&this['_fireEvent']('selectleav'+'e',new dr(_0x3addda,_0x180394,_0x14f408,_0x1e9559)),_0x202d8c&&this['_fireEvent']('selectente'+'r',new dr(_0x3addda,_0x202d8c,_0x14f408,_0x1e9559)));const _0x2c4156=this['_selectedP'+'ressedElem'+'ents'][_0x1e9559['id']];_0x354947==='selectmove'&&_0x2c4156&&this['_fireEvent']('selectmove',new dr(_0x3addda,_0x2c4156,_0x14f408,_0x1e9559)),_0x354947==='selectstar'+'t'&&(this['_selectedP'+'ressedElem'+'ents'][_0x1e9559['id']]=_0x202d8c,_0x202d8c&&this['_fireEvent']('selectstar'+'t',new dr(_0x3addda,_0x202d8c,_0x14f408,_0x1e9559))),!_0x1e9559['elementInp'+'ut']&&_0x2c4156&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x1e9559['id']],_0x180394&&this['_fireEvent']('selectend',new dr(_0x3addda,_0x2c4156,_0x14f408,_0x1e9559))),_0x354947==='selectend'&&_0x1e9559['elementInp'+'ut']&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x1e9559['id']],_0x2c4156&&this['_fireEvent']('selectend',new dr(_0x3addda,_0x2c4156,_0x14f408,_0x1e9559)),_0x2c4156&&_0x2c4156===_0x180394&&this['_fireEvent']('click',new dr(_0x3addda,_0x2c4156,_0x14f408,_0x1e9559)));}['_fireEvent'](_0x23a44e,_0xa2922c){let _0x5cde0e=_0xa2922c['element'];for(;_0x5cde0e['fire'](_0x23a44e,_0xa2922c),!(_0xa2922c['_stopPropa'+'gation']||!_0x5cde0e['entity']['parent']||(_0x5cde0e=_0x5cde0e['entity']['parent']['element'],!_0x5cde0e)););}['_calcMouse'+'Coords'](_0xb4f7bd){const _0x3a58d1=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x4ce16b=Math['floor'](_0x3a58d1['left']),_0x4ae074=Math['floor'](_0x3a58d1['top']);cr=_0xb4f7bd['clientX']-_0x4ce16b,hr=_0xb4f7bd['clientY']-_0x4ae074;}['_sortEleme'+'nts'](_0x4129b0,_0x35cf71){const _0xcb5ca7=this['app']['scene']['layers']['sortTransp'+'arentLayer'+'s'](_0x4129b0['layers'],_0x35cf71['layers']);return _0xcb5ca7!==-0x17*0xc2+-0x1f8b+0x9*0x571?_0xcb5ca7:_0x4129b0['screen']&&!_0x35cf71['screen']?-(0x32b*-0x4+-0xbb*-0x2f+-0x15a8):!_0x4129b0['screen']&&_0x35cf71['screen']?-0x173b+-0x128+0x1864:!_0x4129b0['screen']&&!_0x35cf71['screen']?0x167*0xf+0x5b7*0x3+-0x262e:_0x4129b0['screen']['screen']['screenSpac'+'e']&&!_0x35cf71['screen']['screen']['screenSpac'+'e']?-(-0x493*-0x1+0x1*-0x1e1f+-0xd3*-0x1f):_0x35cf71['screen']['screen']['screenSpac'+'e']&&!_0x4129b0['screen']['screen']['screenSpac'+'e']?-0x31+-0xaee+0xb20:_0x35cf71['drawOrder']-_0x4129b0['drawOrder'];}['_getTarget'+'ElementByC'+'oords'](_0x34a426,_0x2c2cb8,_0x310d06){const _0x2471f5=this['_calculate'+'RayScreen'](_0x2c2cb8,_0x310d06,_0x34a426,Ri)?Ri:null,_0x1d17d5=this['_calculate'+'Ray3d'](_0x2c2cb8,_0x310d06,_0x34a426,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x34a426,_0x2471f5,_0x1d17d5);}['_getTarget'+'ElementByR'+'ay'](_0x4cb957,_0x46fa11){Ri['origin']['copy'](_0x4cb957['origin']),Ri['direction']['copy'](_0x4cb957['direction']),Ri['end']['copy'](Ri['direction'])['mulScalar'](_0x46fa11['farClip']*(0x1a01+0xc5c+-0x265b))['add'](Ri['origin']);const _0x1f9863=Ri,_0x581dc0=_0x46fa11['worldToScr'+'een'](_0x1f9863['origin'],Of),_0x17b300=this['_calculate'+'RayScreen'](_0x581dc0['x'],_0x581dc0['y'],_0x46fa11,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x46fa11,_0x17b300,_0x1f9863);}['_getTarget'+'Element'](_0x240896,_0x108fc7,_0x1d2f15){let _0x479887=null,_0x50cf1f=(0x9f4+0x2366+-0x2f*0xf7)/(-0x1e84+-0x1967+-0x37eb*-0x1);this['_elements']['sort'](this['_sortHandl'+'er']);for(let _0x13d10d=-0x317+-0x9*0x431+0xa34*0x4,_0x18f203=this['_elements']['length'];_0x13d10d<_0x18f203;_0x13d10d++){const _0x467f8b=this['_elements'][_0x13d10d];if(_0x467f8b['layers']['some'](_0xcdef8d=>_0x240896['layersSet']['has'](_0xcdef8d))){if(_0x467f8b['screen']&&_0x467f8b['screen']['screen']['screenSpac'+'e']){if(!_0x108fc7)continue;if(this['_checkElem'+'ent'](_0x108fc7,_0x467f8b,!(-0x26*-0x4f+0x134f+0x7*-0x46f))>=-0x1*-0x551+-0x9*-0x6b+-0x914){_0x479887=_0x467f8b;break;}}else{if(!_0x1d2f15)continue;const _0x2a1b2e=this['_checkElem'+'ent'](_0x1d2f15,_0x467f8b,!(0xc7*-0x31+-0x391+0x29a9));if(_0x2a1b2e>=0x1c*0x1d+0x36a+0x696*-0x1&&(_0x2a1b2e<_0x50cf1f&&(_0x479887=_0x467f8b,_0x50cf1f=_0x2a1b2e),_0x467f8b['screen'])){_0x479887=_0x467f8b;break;}}}}return _0x479887;}['_calculate'+'RayScreen'](_0x2707da,_0x5876f0,_0x4916ef,_0x2eed83){const _0x2111b0=this['app']['graphicsDe'+'vice']['width'],_0x2a1d1f=this['app']['graphicsDe'+'vice']['height'],_0x5e4cfd=_0x4916ef['rect']['z']*_0x2111b0,_0x5b22cd=_0x4916ef['rect']['w']*_0x2a1d1f,_0x30deff=_0x4916ef['rect']['x']*_0x2111b0,_0x15d308=_0x30deff+_0x5e4cfd,_0x2782e4=(0x217e+-0x1c24+-0x559-_0x4916ef['rect']['y'])*_0x2a1d1f,_0x45a21c=_0x2782e4-_0x5b22cd;let _0x368711=_0x2707da*_0x2111b0/this['_target']['clientWidt'+'h'],_0xd44177=_0x5876f0*_0x2a1d1f/this['_target']['clientHeig'+'ht'];return _0x368711>=_0x30deff&&_0x368711<=_0x15d308&&_0xd44177<=_0x2782e4&&_0xd44177>=_0x45a21c?(_0x368711=_0x2111b0*(_0x368711-_0x30deff)/_0x5e4cfd,_0xd44177=_0x2a1d1f*(_0xd44177-_0x45a21c)/_0x5b22cd,_0xd44177=_0x2a1d1f-_0xd44177,_0x2eed83['origin']['set'](_0x368711,_0xd44177,0x2025+-0x118d+-0x2d*0x53),_0x2eed83['direction']['set'](-0x16d1+0x2137+-0x79*0x16,0x482*-0x1+-0x215b+-0x435*-0x9,-(0x1*0x2b3+-0x25*-0xf4+-0x25f6)),_0x2eed83['end']['copy'](_0x2eed83['direction'])['mulScalar'](-0x1ce1+-0x2*-0x853+0xf1*0xd)['add'](_0x2eed83['origin']),!(0x4f3+-0x1b3c+-0x475*-0x5)):!(-0x2699*0x1+0xa37+0x1c63);}['_calculate'+'Ray3d'](_0x143b0b,_0x46a031,_0x5ab77d,_0x4c753d){const _0x23f8be=this['_target']['clientWidt'+'h'],_0x597b16=this['_target']['clientHeig'+'ht'],_0x3759d7=_0x5ab77d['rect']['z']*_0x23f8be,_0x1b8902=_0x5ab77d['rect']['w']*_0x597b16,_0x27ecf6=_0x5ab77d['rect']['x']*_0x23f8be,_0x31447a=_0x27ecf6+_0x3759d7,_0x4b0d56=(-0x1b68+-0x47*-0x30+0x1*0xe19-_0x5ab77d['rect']['y'])*_0x597b16,_0x2ed41c=_0x4b0d56-_0x1b8902;let _0x26e137=_0x143b0b,_0x5b57e2=_0x46a031;return _0x143b0b>=_0x27ecf6&&_0x143b0b<=_0x31447a&&_0x46a031<=_0x4b0d56&&_0x5b57e2>=_0x2ed41c?(_0x26e137=_0x23f8be*(_0x26e137-_0x27ecf6)/_0x3759d7,_0x5b57e2=_0x597b16*(_0x5b57e2-_0x2ed41c)/_0x1b8902,_0x5ab77d['screenToWo'+'rld'](_0x26e137,_0x5b57e2,_0x5ab77d['nearClip'],Of),_0x5ab77d['screenToWo'+'rld'](_0x26e137,_0x5b57e2,_0x5ab77d['farClip'],RS),_0x4c753d['origin']['copy'](Of),_0x4c753d['direction']['set'](-0x8f7+0x30e*0x2+0x2db,0x4dd+0x1e4f+-0x4*0x8cb,-(-0x46*0x7e+-0x1be7*0x1+-0x3e5c*-0x1)),_0x4c753d['end']['copy'](RS),!(-0x2f1*-0x1+0x12a4*0x1+-0x55*0x41)):!(-0x1*-0xfb5+-0xb25+-0x48f);}['_checkElem'+'ent'](_0x3ce6eb,_0x4a7439,_0x314c18){if(_0x4a7439['maskedBy']&&this['_checkElem'+'ent'](_0x3ce6eb,_0x4a7439['maskedBy']['element'],_0x314c18)<0x163*0x19+-0xa*-0x3d1+-0x5*0xe91)return-(-0x2628+0x177c+0xead);let _0x41bcc1;_0x314c18?_0x41bcc1=Xo['calculateS'+'caleToScre'+'en'](_0x4a7439):_0x41bcc1=Xo['calculateS'+'caleToWorl'+'d'](_0x4a7439);const _0x571f79=Xo['buildHitCo'+'rners'](_0x4a7439,_0x314c18?_0x4a7439['screenCorn'+'ers']:_0x4a7439['worldCorne'+'rs'],_0x41bcc1);return xU(_0x3ce6eb['origin'],_0x3ce6eb['end'],_0x571f79);}static['buildHitCo'+'rners'](_0x5d3549,_0x467cae,_0x2ed448){let _0x39973d=_0x467cae;if(_0x5d3549['entity']&&_0x5d3549['entity']['button']){const _0xfd73c4=_0x5d3549['entity']['button']['hitPadding']||vU;wo['copy'](_0x5d3549['entity']['up']),Vc['copy'](wo)['mulScalar'](-(-0x16b2+-0x7cf*0x3+0x2e20)),Eo['copy'](_0x5d3549['entity']['right']),Gc['copy'](Eo)['mulScalar'](-(-0x17*0x29+-0xdd1+-0x1*-0x1181)),wo['mulScalar'](_0xfd73c4['w']*_0x2ed448['y']),Vc['mulScalar'](_0xfd73c4['y']*_0x2ed448['y']),Eo['mulScalar'](_0xfd73c4['z']*_0x2ed448['x']),Gc['mulScalar'](_0xfd73c4['x']*_0x2ed448['x']),FS['copy'](_0x39973d[0x4*0x6c8+0x126f+-0x2d8f])['add'](Vc)['add'](Gc),NS['copy'](_0x39973d[-0x1707+-0x1*0x55c+0x1c64])['add'](Vc)['add'](Eo),kS['copy'](_0x39973d[0x21b2*0x1+-0x19c7+-0x7e9])['add'](wo)['add'](Eo),US['copy'](_0x39973d[0x1c4a+-0x1c6e*0x1+0x27])['add'](wo)['add'](Gc),_0x39973d=[FS,NS,kS,US];}if(_0x2ed448['x']<-0x2288+0x2f*0x91+-0xf*-0x87){const _0x27f2eb=_0x39973d[0x2641+0x2*-0xa74+-0xc1*0x17]['x'],_0x5034c4=_0x39973d[-0xb9*-0x3+0x1+0x4*-0x8b]['x'];_0x39973d[0x1*-0x21e3+0xbe2+0x1601]['x']=_0x27f2eb,_0x39973d[-0x927+-0x10fd*-0x1+-0x7d5*0x1]['x']=_0x5034c4,_0x39973d[0x667*0x1+-0x385+-0x2*0x170]['x']=_0x5034c4,_0x39973d[-0x7a*-0x4+0x370+-0x7*0xc3]['x']=_0x27f2eb;}if(_0x2ed448['y']<-0x1*0x2609+0x1e71+0x51*0x18){const _0x546d6d=_0x39973d[0xe27*-0x1+0x57d+-0xf*-0x94]['y'],_0x2a498e=_0x39973d[-0x1f*-0x133+-0x45*-0x49+-0x38da]['y'];_0x39973d[-0x5a7*0x4+0x1*-0xb53+0x21ef]['y']=_0x546d6d,_0x39973d[0x1*-0x115+0x3e0*0x3+-0xa8a]['y']=_0x546d6d,_0x39973d[0x1452+0x2*0x84e+-0x24ec]['y']=_0x2a498e,_0x39973d[0x930+-0x207+-0x5*0x16e]['y']=_0x2a498e;}if(_0x2ed448['z']<0x3b+0x1d10+-0x1d4b){const _0x5312dc=_0x39973d[0xd*-0xac+-0x11c9+0x1a87]['x'],_0x32b543=_0x39973d[-0xc*0x178+0x1f30+-0xd8e*0x1]['y'],_0x4859c2=_0x39973d[0x1cbb+0x6*0x359+0x341*-0xf]['z'];_0x39973d[-0x35*-0x85+0x35*-0x11+-0x1802]['x']=_0x39973d[-0x1*-0xb4a+0xbbd+-0x3*0x7ad]['x'],_0x39973d[0x5a7*-0x2+-0x220a+-0x5a*-0x81]['y']=_0x39973d[-0x14*0xcd+-0x943+-0x9*-0x2cf]['y'],_0x39973d[0x1284+-0x69d*-0x5+0x51*-0xa3]['z']=_0x39973d[0x3d9*-0x2+0x107e+-0x8cc]['z'],_0x39973d[0x17ee+0xa88+-0x16*0x191]['x']=_0x5312dc,_0x39973d[-0x1f76+0x102a+0xf4c]['y']=_0x32b543,_0x39973d[-0x1*0x91f+0x88b+0x25*0x4]['z']=_0x4859c2;}return _0x39973d;}static['calculateS'+'caleToScre'+'en'](_0x3243e6){let _0x312d25=_0x3243e6['entity'];const _0x417b78=_0x3243e6['screen']['screen']['scale'];for(tn['set'](_0x417b78,_0x417b78,_0x417b78);_0x312d25&&!_0x312d25['screen'];)tn['mul'](_0x312d25['getLocalSc'+'ale']()),_0x312d25=_0x312d25['parent'];return tn;}static['calculateS'+'caleToWorl'+'d'](_0x1fd798){let _0x4a14e0=_0x1fd798['entity'];for(tn['set'](0x1f0c+-0x4d*-0x53+-0x2*0x1c01,0xaa9+0xa93+-0x153b,-0x81d+0x19c*0x3+0x34a);_0x4a14e0;)tn['mul'](_0x4a14e0['getLocalSc'+'ale']()),_0x4a14e0=_0x4a14e0['parent'];return tn;}}J['prototype']['scale']=J['prototype']['mulScalar'],D['prototype']['scale']=D['prototype']['mulScalar'],re['prototype']['scale']=re['prototype']['mulScalar'],new re();function YU(_0x1a1162,_0x3dde23){return w['deprecated']('pc.createS'+'phere\x20is\x20d'+'eprecated.'+'\x20Use\x20\x27pc.M'+'esh.fromGe'+'ometry(dev'+'ice,\x20new\x20S'+'phereGeome'+'try(option'+'s);\x27\x20forma'+'t\x20instead.'),Ge['fromGeomet'+'ry'](_0x1a1162,new _m(_0x3dde23));}Object['defineProp'+'erties'](gt['prototype'],{'_glFrameBuffer':{'get':function(){return w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.'),this['impl']['_glFrameBu'+'ffer'];},'set':function(_0x1bb36d){w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.');}}}),Object['defineProp'+'erty'](kt,'defaultIns'+'tancingFor'+'mat',{'get':function(){return w['assert']('pc.VertexF'+'ormat.defa'+'ultInstanc'+'ingFormat\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.VertexFo'+'rmat.getDe'+'faultInsta'+'ncingForma'+'t(graphics'+'Device).'),null;}}),Object['defineProp'+'erties'](_e['prototype'],{'rgbm':{'get':function(){return w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']===Zi;},'set':function(_0x31ec64){w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']=_0x31ec64?Zi:Ds;}},'swizzleGGGR':{'get':function(){return w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']===Jo;},'set':function(_0x299b87){w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']=_0x299b87?Jo:Ds;}},'_glTexture':{'get':function(){return w['deprecated']('pc.Texture'+'#_glTextur'+'e\x20is\x20no\x20lo'+'nger\x20avail'+'able,\x20use\x20'+'Use\x20pc.Tex'+'ture.impl.'+'_glTexture'+'\x20instead.'),this['impl']['_glTexture'];}}}),Object['defineProp'+'erty']($e['prototype'],'boneLimit',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#bo'+'neLimit\x20is'+'\x20deprecate'+'d\x20and\x20the\x20'+'limit\x20has\x20'+'been\x20remov'+'ed.'),-0x2bd*-0x5+0x1*0x435+-0xde6;}}),Object['defineProp'+'erty']($e['prototype'],'webgl2',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#we'+'bgl2\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e#isWebGL2'+'\x20instead.'),this['isWebGL2'];}}),Object['defineProp'+'erty']($e['prototype'],'textureFlo'+'atHighPrec'+'ision',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureFloat'+'HighPrecis'+'ion\x20is\x20dep'+'recated\x20an'+'d\x20always\x20r'+'eturns\x20tru'+'e.'),!(0x1c2+0x1e0*-0x6+0x97e);}}),Object['defineProp'+'erty']($e['prototype'],'extBlendMi'+'nmax',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tBlendMinm'+'ax\x20is\x20depr'+'ecated\x20as\x20'+'it\x20is\x20alwa'+'ys\x20true.'),!(0x1036+0x6e7+0x1*-0x171d);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'HalfFloat',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureHa'+'lfFloat\x20is'+'\x20deprecate'+'d\x20as\x20it\x20is'+'\x20always\x20tr'+'ue.'),!(0x21a3*-0x1+0x13df*-0x1+0x3582);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Lod',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureLo'+'d\x20is\x20depre'+'cated\x20as\x20i'+'t\x20is\x20alway'+'s\x20true.'),!(-0x5c8+0x4*-0x511+-0x1*-0x1a0c);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatFilt'+'erable',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatFilter'+'able\x20is\x20de'+'precated\x20a'+'s\x20it\x20is\x20al'+'ways\x20true.'),!(0x2113*-0x1+-0x803+0x2916);}}),Object['defineProp'+'erty']($e['prototype'],'supportsMr'+'t',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsMrt\x20'+'is\x20depreca'+'ted\x20as\x20it\x20'+'is\x20always\x20'+'true.'),!(0x2006+-0x2207+0x201);}}),Object['defineProp'+'erty']($e['prototype'],'supportsVo'+'lumeTextur'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsVolu'+'meTextures'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(-0x116b+-0x136b*0x1+0xcd*0x2e);}}),Object['defineProp'+'erty']($e['prototype'],'supportsIn'+'stancing',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsInst'+'ancing\x20is\x20'+'deprecated'+'\x20as\x20it\x20is\x20'+'always\x20tru'+'e.'),!(-0x1*0x241f+0x137f*-0x1+0x379e);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatUpda'+'table',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatUpdata'+'ble\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true.'),!(0x5fb*0x5+0xe37*0x1+-0x160f*0x2);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Float',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureFl'+'oat\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true'),!(0x225e+0x60c+-0x286a);}}),Object['defineProp'+'erty']($e['prototype'],'extStandar'+'dDerivativ'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tStandardD'+'erivatives'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(-0xb69+-0x159e+0x2107);}}),pt['DEFAULT']=Object['freeze'](new pt());const ut=new pt(),ji=new Yt();$e['prototype']['setBlendFu'+'nction']=function(_0x38c475,_0x3fbe09){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x240c25=this['blendState'];ut['copy'](_0x240c25),ut['setColorBl'+'end'](_0x240c25['colorOp'],_0x38c475,_0x3fbe09),ut['setAlphaBl'+'end'](_0x240c25['alphaOp'],_0x38c475,_0x3fbe09),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendFu'+'nctionSepa'+'rate']=function(_0x29dab1,_0x2e7abe,_0x3781b8,_0xb8f4b7){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x3e2585=this['blendState'];ut['copy'](_0x3e2585),ut['setColorBl'+'end'](_0x3e2585['colorOp'],_0x29dab1,_0x2e7abe),ut['setAlphaBl'+'end'](_0x3e2585['alphaOp'],_0x3781b8,_0xb8f4b7),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uation']=function(_0xf9b6fb){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x4d8f1c=this['blendState'];ut['copy'](_0x4d8f1c),ut['setColorBl'+'end'](_0xf9b6fb,_0x4d8f1c['colorSrcFa'+'ctor'],_0x4d8f1c['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0xf9b6fb,_0x4d8f1c['alphaSrcFa'+'ctor'],_0x4d8f1c['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uationSepa'+'rate']=function(_0x2f4223,_0x461332){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x544cee=this['blendState'];ut['copy'](_0x544cee),ut['setColorBl'+'end'](_0x2f4223,_0x544cee['colorSrcFa'+'ctor'],_0x544cee['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x461332,_0x544cee['alphaSrcFa'+'ctor'],_0x544cee['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setColorWr'+'ite']=function(_0x2aee51,_0x17680c,_0x6f6f80,_0x512b82){w['deprecated']('pc.Graphic'+'sDevice#se'+'tColorWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etBlendSta'+'te\x20instead'+'.');const _0x52fc26=this['blendState'];ut['copy'](_0x52fc26),ut['setColorWr'+'ite'](_0x2aee51,_0x17680c,_0x6f6f80,_0x512b82),this['setBlendSt'+'ate'](ut);},$e['prototype']['getBlendin'+'g']=function(){return this['blendState']['blend'];},$e['prototype']['setBlendin'+'g']=function(_0x502bfd){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlending\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.Graphics'+'Device.set'+'BlendState'+'\x20instead.'),ut['copy'](this['blendState']),ut['blend']=_0x502bfd,this['setBlendSt'+'ate'](ut);},$e['prototype']['setDepthWr'+'ite']=function(_0x546ba4){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etDepthSta'+'te\x20instead'+'.'),ji['copy'](this['depthState']),ji['write']=_0x546ba4,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthFu'+'nc']=function(_0x5b3303){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthFunc'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['func']=_0x5b3303,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthTe'+'st']=function(_0x51f589){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthTest'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['test']=_0x51f589,this['setDepthSt'+'ate'](ji);},$e['prototype']['getCullMod'+'e']=function(){return this['cullMode'];},new Proxy({},{'get'(_0x2ae24a,_0x3b3dae){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20acces'+'s\x20global\x20s'+'hader\x20chun'+'ks\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Shade'+'rChunks.ge'+'t\x20instead,'+'\x20for\x20examp'+'le:\x20pc.Sha'+'derChunks.'+'get(this.a'+'pp.graphic'+'sDevice,\x20p'+'c.SHADERLA'+'NGUAGE_GLS'+'L).get(\x27'+_0x3b3dae+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['get'](_0x3b3dae);},'set'(_0x4838fe,_0x2b78ad,_0x5211de){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20overr'+'ide\x20global'+'\x20shader\x20ch'+'unks\x20is\x20de'+'precated.\x20'+'Use\x20pc.Sha'+'derChunks.'+'get\x20instea'+'d,\x20for\x20exa'+'mple:\x20pc.S'+'haderChunk'+'s.get(this'+'.app.graph'+'icsDevice,'+'\x20pc.SHADER'+'LANGUAGE_G'+'LSL).set(\x27'+_0x2b78ad+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['set'](_0x2b78ad,_0x5211de),!(-0x2*0x7fd+-0x748*-0x1+0x8b2);}}),Object['defineProp'+'erty'](Et['prototype'],'defaultMat'+'erial',{'get':function(){return w['deprecated']('pc.Scene#d'+'efaultMate'+'rial\x20is\x20de'+'precated.'),Qn(Ms()['graphicsDe'+'vice']);}}),Object['defineProp'+'erty'](Et['prototype'],'fogColor',{'set':function(_0x481a7c){w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color']=_0x481a7c;},'get':function(){return w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogEnd',{'set':function(_0x56019b){w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end']=_0x56019b;},'get':function(){return w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogStart',{'set':function(_0x124512){w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start']=_0x124512;},'get':function(){return w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogDensity',{'set':function(_0x4ee57e){w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density']=_0x4ee57e;},'get':function(){return w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density'];}}),Object['defineProp'+'erty'](Et['prototype'],'toneMappin'+'g',{'set':function(_0xe0b9a){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');},'get':function(){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'gammaCorre'+'ction',{'set':function(_0x41145e){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');},'get':function(){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'rendering',{'set':function(_0x18b616){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');},'get':function(){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');}}),Object['defineProp'+'erty'](du['prototype'],'_meshInsta'+'nces',{'get':function(){return w['deprecated']('pc.LayerCo'+'mposition#'+'_meshInsta'+'nces\x20is\x20de'+'precated.'),null;}}),Object['defineProp'+'erty'](Et['prototype'],'drawCalls',{'get':function(){return w['deprecated']('pc.Scene#d'+'rawCalls\x20i'+'s\x20deprecat'+'ed\x20and\x20no\x20'+'longer\x20pro'+'vides\x20mesh'+'\x20instances'+'.'),null;}}),['128','64','32','16','8','4']['forEach']((_0x4c8293,_0x4a58c9)=>{Object['defineProp'+'erty'](Et['prototype'],'skyboxPref'+'iltered'+_0x4c8293,{'get':function(){return w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x4c8293+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x4a58c9];},'set':function(_0x2e4a3f){w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x4c8293+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x4a58c9]=_0x2e4a3f,this['updateShad'+'ers']=!(0x1*-0x1c03+0x54f+0x2*0xb5a);}});}),Object['defineProp'+'erty'](Et['prototype'],'models',{'get':function(){return this['_models']||(this['_models']=[]),this['_models'];}});function Bt(_0x6a0dec,_0x80c07d,_0x3ab122=''){Object['defineProp'+'erty'](_0x6a0dec['prototype'],_0x80c07d,{'set':function(_0x265c20){w['errorOnce'](_0x6a0dec['name']+'#'+_0x80c07d+('\x20has\x20been\x20'+'removed.\x20')+_0x3ab122);},'get':function(){w['errorOnce'](_0x6a0dec['name']+'#'+_0x80c07d+('\x20has\x20been\x20'+'removed.\x20')+_0x3ab122);}});}Bt(Ot,'renderTarg'+'et'),Bt(Ot,'onPreCull'),Bt(Ot,'onPreRende'+'r'),Bt(Ot,'onPreRende'+'rOpaque'),Bt(Ot,'onPreRende'+'rTranspare'+'nt'),Bt(Ot,'onPostCull'),Bt(Ot,'onPostRend'+'er'),Bt(Ot,'onPostRend'+'erOpaque'),Bt(Ot,'onPostRend'+'erTranspar'+'ent'),Bt(Ot,'onDrawCall'),Bt(Ot,'layerRefer'+'ence'),Bt(Ir,'onPreCull','Use\x20Scene#'+'EVENT_PREC'+'ULL\x20event\x20'+'instead.'),Bt(Ir,'onPostCull','Use\x20Scene#'+'EVENT_POST'+'CULL\x20event'+'\x20instead.'),Bt(Ir,'onPreRende'+'r','Use\x20Scene#'+'EVENT_PRER'+'ENDER\x20even'+'t\x20instead.'),Bt(Ir,'onPostRend'+'er','Use\x20Scene#'+'EVENT_POST'+'RENDER\x20eve'+'nt\x20instead'+'.'),Bt(Ir,'onPreRende'+'rLayer','Use\x20Scene#'+'EVENT_PRER'+'ENDER_LAYE'+'R\x20event\x20in'+'stead.'),Bt(Ir,'onPostRend'+'erLayer','Use\x20Scene#'+'EVENT_POST'+'RENDER_LAY'+'ER\x20event\x20i'+'nstead.'),fl['prototype']['renderComp'+'osition']=function(_0x29222a){w['deprecated']('pc.Forward'+'Renderer#r'+'enderCompo'+'sition\x20is\x20'+'deprecated'+'.\x20Use\x20pc.A'+'ppBase.ren'+'derComposi'+'tion\x20inste'+'ad.'),Ms()['renderComp'+'osition'](_0x29222a);},He['prototype']['syncAabb']=function(){w['deprecated']('pc.MeshIns'+'tance#sync'+'Aabb\x20is\x20de'+'precated.');},mm['prototype']['getTarget']=function(_0x2a6903){return w['deprecated']('pc.Morph#g'+'etTarget\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.Morph#tar'+'gets\x20inste'+'ad.'),this['targets'][_0x2a6903];},Ie['prototype']['getChildre'+'n']=function(){return w['deprecated']('pc.GraphNo'+'de#getChil'+'dren\x20is\x20de'+'precated.\x20'+'Use\x20pc.Gra'+'phNode#chi'+'ldren\x20inst'+'ead.'),this['children'];},Ie['prototype']['getName']=function(){return w['deprecated']('pc.GraphNo'+'de#getName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name'];},Ie['prototype']['getPath']=function(){return w['deprecated']('pc.GraphNo'+'de#getPath'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#path\x20in'+'stead.'),this['path'];},Ie['prototype']['getRoot']=function(){return w['deprecated']('pc.GraphNo'+'de#getRoot'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#root\x20in'+'stead.'),this['root'];},Ie['prototype']['getParent']=function(){return w['deprecated']('pc.GraphNo'+'de#getPare'+'nt\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Graph'+'Node#paren'+'t\x20instead.'),this['parent'];},Ie['prototype']['setName']=function(_0x14da3a){w['deprecated']('pc.GraphNo'+'de#setName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name']=_0x14da3a;},Object['defineProp'+'erty'](tr['prototype'],'shader',{'set':function(_0x118d4e){w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.');},'get':function(){return w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.'),null;}}),Object['defineProp'+'erty'](tr['prototype'],'blend',{'set':function(_0x18e355){w['deprecated']('pc.Materia'+'l#blend\x20is'+'\x20deprecate'+'d,\x20use\x20pc.'+'Material.b'+'lendState.'),this['blendState']['blend']=_0x18e355;},'get':function(){return this['blendState']['blend'];}}),Object['defineProp'+'erty'](Ut['prototype'],'shininess',{'get':function(){return this['gloss']*(0x1920+-0x1dc6+-0xa*-0x81);},'set':function(_0xf3d211){this['gloss']=_0xf3d211*(-0x217d+0x24d6+-0x359+0.01);}}),Object['defineProp'+'erty'](Ut['prototype'],'useGammaTo'+'nemap',{'get':function(){return this['useTonemap'];},'set':function(_0x4e7018){this['useTonemap']=_0x4e7018;}}),Object['defineProp'+'erty'](Ut['prototype'],'anisotropy',{'get':function(){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.');const _0x4b9a0=Math['sign'](Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']*(0x46c+-0x1b94+0x172a)));return this['anisotropy'+'Intensity']*_0x4b9a0;},'set':function(_0x530e65){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.'),this['anisotropy'+'Intensity']=Math['abs'](_0x530e65),_0x530e65>=0x1d1b+0x7a6+-0x24c1?this['anisotropy'+'Rotation']=0x8d8*0x3+-0x12af*-0x1+0x2d37*-0x1:this['anisotropy'+'Rotation']=0x35*0xb1+0x1c9d*0x1+-0x40e8;}});function Qs(_0x58ec2c,_0x4d2a99){Object['defineProp'+'erty'](Ut['prototype'],_0x4d2a99,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x4d2a99+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x58ec2c+'\x20instead.'),this[_0x58ec2c];},'set':function(_0x5a31ea){w['deprecated']('pc.Standar'+'dMaterial#'+_0x4d2a99+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x58ec2c+'\x20instead.'),this[_0x58ec2c]=_0x5a31ea;}});}function Id(_0x57c8ef){Object['defineProp'+'erty'](Ut['prototype'],_0x57c8ef,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x57c8ef+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x57c8ef+('\x20was\x20alway'+'s\x20true')),!(-0xb3e+0x739+-0x1*-0x405);},'set':function(_0x577c53){w['deprecated']('pc.Standar'+'dMaterial#'+_0x57c8ef+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x57c8ef+('\x20was\x20alway'+'s\x20true'));}});}Id('sheenTint'),Id('diffuseTin'+'t'),Id('emissiveTi'+'nt'),Id('ambientTin'+'t'),Qs('specularTi'+'nt','specularMa'+'pTint'),Qs('aoVertexCo'+'lor','aoMapVerte'+'xColor'),Qs('diffuseVer'+'texColor','diffuseMap'+'VertexColo'+'r'),Qs('specularVe'+'rtexColor','specularMa'+'pVertexCol'+'or'),Qs('emissiveVe'+'rtexColor','emissiveMa'+'pVertexCol'+'or'),Qs('metalnessV'+'ertexColor','metalnessM'+'apVertexCo'+'lor'),Qs('glossVerte'+'xColor','glossMapVe'+'rtexColor'),Qs('opacityVer'+'texColor','opacityMap'+'VertexColo'+'r'),Qs('lightVerte'+'xColor','lightMapVe'+'rtexColor'),Qs('sheenGloss','sheenGloss'+'iess'),Qs('clearCoatG'+'loss','clearCostG'+'lossiness');function F0(_0x4aa7be,_0x47ed97){_0x4aa7be!=='pass'&&Object['defineProp'+'erty'](dl['prototype'],_0x4aa7be,{'get':function(){return w['deprecated']('Getting\x20pc'+'.Options#'+_0x4aa7be+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x47ed97||_0x4aa7be)+'.'),this['litOptions'][_0x47ed97||_0x4aa7be];},'set':function(_0x46ef83){w['deprecated']('Setting\x20pc'+'.Options#'+_0x4aa7be+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x47ed97||_0x4aa7be)+'.'),this['litOptions'][_0x47ed97||_0x4aa7be]=_0x46ef83;}});}F0('refraction','useRefract'+'ion');const TU=new wv(),zS=Object['getOwnProp'+'ertyNames'](TU);for(const l in zS)F0(zS[l]);mn['prototype']['getAssetBy'+'Id']=function(_0x266b13){return w['deprecated']('pc.AssetRe'+'gistry#get'+'AssetById\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AssetReg'+'istry#get\x20'+'instead.'),this['get'](_0x266b13);},Object['defineProp'+'erty'](Qt['prototype'],'ray',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#ray'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.XrInput'+'Source#get'+'Origin\x20and'+'\x20pc.XrInpu'+'tSource#ge'+'tDirection'+'\x20instead.'),this['_rayLocal'];}}),Object['defineProp'+'erty'](Qt['prototype'],'position',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#pos'+'ition\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Position\x20i'+'nstead.'),this['_localPosi'+'tion'];}}),Object['defineProp'+'erty'](Qt['prototype'],'rotation',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#rot'+'ation\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Rotation\x20i'+'nstead.'),this['_localRota'+'tion'];}}),Object['defineProp'+'erty'](Xo['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(-0x4*0x99b+-0x3*-0x71d+-0x1*-0x1117);}}),Object['defineProp'+'erty'](ta['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(0xe90+-0x10f*0x9+-0x507);}}),Ks['prototype']['isFullscre'+'en']=function(){return w['deprecated']('pc.AppBase'+'#isFullscr'+'een\x20is\x20dep'+'recated.\x20U'+'se\x20the\x20Ful'+'lscreen\x20AP'+'I\x20directly'+'.'),!!document['fullscreen'+'Element'];},Ks['prototype']['enableFull'+'screen']=function(_0x503e4c,_0x2d8fe1,_0x22e9bd){w['deprecated']('pc.AppBase'+'#enableFul'+'lscreen\x20is'+'\x20deprecate'+'d.\x20Use\x20the'+'\x20Fullscree'+'n\x20API\x20dire'+'ctly.'),_0x503e4c=_0x503e4c||this['graphicsDe'+'vice']['canvas'];const _0xbb9511=function(){_0x2d8fe1(),document['removeEven'+'tListener']('fullscreen'+'change',_0xbb9511);},_0x29e95f=function(){_0x22e9bd(),document['removeEven'+'tListener']('fullscreen'+'error',_0x29e95f);};_0x2d8fe1&&document['addEventLi'+'stener']('fullscreen'+'change',_0xbb9511,!(-0x37*0x1+-0x25*-0xf4+-0x230c)),_0x22e9bd&&document['addEventLi'+'stener']('fullscreen'+'error',_0x29e95f,!(-0x21bb+-0xb*-0x95+-0x1b55*-0x1)),_0x503e4c['requestFul'+'lscreen']?_0x503e4c['requestFul'+'lscreen'](Element['ALLOW_KEYB'+'OARD_INPUT']):_0x22e9bd();},Ks['prototype']['disableFul'+'lscreen']=function(_0x37ab05){w['deprecated']('pc.AppBase'+'#disableFu'+'llscreen\x20i'+'s\x20deprecat'+'ed.\x20Use\x20th'+'e\x20Fullscre'+'en\x20API\x20dir'+'ectly.');const _0x439af6=function(){_0x37ab05(),document['removeEven'+'tListener']('fullscreen'+'change',_0x439af6);};_0x37ab05&&document['addEventLi'+'stener']('fullscreen'+'change',_0x439af6,!(-0x206c+0x2104+-0x97)),document['exitFullsc'+'reen']();},Ks['prototype']['getSceneUr'+'l']=function(_0x46f95f){w['deprecated']('pc.AppBase'+'#getSceneU'+'rl\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.AppBa'+'se#scenes\x20'+'and\x20pc.Sce'+'neRegistry'+'#find\x20inst'+'ead.');const _0x13329b=this['scenes']['find'](_0x46f95f);return _0x13329b?_0x13329b['url']:null;},Ks['prototype']['loadScene']=function(_0x310244,_0x31bf29){w['deprecated']('pc.AppBase'+'#loadScene'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.AppBase'+'#scenes\x20an'+'d\x20pc.Scene'+'Registry#l'+'oadScene\x20i'+'nstead.'),this['scenes']['loadScene'](_0x310244,_0x31bf29);},Ks['prototype']['loadSceneH'+'ierarchy']=function(_0x6b7f6b,_0x161328){w['deprecated']('pc.AppBase'+'#loadScene'+'Hierarchy\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AppBase#'+'scenes\x20and'+'\x20pc.SceneR'+'egistry#lo'+'adSceneHie'+'rarchy\x20ins'+'tead.'),this['scenes']['loadSceneH'+'ierarchy'](_0x6b7f6b,_0x161328);},Ks['prototype']['loadSceneS'+'ettings']=function(_0x322d19,_0x14c129){w['deprecated']('pc.AppBase'+'#loadScene'+'Settings\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.AppBase#s'+'cenes\x20and\x20'+'pc.SceneRe'+'gistry#loa'+'dSceneSett'+'ings\x20inste'+'ad.'),this['scenes']['loadSceneS'+'ettings'](_0x322d19,_0x14c129);},Tm['prototype']['setVisible']=function(_0x5a6dc7){w['deprecated']('pc.ModelCo'+'mponent#se'+'tVisible\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.ModelComp'+'onent#enab'+'led\x20instea'+'d.'),this['enabled']=_0x5a6dc7;},Object['defineProp'+'erty'](bs['prototype'],'bodyType',{'get':function(){return w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type'];},'set':function(_0x4010b0){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type']=_0x4010b0;}}),bs['prototype']['syncBodyTo'+'Entity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#syncBody'+'ToEntity\x20i'+'s\x20not\x20publ'+'ic\x20API\x20and'+'\x20should\x20no'+'t\x20be\x20used.'),this['_updateDyn'+'amic']();},wm['prototype']['setGravity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'tSystem#se'+'tGravity\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.RigidBody'+'ComponentS'+'ystem#grav'+'ity\x20instea'+'d.'),arguments['length']===-0x7b*-0x17+-0x21fe+0x16f2?this['gravity']['copy'](arguments[-0x106*0x14+-0x3*0x151+0x186b]):this['gravity']['set'](arguments[-0x4fb+-0x1eb7+0x23b2],arguments[-0x1*0x1645+0x607+-0x1*-0x103f],arguments[0x3*0x593+0xce*-0x1f+0x83b]);};class wU{constructor(_0x3f70ec){this['_frameInde'+'x']=0x2650+-0x3*-0x51b+-0x35a1*0x1,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=0xfe5+-0xb05+-0x1*0x4df,this['enabled']=!(0xcb+0x55*0x34+-0x120f),_0x3f70ec['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x3f70ec['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x3f70ec['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x54903d){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x222d61=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x222d61,this['_frameInde'+'x']=0x1084+0x1737+-0x27bb,this['mark'](_0x54903d);}['mark'](_0x55faaa){if(!this['enabled'])return;const _0x33864a=de();if(this['_frameInde'+'x']>-0x5*0x700+0x5de+0x1d22){const _0x424706=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0x5d2+0x7*0x444+-0x23ad)];_0x424706[0x20c+0x147+-0x352]=_0x33864a-_0x424706[-0x5d*0x23+-0x10b*0x16+0xb*0x33e];}else{if(this['_timings']['length']>0x2*-0x66e+-0x7da+0xf1*0x16){const _0x4b06e6=this['_timings'][this['_timings']['length']-(0x2*0x284+0x6aa*0x5+-0x2659)];_0x4b06e6[0x6*-0x4f9+0x35*0x7f+0x38c]=_0x33864a-_0x4b06e6[0x14b+0xdf3+-0xf3d];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x55faaa,_0x33864a]);else{const _0x5c0f7f=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x5c0f7f[-0xe27*0x1+0x2385*0x1+0x5*-0x446]=_0x55faaa,_0x5c0f7f[0x21e1+0x1597*-0x1+-0xc49]=_0x33864a;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](0x2e9*0x8+-0x1dd7+0x68f,-(0x25f*-0x4+-0x11*-0x19d+0x29*-0x70))['map'](_0xc12cb7=>_0xc12cb7[-0x1a62*0x1+0xefa+0xb69*0x1]);}}class EU{constructor(_0x295714){this['device']=_0x295714,_0x295714['gpuProfile'+'r']['enabled']=!(0x164+0x1*0x187f+-0x19e3),this['enabled']=!(-0x1*-0x185f+-0x1853*0x1+-0xc),this['unitsName']='ms',this['decimalPla'+'ces']=0x3*-0x921+0x1aa6+-0x1*-0xbe,this['_timings']=[];}get['timings'](){return this['_timings'][-0x16f*-0x1b+-0x1*-0x2697+-0x48c*0x11]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class bU{constructor(_0x492276,_0x2e0847,_0x44211b,_0x252d18,_0x22c72b){this['app']=_0x492276,this['values']=[],this['statNames']=_0x2e0847,this['statNames']['length']>0x60c*0x1+-0x181f+0x1cf*0xa&&(this['statNames']['length']=0x71a+0x2*-0x9cf+-0xc87*-0x1),this['unitsName']=_0x252d18,this['decimalPla'+'ces']=_0x44211b,this['multiplier']=_0x22c72b||0x5*-0x658+-0x12b*0x1+-0x1*-0x20e4;const _0x1bed80=(_0x29eabf,_0xd8d60a)=>_0x29eabf['split']('.')['reduce']((_0x303ec0,_0x4536dc)=>_0x303ec0?_0x303ec0[_0x4536dc]:null,_0xd8d60a||this);_0x492276['on']('frameupdat'+'e',_0x3628da=>{for(let _0x2dccdd=0x1aac+-0x26*-0x83+-0x2*0x170f;_0x2dccdd<this['statNames']['length'];_0x2dccdd++)this['values'][_0x2dccdd]=_0x1bed80(this['statNames'][_0x2dccdd],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class Uf{constructor(_0x48e676,_0x348164,_0x1f3502,_0x42dffd,_0x1af7a3){this['app']=_0x348164,this['name']=_0x48e676,this['device']=_0x348164['graphicsDe'+'vice'],this['timer']=_0x1af7a3,this['watermark']=_0x1f3502,this['enabled']=!(0x2534+-0x202f+-0x504),this['textRefres'+'hRate']=_0x42dffd,this['avgTotal']=-0x23bb*0x1+0xa*0x399+-0x3f,this['avgTimer']=-0xd3e+0x81e+0x20*0x29,this['avgCount']=0x6b*-0x1b+0x2b*0xa2+-0xfed,this['timingText']='',this['texture']=null,this['yOffset']=0x12c8+0x2482+-0x374a,this['cursor']=0x39*-0x1+0x27b*-0x1+-0x4*-0xad,this['sample']=new Uint8ClampedArray(-0x209+-0x229d*0x1+0x169*0x1a),this['sample']['set']([-0x1583+-0x1b3+0x1736,0x566+0x778+-0xcde,0x69a+-0xe73+0x7d9,0x2*-0x12c7+0x1d81+0x3*0x304]),this['counter']=-0x1*0x13ed+-0x6c*0x43+0x3031,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x4d0061){const _0x27a2b4=this['timer']['timings'],_0x46794b=_0x27a2b4['reduce']((_0x3fbfb2,_0x54fea5)=>_0x3fbfb2+_0x54fea5,-0x1f*-0x3e+-0x7f6*-0x4+-0x275a);if(this['avgTotal']+=_0x46794b,this['avgTimer']+=_0x4d0061,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=-0xf61+-0x52*-0x4a+0x1*-0x853,this['avgTotal']=-0x9a3*0x1+0x20f0+-0x174d*0x1,this['avgCount']=-0x13e+0x161*0x6+0x64*-0x12),this['enabled']){let _0x15ffbc=0x1d02+-0x22b4+0x12*0x51;const _0x3c02a1=(-0x1*-0x53b+-0x8c8+0x38e+0.5)*this['watermark'];for(let _0x26c617=0x2270+0x2297+-0x4507;_0x26c617<_0x27a2b4['length'];++_0x26c617)_0x15ffbc+=Math['floor'](_0x27a2b4[_0x26c617]/_0x3c02a1*(0x1e*-0xb+0x7b8+0x56f*-0x1)),this['sample'][_0x26c617]=_0x15ffbc;this['sample'][-0x14b1*0x1+-0xad*-0xf+0x5*0x21d]=this['watermark']/_0x3c02a1*(0x446*-0x3+0x3*0xc37+-0x3*0x79c),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(-0x1*-0x4e1+0x7*0x493+0x2*-0x1271)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=-0x95f*-0x2+0x1190+-0x2*0x1227);}}['render'](_0x3c6f6d,_0x149021,_0x2efe9a,_0x24802f,_0x172929){_0x3c6f6d['quad'](_0x149021+_0x24802f,_0x2efe9a,-_0x24802f,_0x172929,this['enabled']?this['cursor']:0xdba+0xa11*0x3+-0x8c9*0x5,this['enabled']?-0x32f*-0x4+0xf5b+-0x1a7*0x11+0.5+this['yOffset']:this['texture']['height']-(-0x1909+-0x1*0x1c6c+-0x3*-0x11d2),-_0x24802f,0x473+0x1855+-0x1cc8,this['texture'],0xc80+-0xbf5*0x1+-0x8b);}}class AU{constructor(_0x321749,_0x206aa2){const _0x2a7c56=_0x19316d=>{_0x19316d['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x19316d['textAlign']='left',_0x19316d['textBaseli'+'ne']='alphabetic';},_0x5141a8=_0x587f76=>_0x587f76==='.'||_0x587f76['length']===0x1d0+0x91f+-0xaee&&_0x587f76['charCodeAt'](-0xf79*-0x1+-0x1154+0x1db)>=0x2*0x971+-0x2b*0x41+-0xb5*0xb&&_0x587f76['charCodeAt'](0x11c*-0x1+-0x23f0+0x250c)<=0x139d+-0x11+0x123*-0x11,_0x11e82b=document['createElem'+'ent']('canvas'),_0x46c3fe=_0x11e82b['getContext']('2d',{'alpha':!(-0x1114*-0x2+0xa*0x41+-0x1ab*0x16)});_0x2a7c56(_0x46c3fe);const _0x120369=new Map(),_0x510474=-0x1093*-0x1+-0x1*-0x137e+0x301*-0xc,_0x33ffca=-0x496+-0x111*-0x3+-0x33*-0x11;let _0x3c718f=_0x510474,_0x2bf070=_0x510474;_0x206aa2['forEach'](_0x2971c1=>{const _0x4e39cb=_0x46c3fe['measureTex'+'t'](_0x2971c1),_0x35f6c2=Math['ceil'](-_0x4e39cb['actualBoun'+'dingBoxLef'+'t']),_0x448a11=Math['ceil'](_0x4e39cb['actualBoun'+'dingBoxRig'+'ht']),_0x3f9122=Math['ceil'](_0x4e39cb['actualBoun'+'dingBoxAsc'+'ent']),_0xbaae9f=Math['ceil'](_0x4e39cb['actualBoun'+'dingBoxDes'+'cent']),_0x513ff6=_0x35f6c2+_0x448a11,_0x2e0bff=_0x3f9122+_0xbaae9f;_0x3c718f+_0x513ff6+_0x510474>=_0x33ffca&&(_0x3c718f=_0x510474,_0x2bf070+=-0x229c+0x2418+0x34*-0x7),_0x120369['set'](_0x2971c1,{'l':_0x35f6c2,'r':_0x448a11,'a':_0x3f9122,'d':_0xbaae9f,'w':_0x513ff6,'h':_0x2e0bff,'x':_0x3c718f,'y':_0x2bf070}),_0x3c718f+=_0x513ff6+_0x510474;}),_0x11e82b['width']=-0x11c1+0x115*-0xd+-0xde*-0x27,_0x11e82b['height']=Y['nextPowerO'+'fTwo'](_0x2bf070+(0xb56+0xb*0x22f+-0x8b*0x41)+_0x510474),_0x2a7c56(_0x46c3fe),_0x46c3fe['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x46c3fe['fillRect'](-0x48*0x40+0xdb9+-0xf*-0x49,-0xfe0+-0x12eb+0x22cb,_0x11e82b['width'],_0x11e82b['height']),_0x120369['forEach']((_0x458fde,_0x562bc9)=>{_0x46c3fe['fillStyle']=_0x5141a8(_0x562bc9)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x46c3fe['fillText'](_0x562bc9,_0x458fde['x']-_0x458fde['l'],_0x458fde['y']+_0x458fde['a']);}),this['placements']=_0x120369;const _0x54ceb6=_0x46c3fe['getImageDa'+'ta'](-0x1d98+0x241d+0x1*-0x685,-0x937+-0x11fa+0x1*0x1b31,_0x11e82b['width'],_0x11e82b['height'])['data'];for(let _0x2028f5=0x1d30+0xcf8+0x47*-0x98;_0x2028f5<_0x54ceb6['length'];_0x2028f5+=-0x1cbf+-0x44*-0x1+0x1c7f)_0x54ceb6[_0x2028f5+(-0x54a+-0x3*-0x7cf+-0x1220*0x1)]=_0x54ceb6[_0x2028f5+(0x1cf5+0x228a+-0xcb3*0x5)],_0x54ceb6[_0x2028f5+(0x3d*-0x1+-0xfd1*-0x1+-0x4*0x3e5)]=-0x1913+-0x1d*0x133+-0x1a5*-0x25,_0x54ceb6[_0x2028f5+(0x3a*0xa5+0x8b4+-0x2f*0xfb)]=-0x19cb+0x814+0x12b6,_0x54ceb6[_0x2028f5+(-0x1b*0x35+0xb03+-0x56a)]=-0xdf1+-0x1*0x1575+-0x7*-0x533;this['texture']=new _e(_0x321749,{'name':'mini-stats'+'-word-atla'+'s','width':_0x11e82b['width'],'height':_0x11e82b['height'],'mipmaps':!(0xa9f+0x1938+-0x23d6),'minFilter':Te,'magFilter':Te,'levels':[_0x54ceb6]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x2ead6d,_0x3de301,_0xf9d74d,_0x2dc97d){const _0x4a55eb=this['placements']['get'](_0x3de301);return _0x4a55eb?(_0x2ead6d['quad'](_0xf9d74d+_0x4a55eb['l']-(0x256a+0x1285*-0x2+-0x5f),_0x2dc97d-_0x4a55eb['d']+(0x2159+0x26d2+-0x482a),_0x4a55eb['w']+(0x220a*0x1+0x15f+0x35*-0xab),_0x4a55eb['h']+(-0x2281+0xf10+-0x1373*-0x1),_0x4a55eb['x']-(0x823*-0x2+-0x245+-0x4a3*-0x4),this['texture']['height']-_0x4a55eb['y']-_0x4a55eb['h']-(-0xd7c*-0x2+-0x13ef+-0x708),void(0x359*-0x5+-0x256+0x1313),void(0x1cd5+0xa1a+-0x26ef),this['texture'],0x1763+0x17d9+-0x2f3b),_0x4a55eb['w']):-0x1d57+-0x1*-0x487+0x18d0;}}const CU='\x0a\x20\x20\x20\x20attri'+'bute\x20vec3\x20'+'vertex_pos'+'ition;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20un'+'normalized'+'\x20xy,\x20word\x20'+'flag\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_texCoord0'+';\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20unnormal'+'ized\x20textu'+'re\x20space\x20u'+'v,\x20normali'+'zed\x20uv\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec4\x20uv0;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20float\x20wo'+'rdFlag;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion.xy\x20*\x202'+'.0\x20-\x201.0,\x20'+'0.5,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20verte'+'x_texCoord'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20wordFlag\x20'+'=\x20vertex_p'+'osition.z;'+'\x0a\x20\x20\x20\x20}\x0a',PU='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec3f;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'unnormaliz'+'ed\x20xy,\x20wor'+'d\x20flag\x0a\x20\x20\x20'+'\x20attribute'+'\x20vertex_te'+'xCoord0:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20unno'+'rmalized\x20t'+'exture\x20spa'+'ce\x20uv,\x20nor'+'malized\x20uv'+'\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'varying\x20wo'+'rdFlag:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x20fn\x20v'+'ertexMain('+'input\x20:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output\x20:\x20'+'VertexOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4(input'+'.vertex_po'+'sition.xy\x20'+'*\x202.0\x20-\x201.'+'0,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.u'+'v0\x20=\x20input'+'.vertex_te'+'xCoord0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.wordFl'+'ag\x20=\x20input'+'.vertex_po'+'sition.z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',MU='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20uv'+'0;\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20wordFlag;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'lr;\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20grap'+'hTex;\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in\x20(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20graph'+'Sample\x20=\x20t'+'exture2D(g'+'raphTex,\x20u'+'v0.xy);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20graph;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.r)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.7,\x200.2,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.b)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gr'+'aph\x20=\x20vec4'+'(0.2,\x200.2,'+'\x200.7,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gra'+'ph\x20=\x20vec4('+'0.0,\x200.0,\x20'+'0.0,\x201.0\x20-'+'\x200.25\x20*\x20si'+'n(uv0.w\x20*\x20'+'3.14159));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20words'+'\x20=\x20texture'+'2D(wordsTe'+'x,\x20vec2(uv'+'0.x,\x201.0\x20-'+'\x20uv0.y));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20mix(gr'+'aph,\x20words'+',\x20wordFlag'+')\x20*\x20clr;\x0a\x20'+'\x20\x20\x20}\x0a',DU='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c4f;\x0a\x20\x20\x20\x20v'+'arying\x20wor'+'dFlag:\x20f32'+';\x0a\x0a\x20\x20\x20\x20uni'+'form\x20clr:\x20'+'vec4f;\x0a\x0a\x20\x20'+'\x20\x20var\x20grap'+'hTex\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20graphTex'+'_sampler\x20:'+'\x20sampler;\x0a'+'\x0a\x20\x20\x20\x20var\x20w'+'ordsTex\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20words'+'Tex_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20u'+'v0:\x20vec4f\x20'+'=\x20input.uv'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20graph'+'Sample:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'graphTex,\x20'+'graphTex_s'+'ampler,\x20uv'+'0.xy);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'graph:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(uv0.'+'w\x20<\x20graphS'+'ample.r)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4f(0.7'+',\x200.2,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4f(0.'+'2,\x200.7,\x200.'+'2,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(uv'+'0.w\x20<\x20grap'+'hSample.b)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20graph'+'\x20=\x20vec4f(0'+'.2,\x200.2,\x200'+'.7,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'raph\x20=\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x201.'+'0\x20-\x200.25\x20*'+'\x20sin(uv0.w'+'\x20*\x203.14159'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20wor'+'ds:\x20vec4f\x20'+'=\x20textureS'+'ample(word'+'sTex,\x20word'+'sTex_sampl'+'er,\x20vec2f('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'input.word'+('Flag)\x20*\x20un'+'iform.clr;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a');class IU{constructor(_0x2884b7,_0x37386c=0x1e7*0x7+0x1436+0x481*-0x7){const _0x1c931a=new kt(_0x2884b7,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':is,'components':0x4,'type':Ve}]),_0x5e5e42=new Uint16Array(_0x37386c*(0x1499+0x725+-0x1bb8));for(let _0x321cd0=0x15f+0x11a8+0x1*-0x1307;_0x321cd0<_0x37386c;++_0x321cd0)_0x5e5e42[_0x321cd0*(0x14*0x190+0x143a+-0x3374)+(0x217c+0x13*0x32+-0x12*0x211)]=_0x321cd0*(-0x2b*-0xe5+0xb20+-0x103*0x31),_0x5e5e42[_0x321cd0*(0x1b0e+-0x6cd*-0x1+-0x21d5)+(0x1*0xead+-0x1*0x247d+0x15d1)]=_0x321cd0*(-0x1*-0x59f+0xc50+-0x8b*0x21)+(-0x12a0*-0x2+-0x404+-0x213b),_0x5e5e42[_0x321cd0*(-0x1*-0x121f+-0x9cd+-0x84c)+(0x1d22+-0x11e8+-0xb38)]=_0x321cd0*(-0x5f*-0x44+-0x1ef2+-0x5ba*-0x1)+(-0x14e9+0x1589+-0x9e),_0x5e5e42[_0x321cd0*(0xa3b+-0x2b*0xce+-0x4e1*-0x5)+(0x1624+0xb*-0x10e+-0xa87)]=_0x321cd0*(-0x388*0x2+-0x1c*-0x1b+0x2c*0x18),_0x5e5e42[_0x321cd0*(-0xb1+-0x8bc+0x973*0x1)+(-0x2a1*0x2+0xb5*0x5+0x1bd)]=_0x321cd0*(0x1*0x1abb+-0xd5f+-0xd58)+(0x67*0x22+-0x11bd+0x411),_0x5e5e42[_0x321cd0*(-0x13f6+-0x14eb+0x28e7*0x1)+(-0x115+0x1a5*-0x13+-0x5b*-0x5b)]=_0x321cd0*(-0x189e+0xd28+0xd*0xe2)+(-0x591+0x1bfe+-0x166a);this['device']=_0x2884b7,this['buffer']=new Is(_0x2884b7,_0x1c931a,_0x37386c*(0x1f*-0x11f+-0x26f5*0x1+0x49ba*0x1),{'usage':ey}),this['data']=new Float32Array(this['buffer']['numBytes']/(-0xbef+0x26e3+0x4*-0x6bc)),this['indexBuffe'+'r']=new br(_0x2884b7,Yi,_0x37386c*(-0x1311+0x1*-0x175d+0x1a2*0x1a),ms,_0x5e5e42),this['prim']={'type':js,'indexed':!(-0x47*-0x81+0x254*0xd+-0x420b*0x1),'base':0x0,'baseVertex':0x0,'count':0x0},this['quads']=0x3*0x97b+-0x2256+0x5e5*0x1,this['mesh']=new Ge(_0x2884b7),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][-0x1*-0x505+-0xb8f+0x68a]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x405608=new Xn({'uniqueName':'MiniStats','vertexGLSL':CU,'fragmentGLSL':MU,'vertexWGSL':PU,'fragmentWGSL':DU,'attributes':{'vertex_position':Me,'vertex_texCoord0':is}});this['material']=_0x405608,_0x405608['cull']=bt,_0x405608['depthState']=Yt['NODEPTH'],_0x405608['blendState']=new pt(!(0x26b6*-0x1+0x2f*0xc5+0x5d*0x7),fs,jh,Yh,fs,Ft,Ft),_0x405608['update'](),this['meshInstan'+'ce']=new He(this['mesh'],_0x405608,new Ie('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(-0x427*0x7+-0x6b1*0x3+0x8*0x625)},this['targetSize']={'width':_0x2884b7['width'],'height':_0x2884b7['height']};}['quad'](_0x57f207,_0x55961b,_0x48dc10,_0x2a6a78,_0x2d18c1,_0x3deb58,_0x327ce0,_0x1e26bb,_0x5f5860,_0x22056c=0x196a+-0x151c+0x44e*-0x1){const _0x3e289a=this['targetSize']['width'],_0x548741=this['targetSize']['height'],_0x23a8ca=_0x57f207/_0x3e289a,_0x3d940d=_0x55961b/_0x548741,_0x2d85fc=(_0x57f207+_0x48dc10)/_0x3e289a,_0x1548fd=(_0x55961b+_0x2a6a78)/_0x548741,_0x44b96d=_0x5f5860['width'],_0x1b9bd3=_0x5f5860['height'],_0x12deb6=_0x2d18c1/_0x44b96d,_0x48c2b2=_0x3deb58/_0x1b9bd3,_0x2e474d=(_0x2d18c1+(_0x327ce0??_0x48dc10))/_0x44b96d,_0x6fe032=(_0x3deb58+(_0x1e26bb??_0x2a6a78))/_0x1b9bd3;this['data']['set']([_0x23a8ca,_0x3d940d,_0x22056c,_0x12deb6,_0x48c2b2,0x17ed+0x5*-0x218+-0xd75,0x870+-0x1*-0x1865+-0x5*0x691,_0x2d85fc,_0x3d940d,_0x22056c,_0x2e474d,_0x48c2b2,-0x63*0x2c+0x1d80+0x27f*-0x5,0x1*-0x1e6d+0x6d4+-0x7*-0x35f,_0x2d85fc,_0x1548fd,_0x22056c,_0x2e474d,_0x6fe032,0x107+-0x46*0x2+0x7a*-0x1,0x12cc+0x1*-0x2c3+-0x24*0x72,_0x23a8ca,_0x1548fd,_0x22056c,_0x12deb6,_0x6fe032,-0xd*-0x1d1+-0x1b31+-0x4*-0xe5,0x19e6+-0x1*0x13d9+-0x60c],(0x26b6+0x1530+-0x3bca)*this['quads']),this['quads']++,this['prim']['count']+=-0x43*-0xa+-0x245a+-0x95*-0x3a;}['startFrame'](){this['quads']=0x9fe+0xa*0x113+-0x14bc,this['prim']['count']=-0x13f6+-0x34e+0x1744,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0xeb018d,_0x441070,_0x20d04f,_0x203443,_0x5b2d3b,_0x1b2acd){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x5b2d3b,-0x1f*0x43+-0x154c+0x1*0x1d69),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x20d04f),this['material']['setParamet'+'er']('wordsTex',_0x203443),_0xeb018d['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x441070);}}class N0{constructor(_0x16a52b,_0x29418a){const _0x5e7cc6=_0x16a52b['graphicsDe'+'vice'];this['deviceHeig'+'ht']=_0x5e7cc6['height']/_0x5e7cc6['maxPixelRa'+'tio'],_0x29418a={...N0['getDefault'+'Options'](),..._0x29418a},this['options']=_0x29418a,this['initGraphs'](_0x16a52b,_0x5e7cc6,_0x29418a);const _0x1ee338=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x2bdac6=>_0x2bdac6['name']))['concat'](_0x29418a['stats']?_0x29418a['stats']['map'](_0x583dfb=>_0x583dfb['unitsName']):[])['filter'](_0x9cb4ef=>!!_0x9cb4ef));this['wordAtlas']=new AU(_0x5e7cc6,_0x1ee338),this['sizes']=_0x29418a['sizes'],this['_activeSiz'+'eIndex']=_0x29418a['startSizeI'+'ndex'];const _0x37557b=document['createElem'+'ent']('div');_0x37557b['setAttribu'+'te']('id','mini-stats'),_0x29418a['position']==='top'?_0x37557b['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';':_0x37557b['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',_0x37557b['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';',document['body']['appendChil'+'d'](_0x37557b),_0x37557b['addEventLi'+'stener']('mouseenter',_0x4137a4=>{this['opacity']=0x945*-0x3+0x161b+-0x3*-0x1e7;}),_0x37557b['addEventLi'+'stener']('mouseleave',_0x445061=>{this['opacity']=-0x3*-0x25f+0x1938+-0x2055+0.7;}),_0x37557b['addEventLi'+'stener']('click',_0x238444=>{_0x238444['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(-0x1fca+-0xfb*0x11+-0x3076*-0x1))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x5e7cc6['on']('resizecanv'+'as',this['updateDiv'],this),_0x5e7cc6['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x16a52b['on']('postrender',this['postRender'],this),this['app']=_0x16a52b,this['drawLayer']=_0x16a52b['scene']['layers']['getLayerBy'+'Id'](Il),this['device']=_0x5e7cc6,this['render2d']=new IU(_0x5e7cc6),this['div']=_0x37557b,this['width']=-0xcc8+0x46+-0x2*-0x641,this['height']=-0xb97+-0xb*0x33d+-0x179b*-0x2,this['gspacing']=0x118c+-0x171a+-0x8*-0xb2,this['clr']=[-0x5*0x80+0x165f+-0x13de*0x1,0x3*0x196+-0x32f*0x5+-0x2*-0x595,0xed*0x29+-0x2371+0x283*-0x1,0x71*0x15+-0x623*0x2+-0x301*-0x1+0.5],this['_enabled']=!(0x1256+-0x2*-0x120a+-0x366a),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x214032=>_0x214032['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'position':'top','sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(-0x749+-0x11d*-0xc+-0x612)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(-0x13*0x1e8+-0x13f*0x1+0x2577)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(0x1*-0x1181+0x40d+0xd74)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(0x14d0+-0x145c+0x3a*-0x2),'watermark':0x21},'gpu':{'enabled':!(-0x1*-0x185c+-0x701+0x1*-0x115b),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x51c3ac){this['_activeSiz'+'eIndex']=_0x51c3ac,this['gspacing']=this['sizes'][_0x51c3ac]['spacing'],this['resize'](this['sizes'][_0x51c3ac]['width'],this['sizes'][_0x51c3ac]['height'],this['sizes'][_0x51c3ac]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x3b9c5d){this['clr'][-0x1b5b+-0x1973+0x119b*0x3]=_0x3b9c5d;}get['opacity'](){return this['clr'][0x8*0xb+-0x190a+0x18b5];}get['overallHei'+'ght'](){const _0xf0c703=this['graphs'],_0x2c3d3e=this['gspacing'];return this['height']*_0xf0c703['length']+_0x2c3d3e*(_0xf0c703['length']-(0x3*-0xfe+0x1c6d*0x1+-0x1*0x1972));}set['enabled'](_0x4eb17f){if(_0x4eb17f!==this['_enabled']){this['_enabled']=_0x4eb17f;for(let _0x4614c2=0x1c8+0x1f*0xb2+-0x1756;_0x4614c2<this['graphs']['length'];++_0x4614c2)this['graphs'][_0x4614c2]['enabled']=_0x4eb17f,this['graphs'][_0x4614c2]['timer']['enabled']=_0x4eb17f;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x59de02,_0x987bc6,_0x44829e){if(this['graphs']=[],_0x44829e['cpu']['enabled']){const _0xf65930=new wU(_0x59de02),_0x2f775b=new Uf('CPU',_0x59de02,_0x44829e['cpu']['watermark'],_0x44829e['textRefres'+'hRate'],_0xf65930);this['graphs']['push'](_0x2f775b);}if(_0x44829e['gpu']['enabled']){const _0x13bcef=new EU(_0x987bc6),_0x52d0e4=new Uf('GPU',_0x59de02,_0x44829e['gpu']['watermark'],_0x44829e['textRefres'+'hRate'],_0x13bcef);this['graphs']['push'](_0x52d0e4);}_0x44829e['stats']&&_0x44829e['stats']['forEach'](_0x54cd01=>{const _0x155a65=new bU(_0x59de02,_0x54cd01['stats'],_0x54cd01['decimalPla'+'ces'],_0x54cd01['unitsName'],_0x54cd01['multiplier']),_0x3ba6a9=new Uf(_0x54cd01['name'],_0x59de02,_0x54cd01['watermark'],_0x44829e['textRefres'+'hRate'],_0x155a65);this['graphs']['push'](_0x3ba6a9);});const _0x26587c=_0x44829e['sizes']['reduce']((_0x1426cc,_0x58d58b)=>_0x58d58b['width']>_0x1426cc?_0x58d58b['width']:_0x1426cc,0x1c5*-0x11+-0x1b9+-0x1*-0x1fce);this['texture']=new _e(_0x987bc6,{'name':'mini-stats'+'-graph-tex'+'ture','width':Y['nextPowerO'+'fTwo'](_0x26587c),'height':Y['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(-0x6*0x1e2+0x1*0x1b16+-0xfc9),'minFilter':Te,'magFilter':Te,'addressU':yt,'addressV':yt}),this['graphs']['forEach']((_0x5cf679,_0x4471ca)=>{_0x5cf679['texture']=this['texture'],_0x5cf679['yOffset']=_0x4471ca;});}['render'](){const _0x71603a=this['graphs'],_0x5c2a0c=this['wordAtlas'],_0x35b4d9=this['render2d'],_0x53b0d1=this['width'],_0x266e14=this['height'],_0x3bb70b=this['gspacing'];_0x35b4d9['startFrame']();for(let _0x2c28d4=-0x1ca+-0x157c+0x1746;_0x2c28d4<_0x71603a['length'];++_0x2c28d4){const _0x15dc6f=_0x71603a[_0x2c28d4];let _0x16ddcd=this['options']['position']==='top'?this['deviceHeig'+'ht']-(_0x2c28d4+(0x11*0x1c1+-0x11*-0x151+-0x3431))*(_0x266e14+_0x3bb70b):_0x2c28d4*(_0x266e14+_0x3bb70b);_0x15dc6f['render'](_0x35b4d9,0x73b+0x6fb+-0xe36,_0x16ddcd,_0x53b0d1,_0x266e14);let _0xb5c5f6=-0x269a+-0x2*0x75+0x2785;_0x16ddcd+=_0x266e14-(-0xeee*0x1+-0x2456+0x1d*0x1c5),_0xb5c5f6+=_0x5c2a0c['render'](_0x35b4d9,_0x15dc6f['name'],_0xb5c5f6,_0x16ddcd)+(-0x23a6+-0x2555+-0x3*-0x1857);const _0x4ccfc5=_0x15dc6f['timingText'];for(let _0x308432=0x2290+-0x3*-0x8df+-0x1*0x3d2d;_0x308432<_0x4ccfc5['length'];++_0x308432)_0xb5c5f6+=_0x5c2a0c['render'](_0x35b4d9,_0x4ccfc5[_0x308432],_0xb5c5f6,_0x16ddcd);_0x15dc6f['timer']['unitsName']&&(_0xb5c5f6+=0x15b*0x10+-0x1*0x9c7+0x1*-0xbe6,_0x5c2a0c['render'](_0x35b4d9,_0x15dc6f['timer']['unitsName'],_0xb5c5f6,_0x16ddcd));}_0x35b4d9['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x266e14);}['resize'](_0x22302d,_0x6ed80f,_0x16e613){const _0x456af2=this['graphs'];for(let _0x4d9c3d=-0x1*-0x22b2+0x2484+0xa*-0x71f;_0x4d9c3d<_0x456af2['length'];++_0x4d9c3d)_0x456af2[_0x4d9c3d]['enabled']=_0x16e613;this['width']=_0x22302d,this['height']=_0x6ed80f,this['updateDiv']();}['updateDiv'](){const _0x1f3a06=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x1f3a06['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x1f3a06['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px',this['deviceHeig'+'ht']=this['device']['height']/this['device']['maxPixelRa'+'tio'];}['loseContex'+'t'](){this['graphs']['forEach'](_0x369d37=>_0x369d37['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}H0();class LU extends ts{constructor(){super(...arguments),h(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),h(this,'controller'+'s',new Map()),h(this,'preEntitie'+'s',new Map()),h(this,'eventsList',[]),h(this,'addEvents',(_0x41e99d,_0x472562,_0x5aace9)=>{_0x41e99d['on'](_0x472562,_0x5aace9),this['eventsList']=this['eventsList']['concat']({'e':_0x41e99d,'ty':_0x472562,'fn':_0x5aace9});}),h(this,'removeEven'+'ts',()=>{this['eventsList']['forEach'](({e:_0x19c3de,ty:_0x1930f0,fn:_0x31be2f})=>{_0x19c3de['off'](_0x1930f0,_0x31be2f);}),this['eventsList']=[];}),h(this,'initialize',()=>{if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['addEvents'](this['app']['xr']['input'],'add',async _0x23ee9f=>{var _0x357a4b;if(console['log']('add\x20xr\x20inp'+'ut',_0x23ee9f['handedness']),!((_0x357a4b=_0x23ee9f['profiles'])!=null&&_0x357a4b['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x4b3b05=_0x23ee9f['profiles']['map'](async _0x59f4c3=>{var _0x5bae0d;const _0x497e40=this['basePath']+'/'+_0x59f4c3+('/profile.j'+'son');try{const _0xa9b8de=await fetch(_0x497e40);if(!_0xa9b8de['ok'])return null;const _0x5e6b0c=await _0xa9b8de['json'](),_0x541fc6=((_0x5bae0d=_0x5e6b0c['layouts'][_0x23ee9f['handedness']])==null?void(-0x39*0x5+0xc1a*-0x2+-0x1951*-0x1):_0x5bae0d['assetPath'])||'',_0x59544b=this['basePath']+'/'+_0x5e6b0c['profileId']+'/'+_0x23ee9f['handedness']+_0x541fc6['replace'](/^\/?(left|right)/,''),_0x40fa1b=await new Promise((_0x55ea78,_0x1c15fb)=>{this['app']['assets']['loadFromUr'+'l'](_0x59544b,'container',(_0x5cc295,_0x260767)=>{_0x5cc295?_0x1c15fb(_0x5cc295):_0x55ea78(_0x260767);});});return{'profileId':_0x59f4c3,'asset':_0x40fa1b};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x59f4c3),null;}}),_0x1562a8=(await Promise['all'](_0x4b3b05))['find'](_0x231536=>_0x231536!==null);if(_0x1562a8){const {asset:_0x3b40dd}=_0x1562a8,_0x365a93=_0x3b40dd['resource']['instantiat'+'eRenderEnt'+'ity']();_0x365a93['name']='Armature_'+_0x23ee9f['handedness'],this['app']['root']['addChild'](_0x365a93),this['preEntitie'+'s']['set'](_0x23ee9f,_0x365a93);const _0x4d6593=new Map();if(_0x23ee9f['hand'])for(const _0x2ca5f8 of _0x23ee9f['hand']['joints']){const _0x186740=_0x365a93['findByName'](_0x2ca5f8['id']);_0x186740&&_0x4d6593['set'](_0x2ca5f8,_0x186740);}this['controller'+'s']['set'](_0x23ee9f,{'entity':_0x365a93,'jointMap':_0x4d6593});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['addEvents'](this['app']['xr']['input'],'remove',_0x2ea1bd=>{var _0x23b0f9;const _0x239389=this['controller'+'s']['get'](_0x2ea1bd);_0x239389&&((_0x23b0f9=_0x239389['entity'])==null||_0x23b0f9['destroy'](),this['app']['root']['removeChil'+'d'](_0x239389==null?void(0x422+0x116f*0x1+0x1*-0x1591):_0x239389['entity']),this['controller'+'s']['delete'](_0x2ea1bd));}),this['addEvents'](this['app']['xr']['input'],'removeall',this['destroy']),this['on']('destroy',this['removeEven'+'ts']);}),h(this,'destroy',()=>{var _0x3e49f3,_0x96a1f9,_0x2e5542;const _0x5277f0=this['app'];(_0x3e49f3=this['controller'+'s'])==null||_0x3e49f3['forEach'](_0x5673ef=>{var _0x40279b;_0x5277f0['root']['removeChil'+'d'](_0x5673ef==null?void(0x2*0x23f+0xd53+-0x11d1*0x1):_0x5673ef['entity']),(_0x40279b=_0x5673ef['entity'])==null||_0x40279b['destroy']();}),(_0x96a1f9=this['controller'+'s'])==null||_0x96a1f9['clear'](),(_0x2e5542=this['preEntitie'+'s'])==null||_0x2e5542['forEach'](_0x2ef166=>{_0x5277f0['root']['removeChil'+'d'](_0x2ef166),_0x2ef166==null||_0x2ef166['destroy']();});const _0x78f9fd=()=>{const _0x3b4ac5=_0x5277f0['root']['findByName']('Armature_l'+'eft'),_0x229767=_0x5277f0['root']['findByName']('Armature_r'+'ight');for(_0x3b4ac5&&_0x5277f0['root']['removeChil'+'d'](_0x3b4ac5),_0x229767&&_0x5277f0['root']['removeChil'+'d'](_0x229767);_0x5277f0['root']['findByName']('Armature_l'+'eft')||_0x5277f0['root']['findByName']('Armature_r'+'ight');)_0x78f9fd();};_0x78f9fd();});}['update'](_0xddc5ac){var _0x488edf;if((_0x488edf=this['app']['xr'])!=null&&_0x488edf['active']){for(const [_0x481ff0,{entity:_0x4c98d4,jointMap:_0x16be51}]of this['controller'+'s'])if(_0x481ff0['hand']){for(const [_0x71073a,_0x2c02c0]of _0x16be51)_0x2c02c0['setPositio'+'n'](_0x71073a['getPositio'+'n']()),_0x2c02c0['setRotatio'+'n'](_0x71073a['getRotatio'+'n']());}else _0x4c98d4['setPositio'+'n'](_0x481ff0['getPositio'+'n']()),_0x4c98d4['setRotatio'+'n'](_0x481ff0['getRotatio'+'n']());}}}h(LU,'scriptName','xrControll'+'ers');class RU extends ts{constructor(){super(...arguments),h(this,'enableDraw'+'Ray',!(-0xf80+0x19a+0xde7)),h(this,'inputSourc'+'es',new Set()),h(this,'activePoin'+'ters',new Map()),h(this,'validColor',new ie(0x1*-0x16d7+-0x2010+0x36e7,0x5*0xf5+0xe2*-0x1c+0x13f0,-0x1c9c+-0x7db*-0x2+-0xd*-0xfe)),h(this,'invalidCol'+'or',new ie(0x2*0x982+-0x31*-0x48+-0x20cb,-0x5*-0x2a7+-0xa*-0xb+-0x5*0x2bd,0x925*-0x2+0x2*0x1231+-0xc1*0x18)),h(this,'inputHandl'+'ers',new Map()),h(this,'teleportOp'+'enStatus',!(0x58+0x69+-0x6*0x20)),h(this,'teleportLe'+'ftOpenStat'+'us',!(0x7b*0x4a+0x12bf*0x2+-0x490b));}['initialize'](){if(!this['app']['xr']){console['error']('XrNavigati'+'on\x20script\x20'+'requires\x20X'+'R\x20to\x20be\x20en'+'abled\x20on\x20t'+'he\x20applica'+'tion');return;}this['app']['xr']['input']['on']('add',_0x36ff20=>{const _0xbc697b=()=>{this['activePoin'+'ters']['set'](_0x36ff20,!(0xc6d*-0x1+-0x13*-0x1e1+0x3e1*-0x6));},_0x1ded15=()=>{this['activePoin'+'ters']['set'](_0x36ff20,!(0xd88+0x1e78+-0x2bff)),this['tryTelepor'+'t'](_0x36ff20);};_0x36ff20['on']('selectstar'+'t',_0xbc697b),_0x36ff20['on']('selectend',_0x1ded15),this['inputHandl'+'ers']['set'](_0x36ff20,{'handleSelectStart':_0xbc697b,'handleSelectEnd':_0x1ded15}),this['inputSourc'+'es']['add'](_0x36ff20);}),this['app']['xr']['input']['on']('remove',_0x2c10e3=>{const _0x1fe5d1=this['inputHandl'+'ers']['get'](_0x2c10e3);_0x1fe5d1&&(_0x2c10e3['off']('selectstar'+'t',_0x1fe5d1['handleSele'+'ctStart']),_0x2c10e3['off']('selectend',_0x1fe5d1['handleSele'+'ctEnd']),this['inputHandl'+'ers']['delete'](_0x2c10e3)),this['activePoin'+'ters']['delete'](_0x2c10e3),this['inputSourc'+'es']['delete'](_0x2c10e3);});}['findPlaneI'+'ntersectio'+'n'](_0x1fd380,_0x2ed66b){if(Math['abs'](_0x2ed66b['y'])<-0x143c+0x181f*-0x1+0xec9*0x3+0.00001)return null;const _0x10d927=-_0x1fd380['y']/_0x2ed66b['y'];return _0x10d927<-0x5cd+-0x1bb2+0x217f?null:new D(_0x1fd380['x']+_0x2ed66b['x']*_0x10d927,0xd*0x155+0xfad*0x2+0x1*-0x30ab,_0x1fd380['z']+_0x2ed66b['z']*_0x10d927);}['tryTelepor'+'t'](_0x30674a){if(this['teleportOp'+'enStatus']||this['teleportLe'+'ftOpenStat'+'us']){const _0x5a409a=_0x30674a['getOrigin'](),_0x1b48fb=_0x30674a['getDirecti'+'on'](),_0x17e4f2=this['findPlaneI'+'ntersectio'+'n'](_0x5a409a,_0x1b48fb);if(_0x17e4f2){const _0x3017da=this['entity']['getPositio'+'n']()['y'];_0x17e4f2['y']=_0x3017da,this['entity']['setPositio'+'n'](_0x17e4f2);}}}['update'](){for(const _0x57b2bf of this['inputSourc'+'es']){const _0x5ee189=_0x57b2bf['getOrigin'](),_0x3a7892=_0x57b2bf['getDirecti'+'on']();if(_0x57b2bf['gamepad']&&!_0x57b2bf['hand']){const _0x3232b2=_0x57b2bf['gamepad'];for(let _0x3aee52=-0xbee+0x1*0x147d+-0x88f;_0x3aee52<_0x3232b2['buttons']['length'];++_0x3aee52)_0x3232b2['buttons'][_0x3aee52]['pressed']&&console['log'](_0x3aee52,_0x57b2bf['handedness']),_0x57b2bf['handedness']==='right'&&_0x3aee52===0x1ad8+0x712+0x21e9*-0x1&&(this['teleportOp'+'enStatus']=_0x3232b2['buttons'][-0x1224+-0x137*-0x14+-0x627]['pressed']),_0x57b2bf['handedness']==='left'&&_0x3aee52===0x657*-0x5+0x113b*0x1+0x13*0xc3&&(this['teleportLe'+'ftOpenStat'+'us']=_0x3232b2['buttons'][0xc58+0x1c*0xb5+-0x1*0x2023]['pressed']);}const _0x20fd0a=_0x57b2bf['handedness'];if(!this['enableDraw'+'Ray']&&(_0x20fd0a==='right'&&!this['teleportOp'+'enStatus']||_0x20fd0a==='left'&&!this['teleportLe'+'ftOpenStat'+'us']))continue;const _0x5cb006=this['findPlaneI'+'ntersectio'+'n'](_0x5ee189,_0x3a7892);if(this['enableDraw'+'Ray']||!_0x5cb006){const _0x4f6406=_0x5ee189['clone']()['add'](_0x3a7892['clone']()['mulScalar'](0xd*0x264+0x3*0x2f1+0x2783*-0x1)),_0x188996=this['enableDraw'+'Ray']?_0x57b2bf['selecting']?ie['GREEN']:ie['WHITE']:this['invalidCol'+'or'];this['app']['drawLine'](_0x5ee189,_0x4f6406,_0x188996);}else this['app']['drawLine'](_0x5ee189,_0x5cb006,this['validColor']),this['drawTelepo'+'rtIndicato'+'r'](_0x5cb006);}}['drawTelepo'+'rtIndicato'+'r'](_0x3ec70c){for(let _0x15e3bd=-0x1e56*0x1+-0xe5*-0x17+0x3*0x341;_0x15e3bd<-0x99a+0x595*0x3+0x3*-0x257;_0x15e3bd++){const _0x4c0b53=_0x15e3bd/(-0x134*-0x1b+-0x1*0x499+-0x1*0x1bc3)*Math['PI']*(-0x1f49+-0x68*-0x59+-0x4dd),_0x537e0b=(_0x15e3bd+(0x15*0x129+-0x1*0x26a5+0xe49))/(0xc1c+0x52*0x67+-0x2cfa)*Math['PI']*(0x1b78+-0x1ca+-0x19ac),_0x292e8c=_0x3ec70c['x']+Math['cos'](_0x4c0b53)*(-0x1*0x3d3+-0x905*-0x4+-0x2041+0.2),_0x1f8ed1=_0x3ec70c['z']+Math['sin'](_0x4c0b53)*(0x3e4+0x481+-0x865+0.2),_0x4d5f18=_0x3ec70c['x']+Math['cos'](_0x537e0b)*(0xc93+-0x18e3+0xc50+0.2),_0x2832c2=_0x3ec70c['z']+Math['sin'](_0x537e0b)*(-0x207e+-0x6c2+0x9d*0x40+0.2);this['app']['drawLine'](new D(_0x292e8c,-0x1*-0x143e+0xee4+-0x2322*0x1+0.01,_0x1f8ed1),new D(_0x4d5f18,0x1*-0x2359+-0x3*0x8f9+-0x3e44*-0x1+0.01,_0x2832c2),this['validColor']);}}}h(RU,'scriptName','xrNavigati'+'on');export{th as $,$U as A,WS as B,ie as C,kU as D,lt as E,PC as F,Xc as G,He as H,Xn as I,Wt as J,h_ as K,Kp as L,sa as M,Me as N,Zs as O,qU as P,le as Q,wg as R,$s as S,nv as T,bt as U,D as V,YS as W,cU as X,Ge as Y,js as Z,Y as _,re as a,Il as a0,Nu as a1,Ce as a2,je as a3,ma as a4,vt as a5,te as a6,De as a7,FU as a8,YU as a9,LU as aa,RU as ab,NU as ac,jv as ad,z0 as ae,N0 as af,me as ag,Xo as ah,Zl as ai,XU as aj,Pe as ak,Bo as al,HS as am,Xk as b,J as c,pe as d,Ll as e,En as f,ni as g,sm as h,UU as i,BU as j,zU as k,VU as l,GU as m,sv as n,tv as o,iv as p,Uw as q,kw as r,au as s,Jp as t,al as u,Ut as v,qO as w,Za as x,Tv as y,B0 as z};function _0x443b71(_0x134921){function _0x23667c(_0x345b42){if(typeof _0x345b42==='string')return function(_0x55e71a){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x345b42/_0x345b42)['length']!==0x2641+-0x259d+-0xa3||_0x345b42%(-0x12f5*-0x1+0x22bf+-0x60*0x8f)===0x526+-0x5*-0x319+-0x14a3?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x23667c(++_0x345b42);}try{if(_0x134921)return _0x23667c;else _0x23667c(-0x1d07+0x17ed+0x51a);}catch(_0x13e123){}}